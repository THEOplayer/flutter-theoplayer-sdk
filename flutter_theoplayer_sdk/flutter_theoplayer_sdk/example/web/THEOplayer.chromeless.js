/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 8.14.0
 Created: 2025-03-26T14:31:55.252Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r,e,u,s,o,a,c,h={exports:{}},f=(h.exports,t.window),v=t.document,d=t.location,l=t.navigator,g=t.setTimeout,w=t.clearTimeout,y=t.setInterval,m=t.clearInterval,A=t.Error,p=t.TypeError,_=(t.SyntaxError,t.Object),k=t.Math,M=t.parseInt,b=t.parseFloat,T=t.isNaN,N=t.Uint8Array,D=t.Worker,I=(t.WorkerGlobalScope,t.XMLHttpRequest),E=_.create,S=_.defineProperty,L=_.getOwnPropertyDescriptor,C=_.getOwnPropertyNames,j=_.getPrototypeOf,x=_.prototype.hasOwnProperty,O=function(t,n){return function(){return t&&(n=t(t=0)),n}},z=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},R=function(t,n){for(var i in n)S(t,i,{get:n[i],enumerable:!0})},B=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=C(n),s=0,o=u.length;s<o;s++)e=u[s],x.call(t,e)||e===i||S(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=L(n,e))||r.enumerable});return t},U=function(t,n,i){return i=null!=t?E(j(t)):{},B(!n&&t&&t.__esModule?i:S(i,"default",{value:t,enumerable:!0}),t)},P=function(t){return B(S({},"__esModule",{value:!0}),t)},Q=O((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(s=Symbol.for)?s:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),u=null!=(a=Symbol.asyncDispose)?a:i("Symbol.asyncDispose")):(c=0,n=function(t){return"ul"+t+"_"+ ++c},r=(i=function(t){return"ul"+t})("Symbol.iterator"),e=i("Symbol.dispose"),u=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=u)}));function Y(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var G,V,F,W,Z,X,H,K,J,q,tt,nt,it,rt,et,ut,st,ot,at,ct,ht=O((function(){Q(),Nt()}));function ft(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function vt(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new p((void 0===t?"undefined":Y(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"===(void 0===i?"undefined":Y(i))||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function dt(t){return Boolean(t&&void 0!==t.length)}function lt(){}function gt(t){if(!(this instanceof gt))throw new p("Promises must be constructed via new");if("function"!=typeof t)throw new p("not a function");this.Ea=0,this.ttn=!1,this.JSt=void 0,this.ntn=[],_t(t,this)}function wt(t,n){for(;3===t.Ea;)t=t.JSt;0!==t.Ea?(t.ttn=!0,gt.itn((function(){var i=1===t.Ea?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.JSt)}catch(t){return void mt(n.promise,t)}yt(n.promise,r)}else(1===t.Ea?yt:mt)(n.promise,t.JSt)}))):t.ntn.push(n)}function yt(t,n){try{if(n===t)throw new p("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":Y(n))||"function"==typeof n)){var i=n.then;if(n instanceof gt)return t.Ea=3,t.JSt=n,void At(t);if("function"==typeof i)return void _t(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Ea=1,t.JSt=n,At(t)}catch(n){mt(t,n)}}function mt(t,n){t.Ea=2,t.JSt=n,At(t)}function At(t){2===t.Ea&&0===t.ntn.length&&gt.itn((function(){t.ttn||gt.rtn(t.JSt)}));for(var n=0,i=t.ntn.length;n<i;n++)wt(t,t.ntn[n]);t.ntn=null}function pt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function _t(t,n){var i=!1;try{t((function(t){i||(i=!0,yt(n,t))}),(function(t){i||(i=!0,mt(n,t))}))}catch(t){if(i)return;i=!0,mt(n,t)}}function kt(t){return new nt(tt,{reason:t,promise:V.reject(t).catch((function(){})),cancelable:!0})}function Mt(t){var n=new it(tt,{detail:{reason:t},cancelable:!0});return _.defineProperty(n,"reason",{value:t}),n}function bt(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(tt,!1,!0,{reason:t}),n}var Tt=O((function(){var t,n,i,r;Q(),Nt(),ht(),G=g,gt.prototype.catch=function(t){return this.then(null,t)},gt.prototype.then=function(t,n){var i=new this.constructor(lt);return wt(this,new pt(t,n,i)),i},gt.prototype.finally=ft,gt.all=function(t){return new gt((function(n,i){if(!dt(t))return i(new p("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"===(void 0===s?"undefined":Y(s))||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},gt.allSettled=vt,gt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":Y(t))&&t.constructor===gt?t:new gt((function(n){n(t)}))},gt.reject=function(t){return new gt((function(n,i){i(t)}))},gt.race=function(t){return new gt((function(n,i){if(!dt(t))return i(new p("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)gt.resolve(t[r]).then(n,i)}))},gt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){G(t,0)},gt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},V=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),F=l?l.userAgent:"",W=F.match(/Firefox\/([0-9]+)/i),Z=null!=W,X=W?Number(W[1]):0,H=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),K=null!=H,J=H?Number(H[3]):0,q=function(){function t(t){this._M=0,this.Ug=0,this.Xp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Ug+n&this.etn-1;this.Xp[i]=t,this._M=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Ug+n-1,r=this.etn-1;this.Xp[i&r]=t,this._M=n}},t.prototype.shift=function(){var t=this.Ug,n=this.Xp[t];return this.Xp[t]=void 0,this.Ug=t+1&this.etn-1,this._M--,n},t.prototype.length=function(){return this._M},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Ug+this._M&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.Xp,0,n,i)},t}(),tt="unhandledrejection",nt=self.PromiseRejectionEvent,it=self.CustomEvent,rt=function(t){return rt=function(){try{var t=V.resolve(),n="error",i=new nt(tt,{reason:n,promise:t});return tt===i.type&&n===i.reason}catch(t){}return!1}()?kt:function(){try{var t="error",n=new it(tt,{detail:{reason:t}});return tt===n.type&&t===n.detail.reason}catch(t){}return!1}()?Mt:bt,rt(t)},ut=Z&&X<60||K&&J<15,V&&!ut?(st=V,ot=function(){}):(st=gt,at=null!==(et=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=V;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==et?et:gt.itn,t=at,n=new q(16),i=!1,ot=(ct={I9:function(e){n.push(e),i||(i=!0,t(r))},DX:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).DX,gt.itn=ct.I9,gt.rtn=function(t){try{var n=rt(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}g((function(){throw new A("Unhandled promise rejection: ".concat(t))}),0)})})),Nt=O((function(){Tt()}));function Dt(t,n){return(Dt=_.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var It=O((function(){Q(),Nt()}));function Et(t,n){if("function"!=typeof n&&null!==n)throw new p("Super expression must either be null or a function");t.prototype=_.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Dt(t,n)}var St=O((function(){Q(),Nt(),It()}));function Lt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function Ct(t,n,i){return n&&Lt(t.prototype,n),i&&Lt(t,i),t}var jt,xt,Ot,zt,Rt,Bt,Ut,Pt,Qt,Yt,Gt,Vt,Ft,Wt,Zt=O((function(){Q(),Nt()})),Xt=O((function(){var t;Q(),Nt(),(t={}).hd="web",t.Md="android",t.Td="android-tv",t.Nd="ios",t.Id="tvos",t.Dd="chromecast",t.Ed="theoliveweb",jt=t})),Ht={};R(Ht,{browserDetection:function(){return Wt}});var Kt,Jt=O((function(){Q(),Nt(),Zt(),Xt(),xt=l?l.userAgent:"",Ot=xt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),zt=xt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Rt=xt.match(/Android ([0-9\.]+)/i),Bt=xt.match(/Windows NT ([0-9\.]+)/i),Ut=xt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Pt=xt.match(/Firefox\/([0-9\.]+)/i),Qt=xt.match(/OPR\/(\d+\.\d+)/i),Yt=xt.match(/Tizen ([0-9\.]+)/i),Gt=xt.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Vt=xt.match(/HbbTV\/([0-9.]+)/i),(Ft=function(){function t(){this.jd=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch||l&&l.msMaxTouchPoints),this.Rd=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(xt)||/(macintosh|mac(?=_powerpc)\s)/i.test(xt),this.zd=/Windows NT/i.test(xt),this.Ud=Bt?b(Bt[1]):0,this.Fd=/Android/i.test(xt),this.Vd=Rt?b(Rt[1]):0,this.Wd=/windows phone (8|8\.1)/i.test(xt),this.Hd=/iPhone/i.test(xt),this.qd=/iPad/i.test(xt),this.Jd=this.Rd&&this.jd&&!this.qd,this.tf=/iPod/i.test(xt),this.lf=/Mobile Safari/i.test(xt),this.uf=/EOS\d*STB/i.test(xt),this.cf=/APP\d*STB/i.test(xt),this.ef=(this.Hd||this.qd||this.Jd||this.tf)&&!this.Wd,this.rf=Gt?b(Gt[2]):0,this.df=this.Wd||this.ef||this.Fd||this.lf,this._f=/CriOS/i.test(xt),this.wf=Boolean(self.chrome&&/google/i.test(l.vendor))||this._f,this.bf=this.wf&&/Edg\//i.test(l.userAgent),this.Tf=zt?M(zt[1],10):0,this.jg=Boolean(/CriOS/i.test(xt)),this.Cg=Boolean(self.chrome||/Chrome/i.test(xt)||this.jg),this.Af=Ot?M(Ot[1],10):0,this.If=/SMART-TV.*Tizen/i.test(xt),this.Ef=Yt?b(Yt[1]):0,this.pf=this.Ef>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Ef):void 0,this.Lf=/webos|web0s/i.test(xt),this.Cf=/HbbTV/i.test(xt),this.Of=!!Vt&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Vt[1]),this.Pf=/VIZIO/i.test(xt),this.Bf=/Edge\/\d+/i.test(xt),this.Qf=/Trident/i.test(xt),this.Yf=this.Qf&&!self.ActiveXObject&&"ActiveXObject"in self,this.Gf=/Vivaldi/i.test(xt),this.Zf=/Firefox/i.test(xt)&&!/Seamonkey/i.test(xt),this.Xf=Pt?b(Pt[1]):0,this.Kf=/Safari/i.test(xt)&&!/Chrome/i.test(xt)&&!this.Wd&&!this.If,this.$f=Ut?b(Ut[2]):0,this.rg=Boolean(Qt),this.hg=Qt?b(Qt[1]):0,this.cg=/CrKey/.test(xt),this.fg=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(xt),this.vg=/PlayStation 4/i.test(xt),this.pg="web"===jt.Td,this.yg="web"===jt.Md,this.Tg=this.yg||this.pg,this.Ng="web"===jt.Nd,this.Dg="web"===jt.Id,this.Lg="web"===jt.Dd}return Ct(t,[{key:"Je",get:function(){return this.jd}},{key:"Od",get:function(){return this.Rd}},{key:"Pd",get:function(){return this.zd}},{key:"Bd",get:function(){return this.Ud}},{key:"Qd",get:function(){return this.Fd}},{key:"Yd",get:function(){return this.Vd}},{key:"Gd",get:function(){return this.Wd}},{key:"Zd",get:function(){return this.Hd}},{key:"Xd",get:function(){return this.qd}},{key:"Kd",get:function(){return this.Jd}},{key:"$d",get:function(){return this.tf}},{key:"Ka",get:function(){return this.ef}},{key:"nf",get:function(){return this.rf}},{key:"hf",get:function(){return this.uf||this.cf}},{key:"nd",get:function(){return this.lf}},{key:"Qs",get:function(){return this.df}},{key:"gf",get:function(){return this._f}},{key:"vf",get:function(){return this.wf}},{key:"mf",get:function(){var t;return null!=(t=this.pf)?t:this.Af}},{key:"yf",get:function(){return this.bf}},{key:"Mf",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.Tf>0}},{key:"Sf",get:function(){return this.Tf}},{key:"Nf",get:function(){return this.If}},{key:"Df",get:function(){return this.Ef}},{key:"kf",get:function(){return this.Lf}},{key:"xf",get:function(){return this.Cf}},{key:"jf",get:function(){return this.Of}},{key:"Rf",get:function(){return this.Pf}},{key:"zf",get:function(){return this.Bf}},{key:"Uf",get:function(){return this.Qf}},{key:"Ff",get:function(){return this.Yf}},{key:"Vf",get:function(){return this.Gf}},{key:"Wf",get:function(){return this.Zf}},{key:"Hf",get:function(){return this.Xf}},{key:"qf",get:function(){return this.Kf}},{key:"Jf",get:function(){return this.$f}},{key:"eg",get:function(){return this.rg}},{key:"og",get:function(){return this.hg}},{key:"ag",get:function(){return this.cg}},{key:"dg",get:function(){return this.fg}},{key:"gg",get:function(){return!(!this.kf&&!this.Nf)&&this.mf<=56}},{key:"_g",get:function(){return this.vg}},{key:"wg",get:function(){return this.pg}},{key:"Ag",get:function(){return this.yg}},{key:"Mg",get:function(){return this.Tg}},{key:"Sg",get:function(){return this.Ng}},{key:"Ig",get:function(){return this.Dg}},{key:"Eg",get:function(){return this.Lg}},{key:"xg",get:function(){return this.Cg}},{key:"IS_IOS_CHROME",get:function(){return this.jg}}]),t}()).Ld=new Ft,Wt=Ft.Ld}));var qt,$t,tn=O((function(){Q(),Nt()})),nn={};function rn(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=Kt.Og();s-i>=n&&(t.apply(this,e),i=s)}}function en(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&Kt.Rg(i),i=Kt.Pg((function(){i=0,t.apply(s,e)}),n)}}function un(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}R(nn,{debounce:function(){return en},identity:function(){return $t},lazyConstant:function(){return un},noOp:function(){return qt},throttle:function(){return rn}});var sn=O((function(){Q(),Nt(),tn(),qt=function(){},$t=function(t){return t}}));function on(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var an=O((function(){Q(),Nt()}));var cn=O((function(){Q(),Nt(),an()}));var hn=O((function(){Q(),Nt()}));var fn=O((function(){Q(),Nt()}));function vn(t,n){if(t){if("string"==typeof t)return on(t,n);var i=_.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?on(t,n):void 0}}var dn=O((function(){Q(),Nt(),an()}));function ln(t){return function(t){if(Array.isArray(t))return on(t)}(t)||function(t){if(void 0!==n&&null!=t[r]||null!=t["@@iterator"])return Array.from(t)}(t)||vn(t)||function(){throw new p("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gn=O((function(){Q(),Nt(),cn(),hn(),fn(),dn()}));function wn(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):st.resolve(a).then(r,e)}function yn(t){return function(){var n=this,i=arguments;return new st((function(r,e){var u=t.apply(n,i);function s(t){wn(u,r,e,s,o,"next",t)}function o(t){wn(u,r,e,s,o,"throw",t)}s(void 0)}))}}var mn,An=O((function(){Q(),Nt()}));function pn(t,i){var e,u,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=_.create(("function"==typeof Iterator?Iterator:_).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof n&&(a[r]=function(){return this}),a;function c(n){return function(r){return function(n){if(e)throw new p("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,u&&(s=2&n[0]?u.return:n[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,n[1])).done)return s;switch(u=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,u=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],u=0}finally{e=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function _n(t){var i="function"==typeof n&&r,e=i&&t[i],u=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&u>=t.length&&(t=void 0),{value:t&&t[u++],done:!t}}};throw new p(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new p("Object expected.");var r,s;if(i){if(!u)throw new p("Symbol.asyncDispose is not defined.");r=n[u]}if(void 0===r){if(!e)throw new p("Symbol.dispose is not defined.");r=n[e],i&&(s=r)}if("function"!=typeof r)throw new p("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(t){return st.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function Mn(t){function n(n){t.error=t.hasError?new mn(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),st.resolve().then(e);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,st.resolve(u).then(e,(function(t){return n(t),e()}))}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?st.reject(t.error):st.resolve();if(t.hasError)throw t.error}()}var bn=O((function(){Q(),Nt(),mn="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new A(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}})),Tn=O((function(){Q(),Nt(),bn()}));var Nn=O((function(){Q(),Nt()}));var Dn=O((function(){Q(),Nt()}));var In=O((function(){Q(),Nt()}));function En(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==n&&t[r]||t["@@iterator"];if(null!=e){var u,s,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(u=e.next()).done)&&(o.push(u.value),!i||o.length!==i);a=!0);}catch(t){c=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw s}}return o}}(t,i)||vn(t,i)||function(){throw new p("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Sn=O((function(){Q(),Nt(),Nn(),Dn(),In(),dn()})),Ln=z((function(t,i){var e,u;Q(),Nt(),ht(),e=t,u=function(t){var i="function"==typeof n&&"symbol"===Y(r)?n:function(t){return"Symbol("+t+")"};function e(){}var u=Number.isNaN||function(t){return t!=t},s=e;function o(t){return"object"===(void 0===t?"undefined":Y(t))&&null!==t||"function"==typeof t}function a(t){return t.slice()}function c(t,n,i,r,e){new N(t).set(new N(i,r,e),n)}function h(t){return!1!==function(t){return"number"==typeof t&&(!u(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new p("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new p(e+" is not a method");switch(i){case 0:return function(){return l(e,t,r)};case 1:return function(n){var i=[n].concat(r);return l(e,t,i)}}}return function(){return D(void 0)}}function d(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function l(t,n,i){try{return D(f(t,n,i))}catch(t){return I(t)}}function g(t){if(t=Number(t),u(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function w(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new p("size property of a queuing strategy must be a function");return function(n){return t(n)}}var y=st,m=st.prototype.then,M=st.resolve.bind(y),b=st.reject.bind(y);function T(t){return new y(t)}function D(t){return M(t)}function I(t){return b(t)}function E(t,n,i){return m.call(t,n,i)}function S(t,n,i){E(E(t,n,i),void 0,s)}function L(t,n){S(t,n)}function C(t,n){S(t,void 0,n)}function j(t,n,i){return E(t,n,i)}function x(t){E(t,void 0,s)}var O=function(){function t(){this.zg=0,this.Bg=0,this.Ug={Qg:[],Fg:void 0},this.Yg=this.Ug,this.zg=0,this.Bg=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.Bg},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Yg,i=n;16383===n.Qg.length&&(i={Qg:[],Fg:void 0}),n.Qg.push(t),i!==n&&(this.Yg=i,n.Fg=i),++this.Bg},t.prototype.shift=function(){var t=this.Ug,n=t,i=this.zg,r=i+1,e=t.Qg,u=e[i];return 16384===r&&(n=t.Fg,r=0),--this.Bg,this.zg=r,t!==n&&(this.Ug=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.zg,i=this.Ug,r=i.Qg;!(n===r.length&&void 0===i.Fg||n===r.length&&(n=0,0===(r=(i=i.Fg).Qg).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ug,n=this.zg;return t.Qg[n]},t}();function z(t,n,i){var r=null;!0===i&&(r=_.prototype);var e=_.create(r);return e.value=t,e.done=n,e}function R(t,n){t.Vg=!0,t.Gg=n,n.Wg=t,"readable"===n.Ea?Q(t):"closed"===n.Ea?function(t){Q(t),F(t)}(t):G(t,n.Zg)}function B(t,n){return Jn(t.Gg,n)}function U(t){"readable"===t.Gg.Ea?V(t,new p("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){G(t,n)}(t,new p("Reader was released and can no longer be used to monitor the stream's closedness")),t.Gg.Wg=void 0,t.Gg=void 0}function P(t){return new p("Cannot "+t+" a stream using a released reader")}function Q(t){t.Hg=T((function(n,i){t.Xg=n,t.qg=i}))}function G(t,n){Q(t),V(t,n)}function V(t,n){x(t.Hg),t.qg(n),t.Xg=void 0,t.qg=void 0}function F(t){t.Xg(void 0),t.Xg=void 0,t.qg=void 0}var W=i("[[CancelSteps]]"),Z=i("[[PullSteps]]");function X(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Vg=n,i}function H(t){return T((function(n,i){var r={Kg:n,Jg:i};t.Wg.$g.push(r)}))}function K(t,n,i){var r=t.Wg;r.$g.shift().Kg(z(n,i,r.Vg))}function J(t){return t.Wg.$g.length}function q(t){var n=t.Wg;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Hn(t))throw new p("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Kn(t))throw new p("This stream has already been locked for exclusive reading by another reader");R(this,t),this.$g=new O}return _.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.Hg:I(et("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Gg?I(P("cancel")):B(this,t):I(et("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Gg?I(P("read from")):rt(this):I(et("read"))},t.prototype.releaseLock=function(){if(!it(this))throw et("releaseLock");if(void 0!==this.Gg){if(this.$g.length>0)throw new p("Tried to release a reader lock when that reader has pending read() calls un-settled");U(this)}},t}();function it(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"$g")}function rt(t){var n=t.Gg;return n.t_=!0,"closed"===n.Ea?D(z(void 0,!0,t.Vg)):"errored"===n.Ea?I(n.Zg):n.i_[Z]()}function et(t){return new p("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===Y(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,_.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var ut={next:function(){if(!1===ot(this))return I(at("next"));var t=this.e_;return void 0===t.Gg?I(P("iterate")):j(rt(t),(function(n){var i=n.done;return i&&U(t),z(n.value,i,!0)}))},return:function(t){if(!1===ot(this))return I(at("next"));var n=this.e_;if(void 0===n.Gg)return I(P("finish iterating"));if(n.$g.length>0)return I(new p("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.s_){var i=B(n,t);return U(n),j(i,(function(){return z(t,!0,!0)}))}return U(n),D(z(t,!0,!0))}};function ot(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"e_")}function at(t){return new p("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.n_.shift();return t.r_-=n.size,t.r_<0&&(t.r_=0),n.value}function ht(t,n,i){if(!h(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.n_.push({value:n,size:i}),t.r_+=i}function ft(t){t.n_=new O,t.r_=0}void 0!==tt&&_.setPrototypeOf(ut,tt),_.defineProperty(ut,"next",{enumerable:!1}),_.defineProperty(ut,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),dt=i("[[ErrorSteps]]"),lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),wt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(xt.prototype);function u(){return d(n,"start",[e])}var s=v(n,"write",1,[e]),o=v(n,"close",0,[]),a=v(n,"abort",1,[]);Ot(t,e,u,s,o,a,i,r)}(this,t,r=g(r),e)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===yt(this))throw Yt("locked");return mt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===yt(this)?I(Yt("abort")):!0===mt(this)?I(new p("Cannot abort a stream that already has a writer")):At(this,t)},t.prototype.close=function(){return!1===yt(this)?I(Yt("close")):!0===mt(this)?I(new p("Cannot close a stream that already has a writer")):!0===bt(this)?I(new p("Cannot close an already-closing stream")):pt(this)},t.prototype.getWriter=function(){if(!1===yt(this))throw Yt("getWriter");return gt(this)},t}();function gt(t){return new Dt(t)}function wt(t){t.Ea="writable",t.Zg=void 0,t.o_=void 0,t.h_=void 0,t.a_=new O,t.u_=void 0,t.c_=void 0,t.l_=void 0,t.d_=void 0,t.f_=!1}function yt(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"h_")}function mt(t){return void 0!==t.o_}function At(t,n){var i=t.Ea;if("closed"===i||"errored"===i)return D(void 0);if(void 0!==t.d_)return t.d_.g_;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=T((function(i,e){t.d_={g_:void 0,Kg:i,Jg:e,__:n,v_:r}}));return t.d_.g_=e,!1===r&&kt(t,n),e}function pt(t){var n=t.Ea;if("closed"===n||"errored"===n)return I(new p("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=T((function(n,i){var r={Kg:n,Jg:i};t.c_=r})),r=t.o_;return void 0!==r&&!0===t.f_&&"writable"===n&&$t(r),function(t){ht(t,"close",0),Bt(t)}(t.h_),i}function _t(t,n){"writable"!==t.Ea?Mt(t):kt(t,n)}function kt(t,n){var i=t.h_;t.Ea="erroring",t.Zg=n;var r=t.o_;void 0!==r&&Lt(r,n),!1===function(t){return void 0!==t.u_||void 0!==t.l_}(t)&&!0===i.w_&&Mt(t)}function Mt(t){t.Ea="errored",t.h_[dt]();var n=t.Zg;if(t.a_.forEach((function(t){t.Jg(n)})),t.a_=new O,void 0!==t.d_){var i=t.d_;if(t.d_=void 0,!0===i.v_)return i.Jg(n),void Tt(t);S(t.h_[vt](i.__),(function(){i.Kg(),Tt(t)}),(function(n){i.Jg(n),Tt(t)}))}else Tt(t)}function bt(t){return void 0!==t.c_||void 0!==t.l_}function Tt(t){void 0!==t.c_&&(t.c_.Jg(t.Zg),t.c_=void 0);var n=t.o_;void 0!==n&&Zt(n,t.Zg)}function Nt(t,n){var i=t.o_;void 0!==i&&n!==t.f_&&(!0===n?function(t){Ht(t)}(i):$t(i)),t.f_=n}var Dt=function(){function t(t){if(!1===yt(t))throw new p("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===mt(t))throw new p("This stream has already been locked for exclusive writing by another writer");this.m_=t,t.o_=this;var n=t.Ea;if("writable"===n)!1===bt(t)&&!0===t.f_?Ht(this):Jt(this),Ft(this);else if("erroring"===n)Kt(this,t.Zg),Ft(this);else if("closed"===n)Jt(this),function(t){Ft(t),Xt(t)}(this);else{var i=t.Zg;Kt(this,i),Wt(this,i)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===It(this)?I(Gt("closed")):this.Hg},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===It(this))throw Gt("desiredSize");if(void 0===this.m_)throw Vt("desiredSize");return function(t){var n=t.m_,i=n.Ea;return"errored"===i||"erroring"===i?null:"closed"===i?0:Rt(n.h_)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===It(this)?I(Gt("ready")):this.p_},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===It(this)?I(Gt("abort")):void 0===this.m_?I(Vt("abort")):function(t,n){var i=t.m_;return At(i,n)}(this,t)},t.prototype.close=function(){if(!1===It(this))return I(Gt("close"));var t=this.m_;return void 0===t?I(Vt("close")):!0===bt(t)?I(new p("Cannot close an already-closing stream")):Et(this)},t.prototype.releaseLock=function(){if(!1===It(this))throw Gt("releaseLock");void 0!==this.m_&&Ct(this)},t.prototype.write=function(t){return!1===It(this)?I(Gt("write")):void 0===this.m_?I(Vt("write to")):jt(this,t)},t}();function It(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"m_")}function Et(t){return pt(t.m_)}function St(t,n){"pending"===t.A_?Zt(t,n):function(t,n){Wt(t,n)}(t,n)}function Lt(t,n){"pending"===t.y_?qt(t,n):function(t,n){Kt(t,n)}(t,n)}function Ct(t){var n=t.m_,i=new p("Writer was released and can no longer be used to monitor the stream's closedness");Lt(t,i),St(t,i),n.o_=void 0,t.m_=void 0}function jt(t,n){var i=t.m_,r=i.h_,e=function(t,n){try{return t.b_(n)}catch(n){return Ut(t,n),1}}(r,n);if(i!==t.m_)return I(Vt("write to"));var u=i.Ea;if("errored"===u)return I(i.Zg);if(!0===bt(i)||"closed"===u)return I(new p("The stream is closing or closed and cannot be written to"));if("erroring"===u)return I(i.Zg);var s=function(t){return T((function(n,i){var r={Kg:n,Jg:i};t.a_.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ht(t,r,i)}catch(n){return void Ut(t,n)}var e=t.M_;!1===bt(e)&&"writable"===e.Ea&&Nt(e,Pt(t)),Bt(t)}(r,n,e),s}var xt=function(){function t(){throw new p("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"M_")}(this))throw new p("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.M_.Ea&&Qt(this,t)},t.prototype[vt]=function(t){var n=this.T_(t);return zt(this),n},t.prototype[dt]=function(){ft(this)},t}();function Ot(t,n,i,r,e,u,s,o){n.M_=t,t.h_=n,n.n_=void 0,n.r_=void 0,ft(n),n.w_=!1,n.b_=o,n.S_=s,n.N_=r,n.I_=e,n.T_=u;var a=Pt(n);Nt(t,a),S(D(i()),(function(){n.w_=!0,Bt(n)}),(function(i){n.w_=!0,_t(t,i)}))}function zt(t){t.N_=void 0,t.I_=void 0,t.T_=void 0,t.b_=void 0}function Rt(t){return t.S_-t.r_}function Bt(t){var n=t.M_;if(!1!==t.w_&&void 0===n.u_)if("erroring"!==n.Ea){if(0!==t.n_.length){var i=function(t){return t.n_.peek().value}(t);"close"===i?function(t){var n=t.M_;(function(t){t.l_=t.c_,t.c_=void 0})(n),ct(t);var i=t.I_();zt(t),S(i,(function(){!function(t){t.l_.Kg(void 0),t.l_=void 0,"erroring"===t.Ea&&(t.Zg=void 0,void 0!==t.d_&&(t.d_.Kg(),t.d_=void 0)),t.Ea="closed";var n=t.o_;void 0!==n&&Xt(n)}(n)}),(function(t){!function(t,n){t.l_.Jg(n),t.l_=void 0,void 0!==t.d_&&(t.d_.Jg(n),t.d_=void 0),_t(t,n)}(n,t)}))}(t):function(t,n){var i=t.M_;!function(t){t.u_=t.a_.shift()}(i);var r=t.N_(n);S(r,(function(){!function(t){t.u_.Kg(void 0),t.u_=void 0}(i);var n=i.Ea;if(ct(t),!1===bt(i)&&"writable"===n){var r=Pt(t);Nt(i,r)}Bt(t)}),(function(n){"writable"===i.Ea&&zt(t),function(t,n){t.u_.Jg(n),t.u_=void 0,_t(t,n)}(i,n)}))}(t,i.chunk)}}else Mt(n)}function Ut(t,n){"writable"===t.M_.Ea&&Qt(t,n)}function Pt(t){return Rt(t)<=0}function Qt(t,n){var i=t.M_;zt(t),kt(i,n)}function Yt(t){return new p("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Gt(t){return new p("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Vt(t){return new p("Cannot "+t+" a stream using a released writer")}function Ft(t){t.Hg=T((function(n,i){t.Xg=n,t.qg=i,t.A_="pending"}))}function Wt(t,n){Ft(t),Zt(t,n)}function Zt(t,n){x(t.Hg),t.qg(n),t.Xg=void 0,t.qg=void 0,t.A_="rejected"}function Xt(t){t.Xg(void 0),t.Xg=void 0,t.qg=void 0,t.A_="resolved"}function Ht(t){t.p_=T((function(n,i){t.D_=n,t.E_=i})),t.y_="pending"}function Kt(t,n){Ht(t),qt(t,n)}function Jt(t){Ht(t),$t(t)}function qt(t,n){x(t.p_),t.E_(n),t.D_=void 0,t.E_=void 0,t.y_="rejected"}function $t(t){t.D_(void 0),t.D_=void 0,t.E_=void 0,t.y_="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":Y(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":Y(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",A.captureStackTrace&&A.captureStackTrace(this,this.constructor)}).prototype=_.create(A.prototype),_.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function un(t,n,i,r,u,s){var o=X(t),a=gt(n);t.t_=!0;var c=!1,h=D(void 0);return T((function(f,v){var d,l,g,w;if(void 0!==s){if(d=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push((function(){return"writable"===n.Ea?At(n,i):D(void 0)})),!1===u&&e.push((function(){return"readable"===t.Ea?Jn(t,i):D(void 0)})),_((function(){return st.all(e.map((function(t){return t()})))}),!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(A(t,o.Hg,(function(t){!1===r?_((function(){return At(n,t)}),!0,t):k(!0,t)})),A(n,a.Hg,(function(n){!1===u?_((function(){return Jn(t,n)}),!0,n):k(!0,n)})),l=t,g=o.Hg,w=function(){!1===i?_((function(){return function(t){var n=t.m_,i=n.Ea;return!0===bt(n)||"closed"===i?D(void 0):"errored"===i?I(n.Zg):Et(t)}(a)})):k()},"closed"===l.Ea?w():L(g,w),!0===bt(n)||"closed"===n.Ea){var y=new p("the destination writable stream closed before all data could be piped to it");!1===u?_((function(){return Jn(t,y)}),!0,y):k(!0,y)}function m(){var t=h;return E(h,(function(){return t!==h?m():void 0}))}function A(t,n,i){"errored"===t.Ea?i(t.Zg):C(n,i)}function _(t,i,r){function e(){S(t(),(function(){return M(i,r)}),(function(t){return M(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Ea&&!1===bt(n)?L(m(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Ea&&!1===bt(n)?L(m(),(function(){return M(t,i)})):M(t,i))}function M(t,n){Ct(a),U(o),void 0!==s&&s.removeEventListener("abort",d),t?v(n):f(void 0)}x(T((function(t,n){!function i(r){r?t():E(!0===c?D(!0):E(a.p_,(function(){return E(rt(o),(function(t){return!0===t.done||(h=E(jt(a,t.value),void 0,e),!1)}))})),i,n)}(!1)})))}))}var sn=function(){function t(){throw new p}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw yn("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw yn("close");if(!1===gn(this))throw new p("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw yn("enqueue");if(!1===gn(this))throw new p("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw yn("error");dn(this,t)},t.prototype[W]=function(t){ft(this);var n=this.k_(t);return hn(this),n},t.prototype[Z]=function(){var t=this.L_;if(this.n_.length>0){var n=ct(this);return!0===this.x_&&0===this.n_.length?(hn(this),qn(t)):an(this),D(z(n,!1,t.Wg.Vg))}var i=H(t);return an(this),i},t}();function on(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"L_")}function an(t){!1!==cn(t)&&(!0!==t.C_?(t.C_=!0,S(t.j_(),(function(){t.C_=!1,!0===t.O_&&(t.O_=!1,an(t))}),(function(n){dn(t,n)}))):t.O_=!0)}function cn(t){var n=t.L_;return!1!==gn(t)&&!1!==t.w_&&(!0===Kn(n)&&J(n)>0||ln(t)>0)}function hn(t){t.j_=void 0,t.k_=void 0,t.b_=void 0}function fn(t){var n=t.L_;t.x_=!0,0===t.n_.length&&(hn(t),qn(n))}function vn(t,n){var i=t.L_;if(!0===Kn(i)&&J(i)>0)K(i,n,!1);else{var r=void 0;try{r=t.b_(n)}catch(n){throw dn(t,n),n}try{ht(t,n,r)}catch(n){throw dn(t,n),n}}an(t)}function dn(t,n){var i=t.L_;"readable"===i.Ea&&(ft(t),hn(t),$n(i,n))}function ln(t){var n=t.L_.Ea;return"errored"===n?null:"closed"===n?0:t.S_-t.r_}function gn(t){var n=t.L_.Ea;return!1===t.x_&&"readable"===n}function wn(t,n,i,r,e,u,s){n.L_=t,n.n_=void 0,n.r_=void 0,ft(n),n.w_=!1,n.x_=!1,n.O_=!1,n.C_=!1,n.b_=s,n.S_=u,n.j_=r,n.k_=e,t.i_=n,S(D(i()),(function(){n.w_=!0,an(n)}),(function(t){dn(n,t)}))}function yn(t){return new p("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var mn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&k.floor(t)===t},An=function(){function t(){throw new p("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===kn(this))throw Bn("view");return this.R_},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kn(this))throw Bn("respond");if(void 0===this.P_)throw new p("This BYOB request has been invalidated");this.R_.buffer,function(t,n){if(!1===h(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Cn(t,n)}(this.P_,t)},t.prototype.respondWithNewView=function(t){if(!1===kn(this))throw Bn("respond");if(void 0===this.P_)throw new p("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new p("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.z_.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Cn(t,n.byteLength)}(this.P_,t)},t}(),pn=function(){function t(){throw new p("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===_n(this))throw Un("byobRequest");if(void 0===this.B_&&this.z_.length>0){var t=this.z_.peek(),n=new N(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=_.create(An.prototype);!function(t,n,i){t.P_=n,t.R_=i}(i,this,n),this.B_=i}return this.B_},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_n(this))throw Un("desiredSize");return zn(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_n(this))throw Un("close");if(!0===this.x_)throw new p("The stream has already been closed; do not close it again!");var t=this.U_.Ea;if("readable"!==t)throw new p("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.U_;if(t.r_>0)t.x_=!0;else{if(t.z_.length>0&&t.z_.peek().bytesFilled>0){var i=new p("Insufficient bytes to fill elements in the given buffer");throw On(t,i),i}xn(t),qn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===_n(this))throw Un("enqueue");if(!0===this.x_)throw new p("stream is closed or draining");var n=this.U_.Ea;if("readable"!==n)throw new p("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new p("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.U_,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===q(i)?0===J(i)?Nn(t,s,e,u):K(i,new N(s,e,u),!1):!0===Yn(i)?(Nn(t,s,e,u),Ln(t)):Nn(t,s,e,u),Mn(t)}(this,t)},t.prototype.error=function(t){if(!1===_n(this))throw Un("error");On(this,t)},t.prototype[W]=function(t){this.z_.length>0&&(this.z_.peek().bytesFilled=0),ft(this);var n=this.k_(t);return xn(this),n},t.prototype[Z]=function(){var t=this.U_;if(this.r_>0){var n=this.n_.shift();this.r_-=n.byteLength,En(this);var i=void 0;try{i=new N(n.buffer,n.byteOffset,n.byteLength)}catch(t){return I(t)}return D(z(i,!1,t.Wg.Vg))}var r=this.Q_;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return I(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:N,readerType:"default"};this.z_.push(u)}var s=H(t);return Mn(this),s},t}();function _n(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"U_")}function kn(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"P_")}function Mn(t){var n=function(t){var n=t.U_;if("readable"!==n.Ea)return!1;if(!0===t.x_)return!1;if(!1===t.w_)return!1;if(!0===q(n)&&J(n)>0)return!0;if(!0===Yn(n)&&Qn(n)>0)return!0;var i=zn(t);return i>0}(t);!1!==n&&(!0!==t.C_?(t.C_=!0,S(t.j_(),(function(){t.C_=!1,!0===t.O_&&(t.O_=!1,Mn(t))}),(function(n){On(t,n)}))):t.O_=!0)}function bn(t,n){var i=!1;"closed"===t.Ea&&(i=!0);var r=Tn(n);"default"===n.readerType?K(t,r,i):function(t,n,i){var r=t.Wg,e=r.F_.shift();e.Kg(z(n,i,r.Vg))}(t,r,i)}function Tn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Nn(t,n,i,r){t.n_.push({buffer:n,byteOffset:i,byteLength:r}),t.r_+=r}function Dn(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=k.min(t.r_,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var h=t.n_;o>0;){var f=h.peek(),v=k.min(o,f.byteLength),d=n.byteOffset+n.bytesFilled;c(n.buffer,d,f.buffer,f.byteOffset,v),f.byteLength===v?h.shift():(f.byteOffset+=v,f.byteLength-=v),t.r_-=v,In(t,v,n),o-=v}return a}function In(t,n,i){Sn(t),i.bytesFilled+=n}function En(t){0===t.r_&&!0===t.x_?(xn(t),qn(t.U_)):Mn(t)}function Sn(t){void 0!==t.B_&&(t.B_.P_=void 0,t.B_.R_=void 0,t.B_=void 0)}function Ln(t){for(;t.z_.length>0;){if(0===t.r_)return;var n=t.z_.peek();!0===Dn(t,n)&&(jn(t),bn(t.U_,n))}}function Cn(t,n){var i=t.z_.peek();if("closed"===t.U_.Ea){if(0!==n)throw new p("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.U_;if(!0===Yn(i))for(;Qn(i)>0;)bn(i,jn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(In(t,n,i),!(i.bytesFilled<i.elementSize)){jn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);Nn(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,bn(t.U_,i),Ln(t)}}(t,n,i);Mn(t)}function jn(t){var n=t.z_.shift();return Sn(t),n}function xn(t){t.j_=void 0,t.k_=void 0}function On(t,n){var i=t.U_;"readable"===i.Ea&&(function(t){Sn(t),t.z_=new O}(t),ft(t),xn(t),$n(i,n))}function zn(t){var n=t.U_.Ea;return"errored"===n?null:"closed"===n?0:t.S_-t.r_}function Rn(t,n,i){var r=_.create(pn.prototype),e=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===mn(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.U_=t,n.O_=!1,n.C_=!1,n.B_=void 0,n.n_=n.r_=void 0,ft(n),n.x_=!1,n.w_=!1,n.S_=g(u),n.j_=r,n.k_=e,n.Q_=s,n.z_=new O,t.i_=n,S(D(i()),(function(){n.w_=!0,Mn(n)}),(function(t){On(n,t)}))}(t,r,(function(){return d(n,"start",[r])}),e,u,i,s)}function Bn(t){return new p("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Un(t){return new p("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Pn(t){return T((function(n,i){var r={Kg:n,Jg:i};t.Wg.F_.push(r)}))}function Qn(t){return t.Wg.F_.length}function Yn(t){var n=t.Wg;return void 0!==n&&!!Vn(n)}var Gn=function(){function t(t){if(!Hn(t))throw new p("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===_n(t.i_))throw new p("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Kn(t))throw new p("This stream has already been locked for exclusive reading by another reader");R(this,t),this.F_=new O}return _.defineProperty(t.prototype,"closed",{get:function(){return Vn(this)?this.Hg:I(Fn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Vn(this)?void 0===this.Gg?I(P("cancel")):B(this,t):I(Fn("cancel"))},t.prototype.read=function(t){return Vn(this)?void 0===this.Gg?I(P("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?I(new p("view must have non-zero byteLength")):function(t,n){var i=t.Gg;return i.t_=!0,"errored"===i.Ea?I(i.Zg):function(t,n){var i=t.U_,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.z_.length>0)return t.z_.push(u),Pn(i);if("closed"===i.Ea)return D(z(new e(u.buffer,u.byteOffset,0),!0,i.Wg.Vg));if(t.r_>0){if(!0===Dn(t,u)){var s=Tn(u);return En(t),D(z(s,!1,i.Wg.Vg))}if(!0===t.x_){var o=new p("Insufficient bytes to fill elements in the given buffer");return On(t,o),I(o)}}t.z_.push(u);var a=Pn(i);return Mn(t),a}(i.i_,n)}(this,t)):I(new p("view must be an array buffer view")):I(Fn("read"))},t.prototype.releaseLock=function(){if(!Vn(this))throw Fn("releaseLock");if(void 0!==this.Gg){if(this.F_.length>0)throw new p("Tried to release a reader lock when that reader has pending read() calls un-settled");U(this)}},t}();function Vn(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"F_")}function Fn(t){return new p("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Wn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Xn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Rn(this,t,r=g(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=_.create(sn.prototype),u=v(n,"pull",0,[e]),s=v(n,"cancel",1,[]);wn(t,e,(function(){return d(n,"start",[e])}),u,s,i,r)}(this,t,r=g(r),u)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===Hn(this))throw ti("locked");return Kn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Hn(this)?I(ti("cancel")):!0===Kn(this)?I(new p("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Hn(this))throw ti("getReader");if(void 0===n)return X(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Gn(t);return i.Vg=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Hn(this))throw ti("pipeThrough");if(!1===yt(i))throw new p("writable argument to pipeThrough must be a WritableStream");if(!1===Hn(r))throw new p("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!tn(a))throw new p("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Kn(this))throw new p("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===mt(i))throw new p("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return x(un(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Hn(this)?I(ti("pipeTo")):!1===yt(t)?I(new p("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||tn(s)?!0===Kn(this)?I(new p("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===mt(t)?I(new p("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,t,r,e,u,s):I(new p("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Hn(this))throw ti("tee");var t=function(t,n){var i,r,e,u,s,o=X(t),c=!1,h=!1,f=!1,v=T((function(t){s=t}));function d(){return!0===c||(c=!0,x(j(rt(o),(function(t){if(c=!1,!0===t.done)return!1===h&&fn(e.i_),void(!1===f&&fn(u.i_));var n=t.value,i=n,r=n;!1===h&&vn(e.i_,i),!1===f&&vn(u.i_,r)})))),D(void 0)}function l(){}return e=Zn(l,d,(function(n){if(h=!0,i=n,!0===f){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),u=Zn(l,d,(function(n){if(f=!0,r=n,!0===h){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),C(o.Hg,(function(t){dn(e.i_,t),dn(u.i_,t)})),[e,u]}(this);return a(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Hn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=X(t),r=_.create(ut);return r.e_=i,r.s_=Boolean(n),r}(this,i)},t}();function Zn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=_.create(Wn.prototype);return Xn(u),wn(u,_.create(sn.prototype),t,n,i,r,e),u}function Xn(t){t.Ea="readable",t.Wg=void 0,t.Zg=void 0,t.t_=!1}function Hn(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"i_")}function Kn(t){return void 0!==t.Wg}function Jn(t,n){return t.t_=!0,"closed"===t.Ea?D(void 0):"errored"===t.Ea?I(t.Zg):(qn(t),j(t.i_[W](n),e))}function qn(t){t.Ea="closed";var n=t.Wg;void 0!==n&&(it(n)&&(n.$g.forEach((function(t){t.Kg(z(void 0,!0,n.Vg))})),n.$g=new O),F(n))}function $n(t,n){t.Ea="errored",t.Zg=n;var i=t.Wg;void 0!==i&&(it(i)?(i.$g.forEach((function(t){t.Jg(n)})),i.$g=new O):(i.F_.forEach((function(t){t.Jg(n)})),i.F_=new O),V(i,n))}function ti(t){return new p("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===Y(i.asyncIterator)&&_.defineProperty(Wn.prototype,i.asyncIterator,{value:Wn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=w(r);if(void 0===e&&(e=1),e=g(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=w(u);void 0===s&&(s=0),s=g(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.Y_;return!0===t.f_?j(t.V_,(function(){var r=t.G_;if("erroring"===r.Ea)throw r.Zg;return vi(i,n)})):vi(i,n)}(t,n)}function a(n){return function(t,n){return ui(t,n),D(void 0)}(t,n)}function c(){return function(t){var n=t.W_,i=t.Y_,r=i.Z_();return hi(i),j(r,(function(){if("errored"===n.Ea)throw n.Zg;var t=n.i_;!0===gn(t)&&fn(t)}),(function(i){throw ui(t,i),n.Zg}))}(t)}function h(){return function(t){return oi(t,!1),t.V_}(t)}function f(n){return si(t,n),D(void 0)}t.G_=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=_.create(lt.prototype);return wt(s),Ot(s,_.create(xt.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.W_=Zn(s,h,f,e,u),t.f_=void 0,t.V_=void 0,t.H_=void 0,oi(t,!0),t.Y_=void 0}(this,T((function(t){a=t})),e,o,s,c),function(t,n){var i=_.create(ai.prototype),r=function(t){try{return fi(i,t),D(void 0)}catch(t){return I(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new p("transform is not a method");r=function(t){return l(e,n,[t,i])}}var u=v(n,"flush",0,[i]);!function(t,n,i,r){n.X_=t,t.Y_=n,n.q_=i,n.Z_=r}(t,i,r,u)}(this,t);var h=d(t,"start",[this.Y_]);a(h)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw li("readable");return this.W_},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw li("writable");return this.G_},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"Y_")}function ui(t,n){dn(t.W_.i_,n),si(t,n)}function si(t,n){hi(t.Y_),Ut(t.G_.h_,n),!0===t.f_&&oi(t,!1)}function oi(t,n){void 0!==t.V_&&t.H_(),t.V_=T((function(n){t.H_=n})),t.f_=n}var ai=function(){function t(){throw new p("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return ln(this.X_.W_.i_)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");!function(t,n){ui(t.X_,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");!function(t){var n=t.X_,i=n.W_.i_;!0===gn(i)&&fn(i);var r=new p("TransformStream terminated");si(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!_.prototype.hasOwnProperty.call(t,"X_")}function hi(t){t.q_=void 0,t.Z_=void 0}function fi(t,n){var i=t.X_,r=i.W_.i_;if(!1===gn(r))throw new p("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw si(i,t),i.W_.Zg}var e=function(t){return!0!==cn(t)}(r);e!==i.f_&&oi(i,!0)}function vi(t,n){return j(t.q_(n),void 0,(function(n){throw ui(t.X_,n),n}))}function di(t){return new p("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new p("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=Wn,t.TransformStream=ri,t.WritableStream=lt,_.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":Y(t))&&void 0!==i?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((e=e||self).WebStreamsPolyfill={})})),Cn=z((function(t){function n(){var t=Ln();return n=function(){return t},t}Q(),Nt(),_.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)_.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function jn(t,n,i){return n in t?_.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var xn=O((function(){Q(),Nt()})),On=O((function(){Q(),Nt(),bn()}));function zn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zn=function(){return!!t})()}var Rn=O((function(){Q(),Nt()}));function Bn(t,n,i){return(Bn=zn()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&Dt(e,i.prototype),e}).apply(null,arguments)}var Un=O((function(){Q(),Nt(),Rn(),It()}));function Pn(t){return(Pn=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}var Qn=O((function(){Q(),Nt()}));var Yn=O((function(){Q(),Nt()}));function Gn(t){var n="function"==typeof Map?new Map:void 0;return Gn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new p("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return Bn(t,arguments,Pn(this).constructor)}return i.prototype=_.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Dt(i,t)},Gn(t)}var Vn=O((function(){Q(),Nt(),Un(),Qn(),Yn(),It()})),Fn=z((function(t,e){var u,s;Q(),Nt(),An(),Un(),Zt(),xn(),St(),Sn(),gn(),ht(),Vn(),Tn(),On(),u=t,s=function(t){var e,u=_.defineProperty,s=_.defineProperties,o=_.getOwnPropertyDescriptors,a=_.getOwnPropertySymbols,c=_.prototype.hasOwnProperty,h=_.prototype.propertyIsEnumerable,d=function(t,n,i){return n in t?u(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},w=function(t,n){for(var i in n||(n={}))c.call(n,i)&&d(t,i,n[i]);if(a)for(var r=0,e=a(n);r<e.length;r++)i=e[r],h.call(n,i)&&d(t,i,n[i]);return t},I=function(t,n){return s(t,o(n))},E=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&a)for(var e=0,u=a(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&h.call(t,r)&&(i[r]=t[r]);return i},S=("undefined"==typeof globalThis?"undefined":Y(globalThis))<"u"?globalThis:(void 0===f?"undefined":Y(f))<"u"?f:("undefined"==typeof global?"undefined":Y(global))<"u"?global:("undefined"==typeof self?"undefined":Y(self))<"u"?self:{};function L(t){return t&&t.__esModule&&_.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C,j={exports:{}};C=j,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":Y(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,C.exports?C.exports=i:(i.K_=t.Logger,i.noConflict=function(){return t.Logger=i.K_,i},t.Logger=i)}(S);var x=L(j.exports),O="0.3.2",z=(null==(e=null==f?void 0:f.navigator)?void 0:e.userAgent)||"No user agent available",R="",B="",U="",P="",Q="",G="",V="",F=0,W=[],Z=function(t){R=""===R?t:R},X=function(t){B=""===B?t:B},H=function(t){U=""===U?t:U},K=function(t){P=""===P?t:P},J=function(t){Q=""===Q?t:Q},q=function(t){F=0===F?t:F},tt=function(t){G=t},nt=function(t){V=""===V?t:V},it=function(t){60===W.length&&W.shift(),W.push(t)},rt=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:O,timestamp:(new Date).toISOString(),userAgent:z,clusterId:V,accountId:R,streamName:B,subscriberId:U,connection:G,stats:W.slice(-i),connectionDurationMs:(new Date).getTime()-F};return""!==Q?r.feedId=Q:""!==P&&(r.streamViewId=P),"CMCD"===n?function(t){function n(t,n){return{ts:k.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:k.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(ln(r).concat(ln(e)))}),[]),t}(r):r};x.useDefaults({defaultLevel:x.TRACE});var et=["TRACE","DEBUG","INFO","WARN","ERROR"],ut=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ot=function(t,n){return n?t.value>=dt[n].value:t.value>=vt.value},at=x.createDefaultHandler({formatter:ut});x.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==(void 0===t?"undefined":Y(t))?JSON.stringify(t):t})),ut(t,n),0!==ht?(ft.push(t.join(" ")),ft.length>=ht&&(ft=ft.slice(-ht))):ft=[]})(t,n),ot(n.level,n.name)&&at(t,n);for(var i=0;i<lt.length;i++){var r=lt[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var ct,ht=1e4,ft=[],vt=x.OFF,dt={},lt=[],gt=I(w({},x),{enabledFor:ot,getHistory:function(){return ft},getHistoryMaxSize:function(){return ht},setHistoryMaxSize:function(t){ht=t},setLevel:function(t){for(var n in vt=t,dt)dt[n]=t},getLevel:function(){return vt},get:function(t){dt[t]||(dt[t]=vt);var n=x.get(t);return n.setLevel=function(n){dt[t]=n},n.getLevel=function(){return dt[t]},n},setHandler:function(t,n){lt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=w(w({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=rt(r,s),a=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new A("Invalid Argument Exception : historySize must be a positive integer.");if(!et.includes(u.toUpperCase()))throw new A('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(et.includes(u.toUpperCase())){var c=et.slice(et.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:O}),wt={exports:{}},yt="object"==("undefined"==typeof Reflect?"undefined":Y(Reflect))?Reflect:null,mt=yt&&"function"==typeof yt.apply?yt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};ct=yt&&"function"==typeof yt.ownKeys?yt.ownKeys:_.getOwnPropertySymbols?function(t){return _.getOwnPropertyNames(t).concat(_.getOwnPropertySymbols(t))}:function(t){return _.getOwnPropertyNames(t)};var At=Number.isNaN||function(t){return t!=t};function pt(){pt.init.call(this)}wt.exports=pt,wt.exports.once=function(t,n){return new st((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Lt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Lt(t,"error",n,i)}(t,e,{once:!0})}))},pt.EventEmitter=pt,pt.prototype.J_=void 0,pt.prototype.rv=0,pt.prototype.ov=void 0;var _t=10;function kt(t){if("function"!=typeof t)throw new p('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":Y(t)))}function Mt(t){return void 0===t.ov?pt.defaultMaxListeners:t.ov}function bt(t,n,i,r){var e,u,s;if(kt(i),void 0===(u=t.J_)?(u=t.J_=_.create(null),t.rv=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.J_),s=u[n]),void 0===s)s=u[n]=i,++t.rv;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=Mt(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new A("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function Tt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nt(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=Tt.bind(r);return e.listener=i,r.wrapFn=e,e}function Dt(t,n,i){var r=t.J_;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):St(e,e.length)}function It(t){var n=this.J_;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function St(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Lt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new p('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":Y(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}_.defineProperty(pt,"defaultMaxListeners",{enumerable:!0,get:function(){return _t},set:function(t){if("number"!=typeof t||t<0||At(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");_t=t}}),pt.init=function(){(void 0===this.J_||this.J_===_.getPrototypeOf(this).J_)&&(this.J_=_.create(null),this.rv=0),this.ov=this.ov||void 0},pt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||At(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.ov=t,this},pt.prototype.getMaxListeners=function(){return Mt(this)},pt.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.J_;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof A)throw u;var s=new A("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)mt(o,this,n);else{var a=o.length,c=St(o,a);for(i=0;i<a;++i)mt(c[i],this,n)}return!0},pt.prototype.addListener=function(t,n){return bt(this,t,n,!1)},pt.prototype.on=pt.prototype.addListener,pt.prototype.prependListener=function(t,n){return bt(this,t,n,!0)},pt.prototype.once=function(t,n){return kt(n),this.on(t,Nt(this,t,n)),this},pt.prototype.prependOnceListener=function(t,n){return kt(n),this.prependListener(t,Nt(this,t,n)),this},pt.prototype.removeListener=function(t,n){var i,r,e,u,s;if(kt(n),void 0===(r=this.J_))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.rv?this.J_=_.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},pt.prototype.off=pt.prototype.removeListener,pt.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.J_))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.J_=_.create(null),this.rv=0):void 0!==i[t]&&(0==--this.rv?this.J_=_.create(null):delete i[t]),this;if(0===arguments.length){var e,u=_.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.J_=_.create(null),this.rv=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},pt.prototype.listeners=function(t){return Dt(this,t,!0)},pt.prototype.rawListeners=function(t){return Dt(this,t,!1)},pt.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):It.call(t,n)},pt.prototype.listenerCount=It,pt.prototype.eventNames=function(){return this.rv>0?ct(this.J_):[]};var jt=wt.exports,xt=L(jt),Ot={exports:{}};Ot.exports=Rt,Ot.exports.filter=function(t,n){var i=new zt;return Rt(t,i,n),i};var zt=jt.EventEmitter;function Rt(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Bt=L(Ot.exports),Ut={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new p('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":Y(t)))},r=function(t){return void 0===t.ov?l.defaultMaxListeners:t.ov},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.J_)?(o=t.J_=_.create(null),t.rv=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.J_),a=o[n]),void 0===a)a=o[n]=e,++t.rv;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new A("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.J_;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.J_;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new p('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":Y(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==("undefined"==typeof Reflect?"undefined":Y(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:_.getOwnPropertySymbols?function(t){return _.getOwnPropertyNames(t).concat(_.getOwnPropertySymbols(t))}:function(t){return _.getOwnPropertyNames(t)};var d=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,n){return new st((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},l.EventEmitter=l,l.prototype.J_=void 0,l.prototype.rv=0,l.prototype.ov=void 0;var g=10;_.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),l.init=function(){void 0!==this.J_&&this.J_!==_.getPrototypeOf(this).J_||(this.J_=_.create(null),this.rv=0),this.ov=this.ov||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.ov=t,this},l.prototype.getMaxListeners=function(){return r(this)},l.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.J_;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof A)throw u;var s=new A("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)v(h[i],this,n)}return!0},l.prototype.addListener=function(t,n){return e(this,t,n,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,n){return e(this,t,n,!0)},l.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},l.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},l.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.J_))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.rv?this.J_=_.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.J_))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.J_=_.create(null),this.rv=0):void 0!==i[t]&&(0==--this.rv?this.J_=_.create(null):delete i[t]),this;if(0===arguments.length){var e,u=_.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.J_=_.create(null),this.rv=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},l.prototype.listeners=function(t){return o(this,t,!0)},l.prototype.rawListeners=function(t){return o(this,t,!1)},l.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},l.prototype.listenerCount=a,l.prototype.eventNames=function(){return this.rv>0?n(this.J_):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var d,l=new v({filterLevel:o.OFF});(d=o).enabledFor=c(l,l.enabledFor),d.trace=c(l,l.trace),d.debug=c(l,l.debug),d.time=c(l,l.time),d.timeEnd=c(l,l.timeEnd),d.info=c(l,l.info),d.warn=c(l,l.warn),d.error=c(l,l.error),d.log=d.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in l.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return l.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},l.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":Y(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.hv||(_.create?function(t,n,i,r){void 0===r&&(r=i);var e=_.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),_.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.uv||function(t,n){for(var i in t)"default"===i||_.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.fv||function(t){return t&&t.__esModule?t:{default:t}};_.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);_.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;_.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){_.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){_.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){_.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,A,k,M=this&&this._v||function(t,n,i,r){return new(i||(i=st))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},b=this&&this.vv||function(t,n,i,r,e){if("m"===r)throw new p("Private method is not writable");if("a"===r&&!e)throw new p("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new p("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},T=this&&this.mv||function(t,n,i,r){if("a"===i&&!r)throw new p("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new p("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},N=this&&this.fv||function(t){return t&&t.__esModule?t:{default:t}};_.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var D=i(7),I=N(i(586)),E=i(738),S=i(185),L=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),u.set(i,void 0),s.set(i,void 0),o.set(i,null),a.set(i,void 0),c.set(i,null),i.start=function(){T(i,a,"f").info("WebRTC statistics collection is starting..."),b(i,c,null,"f"),b(i,o,y(T(i,h,"f"),T(i,u,"f")),"f")},i.stop=function(){T(i,o,"f")&&(m(T(i,o,"f")),b(i,o,null,"f"),T(i,a,"f").info("WebRTC statistics collection has stopped."))},h.set(i,(function(){return M(i,void 0,void 0,(function(){var t,n,i,u,o,h,f,v,g,y,m,p;return pn(this,(function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),T(this,a,"f").trace("Requesting WebRTC statistics..."),[4,T(this,e,"f").call(this)];case 1:return t=M.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=M.sent(),[2,(T(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},T(this,s,"f")&&(o.rawStats=t),h=0,M.label=4;case 4:if(!(h<_.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(g=(0,S.getMediaKind)(v))?[3,7]:[4,T(this,r,"m",d).call(this,t,v,o)];case 6:return M.sent(),[3,10];case 7:return"video"===g?[4,T(this,r,"m",l).call(this,t,v,o)]:[3,9];case 8:M.sent(),M.label=9;case 9:M.label=10;case 10:return[3,18];case 11:return y=f,"audio"!==(m=(0,S.getMediaKind)(y))?[3,13]:[4,T(this,r,"m",w).call(this,t,y,o)];case 12:return M.sent(),[3,16];case 13:return"video"===m?[4,T(this,r,"m",A).call(this,t,y,o)]:[3,15];case 14:M.sent(),M.label=15;case 15:M.label=16;case 16:return[3,18];case 17:(p=f).nominated&&T(this,r,"m",k).call(this,p,o),M.label=18;case 18:return h++,[3,4];case 19:return b(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),b(i,a,I.default.get("WebRTCStats"),"f"),b(i,e,n.getStats,"f"),b(i,u,n.getStatsInterval||1e3,"f"),b(i,s,!!n.includeRawStats,"f"),i}return Et(n,t),n}(D.EventEmitter);n.WebRTCStats=L,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return pn(this,(function(v){return a=(0,S.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,S.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=T(this,r,"m",f).call(this,t,n.codecId),[2,_.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},d=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",v).call(this,t,n,u)];case 1:return s=a.sent(),o=_.assign({},s),i.output.audio.push(o),[2]}}))}))},l=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o,a;return pn(this,(function(h){switch(h.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",v).call(this,t,n,u)];case 1:return s=h.sent(),o=E.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=_.assign(_.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},g=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return pn(this,(function(v){return s=(0,S.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,S.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,S.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=T(this,r,"m",f).call(this,t,n.codecId),[2,_.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},w=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",g).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},A=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",g).call(this,t,n,u)];case 1:return s=a.sent(),o=_.assign(_.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},k=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Ut);var Pt=Ut.exports,Qt=gt.get("PeerConnectionStats"),Yt="stats",Gt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}Et(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)Qt.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{Qt.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Pt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,E(n,["input","output","rawStats"]));return I(w({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=E(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=E(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=E(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=E(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);it(i),n.emit(Yt,i)})),this.collection.start(),this.initialized=!0}catch(t){Qt.error(t)}}},i.parseStats=function(t){return Qt.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){Qt.info("Stopping peer connection stats"),this.collection.stop()},n}(xt),Vt={},Ft={},Wt={},Zt={exports:{}},Xt=Zt.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};_.keys(Xt).forEach((function(t){Xt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var Ht=Zt.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=Ht,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(Wt);var Kt=Ht,Jt=/%[sdv%]/g,qt=function(t){var n=1,i=arguments,r=i.length;return t.replace(Jt,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},$t=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return qt.apply(null,r)},tn=["v","o","s","i","u","e","p","c","b","t","r","z","a"],nn=["i","c","b","a"],rn=Wt,en=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||tn,r=n.innerOrder||nn,e=[];return i.forEach((function(n){Kt[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push($t(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push($t(n,i,t))}))}))})),t.media.forEach((function(t){e.push($t("m",Kt.m[0],t)),r.forEach((function(n){Kt[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push($t(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push($t(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Ft.write=en,Ft.parse=rn.parse,Ft.parseParams=rn.parseParams,Ft.parseFmtpConfig=rn.parseFmtpConfig,Ft.parsePayloads=rn.parsePayloads,Ft.parseRemoteCandidates=rn.parseRemoteCandidates,Ft.parseImageAttributes=rn.parseImageAttributes,Ft.parseSimulcastStreamList=rn.parseSimulcastStreamList;var un=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();un.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new un(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},un.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():un.expand(t)};var sn=un,on=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();on.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new on(t.id,t.params)},on.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():on.expand(t)};var an=on,cn=an,hn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),_.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return _.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new A("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();hn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new hn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=cn.expand(e);n.addRTCPFeedback(u)}return n},hn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():hn.expand(t)},hn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new hn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var d=v[f];h.addRTCPFeedback(new cn(d.id,d.params))}for(var l=0;l<a.length;l++){var g=a[l].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var fn=hn,vn=function t(){var n=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){n[t]=i("pv"+t)}))},dn=vn("ACTIVE","PASSIVE","ACTPASS","INACTIVE");dn.byValue=function(t){switch(t){case dn.ACTIVE:case dn.PASSIVE:case dn.ACTPASS:case dn.INACTIVE:return t}return dn[t.toUpperCase()]},dn.toString=function(t){switch(t){case dn.ACTIVE:return"active";case dn.PASSIVE:return"passive";case dn.ACTPASS:return"actpass";case dn.INACTIVE:return"inactive"}},dn.reverse=function(t,n){switch(t){case dn.ACTIVE:return dn.PASSIVE;case dn.PASSIVE:return dn.ACTIVE;case dn.ACTPASS:return n?dn.ACTIVE:dn.PASSIVE;case dn.INACTIVE:return dn.INACTIVE}};var gn=dn,wn=gn,mn=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:wn.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();mn.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new mn(t.setup?wn.byValue(t.setup):wn.ACTPASS,t.hash,t.fingerprint)},mn.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():mn.expand(t)};var An=mn,kn=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();kn.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new kn(t.tag,t.suite,t.keyParams,t.sessionParams)},kn.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():kn.expand(t)};for(var Mn=kn,bn={exports:{}},Tn={exports:{}},Nn={},Dn={byteLength:function(t){var n=On(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=On(t),e=r[0],u=r[1],s=new Ln(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=Sn[t.charCodeAt(i)]<<18|Sn[t.charCodeAt(i+1)]<<12|Sn[t.charCodeAt(i+2)]<<6|Sn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=Sn[t.charCodeAt(i)]<<2|Sn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=Sn[t.charCodeAt(i)]<<10|Sn[t.charCodeAt(i+1)]<<4|Sn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(Rn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(In[n>>2]+In[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(In[n>>10]+In[n>>4&63]+In[n<<2&63]+"=")),e.join("")}},In=[],Sn=[],Ln=(void 0===N?"undefined":Y(N))<"u"?N:Array,Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xn=0;xn<64;++xn)In[xn]=Cn[xn],Sn[Cn.charCodeAt(xn)]=xn;function On(t){var n=t.length;if(n%4>0)throw new A("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function zn(t){return In[t>>18&63]+In[t>>12&63]+In[t>>6&63]+In[63&t]}function Rn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(zn(r));return e.join("")}Sn[45]=62,Sn[95]=63;var Un={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,d=t[n+f];for(f+=v,u=d&(1<<-h)-1,d>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(d?-1:1);s+=k.pow(2,r),u-=c}return(d?-1:1)*s*k.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?k.pow(2,-24)-k.pow(2,-77):0,d=r?0:u-1,l=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=k.abs(n),T(n)||n===1/0?(o=T(n)?1:0,s=h):(s=k.floor(k.log(n)/k.LN2),n*(a=k.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*k.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*k.pow(2,e),s+=f):(o=n*k.pow(2,f-1)*k.pow(2,e),s=0));e>=8;t[i+d]=255&o,d+=l,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+d]=255&s,d+=l,s/=256,c-=8);t[i+d-l]|=128*g}};(function(t){var r=Dn,e=Un,u="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new N(t);return _.setPrototypeOf(n,a.prototype),n}function a(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new p('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new p("Unknown encoding: "+n);var i=0|g(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(it(t,N)){var n=new N(t);return d(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new p("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":Y(t)));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":Y(SharedArrayBuffer))<"u"&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return d(t,i,r);if("number"==typeof t)throw new p('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return a.from(e,i,r);var u=function(t){if(a.isBuffer(t)){var n=0|l(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":Y(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return a.from(t[n.toPrimitive]("string"),i,r);throw new p("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":Y(t)))}function h(t){if("number"!=typeof t)throw new p('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),o(t<0?0:0|l(t))}function v(t){for(var n=t.length<0?0:0|l(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new N(t):void 0===i?new N(t,n):new N(t,n,i),_.setPrototypeOf(r,a.prototype),r}function l(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,n){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new p('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":Y(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(e)return r?-1:$(t).length;n=(""+n).toLowerCase(),e=!0}}function w(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z(this,n,i);case"utf8":case"utf-8":return C(this,n,i);case"ascii":return x(this,n,i);case"latin1":case"binary":return O(this,n,i);case"base64":return L(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,n,i);default:if(r)throw new p("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function m(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=a.from(n,r)),a.isBuffer(n))return 0===n.length?-1:b(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof N.prototype.indexOf?e?N.prototype.indexOf.call(t,n,i):N.prototype.lastIndexOf.call(t,n,i):b(t,[n],i,r,e);throw new p("val must be string, number or Buffer")}function b(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function T(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u,s=n.length;for(r>s/2&&(r=s/2),u=0;u<r;++u){var o=M(n.substr(2*u,2),16);if(rt(o))return u;t[i+u]=o}return u}function D(t,n,i,r){return nt($(n,t.length-i),t,i,r)}function I(t,n,i,r){return nt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function E(t,n,i,r){return nt(tt(n),t,i,r)}function S(t,n,i,r){return nt(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function L(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function C(t,n,i){i=k.min(t.length,i);for(var r=[],e=n;e<i;){var u=t[e],s=null,o=u>239?4:u>223?3:u>191?2:1;if(e+o<=i){var a=void 0,c=void 0,h=void 0,f=void 0;switch(o){case 1:u<128&&(s=u);break;case 2:128==(192&(a=t[e+1]))&&(f=(31&u)<<6|63&a)>127&&(s=f);break;case 3:a=t[e+1],c=t[e+2],128==(192&a)&&128==(192&c)&&(f=(15&u)<<12|(63&a)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:a=t[e+1],c=t[e+2],h=t[e+3],128==(192&a)&&128==(192&c)&&128==(192&h)&&(f=(15&u)<<18|(63&a)<<12|(63&c)<<6|63&h)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),e+=o}return function(t){var n=t.length;if(n<=j)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=j));return i}(r)}t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new N(1),n={foo:function(){return 42}};return _.setPrototypeOf(n,N.prototype),_.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":Y(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),_.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),_.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,n,i){return c(t,n,i)},_.setPrototypeOf(a.prototype,N.prototype),_.setPrototypeOf(a,N),a.alloc=function(t,n,i){return function(t,n,i){return h(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t.Av&&t!==a.prototype},a.compare=function(t,n){if(it(t,N)&&(t=a.from(t,t.offset,t.byteLength)),it(n,N)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(t)||!a.isBuffer(n))throw new p('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=k.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!Array.isArray(t))throw new p('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=a.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(it(u,N))e+u.length>r.length?(a.isBuffer(u)||(u=a.from(u)),u.copy(r,e)):N.prototype.set.call(r,u,e);else{if(!a.isBuffer(u))throw new p('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},a.byteLength=g,a.prototype.Av=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)y(this,n,n+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)y(this,n,n+3),y(this,n+1,n+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)y(this,n,n+7),y(this,n+1,n+6),y(this,n+2,n+5),y(this,n+3,n+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new p("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,n,i,r,e){if(it(t,N)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new p('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":Y(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),o=k.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<o;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},a.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},a.prototype.indexOf=function(t,n,i){return m(this,t,n,i,!0)},a.prototype.lastIndexOf=function(t,n,i){return m(this,t,n,i,!1)},a.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new A("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return T(this,t,n,i);case"utf8":case"utf-8":return D(this,t,n,i);case"ascii":case"latin1":case"binary":return I(this,t,n,i);case"base64":return E(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,n,i);default:if(u)throw new p("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.yv||this,0)}};var j=4096;function x(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function O(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function z(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=et[t[u]];return e}function R(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function B(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function U(t,n,i,r,e,u){if(!a.isBuffer(t))throw new p('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function P(t,n,i,r,e){H(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function Q(t,n,i,r,e){H(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i+7]=u,u>>=8,t[i+6]=u,u>>=8,t[i+5]=u,u>>=8,t[i+4]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function G(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function V(t,n,i,r,u){return n=+n,i>>>=0,u||G(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function F(t,n,i,r,u){return n=+n,i>>>=0,u||G(t,0,i,8),e.write(t,n,i,r,52,8),i+8}a.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return _.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,n){return t>>>=0,n||B(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,n){return t>>>=0,n||B(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,n){return t>>>=0,n||B(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,n){return t>>>=0,n||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,n){return t>>>=0,n||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ut((function(t){K(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24),e=this[++t]+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+i*k.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))})),a.prototype.readBigUInt64BE=ut((function(t){K(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t],e=this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)})),a.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=k.pow(2,8*n)),r},a.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=k.pow(2,8*n)),u},a.prototype.readInt8=function(t,n){return t>>>=0,n||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,n){t>>>=0,n||B(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,n){t>>>=0,n||B(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,n){return t>>>=0,n||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return t>>>=0,n||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ut((function(t){K(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=this[t+4]+this[t+5]*k.pow(2,8)+this[t+6]*k.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24))})),a.prototype.readBigInt64BE=ut((function(t){K(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=(n<<24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i)})),a.prototype.readFloatLE=function(t,n){return t>>>=0,n||B(t,4,this.length),e.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return t>>>=0,n||B(t,4,this.length),e.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return t>>>=0,n||B(t,8,this.length),e.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return t>>>=0,n||B(t,8,this.length),e.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||U(this,t,n,i,k.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||U(this,t,n,i,k.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,1,255,0),this[n]=255&t,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigUInt64LE=ut((function(t,n){return void 0===n&&(n=0),P(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ut((function(t,n){return void 0===n&&(n=0),Q(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);U(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);U(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},a.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},a.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||U(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigInt64LE=ut((function(t,n){return void 0===n&&(n=0),P(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ut((function(t,n){return void 0===n&&(n=0),Q(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,n,i){return V(this,t,n,!0,i)},a.prototype.writeFloatBE=function(t,n,i){return V(this,t,n,!1,i)},a.prototype.writeDoubleLE=function(t,n,i){return F(this,t,n,!0,i)},a.prototype.writeDoubleBE=function(t,n,i){return F(this,t,n,!1,i)},a.prototype.copy=function(t,n,i,r){if(!a.isBuffer(t))throw new p("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof N.prototype.copyWithin?this.copyWithin(n,i,r):N.prototype.set.call(t,this.subarray(i,r),n),e},a.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new p("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new p("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),o=s.length;if(0===o)throw new p('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%o]}return this};var W={};function Z(t,n,i){W[t]=function(i){function r(){var r;return r=i.call(this)||this,_.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return Et(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},Ct(r,[{key:"code",get:function(){return t},set:function(t){_.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function X(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function H(t,n,i,r,e,u){if(t>i||t<n){var s,o="bigint"==(void 0===n?"undefined":Y(n))?"n":"";throw s=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(u+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(u+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(u+1)-1).concat(o),new W.ERR_OUT_OF_RANGE("value",s,t)}!function(t,n,i){K(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&J(n,t.length-(i+1))}(r,e,u)}function K(t,n){if("number"!=typeof t)throw new W.ERR_INVALID_ARG_TYPE(n,"number",t)}function J(t,n,i){throw k.floor(t)!==t?(K(t,i),new W.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}Z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Z("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":Y(n))}),p),Z("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&k.abs(i)>k.pow(2,32)?e=X(String(i)):"bigint"==(void 0===i?"undefined":Y(i))&&(e=String(i),(i>k.pow(BigInt(2),BigInt(32))||i<-k.pow(BigInt(2),BigInt(32)))&&(e=X(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)}),RangeError);var q=/[^+/0-9A-Za-z-_]/g;function $(t,n){var i;n=n||1/0;for(var r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new A("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function tt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function it(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function rt(t){return t!=t}var et=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ut(t){return("undefined"==typeof BigInt?"undefined":Y(BigInt))>"u"?st:t}function st(){throw new A("BigInt not supported")}})(Nn),function(t,n){var i=Nn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=_.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new p("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new p("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new p("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new p("Argument must be a number");return i.SlowBuffer(t)}}(Tn,Tn.exports);var Pn=65536,Qn=Tn.exports.Buffer,Yn=S.crypto||S.msCrypto;Yn&&Yn.getRandomValues?bn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=Qn.allocUnsafe(t);if(t>0)if(t>Pn)for(var r=0;r<t;r+=Pn)Yn.getRandomValues(i.slice(r,r+Pn));else Yn.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:bn.exports=function(){throw new A("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Vn=bn.exports,Fn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Fn.generate=function(t){var n=new Fn,i=Vn(8),r=Vn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Fn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Fn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Fn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Fn.expand(t)};var Wn=Fn,Zn=vn("SEND","RECV");Zn.byValue=function(t){return Zn[t.toUpperCase()]},Zn.toString=function(t){switch(t){case Zn.SEND:return"send";case Zn.RECV:return"recv"}},Zn.reverse=function(t){switch(t){case Zn.SEND:return Zn.RECV;case Zn.RECV:return Zn.SEND}};var Xn=Zn,Hn=Xn,Kn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Hn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=En(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(M(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();Kn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new Kn(t.id,Hn.byValue(t.direction)),i=0,r=_.entries(t.params||{});i<r.length;i++){var e=En(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},Kn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():Kn.expand(t)};var Jn=Kn,qn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();qn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new qn(t.id,t.paused)},qn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():qn.expand(t)};var $n=qn,ti=$n,ni=Xn,ii=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===ni.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===ni.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===ni.SEND?this.send:this.recv},t}();ii.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new ii,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map(ti.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map(ti.expand))}return n},ii.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():ii.expand(t)};var ri=ii,ei=vn("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ei.byValue=function(t){return ei[t.toUpperCase()]},ei.toString=function(t){switch(t){case ei.SENDRECV:return"sendrecv";case ei.SENDONLY:return"sendonly";case ei.RECVONLY:return"recvonly";case ei.INACTIVE:return"inactive"}},ei.reverse=function(t){switch(t){case ei.SENDRECV:return ei.SENDRECV;case ei.SENDONLY:return ei.RECVONLY;case ei.RECVONLY:return ei.SENDONLY;case ei.INACTIVE:return ei.INACTIVE}};var ui=ei,si=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();si.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new si(t.port,t.maxMessageSize)},si.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():si.expand(t)};var oi=si,ai=fn,ci=Jn,hi=ri,fi=ui,vi=Xn,di=oi,li=function(){function t(t,n){this.id=t,this.type=n,this.direction=fi.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=En(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:fi.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=En(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(fi.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ai.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var d=new Set(n.extensions),l=0,g=this.extensions;l<g.length;l++){var w=En(g[l],2),y=w[0],m=w[1];d.has(m)&&i.addExtension(y,m)}if(n.simulcast&&this.simulcast){var A=new hi,p=this.simulcast.getSimulcastStreams(vi.SEND);if(p)for(var _=0;_<p.length;_++){var k=p[_].map((function(t){return t.clone()}));A.addSimulcastAlternativeStreams(vi.RECV,k)}var M=this.simulcast.getSimulcastStreams(vi.RECV);if(M)for(var b=0;b<M.length;b++){var T=M[b].map((function(t){return t.clone()}));A.addSimulcastAlternativeStreams(vi.SEND,T)}for(var N=0,D=this.rids.values();N<D.length;N++){var I=D[N],E=I.clone();E.setDirection(vi.reverse(I.getDirection())),i.addRID(E)}i.setSimulcast(A)}if(e&&this.dataChannel){var S=new di(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(S)}}else i.setDirection(fi.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function gi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new A("invalid integer ".concat(n));return M(n)}li.create=function(t,n,i){!i&&"string"!=typeof n&&(i=n,n=t);var r=new li(t,n);if(i){var e=i.codecs;e&&(Array.isArray(e)?r.setCodecs(ai.MapFromNames(e,i.rtx,i.rtcpfbs)):r.setCodecs(e))}else r.setDirection(fi.INACTIVE);return r},li.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new li(t.id,t.type);if(t.direction&&n.setDirection(fi.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=di.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=_.entries(t.extensions);r<e.length;r++){var u=En(e[r],2),s=u[0],o=u[1];n.addExtension(gi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ai.expand(h);f&&n.addCodec(f)}for(var v=0,d=t.rids||[];v<d.length;v++){var l=d[v],g=ci.expand(l);n.addRID(g)}return t.simulcast&&n.setSimulcast(hi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},li.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():li.expand(t)};var wi=li,yi=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(M(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();yi.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new yi(t.semantics,t.ssrcs)},yi.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():yi.expand(t)};var mi=yi,Ai=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();Ai.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new Ai(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},Ai.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():Ai.expand(t)};var pi=Ai,_i=fn,ki=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=En(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=En(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();ki.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new ki(t.id,t.paused),i=0,r=_.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(_i.expand(e))}for(var u=0,s=_.entries(t.params||{});u<s.length;u++){var o=En(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},ki.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():ki.expand(t)};var Mi=ki,bi=mi,Ti=Mi,Ni=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter((function(n){return n.getSSRCs()[0]===t}))},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n=0,i=this.encodings;n<i.length;n++)for(var r=i[n],e=0;e<r.length;e++){var u=r[e],s={id:u.getId(),rid:u.getId()},o=u.getParams(),a=null==o?void 0:o.get("ssrc");if(void 0!==a){s.media=M(a);for(var c=0,h=this.getSourceGroupsForMediaSSRC(s.media);c<h.length;c++){var f=h[c];switch(f.getSemantics()){case"FID":s.rtx=f.getSSRCs()[1];break;case"FEC-FR":s.fec=f.getSSRCs()[1]}}}t.push(s)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var d=0;d<v.length;d++){for(var l=v[d],g={id:String(l),media:l},w=0,y=this.getSourceGroupsForMediaSSRC(g.media);w<y.length;w++){var m=y[w];switch(m.getSemantics()){case"FID":g.rtx=m.getSSRCs()[1];break;case"FEC-FR":g.fec=m.getSSRCs()[1]}}t.push(g)}}else{var A={id:""};if(this.ssrcs.length){A.media=this.ssrcs[0];for(var p=0,_=this.getSourceGroupsForMediaSSRC(A.media);p<_.length;p++){var k=_[p];switch(k.getSemantics()){case"FID":A.rtx=k.getSSRCs()[1];break;case"FEC-FR":A.fec=k.getSSRCs()[1]}}}t.push(A)}return t},t}();Ni.expand=function(t){var n,i;if("TrackInfo"===t.constructor.name)return t;var r=new Ni(t.media,t.id);if(t.mediaId&&r.setMediaId(t.mediaId),Array.isArray(t.ssrcs))for(var e=0,u=t.ssrcs;e<u.length;e++){var s=u[e];r.addSSRC(s)}else if(void 0!==(null===(n=t.ssrcs)||void 0===n?void 0:n.media)){var o=t.ssrcs.media;if(r.addSSRC(o),void 0!==t.ssrcs.rtx){var a=t.ssrcs.rtx;r.addSSRC(a),r.addSourceGroup(new bi("FID",[o,a]))}if(void 0!==t.ssrcs.fec){var c=t.ssrcs.fec;r.addSSRC(c),r.addSourceGroup(new bi("FEC-FR",[o,c]))}}if(t.rid){var h=new Ti(t.rid);void 0!==(null===(i=t.ssrcs)||void 0===i?void 0:i.media)&&h.addParam("ssrc",t.ssrcs.media),r.addAlternativeEncodings([h])}for(var f=0,v=t.groups||[];f<v.length;f++){var d=v[f];r.addSourceGroup(bi.expand(d))}for(var l=0,g=t.encodings||[];l<g.length;l++){for(var w=g[l],y=[],m=0;m<w.length;m++){var A=w[m];y.push(Ti.expand(A))}r.addAlternativeEncodings(y)}return r},Ni.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Ni.expand(t)};var Di=Ni,Ii=Di,Ei=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ei.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ei(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ii.expand(e);u&&n.addTrack(u)}return n},Ei.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ei.expand(t)};var Si,Li,Ci=Ei,ji=Ft,xi=(Si="en-US",Li=new Intl.Collator(Si,{sensitivity:"base"}),function(t,n){return 0==Li.compare(t,n)}),Oi=sn,zi=fn,Ri=an,Bi=An,Ui=Mn,Pi=Wn,Qi=wi,Yi=gn,Gi=ui,Vi=Xn,Fi=mi,Wi=pi,Zi=Ci,Xi=Di,Hi=Mi,Ki=ri,Ji=$n,qi=Jn,$i=oi,tr=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var d=0,l=this.candidates;d<l.length;d++){var g=l[d];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(xi(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];xi(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(xi(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTracksByMediaType=function(t){for(var n=[],i=0,r=this.streams.values();i<r.length;i++)for(var e=0,u=r[i].getTracks();e<u.length;e++){var s=En(u[e],2),o=(s[0],s[1]);xi(o.getMedia(),t)&&n.push(o)}return n},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=En(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=En(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Pi?i.setICE(n.ice.clone()):i.setICE(Pi.expand(n.ice))),n.dtls&&(n.dtls instanceof Bi?i.setDTLS(n.dtls):i.setDTLS(Bi.expand(n.dtls))),n.crypto&&(n.crypto instanceof Ui?i.setCrypto(n.crypto):i.setCrypto(Ui.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Oi?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Oi.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Gi.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),xi("audio",e.getType())||xi("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=Yi.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];xi("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):xi("opus",f.getCodec())||xi("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,d=f.getRTCPFeedbacks();v<d.length;v++){var l=d[v];u.rtcpFb.push({payload:f.getType(),type:l.getId(),subtype:l.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var g=f.getParams();if(_.keys(g).length){var w={payload:f.getType(),config:""};for(var y in g)w.config.length&&(w.config+=";"),_.hasOwnProperty.call(g,y)?w.config+=y+"="+g[y]:w.config+=y;u.fmtp.push(w)}}for(var m=[],A=0,p=u.rtp;A<p.length;A++){var k=p[A];m.push(k.payload)}u.payloads=m.join(" ");for(var M=0,b=e.getExtensions().entries();M<b.length;M++){var T=En(b[M],2),N=T[0],D=T[1];u.ext.push({value:N,uri:D})}for(var I=0,E=e.getRIDs().values();I<E.length;I++){var S=E[I],L={id:S.getId(),direction:Vi.toString(S.getDirection()),params:""};S.getFormats().length&&(L.params="pt="+S.getFormats().join(","));for(var C=0,j=S.getParams().entries();C<j.length;C++){var x=En(j[C],2),O=x[0],z=x[1];L.params+=(L.params.length?";":"")+O+"="+z}u.rids.push(L)}var R=e.getSimulcast();if(R){var B=1;u.simulcast={};var U=R.getSimulcastStreams(Vi.SEND),P=R.getSimulcastStreams(Vi.RECV);if(U&&U.length){for(var Q="",Y=0;Y<U.length;Y++){for(var G=U[Y],V="",F=0;F<G.length;F++){var W=G[F];V+=(V.length?",":"")+(W.isPaused()?"~":"")+W.getId()}Q+=(Q.length?";":"")+V}u.simulcast["dir"+B]="send",u.simulcast["list"+B]=Q,B++}if(P&&P.length){for(var Z="",X=0;X<P.length;X++){for(var H=P[X],K="",J=0;J<H.length;J++){var q=H[J];K+=(K.length?",":"")+(q.isPaused()?"~":"")+q.getId()}Z+=(Z.length?";":"")+K}u.simulcast["dir"+B]="recv",u.simulcast["list"+B]=Z,B++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(xi(ot.type,ut.getMedia())){var dt=ut.getSourceGroups();for(var lt in dt){var gt=dt[lt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var wt=ut.getSSRCs();for(var yt in wt)ot.ssrcs.push({id:wt[yt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:wt[yt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var mt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(mt),ji.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return ji.write(t).slice(10)},t}();tr.create=function(t){var n,i=new tr;if(t.streams)for(var r=0,e=t.streams;r<e.length;r++){var u=e[r];i.addStream(Zi.expand(u))}t.ice&&(t.ice instanceof Pi?i.setICE(t.ice.clone()):i.setICE(Pi.expand(t.ice))),t.dtls&&(t.dtls instanceof Bi?i.setDTLS(t.dtls):i.setDTLS(Bi.expand(t.dtls))),t.crypto&&(t.crypto instanceof Ui?i.setCrypto(t.crypto):i.setCrypto(Ui.expand(t.crypto)));for(var s=0,o=t.candidates||[];s<o.length;s++){var a=o[s];a instanceof Oi?i.addCandidate(a.clone()):i.addCandidate(Oi.expand(a))}for(var c=96,h=1,f=0,v=0,d=_.entries(t.capabilities||{});v<d.length;v++){var l=En(d[v],2),g=l[0],w=l[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var y=0,m=i.getTracksByMediaType(g);y<m.length;y++){for(var A=m[y],p=Qi.create(A.getMediaId(),g,w),k=0,M=p.getCodecs();k<M.length;k++){var b=En(M[k],2),T=(b[0],b[1]);T.getType()>=96&&T.setType(c++),T.getRTX()&&T.setRTX(c++)}if(w.extensions)for(var N=0,D=w.extensions;N<D.length;N++){var I=D[N];15===h&&h++,p.addExtension(h++,I)}i.addMedia(p)}else{for(var E=Qi.create(t.unified?String(f++):g,g,w),S=0,L=E.getCodecs();S<L.length;S++){var C=En(L[S],2),j=(C[0],C[1]);j.getType()>=96&&j.setType(c++),j.getRTX()&&j.setRTX(c++)}if(w.extensions)for(var x=0,O=w.extensions;x<O.length;x++){var z=O[x];15===h&&h++,E.addExtension(h++,z)}i.addMedia(E)}}return i},tr.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new tr(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Qi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=Zi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],d=Oi.expand(v);d&&n.addCandidate(d)}return t.ice&&n.setICE(Pi.expand(t.ice)),t.dtls&&n.setDTLS(Bi.expand(t.dtls)),t.crypto&&n.setCrypto(Ui.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},tr.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():tr.expand(t)},tr.process=function(t){return tr.parse(t)},tr.parse=function(t){var n=ji.parse(t),i=new tr;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Pi(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Qi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),d=new Pi(f,v);d.setLite("ice-lite"==n.icelite),d.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(d)}for(var l=0;o.candidates&&l<o.candidates.length;++l){var g=o.candidates[l],w=new Oi(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(w)}var y=o.fingerprint||n.fingerprint;if(y){var m=y.type,A=y.hash,p=Yi.ACTPASS;o.setup&&(p=Yi.byValue(o.setup)),i.setDTLS(new Bi(p,m,A))}if(o.crypto){var _=o.crypto[0];i.setCrypto(new Ui(_.id,_.suite,_.config,_.sessionConfig))}var k=Gi.SENDRECV;o.direction&&(k=Gi.byValue(o.direction),h.setDirection(k)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var b=new Map;for(var T in o.rtp){var N=o.rtp[T],D=N.payload,I=N.codec;if("RED"!==I.toUpperCase()&&"ULPFEC"!==I.toUpperCase()){var E={};for(var S in o.fmtp){var L=o.fmtp[S];if(L.payload===D){var C=L.config.split(";");for(var j in C){var x=C[j].split("="),O=x[0].trim(),z=x.splice(1).join("=").trim();E[O]=z}}}if("RTX"===I.toUpperCase())b.set(M(E.apt),D);else{var R=new zi(I,D,E);N.encoding>1&&R.setChannels(N.encoding),h.addCodec(R)}}}for(var B=0,U=b.entries();B<U.length;B++){var P=U[B],Q=h.getCodecForType(P[0]);Q&&Q.setRTX(P[1])}for(var Y=0;o.rtcpFb&&Y<o.rtcpFb.length;++Y){var G=h.getCodecForType(o.rtcpFb[Y].payload);if(G){var V=o.rtcpFb[Y].type,F=o.rtcpFb[Y].subtype?o.rtcpFb[Y].subtype.split(" "):null;G.addRTCPFeedback(new Ri(V,F))}}var W=o.ext;for(var Z in W){var X=W[Z];h.addExtension(X.value,X.uri)}var H=o.rids;for(var K in H){var J=H[K],q=new qi(J.id,Vi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=ji.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);q.setFormats($),q.setParams(tt)}h.addRID(q)}var rt=[];if(o.simulcast){var et=new Ki;if(o.simulcast.dir1)for(var ut=Vi.byValue(o.simulcast.dir1),st=ji.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Ji(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Vi.byValue(o.simulcast.dir2),ft=ji.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var dt=[],lt=0;lt<ft[vt].length;++lt)dt.push(new Ji(ft[vt][lt].scid,ft[vt][lt].paused));et.addSimulcastAlternativeStreams(ht,dt)}for(var gt=0,wt=et.getSimulcastStreams(Vi.SEND);gt<wt.length;gt++){for(var yt=wt[gt],mt=[],At=0;At<yt.length;At++){var pt=new Hi(yt[At].getId(),yt[At].isPaused()),_t=h.getRID(pt.getId());if(_t){for(var kt=_t.getFormats(),Mt=0;kt&&Mt<kt.length;++Mt){var bt=h.getCodecForType(kt[Mt]);bt&&pt.addCodec(bt)}pt.setParams(_t.getParams()),mt.push(pt)}}mt.length&&rt.push(mt)}h.setSimulcast(et)}var Tt=new Map;if(o.ssrcs)for(var Nt in o.ssrcs){var Dt=o.ssrcs[Nt],It=Dt.id,Et=Dt.attribute,St=Dt.value,Lt=Tt.get(It);if(Lt||(Lt=new Wi(It),Tt.set(Lt.getSSRC(),Lt)),xi("cname",Et))Lt.setCName(St);else if(xi("msid",Et)){var Ct=St.split(" "),jt=Ct[0],xt=Ct[1];Lt.setStreamId(jt),Lt.setTrackId(xt);var Ot=i.getStream(jt);Ot||(Ot=new Zi(jt),i.addStream(Ot));var zt=Ot.getTrack(xt);zt||((zt=new Xi(a,xt)).setMediaId(c),zt.setEncodings(rt),Ot.addTrack(zt)),zt.addSSRC(It)}}if(o.msid){var Rt=o.msid.split(" "),Bt=Rt[0],Ut=Rt[1],Pt=i.getStream(Bt);Pt||(Pt=new Zi(Bt),i.addStream(Pt));var Qt=Pt.getTrack(Ut);Qt||((Qt=new Xi(a,Ut)).setMediaId(c),Qt.setEncodings(rt),Pt.addTrack(Qt));for(var Yt=0,Gt=Tt.entries();Yt<Gt.length;Yt++){var Vt=En(Gt[Yt],2),Ft=Vt[0],Wt=Vt[1];Wt.getStreamId()||(Wt.setStreamId(Bt),Wt.setTrackId(Ut),Qt.addSSRC(Ft))}}for(var Zt=0,Xt=Tt.entries();Zt<Xt.length;Zt++){var Ht=En(Xt[Zt],2),Kt=Ht[0],Jt=Ht[1];if(!Jt.getStreamId()){var qt=Jt.getCName(),$t=c;Jt.setStreamId(qt),Jt.setTrackId($t);var tn=i.getStream(qt);tn||(tn=new Zi(qt),i.addStream(tn));var nn=tn.getTrack($t);nn||((nn=new Xi(a,$t)).setMediaId(c),nn.setEncodings(rt),tn.addTrack(nn)),nn.addSSRC(Kt)}}if(o.ssrcGroups)for(var rn in o.ssrcGroups){var en=o.ssrcGroups[rn],un=en.ssrcs.split(" "),sn=new Fi(en.semantics,un),on=Tt.get(M(un[0]));on&&i.getStream(on.getStreamId()).getTrack(on.getTrackId()).addSourceGroup(sn)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var an=new $i(o.sctpPort,o.maxMessageSize);h.setDataChannel(an)}i.addMedia(h)}return i};var nr=tr;_.defineProperty(Vt,"__esModule",{value:!0});var ir=Vt.SDPInfo=nr;Vt.CandidateInfo=sn,Vt.CodecInfo=fn,Vt.DTLSInfo=An,Vt.CryptoInfo=Mn,Vt.ICEInfo=Wn;var rr=Vt.MediaInfo=wi;Vt.Setup=gn,Vt.SourceGroupInfo=mi,Vt.SourceInfo=pi,Vt.StreamInfo=Ci,Vt.TrackInfo=Di,Vt.RTCPFeedbackInfo=an,Vt.TrackEncodingInfo=Mi,Vt.RIDInfo=Jn,Vt.SimulcastInfo=ri,Vt.SimulcastStreamInfo=$n,Vt.DataChannelInfo=oi;var er=Vt.Direction=ui,ur={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",d="version",l="architecture",g="console",w="mobile",y="tablet",m="smarttv",A="wearable",p="embedded",_="Amazon",k="Apple",M="ASUS",b="BlackBerry",T="Browser",N="Chrome",D="Firefox",I="Google",E="Huawei",S="LG",L="Microsoft",C="Motorola",j="Opera",x="Samsung",O="Sharp",z="Sony",R="Xiaomi",B="Zebra",U="Facebook",P="Chromium OS",Q="Mac OS",G=" Browser",V=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},F=function(t,n){return(void 0===t?"undefined":Y(t))===o&&-1!==W(n).indexOf(W(t))},W=function(t){return t.toLowerCase()},Z=function(t,n){if((void 0===t?"undefined":Y(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":Y(n))===u?t:t.substring(0,500)},X=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],d=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<d.length;o++)h=c[++u],(void 0===(a=d[o])?"undefined":Y(a))===s&&a.length>0?2===a.length?Y(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?Y(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},H=function(t,n){for(var i in n)if(Y(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(F(n[i][e],t))return"?"===i?r:i}else if(F(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,d],[/opios[\/ ]+([\w\.]+)/i],[d,[h,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[h,j+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[h,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[h,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],d],[/\bfocus\/([\w\.]+)/i],[d,[h,D+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[h,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[h,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[h,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[d,[h,D]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+G]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+G],d],[/samsungbrowser\/([\w\.]+)/i],[d,[h,x+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,U],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[h,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,N+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[d,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],d],[/(wolvic)\/([\w\.]+)/i],[h,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[h,D+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,W]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,x],[f,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,x],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,y]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,O],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,E],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,E],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,R],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,R],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,w]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,C],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,C],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,S],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,S],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,w]],[/(pixel c)\b/i],[c,[v,I],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,I],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,z],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,z],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,_],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,_],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,b],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,M],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,M],[f,w]],[/(nexus 9)/i],[c,[v,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,y]],[/(itel) ((\w+))/i],[[v,W],c,[f,H,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,y]],[/(surface duo)/i],[c,[v,L],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,w]],[/(u304aa)/i],[c,[v,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,y]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,y]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,w]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[v,c,[f,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,L],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,B],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,B],[f,w]],[/smart-tv.+(samsung)/i],[v,[f,m]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,x],[f,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,S],[f,m]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,m]],[/crkey/i],[[c,N+"cast"],[v,I],[f,m]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,_],[f,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,O],[f,m]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,z],[f,m]],[/(mitv-\w{5}) bui/i],[c,[v,R],[f,m]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Z],[c,Z],[f,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,z],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,L],[f,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,x],[f,A]],[/((pebble))app/i],[v,c,[f,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,A]],[/droid.+; (glass) \d/i],[c,[v,I],[f,A]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,B],[f,A]],[/(quest( \d| pro)?)/i],[c,[v,U],[f,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,p]],[/(aeobc)\b/i],[c,[v,_],[f,p]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[d,H,K]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,H,K],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Q],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,d],[/\(bb(10);/i],[d,[h,b]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[h,D+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[h,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,P],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,d],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,d]]},q=function(t,n){if((void 0===t?"undefined":Y(t))===s&&(n=t,t=r),!(this instanceof q))return new q(t,n).getResult();var g=(void 0===i?"undefined":Y(i))!==u&&i.navigator?i.navigator:r,m=t||(g&&g.userAgent?g.userAgent:""),A=g&&g.userAgentData?g.userAgentData:r,p=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(J,n):J,_=g&&g.userAgent==m;return this.getBrowser=function(){var t={};return t[h]=r,t[d]=r,X.call(t,m,p.browser),t[a]=function(t){return(void 0===t?"undefined":Y(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),_&&g&&g.brave&&Y(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,X.call(t,m,p.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,X.call(t,m,p.device),_&&!t[f]&&A&&A.mobile&&(t[f]=w),_&&"Macintosh"==t[c]&&g&&Y(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=y),t},this.getEngine=function(){var t={};return t[h]=r,t[d]=r,X.call(t,m,p.engine),t},this.getOS=function(){var t={};return t[h]=r,t[d]=r,X.call(t,m,p.os),_&&!t[h]&&A&&A.platform&&"Unknown"!=A.platform&&(t[h]=A.platform.replace(/chrome os/i,P).replace(/macos/i,Q)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return m},this.setUA=function(t){return m=(void 0===t?"undefined":Y(t))===o&&t.length>500?Z(t,500):t,this},this.setUA(m),this};q.VERSION="0.7.39",q.BROWSER=V([h,d,a]),q.CPU=V([l]),q.DEVICE=V([c,v,f,g,w,m,y,A,p]),q.ENGINE=q.OS=V([h,d]),t.exports&&(n=t.exports=q),n.UAParser=q;var $=(void 0===i?"undefined":Y(i))!==u&&(i.jQuery||i.Zepto);if($&&!$.ua){var tt=new q;$.ua=tt.getResult(),$.ua.get=function(){return tt.getUA()},$.ua.set=function(t){tt.setUA(t);var n=tt.getResult();for(var i in n)$.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":Y(f))?f:S)}(ur,ur.exports);var sr=L(ur.exports),or=["iOS"],ar=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}Et(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(or.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(sr),cr=gt.get("SdpParser"),hr=Array.from({length:31},(function(t,n){return n+35})),fr=Array.from({length:32},(function(t,n){return n+96})),vr=Array.from({length:14},(function(t,n){return n+1})),dr=Array.from({length:240},(function(t,n){return n+16})),lr={setSimulcast:function(t,n){if(cr.info("Setting simulcast. Codec: ",n),!(new ar).isChromium())return cr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return cr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return cr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",cr.info("Simulcast setted"),cr.debug("Simulcast SDP: ",t),t}catch(t){throw cr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return cr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),cr.info("Replaced SDP response for support stereo"),cr.debug("New SDP value: ",t),t},setDTX:function(t){return cr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),cr.info("Replaced SDP response for support dtx"),cr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting absolute capture time"),cr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting depency descriptor"),cr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)cr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=ir.parse(t),r=i.getMedia("video");cr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return cr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),cr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ar).isFirefox()&&(!n||gr(n)))if(t.includes("multiopus/48000/6"))cr.info("Multiopus already setted");else{cr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=lr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),cr.info("Multiopus offer created"),cr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return M(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=fr.concat(hr),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return M(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=vr.concat(dr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=ir.parse(t),r=ir.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new rr(s.getId(),s.getType())).setDirection(er.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=En(h[c],2),v=f[0],d=f[1];o.addExtension(v,d)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=ir.parse(t),e=null==(i=ir.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},gr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},wr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},yr={OPUS:"opus",MULTIOPUS:"multiopus"},mr=gt.get("PeerConnection"),Ar="Publisher",pr="Viewer",_r={track:"track",connectionStateChange:"connectionStateChange"},kr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Mr=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}Et(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=pr);var i=this;return yn((function(){return pn(this,(function(r){return mr.info("Creating new RTCPeerConnection"),mr.debug("RTC configuration provided by user: ",t),i.peer=Nr(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return mr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){return mr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(_r.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:mr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),mr.info("RTC Remote SDP was set successfully."),mr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),mr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=kr);var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return mr.info("Getting RTC Local SDP"),t=w(w({},kr),t),mr.debug("Options: ",t),(i=Tr(t.mediaStream))?Sr(n.peer,i,t):Lr(n.peer,t),mr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),mr.info("Peer offer created"),mr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=lr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=lr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=lr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=lr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=lr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=lr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),mr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){return[2,new st((function(r,e){try{var u=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(u,r)}catch(t){e(t)}}))]}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===pr)throw mr.error("Viewer attempting to update bitrate, this is not allowed"),new A("It is not possible for a viewer to update the bitrate.");return mr.info("Updating bandwidth restriction, bitrate value: ",n),mr.debug("SDP value: ",t),lr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(n.mode===pr)throw mr.error("Viewer attempting to update bitrate, this is not allowed"),new A("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw mr.error("Cannot update bitrate. No peer found."),new A("Cannot update bitrate. No peer found.");return mr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),mr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(mr.info("Getting RTC peer status"),!this.peer)return null;var t=Cr(this.peer);return mr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):mr.error("There is no ".concat(t.kind," track in active broadcast."))}else mr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?mr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Gt(this.peer,t),Bt(this.peerConnectionStats,this,[Yt])):mr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ar,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(_.values(wr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(_.values(yr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=I(w({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=ln(h).concat(ln(o.scalabilityModes)),r[c].scalabilityModes=ln(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=_.keys(r).map((function(t){return w({codec:t},r[t])}))}return i},n}(xt),br=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},Tr=function(t){if(!t)return null;if(t instanceof MediaStream&&br(t))return t;if(!(t instanceof MediaStream)){mr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(br(n))return n}throw mr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new A("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Nr=function(t,n){var i=new RTCPeerConnection(n);return Er(t,i),i};function Dr(t){return Ir.apply(this,arguments)}function Ir(){return Ir=yn((function(t){return pn(this,(function(n){return[2,new st((function(n){return g(n,t)}))]}))})),Ir.apply(this,arguments)}var Er=function(t,n){n.ontrack=yn((function(n){var i;return pn(this,(function(r){switch(r.label){case 0:if(mr.info("New track from peer."),mr.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,Dr(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return g((function(){t.emit(_r.track,n)}),0),[2]}}))})),n.connectionState?n.onconnectionstatechange=function(i){mr.info("Peer connection state change: ",n.connectionState),t.emit(_r.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){mr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(_r.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=yn((function(t){var i,r;return pn(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(mr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),mr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=lr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=lr.renegotiate(i.sdp,n.remoteDescription.sdp),mr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),mr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Sr=function(t,n,i){mr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ar).isChrome()?(mr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&mr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),mr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},Lr=function(t,n){var i=new ar;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Cr=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},jr={};_.defineProperty(jr,"__esModule",{value:!0}),jr.TypedEmitter=jt.EventEmitter;var xr=jr.TypedEmitter,Or=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}Et(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(xr),zr=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.bv({type:"response",transId:r,data:t})},reject:function(t){i.bv({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}Et(n,t);var i=n.prototype;return i.bv=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new st((function(e,u){if(!t||0===t.length)throw new A("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,I(w({},s),{resolve:e,reject:u}));try{r.bv(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new A("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.bv(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Or(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(xr),Rr=L(zr),Br=gt.get("Signaling"),Ur="wsConnectionSuccess",Pr="wsConnectionError",Qr="wsConnectionClose",Yr="broadcastEvent",Gr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}Et(n,t);var i=n.prototype;return i.connect=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){return[2,(Br.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(Br.info("Connected to server: ",t.webSocket.url),Br.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Ur,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new st((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Rr(t.webSocket),t.webSocket.onopen=function(){Br.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(Yr,n)})),Br.info("Connected to server: ",t.webSocket.url),Br.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Ur,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){Br.error("WebSocket not connected: ",t.webSocket.url),t.emit(Pr,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,Br.info("Connection closed with Signaling Server."),t.emit(Qr)}})))]}))}))()},i.close=function(){var t;Br.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:Br.info("Starting subscription to streamName: ",e.streamName),Br.debug("Subcription local description: ",t),c=Vr(n,i,r),t=lr.adaptCodecName(t,"AV1X",wr.AV1),h=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:h},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),g.label=1;case 1:if(g.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new A("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return g.sent(),Br.info("Sending view command"),[4,e.transactionManager.cmd("view",f)];case 3:return v=g.sent(),d=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(v.sdp=d?lr.adaptCodecName(v.sdp,wr.AV1,"AV1X"):v.sdp,Br.info("Command sent, subscriberId: ",v.subscriberId),Br.debug("Command result: ",v),e.serverId=v.subscriberId,e.clusterId=v.clusterId,e.streamViewId=v.streamViewId,X(e.streamName),H(e.serverId),K(v.streamViewId),nt(e.clusterId),v.sdp)];case 4:throw l=g.sent(),Br.error("Error sending view command, error: ",l),l;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d,l,g,w,y,m,p;return pn(this,(function(k){switch(k.label){case 0:if(d=Fr(n,i,r),Br.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(d.codec)),Br.debug("Publishing local description: ",t),l=null!=(a=null==(o=null==(s=null==(u=Mr.getCapabilities)?void 0:u.call(Mr,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(g=_.values(wr)).indexOf(d.codec))throw Br.error("Invalid codec ".concat(d.codec,". Possible values are: "),g),new A("Invalid codec ".concat(d.codec,". Possible values are: ").concat(g));if(l.length>0&&-1===l.indexOf(d.codec))throw Br.error("Unsupported codec ".concat(d.codec,". Possible values are: "),l),new A("Unsupported codec ".concat(d.codec,". Possible values are: ").concat(l));if(d.codec===wr.AV1&&(t=lr.adaptCodecName(t,"AV1X",wr.AV1)),w={name:e.streamName,sdp:t,codec:d.codec,sourceId:d.sourceId},d.priority){if(!(Number.isInteger(d.priority)&&d.priority>=-2147483648&&d.priority<=2147483647))throw new A("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");w.priority=d.priority}null!==d.record&&(w.record=d.record),Array.isArray(d.events)&&(w.events=d.events),k.label=1;case 1:if(k.trys.push([1,4,,5]),d.disableVideo&&d.disableAudio)throw new A("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return k.sent(),Br.info("Sending publish command"),[4,e.transactionManager.cmd("publish",w)];case 3:return y=k.sent(),d.codec===wr.AV1&&(m=null==(v=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:v.call(f,(function(t){return"video/AV1X"===t.mimeType})),y.sdp=m?lr.adaptCodecName(y.sdp,wr.AV1,"AV1X"):y.sdp),[2,(Br.info("Command sent, publisherId: ",y.publisherId),Br.debug("Command result: ",y),e.serverId=y.publisherId,e.clusterId=y.clusterId,X(e.streamName),H(e.serverId),J(y.feedId),nt(e.clusterId),y.sdp)];case 4:throw p=k.sent(),Br.error("Error sending publish command, error: ",p),p;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){return[2,(Br.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(xt),Vr=function(t,n,i){var r="object"==(void 0===t?"undefined":Y(t))?t:{};return 0===_.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Fr=function(t,n,i){var r="object"==(void 0===t?"undefined":Y(t))?t:{};return 0===_.keys(r).length&&(r={codec:null!=t?t:wr.H264,record:n,sourceId:i}),r},Wr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return Et(n,t),n}(Gn(A)),Zr=gt.get("Director"),Xr="WebRtc",Hr="",Kr="https://director.millicast.com",Jr={setEndpoint:function(t){Kr=t.replace(/\/$/,"")},getEndpoint:function(){return Kr},setLiveDomain:function(t){Hr=t.replace(/\/$/,"")},getLiveDomain:function(){return Hr},getPublisher:yn((function(t,n,i){var r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=Xr),r=qr(t,n,i),Zr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Jr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Wr(a.data.message,o.status);return[2,(a=te(a),Zr.debug("Getting publisher response: ",a),Z(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),Zr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:yn((function(t,n,i){var r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=$r(t,n,i),Z(r.streamAccountId),Zr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=I(w({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Jr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Wr(a.data.message,o.status);return[2,(a=te(a),Zr.debug("Getting subscriber response: ",a),r.subscriberToken&&(a.data.subscriberToken=r.subscriberToken),a.data)];case 4:throw c=h.sent(),Zr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},qr=function(t,n,i){var r="object"==(void 0===t?"undefined":Y(t))?t:{};return 0===_.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},$r=function(t,n,i){var r="object"==(void 0===t?"undefined":Y(t))?t:{};return 0===_.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},te=function(t){if(Jr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Jr.getLiveDomain())}));t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(Jr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(Jr.getEndpoint()).concat(e));var u=t.data.drmObject.fairPlayUrl;u&&(t.data.drmObject.fairPlayUrl="".concat(Jr.getEndpoint()).concat(u));var s=t.data.drmObject.fairPlayCertUrl;s&&(t.data.drmObject.fairPlayCertUrl="".concat(Jr.getEndpoint()).concat(s))}return t};function ne(t){this.message=t}ne.prototype=new A,ne.prototype.name="InvalidCharacterError";var ie=(void 0===f?"undefined":Y(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ne("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function re(t){this.message=t}function ee(t,n){if("string"!=typeof t)throw new re("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(ie(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return ie(n)}}(t.split(".")[i]))}catch(t){throw new re("Invalid token specified: "+t.message)}}re.prototype=new A,re.prototype.name="InvalidTokenError";var ue={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":Y(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new A,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ue,ue.exports);var se=ue.exports,oe={exports:{}};!function(t,e){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),v=i(9708),d=i(6914),l=i(2294),g=i(6133),w=i(1152),y=i(8863),m=i(2036),p={Base:function(){function t(t){this.type=t,this.$_root=null,this.Pv={},this.Mv()}var n=t.prototype;return n.Mv=function(){this.Tv=new l.Ids,this.Sv=null,this.Nv=new g.Manager,this.Iv=null,this.Dv=null,this.Ev=null,this.Lv={},this.xv=[],this.Cv=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof v.describe,"Manifest functionality disabled"),v.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.Ov(n,"Dv")},n.alter=function(t){r(t&&"object"==(void 0===t?"undefined":Y(t))&&!Array.isArray(t),"Invalid targets argument"),r(!this.Rv(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.Iv,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.Pv.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.zv("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof A||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.Bv("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==(void 0===t?"undefined":Y(t))&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.Bv("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.zv("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.Ov(n,"Ev")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.Bv("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.Bv("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.Sv=a.preferences(n.Sv,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.Sv=a.preferences(n.Sv,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.Bv("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,ln(n));return r.$_setFlag("only",!!r.Dv,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.Rv(),"Cannot set caching inside a ruleset"),r(!this.Iv,"Cannot override schema cache"),r(void 0===this.Lv.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.Iv=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=_.create(_.getPrototypeOf(this));return this.Uv(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.Cv.has(r)&&(i.xv=i.xv.filter((function(t){return t.keep||t.name!==r})),i.Cv.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.Rv(),"Cannot concatenate onto a schema with open ruleset"),r(!t.Rv(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=_.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.Tv.concat(t.Tv),i.Nv.register(t,g.toSibling),i.Sv=i.Sv?a.preferences(i.Sv,t.Sv):t.Sv,i.Dv=m.merge(i.Dv,t.Dv,t.Ev),i.Ev=m.merge(i.Ev,t.Ev,t.Dv);for(var h=0,f=t.Cv.keys();h<f.length;h++)n(h,f);for(var v=0,d=t.xv;v<d.length;v++){var l=d[v];t.Pv.rules[l.method].multi||i.Cv.set(l.name,l),i.xv.push(l)}if(i.Lv.empty&&t.Lv.empty){i.Lv.empty=i.Lv.empty.concat(t.Lv.empty);var w=_.assign({},t.Lv);delete w.empty,s(i.Lv,w)}else if(t.Lv.empty){i.Lv.empty=t.Lv.empty;var y=_.assign({},t.Lv);delete y.empty,s(i.Lv,y)}else s(i.Lv,t.Lv);for(var A in t.$_terms){var p=t.$_terms[A];p?i.$_terms[A]?i.$_terms[A]=i.$_terms[A].concat(p):i.$_terms[A]=p.slice():i.$_terms[A]||(i.$_terms[A]=p)}return this.$_root.Qv&&this.$_root.Qv.Fv(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.Tv.reach(t)},n.fork=function(t,n){r(!this.Rv(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.Tv.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.Pv;a.assertOptions(t,_.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.xv.length-1:this.$_temp.ruleset;r(i>=0&&i<this.xv.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.xv.length;++s){var o=u.xv[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.xv[s]=c,u.Cv.get(c.name)===o&&u.Cv.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.Rv(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return w.location?w.location(this):this},n.validate=function(t,n){return y.entry(t,this,n)},n.validateAsync=function(t,n){return y.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==(void 0===t?"undefined":Y(t)),"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=_.assign({},t);i.Kg=[],i.method=i.method||i.name;var e=this.Pv.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===_.keys(u).length||_.keys(u).length===this.Pv.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.Kg.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.Yv(i.name,{clone:!1}),s.Cv.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.xv.unshift(i):s.xv.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.Lv:{},o=u.messages?d.merge(this.Pv.messages,u.messages):this.Pv.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.Lv[t]},n.$_getRule=function(t){return this.Cv.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.Tv.labels(t)},n.$_match=function(t,n,i,r){(i=_.assign({},i)).abortEarly=!0,i.Vv=!1,n.snapshot();var e=!y.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),l.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.Rv(),"Cannot add this rule inside a ruleset"),this.Nv.reset(),this.Tv.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.Pv[r][e]&&t.Pv[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.Pv.rebuild&&this.Pv.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.Nv.register(t,r),this.Tv.register(t,{key:e})},n.$_property=function(t){return this.Pv.properties[t]},n.$_reach=function(t){return this.Tv.reach(t)},n.$_rootReferences=function(){return this.Nv.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.Rv(),"Cannot set flag inside a ruleset");var e=this.Pv.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.Lv[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.Lv[t]=n,s.$_mutateRegister(n)):delete s.Lv[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(ln(i)))},n.$_validate=function(t,n,i){return y.validate(t,this,n,i)},n.Uv=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=_.assign({},this.$_temp),t.$_temp.whens={},t.Tv=this.Tv.clone(),t.Sv=this.Sv,t.Dv=this.Dv&&this.Dv.clone(),t.Ev=this.Ev&&this.Ev.clone(),t.xv=this.xv.slice(),t.Cv=e(this.Cv,{shallow:!0}),t.Nv=this.Nv.clone(),t.Lv=_.assign({},this.Lv),t.Iv=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.Gv[i].bind(t);return t},n.Wv=function(){var t=this.clone();t.Mv();var n=t.Pv.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.zv=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(jn(e={},a.symbols.literal,!0),jn(e,"literal",n),n=e),this.$_setFlag(t,n)},n.Zv=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,d=f.then,l=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(d){var w=n.localize(ln(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),y=d.Zv(t,w,i),m=y.schema,A=y.id;r.push(m),e.push("".concat(g,".then").concat(A?"(".concat(A,")"):""));break}}else if(l){var p=n.localize(ln(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),_=l.Zv(t,p,i),k=_.schema,M=_.id;r.push(k),e.push("".concat(g,".otherwise").concat(M?"(".concat(M,")"):""));break}}if(s.break&&e.length>c)break}}var b=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",b),!b)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[b])return{schema:this.$_temp.whens[b],id:b};var T=this;this.Pv.generate&&(T=this.Pv.generate(this,t,n,i));for(var N=0;N<r.length;N++){var D=r[N];T=T.concat(D)}return this.$_root.Qv&&this.$_root.Qv.Fv(T,[this].concat(ln(r))),this.$_temp.whens[b]=T,{schema:T,id:b}},n.Bv=function(t,n,i){var e;void 0===i&&(i={}),r(!this.Rv(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,ln(n)),u.$_temp.ruleset=!1,u},n.Rv=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.Yv=function(t,n){if(void 0===n&&(n={}),!this.Cv.has(t))return this;var i=!1!==n.clone?this.clone():this;i.Cv.delete(t);for(var r=[],e=0;e<i.xv.length;++e){var u=i.xv[e];u.name!==t||u.keep?r.push(u):i.Rv()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.xv=r,i},n.Ov=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new m:e&&(i[n]=t.length?new m:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="Ev"===n?"Dv":"Ev";i[o]&&(i[o].remove(s),i[o].length||(r("Dv"===n||!i.Lv.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.Nv)}return i},Ct(t,[{key:"ruleset",get:function(){r(!this.Rv(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.xv.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};p.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},p.Base.prototype.isImmutable=!0,p.Base.prototype.deny=p.Base.prototype.invalid,p.Base.prototype.disallow=p.Base.prototype.invalid,p.Base.prototype.equal=p.Base.prototype.valid,p.Base.prototype.exist=p.Base.prototype.required,p.Base.prototype.not=p.Base.prototype.invalid,p.Base.prototype.options=p.Base.prototype.prefs,p.Base.prototype.preferences=p.Base.prototype.prefs,t.exports=new p.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.Kv=t.max||s.max,this.Hv=new Map,this.Xv=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":Y(t))){var i=this.Hv.get(t);if(i)return i.value=n,void this.Xv.first(i);i=this.Xv.unshift({key:t,value:n}),this.Hv.set(t,i),this.qv()}},n.get=function(t){var n=this.Hv.get(t);if(n)return this.Xv.first(n),e(n.value)},n.qv=function(){if(this.Hv.size>this.Kv){var t=this.Xv.pop();this.Hv.delete(t.key)}},Ct(t,[{key:"length",get:function(){return this.Hv.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.Jv(t),this.unshift(t))},n.pop=function(){return this.Jv(this.tail)},n.Jv=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,r,e){var u,s,o=e(375),a=e(7916),c=e(5934),h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.version=c.version,r.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},r.symbols={any:i("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},r.assertOptions=function(t,n,i){void 0===i&&(i="Options"),o(t&&"object"==(void 0===t?"undefined":Y(t))&&!Array.isArray(t),"Options must be of type object");var r=_.keys(t).filter((function(t){return!n.includes(t)}));o(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},r.checkPreferences=function(t){var n=(s=s||e(3378)).preferences.validate(t);if(n.error)throw new a([n.error.details[0].message])},r.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},r.default=function(t,n){return void 0===t?n:t},r.isIsoDate=function(t){return h.isoDate.test(t)},r.isNumber=function(t){return"number"==typeof t&&!T(t)},r.isResolvable=function(t){return!!t&&(t[r.symbols.ref]||t[r.symbols.template])},r.isSchema=function(t,n){void 0===n&&(n={});var i=t&&t[r.symbols.any];return!!i&&(o(n.legacy||i.version===r.version,"Cannot mix different versions of joi schemas"),!0)},r.isValues=function(t){return t[r.symbols.values]},r.limit=function(t){return Number.isSafeInteger(t)&&t>=0},r.preferences=function(t,n){u=u||e(6914),t=t||{},n=n||{};var i=_.assign({},t,n);return n.errors&&t.errors&&(i.errors=_.assign({},t.errors,n.errors),i.errors.wrap=_.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=u.compile(n.messages,t.messages)),delete i[r.symbols.prefs],i},r.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},r.validateArg=function(t,n,i){var e=i.assert,u=i.message;if(r.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},r.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];o(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(ln(e))):(o=n).valid.apply(o,ln(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==(void 0===n?"undefined":Y(n)),"Invalid schema content:",void 0===n?"undefined":Y(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,ln(n))}return a.apply(void 0,[t].concat(ln(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(_.getPrototypeOf(n)===_.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=(void 0===i?"undefined":Y(i))||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=(void 0===t?"undefined":Y(t)))return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(_.getPrototypeOf(t)===_.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":Y(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==(void 0===i?"undefined":Y(i)),"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],d=f===o.switch.length-1;e.assertOptions(v,d?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var l={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(l.is=l.is.required()),d){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),l.otherwise=t.$_compile(g))}h.switch.push(l)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=(void 0===a?"undefined":Y(a))&&(this.local.key=a)}}var i=t.prototype;return i.$v=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.iw(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.iw(this.template)||this.iw(this.prefs.messages)||this.iw(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.iw=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=(void 0===r?"undefined":Y(r))&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(!r.errors.label)return"";if(t.label)return t.label;var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=A.stackTraceLimit;A.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return A.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof A){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=(void 0===t?"undefined":Y(t))})),type:u.code,context:u.local})}}return i.length>1&&(i=ln(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).ew=r,e.details=i,e}return Et(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(Gn(A)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==(void 0===n?"undefined":Y(n)),"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!y[t],"Rule conflict in",v.type,t),y[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(jn({},t,n))};h[t]=i,A[t]=n},c=_.getPrototypeOf(t),h=e(c),f=t.Uv(_.create(h)),v=_.assign({},n);delete v.base,h.Pv=v;var d=c.Pv||{};v.messages=s.merge(d.messages,v.messages),v.properties=_.assign({},d.properties,v.properties),f.type=v.type,v.flags=_.assign({},d.flags,v.flags);var l=_.assign({},d.terms);if(v.terms)for(var g in v.terms){var w=v.terms[g];r(void 0===f.$_terms[g],"Invalid term override for",v.type,g),f.$_terms[g]=w.init,l[g]=w}v.terms=l,v.args||(v.args=d.args),v.prepare=o.prepare(v.prepare,d.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,d.coerce),v.validate=o.validate(v.validate,d.validate);var y=_.assign({},d.rules);if(v.rules)for(var m in v.rules)i(m);v.rules=y;var A=_.assign({},d.modifiers);if(v.modifiers)for(var p in v.modifiers)a(p);if(v.modifiers=A,v.overrides){for(var k in h.Gv=c,f.$_super={},v.overrides)r(c[k],"Cannot override missing",k),v.overrides[k][u.symbols.parent]=c[k],f.$_super[k]=c[k].bind(f);_.assign(h,v.overrides)}v.cast=_.assign({},d.cast,v.cast);var M=_.assign({},d.manifest,v.manifest);return M.build=o.build(v.manifest&&v.manifest.build,d.manifest&&d.manifest.build),v.manifest=M,v.rebuild=o.rebuild(v.rebuild,d.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?ln(new Set(ln(t.from).concat(ln(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":Y(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":Y(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),v=i(8901),d=i(9708),l=i(6133),g=i(3328),w=i(1152),y={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),y.generate(this,y.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,ln(n))}},i={nw:new Set(_.keys(y.types))},r=0,e=i.nw;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in _.assign(i,y.methods),y.aliases){var c=y.aliases[a];i[a]=i[c]}return i.x=i.expression,w.setup&&w.setup(i),i}};y.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];y.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return y.assert(t,n,!1,r)},build:function(t){return s("function"==typeof d.build,"Manifest functionality disabled"),d.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return y.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=_.assign({},this),r=0,e=i.nw;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Bn(g,ln(n))},extend:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.verifyFlat(n,"extend"),u=u||i(3378),s(n.length,"You need to provide at least one extension"),this.assert(n,u.extensions);var e=_.assign({},this);e.nw=new Set(e.nw);for(var o=0;o<n.length;o++){var a,h=function(t){var n=d[t];s(void 0===e[n.type]||e.nw.has(n.type),"Cannot override name",n.type);var i=n.base||a.any(),r=v.type(i,n);e.nw.add(n.type),e[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return y.generate(this,r,n)}},f=n[o];"function"==typeof f&&(f=f(e)),this.assert(f,u.extension);for(var d=y.expandExtension(f,e),l=0;l<d.length;l++)a=this,h(l)}return e},isError:f.ValidationError.isError,isExpression:g.isTemplate,isRef:l.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=l).in.apply(r,ln(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=l).create.apply(e,ln(n))},types:function(){for(var t={},n=0,i=this.nw;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in y.aliases)t[e]=this[e]();return t}},y.assert=function(t,n,i,r){var e=r[0]instanceof A||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof A)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},y.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.Pv.args&&i.length?(r=n.Pv).args.apply(r,[n].concat(ln(i))):n},y.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.nw;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=_.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=y.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){var i=function(i){var e=t[i];if("root"===i||u.isTemplate(e))return n[i]=e,"continue";if("string"==typeof e)return n[i]=new u(e),"continue";r("object"==(void 0===e?"undefined":Y(e))&&!Array.isArray(e),"Invalid message for",i);var s=i;for(i in n[s]=n[s]||{},e){var o=e[i];"root"===i||u.isTemplate(o)?n[s][i]=o:(r("string"==typeof o,"Invalid message for",i,"in",s),n[s][i]=new u(o))}};if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var s in r("object"==(void 0===t?"undefined":Y(t))&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t)i(s);return n},n.decompile=function(t){var n=function(n){var r=t[n];if("root"===n)return i.root=r,"continue";if(u.isTemplate(r))return i[n]=r.describe({compact:!0}),"continue";var e=n;for(n in i[e]={},r){var s=r[n];"root"!==n?i[e][n]=s.describe({compact:!0}):i[e].root=s}},i={};for(var r in t)n(r);return i},n.merge=function(t,i){var s=function(t){var n=i[t];if("root"===t||u.isTemplate(n))return o[t]=n,"continue";if("string"==typeof n)return o[t]=new u(n),"continue";r("object"==(void 0===n?"undefined":Y(n))&&!Array.isArray(n),"Invalid message for",t);var e=t;for(t in o[e]=o[e]||{},n){var s=n[t];"root"===t||u.isTemplate(s)?o[e][t]=s:(r("string"==typeof s,"Invalid message for",t,"in",e),o[e][t]=new u(s))}};if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var o=e(t);for(var a in i)s(a);return o}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.ow=new Map,this.hw=new Map,this.aw=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.ow=new Map(this.ow),t.hw=new Map(this.hw),t.aw=this.aw,t},n.concat=function(t){t.aw&&(this.aw=!0);for(var n=0,i=t.ow.entries();n<i.length;n++){var e=En(i[n],2),u=e[0],s=e[1];r(!this.hw.has(u),"Schema id conflicts with existing key:",u),this.ow.set(u,s)}for(var o=0,a=t.hw.entries();o<a.length;o++){var c=En(a[o],2),h=c[0],f=c[1];r(!this.ow.has(h),"Schema key conflicts with existing id:",h),this.hw.set(h,f)}},n.fork=function(t,n,i){var u=this.uw(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.cw(i);if(!r)return ln(n).concat(ln(t)).join(".");var e=t.slice(1);return n=ln(n).concat([r.schema.Lv.label||i]),e.length?r.schema.Tv.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.cw(i);r(e,"Schema does not contain path",ln(n).concat(ln(t)).join("."));var u=t.slice(1);return u.length?e.schema.Tv.reach(u,ln(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.Tv.aw)&&(this.aw=!0);var u=t.Lv.id;if(u){var s=this.ow.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.hw.has(u),"Schema id conflicts with existing key:",u),this.ow.set(u,{schema:t,id:u})}i&&(r(!this.hw.has(i),"Schema already contains key:",i),r(!this.ow.has(i),"Schema key conflicts with existing id:",i),this.hw.set(i,{schema:t,id:i}))}},n.reset=function(){this.ow=new Map,this.hw=new Map,this.aw=!1},n.uw=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.cw(e);r(u,"Schema does not contain path",ln(n).concat(ln(t)).join(".")),i=[u].concat(ln(i));var s=t.slice(1);return s.length?u.schema.Tv.uw(s,ln(n).concat([e]),i):i},n.cw=function(t){return this.ow.get(t)||this.hw.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.Lv.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.Lv)if("_"!==r[0]){var e=s.scan(t.Lv[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).Lv[r]=e)}for(var u=0;u<t.xv.length;++u){var o=t.xv[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=_.assign({},o);c.args=a,i.xv[u]=c,i.Cv.get(o.name)===o&&i.Cv.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==(void 0===t?"undefined":Y(t))){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(ln(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var d=i.each(t,I(w({},n),{path:a,key:o}));return d===t?void 0:d}for(var l in t)if("_"!==l[0]){var g=s.scan(t[l],n,i,[l].concat(ln(a)),o);void 0!==g&&((c=c||_.assign({},t))[l]=g)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==Y(n.prefix),"options.prefix must be of type object");var i=_.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=En(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,I(w({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==(void 0===t?"undefined":Y(t)),"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),_.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.Kg(i.context,n,e):"local"===this.type?this.Kg(r,n,e):this.ancestor?"root"===this.ancestor?this.Kg(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.Kg(n.ancestors[this.ancestor-1],n,e)):this.Kg(t,n,e)},n.Kg=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return ln(t.path.slice(0,-this.ancestor)).concat(ln(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=ln(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=_.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.Nv.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},Ct(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(ln(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(ln(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.lw=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.lw),this.lw=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.lw),this.lw=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.Ov=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.Ov=this.Ov||new Map;for(var r=this.Ov,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.Ov)return u(this.Ov,t,{iterables:!0})},n.override=function(t,n){if(this.Ov){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.Ov,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.iw=null,n){var i=n,r=i.functions,s=E(i,["functions"]);this.gw=_.keys(s).length?u(s):void 0,this._w=r,this._w&&(e(_.keys(this._w).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(_.values(this._w).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.gw=void 0,this._w=void 0;this.dw()}var n=t.prototype;return n.dw=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var d=this.fw(f.decode(h),{raw:o,wrapped:v});r.push(d),"string"!=typeof d&&(i=!0);var l=s.slice(c+a.length);l&&r.push(f.decode(l))}else r.push("{".concat(f.decode(s)))}i?this.iw=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.gw&&t.compact)return this.source;var n={template:this.source};return this.gw&&(n.options=this.gw),this._w&&(n.functions=this._w),n},n.isDynamic=function(){return!!this.iw},n.refs=function(){var t;if(this.iw){for(var n=[],i=0,r=this.iw;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,ln(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.iw&&1===this.iw.length?this.ww(this.iw[0],t,n,i,r,{}):this.render(t,n,i,r)},n.ww=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,ln(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.iw;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.ww(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var d=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(d,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.fw=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.gw);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,ln(t));return void 0!==r?r:null}};try{var a=this._w?w(w({},f.functions),this._w):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?I(w({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":Y(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,w({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,d=t.entries();v<d.length;v++){var l=En(d[v],2),g=l[0],y=l[1];c.push("".concat(g.toString()," -> ").concat(y.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var m=[],A=0;A<t.length;A++){var p=t[A];m.push(f.stringify(p,n,i,r,e,w({arrayItems:!0},u)))}return f.wrap(m.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==(void 0===t?"undefined":Y(t))?Array.isArray(t)?t.length:_.keys(t).length:null},msg:function(t){var n=En(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?b(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,ln(i[0])):(e=t).try.apply(e,ln(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.Lv.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],d=e.nest(f.schema,"match.".concat(c));d.snapshot();var l=f.schema.$_validate(t,d,u);l.errors?(a.push(l.errors),d.restore()):(o.push(l.value),d.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.Lv.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var w=[],y=0;y<i.$_terms.matches.length;++y){var m=i.$_terms.matches[y];if(m.schema){var A=e.nest(m.schema,"match.".concat(y));A.snapshot();var p=m.schema.$_validate(t,A,u);if(!p.errors)return A.commit(),p;A.restore(),w.push({schema:m.schema,reports:p.errors})}else for(var _=m.ref?m.ref.resolve(t,e,u):t,k=m.is?[m]:m.switch,M=0;M<k.length;++M){var b=k[M],T=b.is,N=b.then,D=b.otherwise,I="match.".concat(y).concat(m.switch?"."+M:"");if(T.$_match(_,e.nest(T,"".concat(I,".is")),u)){if(N)return N.$_validate(t,e.nest(N,"".concat(I,".then")),u)}else if(D)return D.$_validate(t,e.nest(D,"".concat(I,".otherwise")),u)}}return v.errors(w,n)},rules:{conditional:{method:function(t,n){u(!this.Lv.mw,"Unreachable condition"),u(!this.Lv.match,"Cannot combine match mode",this.Lv.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("mw",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.Lv.mw,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.Lv.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("pw",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var d=En(f.code.split("."),2),l=d[0];"base"!==d[1]?u.push({type:c.type,report:f}):"object.base"===f.code?e.add(f.local.type):e.add(l)}else for(var g=0,w=f.local.valids;g<w.length;g++){var y=w[g];e.add(y)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:ln(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,ln(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.Lv.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,d=c.then,l=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:d,otherwise:l,switch:c.switch,break:c.break}):t.when(f,{then:d,otherwise:l,break:c.break})}else{for(var w={},y=0;y<r.length;y++){var m=r[y],A=m.target,p=m.adjuster;w[A]=p}t=t.alter(w)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},Aw:{init:[]},yw:{init:[]},Mw:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.Lv.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(ln(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(ln(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.Lv.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.Mw.slice(),a=i.$_terms.ordered.slice(),h=ln(i.$_terms.yw).concat(ln(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var d=s(),l=t.length,g=0;g<l;++g){var w=t[g],y=!1,m=!1,A=v?g:new Number(g),p=ln(e.path).concat([A]);if(i.Lv.sparse||void 0!==w){for(var _=[t].concat(ln(e.ancestors)),k=0,M=i.$_terms.Aw;k<M.length;k++){var b=M[k];if(b.$_match(w,e.localize(p,_,b),u,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:g,value:w},e.localize(p))),u.abortEarly)return d;y=!0,a.shift();break}}if(!y){if(i.$_terms.ordered.length){if(a.length){var T,N=a.shift(),D=N.$_validate(w,e.localize(p,_,N),u);if(D.errors){if((T=d).push.apply(T,ln(D.errors)),u.abortEarly)return d}else if("strip"===N.Lv.result)f.fastSplice(t,g),--g,--l;else{if(!i.Lv.sparse&&void 0===D.value){if(d.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly)return d;continue}t[g]=D.value}continue}if(!i.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return d;break}}for(var I=[],E=o.length,S=0;S<E;++S){var L=e.localize(p,_,o[S]);L.snapshot();var C=o[S].$_validate(w,L,u);if(I[S]=C,!C.errors){if(L.commit(),t[g]=C.value,m=!0,f.fastSplice(o,S),--S,--E,!i.Lv.sparse&&void 0===C.value&&(d.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly))return d;break}L.restore()}if(!m){var j=u.stripUnknown&&!!u.stripUnknown.arrays||!1;E=h.length;for(var x=0;x<h.length;x++){var O=h[x],z=void 0,R=o.indexOf(O);if(-1!==R)z=I[R];else{var B=e.localize(p,_,O);if(B.snapshot(),!(z=O.$_validate(w,B,u)).errors){B.commit(),"strip"===O.Lv.result?(f.fastSplice(t,g),--g,--l):i.Lv.sparse||void 0!==z.value?t[g]=z.value:(d.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),y=!0),m=!0;break}B.restore()}if(1===E){var U;if(j){f.fastSplice(t,g),--g,--l,m=!0;break}if((U=d).push.apply(U,ln(z.errors)),u.abortEarly)return d;y=!0;break}}if(!y&&(i.$_terms.yw.length||i.$_terms.Mw.length)&&!m){if(j){f.fastSplice(t,g),--g,--l;continue}if(d.push(r("array.includes",{pos:g,value:w},e.localize(p))),u.abortEarly)return d}}}}else{if(d.push(r("array.sparse",{key:A,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly)return d;a.shift()}}return o.length&&f.fillMissedErrors(i,d,o,t,e,u),a.length&&(f.fillOrderedErrors(i,d,a,t,e,u),d.length||f.fillDefault(a,t,e,u)),d.length?d:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.Lv.pw,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.Lv.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,d={string:_.create(null),number:_.create(null),undefined:_.create(null),boolean:_.create(null),bigint:_.create(null),object:new Map,function:new Map,custom:new Map},l=f||s,g=h.ignoreUndefined,w=0;w<t.length;++w){var y=v?o(t[w],v):t[w],m=f?d.custom:d[void 0===y?"undefined":Y(y)];if(u(m,"Failed to find unique map container for type",void 0===y?"undefined":Y(y)),m instanceof Map){for(var A=m.entries(),p=void 0;!(p=A.next()).done;)if(l(p.value[0],y)){var k=e.localize(ln(e.path).concat([w]),[t].concat(ln(e.ancestors))),M={pos:w,value:t[w],dupePos:p.value[1],dupeValue:t[p.value[1]]};return v&&(M.path=c),a("array.unique",M,k)}m.set(y,w)}else{if((!g||void 0!==y)&&void 0!==m[y]){var b={pos:w,value:t[w],dupePos:m[y],dupeValue:t[m[y]]};return v&&(b.path=c),a("array.unique",b,e.localize(ln(e.path).concat([w]),[t].concat(ln(e.ancestors))))}m[y]=w}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.yw=[],t.$_terms.Aw=[],t.$_terms.Mw=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.Lv.presence?t.$_terms.Mw.push(r):"forbidden"===r.Lv.presence?t.$_terms.Aw.push(r):t.$_terms.yw.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,ln(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,ln(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].Lv.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.Lv.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(ln(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,ln(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.Lv.pw)&&(u(!n.Lv.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("pw",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":Y(a);if(v!==(void 0===c?"undefined":Y(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.Lv.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.Lv.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.Lv.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,ln(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,ln(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.Lv.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||T(t.getTime())){var u=i.Lv.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(T(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=b(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return T(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),d={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"Tw",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":Y(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=d.clone(t,u);var s=[];if(i.$_terms.renames&&!d.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(_.keys(t));if(i.$_terms.keys)for(var a=[t].concat(ln(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,l=t[v];o.delete(v);var g=e.localize(ln(e.path).concat([v]),a,f),w=f.schema.$_validate(l,g,u);if(w.errors){var y;if(u.abortEarly)return{value:t,errors:w.errors};void 0!==w.value&&(t[v]=w.value),(y=s).push.apply(y,ln(w.errors))}else"strip"===f.schema.Lv.result||void 0===w.value&&void 0!==l?delete t[v]:void 0!==w.value&&(t[v]=w.value)}if(o.size||i.Lv.Sw){var m=d.unknown(i,t,o,s,e,u);if(m)return m}if(i.$_terms.dependencies)for(var A=0,p=i.$_terms.dependencies;A<p.length;A++){var k=p[A];if(null===k.key||!1!==d.isPresent(k.options)(k.key.resolve(t,e,u,null,{shadow:!1}))){var M=d.dependencies[k.rel](i,k,t,e,u);if(M){var b=i.$_createError(M.code,t,M.context,e,u);if(u.abortEarly)return{value:t,errors:b};s.push(b)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),d.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===_.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(ln(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==(void 0===t?"undefined":Y(t)),"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(_.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new d.Keys,t)r(u)}else i.$_terms.keys=new d.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(_.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),d.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),d.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return d.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(jn(u={},r?"regex":"schema",t),jn(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("Sw",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(d.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),d.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=Bn(d.Keys,ln(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=d.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],l=v.regex,g=v.schema,w=v.rule,y=v.fallthrough,m=v.matches;t=t.pattern(l||g,w,{fallthrough:y,matches:m})}if(n.renames)for(var A=0,p=n.renames;A<p.length;A++){var _=p[A],k=_.from,M=_.to,b=_.options;t=t.rename(k,M,b)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),d.clone=function(t,n){if("object"==(void 0===t?"undefined":Y(t))){if(n.nonEnumerables)return u(t,{shallow:!0});var i=_.create(_.getPrototypeOf(t));return _.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),_.defineProperty(r,"name",{value:t.name,writable:!1}),_.defineProperty(r,"length",{value:t.length,writable:!1}),_.assign(r,t),r},d.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==Y(r[r.length-1])?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new d.Dependency(n,i,o,r,u)),v},d.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=d.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:d.keysToLabels(t,s),missing:u,missingWithLabels:d.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:d.keysToLabels(t,h),peers:f,peersWithLabels:d.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.xor",context:h})}}},d.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},d.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},d.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var d=a.from.exec(f);d&&c.push({from:f,to:a.to,match:d})}}else!_.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var l=0;l<c.length;l++){var g=c[l],w=g.from,y=g.to;if(y instanceof v&&(y=y.render(n,i,r,g.match)),w!==y){if(!a.options.multiple&&u[y]&&(e.push(t.$_createError("object.rename.multiple",n,{from:w,to:y,pattern:h},i,r)),r.abortEarly)||_.prototype.hasOwnProperty.call(n,y)&&!a.options.override&&!u[y]&&(e.push(t.$_createError("object.rename.override",n,{from:w,to:y,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[w]?delete n[y]:n[y]=n[w],u[y]=!0,a.options.alias||delete n[w]}}}return!0},d.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(ln(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],d=n[v],l=ln(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var w=t.$_terms.patterns[g];if(w.regex){var y=w.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),y?"pass":"error"),!y)continue}else if(!w.schema.$_match(v,e.nest(w.schema,"pattern.".concat(g)),u))continue;i.delete(v);var m=e.localize(l,c,{schema:w.rule,key:v}),A=w.rule.$_validate(d,m,u);if(A.errors){var p;if(u.abortEarly)return{value:n,errors:A.errors};(p=r).push.apply(p,ln(A.errors))}if(w.matches&&o[g].push(v),n[v]=A.value,!w.fallthrough)break}if(s)for(var _=0;_<o.length;++_){var k=o[_];if(k){var M=t.$_terms.patterns[_].matches,b=e.localize(e.path,c,M),T=M.$_validate(k,b,u);if(T.errors){var N=h.details(T.errors,{override:!1});N.matches=k;var D=t.$_createError("object.pattern.match",n,N,e,u);if(u.abortEarly)return{value:n,errors:D};r.push(D)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&void 0===t.Lv.unknown||u.skipFunctions)for(var I=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),E=0;E<i.length;E++){var S=i[E];I?(delete n[S],i.delete(S)):"function"==typeof n[S]&&i.delete(S)}if(!a.default(t.Lv.unknown,u.allowUnknown))for(var L=0;L<i.length;L++){var C=i[L],j=e.localize(ln(e.path).concat([C]),[]),x=t.$_createError("object.unknown",n[C],{child:C},j,u,{flags:!1});if(u.abortEarly)return{value:n,errors:x};r.push(x)}}},d.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=I(w({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=I(w({},t.options),{isPresent:this.options.isPresent})),t},t}(),d.Keys=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(Gn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.Zv(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.Lv.relative||i.mainstay.links.set(t,e),e.Zv(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.Lv.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.Lv.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.Lv,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:k.max(0,-M(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:b(t)};if(0===e.value&&(e.value=0),!i.Lv.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=k.pow(10,o.args.limit);s.value=k.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.Lv.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return k.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=k.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):k.round(o*t)%k.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return k.max((e[1]?e[1].length:0)-(e[2]?M(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==(void 0===t?"undefined":Y(t))},to:function(t,n){return new Map(_.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var d=i.$_getRule("hex");if(d&&d.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var l=v.isoDate(t);l&&(t=l)}if(i.Lv.truncate){var g=i.$_getRule("max");if(g){var w=g.args.limit;if(f.isResolvable(w)&&(w=w.resolve(t,r,e),!f.limit(w)))return{value:t,errors:i.$_createError("any.ref",w,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,w)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=w({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=w({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+_.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=w({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),_.assign({},t,v.tlds);r("object"==Y(t.tlds),"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=_.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),_.assign({},t,v.tlds)):(Array.isArray(i)&&(t=_.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return T(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,n,i){var e=i(375),u=i(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(Gn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.Lv.only&&"symbol"!=(void 0===t?"undefined":Y(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":Y(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var n;t&&!t[r]&&"object"==(void 0===t?"undefined":Y(t))&&(t=_.entries(t)),e(t&&t[r],"Iterable must be an iterable or object");for(var i=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[r],"Entry must be an iterable");var a=En(o,2),c=a[0],h=a[1];e("object"!=(void 0===c?"undefined":Y(c))&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":Y(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":Y(h)),"Value must be a Symbol"),i.$_terms.map.set(c,h),u.push(h)}return(n=i).valid.apply(n,ln(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=yn((function(t,n,i){var r,e,u,s,h,v,d,l,g;return pn(this,(function(w){switch(w.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,d,l,g,w,y,m,A,p,_,k,M,b,T,N,D;return pn(this,(function(I){switch(I.label){case 0:if(s=e[n],d=s.state.path,l="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,w=void 0,y=h,m=d.length?[h]:[],A=d.length?o(t,d):t,d.length){for(g=d[d.length-1],p=h,_=0,k=d.slice(0,-1);_<k.length;_++)M=k[_],p=p[M],m.unshift(p);w=m[0],y=w[g]}I.label=1;case 1:return I.trys.push([1,3,,4]),b=function(t,n){return(l||s.schema).$_createError(t,y,n,s.state,r)},[4,s.method(y,{schema:s.schema,linked:l,state:s.state,prefs:i,original:A,error:b,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((l||s.schema).$_createError(t,y,n,s.state,r))},message:function(t,n){return(l||s.schema).$_createError("external",y,n,s.state,r,{messages:t})}})];case 2:return void 0===(T=I.sent())||T===y?[2,"continue"]:T instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(T),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(T)&&T[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(N=v).push.apply(N,ln(T)),r.abortEarly?[2,"break"]:[2,"continue"]):(w?(u.tracer.value(s.state,"rule",y,T,"external"),w[g]=T):(u.tracer.value(s.state,"rule",h,T,"external"),h=T),[3,4]);case 3:throw D=I.sent(),r.errors.label&&(D.message+=" (".concat(s.label,")")),D;case 4:return[2]}}))},h=e.value,v=[],d=0,l=u.externals,w.label=1;case 1:return d<l.length?[5,_n(s(d,l))]:[3,4];case 2:if("break"===w.sent())return[3,4];w.label=3;case 3:return d++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;w.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this.Nw=[]}var n=t.prototype;return n.snapshot=function(){this.Nw.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this.Nw.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this.Nw.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.Tv.aw?new Map:null,v=new f.Mainstay(u,o,a),d=n.Tv.aw?[{schema:n}]:null,l=new h([],[],{mainstay:v,schemas:d}),g=i.validate(t,n,l,r);s&&n.$_root.untrace();var w=c.process(g.errors,t,r);return{value:g.value,error:w,mainstay:v}},f.tracer=function(t,n){return t.$_root.Qv?{tracer:t.$_root.Qv.Iw(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().Iw(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.Zv(t,i,r).schema),n.Sv&&(r=f.prefs(n,r)),n.Iv&&r.cache){var u=n.Iv.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.Pv;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":Y(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var d=n.Lv.empty;d&&d.$_match(f.trim(t,n),i.nest(d),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var l=e.presence||n.Lv.presence||(n.Lv.mw?null:r.presence);if(void 0===t){if("forbidden"===l)return f.finalize(t,null,o);if("required"===l)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===l){if(n.Lv.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===l)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.Dv){var w=n.Dv.get(t,i,r,n.Lv.insensitive);if(w)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,w.value),t=w.value),i.mainstay.tracer.filter(n,i,"valid",w),f.finalize(t,null,o);if(n.Lv.only){var y=n.$_createError("any.only",t,{valids:n.Dv.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[y],o);g.push(y)}}if(n.Ev){var m=n.Ev.get(t,i,r,n.Lv.insensitive);if(m){i.mainstay.tracer.filter(n,i,"invalid",m);var A=n.$_createError("any.invalid",t,{invalids:n.Ev.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[A],o);g.push(A)}}if(c.validate){var p=c.validate(t,o);if(p&&(i.mainstay.tracer.value(i,"base",t,p.value),t=p.value,p.errors)){var _;if(!Array.isArray(p.errors))return g.push(p.errors),f.finalize(t,g,o);if(p.errors.length)return(_=g).push.apply(_,ln(p.errors)),f.finalize(t,g,o)}}return n.xv.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.xv;s<o.length;s++){var c=o[s],h=r.Pv.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,d=c.args;if(c.Kg.length){d=_.assign({},d);for(var l=0,g=c.Kg;l<g.length;l++){var w=g[l],y=h.argsByName.get(w),m=d[w].resolve(t,e,u),A=y.normalize?y.normalize(m):m,p=a.validateArg(A,null,y);if(p){v=r.$_createError("any.ref",m,{arg:w,ref:d[w],reason:p},e,u);break}d[w]=A}}v=v||h.validate(t,i,d,c);var k=f.rule(v,c);if(k.errors){var M;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var b;(b=e.mainstay.warnings).push.apply(b,ln(k.errors));continue}if(u.abortEarly)return f.finalize(t,k.errors,i);(M=n).push.apply(M,ln(k.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,k.value,c.name),t=k.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.$v(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.Lv.error)if("function"==typeof r.Lv.error){n=r.Lv.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof A||h instanceof c.Report,"error() must return an Error object")}}else n=[r.Lv.error];if(void 0===t){var v=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,v),t=v}if(r.Lv.cast&&void 0!==t){var d=r.Pv.cast[r.Lv.cast];if(d.from(t)){var l=d.to(t,i);u.mainstay.tracer.value(u,"cast",t,l,r.Lv.cast),t=l}}if(r.$_terms.externals&&s.externals&&!1!==s.Vv)for(var g=0,w=r.$_terms.externals;g<w.length;g++){var y=w[g].method;u.mainstay.externals.push({method:y,schema:r,state:u,label:c.label(r.Lv,u,s)})}var m={value:t,errors:n.length?n:null};return r.Lv.result&&(m.value="strip"===r.Lv.result?void 0:i.original,u.mainstay.tracer.value(u,r.Lv.result,t,m.value),u.shadow(t,r.Lv.result)),r.Iv&&!1!==s.cache&&!r.Nv.length&&r.Iv.set(i.original,m),void 0===t||m.errors||void 0===r.Lv.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.Lv.artifact)||u.mainstay.artifacts.set(r.Lv.artifact,[]),u.mainstay.artifacts.get(r.Lv.artifact).push(u.path)),m},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.Sv[a.symbols.prefs]?t.Sv[a.symbols.prefs]:(n=a.preferences(n,t.Sv),i&&(t.Sv[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.Lv[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,ln(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=(void 0===c?"undefined":Y(c))?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.Ov=new Set(t),this.Nv=new Set(n),this.Dw=s.lowercases(t),this.Ew=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.Nv.has(t)||(this.Nv.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.Ov.add(t),"string"==typeof t&&this.Dw.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.Nv.delete(t):(this.Ov.delete(t),"string"==typeof t&&this.Dw.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.Ov.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.Dw.get(t.toLowerCase());if(u)return{value:u}}if(!this.Nv.size&&"object"!=(void 0===t?"undefined":Y(t)))return!1;if("object"==(void 0===t?"undefined":Y(t)))for(var s=0,o=this.Ov;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.Nv;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var d=f.in&&"object"==(void 0===v?"undefined":Y(v))?Array.isArray(v)?v:_.keys(v):[v],l=0;l<d.length;l++){var g=d[l];if((void 0===g?"undefined":Y(g))==(void 0===t?"undefined":Y(t)))if(r&&t&&"string"==typeof t){if(g.toLowerCase()===t.toLowerCase())return{value:g,ref:f}}else if(e(g,t))return{value:g,ref:f}}}return!1},n.override=function(){this.Ew=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=ln(this.Ov).concat(ln(this.Nv));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(ln(this.Ov).concat(ln(this.Nv)))},n.clone=function(){var t=new s.Values(this.Ov,this.Nv);return t.Ew=this.Ew,t},n.concat=function(t){r(!t.Ew,"Cannot concat override set of values");var n=new s.Values(ln(this.Ov).concat(ln(t.Ov)),ln(this.Nv).concat(ln(t.Nv)));return n.Ew=this.Ew,n},n.describe=function(){var t=[];this.Ew&&t.push({override:!0});for(var n=0,i=this.Ov.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==(void 0===r?"undefined":Y(r))?{value:r}:r)}for(var e=0,u=this.Nv.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.Ew)return n.clone();for(var r=0,e=ln(n.Ov).concat(ln(n.Nv));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=ln(i.Ov).concat(ln(i.Nv));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},Ct(t,[{key:"length",get:function(){return this.Ov.size+this.Nv.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==(void 0===t?"undefined":Y(t)),"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==(void 0===n?"undefined":Y(n)),"Invalid source value: must be true, falsy or an object"),r("object"==(void 0===i?"undefined":Y(i)),"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var d=s(t,v);d&&"object"==(void 0===d?"undefined":Y(d))?c.set(d,h&&s(n,v)||d):h&&h.add(v)}var l=e(t,{},c);if(!h)return l;for(var g=0;g<h.length;g++){var w=h[g];o.reachCopy(l,n,w)}var y=void 0!==i.nullOverride&&i.nullOverride;return u(l,n,{nullOverride:y,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=(void 0===u?"undefined":Y(u))||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=Y(o[c])&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof A?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=(void 0===t?"undefined":Y(t))||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var d=0;d<t.length;d++){var l=En(t[d],2),g=l[0],w=l[1];h.set(g,r(w,n,o))}for(var y=u.keys(t,n),m=0;m<y.length;m++){var A=y[m];if("__proto__"!==A)if(c!==e.array||"length"!==A){var p=_.getOwnPropertyDescriptor(t,A);p?p.get||p.set?_.defineProperty(h,A,p):p.enumerable?h[A]=r(t[A],n,o):_.defineProperty(h,A,{enumerable:!1,writable:!0,configurable:!0,value:r(t[A],n,o)}):_.defineProperty(h,A,{enumerable:!0,writable:!0,configurable:!0,value:r(t[A],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=_.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=(void 0===a?"undefined":Y(a))&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=_.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&_.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&_.setPrototypeOf(o,r),o}return _.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=_.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":Y(t);if(s!==(void 0===n?"undefined":Y(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return _.getPrototypeOf(t)!==_.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return _.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=_.keys,f=_.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var d=0;d<n.length;d++)for(var l=n[d],g=0;g<i.length;g++)if(o(l,i[g],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var w=new Set(Set.prototype.values.call(i)),y=0,m=Set.prototype.values.call(n);y<m.length;y++){var A=m[y];if(!w.delete(A)){for(var p=!1,k=0;k<w.length;k++){var M=w[k];if(o(A,M,u,s)){w.delete(M),p=!0;break}}if(!p)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var b=0,T=Map.prototype.entries.call(n);b<T.length;b++){var N=En(T[b],2),D=N[0],I=N[1];if(void 0===I&&!Map.prototype.has.call(i,D)||!o(I,Map.prototype.get.call(i,D),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var E=a(n),S=a(i);if((n!==E||i!==S)&&!o(E,S,u,s))return!1;var L=h(n);if(!u.part&&L.length!==h(i).length&&!u.skip)return!1;for(var C=0,j=0;j<L.length;j++){var x=L[j];if(u.skip&&u.skip.includes(x))void 0===i[x]&&++C;else if(!c(i,x)||!o(n[x],i[x],u,s))return!1}if(!u.part&&L.length-C!==h(i).length)return!1;if(!1!==u.symbols){for(var O=f(n),z=new Set(f(i)),R=0;R<O.length;R++){var B=O[R];if(!u.skip||!u.skip.includes(B))if(c(n,B)){if(!c(i,B)||!o(n[B],i[B],u,s))return!1}else if(c(i,B))return!1;z.delete(B)}for(var U=0;U<z.length;U++)if(c(i,z[U]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof A?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof A.captureStackTrace&&A.captureStackTrace(e,n.assert),e}return Et(i,t),i}(Gn(A))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==(void 0===t?"undefined":Y(t)),"Invalid target value: must be an object"),r(null==n||"object"==(void 0===n?"undefined":Y(n)),"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=_.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&_.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==(void 0===f?"undefined":Y(f))){if(t[h]===f)continue;!t[h]||"object"!=Y(t[h])||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==(void 0===o?"undefined":Y(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?ln(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,ln(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:A.prototype,generic:_.prototype,map:Map.prototype,promise:st.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof A)return n.error;var r=_.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):_.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.Qu=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.Qu.length,sort:s,before:i,after:e,group:u,node:a};this.Qu.push(c)}if(!n.manual){var h=this.Lw();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.Qu;u<s.length;u++){var o=s[u];this.Qu.push(_.assign({},o))}}this.Qu.sort(e.mergeSort);for(var a=0;a<this.Qu.length;++a)this.Qu[a].seq=a;var c=this.Lw();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.Lw();return r(t,"sort created a dependencies error"),this.nodes},n.Lw=function(){for(var t,n={},i=_.create(null),r=_.create(null),e=0,u=this.Qu;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var d=[];for(var l in n[v]){var g,w=n[v][l];r[w]=r[w]||[],(g=d).push.apply(g,ln(r[w]))}n[v]=d}for(var y in i)if(r[y])for(var m=0,A=r[y];m<A.length;m++)(t=n[A[m]]).push.apply(t,ln(i[y]));var p={};for(var k in n)for(var M=n[k],b=0;b<M.length;b++){var T=M[b];p[T]=p[T]||[],p[T].push(k)}for(var N={},D=[],I=0;I<this.Qu.length;++I){var E=I;if(p[I]){E=null;for(var S=0;S<this.Qu.length;++S)if(!0!==N[S]){p[S]||(p[S]=[]);for(var L=p[S].length,C=0,j=0;j<L;++j)N[p[S][j]]&&++C;if(C===L){E=S;break}}}null!==E&&(N[E]=!0,D.push(E))}if(D.length!==this.Qu.length)return!1;for(var x={},O=0,z=this.Qu;O<z.length;O++){var R=z[O];x[R.seq]=R}this.Qu=[],this.nodes=[];for(var B=0;B<D.length;B++){var U=x[D[B]];this.nodes.push(U.node),this.Qu.push(U)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new A("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new A("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=En(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,d="(?:"+c+")?::(?:"+c+":){4}"+h,l="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,w="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,y="(?:(?:"+c+":){0,4}"+c+")?::"+h,m="(?:(?:"+c+":){0,5}"+c+")?::"+c,A="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+d+"|"+l+"|"+g+"|"+w+"|"+y+"|"+m+"|"+A+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var p="["+r+u+e+":]*",_="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+_+")",M="(?:"+p+"@)?"+k+"(?::\\d*)?",b="(?:"+p+"@)?("+k+")(?::\\d*)?",T=o+"*",N=o+"+",D="(?:\\/"+T+")*",I="\\/(?:"+N+D+")?",E=N+D,S="["+r+u+e+"@]+"+D,L="(?:\\/\\/\\/"+T+D+")";return t.hierPart="(?:(?:\\/\\/"+M+D+")|"+I+"|"+E+"|"+L+")",t.hierPartCapture="(?:(?:\\/\\/"+b+D+")|"+I+"|"+E+")",t.relativeRef="(?:(?:\\/\\/"+M+D+")|"+I+"|"+S+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+b+D+")|"+I+"|"+S+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",d=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(d+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":Y(e)))throw new A("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":Y(e)," value type"))}var u;this.settings=n[r.settings]?n:_.assign((jn(u={},r.settings,!0),jn(u,"constants",{}),jn(u,"functions",{}),u),n),this.single=null,this.Cw=null,this.dw(t)}var n=t.prototype;return n.dw=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new A("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.xw(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:b(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new A("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,v=0;v<e.length;v++){var d=e[v];if("operator"===d.type){if(r.operatorsPrefix.includes(d.value))continue;if(!f)throw new A("Formula contains an operator in invalid position");if(!r.operators.includes(d.value))throw new A("Formula contains an unknown operator ".concat(d.value))}else if(f)throw new A("Formula missing expected operator");f=!f}if(!f)throw new A("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.Cw=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new A("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.xw=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new A("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new A("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var v=t[f];c?(o+=v,v===c&&(c=!1)):v in r.literals&&!a?(o+=v,c=r.literals[v]):","!==v||a?(o+=v,"("===v?++a:")"===v&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(ln(i)))}},n.evaluate=function(t){for(var n=this.Cw.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return k.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.3"}')}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var u=e[i]={exports:{}};return t[i](u,u.exports,n),u.exports}(5107);var t,e}()}(oe);var ae,ce=L(oe.exports),he=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ae=r,!i)throw ae.error("Token generator is required to construct this module."),new A("Token generator is required to construct this module.");return u.webRTCPeer=new Mr,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,u}Et(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ae.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Mr},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ae.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Pr,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new A("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(_r.connectionStateChange,(function(n){tt(n),"connected"===n&&q(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new A("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,g((function(){return t.reconnect({error:new A("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ae.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:fe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new A("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=fe(n.reconnectionInterval),ae.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),g((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(xt),fe=function(t){return t<32e3?2*t:t},ve=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,de="RTCRtpScriptTransform"in f,le="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBGPXR5cGVvZiBnbG9iYWxUaGlzPCJ1Ij9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPCJ1Ij9nbG9iYWw6dHlwZW9mIHNlbGY8InUiP3NlbGY6e307ZnVuY3Rpb24gVyhuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBCPXtleHBvcnRzOnt9fTsvKiEKICoganMtbG9nZ2VyIC0gaHR0cDovL2dpdGh1Yi5jb20vam9ubnlyZWV2ZXMvanMtbG9nZ2VyCiAqIEpvbm55IFJlZXZlcywgaHR0cDovL2pvbm55cmVldmVzLmNvLnVrLwogKiBqcy1sb2dnZXIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqLyhmdW5jdGlvbihuKXsoZnVuY3Rpb24odCl7dmFyIGU9e307ZS5WRVJTSU9OPSIxLjYuMSI7dmFyIHMscj17fSxvPWZ1bmN0aW9uKGksdSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkoaSxhcmd1bWVudHMpfX0sYT1mdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cyx1PWlbMF0saCxjO2ZvcihjPTE7YzxpLmxlbmd0aDtjKyspZm9yKGggaW4gaVtjXSkhKGggaW4gdSkmJmlbY10uaGFzT3duUHJvcGVydHkoaCkmJih1W2hdPWlbY11baF0pO3JldHVybiB1fSxkPWZ1bmN0aW9uKGksdSl7cmV0dXJue3ZhbHVlOmksbmFtZTp1fX07ZS5UUkFDRT1kKDEsIlRSQUNFIiksZS5ERUJVRz1kKDIsIkRFQlVHIiksZS5JTkZPPWQoMywiSU5GTyIpLGUuVElNRT1kKDQsIlRJTUUiKSxlLldBUk49ZCg1LCJXQVJOIiksZS5FUlJPUj1kKDgsIkVSUk9SIiksZS5PRkY9ZCg5OSwiT0ZGIik7dmFyIGw9ZnVuY3Rpb24oaSl7dGhpcy5jb250ZXh0PWksdGhpcy5zZXRMZXZlbChpLmZpbHRlckxldmVsKSx0aGlzLmxvZz10aGlzLmluZm99O2wucHJvdG90eXBlPXtzZXRMZXZlbDpmdW5jdGlvbihpKXtpJiYidmFsdWUiaW4gaSYmKHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbD1pKX0sZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsfSxlbmFibGVkRm9yOmZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMuY29udGV4dC5maWx0ZXJMZXZlbDtyZXR1cm4gaS52YWx1ZT49dS52YWx1ZX0sdHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLlRSQUNFLGFyZ3VtZW50cyl9LGRlYnVnOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5ERUJVRyxhcmd1bWVudHMpfSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5JTkZPLGFyZ3VtZW50cyl9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLldBUk4sYXJndW1lbnRzKX0sZXJyb3I6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLkVSUk9SLGFyZ3VtZW50cyl9LHRpbWU6ZnVuY3Rpb24oaSl7dHlwZW9mIGk9PSJzdHJpbmciJiZpLmxlbmd0aD4wJiZ0aGlzLmludm9rZShlLlRJTUUsW2ksInN0YXJ0Il0pfSx0aW1lRW5kOmZ1bmN0aW9uKGkpe3R5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg+MCYmdGhpcy5pbnZva2UoZS5USU1FLFtpLCJlbmQiXSl9LGludm9rZTpmdW5jdGlvbihpLHUpe3MmJnRoaXMuZW5hYmxlZEZvcihpKSYmcyh1LGEoe2xldmVsOml9LHRoaXMuY29udGV4dCkpfX07dmFyIGY9bmV3IGwoe2ZpbHRlckxldmVsOmUuT0ZGfSk7KGZ1bmN0aW9uKCl7dmFyIGk9ZTtpLmVuYWJsZWRGb3I9byhmLGYuZW5hYmxlZEZvciksaS50cmFjZT1vKGYsZi50cmFjZSksaS5kZWJ1Zz1vKGYsZi5kZWJ1ZyksaS50aW1lPW8oZixmLnRpbWUpLGkudGltZUVuZD1vKGYsZi50aW1lRW5kKSxpLmluZm89byhmLGYuaW5mbyksaS53YXJuPW8oZixmLndhcm4pLGkuZXJyb3I9byhmLGYuZXJyb3IpLGkubG9nPWkuaW5mb30pKCksZS5zZXRIYW5kbGVyPWZ1bmN0aW9uKGkpe3M9aX0sZS5zZXRMZXZlbD1mdW5jdGlvbihpKXtmLnNldExldmVsKGkpO2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJnJbdV0uc2V0TGV2ZWwoaSl9LGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRMZXZlbCgpfSxlLmdldD1mdW5jdGlvbihpKXtyZXR1cm4gcltpXXx8KHJbaV09bmV3IGwoYSh7bmFtZTppfSxmLmNvbnRleHQpKSl9LGUuY3JlYXRlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oaSl7aT1pfHx7fSxpLmZvcm1hdHRlcj1pLmZvcm1hdHRlcnx8ZnVuY3Rpb24ocCxfKXtfLm5hbWUmJnAudW5zaGlmdCgiWyIrXy5uYW1lKyJdIil9O3ZhciB1PXt9LGg9ZnVuY3Rpb24oYyxwKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjLGNvbnNvbGUscCl9O3JldHVybiB0eXBlb2YgY29uc29sZT4idSI/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGMscCl7Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTt2YXIgXz1jb25zb2xlLmxvZyxnO3AubGV2ZWw9PT1lLlRJTUU/KGc9KHAubmFtZT8iWyIrcC5uYW1lKyJdICI6IiIpK2NbMF0sY1sxXT09PSJzdGFydCI/Y29uc29sZS50aW1lP2NvbnNvbGUudGltZShnKTp1W2ddPW5ldyBEYXRlKCkuZ2V0VGltZSgpOmNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQoZyk6aChfLFtnKyI6ICIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXVbZ10pKyJtcyJdKSk6KHAubGV2ZWw9PT1lLldBUk4mJmNvbnNvbGUud2Fybj9fPWNvbnNvbGUud2FybjpwLmxldmVsPT09ZS5FUlJPUiYmY29uc29sZS5lcnJvcj9fPWNvbnNvbGUuZXJyb3I6cC5sZXZlbD09PWUuSU5GTyYmY29uc29sZS5pbmZvP189Y29uc29sZS5pbmZvOnAubGV2ZWw9PT1lLkRFQlVHJiZjb25zb2xlLmRlYnVnP189Y29uc29sZS5kZWJ1ZzpwLmxldmVsPT09ZS5UUkFDRSYmY29uc29sZS50cmFjZSYmKF89Y29uc29sZS50cmFjZSksaS5mb3JtYXR0ZXIoYyxwKSxoKF8sYykpfX0sZS51c2VEZWZhdWx0cz1mdW5jdGlvbihpKXtlLnNldExldmVsKGkmJmkuZGVmYXVsdExldmVsfHxlLkRFQlVHKSxlLnNldEhhbmRsZXIoZS5jcmVhdGVEZWZhdWx0SGFuZGxlcihpKSl9LGUuc2V0RGVmYXVsdHM9ZS51c2VEZWZhdWx0cyxuLmV4cG9ydHM/bi5leHBvcnRzPWU6KGUuX3ByZXZMb2dnZXI9dC5Mb2dnZXIsZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTG9nZ2VyPWUuX3ByZXZMb2dnZXIsZX0sdC5Mb2dnZXI9ZSl9KShGKX0pKEIpO3ZhciB6PUIuZXhwb3J0cyxEPVcoeik7Y2xhc3Mgd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9dCx0aGlzLmJpdE9mZnNldD0wfXJlYWRCaXRzKHQpe2lmKHRoaXMuYml0T2Zmc2V0K3Q+dGhpcy5kYXRhLmxlbmd0aCo4KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCB0aGUgZW5kIG9mIHRoZSBiaXRzdHJlYW0iKTtsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9TWF0aC5mbG9vcih0aGlzLmJpdE9mZnNldC84KSxvPTctdGhpcy5iaXRPZmZzZXQlOCxhPXRoaXMuZGF0YVtyXT4+byYxO2V8PWE8PHQtMS1zLHRoaXMuYml0T2Zmc2V0Kyt9cmV0dXJuIGV9c2tpcCh0KXt0aGlzLmJpdE9mZnNldCs9dH1yZWFkRXhwR29sb21iVW5zaWduZWQoKXtsZXQgdD0tMTtmb3IobGV0IGU9MDtlPT09MDt0KyspZT10aGlzLnJlYWRCaXRzKDEpO3JldHVybigxPDx0KS0xK3RoaXMucmVhZEJpdHModCl9cmVhZEV4cEdvbG9tYlNpZ25lZCgpe2NvbnN0IHQ9dGhpcy5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtyZXR1cm4gdCUyPT09MD8tKHQvMik6KHQrMSkvMn19Y29uc3QgbT17U0xJQ0VfTk9OX0lEUjoxLFNMSUNFX1BBUlRJVElPTl9BOjIsU0xJQ0VfSURSOjUsU0VJX0gyNjQ6NixTRUlfSDI2NV9QUkVGSVg6MzksU0VJX0gyNjVfU1VGRklYOjQwLFNQU19IMjY0OjcsU1BTX0gyNjU6MzMsUFBTX0gyNjQ6OCxQUFNfSDI2NTozNH0sUj17UElDX1RJTUlORzoxLFVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6NX0sRT17TEVHQUNZOjEsTkVXOjIsVElNRUNPREU6MyxPVEhFUjo0fSxqPSI2ZTljZmQyYS01OTA3LTQ5ZmYtYjM2My04OTc4YTZlODM0MGUiLHE9IjlhMjFmM2JlLTMxZjAtNGI3OC1iMGJlLWM3ZjdkYmI5NzI1MCIsTD0iZDQwZTM4ZWEtZDQxOS00YzYyLTk0ZWQtMjBhYzM3YjRlNGZhIjtjbGFzcyBWe2NvbnN0cnVjdG9yKHQ9IkgyNjQiKXt0aGlzLnNwcz1uZXcgTWFwLHRoaXMucHBzPW5ldyBNYXAsdGhpcy5hY3RpdmVTUFM9bnVsbCx0aGlzLmNvZGVjPXR9Y29sbGVjdFBQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRQUFModCk6dGhpcy5jb2xsZWN0SDI2NVBQUyh0KX1jb2xsZWN0U1BTKHQpe3RoaXMuY29kZWM9PT0iSDI2NCI/dGhpcy5jb2xsZWN0SDI2NFNQUyh0KTp0aGlzLmNvbGxlY3RIMjY1U1BTKHQpfWNvbGxlY3RIMjY0U1BTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRCaXRzKDgpLHI9WzEwMCwxMTAsMTIyLDI0NCw0NCw4Myw4NiwxMTgsMTI4LDEzOCwxMzksMTM0LDEzNV07ZS5za2lwKDgpLGUuc2tpcCg4KTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz4zMXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXFfcGFyYW1ldGVyX3NldF9pZCIpO2lmKHIuaW5jbHVkZXMocykpe2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihsPT09MyYmZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSl7Y29uc3QgaT1sIT09Mz84OjEyO2ZvcihsZXQgdT0wO3U8aTt1KyspaWYoZS5yZWFkQml0cygxKSl7Y29uc3QgaD11PDY/MTY6NjQ7bGV0IGM9OCxwPTg7Zm9yKGxldCBfPTA7XzxoO18rKyl7aWYocCE9PTApe2NvbnN0IGc9ZS5yZWFkRXhwR29sb21iU2lnbmVkKCk7cD0oYytnKzI1NiklMjU2fWM9cD09PTA/YzpwfX19fWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE9PT0wKWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7ZWxzZSBpZihhPT09MSl7ZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtmb3IobGV0IGY9MDtmPGw7ZisrKWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpfWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRCaXRzKDEpPT09MCYmZS5za2lwKDEpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7bGV0IGQ7aWYoZS5yZWFkQml0cygxKSl7bGV0IGY9ZnVuY3Rpb24oYyl7Y29uc3QgcD1jLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Muc2tpcCg0KSxjLnNraXAoNCk7Zm9yKGxldCB4PTA7eDw9cDt4KyspYy5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxjLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGMuc2tpcCgxKTtjLnNraXAoNSk7Y29uc3QgXz1jLnJlYWRCaXRzKDUpLGc9Yy5yZWFkQml0cyg1KSxBPWMucmVhZEJpdHMoNSk7cmV0dXJue2NwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6XyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6Zyx0aW1lX29mZnNldF9sZW5ndGg6QX19O2UucmVhZEJpdHMoMSkmJmUucmVhZEJpdHMoOCk9PT0yNTUmJihlLnNraXAoMTYpLGUuc2tpcCgxNikpLGUucmVhZEJpdHMoMSkmJmUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5za2lwKDMpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMjQpKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpKTtjb25zdCBsPWUucmVhZEJpdHMoMSk/e251bV91bml0c19pbl90aWNrOmUucmVhZEJpdHMoMzIpLHRpbWVfc2NhbGU6ZS5yZWFkQml0cygzMiksZml4ZWRfZnJhbWVfcmF0ZV9mbGFnOmUucmVhZEJpdHMoMSl9OnZvaWQgMCxpPWUucmVhZEJpdHMoMSk/ZihlKTp2b2lkIDAsdT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwOyhpfHx1KSYmZS5za2lwKDEpO2NvbnN0IGg9ZS5yZWFkQml0cygxKTtkPXt0aW1pbmdfaW5mbzpsLG5hbF9ocmRfcGFyYW1ldGVyczppLHZjbF9ocmRfcGFyYW1ldGVyczp1LHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOmh9fXRoaXMuc3BzLnNldChvLHt2dWlfcGFyYW1ldGVyczpkfSl9Y29sbGVjdEgyNjVTUFModCl7fWNvbGxlY3RIMjY0UFBTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKHM+MjU1fHxzPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBpY19wYXJhbWV0ZXJfc2V0X2lkIik7Y29uc3Qgcj1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO3RoaXMucHBzLnNldChzLHtzZXFfcGFyYW1ldGVyX3NldF9pZDpyfSl9Y29sbGVjdEgyNjVQUFModCl7fWZpbmRBY3RpdmVTUFModCl7Y29uc3QgZT1uZXcgdyh0KTtlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3Qgcz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLHI9dGhpcy5wcHMuZ2V0KHMpO2lmKHIpe2NvbnN0IG89dGhpcy5zcHMuZ2V0KHIuc2VxX3BhcmFtZXRlcl9zZXRfaWQpO2lmKG8pe3RoaXMuYWN0aXZlU1BTPW87cmV0dXJufX10aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHRoZSBhY3RpdmUgU1BTIil9fWNvbnN0IFM9bmV3IFY7ZnVuY3Rpb24gRyhuLHQpe2Zvcig7dDxuLmJ5dGVMZW5ndGgtNDspe2lmKG5bdF09PT0wJiZuW3QrMV09PT0wJiYoblt0KzJdPT09MXx8blt0KzJdPT09MCYmblt0KzNdPT09MSkpcmV0dXJuIHQ7dCs9MX1yZXR1cm4tMX1mdW5jdGlvbiBVKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtsZXQgZT0wLHM9MDtmb3IobGV0IHI9MjtyPG4uYnl0ZUxlbmd0aDtyKyspbltyXT09PTMmJm5bci0xXT09PTAmJm5bci0yXT09PTAmJih0LnNldChuLnN1YmFycmF5KHMsciksZSksZSs9ci1zLHM9cisxKTtyZXR1cm4gczxuLmJ5dGVMZW5ndGgmJnQuc2V0KG4uc3ViYXJyYXkocyksZSksdH1mdW5jdGlvbiBZKG4sdCl7bGV0IGU9MDtjb25zdCBzPXQ9PT0iSDI2NCI/MToyLHI9W107Zm9yKDtlPG4uYnl0ZUxlbmd0aC00Oyl7Y29uc3Qgbz1HKG4sZSk7aWYobz49ZSl7Y29uc3QgYT1uW28rMl09PT0xPzM6NCxkPUcobixvK2Ercyk7aWYoZD5vKXIucHVzaChuLnN1YmFycmF5KG8sZCkpLGU9ZDtlbHNle3IucHVzaChuLnN1YmFycmF5KG8pKTticmVha319ZWxzZSBicmVha31yZXR1cm4gcn1mdW5jdGlvbiBYKG4sdCl7bGV0IGU9ITA7cmV0dXJuIFkobix0KS5maWx0ZXIocz0+e2NvbnN0IHI9c1syXT09PTE/Mzo0LG89dD09PSJIMjY0Ij8xOjIsYT1zW3JdLGQ9dD09PSJIMjY0Ij9hJjMxOmE+PjEmNjM7aWYoZSlzd2l0Y2goZCl7Y2FzZSBtLlBQU19IMjY0OmNhc2UgbS5QUFNfSDI2NTpTLmNvbGxlY3RQUFMoVShzLnN1YmFycmF5KHIrbykpKTticmVhaztjYXNlIG0uU1BTX0gyNjQ6Y2FzZSBtLlNQU19IMjY1OlMuY29sbGVjdFNQUyhVKHMuc3ViYXJyYXkocitvKSkpO2JyZWFrO2Nhc2UgbS5TTElDRV9JRFI6Y2FzZSBtLlNMSUNFX05PTl9JRFI6Y2FzZSBtLlNMSUNFX1BBUlRJVElPTl9BOnRyeXtTLmZpbmRBY3RpdmVTUFMoVShzLnN1YmFycmF5KHIrbykpKSxlPSExfWNhdGNoKGwpe2NvbnNvbGUuaW5mbygiRmFpbGVkIHRvIGZpbmQgYWN0aXZlIFNQUy4gV2lsbCBub3QgYmUgYWJsZSB0byBleHRyYWN0IFBJQyB0aW1pbmcgbWV0YWRhdGEiKX1icmVha31yZXR1cm5bbS5TRUlfSDI2NCxtLlNFSV9IMjY1X1BSRUZJWCxtLlNFSV9IMjY1X1NVRkZJWF0uaW5jbHVkZXMoZCl9KX1mdW5jdGlvbiAkKG4pe2xldCB0PTAsZT0wO2Zvcig7bltlXT09PTI1NTspdCs9MjU1LGUrKzt0Kz1uW2VdLGUrKztsZXQgcz0wO2Zvcig7bltlXT09PTI1NTspcys9MjU1LGUrKztyZXR1cm4gcys9bltlXSxlKysse3R5cGU6dCxjb250ZW50Om4uc3ViYXJyYXkoZSxlK3MpfX1mdW5jdGlvbiBKKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoVChxKSksZT1uZXcgVWludDhBcnJheShUKGopKSxzPW5ldyBVaW50OEFycmF5KFQoTCkpO3JldHVybiB0LmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5USU1FQ09ERTplLmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5MRUdBQ1k6cy5ldmVyeSgocixvKT0+cj09PW5bb10pP0UuTkVXOkUuT1RIRVJ9ZnVuY3Rpb24gSyhuLHQpe2xldCBlPTA7bi51dWlkPXQuc3ViYXJyYXkoZSxlKzE2KSxlKz0xNjtjb25zdCBzPUoobi51dWlkKSxyPXQuc3ViYXJyYXkoZSk7c3dpdGNoKHMpe2Nhc2UgRS5MRUdBQ1k6Y2FzZSBFLk9USEVSOm4udW5yZWdpc3RlcmVkPXI7YnJlYWs7Y2FzZSBFLlRJTUVDT0RFOm4udGltZWNvZGU9TyhyKTticmVhaztjYXNlIEUuTkVXOntsZXQgbz0wO2NvbnN0IGE9QyhEYXRlLm5vdygpKS5sZW5ndGgsZD1yLnN1YmFycmF5KG8sYSk7bys9YTtjb25zdCBsPXIuc3ViYXJyYXkobyk7bi50aW1lY29kZT1PKGQpLG4udW5yZWdpc3RlcmVkPWw7YnJlYWt9fX1mdW5jdGlvbiBPKG4pe2NvbnN0IHQ9bi5yZWR1Y2UoKG8sYSk9PihvPDxCaWdJbnQoOCkpK0JpZ0ludChhKSxCaWdJbnQoMCkpLGU9TnVtYmVyKHQpLHM9bmV3IERhdGUoZSk7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzLnRvSVNPU3RyaW5nKCkpfWZ1bmN0aW9uIFoobix0KXt2YXIgZixpLHUsaCxjO2lmKCFTLmFjdGl2ZVNQUyl7Y29uc29sZS53YXJuKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpO3JldHVybn1jb25zdCBlPShmPVMuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLm5hbF9ocmRfcGFyYW1ldGVycykhPW51bGw/ZjpTLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy52Y2xfaHJkX3BhcmFtZXRlcnMscz17Y3BiX2RwYl9kZWxheXNfcHJlc2VudF9mbGFnOmU/MTowLGNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6KGk9ZT09bnVsbD92b2lkIDA6ZS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKSE9bnVsbD9pOjIzLGRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMToodT1lPT1udWxsP3ZvaWQgMDplLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/dToyMyx0aW1lX29mZnNldF9sZW5ndGg6ZT8oaD1lLnRpbWVfb2Zmc2V0X2xlbmd0aCkhPW51bGw/aDoyNDp2b2lkIDAscGljX3N0cnVjdF9wcmVzZW50X2ZsYWc6KGM9Uy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpIT1udWxsP2M6MH07aWYoIXMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpe2NvbnNvbGUud2FybigicGljX3N0cnVjdF9wcmVzZW50X2ZsYWcgaXMgbm90IHByZXNlbnQiKTtyZXR1cm59Y29uc3Qgcj1uZXcgdyh0KTtzLmNwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZyYmKHIuc2tpcChzLmNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czErMSksci5za2lwKHMuZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxKzEpKTtjb25zdCBvPVsxLDEsMSwyLDIsMywzLDIsM10sYT1yLnJlYWRCaXRzKDQpO2lmKGE+PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfc3RydWN0Iik7Y29uc3QgZD1vW2FdLGw9W107Zm9yKGxldCBwPTA7cDxkO3ArKylpZihyLnJlYWRCaXRzKDEpKXtjb25zdCBnPXt9O3Iuc2tpcCgyKSxyLnNraXAoMSksci5za2lwKDUpO2NvbnN0IEE9ci5yZWFkQml0cygxKTtpZihyLnNraXAoMiksZy5uX2ZyYW1lcz1yLnJlYWRCaXRzKDgpLEE/KGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcubWludXRlc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcuaG91cnNfdmFsdWU9ci5yZWFkQml0cyg1KSk6ci5yZWFkQml0cygxKSYmKGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLHIucmVhZEJpdHMoMSkmJihnLm1pbnV0ZXNfdmFsdWU9ci5yZWFkQml0cyg2KSxyLnJlYWRCaXRzKDEpJiYoZy5ob3Vyc192YWx1ZT1yLnJlYWRCaXRzKDUpKSkpLHMudGltZV9vZmZzZXRfbGVuZ3RoKXRyeXtnLnRpbWVfb2Zmc2V0PXIucmVhZEJpdHMocy50aW1lX29mZnNldF9sZW5ndGgpfWNhdGNoKHgpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZWFkIHRpbWVfb2Zmc2V0Iix4KSxnLnRpbWVfb2Zmc2V0PTB9ZWxzZSBnLnRpbWVfb2Zmc2V0PTA7bC5wdXNoKGcpfW4uc2VpUGljVGltaW5nVGltZUNvZGVBcnJheT1sfWZ1bmN0aW9uIFEobix0KXtpZih0IT09IkgyNjQiJiZ0IT09IkgyNjUiKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29kZWMgIi5jb25jYXQodCkpO2NvbnN0IGU9e307cmV0dXJuIFMuY29kZWM9dCxYKG5ldyBVaW50OEFycmF5KG4uZGF0YSksdCkuZm9yRWFjaChzPT57Y29uc3Qgcj1zWzJdPT09MT8zOjQsbz10PT09IkgyNjQiPzE6MixhPVUocy5zdWJhcnJheShyK28pKSxkPSQoYSk7c3dpdGNoKGQudHlwZSl7Y2FzZSBSLlBJQ19USU1JTkc6WihlLGQuY29udGVudCk7YnJlYWs7Y2FzZSBSLlVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6SyhlLGQuY29udGVudCk7YnJlYWt9fSksZX1mdW5jdGlvbiBlZShuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiB0ZShuLHQsZSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShUKG4pKSxyPUMoZSksbz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrci5sZW5ndGgrby5sZW5ndGgpO3JldHVybiBhLnNldChzKSxhLnNldChyLHMubGVuZ3RoKSxhLnNldChvLHIubGVuZ3RoK3MubGVuZ3RoKSxhfWZ1bmN0aW9uIG5lKG4pe2NvbnN0IHQ9W10sZT1NYXRoLmZsb29yKG4uYnl0ZUxlbmd0aC8yNTUpLHM9bi5ieXRlTGVuZ3RoJTI1NTtmb3IobGV0IHI9MDtyPGU7cisrKXQucHVzaCgyNTUpO3JldHVybiB0LnB1c2gocyksbmV3IFVpbnQ4QXJyYXkoWzUsLi4udF0pfWZ1bmN0aW9uIHJlKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEMobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgcz0wO3M8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO3MrKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCpzKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSl7Y29uc3Qgcz1bMCwwLDAsMV0scj1bMTAyXSxvPXRlKG4sdCxlKSxhPW5lKG8pLGQ9cmUobyksbD1uZXcgVWludDhBcnJheShzLmxlbmd0aCtyLmxlbmd0aCthLmxlbmd0aCtkLmxlbmd0aCk7cmV0dXJuIGwuc2V0KHMpLGwuc2V0KHIscy5sZW5ndGgpLGwuc2V0KGEscy5sZW5ndGgrci5sZW5ndGgpLGwuc2V0KGQscy5sZW5ndGgrci5sZW5ndGgrYS5sZW5ndGgpLGx9ZnVuY3Rpb24gaWUoe3V1aWQ6bixwYXlsb2FkOnQsdGltZWNvZGU6ZX0scyl7aWYobj09PSIifHx0PT09IiIpdGhyb3cgbmV3IEVycm9yKCJ1dWlkIGFuZCBwYXlsb2FkIGNhbm5vdCBiZSBlbXB0eSIpO2VlKG4pfHwoY29uc29sZS53YXJuKCJJbnZhbGlkIFVVSUQuIFVzaW5nIGRlZmF1bHQgVVVJRC4iKSxuPUwsZT1EYXRlLm5vdygpKTtjb25zdCByPXNlKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxvPW5ldyBEYXRhVmlldyhzLmRhdGEpLGE9bmV3IEFycmF5QnVmZmVyKHMuZGF0YS5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYSk7Zm9yKGxldCBsPTA7bDxzLmRhdGEuYnl0ZUxlbmd0aDtsKyspZC5zZXRVaW50OChsLG8uZ2V0VWludDgobCkpO2ZvcihsZXQgbD0wO2w8ci5ieXRlTGVuZ3RoO2wrKylkLnNldFVpbnQ4KHMuZGF0YS5ieXRlTGVuZ3RoK2wscltsXSk7cy5kYXRhPWF9RC5nZXQoIlRyYW5zZm9ybVdvcmtlciIpLnNldExldmVsKEQuREVCVUcpO2NvbnN0IG9lPTJlMyxiPVtdO2xldCB5PSIiLFA9e307Y29uc3Qgdj17fTtsZXQgST1bXTtmdW5jdGlvbiBIKG4pe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybSh0LGUpe3ZhciBzLHI7aWYodCBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCBvPSgocz1QW3QuZ2V0TWV0YWRhdGEoKS5wYXlsb2FkVHlwZV0pPT1udWxsP3ZvaWQgMDpzLnRvVXBwZXJDYXNlKCkpfHwoeT09bnVsbD92b2lkIDA6eS50b1VwcGVyQ2FzZSgpKTtpZihvPT09IkgyNjQiKXtjb25zdCBhPVEodCxvKTsoYS50aW1lY29kZXx8YS51bnJlZ2lzdGVyZWR8fCgocj1hLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXkpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MCkmJnNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJtZXRhZGF0YSIsbWlkOm4sbWV0YWRhdGE6YX0pfXNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJjb21wbGV0ZSIsZnJhbWU6e3R5cGU6dC50eXBlLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCxkYXRhOnQuZGF0YX19KX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTSgpe09iamVjdC5rZXlzKHYpLnNvcnQoKS5qb2luKCk9PT1JLnNvcnQoKS5qb2luKCkmJihiLnNoaWZ0KCksST1bXSl9ZnVuY3Rpb24gYWUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTt2W25dPXQsT2JqZWN0LmtleXModikuZmlsdGVyKHM9PnQtdltzXT5vZSkuZm9yRWFjaChzPT57ZGVsZXRlIHZbc10sZGVsZXRlIElbc119KSxNKCl9ZnVuY3Rpb24gTigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3Qgcz1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKGFlKHMpLCFJLmluY2x1ZGVzKHMpJiZiLmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdCh5KSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7YlswXS51dWlkPT09TCYmKGJbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksaWUoYlswXSxuKSxJLnB1c2gocyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1maW5hbGx5e00oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIGsoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIil5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU4oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilQPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSx5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD1IKG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO2sobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOnk9bi5kYXRhLmNvZGVjLGsobi5kYXRhLE4oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOlA9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LHk9bi5kYXRhLmNvZGVjfHwiIixrKG4uZGF0YSxIKG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjpiLnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ge=("undefined"==typeof self?"undefined":Y(self))<"u"&&self.Blob&&new Blob([function(t){return N.from(atob(t),(function(t){return t.charCodeAt(0)}))}(le)],{type:"text/javascript;charset=utf-8"});function we(t){var n;try{if(!(n=ge&&(self.URL||self.webkitURL).createObjectURL(ge)))throw"";var i=new D(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(self.URL||self.webkitURL).revokeObjectURL(n)})),i}catch(n){return new D("data:text/javascript;base64,"+le,{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var ye=gt.get("Publish"),me={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:wr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},Ae=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&ye.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,ye,r)||this}Et(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=me);var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return r=ce.object({sourceId:ce.string(),stereo:ce.boolean(),dtx:ce.boolean(),absCaptureTime:ce.boolean(),dependencyDescriptor:ce.boolean(),mediaStream:ce.alternatives().try(ce.array().items(ce.object()),ce.object()),bandwidth:ce.number(),metadata:ce.boolean(),disableVideo:ce.boolean(),disableAudio:ce.boolean(),codec:(i=ce.string()).valid.apply(i,ln(_.values(wr))),simulcast:ce.boolean(),scalabilityMode:ce.string(),peerConfig:ce.object(),record:ce.boolean(),events:ce.array().items(ce.string().valid("active","inactive","viewercount")),priority:ce.number()}),e=r.validate(t),u=e.error,s=e.value,u&&ye.warn(u,s),n.options=I(w(w({},me),t),{peerConfig:w(w({},me.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===wr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return ye.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),ye.info("Broadcaster start recording"),[3,3];case 2:ye.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),ye.info("Broadcaster stop recording"),[3,3];case 2:ye.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y;return pn(this,(function(m){switch(m.label){case 0:if(ye.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw ye.error("Error while broadcasting. MediaStream required"),new A("MediaStream required");if(!t.migrate&&n.isActive())throw ye.warn("Broadcast currently working"),new A("Broadcast currently working");m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=m.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=m.sent(),ye.error("Error generating token."),s instanceof Wr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw ye.error("Error while broadcasting. Publisher data required"),new A("Publisher data required");if(o=ee(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[se.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw ye.error("Error while broadcasting. Record option detected but recording is not available"),new A("Record option detected but recording is not available");return a=new Gr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new Mr:n.webRTCPeer).createRTCPeer(n.options.peerConfig,Ar)];case 5:return m.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Bt(c,n,[_r.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Bt(a,n,[Yr]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,st.all([h,f])];case 6:return e=m.sent(),v=e[0],n.options.metadata&&(n.worker||(n.worker=new we),n.getRTCPeerConnection().getSenders().forEach((function(t){if(de)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ve){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),d=n.signaling,n.signaling=a,l=n.signaling.publish(v,n.options),g=c.peer.setLocalDescription(c.sessionDescription),[4,st.all([l,g])];case 7:return e=m.sent(),w=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(w=c.updateBandwidthRestriction(w,n.options.bandwidth)),[4,c.setRTCRemoteSDP(w)];case 8:return m.sent(),ye.info("Broadcasting to streamName: ",n.streamName),y=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(_r.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==d?void 0:d.close)||n.call(d),null==(i=null==y?void 0:y.closeRTCPeer)||i.call(y),d=y=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==wr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",ye.warn(r)}},n}(he);function pe(t){if(!t)return new N;for(var n=t.length,i=new N(n/2),r=0;r<n;r+=2)i[r/2]=M(t.substr(r,2),16);return i}function _e(t,n,i){if(_.prototype.hasOwnProperty.call(t,i)&&_.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function ke(t,n,i,r){return new(i||(i=st))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))}var Me,be=Te;function Te(t,n){var i=xe();return(Te=function(t,n){return i[t-=257]})(t,n)}!function(){for(var t=Te,n=xe();;)try{if(M(t(266))/1*(-M(t(261))/2)+M(t(258))/3*(-M(t(264))/4)+-M(t(267))/5*(M(t(274))/6)+M(t(260))/7*(M(t(268))/8)+M(t(270))/9+-M(t(277))/10+M(t(263))/11==303379)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ne=l&&l[be(276)]||"",De=l&&l.vendor||"",Ie=!(null==f||!f[be(273)]),Ee=Ne[be(278)](be(257)),Se=!Ee&&De[be(278)](be(259)),Le=!Ee&&!Se&&Ne.includes(be(272)),Ce=!Ee&&!Se&&!Le&&Ne[be(278)](be(275)),je=(null===(Me=null==l?void 0:l[be(262)])||void 0===Me?void 0:Me[be(271)])||(null==l?void 0:l[be(271)])||"";function xe(){var t=["2403660vsbxKa","includes","Firefox","653511krAkNS","Apple","63eEorAu","2iQvmqu","userAgentData","13393182jRLBxS","4fTXBZP","Win32","74923SyWRbn","1345hVdNEb","21688LwGppn","Windows","132498ZoOcLo","platform","Edg","RTCRtpScriptTransform","9372dNMWWf","Chrome","userAgent"];return(xe=function(){return t})()}var Oe={supportsRtpScriptTransform:Ie,isFirefox:Ee,isSafari:Se,isEdge:Le,isChrome:Ce,platform:je,isWindows:je===be(269)||je===be(265)},ze=Re;function Re(t,n){var i=Qe();return(Re=function(t,n){return i[t-=185]})(t,n)}!function(){for(var t=Re,n=Qe();;)try{if(-M(t(380))/1+-M(t(354))/2+-M(t(464))/3*(M(t(486))/4)+-M(t(253))/5+M(t(377))/6+M(t(321))/7*(-M(t(285))/8)+-M(t(444))/9*(-M(t(279))/10)==657542)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Be=Oe[ze(496)];function Ue(t,n){var i=ze,r=new N((0|t.byteLength)+(0|n[i(442)]));return r[i(311)](t,0),r[i(311)](n,0|t.byteLength),r}var Pe=function(t,n,i,r){var e=ze,u=r[e(203)]||1;n*=u,i*=u;var s,o=(s=t)instanceof ArrayBuffer?s:s[ze(492)],a=(t[e(447)]||0)+t[e(442)],c=(t[e(447)]||0)+n,h=k[e(389)](0,k[e(487)](c,a)),f=k[e(487)](h+k[e(389)](i,0),a);return new r(o,h/=u,(f/=u)-h)};function Qe(){var t=["[MSE] source buffer error","ManagedMediaSource","BYTES_PER_ELEMENT","types","ready","valid","Num frames in chunk: ","readBits","getTrackID","mvhd","parsePPS","encrypted","dependsOn","payload","len","moov","VMHD","mse","volume","h264","setUint16","tfdt","nextDts","avc1.","audioSampleAuxInfo","message","endMSE","width","hdlr","warn","traf","readBoolean","shift","mseReady","revokeObjectURL","smhd","dts","indexOf","<PROTECTINFO>","webkitsourceclose","onMSEClose","[H264Parser] IDR without SPS/PPS, not suitable for recovery",'VALUE="',"createObjectURL","</KID>","mdhd","SMHD","getFramePayload","tkhd","flush","clRtcDrmDebugLog","getBits","2598770DahMdb","dbgQueue","dispatch","DINF","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","isReady","sps","nalus","endOfStream","toString","UNKNOWN","Opus","minf","onError","stco","STSC","buffered","</KIDS>","initSegment","dinf","org.w3.clearkey","mp4track","keyFrame","units","mseEnded","videoSampleAuxInfo","41695210Plpuuo","splice","ended","bitLength","seq","url","8YyaFaO","com.apple.fps","[MSE] error: ","bitsAvailable","</WRMHEADER>","trex","setData","buffer error","slice","length","readUByte","mp4a","Unsupported DRM type ","mdia","fromCharCode",'<WRMHEADER xmlns="',"index","string","both","NDR","dOps","cenc","getPayload","bind","PPS","sourceBuffer","set","Checking codec","releaseBuffer","tenc","trak","flags",'/mp4; codecs="',"[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","clRtcDrmCreateMediaDump","STSD","6352549TgZLxu","initBrowser","IDR","trun"," - ","start","mediaSource","startsWith","stype","readSPS","addEventListener","schi","encv","createElement","getVideoFrames","onReady","href","sourceopen","setUint32","vmhd","FTYP","schm","getData","toISOString","remuxer","track","skipScalingList","STSZ","getSize","addSourceBuffer","[MSE] buffer error:","appendBufferError","off","2392886zJoPkf","destroy","sdtp","audiosamplerate",": NRI: ","reportDiscontinuity","extractNALUs","No A/V data","pps","senc","saio","concat","config","ftyp","parseNAL","esds","error","feed","Browser does not support codec","4.3.0.0","skipUEG","mp4","end","2232924PKvVOf","updating","options","227868XbMqAn","prototype","createBuffer","info","MediaSource","timestamp","mvex","isfmb","opus","max","stsz","POSITIVE_INFINITY","saiz","timescale","call","encryption","height","jmuxer","bufferControllers","open","patchSampleAuxinfo","queue","stsd","onBufferError","frameCounter","ntype","remux","getPayloadSize","isSupported","</LA_URL>","waitingForIdr","box","idr"," samples - expected 1","tracks","stbl","getNri",'<KID ALGID="AESCTR" ',"download","readUInt","join","com.microsoft.playready.recommendation",'" version="',"remuxController","Received ","frma","resetTrack","disableRemotePlayback","</DATA>","mfhd","pssh","charCodeAt","drm","mediaDuration","video","readyToDecode","from","SPS","skipLZ","data","keySystem","[MSE] sourceclose","byteLength","STTS","9mESMVl","Buffered range ","samples","byteOffset","parseHeader","codec","node","audio","Failure: Browser doesn't support MSE/MMS","subarray","replaceAll","downloadToFile","onBuffer","skipBits","mdat","isKeyframe","moof","mode","push","STCO","9ffcUcC","listener","isReset","map","enca","type","<LA_URL>","parseSPS","getElementById","no video element were found to render, provide a valid video element","sinf","doAppend","HDLR_TYPES","videoElement","stts","keyId","trackTypes","TYPES","remove","size","AUD","src","1376748eVkTXq","min","tfhd","initialized","offAll","appendBuffer","buffer","nri","skipEG","isvcl","isSafari","isTypeSupported","readyState","abort","apply","reduce","assign","calculateExpectedSizeFromSai","duration","generatePlayReadyHeader","readUEG","onMSEOpen","sampleAuxInfo","SEI","irrecoverableError","channelCount","saiIvSize","stsc"];return(Qe=function(){return t})()}function Ye(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),Pe(t,n,i,N)}function Ge(t){var n=ze,i=Array[n(436)](t)[n(467)]((function(t){return t[n(431)](0)}));return new N(i)}f[ze(455)]=function(t,n,i){void 0===i&&(i="application/octet-stream");var r=ze,e=v[r(334)]("a"),u=new Blob([t],{type:i});e[r(337)]=URL[r(244)](u),e[r(418)]=n,e.click(),URL[r(235)](e[r(337)])};var Ve=function(t,n,i,r,e,u,s,o,a,c){function h(t){var n=ze;this.payload=t,this[n(493)]=(96&this.payload[0])>>5,this[n(405)]=31&this[n(214)][0],this[n(495)]=1==this.ntype||5==this[n(405)],this[n(329)]="",this[n(387)]=!1}var f=h.prototype;return f.toString=function(){var t=ze;return h[t(469)](this)+t(358)+this[t(416)]()},f.getNri=function(){return this[ze(493)]},f[u]=function(){return this[ze(405)]},f[s]=function(){var t=ze;return this[t(405)]===h[t(323)]},f[o]=function(){return this[ze(214)]},f[a]=function(){var t=ze;return this[t(214)][t(442)]},f.getSize=function(){return 4+this[ze(407)]()},f[c]=function(){var t=ze,n=new N(this.getSize());return new DataView(n.buffer)[t(339)](0,this.getSize()-4),n[t(311)](this[t(307)](),4),n},h.type=function(t){var n=ze;return t[n(405)]in h[n(481)]?h[n(481)][t[n(405)]]:n(263)},Ct(h,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:i,get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:r,get:function(){return 9}},{key:e,get:function(){var t,n=ze;return jn(t={},h[n(323)],n(323)),jn(t,h.SEI,n(196)),jn(t,h.SPS,n(437)),jn(t,h[n(309)],n(309)),jn(t,h[n(304)],n(304)),jn(t,h[n(484)],n(484)),t}}]),h}(ze(304),ze(323),ze(196),ze(484),ze(481),ze(469),ze(459),ze(307),ze(407),ze(343)),Fe=function(){function t(t){var n=ze;this[n(439)]=t,this[n(301)]=0,this.bitLength=8*t[n(442)]}var n=t.prototype;return n[ze(291)]=function(t){var n=ze;this.data=t,this[n(301)]=0,this[n(282)]=8*t[n(442)]},n.skipBits=function(t){if(this[ze(288)]<t)return!1;this.index+=t},n[ze(208)]=function(t,n){return void 0===n&&(n=!0),this.getBits(t,this.index,n)},n[ze(252)]=function(t,n,i){void 0===i&&(i=!0);var r=ze;if(this.bitsAvailable<t)return 0;var e=n%8,u=this[r(439)][n/8|0]&255>>>e,s=8-e;if(s>=t)return i&&(this.index+=t),u>>s-t;i&&(this.index+=s);var o=t-s;return u<<o|this[r(252)](o,n+s,i)},n[ze(438)]=function(){var t,n=ze;for(t=0;t<this.bitLength-this[n(301)];++t)if(0!==this.getBits(1,this[n(301)]+t,!1))return this.index+=t,t;return t},n[ze(374)]=function(){var t=ze;this[t(457)](1+this[t(438)]())},n[ze(494)]=function(){var t=ze;this[t(457)](1+this[t(438)]())},n.readUEG=function(){var t=ze,n=this[t(438)]();return this[t(208)](n+1)-1},n.readEG=function(){var t=this[ze(193)]();return 1&t?1+t>>>1:-1*(t>>>1)},n.readBoolean=function(){return 1===this[ze(208)](1)},n[ze(295)]=function(t){return void 0===t&&(t=1),this[ze(208)](8*t)},n.readUShort=function(){return this[ze(208)](16)},n[ze(419)]=function(){return this[ze(208)](32)},Ct(t,[{key:ze(288),get:function(){var t=ze;return this[t(282)]-this[t(301)]}}]),t}(),We=function(t,n,i,r,e,u){function s(t){var n=ze;this.remuxer=t,this[n(346)]=t[n(274)]}var o=s.prototype;return o[r]=function(t){var n=ze,i=s[n(330)](new N(t));this[n(346)][n(228)]=i[n(228)],this[n(346)][n(396)]=i[n(396)],this[n(346)].sps=[new N(t)],this[n(346)][n(449)]=n(224);for(var r=new DataView(t.buffer,t[n(447)]+1,4),e=0;e<3;++e){var u=r.getUint8(e)[n(262)](16);u.length<2&&(u="0"+u),this.track[n(449)]+=u}},o[e]=function(t){this[ze(346)].pps=[new N(t)]},o[u]=function(t){var n=ze;if(!t)return!1;var i=!1;switch(t.type()){case Ve[n(323)]:case Ve[n(304)]:i=!0;break;case Ve[n(309)]:!this[n(346)][n(362)]&&(this.parsePPS(t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this[n(346)][n(259)]&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ve[n(437)]:!this[n(346)][n(259)]&&(this[n(471)](t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this.track.sps&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ve[n(484)]:break;case Ve[n(196)]:i=!0}return i},s[t]=function(t,n){for(var i=ze,r=[],e=!1,u=!1,s=!1,o=!1,a=0,c=0,h=0,f=[];a<=t.byteLength;){if(a<t.byteLength){var v=t[a++];0!==v?(1===v&&c>1&&(h=c>2?4:3,f.push(a)),c=0):++c}else h=0,f.push(a++);if(f.length>1){var d=f.shift(),l=f[0]-h;if(d<l){var g=!1,w=31&t[d];if(w===Ve.NDR?u=!0:w===Ve.IDR?e=!0:w===Ve.SPS?(g=s,s=!0):w===Ve.PPS&&(g=o,o=!0),!g)if(!n||w!==Ve.NDR&&w!==Ve.IDR)r.push(t.subarray(d,l));else{var y=new N(l-d),m=0;for(a=d,c=0;a<l;){var A=t[a++];c>1&&3===A&&(c=0,A=t[a++]),0!==A?c=0:++c,y[m++]=A}r.push(y.subarray(0,m))}}}}var p=!0,_=!1;return u||e?u&&e&&(console[i(230)](i(318)),p=!1):(console[i(230)]("[H264Parser] No VCL NALUs found"),p=!1),e&&(s&&o?_=!0:console[i(230)](i(242))),{valid:p,idr:_,nalus:r}},s.skipScalingList=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},s[n]=function(t){var n,i,r,e,u,o,a=ze,c=new Fe(t),h=0,f=0,v=0,d=0,l=1;if(c[a(295)](),n=c.readUByte(),c[a(208)](5),c[a(457)](3),c.readUByte(),c[a(374)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var g=c[a(193)]();if(3===g&&c[a(457)](1),c.skipUEG(),c[a(374)](),c[a(457)](1),c[a(232)]()){o=3!==g?8:12;for(var w=0;w<o;++w)c[a(232)]()&&(w<6?s[a(347)](c,16):s[a(347)](c,64))}}c[a(374)]();var y=c.readUEG();if(0===y)c[a(193)]();else if(1===y){c.skipBits(1),c[a(494)](),c[a(494)](),i=c[a(193)]();for(var m=0;m<i;++m)c.skipEG()}if(c.skipUEG(),c[a(457)](1),r=c[a(193)](),e=c.readUEG(),0===(u=c[a(208)](1))&&c[a(457)](1),c[a(457)](1),c[a(232)]()&&(h=c[a(193)](),f=c[a(193)](),v=c[a(193)](),d=c.readUEG()),c.readBoolean()){if(c[a(232)]()){var A;switch(c[a(295)]()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[c[a(295)]()<<8|c.readUByte(),c[a(295)]()<<8|c[a(295)]()]}A&&A[0]>0&&A[1]>0&&(l=A[0]/A[1])}c.readBoolean()&&c[a(457)](1),c[a(232)]()&&(c.skipBits(4),c[a(232)]()&&c[a(457)](24)),c.readBoolean()&&(c.skipUEG(),c[a(374)]()),c.readBoolean()&&(c[a(419)](),c[a(419)](),c.readBoolean())}return{width:k.ceil((16*(r+1)-2*h-2*f)*l),height:(2-u)*(e+1)*16-(u?2:4)*(v+d)}},s[i]=function(t){var n=ze,i=new Fe(t[n(307)]());i.readUByte(),t.isfmb=0===i[n(193)](),t.stype=i[n(193)]()},s}(ze(360),ze(330),ze(448),ze(471),ze(211),ze(368)),Ze=function(){function t(t){var n=ze;this[n(465)]={},this[n(469)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=ze;return!this[i(465)][t]&&(this[i(465)][t]=[]),this[i(465)][t][i(462)](n),!0},n[ze(353)]=function(t,n){var i=ze;if(this[i(465)][t]){var r=this.listener[t][i(238)](n);return r>-1&&this[i(465)][t][i(280)](r,1),!0}return!1},n[ze(490)]=function(){this[ze(465)]={}},n[ze(255)]=function(t,n){var i=ze;return!!this.listener[t]&&(this[i(465)][t][i(467)]((function(t){t[i(187)](null,[n])})),!0)},t}(),Xe=function(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,k,M,b){function T(t){var n,i,r=ze;for(var e in this[r(432)]=t,this[r(199)]={video:(null==(n=t[r(366)][r(434)])?void 0:n.encryption)===r(306)?16:0,audio:(null==(i=t[r(366)][r(451)])?void 0:i.encryption)===r(306)?16:0},T.types={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},T[r(204)])T[r(204)][e]=[e[r(431)](0),e[r(431)](1),e.charCodeAt(2),e[r(431)](3)];var u=new N([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new N([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);T[r(476)]={video:u,audio:s};var o=new N([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new N([0,0,0,0,0,0,0,0]);T[r(443)]=T[r(268)]=T[r(463)]=a,T[r(348)]=new N([0,0,0,0,0,0,0,0,0,0,0,0]),T[r(217)]=new N([0,0,0,1,0,0,0,0,0,0,0,0]),T.SMHD=new N([0,0,0,0,0,0,0,0]),T[r(320)]=new N([0,0,0,0,0,0,0,1]);var c=new N([105,115,111,109]),h=new N([97,118,99,49]),f=new N([0,0,0,1]);T[r(341)]=T[r(411)](T[r(204)][r(367)],c,f,c,h),T.DINF=T[r(411)](T[r(204)][r(272)],T[r(411)](T[r(204)].dref,o))}var D=T.prototype;return D.hdlr=function(t){var n=ze;return T[n(411)](T[n(204)][n(229)],T[n(476)][t])},D.mdat=function(t){var n=ze;return T.box(T.types[n(458)],t)},D[n]=function(t,n){var i=ze;return T.box(T[i(204)][i(246)],new N([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,0,0,0,0,85,196,0,0]))},D[i]=function(t){var n=ze;return T[n(411)](T[n(204)][n(298)],this[n(246)](t[n(393)],t.duration),this[n(229)](t[n(469)]),this[n(265)](t))},D[r]=function(t){var n=ze;return T[n(411)](T.types[n(429)],new N([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]))},D[e]=function(t){var n=ze;return t[n(469)]===n(451)?T[n(411)](T[n(204)][n(265)],T.box(T[n(204)][n(236)],T[n(247)]),T.DINF,this[n(415)](t)):T[n(411)](T[n(204)][n(265)],T[n(256)],this[n(415)](t),T[n(411)](T[n(204)][n(340)],T[n(217)]))},D[u]=function(t,n,i){var r=ze;return T[r(411)](T[r(204)][r(460)],this[r(429)](t),this.traf(i,n))},D.moov=function(t,n,i){for(var r=ze,e=t[r(294)],u=[];e--;)u[e]=this[r(315)](t[e]);return T[r(411)][r(187)](null,[T[r(204)].moov,this[r(210)](i,n),this[r(430)](t)].concat(u)[r(365)](this[r(386)](t)))},D.mvex=function(t){for(var n=ze,i=t[n(294)],r=[];i--;)r[i]=this[n(290)](t[i]);return T.box[n(187)](null,[T[n(204)].mvex].concat(r))},D[s]=function(t,n){var i=ze,r=new N([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return T[i(411)](T[i(204)].mvhd,r)},D[o]=function(t){for(var n=ze,i=t[n(446)]||[],r=new N(4+i.length),e=0;e<i.length;e++){var u=i[e][n(316)];r[e+4]=u[n(213)]<<4|u.isDependedOn<<2|u.hasRedundancy}return T.box(T.types.sdtp,r)},D[a]=function(t){var n=ze;return T[n(411)](T.types[n(415)],this[n(402)](t),T.box(T.types[n(478)],T[n(443)]),T.box(T.types[n(200)],T[n(268)]),T[n(411)](T[n(204)][n(390)],T[n(348)]),T[n(411)](T[n(204)][n(267)],T[n(463)]))},D[c]=function(t){var n,i,r,e=ze,u=[],s=[];for(n=0;n<t[e(259)][e(294)];n++)r=(i=t[e(259)][n])[e(442)],u.push(r>>>8&255),u[e(462)](255&r),u=u[e(365)](Array[e(381)].slice.call(i));for(n=0;n<t.pps.length;n++)r=(i=t.pps[n])[e(442)],s.push(r>>>8&255),s[e(462)](255&r),s=s[e(365)](Array[e(381)][e(293)][e(394)](i));var o=T[e(411)](T[e(204)].avcC,new N([1,u[3],u[4],u[5],255,224|t[e(259)][e(294)]][e(365)](u)[e(365)]([t[e(362)].length]).concat(s))),a=t[e(228)],c=t[e(396)],h=T[e(411)](T[e(204)][e(474)],T[e(411)](T.types[e(425)],new N([97,118,99,49])),T[e(411)](T[e(204)][e(342)],new N([0,0,0,0].concat(ln(Ge(this[e(432)][e(366)].video[e(395)])),[0,1,0,0]))),T[e(411)](T[e(204)].schi,this[e(314)]("video")));return T[e(411)](T[e(204)][e(333)],new N([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),o,h)},D[h]=function(t){var n=ze,i=t.config[n(442)],r=new N(26+i+3);return r[n(311)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(311)](t[n(366)],26),r[n(311)]([6,1,2],26+i),r},D[f]=function(t){var n=ze,i=t.audiosamplerate;return T[n(411)](T[n(204)][n(296)],new N([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),T[n(411)](T[n(204)][n(369)],this.esds(t)))},D.dOps=function(t){var n=ze,i=t[n(357)];return new N([0,t[n(198)],1,56,0,0,i>>>8&255,255&i,0,0,0])},D[v]=function(t){var n=ze,i=t[n(357)];return T[n(411)](T[n(204)].Opus,new N([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),T[n(411)](T.types[n(305)],this[n(305)](t)))},D[d]=function(t){var n=ze,i=T[n(411)](T[n(204)].dOps,this[n(305)](t)),r=T[n(411)](T[n(204)].sinf,T[n(411)](T[n(204)].frma,new N([79,112,117,115])),T[n(411)](T[n(204)][n(342)],new N([0,0,0,0].concat(ln(Ge(this.drm[n(366)].audio[n(395)])),[0,1,0,0]))),T[n(411)](T[n(204)][n(332)],this[n(314)](n(451)))),e=t[n(357)];return T[n(411)](T[n(204)][n(468)],new N([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,e>>>8&255,255&e,0,0]),i,r)},D[l]=function(t){var n=ze;return t[n(469)]===n(451)?T.box(T[n(204)][n(402)],T[n(320)],t[n(212)]?this[n(468)](t):this[n(264)](t)):T.box(T[n(204)][n(402)],T[n(320)],this.encv(t))},D[g]=function(t){var n=ze,i=t.id,r=t[n(191)],e=t.width,u=t[n(396)],s=t[n(219)];return T[n(411)](T[n(204)][n(249)],new N([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,255&s,s%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>>8&255,255&e,0,0,u>>>8&255,255&u,0,0]))},D[w]=function(t,n){var i,r=ze,e=t.id,u=t[r(446)][0][r(483)],s=t[r(446)][0][r(191)],o=t[r(446)][0].flags,a=T[r(411)](T[r(204)][r(488)],new N([0,2,0,58,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,1,s>>>24,e>>>16&255,s>>>8&255,255&s,u>>>24,u>>>16&255,u>>>8&255,255&u,0,o.isNonSync,0,0])),c=T[r(411)](T[r(204)][r(222)],new N([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(t[r(212)]){var h,f;if(t[r(469)]===r(434)?(h=!0,f=this[r(199)][r(434)]+(null==(i=t[r(446)][0].sampleAuxInfo)?void 0:i.byteLength)):(h=!1,f=this[r(199)][r(451)]),f>0){var v=this[r(392)](f),d=this[r(363)](t[r(446)],h),l=v.length+20+d.length+a[r(294)]+c[r(294)]+8+16+8+8,g=this[r(324)](t,l);return T[r(411)](T[r(204)][r(231)],a,c,g,v,this[r(364)](l-d[r(294)]+g[r(294)]+8),d)}var w=this[r(363)](null,!1),y=w[r(294)]+a[r(294)]+c.length+8+16+8+8,m=this[r(324)](t,y);return T[r(411)](T[r(204)][r(231)],a,c,m,w)}return T.box(T.types.traf,a,c,this[r(324)](t,a[r(294)]+c[r(294)]+8+16+8+8))},D[y]=function(t){var n=ze;return t[n(191)]=t[n(191)]||4294967295,T.box(T[n(204)][n(315)],this[n(249)](t),this[n(298)](t))},D.trex=function(t){var n=ze,i=t.id;return T[n(411)](T[n(204)][n(290)],new N([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},D.trun=function(t,n){var i=ze,r=(t.samples||[]).length,e=new N(12);return n+=20,e[i(311)]([0,0,0,1,r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n],0),T.box(T.types[i(324)],e)},D[m]=function(t,n){var i,r,e,u=ze,s=u(373),o=u(257),a=function(t){var n=function(t){for(var n=ze,i="",r=0;r<t.length;r+=16e3){var e=t[n(453)](r,r+16e3);i+=String[n(299)][n(187)](null,e)}return i}(Ye(t));return btoa(n)}((i=t,(e=[])[(r=ze)(462)](i[3]),e[r(462)](i[2]),e[r(462)](i[1]),e[r(462)](i[0]),e.push(i[5]),e.push(i[4]),e.push(i[7]),e.push(i[6]),(i=Ye(i))[r(311)](e,0),i));return Ye(function(t,n){for(var i=ze,r=new N(2*t.length),e=new DataView(r[i(492)]),u=0;u<t[i(294)];++u){var s=t[i(431)](u);e[i(221)](2*u,s,!0)}return r[i(492)]}([u(300)+o+u(422)+s+'">',"<DATA>",u(239),"<KIDS>",u(417),u(243)+a+'"',">",u(245),u(270),"</PROTECTINFO>",n?u(470)+n+u(409):"",u(428),u(289)][u(420)]("")))},D[A]=function(t){var n=ze;if(this[n(432)][n(440)][n(328)]("com.widevine"))return T[n(411)](T[n(204)][n(430)],new N([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16].concat(ln(this[n(432)][n(366)][t[0][n(469)]][n(479)]))));if(this[n(432)].keySystem===n(421)){var i=this[n(192)](this[n(432)][n(366)][t[0].type][n(479)],this.drm.licenseUrl),r=i[n(442)];return T[n(411)](T[n(204)][n(430)],new N([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,r>>>24,r>>>16&255,r>>>8&255,255&r].concat(ln(i))))}return this[n(432)][n(440)]===n(273)?T[n(411)](T[n(204)][n(430)],new N([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1].concat(ln(this.drm.config[t[0][n(469)]][n(479)]),[0,0,0,0]))):this[n(432)][n(440)]===n(286)?null:void console[n(370)](n(297)+this[n(432)].keySystem)},D[p]=function(t){var n,i,r=ze,e=this[r(432)][r(366)][t];return"cbcs"===e.encryption?(n=new N([16].concat(ln(e.iv))),i=25):(n=new N([]),i=0),T[r(411)](T[r(204)].tenc,new N([1,0,0,0,0,i,1,this[r(199)][t]].concat(ln(e[r(479)]),ln(n))))},D[_]=function(t){return T[ze(411)](T.types.saiz,new N([0,0,0,0,t,0,0,0,1]))},D[k]=function(t){var n=ze;return T[n(411)](T[n(204)][n(364)],new N([0,0,0,0,0,0,0,1,t>>>24,t>>>16&255,t>>>8&255,255&t]))},D[M]=function(t,n){var i=ze,r=null;return t&&(1!==t[i(294)]&&console[i(370)](i(424)+t[i(294)]+i(413)),r=t[0][i(195)]),r&&r[i(442)]?T[i(411)](T[i(204)][i(363)],new N([0,0,0,n?2:0,0,0,0,1].concat(ln(r)))):T[i(411)](T[i(204)][i(363)],new N([0,0,0,0,0,0,0,1]))},D[b]=function(t,n,i){var r=ze,e=this[r(216)](t,n,i),u=new N(T[r(341)][r(442)]+e.byteLength);return u.set(T[r(341)]),u[r(311)](e,T[r(341)].byteLength),u},T[t]=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,u=ze,s=8,o=i.length,a=o;o--;)i[o]&&(s+=i[o].byteLength);for((e=new N(s))[0]=s>>>24,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=255&s,e[u(311)](t,4),o=0,s=8;o<a;++o)i[o]&&(e[u(311)](i[o],s),s+=i[o][u(442)]);return e},T}(ze(411),ze(246),ze(298),ze(429),ze(265),ze(460),ze(210),ze(356),ze(415),ze(333),ze(369),ze(296),ze(264),ze(468),ze(402),ze(249),ze(231),ze(315),ze(192),ze(430),ze(314),ze(392),ze(364),ze(363),ze(271)),He=1,Ke=function(t,n,i){function r(){this[ze(283)]=1}var e=r.prototype;return e[n]=function(){var t=ze;this[t(274)][t(215)]=0,this.mp4track[t(446)]=[]},e[i]=function(){var t=ze;return!(!this.readyToDecode||!this[t(446)][t(294)])},r[t]=function(){return He++},r}(ze(209),ze(250),ze(258)),Je=function(t){function n(n){var i,r=ze;return(i=t.call(this)||this)[r(435)]=!0,i[r(223)]=0,i[r(237)]=0,i[r(274)]={id:Ke[r(209)](),type:"audio",channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(388),encrypted:!0},i[r(446)]=[],i}Et(n,t);var i=n.prototype;return i.resetTrack=function(){var t=ze;this[t(283)]=1,this[t(223)]=0,this[t(237)]=0},i[ze(406)]=function(t,n,i){var r=ze;if(t.length>0)for(var e=0;e<t[r(294)];e++){var u=t[e],s=u[r(276)],o=s[r(442)];this.samples.push({units:s,size:o,duration:u.duration,sampleAuxInfo:n,timestamp:i}),this[r(274)][r(215)]+=o}},i[ze(248)]=function(){var t=ze;if(!this[t(446)])return null;for(var n,i=this[t(274)][t(446)];this.samples[t(294)];){var r=this[t(446)][t(233)](),e=(1e3*r[t(385)]|0)-this.nextDts|0;e<5&&(e=5),this.dts=this.nextDts,this[t(223)]+=e,n={size:r.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(195)]};var u=new N(r.size);return u[t(311)](r.units,0),i.push(n),new N(u.buffer,0,r[t(483)])}return null},n}(Ke),qe=function(t){function n(n,i){var r,e=ze;return(r=t.call(this)||this)[e(435)]=!1,r.nextDts=0,r[e(237)]=0,r[e(477)]=i,r.mp4track={id:Ke[e(209)](),type:e(434),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(446)]=[],r[e(220)]=new We(r),r}Et(n,t);var i=n.prototype;return i[ze(426)]=function(){var t=ze;this[t(283)]=1,this.readyToDecode=!1,this[t(274)].sps="",this[t(274)][t(362)]="",this[t(223)]=0,this[t(237)]=0},i[ze(406)]=function(t,n,i){for(var r=ze,e=0;e<t.length;e++){for(var u=t[e],s=[],o=0,a=0,c=u[r(276)];a<c.length;a++){var h=c[a];this.h264[r(368)](h)&&(s[r(462)](h),o+=h.getSize())}s[r(294)]>0&&this[r(435)]&&(this[r(274)][r(215)]+=o,this[r(446)][r(462)]({units:s,size:o,keyFrame:u.keyFrame,duration:u[r(191)],sampleAuxInfo:n,timestamp:i}))}},i[ze(248)]=function(){var t=ze;if(!this[t(258)]()||!this.samples)return null;var n,i=this[t(274)][t(446)],r=this.samples[t(233)](),e=r[t(276)],u=(1e3*r.timestamp|0)-this[t(223)]|0;u<5&&(u=5),f[t(251)]&&u>5e3&&console[t(383)]("timestamp gap: "+(u/1e3|0)+" s"),this[t(237)]=this[t(223)],this.nextDts+=u,n={size:r[t(483)],duration:u,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(275)]?0:1,dependsOn:r.keyFrame?2:1},sampleAuxInfo:r[t(195)]};for(var s=0,o=0;o<e.length;o++)s+=e[o][t(349)]();for(var a=0,c=new N(s),h=0;h<e.length;h++){var v=e[h];c[t(311)](v[t(343)](),a),a+=v[t(349)]()}return i[t(462)](n),new N(c[t(492)],0,s)},n}(Ke),$e=function(t){function n(n,i){var r,e=ze;return(r=t.call(this,e(345))||this).initialized=!1,r.trackTypes=[],r[e(414)]={},r[e(393)]=1e3,r.mediaDuration=0,r[e(477)]=n,r[e(375)]=i,r}Et(n,t);var i=n.prototype;return i.addTrack=function(t){var n=ze;(t===n(434)||"both"===t)&&(this[n(414)][n(434)]=new qe(this[n(393)],this.videoElement),this[n(480)][n(462)](n(434))),(t===n(451)||t===n(303))&&(this[n(414)][n(451)]=new Je(this.timescale),this[n(480)][n(462)](n(451)))},i.reset=function(){for(var t=ze,n=0,i=this[t(480)];n<i.length;n++){var r=i[n];this[t(414)][r][t(426)]()}this[t(489)]=!1},i[ze(355)]=function(){var t=ze;this[t(414)]={},this[t(490)]()},i[ze(250)]=function(){var t=ze;if(this[t(489)])for(var n=0,i=this[t(480)];n<i.length;n++)for(var r=i[n],e=this[t(414)][r];;){var u=e.getFramePayload();if(!u||!u[t(442)])break;var s={type:r,payload:Ue(this[t(375)][t(460)](e[t(283)]++,e[t(237)],e[t(274)]),this[t(375)][t(458)](u)),dts:e[t(237)]};this[t(255)](t(492),s),e[t(250)]()}else this[t(258)]()&&(this[t(255)](t(205)),this[t(271)](),this[t(489)]=!0,this[t(250)]())},i.initSegment=function(){for(var t=ze,n=0,i=this[t(480)];n<i.length;n++){var r=i[n],e=this[t(414)][r],u={type:r,payload:this[t(375)][t(271)]([e[t(274)]],this[t(433)],this[t(393)])};this.dispatch(t(492),u)}},i.isReady=function(){for(var t=ze,n=0,i=this.trackTypes;n<i.length;n++){var r=i[n];if(!this[t(414)][r][t(435)]||!this[t(414)][r].samples[t(294)])return!1}return!0},i[ze(406)]=function(t){for(var n=ze,i=0,r=this[n(480)];i<r.length;i++){var e=r[i],u=t[e];u.length>0&&this[n(414)][e][n(406)](u,e===n(451)?t[n(225)]:t.videoSampleAuxInfo,t[n(385)])}this.flush()},n}(Ze),tu=function(t){function n(n,i,r){var e,u=ze;return(e=t.call(this,u(492))||this)[u(469)]=i,e.queue=new N,f[u(319)]&&(e[u(254)]=new N,e[u(404)]=0),e.sourceBuffer=n,e[u(218)]=r,e[u(197)]=!1,e[u(310)].addEventListener(u(370),(function(t){var n=u;console.warn(n(201),t,e.type),e[n(197)]=!0,e[n(255)](n(370),{type:e[n(469)],name:"buffer",error:n(292)})})),e}Et(n,t);var i=n.prototype;return i[ze(355)]=function(){var t=ze;this[t(401)]=null,this[t(254)]=null;try{this.sourceBuffer&&(this[t(310)][t(186)](),this[t(218)].removeSourceBuffer(this[t(310)]),this[t(310)]=null)}catch(t){}this.offAll()},i[ze(475)]=function(){var t=ze;if(this.queue[t(294)]&&this[t(310)]&&!this[t(310)].updating){if(this[t(310)].buffered[t(294)]>1){for(var n=0;n<this[t(310)].buffered[t(294)];++n){var i=n<this[t(310)].buffered[t(294)]-1;f[t(251)]&&console[t(383)](t(445)+n+(i?" (remove)":"")+": "+this[t(310)][t(269)][t(326)](n)+t(325)+this[t(310)][t(269)][t(376)](n)),i&&this.sourceBuffer[t(482)](this[t(310)][t(269)].start(n),this[t(310)].buffered[t(376)](n))}if(this.sourceBuffer[t(378)])return}try{this[t(310)][t(491)](this[t(401)]),this.queue=new N}catch(n){this[t(255)](t(370),{type:this[t(469)],name:t(352),error:n})}}},i[ze(371)]=function(t){var n=ze;if(this[n(254)]&&(this.dbgQueue=Ue(this[n(254)],t),100==++this[n(404)])){var i=(new Date)[n(344)]().substring(0,19)[n(454)](":","-"),r=this.type+"-"+i+".mp4";f.downloadToFile(this[n(254)],r),this[n(254)]=null}this[n(197)]||(this[n(401)]=Ue(this[n(401)],t)),this.doAppend()},n}(Ze),nu=function(t){function n(n){var i,r=ze;return(i=t.call(this,r(397))||this)[r(197)]=!1,i[r(410)]=!0,i[r(466)]=!1,i[r(234)]=!1,i.mseEnded=!1,i[r(379)]=_[r(189)]({},{node:"",mode:"video",debug:!1,onReady:function(){},onError:function(t){}},n),i[r(450)]=Y(i.options[r(450)])===r(302)?v[r(472)](i.options.node):i[r(379)].node,i[r(432)]=n.drm,i.mp4=new Xe(i.drm),i[r(423)]=new $e(i.node,i[r(375)]),i[r(423)].addTrack(i[r(379)][r(461)]),i[r(423)].on(r(492),i[r(456)].bind(i)),i[r(423)].on(r(205),i[r(382)][r(308)](i)),i.initBrowser(),i}Et(n,t);var i=n.prototype;return i[ze(322)]=function(){var t=ze;Y(this.options.node)===t(302)&&""==this.options[t(450)]&&console[t(370)](t(473)),this[t(234)]=!1,this.setupMSE()},i.setupMSE=function(){var t=ze;if(!f[t(202)]&&!f[t(384)])throw t(452);f.ManagedMediaSource?(this.node[t(427)]=!0,this[t(327)]=new ManagedMediaSource):this[t(327)]=new MediaSource,this[t(284)]=URL[t(244)](this[t(327)]),this.node[t(485)]=this[t(284)],this[t(277)]=!1,this[t(327)][t(331)](t(338),this.onMSEOpen[t(308)](this)),this.mediaSource.addEventListener("sourceclose",this[t(241)][t(308)](this)),this[t(327)][t(331)]("webkitsourceopen",this[t(194)][t(308)](this)),this.mediaSource[t(331)](t(240),this[t(241)].bind(this)),this[t(327)][t(331)]("error",(function(n){var i=t;console[i(370)](i(287),n[i(226)])}))},i[ze(227)]=function(){var t=ze;if(!this[t(277)])try{this.mseEnded=!0,this[t(327)][t(185)]===t(399)&&this[t(327)][t(261)]()}catch(n){console[t(370)]("mediasource is not available to end: ",n)}},i[ze(359)]=function(){this[ze(410)]=!0},i[ze(371)]=function(t){var n=ze,i={video:[],audio:[]};if(this[n(197)]||this[n(277)]||!t||!this[n(423)])return-1;if(t[n(434)]){i.timestamp=t.timestamp;var r=this[n(190)](t.videoSampleAuxInfo,this.mp4[n(199)][n(434)]),e=r!=t[n(434)][n(442)],u=We[n(360)](t[n(434)],e);if(!u[n(206)]||u[n(260)].length<1)return 0;if(this.waitingForIdr){if(!u[n(412)])return 0;this[n(410)]=!1}if(!Be&&t[n(278)]){var s=u[n(260)][n(188)]((function(t,i){return t+4+i[n(442)]}),0);s!==r&&this[n(400)](t[n(278)],this.mp4[n(199)][n(434)],s-r)}i[n(434)]=this[n(335)](u[n(260)]),i[n(278)]=t[n(278)]}return t[n(451)]&&(i[n(385)]=t[n(385)],i[n(451)]=[{units:t.audio}],i.audioSampleAuxInfo=t[n(225)]),t[n(434)]||t[n(451)]?(this[n(423)][n(406)](i),0):(console.error(n(361)),0)},i[ze(335)]=function(t){for(var n=ze,i=[],r=[],e=!1,u=!1,s=0;s<t.length;s++){var o=t[s],a=new Ve(o);a.type()!==Ve.IDR&&a[n(469)]()!==Ve.NDR||We[n(448)](a),i[n(294)]&&u&&(a[n(387)]||!a[n(495)])&&(r[n(462)]({units:i,keyFrame:e}),i=[],e=!1,u=!1),i[n(462)](a),e=e||a[n(459)](),u=u||a[n(495)]}if(i[n(294)])if(u)r[n(462)]({units:i,keyFrame:e});else{var c=r[n(294)]-1;c>=0&&(r[c].units=r[c][n(276)].concat(i))}return 1!==r[n(294)]&&console[n(230)](n(207)+r[n(294)]),r},i[ze(190)]=function(t,n){var i=ze;if(!t)return 0;for(var r=(t[0]<<8)+t[1],e=n+2+4,u=0,s=2;0<r&&s+e<=t[i(442)];){var o=(t[s+=n]<<8)+t[s+1],a=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,u+=o+a}return u},i.patchSampleAuxinfo=function(t,n,i){var r=ze,e=2;if(0<(t[0]<<8)+t[1]&&e+(n+2+4)<=t[r(442)]){var u=(t[e+=n]<<8)+t[e+1];(u+=i)>=0&&(t[e]=u>>>8&255,t[e+1]=255&u)}return 0},i[ze(382)]=function(){var t=ze;if(this[t(234)]&&this[t(423)]&&this[t(423)].isReady()&&!this.bufferControllers)for(var i in this.bufferControllers={},this[t(423)][t(414)]){var r=this[t(423)][t(414)][i],e="".concat(i,t(317))[t(365)](r[t(274)][t(449)],'"');if(f.clRtcDrmDebugLog&&console[t(383)](t(312),e),!n[t(408)](e))return console[t(370)](t(372)),!1;var u=this[t(327)][t(350)](e);this[t(398)][i]=new tu(u,i,this[t(327)]),this.bufferControllers[i].on(t(370),this[t(403)][t(308)](this))}},i[ze(313)]=function(){var t=ze;for(var n in this[t(398)])this[t(398)][n].doAppend()},i.onBuffer=function(t){var n=ze;this[n(234)]&&this[n(398)]&&this[n(398)][t.type]&&this[n(398)][t[n(469)]][n(371)](t[n(214)])},i[ze(194)]=function(){var t=ze;f[t(251)]&&console.info("[MSE] sourceopen"),this[t(327)][t(185)]!==t(281)&&(this.mediaSource.duration=Number[t(391)],this[t(234)]=!0,"function"==typeof this[t(379)][t(336)]&&this[t(379)].onReady[t(394)](null,this[t(466)]),URL[t(235)](this.url),this[t(382)]())},i[ze(241)]=function(){var t=ze;f.clRtcDrmDebugLog&&console[t(383)](t(441)),this.mseReady=!1,this[t(227)]()},i[ze(403)]=function(t){var n=ze;console.warn(n(351),t),this.irrecoverableError=!0,this[n(227)](),"function"==typeof this[n(379)][n(266)]&&this[n(379)][n(266)][n(394)](null,t)},n.isSupported=function(t){var n=ze;return f[n(202)]?f.ManagedMediaSource[n(497)](t):!!f[n(384)]&&f.MediaSource[n(497)](t)},n}(Ze);function iu(t,n){var i=ru();return(iu=function(t,n){return i[t-=222]})(t,n)}function ru(){var t=["jw","1634635aeNfVS","4rWkceo","1051qHPzyB","314juHkBI","7752096GfpyFE","1023208nKrJjX","2137269uUqtNM","303058KNxeBb","1097196nHglzA"];return(ru=function(){return t})()}!function(){for(var t=iu,n=ru();;)try{if(M(t(228))/1*(-M(t(229))/2)+-M(t(222))/3*(M(t(227))/4)+M(t(226))/5+M(t(224))/6+M(t(223))/7+-M(t(231))/8+M(t(230))/9==409100)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var eu=uu;function uu(t,n){var i=cu();return(uu=function(t,n){return i[t-=460]})(t,n)}!function(){for(var t=uu,n=cu();;)try{if(-M(t(471))/1*(-M(t(474))/2)+M(t(479))/3+M(t(473))/4*(M(t(461))/5)+M(t(487))/6+-M(t(467))/7+-M(t(482))/8+-M(t(464))/9==139726)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var su="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8"+eu(462)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+eu(460)+eu(476)+eu(480)+eu(484)+eu(485)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A"+eu(475)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+eu(477),ou=N[eu(478)](f[eu(470)](su),(function(t){return t.charCodeAt(0)})),au=function(){function t(t){this[eu(488)]=t}var n=t.prototype;return n[eu(469)]=function(){return this[eu(488)]},n[eu(483)]=function(){var t=eu;switch(this[t(488)]){case t(489):return"https://lic.staging.drmtoday.com";case t(465):return t(481);default:return t(466)}},n.certificate=function(){return ou},t}();function cu(){var t=["development","https://lic.drmtoday.com","462553oMrSQp","Staging","toString","atob","20047HjYCpd","Development","52chMPdC","6mbMcSk","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","from","146355HhTpSB","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","https://lic.test.drmtoday.com","501688OkVRMl","baseUrl","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Production","1063410zFUyaf","name","staging","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","93365ZJpndd","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","production","2343546YgIYCY"];return(cu=function(){return t})()}function hu(t,n){var i=fu();return(hu=function(t,n){return i[t-=325]})(t,n)}function fu(){var t=["1052499bnJBHn","cenc","4222tSxFth","Unsupported SampleAuxInfo version","12980Tusgux","3160ZwXFcU","40030ewyARR","16lkTHRT","1199124lbwxEr","data","105TSrukA","getUint8","12bBEpge","SampleAuxInfo corrupted (postfix not found)","getUint16","error","85265ZYYyUv","buffer","3616548TKdsLX","subarray","byteLength","SampleAuxInfo corrupted"];return(fu=function(){return t})()}function vu(t,n){var i=wu();return(vu=function(t,n){return i[t-=295]})(t,n)}au[eu(468)]=new au(eu(489)),au[eu(486)]=new au(eu(463)),au[eu(472)]=new au(eu(465)),function(){for(var t=hu,n=fu();;)try{if(M(t(328))/1+-M(t(332))/2*(-M(t(336))/3)+-M(t(338))/4*(-M(t(342))/5)+-M(t(344))/6+-M(t(326))/7*(M(t(333))/8)+M(t(334))/9+M(t(331))/10*(M(t(330))/11)==358550)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(),function(){for(var t=vu,n=wu();;)try{if(M(t(305))/1*(-M(t(297))/2)+-M(t(295))/3+M(t(310))/4*(M(t(309))/5)+-M(t(304))/6*(M(t(296))/7)+M(t(307))/8*(-M(t(298))/9)+-M(t(301))/10*(M(t(302))/11)+-M(t(300))/12*(-M(t(308))/13)==178039)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var du=[],lu=null,gu=0;function wu(){var t=["31476hbBsvr","850RxzAPl","4180KczaCN","push","156MUFuvQ","96571jvhWaB","buffer","26232BkewNd","4303YGAqiP","5yhGpFn","1137036pzCnTd","1035942NcoZLh","94073eTaQjy","2bXtEms","414snfiTE","slice"];return(wu=function(){return t})()}var yu=ku;function mu(){var t=["Data does not seem to be UTF-16 encoded!","No init data available!","getElementsByTagName","min","14BFNrBA","keystatuseschange","catch","childNodes","internal-error","Failed to reuse previous EME session: ","output-downscaled","expired","bind","5576688EKOFOG","has","length","License acquisition failed with error ","arrayBuffer","apply","CDM error generating license request: ","<Challenge","No PR challenge data!","then","license","createSession","warn","[PR] License fetched:","text/xml","clRtcDrmDebugLog","push","encode","max","json"," is not ","replace","target","rtcdrmerror","update","fromCharCode","subarray","2993694njpqat","4002692oINhTV","Content-Type","1347492MkzfDC","Data has an incorrect length, must be even.","addEventListener","buffer","onFetch","generateRequest","initData","dispatchEvent","atob","No clear key test key provided!","Challenge","New lic will be requested","oct","BYTES_PER_ELEMENT","sessionId","usable for decryption (status: ","[WV] License fetched:","Key ","5MtuOVr","byteLength","744563CKOUzg","load","floor","error","decode","indexOf","info","isSafari","edef8ba979d64acea3c827dcd51d21ed","mediaKeys","Previous lic will be reused","charCodeAt","licenseUrl","status","Failed to update the session: ","log","keyStatuses","temporary","9a04f07998404286ab92e65be0885f95","output-restricted","nodeValue","btoa","message","EME createSession() failed - no DRM available","5977680uUTwUr","getUint16","[PR] Challenge node not found","A128KW","3974463jrELhf","Failed to update the session","stringify","[EME]","delete","No media keys for media element!","set","2nMQfRz"];return(mu=function(){return t})()}!function(){for(var t=ku,n=mu();;)try{if(-M(t(419))/1*(M(t(454))/2)+M(t(495))/3+M(t(496))/4*(-M(t(417))/5)+-M(t(498))/6*(-M(t(459))/7)+M(t(468))/8+-M(t(447))/9+M(t(443))/10==555073)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Au={licenseUrl:"",onFetch:void 0},pu={},_u=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=ku,e=N[r(511)];n*=e,i*=e;var u,s=(u=t)instanceof ArrayBuffer?u:u[ku(501)],o=t[r(418)],a=n,c=k[r(486)](0,k[r(458)](a,o)),h=k[r(458)](c+k[r(486)](i,0),o);return new N(s,c/=e,(h/=e)-c)}(t,n,i)};function ku(t,n){var i=mu();return(ku=function(t,n){return i[t-=417]})(t,n)}var Mu=function(t){for(var n=ku,i="",r=0;r<t.length;r++){var e=t[r].toString(16);1==e[n(470)]&&(e="0"+e),i+=e}return i},bu=null,Tu=function(t){var n=ku;return f[n(440)](String[n(493)][n(473)](null,t))[n(489)](/\+/g,"-")[n(489)](/\//g,"_")[n(489)](/=*$/,"")},Nu=function(t,n){var i=ku,r=function(t){var n=ku,i=JSON.parse((new TextDecoder)[n(423)](t));if(console[n(434)]("CK license request:",i),null===bu)throw new A(n(507));for(var r=[],e=0,u=i.kids;e<u.length;e++){var s=u[e],o={kty:n(510),alg:n(446),kid:s,k:Tu(bu)};r[n(484)](o)}return(new TextEncoder)[n(485)](JSON[n(449)]({keys:r}))}(n.message);n[i(490)][i(492)](r)[i(461)]((function(t){var n=i;console[n(422)](n(448),t)}))},Du=function(t){for(var n=ku,i=f[n(506)](t[n(489)](/-/g,"+")[n(489)](/_/g,"/")),r=new N(i[n(470)]),e=0;e<i.length;++e)r[e]=i[n(430)](e);return r},Iu=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return ke(void 0,[t,n].concat(ln(r)),void 0,(function(t,n,i){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=ku,e=new Headers(pu),i&&e.append(r(497),r(482)),u={method:"POST",headers:e,body:n},[4,Au[r(502)]?Au[r(502)](t,u):fetch(t,u)];case 1:if(!(s=o.sent()).ok)throw new A(r(471)+s[r(432)]);return[2,s]}}))}))},Eu=function(t,n){var i=ku;Iu(Au[i(431)],n[i(441)])[i(477)]((function(t){return t[i(487)]()}))[i(477)]((function(t){var r=i;f[r(483)]&&console.info(r(514),t.license);var e=Du(t[r(478)])[r(501)];n[r(490)][r(492)](e)[r(461)]((function(t){console[r(422)]("Failed to update the session",t)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Su=function(t,n){var i=ku,r=function(t,n){var i=ku,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=ku;if(!t)return"";var e=t;if(!i&&e.byteLength%2!=0)throw console[r(422)](r(499)),new A(r(455));var u,s=_u(e);if((255===s[0]&&254===s[1]||254===s[0]&&255===s[1])&&(e=s[r(494)](2)),e instanceof ArrayBuffer)u=e;else{var o=new N(e[r(418)]);o[r(453)](_u(e)),u=o[r(501)]}for(var a=k[r(421)](e.byteLength/2),c=new Uint16Array(a),h=new DataView(u),f=0;f<a;f++)c[f]=h[r(444)](2*f,n);return function(t){for(var n=ku,i="",r=0;r<t[n(470)];r+=16e3){var e=t[n(494)](r,r+16e3);i+=String[n(493)].apply(null,e)}return i}(c)}(n,!0);if(e[i(424)](i(475))>-1){var u=r.parseFromString(e,i(482))[i(457)](i(508))[0][i(462)][0][i(439)];if(null===u)throw new A("No PR challenge data!");return Du(u)}console[i(480)](i(445))}catch(n){t.dispatchEvent(new CustomEvent(i(491),{detail:{message:""+n}})),console.error(n)}return null}(t,n.message);if(null===r)return t[i(505)](new CustomEvent("rtcdrmerror",{detail:{message:"No PR challenge data!"}})),void console.error(i(476));Iu(Au[i(431)],r[i(501)],!0)[i(477)]((function(t){return t[i(472)]()}))[i(477)]((function(r){var e=i;f[e(483)]&&console[e(425)](e(481),r),n[e(490)].update(r)[e(461)]((function(n){var i=e;t[i(505)](new CustomEvent(i(491),{detail:{message:i(433)+n}})),console[i(422)](i(448),n)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent("rtcdrmerror",{detail:{message:""+n}})),console[r(422)](n)}))},Lu=function(t,n){var i=ku;Iu(Au[i(431)],n[i(441)])[i(477)]((function(t){var n=i,r=t.text();return f[n(483)]&&console.info("[FPS] License fetched:",t,r),r}))[i(477)]((function(t){var r=i;n[r(490)][r(492)](Du(t))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Cu=function(t,n){pu[t]=n},ju=Oe[yu(426)],xu=!ju,Ou=new Map;function zu(t){return ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:if(null===t[(n=ku)(504)])throw new A(n(456));if(null===(i=t[n(490)]))throw new A("No media element available!");if(null===(r=i[n(428)]))throw new A(n(452));e=Mu(new N(t[n(504)])),u=e+i.id,s=null,Ou[n(469)](u)&&(null!=(s=Ou.get(u))&&s.close(),Ou[n(451)](u)),f[n(483)]&&console[n(425)](n(450),n(s?429:509)),o=null;try{o=r[n(479)](xu?"persistent-license":"temporary")}catch(t){console[n(434)]("EME createSession(persistent) failed:",t)}if(!o&&xu){xu=!1;try{o=r[n(479)](n(436))}catch(t){console[n(422)]("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o[n(500)](n(460),(function(t){var r=n;t[r(490)][r(435)].forEach((function(t,n){var e=r;(t===e(466)||t===e(438)||t===e(465)||t===e(463))&&i[e(505)](new CustomEvent(e(491),{detail:{message:e(515)+Mu(new N(n))+e(488)+(e(513)+t+")"),keyId:n}}))}))})),ju?o.addEventListener(n(441),Lu[n(467)](null,i),!1):-1!==e[n(424)](n(427))?o.addEventListener(n(441),Eu[n(467)](null,i),!1):-1!==e[n(424)](n(437))?o[n(500)](n(441),Su[n(467)](null,i),!1):o.addEventListener("message",Nu[n(467)](null,i),!1),!s)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o[n(420)](s[n(512)])];case 2:return c.sent()?Ou[n(453)](u,o):i.dispatchEvent(new CustomEvent(n(491),{detail:{message:"Failed to load previous EME session"}})),[3,4];case 3:return a=c.sent(),i[n(505)](new CustomEvent(n(491),{detail:{message:n(464)+a}})),[3,4];case 4:return[3,6];case 5:o[n(503)](t.initDataType,t[n(504)]).then((function(){xu&&Ou[n(453)](u,o)}))[n(461)]((function(t){var r=n;i[r(505)](new CustomEvent(r(491),{detail:{message:r(474)+t}}))})),c.label=6;case 6:return[3,8];case 7:i[n(505)](new CustomEvent(n(491),{detail:{message:n(442)}})),c.label=8;case 8:return[2]}}))}))}var Ru=us;function Bu(){var t=[" too close to seek, ","fpsCertificateUrl","9880640TWxZrg","H264","ignoreAudio","Unable to create Worker!","createMediaKeys(",", restart required: ","/license-proxy-headerauth/drmtoday/RightsManager.asmx","6236Nwzlef","worker","serverCertificateUrl","serverCertificate","seq",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","ClearKey","No valid DRM config found, call rtcDrmConfigure first.","sessionId","toISOString","indexOf","robustness","isInteger","info","includes","Development","slice","16niaptx"," frame","video/mp4","isArray","Android","end","PlayReady","streamType","1772WtcYWF","]: ","Frame gap: ","nextKeyFrameAllowedTime","use rtcDrmFeedFrame to push frames manually","Error recovery attempted","merchant","FairPlay","requestMediaKeySystemAccess(","pipeThrough","/license-server-fairplay/","isChrome","type","MSE (re)init","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","DRM config env value must be one of: ","length","GOP is getting too long, requesting a new key frame","Worker","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","srcObject","RTCRtpScriptTransform","),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=","now"," to ","join","setServerCertificate","audioCapabilities","lastKeyFrameTime","prevSeqNum"," seeking from ",".experiment","clRtcDrmDebugLog","Server certificate fetch failed with error ","isFirefox","org.w3.clearkey","x-dt-custom-data","jitterBufferTarget","playbackRate","enabled","keyFrameNeeded","createEncodedStreams","wvCertificateUrl","key","sai","Discarding corrupted video frame (too small)",'gle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.',"H264 is the only supported video codec.","com.microsoft.playready.recommendation"," will be used","DRM config iv must be an instance of 16-byte long Uint8Array.","encryption","0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdTog","toString","message","status","bytesSinceKey","currentTime","supportsRtpScriptTransform","1585647fRskxG","audioElement","track","sinf","createObjectURL","enqueue","Invalid videoElement, it must be an instance of HTMLVideoElement.","7302558TqFWae","pipeTo","SampleAuxInfo extraction failed (video)","isEdge","keys","not-allowed","rtcdrmerror","btoa","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr",", a1d1f1 is recommended).","reportDiscontinuity","onFetch","keyId","sessionTypes","). Edge only supports PlayReady, Widevine and ClearKey.","audioEncrypted","audioStartTimestamp","frame","videoStartTimestamp","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer","Duplicate/reordered frame, prev seq: ","ClearKey is not supported by Safari.","bind",") not found in [","DRM config robustness can only be one of: ","persistent-license","postMessage","receiver","get","both","jmuxer","Production","Blob","timestamp","cenc","emeConfig","clear","cbcs-1-9","5iKPdqC","isWindows","PlayReady license acquisition might fail without output protection enabled (sessionId is ","). Chrome only supports Widevine and ClearKey.","mediaBufferMs should be an integer.","size","certificate","prLicenseUrl","fpsLicenseUrl","/license-proxy-widevine/cenc/","4572770OAoUlm","BYTES_PER_ELEMENT","then","SW_SECURE_CRYPTO","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","splice","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","videoElement","rtcDrmConfigure did not specify audioElement, audio will be dropped",'audio/mp4; codecs="opus"',"object","Invalid audioElement, it must be an instance of HTMLMediaElement.","keyFrameNeededPosted","debugCreateMediaDump","next","play","6591266VeIbXo","userId","jitterBufferDelayHint",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"dispatchEvent","reduce"," bytes, playback at ","offset","arrayBuffer","waitingForIdr","Widevine","DRM config mediaBufferMs should be an integer.","hwSecurity","authToken","audio"," bytes)","push","licenseUrl","Default transform mode enabled, ","RTCRtpScriptTransform/TransformStream will not be created, ","GET","baseUrl","video","trim","7377TdQrIK","3000","playoutDelayHint","catch","fpsCertificate","POSITIVE_INFINITY","/license-server-fairplay/cert/","DRM config:","streams","mediaBufferMs","log","codec","onmessage","Target video element (","Applying pre-configured certificate (","webkitURL","Discarding corrupted video frame (no Annex B startcode)"," requesting a new key frame (latency ","PlayReady might not support '","No target media element!","URL","set","warn","data","config","isSafari","forEach","setMediaKeys","buffered"," - ","keySystem",'data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f',"paused","wvCertificate","a1d1f1","2000","keyFrameRequestInterval","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","error","238HZxcdH","HW_SECURE_ALL","Invalid DRM type (","buffer","x-dt-auth-token","clRtcDrmCreateMediaDump",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"addEventListener",") failed","keyFrameLogCntr","feed","byteLength","kind","purchase","environment","videoCapabilities","requestMediaKeySystemAccess","temporary","). It has to be a string containing a JWT.","value",".. ","string"];return(Bu=function(){return t})()}!function(){for(var t=us,n=Bu();;)try{if(M(t(543))/1*(M(t(512))/2)+M(t(473))/3*(M(t(568))/4)+-M(t(672))/5*(-M(t(634))/6)+-M(t(536))/7+M(t(560))/8*(M(t(627))/9)+-M(t(682))/10+-M(t(449))/11==932877)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Uu=Oe[Ru(626)],Pu=Oe[Ru(602)],Qu=Oe[Ru(498)],Yu=Oe[Ru(637)],Gu=Oe[Ru(579)],Vu=Oe.platform,Fu=Oe[Ru(673)],Wu=Yu||Gu&&Vu===Ru(564),Zu=1e6*(Pu?82:Qu?220:120),Xu=Pu?5e3:2e3,Hu=Pu?1.5:.5;function Ku(t){var n=Ru;return(void 0===t?"undefined":Y(t))!==n(692)||null===t||t instanceof Element||t instanceof au?t:function(t){var n=Ru;return!!((null==t?void 0:t[n(515)])instanceof ArrayBuffer&&null!=t&&t[n(683)])}(t)?t[n(559)]():Array[n(563)](t)?t[n(454)]((function(t,n,i){return t[i]=Ku(n),t}),[]):t instanceof _?_[n(638)](t)[n(454)]((function(n,i){return n[i]=Ku(t[i]),n}),{}):t}var Ju=function(t){var n=Ru;this[n(545)]="",this.licenseUrl="",this[n(503)]="",this[n(669)]=[],this[n(497)]=Ku(t),this[n(664)]=null,this[n(521)]=0,this[n(571)]=Date.now(),this.videoStartTimestamp=0,this.audioStartTimestamp=0,this.prevSeqNum=-1,this[n(596)]=0,this[n(624)]=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=Xu,this.worker=null},qu=new Map,$u=new N([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),ts=new N([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),ns=new N([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function is(t){var n=Ru,i=!1;if((t[n(497)].video&&"clear"!==t[n(497)].video[n(619)]&&"HW"===t.config[n(471)][n(554)]||t[n(497)][n(463)]&&t[n(497)][n(463)].encryption!==n(670)&&"HW"===t[n(497)][n(463)][n(554)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Ru;void 0!==n&&(t[i(497)][i(482)]=n),(void 0===t[i(497)][i(482)]||t[i(497)].mediaBufferMs<0)&&(t.config[i(482)]=100,Pu?t[i(497)][i(482)]=350:!Qu&&Fu&&(t[i(497)][i(580)]===i(566)||t[i(461)])&&(t[i(497)][i(482)]=1400))}(t,t[n(497)][n(482)]),void 0===t.config.authToken){void 0===t.config[n(450)]&&(t[n(497)][n(450)]=n(525)),void 0===t[n(497)][n(551)]&&(t.config[n(551)]=n(507));var r=f[n(641)](JSON.stringify({userId:t.config[n(450)],sessionId:t[n(497)][n(551)],merchant:t.config[n(574)]}));Cu(n(604),r)}else Cu(n(516),t.config[n(462)]);for(var e=0,u=[t[n(497)].audio,t[n(497)][n(471)]];e<u.length;e++){var s=u[e];s&&s[n(619)]!==n(670)&&(s[n(646)]||(s[n(646)]=ts),s.iv||(s.iv=ns))}t[n(546)]=void 0,t[n(545)]="",t[n(466)]="";var o,a=t.config[n(526)][n(470)]();if(t[n(497)][n(580)]===n(549)?(t.keySystem=n(603),bu=$u):t.config.type===n(459)?(t[n(503)]="com.widevine.alpha",Fu&&i&&(t[n(503)]+=n(599)),t.config.wvCertificate?t[n(546)]=t[n(497)][n(506)]:t[n(497)][n(610)]?t[n(545)]=t[n(497)][n(610)]:t[n(546)]=t.config[n(526)][n(678)](),t.config.wvLicenseUrl?t[n(466)]=t[n(497)].wvLicenseUrl:t[n(466)]=a+n(681)):t[n(497)][n(580)]===n(566)?(t[n(503)]=n(616),t[n(497)][n(679)]?t.licenseUrl=t[n(497)][n(679)]:t[n(466)]=a+n(542)):t[n(497)].type===n(575)&&(t.keySystem="com.apple.fps",t.config[n(477)]?t[n(546)]=t[n(497)][n(477)]:t[n(497)][n(535)]?t.serverCertificateUrl=t.config[n(535)]:t[n(545)]=a+n(479)+t[n(497)].merchant,t[n(497)][n(680)]?t[n(466)]=t.config.fpsLicenseUrl:t.licenseUrl=a+n(578)),o={licenseUrl:t[n(466)],onFetch:t.config[n(645)]},Au=o,t[n(669)]=[],t.config[n(580)]!==n(575)){t[n(669)][n(465)]({initDataTypes:[n(668)],sessionTypes:["persistent-license",n(529)]});for(var c=0,h=[t[n(497)][n(471)],t[n(497)][n(463)]];c<h.length;c++){var v=h[c];if(v&&v.encryption!==n(670)){var d=v==t[n(497)][n(471)]?n(471):n(463),l=void 0;t[n(497)][n(580)]===n(459)?l="HW"===v[n(554)]?n(513):n(685):"PlayReady"===t[n(497)][n(580)]&&(l="HW"===v.robustness?n(474):n(508)),d===n(471)?t[n(669)][0][n(527)]=[{contentType:'video/mp4; codecs="avc1.640032"',encryptionScheme:"cenc"===v[n(619)]?n(668):"cbcs-1-9",robustness:l||void 0}]:t[n(669)][0][n(595)]=[{contentType:n(691),encryptionScheme:v[n(619)]===n(668)?"cenc":n(671),robustness:l||void 0}]}}}else t[n(669)]=[{initDataTypes:[n(630)],videoCapabilities:[{contentType:n(562),robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:n(639),sessionTypes:["temporary"]}];f[n(600)]&&console.info(n(480),t)}function rs(t){var n=Ru;f[n(600)]&&console[n(556)](n(581));var i=t[n(497)].videoElement;(!t[n(497)][n(471)]||t.config[n(471)][n(619)]===n(670))&&(i=t.config.audioElement),t[n(664)]=null;var r=!t.ignoreAudio&&t[n(497)][n(463)]&&"clear"!==t[n(497)].audio[n(619)],e=t[n(497)][n(471)]&&t.config.video[n(619)]!==n(670);t[n(624)]=0,t[n(608)]=!0,t.keyFrameNeededPosted=!1,t[n(509)]=Xu,t[n(652)]=0,t[n(650)]=0,t[n(597)]=-1,t[n(596)]=0,t.jmuxer=new nu({node:i,mode:r?n(e?663:463):"video",fps:60,drm:t}),Qu&&t[n(497)].videoElement&&t[n(497)][n(689)][n(448)]()[n(684)]((function(){}))[n(476)]((function(){}))}function es(t,n,i){var r=Ru;if(t[r(497)][r(471)]&&"clear"===t.config[r(471)][r(619)])return null==i||i[r(632)](n),!1;var e=Date[r(591)]();if(n.type===r(611)){var u=f[r(600)];++t[r(521)]<(u?Number[r(478)]:5)&&(console[r(556)]((new Date)[r(552)]().slice(11,-1)+" "+n[r(580)]+", "+(n[r(496)].byteLength+r(455)+t[r(497)][r(689)][r(625)])),u&&1===t[r(521)]&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Ru,e=new N(t[r(496)]),u="",s=0,o=0;o<n&&o<e[r(584)];++o)u+=(e[o]<16?"0":"")+e[o].toString(16)+" ";if(s<e[r(584)])for(s<e[r(584)]-i&&(u+=r(532),s=e[r(584)]-i);s<e[r(584)];s++)u+=(e[s]<16?"0":"")+e[s][r(621)](16)+" ";console.info("["+((t[r(580)]||r(463))+r(561))+r(569)+u[r(472)]())}(n,128,8)),t[r(608)]=!1,t[r(624)]=0,t[r(571)]=e+t[r(509)]}return t[r(624)]+=n.data[r(523)],!t[r(608)]&&t[r(624)]>Zu&&(console[r(556)](r(585)),t[r(608)]=!0),t.jmuxer&&(function(t,n){var i=Ru;0===t[i(652)]&&(t[i(652)]=n[i(667)],t[i(509)]=Xu,t[i(571)]=Date[i(591)]()+2e3);var r=null,e=!1;if(n.data[i(523)]<=4)console[i(495)](i(613)),e=!0;else{var u=new N(n[i(496)],0,4);0!=u[0]||0!=u[1]||0!=u[2]||1!=u[3]?(console[i(495)](i(489)),e=!0):!(r=function(t,n){var i=hu,r=new DataView(t[i(335)]),e=t.data[i(346)]-2,u=r[i(340)](e);if(u<e){var s=e-u;if(69!==r[i(337)](e-1))return console[i(341)](i(339)),null;if(r.getUint8(s++)>>>4!=1)return console[i(341)](i(329)),null;for(var o=new N(u-2),a=0,c=0;s<e-1;){var h=r.getUint8(s++);c>1&&3===h&&(c=0,h=r.getUint8(s++)),0!==h?c=0:++c,o[a++]=h}var f=new DataView(o[i(343)]),v=n===i(327)?16:0,d=v+2+6*f.getUint16(v);return d+2>a?(console.error(i(325)),null):{sai:o[i(345)](0,d),offset:e-u,seq:f.getUint16(d)}}return null}(n,t[i(497)][i(471)][i(619)]))&&(console.warn(i(636)),e=!0)}if(r)if(-1===t[i(597)]){if(n[i(580)]!==i(611))return 0;t[i(597)]=r[i(547)]}else{var s=r.seq-t[i(597)];if(s<-32767&&(s+=65536),s<=0)return f[i(600)]&&console[i(495)](i(654)+t[i(597)]+", curr: "+r[i(547)]),0;s>1&&(e=n[i(580)]!==i(611),console[i(495)](i(570)+t[i(597)]+i(502)+r[i(547)]+i(541)+e)),t.prevSeqNum=r[i(547)]}var o=0;e&&!t[i(664)][i(458)]&&(o=-1,t[i(664)][i(644)]());var a=(n[i(667)]-t[i(652)])/9e4;return r&&t[i(664)][i(522)]({video:new N(n.data,0,r[i(456)]),videoSampleAuxInfo:r[i(612)],timestamp:a})<0&&(o=-1,console[i(495)](i(573)),rs(t)),o>=0&&"key"===n[i(580)]&&(t[i(596)]=a,console[i(483)]((new Date)[i(552)]()[i(559)](11,-1)+" kf at "+a+", playback at "+t[i(497)].videoElement[i(625)])),o}(t,n)<0?t[r(608)]=!0:function(t){var n=Ru,i=t.config[n(689)];if(!(!i||i[n(501)][n(584)]<1||i[n(505)]||i[n(625)]<Hu)){var r=t[n(497)].mediaBufferMs;if(void 0===r||r<0)throw new A("targetLatency not set!");var e,u,s,o,a,c=i[n(501)][n(565)](i[n(501)][n(584)]-1),h=1e3*(c-i[n(625)])|0;if(!t[n(649)]&&(a=Ru,(o=(u=h)<3*(s=r)>>>2?.875:u<=s?1:u<7*s>>>2?1.125:u<9*s>>>2?1.25:u<11*s>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[a(606)]=o)),!(h<r+50||h<5*r>>>2))if(t.lastKeyFrameTime>i[n(625)]+.1){var v=1e3*(c-t[n(596)])|0;v>40&&v>r-100?(f[n(600)]&&console.info((new Date).toISOString().slice(11,-1)+n(598)+(i[n(625)]+n(592)+t[n(596)]+" (")+(t.lastKeyFrameTime-i[n(625)])+")"),i[n(625)]=t[n(596)]):console[n(483)]((new Date)[n(552)]().slice(11,-1)+n(534)+v)}else!t[n(608)]&&Date[n(591)]()>t[n(571)]&&h>r+100&&h>3*r>>>1&&(f[n(600)]&&console[n(556)]((new Date).toISOString()[n(559)](11,-1)+n(490)+h+" ms)"),t[n(608)]=!0,t[n(509)]<16e3&&(t[n(509)]<<=1))}}(t)),i?(!t[r(608)]||!Wu)&&(n[r(496)]=function(t){return!lu&&function(){var t=vu;lu=new N([0,0,0,1,65,154,255,255]).buffer,du[t(303)](new N([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[t(306)]),du[t(303)](du[0][t(299)](0)),new N(du[1]).set([16,0,50],27)}(),t?lu:du[gu^=1]}(t[r(608)]),i[r(632)](n)):t[r(608)]!=t[r(445)]&&(t.worker&&t[r(544)][r(660)](t[r(608)]),t[r(445)]=t[r(608)]),t[r(608)]}function us(t,n){var i=Bu();return(us=function(t,n){return i[t-=445]})(t,n)}function ss(t,n,i){var r=Ru;return t[r(497)][r(463)]&&t[r(497)].audio[r(619)]!==r(670)?n[r(496)][r(523)]>0&&function(t,n){var i,r=Ru;if(!t.jmuxer||t[r(538)])return 0;0===t[r(650)]&&(t[r(650)]=n[r(667)]);var e=(n[r(667)]-t.audioStartTimestamp)/48e3;if("cbcs"===(null===(i=t.config[r(463)])||void 0===i?void 0:i[r(619)]))return t[r(664)][r(522)]({audio:new N(n[r(496)]),timestamp:e});var u=function(t){var n=hu,i=new DataView(t.data),r=t.data[n(346)]-2,e=i.getUint16(r);if(e<r){var u=r-e;if(69!==i[n(337)](r-1))return console[n(341)](n(339)),null;if(i[n(337)](u++)>>>4!=1)return console[n(341)](n(329)),null;for(var s=new N(e-2),o=0;u<r-1;){var a=i[n(337)](u++);if(s[o++]=a,o>=16)break}return{sai:s,offset:r-e}}return null}(n);u?t[r(664)][r(522)]({audio:new N(n[r(496)],0,u[r(456)]),audioSampleAuxInfo:u[r(612)],timestamp:e}):console[r(511)]("SampleAuxInfo extraction failed (audio)")}(t,n):i&&i[r(632)](n),!1}function os(t){var n=Ru;if(!t||(void 0===t?"undefined":Y(t))!==n(692))throw new p("Invalid config argument type, DRM config must be an object.");if(!(t[n(689)]instanceof HTMLVideoElement))throw new p(n(633));if(t[n(628)]&&!(t.audioElement instanceof HTMLMediaElement))throw new p(n(693));if(void 0!==t[n(482)]&&!Number[n(555)](t[n(482)]))throw new p(n(460));for(var i=!1,r=!1,e=!1,u=["cbcs",n(668),n(670)],s=["SW","HW"],o=0,a=[t[n(471)],t[n(463)]];o<a.length;o++){var c=a[o];if(c){if(!u[n(557)](c[n(619)]))throw new RangeError("DRM config encryption value must be one of: "+u[n(593)](", "));if(Qu&&"cenc"===c.encryption)throw new RangeError(n(688));if(c[n(619)]!==n(670)){if(r=!0,c.keyId){if(!(c[n(646)]instanceof N)||16!==c.keyId[n(584)])throw new p("DRM config keyId must be an instance of 16-byte long Uint8Array.");e=!0}else if(Qu)throw new ReferenceError(n(655));if(c.iv&&(!(c.iv instanceof N)||16!==c.iv.length))throw new p(n(618));if(c[n(554)]&&!s[n(557)](c.robustness))throw new RangeError(n(658)+s[n(593)](", "));if(c===t[n(471)]&&c[n(484)]!==n(537))throw new RangeError(n(615));Qu&&c===t.audio&&"opus"===c.codec&&(i=!0,console.warn("Safari does not support Opus, audio will not be rendered.")),"PlayReady"===t[n(580)]&&(c[n(619)]!==n(668)&&console[n(495)](n(491)+c[n(619)]+"', it's safer to use 'cbcs' instead."),void 0===t.sessionId||t.sessionId[n(557)]("f1")||console.warn(n(674)+t.sessionId+n(643)))}}}if(r){var h=[au[n(558)],au.Staging,au[n(665)]];if(!h.includes(t[n(526)]))throw new RangeError(n(583)+h.join(", "));if(t[n(462)]&&Y(t[n(462)])!==n(533))throw new p("Invalid authToken type ("+Y(t[n(462)])+n(530));if(t.type)if(Qu){if(t[n(580)]!==n(575))throw new RangeError(n(514)+t[n(580)]+"). Safari only supports FairPlay.")}else if(Gu){if(t.type!==n(459)&&"ClearKey"!==t[n(580)])throw new RangeError("Invalid DRM type ("+t.type+n(675))}else if(Yu&&t[n(580)]!==n(566)&&"Widevine"!==t[n(580)]&&"ClearKey"!==t[n(580)])throw new RangeError(n(514)+t.type+n(648))}void 0!==t.debugLog&&(f[n(600)]=t.debugLog),void 0!==t[n(446)]&&(f[n(517)]=t[n(446)]);var v=qu.get(t[n(689)]);!v&&(v=new Ju(t),qu[n(494)](t[n(689)],v)),v.enabled=r,v[n(538)]=i,v[n(649)]=!i&&v[n(497)][n(463)]&&v[n(497)].audio.encryption!==n(670),r&&(v[n(497)].type||(v[n(497)][n(580)]=n(Qu?575:459)),e||v[n(497)][n(580)]===n(549)||(v[n(497)][n(580)]=n(549)),is(v),function(t){ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a,c,h,v,d,g,w,y,m;return pn(this,(function(p){switch(p.label){case 0:if(e=t[(n=us)(497)][n(689)],(!t[n(497)][n(471)]||t[n(497)][n(471)].encryption===n(670))&&(e=t[n(497)][n(628)]),!e)throw new A(n(492));return e.src="",e[n(588)]=null,[4,e.setMediaKeys(null)];case 1:p.sent(),u=null,p.label=2;case 2:return p.trys.push([2,4,,5]),[4,l[n(528)](t[n(503)],t.emeConfig)];case 3:return u=p.sent(),[3,5];case 4:return p.sent(),[3,5];case 5:if(u||!t[n(669)][0])return[3,9];if(!(void 0!==(s=null===(i=t[n(669)][0][n(647)])||void 0===i?void 0:i[n(553)](n(659)))&&s>=0))return[3,9];null===(r=t.emeConfig[0].sessionTypes)||void 0===r||r[n(687)](s,1),p.label=6;case 6:return p.trys.push([6,8,,9]),[4,l[n(528)](t[n(503)],t[n(669)])];case 7:return u=p.sent(),[3,9];case 8:return p.sent(),[3,9];case 9:if(!u)return o=n(576)+t[n(503)]+n(520),[2,(e.dispatchEvent(new CustomEvent(n(640),{detail:{message:o}})),void console[n(511)](o))];a=null,p.label=10;case 10:return p.trys.push([10,12,,13]),[4,u.createMediaKeys()];case 11:return a=p.sent(),[3,13];case 12:return p.sent(),[3,13];case 13:return a?t.serverCertificate?(f.clRtcDrmDebugLog&&console[n(556)](n(487)+t[n(546)][n(523)]+n(464)),[4,a[n(594)](t[n(546)])]):[3,15]:(c=n(540)+t[n(503)]+n(520),[2,(e[n(453)](new CustomEvent("rtcdrmerror",{detail:{message:c}})),void console[n(511)](c))]);case 14:return p.sent(),[3,21];case 15:if(!t.serverCertificateUrl)return[3,21];h={method:n(469)},v=t.serverCertificateUrl,p.label=16;case 16:return p.trys.push([16,20,,21]),[4,t[n(497)].onFetch?t.config[n(645)](v,h):fetch(v,h)];case 17:return(d=p.sent()).ok?[4,d[n(457)]()]:(g=n(601)+d[n(623)],[2,void e[n(453)](new CustomEvent(n(640),{detail:{message:g}}))]);case 18:return w=p.sent(),f.clRtcDrmDebugLog&&console[n(556)]("Fetched certificate from "+v+", "+w[n(523)]+" bytes"),[4,a[n(594)](w)];case 19:return p.sent(),[3,21];case 20:return y=p.sent(),m=y.name+": "+y[n(622)],[2,(console.error(m),void e[n(453)](new CustomEvent(n(640),{detail:{message:m}})))];case 21:return[4,e[n(500)](a)];case 22:return p.sent(),e[n(519)]("encrypted",zu),rs(t),[2]}}))}))}(v)),v[n(497)][n(689)][n(519)](n(448),(function(){var t=n;v[t(497)][t(689)][t(625)]>.5&&(v[t(571)]=Date.now())}))}var as=Ru(582)+Ru(587)+Ru(548)+Ru(653)+Ru(590)+Ru(620)+Ru(614)+Ru(504)+Ru(518)+Ru(452)+Ru(642)+Ru(686)+"meNeeded=$.data};";function cs(t){var n,i=Ru;if(0===qu[i(677)])throw new p(i(550));if(t&&t[i(689)])n=t[i(689)];else{if(1!==qu.size)throw new p(i(510));n=qu[i(638)]()[i(447)]()[i(531)]}var r=qu[i(662)](n);if(!r){var e="";throw qu[i(499)]((function(t,n){e+=n.id+", "})),e=e.slice(0,-2),new p(i(486)+n.id+i(657)+e+"]")}return r}function hs(t,n){var i=Ru;if(t&&t[i(497)][i(689)]){var r=t[i(497)][i(689)];if(r[i(501)].length>0){var e=r.buffered[i(565)](r[i(501)][i(584)]-1)-r[i(625)];n.playoutDelayHint=n.jitterBufferDelayHint=n.jitterBufferTarget=e}g(hs,1e3,t,n)}}var fs=gt.get("View");fs.setLevel(gt.DEBUG);var vs={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ds=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&fs.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,fs,e)||this).payloadTypeCodec={},u.tracksMidValues={},u.drmOptionsMap=null,u.eventQueue=[],u.isMainStreamActive=!1,r&&(u.on(_r.track,(function(t){r.srcObject=t.streams[0]})),fs.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),u}Et(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=vs);var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.options=I(w(w({},vs),t),{peerConfig:w(w({},vs.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.eventQueue.length=0,[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),fs.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return fs.info("Viewer adding remote track",t),[4,i.webRTCPeer.addRemoteTrack(t,n)];case 1:for(r=u.sent(),e=0;e<n.length;e++)n[e].addTrack(r.receiver.track);return[2,r]}}))}))()},i.project=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw fs.error("Error in projection mapping, trackId or mediaId must be set"),new A("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw fs.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new A("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return fs.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),fs.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),fs.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return fs.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,y,m;return pn(this,(function(p){switch(p.label){case 0:if(fs.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw fs.warn("Viewer currently subscribed"),new A("Viewer currently subscribed");p.label=1;case 1:return p.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return e=p.sent(),n.options.peerConfig.iceServers=null==e?void 0:e.iceServers,n.options.peerConfig.encodedInsertableStreams=ve&&(n.options.enableDRM||n.options.metadata),[3,4];case 3:throw u=p.sent(),fs.error("Error generating token."),u instanceof Wr&&(401!==u.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),u;case 4:if(!e)throw fs.error("Error while subscribing. Subscriber data required"),new A("Subscriber data required");return s=ee(e.jwt),n.streamName=s.millicast.streamName,o=new Gr({streamName:n.streamName,url:"".concat(e.urls[0],"?token=").concat(e.jwt)}),e.subscriberToken&&(n.subscriberToken=e.subscriberToken),[4,(a=t.migrate?new Mr:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return p.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Bt(a,n,_.values(_r).filter((function(t){return t!==_r.track}))),n.options.metadata&&(n.worker||(n.worker=new we),n.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){fs.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}}),a.on(_r.track,(function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)})),o.on(Yr,yn((function(t){var i;return pn(this,(function(r){switch(r.label){case 0:return n.isMainStreamActive||"active"!==t.name?[3,3]:(n.mainSourceId=t.data.sourceId,n.DRMProfile||!t.data.encryption?[3,2]:[4,n.tokenGenerator()]);case 1:(i=r.sent()).drmObject&&(n.DRMProfile=i.drmObject),r.label=2;case 2:for(n.emit(Yr,t),n.isMainStreamActive=!0;n.eventQueue.length>0;)n.onTrackEvent(n.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&n.isMainStreamActive&&n.mainSourceId===t.data.sourceId&&(n.isMainStreamActive=!1),n.emit(Yr,t),[2]}}))}))),c=a.getRTCLocalSDP(I(w({},n.options),{stereo:!0})),h=o.connect(),[4,st.all([c,h])];case 6:return r=p.sent(),f=r[0],v=n.signaling,n.signaling=o,d=n.signaling.subscribe(f,I(w({},n.options),{vad:n.options.multiplexedAudioTracks>0})),l=a.peer.setLocalDescription(a.sessionDescription),[4,st.all([d,l])];case 7:return r=p.sent(),y=r[0],n.payloadTypeCodec=lr.getCodecPayloadType(y),[4,a.setRTCRemoteSDP(y)];case 8:return p.sent(),fs.info("Connected to streamName: ",n.streamName),m=n.webRTCPeer,n.webRTCPeer=a,n.setReconnect(),t.migrate&&n.webRTCPeer.on(_r.connectionStateChange,(function(t){var n,i;"connected"===t?g((function(){var t,n;null==(t=null==v?void 0:v.close)||t.call(v),null==(n=null==m?void 0:m.closeRTCPeer)||n.call(m),v=m=null,fs.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==v?void 0:v.close)||n.call(v),null==(i=null==m?void 0:m.closeRTCPeer)||i.call(m),v=m=null)})),[2]}}))}))()},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,u=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Ru,u=t[e(629)][e(524)];"video"===u&&(t[e(661)][e(475)]=t[e(661)][e(451)]=t[e(661)][e(605)]=0);var s=cs(n),o=s[e(497)].videoElement,a=s[e(497)][e(628)];if(s[e(607)]){if(s[e(497)].customTransform)f.clRtcDrmDebugLog&&console[e(556)](e(468)+e(572));else if(f[e(600)]&&console[e(556)](e(467)+(e(Uu?589:609)+e(617))),Uu){if(s[e(544)]=function(t){var n=Ru,i=f[n(493)]||f[n(488)],r=f[n(666)],e=f[n(586)];if(!(i&&r&&e&&t))return null;var u=new r([t]);return new e(i[n(631)](u))}(as),null==s[e(544)])throw new A(e(539));s[e(544)][e(485)]=function(t){var n=e;t[n(496)][n(567)]===n(471)?es(s,t[n(496)].frame,null):ss(s,t[n(496)][n(651)],null)},t[e(661)].transform=new RTCRtpScriptTransform(s.worker,{operation:u})}else{var c=u===e(471)?es:ss,h={drm:s,transform:function(t,n){c(s,t,n)}},v=t.receiver.createEncodedStreams(),d=new TransformStream({transform:h.transform[e(656)](h)}),l=v.readable,g=v.writable;l[e(577)](d)[e(635)](g)}if("audio"===u&&(null===(i=s[e(497)][e(463)])||void 0===i?void 0:i.encryption)===e(670)){if(!a)return void console.warn(e(690));a[e(588)]!==t[e(481)][0]&&(a[e(588)]=t[e(481)][0]),s[e(497)].videoElement&&(t[e(661)][e(475)]=t[e(661)].jitterBufferDelayHint=t[e(661)][e(605)]=s[e(497)][e(482)],hs(s,t[e(661)]))}else"video"===u&&"clear"===(null===(r=s.config[e(471)])||void 0===r?void 0:r[e(619)])&&o[e(588)]!==t[e(481)][0]&&(o.srcObject=t.streams[0])}else o[e(588)]!==t[e(481)][0]&&(o.srcObject=t[e(481)][0])}(t,u)}catch(t){fs.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new A("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new we),this.worker.addEventListener("message",(function(t){"complete"===t.data.event&&function(t,n,i){var r=Ru,e=cs(i);t[r(580)]?es(e,t,n):ss(e,t,n)}(t.data.frame,null,u)}))}if(this.options.metadata)if(de)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(ve){var s=t.receiver.createEncodedStreams(),o=s.readable,a=s.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:a},[o,a])}this.emit(_r.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),i.subscriberToken?n.headers.append("Authorization","Bearer ".concat(i.subscriberToken)):fs.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]}))}))()},i.configureDRM=function(t){var n=this;if(!t)throw new A("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:au.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:pe(t.videoEncryptionParams.keyId),iv:pe(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{os(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",(function(t){fs.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new A(t.detail.message))}))}catch(n){fs.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new A("No DRM configuration found for "+t);if(null===r)throw new A("No DRM configuration found for "+n);_e(i.video,r.video,"keyId"),_e(i.video,r.video,"iv");try{os(i)}catch(t){fs.error("Failed to configure DRM with options:",i,"error is:",t)}try{os(r)}catch(t){fs.error("Failed to configure DRM with options:",r,"error is:",t)}},Ct(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(he);t.Director=Jr,t.Logger=gt,t.PeerConnection=Mr,t.Publish=Ae,t.Signaling=Gr,t.View=ds,_.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":Y(t))&&(void 0===e?"undefined":Y(e))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((u=("undefined"==typeof globalThis?"undefined":Y(globalThis))<"u"?globalThis:u||self).millicast={})})),Wn=z((function(t){function n(){var t=Fn();return n=function(){return t},t}Q(),Nt(),_.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)_.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{Director:function(){return n().Director},View:function(){return n().View}})})),Zn=z((function(t,n){Q(),Nt(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Xn=z((function(t,n){Q(),Nt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,d=e*o,l=e*a,g=u*s,w=u*o,y=u*a;return t[0]=1-f-l,t[1]=h+y,t[2]=v-w,t[3]=0,t[4]=h-y,t[5]=1-c-l,t[6]=d+g,t[7]=0,t[8]=v+w,t[9]=d-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Hn=z((function(t,n){Q(),Nt(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=k.sqrt(s*s+o*o+a*a);if(k.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=k.sin(n),e=k.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Kn=z((function(t,n){Q(),Nt(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),Jn=z((function(t,n){Q(),Nt(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),qn=z((function(t,n){Q(),Nt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],y=n[15],m=i*o-r*s,A=i*a-e*s,p=i*c-u*s,_=r*a-e*o,k=r*c-u*o,M=e*c-u*a,b=h*g-f*l,T=h*w-v*l,N=h*y-d*l,D=f*w-v*g,I=f*y-d*g,E=v*y-d*w,S=m*E-A*I+p*D+_*N-k*T+M*b;if(!S)return null;return S=1/S,t[0]=(o*E-a*I+c*D)*S,t[1]=(e*I-r*E-u*D)*S,t[2]=(g*M-w*k+y*_)*S,t[3]=(v*k-f*M-d*_)*S,t[4]=(a*N-s*E-c*T)*S,t[5]=(i*E-e*N+u*T)*S,t[6]=(w*p-l*M-y*A)*S,t[7]=(h*M-v*p+d*A)*S,t[8]=(s*I-o*N+c*b)*S,t[9]=(r*N-i*I-u*b)*S,t[10]=(l*k-g*p+y*m)*S,t[11]=(f*p-h*k-d*m)*S,t[12]=(o*T-s*D-a*b)*S,t[13]=(i*D-r*T+e*b)*S,t[14]=(g*A-l*_-w*m)*S,t[15]=(h*_-f*A+v*m)*S,t}})),$n=z((function(t,n){Q(),Nt(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],g=n[12],w=n[13],y=n[14],m=n[15],A=i[0],p=i[1],_=i[2],k=i[3];return t[0]=A*r+p*o+_*f+k*g,t[1]=A*e+p*a+_*v+k*w,t[2]=A*u+p*c+_*d+k*y,t[3]=A*s+p*h+_*l+k*m,A=i[4],p=i[5],_=i[6],k=i[7],t[4]=A*r+p*o+_*f+k*g,t[5]=A*e+p*a+_*v+k*w,t[6]=A*u+p*c+_*d+k*y,t[7]=A*s+p*h+_*l+k*m,A=i[8],p=i[9],_=i[10],k=i[11],t[8]=A*r+p*o+_*f+k*g,t[9]=A*e+p*a+_*v+k*w,t[10]=A*u+p*c+_*d+k*y,t[11]=A*s+p*h+_*l+k*m,A=i[12],p=i[13],_=i[14],k=i[15],t[12]=A*r+p*o+_*f+k*g,t[13]=A*e+p*a+_*v+k*w,t[14]=A*u+p*c+_*d+k*y,t[15]=A*s+p*h+_*l+k*m,t}})),ti=z((function(t,n){Q(),Nt(),n.exports=function(t,n,i,r,e){var u=1/k.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),ni=z((function(t,n){Q(),Nt(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,M,b,T,N,D,I,E=r[0],S=r[1],L=r[2],C=k.sqrt(E*E+S*S+L*L);if(k.abs(C)<1e-6)return null;E*=C=1/C,S*=C,L*=C,e=k.sin(i),u=k.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],d=n[6],l=n[7],g=n[8],w=n[9],y=n[10],m=n[11],A=E*E*s+u,p=S*E*s+L*e,_=L*E*s-S*e,M=E*S*s-L*e,b=S*S*s+u,T=L*S*s+E*e,N=E*L*s+S*e,D=S*L*s-E*e,I=L*L*s+u,t[0]=o*A+f*p+g*_,t[1]=a*A+v*p+w*_,t[2]=c*A+d*p+y*_,t[3]=h*A+l*p+m*_,t[4]=o*M+f*b+g*T,t[5]=a*M+v*b+w*T,t[6]=c*M+d*b+y*T,t[7]=h*M+l*b+m*T,t[8]=o*N+f*D+g*I,t[9]=a*N+v*D+w*I,t[10]=c*N+d*D+y*I,t[11]=h*N+l*D+m*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),ii=z((function(t,n){Q(),Nt(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],y=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*y+n[12],t[13]=n[1]*g+n[5]*w+n[9]*y+n[13],t[14]=n[2]*g+n[6]*w+n[10]*y+n[14],t[15]=n[3]*g+n[7]*w+n[11]*y+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*y+n[12],t[13]=e*g+a*w+v*y+n[13],t[14]=u*g+c*w+d*y+n[14],t[15]=s*g+h*w+l*y+n[15]);return t}})),ri=z((function(t){Q(),Nt(),t._=function(t){return t&&t.__esModule?t:{default:t}}})),ei=z((function(t,n){var i,e;Q(),Nt(),ht(),i=t,e=function(){var t,n=void 0!==f?f:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=function(){return/Android/i.test(l.userAgent)||/iPhone|iPad|iPod/i.test(l.userAgent)},e=function(t,n){for(var i=0,r=t.length;i<r;i++)n[i]=t[i]},u=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},s=function(){function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}return function(n,i,r){return i&&t(n.prototype,i),r&&t(n,r),n}}(),o=function(t,n){if(Array.isArray(t))return t;if(r in _(t))return function(t,n){var i=[],e=!0,u=!1,s=void 0;try{for(var o,a=t[r]();!(e=(o=a.next()).done)&&(i.push(o.value),!n||i.length!==n);e=!0);}catch(t){u=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(u)throw s}}return i}(t,n);throw new p("Invalid attempt to destructure non-iterable instance")},a=function(t,n,i){return t+(n-t)*i},c=(t=/iPad|iPhone|iPod/.test(l.platform),function(){return t}),h=function(){var t=-1!==l.userAgent.indexOf("Version")&&-1!==l.userAgent.indexOf("Android")&&-1!==l.userAgent.indexOf("Chrome");return function(){return t}}(),d=(/^((?!chrome|android).)*safari/i.test(l.userAgent),function(){var t=-1!==l.userAgent.indexOf("Firefox")&&-1!==l.userAgent.indexOf("Android");return function(){return t}}()),y=function(){var t=l.userAgent.match(/.*Chrome\/([0-9]+)/),n=t?M(t[1],10):null;return function(){return n}}(),m=function(){var t=!1;if(65===y()){var n=l.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(n){var i=n[1].split("."),r=o(i,4),e=(r[0],r[1],r[2]),u=r[3];t=3325===M(e,10)&&M(u,10)<148}}return function(){return t}}(),N=function(){var t=-1!==l.userAgent.indexOf("R7 Build");return function(){return t}}(),D=function(){var t=90==f.orientation||-90==f.orientation;return N()?!t:t},E=function(){return k.max(f.screen.width,f.screen.height)*f.devicePixelRatio},S=function(){return k.min(f.screen.width,f.screen.height)*f.devicePixelRatio},L=function(){if(v.exitFullscreen)v.exitFullscreen();else if(v.webkitExitFullscreen)v.webkitExitFullscreen();else if(v.mozCancelFullScreen)v.mozCancelFullScreen();else{if(!v.msExitFullscreen)return!1;v.msExitFullscreen()}return!0},C=function(t,n,i,r){var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,n),t.compileShader(e);var u=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(u,i),t.compileShader(u);var s=t.createProgram();for(var o in t.attachShader(s,e),t.attachShader(s,u),r)t.bindAttribLocation(s,r[o],o);return t.linkProgram(s),t.deleteShader(e),t.deleteShader(u),s},j=function(t,n){for(var i={},r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),e="",u=0;u<r;u++)i[e=t.getActiveUniform(n,u).name.replace("[0]","")]=t.getUniformLocation(n,e);return i},x=function(){var t,n=!1;return t=l.userAgent||l.vendor||f.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0),n},O=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},z=[],R=function(t){if(c()){B(t);var n,i,r=t.style.width,e=t.style.height,u=t.offsetWidth+1,s=t.offsetHeight;t.style.width=u+"px",t.style.height=s+"px";var o=function(){f.cancelAnimationFrame(i);for(var u=0;u<z.length;u++)if(z[u]===n){t.style.width=r,t.style.height=e,z.splice(u,1);break}};n={Ow:t,Rw:o},z.push(n),i=f.requestAnimationFrame(o)}},B=function(t){if(c())for(var n=0;n<z.length;n++)if(z[n].Ow===t){z[n].Rw();break}},U=function(){var t=k.PI/180,n=.25*k.PI,i=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);function e(e,u,s,o,a,c){!function(i,r,e,u){var s=k.tan(r?r.upDegrees*t:n),o=k.tan(r?r.downDegrees*t:n),a=k.tan(r?r.leftDegrees*t:n),c=k.tan(r?r.rightDegrees*t:n),h=2/(a+c),f=2/(s+o);i[0]=h,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=f,i[6]=0,i[7]=0,i[8]=-(a-c)*h*.5,i[9]=(s-o)*f*.5,i[10]=u/(e-u),i[11]=-1,i[12]=0,i[13]=0,i[14]=u*e/(e-u),i[15]=0}(e,o||null,c.depthNear,c.depthFar),function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=r+r,a=e+e,c=u+u,h=r*o,f=r*a,v=r*c,d=e*a,l=e*c,g=u*c,w=s*o,y=s*a,m=s*c;t[0]=1-(d+g),t[1]=f+m,t[2]=v-y,t[3]=0,t[4]=f-m,t[5]=1-(h+g),t[6]=l+w,t[7]=0,t[8]=v+y,t[9]=l-w,t[10]=1-(h+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(u,s.orientation||i,s.position||r),a&&function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],y=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*y+n[12],t[13]=n[1]*g+n[5]*w+n[9]*y+n[13],t[14]=n[2]*g+n[6]*w+n[10]*y+n[14],t[15]=n[3]*g+n[7]*w+n[11]*y+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*y+n[12],t[13]=e*g+a*w+v*y+n[13],t[14]=u*g+c*w+d*y+n[14],t[15]=s*g+h*w+l*y+n[15])}(u,u,a),function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],y=n[15],m=i*o-r*s,A=i*a-e*s,p=i*c-u*s,_=r*a-e*o,k=r*c-u*o,M=e*c-u*a,b=h*g-f*l,T=h*w-v*l,N=h*y-d*l,D=f*w-v*g,I=f*y-d*g,E=v*y-d*w,S=m*E-A*I+p*D+_*N-k*T+M*b;S&&(S=1/S,t[0]=(o*E-a*I+c*D)*S,t[1]=(e*I-r*E-u*D)*S,t[2]=(g*M-w*k+y*_)*S,t[3]=(v*k-f*M-d*_)*S,t[4]=(a*N-s*E-c*T)*S,t[5]=(i*E-e*N+u*T)*S,t[6]=(w*p-l*M-y*A)*S,t[7]=(h*M-v*p+d*A)*S,t[8]=(s*I-o*N+c*b)*S,t[9]=(r*N-i*I-u*b)*S,t[10]=(l*k-g*p+y*m)*S,t[11]=(f*p-h*k-d*m)*S,t[12]=(o*T-s*D-a*b)*S,t[13]=(i*D-r*T+e*b)*S,t[14]=(g*A-l*_-w*m)*S,t[15]=(h*_-f*A+v*m)*S)}(u,u)}return function(t,n,i){return!(!t||!n||(t.pose=n,t.timestamp=n.timestamp,e(t.leftProjectionMatrix,t.leftViewMatrix,n,i.Pw("left"),i.zw("left"),i),e(t.rightProjectionMatrix,t.rightViewMatrix,n,i.Pw("right"),i.zw("right"),i),0))}}(),P=function(t){var n,i=t.indexOf("://");n=-1!==i?i+3:0;var r=t.indexOf("/",n);return-1===r&&(r=t.length),t.substring(0,r)},Q=function(){var t={};return function(n,i){void 0===t[n]&&(console.warn("webvr-polyfill: "+i),t[n]=!0)}}(),Y=function(t,n){Q(t,t+" has been deprecated. This may not work on native WebVR displays. "+(n?"Please use "+n+" instead.":""))},G=function(t,n,i){if(n){for(var r=[],e=null,u=0;u<n.length;++u)switch(s=n[u]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}e||(e=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(a),r.push(t.getParameter(s),null);break;case t.ACTIVE_TEXTURE:e=t.getParameter(t.ACTIVE_TEXTURE),r.push(null);break;default:r.push(t.getParameter(s))}for(i(t),u=0;u<n.length;++u){var s=n[u],o=r[u];switch(s){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,o);break;case t.COLOR_CLEAR_VALUE:t.clearColor(o[0],o[1],o[2],o[3]);break;case t.COLOR_WRITEMASK:t.colorMask(o[0],o[1],o[2],o[3]);break;case t.CURRENT_PROGRAM:t.useProgram(o);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,o);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,o);break;case t.TEXTURE_BINDING_2D:if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_2D,o);break;case t.TEXTURE_BINDING_CUBE_MAP:var a;if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_CUBE_MAP,o);break;case t.VIEWPORT:t.viewport(o[0],o[1],o[2],o[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:o?t.enable(s):t.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}e&&t.activeTexture(e)}}else i(t)},V=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),F=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function W(t,n,i,r){this.gl=t,this.cardboardUI=n,this.bufferScale=i,this.dirtySubmitFrameBindings=r,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,c()||(this.realCanvasWidth=_.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=_.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=C(t,V,F,this.attribs),this.uniforms=j(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}W.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},W.prototype.onResize=function(){var t=this.gl,n=this,i=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];G(t,i,(function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.framebuffer),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.texImage2D(t.TEXTURE_2D,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,n.bufferWidth,n.bufferHeight,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.renderTarget,0),n.ctxAttribs.depth&&n.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.depthStencilBuffer)):n.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n.depthBuffer)):n.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),n.realClearColor.apply(t,n.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},W.prototype.patch=function(){if(!this.isPatched){var t=this,n=this.gl.canvas,i=this.gl;c()||(n.width=E()*this.bufferScale,n.height=S()*this.bufferScale,_.defineProperty(n,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(i){t.bufferWidth=i,t.realCanvasWidth.set.call(n,i),t.onResize()}}),_.defineProperty(n,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(i){t.bufferHeight=i,t.realCanvasHeight.set.call(n,i),t.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(n,r){t.lastBoundFramebuffer=r||t.framebuffer,t.realBindFramebuffer.call(i,n,t.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!0;break;case i.DEPTH_TEST:t.depthTest=!0;break;case i.BLEND:t.blend=!0;break;case i.SCISSOR_TEST:t.scissorTest=!0;break;case i.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(i,n)},i.disable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!1;break;case i.DEPTH_TEST:t.depthTest=!1;break;case i.BLEND:t.blend=!1;break;case i.SCISSOR_TEST:t.scissorTest=!1;break;case i.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(i,n)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(n,r,e,u){t.colorMask[0]=n,t.colorMask[1]=r,t.colorMask[2]=e,t.colorMask[3]=u,t.realColorMask.call(i,n,r,e,u)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(n,r,e,u){t.clearColor[0]=n,t.clearColor[1]=r,t.clearColor[2]=e,t.clearColor[3]=u,t.realClearColor.call(i,n,r,e,u)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(n,r,e,u){t.viewport[0]=n,t.viewport[1]=r,t.viewport[2]=e,t.viewport[3]=u,t.realViewport.call(i,n,r,e,u)},this.isPatched=!0,R(n)}},W.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,n=this.gl.canvas;c()||(_.defineProperty(n,"width",this.realCanvasWidth),_.defineProperty(n,"height",this.realCanvasHeight)),n.width=this.bufferWidth,n.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,g((function(){R(n)}),1)}},W.prototype.setTextureBounds=function(t,n){t||(t=[0,0,.5,1]),n||(n=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=n[0],this.viewportOffsetScale[5]=n[1],this.viewportOffsetScale[6]=n[2],this.viewportOffsetScale[7]=n[3]},W.prototype.submitFrame=function(){var t=this.gl,n=this,i=[];if(this.dirtySubmitFrameBindings||i.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),G(t,i,(function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.cullFace&&n.realDisable.call(t,t.CULL_FACE),n.depthTest&&n.realDisable.call(t,t.DEPTH_TEST),n.blend&&n.realDisable.call(t,t.BLEND),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realDisable.call(t,t.STENCIL_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(n.ctxAttribs.alpha||c())&&(n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(n.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.enableVertexAttribArray(n.attribs.position),t.enableVertexAttribArray(n.attribs.texCoord),t.vertexAttribPointer(n.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(n.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(n.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.uniform4fv(n.uniforms.viewportOffsetScale,n.viewportOffsetScale),t.drawElements(t.TRIANGLES,n.indexCount,t.UNSIGNED_SHORT,0),n.cardboardUI&&n.cardboardUI.renderNoState(),n.realBindFramebuffer.call(n.gl,t.FRAMEBUFFER,n.framebuffer),n.ctxAttribs.preserveDrawingBuffer||(n.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),n.dirtySubmitFrameBindings||n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.cullFace&&n.realEnable.call(t,t.CULL_FACE),n.depthTest&&n.realEnable.call(t,t.DEPTH_TEST),n.blend&&n.realEnable.call(t,t.BLEND),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realEnable.call(t,t.STENCIL_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),!n.ctxAttribs.alpha&&n.ctxAttribs.preserveDrawingBuffer||n.realClearColor.apply(t,n.clearColor)})),c()){var r=t.canvas;r.width==n.bufferWidth&&r.height==n.bufferHeight||(n.bufferWidth=r.width,n.bufferHeight=r.height,n.onResize())}},W.prototype.updateDeviceInfo=function(t){var n=this.gl,i=this,r=[n.ARRAY_BUFFER_BINDING,n.ELEMENT_ARRAY_BUFFER_BINDING];G(n,r,(function(n){var r=i.Bw(i.meshWidth,i.meshHeight,t);if(n.bindBuffer(n.ARRAY_BUFFER,i.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,r,n.STATIC_DRAW),!i.indexCount){var e=i.Uw(i.meshWidth,i.meshHeight);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW),i.indexCount=e.length}}))},W.prototype.Bw=function(t,n,i){for(var r=new Float32Array(2*t*n*5),e=i.getLeftEyeVisibleTanAngles(),u=i.getLeftEyeNoLensTanAngles(),s=i.getLeftEyeVisibleScreenRect(u),o=0,c=0;c<2;c++){for(var h=0;h<n;h++)for(var f=0;f<t;f++,o++){var v=f/(t-1),d=h/(n-1),l=v,g=d,w=a(e[0],e[2],v),y=a(e[3],e[1],d),m=k.sqrt(w*w+y*y),A=i.distortion.distortInverse(m),p=y*A/m;v=(w*A/m-u[0])/(u[2]-u[0]),d=(p-u[3])/(u[1]-u[3]),v=2*(s.x+v*s.width-.5),d=2*(s.y+d*s.height-.5),r[5*o+0]=v,r[5*o+1]=d,r[5*o+2]=l,r[5*o+3]=g,r[5*o+4]=c}var _=e[2]-e[0];e[0]=-(_+e[0]),e[2]=_-e[2],_=u[2]-u[0],u[0]=-(_+u[0]),u[2]=_-u[2],s.x=1-(s.x+s.width)}return r},W.prototype.Uw=function(t,n){for(var i=new Uint16Array(2*(t-1)*(n-1)*6),r=t/2,e=n/2,u=0,s=0,o=0;o<2;o++)for(var a=0;a<n;a++)for(var c=0;c<t;c++,u++)0!=c&&0!=a&&(c<=r==a<=e?(i[s++]=u,i[s++]=u-t-1,i[s++]=u-t,i[s++]=u-t-1,i[s++]=u,i[s++]=u-1):(i[s++]=u-1,i[s++]=u-t,i[s++]=u,i[s++]=u-t,i[s++]=u-1,i[s++]=u-t-1));return i},W.prototype.Qw=function(t,n){var i=_.getOwnPropertyDescriptor(t,n);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(n)},i.set=function(t){this.setAttribute(n,t)}),i};var Z=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),X=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),H=k.PI/180,K=.3125,J=28;function q(t){this.gl=t,this.attribs={position:0},this.program=C(t,Z,X,this.attribs),this.uniforms=j(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function $(t){this.coefficients=t}q.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},q.prototype.listen=function(t,n){var i=this.gl.canvas,r="undefined"!=typeof TouchEvent;this.listener=function(e){var u=i.clientWidth/2,s=r&&e instanceof TouchEvent?(e.preventDefault(),e.changedTouches[0]):e;s.clientX>u-42&&s.clientX<u+42&&s.clientY>i.clientHeight-42?(e.preventDefault(),e.stopImmediatePropagation(),t(e)):s.clientX<42&&s.clientY<42&&(e.preventDefault(),e.stopImmediatePropagation(),n(e))},i.addEventListener("click",this.listener,!1),i.addEventListener("touchstart",this.listener,!1)},q.prototype.onResize=function(){var t=this.gl,n=this,i=[t.ARRAY_BUFFER_BINDING];G(t,i,(function(t){var i=[],r=t.drawingBufferWidth/2,e=k.max(screen.width,screen.height)*f.devicePixelRatio,u=t.drawingBufferWidth/e*f.devicePixelRatio,s=4*u/2,o=42*u,a=J*u/2,c=14*u;function h(t,n){var e=(90-t)*H,u=k.cos(e),s=k.sin(e);i.push(K*u*a+r,K*s*a+a),i.push(n*u*a+r,n*s*a+a)}i.push(r-s,o),i.push(r-s,t.drawingBufferHeight),i.push(r+s,o),i.push(r+s,t.drawingBufferHeight),n.gearOffset=i.length/2;for(var v=0;v<=6;v++){var d=60*v;h(d,1),h(d+12,1),h(d+20,.75),h(d+40,.75),h(d+48,1)}function l(n,r){i.push(c+n,t.drawingBufferHeight-c-r)}n.gearVertexCount=i.length/2-n.gearOffset,n.arrowOffset=i.length/2;var g=s/k.sin(45*H);l(0,a),l(a,0),l(a+g,g),l(g,a+g),l(g,a-g),l(0,a),l(a,2*a),l(a+g,2*a-g),l(g,a-g),l(0,a),l(g,a-s),l(J*u,a-s),l(g,a+s),l(J*u,a+s),n.arrowVertexCount=i.length/2-n.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}))},q.prototype.render=function(){var t=this.gl,n=this,i=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];G(t,i,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.renderNoState()}))},q.prototype.renderNoState=function(){var t,n,i,r,e,u,s,o,a,c,h=this.gl;h.useProgram(this.program),h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuffer),h.enableVertexAttribArray(this.attribs.position),h.vertexAttribPointer(this.attribs.position,2,h.FLOAT,!1,8,0),h.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,n=0,i=h.drawingBufferWidth,r=0,e=h.drawingBufferHeight,o=1/(n-i),a=1/(r-e),c=1/((u=.1)-(s=1024)),t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+i)*o,t[13]=(e+r)*a,t[14]=(s+u)*c,t[15]=1,h.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),h.drawArrays(h.TRIANGLE_STRIP,0,4),h.drawArrays(h.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),h.drawArrays(h.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},$.prototype.distortInverse=function(t){for(var n=0,i=1,r=t-this.distort(n);k.abs(i-n)>1e-4;){var e=t-this.distort(i),u=i-e*((i-n)/(e-r));n=i,i=u,r=e}return i},$.prototype.distort=function(t){for(var n=t*t,i=0,r=0;r<this.coefficients.length;r++)i=n*(i+this.coefficients[r]);return(i+1)*t};var tt=k.PI/180,nt=180/k.PI,it=function(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0};it.prototype={constructor:it,set:function(t,n,i){return this.x=t,this.y=n,this.z=i,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var n=1/t;this.multiplyScalar(n)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this}};var rt=function(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1};function et(t){this.width=t.width||E(),this.height=t.height||S(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}rt.prototype={constructor:rt,set:function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,n,i){var r=k.cos(t/2),e=k.cos(n/2),u=k.cos(i/2),s=k.sin(t/2),o=k.sin(n/2),a=k.sin(i/2);return this.x=s*e*u+r*o*a,this.y=r*o*u-s*e*a,this.z=r*e*a+s*o*u,this.w=r*e*u-s*o*a,this},setFromEulerYXZ:function(t,n,i){var r=k.cos(t/2),e=k.cos(n/2),u=k.cos(i/2),s=k.sin(t/2),o=k.sin(n/2),a=k.sin(i/2);return this.x=s*e*u+r*o*a,this.y=r*o*u-s*e*a,this.z=r*e*a-s*o*u,this.w=r*e*u+s*o*a,this},setFromAxisAngle:function(t,n){var i=n/2,r=k.sin(i);return this.x=t.x*r,this.y=t.y*r,this.z=t.z*r,this.w=k.cos(i),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var i=this.x,r=this.y,e=this.z,u=this.w,s=u*t.w+i*t.x+r*t.y+e*t.z;if(s<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,s=-s):this.copy(t),s>=1)return this.w=u,this.x=i,this.y=r,this.z=e,this;var o=k.acos(s),a=k.sqrt(1-s*s);if(k.abs(a)<.001)return this.w=.5*(u+this.w),this.x=.5*(i+this.x),this.y=.5*(r+this.y),this.z=.5*(e+this.z),this;var c=k.sin((1-n)*o)/a,h=k.sin(n*o)/a;return this.w=u*c+this.w*h,this.x=i*c+this.x*h,this.y=r*c+this.y*h,this.z=e*c+this.z*h,this},setFromUnitVectors:function(){var t,n;return function(i,r){return void 0===t&&(t=new it),(n=i.dot(r)+1)<1e-6?(n=0,k.abs(i.x)>k.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,r),this.x=t.x,this.y=t.y,this.z=t.z,this.w=n,this.normalize(),this}}()};var ut=new et({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),ot=new et({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),at={CardboardV1:new ht({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new ht({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function ct(t){this.viewer=at.CardboardV2,this.updateDeviceParams(t),this.distortion=new $(this.viewer.distortionCoefficients)}function ht(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}ct.prototype.updateDeviceParams=function(t){this.device=this.Fw(t)||this.device},ct.prototype.getDevice=function(){return this.device},ct.prototype.setViewer=function(t){this.viewer=t,this.distortion=new $(this.viewer.distortionCoefficients)},ct.prototype.Fw=function(t){if(!t)return c()?(console.warn("Using fallback iOS device measurements."),ot):(console.warn("Using fallback Android device measurements."),ut);var n=.0254,i=n/t.xdpi,r=n/t.ydpi;return new et({widthMeters:i*E(),heightMeters:r*S(),bevelMeters:.001*t.bevelMm})},ct.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,n=this.device,i=this.distortion,r=t.screenLensDistance,e=(n.widthMeters-t.interLensDistance)/2,u=t.interLensDistance/2,s=t.baselineLensDistance-n.bevelMeters,o=n.heightMeters-s,a=nt*k.atan(i.distort(e/r)),c=nt*k.atan(i.distort(u/r)),h=nt*k.atan(i.distort(s/r)),f=nt*k.atan(i.distort(o/r));return{leftDegrees:k.min(a,t.fov),rightDegrees:k.min(c,t.fov),downDegrees:k.min(h,t.fov),upDegrees:k.min(f,t.fov)}},ct.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,r=k.tan(-tt*t.fov),e=k.tan(tt*t.fov),u=k.tan(tt*t.fov),s=k.tan(-tt*t.fov),o=n.widthMeters/4,a=n.heightMeters/2,c=t.baselineLensDistance-n.bevelMeters-a,h=t.interLensDistance/2-o,f=-c,v=t.screenLensDistance,d=i.distort((h-o)/v),l=i.distort((f+a)/v),g=i.distort((h+o)/v),w=i.distort((f-a)/v),y=new Float32Array(4);return y[0]=k.max(r,d),y[1]=k.min(e,l),y[2]=k.min(u,g),y[3]=k.max(s,w),y},ct.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,r=new Float32Array(4),e=i.distortInverse(k.tan(-tt*t.fov)),u=i.distortInverse(k.tan(tt*t.fov)),s=i.distortInverse(k.tan(tt*t.fov)),o=i.distortInverse(k.tan(-tt*t.fov)),a=n.widthMeters/4,c=n.heightMeters/2,h=t.baselineLensDistance-n.bevelMeters-c,f=t.interLensDistance/2-a,v=-h,d=t.screenLensDistance,l=(f-a)/d,g=(v+c)/d,w=(f+a)/d,y=(v-c)/d;return r[0]=k.max(e,l),r[1]=k.min(u,g),r[2]=k.min(s,w),r[3]=k.max(o,y),r},ct.prototype.getLeftEyeVisibleScreenRect=function(t){var n=this.viewer,i=this.device,r=n.screenLensDistance,e=(i.widthMeters-n.interLensDistance)/2,u=n.baselineLensDistance-i.bevelMeters,s=(t[0]*r+e)/i.widthMeters,o=(t[1]*r+u)/i.heightMeters,a=(t[2]*r+e)/i.widthMeters,c=(t[3]*r+u)/i.heightMeters;return{x:s,y:c,width:a-s,height:o-c}},ct.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},ct.prototype.getFieldOfViewRightEye=function(t){var n=this.getFieldOfViewLeftEye(t);return{leftDegrees:n.rightDegrees,rightDegrees:n.leftDegrees,upDegrees:n.upDegrees,downDegrees:n.downDegrees}},ct.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.Yw();return{leftDegrees:nt*k.atan(t.outerDist),rightDegrees:nt*k.atan(t.innerDist),downDegrees:nt*k.atan(t.bottomDist),upDegrees:nt*k.atan(t.topDist)}},ct.prototype.getUndistortedViewportLeftEye=function(){var t=this.Yw(),n=this.viewer,i=this.device,r=n.screenLensDistance,e=i.widthMeters/r,u=i.heightMeters/r,s=i.width/e,o=i.height/u,a=k.round((t.eyePosX-t.outerDist)*s),c=k.round((t.eyePosY-t.bottomDist)*o);return{x:a,y:c,width:k.round((t.eyePosX+t.innerDist)*s)-a,height:k.round((t.eyePosY+t.topDist)*o)-c}},ct.prototype.Yw=function(){var t=this.viewer,n=this.device,i=this.distortion,r=t.screenLensDistance,e=t.interLensDistance/2/r,u=n.widthMeters/r,s=n.heightMeters/r,o=u/2-e,a=(t.baselineLensDistance-n.bevelMeters)/r,c=t.fov,h=i.distortInverse(k.tan(tt*c)),f=k.min(o,h),v=k.min(e,h),d=k.min(a,h);return{outerDist:f,innerDist:v,topDist:k.min(s-a,h),bottomDist:d,eyePosX:o,eyePosY:a}},ct.Viewers=at;var ft={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function vt(t,n){if(this.dpdb=ft,this.Vw(),t){this.onDeviceParamsUpdated=n;var i=new I,r=this;i.open("GET",t,!0),i.addEventListener("load",(function(){r.loading=!1,i.status>=200&&i.status<=299?(r.dpdb=JSON.parse(i.response),r.Vw()):console.error("Error loading online DPDB!")})),i.send()}}function dt(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function lt(t,n){this.set(t,n)}function gt(t,n){this.kFilter=t,this.isDebug=n,this.currentAccelMeasurement=new lt,this.currentGyroMeasurement=new lt,this.previousGyroMeasurement=new lt,c()?this.filterQ=new rt(-1,0,0,1):this.filterQ=new rt(1,0,0,1),this.previousFilterQ=new rt,this.previousFilterQ.copy(this.filterQ),this.accelQ=new rt,this.isOrientationInitialized=!1,this.estimatedGravity=new it,this.measuredGravity=new it,this.gyroIntegralQ=new rt}function wt(t,n){this.predictionTimeS=t,this.isDebug=n,this.previousQ=new rt,this.previousTimestampS=null,this.deltaQ=new rt,this.outQ=new rt}function yt(t,n,i,r){this.yawOnly=i,this.accelerometer=new it,this.gyroscope=new it,this.filter=new gt(t,r),this.posePredictor=new wt(n,r),this.isFirefoxAndroid=d(),this.isIOS=c();var e=y();this.isDeviceMotionInRadians=!this.isIOS&&e&&e<66,this.isWithoutDeviceMotion=m(),this.filterToWorldQ=new rt,c()?this.filterToWorldQ.setFromAxisAngle(new it(1,0,0),k.PI/2):this.filterToWorldQ.setFromAxisAngle(new it(1,0,0),-k.PI/2),this.inverseWorldToScreenQ=new rt,this.worldToScreenQ=new rt,this.originalPoseAdjustQ=new rt,this.originalPoseAdjustQ.setFromAxisAngle(new it(0,0,1),-f.orientation*k.PI/180),this.Gw(),D()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new rt,this.Ww=new Float32Array(4),this.start()}vt.prototype.getDeviceParams=function(){return this.deviceParams},vt.prototype.Vw=function(){var t=this.Zw();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},vt.prototype.Zw=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var n=l.userAgent||l.vendor||f.opera,i=E(),r=S();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var e=null,u=1/0,s=0;s<t.devices.length;s++){var o=t.devices[s];if(o.rules)if("ios"==o.type||"android"==o.type){if(c()==("ios"==o.type)){for(var a=!1,h=0;h<o.rules.length;h++){var v=o.rules[h],d=this.Hw(v,n,i,r);if(!0===d){u=d,e=o,a=!0;break}!1!==d&&d<u&&(u=d,e=o)}if(a)break}}else console.warn("Device["+s+"] has invalid type.");else console.warn("Device["+s+"] has no rules section.")}return e?new dt({xdpi:e.dpi[0]||e.dpi,ydpi:e.dpi[1]||e.dpi,bevelMm:e.bw}):(console.warn("No DPDB device match."),null)},vt.prototype.Hw=function(t,n,i,r){if(!t.ua&&!t.res)return!1;if(t.ua&&n.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var e=t.res[0],u=t.res[1],s=k.min(i,r)-k.min(e,u),o=k.max(i,r)-k.max(e,u),a=k.abs(s)+k.abs(o);if(a>0)return a}return!0},lt.prototype.set=function(t,n){this.sample=t,this.timestampS=n},lt.prototype.copy=function(t){this.set(t.sample,t.timestampS)},gt.prototype.addAccelMeasurement=function(t,n){this.currentAccelMeasurement.set(t,n)},gt.prototype.addGyroMeasurement=function(t,n){this.currentGyroMeasurement.set(t,n),function(t){return!(T(t)||t<=.001||t>1)}(n-this.previousGyroMeasurement.timestampS)&&this.Xw(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},gt.prototype.Xw=function(){if(!this.isOrientationInitialized)return this.accelQ=this.qw(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,n=this.Kw(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(n),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(n);var i=new rt;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new rt;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",nt*function(t){return t.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*k.acos(t.w)}(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var e=new rt;e.copy(this.filterQ),e.multiply(r),this.filterQ.slerp(e,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},gt.prototype.getOrientation=function(){return this.filterQ},gt.prototype.qw=function(t){var n=new it;n.copy(t),n.normalize();var i=new rt;return i.setFromUnitVectors(new it(0,0,-1),n),i.inverse(),i},gt.prototype.Kw=function(t,n){var i=new rt,r=new it;return r.copy(t),r.normalize(),i.setFromAxisAngle(r,t.length()*n),i},wt.prototype.getPrediction=function(t,n,i){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=i,t;var r=new it;r.copy(n),r.normalize();var e=n.length();if(e<20*tt)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(nt*e).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var u=e*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,u),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=i,this.outQ},yt.prototype.getPosition=function(){return null},yt.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this.Jw)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(n=(new rt).setFromAxisAngle(new it(0,0,-1),0),i=new rt,-90===f.orientation?i.setFromAxisAngle(new it(0,1,0),k.PI/-2):i.setFromAxisAngle(new it(0,1,0),k.PI/2),n.multiply(i)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new rt;return t.setFromAxisAngle(new it(1,0,0),-k.PI/2),t}(),t=this.Jw,(r=new rt).copy(t),r.multiply(this.deviceOrientationFilterToWorldQ),r.multiply(this.resetQ),r.multiply(this.worldToScreenQ),r.multiplyQuaternions(this.deviceOrientationFixQ,r),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.Ww[0]=r.x,this.Ww[1]=r.y,this.Ww[2]=r.z,this.Ww[3]=r.w,this.Ww;var n,i,r,e=this.filter.getOrientation();return t=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS),(r=new rt).copy(this.filterToWorldQ),r.multiply(this.resetQ),r.multiply(t),r.multiply(this.worldToScreenQ),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.Ww[0]=r.x,this.Ww[1]=r.y,this.Ww[2]=r.z,this.Ww[3]=r.w,this.Ww},yt.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),D()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},yt.prototype.$w=function(t){this.Jw=this.Jw||new rt;var n=t.alpha,i=t.beta,r=t.gamma;n=(n||0)*k.PI/180,i=(i||0)*k.PI/180,r=(r||0)*k.PI/180,this.Jw.setFromEulerYXZ(i,n,-r)},yt.prototype.im=function(t){this.nm(t)},yt.prototype.nm=function(t){var n=t.accelerationIncludingGravity,i=t.rotationRate,r=t.timeStamp/1e3,e=r-this.previousTimestampS;return e<0?(Q("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):e<=.001||e>1?(Q("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-n.x,-n.y,-n.z),N()?this.gyroscope.set(-i.beta,i.alpha,i.gamma):this.gyroscope.set(i.alpha,i.beta,i.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(k.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},yt.prototype.hm=function(t){this.Gw()},yt.prototype.um=function(t){var n=t.data;n&&n.type&&"devicemotion"===n.type.toLowerCase()&&this.nm(n.deviceMotionEvent)},yt.prototype.Gw=function(){switch(this.worldToScreenQ.set(0,0,0,1),f.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new it(0,0,1),-k.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new it(0,0,1),k.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},yt.prototype.start=function(){var t,n,i;this.lm=this.im.bind(this),this.dm=this.hm.bind(this),this.fm=this.um.bind(this),this.gm=this.$w.bind(this),c()&&(t=f.self!==f.top,n=P(v.referrer),i=P(f.location.href),t&&n!==i)&&f.addEventListener("message",this.fm),f.addEventListener("orientationchange",this.dm),this.isWithoutDeviceMotion?f.addEventListener("deviceorientation",this.gm):f.addEventListener("devicemotion",this.lm)},yt.prototype.stop=function(){f.removeEventListener("devicemotion",this.lm),f.removeEventListener("deviceorientation",this.gm),f.removeEventListener("orientationchange",this.dm),f.removeEventListener("message",this.fm)};var mt=new it(1,0,0),At=new it(0,0,1),pt={};screen.orientation?pt=screen.orientation:screen.msOrientation?pt=screen.msOrientation:_.defineProperty(pt,"angle",{get:function(){return f.orientation||0}});var _t=new rt;_t.setFromAxisAngle(mt,-k.PI/2),_t.multiply((new rt).setFromAxisAngle(At,k.PI/2));var kt=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new p("Cannot call a class as a function")}(this,t),this.config=n,this.sensor=null,this.fusionSensor=null,this._m=new Float32Array(4),this.api=null,this.errors=[],this.vm=new rt,this.wm=new rt,this.pm=new rt,this.Am=this.Am.bind(this),this.ym=this.ym.bind(this),this.Mm=this.Mm.bind(this),this.Mm(),this.init()}return s(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this.ym)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this.Am),this.sensor.start()),f.addEventListener("orientationchange",this.Mm)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new yt(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._m[0]=this._m[1]=this._m[2]=0,this._m[3]=1,this._m;var t=this.sensor.quaternion;this.vm.set(t[0],t[1],t[2],t[3]);var n=this.pm;return n.copy(_t),n.multiply(this.vm),n.multiply(this.wm),this.config.YAW_ONLY&&(n.x=n.z=0,n.normalize()),this._m[0]=n.x,this._m[1]=n.y,this._m[2]=n.z,this._m[3]=n.w,this._m}},{key:"ym",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error)}},{key:"Am",value:function(){}},{key:"Mm",value:function(){var t=-pt.angle*k.PI/180;this.wm.setFromAxisAngle(At,t)}}]),t}();function Mt(){this.Tm();var t=v.createElement("div");(u=t.style).position="fixed",u.top=0,u.right=0,u.bottom=0,u.left=0,u.backgroundColor="gray",u.fontFamily="sans-serif",u.zIndex=1e6;var n=v.createElement("img");n.src=this.icon,(u=n.style).marginLeft="25%",u.marginTop="25%",u.width="50%",t.appendChild(n);var i=v.createElement("div");(u=i.style).textAlign="center",u.fontSize="16px",u.lineHeight="24px",u.margin="24px 25%",u.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(i);var r=v.createElement("div");(u=r.style).backgroundColor="#CFD8DC",u.position="fixed",u.bottom=0,u.width="100%",u.height="48px",u.padding="14px 24px",u.boxSizing="border-box",u.color="#656A6B",t.appendChild(r);var e=v.createElement("div");e.style.float="left",e.innerHTML="No Cardboard viewer?";var u,s=v.createElement("a");s.href="https://www.google.com/get/cardboard/get-cardboard/",s.innerHTML="get one",s.target="Vu",(u=s.style).float="right",u.fontWeight=600,u.textTransform="uppercase",u.borderLeft="1px solid gray",u.paddingLeft="24px",u.textDecoration="none",u.color="#656A6B",r.appendChild(e),r.appendChild(s),this.overlay=t,this.text=i,this.hide()}Mt.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):v.body.appendChild(this.overlay),this.overlay.style.display="block";var n=this.overlay.querySelector("img").style;D()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},Mt.prototype.hide=function(){this.overlay.style.display="none"},Mt.prototype.showTemporarily=function(t,n){this.show(n),this.timer=g(this.hide.bind(this),t)},Mt.prototype.disableShowTemporarily=function(){w(this.timer)},Mt.prototype.update=function(){this.disableShowTemporarily(),!D()&&x()?this.show():this.hide()},Mt.prototype.Tm=function(){this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var bt="CardboardV1",Tt="WEBVR_CARDBOARD_VIEWER";function Nt(){try{this.selectedKey=localStorage.getItem(Tt)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=bt),this.dialog=this.Sm(ct.Viewers),this.root=null,this.Nm=[]}Nt.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},Nt.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Nt.prototype.getCurrentViewer=function(){return ct.Viewers[this.selectedKey]},Nt.prototype.Im=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},Nt.prototype.onChange=function(t){this.Nm.push(t)},Nt.prototype.Dm=function(t){for(var n=0;n<this.Nm.length;n++)this.Nm[n](t)},Nt.prototype.Em=function(){if(this.selectedKey=this.Im(),this.selectedKey&&ct.Viewers[this.selectedKey]){this.Dm(ct.Viewers[this.selectedKey]);try{localStorage.setItem(Tt,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},Nt.prototype.Sm=function(t){var n=v.createElement("div");n.classList.add("webvr-polyfill-viewer-selector"),n.style.display="none";var i=v.createElement("div");(e=i.style).position="fixed",e.left=0,e.top=0,e.width="100%",e.height="100%",e.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var r=v.createElement("div"),e=r.style;for(var u in e.boxSizing="border-box",e.position="fixed",e.top="24px",e.left="50%",e.marginLeft="-140px",e.width="280px",e.padding="24px",e.overflow="hidden",e.background="#fafafa",e.fontFamily="'Roboto', sans-serif",e.boxShadow="0px 5px 20px #666",r.appendChild(this.Lm("Select your viewer")),t)r.appendChild(this.xm(u,t[u].label));return r.appendChild(this.Cm("Save",this.Em.bind(this))),n.appendChild(i),n.appendChild(r),n},Nt.prototype.Lm=function(t){var n=v.createElement("h1"),i=n.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",n.innerHTML=t,n},Nt.prototype.xm=function(t,n){var i=v.createElement("div");i.style.marginTop="8px",i.style.color="black";var r=v.createElement("input");r.style.fontSize="30px",r.setAttribute("id",t),r.setAttribute("type","radio"),r.setAttribute("value",t),r.setAttribute("name","field");var e=v.createElement("label");return e.style.marginLeft="4px",e.setAttribute("for",t),e.innerHTML=n,i.appendChild(r),i.appendChild(e),i},Nt.prototype.Cm=function(t,n){var i=v.createElement("button");i.innerHTML=t;var r=i.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",i.addEventListener("click",n),i},void 0!==f||("undefined"!=typeof global?global:"undefined"!=typeof self&&self);var Dt=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){var i;i=function(){return function(t){var n={};function i(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=t,i.c=n,i.d=function(t,n,r){i.o(t,n)||_.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return _.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){var r=function(){function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}return function(n,i,r){return i&&t(n.prototype,i),r&&t(n,r),n}}(),e=i(1),u=void 0!==l&&b((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(l.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!f.MSStream,s=function(){function t(){!function(t,n){if(!(t instanceof n))throw new p("Cannot call a class as a function")}(this,t),u?this.noSleepTimer=null:(this.noSleepVideo=v.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",e),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=k.random())}.bind(this)))}return r(t,[{key:"enable",value:function(){u?(this.disable(),this.noSleepTimer=f.setInterval((function(){f.location.href="/",f.setTimeout(f.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){u?this.noSleepTimer&&(f.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=s},function(t,n,i){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=i()})),It=function(t){return t&&t.__esModule?t.default:t}(Dt),Et=1e3,St=[0,0,.5,1],Lt=[.5,0,.5,1],Ct=f.requestAnimationFrame,jt=f.cancelAnimationFrame;function xt(t){_.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Y("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function Ot(t){var n=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=Et++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,_.defineProperty(this,"isConnected",{get:function(){return Y("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new xt({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.jm=!1,this.Om=null,this.Rm=null,this.Pm=null,this.zm=null,this.Bm=null,this.Um=null,this.Qm=null,this.Fm=null,n&&x()&&(this.Ym=new It)}Ot.prototype.getFrameData=function(t){return U(t,this.Vm(),this)},Ot.prototype.getPose=function(){return Y("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this.Vm()},Ot.prototype.resetPose=function(){return Y("VRDisplay.prototype.resetPose"),this.Gm()},Ot.prototype.getImmediatePose=function(){return Y("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this.Vm()},Ot.prototype.requestAnimationFrame=function(t){return Ct(t)},Ot.prototype.cancelAnimationFrame=function(t){return jt(t)},Ot.prototype.wrapForFullscreen=function(t){if(c())return t;if(!this.zm){this.zm=v.createElement("div");var n=["height: "+k.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.zm.setAttribute("style",n.join("; ")+";"),this.zm.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.Pm==t)return this.zm;if(this.Pm&&(this.Rm?this.Rm.appendChild(this.Pm):this.Pm.parentElement.removeChild(this.Pm)),this.Pm=t,this.Rm=t.parentElement,this.Rm||v.body.appendChild(t),!this.zm.parentElement){var i=this.Pm.parentElement;i.insertBefore(this.zm,this.Pm),i.removeChild(this.Pm)}this.zm.insertBefore(this.Pm,this.zm.firstChild),this.Bm=this.Pm.getAttribute("style");var r=this;return function(){if(r.Pm){var t=["position: absolute","top: 0","left: 0","width: "+k.max(screen.width,screen.height)+"px","height: "+k.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.Pm.setAttribute("style",t.join("; ")+";")}}(),this.zm},Ot.prototype.removeFullscreenWrapper=function(){if(this.Pm){var t=this.Pm;this.Bm?t.setAttribute("style",this.Bm):t.removeAttribute("style"),this.Pm=null,this.Bm=null;var n=this.zm.parentElement;return this.zm.removeChild(t),this.Rm===n?n.insertBefore(t,this.zm):this.Rm&&this.Rm.appendChild(t),n.removeChild(this.zm),t}},Ot.prototype.requestPresent=function(t){var n=this.isPresenting,i=this;return t instanceof Array||(Y("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new st((function(r,e){if(i.capabilities.canPresent)if(0==t.length||t.length>i.capabilities.maxLayers)e(new A("Invalid number of layers."));else{var u=t[0];if(u.source){var s=u.leftBounds||St,o=u.rightBounds||Lt;if(n){var a=i.Om;a.source!==u.source&&(a.source=u.source);for(var f=0;f<4;f++)a.leftBounds[f]=s[f],a.rightBounds[f]=o[f];return i.wrapForFullscreen(i.Om.source),i.Wm(),void r()}if(i.Om={predistorted:u.predistorted,source:u.source,leftBounds:s.slice(0),rightBounds:o.slice(0)},i.jm=!1,i.Om&&i.Om.source){var d=i.wrapForFullscreen(i.Om.source);i.Zm(d,(function(){var t=v.fullscreenElement||v.webkitFullscreenElement||v.mozFullScreenElement||v.msFullscreenElement;i.isPresenting=d===t,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),i.jm=!1,i.Hm(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.disableWakeLock(),i.Xm(),i.removeFullscreenWrapper(),i.qm()),i.Km()}),(function(){i.jm&&(i.removeFullscreenWrapper(),i.qm(),i.disableWakeLock(),i.jm=!1,i.isPresenting=!1,e(new A("Unable to present.")))})),function(t){if(v.fullscreenEnabled&&t.requestFullscreen)t.requestFullscreen();else if(v.webkitFullscreenEnabled&&t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(v.mozFullScreenEnabled&&t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!v.msFullscreenEnabled||!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(d)?(i.enableWakeLock(),i.jm=!0):(c()||h())&&(i.enableWakeLock(),i.isPresenting=!0,i.Hm(),i.Km(),r())}i.jm||c()||(L(),e(new A("Unable to present.")))}else r()}else e(new A("VRDisplay is not capable of presenting."))}))},Ot.prototype.exitPresent=function(){var t=this.isPresenting,n=this;return this.isPresenting=!1,this.Om=null,this.disableWakeLock(),new st((function(i,r){t?(L(),n.Xm(),n.removeFullscreenWrapper(),n.qm(),n.Km(),i()):r(new A("Was not presenting to VRDisplay."))}))},Ot.prototype.getLayers=function(){return this.Om?[this.Om]:[]},Ot.prototype.Km=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});f.dispatchEvent(t)},Ot.prototype.Jm=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});f.dispatchEvent(t)},Ot.prototype.Zm=function(t,n,i){this.qm(),this.Um=t,this.Qm=n,this.Fm=i,n&&(v.fullscreenEnabled?t.addEventListener("fullscreenchange",n,!1):v.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",n,!1):v.mozFullScreenEnabled?v.addEventListener("mozfullscreenchange",n,!1):v.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",n,!1)),i&&(v.fullscreenEnabled?t.addEventListener("fullscreenerror",i,!1):v.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",i,!1):v.mozFullScreenEnabled?v.addEventListener("mozfullscreenerror",i,!1):v.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",i,!1))},Ot.prototype.qm=function(){if(this.Um){var t=this.Um;if(this.Qm){var n=this.Qm;t.removeEventListener("fullscreenchange",n,!1),t.removeEventListener("webkitfullscreenchange",n,!1),v.removeEventListener("mozfullscreenchange",n,!1),t.removeEventListener("msfullscreenchange",n,!1)}if(this.Fm){var i=this.Fm;t.removeEventListener("fullscreenerror",i,!1),t.removeEventListener("webkitfullscreenerror",i,!1),v.removeEventListener("mozfullscreenerror",i,!1),t.removeEventListener("msfullscreenerror",i,!1)}this.Um=null,this.Qm=null,this.Fm=null}},Ot.prototype.enableWakeLock=function(){this.Ym&&this.Ym.enable()},Ot.prototype.disableWakeLock=function(){this.Ym&&this.Ym.disable()},Ot.prototype.Hm=function(){},Ot.prototype.Xm=function(){},Ot.prototype.submitFrame=function(t){},Ot.prototype.getEyeParameters=function(t){return null};var zt={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},Rt="left",Bt="right";function Ut(t){var n=O({},zt);t=O(n,t||{}),Ot.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new xt({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.$m=this.config.BUFFER_SCALE,this.tp=new kt(this.config),this.ep=null,this.sp=null,this.Ow=null,this.np=null,this.rp=new vt(this.config.DPDB_URL,this.op.bind(this)),this.hp=new ct(this.rp.getDeviceParams()),this.ap=new Nt,this.ap.onChange(this.cp.bind(this)),this.hp.setViewer(this.ap.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.lp=new Mt),c()&&f.addEventListener("resize",this.dp.bind(this))}Ut.prototype=_.create(Ot.prototype),Ut.prototype.Vm=function(){return{position:null,orientation:this.tp.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Ut.prototype.Gm=function(){this.tp.resetPose&&this.tp.resetPose()},Ut.prototype.Pw=function(t){var n;if(t==Rt)n=this.hp.getFieldOfViewLeftEye();else{if(t!=Bt)return console.error("Invalid eye provided: %s",t),null;n=this.hp.getFieldOfViewRightEye()}return n},Ut.prototype.zw=function(t){var n;if(t==Rt)n=[.5*-this.hp.viewer.interLensDistance,0,0];else{if(t!=Bt)return console.error("Invalid eye provided: %s",t),null;n=[.5*this.hp.viewer.interLensDistance,0,0]}return n},Ut.prototype.getEyeParameters=function(t){var n=this.zw(t),i=this.Pw(t),r={offset:n,renderWidth:.5*this.hp.device.width*this.$m,renderHeight:this.hp.device.height*this.$m};return _.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return Y("VRFieldOfView","VRFrameData's projection matrices"),i}}),r},Ut.prototype.op=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.hp.updateDeviceParams(t),this.ep&&this.ep.updateDeviceInfo(this.hp)},Ut.prototype.fp=function(){this.Om&&this.ep&&(this.Om.leftBounds||this.Om.rightBounds)&&this.ep.setTextureBounds(this.Om.leftBounds,this.Om.rightBounds)},Ut.prototype.Hm=function(){var t=this.Om.source.getContext("webgl");if(t||(t=this.Om.source.getContext("experimental-webgl")),t||(t=this.Om.source.getContext("webgl2")),t){if(this.Ow=t.canvas,this.np=t.canvas.getAttribute("style"),this.Om.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=E()*this.$m,t.canvas.height=S()*this.$m,this.sp=new q(t)):(this.config.CARDBOARD_UI_DISABLED||(this.sp=new q(t)),this.ep=new W(t,this.sp,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.ep.updateDeviceInfo(this.hp)),this.sp&&this.sp.listen(function(t){this.ap.show(this.Om.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.lp){var n=this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT;D()&&x()&&n?this.lp.showTemporarily(n,this.Om.source.parentElement):this.lp.update()}this.orientationHandler=this.hm.bind(this),f.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.fp.bind(this),f.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.dp(),this.gp()}},Ut.prototype.Xm=function(){this.ep&&(this.ep.destroy(),this.ep=null),this.sp&&(this.sp.destroy(),this.sp=null),this.lp&&this.lp.hide(),this.ap.hide(),this.Ow&&(B(this.Ow),this.np?this.Ow.setAttribute("style",this.np):this.Ow.removeAttribute("style"),R(this.Ow),this.Ow=null,this.np=null),f.removeEventListener("orientationchange",this.orientationHandler),f.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Ut.prototype.Wm=function(){this.Xm(),this.Hm()},Ut.prototype.submitFrame=function(t){if(this.ep)this.fp(),this.ep.submitFrame();else if(this.sp&&this.Om){var n=this.Om.source.getContext("webgl").canvas;n.width==this.lastWidth&&n.height==this.lastHeight||this.sp.onResize(),this.lastWidth=n.width,this.lastHeight=n.height,this.sp.render()}},Ut.prototype.hm=function(t){this.ap.hide(),this.lp&&this.lp.update(),this.dp()},Ut.prototype.dp=function(t){if(this.Om){var n=this.Om.source.getContext("webgl");B(n.canvas),n.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),R(n.canvas)}},Ut.prototype.cp=function(t){this.hp.setViewer(t),this.ep&&this.ep.updateDeviceInfo(this.hp),this.gp()},Ut.prototype.gp=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.hp}});f.dispatchEvent(t)},Ut.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},Ut.VRDisplay=Ot;var Pt={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function Qt(t){this.config=u(u({},Pt),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in l,this.native={},this.native.getVRDisplays=l.getVRDisplays,this.native.VRFrameData=f.VRFrameData,this.native.VRDisplay=f.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&i())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].Jm&&t[0].Jm()})))}Qt.prototype.getPolyfillDisplays=function(){if(this._p)return this.polyfillDisplays;if(i()){var t=new Ut({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this._p=!0,this.polyfillDisplays},Qt.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,n=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData;f.VRDisplay.prototype.getFrameData=function(r){r instanceof t?i.call(this,r):(i.call(this,n),r.pose=n.pose,e(n.leftProjectionMatrix,r.leftProjectionMatrix),e(n.rightProjectionMatrix,r.rightProjectionMatrix),e(n.leftViewMatrix,r.leftViewMatrix),e(n.rightViewMatrix,r.rightViewMatrix))}}l.getVRDisplays=this.getVRDisplays.bind(this),f.VRDisplay=Ut.VRDisplay,f.VRFrameData=Ut.VRFrameData},Qt.prototype.getVRDisplays=function(){var t,n=this,i=this.config;return this.hasNative?function(t){return st.race?st.race(t):new st((function(n,i){for(var r=0;r<t.length;r++)t[r].then(n,i)}))}([this.native.getVRDisplays.call(l),new st((function(n){t=g((function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),n([])}),i.GET_VR_DISPLAYS_TIMEOUT)}))]).then((function(i){return w(t),i.length>0?i:n.getPolyfillDisplays()})):st.resolve(this.getPolyfillDisplays())},Qt.version="0.10.5-opentelly.3",Qt.VRFrameData=Ut.VRFrameData,Qt.VRDisplay=Ut.VRDisplay;var Yt=_.freeze({default:Qt}),Gt=Yt&&Qt||Yt;return void 0!==n&&n.window&&(n.document||(n.document=n.window.document),n.navigator||(n.navigator=n.window.navigator)),Gt},"object"===(void 0===t?"undefined":Y(t))&&void 0!==n?n.exports=e():"function"==typeof define&&define.amd?define(e):i.WebVRPolyfill=e()})),ui=z((function(t){function n(){var t=ri();return n=function(){return t},t}function i(){var t=n()._(ei());return i=function(){return t},t}Q(),Nt(),_.defineProperty(t,"__esModule",{value:!0}),_.defineProperty(t,"installWebVRPolyfill",{enumerable:!0,get:function(){return s}});var r=(Jt(),P(Ht)),e=(sn(),P(nn)),u={TOUCH_PANNER_DISABLED:!0,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:0,MOBILE_WAKE_LOCK:!r.browserDetection.Sg&&!r.browserDetection.Ka,DPDB_URL:void 0},s=(0,e.lazyConstant)((function(){new(i().default)(u)}))})),si={};R(si,{ChromelessPlayer:function(){return yO},ErrorCategory:function(){return yd},ErrorCode:function(){return wd},Player:function(){return yO},cache:function(){return d6},cast:function(){return F$},features:function(){return pO},playerSuiteVersion:function(){return kO},players:function(){return MO},registerContentProtectionIntegration:function(){return bO},utils:function(){return AO},version:function(){return _O}}),h.exports=P(si),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Zt(),Q(),Nt(),Q(),Nt(),Jt(),Q(),Nt(),ht();var oi={}.hasOwnProperty,ai={}.toString;function ci(t){return null!=t}function hi(t){return void 0===t}var fi=Array.isArray||function(t){return"[object Array]"===ai.call(t)};function vi(t){return di(t)&&oi.call(t,"length")&&Ai(t.length)}function di(t){return"object"===(void 0===t?"undefined":Y(t))&&null!==t}function li(t){return di(t)&&t.constructor&&t.constructor===_}function gi(t){return"string"==typeof t}function wi(t){return"boolean"==typeof t}function yi(t){return ci(t)&&"function"==typeof t.then}function mi(t){return"[object Date]"===ai.call(t)}function Ai(t){return"number"==typeof t}function pi(t){return"function"==typeof t}function _i(t){return pi(t)||di(t)}function ki(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Mi(t){for(var n;ci(n=t.firstChild);)t.removeChild(n)}function bi(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function Ti(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function Ni(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=bi(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&Ti(t,(i+" "+n).trim())}}function Di(t){t.stopPropagation()}function Ii(t,n){Wt.Nf&&Wt.Df<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ei(t,n){var i=n.style;if(i)for(var r=0,e=_.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function Si(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Li(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function Ci(t){t.removeAttribute("title")}function ji(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}function xi(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}function Oi(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function zi(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Ri(){return void 0!==v?v.createElement("video"):void 0}sn();var Bi=un(Ri),Ui=un((function(){return"undefined"!=typeof HTMLVideoElement&&Bi()instanceof HTMLVideoElement}));Jt(),Q(),Nt(),Q(),Nt(),Q(),Nt();var Pi=null;try{Pi=new WebAssembly.Instance(new WebAssembly.Module(new N([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(ne){}function Qi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Yi(t){return!0===(t&&t.vp)}function Gi(t){var n=k.clz32(t&-t);return t?31-n:n}Qi.prototype.vp,_.defineProperty(Qi.prototype,"vp",{value:!0}),Qi.isLong=Yi;var Vi={},Fi={};function Wi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Fi[t])?r:(i=Xi(t,0,!0),e&&(Fi[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Vi[t])?r:(i=Xi(t,t<0?-1:0,!1),e&&(Vi[t]=i),i)}function Zi(t,n){if(T(t))return n?rr:ir;if(n){if(t<0)return rr;if(t>=$i)return ar}else{if(t<=-tr)return cr;if(t+1>=tr)return or}return t<0?Zi(-t,n).neg():Xi(t%qi|0,t/qi|0,n)}function Xi(t,n,i){return new Qi(t,n,i)}Qi.fromInt=Wi,Qi.fromNumber=Zi,Qi.fromBits=Xi;var Hi=k.pow;function Ki(t,n,i){if(0===t.length)throw A("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?rr:ir;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw A("interior hyphen");if(0===r)return Ki(t.substring(1),n,i).neg();for(var e=Zi(Hi(i,8)),u=ir,s=0;s<t.length;s+=8){var o=k.min(8,t.length-s),a=M(t.substring(s,s+o),i);if(o<8){var c=Zi(Hi(i,o));u=u.mul(c).add(Zi(a))}else u=(u=u.mul(e)).add(Zi(a))}return u.unsigned=n,u}function Ji(t,n){return"number"==typeof t?Zi(t,n):"string"==typeof t?Ki(t,n):Xi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Qi.fromString=Ki,Qi.fromValue=Ji;var qi=4294967296,$i=qi*qi,tr=$i/2,nr=Wi(1<<24),ir=Wi(0);Qi.ZERO=ir;var rr=Wi(0,!0);Qi.UZERO=rr;var er=Wi(1);Qi.ONE=er;var ur=Wi(1,!0);Qi.UONE=ur;var sr=Wi(-1);Qi.NEG_ONE=sr;var or=Xi(-1,2147483647,!1);Qi.MAX_VALUE=or;var ar=Xi(-1,-1,!0);Qi.MAX_UNSIGNED_VALUE=ar;var cr=Xi(0,-2147483648,!1);Qi.MIN_VALUE=cr;var hr=Qi.prototype;hr.toInt=function(){return this.unsigned?this.low>>>0:this.low},hr.toNumber=function(){return this.unsigned?(this.high>>>0)*qi+(this.low>>>0):this.high*qi+(this.low>>>0)},hr.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(cr)){var n=Zi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Zi(Hi(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},hr.getHighBits=function(){return this.high},hr.getHighBitsUnsigned=function(){return this.high>>>0},hr.getLowBits=function(){return this.low},hr.getLowBitsUnsigned=function(){return this.low>>>0},hr.getNumBitsAbs=function(){if(this.isNegative())return this.eq(cr)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},hr.isZero=function(){return 0===this.high&&0===this.low},hr.eqz=hr.isZero,hr.isNegative=function(){return!this.unsigned&&this.high<0},hr.isPositive=function(){return this.unsigned||this.high>=0},hr.isOdd=function(){return 1==(1&this.low)},hr.isEven=function(){return 0==(1&this.low)},hr.equals=function(t){return Yi(t)||(t=Ji(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},hr.eq=hr.equals,hr.notEquals=function(t){return!this.eq(t)},hr.neq=hr.notEquals,hr.ne=hr.notEquals,hr.lessThan=function(t){return this.comp(t)<0},hr.lt=hr.lessThan,hr.lessThanOrEqual=function(t){return this.comp(t)<=0},hr.lte=hr.lessThanOrEqual,hr.le=hr.lessThanOrEqual,hr.greaterThan=function(t){return this.comp(t)>0},hr.gt=hr.greaterThan,hr.greaterThanOrEqual=function(t){return this.comp(t)>=0},hr.gte=hr.greaterThanOrEqual,hr.ge=hr.greaterThanOrEqual,hr.compare=function(t){if(Yi(t)||(t=Ji(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},hr.comp=hr.compare,hr.negate=function(){return!this.unsigned&&this.eq(cr)?cr:this.not().add(er)},hr.neg=hr.negate,hr.add=function(t){Yi(t)||(t=Ji(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Xi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},hr.subtract=function(t){return Yi(t)||(t=Ji(t)),this.add(t.neg())},hr.sub=hr.subtract,hr.multiply=function(t){if(this.isZero())return this;if(Yi(t)||(t=Ji(t)),Pi)return Xi(Pi.mul(this.low,this.high,t.low,t.high),Pi.get_high(),this.unsigned);if(t.isZero())return this.unsigned?rr:ir;if(this.eq(cr))return t.isOdd()?cr:ir;if(t.eq(cr))return this.isOdd()?cr:ir;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(nr)&&t.lt(nr))return Zi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Xi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},hr.mul=hr.multiply,hr.divide=function(t){if(Yi(t)||(t=Ji(t)),t.isZero())throw A("division by zero");var n,i,r;if(Pi)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Xi((this.unsigned?Pi.div_u:Pi.div_s)(this.low,this.high,t.low,t.high),Pi.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?rr:ir;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return rr;if(t.gt(this.shru(1)))return ur;r=rr}else{if(this.eq(cr))return t.eq(er)||t.eq(sr)?cr:t.eq(cr)?er:(n=this.shr(1).div(t).shl(1)).eq(ir)?t.isNegative()?er:sr:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(cr))return this.unsigned?rr:ir;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=ir}for(i=this;i.gte(t);){n=k.max(1,k.floor(i.toNumber()/t.toNumber()));for(var e=k.ceil(k.log(n)/k.LN2),u=e<=48?1:Hi(2,e-48),s=Zi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Zi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=er),r=r.add(s),i=i.sub(o)}return r},hr.div=hr.divide,hr.modulo=function(t){return Yi(t)||(t=Ji(t)),Pi?Xi((this.unsigned?Pi.rem_u:Pi.rem_s)(this.low,this.high,t.low,t.high),Pi.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},hr.mod=hr.modulo,hr.rem=hr.modulo,hr.not=function(){return Xi(~this.low,~this.high,this.unsigned)},hr.countLeadingZeros=function(){return this.high?k.clz32(this.high):k.clz32(this.low)+32},hr.clz=hr.countLeadingZeros,hr.countTrailingZeros=function(){return this.low?Gi(this.low):Gi(this.high)+32},hr.ctz=hr.countTrailingZeros,hr.and=function(t){return Yi(t)||(t=Ji(t)),Xi(this.low&t.low,this.high&t.high,this.unsigned)},hr.or=function(t){return Yi(t)||(t=Ji(t)),Xi(this.low|t.low,this.high|t.high,this.unsigned)},hr.xor=function(t){return Yi(t)||(t=Ji(t)),Xi(this.low^t.low,this.high^t.high,this.unsigned)},hr.shiftLeft=function(t){return Yi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Xi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Xi(0,this.low<<t-32,this.unsigned)},hr.shl=hr.shiftLeft,hr.shiftRight=function(t){return Yi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Xi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Xi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},hr.shr=hr.shiftRight,hr.shiftRightUnsigned=function(t){return Yi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Xi(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Xi(32===t?this.high:this.high>>>t-32,0,this.unsigned)},hr.shru=hr.shiftRightUnsigned,hr.shr_u=hr.shiftRightUnsigned,hr.rotateLeft=function(t){var n;return Yi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Xi(this.high,this.low,this.unsigned):t<32?(n=32-t,Xi(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Xi(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},hr.rotl=hr.rotateLeft,hr.rotateRight=function(t){var n;return Yi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Xi(this.high,this.low,this.unsigned):t<32?(n=32-t,Xi(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Xi(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},hr.rotr=hr.rotateRight,hr.toSigned=function(){return this.unsigned?Xi(this.low,this.high,!1):this},hr.toUnsigned=function(){return this.unsigned?this:Xi(this.low,this.high,!0)},hr.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},hr.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},hr.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Qi.fromBytes=function(t,n,i){return i?Qi.fromBytesLE(t,n):Qi.fromBytesBE(t,n)},Qi.fromBytesLE=function(t,n){return new Qi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Qi.fromBytesBE=function(t,n){return new Qi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var fr=Qi;function vr(t,n){return t.lessThan(n)?t:n}Q(),Nt();var dr=9007199254740991,lr=k.pow(2,-52);function gr(t,n,i){return k.min(k.max(t,n),i)}function wr(t,n,i){return t===n||k.abs(t-n)<=i}function yr(t,n){if(t===n)return!0;var i=k.abs(t-n);return i<lr||i<k.max(k.abs(t),k.abs(n))*lr}function mr(t,n){return t%n+(t<0?n:0)}function Ar(t){return t!=t}function pr(t,n){return t===n||Ar(t)&&Ar(n)}function _r(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function kr(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function Mr(t){return!T(t.getTime())}function br(){return Date.now()||(new Date).getTime()}function Tr(t){return t/1e3}function Nr(t){return 1e3*t}var Dr=1/6,Ir=fr.fromNumber(dr);function Er(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Ir))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var Sr=!!("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch)||!(!l||!l.msMaxTouchPoints),Lr=Bi(),Cr=!(!Lr||!Lr.webkitShowPlaybackTargetPicker),jr=function(){function t(){this.mp=void 0,this.Bp=!1,this.Je=Sr,this.Qs=!1,this.Up=!0}var n=t.prototype;return n.pp=function(){return 0},n.Pp=function(t,n){return!0},n.zp=function(t){return t>=2*Dr},Ct(t,[{key:"wp",get:function(){return void 0===this.mp&&(this.mp=this.pp()),this.mp}},{key:"Ap",get:function(){return!Wt.dg}},{key:"yp",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"bp",get:function(){return f.devicePixelRatio||1}},{key:"Mp",get:function(){return Cr}},{key:"Tp",get:function(){return!1}},{key:"Sp",get:function(){return!0}},{key:"Np",get:function(){return!(!Wt.qf&&!Wt.Ka)||!!Wt.Rf}},{key:"Ip",get:function(){return Wt.Rf}},{key:"Dp",get:function(){return!Wt.Ka}},{key:"Ep",get:function(){return!0}},{key:"kp",get:function(){return!0}},{key:"Lp",get:function(){return!1}},{key:"xp",get:function(){}},{key:"Cp",get:function(){return!0}},{key:"jp",get:function(){return!1}},{key:"Op",get:function(){return Wt.Rf}},{key:"Rp",get:function(){return!1}}]),t}(),xr=function(t){function n(){return t.call(this)||this}return Et(n,t),n}(jr);Jt(),Q(),Nt(),Zt(),St(),Jt();var Or=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.Pp=function(t,n){if(t&&t.Qp&&n&&n.Qp){var i=zr(t.Qp,"mp4a.40.2")&&zr(n.Qp,"mp4a.40.5"),r=zr(t.Qp,"mp4a.40.5")&&zr(n.Qp,"mp4a.40.2"),e=zr(t.Qp,"mp4a.40.2")&&zr(n.Qp,"mp4a.40.34"),u=zr(t.Qp,"mp4a.40.34")&&zr(n.Qp,"mp4a.40.2"),s=zr(t.Qp,"mp4a.40.5")&&zr(n.Qp,"mp4a.40.34"),o=zr(t.Qp,"mp4a.40.34")&&zr(n.Qp,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},Ct(n,[{key:"xp",get:function(){if(Wt.Od)return 4096}}]),n}(xr);function zr(t,n){return t.indexOf(n)>-1}Q(),Nt(),St();var Rr=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.zp=function(t){return t>=2},n}(xr);Q(),Nt(),Zt(),St(),Jt();var Br=function(t){function n(){var n;return(n=t.call(this)||this).Bp=Wt.Jf>=11,n.Up=Wt.qf&&!(Wt.Ka&&Wt.Jf<10),n}return Et(n,t),Ct(n,[{key:"Rp",get:function(){return Wt.Jf<17}}]),n}(xr);Q(),Nt(),Zt(),St(),Jt();var Ur,Pr=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),Ct(n,[{key:"Cp",get:function(){return!Wt.Pd||(Wt.yf?92!==Wt.Sf:Wt.mf>=100)}}]),n}(xr);Q(),Nt(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Jt();var Qr=function(){var t=Ri();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Wt.Kd)return!1;var t=Ri();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Yr=function(t){function n(n){var i;return(i=t.call(this)||this).Fp=n,i.Bp=i.Fp.Bp,i.Je=i.Fp.Je,i.Up=Qr&&i.Fp.Up,i}Et(n,t);var i=n.prototype;return i.pp=function(){return this.Fp.wp},i.Pp=function(t,n){return this.Fp.Pp(t,n)},i.zp=function(t){return this.Fp.zp(t)},Ct(n,[{key:"xp",get:function(){return this.Fp.xp}},{key:"Cp",get:function(){return this.Fp.Cp}},{key:"Rp",get:function(){return this.Fp.Rp}}]),n}(jr);Jt();var Gr,Vr,Fr,Wr,Zr,Xr,Hr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Bp=!0,i.Qs=!0,i}return Et(n,t),Ct(n,[{key:"Lp",get:function(){return Wt.Ka}}]),n}(Yr);Q(),Nt(),Q(),Nt();var Kr=function(){function t(t){this.Vp=Jr(t)}var n=t.prototype;return n.Yp=function(){return new this.Vp},n.Gp=function(t){return this.Vp.isTypeSupported(t)},t}();function Jr(t){return t&&_i(Wr.ManagedMediaSource)?Wr.ManagedMediaSource:_i(Wr.MediaSource)?Wr.MediaSource:void 0}var qr=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.pp=function(){return Jr(!0)?t.prototype.pp.call(this):1},Ct(n,[{key:"Lp",get:function(){return!0}}]),n}(Hr);Q(),Nt(),Zt(),St(),Jt();var $r=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.Pp=function(n,i){return t.prototype.Pp.call(this,n,i)},Ct(n,[{key:"Tp",get:function(){return Wt.Df<3}},{key:"Sp",get:function(){return Wt.Df>=3}},{key:"yp",get:function(){var t=this;return f.tizen&&!this.Wp&&f.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Wp={width:i,height:r})})),this.Wp}},{key:"jp",get:function(){return Wt.Df<3}}]),n}(Yr);Q(),Nt(),Zt(),St();var te=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),Ct(n,[{key:"yp",get:function(){var t=this;return f.webOS&&!this.Wp&&f.webOS.deviceInfo((function(n){t.Wp={width:n.screenWidth,height:n.screenHeight}})),this.Wp}},{key:"Ep",get:function(){return!1}}]),n}(Yr);Q(),Nt(),Zt(),St();var ne,ie=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),Ct(n,[{key:"Lp",get:function(){return!0}}]),n}(Yr);!function(t){Ur=t}((ne=Wt.Wf?new Or:Wt.zf||Wt.Uf?new Rr:Wt.qf?new Br:Wt.vf?new Pr:new xr,Wt.Ka?new qr(ne):Wt.Qs?new Hr(ne):Wt.Nf?new $r(ne):Wt.kf?new te(ne):Wt.Od?new ie(ne):new Yr(ne))),Q(),Nt(),Zt(),St(),tn(),Q(),Nt(),Zt(),gn(),ht(),Q(),Nt(),gn(),Jt(),sn();var re=!(Wt.Uf&&!Wt.Ff),ee=self.console;function ue(t){if(di(t))try{return JSON.stringify(t)}catch(t){}return t}function se(t){return t.map(ue).join(" ")}function oe(t){var n=ee&&ee[t];return n?n.bind&&re?n.bind(ee):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ee[t](se(i))}:void 0}var ae=oe("log")||qt,ce=oe("warn")||ae.bind(void 0,"WARNING:"),he=oe("error")||ae.bind(void 0,"ERROR:"),fe=function(){var t=ee&&ee.assert;return t?t.bind&&re?t.bind(ee):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ee.assert(t,se(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||he.apply(void 0,["Assertion failed:"].concat(ln(i)))}}();function ve(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_.defineProperty(t,r.key,r)}}function de(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){le(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&le(i,null,t.length,t),t}function le(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}Q(),Nt();var ge=/[a-zA-Z]/,we=/[0-9]/,ye=/[0-9a-fA-F]/,me=/^0x/i,Ae=/^[0-9]+$/,pe=/^[0-9a-fA-F]+$/,_e=/^[0-7]+$/,ke=_.prototype.toString,Me=Array.isArray||function(t){return"[object Array]"===ke.call(t)},be=void 0!==n&&"symbol"==typeof r;function Te(t){return Me(t)?t:Array.from(t)}function Ne(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function De(t){return t>=65&&t<=90}function Ie(t){return De(t)||function(t){return t>=97&&t<=122}(t)}function Ee(t){return t>=48&&t<=57}function Se(t){return Ee(t)||Ie(t)}function Le(t){return Ee(t)||t>=65&&t<=70||t>=97&&t<=102}function Ce(t){return De(t)?t+32:t}function je(t){return Ee(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function xe(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Oe=k.min,ze=String.fromCharCode,Re=16384;function Be(t){for(var n=t.length,i=[],r=0;r<n;r+=Re){var e=Oe(r+Re,n);i.push(ze.apply(null,t.slice(r,e)))}return i.join("")}var Ue=2147483647,Pe=/[^\0-\x7E]/,Qe=/[\x2E\u3002\uFF0E\uFF61]/g,Ye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ge=k.floor,Ve=String.fromCharCode;function Fe(t){throw new RangeError(Ye[t])}function We(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Ze,Xe,He,Ke=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Je=function(t,n,i){var r=0;for(t=i?Ge(t/700):t>>1,t+=Ge(t/n);t>455;r+=36)t=Ge(t/35);return Ge(r+36*t/(t+38))},qe=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Qe,".")).split("."),n).join(".");return r+e}(t,(function(t){return Pe.test(t)?"xn--"+function(t){for(var n=[],i=(t=We(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Ve(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Ue,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var g=h+1;f-r>Ge((Ue-e)/g)&&Fe("overflow"),e+=(f-r)*g,r=f;for(var w=0,y=t;w<y.length;w++){var m=y[w];if(m<r&&++e>Ue&&Fe("overflow"),m==r){for(var A=e,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(A<_)break;var k=A-_,M=36-_;n.push(Ve(Ke(_+k%M,0))),A=Ge(k/M)}n.push(Ve(Ke(A,0))),u=Je(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function $e(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Be(n)}function tu(t){if(t>=55296&&t<=57343)throw new A("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function nu(t,n){return t>>n&63|128}function iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(tu(t),n.push(t>>12&15|224),n.push(nu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(nu(t,12)),n.push(nu(t,6))),n.push(63&t|128)):n.push(t)}function ru(t){for(var n=[],i=0;i<t.length;i++){iu(t[i],n)}return n}function eu(){if(He>=Xe)throw new A("Invalid byte index");var t=255&Ze[He];if(He++,128==(192&t))return 63&t;throw new A("Invalid continuation byte")}function uu(){var t,n;if(He>Xe)throw new A("Invalid byte index");if(He===Xe)return!1;if(t=255&Ze[He],He++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|eu())>=128)return n;throw new A("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|eu()<<6|eu())>=2048)return tu(n),n;throw new A("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|eu()<<12|eu()<<6|eu())>=65536&&n<=1114111)return n;throw new A("Invalid UTF-8 detected")}function su(t){return[37,xe(t>>4),xe(15&t)]}function ou(t){return function(t){return t>=0&&t<=31}(t)||t>126}function au(t){return ou(t)||32===t||34===t||60===t||62===t||96===t}function cu(t){return au(t)||35===t||63===t||123===t||125===t}function hu(t){return cu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function fu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vu(t){return fu(t)||39===t}function du(t,n){if(!n(t))return[t];for(var i=ru([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,su(u))}return r}function lu(t,n){for(var i=[],r=0,e=We(t);r<e.length;r++){var u=e[r];i.push.apply(i,du(u,n))}return $e(i)}function gu(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Le(t[r+1])&&Le(t[r+2])){var u=je(t[r+1])<<4|je(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ru(t))}function wu(t){return $e(function(t){Ze=t.slice(),Xe=Ze.length,He=0;for(var n,i=[];!1!==(n=uu());)i.push(n);return i}(gu(We(t))))}function yu(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new p;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new p("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&ye.test(t[u]);)s=s<<4|M(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new p;if(u-=o,r>6)throw new p;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new p;u+=1}if(!we.test(t[u]))throw new p;for(;u<n&&we.test(t[u]);){var h=M(t[u],10);if(null===c)c=h;else{if(0===c)throw new p;if((c=10*c+h)>255)throw new p}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new p;break}if(":"===t[u]){if((u+=1)===n)throw new p}else if(u<n)throw new p;i[r]=s,r+=1}else{if(null!==e)throw new p("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)Ne(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new p;return i}function mu(t){var n=10,i=Ae;return me.test(t)?(t=t.slice(2),n=16,i=pe):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=_e),""===t?0:i.test(t)?M(t,n):void 0}var Au={Zp:4},pu=/[\0\t\n\r #%/:?@\[\\\]]/,_u=/[\0\t\n\r #/:?@\[\\\]]/;function ku(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new p("Invalid IPv6 address");return{Zp:2,Hp:yu(t.slice(1,-1))}}if(!n)return function(t){if(_u.test(t))throw new p("Invalid code point in opaque host");var n=lu(t,ou);return""===n?Au:{Zp:3,Xp:n}}(t);var i=function(t){var n=function(t){return qe(t.toLowerCase())}(t);return n}(wu(t));if(pu.test(i))throw new p("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=mu(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new p;if(i[i.length-1]>=k.pow(256,5-i.length))throw new p;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*k.pow(256,3-a);return o}}(i);return void 0!==r?{Zp:1,Hp:r}:""===i?Au:{Zp:0,qp:i}}function Mu(t){switch(t.Zp){case 0:return t.qp;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Hp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Hp)+"]";case 3:return t.Xp;case 4:return""}}var bu=/\+/g;function Tu(t){return 42===t||45===t||46===t||95===t||Se(t)}function Nu(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(bu," "),o=o.replace(bu," ");var a=wu(s),c=wu(o);i.push([a,c])}}return i}function Du(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Iu(ru(We(r[0])))+"="+Iu(ru(We(r[1])))}return n}function Iu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):Tu(r)?n.push(r):n.push.apply(n,su(r))}return Be(n)}var Eu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Su(t){var n=""+t,i=Eu.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Cu(u))if(ju(u)||e===i-1)r.push(Lu);else{var s=t.charCodeAt(e+1);ju(s)?(r.push(u,s),e++):r.push(Lu)}else r.push(u)}return t.slice(0,n)+Be(r)}(n,i.index):n}var Lu=65533,Cu=function(t){return 55296==(63488&t)},ju=function(t){return 0!=(1024&t)};function xu(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ou(t){t.Xv.length=0}function zu(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Xv,Nu(n))}function Ru(t){if(t.Yu){var n=Du(t.Xv);""===n&&(n=null),t.Yu.Yu.Kp=n}}var Bu=function(){function t(t){if(void 0===t&&(t=void 0),this.Yu=null,null==t)this.Xv=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Bu&&!!Me(t.Xv)&&(!be||t[r]===Uu)}(t))this.Xv=t.Xv.slice();else if(function(t){return null!=t&&(!!Me(t)||!!be&&"function"==typeof t[r])}(t)){this.Xv=[];for(var n=0,i=Te(t);n<i.length;n++){var e=Te(i[n]);if(2!==e.length)throw new p("Invalid name-value pair");this.Xv.push([Su(e[0]),Su(e[1])])}}else for(var u in this.Xv=[],t)_.prototype.hasOwnProperty.call(t,u)&&this.Xv.push([Su(u),Su(t[u])]);else(t=Su(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Xv=Nu(t)}var n=t.prototype;return n.append=function(t,n){t=Su(t),n=Su(n),this.Xv.push([t,n]),Ru(this)},n.delete=function(t){t=Su(t);for(var n=this.Xv,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Ru(this)},n.get=function(t){t=Su(t);for(var n=this.Xv,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Su(t);for(var n=this.Xv,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Su(t);for(var n=this.Xv,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Su(t),n=Su(n);for(var i=this.Xv,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Ru(this)},n.sort=function(){de(this.Xv,xu),Ru(this)},n.toString=function(){return Du(this.Xv)},n.entries=function(){return new Gu(this.Xv,Pu)},n.keys=function(){return new Gu(this.Xv,Qu)},n.values=function(){return new Gu(this.Xv,Yu)},n.forEach=function(t){var n=this;this.Xv.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Uu=Bu.prototype.entries;be&&(Bu.prototype[r]=Uu);var Pu=function(t){return[t[0],t[1]]},Qu=function(t){return t[0]},Yu=function(t){return t[1]},Gu=function(){function t(t,n){this.Jp=0,this.Xv=t,this.$p=n}return t.prototype.next=function(){return this.Jp<this.Xv.length?{done:!1,value:this.$p(this.Xv[this.Jp++])}:{done:!0,value:void 0}},t}(),Vu="null";var Fu=_.create(null);Fu.ftp=21,Fu.file=0,Fu.gopher=70,Fu.http=80,Fu.https=443,Fu.ws=80,Fu.wss=443;var Wu=/^(?:\.|%2e)$/i,Zu=/^(?:\.|%2e){2}$/i;function Xu(t){return Wu.test(t)}function Hu(t){return Zu.test(t)}function Ku(t){return void 0!==Fu[t]}function Ju(t){return Ku(t.tA)}function qu(t){return""!==t.iA||""!==t.eA}function $u(t){var n=t.length;if(!(n>=2))return!1;if(!ns(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ts(t){return 2===t.length&&ge.test(t[0])&&(":"===t[1]||"|"===t[1])}function ns(t){return 2===t.length&&ts(Be(t))}function is(t){return ts(t)&&":"===t[1]}function rs(t){var n=t.sA;0!==n.length&&("file"===t.tA&&1===n.length&&is(n[0])||n.pop())}function es(t){return null===t.nA||Au===t.nA||t.rA||"file"===t.tA}var us=-1,ss=/\t|\n|\r/g,os=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function as(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new hs,t=t.replace(os,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=We(t=t.replace(ss,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:us;switch(e){case 0:if(!Ie(v)){if(null===r){u.length=0,e=2;continue}throw new p("Invalid scheme")}u.push(Ce(v)),e=1;break;case 1:if(Se(v)||43===v||45===v||46===v)u.push(Ce(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new p("Invalid scheme")}var d=$e(u);if(null!==r){if(Ku(i.tA)&&!Ku(d))return;if(!Ku(i.tA)&&Ku(d))return;if((qu(i)||null!==i.oA)&&"file"===d)return;if("file"===i.tA&&(i.nA===Au||null===i.nA))return}if(i.tA=d,null!==r)return void(Ju(i)&&i.oA===Fu[i.tA]&&(i.oA=null));u.length=0,"file"===i.tA?e=13:Ju(i)&&n&&n.tA===i.tA?e=3:Ju(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.rA=!0,i.sA.push(""),e=18)}break;case 2:if(!n||n.rA&&35!==v)throw new p("Invalid scheme");n.rA&&35===v?(i.tA=n.tA,i.sA=n.sA.slice(),i.Kp=n.Kp,i.hA="",i.rA=!0,e=20):"file"!==n.tA?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.tA=n.tA,us===v?(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.Kp=n.Kp):47===v?e=6:63===v?(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.Kp="",e=19):35===v?(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.Kp=n.Kp,i.hA="",e=20):92===v&&Ju(i)?e=6:(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.sA.pop(),e=17,f-=1);break;case 6:!Ju(i)||47!==v&&92!==v?47===v?e=9:(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var l=0;l<u.length;l++){var g=u[l];if(58!==g||a){var w=$e(du(g,hu));a?i.eA+=w:i.iA+=w}else a=!0}u.length=0}else if(us===v||47===v||63===v||35===v||Ju(i)&&92===v){if(s&&0===u.length)throw new p("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.tA)f-=1,e=15;else if(58!==v||o)if(us===v||47===v||63===v||35===v||Ju(i)&&92===v){if(f-=1,Ju(i)&&0===u.length)throw new p("Invalid host");if(null!==r&&0===u.length&&(qu(i)||null!==i.oA))return;var y=ku($e(u),Ju(i));if(i.nA=y,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new p("Invalid host");var m=ku($e(u),Ju(i));if(i.nA=m,u.length=0,e=12,11===r)return}break;case 12:if(Ee(v))u.push(v);else{if(!(us===v||47===v||63===v||35===v||Ju(i)&&92===v||null!==r))throw new p("Invalid port");if(0!==u.length){var A=M($e(u),10);if(A>65535)throw new p("Invalid port");i.oA=A===Fu[i.tA]?null:A,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.tA="file",47===v||92===v?e=14:n&&"file"===n.tA?us===v?(i.nA=n.nA,i.sA=n.sA.slice(),i.Kp=n.Kp):63===v?(i.nA=n.nA,i.sA=n.sA.slice(),i.Kp="",e=19):35===v?(i.nA=n.nA,i.sA=n.sA.slice(),i.Kp=n.Kp,i.hA="",e=20):($u(c.slice(f))||(i.nA=n.nA,i.sA=n.sA.slice(),rs(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.tA&&!$u(c.slice(f))&&(is(n.sA[0])?i.sA.push(n.sA[0]):i.nA=n.nA),e=17,f-=1);break;case 15:if(us===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&ns(u))e=17;else if(0===u.length){if(i.nA=Au,null!==r)return;e=16}else{var _=ku($e(u),Ju(i));if(0===_.Zp&&"localhost"===_.qp&&(_=Au),i.nA=_,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Ju(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Kp="",e=19):null===r&&35===v?(i.hA="",e=20):us!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(us===v||47===v||Ju(i)&&92===v||null===r&&(63===v||35===v)){var k=$e(u);if(Hu(k)?(rs(i),47===v||Ju(i)&&92===v||i.sA.push("")):!Xu(k)||47===v||Ju(i)&&92===v?Xu(k)||("file"===i.tA&&0===i.sA.length&&ns(u)&&(Au!==i.nA&&null!==i.nA&&(i.nA=Au),u[1]=58,k=$e(u)),i.sA.push(k)):i.sA.push(""),u.length=0,"file"===i.tA&&(us===v||63===v||35===v))for(;i.sA.length>1&&""===i.sA[0];)i.sA.shift();63===v?(i.Kp="",e=19):35===v&&(i.hA="",e=20)}else u.push.apply(u,du(v,cu));break;case 18:63===v?(i.Kp="",e=19):35===v?(i.hA="",e=20):us!==v&&(i.sA[0]+=$e(du(v,ou)));break;case 19:null===r&&35===v?(i.hA="",e=20):us!==v&&(i.Kp+=$e(du(v,Ju(i)?vu:fu)));break;case 20:us===v||0===v||(i.hA+=$e(du(v,au)))}f++}return i}function cs(t,n,i,r){try{as(t,n,i,r)}catch(t){}}var hs=function(){this.tA="",this.iA="",this.eA="",this.nA=null,this.oA=null,this.sA=[],this.Kp=null,this.hA=null,this.rA=!1};function fs(t){switch(t.tA){case"blob":var n;try{n=as(t.sA[0],null)}catch(t){return Vu}return fs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+Mu(n)+(null===i?"":":"+i)}(t.tA,t.nA,t.oA);default:return Vu}}var vs=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof vs&&"object"==typeof t.Yu}(n))r=n.Yu;else try{r=as(String(n),null)}catch(t){throw new p("Invalid base URL: "+t.message)}try{i=as(String(t),r)}catch(t){throw new p("Invalid URL: "+t.message)}var e=i.Kp;this.Yu=i,this.Kp=function(t){var n=new Bu;return null!==t&&zu(n,t),n}(e),this.Kp.Yu=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&ve(t.prototype,n),i&&ve(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.tA+":";if(null!==t.nA?(i+="//",qu(t)&&(i+=t.iA,""!==t.eA&&(i+=":"+t.eA),i+="@"),i+=Mu(t.nA),null!==t.oA&&(i+=":"+t.oA)):null===t.nA&&"file"===t.tA&&(i+="//"),t.rA)i+=t.sA[0];else for(var r=0,e=t.sA;r<e.length;r++)i+="/"+e[r];return null!==t.Kp&&(i+="?"+t.Kp),n||null===t.hA||(i+="#"+t.hA),i}(this.Yu)},set:function(t){var n;try{n=as(String(t),null)}catch(t){throw new p("Invalid URL: "+t.message)}this.Yu=n,Ou(this.Kp);var i=this.Yu.Kp;null!==i&&zu(this.Kp,i)}},{key:"origin",get:function(){return fs(this.Yu)}},{key:"protocol",get:function(){return this.Yu.tA+":"},set:function(t){cs(t+":",null,this.Yu,0)}},{key:"username",get:function(){return this.Yu.iA},set:function(t){es(this.Yu)||(this.Yu.iA=lu(t,hu))}},{key:"password",get:function(){return this.Yu.eA},set:function(t){es(this.Yu)||(this.Yu.eA=lu(t,hu))}},{key:"host",get:function(){var t=this.Yu,n=t.nA;if(null===n)return"";var i=t.oA,r=Mu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Yu.rA||cs(t,null,this.Yu,10)}},{key:"hostname",get:function(){var t=this.Yu.nA;return null===t?"":Mu(t)},set:function(t){this.Yu.rA||cs(t,null,this.Yu,11)}},{key:"port",get:function(){var t=this.Yu.oA;return null===t?"":""+t},set:function(t){es(this.Yu)||(""===t?this.Yu.oA=null:cs(t,null,this.Yu,12))}},{key:"pathname",get:function(){var t=this.Yu.sA;return this.Yu.rA?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Yu.rA||(this.Yu.sA.length=0,cs(t,null,this.Yu,16))}},{key:"search",get:function(){var t=this.Yu.Kp;return null===t||""===t?"":"?"+t},set:function(t){t=Su(t);var n=this.Yu;if(""===t)return n.Kp=null,void Ou(this.Kp);"?"===t[0]&&(t=t.slice(1)),n.Kp="",cs(t,null,n,19),zu(this.Kp,t)}},{key:"searchParams",get:function(){return this.Kp}},{key:"hash",get:function(){var t=this.Yu.hA;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Yu.hA="",cs(t,null,this.Yu,20)):this.Yu.hA=null}}]),t}();function ds(t){return t.document&&t.document.baseURI||t.location.href||""}Q(),Nt();var ls=function(){function t(){this.MA=new gs,this.NA=Ur,this.SA=ws(),self.performance&&self.performance.now?this.Og=function(){return self.performance.now()}:this.Og=br}var n=t.prototype;return n.aA=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ae.apply(void 0,ln(n))},n.uA=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ce.apply(void 0,ln(n))},n.cA=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];he.apply(void 0,ln(n))},n.lA=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];fe.apply(void 0,[t].concat(ln(i)))},n.Pg=function(t,n){return g(t,n)},n.dA=function(t,n){return y(t,n)},n.Rg=function(t){w(t)},n.fA=function(t){m(t)},n.gA=function(){return this._A.gA()},n.vA=function(){return this._A.vA()},n.wA=function(){return this._A.wA()},n.mA=function(){return this._A.mA()},n.pA=function(){return this._A.pA()},n.AA=function(t,n){return this._A.AA(t,n)},n.yA=function(t){return this._A.yA(t)},n.Ah=function(t,n){var i;return void 0===n&&(n=ds(Wr)),i="object"!==(void 0===n?"undefined":Y(n))||n instanceof vs?n:n.href,new vs(t,i)},n.TA=function(t,n){if(void 0===n&&(n=ds(Wr)),this.SA){var i=gi(n)?n:n.toString();return new self.URL(t,i).href}return this.Ah(t,n).href},Ct(t,[{key:"bA",get:function(){return this.MA}},{key:"Ys",get:function(){return this.NA}},{key:"IA",get:function(){return{DA:l&&l.userAgent.match(/Android /i)?"Android":"other",EA:Boolean(l&&l.userAgent.match(/Android 8.0.0/i))}}},{key:"kA",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"LA",get:function(){return"languages"in l?l.languages.slice():[l.language]}}]),t}(),gs=function(){function t(){}return Ct(t,[{key:"xA",get:function(){return l.oscpu}},{key:"Ys",get:function(){return l.platform}},{key:"CA",get:function(){return l.vendor}},{key:"jA",get:function(){return l.vendorSub}}]),t}();function ws(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function ys(){return ys=_.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)_.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ys.apply(this,arguments)}function ms(){var t=_.create(null);return t.OA=void 0,delete t.OA,t}function As(){return new bs}function ps(){return new Ts}function _s(t){var n=As();for(var i in t)oi.call(t,i)&&n.set(i,t[i]);return n}function ks(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}Q(),Nt(),An(),Q(),Nt(),Tn(),Q(),Nt(),Zt(),Sn();var Ms="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,bs=Ms||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=_.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=ms(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=ms(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var Ts=Ms||function(){var t=function(){function t(t,n){this.RA=t,this.PA=n}return t.prototype.next=function(){var t=this.RA.next();return t.done?t:{value:this.PA(t.value),done:!1}},t}();return function(){function n(){this.Hv=As()}var i=n.prototype;return i.get=function(t){return this.Hv.get(""+t)},i.set=function(t,n){return this.Hv.set(""+t,n),this},i.has=function(t){return this.Hv.has(""+t)},i.delete=function(t){return this.Hv.delete(""+t)},i.clear=function(){this.Hv.clear()},i.keys=function(){return new t(this.Hv.keys(),(function(t){return Number(t)}))},i.values=function(){return this.Hv.values()},i.entries=function(){return new t(this.Hv.entries(),(function(t){var n=En(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.Hv.forEach((function(n,i){t(n,Number(i))}))},Ct(n,[{key:"size",get:function(){return this.Hv.size}}]),n}()}();Jt(),Q(),Nt(),Q(),Nt();var Ns=function(t){return t.zA="9a04f079-9840-4286-ab92-e65be0885f95",t.BA="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.UA="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.QA="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),Ds="urn:mpeg:dash:mp4protection:2011",Is="cenc",Es="sinf",Ss="skd",Ls="9a04f079-9840-4286-ab92-e65be0885f95",Cs="urn:uuid:"+Ls,js="com.microsoft.playready",xs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Os="urn:uuid:"+xs,zs="com.widevine.alpha",Rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Bs="urn:uuid:"+Rs,Us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ps="urn:uuid:"+Us,Qs="com.apple.fps.1_0",Ys="com.apple.streamingkeydelivery",Gs="identity";Q(),Nt();var Vs=function(t){return t.zA="playready",t.BA="widevine",t.QA="fairplay",t.UA="clearkey",t.FA="aes128",t}({}),Fs={YA:Vs.zA,VA:js,GA:"cenc",WA:Ls,ZA:Cs,HA:"PlayReady"},Ws={YA:Vs.BA,VA:zs,GA:"cenc",WA:xs,ZA:Os,HA:"Widevine"},Zs={YA:Vs.QA,VA:Qs,GA:"skd",WA:Us,ZA:Ps,HA:"FairPlay"},Xs={YA:Vs.QA,VA:"com.apple.fps",GA:"sinf",WA:Us,ZA:Ps,HA:"FairPlay"},Hs={YA:Vs.UA,VA:"org.w3.clearkey",GA:"cenc",WA:Rs,ZA:Bs,HA:"ClearKey"},Ks=[Fs,Ws,Zs,Hs],Js=[Fs,Ws,Xs,Hs];function qs(t){return Ks.filter((function(n){return n.ZA===t.toLowerCase()}))}Q(),Nt(),gn();var $s="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function to(t,n){return ci(t)&&-1!==t.indexOf(n)}var no="function"==typeof String.prototype.startsWith?function(t,n){return ci(t)&&t.startsWith(n)}:function(t,n){return ci(t)&&t.substr(0,n.length)===n},io="function"==typeof String.prototype.endsWith?function(t,n){return ci(t)&&t.endsWith(n)}:function(t,n){return ci(t)&&t.substr(t.length-n.length,n.length)===n};function ro(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var eo="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},uo="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=eo(r,e/r.length)),r.slice(0,e)+t)},so=(String.prototype.padEnd,16384),oo="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=so?(n=String).fromCodePoint.apply(n,ln(t)):co(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ao(n)};function ao(t){var n;return t.length<=so?(n=String).fromCharCode.apply(n,ln(t)):co(t,String.fromCharCode)}function co(t,n){for(var i=[],r=0;r<t.length;r+=so)i.push(n.apply(void 0,ln(t.slice(r,r+so))));return i.join("")}function ho(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var fo=Wt.vf&&Wt.mf>=42||Wt.Wf&&Wt.Hf>=38||Wt.zf||Wt.Ff||Wt.eg&&Wt.og>=29;function vo(t,n){return to(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ys({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ys({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function lo(){return void 0!==l&&"function"==typeof l.requestMediaKeySystemAccess}function go(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var wo=function(){function t(t){this.XA=As(),this.JA=void 0,this.KA=t}var n=t.prototype;return n.pA=function(){return this.yA(Ws)},n.vA=function(){return this.yA(Hs)},n.mA=function(){return this.yA(Fs)},n.wA=function(){return this.yA(Zs)},n.yA=function(t){var n=t.ZA,i=this.XA.get(n);if(i)return i;var r=this.AA(t,'video/mp4; codecs="avc1.42000a"');return this.XA.set(n,r),r},n.AA=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.KA.qA(t.VA,[vo(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.KA.qA(t.VA,[vo(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.gA=function(){return this.JA||(this.JA=this.$A()),this.JA},n.$A=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return"https:"===Zr.protocol?[2,!1]:fo?[4,t.vA()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function yo(t,n){return Ao(t.slice(),n)}function mo(t,n){var i=Ao(t,n);return i!==t&&po(i,void 0,t.length,t),t}function Ao(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){po(i,n,u,e);var s=i;i=e,e=s}return i}function po(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}Q(),Nt(),Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt(),An(),gn(),Tn(),Q(),Nt(),Q(),Nt();var _o=function(t){return t[t.Zr=0]="Zr",t[t.iy=1]="iy",t[t.ey=-1]="ey",t}({}),ko=function(t,n){return(0|t)-(0|n)},Mo=function(t,n){return t===n?0:t<n?-1:t>n?1:T(t)?T(n)?0:1:-1};function bo(t,n,i){return wr(t,n,i)?0:Mo(t,n)}var To=function(t,n){return yr(t,n)?0:Mo(t,n)};var No="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=So(t,n);return-1===i?void 0:t[i]},Do=No,Io="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=Lo(t,n);return-1===i?void 0:t[i]},Eo=Io,So="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},Lo="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function Co(t,n){var i=t.indexOf(n);return-1!==i&&(jo(t,i),!0)}function jo(t,n){0===n?t.shift():t.splice(n,1)}function xo(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function Oo(t,n){return-1!==t.indexOf(n)}function zo(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function Ro(t){t.length=0}function Bo(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Oo(n,t[i]))return!1}return!0}Array.prototype.flat;var Uo="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,ln(n(t[r],r)))}return i};function Po(t,n){return Yo(t,(function(t,i){return Mo(n(t),n(i))}))}function Qo(t,n){return Go(t,(function(t,i){return Mo(n(t),n(i))}))}function Yo(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function Go(t,n){return Yo(t,(function(t,i){return n(i,t)}))}function Vo(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function Fo(t,n){return st.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Wo(t,n){return Zo.apply(this,arguments)}function Zo(){return Zo=yn((function(t,n){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),Zo.apply(this,arguments)}function Xo(){return Xo=yn((function(t,n){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),Xo.apply(this,arguments)}function Ho(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),bn(),Q(),Nt(),bn(),Q(),Nt(),Zt(),St();var Ko=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];A.apply(this,n)};(Ko.prototype=_.create(A.prototype)).constructor=Ko;var Jo=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,A.captureStackTrace&&A.captureStackTrace(r,r.constructor),r}return Et(n,t),Ct(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Ko);sn();var qo=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Jo);function $o(t){return t instanceof A&&"AbortError"===t.name}function ta(t){if(t&&t.sy)throw new qo}function na(t){if($o(t))throw t}function ia(t){if(!$o(t))throw t}function ra(t,n){return n?new st((function(i,r){if(n.sy)return t.catch(qt),r(new qo);var e=function(){n.oy(e),r(new qo)};n.uy(e),t.then((function(t){n.oy(e),i(t)}),(function(t){n.oy(e),r(t)}))})):t}function ea(t,n){return ua.apply(this,arguments)}function ua(){return ua=yn((function(t,n){var i,r;return pn(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),kn(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Mn(i),[7];case 5:return[2]}}))})),ua.apply(this,arguments)}function sa(t,n){return oa.apply(this,arguments)}function oa(){return oa=yn((function(t,n){var i,r;return pn(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),kn(i,n,!1),[4,t(n.ly)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Mn(i),[7];case 5:return[2]}}))})),oa.apply(this,arguments)}Q(),Nt(),An(),Tn(),Q(),Nt(),Zt();var aa=function(){function t(){this.sy=!1,this._y=!1,this.vy=[],this.py=[]}var n=t.prototype;return n.gy=function(){if(!this.sy&&!this._y){this.sy=!0;for(var t=0,n=this.vy.slice();t<n.length;t++){(0,n[t])()}this.wy()}},n.wy=function(){if(!this._y){this._y=!0;for(var t=0,n=this.py.slice();t<n.length;t++){(0,n[t])()}Ro(this.vy),Ro(this.py)}},n.uy=function(t){this._y||this.vy.push(t)},n.oy=function(t){this._y||Co(this.vy,t)},n.Ay=function(t){this._y||this.py.push(t)},n.yy=function(t){this._y||Co(this.py,t)},t}(),ca=function(){function t(){this.My=new aa}var n=t.prototype;return n.Ty=function(){this.My.gy()},n.wy=function(){this.My.wy()},n.Sy=function(t){var n=this.My;if(!n.sy)if(t.sy)n.gy();else if(!n._y&&!t._y){var i=function(){r(),n.gy()},r=function(){t.oy(i),t.yy(r),n.oy(i),n.yy(r)};t.uy(i),t.Ay(r),n.uy(i),n.Ay(r)}},n.Ny=function(){var n=new t,i=new t,r=n.ly,e=i.ly,u=this.My,s=function(){r.sy&&e._y||e.sy&&r._y?u.gy():r._y&&e._y&&u.wy()};r.uy(s),e.uy(s),r.Ay(s),e.Ay(s),n.Sy(u),i.Sy(u);return u.Ay((function(){r.oy(s),e.oy(s),r.yy(s),e.yy(s)})),[n,i]},n[e]=function(){this.Ty()},t.Iy=function(n){for(var i=new t,r=0;r<n.length;r++){var e=n[r];void 0!==e&&i.Sy(e)}return i},Ct(t,[{key:"ly",get:function(){return this.My}}]),t}();sn(),tn();var ha=st.resolve(),fa="function"==typeof queueMicrotask?queueMicrotask:function(t){ha.then(t)};function va(t){t.then(qt,qt)}function da(t){return la.apply(this,arguments)}function la(){return la=yn((function(t){var n;return pn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,st.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,st.all(t.map((function(t){return t.catch(qt)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),la.apply(this,arguments)}function ga(t,n){return new st((function(i,r){if(void 0!==n&&n.sy)r(new qo);else{var e=Kt.Pg((function(){void 0!==n&&n.oy(u),i()}),t),u=function(){Kt.Rg(e),r(new qo)};void 0!==n&&n.uy(u)}}))}function wa(t,n){return ya.apply(this,arguments)}function ya(){return ya=yn((function(t,n){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=kn(i,new ca,!1),[4,st.race([t,ga(n,r.ly).then((function(){throw new A("Timeout")}))])];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return Mn(i),[7];case 5:return[2]}}))})),ya.apply(this,arguments)}function ma(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Aa=function(){function t(t){var n=this;this.Ey=ms(),this.Cy=void 0,this.Ly=0,this.Ds=function(t){n.yo(t)},this.jy=null!=t?t:this}var n=t.prototype;return n.yn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Dy(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Dy(r,n)}},n.Dy=function(t,n){var i=this.Ey[t];void 0===i?this.Ey[t]=n:"function"==typeof i?this.Ey[t]=[i,n]:0===this.Ly?i.push(n):this.Ey[t]=i.concat(n)},n.xy=function(t){if("function"==typeof t){var n=this.Cy;void 0===n?this.Cy=t:"function"==typeof n?this.Cy=[n,t]:0===this.Ly?n.push(t):this.Cy=n.concat(t)}},n.Bo=function(){this.Ey=ms(),this.Cy=void 0},n.yo=function(t){this.Ly++;var n=this.Ey[t.type],i=this.Cy;void 0!==n&&ma(this.jy,t,n),void 0!==i&&ma(this.jy,t,i),this.Ly--},n.fn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Oy(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Oy(r,n)}},n.Oy=function(t,n){var i=this.Ey[t];void 0!==i&&("function"==typeof i?i===n&&(this.Ey[t]=void 0):0===this.Ly?Co(i,n):this.Ey[t]=xo(i,n))},n.Ry=function(t){if("string"==typeof t)this.Ey[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ey[i]=void 0}},n.Py=function(t){var n=this.Cy;void 0!==n&&("function"==typeof n?n===t&&(this.Cy=void 0):0===this.Ly?Co(n,t):this.Cy=xo(n,t))},n.zy=function(t,n){var i=this;return new st((function(r,e){if(n&&n.sy)return e(new qo);var u=function(t){o(),r(t)},s=function(){o(),e(new qo)},o=function(){i.fn(t,u),n&&n.oy(s)};i.yn(t,u),n&&n.uy(s)}))},t}(),pa=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.yo=function(n){var i=this;fa((function(){t.prototype.yo.call(i,n)}))},n}(Aa),_a=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.xy=function(n){t.prototype.xy.call(this,n)},i.Py=function(n){t.prototype.Py.call(this,n)},n}(Aa);Q(),Nt(),St(),Q(),Nt();var ka=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};Q(),Nt();var Ma=function(t){return t.By="Uy",t.Qy="Fy",t.Yy="contentprotectionerror",t.Vy="contentprotectionsuccess",t.Gy="currentsourcechange",t.Wy="destroy",t.Zy="durationchange",t.Hy="emptied",t.Xy="encrypted",t.qy="ended",t.Ky="Jy",t.$y="ib",t.eb="sb",t.ob="hb",t.ub="loadstart",t.fb="manifestupdate",t.gb="nosupportedrepresentationfound",t._b="offline",t.vb="online",t.wb="pause",t.so="play",t.mb="progress",t.pb="ratechange",t.Ab="representationchange",t.yb="resize",t.bb="seeked",t.Mb="seeking",t.Tb="segmentnotfound",t.Sb="Nb",t.Ib="Db",t.ro="sourcechange",t.Eb="timeupdate",t.kb="volumechange",t.Lb="xb",t.Cb="jb",t.Ob="metricschange",t}({}),ba=["cenc"],Ta=["cbcs","cbcs-1-9"],Na=function(t){function n(n){var i;return(i=t.call(this,Ma.Cb)||this).Rb=n,i}return Et(n,t),n}(ka),Da=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Pb")||this).zb=n,u.Bb=i,u.Pb=r,u.Ub=e,u}return Et(n,t),n}(ka),Ia=function(t){function n(){return t.call(this,"lt")||this}return Et(n,t),n}(ka),Ea=function(t){return t.Xy="Qb",t.Fb="Yb",t}({}),Sa=function(t){function n(n,i){var r;return(r=t.call(this,"Qb")||this).GA=n,r.Vb=i,r}return Et(n,t),n}(ka),La=function(t){function n(){return t.call(this,"Yb")||this}return Et(n,t),n}(ka);Q(),Nt(),Zt(),Q(),Nt(),Q(),Nt();var Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ja=16383,xa=/[\t\n\f\r ]/g;function Oa(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:za()}function za(){throw new A("Invalid base64 input")}function Ra(t){var n=t;xa.test(n)&&(n=n.replace(xa,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return za();for(var e,u=0===r?0:4-r,s=new N(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Oa(n.charCodeAt(a))<<18|Oa(n.charCodeAt(a+1))<<12|Oa(n.charCodeAt(a+2))<<6|Oa(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Oa(n.charCodeAt(a))<<2|Oa(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Oa(n.charCodeAt(a))<<10|Oa(n.charCodeAt(a+1))<<4|Oa(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Ba(t,n,i){return Ca[t>>2]+Ca[(3&t)<<4|n>>4]+Ca[(15&n)<<2|i>>6]+Ca[63&i]}function Ua(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(Ba(t[e],t[e+1],t[e+2]));return r.join("")}function Pa(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ja)r.push(Ua(t,u,k.min(e,u+ja)));if(1===i){var s=t[n-1];r.push(Ca[s>>2]+Ca[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(Ca[o>>2]+Ca[(3&o)<<4|a>>4]+Ca[(15&a)<<2]+"=")}return r.join("")}function Qa(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Ya(t,n){var i=n.tc,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.Gb(1),(r&e)===e?1:0}function Ga(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Ya(t,n);return r}Q(),Nt(),Zt(),Q(),Nt(),Zt();var Va=function(){function t(t){void 0===t&&(t=0),this.ic=t}var n=t.prototype;return n.Gb=function(t){this.ic+=t},n.Wb=function(t){this.ic=t},n.Zb=function(){return new t(this.tc)},Ct(t,[{key:"tc",get:function(){return this.ic}}]),t}();var Fa=k.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Wa(t){if(t>=55296&&t<=57343)throw new A("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Za(t,n){return t>>n&63|128}function Xa(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Wa(t),n.push(t>>12&15|224),n.push(Za(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Za(t,12)),n.push(Za(t,6))),n.push(63&t|128)):n.push(t)}function Ha(t,n){if(n.tc>=t.length)throw new A("Invalid byte index");var i=255&t[n.tc];if(n.Gb(1),128==(192&i))return 63&i;throw new A("Invalid continuation byte")}function Ka(t,n){var i=n.tc;if(i>t.length)throw new A("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Gb(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Ha(t,n);if(e>=128)return e;throw new A("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Ha(t,n)<<6|Ha(t,n);if(u>=2048)return Wa(u),u;throw new A("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Ha(t,n)<<12|Ha(t,n)<<6|Ha(t,n);if(s>=65536&&s<=1114111)return s}throw new A("Invalid UTF-8 detected")}Q(),Nt(),Q(),Nt();var Ja=65279;var qa=[128,64,32,16,8,4,2,1],$a=function(){function t(t){this.Xb=t}return t.prototype.Hb=function(t){return tc(this.Xb,t)},t}();function tc(t,n){return(t&n)===n}function nc(t,n){return tc(t,qa[n])}function ic(t,n){var i=t.getUint8(n.tc);return n.Gb(1),i}function rc(t,n,i){t.setUint8(n.tc,i),n.Gb(1)}function ec(t,n,i){var r=Oc(Bc(t),n.tc,n.tc+i);return n.Gb(r.byteLength),r}function uc(t,n,i){Bc(t).set(Bc(i),n.tc),n.Gb(i.byteLength)}function sc(t,n,i){return n.tc+i<=t.byteLength}function oc(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=ic(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+ic(t,n);return r}(t,n,i)}function ac(t,n){var i=t.getUint8(n.tc);return n.Gb(1),i}function cc(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.tc,i);return n.Gb(2),r}function hc(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.tc,i,r),n.Gb(2)}function fc(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.tc,i);return n.Gb(4),r}function vc(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.tc,i,r),n.Gb(4)}function dc(t,n,i){void 0===i&&(i=!1);var r=fc(t,n,i),e=fc(t,n,i),u=i?e:r,s=i?r:e;return fr.fromBits(s,u,!0)}function lc(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;vc(t,n,r?u:e,r),vc(t,n,s,r)}function gc(t,n){return mc(t,n)}function wc(t,n,i){return ao(Gc(ec(t,n,i)))}function yc(t,n){var i,r=ic(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&ic(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&ic(t,n))+(63&ic(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&ic(t,n))+64*(63&ic(t,n))+(63&ic(t,n))),i}function mc(t,n){return Ac(t,n,!0)}function Ac(t,n,i){for(var r=[];n.tc<t.byteLength;){var e=ic(t,n);if(i&&!e)break;r.push(e)}return ao(r)}function pc(t,n,i){for(var r=i.length,e=0;e<r;e+=1){rc(t,n,i.charCodeAt(e))}}function _c(t,n){if(n.tc+2<=t.byteLength){var i=t.getUint8(n.tc),r=t.getUint8(n.tc+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function kc(t,n){var i=_c(t,n);return void 0!==i&&n.Gb(2),Mc(t,n,!0===i)}function Mc(t,n,i){return void 0===i&&(i=!1),bc(t,n,i,!0)}function bc(t,n,i,r){for(var e=[];n.tc+2<=t.byteLength;){var u=cc(t,n,i);if(r&&!u)break;e.push(u)}return ao(e)}function Tc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){hc(t,n,i.charCodeAt(u),r)}}function Nc(t){return Ac(Rc(t),new Vc,!1)}function Dc(t){var n=new N(t.length);return pc(Rc(n),new Vc,t),n}function Ic(t,n){return void 0===n&&(n=!1),bc(Rc(t),new Vc,n,!1)}function Ec(t,n){void 0===n&&(n=!1);var i=new N(2*t.length);return Tc(Rc(i),new Vc,t,n),i}function Sc(t,n){return n.tc+3<=t.byteLength&&(239===t.getUint8(n.tc)&&187===t.getUint8(n.tc+1)&&191===t.getUint8(n.tc+2))}function Lc(t,n){return function(t,n,i){var r=[],e=Sc(t,n);e&&n.Gb(3);for(;n.tc<t.byteLength;){var u=yc(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return oo(r)}(t,n,!0)}function Cc(t){return function(t){return oo(t)}(function(t,n){var i,r=[],e=new Vc;if(!n){if(!1===(i=Ka(t,e)))return r;i===Ja||r.push(i)}for(;!1!==(i=Ka(t,e));)r.push(i);return r}(Bc(t)))}function jc(t){return new N(function(t){for(var n=[],i=0;i<t.length;i++)Xa(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function xc(t,n){if(Sc(t,n))return Lc(t,n);if(void 0!==_c(t,n))return kc(t,n);if(n.tc+4<=t.byteLength){if(0===t.getUint8(n.tc)&&0===t.getUint8(n.tc+2))return Mc(t,n,!1);if(0===t.getUint8(n.tc+1)&&0===t.getUint8(n.tc+3))return Mc(t,n,!0)}return Lc(t,n)}function Oc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new N(t.buffer,t.byteOffset+n,i-n)}function zc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Rc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Bc(t){return new N(t.buffer,t.byteOffset,t.byteLength)}function Uc(t){return t instanceof ArrayBuffer||Xc(t)}function Pc(t){return t instanceof ArrayBuffer?new N(t):Bc(t)}function Qc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Yc(Oc(t,n,i))}function Yc(t){if(t.slice)return t.slice(0);var n=new N(t.byteLength);return n.set(t,0),n}function Gc(t){return[].slice.call(t)}var Vc=function(){function t(t){void 0===t&&(t=0),this.ic=t}var n=t.prototype;return n.Gb=function(t){this.ic+=t},n.Wb=function(t){this.ic=t},n.Zb=function(){return new t(this.tc)},n.qb=function(){return new Va(this.tc<<3)},Ct(t,[{key:"tc",get:function(){return this.ic}}]),t}();function Fc(t){var n=t.toLowerCase(),i=0,r=0;no(n,"0x")&&(n=n.substring(2));var e=new N(k.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=M(n[0],16));i<n.length;i+=2)e[r++]=M(n.substr(i,2),16);return e}function Wc(t){return.001*t}var Zc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Xc=ArrayBuffer.isView||function(t){return t&&Oo(Zc,ai.call(t))};function Hc(t,n){return t===n||t.byteLength===n.byteLength&&Kc(new N(t),new N(n))}function Kc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Jc(t,n){return t===n||Kc(Pc(t),Pc(n))}function qc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return $c(t,n)}function $c(t,n){for(var i=new N(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function th(t,n,i){var r=new N(t.byteLength+n.byteLength),e=Oc(t,0,i),u=Oc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function nh(t){return Ra(t).buffer}function ih(t){return Pa(new N(t))}function rh(t){return Pa(Dc(t))}var eh=new N([0]).buffer,uh=function(){function t(){this.Qu=[]}var n=t.prototype;return n.Jb=function(t){for(var n=0,i=this.Qu;n<i.length;n++){if(Jc(i[n][0],t))return!0}return!1},n.$b=function(t){for(var n=0,i=this.Qu;n<i.length;n++){var r=i[n];if(Jc(r[0],t))return r[1]}},n.tM=function(t,n){for(var i=0,r=this.Qu;i<r.length;i++){var e=r[i];if(Jc(e[0],t))return void(e[1]=n)}this.Qu.push([t,n])},n.iM=function(t,n){this.Qu.forEach((function(n){return t(n[1],n[0])}),n)},n.eM=function(){Ro(this.Qu)},Ct(t,[{key:"Kb",get:function(){return this.Qu.length}}]),t}();Q(),Nt(),sn();var sh=function(){function t(){var t=this;this.rM=new st((function(n,i){t.Kg=n,t.Jg=i}))}var n=t.prototype;return n.sM=function(t){this.Kg&&(this.Kg(t),this.wy())},n.nM=function(t){this.Jg&&(this.Jg(t),this.wy())},n.Ty=function(){this.rM.catch(qt),this.nM(new qo)},n.Sy=function(t){var n=this;t.then((function(t){return n.sM(t)}),(function(t){return n.nM(t)}))},n.wy=function(){this.Kg=void 0,this.Jg=void 0},t}();function oh(){return new N([8,4]).buffer}function ah(t,n){return t===js?function(t){if(t.byteLength<2*ch.length)return t;var n=new DataView(t,0,2*ch.length),i=Ic(n,!0);if(i===ch)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+ih(t)+i;return Ec(r,!0).buffer}(t)}(n):n}Q(),Nt();var ch="<PlayReady";Q(),Nt(),Q(),Nt(),St();var hh=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).oM=i,u.hM=r,u}return Et(n,t),n}(Jo);Jt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt();var fh=function(t,n){return(fh=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)_.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function vh(t,n){if("function"!=typeof n&&null!==n)throw new p("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}fh(t,n),t.prototype=null===n?_.create(n):(i.prototype=n.prototype,new i)}function dh(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt();!function(){function t(t,n){this.aM=t,this.uM=n}t.prototype.get=function(t){var n=this.aM.get(t);if(0===this.uM||void 0===n)return n;var i=this.aM.get(t+1)||0,r=n&(1<<8-this.uM)-1,e=i>>8-this.uM;return(r<<this.uM)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.aM.get(k.floor((t+this.uM)/8));if(void 0!==n)return(n&1<<7-this.uM-t%8)>0?1:0}},_.defineProperty(t.prototype,"bitLength",{get:function(){return this.aM.bitLength-this.uM},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"length",{get:function(){return this.aM.length},enumerable:!1,configurable:!0})}();Q(),Nt(),Q(),Nt();k.pow(2,-52);function lh(t,n,i){return k.min(k.max(t,n),i)}function gh(t,n){return t>>8-n}function wh(t,n){return t&(1<<n)-1}var yh=function(){function t(t){this.cM=t,this.lM=0,this.dM=0}return _.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.lM+this.dM},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"done",{get:function(){return this.lM===this.cM.length&&0===this.dM},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"location",{get:function(){return{byte:this.lM,bit:this.dM}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.cM);return n.seek(this.lM,this.dM),n},t.prototype.canReadBits=function(t){return 8*this.lM+t+this.dM<=8*this.cM.length},t.prototype.canReadBytes=function(t){return 0===this.dM?this.lM+t<=this.cM.length:this.lM+t<this.cM.length},t.prototype.incBit=function(){this.dM++,this.dM>7&&(this.lM++,this.dM=0)},t.prototype.seek=function(t,n){this.lM=t,this.dM=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new A("Cannot read past end of buffer.");return this.cM.get(this.lM)>>7-this.dM&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new A("Cannot read past end of buffer.");if(0===this.dM)return this.cM.get(this.lM++);var t=wh(this.cM.get(this.lM),8-this.dM),n=gh(this.cM.get(this.lM+1),this.dM);return this.lM++,t<<this.dM|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new A("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new A("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new A("Cannot read past end of buffer.");var n=0;if(0===this.dM&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new A("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new A("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-k.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new A("Skipping over the buffer edge is not allowed.");var n=this.dM+t;this.lM+=n>>3,this.dM=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new A("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();Q(),Nt(),Q(),Nt(),Q(),Nt();var mh=function(t,n){return t===n?0:t<n?-1:t>n?1:T(t)?T(n)?0:1:-1},Ah=function(){function t(){this.fM=[],this.gM=[],this._M=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new A("The buffer length must be positive.");if(0!==i){if(0===this.gM.length)this.gM.push(0);else{var r=this.gM[this.gM.length-1]+this.fM[this.fM.length-1].length;this.gM.push(r)}this.fM.push(t.subarray(n,n+i)),this._M+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.fM;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.fM=[],this.gM=[],this._M=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.gM[n];return this.fM[n][i]}},_.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.fM.length<1)return-1;if(this.fM.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.fM[0];return"number"==typeof t?dh(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=dh(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=k.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.gM,t,mh)},t.prototype.join=function(){if(1===this.fM.length)return this.fM[0];var t=new N(this.length);return this.copyInternal(t,0),t},_.defineProperty(t.prototype,"length",{get:function(){return this._M},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new A("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new A("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*k.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=lh(n,0,this.length),e=lh(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.fM[s],a=r,c=a-this.gM[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.gM[s],o=this.fM[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.fM.length-1,r=this.fM[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.fM[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),ph=function(){function t(n){this.vM=n||t.BUFFER_CHUNK_SIZE,this.wM=!1,this.mM=new Ah,this.cM=new N(this.vM),this.pM=0,this.AM=0,this.dM=7}return t.prototype.closeByte=function(){this.cM[this.pM++]=this.AM,this.pM>=this.vM&&this.closeBuffer(),this.AM=0,this.dM=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.pM&&(this.mM.pushRange(this.cM,0,this.pM),t&&(this.cM=new N(this.vM)),this.pM=0)},_.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.dM},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.wM)throw new A("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.wM=!0,this.mM},t.prototype.writeBit=function(t){if(this.wM)throw new A("Cannot write to a closed BitWriter.");this.AM|=t<<this.dM,0===this.dM?this.closeByte():this.dM--},t.prototype.writeByte=function(t){if(this.wM)throw new A("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.AM=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.dM;this.AM|=gh(t,n+1),this.closeByte(),this.AM=wh(t,8-n)<<n+1,this.dM=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.wM)throw new A("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.pM+t.length<=this.vM?(this.cM.set(t,this.pM),this.pM+=t.length,this.pM===this.vM&&this.closeBuffer()):(this.closeBuffer(),this.mM.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.dM;this.AM|=gh(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=wh(t[i-1],8-n),e=gh(t[i],n+1);this.AM=r<<n+1|e,this.closeByte()}this.AM=wh(t[t.length-1],8-n)<<n+1,this.dM=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new A("Received a negative number.");if(n>32)throw new A("The max bitlength that can be provided is 32.");if(t>=k.pow(2,n))throw new A("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new A("The max bitlength that can be provided is 32.");if(k.abs(t)>=k.pow(2,n-1))throw new A("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+k.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new A("Received a negative number.");for(var n=k.floor(k.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new N(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();Q(),Nt();var _h=function(){function t(t){this.rb=new Ah,this.o_=t}return t.prototype.closeWriter=function(){void 0!==this.o_&&(this.rb=this.rb.concat(this.o_.close()),this.o_=void 0)},_.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.o_&&(this.o_=new ph),this.o_},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),kh=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new A("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(k.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new _h;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=k.pow(2,32),t}();function Mh(t,n){return t instanceof fr?64===n:t<k.pow(2,n)}function bh(t,n){return k.round(t*k.pow(2,n))}function Th(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Nh(t,n){return t/k.pow(2,n)}Q(),Nt();var Dh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Mh(i,8))throw new A("the provided version cannot fit in 8 bits.");return e.flags=r,e}return vh(n,t),_.defineProperty(n.prototype,"flags",{get:function(){return this.Lv},set:function(t){this.Lv=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new A("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(kh);Q(),Nt(),Q(),Nt();var Ih=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return vh(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Ah.from(this.data))},n}(kh);Q(),Nt(),Q(),Nt();var Eh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();Q(),Nt();var Sh=16384;function Lh(t){var n=t.length;if(n<=Sh)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Sh)i.push(String.fromCharCode.apply(String,t.slice(r,r+Sh)));return i.join("")}var Ch=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function jh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function xh(t,n,i){var r=Qh(Vh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Oh(t,n,i){return n.offset+i<=t.byteLength}function zh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function Rh(t,n,i){void 0===i&&(i=!1);var r=zh(t,n,i),e=zh(t,n,i),u=i?e:r,s=i?r:e;return fr.fromBits(s,u,!0)}function Bh(t,n,i){return Lh(function(t){return[].slice.call(t)}(xh(t,n,i)))}function Uh(t,n){var i,r=jh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&jh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&jh(t,n))+(63&jh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&jh(t,n))+64*(63&jh(t,n))+(63&jh(t,n))),i}function Ph(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=Uh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Lh(n)}(r)}(t,n,!0)}function Qh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new N(t.buffer,t.byteOffset+n,i-n)}function Yh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Gh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vh(t){return new N(t.buffer,t.byteOffset,t.byteLength)}var Fh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Eh(this.offset<<3)},t}();Q(),Nt();var Wh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return jh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return zh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=zh(t,n,i),e=zh(t,n,i),u=i?e:r,s=i?r:e;return fr.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Rh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return xh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(zh(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Bh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ph(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Zh(t,n){return t.type===n}var Xh=8;function Hh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Kh(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new A("Data incomplete");return n.boxes}function Kh(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!Oh(t,n,Xh)){return{complete:!1,neededOffset:u=n.offset+Xh}}var r=zh(t,n),e=Bh(t,n,4);if(1===r){if(!Oh(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=Rh(t,n).toNumber()}if("uuid"===e){if(!Oh(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=Bh(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Wh(Yh(t,i,s),new Fh(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Jh(t){return{version:t>>24,flags:new Ch(16777215&t)}}function qh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function $h(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function tf(t){var n=t.nextUint32Array(9);return{a:Nh(n[0],16),b:Nh(n[1],16),u:Nh(n[2],30),c:Nh(n[3],16),d:Nh(n[4],16),v:Nh(n[5],30),x:Nh(n[6],16),y:Nh(n[7],16),w:Nh(n[8],30)}}function nf(t){return new Ih(t.type,Qh(Vh(t.data.data),t.data.cursor.offset))}var rf=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return vh(n,t),_.defineProperty(n.prototype,"handlerType",{get:function(){return this.yM},set:function(t){this.yM=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Dh);function ef(t){var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new rf(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}vh(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(rf);Q(),Nt(),Q(),Nt(),Q(),Nt();var uf=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},_.defineProperty(t.prototype,"tag",{get:function(){return this.bM},set:function(t){if(!Mh(t,8))throw new A("Provided tag does not fit in 8 bits.");this.bM=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();Q(),Nt();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}vh(n,t),_.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.MM},set:function(t){if(!Mh(t,8))throw new A("Provided objectTypeIndication does not fit in 8 bits.");this.MM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"streamType",{get:function(){return this.TM},set:function(t){if(!Mh(t,6))throw new A("Provided streamType does not fit in 6 bits.");this.TM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.SM},set:function(t){if(!Mh(t,24))throw new A("Provided bufferSizeDb does not fit in 24 bits.");this.SM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.NM},set:function(t){if(!Mh(t,32))throw new A("Provided maxBitrate does not fit in 32 bits.");this.NM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.IM},set:function(t){if(!Mh(t,32))throw new A("Provided avgBitrate does not fit in 32 bits.");this.IM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(uf);Q(),Nt();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}vh(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Ah.from(this.data))}}(uf);Q(),Nt(),Q(),Nt();var sf=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return vh(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(uf);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new sf(e.fixed28BitMode),u}vh(n,t),_.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"esId",{get:function(){return this.DM},set:function(t){if(!Mh(t,16))throw new A("Provided esId does not fit in 16 bits.");this.DM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"streamPriority",{get:function(){return this.EM},set:function(t){if(!Mh(t,5))throw new A("Provided streamPriority does not fit in 5 bits.");this.EM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.kM},set:function(t){if(t&&!Mh(t,16))throw new A("Provided dependsOnEsId does not fit in 16 bits.");this.kM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.LM},set:function(t){if(t&&!Mh(t,16))throw new A("Provided ocrEsId does not fit in 16 bits.");this.LM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(uf);Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt();var of=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return vh(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(kh),af=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return vh(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(of),cf=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return vh(n,t),_.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.xM},set:function(t){if(!Mh(t,16))throw new A("Provided dataReferenceIndex does not fit in 16 bits.");this.xM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(af),hf=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return vh(n,t),_.defineProperty(n.prototype,"channelCount",{get:function(){return this.CM},set:function(t){if(!Mh(t,16))throw new A("Provided channelCount does not fit in 16 bits.");this.CM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleSize",{get:function(){return this.jM},set:function(t){if(!Mh(t,16))throw new A("Provided sampleSize does not fit in 16 bits.");this.jM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleRate",{get:function(){return this.OM},set:function(t){if(!Mh(bh(t,16),32))throw new A("Provided rate does not fit in 32 bits (fixed 16.16).");this.OM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(bh(this.sampleRate,16),32),this.extra&&Th(n.writer,this.extra)},n}(cf);Q(),Nt();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}vh(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Mh(t.length,32))throw new A("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Mh(t,32)})))throw new A("Not all entries can be represented in 32 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Dh);Q(),Nt();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}vh(n,t),_.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.PM},set:function(t){if(!Mh(t,32))throw new A("Provided cleanApertureWidthN does not fit in 32 bits.");this.PM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zM},set:function(t){if(!Mh(t,32))throw new A("Provided cleanApertureWidthD does not fit in 32 bits.");this.zM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.BM},set:function(t){if(!Mh(t,32))throw new A("Provided cleanApertureHeightN does not fit in 32 bits.");this.BM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.UM},set:function(t){if(!Mh(t,32))throw new A("Provided cleanApertureHeightD does not fit in 32 bits.");this.UM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"horizOffN",{get:function(){return this.QM},set:function(t){if(!Mh(t,32))throw new A("Provided horizOffN does not fit in 32 bits.");this.QM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"horizOffD",{get:function(){return this.FM},set:function(t){if(!Mh(t,32))throw new A("Provided horizOffD does not fit in 32 bits.");this.FM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"vertOffN",{get:function(){return this.YM},set:function(t){if(!Mh(t,32))throw new A("Provided vertOffN does not fit in 32 bits.");this.YM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"vertOffD",{get:function(){return this.VM},set:function(t){if(!Mh(t,32))throw new A("Provided vertOffD does not fit in 32 bits.");this.VM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(kh);Q(),Nt();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}vh(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Mh(t.length,32))throw new A("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Mh(t.sampleCount,32)||!Mh(t.sampleOffset,32)})))throw new A("Not all entries can be represented in 64 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(Dh);Q(),Nt();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}vh(n,t),_.defineProperty(n.prototype,"location",{get:function(){return this.GM},set:function(t){this.flags=void 0===t?1:0,this.GM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Dh);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}vh(n,t),_.defineProperty(n.prototype,"location",{get:function(){return this.GM},set:function(t){if(1&this.flags)throw new A("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.GM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Dh);Q(),Nt();!function(t){function n(){return t.call(this,"dinf")||this}vh(n,t)}(af);Q(),Nt(),Q(),Nt();var ff=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Mh(i,8))throw new A("the provided version cannot fit in 8 bits.");return e.flags=r,e}return vh(n,t),_.defineProperty(n.prototype,"flags",{get:function(){return this.Lv},set:function(t){this.Lv=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new A("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(of);!function(t){function n(){return t.call(this,"dref",0,0)||this}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ff);Q(),Nt(),Q(),Nt();var vf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Mh(r.segmentDuration,this.bitSize))throw new A("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Mh(r.mediaTime,this.bitSize))throw new A("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Mh(r.mediaRateInteger,16))throw new A("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!Mh(r.mediaRateFraction,16))throw new A("Provided mediaRateFraction does not fit in 16 bits.")}this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Dh),df=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return vh(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(vf),lf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return vh(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(vf);function gf(t){for(var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new df(s,e.raw):new lf(s,e.raw)}var wf=function(t){function n(){return t.call(this,"edts")||this}return vh(n,t),n}(af);function yf(t){for(var n=new wf,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"elst")?n.boxes.push(gf(e)):n.boxes.push(nf(e))}return n}Q(),Nt(),Q(),Nt();var mf=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return vh(n,t),_.defineProperty(n.prototype,"majorBrand",{get:function(){return this.WM},set:function(t){if(4!==t.length)throw new A("the provided major brand does not conform to the 4 character requirement");this.WM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ZM},set:function(t){if(!Mh(t,32))throw new A("the provided minor version does not fit in 32 bits.");this.ZM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.HM},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new A("Some of the compatible brands do not conform to the 4 character requirement");this.HM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(kh),Af=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return vh(n,t),n}(mf);function pf(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Af(i,r,e)}Q(),Nt();var _f=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return vh(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Ah.from(this.data))},n}(kh);Q(),Nt(),Q(),Nt();var kf=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return vh(n,t),_.defineProperty(n.prototype,"creationTime",{get:function(){return this.XM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.XM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"modificationTime",{get:function(){return this.qM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.qM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Mh(t,32))throw new A("Provided sequence number does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"duration",{get:function(){return this.JM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.JM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"language",{get:function(){return this.$M},set:function(t){if(!Nf(t))throw new A("Expected an ISO-639-2/T language code");this.$M=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Dh),Mf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return vh(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(kf),bf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return vh(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(kf);function Tf(t){var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags,u=qh(n,r),s=new yh(Ah.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return Nf(c)||(c="und"),n.skip(2),0===r?new Mf(u,c,e.raw):new bf(u,c,e.raw)}function Nf(t){return/^[a-z]{3}$/.test(t)}var Df=function(t){function n(){return t.call(this,"mdia")||this}return vh(n,t),n}(af);function If(t){for(var n=new Df,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"mdhd")?n.boxes.push(Tf(e)):Zh(e,"hdlr")?n.boxes.push(ef(e)):n.boxes.push(nf(e))}return n}Q(),Nt();var Ef=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Ah,n}return vh(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(kh);function Sf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new Ef;return r.data.pushRange(i),r}Q(),Nt();!function(t){function n(){return t.call(this,"minf")||this}vh(n,t)}(af);Q(),Nt();var Lf;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(ff);Q(),Nt(),Q(),Nt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Lf||(Lf={})),Q(),Nt();var Cf,jf,xf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Of(t,n){n.writer.writeUInt(bh(t.a,16),32),n.writer.writeUInt(bh(t.b,16),32),n.writer.writeUInt(bh(0,30),32),n.writer.writeUInt(bh(t.c,16),32),n.writer.writeUInt(bh(t.d,16),32),n.writer.writeUInt(bh(0,30),32),n.writer.writeUInt(bh(t.x,16),32),n.writer.writeUInt(bh(t.y,16),32),n.writer.writeUInt(bh(1,30),32)}function zf(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Cf.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:jf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:jf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:jf.UNKNOWN,2)}function Rf(t,n){var i,r,e;n.writer.writeUInt(0,4),zf(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}Q(),Nt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Cf||(Cf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(jf||(jf={})),Q(),Nt(),Q(),Nt();var Bf=function(){};Q(),Nt(),Q(),Nt(),Q(),Nt();var Uf=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return vh(n,t),_.defineProperty(n.prototype,"systemId",{get:function(){return this.tT},set:function(t){if(16!==t.length)throw new A("Provided systemId length is not 16.");this.tT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"data",{get:function(){return this.Xp},set:function(t){if(!Mh(t.length,32))throw new A("Provided data length does not fit in 32 bits.");this.Xp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Ah.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Ah.from(this.data))},n}(Dh),Pf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return vh(n,t),n}(Uf),Qf=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return vh(n,t),_.defineProperty(n.prototype,"kIds",{get:function(){return this.iT},set:function(t){if(!Mh(t.length,32))throw new A("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new A("Not all provided key ids are 16 bytes long.");this.iT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(Ah.from(r))}},n}(Uf);function Yf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Qf(i,o,r):new Pf(i,o)}Q(),Nt(),Q(),Nt();var Gf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.eT},set:function(t){if(!Mh(t,this.bitSize))throw new A("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.eT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Dh),Vf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return vh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Gf),Ff=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return vh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Gf);function Wf(t){var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Vf(n.nextUint32(),e.raw):new Ff(n.nextUint64(),e.raw)}Q(),Nt();var Zf=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return vh(n,t),_.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(!Mh(t,32))throw new A("Provided track id does not fit in 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.nT},set:function(t){if(!Mh(t,32))throw new A("Provided default sample description index does not fit in 32 bits.");this.nT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.rT},set:function(t){if(!Mh(t,32))throw new A("Provided default sample duration does not fit in 32 bits.");this.rT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.oT},set:function(t){if(!Mh(t,32))throw new A("Provided default sample size does not fit in 32 bits.");this.oT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.hT},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Mh(t.samplePaddingValue,3))throw new A("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Mh(t.sampleDegradationPriority,16))throw new A("Provided sample degradation priority does not fit in 16 bits.");this.hT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Rf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Dh);function Xf(t){var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=$h(new yh(Ah.from(n.nextUint8Array(4))));return new Zf(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var Hf=function(t){function n(){return t.call(this,"mvex")||this}return vh(n,t),n}(af);function Kf(t){for(var n=new Hf,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"mehd")?n.boxes.push(Wf(e)):Zh(e,"trex")?n.boxes.push(Xf(e)):n.boxes.push(nf(e))}return n}Q(),Nt();var Jf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:xf,h.aT=r,h}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"creationTime",{get:function(){return this.XM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.XM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"modificationTime",{get:function(){return this.qM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.qM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Mh(t,32))throw new A("Provided sequence number does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"duration",{get:function(){return this.JM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.JM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"rate",{get:function(){return this.uT},set:function(t){if(!Mh(bh(t,16),32))throw new A("Provided rate does not fit in 32 bits (fixed 16.16).");this.uT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"volume",{get:function(){return this.cT},set:function(t){if(!Mh(bh(t,8),16))throw new A("Provided volume does not fit in 16 bits (fixed 8.8).");this.cT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"matrix",{get:function(){return this.lT},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new A("(u, v, w) does not match the required (0, 0, 1)");this.lT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.aT},set:function(t){if(0===t)throw new A("NextTrackId cannot be 0.");if(!Mh(t,32))throw new A("NextTrackId cannot exceed 32 bits.");this.aT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(bh(this.rate,16),32),n.writer.writeUInt(bh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Of(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Dh),qf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return vh(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Jf),$f=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return vh(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Jf);function nv(t){var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags,u=qh(n,r),s=Nh(n.nextUint32(),16),o=Nh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=tf(n);n.skip(24);var c=n.nextUint32();return 0===r?new qf(u,c,{rate:s,volume:o,matrix:a},e.raw):new $f(u,c,{rate:s,volume:o,matrix:a},e.raw)}Q(),Nt(),Q(),Nt();var iv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:xf,f}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"creationTime",{get:function(){return this.XM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.XM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"modificationTime",{get:function(){return this.qM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.qM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(0===t)throw new A("trackId cannot be 0.");if(!Mh(t,32))throw new A("trackId cannot exceed 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"duration",{get:function(){return this.JM},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.JM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"volume",{get:function(){return this.cT},set:function(t){if(!Mh(bh(t,8),16))throw new A("Provided volume does not fit in 16 bits (fixed 8.8).");this.cT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"width",{get:function(){return this.dT},set:function(t){if(!Mh(bh(t,16),32))throw new A("Provided width does not fit in 32 bits (fixed 16.16).");this.dT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"height",{get:function(){return this.fT},set:function(t){if(!Mh(bh(t,16),32))throw new A("Provided height does not fit in 32 bits (fixed 16.16).");this.fT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"layer",{get:function(){return this.gT},set:function(t){if(!Mh(t,16))throw new A("Provided layer does not fit in 16 bits.");this.gT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"alternateGroup",{get:function(){return this._T},set:function(t){if(!Mh(t,16))throw new A("Provided alternateGroup does not fit in 16 bits.");this._T=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"matrix",{get:function(){return this.lT},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new A("(u, v, w) does not match the required (0, 0, 1)");this.lT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(bh(this.volume,8),16),n.writer.writeUInt(0,16),Of(this.matrix,n),n.writer.writeUInt(bh(this.width,16),32),n.writer.writeUInt(bh(this.height,16),32)},n}(Dh),rv=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return vh(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(iv),ev=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return vh(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(iv);function uv(t){var n,i,r,e,u=t.data,s=Jh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),g=Nh(u.nextInt16(),8);u.skip(2);var w=tf(u),y=Nh(u.nextUint32(),16),m=Nh(u.nextUint32(),16);return 0===o?new rv({creation:n,modification:i,duration:e},r,g,y,m,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new ev({creation:n,modification:i,duration:e},r,g,y,m,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var sv=function(t){function n(){return t.call(this,"trak")||this}return vh(n,t),n}(af);function ov(t){for(var n=new sv,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"tkhd")?n.boxes.push(uv(e)):Zh(e,"mdia")?n.boxes.push(If(e)):Zh(e,"edts")?n.boxes.push(yf(e)):n.boxes.push(nf(e))}return n}var av=function(t){function n(){return t.call(this,"moov")||this}return vh(n,t),n}(af);function cv(t){for(var n=new av,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"mvhd")?n.boxes.push(nv(e)):Zh(e,"trak")?n.boxes.push(ov(e)):Zh(e,"mvex")?n.boxes.push(Kf(e)):Zh(e,"pssh")?n.boxes.push(Yf(e)):n.boxes.push(nf(e))}return n}Q(),Nt(),Q(),Nt(),Q(),Nt();var hv=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.vT},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.vT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Dh),fv=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return vh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(hv),vv=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return vh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(hv);function dv(t){var n=t.data,i=Jh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new fv(n.nextUint32(),e.raw):new vv(n.nextUint64(),e.raw)}Q(),Nt();var lv=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return vh(n,t),_.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(!Mh(t,32))throw new A("Provided track id does not fit in 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.wT},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new A("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new A("The base data offset present flag is not set.");if(t&&!Mh(t,64))throw new A("Provided baseDataOffset does not fit in 32 bits.");this.wT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.mT},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new A("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new A("The sample description index flag is not set.");if(t&&!Mh(t,32))throw new A("Provided sampleDescriptionIndex does not fit in 32 bits.");this.mT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.rT},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new A("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new A("The default sample duration present flag is not set.");if(t&&!Mh(t,32))throw new A("Provided defaultSampleDuration does not fit in 32 bits.");this.rT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.oT},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new A("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new A("The default sample size present flag is not set.");if(t&&!Mh(t,32))throw new A("Provided defaultSampleSize does not fit in 32 bits.");this.oT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.hT},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new A("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new A("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Mh(t.samplePaddingValue,3))throw new A("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Mh(t.sampleDegradationPriority,16))throw new A("Provided sample degradation priority does not fit in 16 bits.");this.hT=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Rf(this.defaultSampleFlags,n)},n}(Dh);function gv(t){var n=t.data,i=n.nextUint8(),r=new yh(Ah.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,w=s?$h(new yh(Ah.from(n.nextUint8Array(4)))):void 0;return new lv({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:g,defaultSampleFlags:w},i)}Q(),Nt();var wv=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return vh(n,t),_.defineProperty(n.prototype,"dataOffset",{get:function(){return this.pT},set:function(t){if(t&&!Mh(t,32))throw new A("Provided data offset does not fit in 32 bits.");this.pT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.AT},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Mh(t.samplePaddingValue,3))throw new A("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Mh(t.sampleDegradationPriority,16))throw new A("Provided sample degradation priority does not fit in 16 bits.");this.AT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"samples",{get:function(){return this.yT},set:function(t){var n,i;if(!Mh(t.length,32))throw new A("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new A("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new A("The sample duration present flag is not set.");if(u.duration&&!Mh(u.duration,32))throw new A("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new A("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new A("The sample size present flag is not set.");if(u.size&&!Mh(u.size,32))throw new A("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new A("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new A("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Mh(u.flags.samplePaddingValue,3))throw new A("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Mh(u.flags.sampleDegradationPriority,16))throw new A("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new A("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new A("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Mh(u.compositionTimeOffset,32))throw new A("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.yT=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Rf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&Rf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(Dh);function yv(t){var n=t.data,i=n.nextUint8(),r=new yh(Ah.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=$h(new yh(Ah.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=$h(new yh(Ah.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new wv(i,f,v)}var mv=function(t){function n(){return t.call(this,"traf")||this}return vh(n,t),n}(af);function Av(t){for(var n=new mv,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"tfhd")?n.boxes.push(gv(e)):Zh(e,"tfdt")?n.boxes.push(dv(e)):Zh(e,"trun")?n.boxes.push(yv(e)):n.boxes.push(nf(e))}return n}var pv=function(t){function n(){return t.call(this,"moof")||this}return vh(n,t),n}(af);function _v(t){for(var n=new pv,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Zh(e,"traf")?n.boxes.push(Av(e)):Zh(e,"pssh")?n.boxes.push(Yf(e)):n.boxes.push(nf(e))}return n}Q(),Nt();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}vh(n,t),_.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.bT},set:function(t){if(!Mh(t,32))throw new A("Provided sequence number does not fit in 32 bits.");this.bT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Dh);Q(),Nt();var kv=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return vh(n,t),_.defineProperty(n.prototype,"codingName",{get:function(){return this.MT},set:function(t){if(4!==t.length)throw new A("Provided coding name was not 4 characters long.");this.MT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(kh);Q(),Nt();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}vh(n,t),_.defineProperty(n.prototype,"hSpacing",{get:function(){return this.TT},set:function(t){if(!Mh(t,32))throw new A("Provided hSpacing does not fit in 32 bits.");this.TT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"vSpacing",{get:function(){return this.ST},set:function(t){if(!Mh(t,32))throw new A("Provided vSpacing does not fit in 32 bits.");this.ST=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(kh);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}vh(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(af);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new kv(n),e}vh(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(kh);Q(),Nt();var Mv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){var n=this;if(!Mh(t.length,32))throw new A("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Mh(t,n.bitSize)})))throw new A("Not all provided entries fit in ".concat(this.bitSize," bits."));this.RM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.NT},set:function(t){if(void 0===t)this.flags=0;else{if(!Mh(t.auxInfoType,32))throw new A("Provided auxInfoType does not fit in 32 bits.");if(!Mh(t.auxInfoTypeParameter,32))throw new A("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.NT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Dh);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}vh(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(Mv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}vh(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(Mv);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}vh(n,t),_.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.IT},set:function(t){if(!Mh(t,8))throw new A("Provided defaultSampleInfoSize does not fit in a single byte.");this.IT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.DT},set:function(t){if(!Mh(t.length,32))throw new A("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Mh(t,8)})))throw new A("Not all provided sampleInfoSizes fit in a byte.");this.DT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.NT},set:function(t){if(void 0===t)this.flags=0;else{if(!Mh(t.auxInfoType,32))throw new A("Provided auxInfoType does not fit in 32 bits.");if(!Mh(t.auxInfoTypeParameter,32))throw new A("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.NT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new A("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(Dh);Q(),Nt();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){zf(r[i],n)}}}(Dh);Q(),Nt();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ff);Q(),Nt();var bv=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return vh(n,t),_.defineProperty(n.prototype,"groupingType",{get:function(){return this.ET},set:function(t){if(4!==t.length)throw new A("The provided groupingType does not equal 4 characters.");this.ET=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Dh);(function(t){function n(n,i){return t.call(this,0,n,i)||this}vh(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(bv),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}vh(n,t),_.defineProperty(n.prototype,"defaultLength",{get:function(){return this.kT},set:function(t){if(!Mh(t,32))throw new A("The provided defaultLength does not fit in 32 bits.");this.kT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(bv),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new A("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}vh(n,t),_.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.nT},set:function(t){if(!Mh(t,32))throw new A("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.nT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(bv);Q(),Nt();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}vh(n,t),_.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.LT},set:function(t){if(!Mh(t.length,32))throw new A("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Mh(t,32)})))throw new A("Not all sampleSizes can be represented in 32 bits.");this.LT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(Dh),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}vh(n,t),_.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.oT},set:function(t){if(!Mh(t,32))throw new A("Provided defaultSampleSize does not fit in 32 bits.");this.oT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"samples",{get:function(){return this.yT},set:function(t){if(!Mh(t,32))throw new A("Number of allowed samples cannot fit in 32 bits.");this.yT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Dh);Q(),Nt();!function(t){function n(){return t.call(this,"stbl")||this}vh(n,t)}(af);Q(),Nt();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}vh(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Mh(t.length,32))throw new A("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Mh(t.firstChunk,32)||!Mh(t.sampleDescriptionIndex,32)||!Mh(t.samplesPerChunk,32)})))throw new A("Not all entries can be represented in 96 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(Dh);Q(),Nt();!function(t){function n(){return t.call(this,"schi")||this}vh(n,t)}(af);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}vh(n,t),_.defineProperty(n.prototype,"schemeType",{get:function(){return this.xT},set:function(t){if(4!==t.length)throw new A("The provided schemeType does not have a length of 4.");this.xT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.CT},set:function(t){if(!Mh(t,32))throw new A("The provided schemeVersion does not fit in 23 bits.");this.CT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"schemeUri",{get:function(){return this.jT},set:function(t){if(t&&4!==t.length)throw new A("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.jT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Dh);Q(),Nt();var Tv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return vh(n,t),_.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"referenceId",{get:function(){return this.OT},set:function(t){if(!Mh(t,32))throw new A("Provided referenceId does not fit in 32 bits.");this.OT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Mh(t,32))throw new A("Provided timescale does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.PT},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.PT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"firstOffset",{get:function(){return this.zT},set:function(t){if(!Mh(t,this.bitSize))throw new A("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.zT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"references",{get:function(){return this.BT},set:function(t){if(!Mh(t.length,16))throw new A("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Mh(r.referencedSize,31))throw new A("Provided referenced size does not fit in 31 bits.");if(!Mh(r.subsegmentDuration,32))throw new A("Provided subsegment duration does not fit in 31 bits.");if(!Mh(r.sapType,3))throw new A("Provided SAP type does not fit in 3 bits.");if(!Mh(r.sapDeltaTime,28))throw new A("Provided SAP delta time does not fit in 28 bits.")}this.BT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(Dh),Nv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return vh(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Tv),Dv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return vh(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Tv);Q(),Nt();var Iv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return vh(n,t),n}(mf);function Ev(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Iv(i,r,e)}Q(),Nt();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}vh(n,t),_.defineProperty(n.prototype,"balance",{get:function(){return this.UT},set:function(t){if(t<-1||t>1)throw new A("Provided balance does not fit in the allowed range [-1, 1].");if(!Mh(bh(t,8),16))throw new A("Provided balance does not fit in 16 bits (fixed 8.8).");this.UT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(bh(this.balance,8),16),n.writer.writeUInt(0,16)}}(Dh);Q(),Nt();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}vh(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Mh(t.length,32))throw new A("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Mh(t,32)})))throw new A("Not all entries can be represented in 32 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Dh);Q(),Nt();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}vh(n,t),_.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Mh(t.length,32))throw new A("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Mh(t.sampleCount,32)||!Mh(t.sampleDelta,32)})))throw new A("Not all entries can be represented in 64 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(Dh);Q(),Nt();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}vh(n,t),_.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(!Mh(t,32))throw new A("The provided trackId does not fit in 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(ff);Q(),Nt();!function(t){function n(){return t.call(this,"udta")||this}vh(n,t)}(af);Q(),Nt();var Sv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Sv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}vh(n,t),_.defineProperty(n.prototype,"opColor",{get:function(){return this.QT},set:function(t){if(!Mh(t.red,16)||!Mh(t.green,16)||!Mh(t.blue,16))throw new A("Not all colors could be represented in 16 bits.");this.QT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Dh);Q(),Nt();var Lv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return vh(n,t),_.defineProperty(n.prototype,"width",{get:function(){return this.dT},set:function(t){if(!Mh(t,16))throw new A("Provided width does not fit in 16 bits.");this.dT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"height",{get:function(){return this.fT},set:function(t){if(!Mh(t,16))throw new A("Provided height does not fit in 16 bits.");this.fT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.FT},set:function(t){if(!Mh(bh(t,16),32))throw new A("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.FT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.YT},set:function(t){if(!Mh(bh(t,16),32))throw new A("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.YT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"compressorName",{get:function(){return this.VT},set:function(t){if(t.length>31)throw new A("The provided compressorName should at most be 31 characters long.");this.VT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"frameCount",{get:function(){return this.GT},set:function(t){if(!Mh(t,16))throw new A("Provided frameCount does not fit in 16 bits.");this.GT=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"depth",{get:function(){return this.WT},set:function(t){if(!Mh(t,16))throw new A("Provided depth does not fit in 16 bits.");this.WT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(bh(this.horizontalResolution,16),32),n.writer.writeUInt(bh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Th(n.writer,this.extra)},n}(cf);Q(),Nt(),Q(),Nt();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof N?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof N?n.concat(Ah.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Dh);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(hf);Q(),Nt();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Lv);Q(),Nt();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}vh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(cf);Q(),Nt(),Q(),Nt();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}vh(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(kh);Q(),Nt();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}_.defineProperty(t.prototype,"version",{get:function(){return this.ZT},set:function(t){if(!Mh(t,8))throw new A("Provided version does not fit in 8 bits.");this.ZT=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileIndication",{get:function(){return this.HT},set:function(t){if(!Mh(t,8))throw new A("Provided profileIndication does not fit in 8 bits.");this.HT=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.XT},set:function(t){if(!Mh(t,8))throw new A("Provided profileCompatibility does not fit in 8 bits.");this.XT=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"levelIndication",{get:function(){return this.qT},set:function(t){if(!Mh(t,8))throw new A("Provided levelIndication does not fit in 8 bits.");this.qT=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"spsSets",{get:function(){return this.KT},set:function(t){if(!Mh(t.length,5))throw new A("Provided number of spsSets exceeds the max (32)");this.KT=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"ppsSets",{get:function(){return this.JT},set:function(t){if(!Mh(t.length,8))throw new A("Provided number of ppsSets exceeds the max (256)");this.JT=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(Ah.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(Ah.from(s))}}}();Q(),Nt();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}vh(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Lv);Q(),Nt();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}vh(n,t),_.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.SM},set:function(t){if(!Mh(t,32))throw new A("Provided bufferSizeDb does not fit in 32 bits.");this.SM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"max",{get:function(){return this.Kv},set:function(t){if(!Mh(t,32))throw new A("Provided max does not fit in 32 bits.");this.Kv=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"avg",{get:function(){return this.$T},set:function(t){if(!Mh(t,32))throw new A("Provided avg does not fit in 32 bits.");this.$T=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(kh);Q(),Nt(),Q(),Nt(),Q(),Nt();var Cv=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new A("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new N(0),o}return vh(n,t),_.defineProperty(n.prototype,"isProtected",{get:function(){return this.tS},set:function(t){if(!Mh(t,8))throw new A("Provided isProtected does not fit in 1 byte.");this.tS=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.iS},set:function(t){if(![8,16].includes(t))throw new A("Provided perSampleIvSize does not match any allowed value [8, 16].");this.iS=t,this.eS=new N(0)},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"kId",{get:function(){return this.sS},set:function(t){if(16!==t.length)throw new A("Provided kId length is not 16.");this.sS=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"constantIv",{get:function(){return this.eS},set:function(t){if(![8,16].includes(t.length))throw new A("Provided constant IV length does not match any allowed value [8, 16].");this.eS=t,this.iS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Th(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Th(t.writer,this.constantIv))},n}(Dh),jv=(function(t){function n(n){return t.call(this,0,n)||this}vh(n,t)}(Cv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return vh(n,t),_.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.nS},set:function(t){if(!Mh(t,4))throw new A("Provided cryptByteBlocks does not fit in 4 bits.");this.nS=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.rS},set:function(t){if(!Mh(t,4))throw new A("Provided skipByteBlocks does not fit in 4 bits.");this.rS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Cv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new jv(n),i}vh(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Bf);function xv(t){return void 0!==t.iv}function Ov(t){return void 0!==t.subsamples}Q(),Nt();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}vh(n,t),_.defineProperty(n.prototype,"samples",{get:function(){return this.yT},set:function(t){var n;if(!Mh(t.length,32))throw new A("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(xv(e)&&![8,16].includes(e.iv.length))throw new A("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Ov(e)),!0===n&&!Ov(e)||!1===n&&Ov(e))throw new A("Mix of samples with and without subsamples detected.");if(Ov(e)){if(!Mh(e.subsamples.length,16))throw new A("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!Mh(o.clearData,16))throw new A("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Mh(o.protectedData,23))throw new A("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.yT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];xv(e)&&(n+=e.iv.length),Ov(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(xv(e)&&Th(n.writer,e.iv),Ov(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Dh);Q(),Nt(),Q(),Nt();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}vh(n,t),_.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Mh(t,32))throw new A("The provided timescale does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.oS},set:function(t){if(!Mh(t,32))throw new A("The provided presentationTimeDelta does not fit in 32 bits.");this.oS=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"eventDuration",{get:function(){return this.hS},set:function(t){if(!Mh(t,32))throw new A("The provided eventDuration does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),_.defineProperty(n.prototype,"id",{get:function(){return this.aS},set:function(t){if(!Mh(t,32))throw new A("The provided id does not fit in 32 bits.");this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Ah.from(this.data))}}(Dh);Q(),Nt(),Q(),Nt(),Q(),Nt();var zv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new _h,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function Rv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Kh(i,r);if(!e.complete)return;if(Zh(e.box,n))return e.box}}(new Wh(Gh(i),new Fh),t);if(!r)throw new A("".concat(t," box not found"));return n(r)}}var Bv=Rv("moov",cv),Uv=Rv("sidx",(function(t){var n,i,r=t.data,e=Jh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new yh(Ah.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),g=v.readUInt(32),w=Boolean(v.readBit()),y=v.readUInt(3),m=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:g,startsWithSap:w,sapType:y,sapDeltaTime:m})}return 0===u?new Nv(o,a,n,i,h,s.raw):new Dv(o,a,n,i,h,s.raw)})),Pv=Rv("moof",_v),Qv=Rv("pssh",Yf);function Yv(t){return function(t){for(var n=new zv,i=0,r=Hh(t);i<r.length;i++){var e=r[i];Zh(e,"ftyp")?n.boxes.push(pf(e)):Zh(e,"styp")?n.boxes.push(Ev(e)):Zh(e,"moov")?n.boxes.push(cv(e)):Zh(e,"moof")?n.boxes.push(_v(e)):Zh(e,"mdat")?n.boxes.push(Sf(e)):n.boxes.push(nf(e))}return n}(new Wh(Gh(t),new Fh))}var Gv=function(t){function n(n,i){var r;(r=t.call(this)||this).lS=n,r.yS=i,r.gS=!1,r.bS=function(){r.mS()},r.um=function(t){r.yo(new Da(r,t.messageType,ah(r.yS,t.message)))},r.MS=function(){r.gS=!0,r.dS.Kb>0&&(r.dS.eM(),r.yo(new Na(r.dS))),r.lS.removeEventListener("keystatuseschange",r.bS),r.lS.removeEventListener("message",r.um)},r.lS.addEventListener("keystatuseschange",r.bS),r.lS.addEventListener("message",r.um),r.dS=new uh;var e=[];return r.lS.closed&&e.push(st.resolve(r.lS.closed)),r._S=new sh,e.push(r._S.rM),r.Hg=st.race(e).then(r.MS,r.MS),r.mS(),r}Et(n,t);var i=n.prototype;return i.Ws=function(){if(this.gS)return this.Hg;var t=[];return t.push(st.resolve(this.lS.close())),t.push(ga(1e3)),this._S.Sy(st.race(t).catch(Vv)),this.gS=!0,this.Hg},i.vS=function(t,n,i){if(Wt.hf){var r=Qv(Pc(n));if(1===r.version)n=new Pf(r.systemId,r.data).serialize().join()}return st.resolve(this.lS.generateRequest(t,n)).catch(Vv)},i.$n=function(t){return st.resolve(this.lS.load(t)).catch(Vv)},i.wS=function(){return st.resolve(this.lS.remove()).catch(Vv)},i.Yn=function(t){return st.resolve(this.lS.update(t)).catch(Vv)},i.mS=function(){var t=this;this.dS.eM(),this.lS.keyStatuses.forEach((function(n,i){t.pS(i,n)})),this.yo(new Na(this.dS))},i.pS=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Pc(t);if(this.yS===js&&16===r.byteLength&&(Wt.yf||Wt._g)){var e=Rc(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.yS===js&&"status-pending"===n&&(n="usable"),this.dS.tM(r,n)},Ct(n,[{key:"uS",get:function(){return this.Hg}},{key:"cS",get:function(){return this.lS.expiration}},{key:"Rb",get:function(){return this.dS}},{key:"fS",get:function(){return this.lS.sessionId}}]),n}(Aa);function Vv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|M(i[1],16))}throw new hh(t.message,void 0,n,t)}var Fv=function(){function t(t,n,i){this.SS=t,this.NS=n,this.md=i}var n=t.prototype;return n.TS=function(t){var n=this;return yn((function(){return pn(this,(function(i){return[2,new Gv(n.SS.createSession(t),n.NS)]}))}))()},n.IS=function(t){return st.resolve(this.SS.setServerCertificate(t))},n.bn=function(t){return st.resolve(t.setMediaKeys(this.SS))},n.DS=function(t){return st.resolve(t.setMediaKeys(null))},n.tr=function(){return st.resolve()},t}(),Wv=function(){function t(t,n,i){this.ES=t,this.yS=n,this.LS=i}var n=t.prototype;return n.kS=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,t.ES.createMediaKeys()];case 1:return n=i.sent(),[2,new Fv(n,t.yS,t.LS)]}}))}))()},n.xS=function(){return this.LS},Ct(t,[{key:"NS",get:function(){return this.ES.keySystem}}]),t}();Q(),Nt(),Q(),Nt(),Sn();var Zv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Xv(t){return to(t,Zv.APPLICATION_MP4)||to(t,Zv.VIDEO_MP4)||to(t,Zv.AUDIO_MP4)}function Hv(t){return to(t,Zv.VIDEO_WEBM)||to(t,Zv.AUDIO_WEBM)}var Kv=function(){function t(t,n){this.YA=t,this.jS=n}return t.prototype.CS=function(t){for(var n=0,i=this.jS;n<i.length;n++){var r=En(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Jv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Kv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=qv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=qv(e.substr(s));f&&u.push(f)}return new Kv(r,u)}function qv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function $v(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function td(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+uo((r<<16|e).toString(16),6,"0")}return n}function nd(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,RS:r.RS},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return id(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return id(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function id(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Oo(n,r.encryptionScheme))&&(!r.robustness&&t(i,$v(r.contentType))))}function rd(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function ed(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function ud(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(sd))||!(!t.videoCapabilities||!t.videoCapabilities.some(sd))}function sd(t){return!t.robustness}function od(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(ys({},e,{robustness:n}))}return i}var ad=function(){function t(){}return t.prototype.qA=function(t,n){return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:for(n=n.filter((function(t){return!t.RS})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=ed(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=ed(r.videoCapabilities));if(t!==zs||!n.some(ud))return[3,4];e=n.map((function(t){return function(t,n){return ys({},t,{videoCapabilities:t.videoCapabilities?od(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?od(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,l.requestMediaKeySystemAccess(t,e)];case 2:return u=c.sent(),s=u.getConfiguration(),[2,new Wv(u,t,s)];case 3:return c.sent(),[3,4];case 4:return[4,l.requestMediaKeySystemAccess(t,n)];case 5:return o=c.sent(),a=o.getConfiguration(),[2,new Wv(o,t,a)]}}))}))()},t.PS=function(){return lo()},t}();Q(),Nt(),Q(),Nt(),Zt(),Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn();var cd=function(t){function n(n,i){var r;return(r=t.call(this)||this).GS=n,r.WS=i,r.gS=!1,r.qS=void 0,r.YS=void 0,r.zS=void 0,r.MS=function(){r.gS=!0,r.US.sM(void 0),r.zS&&(r.zS.removeEventListener("mskeyclose",r.MS),r.zS.removeEventListener("mskeymessage",r.ZS),r.zS.removeEventListener("mskeyerror",r.Ss),r.zS.removeEventListener("mskeyadded",r.HS))},r.ZS=function(t){r.YS&&(r.YS.sM(void 0),r.YS=void 0),r.yo(new Da(r,"license-request",Yc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.zS&&r.zS.error;if(t){var n=new hh("Unknown CDM error",t.code,t.systemCode);if(r.YS)r.YS.nM(n),r.YS=void 0;else if(r.qS)r.qS.nM(n),r.qS=void 0;else switch(n.oM){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.XS("output-not-allowed");break;default:r.XS("internal-error")}}},r.HS=function(){r.YS&&(r.XS("usable"),r.YS.sM(void 0),r.YS=void 0),r.qS&&(r.XS("usable"),r.qS.sM(void 0),r.qS=void 0)},r.US=new sh,r.QS=new uh,r}Et(n,t);var i=n.prototype;return i.vS=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(t){switch(t.label){case 0:return r.FS(),r.YS=new sh,r.TS(Pc(n),i),[4,r.YS.rM];case 1:return t.sent(),[2]}}))}))()},i.TS=function(t,n){if(!t)throw new p("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.VS;return(i=n?this.GS.createSession(this.WS,t,r):this.GS.createSession(this.WS,t)).addEventListener("mskeyclose",this.MS),i.addEventListener("mskeymessage",this.ZS),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.HS),this.zS=i,this.XS("status-pending"),i},i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(t){return n.FS(),[2,!0]}))}))()},i.Yn=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(n.qS=new sh,n.FS(),!n.zS)return[2,st.resolve()];if(0===(i=Pc(t)).byteLength)throw new p("Cannot call update with an empty response.");return n.zS.update(i),[4,n.qS.rM];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.gS&&this.zS&&(this.gS=!0,this.zS.close()),this.US.rM},i.wS=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.FS(),[2]}))}))()},i.FS=function(){if(this.gS)throw new p("Already closing or closed.")},i.XS=function(t){this.QS.eM(),this.QS.tM(eh,t),this.yo(new Na(this.QS))},Ct(n,[{key:"fS",get:function(){return this.zS&&this.zS.sessionId||""}},{key:"cS",get:function(){return NaN}},{key:"uS",get:function(){return this.US.rM}},{key:"Rb",get:function(){return this.QS}}]),n}(Aa),hd=function(){function t(t,n,i){this.GS=t,this.NS=n,this.md=i;var r=rd(i)||"video/mp4";this.WS=$v(r)}var n=t.prototype;return n.TS=function(t){var n=this;return yn((function(){return pn(this,(function(t){return[2,new cd(n.GS,n.WS)]}))}))()},n.IS=function(t){return st.resolve(!1)},n.bn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.GS),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.GS):t.addEventListener("loadedmetadata",i),st.resolve()},n.DS=function(t){return st.resolve()},n.tr=function(){return st.resolve()},t}(),fd=function(){function t(t,n){this.yS=t,this.KS=n}var n=t.prototype;return n.xS=function(){return this.KS},n.kS=function(){var t=new Wr.MSMediaKeys(this.yS);return st.resolve(new hd(t,this.yS,this.KS))},Ct(t,[{key:"NS",get:function(){return this.yS}}]),t}(),vd=function(){function t(){}return t.prototype.qA=function(t,n){try{return st.resolve(function(t,n){if(!dd())throw new p("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=nd(ld,ba,t,r);if(e)return new fd(t,e)}throw new p("Unsupported key system configuration for "+t)}(t,n))}catch(t){return st.reject(t)}},t.PS=function(){return dd()},t}();function dd(){return void 0!==Wr.MSMediaKeys&&"function"==typeof Wr.MSMediaKeys.isTypeSupported}function ld(t,n){return Wr.MSMediaKeys.isTypeSupported(t,n)}Q(),Nt(),Q(),Nt(),Zt(),Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn();var gd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).iN=n,e.WS=i,e.tN=r,e.US=new sh,e.sN=void 0,e.QS=new uh,e.JS=void 0,e.eN=new sh,e.Ss=function(){var t=e.JS&&e.JS.error;if(t){var n=new hh("Unknown CDM error",t.code,t.systemCode);e.sN?(e.sN.nM(n),e.sN=void 0):n.oM===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.XS("output-not-allowed"):e.XS("internal-error"),e.yo(new Ia)}},e.ZS=function(t){e.yo(new Da(e,"license-request",Yc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.HS=function(){e.sN&&(e.sN.sM(void 0),e.sN=void 0),e.XS("usable")},e}Et(n,t);var i=n.prototype;return i.vS=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.$S;if(!r)throw new p("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=Cc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Vc;return vc(o,a,e,!0),Tc(o,a,r,!0),vc(o,a,u,!0),Tc(o,a,n,!0),vc(o,a,i.byteLength,!0),uc(o,a,i),new N(s)}(Pc(n),r,this.tN);return this.JS=this.iN.createSession(this.WS,e),this.JS.addEventListener("webkitkeymessage",this.ZS,!1),this.JS.addEventListener("webkitkeyadded",this.HS,!1),this.JS.addEventListener("webkitkeyerror",this.Ss,!1),this.XS("status-pending"),this.eN.sM(this.JS),this.eN=new sh,st.resolve()},i.$n=function(t){return st.resolve(!0)},i.Yn=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:if(0===(i=Pc(t)).byteLength)throw new p("Cannot call update with an empty response.");return n.sN=new sh,(r=n.JS)?[3,2]:[4,n.eN.rM];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.sN.rM];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.JS;return n&&(n.removeEventListener("webkitkeymessage",this.ZS,!1),n.removeEventListener("webkitkeyadded",this.HS,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.eN.Ty(),null==(t=this.sN)||t.Ty(),this.US.sM(void 0),this.US.rM},i.wS=function(){return st.resolve(void 0)},i.XS=function(t){this.QS.eM(),this.QS.tM(eh,t),this.yo(new Na(this.QS))},Ct(n,[{key:"fS",get:function(){return this.JS?this.JS.sessionId:""}},{key:"cS",get:function(){return NaN}},{key:"uS",get:function(){return this.US.rM}},{key:"Rb",get:function(){return this.QS}}]),n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt();var wd=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),yd=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=k.floor(n/1e3);if(i in t)return i;throw new p("Invalid error code: "+n)}}(yd||(yd={}));var md=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return Et(n,t),Ct(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return yd.fromCode(this.code)}}]),n}(Jo);function Ad(t,n){return t instanceof md?t:t instanceof A?new md(n,t.message,t):new md(n,String(t))}var pd=function(){function t(t,n,i){this.iN=t,this.NS=n,this.md=i,this.tN=void 0;var r=rd(i)||"video/mp4";this.WS=$v(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.iN},n.TS=function(t){var n=this;return yn((function(){return pn(this,(function(t){if(!n.tN)throw new md(wd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new gd(n.iN,n.WS,n.tN)]}))}))()},n.IS=function(t){return this.tN=Pc(t),st.resolve(!0)},n.bn=function(t){return t.webkitSetMediaKeys(this.iN),st.resolve()},n.DS=function(t){return t.webkitSetMediaKeys(null),st.resolve()},n.tr=function(){return st.resolve()},t}(),_d=function(){function t(t,n){this.yS=t,this.KS=n}var n=t.prototype;return n.xS=function(){return this.KS},n.kS=function(){var t=new Wr.WebKitMediaKeys(this.yS);return st.resolve(new pd(t,this.yS,this.KS))},Ct(t,[{key:"NS",get:function(){return this.yS}}]),t}(),kd=function(){function t(){}return t.prototype.qA=function(t,n){try{return st.resolve(function(t,n){if(t!==Qs)throw new p(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Md())throw new p("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=nd(bd,Ta,t,r);if(e)return new _d(t,e)}throw new p("Unsupported key system configuration for "+t)}(t,n))}catch(t){return st.reject(t)}},t.PS=function(){return Md()},t}();function Md(){return void 0!==Wr.WebKitMediaKeys&&"function"==typeof Wr.WebKitMediaKeys.isTypeSupported}function bd(t,n){return Wr.WebKitMediaKeys.isTypeSupported(t,n)}Q(),Nt(),An(),Tn();var Td=function(){function t(t){this.nN=t}return t.prototype.qA=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:r=0,e=i.nN,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.qA(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new p("Unsupported key system configuration for "+t)}}))}))()},t}();Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Jt(),Q(),Nt();var Nd=function(){function t(t){var n=this;this.oN=[],this.hN=void 0,this.rN=new ca,this.aN=function(){return 0===n.oN.length?n.cN?Dd(n.cN,n.rN.ly).then(n.lN,n.lN):n.lN():n.oN.shift()().then(n.aN)},this.lN=function(){if(0!==n.oN.length)return n.aN();n.hN=void 0},this.cN=t}var n=t.prototype;return n.Wo=function(t,n){var i=this;return new st((function(r){var e=ca.Iy([i.rN.ly,n]),u=function(){e.wy()};i.oN.push((function(){var n=Dd(t,e.ly);return r(n),n.then(u,u)})),i.hN||(i.hN=i.aN())}))},n.Ty=function(){return this.uN(!0)},n.gn=function(){return this.cN=void 0,this.uN(!1)},n.uN=function(t){var n=this.hN;return this.rN.Ty(),t&&(this.rN=new ca),st.resolve(n)},t}();function Dd(t,n){return new st((function(i){return i(t(n))}))}var Id=new Nd,Ed=function(t){function n(n){var i;return(i=t.call(this)||this).yS=n,i.YS=void 0,i.sN=void 0,i.wM=!1,i.AN=void 0,i.vN=void 0,i.US=new sh,i.pN="",i.wN=new sh,i.mN=new uh,i}Et(n,t);var i=n.prototype;return i.dN=function(){this.sN&&(this.XS("usable"),this.sN.sM(void 0),this.sN=void 0)},i.fN=function(t){var n=new hh("Unknown CDM error",t.errorCode,t.systemCode);this.sN?(this.sN.nM(n),this.sN=void 0):this.YS?(this.YS.nM(n),this.YS=void 0):n.oM===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.XS("output-restricted"):1===n.hM?this.XS("expired"):this.XS("internal-error")},i.gN=function(t){0!==t.message.byteLength?(this.YS&&(this.YS.sM(void 0),this.YS=void 0),this.yo(new Da(this,"license-request",ah(this.yS,Yc(t.message).buffer),t.defaultURL||void 0))):this.YS&&(this.YS.nM("Empty key message"),this.YS=void 0)},i._N=function(t){this.vN||(this.vN=t,this.wN.sM(t))},i.Ws=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.throwIfClosed(),t.sN&&(t.sN.nM(void 0),t.sN=void 0),t.wM=!0,t.US.sM(void 0),[2]}))}))()},i.vS=function(t,n){var i=this;return yn((function(){var t;return pn(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.YS=new sh,i.AN=Pc(n),(t=i.vN)?[3,2]:[4,i.wN.rM];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.yS,i.AN),[4,i.YS.rM];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.wS=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Yn=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.sN=new sh,Wt.kf||Wt.Nf?[2,Id.Wo(yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return void 0===n.sN?[2]:(i=n.vN)?[3,2]:[4,n.wN.rM];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.yS,Pc(t),n.AN,n.fS),[4,n.sN.rM];case 3:return r.sent(),Wt.Nf?[4,ga(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.wM)throw new p("Already closing or closed.")},i.XS=function(t){this.mN.eM(),this.mN.tM(eh,t),this.yo(new Na(this.mN))},i.yN=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return(i=t.vN)?[3,2]:[4,t.wN.rM];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.yS,t.pN),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,ga(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},Ct(n,[{key:"Rb",get:function(){return this.mN}},{key:"fS",get:function(){return this.pN},set:function(t){this.pN=t}},{key:"uS",get:function(){return this.US.rM}},{key:"cS",get:function(){return NaN}}]),n}(Aa),Sd=function(){function t(t,n){var i=this;this.NS=t,this.md=n,this.vN=void 0,this.TN=As(),this.SN=[],this.HS=function(t){var n=i.NN(t.sessionId);n&&n.dN()},this.bN=function(t){var n=i.NN(t.sessionId);n&&n.fN(t)},this.MN=function(t){var n=i.NN(t.sessionId);n&&n.gN(t)}}var n=t.prototype;return n.bn=function(t){return this.vN=t,this.vN.addEventListener("webkitkeyadded",this.HS),this.vN.addEventListener("webkitkeyerror",this.bN),this.vN.addEventListener("webkitkeymessage",this.MN),this.TN.forEach((function(n,i){return n._N(t)})),this.SN.forEach((function(n){return n._N(t)})),st.resolve()},n.DS=function(t){return t.removeEventListener("webkitkeyadded",this.HS),t.removeEventListener("webkitkeyerror",this.bN),t.removeEventListener("webkitkeymessage",this.MN),this.vN=void 0,st.resolve()},n.tr=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:n=t.TN.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].yN()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.TN.clear(),[2]}}))}))()},n.TS=function(t,n,i){var r=this;return yn((function(){var t;return pn(this,(function(n){return t=new Ed(r.NS),r.vN&&t._N(r.vN),r.SN.push(t),[2,t]}))}))()},n.IS=function(t){return st.resolve(!1)},n.NN=function(t){if(t){var n=this.TN.get(t);return n||((n=this.SN.shift())?(n.fS=t,this.TN.set(t,n),n):void 0)}},t}(),Ld=function(){function t(t,n){this.NS=t,this.DN=n}var n=t.prototype;return n.kS=function(){return st.resolve(new Sd(this.NS,this.DN))},n.xS=function(){return this.DN},t}(),Cd=function(){function t(){}return t.prototype.qA=function(t,n){try{return st.resolve(function(t,n){if(!Cd.PS())throw new p("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=nd(jd,ba,t,r);if(e)return new Ld(t,e)}throw new p("Unsupported key system configuration for "+t)}(t,n))}catch(t){return st.reject(t)}},t.PS=function(){return go()},t}();function jd(t,n){var i=Bi();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}Jt(),Q(),Nt();var xd,Od=function(){function t(){}return t.prototype.qA=function(t,n){return t===zs||t===js?st.resolve(void 0):st.reject(new A("DRM configuration not supported"))},t}();function zd(){return xd||(xd=function(){var t=[];kd.PS()&&t.push(new kd);ad.PS()&&t.push(new ad);vd.PS()&&t.push(new vd);Cd.PS()&&t.push(new Cd);Wt.xf&&t.push(new Od);return new Td(t)}()),xd}Jt(),Q(),Nt(),St(),Q(),Nt();var Rd=function(){function t(){this.EN=As()}var n=t.prototype;return n.eM=function(t){this.EN.delete(t)},n.kN=function(){this.EN.clear()},n.$b=function(t){return this.EN.get(t)},n.tM=function(t,n){this.EN.set(t,n)},t}(),Bd=function(){function t(){}return t.LN=function(){return t.Ld||(t.Ld=Ud.PS()?new Ud:new Rd),t.Ld},t.eM=function(n){t.LN().eM(n)},t.kN=function(){t.LN().kN()},t.$b=function(n){return t.LN().$b(n)},t.tM=function(n,i){t.LN().tM(n,i)},t}();Bd.Ld=void 0;var Ud=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.eM=function(t){self.sessionStorage.removeItem(t)},i.kN=function(){self.sessionStorage.clear()},i.$b=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.tM=function(t,n){self.sessionStorage.setItem(t,n)},n.PS=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(Bd);Q(),Nt(),Q(),Nt();var Pd=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Qd(t,n,i){var r=Pd([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=v.createElement("a");s.href=e,s.download=u,v.body.appendChild(s),s.click(),v.body.removeChild(s),URL.revokeObjectURL(e)}Q(),Nt();var Yd="default";Q(),Nt(),Zt(),Q(),Nt(),Q(),Nt(),St(),Q(),Nt();var Gd=function(t){return t.xN="arraybuffer",t.CN="json",t.jN="stream",t.ON="text",t}({});Q(),Nt(),Sn();var Vd=function(){function t(n){var i=this;this.Hv={},n instanceof t?n.asList().forEach((function(t){var n=En(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=En(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&_.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Fd(i),r=Wd(r);var e=i.toLowerCase();if(this.Hv.hasOwnProperty(e)){var u=this.Hv[e],s=u[1];u[1]=s?s+", "+r:r}else this.Hv[e]=[i,r]},n.delete=function(t){var n=Fd(t).toLowerCase();delete this.Hv[n]},n.get=function(t){var n=Fd(t).toLowerCase();return this.Hv.hasOwnProperty(n)?this.Hv[n][1]:null},n.has=function(t){var n=Fd(t).toLowerCase();return this.Hv.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Fd(i)).toLowerCase();this.Hv[r]=[i,Wd(n)]},n.forEach=function(t,n){for(var i in this.Hv)this.Hv.hasOwnProperty(i)&&t.call(n,this.Hv[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Hv)if(this.Hv.hasOwnProperty(n)){var i=En(this.Hv[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.RN=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.PN=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.zN=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Fd(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new p("Invalid character in header field name");return n}function Wd(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Sn(),Q(),Nt();var Zd=U(Cn());Q(),Nt(),Zt(),St();var Xd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return Et(n,t),Ct(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Jo);sn();var Hd=t,Kd=_i(Hd.ReadableStream)&&_i(Hd.WritableStream)&&_i(Hd.TransformStream)&&pi(Hd.ReadableStream.prototype.pipeThrough)&&!Ur.Rp,Jd=Kd?Hd.ReadableStream:Zd.ReadableStream,qd=Kd?Hd.WritableStream:Zd.WritableStream,$d=Kd?Hd.TransformStream:Zd.TransformStream,tl=(Kd&&Hd.ByteLengthQueuingStrategy?Hd.ByteLengthQueuingStrategy:Zd.ByteLengthQueuingStrategy,Kd&&Hd.CountQueuingStrategy?Hd.CountQueuingStrategy:Zd.CountQueuingStrategy);function nl(t){return function(t){return new Jd({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function il(t){return nl(function(t){return new N(t)}(t))}function rl(t,n){var i=n,r=t.getReader(),e=new sh,u=function(){s();var t=new qo;r.cancel(t).catch(qt),e.nM(t)},s=function(){i&&(i.oy(u),i=void 0)};i&&(i.sy?u():i.uy(u));var o=[],a=function(t){return t.done?(s(),st.resolve(o)):(o.push(t.value),st.resolve(r.read()).then(a))};return st.resolve(r.read()).then(a).then((function(t){s(),e.sM(t)}),(function(t){s(),e.nM(t)})),e.rM}function el(t,n){return rl(t,n).then((function(t){return qc(t).buffer}))}function ul(t,n){var i=n,r=new $d,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.Ty()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(qt)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(qt)})),e}function sl(t){var n=new $d,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=fi(n)?n[0]===n[1]||$o(n[0])&&$o(n[1])?n[0]:new Xd(n):n,t.cancel(i).catch(qt)})),i.tee()}function ol(t){return Cc(new N(t))}function al(t){return jc(t).buffer}Q(),Nt(),sn();var cl="content-type",hl="text/plain;charset=UTF-8",fl=function(){function t(){}var n=t.prototype;return n.BN=function(t){return this.UN(t).then(JSON.parse)},n.QN=function(t,n){switch(t){case Gd.xN:return this.FN(n);case Gd.CN:return this.BN(n);case Gd.jN:return this.YN();case Gd.ON:return this.UN(n);default:throw new p}},t}();function vl(t,n,i){if(t instanceof fl)return t;if(t instanceof Jd)return function(t,n){return new ll({YA:0,YN:t,VN:dl(n)})}(t,i);var r=dl(i),e=st.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{YA:Gd.ON,GN:t,VN:n||hl};if(t instanceof ArrayBuffer||Xc(t))return{YA:Gd.xN,GN:_l(t),VN:n};if(li(t)||fi(t))return{YA:Gd.CN,GN:t,VN:n};throw new p("Unsupported BodyInit type")}return{YA:Gd.ON,GN:null,VN:n}}(t,r)}));return new ll({YA:1,rM:e,WN:n})}function dl(t){return(t.get(cl)||"").toLowerCase()}var ll=function(t){function n(n){var i;return(i=t.call(this)||this).HN=!1,i.JN=new sh,i.JN.rM.catch(qt),i.iI(n),i}Et(n,t);var i=n.prototype;return i.KN=function(){return this.JN.rM},i.UN=function(t){return this.$N(gl,t)},i.BN=function(t){return this.$N(yl,t)},i.FN=function(t){return this.$N(Al,t)},i.YN=function(){return this.tI(function(t){return 0===t.YA?t.YN:ul(t.rM.then(pl).then(il),t.WN)}(this.qN))},i.$N=function(t,n){if(this.HN)return st.reject(new p("Already used"));this.HN=!0;var i=t(this.qN,n);return this.JN.Sy(i.then(qt)),i},i.tI=function(t){if(this.HN)throw new p("Already used");if(t.locked)throw new p("Body stream is locked");this.HN=!0;var n=new $d,i=st.resolve(t.pipeTo(n.writable));return this.JN.Sy(i),n.readable},i.iI=function(t){this.qN=t,1===t.YA&&t.rM.catch(qt)},i.eI=function(){if(this.HN)throw new p("Already used");var t=function(t){if(0===t.YA){var n=En(t.YN.tee(),2),i=n[0],r=n[1];return[{YA:t.YA,YN:i,VN:t.VN},{YA:t.YA,YN:r,VN:t.VN}]}var e=En(t.WN.Ny(),2),u=e[0],s=e[1];return[{YA:t.YA,rM:t.rM,WN:u},{YA:t.YA,rM:t.rM,WN:s}]}(this.qN),i=t[0],r=t[1];return this.iI(i),new n(r)},Ct(n,[{key:"ZN",get:function(){return this.HN}},{key:"XN",get:function(){return 0===this.qN.YA}}]),n}(fl);function gl(t,n){return 0===t.YA?el(t.YN,n).then(ol):(n&&t.WN.Sy(n),ea(t.rM.then(wl),t.WN))}function wl(t){switch(t.YA){case Gd.ON:return st.resolve(t.GN||"");case Gd.xN:return st.resolve(t.GN).then(ol);case Gd.CN:return st.resolve(t.GN).then(JSON.stringify)}}function yl(t,n){return 0===t.YA?gl(t,n).then(JSON.parse):(n&&t.WN.Sy(n),ea(t.rM.then(ml),t.WN))}function ml(t){return t.YA===Gd.CN?st.resolve(t.GN):wl(t).then(JSON.parse)}function Al(t,n){return 0===t.YA?el(t.YN,n):(n&&t.WN.Sy(n),ea(t.rM.then(pl),t.WN))}function pl(t){switch(t.YA){case Gd.xN:return st.resolve(t.GN);case Gd.ON:case Gd.CN:return wl(t).then(al)}}function _l(t){return t instanceof ArrayBuffer?t:Yc(Bc(t)).buffer}var kl=function(t){function n(n){var i;return(i=t.call(this)||this).sI=n,i}Et(n,t);var i=n.prototype;return i.KN=function(){return this.sI.KN()},i.UN=function(t){return this.sI.UN(t)},i.BN=function(t){return this.sI.BN(t)},i.FN=function(t){return this.sI.FN(t)},i.YN=function(t){return this.sI.YN(t)},i.eI=function(){return this.sI.eI()},Ct(n,[{key:"ZN",get:function(){return this.sI.ZN}},{key:"XN",get:function(){return this.sI.XN}}]),n}(fl);function Ml(t){return t.nI>=200&&t.nI<=299||304===t.nI}var bl=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.aI,u=i.oI,s=i.nI,o=i.uI,a=i.cI):(e=[],u=Gd.ON,s=200,o="OK",a=!1);var c=n.hI,h=new Vd(n.aI||e),f=n.oI||u,v=n.lI||(i&&i.hI===c?i.lI:c.zu),d=i?i.sI:null,l=vl(void 0!==n.rI?n.rI:d,n.WN||new ca,h);return(r=t.call(this,l)||this).aI=h,r.hI=c,r.lI=v,r.oI=f,r.nI=void 0!==n.nI?n.nI:s,r.uI=void 0!==n.uI?String(n.uI):o,r.cI=n.cI||a,r}Et(n,t);var i=n.prototype;return i.rI=function(t){return this.QN(this.oI,t)},i.Zb=function(){return new n({rI:this.eI(),hI:this.hI},this)},n}(kl);Q(),Nt();var Tl=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),Nl=function(t){return t.dI="",t.fI="manifest",t.gI="segment",t._I="preload-hint",t.vI="content-protection",t}({}),Dl=function(t){return t.dI="",t.wI="initialization-segment",t.mI="fairplay-license",t.pI="fairplay-certificate",t.AI="widevine-license",t.yI="widevine-certificate",t.bI="playready-license",t.MI="clearkey-license",t.TI="aes128-key",t}({}),Il=function(t){return t.dI="",t.SI="audio",t.NI="video",t.ON="text",t.II="image",t}({}),El=function(t){return t.DI="same-origin",t.EI="no-cors",t.kI="cors",t.LI="navigate",t}({}),Sl=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p=t.zu;n?(i=n.GN,r=n.aI,e=n.xI,u=n.oI,s=n.CI,o=n.jI,a=n.ly,c=n.YA,h=n.OI,f=n.RI,v=n.zI,d=n.BI,l=n.UI,g=n.QI,w=n.FI):(i=null,r={},e="GET",u=Gd.ON,s=0,o=0,c="",h="",f="",v=!1,l=void 0,g=!1,w=void 0),this.zu=p,this.GN=t.GN||i,this.aI=new Vd(t.aI||r),this.xI=t.xI||e,this.oI=t.oI||u,this.CI=void 0!==t.CI?Number(t.CI)||0:s,this.jI=void 0!==t.jI?Number(t.jI)||0:o,this.ly=t.ly||a||(new ca).ly,this.YA=t.YA||c,this.OI=t.OI||h,this.RI=t.RI||f,this.zI=void 0!==t.zI?Boolean(t.zI):v,this.BI=t.BI||d,this.UI=null!=(y=t.UI)?y:l,this.QI=null!=(m=t.QI)?m:g,this.FI=null!=(A=t.FI)?A:w},Ll=function(){function t(){}var n=t.prototype;return n.hI=function(t){var n=function(t){return new bl({rI:null,aI:{},hI:t,lI:t.zu,oI:t.oI,nI:0,uI:Ma._b})}(new Sl(t));return st.resolve(n)},n.YI=function(t){},n.gn=function(){},t}();tn();var Cl=function(){function t(t,n){void 0===n&&(n=!0),this.ZI=t,this.XI=n}var n=t.prototype;return n.hI=function(t){var n=this.WI(t);return this.ZI.hI(n)},n.YI=function(t){return this.ZI.YI(this.HI(t))},n.WI=function(n){var i=new Sl(n);if(!this.XI){var r=t.qI(i.zu);i=new Sl({zu:r},i)}return i},n.HI=function(n){var i=n.zu;return this.XI||(i=t.qI(i)),{zu:i,GN:n.GN}},n.gn=function(){this.ZI.gn()},t.qI=function(t){return Kt.kA&&no(t,"http://")?t.replace(":","s:"):t},Ct(t,null,[{key:"VI",get:function(){return t.GI||(t.GI=new t(new Ll)),t.GI}}]),t}();function jl(t,n){var i=Kt.Ah(t);return xl(i,n),i.toString()}function xl(t,n){for(var i=0,r=_.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Ol(t,n){var i=Kt.TA(t);return n&&!io(i,"/")&&(i+="/"),i}Cl.GI=void 0,Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Sn(),Tn(),Q(),Nt(),tn();var zl=/cache:(.+)?(?=&|$)/,Rl="http://webcache.googleusercontent.com/search?q=cache:";function Bl(t){if(!no(t,Rl))return"";var n=Kt.Ah(t).search.match(zl);return n&&n.length>1?n[1]:""}function Ul(t){return Kt.Ah(".",t)}Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var Pl=function(t){return t.KI="HttpOpenError",t.JI="HttpResponseError",t.$I="HttpTimeoutError",t}({}),Ql=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).tD=n,e}return Et(n,t),Ct(n,[{key:"hI",get:function(){return this.tD}}]),n}(Jo);var Yl=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.zu),i)||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return Pl.KI}}]),n}(Ql);Q(),Nt(),Zt(),St();var Gl=function(t){function n(n,i,r){var e;return(e=t.call(this,n.hI,null!=r?r:function(t){return"Error while loading "+t.hI.zu+", status code "+t.nI}(n),i)||this).eD=n,e}return Et(n,t),Ct(n,[{key:"name",get:function(){return Pl.JI}},{key:"iD",get:function(){return this.eD}}]),n}(Ql);Q(),Nt(),Zt(),St();var Vl=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.zu+" timed out after "+t.CI+" seconds."}(n),i)||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return Pl.$I}}]),n}(Ql);Q(),Nt(),sn(),Jt();var Fl=self.fetch,Wl=self.Request,Zl=self.Response,Xl=self.Headers,Hl=self.ReadableStream,Kl=self.AbortSignal,Jl=self.AbortController,ql=un((function(){try{return pi(Fl)&&_i(Wl)&&_i(Zl)&&_i(Xl)&&"forEach"in Xl.prototype&&ws()}catch(t){return!1}})),$l=["http:","https:"];var tg=un((function(){try{return ql()&&_i(Kl)&&_i(Jl)&&"signal"in Wl.prototype}catch(t){return!1}})),ng=un((function(){try{return ql()&&_i(Hl)&&"body"in Zl.prototype&&!Wt.hf}catch(t){return!1}}));function ig(t){return t instanceof Ql}function rg(t){return t instanceof Gl}function eg(t,n){var i,r=t.aI.has("content-length")?Number(t.aI.get("content-length")):void 0;return i=t.XN?function(t,n,i){return t.pipeThrough(new $d(new ug(n,i)))}(t.YN(),n,r):function(t,n,i){return sg.apply(this,arguments)}(t.FN(),n,r),new bl({rI:i,hI:t.hI},t)}sn(),Q(),Nt(),Q(),Nt(),An(),Tn();var ug=function(){function t(t,n){this.nD=t,this.rD=n,this.sD=0}var n=t.prototype;return n.transform=function(t,n){this.sD+=t.byteLength,this.nD(this.sD,this.rD),n.enqueue(t)},n.flush=function(t){var n;this.nD(this.sD,null!=(n=this.rD)?n:this.sD)},t}();function sg(){return sg=yn((function(t,n,i){var r,e;return pn(this,(function(u){switch(u.label){case 0:return[4,st.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),sg.apply(this,arguments)}var og=function(){function t(t){this.rN=new ca,this.eD=void 0,this.hD=0,this.aD=!1,this.tD=t,this.rN.Sy(t.ly),this.iD=this.oD()}var n=t.prototype;return n.oD=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:(n=t.tD).CI&&(t.hD=g((function(){t.aD=!0,t.rN.Ty()}),n.CI),t.rN.ly.Ay((function(){w(t.hD)})));try{i=Fl(n.zu,{method:n.xI,headers:n.aI.RN(),body:n.GN,credentials:n.zI?"include":"same-origin",signal:hg(t.rN.ly),mode:n.UI,keepalive:n.FI})}catch(t){throw new Yl(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),$o(u=t.uD(e))&&t.rN.Ty(),u;case 4:if(s=r.url||n.zu,o=0===r.status&&"file:"===function(t){return Kt.Ah(t).protocol}(s)?200:r.status,a=new ag(t,r,t.rN),!Ml(c=new bl({rI:a,hI:n,oI:n.oI,aI:fg(r.headers),nI:o,uI:r.statusText,lI:s})))throw new Gl(c);return n.BI&&(c=eg(c,n.BI)),[2,c]}}))}))()},n.uD=function(t){return ig(t)?t:$o(t)?this.aD?new Vl(this.tD):new qo(t.message,t):this.eD?new Gl(this.eD,t):new Yl(this.tD,t)},t}(),ag=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).JN=new sh,e.lD=n,e.cD=i,e.rN=r,e.JN.rM.catch(qt),e}Et(n,t);var i=n.prototype;return i.KN=function(){return this.JN.rM},i.UN=function(t){return this.$N(this.cD.text(),t)},i.FN=function(t){return this.$N(this.cD.arrayBuffer(),t)},i.YN=function(){var t=this.cD.body;return t?this.tI(t):ul(this.FN().then(il),this.rN)},i.eI=function(){var t=this.cD.clone(),i=En(this.rN.Ny(),2),r=i[0],e=i[1];return this.rN=r,new n(this.lD,t,e)},i.$N=function(t,n){var i=this;n&&this.rN.Sy(n);var r=ra(st.resolve(t),this.rN.ly).catch((function(t){throw i.lD.uD(t)}));return r=ea(r,this.rN),this.JN.Sy(r.then(qt)),r},i.tI=function(t){var n=this;return new Jd(new vg(t,(function(t){return n.lD.uD(t)}),this.rN,this.JN),{highWaterMark:0})},Ct(n,[{key:"ZN",get:function(){return this.cD.bodyUsed}},{key:"XN",get:function(){return ci(this.cD.body)}}]),n}(fl),cg="abort";function hg(t){if(tg()){var n=new Jl;if(t.sy)n.abort();else if(!t._y){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(cg,i),t.oy(i),t.yy(r)};n.signal.addEventListener(cg,i),t.uy(i),t.Ay(r)}return n.signal}}function fg(t){if(function(t){return di(t)&&"function"==typeof t.forEach}(t)){var n=new Vd;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new Vd(t)}var vg=function(){function t(t,n,i,r){this.dD=t,this.fD=n,this.rN=i,this.JN=r}var n=t.prototype;return n.start=function(t){this.Wg=this.dD.getReader()},n.pull=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ra(n.Wg.read(),n.rN.ly)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.fD(r),n.JN.nM(e),n.rN.Ty(),n.Wg.cancel(e).catch(qt),t.error(e),[2];case 3:return i.done?(n.JN.sM(),n.rN.Ty(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.rN.Ty(),this.JN.nM(t),this.Wg.cancel(t)},t}();Q(),Nt(),Zt();var dg=function(){function t(t){var n=this;this.rN=new ca,this.eD=void 0,this.gD=new sh,this.TD=!1,this.MD=function(){var t;n.vD(),null==(t=n._D)||t.abort()},this.tD=t,this.rN.Sy(t.ly),this._D=new I,this.oD()}var n=t.prototype;return n.oD=function(){var t=this,n=this._D,i=this.tD;if(i.ly.sy)return this.vD();n.onreadystatechange=function(){return t.wD()},n.onprogress=function(n){return t.nD(n)},n.onload=function(){return t.mD()},n.onloadend=function(){return t.pD()},n.onerror=function(){return t.yD()},n.ontimeout=function(){return t.bD()},n.onabort=function(){return t.vD()},n.open(i.xI,i.zu,!0),n.withCredentials=Boolean(i.zI),"responseType"in n&&i.oI&&(i.oI===Gd.ON?n.responseType="text":n.responseType="arraybuffer"),i.aI.forEach((function(t,i){n.setRequestHeader(i,t)})),i.CI&&(n.timeout=i.CI),this.rN.ly.uy(this.MD);var r=i.GN;r?n.send(r):n.send()},n.wD=function(){var t=this._D;void 0!==t&&t.readyState>=2&&!this.TD&&(this.TD=!0,this.SD())},n.SD=function(){var t,n,i=this._D,r=function(t){var n=new Vd,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.tD;this.ND=new sh,this.eD=new bl({hI:e,oI:e.oI,rI:this.ND.rM,nI:i.status,uI:i.statusText,aI:r,lI:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.gD)||t.sM(this.eD)},n.mD=function(){var t,n=this._D;if(void 0!==n){var i=n.response;if(!ci(i)){var r=this.tD.oI;i=r===Gd.ON?n.responseText:r===Gd.xN?new ArrayBuffer(0):{}}null==(t=this.ND)||t.sM(i)}},n.pD=function(){this.gn()},n.nD=function(t){void 0!==this._D&&(null==this.tD.BI||this.tD.BI.call(this.tD,t.loaded,t.lengthComputable?t.total:void 0))},n.yD=function(){var t=new A("Network request failed");this.eD?this.Ss(new Gl(this.eD,t)):this.Ss(new Yl(this.tD,t))},n.bD=function(){this.Ss(new Vl(this.tD))},n.vD=function(){this.Ss(new qo),this.gn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.ND)?i:this.gD)||n.nM(t)},n.gn=function(){this._D=void 0,this.eD=void 0,this.gD=void 0,this.ND=void 0,this.rN.wy()},Ct(t,[{key:"iD",get:function(){return this.gD.rM}}]),t}();function lg(t,n,i){return new st((function(r,e){if(i&&i.sy)return e(new qo);var u=function(t){o(),r(t)},s=function(){o(),e(new qo)},o=function(){t.removeEventListener(n,u),i&&i.oy(s)};t.addEventListener(n,u),i&&i.uy(s)}))}Q(),Nt(),sn(),Jt();var gg=function(){function t(){}var n=t.prototype;return n.hI=function(t){return function(t){if(!ql()||!function(t){try{return $l.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.zu))return!1;if(!ng()&&t.BI)return!1;if(!t.QI&&t.xI!==Tl.POST){if(Wt.kf&&Wt.mf<=68)return!1;if(Wt.Nf)return!1}return!0}(t)?new og(t).iD:new dg(t).iD},n.YI=function(t){if(Xr&&Xr.sendBeacon)Xr.sendBeacon(t.zu,Pd([t.GN],{type:t.VN}));else{var n=t.VN?{"Content-type":t.VN}:void 0;this.hI(new Sl({xI:Tl.POST,zu:t.zu,GN:t.GN,aI:n,UI:El.EI})).then((function(t){va(t.FN())}),qt)}},n.gn=function(){},t}();Q(),Nt(),Zt(),St(),Q(),Nt();var wg=function(t){return t[t.DD=1]="DD",t[t.ED=2]="ED",t[t.ON=3]="ON",t[t.kD=4]="kD",t[t.LD=9]="LD",t}({});function yg(t){return 1===t.xD}function mg(t){return 3===t.xD}Q(),Nt(),St();var Ag=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return Et(n,t),n}(Jo),pg=function(){function t(){}return t.prototype.CD=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Ag(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Ag;return new Dg(n)},t}(),_g=function(){function t(t){this.OD=t}var n=t.prototype;return n.BD=function(t){return this.OD.isEqualNode(t.OD)},n.UD=function(n){return new t(this.OD.cloneNode(n))},Ct(t,[{key:"xD",get:function(){return wg.ED}},{key:"jD",get:function(){var t;return null!=(t=this.OD.localName)?t:Sg(this.OD.nodeName)}},{key:"l",get:function(){return this.OD.nodeName}},{key:"RD",get:function(){var t;return null!=(t=this.OD.namespaceURI)?t:void 0}},{key:"PD",get:function(){var t;return null!=(t=this.OD.prefix)?t:void 0}},{key:"zD",get:function(){return this.OD.nodeValue}}]),t}(),kg=function(){function t(t){this.FD=void 0,this.YD=t}var n=t.prototype;return n.VD=function(t){return this.QD.filter((function(n){return Ig(n)&&n.GD===t}))},n.WD=function(t,n){return this.QD.filter((function(i){return Ig(i)&&i.jD===n&&i.RD===t}))},n.HD=function(t){this.YD.appendChild(t.ZD),this.FD&&this.FD.push(t)},n.BD=function(t){return this.YD.isEqualNode(t.ZD)},Ct(t,[{key:"QD",get:function(){return void 0===this.FD&&(this.FD=function(t){for(var n=[],i=0;i<t.length;i++){var r=Eg(t.item(i));r&&n.push(r)}return n}(this.YD.childNodes)),this.FD}},{key:"m",get:function(){return this.QD.filter(Ig)}},{key:"ZD",get:function(){return this.YD}}]),t}(),Mg=function(t){function n(n){return t.call(this,n)||this}Et(n,t);var i=n.prototype;return i.KD=function(t){if(this.YD.hasAttribute(t))return this.YD.getAttribute(t)},i.JD=function(t,n){if(this.YD.hasAttributeNS(t,n))return this.YD.getAttributeNS(t,n)},i.$D=function(t){this.YD.removeAttribute(t)},i.tE=function(t,n){this.YD.removeAttributeNS(t,n)},i.iE=function(t,n){this.YD.setAttribute(t,n)},i.eE=function(t,n,i){this.YD.setAttributeNS(t,n,i)},i.UD=function(t){return new n(this.YD.cloneNode(t))},Ct(n,[{key:"xD",get:function(){return wg.DD}},{key:"jD",get:function(){var t;return null!=(t=this.YD.localName)?t:Sg(this.YD.nodeName)}},{key:"RD",get:function(){var t;return null!=(t=this.YD.namespaceURI)?t:void 0}},{key:"PD",get:function(){var t;return null!=(t=this.YD.prefix)?t:void 0}},{key:"GD",get:function(){return this.YD.nodeName}},{key:"XD",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new _g(t.item(i)));return n}(this.YD.attributes)}},{key:"qD",get:function(){return this.YD.textContent}}]),n}(kg),bg=function(){function t(t){this.YD=t}return t.prototype.BD=function(t){return this.rI===t.rI},Ct(t,[{key:"rI",get:function(){return this.YD.nodeValue}},{key:"ZD",get:function(){return this.YD}}]),t}(),Tg=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n.prototype.UD=function(t){return new n(this.YD.cloneNode(t))},Ct(n,[{key:"xD",get:function(){return wg.ON}}]),n}(bg),Ng=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n.prototype.UD=function(t){return new n(this.YD.cloneNode(t))},Ct(n,[{key:"xD",get:function(){return wg.kD}}]),n}(bg),Dg=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n.prototype.UD=function(t){return new n(this.YD.cloneNode(t))},Ct(n,[{key:"xD",get:function(){return wg.LD}},{key:"sE",get:function(){return new Mg(this.YD.documentElement)}}]),n}(kg);function Ig(t){return yg(t)}function Eg(t){switch(t.nodeType){case wg.DD:return new Mg(t);case wg.ON:return new Tg(t);case wg.kD:return new Ng(t)}}function Sg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Lg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nE=void 0,n.oE=ng(),n.aE=Wt.gg||Wt.hf,n.cE=(Wt.gg||Wt.kf&&Wt.mf<=68||Wt.hf)&&!(Wt.Nf&&Wt.Df<3),n.mE=void 0,n.pE=new pg,n}return Et(n,t),n.prototype.CD=function(t){return this.pE.CD(t)},Ct(n,[{key:"_A",get:function(){return this.nE||(this.nE=new wo(zd())),this.nE}},{key:"rE",get:function(){return this.oE}},{key:"hE",get:function(){return this.aE}},{key:"uE",get:function(){return this.cE}},{key:"lE",get:function(){return!1}},{key:"dE",get:function(){return Bd.LN()}},{key:"fE",get:function(){return{gE:Qd}}},{key:"_E",get:function(){return l.connection&&l.connection.effectiveType||Yd}},{key:"vE",get:function(){return l.connection&&l.connection.type||"unknown"}},{key:"wE",get:function(){return this.mE||(this.mE=new Cl(new gg)),this.mE}}]),n}(ls);!function(t){Kt=t}(new Lg),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St();var Cg=function(t){function n(n,i){var r;return(r=t.call(this,Ma.Eb)||this).currentTime=n,r.currentProgramDateTime=i,r}return Et(n,t),n}(ka);Q(),Nt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt(),St(),Q(),Nt(),Zt(),St();var jg=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Za=void 0,r}return Et(n,t),Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(ka);function xg(t){return Boolean(t&&t.ga)}var Og=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n}(jg),zg=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n}(ka);Q(),Nt();var Rg=function(t){return t.Hk="Xk",t.qk="Kk",t}({}),Bg=function(t){function n(n){var i;return(i=t.call(this,Rg.Hk)||this).Ht=n,i}return Et(n,t),n.prototype.ma=function(){return new Ug(this.Ht.ga)},n}(Og),Ug=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return Et(n,t),n}(zg);Q(),Nt(),St();var Pg=function(t){function n(n){var i;return(i=t.call(this,Rg.qk)||this).Ht=n,i}return Et(n,t),n.prototype.ma=function(){return new Qg(this.Ht.ga)},n}(Og),Qg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return Et(n,t),n}(zg);Q(),Nt();var Yg=function(t){return t.Jk="$k",t.tL="iL",t.eL="sL",t.nL="rL",t.oL="hL",t.aL="uL",t.aa="cL",t.lL="dL",t.fL="gL",t._L="Yn",t.vL="wL",t.mL="pL",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Gg=function(t){function n(){var n;return(n=t.call(this)||this).yL=[],n.Za=void 0,n}Et(n,t);var i=n.prototype;return i.bL=function(t){return this.yL[t]},i.tt=function(t){return!(!t||Oo(this.yL,t))&&(this.yL.push(t),this.Za&&this.Za.push(t.ga),t.yn(Yg.aa,this.Ds),this.yo(new Bg(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.yL.indexOf(t);return!(n<0)&&(jo(this.yL,n),this.Za&&jo(this.Za,n),t.fn(Yg.aa,this.Ds),this.yo(new Pg(t)),!0)},i.ML=function(t){return Oo(this.yL,t)},i.tr=function(){for(var t=this.yL,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.gn=function(){this.tr(),this.Bo()},Ct(n,[{key:"AL",get:function(){return this.yL}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"V",get:function(){return this.yL.length}}]),n}(Aa);Q(),Nt(),Q(),Nt(),Q(),Nt(),sn();var Vg=_.freeze||$t;function Fg(t,n,i){_.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Wg(t,n){for(var i=0,r=_.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];_.defineProperty(t,e,_.getOwnPropertyDescriptor(n,e))}return t}function Zg(t){if(li(t)){var n={};for(var i in t)oi.call(t,i)&&(n[i]=Zg(t[i]));return n}if(fi(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Zg(t[e]));return r}return t}function Xg(t,n){return t===n||!(!t||!n)&&(!(!di(t)||!di(n))&&(vi(t)?!!vi(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Xg(t[e],n[e]))return!1;return!0}(t,n):!vi(n)&&function(t,n){var i=_.keys(t),r=_.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!oi.call(n,u)||!Xg(t[u],n[u]))return!1}return!0}(t,n)))}function Hg(t,n){return t.constructor===n.constructor}function Kg(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Jg(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(vi(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=di(a)?Jg(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=di(u)?Jg(u):u)}return n}function qg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function $g(t){return ci(t)?qg(t):void 0}function tw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function nw(t){var n=tw(t);if(T(n))throw new A("Expected a valid number.");return n}function iw(t){return"string"==typeof t?t:""}function rw(t,n){if(!vi(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function ew(t,n){return vi(t)?rw(t,n):n(t)}Q(),Nt();var uw=[Rg.Hk,Rg.qk,Yg.aa];function sw(t){var n,i=t.AL.map((function(t){return t.ga}));return i.item=function(n){var i=0|n,r=t.bL(i);return r&&r.ga||void 0},i.addEventListener=function(t,i){n.yn(t,i)},i.removeEventListener=function(t,i){n.fn(t,i)},n=new pa(i),t.yn(uw,(function(t){return n.yo(t.ga)})),i}Q(),Nt();var ow=function(t){return t[t.LL=0]="LL",t[t.xL=1]="xL",t[t.CL=2]="CL",t[t.jL=3]="jL",t[t.OL=4]="OL",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.RL=7]="RL",t}({});function aw(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function cw(){}function hw(t){var n,i=[Yg._L,Yg.aa,Yg.vL,Yg.mL,Yg.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.PL&&t.PL.ga},get enabled(){return t.Rt},set enabled(n){t.Rt=qg(n)},get id(){return t.o},get uid(){return t.zL},get kind(){return t.Lt},get label(){return t.kh},set label(n){t.kh=iw(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.BL)?void 0:n.map(aw))?i:[]},get language(){return t.gs},get qualities(){return t.UL.ga},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.UL.AL;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.ga===o&&i.push(u)}return i}(t,fi(n)?n:[n]):[],i.length>0?t.QL=i:t.QL=void 0},get targetQuality(){if(t.QL)return 1===t.QL.length?t.QL[0].ga:t.QL.map((function(t){return t.ga}))},addEventListener:function(t,i){var r=ew(t,iw);n.yn(r,i)},removeEventListener:function(t,i){var r=ew(t,iw);n.fn(r,i)}};return n=new pa(r),t.yn(i,(function(t){return n.yo(t.ga)})),_.defineProperty(r,"constructor",{value:cw}),r}function fw(){}function vw(t){var n=sw(t);return _.defineProperty(n,"constructor",{value:fw}),n}var dw=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.ma=function(){return vw(this)},n}(Gg);Q(),Nt(),Q(),Nt();var lw=function(t){return t.SI="audio",t.NI="video",t.ON="text",t.II="image",t.dI="unknown",t}({});function gw(t){return"audio"===t||"video"===t}Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var ww=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return Et(n,t),Ct(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(md);var yw=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),mw=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,A.captureStackTrace&&A.captureStackTrace(u,u.constructor),u}return Et(n,t),Ct(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Ko);function Aw(t){Fg(t,"MEDIA_ERR_ABORTED",1),Fg(t,"MEDIA_ERR_NETWORK",2),Fg(t,"MEDIA_ERR_DECODE",3),Fg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Fg(t,"MEDIA_ERR_ENCRYPTED",5)}function pw(t){var n,i;return function(t){return t.category===yd.CONTENT_PROTECTION}(t)?new mw(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new mw(function(t){if(t===wd.MEDIA_ABORTED)return 1;if(t===wd.MANIFEST_LOAD_ERROR||t===wd.MEDIA_LOAD_ERROR||t===wd.SUBTITLE_LOAD_ERROR)return 2;if(t===wd.MEDIA_DECODE_ERROR)return 3;if(t===wd.MEDIA_NOT_SUPPORTED)return 4;var n=yd.fromCode(t);if(n===yd.NETWORK)return 2;if(n===yd.SOURCE)return 4;if(n===yd.LICENSE)return 6;if(n===yd.CONTENT_PROTECTION)return 5;if(n===yd.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function _w(t){return new md(kw(t.code),t.message,t)}function kw(t){switch(t){case 1:return wd.MEDIA_ABORTED;case 2:return wd.NETWORK_ERROR;case 3:return wd.MEDIA_DECODE_ERROR;case 4:return wd.SOURCE_NOT_SUPPORTED;case 5:return wd.CONTENT_PROTECTION_ERROR;case 6:return wd.LICENSE_ERROR;case 7:return wd.AD_ERROR}}Aw(mw),Aw(mw.prototype),Q(),Nt(),Zt(),St(),Q(),Nt(),St();var Mw=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n}(_a);Q(),Nt(),Zt(),Q(),Nt();var bw=function(){function t(){this.qz=[],this.Za=void 0}var n=t.prototype;return n.Kz=function(t){this.qz.push(t),this.Za&&this.Za.push(t.ga)},n.wS=function(t){Co(this.qz,t),this.Za&&Co(this.Za,t.ga)},n.bL=function(t){return this.qz[t]},n.Jz=function(t){return fi(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Oo(t,n[i]))return!1;return!0}(this.qz,t):Oo(this.qz,t)},n.tr=function(){Ro(this.qz),this.Za&&Ro(this.Za)},Ct(t,[{key:"AL",get:function(){return this.qz}},{key:"V",get:function(){return this.qz.length}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n=t.AL.map((function(t){return t.ga}));return n.item=function(n){var i=0|n,r=t.bL(i);return r&&r.ga||void 0},n}(this)),this.Za}}]),t}();Q(),Nt(),St();var Tw=function(t){function n(n){var i;return(i=t.call(this,Yg.aa)||this).Ht=n,i}return Et(n,t),n.prototype.ma=function(){return new Nw(this.Ht.ga)},n}(Og),Nw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return Et(n,t),n}(zg);Q(),Nt(),St();var Dw=function(t){function n(n){var i;return(i=t.call(this,Yg._L)||this).Ht=n,i}return Et(n,t),n.prototype.ma=function(){return new Iw(this.Ht.ga)},n}(Og),Iw=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return Et(n,t),n}(zg);Q(),Nt();var Ew=0;function Sw(){return Ew++}var Lw=0;var Cw=0;function jw(){return Cw++}var xw=0;function Ow(){return xw++}var zw=0;var Rw=function(t){function n(n){var i;return(i=t.call(this)||this).YA=lw.SI,i.He=!1,i.Za=void 0,i.tB=n,i.iB=Sw(),i.aS=zw+++"",i.eB=n.label,i.qz=new bw,i.rB(),i}Et(n,t);var i=n.prototype;return i.nB=function(t){this.Rt=t},i.rB=function(){this.Rt=this.$z},Ct(n,[{key:"PL",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.$z=t,this.yo(new Tw(this)))}},{key:"$z",get:function(){return this.tB.enabled},set:function(t){this.tB.enabled=t}},{key:"ga",get:function(){return this.Za||(this.Za=hw(this)),this.Za}},{key:"o",get:function(){return this.aS}},{key:"zL",get:function(){return this.iB}},{key:"Lt",get:function(){return this.tB.kind}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"gs",get:function(){return this.tB.language}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"}},{key:"sB",get:function(){return this.tB}},{key:"UL",get:function(){return this.qz}},{key:"QL",get:function(){},set:function(t){}}]),n}(Aa);Q(),Nt(),Zt(),St();var Bw=0;var Uw=function(t){function n(n){var i;return(i=t.call(this)||this).YA=lw.NI,i.He=!1,i.Za=void 0,i.tB=n,i.iB=Sw(),i.aS=Bw+++"",i.qz=new bw,i.eB=n.label,i.rB(),i}Et(n,t);var i=n.prototype;return i.rB=function(){this.Rt=this.$z},i.nB=function(t){this.Rt=t},Ct(n,[{key:"PL",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.$z=t,this.yo(new Tw(this)))}},{key:"$z",get:function(){return!!this.tB.selected},set:function(t){this.tB.selected=t}},{key:"ga",get:function(){return this.Za||(this.Za=hw(this)),this.Za}},{key:"o",get:function(){return this.aS}},{key:"zL",get:function(){return this.iB}},{key:"Lt",get:function(){return"main"}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"gs",get:function(){return this.tB.language}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"}},{key:"sB",get:function(){return this.tB}},{key:"UL",get:function(){return this.qz}},{key:"QL",get:function(){},set:function(t){}}]),n}(Aa);Q(),Nt(),St();var Pw=function(t){function n(n){var i;return(i=t.call(this,Ma.By)||this).FE=n,i}return Et(n,t),n}(ka);Q(),Nt(),An(),St(),Tn(),Q(),Nt();var Qw=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});Q(),Nt();var Yw=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Gw(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}Q(),Nt(),Q(),Nt();var Vw=function(t){return t.oB="cue",t.hB="region",t.aB="stylesheet",t}({});Q(),Nt(),Zt(),St(),Q(),Nt();var Fw={"line-left":"start",center:"middle","line-right":"end"},Ww={start:"line-left",middle:"center",end:"line-right"};function Zw(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Xw(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:b(t);return T(i)?n:i}(t,50)}Q(),Nt(),Q(),Nt(),Q(),Nt(),St();var Hw=function(t){return t.kz="co",t.Lz="bo",t._L="Yn",t}({}),Kw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).uB=i,r}return Et(n,t),n}(Og),Jw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return Et(n,t),n}(zg);function qw(t){var n,i=[Hw.kz,Hw.Lz,Hw._L],r={get cB(){return t},get track(){return t.Ht.ga},get id(){return t.o},get uid(){return t.zL},get startTime(){return t.lB},set startTime(n){t.lB=n},get endTime(){return t.dB},set endTime(n){t.dB=n},get content(){return t.U},addEventListener:function(t,i){var r=ew(t,iw);n.yn(r,i)},removeEventListener:function(t,i){var r=ew(t,iw);n.fn(r,i)}};return n=new pa(r),t.yn(i,(function(t){return n.yo(t.ga)})),r}function $w(){}function ty(t){return Wg(qw(t),{get align(){return t.fB},get line(){return t.gB},get lineAlign(){return t._B},get position(){return t.uo},get positionAlign(){return t.vB},get region(){return t.wB?t.wB.ga:null},get size(){return t.Kb},get snapToLines(){return t.mB},get text(){return t.U},get vertical(){return t.Pt}})}Q(),Nt(),Zt(),St(),Q(),Nt(),St();var ny=function(t){function n(n){return t.call(this,Hw._L,n)||this}return Et(n,t),n.prototype.ma=function(){return new iy(this.uB.ga)},n}(Kw),iy=function(t){function n(n){return t.call(this,"update",n)||this}return Et(n,t),n}(Jw);Q(),Nt(),St();var ry=function(t){function n(n){var i;return(i=t.call(this,Yg.eL)||this).uB=n,i}return Et(n,t),n.prototype.ma=function(){return new ey(this.uB.ga)},n}(Og),ey=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return Et(n,t),n}(zg),uy=.02;function sy(t,n){return wr(t.pB,n.pB,uy)&&wr(t.AB,n.AB,uy)&&t.o===n.o}var oy=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Za=void 0,s.bB=void 0,s.Kh=!1,s.LB=-1,s.iB=Ow(),s.yB=n,s.TB=i,s.pB=n,s.AB=i,s.SB=r,s.IB=Boolean(e),s.aS=null!=u?u:"",s}Et(n,t);var i=n.prototype;return i.ma=function(){return qw(this)},i.DB=function(t){return this===t||Hg(this,t)&&sy(this,t)&&this.EB(t)},i.EB=function(t){return Xg(this.U,t.U)},i.kB=function(t,n){this.yB=t,this.TB=n,this.pB=t,this.AB=n},i.gn=function(){this.Bo()},Ct(n,[{key:"lB",get:function(){return this.yB},set:function(t){var n,i;this.yB!==t&&(this.yB=t,null==(n=this.bB)||n.MB(this),this.yo(new ny(this)),null==(i=this.bB)||i.yo(new ry(this)))}},{key:"dB",get:function(){return this.TB},set:function(t){var n,i;this.TB!==t&&(this.TB=t,null==(n=this.bB)||n.MB(this),this.yo(new ny(this)),null==(i=this.bB)||i.yo(new ry(this)))}},{key:"o",get:function(){return this.aS}},{key:"zL",get:function(){return this.iB}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"Yh",get:function(){return this.Kh},set:function(t){this.Kh=t}},{key:"Ht",get:function(){return this.bB},set:function(t){this.bB=t}},{key:"U",get:function(){return this.SB},set:function(t){var n;this.SB!==t&&(this.SB=t,this.yo(new ny(this)),null==(n=this.bB)||n.yo(new ry(this)))}},{key:"NB",get:function(){return this.IB},set:function(t){this.IB=t}}]),n}(Aa);function ay(t,n){return t.U===n.U&&t.gB===n.gB&&t._B===n._B&&t.uo===n.uo&&t.vB===n.vB&&t.wB===n.wB&&t.mB===n.mB&&t.Kb===n.Kb&&t.fB===n.fB&&t.Pt===n.Pt}var cy=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).gB="auto",s._B="start",s.uo="auto",s.vB="auto",s.wB=void 0,s.mB=!0,s.Kb=100,s.fB="center",s.Pt="",s}return Et(n,t),n.prototype.EB=function(t){return ay(this,t)},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=ty(this)),this.Za}},{key:"YA",get:function(){return Vw.oB}}]),n}(oy);function hy(t){var n=t.gB,i=Ai(n);return i&&!t.mB&&(n<0||n>100)?100:i?Number(n):t.mB?-1:100}function fy(t){return Xw(t.uo,t.fB)}function vy(t){return Zw(t.vB,t.fB)}function dy(t){var n,i=vy(t),r=fy(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return k.min(t.Kb,n)}function ly(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.xB},get regionAnchorX(){return t.CB},get regionAnchorY(){return t.jB},get scrollValue(){return t.OB},get viewportAnchorX(){return t.RB},get viewportAnchorY(){return t.PB},get width(){return t.ji}}}Q(),Nt(),Zt(),Q(),Nt();var gy=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.xB=i,this.CB=r,this.jB=e,this.RB=u,this.PB=s,this.OB=o}return Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=ly(this)),this.Za}},{key:"YA",get:function(){return Vw.hB}}]),t}();Q(),Nt(),Q(),Nt(),tn();var wy=1e6,yy=function(){function t(){}var n=t.prototype;return n.zB=function(t){return this.BB()*t},n.UB=function(t){return this.QB(t)>0},n.FB=function(t){return this.QB(t)>=0},n.YB=function(t,n){return this.GB(t).VB(n)},n.DB=function(t){return 0===this.QB(t)},n.WB=function(t){return this.QB(t)<0},n.VB=function(t){return this.QB(t)<=0},n.ZB=function(){return this.HB()?this.XB():this},n.qB=function(t){return this.Kz(t.XB())},n.GB=function(t){return this.qB(t).ZB()},t}();function my(t,n){return t.KB()?n.KB()?_o.Zr:_o.iy:n.KB()?_o.ey:t.JB()?n.JB()&&t.HB()===n.HB()?_o.Zr:t.HB()?_o.ey:_o.iy:n.HB()?_o.iy:_o.ey}Q(),Nt(),St(),Sn(),Q(),Nt(),Sn();var Ay=4294967296,py=Ay*Ay,_y=py*py,ky=_y/2,My=function(){function t(t,n){this.cU=t,this.aU=n}var n=t.prototype;return n.hU=function(){return this.aU.unsigned},n.uU=function(){return this.cU.isZero()&&this.aU.isZero()},n.HB=function(){return this.aU.isNegative()},n.lU=function(){return this.hU()?t.$B(this.cU,this.aU,!1):this},n.dU=function(){return this.hU()?this:t.$B(this.cU,this.aU,!0)},n.fU=function(){return this.cU},n.BB=function(){return this.HB()?-this.XB().BB():this.aU.toNumber()*py+this.cU.toUnsigned().toNumber()},n.gU=function(){return this.cU.toInt()},n.DB=function(t){return(this.hU()===t.hU()||this.aU.getHighBits()>>>31!=1||t.aU.getHighBits()>>>31!=1)&&(this.aU.toUnsigned().eq(t.aU.toUnsigned())&&this.cU.toUnsigned().eq(t.cU.toUnsigned()))},n.QB=function(t){if(this.DB(t))return _o.Zr;var n=this.HB(),i=t.HB();if(n&&!i)return _o.ey;if(!n&&i)return _o.iy;if(!this.hU())return this.qB(t).HB()?_o.ey:_o.iy;var r=this.dU(),e=t.dU(),u=e.aU.comp(r.aU);return u>0||0===u&&e.cU.gt(r.cU)?_o.ey:_o.iy},n.WB=function(t){return this.QB(t)<0},n.VB=function(t){return this.QB(t)<=0},n._U=function(t){return this.QB(t)>0},n.vU=function(t){return this.QB(t)>=0},n.wU=function(){return new t(this.cU.not(),this.aU.not())},n.mU=function(n){return new t(this.cU.and(n.cU),this.aU.and(n.aU))},n.pU=function(n){return new t(this.cU.or(n.cU),this.aU.or(n.aU))},n.AU=function(n){var i=127&n;return 0===i?this:i<64?t.$B(this.cU.shl(i),this.aU.shl(i).or(this.cU.shru(64-i)),this.hU()):t.$B(fr.ZERO,this.cU.shl(i-64),this.hU())},n.yU=function(n){var i=127&n;return 0===i?this:i<64?t.$B(this.cU.shru(i).or(this.aU.shl(64-i)),this.aU.shr(i),this.hU()):t.$B(this.aU.shr(i-64),this.aU.isNegative()?fr.NEG_ONE:fr.ZERO,this.hU())},n.bU=function(n){var i=127&n;return 0===i?this:i<64?t.$B(this.cU.shru(i).or(this.aU.shl(64-i)),this.aU.shru(i),this.hU()):64===i?t.$B(this.aU,fr.ZERO,this.hU()):t.$B(this.aU.shru(i-64),fr.ZERO,this.hU())},n.Kz=function(n){var i=this.aU.high>>>16,r=65535&this.aU.high,e=this.aU.low>>>16,u=65535&this.aU.low,s=this.cU.high>>>16,o=65535&this.cU.high,a=this.cU.low>>>16,c=65535&this.cU.low,h=n.aU.high>>>16,f=65535&n.aU.high,v=n.aU.low>>>16,d=65535&n.aU.low,l=n.cU.high>>>16,g=65535&n.cU.high,w=n.cU.low>>>16,y=0,m=0,A=0,p=0,_=0,k=0,M=0,b=0;M+=(b+=c+(65535&n.cU.low))>>>16,b&=65535,k+=(M+=a+w)>>>16,M&=65535,_+=(k+=o+g)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,A+=(p+=u+d)>>>16,p&=65535,m+=(A+=e+v)>>>16,A&=65535,y+=(m+=r+f)>>>16,m&=65535,y+=i+h,y&=65535;var T=this.hU(),N=fr.fromBits(A<<16|p,y<<16|m,T),D=fr.fromBits(M<<16|b,_<<16|k,T);return t.$B(D,N,T)},n.qB=function(t){return this.Kz(t.XB())},n.XB=function(){return this.wU().Kz(t.MU)},n.TU=function(n){if(this.uU()||n.uU())return this.hU()?t.eU:t.sU;if(this.HB())return n.HB()?this.XB().TU(n.XB()):this.XB().TU(n).XB();if(n.HB())return this.TU(n.XB()).XB();if(this.aU.isZero()&&0===this.cU.high&&n.aU.isZero()&&0===n.cU.high)return t.tU(this.cU.multiply(n.cU));var i=fr.fromBits(4294967295,0,!0),r=this.cU.and(i),e=this.cU.shru(32),u=this.aU.and(i),s=this.aU.shru(32),o=n.cU.and(i),a=n.cU.shru(32),c=n.aU.and(i),h=n.aU.shru(32),f=fr.UZERO,v=fr.UZERO,d=fr.UZERO,l=fr.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=fr.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=fr.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.$B(g,w,this.hU())},n.SU=function(n){var i,r,e=n;if(e.uU())throw new RangeError("division by zero");if(this.uU())return this.hU()?[t.eU,t.eU]:[t.sU,t.sU];if(this.hU()){if(e.hU()||(e=e.dU()),e._U(this))return[t.eU,this];if(e._U(this.bU(1)))return[r=t.NU,i=this.qB(e)];r=t.eU}else{if(this.DB(t.rU)){if(e.DB(t.MU)||e.DB(t.IU))return[t.rU,t.sU];if(e.DB(t.rU))return[t.MU,t.sU];var u=this.yU(1).DU(e).AU(1);return u.DB(t.sU)?r=e.HB()?t.MU:t.IU:(i=this.qB(e.TU(u)),r=u.Kz(i.DU(e))),[r,i=this.qB(e.TU(r))]}if(e.DB(t.rU))return this.hU()?[t.eU,this]:[t.sU,this];var s,o;if(this.HB())return e.HB()?this.XB().SU(e.XB()):(r=(s=En(this.XB().SU(e),2))[0],i=s[1],[r.XB(),i.XB()]);if(e.HB())return r=(o=En(this.SU(e.XB()),2))[0],i=o[1],[r.XB(),i.XB()];r=t.sU}for(i=this;i.vU(e);){for(var a=k.max(1,k.floor(i.BB()/e.BB())),c=k.ceil(k.log(a)/k.LN2),h=c<=48?1:k.pow(2,c-48),f=t.iU(a),v=f.TU(e);v.HB()||v._U(i);)a-=h,v=(f=t.iU(a,this.hU())).TU(e);f.uU()&&(f=t.MU),r=r.Kz(f),i=i.qB(v)}return[r,i]},n.DU=function(t){return this.SU(t)[0]},n.EU=function(t){return this.SU(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.uU())return"0";if(this.HB()){if(this.DB(t.rU)){var r=t.iU(i),e=this.DU(r),u=e.TU(r).qB(this);return e.toString(i)+u.gU().toString(i)}return"-"+this.XB().toString(i)}for(var s=t.iU(k.pow(i,6),this.hU()),o=this,a="";;){var c=o.DU(s),h=(o.qB(c.TU(s)).gU()>>>0).toString(i);if((o=c).uU())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.$B=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.tU=function(n){return n.unsigned?new t(n,fr.UZERO):new t(n,n.isNegative()?fr.NEG_ONE:fr.ZERO)},t.iU=function(n,i){if(T(n))return i?t.eU:t.sU;if(i){if(n<0)return t.eU;if(n>=_y)return t.nU}else{if(n<=-ky)return t.rU;if(n+1>=ky)return t.oU}return n<0?t.iU(-n,i).XB():t.$B(fr.fromNumber(n%py),fr.fromNumber(n/py),i)},t}();My.sU=My.tU(fr.ZERO),My.eU=My.tU(fr.UZERO),My.MU=My.tU(fr.ONE),My.NU=My.tU(fr.UONE),My.IU=My.tU(fr.NEG_ONE),My.oU=My.$B(fr.NEG_ONE,fr.MAX_VALUE,!1),My.nU=My.$B(fr.MAX_UNSIGNED_VALUE,fr.MAX_UNSIGNED_VALUE,!0),My.rU=My.$B(fr.ZERO,fr.MIN_VALUE,!1),tn(),Q(),Nt(),Zt();var by=function(){function t(t,n){void 0===n&&(n=1),this.kU=t,this.xj=n}var n=t.prototype;return n.Kz=function(n){return this.xj>=n.xj?new t(this.kU+n.OU(this.xj).kU,this.xj):new t(this.OU(n.xj).kU+n.kU,n.xj)},n.UB=function(t){return t.WB(this)},n.FB=function(t){return t.VB(this)},n.GB=function(n){return this.xj>=n.xj?new t(k.abs(this.kU-n.OU(this.xj).kU),this.xj):n.GB(this)},n.YB=function(t,n){return this.GB(t).VB(n)},n.QB=function(t){return function(t,n){return t.xj>=n.xj?To(t.kU,n.OU(t.xj).kU):To(t.OU(n.xj).kU,n.kU)}(this,t)},n.DB=function(t){return 0===this.QB(t)},n.WB=function(t){return this.QB(t)<0},n.VB=function(t){return this.QB(t)<=0},n.OU=function(n){return new t(this.kU*(n/this.xj),n)},n.qB=function(n){return this.xj>=n.xj?new t(this.kU-n.OU(this.xj).kU,this.xj):new t(this.OU(n.xj).kU-n.kU,n.xj)},n.RU=function(n){return new t(this.kU*n,this.xj)},t.LU=function(n){return new t(k.ceil(n.kU),n.xj)},t.xU=function(n){return new t(k.floor(n.kU),n.xj)},t.CU=function(t,n){return t.FB(n)?t:n},t.jU=function(t,n){return t.VB(n)?t:n},Ct(t,[{key:"JB",get:function(){return!isFinite(this.kU)}},{key:"sd",get:function(){return this.kU/this.xj}}]),t}();by.ed=new by(1/6,1),by.sU=new by(0),by.PU=new by(1/0),by.zU=1e6;var Ty=function(t){function n(n,i){var r;return(r=t.call(this)||this).zD=n.toSigned(),r.xj=i>>>0,r}Et(n,t);var i=n.prototype;return i.HB=function(){return this.zD.isNegative()},i.uU=function(){return 0!==this.xj&&this.zD.isZero()},i.JB=function(){return 0===this.xj&&!this.zD.isZero()},i.KB=function(){return 0===this.xj&&this.zD.isZero()},i.BB=function(){if(0===this.xj)return this.zD.isZero()?NaN:this.zD.isNegative()?-1/0:1/0;var t=this.zD.divide(this.xj),n=this.zD.subtract(t.multiply(this.xj));return t.toNumber()+n.toNumber()/this.xj},i.fU=function(){if(0===this.xj)throw new A("Failed to convert timestamp");return this.zD},i.WU=function(){return new Date(0===this.xj?NaN:this.OU(1e3).zD.toNumber())},i.ZU=function(){return new by(0===this.xj?this.BB():this.zD.toNumber(),this.xj)},i.OU=function(t,i){void 0===i&&(i=Dy.HU);var r=this.xj;if(r===t)return this;if(0===r)return this;var e=_r(r,t),u=function(t,n,i){var r=En(t.SU(n),2),e=r[0],u=r[1];if(u.uU())return e;if(i===Dy.HU)return u.HB()?e.qB(My.MU):e;if(i===Dy.XU)return u.HB()?e:e.Kz(My.MU);var s=u.TU(My.iU(2));return s.HB()?s.XB().WB(n)?e:e.qB(My.MU):s.WB(n)?e:e.Kz(My.MU)}(My.tU(this.zD).TU(My.iU(t/e)),My.iU(r/e),i);return new n(u.fU(),t)},i.QB=function(t){if(this===t)return _o.Zr;if(0===this.xj||0===t.xj)return my(this,t);if(this.uU())return t.uU()?_o.Zr:t.HB()?_o.iy:_o.ey;if(t.uU())return this.HB()?_o.ey:_o.iy;var n=k.min(this.xj,t.xj),i=this.OU(n,Dy.qU).zD,r=t.OU(n,Dy.qU).zD;return i.compare(r)},i.XB=function(){return 0===this.xj?function(t){0;return t.KB()?t:t.HB()?Ty.QU:Ty.FU}(this):new n(this.zD.negate(),this.xj)},i.Kz=function(t){if(0===this.xj||0===t.xj)return function(t,n){0;if(t.KB()||n.KB())return Ty.UU;if(t.JB()&&n.JB())return t.HB()===n.HB()?t:Ty.UU;return t.JB()?t:n}(this,t);if(this.uU())return t;if(t.uU())return this;var i=k.max(this.xj,t.xj),r=this.OU(i,Dy.qU),e=t.OU(i,Dy.qU);return new n(r.zD.add(e.zD),i)},i.TU=function(t){if(this.KB()||T(t))return n.UU;if(this.JB()||!isFinite(t)){if(this.uU()||0===t)return n.UU;var i=this.HB()?n.FU:n.QU;return t<0?i.XB():i}return this.uU()?this:new n(0===t?fr.ZERO:this.zD.multiply(t),this.xj)},i.DU=function(t){if(this.KB()||T(t))return n.UU;if(this.JB())return isFinite(t)?0===t?1/t<0?this.XB():this:t<0?this.XB():this:n.UU;if(!isFinite(t))return new n(fr.ZERO,this.xj);if(this.uU())return 0===t?n.UU:new n(fr.ZERO,this.xj);if(0===t){var i=this.HB()?n.FU:n.QU;return 1/t<0?i.XB():i}return new n(this.zD.divide(t),this.xj)},i.KU=function(){return[this.zD.low,this.zD.high,this.xj]},n.BU=function(t,i){return void 0===i&&(i=wy),n.iU(t*i,i)},n.iU=function(t,i){return T(t)?n.UU:t===1/0?n.QU:t===-1/0?n.FU:new n(fr.fromNumber(t),i)},n.tU=function(t,i){return new n(t,i)},n.YU=function(t){return n.BU(t.sd,wy)},n.VU=function(t){return new n(fr.fromNumber(t.getTime()),1e3)},n.CU=function(t,n){return t.FB(n)?t:n},n.jU=function(t,n){return t.VB(n)?t:n},n.GU=function(t,i,r){return n.CU(i,n.jU(r,t))},n}(yy);Ty.sU=new Ty(fr.ZERO,wy),Ty.UU=new Ty(fr.ZERO,0),Ty.QU=new Ty(fr.ONE,0),Ty.FU=new Ty(fr.NEG_ONE,0),Q(),Nt(),Zt(),St(),ht(),tn();var Ny=function(t){function n(n,i){var r;return(r=t.call(this)||this).zD=BigInt.asIntN(64,n),r.xj=i>>>0,r}Et(n,t);var i=n.prototype;return i.HB=function(){return this.zD<BigInt(0)},i.uU=function(){return 0!==this.xj&&this.zD===BigInt(0)},i.JB=function(){return 0===this.xj&&this.zD!==BigInt(0)},i.KB=function(){return 0===this.xj&&this.zD===BigInt(0)},i.BB=function(){if(0===this.xj)return this.zD===BigInt(0)?NaN:this.zD<BigInt(0)?-1/0:1/0;var t=this.zD/BigInt(this.xj),n=this.zD-t*BigInt(this.xj);return Number(t)+Number(n)/this.xj},i.fU=function(){if(0===this.xj)throw new A("Failed to convert timestamp");return this.eQ()},i.eQ=function(){var t=this.zD&BigInt(4294967295),n=this.zD>>BigInt(32)&BigInt(4294967295);return fr.fromBits(Number(t),Number(n))},i.WU=function(){return new Date(0===this.xj?NaN:Number(this.OU(1e3).zD))},i.ZU=function(){return new by(0===this.xj?this.BB():Number(this.zD),this.xj)},i.OU=function(t,i){void 0===i&&(i=Dy.HU);var r=this.xj;if(r===t)return this;if(0===r)return this;var e=_r(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Dy.HU)return e<BigInt(0)?r-BigInt(1):r;if(i===Dy.XU)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.zD*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.QB=function(t){if(this===t)return _o.Zr;if(0===this.xj||0===t.xj)return my(this,t);if(this.uU())return t.uU()?_o.Zr:t.HB()?_o.iy:_o.ey;if(t.uU())return this.HB()?_o.ey:_o.iy;var n=k.min(this.xj,t.xj),i=this.OU(n,Dy.qU).zD,r=t.OU(n,Dy.qU).zD;return i>r?_o.iy:i<r?_o.ey:_o.Zr},i.XB=function(){return 0===this.xj?function(t){0;return t.KB()?t:t.HB()?Ny.QU:Ny.FU}(this):new n(-this.zD,this.xj)},i.Kz=function(t){if(0===this.xj||0===t.xj)return function(t,n){0;if(t.KB()||n.KB())return Ny.UU;if(t.JB()&&n.JB())return t.HB()===n.HB()?t:Ny.UU;return t.JB()?t:n}(this,t);if(this.uU())return t;if(t.uU())return this;var i=k.max(this.xj,t.xj),r=this.OU(i,Dy.qU),e=t.OU(i,Dy.qU);return new n(r.zD+e.zD,i)},i.TU=function(t){if(this.KB()||T(t))return n.UU;if(this.JB()||!isFinite(t)){if(this.uU()||0===t)return n.UU;var i=this.HB()?n.FU:n.QU;return t<0?i.XB():i}return this.uU()?this:new n(0===t?BigInt(0):this.zD*BigInt(t),this.xj)},i.DU=function(t){if(this.KB()||T(t))return n.UU;if(this.JB())return isFinite(t)?0===t?1/t<0?this.XB():this:t<0?this.XB():this:n.UU;if(!isFinite(t))return new n(BigInt(0),this.xj);if(this.uU())return 0===t?n.UU:new n(BigInt(0),this.xj);if(0===t){var i=this.HB()?n.FU:n.QU;return 1/t<0?i.XB():i}return new n(this.zD/BigInt(t),this.xj)},i.KU=function(){var t=this.eQ();return[t.low,t.high,this.xj]},n.BU=function(t,i){return void 0===i&&(i=wy),n.iU(t*i,i)},n.iU=function(t,i){return T(t)?n.UU:t===1/0?n.QU:t===-1/0?n.FU:new n(BigInt(k.floor(t)),i)},n.tU=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.YU=function(t){return n.BU(t.sd,wy)},n.VU=function(t){return n.iU(t.getTime(),1e3)},n.CU=function(t,n){return t.FB(n)?t:n},n.jU=function(t,n){return t.VB(n)?t:n},n.GU=function(t,i,r){return n.CU(i,n.jU(r,t))},Ct(n,null,[{key:"sU",get:function(){return n.JU||(n.JU=new n(BigInt(0),wy)),n.JU}},{key:"UU",get:function(){return n.$U||(n.$U=new n(BigInt(0),0)),n.$U}},{key:"QU",get:function(){return n.tQ||(n.tQ=new n(BigInt(1),0)),n.tQ}},{key:"FU",get:function(){return n.iQ||(n.iQ=new n(BigInt(-1),0)),n.iQ}}]),n}(yy);Ny.JU=void 0,Ny.$U=void 0,Ny.tQ=void 0,Ny.iQ=void 0;var Dy=function(t){return t[t.HU=0]="HU",t[t.XU=1]="XU",t[t.qU=2]="qU",t}({}),Iy=function(){try{return"function"==typeof BigInt&&"bigint"===Y(BigInt(0))}catch(t){return!1}}()?Ny:Ty;function Ey(t,n){return t.QB(n)}function Sy(t,n){return void 0!==t?void 0!==n?Iy.jU(t,n):t:n}Q(),Nt(),sn();var Ly=9e4,Cy=k.pow(2,33),jy=un((function(){return Iy.iU(Cy,Ly)})),xy=un((function(){return jy().DU(2)}));Q(),Nt();var Oy={sQ:0,nQ:1/0,rQ:0};tn();var zy=6,Ry=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],By=[" ","\t","\n","\f","\r"],Uy=/^\d*$/,Py=/.*[0-9]+.*/,Qy=/^[\d.-]+$/,Yy=/(^\.|\.$)/,Gy=/(\D\.|\.\D)/;function Vy(t,n,i){return void 0===n&&(n=Oy),void 0===i&&(i=!0),Fy(xc(Rc(t),new Vc),n,i)}function Fy(t,n,i){void 0===n&&(n=Oy),void 0===i&&(i=!0);var r={L:[],oQ:[],hQ:[]},e=Wy(t),u=new Vc;if(em(e),Zy(e,(function(t){return"\n"!==t}),u),u.tc>=e.length)return r;(u.Gb(1),"\n"!==e.charAt(u.tc))?qy(Xy(e,u,false,!0,r,n,i),r):u.Gb(1);for(Zy(e,(function(t){return"\n"===t}),u);u.tc<e.length;){qy(Xy(e,u,false,!1,r,n,i),r),Zy(e,(function(t){return"\n"===t}),u)}return r}function Wy(t){var n=$s(t,"\0"," "),i=$s(n,"\r\n","\n");return $s(i,"\r","\n")}function Zy(t,n,i){for(var r=i.tc;i.tc<t.length&&n(t.charAt(i.tc));)i.Gb(1);return t.substring(r,i.tc)}function Xy(t,n,i,r,e,u,s){for(var o,a=0,c=n.tc,h="",f=!1,v=!1,d=null,l=null,g=null;!f;)if(o=Zy(t,(function(t){return"\n"!==t}),n),a++,n.tc>=t.length?f=!0:n.Gb(1),to(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Wb(c);break}v=!0,c=n.tc,d=new cy(0,0,"",!1,h);try{$y(o,e.oQ,d,u,s),h=""}catch(t){Kt.uA(t),d=null}}else{if(""===o)break;r&&no(o,"X-TIMESTAMP-MAP")&&(e.aQ=Hy(o)),r||2!==a||i||(ro("STYLE",h.replace(/ /g,""))?(l={YA:Vw.aB},h=""):ro("REGION",h.replace(/ /g,""))&&(g=new gy("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.tc}if(d)return d.U=h,d;if(l);else if(g)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&to(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":wm(a,n);break;case"WIDTH":Am(a,n);break;case"LINES":mm(a,n);break;case"REGIONANCHOR":var c=gm(a);c&&(n.CB=c[0],n.jB=c[1]);break;case"VIEWPORTANCHOR":var h=gm(a);h&&(n.RB=h[0],n.PB=h[1]);break;case"SCROLL":ym(a,n)}}}}(h,g),g;return null}function Hy(t){var n,i=t.split("=")[1].trim().split(","),r=Jy(i[0].trim(),"MPEGTS")?i[0]:i[1],e=Jy(i[0].trim(),"LOCAL")?i[0]:i[1];return{uQ:Ky(Number(r.split(/:(.*)/)[1].trim())||0),lh:Iy.BU(null!=(n=im(e.split(/:(.*)/)[1].trim(),new Vc))?n:0)}}function Ky(t){return Iy.iU(t,Ly)}function Jy(t,n){return no(t,n)}function qy(t,n){t&&function(t){return"cue"===t.YA}(t)?n.L.push(t):t&&function(t){return"region"===t.YA}(t)?n.oQ.push(t):t&&function(t){return"stylesheet"===t.YA}(t)&&n.hQ.push(t)}function $y(t,n,i,r,e){var u=new Vc;sm(t,u);var s=tm(im(t,u),r,e);if(sm(t,u),"--\x3e"!==t.substring(u.tc,u.tc+3))throw A("Something went wrong with parsing a WebVTT Cue");u.Gb(3),sm(t,u);var o=tm(im(t,u),r,e);i.kB(s,o),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&to(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":fm(c,n,i);break;case"VERTICAL":dm(c,n);break;case"D":lm(c,n);break;case"LINE":case"L":cm(c,n);break;case"POSITION":case"T":hm(c,n);break;case"SIZE":case"S":vm(c,n);break;case"ALIGN":case"A":am(c,n)}}}}(t.substring(u.tc,t.length),i,n)}function tm(t,n,i){return i?t+n.sQ:t}function nm(t){return/^[0-9]$/.test(t)}function im(t,n){var i,r,e,u=$s(t,",","."),s=!1;if(n.tc>=u.length||!nm(u.charAt(n.tc)))throw new A("Something went wrong with parsing a WebVTT Cue timestamp");var o=Zy(u,nm,n),a=M(o,10);if((o.length>2||a>59)&&(s=!0),n.tc>=u.length||":"!==u.charAt(n.tc))throw new A("Something went wrong with parsing a WebVTT Cue timestamp");n.Gb(1);var c=Zy(u,nm,n);if(2!==c.length)throw new A("Something went wrong with parsing a WebVTT Cue timestamp");var h=M(c,10);if(s||n.tc<u.length&&":"===u.charAt(n.tc)){if(n.tc>=u.length||":"!==u.charAt(n.tc))throw new A("Something went wrong with parsing a WebVTT Cue timestamp");n.Gb(1);var f=Zy(u,nm,n);if(2!==c.length)throw new A("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=M(f,10)}else i=0,r=a,e=h;if(n.tc>=u.length||"."!==u.charAt(n.tc))throw new A("Something went wrong with parsing a WebVTT Cue timestamp");n.Gb(1);var v=Zy(u,nm,n),d=M(v,10);if(h>59||e>59)throw new A("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+d/1e3}function rm(t){return em(Wy(t))}function em(t){if(t.length<zy)return!1;for(var n=0;n<Ry.length;n++){var i=Ry[n];if(no(t,i))return!0}return!1}function um(t){return Oo(By,t)}function sm(t,n){for(;n.tc<t.length&&um(t.charAt(n.tc));)n.Gb(1)}function om(t){var n=t.lastIndexOf("%");if(n>-1){var i=b(t.substring(0,n));if(!T(i)&&i>=0&&i<=100)return i}return null}function am(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.fB=i;break;case"middle":n.fB="center"}}function cm(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),Py.test(i)){var u,s;if(io(i,"%")){var o=om(i);if(null===o)return;u=o,s=!1}else{if(!Qy.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Gy.test(i)||Yy.test(i)))return;if(u=b(i),T(u))return;s=!0}switch(n.gB=u,n.mB=s,r=r.toLowerCase()){case"start":case"center":case"end":n._B=r;break;case"middle":n._B="center"}}}function hm(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=om(i);if(null!==u)switch(n.uo=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.vB=r;break;case"start":n.vB="line-left";break;case"middle":n.vB="center";break;case"end":n.vB="line-right"}}function fm(t,n,i){var r=Eo(i,(function(n){return n.o===t}));void 0!==r&&(n.wB=r)}function vm(t,n){var i=om(t);null!==i&&(n.Kb=i)}function dm(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function lm(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function gm(t){if(t.indexOf(",")>=0){var n=om(t.substring(0,t.indexOf(","))),i=om(t.substring(t.indexOf(",")+1,t.length));return[gr(n||0,0,100),gr(i||100,0,100)]}return null}function wm(t,n){n.o=t}function ym(t,n){"up"===t.toLowerCase()&&(n.OB="up")}function mm(t,n){Uy.test(t)&&(n.xB=M(t))}function Am(t,n){var i=om(t);null!==i&&(n.ji=i)}Q(),Nt(),Sn(),Q(),Nt(),Q(),Nt();var pm=function(t){return t.kx="moov",t.Lx="mvhd",t.xx="trak",t.Cx="tkhd",t.jx="mdia",t.Ox="mdhd",t.Rx="hdlr",t.Px="minf",t.zx="stbl",t.Bx="stsd",t.Ux="stsc",t.Qx="mvex",t.Fx="trex",t.Yx="avc1",t.Vx="avcC",t.Gx="hev1",t.Wx="hvc1",t.Zx="hvcC",t.Hx="vp09",t.Xx="vpcC",t.qx="av01",t.Kx="av1C",t.Jx="dvcC",t.$x="dvvC",t.tC="dvwC",t.iC="dec3",t.eC="dvav",t.sC="dva1",t.nC="dvhe",t.rC="dvh1",t.oC="ec-3",t.hC="colr",t.aC="pasp",t.uC="mp4a",t.cC="esds",t.lC="fLaC",t.dC="dfLa",t.fC="wvtt",t.gC="vttC",t._C="vlab",t.vC="enca",t.wC="encv",t.mC="moof",t.pC="mfhd",t.AC="traf",t.yC="tfhd",t.bC="trun",t.MC="tfdt",t.TC="senc",t.SC="mdat",t.NC="pssh",t.IC="emsg",t.DC="sidx",t.EC="styp",t.kC="ftyp",t.LC="sinf",t.xC="frma",t}({}),_m=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),km=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),Mm=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});Q(),Nt();var bm=function(){function t(t,n){this.rI=t,this.OC=n}var n=t.prototype;return n.jC=function(){return ic(this.rI,this.OC)},n.RC=function(){return cc(this.rI,this.OC)},n.zC=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.tc,i);return n.Gb(2),r}(this.rI,this.OC)},n.BC=function(){return fc(this.rI,this.OC)},n.QC=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.tc,i);return n.Gb(4),r}(this.rI,this.OC)},n.FC=function(){return dc(this.rI,this.OC)},n.YC=function(t){return ec(this.rI,this.OC,t)},n.VC=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(fc(t,n));return r}(this.rI,this.OC,t)},n.GC=function(t){return wc(this.rI,this.OC,t)},n.WC=function(){return Lc(this.rI,this.OC)},n.ZC=function(t){this.OC.Gb(t)},n.Zb=function(){return new t(this.rI,this.OC.Zb())},t}();Q(),Nt(),Zt(),St(),Q(),Nt();function Tm(t,n){return t.YA===n}function Nm(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Tm(r,n))return r}}var Dm=function(t){function n(n,i){var r;return(r=t.call(this)||this).HC=n,r.XC=i,r}return Et(n,t),Ct(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Jo),Im=function(){function t(){}return t.qC=function(n){var i=n.rI,r=n.OC,e=t.KC(i,r,!1);if(!e.JC)throw new Dm(r.tc,e.m);return e.m},t.KC=function(n,i,r){for(var e=[];i.tc<n.byteLength;){var u=t.$C(n,i,r);if(!u.JC)return{JC:!1,m:e};e.push(u.tj)}return{JC:!0,m:e}},t.ij=function(n,i){var r=t.$C(n,i,!1);if(!r.JC)throw new Dm(i.tc);return r.tj},t.ej=function(n,i){for(var r=n.rI,e=n.OC;e.tc<r.byteLength;){var u=t.$C(r,e,!1);if(!u.JC)return;if(u.tj.YA===i)return u.tj}},t.$C=function(n,i,r){var e=i.tc,u=t.sj(n,i);if(!u.JC)return u;var s=u.nj,o=s.Kb;if(0===o){if(r)return i.Wb(e),{JC:!1,rj:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Wb(e),{JC:!1,rj:c}}var h={YA:s.YA,tc:e,rI:new bm(zc(n,e,a),new Vc(s.hj))};return i.Wb(a),{JC:!0,tj:h}},t.sj=function(t,n){var i=n.tc;if(!sc(t,n,8))return{JC:!1,rj:n.tc+8};var r=fc(t,n),e=wc(t,n,4);if(1===r){if(!sc(t,n,8)){var u=n.tc+8;return n.Wb(i),{JC:!1,rj:u}}r=dc(t,n).toNumber()}if("uuid"===e){if(!sc(t,n,16)){var s=n.tc+16;return n.Wb(i),{JC:!1,rj:s}}e=wc(t,n,16)}return{JC:!0,nj:{YA:e,Kb:r,hj:n.tc-i}}},t.aj=function(t,n,i){var r=t.rI,e=t.OC,u=Oc(Bc(r),e.tc,r.byteLength);return i&&(u=Yc(u)),e.Gb(u.byteLength),{YA:n,rI:u}},t.uj=function(n,i,r){var e=Cm(n.BC());return{YA:i,cj:e.version,lj:e.flags,rI:t.aj(n,i,r).rI}},t}();function Em(t,n){var i=Sm(t,n);if(!i)throw new A("Missing "+n+" atom");return i}function Sm(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.YA===n)return r.rI}}function Lm(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.YA===n&&i.push(e.rI)}return i}function Cm(t){return{version:t>>24,flags:new $a(16777215&t)}}var jm=function(){function t(){}return t.dj=function(n){for(var i=[],r=Im.qC(new bm(n,new Vc)),e=0;e<r.length;e++){var u=r[e],s=t.gj(u);s&&i.push(s)}return i},t._j=function(t){return Im.KC(t,new Vc,!1).m.some(this.vj)},t.wj=function(n){return Lm(Im.qC(new bm(n,new Vc)),pm.NC).map(t.mj)},t.pj=function(n){return Lm(Im.qC(n.rI),pm.NC).map(t.mj)},t.vj=function(t){return t.YA===pm.kC||t.YA===pm.EC||t.YA===pm.kx||t.YA===pm.mC||t.YA===pm.SC||t.YA===pm.DC||t.YA===pm.IC},t.gj=function(n){switch(n.YA){case pm.kx:return t.Aj(n.rI);case pm.mC:return t.yj(n.rI,n.tc);case pm.SC:return t.bj(n.rI);case pm.DC:return t.Mj(n.rI);case pm.IC:return t.Tj(n.rI)}},t.Aj=function(n){var i=Im.qC(n),r=Em(i,pm.Lx),e=Lm(i,pm.xx),u=Sm(i,pm.Qx),s=t.Sj(r),o=e.map(t.Nj),a=u?t.Ij(u):void 0;return{YA:pm.kx,nj:s,Z:o,Dj:a}},t.Sj=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags,e=1===i?t.FC():t.BC(),u=1===i?t.FC():t.BC(),s=t.BC(),o=1===i?t.FC():t.BC(),a=t.BC(),c=t.RC()>>8;t.ZC(2),t.ZC(8);var h=t.VC(9);t.ZC(24);var f=t.BC();return{YA:pm.Lx,cj:i,lj:r,Ej:e,Lj:u,xj:s,ct:o,Cj:a,Nk:c,jj:h,Oj:f}},t.Nj=function(n){var i=Im.qC(n),r=Em(i,pm.Cx),e=Em(i,pm.jx),u=t.Rj(r),s=t.Pj(e);return{YA:pm.xx,nj:u,zj:s}},t.Rj=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags,e=1===i?t.FC():t.BC(),u=1===i?t.FC():t.BC(),s=t.BC();t.ZC(4);var o=1===i?t.FC():t.BC();t.ZC(8);var a=t.zC(),c=t.zC(),h=t.zC()/k.pow(2,8);t.ZC(2);var f=t.VC(9),v=t.BC()/k.pow(2,16),d=t.BC()/k.pow(2,16);return{YA:pm.Cx,Bj:r.Hb(1),Uj:r.Hb(2),Qj:r.Hb(4),Ej:e,Lj:u,Fj:s,ct:o,Om:a,Yj:c,Nk:h,jj:f,ji:v,Ti:d}},t.Pj=function(n){var i=Im.qC(n),r=Em(i,pm.Ox),e=Em(i,pm.Rx),u=Em(i,pm.Px),s=t.Vj(r),o=t.Gj(e),a=t.Wj(u);return{YA:pm.jx,nj:s,Zj:o,Hj:a}},t.Vj=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags,e=1===i?t.FC():t.BC(),u=1===i?t.FC():t.BC(),s=t.BC(),o=1===i?t.FC():t.BC();t.RC();return t.ZC(2),{YA:pm.Ox,cj:i,lj:r,Ej:e,Lj:u,xj:s,ct:o}},t.Gj=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags;t.ZC(4);var e=t.GC(4);t.ZC(12);var u=t.WC();return{YA:pm.Rx,cj:i,lj:r,Xj:e,l:u}},t.Wj=function(n){var i=Em(Im.qC(n),pm.zx),r=t.qj(i);return{YA:pm.Px,Kj:r}},t.qj=function(n){var i=Em(Im.qC(n),pm.Bx),r=t.Jj(i);return{YA:pm.zx,$j:r}},t.Jj=function(n){for(var i=Cm(n.BC()),r=i.version,e=i.flags,u=(n.BC(),[]),s=Im.qC(n),o=0;o<s.length;o++){var a=s[o],c=t.tO(a.rI,a.YA);c&&u.push(c)}return{YA:pm.Bx,cj:r,lj:e,iO:u}},t.tO=function(n,i){var r=t.eO(n,i);return r||((r=t.sO(n,i))||(i===pm.fC?t.nO(n):void 0))},t.eO=function(n,i){return i===pm.uC?t.rO(n):i===pm.lC||i===pm.lC.toLowerCase()||i===pm.lC.toUpperCase()?t.oO(n):i===pm.vC?t.hO(n):i===pm.oC?t.aO(n):void 0},t.sO=function(n,i){return i===pm.Yx?t.uO(n):i===pm.Gx||i===pm.Wx?t.cO(n,i):i===pm.Hx?t.lO(n,i):i===pm.qx?t.dO(n,i):i===pm.wC?t.fO(n):i===pm.eC||i===pm.sC||i===pm.nC||i===pm.rC?t.gO(n,i):void 0},t._O=function(t,n){return t.ZC(6),{YA:n,vO:t.RC()}},t.wO=function(n,i){var r=t._O(n,i);n.ZC(8);var e=n.RC(),u=n.RC();return n.ZC(2),n.ZC(2),ys({},r,{mO:e,pO:u,AO:n.BC()>>>16})},t.yO=function(n,i){var r=t._O(n,i);n.ZC(2),n.ZC(2),n.ZC(12);var e=n.RC(),u=n.RC(),s=n.BC(),o=n.BC();n.ZC(4);var a=n.RC();n.ZC(32);var c=n.RC();return n.ZC(2),ys({},r,{ji:e,Ti:u,bO:s,MO:o,TO:a,SO:c})},t.rO=function(n){var i=t.wO(n,pm.uC),r=Em(Im.qC(n),pm.cC);return ys({},i,{IO:t.DO(r)})},t.oO=function(n){var i=t.wO(n,pm.lC),r=Em(Im.qC(n),pm.dC);return ys({},i,{EO:t.kO(r)})},t.nO=function(n){var i=t._O(n,pm.fC),r=Im.qC(n),e=Em(r,pm.gC),u=t.LO(e),s=Sm(r,pm._C);return ys({},i,{xO:u,CO:s?t.jO(s):void 0})},t.LO=function(t){return{YA:pm.gC,md:t.WC()}},t.jO=function(t){return{YA:pm._C,kh:t.WC()}},t.DO=function(t){return Im.uj(t,pm.cC,!0)},t.kO=function(t){return Im.uj(t,pm.dC,!0)},t.uO=function(n){var i=t.yO(n,pm.Yx),r=Im.qC(n),e=Em(r,pm.Vx),u=Sm(r,pm.aC);return ys({},i,{OO:t.RO(e),PO:u?t.zO(u):void 0})},t.cO=function(n,i){var r=t.yO(n,i),e=Em(Im.qC(n),pm.Zx);return ys({},r,{BO:t.UO(e)})},t.lO=function(n,i){var r=t.yO(n,i),e=Em(Im.qC(n),pm.Xx);return ys({},r,{QO:t.FO(e)})},t.dO=function(n,i){var r=t.yO(n,i),e=Im.qC(n),u=Em(e,pm.Kx),s=t.YO(u),o=Sm(e,pm.hC);return ys({},r,{VO:s,GO:o?t.WO(o):void 0})},t.fO=function(n){var i=n.Zb(),r=t.yO(n,pm.wC),e=Em(Im.qC(n),pm.LC),u=t.ZO(e);return ys({},r,{HO:t.sO(i,u.qO.XO),KO:u})},t.gO=function(n,i){var r=t.yO(n,i),e=Im.qC(n);return ys({},r,{JO:t.$O(e)})},t.aO=function(n){var i=t.wO(n,pm.oC),r=Em(Im.qC(n),pm.iC);return ys({},i,{tR:t.iR(r)})},t.hO=function(n){var i=n.Zb(),r=t.wO(n,pm.vC),e=Em(Im.qC(n),pm.LC),u=t.ZO(e);return ys({},r,{HO:t.eO(i,u.qO.XO),KO:u})},t.ZO=function(n){var i=Em(Im.qC(n),pm.xC),r=t.eR(i);return{YA:pm.LC,qO:r}},t.eR=function(t){var n=t.GC(4);return{YA:pm.xC,XO:n}},t.RO=function(t){return Im.aj(t,pm.Vx,!0)},t.UO=function(t){return Im.aj(t,pm.Zx,!0)},t.$O=function(t){var n=Sm(t,pm.Jx);if(void 0!==n)return Im.aj(n,pm.Jx,!0);var i=Sm(t,pm.$x);if(void 0!==i)return Im.aj(i,pm.$x,!0);var r=Sm(t,pm.tC);if(void 0!==r)return Im.aj(r,pm.tC,!0);throw A("Error parsing Dolby Vision configuration box.")},t.iR=function(t){return Im.aj(t,pm.iC,!0)},t.FO=function(t){return Im.aj(t,pm.Xx,!0)},t.YO=function(t){return Im.aj(t,pm.Kx,!0)},t.WO=function(t){var n=t.GC(4);switch(n){case"nclx":return{sR:_m.ON_SCREEN_COLOURS,nR:t.RC(),rR:t.RC(),oR:t.RC(),hR:0!=(128&t.jC())};case"rICC":return{sR:_m.RESTRICTED_ICC_PROFILE};case"prof":return{sR:_m.UNRESTRICED_ICC_PROFILE};default:throw A("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.zO=function(t){var n=t.BC(),i=t.BC();return{YA:pm.aC,aR:n,uR:i}},t.Ij=function(n){var i=Lm(Im.qC(n),pm.Fx).map(t.cR);return{YA:pm.Qx,Z:i}},t.cR=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags,e=t.BC(),u=t.BC(),s=t.BC(),o=t.BC(),a=t.BC();return{YA:pm.Fx,cj:i,lj:r,Fj:e,lR:u,dR:s,fR:o,gR:a}},t.yj=function(n,i){var r=Im.qC(n),e=Em(r,pm.pC),u=Lm(r,pm.AC),s=t._R(e),o=u.map(t.vR);return{YA:pm.mC,wR:i,nj:s,Z:o}},t._R=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags,e=t.BC();return{YA:pm.pC,cj:i,lj:r,mR:e}},t.vR=function(n){var i=Im.qC(n),r=Em(i,pm.yC),e=Lm(i,pm.bC),u=Sm(i,pm.MC),s=t.pR(r),o=e.map((function(n){return t.AR(n,s)})),a=u?t.yR(u):void 0;return{YA:pm.AC,nj:s,bR:o,MR:a}},t.pR=function(t){var n=Cm(t.BC()),i=n.version,r=n.flags,e=t.BC(),u=r.Hb(km.BASE_DATA_OFFSET_PRESENT)?t.FC():void 0,s=r.Hb(km.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.BC():void 0,o=r.Hb(km.DEFAULT_SAMPLE_DURATION_PRESENT)?t.BC():void 0,a=r.Hb(km.DEFAULT_SAMPLE_SIZE_PRESENT)?t.BC():void 0,c=r.Hb(km.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.BC():void 0;return{YA:pm.yC,cj:i,lj:r,Fj:e,SR:u,NR:s,dR:o,fR:a,gR:c}},t.AR=function(n,i){for(var r=Cm(n.BC()),e=r.version,u=r.flags,s=n.BC(),o=u.Hb(Mm.DATA_OFFSET_PRESENT)?n.QC():void 0,a=u.Hb(Mm.FIRST_SAMPLE_FLAGS_PRESENT)?n.BC():void 0,c=[],h=0;h<s;h++){var f=t.IR(n,u,e,i);0===h&&void 0!==a&&(f.lj=a),c.push(f)}return{YA:pm.bC,cj:e,lj:u,DR:s,wR:o,ER:a,kR:c}},t.IR=function(t,n,i,r){return{ct:n.Hb(Mm.SAMPLE_DURATION_PRESENT)?t.BC():r.dR,Kb:n.Hb(Mm.SAMPLE_SIZE_PRESENT)?t.BC():r.fR,lj:n.Hb(Mm.SAMPLE_FLAGS_PRESENT)?t.BC():r.gR,LR:n.Hb(Mm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.BC():t.QC():void 0}},t.Tj=function(t){var n=t.rI,i=t.OC,r=Cm(fc(n,i)),e=r.version,u=r.flags;if(1===e){var s=fc(n,i),o=dc(n,i),a=fc(n,i),c=fc(n,i),h=gc(n,i),f=gc(n,i),v=Qc(Bc(n),i.tc,n.byteLength);return i.Gb(v.byteLength),{YA:pm.IC,cj:e,lj:u,xR:h,zD:f,xj:s,jR:o,OR:a,o:c,RR:v}}var d=gc(n,i),l=gc(n,i),g=fc(n,i),w=fc(n,i),y=fc(n,i),m=fc(n,i),A=Qc(Bc(n),i.tc,n.byteLength);return i.Gb(A.byteLength),{YA:pm.IC,lj:u,cj:e,xR:d,zD:l,xj:g,PR:w,OR:y,o:m,RR:A}},t.bj=function(t){return Im.aj(t,pm.SC,!1)},t.mj=function(n){var i=n.rI,r=n.OC,e=Yc(Bc(i)).buffer,u=Cm(fc(i,r)),s=u.version,o=u.flags,a=t.zR(i,r),c=[];if(s>0)for(var h=fc(i,r),f=0;f<h;f++){var v=ec(i,r,16);c.push(v)}var d=fc(i,r),l=new N(e,r.tc,d);return r.Gb(i.byteLength),{YA:pm.NC,cj:s,lj:o,UR:a,QR:c,FR:d,rI:l,YR:e}},t.zR=function(t,n){for(var i="",r=0;r<4;r++){var e=ic(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=ic(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=ic(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=ic(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=ic(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Mj=function(t){var n,i,r=t.rI,e=t.OC,u=Cm(fc(r,e)),s=u.version,o=u.flags,a=fc(r,e),c=fc(r,e);0===s?(n=fr.fromBits(fc(r,e),0,!0),i=fr.fromBits(fc(r,e),0,!0)):(n=dc(r,e),i=dc(r,e)),e.Gb(2);for(var h=cc(r,e),f=[],v=0;v<h;v+=1){var d=fc(r,e),l=d>>31&1,g=2147483647&d,w=fc(r,e),y=fc(r,e),m=y>>31&1,A=y>>28&7,p=268435455&y;f.push({GR:l,WR:g,ct:w,ZR:m,HR:A,XR:p})}return{YA:pm.DC,cj:s,lj:o,qR:a,xj:c,KR:n,JR:i,$R:h,tP:f}},t.yR=function(t){var n,i=t.rI,r=t.OC,e=Cm(fc(i,r)),u=e.version,s=e.flags;return n=0===u?fr.fromBits(fc(i,r),0,!0):dc(i,r),{YA:pm.MC,cj:u,lj:s,MR:n}},t}();function xm(t){return t&&"ZD"in t?t.ZD:t}Q(),Nt(),Zt(),St(),Q(),Nt();var Om=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).lQ=u,c.fQ=s,c.gQ=o,c.vQ=a||void 0,c}return Et(n,t),n.prototype.EB=function(t){return!!Xg(this.cQ,t.cQ)&&(!!Xg(this.dQ,t.dQ)&&(!!Xg(this.oQ,t.oQ)&&(this._Q&&t._Q?!!this._Q.BD(t._Q)&&(this.U&&t.U?this.U.BD(t.U):this.U===t.U):this._Q===t._Q)))},Ct(n,[{key:"cQ",get:function(){return this.lQ}},{key:"dQ",get:function(){return this.fQ}},{key:"oQ",get:function(){return this.gQ}},{key:"_Q",get:function(){return this.vQ}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Wg(qw(t),{get extent(){return t.cQ},get styles(){return t.dQ},get regions(){return t.oQ},get metadata(){return xm(t._Q)},get content(){return xm(t.U)}})}(this)),this.Za}}]),n}(oy);Q(),Nt(),Zt();var zm=function(){function t(t,n,i){this.mQ=t,this.pQ=n,yg(i)?this.R_=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.$D(u)}return i}(0,0,i):this.R_=i}return Ct(t,[{key:"wQ",get:function(){return this.R_.UD(!0)}},{key:"lB",get:function(){return this.mQ}},{key:"dB",get:function(){return this.pQ}}]),t}();tn(),Q(),Nt(),gn();var Rm="http://www.w3.org/XML/1998/namespace";function Bm(t,n,i,r){var e=t.WD(i,n);return 0===e.length&&(e=t.VD(r+":"+n)),e}function Um(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,ln(u.m))}return r}(t,(function(t){return t.GD===n}))}function Pm(t){for(var n={},i=0,r=t.XD;i<r.length;i++){var e=r[i];n[e.jD]=e.zD}return n}var Qm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Ym=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Gm="http://www.w3.org/ns/ttml";function Vm(t,n,i,r){void 0===i&&(i=Oy),void 0===r&&(r=Zv.APPLICATION_TTML_XML);var e=[],u=Rc(t);return r===Zv.APPLICATION_MP4?e=function(t,n,i){var r=jm.dj(t),e=Nm(r,pm.SC);if(!e)return[];return Zm(Rc(e.rI),n,i)}(u,n,i):r===Zv.APPLICATION_TTML_XML&&(e=Zm(u,n,i)),e}function Fm(t,n,i){return void 0===i&&(i=Oy),Xm(t,n,i)}function Wm(t,n){for(var i=tA(n.wQ),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Zm(t,n,i){return Xm(xc(t,new Vc),n,i)}function Xm(t,n,i){var r,e=[];try{r=Kt.CD(t)}catch(t){return e}var u=r.sE;if("tt"!==u.jD)return e;var s=u.WD(Gm,"head")[0],o=u.WD(Gm,"body")[0];if(!o||!s)return e;for(var a=Km(u.KD("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.WD(Gm,"styling")[0],r=i&&i.WD(Gm,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.JD(Rm,"id")]=Pm(u)}return n}(s),f=function(t){for(var n={},i=t.WD(Gm,"layout")[0],r=i&&i.WD(Gm,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.JD(Rm,"id");if(s){n[s]=Pm(u);var o=$m(u);for(var a in o)oi.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=Zg(t),r=0,e=_.keys(i);r<e.length;r++){var u=e[r],s=Km(i[u].extent);if(s){var o=Hm(s[0],n[0]),a=Hm(s[1],n[1]);i[u].extent=o+" "+a}var c=Km(i[u].origin);if(c){var h=Hm(c[0],n[0]),f=Hm(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,d=s.WD(Gm,"metadata")[0],l=Jm(o,i.sQ,i.nQ,i.rQ),g=0;g<l.length;g++){var w=l[g],y=Wm(v,w);e.push(new Om(w.lB,w.dB,w.wQ,!1,c,h,y,d))}return e}function Hm(t,n){return t/n*100+"%"}function Km(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=En(n,2),r=i[0],e=i[1];if(io(r,"px")&&io(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function Jm(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].lB,s=i[e].dB;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],a);if(i.length<=0&&function(t){if(yg(t)){var n=t.jD.toUpperCase(),i=Boolean(t.KD("smpte:backgroundImage"));return"BR"===n||i}return t.xD===wg.ON}(t)){var r=t.UD(!1);c.push(new zm(l[n],l[n+1],r))}else if(i.length>0){var e=t.UD(!1);i.forEach((function(t){return e.HD(t.wQ)})),c.push(new zm(l[n],l[n+1],e))}},s=n,o=i,a=[],c=[];if(yg(t)){var h,f;s=null!=(h=qm(t.KD("begin"),r))?h:s,e=qm(t.KD("dur"),0),o=null!=(f=qm(t.KD("end"),r))?f:void 0!==e?s+e:o;for(var v=t.QD,d=0;d<v.length;d++)("body"===t.jD||"div"===t.jD)&&v[d].xD>1||(a=a.concat(Jm(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.lB,u.dB)}r.sort(Mo);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(jo(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<l.length-1;g++)u(g);return c}function qm(t,n){if(t){if(Qm.test(t)){var i=Qm.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*k.pow(.1,s.length):0)+n}if(Ym.test(t)){var o=Ym.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function $m(t){for(var n={},i=t.VD("style")||[],r=0;r<i.length;r++){var e=Pm(i[r]);for(var u in e)oi.call(e,u)&&(n[u]=e[u])}return n}function tA(t){var n,i=[];if(yg(t)){(n=t.KD("region"))&&i.push(n);for(var r=t.QD,e=0;e<r.length;e++)i=i.concat(tA(r[e]))}return i}function nA(t){var n=function(t){try{return Kt.CD(t).sE}catch(t){}}(t);return"tt"===(null==n?void 0:n.jD)}Q(),Nt(),An(),St(),Tn(),Q(),Nt();var iA=function(t){return t.Ch="disabled",t.FL="hidden",t.Jn="showing",t}({});function rA(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}Q(),Nt(),St(),Q(),Nt(),Q(),Nt();var eA=function(t){return t.ua="error",t}({});function uA(){}function sA(t){var n,i=[Yg.aa,Yg._L,Yg.Jk,Yg.tL,Yg.nL,Yg.oL,Yg.eL,Yg.aL,Yg.lL,Yg.fL],r=[eA.ua],e={get kind(){return t.Lt},get label(){return t.kh},set label(n){t.kh=iw(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.zL},get inBandMetadataTrackDispatchType(){return t.YL},get mode(){return t.UI},set mode(n){n!==iA.Jn&&n!==iA.FL&&n!==iA.Ch||t.VL(n)},get forced(){return Boolean(t.GL)},get accessibility(){var n,i;return null!=(i=null==(n=t.BL)?void 0:n.map(aw))?i:[]},get type(){return t.YA},get readyState(){return t.fk},get cues(){return t.UI===iA.Ch?null:t.L.ga},get activeCues(){return t.UI===iA.Ch?null:t.q.ga},get src(){return t.WL||""},addEventListener:function(t,i){var r=ew(t,iw);n.yn(r,i)},removeEventListener:function(t,i){var r=ew(t,iw);n.fn(r,i)}};return n=new pa(t),t.yn(i,(function(t){return n.yo(t.ga)})),t.yn(r,(function(t){return n.yo(t)})),_.defineProperty(e,"constructor",{value:uA}),e}function oA(){}function aA(t){var n=sw(t);return _.defineProperty(n,"constructor",{value:oA}),n}var cA=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.UI=iA.Ch),i},i.ma=function(){return aA(this)},n}(Gg);Q(),Nt(),Q(),Nt();var hA=function(t){return t.AQ="subtitles",t.yQ="captions",t.bQ="descriptions",t.Fn="chapters",t.MQ="metadata",t.TQ="thumbnails",t}({}),fA=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function vA(t){return"string"==typeof t&&Oo(fA,t)}function dA(t,n){return!(!vA(t)||!vA(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}Q(),Nt(),St();var lA=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return Et(n,t),n}(md);function gA(t){return t.some(wA)}function wA(t){return to(t,"stpp")}function yA(t){return t.some(mA)}function mA(t){return to(t,"vtt")||to(t,"wvtt")}function AA(t,n){return Xv(t)&&yA(n)}function pA(t,n){return t===hA.TQ||t===hA.MQ&&n===hA.TQ}function _A(t,n,i,r){for(var e=0,u=t.L.AL;e<u.length;e++){var s=u[e];if(s.lB>i)break;n<=s.dB&&!Oo(r,s)&&r.push(s)}}function kA(t,n){return ko(t.zL,n.zL)}function MA(t,n,i,r){var e=function(t){switch(t){case Yw.WEBVTT:return"WebVTT";case Yw.SRT:return"SRT";case Yw.TTML:return"TTML";default:return""}}(t);return new lA(wd.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function bA(t,n){for(var i=[],r=0,e=t.L.AL;r<e.length;r++){var u=e[r];if(u.dB<=n)i.push(u);else if(u.lB>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.SQ(o)}}function TA(t,n){if(t.V>0)for(var i=t.Cn(0),r=k.max(0,i-10),e=0;e<n.length;e++){n[e].NQ(r)}}var NA=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new cA,n.IQ=function(t){var i=t.Ht;n.DQ(i)},n}Et(n,t);var i=n.prototype;return i.tt=function(t){t.yn(Yg.aa,this.IQ),this.Z.tt(t),this.DQ(t)},i.it=function(t){t.fn(Yg.aa,this.IQ),t.UI=iA.Ch,this.Z.it(t)},i.EQ=function(t){},i.kQ=function(t){},i.DQ=function(t){t.UI!==iA.Ch?this.EQ(t):this.kQ(t)},i.LQ=function(){for(var t=0,n=this.Z.AL;t<n.length;t++){var i=n[t];i.fn(Yg.aa,this.IQ),i.gn()}},i.NQ=function(t){if(t>0)for(var n=0,i=this.Z.AL;n<i.length;n++){bA(i[n],t)}},i.tr=function(){return this.LQ(),this.Z.tr(),st.resolve()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),t.Z.gn(),[2]}}))}))()},n}(Aa);Q(),Nt(),Zt(),St();var DA=function(t){function n(n){var i;return(i=t.call(this,eA.ua)||this).errorObject=n,i}return Et(n,t),n.prototype.ma=function(){return this},Ct(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(jg),IA=function(t){function n(n,i){var r;return(r=t.call(this)||this).zQ=new ca,r.CQ=n,r.OQ=i,r}Et(n,t);var i=n.prototype;return i.xQ=function(t){if(t.src){var n=t.kind||hA.AQ,i=this.CQ.Wk(n,t.id,t.label,t.srclang,t.default);return i.WL=Ol(t.src),this.tt(i),i}},i.jQ=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v;return pn(this,(function(d){switch(d.label){case 0:t.fk=Qw.LOADING,r=new Sl({zu:t.WL,oI:Gd.ON,xI:Tl.GET,ly:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.OQ.hI(r)];case 2:return s=d.sent(),u=s.nI,[4,s.UN()];case 3:return e=d.sent(),[3,5];case 4:return na(o=d.sent()),t.fk=Qw.ERROR,t.yo(new DA(function(t,n){var i=n,r=0;if(ig(t)&&t.name===Pl.KI)i=t.hI.zu;else if(rg(t)){var e=t.iD;if(i=e.lI,0===(r=e.nI))return new lA(wd.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new lA(wd.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.WL))),[2];case 5:try{for(a=function(t){return rm(t)?Yw.WEBVTT:nA(t)?Yw.TTML:Yw.SRT}(e),t.YA=a,c=[],a===Yw.WEBVTT||a===Yw.SRT?(h=Fy(e),c=h.L):a===Yw.TTML&&(c=Fm(e,t)),f=0;f<c.length;f++)v=c[f],t.RQ(v)}catch(n){return na(n),t.fk=Qw.ERROR,t.yo(new DA(MA(t.YA,t.WL,u,n))),[2]}return t.fk=Qw.LOADED,[2]}}))}))()},i.EQ=function(t){Oo(this.Z.AL,t)&&t.fk===Qw.NONE&&this.jQ(t,this.zQ.ly).catch(ia)},i.$n=function(){},i.tr=function(){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:for(n.zQ.Ty(),n.zQ=new ca,i=0,r=n.Z.AL;i<r.length;i++)e=r[i],n.CQ.BQ(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(NA);function EA(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.UQ)return r}}function SA(t,n){LA(EA(t.AL,n))}function LA(t){void 0!==t&&(t.UI=iA.Jn)}function CA(t,n){var i=EA(t.AL,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.AL,n);LA(i)}function jA(t){for(var n=0;n<fA.length;n++){var i=fA[n];i===hA.Fn?CA(t,i):SA(t,i)}}Q(),Nt(),Jt(),Q(),Nt(),St();var xA=function(t){function n(){return t.call(this,Ma.yb)||this}return Et(n,t),n}(ka);Q(),Nt(),Q(),Nt();var OA=function(t){return t[t.QQ=0]="QQ",t[t.FQ=1]="FQ",t}({});Q(),Nt();var zA=function(t){return t.iP="canplay",t.eP="canplaythrough",t.sP="loadeddata",t.nP="loadedmetadata",t.lL="readystatechange",t.rP="waiting",t.oP="playing",t}({}),RA=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];Q(),Nt(),Zt(),St(),Q(),Nt(),St();var BA=function(t){function n(n,i){var r;return(r=t.call(this,zA.lL)||this).currentTime=n,r.readyState=i,r}return Et(n,t),n}(ka);Q(),Nt();var UA=function(t){return t[t.Nz=0]="Nz",t[t.Xn=1]="Xn",t[t.Iz=2]="Iz",t[t.Dz=3]="Dz",t[t.Ez=4]="Ez",t}({});Q(),Nt(),St();var PA=function(t){function n(n,i){var r;return void 0===i&&(i=UA.Xn),(r=t.call(this,zA.nP)||this).currentTime=n,r.readyState=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var QA=function(t){function n(n,i){var r;return void 0===i&&(i=UA.Iz),(r=t.call(this,zA.sP)||this).currentTime=n,r.readyState=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var YA=function(t){function n(n){var i;return(i=t.call(this,zA.rP)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var GA=function(t){function n(n,i){var r;return void 0===i&&(i=UA.Dz),(r=t.call(this,zA.iP)||this).currentTime=n,r.readyState=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var VA=function(t){function n(n,i){var r;return void 0===i&&(i=UA.Ez),(r=t.call(this,zA.eP)||this).currentTime=n,r.readyState=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var FA=function(t){function n(n){var i;return(i=t.call(this,zA.oP)||this).currentTime=n,i}return Et(n,t),n}(ka),WA=[zA.lL,zA.oP,Ma.so,Ma.wb],ZA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).GQ=n,r.XQ=i,r.qQ=UA.Nz,r.iF=!0,r.ZQ=!1,r.VQ=!1,r.rF=function(t){var n=r.GQ.fk;n!==r.qQ&&r.yo(new BA(t.currentTime,n)),n===UA.Nz&&(r.ZQ=!1,r.VQ=!1),r.YQ(n),r.WQ(n),r.tF(n),r.maybeDispatchCanPlayThroughEvent(n),r.HQ(n),r.JQ(n),r.qQ=n},r.sF=function(){r.JQ(r.qQ),r.HQ(r.qQ),r.iF=r.GQ.KE},r.nF=function(){r.iF=r.GQ.KE},r.eF=function(t){r.yo(new FA(t.currentTime))},r.GQ.yn(zA.lL,r.rF),r.GQ.yn(Ma.so,r.sF),r.GQ.yn(Ma.wb,r.nF),r.XQ&&r.GQ.yn(zA.oP,r.eF),r}Et(n,t);var i=n.prototype;return i.YQ=function(t){!this.VQ&&t>=UA.Xn&&(this.VQ=!0,this.yo(new PA(this.GQ.LE,t)))},i.WQ=function(t){!this.ZQ&&t>=UA.Iz&&(this.ZQ=!0,this.yo(new QA(this.GQ.LE,t)))},i.HQ=function(t){this.XQ||(t>=UA.Dz&&this.qQ<UA.Dz&&!this.GQ.KE||this.KQ&&t>=UA.Dz)&&this.yo(new FA(this.GQ.LE))},i.JQ=function(t){!this.$Q(t)||this.GQ.OE||this.GQ.lt||this.yo(new YA(this.GQ.LE))},i.tF=function(t){this.qQ<=UA.Iz&&t>=UA.Dz&&this.yo(new GA(this.GQ.LE,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===UA.Ez&&this.yo(new VA(this.GQ.LE,t))},i.$Q=function(t){var n=!this.GQ.KE&&t<=UA.Iz,i=!this.iF&&this.qQ<=UA.Iz;return n&&!i},i.tr=function(){this.qQ=UA.Nz,this.iF=!0,this.ZQ=!1,this.VQ=!1},i.gn=function(){this.Bo(),this.XQ&&this.GQ.fn(zA.oP,this.eF),this.GQ.fn(Ma.so,this.sF),this.GQ.fn(Ma.wb,this.nF),this.GQ.fn(zA.lL,this.rF)},Ct(n,[{key:"KQ",get:function(){return!this.GQ.KE&&this.iF}}]),n}(Aa),XA=function(t){function n(n){var i;return(i=t.call(this)||this).GQ=n,i.GQ.yn(WA,i.Ds),i}return Et(n,t),n.prototype.wy=function(){this.Bo(),this.GQ.fn(WA,this.Ds)},Ct(n,[{key:"LE",get:function(){return this.GQ.LE}},{key:"OE",get:function(){return this.GQ.OE}},{key:"lt",get:function(){return this.GQ.lt}},{key:"KE",get:function(){return this.GQ.KE}},{key:"fk",get:function(){return this.GQ.fk}}]),n}(Aa);Q(),Nt(),Q(),Nt();var HA="titanium",KA="conax",JA="ezdrm",qA="irdeto",$A="vudrm",tp="verimatrix",np="keyos",ip="drmtoday",rp="expressplay",ep="azure",up="xstream",sp="vimond",op="axinom",ap="uplynk",cp="comcast",hp="custom";Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),Tn(),tn();var fp=function(){function t(t,n,i,r,e){this.hF=void 0,this.NS=t,this.IF=n,this.DF=i,this.OQ=r,this.NF=e,this.lF=this.EF(n)}var n=t.prototype;return n.oF=function(){return this.hF},n.aF=function(t){this.hF=t},n.dF=function(){return this.lF.licenseAcquisitionURL||this.oF()},n.gF=function(t){return st.resolve()},n._F=function(t,n){return st.resolve(void 0)},n.vF=function(t,n,i,r){var e=this;return yn((function(){var u,s;return pn(this,(function(o){switch(o.label){case 0:if(""===(u=e.wF(t,n,i,r)).zu)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.wE.hI(u)];case 2:return[4,o.sent().QN(n)];case 3:return[2,o.sent()];case 4:return na(s=o.sent()),[4,e.mF(s,u.zu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.wF=function(t,n,i,r){var e=this.pF().RN(),u=this.zI,s={zu:this.AF(),oI:n,aI:e,GN:t,zI:u,xI:Tl.POST,CI:0,ly:r,YA:Nl.vI,OI:i};return new Sl(s)},n.yF=function(t,n){return st.resolve(t)},n.bF=function(t,n,i,r){return st.resolve(t)},n.pF=function(){return new Vd(this.lF.headers||{})},n.mF=function(t,n,i){return yn((function(){return pn(this,(function(n){throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.AF=function(t,n){var i=n,r=this.lF.queryParameters;if(!i){var e=this.dF();if(!e)return"";i=e}if(r||t){var u=Kt.Ah(i);t&&xl(u,t),r&&xl(u,r),i=u.href}return i},n.MF=function(t,n){return vp(t)},n.TF=function(t){return new N(t)},n.SF=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return[4,r.MF(t,i)];case 1:return e=s.sent(),[4,r.vF(e,r.NF,n,i)];case 2:return u=s.sent(),[2,r.TF(u)]}}))}))()},n.gn=function(){},Ct(t,[{key:"wE",get:function(){return this.OQ}},{key:"uF",get:function(){return!1}},{key:"cF",get:function(){var t=this.lF.certificate;if(t)return gi(t)?Ra(t):Pc(t)}},{key:"fF",get:function(){return!1}},{key:"zI",get:function(){return Boolean(this.lF.useCredentials)}}]),t}();function vp(t){return st.resolve(Yc(t).buffer)}var dp,lp=function(t){function n(n,i,r,e){return t.call(this,Ws,n,i,r,e)||this}Et(n,t);var i=n.prototype;return i.EF=function(t){return t.widevine||{}},i.kF=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){return i.cF?[2,i.cF]:[2,i.LF(new N(t),n)]}))}))()},i.LF=function(n,i){return t.prototype.SF.call(this,n,Dl.AI,i)},n}(fp);function gp(t,n){if(null==t)return{};var i,r,e={},u=_.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function wp(t){return ci(t.token&&t.deviceId)}function yp(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ci(i.PreAuthorization)}function mp(t){var n=t;return wp(n)&&""!==n.token&&""!==n.deviceId&&!yp(n)}Q(),Nt(),Q(),Nt(),An(),xn(),Q(),Nt(),Tn(),Q(),Nt(),Q(),Nt(),Q(),Nt(),function(t){t.lx=!1,t.gx=!1,t._x=!1,t.vx=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.wx=!1,t.mx=!1,t.LOG_LCEVC_DETAILS=!1}(dp||(dp={})),tn(),Q(),Nt(),Zt();var Ap=function(){function t(t,n,i){this.yx=t,this.yS=n,this.Mx=i}return t.prototype.bx=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new p("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new p("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new p("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new p("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new p("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Mx.build(t))},Ct(t,[{key:"Ax",get:function(){return this.yx}},{key:"NS",get:function(){return this.yS}}]),t}();Q(),Nt();var pp=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),_p=function(){function t(){this.Sx=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.Tx(t,n,i)){case pp.FAILED:throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case pp.OVERRIDDEN:var r=Bp(n);Kt.uA("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case pp.SUCCEEDED:Bp(n);0}},n.Tx=function(t,n,i){var r=Bp(n);if(!r)return pp.FAILED;for(var e=pp.SUCCEEDED,u=0,s=this.Sx.slice();u<s.length;u++){var o=s[u];o.Ax===t&&o.NS===r&&(e=pp.OVERRIDDEN,Co(this.Sx,o))}return this.Sx.push(new Ap(t,r,i)),e},n.Nx=function(t,n){return void 0!==this.Ix(t,n)},n.Dx=function(t,n,i){var r=this.Ix(t,n);if(!r)throw A("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.bx(i)},n.Ix=function(t,n){for(var i=0,r=this.Sx;i<r.length;i++){var e=r[i];if(e.Ax===t&&(!n||e.NS===n))return e}},t}();_p.Ex=new _p,tn();var kp={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Mp(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function bp(t){return t&&void 0!==t.licenseAcquisitionURL}var Tp=bp,Np=bp;function Dp(t){if(!t)return!0;if(Lp(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Mp(n)&&Mp(i)&&Mp(r)&&void 0===e&&Mp(u)}function Ip(t){var n=mp(t),i=function(t){var n,i=t;return yp(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!wp(i)}(t);return(!n||!i)&&(n||i)}function Ep(t){return t.integration===qA}function Sp(t){var n=t;if(!n)return!1;if(Dp(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Lp(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Tp(r))return!1;if(e&&!Np(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(_p.Ex.Nx(n.integration))return!0;switch(n.integration){case HA:if(!function(t){var n=t,i=n.integration===HA;return i&&(Cp(t)||jp(t))}(t))return!1;break;case $A:if(!xp(t))return!1;break;case tp:if(!function(t){var n=t;return n.integration===tp}(t))return!1;break;case qA:if(!Ep(t))return!1;break;case KA:if(!Ip(t))return!1;break;case JA:if(!function(t){var n=t;return n.integration===JA}(t))return!1;break;case np:if(!Lp(t))return!1;break;case ip:if(!function(t){var n=t;return n.integration===ip&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case rp:if(!function(t){var n=t;return n.integration===rp}(t))return!1;break;case up:if(!Op(t))return!1;break;case sp:if(!function(t){return t.integration===sp}(t))return!1;break;case op:if(!zp(t))return!1;break;case ep:if(!function(t){var n=t;return n.integration===ep&&void 0!==n.token}(t))return!1;break;case ap:if(!function(t){var n=t;return n.integration===ap}(t))return!1;break;case cp:if(!function(t){var n=t;return n&&ci(n.releasePid)&&ci(n.accountId)&&ci(n.token)}(t))return!1;break;case hp:return!0;default:return!1}}return!0}function Lp(t){return t.integration===np}function Cp(t){return void 0!==t.authToken}function jp(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function xp(t){var n=t;return n.integration===$A&&void 0!==n.token}function Op(t){var n=t;return n&&n.integration===up&&gi(n.ticketAcquisitionURL)&&gi(n.streamId)}function zp(t){var n=t;return n.integration===op&&void 0!==n.token}function Rp(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:kp[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=ys({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return ys({},gp(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function Bp(t){switch(t.toLowerCase()){case"widevine":case Os:return Os;case"playready":case Cs:return Cs;case"fairplay":case Ps:return Ps}}function Up(t,n){switch(t){case Is:return function(t){for(var n={},i=jm.wj(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.UR]=e.YR}return n}(n);case Es:case Ss:return function(t){return jn({},Us,t)}(n);default:throw new md(wd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Pp(t){return Qp.apply(this,arguments)}function Qp(){return Qp=yn((function(t,n){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return void 0===n&&(n=!1),(i=t.widevine)?[4,Kt.pA()]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,Kt.mA()]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,Kt.vA()]:[3,6];case 5:e=s.sent(),s.label=6;case 6:return e?[2,!0]:(u=!n&&t.fairplay)?[4,Kt.wA()]:[3,8];case 7:u=s.sent(),s.label=8;case 8:return u?[2,!0]:[2,!1]}}))})),Qp.apply(this,arguments)}tn();var Yp=function(t){return t.BA="Widevine",t.xF="PlayreadyV2",t.CF="PlayreadyV3",t.zA="PlayreadyV2",t.QA="Fairplay",t}({}),Gp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Vp(t,n){var i,r,e,u,s=Gp[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=Kt.bA)?void 0:i.Ys,OSVersion:null==(r=Kt.bA)?void 0:r.xA,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=Kt.bA)?void 0:e.CA,DeviceModel:null==(u=Kt.bA)?void 0:u.jA}}}function Fp(t,n){if(!t.accountName)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function Wp(t,n,i){var r;if(Cp(t))r={AuthToken:t.authToken,Payload:n};else{if(!jp(t))throw Fp(t,i);r={LatensRegistration:Vp(t,i),Payload:n}}return rh(JSON.stringify(r))}function Zp(t,n,i){return Xp.apply(this,arguments)}function Xp(){return Xp=yn((function(t,n,i){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:if(!(r=t.iD))throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.BN(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.hI.zu,e.nI,e.uI,s)}}))})),Xp.apply(this,arguments)}Q(),Nt(),An(),Tn(),tn();var Hp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Gd.CN)||this).OF=void 0,e}Et(n,t);var i=n.prototype;return i.mF=function(t,n,i){return Zp(t,n,i)},i.gF=function(t){return this.OF?ra(this.OF.rM,t):(this.OF=new sh,st.resolve())},i.MF=function(t,n){var i=this;return yn((function(){var n,r;return pn(this,(function(e){if(!(n=i.IF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=Pa(t),[2,Wp(n,r,Yp.BA)]}))}))()},i.TF=function(t){if(!t.license)throw new ww(wd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Ra(t.license)},i.RF=function(t){return st.resolve(new N(t))},i.kF=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return i.PF(),[4,i.MF(t,n)];case 1:return r=u.sent(),[4,i.vF(r,Gd.xN,Dl.yI,n)];case 2:return e=u.sent(),[4,i.RF(e)];case 3:return[2,u.sent()]}}))}))()},i.LF=function(n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return[4,t.prototype.LF.call(r,n,i)];case 1:return e=u.sent(),r.PF(),[2,e]}}))}))()},i.PF=function(){this.OF||(this.OF=new sh),this.OF.sM()},i.gn=function(){this.OF&&this.OF.Ty(),t.prototype.gn.call(this)},n.jF=function(){return Kt.Ys.Ep?"required":"optional"},n}(lp);Q(),Nt(),An(),Zt(),St(),Tn();var Kp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Gd.xN)||this).aF("https://widevine-proxy.drm.technology/proxy"),e}return Et(n,t),n.prototype.MF=function(t,n){var i=this;return yn((function(){var n,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return[4,vp(t)];case 1:if(n=s.sent(),r=i.DF,e=Gc(new N(n)),void 0===(u=i.zF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},Ct(n,[{key:"zF",get:function(){if(xp(this.IF))return this.IF.token}}]),n}(lp);function Jp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ys({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ys({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}Q(),Nt(),St(),Q(),Nt();var qp=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Gd.xN)||this).aF("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return Et(n,t),n.prototype.AF=function(n,i){var r=n;return Ep(this.IF)&&(r=Jp(this.IF,r)),t.prototype.AF.call(this,r,i)},n}(lp);Q(),Nt(),St(),Q(),Nt();var $p="Conax-Custom-Data";function t_(t,n,i){var r=t&&Ip(t)&&t;if(r&&!i.has($p)){var e=mp(r)?r.token:void 0,u=mp(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set($p,s)}return i}var n_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Gd.xN)||this).aF("https://connect.conax.com:8094/license"),e}return Et(n,t),n.prototype.pF=function(){var n=t.prototype.pF.call(this);return t_(this.IF,"Widevine",n)},n}(lp);function i_(t){var n=Nc(new N(t));return Ra(JSON.parse(n).license)}function r_(t){return"string"==typeof t.token?t.token:rh(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function e_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}Q(),Nt(),Zt(),St(),Q(),Nt();var u_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Gd.xN)||this).aF("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Et(n,t);var i=n.prototype;return i.TF=function(t){return i_(t)},i.pF=function(){return e_(t.prototype.pF.call(this),this.zF,this.IF)},Ct(n,[{key:"zF",get:function(){return r_(this.IF)}}]),n}(lp);Q(),Nt(),St();var s_=function(t){function n(n,i,r){return t.call(this,n,i,r,Gd.xN)||this}return Et(n,t),n.prototype.pF=function(){var n=t.prototype.pF.call(this),i=this.IF.token;return n.set("Authorization","Bearer "+i),n},n}(lp);function o_(t,n,i,r){return a_.apply(this,arguments)}function a_(){return a_=yn((function(t,n,i,r){var e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:if(!Op(t))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Vd).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={zu:t.ticketAcquisitionURL,oI:Gd.CN,aI:e,xI:Tl.POST,GN:JSON.stringify(a),ly:r},[4,i.hI(c)];case 1:return[4,h.sent().BN()];case 2:return[2,h.sent()]}}))})),a_.apply(this,arguments)}Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Tn();var c_=function(t){function n(n,i,r){return t.call(this,n,i,r,Gd.CN)||this}Et(n,t);var i=n.prototype;return i.pF=function(){var n=t.prototype.pF.call(this);return n.set("Content-Type","application/json"),n},i.MF=function(n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return e=ih(n.buffer),[4,o_(r.IF,"widevine_modular",r.wE,i)];case 1:return u=o.sent(),r.aF(u.licenseServerUrl),s=Dc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.MF.call(r,s,i)]}}))}))()},i.TF=function(t){return Ra(t.license)},n}(lp);Q(),Nt(),St();var h_=function(t){function n(n,i,r){return t.call(this,n,i,r,Gd.xN)||this}return Et(n,t),n.prototype.pF=function(){if(!zp(this.IF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.pF.call(this);return n.set("X-AxDRM-Message",this.IF.token),n},n}(lp);function f_(t){for(var n=new N(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}Q(),Nt(),An(),St(),Tn(),tn();var v_=function(t){function n(n,i,r){var e;return(e=t.call(this,Fs,n,i,r,Gd.xN)||this).BF=void 0,e}Et(n,t);var i=n.prototype;return i.EF=function(t){return t.playready||{}},i.pF=function(){var n=new Vd(this.BF);return n.zN(t.prototype.pF.call(this)),n},i.UF=function(t){return t.length>=1&&t[0].QD.length>0},i._F=function(n){var i=this.IF.playready.customData;if(i){var r=f_(i),e=f_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Pa(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return st.resolve({playready:{VS:e}})}return t.prototype._F.call(this,n)},i.MF=function(t,n){var i=this;return yn((function(){var n;return pn(this,(function(r){switch(r.label){case 0:return[4,vp(t)];case 1:return n=r.sent(),[2,i.QF(n)]}}))}))()},i.QF=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y;return pn(this,(function(m){e=null,u=new DataView(t),s=Mc(u,new Vc,!0);try{o=Kt.CD(s)}catch(t){return[2,e]}for(a=null==(i=o.VD("PlayReadyKeyMessage")[0])?void 0:i.VD("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.VD("Challenge"))?c:[],n.UF(h)&&(e=nh(h[0].qD)),f=new Vd,d=null!=(v=null==a||null==(r=a.VD("HttpHeaders")[0])?void 0:r.VD("HttpHeader"))?v:[],l=0;l<d.length;l++)g=d[l],w=g.VD("name")[0].qD,y=g.VD("value")[0].qD,f.append(w,y);return n.BF=f,[2,e]}))}))()},i.kF=function(t,n){return st.resolve(t)},i.LF=function(n,i){return t.prototype.SF.call(this,n,Dl.bI,i)},n}(fp);Q(),Nt(),An(),St(),Tn(),tn(),Q(),Nt(),Zt();var d_=function(){function t(n){this.VF=n,this.ZT=t.FF(n)}return t.prototype.YF=function(){var t={};if(this.ZT===Yp.CF){var n={LatensRegistration:Vp(this.VF,Yp.CF)};t["X-TITANIUM-DRM-CDATA"]=rh(JSON.stringify(n))}return t},t.FF=function(t){return"3"===t.version?Yp.CF:Yp.xF},Ct(t,[{key:"GF",get:function(){return this.ZT}},{key:"RS",get:function(){return this.ZT===Yp.xF}}]),t}();var l_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).WF=new d_(e.IF),e}Et(n,t);var i=n.prototype;return i._F=function(t){var n=this.IF;if(!this.IF)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(jp(n)){var i={};return i.playready={VS:g_(n,this.WF.GF)},st.resolve(i)}return st.reject(Fp(n,Yp.zA))},i.pF=function(){var n=new Vd(this.WF.YF());return n.zN(t.prototype.pF.call(this)),n},i.mF=function(t,n,i){return yn((function(){var r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:if(!(r=t.iD))throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.FN(i)];case 2:return s=f.sent(),o=Nc(new N(s)),(a=Kt.CD(o))&&(c=Um(a,"CustomData")).length>0&&(e=JSON.parse(c[0].qD),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.nI,r.uI,u)}}))}))()},i.UF=function(t){if(1!==t.length)throw new ww(wd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(v_);function g_(t,n){var i=Vp(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+rh('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=Ec(e,!0);return Ec('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Pa(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}Q(),Nt(),Zt(),St();var w_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).aF("https://playready-license.drm.technology/rightsmanager.asmx"),e}Et(n,t);var i=n.prototype;return i.UF=function(t){if(1!==t.length)throw new ww(wd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.AF=function(n,i){var r=ys({},n||{},{token:this.zF});return t.prototype.AF.call(this,r,i)},Ct(n,[{key:"zF",get:function(){if(xp(this.IF))return this.IF.token}}]),n}(v_);Q(),Nt(),St();var y_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).aF("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Et(n,t),n.prototype.AF=function(n,i){var r=n;return Ep(this.IF)&&(r=Jp(this.IF,r)),t.prototype.AF.call(this,r,i)},n}(v_);Q(),Nt(),St();var m_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).aF("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Et(n,t),n.prototype.pF=function(){var n=t.prototype.pF.call(this);return t_(this.IF,"PlayReady",n)},n}(v_);Q(),Nt(),Zt(),St();var A_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).aF("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Et(n,t);var i=n.prototype;return i.TF=function(n){var i=function(t){var n=Nc(new N(t));return no(n,"<?xml")?0:1}(n);return 1===i?i_(n):t.prototype.TF.call(this,new N(n))},i.pF=function(){return e_(t.prototype.pF.call(this),this.zF,this.IF)},Ct(n,[{key:"zF",get:function(){return r_(this.IF)}}]),n}(v_);Q(),Nt(),An(),St(),Tn();var p_=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Et(n,t);var i=n.prototype;return i.pF=function(){var n=t.prototype.pF.call(this);return this.ZF&&n.set("Ticket",this.ZF),n.set("Content-Type","text/xml"),n},i.MF=function(n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return[4,o_(r.IF,"playready",r.wE,i)];case 1:return e=u.sent(),r.aF(e.licenseServerUrl),r.ZF=e.ticket,[2,t.prototype.MF.call(r,n,i)]}}))}))()},n}(v_);Q(),Nt(),St();var __=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.pF=function(){if(!zp(this.IF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.pF.call(this);return n.set("X-AxDRM-Message",this.IF.token),n},n}(v_);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var k_=function(t){return t.CN="application/json",t.HF="application/x-www-form-urlencoded",t.XF="application/octet-stream",t.ON="text/plain;charset=UTF-8",t}({}),M_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.NS,i,r,e,u)||this).iY="",s.KF=void 0,s.nY=n.hY,s}Et(n,t);var i=n.prototype;return i.qF=function(){return this.lF.certificateURL||this.KF},i.JF=function(t){this.KF=t},i.MF=function(t){return st.resolve(this.tY(t,this.iY))},i.tY=function(t,n){return"spc="+encodeURIComponent(Pa(t))+"&assetId="+encodeURIComponent(n)},i.EF=function(t){return t.fairplay||{}},i.sY=function(t){var n=t.indexOf("?");if(n>=0)return st.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return st.resolve(i)}var r=t.split("/");return st.resolve(r[r.length-1])},i._F=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.nY)?i:Cc(new N(t)),[4,n.sY(r)];case 1:return e=s.sent(),n.iY=e,(u={}).fairplay={$S:e},[2,u]}}))}))()},i.pF=function(){var n=t.prototype.pF.call(this);return n.set("Content-Type",this.eY),n},i.kF=function(t,n){var i=this;return yn((function(){return pn(this,(function(t){switch(t.label){case 0:return i.cF?[2,i.cF]:[4,i.rY(n)];case 1:return[2,t.sent()]}}))}))()},i.LF=function(n,i){return t.prototype.SF.call(this,n,Dl.mI,i)},i.oY=function(t){var n=this.qF(),i=this.pF(),r={zu:n,oI:Gd.xN,aI:i,xI:Tl.GET,zI:!1,GN:null,CI:0,ly:t,YA:Nl.vI,OI:Dl.pI};return new Sl(r)},i.rY=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return i=n.oY(t),[4,n.wE.hI(i)];case 1:return[4,e.sent().FN()];case 2:return r=e.sent(),[2,new N(r)]}}))}))()},i.TF=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Ra(i)}else n=new N(t);return n},i.AF=function(n,i){var r=t.prototype.AF.call(this,n,i);return no(r,"skd:")&&(r=r.substr(4)),r},Ct(n,[{key:"fF",get:function(){return!0}},{key:"eY",get:function(){return k_.HF}}]),n}(fp);Q(),Nt(),An(),Zt(),St(),Tn();var b_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.xN)||this}Et(n,t);var i=n.prototype;return i.sY=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?st.resolve(""):(i=n.split(";",2)).length>1?st.resolve(i[1]):st.resolve(t.prototype.sY.call(this,n))},i.MF=function(t){return yn((function(){return pn(this,(function(n){return[2,t]}))}))()},i.TF=function(t){return new N(t)},i.AF=function(n,i){var r=n||{};return r.p1=br(),t.prototype.AF.call(this,r,i)},Ct(n,[{key:"eY",get:function(){return k_.XF}}]),n}(M_);Q(),Nt(),Zt(),St();var T_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Gd.xN)||this).aF("https://fairplay-license.drm.technology/license"),u.JF("https://fairplay-license.drm.technology/certificate"),u}Et(n,t);var i=n.prototype;return i.tY=function(t,n){var i={token:this.zF,contentId:n,payload:Pa(t)};return JSON.stringify(i)},i.TF=function(t){return new N(t)},i.pF=function(){var n=t.prototype.pF.call(this);return n.set("x-vudrm-token",this.zF),n},Ct(n,[{key:"eY",get:function(){return k_.CN}},{key:"zF",get:function(){if(!xp(this.IF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.IF.token}}]),n}(M_);Q(),Nt(),St();var N_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",D_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",I_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.xN)||this}return Et(n,t),n.prototype.TF=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new ww(wd.CONTENT_PROTECTION_LICENSE_INVALID,N_)}if(!n)throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,D_);return n}(Nc(new DataView(n)));return t.prototype.TF.call(this,i)},n}(M_);Q(),Nt(),An(),Zt(),St(),Tn();var E_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.CN)||this}Et(n,t);var i=n.prototype;return i.MF=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){if(!(i=n.IF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=Pa(t),[2,Wp(i,r,Yp.QA)]}))}))()},i.TF=function(t){try{var n;if(gi(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=nh(n.license);return new N(r)}throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new ww(wd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.mF=function(t,n,i){return Zp(t,n,i)},Ct(n,[{key:"eY",get:function(){return k_.CN}}]),n}(M_);Q(),Nt(),An(),Zt(),St(),Tn(),tn();var S_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Gd.xN)||this).aF("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.JF("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Et(n,t);var i=n.prototype;return i.qF=function(){var n=t.prototype.qF.call(this);if(!n)return n;var i=Kt.Ah(n),r=this.IF;return Ep(r)&&xl(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.sY=function(n){return Ep(this.IF)?st.resolve(this.IF.contentId):t.prototype.sY.call(this,n)},i.MF=function(t){return yn((function(){return pn(this,(function(n){return[2,t]}))}))()},i.TF=function(t){return new N(t)},i.AF=function(n,i){var r=n;return Ep(this.IF)&&(r=function(t,n){return ys({},Jp(t,n),{KeyId:t.keyId})}(this.IF,r)),t.prototype.AF.call(this,r,i)},Ct(n,[{key:"eY",get:function(){return k_.XF}}]),n}(M_);Q(),Nt(),An(),St(),Tn();var L_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Gd.ON)||this,!Ip(i))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.aF("https://connect.conax.com:8097/license"),u}Et(n,t);var i=n.prototype;return i.pF=function(){var n=t.prototype.pF.call(this);return t_(this.IF,"FairPlay",n)},i.rY=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return i=n.qF(),r={zu:i,oI:Gd.xN,aI:{},xI:Tl.GET,zI:!1,GN:null,CI:0,ly:t,YA:Nl.vI,OI:Dl.pI},[4,n.wE.hI(r)];case 1:return[4,u.sent().FN()];case 2:return e=u.sent(),[2,new N(e)]}}))}))()},i.MF=function(t){return yn((function(){return pn(this,(function(n){return[2,t]}))}))()},i.sY=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),st.resolve(function(t){return Nc(Ra(t))}(n))):st.resolve("unknown")},i.TF=function(t){try{var n=JSON.parse(t);return new N(nh(n.CkcMessage))}catch(t){throw new A("CFLRW-66")}},n}(M_);Q(),Nt(),St();var C_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Gd.ON)||this).aF(kp[Vs.QA]),u}Et(n,t);var i=n.prototype;return i.sY=function(t){return no(t,"skd://")?st.resolve(t.substring(6,40)):st.reject(new ww(wd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.tY=function(t,n){return"spc="+Pa(t)+"&assetId="+n},n}(M_);Q(),Nt(),Zt(),St();var j_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Gd.ON)||this).aF("https://lic.drmtoday.com/license-server-fairplay/"),u}Et(n,t);var i=n.prototype;return i.tY=function(t,n){var i="spc="+encodeURIComponent(Pa(t))+"&"+encodeURI(n);return"persistent"===this.lF.licenseType?i+"&offline=true":i},i.pF=function(){return e_(t.prototype.pF.call(this),this.zF,this.IF)},Ct(n,[{key:"zF",get:function(){return r_(this.IF)}}]),n}(M_);Q(),Nt(),An(),Zt(),St(),Tn(),tn();var x_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.xN)||this}Et(n,t);var i=n.prototype;return i.sY=function(t){var n=t;return no(n,"skd:")&&(n="http:"+n.substring(4)),no(n,"http:")||no(n,"https:")?st.resolve(Kt.Ah(n).hostname):st.reject(new A("Could not parse ExpressPlay FairPlay content ID."))},i.MF=function(t){return yn((function(){return pn(this,(function(n){return[2,t]}))}))()},i.TF=function(t){return new N(t)},Ct(n,[{key:"eY",get:function(){return k_.XF}}]),n}(M_);Q(),Nt(),St();var O_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.ON)||this}return Et(n,t),n.prototype.pF=function(){var n=t.prototype.pF.call(this),i=this.IF.token;return n.set("Authorization","Bearer "+i),n},n}(M_);Q(),Nt(),An(),Zt(),St(),Tn();var z_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Gd.CN)||this,!Op(i))throw new A("Invalid Xstream DRM configuration");return u}Et(n,t);var i=n.prototype;return i.rY=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return i=n.qF(),r=n.pF(),e={zu:i,oI:Gd.CN,aI:r,xI:Tl.POST,ly:t,YA:Nl.vI,OI:Dl.pI},[4,n.wE.hI(e)];case 1:return[4,s.sent().BN()];case 2:return u=s.sent(),[2,new N(Ra(u.certificate))]}}))}))()},i.LF=function(t,n,i){void 0===i&&(i=Gd.ON);var r=this;return yn((function(){var i,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return i=Pa(t),[4,o_(r.IF,"fairplay",r.wE,n)];case 1:return e=o.sent(),u=Dc(JSON.stringify({spc:i,ticket:e.ticket})),s={zu:r.dF(),oI:Gd.CN,aI:r.pF(),xI:Tl.POST,GN:u,CI:0,ly:n,YA:Nl.vI,OI:Dl.mI},[4,r.wE.hI(s)];case 2:return[4,o.sent().BN()];case 3:return[2,Ra(o.sent().licence)]}}))}))()},Ct(n,[{key:"eY",get:function(){return k_.CN}}]),n}(M_);Q(),Nt(),St();var R_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.ON)||this}Et(n,t);var i=n.prototype;return i.tY=function(t,n){return Pa(t)},i.TF=function(n){if(0===n.length)throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.TF.call(this,n)},i.pF=function(){var n=t.prototype.pF.call(this);return n.set("Content-Type","text/plain"),n},n}(M_);Q(),Nt(),Zt(),St();var B_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gd.xN)||this}Et(n,t);var i=n.prototype;return i.tY=function(t,n){return t},i.TF=function(t){return new N(t)},i.pF=function(){if(!zp(this.IF))throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.pF.call(this);return n.set("X-AxDRM-Message",this.IF.token),n},Ct(n,[{key:"eY",get:function(){return k_.CN}}]),n}(M_);Q(),Nt(),Zt(),St(),tn();var U_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Gd.CN)||this).aY=void 0,u}Et(n,t);var i=n.prototype;return i.tY=function(t,n){var i={spc:Pa(t)};return JSON.stringify(i)},i.sY=function(t){var n=Kt.Ah(t);return this.aY=t,n.searchParams.has("b")?st.resolve(n.searchParams.get("b")):st.reject(new ww(wd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.AF=function(n,i){var r=this.dF();return!r&&this.aY&&(r=this.aY),r&&(r=r.replace("skd://","https://")),t.prototype.AF.call(this,n,i||r)},i.TF=function(t){try{var n;if((n=gi(t)?JSON.parse(t.trim()):t).ckc)return Ra(n.ckc)}catch(t){throw new ww(wd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Ct(n,[{key:"eY",get:function(){return k_.ON}}]),n}(M_);Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Tn(),Q(),Nt(),sn();var P_=function(){function t(t,n){this.cY=t,this.dY=n}var n=t.prototype;return n.uY=function(t){return this.cY(t)},n.lY=function(t,n){throw new p(n+" must be "+this.dY+". (Received: "+t+")")},t}(),Q_=(new P_((function(t){return!0}),"any"),new P_(Ai,"a number")),Y_=new P_(gi,"a string"),G_=new P_(wi,"a boolean"),V_=(new P_(mi,"a date"),new P_(hi,"undefined")),F_=new P_(di,"an object"),W_=new P_((function(t){return null===t}),"null");new P_((function(t){return null==t}),"null or undefined");function Z_(t,n){throw new p(n+" has an incorrect type")}var X_=function(){function t(t){this.tA=t}var n=t.prototype;return n.uY=function(t){if(!di(t))return!1;for(var n=0,i=_.keys(this.tA);n<i.length;n++){var r=i[n];if(!this.tA[r].uY(t[r]))return!1}return!0},n.lY=function(t,n){if(!di(t))throw new p(n+" must be an object.");for(var i=0,r=_.keys(this.tA);i<r.length;i++){var e=r[i],u=this.tA[e];if(!u.uY(t[e]))return u.lY(t[e],n+"."+String(e))}throw new p},t}();function H_(t){return new X_(t)}function K_(t){return _.keys(t).map((function(n){return t[n]}))}var J_=function(){function t(t){this.Ov=t}var n=t.prototype;return n.uY=function(t){return Oo(this.Ov,t)},n.lY=function(t,n){return Z_(0,n)},t}();function q_(t){return new J_(t)}var $_=function(){function t(t){this.fY=t}var n=t.prototype;return n.uY=function(t){return this.fY.some((function(n){return n.uY(t)}))},n.lY=function(t,n){return Z_(0,n)},t}();function tk(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new $_(n)}var nk=function(){function t(t){this.gY=t}var n=t.prototype;return n.uY=function(t){var n=this;return fi(t)&&t.every((function(t){return n.gY.uY(t)}))},n.lY=function(t,n){if(!fi(t))throw new p(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.gY.uY(r)||this.gY.lY(r,n+"["+i+"]")}return Z_(0,n)},t}();function ik(t){return new nk(t)}var rk=function(){function t(t){this.gY=t}var n=t.prototype;return n.uY=function(t){var n=this;return di(t)&&_.keys(t).every((function(i){return n.gY.uY(t[i])}))},n.lY=function(t,n){if(!di(t))throw new p(n+" must be an object.");for(var i=0,r=_.keys(t);i<r.length;i++){var e=r[i];if(!this.gY.uY(t[e]))return this.gY.lY(t[e],n+"."+e)}return Z_(0,n)},t}();function ek(t){return new rk(t)}var uk=function(){function t(t){this.gY=un(t)}var n=t.prototype;return n.uY=function(t){return this.gY().uY(t)},n.lY=function(t,n){return this.gY().lY(t,n)},t}();var sk=H_({responseCode:Q_,isException:G_,description:Y_,title:Y_,correlationId:Y_});function ok(t,n,i,r,e){return ak.apply(this,arguments)}function ak(){return ak=yn((function(t,n,i,r,e){var u;return pn(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(jl(i,e)),s=new Vd({});s.append("Content-Type","application/json");var o=Pa(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{zu:u,oI:Gd.ON,aI:s,xI:Tl.POST,GN:JSON.stringify(a),ly:r,YA:Nl.vI,OI:Dl.mI}}(t,n,i,e),[4,ck(u,r)];case 1:return[2,s.sent()]}}))})),ak.apply(this,arguments)}function ck(t,n){return hk.apply(this,arguments)}function hk(){return hk=yn((function(t,n){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.hI(t)];case 1:return[4,r.sent().BN()];case 2:if(i=r.sent(),sk.uY(i))throw new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.zu,i.responseCode);return[2,Ra(i.getFairplayLicenseResponse.ckcResponse)]}}))})),hk.apply(this,arguments)}var fk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Gd.xN)||this)._Y=i,u}Et(n,t);var i=n.prototype;return i.sY=function(n){var i=n.replace("FairPlay",this._Y.releasePid);return t.prototype.sY.call(this,i)},i.LF=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,ok(t,i._Y,i.dF(),i.wE,n)];case 1:return[2,r.sent()]}}))}))()},n}(M_);Q(),Nt(),An(),St(),Tn();var vk=function(t){function n(n,i,r){return t.call(this,Hs,n,i,r,Gd.xN)||this}Et(n,t);var i=n.prototype;return i.EF=function(t){return t.clearkey||{}},i.vF=function(n,i,r,e){var u=this;return yn((function(){var i,s;return pn(this,(function(o){if(i=u.lF,u.dF())return[2,t.prototype.vF.call(u,n,u.NF,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,jc(JSON.stringify(s)).buffer];throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.kF=function(t,n){return st.resolve(new N(0))},i.LF=function(n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return[4,t.prototype.SF.call(r,n,Dl.MI,i)];case 1:if(e=c.sent(),(u=JSON.parse(Cc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=Qa(a.k)),a.kid&&(a.kid=Qa(a.kid));return[2,jc(JSON.stringify(u))]}}))}))()},n}(fp);Q(),Nt(),St();var dk=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n}(lp);Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Tn(),tn();var lk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function gk(t,n,i){return wk.apply(this,arguments)}function wk(){return wk=yn((function(t,n,i){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return r=Sk(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,ra(st.resolve(e.call(t,r)),i)]:[2,st.resolve(n)];case 1:return Uc(u=s.sent())?[2,Pc(u)]:[2,Ek(ys({},lk,u))]}}))})),wk.apply(this,arguments)}function yk(t,n,i,r,e){return mk.apply(this,arguments)}function mk(){return mk=yn((function(t,n,i,r,e){var u,s;return pn(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=Ik(n,i,r),u&&"function"==typeof u?[4,ra(st.resolve(u.call(t,s)),e)]:[2,st.resolve(n)];case 1:return[2,Pc(o.sent())]}}))})),mk.apply(this,arguments)}function Ak(t,n,i,r){return pk.apply(this,arguments)}function pk(){return pk=yn((function(t,n,i,r){var e;return pn(this,(function(u){switch(u.label){case 0:return[4,Mk(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,Ek(e)]}}))})),pk.apply(this,arguments)}function _k(t,n,i,r,e,u){return kk.apply(this,arguments)}function kk(){return kk=yn((function(t,n,i,r,e,u){var s;return pn(this,(function(o){switch(o.label){case 0:return s=Dk(i,e),[4,Tk(t,new N(n),s,r,u)];case 1:return[2,Pc(o.sent())]}}))})),kk.apply(this,arguments)}function Mk(t,n,i,r){return bk.apply(this,arguments)}function bk(){return bk=yn((function(t,n,i,r){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=Dk(n,i),e&&"function"==typeof e?[4,ra(st.resolve(e.call(t,u)),r)]:[2,st.resolve(u)];case 1:return Uc(s=o.sent())?[2,Pc(s).buffer]:[2,ys({fairplaySkdUrl:void 0},lk,s)]}}))})),bk.apply(this,arguments)}function Tk(t,n,i,r,e){return Nk.apply(this,arguments)}function Nk(){return Nk=yn((function(t,n,i,r,e){var u,s;return pn(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=Ik(n,i,r),u&&"function"==typeof u?[4,ra(st.resolve(u.call(t,s)),e)]:[2,st.resolve(n)];case 1:return[2,Pc(o.sent())]}}))})),Nk.apply(this,arguments)}function Dk(t,n){return ys({},Sk(t),{fairplaySkdUrl:n})}function Ik(t,n,i){return{url:i.lI,status:i.nI,statusText:i.uI,headers:i.aI.RN(),body:t,request:n}}function Ek(t){return new Sl({zu:t.url,xI:t.method,aI:t.headers,GN:t.body,zI:t.useCredentials,YA:Nl.vI})}function Sk(t){var n;return{url:t.zu,body:null!=(n=Lk(t.GN))?n:null,headers:t.aI.RN(),method:t.xI,useCredentials:t.zI}}function Lk(t){if(t)return"string"==typeof t?jc(t):t instanceof ArrayBuffer?new N(t):Xc(t)?Bc(t):void 0}tn();var Ck=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).vY=e,u}Et(n,t);var i=n.prototype;return i.kF=function(t,n){return st.resolve(t)},i.LF=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return[4,i.QF(Yc(t).buffer)];case 1:return r=c.sent(),e=i.wF(r,Gd.xN,Dl.bI,n),[4,Ak(i.vY,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new N(u)];if(""===u.zu)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.wE.hI(u)];case 4:return[4,(s=c.sent()).FN(n)];case 5:return o=c.sent(),[4,_k(i.vY,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw na(a=c.sent()),new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(v_);Q(),Nt(),An(),St(),Tn(),tn();var jk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,Gd.xN)||this).vY=e,u}Et(n,t);var i=n.prototype;return i.kF=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return i.cF?[2,i.cF]:(r=i.wF(t,Gd.xN,Dl.yI,n),[4,gk(i.vY,r,n)]);case 1:if((e=c.sent())instanceof N)return[2,e];if(""===e.zu)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.wE.hI(e)];case 3:return[4,(u=c.sent()).FN(n)];case 4:return s=c.sent(),[3,6];case 5:throw na(o=c.sent()),new ww(wd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=Dk(r,void 0),[4,yk(i.vY,new N(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.LF=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return r=i.wF(t,Gd.xN,Dl.AI,n),[4,Ak(i.vY,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new N(e)];if(""===e.zu)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.wE.hI(e)];case 3:return[4,(u=a.sent()).FN(n)];case 4:return s=a.sent(),[4,_k(i.vY,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw na(o=a.sent()),new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(dk);Q(),Nt(),An(),St(),Tn(),tn();var xk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Gd.xN)||this).vY=u,s}Et(n,t);var i=n.prototype;return i.kF=function(t,n){var i=this;return yn((function(){var t,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return i.cF?[2,i.cF]:(t=i.oY(n),[4,gk(i.vY,t,n)]);case 1:if(r=a.sent(),Xc(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.wE.hI(r)];case 3:return[4,(e=a.sent()).FN()];case 4:return u=a.sent(),s=Dk(t,void 0),[4,yk(i.vY,new N(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw na(o=a.sent()),new ww(wd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.LF=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return r=i.wF(t,Gd.xN,Dl.mI,n),[4,Ak(i.vY,r,i.wY,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new N(e)];if(""===e.zu)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.wE.hI(e)];case 3:return[4,(u=a.sent()).FN(n)];case 4:return s=a.sent(),[4,_k(i.vY,s,r,u,i.wY,n)];case 5:return[2,a.sent()];case 6:throw na(o=a.sent()),new ww(wd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.sY=function(n){var i;return this.wY=n,(null==(i=this.vY)?void 0:i.extractFairplayContentId)?st.resolve(this.vY.extractFairplayContentId(n)):t.prototype.sY.call(this,n)},n}(M_),Ok=function(){function t(){}var n=t.prototype;return n.mY=function(t,n,i,r){switch(t.NS.YA){case Vs.BA:return this.pY(n,i,r);case Vs.zA:return this.AY(n,i,r);case Vs.QA:return this.yY(t,n,i,r);case Vs.UA:default:return this.bY(n,i,r)}},n.pY=function(t,n,i){var r=function(t){return t.integration===hp&&gi(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&_p.Ex.Nx(r,Os)){var e=_p.Ex.Dx(r,Os,t);return new jk(t,n,i,e)}switch(r){case HA:return new Hp(t,n,i);case $A:return new Kp(t,n,i);case qA:return new qp(t,n,i);case KA:return new n_(t,n,i);case ip:return new u_(t,n,i);case ep:return new s_(t,n,i);case up:return new c_(t,n,i);case op:return new h_(t,n,i);default:return new dk(t,n,i,Gd.xN)}},n.AY=function(t,n,i){var r=t.integration;if(r&&_p.Ex.Nx(r,Cs)){var e=_p.Ex.Dx(r,Cs,t);return new Ck(t,n,i,e)}switch(r){case HA:return new l_(t,n,i);case $A:return new w_(t,n,i);case qA:return new y_(t,n,i);case KA:return new m_(t,n,i);case ip:return new A_(t,n,i);case up:return new p_(t,n,i);case op:return new __(t,n,i);default:return new v_(t,n,i)}},n.yY=function(t,n,i,r){var e=n.integration;if(e&&_p.Ex.Nx(e,Ps)){var u=_p.Ex.Dx(e,Ps,n);return new xk(t,n,i,r,u)}switch(e){case JA:return new b_(t,n,i,r);case $A:return new T_(t,n,i,r);case tp:return new I_(t,n,i,r);case HA:return new E_(t,n,i,r);case qA:return new S_(t,n,i,r);case KA:return new L_(t,n,i,r);case np:return new C_(t,n,i,r);case ip:return new j_(t,n,i,r);case rp:return new x_(t,n,i,r);case ep:return new O_(t,n,i,r);case up:return new z_(t,n,i,r);case sp:return new R_(t,n,i,r);case op:return new B_(t,n,i,r);case ap:return new U_(t,n,i,r);case cp:return new fk(t,n,i,r);default:return new M_(t,n,i,r,Gd.ON)}},n.bY=function(t,n,i){return new vk(t,n,i)},n.MY=function(t){return t.YA===Vs.zA||t.YA===Vs.BA||t.YA===Vs.QA||t.YA===Vs.UA},n.RS=function(t,n){var i;if(t.YA!==Vs.zA)return!1;if(ci(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!_p.Ex.Nx(r,Ps))&&(r===HA&&new d_(n).RS)},n.jF=function(t,n){if(t.YA===Vs.BA){var i=n.integration;if(!i||!_p.Ex.Nx(i,Ps))return i===HA?Hp.jF():void 0}},t}();Q(),Nt(),Q(),Nt(),Zt(),St();var zk=function(t){function n(n){var i;return(i=t.call(this,eA.ua)||this).errorObject=n,i}return Et(n,t),n.prototype.ma=function(){return this},Ct(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(jg);Q(),Nt(),Q(),Nt(),xn(),tn(),sn();var Rk="theoplayer-stored-network-info-v2",Bk=25e5,Uk=function(){function t(){var t=this;this.SY=Yd,this.EY=void 0,this.kY=rn((function(){var n,i=jn({},t.SY,{availableBandwidth:t.EY,storedTimestamp:br()});null==(n=Kt.dE)||n.tM(Rk,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.TY=function(t){var n,i=null==(n=Kt.dE)?void 0:n.$b(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.SY]){if(!this.NY(r))return r[this.SY].availableBandwidth;var e;null==(e=Kt.dE)||e.tM(t,JSON.stringify({}))}}},n.IY=function(){var t=this.TY(Rk);if(void 0!==t)return t;var n=this.TY("theoplayer-stored-network-info");return n?8*n:void 0},n.NY=function(t){var n=t[this.SY].storedTimestamp;return!!n&&br()-n>36e5},n.DY=function(t){this.EY=t,this.kY()},n.LY=function(){var t;return null!=this.EY||(this.EY=null!=(t=this.IY())?t:Bk),this.EY},t}();Uk.Ld=new Uk,Q(),Nt();var Pk=function(t){return t[t.xY=0]="xY",t[t.CY=1]="CY",t[t.jY=2]="jY",t[t.OY=3]="OY",t[t.RY=4]="RY",t[t.PY=5]="PY",t[t.tx=6]="tx",t[t.zY=7]="zY",t[t.BY=8]="BY",t[t.ox=9]="ox",t[t.UY=10]="UY",t[t.hx=11]="hx",t[t.QY=12]="QY",t}({});Q(),Nt(),Zt();var Qk=function(){function t(){}return t.prototype.VY=function(t){},Ct(t,[{key:"FY",get:function(){return 0}},{key:"YY",get:function(){return 0}}]),t}();Q(),Nt(),St(),Q(),Nt(),St();var Yk=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).GY=n,i}return Et(n,t),n}(ka),Gk=function(t){function n(n,i){var r;return void 0===i&&(i=new Ok),(r=t.call(this)||this).VF=void 0,r.OQ=n,r.ZY=i,r}Et(n,t);var i=n.prototype;return i.WY=function(t){this.VF=t},i.jF=function(t){var n=this.VF;if(void 0!==n)return this.ZY.jF(t,n)},i.RS=function(t){var n=this.VF;return void 0!==n&&this.ZY.RS(t,n)},i.HY=function(t){var n={NS:t.NS,XY:t.XY||[],qY:t.qY,hY:t.hY},i=this.ZY.mY(n,this.VF||{},t.DF,this.OQ);return n.qY&&i.aF(n.qY),new Vk(i)},i.KY=function(t){t&&(Do(t,(function(t){return void 0!==t.DF}))&&this.yo(new Yk(t)))},n}(Aa),Vk=function(){function t(t){this.JY=t}var n=t.prototype;return n.gF=function(t){return this.JY.gF(t)},n._F=function(t,n,i){return this.JY._F(n,i)},n.fF=function(){return this.JY.fF||void 0!==this.JY.cF},n.kF=function(t,n){return this.JY.kF(t,n)},n.LF=function(t,n,i){return n&&this.JY.aF(n),this.JY.LF(t,i)},n.wy=function(){this.JY.gn()},t}();Q(),Nt(),St();var Fk=function(t){function n(n){var i;(i=t.call(this)||this).tV=[],i.rV=function(t){i.tt(t.Ht)},i.oV=function(t){var n=t.Ht;i.nV(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.$Y(e)}return i}Et(n,t);var i=n.prototype;return i.$Y=function(t){this.tV.push(t);for(var n=0,i=t.AL;n<i.length;n++){var r=i[n];this.tt(r)}this.iV(t)},i.eV=function(t){Co(this.tV,t),this.sV(t);for(var n=0,i=t.AL;n<i.length;n++){var r=i[n];this.nV(r)||this.it(r)}},i.nV=function(t){for(var n=0,i=this.tV;n<i.length;n++){if(i[n].ML(t))return!0}return!1},i.iV=function(t){t.yn(Rg.Hk,this.rV),t.yn(Rg.qk,this.oV)},i.sV=function(t){t.fn(Rg.Hk,this.rV),t.fn(Rg.qk,this.oV)},i.gn=function(){for(;this.tV.length>0;)this.eV(this.tV[0]);t.prototype.gn.call(this)},i.ma=function(){return aA(this)},n}(Gg);Q(),Nt(),Zt(),Q(),Nt();var Wk,Zk={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Xk=function(){function t(){}var n=t.prototype;return n.Sa=function(t){this.aV=t,void 0!==this.He&&(this.aV.Rt=this.He)},n.tr=function(){this.aV=void 0,this.He=void 0},Ct(t,[{key:"ga",get:function(){return null!=this.Za||(this.Za=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=qg(n)},get monitoringLivePlayback(){return t.hV},get currentLatency(){return t.Az},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.md)}}}(this)),this.Za}},{key:"Rt",get:function(){var t,n;return null!=(n=this.He)?n:Boolean(null==(t=this.aV)?void 0:t.Rt)},set:function(t){this.He=t,this.aV&&(this.aV.Rt=t)}},{key:"hV",get:function(){var t,n;return null!=(n=null==(t=this.aV)?void 0:t.zP)&&n}},{key:"Az",get:function(){var t;return null==(t=this.aV)?void 0:t.pz}},{key:"md",get:function(){return this.aV?this.aV.BP:Zk}}]),t}();var Hk=!(!Wr||!Wr.TextTrack),Kk=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new Ok),void 0===a&&(a=zd()),(c=t.call(this)||this).vV=void 0,c.wc=void 0,c.dV=void 0,c.fV=void 0,c.AV=new Qk,c.mV=new Xk,c.GV=function(t){var n=t.lt,i=n.code,r=new md(kw(i),"Something went wrong during native playback.",n),e=new mw(i,r.message,n.message);c.eG(r,e)},c.xc=function(){c.yo(new Cg(c.LE,c.NE))},c.YV=function(t){c.KE||(c.lV=void 0),c.yo(t)},c.vz=function(t){c.lV=void 0},c.ZV=function(){c.yo(new Pw(c.FE))},c.VV=function(){c.Tk>0&&c.yk>0&&c.yo(new xA)},c.qV=function(t){var n=c.cz.gV.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];$k(c.Oz,r)||c.Oz.tt(new Rw(r))}},c.KV=function(t){var n=[],i=c.cz.gV.audioTracks;if(i){for(var r=0,e=c.Oz.AL;r<e.length;r++){var u=e[r];tM(i,u.sB)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.Oz.it(o)}}},c.JV=function(){c.nh(c.Oz)},c.$V=function(t){var n=c.cz.gV.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];$k(c.Pz,r)||c.Pz.tt(new Uw(r))}},c.tG=function(t){var n=[],i=c.cz.gV.videoTracks;if(i){for(var r=0,e=c.Pz.AL;r<e.length;r++){var u=e[r];tM(i,u.sB)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.Pz.it(o)}}},c.iG=function(){c.nh(c.Pz)},c.WV=function(t){c.yo(t),c.eG(t.errorObject,pw(t.errorObject))},c.QV=i,c.OQ=r,c.KA=a,c.cz=c.QV.sG(lw.NI),c._V=c.cz.gV.preload,c.OV=new ZA(c.cz,!0),c.OV.yn(RA,c.Ds),c.SV=new Gk(r,o),c.cz.zV=c.SV,c.FV(),c.Oz=new dw,c.Pz=new dw,c.XV(),c.LV=new IA(c.cz,c.OQ),c.Ul=new Fk([c.cz.nt]),c.ge(),c}Et(n,t);var i=n.prototype;return i.CE=function(t,n){this.FE&&(this.lV=t),this.cz.Wb(t)},i.be=function(){this.cz.be()},i.ge=function(){this.cz.ge()},i.ka=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return ta(i),r.wc=t,e={YA:OA.QQ,WL:t.src,VN:t.type,yV:r.bV(t),ck:r._V,MV:t.crossOrigin,TV:n.metadata&&n.metadata.title},r.SV.WY(t.contentProtection),[4,r.cz.$n(e)];case 1:return r.vV=u.sent(),ta(i),n.textTracks&&r.NV(n.textTracks),jA(r.nt),[2]}}))}))()},i.NV=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.cz.DV()&&Wt.Ka&&Hk&&!pA(i.kind,i.label)&&this.EV(i)){var r,e=null!=(r=i.kind)?r:hA.AQ;this.cz.kV(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.LV.xQ(i)}}},i.EV=function(t){return!t.format||"webvtt"===t.format},i.Pk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.cz.Pk()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.uV?[3,5]:[4,t.cz.zy(Ma.mb)];case 5:return[2]}}))}))()},i.Rk=function(){this.cz.Rk()},i.Bk=function(){return void 0!==this.cz.gV.webkitShowPlaybackTargetPicker},i.Uk=function(){this.cz.gV.webkitShowPlaybackTargetPicker&&this.cz.gV.webkitShowPlaybackTargetPicker()},i.Qk=function(){this.cz.gV.webkitShowPlaybackTargetPicker&&this.cz.gV.webkitShowPlaybackTargetPicker()},i.jk=function(){return this.cz.gV},i.Ck=function(){return this.cz.wa},i._a=function(){return this.cz.xV},i.Wk=function(t){return this.cz.CV(t)},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.wc=void 0,t.dV=void 0,t.fV=void 0,t.vV=void 0,[4,t.LV.tr()];case 1:return n.sent(),t.cz.jV(),[4,t.cz.tr()];case 2:return n.sent(),t.OV.tr(),t.ck=t._V,t.ht.tr(),t.rt.tr(),t.lV=void 0,[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.Bo(),t.RV(),t.PV(),t.OV.gn(),t.cz.zV=void 0,[4,t.QV.BV(t.cz)];case 2:return n.sent(),t.Oz.gn(),t.Pz.gn(),t.Ul.gn(),[4,t.LV.gn()];case 3:return n.sent(),[2]}}))}))()},i.FV=function(){this.cz.yn(Ma.so,this.Ds),this.cz.yn(Ma.wb,this.Ds),this.cz.yn(Ma.Eb,this.xc),this.cz.yn(Ma.mb,this.Ds),this.cz.yn(Ma.ub,this.Ds),this.cz.yn(Ma.Mb,this.Ds),this.cz.yn(Ma.bb,this.YV),this.cz.yn(Ma.qy,this.Ds),this.cz.yn(Ma.pb,this.Ds),this.cz.yn(Ma.kb,this.Ds),this.cz.yn(Ma.Zy,this.Ds),this.cz.yn(Ma.yb,this.VV),this.cz.yn(zA.oP,this.vz),this.cz.yn(eA.ua,this.GV),this.cz.yn(Ma.Vy,this.Ds),this.cz.yn(Ma.Yy,this.WV),this.cz.gV.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ZV)},i.RV=function(){this.cz.fn(Ma.so,this.Ds),this.cz.fn(Ma.wb,this.Ds),this.cz.fn(Ma.Eb,this.xc),this.cz.fn(Ma.mb,this.Ds),this.cz.fn(Ma.ub,this.Ds),this.cz.fn(Ma.Mb,this.Ds),this.cz.fn(Ma.bb,this.YV),this.cz.fn(Ma.qy,this.Ds),this.cz.fn(Ma.pb,this.Ds),this.cz.fn(Ma.kb,this.Ds),this.cz.fn(Ma.Zy,this.Ds),this.cz.fn(Ma.yb,this.VV),this.cz.fn(zA.oP,this.vz),this.cz.fn(eA.ua,this.GV),this.cz.fn(Ma.Vy,this.Ds),this.cz.fn(Ma.Yy,this.WV),this.cz.gV.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ZV)},i.bV=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{NS:Zs,HV:[{initDataTypes:[Zs.GA],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.XV=function(){var t=this.cz.gV.audioTracks,n=this.cz.gV.videoTracks;t&&(t.addEventListener("addtrack",this.qV),t.addEventListener("removetrack",this.KV),t.addEventListener("change",this.JV)),n&&(n.addEventListener("addtrack",this.$V),n.addEventListener("removetrack",this.tG),n.addEventListener("change",this.iG))},i.PV=function(){var t=this.cz.gV.audioTracks,n=this.cz.gV.videoTracks;t&&(t.removeEventListener("addtrack",this.qV),t.removeEventListener("removetrack",this.KV),t.removeEventListener("change",this.JV)),n&&(n.removeEventListener("addtrack",this.$V),n.removeEventListener("removetrack",this.tG),n.removeEventListener("change",this.iG))},i.nh=function(t){for(var n=0;n<t.V;n++){t.bL(n).rB()}},i.Fk=function(){this.cz.Fk()},i.Yk=function(){},i.eG=function(t,n){this.dV||(this.dV=n,this.fV=t,this.yo(new zk(t)))},Ct(n,[{key:"Az",get:function(){}},{key:"uV",get:function(){var t=this.cz.TE,n=this.LE;return t.gr(n,.01)}},{key:"ht",get:function(){return this.Oz}},{key:"TE",get:function(){return this.cz.TE.ks()}},{key:"NE",get:function(){return this.cz.NE},set:function(t){t&&this.cz.cV(t)}},{key:"bt",get:function(){return this.wc}},{key:"LE",get:function(){return void 0!==this.lV?this.lV:this.cz.LE},set:function(t){this.CE(t)}},{key:"ct",get:function(){return this.cz.ct}},{key:"OE",get:function(){return this.cz.OE}},{key:"lt",get:function(){return this.dV}},{key:"zE",get:function(){return this.fV}},{key:"UE",get:function(){}},{key:"FE",get:function(){return this.cz.FE}},{key:"VE",get:function(){return ys({},{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.cz.GE())}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"XE",get:function(){return!0}},{key:"KE",get:function(){return this.cz.KE}},{key:"$E",get:function(){return this.cz.$E},set:function(t){this.cz.$E=t}},{key:"rk",get:function(){return this.cz.gV.played}},{key:"ck",get:function(){return this._V},set:function(t){this._V=t,this.vV&&(this.vV.ck=t)}},{key:"fk",get:function(){return this.cz.fk}},{key:"_k",get:function(){return this.cz._k.ks()}},{key:"wk",get:function(){return this.cz.wk}},{key:"wV",get:function(){return this.cz.wV}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.Pz}},{key:"yk",get:function(){return this.cz.yk}},{key:"Tk",get:function(){return this.cz.Tk}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){this.cz.Nk=t}},{key:"Ek",get:function(){return this.mV}},{key:"xk",get:function(){return this.cz.xk},set:function(t){this.cz.xk=t}},{key:"pV",get:function(){return this.AV}}]),n}(_a);function Jk(t){var n,i;if(!(null==(n=(Wk||(Wk=Wr&&Wr.document&&Wr.document.createElement("video")),i=Wk).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Wt.Ka||Wt.Sg;return!t.useManagedMediaSource||!r}var qk=function(){function t(){this.hG=Pk.QY}var n=t.prototype;return n.bx=function(t,n,i,r,e,u,s){return new Kk(t,n,i,r,e,u)},n.nG=function(t,n){return Jk(t)},n.rG=function(t){return Pp(t)},n.oG=function(){return!1},t}();function $k(t,n){for(var i=0,r=t.AL;i<r.length;i++){var e=r[i];if(e.sB===n)return e}}function tM(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}Q(),Nt(),Q(),Nt(),Zt();var nM=function(){function t(t,n){var i=this;this.Jrt=!1,this.$rt=function(t){i.tot.bX(t.error,i.LE)},this.iot=function(){i.tot.mX(i.Krt),i.ta.removeEventListener("playing",i.iot),i.Jrt=!1},this.js=function(){var t,n,r,e,u,s;(i.Jrt||(i.ta.addEventListener("playing",i.iot),i.Jrt=!0),null==(t=i.ta.ads)||t.removeEventListener("adbegin",i.eot),null==(n=i.ta.theoads)||n.removeEventListener("interstitialbegin",i.rot),null==(e=i.ta.source)||null==(r=e.ads)?void 0:r.some((function(t){return"theoads"===t.integration})))&&(null==(u=i.ta.ads)||u.addEventListener("adbegin",i.eot),null==(s=i.ta.theoads)||s.addEventListener("interstitialbegin",i.rot))},this.eot=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.tot.yX("ad")},this.rot=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.tot.yX(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.tot=n,this.ta=t,this.ta.addEventListener("error",this.$rt),this.ta.addEventListener("sourcechange",this.js),this.js()}return t.prototype.tr=function(){},Ct(t,[{key:"LE",get:function(){var t=this.ta.currentTime;return isFinite(t)?t:"now"}},{key:"Krt",get:function(){return this.ta.src||""}}]),t}();Q(),Nt(),St(),Q(),Nt(),An(),Zt(),St(),Tn();var iM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zk=function(t){r.Gk(t)||r.yo(t)},r.ta=n,r.Xnt=!i,r.yG(),r}Et(n,t);var i=n.prototype;return i.Fnt=function(){return this.ta.Tnt},i.Ynt=function(){return this.ta.Vc},i.Vnt=function(){return this.ta.Nnt},i.Ck=function(){return this.ta.wa},i._a=function(){return this.ta.xV},i.Wnt=function(){return this.ta.Gnt},i.Hnt=function(){return this.ta.Znt},i.AE=function(){return this.ta.ht},i.SE=function(){return this.ta.SE()},i.DE=function(){return this.ta.NE},i.EE=function(t){this.ta.NE=t},i.kE=function(){return this.ta.bt},i.xE=function(){return this.ta.xE()},i.CE=function(t,n){this.ta.CE(t,n)},i.Cnt=function(){return this.ta.Cnt()},i._d=function(){return this.ta._d()},i.jE=function(){return this.ta.we},i.RE=function(){return this.ta.OE},i.PE=function(){return this.ta.PE()},i.BE=function(){return this.ta.BE()},i.QE=function(){return this.ta.UE},i.GE=function(){return this.ta.VE},i.ZE=function(){return this.ta.WE},i.HE=function(t){this.ta.HE(t)},i.JE=function(){return this.ta.KE},i.ek=function(){return this.ta.$E},i.nk=function(t){this.ta.$E=t},i.hk=function(){return this.ta.hk()},i.lk=function(){return this.ta.ck},i.dk=function(t){this.ta.ck=t},i.gk=function(){return this.ta.fk},i.vk=function(){return this.ta.vk()},i.pk=function(){return this.ta.wk},i.Ak=function(){return this.ta.nt},i.bk=function(){return this.ta.yk},i.Mk=function(){return this.ta.rt},i.Sk=function(){return this.ta.Tk},i.Ik=function(){return this.ta.Nk},i.Dk=function(t){this.ta.Dk(t)},i.Ok=function(){this.ta.Ok()},i.Rk=function(){this.ta.Rk()},i.Pk=function(){this.ta.Pk()},i.ge=function(){this.ta.ge()},i.be=function(){this.ta.be()},i.cs=function(){return this.ta.cs()},i.jk=function(){return this.ta.jk()},i.Fk=function(){this.ta.Fk()},i.Yk=function(){this.ta.Yk()},i.Wk=function(t){return this.ta.Wk(t)},i.Sa=function(){this.ta.Sa()},i.Ya=function(){return this.ta.Ya()},i.ka=function(t,n){return this.ta.ka(t,n)},i.zk=function(){return this.ta.zk()},i.Gk=function(t){return!1},i.yG=function(){this.Xnt&&this.ta.xy(this.Zk)},i.bG=function(){this.Xnt&&this.ta.Py(this.Zk)},i.gn=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.Bo(),t?[3,2]:[4,n.ta.gn()];case 1:i.sent(),i.label=2;case 2:return n.bG(),[2]}}))}))()},Ct(n,[{key:"Tnt",get:function(){return this.Fnt()}},{key:"Vc",get:function(){return this.Ynt()}},{key:"znt",get:function(){return this.ta.znt}},{key:"Nnt",get:function(){return this.Vnt()}},{key:"Xz",get:function(){return this.ta.Xz},set:function(t){this.ta.Xz=t}},{key:"Ow",get:function(){return this.ta.Ow}},{key:"qZ",get:function(){return this.ta.qZ}},{key:"xnt",get:function(){return this.ta.xnt}},{key:"md",get:function(){return this.ta.md}},{key:"Uu",get:function(){return this.ta.Uu}},{key:"wa",get:function(){return this.Ck()}},{key:"xV",get:function(){return this._a()}},{key:"wE",get:function(){return this.ta.wE}},{key:"Ek",get:function(){return this.ta.Ek}},{key:"jnt",get:function(){return this.ta.jnt}},{key:"wJ",get:function(){return this.ta.wJ}},{key:"wZ",get:function(){return this.ta.wZ}},{key:"Rnt",get:function(){return this.ta.Rnt}},{key:"Ent",get:function(){return this.ta.Ent}},{key:"xa",get:function(){return this.ta.xa}},{key:"Ll",get:function(){return this.ta.Ll}},{key:"Gnt",get:function(){return this.Wnt()}},{key:"Znt",get:function(){return this.Hnt()}},{key:"zL",get:function(){return this.ta.zL}},{key:"To",get:function(){return this.ta.To}},{key:"ht",get:function(){return this.AE()}},{key:"NE",get:function(){return this.DE()},set:function(t){this.EE(t)}},{key:"bt",get:function(){return this.kE()}},{key:"we",get:function(){return this.jE()}},{key:"OE",get:function(){return this.RE()}},{key:"UE",get:function(){return this.QE()}},{key:"xk",get:function(){return this.ta.xk},set:function(t){this.ta.xk=t}},{key:"VE",get:function(){return this.GE()}},{key:"WE",get:function(){return this.ZE()},set:function(t){this.HE(t)}},{key:"KE",get:function(){return this.JE()}},{key:"$E",get:function(){return this.ek()},set:function(t){this.nk(t)}},{key:"ck",get:function(){return this.lk()},set:function(t){this.dk(t)}},{key:"fk",get:function(){return this.gk()}},{key:"Ca",get:function(){return this.ta.Ca},set:function(t){this.ta.Ca=t}},{key:"wk",get:function(){return this.pk()}},{key:"nt",get:function(){return this.Ak()}},{key:"yk",get:function(){return this.bk()}},{key:"rt",get:function(){return this.Mk()}},{key:"Tk",get:function(){return this.Sk()}},{key:"Nk",get:function(){return this.Ik()},set:function(t){this.Dk(t)}}]),n}(_a),rM=function(t){return t[t.nu=0]="nu",t[t.qnt=1]="qnt",t[t.hx=2]="hx",t[t.Knt=3]="Knt",t[t.Jnt=4]="Jnt",t[t.$nt=5]="$nt",t}({}),eM=[0,1,2,3,4,5],uM={};function sM(t,n){(uM[n]||(uM[n]=[])).push(t)}var oM={};function aM(t,n){(oM[n]||(oM[n]=[])).push(t)}var cM=[];!function(t){cM.push(t)}((function(t){new nM(t.ga,t.znt)})),Q(),Nt(),St(),Q(),Nt(),St();var hM=function(){function t(){}return t.LN=function(){return t.Ld||(t.Ld=fM.PS()?new fM:new Rd),t.Ld},t.eM=function(n){t.LN().eM(n)},t.kN=function(){t.LN().kN()},t.$b=function(n){return t.LN().$b(n)},t.tM=function(n,i){t.LN().tM(n,i)},t.zJ=function(n){var i=t.$b(n);if(void 0!==i)return b(i)},t.BJ=function(n){return"true"===t.$b(n)},t}();hM.Ld=void 0;var fM=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.eM=function(t){self.localStorage.removeItem(t)},i.kN=function(){self.localStorage.clear()},i.$b=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.tM=function(t,n){self.localStorage.setItem(t,n)},n.PS=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(hM),vM="theoplayer-stored-volume",dM="theoplayer-stored-mutedstate";sM((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=hM.zJ(vM);(void 0===e||T(e))&&(e=1);var u=hM.BJ(dM)||!1;r.Nk=e,r.WE=u}return r}Et(n,t);var i=n.prototype;return i.HE=function(n){this.md.persistVolume&&hM.tM(dM,""+Boolean(n)),t.prototype.HE.call(this,n)},i.Dk=function(n){this.md.persistVolume&&hM.tM(vM,""+Number(n)),t.prototype.Dk.call(this,n)},n}(t)}),rM.nu),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn();var lM=function(t){function n(n){var i;return(i=t.call(this)||this).Zk=function(t){i.Gk(t)||i.yo(t)},i.yE=n,n.xy(i.Zk),i}Et(n,t);var i=n.prototype;return i.AE=function(){return this.yE.ht},i.bE=function(){return this.yE.bE()},i.SE=function(){return this.yE.TE},i.DE=function(){return this.yE.NE},i.EE=function(t){this.yE.NE=t},i.kE=function(){return this.yE.bt},i.xE=function(){return this.yE.LE},i.CE=function(t,n){this.yE.CE(t,n)},i._d=function(){return this.yE.ct},i.jE=function(){return this.yE.we},i.RE=function(){return this.yE.OE},i.PE=function(){return this.yE.lt},i.BE=function(){return this.yE.zE},i.QE=function(){return this.yE.UE},i.YE=function(){return this.yE.FE},i.GE=function(){return this.yE.VE},i.ZE=function(){return this.yE.WE},i.HE=function(t){this.yE.WE=t},i.qE=function(){return this.yE.XE},i.JE=function(){return this.yE.KE},i.ek=function(){return this.yE.$E},i.nk=function(t){this.yE.$E=t},i.hk=function(){return this.yE.rk},i.lk=function(){return this.yE.ck},i.dk=function(t){this.yE.ck=t},i.gk=function(){return this.yE.fk},i.vk=function(){return this.yE._k},i.pk=function(){return this.yE.wk},i.Ya=function(){return this.yE.Ya()},i.ka=function(t,n){return this.yE.ka(t,n)},i.Ak=function(){return this.yE.nt},i.bk=function(){return this.yE.yk},i.Mk=function(){return this.yE.rt},i.Sk=function(){return this.yE.Tk},i.Lk=function(){return this.yE.Ek},i.Ik=function(){return this.yE.Nk},i.Dk=function(t){this.yE.Nk=t},i.Ck=function(){return this.yE.Ck()},i._a=function(){return this.yE._a()},i.jk=function(){return this.yE.jk()},i.ur=function(t){this.yE.ur(t)},i.ar=function(){this.yE.ar()},i.be=function(){this.yE.be()},i.Ok=function(){this.yE.Ok()},i.Rk=function(){this.yE.Rk()},i.Pk=function(){this.yE.Pk()},i.ge=function(){this.yE.ge()},i.zk=function(){return this.yE.zk()},i.Bk=function(){return this.yE.Bk()},i.Uk=function(){this.yE.Uk()},i.Qk=function(){this.yE.Qk()},i.tr=function(){return this.yE.tr()},i.Fk=function(){this.yE.Fk()},i.Yk=function(){this.yE.Yk()},i.Vk=function(t){return this.yE.Vk(t)},i.Gk=function(t){return!1},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.yE.gn()];case 1:return n.sent(),[2]}}))}))()},i.Wk=function(t){return this.yE.Wk(t)},Ct(n,[{key:"ht",get:function(){return this.AE()}},{key:"TE",get:function(){return this.SE()}},{key:"NE",get:function(){return this.DE()},set:function(t){this.EE(t)}},{key:"bt",get:function(){return this.kE()}},{key:"LE",get:function(){return this.xE()},set:function(t){this.CE(t)}},{key:"ct",get:function(){return this._d()}},{key:"we",get:function(){return this.jE()}},{key:"OE",get:function(){return this.RE()}},{key:"lt",get:function(){return this.PE()}},{key:"zE",get:function(){return this.BE()}},{key:"UE",get:function(){return this.QE()}},{key:"FE",get:function(){return this.YE()}},{key:"VE",get:function(){return this.GE()}},{key:"WE",get:function(){return this.ZE()},set:function(t){this.HE(t)}},{key:"XE",get:function(){return this.qE()}},{key:"KE",get:function(){return this.JE()}},{key:"$E",get:function(){return this.ek()},set:function(t){this.nk(t)}},{key:"rk",get:function(){return this.hk()}},{key:"ck",get:function(){return this.lk()},set:function(t){this.dk(t)}},{key:"fk",get:function(){return this.gk()}},{key:"_k",get:function(){return this.vk()}},{key:"wk",get:function(){return this.pk()}},{key:"nt",get:function(){return this.Ak()}},{key:"yk",get:function(){return this.bk()}},{key:"rt",get:function(){return this.Mk()}},{key:"Tk",get:function(){return this.Sk()}},{key:"Nk",get:function(){return this.Ik()},set:function(t){this.Dk(t)}},{key:"Ek",get:function(){return this.Lk()}},{key:"xk",get:function(){return this.yE.xk},set:function(t){this.yE.xk=t}}]),n}(_a);Q(),Nt(),St(),Q(),Nt(),Zt(),St();var gM=function(t){function n(){var n;return(n=t.call(this)||this).SL=void 0,n.EL=function(t){var i=t.Ht;n.tt(i)},n.kL=function(t){var i=t.Ht;n.it(i)},n}Et(n,t);var i=n.prototype;return i.DL=function(t){t.yn(Rg.Hk,this.EL),t.yn(Rg.qk,this.kL)},i.NL=function(t){t.fn(Rg.Hk,this.EL),t.fn(Rg.qk,this.kL)},i.gn=function(n){!n&&this.SL&&this.SL.gn(),t.prototype.gn.call(this)},Ct(n,[{key:"TL",get:function(){return this.SL},set:function(t){var n=this.SL;if(t!==n){if(n){this.NL(n);for(var i=0,r=n.AL;i<r.length;i++){var e=r[i];t&&t.ML(e)||this.it(e)}}if(this.SL=t,t){for(var u=[],s=0,o=t.AL;s<o.length;s++){var a=o[s];this.tt(a),this.IL(a)&&u.push(a)}this.DL(t);for(var c=0;c<u.length;c++){var h=u[c];h.yo(new Tw(h))}}}}}]),n}(Gg),wM=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.ma=function(){return vw(this)},i.IL=function(t){return t.Rt},n}(gM);Q(),Nt(),St();var yM=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.ma=function(){return aA(this)},i.IL=function(t){return t.UI===iA.Jn},n}(gM);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var mM=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.qL=function(){},Ct(n,[{key:"ZL",get:function(){}},{key:"HL",get:function(){return!1}},{key:"XL",get:function(){}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=AM(this)}}]),n}(Aa);function AM(t){return{goLive:function(){return t.qL()},get isLive(){return t.HL},get latencies(){return t.ZL},get manifest(){return t.XL},addEventListener:function(n,i){t.yn(_M(n),i)},removeEventListener:function(n,i){t.fn(_M(n),i)}}}var pM=["golive","latencyrecoveryseek"];function _M(t){var n=ew(t,iw);return(gi(n)?[n]:n).filter((function(t){return Oo(pM,t)}))}var kM=function(t){function n(){var n;return(n=t.call(this)||this).SL=void 0,n.Za=void 0,n.SL=void 0,n}Et(n,t);var i=n.prototype;return i.DL=function(t){t.yn(pM,this.Ds)},i.NL=function(t){t.fn(pM,this.Ds)},i.qL=function(){var t;null==(t=this.SL)||t.qL()},i.gn=function(){this.Bo(),this.SL&&this.NL(this.SL),this.SL=void 0},Ct(n,[{key:"TL",get:function(){return this.SL},set:function(t){var n=this.SL;t!==n&&(n&&this.NL(n),t&&this.DL(t),this.SL=t)}},{key:"ga",get:function(){return this.Za||(this.Za=AM(this)),this.Za}},{key:"ZL",get:function(){var t;return null==(t=this.SL)?void 0:t.ZL}},{key:"HL",get:function(){return!!this.SL&&this.SL.HL}},{key:"XL",get:function(){var t;return null==(t=this.SL)?void 0:t.XL}}]),n}(Aa);Q(),Nt(),tn(),Q(),Nt();var MM="8E80B9CE",bM=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function TM(t){return{appID:t&&t.appID?iw(t.appID):MM}}Q(),Nt(),Q(),Nt();var NM=function(t){return t.EI="",t.KL="anonymous",t.JL="use-credentials",t}({}),DM=function(t){return t.$L="application/dash+xml",t.tx="application/vnd.apple.mpegurl",t.ix="application/x-mpegurl",t.sx="video/mp4",t.nx="application/vnd.theoplayer.hesp+json",t.ox="application/vnd.theo.hesp+json",t.hx="millicast",t.ux="theolive",t}({});function IM(t){if(null!==t)return t}function EM(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:IM(t.streamActivityMonitorID),adTagParameters:di(t.adTagParameters)?t.adTagParameters:{},authToken:IM(t.authToken),omidAccessModeRules:IM(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?ys({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Kt.uA("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Kt.uA("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?ys({},n,{availabilityType:"live",assetKey:e}):void Kt.uA("A Live DAI configuration was provided without valid assetKey which is required.")}Kt.uA("A DAI configuration was provided without a valid availabilityType which is required.")}function SM(t){switch(t.integration){case"google-dai":return EM(t);case"imagine":return function(t){return{integration:t.integration}}(t);default:return ys({},t,{integration:String(t.integration)})}}function LM(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=NM.EI;return t.useCredentials?i=NM.JL:t.crossOrigin&&(i=ob(t.crossOrigin)),i===NM.EI&&n&&n.vr&&n.vr[360]&&(i=NM.KL),{useCredentials:i===NM.JL,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;ci(o)||(o=i&&ci(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;ci(a)||(a=n&&ci(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;ci(c)||(c=i&&ci(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),w=ci(t.dash)?jM(t.dash):void 0,y=ci(t.hls)?xM(t.hls):void 0,m=RM(zM(t.abr),null==i?void 0:i.abr),A=$g(t.lcevc),p=ci(t.ignoreEmbeddedTextTrackTypes)?Tb(t.ignoreEmbeddedTextTrackTypes):[],_=nb(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=qM(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:g,dash:w,hls:y,abr:m,lcevc:A,ignoreEmbeddedTextTrackTypes:p,seamlessSwitchStrategy:_,latencyConfiguration:k}}(t,n,i),e=IM(t.src),u=t.type;u||(u=t.src?sb(t.src):void 0);var s=function(t,n){var i;i=ci(t.contentProtection)?t.contentProtection:ci(t.drm)?t.drm:ci(n)&&ci(n.contentProtection)?n.contentProtection:ci(n)&&ci(n.drm)?n.drm:void 0;return CM(i)}(t,n);return ys({},r,{src:e,type:u,contentProtection:s,ssai:ci(t.ssai)?SM(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function CM(t){return Sp(t)&&t.integration&&t.integration===np?function(t){var n=Rp(Vs.BA,t),i=Rp(Vs.zA,t),r=t[Vs.QA]&&Rp(Vs.QA,t);return ys({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function jM(t){return{useSeamlessPeriodSwitch:nb(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:$g(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?tw(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:$g(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:$g(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:$g(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:$g(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:$g(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function xM(t){return{discontinuityAlignment:OM(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:qg(null==t?void 0:t.delaySubtitlePreload)}}function OM(t){if(!t||!gi(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function zM(t){if(ci(t))return BM(rw(null==t?void 0:t.preferredAudioCodecs,iw),rw(null==t?void 0:t.preferredVideoCodecs,iw),$g(null==t?void 0:t.restrictToPlayerSize))}function RM(t,n){var i;if(ci(t)||ci(n))return BM(UM(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),UM(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function BM(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function UM(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function PM(t,n){if(void 0!==n)switch(t){case lw.NI:return n.preferredVideoCodecs;case lw.SI:return n.preferredAudioCodecs;default:return}}Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),tn(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Zt(),St(),gn(),tn(),Q(),Nt();var QM=!1;function YM(t,n,i){return i?t<=n:t<n}Q(),Nt(),Zt();var GM=function(){function t(t,n){this.V=t.length>>1,this.aP=t,this.cP=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Cn=function(t){return this.aP[2*t]},n.jn=function(t){return this.aP[2*t+1]},n.uP=function(t){return this.cP[2*t]},n.lP=function(t){return this.cP[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.dP(i),t.Cn(i)},end:function(n){var i=0|n;return t.dP(i),t.jn(i)}}},n.fP=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Cn(r),n[2*r+1]=this.jn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.dP=function(t){if(t<0)throw new A("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new A("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.gP=function(t){if(0===this.V)return 0;if(this.gr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.V-1))return this.jn(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Cn(r),u=k.abs(e-t);u<i&&(n=e,i=u);var s=this.jn(r),o=k.abs(s-t);o<i&&(n=s,i=o)}return n},n.Sn=function(n){for(var i=0,r=0,e=[],u=[];i<this.V&&r<n.V;){var s=this.Cn(i),o=this.jn(i),a=this.uP(i),c=this.lP(i),h=n.Cn(r),f=n.jn(r),v=n.uP(r),d=n.lP(r),l=k.max(s,h),g=k.min(o,f),w=void 0;w=s===h?a&&v:l===s?a:v;var y=void 0;y=o===f?c&&d:g===o?c:d,(l<g||w&&y&&l===g)&&(e.push(l,g),u.push(w,y)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n._P=function(){var n=this.vP(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Cn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.uP(0)));for(var s=0;s<i-1;s++)r.push(n.jn(s),n.Cn(s+1)),e.push(!n.lP(s),!n.uP(s+1));var o=n.jn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.lP(i-1),!1)),new t(r,e)},n.wP=function(n){for(var i=0,r=0,e=this.V,u=n.V,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Cn(i),h=this.jn(i),f=n.Cn(r),v=n.jn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.uP(i),o[a+1]=this.lP(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.uP(r),o[a+1]=n.lP(r),r++),a+=2}for(;i<e;)s[a]=this.Cn(i),s[a+1]=this.jn(i),o[a]=this.uP(i),o[a+1]=this.lP(i),i++,a+=2;for(;r<u;)s[a]=n.Cn(r),s[a+1]=n.jn(r),o[a]=n.uP(r),o[a+1]=n.lP(r),r++,a+=2;return new t(s,o)},n.mP=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],u=this.Cn(0),s=this.jn(0),o=this.uP(0),a=this.lP(0),c=1;c<i;c++){var h=this.Cn(c),f=this.jn(c),v=this.uP(c),d=this.lP(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=d=a||d),YM(h,s+n,a||v)?(s=f,a=d):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=d))}return r.push(u,s),e.push(o,a),new t(r,e).vP()},n.vP=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Cn(r),u=this.jn(r),s=this.uP(r),o=this.lP(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.pP=function(t){return 0===this.V?t:0===t.V?this:this.wP(t).mP()},n.AP=function(t){var n=this.vP(),i=t.vP(),r=n._P(),e=i._P(),u=r.Sn(i),s=e.Sn(n);return u.pP(s)},n.Gb=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Cn(e)+n,s=this.jn(e)+n;i.push(u,s),r.push(this.uP(e),this.lP(e))}return new t(i,r)},n.yP=function(t){return 0===this.V||0===t.V?this:this.vP().Sn(t.vP()._P())},n.gr=function(t,n){return this.bP(t,n)>=0},n.MP=function(t,n,i,r,e){return this.TP(t,n,i,r,e)>=0},n.SP=function(t,n,i,r,e){return this.NP(t,n,i,r,e)>=0},n.IP=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Cn(n)!==t.Cn(n)||this.jn(n)!==t.jn(n)||this.uP(n)!==t.uP(n)||this.lP(n)!==t.lP(n))return!1;return!0},n.DP=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Cn(e),s=this.jn(e),o=this.uP(e),a=this.lP(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.NP=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.V;o+=1)if(YM(this.Cn(o),s,!r||this.uP(o))&&YM(u,this.jn(o),!i||this.lP(o)))return o;return-1},n.TP=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.V;o+=1)if(YM(this.Cn(o),u,!i||this.uP(o))&&YM(s,this.jn(o),!r||this.lP(o)))return o;return-1},n.bP=function(t,n){return this.TP(t,t,!0,!0,n)},n.EP=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(YM(this.Cn(r),i,this.uP(r)))return r;return-1},n.kP=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(YM(i,this.jn(r),this.lP(r)))return r;return-1},n.LP=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Cn(r)>i)return r;return-1},n.xP=function(n){return this.dP(n),new t([this.Cn(n),this.jn(n)],[this.uP(n),this.lP(n)])},n.CP=function(t,n){var i=this.bP(t,n);return i<0?void 0:this.xP(i)},t.xn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.OP=function(n){return new t([n,n],[!0,!0])},t.RP=function(n,i){return n<=i?new t([n,i]):t.PP()},t.PP=function(){return VM},Ct(t,[{key:"hP",get:function(){return this.aP.slice()}},{key:"jP",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.jn(n)-this.Cn(n)}return t}}]),t}(),VM=new GM([]),FM=.92,WM=1.08,ZM=.25,XM=function(t){function n(n,i,r){var e,u;return(e=t.call(this)||this).Kh=!1,e.He=!1,e.FP=[],e.oz=!1,e.ZP=0,e.hD=void 0,e.$P=0,e.JP=1/0,e._z=function(){var t=e.cz.TE,n=e.cz.LE,i=t.CP(n);i&&(e.ZP=gr(i.jn(0)-n,e.ZP,.5),e.YP())},e.vz=function(){e.oz=!0,e.ta.fn(zA.oP,e.vz),e.He&&e.Cn()},e.WP=function(){e.rz(),e.nz();var t=e.pz;if(t){var n=e.yz();if(t>e.UP.forceSeekOffset)return e.yo(new ka("latencyrecoveryseek")),void e.qL();var i=e.UP,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.cz.$E;if(n>s&&e.bz()){var a=e.UP.maximumPlaybackRate;QM,e.gz(a)}else if(n<r&&!Kt.Ys.Np){var c=e.UP.minimumPlaybackRate;QM,e.gz(c)}else if(o>1&&n<u){QM,e.gz(1)}else if(o<1&&n>u){QM,e.gz(1)}}},e.ta=n,e.cz=i,e.HP=r,e.iz=r.targetOffset,e.ez=r.targetOffset+(null!=(u=r.leniency)?u:0),e.qP=r.targetOffset,e.UP=e.GP(),e.ta.yn(zA.rP,e._z),e.ta.yn(zA.oP,e.vz),e}Et(n,t);var i=n.prototype;return i.QP=function(t){this.FP.push(t),this.YP()},i.VP=function(t){Co(this.FP,t),this.YP()},i.YP=function(){this.UP=this.GP(),this.Kh&&this.WP()},i.GP=function(){var t=this.ZP,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.HP,this.qP),i=[n].concat(ln(this.FP)),r=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),t),e=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+ZM),u=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+ZM);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+ZM),minimumPlaybackRate:i.reduce((function(t,n){var i;return k.min(t,null!=(i=n.minimumPlaybackRate)?i:FM)}),FM),maximumPlaybackRate:i.reduce((function(t,n){var i;return k.max(t,null!=(i=n.maximumPlaybackRate)?i:WM)}),WM)}},i.KP=function(){var t,n=null==(t=GM.xn(this.ta.TE).CP(this.ta.LE))?void 0:t.jn(0),i=void 0!==n?n-this.ta.LE:0;this.JP=k.min(this.JP,i),this.$P+=1},i.tz=function(){if(!(this.$P<10)){var t=.25-this.JP,n=gr(this.qP+t,this.qP-.1,this.qP+.1);this.qP=gr(n,this.iz,this.ez),this.JP=1/0,this.$P=0}},i.nz=function(){var t=this;this.rz(),this.hD=Kt.Pg((function(){return t.WP()}),500)},i.rz=function(){void 0!==this.hD&&(Kt.Rg(this.hD),this.hD=void 0)},i.Cn=function(){var t=this;this.He&&this.oz&&(this.Kh||this.cz.yn(Ma.Eb,this.WP),this.lz=Kt.dA((function(){return t.KP()}),1e3),this.fz=Kt.dA((function(){return t.tz()}),6e4),this.nz(),this.Kh=!0)},i.zk=function(){this.Kh&&(this.rz(),this.lz&&Kt.fA(this.lz),this.fz&&Kt.fA(this.fz),this.cz.fn(Ma.Eb,this.WP),this.gz(1),this.Kh=!1)},i.wy=function(){this.zk(),this.ta.fn(zA.rP,this._z),this.ta.fn(zA.oP,this.vz),this.Bo()},i.gz=function(t){this.cz.mz.wz||this.ta.$E!==t&&(this.ta.$E=t)},Ct(n,[{key:"zP",get:function(){return this.He&&this.Kh}},{key:"BP",get:function(){return this.UP}},{key:"Rt",get:function(){return this.He},set:function(t){this.He=t,t?this.Cn():this.zk()}},{key:"pz",get:function(){return this.ta.Az}}]),n}(Aa);tn();var HM=.66,KM=1.5,JM=3;function qM(t){if(ci(t)){var n,i,r,e,u,s,o=Kt.Ys.Ip?10:0,a=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:a*HM,targetOffset:a,maximumOffset:null!=(i=t.maximumOffset)?i:a*KM,forceSeekOffset:k.max(null!=(r=t.forceSeekOffset)?r:a*JM,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:FM,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:WM,leniency:null!=(s=t.leniency)?s:void 0}}}var $M=function(t){return t.Mz="auto",t.Tz="always",t.Sz="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),tb=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function nb(t){if(!t||!gi(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}Q(),Nt(),Q(),Nt();var ib=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});Q(),Nt();var rb=!1;Q(),Nt();var eb=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function ub(t){return!!t&&to(t,"mpd")}function sb(t){var n=DM.sx;return ub(t)&&(n=DM.$L),function(t){return!!t&&to(t,"m3u8")}(t)&&(n=DM.tx),n}function ob(t){switch(t){case NM.KL:case NM.JL:return t;default:return NM.EI}}function ab(t){if(!t)return!1;var n=t.toLowerCase();return no(n,DM.$L)}function cb(t){if(!t)return!1;var n=t.toLowerCase();return no(n,DM.tx)||no(n,DM.ix)}function hb(t){return di(t)&&di(t.ssai)&&"google-dai"===t.ssai.integration}function fb(t){return di(t)&&("verizon-media"===t.integration||"uplynk"===t.integration)}function vb(t){return di(t)&&("theolive"===t.type||"theolive"===t.integration)}function db(t){return di(t)&&"mediatailor"===t.integration}function lb(t){return di(t)&&"millicast"===t.type}function gb(t){if(gi(t))return!t;if(fb(t))return!t.id;if(hb(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return lb(t)?!t.src&&!t.streamName||!t.streamAccountId:!t.src}function wb(t){return Boolean(di(t)&&gi(t.src))}function yb(t){return t.type===DM.nx||t.type===DM.ox}function mb(t){return gi(t)||wb(t)||hb(t)||fb(t)||lb(t)}function Ab(t){if(t){if(mb(t))return gb(t);for(var n=0;n<t.length;n++){if(!gb(t[n]))return!1}return!0}return!0}function pb(){return{crossOrigin:NM.EI,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:$M.Mz,latencyConfiguration:void 0}}function _b(){return ys({},pb(),{src:void 0,type:DM.sx,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function kb(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:ib.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0},theoads:rb};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?eb.NONE:eb.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=qg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return ib.INSECURE;case"disabled":return ib.DISABLED;default:return ib.ENABLED}}(t.vpaidMode)),fi(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(gi)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0}:{useNativeIma:qg(t.useNativeIma),useAdUiElementForSsai:qg(t.useAdUiElementForSsai),bitrate:null!=(n=t.bitrate)?n:-1,language:ci(t.language)?iw(t.language):void 0,uiElements:t.uiElements};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=qg(t.theoads):n.theoads=rb),n}function Mb(t){if(!vi(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];di(r)&&n.push(r)}return n}function bb(t){return gi(t.src)||lb(t)}function Tb(t){return fi(t)?t.filter(Gw):[]}Q(),Nt(),St();var Nb=function(t){function n(n,i){var r;return void 0===i&&(i=UA.Nz),(r=t.call(this,Ma.Hy)||this).currentTime=n,r.readyState=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var Db=function(t){function n(n){var i;return(i=t.call(this,Ma.wb)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var Ib=function(t){function n(n){var i;return(i=t.call(this,Ma.so)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var Eb=function(t){function n(n){var i;return(i=t.call(this,Ma.Zy)||this).duration=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var Sb=function(t){function n(n,i){var r;return(r=t.call(this,Ma.pb)||this).currentTime=n,r.playbackRate=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var Lb=function(t){function n(n){var i;return(i=t.call(this,Ma.qy)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var Cb=function(t){function n(n){var i;return(i=t.call(this,Ma.Mb)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var jb=function(t){function n(n){var i;return(i=t.call(this,Ma.bb)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var xb=function(t){function n(n,i){var r;return(r=t.call(this,Ma.kb)||this).currentTime=n,r.volume=i,r}return Et(n,t),n}(ka);function Ob(t,n){return zb.apply(this,arguments)}function zb(){return zb=yn((function(t,n,i,r,e){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return na(s=a.sent()),u<i?(o=k.min(r*k.pow(2,u),e),u++,[4,ga(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),zb.apply(this,arguments)}Q(),Nt(),An(),Tn();var Rb={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};Q(),Nt();var Bb=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),Ub=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function Pb(t){switch(t){case"all":case"content":return t;default:return"none"}}function Qb(t){var n=Zg(t||{});return n.libraryLocation&&(n.libraryLocation=Ol(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=function(t){var n=TM(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(n.cast),n.ads=kb(n.ads),n.analytics=Mb(n.analytics),n.mutedAutoplay=Pb(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return gi(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return Ol(t)}catch(t){return void Kt.uA("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(n.vr),n.abr=zM(n.abr),n.retryConfiguration=function(t){var n=ys({},Rb);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n.theoLive=function(t){if(!t)return t;return ys({},t,{externalSessionId:t.externalSessionId?iw(t.externalSessionId):void 0,fallbackEnabled:$g(t.fallbackEnabled)})}(n.theoLive),n}function Yb(t){return{bt:t.bt,LE:t.LE,ct:t.ct,OE:t.OE,lt:t.lt,zE:t.zE,WE:t.WE,KE:t.KE,$E:t.$E,fk:t.fk,wk:t.wk,yk:t.yk,Tk:t.Tk,Nk:t.Nk}}function Gb(t,n){var i=n.Nk,r=n.WE;t.Nk=i,t.WE=r}function Vb(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.LE,u=n.ct,s=n.WE,o=n.KE,a=n.$E,c=n.fk,h=n.wk,f=(n.Tk,n.yk,n.Nk),v=i.LE,d=i.ct,l=i.OE,g=i.zE,w=i.WE,y=i.KE,m=i.$E,A=i.fk,p=i.wk,_=(i.Tk,i.yk,i.Nk);(r||c>UA.Nz&&A===UA.Nz)&&t.yo(new Nb(v,A)),y&&!o?t.yo(new Db(v)):!y&&o&&t.yo(new Ib(v)),A>=UA.Xn&&(r||c<UA.Xn)&&t.yo(new PA(v,A)),d===u||T(d)&&T(u)||t.yo(new Eb(d)),m!==a&&t.yo(new Sb(v,m)),v!==e&&t.yo(new Cg(v,void 0)),l&&t.yo(new Lb(v)),A>=UA.Iz&&(r||c<UA.Iz)&&t.yo(new QA(v,A)),p&&!h?t.yo(new Cb(v)):!p&&h&&t.yo(new jb(v)),_===f&&w===s||t.yo(new xb(v,_)),A>=UA.Dz&&(r||c<UA.Dz)&&t.yo(new GA(v,A)),A>=UA.Ez&&(r||c<UA.Ez)&&t.yo(new VA(v,A)),A!==c&&t.yo(new BA(v,A)),g&&t.yo(new zk(g))}}function Fb(t){switch(t){case Bb.INLINE:case Bb.FULLSCREEN:case Bb.PICTURE_IN_PICTURE:case Bb.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}Q(),Nt(),St();var Wb=function(t){function n(n){var i;return(i=t.call(this,Ma.Gy)||this).currentSource=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var Zb=function(t){function n(){return t.call(this,Ma.Ky)||this}return Et(n,t),n}(ka);Q(),Nt(),St();var Xb=function(t){function n(){return t.call(this,Ma.$y)||this}return Et(n,t),n}(ka);Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt();var Hb=function(t){return t.kz="enterpictureinpicture",t.Lz="exitpictureinpicture",t.ua="pictureinpictureerror",t}({}),Kb=function(t){function n(){return t.call(this,Hb.kz)||this}return Et(n,t),n}(ka);Q(),Nt(),St();var Jb=function(t){function n(){return t.call(this,Hb.Lz)||this}return Et(n,t),n}(ka),qb=function(t){function n(n){var i;return(i=t.call(this)||this).SL=n,i.DL(i.SL),i}Et(n,t);var i=n.prototype;return i.DL=function(t){t.yn(Hb.kz,this.Ds),t.yn(Hb.Lz,this.Ds),t.yn(Hb.ua,this.Ds)},i.NL=function(t){t.fn(Hb.kz,this.Ds),t.fn(Hb.Lz,this.Ds),t.fn(Hb.ua,this.Ds)},i.co=function(){return this.SL.co()},i.bo=function(){return this.SL.bo()},i.gn=function(t){this.Bo(),this.NL(this.SL),t||this.SL.gn()},Ct(n,[{key:"TL",get:function(){return this.SL},set:function(t){if(t!==this.SL){this.NL(this.SL);var n=this.SL.xz;this.SL=t,this.DL(t),!n&&this.SL.xz?this.yo(new Kb):n&&!this.SL.xz&&this.yo(new Jb)}}},{key:"Cz",get:function(){return this.SL.Cz}},{key:"xz",get:function(){return this.SL.xz}}]),n}(Aa),$b=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oz=new wM,i.Pz=new wM,i.Ul=new yM,i.Rz=new kM,i.jz=new qb(n._a()),i.Oz.TL=n.ht,i.Pz.TL=n.rt,i.Ul.TL=n.nt,i.Rz.TL=n.UE,i}Et(n,t);var i=n.prototype;return i._a=function(){return this.jz},i.AE=function(){return this.Oz},i.QE=function(){return this.Rz},i.Ak=function(){return this.Ul},i.Mk=function(){return this.Pz},i.zz=function(t){var n=this.yE;if(n!==t){n.Py(this.Zk);var i=Yb(this),r=this.kE(),e=this.Ck(),u=this.jk();this.yE=t,this.Oz.TL=t.ht,this.Pz.TL=t.rt,this.Ul.TL=t.nt,this.jz.TL=t._a(),this.Rz.TL=t.UE,void 0!==i&&Vb(this,i,this);var s=this.kE();s!==r&&this.yo(new Wb(s)),this.Ck()!==e&&this.yo(new Zb),this.jk()!==u&&this.yo(new Xb),t.xy(this.Zk)}},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.jz.gn(),n.Oz.gn(),n.Pz.gn(),n.Ul.gn(),n.Rz.gn(),[2]}}))}))()},Ct(n,[{key:"UE",get:function(){return this.QE()}}]),n}(lM);Q(),Nt(),sn();var tT=function(t){function n(n){var i;return(i=t.call(this,n)||this).Gz=[],i.do=!1,i.Xz=!1,i.Wz(n),i}Et(n,t);var i=n.prototype;return i.GE=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c.Bz,i+=c.Uz,r+=c.Qz,e+=c.Fz,u+=c.Yz,s+=c.Vz.amountOfBufferedAudioSegments,o+=c.Vz.amountOfBufferedVideoSegments}return{Bz:n,Uz:i,Qz:r,Fz:e,Yz:u,Vz:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.Gz.map((function(t){return t.VE})))},i.zk=function(){return da(this.Gz.map((function(t){return t.zk()}))).then(qt)},i.tr=function(){return da(this.Gz.map((function(t){return t.tr()}))).then(qt)},i.Ok=function(){if(!this.do){for(var t=0,n=this.Gz;t<n.length;t++){n[t].Ok()}this.do=!0}},i.bE=function(){for(var t=[],n=0,i=this.Gz;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,ln(e.bE()))}return t},i.Vk=function(t){for(var n=!1,i=0,r=this.Gz;i<r.length;i++){n=r[i].Vk(t)||n}return n},i.yo=function(n){this.Vk(n)||t.prototype.yo.call(this,n)},i.Wz=function(t){this.Gz.push(t)},i.Zz=function(t){Co(this.Gz,t)},i.zz=function(n){if(n!==this.yE){var i=this.yE;i.ar(),t.prototype.zz.call(this,n),n.ur(i)}},i.Fk=function(){for(var t=0,n=this.Gz;t<n.length;t++){n[t].Fk()}},i.gn=function(){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:n.Bo(),n.yE.ar(),i=0,r=n.Gz,u.label=1;case 1:return i<r.length?(e=r[i],n.yE===e?[3,3]:[4,e.gn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.gn.call(n)];case 5:return u.sent(),[2]}}))}))()},Ct(n,[{key:"TL",get:function(){return this.yE},set:function(t){this.zz(t)}}]),n}($b);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt();var nT=function(){function t(){this.lG=new qk,this.cG=[]}var n=t.prototype;return n.uG=function(t){this.cG.push(t)},n.bx=function(t,n,i,r,e,u,s){for(var o=this.lG.bx(t,n,i,r,e,u,s),a=0,c=this.cG;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.nG=function(t,n){return this.lG.nG(t,n)},n.rG=function(t){return this.lG.rG(t)},n.oG=function(){return!1},t.aG=function(){return this.Ld},Ct(t,[{key:"hG",get:function(){return this.lG.hG}}]),t}();function iT(t,n){return ko(t.hG,n.hG)}nT.Ld=new nT,Q(),Nt(),An(),Tn(),Q(),Nt();var rT=function(){function t(){this.fG=[]}var n=t.prototype;return n.dG=function(t){this.fG.push(t),this.fG.sort(iT)},n.gG=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:r=0,e=i.fG,a.label=1;case 1:return r<e.length?(u=e[r],yi(s=u.nG(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function eT(t){uT.Ld.dG(t)}tn(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt();var uT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vG=nT.aG(),n}Et(n,t);var i=n.prototype;return i._G=function(t){this.vG=t},i.wG=function(){return this.vG},i.mG=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:r=i.vG,e=!1,u=0,v.label=1;case 1:return u<t.length?(s=t[u],[4,i.gG(s,n)]):[3,12];case 2:return(o=v.sent())?(a=Dp(s.contentProtection))?[3,4]:[4,o.rG(s.contentProtection)]:[3,5];case 3:a=v.sent(),v.label=4;case 4:if(a)return[2,{kc:s,t:o}];s.contentProtection&&(e=!0),v.label=5;case 5:return yi(c=r.nG(s,n))?[4,c]:[3,7];case 6:return h=v.sent(),[3,8];case 7:h=Boolean(c),v.label=8;case 8:return h?(f=Dp(s.contentProtection))?[3,10]:[4,r.rG(s.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{kc:s,t:r}];s.contentProtection&&(e=!0),v.label=11;case 11:return u++,[3,1];case 12:return e?[4,Kt.gA()]:[3,14];case 13:throw v.sent()?new md(wd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new md(wd.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{kc:t[0],t:r}]}}))}))()},n}(rT);uT.Ld=new uT,Q(),Nt();var sT=function(){function t(t){this.Vs=Wr&&Wr.document&&Wr.document.createElement("div"),Si(this.Vs),t.appendChild(this.Vs)}return t.prototype.gn=function(){ki(this.Vs)},t}();Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var oT=function(t){return t.QY="",t.pG="none",t.MQ="metadata",t.Mz="auto",t}({});var aT=[eA.ua,Ma.Hy,Ma.Xy,Ma.Ob,Ma.By,Ma.Ky,Ma.$y,Ma._b,Ma.vb,Ma.Sb,Ma.Ib,zA.iP,zA.eP,zA.sP,zA.nP,zA.lL,zA.rP,zA.oP,Ma.Yy,Ma.Vy,Ma.Zy,Ma.qy,Ma.ub,Ma.fb,Ma.so,Ma.mb,Ma.wb,Ma.pb,Ma.yb,Ma.Mb,Ma.bb,Ma.Eb,Ma.kb,Ma.Ab,Ma.gb,Ma.Tb],cT=function(t){function n(n,i){var r;return(r=t.call(this)||this).SG=void 0,r.AG=void 0,r._V=oT.pG,r.MG=void 0,r.IG=!0,r.Oz=new wM,r.Pz=new wM,r.Ul=new yM,r.Rz=new kM,r.TG=n,r.ta=i,r.ta.ck=r.ck,r.jz=new qb(i._a()),r.yG(),r}Et(n,t);var i=n.prototype;return i.Rk=function(){this.ta.Rk()},i.Pk=function(){var t=this.ta.Pk();yi(t)&&va(t)},i.zk=function(){return this.ka(void 0)},i.Ok=function(){},i.yG=function(){this.jz.TL=this.ta._a(),this.Oz.TL=this.ta.ht,this.Pz.TL=this.ta.rt,this.Ul.TL=this.ta.nt,this.Rz.TL=this.ta.UE,this.ta.yn(aT,this.Ds)},i.bG=function(){this.ta.fn(aT,this.Ds),this.Oz.TL=void 0,this.Pz.TL=void 0,this.Ul.TL=void 0,this.Rz.TL=void 0},i.Ya=function(){return this.MG},i.ka=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return ta(n),i.MG=t,t?Ab(r=t.sources.filter(bb))?[2]:[4,i.TG.mG(r,t)]:[2];case 1:return e=c.sent(),ta(n),u=e.kc,s=e.t,o=i.Ck(),a=Yb(i),i.SG!==s||i.lt?(i.bG(),[4,i.ta.gn()]):[3,3];case 2:c.sent(),ta(n),i.SG=s,i.ta=i.NG(s,u),function(t,n){t.WE!==n.WE&&(t.WE=n.WE);t.Nk!==n.Nk&&(t.Nk=n.Nk);t.$E!==n.$E&&(t.$E=n.$E)}(i.ta,a),Vb(i,a,i),i.yG(),c.label=3;case 3:return i.ta.ck=i.ck,i.IG?i.ta.ge():i.ta.be(),[4,i.ta.ka(u,t,n)];case 4:return c.sent(),ta(n),i.DG(u),i.Ck()!==o&&i.yo(new Zb),[2]}}))}))()},i.DG=function(t){this.AG!==t&&(this.AG=t,this.yo(new Wb(t)))},i.Bk=function(){return this.ta.Bk()},i.Uk=function(){this.ta.Uk()},i.Qk=function(){this.ta.Qk()},i.Ck=function(){return this.ta.Ck()},i._a=function(){return this.jz},i.Fk=function(){this.ta.Fk()},i.Yk=function(){this.ta.Yk()},i.Wk=function(t){return this.ta.Wk(t)},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.MG=void 0,t.DG(void 0),[4,t.ta.tr()];case 1:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),[4,t.ta.gn()];case 2:return n.sent(),t.Oz.gn(),t.Pz.gn(),t.Ul.gn(),t.jz.gn(),t.Rz.gn(),[2]}}))}))()},i.ge=function(){this.IG=!0,this.ta.ge()},i.be=function(){this.IG=!1,this.ta.be()},Ct(n,[{key:"ht",get:function(){return this.Oz}},{key:"TE",get:function(){return this.ta.TE}},{key:"lt",get:function(){return this.ta.lt}},{key:"zE",get:function(){return this.ta.zE}},{key:"NE",get:function(){return this.ta.NE},set:function(t){this.ta.NE=t}},{key:"bt",get:function(){return this.AG}},{key:"LE",get:function(){return this.ta.LE},set:function(t){this.ta.LE=t}},{key:"ct",get:function(){return this.ta.ct}},{key:"OE",get:function(){return this.ta.OE}},{key:"UE",get:function(){return this.Rz}},{key:"FE",get:function(){return this.ta.FE}},{key:"VE",get:function(){return this.ta.VE}},{key:"WE",get:function(){return this.ta.WE},set:function(t){this.ta.WE=t}},{key:"XE",get:function(){return this.ta.XE}},{key:"KE",get:function(){return this.ta.KE}},{key:"$E",get:function(){return this.ta.$E},set:function(t){this.ta.$E=t}},{key:"rk",get:function(){return this.ta.rk}},{key:"ck",get:function(){return this._V},set:function(t){this._V=t,this.ta&&(this.ta.ck=this._V)}},{key:"fk",get:function(){return this.ta.fk}},{key:"_k",get:function(){return this.ta._k}},{key:"wk",get:function(){return this.ta.wk}},{key:"nt",get:function(){return this.Ul}},{key:"yk",get:function(){return this.ta.yk}},{key:"rt",get:function(){return this.Pz}},{key:"Tk",get:function(){return this.ta.Tk}},{key:"Nk",get:function(){return this.ta.Nk},set:function(t){this.ta.Nk=t}},{key:"Ek",get:function(){return this.ta.Ek}},{key:"pV",get:function(){return this.ta.pV}}]),n}(_a);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt();var hT=function(t){return t.aa="fullscreenchange",t.fa="fullscreensupportchange",t.ua="fullscreenerror",t}({});Q(),Nt(),St();var fT=function(t){function n(){return t.call(this,hT.ua)||this}return Et(n,t),n}(ka),vT=(hT.aa,hT.fa,hT.ua,function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.co=function(){this.yo(new fT)},i.bo=function(){},i.gn=function(){this.Bo()},Ct(n,[{key:"cs",get:function(){return!1}},{key:"ea",get:function(){return!1}}]),n}(Aa));Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St();var dT=function(t){function n(){return t.call(this,Hb.ua)||this}return Et(n,t),n}(ka),lT=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.co=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.yo(new dT),[2]}))}))()},i.bo=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.yo(new dT),[2]}))}))()},i.gn=function(){this.Bo()},Ct(n,[{key:"Cz",get:function(){return!1}},{key:"xz",get:function(){return!1}}]),n}(Aa),gT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).EG=0,n.xG=!1,n.CG=!0,n.jG=1,n.kG=!1,n.cT=1,n.ht=new dw,n.TE=GM.PP().ks(),n.ct=NaN,n.OE=!1,n.lt=void 0,n.zE=void 0,n.UE=void 0,n.FE=!1,n.XE=!0,n.rk=GM.PP().ks(),n.ck=oT.pG,n.fk=UA.Nz,n._k=GM.PP().ks(),n.wV=void 0,n.nt=new cA,n.yk=0,n.rt=new dw,n.Tk=0,n.Ek=new Xk,n.AV=new Qk,n.Zo=new vT,n.Qo=new lT,n}Et(n,t);var i=n.prototype;return i.CE=function(t,n){this.EG!==t&&(this.EG=t,this.kG=!0,this.yo(new Cb(this.LE)))},i.ge=function(){},i.be=function(){},i.Pk=function(){this.CG&&(this.CG=!1,this.yo(new Ib(this.LE)),this.yo(new YA(this.LE)))},i.Rk=function(){this.CG||(this.CG=!0,this.yo(new Cg(this.LE,this.NE)),this.yo(new Db(this.LE)))},i.ka=function(t,n){return st.resolve()},i.Bk=function(){return!1},i.Uk=function(){},i.Qk=function(){},i.Ck=function(){return this.Zo},i._a=function(){return this.Qo},i.Wk=function(t){throw new A("Adding a CustomTextTrack is not supported without setting a source.")},i.Fk=function(){},i.Yk=function(){},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.EG=0,t.kG=!1,t.Rk(),t.yo(new Nb(t.EG)),[2]}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Bo(),t.ht.gn(),t.nt.gn(),t.rt.gn(),[2]}))}))()},Ct(n,[{key:"NE",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"LE",get:function(){return this.EG},set:function(t){this.CE(t)}},{key:"VE",get:function(){return{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"WE",get:function(){return this.xG},set:function(t){this.xG!==t&&(this.xG=t,this.yo(new xb(this.LE,this.Nk)))}},{key:"KE",get:function(){return this.CG}},{key:"$E",get:function(){return this.jG},set:function(t){this.jG!==t&&(this.jG=t,this.yo(new Sb(this.LE,this.$E)))}},{key:"wk",get:function(){return this.kG}},{key:"Nk",get:function(){return this.cT},set:function(t){this.cT!==t&&(this.cT=t,this.yo(new xb(this.LE,this.Nk)))}},{key:"xk",get:function(){return!1},set:function(t){}},{key:"pV",get:function(){return this.AV}},{key:"Az",get:function(){}}]),n}(Aa),wT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).QV=void 0,n.cz=void 0,n}Et(n,t);var i=n.prototype;return i.jk=function(){var t;return null==(t=this.cz)?void 0:t.gV},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.cz?[4,n.QV.BV(n.cz)]:[3,3];case 2:i.sent(),n.cz=void 0,i.label=3;case 3:return[2]}}))}))()},Ct(n,[{key:"OG",set:function(t){this.QV=t,this.cz=t.sG(lw.NI)}}]),n}(gT),yT=function(t){function n(n,i,r,e,u,s,o){var a,c=new wT;return(a=t.call(this,uT.Ld,c)||this).ku=n,a.KS=i,a.OQ=r,a.UG=e,a.QG=u,a.FG=o,a.BG=new Gr(s,a.FG),a.BG.GG(a.ku),c.OG=a.BG,a.VG=new sT(a.ku),a}Et(n,t);var i=n.prototype;return i.Ok=function(){t.prototype.Ok.call(this),this.BG.zG()},i.ur=function(t){Gb(this,t)},i.ar=function(){},i.Vk=function(t){return!1},i.ka=function(n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return e=r.Ck(),u=r.jk(),[4,t.prototype.ka.call(r,n,i)];case 1:return s.sent(),r.Ck()!==e&&r.yo(new Zb),r.jk()!==u&&r.yo(new Xb),[2]}}))}))()},i.CE=function(t,n){this.ta.CE(t,n)},i.NG=function(t,n){return t.bx(this.ku,this.BG,this.OQ,this.KS,this.UG,this.QG,this.FG,n)},i.jk=function(){return this.ta.jk()},i.bE=function(){return this.BG.YG.map((function(t){return t.gV}))},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.BG.gn(),n.VG.gn(),[2]}}))}))()},Ct(n,[{key:"we",get:function(){return this.ku}},{key:"xk",get:function(){return this.ta.xk},set:function(t){this.ta.xk=t}}]),n}(cT);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var mT=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zo=new vT,e.Qo=new lT,e.mV=new Xk,e.ku=n,e.ZG=i,e.WG=new dw,e.XG=new cA,e.HG=r,e}Et(n,t);var i=n.prototype;return i.CE=function(t,n){},i.Vk=function(t){return!0},i.be=function(){},i.Pk=function(){throw this.yo(new zk(this.HG)),this.ZG},i.Rk=function(){},i.Ya=function(){},i.ka=function(t,n){var i=this;return yn((function(){return pn(this,(function(t){throw ta(n),i.yo(new zk(i.HG)),i.ZG}))}))()},i.ge=function(){},i.zk=function(){return st.resolve()},i.jk=function(){},i.Ck=function(){return this.Zo},i._a=function(){return this.Qo},i.bE=function(){return[]},i.Ok=function(){},i.ur=function(t){},i.ar=function(){},i.Bk=function(){return!1},i.Uk=function(){},i.Qk=function(){},i.Fk=function(){},i.Yk=function(){},i.Wk=function(t){},i.tr=function(){return st.resolve()},i.gn=function(){return this.Bo(),this.WG.gn(),this.XG.gn(),st.resolve()},Ct(n,[{key:"ht",get:function(){return this.WG}},{key:"TE",get:function(){return GM.PP().ks()}},{key:"NE",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"LE",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.ku}},{key:"OE",get:function(){return!0}},{key:"lt",get:function(){return this.ZG}},{key:"zE",get:function(){return this.HG}},{key:"UE",get:function(){}},{key:"VE",get:function(){return{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"WE",get:function(){return!1},set:function(t){}},{key:"XE",get:function(){return!0}},{key:"KE",get:function(){return!0}},{key:"$E",get:function(){return 0},set:function(t){}},{key:"rk",get:function(){return GM.PP().ks()}},{key:"ck",get:function(){return oT.pG},set:function(t){}},{key:"fk",get:function(){return UA.Nz}},{key:"_k",get:function(){return GM.PP().ks()}},{key:"wk",get:function(){return!1}},{key:"nt",get:function(){return this.XG}},{key:"yk",get:function(){return 0}},{key:"rt",get:function(){return this.WG}},{key:"Tk",get:function(){return 0}},{key:"Nk",get:function(){return 1},set:function(t){}},{key:"Ek",get:function(){return this.mV}},{key:"xk",get:function(){return!1},set:function(t){}},{key:"FE",get:function(){return!1}}]),n}(_a);function AT(t){if(t&&di(t))return ys({},t,{integration:pT(t.integration),fairplay:NT(t.fairplay),widevine:_T(t.widevine),playready:kT(t.playready),clearkey:DT(t.clearkey),aes128:IT(t.aes128),integrationParameters:ET(t.integrationParameters),preferredKeySystems:ST(t.preferredKeySystems),useOipfDrmAgent:qg(t.useOipfDrmAgent)})}function pT(t){if(gi(t))return t}function _T(t){if(t&&di(t))return{persistentState:MT(t.persistentState),distinctiveIdentifier:MT(t.distinctiveIdentifier),audioRobustness:bT(t.audioRobustness),videoRobustness:bT(t.videoRobustness),licenseAcquisitionURL:gi(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:TT(t.licenseType),headers:t.headers,useCredentials:!!wi(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:gi(t.certificate)||Uc(t.certificate)?t.certificate:void 0}}function kT(t){if(t){var n=_T(t);if(n)return ys({},n,{customData:gi(t.customData)?t.customData:void 0})}}function MT(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function bT(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function TT(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function NT(t){if(t){var n=_T(t);if(n)return ys({},n,{certificateURL:gi(t.certificateURL)?t.certificateURL:void 0})}}function DT(t){if(t){var n=_T(t);if(n){var i=fi(t.keys)?t.keys.map((function(t){return function(t){if(!t||!di(t))return;var n=t.id,i=t.value;if(!gi(n)||!gi(i))return;return{id:n,value:i}}(t)})).filter(ci):void 0;return ys({},n,{keys:i})}}}function IT(t){if(di(t))return{useCredentials:wi(t.useCredentials)?t.useCredentials:void 0}}function ET(t){if(di(t))return t}function ST(t){return t&&fi(t)?t.map((function(t){return Bp(t)})).filter(ci):[Os,Cs,Ps]}Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt();var LT={bt:void 0,LE:0,ct:NaN,OE:!1,lt:void 0,zE:void 0,WE:!1,KE:!0,$E:1,fk:UA.Nz,wk:!1,yk:0,Tk:0,Nk:1};Q(),Nt(),Zt(),tn();var CT=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),jT=function(){function t(){this.KG=[]}var n=t.prototype;return n.JG=function(t){var n=this.KG.filter((function(n){return n.$G(t)}));if(n.length>1)0;else if(0===n.length)throw A("Unknown ad integration: "+t.integration);return n[0]||null},n.tW=function(t){this.KG.push(t)},Ct(t,[{key:"qG",get:function(){return this.KG}}]),t}();jT.Ld=new jT,Q(),Nt(),St(),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Zt(),St();var xT=function(t){return t.oP="PLAYING",t.iW="PAUSED",t.eW="SEEK",t.sW="STALLED",t.nW="FAILED",t.rW="INITIAL_BUFFERING",t.oW="NO_ACCESS",t}({}),OT=function(t){return t.hW="HTTP_REQUEST_STATUS_CODE_1XX",t.aW="HTTP_REQUEST_STATUS_CODE_2XX",t.uW="HTTP_REQUEST_STATUS_CODE_3XX",t.cW="HTTP_REQUEST_STATUS_CODE_4XX",t.lW="HTTP_REQUEST_STATUS_CODE_5XX",t.dW="BUFFER_LENGTH",t.fW="BYTES_RECEIVED",t.gW="SEGMENT_READ_BITRATE",t._W="SEGMENT_PROFILE_BITRATE",t.vW="VIDEO_PROFILE_BITRATE",t.wW="NUMBER_OF_FRAMES_DROPPED",t.mW="PLAYBACK_POSITION",t.pW="NUMBER_OF_FRAMES_DECODED",t.AW="PLAYBACK_DELTA_TO_ORIGIN",t.yW="STREAM_DELTA_TO_ORIGIN",t.bW="ORIGIN_TIMESTAMP",t}({}),zT=function(t){return t.MW="MANIFEST_URI",t.TW="ASSET_DURATION",t.NW="NUMBER_OF_CONTENT_PROFILES",t.IW="CDN",t.DW="CONTENT_TITLE",t.EW="SERVICE_NAME",t.kW="CONTENT_TYPE",t.LW="CONTENT_DESCRIPTION",t}({}),RT=function(t){return t.xW="shutdown_normal_shutdown",t}({}),BT=function(t){return t.jW="session/",t.OW="content/",t.RW="internalError/",t.PW="drmError/",t.zW="caError/",t.BW="networkError/",t}({}),UT=function(){function t(t,n){this.category=t,this.statusCode=n}return Ct(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),PT=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n}(Aa);Q(),Nt(),St(),Q(),Nt(),Q(),Nt();var QT=function(t){return t.PAUSE="UW",t.RESUME="QW",t}({}),YT=function(t){function n(){return t.call(this,"FW")||this}return Et(n,t),n}(ka),GT=function(t){function n(n,i){var r;return(r=t.call(this)||this).ta=n,r.WW=i,r.VW=!1,r.ZW=function(){r.GW(),r.VW=!1},r.XW=function(){r.VW=!0},r.WW.yn(QT.PAUSE,r.ZW),r.WW.yn(QT.RESUME,r.XW),r}Et(n,t);var i=n.prototype;return i.YW=function(){this.VW=!0},i.GW=function(){},i.gn=function(){this.VW=!1,this.WW.fn(QT.PAUSE,this.ZW),this.WW.fn(QT.RESUME,this.XW)},i.qW=function(){return isFinite(this.ta._d())},n}(Aa),VT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rZ=!1,n.fZ=!1,n.gZ=!1,n.$W=function(){n.fZ&&!n.gZ&&n.aZ(xT.sW)},n.iZ=function(){n.ta.KE||(n.fZ||n.lZ(new UT(BT.OW,"firstFrameDisplayed"),"now"),n.fZ=!0,n.aZ(xT.oP))},n.tZ=function(){n.ta.KE&&(n.fZ=!0,n.aZ(xT.iW))},n.eZ=function(){n.rZ&&(n.gZ=!0,n.rZ=!1,n.aZ(xT.eW))},n.sZ=function(){n.gZ=!1,n.ta.KE&&n.aZ(xT.iW)},n}Et(n,t);var i=n.prototype;return i.YW=function(){t.prototype.YW.call(this),this.KW()},i.gn=function(){this.JW(),t.prototype.gn.call(this)},i.KW=function(){this.ta.yn(zA.rP,this.$W),this.ta.yn(Ma.wb,this.tZ),this.ta.yn(zA.oP,this.iZ),this.ta.yn(Ma.Mb,this.eZ),this.ta.yn(Ma.bb,this.sZ)},i.JW=function(){this.ta.fn(zA.rP,this.$W),this.ta.fn(Ma.wb,this.tZ),this.ta.fn(zA.oP,this.iZ),this.ta.fn(Ma.Mb,this.eZ),this.ta.fn(Ma.bb,this.sZ)},i.nZ=function(){this.rZ=!0},i.oZ=function(){var t=this.ta.PE(),n=new UT(BT.RW,String(t.code));this.hZ(xT.nW,n,t.message)},i.aZ=function(t){this.VW&&(this.WW.uZ(t),this.yo(new YT))},i.hZ=function(t,n,i){this.WW.cZ(t,n,i),this.yo(new YT)},i.lZ=function(t,n){this.WW.dZ(t,n)},n}(GT);Q(),Nt(),St();var FT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).pZ=function(){n.qW()&&n.bZ(zT.TW,k.round(n.ta._d()))},n.mZ=function(t){"manifest"===t.request.type&&n.bZ(zT.MW,t.url)},n._Z=function(){var t=Do(n.ta.rt.AL,(function(t){return t.Rt}));t&&n.bZ(zT.NW,t.UL.V)},n}Et(n,t);var i=n.prototype;return i.YW=function(){t.prototype.YW.call(this),this._Z(),this.KW()},i.gn=function(){this.JW(),t.prototype.gn.call(this)},i.KW=function(){this.ta.rt.yn(Yg.aa,this._Z),this.ta.wZ.vZ(this.mZ),this.ta.yn(Ma.Zy,this.pZ)},i.JW=function(){this.ta.rt.fn(Yg.aa,this._Z),this.ta.wZ.AZ(this.mZ),this.ta.fn(Ma.Zy,this.pZ)},i.yZ=function(t){t.serviceName&&this.bZ(zT.EW,t.serviceName),t.cdn&&this.bZ(zT.IW,t.cdn),t.contentTitle&&this.bZ(zT.DW,t.contentTitle),t.contentType&&this.bZ(zT.kW,t.contentType),t.contentDescription&&this.bZ(zT.LW,t.contentDescription)},i.bZ=function(t,n){this.VW&&this.WW.MZ(t,n)},n}(GT);Q(),Nt(),St();var WT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).RZ=As(),n.CZ=0,n.TZ=0,n.SZ=0,n.NZ=[],n.IZ=function(){n.PZ(),n.zZ(),n.QZ()},n.kZ=function(t){t.RI===lw.NI&&(n.xZ(t.Yz),n.BZ(),n.UZ(t.YZ),n.DZ())},n.EZ=function(t){var i=t.status.toString()[0],r=n.RZ.get(i)||0;n.RZ.set(i,r+1),n.OZ(OT.hW,"1"),n.OZ(OT.aW,"2"),n.OZ(OT.uW,"3"),n.OZ(OT.cW,"4"),n.OZ(OT.lW,"5")},n}Et(n,t);var i=n.prototype;return i.YW=function(){t.prototype.YW.call(this),this.TZ=this.ta.VE.Bz,this.SZ=this.ta.VE.Qz,this.KW(),this.NZ.push(y(this.IZ,1e3))},i.GW=function(){t.prototype.GW.call(this),this.DZ()},i.gn=function(){this.DZ(),this.JW(),this.NZ.forEach(m),Ro(this.NZ),t.prototype.gn.call(this)},i.KW=function(){this.ta.wZ.vZ(this.EZ),this.ta.yn(Ma.Ib,this.kZ)},i.JW=function(){this.ta.wZ.AZ(this.EZ),this.ta.fn(Ma.Ib,this.kZ)},i.LZ=function(){this.DZ()},i.xZ=function(t){this.CZ+=t,this.jZ(OT.fW,this.CZ)},i.OZ=function(t,n){var i=this.RZ.get(n)||0;this.jZ(t,i)},i.PZ=function(){var t=this.ta.VE.Bz-this.TZ;this.jZ(OT.wW,t)},i.zZ=function(){var t=this.ta.VE.Qz-this.SZ;this.jZ(OT.pW,t)},i.BZ=function(){var t=Uk.Ld.LY();this.jZ(OT.gW,Wc(t))},i.UZ=function(t){this.jZ(OT._W,Wc(t)),this.jZ(OT.vW,Wc(t))},i.DZ=function(){if(this.qW()){var t=k.round(Nr(this.ta.xE()));this.jZ(OT.mW,t)}},i.QZ=function(){var t=GM.xn(this.ta.SE()),n=this.ta.xE(),i=t.CP(n),r=i?Nr(i.jn(0)-n):0;this.jZ(OT.dW,r)},i.jZ=function(t,n){this.VW&&this.WW.FZ(t,n)},n}(GT);Q(),Nt();function ZT(t){return t&&t.integration===tN}function XT(t){if(!gi(t.asset))throw new p("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!gi(t)&&("live"===t||"vod"===t)}(t.streamType))throw new p("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!gi(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new p("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!gi(t.cdn))throw new p("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!gi(t.contentTitle))throw new p("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!gi(t.contentType))throw new p("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!gi(t.contentDescription))throw new p("Agama source configuration: expected 'contentDescription' to be a string");return t}function HT(t){if(!gi(t.config))throw new p("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!gi(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new p("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!gi(t.application))throw new p("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!gi(t.applicationVersion))throw new p("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!gi(t.userAccountID))throw new p("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!gi(t.deviceID))throw new p("Agama player configuration: expected 'deviceID' to be a string");return t}function KT(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return k.abs(i).toString().substring(0,12)}(r+=k.floor(1e3*k.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function JT(t,n,i){var r=n,e=function(t,n){return cb(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}Q(),Nt();var qT=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),$T=function(){function t(t,n,i){var r=this;this.ta=t,this.WW=n,this.ho=function(){r.hH(),r.tH()},this.hH=function(){var t=r.ta.Ya(),n=t&&t.analytics;r.aH=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(ZT(i))return XT(i)}}(n)},this.tH=function(){r.VZ(),r.ta.fn(Ma.so,r.$Z),!r.JZ()&&r.WW.uH()&&r.ta.bt&&r.aH&&(r.iH(),r.ta.KE||r.ta.OE?r.ta.yn(Ma.so,r.$Z):r.$Z())},this.$Z=function(){r.ta.bt&&r.aH&&(r.WW.cH(r.ta.bt,r.aH),r.YW(),r.yZ(r.aH),r.XZ(),r.ta.yn(eA.ua,r.GZ),r.ta.fn(Ma.so,r.$Z))},this.KZ=function(){r.JZ()&&r.VZ()},this.GZ=function(){r.oH(),r.VZ()},this.rH=function(){r.sH&&r.sH.LZ()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(ZT(i))return HT(i)}}(i.analytics);e&&this.WW.lH()&&(this.WW.Ok(e),this.WW.uH()?(this.WW.dH(),this.ta.yn(Ma.ro,this.ho),this.ta.yn(Ma.qy,this.tH)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.VZ=function(){this.ta.fn(eA.ua,this.GZ),this.WZ(),this.ZZ(),this.WW.HZ()},n.XZ=function(){this.ta.qZ.ga.chromecast&&this.ta.qZ.ga.chromecast.addEventListener("statechange",this.KZ)},n.ZZ=function(){this.ta.qZ.ga.chromecast&&this.ta.qZ.ga.chromecast.removeEventListener("statechange",this.KZ)},n.JZ=function(){return void 0!==this.ta.qZ.ga.chromecast&&this.ta.qZ.ga.chromecast.state===qT.CONNECTED},n.gn=function(){this.ta.fn(Ma.ro,this.ho),this.ta.fn(Ma.so,this.$Z),this.ta.fn(Ma.qy,this.tH),this.VZ(),this.WW.gn()},n.iH=function(){this.eH||(this.eH=new VT(this.ta,this.WW)),this.sH||(this.sH=new WT(this.ta,this.WW)),this.nH||(this.nH=new FT(this.ta,this.WW))},n.YW=function(){this.eH&&(this.eH.YW(),this.eH.yn("FW",this.rH)),this.sH&&this.sH.YW(),this.nH&&this.nH.YW()},n.WZ=function(){this.eH&&(this.eH.fn("FW",this.rH),this.eH.gn(),this.eH=void 0),this.sH&&(this.sH.gn(),this.sH=void 0),this.nH&&(this.nH.gn(),this.nH=void 0)},n.yZ=function(t){this.nH&&this.nH.yZ(t)},n.oH=function(){this.eH&&this.eH.oZ()},n.nZ=function(){this.eH&&this.eH.nZ()},t}(),tN="agama";Q(),Nt(),Q(),Nt();var nN=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});Q(),Nt();var iN=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function rN(t){switch(t){case"":return nN.NONE;case"horizontal":return nN.HORIZONTAL;case"vertical":return nN.VERTICAL;default:throw new p}}function eN(t,n){if(n)return iN.PM360;if(null==t)return iN.NONE;switch(t){case"":return iN.NONE;case"360":return iN.PM360;case"180":return iN.PM180;default:throw new p("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}Q(),Nt();var uN=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});Q(),Nt();var sN="https://content.uplynk.com";function oN(t){if(!t)return!0;var n=!function(t){return mb(t)||vi(t)&&mb(t[0])}(t.sources)||Ab(t.sources),i=!t.ads||function(t){return!t||fi(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function aN(t){if(t&&t.sources)return cN(t.sources)}function cN(t){return gi(t)?sb(t):wb(t)?t.type||t.src&&sb(t.src):vi(t)&&t.length>0?cN(t[0]):void 0}function hN(t){if(t&&t.sources)return fN(t.sources)}function fN(t){return gi(t)?t:wb(t)?t.src:vi(t)&&t.length>0?fN(t[0]):void 0}function vN(t,n,i){return fb(t)?function(t,n,i){var r=ys({},pb(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:tb.UPLYNK,id:"",prefix:sN,preplayParameters:{},playbackUrlParameters:{},assetType:uN.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(gi(t))return t;if(vi(t)&&gi(t[0]))return t;if(function(t){return di(t)&&gi(t.userId)&&(vi(t.externalId)||gi(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return uN.CHANNEL;case"event":return uN.EVENT;default:return uN.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=qg(t.contentProtected));t.assetInfo?r.assetInfo=qg(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=iw(t.prefix)||sN);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!wi(n.adImpressions)&&n.adImpressions,r=!!wi(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=wi(n.linearAdData)?n.linearAdData:t!==uN.ASSET):t!==uN.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=lN(r,t),r=wN(r,n,i),r=gN(r,t,i),r}(t,n,i):db(t)?function(t,n,i){var r;return ys({},dN(t,n,i),{integration:tb.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):vb(t)?function(t,n,i){return ys({},dN(t,n,i),{type:"theolive"})}(t,n,i):lb(t)?function(t,n,i){return ys({},dN(t,n,i),{type:DM.hx,src:t.streamName||t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:AN(t.connectOptions),apiUrl:t.apiUrl})}(t,n,i):dN(t,n,i)}function dN(t,n,i){var r=_b(),e=n&&(n.contentProtection||n.drm);if(gi(t)){if(r.src=t,r.type=sb(t),e){var u=AT(e);r.contentProtection=CM(u)}}else if(wb(t)||hb(t)||lb(t)){r.src=t.src,r.type=t.type||sb(t.src),r.isAdvertisement=t.isAdvertisement;var s=yb(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),db(t)&&(r.integration=t.integration);var o=AT(t.contentProtection||t.drm||e);r.contentProtection=CM(o),t.ssai&&(r.ssai=SM(t.ssai)),r=lN(r,t)}return r=gN(r=wN(r,n,i),t,i)}function lN(t,n){var i,r;n.useCredentials?t.crossOrigin=NM.JL:n.crossOrigin&&(t.crossOrigin=ob(n.crossOrigin)),gi(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=qg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=qg(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=qg(n.useManagedMediaSource)),n.dash&&(t.dash=jM(n.dash)),n.hls&&(t.hls=xM(n.hls)),n.lcevc&&(t.lcevc=qg(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=Tb(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=qM(n.latencyConfiguration)),t.seamlessSwitchStrategy=nb(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=$g(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=$g(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function gN(t,n,i){return t.abr=RM(gi(n)?void 0:zM(n.abr),null==i?void 0:i.abr),t}function wN(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!ci(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ci(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===NM.EI&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=NM.KL),t.useCredentials=t.crossOrigin===NM.JL,gi(e)&&!t.timeServer&&(t.timeServer=e),t}function yN(t){var n={src:""};if(t&&t.src){if(n.src=iw(t.src),"default"in t&&(n.default=qg(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return vA(n)?n:n?"metadata":"subtitles"}(t.kind),Gw(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function mN(t,n){if(di(t))try{return n.JG(t).fH(t)}catch(t){return}}function AN(t){if(null==t)return t;if(!di(t))throw new A("connectOptions must be an object");return t}function pN(t,n,i){if(void 0===i&&(i=jT.Ld),oN(t))return{sources:[_b()]};var r=Zg(t);if(r.sources=function(t,n,i){if(mb(t))return[vN(t,n,i)];if(vi(t)&&mb(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(vN(u,n,i))}return r}return[_b()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!vi(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=mN(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!Ab(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!vi(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=yN(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=iw(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:eN(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?rN(n.stereoMode):nN.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=Mb(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==tN&&r.push(e)},r=Zg(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Pb(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=tw(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}tn(),Q(),Nt(),Q(),Nt(),Q(),Nt();var _N=function(){function t(t){this.gH=t}return t.prototype._H=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.gH.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.gH.indexOf(t.charAt(n))<<18|this.gH.indexOf(t.charAt(n+1))<<12|(u=this.gH.indexOf(t.charAt(n+2)))<<6|(s=this.gH.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.vH=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.gH.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.gH.charAt(r)+this.gH.charAt(e)+this.gH.charAt(u)+this.gH.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.lh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.wH=new t(function(t){return t._H("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.lh)),t}();function kN(t){return"string"==typeof t}function MN(t){return"number"==typeof t}Q(),Nt(),Q(),Nt(),Q(),Nt(),ht();var bN={}.toString;var TN,NN=Array.isArray||function(t){return"[object Array]"===bN.call(t)};function DN(t,n){return NN(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(TN||(TN={}));var IN,EN=_.keys(TN).map((function(t){return TN[t]}));function SN(t){return-1!==EN.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(IN||(IN={}));var LN,CN=_.keys(IN).map((function(t){return IN[t]}));function jN(t){return-1!==CN.indexOf(t)}function xN(t){try{var n=_N.wH._H(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":Y(t))&&null!==t}(t),e=kN(t.key),u=kN(t.customer_id),s=MN(t.generation_date),o=MN(t.expiration_date),a=DN(t.domains_page,kN),c=DN(t.domains_source,kN),h=DN(t.sdks,n?SN:kN),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=DN(t.features,n?jN:kN):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new A("The provided license could not be decoded correctly.");return i}catch(t){throw new A("The provided license could not be decoded correctly.")}}function ON(){return LN||(LN={zu:Zr.href,mH:Wr.parent&&Wr.parent!==f,pH:RN()}),LN}Xt(),sn();var zN=["http:","https:","ftp:","ws:","wss:"];function RN(){var t;try{if(null==Wr?void 0:Wr.top)return Wr.top.location.href}catch(t){}return null==Wr||null==(t=Wr.document)?void 0:t.referrer}var BN=function(t){return t[t.AH=0]="AH",t[t.yH=1]="yH",t[t.bH=2]="bH",t}({}),UN=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.MH=t,this.TH=n,this.SH=i,this.NH=r,this.IH=e,this.DH=u,this.EH=s,this.kH=o,this.LH=a},PN=function(t){return t.yH="expired",t.xH="invaliddomain",t.CH="invalidsource",t.jH="invalidfeature",t.ua="error",t}({}),QN=function(){function t(t,n,i){this.qH=t,this.tX=n,this.GM=i,this.ZH=KN(this.GM)}var n=t.prototype;return n.OH=function(t,n){var i=[];mb(t.sources)?i=[t.sources]:vi(t.sources)&&(i=t.sources),this.RH(t,i,n),this.PH(i,n)},n.RH=function(t,n,i){var r=this;if(!oN(t)&&0!==i.SH.length&&!ZN(i.SH)&&!n.every((function(t){return r.zH(t,i)}))){var e="invalidsource",u=JN.BH(e);throw new md(GN(e),u)}},n.PH=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];wb(r)&&yb(r)&&!r.bypassLicense&&this.UH([IN.HESP],n)}},n.QH=function(n){return this.FH(n.kH)&&this.YH(n)?t.VH(n.NH)?0:1:2},n.UH=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!Oo(n.IH,r)){var e="invalidfeature",u=JN.GH(e,r);throw new md(GN(e),u)}}},n.FH=function(t){var n=this;return 0===t.length||t.some((function(t){return n.WH(t)}))},n.WH=function(t){return"web"===function(t){switch(t){case TN.ANDROID:return jt.Md;case TN.ANDROIDTV:case TN.FIRETV:return jt.Td;case TN.IOS:return jt.Nd;case TN.TVOS:return jt.Id;case TN.CHROMECAST:case TN.CHROMECASTCAF:return jt.Dd;case TN.THEOLIVEWEB:return jt.Ed;default:return jt.hd}}(t)},n.YH=function(t){return!(this.ZH&&0!==t.TH.length&&!ZN(t.TH))||!!(this.ZH&&this.HH(t.TH)&&this.XH(t.TH))},n.HH=function(t){return XN(this.GM.zu,t)},n.XH=function(t){if(!this.GM.mH)return!0;if(this.qH)return!0;var n=this.KH();return!!n&&XN(n,t)},n.KH=function(){if(this.GM.mH){var t=d.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.GM.pH?this.GM.pH:void 0}},n.zH=function(n,i){return!!t.JH(n,i.SH)},t.VH=function(t){var n=Number(new Date);return!!t&&n<=t},t.JH=function(t,n){return XN(this.$H(t),n)},t.$H=function(t){return gi(t)?t:wb(t)&&t.src||""},t}(),YN=function(){function t(){}var n=t.prototype;return n.QH=function(t){return 0},n.OH=function(t,n){},n.UH=function(t,n){},t}();function GN(t){switch(t){case"invaliddomain":return wd.LICENSE_INVALID_DOMAIN;case"invalidsource":return wd.LICENSE_INVALID_SOURCE;case"expired":return wd.LICENSE_EXPIRED;case"invalidfeature":return wd.LICENSE_INVALID_FEATURE;case"error":return wd.LICENSE_ERROR}}var VN="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",FN=un((function(){var t="\\.",n="(\\*|"+VN+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function WN(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(no(r,"ip-range(")){var e="\\.",u=r.match(FN()),s=function(t){return"*"===t?"("+VN+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function ZN(t){return t.some((function(t){return"*"===t}))}function XN(t,n){var i=Kt.Ah(t);if(!HN(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(WN(i.hostname,e))return!0;if(WN(Bl(t),e))return!0}return!1}function HN(t){return-1!==zN.indexOf(t.protocol)}function KN(t){var n=Kt.Ah(t.zu);return HN(n)&&!function(t){return WN(t.hostname,"localhost")}(n)&&!function(t){return WN(t.hostname,"theoplayer.doubleclick.net")}(n)}var JN=function(){function t(){}return t.GH=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.BH=function(t){return"invaliddomain"===t?this.iX:"invalidsource"===t?this.eX:"expired"===t?this.sX:"invalidfeature"===t?this.nX:this.rX},t}();JN.rX="The license for this player is invalid.",JN.sX="The usage license for this video player has expired.",JN.iX="The current domain is incompatible with the license for this player.",JN.eX="The provided video source is incompatible with the license for this player.",JN.nX="The requested feature is not available with the license for this player.",Q(),Nt(),An(),Zt(),Tn(),Q(),Nt();var qN=function(t){return t[t.oX=1]="oX",t[t.hX=4]="hX",t[t.aX=5]="aX",t[t.uX=9]="uX",t}({});function $N(t){var n=[t.mR,t.cX,t.lX];switch(t.cX){case 1:n.push(t.WL);break;case 4:n.push(t.LE),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.YA)}return n}Q(),Nt();var tD,nD=new Array(256);for(tD=0;tD<256;tD+=1)nD[tD]=(tD<16?"0":"")+tD.toString(16);function iD(){var t=br(),n=(4294967296*k.random()|0)+t&3029421624,i=(4294967296*k.random()|0)+t&3595553209,r=(4294967296*k.random()|0)+t&1130486254,e=(4294967296*k.random()|0)+t&1284287105;return nD[255&n]+nD[n>>>8&255]+nD[n>>>16&255]+nD[n>>>24&255]+"-"+nD[255&i]+nD[i>>>8&255]+"-"+nD[i>>>16&15|64]+nD[i>>>24&255]+"-"+nD[63&r|128]+nD[r>>>8&255]+"-"+nD[r>>>16&255]+nD[r>>>24&255]+nD[255&e]+nD[e>>>8&255]+nD[e>>>16&255]+nD[e>>>24&255]}function rD(t){return Fc(t.replace(/-/g,""))}function eD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*k.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function uD(){return Kt.Og()}Q(),Nt(),Q(),Nt(),tn(),Q(),Nt();var sD,oD="theoplayer-session-id";function aD(){if(!sD){var t=Bd.$b(oD);t?sD=t:(sD=iD(),Bd.tM(oD,sD))}return sD}Q(),Nt(),Q(),Nt();var cD=/[^\x00-\x7E]/g;function hD(t){return"\\u"+uo(t.charCodeAt(0).toString(16),4,"0")}var fD="https://license.theoplayer.com";function vD(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(cD,hD)}(t,(function(t,i){if(di(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.dX,t.fS,t.MH,t.cj,t.fX,t.gX,t._X.map($N)]}(t));return _N.wH.vH(n)}var dD=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=_N.lh),void 0===e&&(e=0),void 0===u&&(u=1),this.ZT=t,this.OQ=n,this.AX=i,this.TX=r,this.NX=e,this.LX=u,this.J_=[],this.wX=null,this.CX=0,this.kX="unknown",this.bT=0,this.PX=function(){uD()-s.CX>6e4&&s.DX()},this.OX=function(){s.DX(!0)},Fr.zX(this.OX),this.RX=y(this.PX,6e4)}var n=t.prototype;return n.vX=function(){return Boolean(this.fX)},n.mX=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.AX.pX()];case 1:return r.sent().LH?(i={cX:qN.oX,lX:br(),WL:t},[4,n.lZ(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.yX=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.AX.pX()];case 1:return r.sent().LH?(i={cX:qN.uX,lX:br(),YA:t},[4,n.lZ(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.bX=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return r={cX:qN.hX,lX:br(),LE:n,lt:t},[4,i.lZ(r)];case 1:return e.sent(),[2]}}))}))()},n.MX=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return i={cX:qN.aX,lX:br(),lt:t},[4,n.lZ(i)];case 1:return r.sent(),[2]}}))}))()},n.lZ=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.AX.pX()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.TX.vH(i.MH)&&t.cX!==qN.aX?[2]:(t.cX===qN.oX?n.SX():n.vX()||n.SX(),t.mR=n.bT++,n.J_.push(t),function(t){return t===qN.oX||t===qN.aX}(t.cX)?[4,n.DX()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.J_.length>n.NX?[4,n.IX()]:[3,5];case 5:return[2]}}))}))()},n.DX=function(t){void 0===t&&(t=!1);var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.J_.length>0?[4,n.IX(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.EX=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.AX.pX()];case 1:return i=r.sent(),[2,{dX:br(),fS:aD(),MH:n.TX.vH(i.MH)||"dev",cj:n.ZT,fX:n.wX,gX:n.kX,_X:t}]}}))}))()},n.IX=function(t){void 0===t&&(t=!1);var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return i=n.J_.splice(0,n.LX),[4,n.EX(i)];case 1:return r=e.sent(),t?n.YI(r):n.xX(r),n.CX=uD(),[2]}}))}))()},n.xX=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=vD(t),r=new Sl({zu:fD,GN:i,zI:!1,oI:Gd.ON,aI:{"Content-Type":k_.HF},CI:4e3,xI:Tl.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.OQ.hI(r)];case 2:return[4,e.sent().FN()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.YI=function(t){var n=vD(t);this.OQ.YI({zu:fD,GN:n,VN:k_.HF})},n.SX=function(){this.vX()&&this.DX(),this.wX=iD(),this.bT=0},n.gn=function(){Fr.jX(this.OX),m(this.RX),this.DX()},Ct(t,[{key:"_X",get:function(){return this.J_}},{key:"fX",get:function(){return this.wX}}]),t}();Q(),Nt(),Zt(),gn(),Jt(),Q(),Nt(),gn(),Q(),Nt();var lD=0;var gD=w,wD=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,yD=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;wD&&yD||(wD=function(t){var n=uD(),i=k.max(0,16-(n-lD)),r=g((function(){return t(n+i)}),i);return lD=n+i,r},yD=gD),wD=wD.bind(self),yD=yD.bind(self),sn();var mD=Wt.Uf||Wt.Ka&&Wt.Jf<13;function AD(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var pD=function(){function t(t){var n=this;this.YX=void 0,this.Za=void 0,this.JX=void 0,this.ZX=ps(),this.GX=1,this.KX=!0,this.tq=function(){n.KX=!0},this.$X=function(){n.YX=n.t.jk(),n.ZX.forEach((function(t,i){t.XX(),t.XX=n.WX(t.HX,i)}))},this.t=t,this.t.yn(Ma.$y,this.$X),this.t.yn(Ma.bb,this.tq),this.$X()}var n=t.prototype;return n.BX=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.YX;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(ln(i))),!0)},n.UX=function(t,n,i,r,e,u){var s=this.YX;return void 0!==s&&(mD&&(s=this.VX(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.QX=function(t){var n=this.GX++,i=this.WX(t,n);return this.ZX.set(n,{HX:t,XX:i}),n},n.FX=function(t){var n=this.ZX.get(t);void 0!==n&&(this.ZX.delete(t),n.XX())},n.WX=function(t,n){var i=this,r=this.YX;if(void 0===r)return qt;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.ZX.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.qX()?(i.ZX.delete(n),i.KX=!1,t(r,void 0)):u=wD(s)};return u=wD(s),function(){return yD(u)}},n.qX=function(){return(!this.t.KE||this.KX)&&!this.t.wk&&this.t.fk>=UA.Iz},n.VX=function(t){var n=this.JX;void 0===n&&(n=v.createElement("canvas"),this.JX=n);var i=n.getContext("2d"),r=this.t,e=r.Tk,u=r.yk,s=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),s===e&&o===u||(n.width=e,n.height=u),i.drawImage(t,0,0,e,u);var a=!1;return e>0&&AD(i,e-1,0)&&(n.width=s,a=!0),u>0&&AD(i,0,u-1)&&(n.height=o,a=!0),a&&i.drawImage(t,0,0,e,u),n},n.gn=function(){this.ZX.forEach((function(t){return t.XX()})),this.ZX.clear(),this.t.fn(Ma.$y,this.$X),this.t.fn(Ma.bb,this.tq),this.YX=void 0,this.JX=void 0},Ct(t,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).BX.apply(u,[n].concat(ln(r)))},texImage2D:function(n,i,r,e,u,s){return t.UX(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.QX(n)},cancelVideoFrameCallback:function(n){return t.FX(n)}}}(this)}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt(),Zt(),St();var _D=function(t){return t.pn="dimensionchange",t}({}),kD=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),Ct(n,[{key:"Tu",get:function(){return 0}},{key:"Su",get:function(){return 0}}]),n}(Aa),MD=function(t){function n(n,i){var r;return(r=t.call(this,_D.pn)||this).width=n,r.height=i,r}return Et(n,t),n}(ka);Q(),Nt(),Zt(),St(),Q(),Nt();var bD,TD=function(t,n){this.we=t,this.HX=n},ND=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).iq=0,r.nq=0,r.dp=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.nq=n.width,r.iq=n.height,r.HX(r.nq,r.iq)}},r.rq=new Wr.ResizeObserver(r.dp),r.rq.observe(r.we),r}return Et(n,t),n.prototype.gn=function(){this.rq.disconnect()},Ct(n,[{key:"Tu",get:function(){return this.iq}},{key:"Su",get:function(){return this.nq}}]),n}(TD);Q(),Nt(),Zt(),St(),Q(),Nt(),sn();var DD=["Webkit","Moz","O","ms"],ID=function(){var t=!1;try{if(void 0!==Wr&&"function"==typeof Wr.addEventListener){var n=_.defineProperty({},"passive",{get:function(){t=!0}});Wr.addEventListener("testPassiveEventSupport",qt,n),Wr.removeEventListener("testPassiveEventSupport",qt,n)}}catch(t){}return t}(),ED=As();function SD(t){return ED.has(t)||ED.set(t,function(t){var n=(bD||(bD=Wr&&Wr.document&&Wr.document.createElement("span")),bD);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<DD.length;r++){var e=DD[r]+i;if(void 0!==n.style[e])return e}return t}(t)),ED.get(t)}function LD(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function CD(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[SD("transition")]="0s"}var jD=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).oq=0,e.nq=NaN,e.iq=NaN,e.dq=void 0,e.tr=function(){var t=1e5;e.fq.style.width=t+"px",e.fq.style.height=t+"px",e.hq.scrollLeft=t,e.hq.scrollTop=t,e.uq.scrollLeft=t,e.uq.scrollTop=t,0===e.uq.scrollTop&&wD(e.tr)},e.gq=function(){var t=e.Su,n=e.Tu;e.HX(t,n),e.nq=t,e.iq=n,e.tr(),e.oq=0},e.aq=function(){if(!e.oq){var t=e.Su,n=e.Tu;t===e.nq&&n===e.iq||(e.oq=wD(e.gq))}},e.lq=function(){e.dq||(e.dq=g(e._q,66))},e._q=function(){e.dq=void 0,e.vq()},e.vq=function(){e.aq()};var u=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==u||(n.style.position="relative");var s=v.createElement("div");return e.cq=s,e.hq=v.createElement("div"),e.fq=v.createElement("div"),e.uq=v.createElement("div"),e.wq=v.createElement("div"),LD(e.hq),LD(e.uq),CD(e.fq),function(t){CD(t),t.style.width="200%",t.style.height="200%"}(e.wq),s.appendChild(e.hq),s.appendChild(e.uq),e.hq.appendChild(e.fq),e.uq.appendChild(e.wq),n.appendChild(s),e.hq.addEventListener("scroll",e.aq),e.uq.addEventListener("scroll",e.aq),f&&f.addEventListener("resize",e.lq),e.aq(),e}return Et(n,t),n.prototype.gn=function(){yD(this.oq),this.oq=0,this.hq.removeEventListener("scroll",this.aq),this.uq.removeEventListener("scroll",this.aq),ki(this.cq),f&&f.removeEventListener("resize",this.lq)},Ct(n,[{key:"Tu",get:function(){return this.we.getBoundingClientRect().height||this.iq||0}},{key:"Su",get:function(){return this.we.getBoundingClientRect().width||this.nq||0}}]),n}(TD),xD=function(t){function n(n){var i;return(i=t.call(this)||this).rq=void 0,i.dp=function(t,n){i.yo(new MD(t,n))},i.we=n,i}Et(n,t);var i=n.prototype;return i.bn=function(t){this.rq||("function"==typeof Wr.ResizeObserver?this.rq=new ND(this.we,this.dp):this.rq=new jD(this.we,this.dp,t))},i.gn=function(){this.Bo(),this.rq&&(this.rq.gn(),this.rq=void 0)},Ct(n,[{key:"Tu",get:function(){return this.rq?this.rq.Tu:0}},{key:"Su",get:function(){return this.rq?this.rq.Su:0}}]),n}(Aa);Q(),Nt(),Zt(),St(),Jt(),Q(),Nt(),St();var OD=function(t){function n(){return t.call(this,hT.aa)||this}return Et(n,t),n}(ka);Q(),Nt();var zD=function(){if(v)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in v)return{mq:i[0],Jo:i[1],Pm:i[2],pq:i[3],Qe:i[4],Aq:i[5]}}}();Q(),Nt(),St();var RD=function(t){function n(){return t.call(this,hT.fa)||this}return Et(n,t),n}(ka),BD=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.yq=function(){return r.Mq()},r.bq=function(){return r.Tq()},r.we=i,r.ea=n.na(i),v.addEventListener(zD.Qe,r.yq),r.Mq(),r}Et(n,t);var i=n.prototype;return i.co=function(){var t=this.we[zD.mq]();t&&t.then?t.then(this.yq,this.bq):(v.removeEventListener(zD.Aq,this.bq),v.addEventListener(zD.Aq,this.bq))},i.bo=function(){var t=v[zD.Jo]();t&&t.then?t.then(this.yq,this.bq):(v.removeEventListener(zD.Aq,this.bq),v.addEventListener(zD.Aq,this.bq))},i.Mq=function(){var t=this.cs,n=this.we===v[zD.Pm];this.cs=n,t!==n&&this.yo(new OD)},i.Tq=function(){this.yo(new fT)},i.gn=function(){this.Bo(),v.removeEventListener(zD.Qe,this.yq),v.removeEventListener(zD.Aq,this.bq)},n.na=function(t){return Boolean(zD&&v[zD.pq]&&zD.mq in t)},n}(Aa),UD=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.yq=function(){return r.Mq()},r.we=i,r.ea=n.na(i),r.we.addEventListener("webkitbeginfullscreen",r.yq),r.we.addEventListener("webkitendfullscreen",r.yq),r.we.addEventListener("webkitpresentationmodechanged",r.yq),r.Mq(),r}Et(n,t);var i=n.prototype;return i.co=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Wt.Ka?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.bo=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.Mq=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this.yo(new OD)},i.gn=function(){this.Bo(),this.we.removeEventListener("webkitbeginfullscreen",this.yq),this.we.removeEventListener("webkitendfullscreen",this.yq),this.we.removeEventListener("webkitpresentationmodechanged",this.yq)},n.na=function(t){return Wt.Ka&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(Aa),PD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Iq=[],n.Sq=void 0,n.Nq=!1,n.Mq=function(){var t=n.Nq,i=n.Lq();t!==i&&(n.Nq=i,n.yo(new OD))},n}Et(n,t);var i=n.prototype;return i.co=function(){this.Sq?this.Sq.co():this.yo(new fT)},i.bo=function(){for(var t=0,n=this.Iq;t<n.length;t++){var i=n[t];i.cs&&i.bo()}},i.Dq=function(t){this.Sq=t},i.Eq=function(t){this.Iq.push(t),t.yn(hT.aa,this.Mq),t.yn(hT.ua,this.Ds),this.Mq()},i.kq=function(t){Co(this.Iq,t),t.fn(hT.aa,this.Mq),t.fn(hT.ua,this.Ds)},i.Lq=function(){for(var t=0,n=this.Iq;t<n.length;t++){if(n[t].cs)return!0}return!1},i.tr=function(){this.Sq=void 0,this.Nq=!1;for(var t=this.Iq.slice(),n=0;n<t.length;n++){var i=t[n];this.kq(i),i.gn()}this.Mq()},i.gn=function(){this.Bo(),this.tr()},Ct(n,[{key:"ea",get:function(){return!!this.Sq&&this.Sq.ea}},{key:"cs",get:function(){return this.Nq}}]),n}(Aa),QD=function(t){function n(n,i){var r;return(r=t.call(this)||this).ca=!1,r.Rq=function(){return r.Yn()},r.Mq=function(t){r.ca||r.yo(t)},r.t=n,r.xq=i,r.Cq=new vT,r.jq(),r.t.yn(Ma.Ky,r.Rq),r.Yn(),r}Et(n,t);var i=n.prototype;return i.co=function(){this.xq&&this.Cq.co()},i.bo=function(){this.Cq.bo()},i.jq=function(){this.Cq.yn([hT.aa,hT.fa],this.Mq),this.Cq.yn(hT.ua,this.Ds)},i.Oq=function(){this.Cq.fn([hT.aa,hT.fa],this.Mq),this.Cq.fn(hT.ua,this.Ds)},i.Yn=function(){var t=this.Cq,n=this.t.Ck();if(t!==n){this.ca=!0;var i=this.cs,r=this.ea;i&&this.bo(),this.Oq(),this.Cq=n,this.jq(),i&&!this.cs&&this.ea?this.co():this.bo(),this.ca=!1,r!==this.ea&&this.yo(new RD),i!==this.cs&&this.yo(new OD)}},i.gn=function(){this.Bo(),this.Oq(),this.t.fn(Ma.Ky,this.Rq)},Ct(n,[{key:"ea",get:function(){return!!this.xq&&this.Cq.ea}},{key:"cs",get:function(){return this.Cq.cs}}]),n}(Aa);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St(),Q(),Nt();var YD=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),GD=function(t){function n(n){var i;return(i=t.call(this,YD.MODE_CHANGE)||this).presentationMode=n,i}return Et(n,t),n}(ka);Q(),Nt(),Q(),Nt(),St();var VD=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).zq=[],r.Uq=function(t){fa((function(){r.Ds(t)}))},r.Qq=i?r.Uq:r.Ds,r}Et(n,t);var i=n.prototype;return i.iu=function(t){t.xy(this.Qq),this.zq.push(t)},i.Bq=function(t){t.Py(this.Qq),Co(this.zq,t)},i.gn=function(){this.Bo();for(var t=0,n=this.zq;t<n.length;t++){n[t].Py(this.Qq)}Ro(this.zq)},n}(_a);Q(),Nt(),Zt(),St();var FD=function(t){function n(n){var i;return(i=t.call(this,YD.ERROR)||this).errorObject=n,i}return Et(n,t),n.prototype.ma=function(){return this},Ct(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(jg);Q(),Nt(),St();var WD=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return Et(n,t),n}(md);sn();var ZD=function(t){function n(n,i){var r;return(r=t.call(this)||this).zo=Bb.INLINE,r.Ko=!1,r.Go=new Nd,r.Za=void 0,r.Mq=function(){r.wi()},r.Tq=function(){r.Ko||(r.yo(new zk(new md(wd.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r.wi())},r.Wq=function(){r.Ko||(r.zo!==Bb.NATIVE_PICTURE_IN_PICTURE||r.Qo.xz?r.zo!==Bb.NATIVE_PICTURE_IN_PICTURE&&r.Qo.xz&&r.Lo(Bb.NATIVE_PICTURE_IN_PICTURE):r.Lo(Bb.INLINE))},r.Zq=function(){r.Ko||(r.yo(new FD(new WD(wd.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.Wq())},r.Zo=n,r.Qo=i,r.Zo.yn(hT.aa,r.Mq),r.Zo.yn(hT.ua,r.Tq),r.Qo.yn(Hb.kz,r.Wq),r.Qo.yn(Hb.Lz,r.Wq),r.Qo.yn(Hb.ua,r.Zq),r}Et(n,t);var i=n.prototype;return i.ma=function(){return function(t){var n,i={get currentMode(){return t.Uo()},requestMode:function(n){var i=Fb(n);i&&t.Lo(i)},supportsMode:function(n){var i=Fb(n);return!!i&&t.Vo(i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return(n=new VD(i,!0)).iu(t),i}(this)},i.Lo=function(t){this.zo!==t&&(this.zo=t,this.Ko=!0,this.qo(t))},i.Uo=function(){return this.zo},i.Vo=function(t){switch(t){case Bb.NATIVE_PICTURE_IN_PICTURE:return this.Qo.Cz;case Bb.FULLSCREEN:return this.Zo.ea;case Bb.INLINE:return!0}return!1},i.qo=function(t){var n=this;switch(this.Go.Ty(),t){case Bb.FULLSCREEN:va(this.Go.Wo((function(t){return n.Fq(t)})));break;case Bb.NATIVE_PICTURE_IN_PICTURE:va(this.Go.Wo((function(t){return n.Yq(t)})));break;case Bb.INLINE:va(this.Go.Wo((function(t){return n.Vq(t)})))}},i.Fq=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return ta(t),[4,n.Qo.bo().catch(qt)];case 1:r.sent(),ta(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.Gq()];case 3:return r.sent(),n.yo(new GD(n.zo)),[3,6];case 4:throw r.sent(),i=new WD(wd.FULLSCREEN_ERROR,"Failed to enter fullscreen."),n.yo(new FD(i)),ta(t),n.Lo(Bb.INLINE),i;case 5:return n.Ko=!1,[7];case 6:return[2]}}))}))()},i.Yq=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return ta(t),[4,n.Jo().catch(qt)];case 1:r.sent(),ta(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.Qo.co()];case 3:return r.sent(),n.yo(new GD(n.zo)),[3,6];case 4:throw r.sent(),i=new WD(wd.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),n.yo(new FD(i)),ta(t),n.Lo(Bb.INLINE),i;case 5:return n.Ko=!1,[7];case 6:return[2]}}))}))()},i.Vq=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return ta(t),[4,n.Jo().catch(qt)];case 1:return i.sent(),ta(t),[4,n.Qo.bo().catch(qt)];case 2:return i.sent(),n.yo(new GD(n.zo)),n.Ko=!1,[2]}}))}))()},i.Gq=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Zo.cs?[2]:(n=t.Zo.zy([hT.aa,hT.ua]),t.Zo.co(),[4,n]);case 1:if(i.sent(),!t.Zo.cs)throw new A("Failed to enter fullscreen.");return[2]}}))}))()},i.Jo=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Zo.cs?(n=t.Zo.zy([hT.aa,hT.ua]),t.Zo.bo(),[4,n]):[2];case 1:if(i.sent(),t.Zo.cs)throw new A("Failed to exit fullscreen.");return[2]}}))}))()},i.wi=function(){this.Ko||(this.zo!==Bb.FULLSCREEN||this.Zo.cs?this.zo!==Bb.FULLSCREEN&&this.Zo.cs&&this.Lo(Bb.FULLSCREEN):this.Lo(Bb.INLINE))},i.gn=function(){this.Zo.fn(hT.aa,this.Mq),this.Zo.fn(hT.ua,this.Tq),this.Qo.fn(Hb.kz,this.Wq),this.Qo.fn(Hb.Lz,this.Wq),this.Qo.fn(Hb.ua,this.Zq),this.Bo()},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(_a);function XD(t){var n;return{get url(){return t.zu},get method(){return t.xI},get headers(){return n||(n=t.aI.RN()),n},get body(){return t.GN},get useCredentials(){return t.zI},get type(){return t.YA},get subType(){return t.OI},get mediaType(){return t.RI},get responseType(){return t.oI}}}function HD(t){switch(t.toLowerCase()){case"arraybuffer":return Gd.xN;case"json":return Gd.CN;case"stream":return Gd.jN;default:return Gd.ON}}function KD(t){switch(t.toUpperCase()){case"POST":return Tl.POST;case"PUT":return Tl.PUT;case"DELETE":return Tl.DELETE;case"HEAD":return Tl.HEAD;case"OPTIONS":return Tl.OPTIONS;default:return Tl.GET}}function JD(t){switch(t.toLowerCase()){case"manifest":return Nl.fI;case"segment":return Nl.gI;case"preload-hint":return Nl._I;case"content-protection":return Nl.vI;default:return Nl.dI}}function qD(t){switch(t.toLowerCase()){case"initialization-segment":return Dl.wI;case"fairplay-license":return Dl.mI;case"fairplay-certificate":return Dl.pI;case"widevine-license":return Dl.AI;case"widevine-certificate":return Dl.yI;case"playready-license":return Dl.bI;case"clearkey-license":return Dl.MI;case"aes128-key":return Dl.TI;default:return Dl.dI}}function $D(t){switch(t.toLowerCase()){case"audio":return Il.SI;case"video":return Il.NI;case"text":return Il.ON;case"image":return Il.II;default:return Il.dI}}Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt(),An(),Zt(),Tn();var tI=function(){function t(t,n){this.cK=t,this.hK=n,this.Xq=new sh,this.sK=[],this.Za=void 0,this.Jq=!1,this.eD=void 0,this.iK=0}var n=t.prototype;return n.JC=function(){this.Jq=!0,this.Xq.sM(null)},n.eK=function(){this.Xq.nM(new Xd(this.sK))},n.nK=function(t){if(!this.$q)throw new p("Cannot respond more than once");if(!di(t))throw new p("Expected valid response");this.eD=this.rK(t),this.JC()},n.oK=function(){try{var t=this.hK(this.ga);t?this.aK(t):this.tK||this.Kq||this.JC()}catch(t){this.sK.push(t),this.eK()}},n.aK=function(t){if(this.Kq)throw new A("Request has been redirected or a response already exists");if(yi(t))this.uK(t);else{if("function"!=typeof t)throw new p("Expected promise or function");var n=new sh;try{var i=t((function(t){t?n.nM(t):n.sM(void 0)}));yi(i)&&n.Sy(i)}catch(t){n.nM(t)}this.uK(n.rM)}},n.uK=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.iK++,[4,t];case 1:return r.sent(),n.iK--,n.tK||n.Kq||(n.sK.length?n.eK():n.JC()),[3,3];case 2:return i=r.sent(),n.iK--,n.sK.push(i),n.tK||n.Kq||n.eK(),[3,3];case 3:return[2]}}))}))()},Ct(t,[{key:"Hq",get:function(){return this.Xq.rM}},{key:"ga",get:function(){return this.Za||(this.Za=this.qq()),this.Za}},{key:"Kq",get:function(){return this.Jq}},{key:"$q",get:function(){return!this.Jq}},{key:"tK",get:function(){return this.iK>0}},{key:"iD",get:function(){return this.eD}}]),t}(),nI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).lK=r,e.oK(),e}Et(n,t);var i=n.prototype;return i.qq=function(){return function(t){var n,i=XD(t.hI);return{get closed(){return!t.$q},get request(){return i},get url(){return t.zu},get status(){return t.nI},get statusText(){return t.uI},get headers(){return n||(n=t.aI.RN()),n},get body(){return t.GN},respondWith:function(n){return t.nK(n)},waitUntil:function(n){return t.aK(n)}}}(this)},i.rK=function(t){return n.dK(t,this.cK,this.lK)},n.dK=function(t,n,i){var r=void 0===t.body?i:t.body;return new bl({rI:r,hI:n.hI,oI:n.hI.oI,aI:t.headers,nI:t.status,uI:t.statusText,lI:t.url,cI:!0},n)},Ct(n,[{key:"GN",get:function(){return this.lK}},{key:"aI",get:function(){return this.cK.aI}},{key:"hI",get:function(){return this.cK.hI}},{key:"iD",get:function(){return this.eD}},{key:"nI",get:function(){return this.cK.nI}},{key:"uI",get:function(){return this.cK.uI}},{key:"zu",get:function(){return this.cK.lI}}]),n}(tI);Q(),Nt(),Zt(),St();var iI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this)._K=void 0,e.fK=r,e.oK(),e}Et(n,t);var i=n.prototype;return i.qq=function(){return function(t){var n;return{get url(){return t.zu},get method(){return t.xI},get headers(){return n||(n=t.aI.RN()),n},get body(){return t.GN},get closed(){return!t.$q},get useCredentials(){return t.zI},get type(){return t.YA},get subType(){return t.OI},get mediaType(){return t.RI},get responseType(){return t.oI},redirect:function(n){return t.vK(n)},respondWith:function(n){return t.nK(n)},waitUntil:function(n){return t.aK(n)}}}(this)},i.rK=function(t){var n=this.cK.GN,i=new bl({rI:n,aI:{},hI:this.cK,lI:this.cK.zu,oI:this.cK.oI,nI:200,uI:"OK"});return nI.dK(t,i,n)},i.vK=function(t){if(!this.$q)throw new p("Cannot redirect, already redirected or has a response");var n;n=gi(t)?{url:t}:t,this._K=function(t,n){return new Sl({zu:void 0===t.url?n.zu:t.url,xI:void 0!==t.method?KD(t.method):void 0,aI:t.headers,GN:t.body,zI:t.useCredentials,YA:void 0!==t.type?JD(t.type):void 0,OI:void 0!==t.subType?qD(t.subType):void 0,RI:void 0!==t.mediaType?$D(t.mediaType):void 0,oI:void 0!==t.responseType?HD(t.responseType):void 0},n)}(n,this.cK),this.JC()},Ct(n,[{key:"GN",get:function(){return this.cK.GN}},{key:"$q",get:function(){return this.fK&&!this.Jq}},{key:"aI",get:function(){return this.cK.aI}},{key:"xI",get:function(){return this.cK.xI}},{key:"gK",get:function(){return this._K}},{key:"iD",get:function(){return this.eD}},{key:"oI",get:function(){return this.cK.oI}},{key:"CI",get:function(){return this.cK.CI}},{key:"jI",get:function(){return this.cK.jI}},{key:"ly",get:function(){return this.cK.ly}},{key:"YA",get:function(){return this.cK.YA}},{key:"OI",get:function(){return this.cK.OI}},{key:"RI",get:function(){return this.cK.RI}},{key:"zu",get:function(){return this.cK.zu}},{key:"zI",get:function(){return this.cK.zI}},{key:"QI",get:function(){return this.cK.QI}},{key:"BI",get:function(){return this.cK.BI}},{key:"UI",get:function(){return this.cK.UI}},{key:"FI",get:function(){return this.cK.FI}}]),n}(tI);tn();var rI=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new eI(n);return(r=t.call(this,e,i)||this).mK=e,r}Et(n,t);var i=n.prototype;return i.wK=function(t){this.mK.wK(t)},i.pK=function(t){this.mK.pK(t)},i.AK=function(t){this.mK.AK(t)},i.vZ=function(t){this.mK.vZ(t)},i.AZ=function(t){this.mK.AZ(t)},n}(Cl),eI=function(){function t(t){this.TK=[],this.SK=[],this.ZI=t}var n=t.prototype;return n.hI=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.yK(t,t.ly)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof Ql?[4,n.bK(r,t.ly)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.MK(i,t.ly)];case 6:if(Ml(i=e.sent()))return[2,i];throw new Gl(i)}}))}))()},n.YI=function(t){return this.ZI.YI(t)},n.yK=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:ta(n),r=t,u=0,s=i.TK.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],ta(n),(a=new iI(r,o,!e)).Kq)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.Hq];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.gK&&!e?r=a.gK:a.iD&&!e&&(e=a.iD),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.ZI.hI(r)]}}))}))()},n.bK=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return t instanceof Gl?r=t.iD:(e=t.hI,r=new bl({rI:null,hI:e,oI:e.oI,nI:0,uI:""})),[4,i.MK(r,n)];case 1:if((u=s.sent())===r)throw t;if(Ml(u))return[2,u];throw new Gl(u)}}))}))()},n.MK=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.SK.slice(),c.label=1;case 1:return e<u.length?(s=u[e],ta(n),[4,st.resolve(r.Zb().rI(n))]):[3,8];case 2:if(o=c.sent(),(a=new nI(r,s,o)).Kq)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.Hq];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.iD||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.wK=function(t){this.TK.unshift(t)},n.pK=function(t){this.TK.push(t)},n.AK=function(t){Co(this.TK,t)},n.vZ=function(t){this.SK.unshift(t)},n.AZ=function(t){Co(this.SK,t)},n.gn=function(){this.ZI.gn(),Ro(this.TK),Ro(this.SK)},t}();Q(),Nt(),Zt(),St();var uI=function(){function t(t){this.OQ=t}var n=t.prototype;return n.wK=function(t){this.OQ.wK(t)},n.AK=function(t){this.OQ.AK(t)},n.vZ=function(t){this.OQ.vZ(t)},n.AZ=function(t){this.OQ.AZ(t)},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{addRequestInterceptor:function(n){t.wK(n)},removeRequestInterceptor:function(n){t.AK(n)},addResponseInterceptor:function(n){t.vZ(n)},removeResponseInterceptor:function(n){t.AZ(n)}}}(this)),this.Za}}]),t}(),sI=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).xK=n,e.OQ=i,e.UG=r,e.CK=function(t){e.yo(t)},e.jK=function(t){e.yo(t)},e.xK.yn(Ma.vb,e.CK),e.xK.yn(Ma._b,e.jK),e}Et(n,t);var i=n.prototype;return i.IK=function(t){this.UG.IK(t)},i.wK=function(t){this.OQ.wK(t)},i.AK=function(t){this.OQ.AK(t)},i.vZ=function(t){this.OQ.vZ(t)},i.AZ=function(t){this.OQ.AZ(t)},i.gn=function(){this.Bo(),this.xK.fn(Ma.vb,this.CK),this.xK.fn(Ma._b,this.jK)},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get online(){return t.XE},get estimator(){return function(t){return{get bandwidth(){return t.FY},get roundTripTime(){return t.YY}}}(t.NK)},setEstimator:function(n){t.IK(function(t){if(!t)return;return{get FY(){return nw(t.bandwidth)},get YY(){return nw(t.roundTripTime)},VY:function(n){return function(t){if(!t)return;return{DK:function(n){t.markRequestStart(n)},EK:function(n){t.markResponseStart(n)},kK:function(n,i){t.markResponseData(n,i)},LK:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(XD(n)))}}}(n))},addRequestInterceptor:function(n){t.wK(n)},removeRequestInterceptor:function(n){t.AK(n)},addResponseInterceptor:function(n){t.vZ(n)},removeResponseInterceptor:function(n){t.AZ(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)),this.Za}},{key:"XE",get:function(){return this.xK.XE}},{key:"NK",get:function(){return this.UG.NK}}]),n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt();var oI=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});Q(),Nt();function aI(t,n,i,r,e,u){var s=[],o=t-k.max(u,1),a=t+e;if(n&&i){var c=gr(i,1,5),h=n-c;o=k.min(o,h);var f=n+i+c;a=k.max(a,f)}return 0!==o&&r.SP(0,o)&&s.push([0,o]),r.SP(a,1/0)&&s.push([a,1/0]),s}function cI(t){return t instanceof A&&"QuotaExceededError"===t.name}Q(),Nt();var hI={type:oI.BANDWIDTH};function fI(t){var n=Zg(hI);return gi(t)?n.type=vI(t):di(t)&&function(t){switch(t){case oI.PERFORMANCE:case oI.QUALITY:case oI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=vI(t.type)),di(t)&&di(t.metadata)&&(n.metadata=function(t){var n={},i=tw(t.bitrate);return T(i)||(n.bitrate=i),n}(t.metadata)),n}function vI(t){switch(t){case"bandwidth":return oI.BANDWIDTH;case"performance":return oI.PERFORMANCE;case"quality":return oI.QUALITY}}Q(),Nt(),St();var dI=function(t){function n(n){var i;return(i=t.call(this,"RK")||this).PK=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var lI=function(t){function n(n){var i;return(i=t.call(this,"zK")||this).BK=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var gI=function(t){function n(n){var i;return(i=t.call(this,"UK")||this).QK=n,i}return Et(n,t),n}(ka),wI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Za=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.BK)},set strategy(n){t.BK=fI(n)},get targetBuffer(){return t.PK},set targetBuffer(n){var i=tw(n);T(i)||(t.PK=i)},get bufferLookbackWindow(){return t.QK},set bufferLookbackWindow(n){var i=tw(n);T(i)||(t.QK=i<=0?30:i)},get maxBufferLength(){return t.qK},get clearBufferWhenSettingTargetQuality(){return t.$K},set clearBufferWhenSettingTargetQuality(n){t.$K=qg(n)}}}(n),n.GK=hI,n.WK=20,n.XK=30,n.HK=1/0,n.tJ=!1,n.KK=void 0,n}Et(n,t);var i=n.prototype;return i.FK=function(t){this.YK=t},i.IK=function(t){this.KK=t},i.JK=function(t){var n=k.min(t,.8*this.HK);if(n=k.max(10,n),this.HK===n)return!1;var i=this.ZK;this.HK=n;var r=this.ZK;return r!==i&&this.yo(new dI(r)),!0},Ct(n,[{key:"VK",get:function(){switch(this.GK.type){case oI.PERFORMANCE:return 0;case oI.QUALITY:return 1/0;case oI.BANDWIDTH:return this.GK.metadata&&void 0!==this.GK.metadata.bitrate?this.GK.metadata.bitrate:Uk.Ld.LY();default:return Uk.Ld.LY()}}},{key:"ga",get:function(){return this.Za}},{key:"BK",get:function(){return this.GK},set:function(t){this.GK=t,this.yo(new lI(t))}},{key:"PK",get:function(){return this.WK},set:function(t){this.WK=t,this.yo(new dI(t))}},{key:"ZK",get:function(){return k.min(this.WK,this.HK)}},{key:"QK",get:function(){return this.XK},set:function(t){this.XK=t,this.yo(new gI(t))}},{key:"qK",get:function(){return this.HK}},{key:"NK",get:function(){var t;return null!=(t=this.KK)?t:this.YK.pV}},{key:"$K",get:function(){return this.tJ},set:function(t){this.tJ=t}}]),n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt(),St();var yI=function(t){function n(){return t.call(this,"cL")||this}return Et(n,t),n.prototype.ma=function(){return new mI},n}(jg),mI=function(t){function n(){return t.call(this,"change")||this}return Et(n,t),n}(ka);Q(),Nt(),Q(),Nt(),St();var AI=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).eJ=function(t){xg(t)&&fa((function(){e.yo(t.ga)}))},e.iJ=n,e.J_=i;for(var u=0,s=e.J_;u<s.length;u++){var o=s[u];e.iJ.yn(o,e.eJ)}return e}return Et(n,t),n.prototype.gn=function(){this.Bo();for(var t=0,n=this.J_;t<n.length;t++){var i=n[t];this.iJ.fn(i,this.eJ)}},n}(Aa),pI=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).eJ=function(t){xg(t)&&fa((function(){r.yo(t.ga)}))},r.iJ=n,r.iJ.xy(r.eJ),r}return Et(n,t),n.prototype.gn=function(){this.Bo(),this.iJ.Py(this.eJ)},n}(_a);var _I=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yB=0,n.TB=1/0,n}Et(n,t);var i=n.prototype;return i.tr=function(){0===this.yB&&this.TB===1/0||(this.yB=0,this.TB=1/0,this.yo(new yI))},i.sJ=function(){return new GM([this.lB,this.dB],[!0,!0])},Ct(n,[{key:"lB",get:function(){return this.yB},set:function(t){if(this.dB<=t)throw new A("Start time of a clip should be smaller than the end time.");this.yB!==t&&(this.yB=t,this.yo(new yI))}},{key:"dB",get:function(){return this.TB},set:function(t){if(t<=this.lB)throw new A("End time of a clip should be larger than the start time.");this.TB!==t&&(this.TB=t,this.yo(new yI))}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get startTime(){return t.lB},set startTime(n){t.lB=n},get endTime(){return t.dB},set endTime(n){t.dB=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new pI(t,i),i}(this)),this.Za}}]),n}(_a);Q(),Nt(),An(),Zt(),St(),Tn();var kI=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).oJ=!1,e.gJ=void 0,e._J=!1,e.uJ=function(){e.aJ(),e.rJ()},e.xc=function(){e.cJ(),e.rJ(),e.fJ&&e.LE>=e.nJ.dB-n.vJ&&!e.OE&&(e.gJ=wD(e.xc))},e.lJ=function(){e._J=!0},e.dJ=function(){e._J&&(e._J=!1,e.rJ())},e.nJ=r,e.nJ.yn("cL",e.uJ),e.yE.yn(Ma.Eb,e.xc),e}Et(n,t);var i=n.prototype;return i.CE=function(n,i){var r=this.nJ.sJ().gP(n);t.prototype.CE.call(this,r,i),this.rJ()},i.RE=function(){return t.prototype.RE.call(this)||this.oJ},i.vk=function(){return GM.xn(t.prototype.vk.call(this)).Sn(this.nJ.sJ()).ks()},i.Pk=function(){this.RE()?this.CE(this.hJ.start(0)):this.aJ(),t.prototype.Pk.call(this),this.rJ()},i.ka=function(n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return ta(i),r.oJ=!1,r.nJ.tr(),[4,t.prototype.ka.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.gn=function(){return this.nJ.fn("cL",this.uJ),this.yE.fn(Ma.Eb,this.xc),this.cJ(),t.prototype.gn.call(this)},i.Gk=function(n){switch(n.type){case Ma.Mb:return this.yo(n),this.lJ(),!0;case Ma.bb:case Ma.Hy:return this.yo(n),this.dJ(),!0;case Ma.qy:if(this.fJ)return!0}return t.prototype.Gk.call(this,n)},i.cJ=function(){this.gJ&&(yD(this.gJ),this.gJ=void 0)},i.rJ=function(){var t=this.LE,i=this.fJ&&t>=this.nJ.dB-n.ed;this.oJ&&!i?(this.oJ=!1,this.KE&&this.Pk()):this.oJ||!i||this.wk||this._J||(this.oJ=!0,this.yo(new Lb(t)),this.Rk())},i.aJ=function(){if(this.ct!==1/0){var t=this.hJ,i=GM.xn(t).gP(this.LE);wr(this.LE,i,n.ed)||this.CE(i)}},Ct(n,[{key:"hJ",get:function(){return this.vk().length?this.vk():this.nJ.sJ().ks()}},{key:"fJ",get:function(){return this.nJ.dB<this.ct}}]),n}(lM);kI.vJ=1,kI.ed=.001,Q(),Nt(),Zt();var MI=function(){function t(){this.mJ=!1}return Ct(t,[{key:"wJ",get:function(){return this.mJ},set:function(t){this.mJ=t}}]),t}();Q(),Nt(),St();var bI=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).AJ=!1,r.pJ=!1,r.mJ=i,r}Et(n,t);var i=n.prototype;return i.RE=function(){return!this.mJ.wJ&&t.prototype.RE.call(this)},i.Rk=function(){this.pJ=!0,t.prototype.Rk.call(this)},i.Pk=function(){this.pJ=!1,t.prototype.Pk.call(this)},i.Gk=function(n){if(this.mJ.wJ)switch(n.type){case Ma.qy:return this.LE=0,this.pJ||(this.wk?this.AJ=!0:this.Pk()),!0;case Ma.bb:this.AJ&&(this.AJ=!1,this.Pk());break;case Ma.wb:if(this.AJ||t.prototype.RE.call(this))return!0}return t.prototype.Gk.call(this,n)},n}(lM);Q(),Nt(),Zt(),Q(),Nt();var TI=function(){function t(t){this.ta=t,this.Za=function(t){return{get currentBandwidthEstimate(){return t.Fz},get corruptedVideoFrames(){return t.Uz},get droppedVideoFrames(){return t.Bz},get totalVideoFrames(){return t.Qz},get totalBytesLoaded(){return t.Yz},get bufferedSegments(){return t.Vz}}}(this)}return Ct(t,[{key:"ga",get:function(){return this.Za}},{key:"Uz",get:function(){return this.ta.VE.Uz}},{key:"Fz",get:function(){return this.ta.VE.Fz}},{key:"Bz",get:function(){return this.ta.VE.Bz}},{key:"yJ",get:function(){throw new A("Not implemented")}},{key:"bJ",get:function(){throw new A("Not implemented")}},{key:"Yz",get:function(){return this.ta.VE.Yz}},{key:"Qz",get:function(){return this.ta.VE.Qz}},{key:"Vz",get:function(){return this.ta.VE.Vz}}]),t}();function NI(t){if(!t||!Oi(t))return{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Bz:n.droppedVideoFrames,Uz:n.corruptedVideoFrames||0,Qz:n.totalVideoFrames}}return{Bz:t.webkitDroppedFrameCount||0,Uz:0,Qz:t.webkitDecodedFrameCount||0}}Q(),Nt(),Zt(),St(),Q(),Nt(),St();var DI=function(t){function n(){return t.call(this,"MJ")||this}return Et(n,t),n.prototype.ma=function(){return new II},n}(jg),II=function(t){function n(){return t.call(this,"castingchange")||this}return Et(n,t),n}(ka);Q(),Nt();var EI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).SJ=void 0,n.NJ=void 0,n.jJ=!1,n.Za=void 0,n.xJ=function(){var t=n.jJ,i=n.TJ;t!==i&&(n.jJ=i,n.yo(new DI))},n}Et(n,t);var i=n.prototype;return i.EJ=function(t){this.SJ=t,this.kJ(t)},i.LJ=function(t){this.NJ=t,this.kJ(t)},i.kJ=function(t){t.yn("statechange",this.xJ)},i.CJ=function(t){t.fn("statechange",this.xJ)},i.gn=function(){this.Bo(),this.SJ&&(this.CJ(this.SJ),this.SJ=void 0),this.NJ&&(this.CJ(this.NJ),this.NJ=void 0)},Ct(n,[{key:"TJ",get:function(){var t,n;return(null==(t=this.SJ)?void 0:t.TJ)||(null==(n=this.NJ)?void 0:n.TJ)||!1}},{key:"IJ",get:function(){return this.SJ}},{key:"DJ",get:function(){return this.NJ}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get casting(){return t.TJ},get airplay(){var n;return null==(n=t.IJ)?void 0:n.ga},get chromecast(){var n;return null==(n=t.DJ)?void 0:n.ga},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new AI(t,["MJ"],i),i}(this)),this.Za}}]),n}(Aa);Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Tn(),tn();var SI=function(){function t(){}return t.OJ=function(t,n){return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new Sl({zu:t,oI:Gd.ON,xI:Tl.GET}),[4,n.hI(i)];case 1:return[4,r.sent().rI()];case 2:return[2,r.sent().trim()];case 3:return $o(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.RJ=function(t){try{var n=xN(t);return new UN(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new md(wd.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PJ=function(t){void 0===t&&(t=_N.lh),Kt.uA("The baked-in license is used. Please update the configuration with your license.");var n=t._H("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t._H(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t._H(n)})),e=Number(new Date(Number(t._H('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t._H(n)}));return new UN(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new UN(t.MH,t.TH,t.SH,864e13,t.IH,t.DH,Date.now(),t.kH,t.LH)},t}(),LI="https://validate.theoplayer.com/1/",CI=72e5,jI=k.floor(14399999*k.random()-CI),xI="THEOplayer.license",OI=function(){function t(t,n,i,r,e,u){this.OQ=t,this.GJ=n,this.qJ=i,this.AX=r,this.FJ=e,this.GM=u,this.ZH=KN(u)}var n=t.prototype;return n.UJ=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,t.QJ(t.FJ.license,t.FJ.licenseUrl)];case 1:return n=i.sent(),t.AX.YJ(n),[2]}}))}))()},n.QJ=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return r=n,t?e=SI.RJ(t):r||(e=SI.PJ()),r||(r=LI+e.MH),u=i.VJ(),e?(s=i.GJ.QH(e))!==BN.AH?[3,3]:i.WJ(e.NH)&&i.WJ(null==u?void 0:u.NH)?[4,i.ZJ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.GJ.QH(u)!==BN.AH?[3,6]:i.WJ(null==u?void 0:u.NH)?[4,i.ZJ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:hM.eM(xI),f.label=7;case 7:return[4,SI.OJ(r,i.OQ)];case 8:if(c=f.sent()){if(h=SI.RJ(c),i.GJ.QH(h)===BN.AH)return hM.tM(xI,c),[2,h];hM.eM(xI)}else if(!i.ZH&&e&&s===BN.yH&&r===LI+e.MH)return[2,SI.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new md(wd.LICENSE_ERROR,"The given license is invalid!");return i.HJ(null!=e?e:h,new md(wd.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.OH=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return[4,n.AX.pX()];case 1:return i=c.sent(),n.WJ(i.NH)?(e=null!=(r=n.FJ.licenseUrl)?r:LI+i.MH,[4,n.ZJ(e)]):[3,3];case 2:(u=c.sent())&&(n.AX.YJ(u),i=u),c.label=3;case 3:try{if((s=n.GJ.QH(i))===BN.bH)throw o=PN.xH,new md(GN(o),JN.BH(o));if(s===BN.yH)throw a=PN.yH,new md(GN(a),JN.BH(a));n.GJ.OH(t,i)}catch(t){n.XJ(t)}return[2]}}))}))()},n.UH=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.AX.pX()];case 1:i=r.sent();try{n.GJ.UH(t,i)}catch(t){n.XJ(t)}return[2]}}))}))()},n.ZJ=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,SI.OJ(t,n.OQ)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=SI.RJ(i),n.GJ.QH(r)===BN.AH?(hM.tM(xI,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.WJ=function(t){return!t||Number(new Date)+2592e5+jI>=t},n.VJ=function(){var t=hM.$b(xI);if(t)return SI.RJ(t)},n.HJ=function(t,n){this.AX.YJ(t),this.XJ(n)},n.XJ=function(t){throw he(t.message),this.qJ.MX(t.message),t},t}();Q(),Nt(),An(),Zt(),Tn();var zI=function(){function t(){this.JJ=new sh}var n=t.prototype;return n.YJ=function(t){this.KJ=t,this.JJ.sM()},n.pX=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.KJ?[2,st.resolve(t.KJ)]:[4,t.JJ.rM];case 1:return n.sent(),[2,t.KJ]}}))}))()},Ct(t,[{key:"$J",get:function(){return this.KJ}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),St();var RI=function(t){function n(){return t.call(this,"cL")||this}return Et(n,t),n.prototype.ma=function(){return new BI},n}(jg),BI=function(t){function n(){return t.call(this,"change")||this}return Et(n,t),n}(ka);function UI(t){var n,i={get fontFamily(){return t.t$},set fontFamily(n){t.t$=n},get fontColor(){return t.i$},set fontColor(n){t.i$=n},get fontSize(){return t.e$},set fontSize(n){t.e$=n},get backgroundColor(){return t.s$},set backgroundColor(n){t.s$=n},get windowColor(){return t.n$},set windowColor(n){t.n$=n},get edgeStyle(){return t.r$},set edgeStyle(n){t.r$=n},get marginTop(){return t.o$},set marginTop(n){t.o$=n},get marginBottom(){return t.h$},set marginBottom(n){t.h$=n},get marginLeft(){return t.a$},set marginLeft(n){t.a$=n},get marginRight(){return t.u$},set marginRight(n){t.u$=n},addEventListener:function(t,i){var r=ew(t,iw);n.yn(r,i)},removeEventListener:function(t,i){var r=ew(t,iw);n.fn(r,i)}};return n=new pa(i),t.yn(["cL"],(function(t){return n.yo(t.ga)})),i}Q(),Nt();var PI={t$:void 0,i$:void 0,e$:void 0,s$:void 0,n$:void 0,r$:void 0,o$:void 0,h$:void 0,a$:void 0,u$:void 0},QI="THEOplayer.textTrackStyle.",YI=function(t){function n(){var i;return(i=t.call(this)||this).Za=void 0,i.l$=n.f$(),i}return Et(n,t),n.prototype.Yn=function(t){this.l$=ys({},this.l$,t),n.d$(this.l$),this.yo(new RI)},n.f$=function(){var t=ys({},PI);return t.t$=hM.$b(QI+"fontFamily")||t.t$,t.i$=hM.$b(QI+"fontColor")||t.i$,t.e$=hM.$b(QI+"fontSize")||t.e$,t.s$=hM.$b(QI+"backgroundColor")||t.s$,t.n$=hM.$b(QI+"windowColor")||t.n$,t.r$=hM.$b(QI+"edgeStyle")||t.r$,t},n.d$=function(t){hM.tM(QI+"fontFamily",t.t$||""),hM.tM(QI+"fontColor",t.i$||""),hM.tM(QI+"fontSize",t.e$||""),hM.tM(QI+"backgroundColor",t.s$||""),hM.tM(QI+"windowColor",t.n$||""),hM.tM(QI+"edgeStyle",t.r$||"")},Ct(n,[{key:"c$",get:function(){return this.l$}},{key:"t$",get:function(){return this.l$.t$},set:function(t){this.Yn({t$:t})}},{key:"i$",get:function(){return this.l$.i$},set:function(t){this.Yn({i$:t})}},{key:"e$",get:function(){return this.l$.e$},set:function(t){this.Yn({e$:t})}},{key:"s$",get:function(){return this.l$.s$},set:function(t){this.Yn({s$:t})}},{key:"n$",get:function(){return this.l$.n$},set:function(t){this.Yn({n$:t})}},{key:"r$",get:function(){return this.l$.r$},set:function(t){this.Yn({r$:t})}},{key:"o$",get:function(){return this.l$.o$},set:function(t){this.Yn({o$:t})}},{key:"h$",get:function(){return this.l$.h$},set:function(t){this.Yn({h$:t})}},{key:"u$",get:function(){return this.l$.u$},set:function(t){this.Yn({u$:t})}},{key:"a$",get:function(){return this.l$.a$},set:function(t){this.Yn({a$:t})}},{key:"ga",get:function(){return this.Za||(this.Za=UI(this)),this.Za}}]),n}(Aa);function GI(t,n){var i,r;t.style.marginLeft=(null!=(i=n.a$)?i:0)+"px",t.style.marginRight=(null!=(r=n.u$)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}tn(),Q(),Nt(),An(),Zt(),gn(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var VI=[Ma.so,Ma.wb,zA.oP,Ma.Eb,Ma.mb,Ma.ub,Ma.Mb,Ma.bb,Ma.qy,Ma.pb,Ma.kb,Ma.Zy,zA.lL,Ma.yb,eA.ua,Ea.Xy,Ea.Fb,Ma.Vy,Ma.Yy,Ma.Lb,Ma.Cb,Ma.eb,Ma.ob,Ma.$y,Ma.Ky],FI={wz:!1};function WI(t){return t.md.YA===OA.FQ}Q(),Nt();var ZI=function(t){return t.g$="_$",t}({}),XI=["_$"],HI=function(t){return t[t.v$=0]="v$",t[t.jN=1]="jN",t[t.w$=2]="w$",t}({});Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Jt();var KI=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],JI=function(t){return t.m$="p$",t.A$="y$",t.b$="M$",t}({}),qI=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).R$=!1,u.P$=new sh,u.I$=!1,u.Go=new Nd,u.SS=void 0,u.L$=function(){u.I$=!0},u.x$=function(){u.O$(!0)},u.KS=n,u.cz=i,u.vN=i.gV,u.E$=r,u.KA=e,u.vN.addEventListener("loadedmetadata",u.L$);for(var s=0;s<KI.length;s++){var o=KI[s];u.vN.addEventListener(o,u.x$)}return u}Et(n,t);var i=n.prototype;return i.T$=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,i.KA.qA(t.VA,n)];case 1:return[4,e.sent().kS()];case 2:return r=e.sent(),[4,i.S$(r)];case 3:return e.sent(),[2,r]}}))}))()},i.N$=function(t){var n=this,i=this.SS;return i?0!==t.yV.length&&t.yV.some((function(t){return t.NS.VA===i.NS})):0!==this.KS.yV.length?t.yV.some((function(t){return n.KS.yV.some((function(n){return t.NS===n.NS}))})):0===t.yV.length||!this.I$},i.D$=function(t){return this.E$.D$(t),this.KS=t,st.resolve()},i.k$=function(t){this.E$.k$(t)},i.wy=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:for(t.Bo(),t.vN.removeEventListener("loadedmetadata",t.L$),n=0;n<KI.length;n++)i=KI[n],t.vN.removeEventListener(i,t.x$);return[4,t.Go.gn()];case 1:return r.sent(),t.C$(),[4,t.E$.tr()];case 2:return r.sent(),[4,t.j$(void 0)];case 3:return r.sent(),[2]}}))}))()},i.O$=function(t){t!==this.R$&&(this.R$=t,t?this.P$.sM(void 0):this.P$=new sh)},i.S$=function(t){var n=this;return this.Go.Wo((function(){return n.j$(t)}))},i.j$=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(t&&!n.vN.src&&!n.vN.srcObject)throw new ww(wd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.vN.src||n.vN.srcObject))throw new ww(wd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.R$?[3,2]:[4,n.P$.rM];case 1:r.sent(),r.label=2;case 2:return(i=n.SS)?[4,i.DS(n.vN)]:[3,4];case 3:r.sent(),n.SS=void 0,r.label=4;case 4:return t?[4,t.bn(n.vN)]:[3,6];case 5:r.sent(),n.SS=t,r.label=6;case 6:return[2]}}))}))()},i.ka=function(t){var n=this;return this.Go.Wo((function(){return n.z$(t)}))},i.z$=function(t){this.O$(!1);var n=this.cz.$E;if(gi(t))this.vN.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&t instanceof f.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Wt.Ka&&Wt.Jf>=17}(this.vN))try{this.vN.srcObject=t}catch(n){this.vN.src=URL.createObjectURL(t)}else this.vN.src=URL.createObjectURL(t);else $I(t)&&(this.vN.srcObject=t);this.cz.$E=n},i.B$=function(t){var n=this;return this.Go.Wo((function(){return n.U$(t)}))},i.U$=function(t){this.z$(t),this.vN.load()},i.C$=function(){this.O$(!1),zi(this.vN)},i.Q$=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.SS?[4,t.SS.tr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Ct(n,[{key:"md",get:function(){return this.KS}},{key:"gV",get:function(){return this.vN}}]),n}(Aa);function $I(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var tE=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.FK=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:switch((n=t.md).MV){case NM.KL:case NM.JL:t.vN.setAttribute("crossorigin",n.MV);break;case NM.EI:default:t.vN.removeAttribute("crossorigin")}return void 0!==n.ck?t.vN.preload=n.ck:t.vN.preload=oT.QY,void 0!==n.TV?t.vN.title=n.TV:Ci(t.vN),n.G$?[4,t.B$(n.G$)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.ka(n.WL)];case 3:i.sent(),i.label=4;case 4:return t.E$.$n(t,n),[2]}}))}))()},i.N$=function(t){return!1},i.D$=function(t){return st.resolve(void 0)},i.W$=function(t){return!1},i.Z$=function(){return!$I(this.KS.G$)},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return Ci(n.vN),[4,t.prototype.wy.call(n)];case 1:return i.sent(),[2]}}))}))()},n.H$=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.VN))},Ct(n,[{key:"TE",get:function(){return GM.xn(this.vN.buffered)}},{key:"ct",get:function(){return this.vN.duration}},{key:"F$",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.TE;return 0!==n.V&&t-n.jn(n.V-1)<Dr}},{key:"ck",get:function(){return this.vN.preload},set:function(t){this.vN.preload=t}},{key:"_k",get:function(){return GM.xn(this.vN.seekable)}},{key:"Y$",get:function(){return this.TE}},{key:"V$",get:function(){if(Oi(this.vN)&&(this.vN.videoWidth>0||this.vN.videoHeight>0))return this.TE}}]),n}(qI);Jt(),Q(),Nt(),St();var nE=function(t){function n(n){var i;return(i=t.call(this,Ma.mb)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var iE=function(t){function n(){return t.call(this,Ma.ub)||this}return Et(n,t),n}(ka);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St();var rE=function(t){return t.X$="q$",t}({}),eE=function(t){function n(n){var i;return(i=t.call(this,"q$")||this).K$=n,i}return Et(n,t),n}(ka),uE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).t0=GM.PP(),n}Et(n,t);var i=n.prototype;return i.i0=function(t,n){var i=new GM([t,n]);this.t0=this.t0.pP(i),this.yo(new eE(i))},i.e0=function(t,n){this.t0=this.t0.yP(new GM([t,n]))},i.tr=function(){this.t0=GM.PP()},i.gn=function(){this.Bo()},Ct(n,[{key:"J$",get:function(){return this.t0}}]),n}(Aa);function sE(t,n){return void 0===n&&(n=new tl({highWaterMark:1/0})),new Jd(new oE(t,n),{highWaterMark:0})}Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var oE=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.n_=[],this.r_=0,this.JJ=void 0,this.o0=!1,this.a0=void 0,this.u0=function(t){return t.done?(i.r0(),void i.JJ.close()):(i.n_.push(t.value),i.r_+=i.c0(t.value),i.o0&&i.r0(),i.s0()?i.Wg.read().then(i.u0):void 0)},this.yD=function(t){i.r0(),i.JJ.error(t)},this.Wg=t.getReader(),this.c0=e,this.h0=s}var n=t.prototype;return n.start=function(t){this.JJ=t,this.s0()&&this.n0()},n.pull=function(){this.n_.length>0?this.r0():this.o0=!0,this.s0()&&this.n0()},n.cancel=function(t){return Ro(this.n_),this.r_=0,this.o0=!1,this.Wg.cancel(t)},n.r0=function(){if(0!==this.n_.length){var t=this.n_;this.n_=[],this.r_=0,this.o0=!1,this.JJ.enqueue(t)}},n.s0=function(){return!!this.o0||this.h0-this.r_>0},n.n0=function(){var t=this;if(!this.a0){var n=this.Wg.read().then(this.u0).catch(this.yD);this.a0=n;var i=function(){t.a0===n&&(t.a0=void 0)};n.then(i,i)}},t}();sn(),Jt(),tn(),Q(),Nt(),Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt(),tn();var aE=function(){function t(){this.d0=[],this.Kb=0}var n=t.prototype;return n.l0=function(t){this.d0.push(t),this.Kb+=t.byteLength},n.f0=function(t){if(this.Kb<=t)return this.g0();for(var n=this.d0,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(Oc(n[r],0,u)),i+=u}return{d0:e,Kb:i}},n._0=function(t){var n=this.f0(t);return 1===n.d0.length?n.d0[0]:$c(n.d0,n.Kb)},n.g0=function(){return{d0:this.d0,Kb:this.Kb}},n.v0=function(t){if(this.Kb<=t)return this.w0();for(var n=this.d0,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(Oc(n[0],0,u)),n[0]=Oc(n[0],u),i+=u}return this.Kb-=i,{d0:e,Kb:i}},n.m0=function(t){var n=this.v0(t);return 1===n.d0.length?n.d0[0]:$c(n.d0,n.Kb)},n.w0=function(){var t=this.g0();return this.d0=[],this.Kb=0,t},n.p0=function(){var t=1===this.d0.length?this.d0[0]:$c(this.d0,this.Kb);return this.d0=[],this.Kb=0,t},t}(),cE=function(){function t(){this.n_=new aE,this.Ea=0,this.N0=0,this.O0=0,this.k0()}var n=t.prototype;return n.A0=function(t,n){},n.y0=function(){},n.b0=function(t){this.n_.l0(t),this.M0(!1)},n.T0=function(){this.M0(!0)},n.S0=function(){return 0!==this.Ea||0!==this.n_.Kb},n.M0=function(t){for(;0!==this.n_.Kb;){if(!t&&this.N0>this.n_.Kb)return;switch(this.Ea){case 0:this.I0(t);break;case 1:this.D0(t);break;case 2:this.E0(t)}}},n.k0=function(){this.Ea=0,this.N0=8},n.I0=function(t){var n=Rc(this.n_._0(this.N0)),i=new Vc,r=Im.sj(n,i);if(!r.JC)return this.N0=r.rj,void(t&&this.N0>this.n_.Kb&&this.L0(this.n_.Kb));var e=r.nj.YA,u=r.nj.Kb;0===u&&(u=1/0),this.A0(e,u),this.x0(e)?this.C0(u):this.L0(u)},n.C0=function(t){this.Ea=1,this.N0=t},n.D0=function(t){var n=Rc(this.n_.m0(this.N0)),i=new Vc,r=Im.$C(n,i,!t);if(!r.JC)throw new Dm(i.tc);this.y0(),this.j0(r.tj),this.k0()},n.L0=function(t){this.Ea=2,this.N0=0,this.O0=t},n.E0=function(t){var n=this.n_.v0(this.O0);this.O0-=n.Kb;for(var i=0,r=n.d0;i<r.length;i++){var e=r[i];this.R0(e)}(0===this.O0||t&&this.O0===1/0)&&(this.y0(),this.k0())},t}();function hE(t){return t instanceof av}function fE(t){return t instanceof sv}function vE(t){return t instanceof rv||t instanceof ev}function dE(t){return t instanceof Df}function lE(t){return t instanceof rf}function gE(t){return t instanceof Hf}function wE(t){return t instanceof Zf}function yE(t){return t instanceof pv}function mE(t){return t instanceof mv}function AE(t){return t instanceof lv}function pE(t){return t instanceof wv}function _E(t,n){var i=Do(t.boxes,AE);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof wv&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}Q(),Nt();var kE=function(t){function n(n){var i;return(i=t.call(this)||this).V0=ps(),i.X0=n,i}Et(n,t);var i=n.prototype;return i.start=function(t){this.JJ=t},i.transform=function(t){this.b0(t)},i.flush=function(){this.T0()},i.x0=function(t){return t===pm.kx||t===pm.mC||t===pm.DC},i.j0=function(t){var n=this.P0(t);this.JJ.enqueue(n)},i.R0=function(t){this.JJ.enqueue(t)},i.P0=function(t){var n=Bc(t.rI.rI);switch(t.YA){case"moov":return this.z0(n);case"sidx":return this.B0(n);case"moof":return this.U0(n)}return n},i.Y0=function(t){var n=this.V0.get(t);if(void 0===n)throw new A("Expected to have found a media header timescale for track ID "+t+".");return n},i.z0=function(t){for(var n=Bv(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof qf?n.boxes[i]=this.G0(r):r instanceof $f?n.boxes[i]=this.W0(r):r instanceof sv&&this.Z0(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof Hf&&this.H0(s)}return n.serialize().join()},i.G0=function(t){this.F0=t.timescale;var n=TE(fr.fromNumber(t.duration,!0),this.Q0,this.X0);return 0!==n.getHighBits()?this.W0(function(t){return new $f({creation:fr.fromNumber(t.creationTime,!0),modification:fr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:fr.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.X0,t.duration=n.toInt(),t)},i.W0=function(t){return this.F0=t.timescale,t.timescale=this.X0,t.duration=TE(t.duration,this.Q0,this.X0),t},i.Z0=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof rv?(n=r.trackId,t.boxes[i]=this.q0(r)):r instanceof ev?(n=r.trackId,t.boxes[i]=this.K0(r)):r instanceof Df?this.J0(r,n):r instanceof wf&&this.$0(r)}},i.q0=function(t){var n=TE(fr.fromNumber(t.duration,!0),this.Q0,this.X0);return 0!==n.getHighBits()?this.K0(function(t){return new ev({creation:fr.fromNumber(t.creationTime,!0),modification:fr.fromNumber(t.modificationTime,!0),duration:fr.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.K0=function(t){return t.duration=TE(t.duration,this.Q0,this.X0),t},i.J0=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Mf?t.boxes[i]=this.t1(r,n):r instanceof bf&&(t.boxes[i]=this.i1(r,n))}},i.t1=function(t,n){this.V0.set(n,t.timescale);var i=TE(fr.fromNumber(t.duration,!0),t.timescale,this.X0);return 0!==i.getHighBits()?this.i1(function(t){return new bf({creation:fr.fromNumber(t.creationTime,!0),modification:fr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:fr.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.X0,t.duration=i.toInt(),t)},i.i1=function(t,n){return this.V0.set(n,t.timescale),t.timescale=this.X0,t.duration=TE(t.duration,t.timescale,this.X0),t},i.$0=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof df?this.e1(r):r instanceof lf&&this.s1(r)}},i.e1=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=bE(r.mediaTime,this.Q0,this.X0),r.segmentDuration=bE(r.segmentDuration,this.Q0,this.X0)}},i.s1=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=TE(r.mediaTime,this.Q0,this.X0),r.segmentDuration=TE(r.segmentDuration,this.Q0,this.X0)}},i.H0=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Zf?this.n1(i):i instanceof Vf?t.boxes[n]=this.o1(i):i instanceof Ff&&(t.boxes[n]=this.a1(i))}},i.n1=function(t){var n=this.Y0(t.trackId);t.defaultSampleDuration=bE(t.defaultSampleDuration,n,this.X0)},i.o1=function(t){var n=TE(fr.fromNumber(t.fragmentDuration,!0),this.Q0,this.X0);return 0!==n.getHighBits()?this.a1(function(t){return new Ff(fr.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.a1=function(t){return t.fragmentDuration=TE(t.fragmentDuration,this.Q0,this.X0),t},i.B0=function(t){var n=Uv(t);return(n=n instanceof Nv?this.u1(n):this.c1(n)).serialize().join()},i.u1=function(t){var n=t.timescale,i=TE(fr.fromNumber(t.earliestPresentationTime,!0),n,this.X0);if(0!==i.getHighBits())return this.c1(function(t){return new Dv(t.referenceId,t.timescale,fr.fromNumber(t.earliestPresentationTime,!0),fr.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.X0,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=bE(u.subsegmentDuration,n,this.X0)}return t},i.c1=function(t){var n=t.timescale;t.timescale=this.X0,t.earliestPresentationTime=TE(t.earliestPresentationTime,n,this.X0);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=bE(e.subsegmentDuration,n,this.X0)}return t},i.U0=function(t){for(var n=Pv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof mv&&this.l1(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof mv&&_E(h,o)}return n.serialize().join()},i.l1=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof lv?(n=this.Y0(r.trackId),this.d1(r,n)):r instanceof fv?t.boxes[i]=this.g1(r,n):r instanceof vv?t.boxes[i]=this._1(r,n):r instanceof wv&&this.v1(r,n)}},i.d1=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=bE(t.defaultSampleDuration,n,this.X0))},i.g1=function(t,n){var i=TE(fr.fromNumber(t.baseMediaDecodeTime,!0),n,this.X0);return 0!==i.getHighBits()?this._1(function(t){return new vv(fr.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i._1=function(t,n){return t.baseMediaDecodeTime=TE(t.baseMediaDecodeTime,n,this.X0),t},i.v1=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=bE(r+=s.duration,n,this.X0);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=ME(s.compositionTimeOffset,n,this.X0))}},Ct(n,[{key:"Q0",get:function(){if(void 0===this.F0)throw new A("Expected to have found a movie header timescale.");return this.F0}}]),n}(cE);function ME(t,n,i){return fr.fromInt(t,!1).multiply(i).divide(n).toNumber()}function bE(t,n,i){return fr.fromInt(t,!0).multiply(i).divide(n).toNumber()}function TE(t,n,i){return My.tU(t).TU(My.iU(i,!0)).DU(My.iU(n,!0)).fU()}var NE=function(){function t(t){this.m1=new kE(t)}return t.prototype.w1=function(t){return t.pipeThrough(new $d(this.m1))},t}();Q(),Nt(),Q(),Nt();var DE=function(t){return t[t.A1=64]="A1",t[t.b1=103]="b1",t[t.M1=107]="M1",t}({});function IE(t,n,i){var r=ic(t,n);if(r!==i)throw new p("Expected descriptor with tag "+i+", but found "+r)}function EE(t,n){IE(t,n,3);var i,r,e,u=SE(t,n),s=n.tc+u,o=cc(t,n),a=ic(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=cc(t,n)),c)&&(r=wc(t,n,ic(t,n)));h&&(e=wc(t,n,2));var v=function(t,n){IE(t,n,4);var i,r=SE(t,n),e=n.tc+r,u=ic(t,n),s=ic(t,n),o=s>>2,a=0!=(2&s),c=oc(t,n,3),h=fc(t,n),f=fc(t,n);if(n.tc<e){var v=function(t,n){return t.getUint8(n.tc)}(t,n);5===v&&(i=function(t,n){IE(t,n,5);var i=SE(t,n),r=ec(t,n,i);return{T1:5,S1:r}}(t,n))}return n.Wb(e),{T1:4,N1:u,I1:o,D1:a,E1:c,L1:h,C1:f,j1:i}}(t,n);return n.Wb(s),{T1:3,o:o,O1:i,zu:r,R1:f,P1:e,z1:v}}function SE(t,n){for(var i=0,r=0;r<4;r++){var e=ic(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function LE(t,n){for(var i=ic(t,n),r=ic(t,n),e=ic(t,n),u=ic(t,n),s=3&ic(t,n),o=31&ic(t,n),a=[],c=0;c<o;c++){var h=cc(t,n);a.push(ec(t,n,h))}for(var f=ic(t,n),v=[],d=0;d<f;d++){var l=cc(t,n);v.push(ec(t,n,l))}return{B1:i,U1:r,Q1:e,F1:u,Y1:s,V1:a,G1:v}}function CE(t,n,i){if(!(i&&n.byte>=i)){var r=t.$b(n.byte);return n.byte+=1,r}}function jE(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+CE(t,n);return r}(t,n,2)}Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),Zt();var xE=function(){function t(){this.H1=0,this.Z1=[],this._Q={}}var n=t.prototype;return n.W1=function(t){this.Z1=this.Z1.concat(t.Z1),this.H1+=t.V},n.X1=function(t,n,i){var r=this.H1,e=i-n;e>0&&(this.Z1.push({q1:n,K1:i,J1:e,t2:r,i2:t}),this.H1+=e)},n.$b=function(t){for(var n=0,i=this.Z1;n<i.length;n++){var r=i[n];if(r.t2<=t&&t<r.t2+r.J1)return r.i2[t+r.q1-r.t2]}},n.e2=function(t,n){for(var i=n,r=0,e=this.Z1;r<e.length;r++)for(var u=e[r],s=u.K1,o=u.q1;o<s;o+=1,i+=1)t[i]=u.i2[o];return i},n.s2=function(){for(var t=new N(this.H1),n=0,i=0,r=this.Z1;i<r.length;i++)for(var e=r[i],u=e.K1,s=e.q1;s<u;s+=1,n+=1)t[n]=e.i2[s];return t},n.Zb=function(n){for(var i=new t,r=0,e=this.Z1;r<e.length;r++){var u=e[r];i.X1(u.i2,u.q1,u.K1)}return i._Q=n||ys({},this._Q),i},Ct(t,[{key:"V",get:function(){return this.H1},set:function(t){var n=this.Z1,i=this.H1-t;if(!(t>=this.H1))if(this.H1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.J1)return e.K1-=i,e.J1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.J1}else n.length=0}},{key:"rI",get:function(){for(var t=new Array(this.H1),n=0,i=0,r=this.Z1;i<r.length;i++)for(var e=r[i],u=e.K1,s=e.q1;s<u;s+=1,n+=1)t[n]=e.i2[s];return t}}]),t}();Q(),Nt();var OE=[128,64,32,16,8,4,2,1];function zE(t,n){var i=k.floor(n.bit/8),r=0==(t.$b(i)&OE[n.bit%8])?0:1;return n.bit+=1,r}function RE(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+zE(t,n);return r}function BE(t,n){for(var i=0;0===zE(t,n)&&i<32;)i+=1;return RE(t,n,i)+k.pow(2,i)-1}function UE(t,n){var i=BE(t,n);return 1&i?k.floor((i+1)/2):-k.floor(i/2)}function PE(t,n){var i,r=[],e={byte:1};do{r.push(YE(t,n,e)),i=n.$b(e.byte)}while(void 0!==i&&128!==i);return r}function QE(t,n){var i,r=0;do{r+=i=CE(t,n)}while(255===i);return r}function YE(t,n,i){var r=QE(n,i),e=QE(n,i),u=i.byte,s=u+e;return i.byte=s,{n2:t,o2:r,h2:e,a2:u,u2:s,c2:n}}var GE=function(t){return t[t.l2=1]="l2",t[t.d2=2]="d2",t[t.f2=3]="f2",t[t.g2=4]="g2",t[t._2=5]="_2",t[t.w2=6]="w2",t[t.m2=7]="m2",t[t.A2=8]="A2",t[t.b2=9]="b2",t}({}),VE=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function FE(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+UE(t,n)+256)%256;r=0===e?r:e}}var WE=function(){function t(t){this.T2=[],this.S2=0,this.N2=t}var n=t.prototype;return n.M2=function(){for(var t=this.T2,n=k.max(0,this.S2+t.length-2),i=this.N2,r=i.V,e=0;n<r;n+=1){var u=i.$b(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.S2=n-t.length},n.I2=function(t){for(var n=this.T2,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.$b=function(t){if(!(t>this.N2.V))return t>this.S2&&this.M2(),this.N2.$b(this.I2(t))},t}();function ZE(t){var n,i,r,e,u,s,o=new WE(t),a=0,c=0,h=0,f=0,v=o.$b(1),d={bit:32};if(BE(o,d),100===v||110===v||122===v||144===v){var l=BE(o,d);if(3===l&&(n=zE(o,d)),BE(o,d),BE(o,d),zE(o,d),1===zE(o,d))for(var g=0;g<(3!==l?8:12);g+=1){1===zE(o,d)&&FE(o,d,g<6?16:64)}}var w=BE(o,d),y=BE(o,d);if(0===y)BE(o,d);else if(1===y){zE(o,d),UE(o,d),UE(o,d);for(var m=BE(o,d),A=0;A<m;A+=1)UE(o,d)}BE(o,d),zE(o,d);var p=BE(o,d),_=BE(o,d),M=zE(o,d);if(0===M&&zE(o,d),zE(o,d),1===zE(o,d)&&(a=BE(o,d),c=BE(o,d),h=BE(o,d),f=BE(o,d)),1===zE(o,d)){if(1===zE(o,d)){var b=RE(o,d,8);if(255===b)i=RE(o,d,16),r=RE(o,d,16);else{var T=VE[b];T&&(i=T[0],r=T[1])}}if(1===zE(o,d)&&zE(o,d),1===zE(o,d))RE(o,d,3),zE(o,d),1===zE(o,d)&&(RE(o,d,8),RE(o,d,8),RE(o,d,8));1===zE(o,d)&&(BE(o,d),BE(o,d)),1===(e=zE(o,d))&&(u=RE(o,d,32),s=RE(o,d,32),zE(o,d))}return{width:k.floor(16*(p+1)-2*a-2*c),height:k.floor((2-M)*(_+1)*16-2*h-2*f),aR:i,uR:r,D2:e?s/(2*u):void 0,E2:n,L2:w}}function XE(t,n,i){void 0===i&&(i=1);var r=Nm(jm.dj(t),pm.mC);if(r&&0!==r.Z.length)return function(t,n,i){void 0===i&&(i=1);var r,e;e=void 0!==n?Do(t.Z,(function(t){return t.nj.Fj===n})):t.Z[0];var u=null==e||null==(r=e.MR)?void 0:r.MR;return u?Er(u,i):void 0}(r,n,i)}function HE(t){var n=Nm(jm.dj(t),pm.kx);if(n){for(var i=n.nj.xj,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.nj.Fj,a=s.zj.nj.xj,c=void 0,h=void 0,f=void 0,v=0,d=s.zj.Hj.Kj.$j.iO;v<d.length;v++){var l,g,w,y=KE(d[v]);if(y)c=null!=(l=y.C2)?l:c,h=null!=(g=y.j2)?g:h,f=null!=(w=y.O2)?w:f}r.push({Fj:o,xj:a,C2:c,j2:h,O2:f})}return{xj:i,Z:r}}}function KE(t){var n,i,r;if(t.YA===pm.Yx){var e,u=LE(Rc(t.OO.rI),new Vc);n=function(t){return"avc1."+JE(t.U1,2)+JE(t.Q1,2)+JE(t.F1,2)}(u),r=null==(e=function(t){if(0===t.V1.length)return;var n=t.V1[0],i=new xE;return i.X1(n,0,n.byteLength),ZE(i)}(u))?void 0:e.D2}else if(t.YA===pm.Gx||t.YA===pm.Wx){var s=function(t,n){for(var i=n.qb(),r=Ga(t,i,8),e=Ga(t,i,2),u=Ga(t,i,1),s=Ga(t,i,5),o=Ga(t,i,32),a=[],c=0;c<6;c++)a.push(Ga(t,i,8));var h=Ga(t,i,8);i.Gb(4);var f=Ga(t,i,12);i.Gb(6);var v=Ga(t,i,2);i.Gb(6);var d=Ga(t,i,2);i.Gb(5);var l=Ga(t,i,3);i.Gb(5);for(var g=Ga(t,i,3),w=Ga(t,i,16),y=Ga(t,i,2),m=Ga(t,i,3),A=Ga(t,i,1),p=Ga(t,i,2),_=Ga(t,i,8),k=[],M=0;M<_;M++){var b=Ga(t,i,1);i.Gb(1);for(var T=Ga(t,i,6),N=Ga(t,i,16),D=[],I=0;I<N;I++){var E=Ga(t,i,16),S=ec(t,new Vc(i.tc>>3),E);i.Gb(8*E),D.push({R2:E,P2:S})}k.push({z2:b,B2:T,U2:N,Q2:D})}return{B1:r,F2:e,Y2:u,V2:s,G2:a,W2:h,Z2:f,H2:v,X2:o,q2:d,K2:l,J2:g,t4:w,i4:m,e4:A,s4:y,Y1:p,n4:_,r4:k}}(Rc(t.BO.rI),new Vc);n=function(t,n){var i=t.toString()+".";switch(n.F2){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.V2.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.X2).toString(16)+".",n.Y2){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.W2.toString();for(var r=n.G2.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.G2[e].toString(16).toUpperCase();return i}(t.YA,s)}else if(t.YA===pm.eC||t.YA===pm.sC||t.YA===pm.nC||t.YA===pm.rC){var o=function(t,n){var i=n.qb(),r=Ga(t,i,8),e=Ga(t,i,8),u=Ga(t,i,7),s=Ga(t,i,6),o=Boolean(Ga(t,i,1)),a=Boolean(Ga(t,i,1)),c=Boolean(Ga(t,i,1)),h=Ga(t,i,4);return Ga(t,i,28),Ga(t,i,32),Ga(t,i,32),Ga(t,i,32),Ga(t,i,32),{o4:r,h4:e,a4:u,u4:s,c4:o,l4:a,d4:c,f4:h}}(Rc(t.JO.rI),new Vc);n=function(t,n){var i=t.toString(),r=uo(n.a4.toString(),2,"0"),e=uo(n.u4.toString(),2,"0");return i+"."+r+"."+e}(t.YA,o)}else if(t.YA===pm.Hx){var a=function(t,n){var i=n.qb(),r=Ga(t,i,8);i.Gb(24);for(var e=Ga(t,i,8),u=Ga(t,i,8),s=Ga(t,i,4),o=Ga(t,i,3),a=Ya(t,i),c=Ga(t,i,8),h=Ga(t,i,8),f=Ga(t,i,8),v=Ga(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Ga(t,i,8);return{B1:r,a4:e,u4:u,g4:s,_4:o,v4:a,nR:c,rR:h,oR:f,w4:v,m4:d}}(Rc(t.QO.rI),new Vc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.a4+".",i+=uo(""+n.u4,2,"0")+".",i+=uo(""+n.g4,2,"0")+".",i+=uo(""+n._4,2,"0")+".",i+=uo(""+n.nR,2,"0")+".",i+=uo(""+n.rR,2,"0")+".",i+=uo(""+n.oR,2,"0")+".",i+="0"+n.v4,i}(t.YA,a)}else if(t.YA===pm.qx){var c=function(t,n){var i=n.qb();i.Gb(1);var r=Ga(t,i,7),e=Ga(t,i,3),u=Ga(t,i,5),s=Ya(t,i),o=Ya(t,i),a=Ya(t,i),c=Ya(t,i),h=Ya(t,i),f=Ya(t,i),v=Ga(t,i,2);i.Gb(3);var d,l=Ya(t,i);return l?d=Ga(t,i,4):i.Gb(4),{cj:r,A4:e,y4:u,b4:s,M4:o,T4:a,S4:c,N4:h,I4:f,D4:v,E4:l,L4:d}}(Rc(t.VO.rI),new Vc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.A4+".",r+=""+uo(""+n.y4,2,"0"),r+=(0===n.b4?"M":"H")+".",r+=(1===n.T4?12:10)+".",r+=(1===n.A4?0:n.S4)+".",r+=""+n.N4+n.I4+(1===n.N4&&1===n.I4?n.D4:"0"),i&&i.sR===_m.ON_SCREEN_COLOURS){var e=i;r+="."+uo(""+e.nR,2,"0")+"."+uo(""+e.rR,2,"0")+"."+uo(""+e.oR,2,"0")+"."+(e.hR?1:0)}return r}(t.YA,c,t.GO)}else if(t.YA===pm.uC){i=function(t){var n=t.z1;switch(n.N1){case DE.A1:return function(t){var n;if(!(null==(n=t.j1)?void 0:n.S1))return"mp4a.40";var i=function(t,n){var i=Ga(t,n,5);31===i&&(i=32+Ga(t,n,6));var r,e=Ga(t,n,4);return 15===e&&(r=Ga(t,n,24)),{x4:i,C4:e,j4:r,O4:Ga(t,n,4)}}(Rc(t.j1.S1),new Va);return"mp4a.40."+i.x4}(n);case DE.b1:return"mp4a.40.2";case DE.M1:return"mp4a.40.34"}}(EE(Rc(t.IO.rI),new Vc))}else if(t.YA===pm.lC)i="fLaC";else{if(t.YA!==pm.oC)return(t.YA===pm.wC||t.YA===pm.vC)&&t.HO?KE(t.HO):void 0;i="ec-3"}return{C2:n,j2:i,O2:r}}function JE(t,n){var i=t.toString(16);return uo(i,n,"0")}function qE(t,n){var i=jm.dj(Rc(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.MR)?void 0:e.MR;if(s){var o=u.nj.Fj,a=Do(n.Z,(function(t){return t.Fj===o})),c=Iy.tU(s,a.xj);i&&!c.WB(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(Nm(i,pm.mC),n),e=Nm(i,pm.SC);return{lB:r.BB(),R4:e.rI}}function $E(t,n){return tS.apply(this,arguments)}function tS(){return tS=yn((function(t,n){var i;return pn(this,(function(r){switch(r.label){case 0:switch(t.YA){case HI.v$:return[3,1];case HI.jN:return[3,2];case HI.w$:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,el(t.rI,n)];case 3:return i=r.sent(),ta(n),[2,{YA:HI.v$,rI:new N(i)}];case 4:throw new A("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),tS.apply(this,arguments)}Q(),Nt(),Q(),Nt(),An(),Tn();var nS=Wt.qf,iS=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).WK=20,s.XK=30,s.P4=!1,s.r3=!1,s.m3=void 0,s.y3=new ca,s.Z4=!1,s.H4=void 0,s.V4=!1,s.G4=void 0,s.b3=function(){s.P4=!1},s.M3=function(t){t.removedRanges&&s.yo(new ka(ZI.g$))},s.a3=i,s.t3=n,s.z4=r,s.z4.addEventListener("updateend",s.b3),s.z4.addEventListener("bufferedchange",s.M3),s.g3=e,s.v3=u,s.V4=rS(e.VN,u),null==(o=i.md)?void 0:o.jp){var a,c=null!=(a=i.md.T3)?a:1e5;s.q4=new NE(c)}return s}Et(n,t);var i=n.prototype;return i.B4=function(t,n,i){var r=this;switch(t.YA){case HI.v$:case HI.jN:return this.U4((function(i){return r.Q4(t,n,i)}),i);case HI.w$:throw new A("Opaque segments are not supported on web.")}},i.F4=function(t,n){var i=this;switch(t.YA){case HI.v$:return this.U4((function(n){return i.Y4(t,n)}),n);case HI.jN:throw new A("Streaming initialization segments are not supported on web.");case HI.w$:throw new A("Opaque initialization segments are not supported on web.")}},i.Y4=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return i.V4?(i.G4=HE(Rc(t.rI)),[2]):[4,i.W4(t,void 0,n)];case 1:return r.sent(),nS&&(i.Z4=!1,i.H4=t),[2]}}))}))()},i.Q4=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return nS&&r.Z4&&r.H4?[4,r.Y4(r.H4,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),ta(i),r.V4&&r.G4?[4,$E(t,i)]:[3,4];case 3:e=o.sent(),u=qE(e.rI,r.G4),t={YA:HI.v$,rI:u.R4},n=ys({},n,{rQ:u.lB+(null!=(s=n.rQ)?s:0)}),o.label=4;case 4:return[4,r.W4(t,n,i)];case 5:return o.sent(),r.yo(new ka(ZI.g$)),[3,7];case 6:return t.YA===HI.jN&&t.rI.cancel(new qo).catch(qt),[7];case 7:return[2]}}))}))()},i.W4=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return ta(i),n?[4,r.X4(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.YA){case HI.v$:return[3,3];case HI.jN:return[3,7]}return[3,11];case 3:return r.q4?(e=r.q4.w1(nl(t.rI)),[4,r.K4(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.J4(t.rI)];case 6:return[2,s.sent()];case 7:return r.q4?(u=r.q4.w1(t.rI),[4,r.K4(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.K4(t.rI,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.K4=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:r=i.t3.TE,e=sE(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,ra(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(ta(n),a=qc(o.value),s=!0,[4,i.J4(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(qt),s?[4,i.i3()]:[3,11];case 7:v.sent(),h=i.t3.TE.Sn(r._P()),f=0,v.label=8;case 8:return f<h.V?[4,i.e3(h.Cn(f),h.jn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.s3=function(t,n){var i=this;return this.U4((function(){return i.n3(t,n)}))},i.n3=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return i.z4.appendWindowStart===t&&i.z4.appendWindowEnd===n?[3,2]:[4,i.i3()];case 1:r.sent(),i.z4.appendWindowStart=0,i.z4.appendWindowEnd=n,i.z4.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.X4=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:if(n.z4.timestampOffset===t.rQ)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.z4.timestampOffset=t.rQ,[3,4];case 2:return i.sent(),[4,n.i3()];case 3:return i.sent(),n.z4.timestampOffset=t.rQ,[3,4];case 4:return[2]}}))}))()},i.J4=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.z4.appendBuffer(t),n.r3=!0,[4,n.o3()];case 1:return i.sent(),[2]}}))}))()},i.h3=function(t,n,i){var r=this;return this.U4((function(i){return r.e3(t,n,i)}),i)},i.e3=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return ta(i),r.z4.remove(t,n),[4,r.o3()];case 1:return e.sent(),[2]}}))}))()},i.o3=function(){var t=this,n=this.t3.TE;return new st((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.IP(t.t3.TE)||t.yo(new ka(ZI.g$)),i()):r(new A(e))},f=function(){t.z4.removeEventListener("update",s),t.z4.removeEventListener("error",o),t.z4.removeEventListener("abort",a),t.z4.removeEventListener("updateend",h),t.a3.fn(JI.A$,c)};t.z4.addEventListener("update",s),t.z4.addEventListener("error",o),t.z4.addEventListener("abort",a),t.z4.addEventListener("updateend",h),Wt.Nf&&Wt.Df<3&&t.a3.yn(JI.A$,c)}))},i.u3=function(){var t=this;return this.U4((function(){return t.i3()}))},i.i3=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:if(t.a3.fk!==kS.KI)return[2];nS&&(t.Z4=!0),t.z4.updating&&(t.P4=!0);try{t.z4.abort()}catch(n){0,t.P4=!1}return t.ca?[4,t.o3().catch(qt)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.l3=function(){return"function"==typeof this.z4.changeType&&!Wt.Mf},i.D$=function(t){if(this.d3(),this.a3.fk!==kS.f3){var n;this.g3=t;var i=null!=(n=this.a3._3(t.VN))?n:t.VN;this.V4=rS(t.VN,this.v3),this.l3()&&!ro(this.v3,i)&&(this.v3=i,this.z4.changeType(this.v3))}},i.w3=function(){this.a3.fk!==kS.qy||this.m3||this.ca||(this.z4.timestampOffset=this.z4.timestampOffset,this.a3.A3())},i.U4=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:i.d3(),(r=new ca).Sy(i.y3.ly),n&&r.Sy(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.m3=t(r.ly),[4,i.m3];case 2:return e.sent(),i.a3.A3(),i.ca?[4,i.o3()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.m3=void 0,r.wy(),[7];case 6:return[2]}}))}))()},i.d3=function(){if(this.m3)throw new A("Internal error")},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.y3.Ty(),t.m3?[4,t.m3.catch(qt)]:[3,2];case 1:n.sent(),t.m3=void 0,n.label=2;case 2:return t.z4.removeEventListener("updateend",t.b3),t.z4.removeEventListener("bufferedchange",t.M3),[2]}}))}))()},Ct(n,[{key:"PK",get:function(){return this.WK},set:function(t){this.WK=t}},{key:"QK",get:function(){return this.XK},set:function(t){this.XK=t}},{key:"ca",get:function(){return this.P4||this.z4.updating}}]),n}(Aa);function rS(t,n){return no(t,"audio/mp4")&&no(n,"audio/mpeg")}Jt(),Q(),Nt(),Zt();var eS=function(){function t(t,n){this.N3=void 0,this.S3=n,this.z4=t}var n=t.prototype;return n.F$=function(){return!!this.N3&&this.TE.fP().gr(this.N3)},n.I3=function(){var t=this.TE;this.N3=t.V>0?t.jn(t.V-1):0,this.S3.D3()},n.w3=function(){this.N3=void 0},Ct(t,[{key:"TE",get:function(){if(this.S3.fk===kS.f3)return GM.PP();var t=GM.xn(this.z4.buffered).Sn(new GM([0,1/0])),n=this.N3;return void 0!==n&&t.V>0&&t.jn(t.V-1)===n&&(t=t.pP(GM.OP(n))),t}}]),t}();function uS(t){var n=t.CS("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function sS(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function oS(t,n){var i=aS(t)||cS(t),r=aS(n)||cS(n);return!i&&!r||t.split(".")[0]===n.split(".")[0]}function aS(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function cS(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function hS(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=En(i,3),s=u[1],o=u[2],a=En(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}function fS(t,n,i,r,e,u,s){var o=new eS(e,t),a=new iS(o,t,e,i,u);return new vS(t,n,i,r,o,a,s)}Q(),Nt(),Sn();var vS=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).z3=As(),a.a3=n,a.KS=r,a.WS=r.VN,a.L3=e,a.cz=i,a.t3=u,a.j3=s,a.C3=o,a.j3.yn(ZI.g$,a.Ds),a}Et(n,t);var i=n.prototype;return i.F$=function(){return this.t3.F$()},i.I3=function(){this.t3.I3()},i.w3=function(){this.t3.w3(),this.j3.w3()},i.O3=function(t,n){this.C3.i0(t,n)},i.R3=function(t,n){this.C3.e0(t,n)},i.P3=function(){return this.j3.u3()},i.B4=function(t,n,i){return this.j3.B4(t,n,i)},i.F4=function(t,n,i){return this.j3.F4(t,i)},i.s3=function(t,n){return Wt.Nf&&Wt.Df<3?this.j3.s3(t,1/0):this.j3.s3(t,n)},i.wS=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return r.R3(t,n),e=r.TE,[4,r.j3.h3(t,n,i)];case 1:return s.sent(),u=0!==e.V&&0===r.TE.V,(Wt.ag||Wt.kf)&&u&&r.cz.Wb(r.cz.LE),[2]}}))}))()},i.N$=function(t){var n=t.VN;if(this.WS===n)return!0;var i=this.z3.get(n);if(void 0!==i)return i;var r=this.B3(t);return this.z3.set(n,r),r},i.B3=function(t){var n=this.a3._3(t.VN);if(void 0===n)return!1;var i=Jv(this.WS),r=Jv(n),e=uS(i),u=uS(r);if(this.j3.l3()){if(!function(t,n){return Ho(t,n,oS)}(e,u))return!1;if(Wt.dg&&!function(t,n){return Ho(t,n,sS)}(e,u))return!1}else{if(i.YA!==r.YA)return!1;if(!function(t,n){return Ho(t,n,hS)}(e,u))return!1}return!0},i.D$=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){return i=t.VN,n.WS!==i&&(n.z3.clear(),n.j3.D$(t),n.WS=i),n.KS=t,n.a3.U3(),[2]}))}))()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:t.z3.clear(),t.Bo(),t.C3.gn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.j3.fn(ZI.g$,t.Ds),[4,t.j3.wy()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},Ct(n,[{key:"TE",get:function(){return this.t3.TE}},{key:"md",get:function(){return this.KS}},{key:"VN",get:function(){return this.WS}},{key:"E3",get:function(){return this.L3}},{key:"x3",get:function(){return this.C3.J$}},{key:"PK",get:function(){return this.j3.PK},set:function(t){this.j3.PK=t}},{key:"QK",get:function(){return this.j3.QK},set:function(t){this.j3.QK=t}},{key:"ca",get:function(){return this.j3.ca}}]),n}(Aa);Q(),Nt(),tn();var dS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Cn=t,this.jn=n,this.F3=i,this.Y3=r,this.V3=Kt.Og()}return t.prototype.Q3=function(){var t=this.Cn,n=this.jn;if(this.F3||this.Y3){var i=.001*(Kt.Og()-this.V3);this.F3&&(t+=i),this.Y3&&(n+=i)}return GM.RP(t,n)},t}();Jt(),Q(),Nt(),Zt(),sn(),tn(),Q(),Nt();var lS=.5,gS=[Ma.so,Ma.wb,Ma.Mb,Ma.bb,Ma.eb,Ma.ob,Ma.qy,Ma.pb,zA.lL,eA.ua],wS=function(){function t(t,n,i,r){var e=this;this.t3=t,this.X3=n,this.cz=i,this.t5=!1,this.W3=[],this.i5=0,this.h5=0,this._5=0,this.n5=0,this.l5=0,this.u5=0,this.v5=1,this.Z3=function(t){var n=e.cz.LE,i=t.K$.gr(n),r=t.K$.gr(n,lS)&&e.cz.fk<=UA.Iz;(i||r)&&e.W$(n)},this.q3=en((function(t){if(!e.t5)if(e.X3.fk<=UA.Iz){var n=e.cz.LE;e.W$(n)||e.c5()}else e.J3()}),100),this.Kl=en((function(t){e.a5()}),100),this.r5=function(t){t.currentTime!==e.n5&&e.J3()},this.K3=function(){e.d5()?0===e.u5&&(e.cz.yn(Ma.Eb,e.Kl),e.h5=Kt.Pg((function(){e.a5()}),3500)):e.H3()},this.c5=function(){var t=e._5,n=e.l5,i=e.cz.LE,r=Kt.Og(),u=e.t3.TE;if(t!==i)return e._5=i,e.l5=r,e.v5=1,void(e.w5=Kt.uE?2e3:1e3);if(e.d5()&&0!==u.V&&n>0&&r>n+e.w5){var s,o,a=e.J$.fP().yP(u),c=a.kP(i);if(-1!==c){var h=a.Cn(c);if(h-i<1){var f=a.jn(c);0,s=f}}if(!s)(s=null==(o=e.m5)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.v5,u.gr(s)||(s=e.g5(i,u)));0,e._5=s,e.v5++,e.w5=k.min(2*e.w5,1e4),e.s5(s)}},this.X3.yn(zA.lL,this.q3),this.cz.yn(Ma.mb,this.q3),this.cz.yn(gS,this.K3),this.m5=r,this.w5=Kt.uE?2e3:1e3}var n=t.prototype;return n.G3=function(t){this.W3.push(t),t.yn(rE.X$,this.Z3)},n.gn=function(){var t=this;this.H3(),this.X3.fn(zA.lL,this.q3),this.cz.fn(Ma.mb,this.q3),this.cz.fn(gS,this.K3),this.W3.forEach((function(n){return n.fn(rE.X$,t.Z3)})),this.J3(),this.t5=!0},n.W$=function(t){if(this.cz.OE)return!1;if(0!==this.i5)return!1;var n=this.t3.TE,i=n.bP(t);if(i>=0&&t+lS<n.jn(i))return!1;var r=i>=0?i+1:n.LP(t);if(r<0||r>=n.V)return!1;var e=n.Cn(r);return!(GM.RP(t,e).yP(this.J$).jP>1)&&(0!==t||this.cz.wk?Kt.hE?(this.e5(t,e,250),!0):!(k.abs(e-t)<=.001)&&(this.s5(e),!0):(this.e5(t,e,2e3),!0))},n.e5=function(t,n,i){var r=this;this.J3(),this.n5=t,this.cz.yn(Ma.Mb,this.r5),this.i5=Kt.Pg((function(){r.n5===r.cz.LE&&r.s5(n),r.J3()}),i)},n.J3=function(){0!==this.i5&&(this.cz.fn(Ma.Mb,this.r5),Kt.Rg(this.i5),this.i5=0)},n.s5=function(t){this.cz.Wb(t,!1,!0)},n.o5=function(){0!==this.h5&&(Kt.Rg(this.h5),this.h5=0),this.cz.fn(Ma.Eb,this.Kl)},n.a5=function(){this.t5||0===this.u5&&(this.o5(),this.u5=Kt.dA(this.c5,250))},n.H3=function(){0!==this.u5&&(Kt.fA(this.u5),this.u5=0),this.o5(),this.cz.wk||(this.l5=0)},n.d5=function(){return!this.cz.KE&&!this.cz.wk&&0!==this.cz.$E&&!this.cz.OE&&!this.cz.lt&&(this.f5()||this.X3.fk>=UA.Dz)},n.f5=function(){var t=this.cz.LE,n=this.t3.TE,i=n.bP(t);return-1!==i&&n.jn(i)>t+lS},n.g5=function(t,n){var i=n.bP(t);return i>-1?n.jn(i):t},Ct(t,[{key:"J$",get:function(){return this.W3.reduce((function(t,n){return t.pP(n.J$)}),GM.PP())}}]),t}();function yS(t){var n=[];if(t.p5&&n.push(t.p5.TE),t.A5&&n.push(t.A5.TE),0===n.length)return GM.PP();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.V>0&&(i=k.max(i,e.jn(e.V-1)))}for(var u=t.F$,s=new GM([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V>0&&(a=a.pP(new GM([a.jn(a.V-1),i],[!0,!0]))),s=s.Sn(a)}return s}function mS(t,n,i){var r,e=t.TE,u=e.bP(n);if(u>=0){if(!(u+1<e.V))return st.resolve();r=e.Cn(u+1)}else{if(!((u=e.LP(n))>=0))return st.resolve();r=e.Cn(u)}return t.wS(r,1/0,i)}function AS(t,n,i){if(!t.gr(n)){var r=t.bP(n,i);if(r>=0){var e=t.Cn(r);if(n<e)return e}}return n}Q(),Nt();var pS=Wt.zf||Wt.Uf,_S=Wt.Wf||Wt.qf||Wt.Ka,kS=function(t){return t.f3="closed",t.KI="open",t.qy="ended",t}({}),MS=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Kr(n.U5)),(a=t.call(this,n,i,e,u)||this).y5=void 0,a.x5=void 0,a.b5=void 0,a.C5=void 0,a.I5=new dS(0,1/0),a.M5=void 0,a.j5=!1,a.R5=function(){a.yo(new ka(JI.A$))},a.Q5=function(){a.yo(new ka(JI.b$))},a.P5=function(){a.O5()},a.M3=function(){a.cz.M3()},a.B5=s,a.vV=a.B5.Yp(),a.vV.addEventListener("sourceclose",a.R5),a.vV.addEventListener("sourceopen",a.Q5),a.cz.yn([Ma.Mb,Ma.eb],a.P5),a.L5=new wS(a,r,a.cz,o),a}Et(n,t);var i=n.prototype;return i.T5=function(t){if(T(t)||t<0)throw new A("Invalid duration");this.S5()?this.N5(t):this.M5=t},i.N5=function(t){var n=t===1/0;if(n&&this.vV.setLiveSeekableRange){var i=k.pow(2,39);this.vV.setLiveSeekableRange(0,i)}this.vV.duration=n?_S?1/0:dr:t,this.M5=void 0},i.D5=function(t,n,i,r){this.I5=new dS(t,n,!!i,!!r)},i.FK=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:return n=t.KS,i=Do(n.E5,(function(t){return no(t.VN,"audio")})),r=Do(n.E5,(function(t){return no(t.VN,"video")})),t.vN.disableRemotePlayback=!0,[4,t.k5()];case 1:return h.sent(),i&&(e=new uE,t.L5.G3(e),s=null!=(u=t._3(i.VN))?u:i.VN,t.x5=t.vV.addSourceBuffer(s),t.y5=fS(t,t.cz,i,lw.SI,t.x5,s,e),t.y5.yn(ZI.g$,t.M3)),r&&(o=new uE,t.L5.G3(o),c=null!=(a=t._3(r.VN))?a:r.VN,t.C5=t.vV.addSourceBuffer(c),t.b5=fS(t,t.cz,r,lw.NI,t.C5,c,o),t.b5.yn(ZI.g$,t.M3)),t.E$.$n(t,n),[2]}}))}))()},i.k5=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.B$.call(n,n.vV)];case 1:return i.sent(),"open"===n.fk?[3,3]:[4,lg(n.vV,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.S5=function(){if("open"!==this.fk)return!1;var t=this.y5&&this.y5.ca,n=this.b5&&this.b5.ca;return!(t||n)},i.I3=function(){this.j5=!0,this.y5&&this.y5.I3(),this.b5&&this.b5.I3(),this.j5=!1,this.O5()},i.w3=function(){this.y5&&this.y5.w3(),this.b5&&this.b5.w3()},i.N$=function(n){var i=Do(n.E5,(function(t){return no(t.VN,"audio")})),r=Do(n.E5,(function(t){return no(t.VN,"video")}));if(this.y5){if(!i)return!1;if(!this.y5.N$(i))return!1}else if(i)return!1;if(this.b5){if(!r)return!1;if(!this.b5.N$(r))return!1}else if(r)return!1;return!!t.prototype.N$.call(this,n)},i.D$=function(n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return r=Do(n.E5,(function(t){return no(t.VN,"audio")})),e=Do(n.E5,(function(t){return no(t.VN,"video")})),u=[],i.y5&&u.push(i.y5.D$(r)),i.b5&&u.push(i.b5.D$(e)),[4,st.all(u)];case 1:return s.sent(),[4,t.prototype.D$.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.k$=function(n){t.prototype.k$.call(this,n)},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.vV.removeEventListener("sourceclose",n.R5),Wt.kf?[4,n.Q$()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.y5?[4,n.y5.wy()]:[3,4];case 3:if(i.sent(),n.y5=void 0,go()&&(Wt.kf||Wt.Nf))try{n.vV.removeSourceBuffer(n.x5)}catch(t){}n.x5=void 0,i.label=4;case 4:return n.b5?[4,n.b5.wy()]:[3,6];case 5:if(i.sent(),n.b5=void 0,go()&&(Wt.kf||Wt.Nf))try{n.vV.removeSourceBuffer(n.C5)}catch(t){}n.C5=void 0,i.label=6;case 6:return n.vN.src&&URL.revokeObjectURL(n.vN.src),n.vN.disableRemotePlayback=!1,n.cz.fn([Ma.Mb,Ma.eb],n.P5),n.L5.gn(),Wt.Nf?[4,n.Q$()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.wy.call(n)];case 9:return i.sent(),[2]}}))}))()},i.U3=function(){var t=this,n=this.KS,i=n.E5.map((function(n){return no(n.VN,"audio")&&t.y5?t.y5.md:no(n.VN,"video")&&t.b5?t.b5.md:n}));this.KS=ys({},n,{E5:i})},i.D3=function(){this.j5||this.O5()},i.O5=function(){this.z5&&this.S5()&&(this.vV.endOfStream(),this.M5=void 0,this.yo(new ka(JI.m$)),this.cz.M3())},i.A3=function(){this.S5()&&(this.F$?this.O5():void 0!==this.M5&&this.N5(this.M5))},i.W$=function(t){return this.L5.W$(t)},i.Z$=function(){return!0},i._3=function(t){return bS(this.B5,t)},n.H$=function(t){var n=Jr(t.U5);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Kr(t.U5),r=0,e=t.E5;r<e.length;r++){if(void 0===bS(i,e[r].VN))return!1}return!0},Ct(n,[{key:"p5",get:function(){return this.y5}},{key:"A5",get:function(){return this.b5}},{key:"ct",get:function(){if(this.M5)return this.M5;var t=this.vV.duration;return t===dr?1/0:t}},{key:"TE",get:function(){return pS?yS(this):function(t,n){var i=n;return i.V>0&&t.F$&&(i=i.pP(GM.OP(i.jn(i.V-1)))),i}(this,GM.xn(this.vN.buffered))}},{key:"Y$",get:function(){var t;return null==(t=this.y5)?void 0:t.TE}},{key:"V$",get:function(){var t;return null==(t=this.b5)?void 0:t.TE}},{key:"_k",get:function(){return this.I5.Q3().Sn(new GM([0,this.ct],[!0,!0]))}},{key:"F$",get:function(){return(!this.y5||this.y5.F$())&&(!this.b5||this.b5.F$())}},{key:"fk",get:function(){return this.vV.readyState}},{key:"z5",get:function(){if(!this.F$)return!1;var t=this.TE;return 0!==t.V&&t.Cn(t.V-1)<=this.cz.LE}}]),n}(qI);function bS(t,n){var i=Jv(n),r=uS(i),e="audio/mp4"===i.YA,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.Gp(n)&&(!u||!Wt.qf))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.Gp(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.Gp(n))return f}}Q(),Nt(),Zt(),St(),sn(),Q(),Nt(),St();var TS=function(t){function n(n){var i;return(i=t.call(this,Ma.eb)||this).currentTime=n,i}return Et(n,t),n}(ka),NS=[Ma.kb,Ma.pb,Ma.Mb,Ma.eb,Ma.so,Ma.wb],DS=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).EG=n,v.JM=i,v.W5=r,v.CG=e,v.kG=u,v.xG=s,v.jG=o,v.cT=a,v.Z5=c,v.Y5=h,v.G5=f,v}Et(n,t);var i=n.prototype;return i.Wb=function(t,n,i){this.EG!==t&&(this.EG=t,this.Y5=n,i&&!this.kG?(this.G5=!0,this.yo(new TS(this.LE))):(this.G5=!1,this.kG=!0,this.yo(new Cb(this.LE))))},i.Rk=function(){this.CG||(this.CG=!0,this.yo(new Db(this.LE)))},i.Pk=function(){this.CG&&(this.CG=!1,this.yo(new Ib(this.LE)))},i.wy=function(){this.Bo()},Ct(n,[{key:"LE",get:function(){return this.EG}},{key:"F5",get:function(){return this.Y5}},{key:"V5",get:function(){return this.G5}},{key:"ct",get:function(){return this.JM}},{key:"OE",get:function(){return this.W5}},{key:"KE",get:function(){return this.CG}},{key:"fk",get:function(){return this.Z5}},{key:"wk",get:function(){return this.kG}},{key:"WE",get:function(){return this.xG},set:function(t){this.WE!==t&&(this.xG=t,this.yo(new xb(this.LE,this.Nk)))}},{key:"$E",get:function(){return this.jG},set:function(t){this.$E!==t&&(this.jG=t,this.yo(new Sb(this.LE,this.$E)))}},{key:"Nk",get:function(){return this.cT},set:function(t){this.Nk!==t&&(this.cT=t,this.yo(new xb(this.LE,this.Nk)))}}]),n}(Aa);function IS(t){return new DS(t.LE,t.ct,t.OE,t.KE,t.wk,t.WE,t.$E,t.Nk,t.fk,!1,t.V5)}function ES(t,n){n.ct===t.ct||T(n.ct)&&T(t.ct)||t.yo(new Eb(t.ct)),t.WE=n.WE,t.Nk=n.Nk,t.$E=n.$E,n.KE?t.Rk():t.Pk().catch(qt),n.LE!==t.LE||n.fk>UA.Nz&&t.fk===UA.Nz?t.Wb(n.LE,n.F5,n.V5):!n.wk&&t.wk?t.yo(new Cb(t.LE)):n.wk&&!t.wk&&t.fk>=UA.Iz&&t.yo(new jb(t.LE)),!n.OE&&t.OE&&t.yo(new Lb(t.LE))}Q(),Nt(),St(),Q(),Nt(),Zt(),St();var SS=function(t){function n(n){var i;return(i=t.call(this)||this).qQ=UA.Nz,i.q5=function(){i.X5()},i.cz=n,i}Et(n,t);var i=n.prototype;return i.H5=function(t){this.qQ!==t&&(this.qQ=t,this.yo(new BA(this.cz.LE,t)))},i.X5=function(){this.H5(this.gk())},i.tr=function(){this.H5(UA.Nz)},i.wy=function(){this.Bo()},Ct(n,[{key:"fk",get:function(){return this.gk()}}]),n}(Aa);Q(),Nt(),St();var LS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],CS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<LS.length;r++){var e=LS[r];i.cz.gV.addEventListener(e,i.q5)}return i}Et(n,t);var i=n.prototype;return i.gk=function(){var t=this.cz.gV.readyState;return t>UA.Iz&&this.cz.K5?UA.Iz:(this.cz.gV.seeking&&t>UA.Xn&&(t=UA.Xn),t)},i.wy=function(){for(var n=0;n<LS.length;n++){var i=LS[n];this.cz.gV.removeEventListener(i,this.q5)}t.prototype.wy.call(this)},n}(SS);Q(),Nt();var jS=function(t){function n(n){var i;(i=t.call(this,n)||this).cz.yn([Ma.Mb,Ma.eb],i.q5);for(var r=0;r<LS.length;r++){var e=LS[r];i.cz.gV.addEventListener(e,i.q5)}return i}Et(n,t);var i=n.prototype;return i.gk=function(){if(this.cz.gV.readyState===UA.Nz)return UA.Nz;var t=this.J5(),n=t?t.jn-t.Cn:0;if(!t)return UA.Xn;var i=this.cz.$E;return this.t6()||n>=3*i?UA.Ez:n>=3?UA.Dz:UA.Iz},i.J5=function(){var t=this.cz.LE,n=this.cz.TE.mP(.04),i=n.bP(t);if(!(i<0))return{Cn:t,jn:n.jn(i)}},i.t6=function(){if(this.cz.OE)return!0;var t=this.cz.ct,n=this.J5();return!!n&&t-n.jn<=.16666666666666666},i.wy=function(){this.cz.fn([Ma.Mb,Ma.eb],this.q5);for(var n=0;n<LS.length;n++){var i=LS[n];this.cz.gV.removeEventListener(i,this.q5)}t.prototype.wy.call(this)},n}(SS);sn(),Q(),Nt(),St(),Q(),Nt(),St();var xS=[zA.lL,Ma.so,Ma.wb,Ma.Mb,Ma.bb,Ma.eb,Ma.ob,Ma.qy,eA.ua],OS=function(t){function n(n){var i;return(i=t.call(this)||this).n6=!1,i.Rq=function(){i.Yn()},i.GQ=n,i.GQ.yn(xS,i.Rq),i}Et(n,t);var i=n.prototype;return i.i6=function(){return(!this.GQ.V5||!this.GQ.e6)&&this.GQ.fk<UA.Dz},i.s6=function(){return!this.GQ.wk&&!(this.GQ.KE||this.GQ.OE||this.GQ.lt||this.i6())},i.Yn=function(){var t=this.n6;this.n6=this.s6(),!t&&this.n6&&this.yo(new FA(this.GQ.LE))},i.tr=function(){this.n6=!1},i.wy=function(){this.Bo(),this.GQ.fn(xS,this.Rq)},n}(Aa),zS=function(t){function n(n){var i;return(i=t.call(this,n)||this).r6=!1,i.eF=function(){i.r6=!0,i.Yn()},i.vN=n.gV,i.vN.addEventListener(zA.oP,i.eF),i}Et(n,t);var i=n.prototype;return i.s6=function(){return this.r6&&t.prototype.s6.call(this)},i.Yn=function(){this.r6&&(this.vN.paused||this.vN.ended||this.vN.error)&&(this.r6=!1),t.prototype.Yn.call(this)},i.tr=function(){t.prototype.tr.call(this),this.r6=!1},i.wy=function(){this.vN.removeEventListener(zA.oP,this.eF),t.prototype.wy.call(this)},n}(OS);Q(),Nt(),St();var RS=function(t){function n(n){var i;return(i=t.call(this,eA.ua)||this).lt=n,i}return Et(n,t),n}(ka);function BS(t,n){return t.lB<=n&&t.dB>n}function US(t,n){return function(t,n){return bo(t.lB,n.lB,uy)}(t,n)||function(t,n){return bo(t.dB,n.dB,uy)}(t,n)}function PS(t,n){return function(t,n){return bo(t.pB,n.pB,uy)}(t,n)||function(t,n){return bo(t.AB,n.AB,uy)}(t,n)}function QS(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,$t,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===_o.Zr;r++)if(t[r].DB(n))return r;return-(r+1)}function YS(t,n,i){var r=QS(t,n,i);return r>=0?r:-(r+1)}function GS(t){var n=t.Ht;if(!n)return-1;if(t instanceof oy)return n.o6(t);var i=n.L;if(!i)return-1;var r=QS(i.AL,t,US);return r>=0?r:-1}function VS(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{h6:o,a6:a}}(t,n,US);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt(),sn(),Q(),Nt(),Zt();var FS=function(){function t(t){this.Za=void 0,this.u6=t}var n=t.prototype;return n.ma=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.$b(i).ga;return n.item=function(n){var i=0|n,r=t.$b(i);return r&&r.ga||void 0},_.defineProperty(n,"constructor",{value:$w}),n}(this)},n.Jz=function(t){for(var n=this.u6,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.DB(r))return!0}return!1},n.$b=function(t){return this.u6[t]},Ct(t,[{key:"AL",get:function(){return this.u6}},{key:"V",get:function(){return this.u6.length}},{key:"ga",get:function(){if(this.Za){var t=this.u6;this.Za.length=t.length;for(var n=0;n<t.length;n++)this.Za[n]=t[n].ga}else this.Za=this.ma();return this.Za}}]),t}();Q(),Nt(),St();var WS=function(t){function n(n,i){var r;return(r=t.call(this,Yg.lL)||this).Ht=n,r.fk=i,r}return Et(n,t),n.prototype.ma=function(){return new ZS(this.Ht.ga,this.fk)},n}(Og),ZS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return Et(n,t),n}(zg);Q(),Nt(),St();var XS=function(t){function n(n){var i;return(i=t.call(this,Yg.fL)||this).Ht=n,i}return Et(n,t),n.prototype.ma=function(){return new HS(this.Ht.ga)},n}(Og),HS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return Et(n,t),n}(zg);Q(),Nt(),St();var KS=function(t){function n(n){var i;return(i=t.call(this,Yg.Jk)||this).uB=n,i}return Et(n,t),n.prototype.ma=function(){return new JS(this.uB.ga)},n}(Og),JS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return Et(n,t),n}(zg);Q(),Nt(),St();var qS=function(t){function n(n){var i;return(i=t.call(this,Yg.tL)||this).uB=n,i}return Et(n,t),n.prototype.ma=function(){return new $S(this.uB.ga)},n}(Og),$S=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return Et(n,t),n}(zg);tn();var tL=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).iB=Sw(),h.zv=!1,h.zo=iA.Ch,h.Z5=Qw.NONE,h.A6=void 0,h.u6=[],h.y6=[],h.m6=[],h.N6=0,h.p6=0,h.aS=i||"",h.g6=a||"",h._6=n,h.$M=e||"",h.zv=Boolean(u),h.f6=Boolean(o),h.Zp=s||Yw.DEFAULT,h.eB=r||"",h.v6=c||[],h.l6=new FS(h.u6),h.c6=new FS(h.m6),h}Et(n,t);var i=n.prototype;return i.d6=function(t){return Do(this.l6.AL,(function(n){return n.o===t}))},i.ma=function(){return sA(this)},i.w6=function(t){var n=rA(t);n!==this.UI&&(this.zo=n,n===iA.Ch&&(this.m6.forEach((function(t){t.Yh=!1})),Ro(this.m6),this.p6=0),this.yo(new Tw(this)))},i.RQ=function(t){if(t&&!t.Ht){var n=QS(this.y6,t,PS);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.y6.splice(i,0,t);var r=YS(this.L.AL,t,US);this.b6(t,r),this.yo(new KS(t))}}},i.b6=function(t,n){this.u6.splice(n,0,t),this.M6(n),t.LB=n,n<this.p6&&(this.p6=n)},i.SQ=function(t){if(t&&t.Ht===this){var n=this.o6(t);if(!(n<0)){t.Yh=!1;var i=this.m6,r=QS(i,t,US);r>=0&&jo(i,r);var e=QS(this.y6,t,PS);e>=0&&jo(this.y6,e),this.T6(t,n),this.yo(new qS(t))}}},i.T6=function(t,n){jo(this.u6,n),this.M6(n),t.LB=-1,this.p6>n&&--this.p6},i.MB=function(t){if(t&&t.Ht===this){var n=this.o6(t);if(!(n<0)){this.T6(t,n);var i=YS(this.L.AL,t,US);this.b6(t,i);var r=So(this.m6,(function(n){return n===t}));if(r>=0){jo(this.m6,r);var e=YS(this.m6,t,US);this.m6.splice(e,0,t)}}}},i.S6=function(t,n){var i=this.m6,r=this.u6,e=this.p6,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];BS(a,t)?a.dB<s&&(s=a.dB):(u=!0,jo(i,o))}for(;e<r.length&&r[e].lB<=t;){var c=r[e];BS(c,t)&&(Oo(i,c)||(u=!0,i.push(c)),c.dB<s&&(s=c.dB)),e++}return e<r.length&&r[e].lB<s&&(s=r[e].lB),u&&mo(i,US),this.p6=e,s},i.o6=function(t){return(-1===t.LB||t.LB>=this.N6)&&this.I6(),t.LB},i.I6=function(){for(var t=this.u6,n=this.N6;n<t.length;n++)t[n].LB=n;this.N6=t.length},i.M6=function(t){t<this.N6&&(this.N6=k.max(t,0))},i.VL=function(t){this.GL||(this.UI=t)},i.gn=function(){this.Bo();for(var t=this.u6.slice(),n=0;n<t.length;n++){t[n].gn()}Ro(this.u6),Ro(this.y6),Ro(this.m6)},Ct(n,[{key:"q",get:function(){return this.c6}},{key:"L",get:function(){return this.l6}},{key:"UQ",get:function(){return this.zv},set:function(t){this.zv=t}},{key:"GL",get:function(){return this.f6}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"o",get:function(){return this.aS}},{key:"zL",get:function(){return this.iB}},{key:"YL",get:function(){return this.g6},set:function(t){this.g6=t}},{key:"Lt",get:function(){return this._6}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"gs",get:function(){return this.$M}},{key:"BL",get:function(){return this.v6}},{key:"UI",get:function(){return this.zo},set:function(t){this.w6(t)}},{key:"fk",get:function(){return this.Z5},set:function(t){this.Z5!==t&&(this.Z5=t,this.yo(new WS(this,this.Z5)))}},{key:"WL",get:function(){return this.A6},set:function(t){this.A6=t}},{key:"YA",get:function(){return this.Zp},set:function(t){this.Zp!==t&&(this.Zp=t,this.yo(new XS(this)))}}]),n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),St();var nL=function(t){function n(n,i){var r;return(r=t.call(this,Hw.kz,n)||this).kU=i,r}return Et(n,t),n.prototype.ma=function(){return new iL(this.uB.ga)},n}(Kw),iL=function(t){function n(n){return t.call(this,"enter",n)||this}return Et(n,t),n}(Jw);Q(),Nt(),St();var rL=function(t){function n(n,i){var r;return(r=t.call(this,Hw.Lz,n)||this).kU=i,r}return Et(n,t),n.prototype.ma=function(){return new eL(this.uB.ga)},n}(Kw),eL=function(t){function n(n){return t.call(this,"exit",n)||this}return Et(n,t),n}(Jw);Q(),Nt(),St();var uL=function(t){function n(n){var i;return(i=t.call(this,Yg.nL)||this).uB=n,i}return Et(n,t),n.prototype.ma=function(){return new sL(this.uB.ga)},n}(Og),sL=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return Et(n,t),n}(zg);Q(),Nt(),St();var oL=function(t){function n(n){var i;return(i=t.call(this,Yg.oL)||this).uB=n,i}return Et(n,t),n.prototype.ma=function(){return new aL(this.uB.ga)},n}(Og),aL=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return Et(n,t),n}(zg),cL=function(t){function n(n){var i;return(i=t.call(this)||this).SB=void 0,i.bB=void 0,i.Za=void 0,i.Kh=!1,i.E6=function(){i.Yh=!0},i.k6=function(){i.Yh=!1},i.iB=Ow(),i.D6=n,i.pB=n.startTime,i.AB=n.endTime,i.D6.addEventListener("enter",i.E6),i.D6.addEventListener("exit",i.k6),i}Et(n,t);var i=n.prototype;return i.ma=function(){return qw(this)},i.DB=function(t){return this===t||Hg(this,t)&&sy(this,t)&&this.EB(t)},i.EB=function(t){return Xg(this.U,t.U)},i.gn=function(){this.Bo(),this.D6.removeEventListener("enter",this.E6),this.D6.removeEventListener("exit",this.k6)},Ct(n,[{key:"zL",get:function(){return this.iB}},{key:"lB",get:function(){return this.D6.startTime},set:function(t){this.D6.startTime=t}},{key:"dB",get:function(){return this.D6.endTime},set:function(t){this.D6.endTime=t}},{key:"U",get:function(){return this.SB},set:function(t){this.SB=t}},{key:"NB",get:function(){return!!this.D6.pauseOnExit},set:function(t){this.D6.pauseOnExit=!!t}},{key:"Ht",get:function(){return this.bB},set:function(t){this.bB=t}},{key:"o",get:function(){return this.D6.id||""}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"Yh",get:function(){return this.Kh},set:function(t){this.Yh!==t&&(this.Kh=t,t?(this.yo(new nL(this,this.lB)),this.bB&&this.bB.yo(new uL(this))):(this.yo(new rL(this,this.dB)),this.bB&&this.bB.yo(new oL(this))))}}]),n}(_a);Q(),Nt(),St();var hL=function(t){function n(n){var i;return(i=t.call(this,Yg.aL)||this).Ht=n,i}return Et(n,t),n.prototype.ma=function(){return new fL(this.Ht.ga)},n}(Og),fL=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return Et(n,t),n}(zg);function vL(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new dL(t),t.THEOplayerVTTRegion=n),n}}Q(),Nt(),Zt(),St(),Q(),Nt(),Zt();var dL=function(){function t(t){this.Za=void 0,this.x6=t}return Ct(t,[{key:"L6",get:function(){return this.x6}},{key:"o",get:function(){return this.x6.id||""}},{key:"ji",get:function(){return+this.x6.width||0},set:function(t){this.x6.width=t||0}},{key:"xB",get:function(){return+this.x6.lines||0},set:function(t){this.x6.lines=t||0}},{key:"CB",get:function(){return+this.x6.regionAnchorX||0},set:function(t){this.x6.regionAnchorX=t||0}},{key:"jB",get:function(){return+this.x6.regionAnchorY||0},set:function(t){this.x6.regionAnchorY=t||0}},{key:"RB",get:function(){return+this.x6.viewportAnchorX||0},set:function(t){this.x6.viewportAnchorX=t||0}},{key:"PB",get:function(){return+this.x6.viewportAnchorY||0},set:function(t){this.x6.viewportAnchorY=t||0}},{key:"OB",get:function(){return this.x6.scroll||""}},{key:"ga",get:function(){return this.Za||(this.Za=ly(this)),this.Za}}]),t}();var lL=function(t){function n(n){return t.call(this,n)||this}Et(n,t);var i=n.prototype;return i.ma=function(){return ty(this)},i.EB=function(t){return ay(this,t)},Ct(n,[{key:"U",get:function(){return this.D6.text},set:function(t){this.D6.text=t}},{key:"Pt",get:function(){return this.D6.vertical||""},set:function(t){this.D6.vertical=t||""}},{key:"mB",get:function(){return this.D6.snapToLines},set:function(t){this.D6.snapToLines=t}},{key:"gB",get:function(){return this.D6.line},set:function(t){this.D6.line=t}},{key:"Kb",get:function(){return+this.D6.size},set:function(t){this.D6.size=gr(t,0,100)}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(cL),gL=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),Ct(n,[{key:"wB",get:function(){return vL(this.D6.region)}},{key:"_B",get:function(){return this.D6.lineAlign||"start"},set:function(t){this.D6.lineAlign=t||"start"}},{key:"uo",get:function(){return this.D6.position},set:function(t){this.D6.position=t}},{key:"vB",get:function(){return this.D6.positionAlign||"auto"},set:function(t){this.D6.positionAlign=t||"auto"}},{key:"fB",get:function(){return this.D6.align||"center"},set:function(t){this.D6.align=t||"center"}}]),n}(lL),wL=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),Ct(n,[{key:"wB",get:function(){return vL(this.L6)}},{key:"L6",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.D6.track,this.D6.regionId)}},{key:"_B",get:function(){return function(t){return"middle"===t?"center":t}(this.D6.lineAlign||"start")},set:function(t){this.D6.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"uo",get:function(){return this.D6.position},set:function(t){this.D6.position=function(t,n){return Xw(t,n)}(t,this.fB)}},{key:"vB",get:function(){return function(t){return Ww[t]}(this.D6.positionAlign||"middle")},set:function(t){this.D6.positionAlign=function(t,n){return Fw[Zw(t,n)]}(t||"center",this.fB)}},{key:"fB",get:function(){return function(t){return"middle"===t?"center":t}(this.D6.align||"middle")},set:function(t){this.D6.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(lL);function yL(t,n){return t.U===n.U}function mL(t,n){if(0!==n.length){var i=n.length-1;if(n[i].lB<t.lB)AL(n,i,t.lB);else{var r=n[0];if(r.lB>t.lB)t.dB=r.lB;else{var e=QS(n,t,US);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].lB<t.lB&&AL(n,s,t.lB);if(u<n.length){var o=n[u];t.dB=o.lB}}}}}}function AL(t,n,i){for(var r=t[n].lB,e=n;e>=0&&t[e].lB===r;e--)t[e].dB=i}function pL(t){return qw(t)}Q(),Nt(),Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt();var _L=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).C6=i,r}Et(n,t);var i=n.prototype;return i.ma=function(){return pL(this)},i.EB=function(t){return yL(this,t)},Ct(n,[{key:"U",get:function(){return this.C6}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(cL);function kL(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function ML(t){switch(t){case 0:return mc;case 1:return kc;case 2:return Mc;case 3:return Lc}}function bL(t,n){var i=n.tc,r=t.byteLength,e=Bc(t);return n.Gb(r-i),Qc(e,i,r).buffer}function TL(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function NL(t,n,i){var r=ic(t,n);if(kL(r)){var e=ML(r);return{id:i,language:wc(t,n,3),description:e(t,n),text:e(t,n)}}}function DL(t,n,i){var r=ic(t,n);if(kL(r)){var e=ML(r);return{id:i,mimeType:mc(t,n),fileName:e(t,n),description:e(t,n),data:bL(t,n)}}}function IL(t,n,i){var r=ic(t,n);if(kL(r)){for(var e=ML(r),u=[];n.tc<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function EL(t,n,i){var r=ic(t,n);if(kL(r)){for(var e=ML(r),u=wc(t,n,3),s=ic(t,n),o=ic(t,n),a=e(t,n),c=!1,h=[];n.tc<t.byteLength;){var f=void 0;if(1===r){var v=_c(t,n);void 0===v?v=c:c=v,f=Mc(t,n,v)}else f=e(t,n);if(!f||n.tc+4>t.byteLength)break;h.push({text:f,timestamp:fc(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function SL(t,n,i){return{id:i,ownerIdentifier:mc(t,n),identifier:bL(t,n)}}function LL(t,n,i){var r=ic(t,n);if(kL(r)){var e=ML(r);return{id:i,language:wc(t,n,3),description:e(t,n),text:e(t,n)}}}function CL(t,n,i){var r=ic(t,n);if(kL(r))return{id:i,text:ML(r)(t,n)}}function jL(t,n,i){return{id:i,url:mc(t,n)}}function xL(t,n,i){var r=ic(t,n);if(kL(r)){var e=ML(r);return{id:i,description:e(t,n),text:e(t,n)}}}function OL(t,n,i){var r=ic(t,n);if(kL(r))return{id:i,description:ML(r)(t,n),url:mc(t,n)}}function zL(t,n,i){switch(i){case"COM":return NL(t,n,i);case"GEO":return DL(t,n,i);case"IPL":return IL(t,n,i);case"PIC":return function(t,n,i){var r=ic(t,n);if(kL(r)){var e,u,s=ML(r),o=wc(t,n,3),a=ic(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=mc(t,n)):(e="image/"+o.toLowerCase(),u=bL(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return EL(t,n,i);case"TXX":return xL(t,n,i);case"UFI":return SL(t,n,i);case"ULT":return LL(t,n,i);case"WXX":return OL(t,n,i);default:if("T"===i.charAt(0))return CL(t,n,i);if("W"===i.charAt(0))return jL(t,n,i)}}function RL(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=ic(t,n);if(kL(r)){var e=ML(r),u=mc(t,n);return{id:i,mimeType:u,pictureType:ic(t,n),description:e(t,n),data:"--\x3e"===u?mc(t,n):bL(t,n)}}}(t,n,i);case"COMM":return NL(t,n,i);case"COMR":return function(t,n,i){var r=ic(t,n);if(kL(r)){var e,u,s=ML(r),o=mc(t,n),a=wc(t,n,8),c=mc(t,n),h=ic(t,n),f=s(t,n),v=s(t,n);return n.tc<t.byteLength&&(e=mc(t,n)||"image/",u=bL(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return DL(t,n,i);case"IPLS":return IL(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:mc(t,n),data:bL(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:ic(t,n),position:fc(t,n)}}(t,n,i);case"SYLT":return EL(t,n,i);case"TXXX":return xL(t,n,i);case"UFID":return SL(t,n,i);case"USER":return function(t,n,i){var r=ic(t,n);if(kL(r)){var e=ML(r);return{id:i,language:wc(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return LL(t,n,i);case"WXXX":return OL(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return CL(t,n,i);default:var r=i.charAt(0);if("T"===r)return CL(t,n,i);if("W"===r)return jL(t,n,i)}}Q(),Nt(),Q(),Nt();var BL=10;function UL(t,n){return(127&ic(t,n))<<21|(127&ic(t,n))<<14|(127&ic(t,n))<<7|127&ic(t,n)}function PL(t,n){switch(t){case 4:return{j6:nc(n,0),O6:nc(n,1),R6:nc(n,2),P6:nc(n,3)};case 3:return{j6:nc(n,0),O6:nc(n,1),R6:nc(n,2)};case 2:return{j6:nc(n,0),z6:nc(n,1)}}}function QL(t,n,i){switch(i.cj){case 3:i.lj.O6&&function(t,n){var i=n.tc,r=fc(t,n)+4,e=32768&cc(t,n);n.Wb(i+r),e&&fc(t,n)}(t,n);break;case 4:i.lj.O6&&function(t,n){var i=n.tc,r=UL(t,n);n.Wb(i+r)}(t,n)}}function YL(t,n){if(t.byteLength-n.tc<BL)return null;if(73!==ic(t,n)||68!==ic(t,n)||51!==ic(t,n))return null;var i=ic(t,n),r=ic(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=ic(t,n),u=UL(t,n);return{cj:i,B6:r,lj:PL(i,e),U6:u}}function GL(t,n,i){switch(i){case 2:return function(t,n){if(!(n.tc+6>t.byteLength))return{o:wc(t,n,3),Kb:oc(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.tc+10>t.byteLength)){var i=wc(t,n,4),r=fc(t,n);ic(t,n);var e=ic(t,n);return{o:i,Kb:r,lj:{z6:nc(e,0),Q6:nc(e,1),groupingIdentity:nc(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.tc+10>t.byteLength)){var i=wc(t,n,4),r=UL(t,n);ic(t,n);var e=ic(t,n);return{o:i,Kb:r,lj:{groupingIdentity:nc(e,1),z6:nc(e,4),Q6:nc(e,5),j6:nc(e,6),F6:nc(e,7)}}}}(t,n)}}function VL(t){for(var n=Bc(t),i=new N(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return Rc(Qc(i,0,r))}function FL(t,n){var i=n||new Vc,r=YL(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.tc,u=zc(t,e,e+i.U6),s=new Vc;switch(n.Gb(i.U6),i.cj){case 2:case 3:i.lj.j6&&(u=VL(u))}QL(t,n,i);for(;s.tc<u.byteLength;){var o=WL(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{nj:r,Y6:e}}function WL(t,n,i){var r=GL(t,n,i.cj);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Kb){var e,u,s=n.tc,o=zc(t,s,s+r.Kb);switch(n.Gb(r.Kb),i.cj){case 2:var a=r;e=zL(u=o,new Vc,a.o);break;case 3:var c=r,h=new Vc;!function(t,n,i){var r,e,u,s=i.lj;s.z6&&(r=fc(t,n)),s.Q6&&(e=ic(t,n)),s.groupingIdentity&&(u=ic(t,n))}(o,h,c),e=RL(u=zc(o,h.tc,o.byteLength),new Vc,c.o);break;case 4:var f=r,v=new Vc;f.lj.j6&&(o=VL(o)),function(t,n,i){var r,e,u,s,o=i.lj;o.groupingIdentity&&(r=ic(t,n)),o.z6&&(e=fc(t,n)),o.Q6&&(u=ic(t,n)),o.F6&&(s=UL(t,n))}(o,v,f),e=RL(u=zc(o,v.tc,o.byteLength),new Vc,f.o)}if(!e){var d=Yc(Bc(u));e=TL(r.o,d.buffer)}return e}}Q(),Nt();function ZL(t){return ci(t)&&"org.id3"===t.type&&ci(t.value)}function XL(t){return function(t,n,i){return CL(t,n,i)}(new DataView(t.data),new Vc,t.key)}function HL(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return XL(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return TL(t.key,t.data)}(t)}Q(),Nt(),Q(),Nt();var KL=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).u6=[],e.m6=[],e.zo=iA.Ch,e.Z5=Qw.NONE,e.A6=void 0,e.Zp=Yw.DEFAULT,e.K6=!1,e.t9=0,e.h9=function(){e.G6(),e.tB.removeEventListener("cuechange",e.h9)},e.J6=function(){e.UI!==iA.Ch&&(e.o9(),e.S6(),e.u6.length&&e.W6(Qw.LOADING))},e.a9=function(){e.W6(Qw.LOADED)},e.u9=function(){e.W6(Qw.ERROR)},e.tB=n,e.q6=r,e.tB.addEventListener("cuechange",e.h9),e.tB.addEventListener("cuechange",e.J6),e.V6=i,e.V6&&(e.A6=Ol(e.V6.src),e.V6.addEventListener("load",e.a9),e.V6.addEventListener("error",e.u9)),e.iB=Sw(),e.eB=n.label||"",e.l6=new FS(e.u6),e.c6=new FS(e.m6),e.UI=e.Z6,fa((function(){e.J6(),e.W6(Qw.NONE)})),e}Et(n,t);var i=n.prototype;return i.ma=function(){return sA(this)},i.RQ=function(t){t.Ht!==this&&(t.Ht=this,this.tB.addCue(t.D6),this.J6())},i.SQ=function(t){t.Ht===this&&(t.Ht=void 0,this.tB.removeCue(t.D6),this.J6())},i.d6=function(t){var n,i=null==(n=this.tB.cues)?void 0:n.getCueById(t);if(i){var r=JL(i);return r&&vi(r)?r[0]:r}},i.NQ=function(t){this.t9>=t||(this.t9=t,bA(this,t))},i.G6=function(){var t=this.UI;this.X6||t!==iA.Jn?this.Z6=t:this.Z6=iA.FL},i.i9=function(){var t=this.UI,n=this.Z6;t!==n&&(this.X6||t!==iA.Jn||n!==iA.FL)&&("metadata"===this.Lt&&n===iA.Ch?this.UI=t:this.K6&&n===iA.Ch&&t===iA.Jn?this.Z6=t:this.UI=n)},i.X5=function(t){this.Z5!==t&&(this.Z5=t,this.yo(new WS(this,t)))},i.W6=function(t){var n=k.max(this.Z5,this.H6,t);this.X5(n)},i.e9=function(t){var n=JL(t);if(n)return n;if(vi(n=this.s9(t)))for(var i=0;i<n.length;i++){n[i].Ht=this}else n.Ht=this;return n},i.s9=function(t){var n=this.n9(t);return t.THEOplayerTextTrackCue=n,n},i.n9=function(t){return t.endTime<this.t9?[]:ZL(t)?(this.YA=Yw.ID3,function(t){var n;try{n=HL(t.value)}catch(t){n=TL("")}return new _L(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.YA=Yw.ID3,function(t){var n=[];try{var i=FL(new DataView(t.data));if(i)for(var r=0,e=i.Y6;r<e.length;r++){var u=e[r];n.push(new _L(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.YA=Yw.WEBVTT,function(t){return"regionId"in t}(t)?new wL(t):new gL(t)):new cL(t)},i.r9=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.e9(null!=(e=t[r])?e:t.item(r));if(vi(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.o9=function(){for(var t=this.r9(this.tB.cues),n=VS(this.u6,t),i=0,r=n.a6;i<r.length;i++){var e=r[i];e.fn(Hw.Lz,this.J6),e.fn(Hw.kz,this.J6),this.yo(new qS(e))}for(var u=0,s=n.h6;u<s.length;u++){var o=s[u];o.yn(Hw.kz,this.J6),o.yn(Hw.Lz,this.J6),this.yo(new KS(o))}},i.S6=function(){for(var t=this.r9(this.tB.activeCues),n=VS(this.m6,t),i=0,r=n.a6;i<r.length;i++){r[i].Yh=!1}for(var e=0,u=n.h6;e<u.length;e++){u[e].Yh=!0}(n.h6.length||n.a6.length)&&this.yo(new hL(this))},i.VL=function(t){this.UI=t},i.gn=function(){this.Bo();for(var t=this.u6.slice(),n=0;n<t.length;n++){t[n].gn()}Ro(this.u6),Ro(this.m6),this.tB.removeEventListener("cuechange",this.h9),this.tB.removeEventListener("cuechange",this.J6),this.V6&&(this.V6.removeEventListener("load",this.a9),this.V6.removeEventListener("error",this.u9),ki(this.V6))},Ct(n,[{key:"q",get:function(){return this.c6}},{key:"UQ",get:function(){return this.V6?this.V6.default:void 0}},{key:"L",get:function(){return this.l6}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"o",get:function(){return this.tB.id||this.V6&&this.V6.id||""}},{key:"zL",get:function(){return this.iB}},{key:"YL",get:function(){return this.tB.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.tB.kind||hA.AQ}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,void 0!==this.V6&&(this.V6.label=t),this.yo(new Dw(this)))}},{key:"gs",get:function(){return this.tB.language||""}},{key:"UI",get:function(){return this.zo},set:function(t){var n=this.UI;this.zo=rA(t),this.G6();var i=this.UI;n!==i&&this.yo(new Tw(this)),i!==iA.Ch&&this.W6(Qw.LOADING)}},{key:"Z6",get:function(){return rA(this.tB.mode)},set:function(t){this.tB.mode=t}},{key:"sB",get:function(){return this.tB}},{key:"fk",get:function(){return this.Z5}},{key:"H6",get:function(){return this.V6?+this.V6.readyState||Qw.NONE:Qw.LOADED}},{key:"WL",get:function(){return this.A6}},{key:"YA",get:function(){return this.Zp},set:function(t){this.Zp!==t&&(this.Zp=t,this.yo(new XS(this)))}},{key:"X6",get:function(){return this.q6},set:function(t){var n=this;this.q6=t,t&&(this.K6=!0,g((function(){n.K6=!1}),50)),this.G6()}}]),n}(Aa);function JL(t){return null==t?void 0:t.THEOplayerTextTrackCue}Q(),Nt(),St(),Q(),Nt();function qL(t,n){return Mo(t.kU,n.kU)||function(t,n){return t.Ht===n.Ht?ko(GS(t),GS(n)):kA(t.Ht,n.Ht)}(t.uB,n.uB)||function(t,n){return t===n?_o.Zr:t===Hw.kz?_o.ey:_o.iy}(t.type,n.type)}var $L=function(){function t(t,n){var i=this;this.Ul=[],this.d9=0,this.An=0,this.c9=[],this.T9=[],this.f9=[],this.g9=!1,this._9=!1,this.v9=0,this.E9=function(){i.d9=0,i.x9(),i.N9()},this.C9=function(){i.x9(),i.N9()},this.j9=function(){i.g9=!0,i.C9()},this.O9=function(){i._9=!0,i.v9=0,i.l9()},this.w9=function(){i.m9(),i.x9(),i.N9()},this.y9=function(t){var n=t.uB;Oo(i.T9,n)||i.T9.push(n),i.L9(n),i.S9()},this.b9=function(t){var n=t.uB;Co(i.c9,n),Co(i.T9,n),i.L9(n),i.S9()},this.M9=function(t){i.L9(t.uB),i.S9()},this.D9=n,this.ta=t,t.yn(Ma.Eb,this.C9),t.yn(Ma.so,this.j9),t.yn(zA.oP,this.C9),t.yn(Ma.wb,this.C9),t.yn(Ma.Mb,this.O9),t.yn(Ma.bb,this.C9),this.S9()}var n=t.prototype;return n.tr=function(){Ro(this.c9);for(var t=0,n=this.Ul.slice();t<n.length;t++){var i=n[t];this.it(i)}this.l9(),this.d9=0,this.An=0,Ro(this.f9),this.g9=!1,this._9=!1,this.v9=0},n.tt=function(t){Oo(this.Ul,t)||(this.Ul.push(t),t.yn(Yg.aa,this.w9),t.UI!==iA.Ch&&this.m9())},n.it=function(t){Co(this.Ul,t)&&(t.fn(Yg.aa,this.w9),t.UI!==iA.Ch&&this.m9())},n.m9=function(){var t=this.f9,n=this.Ul.filter((function(t){return t.UI!==iA.Ch}));this.f9=n;for(var i=0;i<t.length;i++){var r=t[i];Oo(n,r)||this.p9(r)}for(var e=0;e<n.length;e++){var u=n[e];Oo(t,u)||this.A9(u)}this.v9=0},n.A9=function(t){if(t.yn(Yg.Jk,this.y9),t.yn(Yg.tL,this.b9),t.yn(Yg.eL,this.M9),t.L.V>0){for(var n=0,i=t.L.AL;n<i.length;n++){var r=i[n];this.T9.push(r)}this.S9()}},n.p9=function(t){if(t.fn(Yg.Jk,this.y9),t.fn(Yg.tL,this.b9),t.fn(Yg.eL,this.M9),t.L.V>0){for(var n=0,i=t.L.AL;n<i.length;n++){var r=i[n];Co(this.c9,r),Co(this.T9,r)}this.S9()}},n.N9=function(){this.ta.wk||this.ta.KE?this.l9():this.S9()},n.S9=function(){this.g9&&0!==this.f9.length&&(this.v9-this.ta.LE>.25*this.ta.$E||this.d9||(this.d9=this.D9.I9(this.E9)))},n.l9=function(){this.d9&&(this.D9.k9(this.d9),this.d9=0)},n.L9=function(t){0!==this.v9&&(t.Yh!==BS(t,this.ta.LE)?this.v9=0:this.An<t.lB&&t.lB<this.v9?this.v9=t.lB:this.An<t.dB&&t.dB<this.v9&&(this.v9=t.dB))},n.x9=function(){if(this.g9&&0!==this.f9.length&&!this.ta.wk){var t=this.f9,n=this.An,i=this.ta.LE,r=i-n<-.1,e=this._9||r;e&&i>n&&i-n<.1&&(e=!1),this._9=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.S6(i,e);c<s&&(s=c);for(var h=0,f=a.q.AL;h<f.length;h++){var v=f[h];u.push(v)}}var d=this.c9.slice();if(e);else for(var l=0;l<t.length;l++){_A(t[l],n-Dr,i,d)}for(var g=d.length-1;g>=0;g--)Oo(u,d[g])&&jo(d,g);var w=[];if(!e)for(var y=d.length-1;y>=0;y--){var m=d[y];m.lB>n&&m.dB<=i&&(w.push(m),jo(d,y))}for(var A=0,p=this.T9;A<p.length;A++){var _=p[A];_.lB!==_.dB&&Co(w,_)}Ro(this.T9);for(var M=[],b=[],T=0;T<w.length;T++){var N=w[T];N.Yh||M.push(new nL(N,N.lB)),M.push(new rL(N,k.max(N.lB,N.dB))),N.Yh=!1}for(var D=0;D<d.length;D++){var I=d[D];I.Yh&&(M.push(new rL(I,k.max(I.lB,I.dB))),I.Yh=!1)}for(var E=0;E<u.length;E++){var S=u[E];S.Yh||(M.push(new nL(S,S.lB)),S.Yh=!0)}M.sort(qL);for(var L=0;L<M.length;L++){var C=M[L],j=C.uB;j.yo(C);var x=j.Ht;x&&(C.type===Hw.kz?x.yo(new uL(j)):x.yo(new oL(j)),Oo(b,x)||b.push(x))}b.sort(kA);for(var O=0;O<b.length;O++){var z=b[O];z.yo(new hL(z))}this.An=i,this.c9=u,this.v9=s}},n.gn=function(){this.tr(),this.ta.fn(Ma.Eb,this.C9),this.ta.fn(Ma.so,this.j9),this.ta.fn(zA.oP,this.C9),this.ta.fn(Ma.wb,this.C9),this.ta.fn(Ma.Mb,this.O9),this.ta.fn(Ma.bb,this.C9)},t}();Q(),Nt();var tC=function(){function t(){}var n=t.prototype;return n.I9=function(t){return wD(t)},n.k9=function(t){yD(t)},t}(),nC=new tC,iC=function(t){function n(n,i){return void 0===i&&(i=nC),t.call(this,n,i)||this}return Et(n,t),n}($L);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var rC=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return Et(n,t),n.prototype.EB=function(t){return yL(this,t)},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=pL(this)),this.Za}}]),n}(oy);Q(),Nt(),St(),Q(),Nt(),St();var eC=function(t){function n(n,i,r){return void 0===r&&(r=Yw.DEFAULT),t.call(this,hA.MQ,"",i||"","",!1,r,!1,n)||this}return Et(n,t),n}(tL),uC=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).YA=Yw.ID3,r}Et(n,t);var i=n.prototype;return i.RQ=function(n){mL(n,this.u6),t.prototype.RQ.call(this,n)},i.ma=function(){return sA(this)},n}(eC),sC=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).t9=0,i.J6=function(){i.UI!==iA.Ch&&(i.o9(),i.W6(Qw.LOADED))},i.tB=n,i.tB.addEventListener("cuechange",i.J6),i.UI=i.Z6,fa((function(){i.J6()})),i}Et(n,t);var i=n.prototype;return i.w6=function(n){t.prototype.w6.call(this,n),this.Z6=this.UI},i.RQ=function(n){t.prototype.RQ.call(this,n),n.D6.track!==this.tB&&this.tB.addCue(n.D6)},i.SQ=function(n){t.prototype.SQ.call(this,n),n.D6.track===this.tB&&this.tB.removeCue(n.D6)},i.NQ=function(t){this.t9>=t||(this.t9=t,bA(this,t))},i.W6=function(t){this.fk=k.max(this.fk,t)},i.o9=function(){var t=this.tB.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(ZL(s)&&s.endTime>=this.t9){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new oC(s);i.push(a)}else r.push(s)}mo(i,US);for(var c=VS(this.L.AL.slice(),i),h=0;h<r.length;h++){var f=r[h];this.tB.removeCue(f)}for(var v=0,d=c.a6;v<d.length;v++){var l=d[v];l.gn(),this.SQ(l)}for(var g=0,w=c.h6;g<w.length;g++){var y=w[g];this.RQ(y)}}},i.gn=function(){this.tB.removeEventListener("cuechange",this.J6),t.prototype.gn.call(this)},Ct(n,[{key:"o",get:function(){return this.tB.id||""}},{key:"YL",get:function(){return this.tB.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.tB.language||""}},{key:"Z6",get:function(){return rA(this.tB.mode)},set:function(t){this.tB.mode=t}},{key:"sB",get:function(){return this.tB}}]),n}(uC),oC=function(t){function n(n){var i,r=n.startTime,e=HL(n.value);return(i=t.call(this,r,e,n.id)||this).D6=n,i.D6.THEOplayerTextTrackCue=i,i}return Et(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.D6.THEOplayerTextTrackCue=void 0},n}(rC);function aC(t){return"TXXX"===t.id||"TXX"===t.id}Q(),Nt(),An(),St(),Tn(),Q(),Nt();var cC=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.CQ=n,r.P9=i,r.Q9=ps(),r.rV=yn((function(t){var n;return pn(this,(function(i){switch(i.label){case 0:return(n=t.Ht).YA?[3,2]:[4,n.zy(Yg.fL)];case 1:i.sent(),i.label=2;case 2:if(n.YA!==Yw.ID3)return[2];i.label=3;case 3:return 0!==n.L.V?[3,5]:[4,n.zy(Yg.Jk)];case 4:return i.sent(),[3,3];case 5:return e.B9(n),[2]}}))})),r.oV=function(t){var n=t.Ht;if(n.YA===Yw.ID3&&r.Q9.has(n.zL)){var i=r.Q9.get(n.zL);r.it(i),r.CQ.BQ(i),n.fn(Yg.Jk,r.Y9)}},r.Y9=function(t){hC(t.uB)&&r.F9(t.uB)},r.R9(),r}Et(n,t);var i=n.prototype;return i.R9=function(){this.P9.yn(Rg.Hk,this.rV),this.P9.yn(Rg.qk,this.oV)},i.z9=function(){this.P9.fn(Rg.Hk,this.rV),this.P9.fn(Rg.qk,this.oV)},i.B9=function(t){var n=t.L.AL[0];if(hC(n)){var i=function(t){var n=t.match(fC);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.U.description),r=i.Ht,e=i.gs;if(!this.U9(r,e)){var u=this.CQ.Wk(hA.AQ,t.o,r,e,!1,Yw.TTML);this.tt(u),this.Q9.set(t.zL,u);for(var s=0,o=t.L.AL;s<o.length;s++){var a=o[s];hC(a)&&this.F9(a)}t.yn(Yg.Jk,this.Y9)}}},i.U9=function(t,n){return this.Z.AL.some((function(i){return i.kh===t&&i.gs===n}))},i.F9=function(t){if(t.Ht)for(var n=this.Q9.get(t.Ht.zL),i=Fm(t.U.text,n,{sQ:0,nQ:1/0,rQ:t.lB}),r=0;r<i.length;r++){var e=i[r];n.RQ(e)}},i.tr=function(){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:for(i=0,r=n.P9.AL;i<r.length;i++)r[i].fn(Yg.Jk,n.Y9);for(e=0,u=n.Z.AL;e<u.length;e++)s=u[e],n.CQ.BQ(s);return n.Q9.clear(),[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.z9(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(NA);function hC(t){return function(t){return aC(t)&&fC.test(t.description)}(t.U)}var fC=/^Track:(.+),Lang:(.+)$/;Q(),Nt(),An(),Zt(),St(),ht(),Tn(),On(),tn(),Q(),Nt();var vC=[Ma.Vy,Ma.Yy,Ma.Lb,Ma.Cb];Q(),Nt(),Zt(),St();var dC=function(t){function n(n){var i;return(i=t.call(this,Ma.Yy)||this).errorObject=n,i}return Et(n,t),Ct(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ka);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St();var lC=function(t){function n(n){var i;return(i=t.call(this,Ma.Vy)||this).V9=n,i}return Et(n,t),n}(ka);tn(),Q(),Nt(),St();var gC=function(t){function n(n){var i;return(i=t.call(this,"xb")||this).V9=n,i}return Et(n,t),n}(ka);sn();var wC=new Nd,yC=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return Et(n,t),n}(ka),mC=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).K9=n,e.X9=i,e.q9=r,e.Z9=!1,e.s8=!1,e.rN=new ca,e.W9=!1,e.um=function(t){if(!e.rN.ly.sy)switch(t.Bb){case"license-request":case"license-renewal":e.yF(t.Pb,t.Ub).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new ww(wd.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Bb))}},e.i8=function(t){e.K9.Rb.iM((function(t,n){switch(t){case"usable":Kt.Pg((function(){e.s8=!0,e.yo(new lC(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.yo(new gC(n))}})),e.W9=!0,e.yo(t)},e.e8=function(t){e.Ss(new ww(wd.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yn("Pb",e.um),n.yn(Ma.Cb,e.i8),n.yn("lt",e.e8),n.uS.then((function(){return e.t8()}),(function(t){return e.Ss(t)})),e}Et(n,t);var i=n.prototype;return i.vS=function(){var t=this;return this.Z9=!0,wC.Wo((function(n){return t.H9(n)}),this.rN.ly)},i.H9=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),ta(t),[4,n.X9.gF(t)];case 1:return s.sent(),[4,n.X9._F(n.q9.GA,n.q9.Vb,t)];case 2:return i=s.sent(),[4,n.K9.vS(n.q9.GA,n.q9.Vb,i)];case 3:return s.sent(),[3,5];case 4:throw na(r=s.sent()),e=r instanceof hh?r.hM:void 0,u=new ww(wd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.yF=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Hc(t,oh())}(t)?[4,i.X9.kF(new N(t),i.rN.ly)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.X9.LF(new N(t),n,i.rN.ly)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if($o(e=c.sent()))return[2];throw e;case 6:if(i.rN.ly.sy)return[2];u=i.J9,s=new sh,i.J9=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.K9.Yn(r)];case 8:return c.sent(),[4,ga(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof hh?o.hM:void 0,new ww(wd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.rM];case 12:c.sent(),c.label=13;case 13:return s.sM(),i.J9===s&&(i.J9=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof ww?t:new ww(wd.CONTENT_PROTECTION_ERROR,t.message,t);this.yo(new dC(n)),this.Ws()},i.t8=function(){this.K9.fn("Pb",this.um),this.K9.fn(Ma.Cb,this.i8),this.K9.fn("lt",this.e8),this.s8=!1,this.W9=!1,this.rN.Ty(),this.yo(new yC(this))},i.Ws=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:t.Bo(),i.label=1;case 1:return void 0===(n=t.J9)?[3,3]:[4,n.rM];case 2:i.sent(),i.label=3;case 3:if(t.J9!==n)return[3,1];i.label=4;case 4:return t.t8(),[4,t.K9.Ws().catch(qt)];case 5:return i.sent(),[2]}}))}))()},Ct(n,[{key:"G9",get:function(){return this.W9}}]),n}(Aa),AC=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).r8=[],e.a8=void 0,e.l8=[],e.d8=function(t){if(t.type===Ma.Cb)return null!=e.v8||(e.v8=new uh),t.Rb.iM((function(t,n){e.v8.tM(n,t)})),void(e.n8&&e.yo(new Na(e.v8)));e.Ds(t)},e.f8=function(t){t.session.fn(vC,e.Ds),t.session.fn("Ws",e.f8),Co(e.r8,t.session),e.v8=void 0},e.yS=n,e.SS=i,e.o8=r,e}Et(n,t);var i=n.prototype;return i.fF=function(){return this.o8.fF()},i.h8=function(t){return this.a8||(this.a8=this.u8(t)),this.a8},i.u8=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return ta(t),[4,n.o8.kF(new N(oh()),t)];case 1:if(i=r.sent(),ta(t),!n.SS)throw new A("Invalid MediaKeys when setting ServerCertificate");return[4,n.SS.IS(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.c8=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:if(!n.SS)throw new A("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.l8.push(t),[4,n.SS.TS("temporary")];case 2:return i=e.sent(),r=new mC(i,n.o8,t),n.r8.push(r),r.yn(vC,n.d8),r.yn("Ws",n.f8),[2,r];case 3:return Co(n.l8,t),[7];case 4:return[2]}}))}))()},i.g8=function(t){if(t._8)return!1;for(var n=0,i=this.r8;n<i.length;n++){if(pC(i[n].q9,t))return!0}for(var r=0,e=this.l8;r<e.length;r++){if(pC(e[r],t))return!0}return!1},i.gn=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.SS=void 0,t.Bo(),n=t.r8.slice(),Ro(t.r8),[4,st.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.v8=void 0,t.o8.wy(),[2]}}))}))()},Ct(n,[{key:"NS",get:function(){return this.yS}},{key:"n8",get:function(){return this.r8.every((function(t){return t.G9}))}}]),n}(Aa);function pC(t,n){return!t._8&&t.GA===n.GA&&Hc(t.Vb,n.Vb)}var _C=function(t){function n(n){var i;return(i=t.call(this)||this).rN=new ca,i.Go=new Nd,i.KS=void 0,i.o8=void 0,i.vV=void 0,i.yS=void 0,i.k8=function(t){i.b8(t.GA,t.Vb,i.rN.ly).catch((function(t){return i.Ss(t)}))},i.cz=n,i.cz.yn(Ea.Xy,i.k8),i}Et(n,t);var i=n.prototype;return i.$n=function(t,n){this.vV=t,this.D$(n)},i.D$=function(t){this.KS=t,this.m8(this.rN.ly).catch(ia)},i.k$=function(t){this.p8(t,this.rN.ly).catch(ia)},i.p8=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:if(r=function(r,e){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:if(u=e[r],void 0===(null==(o=Do(t,(function(t){return t.A8===u.NS.ZA})))?void 0:o.y8))return[2,"continue"];if(null==(s=u.XY)?void 0:s.some((function(t){return Hc(o.y8,t)})))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.b8(u.NS.GA,o.y8,n)];case 2:return a.sent(),[2,{v:void 0}];case 3:return na(a.sent()),[3,4];case 4:return[2]}}))},ta(n),!(null==(e=i.KS)?void 0:e.yV))return[2];o=0,a=null!=(s=null==(u=i.KS)?void 0:u.yV)?s:[],h.label=1;case 1:return o<a.length?[5,_n(r(o,a))]:[3,4];case 2:if("object"===Y(c=h.sent()))return[2,c.v];h.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},i.m8=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return Kt.Ys.Sp?[4,n.M8(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.KS&&n.KS.T8?[4,n.S8(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.M8=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v;return pn(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.KS)?void 0:i.yV))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.KS)?void 0:r.yV)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.XY)?c:[],d.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.b8(a.NS.GA,v,t)];case 4:return d.sent(),e=!0,[3,6];case 5:return na(d.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.b8=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d;return pn(this,(function(l){switch(l.label){case 0:if(ta(i),!n.byteLength)return[2];if(!r.KS||!r.KS.yV.length)throw new ww(wd.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==Is&&t!==Ss&&t!==Es)return[2];e=Up(t,n),u=r.KS.yV,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],ta(i),!(c=e[a.NS.WA])||a.NS.GA!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,r.N8(a,i)];case 3:return(h=l.sent()).fF()?[4,h.h8()]:[3,5];case 4:l.sent(),l.label=5;case 5:return f=r.cz.FE,v={GA:a.NS.GA,Vb:c,_8:f},r.I8(h,v)?[4,h.c8(v)]:[3,8];case 6:return[4,l.sent().vS()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return na(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,Kt.gA()];case 12:throw l.sent()?new ww(wd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new ww(wd.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.S8=function(t){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.KS)?void 0:i.yV))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],ta(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.N8(u,t)];case 3:return(s=o.sent()).fF()?[4,s.h8()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return na(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.I8=function(t,n){return Kt.Ys.Tp||this.cz.mz.wz||!t.g8(n)},i.N8=function(t,n){var i=this;return this.Go.Wo((function(n){return i.D8(t,n)}),n)},i.D8=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:if(ta(n),!i.KS||!i.o8||!i.vV)throw new A("Not initialized");if(i.yS){if(i.yS.NS!==t.NS)throw new A("Internal key system error");return[2,i.yS]}return r=i.o8,e=ys({},t,{HV:t.HV.map((function(n){var i;return ys({},n,{persistentState:null!=(i=n.persistentState)?i:r.jF(t.NS),RS:n.RS||r.RS(t.NS)})}))}),[4,i.vV.T$(e.NS,e.HV)];case 1:return u=a.sent(),s=r.HY(e),(o=new AC(e.NS,u,s)).yn(vC,i.Ds),i.yS=o,[2,o]}}))}))()},i.Ss=function(t){if(!$o(t)){var n=t instanceof ww?t:new ww(wd.CONTENT_PROTECTION_ERROR,t.message,t);this.yo(new dC(n))}},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.vV=void 0,t.KS=void 0,t.rN.Ty(),t.rN=new ca,[4,t.E8()];case 1:return n.sent(),[2]}}))}))()},i.E8=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,t.Go.Ty()];case 1:return i.sent(),(n=t.yS)?(n.fn(Ma.Lb,t.Ds),t.yS=void 0,[4,n.gn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.cz.fn(Ea.Xy,t.k8),[4,t.tr()];case 1:return n.sent(),[4,t.Go.gn()];case 2:return n.sent(),[2]}}))}))()},Ct(n,[{key:"w8",get:function(){var t;return null==(t=this.yS)?void 0:t.NS}},{key:"zV",get:function(){return this.o8},set:function(t){this.o8=t}}]),n}(Aa);Q(),Nt(),St();var kC=function(t){function n(n){var i;return(i=t.call(this,Ma.ob)||this).currentTime=n,i}return Et(n,t),n}(ka);Q(),Nt(),Zt(),St();var MC=function(t){function n(n){var i;return(i=t.call(this)||this).C8=n,i}Et(n,t);var i=n.prototype;return i.X5=function(){var t;null==(t=this.L8)||t.X5()},i.tr=function(){var t;null==(t=this.L8)||t.tr()},i.wy=function(){this.Bo(),void 0!==this.L8&&(this.L8.wy(),this.L8=void 0)},i.x8=function(t){if(this.L8!==t){var n=this.fk;void 0!==this.L8&&this.L8.wy(),this.L8=t,void 0!==t&&(t.yn(zA.lL,this.Ds),t.X5());var i=this.fk;n!==i&&this.yo(new BA(this.C8.LE,i))}},Ct(n,[{key:"fk",get:function(){return void 0!==this.L8?this.L8.fk:UA.Nz}}]),n}(Aa);Q(),Nt(),Zt(),St();var bC=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,Yw.WEBVTT)||this}Et(n,t);var i=n.prototype;return i.j8=function(t,n,i){var r=new cy(t,n,i,!1);return this.RQ(r),r},i.O8=function(t){this.SQ(t)},Ct(n,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=TC(this)}}]),n}(tL);function TC(t){return Wg(sA(t),{get type(){return t.YA},addCue:function(n,i,r){return t.j8(n,i,r).ga},removeCue:function(n){t.O8(n.cB)}})}Q(),Nt(),Zt(),St();var NC=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).sD=!1,r.P8=[],r.z8=function(){var t;null==(t=r.V6)||t.removeEventListener("load",r.z8),r.sD=!0;for(var n=0,i=r.P8;n<i.length;n++){var e=i[n];r.RQ(e)}Ro(r.P8)},null==(e=r.V6)||e.addEventListener("load",r.z8),r.YA=Yw.WEBVTT,r}Et(n,t);var i=n.prototype;return i.j8=function(t,n,i){var r=this.s9(new f.VTTCue(t,n,i));return this.sD?this.RQ(r):this.P8.push(r),r},i.O8=function(t){Co(this.P8,t),this.SQ(t)},i.gn=function(){var n;t.prototype.gn.call(this),null==(n=this.V6)||n.removeEventListener("load",this.z8),Ro(this.P8)},Ct(n,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=TC(this)}}]),n}(KL),DC=Wt.zf||Wt.Uf,IC=Wt.xg,EC=Wt.qf,SC=Wt.qf&&Wt.Ka,LC=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).dV=void 0,u.IG=!0,u.vV=void 0,u.G7=new Nd,u.Q8=void 0,u.Zo=new vT,u.Qo=new lT,u.R7=[],u.F8=void 0,u.y7=0,u.A7=NaN,u.U8=void 0,u.L7=!1,u.J7=void 0,u.V7=0,u.kG=!1,u.G5=!1,u.Ptt=UA.Nz,u.H8=0,u.m7=st.resolve(),u.w7=new ca,u.g7=[],u.Fo=GM.PP(),u.q8=void 0,u.J8=1,u.e7=!1,u.i7=1,u.V8=!1,u.ttt=!1,u.itt=!1,u.M7=!1,u.G8=!1,u.W8=!1,u.B8=!1,u.Ctt=!1,u.stt=0,u.s7=!1,u.P7=function(t){var n=t.track,i=u.F7(n);if(!jC(u.O7,n)){if(Wt.qf){if(n.kind===hA.MQ)return void u.U7(n);if(n.kind===hA.yQ&&""===n.label&&""===n.language&&!xC(n))return void u.Q7(n,i)}u.O7.tt(new KL(n,i))}},u.z7=function(t){var n=jC(u.O7,t.track);n&&u.O7.it(n)},u.B7=function(){for(var t=0;t<u.O7.V;t++){var n=u.O7.bL(t);n instanceof KL&&n.i9()}},u.Z7=function(){if(void 0!==u.vV&&WI(u.vV)&&!u.KE){var t=u.vV,n=t.p5,i=t.A5;if(n&&i)if(t.F$)u.q7();else if(t.fk!==kS.f3){var r=n.TE,e=i.TE;if(0!==r.V||0!==e.V){var s=u.LE;if(s<r.Cn(0)||s<e.Cn(0))u.q7();else if(r.gr(s)!==e.gr(s)){if(t.W$(s))return;u.X7()}else{if(u.q7(),!u.stt&&u.u7.s6())r.AP(e).SP(s,s+.5)&&(u.stt=wD(u.ztt))}}else u.q7()}}},u.ztt=function(){u.stt=0,u.Z7()},u.H7=function(){if(!u.wk&&!u.V5&&!(u.Z8.fk>=UA.Dz)&&void 0!==u.vV&&WI(u.vV)){var t=u.vV,n=t.p5,i=t.A5;if(n&&i){var r=u.LE,e=n.TE,s=i.TE;if(e.gr(r)&&s.gr(r))e.AP(s).SP(r-5,r)&&(u.B8?u.q7():u.K7())}}},u.ctt=function(){u.yo(new Ib(u.LE))},u.ltt=function(){u.v7(new qo),u.yo(new Db(u.LE))},u.htt=function(){u.l7(),u.yo(new FA(u.LE))},u.wtt=function(){u.K8()},u.ptt=function(){u.yo(new Eb(u.ct))},u.ftt=function(){u.yo(new nE(u.LE))},u.gtt=function(){u.yo(new iE)},u.Mtt=function(){u.kG||u.G5||u.L7?u.L7=!1:u.yo(new jb(u.LE))},u.Ttt=function(){u.D7(u.LE),u.L7=!1},u.dtt=function(){var t=u.LE,n=u.wk,i=u.Z8.fk<UA.Dz&&!u.OE,r=void 0!==u.J7,e=r&&u.J7!==t;u.Y7(),(n||!r||e&&!i)&&u.k7()},u._tt=function(){u.rJ()},u.ytt=function(){if(null!==u.vN.error){var t,n=u.vN.error;u.eG(new mw(null!=(t=n.code)?t:yw.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.btt=function(){u.ttt&&(u.ott(),u.itt=!0)},u.Btt=function(t){if(Kt.Rg(u.H8),u.H8=0,t.readyState<=UA.Iz)if(u.kG||u.G5){var n=Kt.Og()-u.y7;if(n<250)return void(u.H8=Kt.Pg((function(){return u.Btt(t)}),250-n))}else if(void 0!==u.vV&&u.vV.W$(u.LE))return void(u.H8=Kt.Pg((function(){return u.Btt(t)}),250));u.Ptt!==t.readyState&&(u.Ptt=t.readyState,u.yo(t))},u.mtt=function(){u.X8()},u.Att=function(){u.Tk>0&&u.yk>0&&u.yo(new xA)},u.Stt=function(t){u.yo(new Sa(t.initDataType,t.initData||new ArrayBuffer(0)))},u.Ntt=function(){u.yo(new La)},u.Ett=function(t){var n=t.initData,i=n?Yc(n).buffer:new ArrayBuffer(0);u.yo(new Sa(Is,i))},u.Itt=function(t){if(t.initData){var n=function(t){try{var n=Rc(t),i=new Vc;return Dc(Ic(ec(n,i,fc(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.yo(new Sa(Ss,n))}else u.yo(new Sa(Ss,new ArrayBuffer(0)))},u.Dtt=function(t){var n=t.initData,i=n?Yc(n).buffer:new ArrayBuffer(0);u.yo(new Sa(Is,i))},u.h7=function(){u.l7()},u.a7=function(t){u.v7(t)},u.Utt=function(t){u.yo(t),t.type===Ma.Yy&&u.eG(pw(t.errorObject))},u.vN=n,u.KA=i,u.Xu=r,u.FG=e,u.Z8=new MC(u),u.Z8.yn(zA.lL,u.Btt),u.Z8.x8(new CS(u)),u.u7=new zS(u),u.u7.yn(zA.oP,u.htt),u.E$=new _C(u),u.E$.yn(vC,u.Utt),u.Ul=new cA,u.O7=new cA,u.utt=new Fk([u.Ul,u.O7]),u.att=new cC(u,u.utt),u.x7=new Fk([u.utt,u.att.Z]),u.C7=new iC(u),u.ett(),u.XV(),u}Et(n,t);var i=n.prototype;return i.Y8=function(){return void 0!==this.F8&&this.ct===this.F8},i.K8=function(){var t=this.$E;this.J8!==t&&(this.J8=t,this.yo(new Sb(this.LE,t)))},i.X8=function(){var t=this.Nk,n=this.WE;this.i7===t&&this.e7===n||(this.i7=t,this.e7=n,this.yo(new xb(this.LE,this.Nk)))},i.GE=function(){return NI(this.vN)},i.Pk=function(){this.s7||(this.s7=!0);var t=this.n7();return this.r7(),t},i.r7=function(){this.G8?this.W8&&(this.W8=!1,this.yo(new Ib(this.LE))):this.o7()},i.o7=function(){if(this.Q8)this.Q8.Pk();else{Wt.qf&&!Wt.Ka&&this.vN.preload===oT.pG&&(this.vN.preload=oT.MQ);var t=this.$E,n=this.vN.play();t!==this.gV.playbackRate&&(this.$E=t),this.V8=!1,yi(n)?n.then(this.h7,this.a7):this.u7.s6()&&this.l7()}},i.Rk=function(){this.G8?this.W8||(this.W8=!0,this.yo(new Db(this.LE))):this.d7()},i.d7=function(){this.Q8?this.Q8.Rk():(this.vN.pause(),this.u7.Yn()),this.f7(new qo)},i.n7=function(){var t=new sh;return this.g7.push(t),t.rM},i._7=function(){for(var t=0,n=this.g7;t<n.length;t++){n[t].sM(void 0)}Ro(this.g7)},i.f7=function(t){for(var n=0,i=this.g7;n<i.length;n++){i[n].nM(t)}Ro(this.g7)},i.l7=function(){this.G8||this.Q8||this._7()},i.v7=function(t){this.G8||this.Q8||this.f7(t)},i.Wb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.Q8?this.Q8.Wb(t,n,i):(this.w7.Ty(),this.w7=new ca,this.m7=ea(this.p7(t,n,i,this.m7,this.w7.ly),this.w7).catch(qt))},i.cV=function(t){var n=this.wV;if(n&&!T(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Wb(i)}},i.p7=function(t,n,i,r,e){var u=this;return yn((function(){var s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,M;return pn(this,(function(b){switch(b.label){case 0:return b.trys.push([0,24,,25]),u.F8=t,u.A7=t,u.y7=Kt.Og(),i&&!u.kG?u.G5=!0:(u.kG=!0,u.G5=!1),u.V8&&!u.Y8()&&(u.V8=!1),u.G5?u.yo(new TS(u.LE)):u.yo(new Cb(t)),[4,r.catch(qt)];case 1:return b.sent(),ta(e),u.vV&&!u.vV.Z$()?(u.b7(),[2]):(u.M7&&u.T7(),u.Z8.fk!==UA.Nz?[3,3]:[4,u.Z8.zy(zA.lL,e)]);case 2:b.sent(),b.label=3;case 3:if(0!==u.vN.seekable.length&&(!SC||u.s7))return[3,9];s={stack:[],error:void 0,hasError:!1},b.label=4;case 4:return b.trys.push([4,6,7,8]),o=kn(s,ca.Iy([e]),!1),[4,st.race([lg(u.vN,"timeupdate",o.ly),ga(100,o.ly)])];case 5:return b.sent(),ta(e),[3,8];case 6:return a=b.sent(),s.error=a,s.hasError=!0,[3,8];case 7:return Mn(s),[7];case 8:return[3,3];case 9:c=AS(u.TE,t,.05),h=u._k,f=!0,v=!1,b.label=10;case 10:0,d={stack:[],error:void 0,hasError:!1},b.label=11;case 11:return b.trys.push([11,20,21,22]),(h=u._k).V>0&&!h.gr(c)&&(c=h.gP(c),f=!0),n&&!u.vN.fastSeek&&((g=u.TE).gr(c)||(w=AS(g,c,1))!==c&&(c=w,f=!0)),EC&&void 0!==(y=u.S7())&&c>y&&(c=y,f=!0),v?[3,14]:void 0!==(m=u.N7())&&c>m?(v=!0,[4,u.I7(m,!1,e)]):[3,14];case 12:return b.sent(),[4,lg(u.vN,"seeked",e)];case 13:b.sent(),ta(e),f=!0,b.label=14;case 14:return f?(f=!1,[4,u.I7(c,n,e)]):[3,18];case 15:b.sent(),ta(e),A=u.LE,h=u._k,c=h.gP(c),p=1,b.label=16;case 16:return k.abs(c-A)>=Dr?(h=u._k,c=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.gP(t),e=CC*i;r===n.Cn(0)?r+=e:r===n.jn(n.V-1)&&(r-=e);return r}(c,h,p),[4,u.I7(c,n,e)]):[3,18];case 17:return b.sent(),ta(e),A=u.LE,p++,[3,16];case 18:return u.vN.seeking||u.Z8.fk<UA.Iz?(_=kn(d,ca.Iy([e]),!1),[4,st.race([lg(u.vN,"seeked",_.ly),u.zy([Ma.mb,Ma.Zy],_.ly),u.Z8.zy(zA.lL,_.ly),null==(l=u.vV)?void 0:l.zy(JI.m$,_.ly)].filter(ci))]):[3,23];case 19:return b.sent(),ta(e),[3,22];case 20:return M=b.sent(),d.error=M,d.hasError=!0,[3,22];case 21:return Mn(d),[7];case 22:return[3,10];case 23:return u.b7(),[3,25];case 24:return $o(b.sent())?[2]:[3,25];case 25:return[2]}}))}))()},i.I7=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:if(ta(i),e=r._k,t=e.gP(t),!r.M7)return[3,8];u=!0,h.label=1;case 1:if(!(u||r.Z8.fk<UA.Dz))return[3,7];s={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,4,5,6]),(e=r._k).gr(t)||(t=e.gP(t),u=!0),u?(u=!1,r.F8=t,r.D7(r.LE),[3,1]):(o=kn(s,ca.Iy([i]),!1),[4,st.race([r.zy(Ma.Zy,o.ly),r.Z8.zy(zA.lL,o.ly)])]);case 3:return h.sent(),[3,6];case 4:return a=h.sent(),s.error=a,s.hasError=!0,[3,6];case 5:return Mn(s),[7];case 6:return[3,1];case 7:ta(i),h.label=8;case 8:return c=lg(r.vN,"seeking",i),n&&r.vN.fastSeek?r.vN.fastSeek(t):r.vN.currentTime=t,r.F8=void 0,r.D7(r.LE),r.vN.seeking?[4,c]:[3,10];case 9:h.sent(),h.label=10;case 10:return[2]}}))}))()},i.S7=function(){if(this.vV&&this.vV.F$){var t=this.vV.Y$,n=this.vV.V$,i=t&&n?t.Sn(n):t||n;if(i&&0!==i.V){var r=i.Cn(i.V-1),e=i.jn(i.V-1);return k.max(r,e-.001)}}},i.N7=function(){if(this.vV&&this.vV.F$){var t=this.vV.V$;if(t&&0!==t.V){var n=t.Cn(t.V-1),i=t.jn(t.V-1)-.02;return i-=.001,k.max(n,i)}}},i.D7=function(t){this.A7!==t&&(this.A7=t,this.G5?this.yo(new TS(t)):this.yo(new Cb(t)))},i.b7=function(){var t=this.G5;this.kG=!1,this.G5=!1,this.y7=0,this.A7=NaN,this.M7&&this.E7(),t?(this.yo(new kC(this.LE)),this.k7()):(this.yo(new jb(this.LE)),this.L7=!0),this.rJ()},i.T7=function(){this.G8||(this.W8=this.KE,this.G8=!0,this.d7())},i.E7=function(){this.G8&&(this.G8=!1,this.W8||this.r7())},i.H$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.YA===OA.QQ&&tE.H$(i,this.vN))return i;if(i.YA===OA.FQ&&MS.H$(i))return i}},i.be=function(){this.IG=!1,Oi(this.vN)&&(this.vN.style.display="none")},i.ge=function(){this.IG=!0,Oi(this.vN)&&(this.vN.style.display="block")},i.Wk=function(t,n,i,r,e,u,s,o,a){var c=new tL(t,n,i,r,e,u,s,a,o);return this.Ul.tt(c),this.C7.tt(c),c},i.CV=function(t){var n=t.Lt,i=t.kh,r=t.gs;if("function"==typeof this.vN.addTextTrack&&"function"==typeof f.VTTCue){var e=this.j7("data:text/vtt,WEBVTT%0A%0A",n,i,r),u=e.track,s=e.trackElement,o=new NC(u,s);return this.O7.tt(o),this.R7.push(o),o}var a=new bC(n,i,r);return this.Ul.tt(a),this.C7.tt(a),a},i.DV=function(){return!0},i.kV=function(t,n,i,r,e){var u=this.j7(t,n,i,r,e),s=u.track,o=u.trackElement,a=new KL(s,o);return this.O7.tt(a),this.R7.push(a),a},i.j7=function(t,n,i,r,e){var u=v.createElement("track");return u.src=Ol(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.default=!!e,u.id=iD(),this.vN.appendChild(u),{track:this.vN.textTracks.getTrackById(u.id),trackElement:u}},i.BQ=function(t){this.Ul.it(t),this.C7.it(t)},i.jV=function(){for(var t=0,n=this.Ul.AL.slice();t<n.length;t++){n[t].gn()}this.Ul.tr();for(var i=0,r=this.R7.slice();i<r.length;i++){var e=r[i];this.O7.it(e),e.gn()}Ro(this.R7)},i.XV=function(){var t=this.vN.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.P7),t.addEventListener("removetrack",this.z7),t.addEventListener("change",this.B7))},i.PV=function(){var t=this.vN.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.P7),t.removeEventListener("removetrack",this.z7),t.removeEventListener("change",this.B7))},i.U7=function(t){t.mode=iA.FL;var n=new sC(t);this.O7.tt(n),this.C7.tt(n)},i.Q7=function(t,n){var i=this,r=function(){xC(t)&&(t.removeEventListener("cuechange",r),i.O7.tt(new KL(t,n)))};t.addEventListener("cuechange",r),t.mode=iA.FL},i.F7=function(t){for(var n=this.vN.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Y7=function(){if(0!==this.O7.V){var t=this._k;if(0!==t.V){var n=t.Cn(0);if(this.V7!==n){for(var i=0,r=this.O7.AL;i<r.length;i++){r[i].NQ(n)}this.V7=n}}}},i.$n=function(t){var n=this;return this.G7.Wo(yn((function(i){var r,e;return pn(this,(function(u){switch(u.label){case 0:if(ta(i),n.vV)throw new A("Already loaded a media source");if(t.YA===OA.QQ)r=new tE(t,n,n.E$,n.KA),n.M7=!1,n.Z8.x8(n.W7());else{if(t.YA!==OA.FQ)throw new A("Unsupported configuration");n.M7=DC,e=n.W7(),r=new MS(t,n,e,n.E$,n.KA,void 0,n.m5),n.Z8.x8(e),IC&&(n.yn(Ma.Eb,n.Z7),n.Z8.yn(zA.lL,n.H7))}return n.vV=r,[4,r.FK()];case 1:return u.sent(),[2,r]}}))})))},i.W7=function(){return this.M7?new jS(this):new CS(this)},i.X7=function(){if(!this.B8){var t=this.$E;this.B8=!0,this.$E=t,this.vN.playbackRate=0,this.Z8&&this.Z8.X5()}},i.q7=function(){if(this.B8){var t=this.$E;this.B8=!1,this.$E=t,this.K7()}},i.K7=function(){this.vN.currentTime=this.vN.currentTime,this.Z8&&this.Z8.X5()},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.kG=!1,t.G5=!1,t.L7=!1,Kt.Rg(t.H8),t.H8=0,t.Fo=GM.PP(),t.w7.Ty(),t.F8=void 0,t.A7=NaN,t.U8=void 0,t.M7=!1,t.G8=!1,t.dV=void 0,t.V8=!1,t.J7=void 0,t.V7=0,t.ttt=!1,t.s7=!1,t.itt&&(t.ett(),t.itt=!1),t.f7(new qo),t.Z8.x8(new CS(t)),t.u7.tr(),t.O7.tr(),t.q7(),IC&&(yD(t.stt),t.stt=0,t.fn(Ma.Eb,t.Z7)),[4,t.G7.Ty()];case 1:return n.sent(),[4,t.G7.Wo(yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.vV?[4,t.vV.wy()]:[3,2];case 1:n.sent(),t.vV=void 0,Wt.Nf&&Wt.Df<3&&t.ntt(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.ntt=function(){this.ott();var t=this.vN,n=t.parentElement,i=t.tagName.toLowerCase();this.vN=gx(i),this.retainMediaElementState(t),wx(t),null==n||n.replaceChild(this.vN,t),this.ett(),this.Z8.x8(this.W7()),this.u7.fn(zA.oP,this.htt),this.u7.wy(),this.u7=new zS(this),this.u7.yn(zA.oP,this.htt),this.IG?this.ge():this.be(),this.yo(new Zb),this.yo(new Xb)},i.retainMediaElementState=function(t){this.gV.muted=t.muted,this.gV.volume=t.volume},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.itt=!1,t.ott(),t.PV(),[4,t.tr()];case 1:return n.sent(),[4,t.G7.gn()];case 2:return n.sent(),t.u7.wy(),t.Z8.wy(),[4,t.E$.wy()];case 3:return n.sent(),t.jV(),t.Ul.gn(),t.O7.gn(),[4,t.att.gn()];case 4:return n.sent(),t.utt.gn(),t.x7.gn(),t.Bo(),[2]}}))}))()},i.ett=function(){this.gV.addEventListener("play",this.ctt),this.gV.addEventListener("pause",this.ltt),this.gV.addEventListener("timeupdate",this.dtt),this.gV.addEventListener("progress",this.ftt),this.gV.addEventListener("loadstart",this.gtt),this.gV.addEventListener("ended",this._tt),this.gV.addEventListener("ratechange",this.wtt),this.gV.addEventListener("volumechange",this.mtt),this.gV.addEventListener("durationchange",this.ptt),this.gV.addEventListener("resize",this.Att),this.gV.addEventListener("loadedmetadata",this.Att),this.gV.addEventListener("error",this.ytt),this.gV.addEventListener("emptied",this.btt),this.gV.addEventListener("seeked",this.Mtt),this.gV.addEventListener("seeking",this.Ttt),lo()?(this.vN.addEventListener("encrypted",this.Stt),this.vN.addEventListener("waitingforkey",this.Ntt)):void 0!==Wr.WebKitMediaKeys&&"function"==typeof Wr.WebKitMediaKeys.isTypeSupported?this.vN.addEventListener("webkitneedkey",this.Itt):go()?this.vN.addEventListener("webkitneedkey",this.Dtt):void 0!==Wr.MSMediaKeys&&"function"==typeof Wr.MSMediaKeys.isTypeSupported&&this.vN.addEventListener("msneedkey",this.Ett)},i.ott=function(){this.gV.removeEventListener("play",this.ctt),this.gV.removeEventListener("pause",this.ltt),this.gV.removeEventListener("timeupdate",this.dtt),this.gV.removeEventListener("progress",this.ftt),this.gV.removeEventListener("loadstart",this.gtt),this.gV.removeEventListener("ended",this._tt),this.gV.removeEventListener("ratechange",this.wtt),this.gV.removeEventListener("volumechange",this.mtt),this.gV.removeEventListener("durationchange",this.ptt),this.gV.removeEventListener("resize",this.Att),this.gV.removeEventListener("loadedmetadata",this.Att),this.gV.removeEventListener("error",this.ytt),this.gV.removeEventListener("encrypted",this.Stt),this.gV.removeEventListener("waitingforkey",this.Ntt),this.gV.removeEventListener("webkitneedkey",this.Itt),this.gV.removeEventListener("webkitneedkey",this.Dtt),this.gV.removeEventListener("msneedkey",this.Ett),this.gV.removeEventListener("emptied",this.btt),this.gV.removeEventListener("seeked",this.Mtt),this.gV.removeEventListener("seeking",this.Ttt)},i.ktt=function(){this.Q8||(this.Fo=this.rk,this.Q8=IS(this),this.ott(),this.Q8.yn(NS,this.Ds))},i.Ltt=function(){if(this.Q8){var t=this.Q8;this.Q8=void 0,this.Z8.X5(),ES(this,t),t.wy(),this.ett()}},i.k7=function(){var t=this.LE;this.yo(new Cg(t,void 0)),this.J7=t},i.rJ=function(){this.V8||!this.OE||this.wk||(this.V8=!0,this.yo(new Lb(this.LE)))},i.eG=function(t){this.dV=t,this.f7(this.dV),this.yo(new RS(this.dV))},i.jtt=function(){this.Ctt||(mx(this.vN,Kt.Ys),this.Ctt=!0)},i.Ott=function(t){t.appendChild(this.vN)},i.M3=function(){IC&&this.Z7(),this.Z8.X5()},i.Fk=function(){this.E$.E8().catch(qt),this.O7.tr()},Ct(n,[{key:"K5",get:function(){return this.B8}},{key:"TE",get:function(){return this.vV?this.vV.TE:GM.PP()}},{key:"NE",get:function(){var t=this.wV;if(t&&!T(t.getTime())){var n=1e3*this.LE;return new Date(t.getTime()+n)}}},{key:"wV",get:function(){if(this.gV.getStartDate)return this.kG&&this.U8||(this.U8=this.gV.getStartDate()),this.U8}},{key:"LE",get:function(){return this.Q8?this.Q8.LE:void 0!==this.F8?this.F8:this.vN.currentTime}},{key:"Uu",get:function(){return this.Xu}},{key:"ct",get:function(){return this.Q8?this.Q8.ct:this.vV?this.vV.ct:this.vN.duration}},{key:"OE",get:function(){return this.wk?this.Y8():this.Q8?this.Q8.OE:this.vN.ended||this.V8}},{key:"lt",get:function(){return this.dV}},{key:"gV",get:function(){return this.vN}},{key:"KE",get:function(){return this.G8?this.W8:this.Q8?this.Q8.KE:this.vN.paused}},{key:"rk",get:function(){return this.Fo.pP(GM.xn(this.vN.played))}},{key:"Ti",get:function(){return this.vN.offsetHeight*Kt.Ys.bp}},{key:"ji",get:function(){return this.vN.offsetWidth*Kt.Ys.bp}},{key:"wa",get:function(){return this.Zo}},{key:"xV",get:function(){return this.Qo}},{key:"fk",get:function(){return this.Z8.fk}},{key:"_k",get:function(){return this.vV?this.vV._k:GM.PP()}},{key:"wk",get:function(){return this.Q8?this.Q8.wk:this.kG||this.vN.seeking&&!this.G5}},{key:"V5",get:function(){return this.Q8?this.Q8.V5:this.G5}},{key:"e6",get:function(){return 0!==this.H8}},{key:"WE",get:function(){return this.Q8?this.Q8.WE:this.vN.muted},set:function(t){this.Q8?this.Q8.WE=t:(this.vN.muted=t,this.X8())}},{key:"$E",get:function(){return this.Q8?this.Q8.$E:void 0!==this.q8?this.q8:this.vN.playbackRate},set:function(t){this.Q8?this.Q8.$E=t:this.KE||this.B8?(this.q8=t,this.K8()):(this.q8=void 0,this.vN.playbackRate=t,this.K8())}},{key:"t7",get:function(){return this.IG}},{key:"Nk",get:function(){return this.Q8?this.Q8.Nk:this.vN.volume},set:function(t){this.Q8?this.Q8.Nk=t:(this.vN.volume=t,this.X8())}},{key:"nt",get:function(){return this.x7}},{key:"Ll",get:function(){return this.FG}},{key:"FE",get:function(){return!!this.vN.webkitCurrentPlaybackTargetIsWireless}},{key:"xtt",get:function(){return this.Ctt}},{key:"mz",get:function(){return ys({},FI)}},{key:"zV",get:function(){return this.E$.zV},set:function(t){this.E$.zV=t}},{key:"Rtt",get:function(){return this.m5},set:function(t){this.m5=t}},{key:"w8",get:function(){return this.E$.w8}},{key:"xk",get:function(){return this.ttt},set:function(t){this.ttt=t,this.itt&&!this.ttt&&(this.itt=!1,this.ett())}}]),n}(Aa);var CC=.01;function jC(t,n){for(var i=0,r=t.AL;i<r.length;i++){var e=r[i];if(e.sB===n)return e}}function xC(t){return!!t.cues&&t.cues.length>0}Q(),Nt(),Zt(),St();var OC={t$:void 0,i$:void 0,e$:void 0,s$:void 0,n$:void 0,r$:void 0,o$:void 0,h$:void 0,a$:void 0,u$:void 0},zC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Za=void 0,n}return Et(n,t),Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=UI(this)),this.Za}},{key:"t$",get:function(){}},{key:"i$",get:function(){}},{key:"e$",get:function(){}},{key:"s$",get:function(){}},{key:"n$",get:function(){}},{key:"r$",get:function(){}},{key:"Qtt",get:function(){}},{key:"o$",get:function(){}},{key:"h$",get:function(){}},{key:"a$",get:function(){}},{key:"u$",get:function(){}}]),n}(Aa),RC=function(t){function n(n,i,r){return t.call(this,n,i,r,new zC)||this}return Et(n,t),n.prototype.jk=function(){},Ct(n,[{key:"yk",get:function(){return 0}},{key:"Tk",get:function(){return 0}}]),n}(LC);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt();var BC=function(){function t(t){void 0===t&&(t=5);var n=Wr.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Ftt=n,this.ge()}var n=t.prototype;return n.be=function(){this.Ftt.style.display="none"},n.ge=function(){this.Ftt.style.display="block"},n.Ott=function(t){t.appendChild(this.Ftt)},n.gn=function(){ki(this.Ftt)},Ct(t,[{key:"we",get:function(){return this.Ftt}}]),t}();function UC(t,n){return ys({},n,Kg(function(t){return{t$:t.t$,i$:t.i$,e$:t.e$,s$:t.s$,n$:t.n$,r$:t.r$,o$:t.o$,h$:t.h$,a$:t.a$,u$:t.u$}}(t)))}function PC(t){return t.e$&&io(t.e$,"%")?Number(t.e$.replace("%",""))/100:t.e$&&io(t.e$,"em")?Number(t.e$.replace("em","")):1}Q(),Nt(),Zt(),Q(),Nt(),St(),Sn(),gn(),Q(),Nt(),Zt(),Q(),Nt(),Q(),Nt(),Zt();var QC=function(){function t(t,n,i,r){this.Vtt=t,this.Wtt=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.Ztt=function(t){return this.Vtt<t.Ytt&&this.Ytt>t.Vtt&&this.Wtt<t.Gtt&&this.Gtt>t.Wtt},n.Jz=function(t){return this.Vtt<=t.Vtt&&t.Ytt<=this.Ytt&&this.Wtt<=t.Wtt&&t.Gtt<=this.Gtt},n.Zb=function(){return new t(this.Vtt,this.Wtt,this.ji,this.Ti)},n.Htt=function(n){return new t(this.Vtt+n,this.Wtt+n,k.max(0,this.ji-2*n),k.max(0,this.Ti-2*n))},n.Xtt=function(n){var i=k.min(this.Vtt,n.Vtt),r=k.max(this.Ytt,n.Ytt),e=k.min(this.Wtt,n.Wtt);return new t(i,e,r-i,k.max(this.Gtt,n.Gtt)-e)},Ct(t,[{key:"Ytt",get:function(){return this.Vtt+this.ji},set:function(t){this.Vtt=t-this.ji}},{key:"Gtt",get:function(){return this.Wtt+this.Ti},set:function(t){this.Wtt=t-this.Ti}}]),t}(),YC=function(){function t(t,n,i,r,e){var u=this;this.cit=ps(),this.Iit=!0,this.eit=ys({},OC),this.Eit=[],this.dit=function(t){return u.RQ(t.uB)},this.fit=function(t){return u.SQ(t.uB)},this.git=function(){return u.Tit()},this.wit=function(t){return u.yit(t.uB)},this.mit=function(t){return u.Mit(t.uB)},this.pit=function(t){return u.Dit(t.uB)},this.nit=function(t){return u.re(t.width,t.height)},this.bB=t,this.oit=this.tit=e,this.vN=this.jit(i),this.Xu=r,n.appendChild(this.vN)}var n=t.prototype;return n.qtt=function(t){var n=this.Ktt(t);if(!n)return!1;for(var i=0;i<n.length;i++){ki(n[i])}return this.Jtt(t),!0},n.FK=function(){var t=this;this.sit(),this.bB.L.AL.forEach((function(n){return t.RQ(n)})),this.Uu.yn(_D.pn,this.nit),this.re(this.Uu.Su,this.Uu.Tu)},n.rit=function(t){this.eit=t,this.tit=UC(this.eit,this.oit),this.tit.t$&&(this.gV.style.fontFamily=this.tit.t$),this.re(this.Uu.Su,this.Uu.Tu),this.hit(!0)},n.ait=function(){return this.tit},n.uit=function(t){return this.cit.has(t.zL)},n.sit=function(){this.bB.yn(Yg.Jk,this.dit),this.bB.yn(Yg.tL,this.fit),this.bB.yn(Yg.aa,this.git)},n._it=function(){this.bB.fn(Yg.Jk,this.dit),this.bB.fn(Yg.tL,this.fit),this.bB.fn(Yg.aa,this.git)},n.vit=function(t){t.yn(Hw.kz,this.wit),t.yn(Hw.Lz,this.mit),t.yn(Hw._L,this.pit)},n.Ait=function(t){t.fn(Hw.kz,this.wit),t.fn(Hw.Lz,this.mit),t.fn(Hw._L,this.pit)},n.RQ=function(t){this.vit(t),t.Yh&&this.yit(t)},n.SQ=function(t){this.Ait(t),this.Mit(t)},n.Tit=function(){this.bB.UI===iA.Jn?this.Sit():this.Nit()},n.Sit=function(){if(this.Iit){this.Iit=!1;var t=this.Uu.Su,n=this.Uu.Tu;this.re(t,n),this.hit(!1)}},n.Nit=function(){this.Iit||(this.Iit=!0,this.hit(!0))},n.yit=function(t){this.Iit||t.Yh&&!this.uit(t)&&this.hit(!1)},n.Mit=function(t){this.uit(t)&&this.hit(!0)},n.Dit=function(t){(t.Yh||this.uit(t))&&this.hit(!0)},n.hit=function(t){var n=this.Eit,i=this.Iit?[]:this.bB.q.AL.slice();this.kit(i,n,t),this.Eit=i},n.Ktt=function(t){return this.cit.get(t.zL)},n.Lit=function(t,n){this.cit.set(t.zL,n)},n.Jtt=function(t){this.cit.delete(t.zL)},n.xit=function(t){var n=[],i=this.tit;if(void 0!==i.o$){var r=t.Zb();r.Ti=i.o$,n.push(r)}if(void 0!==i.h$){var e=t.Zb();e.Ti=i.h$,e.Gtt=t.Gtt,n.push(e)}return n},n.Cit=function(){return this.Eit.slice()},n.gn=function(){var t=this;ki(this.gV),this.cit.clear(),this._it(),this.bB.L.AL.forEach((function(n){return t.Ait(n)})),this.Uu.fn(_D.pn,this.nit)},Ct(t,[{key:"Ht",get:function(){return this.bB}},{key:"gV",get:function(){return this.vN}},{key:"Uu",get:function(){return this.Xu}},{key:"$tt",get:function(){return this.tit}},{key:"iit",get:function(){return this.eit}}]),t}();function GC(t,n,i,r,e){var u=t.Zb(),s=u,o=1,a=!1,c=b(getComputedStyle(n).lineHeight)/4;if(!T(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!XC(t,r,i[h],.01)&&(!r.Jz(t)||VC(t,e));)ZC(t,i[h],c);if(r.Jz(t)){s=t.Zb(),a=!0;break}var f=HC(t,r);o>f&&(s=t.Zb(),o=f),t=u.Zb()}r.Jz(t)||(s=u.Zb())}n.style.left=(s.Vtt-r.Vtt)/r.ji*100+"%",n.style.top=(s.Wtt-r.Wtt)/r.Ti*100+"%"}function VC(t,n){return n.some((function(n){return t.Ztt(n)}))}function FC(t){return new QC(t.left,t.top,t.width,t.height)}var WC=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function ZC(t,n,i){switch(n){case 0:t.Vtt+=i;break;case 1:t.Vtt-=i;break;case 2:t.Wtt+=i;break;case 3:t.Wtt-=i}}function XC(t,n,i,r){switch(i){case 0:return t.Ytt>n.Ytt+r;case 1:return t.Vtt<n.Vtt-r;case 2:return t.Gtt>n.Gtt+r;case 3:return t.Wtt<n.Wtt-r}}function HC(t,n){return k.max(0,k.min(t.Ytt,n.Ytt)-k.max(t.Vtt,n.Vtt))*k.max(0,k.min(t.Gtt,n.Gtt)-k.max(t.Wtt,n.Wtt))/(t.ji*t.Ti)}Q(),Nt();var KC=function(t){return t.Gc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Xc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Jc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Qc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({}),JC=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function qC(t){return $C[t||"none"]}var $C={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},tj="monospace, sans-serif",nj="Arial, Helvetica, sans-serif",ij='"Times New Roman", Times, serif',rj=_s({monospace:"monospace",sansSerif:nj,serif:ij,monospaceSansSerif:tj,monospaceSerif:"monospace, serif",proportionalSansSerif:nj,proportionalSerif:ij,default:tj}),ej=16,uj="1.3em",sj=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,OC)||this}Et(n,t);var i=n.prototype;return i.jit=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",Ii(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=ej+"px",i.lineHeight=uj,n},i.re=function(t,n){var i=k.min(t/640,n/360),r=ej*i*PC(this.$tt);this.gV.style.fontSize=r+"px"},i.kit=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.Yh||this.qtt(u)}var s=[],o=FC(this.gV.getBoundingClientRect());(r=s).push.apply(r,ln(this.xit(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.zit(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.Htt(.1))}},i.zit=function(t,n,i){var r=this.Ktt(t);r||(r=this.Bit(t),this.Lit(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.gV.appendChild(u)}for(var s=[],o=[WC.POS_Y,WC.NEG_Y,WC.POS_X,WC.NEG_X],a=0;a<r.length;a++){var c=r[a];GC(Aj(c),c,o,i,n),s.push(Aj(c))}return s},i.Bit=function(t){var n=[],i=t.dQ,r=t.oQ,e=t._Q,u=t.U,s=t.cQ,o=s?k.min(640/s.width,360/s.height):1,a=this.$tt;if(0===_.keys(r).length){var c=v.createElement("div");yj(c),oj(u,i,e,c,c,o,a),aj(c,"body",a),c.firstChild&&n.push(c)}else for(var h=0,f=_.keys(r);h<f.length;h++){var d=f[h],l=v.createElement("div");l.id=d,yj(l),fj(l,"region",r[d],i,o),oj(u,i,e,l,l,o,a),aj(l,"body",a),l.firstChild&&n.push(l)}return n},i.rit=function(n){return GI(this.gV,n),t.prototype.rit.call(this,n)},n}(YC);function oj(t,n,i,r,e,u,s){if(yg(t)&&function(t){var n=t.jD.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=cj(t);if(!o||(null==e?void 0:e.id)===o){var a;if("BODY"===t.jD.toUpperCase())a=e;else{if(a=function(t){var n;switch(t.jD.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":mj(n=v.createElement("span")),hj(n,t);break;case"P":(function(t){mj(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),hj(n,t);break;case"DIV":hj(n=v.createElement("div"),t)}return n}(t),!a)return;r.appendChild(a)}!function(t,n,i,r,e){var u=n.KD("style");lj(t,n.jD,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.XD;e<u.length;e++){var s=u[e];gj(t,n.jD,s.jD,s.zD,i,r)}}(t,n,r,e)}(a,t,n,e,u),function(t,n,i){var r=null==n?void 0:n.KD("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&vj(i,(function(t){return t.XD.some((function(t){return"id"===t.jD&&t.zD===r}))}));e&&dj(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.jD.toLowerCase())return;var r=i.m[0];dj(t,r,n)}(t,n)}(a,t,i),aj(a,t.jD,s);for(var c=0,h=t.QD;c<h.length;c++){oj(h[c],n,i,a,e,u,s)}}}else if(mg(t)){var f=v.createTextNode(t.rI);if("SPAN"!==r.nodeName.toUpperCase()){var d=v.createElement("span");mj(d),aj(d,"span",s),d.appendChild(f),r.appendChild(d)}else r.appendChild(f)}}function aj(t,n,i){var r=t.style;switch(i.t$&&(r.fontFamily=i.t$),i.i$&&(r.color=i.i$),n.toLowerCase()){case"span":i.s$&&(r.background=i.s$);break;case"p":case"div":i.n$&&(r.backgroundColor=i.n$);break;case"body":i.r$&&(r.textShadow=qC(i.r$))}}function cj(t){var n=t.KD("region");if("p"===t.jD.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(cj(s))}return Vo(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function hj(t,n){var i=n.JD(Rm,"id");i&&(t.id=i)}function fj(t,n,i,r,e){lj(t,n,i.style,r,t,e);for(var u=0,s=_.keys(i);u<s.length;u++){var o=s[u];gj(t,n,o,i[o],t,e)}}function vj(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=vj(r[i],n);if(e)return e}return null}function dj(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.QD.length>0?t.QD[0]:null;return n&&mg(n)?"data:image/png;base64,"+n.rI:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;Ii(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.KD("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.KD("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function lj(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=_.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?lj(t,n,r[a][f],r,e,u):gj(t,n,f,r[a][f],e,u)}}}function gj(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=rj.get(r))?o:r;break;case"fontSize":var a=r;if(io(a,"px")){var c=Number(a.slice(0,-2));a=c*u/ej+"em"}else io(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=uj);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(io(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var d,l,g=wj(n.toLowerCase())?e:t,w=r.split(" ",2);2===w.length?(d=w[0],l=w[1]):d=l="100%",g&&(g.style.height=l,g.style.width=d);break;case"origin":var y=wj(n.toLowerCase())?e:t,m=En(r.split(" ",2),2),A=m[0],p=m[1];y&&(A||p)&&(A&&(y.style.left=A),p&&(y.style.top=p));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var _,k,M,b;switch(r){case"lrtb":case"lr":_="horizontal-tb";break;case"rltb":_="horizontal-tb",k="rtl",b="bidi-override";break;case"tbrl":case"tb":_="vertical-rl",M="upright";break;case"tblr":_="vertical-lr",M="upright";break;case"rl":_="horizontal-tb",k="rtl";break;default:return}s.writingMode=_,s.setProperty("-webkit-writing-mode",_),k&&(s.direction=k),M&&(s.textOrientation=M,s.setProperty("-webkit-text-orientation",M)),b&&(s.unicodeBidi=b);break;case"linePadding":if(io(r,"c")){var T=r.replace("c","em");s.paddingLeft=s.paddingRight=T}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function wj(t){return"div"===t||"p"===t||"span"===t}function yj(t){var n=t.style;Ii(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=nj,n.color=JC.WHITE,n.background=JC.TRANSPARENT,n.textShadow=qC("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function mj(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function Aj(t){var n=FC(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.Xtt(FC(e.getBoundingClientRect()))}return n}Q(),Nt(),St(),Sn(),gn(),Q(),Nt();var pj=void 0;function _j(t){return pj||(pj=Wr.document.createElement("textarea")),pj.innerHTML=t,pj.value}function kj(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.tc),s="",o={YA:"starttag",GD:"",Uit:[]};n.tc<t.length+1;){switch(u=n.tc<t.length?t.charAt(n.tc):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.tc).match(/&#?[0-9a-zA-Z]+;/);a?(r+=_j(a[0]),n.Gb(a[0].length-1)):r+="&";break;case"<":if(r)return{YA:"string",U:r};i="Tag";break;case"EOF":return{YA:"string",U:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.Gb(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.Gb(1),{YA:"starttag",GD:r,Uit:[]};case"EOF":return{YA:"starttag",GD:r,Uit:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.Gb(1),e.push(s),{YA:"starttag",GD:r,Uit:e};case"EOF":return e.push(s),{YA:"starttag",GD:r,Uit:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.Gb(1);var c=s.trim();return{YA:"starttag",GD:r,Uit:e,Qit:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.tc;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.Gb(1),{YA:"endtag",GD:r};case"EOF":return{YA:"endtag",GD:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.Gb(1),{YA:"timestamp",Fit:r};case"EOF":return{YA:"timestamp",Fit:r};default:r+=u}}n.Gb(1)}return o}var Mj=function(t){return t.Yit="string",t.Vit="starttag",t.Git="endtag",t.Wit="timestamp",t}({});function bj(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}Q(),Nt();var Tj={i$:JC.WHITE,t$:"sans-serif",e$:"100%",s$:"rgba(0,0,0,0.8)",n$:JC.TRANSPARENT,r$:"none",o$:void 0,h$:void 0,a$:void 0,u$:void 0},Nj="theoplayer-webvtt-region-",Dj="theoplayer-webvtt-styling-",Ij="theoplayer-webvtt-default-style",Ej=5.23,Sj=1.14,Lj=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Tj)||this).qit=As(),u.Xit=Rj(3),u}Et(n,t);var i=n.prototype;return i.jit=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,Si(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.$tt.t$;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(v.getElementById(Ij))return;for(var t=[],n=0;n<Pj.length;n++){var i=En(Pj[n],2),r=i[0],e=i[1];t.push("."+Dj+r+" { color: "+e+" !important; }"),t.push("."+Dj+"Zit"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("Hit"+r+") { background-color: "+e+"; }")}var u=v.createElement("style");u.id=Ij,u.innerHTML=t.join("\n"),v.body.appendChild(u)}(),n},i.FK=function(){this.gV.appendChild(this.Xit),t.prototype.FK.call(this)},i.re=function(t,n){var i=this,r=k.min(t/100,n/100),e=PC(this.$tt);this.qit.forEach((function(t){var n=t.wB,u=t.Kit;i.Jit(u,r,e,n)})),this.Jit(this.Xit,r,e)},i.rit=function(n){GI(this.gV,n),t.prototype.rit.call(this,n)},i.kit=function(t,n,i){for(var r,e=this,u=this.gV,s=this.Uu.Tu/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.wB&&(Oo(o,c.wB)||o.push(c.wB))}this.qit.forEach((function(t,n){var r=t.wB,u=t.Kit;!i&&Oo(o,r)||(ki(u),e.qit.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.Yh||this.qtt(f)}var v=[],d=FC(this.Xit.getBoundingClientRect());(r=v).push.apply(r,ln(this.xit(d)));for(var l=0;l<o.length;l++){var g=o[l],w=void 0;this.qit.has(g.o)?w=this.qit.get(g.o).Kit:(w=Bj(g,s),u.appendChild(w),this.qit.set(g.o,{wB:g,Kit:w})),v.push(FC(w.getBoundingClientRect()))}t.sort(Qj);for(var y=0;y<t.length;y++){var m=t[y],A=this.zit(m,v,d);void 0!==A&&v.push(A.Htt(.1))}},i.zit=function(t,n,i){var r,e;t.wB?(e=this.qit.get(t.wB.o).Kit,"up"===t.wB.OB&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.Xit;var u=null==(r=this.Ktt(t))?void 0:r[0];if(u||(u=this.$it(t),this.Lit(t,[u])),e.appendChild(u),t.wB||(Cj(u,t),t.mB?function(t,n,i,r){var e=Uj(t),u=e?i.Ti:i.ji,s=b(getComputedStyle(n).lineHeight);if(0===s||T(s))return;var o=FC(n.getBoundingClientRect()),a=k.round(hy(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.Wtt+=c:o.Vtt+=c;var h=o.Zb(),f=!1;for(;!i.Jz(o)||VC(o,r);)if(e)if(s<0&&o.Wtt<i.Wtt||s>0&&o.Gtt>i.Gtt){if(o.Wtt=h.Wtt,f)break;s=-s,f=!0}else o.Wtt+=s;else if(s<0&&o.Vtt<i.Vtt||s>0&&o.Ytt>i.Ytt){if(o.Vtt=h.Vtt,f)break;s=-s,f=!0}else o.Vtt+=s;e?n.style.top=(o.Wtt-i.Wtt)/i.Ti*100+"%":n.style.left=(o.Vtt-i.Vtt)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=FC(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;Uj(t)?"center"===t._B?u.Wtt-=u.Ti/2:"end"===t._B&&(u.Wtt-=u.Ti):"center"===t._B?u.Vtt-=u.ji/2:"end"===t._B&&(u.Vtt-=u.ji);e=""===t.Pt?[WC.POS_Y,WC.NEG_Y,WC.POS_X,WC.NEG_X]:"lr"===t.Pt?[WC.POS_X,WC.NEG_X,WC.POS_Y,WC.NEG_Y]:[WC.NEG_X,WC.POS_X,WC.POS_Y,WC.NEG_Y];GC(u,n,e,i,r)}(t,u,i,n)),!t.wB)return FC(u.getBoundingClientRect())},i.$it=function(t){for(var n=new Vc,i=t.U,r=this.tet(t),e={iet:void 0,we:r},u=e,s="",o="",a=[e],c=[],h=[];n.tc<i.length;){var f=kj(i,n);if(f.YA===Mj.Yit){var d=v.createElement("span");bj(d,f.U),jj(d,a),""!==s&&(d.lang=s),this.eet(d,o),u.we.appendChild(d)}else if(f.YA===Mj.Vit){var l=f.GD.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var g=v.createElement(l);u.we.appendChild(g),u={iet:f,we:g},a.push(u);break;case"rt":var w;if("ruby"===(null==(w=u.iet)?void 0:w.GD.toLowerCase())){var y=v.createElement("rt");u.we.appendChild(y),u={iet:f,we:y},a.push(u)}break;case"c":case"v":u={iet:f,we:u.we},a.push(u);break;case"font":var m,A=null==(m=f.Qit)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);A&&(o=A[1],h.push(o),u={iet:f,we:u.we},a.push(u));break;case"lang":var p;s=null!=(p=f.Qit)?p:"",c.push(s)}}else if(f.YA===Mj.Git){var _,k=f.GD.toLowerCase(),M=null==(_=u.iet)?void 0:_.GD.toLowerCase();M===k?(a.pop(),u=a[a.length-1],"font"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")):"rt"===M&&"ruby"===k?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===k&&(c.pop(),s=c.length>0?c[c.length-1]:"")}else if(f.YA===Mj.Wit){var b=f.Fit,T=new Vc;try{im(b,T)}catch(t){he("ERROR collecting timestamp",t)}}}return r},i.eet=function(t,n){var i=this.$tt,r=this.iit;i.s$&&(t.style.background=i.s$);var e=r.i$||n||i.i$;e&&(t.style.color=e)},i.Jit=function(t,n,i,r){if(r){var e=xj(r,n);t.style.height=e*i+"px",t.style.left=Oj(r)+"%",t.style.top=zj(r,n)+"px"}t.style.fontSize=Ej*n*i+"px"},i.tet=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.fB,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=dy(n);Uj(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),Cj(n,t);var i=this.$tt.n$;i&&(n.style.background=i);var r=this.$tt.i$;return r&&(n.style.color=r),n.style.textShadow=qC(this.$tt.r$),n},n}(YC);function Cj(t,n){var i,r,e=vy(n),u=fy(n),s=dy(n);if(Uj(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.mB?0:hy(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.mB?0:hy(n)}t.style.left=i+"%",t.style.top=r+"%"}function jj(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.iet){for(var e=0,u=r.iet.Uit;e<u.length;e++){var s=u[e];Ni(t,Dj+s)}"v"===r.iet.GD.toLowerCase()&&r.iet.Qit&&Ni(t,"theoplayer-webvtt-voice-"+r.iet.Qit)}}}function xj(t,n){return t.xB*(Ej*n)*Sj}function Oj(t){return t.RB-t.CB*t.ji/100}function zj(t,n){var i=t.PB,r=t.jB*xj(t,n)/100;return k.max(0,i-r)}function Rj(t){var n=v.createElement("div");return n.className=Nj+"default",Si(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=Ej*t+"px",n.style.lineHeight=Sj+"em",n}function Bj(t,n){var i=Rj(n);i.className=Nj+t.o;var r=t.ji,e=xj(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=Oj(t)+"%",i.style.right="",i.style.top=zj(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function Uj(t){return""===t.Pt}var Pj=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function Qj(t,n){var i=hy(t),r=hy(n),e=Yj(i,t.mB),u=Yj(r,n.mB);return e&&u?i-r||US(n,t)||n.zL-t.zL:US(t,n)||t.zL-n.zL}function Yj(t,n){return n?t<0?t>-8:t>8:t>50}Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),Q(),Nt();var Gj=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),Vj={i$:JC.WHITE,t$:KC.Jc,e$:"100%",s$:JC.BLACK,n$:"transparent",r$:"none",net:"regular",o$:void 0,h$:void 0,a$:void 0,u$:void 0},Fj=[{ret:JC.WHITE,net:"regular",oet:0},{ret:JC.WHITE,net:"underline",oet:0},{ret:JC.GREEN,net:"regular",oet:0},{ret:JC.GREEN,net:"underline",oet:0},{ret:JC.BLUE,net:"regular",oet:0},{ret:JC.BLUE,net:"underline",oet:0},{ret:JC.CYAN,net:"regular",oet:0},{ret:JC.CYAN,net:"underline",oet:0},{ret:JC.RED,net:"regular",oet:0},{ret:JC.RED,net:"underline",oet:0},{ret:JC.YELLOW,net:"regular",oet:0},{ret:JC.YELLOW,net:"underline",oet:0},{ret:JC.MAGENTA,net:"regular",oet:0},{ret:JC.MAGENTA,net:"underline",oet:0},{ret:JC.WHITE,net:"italics",oet:0},{ret:JC.WHITE,net:"underline-italics",oet:0},{ret:JC.WHITE,net:"regular",oet:0},{ret:JC.WHITE,net:"underline",oet:0},{ret:JC.WHITE,net:"regular",oet:4},{ret:JC.WHITE,net:"underline",oet:4},{ret:JC.WHITE,net:"regular",oet:8},{ret:JC.WHITE,net:"underline",oet:8},{ret:JC.WHITE,net:"regular",oet:12},{ret:JC.WHITE,net:"underline",oet:12},{ret:JC.WHITE,net:"regular",oet:16},{ret:JC.WHITE,net:"underline",oet:16},{ret:JC.WHITE,net:"regular",oet:20},{ret:JC.WHITE,net:"underline",oet:20},{ret:JC.WHITE,net:"regular",oet:24},{ret:JC.WHITE,net:"underline",oet:24},{ret:JC.WHITE,net:"regular",oet:28},{ret:JC.WHITE,net:"underline",oet:28}],Wj=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function Zj(t,n){return Ey(t.het,n.het)||ko(t.mR,n.mR)}Q(),Nt(),Sn();var Xj=32,Hj=/CC([1-4])=(.*)/;function Kj(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(Hj)})))for(var r=0;r<i.length;r++){var e=En(i[r].match(Hj),3),u=e[1],s=e[2];n.push({aet:Number(u),uet:s})}else for(var o=0;o<i.length;o++)n.push({aet:o+1,uet:i[o]});return n}var Jj=function(){function t(t,n,i){this.det=t,this.Tet=n,this.tit=i}var n=t.prototype;return n.pr=function(){return this.pet=this.Aet(),this.yet(),this.bet(),this.pet},n.Aet=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.vet/Xj*this.Tet.Met*100+"%",t.style.height=1.2*this.wet+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Tet.Net?"calc(1em - 1ch)":"";var n=this.tit.t$;n&&(t.style.fontFamily=n);var i=this.tit.n$;return i&&(t.style.backgroundColor=i),t},n.yet=function(){if(this.pet){var t=this.cet.met/15*100,n=this.cet.oet/Xj*100,i=(Xj-this.fet.oet-1)/Xj*100,r=(15-this.fet.met-1)/15*100;this.Tet.Iet||(n=i=1,this.pet.style.width="98%"),r<t?this.pet.style.bottom=r*this.Tet.Met+"%":this.pet.style.top=t*this.Tet.Met+"%",i<n?this.pet.style.right=i+"%":this.pet.style.left=n+"%"}},n.bet=function(){for(var t=this.det.Det.sort(qj),n=0;n<t.length;n++)this.Eet(t[n-1],t[n]),this.ket(t[n]);this.Eet(t[t.length-1],void 0)},n.ket=function(n){var i,r=UC(this.tit,n.Let),e=t.xet(r);bj(e,n.Cet),null==(i=this.pet)||i.appendChild(e)},n.Eet=function(t,n){var i=t?t._et.met:this.det.let.met,r=n?n.let.met:this.det._et.met,e=t?t._et.oet:this.det.let.oet,u=n?n.let.oet:this.det._et.oet;i<r&&(!n||t&&t.let.met!==n.let.met?this.jet():this.Oet(this.det._et.oet-e),e=this.det.let.oet),e<u&&(n?this.Oet(u-e):this.jet())},n.jet=function(){var t,n=v.createElement("br");null==(t=this.pet)||t.appendChild(n)},n.Oet=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",bj(i,eo(" ",t)),null==(n=this.pet)||n.appendChild(i)}},t.xet=function(t){var n=v.createElement("span");n.style.display="inline-block",t.net!==Gj.FONT_ITALICS&&t.net!==Gj.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.net!==Gj.FONT_UNDERLINE&&t.net!==Gj.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.i$;i&&(n.style.color=i);var r=t.s$;return r&&(n.style.backgroundColor=r),n.style.textShadow=qC(t.r$),n.style.height="1.2em",n},Ct(t,[{key:"cet",get:function(){return this.det.let}},{key:"fet",get:function(){return this.det._et}},{key:"vet",get:function(){return this.det._et.oet-this.det.let.oet+1}},{key:"wet",get:function(){return this.det._et.met-this.det.let.met+1}}]),t}();function qj(t,n){return function(t,n){if(t.met!==n.met)return t.met-n.met;return t.oet-n.oet}(t.let,n.let)}var $j=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Vj)||this}Et(n,t);var i=n.prototype;return i.jit=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.$tt.t$&&(n.style.fontFamily=this.$tt.t$),n},i.re=function(t,n){this.vl()},i.vl=function(){var t=PC(this.$tt);this.Ret=function(t){return{Met:t/100,Net:t<=100,Iet:t<=150}}(100*t);var n=this.Pet/Xj;this.zet=n*t,this.gV.style.fontSize=this.zet+"px"},i.kit=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.Yh||this.qtt(e)}for(var u=0;u<t.length;u++){var s=t[u];this.zit(s)}},i.zit=function(t){this.Ret&&this.Ret.Iet?this.Bet(80):this.Bet(100),this.vl();var n=this.Ktt(t);n||(n=this.Bit(t),this.Lit(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.gV.appendChild(r)}},i.Bit=function(t){var n=this;return t.U.map((function(t){return new Jj(t,n.Ret,n.$tt).pr()}))},i.Bet=function(t){var n=(100-t)/2;this.gV.style.left=n+"%",this.gV.style.width=t+"%"},Ct(n,[{key:"Pet",get:function(){var t=this.gV.offsetWidth;return this.Ret&&this.Ret.Iet||(t*=.8),t}}]),n}(YC),tx=function(){function t(t,n,i,r,e,u){var s=this;this.Qet=[],this.qet=function(t){var n=t.Ht;n.yn(Yg.lL,s.Xet),n.yn(Yg.fL,s.Xet),n instanceof KL&&(n.X6=s.X6),s.Zet(n)},this.Xet=function(t){var n=t.Ht;s.Zet(n)},this.Ket=function(t){var n=t.Ht;n.fn(Yg.lL,s.Xet),n.fn(Yg.fL,s.Xet),s.Wet(n)},this.Jet=function(){for(var t=s.X6,n=0,i=s.Ul.AL;n<i.length;n++){var r=i[n];r instanceof KL&&(r.X6=t)}},this.$et=function(){for(var t=0,n=s.Qet;t<n.length;t++){n[t].rit(s.FG)}},this.Vet=t,this.Xu=n,this.Ul=i,this.Het=e,this.Qo=u,this.FG=r,this.Ul.yn(Rg.Hk,this.qet),this.Ul.yn(Rg.qk,this.Ket),this.Ul.yn(Yg.aa,this.Xet),this.Het.yn(hT.aa,this.Jet),this.Qo.yn([Hb.kz,Hb.Lz],this.Jet),this.FG.yn("cL",this.$et),this.Jet()}var n=t.prototype;return n.Uet=function(t){for(var n=0,i=this.Qet;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.Yet=function(t){switch(t.YA){case Yw.TTML:return new sj(t,this.Vet,t.kh,this.Xu);case Yw.SRT:case Yw.WEBVTT:return new Lj(t,this.Vet,t.kh,this.Xu);case Yw.CEA608:return new $j(t,this.Vet,t.kh,this.Xu)}},n.Get=function(t){var n=this.Uet(t);n||(n=this.Yet(t))&&(n.FK(),n.rit(this.FG),this.Qet.push(n),t.UI===iA.Jn&&n.Sit())},n.Wet=function(t){for(var n=this.Qet,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.gn(),jo(n,i))}},n.Zet=function(n){(function(t){return t===hA.AQ||t===hA.yQ})(n.Lt)&&t.Fet(n)&&(n.fk===Qw.ERROR?this.Wet(n):this.Get(n))},n.tr=function(){for(var t=0,n=this.Qet;t<n.length;t++){var i=n[t];i.Ht.fn(Yg.lL,this.Xet),i.Ht.fn(Yg.fL,this.Xet),i.gn()}Ro(this.Qet)},n.gn=function(){this.tr();for(var t=0,n=this.Qet;t<n.length;t++){n[t].gn()}this.Ul.fn(Rg.Hk,this.qet),this.Ul.fn(Rg.qk,this.Ket),this.Ul.fn(Yg.aa,this.Xet),this.Het.fn(hT.aa,this.Jet),this.Qo.fn([Hb.kz,Hb.Lz],this.Jet),this.FG.fn("cL",this.$et)},t.Fet=function(t){switch(t.YA){case Yw.TTML:case Yw.SRT:case Yw.WEBVTT:case Yw.CEA608:return!0}return!1},Ct(t,[{key:"X6",get:function(){return this.Het.cs||this.Qo.xz}}]),t}();Q(),Nt(),An(),Zt(),St(),Tn();var nx=function(t){function n(n){var i;return(i=t.call(this)||this).ist=!1,i.sst=function(){i.ist=!0,i.yo(new Kb)},i.nst=function(){i.ist=!1,i.yo(new Jb)},i.tst=n,i.tst.addEventListener("enterpictureinpicture",i.sst),i.tst.addEventListener("leavepictureinpicture",i.nst),i}Et(n,t);var i=n.prototype;return i.co=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Cz?t.xz?[3,3]:(n=t.zy([Hb.kz,Hb.ua]),[4,t.tst.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.ist||t.yo(new dT),i.label=3;case 3:return[3,5];case 4:t.yo(new dT),i.label=5;case 5:return[2]}}))}))()},i.bo=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Cz?t.ist?(n=t.zy([Hb.Lz,Hb.ua]),[4,t.tst.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.ist&&t.yo(new dT),i.label=3;case 3:return[3,5];case 4:t.yo(new dT),i.label=5;case 5:return[2]}}))}))()},i.gn=function(){this.Bo(),this.tst.removeEventListener("enterpictureinpicture",this.sst),this.tst.removeEventListener("leavepictureinpicture",this.nst)},Ct(n,[{key:"Cz",get:function(){var t;return null!=(t=this.tst.ownerDocument.pictureInPictureEnabled)&&t}},{key:"xz",get:function(){return this.ist}}]),n}(Aa);function ix(t){var n=new PD,i=function(t){var n=[];return BD.na(t)&&n.push(new BD(t)),UD.na(t)&&n.push(new UD(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.Eq(e)}n.Dq(i[0])}return n}var rx=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).rst=ix(n),u.ost=new nx(n),u.hst=new BC,u.ast=new tx(u.hst.we,u.Uu,u.nt,u.Ll,u.wa,u.xV),u}Et(n,t);var i=n.prototype;return i.jk=function(){return this.vN},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.ost.gn(),n.rst.gn(),n.hst.gn(),n.ast.gn(),[4,t.prototype.wy.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.hst.be()},i.ge=function(){t.prototype.ge.call(this),this.hst.ge()},i.Ott=function(n){t.prototype.Ott.call(this,n),this.hst.Ott(n)},Ct(n,[{key:"gV",get:function(){return this.vN}},{key:"yk",get:function(){return this.vN.videoHeight}},{key:"Tk",get:function(){return this.vN.videoWidth}},{key:"wa",get:function(){return this.rst}},{key:"xV",get:function(){return this.ost}}]),n}(LC);Q(),Nt(),An(),Zt(),St(),gn(),Tn(),sn(),Q(),Nt();Q(),Nt(),An(),Tn(),tn(),Q(),Nt();var ex=!1,ux=function(t){return t.ust="HELLO",t.cst="HI_THERE",t.lst="INITIALIZE",t.dst="APPEND_INIT",t.fst="APPEND_DATA",t.gst="ACK",t._st="REMOVE",t.vst="DESTROY_SESSION",t}({}),sx=function(){function t(){this.Go=new Nd}var n=t.prototype;return n.wst=function(t){var n=this;return this.Go.Wo(yn((function(t){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return ta(t),i=new MessageChannel,r=i.port1,e=i.port2,l.serviceWorker.controller?[3,2]:[4,lg(l.serviceWorker,"install",t)];case 1:c.sent(),c.label=2;case 2:return"activated"===l.serviceWorker.controller.state?[3,4]:[4,lg(l.serviceWorker.controller,"activate",t)];case 3:c.sent(),c.label=4;case 4:u={kind:"HELLO",port:e},l.serviceWorker.controller.postMessage(u,[e]),r.start(),n.oA=r,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,lg(r,"message",t)];case 6:if(s=c.sent(),"HI_THERE"!==(o=s.data).kind)throw new A("Could not set up message channel");return n.pN=o.sessionId,[3,8];case 7:throw $o(a=c.sent())&&n.mst(),a;case 8:return[2]}}))})),t)},n.pst=function(t,n){this.oA;var i=this;return this.Go.Wo(yn((function(){return pn(this,(function(r){switch(r.label){case 0:if(!i.oA)throw new A("MessageSession not set up yet or already closed.");return n||(n=[]),i.oA.postMessage(t,n),[4,lg(i.oA,"message")];case 1:return[2,r.sent().data]}}))})))},n.Ast=function(){var t=this;return this.Go.Wo((function(){return t.mst()}))},n.mst=function(){if(l.serviceWorker.controller&&"activated"===l.serviceWorker.controller.state&&this.oA){var t={kind:"DESTROY_SESSION"};ex,this.oA.postMessage(t),this.oA.close(),this.oA=void 0}},t}();Q(),Nt(),Zt();var ox=function(){function t(){this.bst=1/0}var n=t.prototype;return n.Mst=function(t,n){var i=t-n;this.bst=i>this.yst?this.bst:i},n.Tst=function(t){this.bst=t},Ct(t,[{key:"yst",get:function(){return this.bst}}]),t}();Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var ax=function(t){return t.SI="audio",t.NI="video",t.MQ="metadata",t}({}),cx=function(t){function n(n,i){var r;return(r=t.call(this)||this).kX=n,r.Lst=i,r.Sst=void 0,r.Nst=void 0,r.Go=new Nd,r.Dst=!1,r.Ist=!1,r}Et(n,t);var i=n.prototype;return i.O3=function(t,n){},i.R3=function(t,n){},i.F$=function(){return this.Ist},i.P3=function(){return yn((function(){return pn(this,(function(t){return[2]}))}))()},i.s3=function(t,n){return yn((function(){return pn(this,(function(t){return[2]}))}))()},i.B4=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){if(t.YA!==HI.v$)throw new A("Streaming or opaque segments are not supported yet.");return e=t.rI,u=yn((function(){var t,i,u;return pn(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:ux.fst,mediaType:hx(r.kX),segment:e,startPts:n.kst,totalDuration:n.ct},[4,r.Lst.pst(i,[t])];case 1:return s.sent(),void 0===r.Sst&&(u=n.kst+n.rQ,r.Sst=u,r.Nst=u),r.Nst=r.Nst+n.ct,r.yo(new ka(ZI.g$)),[2]}}))})),[2,r.Go.Wo(yn((function(t){return pn(this,(function(n){switch(n.label){case 0:ta(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.Dst=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.Dst=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.F4=function(t,n,i){var r=this;return yn((function(){var n,e;return pn(this,(function(u){if(t.YA!==HI.v$)throw new A("Streaming or opaque initialization segments are not supported yet.");return n=t.rI,e=yn((function(){var t;return pn(this,(function(i){switch(i.label){case 0:return t={kind:ux.dst,mediaType:hx(r.kX),segment:n},[4,r.Lst.pst(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.Go.Wo(yn((function(t){return pn(this,(function(n){switch(n.label){case 0:ta(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.Dst=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.Dst=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.I3=function(){this.Ist=!0},i.w3=function(){this.Ist=!1},i.wS=function(t,n,i){var r=this;return yn((function(){var t;return pn(this,(function(e){return t=yn((function(){var t;return pn(this,(function(i){switch(i.label){case 0:return t={kind:ux._st,mediaType:hx(r.kX),endTime:n},[4,r.Lst.pst(t)];case 1:return i.sent(),r.Sst=void 0,r.Nst=void 0,r.yo(new ka(ZI.g$)),[2]}}))})),[2,r.Go.Wo(yn((function(n){return pn(this,(function(i){switch(i.label){case 0:ta(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.Dst=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.Dst=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.N$=function(t){return this.kX===t.VN},i.D$=function(t){return this.kX=t.VN,st.resolve()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.Go.gn()];case 1:return n.sent(),[2]}}))}))()},Ct(n,[{key:"TE",get:function(){return void 0===this.Sst||void 0===this.Nst?GM.PP():new GM([this.Sst,this.Nst])}},{key:"md",get:function(){return{VN:this.kX}}},{key:"E3",get:function(){return no(this.kX,"audio")?lw.SI:no(this.kX,"video")?lw.NI:lw.dI}},{key:"gX",get:function(){return this.kX}},{key:"x3",get:function(){return GM.PP()}},{key:"PK",get:function(){return 30},set:function(t){}},{key:"QK",get:function(){return 30},set:function(t){}},{key:"ca",get:function(){return this.Dst}},{key:"Est",get:function(){return this.Sst}},{key:"dB",get:function(){return this.Nst}}]),n}(Aa);function hx(t){return t.match(/video/)?ax.NI:ax.SI}var fx=function(){function t(t,n,i,r){this.SS=void 0,this.KS=t,this.b5=Do(n,(function(t){return Boolean(t.gX.match(/video/))})),this.y5=Do(n,(function(t){return Boolean(t.gX.match(/audio/))})),this.KA=i,this.vN=r,this.Cst()}var n=t.prototype;return n.Cst=function(){},n.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,st.all([t.y5,t.b5].filter(ci).map((function(t){return t.wy()})))];case 1:return n.sent(),[2]}}))}))()},n.T5=function(t){},n.D5=function(t,n,i,r){},n.I3=function(){var t,n;null==(t=this.y5)||t.I3(),null==(n=this.b5)||n.I3()},n.w3=function(){var t,n;null==(t=this.y5)||t.w3(),null==(n=this.b5)||n.w3()},n.N$=function(t){return!0},n.D$=function(t){return this.KS=t,st.resolve()},n.k$=function(t){},n.T$=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,i.KA.qA(t.VA,n)];case 1:return[4,e.sent().kS()];case 2:return r=e.sent(),[4,i.S$(r)];case 3:return e.sent(),[2,r]}}))}))()},n.S$=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(t&&!n.vN.src)throw new ww(wd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.vN.src)throw new ww(wd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.SS)?[4,i.DS(n.vN)]:[3,2];case 1:r.sent(),n.SS=void 0,r.label=2;case 2:return t?[4,t.bn(n.vN)]:[3,4];case 3:r.sent(),n.SS=t,r.label=4;case 4:return[2]}}))}))()},t.xst=function(n,i,r,e){for(var u=[],s=0;s<n.E5.length;s++){var o=n.E5[s].VN;u.push(new cx(o,i))}return new t(n,u,r,e)},Ct(t,[{key:"jst",get:function(){return[this.y5,this.b5].filter(ci)}},{key:"p5",get:function(){return this.y5}},{key:"TE",get:function(){return yS(this)}},{key:"md",get:function(){return this.KS}},{key:"ct",get:function(){return 0}},{key:"F$",get:function(){var t,n,i,r,e=null==(i=null==(t=this.y5)?void 0:t.F$())||i,u=null==(r=null==(n=this.b5)?void 0:n.F$())||r;return e&&u}},{key:"_k",get:function(){return new GM([0,1/0])}},{key:"A5",get:function(){return this.b5}}]),t}();tn();var vx=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.$st=!0,u.Lst=new sx,u.Xst=new ox,u.int=!0,u.snt=new sh,u.kG=!1,u.m7=st.resolve(),u.w7=new ca,u.ent=!0,u.Fo=GM.PP(),u.Ctt=!1,u.Rst=function(){u.KE||u.Kst.V<=0||u.TE.V<=0||u.Xst.Mst(u.TE.jn(u.TE.V-1),u.Kst.jn(u.Kst.V-1))},u.Pst=function(){u.yo(new Lb(u.LE))},u.zst=function(){u.yo(new Cg(u.LE,u.NE))},u.Bst=function(){u.yo(new Sb(u.LE,u.$E))},u.Ust=function(){u.yo(new xb(u.LE,u.Nk))},u.Qst=function(){u.yo(new Eb(u.ct))},u.Fst=function(){u.yo(new FA(u.LE))},u.Yst=function(){u.Wb(u.LE)},u.Vst=yn((function(){return pn(this,(function(t){return s.ent&&s.yo(new Ib(s.LE)),s.int=!1,s.ent=!0,[2]}))})),u.Gst=function(){u.int=!0,u.yo(new Db(u.LE))},u.Stt=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u.yo(new Sa(i,r))},u.tst=n,u.Z8=new CS(u),u.rnt=r,u.FG=e,u.tst.playsInline=!0,u.tst.style.width="100%",u.tst.style.height="100%",u.Ost(),u.Zst(),u.rst=ix(u.tst),u.Qo=new nx(u.tst),u.E$=new _C(u),u.KA=i,u.Ul=new cA,u.C7=new iC(u),u.hst=new BC,u.ast=new tx(u.hst.we,u.Uu,u.nt,u.Ll,u.wa,u.xV),u}Et(n,t);var i=n.prototype;return i.Ost=function(){this.tst.addEventListener("timeupdate",this.Rst),this.tst.addEventListener("ended",this.Pst),this.tst.addEventListener("timeupdate",this.zst),this.tst.addEventListener("ratechange",this.Bst),this.tst.addEventListener("volumechange",this.Ust),this.tst.addEventListener("durationchange",this.Qst),this.tst.addEventListener("playing",this.Fst),this.tst.addEventListener("seeking",this.Yst),this.tst.addEventListener("play",this.Vst),this.tst.addEventListener("pause",this.Gst),this.tst.addEventListener("encrypted",this.Stt)},i.Wst=function(){this.tst.removeEventListener("timeupdate",this.Rst),this.tst.removeEventListener("ended",this.Pst),this.tst.removeEventListener("timeupdate",this.zst),this.tst.removeEventListener("ratechange",this.Bst),this.tst.removeEventListener("volumechange",this.Ust),this.tst.removeEventListener("durationchange",this.Qst),this.tst.removeEventListener("playing",this.Fst),this.tst.removeEventListener("seeking",this.Yst),this.tst.removeEventListener("play",this.Vst),this.tst.removeEventListener("pause",this.Gst)},i.Zst=function(){this.Z8.yn(zA.lL,this.Ds)},i.Hst=function(){this.Z8.fn(zA.lL,this.Ds)},i.Wb=function(t,n,i){this.w7.Ty(),this.w7=new ca,this.m7=ea(this.p7(t,this.m7,this.w7.ly),this.w7).catch(qt)},i.p7=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return r.Fo=r.rk,(s=null==(u=r.vV)?void 0:u.jst)?(o=(e=k).max.apply(e,ln(s.map((function(t){return t.Est?t.Est:1/0})))),r.kG=!0,r.yo(new Cb(t)),[4,n.catch(qt)]):[2];case 1:c.sent(),ta(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.$st||r.tnt(),r.tst.load(),r.int?[3,4]:(r.ent=!1,[4,ra(r.tst.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.fk<UA.Iz?[4,r.Z8.zy(zA.lL,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.snt.sM(),r.$st=!1,r.kG=!1,r.yo(new jb(r.LE)),[3,9];case 7:throw a=c.sent(),r.snt.nM(a),a;case 8:return r.nnt(),r.Xst.Tst(o),[7];case 9:return[2]}}))}))()},i.Rk=function(){this.int=!0,this.tst.pause()},i.Pk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.int?(t.tst.src||t.jtt(),[4,t.snt.rM]):[2];case 1:return n.sent(),[4,t.tst.play()];case 2:return n.sent(),[2]}}))}))()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Lst&&t.Lst.Ast().catch(qt),t.w7.Ty(),t.Wst(),t.Hst(),t.Z8.wy(),t.Bo(),t.Ul.gn(),t.hst.gn(),t.ast.gn(),[2]}))}))()},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Lst&&t.Lst.Ast().catch(qt),t.w7.Ty(),t.tst.removeAttribute("src"),t.tst.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.tst.removeAttribute("x-airplay-deny"),t.tst.disableRemotePlayback=!1,t.tst.load(),t.Z8.tr(),t.Fo=GM.PP(),[2]}))}))()},i.jtt=function(){this.xtt||(mx(this.tst,Kt.Ys),this.Ctt=!0)},i.tnt=function(){var t,n=this.tst.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.tst.videoWidth/this.tst.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.tst.style.width=i+"px",this.tst.style.height=r+"px",this.tst.style.marginLeft=(e-i)/2+"px",this.tst.style.marginTop=(s-r)/2+"px",this.tst.style.backgroundColor="black"}},i.nnt=function(){this.tst.style.width="100%",this.tst.style.height="100%",this.tst.style.marginLeft="",this.tst.style.marginTop="",this.tst.style.backgroundColor=""},i.kV=function(t,n,i,r,e){},i.Wk=function(t,n,i,r,e,u,s,o,a){var c=new tL(t,n,i,r,e,u,s,a,o);return this.Ul.tt(c),this.C7.tt(c),c},i.CV=function(t){throw A("Not supported.")},i.H$=function(t){},i.GE=function(){return NI(this.tst)},i.ge=function(){this.tst.style.display="block",this.hst.ge()},i.be=function(){this.tst.style.display="none",this.hst.be()},i.ktt=function(){},i.$n=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:if(t.YA===OA.QQ)throw new A("Not yet implemented");return[4,n.Lst.wst()];case 1:return e.sent(),i=Do(t.yV,(function(t){return t.NS.YA===Vs.QA})),r={kind:ux.lst,mediaBufferConfigs:t.E5.map((function(t){return t.VN})),fairPlaySdkUri:null==i?void 0:i.hY},[4,n.Lst.pst(r)];case 2:return e.sent(),n.vV=fx.xst(t,n.Lst,n.KA,n.tst),n.E$.$n(n.vV,t),n.tst.setAttribute("x-webkit-airplay","deny"),n.tst.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.tst.disableRemotePlayback=!0,n.tst.preload="none",n.tst.src="https://theo.proxy/"+n.Lst.pN+"/master.m3u8",[2,n.vV]}}))}))()},i.Ltt=function(){},i.BQ=function(t){this.Ul.it(t),this.C7.it(t)},i.jV=function(){for(var t=0,n=this.Ul.AL.slice();t<n.length;t++){n[t].gn()}this.Ul.tr()},i.cV=function(t){},i.DV=function(){return!1},i.Ott=function(t){t.appendChild(this.tst),this.hst.Ott(t)},i.jk=function(){return this.tst},i.Fk=function(){},Ct(n,[{key:"gV",get:function(){return this.tst}},{key:"K5",get:function(){return!1}},{key:"LE",get:function(){return this.tst.currentTime+this.Xst.yst}},{key:"KE",get:function(){return this.tst.paused}},{key:"Nk",get:function(){return this.tst.volume},set:function(t){this.tst.volume=t}},{key:"$E",get:function(){return this.tst.playbackRate},set:function(t){this.tst.playbackRate=t}},{key:"qst",get:function(){return this.tst.defaultPlaybackRate}},{key:"TE",get:function(){var t,n;return null!=(n=null==(t=this.vV)?void 0:t.TE)?n:GM.PP()}},{key:"Kst",get:function(){return GM.xn(this.tst.buffered)}},{key:"rk",get:function(){var t=this.Jst;return this.Fo.pP(t.Gb(this.Xst.yst))}},{key:"Jst",get:function(){return GM.xn(this.tst.played)}},{key:"wk",get:function(){return this.kG}},{key:"V5",get:function(){return!1}},{key:"e6",get:function(){return!1}},{key:"ct",get:function(){return this.tst.duration}},{key:"WE",get:function(){return this.tst.muted},set:function(t){this.tst.muted=t}},{key:"Let",get:function(){return this.tst.style}},{key:"mz",get:function(){return ys({},FI,{wz:!0})}},{key:"fk",get:function(){return this.Z8.fk}},{key:"yk",get:function(){return this.tst.videoHeight}},{key:"Tk",get:function(){return this.tst.videoWidth}},{key:"OE",get:function(){return this.tst.ended}},{key:"Ti",get:function(){return this.tst.offsetHeight*Kt.Ys.bp}},{key:"ji",get:function(){return this.tst.offsetWidth*Kt.Ys.bp}},{key:"FE",get:function(){return!1}},{key:"xtt",get:function(){return this.Ctt}},{key:"NE",get:function(){}},{key:"Uu",get:function(){return this.rnt}},{key:"lt",get:function(){}},{key:"wa",get:function(){return this.rst}},{key:"xV",get:function(){return this.Qo}},{key:"_k",get:function(){return this.vV?this.vV._k:GM.PP()}},{key:"wV",get:function(){}},{key:"nt",get:function(){return this.Ul}},{key:"Ll",get:function(){return this.FG}},{key:"xk",get:function(){return!1},set:function(t){}},{key:"t7",get:function(){return"block"===this.tst.style.display}},{key:"zV",get:function(){return this.E$.zV},set:function(t){this.E$.zV=t}},{key:"Rtt",get:function(){},set:function(t){}},{key:"w8",get:function(){}}]),n}(Aa),dx=[lw.SI,lw.NI],lx=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=dx),void 0===e&&(e=zd()),this._ot=i,this.hot=ln(r),this.KA=e,this.Xu=t,this.FG=n,this.aot=As(),this.got()}var n=t.prototype;return n.GG=function(t){for(var n=0,i=this.YG;n<i.length;n++){i[n].Ott(t)}},n.sG=function(t){var n=Do(this.aot.get(t),(function(t){return t.lot}));if(n)return n.lot=!1,n.uot},n.fot=function(t){if(!this.cot){var n,i=null==(n=this.aot.get(lw.NI))?void 0:n[0].uot.gV;if(!i)throw new A("Error creating iOS Safari MediaController");this.cot=new vx(i,this.KA,this.Xu,this.FG),i.parentElement&&this.cot.Ott(i.parentElement)}return this.cot},n.BV=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return i=t.gV,r=i.tagName.toLowerCase(),[4,t.tr()];case 1:return u.sent(),yx(i),(e=Do(n.aot.get(r)||[],(function(n){return t===n.uot})))&&(e.lot=!0),[2]}}))}))()},n.zG=function(){for(var t=0,n=this.YG;t<n.length;t++){n[t].jtt()}},n.gn=function(){for(var t=0,n=this.YG;t<n.length;t++){var i=n[t],r=i.gV;i.wy(),wx(r),ki(r)}this.aot.clear(),this.cot=void 0},n.got=function(){for(var t=0,n=this.hot;t<n.length;t++){var i=n[t],r=[];this.aot.set(i,r);for(var e=0;e<this._ot;e++){var u=gx(i),s=i===lw.SI?new RC(u,this.KA,this.Xu):new rx(u,this.KA,this.Xu,this.FG);r.push({uot:s,lot:!0})}}},Ct(t,[{key:"YG",get:function(){for(var t=[],n=0,i=this.hot;n<i.length;n++){var r=i[n],e=this.aot.get(r);if(e){var u,s=e.map((function(t){return t.uot}));(u=t).push.apply(u,ln(s))}}return this.cot&&t.push(this.cot),t}}]),t}();function gx(t){var n=v.createElement(t);return Oi(n)&&n.addEventListener("contextmenu",Ax),yx(n),n}function wx(t){yx(t),t.removeEventListener("contextmenu",Ax)}function yx(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),Mi(t),zi(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=oT.Mz,t.controls=!1,t.style.display="none",Oi(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function mx(t,n){if(n.Up){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();yi(r)&&va(r),t.pause()}}function Ax(t){t.preventDefault()}Q(),Nt(),An(),St(),Tn(),tn(),Q(),Nt();var px=function(){function t(t){this.OQ=t}var n=t.prototype;return n.hI=function(t){return this.OQ.hI(t)},n.YI=function(t){this.OQ.YI(t)},n.gn=function(){this.OQ.gn()},t}(),_x=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).UG=i,r}Et(n,t);var i=n.prototype;return i.hI=function(t){var n=new Sl(t),i=this.UG.NK.VY(n);return i?this.ont(n,i):this.OQ.hI(n)},i.ont=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return n.DK(Kt.Og()/1e3),[4,i.OQ.hI(t)];case 1:return r=s.sent(),n.EK(Kt.Og()/1e3),e=r.XN?r.YN().pipeThrough(new $d(new kx(n))):r.FN().then((function(t){var i=Kt.Og()/1e3;return n.kK(i,new N(t)),n.LK(i),t})),u={rI:e,hI:r.hI},[2,new bl(u,r)]}}))}))()},n}(px),kx=function(){function t(t){this.hnt=t}var n=t.prototype;return n.start=function(t){this.JJ=t},n.transform=function(t){this.hnt.kK(Kt.Og()/1e3,t),this.JJ.enqueue(t)},n.flush=function(){this.hnt.LK(Kt.Og()/1e3)},t}();function Mx(t){return{get ratio(){return t.$o},get thresholds(){return t.ant.slice()}}}function bx(t){var n=[],i=k.floor(1/t);if(T(i))return[];for(var r=0;r<=i;r++){var e=gr(r*t,0,1);n.push(e)}return n}Q(),Nt(),Zt(),Q(),Nt(),Zt(),St(),Q(),Nt(),sn();var Tx=function(){function t(t,n,i){this.unt=1,this.Za=void 0,this.cnt=bx(n);var r=this.lnt(i);this.dnt=new f.IntersectionObserver(r,{root:null,threshold:this.cnt}),this.dnt.observe(t)}var n=t.prototype;return n.lnt=function(t){var n=this;return function(i){var r=i[i.length-1];n.unt=r.intersectionRatio,t(r.intersectionRatio)}},n.zk=function(){this.dnt.disconnect()},Ct(t,[{key:"$o",get:function(){return this.unt}},{key:"ant",get:function(){return this.cnt}},{key:"ga",get:function(){return this.Za||(this.Za=Mx(this)),this.Za}}]),t}(),Nx=function(){function t(t,n){this.unt=1,this.gnt=-1,this.Za=void 0,this.cnt=bx(t),this._nt=n}return t.prototype.fnt=function(t){this.unt=t;var n=this.cnt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.gnt!==i&&(this.gnt=i,this._nt(t))},Ct(t,[{key:"$o",get:function(){return this.unt}},{key:"ant",get:function(){return this.cnt}},{key:"ga",get:function(){return this.Za||(this.Za=Mx(this)),this.Za}}]),t}(),Dx=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).wnt=rn((function(){return e.fnt(e.vnt())}),50),e.lo=n,f.addEventListener("scroll",e.wnt,!!ID&&{passive:!0}),fa((function(){return e.fnt(e.vnt())})),e}Et(n,t);var i=n.prototype;return i.vnt=function(){var t=this.lo.getBoundingClientRect();return gr(k.max(0,k.min(f.innerWidth,t.right)-k.max(0,t.left))*k.max(0,k.min(f.innerHeight,t.bottom)-k.max(0,t.top))/(t.width*t.height),0,1)},i.zk=function(){f.removeEventListener("scroll",this.wnt)},n}(Nx),Ix=function(){function t(t){this.pnt=1,this.Ant=0,this.Mnt=[],this.Za=void 0,this.lo=t,this.Ao(.1,this.bnt())}var n=t.prototype;return n.bnt=function(t){var n=this;return function(i){n.pnt=i,null==t||t(n.pnt)}},n.Ao=function(t,n){if(T(t))throw new p("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new Tx(this.lo,t,this.bnt(n)):new Dx(this.lo,t,this.bnt(n)),this.Mnt.push(i),i},n.No=function(t){t.zk(),Co(this.Mnt,t)},n.ynt=function(t){for(var n=0,i=this.Mnt;n<i.length;n++){var r=i[n];if(r.ga===t)return r}},n.gn=function(){for(var t=0,n=this.Mnt;t<n.length;t++){n[t].zk()}Ro(this.Mnt)},Ct(t,[{key:"mnt",get:function(){return this.pnt}},{key:"Do",get:function(){return this.Ant},set:function(t){if(T(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.Ant=t}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get ratio(){return t.mnt},get visible(){return t.mnt>t.Do},get visibleThreshold(){return t.Do},set visibleThreshold(n){n=tw(n),t.Do=n},addObserver:function(n,i){return n=tw(n),t.Ao(n,i).ga},removeObserver:function(n){var i=t.ynt(n);i&&t.No(i)}}}(this)),this.Za}}]),t}();Q(),Nt(),St();var Ex=function(t){function n(){return t.call(this,Ma.Wy)||this}return Et(n,t),n}(ka),Sx=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Snt=!1,e.do=!1,e.MG=void 0,e.Bnt=!1,e.Ca=void 0,e.Ont=function(t){if(!e.Bnt){e.Bnt=!0;var n=e.Unt,i=pw(t);e.xa.TL=new mT(e.we,i,t),va(n.gn())}},e.Qnt=function(t){t.type!==Ma.vb&&t.type!==Ma._b&&e.yo(t)};var u=tw(i.uid);T(u)?e.iB=Lw++:e.iB=u,e.md=i;var s=Kt.wE,o=new zI;e.znt=new dD("8.14.0",s,o),e.UG=new wI,e.QG=new Xk;var a=new _x(s,e.UG);e.wE=new rI(a,i.allowMixedContent),e.GJ=null!=r?r:new QN(i.isEmbeddable,"8.14.0",ON()),e.jnt=new OI(s,e.GJ,e.znt,o,i,ON()),e.jnt.UJ().catch(e.Ont),e.Ent=new xD(n),e.Ent.yn(_D.pn,e.Ds),e.FG=new YI,e.nJ=new _I,e.mJ=new MI;var c=new yT(n,i,e.wE,e.UG,e.QG,e.Ent,e.FG);e.UG.FK(c);var h=c;return h=new kI(h,e.xnt),h=new bI(h,e.wJ),e.Unt=h,e.xa=new tT(e.Unt),e.xa.xy(e.Qnt),e.knt=new TI(e.xa),e.Lnt=new sI(e.xa,e.wE,e.UG),e.Ow=new pD(e),e.Pnt=new QD(e.xa,i.allowNativeFullscreen),e.Rnt=new ZD(e.Pnt,e.xa._a()),e.Ent.bn(),e.To=new Ix(n),e.BG=new Gr(e.Ent,e.FG,1,[lw.NI]),e.Int=new Vr(e.BG),e.Dnt=new EI,e}Et(n,t);var i=n.prototype;return i.SE=function(){return this.xa.TE},i.xE=function(){return this.xa.LE},i.CE=function(t,n){this.xa.CE(t,n)},i.Cnt=function(){return this.xE()},i._d=function(){return this.xa.ct},i.PE=function(){return this.xa.lt},i.BE=function(){return this.xa.zE},i.HE=function(t){this.xa.WE=t,t||this.KE||this.Ok()},i.ek=function(){return this.xa.$E},i.nk=function(t){this.xa.$E=t},i.hk=function(){return this.xa.rk},i.vk=function(){return this.xa._k},i.Dk=function(t){this.xa.Nk=t},i.Sa=function(){Vb(this,LT,this)},i.Pk=function(){this.xa.Pk()},i.Rk=function(){this.xa.Rk()},i.Ya=function(){return this.MG},i.ka=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return i.MG=t,t?(i.jnt.OH(t).catch(i.Ont),r=function(t){t.sources;var n=t.sources.filter((function(t){return hi(t.integration)}));return t.sources=n,t}(t),[4,i.xa.ka(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Ok=function(){if(!this.do){this.xa.Ok(),this.Int.Ok();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&mx(i,Kt.Ys)}this.do=!0}},i.cs=function(){return this.Rnt.Uo()===Bb.FULLSCREEN},i.ge=function(){this.xa.ge()},i.be=function(){this.xa.be()},i.jk=function(){return this.xa.jk()},i.Fk=function(){this.xa.Fk()},i.Yk=function(){this.xa.Yk()},i.Wk=function(t){return this.xa.Wk(t)},i.zk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.MG=void 0,[4,t.xa.zk()];case 1:return n.sent(),[4,t.xa.tr()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.yo(new Ex),t.Bo(),t.Dnt.gn(),t.wE.gn(),t.Lnt.gn(),t.Ow.gn(),t.Pnt.gn(),t.Rnt.gn(),t.Ent.gn(),t.znt.gn(),t.Int.gn(),t.BG.gn(),[4,t.xa.gn()];case 1:return n.sent(),[2]}}))}))()},Ct(n,[{key:"Tnt",get:function(){return this.UG}},{key:"Xz",get:function(){return this.Snt},set:function(t){this.Snt=t,this.xa.Xz=t}},{key:"Nnt",get:function(){return this.Int}},{key:"ht",get:function(){return this.xa.ht}},{key:"qZ",get:function(){return this.Dnt}},{key:"Uu",get:function(){return this.Ent}},{key:"UE",get:function(){return this.xa.UE}},{key:"VE",get:function(){return this.knt}},{key:"wZ",get:function(){return this.Lnt}},{key:"nt",get:function(){return this.xa.nt}},{key:"Ll",get:function(){return this.FG}},{key:"rt",get:function(){return this.xa.rt}},{key:"TE",get:function(){return this.SE()}},{key:"xnt",get:function(){return this.nJ}},{key:"wJ",get:function(){return this.mJ}},{key:"LE",get:function(){return this.xE()},set:function(t){this.CE(t)}},{key:"NE",get:function(){return this.xa.NE},set:function(t){this.xa.NE=t}},{key:"bt",get:function(){return this.xa.bt}},{key:"ct",get:function(){return this._d()}},{key:"we",get:function(){return this.xa.we}},{key:"OE",get:function(){return this.xa.OE}},{key:"lt",get:function(){return this.PE()}},{key:"zE",get:function(){return this.BE()}},{key:"wa",get:function(){return this.xa.Ck()}},{key:"xV",get:function(){return this.xa._a()}},{key:"xk",get:function(){return this.xa.xk},set:function(t){this.xa.xk=t}},{key:"WE",get:function(){return this.xa.WE},set:function(t){var n=Boolean(t);this.HE(n)}},{key:"KE",get:function(){return this.xa.KE}},{key:"$E",get:function(){return this.ek()},set:function(t){this.nk(t)}},{key:"rk",get:function(){return this.hk()}},{key:"ck",get:function(){return this.xa.ck},set:function(t){this.xa.ck=t}},{key:"fk",get:function(){return this.xa.fk}},{key:"_k",get:function(){return this.vk()}},{key:"wk",get:function(){return this.xa.wk}},{key:"zL",get:function(){return this.iB}},{key:"yk",get:function(){return this.xa.yk}},{key:"Tk",get:function(){return this.xa.Tk}},{key:"Nk",get:function(){return this.xa.Nk},set:function(t){var n=gr(Number(t),0,1)||0;this.Dk(n)}},{key:"Ek",get:function(){return this.QG}}]),n}(_a);Q(),Nt();var Lx=self.CustomEvent;var Cx=function(){try{var t=new Lx("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};Q(),Nt(),Zt();var jx=function(){function t(){this.Gz=[],this.Za=void 0}var n=t.prototype;return n.bL=function(t){return this.Gz[t]},n.l0=function(t){this.Gz.push(t),this.ga.push(t.ga)},n.wS=function(t){var n=this.Gz.indexOf(t);n<0||(jo(this.Gz,n),this.Za&&jo(this.Za,n))},n.trt=function(t){for(var n=0,i=this.Gz;n<i.length;n++){var r=i[n];if(r.zL===t)return r}},Ct(t,[{key:"V",get:function(){return this.Gz.length}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.bL(i).ga;return n.getPlayerByUID=function(n){var i=t.trt(n);return i&&i.ga},n}(this)}}]),t}();var xx=new jx;function Ox(t){var n,i,r=function(n){i=n;var r=pN(n,t.md);t.ka(r)},e={get abr(){return t.Tnt.ga},get ads(){var n;return null==(n=t.Vc)?void 0:n.ga},get audioTracks(){return t.ht.ga},get autoplay(){return t.Xz},set autoplay(n){t.Xz=Boolean(n)},get buffered(){return t.SE()},get canvas(){return t.Ow.ga},get cast(){var n;return null==(n=t.qZ)?void 0:n.ga},get clip(){return t.xnt.ga},get currentProgramDateTime(){var n;return null!=(n=t.NE)?n:null},set currentProgramDateTime(n){t.NE=null!=n?n:void 0},get currentTime(){return t.xE()},set currentTime(n){t.CE(Number(n))},get duration(){return t._d()},get element(){return t.we},get ended(){return t.OE},get error(){return t.PE()},get errorObject(){return t.BE()},get loop(){return t.wJ.wJ},set loop(n){t.wJ.wJ=Boolean(n)},get metrics(){return t.VE.ga},get muted(){return t.WE},set muted(n){t.HE(n)},get network(){return t.wZ.ga},get paused(){return t.KE},get playbackRate(){return t.$E},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.$E=i},get played(){return t.hk()},get poster(){return t.mi},set poster(n){t.mi=iw(n)},get preload(){return t.ck},set preload(n){t.ck=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.Rnt.ga},get readyState(){return t.fk},get seekable(){return t.vk()},get seeking(){return t.wk},get source(){return i},set source(t){r(t)},get src(){return hN(t.Ya())},set src(t){r({sources:t})},get textTracks(){return t.nt.ga},get textTrackStyle(){return t.Ll.ga},get theoLive(){return t.Gnt},get uid(){return t.zL},get videoHeight(){return t.yk},get videoTracks(){return t.rt.ga},get videoWidth(){return t.Tk},get visibility(){return t.To.ga},get volume(){return t.Nk},set volume(n){t.Dk(Number(n))},get latency(){return t.Ek.ga},get theoads(){return t.Znt},destroy:function(){t.gn(),t=null,i=void 0},play:function(){t.irt()},pause:function(){t.Rk()},stop:function(){i=void 0,t.zk()},prepareWithUserAction:function(){t.Ok()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.Wk(function(t){return{Lt:iw(t.kind),kh:iw(t.label),gs:iw(t.language),YA:iw(t.type)}}(n)).ga}};return(n=new VD(e,!0)).iu(t),n.yn("destroy",(function(){n.gn()})),e}Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Q(),Nt(),Q(),Nt(),St();var zx=function(t){function n(n){var i;return(i=t.call(this,Ma.ro)||this).source=n,i}return Et(n,t),n}(ka);Q(),Nt(),Zt(),St();var Rx=function(t){function n(){var n;return(n=t.call(this)||this).EG=0,n.CG=!0,n.kG=!1,n.jG=1,n}Et(n,t);var i=n.prototype;return i.xE=function(){return this.EG},i.Cnt=function(){return this.xE()},i.CE=function(t,n){this.kG&&this.EG===t||(this.EG=t,this.kG=!0,this.yo(new Cb(this.EG)))},i.Pk=function(){this.CG&&(this.CG=!1,this.yo(new Ib(this.EG)),this.yo(new YA(this.EG)))},i.Rk=function(){this.CG||(this.CG=!0,this.yo(new Cg(this.EG,this.NE)),this.yo(new Db(this.EG)))},i.tr=function(){this.EG=0,this.kG=!1,this.jG=1,this.Rk()},i.gn=function(){this.Bo()},i.be=function(){},i.ge=function(){},Ct(n,[{key:"NE",get:function(){},set:function(t){}},{key:"LE",get:function(){return this.xE()},set:function(t){this.CE(t)}},{key:"KE",get:function(){return this.CG}},{key:"$E",get:function(){return this.jG},set:function(t){this.jG!==t&&(this.jG=t,this.yo(new Sb(this.EG,this.$E)))}},{key:"fk",get:function(){return UA.Nz}},{key:"wk",get:function(){return this.kG}}]),n}(_a);Q(),Nt(),Zt();var Bx={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},Ux={visibility:"hidden"},Px={visibility:"visible"},Qx=function(){function t(t){var n=this;this.ort=!1,this.hrt=function(t){var i;n.ort=!n.ta.KE,n.ert=null==(i=t.source)?void 0:i.poster,n.Yn()},this.sF=function(){n.ort=!0,n.be()},this.ta=t,this.yG(),this.Vs=function(){var t=Wr&&Wr.document&&Wr.document.createElement("div");return t.className="theoplayer-poster",Ei(Bx,t),t}(),t.we.appendChild(this.Vs)}var n=t.prototype;return n.Yn=function(){var t=this.ta.KE,n=this.ort;this.zu?this.Vs.style.backgroundImage='url("'+ho(this.zu)+'")':this.Vs.style.backgroundImage="",t&&this.zu&&!n?this.ge():this.be()},n.ge=function(){Ei(Ux,this.ta.we),Ei(Px,this.Vs)},n.be=function(){Ei(Ux,this.Vs),Ei(Px,this.ta.we)},n.yG=function(){this.ta.yn(Ma.ro,this.hrt),this.ta.yn(Ma.so,this.sF)},n.gn=function(){this.ta.fn(Ma.ro,this.hrt),this.ta.fn(Ma.so,this.sF),ki(this.Vs)},Ct(t,[{key:"zu",get:function(){return void 0!==this.ert?this.ert:void 0!==this.nrt?this.nrt:void 0}},{key:"rrt",set:function(t){this.nrt=t,this.Yn()}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Q(),Nt();var Yx=function(t){return t[t.art=0]="art",t[t.urt=1]="urt",t}({});function Gx(t){var n,i={get playing(){return t.$c},get currentAds(){return t.crt.map((function(t){return t.lrt()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.drt)?void 0:n.lrt())?i:null},get scheduledAds(){return t.frt.map((function(t){return t.lrt()}))},get scheduledAdBreaks(){return t.grt.map((function(t){return t.lrt()}))},skip:function(){t.ZC()},schedule:function(n){var i=mN(n,jT.Ld);i?t.I9(i,Yx.art,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t._rt(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},get theoads(){var n;return null==(n=t.Znt)?void 0:n.ga}};return n=new pI(t,i),i}var Vx=function(t){function n(n){var i,r;return(i=t.call(this)||this).Za=void 0,i.Dc=n,null==(r=i.Dc)||r.xy(i.Ds),i}Et(n,t);var i=n.prototype;return i.I9=function(t,n,i){var r;null==(r=this.Dc)||r.I9(t,n,i)},i.vrt=function(t){var n;null==(n=this.Dc)||n.vrt(t)},i.ZC=function(){var t;null==(t=this.Dc)||t.ZC()},i.wrt=function(t){var n;null==(n=this.Dc)||n.wrt(t)},i._rt=function(t,n){var i;null==(i=this.Dc)||i._rt(t,n)},i.gn=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.Bo(),void 0===n.Dc?[3,3]:(n.Dc.Py(n.Ds),t?[3,2]:[4,n.Dc.gn()]);case 1:i.sent(),i.label=2;case 2:n.Dc=void 0,i.label=3;case 3:return[2]}}))}))()},Ct(n,[{key:"$c",get:function(){return!!this.Dc&&this.Dc.$c}},{key:"crt",get:function(){return this.Dc?this.Dc.crt:[]}},{key:"drt",get:function(){return this.Dc?this.Dc.drt:null}},{key:"frt",get:function(){return this.Dc?this.Dc.frt:[]}},{key:"grt",get:function(){return this.Dc?this.Dc.grt:[]}},{key:"Znt",get:function(){var t;return null==(t=this.Dc)?void 0:t.Znt}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=Gx(this)}}]),n}(_a);Q(),Nt(),St(),Q(),Nt(),Zt(),St();var Fx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yl=i,r}return Et(n,t),n}(jg),Wx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return Et(n,t),Ct(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(ka),Zx=function(t){function n(n){return t.call(this,"mrt",n)||this}return Et(n,t),n.prototype.ma=function(){return new Xx(this.Yl.lrt())},n}(Fx),Xx=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return Et(n,t),n}(Wx);Q(),Nt(),St();var Hx=function(t){function n(n){return t.call(this,"prt",n)||this}return Et(n,t),n.prototype.ma=function(){return new Kx(this.Yl.lrt())},n}(Fx),Kx=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return Et(n,t),n}(Wx);Q(),Nt(),St(),Q(),Nt(),St();var Jx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Art=i,r}return Et(n,t),n}(jg),qx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return Et(n,t),n}(ka),$x=function(t){function n(n){return t.call(this,"yrt",n)||this}return Et(n,t),n.prototype.ma=function(){return new tO(this.Art.lrt())},n}(Jx),tO=function(t){function n(n){return t.call(this,"addad",n)||this}return Et(n,t),n}(qx);Q(),Nt(),St();var nO=function(t){function n(n){return t.call(this,"brt",n)||this}return Et(n,t),n.prototype.ma=function(){return new iO(this.Yl.lrt())},n}(Fx),iO=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return Et(n,t),n}(Wx);Q(),Nt(),St();var rO=function(t){function n(n){return t.call(this,"Mrt",n)||this}return Et(n,t),n.prototype.ma=function(){return new eO(this.Yl.lrt())},n}(Fx),eO=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return Et(n,t),n}(Wx);Q(),Nt(),St();var uO=function(t){function n(n,i){var r;return(r=t.call(this,"Trt",n)||this).currentTime=i,r}return Et(n,t),n.prototype.ma=function(){return new sO(this.Art.lrt(),this.currentTime)},n}(Jx),sO=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return Et(n,t),n}(qx);Q(),Nt(),St();var oO=function(t){function n(n,i){var r;return(r=t.call(this,"Srt",n)||this).currentTime=i,r}return Et(n,t),n.prototype.ma=function(){return new aO(this.Art.lrt(),this.currentTime)},n}(Jx),aO=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return Et(n,t),n}(qx);Q(),Nt(),St();var cO=function(t){function n(){return t.call(this,"Nrt")||this}return Et(n,t),n.prototype.ma=function(){return new hO},n}(jg),hO=function(t){function n(){return t.call(this,"adadded")||this}return Et(n,t),n}(ka),fO=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).ta=n,i}return Et(n,t),Ct(n,[{key:"TL",get:function(){return this.Dc},set:function(t){var n=this.Dc;if(n!==t){var i=this.crt,r=this.drt,e=this.frt,u=this.grt;null==n||n.Py(this.Ds),this.Dc=t,null==t||t.xy(this.Ds);for(var s=this.crt,o=this.drt,a=this.frt,c=this.grt,h=[],f=!1,v=0;v<u.length;v++){var d=u[v];Oo(c,d)||h.push(new Zx(d))}for(var l=0;l<c.length;l++){var g=c[l];Oo(u,g)||h.push(new Hx(g))}for(var w=0;w<a.length;w++){var y=a[w];Oo(e,y)||(h.push(new $x(y)),f=!0)}f&&h.push(new cO),r!==o&&(r&&h.push(new nO(r)),o&&h.push(new rO(o)));for(var m=0;m<i.length;m++){var A=i[m];Oo(s,A)||h.push(new oO(A,this.ta.xE()))}for(var p=0;p<s.length;p++){var _=s[p];Oo(i,_)||h.push(new uO(_,this.ta.xE()))}for(var k=0;k<h.length;k++){var M=h[k];this.yo(M)}}}}]),n}(Vx);Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt(),St();var vO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$c=!1,n.drt=null,n.crt=[],n.grt=[],n.frt=[],n.Znt=void 0,n.Za=void 0,n}Et(n,t);var i=n.prototype;return i.wrt=function(t){},i._rt=function(t,n){},i.I9=function(t,n,i){},i.ZC=function(){},i.vrt=function(t){},i.gn=function(){return this.Bo(),st.resolve()},Ct(n,[{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=Gx(this)}}]),n}(_a),dO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Lrt=[],n.Irt=[],n}Et(n,t);var i=n.prototype;return i.I9=function(t,n,i){this.Irt.push({Drt:t,Ert:n,krt:i})},i.ZC=function(){},i.wrt=function(t){},i._rt=function(t,n){this.Lrt.push({Ax:t,xrt:n})},i.vrt=function(t){var n=this.Lrt.slice(),i=this.Irt.slice();this.tr();for(var r=0;r<n.length;r++){var e=n[r];t._rt(e.Ax,e.xrt)}for(var u=0;u<i.length;u++){var s=i[u];t.I9(s.Drt,s.Ert,s.krt)}},i.Crt=function(){var t=this.Irt.map((function(t){return t.Drt}));return this.tr(),t},i.tr=function(){Ro(this.Lrt),Ro(this.Irt)},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.tr(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(vO);Q(),Nt(),St();var lO,gO=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return Et(n,t),n}(ka);function wO(){if(!lO){var t=Sx;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<eM.length;u++){var s=eM[u];if(oM[s])for(var o=0,a=oM[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)||this}return Et(i,n),i}(iM)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).Zrt=!0,e.Ptt=UA.Nz,e.Vrt=!1,e.MG=void 0,e.dV=void 0,e.ZG=void 0,e.zrt=function(t){t.type!==Ma.pb&&e.Grt.push(t)},e.Hrt=function(t){(t.type!==Ma.so||e.ta.KE)&&(t.type===Ma.wb&&e.ta.KE||t.type===Ma.Mb&&e.ta.wk&&e.ta.xE()===t.currentTime||t.type===Ma.pb&&e.ta.$E===t.playbackRate||e.yo(t))},e.Vk=function(t){if(e.Vrt){if(t.type===zA.rP)return;t.type!==zA.iP&&t.type!==zA.oP||(e.Vrt=!1)}if(t.type===Ma.so){if(!e.Zrt)return;e.Zrt=!1}else if(t.type===Ma.wb){if(e.Zrt)return;e.Zrt=!0}else if(t.type===zA.lL){if(e.Ptt===t.readyState)return;e.Ptt=t.readyState}else if(t.type===Ma.Wy)return;e.yo(t)},e.jrt=new t(i,r),e.Wrt=new Rx,e.ta=e.jrt,e.Rrt=new Qx(e),e.jrt.Vc&&(e.Dc=new fO(e),e.Dc.TL=e.jrt.Vc,e.Xrt=new dO),e.Go=new Nd,e.Grt=[],e.IG=!0,e.yG(),e}Et(i,n);var r=i.prototype;return r.ek=function(){return this.jrt.$E},r.nk=function(t){this.ta.$E=t},r.Wo=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){return[2,i.Go.Wo(t,n).catch(ia)]}))}))()},r.Prt=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:ta(n),i.jrt.xy(i.zrt),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.jrt.ka(t,n)];case 2:return r.sent(),[3,4];case 3:return i.jrt.Py(i.zrt),[7];case 4:return[2]}}))}))()},r.Ort=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,t.Brt()];case 1:return n=i.sent(),t.Urt(n),[2]}}))}))()},r.Brt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){return(n=t.Ya())&&!oN(n)&&t.Xz&&t.KE?[2,t.Nnt.Qrt(t.WE)]:[2,"none"]}))}))()},r.Urt=function(t){var n,i=(null==(n=this.Ya())?void 0:n.mutedAutoplay)||this.md.mutedAutoplay;switch(t){case"all":this.irt();break;case"muted":(this.WE||i===Ub.ALL)&&(this.WE=!0,this.Pk())}},r.ka=function(t){oN(this.MG)||this.yo(new Nb(0,UA.Nz)),this.tr(),this.MG=t;var n=this;va(this.Wo(yn((function(i){var r,e;return pn(this,(function(u){switch(u.label){case 0:ta(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.Prt(t,i)];case 2:return u.sent(),[3,5];case 3:return na(r=u.sent()),n.MG=void 0,n.eG(Ad(r,wd.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.Frt(n.jrt),[7];case 5:return[4,n.Brt()];case 6:return e=u.sent(),n.yo(new zx(n.Ya())),n.Urt(e),[2]}}))}))))},r.CE=function(t,n){this.ta.CE(t,n)},r.PE=function(){var t;return null!=(t=this.ZG)?t:this.jrt.PE()},r.BE=function(){var t;return null!=(t=this.dV)?t:this.jrt.BE()},r.eG=function(t){void 0===this.BE()&&(this.dV=t,this.ZG=pw(t),this.yo(new zk(t)))},r.Pk=function(){this.ta.Pk()},r.irt=function(){this.WE||this.Ok(),this.Pk()},r.Ok=function(){this.jrt.Ok()},r.Rk=function(){this.ta.Rk()},r.zk=function(){this.ka(void 0)},r.ge=function(){this.IG=!0,this.ta.ge()},r.be=function(){this.IG=!1,this.ta.be()},r.Sa=function(){this.jrt.Sa()},r.Dk=function(t){this.jrt.Dk(t)},r.HE=function(t){this.jrt.HE(t)},r.ja=function(t){this.Yrt=t,t.l0(this)},r.cs=function(){return this.jrt.cs()},r.Ya=function(){return this.MG},r.jk=function(){return this.jrt.jk()},r.xE=function(){return this.ta.xE()},r.Cnt=function(){return this.ta.Cnt()},r._d=function(){return this.jrt._d()},r.SE=function(){return this.jrt.SE()},r.hk=function(){return this.jrt.hk()},r.vk=function(){return this.jrt.vk()},r.Fk=function(){this.jrt.Fk()},r.Yk=function(){this.jrt.Yk()},r.Wk=function(t){return this.jrt.Wk(t)},r.tr=function(){this.MG=void 0,this.dV=void 0,this.ZG=void 0,this.Vrt=!0,Ro(this.Grt),this.Wrt.tr(),this.Frt(this.Wrt),this.Go.Ty();var t=this;va(this.Go.Wo(yn((function(n){return pn(this,(function(i){switch(i.label){case 0:return ta(n),[4,t.jrt.zk()];case 1:return i.sent(),[2]}}))}))))},r.gn=function(){this.yo(new Ex),this.Rrt.gn(),this.bG(),this.tr();var t=this;va(this.Wo(yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.jrt.gn()];case 1:return n.sent(),t.Yrt&&(t.Yrt.wS(t),t.Yrt=void 0),t.Go.gn(),[2]}}))})))),this.Bo()},r.Frt=function(t){if(this.ta!==t){var n=this.ta.KE,i=this.ta.xE(),r=this.ta.$E,e=this.ta.fk,u=this.ta.wk;this.Zrt=n,this.Ptt=e,this.bG(),t.xy(this.Hrt),t===this.jrt?(void 0!==this.Dc&&(this.Dc.TL=t.Vc,this.Xrt.vrt(this.Dc)),(u||t.xE()!==i)&&t.CE(i),t.$E!==r&&(t.$E=r),n?t.Rk():t.Pk()):(void 0!==this.Dc&&(this.Dc.TL=this.Xrt,this.Xrt.tr()),this.md.retainPlaybackRateOnSourceChange?t.$E=r:1!==r&&this.yo(new Sb(this.xE(),1))),t.Py(this.Hrt),this.ta=t,this.yG();for(var s=0,o=this.Grt;s<o.length;s++){var a=o[s];this.yo(a)}Ro(this.Grt),this.IG?t.ge():t.be()}},r.yG=function(){this.ta.xy(this.Vk)},r.bG=function(){this.ta.Py(this.Vk)},r.ma=function(){return Ox(this)},Ct(i,[{key:"znt",get:function(){return this.jrt.znt}},{key:"Vc",get:function(){return this.Dc}},{key:"Ow",get:function(){return this.jrt.Ow}},{key:"md",get:function(){return this.jrt.md}},{key:"wE",get:function(){return this.jrt.wE}},{key:"wa",get:function(){return this.jrt.wa}},{key:"xV",get:function(){return this.jrt.xV}},{key:"Rnt",get:function(){return this.jrt.Rnt}},{key:"Ent",get:function(){return this.jrt.Ent}},{key:"xa",get:function(){return this.jrt.xa}},{key:"Tnt",get:function(){return this.jrt.Tnt}},{key:"Xz",get:function(){return this.jrt.Xz},set:function(t){this.jrt.Xz=t,this.Ort()}},{key:"Nnt",get:function(){return this.jrt.Nnt}},{key:"ht",get:function(){return this.jrt.ht}},{key:"qZ",get:function(){return this.jrt.qZ}},{key:"Uu",get:function(){return this.jrt.Ent}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}},{key:"UE",get:function(){return this.jrt.UE}},{key:"xk",get:function(){return this.jrt.xk},set:function(t){this.jrt.xk=t}},{key:"VE",get:function(){return this.jrt.VE}},{key:"wZ",get:function(){return this.jrt.wZ}},{key:"nt",get:function(){return this.jrt.nt}},{key:"Ll",get:function(){return this.jrt.Ll}},{key:"rt",get:function(){return this.jrt.rt}},{key:"xnt",get:function(){return this.jrt.xnt}},{key:"wJ",get:function(){return this.jrt.wJ}},{key:"NE",get:function(){return this.ta.NE},set:function(t){this.ta.NE=t}},{key:"bt",get:function(){return this.jrt.bt}},{key:"we",get:function(){return this.jrt.we}},{key:"OE",get:function(){return this.jrt.OE}},{key:"WE",get:function(){return this.jrt.WE},set:function(t){this.HE(t)}},{key:"KE",get:function(){return this.ta.KE}},{key:"mi",get:function(){return this.Rrt.zu||""},set:function(t){this.Rrt.rrt=t}},{key:"$E",get:function(){return this.ek()},set:function(t){this.nk(t)}},{key:"ck",get:function(){return this.jrt.ck},set:function(t){this.jrt.ck=t}},{key:"fk",get:function(){return this.ta.fk}},{key:"Ca",get:function(){return this.jrt.Ca},set:function(t){this.jrt.Ca=t}},{key:"wk",get:function(){return this.ta.wk}},{key:"Gnt",get:function(){return this.jrt.Gnt}},{key:"Znt",get:function(){return this.jrt.Znt}},{key:"zL",get:function(){return this.jrt.zL}},{key:"yk",get:function(){return this.jrt.yk}},{key:"Tk",get:function(){return this.jrt.Tk}},{key:"Nk",get:function(){return this.jrt.Nk},set:function(t){this.Dk(t)}},{key:"Ek",get:function(){return this.jrt.Ek}},{key:"jnt",get:function(){return this.jrt.jnt}},{key:"To",get:function(){return this.jrt.To}}]),i}(_a)}(t);Wt.Nf&&Wt.Df<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).qrt=0,n}Et(n,t);var i=n.prototype;return i.ka=function(n){this.qrt=0,t.prototype.ka.call(this,n)},i.yo=function(n){if(n.type===eA.ua&&this.qrt<3)return this.qrt++,t.prototype.yo.call(this,new gO(n)),void t.prototype.ka.call(this,this.Ya());t.prototype.yo.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<eM.length;i++){var r=eM[i];if(uM[r])for(var e=0,u=uM[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),lO=n}return lO}function yO(t,n){var i=Qb(n),r=new(wO())(t,i);r.Ca=r;var e=r.ga;return r.Sa(),r.ja(xx),_.defineProperty(e,"constructor",{value:yO}),e=function(t){return Vg(t)}(e),function(t){for(var n=0;n<cM.length;n++)(0,cM[n])(t)}(r),e}Jt(),fa((function(){self.dispatchEvent&&self.dispatchEvent(Cx("theoplayerready"))})),Q(),Nt();var mO=function(){function t(){}var n=t.prototype;return n.encode=function(t){return Pa(t)},n.decode=function(t){return Ra(t)},t}(),AO={base64:new mO};Q(),Nt();var pO=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","vr-webxr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor"]'),_O="8.14.0",kO="2025.1.6",MO=xx.ga,bO=_p.Ex.registerContentProtectionIntegration.bind(_p.Ex);Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Tn(),Jt();var TO=function(){function t(t){this.BG=t,this.wot=new Nd}var n=t.prototype;return n.Qrt=function(t){var n=this;return this.wot.Wo((function(){return n.mot(t)}))},n.Ok=function(){this.BG.zG()},n.mot=function(n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return r=i.BG.sG(lw.NI),e=r.gV,[4,t.pot(e,n)];case 1:return u=s.sent(),[4,i.BG.BV(r)];case 2:return s.sent(),[2,u]}}))}))()},n.gn=function(){this.wot.gn()},t.pot=function(n,i){return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return Wt.kf||Wt.Nf?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.Aot()]);case 1:return e.sent(),(r=!i)?[4,t.yot(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.yot(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.yot=function(t,n){return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),yi(i)?(r=ga(250),[4,st.race([i,r])]):[2,!Wt.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.Aot=function(){return new st((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else g(t,0)}))},t}(),NO={zX:function(t){Wr.addEventListener("beforeunload",t)},jX:function(t){Wr.removeEventListener("beforeunload",t)}},DO={oot:lx,vot:TO,bot:NO,Mot:f};Jt(),Q(),Nt();var IO=function(){function t(){}var n=t.prototype;return n.Qrt=function(t){return st.resolve("all")},n.Ok=function(){},n.gn=function(){},t}();(function(t){Gr=t.oot,Vr=t.vot,Fr=t.bot,Wr=t.Mot,Zr=Wr&&Wr.location,Xr=Wr&&Wr.navigator})(Wt.xf&&Wt.jf?ys({},DO,{vot:IO}):DO),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Tn();var EO=function(){function t(){}var n=t.prototype;return n.nG=function(t){return yn((function(){return pn(this,(function(n){return[2,ab(t.type)]}))}))()},n.rG=function(t){return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,Pp(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},t}(),SO=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.nG=function(n){var i=this;return yn((function(){return pn(this,(function(r){return Jr(n.useManagedMediaSource)?[2,t.prototype.nG.call(i,n)]:[2,!1]}))}))()},n}(EO);function LO(t){return Ol(t)}function CO(t,n){var i=Ol(t);return n?""+i+n:""+i}Q(),Nt(),An(),Tn(),Q(),Nt();var jO=function(){function t(t,n,i,r){this.Not=t,this.Dot=n,this.kot=i,this.Lot=r}var n=t.prototype;return n.Tot=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.Not.Sot(t.map(LO))];case 1:return[2,i.sent().shift()]}}))}))()},n.Iot=function(t,n){var i=CO(t,n);return this.Dot.Jb(i)},n.Eot=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return e=CO(t,n),[4,i.kot.$b(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.VJ=function(t){return this.Lot.$b(t)},t}();Q(),Nt(),Zt(),Q(),Nt(),Q(),Nt();var xO=function(){function t(){}var n=t.prototype;return n.xot=function(t){return st.resolve(!1)},n.Cot=function(t){return st.reject(OO)},n.jot=function(t){return st.reject(OO)},n.Jb=function(t){return st.resolve(!1)},n.$b=function(t){return st.resolve(void 0)},n.Oot=function(t,n){return st.resolve(void 0)},n.Sot=function(t){return st.resolve([])},n.Rot=function(){return st.resolve([])},n.Pot=function(t){return st.resolve([])},n.zot=function(t,n){return st.resolve([])},n.wS=function(t){return st.reject(OO)},n.Bot=function(t){return st.reject(OO)},n.Uot=function(){return st.reject(OO)},t}(),OO="Storage disabled",zO=function(){function t(){this.Zot=new xO,this.Wot=new xO,this.Hot=new xO,this.Xot=new xO,this.qot=new xO}return t.prototype.Vot=function(t){return st.reject(RO)},t.xst=function(){return st.resolve(new t)},t}(),RO="Storage disabled";Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Zt(),Tn();var BO=function(){function t(t){var n=this;this.My=new sh,this.Fot=void 0,this.My.Sy(t),this.My.rM.then((function(t){n.Fot=t}))}var n=t.prototype;return n.xot=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.xot(t)]}}))}))()},n.Cot=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return(r=i.Fot)?[3,2]:[4,i.Qot];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Cot(t,n)]}}))}))()},n.jot=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return(r=i.Fot)?[3,2]:[4,i.Qot];case 1:r=e.sent(),e.label=2;case 2:return[2,r.jot(t,n)]}}))}))()},n.Jb=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Jb(t)]}}))}))()},n.$b=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.$b(t)]}}))}))()},n.Oot=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return(r=i.Fot)?[3,2]:[4,i.Qot];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Oot(t,n)]}}))}))()},n.Sot=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Sot(t)]}}))}))()},n.Rot=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return(n=t.Fot)?[3,2]:[4,t.Qot];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Rot()]}}))}))()},n.Pot=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Pot(t)]}}))}))()},n.zot=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return(r=i.Fot)?[3,2]:[4,i.Qot];case 1:r=e.sent(),e.label=2;case 2:return[2,r.zot(t,n)]}}))}))()},n.wS=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.wS(t)]}}))}))()},n.Bot=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Fot)?[3,2]:[4,n.Qot];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Bot(t)]}}))}))()},n.Uot=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return(n=t.Fot)?[3,2]:[4,t.Qot];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Uot()]}}))}))()},Ct(t,[{key:"Qot",get:function(){return this.My.rM}}]),t}(),UO=function(){function t(t){var n=this;this.My=new sh,this.Got=void 0,this.My.Sy(t);var i=this.My.rM;i.then((function(t){n.Got=t})),this.Wot=new BO(i.then((function(t){return t.Wot}))),this.Zot=new BO(i.then((function(t){return t.Zot}))),this.Hot=new BO(i.then((function(t){return t.Hot}))),this.Xot=new BO(i.then((function(t){return t.Xot}))),this.qot=new BO(i.then((function(t){return t.qot})))}return t.prototype.Vot=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return(i=n.Got)?[3,2]:[4,n.Yot];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Vot(t)];case 3:return[2,r.sent()]}}))}))()},Ct(t,[{key:"Yot",get:function(){return this.My.rM}}]),t}();function PO(t){return new A("This storage cannot handle persistency type "+t)}Q(),Nt(),Q(),Nt(),gn(),Q(),Nt();var QO=function(t){return t.Kot="readonly",t.Jot="readwrite",t}({}),YO=function(){function t(){this.RM=[]}var n=t.prototype;return n.xot=function(t){return st.resolve("temporary"===t)},n.Cot=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?st.reject(PO(n)):(this.$ot(t.key),this.RM.push(t),st.resolve())},n.jot=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return st.reject(PO(n));for(var i=0;i<t.length;i++){var r=t[i];this.$ot(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.RM.push(u)}return st.resolve()},n.Jb=function(t){return st.resolve(Boolean(this.tht(t)))},n.$b=function(t){return st.resolve(this.tht(t))},n.Oot=function(t,n){return st.resolve(this.iht(t,n))},n.Sot=function(t){var n=this,i=t?t.map((function(t){return n.tht(t)})):this.RM;return st.resolve(i.filter(ci))},n.Rot=function(){return st.resolve(ln(this.RM))},n.Pot=function(t){return this.zot(t,"key")},n.zot=function(t,n){var i=this.RM.filter((function(i){return i[n]===t}));return st.resolve(i)},n.wS=function(t){return this.$ot(t),st.resolve()},n.Bot=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.$ot(i)}return st.resolve()},n.Uot=function(){return Ro(this.RM),st.resolve()},n.tht=function(t){return this.iht(t,"key")},n.iht=function(t,n){for(var i=0,r=this.RM;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.$ot=function(t){var n=this.tht(t);n&&Co(this.RM,n)},t}(),GO=function(){function t(){this.Zot=new YO,this.Wot=new YO,this.Hot=new YO,this.Xot=new YO,this.qot=new YO}return t.prototype.Vot=function(t){return t(this)},t.xst=function(){return st.resolve(new t)},t}();Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),gn(),Tn();var VO=function(){function t(t){this.eht=t}var n=t.prototype;return n.xot=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,r=n.eht,e.label=1;case 1:return i<r.length?[4,r[i].xot(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Cot=function(t,n){void 0===n&&(n="persistent");var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:r=0,e=i.eht,s.label=1;case 1:return r<e.length?[4,(u=e[r]).xot(n)]:[3,4];case 2:if(s.sent())return[2,u.Cot(t)];s.label=3;case 3:return r++,[3,1];case 4:throw PO(n)}}))}))()},n.jot=function(t,n){void 0===n&&(n="persistent");var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:r=0,e=i.eht,s.label=1;case 1:return r<e.length?[4,(u=e[r]).xot(n)]:[3,4];case 2:if(s.sent())return[2,u.jot(t)];s.label=3;case 3:return r++,[3,1];case 4:throw PO(n)}}))}))()},n.Jb=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,r=n.eht,e.label=1;case 1:return i<r.length?[4,r[i].Jb(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.$b=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:i=0,r=n.eht,u.label=1;case 1:return i<r.length?[4,r[i].$b(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Oot=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:r=0,e=i.eht,s.label=1;case 1:return r<e.length?[4,e[r].Oot(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.Sot=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.eht,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.Sot(t)]):[3,4];case 2:a.apply(o,c.concat([ln.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Rot=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.eht,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.Rot()]):[3,4];case 2:o.apply(s,a.concat([ln.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.Pot=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.eht,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.Pot(t)]):[3,4];case 2:a.apply(o,c.concat([ln.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.zot=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.eht,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.zot(t,n)]):[3,4];case 2:c.apply(a,h.concat([ln.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.wS=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,r=n.eht,e.label=1;case 1:return i<r.length?[4,r[i].wS(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Bot=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,r=n.eht,e.label=1;case 1:return i<r.length?[4,r[i].Bot(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Uot=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:n=0,i=t.eht,r.label=1;case 1:return n<i.length?[4,i[n].Uot()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function FO(t){return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,st.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,WO.xst(n)]}}))}))}var WO=function(){function t(t){this.aht=t,this.sht=new VO(t.map((function(t){return t.Xot}))),this.nht=new VO(t.map((function(t){return t.qot}))),this.rht=new VO(t.map((function(t){return t.Hot}))),this.oht=new VO(t.map((function(t){return t.Zot}))),this.hht=new VO(t.map((function(t){return t.Wot})))}return t.prototype.Vot=function(n){var i=this;if(0===this.aht.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.aht.length?i.aht[e].Vot(u):n(new t(r))};return this.aht[e].Vot(u)},t.xst=function(n){return st.resolve(new t(n))},Ct(t,[{key:"Xot",get:function(){return this.sht}},{key:"qot",get:function(){return this.nht}},{key:"Hot",get:function(){return this.rht}},{key:"Zot",get:function(){return this.oht}},{key:"Wot",get:function(){return this.hht}}]),t}(),ZO=function(){function t(t){this.ght=[],this.fht=!0,this._ht=t}var n=t.prototype;return n.xst=function(){return new UO(this.dht())},n.dht=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return t.fht?[4,st.resolve()]:[3,2];case 1:e.sent(),t.fht=!1,e.label=2;case 2:n=0,i=t.ght,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,FO([GO.xst,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,FO([GO.xst,t._ht])()];case 9:return[2,e.sent()]}}))}))()},n.ja=function(t){if(!this.fht)throw new A("Registration overdue");this.ght.push(t)},t}(),XO=function(){function t(){}return t.ja=function(n){t.ZY.ja(n)},Ct(t,null,[{key:"Ld",get:function(){return t.uht||(t.uht=t.ZY.xst()),t.uht}}]),t}();function HO(t){return void 0!==t.yk}function KO(t){var n=Wt.kf||Wt.Nf,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Kr(!0);return yn((function(t){var n,i,u;return pn(this,(function(s){switch(s.label){case 0:return n=t.VN,e.Gp(n)||function(t,n){return!!t&&(Xv(t)?gA(n)||yA(n):to(t,Zv.APPLICATION_TTML_XML)||to(t,Zv.TEXT_VTT)||to(t,Zv.IMAGE_JPEG))}(t.gX,t.cht)?(i=t.cht.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.GY?(u=t.GY,[4,Wo(Uo(u,(function(t){return qs(t.A8)})).filter(ci),(function(t){return Kt.AA(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}XO.ZY=new ZO(zO.xst),XO.uht=void 0,Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Q(),Nt(),An(),Tn(),tn(),Jt(),Q(),Nt(),Zt(),tn();var JO=function(){function t(t){this.vht=t}return Ct(t,[{key:"Ti",get:function(){return this.vht.offsetHeight*Kt.Ys.bp}},{key:"ji",get:function(){return this.vht.offsetWidth*Kt.Ys.bp}}]),t}();Jt(),Q(),Nt(),Zt();var qO=function(){function t(t,n){this.Ul=new cA,this.C7=new $L(t,n)}var n=t.prototype;return n.Wk=function(t,n,i,r,e,u,s,o){var a=new tL(t,n,i,r,e,u,s,void 0,o);return this.Ul.tt(a),this.C7.tt(a),a},n.BQ=function(t){this.Ul.it(t),this.C7.it(t),t.gn()},n.CV=function(t){var n=new bC(t.Lt,t.kh,t.gs);return this.Ul.tt(n),this.C7.tt(n),n},n.tr=function(){for(var t=0,n=this.Ul.AL.slice();t<n.length;t++){n[t].gn()}this.Ul.tr(),this.C7.tr()},n.gn=function(){this.tr(),this.Ul.gn(),this.C7.gn()},Ct(t,[{key:"nt",get:function(){return this.Ul}}]),t}();Q(),Nt(),An(),St(),Tn(),Q(),Nt();var $O=function(){function t(t){this.ZY=t}var n=t.prototype;return n.sG=function(t){return this.ZY.sG(t)},n.fot=function(t){return this.ZY.fot(t)},n.BV=function(t){return this.ZY.BV(t)},t}();Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),An(),Zt(),St(),Tn();var tz=function(t){function n(n){var i;return(i=t.call(this)||this).vV=void 0,i.Mht=new yM,i.kht=function(t){return i.Vk(t)},i.cz=n,i.Mht.TL=n.nt,i.cz.yn(VI,i.kht),i}Et(n,t);var i=n.prototype;return i.SE=function(){return this.cz.TE},i.DE=function(){return this.cz.NE},i.xE=function(){return this.cz.LE},i._d=function(){return this.cz.ct},i.mht=function(){return this.cz.wV},i.pht=function(){return this.cz.OE},i.Ck=function(){return this.cz.wa},i._a=function(){return this.cz.xV},i.Aht=function(){return this.cz.KE},i.hk=function(){return this.cz.rk},i.gk=function(){return this.cz.fk},i.vk=function(){return this.cz._k},i.pk=function(){return this.cz.wk},i.yht=function(){return this.cz.V5},i.bht=function(){return this.cz.e6},i.Ak=function(){return this.Mht},i.ait=function(){return this.cz.Ll},i.Tht=function(){return this.cz.zV},i.Sht=function(t){this.cz.zV=t},i.Nht=function(t){this.cz.Rtt=t},i.Iht=function(){return this.cz.w8},i.GE=function(){return this.cz.GE()},i.Pk=function(){return this.cz.Pk()},i.Rk=function(){this.cz.Rk()},i.Wb=function(t,n,i){this.cz.Wb(t,n,i)},i.cV=function(t){this.cz.cV(t)},i.ge=function(){this.cz.ge()},i.be=function(){this.cz.be()},i.Wk=function(t,n,i,r,e,u,s,o){return this.cz.Wk(t,n,i,r,e,u,s,o)},i.CV=function(t){return this.cz.CV(t)},i.DV=function(){return this.cz.DV()},i.kV=function(t,n,i,r,e){return this.cz.kV(t,n,i,r,e)},i.BQ=function(t){this.cz.BQ(t)},i.jV=function(){this.cz.jV()},i.H$=function(t){return this.cz.H$(t)},i.$n=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return[4,n.cz.$n(t)];case 1:return i=e.sent(),r=t.YA===OA.QQ?n.Dht(i):n.Eht(i),n.vV=r,[2,r]}}))}))()},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.vV?[4,t.vV.wy()]:[3,2];case 1:n.sent(),t.vV=void 0,n.label=2;case 2:return[4,t.cz.tr()];case 3:return n.sent(),[2]}}))}))()},i.ktt=function(){this.cz.ktt()},i.Ltt=function(){this.cz.Ltt()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.cz.fn(VI,t.kht),t.Mht.TL=void 0,t.Mht.gn(),t.vV?[4,t.vV.wy()]:[3,2];case 1:n.sent(),t.vV=void 0,n.label=2;case 2:return[2]}}))}))()},i.jtt=function(){this.cz.jtt()},i.Lht=function(t){this.cz.fn(VI,this.kht),this.cz=t,this.Mht.TL=t.nt,this.cz.yn(VI,this.kht)},i.Vk=function(t){this.yo(t)},Ct(n,[{key:"wht",get:function(){return this.cz}},{key:"TE",get:function(){return this.SE()}},{key:"NE",get:function(){return this.DE()}},{key:"LE",get:function(){return this.xE()}},{key:"Uu",get:function(){return this.cz.Uu}},{key:"ct",get:function(){return this._d()}},{key:"wV",get:function(){return this.mht()}},{key:"OE",get:function(){return this.pht()}},{key:"lt",get:function(){return this.cz.lt}},{key:"Ti",get:function(){return this.cz.Ti}},{key:"ji",get:function(){return this.cz.ji}},{key:"wa",get:function(){return this.Ck()}},{key:"xV",get:function(){return this._a()}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"KE",get:function(){return this.Aht()}},{key:"$E",get:function(){return this.cz.$E},set:function(t){this.cz.$E=t}},{key:"rk",get:function(){return this.hk()}},{key:"fk",get:function(){return this.gk()}},{key:"_k",get:function(){return this.vk()}},{key:"wk",get:function(){return this.pk()}},{key:"V5",get:function(){return this.yht()}},{key:"e6",get:function(){return this.bht()}},{key:"nt",get:function(){return this.Ak()}},{key:"Ll",get:function(){return this.ait()}},{key:"t7",get:function(){return this.cz.t7}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){this.cz.Nk=t}},{key:"xtt",get:function(){return this.cz.xtt}},{key:"FE",get:function(){return this.cz.FE}},{key:"mz",get:function(){return this.cz.mz}},{key:"zV",get:function(){return this.Tht()},set:function(t){this.Sht(t)}},{key:"Rtt",get:function(){return this.cz.Rtt},set:function(t){this.Nht(t)}},{key:"w8",get:function(){return this.Iht()}}]),n}(Aa),nz=function(t){function n(n){return t.call(this,n)||this}Et(n,t);var i=n.prototype;return i.Ott=function(t){this.cz.Ott(t)},i.Fk=function(){this.cz.Fk()},Ct(n,[{key:"gV",get:function(){return this.cz.gV}},{key:"K5",get:function(){return this.cz.K5}},{key:"xk",get:function(){return this.cz.xk},set:function(t){this.cz.xk=t}}]),n}(tz);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt();var iz=function(){function t(t){this.vV=t}var n=t.prototype;return n.xS=function(){return this.vV.md},n.vk=function(){return this.vV._k},n.N$=function(t){return this.vV.N$(t)},n.D$=function(t){return this.vV.D$(t)},n.wy=function(){return st.resolve()},Ct(t,[{key:"md",get:function(){return this.xS()}},{key:"_k",get:function(){return this.vk()}}]),t}(),rz=function(t){function n(n){var i;return(i=t.call(this,n)||this).y5=void 0,i.b5=void 0,i.Rht=function(t){return i.Pht(t)},i}Et(n,t);var i=n.prototype;return i.SE=function(){return this.vV.TE},i._d=function(){return this.vV.ct},i.xht=function(){return this.vV.F$},i.T5=function(t){this.vV.T5(t)},i.D5=function(t,n,i,r){this.vV.D5(t,n,i,r)},i.I3=function(){this.vV.I3()},i.w3=function(){this.vV.w3()},i.wy=function(){return this.y5&&(this.y5.wy(),this.y5=void 0),this.b5&&(this.b5.wy(),this.b5=void 0),t.prototype.wy.call(this)},i.Cht=function(t){this.vV=t,this.y5?t.p5?this.y5.jht(t.p5):(this.y5.wy(),this.y5=void 0):t.p5&&(this.y5=this.Oht(t.p5),this.y5.yn(XI,this.Rht)),this.b5?t.A5?this.b5.jht(t.A5):(this.b5.wy(),this.b5=void 0):t.A5&&(this.b5=this.Oht(t.A5),this.b5.yn(XI,this.Rht))},i.k$=function(t){this.vV.k$(t)},i.Pht=function(t){},Ct(n,[{key:"p5",get:function(){return this.y5}},{key:"A5",get:function(){return this.b5}},{key:"TE",get:function(){return this.SE()}},{key:"ct",get:function(){return this._d()}},{key:"F$",get:function(){return this.xht()}}]),n}(iz);Q(),Nt(),An(),Zt(),St(),Sn(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var ez=function(t){function n(n){var i;return(i=t.call(this)||this).WK=0,i.XK=0,i.KS=n,i}Et(n,t);var i=n.prototype;return i.B4=function(t,n,i){return st.reject(new A("Invalid media buffer"))},i.P3=function(){return st.reject(new A("Invalid media buffer"))},i.F4=function(t,n,i){return st.reject(new A("Invalid media buffer"))},i.F$=function(){return!1},i.I3=function(){},i.O3=function(t,n){},i.R3=function(t,n){},i.wS=function(t,n,i){return st.resolve()},i.s3=function(t,n){return st.reject(new A("Invalid media buffer"))},i.nB=function(t,n){return st.reject(new A("Invalid media buffer"))},i.N$=function(t){return!1},i.D$=function(t){return st.reject(new A("Invalid media buffer"))},i.wy=function(){this.Bo()},Ct(n,[{key:"QK",get:function(){return this.XK},set:function(t){this.XK=t}},{key:"TE",get:function(){return GM.PP()}},{key:"md",get:function(){return this.KS}},{key:"E3",get:function(){return lw.dI}},{key:"x3",get:function(){return GM.PP()}},{key:"zht",get:function(){return!1}},{key:"PK",get:function(){return this.WK},set:function(t){this.WK=t}}]),n}(Aa),uz=function(t){function n(n){var i;return(i=t.call(this)||this).Ght=function(t){return i.Vk(t)},i.Qht=n,i.Qht.yn(XI,i.Ght),i}Et(n,t);var i=n.prototype;return i.Bht=function(){return this.Qht.QK},i.Uht=function(t){this.Qht.QK=t},i.SE=function(){return this.Qht.TE},i.xS=function(){return this.Qht.md},i.Fht=function(){return this.Qht.x3},i.Yht=function(){return this.Qht.PK},i.Vht=function(t){this.Qht.PK=t},i.B4=function(t,n,i){return this.Qht.B4(t,n,i)},i.P3=function(){return this.Qht.P3()},i.F4=function(t,n,i){return this.Qht.F4(t,n,i)},i.F$=function(){return this.Qht.F$()},i.I3=function(){this.Qht.I3()},i.O3=function(t,n){this.Qht.O3(t,n)},i.R3=function(t,n){this.Qht.R3(t,n)},i.wS=function(t,n,i){return this.Qht.wS(t,n,i)},i.s3=function(t,n){return this.Qht.s3(t,n)},i.N$=function(t){return this.Qht.N$(t)},i.D$=function(t){return this.Qht.D$(t)},i.Vk=function(t){this.yo(t)},i.wy=function(){this.Bo(),this.jht(new ez(this.md))},i.jht=function(t){this.Qht.fn(XI,this.Ght),this.Qht=t,this.Qht.yn(XI,this.Ght)},Ct(n,[{key:"QK",get:function(){return this.Bht()},set:function(t){this.Uht(t)}},{key:"TE",get:function(){return this.SE()}},{key:"md",get:function(){return this.xS()}},{key:"E3",get:function(){return this.Qht.E3}},{key:"x3",get:function(){return this.Fht()}},{key:"PK",get:function(){return this.Yht()},set:function(t){this.Vht(t)}}]),n}(Aa);sn();var sz=function(t){function n(n){var i;return(i=t.call(this,n)||this).cz=void 0,i}Et(n,t);var i=n.prototype;return i.B4=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return ta(i),[4,r.Wht(r.cz.LE,null==n?void 0:n.kst,null==n?void 0:n.ct)];case 1:return e.sent(),ta(i),t.YA!==HI.jN?[3,3]:[4,r.Zht(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Hht(t,n,i)];case 5:return[2]}}))}))()},i.Zht=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=En(sl(e.rI),2),s=u[0],o=u[1],e={YA:HI.jN,rI:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.Xht(e,n,i)];case 3:return c.sent(),o.cancel(new qo).catch(qt),[2];case 4:return cI(a=c.sent())?[4,r.Wht(r.cz.LE,n.kst,n.ct,i)]:[3,6];case 5:if(c.sent())return e={YA:HI.jN,rI:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(qt),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Hht=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),ta(i),[4,r.Xht(t,n,i)];case 2:return[2,u.sent()];case 3:return cI(e=u.sent())?[4,r.Wht(r.cz.LE,n.kst,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.Wht=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:u=aI(t,n,i,e.TE,e.PK,e.QK),s=0,h.label=1;case 1:return s<u.length?(o=En(u[s],2),a=o[0],c=o[1],[4,e.qht(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Xht=function(n,i,r){return t.prototype.B4.call(this,n,i,r)},i.qht=function(n,i,r){return t.prototype.wS.call(this,n,i,r)},Ct(n,[{key:"uot",get:function(){return this.cz},set:function(t){this.cz=t}}]),n}(uz),oz=function(t){function n(n){var i;return(i=t.call(this,n)||this).cz=void 0,i.Cht(n),i}return Et(n,t),n.prototype.Oht=function(t){var n=new sz(t);return n.uot=this.cz,n},Ct(n,[{key:"uot",get:function(){return this.cz},set:function(t){this.cz=t,this.y5&&(this.y5.uot=t),this.b5&&(this.b5.uot=t)}}]),n}(rz);Q(),Nt(),Zt(),St();var az=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),Ct(n,[{key:"ck",get:function(){return this.vV.ck},set:function(t){this.vV.ck=t}}]),n}(iz);Q(),Nt(),Zt(),St();var cz=function(t){function n(n){return t.call(this,n)||this}Et(n,t);var i=n.prototype;return i.Ott=function(t){this.cz.Ott(t)},i.Fk=function(){this.cz.Fk()},i.jk=function(){return this.cz.jk()},Ct(n,[{key:"gV",get:function(){return this.cz.gV}},{key:"K5",get:function(){return this.cz.K5}},{key:"Tk",get:function(){return this.cz.Tk}},{key:"yk",get:function(){return this.cz.yk}},{key:"xk",get:function(){return this.cz.xk},set:function(t){this.cz.xk=t}}]),n}(tz),hz=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.Eht=function(t){var n=new oz(t);return n.uot=this,n},i.Dht=function(t){return new az(t)},Ct(n,[{key:"wht",get:function(){return this.cz}}]),n}(nz),fz=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.Eht=function(t){var n=new oz(t);return n.uot=this,n},i.Dht=function(t){return new az(t)},Ct(n,[{key:"wht",get:function(){return this.cz}}]),n}(cz),vz=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.sG=function(n){return n===lw.NI?new fz(t.prototype.sG.call(this,n)):n===lw.SI?new hz(t.prototype.sG.call(this,n)):void 0},i.BV=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,(r=n).wy()];case 1:return e.sent(),[4,t.prototype.BV.call(i,r.wht)];case 2:return e.sent(),[2]}}))}))()},n}($O);Q(),Nt();var dz=function(){function t(t){var n=this;this.Jht=function(t){t.persisted&&n.Kht()},this.ta=t,f.addEventListener("pageshow",this.Jht)}var n=t.prototype;return n.Kht=function(){this.ta.Yk()},n.gn=function(){f.removeEventListener("pageshow",this.Jht)},t}();Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),Q(),Nt();var lz=function(){function t(t){this.sat=t}var n=t.prototype;return n.$ht=function(t,n,i){return st.resolve()},n.iat=function(t,n,i,r){var e=[];if(r){var u={sQ:n.lB,nQ:n.dB,rQ:i.eat.rQ};r.YA===Yw.TTML?e=Vm(t,r,u,i.gX):r.YA===Yw.WEBVTT&&(e=Vy(t,u,this.sat).L)}return e},n.tr=function(){},t}();Q(),Nt(),gn(),Q(),Nt(),xn(),Q(),Nt();var gz,wz=function(t){return t.gC="vttc",t.nat="vsid",t.rat="iden",t.oat="ctim",t.aat="sttg",t.uat="payl",t.dat="vtte",t.fat="vtta",t}({}),yz=function(){function t(){}return t.gat=function(n){return Boolean(t._at[n])},t.dj=function(n){for(var i=[],r=Im.qC(new bm(n,new Vc)),e=0;e<r.length;e++){var u=r[e];t.gat(u.YA)&&i.push(t._at[u.YA](u.rI))}return i},t.vat=function(n){var i=Im.qC(n),r=Sm(i,wz.nat),e=Sm(i,wz.rat),u=Sm(i,wz.oat),s=Sm(i,wz.aat),o=Sm(i,wz.uat);return{YA:wz.gC,wat:r?t.mat(r):void 0,pat:e?t.Aat(e):void 0,yat:u?t.bat(u):void 0,Mat:s?t.Tat(s):void 0,Sat:o?t.Nat(o):void 0}},t.mat=function(t){return{YA:wz.nat,Iat:t.QC()}},t.Aat=function(t){return{YA:wz.rat,pat:t.WC()}},t.bat=function(t){return{YA:wz.oat,Dat:t.WC()}},t.Tat=function(t){return{YA:wz.aat,Eat:t.WC()}},t.Nat=function(t){return{YA:wz.uat,Lat:t.WC()}},t.xat=function(t){return{YA:wz.dat}},t.Cat=function(t){return{YA:wz.fat,jat:t.WC()}},t}();yz._at=(jn(gz={},wz.gC,yz.vat),jn(gz,wz.dat,yz.xat),jn(gz,wz.fat,yz.Cat),gz),tn();var mz=function(){function t(){this.Rat=NaN}var n=t.prototype;return n.$ht=function(t,n,i){var r=new DataView(t.Oat),e=jm.dj(r),u=Do(e,(function(t){return t.YA===pm.kx}));return u&&(this.Rat=u.Z[0].zj.nj.xj),st.resolve()},n.iat=function(t,n,i){if(T(this.Rat))return[];var r=Rc(t),e=jm.dj(r),u=Nm(e,pm.mC),s=Nm(e,pm.SC);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.MR?r.MR.MR.toNumber()/i:n.lB,u=[],s=0,o=r.bR;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,ln(c.kR))}return{Pat:e,kR:u}}(u,n,this.Rat),a=i.eat.rQ;return function(t,n,i,r){for(var e=yz.dj(Rc(n.rI)),u=t.kR,s=t.Pat+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],d=(null!=(h=f.ct)?h:0)/i,l=void 0;v.YA===wz.gC&&(l=Az(v,a,d,s)),l&&o.push(l),a+=d}return o}(o,s,this.Rat,a)},n.tr=function(){this.Rat=NaN},t}();function Az(t,n,i,r){if(t.Sat){var e=t.yat?function(t){return im(t.Dat,new Vc(0))}(t.yat):n,u=r+e,s=u+i,o=t.Sat.Lat;return new cy(u,s,o,!1)}}Q(),Nt(),An(),Zt(),St(),Sn(),Tn(),Q(),Nt(),xn(),tn();var pz,_z=function(t){return t[t.nW=0]="nW",t[t.zat=1]="zat",t[t.Bat=10]="Bat",t[t.Uat=11]="Uat",t[t.Qat=12]="Qat",t[t.Fat=13]="Fat",t[t.Yat=14]="Yat",t[t.Vat=15]="Vat",t[t.Gat=20]="Gat",t[t.Wat=21]="Wat",t[t.Zat=22]="Zat",t[t.Hat=23]="Hat",t[t.Xat=24]="Xat",t[t.qat=30]="qat",t[t.Kat=31]="Kat",t[t.Jat=32]="Jat",t[t.$at=33]="$at",t[t.tut=34]="tut",t[t.iut=35]="iut",t[t.eut=40]="eut",t[t.sut=41]="sut",t[t.nut=42]="nut",t[t.rut=43]="rut",t[t.out=44]="out",t[t.hut=50]="hut",t[t.aut=51]="aut",t[t.uut=52]="uut",t[t.cut=60]="cut",t[t.lut=61]="lut",t[t.fut=62]="fut",t[t.gut=63]="gut",t[t._ut=70]="_ut",t[t.vut=71]="vut",t[t.wut=72]="wut",t[t.mut=73]="mut",t[t.Aut=74]="Aut",t[t.yut=75]="yut",t[t.but=76]="but",t[t.Mut=77]="Mut",t[t.Tut=90]="Tut",t[t.Sut=91]="Sut",t}({});jn(pz={},0,"Failed because"),jn(pz,1,"Created"),jn(pz,10,"Starting because unknown reason"),jn(pz,11,"Starting because new track loading"),jn(pz,12,"Starting because manifest changed"),jn(pz,13,"Starting because seek"),jn(pz,14,"Starting because timeupdate"),jn(pz,15,"Starting because buffering is being resumed"),jn(pz,20,"Interrupting because unknown reason"),jn(pz,21,"Interrupting because segment has a gap"),jn(pz,22,"Interrupting because segment is missing"),jn(pz,23,"Interrupting because seeking"),jn(pz,24,"Interrupting because buffer is full"),jn(pz,30,"Pausing because unknown reason"),jn(pz,31,"Pausing because target buffer reached"),jn(pz,32,"Pausing because no target time"),jn(pz,33,"Pausing because no segment selected"),jn(pz,34,"Pausing because end of stream is reached"),jn(pz,35,"Pausing because initialization segment is missing"),jn(pz,40,"Stopping because unknown reason"),jn(pz,41,"Stopping because manifest went offline"),jn(pz,42,"Stopping because seeking"),jn(pz,43,"Stopping because buffering is being paused"),jn(pz,44,"Stopping because unload"),jn(pz,50,"Resetting because unknown reason"),jn(pz,51,"Resetting because player was reset"),jn(pz,52,"Resetting because disallowed segment was added"),jn(pz,63,"Marking gap at"),jn(pz,60,"Target time is"),jn(pz,70,"[Selection 1] Select nothing if the target time has already been appended."),jn(pz,71,"[Selection 2] Select nothing if the time-based lookup failed."),jn(pz,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),jn(pz,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),jn(pz,74,"[Selection 4B] Notify gap if no previous segment is available."),jn(pz,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),jn(pz,76,"[Selection 5B] Select nothing if no next segment is available."),jn(pz,77,"[Selection 6] Unreachable"),jn(pz,61,"Selected segment is"),jn(pz,62,"Appended segment is"),jn(pz,90,"Test setup"),jn(pz,91,"Test");function kz(t,n){var i=n.DP((function(n,i){return t.SP(n,i,!1,!1)}));return t.pP(i)}function Mz(t,n){var i=n.Sn(t._P()).DP((function(n,i){return t.gr(i)}));return t.pP(i)}Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var bz=function(t){return t.Nut="Iut",t.Dut="Eut",t}({});tn(),sn(),Q(),Nt(),St();var Tz=function(t){function n(n,i,r){var e;return(e=t.call(this,"kut")||this).Cn=n,e.jn=i,e.Lut=r,e}return Et(n,t),n}(Jo),Nz=function(t){function n(){return t.call(this,"xut")||this}return Et(n,t),n}(ka),Dz=[Ma.Sb,Ma.Ib,Ma.Tb,Ma.Qy],Iz=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).vct=n,s.ict=i,s.zut=r,s.Out=e,s.C8=u,s.Uut="Hut",s.dV=void 0,s.Zut=new sh,s.nct=new ca,s.Gut=new ca,s.We=function(t){s.Yut||s.Jut||(!Kt.lE&&s.Out.wct(t.currentTime)||(s.nct.Ty(),s.nct=new ca,ea(s._ct(s.nct.ly),s.nct).catch(ia)))},s.ld=rn((function(){if(s.Vut){try{if(s.Out.mct(),s.Out.pct())return}catch(t){if(!(t instanceof Tz))throw t}s.Cn(_z.Yat)}}),250),s.tct(),s}Et(n,t);var i=n.prototype;return i.Qut=function(t){this.Uut!==t&&(this.Uut=t,this.yo(new Nz))},i.Cn=function(t){var n=this;return yn((function(){var t;return pn(this,(function(i){switch(i.label){case 0:return n.Yut||n.Vut?(t=n.zy("xut"),n.Yut?(n.Gut.Ty(),n.Gut=new ca,ea(n.Wut(n.Gut.ly),n.Gut)):(n.Zut.sM(void 0),n.Zut=new sh),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.zk=function(t){var n=this;return yn((function(){return pn(this,(function(t){switch(t.label){case 0:if(!n.qut&&!n.Vut)return[2];0,n.Gut.Ty(),t.label=1;case 1:return n.Yut||n.Jut?[3,3]:[4,n.zy("xut")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.tr=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.Jut?(n.dV=void 0,n.Qut("Hut"),[3,3]):[3,1];case 1:return[4,n.zk(t)];case 2:i.sent(),i.label=3;case 3:return n.Out.tr(),n.zut.tr(),[2]}}))}))()},i.eG=function(t){this.dV=t,this.Qut("$ut"),this.yo(new zk(t))},i.tct=function(){this.C8.yn(Ma.Eb,this.ld),this.C8.yn([Ma.Mb,Ma.eb],this.We),this.Out.yn(Dz,this.Ds),this.ict.yn(bz.Nut,this.ld)},i.ect=function(){this.C8.fn(Ma.Eb,this.ld),this.C8.fn([Ma.Mb,Ma.eb],this.We),this.Out.fn(Dz,this.Ds),this.ict.fn(bz.Nut,this.ld)},i.sct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.ect(),n.nct.Ty(),[4,n.zk(null!=t?t:_z.rut)];case 1:return i.sent(),n.Out.tr(),[2]}}))}))()},i.rct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.tct(),[4,n.Cn(null!=t?t:_z.Vat)];case 1:return i.sent(),[2]}}))}))()},i.hct=function(t,n,i){var r,e=function(t,e){var u=e[t];u.uct<=i&&n<=u.cct&&r.ict.lct.some((function(t){return t.o===u.dct}))&&r.zut.fct(u)};if(this.Yut)for(var u=0,s=t.zut.act();u<s.length;u++)r=this,e(u,s)},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.ect(),t.nct.Ty(),[4,t.zk(_z.out)];case 1:return n.sent(),t.Out.gn(),[2]}}))}))()},i.Wut=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),ta(t),n.Qut("Kut"),[4,n.Out.gct(t)];case 2:return e.sent(),ta(t),n.Qut("Xut"),[4,ra(n.Zut.rM,t)];case 3:return e.sent(),[3,5];case 4:return $o(i=e.sent())?n.Qut("Hut"):(r=i instanceof md?i:new md(wd.MEDIA_LOAD_ERROR,i.message,i),n.eG(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i._ct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return ta(t),[4,n.zk(_z.nut)];case 1:return i.sent(),n.Out.tr(),ta(t),[4,n.Cn(_z.Fat)];case 2:return i.sent(),[2]}}))}))()},Ct(n,[{key:"Cut",get:function(){var t,n;return(null==(t=this.Out.jut)?void 0:t.Lut)||(null==(n=this.Out.Rut)?void 0:n.Lut)}},{key:"Put",get:function(){return this.zut}},{key:"But",get:function(){return this.Out.But},set:function(t){this.Out.But=t}},{key:"nI",get:function(){return this.Uut}},{key:"Fut",get:function(){return this.zut.Ht.Fut}},{key:"lt",get:function(){return this.dV}},{key:"Yut",get:function(){return"Hut"===this.Uut}},{key:"Vut",get:function(){return"Xut"===this.Uut}},{key:"qut",get:function(){return"Kut"===this.Uut}},{key:"Jut",get:function(){return"$ut"===this.Uut}}]),n}(Aa);Q(),Nt(),An(),Tn(),sn(),tn(),Q(),Nt(),tn();var Ez=function(){function t(t,n){this.OQ=t,this.Ict=n}var n=t.prototype;return n.Act=function(t,n){return this.yct(t,!1,n)},n.bct=function(t,n){return this.yct(t,!0,n)},n.yct=function(n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return ta(r.ly),[4,e.Mct(n,i,r)];case 1:return(u=s.sent()).XN?[2,t.Tct(u)]:[2,e.Sct(u)]}}))}))()},n.Sct=function(t){return t},n.Mct=function(t,n,i){var r,e=new Sl({zu:t.zu,oI:Gd.xN,aI:t.Nct?{Range:"bytes="+t.Nct[0]+"-"+(null!=(r=t.Nct[1])?r:"")}:void 0,zI:t.zI,xI:Tl.GET,YA:Nl.gI,OI:n?Dl.wI:Dl.dI,RI:this.Ict,CI:i.Dct,jI:i.jI,ly:i.ly,QI:i.QI});return this.OQ.hI(e)},t.Tct=function(t){return t},t}();Q(),Nt(),Zt(),Q(),Nt(),tn();var Sz=function(){function t(t){this.Mst=0,this.Lct=0,this.kct=k.exp(k.log(.5)/t)}var n=t.prototype;return n.Ect=function(t,n){var i=k.pow(this.kct,t),r=n*(1-i)+i*this.Mst;T(r)||(this.Mst=r,this.Lct+=t)},n.xct=function(){var t=1-k.pow(this.kct,this.Lct);return this.Mst/t},t}(),Lz=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Cct=0,this.Pct=Bk,this.jct=new Sz(t),this.Oct=new Sz(n),this.zct=i}var n=t.prototype;return n.Ect=function(t,n){var i=8e3*n/t,r=t/1e3;this.Cct+=n,this.jct.Ect(r,i),this.Oct.Ect(r,i)},n.xct=function(){return this.Rct()?k.min(this.jct.xct(),this.Oct.xct()):this.Pct},n.Rct=function(){return this.Cct>=this.zct},t}(),Cz=function(){function t(t,n){this.Yct=n,n&&gw(t)?t===lw.NI?(this.Hct=5e3,this.Uct=new Lz(.05,1,0)):(this.Hct=0,this.Uct=new Lz(.005,.1,0)):(this.Hct=16e3,this.Uct=new Lz)}return t.prototype.Qct=function(t){var n=t.Fct,i=this.Yct?t.Vct-t.Gct:t.Vct-t.Wct,r=t.Zct;!r&&n<this.Hct||(r?this.Uct.Ect(2*i,n):this.Uct.Ect(i,n))},Ct(t,[{key:"Bct",get:function(){return this.Uct.xct()}},{key:"Rct",get:function(){return this.Uct.Rct()}}]),t}();Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt(),Sn(),Q(),Nt(),sn();var jz=function(){function t(t){this.o_=t}var n=t.prototype;return n.transform=function(t,n){this.o_.write(t).catch(qt),n.enqueue(t)},n.flush=function(){this.o_.close().catch(qt)},t}(),xz=function(){function t(t,n,i){this.Oat=t,this.qct=n,this.Kct=i}return t.prototype.Xct=function(){return new Oz(il(this.Oat),this.qct,this.Kct)},t}(),Oz=function(){function t(t,n,i){this.Jct=t,this.qct=n,this.Kct=i}var n=t.prototype;return n.FN=function(t){return el(this.Jct,t)},n.Zb=function(){var n=En(sl(this.Jct),2),i=n[0],r=n[1];return this.Jct=i,new t(r,this.qct,this.Kct)},n.$ct=function(){var n=En(function(t){var n=new $d,i=n.writable.getWriter(),r=new $d(new jz(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(qt)})),[r.readable,n.readable]}(this.Jct),2),i=n[0],r=n[1];return this.Jct=i,new t(r,this.qct,this.Kct)},n.tlt=function(t){var n=this;return this.FN(t).then((function(t){return new xz(t,n.qct,n.Kct)}))},Ct(t,[{key:"YN",get:function(){return this.Jct}}]),t}();Q(),Nt(),St();var zz=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).ilt=n,e}return Et(n,t),n}(Jo),Rz="Cache lookup failed.",Bz=function(t){function n(n){var i;return(i=t.call(this)||this).slt=n,i}Et(n,t);var i=n.prototype;return i.elt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return ta(n),[4,i.slt.Eot(t.zu.zu,t.zu.Nct)];case 1:if(r=u.sent(),ta(n),!r)throw new zz(t,Rz);return e=new xz(r.buffer,r.byteLength,r.reference),[2,{ilt:t.ilt,nlt:{YA:HI.v$,rI:e},Lut:t.Lut,zu:t.zu}]}}))}))()},i.rlt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return ta(n),[4,i.slt.Eot(t.zu,t.Nct)];case 1:if(r=u.sent(),ta(n),!r)throw new zz(t,Rz);return e=new xz(r.buffer,r.byteLength,r.reference),[2,{YA:HI.v$,rI:e}]}}))}))()},i.gn=function(){this.Bo()},n}(Aa);Q(),Nt(),An(),St(),Tn();var Uz=["Nb","Db"],Pz=function(t){function n(n){var i;(i=t.call(this)||this).olt=n;for(var r=0,e=i.olt;r<e.length;r++){e[r].yn(Uz,i.Ds)}return i}Et(n,t);var i=n.prototype;return i.elt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:e=0,u=i.olt,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.elt(t,n)];case 3:return[2,a.sent()];case 4:return na(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.rlt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:e=0,u=i.olt,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.rlt(t,n)];case 3:return[2,a.sent()];case 4:return na(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.gn=function(){for(var t=0,n=this.olt;t<n.length;t++){var i=n[t];i.fn(Uz,this.Ds),i.gn()}},n}(Aa);function Qz(t){return Ai(t.hlt)}function Yz(t){return Qz(t)?t.hlt:t.ult}Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),St();var Gz=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).clt=i,o.YZ=r,o.mR=e,o.Fj=u,o.RI=s,o}return Et(n,t),n}(ka),Vz=function(t){function n(n,i,r,e,u){return t.call(this,Ma.Sb,n,i,r,e,u)||this}return Et(n,t),n}(Gz);Q(),Nt(),Zt(),St(),tn(),sn(),Q(),Nt(),Zt(),St(),tn();var Fz=function(t,n){this.llt=t,this.dlt=n},Wz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).flt=0,n}Et(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.flt+=t.byteLength,n.enqueue(t)},i.flush=function(){this.glt(!1)},i.Ty=function(){this.glt(!0)},i.glt=function(t){this.llt(this.dlt,Kt.Og(),this.Fct,t)},Ct(n,[{key:"Fct",get:function(){return this.flt}}]),n}(Fz),Zz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).flt=0,n._lt=!1,n}Et(n,t);var i=n.prototype;return i.start=function(){this.dlt=Kt.Og()},i.transform=function(t,n){this.flt+=t.byteLength,this._lt||this.vlt(t)&&this.glt(!1),n.enqueue(t)},i.flush=function(){},i.Ty=function(){this.glt(!0)},i.vlt=function(t){var n=this.wlt(t),i=this.plt(n);return Boolean(Do(i,Xz))},i.wlt=function(t){return this.Alt&&void 0!==this.ylt?(this.Alt=qc([this.Alt,t]),new bm(Rc(this.Alt),new Vc(this.ylt))):(this.Alt=t,new bm(Rc(t),new Vc))},i.plt=function(t){var n=Im.KC(t.rI,t.OC,!0);return n.JC?(this.Alt=void 0,this.ylt=void 0):this.ylt=t.OC.tc,n.m},i.glt=function(t){this._lt||(this.llt(this.dlt,Kt.Og(),this.Fct,t),this._lt=!0)},Ct(n,[{key:"Fct",get:function(){return this.flt}}]),n}(Fz);function Xz(t){return t.YA===pm.SC}var Hz=function(){function t(t){var n=this;this.Dlt=t,this.Slt=new sh,this.Qct=function(t,i,r,e){var u={Wct:n.Mlt,Gct:t,Vct:i,Fct:r,Zct:e};n.Dlt.Qct(u),n.Dlt.Rct&&Uk.Ld.DY(n.Dlt.Bct)},this.Slt.rM.catch(qt),this.Mlt=Kt.Og()}var n=t.prototype;return n.blt=function(t){var n=t.cI?this.Mlt:Kt.Og(),i=this.Tlt(n),r=new $d(i),e=t.YN().pipeTo(r.writable).then((function(){return{VE:{Fct:i.Fct}}}),(function(t){throw i.Ty(),t}));return this.Slt.Sy(e),r.readable},n.Nlt=function(t){var n=this,i=t.cI?this.Mlt:Kt.Og(),r=t.FN(),e=r.then((function(t){var r=Kt.Og();return n.Qct(i,r,t.byteLength,!1),{VE:{Fct:t.byteLength}}}),(function(t){var r=Kt.Og();throw n.Qct(i,r,0,!0),t}));return this.Slt.Sy(e),r},Ct(t,[{key:"Ilt",get:function(){return this.Slt.rM}}]),t}(),Kz=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.Tlt=function(t){return new Wz(this.Qct,t)},n}(Hz),Jz=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.Tlt=function(t){return new Zz(this.Qct,t)},n}(Hz);Q(),Nt(),St();var qz=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,Ma.Ib,n,i,r,e,u)||this).Elt=s,a.Yz=o,a}return Et(n,t),n}(Gz);Q(),Nt(),St();var $z=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+Yz(i),n)||this).klt=i.lB,e.Llt=i.dB,e.xlt=r,e}return Et(n,t),n}(Jo),tR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Olt=n,e.Dlt=i,e.Yct=r,e}Et(n,t);var i=n.prototype;return i.Clt=function(){return this.Yct?new Jz(this.Dlt):new Kz(this.Dlt)},i.elt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v;return pn(this,(function(d){switch(d.label){case 0:ta(n),r=t.Lut,e=t.zu,u=t.ilt,s=Yz(u),o=r.Lut?r.Lut.zL:-1,a=function(t){var n,i=t.Lut;n=i===function(t){return t.lct.reduce((function(t,n){return t.FY<n.FY?t:n}))}(i.jlt)?Nr(5*t.ilt.ct):Nr(1.2*t.ilt.ct);return gr(n,1e3,18e3)}(t),i.yo(new Vz(e,r.FY,s,o,r.YA)),d.label=1;case 1:return d.trys.push([1,4,,5]),c=i.Clt(),[4,i.Olt.Act(e,{QI:i.Yct,Dct:a,ly:n})];case 2:return h=d.sent(),[4,i.Rlt(h,h.XN,n,c)];case 3:return f=d.sent(),va(i.Plt(c.Ilt,r,e,s,o,h)),[2,{nlt:f,Lut:r,ilt:u,zu:e}];case 4:throw na(v=d.sent()),new $z(v,u,r);case 5:return[2]}}))}))()},i.rlt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return ta(n),r=!1,[4,i.Olt.bct(t,{QI:r,Dct:1e4,ly:n})];case 1:return e=u.sent(),[4,i.Rlt(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.Rlt=function(t,n,i,r){return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return n?(e=r?r.blt(t):t.YN(),[2,{YA:HI.jN,rI:new Oz(e)}]):[3,1];case 1:return r?[4,r.Nlt(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.FN(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{YA:HI.v$,rI:new xz(u)}];case 6:return[2]}}))}))()},i.Plt=function(t,n,i,r,e,u){var s=this;return yn((function(){var o;return pn(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s.yo(new qz(i,n.FY,r,e,n.YA,u.nI,o.VE.Fct)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.gn=function(){this.Bo()},n}(Aa);Q(),Nt(),Zt();var nR=.001,iR=function(){function t(t,n,i,r){this.zlt=t,this.C8=n,this.X3=i,this.UG=r}return Ct(t,[{key:"TE",get:function(){return this.zlt.TE}},{key:"Blt",get:function(){return this.zlt.Blt}},{key:"J$",get:function(){return this.zlt.J$}},{key:"Ult",get:function(){if(this.X3.fk<UA.Xn)return!1;if(this.zlt.jn<=this.Qlt&&this.zlt.Flt())return!0;var t=this.zlt.uV;if(!t||0===t.V)return!1;var n=GM.RP(this.C8.LE,1/0);return t.Sn(n).yP(this.zlt.J$).jP>=this.UG.ZK}},{key:"Qlt",get:function(){var t,n=this.zlt.uV;if(n&&n.V>0)t=n.jn(0);else{t=this.C8.LE;var i=this.zlt.J$,r=i.bP(t);r>=0&&(t=i.jn(r))}var e=this.zlt._k.Cn(0);if(e>t){if(this.zlt.Cn<=t&&this.zlt.jn>=t&&e>t+nR)throw new Tz(t,e);t=e}return t=this.zlt.Ylt.gP(t)}}]),t}();Q(),Nt(),Zt();var rR=function(){function t(){this.Hv=As(),this.Glt=GM.PP()}var n=t.prototype;return n.Wlt=function(t){return this.Hv.get(t.o)},n.Zlt=function(){var t=this.Glt;return this.Hv.forEach((function(n){t=t.pP(n)})),t},n.Hlt=function(t){if(this.Glt.gr(t))return!0;var n=!1;return this.Hv.forEach((function(i){n=n||i.gr(t)})),n},n.Xlt=function(t,n){var i=this.Hv.get(n.o);return!!i&&i.gr(t)},n.MP=function(t,n){if(this.Glt.MP(t,n))return!0;var i=!1;return this.Hv.forEach((function(r){i=i||r.MP(t,n)})),i},n.qlt=function(t,n){var i=this.Hv.get(n),r=i?i.pP(t):t;this.Hv.set(n,r),this.Glt=this.Glt.pP(t)},n.Klt=function(t){var n=this;this.Hv.forEach((function(i,r){n.Hv.set(r,i.pP(t))})),this.Glt=this.Glt.pP(t)},n.Jlt=function(t){var n=this;this.Hv.forEach((function(i,r){n.Hv.set(r,i.Sn(t))})),this.Glt=this.Glt.Sn(t)},n.tr=function(){var t=this;this.Hv.forEach((function(n,i){t.Hv.set(i,GM.PP())})),this.Glt=GM.PP()},Ct(t,[{key:"Vlt",get:function(){if(0===this.Hv.size)return this.Glt;var t=GM.RP(0,1/0);return t=t.Sn(this.Glt),this.Hv.forEach((function(n){t=t.Sn(n)})),t}}]),t}(),eR=function(){function t(t){this.Wot=[],this.Ht=t,this.tdt=new rR,this.t0=new rR}var n=t.prototype;return n.idt=function(t){for(var n=0,i=this.Wot;n<i.length;n++){var r=i[n];if(r.uct>t)break;if(r.cct>t)return r}},n.edt=function(t){for(var n=0,i=this.Wot;n<i.length;n++){var r=i[n];if(r.sdt>t)break;if(r.ndt>=t)return r}},n.rdt=function(t,n){for(var i=[],r=0,e=this.Wot;r<e.length;r++){var u=e[r];if(u.uct>t)break;u.cct>=n&&i.push(u)}return i},n.act=function(){return this.Wot},n.fct=function(t){var n=GM.RP(t.sdt,t.ndt),i=n._P();this.tdt.Jlt(i),this.tdt.qlt(n,t.dct),this.odt(i);var r=So(this.Wot,(function(n){return t.uct<=n.uct}));r<0?this.Wot.push(t):this.Wot[r].cct<=t.cct?this.Wot.splice(r,1,t):this.Wot.splice(r,0,t)},n.i0=function(t,n){this.t0.qlt(t,n)},n.hdt=function(t){this.t0.Klt(t)},n.Jlt=function(t){this.tdt.Jlt(t),this.t0.Jlt(t);var n=this.tdt.Zlt();this.odt(n)},n.odt=function(t){this.Wot=this.Wot.filter((function(n){return t.SP(n.sdt,n.ndt)})).map((function(n){return n.adt&&!t.MP(n.sdt,n.ndt)?function(t,n){return{dct:t.dct,uct:t.uct,cct:t.cct,sdt:t.sdt,ndt:t.ndt,adt:n}}(n,!1):n}))},n.tr=function(){this.tdt.tr(),this.t0.tr(),this.Wot=[]},n.gn=function(){this.tr()},Ct(t,[{key:"$lt",get:function(){return this.tdt}},{key:"J$",get:function(){return this.t0}}]),t}();Q(),Nt(),Q(),Nt(),An(),Zt(),Tn();var uR=function(){function t(t,n,i){this.vct=t,this.zut=n,this.$p=i}var n=t.prototype;return n.cdt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:return ta(i),u=r.zut.edt(t),e=u&&wr(u.ndt,t,1e-5)?u.cct:t,s=r.ldt(e),o=function(t){return sR.bind(void 0,t)}(e),[4,r.$p.ddt(o,s,n,i)];case 1:a=v.sent(),ta(i),v.label=2;case 2:return a&&r.fdt(a.ilt)?(c=vR(a.ilt),h=a.Lut,[4,r.$p.ddt(c,[h],n,i)]):[3,4];case 3:return a=v.sent(),ta(i),[3,2];case 4:return a?r.gdt(a.ilt)?(f=r._dt(a.ilt),t<f.Cn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,v.sent()];case 6:return t>=f.jn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,v.sent()];case 8:if(a.Lut.vdt(a.ilt))return[2,void 0];throw new A("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=vR(e.ilt),s=t.Lut,[4,r.$p.ddt(u,[s],n,i)];case 2:e=o.sent(),ta(i),o.label=3;case 3:if(e&&r.gdt(e.ilt))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return aR.bind(void 0,t)}(u.ilt),o=t.Lut,[4,e.$p.ddt(s,[o],n,i)];case 2:u=c.sent(),ta(i),c.label=3;case 3:if(u&&e.gdt(u.ilt))return[3,1];c.label=4;case 4:if(!u)throw a=t.Lut.wdt.Cn,new Tz(a,r.Cn,t.Lut);return[2,u]}}))}))()},n.mdt=function(t){return this.zut.$lt.Hlt(t)},n.pdt=function(t){return this.zut.rdt(t.lB,t.dB)},n.gdt=function(t){var n=this.pdt(t);return n.length>0&&function(t,n){return function(t){for(var n=GM.PP(),i=0;i<t.length;i++){var r=t[i];n=n.pP(GM.RP(r.uct,r.cct))}return n}(t).MP(n.lB,n.dB)}(n,t)&&n.every(dR)},n.fdt=function(t){return this.zut.J$.MP(t.lB,t.dB)},n._dt=function(t){var n=this.pdt(t);return{Cn:n[0].sdt,jn:n[n.length-1].ndt}},n.ldt=function(t){var n=this.Adt(t);if(0===n.length){var i=this.udt?this.udt:this.zut.Ht.lct;return[i[i.length-1]]}var r=n.filter((function(t){var n;return(null==(n=t.Lut)?void 0:n.lot)&&!t.ydt}));return r.length>0?r:[n[n.length-1]]},n.Adt=function(t){var n=this;return(this.udt?this.udt:this.zut.Ht.lct).filter((function(i){return!n.zut.J$.Xlt(t,i)}))},Ct(t,[{key:"But",get:function(){return this.udt},set:function(t){this.udt=t}},{key:"Fut",get:function(){return this.zut.Ht.Fut}}]),t}();function sR(t,n,i,r){return oR.apply(this,arguments)}function oR(){return oR=yn((function(t,n,i,r){var e,u;return pn(this,(function(s){switch(s.label){case 0:return e=n.eat,(u=e.bdt(t))?n.Mdt(u)?[4,n.Sdt(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().Tdt(t)];case 2:return[2,u]}}))})),oR.apply(this,arguments)}function aR(t,n,i,r){return cR.apply(this,arguments)}function cR(){return cR=yn((function(t,n,i,r){var e;return pn(this,(function(u){switch(u.label){case 0:return Qz(t)?0===t.hlt?[2,void 0]:(e=n.eat.Ndt(t))?[4,n.Sdt(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().Idt(t.hlt-1)];case 2:return[2,n.eat.Ddt(t)];case 3:return[2]}}))})),cR.apply(this,arguments)}function hR(t,n,i,r){return fR.apply(this,arguments)}function fR(){return fR=yn((function(t,n,i,r){var e,u;return pn(this,(function(s){switch(s.label){case 0:return Qz(t)?(e=n.eat.Ndt(t))?[4,n.Sdt(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.hlt+1===u.V?[2,void 0]:[2,u.Idt(t.hlt+1)];case 2:return[2,n.eat.Edt(t)];case 3:return[2]}}))})),fR.apply(this,arguments)}function vR(t){return hR.bind(void 0,t)}function dR(t){return t.adt}Q(),Nt(),An(),Tn();var lR=function(){function t(t,n,i,r){this.jdt=t,this.zlt=n,this.UG=i,this.Ldt=r,this.Odt=!1}var n=t.prototype;return n.ddt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:return ta(r),(u=e.kdt(n,i))?[4,t(u,e.Ldt,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.xdt(s),[2,{Lut:u,ilt:s,zu:o}]):[2,void 0]}}))}))()},n.kdt=function(t,n){if(0!==t.length){var i=this.jdt.Cdt(t,this.Odt?n:void 0,this.zlt,this.UG.VK);return this.Odt||(this.Odt=!0),i}},t}();Q(),Nt(),An(),Tn();var gR=function(){function t(t,n,i,r){this.jdt=t,this.zlt=n,this.slt=i,this.Ldt=r}return t.prototype.ddt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:if(ta(r),!(u=e.jdt.Rdt(n,i,e.zlt)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),ta(r),[4,t(a,e.Ldt,r)];case 3:return(c=v.sent())?(h=a.xdt(c),[4,e.slt.Iot(h.zu,h.Nct)]):[3,5];case 4:if(v.sent())return[2,{ilt:c,Lut:a,zu:h}];v.label=5;case 5:return[3,7];case 6:return na(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function wR(t){return void 0!==t.$E}function yR(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function mR(t,n){return yR(t,n)||function(t,n){return t.FY-n.FY}(t,n)}Q(),Nt(),gn(),ht(),Q(),Nt();var AR=function(){function t(t,n,i,r,e,u){this.xv=t,this.Bdt=n,this.NA=i,this.Ydt=r,this.Pdt=e,this.Vdt=u}var n=t.prototype;return n.Cdt=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.Pdt&&void 0===i&&n.length>1){var s=t.zdt(u,this.Pdt);s&&(u=s)}var o=this.Rdt(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.Rdt=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={Bct:void 0===e||this.Bdt.Rct?this.Bdt.Bct:e,$E:wR(r)&&r.$E?r.$E:1,Udt:r.ji,Qdt:r.Ti,Fdt:null==(u=this.Ydt)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.xv;c<h.length;c++){a=(0,h[c])(a,i,o,this.NA,this.Vdt)}return a},t.Gdt=function(n){return t.sortByQuality(n)[0]},t.Wdt=function(n,i){var r;return i?t.Gdt(null!=(r=t.zdt(n,i))?r:n):t.Gdt(n)},t.zdt=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return hS(t.Qp,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===Y(e))return e.v}},t.sortByQuality=function(t){var n=ln(t);return n.sort(mR),n},t}();Q(),Nt();var pR=function(t,n,i,r,e){return t.filter((function(t){return e.N$(t)&&r.Pp(n,t)}))};Q(),Nt();var _R=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.Bct;if(r<=0)return!1;return.8*r>t.FY*i.$E}(t,0,i)}))};Q(),Nt();var kR=function(t,n,i,r,e){var u=i.Fdt;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].YA!==lw.NI)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.Qdt&&o.ji===i.Udt)return t.slice(0,s+1);if(o.Ti<i.Qdt||o.ji<i.Udt)return t.slice(0,s+2)}return[]};Q(),Nt(),An(),Tn();var MR=function(){function t(t){this.Zdt=t}return t.prototype.ddt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:s=0,o=e.Zdt,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.ddt(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();Q(),Nt(),Q(),Nt(),An(),Tn();var bR=function(){function t(t){this.Xdt=t}return t.prototype.Hdt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:s=0,o=e.Xdt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.Hdt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return na(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();Q(),Nt(),An(),Tn();var TR=function(){function t(t){this.OQ=t}return t.prototype.Hdt=function(t,n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return[4,e.OQ.hI({zu:t,oI:Gd.xN,aI:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,zI:i,xI:Tl.GET,YA:Nl.dI,ly:r})];case 1:return[4,s.sent().FN()];case 2:return[2,s.sent()]}}))}))()},t}();Q(),Nt(),An(),Tn();var NR=function(){function t(t){this.slt=t}return t.prototype.Hdt=function(t,n,i,r){var e=this;return yn((function(){var i,r;return pn(this,(function(u){switch(u.label){case 0:return[4,e.slt.Eot(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.slt.Eot(t)]:[3,3];case 2:if(r=u.sent())return[2,Qc(new N(r.buffer),n[0],n[1])];u.label=3;case 3:throw new zz({zu:t,Nct:n,zI:!1})}}))}))()},t}();tn(),Q(),Nt();var DR=1.05,IR=function(t,n,i,r){if(!1===i.Fdt)return t;if(r.Ap)return t;for(var e,u,s=r.yp,o=(null!=(e=null==s?void 0:s.width)?e:i.Udt)*DR,a=(null!=(u=null==s?void 0:s.height)?u:i.Qdt)*DR,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},ER=function(){function t(){}return t.xst=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new bR([new NR(n),new TR(t)])}(u,s),f=new AR([pR],e,Kt.Ys,o,a,c),v=new gR(f,n,s,h),d=new AR([_R,pR,kR,IR],e,Kt.Ys,o,a,c),l=new lR(d,n,r,h),g=new MR([v,l]);return new uR(t,i,g)},t}();Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St();var SR=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,Ma.Tb)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return Et(n,t),n}(ka);Q(),Nt(),St();var LR=function(t){function n(n,i){var r;return(r=t.call(this,Ma.Qy)||this).track=n,r.segments=i,r}return Et(n,t),n}(ka);tn();var CR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).qdt=n,r}return Et(n,t),n}(Jo),jR=[Ma.Sb,Ma.Ib],xR=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).vct=n,h.zut=i,h.ift=r,h.$dt=e,h.kft=u,h.wft=s,h.Vdt=o,h.lft=a,h.SV=c,h.Kdt=void 0,h.H4=void 0,h.Jdt=void 0,h.pft=void 0,h.aft=0,h.uft=0,h.dft=GM.PP(),h.kft.yn(jR,h.Ds),h}Et(n,t);var i=n.prototype;return i.tft=function(t){return!this.H4||!t||!Hc(this.H4.Oat,t.Oat)},i.wct=function(t){if(!this.Kdt)return!1;var n=this.Kdt.ilt,i=GM.RP(n.lB,n.dB),r=this.ift.Blt,e=r.bP(t);return e<0?i.gr(t,nR):i.SP(t,r.jn(e),!0,!0,nR)},i.gct=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:i=n.zut.Ht.lct,g.label=1;case 1:0,r=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),ta(t),n.mct(),n.pct()?[3,18]:(r=n.eft(),[4,n.ddt(r,t)]);case 3:return void 0===(u=g.sent())?[3,18]:(n.Kdt=u,function(t){var n=t.Lut,i=n.eat,r=Qz(t.ilt)?i.Ndt(t.ilt):t.ilt;return i.Oft(r,n.Sft.Tft())}(n.Kdt)?[3,5]:[4,n.sft(n.Kdt,t)]);case 4:return g.sent(),[3,1];case 5:return!n.Jdt||hS(n.Jdt.Lut.VN,n.Kdt.Lut.VN)?[3,7]:[4,n.Vdt.D$(n.Kdt.Lut)];case 6:g.sent(),g.label=7;case 7:return!n.Kdt.Lut.GY||n.Rut&&(null==(e=n.Jdt)?void 0:e.Lut)===n.Kdt.Lut||null==(s=n.SV)||s.KY(n.Kdt.Lut.GY),[4,n.nft(r,n.Kdt.ilt,t)];case 8:return g.sent(),[4,n.rft(n.Kdt.Lut,t)];case 9:return n.H4=g.sent(),[4,n.elt(n.Kdt,t)];case 10:return o=g.sent(),a=n.ift.TE,c=n.Jdt,[4,n.oft(o,t)];case 11:return n.Jdt=g.sent(),h=n.ift.TE,n.hft(c,n.Kdt,a,h,r),i.forEach((function(t){return t.ydt=!1})),n.aft=0,n.uft=0,[3,17];case 12:return(f=g.sent())instanceof Tz?(n.O3(f.Cn,f.jn,f.Lut),[3,1]):[3,13];case 13:if(!(f instanceof CR))return[3,15];if(v=500,i.every((function(t){return t.ydt}))){if(2===n.aft){if(d=n.ift.TE,n.cft(n.Kdt),n.hft(n.Jdt,n.Kdt,d,d,r),i.forEach((function(t){return t.ydt=!1})),n.uft+=1,n.aft=0,n.uft===n.lft.maxRetries)throw new md(wd.MEDIA_LOAD_ERROR,"The segments could not be loaded.",f);return[3,1]}n.aft++,l=n.lft.minimumBackoff*k.pow(2,n.aft-1),v=k.min(l,n.lft.maximumBackoff)}return[4,ga(v,t)];case 14:return g.sent(),[3,1];case 15:throw n.dft=GM.PP(),f;case 16:return n.Kdt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.hft=function(t,n,i,r,e){var u=r.yP(i),s=n.Lut,o=s.fft(n.ilt),a=s.vdt(n.ilt),c=n.ilt.lB,h=n.ilt.dB;o&&(c=k.min(c,k.max(0,s.wdt.Cn-.05))),a&&(h=k.max(h,s.wdt.jn));var f=GM.RP(c,h).yP(r);if(0!==u.V){if(o||this.dft.V>0){var v=f.Sn(GM.RP(c,u.Cn(0)));this._ft(v)}var d=u._P().Sn(GM.RP(u.Cn(0),u.jn(u.V-1)));if(this._ft(d),a){var l=f.Sn(GM.RP(u.jn(u.V-1),h));this._ft(l)}if(this.dft.V>0){var g=this.dft.yP(u);this._ft(g),this.dft=GM.PP()}var w,y=s.eat,m=Qz(n.ilt)?void 0:y.Ddt(n.ilt),A=null!=(w=null==t?void 0:t.ilt)?w:this.vft(m)?m:void 0;if(A){var p=this.zut.rdt(A.lB,A.dB);if(p.length>0){var _=GM.RP(p[p.length-1].ndt,u.Cn(0));this._ft(_)}}var M=Qz(n.ilt)?void 0:y.Edt(n.ilt);if(M&&this.vft(M)){var b=this.zut.rdt(M.lB,M.dB);if(b.length>0){var T=GM.RP(u.jn(u.V-1),b[0].sdt);this._ft(T)}}}else this.gft(i,f,c,e)},i.gft=function(t,n,i,r){var e=n;0===this.dft.V&&(this.dft=GM.RP(t.jn(t.V-1),i)),0===e.V&&void 0!==r&&(e=GM.OP(r)),this.dft=this.dft.pP(e),this.zut.hdt(this.dft)},i.vft=function(t){return!!t&&this.zut.rdt(t.lB,t.dB).length>0},i._ft=function(t){for(var n=t.yP(this.ift.TE),i=0;i<n.V;i++)n.Cn(i)!==n.jn(i)&&this.wft.i0(n.Cn(i),n.jn(i))},i.mft=function(t,n){throw new CR(t,n)},i.mct=function(){if(!(this.dft.V>0)){var t,n=this.ift.Blt.pP(null!=(t=this.ift.J$.fP().CP(this.ift.Qlt))?t:GM.PP());this.zut.Jlt(n),this.pft&&!this.Aft(this.pft)&&(this.pft=void 0),this.yo(new LR(this.zut.Ht.Fut,this.zut.act()))}},i.pct=function(){return this.Jdt&&this.Jdt.Lut.vdt(this.Jdt.ilt)?(this.wft.I3(),!0):(this.pft&&this.pft.Lut.vdt(this.pft.ilt)&&this.Aft(this.pft)&&this.wft.I3(),!!this.ift.Ult)},i.Aft=function(t){return this.zut.$lt.MP(t.yft,t.bft)},i.Mft=function(t,n,i){(!this.pft||this.pft.ilt.dB<t.ilt.dB)&&(this.pft=ys({},t,{yft:n,bft:i}))},i.eft=function(){var t=this.ift.Qlt;return t},i.ddt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return ta(n),r=i.Jdt?i.Jdt.Lut:void 0,[4,i.$dt.cdt(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.sft=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:r={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,3,4,5]),e=t.Lut,u=e.eat,s=Qz(t.ilt)?u.Ndt(t.ilt):t.ilt,o=e.Sft.Tft(),(a=u.Nft(s))&&a.getTime()<=o.getTime()?[2,i.mft(_z.Zat,"Segment is not available.")]:(c=u.Ift(s).getTime()-o.getTime(),h=kn(r,ca.Iy([n]),!1),[4,st.race([ga(c,h.ly),e.zy(bz.Nut,h.ly)])]);case 2:return v.sent(),[3,5];case 3:return f=v.sent(),r.error=f,r.hasError=!0,[3,5];case 4:return Mn(r),[7];case 5:return[2]}}))}))()},i.rft=function(t,n,i){void 0===i&&(i=0);var r=this;return yn((function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:if(ta(n),!(e=t.Dft))return[2,r.H4];a.label=1;case 1:return a.trys.push([1,4,,7]),t.Eft?[3,3]:[4,r.kft.rlt(e,n)];case 2:u=a.sent(),t.Eft=u.rI,a.label=3;case 3:return[3,7];case 4:return na(s=a.sent()),ig(s)?2===i?(t.ydt=!0,[2,r.mft(_z.iut,"Could not fetch the initializer.")]):[4,ga(k.min(r.lft.minimumBackoff*k.pow(2,i),r.lft.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.rft(t,n,i+1)];case 6:throw new md(wd.MEDIA_LOAD_ERROR,s.message,s);case 7:ta(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.tft(t.Eft)?[4,r.wft.$ht(t.Eft,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(na(o=a.sent()),ig(o))return[2,r.mft(_z.iut,"Could not append the initializer.")];throw new md(wd.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.Eft]}}))}))()},i.elt=function(t,n,i){void 0===i&&(i=0);var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),ta(n),[4,r.kft.elt(t,n)];case 1:case 4:return[2,u.sent()];case 2:return na(e=u.sent()),e instanceof $z?function(t){return t instanceof Vl}(e.cause)?(r.Lft(new $z(e,t.ilt,t.Lut),i),[2,r.mft(_z.Zat,"Could not append the segment.")]):2===i?(t.Lut.ydt=!0,r.Lft(e,i),[2,r.mft(_z.Zat,"Could not fetch the segment.")]):[4,ga(k.min(r.lft.minimumBackoff*k.pow(2,i),r.lft.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.elt(t,n,i+1)];case 5:throw new md(wd.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.nft=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d;return pn(this,(function(l){switch(l.label){case 0:for(e=r.zut.rdt(n.lB,n.dB),u=r.ift.Blt.CP(t),s=GM.PP(),o=0;o<e.length;o++)a=e[o],ta(i),c=a.sdt,h=a.ndt,(f=u&&u.SP(c,h)?k.max(c,u.jn(0)):c)<(v=h)&&(s=s.pP(GM.RP(f,v)));d=0,l.label=1;case 1:return d<s.V?[4,r.wft.xft(s.Cn(d),s.jn(d),i)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return r.mct(),[2]}}))}))()},i.oft=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),ta(n),[4,i.wft.Cft(t.nlt,t.ilt,t.Lut,n)];case 1:return r=u.sent(),i.jft(t,r.yft,r.bft),i.Mft(t,r.yft,r.bft),[2,t];case 2:if(na(e=u.sent()),ig(e))return i.Lft(new $z(e,t.ilt,t.Lut),0),[2,i.mft(_z.Zat,"Could not append the segment.")];if(cI(e)&&i.wft.JK())return[2,i.mft(_z.Xat,"Buffer is full. Could not reduce the buffer.")];throw new md(wd.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.jft=function(t,n,i){var r=t.Lut,e=t.ilt;this.fct(e,r,n,i)},i.fct=function(t,n,i,r){this.zut.fct({dct:n.o,uct:t.lB,cct:t.dB,sdt:i,ndt:r,adt:!0}),this.wft.e0(i,r)},i.O3=function(t,n,i){var r=GM.RP(t,n);i?this.zut.i0(r,i.o):this.zut.hdt(r),this.wft.i0(t,n)},i.cft=function(t){var n=GM.RP(t.ilt.lB,t.ilt.dB);t.Lut?this.zut.i0(n,t.Lut.o):this.zut.hdt(n)},i.Lft=function(t,n){var i=t.klt,r=this.zut.Ht.Fut,e=this.zut.Ht.ga,u=t.xlt.Lut&&t.xlt.Lut.ga,s=new SR(i,t.message,r,e,u,n);this.yo(s)},i.tr=function(){this.H4=void 0,this.Jdt=void 0},i.gn=function(){this.tr(),this.pft=void 0,this.kft.fn(jR,this.Ds),this.kft.gn()},Ct(n,[{key:"jut",get:function(){return this.Kdt}},{key:"Rut",get:function(){return this.Jdt}},{key:"But",get:function(){return this.$dt.But},set:function(t){this.$dt.But=t}},{key:"Fut",get:function(){return this.zut.Ht.Fut}}]),n}(Aa);var OR=0,zR=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f){this.zlt=t,this.C8=n,this.X3=i,this.OQ=r,this.UG=e,this.Rft=u,this.slt=s,this.Ydt=o,this.Pdt=a,this.Vdt=c,this.lft=h,this.SV=f}var n=t.prototype;return n.xst=function(t){var n=OR++,i=this.zlt.E3,r=new eR(t),e=this.Rft&&gw(i),u=new Cz(i,e),s=new iR(this.zlt,this.C8,this.X3,this.UG),o=ER.xst(n,this.zlt,r,this.UG,u,this.OQ,this.slt,this.Ydt,this.Pdt,this.Vdt),a=function(t){switch(t){case lw.SI:return Il.SI;case lw.NI:return Il.NI;case lw.ON:return Il.ON;case lw.II:return Il.II;default:return Il.dI}}(i),c=function(t,n,i,r){var e=new Bz(r),u=new tR(t,n,i);return new Pz([e,u])}(new Ez(this.OQ,a),u,e,this.slt),h=new xR(n,r,s,o,c,this.zlt,this.Vdt,this.lft,this.SV);return new Iz(n,t.jlt,r,h,this.C8)},n.Pft=function(t,n){var i={Fut:lw.ON,jlt:n,lct:n.lct,ga:t.ga};return this.xst(i)},t}();tn(),Q(),Nt();var RR=function(){function t(t){this.Qht=t}var n=t.prototype;return n.N$=function(t){return this.Qht.N$(t)},n.D$=function(t){return this.Qht.D$(t)},t}(),BR=function(){function t(){}var n=t.prototype;return n.N$=function(t){return!0},n.D$=function(t){return st.resolve(void 0)},t}();Q(),Nt(),Zt(),St(),gn(),Q(),Nt(),St();var UR=function(t){function n(n,i){var r;return(r=t.call(this,Yg.mL)||this).UL=n||[],r.Ht=i,r}return Et(n,t),n.prototype.ma=function(){return new PR(this.UL.map((function(t){return t.ga})))},n}(jg),PR=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return Et(n,t),n}(ka);Q(),Nt(),St();var QR=function(t){function n(n){var i;return(i=t.call(this,Yg.QUALITY_UNAVAILABLE)||this).quality=n,i}return Et(n,t),n.prototype.ma=function(){return new YR(this.quality.ga)},n}(Og),YR=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return Et(n,t),n}(zg);Q(),Nt(),St();var GR=function(t){function n(){return t.call(this,Yg.NO_QUALITY)||this}return Et(n,t),n}(ka);function VR(t){return{FY:t.FY,Qp:t.cht,Ti:FR(t)?t.Ti:0,YA:FR(t)?lw.NI:lw.SI,ji:FR(t)?t.ji:0}}function FR(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}Q(),Nt(),tn();var WR=0,ZR=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).Gft=void 0,e.He=!1,e.Za=void 0,e.Hft=void 0,e.aS="",e.rgt=!1,e.qz=new bw,e.Jft=[],e.Yft=void 0,e.Xft=void 0,e.Uft=function(){return e.yo(new Dw(e))},e.tgt=[],e.ict=n,e.aS=String(WR++),e.iB=Sw(),e._6=r,e.$M=n.uet,e.eB=n.kh,e.igt=n.YA,e.Jft=n.lct,e.Bft(i),e}Et(n,t);var i=n.prototype;return i.Bft=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.yn("update",this.Uft),this.qz.Kz(i)}},i.Qft=function(t){if(this.qz.Jz(t)){t.kQ();var n=this.Fft();if(this.Yft&&Oo(this.Yft,t)){var i=this.Yft.filter((function(t){return t.lot}));0===i.length&&n.length>0?this.QL=n:this.QL=i}else this.QL=n;this.yo(new QR(t))}},i.Vft=function(t){if(this.qz.Jz(t)){var n=this.Fft();t.EQ(),this.Yft&&!function(t,n){return zo(t,n,(function(t,n){return t===n}))}(this.Yft,n)||(this.QL=this.Fft())}},i.Fft=function(){return this.qz.AL.filter((function(t){return t.lot}))},i.Wft=function(t){this.Gft=t.Lut,this.yo(t)},i.qft=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.lct;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.Lut&&s.lot&&n.push(e)}return n}},i.$ft=function(t){var n;this.tgt.push(t),(n=this.Jft).push.apply(n,ln(t.lct));var i=t.lct.map((function(t){return t.Lut}));this.Bft(i)},i.nB=function(t){this.He=t,this.Hft&&(t?this.Hft.EQ(this):this.Hft.kQ(this))},i.ngt=function(t){this.He=t,this.rgt!==t&&(this.rgt=t,this.yo(new Tw(this)))},i.gn=function(){for(var t=0,n=this.qz.AL;t<n.length;t++){n[t].fn("update",this.Uft)}this.qz.tr()},Ct(n,[{key:"BL",get:function(){return this.ict.zft.map(XR).filter(ci)}},{key:"PL",get:function(){return this.Gft}},{key:"jlt",get:function(){return this.ict}},{key:"Rt",get:function(){return this.He},set:function(t){this.nB(t)}},{key:"ga",get:function(){return this.Za||(this.Za=hw(this)),this.Za}},{key:"Zft",get:function(){return this.Hft},set:function(t){this.Hft=t}},{key:"o",get:function(){return this.aS}},{key:"zL",get:function(){return this.iB}},{key:"Lt",get:function(){return this._6}},{key:"gs",get:function(){return this.$M}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"}},{key:"QL",get:function(){return this.Yft},set:function(t){var n;if(t){var i=this.PL?VR(this.PL):void 0;n=t.filter((function(t){return t.lot&&Kt.Ys.Pp(i,VR(t))}))}else n=this.Fft();0!==n.length?(this.Yft=t&&this.qz.Jz(t)?t:void 0,this.Xft=this.qft(this.Yft),this.yo(new UR(t,this))):this.yo(new GR)}},{key:"Kft",get:function(){return this.Xft}},{key:"UL",get:function(){return this.qz}},{key:"lct",get:function(){return this.Jft}},{key:"Fut",get:function(){return this.igt}},{key:"egt",get:function(){return this.tgt}},{key:"sgt",get:function(){return this.lct.every((function(t){return t.sgt}))}}]),n}(Aa);function XR(t){if("urn:mpeg:dash:role:2011"===t.A8)return HR(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.A8){if("1"===t.zD)return ow.xL;if("2"===t.zD)return ow.jL}}function HR(t){if(void 0!==(null==t?void 0:t.zD))switch(t.zD){case"caption":return ow.LL;case"sign":return ow.CL;case"description":return ow.xL;case"enhanced-audio-intelligibility":return ow.jL;default:return}}var KR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).fT=0,o.jG=1,o.dgt=void 0,o.ugt={},o.lgt={},o.dT=0,o.Dgt=ps(),o.bgt=function(t){0},o.C8=n,o.OQ=i,o.UG=r,o.Agt=e,o.slt=u,o.CQ=s,o}Et(n,t);var i=n.prototype;return i.I3=function(){},i.Flt=function(){return this.Blt.gr(this.jn)},i.Cft=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return t.YA!==HI.v$?[3,1]:(s=t.rI.Oat,[3,3]);case 1:return[4,t.rI.FN(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.ugt[o.zL],c=n.lB,h=n.dB,f=new GM([c,h]),a||(e.ugt[o.zL]=GM.PP(),e.lgt[o.zL]=GM.PP()),e.Wht(r),v=e.iat(new N(u),n,i,o),d=0;d<v.length;d++)l=v[d],o.RQ(l);return e.ugt[o.zL]=e.ugt[o.zL].pP(f),[2,{yft:c,bft:h}]}}))}))()},i.Wht=function(t){for(var n=aI(this.C8.LE,void 0,void 0,this.TE,this.UG.ZK,this.UG.QK),i=0;i<n.length;i++){var r=En(n[i],2),e=r[0],u=r[1];va(this.xft(e,u,t))}},i.$ht=function(t,n,i){return this.Agt.$ht(t,n,i)},i.iat=function(t,n,i,r){return this.Agt.iat(t,n,i,r)},i.xft=function(t,n,i){for(var r=t,e=n,u=new GM([t,n]),s=0,o=this.Z.AL;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.AL;h<f.length;h++){var v=f[h];v.lB>=r&&v.dB<=e?c.push(v):u=u.yP(new GM([v.lB,v.dB]))}for(var d=0;d<c.length;d++){var l=c[d];a.SQ(l)}var g=this.ugt[a.zL];g&&(this.ugt[a.zL]=g.yP(u))}return st.resolve()},i.i0=function(t,n){},i.e0=function(t,n){},i.JK=function(){return!1},i.EQ=function(t){var n=this.ygt(t);if(n&&this.ogt!==n){this.ogt=n;for(var i=0,r=this.Z.AL;i<r.length;i++){var e=r[i];e!==n&&(e.UI=iA.Ch)}if(this.Agt.tr(),this.dgt&&(this.dgt.gn(),this.dgt=void 0),this.ogt){var u=this.wgt(this.ogt);this.dgt=new zR(this,this.C8,this.C8,this.OQ,this.UG,!1,this.slt,void 0,void 0,new BR,Rb,void 0).Pft(this.ogt,u),this.dgt.yn(eA.ua,this.bgt),this.dgt.Cn(_z.Uat)}}},i.kQ=function(t){if(this.ogt===t){var n=this.ygt(t);n&&this.ogt===n&&(this.ogt=void 0),this.dgt&&(this.dgt.gn(),this.dgt=void 0)}},i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.ggt=t,n.Mgt(t),[2]}}))}))()},i.Tgt=function(t){var n=function(t){var n=t.lct&&t.lct.length>0&&t.lct[0],i=n&&gA(n.cht),r=gA(t.cht),e=t.gX===Zv.APPLICATION_TTML_XML;return i||r||e?Yw.TTML:t.gX===Zv.TEXT_VTT||AA(t.gX,t.cht)?Yw.WEBVTT:Yw.DEFAULT}(t);if(!n)throw new A("Unknown TextTrack type for Representation");var i=t.Sgt.concat(t.zft);return this.Ngt(function(t){return Oo(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.A8})).map((function(t){return t.zD})).filter(ci),"caption")?hA.yQ:hA.AQ}(i),t.kh,t.uet,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.A8})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.zD)}))}(t.Sgt),t.zft.map(HR).filter(ci))},i.Mgt=function(t){for(var n=0,i=t.Igt;n<i.length;n++){var r=i[n],e=this.Tgt(r);this.Dgt.set(e.zL,r),e.fk=Qw.LOADED,this.tt(e)}},i.it=function(n){this.Dgt.delete(n.zL),t.prototype.it.call(this,n)},i.Ngt=function(t,n,i,r,e,u,s,o){var a,c,h=u.lct.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.CQ.Wk(t,f,n,i,r,e,s,o)},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.dgt?[4,n.dgt.tr(_z.aut)]:[3,3];case 2:i.sent(),n.dgt.fn(eA.ua,n.bgt),n.dgt=void 0,i.label=3;case 3:return n.ggt=void 0,n.ugt={},n.lgt={},[2]}}))}))()},i.Egt=function(){this.ugt={},this.lgt={}},i.findTrackForRepresentation=function(t){for(var i=0,r=this.Z.AL;i<r.length;i++){var e=r[i],u=this.wgt(e);if(u&&n.kgt(u)===t)return e}},i.ygt=function(t){return Do(this.Z.AL,(function(n){return t.zL===n.zL}))},i.wgt=function(t){return this.Dgt.get(t.zL)},i._gt=function(){if(this.ogt){var t=this.wgt(this.ogt);if(t)return n.kgt(t)}},i.gn=function(){for(var n=0,i=this.Z.AL;n<i.length;n++){var r=i[n];this.CQ.BQ(r)}return t.prototype.gn.call(this)},n.kgt=function(t){return t.lct&&t.lct.length>0?t.lct[0]:void 0},Ct(n,[{key:"ogt",get:function(){return this.hgt},set:function(t){this.hgt=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.AL;t<n.length;t++){if(n[t].UI!==iA.Ch)return!0}return!1}},{key:"uV",get:function(){var t=this.C8.LE;return this.Blt.CP(t,.01)}},{key:"agt",get:function(){return this.ogt&&this.ugt[this.ogt.zL]?this.ugt[this.ogt.zL]:GM.PP()}},{key:"cgt",get:function(){return this.ogt&&this.lgt[this.ogt.zL]?this.lgt[this.ogt.zL]:GM.PP()}},{key:"Ylt",get:function(){return new GM([0,1/0])}},{key:"TE",get:function(){return this.agt}},{key:"J$",get:function(){return this.dgt?this.dgt.Put.J$.Vlt:GM.PP()}},{key:"Blt",get:function(){return kz(this.TE,this.J$).mP(2*this.fgt)}},{key:"Cn",get:function(){return this.ggt?this.ggt.wdt.Cn:NaN}},{key:"jn",get:function(){return this.ggt?this.ggt.wdt.jn:NaN}},{key:"OE",get:function(){var t=this.jn;return!!t&&this.C8.LE>=t}},{key:"fgt",get:function(){var t,n,i=this._gt();return i?1/(null!=(n=this.ogt&&(null==i||null==(t=i.vgt)?void 0:t.BB()))?n:25):.04}},{key:"Ti",get:function(){return this.fT}},{key:"E3",get:function(){return lw.ON}},{key:"$E",get:function(){return this.jG},set:function(t){this.jG=t}},{key:"rk",get:function(){return this.cgt}},{key:"_k",get:function(){if(!this.ogt)return GM.OP(0);var t=this.wgt(this.ogt),n=null==t?void 0:t.mgt,i=null==t?void 0:t.pgt;if(void 0===i||void 0===n)return GM.OP(0);var r=k.max(n,this.C8.LE);return new GM([i,r]).fP()}},{key:"ji",get:function(){return this.dT}}]),n}(NA),JR=function(){function t(t,n,i,r,e,u){this.Cgt=[],this.Ul=new Fk([]),this.C8=t,this.OQ=n,this.UG=i,this.slt=r,this.CQ=e,this.sat=u}var n=t.prototype;return n.jQ=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return t.YA!==lw.ON?[2]:(i=function(t,n,i){return gA(n)||t===Zv.APPLICATION_TTML_XML||t===Zv.TEXT_VTT?new lz(i):AA(t,n)?new mz:void 0}(t.gX,t.cht,n.sat),i?(r=n.Lgt(i),n.xgt(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.Lgt=function(t){return new KR(this.C8,this.OQ,this.UG,t,this.slt,this.CQ)},n.xgt=function(t){this.Cgt.push(t),this.Ul.$Y(t.Z)},n.tr=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:n=0,i=t.Cgt.slice(),r.label=1;case 1:return n<i.length?[4,i[n].tr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return Ro(t.Cgt),t.Ul.tr(),[2]}}))}))()},n.gn=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:n=0,i=t.Cgt,r.label=1;case 1:return n<i.length?[4,i[n].gn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return Ro(t.Cgt),t.Ul.gn(),[2]}}))}))()},Ct(t,[{key:"nt",get:function(){return this.Ul}}]),t}();Q(),Nt(),St();var qR=function(t){function n(n){var i;return(i=t.call(this,Ma.gb)||this).error=n,i}return Et(n,t),n}(ka);sn(),Q(),Nt();var $R=function(t){return t.QQ="static",t.FQ="dynamic",t}({});Q(),Nt(),St(),Q(),Nt();var tB=function(t){return t.jgt="Ogt",t}({}),nB=function(t){function n(){return t.call(this,tB.jgt)||this}return Et(n,t),n}(ka);tn(),Q(),Nt(),An(),Zt(),St(),Sn(),Tn(),Q(),Nt(),St();var iB=function(t){function n(n,i){var r;return(r=t.call(this,Ma.Ab)||this).representation=n,r.previousRepresentation=i,r}return Et(n,t),n}(ka);Q(),Nt(),St(),Q(),Nt(),gn(),Q(),Nt();var rB=function(t){return t[t.Rgt=0]="Rgt",t[t.Pgt=1]="Pgt",t[t.zgt=2]="zgt",t[t.Bgt=3]="Bgt",t[t.Ugt=4]="Ugt",t[t.Qgt=5]="Qgt",t}({}),eB=function(t){return t[t.Fgt=0]="Fgt",t[t.Ygt=1]="Ygt",t[t.Vgt=2]="Vgt",t[t.Ggt=3]="Ggt",t}({});function uB(t,n,i){return i===rB.Rgt?i:n!==eB.Fgt&&n!==eB.Ygt||i!==rB.Pgt&&i!==rB.zgt?t?n===eB.Vgt?rB.Ugt:n===eB.Ggt?rB.Bgt:rB.Rgt:rB.Qgt:rB.zgt}function sB(t,n,i,r){var e={byte:i},u=rB.Pgt,s=[],o=31&CE(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=CE(n,e,r),h=4&c,f=3&c;u=uB(Boolean(h),f,u);var v=CE(n,e,r),d=CE(n,e,r);s.push({Wgt:t,mR:-1,Zgt:!a,Hgt:Boolean(h),YA:f,Xgt:u,qgt:v,Kgt:d})}return s}function oB(t,n,i){var r=CE(t,n,i);if(!T(r))return String.fromCharCode(r)}function aB(t){var n=t.c2,i={byte:t.a2},r=t.u2,e=CE(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=jE(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=oB(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===CE(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Jgt=i.byte,o}}}}function cB(t){return 4===t.o2}function hB(t){for(var n=t.filter(cB).map(aB).filter(ci),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,ln(sB(u.n2,u.c2,u.Jgt,u.u2)))}return i}Q(),Nt();var fB="und";var vB=[{l:"Abkhaz",lh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",lh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",lh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",lh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",lh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",lh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",lh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",lh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",lh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",lh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",lh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",lh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",lh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",lh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",lh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",lh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",lh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",lh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",lh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",lh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",lh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",lh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",lh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",lh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",lh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",lh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",lh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",lh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",lh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",lh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",lh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",lh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",lh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",lh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",lh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",lh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",lh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",lh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",lh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",lh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",lh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",lh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",lh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",lh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",lh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",lh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",lh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",lh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",lh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",lh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",lh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",lh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",lh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",lh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",lh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",lh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",lh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",lh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",lh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",lh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",lh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",lh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",lh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",lh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",lh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",lh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",lh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",lh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",lh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",lh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",lh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",lh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",lh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",lh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",lh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",lh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",lh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",lh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",lh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",lh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",lh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",lh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",lh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",lh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",lh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",lh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",lh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",lh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",lh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",lh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",lh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",lh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",lh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",lh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",lh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",lh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",lh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",lh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",lh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",lh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",lh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",lh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",lh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",lh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",lh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",lh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",lh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",lh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",lh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",lh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",lh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",lh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",lh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",lh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",lh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",lh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",lh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",lh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",lh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",lh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",lh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",lh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",lh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",lh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",lh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",lh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",lh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",lh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",lh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",lh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",lh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",lh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",lh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",lh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",lh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",lh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",lh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",lh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",lh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",lh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",lh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",lh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",lh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",lh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",lh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",lh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",lh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",lh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",lh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",lh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",lh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",lh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",lh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",lh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",lh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",lh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",lh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",lh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",lh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",lh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",lh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",lh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",lh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",lh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",lh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",lh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",lh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",lh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",lh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",lh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",lh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",lh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",lh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",lh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",lh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",lh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",lh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",lh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",lh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",lh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",lh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",lh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",lh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",lh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];Q(),Nt(),gn();function dB(t){var n,i=null!=(n=function(t){var n=t.V1,i=new xE;return i.X1(n,0,n.byteLength),ZE(i).D2}(t))?n:24;return t.$gt/i}function lB(t){return t.YA===pm.mC}function gB(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.$gt,u=fr.fromNumber(t.LR||0),s=r.Kz(Iy.tU(u,e));return{t_t:r.BB(),i_t:r,e_t:s,s_t:r}}(t,0,i,r),o=Iy.iU(t.ct||0,i.$gt),a=t.lj||0,c=!(65536&a)&&1!==(a>>24&3),h=Rc(e),f=new Vc;f.tc<h.byteLength;){var v=fc(h,f);if((31&oc(h,f,1))===GE.w2){var d,l=new xE;l.X1(e,f.tc-1,f.tc+v-1);var g=new WE(l),w=PE(s.e_t,g);(d=u=u||[]).push.apply(d,ln(hB(w)))}f.Gb(v-1)}return ys({},s,{ct:o.BB(),n_t:o,r_t:s.e_t.BB(),o_t:s.t_t,h_t:c,a_t:u,u_t:!1,c_t:!1})}function wB(t){return{Fj:t.nj.Fj,$gt:t.zj.nj.xj}}function yB(t){return t.YA===pm.kx}Q(),Nt(),St(),Q(),Nt(),St(),Q(),Nt(),gn(),Q(),Nt(),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Q(),Nt();var mB=function(){function t(t,n){this.met=t,this.oet=n}return t.prototype.DB=function(t){return this.met===t.met&&this.oet===t.oet},t}();Q(),Nt(),Zt();var AB=function(){function t(t,n){this.l$=t,this.d_t=n,this.l_t=""}var n=t.prototype;return n.f_t=function(t){this.l_t+=t},n.g_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.f_t(i)}},Ct(t,[{key:"Cet",get:function(){return this.l_t}},{key:"Det",get:function(){return[this]}},{key:"Let",get:function(){return this.l$}},{key:"let",get:function(){return this.d_t}},{key:"_et",get:function(){return new mB(this.let.met,this.let.oet+this.Cet.length-1)}}]),t}();function pB(t,n){return t===n||t.Cet===n.Cet&&t.let.DB(n.let)&&Xg(t.Let,n.Let)}function _B(t,n){return t===n||t.let.DB(n.let)&&t._et.DB(n._et)&&zo(t.Det,n.Det,pB)}var kB=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return Et(n,t),n.prototype.EB=function(t){return zo(this.U,t.U,_B)},n}(oy);Q(),Nt(),Zt();var MB=function(){function t(){}var n=t.prototype;return n.__t=function(t){return t.KU(this)},n.v_t=function(t){var n=this;return Uo(t,(function(t,i){return t.KU(n,i)}))},n.w_t=function(t,n){return new bB(t,n).m_t()},t}(),bB=function(){function t(t,n){this.met=t,this.S_t=n,this.b_t=[],this.T_t=null}var n=t.prototype;return n.m_t=function(){if(this.p_t)return[];for(var t=0;t<this.met.length;t++)this.A_t(t);return this.y_t(),this.b_t},n.M_t=function(t){this.T_t=new AB(Vj,new mB(this.S_t,t))},n.y_t=function(){this.T_t&&(this.b_t.push(this.T_t),this.T_t=null)},n.A_t=function(t){var n=this.met[t];TB(n)?this.T_t&&this.y_t():(this.T_t||this.M_t(t),this.T_t.f_t(n))},Ct(t,[{key:"p_t",get:function(){return this.met.every(TB)}}]),t}();function TB(t){return null==t}var NB=function(){function t(){}return t.N_t=function(t,n,i){if(!(n>=i)){var r=Uo(t,(function(t,n){return new bB(t.map((function(t){return t?t.I_t():null})),n).m_t()}));if(0!==r.length)return new kB(n,i,r)}},t}(),DB="black",IB="white";Q(),Nt(),Q(),Nt();var EB=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),SB=function(){function t(){this.E_t=[],this.x_t=0;for(var t=0;t<Xj;t++)this.E_t.push(null);this.O_t=!1}var n=t.prototype;return n.D_t=function(t){for(var n=0;n<Xj;n++)t&&(this.E_t[n]=t.E_t[n])},n.DB=function(t){for(var n=0;n<Xj;n++)if(this.E_t[n]!==t.E_t[n])return!1;return!0},n.k_t=function(){for(var t=0;t<Xj;t++)if(null!==this.E_t[t])return!1;return!0},n.L_t=function(t){this.x_t!==t&&(this.x_t=t),this.x_t<0?this.x_t=0:this.x_t>Xj&&(this.x_t=31)},n.C_t=function(t){var n=this.x_t+t;this.L_t(n)},n.j_t=function(){this.C_t(-1),this.E_t[this.x_t]=null},n.f_t=function(t){t>=144&&this.j_t();var n=function(t){return EB[t]?String.fromCharCode(EB[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.x_t>=Xj||(32===Number(t)?(this.E_t[this.x_t]=this.O_t?"</i>":"<i>",this.O_t=!this.O_t):this.E_t[this.x_t]=t,this.C_t(1))},n.R_t=function(t){for(var n=t;n<Xj;n++)this.E_t[n]=null},n.eM=function(){this.R_t(0),this.x_t=0},n.P_t=function(){this.R_t(this.x_t)},n.z_t=function(t,n){for(var i=this.E_t,r=null,e=0;e<Xj;e++){var u=i[e];null===u?r=null:(r||(r={Oh:e,Vh:t,ji:0,Ti:1,E_t:[[]]},n.push(r)),r.E_t[0].push(u),r.ji++)}},n.KU=function(t,n){return t.w_t(this.E_t,n)},t}();tn();var LB=function(){function t(t,n){this.F_t=new Array(CB+1);for(var i=0;i<=CB;i++)this.F_t[i]=new SB;this.G_t=1,this.X_t=0,this.U_t=t,this.Q_t=n,this.evt=!1,this.nvt=!1,this.ovt=IB,this.uvt=DB,this.tr()}var n=t.prototype;return n.B_t=function(t,n){var i="CC"+(this.U_t<<1|this.Q_t+1);if(t>=n)return null;var r=(new MB).v_t(this.F_t.slice(1));return 0===r.length?null:{uB:new kB(t,n,r),YN:i,Y_t:this.U_t<<1|this.Q_t+1}},n.tr=function(){this.V_t(),this.G_t=1},n.W_t=function(){return this.G_t},n.Z_t=function(t){this.G_t=t},n.L_t=function(t){this.F_t[this.G_t].L_t(t)},n.C_t=function(t){this.F_t[this.G_t].C_t(t)},n.H_t=function(){return this.X_t},n.q_t=function(t){this.X_t=t},n.f_t=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==xB[n]?xB[n]:String.fromCharCode(n);break;case 1:i=OB[n];break;case 2:this.K_t(),i=zB[n];break;case 3:this.K_t(),i=RB[n]}i&&this.F_t[this.G_t].addParsedChar(i)}},n.K_t=function(){this.F_t[this.G_t].j_t()},n.J_t=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.F_t[t+r]=this.F_t[n+r];else for(var e=0;e<i;e++)this.F_t[t+e]=this.F_t[n+e]},n.$_t=function(t,n){for(var i=0;i<=n;i++)this.F_t[t+i]=new SB},n.V_t=function(){this.$_t(0,CB)},n.tvt=function(){this.G_t=this.X_t>0?this.X_t:0,this.V_t()},n.ivt=function(t){this.evt=t},n.svt=function(t){this.nvt=t},n.rvt=function(t){this.ovt=t},n.avt=function(t){this.uvt=t},t}(),CB=15,jB=function(t){return t[t.cvt=0]="cvt",t[t.lvt=1]="lvt",t[t.dvt=2]="dvt",t[t.fvt=3]="fvt",t}({}),xB={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},OB={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},zB={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},RB={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"};tn();var BB=function(){function t(t,n){this.Zp=0,this.Avt=new LB(t,n),this.wvt=new LB(t,n),this.pvt=new LB(t,n),this.vvt=this.wvt,this._vt=0,this.mvt=void 0,this.gvt=!1}var n=t.prototype;return n.tr=function(){this.gvt=!0,this._vt=0,this.Zp=0,this.vvt=this.wvt,this.mvt=void 0,this.wvt.tr(),this.pvt.tr(),this.Avt.tr()},n.yvt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.bvt=function(t,n){var i=this.yvt(t,n),r=(30&n)>>1,e=IB,u=!1;r<7?e=QB[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.Zp){var o=this.vvt;if(3===this.Zp&&i!==o.W_t()){var a=1+o.W_t()-o.H_t(),c=1+i-o.H_t();o.J_t(c,a,o.H_t()),o.$_t(0,c-1),o.$_t(i+1,CB-i)}o.Z_t(i);var h=Wj[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{ret:Fj[i].ret,net:Fj[i].net,oet:Fj[i].oet,met:t}}(h,n);o.L_t(f.oet),this.vvt.ivt(s),this.vvt.svt(u),this.vvt.rvt(e),this.vvt.avt(DB)}}},n.Mvt=function(t,n){this.vvt.ivt(!1),this.vvt.svt(!1),this.vvt.rvt(IB);var i=this.Tvt(t,jB.cvt," ".charCodeAt(0)),r=IB,e=!1,u=1==(1&n);return"white_italics"===(r=QB[(14&n)>>1])&&(r="white",e=!0),this.vvt.ivt(u),this.vvt.svt(e),this.vvt.rvt(r),i},n.Tvt=function(t,n,i){if(this.vvt.f_t(n,i),2===this.Zp||3===this.Zp){var r=this.Svt(this.vvt,this._vt,t);return this._vt=t,r}return null},n.Svt=function(t,n,i){return this.gvt?null:2===this.Zp||3===this.Zp?t.B_t(i,i+10):t.B_t(n,i)},n.Nvt=function(t,n){var i=DB;0==(7&t)&&(i=PB[(14&n)>>1]),this.vvt.avt(i)},n.Ivt=function(t){var n=UB,i=t.Dvt,r=t.Evt,e=null;switch(i){case n.RCL:this.kvt();break;case n.BS:this.Lvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.xvt(2,r);break;case n.RU3:e=this.xvt(3,r);break;case n.RU4:e=this.xvt(4,r);break;case n.FON:e=this.Cvt(r);break;case n.RDC:this.jvt(r);break;case n.TR:this.Ovt();break;case n.RTD:this.Rvt();break;case n.EDM:e=this.Pvt(r);break;case n.CR:e=this.zvt(r);break;case n.ENM:this.Bvt();break;case n.EOC:e=this.Uvt(r)}return e},n.zvt=function(t){var n=this.vvt;if(3!==this.Zp)return null;var i=this.Svt(n,this._vt,t),r=n.W_t()-n.H_t()+1;return n.J_t(r-1,r,n.H_t()),n.$_t(0,r-1),n.$_t(n.W_t(),CB-n.W_t()),this._vt=t,i},n.xvt=function(t,n){this.vvt=this.wvt;var i=this.vvt,r=null;return 3!==this.Zp&&4!==this.Zp&&(r=this.Svt(i,this._vt,n),this.wvt.tvt(),this.pvt.tvt(),this.gvt=!1,i.Z_t(CB)),this.Zp=3,i.q_t(t),r},n.Cvt=function(t){return this.Tvt(t,jB.cvt," ".charCodeAt(0))},n.Pvt=function(t){var n=this.wvt,i=null;return 4!==this.Zp&&(i=this.Svt(n,this._vt,t)),n.V_t(),this.gvt=!1,i},n.jvt=function(t){this.Zp=2,this.vvt=this.wvt,this.vvt.q_t(0),this._vt=t},n.Bvt=function(){this.pvt.V_t()},n.Uvt=function(t){var n=null;4!==this.Zp&&(n=this.Svt(this.wvt,this._vt,t));var i=this.pvt;return this.pvt=this.wvt,this.wvt=i,this.kvt(),this._vt=t,n},n.kvt=function(){this.Zp=1,this.vvt=this.pvt,this.vvt.q_t(0)},n.Lvt=function(){this.vvt.K_t()},n.Ovt=function(){this.Avt.tr(),this.gvt=!1,this.Rvt()},n.Rvt=function(){this.vvt=this.Avt,this.Zp=4},n.Qvt=function(t,n,i){return this.vvt.f_t(jB.cvt,n),this.Tvt(t,jB.cvt,i)},n.Fvt=function(t,n,i){var r=1&n?jB.fvt:jB.dvt;return this.Tvt(t,r,i)},n.Yvt=function(t){var n=t.Vvt,i=t.Dvt,r=t.Evt;if(this.mvt===(n<<8|i))return this.mvt=void 0,null;if(this.mvt=n<<8|i,this.Gvt(n,i))this.bvt(n,i);else{if(this.Wvt(n,i))return this.Mvt(r,i);if(this.Zvt(n,i))this.Nvt(n,i);else{if(this.Hvt(n,i))return this.Tvt(r,jB.lvt,i);if(this.Xvt(n,i))return this.Fvt(r,n,i);if(this.qvt(n,i))return this.Ivt(t);this.isTabOffset(n)&&this.vvt.C_t(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.qvt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Gvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Wvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Zvt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Hvt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Xvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Kvt=function(t){return 16==(112&t)},t}(),UB={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},PB=["black","green","blue","cyan","red","yellow","magenta","black"],QB=["white","green","blue","cyan","red","yellow","magenta","white_italics"];Q(),Nt(),Tn(),Q(),Nt(),Q(),Nt();var YB=function(){function t(t,n,i,r,e){this.Jvt=t,this.evt=n,this.nvt=i,this.uvt=r,this.ovt=e}var n=t.prototype;return n.I_t=function(){return this.Jvt},n.$vt=function(){return this.evt},n.twt=function(){return this.nvt},n.iwt=function(){return this.uvt},n.ewt=function(){return this.ovt},t}(),GB=function(){function t(t){this.Lwt=t,this.IG=!1,this.hwt=!1,this.rwt=0,this.nwt=0,this.owt=0,this.awt=0,this.uwt=0,this.Ewt=2,this.lwt=[],this.yB=0,this.G_t=0,this._wt=0,this.nvt=!1,this.evt=!1,this.ovt=IB,this.uvt=DB,this.cwt()}var n=t.prototype;return n.swt=function(t,n,i,r,e,u,s){this.IG=t,this.nwt=n,this.rwt=i,this.owt=r,this.hwt=e,this.awt=u,this.uwt=s},n.cwt=function(){this.lwt=[];for(var t=0;t<FB;t++)this.lwt.push(this.dwt())},n.dwt=function(){for(var t=[],n=0;n<VB;n++)t.push(null);return t},n.fwt=function(t){this.gwt()&&(this.lwt[this.G_t][this._wt]=new YB(t,this.evt,this.nvt,this.uvt,this.ovt),this._wt++)},n.vwt=function(){this.gwt()&&(this._wt<=0&&this.G_t<=0||(this._wt<=0?(this._wt=this.uwt-1,this.G_t--):this._wt--,this.lwt[this.G_t][this._wt]=null))},n.gwt=function(){var t=this.G_t<this.awt&&this.G_t>=0,n=this._wt<this.uwt&&this._wt>=0;return t&&n},n.wwt=function(){return this.IG},n.mwt=function(t){for(var n=0,i=t;i<FB;i++,n++)this.lwt[n]=this.lwt[i];for(var r=0;r<t;r++,n++)this.lwt[n]=this.dwt()},n.pwt=function(){if(this.G_t+1>=this.awt)return this.mwt(1),void(this._wt=0);this.G_t++,this._wt=0},n.Awt=function(){this.lwt[this.G_t]=this.dwt(),this._wt=0},n.B_t=function(t,n){if(this.yB>=t)return null;var i=NB.N_t(this.lwt,this.yB,t);return i?(this.ywt(t),{uB:i,YN:"svc"+n,Y_t:n}):null},n.bwt=function(t,n){this.G_t=t,this._wt=n},n.Mwt=function(t){this.uvt=t},n.Twt=function(t){this.ovt=t},n.Swt=function(t){this.evt=t},n.Nwt=function(t){this.nvt=t},n.Iwt=function(){this.G_t=0,this._wt=0,this.evt=!1,this.nvt=!1,this.ovt=IB,this.uvt=DB},n.Dwt=function(t){this.Ewt=t},n.kwt=function(){this.IG=!0},n.be=function(){this.IG=!1},n.wh=function(){this.IG=!this.IG},n.ywt=function(t){this.yB=t},t}(),VB=42,FB=15,WB=function(){function t(t){this.Vwt=t,this.tmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Ywt=void 0}var n=t.prototype;return n.xwt=function(t){var n=t.Cwt(),i=n.zD,r=n.Evt;i===JB&&(i=i<<16|t.Cwt().zD);return i>=0&&i<=31?this.Owt(i,r):i>=128&&i<=159?this.Rwt(t,i,r):(i>=4096&&i<=4127?this.Pwt(t,255&i):i>=4224&&i<=4255?this.zwt(t,255&i):i>=32&&i<=127?this.Bwt(i):i>=160&&i<=255?this.Uwt(i):i>=4128&&i<=4223?this.Qwt(255&i):i>=4256&&i<=4351&&this.Fwt(255&i),null)},n.Bwt=function(t){this.Ywt&&(127!==t?this.Ywt.fwt(String.fromCharCode(t)):this.Ywt.fwt("\u266a"))},n.Uwt=function(t){this.Ywt&&this.Ywt.fwt(String.fromCharCode(t))},n.Qwt=function(t){if(this.Ywt)if(void 0!==qB[t]){var n=qB[t];this.Ywt.fwt(n)}else this.Ywt.fwt("_")},n.Fwt=function(t){this.Ywt&&(160===t?this.Ywt.fwt("[CC]"):this.Ywt.fwt("_"))},n.Owt=function(t,n){if(!this.Ywt)return null;var i=this.Ywt,r=null;switch(t){case ZB:i.vwt();break;case HB:i.wwt()&&(r=i.B_t(n,this.Vwt)),i.pwt();break;case KB:i.wwt()&&(r=i.B_t(n,this.Vwt)),i.Awt();break;case XB:i.wwt()&&(r=i.B_t(n,this.Vwt)),i.cwt(),i.bwt(0,0)}return r},n.Rwt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Gwt(r)}else{if(136===n){var e=t.Cwt().zD;return this.Wwt(e,i)}if(137===n){var u=t.Cwt().zD;this.Zwt(u,i)}else{if(138===n){var s=t.Cwt().zD;return this.Hwt(s,i)}if(139===n){var o=t.Cwt().zD;return this.Xwt(o,i)}if(140===n){var a=t.Cwt().zD;return this.qwt(a,i)}if(143===n)return this.tr(i);if(144===n)this.Kwt(t);else if(145===n)this.Jwt(t);else if(146===n)this.bwt(t);else if(151===n)this.$wt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.swt(t,c,i)}}}return null},n.Pwt=function(t,n){n>=8&&n<=15?t.ZC(1):n>=16&&n<=23?t.ZC(2):n>=24&&n<=31&&t.ZC(3)},n.zwt=function(t,n){n>=128&&n<=135?t.ZC(4):n>=136&&n<=143&&t.ZC(5)},n.Gwt=function(t){this.tmt[t]&&(this.Ywt=this.tmt[t])},n.imt=function(t){var n;return pn(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.tmt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.Wwt=function(t,n){for(var i=null,r=0,e=this.imt(t);r<e.length;r++){var u=e[r],s=this.tmt[u];s.wwt()&&(i=s.B_t(n,this.Vwt)),s.cwt()}return i},n.Zwt=function(t,n){for(var i=0,r=this.imt(t);i<r.length;i++){var e=r[i],u=this.tmt[e];u.wwt()||u.ywt(n),u.kwt()}},n.Hwt=function(t,n){for(var i=null,r=0,e=this.imt(t);r<e.length;r++){var u=e[r],s=this.tmt[u];s.wwt()&&(i=s.B_t(n,this.Vwt)),s.be()}return i},n.Xwt=function(t,n){for(var i=null,r=0,e=this.imt(t);r<e.length;r++){var u=e[r],s=this.tmt[u];s.wwt()?i=s.B_t(n,this.Vwt):s.ywt(n),s.wh()}return i},n.qwt=function(t,n){for(var i=null,r=0,e=this.imt(t);r<e.length;r++){var u=e[r],s=this.tmt[u];s.wwt()&&(i=s.B_t(n,this.Vwt)),this.tmt[u]=void 0}return i},n.tr=function(t){var n=this.qwt(255,t);return this.eM(),n},n.eM=function(){this.Ywt=void 0,this.tmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Kwt=function(t){t.ZC(1);var n=t.Cwt().zD;if(this.Ywt){var i=(128&n)>0,r=(64&n)>0;this.Ywt.Nwt(i),this.Ywt.Swt(r)}},n.Jwt=function(t){var n=t.Cwt().zD,i=t.Cwt().zD;if(t.ZC(1),this.Ywt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.emt(u,e,r),h=this.emt(a,o,s);this.Ywt.Twt(c),this.Ywt.Mwt(h)}},n.bwt=function(t){var n=t.Cwt().zD,i=t.Cwt().zD;if(this.Ywt){var r=15&n,e=63&i;this.Ywt.bwt(r,e)}},n.$wt=function(t){t.ZC(1),t.ZC(1);var n=t.Cwt().zD;if(t.ZC(1),this.Ywt){var i=3&n;this.Ywt.Dwt(i)}},n.swt=function(t,n,i){var r=void 0!==this.tmt[n];if(!r){var e=new GB(n);e.ywt(i),this.tmt[n]=e}var u=t.Cwt().zD,s=t.Cwt().zD,o=t.Cwt().zD,a=t.Cwt().zD,c=t.Cwt().zD,h=t.Cwt().zD,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,g=1+(15&a),w=(240&a)>>4,y=1+(63&c);r&&0===(7&h)||this.tmt[n].Iwt(),this.tmt[n].swt(f,v,l,w,d,g,y),this.Ywt=this.tmt[n]},n.emt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return $B[r[t]<<2|r[n]<<1|r[i]]},t}(),ZB=8,XB=12,HB=13,KB=14,JB=16,qB={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},$B=["black","blue","green","cyan","red","magenta","yellow","white"];Q(),Nt();var tU=function(){function t(){this.hmt=[],this.omt=null,this.nmt=0}var n=t.prototype;return n.smt=function(t){if(t.YA===eB.Ggt){var n=63&t.zD;return this.nmt=2*n-1,void(this.omt=[])}if(this.omt&&(this.nmt>0&&(this.omt.push(t),this.nmt--),0===this.nmt)){var i=new nU(this.omt);this.hmt.push(i),this.omt=null,this.nmt=0}},n.amt=function(){return this.hmt},n.umt=function(){this.hmt=[]},n.eM=function(){this.hmt=[],this.omt=[],this.nmt=0},t}(),nU=function(){function t(t){this.lmt=0,this.dmt=t}var n=t.prototype;return n.cmt=function(){return this.lmt<this.dmt.length},n.fmt=function(){return this.lmt},n.Cwt=function(){if(!this.cmt())throw new md(wd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.dmt[this.lmt++]},n.ZC=function(t){if(this.lmt+t>this.dmt.length)throw new md(wd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.lmt+=t},t}();tn();var iU=function(){function t(){this.Tmt=!1,this._mt=[],this.vmt=[],this.wmt=new tU,this.gmt=0,this.ymt=_s({CC1:new BB(0,0),CC2:new BB(0,1),CC3:new BB(1,0),CC4:new BB(1,1)}),this.pmt=0,this.Amt=0,this.mmt=ps(),this.tr()}var n=t.prototype;return n.eM=function(){this.gmt=0,this._mt=[],this.vmt=[],this.wmt.eM(),this.tr(),this.mmt.forEach((function(t){t.eM()}))},n.tr=function(){this.pmt=0,this.Amt=0,this.ymt.forEach((function(t){t.tr()}))},n.bmt=function(t,n){if(t.Hgt){var i=t.qgt,r=t.Kgt,e=t.YA;e===eB.Fgt||e===eB.Ygt?this._mt.push({Evt:n,YA:e,Vvt:i,Dvt:r,Mmt:this._mt.length}):this.Tmt&&(this.vmt.push({Evt:n,YA:e,zD:i,Mmt:this.vmt.length}),this.vmt.push({Evt:n,YA:eB.Vgt,zD:r,Mmt:this.vmt.length}))}},n._H=function(){var t=[];this._mt.sort((function(t,n){return t.Evt-n.Evt||t.Mmt-n.Mmt})),this.vmt.sort((function(t,n){return t.Evt-n.Evt||t.Mmt-n.Mmt}));for(var n=0,i=this._mt;n<i.length;n++){var r=i[n],e=this.Smt(r);e&&t.push(e)}for(var u=0,s=this.vmt;u<s.length;u++){var o=s[u];this.wmt.smt(o)}for(var a=this.wmt.amt(),c=0;c<a.length;c++){var h,f=a[c],v=this.Nmt(f);(h=t).push.apply(h,ln(v))}return this.wmt.umt(),this._mt=[],this.vmt=[],t},n.Smt=function(t){var n=t.YA;if(BB.Kvt(t.Vvt)){var i=t.Vvt>>3&1;0===n?this.pmt=i:this.Amt=i}var r="CC"+(n<<1|(n?this.Amt:this.pmt)+1),e=this.ymt.get(r);return 255===t.Vvt&&255===t.Dvt||!t.Vvt&&!t.Dvt||!this.Imt(t.Vvt)||!this.Imt(t.Dvt)?(++this.gmt>=45&&this.tr(),null):(this.gmt=0,t.Vvt&=127,t.Dvt&=127,t.Vvt||t.Dvt?BB.Kvt(t.Vvt)?e.Yvt(t):e.Qvt(t.Evt,t.Vvt,t.Dvt):null)},n.Nmt=function(t){var n=[];try{for(;t.cmt();){var i=t.Cwt().zD,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.Cwt().zD;if(0!==r){if(!this.mmt.has(r)){var u=new WB(r);this.mmt.set(r,u)}for(var s=this.mmt.get(r),o=t.fmt();t.fmt()-o<e;){var a=s.xwt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof md&&t.code===wd.SUBTITLE_PARSE_ERROR))throw t}return n},n.Imt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();Q(),Nt(),St();var rU=function(t){function n(n,i){var r;return(r=t.call(this,"Dmt")||this).Y_t=n,r.uB=i,r}return Et(n,t),n}(ka),eU=Iy.BU(.1),uU=function(t){function n(){var n;return(n=t.call(this)||this).kmt=new iU,n}Et(n,t);var i=n.prototype;return i.Emt=function(t,n){this.kmt.bmt(t,n)},i._H=function(){for(var t=this.kmt._H(),n=0;n<t.length;n++){var i=t[n];this.yo(new rU(i.Y_t,i.uB))}},i.tr=function(){this.kmt.eM()},i.gn=function(){this.Bo(),this.kmt.eM()},n}(Aa),sU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jmt=[],n}Et(n,t);var i=n.prototype;return i.Lmt=function(t,n,i,r){var e=this.xmt(t,r);this.Cmt(e,n,i),this._H()},i.xmt=function(t,n){var i,r=t.slice().sort(Zj),e=this.jmt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].het,s=e[e.length-1].het,o=r[0].het,a=e[0].Lut===r[0].Lut;if(s.qB(o).ZB().WB(Iy.BU(2.5*n))&&a)i=e.concat(r).sort(Zj);else if(o.FB(u)){for(var c=0;c<e.length&&e[c].het.WB(o);)c++;for(var h=!1,f=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)oU(e[v],r[d])?h=!0:f=!0;var l=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(Zj):l?i=e.slice(0,c).concat(r):(i=r,g&&this.tr())}else i=r,this.tr();return i},i.Cmt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.het.BB();if(!i&&n-u<eU.BB())return void(this.jmt=t.slice(r));this.Emt(e,u)}this.jmt=[]},n}(uU);function oU(t,n){return t.het.DB(n.het)&&t.YA===n.YA&&t.qgt===n.qgt&&t.Kgt===n.Kgt}var aU=function(t){function n(n){var i;return(i=t.call(this)||this).Umt=void 0,i.Fmt=NaN,i.Ymt=NaN,i.Gmt=function(t){for(var n=i.Pmt({aet:t.Y_t,uet:""}),r=t.uB,e=0,u=n.L.AL;e<u.length;e++){var s=u[e];r.lB<s.lB&&r.dB>s.lB?r.dB=s.lB:r.lB>s.lB&&s.dB>r.lB?s.dB=r.lB:r.lB===s.lB&&(r.dB=s.dB)}n.RQ(r)},i.CQ=n,i.Rmt=ps(),i.Vmt=new sU,i.Vmt.yn("Dmt",i.Gmt),i}Et(n,t);var i=n.prototype;return i.Omt=function(t){return this.Rmt.get(t)},i.Pmt=function(t){var n=this.Rmt.get(t.aet);return n||(n=this.zmt(t),this.Rmt.set(t.aet,n)),n},i.zmt=function(t){var n,i=[ow.LL],r=function(t){if(t!==fB)for(var n=t.toLowerCase(),i=0;i<vB.length;i++){var r=vB[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.uet),e=r?r.l:"";t.Bmt&&(e="easy "+e,i.push(ow.OL)),n=t.kh?"CC "+t.kh:e?"CC "+e:"CC"+t.aet;var u=this.CQ.Wk(hA.yQ,n,n,t.uet,!1,Yw.CEA608,void 0,i);return this.tt(u),u},i.$ht=function(t){var n=jm.dj(Rc(t));this.Umt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=wB(r),u=r.zj.Hj.Kj.$j.iO,s=Do(u,(function(t){return t.YA===pm.Yx}));if(!s){var o=u.filter((function(t){return t.YA===pm.wC})),a=Do(o,(function(t){var n;return(null==(n=t.HO)?void 0:n.YA)===pm.Yx}));a&&(s=a.HO)}if(s){var c=LE(Rc(s.OO.rI),new Vc),h=s.PO;return ys({},e,{Fj:r.nj.Fj,OO:Gc(s.OO.rI),ji:s.ji,Ti:s.Ti,uR:h&&h.uR,aR:h&&h.aR,a4:c.U1,Qmt:c.Q1,u4:c.F1,V1:c.V1[0],G1:c.G1[0]})}}}(Do(n,yB))},i.Cft=function(t,n,i,r,e,u){var s;if(this.Umt&&(T(this.Fmt)||!wr(this.Fmt,n,1e-5))){T(this.Ymt)||wr(this.Ymt,n,.1)||this.Vmt.tr();for(var o,a=function(t,n,i,r,e){for(var u=[],s=n.filter(lB),o=r(i),a=0;a<s.length;a++){var c=s[a],h=Do(c.Z,(function(t){return t.nj.Fj===i.Fj}));if(h)for(var f,v=h.nj.dR||0,d=h.nj.fR||0,l=h.MR?h.MR.MR:fr.ZERO,g=c.wR+(null!=(f=h.nj.SR)?f:fr.ZERO).toNumber(),w=0,y=h.bR;w<y.length;w++)for(var m=y[w],A=g+(m.wR||0),p=0,_=m.kR;p<_.length;p++){var k=_[p],M=k.Kb||d,b=new xE;b.X1(t,A,A+M);var T=Iy.tU(l,i.$gt);b._Q=e(k,c,i,T,Qc(t,A,A+M)),u.push(b),A+=M,l=l.add(k.ct||v||o)}}return u}(t,jm.dj(Rc(t)),this.Umt,dB,gB),c=null!=(o=null==(s=Go(a,(function(t){return t._Q.ct})))?void 0:s._Q.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e._Q.a_t&&(r=n).push.apply(r,ln(e._Q.a_t)),delete e._Q.a_t}for(var u=0;u<n.length;u+=1)n[u].mR=u;return n}(a),f=Iy.BU(r),v=[],d=0;d<h.length;d++){var l=h[d];v.push(ys({},l,{Lut:e,het:l.Wgt.Kz(f)}))}this.Vmt.Lmt(v,i,u,c),this.Fmt=n,this.Ymt=i}},i.tr=function(){var n=this;return this.Vmt.tr(),this.Rmt.forEach((function(t){t.gn(),n.it(t),n.CQ.BQ(t)})),this.Rmt.clear(),this.Umt=void 0,this.Fmt=NaN,this.Ymt=NaN,t.prototype.tr.call(this)},i.gn=function(){return this.Vmt.fn("Dmt",this.Gmt),this.Vmt.gn(),t.prototype.gn.call(this)},n}(NA);Q(),Nt(),Q(),Nt(),Sn();var cU=/(.*)=(.*)/,hU=/(.*):(.*)/;function fU(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(cU);if(e){for(var u=En(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(hU)){var v=En(f.match(hU),3),d=v[1],l=v[2];switch(d){case"lang":o=l;break;case"er":a=Boolean(Number(l))}}}n.push({aet:Number(s),uet:o,Bmt:a})}}return n}var vU={1:1,2:3,3:2,4:4},dU="urn:scte:dash:cc:cea-608:2015",lU="urn:scte:dash:cc:cea-708:2015";Q(),Nt(),St(),Q(),Nt(),St();var gU=function(t){function n(n,i,r){var e;return(e=t.call(this,Yg.vL)||this).Lut=n,e.xlt=i,e.Wmt=r,e}return Et(n,t),n.prototype.ma=function(){return new wU(this.Lut&&this.Lut.ga)},n}(jg),wU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return Et(n,t),n}(ka),yU=[Ma.so,zA.lL,Ma.Eb],mU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Hmt=function(t){var n=r.Xmt,i=r.Zmt(t.currentTime)||r.dgt.Cut;i&&n!==i&&(r.Xmt=i,i.Lut&&r.yo(new gU(i.Lut,null==i?void 0:i.ga,null==n?void 0:n.ga)))},r.cz=n,r.cz.yn(yU,r.Hmt),r.dgt=i,r}Et(n,t);var i=n.prototype;return i.Zmt=function(t){for(var n=this.dgt.Put,i=0,r=n.Ht.lct;i<r.length;i++){var e=r[i];if(n.$lt.Xlt(t,e))return e}},i.gn=function(){this.Bo(),this.cz.fn(yU,this.Hmt)},n}(Aa);function AU(t,n,i){var r=new bm(Rc(t),new Vc),e=Im.ej(r,pm.kx);if(e){var u=Im.qC(e.rI),s=Do(u,(function(t){return t.YA===pm.xx})),o=Do(u,(function(t){return t.YA===pm.NC}));if(s){var a=Im.ej(s.rI,pm.jx);if(a){var c=Im.ej(a.rI,pm.Px);if(c){var h=Im.ej(c.rI,pm.zx);if(h){var f=Im.qC(h.rI),v=Do(f,(function(t){return t.YA===pm.Bx}));if(v){var d=Im.uj(v.rI,pm.Bx,!1),l=new bm(Rc(d.rI),new Vc);l.ZC(4);for(var g=Im.qC(l),w=[],y=0;y<g.length;y++){var m=g[y];if(m.YA===pm.vC||m.YA===pm.wC)return;m.YA===pm.Yx?w.push({qmt:m,Kmt:pm.wC}):m.YA===pm.uC&&w.push({qmt:m,Kmt:pm.vC})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var A=Yc(t),p=Do(u,(function(t){return t.YA===pm.Qx})),_=p?Im.ej(p.rI,pm.Fx):void 0,k=_?function(t){var n=t.rI.Zb();return n.ZC(4),n.ZC(4),n.BC()}(_):1,M=Do(f,(function(t){return t.YA===pm.Ux}));M&&function(t,n,i){var r=kU(Rc(t),n),e=Im.ij(r,new Vc),u=e.rI;u.ZC(4);for(var s=u.BC(),o=0;o<s;o++){u.ZC(4),u.ZC(4);var a=u.OC.Zb(),c=u.BC();vc(u.rI,a,c+i)}}(A,M,w.length),_&&function(t,n,i){var r=kU(Rc(t),n),e=Im.ij(r,new Vc),u=e.rI;u.ZC(4),u.ZC(4),vc(u.rI,u.OC,i)}(A,_,1),A=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=pU(e,n,new N(s))}return e}(A,e,o,n);for(var b=[e,s,a,c,h,v],T=w.length-1;T>=0;T--){var D=w[T];A=_U(A,D.qmt,v,b,D.Kmt,i)}return{Jmt:A,$mt:{tpt:w.length,lR:k}}}}}}}}}}function pU(t,n,i){var r=th(t,i,n.rI.rI.byteOffset+n.rI.rI.byteLength);return MU(kU(Rc(r),n),i.byteLength),r}function _U(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.rI.rI,e=IU(),u=new N(r.byteLength+e.byteLength),s=Rc(u);u.set(Bc(r),0),MU(s,e.byteLength),pc(s,new Vc(LU),n),u.set(e,r.byteLength),pc(s,new Vc(r.byteLength+EU),t.YA),i&&uc(s,new Vc(r.byteLength+SU),i);return u}(n,e,u),o=th(t,s,n.rI.rI.byteOffset),a=Rc(o);!function(t,n){var i=Im.ij(t,new Vc),r=Im.uj(i.rI,pm.Bx,!1),e=Rc(r.rI),u=e.getUint32(0);e.setUint32(0,u+n)}(kU(a,i),1);for(var c=0;c<r.length;c++){MU(kU(a,r[c]),s.byteLength)}return o}function kU(t,n){var i=n.rI.rI.byteOffset;return zc(t,i,i+n.rI.rI.byteLength)}function MU(t,n){var i=new Vc,r=fc(t,i);if(0===r);else if(1===r){i.Gb(4);var e=dc(t,i.Zb());lc(t,i,e.add(n))}else i.Wb(0),vc(t,i,r+n)}sn(),tn(),Q(),Nt(),St(),sn(),tn();var bU=function(t){function n(n){var i;return(i=t.call(this)||this).spt=[],i.ept=n,i}Et(n,t);var i=n.prototype;return i.start=function(t){this.JJ=t},i.transform=function(t){this.b0(t),this.ipt()},i.flush=function(){this.T0(),this.ipt()},i.x0=function(t){return t===pm.mC},i.j0=function(t){var n=Yc(Bc(t.rI.rI)),i=Im.ij(Rc(n),new Vc);n=TU(n,i,this.ept),this.spt.push(n)},i.R0=function(t){this.spt.push(t)},i.ipt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new N(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new N(r,e,u)),n}(this.spt);t<n.length;t++){var i=n[t];this.JJ.enqueue(i)}Ro(this.spt)},n}(cE);function TU(t,n,i){for(var r=t,e=Im.qC(n.rI),u=e.length-1;u>=0;u--){var s=e[u];s.YA===pm.AC&&(r=NU(r,s,n,i))}return r}function NU(t,n,i,r){var e=kU(Rc(t),n),u=Im.ij(e,new Vc),s=Im.qC(u.rI),o=Do(s,(function(t){return t.YA===pm.yC}));if(!o)return t;var a=o.rI,c=a.OC.Zb(),h=a.BC(),f=Cm(h).flags;a.ZC(4),f.Hb(km.BASE_DATA_OFFSET_PRESENT)&&a.ZC(8);var v=a.OC.Zb();if(f.Hb(km.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=fc(a.rI,v);return vc(a.rI,a.OC,d+r.tpt),t}vc(a.rI,c,h|km.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new N(4);Rc(l).setUint32(0,r.lR+r.tpt);for(var g=a.rI.byteOffset+v.tc,w=0,y=s.filter((function(t){return t.YA===pm.bC}));w<y.length;w++){DU(y[w],l.byteLength)}for(var m=0,A=[o,n,i];m<A.length;m++){var p=A[m];MU(kU(Rc(t),p),l.byteLength)}return th(t,l,g)}function DU(t,n){var i=t.rI,r=Cm(i.BC()).flags;if(i.ZC(4),r.Hb(Mm.DATA_OFFSET_PRESENT)){var e=i.Zb().BC();vc(i.rI,i.OC,e+n)}}var IU=un((function(){return new N([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),EU=16,SU=64,LU=4,CU=[eA.ua,Ma.Tb,Ma.Sb,Ma.Ib,Ma.Qy],jU=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d){var l;return(l=t.call(this)||this).hgt=void 0,l.dgt=void 0,l.xpt=!1,l.zQ=new ca,l.Ept=void 0,l.hpt=void 0,l.Qht=void 0,l.Vdt=new BR,l.mpt=void 0,l.wpt=void 0,l.npt=new Fk([]),l.fpt=function(){!l.qut()&&l.Flt()&&l.cpt.fpt()},l.Wft=function(t){l.hgt.Wft(t),l.yo(new iB(t.xlt,t.Wmt))},l.jpt=function(t){l.zpt(t)},l.aS=function(){var t=OU;return OU+=1,t}(),l.L3=n,l.OQ=e,l.UG=u,l.cpt=i,l.cz=r,l.slt=s,l.CQ=o,l.vpt=a,l.Ydt=c,l.Pdt=c?PM(n,c):void 0,l.lft=h,l.Lpt=f,l.Rft=v,l.SV=d,l}Et(n,t);var i=n.prototype;return i.lpt=function(){var t;return null==(t=this.hgt)?void 0:t.jlt.wdt.jn},i.qut=function(){return void 0!==this.dgt&&this.dgt.qut},i.Flt=function(){if(void 0===this.hpt)return!1;var t=this.opt().fP(),n=t.bP(this.hpt);return!(n<0)&&t.Cn(n)!==this.hpt},i.I3=function(){var t=this.cpt.Ylt,n=this.opt().Sn(t);this.hpt=n.V>0?n.jn(n.V-1):0;var i=t.jn(0);isFinite(i)&&this.hpt<i&&this.i0(this.hpt,i),this.fpt()},i.Cft=function(t,n,i,r){var e=this;return yn((function(){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:return u=i.eat.rQ,s=e.gpt(t,n,i,u,r),[4,da([e._pt(t,n,i,u,r),s])];case 1:return o=En.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.gpt=function(t,n,i,r,e){var u=this;return yn((function(){var s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:return Xv(i.gX)?t.YA!==HI.jN?[3,2]:[4,t.rI.$ct().FN(e)]:[2];case 1:return o=h.sent(),s=new N(o),[3,3];case 2:s=new N(t.rI.Oat),h.label=3;case 3:return a=[],void 0!==u.vpt&&(u.vpt.Cft(s,n.lB,r),a.push(u.vpt)),void 0!==u.wpt&&(c=i.vdt(n),u.wpt.Cft(s,n.lB,n.dB,r,i.Lut,c),a.push(u.wpt)),TA(u.TE,a),[2]}}))}))()},i._pt=function(t,n,i,r,e){var u=this;return yn((function(){var s,o,a,c,h,f,v,d;return pn(this,(function(l){switch(l.label){case 0:return ta(e),t.YA===HI.jN?(a=t.rI.YN,u.mpt&&(a=function(t,n){return t.pipeThrough(new $d(new bU(n)))}(a,u.mpt)),o={YA:HI.jN,rI:a}):(c=new N(t.rI.Oat),u.mpt&&(c=function(t,n){for(var i=Yc(t),r=new bm(Rc(i),new Vc),e=Im.qC(r),u=e.length-1;u>=0;u--){var s=e[u];s.YA===pm.mC&&(i=TU(i,s,n))}return i}(c,u.mpt)),o={YA:HI.v$,rI:c}),h={kst:n.lB,ct:n.ct,rQ:r,u4:null==(s=i.Lut)?void 0:s.zL},f=u.Qht.TE,[4,u.ppt()];case 1:return l.sent(),[4,u.Qht.B4(o,h,e)];case 2:return l.sent(),v=u.Qht.TE,d=u.Qht.x3,[2,xU(f,v,d,n)]}}))}))()},i.$ht=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return ta(i),r.wpt&&r.wpt.$ht(new N(t.Oat)),u=new N(t.Oat),r.Apt(n)&&(s=r.cpt.ypt,o=[],s&&(o=Uo(s.bpt,(function(t){return t.XY})),a=s.Mpt.DF?rD(s.Mpt.DF):void 0),(c=AU(u,o,a))?(r.mpt=c.$mt,u=c.Jmt):r.mpt=void 0),h={YA:HI.v$,rI:u},[4,r.ppt()];case 1:return f.sent(),[4,r.Qht.F4(h,{u4:null==(e=n.Lut)?void 0:e.zL},i)];case 2:return f.sent(),[2]}}))}))()},i.xft=function(t,n,i){return this.Qht.wS(t,n,i)},i.i0=function(t,n){this.Qht.O3(t,n)},i.e0=function(t,n){this.Qht.R3(t,n)},i.opt=function(){return this.Qht?this.Qht.TE:GM.PP()},i.rpt=function(){return this.Qht?this.Qht.x3:GM.PP()},i.Tpt=function(){return this.Qht?this.Qht.wS(0,1/0):st.resolve()},i.Spt=function(){return this.Qht&&(this.Qht.fn(ZI.g$,this.Ds),this.Qht=void 0),st.resolve()},i.Npt=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return r=AR.Wdt(null!=(i=t.Kft)?i:t.lct,n.Pdt),e=r.gX,n.Qht||(n.Qht=n.cpt.Ipt(e),n.Qht.yn(ZI.g$,n.Ds),n.Vdt=new RR(n.Qht)),[4,n.ppt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=ca.Iy([n]);this.zQ.Ty(),this.zQ=i;var r=this.Dpt(t,this.Ept,i.ly);return this.Ept=r,r},i.kpt=function(t){if(!Oo(this.Lpt,Yw.CEA608)){var n=t.jlt.zft;if(function(t){return t.some((function(t){return t.A8===dU||t.A8===lU}))}(n)){this.wpt=new aU(this.CQ);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.A8===dU)for(var e=Kj(r.zD),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.A8===lU)for(var o=fU(r.zD),a=0;a<o.length;a++){var c=o[a];if(c.aet<=4){var h=vU[c.aet];n.push(ys({},c,{aet:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.wpt.Pmt(e)}this.npt.$Y(this.wpt.Z)}}},i.Dpt=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return ta(i),n?[4,n.catch(qt)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.hgt===t&&r.xpt?[2]:[4,r.Cpt()];case 3:return e.sent(),ta(i),[4,r.Tpt()];case 4:return e.sent(),ta(i),t?[4,r.jQ(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.Cpt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return n=t.hgt,t.hgt=void 0,t.xpt=!1,t.hpt=void 0,n&&(n.fn(Yg.mL,t.jpt),n.ngt(!1),n.fn(Yg.NO_QUALITY,t.Ds)),t.Opt&&(t.Opt.gn(),t.Opt=void 0),t.dgt?[4,t.dgt.gn()]:[3,2];case 1:i.sent(),t.dgt=void 0,i.label=2;case 2:return t.wpt?(t.npt.eV(t.wpt.Z),[4,t.wpt.gn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.jQ=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.hgt=t,n.kpt(t),t.yn(Yg.mL,n.jpt),t.yn(Yg.NO_QUALITY,n.Ds),[4,n.Npt(t)];case 1:return i.sent(),n.dgt=n.Rpt(t),n.dgt.yn(CU,n.Ds),n.dgt.yn("xut",n.fpt),n.dgt.But=t.Kft,n.Opt=new mU(n.cz,n.dgt),n.Opt.yn(Yg.vL,n.Wft),t.ngt(!0),n.xpt=!0,[2]}}))}))()},i.Rpt=function(t){return new zR(this,this.cz,this.cz,this.OQ,this.UG,this.Rft,this.slt,this.Ydt,this.Pdt,this.Vdt,this.lft,this.SV).xst(t)},i.tr=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.zQ.Ty(),n.Ept?[4,n.Ept.catch(qt)]:[3,2];case 1:i.sent(),n.Ept=void 0,i.label=2;case 2:return[4,n.Cpt()];case 3:return i.sent(),t?[3,5]:[4,n.Tpt()];case 4:i.sent(),i.label=5;case 5:return[4,n.Spt()];case 6:return i.sent(),[2]}}))}))()},i.Ppt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.Cpt()];case 1:return n.sent(),[2]}}))}))()},i.Vft=function(t){var n;null==(n=this.ogt)||n.Vft(t)},i.Qft=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,i.sct()];case 1:if(a.sent(),null==(r=i.ogt)||r.Qft(n),!((u=null==(e=i.dgt)?void 0:e.Put.$lt.Wlt(t))&&u.V>0))return[3,5];s=0,a.label=2;case 2:return s<u.V?[4,null==(o=i.Qht)?void 0:o.wS(u.Cn(s),u.jn(s))]:[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[4,i.rct()];case 6:return a.sent(),[2]}}))}))()},i.zpt=function(t){var n=this,i=t.Ht.Kft;return void 0===i||i.some((function(t){return n.Vdt.N$(t)}))?this.Bpt(t):void this.yo(new ka("Upt"))},i.Bpt=function(t){this.dgt&&this.hgt&&this.hgt===t.Ht&&(this.dgt.But=this.hgt.Kft)},i.sct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.dgt?[4,n.dgt.sct(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.rct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.dgt?[4,n.dgt.rct(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.JK=function(){var t=this.TE.jP;return this.UG.JK(t)},i.ppt=function(){var t=this.cpt.Ylt,n=k.max(0,t.Cn(0)-.1),i=t.jn(0)+.01;return this.Qht.s3(n,i)},i.Apt=function(t){return!!Xv(t.gX)&&(!!this.cpt.w8||void 0!==this.cpt.ypt)},i.hct=function(t){if(gw(this.L3)){var n=this.dgt,i=t.dgt;void 0!==n&&void 0!==i&&n.hct(i,this.Cn,this.jn)}},i.gn=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:n.Bo(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.tr(t)];case 2:return i.sent(),[4,n.Ppt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},Ct(n,[{key:"ogt",get:function(){return this.hgt}},{key:"o",get:function(){return this.aS}},{key:"E3",get:function(){return this.L3}},{key:"nt",get:function(){return this.npt}},{key:"vgt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===lw.SI?r/i:n}(this.L3)}},{key:"fgt",get:function(){return 1/this.vgt}},{key:"Rt",get:function(){return Boolean(this.hgt&&this.hgt.Rt)}},{key:"J$",get:function(){var t=this.dgt?this.dgt.Put.J$.Vlt:GM.PP();return this.rpt().pP(t)}},{key:"TE",get:function(){var t=this.opt(),n=this.hpt;return void 0!==n&&t.fP().gr(n)&&(t=t.pP(GM.OP(n))),t}},{key:"Blt",get:function(){return kz(this.opt(),this.J$.pP(this.upt)).mP(2*this.fgt)}},{key:"upt",get:function(){var t=this.hpt;if(t&&isFinite(t)){var n=this.cpt.jn;if(isFinite(n)&&t<n)return new GM([t,n],[!1,!0])}return GM.PP()}},{key:"_k",get:function(){var t=this.hgt;if(!t)return GM.OP(0);var n=t.jlt.mgt,i=t.jlt.pgt;if(void 0===i||void 0===n)return GM.OP(0);var r=i,e=n>=t.jlt.wdt.jn?k.max(n,this.jn):n;return e=k.max(r,e),GM.RP(r,e).fP()}},{key:"uV",get:function(){return this.Blt.CP(this.LE)}},{key:"Ylt",get:function(){return this.cpt.Ylt}},{key:"LE",get:function(){return this.cz.LE}},{key:"Cn",get:function(){return this.hgt?this.hgt.jlt.wdt.Cn:NaN}},{key:"jn",get:function(){var t=this.lpt(),n=this.hpt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this.cpt.Ti}},{key:"ji",get:function(){return this.cpt.ji}},{key:"dpt",get:function(){return this.hpt}}]),n}(Aa);function xU(t,n,i,r){var e,u,s=n.yP(t.fP());return 0===(s=s.yP(i.yP(n))).V?u=e=r.dB:(e=s.Cn(0),u=s.jn(0)),{yft:e,bft:u}}var OU=0;var zU=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l){var g,w,y;return(g=t.call(this)||this).Oz=new dw,g.Pz=new dw,g.hAt=[],g.rAt=new ca,g.eAt=!0,g.Cgt=[],g.Ept=void 0,g.qpt=rn((function(){g.yo(new nE(g.LE))}),350),g.uAt=function(t){var n=t.pAt.ogt;if(n)for(var i=0,r=g.hAt;i<r.length;i++){var e,u=r[i];u.ogt&&u.ogt!==n&&u.YA===(null==(e=n.Zft)?void 0:e.YA)&&(u.fn("aAt",g.uAt),u.ogt.Rt=!1,u.yn("aAt",g.uAt))}g.Ds(t)},g.fAt=function(t){$o(t)||g.yo(new zk(Ad(t,wd.MEDIA_LOAD_ERROR)))},g.sAt=function(t){var n=t.V9;n&&g.gAt(n).catch(g.fAt)},g.AAt=function(t){g._At(t).catch(g.fAt)},g.nAt=function(t){var n=t.V9;if(n)for(var i=0,r=g.dAt;i<r.length;i++)for(var e=r[i],u=0,s=e.jlt.lct;u<s.length;u++){var o=s[u],a=(o.GY||[]).some((function(t){return t.DF&&Kc(Pc(n),rD(t.DF))}));o.sgt&&a&&(o.sgt=!1,o.Lut&&e.Vft(o.Lut))}},g.OQ=r,g.UG=e,g.slt=u,g.cz=n,g.iB=Sw(),g.hAt=[],g.Vpt=o,g.Jpt=a,g.SV=l,g.CQ=h,g.Gpt=new JR(n,r,e,u,h,null==(y=null==s||null==(w=s.dash)?void 0:w.segmentRelativeVttTiming)||y),g.Ul=new Fk([g.Gpt.nt]),g.lft=v,g.Lpt=d,g.Vpt.yn(bz.Dut,g.Ds),g.bu=c,g.a3=i,g.Rft=s.lowLatency,g.vpt=f,g.Zpt=s.abr,g.cz.yn(Ma.Lb,g.sAt),g.cz.yn(Ma.Vy,g.nAt),g}Et(n,t);var i=n.prototype;return i.FK=function(t,n){return this.Qpt(t,n)},i.Qpt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.Fpt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.Vpt.Ypt,a.label=2;case 2:return u<s.length?(o=s[u]).YA!==lw.ON?[3,5]:o.lct&&0!==o.lct.length?[3,3]:(i.yo(new qR("No supported representation found in the AdaptationSet with mimetype : "+o.YA)),[3,5]):[3,6];case 3:return[4,i.Gpt.jQ(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.Wpt=function(t){return new jU(t,this,this.cz,this.OQ,this.UG,this.slt,this.CQ,this.vpt,this.Zpt,this.lft,this.Lpt,this.Rft,this.SV)},i.qut=function(){return this.Cgt.some((function(t){return t.qut()}))},i.Flt=function(){return 0!==this.Cgt.length&&this.Cgt.every((function(t){return t.Flt()}))},i.fpt=function(){this.Hpt()&&this.yo(new nB)},i.Ipt=function(t){if(no(t,"audio")){if(this.a3.p5)return this.a3.p5}else if(no(t,"video")&&this.a3.A5)return this.a3.A5;throw new A("Cannot allocate source buffer for mime type "+t)},i.Xpt=function(t){t.yn([eA.ua,Ma.Ab,Ma.Tb,Ma.Sb,Ma.Ib,Ma.Qy],this.Ds),t.yn(ZI.g$,this.qpt),t.yn("Upt",this.Ds)},i.Kpt=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,st.all(n.Cgt.map((function(n){return n.gn(t)})))];case 1:return i.sent(),Ro(n.Cgt),[2]}}))}))()},i.Hpt=function(){if(this.qut())return!1;if(!this.Flt())return!1;var t=this.TE;if(0===t.V)return!1;var n=this.LE;if(this.$pt)return t.Cn(t.V-1)<=n;var i=t.Sn(this.Ylt);if(0===i.V)return!0;var r=i.Cn(i.V-1),e=i.jn(i.V-1)+.1;return r<=n&&n<=e},i.sct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.eAt?[2]:(n.eAt=!0,[4,st.all(n.Cgt.map((function(n){return n.sct(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.rct=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.eAt?(n.eAt=!1,[4,st.all(n.Cgt.map((function(n){return n.rct(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.gn=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.cz.fn(Ma.Lb,n.sAt),n.cz.fn(Ma.Vy,n.nAt),n.Bo(),n.Vpt.fn(bz.Dut,n.Ds),n.rAt.Ty(),n.Ept?[4,n.Ept.catch(qt)]:[3,2];case 1:i.sent(),n.Ept=void 0,i.label=2;case 2:return[4,n.Kpt(t)];case 3:return i.sent(),[4,n.Gpt.gn()];case 4:return i.sent(),n.Oz.gn(),n.Pz.gn(),n.Ul.gn(),n.oAt(),[2]}}))}))()},i.Fpt=function(t){this.hAt.push(t),t.yn("aAt",this.uAt);for(var n=t.YA===lw.SI?this.Oz:this.Pz,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.cAt=function(t){for(var n=t.YA===lw.SI?this.Oz:this.Pz,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.gn()}t.gn(),Co(this.hAt,t)},i.oAt=function(){for(var t=this.hAt.length-1;t>=0;t--)this.cAt(this.hAt[t])},i.$n=function(t,n){return this.rAt.Ty(),this.rAt=ca.Iy([n]),this.Ept=ea(this.oD(t,this.Ept,this.rAt.ly),this.rAt).catch(this.fAt),this.Ept},i.oD=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v;return pn(this,(function(d){switch(d.label){case 0:return n?[4,n.catch(qt)]:[3,2];case 1:d.sent(),d.label=2;case 2:ta(i),e=[],u=r.Cgt.slice(),s=t.slice(),Ro(r.Cgt),o=0,d.label=3;case 3:return o<u.length?(a=u[o],(c=a.ogt)&&Oo(s,c)?(r.Cgt.push(a),e.push(a.$n(c,i)),Co(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Ul.eV(a.nt),[4,a.gn()];case 5:d.sent(),ta(i),d.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.Wpt(f.Fut),r.Ul.$Y(v.nt),r.Cgt.push(v),r.Xpt(v),e.push(v.$n(f,i));return[4,st.all(e)];case 8:return d.sent(),[2]}}))}))()},i.D$=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return r.a3===i?[3,2]:(r.a3=i,[4,r.Kpt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.Jpt=n,[2]}}))}))()},i.gAt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:i=0,r=n.Cgt,h.label=1;case 1:if(!(i<r.length))return[3,6];if(e=r[i],void 0===(u=e.ogt))return[3,5];s=0,o=u.jlt.lct,h.label=2;case 2:return s<o.length?(a=o[s],c=a.GY||[],!c.some((function(n){return n.DF&&Kc(Pc(t),rD(n.DF))}))||a.sgt?[3,4]:(a.sgt=!0,[4,e.Qft(a,a.Lut)])):[3,5];case 3:h.sent(),n.yo(new dC(new ww(wd.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),h.label=4;case 4:return s++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i._At=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:i=0,r=n.Cgt,v.label=1;case 1:if(!(i<r.length))return[3,7];if(e=r[i],void 0===(u=e.ogt))return[3,6];s=0,o=u.lct,v.label=2;case 2:return s<o.length?(a=o[s],c=a.GY,h=a.Lut,void 0===c||0===c.length||void 0===h?[3,5]:(f=n.vAt(c,t.Rb),h.lot===f?[3,5]:f?(e.Vft(h),[3,5]):[3,3])):[3,6];case 3:return[4,e.Qft(a,h)];case 4:v.sent(),v.label=5;case 5:return s++,[3,2];case 6:return i++,[3,1];case 7:return[2]}}))}))()},i.vAt=function(t,n){var i=!1;return n.iM((function(n,r){t.some((function(t){return t.DF&&Kc(Pc(r),rD(t.DF))}))&&"usable"===n&&(i=!0)})),i},i.hct=function(t){var n=function(n,i){var r=i[n],e=Do(t.Cgt,(function(t){return t.E3===r.E3}));void 0!==e&&r.hct(e)};if(void 0!==t){var i=t.Vpt;if(this.Vpt.wAt===i||this.Vpt.mAt===i)for(var r=0,e=this.Cgt;r<e.length;r++)n(r,e)}},Ct(n,[{key:"zL",get:function(){return this.iB}},{key:"ct",get:function(){return this.cz.ct}},{key:"Rt",get:function(){return this.Cgt.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.Oz}},{key:"TE",get:function(){if(0===this.Cgt.length)return GM.PP();for(var t=this.Cgt.map((function(t){return t.TE})),n=GM.RP(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.Sn(r)}if(0===n.V)return n;if(this.Flt()){var e=n.Sn(this.Ylt);if(0===e.V)return n;for(var u=e.jn(e.V-1),s=0,o=0,a=this.Cgt;o<a.length;o++){var c=a[o];s=k.max(s,c.dpt)}u<=s&&(n=n.pP(new GM([u,s],[!0,!0])))}return n}},{key:"w8",get:function(){return this.cz.w8}},{key:"LE",get:function(){return this.cz.LE}},{key:"ypt",get:function(){return this.Jpt}},{key:"jn",get:function(){if(this.$pt){var t=this.ct;if(!T(t)&&t!==dr)return t}if(!this.Cgt.length)return NaN;for(var n=0,i=0,r=this.Cgt;i<r.length;i++){var e=r[i];n=k.max(n,e.jn)}return n}},{key:"$pt",get:function(){var t=this.Vpt.Sft;if(t.YA===$R.FQ)return!1;var n=t.tAt;return 0!==n.length&&this.Vpt===n[n.length-1]}},{key:"_k",get:function(){if(!this.Cgt.length)return GM.PP();for(var t=new GM([0,1/0]),n=0,i=this.Cgt;n<i.length;n++){var r=i[n];t=t.Sn(r._k)}if(t.V>0&&this.$pt&&isFinite(this.ct)){var e=this.ct,u=t.jn(t.V-1);e>u&&(t=t.pP(GM.RP(u,e).fP()))}return t}},{key:"kc",get:function(){return this.Vpt}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.Pz}},{key:"ji",get:function(){return this.bu.ji}},{key:"Ti",get:function(){return this.bu.Ti}},{key:"uV",get:function(){var t=this.LE,n=this.TE,i=n.bP(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"Ylt",get:function(){var t=this.Vpt.Cn,n=this.$pt?1/0:this.Vpt.jn;return GM.RP(t,n)}},{key:"iAt",get:function(){return this.eAt}},{key:"lAt",get:function(){return this.hAt.map((function(t){return t.ogt})).filter(ci)}},{key:"dAt",get:function(){return this.Cgt.map((function(t){return t.ogt})).filter(ci)}}]),n}(Aa);Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),Sn(),Q(),Nt(),Zt();var RU=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,BU=function(){function t(t){this.yAt=t}var n=t.prototype;return n.bAt=function(){return this.yAt},n.MAt=function(){return 1e3*this.yAt},t.dj=function(n){var i=n.match(RU);if(!i)throw new A("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},Ct(t,[{key:"t_t",get:function(){return Iy.BU(this.yAt,1e3)}}]),t}();tn(),Q(),Nt();var UU=function(t){return t.TAt="progressive",t.SAt="interlaced",t.dI="unknown",t}({});Q(),Nt();var PU=function(){function t(t,n){this.NAt=t,this.IAt=n}return t.prototype.BB=function(){return this.NAt/this.IAt},t}(),QU=/^(?:true|false)$/i,YU=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function GU(t){if(void 0!==t)return BU.dj(t)}function VU(t){if(void 0!==t){var n=t.match(YU);if(!n)throw new A("The given value could not be parsed as a valid Date");var i=En(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],v=i[10],d=i[11],l=("-"===r?-1:1)*Number(e),g=Number(u)-1,w=Number(s),y=Number(o),m=Number(a),p=Number(c),_=Number("0."+(h||"")),M=k.round(1e3*_);if(f)m-=("-"===f?-1:1)*(60*Number(v)+Number(d));var b=new Date(Date.UTC(l,g,w,y,m,p,M));if(T(b.getTime()))throw new A("The given value could not be parsed as a valid Date");return b}}function FU(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[ZU(n[1]),ZU(n[2])]}}function WU(t){if(void 0!==t){if(!T(Number(t)))try{return fr.fromString(t,!0)}catch(t){}throw new A("The given value could not be parsed as a valid unsigned long")}}function ZU(t){if(void 0!==t){var n=Number(t);if(!T(n))return n;throw new A("The given value could not be parsed as a valid Number")}}function XU(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!T(i)&&!T(r))return new PU(i,r);throw new A("The given value could not be parsed as a valid frame rate")}}function HU(t){if(void 0!==t){if(QU.test(t))return"true"===t.toLowerCase();if(!T(M(t)))return Boolean(M(t));throw new A("The given value could not be parsed as a valid Boolean.")}}function KU(t){return{zu:t.qD,DAt:HU(t.KD("availabilityTimeComplete")),EAt:ZU(t.KD("availabilityTimeOffset"))}}function JU(t){return t.map(KU)}function qU(t){var n,i=aP(t),r=function(t,n,i,r){var e=t.JD(i,n);return void 0===e&&(e=t.KD(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=Bm(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=nh(e.qD)),!n){var u=Bm(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=Ra(t.qD),i=new N([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new N(u),o=new DataView(u),a=new Vc;vc(o,a,e),vc(o,a,1886614376),vc(o,a,0),uc(o,a,i),vc(o,a,r),uc(o,a,n),!1;return s.buffer}(u))}return{DF:r,y8:n,A8:i.A8,zD:i.zD}}function $U(t){return{kAt:t.KD("sourceURL"),Nct:FU(t.KD("range"))}}function tP(t,n){var i=t.KD("d"),r=t.KD("t"),e=ZU(t.KD("r"));n.push({ct:i,lB:r,LAt:e})}function nP(t){return{ult:t.KD("index"),xAt:FU(t.KD("indexRange")),zj:t.KD("media"),CAt:FU(t.KD("mediaRange"))}}function iP(t){var n=eP(t),i=function(t){var n=t.map(nP);return n.length>0?n:void 0}(t.VD("SegmentURL"));return ys({},n,{jAt:i,OAt:t.KD("xlink:href"),RAt:t.KD("xlink:actuate")})}function rP(t){var n=HU(t.KD("availabilityTimeComplete")),i=ZU(t.KD("availabilityTimeOffset")),r=FU(t.KD("indexRange")),e=HU(t.KD("indexRangeExact")),u=t.VD("Initialization");if(u.length>1)throw new A("The provided MPEG-DASH document's "+t.GD+" element can not have more than one Initialization element.");var s=1===u.length?$U(u[0]):void 0,o=WU(t.KD("presentationTimeOffset")),a=t.VD("RepresentationIndex");if(a.length>1)throw new A("The provided MPEG-DASH document's "+t.GD+" element can not have more than one RepresentationIndex element.");return{DAt:n,EAt:i,xAt:r,PAt:e,zAt:s,BAt:o,UAt:1===a.length?$U(a[0]):void 0,QAt:GU(t.KD("timeShiftBufferDepth")),xj:ZU(t.KD("timescale"))}}function eP(t){var n=rP(t),i=t.VD("BitstreamSwitching"),r=i.length>0?$U(i[0]):void 0,e=ZU(t.KD("duration")),u=t.VD("SegmentTimeline");if(u.length>1)throw new A("The provided MPEG-DASH document's "+t.GD+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.VD("S"),r=0;r<i.length;r++)tP(i[r],n);return n}(u[0]):void 0;return ys({},n,{FAt:r,ct:e,eat:s,YAt:ZU(t.KD("startNumber")),VAt:ZU(t.KD("endNumber"))})}function uP(t){return{GAt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(ZU)):1===n.length?n.map(ZU)[0]:void 0}}(t.KD("audioSamplingRate")),cht:t.KD("codecs"),WAt:HU(t.KD("codingDependency")),GY:function(t){if(0!==t.length)return t.map(qU)}(t.VD("ContentProtection")),ZAt:function(t){return t.map(cP)}(t.VD("EssentialProperty")),HAt:function(t){return t.map(hP)}(t.VD("SupplementalProperty")),vgt:XU(t.KD("frameRate")),Ti:ZU(t.KD("height")),XAt:ZU(t.KD("maxPlayoutRate")),qAt:ZU(t.KD("maximumSAPPeriod")),gX:t.KD("mimeType"),KAt:t.KD("profiles"),JAt:t.KD("sar"),$At:function(t){switch(t){case UU.TAt:case UU.SAt:case UU.dI:return t;default:return}}(t.KD("scanType")),tyt:t.KD("segmentProfiles"),iyt:ZU(t.KD("startWithSAP")),ji:ZU(t.KD("width"))}}function sP(t){var n=JU(t.VD("BaseURL")),i=t.VD("SegmentBase");if(i.length>1)throw new A("The provided MPEG-DASH document's "+t.jD+" element can not have more than one SegmentBase element.");var r=1===i.length?rP(i[0]):void 0,e=function(t){var n=t.map(iP);return n.length>0?n:void 0}(t.VD("SegmentList")),u=t.VD("SegmentTemplate");if(u.length>1)throw new A("The provided MPEG-DASH document's "+t.jD+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return ys({},eP(t),{eyt:t.KD("bitstreamSwitching"),syt:t.KD("index"),nyt:t.KD("initialization"),ryt:t.KD("media")})}(u[0]):void 0;return{oyt:n,hyt:r,ayt:e,uyt:s}}function oP(t){var n=uP(t),i=sP(t),r=ZU(t.KD("bandwidth")),e=t.KD("dependencyId"),u=t.KD("id"),s=t.KD("mediaStreamStructureId"),o=ZU(t.KD("qualityRanking"));if(t.VD("SegmentBase").length>1)throw new A("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return ys({},n,i,{FY:r,cyt:e,o:u,lyt:s,dyt:o})}function aP(t){return{A8:t.KD("schemeIdUri"),zD:t.KD("value")}}function cP(t){return aP(t)}function hP(t){return aP(t)}function fP(t){return aP(t)}function vP(t){return aP(t)}function dP(t){var n,i=uP(t),r=sP(t),e=function(t){return t.map(vP)}(t.VD("Accessibility")),u=HU(t.KD("bitstreamSwitching")),s=t.KD("contentType"),o=ZU(t.KD("group")),a=ZU(t.KD("id")),c=(null==(n=t.VD("Label")[0])?void 0:n.qD)||"",h=t.KD("lang"),f=ZU(t.KD("maxBandwidth")),v=XU(t.KD("maxFrameRate")),d=ZU(t.KD("maxHeight")),l=ZU(t.KD("maxWidth")),g=ZU(t.KD("minBandwidth")),w=XU(t.KD("minFrameRate")),y=ZU(t.KD("minHeight")),m=ZU(t.KD("minWidth")),p=t.KD("par"),_=function(t){return t.map(oP)}(t.VD("Representation"));if(0===_.length)throw new A("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,M=function(t){return t.map(fP)}(t.VD("Role")),b=HU(t.KD("segmentAlignment"))||!1,T=ZU(t.KD("selectionPriority")),N=T||1,D=HU(t.KD("subsegmentAlignment"))||!1;try{k=ZU(t.KD("subsegmentStartsWithSAP"))}catch(t){}return ys({},i,r,{zft:e,FAt:u,VN:s,Zft:o,o:a,kh:c,gs:h,fyt:f,gyt:v,_yt:d,vyt:l,wyt:g,myt:w,pyt:y,Ayt:m,yyt:p,lct:_,Sgt:M,byt:b,hG:N,Myt:D,Tyt:k,Syt:t.KD("xlink:actuate")||"onRequest",Nyt:t.KD("xlink:href")})}function lP(t){var n=WU(t.KD("presentationTime"))||fr.ZERO,i=WU(t.KD("duration")),r=ZU(t.KD("id")),e=function(t){for(var n=t.XD,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].zD;return i}(t),u=t.qD;return{jR:n,ct:i,o:r,XD:e,rI:""!==u.trim()?u:t.KD("messageData")||""}}function gP(t){return{Nyt:t.KD("xlink:href"),Syt:t.KD("xlink:actuate"),A8:t.KD("schemeIdUri"),zD:t.KD("value"),xj:ZU(t.KD("timescale")),BAt:WU(t.KD("presentationTimeOffset")),_X:t.VD("Event").map(lP)}}function wP(t){var n=sP(t),i=t.VD("AssetIdentifier");if(i.length>1)throw new A("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return aP(t)}(i[0]):void 0,e=function(t){return t.map(dP)}(t.VD("AdaptationSet")),u=HU(t.KD("bitstreamSwitching")),s=GU(t.KD("duration")),o=function(t){return t.map(gP)}(t.VD("EventStream")),a=t.KD("id"),c=GU(t.KD("start")),h=(t.VD("Subset"),t.KD("xlink:href"));return ys({},n,{Igt:e,Iyt:r,FAt:u,ct:s,Dyt:o,o:a,Cn:c,Syt:t.KD("xlink:actuate"),Nyt:h})}function yP(t){var n=t.KD("schemeIdUri");if(n)return{A8:n,zD:t.KD("value")}}function mP(t,n){var i=VU(t.KD("availabilityEndTime")),r=VU(t.KD("availabilityStartTime")),e=JU(t.VD("BaseURL")),u=t.KD("id"),s=function(t){return t.map((function(t){return""+t.qD}))}(t.VD("Location")),o=GU(t.KD("maxSegmentDuration")),a=GU(t.KD("maxSubsegmentDuration")),c=GU(t.KD("mediaPresentationDuration")),h=(t.VD("Metrics"),GU(t.KD("minBufferTime")));if(!h)throw new A("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=GU(t.KD("minimumUpdatePeriod")),v=function(t){return t.map((function(t){return wP(t)}))}(t.VD("Period"));if(!v.length)throw new A("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.KD("profiles");if(!d)throw new A("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var l=VU(t.KD("publishTime")),g=GU(t.KD("suggestedPresentationDelay")),w=GU(t.KD("timeShiftBufferDepth")),y=function(t){switch(t){case $R.QQ:case $R.FQ:return t;default:return}}(t.KD("type")),m=function(t){for(var n=[],i=0;i<t.length;i++){var r=yP(t[i]);r&&n.push(r)}return n}(t.VD("UTCTiming")),p=function(t){if(0===t.length)return;var n=t[0],i=n.VD("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=ZU(n.KD("target"));if(void 0===i)return;var r=ZU(n.KD("min")),e=ZU(n.KD("max"));return{Eyt:i,jU:r,CU:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=ZU(n.KD("max")),r=ZU(n.KD("min"));return{jU:r,CU:i}}(n.VD("PlaybackRate"));return{kyt:r,$E:e}}(t.VD("ServiceDescription"));return{Lyt:i,xyt:r,oyt:e,o:u,Cyt:s,jyt:n,Oyt:o,Ryt:a,Pyt:c,zyt:h,Byt:f,tAt:v,KAt:d,Uyt:l,Qyt:g,QAt:w,YA:y,Fyt:m,Yyt:p}}var AP=function(){function t(){}return t.prototype.Vyt=function(t,n){return function(t,n){if(!t)throw new A("The provided MPEG-DASH document does not contain a valid MPD root element.");return mP(t,n)}(Kt.CD(t).sE,n)},t}();function pP(t){return{get bandwidth(){return t.FY},get codecs(){return t.cht},get id(){return t.o},get uid(){return t.zL},get name(){return t.kh},get averageBandwidth(){return t.Gyt},get label(){return t.kh},set label(n){t.kh=iw(n)},get available(){return t.lot},get score(){return t.Wyt},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}function _P(t){return Wg(pP(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.vgt},get firstFrame(){return t.Zyt}})}function kP(t){return Wg(pP(t),{get audioSamplingRate(){return t.GAt}})}Q(),Nt(),Zt(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt(),St();var MP=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return Et(n,t),n}(ka),bP=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.FY=i,s.cht=r,s.Xyt=u,s.zL=jw(),s.eB=e||"",s.Hyt=!0,s}Et(n,t);var i=n.prototype;return i.kQ=function(){this.Hyt=!1,this.yo(new MP(this.ga))},i.EQ=function(){this.Hyt=!0,this.yo(new MP(this.ga))},Ct(n,[{key:"kh",get:function(){return this.eB},set:function(t){this.eB!==t&&(this.eB=t,this.yo(new MP(this.ga)))}},{key:"Gyt",get:function(){}},{key:"lot",get:function(){return this.Hyt}},{key:"Wyt",get:function(){}}]),n}(Aa),TP=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).vgt=s,h.ji=o,h.Ti=a,h.Zyt=c,h.Za=void 0,h}return Et(n,t),Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=_P(this)),this.Za}}]),n}(bP),NP=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).GAt=s,o.Za=void 0,o}return Et(n,t),Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=kP(this)),this.Za}}]),n}(bP);Q(),Nt(),Q(),Nt(),Zt(),St();var DP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$yt=function(t){n.yo(t)},n}return Et(n,t),Ct(n,[{key:"qyt",get:function(){var t=this.Kyt();return null==t?void 0:t.Cn}},{key:"Jyt",get:function(){var t=this.Kyt();return null==t?void 0:t.jn}}]),n}(Aa),IP=function(t){function n(n,i){var r;if((r=t.call(this)||this).Za=void 0,r.ebt=void 0,r.obt=!1,r.hbt=!1,r.ict=n,r.tbt=i,r.tbt.yn(bz.Nut,r.$yt),r.YA===lw.NI){var e,u,s=null!=(u=null==(e=r.vgt)?void 0:e.BB())?u:NaN;r.nbt=new TP(r.o,r.FY,r.Qp,"","",s,r.ji,r.Ti)}else r.YA===lw.SI?r.nbt=new NP(r.o,r.FY,r.Qp,"","",r.GAt):r.nbt=void 0;return r}Et(n,t);var i=n.prototype;return i.xdt=function(t){var n=Qz(t)?this.tbt.abt(t):this.tbt.xdt(t);return{zu:n.zu,Nct:n.Nct,zI:this.Sft.zI}},i.ubt=function(){return this.tbt.ubt()},i.Kyt=function(){return this.tbt.Kyt()},i.cbt=function(){return this.tbt.cbt()},i.Mdt=function(t){return this.tbt.Mdt(t)},i.Sdt=function(t,n,i){return this.tbt.Sdt(t,this.Sft.zI,n,i)},i.fft=function(t){return Qz(t)?this.eat.lbt(t,this.tbt):this.eat.fft(t)},i.vdt=function(t){return Qz(t)?this.eat.dbt(t,this.tbt):this.eat.vdt(t)},i.gn=function(){this.tbt.fn(bz.Nut,this.$yt)},Ct(n,[{key:"jlt",get:function(){return this.ict}},{key:"GAt",get:function(){var t;return null!=(t=this.tbt.rI.GAt)?t:this.jlt.GAt}},{key:"FY",get:function(){return this.tbt.rI.FY||0}},{key:"cht",get:function(){var t=this.tbt.rI;return t.cht?[t.cht]:this.jlt.cht}},{key:"ibt",get:function(){var t=this.tbt.rI;return t.cht?[t.cht]:[]}},{key:"Qp",get:function(){return this.tbt.rI.cht||this.jlt.Qp}},{key:"WAt",get:function(){return this.tbt.rI.WAt||this.jlt.WAt}},{key:"GY",get:function(){return this.tbt.rI.GY||this.jlt.GY}},{key:"VN",get:function(){return this.gX+'; codecs="'+this.Qp+'"'}},{key:"ZAt",get:function(){var t=this.tbt.rI;return t.ZAt.length?t.ZAt:this.jlt.ZAt}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get id(){return t.o},get type(){return t.YA},get bandwidth(){return t.FY},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.vgt)?void 0:n.BB())?i:NaN},get audioSamplingRate(){return t.GAt}}}(this))}},{key:"vgt",get:function(){var t;return null!=(t=this.tbt.rI.vgt)?t:this.jlt.vgt}},{key:"Ti",get:function(){return this.tbt.rI.Ti||this.jlt.Ti}},{key:"o",get:function(){return this.tbt.rI.o||""}},{key:"Eft",get:function(){return this.ebt},set:function(t){this.ebt=t}},{key:"Dft",get:function(){var t=this.tbt.sbt();if(t)return{zu:t.zu,Nct:t.Nct,zI:this.Sft.zI}}},{key:"XAt",get:function(){return this.tbt.rI.XAt||this.jlt.XAt||1}},{key:"qAt",get:function(){return this.tbt.rI.qAt||this.jlt.qAt}},{key:"Sft",get:function(){return this.wdt.Sft}},{key:"gX",get:function(){return this.tbt.rI.gX||this.jlt.gX}},{key:"wdt",get:function(){return this.jlt.wdt}},{key:"KAt",get:function(){return this.tbt.rI.KAt||this.jlt.KAt}},{key:"Lut",get:function(){return this.nbt}},{key:"JAt",get:function(){return this.tbt.rI.JAt||this.jlt.JAt}},{key:"$At",get:function(){return this.tbt.rI.$At||this.jlt.$At}},{key:"rbt",get:function(){return this.tbt.rbt}},{key:"tyt",get:function(){return this.tbt.rI.tyt||this.jlt.tyt}},{key:"eat",get:function(){return this.tbt.eat}},{key:"iyt",get:function(){return this.tbt.rI.iyt||this.jlt.iyt}},{key:"YA",get:function(){var t=this.gX.split("/")[0];return"application"===t||"text"===t||AA(this.gX,this.cht)?lw.ON:"video"===t?lw.NI:"audio"===t?lw.SI:"image"===t?lw.II:lw.dI}},{key:"ji",get:function(){return this.tbt.rI.ji||this.jlt.ji}},{key:"ydt",get:function(){return this.obt},set:function(t){this.obt=t}},{key:"sgt",get:function(){return this.hbt},set:function(t){this.hbt=t}}]),n}(DP),EP=function(t){function n(n,i){var r;return(r=t.call(this)||this).Jft=[],r.Vpt=n,r.tbt=i,r.tbt.yn(bz.Nut,r.$yt),r}Et(n,t);var i=n.prototype;return i.Yn=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return 0!==i.Jft.length?[3,2]:(r=i.tbt.lct.map((function(r){return i.gbt(r,t,n)})),[4,st.all(r)]);case 1:i.Jft=e.sent().filter(ci),e.label=2;case 2:return i._bt(),[2]}}))}))()},i.gbt=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return e=new IP(r,t),[4,n(e)];case 1:return u=s.sent(),ta(i),u?[2,e]:[2,void 0]}}))}))()},i._bt=function(){if(!this.Jft.length)throw new A("Detected an AdaptationSet without any supported Representations.")},i.Kyt=function(){return this.tbt.Kyt()},i.cbt=function(){return this.tbt.cbt()},i.gn=function(){this.tbt.fn(bz.Nut,this.$yt);for(var t=0,n=this.Jft;t<n.length;t++){n[t].gn()}Ro(this.Jft)},Ct(n,[{key:"zft",get:function(){return this.tbt.rI.zft}},{key:"GAt",get:function(){var t;return null!=(t=this.tbt.rI.GAt)?t:-1}},{key:"cht",get:function(){if(this.tbt.rI.cht)return[this.tbt.rI.cht];for(var t=[],n=0,i=this.lct;n<i.length;n++){var r=i[n];r.ibt.length&&-1===t.indexOf(r.Qp)&&t.push(r.Qp)}return t}},{key:"Qp",get:function(){return this.cht.join()}},{key:"WAt",get:function(){return this.tbt.rI.WAt}},{key:"GY",get:function(){return this.tbt.rI.GY}},{key:"VN",get:function(){return this.gX+'; codecs="'+this.Qp+'"'}},{key:"ZAt",get:function(){return this.tbt.ZAt}},{key:"HAt",get:function(){return this.tbt.HAt}},{key:"vgt",get:function(){return this.tbt.rI.vgt}},{key:"Zft",get:function(){return this.tbt.rI.Zft}},{key:"Ti",get:function(){return this.tbt.rI.Ti||0}},{key:"o",get:function(){return this.tbt.rI.o}},{key:"kh",get:function(){return this.tbt.rI.kh||""}},{key:"XAt",get:function(){return this.tbt.rI.XAt}},{key:"qAt",get:function(){return this.tbt.rI.qAt}},{key:"Sft",get:function(){return this.wdt.Sft}},{key:"gX",get:function(){return this.tbt.rI.gX||this.Jft[0].gX}},{key:"wdt",get:function(){return this.Vpt}},{key:"KAt",get:function(){return this.tbt.rI.KAt}},{key:"lct",get:function(){return this.Jft}},{key:"Sgt",get:function(){return this.tbt.rI.Sgt||[]}},{key:"JAt",get:function(){return this.tbt.rI.JAt}},{key:"$At",get:function(){return this.tbt.rI.$At}},{key:"tyt",get:function(){return this.tbt.rI.tyt}},{key:"hG",get:function(){return this.tbt.rI.hG}},{key:"iyt",get:function(){return this.tbt.rI.iyt}},{key:"YA",get:function(){var t=(this.tbt.rI.VN||this.gX).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||AA(this.gX,this.cht)?lw.ON:"video"===t?lw.NI:"audio"===t?lw.SI:"image"===t?lw.II:lw.dI}},{key:"ji",get:function(){return this.tbt.rI.ji||0}},{key:"uet",get:function(){return this.tbt.rI.gs||""}},{key:"pgt",get:function(){return this.qyt}},{key:"mgt",get:function(){var t=this.pgt,n=this.Jyt;if(void 0!==t&&void 0!==n){var i=k.min(n,this.Sft.fbt);return k.max(t,i)}}}]),n}(DP);function SP(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(Kt.Ah(s,e))}return i}Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt(),Zt(),tn();var LP=function(){function t(t,n){this.Vpt=t,this.jbt=n,this.KM=n.xj,this.xbt=n.EAt,this.Ubt=n.BAt}var n=t.prototype;return n.vbt=function(t){var n=t-this.Vpt.Cn;if(!(n<0||n>=this.Vpt.ct)){var i=this.wbt();return void 0!==i&&wr(i,n,1e-5)?this.mbt():this.pbt(n)}},n.bdt=function(t){var n=t-this.Vpt.Cn;if(!(n<0))return this.Abt(k.min(n,this.Vpt.ct))},n.mbt=function(){return this.ybt(0)},n.bbt=function(){var t=this.Vpt.ct;if(isFinite(t))return this.Abt(t)},n.ubt=function(t){if(this.Vpt.Sbt.YA===$R.FQ){if(this.Mbt){var n=this.mbt(),i=this.Nbt();if(void 0===n||void 0===i)return;return{Ibt:t,Dbt:n,Ebt:i}}var r=this.kbt(t);if(!r)return;return{Ibt:t,Dbt:this.Lbt(t),Ebt:r}}var e=this.mbt();if(e)return{Ibt:t,Dbt:e,Ebt:this.bbt()}},n.cbt=function(t,n){if(n){var i=this.Nft(n.Dbt),r=this.Edt(n.Ebt);if(r){var e=this.Ift(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.mbt();if(u){var s=this.Ift(u);if(t.getTime()<s.getTime())return s}var o=this.Vpt.Sbt.xyt;return t.getTime()<o.getTime()?o:void 0},n.kbt=function(t){var n=(t.getTime()-this.Vpt.Sbt.xyt.getTime())/1e3-this.Vpt.Cn+this.xbt,i=this.Abt(gr(n,0,this.Vpt.ct));if(i&&(i=this.Cbt(i,t))){for(var r=this.Edt(i);r&&this.Oft(r,t);)i=r,r=this.Edt(i);return i}},n.Lbt=function(t){var n,i=this.jbt.QAt;if(i){var r=(t.getTime()-this.Vpt.Sbt.xyt.getTime())/1e3-this.Vpt.Cn-i.bAt();(n=this.Abt(gr(r,0,this.Vpt.ct)))||(n=this.mbt())}else n=this.mbt();if(n&&(n=this.Cbt(n,t))){for(var e=this.Ddt(n);e&&this.Oft(e,t);)n=e,e=this.Ddt(n);return n}},n.Cbt=function(t,n){for(var i=t;i&&this.Ift(i).getTime()>n.getTime();)i=this.Ddt(i);if(i){var r=this.Nft(i);if(r&&r.getTime()<=n.getTime()){var e=this.Ddt(i);for(e&&this.Oft(e,n)&&(i=e);i;){if(this.Ift(i).getTime()>n.getTime())return;if(this.Oft(i,n))break;i=this.Edt(i)}if(!i)return}return i}},n.Oft=function(t,n){if(this.Mbt)return!0;if(this.Ift(t).getTime()>n.getTime())return!1;var i=this.Nft(t);return!(i&&n.getTime()>=i.getTime())},n.Obt=function(t,n){if(this.Mbt)return!0;if(this.Rbt(t).getTime()>n.getTime())return!1;var i=this.Nft(t);return!(i&&n.getTime()>=i.getTime())},n.Pbt=function(t,n,i){var r=Er(n,this.KM)+this.Vpt.Cn;return{ult:t,zbt:n,lB:r,ct:i,dB:r+i}},n.Rbt=function(t){return this.Vpt.Sbt.YA===$R.FQ?new Date(this.Vpt.Sbt.xyt.getTime()+1e3*(t.lB+t.ct)):this.Vpt.Sbt.xyt},n.Ift=function(t){var n=this.Rbt(t);return this.Vpt.Sbt.YA===$R.FQ?new Date(n.getTime()-1e3*this.xbt):n},n.Nft=function(t){var n=1/0;if(this.Vpt.Sbt.YA===$R.FQ){var i=this.jbt.QAt;i&&(n=this.Rbt(t).getTime()+1e3*t.ct+i.MAt())}var r=this.Vpt.Sbt.Lyt;return r&&(n=k.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Bbt=function(t,n){return t.ult+n},n.Mdt=function(t){return!1},n.Sdt=function(t,n,i,r,e){var u=this.Qbt(t);if(!u)return st.reject(new A("Invalid segment"));var s=this.Fbt(u.ult,n);return s?st.resolve(s):ra(this.Ybt(u.ult,n,i,r),e)},n.Fbt=function(t,n){},n.Ybt=function(t,n,i,r){return st.reject(new A("Not supported"))},n.Ddt=function(t){var n=this.Qbt(t);if(n)return this.ybt(n.ult-1)},n.Edt=function(t){var n=this.Qbt(t);if(n)return this.ybt(n.ult+1)},n.Qbt=function(t){var n=this.ybt(t.ult);if(n&&n.lB===t.lB)return n;var i=this.vbt(t.lB);return i&&i.lB===t.lB?i:void 0},n.Vbt=function(t,n){var i=this.Ndt(t);if(i&&this.Mdt(i.ult)){var r=this.Fbt(i.ult,n);if(r)return r.Vbt(t)}},n.Ndt=function(t){return this.ybt(t.Gbt)},n.fft=function(t){var n=this.Qbt(t);return!!n&&0===n.ult},n.lbt=function(t,n){var i=this.Vbt(t,n);return!!i&&0===i.hlt},n.vdt=function(t){var n=this.Qbt(t);if(!n)return!1;var i=this.bbt();return!!i&&n.ult===i.ult},n.dbt=function(t,n){var i=this.Vbt(t,n);if(!i)return!1;var r=this.bbt();if(!r||i.Gbt!==r.ult)return!1;var e=this.Fbt(i.Gbt,n);return i.hlt+1===e.V},n.wy=function(){},Ct(t,[{key:"Mbt",get:function(){return this.Vpt.Sbt.Tbt&&void 0!==this.Nbt()}},{key:"rQ",get:function(){return this.Vpt.Cn-Er(this.Ubt,this.KM)}},{key:"BAt",get:function(){return Er(this.Ubt,this.KM)}}]),t}(),CP=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Kbt,u=n.ct;if(void 0===e||void 0===u)throw new A("MultipleSegmentBase does not have a segment duration specified.");return r.Wbt=e,r.Hbt=u,r}Et(n,t);var i=n.prototype;return i.ybt=function(t){if(!(t<0)){var n=this.Wbt.multiply(t),i=Er(n,this.KM),r=this.Vpt.ct;if(!(i>=r)){var e=this.Zbt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.Pbt(t,n,r-i)}return isFinite(r)&&i+this.Hbt>r?this.Pbt(t,n,r-i):this.Pbt(t,n,this.Hbt)}}},i.wbt=function(){return 0},i.pbt=function(t){var n=k.floor(t/this.Hbt),i=this.Zbt();return void 0!==i&&n>=i?this.ybt(i):this.ybt(n)},i.Abt=function(t){if(t>=this.Vpt.ct){var n=k.ceil(this.Vpt.ct/this.Hbt)-1,i=this.Zbt();return void 0!==i&&n>=i?this.ybt(i):this.ybt(n)}return this.pbt(t)},i.Zbt=function(){var t,n=this.jbt.VAt;if(void 0!==n)return n-(null!=(t=this.jbt.YAt)?t:1);var i=this.jbt.Xbt;return void 0!==i&&i>0?i-1:void 0},i.Nbt=function(){if(isFinite(this.Vpt.ct))return this.bbt()},i.qbt=function(t,n){return this.Wbt.multiply(t.ult+(n-1))},i.Yn=function(){},n}(LP);function jP(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.Jbt(n[e]),o=t.$bt(n[u]);e<=u&&t.tMt(s,i)<=0&&t.tMt(i,o)<0;){var a=e+k.floor(t.iMt(i,s,o)*(u-e)),c=n[a],h=t.Jbt(c),f=a+1<r?t.Jbt(n[a+1]):t.$bt(c);if(t.tMt(f,i)<=0)e=a+1,s=f;else{if(!(t.tMt(i,h)<0))return a;u=a-1,o=h}}return-1}function xP(t,n){return jP(OP.Ld,t,n)}Q(),Nt(),St(),Q(),Nt(),Zt(),Q(),Nt();var OP=function(){function t(){}var n=t.prototype;return n.Jbt=function(t){return t.lB},n.$bt=function(t){return t.dB},n.tMt=function(t,n){return t.compare(n)},n.iMt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},Ct(t,null,[{key:"Ld",get:function(){return null!=this.uht||(this.uht=new t),this.uht}}]),t}();tn();var zP=.01,RP=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).eMt=[],r.nMt=void 0,r.Fmt=fr.ZERO,r.Yn(),r}Et(n,t);var i=n.prototype;return i.ybt=function(t){if(!(t<0))return t<this.eMt.length?this.eMt[t].ilt:this.sMt(t-this.eMt.length)},i.wbt=function(){if(this.eMt.length>0)return Er(this.eMt[0].lB,this.KM)},i.pbt=function(t){if(this.nMt&&Er(this.nMt.lB,this.KM)<=t){var n=Er(this.nMt.lB,this.KM),i=Er(this.nMt.ct,this.KM),r=k.floor((t-n)/i);return this.sMt(r)}if(this.eMt.length>0&&wr(t,Er(this.eMt[0].lB,this.KM),1e-5))return this.eMt[0].ilt;var e=xP(this.eMt,fr.fromNumber(t*this.KM));return e<0?void 0:this.eMt[e].ilt},i.Abt=function(t){if(!this.nMt&&this.eMt.length>0){var n=this.eMt[this.eMt.length-1];if(function(t,n,i){return bo(t,n,i)>=0}(t,Er(n.dB,this.KM),1e-5))return n.ilt}var i=this.wbt();return i&&t<i?this.eMt[0].ilt:this.pbt(t)},i.Nbt=function(){return isFinite(this.Vpt.ct)?this.bbt():this.ybt(this.eMt.length-1)},i.qbt=function(t){return this.rMt(t)},i.sMt=function(t){if(this.nMt){var n=this.nMt.lB,i=this.nMt.ct,r=n.add(i.multiply(t)),e=Er(r,this.KM),u=this.Vpt.ct;if(!(e>=u)){var s=this.eMt.length+t,o=k.min(Er(i,this.KM),e+u);return this.Pbt(s,r,o)}}},i.rMt=function(t){return t.zbt.add(this.Ubt)},i.Yn=function(){var t=this.jbt.rI.eat;if(!t)throw new A("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.oMt(t)},i.oMt=function(t){var n=this.Ubt;this.hMt(t,n);var i=this.aMt(t);this.uMt(t,n,i.cMt,i.Gbt)},i.hMt=function(t,n){var i=this.eMt;if(0===t.length)Ro(i);else{for(var r=t[0],e=0,u=Er(r.lB?fr.fromString(r.lB,!1).subtract(n):fr.ZERO,this.KM);e<i.length&&Er(i[e].lB,this.KM)<u-zP;)e++;e>0&&i.splice(0,e)}},i.aMt=function(t){for(var n=this.eMt,i=this.Fmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].LAt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].lB.greaterThanOrEqual(i))break;if(n[e].ilt.ult===e)e=s+1;else for(;e<=s;)n[e].ilt.ult=e,e++;0,r++}return{cMt:r,Gbt:e}},i.uMt=function(t,n,i,r){for(var e,u=this.eMt,s=i,o=r;s<t.length;){var a=t[s],c=fr.fromString(a.ct,!1),h=a.LAt||0,f=void 0;if(a.lB){if(f=fr.fromString(a.lB,!1).subtract(n),o>0){var v=u[o-1];v.dB.greaterThan(f)&&(v.ct=f.subtract(v.lB),v.dB=v.lB.add(v.ct))}}else f=o>0?u[o-1].dB:fr.ZERO;if(h<0){if(s+1===t.length){e={lB:f,ct:c};break}for(var d=fr.fromString(t[s+1].lB,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.lMt(u,o,f,c,l),f=l,o++}}else for(var g=o+h;o<=g;){var w=f.add(c);this.lMt(u,o,f,c,w),f=w,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Fmt=u[u.length-1].lB),this.nMt=e},i.lMt=function(t,n,i,r,e){if(n<t.length){var u=t[n];u.ct.equals(r)?u.ilt.ult=n:t[n]={lB:i,ct:r,dB:e,ilt:this.Pbt(n,i,Er(r,this.KM))}}else t.push({lB:i,ct:r,dB:e,ilt:this.Pbt(n,i,Er(r,this.KM))})},n}(LP);Q(),Nt(),Zt(),tn();var BP=function(){function t(t,n,i){this.fMt=void 0,this._Mt=void 0,this.wdt=t,this.dMt=n,this.Xp=i}var n=t.prototype;return n.gMt=function(){if(this._Mt=this.vMt(),this._Mt)return this._Mt;if(this.dMt)return this.dMt.eat;throw new A("Missing media segment information.")},n.sbt=function(t){var n=this.zAt;if(n)return{zu:(void 0!==n.kAt?Kt.Ah(n.kAt,t.oyt[0]):t.oyt[0]).href,Nct:n.Nct};var i=this.xAt;return i?{zu:t.oyt[0].href,Nct:[0,i[0]-1]}:void 0},n.Yn=function(t){this.Xp=t,this._Mt&&this._Mt.Yn()},n.wy=function(){this._Mt&&(this._Mt.wy(),this._Mt=void 0)},Ct(t,[{key:"rI",get:function(){return this.Xp}},{key:"EAt",get:function(){return this.Xp&&void 0!==this.Xp.EAt?this.Xp.EAt:this.dMt?this.dMt.EAt:0}},{key:"BAt",get:function(){return this.Xp&&void 0!==this.Xp.BAt?this.Xp.BAt:this.dMt?this.dMt.BAt:fr.ZERO}},{key:"QAt",get:function(){return this.Xp&&void 0!==this.Xp.QAt?this.Xp.QAt:this.dMt?this.dMt.QAt:this.wdt.Sbt.QAt}},{key:"xj",get:function(){return this.Xp&&void 0!==this.Xp.xj?this.Xp.xj:this.dMt&&this.dMt.xj?this.dMt.xj:1}},{key:"xAt",get:function(){return this.Xp&&void 0!==this.Xp.xAt?this.Xp.xAt:this.dMt?this.dMt.xAt:void 0}},{key:"zAt",get:function(){return this.Xp&&void 0!==this.Xp.zAt?this.Xp.zAt:this.dMt?this.dMt.zAt:void 0}},{key:"eat",get:function(){return this.fMt||(this.fMt=this.gMt()),this.fMt}}]),t}(),UP=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.vMt=function(){return void 0!==this.Xp.eat?new RP(this,this.wdt):void 0!==this.Xp.ct?new CP(this,this.wdt):void 0},Ct(n,[{key:"ct",get:function(){return void 0!==this.Xp.ct?this.Xp.ct/this.xj:this.dMt&&PP(this.dMt)?this.dMt.ct:void 0}},{key:"Kbt",get:function(){return void 0!==this.Xp.ct?fr.fromNumber(this.Xp.ct):this.dMt&&PP(this.dMt)?this.dMt.Kbt:void 0}},{key:"YAt",get:function(){return void 0!==this.Xp.YAt?this.Xp.YAt:this.dMt&&PP(this.dMt)?this.dMt.YAt:void 0}},{key:"VAt",get:function(){return void 0!==this.Xp.VAt?this.Xp.VAt:this.dMt&&PP(this.dMt)?this.dMt.VAt:void 0}}]),n}(BP);function PP(t){return t instanceof UP}Q(),Nt();var QP=function(){function t(t){this.wMt=t}return t.prototype.sM=function(t){return this.wMt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=uo(s,Number(r),"0")}))},t}();tn();var YP=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).mMt=r.nyt?new QP(r.nyt):void 0,e.pMt=r.ryt?new QP(r.ryt):void 0,e}Et(n,t);var i=n.prototype;return i.sbt=function(n){var i=this.nyt;if(!i)return t.prototype.sbt.call(this,n);var r=i.sM({Bandwidth:n.rI.FY,RepresentationID:n.rI.o});return{zu:Kt.TA(r,n.oyt[0])}},i.xdt=function(t,n){var i,r=null!=(i=n.rbt.YAt)?i:1,e=this.ryt.sM({Bandwidth:n.rI.FY,Number:n.eat.Bbt(t,r),RepresentationID:n.rI.o,Time:n.eat.qbt(t,r)});return{zu:Kt.TA(e,n.oyt[0])}},i.abt=function(t,n){},Ct(n,[{key:"nyt",get:function(){return this.mMt?this.mMt:this.dMt&&this.dMt instanceof n?this.dMt.nyt:void 0}},{key:"ryt",get:function(){return this.pMt?this.pMt:this.dMt&&this.dMt instanceof n?this.dMt.ryt:void 0}},{key:"Xbt",get:function(){}}]),n}(UP);Q(),Nt(),Zt(),St(),tn();var GP=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.xdt=function(t,n){var i=this.jAt[t.ult],r=n.oyt[0];return{zu:(i.zj?Kt.Ah(i.zj,r):r).href,Nct:i.CAt}},i.abt=function(t,n){},Ct(n,[{key:"jAt",get:function(){return void 0!==this.Xp.jAt?this.Xp.jAt:this.dMt&&this.dMt instanceof n?this.dMt.jAt:void 0}},{key:"Xbt",get:function(){var t;return null==(t=this.jAt)?void 0:t.length}}]),n}(UP);Q(),Nt(),Zt(),St(),Q(),Nt(),An(),St(),Sn(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt();var VP=function(){function t(){}return t.prototype.Vbt=function(t){var n=this.Idt(t.hlt);if(n&&n.lB===t.lB)return n;var i=this.AMt(t.lB);return i&&i.lB===t.lB?i:void 0},t}(),FP=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Gbt=n,s.xj=i,s.TMt=r,s.BAt=e,s.yMt=u,s}Et(n,t);var i=n.prototype;return i.Idt=function(t){if(t>=0&&t<this.V)return this.bMt(this.yMt[t])},i.AMt=function(t){var n=this.MMt(t);if(this.yMt.length>0){var i=this.yMt[0];if(n<=Er(i.lB,this.xj))return this.bMt(i)}var r=xP(this.yMt,fr.fromNumber(n*this.xj));if(!(r<0))return this.bMt(this.yMt[r])},i.Tdt=function(t){var n=this.MMt(t);if(this.yMt.length>0){var i=this.yMt[this.yMt.length-1];if(n>=Er(i.dB,this.xj))return this.bMt(i)}return this.AMt(t)},i.bMt=function(t){var n=Er(t.lB,this.xj)-this.BAt,i=n+this.TMt,r=Er(t.ct,this.xj);return{Gbt:this.Gbt,hlt:t.ult,lB:i,zbt:fr.fromNumber(n*this.xj),ct:r,dB:i+r,SMt:[t.NMt,t.IMt]}},i.MMt=function(t){return t-this.TMt+this.BAt},Ct(n,[{key:"V",get:function(){return this.yMt.length}}]),n}(VP);Q(),Nt(),Q(),Nt(),Q(),Nt(),tn();var WP=function(){function t(t){this.rI=t,this.OC=new Vc}var n=t.prototype;return n.cmt=function(){return this.OC.tc<this.rI.byteLength},n.DMt=function(){var n,i=this.EMt(),r=this.kMt(),e=this.OC.tc,u=this.rI.byteLength,s=e+(n=t.LMt(r)?u-e:t.xMt(r))<=u?n:u-e,o=ec(this.rI,this.OC,s);return new XP(i,Rc(o))},n.EMt=function(){var t=this.kMt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.kMt=function(){var t=ic(this.rI,this.OC.Zb());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Fa(t));return Kt.lA(n<=8&&n>=1,"Incorrect log2 value"),ec(this.rI,this.OC,n)},t.xMt=function(t){if(8===t.length&&224&t[1])throw new p("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.LMt=function(t){for(var n=0;n<ZP.length;n++){var i=ZP[n];if(Kc(t,new N(i)))return!0}return!1},t}(),ZP=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],XP=function(){function t(t,n){this.id=t,this.jMt=n}var n=t.prototype;return n.CMt=function(){return this.jMt.byteOffset},n.OMt=function(){return new WP(this.jMt)},n.RMt=function(){var t=this.jMt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.jMt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.jMt.getUint8(i)}return n},n.zJ=function(){if(4===this.jMt.byteLength)return this.jMt.getFloat32(0);if(8===this.jMt.byteLength)return this.jMt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function HP(t,n){var i=function(t){var n=new WP(Rc(t)),i=n.DMt();if(i.id!==JP)throw new p("Missing WebM EBML header");var r=n.DMt();if(r.id!==qP)throw new p("Missing WebM SegmentElement");var e=r.CMt(),u=function(t){var n,i=t.OMt();for(;i.cmt();){var r=i.DMt();if(r.id===$P){n=r;break}}if(!n)throw new p("Missing WebM InfoElement");return function(t){var n,i=t.OMt(),r=1e6;for(;i.cmt();){var e=i.DMt();e.id===tQ?r=e.RMt():e.id===nQ&&(n=e.zJ())}if(void 0===n)throw new p("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new WP(Rc(t)).DMt();if(r.id!==iQ)throw new p("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.OMt();for(;o.cmt();){var a=o.DMt();if(a.id===rQ){var c=KP(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({ult:s.length,lB:e,ct:h.subtract(e),dB:h,NMt:u,IMt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=fr.fromNumber(r/i);s.push({ult:s.length,lB:e,ct:v.subtract(e),dB:v,NMt:u,IMt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{xj:k.round(1/i.timecodeScale),PMt:e}}function KP(t){var n=t.OMt(),i=n.DMt();if(i.id!==eQ)throw new p("Missing CueTime in WebM CuePointElement");var r=fr.fromNumber(i.RMt()),e=n.DMt();if(e.id!==uQ)throw new p("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.OMt(),s=0;u.cmt();){var o=u.DMt();if(o.id===sQ){s=o.RMt();break}}return{unscaledTime:r,relativeOffset:s}}tn();var JP=440786851,qP=408125543,$P=357149030,tQ=2807729,nQ=17545,iQ=475249515,rQ=187,eQ=179,uQ=183,sQ=241,oQ=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).QMt=As(),r.FMt=As(),r.YMt=new ca,r.UMt=n.xAt,r.zMt=r.Pbt(0,fr.ZERO,r.Vpt.ct),r}Et(n,t);var i=n.prototype;return i.ybt=function(t){if(0===t)return this.zMt},i.wbt=function(){return 0},i.pbt=function(t){return this.zMt},i.Abt=function(t){return this.pbt(t)},i.Nbt=function(){return this.zMt},i.qbt=function(t,n){return fr.ZERO},i.ubt=function(t){var n=this.BMt(t);return n&&{Ibt:t,Dbt:n,Ebt:n}},i.BMt=function(t){var n=this.zMt;return this.Oft(n,t)?n:void 0},i.kbt=function(t){return this.BMt(t)},i.Lbt=function(t){return this.BMt(t)},i.Yn=function(){},i.Mdt=function(t){return 0===t&&void 0!==this.UMt},i.Fbt=function(t,n){var i=n.oyt[0].href;return this.QMt.get(i)},i.Ybt=function(t,n,i,r){var e=n.oyt[0].href,u=this.FMt.get(e);if(void 0===u){var s=n.gX,o=this.YMt.ly;if(Xv(s))u=this.VMt(t,e,i,r,o);else{if(!Hv(s))throw new md(wd.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.GMt(t,e,n,i,r,o)}this.FMt.set(e,u)}return u},i.VMt=function(t,n,i,r,e){var u=this;return yn((function(){var s,o,a;return pn(this,(function(c){switch(c.label){case 0:return s=u.UMt,[4,r.Hdt(n,s,i,e)];case 1:return o=c.sent(),a=u.WMt(t,o),u.QMt.set(n,a),[2,a]}}))}))()},i.WMt=function(t,n){var i=this.UMt,r=Im.ij(new DataView(n),new Vc);if(r.YA!==pm.DC)throw new A("Invalid segment index");var e=jm.Mj(r.rI),u=function(t,n){for(var i=[],r=t.KR,e=n+t.JR.toNumber(),u=0,s=0,o=t.tP;s<o.length;s++){var a=o[s],c=a.WR,h=fr.fromNumber(a.ct),f=r.add(h);0===a.GR&&i.push({ult:u++,lB:r,ct:h,dB:f,NMt:e,IMt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new FP(t,e.xj,this.Vpt.Cn,Er(this.Ubt,this.KM),u)},i.GMt=function(t,n,i,r,e,u){var s=this;return yn((function(){var o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return o=i.sbt(),a=s.UMt,c=e.Hdt(o.zu,o.Nct,r,u),h=e.Hdt(n,a,r,u),[4,st.all([c,h])];case 1:return f=En.apply(void 0,[g.sent(),2]),v=f[0],d=f[1],l=s.ZMt(t,d,v),s.QMt.set(n,l),[2,l]}}))}))()},i.ZMt=function(t,n,i){var r=HP(new N(n),new N(i));return new FP(t,r.xj,this.Vpt.Cn,Er(this.Ubt,this.KM),r.PMt)},i.wy=function(){t.prototype.wy.call(this),this.YMt.Ty()},n}(LP),aQ=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.xdt=function(t,n){return{zu:n.oyt[0].href}},i.abt=function(t,n){return{zu:n.oyt[0].href,Nct:t.SMt}},i.vMt=function(){return new oQ(this,this.wdt)},Ct(n,[{key:"YAt",get:function(){}}]),n}(BP);Q(),Nt(),St();var cQ=function(t){function n(){return t.call(this,bz.Nut)||this}return Et(n,t),n}(ka);Q(),Nt(),tn();var hQ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jbt=void 0,e.eTt=1/0,e.JMt=void 0,e.lD=i,e.KMt(n,r),e}Et(n,t);var i=n.prototype;return i.XMt=function(){var t,n;return null!=(n=this.jbt)?n:null==(t=this.lD)?void 0:t.XMt()},i.qMt=function(t){var n=this.wdt,i=this.lD&&this.lD.XMt();this.Xp.uyt?this.jbt=new YP(n,i,this.Xp.uyt):this.Xp.ayt?this.jbt=new GP(n,i,this.Xp.ayt[0]):this.Xp.hyt?this.jbt=new aQ(n,i,this.Xp.hyt):t&&!i&&(this.jbt=new aQ(n,i,void 0))},i.KMt=function(t,n){this.Xp=t,this.HMt=t.oyt&&t.oyt.length>0?SP(t.oyt.map((function(t){return t.zu})),n):n.slice(),this.jbt&&(t.uyt?this.jbt.Yn(t.uyt):t.ayt?this.jbt.Yn(t.ayt[0]):t.hyt&&this.jbt.Yn(t.hyt))},i.Kyt=function(){var t;return null==(t=this.JMt)?void 0:t.$Mt},i.cbt=function(){var t;return null==(t=this.JMt)?void 0:t.tTt},i.iTt=function(t){var n=this.eTt,i=this.wdt.ct,r=this.JMt,e=this.sTt(t);r&&wr(i,n,1e-5)&&lQ(r,e)||(this.eTt=i,this.JMt=e,this.yo(new cQ))},i.wy=function(){this.Bo(),this.jbt&&(this.jbt.wy(),this.jbt=void 0)},Ct(n,[{key:"rI",get:function(){return this.Xp}},{key:"oyt",get:function(){return this.HMt}}]),n}(Aa);function fQ(t){for(var n,i=0;i<t.length;i++){var r=t[i].Kyt();if(r){n=r.Cn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Kyt();if(s){e=s.jn;break}}if(void 0!==e)return{Cn:n,jn:e}}}function vQ(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Kyt();if(!e)return;if((n=k.max(n,e.Cn))>=(i=k.min(i,e.jn)))return}return{Cn:n,jn:i}}}function dQ(t){for(var n,i=0;i<t.length;i++){var r=t[i].cbt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function lQ(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.tTt,n.tTt)&&function(t,n){return t&&n?wr(t.Cn,n.Cn,1e-5)&&wr(t.jn,n.jn,1e-5):t===n}(t.$Mt,n.$Mt)}var gQ=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Vpt=n,e.aS=i,e.nTt=r.slice();for(var u=0;u<r.length;u++){r[u].yn(bz.Nut,e.$yt)}return e}Et(n,t);var i=n.prototype;return i.Kyt=function(){return vQ(this.nTt)},i.cbt=function(){for(var t,n=0,i=this.nTt;n<i.length;n++){var r=i[n].cbt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.gn=function(){this.Bo();for(var t=0,n=this.nTt;t<n.length;t++){n[t].fn(bz.Nut,this.$yt)}},Ct(n,[{key:"Igt",get:function(){return this.nTt}},{key:"cht",get:function(){return this.Igt.reduce((function(t,n){for(var i=0,r=n.cht;i<r.length;i++){var e=r[i];Oo(t,e)||t.push(e)}return t}),[])}},{key:"Qp",get:function(){return this.cht.length>0?this.cht[0]:""}},{key:"YA",get:function(){return this.nTt[0].YA}},{key:"o",get:function(){return this.aS}},{key:"Sft",get:function(){return this.Vpt.Sft}},{key:"gX",get:function(){return this.nTt[0].gX}},{key:"wdt",get:function(){return this.Vpt}},{key:"lct",get:function(){return Uo(this.Igt,(function(t){return t.lct}))}}]),n}(DP);Q(),Nt(),St();var wQ=function(t){function n(){return t.call(this,bz.Dut)||this}return Et(n,t),n}(ka);function yQ(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Zft;void 0===u||(e=Do(i,(function(t){return t.o===u}))),e||(e={o:u,Igt:[]},i.push(e)),e.Igt.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}Q(),Nt(),tn();var mQ=function(t){function n(n,i){var r;return(r=t.call(this)||this).nTt=[],r.rTt=[],r.oTt=!1,r.hTt=n,r.tbt=i,r.tbt.yn(bz.Nut,r.$yt),r}Et(n,t);var i=n.prototype;return i.lTt=function(t,n){if(0!==this.rTt.length){for(var i=t,r=0,e=this.rTt;r<e.length;r++){var u=e[r];if(gw(u.YA)){var s=u.Jyt;if(void 0===s)return;i=n(i,s)}}return i}},i.fTt=function(){this.oTt||(this.oTt=!0,this.yo(new wQ),this.gn())},i.Yn=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return 0!==i.nTt.length?[3,2]:[4,i.gTt(i.tbt.Igt,t,n)];case 1:return r.sent(),i._Tt(i.nTt),ta(n),[3,4];case 2:return[4,i.vTt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.gTt=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new EP(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.Yn(n,i)];case 3:return o.sent(),r.nTt.push(s),[3,5];case 4:return na(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i._Tt=function(t){for(var n=yQ(t),i=0;i<n.length;i++){var r=n[i],e=new gQ(this,r.o,r.Igt);this.rTt.push(e)}},i.vTt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:r=0,e=i.nTt,u.label=1;case 1:return r<e.length?[4,e[r].Yn(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Kyt=function(){return this.tbt.Kyt()},i.cbt=function(){return this.tbt.cbt()},i.gn=function(){this.Bo(),this.tbt.fn(bz.Nut,this.$yt);for(var t=0,n=this.rTt;t<n.length;t++){n[t].gn()}for(var i=0,r=this.nTt;i<r.length;i++){r[i].gn()}Ro(this.nTt),Ro(this.rTt)},Ct(n,[{key:"Igt",get:function(){return this.nTt}},{key:"Ypt",get:function(){return this.rTt}},{key:"Iyt",get:function(){return this.tbt.rI.Iyt}},{key:"ct",get:function(){return this.tbt.ct}},{key:"jn",get:function(){return this.Cn+this.ct}},{key:"Dyt",get:function(){return this.tbt.rI.Dyt||[]}},{key:"o",get:function(){return this.tbt.o}},{key:"Eut",get:function(){return this.oTt}},{key:"Sft",get:function(){return this.hTt}},{key:"mAt",get:function(){return this.hTt.aTt(this)}},{key:"wdt",get:function(){return this}},{key:"wAt",get:function(){return this.hTt.uTt(this)}},{key:"cTt",get:function(){return this.lTt(1/0,k.min)}},{key:"dTt",get:function(){return this.lTt(0,k.max)}},{key:"Cn",get:function(){return this.tbt.Cn}},{key:"zI",get:function(){return this.Sft.zI}}]),n}(DP);Q(),Nt(),St();var AQ=function(t){function n(){return t.call(this,Ma.fb)||this}return Et(n,t),n}(ka);tn(),Q(),Nt(),St(),Q(),Nt();var pQ=function(t){return t.wTt="mTt",t}({}),_Q=function(t){function n(){return t.call(this,pQ.wTt)||this}return Et(n,t),n}(ka);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var kQ=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.oyt)||this).pTt=void 0,r.ict=i,r.qMt(!0),r}Et(n,t);var i=n.prototype;return i.Mdt=function(t){var n=this.gX;return!(!Xv(n)&&!Hv(n))&&this.eat.Mdt(t.ult)},i.Sdt=function(t,n,i,r){return this.eat.Sdt(t,this,n,i,r)},i.sbt=function(){return this.rbt.sbt(this)},i.xdt=function(t){return this.rbt.xdt(t,this)},i.abt=function(t){return this.rbt.abt(t,this)},i.ubt=function(){return this.pTt},i.sTt=function(t){var n=this.eat,i=n.ubt(t),r=i&&function(t,n){var i,r=t.Dbt,e=t.Ebt,u=t.Ibt,s=r.lB,o=n.Rbt(e);if(o.getTime()<=u.getTime())i=e.dB;else{var a=(o.getTime()-u.getTime())/1e3,c=k.max(e.ct-a,0);i=e.lB+c}return{Cn:s,jn:i}}(i,n),e=this.eat.cbt(t,i);return this.pTt=i,{Ibt:t,$Mt:r,tTt:e}},i.Yn=function(t){this.KMt(t,this.ict.oyt)},Ct(n,[{key:"jlt",get:function(){return this.ict}},{key:"wdt",get:function(){return this.ict.wdt}},{key:"Sbt",get:function(){return this.ict.Sbt}},{key:"gX",get:function(){return this.Xp.gX||this.ict.gX}},{key:"rbt",get:function(){return this.XMt()}},{key:"eat",get:function(){return this.rbt.eat}}]),n}(hQ),MQ=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.oyt)||this).Vpt=i,r.qMt(!1),r.Jft=n.lct.map((function(t){return new kQ(t,r)})),r}Et(n,t);var i=n.prototype;return i.Yn=function(t){this.KMt(t,this.Vpt.oyt);var n=t.lct||[];if(this.Jft.length!==n.length)throw new A("Expected "+this.Jft.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.Jft[i].Yn(n[i])},i.iTt=function(n){for(var i=0,r=this.Jft;i<r.length;i++){r[i].iTt(n)}t.prototype.iTt.call(this,n)},i.sTt=function(t){return{Ibt:t,$Mt:vQ(this.Jft),tTt:dQ(this.Jft)}},i.wy=function(){for(var n=0,i=this.Jft;n<i.length;n++){i[n].wy()}t.prototype.wy.call(this)},Ct(n,[{key:"lct",get:function(){return this.Jft}},{key:"wdt",get:function(){return this.Vpt}},{key:"Sbt",get:function(){return this.Vpt.Sbt}},{key:"Zft",get:function(){return this.Xp.Zft}},{key:"gX",get:function(){var t;return this.Xp.gX||(null==(t=this.Jft[0])?void 0:t.rI.gX)||""}},{key:"ZAt",get:function(){return this.rI.ZAt}},{key:"HAt",get:function(){return this.rI.HAt}}]),n}(hQ),bQ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.oyt)||this).rTt=[],u.ATt=n,u.mQ=r,u.JM=e,u.qMt(!1),u.nTt=(i.Igt||[]).map((function(t){return new MQ(t,u)})),u.rTt=yQ(u.nTt),u}Et(n,t);var i=n.prototype;return i.Yn=function(t,n){this.KMt(t,this.ATt.oyt),this.JM=n;var i=t.Igt||[];if(this.nTt.length!==i.length)throw new A("Expected "+this.nTt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.nTt[r].Yn(i[r])},i.iTt=function(n){for(var i=0,r=this.nTt;i<r.length;i++){r[i].iTt(n)}t.prototype.iTt.call(this,n)},i.sTt=function(t){return{Ibt:t,$Mt:vQ(this.nTt),tTt:dQ(this.nTt)}},i.wy=function(){for(var n=0,i=this.nTt;n<i.length;n++){i[n].wy()}t.prototype.wy.call(this)},Ct(n,[{key:"Igt",get:function(){return this.nTt}},{key:"Ypt",get:function(){return this.rTt}},{key:"wdt",get:function(){return this}},{key:"Sbt",get:function(){return this.ATt}},{key:"o",get:function(){return this.Xp.o}},{key:"Cn",get:function(){return this.mQ}},{key:"ct",get:function(){return this.JM}}]),n}(hQ);tn(),Q(),Nt(),Zt();var TQ=function(){function t(t){this.bTt=t}return Ct(t,[{key:"yTt",get:function(){return this.bTt.kyt.jU}},{key:"MTt",get:function(){return this.bTt.kyt.CU}},{key:"TTt",get:function(){return this.bTt.kyt.Eyt}},{key:"STt",get:function(){var t;return null==(t=this.bTt.$E)?void 0:t.jU}},{key:"NTt",get:function(){var t;return null==(t=this.bTt.$E)?void 0:t.jU}}]),t}(),NQ=new Date("2000-01-01"),DQ=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).JMt=void 0,s.ETt=void 0,s.ITt=void 0,s.LTt=[],s.OTt=i,s.DTt=u,s.Yn(n,r,e),n.YA===$R.FQ){var o=s.Nbt();o&&o.Lyt&&o.Lyt.getTime()<NQ.getTime()&&(s.ITt=new Date(s.Uyt.getTime()-1e3*(o.ilt.lB+o.ilt.ct)),s.iTt(e))}return s}Et(n,t);var i=n.prototype;return i.Kyt=function(){var t;return null==(t=this.JMt)?void 0:t.$Mt},i.cbt=function(){var t;return null==(t=this.JMt)?void 0:t.tTt},i.Yn=function(t,n,i,r){var e,u=void 0!==this.Xp&&this.Xp.YA===$R.FQ;this.Xp=t,this.CTt=null!=r?r:i,this.An=i;var s=[Ul(n)];this.HMt=t.oyt&&t.oyt.length>0?SP(t.oyt.map((function(t){return t.zu})),s):s,this.kTt=t.Cyt&&t.Cyt.length>0?SP(t.Cyt,this.HMt):[];var o=this.kTt.map((function(t){return t.href})),a=n.href;Oo(o,a)||(this.kTt.push(n),o.push(a));var c=this.OTt.href;Oo(o,c)||(this.kTt.push(this.OTt),o.push(c)),this.ETt=null==(e=t.Pyt)?void 0:e.bAt(),t.Yyt&&(this.bTt=new TQ(t.Yyt));var h=t.YA===$R.FQ,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Cn)s=u.Cn.bAt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.bAt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({rI:t[a],Cn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.bAt():i-f),o.push({rI:h,Cn:f,ct:v})}return o}(t.tAt,h,this.ETt);this.RTt(f,u,h),this.iTt(i)},i.RTt=function(t,n,i){var r=this.LTt;if(0!==t.length){for(var e=t[0].rI.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].wy()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=IQ(r[0].rI))?a:Iy.sU,f=null!=(c=IQ(t[0].rI))?c:Iy.sU;if(f.UB(h)){var v=f.qB(h);void 0!==this.ETt&&(this.ETt+=v.BB());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var g=r[d];l.Cn=g.Cn,jQ(l.rI,g.rI)}d===t.length-1&&(l.ct+=v.BB())}}}for(var w=0;w<t.length;w++){var y=t[w];if(w<r.length){var m=r[w];0,m.Yn(y.rI,y.ct)}else r.push(new bQ(this,y.rI,y.Cn,y.ct))}}else Ro(r)},i.iTt=function(t){for(var n=0,i=this.LTt;n<i.length;n++){i[n].iTt(t)}var r=this.JMt,e=this.sTt(t);r&&lQ(r,e)||(this.JMt=e,this.yo(new cQ))},i.sTt=function(t){return{Ibt:t,$Mt:fQ(this.LTt),tTt:dQ(this.LTt)}},i.Nbt=function(){if(0!==this.LTt.length){var t=this.LTt[this.LTt.length-1];if(!isFinite(t.ct)&&0!==t.Igt.length){var n=t.Igt[0];if(0!==n.lct.length){var i=n.lct[0].eat,r=i.Nbt();if(r)return{ilt:r,Lyt:i.Nft(r)}}}}},i.wy=function(){this.Bo();for(var t=0,n=this.LTt;t<n.length;t++){n[t].wy()}},Ct(n,[{key:"rI",get:function(){return this.Xp}},{key:"YA",get:function(){return this.Xp.YA||$R.QQ}},{key:"xyt",get:function(){return this.ITt||this.Xp.xyt||this.Uyt}},{key:"Lyt",get:function(){return this.Xp.Lyt}},{key:"Tbt",get:function(){var t,n;return null!=(n=null==(t=this.DTt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Pyt",get:function(){return this.ETt}},{key:"oyt",get:function(){return this.HMt}},{key:"Cyt",get:function(){return this.kTt}},{key:"tAt",get:function(){return this.LTt}},{key:"Uyt",get:function(){return this.Xp.Uyt||this.An}},{key:"QAt",get:function(){return this.Xp.QAt}},{key:"xTt",get:function(){return this.CTt}},{key:"jTt",get:function(){return this.An}},{key:"Yyt",get:function(){return this.bTt}}]),n}(Aa);function IQ(t){for(var n,i,r=LQ(t),e=0,u=null!=(n=t.Igt)?n:[];e<u.length;e++){r=Sy(r,EQ(u[e]))}for(var s=0,o=null!=(i=t.Dyt)?i:[];s<o.length;s++){r=Sy(r,CQ(o[s]))}return r}function EQ(t){for(var n=LQ(t),i=0,r=t.lct;i<r.length;i++){n=Sy(n,SQ(r[i]))}return n}function SQ(t){return LQ(t)}function LQ(t){var n;if(void 0!==t.uyt&&(n=Sy(n,CQ(t.uyt))),void 0!==t.hyt&&(n=Sy(n,CQ(t.hyt))),void 0!==t.ayt)for(var i=0,r=t.ayt;i<r.length;i++){n=Sy(n,CQ(r[i]))}return n}function CQ(t){var n,i;return Iy.tU(null!=(n=t.BAt)?n:fr.ZERO,null!=(i=t.xj)?i:1)}function jQ(t,n){if(zQ(t,n),t.Cn=n.Cn,void 0!==t.Igt&&void 0!==n.Igt&&t.Igt.length===n.Igt.length)for(var i=0;i<t.Igt.length;i++)xQ(t.Igt[i],n.Igt[i]);if(void 0!==t.Dyt&&void 0!==n.Dyt&&t.Dyt.length===n.Dyt.length)for(var r=0;r<t.Dyt.length;r++)RQ(t.Dyt[r],n.Dyt[r])}function xQ(t,n){if(zQ(t,n),void 0!==t.lct&&void 0!==n.lct&&t.lct.length===n.lct.length)for(var i=0;i<t.lct.length;i++)OQ(t.lct[i],n.lct[i])}function OQ(t,n){zQ(t,n)}function zQ(t,n){if(void 0!==t.uyt&&void 0!==n.uyt&&RQ(t.uyt,n.uyt),void 0!==t.hyt&&void 0!==n.hyt&&RQ(t.hyt,n.hyt),void 0!==t.ayt&&void 0!==n.ayt&&t.ayt.length===n.ayt.length)for(var i=0;i<t.ayt.length;i++)RQ(t.ayt[i],n.ayt[i])}function RQ(t,n){t.xj=n.xj,t.BAt=n.BAt}Q(),Nt(),An(),Tn(),tn();var BQ=function(){function t(t,n,i){this.OQ=t,this.zTt=n,this.BTt=i,this.UTt=0}var n=t.prototype;return n.FK=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.PTt(t,n.OQ,n.zTt,n.BTt).catch(ia)];case 1:return i.sent(),[2]}}))}))()},n.Tft=function(){return new Date(br()+this.UTt)},n.PTt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:return r?[4,e.QTt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];ta(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.FTt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.UTt=void 0===u?0:u-br(),[2]}}))}))()},n.FTt=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:switch(n.A8){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.zD)?[4,r.QTt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.zD)&&(s=new Date(u).getTime(),!T(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.QTt=function(t,n,i){return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.hI({zu:n,xI:Tl.GET,oI:Gd.ON,ly:i})];case 1:return[4,u.sent().UN()];case 2:return r=u.sent(),e=new Date(r).getTime(),T(e)?[3,4]:[2,e];case 3:return na(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),UQ=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).tbt=void 0,s.WTt=!0,s.LTt=[],s.eSt=void 0,s.JTt=n,s.GTt=n.WL,s.iSt=i,s.OQ=r,s.sSt=e,s.tSt=new BQ(s.OQ,s.sSt,s.JTt.nSt),s.DTt=u,s}Et(n,t);var i=n.prototype;return i.ZTt=function(t){var n=this.XE;this.WTt=t,n!==this.XE&&this.yo(new _Q)},i.Yn=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d,l,g;return pn(this,(function(w){switch(w.label){case 0:return u=[],s=[],o=t.jyt?Kt.Ah(t.jyt,r.GTt):r.GTt,void 0!==r.tbt?[3,2]:[4,r.tSt.FK(t.Fyt)];case 1:return w.sent(),r.tbt=new DQ(t,r.GTt,o,r.Tft(),r.DTt),r.tbt.yn(bz.Nut,r.Ds),[3,3];case 2:r.tbt.Yn(t,o,r.Tft(),n),w.label=3;case 3:if(0===(a=r.tbt.tAt).length)c=r.LTt.slice(),Ro(r.LTt);else{for(h=a[0].o,f=0;f<r.LTt.length&&r.LTt[f].o!==h;)f++;for(c=r.LTt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<r.LTt.length?l=r.LTt[v]:(l=new mQ(r,d),u.push(l)),s.push(l.Yn(r.iSt,i))}return[4,st.all(s)];case 4:for(w.sent(),(e=r.LTt).push.apply(e,ln(u)),g=0;g<c.length;g++)c[g].fTt();return r.yo(new AQ),[2]}}))}))()},i.Tft=function(){return this.tSt.Tft()},i.uTt=function(t){var n=this.LTt.indexOf(t);if(n>0)return this.LTt[n-1]},i.aTt=function(t){var n=this.LTt.indexOf(t);if(n>=0&&n+1<this.LTt.length)return this.LTt[n+1]},i.Kyt=function(){return this.tbt?this.tbt.Kyt():void 0},i.cbt=function(){return this.tbt&&this.tbt.cbt()},i.iTt=function(t){this.tbt&&this.tbt.iTt(t)},i.gn=function(){this.Bo(),this.eSt=void 0,this.ZTt(!1);for(var t=0,n=this.LTt;t<n.length;t++){n[t].gn()}Ro(this.LTt),this.tbt&&this.tbt.wy()},Ct(n,[{key:"Lyt",get:function(){return this.tbt&&this.tbt.Lyt}},{key:"xyt",get:function(){return this.tbt&&this.tbt.xyt}},{key:"Tbt",get:function(){return this.tbt&&this.tbt.Tbt}},{key:"o",get:function(){return this.tbt&&this.tbt.rI.o}},{key:"xTt",get:function(){var t;return null==(t=this.tbt)?void 0:t.xTt}},{key:"YTt",get:function(){var t;return null==(t=this.tbt)?void 0:t.jTt}},{key:"Cyt",get:function(){return this.tbt?this.tbt.Cyt.map((function(t){return t.href})):[this.VTt]}},{key:"VTt",get:function(){return this.GTt.href}},{key:"Oyt",get:function(){return this.tbt&&this.tbt.rI.Oyt}},{key:"Ryt",get:function(){return this.tbt&&this.tbt.rI.Ryt}},{key:"Pyt",get:function(){return this.tbt&&this.tbt.rI.Pyt}},{key:"zyt",get:function(){return this.tbt&&this.tbt.rI.zyt}},{key:"Byt",get:function(){var t,n,i=(null==(n=this.tbt)||null==(t=n.rI.Byt)?void 0:t.MAt())||0;return k.max(i,QQ)}},{key:"XE",get:function(){return this.WTt}},{key:"tAt",get:function(){return this.LTt}},{key:"HTt",get:function(){return this.YA===$R.FQ?this.fbt:this.XTt}},{key:"qTt",get:function(){var t=this.HTt;if(void 0!==t)for(var n=0,i=this.tAt;n<i.length;n++){var r=i[n];if(r.Cn<=t&&r.jn>t)return r}}},{key:"KAt",get:function(){return this.tbt&&this.tbt.rI.KAt}},{key:"Uyt",get:function(){return this.tbt&&this.tbt.Uyt}},{key:"cTt",get:function(){for(var t=this.LTt.length-1;t>=0;t-=1){var n=this.LTt[t].cTt;if(n)return n}}},{key:"fbt",get:function(){var t=this.cTt;if(void 0!==t){var n=t-this.KTt;return k.max(n,this.XTt)}}},{key:"XTt",get:function(){for(var t=0,n=this.LTt;t<n.length;t++){var i=n[t].qyt;if(void 0!==i)return i}}},{key:"zI",get:function(){return Boolean(this.JTt.zI)}},{key:"KTt",get:function(){var t,n;if(this.JTt.$Tt&&this.YA===$R.FQ)return this.JTt.$Tt;var i=null==(n=this.tbt)||null==(t=n.rI.Qyt)?void 0:t.bAt();return void 0!==i?i:this.YA===$R.FQ?1.5*this.zyt.bAt():0}},{key:"QAt",get:function(){return this.tbt&&this.tbt.QAt}},{key:"YA",get:function(){return this.tbt?this.tbt.YA:void 0}},{key:"Yyt",get:function(){var t;return null==(t=this.tbt)?void 0:t.Yyt}}]),n}(Aa),PQ=function(){function t(t,n,i,r,e){this.hTt=new UQ(t,n,i,r,e)}return Ct(t,[{key:"Sft",get:function(){return this.hTt}}]),t}();tn();var QQ=1e3,YQ=k.pow(2,31)-1,GQ=function(){function t(t,n,i,r,e){var u=this;this.oSt=new ca,this.hSt=yn((function(t){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.tbt.Sft.Tft(),[4,u.mSt(u.tbt.Sft.Cyt,t)];case 1:return i=e.sent(),[4,u.tbt.Sft.Yn(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw ig(r=e.sent())&&u.tbt.Sft.ZTt(!1),r;case 4:return[2]}}))})),this.ASt=r,this.tbt=new PQ(t,n,i,this.oSt.ly,e)}var n=t.prototype;return n.oD=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:n.tbt.Sft.yo(new iE),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.hSt(t)];case 2:return r.sent(),n.tbt.Sft.ZTt(!0),[3,4];case 3:throw na(i=r.sent()),n.rSt=void 0,n.tbt.Sft.ZTt(!1),new A("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.aSt=n.uSt(n.oSt.ly),[2]}}))}))()},n.uSt=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.tbt.Sft.YA!==$R.FQ?[3,3]:[4,ra(n.cSt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.dSt=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return ta(t),(i=n.fSt())>0?[4,ga(k.min(i,YQ),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.hSt(t)];case 3:return e.sent(),n.tbt.Sft.ZTt(!0),[3,6];case 4:throw r=e.sent(),new A("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.gSt=void 0,[7];case 6:return[2]}}))}))()},n.fSt=function(){var t=this.tbt.Sft.Tft().getTime()-this.tbt.Sft.xTt.getTime();return this.tbt.Sft.Byt-t},n._St=function(t){var n=this.tbt.Sft.cbt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.tbt.Sft.iTt(t);var r=this.tbt.Sft.cbt();return r?r.getTime()-t.getTime():NaN},n.lSt=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=n.gSt||(n.gSt=n.dSt(t)),r=kn(i,ca.Iy([t]),!1),e=[n.gSt,n.vSt(r.ly)].filter(ci),[4,st.race(e).catch(ia)];case 2:return s.sent(),[3,5];case 3:return u=s.sent(),i.error=u,i.hasError=!0,[3,5];case 4:return Mn(i),[7];case 5:return[2]}}))}))()},n.vSt=function(t){var n=this.tbt.Sft.Tft(),i=this._St(n);if(!T(i)&&!this.Tr.Sft.Tbt)return this.wSt(i,t)},n.wSt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,ga(t,n)];case 1:return e.sent(),r=i.tbt.Sft.Tft(),i.tbt.Sft.iTt(r),[2]}}))}))()},n.mSt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,i.ASt.pSt(t,{},n)];case 1:return r=e.sent(),[2,(new AP).Vyt(r.ySt,r.lI)]}}))}))()},n.gn=function(){return this.oSt.Ty(),this.aSt=void 0,this.rSt=void 0,this.gSt=void 0,this.tbt.Sft.gn(),st.resolve()},Ct(t,[{key:"Tr",get:function(){return this.tbt}},{key:"W",get:function(){return this.rSt||(this.rSt=this.oD(this.oSt.ly),va(this.rSt)),this.rSt}},{key:"cSt",get:function(){return this.tbt.Sft.YTt&&this.tbt.Sft.YA===$R.FQ?this.lSt(this.oSt.ly):this.W}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),St();var VQ=function(t){function n(n,i){var r;return(r=t.call(this,"aAt")||this).pAt=n,r.ogt=i,r}return Et(n,t),n}(ka),FQ=function(t){function n(n,i){var r;(r=t.call(this)||this).hgt=void 0,r.Zp=n,r.yL=i;for(var e=0,u=r.yL;e<u.length;e++){u[e].Zft=r}return r}Et(n,t);var i=n.prototype;return i.EQ=function(t){t&&this.hgt!==t&&this.bSt(t)},i.kQ=function(t){this.hgt===t&&this.bSt(void 0)},i.bSt=function(t){this.hgt=t,this.yo(new VQ(this,this.hgt))},i.gn=function(){this.Bo();for(var t=0,n=this.yL;t<n.length;t++){n[t].Zft=void 0}Ro(this.yL)},Ct(n,[{key:"ogt",get:function(){return this.hgt}},{key:"YA",get:function(){return this.Zp}},{key:"Z",get:function(){return this.yL.slice()}}]),n}(Aa);tn(),Q(),Nt(),Q(),Nt(),Q(),Nt(),St();var WQ=function(t){function n(n,i,r){var e;return(e=t.call(this,Ma.Xy)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return Et(n,t),n}(ka);function ZQ(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.YA===lw.SI?u=u.concat(a.Z):a.YA===lw.NI&&(s=s.concat(a.Z))}return[XQ(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),HQ(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(ci)}function XQ(t,n,i,r,e){var u=Do(r||[],(function(t){return t.Fut===lw.SI&&t.Rt})),s=[JQ(u,i,t),qQ(u),$Q(u),tY(u,e),nY(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return KQ(n,s)}function HQ(t,n,i,r,e){var u=Do(r||[],(function(t){return t.Fut===lw.NI&&t.Rt})),s=[JQ(u,i,t),tY(u,e),nY(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return KQ(n,s)}function KQ(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function JQ(t,n,i){return function(r){var e=t?t.jlt.o:void 0;if(!ci(e))return r;var u=null==n?void 0:n.Iyt,s=i.Iyt,o=u&&s&&u.zD===s.zD,a=Do(r,(function(t){return t.jlt.o===e}));return o&&a?[a]:r}}function qQ(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function $Q(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter((function(t){return t.Lt===i}));return r.length>0?r:n}}function tY(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.UL.AL.some((function(t){return hS(t.cht,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===Y(e))return e.v}return t}}function nY(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.jlt.hG;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}Q(),Nt(),ht(),Q(),Nt();var iY=function(t){return t.MSt="api",t.TSt="start",t}({});Q(),Nt(),An(),Tn(),tn();var rY={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},eY=function(){function t(t,n,i){void 0===i&&(i=rY),this.OQ=t,this.ISt=n,this.lft=i}var n=t.prototype;return n.SSt=function(t,n,i){var r=this,e=this.lft.maxRetries===1/0?rY:this.lft;return Ob((function(){return r.NSt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.NSt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new Sl({zu:s,oI:Gd.ON,aI:n,zI:r.ISt,xI:Tl.GET,YA:Nl.fI,OI:Dl.dI,ly:i,CI:15e3,jI:5e3}),[4,r.OQ.hI(o)];case 3:return[4,(a=h.sent()).UN(i)];case 4:return[2,{ySt:h.sent(),DSt:s,lI:a.lI}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();Q(),Nt(),An(),Tn();var uY=function(){function t(t){this.ESt=t}return t.prototype.pSt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:u=0,s=r.ESt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.pSt(t,n,i)];case 3:return[2,c.sent()];case 4:return na(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),sY=function(){function t(t){this.slt=t}return t.prototype.pSt=function(t,n,i){var r=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,r.slt.Tot(t)];case 1:if(n=i.sent())return[2,{ySt:n.data,DSt:n.locationURL,lI:n.responseURL}];throw new A("Manifest fetch from cache unsuccesful")}}))}))()},t}(),oY=function(){function t(t){this.kSt=t}return t.prototype.pSt=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,r.kSt.SSt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function aY(t,n){return new uY([new sY(n),new oY(t)])}var cY=function(){function t(t,n,i){this.ASt=t,this.Iv=n,this.xSt=i}var n=t.prototype;return n.pSt=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return[4,r.ASt.pSt(t,n,i)];case 1:return e=u.sent(),[4,r.LSt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.LSt=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.Iv.Cot({key:LO(t.DSt),locationURL:Ol(t.DSt),responseURL:Ol(t.lI),data:t.ySt,references:[n.xSt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();Q(),Nt(),St();var hY=function(t){function n(){return t.call(this,Ma.vb)||this}return Et(n,t),n}(ka);Q(),Nt(),St();var fY=function(t){function n(){return t.call(this,Ma._b)||this}return Et(n,t),n}(ka);sn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),St();var vY=function(t){function n(){return t.call(this)||this}Et(n,t);var i=n.prototype;return i.CSt=function(t){return t.fk=Qw.LOADED,this.tt(t),t},i.jSt=function(t){for(var n=0,i=this.Z.AL;n<i.length;n++){var r=i[n];if(r.YL===t)return r}},n}(NA);function dY(t,n){return""===n?t:t+" "+n}Q(),Nt(),Q(),Nt(),Zt(),St(),Q(),Nt();var lY=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).XD=e,s.OSt=u,s}return Et(n,t),n.prototype.EB=function(t){return this.U===t.U},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Wg(qw(t),{get attributes(){return t.XD},get eventID(){var n;return""+(null!=(n=t.OSt)?n:"")}})}(this)),this.Za}}]),n}(oy),gY=function(t){function n(n){var i;return(i=t.call(this)||this).ATt=void 0,i.zSt=function(){var t,n,r=null!=(n=null==(t=i.ATt.Kyt())?void 0:t.Cn)?n:0;if(r>0)for(var e=0,u=i.Z.AL;e<u.length;e++){bA(u[e],r)}for(var s=0,o=i.ATt.tAt;s<o.length;s++){var a=o[s];if(a.jn>r)for(var c=0,h=a.Dyt;c<h.length;c++){var f=h[c];i.PSt(f,a,r)}}},i.CQ=n,i}Et(n,t);var i=n.prototype;return i.RSt=function(t){var n=this.CQ.Wk(hA.MQ,"","","",void 0,Yw.EVENT_STREAM);return n.YL=t,this.CSt(n),n},i.PSt=function(t,n,i){var r,e,u,s=t.A8,o=null!=(r=t.zD)?r:"",a=null!=(e=t.xj)?e:1,c=null!=(u=t.BAt)?u:fr.ZERO,h=dY(s,o),f=this.jSt(h);f||(f=this.RSt(h));for(var v=0,d=t._X;v<d.length;v++){var l=d[v];if(!wY(l,f)){var g=yY(l,a,c,n);g.dB>i&&f.RQ(g)}}},i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.ATt=t,n.ATt.yn(Ma.fb,n.zSt),n.zSt(),[2]}}))}))()},i.tr=function(){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:for(n.ATt&&(n.ATt.fn(Ma.fb,n.zSt),n.ATt=void 0),i=0,r=n.Z.AL;i<r.length;i++)e=r[i],n.CQ.BQ(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(vY);function wY(t,n){var i=t.o;if(void 0!==i&&Do(n.L.AL,(function(n){return n.OSt===i&&n.U===t.rI})))return!0;return!1}function yY(t,n,i,r){var e=t.o,u=t.jR.toSigned().subtract(i),s=t.ct,o=t.rI,a=t.XD,c=u.toNumber()/n+r.Cn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.dTt;return new lY(c,f,o,a,e)}function mY(t,n,i,r,e){var u=[],s=Do(i,(function(t){return t.A8===Ds}));if(void 0!==s){var o=s.zD?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.zD.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.A8!==Ds)for(var h=0,f=qs(c.A8);h<f.length;h++){var v=f[h],d=e&&c.y8?[c.y8]:[];u.push({NS:v,XY:d,qY:void 0,hY:void 0})}}if(u.length)return{IF:t,Mpt:{BSt:o,DF:s.DF},bpt:u,USt:n===lw.SI?r.slice():[],QSt:n===lw.NI?r.slice():[],T8:!1}}}}function AY(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=As();return pY(r,e,t.bpt),pY(r,e,n.bpt),{IF:t.IF,Mpt:{BSt:t.Mpt.BSt,DF:null!=(i=t.Mpt.DF)?i:n.Mpt.DF},bpt:r,USt:_Y(t.USt,n.USt,Oo),QSt:_Y(t.QSt,n.QSt,Oo),T8:t.T8||n.T8||!1}}function pY(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.NS.ZA,s=void 0;n.has(u)?(s=n.get(u)).XY=_Y(s.XY,e.XY,kY):(s=ys({},e),t.push(s),n.set(u,s))}}function _Y(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function kY(t,n){for(var i=0;i<t.length;i++){if(Hc(t[i],n))return!0}return!1}function MY(t,n,i){var r,e=t.GY;if(e){for(var u=t.gX,s=[],o=0,a=t.cht;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=mY(n||{},t.YA,e,s,i)}for(var h=0,f=t.lct;h<f.length;h++){r=AY(r,bY(f[h],n,i))}return r}function bY(t,n,i){return mY(n||{},t.YA,t.GY||[],[t.VN],i)}function TY(t){return t?t.bpt.map((function(n){var i=NY(t.IF,n.NS),r=t.Mpt.BSt;return{NS:n.NS,XY:n.XY,hY:n.hY,HV:[{initDataTypes:[n.NS.GA],audioCapabilities:DY(t.USt,r,null==i?void 0:i.audioRobustness),videoCapabilities:DY(t.QSt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function NY(t,n){switch(n.YA){case Vs.BA:return t.widevine;case Vs.zA:return t.playready;case Vs.QA:return t.fairplay;case Vs.UA:return t.clearkey}}function DY(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function IY(t,n){var i=function(t){var i=n.indexOf(t.NS.ZA);return i>=0?i:n.length};return yo(t,(function(t,n){return i(t)-i(n)}))}Q(),Nt(),Q(),Nt(),An(),St(),Sn(),Tn();var EY=function(t){function n(n){var i;(i=t.call(this)||this).Jft=[],i.Yn=function(){for(var t=[],n=0,r=i.ATt.tAt;n<r.length;n++)for(var e=0,u=r[n].Igt;e<u.length;e++){var s=u[e];if(s.YA===lw.II&&s.lct.length>0){var o=s.lct[0];t.push(o),i.HSt(o)||i.RSt(o),-1===i.Jft.indexOf(o)&&(i.Jft.push(o),o.yn(bz.Nut,i.WSt)),i.qSt(o)}}i.FSt(t)},i.qSt=function(t){var n=i.XSt(t);n&&t&&n.UI!==iA.Ch&&(i.ZSt(),function(t,n){var i=t.eat,r=t.ubt();if(!r)return;var e=r.Dbt,u=r.Ebt,s=t.ji,o=t.Ti,a=En(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(ro(i.A8,LY)||ro(i.A8,CY)){var r=i.zD.match(SY);if(r){var e=En(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.ZAt),2),c=a[0],h=a[1],f=e;for(;f&&f.ult<=u.ult;){for(var v=t.rbt.ct||f.ct,d=jY(n,f,t.xdt(f).zu,s,o,c,h,v),l=0;l<d.length;l++){var g=d[l];n.RQ(g)}f=i.Edt(f)}}(t,n))},i.CQ=n;var r=i;return i.WSt=function(){r.qSt(this)},i}Et(n,t);var i=n.prototype;return i.RSt=function(t){var n=this.CQ.Wk(hA.MQ,t.o,"thumbnails","",!1,Yw.DEFAULT);return n.UI=iA.Jn,this.CSt(n),n},i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.ATt=t,n.ATt.yn(Ma.fb,n.Yn),n.Yn(),[2]}}))}))()},i.FSt=function(t){this.YSt(t),this.VSt()},i.VSt=function(){for(var t=[],n=0,i=this.Z.AL;n<i.length;n++){var r=i[n];this.GSt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.YSt=function(t){for(var n=[],i=0,r=this.Jft;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];Co(this.Jft,s)}},i.tr=function(){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:for(n.ATt&&(n.ATt.fn(Ma.fb,n.Yn),n.ATt=void 0),i=0,r=n.Jft;i<r.length;i++)r[i].fn(bz.Nut,n.WSt);for(n.Jft.length=0,e=0,u=n.Z.AL;e<u.length;e++)s=u[e],n.CQ.BQ(s);return[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){return this.WSt=void 0,t.prototype.gn.call(this)},i.ZSt=function(){var t,n,i=null!=(n=null==(t=this.ATt.Kyt())?void 0:t.Cn)?n:0;if(i>0)for(var r=0,e=this.Z.AL;r<e.length;r++){bA(e[r],i)}},i.HSt=function(t){return this.Z.AL.some((function(n){return n.o===t.o}))},i.XSt=function(t){return Do(this.Z.AL,(function(n){return n.o===t.o}))},i.GSt=function(t){return this.Jft.some((function(n){return t.o===n.o}))},n}(vY),SY=/^(\d+)x(\d+)$/,LY="http://dashif.org/guidelines/thumbnail_tile",CY="http://dashif.org/thumbnail_tile";function jY(t,n,i,r,e,u,s,o){var a=[],c=n.lB,h=u*s,f=r/u,v=e/s,d=k.round(f),l=k.round(v),g=o/h;if(1===h){var w=c+g;return xY(t,c,w,i)?a:[new oy(c,w,i,!1)]}for(var y=0;y<s;y++)for(var m=0;m<u;m++){var A=c+(y*u+m)*g,p=A+g,_=i+"#xywh="+k.round(m*f)+","+k.round(y*v)+","+d+","+l;if(xY(t,A,p,_)||a.push(new oy(A,p,_,!1)),p>=n.dB)return a}return a}function xY(t,n,i,r){return t.L.AL.some((function(t){return t.lB===n&&t.dB===i&&t.U===r}))}Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt();var OY=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).KSt=r,o.JSt=e,o.tNt=u,o}return Et(n,t),n.prototype.EB=function(t){return Kc(this.U,t.U)},Ct(n,[{key:"xR",get:function(){return this.KSt}},{key:"zD",get:function(){return this.JSt}},{key:"$St",get:function(){return this.tNt}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Wg(qw(t),{get schemeIDURI(){return t.xR},get value(){return t.zD},get emsgID(){return t.$St}})}(this)),this.Za}}]),n}(oy),zY=function(t){function n(n){var i;return(i=t.call(this)||this).CQ=n,i}Et(n,t);var i=n.prototype;return i.Cft=function(t,i,r){var e=jm.dj(Rc(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Tm(e,n)&&i.push(e)}return i}(e,pm.IC);if(u.length){var s=n.iNt(e,i,r);this.eNt(u,s,r)}}},i.eNt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.cj?e.jR.toNumber()/e.xj+i:n+e.PR/e.xj)+e.OR/e.xj;"https://aomedia.org/emsg/ID3"===e.xR||"https://developer.apple.com/streaming/emsg-id3"===e.xR?this.sNt(e,u):this.nNt(e,u,s)}},i.nNt=function(t,n,i){var r=dY(t.xR,t.zD),e=this.jSt(r);e||(e=this.rNt(r),this.CSt(e)),e.RQ(new OY(n,i,t.xR,t.zD,t.o,t.RR))},i.sNt=function(t,n){var i=FL(Rc(t.RR));if(i){var r=dY(t.xR,t.zD),e=this.jSt(r);e||(e=this.oNt(r),this.CSt(e));for(var u=0,s=i.Y6;u<s.length;u++){var o=s[u],a=new rC(n,o);mL(a,e.L.AL),e.RQ(a)}}},i.rNt=function(t){var n=this.CQ.Wk(hA.MQ,"","","",void 0,Yw.EMSG);return n.YL=t,n.UI=iA.FL,n},i.oNt=function(t){var n=this.CQ.Wk(hA.MQ,"","","",void 0,Yw.ID3);return n.YL=t,n.UI=iA.FL,n},i.tr=function(){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.AL;i<r.length;i++)e=r[i],n.CQ.BQ(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.iNt=function(t,n,i){var r=Nm(t,pm.DC);return r?Er(r.KR,r.xj)+i:n},n}(vY),RY=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zSt=function(){var t,i,r=null!=(i=null==(t=n.ATt.Kyt())?void 0:t.Cn)?i:0;n.NQ(r)},n}Et(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.ATt=t,n.ATt.yn(Ma.fb,n.zSt),n.zSt(),[2]}}))}))()},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.ATt&&(n.ATt.fn(Ma.fb,n.zSt),n.ATt=void 0),[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(zY);Q(),Nt(),Q(),Nt(),An(),Tn();var BY=function(){function t(t){this.hNt=!1,this.slt=t}var n=t.prototype;return n.Iot=function(t,n){return this.hNt?this.slt.Iot(t,n):st.resolve(!1)},n.Eot=function(t,n){return this.hNt?this.slt.Eot(t,n):st.resolve(void 0)},n.Tot=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.slt.Tot(t)];case 1:return i=r.sent(),n.hNt=void 0!==i,[2,i]}}))}))()},n.VJ=function(t){return this.slt.VJ(t)},t}();Q(),Nt(),St();var UY=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Et(n,t);var i=n.prototype;return i.yz=function(){var t;return null!=(t=this.pz)?t:0},i.qL=function(){this.ta.LE=1/0},i.bz=function(){return!0},n}(XM),PY=[Ma.mb,Ma.Ab,Ma.Tb,Ma.gb,Ma.Sb],QY=[Ma.pb,Ma.kb,Ma.$y,Ma.Ky],YY=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).ENt=void 0,a.FNt=void 0,a.s7=!1,a.yDt=NaN,a.dV=void 0,a.fV=void 0,a.G8=!1,a.YNt=void 0,a.F8=void 0,a.TDt=!1,a.bDt=0,a.MDt=0,a.iIt=!1,a.zQ=new ca,a.DNt=new sh,a.wDt=!1,a.tbt=void 0,a.NIt=void 0,a.WTt=!0,a.qNt=!0,a.HIt=void 0,a.Fo=GM.PP(),a._V=oT.pG,a.fDt=void 0,a.iF=!0,a.wc=void 0,a.rDt=void 0,a.Zpt=void 0,a.Lpt=[],a.kG=!1,a.MNt=new ca,a.INt=st.resolve(),a.w7=new ca,a.m7=st.resolve(),a.yIt=!1,a.qIt=!1,a.TNt=new ca,a.SNt=st.resolve(),a.RNt=void 0,a.vpt=void 0,a.ZNt=0,a.HNt=0,a.XNt=0,a.AV=new Qk,a.BIt=void 0,a.gNt={Bz:0,Uz:0,Qz:0},a.vV=void 0,a.aV=void 0,a._It=function(t){var n,i,r,e;"aAt"===(null==t?void 0:t.type)&&(e=t.ogt),e&&(null==(n=e.Zft)?void 0:n.YA)===lw.SI&&(null==(r=a.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?a.bNt(!0):a.bNt()},a.AAt=function(t){var n;null==(n=a.ENt)||n.AAt(t)},a.xc=function(){a.yo(new Cg(a.LE,a.NE))},a.k8=function(t){a.yo(new WQ(a.LE,t.GA,t.Vb))},a.cIt=function(t){a.ZNt+=t.Yz,a.yo(t)},a.lIt=function(t){var n=t.segments.filter((function(t){return t.adt}));t.track===lw.SI?a.HNt=n.length:t.track===lw.NI&&(a.XNt=n.length)},a.ptt=function(){var t=a.ct;T(t)||t===a.yDt||(a.yDt=t,a.yo(new Eb(a.yDt)))},a.DDt=function(){a.yNt(),a.ZIt()},a.IDt=function(t){a.qIt||!a.OE||a.wk||(a.qIt=!0,a.yo(null!=t?t:new Lb(a.LE)))},a.aDt=function(t){a.Ds(t),a.iIt||(a.iIt=!0,a.NDt.CDt())},a.hDt=function(){a.tbt.Sft.fn(Ma.ub,a.hDt),a.yo(new iE)},a.fIt=function(t){var n;if(t.errorObject.code===wd.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.ENt)?void 0:n.dAt.every((function(t){return!t.sgt}))))return;a.eG(t.errorObject),a.yo(t)},a.dIt=function(t){a.eG(t.errorObject)},a.fAt=function(t){$o(t)||a.eG(new md(wd.MEDIA_DECODE_ERROR,t.message,t))},a.yNt=function(){if(!a.KE)if(a.VNt())if(a.WNt()){var t=a.tbt.Sft.HTt;a.Wb(t,!0)}else;else{var n=a.tbt.Sft.HTt;a.Wb(n,!0)}},a.JIt=function(t){a.TDt=a.wk,a.yo(t)},a.iDt=function(t){var n=a.TDt,i=a.wk;a.TDt=i,n&&!i&&a.yo(t),a.IDt()},a.gIt=function(){var t=a.Tk,n=a.yk;a.bDt===t&&a.MDt===n||(a.bDt=t,a.MDt=n,a.yo(new xA))},a.QIt=function(t){var n=t.Ht;n.UI===iA.Jn?(a.xIt(n),a.jIt=n):n===a.jIt&&n.UI===iA.Ch&&(a.jIt=void 0,a.OIt())},a.KIt=function(){a.G8||a.HIt&&(a.HIt.sM(),a.HIt=void 0)},a.GIt=function(t){a.G8||a.HIt&&(a.HIt.nM(t),a.HIt=void 0)},a.uDt=function(){a.dDt().catch(a.fAt)},a.LDt=function(t){a.eG(_w(t.lt))},a.EDt=function(){a.uNt()},a.kDt=function(){a.cNt()},a.xDt=function(t){a.dNt(t.GY)},a.OQ=n,a.slt=new BY(u),a.cz=s,a.mNt=o,a.UG=r,a.UG.yn("RK",a.EDt),a.UG.yn("UK",a.kDt),a.mV=e,a.lft=i.retryConfiguration,a.Oz=new wM,a.Pz=new wM,a.SV=new Gk(n),a.SV.yn("contentProtectionsTracked",a.xDt),a.cz.yn(Ma.Zy,a.ptt),a.cz.yn(Ea.Xy,a.k8),a.cz.yn(Ma.qy,a.IDt),a.cz.yn(Ma.Mb,a.JIt),a.cz.yn(Ma.bb,a.iDt),a.cz.yn(Ma.yb,a.gIt),a.cz.yn(Ma.Eb,a.xc),a.cz.yn([Ma.so,Ma.wb],a.DDt),a.cz.yn(QY,a.Ds),a.cz.yn(eA.ua,a.LDt),a.cz.zV=a.SV,a.cz.Rtt=a,a.cz.yn([Ma.Vy,Ma.Yy],a.Ds),a.cz.yn(Ma.Cb,a.AAt),a.NDt=new GY(a,a.cz),a.OV=new ZA(a.NDt,!0),a.OV.yn(zA.rP,a.yNt),a.OV.yn(RA,a.Ds),a.UIt=new yM,a.UIt.yn(Yg.aa,a.QIt),a.PIt=new yM,a.CQ=a.jDt(),a.cDt=new gY(a.CQ),a.lDt=new EY(a.CQ),a.LV=new IA(a.cz,a.OQ),a.SDt=new cA,a.Ul=new Fk([a.UIt,a.cDt.Z,a.lDt.Z,a.LV.Z,a.SDt]),a}Et(n,t);var i=n.prototype;return i.aNt=function(t){return!!this.vV&&this.vV.N$(t)},i.Yp=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.cz.$n(t)];case 1:return n.vV=i.sent(),n.uNt(),n.cNt(),n.vV.T5(n.ct),[2]}}))}))()},i.lNt=function(t){return this.vV.D$(t)},i.dNt=function(t){return this.vV.k$(t)},i.fNt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.gNt=t._Nt,t.vV?[4,t.cz.tr()]:[3,2];case 1:n.sent(),t.vV=void 0,n.label=2;case 2:return[2]}}))}))()},i.I3=function(){this.vV.I3()},i.w3=function(){var t=this.ct;this.vV.ct<t&&this.vV.T5(t),this.vV.w3()},i.vNt=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return i=n.vV,r=[],i.p5&&r.push(mS(i.p5,t)),i.A5&&r.push(mS(i.A5,t)),[4,st.all(r)];case 1:return e.sent(),[2]}}))}))()},i.wNt=function(t,n,i,r,e,u){var s=this.cz,o=this.vV;return new zU(s,o,t,n,i,r,e,u,this.mNt,s,this.vpt,this.lft,this.Lpt,this.SV)},i.pNt=function(t,n,i){return t.D$(n,i,this.vV)},i.ANt=function(t,n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return(u=e.wNt(e.OQ,e.UG,e.slt,e.wc,t,r)).yn(bz.Dut,e.yNt),u.yn(Ma.gb,e.Ds),[4,u.FK(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.bNt=function(t){void 0===t&&(t=!1),this.MNt.Ty(),this.w7.Ty(),this.TNt.Ty(),this.TNt=new ca,this.SNt=ea(this.NNt(this.INt,this.m7,this.SNt,t,this.TNt.ly),this.TNt).catch(this.fAt)},i.NNt=function(t,n,i,r,e){var u=this;return yn((function(){var s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:return[4,st.all([t,n,i])];case 1:return v.sent(),ta(e),[4,ra(u.DNt.rM,e)];case 2:return v.sent(),[4,(s=u.ENt).sct()];case 3:return v.sent(),u.w3(),ta(e),o=s.kc,a=s.dAt,c=s.lAt,h=u.kNt(o,c,o,a,!1),f=u.LNt(c,h),r||!u.aNt(f)?[3,5]:[4,u.xNt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.kNt(o,c,o,a,!0),f=u.LNt(c,h),[4,u.CNt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return ta(e),u.wk?u.Wb(u.LE):u.jNt(),u.ONt(),[2]}}))}))()},i.xNt=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return e=r.ENt,[4,r.lNt(i)];case 1:return u.sent(),r.RNt=i,[4,r.pNt(e,t,n)];case 2:return u.sent(),[4,e.rct(_z.Uat)];case 3:return u.sent(),[2]}}))}))()},i.CNt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:return u=e.ENt,e.T7(),e.PNt(),s=e.zNt,[4,e.fNt()];case 1:return a.sent(),[4,e.Yp(i)];case 2:return a.sent(),e.RNt=i,[4,e.pNt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),va(o=e.BNt(s,!1,!0,r)),[4,u.rct(_z.Uat)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.E7(),e.UNt(),[7];case 8:return[2]}}))}))()},i.CE=function(t,n){this.Wb(t,t===1/0)},i.Y8=function(){return!!this.wk&&(!(!this.ENt||!this.ENt.$pt)&&this.zNt===this.ENt.jn)},i.VNt=function(){var t,n,i=this.GNt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.uV)?void 0:t.jn)?n:this.zNt,e=i.Cn(0);return r>=e||wr(r,e,.001)},i.WNt=function(){var t;if(!this.tbt)return!1;if(this.tbt.Sft.YA!==$R.FQ)return!1;var n=null==(t=this.ENt)?void 0:t.kc;if(n&&n.Eut)return!0;for(var i=[],r=0,e=this.tbt.Sft.tAt;r<e.length;r++){var u=e[r],s=u.qyt,o=u.dTt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new GM(i).mP();return function(t,n,i){if(!n.V||!i.V)return GM.PP();var r=n.Cn(0),e=n.jn(n.V-1),u=t.Sn(i)._P().Sn(t).pP(n);return GM.RP(u.Cn(0),u.jn(u.V-1)).AP(u).DP((function(t,n){return t<r&&n<=e&&n-t>Dr}))}(this.QNt,this.GNt,a).V>0},i.$Nt=function(t){this.Fo=this.Fo.pP(t)},i.uIt=function(t){t.yn(PY,this.Ds),t.yn(Ma.Ib,this.cIt),t.yn(Ma.Qy,this.lIt),t.yn(eA.ua,this.dIt),t.yn(Ma.Yy,this.fIt),t.yn(Ma.Ab,this.gIt),t.yn("aAt",this._It),t.yn("Upt",this._It)},i.vIt=function(t){t.fn(PY,this.Ds),t.fn(Ma.Ib,this.cIt),t.fn(Ma.Qy,this.lIt),t.fn(eA.ua,this.dIt),t.fn(Ma.Yy,this.fIt),t.fn(Ma.Ab,this.gIt),t.fn("aAt",this._It),t.fn("Upt",this._It)},i.wIt=function(t){t.yn(Ma.mb,this.Ds)},i.mIt=function(t){t.fn(Ma.mb,this.Ds)},i.hIt=function(){if(this.ENt){var t=Do(this.ENt.lAt,(function(t){return t.Fut===lw.NI}));if(t)return t.PL}},i.eIt=function(t){var n,i=null==(n=this.tbt)?void 0:n.Sft;if(!i)return GM.PP();var r=i.XTt,e=t?i.cTt:i.fbt;if(void 0===r||void 0===e)return GM.PP();if(!t){var u=this.JNt;u.V>0&&u.jn(u.V-1)>e&&(e=k.min(u.jn(u.V-1),i.cTt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),GM.RP(r,e).fP()},i.$n=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:ta(n),u=i.tbt.Sft;try{r=u.qTt,e=u.HTt}catch(t){throw new A("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new A("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new A("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.pIt(t.textTracks),i.T7(),s=i.Mgt(r),o=ZQ(r,s,void 0,void 0,i.Zpt),a=i.kNt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.LNt(o,a),[4,i.Yp(c)];case 1:return f.sent(),i.RNt=c,ta(n),[4,i.ANt(r,s,o,a)];case 2:return h=f.sent(),ta(n),i.AIt(h),i.E7(),ta(n),[4,h.rct()];case 3:return f.sent(),ta(n),!i.yIt&&e>0&&i.Wb(e,!0,iY.TSt),i.kG||(i.jNt(),i.bIt()),[2]}}))}))()},i.jNt=function(){this.MNt.Ty(),this.MNt=new ca,this.INt=ea(this.MIt(this.INt,this.SNt,this.MNt.ly),this.MNt).catch(this.fAt)},i.TIt=function(){this.MNt.Ty()},i.MIt=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return[4,st.all([t,n])];case 1:s.sent(),ta(i),s.label=2;case 2:return(u=null==(e=r.ENt)?void 0:e.kc)?[4,r.SIt(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.SIt=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:ta(n),e=i.ENt,s.label=1;case 1:return i.tbt.Sft.YA!==$R.FQ||void 0!==(null==(r=i.aTt(t))?void 0:r.qyt)?[3,4]:[4,ra(i.NIt.cSt,n)];case 2:return s.sent(),[4,i.IIt()];case 3:return s.sent(),[3,1];case 4:return ta(n),[4,i.IIt()];case 5:s.sent(),ta(n),s.label=6;case 6:return e.Hpt()?[3,9]:[4,e.zy(tB.jgt,n)];case 7:return s.sent(),[4,i.IIt()];case 8:return s.sent(),[3,6];case 9:return ta(n),[4,i.IIt()];case 10:return s.sent(),ta(n),(u=i.aTt(t))?i.DIt(u)?[4,i.EIt(u,n)]:[3,12]:(i.I3(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.kIt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.DIt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.wc)?void 0:n.seamlessSwitchStrategy)?u:$M.Mz;if(s===$M.Tz)return!0;if(s===$M.Sz)return!1;var o=this.ENt,a=null==o?void 0:o.kc,c=null==o?void 0:o.lAt,h=ZQ(t,this.Mgt(t),a,c,this.Zpt),f=this.kNt(t,h,a,c,!1);if(s===$M.CLEAR_ONLY&&((null==(i=this.ENt)?void 0:i.ypt)||f)||s===$M.SAME_DRM_ONLY&&!((null==(r=this.ENt)?void 0:r.ypt)&&f||!(null==(e=this.ENt)?void 0:e.ypt)&&!f))return!1;var v=this.LNt(h,f);return this.aNt(v)},i.LIt=function(){return!0},i.xIt=function(t){for(var n=this.CIt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.UI=iA.Ch)}},i.ONt=function(){if(void 0!==this.jIt){if(this.jIt.GL){var t=Do(this.ht.AL,(function(t){return t.Rt}));void 0!==t&&this.jIt.gs===t.gs||(this.jIt.UI=iA.Ch)}}else this.OIt()},i.OIt=function(){if(!this.CIt().length){var t=Do(this.ht.AL,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.AL.filter((function(t){return t.GL})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.UI=iA.Jn,void(this.jIt=r)}}},i.CIt=function(){return this.nt.AL.filter((function(t){return t.UI===iA.Jn&&(t.Lt===hA.yQ||t.Lt===hA.AQ)}))},i.RIt=function(t){if(t&&this.jIt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.jIt,t.nt.AL);n&&(n.UI=iA.Jn)}},i.EIt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:u=i.ENt,s=i.FNt,o=i.RNt,g.label=1;case 1:return g.trys.push([1,16,,22]),ta(n),a=u.kc,c=u.lAt,h=i.Mgt(t),f=ZQ(t,h,a,c,i.Zpt),v=i.kNt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),d=i.LNt(f,v),[4,u.sct()];case 2:return g.sent(),i.w3(),ta(n),s&&s.kc===t?i.aNt(d)?[4,i.lNt(d)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.RNt=d,[3,11];case 5:return s?[4,s.gn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.aNt(d)?[4,i.lNt(d)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.RNt=d,[4,i.ANt(t,h,f,v)];case 10:s=g.sent(),i.FNt=s,i.wIt(s),i.PIt.TL=s.nt,s.hct(u),g.label=11;case 11:return[4,s.rct()];case 12:g.sent(),ta(n),g.label=13;case 13:return i.zNt<t.Cn?[4,i.cz.zy(Ma.Eb,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return ta(n),i.AIt(s),[3,22];case 16:return $o(l=g.sent())?s?[4,s.sct()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.RNt!==o?i.aNt(o)?[4,i.lNt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.RNt=o,g.label=21;case 21:throw l;case 22:return(null==(e=i.wc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.zIt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.zIt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.BIt?[3,1]:(i.BIt=r,[3,5]);case 1:if(!(r-i.BIt>900))return[3,5];i.BIt=r,i.PNt(),e=k.max(i.zNt,t.Cn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.BNt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.UNt(),[7];case 5:return[2]}}))}))()},i.kIt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return ta(n),[4,i.ENt.sct()];case 1:return g.sent(),i.w3(),[4,i.vNt(t.Cn)];case 2:g.sent(),ta(n),i.I3(),g.label=3;case 3:return!i.cz.OE&&i.zNt<t.Cn?[4,i.cz.zy([Ma.Eb,Ma.qy],n)]:[3,5];case 4:return g.sent(),[3,3];case 5:return ta(n),r=i.ENt.kc,e=i.ENt.lAt,u=i.Mgt(t),s=ZQ(t,u,r,e,i.Zpt),o=i.kNt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.LNt(s,o),i.ENt?(i.UIt.fn(Yg.aa,i.QIt),[4,i.ENt.gn()]):[3,7];case 6:g.sent(),i.UIt.yn(Yg.aa,i.QIt),i.ENt=void 0,g.label=7;case 7:return i.FNt?[4,i.FNt.gn()]:[3,9];case 8:g.sent(),i.FNt=void 0,g.label=9;case 9:return i.PNt(),i.T7(),c=k.max(i.zNt,t.Cn),[4,i.fNt()];case 10:return g.sent(),[4,i.Yp(a)];case 11:return g.sent(),i.RNt=a,[4,i.ANt(t,u,s,o)];case 12:h=g.sent(),i.AIt(h),g.label=13;case 13:g.trys.push([13,,20,21]),f={stack:[],error:void 0,hasError:!1},g.label=14;case 14:return g.trys.push([14,17,18,19]),va(v=i.BNt(c,!1,!0,n)),[4,h.rct()];case 15:return g.sent(),d=kn(f,ca.Iy([n]),!1),[4,st.race([v,h.zy([tB.jgt],d.ly)])];case 16:return g.sent(),[3,19];case 17:return l=g.sent(),f.error=l,f.hasError=!0,[3,19];case 18:return Mn(f),[7];case 19:return[3,21];case 20:return i.E7(),i.UNt(),[7];case 21:return[2]}}))}))()},i.IIt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return(n=t.FNt)?n.kc.Eut?[4,n.gn(!0)]:[3,2]:[2];case 1:i.sent(),t.FNt=void 0,i.label=2;case 2:return[2]}}))}))()},i.Mgt=function(t){for(var i=[],r=[],e=0,u=t.Ypt;e<u.length;e++){var s=u[e];if(gw(s.YA))if(0===s.lct.length)this.yo(new qR("No supported representation found in the AdaptationSet with mimetype : "+s.YA));else if(s.YA===lw.SI){var o;(o=i).push.apply(o,ln(s.Igt))}else{var a;(a=r).push.apply(a,ln(s.Igt))}}var c=[];return i.length>0&&c.push(n.FIt(lw.SI,i)),r.length>0&&c.push(n.FIt(lw.NI,r)),c},i.LNt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return AR.Wdt(null!=(n=t.Kft)?n:t.lct,PM(t.Fut,f.Zpt))})).map((function(t){return{VN:t.VN}})),d=null==(r=this.wc)||null==(i=r.dash)?void 0:i.desiredTimescale,l=(null==(e=this.wc)?void 0:e.seamlessSwitchStrategy)!==$M.Sz&&(null==(u=this.wc)?void 0:u.seamlessSwitchStrategy)!==$M.CLEAR_ONLY&&(null==(s=this.wc)?void 0:s.seamlessSwitchStrategy)!==$M.SAME_DRM_ONLY&&(null!=(h=null==(a=this.wc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:Kt.Ys.jp),g=null==(c=this.wc)?void 0:c.useManagedMediaSource;return{YA:OA.FQ,E5:v,yV:TY(n),T8:null==n?void 0:n.T8,jp:l,T3:d,U5:g}},i.kNt=function(t,i,r,e,u){var s,o,a,c=this.wc.contentProtection,h=n.YIt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.wc)?void 0:s.seamlessSwitchStrategy)?a:$M.Mz;if(f!==$M.Sz&&f!==$M.CLEAR_ONLY&&f!==$M.SAME_DRM_ONLY){var v=null==(o=this.ENt)?void 0:o.ypt;if(!u&&void 0!==v){var d=!v.T8;if(f===$M.Mz&&d&&!this.LIt())return;return v}var l=!u&&f===$M.Mz;if(void 0!==(h=this.VIt(t,c,r,e,l)))return h.T8=!0,h}},i.VIt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.uTt(s):this.aTt(s))){var a=ZQ(s,this.Mgt(s),r,e,this.Zpt),c=n.YIt(a,i);if(u){var h=this.LNt(a,c);if(!this.aNt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.pIt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.LV.xQ(i)}jA(this.LV.Z)},i.Rk=function(){var t,n=this.KE;this.qNt=!0,n||(this.G8||(this.GIt(new qo),this.WIt()),(null==(t=this.aV)?void 0:t.zP)&&this.aV.zk(),this.ZIt())},i.Pk=function(){this.HIt||(this.HIt=new sh),this.XIt();var t=this.HIt.rM;return va(t),t},i.XIt=function(){if(this.qNt=!1,this.s7=!0,this.qIt=!1,this.tIt(),this.OE){var t=this.GNt;t.V>0&&this.Wb(t.Cn(0))}this.G8||this.r7().then(this.KIt,this.GIt),this.yNt(),this.ZIt()},i.r7=function(){return this.cz.Pk()},i.WIt=function(){this.cz.Rk()},i.T7=function(){this.G8||(this.qNt=this.KE,this.G8=!0,this.WIt())},i.E7=function(){this.G8&&(this.G8=!1,this.qNt||this.r7().then(this.KIt,this.GIt),this.yNt(),this.ZIt())},i.ZIt=function(){var t=this.iF,n=this.KE;t!==n&&(this.iF=n,n?this.yo(new Db(this.LE)):this.yo(new Ib(this.LE)))},i.Wb=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=iY.MSt),this.yIt=!0,this.MNt.Ty(),this.w7.Ty(),this.kG=!0,this.F8=t,this.qIt=this.qIt&&this.Y8(),this.$Nt(this.JNt),this.JIt(new Cb(this.LE)),this.w7=new ca,this.m7=ea(this.p7(t,this.INt,this.m7,this.SNt,this.w7.ly,n,i),this.w7).catch(this.fAt),this.m7},i.$It=function(){this.w7.Ty()},i.p7=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=iY.MSt),void 0===o&&(o=!1);var a=this;return yn((function(){var c,h,f,v,d,l,g,w,y,m,A,p,_,k,M,b,T,N;return pn(this,(function(D){switch(D.label){case 0:null==(c=a.aV)||c.zk(),0,D.label=1;case 1:return D.trys.push([1,30,,31]),[4,st.all([n,i,r])];case 2:return D.sent(),ta(e),[4,ra(a.DNt.rM,e)];case 3:return D.sent(),v=a.GNt.gP(t),a.F8=v,d=o||(null==(f=a.wc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.LE,l=a.tDt(v),g=a.ENt,d||!g||!g._k.gr(v)&&s!==iY.TSt&&g.kc!==l?[3,8]:!(w=a.FNt)||w.iAt?[3,7]:[4,w.sct()];case 4:return D.sent(),a.w3(),y=a.LNt(g.dAt,g.ypt),a.aNt(y)?[4,a.lNt(y)]:[3,6];case 5:D.sent(),D.label=6;case 6:a.RNt=y,D.label=7;case 7:return[3,27];case 8:return l?(m=a.FNt,a.T7(),g?[4,g.sct()]:[3,10]):[3,27];case 9:D.sent(),D.label=10;case 10:return!m||m.kc!==l||d?[3,13]:(A=a.LNt(m.dAt,m.ypt),a.w3(),a.aNt(A)?[4,a.lNt(A)]:[3,12]);case 11:D.sent(),D.label=12;case 12:return a.RNt=A,[3,25];case 13:return m?[4,m.gn(!0)]:[3,15];case 14:D.sent(),D.label=15;case 15:return p=a.Mgt(l),_=null==g?void 0:g.kc,k=null==g?void 0:g.lAt,M=ZQ(l,p,_,k,a.Zpt),b=a.kNt(l,M,_,k,!1),M.forEach((function(t){return t.Rt=!0})),T=a.LNt(M,b),!a.DIt(l)||d?[3,18]:(a.w3(),a.aNt(T)?[4,a.lNt(T)]:[3,17]);case 16:D.sent(),D.label=17;case 17:return[3,23];case 18:return b=a.kNt(l,M,_,k,!0),T=a.LNt(M,b),g?(a.UIt.fn(Yg.aa,a.QIt),[4,g.gn()]):[3,20];case 19:D.sent(),a.UIt.yn(Yg.aa,a.QIt),a.ENt=void 0,D.label=20;case 20:return[4,a.fNt()];case 21:return D.sent(),[4,a.Yp(T)];case 22:D.sent(),D.label=23;case 23:return a.RNt=T,[4,a.ANt(l,p,M,b)];case 24:m=D.sent(),a.FNt=m,a.PIt.TL=m.nt,a.wIt(m),m.hct(a.ENt),D.label=25;case 25:return[4,m.rct(_z.Fat)];case 26:return D.sent(),a.AIt(m),[3,27];case 27:return va(N=a.BNt(v,u,!1,e)),a.F8=void 0,[4,a.ENt.rct(_z.Fat)];case 28:return D.sent(),ta(e),a.jNt(),[4,N];case 29:return D.sent(),ta(e),a.E7(),a.kG=!1,a.iDt(new jb(a.LE)),a.bIt(),[3,31];case 30:return $o(D.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.bIt=function(){if(!this.KE&&!this.wk&&void 0!==this.Az){var t,n,i=this.LE;if(this.LE+this.Az-this.Ek.md.maximumOffset<i)null==(t=this.aV)||t.Cn();else null==(n=this.aV)||n.zk()}},i.BNt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d;return pn(this,(function(l){switch(l.label){case 0:u=!0,s=t,l.label=1;case 1:0,c={stack:[],error:void 0,hasError:!1},l.label=2;case 2:if(l.trys.push([2,4,5,6]),(h=e.sIt).V>0&&(f=h.gP(t),s!==f&&(h.gr(s)&&e.tbt.Sft.YA===$R.FQ||(s=f,u=!0))),u)u=!1,null==a||a.Ty(),(a=new ca).Sy(r),va(o=ea(e.eDt(s,n,i,a.ly),a));else if(!e.nIt&&!e.V5)return[3,7];return v=kn(c,ca.Iy([r]),!1),[4,st.race([o,e.zy([Ma.Tb,Ma.Zy],v.ly),e.tbt.Sft.zy(bz.Nut,v.ly)])];case 3:return l.sent(),[3,6];case 4:return d=l.sent(),c.error=d,c.hasError=!0,[3,6];case 5:return Mn(c),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.eDt=function(t,n,i,r){var e=this;return yn((function(){return pn(this,(function(u){switch(u.label){case 0:e.cz.Wb(t,n,i),u.label=1;case 1:return e.nIt||e.V5?[4,e.cz.zy([Ma.bb,Ma.ob],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.PNt=function(){void 0===this.YNt&&(this.YNt=this.zNt,this.cz.fn(Ma.Mb,this.JIt),this.cz.fn(Ma.bb,this.iDt))},i.UNt=function(){if(void 0!==this.YNt){var t=this.zNt;this.YNt=void 0,this.cz.yn(Ma.Mb,this.JIt),this.cz.yn(Ma.bb,this.iDt),this.zNt!==t&&this.xc()}},i.sDt=function(t){this.Fo=this.Fo.pP(t)},i.tDt=function(t){var n=this.tbt.Sft,i=n.tAt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Cn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.jn>t)return u}return n.YA!==$R.FQ?i[i.length-1]:void 0}},i.uTt=function(t){for(var n=t.wAt;n&&n.ct<.2;)n=n.wAt;return n},i.aTt=function(t){for(var n=t.mAt;n&&n.ct<.2;)n=n.mAt;return n},i.ka=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:e={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,8,9,10]),r.SV.WY(t.contentProtection),r.nDt(),!r.wc||Ab(r.wc)?[3,3]:[4,r.tr()];case 2:v.sent(),v.label=3;case 3:return!t||Ab(t)?[2]:(s=kn(e,ca.Iy([i]),!1),r.zQ=ca.Iy([s.ly]),r.wc=t,r.rDt=n,r.Zpt=t.abr,r.Lpt=t.ignoreEmbeddedTextTrackTypes,o=new eY(r.OQ,Boolean(r.wc.useCredentials),r.lft),a=aY(o,r.slt),r.ZTt(!0),r.NIt=new GQ({WL:Kt.Ah(r.wc.src),$Tt:null!=(c=null==(u=r.wc.latencyConfiguration)?void 0:u.targetOffset)?c:r.wc.liveOffset,nSt:r.wc.timeServer,zI:r.wc.useCredentials},r.oDt(r.Zpt),r.OQ,a,r.wc.dash),r.tbt=r.NIt.Tr,r.tbt.Sft.yn(Ma.ub,r.hDt),r.tbt.Sft.yn(Ma.fb,r.aDt),r.tbt.Sft.yn(pQ.wTt,r.uDt),r.tbt.Sft.yn(bz.Nut,r.yNt),[4,r.cDt.$n(r.tbt.Sft)]);case 4:return v.sent(),[4,r.lDt.$n(r.tbt.Sft)];case 5:return v.sent(),Oo(r.Lpt,Yw.EMSG)?[3,7]:(r.vpt=new RY(r.CQ),r.Ul.$Y(r.vpt.Z),[4,r.vpt.$n(r.tbt.Sft)]);case 6:v.sent(),v.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,r.aV=new UY(r,r.cz,h),r.aV.Rt=!0,r.mV.Sa(r.aV)),r.tIt(),s.wy(),[3,10];case 8:return f=v.sent(),e.error=f,e.hasError=!0,[3,10];case 9:return Mn(e),[7];case 10:return[2]}}))}))()},i.dDt=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return n=t.tbt.Sft.XE,t.ZTt(n),n?(t._It(),[3,3]):[3,1];case 1:return[4,st.all([null==(i=t.ENt)?void 0:i.sct(_z.sut),null==(r=t.FNt)?void 0:r.sct(_z.sut)].filter(ci))];case 2:e.sent(),t.TIt(),t.$It(),t.TNt.Ty(),e.label=3;case 3:return[2]}}))}))()},i.ZTt=function(t){this.WTt!==t&&(this.WTt=t,this.yo(t?new hY:new fY))},i.tIt=function(){this.tbt&&(this.fDt=this.gDt(this.fDt,this.zQ.ly).catch(this.fAt))},i.gDt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),ta(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.ck===oT.Mz||i.s7?[4,i._Dt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.ck!==oT.MQ?[3,6]:[4,i.vDt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw na(r=e.sent()),i.eG(new md(wd.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i._Dt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.vDt(t)];case 1:r.sent(),n.wDt||(n.wDt=!0,n.DNt.Sy(n.$n(n.rDt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.DNt.rM];case 3:return r.sent(),[3,5];case 4:return na(i=r.sent()),n.eG(new md(wd.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.vDt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,ra(n.NIt.W,t)];case 1:return a.sent(),i=n.tbt.Sft,void 0===n.aV&&i.YA===$R.FQ&&(r=i.Yyt,e=(null==r?void 0:r.TTt)?(null==r?void 0:r.TTt)/1e3:i.KTt,u=(null==r?void 0:r.yTt)?(null==r?void 0:r.yTt)/1e3:.5*e,s=(null==r?void 0:r.MTt)?(null==r?void 0:r.MTt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:FM,maximumPlaybackRate:WM},n.aV=new UY(n,n.cz,o),n.mV.Sa(n.aV)),[2]}}))}))()},i.AIt=function(t){var i=this.ENt;t!==i&&(this.ENt&&this.vIt(this.ENt),this.FNt&&this.mIt(this.FNt),i&&this.$Nt(this.JNt),this.ENt=t,this.FNt=i,this.uIt(this.ENt),this.FNt&&this.wIt(this.FNt),this.Oz.TL=t.ht,this.Pz.TL=t.rt,this.RIt(t),this.UIt.fn(Yg.aa,this.QIt),n.mDt(this.UIt),this.UIt.yn(Yg.aa,this.QIt),this.UIt.TL=t.nt,this.PIt.TL=void 0,this.OIt())},i.ge=function(){this.cz.ge()},i.be=function(){this.cz.be()},i.eG=function(t){this.dV||(va(this.tr()),this.dV=pw(t),this.fV=t,this.yo(new zk(t)))},i.nDt=function(){this.dV=void 0,this.fV=void 0},i.uNt=function(){var t=this.vV;t&&(t.A5&&(t.A5.PK=this.UG.ZK),t.p5&&(t.p5.PK=this.UG.ZK))},i.cNt=function(){var t=this.vV;t&&(t.A5&&(t.A5.QK=this.UG.QK),t.p5&&(t.p5.QK=this.UG.QK))},i.determineStallJumpTarget=function(){if(this.ENt)return this.ENt.Hpt()&&this.LE>this.ENt.jn-lS&&!this.ENt.$pt?this.ENt.jn:void 0},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:if(t.pDt)return[2,t.pDt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.pDt=t.ADt(),[4,t.pDt];case 2:return n.sent(),[3,4];case 3:return t.pDt=void 0,[7];case 4:return[2]}}))}))()},i.ADt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.$E=1,t.zQ.Ty(),t.$It(),t.TIt(),t.TNt.Ty(),t.DNt.Ty(),t.yIt=!1,t.Rk(),t.s7=!1,t.qIt=!1,t.Oz.TL=void 0,t.Pz.TL=void 0,t.UIt.TL=void 0,t.PIt.TL=void 0,t.fDt?[4,t.fDt.catch(qt)]:[3,2];case 1:n.sent(),t.fDt=void 0,n.label=2;case 2:return[4,st.all([t.INt,t.m7,t.SNt,t.DNt.rM.catch(qt)])];case 3:return n.sent(),t.ENt?[4,t.ENt.gn(!0)]:[3,5];case 4:n.sent(),t.ENt=void 0,n.label=5;case 5:return t.FNt?(t.mIt(t.FNt),[4,t.FNt.gn(!0)]):[3,7];case 6:n.sent(),t.FNt=void 0,n.label=7;case 7:return[4,t.fNt()];case 8:return n.sent(),t.RNt=void 0,t.jIt=void 0,t.OV.tr(),[4,t.cDt.tr()];case 9:return n.sent(),[4,t.lDt.tr()];case 10:return n.sent(),void 0===t.vpt?[3,12]:(t.Ul.eV(t.vpt.Z),[4,t.vpt.gn()]);case 11:n.sent(),t.vpt=void 0,n.label=12;case 12:return t.CQ.tr(),t.tbt?(t.tbt.Sft.fn(Ma.ub,t.hDt),t.tbt.Sft.fn(Ma.fb,t.aDt),t.tbt.Sft.fn(pQ.wTt,t.uDt),[4,t.NIt.gn()]):[3,14];case 13:n.sent(),t.tbt=void 0,n.label=14;case 14:return t.iIt=!1,t.yDt=NaN,t.bDt=0,t.MDt=0,t.YNt=void 0,t.G8=!1,t.Fo=GM.PP(),t.iF=!0,t.F8=void 0,t.TDt=!1,t.kG=!1,t.wDt=!1,t.DNt=new sh,t.ZNt=0,t.HNt=0,t.XNt=0,t.wc=void 0,t.rDt=void 0,t.Lpt=[],t.BIt=void 0,t.mV.tr(),t.aV=void 0,t.gNt={Bz:0,Uz:0,Qz:0},[4,t.LV.tr()];case 15:return n.sent(),t.cz.jV(),t.SDt.tr(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.nDt(),[4,t.tr()];case 1:return n.sent(),t.Bo(),t.Oz.gn(),t.Pz.gn(),t.UIt.gn(),t.PIt.gn(),t.Ul.gn(),t.OV.gn(),t.NDt.wy(),[4,t.cDt.gn()];case 2:return n.sent(),[4,t.lDt.gn()];case 3:return n.sent(),t.CQ.gn(),t.SDt.gn(),t.cz.fn(Ma.Zy,t.ptt),t.cz.fn(Ea.Xy,t.k8),t.cz.fn(Ma.qy,t.IDt),t.cz.fn(Ma.Mb,t.JIt),t.cz.fn(Ma.bb,t.iDt),t.cz.fn(Ma.yb,t.gIt),t.cz.fn(Ma.Eb,t.xc),t.cz.fn([Ma.so,Ma.wb],t.DDt),t.cz.fn(QY,t.Ds),[4,t.LV.gn()];case 4:return n.sent(),t.Ul.gn(),t.UG.fn("RK",t.EDt),t.UG.fn("UK",t.kDt),t.cz.fn(eA.ua,t.LDt),t.cz.fn([Ma.Vy,Ma.Yy],t.Ds),t.cz.fn(Ma.Cb,t.AAt),t.cz.zV=void 0,t.SV.fn("contentProtectionsTracked",t.xDt),t.cz.Rtt=void 0,[2]}}))}))()},i.Ck=function(){return this.cz.wa},i._a=function(){return this.cz.xV},i.Bk=function(){return!1},i.Uk=function(){},i.Qk=function(){},i.Fk=function(){},i.Yk=function(){this.bNt(!0)},i.Wk=function(t){var n=this.cz.CV(t);return this.SDt.tt(n),n},n.FIt=function(t,n){for(var i=[],r=[],e=!n.some((function(t){return t.Sgt.some((function(t){return"main"===t.zD}))})),u=0;u<n.length;u++){var s=n[u];if(-1===i.indexOf(s)){var o=VY(s.zft.concat(s.Sgt),e);e=!1;for(var a=s.lct.map((function(t){return t.Lut})),c=new ZR(s,a,o),h=FY(s,n),f=0;f<h.length;f++){var v=h[f];c.$ft(v),i.push(v)}r.push(c)}}return new FQ(t,r)},n.YIt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.egt.length;i=AY(i,MY(e.jlt,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.bpt=IY(i.bpt,n.preferredKeySystems)),i}},n.mDt=function(t){for(var n=0,i=t.AL;n<i.length;n++){i[n].UI=iA.Ch}},Ct(n,[{key:"ht",get:function(){return this.Oz}},{key:"uV",get:function(){var t=this.zNt,n=this.QNt,i=n.bP(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"QNt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.ENt)?void 0:t.TE)?i:GM.PP(),u=null!=(r=null==(n=this.FNt)?void 0:n.TE)?r:GM.PP();return e.pP(u)}},{key:"TE",get:function(){return this.QNt.ks()}},{key:"NE",get:function(){var t,n=null==(t=this.tbt)?void 0:t.Sft,i=null==n?void 0:n.xyt;if(n&&i){var r=i.getTime(),e=1e3*this.LE;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.tbt)?void 0:n.Sft,r=null==i?void 0:i.xyt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.Wb(u-e)}}},{key:"bt",get:function(){return this.wc}},{key:"zNt",get:function(){return void 0!==this.F8?this.F8:void 0!==this.YNt?this.YNt:this.cz.LE}},{key:"LE",get:function(){return this.zNt},set:function(t){this.CE(t)}},{key:"ct",get:function(){var t=NaN;return this.ENt&&this.ENt.$pt?t=this.ENt.jn:this.tbt&&void 0!==this.tbt.Sft.YA&&(t=this.tbt.Sft.Pyt?this.tbt.Sft.Pyt.bAt():1/0),t}},{key:"jn",get:function(){return this.ct}},{key:"OE",get:function(){return this.wk?this.Y8():!(!this.ENt||!this.ENt.$pt)&&this.cz.OE}},{key:"lt",get:function(){return this.dV}},{key:"zE",get:function(){return this.fV}},{key:"UE",get:function(){}},{key:"VE",get:function(){return ys({},this._Nt,{Fz:Uk.Ld.LY(),Yz:this.ZNt,Vz:{amountOfBufferedAudioSegments:this.HNt,amountOfBufferedVideoSegments:this.XNt}})}},{key:"_Nt",get:function(){return function(t,n){return{Bz:t.Bz+n.Bz,Uz:t.Uz+n.Uz,Qz:t.Qz+n.Qz}}(this.gNt,this.cz.GE())}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"KE",get:function(){return this.G8?this.qNt:this.ENt&&this.ENt.$pt?this.KNt:this.qNt}},{key:"$E",get:function(){return this.cz.$E},set:function(t){this.cz.$E=t}},{key:"rk",get:function(){var t=this.Fo;return this.ENt&&(t=t.pP(this.JNt)),t.mP(.1).ks()}},{key:"JNt",get:function(){return this.cz.rk}},{key:"ck",get:function(){return this._V},set:function(t){this._V=t,this.tIt()}},{key:"fk",get:function(){var t=this.cz.fk;return this.iIt&&(t=k.max(UA.Xn,t)),t}},{key:"GNt",get:function(){return this.eIt(!1)}},{key:"sIt",get:function(){return this.eIt(!0)}},{key:"_k",get:function(){return this.GNt.ks()}},{key:"wk",get:function(){return this.kG||this.nIt}},{key:"nIt",get:function(){return this.cz.wk}},{key:"V5",get:function(){return this.cz.V5}},{key:"wV",get:function(){}},{key:"rIt",get:function(){var t,n;return null!=(n=null==(t=this.tbt)?void 0:t.Sft.YA)?n:$R.QQ}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.Pz}},{key:"yk",get:function(){var t;return this.oIt||(null==(t=this.hIt())?void 0:t.Ti)||0}},{key:"Tk",get:function(){var t;return this.aIt||(null==(t=this.hIt())?void 0:t.ji)||0}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){this.cz.Nk=gr(t,0,1)}},{key:"Ek",get:function(){return this.mV}},{key:"xk",get:function(){return!1},set:function(t){}},{key:"pV",get:function(){return this.AV}},{key:"KNt",get:function(){return this.cz.KE}},{key:"XE",get:function(){return this.WTt}},{key:"FE",get:function(){return!1}},{key:"Az",get:function(){var t,n=null==(t=this.tbt)?void 0:t.Sft;if(n&&n.YA===$R.FQ&&n.xyt)return n.Tft().getTime()/1e3-n.xyt.getTime()/1e3-this.LE}}]),n}(Aa),GY=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ta=n,r}return Et(n,t),n.prototype.CDt=function(){this.yo(new BA(this.LE,this.fk))},Ct(n,[{key:"fk",get:function(){return this.ta.fk}}]),n}(XA);function VY(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.A8})).map((function(t){return t.zD})).filter(ci);return n||Oo(i,"main")?Oo(i,"caption")?"captions":Oo(i,"subtitle")?"subtitles":Oo(i,"dub")?"translation":"main":Oo(i,"sign")?"sign":Oo(i,"description")?"descriptions":Oo(i,"commentary")?"commentary":"alternative"}function FY(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=Do(n,(function(t){return t.o===r}));e&&o.push(e)},u=Do(ln(t.ZAt).concat(ln(t.HAt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.A8})),s=null!=(r=null==u||null==(i=u.zD)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}var WY=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new JO(o))||this).vht=o,Wt.qf&&(a.ODt=new dz(a)),a}Et(n,t);var i=n.prototype;return i.jk=function(){if(HO(this.cz))return this.cz.jk()},i.gn=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.ODt)||i.gn(),[2]}}))}))()},i.DIt=function(n){var i,r;return((null!=(r=null==(i=this.wc)?void 0:i.seamlessSwitchStrategy)?r:$M.Mz)!==$M.Mz||!Wt.wg)&&t.prototype.DIt.call(this,n)},i.LIt=function(){return!(Wt.Nf&&Wt.Df<3)&&t.prototype.LIt.call(this)},i.jDt=function(){return new qO(this,new tC)},i.oDt=function(t){return KO(t)},Ct(n,[{key:"oIt",get:function(){return HO(this.cz)?this.cz.yk:0}},{key:"aIt",get:function(){return HO(this.cz)?this.cz.Tk:0}}]),n}(YY),ZY=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new vz(s),f=h.sG(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).QV=h,c}return Et(n,t),n.prototype.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.QV.BV(n.cz)];case 2:return i.sent(),[2]}}))}))()},n}(WY);function XY(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Q(),Nt(),An(),St(),Tn(),Jt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var HY=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).lD=n,r}Et(n,t);var i=n.prototype;return i.SE=function(){return t.prototype.SE.call(this).Gb(this.RDt)},i.Fht=function(){return t.prototype.Fht.call(this).Gb(this.RDt)},i.B4=function(n,i,r){var e=this.RDt;return t.prototype.B4.call(this,n,{kst:i.kst-e,ct:i.ct,rQ:i.rQ-e},r)},i.s3=function(n,i){var r=this.RDt;return t.prototype.s3.call(this,k.max(0,n-r),k.max(0,i-r))},i.wS=function(n,i,r){var e=this.RDt;return t.prototype.wS.call(this,k.max(0,n-e),k.max(0,i-e),r)},i.O3=function(n,i){var r=this.RDt;t.prototype.O3.call(this,k.max(0,n-r),k.max(0,i-r))},i.R3=function(n,i){var r=this.RDt;t.prototype.R3.call(this,k.max(0,n-r),k.max(0,i-r))},Ct(n,[{key:"RDt",get:function(){return this.lD.RDt}}]),n}(uz),KY=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Cht(i),r.lD=n,r}Et(n,t);var i=n.prototype;return i._d=function(){return t.prototype._d.call(this)+this.RDt},i.T5=function(n){t.prototype.T5.call(this,n-this.RDt)},i.vk=function(){return t.prototype.vk.call(this).Gb(this.RDt)},i.D5=function(n,i,r,e){var u=this.RDt;t.prototype.D5.call(this,n-u,i-u,r,e)},i.Oht=function(t){return new HY(this,t)},Ct(n,[{key:"RDt",get:function(){return this.lD.RDt}}]),n}(rz),JY=function(t){function n(n){var i;return(i=t.call(this,n)||this).PDt=0,i.CQ=new qO(i,new tC),i.Ul=new Fk([i.CQ.nt,t.prototype.Ak.call(XY(i))]),i.hst=new BC,i.hst.Ott(i.gV.parentElement),i.ast=new tx(i.hst.we,i.Uu,i.Ul,i.Ll,i.wa,i.xV),i}Et(n,t);var i=n.prototype;return i.SE=function(){return t.prototype.SE.call(this).Gb(this.PDt)},i.DE=function(){return qY(t.prototype.DE.call(this),this.PDt)},i.xE=function(){return t.prototype.xE.call(this)+this.PDt},i._d=function(){return t.prototype._d.call(this)+this.PDt},i.hk=function(){return t.prototype.hk.call(this).Gb(this.PDt)},i.vk=function(){return t.prototype.vk.call(this).Gb(this.PDt)},i.Wb=function(n,i,r){var e=k.max(0,n-this.PDt);t.prototype.Wb.call(this,e,i,r)},i.cV=function(n){t.prototype.cV.call(this,qY(n,-this.PDt))},i.Ak=function(){return this.Ul},i.Wk=function(t,n,i,r,e,u,s,o){return this.CQ.Wk(t,n,i,r,e,u,s,o)},i.CV=function(t){return this.CQ.CV(t)},i.BQ=function(t){this.CQ.BQ(t)},i.jV=function(){this.CQ.tr(),t.prototype.jV.call(this)},i.DV=function(){return!1},i.kV=function(t,n,i,r,e){throw new A("Not supported")},i.wy=function(){return this.ast.gn(),this.hst.gn(),this.CQ.gn(),this.Ul.gn(),t.prototype.wy.call(this)},i.Eht=function(t){return new KY(this,t)},i.Dht=function(t){return new az(t)},i.Vk=function(n){var i;switch(n.type){case Ma.so:i=new Ib(n.currentTime+this.PDt);break;case Ma.wb:i=new Db(n.currentTime+this.PDt);break;case zA.oP:i=new FA(n.currentTime+this.PDt);break;case Ma.Eb:i=new Cg(n.currentTime+this.PDt,qY(n.currentProgramDateTime,this.PDt));break;case Ma.mb:i=new nE(n.currentTime+this.PDt);break;case Ma.Mb:i=new Cb(n.currentTime+this.PDt);break;case Ma.bb:i=new jb(n.currentTime+this.PDt);break;case Ma.eb:i=new TS(n.currentTime+this.PDt);break;case Ma.ob:i=new kC(n.currentTime+this.PDt);break;case Ma.qy:i=new Lb(n.currentTime+this.PDt);break;case Ma.pb:i=new Sb(n.currentTime+this.PDt,n.playbackRate);break;case Ma.kb:i=new xb(n.currentTime+this.PDt,n.volume);break;case Ma.Zy:i=new Eb(n.duration+this.PDt);break;case zA.lL:i=new BA(n.currentTime+this.PDt,n.readyState);break;default:i=n}t.prototype.Vk.call(this,i)},i.be=function(){t.prototype.be.call(this),this.hst.be()},i.ge=function(){t.prototype.ge.call(this),this.hst.ge()},Ct(n,[{key:"wht",get:function(){return this.cz}},{key:"RDt",get:function(){return this.PDt},set:function(t){this.PDt=t}}]),n}(cz);function qY(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var $Y=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.sG=function(n){if(n===lw.NI)return new JY(t.prototype.sG.call(this,n))},i.BV=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,(r=n).wy()];case 1:return e.sent(),[4,t.prototype.BV.call(i,r.wht)];case 2:return e.sent(),[2]}}))}))()},n}($O),tG=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new $Y(new vz(s)),f=h.sG(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).QV=h,c.zDt=void 0,c}Et(n,t);var i=n.prototype;return i.Yp=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.Yp.call(i,n)];case 1:return r.sent(),void 0===i.zDt&&(i.zDt=i.BDt(),i.cz.RDt=i.zDt),[2]}}))}))()},i.BDt=function(){if(this.ct===1/0){var t=this.GNt;if(t.V>0)return k.max(0,t.Cn(0)-300)}return 0},i.p7=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=iY.MSt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&Wt.Nf&&Wt.Df<3&&n<=this.LE),t.prototype.p7.call(this,n,i,r,e,u,s,o,a)},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.zDt=void 0,n.cz.RDt=0,[2]}}))}))()},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.cz.wy()];case 2:return i.sent(),[4,n.QV.BV(n.cz)];case 3:return i.sent(),[2]}}))}))()},n.PS=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Wt.Nf&&Wt.Df<4)},n}(WY);Q(),Nt(),An(),St(),Tn(),Jt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St();var nG=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),Ct(n,[{key:"wht",get:function(){return this.cz}},{key:"yk",get:function(){return this.cz.yk}},{key:"Tk",get:function(){return this.cz.Tk}}]),n}(tz);Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),sn();var iG=function(t){function n(n){var i;return(i=t.call(this,n)||this).m3=void 0,i.UDt=void 0,i.XK=0,i.QDt=GM.PP(),i.FDt=GM.PP(),i.ZDt=[],i.Ist=!1,i.WDt=!1,i.WK=0,i.KS=n.md,i}Et(n,t);var i=n.prototype;return i.Bht=function(){return this.UDt?this.XK:t.prototype.Bht.call(this)},i.Uht=function(n){this.UDt?this.XK=n:t.prototype.Uht.call(this,n)},i.SE=function(){return this.UDt?this.QDt:t.prototype.SE.call(this)},i.xS=function(){return this.UDt?this.KS:t.prototype.xS.call(this)},i.Fht=function(){return this.UDt?this.FDt:t.prototype.Fht.call(this)},i.Yht=function(){return this.UDt?this.WK:t.prototype.Yht.call(this)},i.Vht=function(n){this.UDt?this.WK=n:t.prototype.Vht.call(this,n)},i.B4=function(t,n,i){var r=this;return this.U4((function(i){return r.YDt(t,n,i)}),i)},i.YDt=function(n,i,r){return t.prototype.B4.call(this,n,i,r)},i.P3=function(){var t=this;return this.U4((function(){return t.VDt()}))},i.VDt=function(){return t.prototype.P3.call(this)},i.F4=function(t,n,i){var r=this;return this.U4((function(i){return r.GDt(t,n,i)}),i)},i.GDt=function(n,i,r){return t.prototype.F4.call(this,n,i,r)},i.F$=function(){return this.UDt?this.Ist:t.prototype.F$.call(this)},i.I3=function(){this.UDt?this.WDt=!0:t.prototype.I3.call(this)},i.O3=function(t,n){this.UDt?(this.FDt=this.FDt.pP(new GM([t,n])),this.ZDt.push({YA:"qlt",lB:t,dB:n})):this.HDt(t,n)},i.HDt=function(n,i){t.prototype.O3.call(this,n,i)},i.s3=function(t,n){var i=this;return this.U4((function(){return i.XDt(t,n)}))},i.XDt=function(n,i){return t.prototype.s3.call(this,n,i)},i.R3=function(t,n){this.UDt?(this.FDt=this.FDt.yP(new GM([t,n])),this.ZDt.push({YA:"wS",lB:t,dB:n})):this.qDt(t,n)},i.qDt=function(n,i){t.prototype.R3.call(this,n,i)},i.wS=function(t,n,i){var r=this;return this.U4((function(i){return r.KDt(t,n,i)}),i)},i.KDt=function(n,i,r){return t.prototype.wS.call(this,n,i,r)},i.D$=function(t){var n=this;return this.U4((function(){return n.JDt(t)}))},i.JDt=function(n){return t.prototype.D$.call(this,n)},i.U4=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return i.d3(),i.UDt?[4,ra(i.UDt.rM,n)]:[3,2];case 1:r.sent(),i.d3(),r.label=2;case 2:ta(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.m3=t(n),[4,i.m3];case 4:return r.sent(),[3,6];case 5:return i.m3=void 0,[7];case 6:return[2]}}))}))()},i.d3=function(){if(this.m3)throw new A("Internal error")},i.$Dt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:if(t.UDt)throw new p("Already locked");return t.UDt=new sh,t.tEt(),t.m3?[4,t.m3.catch(qt)]:[3,2];case 1:n.sent(),t.tEt(),n.label=2;case 2:return[2]}}))}))()},i.iEt=function(){var t;null==(t=this.UDt)||t.sM(),this.UDt=void 0,this.eEt()},i.tEt=function(){this.KS=t.prototype.xS.call(this),this.XK=t.prototype.Bht.call(this),this.WK=t.prototype.Yht.call(this),this.QDt=t.prototype.SE.call(this),this.FDt=t.prototype.Fht.call(this),this.Ist=t.prototype.F$.call(this),this.WDt=!1},i.eEt=function(){this.d3(),t.prototype.Uht.call(this,this.XK),t.prototype.Vht.call(this,this.WK);var n=this.ZDt.slice();Ro(this.ZDt);for(var i=0;i<n.length;i++){var r=n[i];"qlt"===r.YA?this.HDt(r.lB,r.dB):this.qDt(r.lB,r.dB)}this.WDt&&t.prototype.I3.call(this),this.QDt.IP(t.prototype.SE.call(this))||this.yo(new ka(ZI.g$))},i.wy=function(){var n;null==(n=this.UDt)||n.Ty(),this.UDt=void 0,t.prototype.wy.call(this)},n}(uz),rG=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sEt=void 0,r.lD=n,r}Et(n,t);var i=n.prototype;return i.SE=function(){var n,i;return t.prototype.SE.call(this).pP(null!=(i=null==(n=this.sEt)?void 0:n.TE)?i:GM.PP())},i.Fht=function(){var n,i;return t.prototype.Fht.call(this).pP(null!=(i=null==(n=this.sEt)?void 0:n.x3)?i:GM.PP())},i.Uht=function(n){t.prototype.Uht.call(this,n),this.sEt&&(this.sEt.QK=n)},i.Vht=function(n){t.prototype.Vht.call(this,n),this.sEt&&(this.sEt.PK=n)},i.HDt=function(n,i){t.prototype.HDt.call(this,n,i),this.sEt&&this.sEt.O3(n,i)},i.qDt=function(n,i){t.prototype.qDt.call(this,n,i),this.sEt&&this.sEt.R3(n,i)},i.KDt=function(n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return ta(r),(u=[]).push(t.prototype.KDt.call(e,n,i,r)),e.sEt&&u.push(e.sEt.wS(n,i,r)),[4,st.all(u)];case 1:return s.sent(),[2]}}))}))()},i.N$=function(n){return!!t.prototype.N$.call(this,n)||this.lD.nEt(n)},i.JDt=function(n){return t.prototype.N$.call(this,n)?t.prototype.JDt.call(this,n):this.lD.rEt(n)},i.oEt=function(t){var n,i;null==(n=this.sEt)||n.fn(XI,this.Ght),this.sEt=t,null==(i=this.sEt)||i.yn(XI,this.Ght)},n}(iG);tn();var eG=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).hEt=void 0,r.JM=NaN,r.fEt=!1,r.gEt=!1,r._Et=void 0,r.Cht(i),r.lD=n,r}Et(n,t);var i=n.prototype;return i.N$=function(n){var i=void 0!==this.y5,r=void 0!==this.b5,e=n.E5.some((function(t){return no(t.VN,"audio")})),u=n.E5.some((function(t){return no(t.VN,"video")}));return i===e&&r===u&&(!!t.prototype.N$.call(this,n)||(!(!this.hEt||!this.hEt.N$(n))||this.lD.aEt(n)))},i.D$=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return t.prototype.N$.call(i,n)?[4,t.prototype.D$.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.hEt&&i.hEt.N$(n)?(i.uEt(),[4,i.D$(n)]):[3,4];case 4:return[4,i.lD.cEt(n)];case 5:return r.sent(),[4,i.D$(n)];case 7:return[2]}}))}))()},i.nEt=function(t){return this.N$(this.lEt(t))},i.rEt=function(t){return this.D$(this.lEt(t))},i.lEt=function(t){var n=this.md,i=n.E5.map((function(n){return no(t.VN,"audio")&&no(n.VN,"audio")||no(t.VN,"video")&&no(n.VN,"video")?t:n}));return ys({},n,{E5:i})},i.D5=function(n,i,r,e){t.prototype.D5.call(this,n,i,r,e),this.hEt&&this.hEt.D5(n,i,r,e)},i.dEt=function(){return!this.fEt&&this.gEt},i._d=function(){return void 0!==this._Et?this._Et:this.dEt()?this.JM:t.prototype._d.call(this)},i.T5=function(n){this.JM=n,this._Et=void 0,this.dEt()||t.prototype.T5.call(this,n)},i.xht=function(){return!this.dEt()&&t.prototype.xht.call(this)},i.I3=function(){this._Et=k.max(sG(this.vV.p5),sG(this.vV.A5)),this.dEt()||t.prototype.I3.call(this)},i.w3=function(){this._Et=void 0,this.dEt()||t.prototype.w3.call(this)},i.Oht=function(t){return new rG(this,t)},i.vEt=function(){this.fEt=!this.fEt},i.uEt=function(){var t=this.vV,n=this.hEt;n&&(this.fEt=!this.fEt,this.Cht(n),this.wEt(t),this.dEt()&&this.mEt())},i.wEt=function(t){var n,i;this.hEt=t,null==(n=this.y5)||n.oEt(null==t?void 0:t.p5),null==(i=this.b5)||i.oEt(null==t?void 0:t.A5)},i.pEt=function(t){var n=this.vV,i=this.hEt;if(i){var r=this.fEt,e=r?n:i,u=(r?i:n).TE.CP(t);if(u){var s=Mz(e.TE,this.Fht()).CP(u.jn(0),Dr);if(s&&!(u.jn(0)+Dr>=s.jn(0)))return k.max(u.jn(0),s.Cn(0))}}},i.AEt=function(t,n){var i=this;if(this.gEt)return st.resolve();var r=this.fEt?this.hEt:this.vV;return r?(this.gEt=!0,this.yEt((function(n){if(ta(n),i.gEt)return function(t,n,i){return uG.apply(this,arguments)}(r,t,n)}),n)):st.resolve()},i.mEt=function(){if(this.gEt){var t=this.fEt?this.hEt:this.vV;if(t){var n;0,this.gEt=!1;var i=null!=(n=this._Et)?n:this.JM;t.ct<i&&t.T5(i),t.w3()}}},i.bEt=function(t){var n,i=null!=(n=this._Et)?n:this.JM;t.T5(i),this.fEt?this.Cht(t):this.wEt(t)},i.Fht=function(){var t,n,i,r,e=null!=(i=null==(t=this.y5)?void 0:t.x3)?i:GM.PP(),u=null!=(r=null==(n=this.b5)?void 0:n.x3)?r:GM.PP();return e.pP(u)},i.yEt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:r=[],i.y5&&r.push(i.y5.$Dt()),i.b5&&r.push(i.b5.$Dt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,st.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.y5&&i.y5.iEt(),i.b5&&i.b5.iEt(),[7];case 5:return[2]}}))}))()},i.Pht=function(n){n.type===ZI.g$&&this.lD.M3(),t.prototype.Pht.call(this,n)},n}(rz);function uG(){return uG=yn((function(t,n,i){var r;return pn(this,(function(e){switch(e.label){case 0:return ta(i),r=[],t.p5&&r.push(mS(t.p5,n,i)),t.A5&&r.push(mS(t.A5,n,i)),[4,st.all(r)];case 1:return e.sent(),t.I3(),[2]}}))})),uG.apply(this,arguments)}function sG(t){if(!t)return 0;var n=t.TE;return n.V>0?n.jn(n.V-1):0}function oG(t){return t.md.YA===OA.FQ}Q(),Nt(),tn(),sn();var aG=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).SEt=!1,e.F8=void 0,e.A7=NaN,e.Fo=GM.PP(),e.CG=!0,e.REt=!1,e.IG=!0,e.LEt=void 0,e.IEt=void 0,e.NEt=new ca,e.w7=new ca,e.TEt=i,e.EEt=n,e.cz.ge(),e.TEt.be(),e.CQ=new qO(e,r),e.Ul=new Fk([e.CQ.nt,t.prototype.Ak.call(XY(e))]),e}Et(n,t);var i=n.prototype;return i.SE=function(){return t.prototype.SE.call(this).pP(this.TEt.TE)},i._d=function(){if(!this.SEt){var n=this.vV;if(n&&oG(n))return n.ct}return t.prototype._d.call(this)},i.pht=function(){return!!t.prototype.pht.call(this)&&!(!this.SEt&&!this.F$())},i.Aht=function(){return!!t.prototype.Aht.call(this)&&!(!this.SEt&&t.prototype.pht.call(this)&&!this.F$())},i.F$=function(){var t=this.vV;return!(!t||!oG(t))&&t.F$},i.hk=function(){return this.Fo.pP(this.cz.rk)},i.vk=function(){return t.prototype.vk.call(this).pP(this.TEt._k)},i.gk=function(){return t.prototype.gk.call(this)},i.mht=function(){var n;return null!=(n=t.prototype.mht.call(this))?n:this.TEt.wV},i.Pk=function(){return this.CG=!1,t.prototype.Pk.call(this)},i.Rk=function(){this.CG=!0,t.prototype.Rk.call(this)},i.ktt=function(){this.SEt=!0,t.prototype.ktt.call(this),this.TEt.ktt()},i.Ltt=function(){this.SEt=!1,t.prototype.Ltt.call(this),this.TEt.ktt()},i.xE=function(){var n;return null!=(n=this.F8)?n:t.prototype.xE.call(this)},i.pk=function(){return void 0!==this.F8||t.prototype.pk.call(this)},i.Wb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.NEt.Ty(),this.w7.Ty(),this.w7=new ca,this.IEt=ea(this.p7(t,n,i,this.IEt,this.w7.ly),this.w7).catch(qt)},i.p7=function(n,i,r,e,u){var s=this;return yn((function(){return pn(this,(function(o){switch(o.label){case 0:return s.F8=n,s.A7=n,s.yo(new Cb(n)),e?[4,e.catch(qt)]:[3,2];case 1:o.sent(),o.label=2;case 2:return ta(u),s.vV&&oG(s.vV)&&s.vV.mEt(),s.F8=void 0,t.prototype.Wb.call(s,n,i,r),s.TEt.Wb(n,i,r),s.DEt(),[2]}}))}))()},i.cV=function(t){var n=this.wV;if(n&&!T(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Wb(i)}},i.jtt=function(){t.prototype.jtt.call(this),this.TEt.jtt()},i.be=function(){this.IG&&(this.IG=!1,this.EEt.be())},i.ge=function(){this.IG||(this.IG=!0,this.EEt.ge())},i.kEt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.F8=void 0,t.A7=NaN,t.Fo=GM.PP(),null==(n=t.LEt)||n.Ty(),t.NEt.Ty(),t.w7.Ty(),t.IEt?[4,t.IEt.catch(qt)]:[3,2];case 1:i.sent(),t.IEt=void 0,i.label=2;case 2:return[2]}}))}))()},i.Sht=function(n){t.prototype.Sht.call(this,n),this.TEt.zV=n},i.Nht=function(n){t.prototype.Nht.call(this,n),this.TEt.Rtt=n},i.Ak=function(){return this.Ul},i.Wk=function(t,n,i,r,e,u,s,o){return this.CQ.Wk(t,n,i,r,e,u,s,o)},i.CV=function(t){return this.CQ.CV(t)},i.kV=function(t,n,i,r,e){throw new A("Not implemented yet")},i.DV=function(){return!1},i.BQ=function(t){this.CQ.BQ(t)},i.jV=function(){this.CQ.tr(),t.prototype.jV.call(this)},i.$n=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return oG(r=e.sent())&&i.DEt(),[2,r]}}))}))()},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.kEt()];case 1:return i.sent(),[4,t.prototype.tr.call(n)];case 2:return i.sent(),[4,n.TEt.tr()];case 3:return i.sent(),[2]}}))}))()},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.kEt()];case 1:return i.sent(),n.CQ.gn(),n.Ul.gn(),[4,t.prototype.wy.call(n)];case 2:return i.sent(),[2]}}))}))()},i.Eht=function(t){return new eG(this,t)},i.Dht=function(t){return new az(t)},i.DEt=function(){this.NEt.Ty(),this.NEt=new ca,this.IEt=ea(this.xEt(this.IEt,this.NEt.ly),this.NEt).catch(qt)},i.xEt=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(qt)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!i.vV||!oG(i.vV))return[2];o.label=3;case 3:0,ta(n),i.CEt()&&i.vEt(),r=void 0,i.vV.mEt(),ta(n),o.label=4;case 4:0,e={stack:[],error:void 0,hasError:!1},o.label=5;case 5:return o.trys.push([5,9,10,11]),ta(n),i.CEt()?[3,12]:void 0===(r=i.vV.pEt(i.xE()))?[3,7]:(i.jEt(),[4,i.vV.AEt(r,n)]);case 6:return o.sent(),ta(n),i.TEt.Wb(r),[3,12];case 7:return u=kn(e,ca.Iy([n]),!1),[4,st.race([i.zy(Ma.Eb,u.ly),i.OEt(u.ly)])];case 8:return o.sent(),[3,11];case 9:return s=o.sent(),e.error=s,e.hasError=!0,[3,11];case 10:return Mn(e),[7];case 11:return[3,4];case 12:ta(n),o.label=13;case 13:return i.CEt()?[3,15]:[4,i.cz.zy([Ma.Eb,Ma.qy,zA.lL],n)];case 14:return o.sent(),[3,13];case 15:return[3,3];case 16:return[2]}}))}))()},i.CEt=function(){var t=this.vV;if(void 0===t||!oG(t))return!1;var n=this.xE(),i=this.cz.TE;return!(!this.cz.OE&&i.gr(n))&&!!Mz(this.TEt.TE,t.Fht()).SP(n,n+Dr)},i.vEt=function(){if(!this.REt){0,this.REt=!0,this.Fo=this.hk();var t=IS(this),n=this.pk(),i=this.gk(),r=this.cz,e=this.TEt,u=this.vV;u.mEt(),u.vEt(),ES(e,t),this.Lht(e),this.TEt=r,r.Rk(),r.WE=!0,this.REt=!1;var s=this.pk();n!==s&&(s?this.yo(new Cb(this.LE)):this.yo(new jb(this.LE)));var o=this.gk();i!==o&&this.yo(new BA(this.LE,o)),s||this.jEt()}},i.jEt=function(){var t=this.cz,n=this.EEt;if(n!==t){0;var i=this.Tk,r=this.yk;this.EEt=t,this.IG&&(n.be(),t.ge());var e=this.Tk,u=this.yk;e>0&&u>0&&(i!==e||r!==u)&&this.yo(new xA)}},i.aEt=function(t){return void 0!==this.TEt.H$([t])},i.cEt=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return n.jEt(),i=n.vV,[4,(r=n.TEt).tr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.bEt(e),[2]}}))}))()},i.OEt=function(t){return this.LEt=new sh,ra(this.LEt.rM,t)},i.M3=function(){var t;null==(t=this.LEt)||t.sM()},i.Vk=function(n){n.type===Ma.Mb&&this.A7===n.currentTime||(n.type===Ma.bb&&(this.A7=NaN,this.jEt()),n.type!==zA.lL&&n.type!==Ma.wb&&n.type!==Ma.qy||this.REt||!this.CEt()?(n.type!==Ma.qy||this.OE)&&t.prototype.Vk.call(this,n):this.DEt())},Ct(n,[{key:"MEt",get:function(){return this.TEt}},{key:"yk",get:function(){return this.EEt.yk}},{key:"Tk",get:function(){return this.EEt.Tk}}]),n}(nG),cG=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new tC)||this).jz=new qb(n.xV),r.hst=new BC,r.hst.Ott(n.gV.parentElement),r.ast=new tx(r.hst.we,r.Uu,r.nt,r.Ll,r.wa,r.xV),r}Et(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.hst.be()},i.ge=function(){t.prototype.ge.call(this),this.hst.ge()},i.Ott=function(t){this.cz.Ott(t),this.TEt.Ott(t)},i.Fk=function(){this.cz.Fk(),this.TEt.Fk()},i.jk=function(){return this.cz.jk()},i._a=function(){return this.jz},i.Lht=function(n){var i=this.Ck(),r=this.jk();t.prototype.Lht.call(this,n),this.jz.TL=n.xV,this.Ck()!==i&&this.yo(new Zb),this.jk()!==r&&this.yo(new Xb)},i.wy=function(){return this.jz.gn(),this.ast.gn(),this.hst.gn(),t.prototype.wy.call(this)},Ct(n,[{key:"wht",get:function(){return this.cz}},{key:"MEt",get:function(){return this.TEt}},{key:"gV",get:function(){return this.cz.gV}},{key:"K5",get:function(){return this.cz.K5}},{key:"xk",get:function(){return this.cz.xk},set:function(t){this.cz.xk=t}}]),n}(aG),hG=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.sG=function(n){if(n===lw.NI){var i=t.prototype.sG.call(this,n),r=t.prototype.sG.call(this,n);return new cG(i,r)}return t.prototype.sG.call(this,n)},i.BV=function(n){var i=this,r=function(){return t.prototype.BV};return yn((function(){return pn(this,(function(t){switch(t.label){case 0:return n instanceof cG?[4,n.wy()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.wht)];case 2:return t.sent(),[4,r().call(i,n.MEt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}($O),fG=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new vz(new hG(s)),f=h.sG(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).QV=h,c}return Et(n,t),n.prototype.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.QV.BV(n.cz)];case 2:return i.sent(),[2]}}))}))()},n.PS=function(t){var n;return!Wt.Qs&&!Wt.dg&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(WY);Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),sn(),tn(),Q(),Nt(),An(),St(),Tn();var vG=function(t){function n(n){var i;return(i=t.call(this,n)||this).PEt=!1,i.QDt=GM.PP(),i.JM=0,i.zEt=!1,i.Ist=!1,i.WDt=void 0,i.I5=GM.PP(),i.BEt=void 0,i.Cht(n),i.KS=n.md,i}Et(n,t);var i=n.prototype;return i.Oht=function(t){return new iG(t)},i.xS=function(){return this.PEt?this.KS:t.prototype.xS.call(this)},i.SE=function(){return this.PEt?this.QDt:t.prototype.SE.call(this)},i._d=function(){return this.PEt?this.JM:t.prototype._d.call(this)},i.T5=function(n){this.PEt?(this.JM=n,this.zEt=!0):t.prototype.T5.call(this,n)},i.vk=function(){return this.PEt?this.BEt?this.BEt.Q3():this.I5:t.prototype.vk.call(this)},i.D5=function(n,i,r,e){this.PEt?this.BEt=new dS(n,i,r,e):t.prototype.D5.call(this,n,i,r,e)},i.xht=function(){return this.PEt?this.Ist&&!1!==this.WDt:t.prototype.xht.call(this)},i.I3=function(){this.PEt?this.WDt=!0:t.prototype.I3.call(this)},i.w3=function(){this.PEt?this.WDt=!1:t.prototype.w3.call(this)},i.N$=function(n){return!this.PEt&&t.prototype.N$.call(this,n)},i.D$=function(n){return this.PEt?st.reject(new p("Not supported")):t.prototype.D$.call(this,n)},i.$Dt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:if(t.PEt)throw new p("Already locked");return t.PEt=!0,t.tEt(),n=[],t.y5&&n.push(t.y5.$Dt()),t.b5&&n.push(t.b5.$Dt()),[4,st.all(n)];case 1:return i.sent(),[2]}}))}))()},i.iEt=function(){this.PEt=!1,this.y5&&this.y5.iEt(),this.b5&&this.b5.iEt(),this.eEt()},i.tEt=function(){this.KS=t.prototype.xS.call(this),this.QDt=t.prototype.SE.call(this),this.JM=t.prototype._d.call(this),this.I5=t.prototype.vk.call(this),this.zEt=!1,this.WDt=void 0,this.BEt=void 0},i.eEt=function(){if(this.zEt&&(t.prototype.T5.call(this,this.JM),this.zEt=!1),void 0!==this.BEt){var n=this.BEt;t.prototype.D5.call(this,n.Cn,n.jn,n.F3,n.Y3),this.BEt=void 0}void 0!==this.WDt&&(this.WDt?t.prototype.I3.call(this):t.prototype.w3.call(this),this.WDt=void 0)},n}(rz),dG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).QEt=!1,n.YEt=!1,n.HEt=void 0,n.ZEt=void 0,n.WEt=new ca,n}Et(n,t);var i=n.prototype;return i.Pk=function(){return void 0!==this.vV&&oG(this.vV)&&this.OE&&this.Wb(0),t.prototype.Pk.call(this)},i.Wb=function(n,i,r){void 0!==this.vV&&oG(this.vV)&&this.OE&&n<this.ct&&this.UEt(),t.prototype.Wb.call(this,n,i,r)},i.ktt=function(){this.QEt=!0,t.prototype.ktt.call(this)},i.Ltt=function(){this.QEt=!1,this.FEt()||t.prototype.Ltt.call(this)},i.FEt=function(){return this.QEt||this.YEt},i.VEt=function(){this.YEt||(this.YEt=!0,t.prototype.ktt.call(this))},i.GEt=function(){this.YEt&&(this.YEt=!1,this.FEt()||t.prototype.Ltt.call(this))},i.$n=function(t){this.WEt.Ty();var n=this.oD(t,this.ZEt);return this.HEt=n,n},i.oD=function(n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(qt)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.GEt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.Eht=function(t){return new vG(t)},i.Dht=function(t){return new az(t)},i.tr=function(){this.WEt.Ty();var t=this.ADt(this.ZEt);return this.HEt=t,t},i.ADt=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(qt)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.GEt(),[4,t.prototype.tr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.UEt=function(){this.VEt(),this.WEt.Ty(),this.WEt=new ca,this.ZEt=ea(this.XEt(this.HEt,this.ZEt,this.WEt.ly),this.WEt).catch(ia)},i.XEt=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(qt)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(qt)]:[3,4];case 3:o.sent(),o.label=4;case 4:return ta(i),(e=r.vV)&&oG(e)?(u=e.md,[4,e.$Dt()]):[2];case 5:return o.sent(),[4,r.cz.tr()];case 6:return o.sent(),[4,r.cz.$n(u)];case 7:return(s=o.sent()).T5(e.ct),e.Cht(s),e.iEt(),r.GEt(),[2]}}))}))()},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.WEt.Ty(),n.ZEt?[4,n.ZEt.catch(qt)]:[3,2];case 1:i.sent(),n.ZEt=void 0,i.label=2;case 2:return n.FEt()&&t.prototype.Ltt.call(n),[4,t.prototype.wy.call(n)];case 3:return i.sent(),[2]}}))}))()},Ct(n,[{key:"wht",get:function(){return this.cz}}]),n}(cz);Jt();var lG=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.sG=function(n){if(n===lw.NI)return new dG(t.prototype.sG.call(this,n))},i.BV=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return[4,(r=n).wy()];case 1:return e.sent(),[4,t.prototype.BV.call(i,r.wht)];case 2:return e.sent(),[2]}}))}))()},n.PS=function(){return Wt.gg},n}($O),gG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hG=Pk.RY,n}Et(n,t);var i=n.prototype;return i.bx=function(t,n,i,r,e,u,s,o){var a,c=new jO(XO.Ld.Hot,XO.Ld.Zot,XO.Ld.Wot,XO.Ld.qot);a=tG.PS(o)?tG:fG.PS(o)?fG:ZY;var h=n;return lG.PS()&&(h=new lG(h)),new a(i,r,e,u,c,h,lw.NI,t)},i.oG=function(){return!0},n}(SO);eT(new gG),Q(),Nt(),Q(),Nt(),St(),sM((function(t){return function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.ma=function(){var n=this.UE.ga;return Wg(t.prototype.ma.call(this),{get hesp(){return n}})},n}(t)}),rM.nu),Q(),Nt(),St(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Tn(),Q(),Nt(),gn();var wG=0;function yG(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function mG(t){var n,i,r;return ys({},t,{baseUrl:yG(t.baseUrl),id:null!=(n=t.id)?n:String(wG++),timeBounds:ys({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(bG),video:t.video.map(NG),metadata:t.metadata.map(IG),events:t.events.map(jG)})}var AG=0;function pG(t){var n,i=yG(t.initPattern,!1),r=yG(t.contPattern,!1);return ys({},t,{id:null!=(n=t.id)?n:String(AG++),continuationPattern:r?$s(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?$s(i,"${initId}","{initId}"):void 0})}function _G(t){var n,i=yG(t.initPattern,!1),r=yG(t.contPattern,!1);return ys({},t,{continuationPattern:r?$s(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?$s(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(kG),activeSegment:null==(n=Do(t.segments,(function(t){return t.active})))?void 0:n.id})}function kG(t){var n;return ys({},t,{timeBounds:ys({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function MG(t){return t&&"-"===t.charAt(0)}function bG(t){var n;try{var i;n=M(null!=(i=t.channels)?i:"2")}catch(t){n=2}return MG(t.contPattern)||MG(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ys({},pG(t),{baseUrl:yG(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,TG(t)}))})}(t,n):ys({},pG(t),{baseUrl:yG(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(TG)})}function TG(t){var n;try{var i;n=M(null!=(i=t.channels)?i:"2")}catch(t){n=2}return MG(t.contPattern)||MG(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ys({},_G(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):ys({},_G(t),{baseUrl:yG(t.baseUrl),channels:n,sampleRate:t.samplerate})}function NG(t){return MG(t.contPattern)||MG(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ys({},pG(t),{baseUrl:yG(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,DG(t)}))})}(t):ys({},pG(t),{baseUrl:yG(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(DG)})}function DG(t){var n,i;return MG(t.contPattern)||MG(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ys({},_G(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ys({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):ys({},_G(t),{baseUrl:yG(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ys({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function IG(t){var n;return ys({},t,{id:null!=(n=t.id)?n:String(AG++),schemeId:"",tracks:t.tracks.map(EG)})}function EG(t){return ys({},t,{segments:t.segments.map(LG)})}var SG=0;function LG(t){return{id:SG++,timeBounds:ys({},t.timeBounds,{scale:t.timeBounds.timescale})}}var CG=0;function jG(t){var n,i;return ys({},t,{id:null!=(n=t.id)?n:String(CG++),timeBounds:ys({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var xG=function(){function t(t){this.wE=t}return t.prototype.qEt=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return r={zu:t,ly:n},[4,i.wE.hI(r)];case 1:return[4,s.sent().BN(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(gi(r.manifestVersion)&&to(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=ln(s.video).concat(ln(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(ci(n))break}return(gi(null==i?void 0:i.initPattern)||gi(null==n?void 0:n.initPattern))&&!gi(null==n?void 0:n.initializationPattern)&&!gi(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return ys({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(mG),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();sn(),Q(),Nt(),Zt(),St();var OG=function(t){function n(n){var i;return(i=t.call(this)||this).KEt=n,i}Et(n,t);var i=n.prototype;return i.qL=function(){return this.KEt.qL()},i.yn=function(t,n){this.KEt.yn(t,n)},i.fn=function(t,n){this.KEt.fn(t,n)},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=AM(this)),this.Za}},{key:"ZL",get:function(){return this.KEt.ZL}},{key:"HL",get:function(){return this.KEt.HL}},{key:"XL",get:function(){return this.KEt.XL}}]),n}(Aa);Q(),Nt(),Zt(),Q(),Nt(),Zt(),Q(),Nt(),Zt();var zG=function(){function t(t){this.tkt=0,this.$Et=0,this.JEt=k.exp(k.log(.5)/t)}var n=t.prototype;return n.Ect=function(t,n){var i=k.pow(this.JEt,t),r=n*(1-i)+i*this.tkt;T(r)||(this.tkt=r,this.$Et+=t)},n.D$=function(t){var n=k.exp(k.log(.5)/t);if(n!==this.JEt)if(0!==this.$Et){var i=this.Mst,r=1-k.pow(n,this.$Et);this.tkt=i*r,this.JEt=n}else this.JEt=n},Ct(t,[{key:"Mst",get:function(){var t=1-k.pow(this.JEt,this.$Et);return this.tkt/t}}]),t}();tn();var RG=function(){function t(n,i,r,e){void 0===n&&(n=t.dkt),void 0===i&&(i=t.fkt),void 0===r&&(r=t.Pct),void 0===e&&(e=!1),this.hkt=0,this.akt=[],this.rkt=void 0,this.okt=6e4,this.ukt=10,this.ckt=n,this.lkt=i,this.skt=r,this.nkt=e,this.ikt=new zG(n),this.ekt=new zG(i)}var n=t.prototype;return n.Ect=function(t){var n=Kt.Og(),i=t;this.nkt&&void 0!==this.rkt&&n-this.rkt>=this.okt&&this.tr(),this.hkt+=1,this.ikt.Ect(1,i),this.ekt.Ect(1,i),this.akt.push(i),this.akt.length>this.ukt&&this.akt.shift(),this.rkt=n},n.Rct=function(){return void 0!==this.rkt&&Kt.Og()-this.rkt<=this.okt},n.tr=function(){this.ikt=new zG(this.ckt),this.ekt=new zG(this.lkt),this.hkt=0,this.akt=[],this.rkt=void 0},Ct(t,[{key:"Mst",get:function(){return this.Rct()?k.max(this.ikt.Mst,this.ekt.Mst):this.skt}}]),t}();RG.dkt=2,RG.fkt=5,RG.Pct=.1,Q(),Nt();var BG=function(){function t(t){this.gkt=t}var n=t.prototype;return n.DK=function(t){for(var n=0,i=this.gkt;n<i.length;n++){i[n].DK(t)}},n.EK=function(t){for(var n=0,i=this.gkt;n<i.length;n++){i[n].EK(t)}},n.kK=function(t,n){for(var i=0,r=this.gkt;i<r.length;i++){r[i].kK(t,n)}},n.LK=function(t){for(var n=0,i=this.gkt;n<i.length;n++){i[n].LK(t)}},t}();Q(),Nt();var UG=function(){function t(t){this._kt=0,this.vkt=t}var n=t.prototype;return n.DK=function(t){this._kt=t},n.EK=function(t){this.vkt.Ect(t-this._kt)},n.kK=function(t){},n.LK=function(t){},t}();Q(),Nt();var PG=function(){function t(t){this.wkt=0,this.Uct=t}var n=t.prototype;return n.EK=function(t){this.wkt=t},n.kK=function(t,n){this.Uct.Ect(t-this.wkt,n.byteLength),this.wkt=t},n.LK=function(t){},n.DK=function(t){},t}();Q(),Nt(),St(),tn();var QG=function(){function t(t,n){void 0===n&&(n=0),this.pkt=new YG,this.An=0,this.mkt=0,this.Uct=t,this.ykt=n}var n=t.prototype;return n.DK=function(t){},n.kK=function(t,n){var i=n.byteLength,r=this.mkt;this.mkt=i;var e=t-this.An;this.An=t,this.pkt.b0(n);var u=!this.pkt.Akt(),s=i>=this.ykt;r!==Kt.Ys.xp&&u&&s&&this.Uct.Ect(e,i)},n.EK=function(t){this.An=t},n.LK=function(t){},t}(),YG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Mkt=void 0,n.bkt=!1,n}Et(n,t);var i=n.prototype;return i.Akt=function(){return this.bkt},i.b0=function(n){this.bkt=!1,t.prototype.b0.call(this,n)},i.A0=function(n,i){this.Mkt&&this.Mkt!==pm.SC||(this.bkt=!0),t.prototype.A0.call(this,n,i),this.Mkt=n},i.x0=function(t){return!1},i.j0=function(t){},i.R0=function(t){},n}(cE);Q(),Nt(),St(),tn();var GG=function(t){return t.Tkt="sample",t}({}),VG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Skt=0,n}return Et(n,t),n.prototype.DY=function(){if(this.Rct()){var t=Kt.Og();t-this.Skt>1e3&&(this.Skt=t,Uk.Ld.DY(this.Mst))}},n}(Aa);Q(),Nt(),Zt(),St();var FG=function(t){function n(n){var i;return(i=t.call(this)||this).yT=[],i.Dkt=0,i.Nkt=n,i.tkt=n,i}Et(n,t);var i=n.prototype;return i.Rct=function(){return this.yT.length>=3},i.Ect=function(t,n){if(0!==t){var i={FY:8*n/t,Ikt:n};if(this.yT.push(i),this.Dkt+=i.Ikt,this.yT.length>30){var r=this.yT.shift();this.Dkt-=r.Ikt}for(var e=this.yT.slice().sort((function(t,n){return t.FY-n.FY})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.Ikt/this.Dkt,this.tkt=o.FY,u>=.5)break}this.DY(),this.yo(new ka(GG.Tkt))}},Ct(n,[{key:"Mst",get:function(){return this.Rct()?this.tkt:this.Nkt}}]),n}(VG);Q(),Nt(),Zt(),St();var WG=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.dkt),void 0===r&&(r=n.fkt),void 0===e&&(e=n.Lkt),void 0===u&&(u=n.Pct),(s=t.call(this)||this).Ekt=0,s.kkt=e,s.ikt=new zG(i),s.ekt=new zG(r),s.skt=u,s}Et(n,t);var i=n.prototype;return i.Ect=function(t,n){var i=8*n/t;this.ikt.Ect(t,i),this.ekt.Ect(t,i),this.Ekt+=n,this.DY(),this.yo(new ka(GG.Tkt))},i.Rct=function(){return this.Ekt>=this.kkt},Ct(n,[{key:"Mst",get:function(){return this.Rct()?k.min(this.ikt.Mst,this.ekt.Mst):this.skt}}]),n}(VG);WG.Lkt=128e3,WG.Pct=Bk,WG.dkt=.5,WG.fkt=5;var ZG=function(){function t(t,n){var i=this;this.Okt=[],this.Ckt=function(){for(var t=0,n=i.Okt;t<n.length;t++){(0,n[t])()}},this.Pkt=t>0?t:WG.Pct,this.zkt=new RG(RG.dkt,RG.fkt,n>0?n:RG.Pct),this.xkt(this.Pkt)}var n=t.prototype;return n.xkt=function(t){var n;null==(n=this.Uct)||n.fn(GG.Tkt,this.Ckt),this.Uct=new FG(t),this.Uct.yn(GG.Tkt,this.Ckt)},n.jkt=function(t){this.Okt.push(t)},n.Rkt=function(t){Co(this.Okt,t)},n.VY=function(t){if("segment"===t.YA&&"video"===t.RI){var n=[new UG(this.zkt)];return this.Uct&&("stream"===t.oI&&"initialization-segment"!==t.OI?n.push(new QG(this.Uct,1e3)):n.push(new PG(this.Uct))),new BG(n)}},Ct(t,[{key:"FY",get:function(){var t,n;return null!=(n=null==(t=this.Uct)?void 0:t.Mst)?n:this.Pkt}},{key:"YY",get:function(){return this.zkt.Mst}}]),t}();Q(),Nt(),Zt(),tn(),sn();var XG=function(){function t(){}var n=t.prototype;return n.Bkt=function(t,n){var i=n-t;(!this.Ukt||i<this.Ukt)&&(this.Ukt=i)},n.Qkt=function(t,n){this.Fkt=n-t},n.Ykt=function(t,n){this.Vkt=n-t},n.Gkt=function(t,n){this.Wkt=n-t},n.Hkt=function(t){var n=this.Zkt;if(void 0!==n)return n-t},n.tr=function(){this.Ukt=void 0,this.Fkt=void 0,this.Wkt=void 0,this.Vkt=void 0},Ct(t,[{key:"Zkt",get:function(){var t=Po([this.Vkt,this.Wkt].filter(ci),$t);return void 0!==t?Kt.Og()/1e3+t:void 0!==this.Fkt?Kt.Og()/1e3+this.Fkt:void 0!==this.Ukt?Kt.Og()/1e3+this.Ukt:void 0}}]),t}();Q(),Nt(),tn();var HG=.25,KG=400,JG={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:FM,maximumPlaybackRate:WM},qG={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:FM,maximumPlaybackRate:WM},$G={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:FM,maximumPlaybackRate:WM},tV={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:FM,maximumPlaybackRate:WM},nV={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:FM,maximumPlaybackRate:WM};function iV(t){if(Kt.IA.EA){var n=(KG+250)/1e3,i=k.max(n,t.minimumOffset),r=k.max(i+HG,t.targetOffset),e=k.max(r+HG,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:k.max(e+HG,t.forceSeekOffset),minimumPlaybackRate:FM,maximumPlaybackRate:WM}}return t}function rV(){var t;return t=Kt.Ys.Np?tV:Kt.Ys.Lp?qG:Kt.Ys.kp?"Android"===Kt.IA.DA?$G:JG:nV,Kt.IA.EA?iV(t):t}Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Sn(),Tn(),Q(),Nt();var eV=function(){function t(){this.QDt=[]}var n=t.prototype;return n.Xkt=function(t){for(var n=0,i=this.QDt;n<i.length;n++){var r=i[n];r[1]=r[1].Sn(t)}},n.qkt=function(t,n){for(var i=!0,r=0,e=this.QDt;r<e.length;r++){var u=e[r],s=u[1];s=s.yP(n),t===u[0]&&(s=s.pP(n),i=!1),u[1]=s.mP(1e-5)}i&&this.QDt.push([t,n])},n.Kkt=function(t){for(var n=0,i=this.QDt;n<i.length;n++){var r=i[n];r[1]=r[1].yP(t)}},n.Jkt=function(t){for(var n=0;n<this.QDt.length;n++)if(this.QDt[n][1].gr(t))return this.QDt[n][0]},t}(),uV=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).$kt=[],u.eLt=void 0,u.y3=new ca,u.cz=i,u.Qht=n,u.nbt=r,u.oLt=e,u.tLt=new eV,u.Qht.yn(ZI.g$,u.Ds),u}Et(n,t);var i=n.prototype;return i.Jkt=function(t){return this.tLt.Jkt(t)},i.appendStream=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w;return pn(this,(function(y){switch(y.label){case 0:if(r.iLt)throw new A("Concurrent appends are not supported.");y.label=1;case 1:y.trys.push([1,,10,11]),e={stack:[],error:void 0,hasError:!1},y.label=2;case 2:y.trys.push([2,7,8,9]),u=kn(e,ca.Iy([i,r.y3.ly]),!1),s=u.ly,r.tLt.Xkt(r.TE),r.eLt=new sh,o=sE(t),a=o.getReader(),y.label=3;case 3:return[4,ra(a.read(),s)];case 4:return(c=y.sent()).done?[3,6]:(h=c.value,f={YA:HI.v$,rI:qc(h.map((function(t){return t.ilt})))},v={ct:kr(h,(function(t){return t.ct})),kst:h[0].Evt,rQ:-n.Lut.nLt},[4,r.Q4(f,v,s)]);case 5:return y.sent(),d=v.kst+v.rQ,l=d+v.ct,r.tLt.qkt(n.Lut,GM.RP(d,l)),[3,3];case 6:return[3,9];case 7:return g=y.sent(),e.error=g,e.hasError=!0,[3,9];case 8:return Mn(e),[7];case 9:return[3,11];case 10:return n.rLt(),w=r.eLt,r.eLt=void 0,null==w||w.sM(),[7];case 11:return[2]}}))}))()},i.B4=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:if(e.iLt)throw new A("Concurrent appends are not supported.");v.label=1;case 1:v.trys.push([1,,7,8]),u={stack:[],error:void 0,hasError:!1},v.label=2;case 2:return v.trys.push([2,4,5,6]),s=kn(u,ca.Iy([r,e.y3.ly]),!1),o=s.ly,e.eLt=new sh,[4,e.Q4(t,n,o)];case 3:return v.sent(),a=n.kst+n.rQ,c=a+n.ct,e.tLt.Xkt(e.TE),e.tLt.qkt(i,GM.RP(a,c)),[3,6];case 4:return h=v.sent(),u.error=h,u.hasError=!0,[3,6];case 5:return Mn(u),[7];case 6:return[3,8];case 7:return f=e.eLt,e.eLt=void 0,null==f||f.sM(),[7];case 8:return[2]}}))}))()},i.Q4=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:return r.Qht.E3===lw.NI&&r.oLt.Cft(t.rI,n.kst,n.kst+n.ct,n.rQ,r.nbt,!1),e=r.cz.mz.wz,u=r.Qht.TE.gr(r.cz.LE),e||u?[4,r.hLt(i)]:[3,3];case 1:return o.sent(),[4,r.Qht.B4(t,n,i)];case 2:case 4:return[2,o.sent()];case 3:return r.$kt.push([t,n]),s=r.$kt[0][1].kst,r.$kt[r.$kt.length-1][1].kst-s>=.4?[4,r.hLt(i)]:[3,5];case 5:return[2]}}))}))()},i.F4=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:if(i.iLt)throw new A("Concurrent appends are not supported.");a.label=1;case 1:a.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,5,6,7]),e=kn(r,ca.Iy([n,i.y3.ly]),!1),u=e.ly,i.eLt=new sh,[4,i.hLt(u)];case 3:return a.sent(),[4,i.Qht.F4(t,{},u)];case 4:return a.sent(),i.Qht.E3===lw.NI&&i.oLt.$ht(t.rI),[3,7];case 5:return s=a.sent(),r.error=s,r.hasError=!0,[3,7];case 6:return Mn(r),[7];case 7:return[3,9];case 8:return o=i.eLt,i.eLt=void 0,null==o||o.sM(),[7];case 9:return[2]}}))}))()},i.wS=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:if(r.iLt)throw new A("Concurrent appends are not supported.");c.label=1;case 1:c.trys.push([1,,8,9]),e={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,5,6,7]),u=kn(e,ca.Iy([i,r.y3.ly]),!1),s=u.ly,r.eLt=new sh,[4,r.hLt(s)];case 3:return c.sent(),[4,r.Qht.wS(t,n,s)];case 4:return c.sent(),r.tLt.Kkt(GM.RP(t,n)),[3,7];case 5:return o=c.sent(),e.error=o,e.hasError=!0,[3,7];case 6:return Mn(e),[7];case 7:return[3,9];case 8:return a=r.eLt,r.eLt=void 0,null==a||a.sM(),[7];case 9:return[2]}}))}))()},i.DX=function(t){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:if(n.iLt)throw new A("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,4,5,6]),r=kn(i,ca.Iy([t,n.y3.ly]),!1),e=r.ly,n.eLt=new sh,[4,n.hLt(e)];case 3:return o.sent(),[3,6];case 4:return u=o.sent(),i.error=u,i.hasError=!0,[3,6];case 5:return Mn(i),[7];case 6:return[3,8];case 7:return s=n.eLt,n.eLt=void 0,null==s||s.sM(),[7];case 8:return[2]}}))}))()},i.hLt=function(t){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:i=0,r=n.$kt,o.label=1;case 1:return i<r.length?(e=En(r[i],2),u=e[0],s=e[1],[4,n.Qht.B4(u,s,t)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return Ro(n.$kt),[2]}}))}))()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:t.y3.wy(),n.label=1;case 1:return t.iLt?[4,t.sLt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},Ct(n,[{key:"TE",get:function(){for(var t=GM.PP(),n=0,i=this.$kt;n<i.length;n++){var r=En(i[n],2)[1],e=r.kst+r.rQ,u=e+r.ct;t=t.pP(GM.RP(e,u))}return this.Qht.TE.pP(t)}},{key:"iLt",get:function(){return void 0!==this.eLt}},{key:"sLt",get:function(){return this.eLt?this.eLt.rM:st.resolve()}}]),n}(Aa);Q(),Nt(),An(),Zt(),St(),Tn(),tn(),Q(),Nt(),An(),Tn(),tn();var sV=function(){function t(t){this.uLt=0,this.cLt=t}var n=t.prototype;return n.aLt=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:if(i.uLt>=i.cLt.maxRetries)throw t;return[4,ga(i.lLt(i.uLt++),n)];case 1:return r.sent(),[2]}}))}))()},n.lLt=function(t){var n=0;return 0!==t&&(n+=k.min(this.cLt.maximumBackoff,this.cLt.minimumBackoff*(k.pow(2,t)-1))),n},t}();Q(),Nt(),St(),tn(),Q(),Nt(),St();var oV=function(t){return t.dLt="emsgdata",t}({}),aV=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return Et(n,t),n}(ka);Q(),Nt();var cV=function(){function t(){}var n=t.prototype;return n.start=function(t){this.JJ=t},n.fLt=function(t){this.JJ.enqueue(t)},t}();Q(),Nt(),Q(),Nt();var hV=function(t){return t.gLt="initdata",t.MANIFEST_UPDATE="manifestupdate",t._Lt="timestamps:v1",t}({});var fV="urn:theo:hesp:2020";function vV(t){if(t.xR===fV){var n=t.zD;if(n===hV.gLt)return function(t){if(t&&di(t)){var n=t;if(Ai(n.index)&&Ai(n.offset)&&!(n.index<0&&n.offset<0))return{YA:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(Lc(Rc(t.RR),new Vc)));if(n===hV.MANIFEST_UPDATE)return function(t){if(t&&di(t)){var n=t;if(!ci(n.url)||gi(n.url))return{YA:"manifestupdate",url:n.url}}}(JSON.parse(Lc(Rc(t.RR),new Vc)));if(n===hV._Lt){var i,r=Rc(t.RR),e=new Vc,u=dc(r,e).toNumber()/t.xj,s=dc(r,e).toNumber()/1e3,o=fc(r,e)/1e3;return e.tc+8<=r.byteLength&&(i={hours:fc(r,e),minutes:ac(r,e),seconds:ac(r,e),frames:cc(r,e)}),{YA:hV._Lt,vLt:u,wLt:s,mLt:o,pLt:i}}}}var dV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ALt=new Aa,n}Et(n,t);var i=n.prototype;return i.transform=function(t){if(t.YA===pm.IC)try{var n=vV(jm.Tj(t.rI));n&&this.ALt.yo(new aV(n.YA,n))}catch(t){false}this.fLt(t)},i.wy=function(){this.ALt.Bo()},n}(cV);Q(),Nt(),St();var lV=function(){function t(){}var n=t.prototype;return n.start=function(t){this.Bv=new gV(t)},n.transform=function(t){this.Bv.b0(t)},n.flush=function(){this.Bv.T0()},t}(),gV=function(t){function n(n){var i;return(i=t.call(this)||this).JJ=n,i}Et(n,t);var i=n.prototype;return i.x0=function(t){return!0},i.j0=function(t){this.JJ.enqueue(t)},i.R0=function(t){},n}(cE);Q(),Nt(),An(),St(),Tn(),Q(),Nt();var wV=fr.fromNumber(dr);var yV=function(t){function n(n,i){var r;return(r=t.call(this)||this).OQ=n,r.yLt=i,r}return Et(n,t),n.prototype.hI=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.OQ.hI(t)];case 2:return[2,r.sent()];case 3:if($o(i=r.sent()))throw i;return[4,n.yLt.aLt(i,t.ly)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(Aa);function mV(t,n,i,r,e,u,s,o){var a=new Vd;return e&&a.zN(function(t,n){return void 0===n&&(n=wV),new Vd({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{zu:t,aI:a,zI:!1,ly:o,YA:Nl.gI,OI:i,RI:r,CI:u,jI:s,oI:n,QI:n===Gd.jN}}Q(),Nt(),St(),Q(),Nt();var AV=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),pV=function(t){function n(n,i){var r;return(r=t.call(this)||this).bLt=[],r.kX=n,r.Ict=r.kX.match(/video/)?ax.NI:ax.SI,r.KM=i,r}Et(n,t);var i=n.prototype;return i.transform=function(t){this.bLt.push(t),t.YA===pm.SC&&this.MLt(this.bLt.splice(0),AV.FRAMES)},i.MLt=function(t,n){var i={xj:this.KM,gX:this.kX},r=qc(t.map((function(t){return Bc(t.rI.rI)}))),e=Do(t,_V),u=jm.dj(e.rI.rI)[0],s={RI:this.Ict,Vb:i,ilt:r,YA:n,ct:this._d(u)/this.KM,Evt:Er(this.TLt(u),this.KM)};this.fLt(s)},i._d=function(t){var n,i=t.Z[0];if(!i||0===i.bR.length)return 0;var r=null!=(n=i.nj.dR)?n:0;return i.bR[0].kR.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i.TLt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].MR)?void 0:n.MR)?i:fr.UZERO},n}(cV);function _V(t){return t.YA===pm.mC}Q(),Nt();var kV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).DLt="now",e.RLt=new ca,e.eLt=void 0,e.SLt=n,e.yLt=new sV(r),e.FLt=new dV,e.FLt.ALt.yn(oV.dLt,e.Ds),e.OQ=i,e.Ict=function(t){switch(t){case ax.SI:return Il.SI;case ax.NI:return Il.NI;default:return Il.dI}}(n.YA),e.PLt=new yV(e.OQ,e.yLt),e}Et(n,t);var i=n.prototype;return i.Edt=function(t){return t+1},i.Wb=function(t){this.DLt=t,this.ELt=void 0,this.kLt=void 0},i.LLt=function(){return void 0!==this.ELt},i.xLt=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:if(t.iLt)throw new A("Concurrent downloads are not supported.");g.label=1;case 1:return g.trys.push([1,,4,5]),t.eLt=new sh,"now"===t.DLt?n=Kt.TA(t.SLt.CLt("now"),t.SLt.jLt):(i=t.DLt,r=0===i?1:t.SLt.OLt(i),n=Kt.TA(t.SLt.CLt(r),t.SLt.jLt)),e=mV(n,Gd.xN,Dl.wI,t.Ict,void 0,3e3,1e3,t.RLt.ly),[4,t.PLt.hI(e)];case 2:return[4,g.sent().FN(t.RLt.ly)];case 3:return u=g.sent(),s=new N(u),o=function(t){var n=Im.qC(new bm(Rc(t),new Vc)),i=Do(n,(function(t){return t.YA===pm.EC||t.YA===pm.mC}));if(void 0===i)return{zLt:t,zj:void 0};var r=Oc(t,0,i.tc),e=Oc(t,i.tc);return{zLt:r,zj:0===e.byteLength?void 0:e}}(s),a=o.zLt,c=o.zj,h=jm.dj(Rc(s)),t.KM=function(t){var n=Do(t,(function(t){return t.YA===pm.kx}));return n.Z[0].zj.nj.xj}(h),f=function(t){var n=t.filter((function(t){return t.YA===pm.IC})),i=n.map((function(t){return vV(t)})),r=Do(i,(function(t){return(null==t?void 0:t.YA)===hV.gLt}));if(!r)throw new A("No init data in init response");return r}(h),t.ELt=f.index,t.kLt=f.offset,c&&(d=jm.dj(Rc(s)),v=function(t,n,i){var r,e,u,s=Do(t,(function(t){return t.YA===pm.mC})),o=Er(null!=(e=null==(r=s.Z[0].MR)?void 0:r.MR)?e:fr.UZERO,i),a=s.Z[0],c=null!=(u=a.nj.dR)?u:0,h=a.bR[0],f=h.kR.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{kst:o,ct:f,rQ:n}}(d,-t.Lut.nLt,t.KM)),[2,{initialization:a,data:c,metadata:v}];case 4:return l=t.eLt,t.eLt=void 0,null==l||l.sM(),[7];case 5:return[2]}}))}))()},i.BLt=function(){if(this.iLt)throw new A("Concurrent downloads are not supported.");this.eLt=new sh;var t=void 0!==this.kLt?fr.fromNumber(this.kLt):void 0;return ul(this.ULt(this.ELt,t,this.RLt.ly)).pipeThrough(new $d(new pV(this.Lut.gX,this.KM))).pipeThrough(new $d(new MV(this.RLt.ly)))},i.ULt=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return e=r.QLt(t,n,i),[4,r.PLt.hI(e)];case 1:return[2,u.sent().YN().pipeThrough(new $d(new lV)).pipeThrough(new $d(r.FLt))]}}))}))()},i.QLt=function(t,n,i){var r=this.SLt.YLt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return mV(Kt.TA(r,this.SLt.jLt),Gd.jN,Dl.dI,this.Ict,e,25e3,1e3,i)},i.rLt=function(){void 0!==this.ELt&&(this.ELt=this.Edt(this.ELt)),this.kLt=void 0;var t=this.eLt;this.eLt=void 0,null==t||t.sM()},i.cancelDownload=function(){var t;this.RLt.Ty(),this.RLt=new ca,this.eLt=null!=(t=this.eLt)?t:new sh,this.ELt=void 0,this.kLt=void 0;var n=this.eLt;this.eLt=void 0,null==n||n.sM()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.FLt.wy(),t.RLt.Ty(),[4,t.sLt];case 1:return n.sent(),t.ELt=void 0,t.kLt=void 0,[2]}}))}))()},Ct(n,[{key:"Lut",get:function(){return this.SLt}},{key:"NLt",get:function(){return!1}},{key:"ILt",get:function(){return this.DLt}},{key:"iLt",get:function(){return void 0!==this.eLt}},{key:"sLt",get:function(){return this.eLt?this.eLt.rM:st.resolve()}}]),n}(Aa);var MV=function(){function t(t){var n=this;this.VLt=function(){n.JJ.error(new qo)},this.My=t}var n=t.prototype;return n.start=function(t){this.JJ=t,this.My.uy(this.VLt)},n.flush=function(){this.My.oy(this.VLt)},t}();function bV(t){var n;return t.value/(null!=(n=t.scale)?n:1)}Q(),Nt(),Zt(),Q(),Nt(),Zt(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),tn();var TV="{initId}",NV=/{initId(?::0(?:\d+)d)?}/,DV=/{segmentId(?::0(?:\d+)d)?}/,IV=function(){function t(t,n,i){var r,e,u,s;this.eMt=[],this.bB=t,this.oxt=i,this.aS=t.id,this.EY=t.bandwidth,this.GLt=t.averageBandwidth,this.qLt=null!=(r=t.baseUrl)?r:"",this.JLt=null!=(e=t.codecs)?e:n.codecs,this.txt=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.sxt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.eB=t.label,this.nxt=t.mediaTimeOffset?bV(t.mediaTimeOffset):0,this.Hbt=t.segmentDuration?bV(t.segmentDuration):0,this.Yn(t)}return t.prototype.Yn=function(t){this.ZLt=t.activeSegment,this.XLt=t.activeSequenceNumber,this.eMt=t.segments},Ct(t,[{key:"o",get:function(){return this.aS}},{key:"FY",get:function(){return this.EY}},{key:"Gyt",get:function(){return this.GLt}},{key:"Wot",get:function(){return this.eMt}},{key:"WLt",get:function(){return this.ZLt}},{key:"HLt",get:function(){return this.XLt}},{key:"jLt",get:function(){return Kt.TA(this.qLt,this.KLt.jLt)}},{key:"cht",get:function(){return this.JLt}},{key:"kh",get:function(){return this.eB}},{key:"$Lt",get:function(){return this.txt}},{key:"ixt",get:function(){return this.sxt}},{key:"nLt",get:function(){return this.nxt}},{key:"rxt",get:function(){return this.Hbt}}]),t}(),EV=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).axt=null!=(u=n.channels)?u:1,e.uxt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.OM=null!=(a=n.sampleRate)?a:i.sampleRate,e}return Et(n,t),Ct(n,[{key:"YA",get:function(){return ax.SI}},{key:"KLt",get:function(){return this.oxt}},{key:"hxt",get:function(){return this.axt}},{key:"vgt",get:function(){return this.uxt}},{key:"AO",get:function(){return this.OM}},{key:"gX",get:function(){return'audio/mp4; codecs="'+this.cht+'"'}}]),n}(IV),SV=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).Wp=n.resolution,e.uxt=bV(null!=(u=n.frameRate)?u:i.frameRate),e}return Et(n,t),Ct(n,[{key:"YA",get:function(){return ax.NI}},{key:"KLt",get:function(){return this.oxt}},{key:"cxt",get:function(){return this.Wp}},{key:"vgt",get:function(){return this.uxt}},{key:"gX",get:function(){return'video/mp4; codecs="'+this.cht+'"'}}]),n}(IV);function LV(t,n){var i=String(n);if(t===TV||"now"===n)return i;var r=M(t.substring(9,t.lastIndexOf("d")));return uo(i,r,"0")}function CV(t,n){var i=String(n);if(t===TV)return i;var r=M(t.substring(12,t.lastIndexOf("d")));return uo(i,r,"0")}tn();var jV=function(){function t(t,n,i){var r;this.oxt=t,this.yL=i,this.lxt=n,this.aS=t.id,this.fxt=t.alignId,this.qLt=null!=(r=t.baseUrl)?r:"",this.eB=t.label,this.nxt=t.mediaTimeOffset?bV(t.mediaTimeOffset):0,this._xt=t.protection,this.Yn(t)}return t.prototype.Yn=function(t){for(var n=function(n,i){var r=i[n],e=Do(t.tracks,(function(t){return r.o===t.id}));e&&r.Yn(e)},i=0,r=this.yL;i<r.length;i++)n(i,r)},Ct(t,[{key:"Rnt",get:function(){return this.lxt}},{key:"o",get:function(){return this.aS}},{key:"dxt",get:function(){return this.fxt}},{key:"jLt",get:function(){return Kt.TA(this.qLt,this.Rnt.jLt)}},{key:"kh",get:function(){return this.eB}},{key:"nLt",get:function(){return this.nxt}},{key:"gxt",get:function(){return this._xt}}]),t}(),xV=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new EV(o,n,r))}return r}return Et(n,t),n.prototype.Yn=function(n){var i,r;t.prototype.Yn.call(this,n),this.$M=n.language,this.axt=null!=(i=n.channels)?i:1,this.kX=null!=(r=n.mimeType)?r:"audio/mp4"},Ct(n,[{key:"KLt",get:function(){return this.oxt}},{key:"Z",get:function(){return this.yL}},{key:"gs",get:function(){return this.$M}},{key:"hxt",get:function(){return this.axt}}]),n}(jV),OV=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new SV(o,n,r))}return r}return Et(n,t),n.prototype.Yn=function(n){var i;t.prototype.Yn.call(this,n),this.kX=null!=(i=n.mimeType)?i:"video/mp4"},Ct(n,[{key:"KLt",get:function(){return this.oxt}},{key:"Z",get:function(){return this.yL}}]),n}(jV);tn();var zV=function(){function t(t,n){var i,r,e;this.yxt=[],this.Mxt=[],this.wxt=t,this.aS=n.id,this.qLt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.yxt.push(new xV(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.Mxt.push(new OV(h,this))}this.Yn(n)}return t.prototype.Yn=function(t){var n;this.pxt=t.timeBounds,this.J_=null!=(n=t.events)?n:[],this.EG=t.currentTime?bV(t.currentTime):void 0},Ct(t,[{key:"o",get:function(){return this.aS}},{key:"jLt",get:function(){return Kt.TA(this.qLt,this.wxt.vxt)}},{key:"mxt",get:function(){return this.pxt}},{key:"LE",get:function(){return this.EG}},{key:"_X",get:function(){return this.J_}},{key:"Axt",get:function(){return this.yxt}},{key:"bxt",get:function(){return this.Mxt}}]),t}();tn();var RV=function(){function t(t,n){this.Cxt=[],this.Pxt=t,this.wxt=n,this.Yn(n)}return t.prototype.Yn=function(t){var n,i,r=function(t,i){var r=i[t],e=Do(n.Cxt,(function(t){return t.o===r.id}));e?e.Yn(r):n.Cxt.push(new zV(n,r))};this.Sxt=bV(t.availabilityDuration),this.Ixt=t.creationDate,this.Ext=t.fallbackPollRate,this.Lxt=t.manifestVersion,this.TM=t.streamType,this.Oxt=t.activePresentation,this.Rxt=t.contentBaseUrl,this.Bxt=null==(i=t.timeSource)?void 0:i.url,this.wxt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.Cxt=this.Cxt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},Ct(t,[{key:"XL",get:function(){return this.wxt}},{key:"Txt",get:function(){return this.Sxt}},{key:"Nxt",get:function(){return this.Ixt}},{key:"Dxt",get:function(){return this.Ext}},{key:"kxt",get:function(){return this.Lxt}},{key:"xxt",get:function(){return this.Cxt}},{key:"I1",get:function(){return this.TM}},{key:"jxt",get:function(){return this.Oxt}},{key:"vxt",get:function(){var t;return Kt.TA(null!=(t=this.Rxt)?t:"",this.Pxt)}},{key:"zxt",get:function(){return this.Bxt}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var BV=0,UV=function(t){function n(n){var i;return(i=t.call(this)||this).iB=BV++,i.Uxt=n,i}Et(n,t);var i=n.prototype;return i.OLt=function(t){var n=(t-this.Uxt.KLt.Rnt.LE)*this.framesPerSecond();return k.round(this.Uxt.HLt+n)},i.Qxt=function(t){return t+1},i.CLt=function(t){for(var n,i,r=this.Uxt.ixt;i=null==(n=r.match(NV))?void 0:n.pop();)r=r.split(i).join(LV(i,t));return r+("now"===t?"?uuid="+eD():"")},i.YLt=function(t){for(var n,i,r=this.Uxt.$Lt;i=null==(n=r.match(DV))?void 0:n.pop();)r=r.split(i).join(CV(i,t));return r},i.kQ=function(){},i.EQ=function(){},Ct(n,[{key:"lot",get:function(){return!0}},{key:"Gyt",get:function(){return this.Uxt.Gyt}},{key:"FY",get:function(){return this.Uxt.FY}},{key:"cht",get:function(){return this.Uxt.cht}},{key:"o",get:function(){return this.Uxt.o}},{key:"kh",get:function(){var t;return null!=(t=this.Uxt.kh)?t:""}},{key:"zL",get:function(){return this.iB}},{key:"Xyt",get:function(){return this.Uxt.jLt}},{key:"Wyt",get:function(){}},{key:"gX",get:function(){return this.Uxt.gX}},{key:"nLt",get:function(){return this.Uxt.nLt}},{key:"jLt",get:function(){return this.Uxt.jLt}},{key:"YA",get:function(){return this.Uxt.YA}}]),n}(Aa),PV=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Za=void 0,r.bB=i,r}return Et(n,t),n.prototype.framesPerSecond=function(){return this.Uxt.AO/this.Uxt.vgt},Ct(n,[{key:"Fxt",get:function(){return this.Uxt}},{key:"GAt",get:function(){return this.Uxt.AO}},{key:"Ht",get:function(){return this.bB}},{key:"ga",get:function(){return this.Za||(this.Za=kP(this)),this.Za}}]),n}(UV),QV=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Za=void 0,r.bB=i,r}return Et(n,t),n.prototype.framesPerSecond=function(){return this.Uxt.vgt},Ct(n,[{key:"Fxt",get:function(){return this.Uxt}},{key:"Zyt",get:function(){return 0}},{key:"vgt",get:function(){return this.Uxt.vgt}},{key:"Ti",get:function(){return this.Uxt.cxt.height}},{key:"ji",get:function(){return this.Uxt.cxt.width}},{key:"cxt",get:function(){return this.Uxt.cxt}},{key:"Ht",get:function(){return this.bB}},{key:"ga",get:function(){return this.Za||(this.Za=_P(this)),this.Za}}]),n}(UV);Q(),Nt();var YV=function(t){return t.Yxt="alternative",t.Vxt="main",t.Gxt="commentary",t.Wxt="",t.bQ="descriptions",t.Zxt="main-desc",t.Hxt="translation",t}({}),GV=function(t){return t.Yxt="alternative",t.Vxt="main",t.Gxt="commentary",t.Wxt="",t.yQ="captions",t.CL="sign",t.AQ="subtitles",t}({}),VV=0,FV=function(t){function n(n,i,r){var e;(e=t.call(this)||this).qz=new bw,e.iB=VV++,e.He=!1,e.udt=void 0,e.oxt=i,e.Jxt=r,e.$xt=new FQ(n,[]);for(var u=0,s=i.Z;u<s.length;u++){var o=s[u];e.qz.Kz(e.createQuality(o))}return e}Et(n,t);var i=n.prototype;return i.nB=function(t){this.Rt=t},i.tCt=function(t){for(var n=0,i=this.qz.AL;n<i.length;n++){var r=i[n];r===t&&this.yo(new gU(r))}},Ct(n,[{key:"PL",get:function(){return this.Xxt()}},{key:"Rt",get:function(){return this.He},set:function(t){this.Rt!==t&&(this.He=t,t&&this.qxt(),this.Jxt.Kxt(),this.yo(new Tw(this)))}},{key:"ga",get:function(){return this.Za||(this.Za=hw(this)),this.Za}},{key:"Zft",get:function(){return this.$xt}},{key:"o",get:function(){return this.oxt.o}},{key:"zL",get:function(){return this.iB}},{key:"kh",get:function(){var t;return null!=(t=this.oxt.kh)?t:""}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"UL",get:function(){return this.qz}},{key:"QL",get:function(){return this.udt},set:function(t){this.udt=t,this.Jxt.Kxt(),this.yo(new UR(t,this))}}]),n}(Aa),WV=function(t){function n(n,i){return t.call(this,lw.SI,n,i)||this}Et(n,t);var i=n.prototype;return i.qxt=function(){this.Jxt.iCt(this)},i.Xxt=function(){var t=this.Jxt.eCt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new PV(t,this)},Ct(n,[{key:"YA",get:function(){return ax.SI}},{key:"Lt",get:function(){return YV.Vxt}},{key:"gs",get:function(){return this.oxt.gs}},{key:"KLt",get:function(){return this.oxt}}]),n}(FV),ZV=function(t){function n(n,i){return t.call(this,lw.NI,n,i)||this}Et(n,t);var i=n.prototype;return i.qxt=function(){this.Jxt.sCt(this)},i.Xxt=function(){var t=this.Jxt.nCt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new QV(t,this)},Ct(n,[{key:"YA",get:function(){return ax.NI}},{key:"Lt",get:function(){return GV.Vxt}},{key:"gs",get:function(){return""}},{key:"KLt",get:function(){return this.oxt}}]),n}(FV);function XV(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return HV(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return HV(t,n,[],r,i)}(t,i?[i]:[],!r),s=AY(e,u);return t.preferredKeySystems&&(null==s?void 0:s.bpt)&&(s.bpt=IY(s.bpt,t.preferredKeySystems)),s}}function HV(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(ci);if(u.length){var s=u[0].type,o=Uo(u,(function(t){return t.systems})),a=Uo(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return Js.filter((function(n){return n.WA===t.toLowerCase()}))}(t.schemeId):function(t){return Ks.filter((function(n){return n.WA===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({hY:KV(t)?t.uri:void 0,NS:u,qY:void 0,XY:t.pssh?[Ra(t.pssh).buffer]:[]})}return i}(t,e)}));return{IF:t,Mpt:{BSt:s},bpt:a,USt:i,QSt:r}}}function KV(t){return t.schemeId===Ns.QA&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}Q(),Nt(),tn(),sn(),Q(),Nt(),An(),Zt(),Tn(),tn(),Q(),Nt();var JV;function qV(t){var n=t.LE,i=t.TE.CP(n);return i?i.jn(0)-n:0}JV="Android"===Kt.IA.DA?200:300;var $V=Kt.Ys.Lp?1:.5,tF=function(){function t(t,n,i,r,e){var u=this;this.cz=t,this.aV=n,this.gCt=i,this.DCt=r,this.hCt=e,this.Ea=0,this._Ct=st.resolve(),this.bCt=[],this.MCt=void 0,this.lCt=function(){var t,n;if(!u.DCt.wk){var i=null==(t=u.gCt.eCt)?void 0:t.Ht,r=null==(n=u.gCt.nCt)?void 0:n.Ht,e=Po(u.mCt(i,r),(function(t){return t.pCt}));e&&(va(u.ACt(e,!0)),u.cz.mz.wz&&u.DCt.qL())}},this.cCt=function(){u.uCt.yn(zA.rP,u.lCt),u.uCt.fn(zA.oP,u.cCt)},this.aCt=function(){if(u.bCt.unshift(u.hCt.FY),u.bCt=u.bCt.slice(0,3),u.dCt){var t=u.dCt.yCt.pCt;u.hCt.FY<t&&(u.dCt=void 0,u.VP())}},this.uCt=new ZA(this.cz)}var n=t.prototype;return n.Cn=function(){var t=this;1!==this.Ea&&(this.Ea=1,this.rCt=Kt.dA((function(){t.oCt()}),JV),this.hCt.jkt(this.aCt),this.cz.KE?this.uCt.yn(zA.oP,this.cCt):this.cCt())},n.zk=function(){0!==this.Ea&&(this.Ea=0,void 0!==this.rCt&&Kt.fA(this.rCt),this.hCt.Rkt(this.aCt),this.uCt.fn(zA.rP,this.lCt),this.uCt.fn(zA.oP,this.cCt),this.dCt=void 0,this.VP())},n.oCt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t._Ct];case 1:return n.sent(),t._Ct=t.vCt(),[4,t._Ct];case 2:return n.sent(),[2]}}))}))()},n.wCt=function(t,n){for(var i=this.mCt(t,n),r=this.hCt.FY,e=0;e<i.length;e++){var u=i[e];if(u.pCt<=r)return u}return i[i.length-1]},n.vCt=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return r=null==(n=t.gCt.eCt)?void 0:n.Ht,e=null==(i=t.gCt.nCt)?void 0:i.Ht,0===(u=t.mCt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.ACt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.ACt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.fCt;if(!t.some((function(t){return iF(t,n)}))){for(var i=this.hCt.FY,r=0;r<t.length;r++){var e=t[r];if(e.pCt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.hCt.FY,o=(null!=(r=null==(n=this.gCt.eCt)?void 0:n.FY)?r:0)+(null!=(e=null==(i=this.gCt.nCt)?void 0:i.FY)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.pCt<s&&c.pCt>o){u={yCt:c,t_t:Kt.Og()};break}}if(this.dCt&&iF(this.dCt.yCt,null==u?void 0:u.yCt)){var h=Kt.Og()-this.dCt.t_t,f=this.dCt.yCt.pCt,v=this.bCt.length>=3&&this.bCt.every((function(t){return t>f}));if(h>1e3&&v){if(this.cz.mz.wz||Kt.Ys.Np){var d=2*this.hCt.YY;if(!(qV(this.cz)>d))return}else{var l=k.max(2*this.hCt.YY+$V,this.aV.BP.minimumOffset);if(!(qV(this.cz)>l))return void(this.MCt&&this.MCt.minimumOffset===l||(this.VP(),this.MCt={minimumOffset:l},this.aV.QP(this.MCt)))}return this.dCt.yCt}}else this.dCt=u},n.ACt=function(t,n){void 0===n&&(n=!1);var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return i.dCt=void 0,i.VP(),(r=i.fCt).TCt===t.TCt&&r.SCt===t.SCt?[2]:(e=t.TCt,u=t.SCt,r.SCt&&u&&r.SCt.FY>u.FY&&n&&(i.hCt.xkt(t.pCt),i.bCt=[]),[4,i.gCt.NCt(u,e)]);case 1:return s.sent(),[2]}}))}))()},n.VP=function(){this.MCt&&(this.aV.VP(this.MCt),this.MCt=void 0)},n.mCt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.QL)?void 0:i.length)?t.QL:t.UL.AL);if(n){var u,s=(null==(u=n.QL)?void 0:u.length)?n.QL:n.UL.AL,o=s.slice().sort((function(t,n){return t.FY-n.FY})),a=this.ICt(o);0===a.length&&s.length>0&&a.push(Po(s,(function(t){return t.FY}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var d=h[v],l=0;l<f.length;l++){var g=f[l];c.push(nF(d,g))}return function(t){return t.sort((function(t,n){return n.pCt-t.pCt}))}(c)},n.ICt=function(t){for(var n=0;n<t.length;n++){var i=t[n].cxt;if(i.height>=this.cz.Ti&&i.width>=this.cz.ji)return t.slice(0,n+1)}return t.slice()},n.wy=function(){this.dCt=void 0,this.uCt.tr(),this.VP()},Ct(t,[{key:"fCt",get:function(){return nF(this.gCt.eCt,this.gCt.nCt)}}]),t}();function nF(t,n){var i,r;return{TCt:t,SCt:n,pCt:(null!=(i=null==t?void 0:t.FY)?i:0)+(null!=(r=null==n?void 0:n.FY)?r:0)}}function iF(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t.TCt)?void 0:i.o)===(null==(r=n.TCt)?void 0:r.o)&&(null==(e=t.SCt)?void 0:e.o)===(null==(u=n.SCt)?void 0:u.o)&&t.pCt===n.pCt}Q(),Nt(),An(),Zt(),Sn(),Tn(),tn(),sn();var rF=20,eF=function(){function t(t,n,i){this.rN=new ca,this.ECt=t,this.xEt(n,i,this.rN.ly).catch(qt)}var n=t.prototype;return n.xEt=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return i.sy?[3,6]:[4,ga(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,uF(t,n,i)];case 3:return r.ECt=e.sent(),[3,5];case 4:return na(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.wy=function(){this.rN.Ty()},t.create=function(n,i,r){return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,uF(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},Ct(t,[{key:"Ibt",get:function(){return(this.ECt.serverTimeMs+(Kt.Og()-this.ECt.localTimeMs))/1e3}},{key:"kCt",get:function(){return(this.ECt.localTimeMs-this.ECt.serverTimeMs)/1e3}}]),t}();function uF(t,n,i){return sF.apply(this,arguments)}function sF(){return sF=yn((function(t,n,i){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,oF(t,n,i)];case 1:return r=En.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>rF?[4,oF(t,n,i)]:[3,3];case 2:o=En.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),sF.apply(this,arguments)}function oF(t,n,i){return aF.apply(this,arguments)}function aF(){return aF=yn((function(t,n,i){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return r=Kt.Og(),[4,n.hI({xI:Tl.GET,zu:t,ly:i})];case 1:return e=a.sent(),u=Kt.Og()-r,[4,e.UN(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),aF.apply(this,arguments)}var cF=function(t){function n(){return t.call(this,"seek")||this}return Et(n,t),n}(ka),hF=function(t){return t.eW="seek",t}({}),fF=[Ma.so,zA.lL,Ma.Eb],vF=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).WCt=!1,f.ljt=!1,f.Oz=new dw,f.Pz=new dw,f.djt=void 0,f.CCt=void 0,f.jCt=void 0,f.RCt=new sh,f.vV=void 0,f.Ept=void 0,f.PCt=new sh,f.zQ=new ca,f.ijt=void 0,f.tjt=new ca,f.m7=void 0,f.w7=new ca,f.KCt=void 0,f.LCt=void 0,f.ajt=void 0,f.JCt=void 0,f.xCt=void 0,f.hjt=void 0,f.ujt=void 0,f.vz=function(){f.ljt=!0},f.updateActiveQualities=function(){var t,n,i=f.cz.LE,r=null==(t=f.LCt)?void 0:t.Jkt(i),e=null==(n=f.xCt)?void 0:n.Jkt(i);if(f.CCt!==r&&(f.CCt=r,r))for(var u=0,s=f.Oz.AL;u<s.length;u++){s[u].tCt(r)}if(f.jCt!==e&&(f.jCt=e,e))for(var o=0,a=f.Pz.AL;o<a.length;o++){a[o].tCt(e)}},f.rjt=function(t,n){var i=n.data;if(i.YA===hV._Lt){var r,e=i.wLt,u=i.mLt,s=i.vLt,o=i.pLt;if(f.QCt){var a=f.QCt.Ibt,c=f.cz.LE;if(f.ljt&&0!==c){var h={theolive:a-e+s-c,engine:u,distribution:a-(e+u),player:s-c};t===lw.SI?(f.VCt=h,f.zCt.Gkt(f.QCt.kCt+e,s)):(f.YCt=h,f.zCt.Ykt(f.QCt.kCt+e,s))}}if(o)null!=f.djt||(f.djt=f.cz.Wk(hA.MQ,"timecode","timecode",void 0,!1,Yw.DEFAULT,!1,void 0)),f.djt.RQ(new oy(s,s,o,!1,void 0)),bA(f.djt,null!=(r=f.cz.TE.Cn(0))?r:-1)}f.yo(n)},f.e8=function(t){$o(t)||(f.zk(),f.yo(new zk(new md(wd.MEDIA_LOAD_ERROR,t.message))))},f.wc=n,f.UCt=i,f.cz=r,f.OQ=u,f.zCt=s,f.UG=new tF(r,o,f,c,e),f.lft=a,f.ojt=h,f.cz.yn(zA.oP,f.vz),f.cz.yn(fF,f.updateActiveQualities),f}Et(n,t);var i=n.prototype;return i.BCt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.LCt?[4,t.LCt.wS(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.xCt?[4,t.xCt.wS(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.wc.src)throw new md(wd.SOURCE_INVALID,"No src property found in given source.");this.Ept||(this.Ept=this.oD(this.zQ.ly).catch(this.e8))},i.oD=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return n.yo(new iE),i=n.wc.src,[4,n.UCt.qEt(i,t)];case 1:return r=u.sent(),n.wxt=new RV(i,r),n.wxt.zxt?[4,eF.create(n.wxt.zxt,n.OQ,t)]:[3,3];case 2:n.QCt=u.sent(),u.label=3;case 3:return n.FCt(),e=n.wxt.xxt[n.wxt.xxt.length-1],n.createTracksForPresentation(e),n.RCt.sM(),n.Kxt(),[2]}}))}))()},i.iCt=function(t){for(var n=0,i=this.Oz.AL;n<i.length;n++){var r=i[n];r.nB(r===t)}},i.sCt=function(t){for(var n=0,i=this.Pz.AL;n<i.length;n++){var r=i[n];r.nB(r===t)}},i.Kxt=function(){var t=Do(this.Oz.AL,(function(t){return t.Rt})),n=Do(this.Pz.AL,(function(t){return t.Rt})),i=this.UG.wCt(t,n);va(this.NCt(i.SCt,i.TCt))},i.FCt=function(){var t=this;if(this.wxt&&"live"===this.wxt.I1&&this.QCt){var n=this.wxt.xxt.filter((function(n){return n.o===t.wxt.jxt}))[0].LE,i=this.QCt.kCt+new Date(this.wxt.Nxt).getTime()/1e3;this.zCt.Qkt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u=0,s=null!=(r=t.Axt)?r:[];u<s.length;u++){var o=s[u];this.Oz.tt(new WV(o,this))}for(var a=0,c=null!=(e=t.bxt)?e:[];a<c.length;a++){var h=c[a];this.Pz.tt(new ZV(h,this))}null==(n=this.Oz.bL(0))||n.nB(!0),null==(i=this.Pz.bL(0))||i.nB(!0)},i.Cn=function(){this.WCt=!0,this.ZCt()},i.zk=function(){var t;this.WCt=!1,this.HCt().catch(this.e8),"live"===(null==(t=this.XL)?void 0:t.I1)&&(this.XCt(),this.qCt())},i.XCt=function(){this.KCt&&this.KCt.cancelDownload()},i.qCt=function(){this.JCt&&this.JCt.cancelDownload()},i.qL=function(t){var n=this;this.w7.Ty(),this.w7=new ca,this.m7=sa((function(i){return n.$Ct(t,n.m7,i)}),this.w7).catch(this.e8)},i.$Ct=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,ra(r.W,i)];case 3:if(s.sent(),"live"!==r.wxt.I1)throw new A("The current video source does not support Live playback.");return ta(i),[4,r.HCt()];case 4:if(s.sent(),ta(i),!r.KCt||!r.KCt.LLt()&&r.KCt.ILt===(null!=t?t:"now"))return[3,10];if(r.XCt(),!r.LCt)return[3,9];s.label=5;case 5:return r.LCt.iLt?[4,ra(r.LCt.sLt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.LCt.wS(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.KCt)||e.Wb(null!=t?t:"now"),s.label=10;case 10:if(!r.JCt||!r.JCt.LLt()&&r.JCt.ILt===(null!=t?t:"now"))return[3,16];if(r.qCt(),!r.xCt)return[3,15];s.label=11;case 11:return r.xCt.iLt?[4,ra(r.xCt.sLt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.xCt.wS(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.JCt)||u.Wb(null!=t?t:"now"),s.label=16;case 16:return r.yo(new cF),ta(i),r.m7=void 0,r.ZCt(),[2]}}))}))()},i.Wb=function(t){var n=this;this.w7.Ty(),this.w7=new ca,this.m7=sa((function(i){return n.p7(t,n.m7,i)}),this.w7).catch(this.e8)},i.p7=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,ra(r.W,i)];case 3:return s.sent(),ta(i),[4,r.HCt()];case 4:return s.sent(),ta(i),r.KCt&&(r.KCt.LLt()||r.KCt.ILt!==t)&&r.XCt(),r.JCt&&(r.JCt.LLt()||r.JCt.ILt!==t)&&r.qCt(),r.yo(new cF),ta(i),null==(e=r.KCt)||e.Wb(t),null==(u=r.JCt)||u.Wb(t),r.m7=void 0,r.ZCt(),[2]}}))}))()},i.NCt=function(t,n){var i,r,e=this;return(null==(i=this.KCt)?void 0:i.Lut)===n&&(null==(r=this.JCt)?void 0:r.Lut)===t?st.resolve():(this.tjt.Ty(),this.tjt=new ca,this.ijt=sa((function(i){return e.ejt(t,n,e.ijt,i)}),this.tjt).catch(this.e8),this.ijt)},i.ejt=function(t,n,i,r){var e=this;return yn((function(){return pn(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,ra(e.RCt.rM,r)];case 3:return u.sent(),ta(r),[4,e.HCt()];case 4:return u.sent(),ta(r),[4,e.sjt(t,n)];case 5:return u.sent(),[4,e.njt(t,n)];case 6:return u.sent(),ta(r),e.ijt=void 0,e.ZCt(),[2]}}))}))()},i.sjt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p;return pn(this,(function(_){switch(_.label){case 0:return s=null!=(u=i.GCt)?u:"now",(null==(r=i.KCt)?void 0:r.Lut)===n?[3,5]:(a=i.KCt&&!i.KCt.LLt(),c=null==(o=i.KCt)?void 0:o.ILt,i.KCt?[4,i.KCt.wy()]:[3,2]);case 1:_.sent(),i.KCt=void 0,_.label=2;case 2:return i.LCt?[4,i.LCt.sLt]:[3,4];case 3:_.sent(),_.label=4;case 4:n&&(v=null!=(f=null==(h=i.LCt)?void 0:h.TE)?f:GM.PP(),d=a?c:v.jn(v.V-1),i.KCt=new kV(n,i.OQ,i.lft),i.KCt.yn(oV.dLt,(function(t){return i.rjt(lw.SI,t)})),i.KCt.Wb(null!=d?d:s)),_.label=5;case 5:return(null==(e=i.JCt)?void 0:e.Lut)===t?[3,10]:(g=i.JCt&&!i.JCt.LLt(),w=null==(l=i.JCt)?void 0:l.ILt,i.JCt?[4,i.JCt.wy()]:[3,7]);case 6:_.sent(),i.JCt=void 0,_.label=7;case 7:return i.xCt?[4,i.xCt.sLt]:[3,9];case 8:_.sent(),_.label=9;case 9:t&&(A=null!=(m=null==(y=i.xCt)?void 0:y.TE)?m:GM.PP(),p=g?w:A.jn(A.V-1),i.JCt=new kV(t,i.OQ,i.lft),i.JCt.yn(oV.dLt,(function(t){return i.rjt(lw.NI,t)})),i.JCt.Wb(null!=p?p:s)),_.label=10;case 10:return[2]}}))}))()},i.njt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=XV(t,null==n?void 0:n.Ht.KLt.KLt,null==i?void 0:i.Ht.KLt.KLt,r),s=TY(u),o=[];n&&o.push({VN:n.gX});i&&o.push({VN:i.gX});return{YA:OA.FQ,E5:o,yV:s,U5:e&&!r}}(i.wc.contentProtection,n,t,i.cz.mz.wz,i.wc.useManagedMediaSource),!i.vV||!i.vV.N$(r))return[3,12];if(s=!(null==(e=i.KCt)?void 0:e.LLt()),!i.LCt||!s)return[3,5];h.label=1;case 1:return i.LCt.iLt?[4,i.LCt.sLt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.LCt.DX()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.JCt)?void 0:u.LLt()),!i.xCt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.xCt)?void 0:a.iLt)?[4,i.xCt.sLt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.xCt)?void 0:c.DX()];case 9:h.sent(),h.label=10;case 10:return[4,i.vV.D$(r)];case 11:return h.sent(),[3,21];case 12:return i.XCt(),i.qCt(),i.LCt?[4,i.LCt.wy()]:[3,14];case 13:h.sent(),i.LCt=void 0,h.label=14;case 14:return i.xCt?[4,i.xCt.wy()]:[3,16];case 15:h.sent(),i.xCt=void 0,h.label=16;case 16:i.cz.ktt(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.cz.tr()];case 18:return h.sent(),[4,i.cz.$n(r)];case 19:return i.vV=h.sent(),i.PCt.sM(),i.vV.p5&&i.KCt&&(i.vV.p5.yn(ZI.g$,i.Ds),i.LCt=new uV(i.vV.p5,i.cz,n,i.ojt)),i.vV.A5&&i.JCt&&(i.vV.A5.yn(ZI.g$,i.Ds),i.xCt=new uV(i.vV.A5,i.cz,t,i.ojt)),"live"===i.wxt.I1&&i.vV.T5(1/0),[3,21];case 20:return i.cz.Ltt(),[7];case 21:return[2]}}))}))()},i.ZCt=function(){!this.WCt||this.m7||this.ijt||this.hjt||this.ajt||(this.UG.Cn(),this.ujt=new ca,this.JCt&&this.xCt&&(this.hjt=this.cjt(this.JCt,this.xCt,this.ujt.ly).catch(this.e8)),this.KCt&&this.LCt&&(this.ajt=this.cjt(this.KCt,this.LCt,this.ujt.ly).catch(this.e8)))},i.HCt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.UG.zk(),t.ujt&&(t.ujt.Ty(),t.ujt=void 0),t.hjt?[4,t.hjt]:[3,2];case 1:n.sent(),t.hjt=void 0,n.label=2;case 2:return t.ajt?[4,t.ajt]:[3,4];case 3:n.sent(),t.ajt=void 0,n.label=4;case 4:return[2]}}))}))()},i.cjt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.iLt?[4,ra(t.sLt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.iLt?[4,ra(n.sLt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.LLt()?[3,13]:(e=Kt.Og()/1e3,u="now"===t.ILt,[4,t.xLt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={YA:HI.v$,rI:o},f=a?{YA:HI.v$,rI:a}:void 0,v=n.TE,!Kt.Ys.Dp&&!r.cz.mz.wz&&c&&v.jn(v.V-1)>c.kst?[4,n.wS(c.kst,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.F4(h)];case 10:return g.sent(),f?[4,n.B4(f,c,t.Lut)]:[3,12];case 11:g.sent(),g.label=12;case 12:d=n.TE.yP(v),u&&d.V>0&&r.zCt.Bkt(e,d.jn(d.V-1)),g.label=13;case 13:return t.NLt?[3,15]:(ta(i),l=t.BLt(),[4,ra(n.appendStream(l,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.zQ.Ty(),t.Ept?[4,t.Ept.catch(qt)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.m7?(t.w7.Ty(),t.XCt(),t.qCt(),[4,t.m7.catch(qt)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.ijt?(t.tjt.Ty(),t.XCt(),t.qCt(),[4,t.ijt.catch(qt)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.HCt()];case 7:return n.sent(),t.KCt?[4,t.KCt.wy()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.JCt?[4,t.JCt.wy()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.KCt=void 0,t.JCt=void 0,t.PCt.Ty(),t.RCt.Ty(),t.vV?[4,t.cz.tr()]:[3,13];case 12:n.sent(),t.vV=void 0,n.label=13;case 13:return t.LCt=void 0,t.xCt=void 0,t.cz.fn(zA.oP,t.vz),t.cz.fn(fF,t.updateActiveQualities),t.Oz.tr(),t.CCt=void 0,t.Pz.tr(),t.jCt=void 0,t.wxt=void 0,t.QCt&&(t.QCt.wy(),t.QCt=void 0),t.WCt=!1,[2]}}))}))()},Ct(n,[{key:"XL",get:function(){return this.wxt}},{key:"TE",get:function(){return this.LCt&&this.xCt?this.LCt.TE.Sn(this.xCt.TE):this.LCt?this.LCt.TE:this.xCt?this.xCt.TE:GM.PP()}},{key:"eCt",get:function(){return this.CCt}},{key:"nCt",get:function(){return this.jCt}},{key:"ht",get:function(){return this.Oz}},{key:"rt",get:function(){return this.Pz}},{key:"OCt",get:function(){return this.RCt.rM}},{key:"W",get:function(){return this.PCt.rM}},{key:"_k",get:function(){return this.wxt?function(t,n,i){var r,e=null==(r=t.xxt[0])?void 0:r.LE,u=t.Txt;if(void 0===e||void 0===u)return i>0&&i<dr?new GM([0,i],[!0,!0]):GM.PP();var s=n.Zkt;if(!s){var o=VU(t.Nxt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new GM([s-u,s],[!0,!0])}(this.wxt,this.zCt,this.cz.ct):GM.PP()}},{key:"ZL",get:function(){return Po([this.YCt,this.VCt].filter(ci),(function(t){return t.theolive}))}},{key:"GCt",get:function(){var t=this.zCt.Zkt;if(void 0!==t)return t}}]),n}(Aa);Q(),Nt(),St(),tn();var dF=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Et(n,t);var i=n.prototype;return i.yz=function(){var t=this.cz.TE;return 0===t.V?0:t.jn(t.V-1)-this.cz.LE},i.qL=function(){this.ta.qL()},i.GP=function(){return iV(t.prototype.GP.call(this))},i.bz=function(){return!Kt.Ys.Np},n}(XM),lF=[Ma.yb,Ma.Eb,Ma.qy,Ma.pb,Ma.kb,Ma.Zy,Ma.$y,Ma.Ky],gF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).gCt=void 0,s.kG=!1,s.w7=new ca,s.m7=void 0,s.pDt=void 0,s.Ejt=new ca,s.int=!0,s.ljt=!1,s.Oz=new wM,s.Pz=new wM,s.fV=void 0,s.dV=void 0,s.mjt=oT.pG,s.ld=function(){var t=s.TE;t.length>0&&s.ojt.NQ(t.start(0))},s.fjt=function(){s.cz.KE!==s.int&&(s.cz.KE?s.Rk():s.Pk().catch(qt))},s.iZ=function(){s.ljt=!0},s.Mjt=function(t){s.fV=t.errorObject,s.dV=pw(s.fV),s.Ajt(s.fV)},s.gjt=function(t){s.fV=_w(t.lt),s.dV=t.lt,s.Ajt(s.fV)},s.cz=n,s.OV=new ZA(s.cz,!0),s.OQ=i,s.AV=new ZG(r.VK,r.NK.YY),s.SV=new Gk(i),s.cz.zV=s.SV,s.ojt=new aU(s.cz),s.Ul=new Fk([s.cz.nt,s.ojt.Z]),s.zCt=new XG,s.wjt=new OG(s),s.QG=e,s.lft=u.retryConfiguration,s.DL(),s}Et(n,t);var i=n.prototype;return i.DL=function(){this.cz.yn(lF,this.Ds),this.cz.yn(zA.oP,this.iZ),this.cz.yn([Ma.so,Ma.wb],this.fjt),this.cz.yn(eA.ua,this.gjt),this.cz.yn(Ma.Eb,this.ld),this.OV.yn(RA,this.Ds)},i.NL=function(){this.cz.fn(lF,this.Ds),this.cz.fn(zA.oP,this.iZ),this.cz.fn([Ma.so,Ma.wb],this.fjt),this.cz.fn(eA.ua,this.gjt),this.cz.fn(Ma.Eb,this.ld),this.OV.fn(RA,this.Ds)},i.Bk=function(){return!1},i.Ck=function(){return this.cz.wa},i._a=function(){return this.cz.xV},i.Wk=function(t){return this.cz.CV(t)},i.be=function(){this.cz.be()},i.ge=function(){return this.cz.ge()},i.Fk=function(){},i.Yk=function(){},i.Uk=function(){},i.Qk=function(){},i.CE=function(t,n){var i=this;this.w7.Ty(),this.w7=new ca,this.m7=sa((function(n){return i.p7(t,n,i.m7)}),this.w7)},i.vjt=function(){var t=this.XL;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!T(i))return new Date(n-i)}},i.pjt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.mjt!==oT.pG&&t.gCt?(t.gCt.$n(),t.mjt!==oT.Mz&&t.mjt!==oT.QY?[3,2]:[4,t.gCt.OCt]):[2];case 1:n.sent(),"vod"===t.gCt.XL.I1&&t.gCt.Cn(),n.label=2;case 2:return[2]}}))}))()},i.ka=function(t,n,i){var r=this;return yn((function(){var n,e;return pn(this,(function(u){switch(u.label){case 0:return ta(i),[4,r.tr()];case 1:return u.sent(),ta(i),yb(t)?(n=t,r.wc=n,e=new xG(r.OQ),r.yjt=r.bjt(t),r.aV=new dF(r,r.cz,r.yjt),r.aV.Rt=!0,r.aV.yn("latencyrecoveryseek",r.Ds),r.Ek.Sa(r.aV),r.gCt=new vF(n,e,r.cz,r.AV,r.OQ,r.zCt,r.aV,r.lft,r,r.ojt),r.gCt.yn(Ma.ub,r.Ds),r.gCt.yn(eA.ua,r.Mjt),r.Oz.TL=r.gCt.ht,r.Pz.TL=r.gCt.rt,r.SV.WY(t.contentProtection),va(r.pjt()),[2]):(r.fV=new md(wd.SOURCE_INVALID,"HESP source incorrectly configured"),r.dV=pw(r.fV),r.Ajt(r.fV),[2,st.resolve()])}}))}))()},i.bjt=function(t){return t.latencyConfiguration?t.latencyConfiguration:rV()},i.Pk=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return t.gCt?(t.int=!1,t.gCt.$n(),[4,t.gCt.W]):[2];case 1:return r.sent(),t.yo(new Ib(t.LE)),i=t.gCt.zy(hF.eW),t.qL(),[4,i];case 2:return r.sent(),t.gCt.Cn(),[4,t.cz.Pk()];case 3:return r.sent(),null==(n=t.aV)||n.Cn(),[2]}}))}))()},i.Rk=function(){var t;this.gCt&&(this.int=!0,this.yo(new Db(this.LE)),this.gCt.zk(),null==(t=this.aV)||t.zk(),this.cz.Rk())},i.qL=function(){var t=this;if(this.pDt)throw new A("Cannot seek while resetting");this.w7.Ty(),this.w7=new ca,this.m7=sa((function(n){return t.$Ct(t.m7,n)}),this.w7)},i.Tjt=function(){var t;null==(t=this.gCt)||t.zk()},i.Ajt=function(t){this.yo(new zk(t)),this.Tjt()},i.p7=function(t,n,i){var r=this;return yn((function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:if(r.pDt)throw new A("Cannot seek while resetting");return u=t,r.Sjt(u),r._k.length>0&&(u=GM.xn(r._k).gP(u),r.Sjt(u)),r.gCt?i?[4,i.catch(qt)]:[3,2]:[2];case 1:a.sent(),ta(n),a.label=2;case 2:(null==(e=r.aV)?void 0:e.zP)&&r.aV.zk(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.cz.zy(Ma.bb,n),r.cz.Wb(u),r.gCt.Wb(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw na(o=a.sent()),r.gCt.zk(),r.Njt(),o;case 6:return r.Ijt(),[2]}}))}))()},i.$Ct=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return i.yo(new ka("golive")),r=i.GCt,i.Sjt(r),i.gCt?t?[4,t.catch(qt)]:[3,2]:[2];case 1:f.sent(),ta(n),f.label=2;case 2:return f.trys.push([2,11,,13]),e=i.aV.BP.targetOffset,[4,i.gCt.OCt];case 3:f.sent(),r&&e>=1?(i.aV.bz()||(s=k.min(1,.5*e),e-=s),u=r-e):u=i.GCt?i.GCt-.2:void 0,i.gCt.qL(u),f.label=4;case 4:return i.QNt.V>0?[4,i.gCt.zy(ZI.g$,n)]:[3,6];case 5:return f.sent(),[3,4];case 6:o=i.QNt,f.label=7;case 7:return 0!==i.QNt.yP(o).V?[3,9]:[4,i.gCt.zy(ZI.g$,n)];case 8:return f.sent(),[3,7];case 9:return u=i.QNt.Cn(i.QNt.V-1),u=i.Djt(u),i.Sjt(u),a=i.cz.zy(Ma.bb,n),i.cz.Wb(u,!0),[4,a];case 10:return f.sent(),[3,13];case 11:if($o(c=f.sent()))throw null==(h=i.aV)||h.Cn(),c;return i.gCt.zk(),[4,i.gCt.BCt()];case 12:throw f.sent(),i.Njt(),c;case 13:return i.Ijt(),[2]}}))}))()},i.Sjt=function(t){this.kG=!0,this._jt=t,this.yo(new Cb(this.LE))},i.Ijt=function(){this.kG&&(this._jt=void 0,this.kG=!1,this.yo(new jb(this.LE)))},i.Njt=function(){this._jt=void 0,this.kG=!1},i.Djt=function(t){return t},i.ADt=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return ta(i),t?[4,t.catch(qt)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(qt)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.ojt.tr()];case 5:return u.sent(),null==(e=r.aV)||e.zk(),r.gCt?[4,r.gCt.wy()]:[3,7];case 6:u.sent(),r.gCt=void 0,u.label=7;case 7:return ta(i),[4,r.cz.tr()];case 8:return u.sent(),ta(i),r.cz.jV(),r.Pz.tr(),r.Oz.tr(),r.Njt(),r.OV.tr(),r.zCt.tr(),r.fV=void 0,r.dV=void 0,r.int=!0,r.ljt=!1,r.wc=void 0,r.pDt=void 0,r.yjt=void 0,[2]}}))}))()},i.tr=function(){return this.w7.Ty(),this.w7=new ca,this.Ejt.Ty(),this.Ejt=new ca,this.pDt=this.ADt(this.m7,this.pDt,this.Ejt.ly),this.pDt},i.gn=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return t.NL(),t.OV.gn(),t.wc?[4,t.tr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Bo(),t.cz.zV=void 0,null==(n=t.aV)||n.fn("latencyrecoveryseek",t.Ds),null==(i=t.aV)||i.wy(),[4,t.ojt.gn()];case 3:return r.sent(),t.Ul.gn(),t.Oz.gn(),t.Pz.gn(),[2]}}))}))()},Ct(n,[{key:"ht",get:function(){return this.Oz}},{key:"rt",get:function(){return this.Pz}},{key:"XL",get:function(){var t,n;return null==(n=this.gCt)||null==(t=n.XL)?void 0:t.XL}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){this.cz.Nk=t}},{key:"xk",get:function(){return!1},set:function(t){}},{key:"pV",get:function(){return this.AV}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"LE",get:function(){var t;return null!=(t=this._jt)?t:this.cz.LE},set:function(t){this.CE(t)}},{key:"NE",get:function(){var t=this.vjt();if(t)return new Date(t.getTime()+1e3*this.LE)},set:function(t){var n=this.vjt();t&&n&&(this.LE=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.wc}},{key:"$E",get:function(){return this.cz.$E},set:function(t){this.cz.$E=t}},{key:"ct",get:function(){var t=this.cz.ct;return t===dr?1/0:t}},{key:"OE",get:function(){return!1}},{key:"zE",get:function(){return this.fV}},{key:"lt",get:function(){return this.dV}},{key:"UE",get:function(){return this.wjt}},{key:"FE",get:function(){return!1}},{key:"VE",get:function(){return ys({},{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.cz.GE())}},{key:"XE",get:function(){return!0}},{key:"wk",get:function(){return this.kG}},{key:"wV",get:function(){}},{key:"nt",get:function(){return this.Ul}},{key:"yk",get:function(){return this.cz.yk}},{key:"Tk",get:function(){return this.cz.Tk}},{key:"TE",get:function(){return this.QNt.ks()}},{key:"QNt",get:function(){return this.gCt?this.gCt.TE:GM.PP()}},{key:"rk",get:function(){return this.cz.rk.ks()}},{key:"_k",get:function(){var t,n;return null!=(n=null==(t=this.gCt)?void 0:t._k.ks())?n:GM.PP().ks()}},{key:"KE",get:function(){return this.int}},{key:"HL",get:function(){return!0}},{key:"Ek",get:function(){return this.QG}},{key:"GCt",get:function(){var t;return null==(t=this.gCt)?void 0:t.GCt}},{key:"Az",get:function(){if(!this.KE&&this.ljt){var t=this.LE,n=this.zCt.Hkt(t);if(void 0!==n){var i=this.QNt,r=0;if(i.V>0){var e=i.jn(i.V-1);r=k.max(e-t,0)}return k.max(n,r)}}}},{key:"ZL",get:function(){var t;return null==(t=this.gCt)?void 0:t.ZL}},{key:"fk",get:function(){return this.cz.fk}},{key:"ck",get:function(){return this.mjt},set:function(t){this.mjt=t,this.pjt()}}]),n}(Aa);Jt(),tn();var wF=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).jjt=!1,o.kjt=!1,o.xjt=[],o.Cjt=void 0,o.Ojt=function(){var n=o.WE||0===o.Nk;"hidden"===v.visibilityState&&!o.KE&&n?(o.Rk(),o.jjt=!0):"visible"===v.visibilityState&&o.jjt&&(o.kjt=!0,o.Cjt=Kt.Pg((function(){for(var n=0,i=o.xjt;n<i.length;n++){var r=i[n];t.prototype.yo.call(XY(o),r)}o.Cjt=void 0,o.kjt=!1}),2e3),va(o.Pk()),o.jjt=!1)},o.QV=u,o.Rjt=n,Wt.xg&&v.addEventListener("visibilitychange",o.Ojt),o}Et(n,t);var i=n.prototype;return i.yo=function(n){if(this.kjt){if(n.type===Ma.bb)return void this.Ljt();if(n.type===zA.rP||n.type===Ma.Mb||n.type===zA.oP)return void this.xjt.push(n)}t.prototype.yo.call(this,n)},i.Ljt=function(){this.kjt=!1,void 0!==this.Cjt&&Kt.Rg(this.Cjt);var n=Do(this.xjt,(function(t){return t.type===zA.oP}));n&&t.prototype.yo.call(this,n),Ro(this.xjt)},i.jk=function(){if(HO(this.cz))return this.cz.jk()},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.jjt=!1,n.Ljt(),[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",n.Ojt),n.Ljt(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.cz.wy()];case 2:return i.sent(),[4,n.QV.BV(n.Rjt)];case 3:return i.sent(),[2]}}))}))()},i.Djt=function(t){return Wt.qf&&Wt.Jf>=15&&Wt.Kd?t+.25:t},n}(gF);Q(),Nt(),An(),Zt(),Tn();var yF=function(){function t(){}var n=t.prototype;return n.nG=function(t,n){return yn((function(){return pn(this,(function(n){return[2,mF(t.type)]}))}))()},n.rG=function(t){return yn((function(){return pn(this,(function(n){return[2,Pp(t)]}))}))()},Ct(t,[{key:"hG",get:function(){return Pk.ox}}]),t}();function mF(t){if(!t)return!1;var n=t.toLowerCase();return no(n,DM.nx)||no(n,DM.ox)}Jt(),tn();var AF=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.bx=function(t,n,i,r,e,u,s){var o=new vz(n),a=o.sG(lw.NI);return new wF(a,i,e,u,o,r)},i.nG=function(n,i){return Kt.rE&&Kd?Wt.IS_IOS_CHROME||Wt.Nf&&Wt.Df<6?st.resolve(!1):Jr(n.useManagedMediaSource)?t.prototype.nG.call(this,n,i):st.resolve(!1):st.resolve(!1)},i.oG=function(){return!1},n}(yF);eT(new AF),Q(),Nt(),An(),Zt(),St(),Tn(),Jt(),Q(),Nt(),An(),St(),Tn();var pF=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).QV=u,o}Et(n,t);var i=n.prototype;return i.jk=function(){if(HO(this.cz))return this.cz.jk()},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.QV.BV(n.cz)];case 2:return i.sent(),[2]}}))}))()},n}(gF),_F=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.nG=function(n,i){var r=this;return yn((function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return Wt.IS_IOS_CHROME?[2,!1]:[4,t.prototype.nG.call(r,n,i)];case 1:if(s=a.sent(),!(null!=(o=null==(u=Bi())||null==(e=u.canPlayType)?void 0:e.call(u,DM.tx))?o:"")||!s||!("serviceWorker"in l))return[2,!1];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,wa(l.serviceWorker.ready,1e3)];case 3:return a.sent(),[2,!0];case 4:return a.sent(),[2,!1];case 5:return[2]}}))}))()},i.rG=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.rG.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}}))}))()},i.bx=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.fot(lw.NI);return new pF(o,i,e,u,n,r)}throw new md(wd.CONFIGURATION_ERROR,"Container Div element expected.")},i.oG=function(){return!1},Ct(n,[{key:"hG",get:function(){return Pk.UY}}]),n}(yF);Wt.qf&&Wt.Ka&&eT(new _F),Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt();var kF="theo_live_user_id",MF=function(){function t(t){this.externalId=t,this.id=eD(),this.userId=bF(),this.bT=0}return t.prototype.incrementSequenceNumber=function(){this.bT+=1},Ct(t,[{key:"sequenceNumber",get:function(){return this.bT}}]),t}();function bF(){try{var t=localStorage.getItem(kF);if(t)return t;var n=eD();return localStorage.setItem(kF,n),n}catch(t){return eD()}}Q(),Nt(),An(),Zt(),St(),Tn(),tn();var TF=function(){function t(t,n){this.OQ=t,this.Pjt=new Map,this.zjt=n}return t.prototype.Omt=function(t){var n=this.Pjt.get(t.id);if(n)return n;var i=new NF(t,this.OQ,this.zjt);return this.Pjt.set(t.id,i),i},t}(),NF=function(){function t(t,n,i){this.aS=t,this.OQ=n,this.Vjt=new Vd,i.discoveryHeader&&this.Vjt.append("x-theolive-discovery",i.discoveryHeader),this.Yn()}var n=t.prototype;return n.Yn=function(){var t=this;this.Qjt=!1,this.Ujt=br(),this.Fjt=this.pSt(),this.Fjt.catch((function(){return t.Qjt=!0}))},n.pSt=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return n=t.aS,i=n.id,r=n.discovery,io(r.pathname,"manifest.json")?[2,DF(t.aS)]:[4,t.Yjt(t.aS,t.Vjt)];case 1:if(!(e=f.sent()))throw new EF(i);if(u=e.mode,s=e.status,o=e.fallback,a=e.metadata,"locked"===u)throw new SF(i);if("deleted"===s)throw new LF(i);return c={id:t.aS,name:a.name,mode:u,status:s,source:CF(e)},o?[4,t.Gjt(o,r,t.Vjt)]:[3,3];case 2:return h=f.sent(),[3,4];case 3:h=void 0,f.label=4;case 4:return[2,(c.fallback=h,c.insights=null==a?void 0:a.insights,c.enhancedLogging=null==a?void 0:a.enhancedLogging,c.customization=null==a?void 0:a.customization,c.sseEndpoint=e.sseEndpoint,c)]}}))}))()},n.Gjt=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:(e={id:t.src,discovery:n},[4,r.Yjt(e,i)]);case 1:return(u=s.sent())?[2,CF(u)]:[2,void 0]}}))}))()},n.Yjt=function(t,n){var i=t.id,r=t.discovery,e=this;return yn((function(){return pn(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,e.OQ.hI({zu:Kt.Ah(i,r.toString()).toString(),aI:n})];case 1:return[4,t.sent().BN()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))()},Ct(t,[{key:"Bjt",get:function(){return br()-this.Ujt>36e5}},{key:"aet",get:function(){return(this.Qjt||this.Bjt)&&this.Yn(),this.Fjt}}]),t}();function DF(t){return{id:{id:t.id,discovery:Kt.Ah("dev://")},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var IF=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return Et(n,t),n}(md),EF=function(t){function n(n){return t.call(this,wd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return Et(n,t),n}(IF),SF=function(t){function n(n){return t.call(this,wd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return Et(n,t),n}(IF),LF=function(t){function n(n){return t.call(this,wd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return Et(n,t),n}(IF);function CF(t){var n;return{src:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?jF(t.drmConfig):void 0}}function jF(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return ys({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function xF(t,n){return{id:t,discovery:Kt.Ah(t,n)}}Q(),Nt(),ht(),Q(),Nt();var OF=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),zF=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function RF(t){return 100*k.round(t/100)}function BF(t){for(var n=t.xE(),i=t.SE(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function UF(t){return Do(t.AL,(function(t){return t.Rt}))}function PF(t){return t.UL.bL(0)}function QF(t){return t.UL.bL(t.UL.V-1)}Q(),Nt(),Zt(),Q(),Nt();var YF=function(){function t(t,n,i,r){var e,u,s,o;this.Wjt=Date.now(),this.Xjt=0,this.Kjt=0,this.mV=0,this.Jjt=0,this.Hjt=0,this.Zp=t,this.ta=n,this.$jt=null==(u=UF(this.ta.rt))||null==(e=u.PL)?void 0:e.o,this.tOt=null==(o=UF(this.ta.ht))||null==(s=o.PL)?void 0:s.o,this.__=i,this.dV=r}var n=t.prototype;return n.Zjt=function(){var t=this.ta.wZ.NK.FY,n=this.ta.Ek.Az,i=BF(this.ta);t>0&&void 0!==i&&void 0!==n&&(this.Hjt+=1,this.Xjt=this.qjt(this.Xjt,i),this.Kjt=this.qjt(this.Kjt,1e3*this.ta.Ek.md.targetOffset),this.mV=this.qjt(this.mV,1e3*n),this.Jjt=this.qjt(this.Jjt,t/1e3))},n.qjt=function(t,n){return t+(n-t)/this.Hjt},n.bx=function(){var t={sta:this.Zp,ts:this.Wjt,"theo-vt":this.$jt,"theo-at":this.tOt,"theo-d":this.ct,"theo-r":this.__};return this.Hjt>0?ys({},t,{bl:RF(this.Xjt),tbl:RF(this.Kjt),ltc:RF(this.mV),mtp:RF(this.Jjt),"theo-w":this.Hjt}):t},n.iOt=function(){return new t(this.Zp,this.ta,this.__)},t.starting=function(n,i,r){return new t(OF.STARTING,n,i,r)},t.playing=function(n){return new t(OF.PLAYING,n)},t.seeking=function(n,i){return new t(OF.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(OF.REBUFFERING,n,i)},t.paused=function(n){return new t(OF.PAUSED,n)},t.ended=function(n){return new t(OF.ENDED,n)},t.quit=function(n){return new t(OF.QUIT,n)},Ct(t,[{key:"ct",get:function(){return Date.now()-this.Wjt}}]),t}();tn();var GF=function(){function t(t,n,i){var r=this;this.cOt=[],this.ljt=!1,this.gZ=!1,this.vOt=function(){var t;r.lOt(YF.starting(r.ta,"fallback",null==(t=r.ta.BE())?void 0:t.message))},this.wOt=function(){r.lOt(YF.starting(r.ta,"loadChannel"))},this.mOt=function(){r.lOt(YF.ended(r.ta))},this.rV=function(t){t.Ht.yn(Yg.vL,r.Jr)},this.Jr=function(){var t,n,i,e,u=null==(n=UF(r.ta.rt))||null==(t=n.PL)?void 0:t.o,s=null==(e=UF(r.ta.ht))||null==(i=e.PL)?void 0:i.o;u&&s&&(r.sOt&&r.sOt.Zp===OF.PLAYING&&r.sOt.$jt===u&&r.sOt.tOt===s||r.lOt(YF.playing(r.ta)))},this.vz=function(){r.ljt=!0,r.gZ=!1,r.lOt(YF.playing(r.ta))},this.gOt=function(){r.ljt&&!r.gZ&&(r.gZ=!0,r.lOt(YF.seeking(r.ta,"latencyRecovery")))},this._Ot=function(){r.ljt&&!r.gZ&&(r.gZ=!0,r.lOt(YF.seeking(r.ta,"goLive")))},this._z=function(){r.ta.wk||r.lOt(YF.rebuffering(r.ta,"visible"===v.visibilityState?void 0:"invisible"))},this.fOt=function(){r.lOt(YF.paused(r.ta))},this.pOt=function(t){var n=Kt.Ah(t.url),i=function(t){var n=t.pathname;if(io(n,"manifest.json"))return zF.MANIFEST;if(to(n,"/video/"))return zF.VIDEO;if(to(n,"/audio/"))return zF.AUDIO;return zF.OTHER}(n);if("o"!==i){r.nOt.incrementSequenceNumber();var e=ys({},t.headers,{"CMCD-Request":r.eOt(),"CMCD-Object":r.rOt(i),"CMCD-Status":r.oOt(),"CMCD-Session":r.hOt()});i===zF.VIDEO&&io(n.pathname,".hspc")&&r.sOt&&(r.lOt(r.sOt.iOt()),e=ys({},e,r.uOt())),t.redirect(ys({},t,{headers:e}))}},this.dOt=function(){r.sOt&&(r.cOt.push(r.sOt.bx()),r.sOt=void 0),r.cOt.push(YF.quit(r.ta).bx()),va(r.ta.wE.hI({zu:r.yOt,aI:r.uOt(),FI:!0}))},this.ta=t,this.aOt=n,this.nOt=i,this.yOt=Kt.Ah("bye",n.source.src).href,f.addEventListener("beforeunload",this.dOt),this.ta.yn(zA.oP,this.vz),this.ta.yn(zA.rP,this._z),this.ta.yn(Ma.wb,this.fOt),this.ta.UE.yn("latencyrecoveryseek",this.gOt),this.ta.UE.yn("golive",this._Ot),this.ta.wZ.wK(this.pOt),this.ta.rt.yn(Rg.Hk,this.rV),this.ta.ht.yn(Rg.Hk,this.rV),this.ta.Gnt.addEventListener("intenttofallback",this.vOt),this.ta.Gnt.addEventListener("publicationloadstart",this.wOt),this.ta.Gnt.addEventListener("publicationoffline",this.mOt),this.sOt=YF.starting(this.ta,"loadchannel"),this.AOt=Kt.dA((function(){var t;null==(t=r.sOt)||t.Zjt()}),1e3)}var n=t.prototype;return n.eOt=function(){var t,n=this.ta.Ek.Az,i=BF(this.ta),r=this.ta.wZ.NK.FY;return VF({bl:i?RF(i):void 0,tbl:RF(1e3*this.ta.Ek.md.targetOffset),ltc:n?RF(n):void 0,mtp:r?RF(r/1e3):void 0,sta:null==(t=this.sOt)?void 0:t.Zp,su:!this.ljt||void 0,"theo-sq":this.nOt.sequenceNumber})},n.rOt=function(t){var n,i,r=function(t,n){switch(n){case zF.VIDEO:return UF(t.rt);case zF.AUDIO:return UF(t.ht)}}(this.ta,t);return VF({br:(null==r||null==(n=r.PL)?void 0:n.FY)?RF((null==r||null==(i=r.PL)?void 0:i.FY)/1e3):void 0,ot:t,tb:r?RF(QF(r).FY/1e3):void 0,lb:r?RF(PF(r).FY/1e3):void 0})},n.oOt=function(){return VF({"theo-cw":this.ta.we.clientWidth,"theo-ch":this.ta.we.clientHeight})},n.hOt=function(){var t;return VF({sf:"e",sid:this.nOt.id,st:"l",v:2,"theo-eid":null==(t=this.nOt.externalId)?void 0:t.substring(0,128),"theo-cn":this.aOt.name.substring(0,128),"theo-v":"8.14.0","theo-t":"web","theo-u":this.nOt.userId})},n.uOt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.cOt))};return this.cOt=[],t},n.lOt=function(t){this.sOt&&this.cOt.push(this.sOt.bx()),this.sOt=t},n.destroy=function(){var t=this;this.dOt(),f.removeEventListener("beforeunload",this.dOt),this.ta.fn(zA.oP,this.vz),this.ta.fn(zA.rP,this._z),this.ta.fn(Ma.wb,this.fOt),this.ta.UE.fn("latencyrecoveryseek",this.gOt),this.ta.UE.fn("golive",this._Ot),this.ta.rt.fn(Rg.Hk,this.rV),this.ta.ht.fn(Rg.Hk,this.rV),this.ta.rt.AL.forEach((function(n){return n.fn(Yg.vL,t.Jr)})),this.ta.ht.AL.forEach((function(n){return n.fn(Yg.vL,t.Jr)})),this.ta.Gnt.removeEventListener("intenttofallback",this.vOt),this.ta.Gnt.removeEventListener("publicationloadstart",this.wOt),this.ta.Gnt.removeEventListener("publicationoffline",this.mOt),this.ta.wZ.AK(this.pOt),Kt.fA(this.AOt)},t}();function VF(t){return _.keys(t).map((function(n){return function(t,n){switch(void 0===n?"undefined":Y(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])})).filter(Boolean).sort().join(",")}Q(),Nt(),An(),Zt(),St(),Tn();var FF=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return Et(n,t),n}(ka),WF=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return Et(n,t),n}(ka),ZF=function(t){function n(n,i){var r;return(r=t.call(this,"publicationloaded")||this).publicationId=n,r.channelName=i,r}return Et(n,t),n}(ka),XF=function(t){function n(){return t.call(this,"intenttofallback")||this}return Et(n,t),n}(ka),HF=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return Et(n,t),n}(ka),KF=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return Et(n,t),n}(ka),JF=function(t){function n(n){var i;return(i=t.call(this)||this).ta=n,i}return Et(n,t),n.prototype.MOt=function(t){return this.ta.MOt(t)},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)},get badNetworkMode(){return t.bOt},set badNetworkMode(n){t.bOt=n},preloadPublications:function(n){return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.MOt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.Za}},{key:"bOt",get:function(){return this.ta.bOt},set:function(t){this.ta.bOt=t}}]),n}(Aa);Xt(),tn();var qF=["https://theo-insights-prod-5cb0.ew.r.appspot.com/"],$F=8e5,tW=function(t){function n(n,i){var r,e,u,s;r=t.call(this,n,i)||this,e=r,r.WCt=!1,r.rN=new ca,r.NOt=void 0,r.ljt=!1,r.GOt=[],r.EOt=!1,r.rV=function(t){var n,i=t.Ht;i.yn(Yg.vL,r.Jr);var e=nW(null!=(n=i.QL)?n:i.UL.AL);i.QL=e.length>0?e:nW(i.UL.AL)},r.Jr=function(t){var n,i=t.Lut;(!i||(null!=(n=i.Gyt)?n:i.FY)>=$F)&&r.LOt()},r.gOt=yn((function(){return pn(this,(function(t){switch(t.label){case 0:return e.kOt(),e.GOt.push(Kt.Og()),e.GOt=e.GOt.filter((function(t){return Kt.Og()-t<=3e5})),e.GOt.length>=3?(e.GOt=[],[4,e.POt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))})),r.IOt=yn((function(){return pn(this,(function(t){switch(t.label){case 0:return e.jOt?[4,e.jOt.aet]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(e.jOt.Yn(),[4,e.jOt.aet]);case 2:if("playing"!==t.sent().status)return e.yo(new zk(new md(wd.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,e.POt(!0)];case 4:return t.sent(),[2]}}))})),r.OOt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=Kt.Ah(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.DOt=new JF(r);var o,a,c,h,f=n.md.theoLive;return r.COt={sessionId:null!=(o=null==f?void 0:f.sessionId)?o:eD(),userId:null!=(a=null==f?void 0:f.userId)?a:bF(),externalSessionId:null==f?void 0:f.externalSessionId,analyticsEnabled:!1!==(null==f?void 0:f.analyticsEnabled),fallbackEnabled:!1!==(null==f?void 0:f.fallbackEnabled),discoveryUrl:null!=(c=null==f?void 0:f.discoveryUrl)?c:"https://discovery.theo.live/channels/",analyticsUrls:null!=(h=null==f?void 0:f.analyticsUrls)?h:qF},r.nOt=new MF(null==(u=r.COt)?void 0:u.externalSessionId),r.xOt=new TF(n.wE,{discoveryHeader:null==(s=r.COt)?void 0:s.discoveryHeader}),r.ta.UE.yn("latencyrecoveryseek",r.gOt),r}Et(n,t);var i=n.prototype;return i.TOt=function(){this.ta.UE.yn("latencyrecoveryseek",this.gOt),this.ta.rt.yn(Rg.Hk,this.rV)},i.SOt=function(){this.ta.UE.fn("latencyrecoveryseek",this.gOt),this.ta.rt.fn(Rg.Hk,this.rV)},i.Gk=function(n){var i=this;return this.WCt?n.type===zA.oP?(void 0!==this.NOt?(Kt.Rg(this.NOt),this.NOt=void 0,this.ljt||this.yo(new FA(this.xE()))):this.yo(new FA(this.xE())),this.ljt=!0,!0):n.type===zA.rP?(this.NOt||(this.NOt=Kt.Pg((function(){i.yo(new YA(i.xE())),i.NOt=void 0}),100)),!0):"error"===n.type?(va(this.IOt()),!0):t.prototype.Gk.call(this,n):t.prototype.Gk.call(this,n)},i.Wnt=function(){return this.DOt.ga},i.kOt=function(){if(!this.EOt&&(this.EOt=!0,this.DOt.yo(new HF),0!==this.ta.rt.V)){var t,n=this.rt.bL(0),i=Yo(n.UL.AL,(function(t){return t.FY}));(null!=(t=i.Gyt)?t:i.FY)<$F?(n.QL=[i],st.resolve().then((function(){return n.QL=n.UL.AL.slice()}))):this.LOt()}},i.LOt=function(){if(this.EOt&&(this.EOt=!1,this.DOt.yo(new KF),0!==this.ta.rt.V)){var t,n=this.ta.rt.bL(0),i=nW(null!=(t=n.QL)?t:n.UL.AL);n.QL=i.length>0?i:nW(n.UL.AL)}},i.MOt=function(t){var n=this;return st.all(t.map(yn((function(t){return pn(this,(function(i){switch(i.label){case 0:return[4,ra(n.xOt.Omt(xF(t,n.COt.discoveryUrl)).aet,n.rN.ly)];case 1:return[2,i.sent()]}}))}))))},i.addSseEndpointToSource=function(t){var n;if(t&&(null==(n=this.wc)?void 0:n.ads))for(var i=0,r=this.wc.ads;i<r.length;i++){var e,u=r[i];if("theoads"===u.integration)null!=(e=u).sseEndpoint||(e.sseEndpoint=t)}},i.ka=function(n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d;return pn(this,(function(l){switch(l.label){case 0:r.WCt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],l.label=1;case 1:if(!(u<s.length))return[3,10];if(!bb(o=s[u])||o.type!==DM.ux)return[3,8];if(void 0===o.src)return[3,9];r.TOt(),r.WCt=!0,r.DOt.yo(new FF(o.src)),a=xF(o.src,r.COt.discoveryUrl),c=r.DOt.zy("publicationloaded"),l.label=2;case 2:return l.trys.push([2,5,,6]),r.wc=n,r.AG=o,r.jOt=r.xOt.Omt(a),[4,r.jOt.aet];case 3:return h=l.sent(),r.addSseEndpointToSource(h.sseEndpoint),(null==(f=h.enhancedLogging)?void 0:f.enabled)&&k.random()<=f.percentage&&r.ta.wZ.wK(r.OOt),r.COt.analyticsEnabled&&"theo.live"===h.source.type&&(r.ROt=new GF(r,h,r.nOt)),[4,ra(r.POt(r.ta.Xz),i)];case 4:return l.sent(),[3,6];case 5:throw v=l.sent(),r.E8(),r.dispatchErrorEvent(v),v;case 6:return[4,ra(c,i).catch(na)];case 7:return l.sent(),[2];case 8:if("web"===jt.Ed&&(null==n?void 0:n.contentProtection)&&(!bb(o)||o.type!==DM.ox))throw d=new md(wd.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(d),d;l.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.ka.call(r,n,i)];case 11:return[2,l.sent()]}}))}))()},i.POt=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return n.E8(),n.jOt?[4,n.jOt.aet]:[2];case 1:return i=e.sent().source,[4,n.zOt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.BOt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.UOt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.QOt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.QOt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.mOt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.UOt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.mOt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.zOt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.ta.wE.hI({zu:t.src})];case 1:return(i=r.sent()).nI>=200&&i.nI<300?[2,"live"]:404===i.nI||503===i.nI?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.QOt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return n.jOt?[4,n.jOt.aet]:[2];case 1:return i=r.sent(),n.BOt="primary",n.z$(i.source,t),[2]}}))}))()},i.mOt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.jOt?[4,t.jOt.aet]:[2];case 1:return n=i.sent(),t.DOt.yo(new WF(n.id.id)),t.FOt=Kt.Pg((function(){return t.POt(t.ta.Xz)}),15e3),[2]}}))}))()},i.z$=function(t,n){var i,r,e,u,s=this,o=this.jOt.aS.id,a=pN({sources:[{type:iW(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0,latencyConfiguration:null!=(u=null==(i=this.AG)?void 0:i.latencyConfiguration)?u:rW(t.targetLatency)},t.hlsSrc?{type:"application/x-mpegurl",src:t.hlsSrc}:void 0].filter(ci),ads:this.ljt?[]:null==(r=this.wc)?void 0:r.ads,blockContentIfAdError:null==(e=this.wc)?void 0:e.blockContentIfAdError,streamType:"live"});a.sources[0].bypassLicense=!0,this.ta.ka(a,(new ca).ly).then((function(){n&&s.ta.Pk()})).catch(this.dispatchErrorEvent),this.jOt.aet.then((function(t){s.DOt.yo(new ZF(o,t.name))}))},i.UOt=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.DOt.yo(new XF),[4,n.YOt()];case 1:if(!i.sent())throw new A("fallback not live");return[4,n.VOt(t)];case 2:return i.sent(),[2]}}))}))()},i.VOt=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.jOt)?void 0:i.aet];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.BOt="fallback",n.z$(r.fallback,t),[2]):[2]}}))}))()},i.YOt=function(){var t=this;return yn((function(){var n,i,r,e;return pn(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.jOt)?void 0:n.aet];case 1:return r=u.sent(),(null==(i=t.COt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.ta.wE.hI({zu:r.fallback.src})]:[2,!1];case 2:return[2,(e=u.sent()).nI>=200&&e.nI<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof md)return this.yo(new zk(t));this.yo(new zk(new md(wd.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.E8=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.ta.zk()];case 1:return n.sent(),void 0!==t.FOt&&(Kt.Rg(t.FOt),t.FOt=void 0),[2]}}))}))()},i.zk=function(){var n;return this.rN.Ty(),this.rN=new ca,this.SOt(),void 0!==this.NOt&&(Kt.Rg(this.NOt),this.NOt=void 0),this.WCt=!1,this.ljt=!1,null==(n=this.ROt)||n.destroy(),this.ROt=void 0,this.wc=void 0,this.AG=void 0,this.jOt=void 0,this.BOt=void 0,this.GOt=[],this.ta.wZ.AK(this.OOt),this.EOt&&this.LOt(),t.prototype.zk.call(this)},i.gn=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return i.rN.Ty(),void 0!==i.NOt&&(Kt.Rg(i.NOt),i.NOt=void 0),i.Bo(),i.SOt(),null==(r=i.ROt)||r.destroy(),i.ta.UE.fn("latencyrecoveryseek",i.gOt),[4,t.prototype.gn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},Ct(n,[{key:"bOt",get:function(){return this.EOt},set:function(t){this.WCt&&(t?this.kOt():this.LOt())}}]),n}(iM);function nW(t){return t.filter((function(t){var n;return(null!=(n=t.Gyt)?n:t.FY)>=$F}))}function iW(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new A("Unknown source type: "+t)}}function rW(t){return void 0===t?rV():{minimumOffset:t-ZM,targetOffset:t,maximumOffset:t+ZM,forceSeekOffset:t+2.5,minimumPlaybackRate:FM,maximumPlaybackRate:WM}}aM((function(t){return new tW(t)}),rM.nu),Q(),Nt(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn();var eW=U(Wn());tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var uW=function(t){function n(n,i){var r;return(r=t.call(this)||this).iB=jw(),r.Za=void 0,r.gT=n,r.WOt=i,r}Et(n,t);var i=n.prototype;return i.Yn=function(t,n){this.gT=t,this.WOt=n,this.Za&&this.yo(new MP(this.Za))},i.EQ=function(){throw new A("Method not implemented.")},i.kQ=function(){throw new A("Method not implemented.")},i.gn=function(){this.Bo()},Ct(n,[{key:"Om",get:function(){return this.WOt}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()}},{key:"o",get:function(){return this.gT.id}},{key:"zL",get:function(){return this.iB}},{key:"FY",get:function(){return this.gT.bitrate}},{key:"Gyt",get:function(){}},{key:"cht",get:function(){return""}},{key:"kh",get:function(){return""}},{key:"Xyt",get:function(){return""}},{key:"lot",get:function(){return!0}},{key:"Wyt",get:function(){}}]),n}(Aa),sW=function(t){function n(n,i){return t.call(this,n,i)||this}return Et(n,t),n.prototype.ma=function(){return _P(this)},Ct(n,[{key:"vgt",get:function(){return 0}},{key:"ji",get:function(){return this.gT.targetWidth}},{key:"Ti",get:function(){return this.gT.targetHeight}},{key:"Zyt",get:function(){return 0}}]),n}(uW);Q(),Nt(),Zt(),St();var oW=function(t){function n(n,i){var r;return(r=t.call(this)||this).iB=Sw(),r.qz=new bw,r.aS=n,r._6=i,r}Et(n,t);var i=n.prototype;return i.nB=function(t){this.Rt=t},i.gn=function(){this.Bo();for(var t=0,n=this.qz.AL;t<n.length;t++){n[t].gn()}this.qz.tr()},Ct(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=hw(this)}},{key:"Zft",get:function(){}},{key:"Lt",get:function(){return this._6}},{key:"o",get:function(){return this.aS||"millitrack"}},{key:"zL",get:function(){return this.iB}},{key:"kh",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.nB("enabled"===t)}},{key:"PL",get:function(){}},{key:"UL",get:function(){return this.qz}},{key:"QL",get:function(){return this.ZOt},set:function(t){if(this.ZOt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].Om:void 0;this.HOt(n)}this.yo(new UR(this.qz.AL.slice(),this)),((null==t?void 0:t.length)||this.qz.V)&&this.yo(new gU((null==t?void 0:t[0])||this.qz.bL(0)))}},{key:"BL",get:function(){}}]),n}(Aa),aW=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).XOt=r,e}Et(n,t);var i=n.prototype;return i.Yn=function(t){for(var n,i=function(i,r){var e=r[i],u=Do(t.layers,(function(t){return t.encodingId===e.id})),s=Do(n.qz.AL,(function(t){return t.o===e.id}));s?s.Yn(e,u):n.qz.Kz(new sW(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.yo(new Dw(this))},i.HOt=function(t){var n;null==(n=this.XOt)||n.qOt(t)},i.gn=function(){this.XOt=void 0,t.prototype.gn.call(this)},Ct(n,[{key:"YA",get:function(){return lw.NI}}]),n}(oW);sn(),Q(),Nt(),Zt();var cW=function(){function t(){}var n=t.prototype;return n.Yn=function(t){this.KOt=t},n.VY=function(t){},Ct(t,[{key:"FY",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.KOt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.KOt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"YY",get:function(){var t,n;return null!=(n=null==(t=this.KOt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var hW=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).JOt=0,r}return Et(n,t),n.prototype.ma=function(){return kP(this)},Ct(n,[{key:"GAt",get:function(){return this.JOt}}]),n}(uW),fW=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).XOt=r,e}Et(n,t);var i=n.prototype;return i.Yn=function(t){for(var n,i=function(i,r){var e=r[i],u=Do(t.layers,(function(t){return t.encodingId===e.id})),s=Do(n.qz.AL,(function(t){return t.o===e.id}));s?s.Yn(e,u):n.qz.Kz(new hW(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.yo(new Dw(this))},i.HOt=function(t){var n;null==(n=this.XOt)||n.$Ot(t)},i.gn=function(){this.XOt=void 0,t.prototype.gn.call(this)},Ct(n,[{key:"YA",get:function(){return lw.SI}}]),n}(oW);Q(),Nt(),St();var vW=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this)._Q=i,r}return Et(n,t),n.prototype.ma=function(){return function(t){return Wg(qw(t),{get mid(){return t._Q.mid},get uuid(){return t._Q.uuid},get timecode(){return t._Q.timecode},get unregistered(){return t._Q.unregistered}})}(this)},n}(oy);Q(),Nt();var dW=[Ma.so,Ma.wb,zA.oP,Ma.Eb,Ma.mb,Ma.ub,Ma.Mb,Ma.bb,Ma.qy,Ma.pb,Ma.kb,Ma.Zy,Ma.yb,Ma.Vy,Ma.Yy,Ma.$y,Ma.Ky],lW=["active","inactive","stopped","vad","layers","migrate","viewercount"],gW=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).BG=n,e.UG=i,e.QG=r,e.rN=new ca,e.Ept=void 0,e.iRt=void 0,e.Pz=new dw,e.Oz=new dw,e.sRt=0,e.AV=new cW,e.Ss=function(t){e.eG(_w(t.lt))},e.fAt=function(t){$o(t)||e.eG(new md(wd.MEDIA_DECODE_ERROR,t.message,t))},e.cz=e.BG.sG(lw.NI),e.OV=new ZA(e.cz,!0),e.cz.yn(dW,e.Ds),e.cz.yn(eA.ua,e.Ss),e.OV.yn(RA,e.Ds),e}Et(n,t);var i=n.prototype;return i.qOt=function(t){var n;null==(n=this.R_)||n.select(t).catch(this.fAt)},i.$Ot=function(t){var n;null==(n=this.R_)||n.select(t).catch(this.fAt)},i.jk=function(){return this.cz.jk()},i.CE=function(t,n){},i.ge=function(){this.cz.ge()},i.be=function(){this.cz.be()},i.Pk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.cz.Pk()];case 1:return n.sent(),[2]}}))}))()},i.Rk=function(){this.cz.Rk()},i.tr=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return t.wc=void 0,t.rN.Ty(),null==(n=t.R_)||n.stop(),t.R_=void 0,t.Ept?[4,t.Ept.catch(qt)]:[3,2];case 1:e.sent(),t.Ept=void 0,e.label=2;case 2:return t.iRt=void 0,[4,t.cz.tr()];case 3:for(e.sent(),t.eRt=void 0,t.sRt=0,t.cz.jV(),i=0,r=t.Pz.AL;i<r.length;i++)r[i].gn();return t.Oz.tr(),t.Pz.tr(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),t.Oz.gn(),t.Pz.gn(),t.OV.gn(),t.cz.fn(dW,t.Ds),t.cz.fn(eA.ua,t.Ss),[4,t.BG.BV(t.cz)];case 2:return n.sent(),[2]}}))}))()},i.ka=function(t,n,i){var r=this;return yn((function(){var n,e;return pn(this,(function(u){return ta(i),r.nDt(),n=t,r.wc=n,r.rN=new ca,n.apiUrl&&eW.Director.setEndpoint(n.apiUrl),e=function(){return eW.Director.getSubscriber({streamName:n.src,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.R_=new eW.View(void 0,e,void 0,!0),r.nRt=ys({},n.connectOptions,{events:lW}),r.rRt(),[2]}))}))()},i.$n=function(){if(void 0===this.Ept){var t=this.R_;void 0!==t&&(this.Ept=this.oD(t,this.nRt,this.rN.ly).catch(this.fAt))}},i.oD=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:ta(i),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,ra(t.connect(n),i)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,6];case 3:return na(e=u.sent()),function(t){return di(t)&&"FetchError"===t.name}(e)&&400===e.status?(Kt.uA("[THEOplayer] Millicast connect error, reconnecting.",e),[4,ra(t.reconnect(),i)]):[3,5];case 4:u.sent(),u.label=5;case 5:return r.eG(new md(wd.NETWORK_ERROR,e.message,e)),[3,6];case 6:return[2]}}))}))()},i.oRt=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:ta(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.cz.ktt(),i.iRt=t,[4,i.cz.tr()];case 2:return r.sent(),[4,i.cz.$n({YA:OA.QQ,WL:"",G$:t,VN:DM.hx,yV:[]})];case 3:return r.sent(),[3,5];case 4:return i.cz.Ltt(),[7];case 5:return[2]}}))}))()},i.rRt=function(){var t,n=this,i=this.R_;i.on("track",(function(t){return n.hRt(t)})),i.on("broadcastEvent",(function(t){return n.aRt(t)})),i.webRTCPeer.on("stats",(function(t){n.tRt=t,n.AV.Yn(t)})),(null==(t=this.nRt)?void 0:t.metadata)&&i.on("metadata",(function(t){return n.uRt(t)}))},i.hRt=function(t){var n=this.Oz.V>0,i=this.Pz.V>0,r=n&&!i;if(i&&t.track.kind===lw.NI||r&&t.track.kind===lw.SI){var e=t.streams[0];if(r)for(var u=e.getVideoTracks().slice(),s=0;s<u.length;s++){var o=u[s];e.removeTrack(o)}this.oRt(e,this.rN.ly).catch(this.fAt)}},i.aRt=function(t){switch(t.name){case"active":this.yo(new hY);for(var n=0,i=t.data.tracks;n<i.length;n++){var r=i[n];r.media===lw.NI?this.Pz.tt(new aW(r.trackId,this.Pz.V?GV.Yxt:GV.Vxt,this)):r.media===lw.SI&&this.Oz.tt(new fW(r.trackId,this.Oz.V?YV.Yxt:YV.Vxt,this))}break;case"inactive":this.yo(new fY),this.Pz.tr(),this.Oz.tr();break;case"stopped":this.yo(new fY);break;case"viewercount":default:break;case"layers":var e=t.data;if(0===this.Pz.V){var u=new aW("",GV.Vxt,this);u.Yn(e.medias[0]),this.Pz.tt(u)}else{var s=Do(this.Pz.AL,(function(t){return t.Lt===GV.Vxt}));null==s||s.Yn(e.medias[0])}}},i.uRt=function(t){var n=this.eRt;void 0===n&&((n=this.cz.Wk(hA.MQ,void 0,void 0,void 0,void 0,Yw.MILLICAST)).UI=iA.FL,this.eRt=n);var i=this.LE,r=k.max(0,i-10);this.sRt<r&&(bA(n,r),this.sRt=r);var e=new vW(i+.001,t);n.RQ(e)},i.eG=function(t){this.dV||(va(this.tr()),this.dV=pw(t),this.fV=t,this.yo(new zk(t)))},i.nDt=function(){this.dV=void 0,this.fV=void 0},i.Bk=function(){return!1},i.Uk=function(){},i.Qk=function(){},i.Fk=function(){this.cz.Fk()},i.Yk=function(){var t=this.iRt;void 0!==t&&this.oRt(t,this.rN.ly).catch(this.fAt)},i.Ck=function(){return this.cz.wa},i._a=function(){return this.cz.xV},i.Wk=function(t){return this.cz.CV(t)},Ct(n,[{key:"xk",get:function(){return!1}},{key:"ht",get:function(){return this.Oz}},{key:"TE",get:function(){return this.cz.TE.ks()}},{key:"NE",get:function(){return this.cz.NE},set:function(t){}},{key:"bt",get:function(){return this.wc}},{key:"LE",get:function(){return this.cz.LE},set:function(t){this.CE(t)}},{key:"ct",get:function(){return this.cz.ct}},{key:"OE",get:function(){return this.cz.OE}},{key:"lt",get:function(){return this.dV}},{key:"zE",get:function(){return this.fV}},{key:"UE",get:function(){}},{key:"FE",get:function(){return this.cz.FE}},{key:"VE",get:function(){var t,n,i,r,e,u,s=this.tRt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{Fz:this.UG.NK.FY,Bz:null!=(i=null==o?void 0:o.framesDropped)?i:0,Uz:0,Qz:null!=(r=null==o?void 0:o.framesReceived)?r:0,Yz:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"XE",get:function(){var t,n;return null!=(n=null==(t=this.R_)?void 0:t.isActive())&&n}},{key:"KE",get:function(){return this.cz.KE}},{key:"$E",get:function(){return 1},set:function(t){}},{key:"rk",get:function(){return this.cz.rk.ks()}},{key:"ck",get:function(){return oT.pG},set:function(t){}},{key:"fk",get:function(){return this.cz.fk}},{key:"_k",get:function(){return this.cz._k.ks()}},{key:"wk",get:function(){return this.cz.wk}},{key:"wV",get:function(){return this.cz.wV}},{key:"nt",get:function(){return this.cz.nt}},{key:"yk",get:function(){return this.cz.yk}},{key:"rt",get:function(){return this.Pz}},{key:"Tk",get:function(){return this.cz.Tk}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){this.cz.Nk=t}},{key:"Ek",get:function(){return this.QG}},{key:"pV",get:function(){return this.AV}},{key:"Az",get:function(){return this.QG.Az}}]),n}(Aa),wW=function(){function t(){}var n=t.prototype;return n.bx=function(t,n,i,r,e,u,s,o){return new gW(n,e,u)},n.nG=function(t,n){return t.type===DM.hx},n.rG=function(t){return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,Pp(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}}))}))()},n.oG=function(){return!1},Ct(t,[{key:"hG",get:function(){return Pk.hx}}]),t}();eT(new wW),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Sn(),gn(),ht(),Tn(),On(),Q(),Nt();var yW=function(t){return t.cRt="currentbufferingrenditionchange",t.lRt="dRt",t.fRt="gRt",t._Rt="vRt",t}({});Q(),Nt(),Zt(),St(),Q(),Nt();var mW=function(t,n){var i,r;this.cht=void 0,this.zL=jw(),this.wRt=n,this.YA=t.YA,this.mRt=t.mRt,this.pRt=t.pRt,this.ARt=t.ARt,this.l=t.l,this.gs=t.gs,this.yRt=t.yRt,this.bRt=t.bRt,this.MRt=void 0===t.Xyt,this.TRt=null!=(r=null==(i=t.TRt)?void 0:i.split(","))?r:[]};function AW(t,n){return t.YA===n.YA&&(t.l===n.l||!(!t.mRt||!n.mRt))}function pW(t,n){return void 0!==t&&void 0!==n&&_W(t,n)}function _W(t,n){return t.wRt===n.wRt}function kW(t,n){return _W(t,n)&&t.yRt===n.yRt}function MW(t,n){for(var i=0;i<t.length;i++){if(kW(t[i],n))return!0}return!1}tn();var bW=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).Zp=n,s.ta=i,s.UG=r,s.fh=e,s.UL=u,s.udt=void 0,s.BRt=void 0,s.URt=function(){return s.yo(new Dw(s))},s.PRt=function(){var t=s.PL;t&&s.BRt!==t&&(s.BRt=t,s.yo(new gU(t)))},s.zRt=function(){var t=s.Rt;s.QRt!==t&&(s.QRt=t,s.fh.yo(new Tw(s)),s.yo(new Tw(s)))},s.BRt=s.PL,s.QRt=s.Rt;var a,c,h=u.bL(0);s.eB=null!=(a=null==h?void 0:h.IRt.l)?a:"",s.$M=null!=(c=null==h?void 0:h.IRt.gs)?c:"",s.SRt=null==h||null==(o=h.IRt)?void 0:o.TRt.map(SW).filter(ci),s.iB=Sw(),s.ta.yn(yW.cRt,s.PRt),s.ta.yn(yW.lRt,s.zRt);for(var f=0;f<s.UL.V;f++){s.UL.bL(f).yn("update",s.URt)}return s}Et(n,t);var i=n.prototype;return i.nB=function(t){this.Rt=t},i.gn=function(){this.Bo(),this.ta.fn(yW.cRt,this.PRt),this.ta.fn(yW.lRt,this.zRt);for(var t=0,n=this.UL.AL;t<n.length;t++){n[t].gn()}this.UL.tr()},Ct(n,[{key:"BL",get:function(){return this.SRt}},{key:"Rt",get:function(){var t=this.NRt();if(!t)return!1;for(var n=0,i=this.UL.AL;n<i.length;n++){if(i[n].IRt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.UL.bL(0))?void 0:n.IRt,r=this.ta.DRt,e=0,u=this.UL.AL;e<u.length;e++){var s=u[e];if(s.ERt===r){i=s.IRt;break}}this.kRt(i)}else this.kRt(void 0)}},{key:"PL",get:function(){if(this.Rt)for(var t=this.ta.LRt,n=0,i=this.UL.AL;n<i.length;n++){var r=i[n];if(MW(t,r.IRt))return r}}},{key:"ga",get:function(){return this.Za||(this.Za=hw(this)),this.Za}},{key:"o",get:function(){return this.iB.toString()}},{key:"zL",get:function(){return this.iB}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"gs",get:function(){return this.$M}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"}},{key:"QL",get:function(){return this.udt},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.PL?VR(n.PL):void 0;return Kt.Ys.Pp(i,VR(t))})).filter((function(i){return n.UL.Jz(t)&&i.lot})):i=this.UL.AL.filter((function(t){return t.lot}));if(0!==i.length){if(!(t===this.udt||this.udt&&Bo(this.udt,i))){if(this.udt=t?i:void 0,this.ta.xRt(i.map((function(t){return t.ERt}))),1===i.length){var r=i[0].ERt,e=this.Zp===lw.NI,u=this.UG.$K;va(this.ta.CRt(r,{jRt:!0,ORt:u&&e,RRt:u&&!e}))}this.yo(new UR(i,this))}}else this.yo(new GR)}}]),n}(Aa),TW=function(t){function n(n,i,r,e){return t.call(this,lw.SI,n,i,r,e)||this}Et(n,t);var i=n.prototype;return i.NRt=function(){return this.ta.FRt},i.kRt=function(t){va(this.ta.YRt(t))},Ct(n,[{key:"Lt",get:function(){return YV.Vxt}}]),n}(bW),NW=function(t){function n(n,i,r,e){return t.call(this,lw.NI,n,i,r,e)||this}Et(n,t);var i=n.prototype;return i.NRt=function(){return this.ta.VRt},i.kRt=function(t){va(this.ta.GRt(t))},Ct(n,[{key:"Lt",get:function(){return GV.Vxt}}]),n}(bW),DW=function(t){function n(n,i){var r;return(r=t.call(this)||this).ERt=n,r.IRt=i,r.eB="",r.lot=!0,r}Et(n,t);var i=n.prototype;return i.kQ=function(){},i.EQ=function(){},i.gn=function(){this.Bo()},Ct(n,[{key:"o",get:function(){return String(this.ERt.o)}},{key:"zL",get:function(){return this.ERt.o}},{key:"FY",get:function(){return this.ERt.FY}},{key:"Gyt",get:function(){return this.ERt.Gyt}},{key:"kh",get:function(){var t;return null!=(t=this.eB)?t:this.IRt.l},set:function(t){this.kh!==t&&(this.eB=t,this.yo(new MP(this.ga)))}},{key:"Xyt",get:function(){return this.IRt.wRt.WRt()}},{key:"Wyt",get:function(){return this.ERt.Wyt}}]),n}(Aa),IW=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Za=void 0,r}return Et(n,t),n.prototype.ma=function(){return kP(this)},Ct(n,[{key:"GAt",get:function(){return 0}},{key:"cht",get:function(){var t;return(null==(t=this.ERt.cht)?void 0:t.Axt)||""}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(DW),EW=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Za=void 0,r.ZRt=0,r.uxt=void 0,r}return Et(n,t),n.prototype.ma=function(){return _P(this)},Ct(n,[{key:"cht",get:function(){var t;return(null==(t=this.ERt.cht)?void 0:t.bxt)||""}},{key:"Zyt",get:function(){return this.ZRt},set:function(t){this.ZRt!==t&&(this.ZRt=t,this.yo(new MP(this.ga)))}},{key:"vgt",get:function(){var t,n;return null!=(n=null!=(t=this.uxt)?t:this.ERt.vgt)?n:0},set:function(t){this.vgt!==t&&(this.uxt=t,this.yo(new MP(this.ga)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.ERt.cxt)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.ERt.cxt)?void 0:t.ji)?n:0}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(DW);function SW(t){return"public.accessibility.describes-video"===t?ow.RL:"public.accessibility.transcribes-spoken-dialog"===t?ow.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?ow.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?ow.OL:void 0}Q(),Nt(),Q(),Nt(),gn(),tn();var LW=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.HRt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.XRt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.HRt(t)&&(e=Kt).aA.apply(e,["DEBUG "+t+" -"].concat(ln(i)))},n.Hj=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.HRt(t)&&(e=Kt).aA.apply(e,["INFO "+t+" -"].concat(ln(i)))},n.qRt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.HRt(t)&&(e=Kt).uA.apply(e,["WARNING "+t+" -"].concat(ln(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.HRt(t)&&(e=Kt).cA.apply(e,["ERROR "+t+" -"].concat(ln(i)))},n.KRt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.HRt(t)&&(e=Kt).cA.apply(e,["FATAL "+t+" -"].concat(ln(i)))},t}(),CW=new LW,jW="HLSPlaylistParser",xW="Discontinuity",OW="Buffering",zW=function(){function t(t,n,i,r){this.ta=t,this.UG=n,this.iPt=i,this.ePt=r}var n=t.prototype;return n.Mgt=function(){var t,n=null==(t=this.ta.Tr)?void 0:t.JRt;if(n&&0!==n.length){for(var i,r=null!=(i=Do(n,(function(t){return 0!==t.$Rt.length&&0!==t.tPt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.$Rt;u<s.length;u++){var o=s[u],a=new bw,c=[];a.Kz(new IW(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,d=f.$Rt;v<d.length;v++){var l=d[v];if(AW(l,o)&&!MW(c,l)){a.Kz(new IW(f,l)),c.push(l);break}}this.iPt.tt(new TW(this.ta,this.UG,this.iPt,a))}for(var g=0,w=r.tPt;g<w.length;g++){var y=w[g],m=new bw,A=[];m.Kz(new EW(r,y)),A.push(y);for(var p=0;p<e.length;p++)for(var _=e[p],k=0,M=_.tPt;k<M.length;k++){var b=M[k];if(AW(b,y)&&!MW(A,b)){m.Kz(new EW(_,b)),A.push(b);break}}this.ePt.tt(new NW(this.ta,this.UG,this.ePt,m))}}else CW.qRt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.sPt=function(){this.nPt(this.iPt),this.nPt(this.ePt)},n.nPt=function(t){for(var n=[],i=0,r=t.AL;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.UL.AL;s<o.length;s++){var a=o[s];Oo(a.ERt.rPt,a.IRt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.UL.wS(h),h.gn()}0===e.UL.V&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.gn()}},n.oPt=function(t,n){var i=this.hPt(t);void 0!==i&&(i.vgt=n)},n.aPt=function(t,n){var i=this.hPt(t);void 0!==i&&(i.Zyt=n)},n.hPt=function(t){for(var n=0,i=this.ePt.AL;n<i.length;n++){var r=i[n],e=Do(r.UL.AL,(function(n){return n.IRt===t}));if(void 0!==e)return e}},t}();Q(),Nt(),Zt();var RW=function(){function t(t){var n=t.FY>0?t.FY:WG.Pct,i=t.YY>0?t.YY:RG.Pct;this.Uct=new WG(WG.dkt,WG.fkt,1,n),this.zkt=new RG(RG.dkt,RG.fkt,i)}var n=t.prototype;return n.VY=function(t){if("segment"===t.YA||"preload-hint"===t.YA){var n=[new UG(this.zkt)];return"stream"!==t.oI||!function(t){return"segment"===t.YA&&"initialization-segment"!==t.OI}(t)&&"preload-hint"!==t.YA?n.push(new PG(this.Uct)):n.push(new QG(this.Uct,1e3)),new BG(n)}},n.xkt=function(t){this.Uct=new WG(WG.dkt,WG.fkt,1,t)},Ct(t,[{key:"FY",get:function(){return this.Uct.Mst}},{key:"YY",get:function(){return this.zkt.Mst}}]),t}();Q(),Nt(),St();var BW=function(t){function n(n){var i;return(i=t.call(this,yW._Rt)||this).lt=n,i}return Et(n,t),n}(ka);Q(),Nt();var UW=function(){function t(t){this.uot=t}return t.prototype.H$=function(t,n){var i={YA:OA.FQ,yV:[],E5:t.map((function(t){return{VN:t}})),U5:n};return st.resolve(void 0!==this.uot.H$([i]))},t}();Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),tn();var PW=function(t,n,i,r,e){return t.filter((function(t){return!!Oo(r,t)||1.1*t.FY<=i.FY}))},QW=function(t,n,i,r,e){return t.filter((function(t){if(Oo(r,t))return!0;for(var u=1/0,s=0,o=t.rPt;s<o.length;s++){var a,c,h=o[s];u=k.min(u,null!=(c=null!=(a=h.wRt.uPt)?a:h.wRt.cPt)?c:1/0)}u===1/0&&(u=1);var f=2*i.YY+t.FY*u/i.FY;return t.FY<=n.FY||e.lPt>f}))},YW=function(t,n,i,r,e){return yo(t,(function(t,n){return n.FY-t.FY}))},GW=function(t,n,i,r,e){return t.every((function(t){return t.Wyt&&!T(t.Wyt)}))?yo(t,(function(t,n){return n.Wyt-t.Wyt})):t},VW=function(t,n,i,r,e){return 0===r.length?t:yo(t,(function(t,n){var i=Oo(r,t)?1:0;return(Oo(r,n)?1:0)-i}))},FW=function(t,n,i,r,e,u){return t.filter((function(t){return!t.cht||!n.cht||!(void 0!==n.cht.bxt&&void 0!==t.cht.bxt&&!hS(n.cht.bxt,t.cht.bxt)&&!u.dPt({VN:'video/mp4; codecs="'+t.cht.bxt+'"'}))&&!(void 0!==n.cht.Axt&&void 0!==t.cht.Axt&&!hS(n.cht.Axt,t.cht.Axt)&&!u.fPt({VN:'audio/mp4; codecs="'+t.cht.Axt+'"'}))}))},WW=function(t,n,i,r,e){if(!1===e.Fdt)return t;if(Kt.Ys.Ap)return t;for(var u,s,o=Kt.Ys.yp,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*DR,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*DR,h=0;h<t.length;h++){var f=t[h];if(void 0===f.cxt)return t;var v=f.cxt.Ti,d=f.cxt.ji;if(v<=c&&d<=a)return t.slice(h,t.length)}return[]},ZW=function(t,n,i,r,e){return function(t,n){var i=n.Fdt;if(void 0===i&&!Kt.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.cxt)return t;var u=e.cxt.Ti,s=e.cxt.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var XW="AbrEvaluator",HW=function(){function t(t){this.UG=t,this.xv=[FW,PW,QW,YW,WW,ZW,GW,VW]}var n=t.prototype;return n._Pt=function(t){this.xv=t},n.vPt=function(t,n,i,r,e){var u=this;return yn((function(){return pn(this,(function(s){switch(s.label){case 0:return[4,u.wPt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.wPt=function(t,n,i,r,e){var u=this;return yn((function(){var s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new A("AbrEvaluator - Unable to select optimal variant stream from an empty list.");CW.XRt(XW,"Performing optimal variant stream selection."),s=u.gPt,o=t,a=0,c=u.xv,v.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),fi(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=v.sent(),v.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(CW.qRt(XW,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[Po(t,(function(t){return t.FY}))]]):[2,o]}}))}))()},Ct(t,[{key:"gPt",get:function(){return this.UG.NK}}]),t}();function KW(t,n){return[t,void 0!==n?t+n-1:dr]}function JW(t){return Boolean(t.zj)}function qW(t){return Boolean(t.Wot)}Q(),Nt(),Zt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Sn(),Q(),Nt(),Q(),Nt();var $W=function(t){return t[t.SI=0]="SI",t[t.NI=1]="NI",t[t.AQ=2]="AQ",t[t.mPt=3]="mPt",t}({}),tZ=function(t){return t[t.pPt=0]="pPt",t[t.APt=1]="APt",t}({}),nZ=function(t){return t[t.pG=0]="pG",t[t.yPt=1]="yPt",t[t.bPt=2]="bPt",t}({}),iZ=function(t){return t[t.dI=0]="dI",t[t.MPt=1]="MPt",t[t.TPt=2]="TPt",t}({});function rZ(t){return t?t.SMt?t.zD+"@"+t.SMt.Cn+"-"+(null!=(n=t.SMt.V)?n:""):""+t.zD:"";var n}function eZ(t,n){if(n===t)return!0;if(n.zD!==t.zD)return!1;if(!t.SMt)return!0;if(n.SMt){var i=KW(t.SMt.Cn,t.SMt.V),r=KW(n.SMt.Cn,n.SMt.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function uZ(t,n){return t===n||t.zD===n.zD&&(t.SMt&&n.SMt?t.SMt.Cn===n.SMt.Cn&&t.SMt.V===n.SMt.V:t.SMt===n.SMt)}function sZ(t){var n=!!t.SPt||void 0;return{o:t.o,NPt:t.NPt,wV:t.wV,IPt:t.IPt,ct:t.ct,DPt:t.DPt,SPt:n,EPt:t.kPt,LPt:t.xPt,CPt:t.CPt,jPt:t.jPt}}function oZ(t,n){var i,r,e;return{Axt:null!=(i=n.Axt)?i:null==t?void 0:t.Axt,bxt:null!=(r=n.bxt)?r:null==t?void 0:t.bxt,OPt:null!=(e=n.OPt)?e:null==t?void 0:t.OPt}}function aZ(t,n,i,r,e){return cZ.apply(this,arguments)}function cZ(){return cZ=yn((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,d,l,g;return pn(this,(function(w){switch(w.label){case 0:return u=n.filter((function(t){return to(t,"audio")})),s=n.filter((function(t){return to(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return hZ.apply(this,arguments)}(t,r,e)})),[4,st.all(a)];case 1:for(c=w.sent().filter(ci),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.NS.ZA);return i>=0?i:n.length};return yo(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)d=f[v],l=NY(null!=t?t:{},d.NS),g="cbcs",o.push({NS:d.NS,XY:d.XY,qY:d.qY,hY:d.hY,HV:[{initDataTypes:[d.NS.GA],audioCapabilities:DY(u,g,null==l?void 0:l.audioRobustness),videoCapabilities:DY(s,g,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return[2,o]}}))})),cZ.apply(this,arguments)}function hZ(){return hZ=yn((function(t,n,i){var r,e;return pn(this,(function(u){switch(u.label){case 0:return t.Xyt&&t.RPt?t.xI!==nZ.bPt?[2]:(r=fZ(t.RPt))?r.ZA!==Ps?[3,1]:[2,{NS:r,XY:[],qY:void 0,hY:t.Xyt}]:[2]:[2];case 1:return r.ZA!==Bs||t.RPt!==Gs?[3,2]:[2,{NS:r,XY:[],qY:t.Xyt,hY:void 0}];case 2:return CW.Hj("HLSDrmUtils","Fetching key uri "+t.Xyt+"."),[4,n.hI({zu:t.Xyt,zI:i})];case 3:return[4,u.sent().FN()];case 4:return e=u.sent(),[2,{NS:r,XY:[e],qY:void 0,hY:void 0}];case 5:return[2]}}))})),hZ.apply(this,arguments)}function fZ(t){return t===Os?Ws:t===js?Fs:t===Ys?Xs:t===Gs?Hs:void 0}function vZ(t){if("#"!==t[0])throw new A("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function dZ(t){return"#"!==t[0]?t:t.split(":",1)[0]}function lZ(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new A("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function gZ(t){var n=pZ(lZ(t));if(void 0===n)throw new A("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function wZ(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:CW.qRt(jW,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function yZ(t,n){var i,r,e=wZ(t);try{i=e.URI?Kt.TA(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return $W.SI;case"VIDEO":return $W.NI;case"SUBTITLES":return $W.AQ;case"CLOSED-CAPTIONS":return $W.mPt}throw new A("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new A("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,l=e.CHANNELS;if(u||CW.qRt(jW,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||CW.qRt(jW,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||CW.qRt(jW,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===$W.mPt?(i&&CW.qRt(jW,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||CW.qRt(jW,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):CW.qRt(jW,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&CW.qRt(jW,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&CW.qRt(jW,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==$W.AQ&&CW.qRt(jW,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new A("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{PPt:o,hxt:l,TRt:d,yRt:u,pRt:h,mRt:c,ARt:f,bRt:v,gs:s,l:a,YA:r,Xyt:i}}function mZ(t,n,i){var r,e,u,s=wZ(t);try{r=Kt.TA(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(T(i)||T(r))throw new A("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();no(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:no(s,"avc")||no(s,"hvc1")||no(s,"hev1")||no(s,"dvh")||no(s,"vp09")||no(s,"av01")?i=s:r=r?r+","+s:s}return{Axt:n,bxt:i,OPt:r}}(s.CODECS)}catch(n){throw new A("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=pZ(s.BANDWIDTH),a=pZ(s["AVERAGE-BANDWIDTH"]),c=pZ(s.SCORE),h=pZ(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],v=[];if(void 0!==s["ALLOWED-CPC"]){var d,l=s["ALLOWED-CPC"].split(",");(d=v).push.apply(d,ln(l.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],w=s.AUDIO,y=s.VIDEO,m=s.SUBTITLES,p=s["CLOSED-CAPTIONS"];if(void 0===o?CW.qRt(jW,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&CW.qRt(jW,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||CW.Hj(jW,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.bxt&&void 0===u&&CW.Hj(jW,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||Oo(["TYPE-0","TYPE-1","NONE"],f)||CW.qRt(jW,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Oo(["SDR","PQ","HLG"],g)||CW.qRt(jW,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new A("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{zPt:v,BPt:w,Gyt:a,FY:o,UPt:p,cht:e,vgt:h,QPt:f,cxt:u,Wyt:c,FPt:m,Xyt:r,YPt:y,VPt:g}}function AZ(t,n){var i=wZ(t);if(!i.URI)throw new A("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return mZ(t,n,i.URI)}catch(n){throw new A("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function pZ(t){var n=Number(t);return T(n)?void 0:n}function _Z(t,n){var i,r,e=wZ(t);try{i=function(t){switch(t){case"NONE":return nZ.pG;case"AES-128":return nZ.yPt;case"SAMPLE-AES":return nZ.bPt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new A("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?EZ(e.URI,n):void 0}catch(n){throw new A("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==nZ.pG){if(o=h||Gs,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(fZ(o)!==Ws)throw new A("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=nZ.bPt}else u=i;s=r,a=f?Fc(f):void 0,c=v?v.split("/").map((function(t){return Number(t)})):[1]}else u=nZ.pG,(r||h||v||f)&&CW.qRt(jW,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{xI:u,Xyt:s,GPt:a,RPt:o,WPt:c}}function kZ(t){var n=lZ(t);if(!n)return[void 0,""];var i=En(n.split(","),2),r=i[0],e=i[1];return[pZ(r),e]}function MZ(t,n){var i=t.split("@"),r=pZ(i[0]),e=i.length>1?pZ(i[1]):n;if(void 0===r||void 0===e)throw new A("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:e,V:r}}function bZ(t){if(void 0!==t)return MZ(t,void 0)}function TZ(t,n){return MZ(lZ(t),n)}function NZ(t,n){var i=wZ(t);try{return{zD:EZ(i.URI,n),SMt:bZ(i.BYTERANGE)}}catch(n){throw new A("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function DZ(t){var n=lZ(t);if(!n)throw new A("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Mr(i))throw new A("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function IZ(t){var n,i,r,e=wZ(t),u=e["START-DATE"],s=e["END-DATE"],o=pZ(e["PLANNED-DURATION"]),a=pZ(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Fc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Fc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Fc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n={},i=0,r=_.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&no(e,"X-")&&(n[e]=u)}return n}(e),d=e.ID,l=e.CLASS;if(void 0===u)CW.qRt(jW,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,Mr(c)||CW.qRt(jW,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(CW.qRt(jW,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||CW.qRt(jW,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&CW.qRt(jW,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&CW.qRt(jW,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&CW.qRt(jW,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===c)throw new A("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,NPt:l,wV:c,IPt:h,ct:a,DPt:o,xPt:n,jPt:i,CPt:r,SPt:f,kPt:v}}function EZ(t,n){if(void 0===t)throw new A("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Kt.TA(t,n)}function SZ(t,n){var i=wZ(t),r=pZ(i.DURATION),e=EZ(i.URI,n),u=bZ(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new A("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Xyt:{zD:e,SMt:u},ZPt:s,HPt:o}}function LZ(t){var n=wZ(t);return{XPt:"YES"===n["CAN-BLOCK-RELOAD"],qPt:pZ(n["CAN-SKIP-UNTIL"]),KPt:"YES"===n["CAN-SKIP-DATERANGES"],JPt:pZ(n["HOLD-BACK"]),$Pt:pZ(n["PART-HOLD-BACK"])}}function CZ(t,n){var i=wZ(t);if(void 0===i.URI)throw new A("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=EZ(i.URI,n),e=pZ(i["LAST-MSN"]),u=pZ(i["LAST-PART"]);if(void 0===e)throw new A("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Xyt:r,tzt:e,izt:u}}function jZ(t,n){var i,r=wZ(t),e=pZ(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new A("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{ezt:e,szt:u,nzt:n}}function xZ(t){var n=pZ(wZ(t)["PART-TARGET"]);if(void 0===n)throw new A("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function OZ(t){switch(lZ(t)){case"VOD":return iZ.MPt;case"EVENT":return iZ.TPt;default:return CW.qRt(jW,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),iZ.dI}}function zZ(t,n){var i,r,e=wZ(t);try{i=function(t){if(void 0===t)throw new A("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return tZ.pPt;if("PART"===t)return tZ.APt;throw new A("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=EZ(e.URI,n)}catch(n){throw new A("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=pZ(e["BYTERANGE-START"]),o=pZ(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Cn:s||0,V:o}),{YA:i,Xyt:{zD:r,SMt:u}}}Q(),Nt(),Sn(),gn(),tn(),Q(),Nt(),An(),Tn(),Q(),Nt();var RZ=function(){function t(n){this.hzt=0,this.ozt=t.uzt(n)}var n=t.prototype;return n.rzt=function(){var t=this.ozt[this.hzt];return this.hzt+=1,t},n.azt=function(){return this.ozt[this.hzt]},n.Zb=function(){var n=new t("");return n.hzt=0,n.ozt=this.ozt.slice(this.hzt),n},t.uzt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function BZ(t,n,i){var r=t.Xyt,e=t.cj,u=t.czt,s=t.Cn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=gZ(t);return T(n)?(CW.qRt(jW,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=wZ(t),i=pZ(n["TIME-OFFSET"]);if(void 0===i)throw new A("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{lzt:i,dzt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":CW.qRt(jW,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:CW.Hj(jW,"Ignoring unrecognized line or comment: "+n+".")}return{Xyt:r,cj:e,czt:u,Cn:s}}function UZ(t,n){return t.map((function(t){return t.xI===nZ.pG||t.GPt?t:ys({},t,{GPt:PZ(n)})}))}function PZ(t){var n=new DataView(new ArrayBuffer(16)),i=new Vc;return i.Gb(8),lc(n,i,fr.fromNumber(t)),new N(n.buffer)}function QZ(t,n,i){CW.Hj(jW,"Parsing M3U8 playlist at "+t+".");var r=new RZ(i);if("#EXTM3U"!==r.rzt())throw new A("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=Kt.TA(t)}catch(n){throw CW.qRt(jW,"The master playlist has no valid base URI: "+t+"."),new A("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Xyt:i,czt:void 0,Cn:void 0,cj:void 0},e=[],u=[],s=[],o=[];;){var a=n.rzt();if(!a)break;try{var c=vZ(a);switch(c){case"#EXT-X-MEDIA":var h=yZ(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=mZ(a,i,n.rzt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=AZ(a,i);s.push(v);break;case"#EXT-X-SESSION-DATA":CW.qRt(jW,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=_Z(a,i);o.push(d);break;default:r=BZ(r,a,c)}}catch(t){CW.qRt(jW,"Ignoring unparsable line: "+a,t)}}var l,g=r.cj,w=null!=(l=r.czt)&&l,y=r.Cn;return void 0===g&&(CW.qRt(jW,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.Wyt}))||s.some((function(t){return void 0!==t.Wyt})))&&(u.some((function(t){return void 0===t.Wyt}))||s.some((function(t){return void 0===t.Wyt})))&&CW.qRt(jW,"If one master playlist variant stream has a SCORE, all variants should have it."),{Xyt:i,cj:g,czt:w,Cn:y,fzt:s,gzt:o,zj:e,_zt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,p,_,k={Xyt:t,czt:void 0,Cn:void 0,cj:void 0},M=[],b=!1,T=!1,N=[],D=As(),I=[],E=[],S=!1,L=!1,C=[],j=[],x=0,O=!1,z=iZ.dI,R=!1,B=0;try{_=Kt.TA(t)}catch(n){throw CW.qRt(jW,"The media playlist has no valid base URI: "+t+".",n),new A("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var U=i.Zb();void 0===y||void 0===m;){var P=U.rzt();if(!P)break;try{switch(dZ(P)){case"#EXT-X-MEDIA-SEQUENCE":y=gZ(P);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":m=gZ(P)}}catch(t){CW.qRt(jW,"Ignoring unparsable line: "+P,t)}}void 0===y&&(CW.Hj(jW,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),y=0),void 0===m&&(CW.Hj(jW,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),m=0);for(var Q=y,Y=m;;){var G=i.rzt();if(!G)break;var V=!1;try{var F=dZ(G);switch(F){case"#EXTINF":var W;V=!0,o=(W=En(kZ(G),2))[0],a=W[1];break;case"#EXT-X-BYTERANGE":V=!0,(c=TZ(G,x))&&(x=c.Cn+c.V);break;case"#EXT-X-DISCONTINUITY":V=!0,S=!0,Y++;break;case"#EXT-X-KEY":var Z;V=!0;var X,H=_Z(G,_);if(H.xI===nZ.pG){D.clear(),g=void 0;break}var K=null!=(X=null==(Z=H.RPt)?void 0:Z.toString())?X:"identity";D.set(K,H),H.xI===nZ.yPt&&(g=H);break;case"#EXT-X-MAP":V=!0,f=NZ(G,_),v=g;break;case"#EXT-X-PROGRAM-DATE-TIME":V=!0,d=DZ(G);break;case"#EXT-X-GAP":V=!0,L=!0;break;case"#EXT-X-BITRATE":V=!0,l=gZ(G);break;case"#EXT-X-TARGETDURATION":r=gZ(G);break;case"#EXT-X-DATERANGE":var J=IZ(G);M.push(J);break;case"#EXT-X-PART":V=!0;var q=SZ(G,_);E.push(q);break;case"#EXT-X-PRELOAD-HINT":var $=zZ(G,_);C.push($);break;case"#EXT-X-SKIP":N.length>0&&CW.qRt(jW,"#EXT-X-SKIP must appear before any #EXTINF tags."),V=!0;var tt=jZ(G,Q);B=tt.ezt,p=tt.szt,Q+=tt.ezt;break;case"#EXT-X-SERVER-CONTROL":var nt=LZ(G);b=nt.XPt,e=nt.qPt,T=nt.KPt,u=nt.JPt,s=nt.$Pt;break;case"#EXT-X-RENDITION-REPORT":var it=CZ(G,_);j.push(it);break;case"#EXT-X-PART-INF":w=xZ(G);break;case"#EXT-X-MEDIA-SEQUENCE":V&&CW.qRt(jW,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":V&&CW.qRt(jW,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":O=!0;break;case"#EXT-X-PLAYLIST-TYPE":z=OZ(G);break;case"#EXT-X-I-FRAMES-ONLY":R=!0;break;default:if(no(F,"#"))k=BZ(k,G,F);else{h=Kt.TA(G,_);var rt=f?{Xyt:f,vzt:v}:void 0,et={gzt:UZ(ks(D),Q),_Q:I,wzt:E,ct:o,TV:a,mzt:S,Xyt:{SMt:c,zD:h},pzt:rt,Azt:d,HPt:L,yzt:l,nzt:Q,bzt:Y};N.push(et),Q++,I=[],E=[],o=void 0,a=void 0,S=!1,c=void 0,h=void 0,d=void 0,L=!1,l=void 0}}}catch(t){CW.qRt(jW,"Ignoring unparsable line: "+G,t)}}if(E.length){var ut=f?{Xyt:f,vzt:g}:void 0,st={gzt:UZ(ks(D),Q),_Q:I,wzt:E,ct:o,TV:a,mzt:S,Xyt:void 0,pzt:ut,Azt:d,HPt:L,yzt:l,nzt:Q,bzt:Y};N.push(st)}var ot,at=k.cj,ct=null!=(ot=k.czt)&&ot,ht=k.Cn;void 0===at&&(CW.qRt(jW,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&CW.qRt(jW,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=N.length,vt=ft>0;vt||CW.qRt(jW,"The HLS media playlist contains no segments.");var dt=vt&&N[ft-1].wzt.length>0;return dt&&void 0===w&&CW.qRt(jW,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&CW.qRt(jW,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{XPt:b,qPt:e,KPt:T,Mzt:M,bzt:m,Tzt:O,czt:ct,JPt:u,Szt:R,nzt:y,ezt:B,$Pt:s,uPt:w,Nzt:z,Izt:C,szt:p,Dzt:j,Ezt:r,Wot:N,Cn:ht,Xyt:_,kzt:n,cj:at}}(t,n,r)}tn(),Q(),Nt(),Zt(),gn(),Q(),Nt(),Zt();var YZ=function(){function t(t,n,i){var r,e,u,s;this.o=GZ++,this.Wyt=void 0,this.cxt=void 0,this.Gyt=void 0,this.Lzt=!1,this.jzt=[],this.wRt=n,this.FY=t.FY,this.Gyt=t.Gyt,this.Wyt=t.Wyt,this.xzt=t.cht?VZ(t.cht):void 0,this.JLt=this.xzt,this.cxt=t.cxt,this.vgt=t.vgt,this.BPt=null!=(r=t.BPt)?r:"Uzt"+this.o,this.YPt=null!=(e=t.YPt)?e:"Qzt"+this.o,this.FPt=null!=(u=t.FPt)?u:"Fzt"+this.o,this.UPt=null!=(s=t.UPt)?s:"Yzt"+this.o,this.jzt=i}var n=t.prototype;return n.Pzt=function(t){for(var n=0,i=this.jzt;n<i.length;n++){var r=i[n].wRt.Pzt(t);if(void 0!==r)return r}},n.zzt=function(t){for(var n=0,i=this.jzt;n<i.length;n++){var r=i[n].wRt.zzt(t);if(void 0!==r)return r}},n.Bzt=function(t){Co(this.jzt,t)},Ct(t,[{key:"Xyt",get:function(){return this.wRt.Xyt}},{key:"cht",get:function(){return this.JLt},set:function(t){this.JLt=t?VZ(t):void 0,this.Lzt=function(t,n){return!(void 0!==(null==t?void 0:t.Axt)&&void 0===(null==n?void 0:n.Axt)||void 0!==(null==t?void 0:t.bxt)&&void 0===(null==n?void 0:n.bxt))}(this.xzt,this.JLt)}},{key:"Czt",get:function(){return this.Lzt}},{key:"rPt",get:function(){return this.jzt}},{key:"$Rt",get:function(){return this.jzt.filter((function(t){return t.YA===$W.SI}))}},{key:"tPt",get:function(){return this.jzt.filter((function(t){return t.YA===$W.NI}))}},{key:"Ozt",get:function(){return this.jzt.filter((function(t){return t.YA===$W.AQ}))}},{key:"Rzt",get:function(){return this.jzt.filter((function(t){return t.YA===$W.mPt}))}}]),t}(),GZ=0;function VZ(t){return ys({},t,{bxt:t.bxt?td(t.bxt):void 0})}Q(),Nt(),Zt(),Sn(),Q(),Nt(),Zt(),Q(),Nt(),Zt();var FZ=function(){function t(t,n,i,r,e,u){this.kst=void 0,this.Xzt=t,this.Kzt=n,this.yB=i,this.Wzt=r,this.Hzt=e,this.ct=u.ct,this.Xyt=u.Xyt,this.ZPt=u.ZPt,this.HPt=u.HPt}return t.prototype.qzt=function(t,n,i){this.yB=t,this.Wzt=n,this.Hzt=i},Ct(t,[{key:"lB",get:function(){var t;return this.yB+(null!=(t=this.Vzt)?t:0)}},{key:"Gzt",get:function(){return this.Wzt}},{key:"Zzt",get:function(){return this.Hzt}},{key:"gzt",get:function(){return this.Xzt.gzt}}]),t}(),WZ=function(){function t(t,n,i,r,e){this.kst=void 0,this.Cw=[],this.eBt=0,this.yB=t,this.pzt=e.pzt,this.Wzt=i,this.Hzt=r,this.JM=e.ct,this.Azt=e.Azt,this.tBt=e.Xyt,this.HPt=e.HPt,this.nzt=e.nzt,this.mzt=e.mzt,this.bzt=n,this.gzt=e.gzt,this.hBt(e.wzt)}var n=t.prototype;return n.sBt=function(t){return this.Cw[t]},n.nBt=function(t){for(var n=0;n<this.Cw.length;n++){var i=this.Cw[n],r=i.lB,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.Cw.length?this.Cw[n+1]:i}},n.rBt=function(t){for(var n=this.Cw.length-1;n>=0;n--){var i=this.Cw[n];if(i.lB<=t)return i}},n.oBt=function(t){for(var n=this.rBt(t);n&&!n.ZPt&&n.Kzt>0;)n=this.sBt(n.Kzt-1);return n},n.qzt=function(t,n,i){var r=t.wzt.length!==this.Cw.length||i!==this.Hzt;this.Wzt=n,this.Hzt=i,this.JM=t.ct,null!=this.Azt||(this.Azt=t.Azt),void 0===this.tBt&&(this.tBt=t.Xyt),r&&this.hBt(t.wzt)},n.hBt=function(t){this.Cw.length>t.length&&(this.Cw.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.Wzt&&0===i,u=this.Hzt&&i===t.length-1,s=this.yB+n;if(i<this.Cw.length)this.Cw[i].qzt(s,e,u);else{var o=new FZ(this,i,s,e,u,r);o.Vzt=this.Jzt,this.Cw.push(o)}n+=r.ct}this.eBt=n},n.aBt=function(){Ro(this.Cw),this.eBt=0},Ct(t,[{key:"lB",get:function(){var t;return this.yB+(null!=(t=this.Jzt)?t:0)}},{key:"$zt",get:function(){return this.yB}},{key:"ct",get:function(){return this.JM}},{key:"Xyt",get:function(){return this.tBt}},{key:"Gzt",get:function(){return this.Wzt}},{key:"Zzt",get:function(){return this.Hzt}},{key:"wzt",get:function(){return this.Cw}},{key:"iBt",get:function(){return this.eBt}},{key:"dB",get:function(){var t;return this.lB+(null!=(t=this.JM)?t:this.eBt)}},{key:"Vzt",get:function(){return this.Jzt},set:function(t){this.Jzt=t;for(var n=0,i=this.Cw;n<i.length;n++){i[n].Vzt=t}}}]),t}();Q(),Nt();var ZZ=function(t){return t.uBt="YES",t.cBt="v2",t}({});tn(),Q(),Nt(),St();var XZ=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n}(Jo);Q(),Nt(),St(),Q(),Nt(),Zt(),St(),Q(),Nt();var HZ=function(t){function n(n,i){var r,e=KZ(i,n.ct,n.wV,n.IPt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).lBt=n.NPt,r.dBt=n.wV,r.fBt=n.IPt,r.JM=n.ct,r.gBt=n.DPt,r._Bt=Boolean(n.SPt),r.pBt=n.EPt||{},r.vBt=n.LPt,r.wBt=n.CPt,r.mBt=n.jPt,r.ABt(),r.yBt(),r}Et(n,t);var i=n.prototype;return i.Yn=function(t){var n,i=!1;(void 0===this.lBt&&void 0!==t.NPt&&(i=!0,this.lBt=t.NPt),void 0===this.fBt&&void 0!==t.IPt&&(i=!0,this.fBt=t.IPt),void 0===this.JM&&void 0!==t.ct&&(i=!0,this.JM=t.ct),void 0===this.gBt&&void 0!==t.DPt&&(i=!0,this.gBt=t.DPt),!this._Bt&&t.SPt&&(i=!0,this._Bt=t.SPt),i=this.updateCustomAttributes(t,i),void 0===this.vBt&&void 0!==t.LPt&&(i=!0,this.vBt=t.LPt),void 0===this.wBt&&void 0!==t.CPt&&(i=!0,this.wBt=t.CPt),void 0===this.mBt&&void 0!==t.jPt&&(i=!0,this.mBt=t.jPt),this.ABt(),this.yBt(),this.bBt(),i)&&(this.yo(new ny(this)),null==(n=this.bB)||n.yo(new ry(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.EPt)for(var r=0,e=_.keys(t.EPt);r<e.length;r++){var u=e[r];void 0===this.pBt[u]&&(i=!0,this.pBt[u]=t.EPt[u])}return i},i.ABt=function(){this.JM&&!this.fBt&&(this.fBt=new Date(this.dBt.getTime()+Nr(this.JM)))},i.yBt=function(){this.fBt&&!this.JM&&(this.JM=Tr(this.fBt.getTime()-this.dBt.getTime()))},i.bBt=function(){this.TB===1/0&&(this.fBt||this.JM)&&(this.TB=KZ(this.yB,this.JM,this.dBt,this.fBt))},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return Wg(qw(t),{get content(){return t.U},get class(){return t.NPt},get startDate(){return t.wV},get endDate(){return t.IPt},get duration(){return t.ct},get plannedDuration(){return t.DPt},get endOnNext(){return t.SPt},get scte35Cmd(){return t.LPt},get scte35Out(){return t.CPt},get scte35In(){return t.jPt},get customAttributes(){return t.EPt}})}(this)),this.Za}},{key:"NPt",get:function(){return this.lBt}},{key:"wV",get:function(){return this.dBt}},{key:"IPt",get:function(){return this.fBt}},{key:"ct",get:function(){return this.JM}},{key:"DPt",get:function(){return this.gBt}},{key:"SPt",get:function(){return this._Bt}},{key:"LPt",get:function(){return this.vBt}},{key:"CPt",get:function(){return this.wBt}},{key:"jPt",get:function(){return this.mBt}},{key:"EPt",get:function(){return this.pBt}}]),n}(oy);function KZ(t,n,i,r){return ci(n)?t+n:r?t+(Tr(r.getTime())-Tr(i.getTime())):1/0}var JZ=function(t){function n(){return t.call(this,void 0,void 0,Yw.DATE_RANGE)||this}Et(n,t);var i=n.prototype;return i.Yn=function(t,n){qZ(this,$Z(t),n)},i.RQ=function(n){tX(this.L.AL,n),t.prototype.RQ.call(this,n)},n}(eC);function qZ(t,n,i){for(var r=function(i){var r=e[i],u=Do(n,(function(t){return t.o===r.o}));u?r.Yn(u):t.SQ(r)},e=t.L.AL,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.wV;if(void 0!==a&&!t.d6(o.o)){var c=i(a),h=new HZ(o,c);tX(t.L.AL,h),t.RQ(h)}}}function $Z(t){for(var n=As(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=ys({},u,Kg(e),{EPt:ys({},u.EPt,e.EPt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function tX(t,n){var i=Eo(t,(function(t){return t.NPt===n.NPt}));i&&i.SPt&&i.Yn({o:i.o,IPt:n.wV})}var nX=String.fromCharCode(95),iX=nX+"HLS_msn",rX=nX+"HLS_part",eX=nX+"HLS_skip",uX="HLSMediaPlaylist",sX=function(){function t(t,n,i){this.PBt=void 0,this.BBt=void 0,this.XBt=void 0,this.qBt=void 0,this.SBt=void 0,this.NBt=void 0,this.IBt=void 0,this.DBt=void 0,this.eMt=[],this.UBt=[],this.EBt=!1,this.kBt=void 0,this.LBt=!1,this.xBt=iZ.dI,this.I5=GM.PP(),this.TBt=GM.PP(),this.JM=void 0,this.FBt=-1/0,this.VBt=void 0,this.Xyt=t,this.mQ=n,this.sUt=i}var n=t.prototype;return n.WRt=function(t){if(!t)return this.Xyt;var n=Kt.Ah(this.Xyt);return void 0!==t.nzt&&n.searchParams.append(iX,String(t.nzt)),void 0!==t.GBt&&n.searchParams.append(rX,String(t.GBt)),void 0!==t.ZC&&n.searchParams.append(eX,t.ZC),n.href},n.yct=function(t){var n=this.eMt;if(0!==n.length){var i=t-n[0].nzt;if(!(i<0||i>=n.length))return n[i]}},n.WBt=function(t){if(0!==this.eMt.length){var n=jP(oX.Ld,this.eMt,t);if(!(n<0)){var i=this.eMt[n];return t===i.dB&&n+1<this.eMt.length?this.eMt[n+1]:i}var r=this.eMt[this.eMt.length-1];return t===r.dB?r:void 0}},n.ZBt=function(t){if(0!==this.eMt.length){var n=this.eMt[0];if(t<n.dB)return n;var i=this.eMt[this.eMt.length-1];return t>=i.lB?i:this.WBt(t)}},n.Pzt=function(t){var n=this.ZBt(t);if(void 0!==n)for(var i=n.nzt-this.eMt[0].nzt;i>=0;i--){var r=this.eMt[i];if(void 0!==r.Azt)return new Date(r.Azt.getTime()+1e3*(t-r.lB))}},n.zzt=function(t){for(var n,i=0,r=this.eMt;i<r.length;i++){var e=r[i];if(aX(e))if(void 0===n)n=e;else{if(!(e.Azt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.lB+(t.getTime()-n.Azt.getTime())/1e3},n.HBt=function(t){switch(t){case tZ.pPt:return this.XBt;case tZ.APt:return this.qBt;default:return}},n.qzt=function(t){var n;void 0===this.SBt&&(this.SBt=null!=(n=t.Ezt)?n:this.KBt(t));void 0===this.IBt&&void 0!==t.JPt&&(this.IBt=t.JPt),void 0===this.NBt&&void 0!==t.uPt&&(this.NBt=t.uPt),void 0===this.DBt&&void 0!==t.$Pt&&(this.DBt=t.$Pt),this.EBt=t.XPt,this.kBt=t.qPt,this.LBt=t.KPt,this.xBt=t.Nzt,this.oMt(t),this.JBt(t);var i=Do(t.Izt,(function(t){return t.YA===tZ.pPt})),r=Do(t.Izt,(function(t){return t.YA===tZ.APt}));this.XBt=i?{Xyt:i.Xyt,YA:i.YA,bzt:t.bzt}:void 0,this.qBt=r?{Xyt:r.Xyt,YA:r.YA,bzt:t.bzt}:void 0,this.PBt=Kt.Og()/1e3;var e=this.I5.jn(this.I5.V-1);this.$Bt();var u=this.I5.jn(this.I5.V-1);(!this.BBt||u-e>0)&&(this.BBt=this.PBt),null!=this.mQ||(this.mQ=t.Cn)},n.$Bt=function(){this.TBt=this.tUt(),this.I5=this.iUt(this.TBt),this.JM=this.eUt()},n.tUt=function(){var t=this.Wot;if(0===t.length)return GM.PP();var n=t[0].lB,i=t[t.length-1].dB;return new GM([n,i])},n.iUt=function(t){if(0===t.V||this.Tzt)return t;var n=t.Cn(0),i=t.jn(0)-this.$Tt;return i<n?GM.OP(n):new GM([n,i])},n.eUt=function(){return 0===this.eMt.length?0:this.Tzt?kr(this.eMt,(function(t){var n;return null!=(n=t.ct)?n:t.iBt})):1/0},n.KBt=function(t){for(var n,i=0,r=t.Wot;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=k.max(1,k.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new A("HLSModel - Could not determine required segment target duration.");return n},n.oMt=function(t){if(0===t.Wot.length)return Ro(this.eMt),void this.nUt();var n=this.rUt(t);if(n){var i,r,e;n.oUt>0&&this.eMt.splice(0,n.oUt);var u=t.ezt;if(u>0){if(u>this.eMt.length)throw new XZ("New playlist skips over missing segments.");var s=this.eMt[u-1];if(void 0===s.ct)throw new XZ("New playlist skips over an incomplete segment.");i=s.$zt+s.ct,e=s.bzt-t.bzt,r=u;for(var o=0;o<u;o++)this.eMt[o].aBt()}else i=n.hUt,e=0,r=0;for(var a=0;a<t.Wot.length;a++,r++){var c=t.Wot[a],h=0===a,f=t.Tzt&&a===t.Wot.length-1,v=c.ct,d=c.bzt+e;if(r<this.eMt.length){var l=this.eMt[r];0,l.qzt(c,h,f)}else{var g=c;if(this.eMt.length>0&&void 0===g.pzt)g=ys({},g,{pzt:this.eMt[this.eMt.length-1].pzt});var w=new WZ(i,d,h,f,g);w.Vzt=this.Jzt,this.eMt.push(w)}void 0!==v&&(i+=v)}}},n.rUt=function(t){if(0===this.eMt.length)return{oUt:0,hUt:0};var n=this.eMt[0].nzt,i=this.eMt[this.eMt.length-1].nzt,r=t.Wot[0].nzt-t.ezt,e=t.Wot[t.Wot.length-1].nzt,u=0,s=0;if(r<n){var o=this.Wot[0].Azt,a=t.Wot[0].Azt;if(!(o&&a&&o<a))return void CW.qRt(uX,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.eMt.length,this.nUt()}else{if(e<i)return void CW.qRt(uX,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=Eo(t,(function(t){return void 0!==t.Azt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.mzt)return;if(e.Azt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.Wot);if(void 0===r)return;var e=En(r,2),u=e[0],s=e[1];if(i.bzt!==u.bzt)return;var o=(u.Azt.getTime()-i.Azt.getTime())/1e3;return i.$zt+o-s}(this.eMt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:k.max(i,e.iBt),s=i*(n-e.nzt-1);return e.$zt+u+s}(this.eMt,r,this.SBt),CW.XRt(uX,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.eMt.length,this.nUt()}else{0;var h=So(this.eMt,(function(t){return t.nzt===r}));0,s=this.eMt[h].$zt,h>0&&(u=h)}}return{oUt:u,hUt:s}},n.JBt=function(t){var n=t.Mzt.map(sZ);if(t.KPt&&t.kzt.ZC===ZZ.cBt&&(n=this.UBt.concat(n)),this.UBt=$Z(n),t.szt)for(var i,r=function(t,n){var r=n[t],e=So(i.UBt,(function(t){return t.o===r}));e>=0&&jo(i.UBt,e)},e=0,u=t.szt;e<u.length;e++)i=this,r(e,u)},n.aUt=function(t,n){if(this.Jzt!==t){this.Jzt=t;for(var i=0,r=this.eMt;i<r.length;i++){r[i].Vzt=this.Jzt}this.$Bt()}this.VBt=n},n.nUt=function(){this.Jzt=void 0,this.VBt=void 0},Ct(t,[{key:"Tzt",get:function(){return 0!==this.eMt.length&&this.eMt[this.eMt.length-1].Zzt}},{key:"ct",get:function(){return this.JM}},{key:"_k",get:function(){return this.I5}},{key:"MBt",get:function(){return this.TBt}},{key:"cPt",get:function(){return this.SBt}},{key:"uPt",get:function(){return this.NBt}},{key:"JPt",get:function(){return this.Tzt?0:this.IBt?this.IBt:this.SBt?3*this.SBt:void 0}},{key:"$Pt",get:function(){var t;return null!=(t=this.DBt)?t:this.NBt?3*this.NBt:void 0}},{key:"XPt",get:function(){return this.EBt}},{key:"qPt",get:function(){return this.kBt}},{key:"KPt",get:function(){return this.LBt}},{key:"Nzt",get:function(){return this.xBt}},{key:"CBt",get:function(){return void 0!==this.uPt}},{key:"jBt",get:function(){if(this.Tzt)return!0;var t=Kt.Og()/1e3,n=this.OBt,i=this.RBt;return void 0!==n&&t-n<i}},{key:"OBt",get:function(){return this.PBt}},{key:"zBt",get:function(){if(this.BBt)return Kt.Og()/1e3-this.BBt}},{key:"Vzt",get:function(){return this.Jzt}},{key:"RBt",get:function(){var t;return null!=(t=this.SBt)?t:void 0===this.PBt?5:1}},{key:"Wot",get:function(){return this.eMt}},{key:"Mzt",get:function(){return this.UBt}},{key:"QBt",get:function(){return this.FBt},set:function(t){this.FBt=t}},{key:"Cn",get:function(){return this.mQ}},{key:"YBt",get:function(){return this.VBt}},{key:"$Tt",get:function(){return this.Tzt?0:null!=(i=null!=(n=null!=(t=this.sUt)?t:this.$Pt)?n:this.JPt)?i:0;var t,n,i}}]),t}(),oX=function(){function t(){}var n=t.prototype;return n.Jbt=function(t){return t.lB},n.$bt=function(t){return t.dB},n.tMt=function(t,n){return Mo(t,n)},n.iMt=function(t,n,i){return(t-n)/(i-n)},Ct(t,null,[{key:"Ld",get:function(){return null!=this.uht||(this.uht=new t),this.uht}}]),t}();function aX(t){return void 0!==t.Azt}function cX(t){return void 0!==t.wzt}function hX(t){return cX(t)?t.Gzt:0===t.Kzt&&t.Xzt.Gzt}function fX(t,n){return cX(t)?cX(n)?t.nzt+1===n.nzt:0===n.Kzt&&fX(t,n.Xzt):t.Kzt===t.Xzt.wzt.length-1?fX(t.Xzt,n):!cX(n)&&t.Xzt===n.Xzt&&t.Kzt+1===n.Kzt}Q(),Nt(),Q(),Nt(),Q(),Nt(),Zt(),St();var vX=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(Jo);var dX=function(){function t(){this.EUt=[],this.cUt=ps(),this.fUt=[],this.bUt=-1}var n=t.prototype;return n.uUt=function(t){var n=this.cUt.get(t);return void 0!==n&&lX(n)},n.lUt=function(t){if(this.dUt()>t)return st.reject(new vX);for(var n=[],i=0,r=this.fUt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.cUt.get(u))||e.gUt.nM(new vX),this.cUt.delete(u);else n.push(u)}return this.fUt=n,-1===this.fUt.indexOf(t)&&this.fUt.push(t),this._Ut(t).gUt.rM},n.vUt=function(t){var n=this.cUt.get(t);if(!n||!lX(n))throw new A("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.wUt=function(t){return this.vUt(t).rQ},n.mUt=function(t,n){var i=cX(n)?n:n.Xzt,r=this.vUt(i.bzt),e=t.Kz(r.rQ);if(r.pUt){var u=Iy.BU(n.lB).qB(e);if(u.ZB().UB(xy())){var s=k.round(u.BB()/jy().BB());e=e.Kz(jy().TU(s))}}return e},n.AUt=function(t,n){return this.mUt(t,n).qB(t)},n.yUt=function(t,n,i,r,e,u){this.bUt<t&&(this.bUt=t);var s=this._Ut(t);void 0===s.rQ&&(s.MUt.some((function(t){return t.Fut===n}))||(s.MUt.push({Fut:n,TUt:i,SUt:r.OU(i.xj),NUt:e,pUt:u}),this.IUt(s,t)))},n.IUt=function(t,n){if(!t.rQ&&this.DUt(t)){var i=function(t){return Go(t,gX)}(t.MUt);t.rQ=i.SUt.qB(i.TUt),t.pUt=t.MUt.some((function(t){return t.pUt})),t.gUt.sM(),Ro(t.MUt),Co(this.fUt,n)}},n.DUt=function(t){return this.EUt.length>0&&this.EUt.every((function(n){return t.MUt.some((function(t){return t.Fut===n}))}))},n._Ut=function(t){if(this.cUt.has(t))return this.cUt.get(t);var n={rQ:void 0,pUt:!1,gUt:new sh,MUt:[]};return this.cUt.set(t,n),n},n.kUt=function(t){var n=this;this.EUt=t,this.cUt.forEach((function(t,i){return n.IUt(t,i)}))},n.LUt=function(){this.bUt=-1},n.dUt=function(){return this.bUt},n.wy=function(){this.cUt.forEach((function(t){return t.gUt.Ty()})),this.cUt.clear()},t}();function lX(t){return void 0!==t.rQ}function gX(t,n){return-function(t,n){if(t.pUt||n.pUt)return function(t,n){var i=t.qB(n);return t.JB()||n.JB()||(i.FB(xy())?i=i.qB(jy()):i.WB(xy().XB())&&(i=i.Kz(jy()))),i}(t.TUt,n.TUt).QB(Iy.sU);return t.TUt.QB(n.TUt)}(t,n)||function(t,n){return t.NUt===n.NUt?_o.Zr:t.NUt?_o.iy:_o.ey}(t,n)||function(t,n){return t.SUt.QB(n.SUt)}(t,n)}var wX=function(){function t(t,n){this.jUt=[],this.CUt=[],this.FUt=As(),this.OUt=new dX,this.WUt=t,this.sUt=n}var n=t.prototype;return n.qzt=function(t,n){if(qW(t))if(0===this.jUt.length)this.RUt(t);else{if(!n)return void CW.qRt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.wRt.qzt(t)}else{if(0!==this.jUt.length)return void CW.qRt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.PUt(t)}},n.RUt=function(t){var n=this.zUt(t.Xyt);n.qzt(t);var i=this.BUt($W.SI,n),r=this.BUt($W.NI,n),e=new YZ({Xyt:n.Xyt,FY:0,Gyt:0,Wyt:NaN,cht:void 0,cxt:void 0,vgt:0,zPt:[],QPt:void 0,VPt:void 0,BPt:void 0,YPt:void 0,FPt:void 0,UPt:void 0},n,[i,r]);this.jUt.push(e)},n.PUt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return yX(t.YA,t.yRt,n)&&(!t.MRt||t.wRt.Xyt===n.Xyt)}(t,u)}));n.QUt(u,s);var o=new YZ(u,n.zUt(u.Xyt,t.Cn),s);n.jUt.push(o)};(i=this.CUt).push.apply(i,ln(t.gzt));for(var e=this.UUt(t),u=0,s=t._zt;u<s.length;u++)n=this,r(u,s)},n.zUt=function(t,n){var i=this.FUt.get(t);return void 0===i&&(i=new sX(t,n,this.sUt),this.FUt.set(t,i)),i},n.UUt=function(t){for(var n=[],i=0,r=t.zj;i<r.length;i++){var e=r[i];if(void 0===e.Xyt)for(var u=0,s=t._zt;u<s.length;u++){var o=s[u];if(yX(e.YA,e.yRt,o)){var a=new mW(e,this.zUt(o.Xyt));n.push(a)}}else{var c=new mW(e,this.zUt(e.Xyt));n.push(c)}}return n},n.BUt=function(t,n){return new mW({YA:t,Xyt:void 0,yRt:"",gs:void 0,PPt:void 0,l:"",mRt:!0,pRt:!1,ARt:!1,TRt:void 0,bRt:void 0,hxt:void 0},n)},n.QUt=function(t,n){var i=n.filter((function(t){return t.YA===$W.SI})),r=n.filter((function(t){return t.YA===$W.NI})),e=t.cht&&(t.cht.bxt||t.cht.Axt);if((!e||t.cht.bxt)&&0===r.length){var u=this.BUt($W.NI,this.zUt(t.Xyt));n.push(u)}if((!e||t.cht.Axt)&&0===i.length){var s=this.BUt($W.SI,this.zUt(t.Xyt));n.push(s)}t.cht&&t.cht.OPt},n.YUt=function(t){for(var n=0,i=this.jUt;n<i.length;n++)for(var r=0,e=i[n].rPt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.VUt=function(t){for(var n=0,i=this.jUt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.GUt=function(t){for(var n=0,i=this.jUt;n<i.length;n++){var r=i[n];if(Oo(r.rPt,t))return r}},n.wy=function(){Ro(this.jUt),Ro(this.CUt),this.FUt.clear(),this.OUt.wy()},Ct(t,[{key:"xUt",get:function(){return this.CUt}},{key:"JRt",get:function(){return this.jUt}},{key:"tP",get:function(){return this.OUt}}]),t}();function yX(t,n,i){switch(t){case $W.SI:return i.BPt===n;case $W.NI:return i.YPt===n;case $W.AQ:return i.FPt===n;case $W.mPt:return i.UPt===n}return!1}Q(),Nt(),St();var mX=function(t){function n(n){var i;return(i=t.call(this,_X.ZUt)||this).IRt=n,i}return Et(n,t),n}(ka);tn(),Q(),Nt(),St();var AX=function(t){function n(n){var i;return(i=t.call(this,_X.HUt)||this).IRt=n,i}return Et(n,t),n}(ka),pX="HlsModelUpdater",_X=function(t){return t.ZUt="XUt",t.HUt="qUt",t}({}),kX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).OQ=n,s.slt=i,s.ISt=r,s.JUt=!1,s.tQt=!1,s.gQt=void 0,s.eQt=void 0,s.fQt=ps(),s.tbt=new wX(e,u),s}Et(n,t);var i=n.prototype;return i.sQt=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:if(!(i=n.tbt.WUt))throw new A("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.yo(new iE),[4,n.nQt(i,{},2,!0,t)];case 1:if(r=u.sent(),!JW(e=r.wRt)&&!qW(e))throw new A("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return JW(e)||CW.Hj(pX,"Detected media playlist only HLS stream."),n.rQt(e),r.oQt?(n.tQt=!0,[4,n.hQt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.JUt=!0,[2]}}))}))()},i.aQt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:if(!(u=e.tbt.YUt(t)))throw new A("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={nzt:n,GBt:i,ZC:NX(u)},o=Nr(k.max(1,3*t.wRt.RBt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.uQt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw na(a=c.sent()),e.cQt(u),a;case 4:return[2]}}))}))()},i.lQt=function(t,n){var i=this.tbt.YUt(t);if(!i)throw new A("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={nzt:void 0,GBt:void 0,ZC:NX(i)},e=Nr(k.max(1,3*t.wRt.RBt));return this.uQt(i,r,n,e)},i.dQt=function(t,n){return this.fQt.has(t.zL)||this.fQt.set(t.zL,new sh),ra(this.fQt.get(t.zL).rM,n)},i.cQt=function(t){this.yo(new AX(t))},i.uQt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:u=t.wRt.WRt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.nQt(u,n,0,e.tQt,i,r)];case 2:return o=h.sent(),s=o.wRt,[3,4];case 3:throw na(a=h.sent()),t.wRt.QBt=Kt.Og(),a;case 4:if(!qW(s))throw new A("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.gQt||t===e.gQt||e.gQt.wRt.jBt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.lQt(e.gQt,i)];case 6:return h.sent(),[3,8];case 7:return na(h.sent()),e.gQt=t,e._Qt(),[3,8];case 8:try{e.rQt(s,t)}catch(u){if(u instanceof XZ&&void 0!==n.ZC)return c=ys({},n,{ZC:void 0}),[2,e.uQt(t,c,i,r)];throw u}return e.vQt(t),e.gQt=t,[2]}}))}))()},i.nQt=function(t,n,i,r,e,u){var s=this;return yn((function(){var o;return pn(this,(function(a){switch(a.label){case 0:return CW.Hj(pX,"Loading HLS playlist at "+t+"."),r?[4,s.wQt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{wRt:o,oQt:!0}];a.label=2;case 2:return[4,s.mQt(t,n,i,e,u)];case 3:return[2,{wRt:a.sent(),oQt:!1}]}}))}))()},i.wQt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.slt.Tot([t])];case 1:return r=e.sent(),ta(n),void 0!==r?[2,QZ(r.responseURL,{},r.data)]:[3,3];case 2:return na(e.sent()),[3,3];case 3:return[2]}}))}))()},i.mQt=function(t,n,i,r,e){var u=this;return yn((function(){var s,o;return pn(this,(function(a){switch(a.label){case 0:return s={zu:t,oI:Gd.ON,zI:u.ISt,xI:Tl.GET,YA:Nl.fI,ly:r,CI:e},[4,Ob((function(){return u.pQt(s)}),r,i)];case 1:return[2,QZ((o=a.sent()).lI,n,o.rI)]}}))}))()},i.pQt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.OQ.hI(t)];case 1:return[4,(i=r.sent()).UN()];case 2:return[2,{rI:r.sent(),lI:i.lI}]}}))}))()},i.hQt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:for(ta(t),i=[],r=0,e=n.tbt.JRt;r<e.length;r++)for(u=e[r],s=0,o=u.rPt;s<o.length;s++)a=o[s],i.push(n.AQt(a,t));return[4,st.all(i)];case 1:return c.sent(),[2]}}))}))()},i.AQt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.slt.Tot([t.wRt.Xyt])];case 1:return r=e.sent(),ta(n),void 0===r||t.wRt.jBt?[3,3]:[4,i.lQt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return na(e.sent()),[3,5];case 5:return[2]}}))}))()},i._Qt=function(){for(var t=0,n=this.tbt.JRt;t<n.length;t++)for(var i=0,r=n[t].rPt;i<r.length;i++){var e=r[i];e!==this.gQt&&(void 0!==e.wRt.Vzt&&(e.wRt.jBt?this.vQt(e):e.wRt.nUt()))}},i.vQt=function(t){if(0!==t.wRt.Wot.length){if(!this.gQt)return this.gQt=t,void this.gQt.wRt.aUt(0,void 0);if(this.yQt(this.gQt),!this.yQt(t)&&void 0===t.wRt.Vzt){var n=this.bQt(t,this.gQt);CW.XRt(pX,"Assuming global timeline offset of "+n+"s for rendition "+t.wRt.Xyt+"."),t.wRt.aUt(n,void 0)}}},i.bQt=function(t,n){if(MX(t)){var i=t.wRt.Wot[0],r=n.wRt.Wot[0];return CW.XRt(pX,"Synchronizing by start of VOD: "+r.lB+" vs "+i.lB),r.lB-i.$zt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.bzt>u.bzt)i--;else if(e.bzt<u.bzt)r--;else if(e.mzt){if(u.mzt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.wRt.Wot,n.wRt.Wot);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return CW.XRt(pX,"Synchronizing by start of discontinuity #"+s.bzt+": "+s.lB+" vs "+u.lB),s.lB-u.$zt}var o=TX(t.wRt.Wot);if(void 0!==o){var a=TX(n.wRt.Wot);if(void 0!==a)return CW.XRt(pX,"Synchronizing by PDT:",a.Azt.toISOString()+" vs "+o.Azt.getTime()),a.lB-o.$zt-(a.Azt.getTime()-o.Azt.getTime())/1e3}var c,h=bX(n),f=bX(t),v=null!=(c=t.wRt.Vzt)?c:0;return CW.XRt(pX,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.yQt=function(t){var n=this.tbt.YUt(t);if(!n)return!1;if(MX(n))return!1;var i=function(t,n){return Eo(t,(function(t){return void 0!==t.kst&&n.uUt(t.bzt)}))}(n.wRt.Wot,this.tbt.tP);if(void 0===i)return!1;if(n.wRt.YBt===i.bzt)return!0;var r=this.tbt.tP.mUt(i.kst,i).BB()-i.$zt;return CW.XRt(pX,"Synchronize by media timestamp: "+r+"s for rendition "+t.wRt.Xyt+"."),n.wRt.aUt(r,i.bzt),(void 0===this.gQt||void 0===this.gQt.wRt.YBt||this.gQt.wRt.YBt<i.bzt)&&(this.gQt=n),!0},i.rQt=function(t,n){var i;(this.tbt.qzt(t,n),qW(t)&&n)&&(this.eQt=n,this.yo(new mX(n)),null==(i=this.fQt.get(n.zL))||i.sM(),this.fQt.delete(n.zL));this.yo(new AQ)},i.MQt=function(t,n){for(var i=0,r=this.tbt.JRt;i<r.length;i++){var e=r[i],u=Do(e.tPt,(function(t){return t.wRt===n}));void 0!==u&&void 0!==t.bxt&&(u.cht=oZ(u.cht,t));var s=Do(e.$Rt,(function(t){return t.wRt===n}));void 0!==s&&void 0!==t.Axt&&(s.cht=oZ(s.cht,t)),e.Czt||void 0===u&&void 0===s||(e.cht=oZ(e.cht,t))}},i.TQt=function(t,n){for(var i=0,r=this.tbt.JRt;i<r.length;i++){var e=r[i],u=Do(e.tPt,(function(t){return t.wRt===n}));void 0!==u&&void 0===t.bxt&&e.Bzt(u);var s=Do(e.$Rt,(function(t){return t.wRt===n}));void 0!==s&&void 0===t.Axt&&e.Bzt(s)}},i.wy=function(){this.Bo(),this.tbt.wy(),this.fQt.forEach((function(t){return t.Ty()})),this.fQt.clear()},Ct(n,[{key:"KUt",get:function(){return this.JUt}},{key:"$Ut",get:function(){return this.tQt}},{key:"Tr",get:function(){return this.tbt}},{key:"iQt",get:function(){return this.eQt}}]),n}(Aa);function MX(t){return t.wRt.Tzt||t.wRt.Nzt===iZ.TPt}function bX(t){var n=t.wRt.Wot;return n[n.length-1].dB}function TX(t){return Eo(t,(function(t){return void 0!==t.Azt}))}function NX(t){if(void 0!==t.wRt.qPt&&!t.wRt.Tzt&&!(void 0===t.wRt.OBt||Kt.Og()/1e3-t.wRt.OBt>=t.wRt.qPt/2))return t.wRt.KPt?ZZ.cBt:ZZ.uBt}var DX=function(){function t(t,n){var i=this;this.NQt=function(t){i.JBt(t.IRt)},this.NIt=t,this.cz=n,this.npt=new cA,this.NIt.yn(_X.ZUt,this.NQt)}return t.prototype.JBt=function(t){if(0!==t.wRt.Mzt.length){this.SQt||(this.SQt=this.cz.Wk(hA.MQ,void 0,void 0,void 0,void 0,Yw.DATE_RANGE),this.npt.tt(this.SQt));qZ(this.SQt,t.wRt.Mzt,(function(n){var i;return null!=(i=t.wRt.zzt(n))?i:NaN}))}},Ct(t,[{key:"nt",get:function(){return this.npt}}]),t}();Q(),Nt(),St();var IX=function(t){function n(){return t.call(this,yW.cRt)||this}return Et(n,t),n}(ka);Q(),Nt(),Zt(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),Zt();var EX=function(){function t(t){this.Qht=t,this.eMt=[],this.H4=void 0,this.hpt=void 0}var n=t.prototype;return n.DQt=function(t){var n;return null==(n=this.EQt(t))?void 0:n.IRt},n.kQt=function(t){this.H4=t,this.LQt()},n.Cft=function(t,n,i,r,e,u){this.eMt.push({IRt:t,ilt:n,xQt:GM.RP(e,u),CQt:GM.RP(i,r)}),this.LQt()},n.EQt=function(t){return Do(this.eMt,(function(n){return n.CQt.gr(t)}))},n.yct=function(t){return Do(this.eMt,(function(n){return n.ilt===t}))},n.Ddt=function(t,n){return Do(this.eMt,(function(i){return i.IRt===t&&fX(i.ilt,n)}))},n.I3=function(){var t=this.TE;t.V>0&&(this.hpt=t.jn(t.V-1))},n.LQt=function(){var t=this.Qht.TE;this.eMt=this.eMt.filter((function(n){return 0!==t.Sn(n.CQt).V}))},Ct(t,[{key:"IQt",get:function(){return this.H4}},{key:"TE",get:function(){return kz(this.Qht.TE,this.Qht.x3)}},{key:"Wot",get:function(){return this.eMt}},{key:"dpt",get:function(){return this.hpt}}]),t}(),SX=function(){function t(t,n,i,r,e){var u=this;this.zQt=void 0,this.rN=new ca,this.PQt=GM.PP(),this.WQt=function(t){u.zQt&&(t?cI(t)&&u.jQt?u.qQt.JK(u.Qht.TE.jP)?u.zQt.sM():u.zQt.nM(t):$o(t)?u.zQt.sM():u.zQt.nM(t):u.zQt.sM(),u.zQt=void 0)},this.Zp=t,this.GQt=i,this.Qht=n,this.zut=r,this.qQt=e}var n=t.prototype;return n.BQt=function(){if(this.iLt)throw new A("Cannot perform new operation while BufferAppender is still busy")},n.jht=function(t){this.Qht!==t&&(this.BQt(),this.Qht=t,this.zut=new EX(t))},n.UQt=function(){return this.zQt?this.zQt.rM:st.resolve()},n.QQt=function(t){var n=this.zut.dpt;return void 0!==n&&this.FQt(t,n)},n.FQt=function(t,n){var i,r,e=k.min(t,n);return null!=(r=null==(i=this.zut.TE.fP().yP(this.RQt).CP(e))?void 0:i.gr(n))&&r},n.YQt=function(t){return this.zut.DQt(t)},n.Ty=function(){this.rN.Ty(),this.rN=new ca},n.F4=function(t){var n=this;this.BQt(),this.zQt=new sh;var i=function(i){n.GQt.VQt(t),n.WQt(i)};this.Y4(t,this.rN.ly).then(i,i)},n.Y4=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return CW.XRt(OW,"Appending initializer",rZ(t.ZQt.Xyt)),[4,i.Qht.F4(t,n)];case 1:return r.sent(),CW.XRt(OW,"Appended initializer",rZ(t.ZQt.Xyt)),i.zut.kQt(t),[2]}}))}))()},n.oft=function(t){var n=this;this.BQt(),this.zQt=new sh;var i=function(i){n.GQt.VQt(t),n.WQt(i)};this.HQt(t,this.rN.ly).then(i,i)},n.HQt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,p,_,k,M,b,T;return pn(this,(function(N){switch(N.label){case 0:if(void 0===(r=t.IRt).wRt.cPt)throw new A("MediaBufferWrapper - Cannot append HLSAsset to "+i.Zp+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.zut.TE.hP,u=i.Qht.TE,CW.XRt(OW,"Appending",rZ(t.ZQt.Xyt)),[4,i.Qht.B4(t,n)];case 1:if(N.sent(),CW.XRt(OW,"Appended",rZ(t.ZQt.Xyt),e,i.zut.TE.hP),s=t.lB,o=s+t.ct,a=t.ZQt,c=a.lB,f=a.lB+(null!=(h=a.ct)?h:0),i.zut.Cft(r,a,s,o,c,f),v=i.Qht.TE.yP(u),d=i.zut.Ddt(r,a),i.YA===lw.NI)if(d)i.XQt(d)?0===v.V?void 0===i.zut.yct(a)&&(l=i.Qht.x3.Sn(new GM([s,o])),i.PQt=i.PQt.pP(l)):(g=v.Cn(0),w=new GM([g,o]),i.PQt=i.PQt.yP(w),g>s&&(y=i.Qht.x3.Sn(new GM([s,g])),i.PQt=i.PQt.pP(y))):(m=v.V>0&&v.Cn(0)<s?v.Cn(0):s,i.PQt=i.PQt.yP(new GM([m,o])));else if(0===v.V)p=i.Qht.x3.Sn(new GM([s,o])),i.PQt=i.PQt.pP(p);else{if(t.ZQt.Gzt)return[2];k=v.Cn(0),M=null==(_=u.CP(s))?void 0:_.jn(0),k>(b=M&&M>s?M:s)&&(T=i.Qht.x3.Sn(new GM([b,v.Cn(0)])),i.PQt=i.PQt.pP(T))}return t.ZQt.Zzt&&i.zut.I3(),[2]}}))}))()},n.XQt=function(t){var n=t.CQt,i=n.Cn(0),r=n.jn(n.V-1),e=n.uP(0),u=n.lP(n.V-1);return this.PQt.MP(i,r,e,u)},Ct(t,[{key:"YA",get:function(){return this.Zp}},{key:"jQt",get:function(){return gw(this.Zp)}},{key:"OQt",get:function(){return this.zut}},{key:"RQt",get:function(){return this.PQt}},{key:"iLt",get:function(){return void 0!==this.zQt}}]),t}();Q(),Nt(),An(),Zt(),St(),Sn(),Tn(),Q(),Nt(),An(),Tn();var LX=function(){function t(t,n,i){this.$Qt=t,this.OQ=n,this.ISt=i,this.tFt=void 0}var n=t.prototype;return n.KQt=function(t,n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return[4,e.JQt(n,r)];case 1:return u=s.sent(),[4,e.$Qt.KQt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.JQt=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return(null==(r=i.tFt)?void 0:r.zu)===t?[3,3]:(CW.XRt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.OQ.hI({zu:t,oI:Gd.xN,xI:Tl.GET,ly:n,YA:Nl.vI,OI:Dl.TI,zI:i.ISt})]);case 1:return[4,s.sent().FN()];case 2:e=s.sent(),u=new N(e),i.tFt={zu:t,rI:u},s.label=3;case 3:return[2,i.tFt.rI]}}))}))()},t}();Q(),Nt(),An(),Tn(),tn();var CX=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.OQ=t,this.slt=n,this.Ict=i,this.ISt=r,this.qrt=e}var n=t.prototype;return n.hI=function(t,n,i,r,e){var u=this;return yn((function(){var s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,u.iFt(t,n,i,Gd.xN,r,e)];case 1:return[4,(s=a.sent()).FN(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.nI,response:new N(o)}]}}))}))()},n.eFt=function(t,n,i,r,e){var u=this;return yn((function(){return pn(this,(function(s){switch(s.label){case 0:return[4,u.iFt(t,n,i,Gd.jN,r,e)];case 1:return[2,s.sent().YN(e)]}}))}))()},n.iFt=function(t,n,i,r,e,u){var s=this;return yn((function(){var o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:t.SMt&&0===(o=KW(t.SMt.Cn,t.SMt.V))[0]&&o[1]===dr&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new Sl({zu:t.zD,oI:r,aI:a,zI:s.ISt,xI:Tl.GET,YA:n,OI:i,RI:s.Ict,QI:r===Gd.jN,BI:e,ly:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.slt.Eot(t.zD,o)];case 2:return h=f.sent(),ta(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new bl({hI:c,oI:c.oI,rI:h.buffer})]):[3,4];case 3:return na(f.sent()),[3,4];case 4:return[4,Ob((function(){return ra(s.OQ.hI(c),c.ly)}),u,s.qrt)];case 5:return[2,f.sent()]}}))}))()},t}();Q(),Nt(),An(),Tn(),sn(),tn();var jX=function(){function t(t,n){this.cFt=void 0,this.fFt=new ca,this.An=-1/0,this.oFt=void 0,this.lFt=!1,this.NIt=t,this.nFt=n,this.aFt()}var n=t.prototype;return n.sFt=function(){return this.nFt.wRt.XPt},n.rFt=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:if(!r.sFt())throw new A("Could not perform blocking playlist update.");return e=r.oFt,u={nzt:t,GBt:n},void 0!==e&&function(t,n,i){if(t.nzt===n.nzt){if(t.GBt===n.GBt)return!0;if(0===t.GBt&&void 0===n.GBt)return!0}if(t.nzt===n.nzt+1&&0===t.GBt&&void 0!==n.GBt){var r=i.yct(n.nzt);if(r&&r.Xyt&&n.GBt>=r.wzt.length)return!0}return!1}(e,u,r.nFt.wRt)?[3,2]:[4,r.hFt()];case 1:s.sent(),r.aFt(u),s.label=2;case 2:return[2,r.NIt.dQt(r.nFt,i)]}}))}))()},n.uFt=function(t){return this.aFt(),this.NIt.dQt(this.nFt,t)},n.aFt=function(t){var n=this;if(!this.cFt&&!this.lFt){var i=function(){n.cFt=void 0};this.cFt=this.dFt(t,this.fFt.ly).then(i,i)}},n.hFt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.cFt?(t.fFt.Ty(),t.fFt=new ca,[4,t.cFt.catch(qt)]):[3,2];case 1:n.sent(),t.cFt=void 0,n.label=2;case 2:return[2]}}))}))()},n.dFt=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(ta(n),i.nFt.wRt.Tzt&&i.nFt.wRt.jBt)return[2];null!=r||(r=i.gFt()),i.oFt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.NIt.aQt(i.nFt,r.nzt,r.GBt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=Kt.Og()-i.An,u=1e3*i.nFt.wRt.RBt,e<u?[4,ga(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.NIt.lQt(i.nFt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.oFt=void 0,na(s),i.NIt.cQt(i.nFt),s;case 10:return r=void 0,i.An=Kt.Og(),[3,1];case 11:return[2]}}))}))()},n.gFt=function(){var t=this.nFt.wRt;if(t.XPt&&!t.Tzt&&0!==t.Wot.length){var n=t.Wot[t.Wot.length-1];return n.Xyt?{nzt:n.nzt+1,GBt:t.CBt?0:void 0}:{nzt:n.nzt,GBt:n.wzt.length}}},n.wy=function(){this.lFt=!0,va(this.hFt())},t}();Q(),Nt();var xX=function(t){return t[t.pPt=0]="pPt",t[t.APt=1]="APt",t[t.gI=2]="gI",t[t._I=3]="_I",t}({});Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),Tn();var OX="AssetExtractor",zX=function(){function t(){this.vFt=[]}var n=t.prototype;return n._Ft=function(t,n,i){for(var r=n,e=0,u=this.vFt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Cn)return!1;if(r<s.jn){if(i<=s.jn)return!0;r=s.jn}}return r>=t},n.wFt=function(t,n){for(var i=[],r=0;r<this.vFt.length;r+=1){var e=this.vFt[r],u=t-e.Cn,s=e.rI.length,o=k.min(s,k.max(u,0)),a=k.max(0,n+u),c=Qc(e.rI,o,a);c.length&&(r=this.mFt(r,e,t,o,a),i.push(c))}return i},n.pFt=function(t,n){this.vFt.push({Cn:t,jn:t+n.length,rI:n})},n.mFt=function(t,n,i,r,e){var u=t;this.vFt.splice(u,1),u-=1,n.Cn<i&&(u+=1,this.vFt.splice(u,0,{Cn:n.Cn,jn:i,rI:Qc(n.rI,0,r)}));var s=i+e-r;return s<n.jn&&(u+=1,this.vFt.splice(u,0,{Cn:s,jn:n.jn,rI:Qc(n.rI,e)})),u},t}(),RX=function(){function t(t,n){this.yFt=n,this.Wg=t.getReader()}var n=t.prototype;return n.bFt=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,t.Wg.read()];case 1:if((n=i.sent()).done)throw t.yFt=1/0,new A("No more data can be read from the given stream.");return t.yFt+=n.value.length,[2,n.value]}}))}))()},n.MFt=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.Wg.cancel(t)];case 1:return i.sent(),[2]}}))}))()},Ct(t,[{key:"AFt",get:function(){return this.yFt}}]),t}(),BX=function(){function t(t,n,i,r){this.LFt=new sh,this.tBt=t,this.Wg=n,this.IFt=i,this.kFt=r,this.DFt=new sh,this.SFt=new sh}var n=t.prototype;return n.TFt=function(){this.SFt.sM(),this.SFt=new sh},n.NFt=function(t){var n=PX(this.tBt.SMt),i=n.NMt,r=n.IMt,e=this.IFt.wFt(i,r-i);CW.XRt(OX,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return[4,n.DFt.rM];case 1:g.sent(),i=PX(n.tBt.SMt),r=i.NMt,e=i.IMt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.Wg.AFt,[4,n.Wg.bFt()];case 4:return s=g.sent(),o=s.length,CW.XRt(OX,"Read "+o+" at "+u+" for extraction of "+rZ(n.tBt)),a=k.min(u+o,r),(c=a-u)>0?(h=Qc(s,0,c),f=Qc(s,c),CW.XRt(OX,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+rZ(n.tBt)),n.IFt.pFt(u,h),f.length>0?(CW.XRt(OX,"Extracting "+f.length+" bytes for extraction of "+rZ(n.tBt)),t.enqueue(f),n.TFt(),[2,va(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(CW.XRt(OX,"Extracting the read data range for extraction of "+rZ(n.tBt)),t.enqueue(s),n.TFt(),[2,va(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return d=Qc(s,0,v=e-u),l=Qc(s,v),d.length>0&&(CW.XRt(OX,"Extracting "+d.length+" bytes for extraction of "+rZ(n.tBt)),t.enqueue(d)),CW.XRt(OX,"Of the read "+o+" bytes, the last "+l.length+" will be stored locally for extraction of "+rZ(n.tBt)),n.IFt.pFt(u+v,l),CW.XRt(OX,"Extraction of "+rZ(n.tBt)+" completed as the entire request has been fulfilled."),n.EFt(t),n.kFt?(CW.XRt(OX,"Aborting stream upstream as no more bytes are needed from "+rZ(n.tBt)+"."),[4,n.Wg.MFt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),CW.XRt(OX,"Extraction of "+rZ(n.tBt)+" completed as the entire source stream has been read."),n.EFt(t),[3,12];case 12:return[2]}}))}))()},n.EFt=function(t){t.close(),this.TFt(),this.LFt.sM()},n.start=function(t){CW.XRt(OX,"Preparing to push all collected data to controller for extraction of "+rZ(this.tBt)),this.NFt(t),CW.XRt(OX,"Collected data pushed to controller for extraction of "+rZ(this.tBt));var n=PX(this.tBt.SMt).IMt;this.Wg.AFt>=n?(CW.XRt(OX,"Extraction of "+rZ(this.tBt)+" completed as the entire request has been fulfilled."),this.EFt(t)):(CW.XRt(OX,"Continuing read from original stream for extraction of "+rZ(this.tBt)),va(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.DFt.sM(),this.DFt=new sh,this.SFt.rM},Ct(t,[{key:"xFt",get:function(){return this.LFt.rM}}]),t}(),UX=function(){function t(t,n){this.tBt=n;var i=PX(this.tBt.SMt).NMt;this.CFt=new RX(t,i),this.IFt=new zX}var n=t.prototype;return n.Jz=function(t){if(!eZ(this.tBt,t))return!1;var n=PX(t.SMt),i=n.NMt,r=n.IMt;return this.IFt._Ft(this.CFt.AFt,i,r)},n.bmt=function(t,n){void 0===n&&(n=!1);var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return r=i.CFt,e=i.IFt,CW.Hj(OX,"Extracting data from "+rZ(t)+" out of "+rZ(i.tBt)),i.jFt?(CW.XRt(OX,"Awaiting previous extraction before extracting "+rZ(t)+" out of "+rZ(i.tBt)),[4,i.jFt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.Jz(t))throw new A("The extractor does not contain the data requested");return u=new BX(t,r,e,n),i.jFt=u.xFt,[2,new Jd(u)]}}))}))()},t}();function PX(t){if(t){var n=t.Cn;return{NMt:n,IMt:void 0!==t.V?n+t.V:dr}}return{NMt:0,IMt:dr}}sn();var QX=function(){function t(t,n){this.tBt=t,this.OFt=n,this.rN=new ca,this.Ept=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return[4,t.OFt.eFt(t.tBt,Nl._I,Dl.dI,void 0,t.rN.ly)];case 1:return n=i.sent(),[2,new UX(n,t.tBt)]}}))}))()},n.Jz=function(t){return eZ(this.tBt,t)},n.bmt=function(t,n){void 0===n&&(n=!1);var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,i.Ept];case 1:return[4,ra(r.sent().bmt(t,n),i.rN.ly)];case 2:return[2,r.sent()]}}))}))()},n.Ty=function(){this.Ept.catch(qt),this.rN.Ty()},t}();tn(),Q(),Nt(),St();var YX=function(t){function n(n){var i;return(i=t.call(this,HX.RFt)||this).RI=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var GX=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,HX.PFt)||this).uri=n,a.zFt=i,a.RI=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.BFt=s,a.httpStatusCode=o,a}return Et(n,t),n}(ka);function VX(t,n,i){var r=cX(i)?i:i.Xzt;if(n.uUt(r.bzt)){if(void 0!==i.kst)return n.mUt(i.kst,i).BB();if(i!==r&&void 0!==r.kst){var e=n.mUt(r.kst,r).BB();return i.lB+(e-r.lB)}}var u=t.wRt.yct(r.nzt-1);if(void 0!==u&&n.uUt(u.bzt)){if(u.wzt.length>0){var s=u.sBt(u.wzt.length-1);if(void 0!==s.kst){var o=n.mUt(s.kst,s).BB();return i.lB+(o-s.lB)}}if(void 0!==u.kst){var a=n.mUt(u.kst,u).BB();return i.lB+(a-u.lB)}}var c=t.wRt.yct(r.nzt+1);if(void 0!==c&&n.uUt(c.bzt)){if(c.wzt.length>0){var h=c.sBt(0);if(void 0!==h.kst){var f=n.mUt(h.kst,h).BB();return i.lB+(f-h.lB)}}if(void 0!==c.kst){var v=n.mUt(c.kst,c).BB();return i.lB+(v-c.lB)}}return i.lB}function FX(t){return void 0!==t.kst}function WX(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.bzt!==i)break;if(FX(u))if(r(u,e))break}}function ZX(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.bzt!==i)break;if(FX(u))if(r(u,e))break}}Q(),Nt();var XX="HlsPlaylistDownloader",HX=function(t){return t.RFt="segmentdownloadprogress",t.PFt="segmentdownloaded",t}({}),KX=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).FFt=void 0,c.WFt=void 0,c.TYt=void 0,c.SYt=0,c.NYt=0,c.IYt=0,c.DYt=0,c.XFt=new ca,c.qFt=void 0,c.YFt=0,c.VFt=void 0,c.GFt=void 0,c.JFt=void 0,c.KFt=void 0,c.rYt=function(t){c.FFt&&(c.nFt=c.FFt,c.FFt=void 0,c.YFt=0,c.VFt=void 0,c.GFt=void 0),c.WFt&&(t&&!$o(t)?c.WFt.nM(t):c.WFt.sM(),c.WFt=void 0)},c.yYt=function(t,n){c.IYt=t,t>0&&0===c.SYt&&(c.SYt=Kt.Og()),void 0!==n&&(c.DYt=n),c.yo(new YX(c.Zp))},c.Zp=n,c.NIt=r,c.GQt=e,c.nFt=i,c.QFt=new jX(r,i),c.MYt=new LX(o,u,a),c.OFt=new CX(u,s,function(t){switch(t){case $W.NI:return Il.NI;case $W.SI:return Il.SI;case $W.AQ:case $W.mPt:return Il.ON;default:return Il.dI}}(i.YA),a),c}Et(n,t);var i=n.prototype;return i.UFt=function(t){this.QFt.wy(),this.QFt=new jX(this.NIt,t),this.iLt?this.FFt=t:(this.nFt=t,this.YFt=0,this.VFt=void 0,this.GFt=void 0)},i.UQt=function(){return this.WFt?this.WFt.rM:st.resolve()},i.ZFt=function(){return this.GQt.ZFt()},i.HFt=function(t){this.GQt.HFt(t)},i.Ty=function(){var t,n,i;this.XFt.Ty(),this.XFt=new ca,null==(t=this.qFt)||t.Ty(),this.qFt=void 0,null==(n=this.KFt)||n.Ty(),null==(i=this.JFt)||i.Ty(),this.KFt=void 0,this.JFt=void 0,this.YFt=0,this.VFt=void 0,this.GFt=void 0},i.wy=function(){this.QFt.wy()},i.$Ft=function(t){var n=this.nFt.wRt.WBt(t);if(!n)return!1;if(void 0!==this.VFt){var i=n.nzt===this.VFt;return void 0!==this.GFt?n.nBt(t)===n.sBt(this.GFt)&&i:i}return!1},i.tYt=function(t){var n;if(void 0===this.VFt||t<this.YFt-1e-6)n=this.iYt(t);else if(void 0!==(n=this.eYt(this.VFt,this.GFt))){var i=En(n,2),r=i[0],e=i[1],u=VX(this.nFt,this.NIt.Tr.tP,null!=e?e:r),s=3*this.nFt.wRt.cPt;k.abs(u-t)>=s&&(n=this.iYt(t))}else if(this.nFt.wRt.Tzt){if(this.nFt.wRt.yct(this.VFt).Zzt&&void 0!==(n=this.iYt(t))&&n[0].nzt===this.VFt)return}if(n){this.YFt=t;var o=En(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.Kzt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.iYt=function(t){var n,i,r=this.nFt.wRt.Wot;if(0!==r.length){var e,u=this.NIt.Tr.tP,s=Iy.BU(t),o=function(t,n,i){var r=t.wRt.Wot;if(0!==r.length){var e=t.wRt.ZBt(i.BB());if(n.uUt(e.bzt)){var u,s,o,a=e.nzt-r[0].nzt,c=e.bzt,h=0;if(!(ZX(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(WX(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.mUt(u.kst,u).VB(i)?(s=u,WX(r,h+1,c,(function(t){return n.mUt(t.kst,t).UB(i)?(o=t,!0):(s=t,!1)}))):(o=u,ZX(r,h-1,c,(function(t){return n.mUt(t.kst,t).VB(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.nFt,u,s);if(void 0!==o){var a=En(o,2),c=a[0],h=a[1],f=u.mUt(c.kst,c),v=u.mUt(h.kst,h),d=s.qB(f).BB()/v.qB(f).BB()*(h.lB-c.lB);e=c.lB+d}else e=t;var l=r[r.length-1];return l.dB<=e?(n=l,i=l.oBt(e)):i=r[0].lB>e?(n=r[0]).sBt(0):null==(n=this.nFt.wRt.WBt(e))?void 0:n.oBt(e),n?[n,i]:void 0}},i.eYt=function(t,n){var i,r;if((i=this.nFt.wRt.yct(t))&&void 0!==n){if(0===i.wzt.length)return[i,void 0];r=i.sBt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.nFt.wRt.yct(t+1))?void 0:i.sBt(0)),i?[i,r]:void 0},i.BQt=function(){if(this.iLt)throw new A("Cannot perform new operation while PlaylistDownloader is still busy")},i.sYt=function(t){this.BQt(),this.WFt=new sh,this.nYt(t,this.XFt.ly).then(this.rYt,this.rYt)},i.oYt=function(){this.QFt.aFt()},i.nYt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return i.nFt.wRt.Tzt?[2]:(r=i.tYt(t))||!i.QFt.sFt()||void 0===i.VFt?[3,2]:[4,i.QFt.rFt(void 0===i.GFt?i.VFt+1:i.VFt,void 0!==i.GFt?i.GFt+1:void 0,n)];case 1:u.sent(),r=i.tYt(t),u.label=2;case 2:return r||!i.QFt.sFt()||void 0===i.VFt?[3,4]:[4,i.QFt.rFt(i.VFt+1,0,n)];case 3:u.sent(),r=i.tYt(t),u.label=4;case 4:return r?[3,6]:(CW.Hj(XX,"No next segment / part available, need to update playlist before continuing."),[4,i.QFt.uFt(n)]);case 5:return u.sent(),e=i.IRt.wRt.Wot,e[0].lB>t&&(i.GFt=void 0,i.VFt=void 0),e[e.length-1].nzt<i.VFt&&(i.GFt=void 0,i.VFt=void 0),r=i.tYt(t),[3,4];case 6:return[2]}}))}))()},i.hYt=function(){return this.GQt.aYt()},i.uYt=function(){this.BQt();try{var t=this.nFt.wRt.HBt(tZ.pPt);t&&this.cYt(t);var n=this.nFt.wRt.HBt(tZ.APt);n&&this.lYt(n)}catch(t){throw na(t),this.nFt.wRt.QBt=Kt.Og(),this.NIt.cQt(this.nFt),t}},i.cYt=function(t){this.JFt&&!this.JFt.Jz(t.Xyt)&&(this.JFt.Ty(),this.JFt=void 0),this.JFt||(this.JFt=new QX(t.Xyt,this.OFt))},i.lYt=function(t){this.KFt&&!this.KFt.Jz(t.Xyt)&&(this.KFt.Ty(),this.KFt=void 0),this.KFt||(this.KFt=new QX(t.Xyt,this.OFt))},i.Act=function(t,n,i){var r=this;this.BQt(),CW.Hj(XX,"Starting download of segment "+rZ(t.Xyt)+" and part "+(null==n?void 0:n.Kzt)),this.WFt=new sh,this.dYt(t,n,i,this.XFt.ly).catch((function(t){throw na(t),r.nFt.wRt.QBt=Kt.Og(),r.NIt.cQt(r.nFt),t})).then(this.rYt,this.rYt)},i.dYt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:return t.pzt&&(i&&uZ(i.ZQt.Xyt,null==(s=t.pzt)?void 0:s.Xyt)&&t.bzt===i.bzt||(null==(a=e.qFt)||a.Ty(),e.qFt=new sh,c=e.fYt(t.pzt,t,r).then((function(){e.qFt=void 0})),e.qFt.Sy(c)),u=null==(o=e.qFt)?void 0:o.rM),[4,e.gYt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.fYt=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return[4,r._Yt(t,n,i)];case 1:return e=s.sent(),u=e.pzt.rI.rI.byteLength,r.GQt.vYt(e),r.yo(new GX(e.pzt.ZQt.Xyt,e.YA,r.Zp,n.nzt,e.IRt.zL,u,e.pzt.Elt)),CW.XRt(OW,"Download initializer complete",rZ(t.Xyt)),[2]}}))}))()},i.gYt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,e.wYt(t,n,r)];case 1:return u=a.sent(),s=u.ilt.rI.rI.byteLength,i?[4,ra(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.GQt.vYt(u),e.yo(new GX(u.ilt.ZQt.Xyt,u.YA,e.Zp,t.nzt,u.IRt.zL,s,u.ilt.Elt)),CW.XRt(OW,"Download complete",rZ(null!=(o=null==n?void 0:n.Xyt)?o:t.Xyt)),[2]}}))}))()},i.wYt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return n?r.KFt?r.KFt.Jz(n.Xyt)?[4,r.KFt.bmt(n.Xyt)]:[3,4]:[3,5]:[3,8];case 1:return[4,el(a.sent(),i)];case 2:return u=a.sent(),s=new N(u),[4,r.KQt(s,n.gzt,i)];case 3:return o=a.sent(),e=$X(n,o,200),[3,5];case 4:r.KFt.Ty(),r.KFt=void 0,a.label=5;case 5:return e?[3,7]:(CW.XRt(OW,"Start download",rZ(n.Xyt)),[4,r.mYt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return CW.XRt(OW,"Start download",rZ(t.Xyt)),[4,r.Mct(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.VFt=t.nzt,r.GFt=null==n?void 0:n.Kzt,[2,{YA:"ilt",ilt:e,IRt:r.nFt,bzt:t.bzt}]}}))}))()},i._Yt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return r.JFt?r.JFt.Jz(t.Xyt)?[4,ra(r.JFt.bmt(t.Xyt),i)]:[3,4]:[3,5];case 1:return[4,el(c.sent(),i)];case 2:return s=c.sent(),o=new N(s),[4,r.KQt(o,t.vzt?[t.vzt]:[],i)];case 3:a=c.sent(),e=JX(t,n,a,200),c.label=4;case 4:CW.Hj(XX,"MAP is required for segment, downloading MAP data."),null==(u=r.JFt)||u.Ty(),r.JFt=void 0,c.label=5;case 5:return e?[3,7]:(CW.XRt(OW,"Start download",rZ(t.Xyt)),[4,r.pYt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{YA:"pzt",pzt:e,IRt:r.nFt,lB:n.lB,bzt:n.bzt,gzt:n.gzt}]}}))}))()},i.pYt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return[4,r.OFt.hI(t.Xyt,Nl.gI,Dl.wI,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.vzt?[t.vzt]:[],[4,r.KQt(u,o,i)];case 2:return a=c.sent(),[2,JX(t,n,a,s)]}}))}))()},i.Mct=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:if(!t.Xyt)throw new A("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.AYt(t),[4,i.OFt.hI(t.Xyt,Nl.gI,Dl.dI,i.yYt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.bYt(),[7];case 4:return[4,i.KQt(r,t.gzt,n)];case 5:return s=o.sent(),[2,qX(t,s,e)]}}))}))()},i.mYt=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.AYt(t),[4,i.OFt.hI(t.Xyt,Nl.gI,Dl.dI,i.yYt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.bYt(),[7];case 3:return[4,i.KQt(r,t.gzt,n)];case 4:return s=o.sent(),[2,$X(t,s,e)]}}))}))()},i.KQt=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return(e=Do(n,(function(t){return t.xI===nZ.yPt})))?e.Xyt&&e.GPt?[4,r.MYt.KQt(t,e.Xyt,e.GPt,i)]:(CW.lt(XX,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.AYt=function(t){var n,i,r;this.TYt=t,this.SYt=0,this.NYt=Kt.Og(),this.IYt=0,this.DYt=null!=(r=null==(i=t.Xyt)||null==(n=i.SMt)?void 0:n.V)?r:0},i.bYt=function(){this.TYt=void 0,this.SYt=0,this.NYt=0,this.IYt=0,this.DYt=0},i.EYt=function(){if(void 0!==this.TYt)return{ilt:this.TYt,kYt:this.IYt,LYt:this.DYt,xYt:Kt.Og()-this.NYt}},i.CYt=function(t){return void 0!==this.TYt&&(0!==this.SYt&&(!(this.DYt>0&&this.IYt>=this.DYt)&&!(t-this.SYt<500)))},Ct(n,[{key:"iLt",get:function(){return void 0!==this.WFt}},{key:"IRt",get:function(){var t;return null!=(t=this.FFt)?t:this.nFt}},{key:"NLt",get:function(){if(!this.nFt.wRt.Tzt||void 0===this.VFt)return!1;var t=this.nFt.wRt.yct(this.VFt);if(!t.Zzt)return!1;if(void 0!==this.GFt&&!t.sBt(this.GFt).Zzt)return!1;return!0}}]),n}(Aa);function JX(t,n,i,r){return{rI:{rI:i,YA:HI.v$},YA:xX.pPt,Elt:r,ZQt:t,bzt:n.bzt}}function qX(t,n,i){return{rI:{rI:n,YA:HI.v$},YA:xX.gI,Elt:i,ZQt:t,bzt:t.bzt}}function $X(t,n,i){return{rI:{rI:n,YA:HI.v$},Elt:i,YA:xX.APt,ZQt:t,bzt:t.Xzt.bzt}}Q(),Nt(),Zt();var tH=function(){function t(t){this.RYt=[],this.zYt=As(),this.UYt=void 0,this.jYt=void 0,this.OUt=t}var n=t.prototype;return n.vYt=function(t){"pzt"===t.YA&&(this.jYt=t.pzt),this.RYt.push(t),this.UYt&&(this.UYt.sM(),this.UYt=void 0)},n.ZFt=function(){return this.RYt[0]},n.HFt=function(t){Co(this.RYt,t)},n.aYt=function(){return null!=this.UYt||(this.UYt=new sh),this.UYt.rM},n.QYt=function(t){this.FYt(t.Fut).QYt(t)},n.YYt=function(t){return this.FYt(t).YYt()},n.VQt=function(t){this.FYt(t.Fut).VQt(t)},n.VYt=function(t){var n;null==(n=this.zYt.get(t))||n.wy()},n.GYt=function(t){return this.FYt(t).GYt()},n.FYt=function(t){if(this.zYt.has(t))return this.zYt.get(t);var n=new nH;return this.zYt.set(t,n),n},n.eM=function(){this.WYt(),this.ZYt()},n.WYt=function(){this.jYt=void 0,Ro(this.RYt)},n.ZYt=function(){this.zYt.forEach((function(t){return t.eM()}))},n.wy=function(){this.zYt.forEach((function(t){return t.wy()})),this.zYt.clear(),this.eM(),this.UYt&&(this.UYt.Ty(),this.UYt=void 0)},Ct(t,[{key:"IQt",get:function(){return this.jYt}},{key:"OYt",get:function(){for(var t=[],n=0,i=this.RYt;n<i.length;n++){var r=i[n];if("ilt"===r.YA){var e,u=r.ilt.ZQt,s=VX(r.IRt,this.OUt,u);t.push({ilt:u,IRt:r.IRt,lB:s,dB:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"PYt",get:function(){var t=[];return this.zYt.forEach((function(n){for(var i=0,r=n.BYt;i<r.length;i++){var e=r[i];"ilt"===e.YA&&t.push({ilt:e.ZQt,IRt:e.IRt,lB:e.lB,dB:e.lB+e.ct})}})),t}}]),t}(),nH=function(){function t(){this.HYt=[],this.XYt=void 0}var n=t.prototype;return n.QYt=function(t){this.HYt.push(t),this.XYt&&(this.XYt.sM(),this.XYt=void 0)},n.YYt=function(){return this.HYt[0]},n.VQt=function(t){Co(this.HYt,t)},n.GYt=function(){return null!=this.XYt||(this.XYt=new sh),this.XYt.rM},n.eM=function(){Ro(this.HYt)},n.wy=function(){this.eM(),this.XYt&&(this.XYt.Ty(),this.XYt=void 0)},Ct(t,[{key:"BYt",get:function(){return this.HYt}}]),t}();Q(),Nt(),An(),Zt(),Tn();var iH=1e-6,rH=function(){function t(t,n){this.QDt=GM.PP(),this.FDt=GM.PP(),this.KYt=t,this.OUt=n}var n=t.prototype;return n.F4=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return r=t.rI.rI,i.qYt(r),i.KYt.YA!==Yw.TTML?[3,3]:i.OUt.uUt(t.bzt)?[3,2]:[4,ra(i.OUt.lUt(t.bzt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.JYt(r,t.bzt),u=0;u<e.length;u++)s=e[u],i.KYt.RQ(s);o.label=3;case 3:return[2]}}))}))()},n.B4=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return void 0===t.rI?[2]:(r=t.lB,e=r+t.ct,i.QDt=i.QDt.pP(GM.RP(r,e)).mP(iH),i.O3(t.$Yt,t.tVt),i.R3(r,e),i.OUt.uUt(t.bzt)?[3,2]:[4,ra(i.OUt.lUt(t.bzt),n)]);case 1:u.sent(),u.label=2;case 2:return i.Q4(t.rI.rI,t.bzt,t.ZQt),[2]}}))}))()},n.Q4=function(t,n,i){var r;this.qYt(t),r=this.KYt.YA===Yw.WEBVTT?this.iVt(t,i):this.JYt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.KYt.RQ(u)}},n.iVt=function(t,n){for(var i,r=Vy(t),e=r.L,u=null!=(i=r.aQ)?i:{uQ:Iy.sU,lh:Iy.sU},s=0;s<e.length;s++){var o=e[s],a=Iy.BU(o.lB).qB(u.lh).Kz(u.uQ),c=this.OUt.mUt(a,n).BB(),h=c+(o.dB-o.lB);o.kB(c,h)}return e},n.JYt=function(t,n){var i=this.OUt.wUt(n).BB();return Vm(t,this.KYt,{sQ:0,nQ:1/0,rQ:i},Zv.APPLICATION_MP4)},n.qYt=function(t){this.KYt.YA===Yw.DEFAULT&&(this.KYt.YA=this.eVt(t)?Yw.WEBVTT:Yw.TTML)},n.eVt=function(t){return rm(xc(zc(Rc(t),0,k.min(t.byteLength,16)),new Vc))},n.O3=function(t,n){this.FDt=this.FDt.pP(GM.RP(t,n)).mP(iH)},n.R3=function(t,n){this.FDt=this.FDt.yP(GM.RP(t,n))},Ct(t,[{key:"TE",get:function(){return this.QDt}},{key:"x3",get:function(){return this.FDt}}]),t}();Q(),Nt(),An(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),St();var eH=function(t){function n(n,i){var r;return(r=t.call(this,aH.sVt)||this).IRt=n,r.cht=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var uH=function(t){function n(n){var i;return(i=t.call(this,aH.nVt)||this).IRt=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var sH=function(t){function n(n,i){var r;return(r=t.call(this,aH.rVt)||this).IRt=n,r.vgt=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var oH=function(t){function n(n,i){var r;return(r=t.call(this,aH.oVt)||this).IRt=n,r.hVt=i,r}return Et(n,t),n}(ka),aH=function(t){return t.sVt="aVt",t.rVt="uVt",t.oVt="cVt",t.nVt="lVt",t}({}),cH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._Vt=void 0,e.rN=new ca,e.GQt=n,e.OUt=i,e.fVt=r,e}Et(n,t);var i=n.prototype;return i.gVt=function(t){for(var n=0,i=this.fVt;n<i.length;n++){var r=i[n];Oo(t,r)||this.GQt.VYt(r)}this.fVt=t},i.UQt=function(){var t,n;return null!=(n=null==(t=this._Vt)?void 0:t.rM)?n:st.resolve()},i.BQt=function(){if(this.iLt)throw new A("Cannot perform new operation while transmuxer is still busy")},i.vVt=function(t,n){},i.wVt=function(t){var n=this;this.BQt(),this._Vt=new sh;var i=function(i){n.mVt(t,i)};this.pVt(t,this.rN.ly).then(i,i)},i.AVt=function(t){var n=this;this.BQt(),this._Vt=new sh;var i=function(i){n.mVt(t,i)};this.yVt(t,this.rN.ly).then(i,i)},i.mVt=function(t,n){this._Vt&&(!n||$o(n)||function(t){return t instanceof vX}(n)?($o(n)||this.GQt.HFt(t),this._Vt.sM(),this._Vt=void 0):this._Vt.nM(n))},i.bVt=function(t,n){this.yo(new eH(t,n))},i.MVt=function(t,n){this.yo(new sH(t,n))},i.TVt=function(t,n,i){hX(n)&&this.yo(new oH(t,i))},i.SVt=function(t){this.yo(new uH(t))},i.QYt=function(t){Oo(this.fVt,t.Fut)&&this.GQt.QYt(t)},i.NVt=function(t){return this.GQt.YYt(t)},i.VQt=function(t){this.GQt.VQt(t)},i.IVt=function(t){return this.GQt.GYt(t)},i.Ty=function(){this.rN.Ty(),this.rN=new ca},Ct(n,[{key:"dVt",get:function(){return this.fVt}},{key:"iLt",get:function(){return void 0!==this._Vt}}]),n}(Aa);function hH(t,n){return hX(t)?0:k.min(t.lB,n)}function fH(t,n){var i;return k.max(t.lB,n)+(null!=(i=t.ct)?i:0)}var vH=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}Et(n,t);var i=n.prototype;return i.pVt=function(t,n){ta(n);var i={YA:"zLt",rI:t.pzt.rI,Fut:this.dVt[0],bzt:t.bzt,DVt:{cht:"",gzt:t.gzt},lB:t.lB,IRt:t.IRt,ZQt:t.pzt.ZQt};return this.QYt(i),st.resolve()},i.yVt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return ta(n),void 0===(r=t.ilt.ZQt).kst?[3,3]:i.OUt.uUt(t.bzt)?[3,2]:[4,ra(i.OUt.lUt(t.bzt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.OUt.mUt(r.kst,r).BB(),[3,4];case 3:e=r.lB,c.label=4;case 4:return u=hH(r,e),s=fH(r,u),a={YA:"ilt",rI:t.ilt.rI,Fut:i.dVt[0],$Yt:u,tVt:s,lB:e,ct:null!=(o=r.ct)?o:0,rQ:0,bzt:t.bzt,IRt:t.IRt,ZQt:t.ilt.ZQt},i.QYt(a),[2]}}))}))()},n}(cH);function dH(t,n){for(var i=function(i){var e=t[i],u=e.lB;if(e.IRt.wRt.Tzt&&hX(e.ilt))u=0;else{var s=function(t){return e.IRt===t.IRt&&fX(t.ilt,e.ilt)},o=Do(t,s);if(void 0!==o)u=k.min(u,o.dB);else{var a=Do(n,s);void 0!==a&&(u=k.min(u,a.CQt.jn(0)))}}r=r.pP(GM.RP(u,e.dB))},r=GM.PP(),e=0;e<t.length;e++)i(e);return r}Q(),Nt();var lH=.001,gH=function(){function t(t,n,i,r){this.LVt=t,this.jVt=n,this.xVt=i,this.UG=r,this.kVt=[]}var n=t.prototype;return n.UFt=function(t){this.LVt.UFt(t)},n.CVt=function(t){for(var n,i=function(t){var i=n.kVt[t];if(!i.jQt)throw new A("Invalid state");var e=So(r,(function(t){return t.YA===i.YA}));e>=0?(i.jht(r[e]),jo(r,e)):jo(n.kVt,t)},r=t.slice(),e=this.kVt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new EX(s);this.kVt.push(new SX(s.YA,s,this.jVt,o,this))}r.length>0&&this.jVt.eM();var a=t.map((function(t){return t.YA}));this.xVt.gVt(a)},n.JK=function(t){var n,i=(null==(n=this.UG)?void 0:n.JK(t))||!1;return i&&(this.Ty(),this.jVt.eM()),i},n.OVt=function(t){for(var n=0,i=this.kVt;n<i.length;n++){var r=i[n];if(r.YA!==lw.ON||r.iLt)throw new A("Invalid state")}var e=new EX(t),u=new SX(lw.ON,t,this.jVt,e,this);this.kVt=[u]},n.mct=function(){for(var t=0,n=this.kVt;t<n.length;t++){n[t].OQt.LQt()}},n.eft=function(t){var n=this.RVt.CP(t,lH);return n?n.jn(n.V-1):t},n.$Ft=function(t){return!!this.RVt.CP(t,lH)||this.LVt.$Ft(t)},n.zVt=function(t){return this.PVt.gr(t,lH)},n.BVt=function(t,n,i){for(var r=0,e=this.kVt;r<e.length;r++){var u=e[r].OQt,s=u.dpt;if(void 0!==s&&n>=s&&!u.TE.fP().gr(s))return!0}return n-t<i},n.Ty=function(){this.UVt(),this.QVt()},n.UVt=function(){this.LVt.Ty()},n.QVt=function(){this.xVt.Ty(),this.EVt.forEach((function(t){return t.Ty()}))},n.wy=function(){this.Ty(),this.LVt.wy()},Ct(t,[{key:"EVt",get:function(){return this.kVt}},{key:"IRt",get:function(){return this.LVt.IRt}},{key:"iLt",get:function(){return this.LVt.iLt||this.xVt.iLt||this.kVt.some((function(t){return t.iLt}))}},{key:"IQt",get:function(){var t=this.jVt.IQt;if(t)return t;if(this.kVt.length>0){var n=this.kVt[0].OQt.IQt;if(n&&this.kVt.every((function(t){return t.OQt.IQt===n})))return n}}},{key:"RVt",get:function(){if(0===this.kVt.length)return GM.PP();for(var t=dH(this.jVt.OYt.concat(this.jVt.PYt),Uo(this.kVt,(function(t){return t.OQt.Wot}))).fP(),n=new GM([0,1/0]),i=0,r=this.kVt;i<r.length;i++){var e=r[i];n=n.Sn(e.OQt.TE)}for(var u=0,s=this.kVt;u<s.length;u++){var o=s[u];n=n.yP(o.RQt)}return(n=n.pP(t)).mP(lH)}},{key:"PVt",get:function(){if(0===this.kVt.length)return GM.PP();for(var t=dH(this.jVt.PYt,Uo(this.kVt,(function(t){return t.OQt.Wot}))).fP(),n=new GM([0,1/0]),i=0,r=this.kVt;i<r.length;i++){var e=r[i];n=n.Sn(e.OQt.TE)}return n=n.pP(t)}}]),t}();Q(),Nt(),St();var wH=function(t){function n(){return t.call(this,yW.fRt)||this}return Et(n,t),n}(ka);Q(),Nt(),St();var yH=function(t){function n(){return t.call(this,yW.lRt)||this}return Et(n,t),n}(ka);Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn();var mH="LazyMediaBuffer",AH=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zp=n,r.WVt=i,r.WS=void 0,r.Qht=void 0,r.VVt=new sh,r.WK=20,r.FVt=!1,r.XK=30,r.C3=new uE,r}Et(n,t);var i=n.prototype;return i.F$=function(){return this.Qht?this.Qht.F$():this.FVt},i.O3=function(t,n){CW.XRt(mH,"Marking gap from "+t+" to "+n+"."),this.C3.i0(t,n),this.Qht&&this.Qht.O3(t,n)},i.R3=function(t,n){CW.XRt(mH,"Removing gap from "+t+" to "+n+"."),this.C3.e0(t,n),this.Qht&&this.Qht.R3(t,n)},i.YVt=function(t){this.Qht=t,this.Qht.QK=this.XK,this.Qht.PK=this.WK;for(var n,i=this.C3.J$,r=0;r<i.V;r++)this.Qht.O3(i.Cn(r),i.jn(r));this.FVt&&(CW.XRt(mH,"End of stream"),null==(n=this.Qht)||n.I3());this.Qht.yn(ZI.g$,this.Ds),this.VVt.sM(t)},i.GVt=function(t){return ra(this.VVt.rM,t)},i.B4=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,r.GVt(i)];case 1:return[4,e.sent().B4(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.P3=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.GVt()];case 1:return[4,n.sent().P3()];case 2:return n.sent(),[2]}}))}))()},i.F4=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,r.GVt(i)];case 1:return[4,e.sent().F4(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.wS=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,r.GVt(i)];case 1:return[4,e.sent().wS(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.s3=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,i.GVt()];case 1:return[4,r.sent().s3(t,n)];case 2:return r.sent(),[2]}}))}))()},i.I3=function(){this.FVt=!0,this.Qht&&this.Qht.I3()},i.N$=function(t){return!!this.Qht&&this.Qht.N$(t)},i.D$=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.GVt()];case 1:return[4,i.sent().D$(t)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){return t.Bo(),null==(n=t.Qht)||n.fn(ZI.g$,t.Ds),[2]}))}))()},Ct(n,[{key:"VN",get:function(){return this.WS}},{key:"E3",get:function(){return this.Zp}},{key:"md",get:function(){if(!this.Qht)throw new md(wd.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Qht.md}},{key:"PK",get:function(){return this.WK},set:function(t){this.WK=t,this.Qht&&(this.Qht.PK=t)}},{key:"TE",get:function(){return this.Qht?this.Qht.TE:GM.PP()}},{key:"x3",get:function(){return this.Qht?this.Qht.x3:this.C3.J$}},{key:"QK",get:function(){return this.XK},set:function(t){this.XK=t,this.Qht&&(this.Qht.QK=t)}}]),n}(Aa),pH="LazyMediaSource",_H=function(){function t(t,n,i){this.cz=t,this.ZVt=void 0,this.HVt=void 0,this.tGt=new sh,this.vV=void 0,this.$Vt=!1,this.JM=NaN,this.Ist=!1,this.XVt=0,this.qVt=1/0,this.KVt=!1,this.JVt=!1,n&&(CW.XRt(pH,"Created lazy media buffer for audio."),this.ZVt=new AH(lw.SI,this)),i&&(CW.XRt(pH,"Created lazy media buffer for video."),this.HVt=new AH(lw.NI,this))}var n=t.prototype;return n.T5=function(t){this.JM=t,this.vV&&this.vV.T5(t)},n.I3=function(){this.Ist=!0,this.vV&&this.vV.I3()},n.w3=function(){this.Ist=!1,this.vV&&this.vV.w3()},n.D5=function(t,n,i,r){this.XVt=t,this.qVt=n,this.KVt=Boolean(i),this.JVt=Boolean(r),this.vV&&this.vV.D5(t,n,i,r)},n.N$=function(t){return!this.vV||this.vV.N$(t)},n.D$=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:if(!n.N$(t))throw new A("LazyMediaSource - Unable to reconfigure MediaSource.");return n.vV?[3,2]:(n.cz.ktt(),[4,n.cz.$n(t)]);case 1:return e=u.sent(),T(n.JM)||e.T5(n.JM),n.Ist&&e.I3(),e.D5(n.XVt,n.qVt,n.KVt,n.JVt),CW.XRt(pH,"The MediaSource has been loaded."),n.$Vt=!0,n.vV=e,null==(i=n.ZVt)||i.YVt(n.vV.p5),null==(r=n.HVt)||r.YVt(n.vV.A5),n.tGt.sM(e),n.cz.Ltt(),[3,4];case 2:return[4,n.vV.D$(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.k$=function(t){this.vV.k$(t)},n.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.vV?[4,t.vV.wy()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Ct(t,[{key:"md",get:function(){return{YA:OA.FQ,E5:[],yV:[]}}},{key:"p5",get:function(){return this.ZVt}},{key:"A5",get:function(){return this.HVt}},{key:"TE",get:function(){return this.vV?this.vV.TE:GM.PP()}},{key:"ct",get:function(){return this.vV?this.vV.ct:this.JM}},{key:"F$",get:function(){return!!this.vV&&this.vV.F$}},{key:"_k",get:function(){return this.vV?this.vV._k:new GM([0,1/0])}}]),t}();function kH(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=bH(i,"tag"),a=bH(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}sn(),tn(),Q(),Nt(),ht();kH((function(t,n){return"*"===n||t===n||to(t,n+"-")}),!0),kH((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var MH=kH((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function bH(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":Y(i))||!("length"in i))throw new A("Invalid "+n+" `"+i+"`, expected non-empty string");return i}Q(),Nt(),An(),Zt(),Tn(),tn(),Q(),Nt();var TH=16384,NH=71,DH=188,IH=2,EH=3,SH=function(t){return t[t.dI=0]="dI",t[t.sx=1]="sx",t[t.iGt=2]="iGt",t[t.eGt=3]="eGt",t}({});function LH(t){return CH(t)?1:function(t){return function(t){if(t.length<IH*DH)return-1;for(var n=t.length<EH*DH?IH:EH,i=k.min(1e3,t.length-n*DH),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*DH]!==NH){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==YL(Rc(t),new Vc)}(t)?3:0}function CH(t){var n=Oc(t,0,k.min(t.length,TH));return jm._j(Rc(n))}var jH=function(){function t(t,n,i,r){this.Zp=t,this.Qht=n,this.vpt=i,this.ojt=r}var n=t.prototype;return n.sGt=function(t){return this.Qht===t},n.F4=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return i.Qht.md.VN===t.DVt.cht?[3,2]:(r={VN:t.DVt.cht},i.Qht.N$(r)?[4,i.Qht.D$(r)]:[3,2]);case 1:e.sent(),ta(n),e.label=2;case 2:return[4,i.Qht.F4(t.rI,{u4:t.IRt.zL},n)];case 3:return e.sent(),void 0!==i.ojt&&i.Zp===lw.NI&&CH(t.rI.rI)&&i.ojt.$ht(t.rI.rI),[2]}}))}))()},n.B4=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:return ta(n),CW.Hj("HlsMediaBuffer","Got media data, appending to "+i.Zp+" MediaBuffer: "+rZ(t.ZQt.Xyt)),r=t.$Yt,e=t.tVt,u={kst:t.lB,ct:t.ct,rQ:t.rQ,u4:t.IRt.zL},void 0===t.rI?[3,2]:[4,i.Qht.B4(t.rI,u,n)];case 1:s.sent(),i.nGt(t.rI,t),s.label=2;case 2:return i.rGt(r,e),[2]}}))}))()},n.nGt=function(t,n){var i;if(CH(t.rI)){var r=n.lB,e=r+n.ct,u=n.rQ;if(null==(i=this.vpt)||i.Cft(t.rI,r,u),void 0!==this.ojt&&this.Zp===lw.NI){var s=n.ZQt.Zzt;this.ojt.Cft(t.rI,r,e,u,n.IRt,s)}var o=[];void 0!==this.vpt&&o.push(this.vpt),void 0!==this.ojt&&o.push(this.ojt),TA(this.TE,o)}},n.rGt=function(t,n){for(var i=this.Qht.TE,r=new GM([t,n]).yP(i),e=0;e<r.V;e++)this.Qht.O3(r.Cn(e),r.jn(e));for(var u=0;u<i.V;u++)this.Qht.R3(i.Cn(u),i.jn(u))},n.O3=function(t,n){this.Qht.O3(t,n)},n.R3=function(t,n){this.Qht.R3(t,n)},Ct(t,[{key:"YA",get:function(){return this.Zp}},{key:"TE",get:function(){return this.Qht.TE}},{key:"x3",get:function(){return this.Qht.x3}}]),t}();function xH(t){if(t.YA===$W.mPt&&void 0!==t.bRt){var n=t.bRt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.bRt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}Q(),Nt(),Q(),Nt(),Q(),Nt();var OH=function(){function t(t){this.vV=t}var n=t.prototype;return n.dPt=function(t){var n,i,r;return null==(r=null==(i=this.vV)||null==(n=i.A5)?void 0:n.N$(t))||r},n.fPt=function(t){var n,i,r;return null==(r=null==(i=this.vV)||null==(n=i.p5)?void 0:n.N$(t))||r},t}(),zH="LLHLSPlayer",RH=[zA.eP,zA.sP,zA.nP,zA.lL],BH=[Ma.pb,Ma.Vy,Ma.$y,Ma.Ky],UH=2e3,PH=function(t){function n(n,i,r,e,u,s,o,a){var c,h;return c=t.call(this)||this,h=c,c.UG=r,c.QG=e,c.$Qt=u,c.YGt=s,c.aWt=ps(),c.jGt=!0,c.CGt=!0,c.IGt=!1,c.MGt=void 0,c.vV=void 0,c.Ept=void 0,c.zQ=new ca,c.NIt=void 0,c.sWt=void 0,c.rWt=void 0,c.oWt=void 0,c.lGt=void 0,c.hGt=void 0,c.oGt=void 0,c.pGt=void 0,c.iWt=void 0,c.SWt=[],c.y5=void 0,c.b5=void 0,c.PGt=void 0,c.uGt=void 0,c.uWt=void 0,c.FGt=void 0,c.NWt=new ca,c.kGt=void 0,c.w7=new ca,c.m7=void 0,c.wGt=-1,c.$Wt=void 0,c.iZt=void 0,c.nZt=void 0,c.JWt=void 0,c.tZt=void 0,c.sZt=void 0,c.WTt=!0,c.gWt=0,c.fWt=!1,c._V=oT.pG,c.dV=void 0,c.fV=void 0,c.I5=GM.PP(),c.bZt=[],c.TGt=void 0,c.SGt=void 0,c.yIt=!1,c.s7=!1,c.yDt=void 0,c.bDt=0,c.MDt=0,c.NGt=void 0,c.DGt=0,c.iIt=!1,c.dZt=!1,c.BGt=$M.Mz,c.dCt=void 0,c.MZt=void 0,c.ZNt=0,c.handleContentProtectionErrorEvent=function(t){c.dV=pw(t.errorObject),c.fV=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){c.eG(new md(wd.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},c.LDt=function(t){c.eG(_w(t.lt))},c.wZt=function(){c.$Bt();var t=c.ct;t!==c.yDt&&(c.yDt=t,c.yo(new Eb(c.yDt)))},c.Sh=function(){c.OE&&c.yo(new Lb(c.LE))},c.fOt=function(){c.yo(new Db(c.LE))},c.mZt=function(){c.yNt(),c.yo(new Ib(c.LE))},c.vz=function(){void 0!==c.MZt&&(Kt.Rg(c.MZt),c.MZt=void 0),c.yo(new FA(c.LE))},c.pZt=function(){c.yo(new nE(c.LE))},c.rF=function(){c.yo(new BA(c.LE,c.fk))},c.C9=function(){var t=c.LRt;Bo(c.bZt,t)||(c.yo(new IX),c.bZt=t),c.yo(new Cg(c.LE,c.NE))},c.UWt=rn((function(t){t.RI===lw.NI&&c.aGt()&&va(c.cGt())}),200),c.QWt=function(t){var n;c.ZNt+=t.BFt;var i=c.rt.V>0?t.RI===lw.NI:t.RI===lw.SI;"ilt"===t.zFt&&i&&va(c.vWt()),c.yo(new qz(function(t){if(t){if(void 0!==t.SMt){var n,i,r=t.SMt.Cn+(null!=(i=t.SMt.V)?i:0);return{zu:t.zD,Nct:[null==(n=t.SMt)?void 0:n.Cn,r],zI:!0}}return{zu:t.zD.toString()||"",zI:!0}}return{zu:"",zI:!0}}(t.uri),(null==(n=c.DRt)?void 0:n.FY)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.RI,t.httpStatusCode,t.BFt))},c.We=function(){c.yo(new Cb(c.LE))},c.YV=function(){c.yo(new jb(c.LE))},c.AZt=function(){c.gIt()},c.yZt=function(){c.yo(new xb(c.LE,c.Nk))},c._Zt=function(){c.cz.wk?c.yo(new YA(c.LE)):(null!=c.MZt||(c.MZt=Kt.Pg((function(){c.dZt&&(c.dCt=void 0,va(c.fGt()))}),2500)),c.yNt(),c.yo(new YA(c.LE)))},c.vZt=function(){c.dZt=!0,c.yo(new GA(c.LE,c.fk))},c.LGt=function(t){$o(t)||ig(t)||rg(t)||(c.LWt(),va(c.CWt()),c.yo(new BW(t)))},c.NQt=function(){c.$Bt()},c.UGt=function(t){va(c.MWt(t.IRt,c.zQ.ly))},c.fAt=function(t){if(!$o(t)){var n=t instanceof md?t:new md(wd.MEDIA_DECODE_ERROR,t.message,t);c.eG(n)}},c.onTextTrackChange=function(t){if(c.lGt){var n=t.Ht,i=c.hWt(n);i&&(n.UI===iA.FL||n.UI===iA.Jn?(va(c.bWt(i)),c.aWt.forEach((function(t){t!==n&&(t.UI=iA.Ch)}))):c.pGt&&c.pGt===i&&va(c.zGt(c.hGt,c.oGt,void 0)))}},c.retryOfflineRenditionsCallback=yn((function(t,n){return pn(this,(function(i){switch(i.label){case 0:return h.mGt!==t&&h.FRt!==t&&h.VRt!==t?[2]:[4,h.NIt.lQt(t,n)];case 1:return i.sent(),t.wRt.QBt=-1/0,[2]}}))})),c.EDt=function(){c.uNt()},c.kDt=function(){c.cNt()},c.FWt=function(t){var n=c.lGt,i=null==n?void 0:n.Czt;if(c.NIt.MQt(t.cht,t.IRt.wRt),!i&&(c.NIt.TQt(t.cht,t.IRt.wRt),c.WGt.sPt(),n)){var r=void 0!==c.hGt&&!Oo(n.$Rt,c.hGt),e=void 0!==c.oGt&&!Oo(n.tPt,c.oGt);(r||e)&&c.zGt(r?void 0:c.hGt,e?void 0:c.oGt,c.pGt).catch(qt)}},c.YWt=function(t){c.WGt.oPt(t.IRt,t.vgt)},c.VWt=function(t){c.WGt.aPt(t.IRt,t.hVt.BB())},c.GWt=function(t){c.NIt.yQt(t.IRt)},c.slt=new BY(o),c.cz=n,c.OQ=i,c.AV=new RW(c.UG.NK),c.AWt=new UW(c.cz),c.wWt=new HW(c.UG),c.lft=a.retryConfiguration,c.Oz=new dw,c.Pz=new dw,c.WGt=new zW(c,c.UG,c.Oz,c.Pz),c.dWt=new cA,c.LV=new IA(c.cz,c.OQ),c.vpt=new zY(c.cz),c.ojt=new aU(c.cz),c.Ul=new Fk([c.dWt,c.LV.Z,c.vpt.Z,c.ojt.Z,c.cz.nt]),c.SV=new Gk(c.OQ),c.cz.zV=c.SV,c.NDt=new YH(c,c.cz),c.lZt=new ZA(c.NDt,!0),c.gZt(),c}Et(n,t);var i=n.prototype;return i.aGt=function(){if(void 0===this.uGt)return!1;var t=Kt.Og();if(!this.uGt.LVt.CYt(t))return!1;var n=this.uGt.LVt.EYt();if(void 0===n||void 0===n.ilt.ct)return!1;var i=this.LE,r=this.$E,e=this.uGt.RVt.CP(i);return!((void 0!==e?e.jn(0)-i:0)>=2*n.ilt.ct*r)&&(n.kYt>0&&0===n.LYt?n.xYt>1e3*n.ilt.ct*.8:8*n.LYt/this.UG.NK.FY>=1.8*n.ilt.ct)},i.cGt=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,t.vPt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.uGt)?void 0:n.LVt.EYt())?[2]:(e=t.lGt,r.LYt>0&&(u=k.max(0,r.LYt-r.kYt),s=r.LYt*(i.FY/e.FY),u<=s)?[2]:(o=i.FY<e.FY,[4,t.CRt(i,{jRt:o})]));case 2:return a.sent(),[2]}}))}))()},i.dGt=function(t){return Po(t,(function(t){return t.FY}))},i.fGt=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return[4,t.gGt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t._Gt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.dGt(n))?[3,4]:[4,t.CRt(r,{jRt:!0})];case 3:e.sent(),t.AV.xkt(r.FY),e.label=4;case 4:return[2]}}))}))()},i.CE=function(t,n){var i,r,e,u,s=this;CW.Hj(zH,"Seeking to "+t+" s.");var o={yGt:null!=(r=null==n?void 0:n.yGt)?r:t===1/0,bGt:null==(e=null==n?void 0:n.bGt)||e,dzt:null!=(u=null==n?void 0:n.dzt)&&u};this.TGt=t,this.SGt=o,this.NGt=!0,this.yIt=!0,null==(i=this.aV)||i.zk(),this.yo(new Cb(t)),this.w7.Ty(),this.IGt&&(Kt.Rg(this.DGt),o.bGt?this.DGt=Kt.Pg((function(){return s.EGt(t,o)}),50):this.EGt(t,o))},i.EGt=function(t,n){Kt.Rg(this.DGt);var i=[this.Ept,this.kGt,this.m7].filter(ci);this.w7=new ca,this.w7.Sy(this.zQ.ly),this.m7=ea(this.p7(i,t,n,this.w7.ly),this.w7).catch(this.LGt)},i.$Bt=function(){var t=function(t){if(0===t.length)return GM.PP();for(var n=new GM([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].wRt._k;e.V>0&&(n=n.Sn(e),i=k.max(i,e.Cn(0)))}if(n.V>0)return n;return GM.OP(i)}([this.hGt,this.oGt].filter(ci));0!==t.V&&(this.vV&&this.vGt&&this.vV.ct!==1/0&&(t=new GM([t.Cn(0),this.vV.ct])),this.I5=t,this.CGt&&this.vpt.NQ(t.Cn(0)),this.jGt&&this.ojt.NQ(t.Cn(0)))},i.Bk=function(){return!1},i.Ck=function(){return this.cz.wa},i._a=function(){return this.cz.xV},i.Wk=function(t){return this.cz.CV(t)},i.be=function(){CW.Hj(zH,"Hiding the player."),this.cz.be()},i.Rk=function(){var t;CW.Hj(zH,"Pausing the player."),this.cz.Rk(),(null==(t=this.aV)?void 0:t.zP)&&this.aV.zk()},i.Pk=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return t.s7=!0,n=t.cz.Pk(),t.OE&&(i=t.GNt).V>0&&t.CE(i.Cn(0),{bGt:!1}),t.IGt?[3,2]:[4,t.xGt()];case 1:r.sent(),r.label=2;case 2:return t.yNt(),[4,n];case 3:return r.sent(),t.bIt(),[2]}}))}))()},i.yNt=function(){var t;if(!this.VNt())if(null==(t=this.DRt)?void 0:t.wRt.Tzt){var n,i=!0,r=0,e=null==(n=this.lGt)?void 0:n.wRt.Cn;if(!this.yIt&&e&&(i=!e.dzt,(r=e.lzt)<0)){var u=this.DRt.wRt.MBt;r+=u.jn(u.V-1)}this.EGt(r,{yGt:i})}else this.EGt(1/0,{yGt:!0});this.OGt()&&this.EGt(1/0,{yGt:!0})},i.VNt=function(){var t,n=this.GNt;if(0===n.V)return!0;var i=null==(t=this.RGt)?void 0:t.bP(this.LE);return(i&&i>0?this.RGt.jn(i):this.LE)>=n.Cn(0)},i.OGt=function(){return KH(this.LE,this.hGt)||KH(this.LE,this.oGt)},i.nDt=function(){this.dV=void 0,this.fV=void 0},i.eG=function(t){this.dV||(va(this.tr()),this.dV=pw(t),this.fV=t,this.yo(new zk(t)))},i.ge=function(){CW.Hj(zH,"Showing the player."),this.cz.ge()},i.Uk=function(){throw new A("Not implemented")},i.Qk=function(){throw new A("Not implemented")},i.Fk=function(){},i.Yk=function(){this.IGt&&va(this.zGt(this.hGt,this.oGt,this.pGt,{Yk:!0}))},i.ka=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:e={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,4,5,6]),CW.Hj(zH,"Setting the player source to "+t.src+"."),r.nDt(),!r.MGt||Ab(r.MGt)?[3,3]:[4,r.tr()];case 2:f.sent(),ta(i),f.label=3;case 3:return!t.src||Ab(t)?[2]:(s=kn(e,ca.Iy([i]),!1),r.zQ=ca.Iy([s.ly]),r.SV.WY(t.contentProtection),r.MGt=t,r.BGt=t.seamlessSwitchStrategy,r.jGt=!Oo(t.ignoreEmbeddedTextTrackTypes,Yw.CEA608),r.CGt=!Oo(t.ignoreEmbeddedTextTrackTypes,Yw.EMSG),r.yn(yW._Rt,r.handleBufferingErrorEvent),a=null!=(o=null==(u=t.latencyConfiguration)?void 0:u.targetOffset)?o:t.liveOffset,r.NIt=new kX(r.OQ,r.slt,t.useCredentials,Kt.TA(t.src),a),r.NIt.yn(_X.ZUt,r.NQt),r.NIt.yn(_X.HUt,r.UGt),r.NIt.yn(Ma.ub,r.Ds),r.NIt.yn(Ma.fb,r.Ds),t.hlsDateRange&&(r.QGt=new DX(r.NIt,r.cz),r.Ul.$Y(r.QGt.nt)),null!=r.FGt||(r.FGt=r.YGt.xst()),n.textTracks&&r.NV(n.textTracks),t.latencyConfiguration&&(c=t.latencyConfiguration,r.aV=new UY(r,r.cz,c),r.aV.Rt=!0,r.Ek.Sa(r.aV)),jA(r.Ul),r.xGt(),s.wy(),[3,6]);case 4:return h=f.sent(),e.error=h,e.hasError=!0,[3,6];case 5:return Mn(e),[7];case 6:return[2]}}))}))()},i.xGt=function(){return this.Ept=this.VGt(this.Ept,this.zQ.ly).catch(this.fAt),this.Ept},i.VGt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),ta(n),e.label=2;case 2:return i.NIt?(r=i._V)===oT.Mz||i.s7?[4,i.oD(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==oT.MQ?[3,6]:[4,i.GGt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.GGt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:if(void 0===n.NIt||n.iIt)return[2];if(n.NIt.KUt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.NIt.sQt(t)];case 2:return a.sent(),[3,4];case 3:throw na(i=a.sent()),n.XE=!1,new md(wd.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.WGt.Mgt(),a.label=5;case 5:return[4,n.ZGt()];case 6:return r=a.sent(),n.HGt(r),e=n.XGt(r.$Rt),u=n.qGt(r.tPt),(s=n.KGt(r.Ozt))||(o=VH(r.Rzt))&&(CW.Hj(zH,"Detected initial closed caption rendition."),n.JGt(r,o)),[4,n.zGt(e,u,s,{$Gt:!0})];case 7:return a.sent(),n.iIt=!0,n.NDt.CDt(),n.tWt(),[2]}}))}))()},i.tWt=function(){var t,n=[this.hGt,this.oGt].filter(ci);if(!n.some((function(t){return t.wRt.Tzt}))&&!this.aV){var i=(t=k).max.apply(t,ln(n.map((function(t){var n;return null!=(n=t.wRt.$Tt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:FM,maximumPlaybackRate:WM};this.aV=new UY(this,this.cz,r),this.QG.Sa(this.aV)}},i.ZGt=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:if(t.iWt=t.NIt.Tr.JRt,!t.iWt.length)throw new md(wd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.eWt(t.iWt)];case 1:if(0===(n=r.sent()).length)throw new md(wd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t._Gt(n)];case 2:return(i=r.sent()).length>0&&(n=i),CW.Hj(zH,"Selecting initial active variant stream."),[2,FH(n,t.MGt.abr,t.UG,t.lft.maximumBackoff)]}}))}))()},i.XGt=function(t){if(this.sWt){var n=this.nWt(this.sWt);if(n)return n}return ZH(t)},i.qGt=function(t){if(this.rWt){var n=this.nWt(this.rWt);if(n)return n}return ZH(t)},i.KGt=function(t){for(var n=0,i=this.Ul.AL;n<i.length;n++){var r=i[n];r.UI===iA.Jn&&(this.oWt=this.hWt(r))}if(this.oWt){var e=this.nWt(this.oWt);if(e)return e}return VH(t)},i.hWt=function(t){var n=this;return Do(this.lGt.Ozt,(function(i){return t===n.aWt.get(i.zL)}))},i.oD=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.IGt?[2]:[4,n.GGt(t)];case 1:return i.sent(),ta(t),n.IGt=!0,[4,n.zGt(n.hGt,n.oGt,n.pGt,{$Gt:!0})];case 2:return i.sent(),[2]}}))}))()},i.NV=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.LV.xQ(i)}},i.JGt=function(t,n){if(this.jGt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=xH(r);void 0!==e&&n.push({aet:e,uet:r.gs||"",kh:r.l})}return n}(t.Rzt),r=0;r<i.length;r++){var e=i[r];this.ojt.Pmt(e)}if(void 0!==n){var u=xH(n);this.ojt.Omt(u).UI=iA.Jn}}},i.xRt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.cWt(i))throw new A("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.iWt=t},i.cWt=function(t){var n=this.Tr;return!!n&&Oo(n.JRt,t)},i.nWt=function(t){if(t&&this.lGt)return Do(this.lGt.rPt,(function(n){return n===t}))},i.HGt=function(t){var n;if(CW.Hj(zH,"Setting active variant stream."),this.lGt!==t){var i=(null==(n=this.lGt)?void 0:n.FPt)!==(null==t?void 0:t.FPt);if(this.lGt&&i)for(var r=0,e=this.lGt.Ozt;r<e.length;r++){var u=e[r];this.BQ(u)}if(this.lGt=t,this.yo(new wH),this.gIt(),t&&i)for(var s=0,o=t.Ozt;s<o.length;s++){var a=o[s];this.lWt(a)}}},i.lWt=function(t){var n=this.cz.Wk(hA.AQ,void 0,t.l,t.gs,t.mRt,void 0,void 0,t.TRt.map(SW).filter(ci));n.yn(Yg.aa,this.onTextTrackChange),this.aWt.set(t.zL,n),this.dWt.tt(n)},i.BQ=function(t){var n=this.aWt.get(t.zL);n&&(n.fn(Yg.aa,this.onTextTrackChange),this.dWt.it(n),this.aWt.delete(t.zL),this.cz.BQ(n))},i.gGt=function(){var t=this;return yn((function(){var n,i,r,e;return pn(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.iWt)?n:t.Tr.JRt).length||t.iWt?1!==i.length||t.iWt?[4,t.eWt(i)]:(CW.Hj(zH,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(CW.Hj(zH,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(CW.qRt(zH,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=XH(r,t.lft.maximumBackoff)).length?[3,3]:t.fWt?[2,[]]:(CW.qRt(zH,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.gWt++,[4,t._Wt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.vWt=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return[4,t.vPt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.lGt&&n.FY<t.lGt.FY,[4,t.CRt(n,{jRt:i})]);case 2:return r.sent(),[2]}}))}))()},i.vPt=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return[4,t.gGt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=qV(t.cz),[4,t._Gt(r)]);case 2:return u=c.sent(),s={ji:t.cz.ji,Ti:t.cz.Ti,lPt:e,Fdt:null==(i=t.MGt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.wWt.vPt(r,t.lGt,u,s,new OH(t.vV))];case 3:return o=c.sent(),a=!!t.lGt&&o.FY<t.lGt.FY,[2,a||t.mWt(o,e)?o:void 0]}}))}))()},i.mWt=function(t,n){var i;if(t===this.DRt)return!1;var r=this.DRt&&HH(this.DRt,this.lft.maximumBackoff),e=HH(t,this.lft.maximumBackoff);if(!r&&e)return!0;(!this.dCt||this.dCt.ERt.FY>t.FY)&&(this.dCt={ERt:t,t_t:Kt.Og()});var u,s=Kt.Og()-this.dCt.t_t,o=null!=(u=null==(i=this.VRt)?void 0:i.wRt.cPt)?u:1/0;return n>=k.max(o-1,5)||s>1e3},i._Wt=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:n.fWt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.oGt?Do(e.tPt,(function(t){return AW(t,n.oGt)})):void 0)?[3,5]:[4,n.lQt(u)];case 3:return s.sent(),u.wRt.QBt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.gWt=0,[4,n.pWt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.gWt>=n.lft.maxRetries?(n.eG(new md(wd.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,ga(k.min(n.lft.minimumBackoff*k.pow(2,n.gWt-1),n.lft.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.fWt=!1,[4,n.vWt()];case 11:return s.sent(),[2]}}))}))()},i.eWt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,Fo(t,yn((function(t){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.cht)?void 0:i.Axt)?'audio/mp4; codecs="'+t.cht.Axt+'"':void 0,(null==(r=t.cht)?void 0:r.bxt)?'video/mp4; codecs="'+t.cht.bxt+'"':void 0].filter(ci)).length?[2,!0]:[4,n.AWt.H$(u,null==(e=n.MGt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.cht)?void 0:n.bxt}))&&(i=i.filter((function(t){return!t.cht||t.cht.bxt||0!==t.tPt.length}))),i.some((function(t){var n;return null==(n=t.cht)?void 0:n.Axt}))&&(i=i.filter((function(t){return!t.cht||t.cht.Axt||0!==t.$Rt.length}))),[2,i]}}))}))()},i._Gt=function(t){var n=this;return this.NIt.$Ut?Fo(t,(function(t){return function(t,n){return Xo.apply(this,arguments)}([ZH(t.$Rt),ZH(t.tPt),VH(t.Ozt),VH(t.Rzt)].filter(ci),(function(t){return n.yWt(t)}))})):st.resolve([])},i.yWt=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:if(0===t.wRt.Wot.length)return[2,!1];if(!(i=t.wRt.Wot[0]).Xyt)return[2,!1];r=i.Xyt,e=r.SMt?KW(r.SMt.Cn,r.SMt.V):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.slt.Iot(r.zD,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.CRt=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:if(!i.IGt)throw new A("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new A("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.cWt(t))throw new A("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.lGt?(CW.Hj(zH,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.hGt?Do(t.$Rt,(function(t){return AW(t,i.hGt)})):void 0,e=i.oGt?Do(t.tPt,(function(t){return AW(t,i.oGt)})):void 0,u=i.pGt?Do(t.Ozt,(function(t){return AW(t,i.pGt)})):void 0,i.HGt(t),i.dCt=void 0,[4,i.zGt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.YRt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(!n.lGt)return n.sWt=t,[2];if(i=n.nWt(t),t&&!i)throw new A("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.FRt===i?[2]:(CW.Hj(zH,"Switching audio rendition"),[4,n.zGt(i,n.oGt,n.pGt,{RRt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.GRt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(!n.lGt)return n.rWt=t,[2];if(i=n.nWt(t),t&&!i)throw new A("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.VRt===i?[2]:(CW.Hj(zH,"Switching video rendition"),[4,n.zGt(n.hGt,i,n.pGt,{ORt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.bWt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(!t)throw new A("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.iIt)return n.oWt=t,[2];if(!(i=n.nWt(t)))throw new A("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return CW.Hj(zH,"Switching subtitle rendition"),[4,n.zGt(n.hGt,n.oGt,i)];case 1:return r.sent(),[2]}}))}))()},i.MWt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return i.fWt?[2]:(r=0===i.rt.V,t.YA===$W.NI||t.YA===$W.SI&&r?[3,2]:[4,i.TWt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.iWt&&i.iWt.length<=1?t.YA!==$W.NI||i.oGt===t?[3,4]:[4,i.zGt(i.hGt,t,i.pGt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.YA===$W.SI&&r&&i.hGt!==t?[4,i.zGt(t,i.oGt,i.pGt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.TWt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i.vWt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.lQt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.NIt.lQt(t,n)];case 1:return e.sent(),[3,5];case 2:return na(r=e.sent()),ig(r)||rg(r)?[4,i.MWt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.TWt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:if(Oo(i.SWt,t))return[2];i.SWt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.YA===$W.AQ||t.YA===$W.mPt?1/0:i.lft.maxRetries,[4,Ob((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.lft.minimumBackoff,i.lft.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.eG(new md(wd.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return Co(i.SWt,t),t.wRt.QBt!==-1/0?[3,6]:[4,i.pWt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.zGt=function(t,n,i,r){void 0===r&&(r={});var e={jRt:r.jRt||!1,RRt:r.RRt||!1,ORt:r.ORt||!1,Yk:r.Yk||!1,$Gt:r.$Gt||!1};return e.$Gt||e.Yk||this.hGt!==t||this.oGt!==n||this.pGt!==i?void 0===t&&void 0===n?st.reject(new A("Trying to buffer no media renditions.")):(this.hGt=t,this.oGt=n,this.pGt=i,this.$Bt(),this.yo(new yH),this.w7.Ty(),this.w7=new ca,this.w7.Sy(this.zQ.ly),this.NWt.Ty(),this.NWt=new ca,this.NWt.Sy(this.zQ.ly),this.kGt=ea(this.IWt([this.kGt,this.m7].filter(ci),t,n,i,e,this.NWt.ly),this.NWt).catch(this.LGt),this.kGt):st.resolve()},i.DWt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a;return pn(this,(function(c){return(o=[]).push(e.EWt(n,r)),pW(t,n)||o.push(e.EWt(t,r)),(null==(s=e.MGt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,st.all(o).then((function(){return e.EWt(i,r)}))]:(a=e.EWt(i,r),[2,st.all(ln(o).concat([a]))])}))}))()},i.EWt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.NIt.lQt(t,n)];case 2:return e.sent(),[3,6];case 3:return na(r=e.sent()),ig(r)||rg(r)?[4,i.kWt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.kWt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return i.fWt?[2]:(r=0===i.rt.V,t.YA===$W.NI||t.YA===$W.SI&&r?[3,2]:[4,i.TWt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.iWt&&i.iWt.length<=1?[4,i.TWt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.ZGt()];case 5:return e=a.sent(),i.HGt(e),u=i.XGt(e.$Rt),s=i.qGt(e.tPt),o=i.KGt(e.Ozt),[4,i.zGt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.IWt=function(t,n,i,r,e,u){var s=this;return yn((function(){var o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return s.IGt?[3,2]:[4,s.DWt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,st.all(t.map((function(t){return t.catch(qt)})))];case 3:return g.sent(),s.LWt(),[4,s.xWt(u)];case 4:return g.sent(),[4,s.CWt()];case 5:return g.sent(),a=[],e.RRt&&s.vV&&s.vV.p5&&a.push(s.vV.p5.wS(0,1/0)),e.ORt&&s.vV&&s.vV.A5&&a.push(s.vV.A5.wS(0,1/0)),[4,st.all(a)];case 6:return g.sent(),ta(u),[4,s.jWt(n,i,e.Yk,u)];case 7:c=g.sent(),s.OWt(n,i,e.jRt||c),s.RWt(r,e.jRt),ta(u),h=[i,pW(n,i)?void 0:n,r].filter(ci),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,st.all(h.filter((function(t){return!t.wRt.jBt})).map((function(t){var n;return null==(n=s.NIt)?void 0:n.dQt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return na(g.sent()),[3,11];case 11:return ta(u),s.N5(),s.$Bt(),void 0!==s.TGt?s.EGt(s.TGt,s.SGt):!s.yIt&&(null==(o=s.lGt)?void 0:o.wRt.Cn)?(f=s.lGt.wRt,v=f.Cn,d=v.lzt,v.lzt<0&&(l=f.MBt,d+=l.jn(l.V-1)),s.EGt(d,{yGt:!v.dzt})):!s.yIt&&h.every((function(t){return!t.wRt.Tzt}))?s.EGt(1/0,{yGt:!0}):s.AGt.length>0&&s.PWt(),[2]}}))}))()},i.jWt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d,l;return pn(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.zWt(t,n,e.lGt)];case 1:return c=g.sent(),ta(r),i||!e.vV||c?(h=void 0!==(null==(u=e.vV)?void 0:u.p5),f=void 0!==(null==(s=e.vV)?void 0:s.A5),v=o!==h||a!==f,!i&&!v&&c&&e.vV&&e.vV.N$(c)?[4,e.xWt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.vV.D$(c)];case 3:return g.sent(),[2,!0];case 4:for(d=0,l=e.AGt;d<l.length;d++)l[d].EVt.forEach((function(t){return t.Ty()}));e.cz.ktt(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.vV?[4,e.cz.tr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.BWt(c,o,a)];case 8:return e.vV=g.sent(),[3,10];case 9:return e.cz.Ltt(),[7];case 10:return[2,!0]}}))}))()},i.zWt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_;return pn(this,(function(k){switch(k.label){case 0:if(s=i.cht,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.cht)?void 0:a.Axt)?c:null==s?void 0:s.Axt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',CW.Hj(zH,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(l=null!=(d=null==(v=n.cht)?void 0:v.bxt)?d:null==s?void 0:s.bxt))return[2,void 0];g='video/mp4; codecs="'+l+'"',CW.Hj(zH,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(CW.qRt(zH,"No codecs found on the active variant stream."),[2,void 0]):(y=null!=(w=null==n||null==(e=n.wRt.Wot[0])?void 0:e.gzt)?w:[],A=null!=(m=null==t||null==(u=t.wRt.Wot[0])?void 0:u.gzt)?m:[],p=r.NIt.Tr,[4,aZ(r.MGt.contentProtection,o,p.xUt.concat(A).concat(y),r.OQ,r.MGt.useCredentials)]);case 1:return _=k.sent(),[2,{YA:OA.FQ,E5:o.map((function(t){return{VN:t}})),yV:_,U5:r.MGt.useManagedMediaSource}]}}))}))()},i.BWt=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){switch(u.label){case 0:return t?[4,r.cz.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new _H(r.cz,n,i),u.label=3;case 3:return r.vV=e,r.N5(),r.uNt(),r.cNt(),[2,e]}}))}))()},i.N5=function(){var t=this.vV;if(t&&T(t.ct)){var n,i,r,e=null!=(r=null==(n=this.hGt)?void 0:n.wRt.ct)?r:null==(i=this.oGt)?void 0:i.wRt.ct;void 0!==e&&e>0&&t.T5(e)}this.$Bt()},i.uNt=function(){var t=this.vV;t&&(t.A5&&(t.A5.PK=this.UG.ZK),t.p5&&(t.p5.PK=this.UG.ZK))},i.cNt=function(){var t=this.vV;t&&(t.A5&&(t.A5.QK=this.UG.QK),t.p5&&(t.p5.QK=this.UG.QK))},i.OWt=function(t,n,i){if(!this.vV)throw new A("Invalid state");this.vV.p5?this.y5&&this.y5.sGt(this.vV.p5)||(this.y5=new jH(lw.SI,this.vV.p5,this.CGt?this.vpt:void 0,this.jGt?this.ojt:void 0)):this.y5=void 0,this.vV.A5?this.b5&&this.b5.sGt(this.vV.A5)||(this.b5=new jH(lw.NI,this.vV.A5,this.CGt?this.vpt:void 0,this.jGt?this.ojt:void 0)):this.b5=void 0;var r,e=pW(t,n);if(this.b5&&n){var u=e&&this.y5?[this.b5,this.y5]:[this.b5];this.uGt?this.uGt.IRt!==n&&(i&&(this.uGt.Ty(),this.uGt.jVt.eM()),this.uGt.UFt(n)):(this.uGt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.tP,f=new tH(h),v=new KX(lw.NI,t,r,f,e,u,s,c),d=n.map((function(t){return t.YA})),l=o.RSt(f,r.Tr.tP,d),g=new gH(v,f,l,a);return g.CVt(n),g}(n,u,this.cz,this.NIt,this.OQ,this.slt,this.$Qt,this.FGt,this.UG,this.MGt.useCredentials),this.uGt.LVt.yn(HX.RFt,this.UWt),this.uGt.LVt.yn(HX.PFt,this.QWt),this.uGt.xVt.yn(aH.sVt,this.FWt),this.uGt.xVt.yn(aH.rVt,this.YWt),this.uGt.xVt.yn(aH.oVt,this.VWt),this.uGt.xVt.yn(aH.nVt,this.GWt)),this.uGt.CVt(u)}else{var s;null==(s=this.uGt)||s.wy(),this.uGt=void 0}this.y5&&t&&!e?(this.PGt?this.PGt.IRt!==t&&(i&&(this.PGt.Ty(),this.PGt.jVt.eM()),this.PGt.UFt(t)):(this.PGt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.tP,f=new tH(h),v=new KX(lw.SI,t,r,f,e,u,s,c),d=o.RSt(f,r.Tr.tP,[n.YA]),l=new gH(v,f,d,a);return l.CVt([n]),l}(t,this.y5,this.cz,this.NIt,this.OQ,this.slt,this.$Qt,this.FGt,this.UG,this.MGt.useCredentials),this.PGt.LVt.yn(HX.PFt,this.QWt),this.PGt.xVt.yn(aH.sVt,this.FWt),this.PGt.xVt.yn(aH.nVt,this.GWt)),this.PGt.CVt([this.y5])):(null==(r=this.PGt)||r.wy(),this.PGt=void 0);this.WWt()},i.RWt=function(t,n){this.uWt&&(this.uWt.LVt.IRt===t?n&&(this.uWt.Ty(),this.uWt.jVt.eM()):(this.uWt.wy(),this.uWt=void 0));if(!this.uWt&&t){var i=this.aWt.get(t.zL);i.UI=iA.Jn,this.uWt=function(t,n,i,r,e,u,s){var o=i.Tr.tP,a=new rH(n,o),c=new tH(o),h=new KX(lw.ON,t,i,c,r,e,u,s),f=new vH(c,o,lw.ON),v=new gH(h,c,f);return v.OVt(a),v}(t,i,this.NIt,this.OQ,this.slt,this.$Qt,this.MGt.useCredentials)}},i.WWt=function(){var t=[this.y5,this.b5].filter(ci).map((function(t){return t.YA}));this.NIt.Tr.tP.kUt(t)},i.p7=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return[4,st.all(t.map((function(t){return t.catch(qt)})))];case 1:return c.sent(),ta(r),[4,e.CWt()];case 2:return c.sent(),ta(r),e.TGt=void 0,e.NGt=void 0,e.yIt=!0,i.dzt?(s=[e.hGt,e.oGt].filter(ci),u=GH(s)):u=e.GNt,o=u.gP(n),a=e.cz.zy(Ma.bb,r),e.cz.Wb(o,i.yGt),e.IGt&&e.AGt.length>0&&(e.NIt.Tr.tP.LUt(),e.ZWt(e.cz.LE),e.PWt()),[4,a];case 3:return c.sent(),e.bIt(),[2]}}))}))()},i.bIt=function(){var t=this.Az;if(!this.KE&&!this.wk&&void 0!==t){var n,i,r=this.LE;if(t+this.LE-this.Ek.md.maximumOffset<r)null==(n=this.aV)||n.Cn();else null==(i=this.aV)||i.zk()}},i.ZWt=function(t){for(var n=0,i=this.AGt;n<i.length;n++){var r=i[n];r.$Ft(t)||(r.UVt(),r.jVt.WYt()),r.zVt(t)||(r.QVt(),r.jVt.ZYt())}},i.LWt=function(){for(var t=0,n=this.AGt;t<n.length;t++){n[t].Ty()}},i.CWt=function(){return st.all([this.HCt(),this.HWt(),this.XWt()])},i.PWt=function(){this.ZCt(),this.qWt(),this.KWt()},i.pWt=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.IGt&&t.AGt.length>0?(t.AGt.forEach((function(t){return t.UVt()})),[4,t.HCt()]):[3,2];case 1:n.sent(),t.ZCt(),t.AGt.forEach((function(t){return t.LVt.oYt()})),n.label=2;case 2:return[2]}}))}))()},i.ZCt=function(){var t=this;if(!this.JWt){var n=function(){t.JWt=void 0};this.$Wt=new ca,this.$Wt.Sy(this.zQ.ly),this.JWt=ea(this.cjt(this.$Wt.ly),this.$Wt).catch(this.LGt).then(n,n)}},i.HCt=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return null==(n=t.$Wt)||n.Ty(),i=t.JWt,t.JWt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.cjt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m;return pn(this,(function(A){switch(A.label){case 0:ta(t),i=n.AGt,A.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},A.label=2;case 2:for(A.trys.push([2,4,5,6]),e=[],u=n.cz.LE,s=0;s<i.length;s++)if(o=i[s],a=o.LVt,c=o.eft(u),a.iLt)e.push(a.UQt());else if(o.BVt(u,c,n.UG.ZK)){if(void 0===(h=a.tYt(c))){if(a.IRt.wRt.Tzt)continue;(f=a.IRt.wRt.Wot).length&&f[0].lB>c&&(n.LE=1/0),a.uYt(),a.sYt(c)}else v=En(h,2),d=v[0],l=v[1],a.Act(d,l,o.IQt),o.xVt.vVt(d,l);e.push(a.UQt())}if(g=kn(r,ca.Iy([t]),!1),0===e.length)for(i.every((function(t){return t.LVt.NLt}))||e.push(n.cz.zy(Ma.Eb,g.ly)),w=0;w<i.length;w++)y=i[w],e.push(y.xVt.zy(aH.nVt,g.ly));return[4,ra(st.race(e),g.ly)];case 3:return A.sent(),[3,6];case 4:return m=A.sent(),r.error=m,r.hasError=!0,[3,6];case 5:return Mn(r),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.qWt=function(){var t=this;if(!this.tZt){var n=function(){t.tZt=void 0};this.iZt=new ca,this.iZt.Sy(this.zQ.ly),this.tZt=ea(this.eZt(this.iZt.ly),this.iZt).catch(this.LGt).then(n,n)}},i.HWt=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return null==(n=t.iZt)||n.Ty(),i=t.tZt,t.tZt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.eZt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:ta(t),i=n.AGt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.LVt,(o=u.xVt).iLt?r.push(o.UQt()):(a=s.ZFt())?"ilt"===a.YA?(o.AVt(a),r.push(o.UQt())):"pzt"===a.YA&&(o.wVt(a),r.push(o.UQt())):r.push(s.hYt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,ra(st.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.KWt=function(){var t=this;if(!this.sZt){this.nZt=new ca,this.nZt.Sy(this.zQ.ly);var n=function(){t.sZt=void 0};this.sZt=ea(this.rZt(this.nZt.ly),this.nZt).catch(this.LGt).then(n,n)}},i.XWt=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return null==(n=t.nZt)||n.Ty(),i=t.sZt,t.sZt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.rZt=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,d;return pn(this,(function(l){switch(l.label){case 0:for((i=n.AGt).forEach((function(t){return t.mct()})),r=n.cz.LE,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.xVt,c=0,h=o.EVt;c<h.length;c++)f=h[c],v=f.jQt?e:u,f.iLt?v.push(f.UQt()):f.QQt(r)||((d=a.NVt(f.YA))?"ilt"===d.YA&&d.bzt===n.wGt?(f.oft(d),v.push(f.UQt())):"zLt"===d.YA&&d.bzt===n.wGt&&(f.F4(d),v.push(f.UQt())):u.push(a.IVt(f.YA)));return 0!==e.length?[3,2]:[4,n.oZt(i,r,t)];case 1:if(l.sent())return[2,"continue"];l.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.EVt.length>0&&t.EVt.every((function(t){return t.QQt(r)}))}))&&n.vV.I3(),[2,"break"]):[4,ra(st.race(ln(e).concat(ln(u))),t)];case 3:return l.sent(),[2]}}))},r.label=1;case 1:return[5,_n(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.oZt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,k,M;return pn(this,(function(b){switch(b.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.eft(n),c=0,h=o.EVt;c<h.length;c++)if((f=h[c]).jQt)if(void 0!==(v=o.xVt.NVt(f.YA))){if(v.bzt===r.wGt)return[2,!1];e.push(v)}else{if(o.iLt||o.BVt(n,a,r.UG.ZK)||!f.FQt(n,a))return[2,!1];void 0!==(d=f.OQt.IQt)&&u.push(d)}return 0===e.length?[2,!1]:(l=Qo(e,(function(t){return t.bzt})).bzt,e.every((function(t){return"zLt"===t.YA&&t.bzt===l}))?(g=Po(e,(function(t){return t.lB})).lB,w=ln(e).concat(ln(u)),[4,r.hZt(w)]):[3,6]);case 1:return y=b.sent(),r.aZt(y)?(CW.XRt(xW,"Seamless switch from",r.vV.md,"to",y),[4,r.vV.D$(y)]):[3,3];case 2:return b.sent(),CW.XRt(xW,"Seamless switch complete."),[3,5];case 3:return[4,r.uZt(g,y,i)];case 4:b.sent(),b.label=5;case 5:return r.wGt=e[0].bzt,[3,7];case 6:for(m=0;m<t.length;m++)for(A=t[m],p=0,_=A.EVt;p<_.length;p++)for(k=_[p],M=A.xVt.NVt(k.YA);void 0!==M&&("zLt"!==M.YA||M.bzt!==l);)CW.XRt(xW,"Removing append for other discontinuity, expecting "+l,M),A.xVt.VQt(M),M=A.xVt.NVt(k.YA);b.label=7;case 7:return[2,!0]}}))}))()},i.aZt=function(t){return this.BGt===$M.Tz||this.BGt!==$M.Sz&&this.vV.N$(t)},i.hZt=function(t){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.DVt.cht})),e=r.map((function(t){return{VN:t}})),u=Uo(t,(function(t){return t.DVt.gzt})),(i=u).push.apply(i,ln(n.NIt.Tr.xUt)),[4,aZ(n.MGt.contentProtection,r,u,n.OQ,n.MGt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.vV&&n.vV.md.yV.length>0&&(s=n.vV.md.yV),[2,{YA:OA.FQ,E5:e,yV:s,U5:n.MGt.useManagedMediaSource}]}}))}))()},i.uZt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:if(u=r.vV,s=u.ct,!(o=r.TE.length>0&&r.LE<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),CW.XRt(xW,"Marking end of stream and waiting for ended to switch discontinuity."),u.I3(),f.label=2;case 2:return!r.cz.OE&&r.cz.LE<t?[4,r.cz.zy([Ma.Eb,Ma.qy],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.w3(),u.T5(s),a;case 6:CW.XRt(xW,"Perform hard switch from",null==(e=r.vV)?void 0:e.md,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.cz.ktt(),r.LE<t&&r.cz.Wb(t,!0,!0),r.b5=void 0,r.y5=void 0,r.WWt(),[4,r.cz.tr()];case 8:return f.sent(),[4,r.cz.$n(n)];case 9:return r.vV=f.sent(),r.N5(),r.uNt(),r.cNt(),r.vV.A5&&(r.b5=new jH(lw.NI,r.vV.A5,r.CGt?r.vpt:void 0,r.jGt?r.ojt:void 0),r.b5.O3(t-1,t)),r.vV.p5&&(r.y5=new jH(lw.SI,r.vV.p5,r.CGt?r.vpt:void 0,r.jGt?r.ojt:void 0),r.y5.O3(t-1,t)),r.WWt(),[3,11];case 10:return o&&va(r.cz.Pk()),r.cz.Ltt(),[7];case 11:return r.uGt&&(c=void 0!==r.y5&&void 0===r.PGt,h=c?[r.b5,r.y5]:[r.b5],r.uGt.CVt(h)),r.PGt&&r.PGt.CVt([r.y5]),CW.XRt(xW,"Hard switch complete."),[2]}}))}))()},i.xWt=function(t){return ra(da(Uo(this.AGt,(function(t){return t.EVt.map((function(t){return t.UQt()}))}))),t)},i.gIt=function(){var t=this.Tk,n=this.yk;this.bDt===t&&this.MDt===n||(this.bDt=t,this.MDt=n,this.yo(new xA))},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return CW.Hj(zH,"Unloading the player."),t.cZt(),t.nDt(),[4,t.tr()];case 1:return n.sent(),t.cz.zV=void 0,t.dWt.gn(),[4,t.LV.gn()];case 2:return n.sent(),[4,t.vpt.gn()];case 3:return n.sent(),[4,t.ojt.gn()];case 4:return n.sent(),t.Oz.gn(),t.Pz.gn(),t.Ul.gn(),t.lZt.gn(),t.NDt.wy(),t.$Qt.wy(),t.FGt&&(t.FGt.wy(),t.FGt=void 0),[2]}}))}))()},i.tr=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return CW.Hj(zH,"Resetting the player."),t.fn(yW._Rt,t.handleBufferingErrorEvent),t.wGt=-1,t.zQ.Ty(),t.w7.Ty(),t.w7=new ca,t.w7.Sy(t.zQ.ly),t.NWt.Ty(),t.NWt=new ca,t.NWt.Sy(t.zQ.ly),n=[t.Ept,t.m7,t.kGt].filter(ci),[4,st.all(n.map((function(t){return t.catch(qt)})))];case 1:return i.sent(),t.Ept=void 0,t.m7=void 0,t.kGt=void 0,t.hGt=void 0,t.oGt=void 0,t.pGt=void 0,t.iWt=void 0,t.sWt=void 0,t.rWt=void 0,t.oWt=void 0,t.sWt=void 0,t.rWt=void 0,t.oWt=void 0,t.aV=void 0,t.QG.tr(),t.SWt=[],t.HGt(void 0),t.LWt(),[4,t.CWt()];case 2:return i.sent(),t.PGt&&(t.PGt.wy(),t.PGt=void 0),t.uGt&&(t.uGt.wy(),t.uGt=void 0),t.uWt&&(t.uWt.wy(),t.uWt=void 0),t.y5=void 0,t.b5=void 0,t.vV=void 0,t.NIt&&(t.NIt.wy(),t.NIt=void 0),t.QGt&&(t.Ul.eV(t.QGt.nt),t.QGt=void 0),[4,t.LV.tr()];case 3:return i.sent(),[4,t.vpt.tr()];case 4:return i.sent(),[4,t.ojt.tr()];case 5:return i.sent(),t.cz.jV(),[4,t.cz.tr()];case 6:return i.sent(),t.MGt=void 0,t.IGt=!1,t.I5=GM.PP(),t.TGt=void 0,t.yDt=void 0,t.bDt=0,t.MDt=0,t.NGt=void 0,t.yIt=!1,t.s7=!1,Kt.Rg(t.DGt),t.iIt=!1,t.dZt=!1,t.ZNt=0,t.BGt=$M.Mz,t.lZt.tr(),t.fZt(),t.yo(new Nb(t.LE,t.fk)),[2]}}))}))()},i.fZt=function(){for(var t=0,n=this.Oz.AL;t<n.length;t++){n[t].gn()}for(var i=0,r=this.Pz.AL;i<r.length;i++){r[i].gn()}for(var e=0,u=this.Ul.AL;e<u.length;e++){u[e].gn()}this.Oz.tr(),this.Pz.tr(),this.Ul.tr(),this.aWt.clear()},i.gZt=function(){this.lZt.yn(RH,this.Ds),this.lZt.yn(zA.oP,this.vz),this.lZt.yn(zA.rP,this._Zt),this.lZt.yn(zA.iP,this.vZt),this.UG.yn("RK",this.EDt),this.UG.yn("UK",this.kDt),this.cz.yn(BH,this.Ds),this.cz.yn(eA.ua,this.LDt),this.cz.yn(Ma.Yy,this.handleContentProtectionErrorEvent),this.cz.yn(Ma.Zy,this.wZt),this.cz.yn(Ma.qy,this.Sh),this.cz.yn(Ma.wb,this.fOt),this.cz.yn(Ma.so,this.mZt),this.cz.yn(Ma.mb,this.pZt),this.cz.yn(zA.lL,this.rF),this.cz.yn(Ma.Eb,this.C9),this.cz.yn(Ma.Mb,this.We),this.cz.yn(Ma.bb,this.YV),this.cz.yn(Ma.yb,this.AZt),this.cz.yn(Ma.kb,this.yZt)},i.cZt=function(){this.lZt.fn(RH,this.Ds),this.lZt.fn(zA.oP,this.vz),this.lZt.fn(zA.rP,this._Zt),this.lZt.fn(zA.iP,this.vZt),this.UG.fn("RK",this.EDt),this.UG.fn("UK",this.kDt),this.cz.fn(BH,this.Ds),this.cz.fn(eA.ua,this.LDt),this.cz.fn(Ma.Yy,this.handleContentProtectionErrorEvent),this.cz.fn(Ma.Zy,this.wZt),this.cz.fn(Ma.qy,this.Sh),this.cz.fn(Ma.wb,this.fOt),this.cz.fn(Ma.so,this.mZt),this.cz.fn(Ma.mb,this.pZt),this.cz.fn(zA.lL,this.rF),this.cz.fn(Ma.Eb,this.C9),this.cz.fn(Ma.Mb,this.We),this.cz.fn(Ma.bb,this.YV),this.cz.fn(Ma.yb,this.AZt),this.cz.fn(Ma.kb,this.yZt)},Ct(n,[{key:"Az",get:function(){var t,n=[this.oGt,this.hGt].filter(ci);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.NE)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.wRt._k;if(0!==s.V){var o=s.jn(s.V-1)+u.wRt.$Tt,a=u.wRt.zBt,c=o+(null!=a?a:0)-this.LE;(!i||i<c)&&(i=c)}}return i}}},{key:"vGt",get:function(){for(var t=[this.hGt,this.oGt].filter(ci),n=0;n<t.length;n++){var i=t[n];if(!i.wRt.Tzt)return!1;var r=i.wRt.Wot,e=r[r.length-1];if(e&&e.bzt!==this.wGt)return!1}return!0}},{key:"DRt",get:function(){return this.lGt}},{key:"FRt",get:function(){return this.hGt}},{key:"VRt",get:function(){return this.oGt}},{key:"mGt",get:function(){return this.pGt}},{key:"ht",get:function(){return this.Oz}},{key:"TE",get:function(){return this.cz.TE.ks()}},{key:"LRt",get:function(){var t=[];if(this.lGt)for(var n=this.cz.LE,i=0,r=this.AGt;i<r.length;i++)for(var e=0,u=r[i].EVt;e<u.length;e++){var s=u[e].YQt(n);s&&!Oo(t,s)&&t.push(s)}return t}},{key:"NE",get:function(){if(this.lGt){var t=this.cz.LE;return this.lGt.Pzt(t)}},set:function(t){if(t&&this.lGt){var n=this.lGt.zzt(t);void 0!==n&&this.CE(n,{yGt:!1,bGt:!0})}}},{key:"bt",get:function(){return this.MGt}},{key:"LE",get:function(){var t;return null!=(t=this.TGt)?t:this.cz.LE},set:function(t){this.CE(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.vGt)return null!=(s=null!=(u=null!=(e=null==(t=this.hGt)?void 0:t.wRt.ct)?e:null==(n=this.oGt)?void 0:n.wRt.ct)?u:null==(r=this.NIt)||null==(i=r.iQt)?void 0:i.wRt.ct)?s:[this.hGt,this.oGt].filter(ci).every((function(t){return function(t){if(void 0===t)return!1;return t.wRt.Wot.length>0&&!t.wRt.Tzt}(t)}))?1/0:NaN;var o=this.cz.ct;if(T(o)){var a,c,h=null==(c=this.NIt)||null==(a=c.iQt)?void 0:a.wRt.ct;if(void 0!==h)return h}return o}},{key:"OE",get:function(){if(!this.vGt)return!1;if(this.wk&&this.IGt){var t,n,i=this.LE,r=null==(t=this.hGt)?void 0:t.wRt.ct,e=null==(n=this.oGt)?void 0:n.wRt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.cz.OE}},{key:"lt",get:function(){return this.dV}},{key:"zE",get:function(){return this.fV}},{key:"UE",get:function(){}},{key:"FE",get:function(){return!1}},{key:"VE",get:function(){return ys({},{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.cz.GE(),{Yz:this.ZNt,Fz:this.UG.NK.FY})}},{key:"Tr",get:function(){var t;return null==(t=this.NIt)?void 0:t.Tr}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"XE",get:function(){return this.WTt},set:function(t){this.WTt!==t&&(this.WTt=t,this.yo(t?new hY:new fY))}},{key:"KE",get:function(){return this.cz.KE}},{key:"$E",get:function(){return this.cz.$E},set:function(t){CW.Hj(zH,"Setting playback rate to "+t+"."),this.cz.$E=t}},{key:"rk",get:function(){return this.JNt.ks()}},{key:"JNt",get:function(){return this.cz.rk}},{key:"ck",get:function(){return this._V},set:function(t){this._V!==t&&(this._V=t,this.xGt())}},{key:"fk",get:function(){var t=this.cz.fk;return this.iIt&&(t=k.max(UA.Xn,t)),t}},{key:"_k",get:function(){return this.GNt.ks()}},{key:"GNt",get:function(){var t=this.I5,n=[this.hGt,this.oGt].filter(ci);if(t.V>0&&n.some((function(t){return!t.wRt.Tzt}))){var i=this.JNt,r=t.jn(t.V-1);if(i.V>0&&i.jn(i.V-1)>r){var e=i.jn(i.V-1),u=GH(n);u.V>0&&(e=k.min(e,u.jn(u.V-1))),t=t.pP(new GM([r,e]))}}return t}},{key:"wk",get:function(){var t;return null!=(t=this.NGt)?t:this.cz.wk}},{key:"wV",get:function(){}},{key:"nt",get:function(){return this.Ul}},{key:"rt",get:function(){return this.Pz}},{key:"yk",get:function(){var t,n;return this.cz.yk||(null==(n=this.lGt)||null==(t=n.cxt)?void 0:t.Ti)||0}},{key:"Tk",get:function(){var t,n;return this.cz.Tk||(null==(n=this.lGt)||null==(t=n.cxt)?void 0:t.ji)||0}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){CW.Hj(zH,"Setting volume to "+t+"."),this.cz.Nk=t}},{key:"Ek",get:function(){return this.QG}},{key:"xk",get:function(){return!1},set:function(t){}},{key:"pV",get:function(){return this.AV}},{key:"RGt",get:function(){var t,n,i=null==(t=this.PGt)?void 0:t.RVt,r=null==(n=this.uGt)?void 0:n.RVt;return i?r?r.Sn(i):i:r}},{key:"AGt",get:function(){return[this.PGt,this.uGt,this.uWt].filter(ci)}}]),n}(Aa),QH=function(){function t(){}var n=t.prototype;return n.nG=function(t,n){return yn((function(){return pn(this,(function(n){return cb(t.type)?[2,!t.useNativePlayback]:[2,!1]}))}))()},n.rG=function(t){return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,Pp(t,!0)];case 1:return[2,n.sent()]}}))}))()},t}(),YH=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ta=n,r}return Et(n,t),n.prototype.CDt=function(){this.yo(new BA(this.LE,this.fk))},Ct(n,[{key:"fk",get:function(){return this.ta.fk}}]),n}(XA);function GH(t){return t.reduce((function(t,n){return t.Sn(n.wRt.MBt)}),new GM([0,1/0]))}function VH(t){var n=Do(t,(function(t){return t.mRt})),i=t.filter((function(t){return t.pRt})),r=Kt.LA,e=i.map((function(t){return t.gs})).filter(ci),u=MH(e,r);return u?Do(i,(function(t){return t.gs===u})):n}function FH(t,n,i,r){void 0===r&&(r=Rb.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.cht&&t.cht.bxt&&hS(t.cht.bxt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=WH(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===Y(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=WH(t,r);if(void 0!==a)return a}return t}(t,n),u=XH(e,r);switch(i.BK.type){case oI.BANDWIDTH:var s=i.VK,o=u.filter((function(t){return t.FY<=s}));if(o.length>0)return Qo(o,(function(t){return t.FY}));case oI.PERFORMANCE:return Po(u,(function(t){return t.FY}));case oI.QUALITY:return Qo(u,(function(t){return t.FY}))}}function WH(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.cht&&t.cht.Axt&&hS(t.cht.Axt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===Y(e))return e.v}}function ZH(t){var n;return null!=(n=VH(t))?n:t[0]}function XH(t,n){return t.filter((function(t){return HH(t,n)}))}function HH(t,n){var i=n+UH,r=0===t.tPt.length||t.tPt.some((function(t){return t.wRt.QBt<Kt.Og()-i})),e=0===t.$Rt.length||t.$Rt.some((function(t){return t.wRt.QBt<Kt.Og()-i}));return r&&e}function KH(t,n){if(!n||n.wRt.Tzt)return!1;var i=n.wRt.Wot;return 0!==i.length&&i[0].lB>t}Q(),Nt(),Q(),Nt(),An(),Tn();var JH=function(){function t(){}var n=t.prototype;return n.KQt=function(t,n,i){return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new N(e)];case 3:throw u.sent(),new md(wd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.wy=function(){},t.PS=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();Q(),Nt(),tn(),Q(),Nt(),An(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),St();var qH=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return Et(n,t),n}(ka),$H=["message","messageerror","error"];Q(),Nt(),St();var tK=function(t){function n(n){var i;return(i=t.call(this,eA.ua)||this).error=n,i}return Et(n,t),n}(ka),nK=function(t){function n(n){var i;return(i=t.call(this)||this).IZt=void 0,i.DZt=[],i.LZt=function(t){if(i.TZt)t.kZt();else{i.IZt=t,i.IZt.yn($H,i.Ds);for(var n=0,r=i.DZt;n<r.length;n++){var e=r[n];t.NZt(e.Pb,e.EZt)}Ro(i.DZt)}},i.xZt=function(t){if(!i.TZt){var n=t instanceof A?t:new A("Could not create Worker.");i.yo(new tK(n)),i.kZt()}},i.SZt=new ca,n(i.SZt.ly).then(i.LZt,i.xZt),i}Et(n,t);var i=n.prototype;return i.NZt=function(t,n){this.TZt||(void 0!==this.IZt?this.IZt.NZt(t,n):this.DZt.push({Pb:t,EZt:n}))},i.kZt=function(){this.TZt||(this.SZt.Ty(),Ro(this.DZt),void 0!==this.IZt&&this.IZt.kZt())},Ct(n,[{key:"TZt",get:function(){return this.SZt.ly.sy}}]),n}(Aa);Q(),Nt(),Q(),Nt(),St();var iK=function(t){function n(n,i){var r;return(r=t.call(this)||this).CZt=function(t){r.yo(new qH("message",t.data))},r.jZt=function(t){r.yo(new qH("messageerror",t.data))},r.ytt=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof A?t.error:new A(t.message);r.yo(new tK(n)),r.kZt()},r.IZt=new D(n,i),r.IZt.addEventListener("message",r.CZt),r.IZt.addEventListener("messageerror",r.jZt),r.IZt.addEventListener("error",r.ytt),r}Et(n,t);var i=n.prototype;return i.NZt=function(t,n){n?this.IZt.postMessage(t,n):this.IZt.postMessage(t)},i.kZt=function(){this.Bo(),this.IZt.removeEventListener("message",this.CZt),this.IZt.removeEventListener("messageerror",this.jZt),this.IZt.removeEventListener("error",this.ytt),this.IZt.terminate()},n}(Aa);tn(),Q(),Nt(),St(),tn();var rK=0,eK=function(t){function n(n,i){var r;(r=t.call(this)||this).RZt=function(){r.OZt.removeEventListener("load",r.RZt),r.OZt.contentWindow.postMessage({type:"initialize",id:r.aS,script:r.zZt},"*")},r.PZt=function(t){t.origin===r.BZt&&t.data.id===r.aS&&("initialized"===t.data.type||("error"===t.data.type?(r.yo(new tK(new A(t.data.data.message))),r.kZt()):r.yo(new qH("message",t.data.data))))},r.aS=rK++,r.zZt=n;var e=Kt.Ah("iframe.html",i);return r.OZt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.BZt=e.origin,r.OZt.addEventListener("load",r.RZt),self.addEventListener("message",r.PZt),r}Et(n,t);var i=n.prototype;return i.NZt=function(t,n){n?this.OZt.contentWindow.postMessage({type:"message",data:t},"*",n):this.OZt.contentWindow.postMessage({type:"message",data:t},"*")},i.kZt=function(){var t;this.OZt.removeEventListener("load",this.RZt),self.removeEventListener("message",this.PZt),null==(t=this.OZt.contentWindow)||t.postMessage({type:"terminate"},"*"),ki(this.OZt)},n}(Aa);function uK(t,n,i){var r=Kt.TA(t,n);return new nK((function(t){return function(t,n,i,r){return oK.apply(this,arguments)}(r,n,i,t)}))}var sK=!0;function oK(){return oK=yn((function(t,n,i,r){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,aK(e=new iK(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.kZt(),na(u),[3,3];case 3:if(!sK||!Pd)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Kt.wE.hI({zu:t,xI:Tl.GET,oI:Gd.ON,ly:r})];case 5:return[4,f.sent().UN(r)];case 6:return s=f.sent(),[3,8];case 7:return na(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=Pd([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,aK(e=new iK(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.kZt(),na(c),sK=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,aK(e=new eK(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.kZt(),h;case 16:return[2]}}))})),oK.apply(this,arguments)}function aK(t,n){return cK.apply(this,arguments)}function cK(){return cK=yn((function(t,n){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,t.zy(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new md(wd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return li(t)&&"8.14.0"===t.UZt}(i.data))throw new md(wd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (8.14.0).");return[2,i]}}))})),cK.apply(this,arguments)}Q(),Nt();var hK=function(t){return t.QZt="KQt",t.FZt="MFt",t}({}),fK=function(t){return t.YZt="VZt",t.GZt="WZt",t}({}),vK=function(){function t(t){var n=this;this.IZt=void 0,this.JZt=0,this.nHt=As(),this.qZt=function(t){var i=t.data,r=i.rHt,e=n.nHt.get(r);if(e)if(n.nHt.delete(r),i.oHt===fK.YZt)e.sM(i.hHt);else if(i.oHt===fK.GZt){var u=i.aHt,s=i.uHt?new A(i.uHt):void 0,o=new md(wd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.nM(o)}},this.KZt=function(t){var i=new md(wd.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.wy(i)},this.XZt=t;try{this.HZt=Kt.TA("theoplayer.d.js",t)}catch(t){throw new md(wd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.ZZt=function(){var t=uK(this.HZt,this.XZt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.qZt),t.yn("error",this.KZt),t},n.KQt=function(t,n,i){var r=""+ ++this.JZt,e={$Zt:hK.QZt,tHt:r,iHt:t,eHt:n,sHt:i},u=new sh;return this.nHt.set(r,u),null!=this.IZt||(this.IZt=this.ZZt()),this.IZt.NZt(e),u.rM},n.wy=function(t){void 0===t&&(t=new qo),this.nHt.forEach((function(n){return n.nM(t)})),this.nHt.clear(),this.IZt&&(this.IZt.kZt(),this.IZt=void 0)},t}();function dK(t){return JH.PS()?new JH:new vK(t)}function lK(t){var n=Do(t.boxes,dE);if(n){var i=Do(n.boxes,lE);if(i)return i.handlerType}}function gK(t){var n,i=new zv;return(n=i.boxes).push.apply(n,ln(t.boxes)),i}function wK(t){var n,i=new Hf;return(n=i.boxes).push.apply(n,ln(t.boxes)),i}Q(),Nt(),St(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),gn(),tn();var yK=8;function mK(t,n){for(var i=function(t){var n,i=new av;return(n=i.boxes).push.apply(n,ln(t.boxes)),i}(t),r=pK(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new _f(new N(n.getSize()-yK));else if(gE(u)){var s=u,o=So(s.boxes,(function(t){return t instanceof Zf&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=wK(s);c.boxes[o]=new _f(new N(a.getSize()-yK)),i.boxes[e]=c}}}return i}function AK(t,n){for(var i=function(t){var n,i=new pv;return(n=i.boxes).push.apply(n,ln(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(mE(e)){var u=Do(e.boxes,AE);u&&u.trackId===n&&(i.boxes[r]=new _f(new N(e.getSize()-yK)))}}return i}function pK(t){return Do(t.boxes,vE).trackId}function _K(t,n,i,r){for(var e=Do(t.boxes,AE),u=i.OU(n).fU(),s=fr.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof vv){s=vr(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof fv){s=vr(fr.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=Do(t.boxes,pE);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}Q(),Nt();var kK="Mp4Transmuxer",MK=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).G4=void 0,n.cHt=void 0,n.gHt=void 0,n._Ht=void 0,n.fHt=void 0,n}Et(n,t);var i=n.prototype;return i.pVt=function(t,n){ta(n);var i=t.IRt,r=HE(Rc(t.pzt.rI.rI));if(!r)throw new A("Mp4Transmuxer - Unable to parse "+i.YA+" MP4 initializer.");this.G4=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.j2),i||(i=u.C2)}if(n||i)return{Axt:n,bxt:i,OPt:void 0};return}(r);e&&this.bVt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.O2)return r.O2}return}(r);void 0!==u&&this.MVt(i,u);var s=function(t){var n,i,r,e,u,s=Yv(t),o=Do(s.boxes,hE),a=o.boxes.filter(fE),c=Do(a,(function(t){return lK(t)===Lf.AUDIO})),h=Do(a,(function(t){return lK(t)===Lf.VIDEO})),f={Axt:{Fj:c?pK(c):void 0},bxt:{Fj:h?pK(h):void 0}},v=null==(n=Do(o.boxes,gE))?void 0:n.boxes.filter(wE),d=v?{Axt:null!=(i=Do(v,(function(t){return t.trackId===f.Axt.Fj})))?i:void 0,bxt:null!=(r=Do(v,(function(t){return t.trackId===f.bxt.Fj})))?r:void 0}:void 0;if(d&&(f.Axt.dR=null==(e=d.Axt)?void 0:e.defaultSampleDuration,f.bxt.dR=null==(u=d.bxt)?void 0:u.defaultSampleDuration),!c||!h)return{Axt:c?t:void 0,bxt:h?t:void 0,_Q:f};var l=gK(s),g=gK(s),w=s.boxes.indexOf(o);l.boxes[w]=mK(o,h),g.boxes[w]=mK(o,c);var y=l.serialize().join(),m=g.serialize().join();return{Axt:y,bxt:m,_Q:f}}(t.pzt.rI.rI);if(this.cHt=s._Q,s.bxt){var o=Do(r.Z,(function(t){return t.Fj===s._Q.bxt.Fj})),a={YA:"zLt",rI:{YA:HI.v$,rI:s.bxt},Fut:lw.NI,bzt:t.bzt,DVt:{cht:'video/mp4; codecs="'+o.C2+'"',gzt:t.gzt},lB:t.lB,IRt:t.IRt,ZQt:t.pzt.ZQt};this.QYt(a)}if(s.Axt){var c=Do(r.Z,(function(t){return t.Fj===s._Q.Axt.Fj})),h={YA:"zLt",rI:{YA:HI.v$,rI:s.Axt},Fut:lw.SI,bzt:t.bzt,DVt:{cht:'audio/mp4; codecs="'+c.j2+'"',gzt:t.gzt},lB:t.lB,IRt:t.IRt,ZQt:t.pzt.ZQt};this.QYt(h)}return st.resolve()},i.yVt=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,k,M,b,T;return pn(this,(function(N){switch(N.label){case 0:if(ta(n),r=t.ilt.ZQt,CW.Hj(kK,"Transmuxing fMP4: "+rZ(r.Xyt)),e=t.ilt.rI,u=bK(e.rI,i.G4),void 0!==(s=Yo(u.map((function(t){return t.Est})),Ey))&&(r.kst=s,i.SVt(t.IRt)),i.OUt.uUt(t.bzt))return[3,2];if(o=Iy.BU(r.lB),u.length>0){for(a=Yo(u.map((function(t){return t.lHt})),Ey),c=0,h=i.dVt;c<h.length;c++)f=h[c],i.OUt.yUt(t.bzt,f,a,o,TK(r),!1);i.SVt(t.IRt)}return i.OUt.uUt(t.bzt)?[3,2]:[4,ra(i.OUt.lUt(t.bzt),n)];case 1:N.sent(),N.label=2;case 2:return v=i.OUt.wUt(t.bzt),d=r.kst?i.OUt.mUt(r.kst,r).BB():r.lB,l=hH(r,d),g=fH(r,l),y={$Yt:l,tVt:g,lB:d,ct:null!=(w=r.ct)?w:0,rQ:v.BB(),bzt:t.bzt,IRt:t.IRt,ZQt:t.ilt.ZQt},m=function(t,n){if(void 0===n.Axt.Fj)return{Axt:void 0,bxt:t};if(void 0===n.bxt.Fj)return{Axt:t,bxt:void 0};for(var i=Yv(t),r=gK(i),e=gK(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];yE(s)&&(r.boxes[u]=AK(s,n.bxt.Fj),e.boxes[u]=AK(s,n.Axt.Fj))}var o=r.serialize().join(),a=e.serialize().join();return{Axt:o,bxt:a}}(e.rI,i.cHt),m.bxt&&(p=i.cHt.bxt.Fj,_=Do(i.G4.Z,(function(t){return t.Fj===p})),k=Do(u,(function(t){return t.Fj===p})),M=i.dHt(m.bxt,_,k,null==(A=i.cHt)?void 0:A.bxt.dR,r),i.fHt=_,i.TVt(t.IRt,r,k.Est.qB(s)),b=ys({YA:"ilt",rI:{YA:HI.v$,rI:M},Fut:lw.NI},y),i.QYt(b)),m.Axt&&(T=ys({YA:"ilt",rI:{YA:HI.v$,rI:m.Axt},Fut:lw.SI},y),i.QYt(T)),i.gHt=r,i._Ht=u,[2]}}))}))()},i.dHt=function(t,n,i,r,e){if(!TK(e))return t;if(!this.gHt||!this.fHt||!this._Ht)return t;var u=this.fHt.Fj,s=Do(this._Ht,(function(t){return t.Fj===u})),o=this.OUt.mUt(s.vHt,this.gHt),a=this.OUt.mUt(i.Est,e).qB(o).OU(n.xj);if(a.VB(Iy.sU))return t;if(a.UB(Iy.BU(.5)))return t;var c=cX(e)?e:e.Xzt;return CW.XRt(kK,"Stretching first video frame of segment #"+c.nzt+" to fill gap of "+a.BB()+"s"),function(t,n,i,r){var e=Yv(t),u=Do(e.boxes,yE);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof mv&&_K(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof mv&&_E(l,f)}}return e.serialize().join()}(t,n.xj,a,r)},n}(cH);function bK(t,n){var i=Nm(jm.dj(Rc(t)),pm.mC);if(!i)throw new A("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.MR||0===e.bR.length||0===e.bR[0].kR.length)return"continue";for(var u=e.nj.Fj,s=Do(n.Z,(function(t){return t.Fj===u})),o=0,a=1/0,c=0,h=e.nj.dR||0,f=0,v=e.bR;f<v.length;f++)for(var d=0,l=v[f].kR;d<l.length;d++){var g,w=l[d],y=w.LR||0,m=o+y,A=(o+=null!=(g=w.ct)?g:h)+y;m<a&&(a=m),A>c&&(c=A)}var p=Iy.tU(e.MR.MR,s.xj);r.push({Fj:u,lHt:p,Est:p.Kz(Iy.iU(a,s.xj)),wHt:p.Kz(Iy.iU(o,s.xj)),vHt:p.Kz(Iy.iU(c,s.xj))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function TK(t){return cX(t)?t.mzt:0===t.Kzt&&t.Xzt.mzt}var NK="MpegtsTransmuxer",DK=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).THt=void 0,u.NHt=void 0,u.DHt=void 0,u.kHt=void 0,u.IHt=-1,u.EHt=-1,u.yHt=void 0,u.bHt=ps(),u.lD=n,u}Et(n,t);var i=n.prototype;return i.pVt=function(n,i){return t.prototype.pVt.call(this,n,i)},i.vVt=function(n,i){if(t.prototype.vVt.call(this,n,i),!this.lD.mHt()){var r,e=null!=(r=null==i?void 0:i.Xyt)?r:n.Xyt;if(e)/\.(ts|aac|mp3)/i.test(e.zD)&&this.lD.pHt()}},i.AHt=function(t){var n;return t.IRt===this.yHt&&this.bHt.has(t.bzt)?n=this.bHt.get(t.bzt):(n=LH(t.ilt.rI.rI),this.yHt=t.IRt,this.bHt.set(t.bzt,n)),n},i.yVt=function(n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,k,M,b,T,N,D,I,E,S,L,C,j,x,O,z;return pn(this,(function(R){switch(R.label){case 0:if(ta(i),e=r.AHt(n),u=n.ilt,e!==SH.iGt&&e!==SH.eGt)return[2,t.prototype.yVt.call(r,n,i)];if(u.ZQt.gzt.some(EK))throw new md(wd.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.lD.pHt(),e!==SH.iGt?[3,2]:(CW.Hj(NK,"Transmuxing MPEG-TS: "+rZ(u.ZQt.Xyt)),[4,s.MHt({data:u.rI.rI,metadata:r.THt})]);case 1:return o=R.sent(),[3,4];case 2:return CW.Hj(NK,"Transmuxing raw audio: "+rZ(u.ZQt.Xyt)),[4,s.SHt({data:u.rI.rI,metadata:r.THt})];case 3:o=R.sent(),R.label=4;case 4:if(ta(i),r.bVt(n.IRt,{Axt:o.metadata.audio_codec,bxt:o.metadata.video_codec,OPt:void 0}),o.metadata.video_frame_rate&&r.MVt(n.IRt,o.metadata.video_frame_rate),a=SK(o.metadata.first_decode_timestamp),c=SK(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?SK(o.metadata.first_video_presentation_timestamp):void 0,u.ZQt.kst=c,r.SVt(n.IRt),void 0!==h&&r.TVt(n.IRt,u.ZQt,function(t,n){var i=t.qB(n);return i.WB(Iy.sU)&&(i=i.Kz(jy())),i}(h,c)),r.OUt.uUt(n.bzt))return[3,6];for(f=Iy.BU(u.ZQt.lB),v=0,d=r.dVt;v<d.length;v++)l=d[v],r.OUt.yUt(n.bzt,l,a,f,TK(u.ZQt),!0);return r.SVt(n.IRt),r.OUt.uUt(n.bzt)?[3,6]:[4,ra(r.OUt.lUt(n.bzt),i)];case 5:R.sent(),R.label=6;case 6:if(g=r.OUt.AUt(a,u.ZQt),r.THt=o.metadata,w=r.OUt.mUt(c,u.ZQt).BB(),y=hH(u.ZQt,w),m=fH(u.ZQt,y),p={$Yt:y,tVt:m,lB:w,ct:null!=(A=u.ZQt.ct)?A:0,rQ:g.BB(),bzt:n.bzt,IRt:n.IRt,ZQt:u.ZQt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(_=0,k=r.dVt;_<k.length;_++)M=k[_],b=ys({YA:"ilt",rI:void 0,Fut:M},p),r.QYt(b);return[2]}return T=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.NHt&&r.IHt===n.bzt&&Kc(r.NHt,o.data.audio_init)||(N=r.OUt.mUt(u.ZQt.kst,u.ZQt).BB(),D={YA:"zLt",rI:{YA:HI.v$,rI:o.data.audio_init},Fut:lw.SI,bzt:n.bzt,DVt:{cht:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',gzt:u.ZQt.gzt},lB:N,IRt:n.IRt,ZQt:u.ZQt},r.NHt=o.data.audio_init,r.IHt=n.bzt,r.QYt(D)),I=ys({YA:"ilt",rI:{YA:HI.v$,rI:o.data.audio_media},Fut:lw.SI},p),r.QYt(I)):n.ilt.ZQt.Zzt&&Oo(r.dVt,lw.SI)&&(E=ys({YA:"ilt",rI:void 0,Fut:lw.SI},p),r.QYt(E)),void 0!==o.data.video_media?(!o.data.video_init||r.DHt&&r.EHt===n.bzt&&Kc(r.DHt,o.data.video_init)||(S=r.OUt.mUt(u.ZQt.kst,u.ZQt).BB(),L={YA:"zLt",rI:{YA:HI.v$,rI:o.data.video_init},Fut:lw.NI,bzt:n.bzt,DVt:{cht:'video/mp4; codecs="'+o.metadata.video_codec+'"',gzt:u.ZQt.gzt},lB:S,IRt:n.IRt,ZQt:u.ZQt},r.DHt=o.data.video_init,r.EHt=n.bzt,r.kHt=HE(Rc(o.data.video_init)),r.QYt(L)),C=r.kHt.Z[0],j=bK(o.data.video_media,r.kHt)[0],x=r.dHt(o.data.video_media,C,j,void 0,u.ZQt),r.fHt=C,O=ys({YA:"ilt",rI:{YA:HI.v$,rI:x},Fut:lw.NI},p),r.QYt(O),T.push(j)):n.ilt.ZQt.Zzt&&Oo(r.dVt,lw.NI)&&(z=ys({YA:"ilt",rI:void 0,Fut:lw.NI},p),r.QYt(z)),r.gHt=u.ZQt,r._Ht=T,[2]}}))}))()},i.Ty=function(){this.NHt=void 0,this.DHt=void 0,this.IHt=-1,this.EHt=-1,t.prototype.Ty.call(this)},n}(MK),IK=function(){function t(){}return t.prototype.RSt=function(t,n,i){return new DK(this,t,n,i)},t}();function EK(t){return t.xI===nZ.bPt}function SK(t){return Iy.tU(fr.fromBits(t.low,t.high),t.base)}Q(),Nt(),tn(),Q(),Nt();var LK=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({});Jt();var CK=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Wt.mf;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(Ra("AGFzbQEAAAA="))}catch(t){return!1}}();return CK=function(){return t},t};var jK=function(){function t(t){var n=this;this.JZt=0,this.nHt=ps(),this.qZt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.nHt.get(i.requestId);if(!r)return;n.nHt.delete(i.requestId),i.success?r.sM(i.output):r.nM(new md(i.errorCode,i.error))}else i.success||n.wy(new md(i.errorCode,i.error))},this.KZt=function(t){var i=new md(wd.MEDIA_DECODE_ERROR,t.error.message,t.error);n.wy(i)},this.XZt=t;var i=CK()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.HZt=Kt.TA(i,t)}catch(t){throw new md(wd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.IZt=this.ZZt()}var n=t.prototype;return n.MHt=function(t){return this.LHt(LK.MPEGTS_TO_FMP4,t)},n.SHt=function(t){return this.LHt(LK.RAW_AUDIO_TO_FMP4,t)},n.ZZt=function(){var t=uK(this.HZt,this.XZt,{name:"THEOplayer transmux worker"});return t.yn("message",this.qZt),t.yn("error",this.KZt),t},n.LHt=function(t,n){var i=++this.JZt,r={type:t,id:i,input:n},e=new sh;return this.nHt.set(i,e),this.IZt.NZt(r),e.rM},n.wy=function(t){void 0===t&&(t=new qo),this.nHt.forEach((function(n){return n.nM(t)})),this.nHt.clear(),this.IZt.kZt()},t}(),xK=function(t){function n(n){var i;return(i=t.call(this)||this).xHt=n,i.IZt=void 0,i}Et(n,t);var i=n.prototype;return i.mHt=function(){return void 0!==this.IZt},i.pHt=function(){var t;return null!=(t=this.IZt)?t:this.IZt=new jK(this.xHt)},i.wy=function(){this.IZt&&(this.IZt.wy(),this.IZt=void 0)},n}(IK),OK=function(){function t(t){this.xHt=t}return t.prototype.xst=function(){return new xK(this.xHt)},t}();Jt();var zK=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,Wt.qf&&(c.ODt=new dz(c)),c}Et(n,t);var i=n.prototype;return i.jk=function(){return this.cz.jk()},i.gn=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.ODt)||i.gn(),[2]}}))}))()},Ct(n,[{key:"xk",get:function(){return this.cz.xk},set:function(t){this.cz.xk=t}}]),n}(PH),RK=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new vz(n),f=h.sG(lw.NI);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).QV=h,c}return Et(n,t),n.prototype.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.QV.BV(n.cz)];case 2:return i.sent(),[2]}}))}))()},n}(zK),BK=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.nG=function(n,i){var r=this;return yn((function(){return pn(this,(function(e){return Jr(n.useManagedMediaSource)&&(n.useManagedMediaSource||!Wt.Ka&&!Wt.Sg)?[2,t.prototype.nG.call(r,n,i)]:[2,!1]}))}))()},i.rG=function(n){var i=this;return yn((function(){return pn(this,(function(r){return n.clearkey&&!n.fairplay&&Wt.qf?[2,!1]:[2,t.prototype.rG.call(i,n)]}))}))()},n}(QH),UK=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hG=Pk.tx,n}Et(n,t);var i=n.prototype;return i.bx=function(t,n,i,r,e,u,s){return new RK(n,i,e,u,dK(r.libraryLocation),new OK(r.libraryLocation),new jO(XO.Ld.Hot,XO.Ld.Zot,XO.Ld.Wot,XO.Ld.qot),r)},i.oG=function(){return!0},n}(BK);eT(new UK),CW.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},Q(),Nt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt();var PK=function(){function t(){}var n=t.prototype;return n.Iot=function(t,n){return st.resolve(!1)},n.Eot=function(t,n){return st.resolve(void 0)},n.Tot=function(t){return st.resolve(void 0)},n.VJ=function(t){return st.resolve(void 0)},t}(),QK=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jHt=void 0,e.QHt=void 0,e.RHt=void 0,e.rN=new ca,e.FHt=function(){e.yo(new AQ)},e.wc=n,e.NIt=new kX(r,new PK,n.useCredentials,n.src,n.liveOffset),e.NIt.yn(Ma.fb,e.Ds),e.Z9=!1,e}Et(n,t);var i=n.prototype;return i.CHt=function(){var t;return null==(t=this.jHt)?void 0:t.wRt},i.Cn=function(){var t=this;va(Ob((function(){return t.OHt(t.rN.ly)}),this.rN.ly))},i.OHt=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.NIt.sQt(t)];case 1:return i.sent(),n.RHt&&(n.PHt(n.RHt.ji,n.RHt.Ti),n.RHt=void 0),n.Z9=!0,[2]}}))}))()},i.zHt=function(t,n){this.Z9?this.PHt(t,n):this.RHt={ji:t,Ti:n}},i.PHt=function(t,n){var i=this.BHt(t,n),r=null==i?void 0:i.tPt[0];r!==this.jHt&&(this.UHt(),void 0!==r&&(this.jHt=r,this.QHt=new jX(this.NIt,r),this.QHt.aFt()))},i.UHt=function(){this.jHt=void 0,this.QHt&&(this.QHt.wy(),this.QHt=void 0)},i.BHt=function(t,n){var i=Do(this.NIt.Tr.JRt,(function(i){return void 0!==i.cxt&&i.cxt.ji===t&&i.cxt.Ti===n}));return null!=i?i:this.NIt.Tr.JRt[0]},i.gn=function(){this.Bo(),this.rN.Ty(),this.rN.wy(),this.UHt(),this.NIt.wy()},n}(Aa);Q(),Nt(),Zt(),St();var YK=function(t){function n(n){var i;(i=t.call(this)||this).L8=n;for(var r=0;r<aT.length;r++){var e=aT[r];i.L8.yn(e,i.Ds)}return i}Et(n,t);var i=n.prototype;return i.CE=function(t,n){this.LE=t},i.Bk=function(){return this.L8.Bk()},i.Ck=function(){return this.L8.Ck()},i._a=function(){return this.L8._a()},i.Wk=function(t){return this.L8.Wk(t)},i.jk=function(){return this.L8.jk()},i.be=function(){return this.L8.be()},i.Fk=function(){return this.L8.Fk()},i.Yk=function(){return this.L8.Yk()},i.Rk=function(){return this.L8.Rk()},i.Pk=function(){return this.L8.Pk()},i.tr=function(){return this.L8.tr()},i.ka=function(t,n,i){return this.L8.ka(t,n,i)},i.ge=function(){return this.L8.ge()},i.Uk=function(){return this.L8.Uk()},i.Qk=function(){return this.L8.Qk()},i.gn=function(){this.Bo();for(var t=0;t<aT.length;t++){var n=aT[t];this.L8.fn(n,this.Ds)}return this.L8.gn()},Ct(n,[{key:"ht",get:function(){return this.L8.ht}},{key:"TE",get:function(){return this.L8.TE}},{key:"NE",get:function(){return this.L8.NE},set:function(t){this.L8.NE=t}},{key:"bt",get:function(){return this.L8.bt}},{key:"LE",get:function(){return this.L8.LE},set:function(t){this.L8.LE=t}},{key:"ct",get:function(){return this.L8.ct}},{key:"OE",get:function(){return this.L8.OE}},{key:"zE",get:function(){return this.L8.zE}},{key:"UE",get:function(){return this.L8.UE}},{key:"lt",get:function(){return this.L8.lt}},{key:"FE",get:function(){return this.L8.FE}},{key:"VE",get:function(){return this.L8.VE}},{key:"WE",get:function(){return this.L8.WE},set:function(t){this.L8.WE=t}},{key:"XE",get:function(){return this.L8.XE}},{key:"KE",get:function(){return this.L8.KE}},{key:"$E",get:function(){return this.L8.$E},set:function(t){this.L8.$E=t}},{key:"rk",get:function(){return this.L8.rk}},{key:"ck",get:function(){return this.L8.ck},set:function(t){this.L8.ck=t}},{key:"fk",get:function(){return this.L8.fk}},{key:"_k",get:function(){return this.L8._k}},{key:"wk",get:function(){return this.L8.wk}},{key:"wV",get:function(){return this.L8.wV}},{key:"nt",get:function(){return this.L8.nt}},{key:"yk",get:function(){return this.L8.yk}},{key:"rt",get:function(){return this.L8.rt}},{key:"Tk",get:function(){return this.L8.Tk}},{key:"Nk",get:function(){return this.L8.Nk},set:function(t){this.L8.Nk=t}},{key:"Ek",get:function(){return this.L8.Ek}},{key:"xk",get:function(){return this.L8.xk},set:function(t){this.L8.xk=t}},{key:"pV",get:function(){return this.L8.pV}},{key:"Az",get:function(){}}]),n}(_a),GK=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).YHt=void 0,e.GHt=!1,e.SQt=void 0,e.handleManifestUpdate=function(){var t=e.YHt.CHt();if(t){var n=e.wV;if(n){var i=n.getTime(),r=e.SQt;r||(r=new JZ,e.SQt=r),r.Yn(t.Mzt,(function(t){return(t.getTime()-i)/1e3})),!e.GHt&&r.L.V>0&&(e.nt.tt(r),e.C7.tt(r),e.GHt=!0)}}},e.AZt=function(){e.YHt&&e.YHt.zHt(e.Tk,e.yk)},e.VHt=i,e.C7=new iC(e),e.yn(Ma.yb,e.AZt),e}Et(n,t);var i=n.prototype;return i.ka=function(n,i,r){var e=this;return yn((function(){return pn(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ka.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Vyt(n,i),[2]}}))}))()},i.Vyt=function(t,n){this.YHt=new QK(t,n,this.VHt),this.YHt.yn(Ma.fb,this.handleManifestUpdate),this.YHt.Cn()},i.tr=function(){return this.SQt&&(this.nt.it(this.SQt),this.C7.it(this.SQt),this.SQt.gn(),this.SQt=void 0,this.GHt=!1),this.YHt&&(this.YHt.gn(),this.YHt=void 0),this.C7.tr(),t.prototype.tr.call(this)},i.gn=function(){return this.fn(Ma.yb,this.AZt),this.YHt&&(this.YHt.gn(),this.YHt=void 0),this.C7.gn(),t.prototype.gn.call(this)},n}(YK);!function(t){nT.aG().uG(t)}((function(t,n,i){return new GK(t,n,i)})),Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Tn(),tn(),Q(),Nt(),Zt(),St();var VK=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return Et(n,t),Ct(n,[{key:"name",get:function(){return"CastError"}}]),n}(Jo);sn();function FK(t){return WK.apply(this,arguments)}function WK(){return WK=yn((function(t){return pn(this,(function(n){switch(n.label){case 0:return JK()?[3,2]:[4,ZK(t)];case 1:n.sent(),n.label=2;case 2:return KK()?[3,4]:[4,ga(100,t)];case 3:n.sent(),n.label=4;case 4:return KK()?[3,6]:(Kt.uA('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,HK()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),WK.apply(this,arguments)}function ZK(t){return XK.apply(this,arguments)}function XK(){return XK=yn((function(t){var n,i,r,e,u,s;return pn(this,(function(o){return(null==t?void 0:t.sy)?[2,st.reject(new qo)]:(n=function(){var t,n;return{rM:new st((function(i,r){t=i,n=r})),sM:t,nM:n}}(),i=n.rM,r=n.sM,e=n.nM,u=f.__onGCastApiAvailable,s=function(){f.__onGCastApiAvailable=u,e(new qo)},f.__onGCastApiAvailable=function(n,i){n?r():e(new A(i)),null==t||t.oy(s),f.__onGCastApiAvailable=u,u&&u(n,i)},null==t||t.uy(s),[2,i])}))})),XK.apply(this,arguments)}var HK=un((function(){return function(t){return new st((function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new VK("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function KK(){return Boolean("undefined"!=typeof cast&&cast.framework)}function JK(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function qK(t,n,i,r){if(ci(n))for(var e=0,u=_.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];ci(o)&&(t[s]=o)}}!function(t,n,i,r){if(!ci(i)&&!ci(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(gi(n.images))t.images.push(new r.Image(n.images));else if(fi(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(gi(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function $K(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return qK(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return qK(e,t,n,i),!ci(e.artist)&&ci(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return qK(u,t,n,i),!ci(u.title)&&ci(t.episodeTitle)&&(u.title=t.episodeTitle),!ci(u.season)&&ci(t.seasonNumber)&&(u.season=t.seasonNumber),!ci(u.episode)&&ci(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return qK(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function tJ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function nJ(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return Do(t.items,(function(n){return n.itemId===t.currentItemId}))}Q(),Nt(),An(),St(),Sn(),Tn(),Q(),Nt(),Zt(),St(),sn(),Q(),Nt(),Q(),Nt(),Q(),Nt();var iJ="urn:x-cast:com.theoplayer.cast";Q(),Nt(),Q(),Nt();var rJ=function(t){return t.WHt="theoplayer_receiver_info",t.ZHt="theoplayer_trackpropertychange",t.HHt="theoplayer_propertychange",t}({});Q(),Nt();var eJ=function(t){return t.SKIP_AD="SKIP_AD",t}({});Q(),Nt();function uJ(t){v.createElement("img").src=t}Q(),Nt(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt();var sJ=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function oJ(t){if(gi(t)){var n=t.match(sJ);if(n)return 3600*M(n[1],10)+60*M(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function aJ(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return M(n[1])/100}}function cJ(t,n){return"vmap"===t.type||!ci(t.type)&&!ci(n)}function hJ(t,n){return"vast"===t.type||!ci(t.type)&&ci(n)}Q(),Nt(),An(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt();var fJ=function(){},vJ=function(t){function n(n){var i;return(i=t.call(this)||this).Dc=n.sort((function(t,n){return t.mR-n.mR})),i}return Et(n,t),n.prototype.qHt=function(){return null!=this.KHt||(this.KHt=Uo(this.Dc,(function(t){return t.qHt()}))),this.KHt},Ct(n,[{key:"XHt",get:function(){return this.Dc}}]),n}(fJ);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var dJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).JHt=n,r.$Ht=i,r.iXt=!1,r}return Et(n,t),Ct(n,[{key:"o",get:function(){return this.JHt}},{key:"mR",get:function(){return this.$Ht}},{key:"tXt",get:function(){return this.iXt}}]),n}(fJ),lJ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).rXt=r,a.hXt=e,a.uXt=u,a.sXt=s,a.dV=o,a}return Et(n,t),n.prototype.qHt=function(){if(void 0===this.cXt){for(var t,n,i,r=[],e=0,u=this.sXt;e<u.length;e++){var s=u[e];s.lXt&&(t=s.lXt),s.dXt&&(n=s.dXt),s.fXt&&(i=s.fXt),r=r.concat(s.universalAdIds)}this.cXt={aXt:this.aXt,lXt:t,gXt:n,fXt:i,lt:this.lt,_Xt:r}}return[this.cXt]},Ct(n,[{key:"eXt",get:function(){return this.sXt}},{key:"nXt",get:function(){return this.rXt}},{key:"oXt",get:function(){return this.hXt}},{key:"aXt",get:function(){return this.uXt}},{key:"lt",get:function(){return this.dV}}]),n}(dJ);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt();var gJ=function(){function t(t,n){this.wXt=t,this.pXt=n}return Ct(t,[{key:"vXt",get:function(){return this.wXt}},{key:"mXt",get:function(){return this.pXt}}]),t}(),wJ=function(){function t(t,n,i,r,e,u){this.yXt=t,this.MXt=n,this.SXt=i,this.IXt=r,this.xXt=!1,this.kXt=e,this.rXt=u}return t.prototype.CXt=function(){this.xXt=!0},Ct(t,[{key:"AXt",get:function(){return this.yXt}},{key:"bXt",get:function(){return this.MXt}},{key:"TXt",get:function(){return this.SXt}},{key:"NXt",get:function(){return this.IXt}},{key:"Yl",get:function(){return this.DXt},set:function(t){this.DXt=t}},{key:"EXt",get:function(){return this.kXt}},{key:"LXt",get:function(){return this.xXt}},{key:"nXt",get:function(){return this.rXt}}]),t}();Q(),Nt(),Zt();var yJ=function(t){return t.jXt="all",t.OXt="any",t.pG="none",t}({});var mJ=function(){function t(t,n){this.PXt=t,this.BXt=n}return Ct(t,[{key:"RXt",get:function(){return this.PXt}},{key:"zXt",get:function(){return this.BXt}}]),t}(),AJ=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g){this.dT=t,this.fT=n,this.aS=i,this.QXt=r,this.YXt=e,this.GXt=u,this.ZXt=s,this.XXt=o,this.KXt=a,this.$Xt=c,this.yXt=h,this.MXt=f,this.SXt=v,this.iqt=d,this.eqt=l,this.nqt=g}return Ct(t,[{key:"o",get:function(){return this.aS}},{key:"ji",get:function(){return this.dT}},{key:"Ti",get:function(){return this.fT}},{key:"UXt",get:function(){return this.QXt}},{key:"FXt",get:function(){return this.YXt}},{key:"VXt",get:function(){return this.GXt}},{key:"WXt",get:function(){return this.ZXt}},{key:"HXt",get:function(){return this.XXt}},{key:"qXt",get:function(){return this.KXt}},{key:"JXt",get:function(){return this.$Xt}},{key:"AXt",get:function(){return this.yXt}},{key:"bXt",get:function(){return this.MXt}},{key:"TXt",get:function(){return this.SXt}},{key:"tqt",get:function(){return this.iqt}},{key:"mXt",get:function(){return this.eqt}},{key:"sqt",get:function(){return this.nqt}}]),t}();Q(),Nt(),Zt();var pJ=function(){function t(t,n){this.aS=t,this.tBt=n}return Ct(t,[{key:"id",get:function(){return this.aS}},{key:"uri",get:function(){return this.tBt}}]),t}(),_J=function(){function t(t,n,i,r){this.oqt=t,this.aqt=n,this.cqt=i,this.dqt=r}return Ct(t,[{key:"rqt",get:function(){return this.oqt}},{key:"hqt",get:function(){return this.aqt}},{key:"uqt",get:function(){return this.cqt}},{key:"lqt",get:function(){return this.dqt}}]),t}(),kJ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).uXt=r,h.gqt=e,h.vqt=u,h.sXt=s,h.mqt=o,h.Aqt=a,h.dV=c,h}Et(n,t);var i=n.prototype;return i.qHt=function(){var t=this;return void 0===this.gqt?[]:(null!=this.KHt||(this.KHt=this.gqt.qHt().map((function(n){return t.yqt(n)}))),this.KHt)},i.yqt=function(t){for(var n,i,r,e=0,u=this.eXt;e<u.length;e++){var s=u[e];s.lXt&&(n=s.lXt),s.dXt&&(i=s.dXt),s.fXt&&(r=s.fXt)}var o=t.aXt.concat(this.aXt),a=t.lXt;if(n&&t.lXt){var c=new _J(t.lXt.bqt.rqt,t.lXt.bqt.hqt,t.lXt.bqt.uqt.concat(n.bqt.uqt),t.lXt.bqt.lqt.concat(n.bqt.lqt));(a=t.lXt).bqt=c,a.mXt=a.mXt.concat(n.mXt)}var h=t.gXt;if(i&&i.vXt){for(var f,v,d=[],l=0,g=i.vXt;l<g.length;l++){var w=g[l];d.concat(w.NXt.uqt)}for(var y,m,A=[],p=0,_=null!=(y=null==(f=t.gXt)?void 0:f.vXt)?y:[];p<_.length;p++){var k,M,b,T=_[p],N=new _J(T.NXt.rqt,T.NXt.hqt,T.NXt.uqt.concat(d),(null!=(M=null==(k=t.lXt)?void 0:k.bqt.lqt)?M:[]).concat(null!=(b=null==n?void 0:n.bqt.lqt)?b:[]));A.push(new wJ(T.AXt,T.bXt,T.TXt,N,T.EXt,T.nXt))}h=new gJ(A,(null!=(m=null==(v=t.gXt)?void 0:v.mXt)?m:[]).concat(i.mXt))}var D=t.fXt;if(D){var I,E,S,L=D.RXt;r&&r.RXt&&(L=r.RXt),D=new mJ(L,(null!=(E=null==(I=t.fXt)?void 0:I.zXt)?E:[]).concat(null!=(S=null==r?void 0:r.zXt)?S:[]))}var C=t.lt;return this.lt&&(C=this.lt),{aXt:o,lXt:a,gXt:h,fXt:D,lt:C,_Xt:t._Xt}},Ct(n,[{key:"aXt",get:function(){return this.uXt}},{key:"fqt",get:function(){return this.gqt}},{key:"_qt",get:function(){return this.vqt}},{key:"eXt",get:function(){return this.sXt}},{key:"wqt",get:function(){return this.mqt}},{key:"pqt",get:function(){return this.Aqt}},{key:"lt",get:function(){return this.dV}}]),n}(dJ);Q(),Nt(),Zt();var MJ=function(){function t(t,n,i,r,e,u,s,o){this.aS=t,this.Tqt=n,this.Nqt=i,this.XXt=r,this.Iqt=e,this.Dqt=u,this.Eqt=s,this.kqt=o}return Ct(t,[{key:"o",get:function(){return this.aS}},{key:"Mqt",get:function(){return this.Tqt}},{key:"Sqt",get:function(){return this.Nqt}},{key:"HXt",get:function(){return this.XXt}},{key:"lXt",get:function(){return this.Iqt}},{key:"dXt",get:function(){return this.Dqt}},{key:"fXt",get:function(){return this.Eqt}},{key:"universalAdIds",get:function(){return this.kqt}}]),t}();Q(),Nt(),Zt();var bJ=function(){function t(t,n,i,r,e,u,s,o){this.Lqt=t,this.Cqt=n,this.pXt=i,this.jqt=r,this.Rqt=e,this.xXt=!1,this.kXt=u,this.rXt=s,this.Qqt=o}return t.prototype.CXt=function(){this.xXt=!0},Ct(t,[{key:"ct",get:function(){return this.Lqt}},{key:"xqt",get:function(){return this.Cqt}},{key:"mXt",get:function(){return this.pXt},set:function(t){this.pXt=t}},{key:"bqt",get:function(){return this.jqt},set:function(t){this.jqt=t}},{key:"Oqt",get:function(){return this.Rqt},set:function(t){this.Rqt=t}},{key:"Pqt",get:function(){return this.xXt}},{key:"Yl",get:function(){return this.DXt},set:function(t){this.DXt=t}},{key:"EXt",get:function(){return this.kXt}},{key:"nXt",get:function(){return this.rXt}},{key:"zqt",get:function(){return this.Bqt},set:function(t){this.Bqt=t}},{key:"Uqt",get:function(){return this.Qqt}}]),t}();function TJ(t,n){return EJ(t)&&t.getAttribute(n)||void 0}function NJ(t,n){return DJ(t,n,void 0,!1)}function DJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function IJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);EJ(e)&&NJ(e,n)&&i.push(e)}return i}function EJ(t){return t&&1===t.nodeType}function SJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new A('Invalid document for MIME type "'+n+'"');return i}function LJ(t){return SJ(t,"text/xml")}function CJ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function jJ(t){return"data:application/xml,"+encodeURIComponent(t)}Q(),Nt(),Q(),Nt(),Zt();var xJ=function(t){return t.Fqt="mute",t.Yqt="unmute",t.wb="pause",t.Vqt="resume",t.Gqt="rewind",t.Wqt="skip",t.Zqt="playerExpand",t.Hqt="playerCollapse",t.Xqt="fullscreen",t.qqt="exitFullscreen",t.Kqt="expand",t.COLLAPSE="collapse",t.TSt="start",t.Jqt="firstQuartile",t.$qt="thirdQuartile",t.tKt="midpoint",t.iKt="complete",t.eKt="acceptInvitationLinear",t.sKt="acceptInvitation",t.nKt="timeSpentViewing",t.rKt="otherAdInteraction",t.mb="progress",t.oKt="creativeView",t.hKt="adExpand",t.aKt="adCollapse",t.uKt="minimize",t.cKt="close",t.lKt="closeLinear",t.dKt="overlayViewDuration",t.fKt="breakStart",t.gKt="breakEnd",t.ua="error",t}({});function OJ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var zJ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function RJ(t){return void 0!==t&&-1!==zJ.indexOf(t)}var BJ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function UJ(t){return void 0!==t&&-1!==BJ.indexOf(t)}var PJ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function QJ(t){return void 0!==t&&-1!==PJ.indexOf(t)}function YJ(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?b(i[1]||"0")+60*b(i[2]||"0")+b(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?b(i[1]||"0")*n/100:void 0}}var GJ=function(){function t(t,n,i){this._Kt=t,this.vKt=n,this.wKt=i}return Ct(t,[{key:"dZ",get:function(){return this._Kt}},{key:"tc",get:function(){return this.vKt}},{key:"eventURL",get:function(){return this.wKt}}]),t}();Q(),Nt(),Zt(),St();var VJ=function(){function t(t){this.pKt=t}return Ct(t,[{key:"mKt",get:function(){return this.pKt}}]),t}(),FJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).yKt=i,u.oqt=r,u.nqt=e,u}return Et(n,t),Ct(n,[{key:"rqt",get:function(){return this.oqt}},{key:"sqt",get:function(){return this.nqt}},{key:"AKt",get:function(){return this.yKt}}]),n}(VJ),WJ=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n}(VJ),ZJ=function(t){function n(n){return t.call(this,n)||this}return Et(n,t),n}(VJ);Q(),Nt(),Zt(),tn();var XJ={bKt:{oM:100,Pb:"XML parsing error."},MKt:{oM:303,Pb:"Empty or invalid VAST error."},TKt:{oM:400,Pb:"General linear error"},SKt:{oM:403,Pb:"Unsupported MIME-type or missing mediafiles error"},NKt:{oM:500,Pb:"General nonlinear error"},BW:{oM:900,Pb:"Network error"}},HJ=function(){function t(t){this.DKt=t}return t.prototype.EKt=function(t){if(this.IKt){var n=this.IKt.replace(/\[ERRORCODE]/,""+t.oM);uJ(n)}},Ct(t,[{key:"IKt",get:function(){return this.DKt}}]),t}();Q(),Nt(),Zt(),St();var KJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&$J[i]||n,e)||this).LKt=n,u.CKt=i,u.jKt=r,u}return Et(n,t),Ct(n,[{key:"kKt",get:function(){return this.LKt}},{key:"xKt",get:function(){var t;return null!=(t=this.CKt)?t:900}}]),n}(Jo),JJ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),qJ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),$J={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function tq(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case DM.tx:case DM.ix:case DM.$L:return!0;default:return!1}}function nq(t){var n=Bi();return!!(tq(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(rq("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function iq(t,n){for(var i=0;i<n.length;i++){var r=n[i];new HJ(r).EKt(t)}}function rq(t){0}Q(),Nt(),tn(),Q(),Nt(),Zt();var eq=function(){function t(t,n){this.RKt=t,this.zKt=n}return Ct(t,[{key:"OKt",get:function(){return this.RKt}},{key:"PKt",get:function(){return this.zKt}}]),t}(),uq=function(){function t(){}var n=t.prototype;return n.BKt=function(n,i){var r=this;return yn((function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return cJ(n.sources,n.timeOffset)?[4,t.UKt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new KJ(JJ.NETWORK,qJ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return NJ(u,"VMAP")?[4,r.QKt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return NJ(u,"VAST")?[4,r.FKt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new hq("",!0,!0,s),[2,[new aq("start",o,sq.YKt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new KJ(JJ.GENERAL,qJ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(hJ(n.sources,n.timeOffset))return[2,[new cq(String(n.timeOffset),n,i)]];throw new KJ(JJ.GENERAL,qJ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.VKt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return yn((function(){var s,o,a;return pn(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.UKt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),iq(o instanceof KJ&&o.xKt===qJ.VAST_MALFORMED_RESPONSE?XJ.MKt:XJ.BW,e),o;case 3:return(a=s&&s.documentElement)&&NJ(a,"VAST")?[4,u.FKt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:a&&NJ(a,"VMAP")&&ce("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),c.label=6;case 6:return[2,void 0]}}))}))()},n.GKt=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new KJ(JJ.GENERAL,qJ.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.VKt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new hq("",!0,!0,s),(a=new aq(n,o,sq.YKt,"",[],!1,!0,t)).WKt=i,[2,a]}}))}))()},n.FKt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d,l,g,w;return pn(this,(function(y){switch(y.label){case 0:if(u=[],s=[],o=[],!t||!NJ(t,"VAST")){if(iq(XJ.MKt,r),i)throw new KJ(JJ.PARSING,qJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new KJ(JJ.PARSING,qJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===IJ(t,"Ad").length)return[3,7];a=0,c=IJ(t,"Ad"),y.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],y.label=2;case 2:return y.trys.push([2,4,,5]),[4,e.ZKt(h,n,r)];case 3:return 0===(f=y.sent()).mR?u.push(f):s.push(f),[3,5];case 4:return v=y.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];if(1===u.length&&0===s.length)return[2,u[0]];if(0===u.length&&0!==s.length)return[2,new vJ(s)];if(u.length>0||s.length>0)return[2,new vJ(s.concat(u))];y.label=7;case 7:if(0!==IJ(t,"Error").length)for(d=0,l=IJ(t,"Error");d<l.length;d++)g=l[d],rq(XJ.MKt.Pb),(w=g.textContent)&&r.push(w.trim());if(iq(XJ.MKt,r),i)throw new KJ(JJ.PARSING,qJ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new KJ(JJ.PARSING,qJ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}}))}))()},n.QKt=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:e=[],u=IJ(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.HKt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),Kt.aA(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.ZKt=function(n,i,r){var e=this;return yn((function(){var u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return u=TJ(n,"id")||"",(s=ZU(TJ(n,"sequence")))||(s=0),o=IJ(n,"InLine"),0===(a=IJ(n,"Wrapper")).length?[3,2]:[4,e.XKt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.qKt(o[0],u,s,r)];c.label=3;case 3:throw new KJ(JJ.PARSING,qJ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.XKt=function(n,i,r,e,u){var s=this;return yn((function(){var o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,k;return pn(this,(function(M){switch(M.label){case 0:for(o=IJ(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=IJ(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,d=IJ(n,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return g=IJ(n,"VASTAdTagURI")[0],w="",g&&g.textContent&&(w=g.textContent),[4,s.VKt(w,e,!0,u)];case 1:return y=M.sent(),m=IJ(n,"Creatives")[0],A=[],m&&(A=t.JKt(m,h,u)),(p=HU(TJ(n,"followAdditionalWrappers")))||(p=!0),(_=HU(TJ(n,"allowMultipleAds")))||(_=!0),(k=HU(TJ(n,"fallbackOnNoAd")))||(k=!1),[2,new kJ(i,r,f,y,p,A,_,k,new HJ(a))]}}))}))()},n.HKt=function(n,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_;return pn(this,(function(k){switch(k.label){case 0:if(u=TJ(n,"timeOffset")||"0",s=TJ(n,"breakType")||sq.dI,o=TJ(n,"breakId"),a=HU(TJ(n,"repeatAfter")),c=void 0!==oq.hJt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new KJ(JJ.PARSING,qJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=IJ(n,"AdSource")[0],f=IJ(n,"TrackingEvents")[0],v=[],f&&(v=t.eJt(f,OJ,"vmap")),(d=TJ(h,"id"))||(d=""),void 0===(l=HU(TJ(h,"allowMultipleAds")))&&(l=!0),(g=HU(TJ(h,"followRedirects")))||(g=!0),w=IJ(h,"AdTagURI")[0],y="",m=IJ(h,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return y=w.textContent,(A=Zg(i)).sources.src=y,[2,new cq(u,A,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return m?m.firstElementChild&&DJ(m.firstElementChild,"VAST")?[4,e.FKt(m.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(p=k.sent())?(_=new hq(d,l,g,p),[2,new aq(u,_,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new KJ(JJ.PARSING,qJ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new KJ(JJ.PARSING,qJ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.hI(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new KJ(JJ.NETWORK,qJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!Ml(i))throw new KJ(JJ.NETWORK,qJ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.UKt=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return r=new Sl({zu:t,oI:Gd.ON,xI:Tl.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.rI()];case 3:return[2,LJ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new KJ(JJ.NETWORK,qJ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.qKt=function(n,i,r,e){var u,s=IJ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=IJ(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=IJ(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,d=IJ(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var g=t.KKt(IJ(n,"Creatives")[0],c,e);return new lJ(i,r,c,o,f,g,new HJ(u))},t.JKt=function(n,i,r){for(var e=[],u=0,s=IJ(n,"Creative");u<s.length;u++){var o=s[u],a=TJ(o,"id");a||(a="");var c=ZU(TJ(o,"sequence"));c||(c=0);var h=TJ(o,"adId");h||(h="");var f=IJ(o,"Linear")[0],v=void 0;f&&(v=t.$Kt(f,"wrapper",a,i,r));var d=IJ(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.tJt(d,a,i)}catch(t){}var g=IJ(o,"CompanionAds")[0],w=void 0;g&&(w=t.iJt(g)),e.push(new MJ(a,h,c,"",v,l,w,[]))}return e},t.KKt=function(n,i,r){for(var e=[],u=0,s=IJ(n,"Creative");u<s.length;u++){var o=s[u],a=TJ(o,"id");a||(a="");var c=ZU(TJ(o,"sequence"));c||(c=0);var h=TJ(o,"adId");h||(h="");var f=TJ(o,"apiFramework");f||(f="");var v=IJ(o,"Linear")[0],d=void 0;if(v)try{d=t.$Kt(v,"inline",a,i,r)}catch(t){}if(0===(null==d?void 0:d.ct))throw new KJ(JJ.PARSING,qJ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var l=IJ(o,"NonLinearAds")[0],g=void 0;if(l)try{g=t.tJt(l,a,i)}catch(t){}var w=IJ(o,"CompanionAds")[0],y=void 0;w&&(y=t.iJt(w));var m=IJ(o,"UniversalAdId"),A=t.parseUniversalAdIds(m);e.push(new MJ(a,h,c,f,d,g,y,A))}return e},t.$Kt=function(n,i,r,e,u){var s=IJ(n,"Duration")[0],o=0;if(s)o=oJ(s.textContent)||0;else if(!s&&"inline"===i)throw new KJ(JJ.PARSING,qJ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=TJ(n,"skipoffset"),c=-1;if(a){var h=oJ(a);if(void 0===h&&a.indexOf("%")>-1){var f=k.abs(Number(a.replace(/(?![0-9])./g,"")))/100;T(f)||(h=o*f)}void 0!==h&&(c=h)}var v=IJ(n,"MediaFiles")[0],d=[],l=[];if(v&&(d=function(t,n){for(var i=[],r=0,e=IJ(t,"MediaFile");r<e.length;r++){var u=e[r],s=TJ(u,"delivery"),o=TJ(u,"type");if(o){if(n(o)){var a=ZU(TJ(u,"width")),c=ZU(TJ(u,"height"));a||(rq(),a=0),c||(rq(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else rq()}return i}(v,nq),l=function(t){var n=IJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i=[],r=0,e=IJ(n[0],"ClosedCaptionFile");r<e.length;r++){var u=e[r],s=TJ(u,"type");s||rq();var o=TJ(u,"language");o||rq();var a={type:null!=s?s:"",language:null!=o?o:"",contentURL:(""+u.textContent).trim()};i.push(a)}return i}(v)),"inline"===i&&(!v||0===d.length))throw iq(XJ.SKt,u),new KJ(JJ.PARSING,qJ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=IJ(n,"TrackingEvents")[0],w=[];g&&(w=t.eJt(g,RJ,"linear"));var y=IJ(n,"VideoClicks")[0],m=t.sJt(y);return new bJ(o,d,w,m,c,r,e,l)},t.sJt=function(n){if(!n)return new _J("","",[],[]);var i,r=IJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=TJ(r,"id")||"");var u=t.nJt(IJ(n,"ClickTracking")),s=t.nJt(IJ(n,"CustomClick"));return new _J(i,e,u,s)},t.nJt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=TJ(r,"id")||"";n.push(new pJ(u,e))}}return n},t.eJt=function(t,n,i){for(var r=[],e=0,u=IJ(t,"Tracking");e<u.length;e++){var s=u[e],o=TJ(s,"event");if(n(o)){var a="";"linear"===i&&(a=TJ(t,"offset")||"0");var c=s.textContent;c&&r.push(new GJ(o,a,c))}else rq()}return r},t.tJt=function(n,i,r){for(var e=[],u=0,s=IJ(n,"NonLinear");u<s.length;u++){var o=s[u],a=IJ(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.nJt(IJ(o,"NonLinearClickTracking")),f=IJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=TJ(f,"creativeType"),l=f.textContent||"",g=IJ(f.parentNode,"NonLinearClickThrough")[0],w="";g&&(w=g.textContent||""),v=new FJ(l,d,w,"")}var y=t.rJt(o),m=t.parseHtmlResource(o);if(v||y||m){var A=new _J(c,"",h,[]);e.push(new wJ(v,y,m,A,i,r))}else rq()}if(0===e.length)throw new KJ(JJ.PARSING,qJ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var p=IJ(n,"TrackingEvents")[0],_=[];return p&&(_=t.eJt(p,UJ,"nonlinear")),new gJ(e,_)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=TJ(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=TJ(s,"idValue"))?e:s.textContent)?u:"";n.push(new eq(o,a))}return n},t.iJt=function(n){var i=TJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=yJ.pG);for(var r=[],e=0,u=IJ(n,"Companion");e<u.length;e++){var s=u[e],o=ZU(TJ(s,"width")),a=ZU(TJ(s,"height")),c=TJ(s,"id"),h=ZU(TJ(s,"assetWidth")),f=ZU(TJ(s,"assetHeight")),v=ZU(TJ(s,"expandedWidth")),d=ZU(TJ(s,"rxpandedHeight")),l=TJ(s,"apiFramework"),g=TJ(s,"adSlotId"),w=ZU(TJ(s,"pxratio")),y=IJ(s,"AltText")[0],m=y?y.textContent:"";o||(rq(),o=0),a||(rq(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),g||(g=""),w||(w=1),m||(m="");var A=t.oJt(s),p=t.rJt(s),_=t.parseHtmlResource(s),k=IJ(s,"TrackingEvents")[0],M=[];k&&(M=t.eJt(k,QJ,"companion"));var b=IJ(s,"CompanionClickThrough")[0],T=void 0;b&&(T=b.textContent||void 0);var N=t.nJt(IJ(s,"CompanionClickTracking"));(A||p||_)&&r.push(new AJ(o,a,c,h,f,v,d,l,g,w,A,p,_,new _J(T,"",N,[]),M,m))}return new mJ(i,r)},t.oJt=function(t){var n,i=IJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=TJ(i,"creativeType");r||(r="");var e,u=i.textContent,s=IJ(i.parentNode,"AltText")[0],o=IJ(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new FJ(u,r,e,a))}return n},t.rJt=function(t){var n,i=IJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new WJ(r)}return n},t.parseHtmlResource=function(t){var n,i=IJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new ZJ(r)}return n},t}(),sq=function(t){return t.dI="",t.YKt="linear",t.aJt="nonlinear",t.uJt="display",t}({}),oq=function(){function t(){}return t.cJt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.lJt=function(t){},t.dJt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.fJt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.gJt=function(t){if(t<=0)return"00:00:00.000";var n=k.floor(t),i=t-n;return this._Jt(n/3600,2)+":"+this._Jt(n/60%60,2)+":"+this._Jt(n%60,2)+"."+this._Jt(1e3*i,3)},t._Jt=function(t,n){return("00"+k.floor(t)).slice(-n)},t.vJt=function(t,n){var i=this.hJt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return aJ(t)*n;if(1===i)return oJ(t);if(3===i)return this.dJt(t);if(4===i){var r=Number(t);if(!T(r)&&r>=-1)return r}}},t.hJt=function(t){return"start"===t||"end"===t?0:void 0!==oJ(t.toString())?1:void 0!==aJ(t.toString())?2:void 0!==this.lJt(t.toString())?3:T(Number(t))?void 0:4},t}(),aq=function(){function t(t,n,i,r,e,u,s,o){this.Rqt=-1,this.AJt=n,this.yJt=t,this.DJt=i,this.MJt=r,this.SJt=u,this.eqt=e,this.EJt=s,this.mJt=o}return t.prototype.$n=function(){return st.resolve()},Ct(t,[{key:"wJt",get:function(){return this.mJt.integration}},{key:"pJt",get:function(){return this.AJt}},{key:"lzt",get:function(){return this.yJt}},{key:"Oqt",get:function(){return this.Rqt},set:function(t){this.Rqt=t}},{key:"mXt",get:function(){return this.eqt}},{key:"bJt",get:function(){return this.MJt}},{key:"TJt",get:function(){return this.SJt}},{key:"Drt",get:function(){return this.mJt}},{key:"NJt",get:function(){return this.WKt.sd}},{key:"W",get:function(){return!0}},{key:"WKt",get:function(){return this.IJt},set:function(t){this.IJt=t}}]),t}(),cq=function(){function t(t,n,i){this.sD=!1,this.OQ=i,this.DXt=new aq(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.kJt)?t:this.kJt=this.oD()},n.oD=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,(new uq).GKt(t.Drt,t.lzt,t.WKt,t.OQ)];case 1:return t.DXt=n.sent(),t.sD=!0,[2]}}))}))()},Ct(t,[{key:"wJt",get:function(){return this.DXt.wJt}},{key:"pJt",get:function(){return this.DXt.pJt}},{key:"lzt",get:function(){return this.DXt.lzt}},{key:"Oqt",get:function(){return this.DXt.Oqt},set:function(t){this.DXt.Oqt=t}},{key:"mXt",get:function(){return this.DXt.mXt}},{key:"bJt",get:function(){return this.DXt.bJt}},{key:"TJt",get:function(){return this.DXt.TJt}},{key:"Drt",get:function(){return this.DXt.Drt}},{key:"NJt",get:function(){return this.DXt.NJt}},{key:"W",get:function(){return this.sD}},{key:"WKt",get:function(){return this.DXt.WKt},set:function(t){this.DXt.WKt=t}}]),t}(),hq=function(){function t(t,n,i,r){this.aS=t,this.LJt=n,this.jJt=r,this.CJt=i}return Ct(t,[{key:"o",get:function(){return this.aS}},{key:"wqt",get:function(){return this.LJt}},{key:"xJt",get:function(){return this.CJt}},{key:"XHt",get:function(){return this.jJt}}]),t}();function fq(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return jJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=ub(i)||cb(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+oq.gJt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+oq.gJt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+CJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+CJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+CJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=jJ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}var vq=function(t){return t.OJt="error",t.RJt="sourceupdate",t}({}),dq=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return Et(n,t),n}(ka),lq=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.kc=i,r}return Et(n,t),n}(ka),gq=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).t$t=0,e.HJt=function(t){e.yo(new dq(t))},e.ZJt=function(t){var n,i=new VK(tJ(t.code),null!=(n=t.description)?n:void 0);e.HJt(i)},e.nOt=n,e.BJt=i,e.PJt=r,e}Et(n,t);var i=n.prototype;return i.zJt=function(t){this.BJt.zJt(t)},i.UJt=function(t){this.BJt.UJt(t)},i.QJt=function(t){this.BJt.QJt(t)},i.FJt=function(t){this.BJt.FJt(t)},i.YJt=function(t){this.PJt.addUpdateListener(t)},i.VJt=function(t){this.PJt.removeUpdateListener(t)},i.GJt=function(){var t=this,n=new sh,i=new chrome.cast.media.GetStatusRequest;return this.PJt.getStatus(i,(function(){n.sM({bt:t.kE(),kc:t.Ya()})}),(function(t){return n.nM(t)})),n.rM},i.kE=function(){var t;return null==(t=this.PJt.customData)?void 0:t.currentSource},i.Ya=function(){var t,n;if(null==(t=this.nOt.WJt())?void 0:t.version){var i;n=null==(i=this.PJt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=nJ(this.PJt))?void 0:r.customData;(function(t){return di(t)&&t.theoplayer_version>=1&&ci(t.streamStart)&&ci(t.isLive)&&ci(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:wq(t)}}(this.PJt.media))}return n},i.Rk=function(){var t=new chrome.cast.media.PauseRequest;this.PJt.pause(t,qt,this.ZJt)},i.zk=function(){var t=new chrome.cast.media.StopRequest;this.PJt.stop(t,qt,this.ZJt)},i.Pk=function(){var t=new chrome.cast.media.PlayRequest;this.PJt.play(t,qt,this.ZJt)},i.Wb=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new st((function(t,n){i.PJt.seek(r,t,(function(t){var i;n(new VK(tJ(t.code),null!=(i=t.description)?i:void 0))}))}))},i.nk=function(t){this.BJt.pst(iJ,function(t){return{type:rJ.HHt,properties:{playbackRate:t}}}(t)).catch(this.HJt)},i.XJt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.PJt.editTracksInfo(n,qt,this.ZJt)},i.qJt=function(){return this.PJt.getEstimatedTime()},i.KJt=function(){return this.PJt.getEstimatedBreakClipTime()},i.JJt=function(){return this.PJt.getEstimatedBreakTime()},i.$Jt=function(){this.BJt.pst("urn:x-cast:com.google.cast.media",{type:eJ.SKIP_AD,requestId:this.t$t++,mediaSessionId:this.PJt.mediaSessionId}).catch(this.HJt)},i.gn=function(){this.Bo()},Ct(n,[{key:"zj",get:function(){return this.PJt}}]),n}(Aa);function wq(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Uo(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=Do(n,(function(t){return t.id===u}));if(s){var o=fq(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}sn(),Q(),Nt();var yq=function(){function t(t){this.nOt=t}var n=t.prototype;return n.i$t=function(t,n){this.nOt.addMessageListener(t,n)},n.e$t=function(t,n){this.nOt.removeMessageListener(t,n)},n.pst=function(t,n){var i=this;return new st((function(r,e){i.nOt.sendMessage(t,n,r,(function(t){var n;e(new VK(tJ(t.code),null!=(n=t.description)?n:void 0))}))}))},n.gn=function(){},t}();function mq(t){return"vmap"===t||"adrule"===t}function Aq(t){if(t)return gi(t)&&""!==t?{src:iw(t),type:void 0}:function(t){return di(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:iw(t.src),type:pq(t.type)}:void 0}function pq(t){if(gi(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void ce("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||ce("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function _q(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return sJ.test(t)}(t))return oq.fJt(t);if(kq(t))return t}return Number(t)>=0?Number(t):void 0}}function kq(t){return new RegExp(/^\d{1,2}%$/).test(t)}function Mq(t){for(var n=[],i=function(t,r){if(fi(r))for(var e=0,u=r.length;e<u;e++){var s=di(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if(di(r))for(var o=0,a=_.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=_.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}Q(),Nt(),tn(),Q(),Nt(),Q(),Nt();var bq=function(t){return t.WHt="receiver_info",t.TPt="event",t.s$t="propertychange",t.ZHt="trackevent",t}({});tn();var Tq=function(){function t(t){var n=this;this.r$t=[],this.o$t=[],this.c$t=function(t,i){var r=n.n$t(i);if(r)if(r.type===bq.s$t)for(var e=0,u=n.r$t;e<u.length;e++)for(var s=u[e],o=0,a=_.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===bq.TPt)for(var h=0,f=n.o$t;h<f.length;h++){(0,f[h])(r.event)}else r.type===bq.ZHt&&n.a$t&&r.event.trackState&&n.a$t(r.event.trackId,r.event.trackState.targetQualityIds)},this.u$t=t,this.u$t.i$t(iJ,this.c$t)}var n=t.prototype;return n.n$t=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.zJt=function(t){this.r$t.push(t)},n.UJt=function(t){Co(this.r$t,t)},n.QJt=function(t){this.o$t.push(t)},n.FJt=function(t){Co(this.o$t,t)},n.h$t=function(t){this.a$t=t},n.pst=function(t,n){return this.u$t.pst(t,n)},n.gn=function(){this.u$t.e$t(iJ,this.c$t),Ro(this.o$t),Ro(this.r$t),this.a$t=void 0},t}();Q(),Nt(),Q(),Nt();var Nq=function(t){return t.l$t="medialoadedchange",t.kb="volumechange",t.OJt="casterror",t.d$t="playererror",t.f$t="targetqualitychanged",t.g$t="receiverinfochanged",t}({}),Dq=function(t){function n(){return t.call(this,"medialoadedchange")||this}return Et(n,t),n}(ka),Iq=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).Nk=n,r.WE=i,r}return Et(n,t),n}(ka),Eq=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return Et(n,t),n}(ka),Sq=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return Et(n,t),n}(ka),Lq=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).Fj=n,r._$t=i,r}return Et(n,t),n}(ka),Cq=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return Et(n,t),n}(ka),jq=function(t){function n(n){var i;(i=t.call(this)||this).p$t=void 0,i.HJt=function(t){i.yo(new Eq(t))},i.x$t=function(t,n){"error"===t&&i.yo(new Sq(n))},i.C$t=function(t,n){i.yo(new Lq(t,n))},i.m$t=function(t,n){var r=JSON.parse(n);r.type===bq.WHt&&(i.p$t=r.info,i.yo(new Cq))},i.M$t=function(){var t=i.A$t().receiver.volume,n=t.level,r=t.muted;i.yo(new Iq(null!=n?n:void 0,null!=r?r:void 0))},i.L$t=function(){return i.y$t(i.nOt.getMediaSession())},i.T$t=function(t){var n;t||(null==(n=i.b$t)||n.VJt(i.T$t),i.b$t=void 0,i.yo(new Dq))},i.E$t=function(t){var n,r=new VK(tJ(t.code),null!=(n=t.description)?n:void 0);i.HJt(r)},i.nOt=n,i.nOt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.L$t),i.u$t=new yq(n.getSessionObj()),i.BJt=new Tq(i.u$t),i.BJt.zJt(i.x$t),i.BJt.h$t(i.C$t),i.A$t().addUpdateListener(i.M$t),i.M$t(),i.w$t();var r=i.nOt.getMediaSession();return r&&i.y$t(r),i}Et(n,t);var i=n.prototype;return i.v$t=function(t,n,i){this.BJt.pst(iJ,function(t,n,i){return{type:rJ.ZHt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.HJt)},i.w$t=function(){this.u$t.i$t(iJ,this.m$t),this.BJt.pst(iJ,{type:rJ.WHt}).catch(qt)},i.WJt=function(){return this.p$t},i.A$t=function(){return this.nOt.getSessionObj()},i.y$t=function(t){!this.b$t&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.b$t=new gq(this,this.BJt,t),this.M$t(),this.yo(new Dq),this.b$t.YJt(this.T$t))},i.S$t=function(){return this.b$t},i.N$t=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=En(function(t){for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(wb(r)){var e=r.src;if(e){var u,s=null!=(u=r.type)?u:sb(e);if(xq(s))return[e,s]}}}var o,a;return[null!=(o=hN(t))?o:"",null!=(a=aN(t))?a:""]}(t),2),u=e[0],s=e[1],o=new chrome.cast.media.MediaInfo(u,s);return o.metadata=$K(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=Aq(e.sources);if(c)if(cJ(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(hJ(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,d=e.skipOffset,l=null!=(f=oq.vJt(v,i))?f:0,g=void 0!==d?oq.vJt(d,i):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=c.src,w.whenSkippable=g,w.customData={integration:e.integration};var y=Do(s,(function(t){return t.position===l}));void 0===y&&(y=new chrome.cast.media.Break("b"+o++,[],l),s.push(y)),y.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(o,n,i),o}(t.I$t,t.Vc,t.ct,t.I1),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.LE,i.customData=t.D$t,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.nOt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new VK(tJ(r));return[2]}}))}))()},i.HE=function(t){this.A$t().setReceiverMuted(t,qt,this.E$t)},i.Dk=function(t){this.A$t().setReceiverVolumeLevel(t,qt,this.E$t)},i.k$t=function(){return this.A$t().receiver.friendlyName},i.gn=function(){this.Bo(),this.nOt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.L$t),this.A$t().removeUpdateListener(this.M$t),this.u$t.e$t(iJ,this.m$t),this.BJt.gn(),this.u$t.gn()},n}(Aa);function xq(t){switch(t){case DM.tx:case DM.$L:case DM.ix:case DM.sx:return!0}return!1}var Oq=function(t){return t.j$t="statechange",t}({}),zq=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Xgt=n,i}return Et(n,t),n}(ka),Rq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).i4t=void 0,n.t4t=void 0,n.xJ=function(){var t=n.U2t();n.i4t=t===qT.CONNECTED?new jq(n.e4t.getCurrentSession()):void 0,n.yo(new zq(t))},n}Et(n,t);var i=n.prototype;return i.w2t=function(t){this.t4t=t},i.m2t=function(){return this.t4t},i.A2t=function(){return this.i4t},i.U2t=function(){switch(this.e4t.getCastState()){case cast.framework.CastState.CONNECTED:return qT.CONNECTED;case cast.framework.CastState.CONNECTING:return qT.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return qT.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return qT.UNAVAILABLE}},i.FK=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,FK(n)];case 1:return r.sent(),i.e4t=cast.framework.CastContext.getInstance(),i.e4t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.xJ),i.e4t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.S2t=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.e4t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new VK(tJ(i));case 3:return[2]}}))}))()},i.I2t=function(t){var n;return null==(n=this.t4t)?void 0:n.onStart(t)},i.O2t=function(t){var n;return null==(n=this.t4t)?void 0:n.onStop(t)},i.E2t=function(t){var n;return null==(n=this.t4t)?void 0:n.onJoin(t)},i.j2t=function(t){var n;return null==(n=this.t4t)?void 0:n.onLeave(t)},i.P2t=function(t){this.e4t.endCurrentSession(t)},n}(Aa);Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),sn(),Q(),Nt(),St();var Bq=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).ta=n,h.O$t=0,h.Oz=new dw,h.Pz=new dw,h.Ul=new cA,h.Dc=new dO,h.O$t=i,h.EG=r-i,h.JM=e,h.W5=u,h.CG=s,h.jG=o,h.P$t=a,h.z$t=c,h}Et(n,t);var i=n.prototype;return i.Ynt=function(){return this.Dc},i.SE=function(){return GM.PP()},i.xE=function(){return this.EG+this.O$t},i.Cnt=function(){return this.xE()},i.DE=function(){},i._d=function(){return this.JM},i.RE=function(){return this.W5},i.PE=function(){},i.JE=function(){return this.CG},i.R$t=function(){},i.ek=function(){return this.jG},i.nk=function(t){this.jG!==t&&(this.jG=t,this.yo(new Sb(this.ta.LE,t)))},i.gk=function(){return UA.Nz},i.hk=function(){return GM.PP()},i.vk=function(){return GM.PP()},i.pk=function(){return!1},i.AE=function(){return this.Oz},i.Mk=function(){return this.Pz},i.Ak=function(){return this.Ul},i.XJt=function(t){},i.Sk=function(){return this.P$t},i.bk=function(){return this.z$t},i.Pk=function(){this.CG=!1},i.Rk=function(){this.CG=!0},i.Wb=function(t){this.EG=t-this.O$t},i.B$t=function(){return this.O$t},i.U$t=function(t){this.O$t=t},i.vrt=function(t){this.Dc.vrt(t)},i.zk=function(){},i.gn=function(){this.Bo(),this.Oz.gn(),this.Pz.gn(),this.Ul.gn(),this.Dc.gn()},n}(Aa);Q(),Nt(),St(),Sn(),Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt();var Uq=function(t){return t.Q$t="ccmodechangerequest",t.F$t="cctargetqualitychangerequest",t.Y$t="cctrackchangerequest",t}({}),Pq=function(t){function n(n,i,r){var e;return(e=t.call(this,Uq.Q$t)||this).track=n,e.trackId=i,e.mode=r,e}return Et(n,t),n}(ka);Q(),Nt();var Qq=function(t){return t.ON="TEXT",t.SI="AUDIO",t.NI="VIDEO",t}({}),Yq=function(t){return t.AQ="SUBTITLES",t.yQ="CAPTIONS",t.bQ="DESCRIPTIONS",t.Fn="CHAPTERS",t.MQ="METADATA",t}({});function Gq(t){return"AUDIO"===t.type}function Vq(t){return"VIDEO"===t.type}function Fq(t){return"TEXT"===t.type}var Wq=function(t){function n(n){var i;(i=t.call(this)||this).Za=void 0;var r=n.customData;return i.zL=Number(n.trackId)||0,i.o=""+(r&&r.id||i.zL),i.eB=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.YL=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case Yq.AQ:return hA.AQ;case Yq.yQ:return hA.yQ;case Yq.bQ:return hA.bQ;case Yq.Fn:return hA.Fn;case Yq.MQ:return hA.MQ}return}(n.subtype)||"subtitles",i.fk=Qw.NONE,i.YA=r&&void 0!==r.type?function(t){return Gw(t)?t:Yw.DEFAULT}(r.type):Yw.WEBVTT,i.u6=[],i.l6=new FS(i.u6),i.m6=[],i.c6=new FS(i.m6),i.zo=rA(r&&r.mode||iA.Ch),i.V$t=i.zo,i}Et(n,t);var i=n.prototype;return i.d6=function(t){return Do(this.l6.AL,(function(n){return n.o===t}))},i.VL=function(t){this.UI=t},i.W$t=function(t){},i.gn=function(){},i.tr=function(){},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=sA(this)),this.Za}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"q",get:function(){return this.c6}},{key:"L",get:function(){return this.l6}},{key:"UI",get:function(){return this.zo},set:function(t){var n=rA(t);this.zo!==n&&(this.zo=n,this.V$t!==n&&this.yo(new Pq(this,this.zL,n)),this.yo(new Tw(this)))}},{key:"G$t",get:function(){return this.V$t},set:function(t){var n=rA(t),i=this.zo!==n;this.zo=n,this.V$t=n,i&&this.yo(new Tw(this))}}]),n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt(),St();var Zq=function(t){function n(n,i){var r;return(r=t.call(this,Uq.Y$t)||this).trackId=n,r.enabled=i,r}return Et(n,t),n}(ka);Q(),Nt(),St();var Xq=function(t){function n(n,i){var r;return(r=t.call(this,Uq.F$t)||this).track=n,r.targetQuality=i,r}return Et(n,t),n}(ka);Q(),Nt();var Hq=function(t){return t.SI="audio",t.NI="video",t.ON="text",t}({}),Kq=function(t){function n(n){var i;(i=t.call(this)||this).Gft=void 0,i.qz=new bw,i.Yft=void 0,i.Za=void 0,i.URt=function(){return i.yo(new Dw(i))};var r=n.customData;if(i.zL=Number(n.trackId)||0,i.o=""+(r&&r.id||i.zL),i.eB=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.He=r&&r.enabled,i.H$t=i.He,Gq(n)){i.E3=Hq.SI;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new NP(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.yn("update",i.URt),i.qz.Kz(o)}}else{i.E3=Hq.NI;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new TP(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.yn("update",i.URt),i.qz.Kz(f)}}return i}Et(n,t);var i=n.prototype;return i.nB=function(t){this.Rt=t},i.W$t=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.qz.AL;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.Z$t(u)}},i.Z$t=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!Bo(t,n)})(this.Yft,t)&&(this.Yft=t&&this.qz.Jz(t)?t:void 0,this.yo(new UR(this.Yft,this)))},i.unload=function(){for(var t=0,n=this.qz.AL;t<n.length;t++){n[t].fn("update",this.URt)}this.qz.tr()},Ct(n,[{key:"PL",get:function(){return this.Gft}},{key:"QL",get:function(){return this.Yft},set:function(t){this.Z$t(t),this.yo(new Xq(this,t))}},{key:"UL",get:function(){return this.qz}},{key:"kh",get:function(){return this.eB},set:function(t){t!==this.eB&&(this.eB=t,this.yo(new Dw(this)))}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.H$t!==t&&this.yo(new Zq(this.zL,t)),this.yo(new Tw(this)))}},{key:"X$t",get:function(){return this.H$t},set:function(t){var n=this.He!==t;this.He=t,this.H$t=t,n&&this.yo(new Tw(this))}},{key:"ga",get:function(){return this.Za||(this.Za=hw(this)),this.Za}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(Aa);Q(),Nt();var Jq=function(t){return t.q$t="legacy",t.K$t="caf",t}({});Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St(),tn(),Q(),Nt(),Q(),Nt();var qq=function(){function t(t){this.J$t=0,this.Dc=t}var n=t.prototype;return n.Pc=function(){if(!(this.J$t>=this.Dc.length)){var t=this.Dc[this.J$t];return this.J$t+=1,t}},n.lt=function(){return this.Pc()},t}();function $q(t){var n,i,r;return null!=(r=null==(i=t.pJt)||null==(n=i.XHt)?void 0:n.qHt())?r:[]}var t$=function(){},n$=function(){function t(){this.Za=void 0}return t.prototype.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get ads(){return t.Vc.map((function(t){return t.lrt()}))},get integration(){return t.wJt},get maxDuration(){return t.$$t},get maxRemainingDuration(){return t.t0t},get timeOffset(){return t.lzt},get customData(){return t.D$t}}}(this)},t}(),i$=function(){function t(t,n){this.e0t=t,this.ta=n}return Ct(t,[{key:"i0t",get:function(){return this.e0t}},{key:"t",get:function(){return this.ta}}]),t}(),r$=function(t){function n(n,i){var r;return(r=t.call(this)||this).o0t=[],r.a0t=[],r.IJt=n,r.h0t=i,r}Et(n,t);var i=n.prototype;return i.n0t=function(t,n,i,r){var e=Do(this.o0t,(function(n){return n.lXt===t}));if(void 0!==e)return e;var u=new o$(t,n,this,this.h0t,i,r);return this.o0t.push(u),u},i.r0t=function(t,n,i,r,e){var u=Do(this.a0t,(function(n){return n.gXt===t}));if(void 0!==u)return u;var s=new s$(t,n,i,this,this.h0t,r,e);return this.a0t.push(s),s},Ct(n,[{key:"WKt",get:function(){return this.IJt}},{key:"Vc",get:function(){for(var t=[],n=0,i=this.IJt.s0t;n<i.length;n++)for(var r=i[n],e=0,u=$q(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.fXt)?void 0:s.zXt)?o:[];if(a.lXt&&t.push(this.n0t(a.lXt,c,a._Xt,r.Drt)),a.gXt)for(var h=0,f=a.gXt.vXt;h<f.length;h++){var v=f[h];t.push(this.r0t(v,c,a.gXt,a._Xt,r.Drt))}}return t}},{key:"wJt",get:function(){return CT.CSAI}},{key:"lzt",get:function(){var t=this.IJt.sd;return t>=0?t:this.h0t.t._d()}},{key:"t0t",get:function(){for(var t=0,n=0,i=this.IJt.s0t;n<i.length;n++)for(var r=0,e=$q(i[n]);r<e.length;r++){var u=e[r];u.lXt&&!u.lXt.Pqt&&(t+=u.lXt.ct)}return this.h0t&&this.h0t.i0t&&(t+=this.h0t.i0t.ct-this.h0t.i0t.LE),t}},{key:"$$t",get:function(){for(var t=0,n=0,i=this.IJt.s0t;n<i.length;n++)for(var r=0,e=$q(i[n]);r<e.length;r++){var u=e[r];u.lXt&&(t+=u.lXt.ct)}return t}},{key:"D$t",get:function(){}}]),n}(n$),e$={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},u$=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).c0t=!1,o.w0t=n,o.BXt=i,o.DXt=r,o.h0t=e,o.kqt=u,o.mJt=s,o}Et(n,t);var i=n.prototype;return i.u0t=function(){return this.c0t},i.l0t=function(){this.c0t=!0},i.d0t=function(t){return ys({},e$,{resourceURI:t.mKt||""})},i.f0t=function(t){return ys({},e$,{contentHTML:t.mKt.trim(),type:"HTMLResource"})},i.g0t=function(t){var n,i;return ys({},e$,{clickThrough:(null==(n=t.rqt)?void 0:n.trim())||"",resourceURI:(null==(i=t.mKt)?void 0:i.trim())||"",altText:t.sqt||"",type:"StaticResource"})},i._0t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.fXt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.qXt||"",height:t.Ti||0,width:t.ji||0};if(t.AXt){var e,u=n.g0t(t.AXt),s=u.clickThrough||(null==(e=t.tqt)?void 0:e.rqt);i=ys({},u,{contentHTML:n._0t(u.resourceURI,s,u.altText)||""})}else if(t.TXt)i=n.f0t(t.TXt);else{if(!t.bXt)return;i=n.d0t(t.bXt)}return Wg(i,r)})).filter((function(t){return void 0!==t})):[]},i.v0t=function(){return this.w0t.nXt},Ct(n,[{key:"Yl",get:function(){return this.DXt}},{key:"Drt",get:function(){return this.mJt}},{key:"_Xt",get:function(){return this.kqt}}]),n}(t$),s$=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).m0t=r,a}Et(n,t);var i=n.prototype;return i.ma=function(){var t=this.DXt,n={companions:this.fXt(this.BXt),type:"nonlinear",id:this.w0t.EXt,skipOffset:this.Oqt,integration:this.mJt.integration,adSystem:this.w0t.nXt,get adBreak(){return t.lrt()},creativeId:this.w0t.EXt,universalAdIds:this.kqt.map((function(t){return{adIdRegistry:t.OKt,adIdValue:t.PKt}}))};return this.w0t.bXt?Wg(this.d0t(this.w0t.bXt),n):this.w0t.TXt?Wg(this.f0t(this.w0t.TXt),n):this.w0t.AXt?Wg(this.g0t(this.w0t.AXt),n):n},i.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},i.p0t=function(){var t,n;return null!=(n=null==(t=this.w0t.AXt)?void 0:t.mKt)?n:""},i.A0t=function(){var t,n,i;return null!=(i=null==(n=this.w0t)||null==(t=n.AXt)?void 0:t.AKt)?i:""},Ct(n,[{key:"gXt",get:function(){return this.w0t}},{key:"dXt",get:function(){return this.m0t}},{key:"Oqt",get:function(){var t,n=this.w0t.Yl;return n&&n.Drt&&void 0!==n.Drt.skipOffset?oq.vJt(n.Drt.skipOffset,this.h0t.i0t.ct):(null==(t=this.w0t.Yl)?void 0:t.Oqt)||-1}}]),n}(u$),o$=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)||this}Et(n,t);var i=n.prototype;return i.ma=function(){var t,n=this.DXt,i=this.w0t;return{companions:this.fXt(this.BXt),duration:i.ct,id:i.EXt,mediaFiles:i.xqt,get mediaUrl(){return i.zqt},skipOffset:this.Oqt,type:"linear",integration:this.mJt.integration,adSystem:i.nXt,width:void 0,height:void 0,get adBreak(){return n.lrt()},clickThrough:null==(t=i.bqt)?void 0:t.rqt,creativeId:i.EXt,universalAdIds:this.kqt.map((function(t){return{adIdRegistry:t.OKt,adIdValue:t.PKt}})),closedCaptionFiles:i.Uqt}},i.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},i.p0t=function(){return this.w0t.xqt.length>0?this.w0t.xqt[0].contentURL:""},i.A0t=function(){return this.w0t.xqt.length>0?this.w0t.xqt[0].type:""},Ct(n,[{key:"lXt",get:function(){return this.w0t}},{key:"Oqt",get:function(){var t=this.w0t.Yl;return t&&t.Drt&&void 0!==t.Drt.skipOffset?oq.vJt(t.Drt.skipOffset,this.h0t.i0t.ct):this.w0t.Oqt||-1}}]),n}(u$);function a$(t){return t instanceof o$}Q(),Nt();var c$=function(t){return t.y0t="csai",t.b0t="google-ima",t.Xh="google-dai",t.M0t="freewheel",t.T0t="mediatailor",t.Dd="chromecast",t.Knt="theoads",t}({});Q(),Nt(),St();var h$=function(t){function n(n){return t.call(this,"S0t",n)||this}return Et(n,t),n.prototype.ma=function(){return new f$(this.Art.lrt())},n}(Jx),f$=function(t){function n(n){return t.call(this,"updatead",n)||this}return Et(n,t),n}(qx);Q(),Nt(),St();var v$=function(t){function n(n){return t.call(this,"N0t",n)||this}return Et(n,t),n.prototype.ma=function(){return new d$(this.Art.lrt())},n}(Jx),d$=function(t){function n(n){return t.call(this,"adloaded",n)||this}return Et(n,t),n}(qx),l$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).D0t=[],e.I0t=void 0,e.w0t=void 0,e.Za=void 0,e.Yr=function(t){var n;if(t){var i=e.PJt.zj,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=nJ(i))?void 0:n.media,c=[];o&&s&&e.x0t(o,s,a,c),e.R0t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e.yo(f)}}},e.ta=n,e.PJt=i,e.k0t=r,e.PJt.YJt(e.Yr),e}Et(n,t);var i=n.prototype;return i.I9=function(t,n,i){throw new p("Scheduling ads while casting is not supported.")},i.ZC=function(){this.PJt.$Jt()},i.wrt=function(t){var n;null==(n=this.k0t)||n.wrt(t)},i._rt=function(t,n){var i;null==(i=this.k0t)||i._rt(t,n)},i.L0t=function(t){return Do(this.D0t,(function(n){return n.o===t}))},i.x0t=function(t,n,i,r){for(var e=this.D0t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.L0t(a.id);void 0===c&&(c=new g$(a),r.push(new Hx(c))),!ci(c.C0t)&&ci(i)&&(c.C0t=this.j0t(c.O0t,i));var h=c.Vc;c.Yn(a,n,i,r);for(var f=c.Vc,v=0;v<f.length;v++){var d=f[v];Oo(h,d)||(r.push(new $x(d)),s=!0)}u.push(c)}this.D0t=u,s&&r.push(new cO);for(var l=0;l<e.length;l++){var g=e[l];Oo(u,g)||r.push(new Zx(g))}},i.R0t=function(t,n){var i,r,e=this.I0t,u=this.w0t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.L0t(o):void 0,r=a?null==(s=this.I0t)?void 0:s.P0t(a):void 0}if(this.I0t=i,this.w0t=r,i!==e&&(void 0!==e&&(e.z0t=void 0,n.push(new nO(e))),void 0!==i&&(i.z0t=this.PJt,n.push(new rO(i)))),r!==u){var c=this.ta.xE();void 0!==u&&n.push(new oO(u,c)),void 0!==r&&n.push(new uO(r,c))}},i.j0t=function(t,n){if(n&&n.breaks){var i=Do(n.breaks,(function(n){return n.id===t.id}));return i}},i.vrt=function(t){for(var n=[],i=0,r=this.D0t;i<r.length;i++){var e=r[i],u=e.Vc;if(e===this.I0t&&void 0!==this.w0t){var s=u.indexOf(this.w0t);s>=0&&(u=u.slice(s))}else if(e.E0t())continue;for(var o=0;o<u.length;o++){var a=u[o].B0t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.I9(h,Yx.art,!1)}},i.gn=function(){return this.Bo(),this.PJt.VJt(this.Yr),void 0!==this.I0t&&(this.I0t.z0t=void 0,this.I0t=void 0),this.w0t=void 0,Ro(this.D0t),st.resolve(void 0)},Ct(n,[{key:"$c",get:function(){return void 0!==this.I0t}},{key:"crt",get:function(){return this.w0t?[this.w0t]:[]}},{key:"drt",get:function(){var t;return null!=(t=this.I0t)?t:null}},{key:"frt",get:function(){var t=this;return Uo(this.D0t,(function(n){var i=n.Vc;if(n===t.I0t&&void 0!==t.w0t){var r=i.indexOf(t.w0t);if(r>=0)return i.slice(r+1)}return n.E0t()?[]:i}))}},{key:"grt",get:function(){var t=this;return this.D0t.filter((function(n){return n===t.I0t||!n.E0t()}))}},{key:"Znt",get:function(){}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=Gx(this)}}]),n}(_a),g$=function(t){function n(n){var i;return(i=t.call(this)||this).C0t=void 0,i.Dc=[],i.z0t=void 0,i.U0t=n,i}Et(n,t);var i=n.prototype;return i.E0t=function(){return this.U0t.isWatched},i.P0t=function(t){return Do(this.Dc,(function(n){return n.o===t}))},i.Yn=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=Do(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Dc.length?e.Dc[u]:new w$(a,e);!ci(c.Q0t)&&ci(i)&&(c.Q0t=e.F0t(i,o,u)),c.Yn(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.U0t=t,this.Dc=s},i.F0t=function(t,n,i){if(t&&t.breakClips){var r=Do(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.C0t)?void 0:e.breakClipIds[i];u&&(r=Do(t.breakClips,(function(t){return t.id===u})))}return r}},Ct(n,[{key:"O0t",get:function(){return this.U0t}},{key:"o",get:function(){return this.U0t.id}},{key:"Vc",get:function(){return this.Dc}},{key:"wJt",get:function(){return c$.Dd}},{key:"$$t",get:function(){var t=this.U0t.duration;return void 0===t&&this.Dc.length>0&&(t=kr(this.Dc,(function(t){return t.ct})),T(t)&&(t=void 0)),t}},{key:"t0t",get:function(){var t=this.$$t;if(void 0!==t&&void 0!==this.z0t){var n=this.z0t.JJt();if(void 0!==n)return k.max(0,t-n)}return t}},{key:"lzt",get:function(){return this.U0t.position}},{key:"D$t",get:function(){}}]),n}(n$),w$=function(){function t(t,n){this.Za=void 0,this.V0t=t,this.Yl=n}var n=t.prototype;return n.v0t=function(){return""},n.A0t=function(){var t;return null!=(t=this.V0t.contentType)?t:""},n.p0t=function(){var t,n;return null!=(n=null!=(t=this.V0t.contentUrl)?t:this.V0t.contentId)?n:""},n.Yn=function(t,n){var i=this.o,r=this.ct,e=this.V0t.contentUrl;this.V0t=t;var u=this.o,s=this.ct,o=this.V0t.contentUrl;i===u&&(r===s||T(r)&&T(s))&&e===o||n.push(new h$(this)),T(r)&&!T(s)&&n.push(new v$(this))},n.B0t=function(){var t;return this.Q0t&&(t=fq(this.Q0t,this.Yl.lzt)),t||(t=fq(this.V0t,this.Yl.lzt)),t},n.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},n.ma=function(){var t=this;return{get companions(){return t.zXt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.xqt},get mediaUrl(){return t.zqt},get closedCaptionFiles(){return[]},get skipOffset(){return t.Oqt},type:"linear",integration:c$.Dd,get adSystem(){return t.v0t()},width:void 0,height:void 0,get adBreak(){return t.Yl.lrt()},get resourceURI(){return t.p0t()},get clickThrough(){return t.rqt},get creativeId(){return t.EXt},get customData(){return t.D$t},get isSlate(){return!1},get universalAdIds(){return t._Xt.map((function(t){return{adIdRegistry:t.OKt,adIdValue:t.PKt}}))}}},Ct(t,[{key:"Y0t",get:function(){return this.V0t}},{key:"o",get:function(){return this.V0t.id}},{key:"zXt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.V0t.duration)?t:NaN}},{key:"xqt",get:function(){var t=this.p0t();return t?[{contentURL:t,delivery:"progressive",type:this.A0t(),width:0,height:0}]:[]}},{key:"zqt",get:function(){return this.p0t()}},{key:"Oqt",get:function(){var t=this.V0t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"rqt",get:function(){return this.V0t.clickThroughUrl}},{key:"EXt",get:function(){}},{key:"_Xt",get:function(){return[]}},{key:"D$t",get:function(){}}]),t}();Q(),Nt(),Zt(),St(),tn();var y$=function(t){function n(n,i){var r;return void 0===i&&(i=Kt.Ys.Je),(r=t.call(this)||this).He=!1,r.H0t=function(t){t.stopPropagation(),r.yo(new ka("clickstart"))},r.X0t=function(t){t.stopPropagation(),r.yo(new ka("click"))},r.lD=n,r.Z0t=i,r.Vs=v.createElement("a"),r.Vs.style.position="absolute",r.Vs.style.zIndex="11",r.Vs.target="Vu",r.Z0t?(bj(r.Vs,"learn more"),r.Vs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Vs.setAttribute("rel","noopener")):Si(r.Vs),r.lD.appendChild(r.Vs),r.kQ(),r}Et(n,t);var i=n.prototype;return i.EQ=function(){if(!this.He){this.He=!0,this.Vs.style.display="",this.Z0t||(this.lD.style.cursor="pointer");var t=this.Z0t?this.Vs:this.lD;Kt.Ys.Je?(t.addEventListener("touchstart",this.H0t),t.addEventListener("touchend",this.X0t)):(t.addEventListener("mousedown",this.H0t),t.addEventListener("click",this.X0t))}},i.kQ=function(){if(this.He){this.He=!1,this.Vs.style.display="none",this.Z0t||(this.lD.style.cursor="");var t=this.Z0t?this.Vs:this.lD;Kt.Ys.Je?(t.removeEventListener("touchstart",this.H0t),t.removeEventListener("touchend",this.X0t)):(t.removeEventListener("mousedown",this.H0t),t.removeEventListener("click",this.X0t))}},i.wy=function(){this.Bo(),this.kQ(),this.lD.removeChild(this.Vs)},Ct(n,[{key:"G0t",get:function(){return this.W0t},set:function(t){this.W0t!==t&&(this.W0t=t,this.Vs.href=null!=t?t:"",t?this.EQ():this.kQ())}}]),n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt();var m$=[1200,992,768,576],A$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},p$=function(){function t(t,n){var i=this;this.Vs=t,this.Xu=n,this.mn=function(t){i.q0t(t.width)},this.K0t=_$(n.Su),Ni(this.Vs,this.K0t),n.yn(_D.pn,this.mn)}var n=t.prototype;return n.q0t=function(t){var n=_$(t);n!==this.K0t&&(Ni(this.Vs,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+bi(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");Ti(t,i.trim())}}(this.Vs,this.K0t),this.K0t=n)},n.gn=function(){this.Xu.fn(_D.pn,this.mn)},t}();function _$(t){for(var n=0;n<m$.length;n++){var i=m$[n];if(t>i)return A$[i]}return"theo-size-xs"}var k$=function(t){function n(n,i){var r;return(r=t.call(this)||this).e1t=function(){r.yo(new ka("ZC"))},r.Vs=v.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.Zl=v.createElement("span"),r.we.appendChild(r.Zl),i&&(r.s1t=v.createElement("div"),r.s1t.className="theoplayer-ad-skip-poster",r.s1t.style.backgroundImage='url("'+ho(i)+'")',r.we.appendChild(r.s1t)),r.zo="countdown",r.Gu=new p$(r.we,n),r}Et(n,t);var i=n.prototype;return i.J0t=function(t){"countdown"!==this.zo&&(this.zo="countdown",this.$0t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.UN="You can skip in "+k.round(t)+" seconds"},i.t1t=function(){"skip"!==this.zo&&(this.zo="skip",this.UN="Skip Ad",this.i1t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.i1t=function(){this.we.addEventListener("mouseup",this.e1t),this.we.addEventListener("touchend",this.e1t)},i.$0t=function(){this.we.removeEventListener("mouseup",this.e1t),this.we.removeEventListener("touchend",this.e1t)},i.gn=function(){this.Bo(),this.$0t(),this.Gu.gn(),ki(this.Vs),ki(this.Zl),this.s1t&&ki(this.s1t)},Ct(n,[{key:"we",get:function(){return this.Vs}},{key:"UI",get:function(){return this.zo}},{key:"UN",get:function(){return this.Zl.textContent||""},set:function(t){bj(this.Zl,t)}}]),n}(Aa);sn();var M$=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).QDt=GM.PP(),s.S1t=void 0,s.W5=!1,s.dV=void 0,s.w1t=void 0,s.Z5=UA.Nz,s.D1t=!1,s.Fo=GM.PP(),s.I5=void 0,s.kG=!1,s.Oz=new dw,s.Pz=new dw,s.Ul=new cA,s.yDt=NaN,s.T1t=void 0,s.v1t=!1,s.M1t=NaN,s.y1t=void 0,s.c1t=0,s.P1t=function(t,n){switch(t){case"buffered":s.QDt=new GM(n),s.yo(new nE(s.xE()));break;case"currentProgramDateTime":s.S1t=new Date(n).getTime()-s.xE();break;case"played":s.Fo=new GM(n);break;case"seekable":s.f1t();break;case"videoHeight":s.A1t(void 0,n);break;case"videoWidth":s.A1t(n,void 0)}},s.q3=function(t){switch(t.type){case Ma.Mb:s.We(t.currentTime);break;case Ma.bb:s.YV();break;case Ma.Ab:s.yo(new iB(t.representation,t.previousRepresentation));break;case Ma.Tb:s.yo(new SR(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case Ma.Xy:s.yo(new WQ(t.currentTime,t.initDataType,t.initData));break;case Ma.Yy:s.yo(new dC(new ww(wd.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case Ma.Vy:s.yo(new lC)}},s.T$t=function(t){s.f1t(),s._1t(),s.th(),s.m1t(),s.b1t(),s.d1t(),s.o1t(),s.n1t(),s.E1t(),s.L1t(),s.j1t(),t||b$(s.PJt.zj)&&s.Sh()},s.ld=function(){s.b1t(),s.j1t()},s.z1t=function(t){s.yo(t)},s.N1t=en((function(t){return s.p7(t)}),50),s.HJt=function(t){s.T1t=void 0,s.yo(new dq(t))},s.C1t=function(){s.Rk()},s.R1t=function(){s.Dc.ZC()},s.ta=n,s.nOt=r,s.PJt=e,s.Dc=new l$(n,e,i.Vc),s.O$t=u.B$t(),s.JM=u._d()-s.O$t,s.CG=u.JE(),s.jG=u.ek(),s.P$t=u.Sk(),s.z$t=u.bk(),s.PJt.QJt(s.q3),s.PJt.zJt(s.P1t),s.PJt.YJt(s.T$t),s.PJt.yn(vq.OJt,s.z1t),s.PJt.GJt().then((function(t){s.yo(new lq(t.bt,t.kc))}),s.HJt),s}Et(n,t);var i=n.prototype;return i.n1t=function(){var t=this.PJt.zj.activeTrackIds;if(t){if(this.r1t()){var n=this.Pz.AL.map((function(t){return t.o})),i=this.Oz.AL.map((function(t){return t.o}));Oo(n.concat(i),"0")&&t.push(0)}I$(t,this.Oz),I$(t,this.Pz),function(t,n){for(var i=!1,r=0,e=n.AL;r<e.length;r++){var u=e[r];u.G$t=Oo(t,u.zL)?iA.Jn:iA.Ch}}(t,this.Ul)}},i.o1t=function(){var t,n=null==(t=this.PJt.zj.media)?void 0:t.tracks;if(n){var i=n.filter(Gq),r=n.filter(Vq),e=n.filter(Fq);if(this.r1t()&&0===r.length&&0!==this.Sk()){var u=this.h1t();r.push(u)}if(this.r1t()&&0===i.length){var s=this.a1t();i.push(s)}N$(this.Oz,i.map((function(t){return t.trackId}))),N$(this.Pz,r.map((function(t){return t.trackId}))),N$(this.Ul,e.map((function(t){return t.trackId}))),D$(i,this.Oz),D$(r,this.Pz),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=T$(n,e.trackId);u||(u=new Wq(e),n.tt(u),i=!0)}}(e,this.Ul)}},i.u1t=function(){this.CG||(this.c1t=y(this.ld,250))},i.l1t=function(){m(this.c1t)},i.d1t=function(){this.l1t(),this.u1t()},i.f1t=function(){var t,n,i=this.PJt.zj,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.JM=s,this.g1t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(ci(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,d=o.isLiveDone,l=void 0!==d&&d;this.$Bt(c,h,v,l)}else if(ci(a)){var g=En(a.seekable,2),w=g[0],y=g[1];this.$Bt(w,y,u,!1)}else u?this.$Bt(void 0,void 0,!0,!1):this.$Bt(0,s,!1,!1)},i._1t=function(){var t=this.PJt.zj,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||b$(t);this.v1t=n,this.CG!==n&&(this.CG=n,this.CG?this.yo(new Db(this.xE())):this.yo(new Ib(this.xE())))},i.th=function(){var t=this.PJt.zj.playbackRate;this.w1t!==t&&(this.w1t=void 0,this.jG!==t&&(this.jG=t,this.yo(new Sb(this.xE(),t))))},i.m1t=function(){var t;switch(this.PJt.zj.playerState){case chrome.cast.media.PlayerState.IDLE:t=UA.Nz;break;case chrome.cast.media.PlayerState.BUFFERING:t=UA.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=UA.Dz}this.X5(t),this.p1t()},i.$Bt=function(t,n,i,r){ci(t)&&ci(n)?this.I5=new dS(t,n,i,i&&!r):this.I5=void 0},i.A1t=function(t,n){this.z$t=null!=n?n:this.z$t,this.P$t=null!=t?t:this.P$t,this.yo(new xA)},i.We=function(t){this.y1t!==t?(this.kG=!0,this.yo(new Cb(this.xE()))):this.y1t=void 0},i.YV=function(){if(this.kG){this.kG=!1;var t=this.xE();this.yo(new Cg(t,this.DE())),this.yo(new jb(t))}},i.Sh=function(){this.W5=!0,this.RE()&&this.yo(new Lb(this.xE()))},i.g1t=function(){var t=this.yDt,n=this._d();t===n||T(t)&&T(n)||(this.yDt=n,this.yo(new Eb(n)))},i.b1t=function(){var t=this.xE();this.kG||this.M1t===t||(this.M1t=t,this.yo(new Cg(t,this.DE())))},i.R$t=function(){this.CG&&(this.CG=!1,this.yo(new Ib(this.xE())),this.X5(UA.Nz))},i.Ynt=function(){return this.Dc},i.SE=function(){return this.QDt.Gb(this.O$t)},i.xE=function(){if(this.Dc.$c){var t=this.PJt.KJt();if(void 0!==t)return t}return this.Cnt()},i.Cnt=function(){return void 0!==this.T1t?this.O$t+this.T1t:this.W5?this._d():this.O$t+this.PJt.qJt()},i.DE=function(){if(this.S1t)return new Date(this.Cnt()+this.S1t)},i._d=function(){if(this.Dc.$c){var t,n=null==(t=this.Dc.crt[0])?void 0:t.ct;if(void 0!==n&&!T(n))return n}return this.O$t+this.JM},i.PE=function(){return this.dV},i.RE=function(){return!this.Dc.$c&&this.W5},i.JE=function(){return this.CG},i.ek=function(){return this.jG},i.nk=function(t){this.jG!==t&&(this.w1t=this.jG,this.jG=t,this.yo(new Sb(this.xE(),t)),this.PJt.nk(t))},i.gk=function(){return this.Z5},i.hk=function(){return this.Dc.$c?GM.RP(0,this.xE()):this.Fo.Gb(this.O$t)},i.vk=function(){var t,n;if(this.Dc.$c)return GM.PP();var i=null!=(n=null==(t=this.I5)?void 0:t.Q3().Gb(this.O$t))?n:GM.PP();if(i.V>0){var r=i.jn(i.V-1);i=i.pP(GM.RP(r,this.xE()))}return i},i.pk=function(){return this.kG},i.AE=function(){return this.Oz},i.Mk=function(){return this.Pz},i.Ak=function(){return this.Ul},i.h1t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.bk(),id:"0",name:"",width:this.Sk()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:Qq.NI}},i.a1t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:Qq.SI}},i.r1t=function(){var t,n;return!(void 0!==(null==(t=this.nOt.WJt())?void 0:t.version))||(null==(n=this.nOt.WJt())?void 0:n.sdkType)===Jq.K$t},i.XJt=function(t){this.r1t()&&Co(t,0),this.PJt.XJt(t)},i.Sk=function(){return this.P$t},i.bk=function(){return this.z$t},i.Pk=function(){this.CG&&(this.CG=!1,this.v1t=!1,this.yo(new Ib(this.xE()))),this.PJt.Pk()},i.Rk=function(){this.CG||(this.CG=!0,this.v1t=!0,this.yo(new Db(this.xE()))),this.PJt.Rk()},i.Wb=function(t){if(!this.Dc.$c){var n=k.max(0,t-this.O$t);n=k.round(1e6*n)/1e6;var i=this.T1t;this.T1t=n,this.v1t=this.JE(),this.y1t=n,this.kG=!0,this.yo(new Cb(this.xE())),void 0===i&&(this.r1t()?this.N1t(n):this.p7(n))}},i.p7=function(t){this.PJt.Wb(t,this.v1t).then(this.I1t(t)).catch(this.HJt)},i.I1t=function(t){var n=this;return function(){void 0!==n.T1t&&(n.T1t===t?n.T1t=void 0:n.p7(n.T1t))}},i.X5=function(t){this.Z5!==t&&(this.Z5=t,this.yo(new BA(this.xE(),t))),void 0===this.T1t&&this.kG&&t>=UA.Iz&&this.YV(),this.p1t()},i.p1t=function(){if(this.CG)this.D1t=!1;else{var t=this.Z5>=UA.Dz;this.D1t!==t&&(this.D1t=t,t?this.yo(new FA(this.xE())):this.yo(new YA(this.xE())))}},i.E1t=function(){this.k1t||(this.k1t=v.createElement("div"),this.ta.we.appendChild(this.k1t),this.k1t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.k1t.style.zIndex="10",Si(this.k1t)),this.k1t.style.display=this.Dc.$c?"":"none"},i.L1t=function(){var t,n=null==(t=this.Dc.crt[0])?void 0:t.rqt;n&&!this.x1t?(this.x1t=new y$(this.k1t,!0),this.x1t.G0t=n,this.x1t.yn("clickstart",this.C1t)):this.x1t&&(this.x1t.G0t=n)},i.j1t=function(){var t,n=null==(t=this.Dc.crt[0])?void 0:t.Oqt;if(void 0===n||n<0)this.O1t&&(this.O1t.gn(),this.O1t=void 0);else{if(!this.O1t){var i,r=null==(i=this.ta.Ca)?void 0:i.mi;this.O1t=new k$(this.ta.Uu,r),this.k1t.appendChild(this.O1t.we),this.O1t.yn("ZC",this.R1t)}var e=this.PJt.KJt();void 0!==e&&(e<n?this.O1t.J0t(n-e):this.O1t.t1t())}},i.B$t=function(){return this.O$t},i.U$t=function(t){this.O$t=t},i.vrt=function(t){},i.zk=function(){this.PJt.zk()},i.gn=function(){this.Bo(),this.Dc.gn(),this.x1t&&(this.x1t.wy(),this.x1t=void 0),this.O1t&&(this.O1t.gn(),this.O1t=void 0),this.k1t&&(ki(this.k1t),this.k1t=void 0),this.PJt.FJt(this.q3),this.PJt.UJt(this.P1t),this.PJt.VJt(this.T$t),this.PJt.fn(vq.OJt,this.z1t),this.PJt.gn()},n}(Aa);function b$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function T$(t,n){for(var i=0,r=t.AL;i<r.length;i++){var e=r[i];if(e.zL===n)return e}}function N$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.bL(r);-1===n.indexOf(e.zL)&&(t.it(e),r--,i=!0)}return i}function D$(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=T$(n,e.trackId);u||(u=new Kq(e),n.tt(u),i=!0)}return i}function I$(t,n){for(var i=0,r=n.AL;i<r.length;i++){var e=r[i];e.X$t=Oo(t,e.zL)}return!1}Q(),Nt();var E$=function(){function t(){}var n=t.prototype;return n.Qrt=function(t){return st.resolve("all")},n.Ok=function(){},n.gn=function(){},t}();Q(),Nt();var S$=[Ma.qy,Ma.Zy,Ma.pb,Ma.yb,Ma.wb,Ma.so,Ma.mb,Ma.Eb,Ma.Mb,Ma.bb,zA.rP,zA.oP,Ma.Ab,Ma.Tb,Ma.Xy,Ma.Yy,Ma.Vy],L$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).Kh=!1,r.u2t=qt,r.qQ=UA.Nz,r.VQ=!1,r.ZQ=!1,r.G1t=!1,r.Y1t=void 0,r.dV=void 0,r.fV=void 0,r.Oz=new wM,r.Pz=new wM,r.Ul=new yM,r.Zo=new vT,r.Rz=new mM,r.Int=new E$,r.n2t=void 0,r.r2t=void 0,r.o2t=void 0,r.l2t=function(t){var n,i;(ci(t.Nk)&&!wr(t.Nk,r.cT,1e-5)||ci(t.WE)&&t.WE!==r.xG)&&(r.cT=null!=(n=t.Nk)?n:r.cT,r.xG=null!=(i=t.WE)?i:r.xG,r.yo(new xb(r.LE,r.cT)))},r.d2t=function(){var t=r.nOt.S$t();r.Xgt=t?new M$(r,r.ta,r.nOt,t,r.Ea):r.c2t()},r.Q1t=function(t){r.DG(t.bt),r.B1t(t.kc)},r.f2t=function(t){var n=r.U1t(t.Fj);if(n){var i={targetQualityIds:t._$t};n.W$t(i)}},r.z1t=function(t){r.Z1t(t.lt)},r.Z1t=function(t){r.u2t&&r.u2t(t)},r.IOt=function(t){r.dV=t.lt,r.fV=_w(r.dV),r.yo(new zk(r.fV))},r.t2t=function(t){if(t.enabled)for(var n=0,i=(r.rt.AL.some((function(n){return n.zL===t.trackId}))?r.rt:r.ht).AL;n<i.length;n++){var e=i[n];e.Rt&&e.zL!==t.trackId&&(e.Rt=!1)}},r.i2t=function(t){if(t.mode===iA.Jn)for(var n=0,i=r.nt.AL;n<i.length;n++){var e=i[n];e.UI===iA.Jn&&e.zL!==t.trackId&&dA(e.Lt,t.track.Lt)&&(e.UI=iA.Ch)}},r.n1t=en((function(){r.e2t()}),50),r.J1t=function(){var t,n,i=[],e=null!=(t=Do(r.ht.AL,(function(t){return Q$(t,r.n2t)})))?t:Do(r.ht.AL,(function(t){return t.Rt}));e&&i.push(e.zL);var u,s=null!=(n=Do(r.nt.AL,(function(t){return Q$(t,r.r2t)})))?n:Do(r.nt.AL,(function(t){return t.UI===iA.Jn}));s&&i.push(s.zL);var o=null!=(u=Do(r.rt.AL,(function(t){return Q$(t,r.o2t)})))?u:Do(r.rt.AL,(function(t){return t.Rt}));o&&i.push(o.zL),0!==i.length&&r.Ea.XJt(i)},r.jpt=function(t){var n=r.h2t(t.targetQuality),i=t.track;r.nOt.v$t(i.zL,i.E3,n)},r.rF=function(t){r.yo(t);var n=t.readyState;!r.VQ&&r.qQ===UA.Nz&&n>=UA.Xn&&(r.VQ=!0,r.yo(new PA(t.currentTime))),!r.ZQ&&r.qQ<=UA.Xn&&n>=UA.Iz&&(r.ZQ=!0,r.yo(new QA(t.currentTime))),r.qQ<=UA.Iz&&n>=UA.Dz&&r.yo(new GA(t.currentTime)),r.qQ<=UA.Dz&&n===UA.Ez&&r.yo(new VA(t.currentTime)),r.qQ=n},r.cT=r.ta.Nk,r.xG=r.ta.WE,r.nOt=i,r.nOt.yn(Nq.OJt,r.z1t),r.nOt.yn(Nq.d$t,r.IOt),r.nOt.yn(Nq.kb,r.l2t),r.nOt.yn(Nq.l$t,r.d2t),r.nOt.yn(Nq.f$t,r.f2t),r.Dc=new fO(r),r.AG=r.ta.bt,r.wc=r.ta.Ya(),r.Xgt=new Bq(r,0,r.ta.Cnt(),r.ta._d(),r.ta.OE,r.ta.KE,r.ta.$E,r.ta.Tk,r.ta.yk),r.H1t(),r}Et(n,t);var i=n.prototype;return i.DG=function(t){t&&(Xg(this.AG&&Jg(this.AG),t&&Jg(t))||(this.AG=t,this.yo(new Wb(t))))},i.B1t=function(t){if(t){var n=pN(t,this.ta.md);Xg(this.wc&&Jg(this.wc),n&&Jg(n))||(this.Ea.U$t(0),this.wc=n,this.yo(new zx(n)),this.Ea.R$t())}},i.U1t=function(t){for(var n=0,i=this.rt.AL;n<i.length;n++){var r=i[n];if(r.zL===t)return r}for(var e=0,u=this.ht.AL;e<u.length;e++){var s=u[e];if(s.zL===t)return s}},i.Ynt=function(){return this.Dc},i.Vnt=function(){return this.Int},i.AE=function(){return this.Oz},i.SE=function(){return this.Ea.SE().ks()},i.$n=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return t?[4,i.N$t(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.V1t=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.Y1t)?i:n.wc)?(u=n.Y1t?null!=(e=n.Y1t.ads)?e:[]:n.Crt(),s=n.ta._d(),o=n.ta.vk(),a=function(t,n,i){return T(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.Cnt(),[4,n.N$t(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.Crt=function(){var t=new dO;return this.Dc.vrt(t),t.Crt()},i.DE=function(){return this.Ea.DE()},i.kE=function(){return this.AG},i.xE=function(){return this.Ea.xE()},i.Cnt=function(){return this.Ea.Cnt()},i.CE=function(t,n){this.G1t||(this.nOt.S$t()||this.G1t||!this.wc?this.Ea.Wb(t):this.$n(this.wc,t))},i._d=function(){return this.Ea._d()},i.RE=function(){return this.Ea.RE()},i.PE=function(){return this.dV},i.BE=function(){return this.fV},i.QE=function(){return this.Rz},i.GE=function(){return this.ta.VE},i.ZE=function(){return this.xG},i.HE=function(t){this.xG=t,this.yo(new xb(this.LE,this.Nk)),this.nOt.HE(t)},i.JE=function(){return this.Ea.JE()},i.ek=function(){return this.Ea.ek()},i.nk=function(t){this.Ea.nk(t)},i.hk=function(){return this.Ea.hk().ks()},i.lk=function(){return oT.Mz},i.dk=function(t){},i.gk=function(){return this.Ea.gk()},i.vk=function(){return this.Ea.vk().ks()},i.pk=function(){return this.Ea.pk()},i.Ya=function(){return this.wc},i.ka=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.wc=t,[4,n.$n(t)];case 1:return i.sent(),n.Y1t=void 0,n.Ea.R$t(),[2]}}))}))()},i.Ak=function(){return this.Ul},i.bk=function(){return this.Ea.bk()},i.Sk=function(){return this.Ea.Sk()},i.Mk=function(){return this.Pz},i.Ik=function(){return this.cT},i.Dk=function(t){this.cT=t,this.yo(new xb(this.LE,this.Nk)),this.nOt.Dk(t)},i.jk=function(){},i.Ck=function(){return this.Zo},i.Ok=function(){},i.Pk=function(){this.nOt.S$t()||this.G1t||!this.wc?this.Ea.Pk():this.$n(this.wc)},i.Rk=function(){this.Ea.Rk()},i.ur=function(){this.Kh=!0},i.ar=function(){this.AG=void 0,this.Kh=!1},i.ge=function(){},i.be=function(){},i.N$t=function(t,n,i,r,e,u){var s=this;return yn((function(){var o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:s.G1t=!0,s.W1t(),s.Ea.U$t(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={I$t:t,Vc:n,LE:k.max(0,u-e),ct:r,I1:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,D$t:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.nOt.N$t(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.Z1t(h),[3,5];case 4:return s.G1t=!1,[7];case 5:return[2]}}))}))()},i.H1t=function(){this.X1t(this.Oz),this.X1t(this.Pz),this.q1t(this.Ul)},i.X1t=function(t){for(var n=this,i=0,r=t.AL;i<r.length;i++){var e=r[i];this.K1t(e)}t.yn(Rg.Hk,(function(t){n.K1t(t.Ht),n.J1t()}))},i.q1t=function(t){for(var n=this,i=0,r=t.AL;i<r.length;i++){var e=r[i];this.$1t(e)}t.yn(Rg.Hk,(function(t){n.$1t(t.Ht),n.J1t()}))},i.K1t=function(t){t.yn(Uq.F$t,this.jpt),t.yn(Uq.Y$t,this.t2t),t.yn(Uq.Y$t,this.n1t)},i.$1t=function(t){t.yn(Uq.Q$t,this.i2t),t.yn(Uq.Q$t,this.n1t)},i.e2t=function(){for(var t=[],n=0,i=this.rt.AL;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.zL)}for(var e=0,u=this.ht.AL;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.zL)}for(var o=0,a=this.nt.AL;o<a.length;o++){var c=a[o];c.UI===iA.Jn&&t.push(c.zL)}this.Ea.XJt(t)},i.s2t=function(t,n,i){this.n2t=t,this.r2t=n,this.o2t=i},i.h2t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.nOt.WJt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.a2t=function(t){this.u2t=t},i.Fk=function(){},i.Yk=function(){},i.Wk=function(t){throw new A("Can't add a track while casting.")},i.zk=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Ea.zk(),t.W1t(),[2]}))}))()},i.W1t=function(){this.qQ=UA.Nz,this.VQ=!1,this.ZQ=!1,this.dV=void 0,this.fV=void 0},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.W1t(),t.Bo(),t.Xgt=t.c2t(),t.nOt.fn(Nq.OJt,t.z1t),t.nOt.fn(Nq.d$t,t.IOt),t.nOt.fn(Nq.kb,t.l2t),t.nOt.fn(Nq.l$t,t.d2t),t.nOt.fn(Nq.f$t,t.f2t),t.nOt.gn(),[2]}))}))()},i.c2t=function(){return new Bq(this,this.Ea.B$t(),this.Ea.xE(),this.Ea._d(),this.Ea.RE(),this.Ea.JE(),this.Ea.ek(),this.Ea.Sk(),this.Ea.bk())},Ct(n,[{key:"Xgt",get:function(){return this.Ea},set:function(t){var n=this.Ea;n&&(n.fn(vq.OJt,this.z1t),n.fn(vq.RJt,this.Q1t),n.fn(S$,this.Ds),n.fn(zA.lL,this.rF),t.U$t(n.B$t()),n.vrt(t.Ynt())),this.Ea=t,this.Oz.TL=t.AE(),this.Pz.TL=t.Mk(),this.Ul.TL=t.Ak(),this.Dc.TL=t.Ynt(),n&&n.gn(),t.yn(vq.OJt,this.z1t),t.yn(vq.RJt,this.Q1t),t.yn(S$,this.Ds),t.yn(zA.lL,this.rF)}},{key:"Yh",get:function(){return this.Kh}},{key:"Vc",get:function(){return this.Ynt()}},{key:"F1t",get:function(){return this.Y1t||this.wc},set:function(t){this.Y1t=t}},{key:"LE",get:function(){return this.xE()},set:function(t){this.CE(t)}},{key:"xk",get:function(){return!1},set:function(t){}}]),n}(iM);Q(),Nt(),St();var C$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return Et(n,t),n.prototype.ma=function(){return new j$(this.lt)},n}(jg),j$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var x$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return Et(n,t),n}(ka);function O$(t,n){var i=void 0;return{get casting(){return t.TJ},get error(){return t.lt},get receiverName(){return t.g2t},get state(){return t.Xgt},start:function(){t.Cn()},stop:function(){t.zk()},join:function(){t._2t()},leave:function(){t.v2t()},set connectionCallback(t){null==n||n.w2t(t)},get connectionCallback(){return null==n?void 0:n.m2t()},get source(){return i||t.kc},set source(n){i=n,t.kc=n},addEventListener:function(n,i){var r=ew(n,iw);t.yn(r,i)},removeEventListener:function(n,i){var r=ew(n,iw);t.fn(r,i)}}}Q(),Nt(),tn(),sn();var z$=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).dV=void 0,u.Za=void 0,u.ta=void 0,u.Ea=qT.UNAVAILABLE,u.b2t=!1,u.zQ=new ca,u.B2t=function(){u.p2t.yn(Oq.j$t,u.z2t),u.Xgt=u.p2t.U2t()},u.z2t=function(t){var n=t.Xgt;u.Xgt=n,n!==qT.UNAVAILABLE&&n!==qT.AVAILABLE||u.D2t(!1).catch(u.e8)},u.Y1t=void 0,u.e8=function(t){$o(t)||t instanceof VK&&(u.dV=t,u.yo(new C$(t).ga))},u.xK=n,u.y2t=i,u.p2t=e,u.KS=r.chromecast,u.T2t=ea(u.p2t.FK(u.KS,u.zQ.ly),u.zQ),u.T2t.then(u.B2t).catch(u.e8),u}Et(n,t);var i=n.prototype;return i.M2t=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:if(!t.T2t)throw new A("Chromecast must be initialized before starting a session");return[4,t.T2t];case 1:return n.sent(),t.p2t.A2t()?[3,3]:[4,t.p2t.S2t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Cn=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:t.b2t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Xgt=qT.CONNECTING,[4,t.M2t()];case 2:return e.sent(),[4,t.N2t()];case 3:return e.sent(),t.ta&&(n=t.y2t.Ya(),i=t.p2t.I2t(n),t.ta.F1t=i?pN(i,t.y2t.md):t.Y1t,t.ta.V1t()),t.Xgt=qT.CONNECTED,[4,t.y2t.zk()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.D2t(!1).catch(qt),t.Xgt=qT.AVAILABLE,$o(r)||t.e8(r),[3,6];case 6:return[2]}}))}))()},i._2t=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:t.b2t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Xgt=qT.CONNECTING,[4,t.M2t()];case 2:return e.sent(),[4,t.N2t()];case 3:return e.sent(),t.ta&&(n=t.y2t.Ya(),(i=t.p2t.E2t(n))&&(t.ta.F1t=pN(i,t.y2t.md))),t.Xgt=qT.CONNECTED,[4,t.y2t.zk()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.D2t(!0).catch(qt)];case 6:return e.sent(),t.Xgt=qT.AVAILABLE,$o(r)||t.e8(r),[3,7];case 7:return[2]}}))}))()},i.k2t=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.p2t.A2t()?[4,t.Cn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.N2t=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return null!=t.ta||(t.ta=t.L2t()),t.dV=void 0,t.y2t.Rk(),[4,t.xK.x2t(t.ta)];case 1:return n.sent(),[2]}}))}))()},i.L2t=function(){var t=new L$(this.y2t,this.p2t.A2t());return t.a2t(this.e8),t},i.C2t=function(){this.ta&&(this.ta.gn(),this.ta=void 0)},i.D2t=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:if(n.b2t=!1,!n.ta)return[2];i=n.ta.Yh,r=n.ta.Ya(),e=n.ta.Cnt(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.p2t.j2t(r):n.p2t.O2t(r))||(u=r),[4,n.xK.R2t(u,u===r)]):[3,3];case 2:s.sent(),n.y2t.CE(e),n.y2t.Pk(),s.label=3;case 3:return[3,5];case 4:return n.C2t(),[7];case 5:return[2]}}))}))()},i.v2t=function(){this.TJ&&(this.p2t.P2t(!1),this.D2t(!0).catch(this.e8))},i.zk=function(){this.TJ&&(this.p2t.P2t(!0),this.D2t(!1).catch(this.e8))},i.gn=function(){this.zQ.Ty(),this.p2t.fn(Oq.j$t,this.z2t),this.Bo(),this.C2t()},Ct(n,[{key:"TJ",get:function(){return this.Xgt===qT.CONNECTING||this.Xgt===qT.CONNECTED}},{key:"lt",get:function(){return this.dV}},{key:"ga",get:function(){return this.Za||(this.Za=O$(this,this.p2t)),this.Za}},{key:"g2t",get:function(){var t;return null==(t=this.p2t.A2t())?void 0:t.k$t()}},{key:"kc",get:function(){return this.ta?this.ta.F1t:this.Y1t},set:function(t){this.Y1t=t?pN(t,this.y2t.md):void 0,this.ta&&(this.ta.F1t=this.Y1t,this.Y1t&&this.ta.$n(this.Y1t))}},{key:"Xgt",get:function(){return this.Ea},set:function(t){var n=t;this.b2t||n!==qT.CONNECTING&&n!==qT.CONNECTED||(n=qT.AVAILABLE),this.Ea!==n&&(this.Ea=n,this.yo(new x$(this.Xgt)))}}]),n}(_a);Q(),Nt(),Zt(),St(),tn();var R$=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i._2t=function(){Kt.uA("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.v2t=function(){Kt.uA("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Cn=function(){Kt.uA("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.zk=function(){Kt.uA("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.k2t=function(){return st.resolve()},i.gn=function(){},Ct(n,[{key:"TJ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"g2t",get:function(){}},{key:"kc",get:function(){},set:function(t){}},{key:"Xgt",get:function(){return qT.UNAVAILABLE}},{key:"ga",get:function(){return this.Za||(this.Za=O$(this)),this.Za}}]),n}(_a);function B$(t){return{bt:t.bt,LE:t.xE(),ct:t._d(),OE:t.OE,lt:t.PE(),zE:t.BE(),WE:t.WE,KE:t.KE,$E:t.$E,fk:t.fk,wk:t.wk,yk:t.yk,Tk:t.Tk,Nk:t.Nk}}Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var U$=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Oz=new wM,r.Pz=new wM,r.Ul=new yM,r.Rz=new kM,r.jz=new qb(n.xV),r.Oz.TL=n.ht,r.Pz.TL=n.rt,r.Ul.TL=n.nt,r.Rz.TL=n.UE,r.Dc=new fO(r),r.Dc.TL=n.Vc,r}Et(n,t);var i=n.prototype;return i.Ynt=function(){return this.Dc},i.AE=function(){return this.Oz},i.QE=function(){return this.Rz},i._a=function(){return this.jz},i.Ak=function(){return this.Ul},i.Mk=function(){return this.Pz},i.switchContexts=function(t){this.ta=t,this.Oz.TL=t.ht,this.Pz.TL=t.rt,this.Ul.TL=t.nt,this.jz.TL=t.xV,this.Rz.TL=t.UE,this.Dc.TL=t.Vc},i.Q2t=function(t){this.ta!==t&&(this.bG(),this.switchContexts(t),this.yG())},i.zz=function(t){if(this.ta!==t){var n;this.bG(),this.Xnt&&(n=B$(this));var i=this.kE(),r=this.Ck(),e=this.jk();if(this.switchContexts(t),void 0!==n)Vb(this,n,B$(this));var u=this.kE();u!==i&&this.yo(new Wb(u)),this.Ck()!==r&&this.yo(new Zb),this.jk()!==e&&this.yo(new Xb),this.yG()}},i.gn=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(i,n)];case 1:return r.sent(),i.jz.gn(n),i.Oz.gn(n),i.Pz.gn(n),i.Ul.gn(n),i.Rz.gn(),[4,i.Dc.gn(n)];case 2:return r.sent(),[2]}}))}))()},Ct(n,[{key:"UE",get:function(){return this.QE()}}]),n}(iM),P$=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Go=new Nd,r.H2t=void 0,r.jIt=void 0,r.X2t=void 0,r.K2t=function(t){var n=t.Ht;Q$(r.H2t,n)&&(n.Rt=!0)},r.J2t=function(t){var n=t.Ht;Q$(r.jIt,n)&&(n.UI=iA.Jn)},r.$2t=function(t){var n=t.Ht;Q$(r.X2t,n)&&(n.Rt=!0)},r.Z2t=function(){r.W2t.ht.fn(Rg.Hk,r.K2t),r.W2t.nt.fn(Rg.Hk,r.J2t),r.W2t.rt.fn(Rg.Hk,r.$2t)},r.W2t=n,r.md.cast.strategy!==bM.DISABLED?r.F2t=new z$(r,n,r.md.cast,i):r.F2t=new R$,r.qZ.LJ(r.F2t),r}Et(n,t);var i=n.prototype;return i.Ya=function(){var n=t.prototype.Ya.call(this);return!n&&this.F2t.TJ&&this.F2t.kc?this.F2t.kc:n},i.ka=function(n,i){var r=this;return this.Go.Wo((function(i){return r.Y2t=new ca,r.Y2t.Sy(i),ea(t.prototype.ka.call(r,n,r.Y2t.ly),r.Y2t)}),i)},i.Pk=function(){t.prototype.Pk.call(this),this.md.cast.strategy!==bM.AUTO||this.F2t.TJ||this.F2t.k2t()},i.x2t=function(t){var n=this;return this.Go.Wo((function(i){return n.V2t(t,i)}))},i.R2t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.Go.Wo((function(r){return i.G2t(t,n,r)}))},i.V2t=function(t,n){ta(n),this.W2t.Vc&&this.W2t.Vc.vrt(t.Vc),this.Z2t(),this.H2t=Do(this.W2t.ht.AL,(function(t){return t.Rt})),this.jIt=Do(this.W2t.nt.AL,(function(t){return"showing"===t.UI})),this.X2t=Do(this.W2t.rt.AL,(function(t){return t.Rt})),this.q2t=t,this.q2t.s2t(this.H2t,this.jIt,this.X2t),this.zz(t),this.q2t.ur()},i.G2t=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:if(ta(i),void 0===(e=r.q2t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.W2t.zk()]:[3,4];case 2:return s.sent(),ta(i),u=pN(t,r.W2t.md),n&&(u.ads=void 0),r.Y2t=new ca,r.Y2t.Sy(i),[4,ea(r.W2t.ka(u,r.Y2t.ly),r.Y2t)];case 3:s.sent(),s.label=4;case 4:return n&&r.W2t.Vc&&e.Vc.vrt(r.W2t.Vc),[3,7];case 5:return ia(s.sent()),[3,7];case 6:return e.ar(),r.zz(r.W2t),r.H2t=Do(r.q2t.ht.AL,(function(t){return t.Rt})),r.jIt=Do(r.q2t.nt.AL,(function(t){return"showing"===t.UI})),r.X2t=Do(r.q2t.rt.AL,(function(t){return t.Rt})),r.W2t.ht.yn(Rg.Hk,r.K2t),r.W2t.nt.yn(Rg.Hk,r.J2t),r.W2t.rt.yn(Rg.Hk,r.$2t),r.W2t.yn(zA.nP,r.Z2t),r.q2t===e&&(r.q2t=void 0),[7];case 7:return[2]}}))}))()},i.zk=function(){var n,i=this;return this.H2t=void 0,this.jIt=void 0,this.X2t=void 0,this.Z2t(),null==(n=this.Y2t)||n.Ty(),this.Go.Wo((function(){return t.prototype.zk.call(i)}))},i.gn=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return null==(i=n.Y2t)||i.Ty(),n.F2t.gn(),[4,n.R2t()];case 1:return r.sent(),[4,n.Go.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(U$);function Q$(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.kh===t.kh)}Q(),Nt(),An(),Zt(),Tn(),sn();var Y$=function(){function t(t){this.T2t=void 0,this.Za=void 0,this.p2t=t}var n=t.prototype;return n.FK=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.T2t||(n.T2t=n.n4t(t)),[4,n.T2t];case 1:return i.sent(),[2]}}))}))()},n.n4t=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.p2t.FK(t)];case 1:return i.sent(),[2]}}))}))()},n.S2t=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:if(!t.T2t)throw new A("Chromecast must be initialized before starting a session");return[4,t.T2t];case 1:return n.sent(),t.p2t.A2t()?[3,3]:[4,t.p2t.S2t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.r4t=function(){this.p2t.P2t(!1)},n.s4t=function(){this.p2t.P2t(!0)},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{initialize:function(n){var i=t.FK(TM(n));return i.catch(qt),i},startSession:function(){var n=t.S2t();return n.catch(qt),n},endSession:function(){t.s4t()}}}(this)),this.Za}}]),t}();var G$=new Rq,V$=new Y$(G$),F$={get chromecast(){return V$.ga}};aM((function(t){return new P$(t,G$)}),rM.Jnt),Q(),Nt(),Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),An(),Tn();var W$=function(){function t(t){this._4t=t,this.l4t=As(),this.f4t=As()}var n=t.prototype;return n.o4t=function(t,n,i,r){var e=this;t.qG.forEach((function(t){if(!e.h4t(t.a4t)){var u=t.u4t(n,i,r);u&&e.c4t(u)}}))},n.h4t=function(t){return this.l4t.get(t)},n.c4t=function(t){this.l4t.set(t.d4t,t),this.f4t.set(t.d4t,t.g4t),this._4t.iu(t.v4t)},n.wrt=function(t){this.f4t.has(t.d4t)||(this.f4t.set(t.d4t,t),this._4t.iu(t.v4t))},n.w4t=function(t){return this.f4t.forEach(t)},n.m4t=function(t){return this.l4t.forEach(t)},n.p4t=function(t){var n=!1;return this.l4t.forEach((function(i){n=i.p4t(t)||n})),n},n.gn=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return n=[],t.l4t.forEach((function(t){return n.push(t.gn())})),t.f4t.forEach((function(t){return n.push(t.gn())})),[4,st.all(n)];case 1:return i.sent(),t.l4t.clear(),t.f4t.clear(),[2]}}))}))()},t}();Q(),Nt(),St();var Z$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"b4t")||this).kKt=n,u.Pb=i,u.oM=r,u.kc=e,u}return Et(n,t),n.prototype.ma=function(){return new X$(this.kKt,this.Pb,this.oM,this.kc)},n.A4t=function(t){return new n(JJ.GENERAL,t.Pb,t.xKt)},n.y4t=function(t,i){return new n(t.kKt,t.message,t.xKt,i)},n}(jg),X$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return Et(n,t),n}(ka);tn();var H$=function(t){function n(n){var i;return(i=t.call(this)||this).I4t=!1,i.s7=!1,i.Za=void 0,i.L4t=function(t){if(i.I4t){var n=new mw(yw.ADVERTISEMENT_ERROR,t.Pb),r=new md(wd.AD_BLOCKER_DETECTED,t.Pb+" Turn off your AdBlocker and try again.",n);i.E4t.eG(r)}},i.Vst=function(){i.s7=!0},i.E4t=n,i.T4t=new W$(i),i.yn("b4t",i.L4t),n.yn(Ma.so,i.Vst),i}Et(n,t);var i=n.prototype;return i.vrt=function(t){this.S4t((function(n){n.vrt(t)}))},i.I9=function(t,n,i){try{this.I4t=i;var r=jT.Ld.JG(t);if(r.a4t===c$.Knt)return;var e=this.T4t.h4t(r.a4t);if(!e)throw new KJ(JJ.ADBLOCK,void 0,"Ads could not be loaded.");n!==Yx.urt&&this.s7||this.E4t.D4t(e),r.I9(t,n,e,this.I4t)}catch(n){0,this.yo(Z$.y4t(n,t.sources))}},i.ZC=function(){this.S4t((function(t){t.ZC()}))},i.wrt=function(t){this.T4t.wrt(t)},i._rt=function(t,n){return this.E4t._rt(t,n)},i.k4t=function(t){this.T4t.m4t((function(n){n.k4t(t)}))},i.p4t=function(t){return this.T4t.p4t(t)},i.S4t=function(t){return this.T4t.w4t(t)},i.Ok=function(){this.T4t.m4t((function(t){return t.Ok()}))},i.tr=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.s7=!1,n=[],t.T4t.m4t((function(t){return n.push(t.zk())})),[4,st.all(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.T4t.gn()];case 1:return n.sent(),t.E4t.fn(Ma.so,t.Vst),t.fn("b4t",t.L4t),[2]}}))}))()},Ct(n,[{key:"M4t",get:function(){return this.T4t}},{key:"$c",get:function(){var t=!1;return this.S4t((function(n){t=t||n.N4t})),t}},{key:"crt",get:function(){var t=[];return this.S4t((function(n){var i,r=n.crt;r.length&&(i=t).push.apply(i,ln(r))})),t}},{key:"drt",get:function(){var t=null;return this.S4t((function(n){null!=t||(t=n.drt)})),t}},{key:"frt",get:function(){var t=[];return this.S4t((function(n){var i;(i=t).push.apply(i,ln(n.frt))})),t}},{key:"grt",get:function(){var t=[];return this.S4t((function(n){var i;(i=t).push.apply(i,ln(n.grt))})),t}},{key:"Znt",get:function(){}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=Gx(this)}}]),n}(VD);tn(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var K$=function(t){function n(n){var i;return(i=t.call(this)||this).yJt=n,i.Dc=[],i.x4t=-1,i.C4t=-1,i.j4t=void 0,i.R4t=!1,i}Et(n,t);var i=n.prototype;return i.O4t=function(){this.R4t=!0},i.P4t=function(t){this.Dc.push(t),this.R4t=!1},i.z4t=function(t){Co(this.Dc,t)},Ct(n,[{key:"Vc",get:function(){return this.Dc}},{key:"$$t",get:function(){return this.x4t},set:function(t){this.x4t=t}},{key:"t0t",get:function(){return this.C4t},set:function(t){this.C4t=t}},{key:"lzt",get:function(){return this.yJt},set:function(t){this.yJt=t}},{key:"D$t",get:function(){return this.j4t}},{key:"rk",get:function(){return this.R4t}}]),n}(n$),J$=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).U4t=[],r.B4t=n,r.Yn(i),r}Et(n,t);var i=n.prototype;return i.Yn=function(t){void 0!==t.maxDuration&&(this.x4t=t.maxDuration),void 0!==t.customData&&(this.j4t=t.customData)},i.Q4t=function(t){var n=this.Dc.indexOf(t);return n>=0&&n<this.Dc.length-1},i.P4t=function(n){t.prototype.P4t.call(this,n),this.U4t.push(n)},i.F4t=function(t){Co(this.U4t,t)},i.z4t=function(n){t.prototype.z4t.call(this,n),Co(this.U4t,n)},Ct(n,[{key:"wJt",get:function(){return this.B4t}},{key:"frt",get:function(){return this.U4t}}]),n}(K$);Q(),Nt(),Zt(),St(),gn(),Q(),Nt(),Zt(),St();var q$=function(t){return t.YKt="linear",t.Y4t="nonlinear",t.dI="unknown",t}({}),$$=function(t){return t.NONE="none",t.READY="ready",t}({}),t0=function(t){function n(n,i){var r;return(r=t.call(this)||this).H4t=i,r.aS=void 0,r.Rqt=void 0,r.dT=void 0,r.fT=void 0,r.JM=void 0,r.kqt=[],r.BXt=[],r.G4t="none",r.j4t=void 0,r.q4t=!1,r.Yl=n,r}Et(n,t);var i=n.prototype;return i.V4t=function(t,n,i,r,e,u){this.aS=t,this.dT=n,this.fT=i,this.JM=r,this.BXt=e,this.Rqt=u,this.G4t="ready"},i.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=this.ma()},i.v0t=function(){},i.A0t=function(){return""},i.p0t=function(){return this.K4t},Ct(n,[{key:"W4t",get:function(){return this.G4t}},{key:"zXt",get:function(){return this.BXt}},{key:"ct",get:function(){return this.JM}},{key:"Ti",get:function(){return this.fT}},{key:"o",get:function(){return this.aS}},{key:"Oqt",get:function(){return this.Rqt}},{key:"ji",get:function(){return this.dT}},{key:"Z4t",get:function(){return this.H4t}},{key:"rqt",get:function(){return this.oqt}},{key:"EXt",get:function(){return this.kXt}},{key:"_Xt",get:function(){return this.kqt}},{key:"D$t",get:function(){return this.j4t}},{key:"X4t",get:function(){return this.q4t}}]),n}(t$);function n0(t){return{get adSystem(){return t.v0t()},get readyState(){return t.W4t},get adBreak(){return t.Yl.lrt()},get duration(){return t.ct},get companions(){return t.zXt.map((function(t){return t.ga}))},get resourceURI(){return t.p0t()},get clickThrough(){return t.rqt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.Z4t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.Oqt},get integration(){return t.wJt},get creativeId(){return t.EXt},get universalAdIds(){return t._Xt},get customData(){return t.D$t},get isSlate(){return t.X4t}}}Q(),Nt(),Zt();var i0=function(){function t(t){var n;this.Za=void 0,this.oqt=void 0,this.K4t=void 0,this.KXt=t.qXt,this.dT=t.ji,this.fT=t.Ti,this.$4t=t.J4t,this.oqt=t.rqt,this.K4t=t.mKt,this.nqt=null!=(n=t.sqt)?n:"",this.t3t(t)}return t.prototype.t3t=function(t){if(!t.rqt||!t.mKt){var n=function(t){try{return SJ(t,"text/html")}catch(t){return}}(t.J4t);n&&(this.oqt=r0(n,"a","href"),this.K4t=r0(n,"img","src"))}},Ct(t,[{key:"qXt",get:function(){return this.KXt}},{key:"sqt",get:function(){return this.nqt}},{key:"J4t",get:function(){return this.$4t}},{key:"rqt",get:function(){return this.oqt}},{key:"Ti",get:function(){return this.fT}},{key:"mKt",get:function(){return this.K4t}},{key:"ji",get:function(){return this.dT}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get adSlotId(){return t.qXt},get altText(){return t.sqt},get contentHTML(){return t.J4t},get clickThrough(){return t.rqt},get height(){return t.Ti},get resourceURI(){return t.mKt},get width(){return t.ji}}}(this)}}]),t}();function r0(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var e0=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?q$.YKt:"nonlinear"===t?q$.Y4t:q$.dI}(i.type))||this).e3t=0,e.B4t=n,e.Yn(i),e}Et(n,t);var i=n.prototype;return i.ma=function(){return n0(this)},i.Yn=function(t){t.id&&(this.aS=t.id),void 0!==t.skipOffset&&(this.Rqt=t.skipOffset),void 0!==t.width&&(this.dT=t.width),void 0!==t.height&&(this.fT=t.height),void 0!==t.duration&&(this.JM=t.duration),void 0!==t.readyState&&(this.G4t=function(t){return"ready"===t?$$.READY:$$.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.K4t=t.resourceURI),void 0!==t.clickThrough&&(this.oqt=t.clickThrough),void 0!==t.companions&&(this.BXt=ln(t.companions).map(u0)),void 0!==t.creativeId&&(this.kXt=t.creativeId),void 0!==t.universalAdIds&&(this.kqt=t.universalAdIds),void 0!==t.customData&&(this.j4t=t.customData)},Ct(n,[{key:"wJt",get:function(){return this.B4t}},{key:"i3t",get:function(){return this.e3t},set:function(t){this.e3t=t}}]),n}(t0);function u0(t){var n={qXt:t.adSlotId,sqt:t.altText,J4t:t.contentHTML,VN:void 0,rqt:t.clickThrough,Ti:t.height,mKt:t.resourceURI,ji:t.width};return new i0(n)}Q(),Nt(),Zt(),St();var s0=function(t){function n(n,i){var r;return(r=t.call(this,"r3t",n)||this).n3t=i,r}return Et(n,t),n.prototype.ma=function(){return new o0(this.Art.lrt(),this.s3t)},Ct(n,[{key:"s3t",get:function(){return this.n3t}}]),n}(Jx),o0=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return Et(n,t),n}(qx);Q(),Nt(),St();var a0=function(t){function n(n){return t.call(this,"o3t",n)||this}return Et(n,t),n.prototype.ma=function(){return new c0(this.Yl.lrt())},n}(Fx),c0=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return Et(n,t),n}(Wx);Q(),Nt(),St();var h0=function(t){function n(n){return t.call(this,"h3t",n)||this}return Et(n,t),n.prototype.ma=function(){return new f0(this.Yl.lrt())},n}(Fx),f0=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return Et(n,t),n}(Wx);sn(),Q(),Nt(),St();var v0=function(t){function n(n,i){var r;return(r=t.call(this,"a3t",n)||this).currentTime=i,r}return Et(n,t),n.prototype.ma=function(){return new d0(this.Art.lrt(),this.currentTime)},n}(Jx),d0=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return Et(n,t),n}(qx);Q(),Nt(),St();var l0=function(t){function n(n,i){var r;return(r=t.call(this,"u3t",n)||this).currentTime=i,r}return Et(n,t),n.prototype.ma=function(){return new g0(this.Art.lrt(),this.currentTime)},n}(Jx),g0=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return Et(n,t),n}(qx);Q(),Nt(),St();var w0=function(t){function n(n,i){var r;return(r=t.call(this,"c3t",n)||this).currentTime=i,r}return Et(n,t),n.prototype.ma=function(){return new y0(this.Art.lrt(),this.currentTime)},n}(Jx),y0=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return Et(n,t),n}(qx),m0=function(){function t(t,n){this.v4t=new VD,this.Dc=[],this.D0t=[],this.M3t=[],this.wJt=t,this.E4t=n}var n=t.prototype;return n.ZC=function(){var t;if(0!==this.M3t.length){var n=this.M3t[0];(null==(t=this.o8)?void 0:t.skipAd)?this.o8.skipAd(n.lrt()):this.$Jt(n)}},n.vrt=function(t){},n.l3t=function(t,n){var i,r=null!=n?n:this.T3t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new e0(this.wJt,t,r);return r.P4t(e),this.Dc.push(e),this.v4t.yo(new $x(e)),e},n.f3t=function(t,n){t.Yn(n),this.v4t.yo(new h$(t))},n._3t=function(t,n){if(!Oo(this.M3t,t))throw new A("Cannot update ad progress on a non-started ad");var i=t.i3t,r=k.max(i,n);t.i3t=r;var e=this.E4t.xE();i<.25&&r>=.25&&this.v4t.yo(new v0(t,e)),i<.5&&r>=.5&&this.v4t.yo(new l0(t,e)),i<.75&&r>=.75&&this.v4t.yo(new w0(t,e))},n.F4t=function(t){Oo(this.M3t,t)||(this.M3t.push(t),t.Yl.F4t(t),this.S3t(t.Yl),this.v4t.yo(new uO(t,this.E4t.xE())))},n.$Jt=function(t){if(Oo(this.M3t,t)){var n=t.Yl.Q4t(t);this.v4t.yo(new s0(t,t.i3t)),this.N3t(t,n)}},n.v3t=function(t){if(Oo(this.M3t,t)){var n=t.Yl.Q4t(t);this.v4t.yo(new oO(t,this.E4t.xE())),this.N3t(t,n)}},n.z4t=function(t){if(Oo(this.Dc,t)){var n=t.Yl.Q4t(t);Co(this.Dc,t),t.Yl.z4t(t),this.v4t.yo(new h0(t.Yl)),this.N3t(t,n)}},n.w3t=function(t){var n=new J$(this.wJt,t);return this.D0t.push(n),this.v4t.yo(new Hx(n)),n},n.m3t=function(t,n){t.Yn(n),this.v4t.yo(new a0(t))},n.p3t=function(t){if(Oo(this.D0t,t)){for(var n=0,i=t.Vc.slice();n<i.length;n++){var r=i[n];this.z4t(r)}Co(this.D0t,t),this.v4t.yo(new Zx(t))}},n.A3t=function(){for(var t=0,n=this.D0t.slice();t<n.length;t++){var i=n[t];this.p3t(i)}},n.y3t=function(t){this.v4t.yo(new Z$(JJ.GENERAL,t.message))},n.b3t=function(t,n){var i=new md(null!=n?n:wd.AD_ERROR,t.message,t);this.E4t.eG(i)},n.I3t=function(t){return Do(this.D0t,(function(n){return n.lzt===t}))},n.T3t=function(t){var n;return null!=(n=this.I3t(t.timeOffset))?n:this.w3t(t)},n.N3t=function(t,n){Co(this.M3t,t);var i=t.Yl;0!==this.M3t.length||this.I0t!==i||n||(i.O4t(),this.S3t(void 0))},n.S3t=function(t){this.I0t!==t&&(void 0!==this.I0t&&this.v4t.yo(new nO(this.I0t)),this.I0t=t,void 0!==t&&this.v4t.yo(new rO(t)))},n.g3t=function(t){var n=Do(this.Dc,(function(n){return n.lrt()===t}));if(void 0===n)throw new A('Invalid ad for integration "'+this.wJt+'"');return n},n.d3t=function(t){var n=Do(this.D0t,(function(n){return n.lrt()===t}));if(void 0===n)throw new A('Invalid ad break for integration "'+this.wJt+'"');return n},n.ka=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return ta(n),(null==(r=i.o8)?void 0:r.setSource)?[4,st.resolve(i.o8.setSource(t))]:[3,2];case 1:return oN(e=u.sent())&&(e=t),[2,pN(e,i.E4t.md)];case 2:return[2,t];case 3:return[2]}}))}))()},n.D3t=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return(null==(n=t.o8)?void 0:n.resetSource)?[4,st.resolve(t.o8.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.A3t(),i.label=3;case 3:return[2]}}))}))()},n.gn=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return(null==(n=t.o8)?void 0:n.destroy)?[4,st.resolve(t.o8.destroy()).catch(qt)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.A3t(),t.S3t(void 0),t.o8=void 0,t.v4t.gn(),[2]}}))}))()},Ct(t,[{key:"Vc",get:function(){return this.Dc}},{key:"s0t",get:function(){return this.D0t}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get integration(){return t.wJt},get ads(){return t.Vc.map((function(t){return t.lrt()}))},get adBreaks(){return t.s0t.map((function(t){return t.lrt()}))},createAd:function(n,i){return t.l3t(n,i?t.d3t(i):void 0).lrt()},updateAd:function(n,i){t.f3t(t.g3t(n),i)},updateAdProgress:function(n,i){var r=gr(Number(i),0,1);t._3t(t.g3t(n),r)},beginAd:function(n){t.F4t(t.g3t(n))},endAd:function(n){t.v3t(t.g3t(n))},skipAd:function(n){t.$Jt(t.g3t(n))},removeAd:function(n){t.z4t(t.g3t(n))},createAdBreak:function(n){return t.w3t(n).lrt()},updateAdBreak:function(n,i){t.m3t(t.d3t(n),i)},removeAdBreak:function(n){t.p3t(t.d3t(n))},removeAllAds:function(){t.A3t()},error:function(n){t.y3t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.b3t(n,r)}}}(this)}},{key:"Zj",get:function(){return this.o8},set:function(t){this.o8=t}},{key:"N4t",get:function(){return this.M3t.some((function(t){return t.Z4t===q$.YKt}))}},{key:"d4t",get:function(){return this.wJt}},{key:"crt",get:function(){return this.M3t}},{key:"drt",get:function(){var t;return null!=(t=this.I0t)?t:null}},{key:"frt",get:function(){return Uo(this.D0t,(function(t){return t.frt}))}},{key:"grt",get:function(){return this.D0t.filter((function(t){return!t.rk}))}}]),t}();sn(),Q(),Nt(),Zt();var A0=function(){function t(t){var n=this;this.q8=void 0,this.E3t=!1,this.xd=function(t){1!==n.ta.$E&&(n.q8=n.ta.$E,n.ta.$E=1),n.E3t=!0},this.Cd=function(t){n.E3t=!1,void 0!==n.q8&&(n.ta.$E=n.q8,n.q8=void 0)},this.ta=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.ta.Vc)||t.yn("Mrt",this.xd),null==(n=this.ta.Vc)||n.yn("brt",this.Cd)},n.removeAdListeners=function(){var t,n;null==(t=this.ta.Vc)||t.fn("Mrt",this.xd),null==(n=this.ta.Vc)||n.fn("brt",this.Cd)},Ct(t,[{key:"player",get:function(){return this.ta},set:function(t){this.ta&&this.removeAdListeners(),this.ta=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.E3t}}]),t}(),p0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).O3t=[],r.dV=void 0,r.ZG=void 0,r.R3t=1,r.W2t=n,r.k3t=new H$(r),r.k3t.M4t.o4t(i,n,r,n.md),r}Et(n,t);var i=n.prototype;return i.Ynt=function(){return this.k3t},i.Ok=function(){this.W2t.Ok(),this.k3t.Ok()},i.Pk=function(){void 0===this.dV?(void 0!==this.C3t&&this.j3t(this.C3t),t.prototype.Pk.call(this)):this.yo(new zk(this.dV))},i.ka=function(n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:if(ta(i),!(e=n))return[3,4];u=0,s=r.O3t,f.label=1;case 1:return u<s.length?[4,s[u].ka(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.ka.call(r,e,i)];case 5:if(f.sent(),ta(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.k3t.k4t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.k3t.I9(h,Yx.urt,o);return[2]}}))}))()},i.zk=function(){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return n.dV=void 0,n.ZG=void 0,[4,n.k3t.tr()];case 1:return e.sent(),n.R2t(),[4,t.prototype.zk.call(n)];case 2:e.sent(),i=0,r=n.O3t,e.label=3;case 3:return i<r.length?[4,r[i].D3t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.j3t=function(t){this.R3t=this.ta.$E;var n=this.ta.Nk,i=this.ta.WE;t.Dk(n),t.HE(i),this.x3t=t,this.C3t=void 0,this.zz(t)},i.D4t=function(t){void 0===this.x3t&&(this.C3t=t)},i.R2t=function(){this.C3t=void 0,void 0!==this.x3t&&(this.W2t.$E=this.R3t,this.W2t.Nk=this.Nk,this.W2t.WE=this.WE,this.zz(this.W2t),this.x3t=void 0)},i.PE=function(){var n;return null!=(n=this.ZG)?n:t.prototype.PE.call(this)},i.BE=function(){var n;return null!=(n=this.dV)?n:t.prototype.BE.call(this)},i.eG=function(t){void 0===this.BE()&&(this.dV=t,this.ZG=pw(t),this.yo(new zk(t)))},i.Gk=function(t){return void 0===this.x3t&&this.k3t.p4t(t)},i._rt=function(t,n){try{var i=new m0(t,this);i.Zj=n(i.ga),this.k3t.wrt(i),this.O3t.push(i),t!==CT.UPLYNK&&(this.P3t=new A0(this))}catch(n){this.k3t.yo(new Z$(JJ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.nk=function(n){var i;(null==(i=this.P3t)?void 0:i.inAdBreak)||t.prototype.nk.call(this,n)},i.gn=function(){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:r=0,e=n.O3t,u.label=1;case 1:return r<e.length?[4,e[r].gn().catch(qt)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[4,n.k3t.gn()];case 5:return u.sent(),n.R2t(),null==(i=n.P3t)||i.destroy(),n.P3t=void 0,[4,t.prototype.gn.call(n)];case 6:return u.sent(),[2]}}))}))()},Ct(n,[{key:"L3t",get:function(){return this.x3t}}]),n}(U$);aM((function(t){return new p0(t,jT.Ld)}),rM.qnt),Q(),Nt(),Zt(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Jt(),tn();var _0=0!==Wt.Jf?Wt.Jf:Wt.nf,k0=Wt.Ka&&_0<12,M0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).E4t=i,r.F3t=!1,r.Pz=new dw,r.Oz=new dw,r.Ul=new cA,r.Rz=new mM,r.z3t=new VD,r.Zo=new vT,r.mV=new Xk,r.Y3t=function(){r.ta.ge()},r.V3t=function(){r.G3t()},r.ta.yn(Ma.Gy,r.Ds),r}Et(n,t);var i=n.prototype;return i.Cnt=function(){return this.ta.Cnt()},i.SE=function(){return GM.PP().ks()},i.DE=function(){},i.EE=function(t){},i.ek=function(){return 1},i.nk=function(t){},i.hk=function(){return new GM([0,this.LE]).ks()},i.pk=function(){return!1},i.Ak=function(){return this.Ul},i.Mk=function(){return this.Pz},i.cs=function(){return this.Ck().cs},i.Ck=function(){return this.Zo},i.Sa=function(){},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Bo(),t.Oz.gn(),t.Pz.gn(),t.Ul.gn(),t.z3t.gn(),t.ta.fn(Ma.Gy,t.Ds),[2]}))}))()},i.B3t=function(){k0&&this.U3t(),this.N4t||this.E4t.j3t(this)},i.R2t=function(){this.N4t&&(k0&&this.Q3t(),Wt.Sg&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),Kt.Ys.Op&&this.ta.Yk(),this.E4t.R2t())},i.U3t=function(){this.F3t||(Wr.addEventListener("blur",this.Y3t),Wr.addEventListener("focus",this.V3t),this.F3t=!0)},i.Q3t=function(){Wr.removeEventListener("blur",this.Y3t),Wr.removeEventListener("focus",this.V3t),this.F3t=!1},i.G3t=function(){var t=this;requestAnimationFrame((function(){return t.ta.be()}))},Ct(n,[{key:"LE",get:function(){return this.xE()},set:function(t){this.CE(t)}},{key:"ct",get:function(){return this._d()}},{key:"UE",get:function(){return this.Rz}},{key:"_k",get:function(){return this.vk()}},{key:"Ek",get:function(){return this.mV}},{key:"v4t",get:function(){return this.z3t}},{key:"ht",get:function(){return this.Oz}},{key:"N4t",get:function(){return this.E4t.L3t===this}}]),n}(iM);Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),Zt(),tn();var b0=0,T0="theoplayer-wrapper",N0=function(){function t(n,i,r,e){this.Z3t=i,this.ta=r,this.J3t=e,this.o5t=NaN,this.u5t=!1,this.l5t=!1,this.s5t=!1,this.g5t=[],this.Snt=!1,this.xG=!1,this.X3t=[],this.zL=++b0,this.w5t=n.timeOffset,this.r5t=t.C5t(this.w5t),this.h5t(),this.X3t.push(n)}var n=t.prototype;return n.$3t=function(t){var n=this.t5t===t.timeOffset;return!this.i5t&&n},n.h5t=function(){if(T(this.o5t)){var t=this.t5t;if(void 0===t)return void(this.o5t=0);if("string"==typeof t&&kq(t)){var n=this.ta._d();T(n)||n===1/0||(t=aJ(t)*n)}T(t)||(this.o5t=t)}},n._5t=function(t){this.g5t.push(t)},n.v5t=function(){if(!this.i5t){var t,n,i=this.Z3t===Yx.urt&&void 0===this.w5t&&1===this.X3t.length,r=this.X3t[0];if(!i&&1===this.X3t.length){var e=Kt.Ah(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.w5t&&ce("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(mq(r.sources.type)||i)t=r.sources.src;else{if(T(this.ta._d())&&"end"===this.m5t())return;n=this.p5t()}var u=this.ta._d();(T(u)||u===1/0)&&(u=-3),this.i5t={A5t:this.ta.we.offsetWidth,y5t:this.ta.we.offsetHeight,b5t:this.ta.we.offsetWidth,M5t:this.ta.we.offsetHeight,T5t:this.Snt,S5t:this.xG,N5t:t,I5t:n,D5t:r.omidAccessModeRules,E5t:u}}return this.i5t},n.p5t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.X3t.map((function(n,i){return t.k5t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.k5t=function(t,n){var i=this.m5t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.zL+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+T0+"-"+this.zL+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.m5t=function(){if(0===this.t5t)return"start";if(this.t5t===1/0)return"end";var t=this.t5t;if("string"==typeof t&&kq(t)){var n=aJ(t)*this.ta._d();return oq.gJt(n)}return oq.gJt(this.t5t||0)},n.L5t=function(t){this.X3t.push(t)},n.x5t=function(t){for(var n=T0+"-"+this.zL+"-",i=0;i<t.length;i++){var r=t[i];if(no(r,n)){var e=Number(r.slice(n.length));if(!T(e)&&e>=0&&e<this.X3t.length)return e}}return-1},n.j5t=function(){this.s5t=!0},t.C5t=function(t){if(void 0!==t)return-1===t?1/0:t},Ct(t,[{key:"W3t",get:function(){return this.Z3t}},{key:"H3t",get:function(){return this.X3t}},{key:"q3t",get:function(){return 1===this.X3t.length&&mq(this.X3t[0].sources.type)}},{key:"K3t",get:function(){return this.J3t}},{key:"e5t",get:function(){return this.s5t}},{key:"n5t",get:function(){return kq(this.r5t)&&!this.i5t}},{key:"t5t",get:function(){return this.r5t}},{key:"sd",get:function(){return this.o5t}},{key:"a5t",get:function(){return this.u5t},set:function(t){this.u5t=t}},{key:"c5t",get:function(){return this.l5t},set:function(t){this.l5t=t,this.d5t=!1}},{key:"f5t",get:function(){return this.g5t}},{key:"Xz",get:function(){return this.Snt},set:function(t){this.Snt=t}},{key:"WE",get:function(){return this.xG},set:function(t){this.xG=t}}]),t}();Q(),Nt(),Zt();var D0=function(){function t(t){this.V5t=!1,this.R5t=t,this.z5t=void 0}var n=t.prototype;return n.k4t=function(t){this.z5t=t},n.B5t=function(t){return!(this.O5t&&!this.O5t.e5t&&"nonlinear"!==this.P5t.Z4t)||this.O5t.sd>t.sd&&this.O5t.sd!==t.sd},n.U5t=function(t){if(t.length)return t.sort((function(t,n){return t.sd-n.sd}))[0]},n.Q5t=function(){if(this.frt.length)return this.U5t(this.F5t(this.t.xE()))},n.Y5t=function(){var t=this;if(!(void 0!==this.z5t&&this.z5t>=0))return this.frt.filter((function(n){return!n.a5t&&0===n.sd&&n!==t.O5t}))[0]},n.F5t=function(t){var n=this;if(!this.V5t&&(this.V5t=!this.frt.some((function(t){return T(t.sd)})),!this.V5t))return[];var i=this.frt.filter((function(n){return!n.a5t&&(n.q3t||!T(n.sd)&&t<=n.sd)}));return void 0===this.z5t?i:i.filter((function(t){return t.q3t||void 0===t.t5t||t.sd>n.z5t}))},Ct(t,[{key:"O5t",get:function(){return this.R5t.O5t}},{key:"P5t",get:function(){return this.R5t.P5t}},{key:"frt",get:function(){return this.R5t.frt}},{key:"t",get:function(){return this.R5t.t}}]),t}();tn();var I0=function(t){return t[t.G5t=0]="G5t",t[t.W5t=1]="W5t",t[t.Z5t=2]="Z5t",t}({}),E0=function(){function t(t,n,i,r,e){var u=this;this.e6t=0,this.Ept=void 0,this.w6t=!1,this.pZ=function(){for(var t=u.U4t.filter((function(t){return t.n5t})),n=0;n<t.length;n++){var i=t[n];i.h5t();var r=i.t5t;u.$5t.A6t(r,i.sd)}u.do&&u.m6t&&u.X5t()},this.U4t=[],this.i6t=t,this.do=!1,this.H5t=!1,this.ta=n,this.E4t=i,this.O5t=void 0,this.u6t=0,this._6t=new D0(this),this.Int=r,this.$5t=e,this.ta.yn(Ma.Zy,this.pZ)}var n=t.prototype;return n.Ok=function(){this.do=!0,this.H5t&&this.X5t()},n.q5t=function(t,n){this.K5t(t,n);var i=Do(this.frt,(function(n){return n.$3t(t)}));if(i)i.L5t(t);else{var r,e=new N0(t,n,this.ta,null==(r=t.replaceContent)||r);this.U4t.push(e),2===this.J5t&&this.$5t.w3t(e.sd,e,e.t5t),this.t6t(n,e)}},n.s6t=function(){if(Co(this.frt,this.O5t),this.O5t){for(var t=0,n=this.O5t.f5t;t<n.length;t++){n[t];this.$5t.n6t()}this.O5t=void 0}},n.r6t=function(){for(var t=0,n=this.U4t;t<n.length;t++)for(var i=0,r=n[t].f5t;i<r.length;i++){var e=r[i];this.$5t.o6t(e,!0)}Ro(this.U4t)},n.h6t=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.s6t(),n.a6t=!0,n.O5t=t,n.u6t=t.sd,n.Ept=n.c6t(t),[4,n.Ept];case 1:return i.sent(),n.Ept=void 0,[2]}}))}))()},n.c6t=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:if(n.l6t(t),!(i=t.v5t()))return n.a6t=!1,n.O5t=void 0,[2];r=n.i6t.d6t(i),t.a5t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.W3t===Yx.art&&n.i6t.f6t(),[3,5];case 3:return e.sent(),n.O5t=void 0,[4,n.X5t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.l6t=function(t){this.do?t.Xz=!0:t.Xz=this.E4t.Xz,t.WE=this.E4t.WE},n.g6t=function(){var t;return null!=(t=this._6t.Y5t())?t:this._6t.Q5t()},n.X5t=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.O5t&&!t.O5t.e5t?[2,t.Ept]:(n=t.g6t())?[4,t.h6t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.tr=function(){this.s6t(),Ro(this.U4t),this.u6t=0,this.O5t=void 0,this.Ept=void 0,this.a6t=!1},n.c5t=function(){this.a6t=!1,this.O5t&&(this.O5t.c5t=!0)},n.t6t=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return t===Yx.art&&i.do&&i._6t.B5t(n)?i.$Gt||"linear"===i.i6t.Z4t||!(!i.O5t||i.O5t&&i.O5t.a5t)?[3,3]:[4,st.resolve()]:[3,3];case 1:return r.sent(),[4,i.h6t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.j5t=function(){this.O5t&&this.O5t.j5t()},n.p6t=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.m6t?(n=t.g6t())?[4,t.h6t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.K5t=function(t,n){var i=t.sources.type,r=n===Yx.urt&&void 0===t.timeOffset,e=mq(i)||r?1:2;e!==this.e6t&&(this.e6t=e,this.r6t(),this.i6t.i0t&&!this.$Gt&&"linear"!==this.i6t.Z4t&&(this.i6t.i0t.wy(),this.O5t=void 0,this.Ept=void 0),this.u6t=0,this.H5t=!0)},n.k4t=function(t){this._6t.k4t(t)},n.gn=function(){this.ta.fn(Ma.Zy,this.pZ)},Ct(t,[{key:"P5t",get:function(){return this.i6t}},{key:"frt",get:function(){return this.U4t}},{key:"t",get:function(){return this.ta}},{key:"$Gt",get:function(){return Boolean(this.Ept)}},{key:"J5t",get:function(){return this.e6t}},{key:"O5t",get:function(){return this.v6t},set:function(t){this.v6t=t}},{key:"a6t",get:function(){return this.w6t},set:function(t){this.w6t=t}},{key:"m6t",get:function(){var t=this;return!this.$Gt&&!this.a6t&&(!(this.O5t&&!this.O5t.e5t)&&(!!this.U4t.filter((function(n){return t.O5t!==n})).length&&Boolean(this.g6t())))}}]),t}();Q(),Nt(),An(),St(),Tn(),Q(),Nt();var S0=function(t){return t.y6t="contentResumeRequested",t.b6t="contentPauseRequested",t.M6t="click",t.Zy="durationChange",t.T6t="expandedChanged",t.S6t="start",t.N6t="impression",t.iW="pause",t.I6t="resume",t.D6t="adProgress",t.E6t="adBuffering",t.k6t="firstQuartile",t.tKt="midpoint",t.L6t="thirdQuartile",t.iKt="complete",t.x6t="userClose",t.C6t="linearChanged",t.j6t="loaded",t.O6t="adCanPlay",t.R6t="adMetadata",t.P6t="adBreakReady",t.z6t="interaction",t.B6t="allAdsCompleted",t.U6t="skip",t.Q6t="skippableStateChanged",t.F6t="log",t.Y6t="viewableImpression",t.V6t="volumeChange",t.G6t="mute",t}({});Q(),Nt();var L0=function(t){return t.W6t="adError",t}({});Q(),Nt();var C0=function(t){return t[t.Z6t=-1]="Z6t",t[t.H6t=-1]="H6t",t[t.X6t=-1]="X6t",t[t.q6t=101]="q6t",t[t.K6t=102]="K6t",t[t.J6t=200]="J6t",t[t.$6t=201]="$6t",t[t.t9t=202]="t9t",t[t.i9t=300]="i9t",t[t.e9t=301]="e9t",t[t.s9t=302]="s9t",t[t.n9t=303]="n9t",t[t.r9t=400]="r9t",t[t.o9t=402]="o9t",t[t.h9t=403]="h9t",t[t.a9t=405]="a9t",t[t.u9t=500]="u9t",t[t.c9t=501]="c9t",t[t.l9t=-1]="l9t",t[t.d9t=503]="d9t",t[t.f9t=602]="f9t",t[t.g9t=900]="g9t",t[t._9t=901]="_9t",t[t.v9t=1005]="v9t",t[t.w9t=1007]="w9t",t[t.m9t=1009]="m9t",t[t.p9t=1010]="p9t",t[t.A9t=1011]="A9t",t[t.y9t=1012]="y9t",t[t.b9t=1013]="b9t",t[t.M9t=1020]="M9t",t[t.T9t=1021]="T9t",t[t.S9t=1101]="S9t",t[t.N9t=1204]="N9t",t[t.I9t=1205]="I9t",t[t.D9t=1300]="D9t",t[t.E9t=-1]="E9t",t[t.k9t=-1]="k9t",t[t.L9t=-1]="L9t",t[t.x9t=-1]="x9t",t}({}),j0=function(t){return t.C9t="adLoadError",t.j9t="adPlayError",t}({});function x0(t,n){if(t===S0.D6t){var i=n;return{O9t:i.adBreakDuration,R9t:i.adPosition,LE:i.currentTime,ct:i.duration,P9t:i.totalAds}}return n}function O0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return j0.C9t;case google.ima.AdError.Type.AD_PLAY:return j0.j9t}}function z0(t){return di(t)&&pi(t.getVastErrorCode)}function R0(t){var n=t.getInnerError(),i=n&&z0(n)?R0(n):void 0;return{Pb:t.getMessage(),xKt:t.getErrorCode(),z9t:t.getVastErrorCode(),YA:O0(t.getType()),B9t:i}}function B0(t){if(ci(t))return t}tn(),Q(),Nt(),xn(),Q(),Nt();var U0=function(t){function n(n,i,r){var e,u;return e=t.call(this)||this,u=e,e.i6t=n,e.ta=i,e.e8t=r,e.P8t=!1,e.C8t=void 0,e.j8t=void 0,e.d8t=0,e.v8t=function(t){if(t.Art&&t.Art.y8t){var n=t.Art.y8t;e.e8t.m3t(n.lzt,n.P9t,n.$$t)}},e.w8t=function(t){var n,i,r;if(!(e.d8t>=5)){e.d8t++;var u=t.n8t;if(function(t){return di(t)&&void 0!==t.O9t&&void 0!==t.P9t}(u)){var s=null==(r=e.e0t)||null==(i=r.m8t())||null==(n=i.y8t)?void 0:n.lzt;void 0!==s&&e.e8t.m3t(s,u.P9t,u.O9t)}}},e.F9t=yn((function(t){return pn(this,(function(n){switch(n.label){case 0:return t.n8t.z8t?[4,u.a8t(t.n8t.z8t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),e.G9t=yn((function(){return pn(this,(function(t){switch(t.label){case 0:return u.P8t=!0,u.i6t.j5t(),[4,u.V9t()];case 1:return t.sent(),[2]}}))})),e.W9t=function(t){if(t.Art){0;var n=t.Art;e.i6t.S8t(n),e.i6t.ge(),e.i6t.B8t(),e.i6t.U8t=!0,e.e8t.Q8t(n);var i=n.ct;if(e.s8t(i),n.f8t){var r=e.i6t.LE,u=e.i6t.fk;e.i6t.H5(UA.Dz),e.U9t(new QA(r,u)),e.U9t(new GA(r,u)),e.U9t(new VA(r,u)),e.i6t.KE||e.U9t(new FA(e.i6t.LE)),e.setCountdownTimer(),e.$9t(!0)}else e.i6t.R2t(),e.ta.ge(),e.i6t.KE||e.ta.Pk()}},e.Z9t=function(t){var n;if(t.Art){0;var i=t.Art;if(e.fA(),e.e8t.T8t(e.i6t.ct,i.f8t),e.i6t.fk!==UA.Nz){var r=UA.Nz;e.i6t.H5(r);var u=e.i6t.LE;e.U9t(new Nb(u,r))}e.s8t(NaN),e.i6t.U8t=!1,null==(n=e.e0t)||n.Dk(e.i6t.g8t())}},e.H9t=function(t){t.Art&&(e.Z9t(t),e.e8t.H9t(t.Art,e.i6t.LE,e.i6t.ct))},e.X9t=function(t){t.Art&&(e.e8t.T8t(-1,t.Art.f8t),e.i6t.j5t(),!t.Art.f8t&&e.i6t.m6t()&&e.i6t.p6t())},e.q9t=function(t){t.Art&&(t.Art.f8t?e.i6t.Rk():e.ta.Rk())},e.K9t=function(){var t;(e.i6t.U8t=!0,e.i6t.F8t)&&(null==(t=e.e0t)||t.Rk(),e.i6t.F8t=!1)},e.Y9t=function(t){var n;if(t.Art){0,e.i6t.x8t&&(e.j8t=e.ta.xE(),e.ta.Fk(),e.ta.xk=!0),e.i6t.Y8t=!0;var i=t.Art;e.e8t.xd(i);var r=i.ct;e.i6t.S8t(i),e.s8t(r),e.i6t.J9t(!1),e.i6t.ge(),e.i6t.B3t(),e.i6t.x8t||e.ta.be(),e.ta.Rk(),e.i6t.V8t(i),0===(null==(n=i.y8t)?void 0:n.lzt)||e.i6t.yo(new YA(e.i6t.LE))}},e.V9t=yn((function(t){var n,i,r,e,s;return pn(this,(function(o){switch(o.label){case 0:return n=null==t?void 0:t.Art,u.i6t.Y8t=!1,"linear"===u.i6t.Z4t&&u.e8t.Cd(),n&&n.ct>=0&&u.s8t(n.ct),u.ta._d()===1/0&&u.i6t.G8t(),u.i6t.U8t=!1,u.P8t?[4,u.M8t()]:[3,2];case 1:o.sent(),o.label=2;case 2:u.i6t.J9t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.L8t()];case 4:return o.sent(),[3,6];case 5:return $o(i=o.sent())||u.yo(new tK(i)),[2];case 6:return u.i6t.R2t(),u.i6t.be(),u.ta.OE||u.ta.Pk(),n&&u.i6t.S8t(n),u.i6t.D8t&&(u.i6t.x8t&&(e=u.ta.jk(),s=null==(r=u.ta.bt)?void 0:r.src,e&&s&&(e.src=s)),u.i6t.E8t=!0),u.ta.xk=!1,u.i6t.m6t()?[4,u.i6t.p6t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}}))})),e}Et(n,t);var i=n.prototype;return i.U9t=function(t){this.i6t.yo(t)},i.Q9t=function(t){var n=this;this.e0t=t,this.e0t.yn(L0.W6t,this.F9t),this.e0t.yn(S0.b6t,this.Y9t),this.e0t.yn(S0.y6t,this.V9t),this.e0t.yn(S0.B6t,this.G9t),this.e0t.yn(S0.S6t,this.W9t),this.e0t.yn(S0.iKt,this.Z9t),this.e0t.yn(S0.U6t,this.H9t),this.e0t.yn(S0.x6t,this.X9t),this.e0t.yn(S0.M6t,this.q9t),this.e0t.yn(S0.O6t,this.K9t),this.e0t.yn(S0.iW,(function(){n.i6t.KE||(n.i6t.J9t(!0),n.i6t.yo(new Db(n.i6t.LE))),n.$9t(!0)})),this.e0t.yn(S0.I6t,(function(){n.i6t.KE&&(n.i6t.J9t(!1),n.i6t.yo(new Ib(n.i6t.LE)))})),this.e0t.yn(S0.G6t,(function(){var i=t.Ik();i>=0&&n.t8t(i)})),this.e0t.yn(S0.V6t,(function(){var i=t.Ik();i>=0&&n.t8t(i)})),this.e0t.yn(S0.R6t,(function(t){n.e8t.i8t(t.type)})),this.e0t.yn(S0.Zy,(function(t){t.Art&&n.s8t(t.Art.ct)}));var i=this;this.e0t.yn(S0.F6t,yn((function(t){var n,r;return pn(this,(function(e){switch(e.label){case 0:return n=t.n8t.adError,(r=z0(n)?R0(n):void 0)?i.r8t(r)?[4,i.o8t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.h8t(r)?[4,i.a8t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.u8t(r)&&i.c8t(r),e.label=5;case 5:return[2]}}))}))),this.e0t.yn(S0.j6t,(function(t){if(t.Art&&(n.i6t.c5t(),n.e8t.l8t(t.Art),n.d8t=0,t.Art.f8t)){var i,r=n.i6t.fk,e=UA.Nz;n.i6t.H5(e);var u=n.i6t.LE,s=n.i6t.fk;s!==r&&n.U9t(new Nb(u,s)),null==(i=n.e0t)||i.Dk(n.i6t.g8t()),n.U9t(new PA(u,e))}})),this.e0t.yn([S0.E6t,S0.N6t,S0.k6t,S0.tKt,S0.L6t],(function(t){t.Art&&n.e8t._8t(t.Art,t.type,n.i6t.LE)})),this.e0t.yn(S0.k6t,this.v8t),this.e0t.yn(S0.D6t,this.w8t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return t.e0t?(n=t.e0t.m8t())&&t.p8t(n)?[3,3]:t.i6t.m6t()?[4,t.i6t.p6t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.i6t.A8t(),t.ta.KE&&!t.ta.OE&&t.ta.Pk(),r.label=3;case 3:return[3,7];case 4:return t.i6t.m6t()?[4,t.i6t.p6t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.i6t.KE,t.i6t.A8t(),i||t.ta.Pk(),r.label=7;case 7:return[2]}}))}))()},i.p8t=function(t){var n=t.y8t,i=null==n?void 0:n.P9t;return(null==n?void 0:n.R9t)!==i},i.fA=function(){this.i6t.Mc&&(m(this.i6t.Mc),this.i6t.Mc=null)},i.u8t=function(t){return t.YA===j0.C9t},i.h8t=function(t){return t.YA===j0.j9t},i.r8t=function(t){return t.xKt===C0.m9t},i.a8t=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return n.c8t(t),r=[C0.r9t,C0._9t,C0.T9t,C0.I9t],n.i6t.krt||Oo(r,t.xKt)||Oo(r,null==(i=t.B9t)?void 0:i.xKt)?[3,2]:(n.i6t.b8t.a6t=!1,null==(e=n.i6t.b8t.O5t)||e.j5t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.c8t=function(t){this.i6t.y3t(t)},i.M8t=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.e8t.n6t(),t.i6t.j5t(),"nonlinear"===t.i6t.Z4t&&(t.e8t.T8t(-1,!1),t.i6t.S8t(void 0)),"nonlinear"!==t.i6t.Z4t&&"none"!==t.i6t.Z4t?[3,2]:t.i6t.m6t()?[4,t.i6t.p6t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.i6t.N8t(),t.i6t.N4t?t.i6t.R2t():t.I8t()&&t.ta.yo(new Lb(t.ta.xE())),[2]}}))}))()},i.I8t=function(){return this.i6t.D8t&&!this.i6t.E8t&&this.ta.OE},i.setCountdownTimer=function(){var t=this;this.fA(),this.i6t.Mc=y((function(){return t.$9t()}),250)},i.o8t=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return void 0===t.Art?[2]:(n.i6t.b8t.a6t=!1,n.i6t.j5t(),n.i6t.m6t()?[4,n.i6t.p6t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.i6t.J9t(!0),i.label=3;case 3:return[2]}}))}))()},i.s8t=function(t){this.i6t.ct!==t&&t>=0&&(this.i6t.T5(t),this.U9t(new Eb(this.i6t.ct)))},i.t8t=function(t){this.i6t.g8t()!==t&&(0===t?this.i6t.k8t(t,!0,!1):this.i6t.k8t(t,!1,!1))},i.L8t=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.i6t.x8t&&void 0!==t.ta.PE()?(t.C8t=new ca,[4,ea(t.ta.ka(t.ta.Ya(),t.C8t.ly),t.C8t)]):[3,2];case 1:n.sent(),t.j8t&&t.ta.CE(t.j8t),t.j8t=void 0,n.label=2;case 2:return[2]}}))}))()},i.$9t=function(t){if(this.e0t){var n=this.e0t.O8t();n>this.i6t.ct&&this.s8t(k.round(n))}var i=this.i6t.LE;(t||!this.i6t.KE&&i!==this.i6t.R8t)&&(this.i6t.yo(new Cg(i,void 0)),this.i6t.R8t=i)},i.tr=function(){this.C8t&&(this.C8t.Ty(),this.C8t=void 0),this.P8t=!1,this.d8t=0},i.gn=function(){this.tr(),this.Bo()},n}(Aa);Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var P0=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).W8t=i,e.Z8t=r,e}return Et(n,t),Ct(n,[{key:"wJt",get:function(){return c$.b0t}}]),n}(K$);Q(),Nt(),Zt(),St(),Q(),Nt(),Q(),Nt(),Zt(),St();var Q0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).X8t=0,r.q8t=void 0,r}Et(n,t);var i=n.prototype;return i.v0t=function(){var t;return null==(t=this.q8t)?void 0:t.nXt},i.ma=function(){return function(t,n){return Wg(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.$j},get apiFramework(){return n.K8t},get creativeId(){return n.EXt},get title(){return n.TV},get wrapperAdIds(){return n.J8t},get wrapperAdSystems(){return n.$8t},get wrapperCreativeIds(){return n.t7t}})}(n0(this),this)},i.i7t=function(t){this.q8t=t;var n=Y0(t);this.V4t(t.Mqt,t.e7t,t.s7t,t.ct,n,-1)},Ct(n,[{key:"H8t",get:function(){return this.X8t},set:function(t){this.X8t=t}},{key:"wJt",get:function(){return c$.Xh}},{key:"K8t",get:function(){var t;return null==(t=this.q8t)?void 0:t.HXt}},{key:"EXt",get:function(){var t;return null==(t=this.q8t)?void 0:t.EXt}},{key:"$j",get:function(){var t;return null==(t=this.q8t)?void 0:t.$j}},{key:"TV",get:function(){var t;return null==(t=this.q8t)?void 0:t.TV}},{key:"J8t",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t.J8t)?n:[]}},{key:"$8t",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t.$8t)?n:[]}},{key:"t7t",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t.t7t)?n:[]}}]),n}(t0);function Y0(t){return t.fXt.map((function(t){return new i0(t)}))}var G0=function(t){function n(n){var i;return(i=t.call(this,n,q$.dI)||this).q8t=void 0,i.Bqt=void 0,i}Et(n,t);var i=n.prototype;return i.ma=function(){return function(t,n){return Wg(t,{get adSystem(){return n.v0t()},get apiFramework(){return n.K8t},get bitrate(){return n.n7t},get contentType(){return n.VN},get creativeId(){return n.EXt},get description(){return n.$j},get mediaUrl(){return n.zqt},get title(){return n.TV},get traffickingParameters(){return n.r7t},get traffickingParametersString(){return n.o7t},get wrapperAdIds(){return n.J8t},get wrapperAdSystems(){return n.$8t},get wrapperCreativeIds(){return n.t7t},get universalAdIds(){return n._Xt}})}(n0(this),this)},i.i7t=function(t){this.q8t=t,this.V4t(t.Mqt,t.e7t,t.s7t,t.ct,Y0(t),t.h7t),this.H4t=t.f8t?q$.YKt:q$.Y4t},i.v0t=function(){return this.q8t?V0(this.q8t.nXt):void 0},Ct(n,[{key:"wJt",get:function(){return c$.b0t}},{key:"K8t",get:function(){return this.q8t?V0(this.q8t.HXt):void 0}},{key:"n7t",get:function(){return this.q8t?this.q8t.a7t:0}},{key:"VN",get:function(){return this.q8t?V0(this.q8t.VN):void 0}},{key:"EXt",get:function(){return this.q8t?V0(this.q8t.EXt):void 0}},{key:"u7t",get:function(){return this.q8t?V0(this.q8t.u7t):void 0}},{key:"$j",get:function(){var t;return null==(t=this.q8t)?void 0:t.$j}},{key:"zqt",get:function(){var t,n=null==(t=this.q8t)?void 0:t.zqt;return ci(n)?n:this.Bqt},set:function(t){this.Bqt=t}},{key:"TV",get:function(){var t;return null==(t=this.q8t)?void 0:t.TV}},{key:"r7t",get:function(){return this.q8t?V0(this.q8t.r7t):void 0}},{key:"o7t",get:function(){return this.q8t?V0(this.q8t.o7t):void 0}},{key:"J8t",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t.J8t)?n:[]}},{key:"$8t",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t.$8t)?n:[]}},{key:"t7t",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t.t7t)?n:[]}},{key:"_Xt",get:function(){var t,n;return null!=(n=null==(t=this.q8t)?void 0:t._Xt.map((function(t){return{adIdRegistry:t.c7t,adIdValue:t.l7t}})))?n:[]}}]),n}(t0);function V0(t){return null===t?void 0:t}Q(),Nt(),Zt(),Q(),Nt(),Zt();var F0=function(){function t(t,n){this.e8t=t,this.d7t=n}var n=t.prototype;return n.vrt=function(t){this.e8t.vrt(t)},n.ZC=function(){this.e8t.ZC()},n.gn=function(){return st.resolve()},Ct(t,[{key:"v4t",get:function(){return this.e8t.v4t}},{key:"d4t",get:function(){return this.d7t}},{key:"N4t",get:function(){return this.e8t.N4t}},{key:"drt",get:function(){var t;return null!=(t=this.e8t.drt)?t:null}},{key:"crt",get:function(){var t=this.e8t.f7t;return t?[t]:[]}},{key:"frt",get:function(){return this.e8t.frt}},{key:"grt",get:function(){return this.e8t.grt}}]),t}(),W0=function(){function t(t,n){this.z3t=t,this.D0t=[],this.v7t=!1,this._7t=new F0(this,n)}return Ct(t,[{key:"g7t",get:function(){return this._7t}},{key:"v4t",get:function(){return this.z3t}},{key:"N4t",get:function(){return this.v7t}},{key:"f7t",get:function(){return this.w0t}},{key:"drt",get:function(){return this.I0t}},{key:"frt",get:function(){var t=this;return Uo(this.D0t,(function(n){if(n.rk)return[];var i=n.Vc;if(n===t.I0t&&void 0!==t.w0t){var r=i.indexOf(t.w0t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"grt",get:function(){return this.D0t.filter((function(t){return!t.rk}))}}]),t}();Q(),Nt(),St();var Z0=function(t){function n(n){return t.call(this,"w7t",n)||this}return Et(n,t),n.prototype.ma=function(){return new X0(this.Art.lrt())},n}(Jx),X0=function(t){function n(n){return t.call(this,"adimpression",n)||this}return Et(n,t),n}(qx);Q(),Nt(),St();var H0=function(t){function n(n){var i;return(i=t.call(this,"m7t")||this).Art=n,i}return Et(n,t),n.prototype.ma=function(){return new K0(this.Art.lrt())},n}(jg),K0=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var J0=function(t){function n(){return t.call(this,"p7t")||this}return Et(n,t),n.prototype.ma=function(){return new q0},n}(jg),q0=function(t){function n(){return t.call(this,"admetadata")||this}return Et(n,t),n}(ka);tn();var $0=function(t){function n(n,i){var r;return(r=t.call(this,n,c$.b0t)||this).b7t=i,r.S7t=[],r.T7t=[],r}Et(n,t);var i=n.prototype;return i.A7t=function(t,n){for(var i=0;i<t;i++){var r=new G0(n);n.P4t(r),this.v4t.yo(new $x(r))}},i.w3t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new P0(r,i,n);this.D0t.push(e),n._5t(e),this.v4t.yo(new Hx(e))},i.A6t=function(t,n){for(var i=0,r=this.D0t;i<r.length;i++){var e=r[i];T(e.lzt)&&e.W8t===t&&(e.lzt=n,this.v4t.yo(new a0(e)))}},i.o6t=function(t,n){void 0===n&&(n=!1),n&&Co(this.D0t,t),this.v4t.yo(new Zx(t))},i.n6t=function(){if(this.drt){this.o6t(this.drt,!0);var t=Boolean(this.w0t&&this.w0t.Z4t===q$.YKt);this.y7t(void 0,t)}},i.f3t=function(t,n){var i=n.y8t;if(i){var r=i.R9t-1,e=t.Vc[r];return e.i7t(n),this.v4t.yo(new h$(e)),e.Yl.$$t=i.$$t,e}},i.M7t=function(t){if(!Oo(this.T7t,t)){if(t){if(this.w0t===t)return;this.w0t=t;for(var n=0,i=this.S7t;n<i.length;n++){var r=i[n];0,this.i8t(r,t,this.b7t.LE)}}else{if(!this.w0t)return;var e=new oO(this.w0t,this.w0t.Yl.lzt);this.T7t.push(this.w0t),this.w0t=void 0,this.z3t.yo(e)}Ro(this.S7t)}},i.y7t=function(t,n){if(t){var i;if((null==(i=this.drt)?void 0:i.lzt)===t.lzt)return;this.I0t=t,n&&this.v4t.yo(new rO(this.I0t))}else{if(!this.I0t)return;var r=new nO(this.I0t);this.I0t=void 0,Ro(this.T7t),n&&this.z3t.yo(r)}},i.N7t=function(t){return this.D0t.filter((function(n){return wr(n.lzt,t,.01)}))[0]},i.xd=function(t){if(t.y8t){var n=t.y8t,i=this.N7t(n.lzt);i&&(Ro(this.S7t),this.y7t(i,t.f8t))}},i.Cd=function(){this.drt&&this.v4t.yo(new nO(this.drt)),Ro(this.S7t),this.n6t()},i.Q8t=function(t){if(!this.I0t&&t.y8t){var i=this.N7t(t.y8t.lzt);this.y7t(i,t.f8t)}if(this.I0t){var r=n.I7t(this.I0t,t);if(!r)return;this.f3t(this.I0t,t);var e=t.zqt;ci(e)&&!ci(r.zqt)&&(r.zqt=e,this.v4t.yo(new h$(r))),this.M7t(r),this.v4t.yo(new uO(this.w0t,r.Yl.lzt))}else 0},i.T8t=function(t,n){if(this.M7t(void 0),!n&&this.drt){var i=this.drt;this.y7t(void 0,!1),this.o6t(i)}},i.l8t=function(t){var n=t.y8t;if(n){var i=this.N7t(n.lzt);if(i){this.m3t(n.lzt,n.P9t,n.$$t);var r=this.f3t(i,t);r&&this.v4t.yo(new v$(r))}}},i.m3t=function(t,n,i){var r=this.N7t(t);if(r){var e=r.Vc.length;if(n>e){var u=n-e;this.A7t(u,r),r.$$t=i,this.v4t.yo(new a0(r))}}},i.H9t=function(t,i,r){if(this.I0t){var e=n.I7t(this.I0t,t);if(e){var u=i/r;this.v4t.yo(new s0(e,u))}}},i._8t=function(t,i,r){if(this.I0t){var e=this.w0t;if(!e){var u=n.I7t(this.I0t,t);if(!u||Oo(this.T7t,u))return void this.S7t.push(i);e=u,this.f3t(this.I0t,t),this.M7t(e)}this.i8t(i,e,r)}},i.i8t=function(t,n,i){t===S0.R6t?this.v4t.yo(new J0):t===S0.N6t&&n?this.v4t.yo(new Z0(n)):t===S0.E6t&&n?this.v4t.yo(new H0(n)):t===S0.k6t&&n&&i?this.v4t.yo(new v0(n,i)):t===S0.tKt&&n&&i?this.v4t.yo(new l0(n,i)):t===S0.L6t&&n&&i&&this.v4t.yo(new w0(n,i))},i.ZC=function(){this.b7t.ZC()},i.vrt=function(t){this.b7t.vrt(t)},i.tr=function(){var t=Boolean(this.w0t&&this.w0t.Z4t===q$.YKt);this.M7t(void 0),this.y7t(void 0,t);for(var n=0,i=this.D0t;n<i.length;n++){var r=i[n];this.o6t(r)}Ro(this.D0t),Ro(this.S7t),Ro(this.T7t)},i.gn=function(){this.tr()},n.I7t=function(t,n){if(n.y8t)return t.Vc[n.y8t.R9t-1]},Ct(n,[{key:"N4t",get:function(){return this.b7t.N4t}}]),n}(W0);function t1(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case ib.ENABLED:return n.ENABLED;case ib.INSECURE:return n.INSECURE;case ib.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("8.14.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!n1(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(gi(u))return u;return}(t);i&&n.setLocale(i)}function n1(t){return Wt.Ka&&t.allowNativeFullscreen}Q(),Nt(),Jt();var i1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).do=!1,a.I4t=!1,a.P7t=void 0,a.z7t=void 0,a.oti=-1,a.H4t="none",a.B7t=!1,a.x7t=!1,a.F7t=new ca,a.C7t=!1,a.O7t=!1,a.uti=function(t){a.v4t.yo(t)},a.hti=function(t){a.P7t=new mw(yw.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.z7t=_w(a.P7t)},a.R8t=NaN,a.U7t=function(){a.do||a.Ok()},a.FJ=r,a.CG=!0,a.JM=NaN,a.Z5=UA.Nz,a.j7t=!1,a.R7t=!1,a.$5t=new $0(a.v4t,a),a.$7t=new U0(a,a.ta,a.$5t),a.$7t.yn(eA.ua,a.hti),a.ta.yn(Ma.so,a.U7t),a.R5t=new E0(a,a.ta,a.E4t,e,a.$5t),a.Z7t=o,a.W7t=s,a.H7t=u,a.be(),a.W7t.yn("ati",a.uti),a}Et(n,t);var i=n.prototype;return i.E7t=function(t,n,i){n===Yx.urt&&void 0!==i&&(this.I4t=i),this.R5t.q5t(t,n)},i.vrt=function(t){for(var n=this.L7t(),i=0;i<n.length;i++){var r=n[i];cJ(r.sources,r.timeOffset)||t.I9(r,Yx.art,!1)}},i.L7t=function(){for(var t=[],n=this.g4t,i=n.crt,r=n.frt,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.Yl.Z8t;if(!Oo(e,a.zL)){var c,h,f=a.x5t(o.J8t);if(f>=0)(c=t).push.apply(c,ln(a.H3t.slice(f)));else(h=t).push.apply(h,ln(a.H3t));e.push(a.zL)}}for(var v=0,d=this.R5t.frt;v<d.length;v++){var l,g=d[v];if(!g.a5t)(l=t).push.apply(l,ln(g.H3t))}return Vo(t)},i.xE=function(){if(!this.i0t)return 0;var t=this.i0t.O8t();return T(this.ct)||t<0?0:this.ct-t},i.CE=function(t,n){},i._d=function(){return this.JM||NaN},i.T5=function(t){this.JM=t},i.ZE=function(){return this.ta.WE},i.HE=function(t){this.k8t(this.Nk,t,!0)},i.JE=function(){return this.CG},i.J9t=function(t){this.CG=t},i.bk=function(){var t,n,i;return null!=(i=null==(n=this.i0t)||null==(t=n.m8t())?void 0:t.s7t)?i:0},i.Sk=function(){var t,n,i;return null!=(i=null==(n=this.i0t)||null==(t=n.m8t())?void 0:t.e7t)?i:0},i.bE=function(){return[]},i.k4t=function(t){this.z5t=t,this.R5t.k4t(t)},i.f6t=function(){!this.x7t&&this.i0t&&(this.i0t.Cn(),this.x7t=!0)},i.S8t=function(t){this.Z4t=t?t.f8t?"linear":"nonlinear":"none"},i.vk=function(){return GM.PP().ks()},i.Ik=function(){return this.ta.Nk},i.Dk=function(t){this.k8t(t,this.WE,!0)},i.g8t=function(){return this.ta.WE?0:this.ta.Nk},i.k8t=function(t,n,i){var r=this.ta.Nk!==t||this.ta.WE!==n;r&&(this.ta.Nk=t,this.ta.WE=n),this.i0t&&i&&this.i0t.Dk(this.g8t()),r&&this.yo(new xb(this.LE,this.Nk))},i.RE=function(){return!1},i.PE=function(){if(this.P7t&&this.I4t)return this.P7t},i.BE=function(){if(this.z7t&&this.I4t)return this.z7t},i.gk=function(){return this.Z5},i.H5=function(t){this.Z5=t,this.yo(new BA(this.LE,t))},i.Ok=function(){this.ta.fn(Ma.so,this.U7t),this.do||(this.do=!0,this.R5t.Ok(),this.B8t())},i.Pk=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:if(t.Q7t)return[2];t.F7t.Ty(),t.F7t=new ca,n=t.KE,t.J9t(!1),t.yo(new Ib(t.LE)),t.Y7t()||(t.x8t||t.ta.be(),t.yo(new YA(t.LE))),t.U8t||(t.F8t=!1),i=Boolean(t.i0t),t.Q7t=t.R5t.X5t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.Q7t];case 2:return r.sent(),[3,4];case 3:return t.Q7t=void 0,[7];case 4:try{ta(t.F7t.ly)}catch(t){return[2]}if(t.do||t.U7t(),t.P7t&&t.I4t)return[2];if(t.i0t){if(n)if(i)try{ta(t.F7t.ly),t.i0t.V7t(),t.yo(new FA(t.LE))}catch(t){return[2]}else t.f6t()}else t.I4t||(t.R2t(),t.E4t.Pk());return[2]}}))}))()},i.Rk=function(){var t;this.KE||(this.J9t(!0),this.yo(new Db(this.LE))),this.F7t.Ty(),this.U8t?null==(t=this.i0t)||t.Rk():this.F8t=!0},i.ZC=function(){var t;null==(t=this.i0t)||t.ZC()},i.N8t=function(){this.i0t&&(this.W7t.G7t(),this.i0t.zk(),this.i0t.wy(),this.i0t=void 0,this.Z4t="none",this.x7t=!1)},i.zk=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){return t.R8t=0,t.R5t.tr(),t.F7t.Ty(),t.J9t(!0),t.j7t=!1,t.R7t=!1,t.U8t=!1,t.$5t.tr(),t.N8t(),t.A8t(),null==(n=t.Z7t)||n.tr(),t.F8t=!1,t.W7t.wy(),[2]}))}))()},i.ge=function(){this.H7t.ge(),this.x8t&&this.ta.ge()},i.be=function(){this.H7t.be()},i.X7t=function(){return Boolean(this.i0t)&&Oo(this.i0t.q7t(),-1)&&!this.j7t},i.c5t=function(){this.R5t.c5t()},i.m6t=function(){return this.R5t.m6t},i.j5t=function(){this.R5t.j5t()},i.p6t=function(){return this.R5t.p6t()},i.p4t=function(t){if(this.X7t()){if(t.type===Ma.wb&&this.ta.OE)return!0;if(t.type===Ma.qy)return this.j7t=!0,this.W7t.G7t(),!0}return!1},i.Y7t=function(){return Boolean(this.i0t&&this.i0t.m8t())},i.d6t=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.N8t(),i=n.K7t(),n.H7t.FK(),[4,n.W7t.d6t(t,n.Z7t,i)];case 1:return n.i0t=e.sent(),n.J7t(n.i0t),[3,3];case 2:return r=e.sent(),n.$7t.a8t(r),[3,3];case 3:return[2]}}))}))()},i.J7t=function(t){if(t.Dk(this.g8t()),this.R5t.J5t===I0.W5t){var n=t.q7t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.$5t.w3t(r,this.R5t.O5t)}else this.$5t.w3t(this.R5t.O5t.sd,this.R5t.O5t)}this.$7t.tr(),this.$7t.Q9t(t)},i.jk=function(){if(this.e0t&&this.x8t&&this.Y7t())return this.ta.jk()},i.Ck=function(){return this.x8t&&this.N4t?this.ta.wa:t.prototype.Ck.call(this)},i.K7t=function(){var t,n,i=!!(this.R5t.J5t===I0.W5t)&&this.k7t;return void 0!==this.FJ.ads.googleIma.uiElements?t=this.FJ.ads.googleIma.uiElements:this.FJ.ads.showCountdown||(t=[]),void 0!==this.FJ.ads.allowedMimeTypes&&(n=this.FJ.ads.allowedMimeTypes),{tti:n,iti:t,eti:i,n7t:this.FJ.ads.googleIma.bitrate,sti:void 0,nti:this.z5t}},i.B8t=function(){if(this.e0t){var t=this.K7t();this.e0t.rti(t)}},i.y3t=function(t){this.P7t=new mw(yw.ADVERTISEMENT_ERROR,t.Pb),this.z7t=new md(wd.AD_ERROR,"There was a problem playing ads.",this.P7t),this.v4t.yo(Z$.A4t(t))},i.A8t=function(){this.N4t&&(this.ta.ge(),this.R2t(),this.be())},i.G8t=function(){var t;this.ta.xE()!==1/0&&0!==this.ta.vk().length&&((null==(t=this.R5t.O5t)?void 0:t.K3t)&&-1!==this.oti&&(this.ta.CE(this.ta.xE()+this.oti),this.oti=-1))},i.V8t=function(t){var n,i;this.oti=null!=(i=null==(n=t.y8t)?void 0:n.$$t)?i:-1},i.R2t=function(){t.prototype.R2t.call(this),this.ta.ge(),this.x8t&&!this.ta.OE&&this.ta.Pk()},i.G3t=function(){this.x8t||t.prototype.G3t.call(this)},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.$7t.fn(eA.ua,n.hti),[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.N8t(),n.W7t.fn("ati",n.uti),n.W7t.wy(),n.H7t.wy(),n.R5t.gn(),n.$7t.gn(),[2]}}))}))()},Ct(n,[{key:"g4t",get:function(){return this.$5t.g7t}},{key:"D7t",get:function(){return this.$5t}},{key:"b8t",get:function(){return this.R5t}},{key:"x8t",get:function(){return n1(this.FJ)}},{key:"d4t",get:function(){return n.d4t}},{key:"k7t",get:function(){return this.FJ.ads.preload===eb.MIDROLL_AND_POSTROLL}},{key:"Z4t",get:function(){return this.H4t},set:function(t){this.H4t=t}},{key:"i0t",get:function(){return this.e0t},set:function(t){this.e0t=t,this.x7t=!1}},{key:"U8t",get:function(){return this.C7t},set:function(t){this.C7t=t}},{key:"krt",get:function(){return this.I4t}},{key:"D8t",get:function(){return this.j7t}},{key:"F8t",get:function(){return this.O7t},set:function(t){this.O7t=t}},{key:"E8t",get:function(){return this.R7t},set:function(t){this.R7t=t}},{key:"Y8t",get:function(){return this.B7t},set:function(t){this.B7t=t}}],[{key:"d4t",get:function(){return c$.b0t}}]),n}(M0);Q(),Nt(),tn();var r1=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.cti=t},n.createAdPlayer=function(t,n,i){return e1()&&this.cti?this.cti(t,n,i):void 0},t}();function e1(){return!!Boolean(Wr.google&&Wr.google.ima)&&!(1===_.keys(Wr.google.ima).length&&Wr.google.ima.dai)}r1.Ld=new r1;var u1=function(){function t(){}var n=t.prototype;return n.$G=function(t){return t&&t.integration===CT.GOOGLE_IMA},n.u4t=function(t,n,i){return r1.Ld.createAdPlayer(t,n,i)},n.I9=function(t,n,i,r){i.E7t(t,n,r)},n.fH=function(t){var n=Aq(t.sources);if(n){var i={integration:CT.GOOGLE_IMA,sources:n,omidAccessModeRules:B0(t.omidAccessModeRules)},r=_q(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},Ct(t,[{key:"a4t",get:function(){return i1.d4t}}]),t}();jT.Ld.tW(new u1),Q(),Nt(),Zt(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St();var s1=function(t){function n(){return t.call(this,"N0t")||this}return Et(n,t),n.prototype.ma=function(){return new o1},n}(jg),o1=function(t){function n(){return t.call(this,"adloaded")||this}return Et(n,t),n}(ka);tn();var a1=-1,c1=function(){function t(t,n){this.D0t=[],this.c0t=!1,this.r5t=t,this.Jp=0,this.h0t=n,this.vti=NaN,this._ti=!1,this.dti=new r$(this,this.h0t)}var n=t.prototype;return n.wti=function(){return this.Jp<this.D0t.length},n.Pc=function(){var t;return this.Jp<this.D0t.length&&(t=this.D0t[this.Jp],this.Jp++),t},n.mti=function(t){t.WKt=this,this.D0t.push(t)},n.pti=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.D0t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),Co(n.D0t,u),o=u.Drt.sources,a="string"==typeof o?o:o.src,t.yo(Z$.y4t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n._ti=!0,[2,i]}}))}))()},n.l0t=function(){this.c0t=!0},n.u0t=function(){return this.c0t},n.Ati=function(){return this.D0t.some((function(t){return $q(t).some((function(t){return t.lXt}))}))},Ct(t,[{key:"s0t",get:function(){return this.D0t}},{key:"lti",get:function(){return this.dti}},{key:"ult",get:function(){return this.Jp}},{key:"fti",get:function(){return this.r5t}},{key:"gti",get:function(){return this._ti}},{key:"sd",get:function(){if(T(this.vti)){var t=oq.vJt(this.r5t,this.h0t.t._d());void 0===t||T(t)||(this.vti=t)}return this.vti}}]),t}(),h1=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.Pti=!1,u.Eti=function(t){return va(u.Lti(t))},u.Lti=yn((function(t){var n,i,r,e,u,o,a;return pn(this,(function(c){switch(c.label){case 0:return s.Rti(),n=t.currentTime,i=t.currentTime!==a1?s.jti(s._5,t.currentTime):s.Cti(t.currentTime,0,0)[0],u=s.ta._d()-10,(e=s.xti(a1)&&k.ceil(n)===k.ceil(u)?s.Cti(a1,10,0).filter((function(t){return!t.gti})):s.Cti(n,10,0).filter((function(t){return!t.gti}))).length?[4,st.all(e.map((function(t){return t.pti(s.Nti)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s.yo(new s1),(!a||!s.Sti.Gti||e[0].sd<s.Sti.Gti.sd)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.Sti.Gti&&(r=i),s.zti([i])),r?(s.Sti.Iti(),s.Sti.Gti=r,[4,s.Sti.Tti()]):[3,4];case 3:c.sent(),c.label=4;case 4:return T(s.ta._d())||(s._5=t.currentTime),[2]}}))})),u.ta=n,u.x3t=i,u.Yti=new i$(u.x3t,u.ta),u.z5t=void 0,u.Pti=!1,n._d()!==1/0?u.yB=0:u.yB=n.xE(),u._5=u.yB,u.bti=[],u.Nti=r,u.Sti=e,u.Dti=!1,u}Et(n,t);var i=n.prototype;return i.Mti=function(){this.Sti.Tti()},i.Cn=function(){this.Co(),this.Nti.yn("Srt",this.Sti.Iti)},i.jn=function(){this.Eo(),this.Nti.fn("Srt",this.Sti.Iti),this._5=this.yB,this.Sti.tr();for(var t=0,n=this.bti;t<n.length;t++){n[t].l0t()}Ro(this.bti)},i.Co=function(){this.Dti||(this.ta.yn(Ma.Eb,this.Eti),this.Dti=!0)},i.Eo=function(){this.Dti&&(this.ta.fn(Ma.Eb,this.Eti),this.Dti=!1)},i.kti=function(){return this.Lti(new Cg(a1,void 0))},i.xti=function(t){return this.Cti(t,0,0).length>0},i.jti=function(t,n){for(var i,r=0,e=0,u=this.bti;e<u.length;e++){var s=u[e];if(!s.u0t()){var o=s.sd;o>=t&&o<=n&&o>=r&&!T(o)&&(r=(i=s).sd)}}return i},i.Oti=function(t){return this.Lti(new Cg(t,void 0))},i.Rti=function(){if(!this.Pti&&void 0!==this.z5t){this.Pti=!this.bti.some((function(t){return T(t.sd)}));for(var t=0,n=this.bti;t<n.length;t++){var i=n[t];i.sd!==a1&&i.sd<=this.z5t&&!i.u0t()&&i.l0t()}}},i.zti=function(t){for(var n=0;n<t.length;n++){t[n].l0t()}this.x3t.Bti(t),0===this.yti&&this.Eo()},i.Cti=function(t,n,i){var r=this;return this.bti.filter((function(e){if(e.u0t())return!1;var u=e.sd;return r.Uti(u,t)||r.Qti(u,t,n,i)}))},i.Uti=function(t,n){switch(n){case 0:return 0===t;case a1:return t===a1;default:return!1}},i.Qti=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.Fti=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.C5t(r.lzt),u=this.fmt(r);-1===u&&(this.Pti=void 0===this.z5t,this.bti.push(new c1(e,this.Yti)),u=this.bti.length-1),this.bti[u].mti(r)}this.Co()}},i.fmt=function(t){var i=n.C5t(t.lzt);return So(this.bti,(function(t){return i===n.C5t(t.fti)}))},i.Vti=function(t){Co(this.bti,t)},i.k4t=function(t){this.z5t=t,this.Pti=void 0===t},n.C5t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},Ct(n,[{key:"yti",get:function(){for(var t=0,n=0,i=this.bti;n<i.length;n++){i[n].u0t()||(t+=1)}return t}},{key:"frt",get:function(){return this.bti}}]),n}(_a);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St(),tn();var f1,v1=function(t){function n(n,i){var r;return(r=t.call(this)||this).$ti=[],r.Kti=[],r.dV=void 0,r.z3t=new _a,r.eii=function(t){t.stopPropagation(),r.sii()},r.sii=function(){for(var t=0,n=r.$ti;t<n.length;t++)for(var i=0,e=n[t].uqt;i<e.length;i++){var u=e[i];uJ(u.uri)}},r.k1t=v.createElement("div"),r.k1t.style.display="none",r.nii=n,r.rii=i,r}Et(n,t);var i=n.prototype;return i.Zti=function(){this.Hti(),this.Xti(),this.dV=void 0},i.qti=function(t){this.Kti=this.Kti.concat(t)},i.Jti=function(t){this.$ti=this.$ti.concat(t)},i.Xti=function(){this.Kti=[]},i.Hti=function(){this.$ti=[]},i.tii=function(t){for(var n=0,i=this.Kti;n<i.length;n++){var r=i[n];r.dZ===t&&uJ(r.eventURL)}},i.ge=function(){this.Wti.style.display=""},i.be=function(){this.Wti.style.display="none"},i.gn=function(){this.Bo(),this.z3t.Bo(),ki(this.k1t)},Ct(n,[{key:"Wti",get:function(){return this.k1t}},{key:"v4t",get:function(){return this.z3t}}]),n}(_a);function d1(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(gi(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}Q(),Nt(),Q(),Nt(),xn();var l1=(jn(f1={},DM.$L,1),jn(f1,DM.tx,2),jn(f1,DM.ix,2),f1);function g1(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return yo(t.filter((function(t){var n=t.type.toLowerCase();return!!fi(i)&&-1!==i.indexOf(n)&&tq(n)})),(function(t,n){return l1[t.type]-l1[n.type]})).map(w1)}function w1(t){return LM({src:t.contentURL,type:t.type,isAdvertisement:!0})}function y1(t,n){return yR(m1(t),m1(n))}function m1(t){return{Ti:t.height,ji:t.width}}function A1(t,n,i,r){var e,u=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!tq(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(k.abs(a.width/n-1)+k.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return e||s.sort(y1)[0]}}(t.xqt,n.width,n.height,i),s=g1(t.xqt,i);if(u){var o=w1(u);o&&s.push(o)}s.length>0&&(t.zqt=null==(e=s[0].src)?void 0:e.trim());return pN({sources:s},r)}tn();var p1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Rii=r,a.KS=e,a.x3t=u,a.Xu=s,a.aii=o,a.hii=!1,a.jii=0,a._5=-1,a.rN=new ca,a.lii=!0,a.Dii=function(){a._ii()},a.kii=function(){a.rN=void 0,a.hii||(a.xii(),a.hii=!0),a.lii&&(a.lii=!1,a.x3t.Mti()),a.Wti.style.display="block",a.aii.fn(zA.oP,a.kii),a.hii=!0},a.Eii=function(){var t=a.LE,n=a.ct,i=t/n;(0===a.jii&&i>=.25?(a.tii(xJ.Jqt),a.jii=1):1===a.jii&&i>=.5?(a.tii(xJ.tKt),a.jii=2):2===a.jii&&i>=.75&&(a.tii(xJ.$qt),a.jii=3),a.Aii(t,n),a.Bii(),a._5=t,a.Iqt)&&(-1!==a.Iqt.Oqt&&a.Iqt.Oqt<a.Iqt.ct&&(null!=a.O1t||(a.O1t=a.vii()),a.LE<a.Iqt.Oqt?a.O1t.J0t(a.Iqt.Oqt-a.LE):a.O1t.t1t()))},a.Iii=function(){var t,n;a.rN=void 0,a.aii.fn(eA.ua,a.Iii),a.lii=!0,null==(t=a.dV)||t.EKt(XJ.TKt),a.hii=!1,a.aii.be();var i=(null==(n=a.aii.bt)?void 0:n.src)||"";a.nii(i)},a.Tii=function(){a.Ds(new Cg(a.LE,void 0))},a.Sii=function(){a.Ds(new Eb(a.ct))},a.Nii=function(){a.Ds(new xb(a.LE,a.Nk))},a.pii=function(){a.x3t.Rk()},a.wii=function(){a.cii&&(a.tii(xJ.Wqt),a.v4t.yo(new s0(a.cii,a.LE/a.ct)),a._ii(!1))},a.Wti.className="theoplayer-ad-linear",a.Wti.style.zIndex="10",Si(a.Wti),a.aii.be(),a.Oii=!1,a}Et(n,t);var i=n.prototype;return i.Pk=function(){this.aii.KE&&(this.aii.Pk(),this.yo(new Ib(this.LE)),this.hii&&this.tii(xJ.Vqt),this.hii=!0)},i.Rk=function(){this.aii.KE||(this.aii.Rk(),this.yo(new Db(this.LE)),this.tii(xJ.wb))},i.zk=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return null==(n=t.rN)||n.Ty(),t.rN=void 0,t.be(),t.hii=!1,t.lii=!0,t.dii(),t.fii(),[4,t.gii()];case 1:return i.sent(),[2]}}))}))()},i._ii=function(t){void 0===t&&(t=!0),this.hii=!1,t&&this.tii(xJ.iKt),this.be(),this.rii()},i.vii=function(){var t,n=null==(t=this.x3t.Ca)?void 0:t.mi,i=new k$(this.Xu,n);return this.Wti.appendChild(i.we),i.yn("ZC",this.wii),i},i.mii=function(){this.Iqt&&this.Iqt.bqt.rqt&&(this.x1t=new y$(this.Wti),this.x1t.G0t=this.Iqt.bqt.rqt,this.x1t.yn("clickstart",this.pii),this.x1t.yn("click",this.sii))},i.Aii=function(t,n){for(var i=0,r=this.Kti;i<r.length;i++){var e=r[i];if(e.dZ===xJ.mb){var u=YJ(e.tc,n);void 0!==u&&this._5<u&&u<=t&&uJ(e.eventURL)}}},i.yii=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Iqt&&t.bii?(n=A1(t.Iqt,t.bii,t.KS.ads.allowedMimeTypes,t.KS)).sources.length?(t.rN=new ca,t.lii=!0,[4,ea(t.aii.ka(n,t.rN.ly),t.rN)]):[3,2]:[2];case 1:return i.sent(),t.aii.ge(),t.Iqt.CXt(),[3,4];case 2:return[4,t.aii.tr()];case 3:return i.sent(),t.nii(""),t.Iqt.CXt(),[2];case 4:return t.mii(),[2]}}))}))()},i.Mii=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return r.cii=t,r.Iqt=t.lXt,r.aii.yn(Ma.Eb,r.Tii),r.aii.yn(Ma.Zy,r.Sii),r.aii.yn(Ma.kb,r.Nii),r.aii.yn(RA,r.Ds),r.Iqt.mXt&&0!==r.Iqt.mXt.length&&r.qti(r.Iqt.mXt),r.Iqt.bqt&&r.Jti(r.Iqt.bqt),r.dV=n,r.bii=i,0===r.Iqt.xqt.length?[3,2]:(r.aii.yn(eA.ua,r.Iii),[4,r.yii()]);case 1:e.sent(),r.aii.yn(Ma.qy,r.Dii),r.aii.yn(Ma.Eb,r.Eii),r.aii.yn(zA.oP,r.kii),r.aii.yn(Ma.yb,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.$Jt=function(){this.oii&&this.Lii&&this.wii()},i.xii=function(){this.tii(xJ.TSt),this.cii&&this.v4t.yo(new uO(this.cii,this.LE))},i.gii=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.aii.fn(eA.ua,t.Iii),t.aii.fn(Ma.qy,t.Dii),t.aii.fn(Ma.Eb,t.Eii),t.aii.fn(zA.oP,t.Ds),t.aii.fn(zA.oP,t.kii),t.aii.fn(Ma.yb,t.Ds),t.aii.fn(Ma.Eb,t.Tii),t.aii.fn(Ma.Zy,t.Sii),t.aii.fn(Ma.kb,t.Nii),t.aii.fn(RA,t.Ds),t.cii&&(t.cii.l0t(),t.v4t.yo(new oO(t.cii,t.LE))),t.Cii(),t.Zti(),t.dii(),t.fii(),t.cii=void 0,t.Iqt=void 0,t.bii=void 0,[4,t.aii.tr()];case 1:return n.sent(),t.aii.be(),t.Wti.style.cursor="",t.jii=0,t._5=-1,t.Oii&&(t.Rii.gii(),t.Oii=!1),[2]}}))}))()},i.Cii=function(){this.x1t&&(this.x1t.wy(),this.x1t=void 0)},i.fii=function(){this.Pii&&(ki(this.Pii),this.Pii=void 0)},i.dii=function(){this.O1t&&(this.O1t.gn(),this.O1t=void 0)},i.zii=function(){this.Oii=!0},i.Bii=function(){var t;this.Pii||(this.Pii=v.createElement("div"),this.Pii.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.Wti.appendChild(this.Pii));var n=null==(t=this.cii)?void 0:t.Yl;if(n){var i=n.Vc.filter(a$),r=d1(this.KS,"The content will play in")+" "+k.round(n.t0t)+" "+d1(this.KS,"seconds");if(i.length>1){var e=i.filter((function(t){return t.u0t()})).length;r+=". "+d1(this.KS,"Ad")+" "+(e+1)+"/"+i.length}bj(this.Pii,r)}},Ct(n,[{key:"oii",get:function(){return this.hii}},{key:"LE",get:function(){return this.aii.LE}},{key:"ct",get:function(){var t=this.aii.ct;return T(t)&&this.Iqt&&(t=this.Iqt.ct||0),t}},{key:"OE",get:function(){return this.aii.OE}},{key:"WE",get:function(){return this.aii.WE},set:function(t){this.aii.WE=t,t?this.tii(xJ.Fqt):this.tii(xJ.Yqt)}},{key:"KE",get:function(){return this.aii.KE}},{key:"fk",get:function(){return this.aii.fk}},{key:"Nk",get:function(){return this.aii.Nk},set:function(t){this.aii.Nk=t}},{key:"yk",get:function(){return this.aii.yk}},{key:"Tk",get:function(){return this.aii.Tk}},{key:"uii",get:function(){return this.cii}},{key:"Lii",get:function(){return this.Iqt&&-1!==this.Iqt.Oqt&&this.aii.LE>=this.Iqt.Oqt}}]),n}(v1);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St();var _1=function(t){function n(){var i;return(i=t.call(this)||this).e1t=function(t){i.yo(new ka("ZC")),i.Uii(t)},i.Uii=function(t){t.stopPropagation()},i.Vs=n.cr(),i.i1t(),i}Et(n,t);var i=n.prototype;return i.i1t=function(){this.we.addEventListener("mouseup",this.e1t),this.we.addEventListener("touchend",this.e1t),this.we.addEventListener("mousedown",this.Uii)},i.$0t=function(){this.we.removeEventListener("mouseup",this.e1t),this.we.removeEventListener("touchend",this.e1t),this.we.removeEventListener("mousedown",this.Uii)},i.gn=function(){this.$0t(),ki(this.Vs)},n.cr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},Ct(n,[{key:"we",get:function(){return this.Vs}}]),n}(Aa),k1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Gii=function(){e.Xii(),e.tii(xJ.oKt),e.rii()},e.Vii=function(t){var n,i;e.Xii(),null==(n=e.dV)||n.EKt(XJ.NKt);var r,u,s,o=null==(i=e.m0t)?void 0:i.vXt[0],a=null!=(u=null!=(r=null==o?void 0:o.bXt)?r:null==o?void 0:o.AXt)?u:null==o?void 0:o.TXt;e.nii(null!=(s=null==a?void 0:a.mKt)?s:"")},e.Hii=function(){e.be(),Mi(e.Wti),e.rii(),e.Fii=void 0,e.m0t=void 0},e.Kii=function(){e.lu||(e.Zii=void 0,e.lu=new _1,e.Wti.children[0].appendChild(e.lu.we),e.lu.yn("ZC",e.Jii))},e.Jii=function(){e.tii(xJ.Wqt),e.$Jt()},e.Wti.className="theoplayer-ad-nonlinear",e.Wti.style.position="absolute",e.Wti.style.width="100%",e.Wti.style.bottom="3em",e.Wti.style.zIndex="10",e.Wti.style.textAlign="center",e.x3t=r,e}Et(n,t);var i=n.prototype;return i.Zti=function(){t.prototype.Zti.call(this),this.Wti&&Mi(this.Wti)},i.Mii=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return r.m0t&&r.gii(),r.Fii=t,r.m0t=t.dXt,0!==r.m0t.mXt.length&&r.qti(r.m0t.mXt),r.dV=n,0===r.m0t.vXt.length?[3,2]:(r.Jti(r.m0t.vXt[0].NXt),r.Wti.addEventListener("error",r.Vii),r.Wti.addEventListener("load",r.Gii),[4,r.yii()]);case 1:i.sent(),r.Wii(),i.label=2;case 2:return[2]}}))}))()},i.$Jt=function(){var t;if(void 0===this.Zii){var n=null==(t=this.m0t)?void 0:t.vXt[0];n&&n.Yl&&-1!==n.Yl.Oqt&&(this.tii(xJ.Wqt),this.v4t.yo(new s0(this.Fii,0)),this.Hii())}},i.xii=function(){void 0!==this.Fii&&this.v4t.yo(new uO(this.Fii,this.x3t.LE))},i.zk=function(){this.gii(),this.Fii=void 0,this.m0t=void 0},i.gii=function(){this.Xii(),void 0!==this.Fii&&(this.Fii.l0t(),this.v4t.yo(new oO(this.Fii,this.x3t.LE))),this.Zti(),this.qii(),void 0!==this.Zii&&(w(this.Zii),this.Zii=void 0)},i.Xii=function(){this.Wti.removeEventListener("load",this.Gii),this.Wti.removeEventListener("error",this.Vii)},i.yii=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a,c;return pn(this,(function(h){return(n=v.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.m0t.vXt[0],r=v.createElement("a"),i.NXt.rqt&&(r.href=i.NXt.rqt,r.target="Vu",r.setAttribute("rel","noopener")),i.bXt?(e=i.bXt,(u=v.createElement("iframe")).src=e.mKt,r.appendChild(u)):i.AXt?(s=i.AXt,(o=v.createElement("img")).src=s.mKt,r.appendChild(o)):i.TXt&&(a=i.TXt,(c=v.createElement("iframe")).src=a.mKt,r.appendChild(c)),i.CXt(),r.addEventListener("mousedown",t.eii),r.addEventListener("touchend",t.eii),t.Wti.firstChild&&(Mi(t.Wti),t.gii()),n.appendChild(r),t.Wti.appendChild(n),t.ge(),[2]}))}))()},i.Wii=function(){var t;if(this.m0t){var n=null==(t=this.m0t.vXt[0].Yl)?void 0:t.Oqt;void 0!==n&&-1!==n&&(this.Zii=Wr.setTimeout(this.Kii,1e3*n))}},i.qii=function(){this.lu&&(this.lu.fn("ZC",this.Jii),this.lu.gn()),this.lu=void 0},Ct(n,[{key:"Qii",get:function(){return this.Fii}},{key:"Yii",get:function(){return this.lu}},{key:"$ii",get:function(){return this.x3t.tei()}}]),n}(v1);Q(),Nt(),An(),Tn(),tn();var M1=function(){function t(){}return t.iei=function(t,n,i){return yn((function(){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new uq).BKt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=Z$.y4t(s,e.sources.src),i.yo(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();tn(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St();var b1=function(t){function n(){return t.call(this,"xut")||this}return Et(n,t),n.prototype.ma=function(){return new T1},n}(jg),T1=function(t){function n(){return t.call(this,"statechange")||this}return Et(n,t),n}(ka);Q(),Nt();var N1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});Q(),Nt(),St(),Q(),Nt(),Zt(),St();var D1=function(){function t(){this.Qu=[],this.Za=void 0}var n=t.prototype;return n.bL=function(t){return this.Qu[t]},n.Kz=function(t){this.Qu.push(t),this.Za&&this.Za.push(t.ga),this.eei(t)},n.sei=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Kz(i)}},n.nei=function(t,n){n>=0&&n<=this.Qu.length&&(this.Qu.splice(n,0,t),this.Za&&this.Za.splice(n,0,t.ga),this.eei(t))},n.Jz=function(t){return Oo(this.Qu,t)},n.wS=function(t){this.rei(this.Qu.indexOf(t))},n.rei=function(t){if(t>=0&&t<this.Qu.length){var n=this.Qu[t];jo(this.Qu,t),this.Za&&jo(this.Za,t),this.oei(n)}},n.eM=function(){var t=this.Qu.slice();Ro(this.Qu),this.Za&&Ro(this.Za);for(var n=0;n<t.length;n++){var i=t[n];this.oei(i)}},Ct(t,[{key:"Ju",get:function(){return this.Qu}},{key:"V",get:function(){return this.Qu.length}},{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),t}(),I1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hei=new _a,n.Ds=function(t){n.yo(t)},n}Et(n,t);var i=n.prototype;return i.ma=function(){return function(t){var n=function(t){var n=t.Ju.map((function(t){return t.ga}));return n.item=function(n){var i=0|n,r=t.bL(i);return r&&r.ga||void 0},n}(t),i=new pI(t,n);return n.addEventListener=function(t,n){i.yn(t,n)},n.removeEventListener=function(t,n){i.fn(t,n)},n}(this)},i.yn=function(t,n){this.hei.yn(t,n)},i.xy=function(t){this.hei.xy(t)},i.Bo=function(){this.hei.Bo()},i.yo=function(t){this.hei.yo(t)},i.fn=function(t,n){this.hei.fn(t,n)},i.Ry=function(t){this.hei.Ry(t)},i.Py=function(t){this.hei.Py(t)},i.zy=function(t,n){return this.hei.zy(t,n)},n}(D1);Q(),Nt(),St();var E1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return Et(n,t),n}(ka),S1=function(t){function n(n){var i;return(i=t.call(this,"uei")||this).aei=n,i}return Et(n,t),n.prototype.ma=function(){return new E1(this.aei.ga)},n}(jg);Q(),Nt(),St();var L1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return Et(n,t),n}(ka),C1=function(t){function n(n){var i;return(i=t.call(this,"cei")||this).task=n,i}return Et(n,t),n.prototype.ma=function(){return new L1(this.task.ga)},n}(jg),j1=function(t){function n(){return t.call(this)||this}Et(n,t);var i=n.prototype;return i.eei=function(t){this.yo(new S1(t))},i.oei=function(t){this.yo(new C1(t))},n}(I1),x1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Uut="uninitialised",e.oN=new j1,e.gei=i,e._ei=r,e.Iv=n,e.Ok(),e}Et(n,t);var i=n.prototype;return i.Ok=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.lei()];case 1:return n.sent(),t.Qut("initialised"),[2]}}))}))()},i.lei=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.dei()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.dei=function(){var t=this;return yn((function(){var n,i,r,e;return pn(this,(function(u){switch(u.label){case 0:return[4,t.Iv.Rot()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.gei.fei(r.id,r.sourceDescription,r.parameters,t._ei),t.vei(e),t.oN.Kz(e),[4,e.wei]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.Qut=function(t){this.Uut=t,this.yo(new b1)},i.fei=function(t,n,i){void 0===i&&(i="persistent");var r=this.gei.pei(t,n,i);return this.Aei(r,i),this.oN.Kz(r),this.vei(r),r},i.Aei=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.yei(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),A("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.yei=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,i.Iv.Cot({key:t.o,id:t.o,sourceDescription:t.kc,parameters:t.jS},n)];case 1:return r.sent(),[2]}}))}))()},i.vei=function(t){var n=this;t.yn("xut",(function(){t.nI===N1.EVICTED&&n.oN.wS(t)}))},Ct(n,[{key:"nI",get:function(){return this.Uut}},{key:"mei",get:function(){return this.oN}}]),n}(Aa);Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Q(),Nt(),Zt();var O1=function(){function t(t,n,i){if(this.Tei=t,this.qz=n,this.bei=i,0===this.qz.size)this.Dei=GM.PP();else{var r=new GM([-1/0,1/0]);this.qz.forEach((function(t){r=r.Sn(t.timeRanges)})),this.Dei=r}}return t.prototype.DB=function(t){return!!Xg(this.qz,t.qz)&&(!!pr(this.Tei,t.Tei)&&(!!pr(this.jP,t.jP)&&(!!pr(this.Sei,t.Sei)&&this.Nei.IP(t.Nei))))},Ct(t,[{key:"jP",get:function(){return this.bei}},{key:"Mei",get:function(){return this.Tei}},{key:"Sei",get:function(){return this.Nei.jP}},{key:"Iei",get:function(){var t=0,n=0;return this.qz.forEach((function(i){t+=i.timeRanges.jP,n+=i.totalQualityDurationToCache})),0===n?0:k.min(1,t/n)}},{key:"Nei",get:function(){return this.Dei}}]),t}();O1.QUALITY_TIME_RANGES_NULL_OBJECT=As(),O1.CACHE_PROGRESSION_NULL_OBJECT=new O1(0,O1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),O1.Eei=O1.CACHE_PROGRESSION_NULL_OBJECT,Q(),Nt(),Q(),Nt(),An(),gn(),Tn(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),St();var z1=function(t){function n(){return t.call(this,"progress")||this}return Et(n,t),n}(ka),R1=function(t){function n(){return t.call(this,"i3t")||this}return Et(n,t),n.prototype.ma=function(){return new z1},n}(jg);Q(),Nt(),Q(),Nt(),Zt(),St();var B1=function(t){function n(n,i){return t.call(this,n,i)||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return"kei"}}]),n}(Jo);Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Tn(),Q(),Nt();var U1=function(t){return t[t.$L=0]="$L",t[t.tx=1]="tx",t}({});function P1(t,n,i){return Q1.apply(this,arguments)}function Q1(){return Q1=yn((function(t,n,i){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.tAt;e<u.length;e++)s=u[e],r.push(Y1(s,n,i));return[4,st.all(r)];case 1:return o=a.sent(),[2,{ct:t.Pyt.bAt(),Cei:[t.VTt],tAt:o}]}}))})),Q1.apply(this,arguments)}function Y1(t,n,i){return G1.apply(this,arguments)}function G1(){return G1=yn((function(t,n,i){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Ypt;e<u.length;e++)s=u[e],r.push(V1(s,n,i));return[4,st.all(r)];case 1:return[2,{Lei:o.sent()}]}}))})),G1.apply(this,arguments)}function V1(t,n,i){return F1.apply(this,arguments)}function F1(){return F1=yn((function(t,n,i){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Igt;e<u.length;e++)W1(s=u[e])||r.push(H1(s,n,i));return[4,st.all(r)];case 1:return[2,{Z:o.sent(),YA:t.YA}]}}))})),F1.apply(this,arguments)}function W1(t){return t.lct.every(X1)}tn();var Z1=1;function X1(t){return t.XAt!==Z1&&Boolean(t.XAt)}function H1(t,n,i){return K1.apply(this,arguments)}function K1(){return K1=yn((function(t,n,i){var r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.lct;e<u.length;e++)X1(s=u[e])||r.push(J1(s,i));return[4,st.all(r)];case 1:return o=v.sent(),a=t.cht[0],c=t.GY,h=c?function(t,n){for(var i=[],r=function(t){return t?to(t,"avc")?Zv.VIDEO_H264:to(t,"hev")||to(t,"hvc")||to(t,"hvt")||to(t,"lhv")||to(t,"lhe")||to(t,"lht")?Zv.VIDEO_H265:to(t,"mp4")?Zv.VIDEO_MP4:to(t,"mpeg2")?Zv.VIDEO_MPEG2:to(t,"mpeg")?Zv.VIDEO_MPEG:Zv.VIDEO_UNKNOWN:Zv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.A8.split(":").pop(),o=u.y8;i.push({mimeType:r,uuid:s,data:o})}var a=U1.$L,c=Is;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=MY(t,n,!0),[2,{UL:o,gs:t.uet,YA:t.YA,yV:h,ypt:f}]}}))})),K1.apply(this,arguments)}function J1(t,n){return q1.apply(this,arguments)}function q1(){return q1=yn((function(t,n){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=kn(i,new ca,!1),[4,$1(t,n,r.ly)];case 2:switch(e=c.sent(),u={o:i2(t),tP:e,FY:t.FY,Qp:t.Qp,Ti:t.Ti,YA:t.YA,ji:t.ji},t.YA){case lw.ON:break;case lw.NI:u.vgt=null!=(o=null==(s=t.vgt)?void 0:s.BB())?o:NaN;break;case lw.SI:u.audioSamplingRate=t.GAt}return[2,u];case 3:return a=c.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return Mn(i),[7];case 5:return[2]}}))})),q1.apply(this,arguments)}function $1(t,n,i){return t2.apply(this,arguments)}function t2(){return t2=yn((function(t,n,i){var r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:r=[],e=t.eat,t.Dft&&r.push({lB:0,ct:0,xei:t.Dft}),u=e.mbt(),s=u,h.label=1;case 1:return s?t.Mdt(s)?[4,t.Sdt(s,n,i)]:[3,3]:[3,5];case 2:for(o=h.sent(),a=0;a<o.V;a++)r.push(n2(o.Idt(a),t));return[3,4];case 3:r.push(n2(s,t)),h.label=4;case 4:return s=e.Edt(s),[3,1];case 5:return c=e.bbt(),[2,{ct:c.dB-u.lB,Wot:r}]}}))})),t2.apply(this,arguments)}function n2(t,n){return{lB:t.lB,ct:t.ct,xei:n.xdt(t)}}function i2(t){return t.wdt.Cn+"-"+(""+t.o)}function r2(t,n){var i=function(t){var n=function(t){for(var n=As(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.yRt);e||(e={YA:r.YA,zj:[]},n.set(r.yRt,e)),e.zj.push(r)}return n}(t),i=ps();return n.forEach((function(t){for(var n=0,r=t.zj;n<r.length;n++){var e=r[n],u=i.get(t.YA);u||(u=As(),i.set(t.YA,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=ps();return t.forEach((function(t,r){var e=As();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=e2(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function e2(t,n,i){for(var r=t.yRt,e={IRt:t,JRt:[]},u=0;u<i.length;u++){var s=i[u];yX(n,r,s)&&e.JRt.push(s)}return e}function u2(t,n){return s2.apply(this,arguments)}function s2(){return s2=yn((function(t,n){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.pSt([t],{})];case 1:return[2,QZ((i=r.sent()).lI,{},i.ySt)]}}))})),s2.apply(this,arguments)}function o2(t,n){return a2.apply(this,arguments)}function a2(){return a2=yn((function(t,n){return pn(this,(function(i){return JW(t)?[2,c2(t,n)]:[2,b2(t)]}))})),a2.apply(this,arguments)}function c2(t,n){return h2.apply(this,arguments)}function h2(){return h2=yn((function(t,n){var i,r;return pn(this,(function(e){switch(e.label){case 0:return[4,l2(r2(t.zj,t._zt),n)];case 1:return i=e.sent(),[4,v2(t._zt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:f2(i),Cei:[t.Xyt],tAt:[{Lei:i}]}]}}))})),h2.apply(this,arguments)}function f2(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=k).max.apply(u,[n].concat(ln(s.UL.map((function(t){return t.tP.ct})))))}return n}function v2(t,n){return d2.apply(this,arguments)}function d2(){return d2=yn((function(t,n){var i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,k2((e=t[r]).Xyt,n)]:[3,4];case 2:(o=h.sent()).FY=e.FY,o.Qp=e.cht?function(t){return[t.Axt,t.bxt,t.OPt].filter(ci).join(",")}(e.cht):"",o.Ti=null!=(a=null==(u=e.cxt)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.cxt)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{YA:lw.dI,Z:[{gs:fB,YA:lw.dI,UL:i}]}]}}))})),d2.apply(this,arguments)}function l2(t,n){return g2.apply(this,arguments)}function g2(){return g2=yn((function(t,n){var i,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=En(e.value,2),s=u[0],[4,w2(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),g2.apply(this,arguments)}function w2(t,n,i){return y2.apply(this,arguments)}function y2(){return y2=yn((function(t,n,i){var r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=En(u.value,2),[4,m2(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{YA:p2(n),Z:r}]}}))})),y2.apply(this,arguments)}function m2(t,n){return A2.apply(this,arguments)}function A2(){return A2=yn((function(t,n){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:i=[],r=t[0].IRt,e=0,s.label=1;case 1:return e<t.length?[4,_2(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||fB,YA:p2(r.YA),UL:i}]}}))})),A2.apply(this,arguments)}function p2(t){switch(t){case $W.SI:return lw.SI;case $W.NI:return lw.NI;case $W.AQ:case $W.mPt:return lw.ON;default:return lw.dI}}function _2(t,n){var i=function(t){var n=t.IRt.Xyt,i=t.JRt.map((function(t){return t.Xyt}));return n||(i.length?i[0]:void 0)}(t);return k2(i,n)}function k2(t,n){return M2.apply(this,arguments)}function M2(){return M2=yn((function(t,n){var i,r;return pn(this,(function(e){switch(e.label){case 0:return i={ct:0,Wot:[]},t?[4,u2(t,n)]:[3,2];case 1:qW(r=e.sent())&&(i=T2(r)),e.label=2;case 2:return[2,{o:t||"default",jei:t,tP:i,FY:0,Qp:"",Ti:0,YA:lw.dI,ji:0}]}}))})),M2.apply(this,arguments)}function b2(t){var n=T2(t);return{ct:n.ct,Cei:[t.Xyt],tAt:[{Lei:[{YA:lw.dI,Z:[{YA:lw.dI,gs:fB,UL:[{o:t.Xyt,tP:n,FY:0,Qp:"",Ti:0,YA:lw.dI,ji:0}]}]}]}]}}function T2(t){for(var n,i=[],r=0,e=0,u=t.Wot;e<u.length;e++){var s=u[e],o=r;!s.pzt||void 0!==n&&uZ(s.pzt.Xyt,n)||(i.push(N2(s.pzt,o)),n=s.pzt.Xyt),i.push(D2(s,o)),r+=s.ct}return{ct:r,Wot:i}}function N2(t,n){return{lB:n,ct:0,xei:I2(t.Xyt)}}function D2(t,n){return{lB:n,ct:t.ct,xei:I2(t.Xyt)}}function I2(t){return{zu:t.zD,Nct:t.SMt?[t.SMt.Cn,t.SMt.Cn+t.SMt.V]:void 0,zI:!1}}Q(),Nt(),An(),Sn(),gn(),Tn(),Q(),Nt(),tn();var E2=function(){function t(t,n,i){this.ASt=t,this.Ldt=n,this.zei=i}var n=t.prototype;return n.Oei=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(!t.src)throw new A("Invalid typed source");return cb(i=t.type)?[4,n.Rei(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return ab(i)?[4,n.Pei(t)]:[3,4];case 4:throw new A("Unexpected source type");case 5:return[2]}}))}))()},n.Rei=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,u2(t.src,n.ASt)];case 1:return[4,o2(i.sent(),n.ASt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new A("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Pei=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new GQ({WL:Kt.Ah(t.src),$Tt:t.liveOffset,nSt:t.timeServer,zI:t.useCredentials},n.zei,Cl.VI,n.ASt,t.dash)).W];case 1:return r.sent(),[4,P1(i.Tr.Sft,t.contentProtection,n.Ldt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new A("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();tn(),Q(),Nt(),An(),Tn();var S2=function(){function t(t){this.Uei=[],this.Yei=0,this.Vei=t}var n=t.prototype;return n.Bei=function(){var t=new sh;return this.Uei.push(t),this.Qei(),t.rM},n.Fei=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Yei-=1,i.Qei(),0===i.Uei.length&&0===i.Yei&&n.sM(!0),[7];case 3:return[2]}}))}))()},n.Qei=function(){this.Uei.length>0&&this.Yei<this.Vei&&(this.Uei.shift().sM(),this.Yei+=1)},t}();sn();var L2=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.osi=new sh,c.Xei=O1.Eei,c.xSt=n,c.Got=i,c.ASt=r,c.$ei=e,c.Olt=u,c.Ldt=s,c.zei=a,c._ei=o,c.Wei=-1;var h=c.xSt.kc.sources[0];return c.Gei=h,c.do=c.Ok(),c.nsi=new S2(c.xSt.jS.parallelTasksThreshold),c}Et(n,t);var i=n.prototype;return i.Ok=function(){var t=this;return yn((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,p,_,M,T,N,D,I,E;return pn(this,(function(S){switch(S.label){case 0:return[4,new E2(t.ASt,t.Ldt,t.zei).Oei(t.Gei)];case 1:return t.wxt=S.sent(),n=t.xSt.jS.amount,i=t.wxt.ct,r=function(t,n){if(gi(t)){if(to(t,"%"))return b(t)/100*n;throw new A("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.bei=r,u=LO(t.wxt.Cei[0]),[4,t.Got.Zot.zot(u,"manifestURL")];case 2:for(s=S.sent().filter((function(n){return Oo(n.references,t.xSt.o)})),o=[],a=t.xSt.jS.bandwidth,c=0,h=t.wxt.tAt;c<h.length;c++)for(f=h[c],v=0,d=f.Lei;v<d.length;v++)for(l=d[v],g=0,w=x2(l,t.xSt.jS.preferredTrackSelection);g<w.length;g++)for(y=w[g],m=0,p=z2(y.UL,a);m<p.length;m++)_=p[m],o.push(_);if(t.Wei=k.ceil(o.map((function(t){return t.FY*function(t,n){for(var i=0,r=0,e=t.tP.Wot.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),M=As(),s&&0!==s.length){for(T=function(n){var i=s[n],r=i.qualityId,e=new GM(i.startsAndEnds);if(M.has(r))M.get(r).timeRanges=M.get(r).timeRanges.pP(e).mP(5e-4);else{var u,a=Do(o,(function(t){return t.o===r})),c=k.min(t.bei,null!=(u=null==a?void 0:a.tP.ct)?u:1/0);M.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},N=s.reduce((function(t,n){return t+n.byteSize}),0),D=0;D<s.length;D++)T(D);e=new O1(N,M,t.bei)}else{for(I=0;I<o.length;I++)E=o[I],M.set(E.o,{timeRanges:GM.PP(),totalQualityDurationToCache:k.min(E.tP.ct,t.bei)});e=new O1(0,M,t.bei)}return t.Zei=e,[2]}}))}))()},i.pi=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.do];case 1:return i.sent(),[4,n.qei(n.wxt,t)];case 2:return i.sent(),[2]}}))}))()},i.qei=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:if(!t.Cei)throw new A("Unexpected - manifest is missing locations");return[4,i.Kei()];case 1:for(o.sent(),r=[],e=0,u=t.tAt;e<u.length;e++)s=u[e],r.push(i.Jei(s,t.Cei[0],n));return[2,da(r)]}}))}))()},i.Kei=function(){var t=this;return yn((function(){var n,i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return[4,t.$ei.Rot()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Got.Hot.$b(r.key)]):[3,9];case 3:return(e=s.sent())?[4,C2(e,t.xSt.o,t.Got.Hot,t._ei)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Got.Hot.Cot(r,t._ei)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new B1("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.$ei.Uot()];case 10:return s.sent(),[2]}}))}))()},i.Jei=function(t,n,i){for(var r=[],e=0,u=t.Lei;e<u.length;e++)for(var s=x2(u[e],this.xSt.jS.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.tsi(a,n,i))}return da(r)},i.tsi=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return e=r.xSt.jS.bandwidth,u=z2(t.UL,e),t.YA===lw.NI&&t.ypt&&t.ypt.IF.widevine&&"persistent"===t.ypt.IF.widevine.licenseType?[4,r.isi(t.ypt)]:[3,2];case 1:c.sent(),ta(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.esi(a,n,i));return[2,da(s)]}}))}))()},i.esi=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:ta(i),e=t.tP.Wot[0].lB,u=e+r.bei,s=[],o=!1,a=0,c=t.tP.Wot,f.label=1;case 1:return a<c.length?(h=c[a]).lB>=u||r.stopIfFailed(o)?[3,5]:[4,r.ssi(i)]:[3,5];case 2:return f.sent(),[4,r.nsi.Bei()];case 3:f.sent(),s.push(r.nsi.Fei(r.rsi(h,t,n),r.osi).catch((function(t){return o=!0,st.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,da(s)]}}))}))()},i.ssi=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.sy)?[4,n.osi.rM]:[3,2];case 1:throw i.sent(),new qo;case 2:return[2]}}))}))()},i.hsi=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.do.catch(qt)];case 1:return n.sent(),[2,t.wxt]}}))}))()},i.isi=function(t){return st.resolve()},i.asi=function(){return Kt.uA("License renewal unsupported in this SDK."),st.resolve()},i.rsi=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:return e=r.Got.Zot,u=CO(t.xei.zu,t.xei.Nct),[4,e.$b(u)];case 1:return(s=v.sent())?[4,C2(s,r.xSt.o,e,r._ei)]:[3,3];case 2:return v.sent(),r.usi(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.lsi(t.xei)];case 4:return o=v.sent(),a=r.dsi(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Got.Vot(yn((function(t){return pn(this,(function(n){switch(n.label){case 0:return[4,t.Zot.Cot(c,r._ei)];case 1:return n.sent(),[4,t.Wot.Cot(h,r._ei)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.usi(c,!0),[3,7];case 6:throw f=v.sent(),new B1("Unable to store segment with url: "+t.xei.zu,f);case 7:return[2]}}))}))()},i.lsi=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.Olt.Act(t,{Dct:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,jI:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.Rlt(i)];case 2:return[2,r.sent()]}}))}))()},i.Rlt=function(t){return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.FN()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.dsi=function(t,n,i,r){var e=CO(t.xei.zu,t.xei.Nct),u=t.lB,s=t.ct,o=this.fsi(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:LO(i),qualityId:n.o,byteSize:o,startsAndEnds:new GM([u,u+s]).hP,references:[this.xSt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:LO(i),data:r,references:[this.xSt.o]}}},i.fsi=function(t){return t.buffer.byteLength},i.usi=function(t,n){var i=t.qualityId,r=this.Xei,e=r.qz;e.get(i).timeRanges=e.get(i).timeRanges.pP(new GM(t.startsAndEnds)).mP(5e-4),this.Zei=new O1(n?r.Mei+t.byteSize:r.Mei,e,this.bei)},i.stopIfFailed=function(t){return!1},Ct(n,[{key:"wei",get:function(){return this.Ok()}},{key:"Hei",get:function(){return this.Wei}},{key:"Zei",get:function(){return this.Xei},set:function(t){this.Xei.DB(t)||(this.Xei=t,t.DB(O1.Eei)||this.yo(new R1))}}]),n}(Aa);function C2(t,n,i,r){return j2.apply(this,arguments)}function j2(){return j2=yn((function(t,n,i,r){return pn(this,(function(e){switch(e.label){case 0:return Oo(t.references,n)?[3,2]:(t.references.push(n),[4,i.Cot(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),j2.apply(this,arguments)}function x2(t,n){switch(t.YA){case lw.SI:return O2(t.Z,n.audioTrackSelection);case lw.ON:return O2(t.Z,n.textTrackSelection);default:return O2(t.Z,[])}}function O2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function z2(t,n){if(!t.length)return[];var i=ln(t).sort(mR),r=i.filter((function(t){return t.FY<=n}));return r.length>0?[r.pop()]:[i.shift()]}var R2=function(){function t(t,n,i){this.xSt=t,this.Got=n,this.wxt=i}var n=t.prototype;return n.gsi=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.Got.Vot(yn((function(n){return pn(this,(function(i){switch(i.label){case 0:return[4,t._si(n)];case 1:return i.sent(),[4,t.vsi(n)];case 2:return i.sent(),[4,t.wsi(n)];case 3:return i.sent(),[4,t.msi(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n._si=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return i=t.Xot,r=n.xSt.o,[4,i.wS(r)];case 1:return e.sent(),[2]}}))}))()},n.vsi=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return i=t.Zot,r=t.Wot,wb(e=n.xSt.kc.sources[0])?(u=LO(e.src),[4,i.zot(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return Oo(t.references,n.xSt.o)})),o=0,c.label=2;case 2:return o<s.length?(Co((a=s[o]).references,n.xSt.o),0!==a.references.length?[3,5]:[4,i.wS(a.key)]):[3,8];case 3:return c.sent(),[4,r.wS(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.Cot(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.wsi=function(t){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return i=t.Hot,r=n.psi(),[4,i.Sot(r)];case 1:e=o.sent().filter((function(t){return Oo(t.references,n.xSt.o)})),u=0,o.label=2;case 2:return u<e.length?(Co((s=e[u]).references,n.xSt.o),0!==s.references.length?[3,4]:[4,i.wS(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.Cot(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.psi=function(){if(!this.wxt)return[];var t=this.xSt.kc.sources[0];if(!wb(t))return[];var n=LO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.tAt;i<r.length;i++)for(var e=0,u=r[i].Lei;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].UL;a<c.length;a++){var h=c[a];h.jei&&n.push(h.jei)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.wxt).map((function(t){return{src:t}})).map((function(t){return LO(t.src)}));return[n].concat(ln(i))},n.msi=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return[4,(i=t.qot).Rot()];case 1:r=s.sent().filter((function(t){return Oo(t.references,n.xSt.o)})),e=0,s.label=2;case 2:return e<r.length?(Co((u=r[e]).references,n.xSt.o),0!==u.references.length?[3,4]:[4,i.wS(u.key)]):[3,7];case 3:return s.sent(),n.Asi(u),[3,6];case 4:return[4,i.Cot(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.Asi=function(t){},t}(),B2=function(){function t(){}return t.prototype.xst=function(t,n,i){return new R2(t,n,i)},t}(),U2=new B2;Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),tn();var P2=function(){function t(t,n){this.lD=t,this.Msi=n}var n=t.prototype;return n.ysi=function(t){this.bsi(t)},n.bsi=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.Msi.asi(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.lD.Qut(N1.ERROR),[3,3];case 3:return[2]}}))}))()},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{renew:function(n){t.ysi(n)}}}(this)),this.Za}}]),t}(),Q2=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).xsi=new ca,o.evictOnLoading=function(){o.fn("xut",o.evictOnLoading),o.Csi()},o.aS=n,o.wc=i,o.ksi=r,o.Got=e,o.Msi=u.xst(o,o.Got,s),o.Esi=new P2(o,o.Msi),o.Uut=1===o.Msi.Zei.Iei?N1.DONE:N1.IDLE,o.Msi.yn("i3t",(function(t){o.Ds(t),1===o.Nsi&&o.Qut(N1.DONE)}));var a=new Date,c=o.ksi.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(c)&&g((function(){return o.Csi()}),c),o}Et(n,t);var i=n.prototype;return i.Qut=function(t){this.Uut!==t&&(this.Uut=t,this.yo(new b1))},i.Cn=function(){this.Uut===N1.EVICTED||this.Uut===N1.DONE||this.Lsi()},i.Lsi=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.Qut(N1.LOADING),n=new ca,t.xsi=n,[4,t.Msi.pi(n.ly)];case 1:return i.sent(),t.Qut(N1.DONE),[3,4];case 2:return $o(i.sent())?t.Qut(N1.IDLE):t.Qut(N1.ERROR),[3,4];case 3:return t.xsi.wy(),[7];case 4:return[2]}}))}))()},i.Rk=function(){this.xsi.Ty()},i.wS=function(){this.nI===N1.LOADING?(this.yn("xut",this.evictOnLoading),this.Rk()):this.Csi()},i.Csi=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.Msi.hsi()];case 1:return n=i.sent(),[4,U2.xst(t,t.Got,n).gsi()];case 2:return i.sent(),t.Msi.Zei=O1.Eei,t.Qut(N1.EVICTED),[3,4];case 3:return i.sent(),t.Qut(N1.ERROR),[3,4];case 4:return[2]}}))}))()},Ct(n,[{key:"wei",get:function(){return this.Msi.wei}},{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get id(){return t.o},get status(){return t.nI},get source(){return t.kc},get parameters(){return t.jS},get duration(){return t.ct},get cached(){return t.Tsi.ks()},get secondsCached(){return t.Ssi},get percentageCached(){return t.Nsi},get bytes(){return t.Isi},get bytesCached(){return t.Dsi},get license(){return t.pX.ga},start:function(){t.Cn()},pause:function(){t.Rk()},remove:function(){t.wS()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new AI(t,["i3t","xut"],i),i}(this)),this.Za}},{key:"o",get:function(){return this.aS}},{key:"pX",get:function(){return this.Esi}},{key:"nI",get:function(){return this.Uut}},{key:"kc",get:function(){return this.wc}},{key:"jS",get:function(){return this.ksi}},{key:"ct",get:function(){return this.Msi.Zei.jP}},{key:"Tsi",get:function(){return this.Msi.Zei.Nei}},{key:"Ssi",get:function(){return this.Msi.Zei.Sei}},{key:"Nsi",get:function(){return this.Msi.Zei.Iei}},{key:"Isi",get:function(){return this.Msi.Hei}},{key:"Dsi",get:function(){return this.Msi.Zei.Mei}}]),n}(_a);var Y2=function(){function t(t,n){this.Got=t,this.jsi=n}var n=t.prototype;return n.pei=function(t,n,i){var r=iD();return this.fei(r,t,n,i)},n.fei=function(t,n,i,r){return new Q2(t,n,i,this.Got,this.jsi,r)},t}();Q(),Nt();var G2=30,V2=5;function F2(t){if(!t)throw new A("Unexpected - The cache parameters are undefined");var n=function(t){if(gi(t)&&!to(t,"%"))return M(t);return t}(t.amount);!function(t){if(function(t){return gi(t)&&to(t,"%")}(t)){var n=b(t);if(T(n)||n<0||n>100)throw new A("The amount as percentage must be between 0 and 100 percent.")}if(!gi(t)&&T(t))throw new A("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+G2),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||mi(t)&&t>new Date}(t))throw new A("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(T(t)||t<0)throw new A("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return V2;if(T(t))throw new A("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}sn();var W2=function(){function t(t,n,i,r){var e=this,u=this;this.Bsi=[],this.Rsi=0,this.Psi=0,this.Tti=yn((function(){var t;return pn(this,(function(n){switch(n.label){case 0:return(t=u.g6t())?[4,u.VGt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.Iti=function(){var t=e.Bsi.shift();null==t||t.wS()},this.Qsi=yn((function(t,n){var i;return pn(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.zy("i3t")];case 2:return r.sent(),i=1===t.Zei.Iei,[3,1];case 3:return n.ct<5&&u.Tti(),[2]}}))})),this.FJ=t,this.OQ=n,this.rN=new ca,this.jsi=i,this.UG=r,this.Got=new GO}var n=t.prototype;return n.g6t=function(){if(this.Osi)for(var t=this.Osi.s0t;this.Rsi<t.length;){var n=t[this.Rsi];for(void 0===this.zsi&&(this.zsi=$q(n),this.Psi=0);this.Psi<this.zsi.length;){var i=this.zsi[this.Psi];if(this.Psi++,void 0!==i.lXt)return i.lXt}this.Rsi++,this.zsi=void 0}},n.tr=function(){for(this.Gti=void 0,this.rN.Ty(),this.rN=new ca;this.Bsi.length;)this.Iti()},n.Usi=function(t){return new x1(this.Got.Xot,t,"temporary")},n.VGt=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:return(i=g1(t.xqt,n.FJ.ads.allowedMimeTypes)).length?[4,uT.Ld.mG(i,pN({sources:i}))]:[2];case 1:return(r=c.sent()).t.oG()?(n.Msi||(n.Msi=new n.jsi(n.OQ)),e=n.Got,u=new Y2(e,n.Msi),s=n.Usi(u),o=s.fei(pN({sources:r.kc}),F2({amount:10,bandwidth:Uk.Ld.LY()||n.UG.VK}),"temporary"),n.Bsi.push(o),a=n.Msi.xst(o,e,"temporary"),n.rN.Ty(),n.rN=new ca,ea(a.pi(n.rN.ly),n.rN).then(qt),n.Qsi(a,t),[2]):[2]}}))}))()},Ct(t,[{key:"Gti",get:function(){return this.Osi},set:function(t){this.Osi=t,this.Rsi=0,this.Psi=0,this.zsi=void 0}}]),t}();Q(),Nt(),St(),Q(),Nt(),An(),St(),Tn();var Z2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new GM([0,0]).hP,references:[]},X2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},H2=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Fsi=new TR(i),s.Got=r,s.Vsi=e,s._ei=u,s}Et(n,t);var i=n.prototype;return i.Hdt=function(n,i,r,e){var u=this;return yn((function(){var s;return pn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Hdt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return na(o.sent()),[3,3];case 3:return[4,u.Fsi.Hdt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Ysi(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Ysi=function(t,i,r){var e=this;return yn((function(){var u,s,o,a,c,h,f,v;return pn(this,(function(d){switch(d.label){case 0:return void 0===e.Vsi?[2]:(u=e.Got.Zot,s=CO(t,i),[4,u.$b(s)]);case 1:return(o=d.sent())?[4,C2(o,e.Vsi,u,e._ei)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:r},c=n.dsi(s,a,e.Vsi),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Got.Vot(yn((function(t){return pn(this,(function(n){switch(n.label){case 0:return[4,t.Zot.Cot(h,e._ei)];case 1:return n.sent(),[4,t.Wot.Cot(f,e._ei)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=d.sent(),new B1("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.dsi=function(t,n,i){return{segmentMetadataEntry:ys({},Z2,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ys({},X2,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(NR);var K2=function(){function t(t){this.OQ=t}return t.prototype.xst=function(t,n,i){void 0===i&&(i="persistent");var r=t.kc.sources[0];if(vb(r))throw new A("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new Ez(this.OQ,Il.dI),s=new eY(this.OQ,e),o=new jO(n.Hot,n.Zot,n.Wot,n.qot),a=function(t,n,i,r,e){return new H2(n,t,i,r,e)}(this.OQ,o,n,t.o,i),c=new YO,h=new cY(aY(s,o),c,t);return this.Gsi(t,n,h,c,u,a,i)},t}(),J2=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.Gsi=function(t,n,i,r,e,u,s){return new L2(t,n,i,r,e,u,s,KO())},n}(K2),q2=J2;sn();var $2=function(t){function n(n,i,r,e,u,s){var o,a;o=t.call(this,n,i)||this,a=o,o.Jsi=[],o.Ksi=0,o._ni=[],o.sni=!1,o.s7=!1,o.tni=!0,o.Wsi=[],o.mni=function(t){t.type===Ma.so&&o.tni?o.tni=!1:o.yo(t)},o.Xsi=function(){o.s7=!0},o.pni=yn((function(){return pn(this,(function(t){switch(t.label){case 0:return a.Ksi=1,[4,a.Zsi.gii()];case 1:return t.sent(),[2,a.Mii(a.ani.Pc())]}}))})),o.Ani=yn((function(t){var n;return pn(this,(function(i){switch(i.label){case 0:return n=new KJ(JJ.PLAYBACK,qJ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.v4t.yo(Z$.y4t(n,t)),[4,a.Zsi.gii()];case 1:return i.sent(),[2,a.Mii(a.ani.Pc())]}}))})),o.yni=function(){return o.Rii.gii(),o.Mii(o.ani.Pc())},o.bni=function(t){var n=new KJ(JJ.PLAYBACK,qJ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.v4t.yo(Z$.y4t(n,t)),o.Rii.gii(),o.Mii(o.ani.Pc())},o.OQ=s,o.aii=r,o.Rii=new k1(o.bni,o.yni,o),o.Zsi=new p1(o.Ani,o.pni,o.Rii,e,o,n.Uu,r),o.vni(o.Rii.Wti),o.vni(o.Zsi.Wti);var c=new W2(e,s,J2,u);return o.qsi=new h1(o.ta,o,o.v4t,c),o.Zsi.xy(o.mni),o.Rii.xy(o.Ds),o.v4t.iu(o.Zsi.v4t),o.v4t.iu(o.Rii.v4t),o.v4t.iu(o.qsi),o.wni=new i$(o,o.ta),o.Uu.yn(_D.pn,o.Ds),o.ta.yn(Ma.so,o.Xsi),o}Et(n,t);var i=n.prototype;return i.E7t=function(t,n,i){n===Yx.art&&this.s7?va(this.d6t([t])):this.Wsi.push(t)},i.xE=function(){return this.Zsi.oii?this.Zsi.LE:this.Cnt()},i.CE=function(t,n){},i._d=function(){return this.Zsi.ct},i.RE=function(){return this.Zsi.OE},i.PE=function(){},i.BE=function(){},i.ZE=function(){return this.Zsi.WE},i.HE=function(t){this.WE!==t&&(this.Zsi.WE=t,this.yo(new xb(this.LE,this.Nk)))},i.JE=function(){return this.Zsi.KE},i.gk=function(){return this.Zsi.fk},i.vk=function(){return GM.PP().ks()},i.bk=function(){return this.Zsi.yk},i.Sk=function(){return this.Zsi.Tk},i.Ik=function(){return this.Zsi.Nk},i.Dk=function(t){this.Nk!==t&&(this.Zsi.Nk=t,this.yo(new xb(this.LE,this.Nk)))},i.Pk=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Hsi?[2]:(t.yo(new Ib(t.LE)),t.Xsi(),t.Wsi.length?(t.Hsi=t.d6t(t.Wsi),[4,t.Hsi]):[3,2]);case 1:i.sent(),t.Hsi=void 0,i.label=2;case 2:return[4,t.qsi.Oti(t.ta.xE())];case 3:return i.sent(),4!==(n=t.Ksi)&&1!==n&&5!==n||(!t.I0t&&t.Jsi.length?t.$si():t.I0t?(t.tni=!0,t.Zsi.Pk()):(t.R2t(),t.ta.Pk()),t.Ksi=3),[2]}}))}))()},i.Rk=function(){3===this.Ksi&&(this.Zsi.Rk(),this.Ksi=4)},i.Mti=function(){this.qsi.Mti()},i.Cn=function(){this.Ksi=1,this.qsi.Cn()},i.zk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.qsi&&(t.qsi.jn(),t.ini(!1),t.Rii.zk(),t.Ksi=5,t.I0t&&(t.qsi.Vti(t.I0t.WKt),t.I0t=void 0)),t.s7=!1,t.tni=!1,Ro(t.Jsi),t.N4t&&(t.R2t(),t.ta.ge()),Ro(t.Wsi),[4,t.Zsi.zk()];case 1:return n.sent(),[4,t.aii.tr()];case 2:return n.sent(),[2]}}))}))()},i.ZC=function(){this.Zsi.$Jt(),this.Rii.$Jt()},i.Ok=function(){this.aii.Ok(),this.Xsi()},i.p4t=function(t){return!(t.type!==Ma.qy||!this.qsi||!this.qsi.xti(-1))&&(this.qsi.kti().then(qt),!0)},i.ge=function(){void 0!==this.Zsi.uii&&(this.aii.ge(),this.Zsi.ge()),void 0!==this.Rii.Qii&&this.Rii.ge()},i.be=function(){this.aii.be(),this.Zsi.be(),this.Rii.be()},i.d6t=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,M1.iei(t,n.OQ,n.v4t)];case 1:return(i=r.sent()).length?(n.qsi.Fti(i),n.v4t.yo(new cO),n.N4t||n.ta.KE||n.qsi.Oti(n.ta.xE()),0!==n.Ksi&&5!==n.Ksi||n.Cn(),[2]):("Ads could not be loaded.",n.v4t.yo(Z$.y4t(new KJ(JJ.ADBLOCK,qJ.FILE_NOT_FOUND),"Ads could not be loaded.")),n.s7&&!n.I0t&&0===n.Jsi.length&&n.eni(),[2])}}))}))()},i.Bti=function(t){var n;(n=this.Jsi).push.apply(n,ln(t));for(var i=0;i<t.length;i++){t[i];this.s7&&!this.N4t&&this.$si()}},i.$si=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return 2===t.Ksi?[2]:t.sni?[3,4]:(t.sni=!0,t.Ksi=2,n=t.I0t,t.nni(),t.I0t?[4,t.I0t.WKt.pti(t.v4t)]:[3,3]);case 1:return i.sent(),t.rni()||(t.sni=!1),t.v4t.yo(new h0(t.oni(t.I0t))),[4,t.hni()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.WKt.Ati())&&t.v4t.yo(new nO(t.oni(n))),t.sni=!1,t.Ksi=1,t.eni(),i.label=4;case 4:return[2]}}))}))()},i.eni=function(){this.R2t(),this.ta.ge(),this.ta.OE?this.ta.yo(new Lb(this.ta.xE())):this.ta.Pk()},i.nni=function(){var t;if(this.I0t&&this.rni())t=this.I0t.WKt;else{if(0===this.Jsi.length)return;t=this.Jsi.shift()}if(t){var n=t.Pc();n?this.I0t=n:(this.I0t&&(this.qsi.Vti(this.I0t.WKt),this.I0t=void 0),this.I0t=void 0)}},i.hni=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return n=t.I0t?function(t){var n,i,r=null==(i=t.pJt)||null==(n=i.XHt)?void 0:n.qHt();return void 0===r?void 0:new qq(r)}(t.I0t):void 0,n?t.I0t?(t.ani=n,t.uni(t.I0t.mXt),t.cni(xJ.fKt),i=t.ani.Pc(),t.I0t.WKt.Ati()&&(t.Rii.gii(),1===t.I0t.WKt.ult&&t.v4t.yo(new rO(t.oni(t.I0t)))),[4,t.Mii(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Ksi=1,t.sni=!1,t.I0t=void 0,t.$si(),r.label=3;case 3:return[2]}}))}))()},i.Mii=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w;return pn(this,(function(y){switch(y.label){case 0:return t?(r=ci(t.lXt),e=ci(t.gXt),s=null!=(u=null==(i=t.fXt)?void 0:i.zXt)?u:[],o=s.length>0,a=n.I0t,c=n.oni(a),t.lXt?(t.lXt.Yl=a,void 0!==a.Drt.skipOffset&&void 0!==(h=oq.vJt(a.Drt.skipOffset,t.lXt.ct))&&h<t.lXt.ct&&(t.lXt.Oqt=h),f=c.n0t(t.lXt,s,t._Xt,a.Drt),n.Rii.gii(),n.B3t(),[4,n.Zsi.Mii(f,t.lt,{width:n.ta.we.offsetWidth,height:n.ta.we.offsetHeight})]):[3,2]):[3,7];case 1:y.sent(),r=!0,y.label=2;case 2:return t.gXt?((v=t.gXt.vXt[0]).Yl=a,void 0!==a.Drt.skipOffset&&(d=oq.vJt(a.Drt.skipOffset,n.ta._d()))&&(v.Yl.Oqt=d),l=r?[]:s,g=c.r0t(v,l,t.gXt,t._Xt,a.Drt),r&&n.Zsi.zii(),[4,n.Rii.Mii(g,t.lt,{width:n.ta.we.offsetWidth,height:n.ta.we.offsetHeight})]):[3,4];case 3:y.sent(),e=!0,y.label=4;case 4:return r&&(n.Ksi=3,n.Zsi.ge(),w=0===c.lzt,n.tni=w,n.aii.Rk(),n.Zsi.Pk(),n.ta.Rk(),n.ta.be(),n.B3t(),n.Zsi.xii()),e&&(n.Ksi=3,n.Rii.ge(),n.Rii.xii()),(r||e||o)&&n.lni(t.aXt),r||e?[3,6]:[4,n.dni()];case 5:y.sent(),y.label=6;case 6:return!r&&e&&(n.rni()||n.Jsi.length>0?n.$si():(n.eni(),n.I0t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n.dni()];case 8:return y.sent(),[3,10];case 9:n.ini(!0),y.label=10;case 10:return[2]}}))}))()},i.dni=function(){var t=this.ani;return this.Mii(t&&t.Pc())},i.ini=function(t){this.cni(xJ.gKt),this.fni(),this.Ksi=1;var n=void 0!==this.I0t&&this.I0t.WKt.wti();if(this.sni=!1,n)t&&(this.Ksi=1,this.$si());else{if(!this.N4t)return;this.ta.ge(),!this.ta.OE&&t&&this.ta.Pk(),this.R2t()}},i.R2t=function(){this.gni(),t.prototype.R2t.call(this)},i.gni=function(){if(this.ta.OE&&(this.Ksi=5),this.I0t){var t=this.I0t.WKt;t.Ati()&&this.v4t.yo(new nO(this.oni(this.I0t))),this.qsi.Vti(t),this.I0t=void 0}},i.uni=function(t){this._ni=this._ni.concat(t)},i.fni=function(){this._ni=[]},i.vni=function(t){this.ta.we.appendChild(t)},i.cni=function(t){for(var n=0,i=this._ni;n<i.length;n++){var r=i[n];r.dZ===t&&uJ(r.eventURL)}},i.lni=function(t){this.Zsi.tii(xJ.oKt);for(var n=0;n<t.length;n++){var i=t[n];uJ(i)}},i.vrt=function(t){for(var n=this.L7t(),i=0;i<n.length;i++){var r=n[i];cJ(r.sources,r.timeOffset)||t.I9(r,Yx.art,!1)}},i.L7t=function(){for(var t,n=[],i=0,r=this.crt.concat(this.frt);i<r.length;i++){var e=r[i];n.push(e.Drt)}for(var u=this.Jsi.concat(this.qsi.frt.filter((function(t){return!t.u0t()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].s0t;o<a.length;o++){var c=a[o];c.W||n.push(c.Drt)}return(t=n).push.apply(t,ln(this.Wsi)),Vo(n)},i.rni=function(){return!!this.I0t&&$q(this.I0t).some((function(t){return t.lXt}))},i.oni=function(t){return t.WKt.lti},i.tei=function(){return this.wni},i.jk=function(){return this.aii.jk()},i.bE=function(){return this.aii.bE()},i.k4t=function(t){this.qsi.k4t(t)},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.ta.fn(Ma.so,n.Xsi),n.v4t.Bq(n.Zsi.v4t),n.v4t.Bq(n.Rii.v4t),n.v4t.Bq(n.qsi),n.Zsi.gn(),n.Rii.gn(),[4,n.aii.gn()];case 2:return i.sent(),[2]}}))}))()},Ct(n,[{key:"g4t",get:function(){return this}},{key:"d4t",get:function(){return n.d4t}},{key:"drt",get:function(){return this.I0t?this.oni(this.I0t):null}},{key:"crt",get:function(){return this.I0t?[this.Zsi.uii,this.Rii.Qii].filter(ci):[]}},{key:"frt",get:function(){var t=this.Jsi.concat(this.qsi.frt.filter((function(t){return!t.u0t()})));return Uo(t,(function(t){return t.lti.Vc.filter((function(t){return!t.u0t()}))}))}},{key:"grt",get:function(){return this.qsi.frt.map((function(t){return t.lti}))}}],[{key:"d4t",get:function(){return c$.y0t}}]),n}(M0),t4=function(){function t(){}var n=t.prototype;return n.$G=function(t){return t&&("string"!=typeof t.integration||t.integration===CT.DEFAULT||t.integration===CT.CSAI||t.integration===CT.THEO)},n.u4t=function(t,n,i){var r=new yT(t.we,i,t.wE,t.Tnt,t.Ek,t.Ent,t.Ll);return new $2(t,n,r,i,t.Tnt,t.wE)},n.I9=function(t,n,i,r){i.E7t(t,n,r)},n.fH=function(t){var n=Aq(t.sources);if(n){var i={integration:CT.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&ce("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=_q(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=_q(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},Ct(t,[{key:"a4t",get:function(){return $2.d4t}}]),t}();jT.Ld.tW(new t4),Q(),Nt(),Q(),Nt(),Zt(),Jt();var n4=function(){function t(t,n){this.H7t=void 0,this.Z9=!1,this.tst=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",Si(i),i.style.zIndex="10",Wt.Qs&&function(t,n){t.addEventListener(n,Di)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.Tni=r,i.appendChild(r),this.k1t=i,this.H7t=new google.ima.AdDisplayContainer(this.Tni,this.tst)}var n=t.prototype;return n.FK=function(){var t;this.Z9||(null==(t=this.H7t)||t.initialize(),this.Z9=!0)},n.Ini=function(t){"linear"===t?this.k1t.style.marginTop="0px":"nonlinear"===t&&(this.k1t.style.marginTop="-45px")},n.ge=function(){this.k1t.style.opacity="1",this.k1t.style.pointerEvents=""},n.be=function(){this.k1t.style.opacity="0",this.k1t.style.pointerEvents="none"},n.wy=function(){var t;null==(t=this.H7t)||t.destroy(),this.H7t=void 0},Ct(t,[{key:"Wti",get:function(){return this.k1t}},{key:"Mni",get:function(){return this.Tni.offsetHeight}},{key:"Sni",get:function(){return this.Tni.offsetWidth}},{key:"Nni",get:function(){return this.H7t}}]),t}();Q(),Nt(),An(),St(),Tn(),Q(),Nt(),St(),Q(),Nt(),Zt();var i4=function(){function t(t){this.Dni=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.BXt=t.getCompanionAds(0,0,n)}return Ct(t,[{key:"Mqt",get:function(){return this.Dni.getAdId()}},{key:"y8t",get:function(){var t=this.Dni.getAdPodInfo();if(void 0!==t)try{return{R9t:t.getAdPosition(),$$t:t.getMaxDuration(),Eni:t.getPodIndex(),lzt:t.getTimeOffset(),P9t:t.getTotalAds(),kni:t.getIsBumper()}}catch(t){return}}},{key:"nXt",get:function(){return this.Dni.getAdSystem()}},{key:"Lni",get:function(){return this.Dni.getAdvertiserName()}},{key:"HXt",get:function(){var t;return null!=(t=this.Dni.getApiFramework())?t:void 0}},{key:"fXt",get:function(){return this.BXt.map((function(t){return{qXt:t.getAdSlotId(),VN:t.getContentType(),J4t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"VN",get:function(){var t;return null!=(t=this.Dni.getContentType())?t:void 0}},{key:"EXt",get:function(){return this.Dni.getCreativeId()}},{key:"u7t",get:function(){return this.Dni.getCreativeAdId()}},{key:"xni",get:function(){return this.Dni.getDealId()}},{key:"$j",get:function(){return this.Dni.getDescription()}},{key:"ct",get:function(){return this.Dni.getDuration()}},{key:"ji",get:function(){return this.Dni.getWidth()}},{key:"Ti",get:function(){return this.Dni.getHeight()}},{key:"zqt",get:function(){var t;return null!=(t=this.Dni.getMediaUrl())?t:void 0}},{key:"Cni",get:function(){return this.Dni.getMinSuggestedDuration()}},{key:"h7t",get:function(){return this.Dni.getSkipTimeOffset()}},{key:"jni",get:function(){return this.Dni.getSurveyUrl()}},{key:"TV",get:function(){return this.Dni.getTitle()}},{key:"r7t",get:function(){return this.Dni.getTraffickingParameters()}},{key:"o7t",get:function(){return this.Dni.getTraffickingParametersString()}},{key:"_Xt",get:function(){return this.Dni.getUniversalAdIds().map((function(t){return{c7t:t.getAdIdRegistry(),l7t:t.getAdIdValue()}}))}},{key:"iti",get:function(){return this.Dni.getUiElements()}},{key:"a7t",get:function(){return this.Dni.getVastMediaBitrate()}},{key:"s7t",get:function(){return this.Dni.getVastMediaHeight()}},{key:"e7t",get:function(){return this.Dni.getVastMediaWidth()}},{key:"J8t",get:function(){return this.Dni.getWrapperAdIds()}},{key:"$8t",get:function(){return this.Dni.getWrapperAdSystems()}},{key:"t7t",get:function(){return this.Dni.getWrapperCreativeIds()}},{key:"f8t",get:function(){return this.Dni.isLinear()}}]),t}();function r4(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var e4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Dc=[],e.Rni=function(t){t.getAd().isLinear()?e.H7t.Ini("linear"):e.H7t.Ini("nonlinear")},e.Oni=function(){e.e0t.resize(e.H7t.Sni,e.H7t.Mni,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(jn(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,S0.y6t),jn(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,S0.b6t),jn(n,google.ima.AdEvent.Type.CLICK,S0.M6t),jn(n,google.ima.AdEvent.Type.DURATION_CHANGE,S0.Zy),jn(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,S0.T6t),jn(n,google.ima.AdEvent.Type.STARTED,S0.S6t),jn(n,google.ima.AdEvent.Type.IMPRESSION,S0.N6t),jn(n,google.ima.AdEvent.Type.PAUSED,S0.iW),jn(n,google.ima.AdEvent.Type.RESUMED,S0.I6t),jn(n,google.ima.AdEvent.Type.AD_PROGRESS,S0.D6t),jn(n,google.ima.AdEvent.Type.AD_BUFFERING,S0.E6t),jn(n,google.ima.AdEvent.Type.FIRST_QUARTILE,S0.k6t),jn(n,google.ima.AdEvent.Type.MIDPOINT,S0.tKt),jn(n,google.ima.AdEvent.Type.THIRD_QUARTILE,S0.L6t),jn(n,google.ima.AdEvent.Type.COMPLETE,S0.iKt),jn(n,google.ima.AdEvent.Type.USER_CLOSE,S0.x6t),jn(n,google.ima.AdEvent.Type.LINEAR_CHANGED,S0.C6t),jn(n,google.ima.AdEvent.Type.LOADED,S0.j6t),jn(n,google.ima.AdEvent.Type.AD_CAN_PLAY,S0.O6t),jn(n,google.ima.AdEvent.Type.AD_METADATA,S0.R6t),jn(n,google.ima.AdEvent.Type.AD_BREAK_READY,S0.P6t),jn(n,google.ima.AdEvent.Type.INTERACTION,S0.z6t),jn(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,S0.B6t),jn(n,google.ima.AdEvent.Type.SKIPPED,S0.U6t),jn(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,S0.Q6t),jn(n,google.ima.AdEvent.Type.LOG,S0.F6t),jn(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,S0.Y6t),jn(n,google.ima.AdEvent.Type.VOLUME_CHANGED,S0.V6t),jn(n,google.ima.AdEvent.Type.VOLUME_MUTED,S0.G6t),n)[t]}(t.type),r={type:i,date:new Date,Art:n?e.Pni(n):void 0,n8t:x0(i,t.getAdData())};e.yo(r)},e.forwardAdErrorEventListener=function(t){e.yo({date:new Date,Art:void 0,type:L0.W6t,n8t:{z8t:R0(t.getError())}})},e.e0t=n,e.H7t=i,e.Xu=r,e.Xu.yn(_D.pn,e.Oni),e.e0t.init(e.H7t.Sni,e.H7t.Mni,google.ima.ViewMode.NORMAL),e.e0t.addEventListener(google.ima.AdEvent.Type.LOADED,e.Rni),e.e0t.addEventListener(r4(),e.forwardAdEventListener),e.e0t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}Et(n,t);var i=n.prototype;return i.Dk=function(t){var n;null==(n=this.e0t)||n.setVolume(t)},i.Ik=function(){return this.e0t.getVolume()},i.O8t=function(){return this.e0t.getRemainingTime()},i.wy=function(){Ro(this.Dc),this.Xu.fn(_D.pn,this.Oni),this.e0t.removeEventListener(google.ima.AdEvent.Type.LOADED,this.Rni),this.e0t.removeEventListener(r4(),this.forwardAdEventListener),this.e0t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.e0t.destroy()},i.Cn=function(){this.e0t.start()},i.V7t=function(){this.e0t.resume()},i.Rk=function(){this.e0t.pause()},i.ZC=function(){this.e0t.skip()},i.zk=function(){this.e0t.stop()},i.m8t=function(){var t=this.e0t.getCurrentAd();if(t)return this.Pni(t)},i.q7t=function(){return this.e0t.getCuePoints()},i.Pni=function(t){var n=Do(this.Dc,(function(n){return n.Dni===t}));return n||(n=new i4(t),this.Dc.push(n)),n},i.rti=function(t){this.e0t.updateAdsRenderingSettings(a4(t))},n}(Aa);Q(),Nt(),Zt(),St();var u4=function(t){function n(n,i){var r;return(r=t.call(this,"ati")||this).Bni=n,r.k1t=i,r}return Et(n,t),n.prototype.ma=function(){return new s4(this.Bni)},Ct(n,[{key:"zni",get:function(){return this.Bni}},{key:"Wti",get:function(){return this.k1t}}]),n}(jg),s4=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).Bni=n,i}return Et(n,t),Ct(n,[{key:"adsManager",get:function(){return this.Bni}}]),n}(ka),o4=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Fni&&r.Yni&&r.Uni){var n,i=a4(r.Yni),e=r.Fni,u=t.getAdsManager({get currentTime(){return e.LE},get duration(){return e.ct}},i),s=new e4(u,r.Qni,r.Xu);r.yo(new u4(u,r.Qni.Wti)),null==(n=r.Uni)||n.sM(s),r.Uni=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={Pb:t.getError().getMessage(),z9t:t.getError().getVastErrorCode(),xKt:t.getError().getErrorCode(),YA:O0(t.getError().getType()),B9t:void 0};null==(n=r.Uni)||n.nM(i),r.Uni=void 0},r.Xu=i,r.Qni=n,r}Et(n,t);var i=n.prototype;return i.G7t=function(){var t;null==(t=this.W7t)||t.contentComplete()},i.d6t=function(t,n,i){var r=this;return yn((function(){var e;return pn(this,(function(u){if(r.Uni)throw new A("Only one ImaAdsRequest can be made at a time.");if(!r.Qni.Nni)throw new A("AdDisplayContainer is not initialized.");return r.W7t=new google.ima.AdsLoader(r.Qni.Nni),r.W7t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.W7t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Uni=new sh,r.Fni=n,r.Yni=i,e=new google.ima.AdsRequest,t.N5t?e.adTagUrl=t.N5t:t.I5t&&(e.adsResponse=t.I5t),e.linearAdSlotWidth=t.A5t,e.linearAdSlotHeight=t.y5t,e.nonLinearAdSlotWidth=t.b5t,e.nonLinearAdSlotHeight=t.M5t,e.contentDuration=t.E5t,e.setAdWillAutoPlay(t.T5t),e.setAdWillPlayMuted(t.S5t),t.D5t&&(e.omidAccessModeRules=t.D5t),r.W7t.requestAds(e),[2,r.Uni.rM]}))}))()},i.wy=function(){var t;void 0!==this.W7t&&(this.W7t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.W7t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.W7t.destroy(),this.W7t=void 0),null==(t=this.Uni)||t.nM("AdsLoader destroyed"),this.Uni=void 0},n}(Aa);function a4(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.eti,t.iti&&(n.uiElements=t.iti),n.mimeTypes=t.tti,void 0!==t.nti&&(n.playAdsAfterTime=t.nti),void 0!==t.sti&&(n.loadVideoTimeout=t.sti),void 0!==t.n7t&&(n.bitrate=t.n7t),void 0!==t.nti&&(n.playAdsAfterTime=t.nti),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}Q(),Nt(),Zt(),St();var c4=function(t){function n(n){var i;return(i=t.call(this)||this).ta=n,i.Vni=i.ta.xE(),i.ta.yn(Ma.Eb,(function(){i.ta.wk||(i.Vni=i.ta.xE()),i.yo(new Cg(i.LE,void 0))})),i}return Et(n,t),n.prototype.tr=function(){this.Vni=0},Ct(n,[{key:"LE",get:function(){return this.ta.wk?this.Vni:this.ta.xE()}},{key:"ct",get:function(){return this.ta._d()}},{key:"WE",get:function(){return this.ta.WE}},{key:"Nk",get:function(){return this.ta.Nk}}]),n}(Aa);r1.Ld.registerWebImaAdPlayerConstructor((function(t,n,i){t1(i);var r=n1(i)?t.jk():void 0,e=new n4(r,t.we),u=new o4(e,t.Uu),s=new c4(t);return new i1(t,n,i,t.Nnt,e,u,s)})),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn();var h4=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).iri=!0,e.Unt=n,e.x3t=i,e.tri=n.NE,e}Et(n,t);var i=n.prototype;return i.ur=function(t,n,i,r,e){this.ta===this.x3t&&this.x3t.Wni(),(e||!r.KE||r.OE)&&this.ta.Pk()},i.CE=function(t,n){},i.EE=function(t){},i.Zni=function(n,i){var r=n-this.x3t.Hni;return t.prototype.CE.call(this,r,i)},i.Xni=function(n){return t.prototype.EE.call(this,n)},i.kE=function(){return this.Unt.bt},i.Ya=function(){return this.Unt.Ya()},i._d=function(){return this.Unt._d()},i.vk=function(){var t=GM.xn(this.Unt.vk()).Gb(this.x3t.Hni);if(this.qni())return t.ks();var n=GM.xn(this.x3t.vk()),i=n;return j3(this.Unt)||(i=t.pP(n)),(i=i.Sn(GM.RP(0,this.xE()))).ks()},i.xE=function(){return this.Kni(t.prototype.xE.call(this))},i.Kni=function(t){return this.ta===this.x3t?this.x3t.Jni+t:this.x3t.Hni+t},i.DE=function(){return this.$ni(t.prototype.xE.call(this))},i.$ni=function(t){return this.ta===this.x3t&&this.tri?new Date(this.tri.getTime()+1e3*t):this.Unt.NE},i.SE=function(){var t=GM.xn(this.Unt.SE()).Gb(this.x3t.Hni);if(this.qni())return t.ks();var n=GM.xn(this.x3t.SE());return t.jn(t.V-1)<n.Cn(0)?n.ks():t.pP(n).ks()},i.Gk=function(n){switch(n.type){case Ma.Eb:return this.yo(new Cg(this.Kni(n.currentTime),n.currentProgramDateTime)),!0;case Ma.mb:return this.yo(new nE(this.Kni(n.currentTime))),!0;case Ma.so:return this.yo(new Ib(this.Kni(n.currentTime))),!0;case Ma.wb:return this.yo(new Db(this.Kni(n.currentTime))),!0;case Ma.qy:return this.yo(new Lb(this.Kni(n.currentTime))),!0;case Ma.Mb:return this.yo(new Cb(this.Kni(n.currentTime))),!0;case Ma.bb:return this.yo(new jb(this.Kni(n.currentTime))),!0;case Ma.pb:return this.yo(new Sb(this.Kni(n.currentTime),n.playbackRate)),!0;case Ma.kb:return this.iri?(this.yo(new xb(this.Kni(n.currentTime),n.volume)),!0):(this.iri=!0,!0);case Ma.Hy:return this.yo(new Nb(this.Kni(n.currentTime),n.readyState)),!0;case zA.iP:return this.yo(new GA(this.Kni(n.currentTime),n.readyState)),!0;case zA.eP:return this.yo(new VA(this.Kni(n.currentTime),n.readyState)),!0;case zA.sP:return this.yo(new QA(this.Kni(n.currentTime),n.readyState)),!0;case zA.nP:return this.yo(new PA(this.Kni(n.currentTime),n.readyState)),!0;case zA.lL:return this.yo(new BA(this.Kni(n.currentTime),n.readyState)),!0;case zA.rP:return this.yo(new YA(this.Kni(n.currentTime))),!0;case zA.oP:return this.yo(new FA(this.Kni(n.currentTime))),!0;case Ma.Xy:return this.yo(new WQ(this.Kni(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.Gk.call(this,n)},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},Ct(n,[{key:"Gni",get:function(){return this.ta===this.Unt?this.x3t:this.Unt}}]),n}(iM);function f4(t,n){n.WE=t.WE,n.Nk=t.Nk,n.$E=t.$E}Q(),Nt(),St();var v4=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Et(n,t);var i=n.prototype;return i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),this.Gni.Rk(),this.eri(i,r).style.flex="1"},i.ar=function(t,n,i){this.eri(n,i).style.flex="0"},n}(h4),d4=function(t){function n(n,i){return t.call(this,n,i,n)||this}Et(n,t);var i=n.prototype;return i.qni=function(){return!0},i.eri=function(t,n){return t},i.sri=function(t,n){return n},i.CE=function(n,i){return t.prototype.Zni.call(this,n,i)},i.EE=function(n){return t.prototype.Xni.call(this,n)},n}(v4),l4=function(t){function n(n,i){return t.call(this,n,i,i)||this}Et(n,t);var i=n.prototype;return i.qni=function(){return!1},i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),this.iri=!1,this.ta.rri(),i.style.flex="1"},i.ar=function(t,n,i){this.ta.hri(),n.style.flex="0"},i._d=function(){return this.ta._d()},n}(h4),g4=function(t){function n(n,i){return t.call(this,n,i,i)||this}Et(n,t);var i=n.prototype;return i.qni=function(){return!1},i.eri=function(t,n){return n},i.sri=function(t,n){return t},i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u);for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=""}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r)},n}(v4);Q(),Nt(),Zt(),St(),Q(),Nt(),St();var w4=function(t){function n(n){var i;return(i=t.call(this,"ari")||this).interstitial=n,i}return Et(n,t),n.prototype.ma=function(){return new y4(this.interstitial.lrt())},n}(jg),y4=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=n,i}return Et(n,t),n}(ka),m4=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),A4=function(t){function n(n){var i;return(i=t.call(this)||this).fri=0,i.rk=!1,i.o=n.o,i.lB=n.lB,i.TB=n.dB,i.gBt=n.DPt,i.JM=n.ct,i.lri=n.gri,i.Evt=n.Evt,i.wri=n.wri,i.vri(),i}Et(n,t);var i=n.prototype;return i.dri=function(t){if(this.ct){var n=(t-(this.lB+this.fri))/this.ct;n<this.i3t||(this.e3t=k.min(n,1),1===this.e3t&&(this.rk=!0))}},i.Yn=function(t){var n,i,r,e;this.JM=null!=(n=t.ct)?n:this.JM,this.TB=null!=(i=t.dB)?i:this.TB,this.lri=null!=(r=t.gri)?r:this.lri,this.fri=null!=(e=t._ri)?e:this.fri,this.vri(),this.yo(new w4(this))},i.vri=function(){void 0===this.JM&&void 0!==this.TB?this.JM=this.TB-this.lB:void 0===this.TB&&void 0!==this.JM&&(this.TB=this.lB+this.JM)},Ct(n,[{key:"cri",get:function(){var t,n,i=null!=(n=null!=(t=this.lri)?t:this.JM)?n:this.gBt;return void 0!==i?this.lB+i:this.TB?this.TB:void 0}},{key:"ct",get:function(){var t=this.cri;return void 0===t?void 0:t-this.lB}},{key:"i3t",get:function(){var t;return null!=(t=this.e3t)?t:0}}]),n}(Aa);tn(),Q(),Nt(),St();var p4=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).Ari=void 0,e.pri=r,e}Et(n,t);var i=n.prototype;return i.qni=function(){return!0},i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),f4(this.ta,this.Gni),this.Gni.WE=!0,n.style.backgroundImage="url('"+this.pri+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.Ari=this.Unt.nt.AL.filter((function(t){return t.UI===iA.Jn}));for(var s=0,o=this.Ari;s<o.length;s++){o[s].UI=iA.Ch}for(var a=0,c=[i,r];a<c.length;a++){var h=c[a];h.style.flex="1",h.style.borderWidth="20px",h.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(t,n,i){for(var r=0,e=[n,i];r<e.length;r++){var u=e[r];u.style.flex="0",u.style.borderWidth="0px"}for(var s,o=0,a=null!=(s=this.Ari)?s:[];o<a.length;o++){a[o].UI=iA.Jn}this.Ari=void 0},i.PE=function(){return this.Unt.PE()||this.x3t.PE()},i.BE=function(){return this.Unt.BE()||this.x3t.BE()},i.gk=function(){return k.min(this.Unt.fk,this.x3t.fk)},i.Pk=function(){this.Unt.Pk(),this.x3t.Pk()},i.Rk=function(){this.Unt.Rk(),this.x3t.Rk()},n}(h4);Q(),Nt(),St();var _4=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).pri=e,u}Et(n,t);var i=n.prototype;return i.ur=function(n,i,r,e,u){t.prototype.ur.call(this,n,i,r,e,u),this.sri(i,r).style.visibility="hidden",this.Gni.Rk(),n.style.backgroundImage="url('"+this.pri+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var s=this.eri(i,r);s.style.flex="1",s.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var o=0,a=[i,r];o<a.length;o++){a[o].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(t,n,i){var r=this.eri(n,i);r.style.flex="0",r.style.transform="",this.sri(n,i).style.visibility=""},n}(h4),k4=function(t){function n(n,i,r){return t.call(this,n,i,n,r)||this}Et(n,t);var i=n.prototype;return i.qni=function(){return!0},i.eri=function(t,n){return t},i.sri=function(t,n){return n},n}(_4),M4=function(t){function n(n,i,r){return t.call(this,n,i,i,r)||this}Et(n,t);var i=n.prototype;return i.qni=function(){return!1},i.eri=function(t,n){return n},i.sri=function(t,n){return t},n}(_4);function b4(t){var n=v.createElement("div"),i=v.createElement("div");return function(t,n){for(var i;ci(i=t.firstChild);)n.appendChild(i)}(t,n),Ni(t,"theo-ads-sgai-container"),Ni(n,"theo-ads-sgai-content-player"),Ni(i,"theo-ads-sgai-ad-player"),t.appendChild(n),t.appendChild(i),{contentElement:n,adElement:i}}function T4(t){var n=t.style;n.position="relative",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function N4(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}Q(),Nt(),Jt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),St(),Q(),Nt(),St();var D4=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n}(iM),I4=function(t){function n(n){return t.call(this,n)||this}Et(n,t);var i=n.prototype;return i.ur=function(t,n){t.style.flex="1"},i.ar=function(t){t.style.flex="0"},n}(D4);Q(),Nt(),St();var E4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).pri=i,r}Et(n,t);var i=n.prototype;return i.ur=function(t,n){n.style.backgroundImage="url('"+this.pri+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.flex="1",t.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", "),t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.ar=function(t){t.style.flex="0",t.style.transform=""},n}(D4);Q(),Nt(),St();var S4=function(t){function n(n){var i;return(i=t.call(this,"yri")||this).interstitial=n,i}return Et(n,t),n.prototype.ma=function(){return new L4(this.interstitial.lrt())},n}(jg),L4=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=n,i}return Et(n,t),n}(ka);function C4(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.lB},get type(){return"adbreak"},get layout(){return function(t){switch(t){case m4.SINGLE:return"single";case m4.DOUBLE:return"double";case m4.LSHAPE_CONTENT:case m4.LSHAPE_AD:return"l-shape"}}(t.bri)},get ads(){return t.Vc.map((function(t){return t.lrt()}))},get backdropUri(){return t.Mri}}}Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),Zt(),tn(),Q(),Nt(),Zt(),St(),Q(),Nt();var j4=function(t){return t.image="image",t}({}),x4=function(t){return t.png="png",t.svg="svg",t}({}),O4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Iri=n.YA,i.uo=n.uo,i.Kb=n.Kb,i.Dri=n.Dri,i.Eri=n.Eri,i.mKt=n.mKt,i.Tri=n.kri,i}Et(n,t);var i=n.prototype;return i.Yn=function(n){var i,r;this.Nri=null!=(i=n.imageUrl)?i:this.Nri,this.Tri=null!=(r=n.clickThrough)?r:this.Tri,t.prototype.Yn.call(this,n)},i.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.lB},get clickThrough(){return t.rqt},get imageUrl(){return t.Sri},get position(){return function(t){return{get top(){return t.Wtt},get bottom(){return t.Gtt},get left(){return t.Vtt},get right(){return t.Ytt}}}(t.uo)},get size(){return function(t){return{get width(){return t.ji},get height(){return t.Ti}}}(t.Kb)}}}(this)},Ct(n,[{key:"YA",get:function(){return"overlay"}},{key:"rqt",get:function(){return this.Tri}},{key:"Sri",get:function(){return this.Nri}}]),n}(A4);Jt(),Q(),Nt(),Zt(),St();var z4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Dc=[],i.Xyt=n.Xyt,i.bri=n.bri||m4.SINGLE,i.Mri=n.Lri,i}Et(n,t);var i=n.prototype;return i.Yn=function(n){var i;n.ad&&this.Dc.push(n.ad),this.Mri=null!=(i=n.backdropUri)?i:this.Mri,t.prototype.Yn.call(this,n)},i.lrt=function(){var t;return null!=(t=this.Za)?t:this.Za=C4(this)},Ct(n,[{key:"YA",get:function(){return"adbreak"}},{key:"Vc",get:function(){return this.Dc}}]),n}(A4),R4="com.theoplayer.theoads.interstitial",B4="com.theoplayer.theoads.overlay",U4=function(){function t(t){var n=this;this.Fri=!1,this.Cri=[],this.aoi=ps(),this.zri=[],this.zn=function(t){n.Bri(t.Ht)},this.qn=function(t){n.Qri(t.Ht)},this.Hri=function(t){n.Jri(t.uB)},this.$ri=function(t){n.toi(t.uB)},this.qri=function(t){n.hoi(t.uB)},this.Kri=function(t){n.Zri(t.uB)},this.Xri=function(t){n.loi(t.uB)},this.Rri=function(t){n.ioi(t)},this.XOt=t}var n=t.prototype;return n.jri=function(t){this.Ori=new EventSource(t),this.Ori.addEventListener("adbreak",this.Rri)},n.Pri=function(t){if(!Oo(this.zri,t)){this.zri.push(t);for(var n=0,i=t.AL;n<i.length;n++){var r=i[n];this.Bri(r)}t.yn(Rg.Hk,this.zn),t.yn(Rg.qk,this.qn)}},n.Uri=function(t){if(Oo(this.zri,t)){Co(this.zri,t),t.fn(Rg.Hk,this.zn),t.fn(Rg.qk,this.qn);for(var n=0,i=t.AL;n<i.length;n++){var r=i[n];this.Qri(r)}}},n.Bri=function(t){!this.Fri&&function(t){return t.Lt===hA.MQ&&t.YA===Yw.DATE_RANGE}(t)&&this.Yri!==t?this.Vri(t):this.Fri&&function(t){return t.Lt===hA.MQ&&t.YA===Yw.ID3}(t)&&this.Gri!==t&&this.Wri(t)},n.Qri=function(t){this.Yri===t?this.Vri(void 0):this.Gri===t&&this.Wri(void 0)},n.Vri=function(t){var n=this.Yri;if(void 0!==n){if(n.L)for(var i=0,r=n.L.AL;i<r.length;i++){var e=r[i];this.Zri(e)}n.fn(Yg.Jk,this.Hri),n.fn(Yg.eL,this.Xri),n.fn(Yg.nL,this.qri),n.fn(Yg.tL,this.Kri),n.UI=iA.FL}if(this.Yri=t,void 0!==t){if(t.L)for(var u=0,s=t.L.AL;u<s.length;u++){var o=s[u];this.Jri(o)}t.yn(Yg.Jk,this.Hri),t.yn(Yg.eL,this.Xri),t.yn(Yg.nL,this.qri),t.yn(Yg.tL,this.Kri),t.UI=iA.FL}},n.Wri=function(t){var n=this.Gri;if(void 0!==n){if(n.L)for(var i=0,r=n.L.AL;i<r.length;i++){var e=r[i];this.Zri(e)}n.fn(Yg.Jk,this.$ri),n.fn(Yg.nL,this.qri),n.fn(Yg.tL,this.Kri),n.UI=iA.FL}if(this.Gri=t,void 0!==t){if(t.L)for(var u=0,s=t.L.AL;u<s.length;u++){var o=s[u];this.toi(o)}t.yn(Yg.Jk,this.$ri),t.yn(Yg.nL,this.qri),t.yn(Yg.tL,this.Kri),t.UI=iA.FL}},n.ioi=function(t){var n=this.XOt.NE;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void Kt.cA("Tried to schedule an ad break without knowing the duration");var u=(Date.parse(r.startDate)-n.getTime())/1e3;if(u<=-e)return;var s,o=this.XOt.xE()+u,a=r.networkCode,c=r.assetKey,h=r.podId?M(r.podId):void 0,f="theo-ads://dai.break/?d="+e;c&&(f+="&k="+c),a&&(f+="&n="+a);var v=new z4({o:t.id,lB:o,Xyt:null!=(s=r.assetURI)?s:f,bri:this.eoi||m4[r.layout],DPt:e,wri:h,Lri:r.backdropURI,Evt:r.startPTS});this.soi(v,void 0)}catch(t){Kt.cA("Error parsing the Server sent event",t)}else Kt.cA("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.Jri=function(t){if((t.NPt===R4||t.NPt===B4)&&t.EPt["X-ASSET-URI"])switch(t.NPt){case B4:try{var n,i=atob(t.EPt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=j4[r.type],u=this.XOt.noi(t.lB),s=new O4({o:t.o,YA:e||j4.image,lB:u,dB:isFinite(t.dB)?t.dB:void 0,ct:t.ct,DPt:t.DPt,uo:Q4(r.position),Kb:Y4(r.size),Dri:r.opacity,Eri:P4(r.gamProperties),mKt:null==(n=r.resourceURI)?void 0:n.map((function(t){return function(t){var n=x4[t.type],i=t.default;Wt.Qs&&t.phone?i=t.phone:Wt.dg&&t.tv&&(i=t.tv);return{YA:n,Xyt:i}}(t)})),kri:r.clickThroughURI});this.soi(s,t)}catch(t){Kt.cA(t)}break;case R4:var o,a=t.EPt["X-RESUME-OFFSET"],c=this.roi||t.EPt["X-ASSET-URI"],h=this.XOt.noi(t.lB);(function(t){return no(t,"theo-ads://dai.break")})(c)&&(o=function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(c));var f=new z4({o:t.o,lB:h,Xyt:c,bri:this.eoi||m4[t.EPt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||m4.SINGLE,Lri:t.EPt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],dB:isFinite(t.dB)?t.dB:void 0,ct:t.ct,DPt:t.DPt,wri:null==o?void 0:o.p,gri:void 0!==a?Number(a):void 0});this.soi(f,t),this.ooi=f}},n.toi=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=Lc(new DataView(n.data),new Vc),r=new Bu(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new Bu(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=Number(r.get("pts"))||void 0,f=this.XOt.noi(t.lB),v=new z4({o:this.roi||t.o,lB:f,Xyt:c,bri:this.eoi||m4.SINGLE,DPt:u,Evt:h});this.soi(v,t)}else if("cue_end"===e){var d=this.ooi;d&&d.Yn({ct:t.lB-d.lB})}}},n.hoi=function(t){this.aoi.get(t.zL)&&this.XOt.uoi(t.lB)},n.coi=function(t){for(var n=0,i=this.Cri;n<i.length;n++){var r=i[n];if(t.o===r.o&&t.YA===r.YA)return!0}return!1},n.soi=function(t,n){this.coi(t)||(this.Cri.push(t),n&&this.aoi.set(n.zL,t),this.XOt.soi(t))},n.loi=function(t){var n=this.aoi.get(t.zL);if(void 0!==n){var i=t.EPt["X-RESUME-OFFSET"];n.Yn({ct:t.ct,dB:isFinite(t.dB)?t.dB:void 0,gri:void 0!==i?Number(i):void 0})}},n.Zri=function(t){this.doi(t)},n.doi=function(t){void 0!==this.aoi.get(t.zL)&&this.aoi.delete(t.zL)},n.foi=function(t){Co(this.Cri,t)},n.tr=function(){var t,n;this.ooi=void 0,this.Vri(void 0),this.Wri(void 0);for(var i=0,r=this.zri.slice();i<r.length;i++){var e=r[i];this.Uri(e)}Ro(this.zri),Ro(this.Cri),this.aoi.clear(),null==(t=this.Ori)||t.removeEventListener("adbreak",this.Rri),null==(n=this.Ori)||n.close(),this.Ori=void 0},n.gn=function(){this.tr()},Ct(t,[{key:"xri",get:function(){return this.Cri}}]),t}();function P4(t){if(t){var n=t.sz.default;return Wt.Qs&&t.sz.phone?n=t.sz.phone:Wt.dg&&t.sz.tv&&(n=t.sz.tv),{goi:t.iu,_oi:n}}}function Q4(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{Wtt:n,Gtt:i,Vtt:r,Ytt:e}}function Y4(t){return{ji:t.width&&t.width>=0&&t.width<=100?t.width:10,Ti:t.height&&t.height>=0&&t.height<=100?t.height:10}}Q(),Nt(),An(),Zt(),Tn(),tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),St(),Q(),Nt(),St();var G4=function(t){function n(n){var i;return void 0===n&&(n=[]),(i=t.call(this)||this).prependPackets=n,i}return Et(n,t),n.prototype.start=function(n){t.prototype.start.call(this,n);for(var i=0,r=this.prependPackets;i<r.length;i++){var e=r[i];this.fLt(e)}},n}(cV);function V4(t){return t.YA===pm.mC}var F4=function(t){function n(n,i,r){var e;void 0===i&&(i=[]),void 0===r&&(r=!1),(e=t.call(this,r?i:[])||this).kX=n,e.bLt=[],e.Ict=e.kX.match(/video/)?ax.NI:ax.SI;for(var u=0;u<i.length;u++){var s=i[u];e.poi(s)}return e}Et(n,t);var i=n.prototype;return i.transform=function(t){this.bLt.push(t),t.YA===pm.kx?(this.KM=function(t){var n=jm.dj(t.rI.rI)[0];if((null==n?void 0:n.YA)!==pm.kx)throw new A("Not able to parse Moov Box");if(0===n.Z.length)throw new A("Tracks not found");return n.Z[0].zj.nj.xj}(t),this.voi(this.bLt.splice(0),AV.INITIALIZER)):t.YA===pm.SC&&this.voi(this.bLt.splice(0),AV.FRAMES)},i.voi=function(t,n){var i={xj:this.KM,gX:this.kX},r=qc(t.map((function(t){return Bc(t.rI.rI)}))),e=Do(t,V4),u={RI:this.Ict,Vb:i,ilt:r,YA:n,ct:this.woi(e)/i.xj,Evt:Er(this.moi(e),i.xj)};this.fLt(u)},i.woi=function(t){if(!t||!this.KM)return 0;var n=jm.dj(t.rI.rI)[0].Z[0];if(!n||0===n.bR.length)return 0;var i=n.nj.dR||0;return n.bR[0].kR.reduce((function(t,n){var r;return t+(null!=(r=n.ct)?r:i)}),0)},i.moi=function(t){var n,i;return t&&this.KM&&null!=(i=null==(n=jm.dj(t.rI.rI)[0].Z[0].MR)?void 0:n.MR)?i:fr.UZERO},i.poi=function(t){t.YA===AV.INITIALIZER&&(this.KM=t.Vb.xj)},n}(G4);Q(),Nt();var W4="audio/x-theoplayer-fake-json-segment",Z4="video/x-theoplayer-fake-json-segment";function X4(t){return JSON.parse(Cc(t))}var H4=1e-6;function K4(t,n){switch(t.YA){case HI.v$:return st.resolve(t.rI);case HI.jN:return rl(t.rI,n).then((function(t){return qc(t)}));case HI.w$:return st.reject(new A("HeadlessMediaBuffer - Cannot convert opaque SegmentData to Uint8Array."))}}var J4=function(){function t(t){this.cM=t}return t.prototype.write=function(t){if(t.YA===AV.FRAMES){var n=t.Vb.xj,i=XE(Rc(t.ilt),void 0,n);if(void 0===i)return;this.cM.Aoi(i,t.ct)}else if(t.YA===AV.INITIALIZER){var r=new bm(Rc(t.ilt),new Vc),e=Im.ej(r,pm.kx),u=e?jm.pj(e):[];if(u.length){var s=qc(u.map((function(t){return new N(t.YR)})));this.cM.yo(new Sa(Is,s))}}},t}(),q4=function(t){function n(n,i){var r;return(r=t.call(this)||this).Loi=0,r.Ist=!1,r.QDt=GM.PP(),r.FDt=GM.PP(),r.XK=30,r.WK=30,r.yoi=0,r.Noi=void 0,r.Ioi=new J4(r),r.xoi=void 0,r.Doi=new GM([0,1/0]),r.y3=new ca,r.KS=n,r.WS=Jv(n.VN).YA,Xv(r.WS)&&(r.Noi=new F4(n.VN)),r.L3=i,r}Et(n,t);var i=n.prototype;return i.B4=function(t,n,i){var r=this;return this.yoi=n.rQ,this.boi((function(n){return r.Moi(t,n)}),i)},i.Moi=function(t,n){switch(this.WS){case"audio/mp4":case"video/mp4":return this.Toi(t,n);case W4:case Z4:return this.Soi(t,n);default:return st.reject(new p("Unknown content type: "+this.WS))}},i.Toi=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return ta(n),r=function(t){switch(t.YA){case HI.v$:return nl(t.rI);case HI.jN:return t.rI;case HI.w$:throw new A("HeadlessMediaBuffer - Cannot convert opaque SegmentData to Stream.")}}(t),[4,r.pipeThrough(new $d(new lV)).pipeThrough(new $d(i.Noi)).pipeTo(new qd(i.Ioi),{preventClose:!0,preventAbort:!0})];case 1:return e.sent(),[2]}}))}))()},i.Soi=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return ta(n),[4,K4(t,n)];case 1:return r=X4.apply(void 0,[e.sent()]),i.Aoi(r.startTime,r.duration),[2]}}))}))()},i.P3=function(){return st.resolve()},i.F4=function(t,n,i){var r=this;return this.boi((function(n){return r.Moi(t,n)}),i)},i.F$=function(){return this.Ist},i.I3=function(){this.Ist=!0},i.w3=function(){this.Ist=!1},i.O3=function(t,n){this.FDt=this.FDt.pP(new GM([t,n])).mP(H4)},i.wS=function(t,n,i){var r=this;return this.boi((function(i){ta(i),r.QDt=r.QDt.yP(new GM([t,n])),r.yo(new ka(ZI.g$))}),i)},i.s3=function(t,n){var i=this;return this.boi((function(){i.Doi=new GM([t,n])}))},i.R3=function(t,n){this.FDt=this.FDt.yP(new GM([t,n]))},i.Aoi=function(t,n){var i=this.yoi+t,r=new GM([i,i+n]).Sn(this.Doi);this.QDt=this.QDt.pP(r).mP(H4),this.yo(new ka(ZI.g$)),this.Eoi()},i.koi=function(){return this.Loi},i.Eoi=function(){var t=this.QDt,n=t.V>0?t.jn(this.QDt.V-1):0;this.Loi!==n&&(this.Loi=n,this.yo(new Eb(n)))},i.N$=function(t){if(!n.H$(t))return!1;var i=Jv(t.VN);return this.WS===i.YA},i.D$=function(t){return this.KS=t,this.WS=Jv(t.VN).YA,Xv(this.WS)?this.Noi=new F4(t.VN):this.Noi=void 0,st.resolve()},i.boi=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:if(i.xoi)throw new A("Attempted to start concurrent buffer mutation");(r=new ca).Sy(i.y3.ly),n&&r.Sy(n),e.label=1;case 1:return e.trys.push([1,,3,4]),i.xoi=st.resolve(t(r.ly)),[4,i.xoi];case 2:return e.sent(),[3,4];case 3:return i.xoi=void 0,[7];case 4:return[2]}}))}))()},i.wy=function(){this.Bo(),this.y3.Ty()},n.H$=function(t){switch(Jv(t.VN).YA){case"audio/mp4":case"video/mp4":case W4:case Z4:return!0;default:return!1}},Ct(n,[{key:"TE",get:function(){return this.QDt}},{key:"md",get:function(){return this.KS}},{key:"E3",get:function(){return this.L3}},{key:"x3",get:function(){return this.FDt}},{key:"PK",get:function(){return this.WK},set:function(t){this.WK=t}},{key:"QK",get:function(){return this.XK},set:function(t){this.XK=t}}]),n}(Aa),$4=function(t){function n(n){var i,r;(i=t.call(this)||this).y5=void 0,i.b5=void 0,i.JM=NaN,i.I5=new dS(0,1/0),i.Coi=void 0,i.joi=function(){var t;t=i.F$?i.koi():k.max(i.JM||0,i.koi()),i.T5(t)},i.KS=n;var e=Do(n.E5,(function(t){return no(t.VN,"audio")})),u=Do(n.E5,(function(t){return no(t.VN,"video")}));return e&&(i.y5=new q4(e,lw.SI),i.y5.yn(Ma.Zy,i.joi)),u&&(i.b5=new q4(u,lw.NI),i.b5.yn(Ma.Zy,i.joi)),i.Coi=null==(r=n.yV[0])?void 0:r.NS,i}Et(n,t);var i=n.prototype;return i.wy=function(){var t,n;return this.Bo(),null==(t=this.b5)||t.wy(),null==(n=this.y5)||n.wy(),this.y5=void 0,this.b5=void 0,this.JM=NaN,st.resolve()},i.T5=function(t){this.JM!==t&&(this.JM=t,this.yo(new Eb(t)))},i.koi=function(){var t=0;return this.y5&&(t=k.max(t,this.y5.koi())),this.b5&&(t=k.max(t,this.b5.koi())),t},i.D5=function(t,n,i,r){this.I5=new dS(t,n,Boolean(i),Boolean(r))},i.I3=function(){this.y5&&this.y5.I3(),this.b5&&this.b5.I3(),this.joi()},i.w3=function(){this.y5&&this.y5.w3(),this.b5&&this.b5.w3()},i.N$=function(t){if(!n.H$(t))return!1;var i=Do(t.E5,(function(t){return no(t.VN,"audio")})),r=Do(t.E5,(function(t){return no(t.VN,"video")}));return!(this.y5&&i&&!this.y5.N$(i))&&!(this.b5&&r&&!this.b5.N$(r))},i.D$=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return n.KS=t,i=Do(t.E5,(function(t){return no(t.VN,"audio")})),r=Do(t.E5,(function(t){return no(t.VN,"video")})),n.y5?i?[4,n.y5.D$(i)]:[3,2]:[3,4];case 1:return u.sent(),[3,3];case 2:n.y5.wy(),n.y5=void 0,u.label=3;case 3:return[3,5];case 4:i&&(n.y5=new q4(i,lw.SI),n.y5.yn(Ma.Zy,n.joi)),u.label=5;case 5:return n.b5?r?[4,n.b5.D$(r)]:[3,7]:[3,9];case 6:return u.sent(),[3,8];case 7:n.b5.wy(),n.b5=void 0,u.label=8;case 8:return[3,10];case 9:r&&(n.b5=new q4(r,lw.NI),n.b5.yn(Ma.Zy,n.joi)),u.label=10;case 10:return e=n.Coi,0===t.yV.length?n.Coi=void 0:e&&!t.yV.some((function(t){return t.NS===e}))&&(n.Coi=t.yV[0].NS),[2]}}))}))()},i.k$=function(t){},n.H$=function(t){return t.E5.every((function(t){return q4.H$(t)}))},Ct(n,[{key:"p5",get:function(){return this.y5}},{key:"A5",get:function(){return this.b5}},{key:"TE",get:function(){return yS(this)}},{key:"x3",get:function(){var t,n,i,r;return(null!=(i=null==(t=this.y5)?void 0:t.x3)?i:GM.PP()).pP(null!=(r=null==(n=this.b5)?void 0:n.x3)?r:GM.PP())}},{key:"md",get:function(){return this.KS}},{key:"ct",get:function(){return this.JM}},{key:"F$",get:function(){return(!this.y5||this.y5.F$())&&(!this.b5||this.b5.F$())}},{key:"_k",get:function(){return this.I5.Q3().Sn(new GM([0,this.ct],[!0,!0]))}},{key:"w8",get:function(){return this.Coi}}]),n}(Aa);tn(),Q(),Nt(),tn();var t3=function(){function t(){}var n=t.prototype;return n.I9=function(t){return Kt.Pg(t,16)},n.k9=function(t){Kt.Rg(t)},t}(),n3=function(t){function n(){var n;return(n=t.call(this)||this).Q8=void 0,n.SV=void 0,n.Ooi=0,n.Xu=new kD,n.W5=!1,n.Zo=new vT,n.Qo=new lT,n.Goi=0,n.T1t=0,n.Foi=-1/0,n.Yoi=NaN,n.vV=void 0,n.xG=!1,n.CG=!0,n.jG=1,n.Fo=GM.PP(),n.D1t=!1,n.Z5=UA.Nz,n.kG=!1,n.Y5=!1,n.G5=!1,n.FG=new zC,n.Boi=void 0,n.IG=!0,n.cT=1,n.Qoi=function(){n.Yn()},n.Xoi=function(){n.Yn()},n.qoi=function(){n.Q8||(n.Yn(),n.yo(new Eb(n.vV.ct)))},n.CQ=new qO(n,new t3),n}Et(n,t);var i=n.prototype;return i.GE=function(){return{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}},i.H$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.YA===OA.FQ&&$4.H$(i))return i}},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),[4,t.tr()];case 1:return n.sent(),t.CQ.gn(),[2]}}))}))()},i.$n=function(t){var n=this;if(t.YA===OA.FQ){var i=new $4(t);this.Poi(i),this.vV=i,Kt.Pg((function(){n.vV===i&&(n.yo(new iE),n.Yn())}),0);var r=new oz(i);return r.uot=this,st.resolve(r)}return st.reject(new A("Unsupported configuration"))},i.Rk=function(){this.Q8?this.Q8.Rk():this.zoi(),this.Yn()},i.zoi=function(){this.CG=!0,void 0!==this.Boi&&(Kt.fA(this.Boi),this.Boi=void 0),this.yo(new Db(this.LE))},i.Pk=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return n=t.zy(zA.oP),t.Q8?t.Q8.Pk():t.Uoi(),[4,n];case 1:return i.sent(),[2]}}))}))()},i.Uoi=function(){this.CG&&(this.Yn(),this.CG=!1,this.W5&&(this.Ooi=0),this.yo(new Ib(this.LE)),this.Yn(),void 0===this.Boi&&(this.Boi=Kt.dA(this.Qoi,20)))},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return void 0!==t.Boi&&(Kt.fA(t.Boi),t.Boi=void 0),t.vV?[4,t.vV.wy()]:[3,2];case 1:n.sent(),t.vV=void 0,n.label=2;case 2:return t.yo(new Eb(NaN)),t.Ooi=0,t.T1t=0,t.Foi=-1/0,t.W5=!1,t.Fo=GM.PP(),t.D1t=!1,t.G5=!1,t.yo(new Cg(0,void 0)),t.kG&&(t.kG=!1,t.yo(new jb(0))),t.CG||(t.yo(new Db(0)),t.CG=!0),1!==t.jG&&(t.jG=1,t.yo(new Sb(0,1))),t.Z5!==UA.Nz&&(t.Z5=UA.Nz,t.yo(new BA(0,UA.Nz))),[2]}}))}))()},i.Wb=function(t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.Q8)this.Q8.Wb(t,n,i);else{this.Fo=this.rk;var r=this.vV?this.vV._k.gP(t):t;this.T1t=r,this.Ooi=1e3*r,this.Y5=n,i&&!this.kG?(this.G5=!0,this.yo(new TS(r))):(this.G5=!1,this.kG=!0,this.yo(new Cb(r))),this.Yn()}},i.be=function(){this.IG=!1},i.Wk=function(t,n,i,r,e,u,s,o){return this.CQ.Wk(t,n,i,r,e,u,s,o)},i.CV=function(t){return this.CQ.CV(t)},i.DV=function(){return!1},i.kV=function(){throw new A("Sideloaded native text tracks are not supported")},i.BQ=function(t){this.CQ.BQ(t)},i.jV=function(){this.CQ.tr()},i.cV=function(){},i.ge=function(){this.IG=!0},i.jtt=function(){},i.ktt=function(){this.Q8||(void 0!==this.Boi&&(Kt.fA(this.Boi),this.Boi=void 0),this.Fo=this.rk,this.Q8=IS(this),this.Q8.yn(NS,this.Ds))},i.Ltt=function(){if(this.Q8){var t=this.Q8;this.Q8=void 0,ES(this,t),t.wy(),this.Yn(),this.CG||void 0!==this.Boi||(this.Boi=Kt.dA(this.Qoi,20))}},i.Yn=function(){var t,n;if(!this.Q8){var i=Kt.Og(),r=T(this.Yoi)?0:i-this.Yoi;this.Yoi=i;var e,u,s=!1,o=null!=(e=null==(t=this.vV)?void 0:t.TE)?e:GM.PP(),a=null!=(u=null==(n=this.vV)?void 0:n.x3)?u:GM.PP();this.CG||(this.Ooi=this.Voi(r,o,a));var c,h=kz(o,a).fP().CP(this.LE),f=1e3*k.min(null!=(c=null==h?void 0:h.jn(0))?c:0,this.ct);this.Goi<f&&(this.Goi=f,this.yo(new nE(this.LE)));var v=this.Woi(h,f);v!==this.Z5&&(this.Z5=v,this.yo(new BA(this.LE,this.Z5))),s=this.Zoi(s),this.p1t(),!(s=this.rJ(s))&&this.D1t&&this.Foi+250<i&&(s=!0,this.yo(new Cg(this.LE,void 0))),s&&(this.Foi=i)}},i.Voi=function(t,n,i){for(var r=this.Ooi,e=t*this.jG,u=1e3*this.ct;;){var s=i.CP(r/1e3);if(void 0!==s&&n.gr(s.jn(0))&&(r=1e3*s.jn(0)),(this.kG||this.G5)&&this.Y5){var o=r/1e3,a=AS(n,o,1);if(a!==o){r=1e3*a;break}}if(this.kG||this.G5)break;if(e<=0)break;var c=n.CP(r/1e3);if(void 0===c)break;var h=k.min(1e3*c.jn(0),u),f=k.min(e,h-r);if(!(f>0))break;r+=f,e-=f}return r},i.Woi=function(t,n){return this.vV?t?this.vV&&this.vV.F$&&n===1e3*this.vV.ct?this.Ooi===n?UA.Iz:UA.Ez:this.Ooi===n?UA.Iz:UA.Dz:UA.Xn:UA.Nz},i.Zoi=function(t){var n=t;if(this.Z5>=UA.Iz){var i=this.kG,r=this.G5;this.kG=!1,this.G5=!1,n||!i&&!r||(n=!0,this.yo(new Cg(this.LE,void 0))),i?this.yo(new jb(this.LE)):r&&this.yo(new kC(this.LE))}return n},i.p1t=function(){var t=this.D1t,n=this.Hoi();!t&&n?(this.D1t=!0,this.yo(new FA(this.LE))):t&&!n&&(this.Fo=this.rk,this.D1t=!1)},i.Hoi=function(){return!this.wk&&!(this.KE||this.OE||this.lt||this.i6())},i.i6=function(){return this.fk<UA.Dz},i.rJ=function(t){var n=t;return this.vV&&this.vV.F$&&this.LE===this.ct?this.W5||(this.W5=!0,n||(n=!0,this.yo(new Cg(this.LE,void 0))),this.zoi(),this.yo(new Lb(this.LE))):this.W5=!1,n},i.Poi=function(t){var n,i;null==(n=t.A5)||n.yn(ZI.g$,this.Xoi),null==(i=t.p5)||i.yn(ZI.g$,this.Xoi),t.yn(Ma.Zy,this.qoi)},Ct(n,[{key:"TE",get:function(){var t,n;return null!=(n=null==(t=this.vV)?void 0:t.TE)?n:GM.PP()}},{key:"LE",get:function(){return this.Q8?this.Q8.LE:this.Ooi/1e3}},{key:"Uu",get:function(){return this.Xu}},{key:"ct",get:function(){var t,n;return this.Q8?this.Q8.ct:null!=(n=null==(t=this.vV)?void 0:t.ct)?n:NaN}},{key:"OE",get:function(){return this.Q8?this.Q8.OE:this.W5}},{key:"lt",get:function(){}},{key:"FE",get:function(){return!1}},{key:"Roi",get:function(){return this.vV}},{key:"WE",get:function(){return this.Q8?this.Q8.WE:this.xG},set:function(t){this.Q8?this.Q8.WE=t:this.xG!==t&&(this.xG=t,this.yo(new xb(this.LE,this.cT)))}},{key:"KE",get:function(){return this.Q8?this.Q8.KE:this.CG}},{key:"$E",get:function(){return this.Q8?this.Q8.$E:this.jG},set:function(t){this.jG!==t&&(this.Yn(),this.jG=t,this.yo(new Sb(this.LE,t)))}},{key:"fk",get:function(){return this.Z5}},{key:"_k",get:function(){var t;return(null==(t=this.vV)?void 0:t._k)||GM.PP()}},{key:"wk",get:function(){return this.Q8?this.Q8.wk:this.kG}},{key:"V5",get:function(){return this.Q8?this.Q8.V5:this.G5}},{key:"e6",get:function(){return!1}},{key:"wV",get:function(){}},{key:"Nk",get:function(){return this.Q8?this.Q8.Nk:this.cT},set:function(t){this.Q8?this.Q8.Nk=t:this.cT!==t&&(this.cT=t,this.yo(new xb(this.LE,t)))}},{key:"NE",get:function(){}},{key:"Ti",get:function(){return this.Xu.Tu}},{key:"rk",get:function(){var t=this.Fo;return!this.Q8&&this.D1t&&(t=t.pP(new GM([this.T1t,this.LE]))),t}},{key:"t7",get:function(){return this.IG}},{key:"ji",get:function(){return this.Xu.Su}},{key:"wa",get:function(){return this.Zo}},{key:"xV",get:function(){return this.Qo}},{key:"xtt",get:function(){return!0}},{key:"mz",get:function(){return FI}},{key:"nt",get:function(){return this.CQ.nt}},{key:"Ll",get:function(){return this.FG}},{key:"yk",get:function(){return 0}},{key:"Tk",get:function(){return 0}},{key:"zV",get:function(){return this.SV},set:function(t){this.SV=t}},{key:"w8",get:function(){var t;return null==(t=this.vV)?void 0:t.w8}}]),n}(Aa),i3=function(){function t(t,n,i,r){var e=this;this.ihi=function(){e.cFt=e.Koi(e.fFt.ly).catch(e.ehi)},this.ehi=function(t){0},this.Unt=t;var u=new PK,s=new n3;this.Joi=new kX(i,u,!1,n,void 0),this.QGt=new DX(this.Joi,s),this.fFt=new ca,this.fFt.Sy(r),this.Unt.yn(Ma.fb,this.ihi)}var n=t.prototype;return n.Koi=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.cFt?[4,n.cFt]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.Joi.KUt?[3,4]:[4,n.Joi.sQt(t)];case 3:i.sent(),i.label=4;case 4:return void 0===n.$oi&&n.thi(),[4,n.Joi.lQt(n.$oi,t)];case 5:return i.sent(),[2]}}))}))()},n.thi=function(){for(var t=0,n=this.Joi.Tr.JRt;t<n.length;t++){var i=n[t];0!==i.tPt.length&&(this.$oi=i.tPt[0])}},n.gn=function(){var t;this.Unt.fn(Ma.fb,this.ihi),null==(t=this.fFt)||t.Ty(),this.Joi.wy()},Ct(t,[{key:"nt",get:function(){return this.QGt.nt}}]),t}();Q(),Nt(),Zt(),St();var r3=function(t){function n(n){var i;return(i=t.call(this)||this).ta=n,i}return Et(n,t),n.prototype.rhi=function(t){this.ta.ohi(t)},Ct(n,[{key:"shi",get:function(){return this.ta.shi.map((function(t){return t.lrt()}))}},{key:"nhi",get:function(){return this.ta.nhi.map((function(t){return t.lrt()}))}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=function(t){return{get currentInterstitials(){return t.shi},get scheduledInterstitials(){return t.nhi},replaceAdTagParameters:function(n){t.rhi(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)}}]),n}(Aa);Q(),Nt(),An(),Zt(),St(),Tn(),Tt(),Jt(),Q(),Nt(),Zt(),St();var e3=function(t){function n(n){var i,r;return(i=t.call(this,n.lB)||this).ahi=n,i.t0t=null!=(r=i.ahi.ct)?r:-1,i}return Et(n,t),n.prototype.hhi=function(t){this.Dc.push(t)},Ct(n,[{key:"rk",get:function(){return this.ahi.rk}},{key:"wJt",get:function(){return c$.Knt}},{key:"$$t",get:function(){var t;return null!=(t=this.ahi.ct)?t:-1}},{key:"lzt",get:function(){return this.ahi.lB}},{key:"D$t",get:function(){}},{key:"uhi",get:function(){return this.ahi}}]),n}(K$),u3=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t}({}),s3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).z3t=new VD,e.D0t=[],e.C9=function(t){e.ld(t)},e.mhi=function(){e.ghi(),e.x3t.zk()},e.vhi=function(){e.yo(new ka("adloading"))},e.whi=function(){e.yo(new ka("adloaded"))},e.x3t=n,e.Ahi=i,e.D0t=r,e.Ahi.yhi(e),e.z3t=i.v4t,e}Et(n,t);var i=n.prototype;return i.fhi=function(){this.ghi()},i.soi=function(t){var n=new e3(t);this.D0t.push(n)},i.foi=function(t){var n=this.I3t(t);Co(this.D0t,n)},i.I3t=function(t){return Do(this.D0t,(function(n){return n.uhi===t}))},i._hi=function(){this.x3t.yn(Ma.ub,this.vhi),this.x3t.yn(zA.eP,this.whi),this.x3t.yn(Ma.qy,this.mhi),this.x3t.yn(Ma.Eb,this.C9)},i.ghi=function(){this.x3t.fn(Ma.ub,this.vhi),this.x3t.fn(zA.eP,this.whi),this.x3t.fn(Ma.qy,this.mhi),this.x3t.fn(Ma.Eb,this.C9)},i.ld=function(t){var n;null==(n=this.dhi)||n.dri(this.Kni(t.currentTime))},i.phi=function(t,n,i,r){var e=this;return yn((function(){var u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:u={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,4,5,6]),e._hi(),null==(s=e.zQ)||s.Ty(),o=kn(u,ca.Iy([n]),!1),e.zQ=o,ta(a=o.ly),[4,e.x3t.ka(pN(t),a)];case 2:return h.sent(),Wt.Ka&&Wt.qf&&(e.x3t.Pk(),e.x3t.Rk()),i&&e.x3t.CE(i),r&&e.x3t.Pk(),[4,st.race([e.zy("aderror",a).then(st.reject),e.zy("adloaded",a).then((function(){return st.resolve()}))])];case 3:return[2,h.sent()];case 4:return c=h.sent(),u.error=c,u.hasError=!0,[3,6];case 5:return Mn(u),[7];case 6:return[2]}}))}))()},i.Cd=function(t){this.dhi&&(this.dhi.dri(t),this.dhi.rk=!0,this.foi(this.dhi),this.dhi=void 0),this.w0t&&(this.z3t.yo(new oO(this.w0t,t)),this.w0t=void 0),this.I0t&&(this.z3t.yo(new nO(this.I0t)),this.I0t=void 0),this.ghi()},i.Kni=function(t){var n,i;return(null!=(i=null==(n=this.dhi)?void 0:n.lB)?i:0)+t},i.tr=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){return null==(n=t.zQ)||n.Ty(),t.zQ=void 0,t.ghi(),t.D0t=[],t.w0t=void 0,t.I0t=void 0,t.dhi=void 0,[2]}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),[4,t.Ahi.gn()];case 2:return n.sent(),[2]}}))}))()},Ct(n,[{key:"s0t",get:function(){return this.D0t}},{key:"lhi",get:function(){return this.dhi}},{key:"drt",get:function(){return this.I0t}},{key:"f7t",get:function(){return this.w0t}}]),n}(Aa);Q(),Nt(),Zt();var o3=function(){function t(){this.z3t=new VD}var n=t.prototype;return n.yhi=function(t){this.bhi=t},n.ZC=function(){},n.vrt=function(t){},n.gn=function(){return this.bhi=void 0,st.resolve(void 0)},Ct(t,[{key:"v4t",get:function(){return this.z3t}},{key:"N4t",get:function(){var t;return void 0!==(null==(t=this.bhi)?void 0:t.drt)}},{key:"d4t",get:function(){return c$.Knt}},{key:"crt",get:function(){var t;return(null==(t=this.bhi)?void 0:t.f7t)?[this.bhi.f7t]:[]}},{key:"drt",get:function(){var t,n;return null!=(n=null==(t=this.bhi)?void 0:t.drt)?n:null}},{key:"frt",get:function(){var t=this;return this.bhi?Uo(this.bhi.s0t,(function(n){var i,r=n.Vc;if(n===(null==(i=t.bhi)?void 0:i.drt)&&void 0!==t.bhi.f7t){var e=r.indexOf(t.bhi.f7t);if(e>=0)return r.slice(e+1)}return n.rk?[]:r})):[]}},{key:"grt",get:function(){var t=this;return this.bhi?this.bhi.s0t.filter((function(n){var i;return n===(null==(i=t.bhi)?void 0:i.drt)||!n.rk})):[]}}]),t}();Q(),Nt(),Zt(),St();var a3=function(){function t(t){this.theoAdsPlayer=t}return t.prototype.rhi=function(t){this.theoAdsPlayer.ohi(t)},Ct(t,[{key:"ga",get:function(){return function(t){return{replaceAdTagParameters:function(n){t.rhi(n)}}}(this)}}]),t}(),c3=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Mhi=new a3(n),r}return Et(n,t),Ct(n,[{key:"Znt",get:function(){return this.Mhi}}]),n}(Vx);Q(),Nt(),An(),Zt(),Tn(),tn();var h3=function(){function t(t,n,i){var r=this;this.Thi=[],this.khi=As(),this.zhi=(new Date).getTime(),this.Bhi=function(){r.Thi.forEach((function(t){r.khi.get(t.o).style.cssText=r.xhi(t)}))},this.eii=function(t){t.stopPropagation()},this.ta=t,this.ta.yn(_D.pn,this.Bhi);var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",n.appendChild(e),Si(e),this.Nhi=e,this.Uhi=i,this.OQ=Kt.wE}var n=t.prototype;return n.Ehi=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return n.Thi.push(t),n.Nhi.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",n.khi.set(t.o,i),r=v.createElement("a"),[4,n.Lhi(t)];case 1:return(e=s.sent()).clickThroughURI&&(n.Nhi.style.zIndex="11",r.href=e.clickThroughURI,r.target="Vu",r.setAttribute("rel","noopener"),r.addEventListener("mousedown",n.eii),r.addEventListener("touchend",n.eii)),t.Iri===j4.image&&(r.style.backgroundImage="url("+e.resourceURI+")",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",e.impressionURI&&((u=v.createElement("img")).src=e.impressionURI,u.style.display="none",r.appendChild(u))),Si(r),i.appendChild(r),i.style.cssText=n.xhi(t),n.Nhi.appendChild(i),[2]}}))}))()},n.Chi=function(t){var n=this.khi.get(t.o);n&&(this.Nhi.contains(n)&&this.Nhi.removeChild(n),this.khi.delete(t.o),0===this.khi.size&&(this.Nhi.style.display="none"),Co(this.Thi,t))},n.jhi=function(){var t=this;this.khi.forEach((function(n,i){t.Nhi.contains(n)&&t.Nhi.removeChild(n)})),this.khi.clear(),this.Thi=[]},n.xhi=function(t){var n=t.uo,i=0,r=1;if(this.Nhi.clientWidth>0&&this.Nhi.clientHeight>0){var e=this.ta.Tk/this.ta.yk,u=this.Shi.clientWidth,s=this.Shi.clientHeight,o=u/e,a=(s-o)/2;i=0===s?0:k.floor(a/s*100),r=0===s?1:k.floor(100*(1-(s-o)/s))/100}var c="position:absolute;zIndex:10;";(n.Vtt&&(c+="left:"+n.Vtt+"%;"),n.Ytt&&(c+="right:"+n.Ytt+"%;"),n.Wtt)&&(c+="top:"+(n.Wtt*r+i)+"%;");n.Gtt&&(c+="bottom:"+(n.Gtt*r+i)+"%;");var h=t.Kb;return h.ji&&(c+="width:"+h.ji+"%;"),h.Ti&&(c+="height:"+h.Ti*r+"%;"),t.Dri&&t.Dri>0&&t.Dri<=100&&(c+="opacity:"+t.Dri/100+";"),c},n.Ohi=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return t?(i=n.Rhi(t))?[4,n.Phi(i,n.OQ)]:[2,void 0]:[2];case 1:return[2,r.sent()]}}))}))()},n.Lhi=function(t){var n=this;return yn((function(){var i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return i={resourceURI:""},[4,n.Ohi(t.Eri)];case 1:return(r=o.sent())?(i.resourceURI=r.image,i.impressionURI=r.impression):t.mKt&&((e=Do(t.mKt,(function(t){return t.YA===x4.svg})))&&(i.resourceURI=e.Xyt),(u=Do(t.mKt,(function(t){return t.YA===x4.png})))&&(i.resourceURI=u.Xyt)),i.clickThroughURI=null!=(s=null==r?void 0:r.clickThrough)?s:t.rqt,t.Yn({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}}))}))()},n.Rhi=function(t){var n=new Bu(this.Dhi);return n.set("iu",t.goi),n.set("sz",t._oi),n.set("c",String(this.zhi)),"https://securepubads.g.doubleclick.net/gampad/adx?"+n.toString()},n.Phi=function(t,n){return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=new Sl({zu:t,oI:Gd.CN,xI:Tl.GET}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.hI(i)];case 2:return[4,e.sent().rI()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new KJ(JJ.NETWORK,qJ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}}))}))()},n.tr=function(){this.jhi(),this.Nhi.style.display="none"},Ct(t,[{key:"shi",get:function(){return this.Thi}},{key:"Shi",get:function(){return this.Nhi}},{key:"Ihi",get:function(){return this.Dhi},set:function(t){this.Dhi=t}}]),t}();Q(),Nt(),Zt();var f3=function(){function t(){}var n=t.prototype;return n.$G=function(t){return v3(t)},n.u4t=function(t,n,i){},n.I9=function(t,n,i,r){},n.fH=function(t){var n={integration:CT.THEOADS,adTagParameters:di(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return gi(t.sources)&&(n.sources=iw(t.sources)),gi(t.networkCode)&&(n.networkCode=iw(t.networkCode)),gi(t.customAssetKey)&&(n.customAssetKey=iw(t.customAssetKey)),gi(t.backdropDoubleBox)&&(n.backdropDoubleBox=iw(t.backdropDoubleBox)),gi(t.backdropLShape)&&(n.backdropLShape=iw(t.backdropLShape)),gi(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),gi(t.overrideAdSrc)&&(n.overrideAdSrc=iw(t.overrideAdSrc)),gi(t.retrievePodIdURI)&&(n.retrievePodIdURI=iw(t.retrievePodIdURI)),gi(t.sseEndpoint)&&(n.sseEndpoint=iw(t.sseEndpoint)),gi(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=iw(t.streamActivityMonitorId)),n},Ct(t,[{key:"a4t",get:function(){return c$.Knt}}]),t}();function v3(t){return t&&t.integration===CT.THEOADS}jT.Ld.tW(new f3),sn(),tn(),Q(),Nt(),St();var d3=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var l3=function(t){function n(n){var i;return(i=t.call(this,"Qhi")||this).interstitial=n,i}return Et(n,t),n.prototype.ma=function(){return new g3(this.interstitial.lrt())},n}(jg),g3=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=n,i}return Et(n,t),n}(ka);Jt(),Q(),Nt(),St();var w3=function(t){function n(n,i){var r;return(r=t.call(this,"Fhi")||this).interstitial=n,r.Pb=i,r}return Et(n,t),n.prototype.ma=function(){return new y3(this.interstitial.lrt(),this.Pb)},n}(jg),y3=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=n,r.message=i,r}return Et(n,t),n}(ka);Q(),Nt(),An(),Zt(),St(),Tn(),Tt(),Q(),Nt(),St(),Q(),Nt(),Zt(),St();var m3=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===m4.LSHAPE_CONTENT?q$.Y4t:q$.YKt}(n.uhi.bri))||this,n.hhi(i),i}return Et(n,t),n.prototype.ma=function(){return n0(this)},Ct(n,[{key:"wJt",get:function(){return c$.Knt}}]),n}(t0);var A3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).JM=k.min(i,r.Yl.$$t),r}return Et(n,t),n}(m3),p3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).s7=!1,n.KZt=function(){n.yo(new Z$(JJ.GENERAL))},n.Whi=function(t){!n.s7&&n.dhi&&(n.s7=!0,n.I0t=n.I3t(n.dhi),n.w0t=new A3(n.I0t,n.x3t._d()),n.dhi.Yn({ad:n.f7t}),n.z3t.yo(new rO(n.I0t)),n.z3t.yo(new uO(n.w0t,n.Kni(t.currentTime))))},n._tt=function(t){n.Cd(n.Kni(t.currentTime))},n}Et(n,t);var i=n.prototype;return i.D$=function(t,n,i){return st.resolve()},i.ohi=function(t){},i.Vhi=function(t,n,i,r){var e;if(void 0===r&&(r=!1),this.dhi=t,t.lB<n){var u=k.min(t.ct,t.cri-n);e=t.ct-u,t.Yn({ct:u,_ri:e})}return this.phi({sources:{src:t.Xyt}},i,e,r)},i.Ghi=function(t,n,i){var r=this;return yn((function(){return pn(this,(function(n){return r.dhi=t,[2,t.Xyt]}))}))()},i._hi=function(){t.prototype._hi.call(this),this.x3t.yn(zA.oP,this.Whi),this.x3t.yn(Ma.qy,this._tt),this.x3t.yn(eA.ua,this.KZt)},i.ghi=function(){this.x3t.fn(zA.oP,this.Whi),this.x3t.fn(Ma.qy,this._tt),this.x3t.fn(eA.ua,this.KZt),t.prototype.ghi.call(this)},i.ld=function(t){var n,i=this.Kni(t.currentTime),r=this.dhi.i3t;this.dhi.dri(i);var e=this.dhi.i3t;r<.25&&e>=.25?this.z3t.yo(new v0(this.w0t,i)):r<.5&&e>.5?this.z3t.yo(new l0(this.w0t,i)):r<.75&&e>=.75?this.z3t.yo(new w0(this.w0t,i)):(null==(n=this.dhi)?void 0:n.rk)&&this.Cd(i)},i.Cd=function(n){t.prototype.Cd.call(this,n),this.s7=!1},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.s7=!1,[2]}}))}))()},Ct(n,[{key:"Yhi",get:function(){return u3.DEFAULT}}]),n}(s3);Q(),Nt(),An(),Zt(),St(),Tn(),Tt(),tn(),Q(),Nt(),Zt(),St();var _3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Zhi=i,r}Et(n,t);var i=n.prototype;return i.v0t=function(){return this.Zhi.getAdSystem()},i.p0t=function(){return this.Yl.uhi.Xyt},Ct(n,[{key:"o",get:function(){return this.Zhi.getAdId()}},{key:"ct",get:function(){return this.Zhi.getDuration()}},{key:"rqt",get:function(){var t,n;return null==(n=this.Zhi)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"EXt",get:function(){return this.Zhi.getCreativeId()}},{key:"Oqt",get:function(){return this.Zhi.getSkipTimeOffset()}}]),n}(m3);Q(),Nt(),St();var k3=function(t){function n(n){var i;return(i=t.call(this,n)||this).q4t=!0,i.JM=n.t0t,i}return Et(n,t),n}(m3),M3="theoads_slot",b3="urn:google:dai:2018",T3=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e)||this).aai=function(){a.Cd(a.Kni(a.x3t.xE()))},a.zn=function(t){var n=t.Ht;if(n.Lt===hA.MQ&&!(n.YA!==Yw.ID3&&n.YA!==Yw.EVENT_STREAM||n.YA===Yw.EVENT_STREAM&&n.YL!==b3)){if(n.yn(Yg.Jk,a.fai),n.yn(Yg.tL,a.Kri),n.L)for(var i=0,r=n.L.AL;i<r.length;i++){var e=r[i];a.fai(new KS(e))}n.UI=iA.FL,a.lai=n}},a.fai=function(t){t.uB.yn(Hw.kz,a.gai)},a.Kri=function(t){t.uB.fn(Hw.kz,a.gai)},a.gai=function(t){var n,i;if(a.eai)if((null==(n=a.lai)?void 0:n.YA)===Yw.ID3){var r,e=t.uB.U;if(aC(e))if(a.cai!==e.text)a.cai=e.text,null==(r=a.Hhi)||r.processMetadata("ID3",e.text,t.uB.lB)}else if((null==(i=a.lai)?void 0:i.YA)===Yw.EVENT_STREAM){var u,s=t.uB.U;null==(u=a.Hhi)||u.processMetadata(b3,s,t.uB.lB)}},a.uai=function(t){switch(a.I0t&&(a.I0t.t0t=a.x3t._d()-a.x3t.xE()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.z3t.yo(new Z$(JJ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:a.I0t=a.I3t(a.dhi),a.z3t.yo(new rO(a.I0t)),a._ai=Kt.Pg(a.vai,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:Kt.Rg(a._ai);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();a.w0t=new _3(a.I0t,i),null==(n=a.dhi)||n.Yn({ad:a.w0t}),a.z3t.yo(new uO(a.w0t,a.Kni(a.x3t.xE())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a.z3t.yo(new v0(a.w0t,a.Kni(a.x3t.xE())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a.z3t.yo(new l0(a.w0t,a.Kni(a.x3t.xE())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a.z3t.yo(new w0(a.w0t,a.Kni(a.x3t.xE())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a.z3t.yo(new oO(a.w0t,a.Kni(a.x3t.xE()))),a.w0t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.I0t)break;a.I0t.t0t>1&&a.vai()}},a.vai=function(){var t;a.w0t=new k3(a.I0t),null==(t=a.dhi)||t.Yn({ad:a.w0t}),a.z3t.yo(new uO(a.w0t,a.Kni(a.x3t.xE())))},a.Xhi=r,a.Dhi=null!=u?u:{},a.$hi=s,a.oai=o,a}Et(n,t);var i=n.prototype;return i.D$=function(t,n,i){var r=this;if(void 0===this.Hhi){var e,u;if(void 0===(null==(u=Wr.google)||null==(e=u.ima)?void 0:e.dai))throw new A("IMA DAI SDK missing for THEOads");this.Hhi=new google.ima.dai.api.StreamManager(this.x3t.we.querySelector("video"),this.Xhi)}this.qhi=t,this.Khi=n,this.Dhi=i;var s=this.Hhi;this.Jhi(),s.reset();var o=new google.ima.dai.api.PodStreamRequest;return o.networkCode=this.qhi,o.customAssetKey=this.Khi,o.adTagParameters=this.Dhi,this.$hi&&(o.streamActivityMonitorId=this.$hi),o.format="hls",this.tai=this.iai([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new A("DAI stream request failed");r.eai=t.getStreamData(),r.nai()})),this.Hhi.requestStream(o),this.tai},i.iai=function(t,n){var i=this;return new st((function(r,e){var u;if(n&&n.sy)return e(new qo);var s=function(t){a(),r(t)},o=function(){a(),e(new qo)},a=function(){var r;null==(r=i.Hhi)||r.removeEventListener(t,s),n&&n.oy(o)};null==(u=i.Hhi)||u.addEventListener(t,s),n&&n.uy(o)}))},i.ohi=function(t){var n;null==(n=this.Hhi)||n.replaceAdTagParameters(t)},i.rai=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return(null==(i=n.dhi)?void 0:i.wri)&&!T(n.dhi.wri)?[2,n.dhi.wri]:n.oai&&(null==(r=n.dhi)?void 0:r.Evt)?[4,Ob((function(){return n.hai()}),t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}}))}))()},i.hai=function(){var t=this;return yn((function(){var n,i,r,e;return pn(this,(function(u){switch(u.label){case 0:n=t.oai+"/"+t.qhi+"/"+t.Khi+"/"+t.dhi.Evt+".json",i=new Sl({zu:n,oI:Gd.CN,xI:Tl.GET,CI:1e3}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.x3t.wE.hI(i)];case 2:return r=u.sent(),[3,4];case 3:throw u.sent(),new KJ(JJ.NETWORK,qJ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!Ml(r))throw new KJ(JJ.NETWORK,qJ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,r.rI()];case 5:return(e=u.sent())?[2,e.podid]:[2,void 0]}}))}))()},i.Vhi=function(t,n,i,r){void 0===r&&(r=!1);var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return[4,e.Ghi(t,n,i)];case 1:return u=s.sent(),[2,e.phi({sources:{src:u}},i,void 0,r)]}}))}))()},i.Ghi=function(t,n,i){var r=this;return yn((function(){var e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:return r.dhi=t,e=Kt.Ah(t.Xyt),u=e.searchParams.get("n"),s=e.searchParams.get("k"),(o=r.Dhi).cust_params=function(t,n){var i=new Bu(t);return i.set(M3,function(t){switch(t){case m4.DOUBLE:return"double";case m4.SINGLE:return"single";case m4.LSHAPE_AD:case m4.LSHAPE_CONTENT:return"l-shape"}}(n)),i.toString()}(o.cust_params,t.bri),!u||!s||u===r.qhi&&s===r.Khi?[3,2]:(r.qhi=u,r.Khi=s,[4,r.D$(u,s,r.Dhi)]);case 1:return f.sent(),ta(i),[3,3];case 2:r.ohi(r.Dhi),f.label=3;case 3:return r.tai?[4,ra(r.tai,i)]:[3,5];case 4:f.sent(),f.label=5;case 5:return a=Number(e.searchParams.get("d")),c=k.floor(1e3*k.min(a,t.cri-n)),[4,r.rai(i)];case 6:if(!(h=f.sent()))throw new A("Something went wrong with retrieving the PodID from the server.");return[2,r.eai.getStandalonePodManifestUrl((function(){return h}),c)]}}))}))()},i._hi=function(){this.x3t.yn(Ma.qy,this.aai),this.x3t.nt.yn(Rg.Hk,this.zn),t.prototype._hi.call(this)},i.ghi=function(){t.prototype.ghi.call(this),this.x3t.fn(Ma.qy,this.aai),this.x3t.nt.fn(Rg.Hk,this.zn)},i.nai=function(){var t;null==(t=this.Hhi)||t.addEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.RESUMED],this.uai)},i.Jhi=function(){var t;null==(t=this.Hhi)||t.removeEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.RESUMED],this.uai)},i.Cd=function(n){t.prototype.Cd.call(this,n),this.cai=void 0},i.tr=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return r.sent(),n.Jhi(),null==(i=n.Hhi)||i.reset(),n.Hhi=void 0,n.eai=void 0,n.$hi=void 0,n.Khi=void 0,n.qhi=void 0,[2]}}))}))()},i.gn=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.lai)||i.gn(),[2]}}))}))()},Ct(n,[{key:"Yhi",get:function(){return u3.GOOGLE}}]),n}(s3);var N3=function(t){function n(n){var i,r;i=t.call(this,n)||this,r=i,i.dV=void 0,i.ZG=void 0,i.Uai=As(),i.iui=!0,i.eui=NaN,i.zai=NaN,i.Pai=NaN,i.mai=!1,i.Kai=!1,i.Mai=yn((function(){var t;return pn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.jnt.UH([IN.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.zk().catch(qt)];case 3:return n.sent(),r.eG(Ad(t,wd.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.Sai=function(){var t;i.Unt.fn(zA.nP,i.Sai),(null==(t=i.bai)?void 0:t.sseEndpoint)&&i.pai.jri(i.bai.sseEndpoint)},i.wd=function(){i.uoi(i.xE()),i.mai=!0,i.Unt.fn(zA.sP,i.wd),i.pai.xri.forEach((function(t){return i.soi(t)}))},i.kai=function(){i.Qai(i.xE()),i.Fai()},i.eZ=function(){i.Qai(i.xE()),i.Fai()},i.BI=function(){i.Vai(i.xE())},i.Cai=function(){i.R2t()},i.Bai=function(t){i.yai.yo(t.ga)},i.Unt=n,i.Vs=n.we;var e=b4(i.Vs),u=e.contentElement,s=e.adElement;return i.sui=u,i.nui=s,Si(i.sui),Si(i.nui),i.yai=new r3(i),i.Uhi=new o3,i.Aai=new c3(i,n.Vc),i.Aai.wrt(i.Uhi),i.pai=new U4(i),i.wai=new h3(i,u,i.Uhi),i}Et(n,t);var i=n.prototype;return i.Hnt=function(){return this.yai.ga},i.jE=function(){return this.Vs},i.Fnt=function(){return this.Unt.Tnt},i.PE=function(){var n;return null!=(n=this.ZG)?n:t.prototype.PE.call(this)},i.BE=function(){var n;return null!=(n=this.dV)?n:t.prototype.BE.call(this)},i.Ok=function(){this.Unt.Ok()},i.noi=function(t){return t},i.ka=function(n,i){var r=this;return yn((function(){var e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:return[4,t.prototype.ka.call(r,n,i)];case 1:return a.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=Do(n.ads,v3))?[2]:(r.Mai(),r.bai=e,r.Tai=e.backdropLShape,r.pai.eoi=function(t){switch(t){case"single":return m4.SINGLE;case"l-shape":return m4.LSHAPE_AD;case"double":return m4.DOUBLE;case"single-if-mobile":return Wt.Qs?m4.SINGLE:void 0;default:return}}(e.overrideLayout),r.pai.roi=e.overrideAdSrc,r.pai.Fri=e.useId3,r.pai.Pri(r.ta.nt),r.wai.Ihi=e.adTagParameters,r.Unt.yn(zA.sP,r.wd),r.Unt.yn(zA.nP,r.Sai),r.Nai(),u=void 0===e.networkCode||void 0===e.customAssetKey,[4,r.Iai(u)]);case 2:return a.sent(),void 0!==e.sources&&(o=null==(s=r.ta.bt)?void 0:s.src,r.Dai(e.sources+o)),[2]}}))}))()},i.Iai=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w;return pn(this,(function(y){switch(y.label){case 0:return u=n.h4t(),s=n.Eai(),a=null!=(o=null==(i=n.bhi)?void 0:i.s0t)?o:[],t&&(null==(r=n.bhi)?void 0:r.Yhi)!==u3.DEFAULT?[4,null==(c=n.bhi)?void 0:c.tr()]:[3,2];case 1:y.sent(),n.bhi=new p3(u,n.Uhi,a),y.label=2;case 2:return t||(null==(e=n.bhi)?void 0:e.Yhi)===u3.GOOGLE?[3,5]:[4,null==(h=n.bhi)?void 0:h.tr()];case 3:return y.sent(),n.bhi=new T3(u,n.Uhi,s,a,n.Ihi,null==(f=n.bai)?void 0:f.streamActivityMonitorId,null==(v=n.bai)?void 0:v.retrievePodIdURI),g=null==(d=n.bai)?void 0:d.networkCode,w=null==(l=n.bai)?void 0:l.customAssetKey,void 0===g||void 0===w?[3,5]:[4,n.bhi.D$(g,w,n.Ihi)];case 4:y.sent(),y.label=5;case 5:return[2]}}))}))()},i.eG=function(t){void 0===this.BE()&&(this.dV=t,this.ZG=pw(t),this.yo(new zk(t)))},i.Nai=function(){this.Unt.yn(Ma.Eb,this.kai),this.Unt.yn(Ma.Mb,this.eZ),this.Unt.yn(Ma.mb,this.BI)},i.Lai=function(){this.Unt.fn(Ma.Eb,this.kai),this.Unt.fn(Ma.Mb,this.eZ),this.Unt.fn(Ma.mb,this.BI)},i.xai=function(){this.Uhi.v4t.yn("brt",this.Cai)},i.jai=function(){this.Uhi.v4t.fn("brt",this.Cai)},i.R2t=function(){this.Oai()},i.Rai=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Oai(),[2]}))}))()},i.Oai=function(){var t=this.ta.yk,n=this.ta.Tk;t===this.Pai&&n===this.zai||(this.Pai=t,this.zai=n,this.yo(new xA))},i.soi=function(t){if(this.mai){var n;if(D3(t))null==(n=this.bhi)||n.soi(t),this.uoi(this.Unt.xE());t.yn("ari",this.Bai),this.yai.yo(new d3(t.lrt()))}},i.foi=function(t){var n;(this.pai.foi(t),D3(t))?null==(n=this.bhi)||n.foi(t):I3(t)&&(this.wai.Chi(t),this.Uai.delete(t.o));this.mai&&(t.fn("ari",this.Bai),this.yai.yo(new l3(t).ga))},i.uoi=function(t){this.Qai(t),this.Fai()},i.Qai=function(t){this.Yai(t),this.Vai(t),this.Gai(t)},i.Yai=function(t){for(var n,i=[],r=0,e=this.pai.xri.filter(D3);r<e.length;r++){var u=e[r];if(u.rk)i.push(u);else{var s=u.cri;void 0!==s&&t>=s?(u.rk=!0,i.push(u)):void 0!==n&&n.lB<u.lB||(n=u)}}for(var o=0;o<i.length;o++){var a=i[o];this.foi(a)}this.Wai!==n&&(this.Wai=n,this.Zai())},i.Zai=function(){var t,n;null==(t=this.bhi)||t.fhi(),null==(n=this.Hai)||n.Ty(),this.Xai=void 0,this.qai=void 0},i.Vai=function(t){var n=this;if(void 0!==this.Wai&&void 0===this.Xai&&!this.Kai){var i=!1,r=GM.xn(this.Unt.SE()).CP(t);if(void 0!==r&&(i=r.jn(0)>=this.Wai.lB),D3(this.Wai)){var e=this.Wai,u=e.cri,s=t>=e.lB&&(void 0===u||t<u);(i||s)&&(this.Hai=new ca,this.Xai=ea(this.Vhi(e,t,this.Hai.ly),this.Hai).catch((function(t){$o(t)||(n.yai.yo(new w3(e,"Could not load the ad break.").ga),e.rk=!0,n.Wai=void 0)})))}}},i.Gai=function(t){var n=this;if(void 0!==this.Wai&&void 0===this.qai&&!this.Kai){var i,r=this.Wai.cri;if(t>=this.Wai.lB&&(void 0===r||t<r))this.qai=null==(i=this.Xai)?void 0:i.then((function(){return n.Rai()}))}},i.ohi=function(t){var n,i,r;this.Dhi=t,null==(i=this.bhi)||i.ohi(null!=(r=null!=t?t:null==(n=this.bai)?void 0:n.adTagParameters)?r:{}),this.wai.Ihi=t},i.Fai=function(){var t,n=function(n,e){var u=e[n],s=u.cri;if(void 0!==s&&r>=s)return"continue";var o=u.lB,a=u.lB+u.ct;r>=o&&r<=a&&!t.Uai.has(u.o)&&(t.wai.Ehi(u).catch((function(t){i.yai.yo(new w3(u,"Could not load the overlay.").ga)})),t.yai.yo(new S4(u).ga),t.Uai.set(u.o,u))},i=this,r=this.xE(),e=[];this.Uai.forEach((function(t){r>=t.lB&&(void 0===t.cri||r<t.cri)||e.push(t)})),e.forEach((function(t){return i.foi(t)}));for(var u=0,s=this.pai.xri.filter(I3);u<s.length;u++)t=this,n(u,s)},i.Dai=function(t){this.Jai=new ca,this.$ai=new i3(this.Unt,t,this.Unt.wE,this.Jai.ly),this.pai.Pri(this.$ai.nt)},i.tui=function(){var t;void 0!==this.$ai&&(null==(t=this.Jai)||t.Ty(),this.Jai=void 0,this.$ai.gn(),this.$ai=void 0)},i.zk=function(){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return n.dV=void 0,n.ZG=void 0,n.mai=!1,n.bai=void 0,n.iui=!0,n.eui=NaN,n.zai=NaN,n.Pai=NaN,n.Wai=void 0,null==(i=n.Hai)||i.Ty(),n.Xai=void 0,n.qai=void 0,[4,null==(r=n.bhi)?void 0:r.tr()];case 1:return e.sent(),n.bhi=void 0,n.pai.tr(),n.wai.tr(),n.Uai.clear(),n.Unt.fn(zA.sP,n.wd),n.Unt.fn(zA.nP,n.Sai),n.Lai(),n.jai(),n.Zai(),n.tui(),[4,t.prototype.zk.call(n)];case 2:return e.sent(),[2]}}))}))()},i.gn=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.zk().catch(qt)];case 1:return r.sent(),n.pai.gn(),[4,null==(i=n.bhi)?void 0:i.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},i.Gk=function(n){switch(n.type){case Ma.ub:case Ma.Gy:case zA.nP:return!this.iui;case zA.sP:return!this.iui||(this.iui=!1,!1);case Ma.Zy:var i=this._d();return i!==this.eui&&(this.eui=i,this.yo(new Eb(i))),!0;case Ma.yb:return this.Oai(),!0}return t.prototype.Gk.call(this,n)},Ct(n,[{key:"shi",get:function(){var t;return[null==(t=this.bhi)?void 0:t.lhi].concat(ln(this.wai.shi)).filter(ci)}},{key:"nhi",get:function(){return this.mai?this.pai.xri:[]}},{key:"Vc",get:function(){return this.Aai}},{key:"Ihi",get:function(){var t,n,i;return null!=(i=null!=(n=this.Dhi)?n:null==(t=this.bai)?void 0:t.adTagParameters)?i:{}}}]),n}(U$);function D3(t){return"adbreak"===t.YA}function I3(t){return"overlay"===t.YA}var E3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cui=!0,n.oui=!1,n.hui=!0,n.aui=!0,n.dui=!0,n.wZt=function(t){n.JM=t.duration},n.eF=function(){n.Unt.fn(zA.oP,n.eF),n.cui=!1},n}Et(n,t);var i=n.prototype;return i._d=function(){var n;return null!=(n=this.JM)?n:t.prototype._d.call(this)},i.Ya=function(){var n;return null!=(n=this.wc)?n:t.prototype.Ya.call(this)},i.ka=function(n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,t.prototype.ka.call(r,n,i)];case 1:return e.sent(),r.bai?(r.wc=n,r.rui=new I4(r.Unt),r.rui.ur(r.Unt.we,r.Unt.we.parentElement),r.zz(r.rui),[2]):[2]}}))}))()},i.Nai=function(){t.prototype.Nai.call(this),this.Unt.yn(Ma.Zy,this.wZt),this.Unt.yn(zA.oP,this.eF)},i.Lai=function(){t.prototype.Lai.call(this),this.Unt.fn(Ma.Zy,this.wZt),this.Unt.fn(zA.oP,this.eF)},i.h4t=function(){return this.Unt},i.Eai=function(){return this.sui},i.CE=function(n,i){this.oui=!0,t.prototype.CE.call(this,n,i)},i.Pk=function(){t.prototype.Pk.call(this),this.yo(new Ib(this.xE())),this.hui=!0,this.aui=!1},i.Rk=function(){this.aui=!0,t.prototype.Rk.call(this)},i.Vhi=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return u=!no(t.Xyt,"theo-ads://dai.break"),[4,r.Iai(u)];case 1:return s.sent(),[4,null==(e=r.bhi)?void 0:e.Ghi(t,n,i)];case 2:return r.uui=s.sent(),[2]}}))}))()},i.Rai=function(){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return void 0===n.Wai||void 0===n.uui?[2]:(n.Lai(),u=!no(n.Wai.Xyt,"theo-ads://dai.break"),null==(i=n.Hai)||i.Ty(),n.Hai=new ca,[4,n.Iai(u)]);case 1:return s.sent(),n.dBt=n.Unt.NE,null==(r=n.rui)||r.ar(n.Unt.we),n.cui=!0,n.Unt.yn(zA.oP,n.eF),n.yai.yo(new S4(n.Wai).ga),[4,null==(e=n.bhi)?void 0:e.phi({sources:{src:n.uui}},n.Hai.ly,void 0,!0)];case 2:return s.sent(),n.rui=n.lui(n.Wai.bri,n.Tai),n.Q2t(n.rui),n.rui.ur(n.we,n.Unt.we.parentElement),n.xai(),n.Kai=!0,n.dui=!1,[2,t.prototype.Rai.call(n)]}}))}))()},i.lui=function(t,n){switch(t){case m4.LSHAPE_AD:return new E4(this.Unt,n);case m4.SINGLE:default:return new I4(this.Unt)}},i.R2t=function(){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return n.Wai?(n.cui=!0,n.Unt.yn(zA.oP,n.eF),[4,n.Unt.ka(n.wc,(new ca).ly)]):[2];case 1:return r.sent(),null==(i=n.rui)||i.ar(n.Unt.we),n.rui=new I4(n.Unt),n.rui.ur(n.Unt.we,n.Unt.we.parentElement),n.Q2t(n.rui),n.Unt.Pk(),n.dui=!0,n.Unt.NE=new Date(Number(n.dBt)+1e3*n.Wai.ct),n.Wai=void 0,n.dBt=void 0,n.Kai=!1,n.Nai(),t.prototype.R2t.call(n),[2]}}))}))()},i.zk=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.rui=void 0,n.JM=void 0,n.dui=!0,n.cui=!1,n.hui=!0,n.aui=!0,[4,t.prototype.zk.call(n)];case 1:return i.sent(),[2]}}))}))()},i.Gk=function(n){if(void 0!==this.rui)switch(n.type){case Ma.so:return!0;case Ma.wb:if(!this.aui)return!0;this.aui=!1;break;case zA.oP:if(!this.hui)return!0;this.hui=!1;break;case zA.rP:if(this.cui)return!0;this.hui=!0;break;case Ma.bb:if(this.cui&&!this.oui)return!0;this.oui=!1;break;case Ma.Mb:if(this.cui&&!this.oui)return!0;break;case Ma.qy:if(!this.dui)return!0}return t.prototype.Gk.call(this,n)},n}(N3);Q(),Nt(),An(),Zt(),St(),Tn(),sn();var S3=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).fui=0,r.gui=0,r.Nui=0,r.Iui=function(){if(r.Unt.fn(zA.nP,r.Iui),r.Sui){var t=r.Sui;t.setSeconds(r.Sui.getSeconds()+r.Nui),r.Unt.NE=t,r.Sui=void 0}r.gui-=r.Unt.xE()},r.Unt=n,r.x3t=i,r}Et(n,t);var i=n.prototype;return i.Wni=function(){this.fui=this.Unt.xE()+this.gui},i.rri=function(){var t;if(void 0===this._ui){var n=this.vui;this.vui=void 0,null==(t=this.wui)||t.Ty(),j3(this.Unt)&&(this.mui=new ca,this._ui=ea(this.pui(n,this.mui.ly),this.mui).catch(ia))}},i.hri=function(){var t,n=this._ui;this._ui=void 0,null==(t=this.mui)||t.Ty(),this.wui=new ca,this.vui=ea(this.Aui(n,this.wui.ly),this.wui).catch(ia)},i._a=function(){return this.Unt.xV},i.yui=function(){this.bui={source:this.Unt.Ya(),duration:this.Unt._d(),currentTime:this.Unt.xE(),preload:this.Unt.ck,autoplay:this.Unt.Xz}},i.Mui=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return n.Unt.ck=oT.Mz,n.Unt.Xz=!1,n.x3t.WE=!0,i=n.x3t.Ya(),[4,n.Unt.ka(i,t)];case 1:return r.sent(),n.Unt.CE(n.x3t.xE()),[2]}}))}))()},i.Tui=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.bui?(n.Unt.ck=n.bui.preload,n.Unt.Xz=n.bui.autoplay,[4,n.Unt.ka(n.bui.source,t)]):[2];case 1:return i.sent(),n.bui=void 0,[2]}}))}))()},i.pui=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(qt)];case 1:return r.sent(),i.yui(),i.Sui=i.Unt.NE,[4,i.Unt.zk()];case 2:return r.sent(),[4,i.Mui(n)];case 3:return r.sent(),i.Q2t(i.Unt),i.Unt.Pk(),[2]}}))}))()},i.Aui=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(qt)];case 1:return r.sent(),i.Nui=i.x3t.xE(),i.gui=i.Nui+i.Jni,[4,i.Unt.zk()];case 2:return r.sent(),[4,i.Tui(n)];case 3:return r.sent(),i.Q2t(i.x3t),i.Unt.yn(zA.nP,i.Iui),i.Unt.Pk(),[2]}}))}))()},i.Ya=function(){return this.bui?this.bui.source:t.prototype.Ya.call(this)},i._d=function(){return this.bui?this.bui.duration:t.prototype._d.call(this)},i.vk=function(){var n=t.prototype.vk.call(this);return GM.xn(n).Gb(this.Jni).ks()},i.SE=function(){var n=t.prototype.SE.call(this);return GM.xn(n).Gb(this.Jni).ks()},i.tr=function(){this.gui=0,this.fui=0,this.Nui=0,this.Sui=void 0},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.tr(),n.Unt.fn(zA.nP,n.Iui),[2]}}))}))()},Ct(n,[{key:"Jni",get:function(){return this.fui}},{key:"Hni",get:function(){return this.gui}}]),n}(U$);Q(),Nt(),St();var L3=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.ka=function(n,i){var r;return void 0!==Do(null!=(r=null==n?void 0:n.ads)?r:[],v3)?st.reject(new md(wd.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.ka.call(this,n,i)},n}(iM),C3=function(t){function n(n){var i;(i=t.call(this,n)||this).Uui=!0,i.hui=!0,i.Pui=!0,i.Oui=!1,i.Eui=function(t){if(i.jui&&!function(t){return t instanceof l4}(i.jui)&&i.Kai)switch(t.presentationMode){case"native-picture-in-picture":i.Cui(new l4(i.Unt,i.x3t),!1,!1);break;case"fullscreen":n1(i.md)&&i.Cui(new l4(i.Unt,i.x3t),!1,!1)}},i.zui=function(t){j3(i.Unt)||i.Bui()},i.ihi=function(t){j3(i.Unt)||i.Bui()};var r=new p0(new Sx(i.nui,n.md,new YN),jT.Ld);return r.ck=oT.Mz,r.Xz=!1,i.x3t=new S3(i.Unt,r),i.Xhi=function(t){var n=v.createElement("div");return Ni(n,"theo-ads-sgai-ima-container"),function(t){t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}(i.nui),i.Dui(),i}Et(n,t);var i=n.prototype;return i.Dui=function(){this.Unt.Rnt.yn("presentationmodechange",this.Eui)},i.kui=function(){this.Unt.Rnt.fn("presentationmodechange",this.Eui)},i.ka=function(n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return[4,t.prototype.ka.call(r,n,i)];case 1:return e.sent(),r.bai?(r.Lui=r.bai.backdropDoubleBox,r.xui(),r.Cui(new d4(r.Unt,r.x3t),!1,!0),[2]):[2]}}))}))()},i.Cui=function(t,n,i){var r;void 0!==this.jui&&(this.jui.ar(this.we,this.sui,this.nui),this.jui.gn());var e=null!=(r=this.jui)?r:this,u=null!=t?t:this.Unt;f4(e,u),null==t||t.ur(this.we,this.sui,this.nui,e,n),this.jui=t,i?this.zz(u):this.Q2t(u)},i.xui=function(){this.Oui||(this.Oui=!0,Li(this.sui),Li(this.nui),T4(this.Vs),T4(this.sui),T4(this.nui),function(t){var n=t.style;n.display="flex",n.alignItems="center"}(this.Vs))},i.Rui=function(){this.Oui&&(this.Oui=!1,N4(this.Vs),N4(this.sui),N4(this.nui),Si(this.sui),Si(this.nui))},i.h4t=function(){return this.x3t},i.Eai=function(){return this.Xhi},i.Ok=function(){t.prototype.Ok.call(this),this.x3t.Ok()},i.CE=function(n,i){this.Pui=!0,t.prototype.CE.call(this,n,i)},i.noi=function(t){return t+this.x3t.Hni},i.xai=function(){t.prototype.xai.call(this),this.x3t.yn(Ma.mb,this.zui),this.Unt.yn(Ma.fb,this.ihi)},i.jai=function(){t.prototype.jai.call(this),this.x3t.fn(Ma.mb,this.zui),this.Unt.fn(Ma.fb,this.ihi)},i.Bui=function(){var t,n,i=null==(t=this.Wai)?void 0:t.cri;if(void 0!==i&&!(null==(n=this.jui)?void 0:n.qni())&&!wr(this.Unt.xE(),i,.001)){var r=GM.xn(this.x3t.SE()),e=this.x3t.vk(),u=k.min(e.end(e.length-1),this.Wai.ct);r.fP().gr(u)&&this.Unt.CE(i,{dzt:!0})}},i.Vhi=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return u=function(t){return!no(t.Xyt,"theo-ads://dai.break")}(t),[4,r.Iai(u)];case 1:return s.sent(),[4,null==(e=r.bhi)?void 0:e.Vhi(t,n,i)];case 2:return s.sent(),[2]}}))}))()},i.Rai=function(){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){return void 0===(i=n.Wai)?[2]:(r=i.bri,e=n.lui(r,i),n.Lai(),Wt.qf&&Wt.Jf>=16&&Wt.Jf<18&&n.x3t.CE(n.x3t.xE()),Wt.Zd&&!e.qni()&&(N4(n.sui),Si(n.sui)),n.Cui(e,n.hui,!1),n.yai.yo(new S4(i).ga),n.xai(),n.Kai=!0,n.Uui=!1,n.qai=void 0,[2,t.prototype.Rai.call(n)])}))}))()},i.lui=function(t,n){if(j3(this.Unt))return new l4(this.Unt,this.x3t);switch(t){case m4.DOUBLE:return n.Mri||n.Yn({backdropUri:this.Lui}),new p4(this.Unt,this.x3t,n.Mri);case m4.LSHAPE_AD:return n.Mri||n.Yn({backdropUri:this.Tai}),new M4(this.Unt,this.x3t,n.Mri);case m4.LSHAPE_CONTENT:return n.Mri||n.Yn({backdropUri:this.Tai}),new k4(this.Unt,this.x3t,n.Mri);case m4.SINGLE:default:return new g4(this.Unt,this.x3t)}},i.R2t=function(){var n;if(void 0!==this.Wai){this.jai();var i=null==(n=this.jui)?void 0:n.qni();Wt.Zd&&(Li(this.sui),T4(this.sui)),this.Cui(new d4(this.Unt,this.x3t),!0,!1),i||(this.Pui=!1,this.Unt.CE(this.Wai.cri,{dzt:!0})),this.Nai(),this.Kai=!1,this.Uui=!1,this.Wai=void 0,t.prototype.R2t.call(this)}},i.zk=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.hui=!0,n.Pui=!0,n.Uui=!0,n.Kai=!1,n.Cui(void 0,!1,!0),[4,n.x3t.zk()];case 1:return i.sent(),n.Rui(),[4,t.prototype.zk.call(n)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.kui(),[4,n.x3t.gn()];case 1:return i.sent(),[4,t.prototype.gn.call(n)];case 2:return i.sent(),[2]}}))}))()},i.Gk=function(n){if(void 0!==this.jui)switch(n.type){case Ma.so:if(!this.Uui)return this.Uui=!0,!0;this.hui=!0;break;case Ma.wb:if(this.OE&&this.Kai)return!0;break;case zA.oP:if(!this.hui)return!0;this.hui=!1;break;case zA.rP:this.hui=!0;break;case Ma.Mb:if(!this.Pui)return!0;break;case Ma.bb:if(!this.Pui)return this.Pui=!0,!0}return t.prototype.Gk.call(this,n)},Ct(n,[{key:"Rnt",get:function(){return this.Unt.Rnt}}]),n}(N3);function j3(t){var n=t.Rnt.Uo()===Bb.FULLSCREEN&&n1(t.md);return t.xV.xz||n}aM((function(t){return t.md.ads.theoads?Wt.Nf||Wt.kf?new E3(t):new C3(t):new L3(t)}),rM.Knt),Q(),Nt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Jt(),tn(),Q(),Nt(),Zt(),St(),Q(),Nt();var x3=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Za=void 0,n}return Et(n,t),Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get casting(){return t.TJ},get state(){return t.Xgt},start:function(){t.Uk()},stop:function(){t.Qk()},addEventListener:function(n,i){var r=ew(n,iw);t.yn(r,i)},removeEventListener:function(n,i){var r=ew(n,iw);t.fn(r,i)}}}(this)),this.Za}}]),n}(Aa),O3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ea=qT.UNAVAILABLE,e.Zui=new ca,e.Yui=function(){var t,n=null==(t=e.xK.Ya())?void 0:t.sources.filter(bb);(null==n?void 0:n.some(Jk))?e.Na(qT.AVAILABLE):e.Na(qT.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.ta&&e.ta.FE?e.Wui():e.Xgt===qT.CONNECTED&&e.Kui()},e.handleAirplayPlayerTimeUpdate=function(t){e.Hui=t.currentTime,e.Xui=e.xK.NE},e.cpt=n,e.xK=i,e.Gui=r,e.Gui.be(),i.Wz(r),e.Qui(),e}Et(n,t);var i=n.prototype;return i.Qui=function(){this.Fui(),this.cpt.yn(Ma.ro,this.Yui),this.Na(qT.AVAILABLE)},i.Fui=function(){this.ta&&this.ta.fn(Ma.By,this.handleAirplayChangedEvent),this.Vui?this.ta=this.xK:this.ta=this.Gui,this.ta.yn(Ma.By,this.handleAirplayChangedEvent)},i.Wui=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return t.ta?t.Vui?[3,2]:(t.Hui=t.xK.LE,t.Xui=t.xK.NE,t.Gui.yn(Ma.Eb,t.handleAirplayPlayerTimeUpdate),t.qui=t.xK.TL,t.xK.TL=t.Gui,t.qui.Rk(),t.qui.be(),t.Gui.ge(),t.Gui.WE=t.qui.WE,t.Gui.$E=t.qui.$E,t.Gui.Nk=t.qui.Nk,n=t.Gui.zy(Ma.bb),t.Gui.LE=t.qui.LE,[4,n]):[2];case 1:return e.sent(),t.Gui.Pk(),t.Gui.WE=t.qui.WE,t.Gui.$E=t.qui.$E,t.Gui.Nk=t.qui.Nk,[3,5];case 2:return t.ta.KE?[3,4]:(i=new st((function(t){return g(t,800)})),r=t.ta.zy(Ma.wb,t.Zui.ly),[4,st.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.ta.Pk(),e.label=5;case 5:return t.Na(qT.CONNECTED),[2]}}))}))()},i.Kui=function(){this.qui?(this.Gui.fn(Ma.Eb,this.handleAirplayPlayerTimeUpdate),this.qui.WE=this.Gui.WE,this.qui.$E=this.Gui.$E,this.qui.Nk=this.Gui.Nk,Wt.qf&&!Wt.Ka&&this.xK.ct===1/0?this.Xui?this.qui.NE=this.Xui:this.qui.LE=1/0:this.qui.LE=this.Hui,this.Xui=void 0,this.Hui=void 0,this.qui.ge(),this.Gui.be(),this.Gui.KE||this.qui.Pk(),this.xK.TL=this.qui,this.Gui.tr(),this.qui=void 0):this.ta&&(this.ta.LE=this.ta.LE+1e-4);this.Na(qT.AVAILABLE)},i.preloadPlayer=function(t){if(ta(t),this.ta.fk<UA.Xn){var n=this.ta.zy(zA.nP,t);return this.ta.ck=oT.MQ,n}return st.resolve()},i.Na=function(t){t!==this.Ea&&(this.Ea=t,this.yo(new x$(this.Ea)))},i.Uk=function(){this.cpt.Ok(),this.Zui.Ty(),this.Zui=new ca,va(ea(this.Vui?this.Jui(this.Zui.ly):this.$ui(this.Zui.ly),this.Zui))},i.Jui=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.xK.Uk(),[2]}}))}))()},i.$ui=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.Gui.tr()];case 1:if(e.sent(),void 0===(i=n.xK.Ya()))throw new A("Not possible to start Airplay without a source");return[4,n.Gui.ka(i,t)];case 2:return e.sent(),r=n.Gui.zy(zA.oP,t),n.Gui.Pk(),[4,wa(r,3e3)];case 3:return e.sent(),n.Gui.Rk(),ta(t),n.Gui.Uk(),[3,5];case 4:return $o(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.Qk=function(){this.ta.Qk()},i.gn=function(){var t;this.Bo(),this.cpt.fn(Ma.ro,this.Yui),this.Zui.Ty(),this.xK.Zz(this.Gui),null==(t=this.Gui)||t.gn()},Ct(n,[{key:"TJ",get:function(){return this.Xgt===qT.CONNECTED}},{key:"Xgt",get:function(){return this.Ea}},{key:"Vui",get:function(){return this.xK.Bk()}}]),n}(x3);Q(),Nt(),Zt(),St();var z3=function(t){function n(){return t.apply(this,arguments)||this}Et(n,t);var i=n.prototype;return i.Uk=function(){},i.Qk=function(){},Ct(n,[{key:"TJ",get:function(){return!1}},{key:"Xgt",get:function(){return qT.UNAVAILABLE}}]),n}(x3);Q(),Nt(),An(),Zt(),St(),Tn();var R3=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).AG=void 0,a.wc=void 0,a.Oz=new wM,a.Pz=new wM,a.Ul=new yM,a.Vs=n,a.ici=new Gr(s,o,1,[lw.NI]),a.ici.GG(n),a.tci=new Kk(n,a.ici,i,r,e,u),a.tci.xy(a.Ds),a.Oz.TL=a.tci.ht,a.Pz.TL=a.tci.rt,a.Ul.TL=a.tci.nt,a}Et(n,t);var i=n.prototype;return i.Yk=function(){this.tci.Yk()},i.Wk=function(t){throw new A("Can't add a track while using AirPlay.")},i.CE=function(t,n){this.tci.CE(t,n)},i.Bk=function(){return this.tci.Bk()},i.Uk=function(){this.tci.Uk()},i.Qk=function(){this.tci.Qk()},i.Pk=function(){va(this.tci.Pk())},i.Rk=function(){this.tci.Rk()},i.zk=function(){return yn((function(){return pn(this,(function(t){return[2]}))}))()},i.Ya=function(){return this.wc},i.ka=function(t,n){var i=this;return yn((function(){var r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:if(ta(n),i.wc=t,Ab(t.sources))r=LM({src:""});else for(e=t.sources.filter(bb),u=0;u<e.length;u++)if(Jk(s=e[u])){r=s;break}if(!r)throw new A("Unsupported source.");return[4,i.tci.ka(r,t,n)];case 1:return o.sent(),i.DG(r),[2]}}))}))()},i.DG=function(t){this.AG!==t&&(this.AG=t,this.yo(new Wb(t)))},i.jk=function(){return this.tci.jk()},i.bE=function(){return[]},i.Ok=function(){this.ici.zG()},i.ur=function(t){Gb(this,t)},i.ar=function(){},i.Vk=function(t){return!1},i.Fk=function(){this.tci.Fk()},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.AG=void 0,t.wc=void 0,[4,t.tci.tr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.tci.ge()},i.be=function(){this.tci.be()},i.Ck=function(){return this.tci.Ck()},i._a=function(){return this.tci._a()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.Bo(),t.ici.gn(),[4,t.tci.gn()];case 1:return n.sent(),t.Oz.gn(),t.Pz.gn(),t.Ul.gn(),[2]}}))}))()},Ct(n,[{key:"ht",get:function(){return this.tci.ht}},{key:"TE",get:function(){return this.tci.TE}},{key:"bt",get:function(){return this.AG}},{key:"LE",get:function(){return this.tci.LE},set:function(t){this.CE(t)}},{key:"NE",get:function(){return this.tci.NE}},{key:"ct",get:function(){return this.tci.ct}},{key:"we",get:function(){return this.Vs}},{key:"OE",get:function(){return this.tci.OE}},{key:"lt",get:function(){return this.tci.lt}},{key:"zE",get:function(){return this.tci.zE}},{key:"UE",get:function(){return this.tci.UE}},{key:"FE",get:function(){return this.tci.FE}},{key:"xk",get:function(){return this.tci.xk}},{key:"Ek",get:function(){return this.tci.Ek}},{key:"VE",get:function(){return this.tci.VE}},{key:"WE",get:function(){return this.tci.WE},set:function(t){this.tci.WE=t}},{key:"XE",get:function(){return this.tci.XE}},{key:"KE",get:function(){return this.tci.KE}},{key:"$E",get:function(){return this.tci.$E},set:function(t){this.tci.$E=t}},{key:"rk",get:function(){return this.tci.rk}},{key:"ck",get:function(){return this.tci.ck},set:function(t){this.tci.ck=t}},{key:"fk",get:function(){return this.tci.fk}},{key:"_k",get:function(){return this.tci._k}},{key:"wk",get:function(){return this.tci.wk}},{key:"nt",get:function(){return this.tci.nt}},{key:"yk",get:function(){return this.tci.yk}},{key:"Tk",get:function(){return this.tci.Tk}},{key:"rt",get:function(){return this.tci.rt}},{key:"Nk",get:function(){return this.tci.Nk},set:function(t){this.tci.Nk=t}}]),n}(_a);tn();var B3=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new R3(i.xa.we,i.wE,i.md,i.Tnt,i.Ek,i.Ent,i.Ll);return i.eci=new O3(i,i.xa,r),i.qZ.EJ(i.eci),i.yn(Ma.Gy,(function(){i.eci.Fui()})),i}return Et(n,t),n.prototype.gn=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return n.eci.gn(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(iM);aM((function(t){return Kt.Ys.Mp?new B3(t):(t.qZ.EJ(new z3),t)}),rM.Jnt),Q(),Nt(),Q(),Nt(),Zt(),Jt();var U3="VPAID",P3=function(){function t(){this.sci=new u1}var n=t.prototype;return n.$G=function(t){return Q3(t)},n.u4t=function(n,i,r){return r.ads||(r.ads=kb({})),r.ads.vpaidMode=r.ads.vpaidMode||t.nci(),this.sci.u4t(n,i,r)},n.I9=function(n,i,r,e){!function(t){if(!Q3(t))throw new A("Unknown ad integration: "+t.integration)}(n);var u=t.rci(n,r.we);this.sci.I9(u,i,r,e)},n.fH=function(t){var n=Zg(t);if(!T(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?ce('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?ce('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?ce('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?ce('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?ce('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?ce('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.rci=function(n,i){return{integration:CT.SPOTX,sources:{src:t.hci(n,Wr.location.href,i.offsetWidth,i.offsetHeight,Wt.Sg)}}},t.hci=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=k.random()),t.aci(i)&&(a.content_page_url=i);var c=ys({},a,n.queryParameters);return c[U3]||c.VPI||(c[U3]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.uci(c)},t.aci=function(t){return no(t,"http://")||no(t,"https://")},t.uci=function(t){return Mq(t)},t.nci=function(){return Wt.zf?ib.ENABLED:ib.INSECURE},Ct(t,[{key:"a4t",get:function(){return this.sci.a4t}}]),t}();function Q3(t){return"spotx"===t.integration}jT.Ld.tW(new P3),Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Q(),Nt();var Y3=function(){function t(t){this.vci=null,this.Aci=null,this.pci=!0,this.dci=null,this.fci=null,this.lci=t,this.gci=t.createProgram()}var n=t.prototype;return n.cci=function(t,n){var i,r=this.lci;switch(n){case r.VERTEX_SHADER:i=r.createShader(n),this.dci=i;break;case r.FRAGMENT_SHADER:i=r.createShader(n),this.fci=i;break;default:return void console.error("Invalid Shader Type:",n)}r.attachShader(this.gci,i),r.shaderSource(i,t),r.compileShader(i)},n._ci=function(t){var n=this.lci;if(t)for(var i in this.vci={},t)n.bindAttribLocation(this.gci,t[i],i),this.vci[i]=t[i]},n.wci=function(){this.lci.linkProgram(this.gci)},n.mci=function(){var t=this.lci;if(this.pci){if(t.getProgramParameter(this.gci,t.LINK_STATUS)){if(!this.vci){this.vci={};for(var n=t.getProgramParameter(this.gci,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var r=t.getActiveAttrib(this.gci,i);this.vci[r.name]=t.getAttribLocation(this.gci,r.name)}}this.Aci={};for(var e=t.getProgramParameter(this.gci,t.ACTIVE_UNIFORMS),u="",s=0;s<e;s++){u=t.getActiveUniform(this.gci,s).name.replace("[0]",""),this.Aci[u]=t.getUniformLocation(this.gci,u)}}else this.dci&&!t.getShaderParameter(this.dci,t.COMPILE_STATUS)?console.error("Vertex shader compile error:",t.getShaderInfoLog(this.dci)):this.fci&&!t.getShaderParameter(this.fci,t.COMPILE_STATUS)?console.error("Fragment shader compile error:",t.getShaderInfoLog(this.fci)):console.error("Program link error:",t.getProgramInfoLog(this.gci)),t.deleteProgram(this.gci),this.gci=null;t.deleteShader(this.dci),t.deleteShader(this.fci),this.pci=!1}t.useProgram(this.gci)},t}(),G3=function(){function t(t,n,i){this.Tci=!1,this.lci=t,this.Sci=t.createTexture();var r=["uniform mat4 projectionMat;","uniform mat4 modelViewMat;","attribute vec3 position;","attribute vec2 texCoord;","varying vec2 vTexCoord;","void main() {","  vTexCoord = texCoord;","  gl_Position = projectionMat * modelViewMat * vec4( position, 1.0 );","}"].join("\n"),e=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");this.gci=new Y3(t),this.gci.cci(r,t.VERTEX_SHADER),this.gci.cci(e,t.FRAGMENT_SHADER),this.gci._ci({position:0,texCoord:1}),this.gci.wci();for(var u=[],s=[],o=[],a=40,c=0;c<=40;++c)for(var h=c*k.PI/40,f=k.sin(h),v=k.cos(h),d=0;d<=a;++d){var l=2*d*k.PI/a-k.PI,g=k.sin(l)*f,w=v,y=-k.cos(l)*f,m=d/a,A=c/40;switch(i){case"horizontal":u.push(2*g,2*w,2*y,m/2,A),s.push(2*g,2*w,2*y,m/2+.5,A);break;case"vertical":u.push(2*g,2*w,2*y,m,A/2),s.push(2*g,2*w,2*y,m,A/2+.5);break;default:u.push(2*g,2*w,2*y,m,A)}}for(var p=0;p<40;++p)for(var _=41*p,M=41*(p+1),b=0;b<a;++b){var T=_+b,N=M+b;o.push(T,N,T+1,N,N+1,T+1)}switch(this.Ici=t.createBuffer(),this.Nci=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.Ici),t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.Nci),i){case"horizontal":case"vertical":t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW)}this.Dci=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.Dci),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),t.STATIC_DRAW),this.bci=o.length,this.t=n}var n=t.prototype;return n.pr=function(t,n,i){var r=this.lci;this.yci(t,n,r,i),this.t.KE||this.t.Ow.UX(r,r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE),r.drawElements(r.TRIANGLES,this.bci,r.UNSIGNED_SHORT,0)},n.Mci=function(t){this.Tci||(t.bindTexture(t.TEXTURE_2D,this.Sci),this.t.Ow.UX(t,t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.Tci=!0)},n.yci=function(t,n,i,r){var e=this.gci;e.mci(),this.Mci(i);var u,s=e.Aci,o=e.vci;i.uniformMatrix4fv(s.projectionMat,!1,t),i.uniformMatrix4fv(s.modelViewMat,!1,n),u="right"===r?this.Nci:this.Ici,i.bindBuffer(i.ARRAY_BUFFER,u),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.Dci),i.enableVertexAttribArray(o.position),i.enableVertexAttribArray(o.texCoord),i.vertexAttribPointer(o.position,3,i.FLOAT,!1,20,0),i.vertexAttribPointer(o.texCoord,2,i.FLOAT,!1,20,12),i.activeTexture(i.TEXTURE0),i.uniform1i(s.diffuse,0),i.bindTexture(i.TEXTURE_2D,this.Sci)},t}();Q(),Nt(),St();var V3=function(t){function n(){return t.call(this,"Eci")||this}return Et(n,t),n.prototype.ma=function(){return new F3},n}(jg),F3=function(t){function n(){return t.call(this,"stereochange")||this}return Et(n,t),n}(ka);Q(),Nt(),St();var W3=function(t){function n(){return t.call(this,"kci")||this}return Et(n,t),n.prototype.ma=function(){return new Z3},n}(jg),Z3=function(t){function n(){return t.call(this,"directionchange")||this}return Et(n,t),n}(ka);Q(),Nt(),Zt(),Q(),Nt();var X3=k.PI/180,H3=180/k.PI,K3=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.tM=function(t,n){return this.x=t,this.y=n,this},n.D_t=function(t){return this.x=t.x,this.y=t.y,this},n.Lci=function(t){return this.tM(t[0],t[1])},n.xci=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.Cci=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),J3=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.tM=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.D_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.Lci=function(t){return this.tM(t[0],t[1],t[2])},n.xci=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.jci=function(){var t=this.V();if(0!==t){var n=1/t;this.Oci(n)}else this.x=0,this.y=0,this.z=0;return this},n.Oci=function(t){this.x*=t,this.y*=t,this.z*=t},n.Rci=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.Pci=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.zci=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),q3=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.tM=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.D_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.Lci=function(t){return this.tM(t[0],t[1],t[2],t[3])},n.xci=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.Pci=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.TU=function(t){return this.Bci(this,t)},n.Bci=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.Uci=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.jci(),this},n.Qci=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*k.atan2(r,s),n=k.PI/2,i=0;else if(o<-.499)t=-2*k.atan2(r,s),n=-k.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=k.atan2(2*e*s-2*r*u,1-2*c-2*h),n=k.asin(2*o),i=k.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new $3(t,i,n)},n.jci=function(){var t=k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),$3=function(){function t(t,n,i){this.Fci=t||0,this.Yci=n||0,this.Vci=i||0}var n=t.prototype;return n.tM=function(t,n,i){return this.Fci=t,this.Yci=n,this.Vci=i,this},n.D_t=function(t){return this.tM(t.Fci,t.Yci,t.Vci)},n.Kz=function(t){return this.Fci+=t.Fci,this.Yci+=t.Yci,this.Vci+=t.Vci,this},n.Gci=function(){var t=this.Fci,n=this.Vci,i=this.Yci,r=k.cos(t/2),e=k.cos(n/2),u=k.cos(i/2),s=k.sin(t/2),o=k.sin(n/2),a=k.sin(i/2),c=r*e,h=s*o;return new q3(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}(),t5=.15,n5=function(){function t(t){var n=this;this.Rt=!1,this.rli=0,this.nli=0,this.oli=0,this.ili=null,this.gli=new K3,this._li=new K3,this.lli=new K3,this.tli=!1,this.Wci=function(t){38===t.keyCode?n.uli(n.rli+t5):39===t.keyCode?n.hli(n.nli-t5):40===t.keyCode?n.uli(n.rli-t5):37===t.keyCode&&n.hli(n.nli+t5)},this.Zci=function(t){n.gli.tM(t.clientX,t.clientY),n.tli=!0,t.preventDefault()},this.Hci=function(t){t.touches&&1===t.touches.length&&(n.gli.tM(t.touches[0].pageX,t.touches[0].pageY),n.tli=!0,t.preventDefault())},this.er=function(t){if(n.tli||n.fli()){if(n.fli()){var i=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;n._li.tM(n.gli.x-i,n.gli.y-r)}else n._li.tM(t.clientX,t.clientY);n.lli.Cci(n._li,n.gli),n.gli.D_t(n._li),n.cli()}},this.Kci=function(t){n.tli&&(n._li.tM(t.touches[0].pageX,t.touches[0].pageY),n.lli.Cci(n._li,n.gli),n.gli.D_t(n._li),n.cli())},this.Xci=function(t){n.dli()},this.Jci=function(t){n.dli()},this.$ci=function(t){n.dli()},this.we=t}var n=t.prototype;return n.EQ=function(){this.Rt||(this.Rt=!0,this.we.addEventListener("keydown",this.Wci),this.we.addEventListener("mousedown",this.Zci),this.we.addEventListener("touchstart",this.Hci),f.addEventListener("mousemove",this.er),f.addEventListener("mouseup",this.Xci),this.qci(f),f.addEventListener("touchmove",this.Kci),f.addEventListener("touchend",this.Jci))},n.qci=function(t){if(ji(t));else if(xi(t))try{t.parent.addEventListener("mouseup",this.Xci),this.qci(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.$ci)}},n.kQ=function(){this.Rt&&(this.Rt=!1,this.tli=!1,this.ili&&(yD(this.ili),this.ili=null),this.we.removeEventListener("keydown",this.Wci),this.we.removeEventListener("mousedown",this.Zci),this.we.removeEventListener("touchstart",this.Hci),f.removeEventListener("mousemove",this.er),f.removeEventListener("mouseup",this.Xci),this.eli(f),f.removeEventListener("touchmove",this.Kci),f.removeEventListener("touchend",this.Jci))},n.eli=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.$ci),xi(t))try{t.parent.removeEventListener("mouseup",this.Xci),this.eli(t.parent)}catch(t){}},n.hli=function(t){this.ali("nli",t)},n.uli=function(t){t=gr(t,-k.PI/2,k.PI/2),this.ali("rli",t)},n.ali=function(t,n){var i=this;this.ili&&yD(this.ili);var r=this[t],e=uD(),u=function(){var s=uD()-e;if(s>=80)return i[t]=n,yD(i.ili),void(i.ili=null);i.ili=wD(u);var o=s/80;i[t]=r+(n-r)*o};this.ili=wD(u)},n.cli=function(){this.rli+=2*k.PI*this.lli.y/this.we.clientHeight*.3,this.nli+=2*k.PI*this.lli.x/this.we.clientWidth*.5,this.rli=gr(this.rli,-k.PI/2,k.PI/2)},n.dli=function(){this.tli=!1},n.fli=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.we},n.resetPose=function(){this.rli=0,this.nli=0},n.gn=function(){this.kQ()},Ct(t,[{key:"sli",get:function(){return new $3(this.nli,this.rli,this.oli)},set:function(t){this.nli=t.Fci,this.rli=t.Yci,this.oli=t.Vci}}]),t}();Q(),Nt();var i5=U(Zn()),r5=U(Xn()),e5=(U(Hn()),U(Kn())),u5=(U(Jn()),U(qn())),s5=U($n()),o5=U(ti()),a5=U(ni()),c5=U(ii());Jt(),Q(),Nt();var h5=["kci","xut","Eci","error"];function f5(t){var n,i={get stereo(){return t.vli},set stereo(n){t.vli=n},get useDeviceMotionControls(){return t.wli},set useDeviceMotionControls(n){t.wli=n},get direction(){return t.mli},set direction(n){t.mli=n},get verticalFOV(){return t.Ali},set verticalFOV(n){t.Ali=n},get canPresentVR(){return t.yli},get state(){return t.Xgt},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new AI(t,h5,i),i}Q(),Nt();var v5=function(t){return t.Rs="unavailable",t.bli="available",t.za="presenting",t}({});tn(),sn();var d5=U(ui()),l5=new $3(0*X3,0,0);function g5(t){return mr(t+180,360)-180}function w5(t,n){var i=t.Pci(n);return 1-i*i<1e-4}var y5=function(t){function n(n){var i,r;return i=t.call(this)||this,r=i,i.zQ=new ca,i.Tli=!1,i.ndi=new q3,i.hdi=.4,i.Xli=!1,i.idi=!1,i.Vli=!1,i.md=void 0,i.Oli=nN.NONE,i.gi=void 0,i.adi=[],i.Qli=void 0,i.Zli=!1,i.Cli=!1,i.Lli=void 0,i.Gli=void 0,i.lci=null,i.Rli=0,i.Sli=void 0,i.Fli=void 0,i.udi=(0,i5.default)(),i.cdi=(0,i5.default)(),i.Kli=0,i.Jli=0,i.ldi=!0,i.ddi=0,i.fdi=function(){i.t.fn(zA.oP,i.fdi);var t=i.Bli();t&&!t.nativeVR&&i.xli()},i.ho=function(){i.zli();var t=i.Bli();i.md=t,t&&t.panoramaMode!==iN.NONE?(t.panoramaMode===iN.PM180&&ce("PanoramaMode is set to '180' while the VR API only supports '360', consider using the WebXR API if you need to play 180 degree content."),i.Yli(!0),t.nativeVR?i.yo(new b1):(i.Oli=t.stereoMode,i.t.yn(zA.oP,i.fdi))):i.Yli(!1)},i.Ili=yn((function(){return pn(this,(function(t){switch(t.label){case 0:if(r.Xgt===v5.Rs||!r.yli)return[2];r.ldi=!1,r.gdi(),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,r.Qli.requestPresent([{source:r.Lli}])];case 2:return t.sent(),[3,5];case 3:return t.sent(),r.Ajt("Failed to present VR content.",wd.VR_PRESENTATION_ERROR),[3,5];case 4:return r.Eli(),[7];case 5:return[2]}}))})),i.Dli=yn((function(){return pn(this,(function(t){switch(t.label){case 0:if(!r.Qli)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,r.Qli.exitPresent()];case 2:return t.sent(),[3,5];case 3:return t.sent(),[3,5];case 4:return r.Eli(),[7];case 5:return[2]}}))})),i.Nli=yn((function(){return pn(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ra(l.getVRDisplays(),r.zQ.ly)];case 1:return r.adi=t.sent(),r.Qli&&Oo(r.adi,r.Qli)||r.Uli(r.adi[0]),[3,3];case 2:return t.sent(),r.adi=[],r.Uli(void 0),[3,3];case 3:return[2]}}))})),i.Eli=function(){i.Wli(!!i.Qli&&i.Qli.isPresenting),i.dp(),i.ldi=!i.Zli,i.ldi?wD(i.$li):i.gdi()},i.dp=function(){if(i.Lli){var t=i.t.we.offsetWidth,n=i.t.we.offsetHeight,r=i.Qli;if(r&&i.vli){var e=r.getEyeParameters("left"),u=r.getEyeParameters("right");e&&u&&(i.Kli=2*k.max(e.renderWidth,u.renderWidth),i.Jli=k.max(e.renderHeight,u.renderHeight))}else{var s=Kt.Ys.bp;i.Kli=t*s,i.Jli=n*s}}},i.$li=function(){if(Wt.Ka&&i.Lli&&i.ldi){i.gdi();var t=i.Lli,n=t.offsetWidth+1,r=t.offsetHeight;t.style.width=n+"px",t.style.height=r+"px",i.ddi=wD(i.gdi)}},i.gdi=function(){if(i.ddi){var t=i.Lli;t.style.width="100%",t.style.height="100%",yD(i.ddi),i.ddi=0}},i.Pli=function(){var t=i.Qli,n=i.hdi,r=i.Lli,e=i.Gli,u=i.lci,s=i.Sli,o=i.udi,a=i.cdi;i.qli(),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),t&&i.useDeviceOrientation()&&(t.getFrameData(s),i.Fli=s.pose);var c=i.sli.Gci();i.tdi(a,c),t&&t.isPresenting?(i.Rli=t.requestAnimationFrame(i.Pli),u.viewport(0,0,.5*r.width,r.height),e.pr(s.leftProjectionMatrix,a,"left"),u.viewport(.5*r.width,0,.5*r.width,r.height),e.pr(s.rightProjectionMatrix,a,"right"),t.submitFrame()):(i.Rli=wD(i.Pli),(0,o5.default)(o,k.PI*n,r.width/r.height,.1,1024),i.vli?(u.viewport(0,0,.5*r.width,r.height),e.pr(o,a,"left"),u.viewport(.5*r.width,0,.5*r.width,r.height),e.pr(o,a,"right")):(u.viewport(0,0,r.width,r.height),e.pr(o,a))),w5(c,i.ndi)||(i.ndi.D_t(c),i.sdi())},i.t=n,i.sli=l5,i.ga=f5(i),i.t.yn(Ma.ro,i.ho),i.ho(),i}Et(n,t);var i=n.prototype;return i.Mli=function(){this.Tli||((0,d5.installWebVRPolyfill)(),l.getVRDisplays?(this.Sli=new VRFrameData,this.Nli(),f.addEventListener("vrdisplayconnect",this.Nli,!1),f.addEventListener("vrdisplaydisconnect",this.Nli,!1),f.addEventListener("vrdisplayactivate",this.Ili,!1),f.addEventListener("vrdisplaydeactivate",this.Dli,!1),f.addEventListener("vrdisplaypresentchange",this.Eli,!1)):l.getVRDevices?this.Ajt("Your browser supports WebVR but not the latest version.",wd.VR_PLATFORM_UNSUPPORTED):this.Ajt("Your browser does not support WebVR.",wd.VR_PLATFORM_UNSUPPORTED),this.Tli=!0)},i.kli=function(){var t={alpha:!1,antialias:!1,preserveDrawingBuffer:!0};if(!this.Lli){var n=v.createElement("canvas");n.className="theoplayer-vr",Si(n),n.style.zIndex="2",this.t.we.appendChild(n),this.Lli=n}this.lci=this.Lli.getContext("webgl",t),this.lci||(this.lci=this.Lli.getContext("experimental-webgl",t),this.lci)?(this.lci.enable(this.lci.DEPTH_TEST),this.lci.enable(this.lci.CULL_FACE)):this.Ajt("Your browser does not support WebGL.",wd.VR_PLATFORM_UNSUPPORTED)},i.xli=function(){var t=this.mli;this.Cli||(this.kli(),this.Cli=!0),this.lci&&(this.jli(new G3(this.lci,this.t,this.Oli)),this.Lli.style.display="",this.gi||(this.gi=new n5(this.Lli)),this.gi.EQ(),this.t.wa.yn(hT.aa,this.dp),this.t.yn(_D.pn,this.dp),this.mli=t,this.dp(),this.Rli=wD(this.Pli))},i.zli=function(){var t=this.mli;this.jli(void 0),this.gi&&this.gi.kQ(),this.Lli&&(this.Lli.style.display="none"),this.t.wa.fn(hT.aa,this.dp),this.t.fn(_D.pn,this.dp),this.Rli&&yD(this.Rli),this.mli=t},i.Bli=function(){var t;return null==(t=this.t.Ya())?void 0:t.vr},i.Uli=function(t){var n=this.Xgt,i=this.vli;this.Qli&&(this.Fli=void 0,this.Dli()),this.Qli=t,this.Qli&&(this.Qli.depthNear=.1,this.Qli.depthFar=1024),this.vli=i,this.Xgt!==n&&this.yo(new b1),this.vli!==i&&this.yo(new V3)},i.Yli=function(t){var n=this.Xgt;this.Vli=t,t&&this.Mli(),this.Xgt!==n&&this.yo(new b1)},i.jli=function(t){var n=this.Xgt;this.Gli=t,this.Xgt!==n&&this.yo(new b1)},i.Wli=function(t){var n=this.Xgt,i=this.vli;this.Zli=t,this.gi&&(t?this.gi.kQ():this.gi.EQ()),this.Xgt!==n&&this.yo(new b1),this.vli!==i&&this.yo(new V3)},i.Hli=function(t){var n=this.vli;this.Xli=t,this.vli!==n&&this.yo(new V3)},i.qli=function(){var t=this.Lli;this.Kli===t.width&&this.Jli===t.height||(t.width=this.Kli,t.height=this.Jli,this.$li())},i.tdi=function(t,n){(0,r5.default)(t,n.xci()),(0,u5.default)(t,t)},i.useDeviceOrientation=function(){return!!this.Zli||this.idi},i.edi=function(){var t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().catch(qt)},i.Ajt=function(t,n){he(t),this.yo(new zk(new md(n,t)))},i.sdi=function(){this.yo(new W3)},i.gn=function(){this.zQ.Ty(),this.Bo(),this.zli(),this.Dli(),this.t.fn(Ma.ro,this.ho),f.removeEventListener("vrdisplayconnect",this.Nli,!1),f.removeEventListener("vrdisplaydisconnect",this.Nli,!1),f.removeEventListener("vrdisplayactivate",this.Ili,!1),f.removeEventListener("vrdisplaydeactivate",this.Dli,!1),f.removeEventListener("vrdisplaypresentchange",this.Eli,!1),this.t=void 0},Ct(n,[{key:"vli",get:function(){return this.yli?this.Zli:this.Xli},set:function(t){this.yli?t?this.Ili():this.Dli():this.Hli(t)}},{key:"wli",get:function(){return this.idi},set:function(t){this.vli||(this.idi=t,t&&Wt.Ka&&this.edi())}},{key:"mli",get:function(){var t=this.sli;return{yaw:g5(t.Fci*H3),pitch:t.Yci*H3,roll:k.round(t.Vci*H3)}},set:function(t){var n=g5(t&&+t.yaw||0),i=g5(t&&+t.pitch||0),r=g5(t&&+t.roll||0);this.sli=new $3(n*X3,i*X3,r*X3)}},{key:"sli",get:function(){if(this.Xgt===v5.Rs)return this.ndi.Qci();var t=this.rdi,n=this.odi,i=new $3;return t&&i.Kz(t),n&&i.Kz(n),i},set:function(t){var n=this.sli.Gci();if(this.Xgt===v5.Rs)this.ndi=t.Gci();else{var i=this.Qli;i&&i.resetPose&&i.resetPose(),this.gi&&(this.gi.sli=t),this.ndi=this.sli.Gci()}w5(n,this.ndi)||this.sdi()}},{key:"rdi",get:function(){var t=this.Fli&&this.Fli.orientation;if(t)return(new q3).Lci(t).Qci()}},{key:"odi",get:function(){return this.gi&&this.gi.sli}},{key:"Ali",get:function(){return 180*this.hdi},set:function(t){t&&t>=0&&t<=180&&(this.hdi=+t/180)}},{key:"yli",get:function(){return!(!this.Qli||!this.Qli.capabilities.canPresent)}},{key:"Xgt",get:function(){var t;return this.Vli&&((null==(t=this.Bli())?void 0:t.nativeVR)||this.Gli)?this.Zli?v5.za:v5.bli:v5.Rs}}]),n}(Aa);Q(),Nt(),St(),sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this)._di=null,i.vr.useWebXR||(r._di=new y5(r)),r}Et(n,t);var i=n.prototype;return i.ma=function(){if(null!==this._di){var n=this._di.ga;return Wg(t.prototype.ma.call(this),{vr:n})}return t.prototype.ma.call(this)},i.gn=function(){var n;null==(n=this._di)||n.gn(),t.prototype.gn.call(this)},n}(t)}),rM.nu),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var m5=function(){function t(t,n){var i=this;this.He=!1,this.Adi=new K3,this.ydi=new K3,this.pdi=new K3,this.vdi=!1,this.Zci=function(t){i.Adi.tM(t.clientX,t.clientY),i.vdi=!0,t.preventDefault(),t.stopPropagation()},this.Hci=function(t){t.touches&&1===t.touches.length&&(i.Adi.tM(t.touches[0].pageX,t.touches[0].pageY),i.vdi=!0,t.preventDefault())},this.er=function(t){if(i.vdi||i.fli()){if(i.fli()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.ydi.tM(i.Adi.x-n,i.Adi.y-r)}else i.ydi.tM(t.clientX,t.clientY);i.pdi.Cci(i.ydi,i.Adi),i.Adi.D_t(i.ydi),i.cli()}},this.Kci=function(t){i.vdi&&(i.ydi.tM(t.touches[0].pageX,t.touches[0].pageY),i.pdi.Cci(i.ydi,i.Adi),i.Adi.D_t(i.ydi),i.cli())},this.Xci=function(){i.dli()},this.Jci=function(){i.dli()},this.$ci=function(){i.dli()},this.mdi=t,this.Vs=n}var n=t.prototype;return n.EQ=function(){this.He||(this.He=!0,this.Vs.addEventListener("mousedown",this.Zci),this.Vs.addEventListener("touchstart",this.Hci),f.addEventListener("mousemove",this.er),f.addEventListener("touchmove",this.Kci),f.addEventListener("mouseup",this.Xci),f.addEventListener("touchend",this.Jci),this.qci(f))},n.kQ=function(){this.He&&(this.He=!1,this.Vs.removeEventListener("mousedown",this.Zci),this.Vs.removeEventListener("touchstart",this.Hci),f.removeEventListener("mousemove",this.er),f.removeEventListener("touchmove",this.Kci),f.removeEventListener("mouseup",this.Xci),f.removeEventListener("touchend",this.Jci),this.eli(f))},n.qci=function(t){if(ji(t));else if(xi(t))try{t.parent.addEventListener("mouseup",this.Xci),this.qci(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.$ci)}},n.eli=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.$ci),xi(t))try{t.parent.removeEventListener("mouseup",this.Xci),this.eli(t.parent)}catch(t){}},n.dli=function(){this.vdi=!1},n.cli=function(){var t=this.mdi.wdi;t.yaw+=2*k.PI*this.pdi.x*.4/this.Vs.clientWidth,t.pitch+=2*k.PI*this.pdi.y*.5/this.Vs.clientHeight,t.pitch=gr(t.pitch,-k.PI/2,k.PI/2),this.mdi.wdi=t},n.fli=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Vs},n.gn=function(){this.kQ()},t}();Q(),Nt(),gn();var A5=function(){function t(){this.s$=[0,0,0,1],this.Tdi=[]}var n=t.prototype;return n.bdi=function(t){var n;(n=t).clearColor.apply(n,ln(this.s$)),t.clear(t.COLOR_BUFFER_BIT)},n.Mdi=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Tdi.forEach((function(i){i.Mdi(t,n)}))},n.Sdi=function(t){this.Tdi.push(t)},n.Ndi=function(){this.Tdi=[]},t}();Q(),Nt(),St(),Q(),Nt(),gn(),Q(),Nt(),St();var p5=function(){function t(t,n,i,r,e){this.Ddi=t,this.cM=this.Idi(t,n,i),this.Edi=r,this.Zp=e,this.kdi=!1,this.Ldi=0,this.ic=0}return t.prototype.Idi=function(t,n,i){var r=t.createBuffer();return null===r?(ce("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),_5=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}Et(n,t);var i=n.prototype;return i.EQ=function(t){if(null!==this.cM)if(null!==t){var n=this.Ddi;n.bindBuffer(n.ARRAY_BUFFER,this.cM),n.vertexAttribPointer(t,this.Edi,this.Zp,this.kdi,this.Ldi,this.ic),n.enableVertexAttribArray(t)}else ce("Attempted to enable attribute without location.");else ce("Attempted to enable buffer that failed to initialize.")},i.kQ=function(t){t&&this.Ddi.disableVertexAttribArray(t)},n}(p5);var k5=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).Cdi=i.length,r}return Et(n,t),n.prototype.xdi=function(){var t=this.Ddi;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.cM),t.drawElements(t.TRIANGLES,this.Cdi,this.Zp,this.ic)},n}(p5);Q(),Nt();var M5=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),b5=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),T5=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),N5=function(){function t(t,n,i){this.Ddi=t,this.Pdi=this.jdi(this.Ddi,n,i)}var n=t.prototype;return n.jdi=function(t,n,i){var r=this.Odi(t,t.VERTEX_SHADER,n),e=this.Odi(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return ce("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(ce("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(ce("Failed to initialize shader program"),null))},n.Odi=function(t,n,i){var r=t.createShader(n);if(null===r)return ce("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return ce("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.Rdi=function(){return this.Pdi},n.zdi=function(t){var n=this.Pdi;if(null===n)return ce("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.Ddi.getAttribLocation(n,t);return-1===i?null:i},n.Bdi=function(t){var n=this.Pdi;if(null===n)return ce("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.Ddi.getUniformLocation(n,t);return null===i&&he("Attempted to retrieve nonexistent uniform: "+t),i},t}(),D5=function(){function t(t,n,i){this.Qdi=t,this.Fdi=n,this.Ydi=i}var n=t.prototype;return n.Udi=function(){var t,n=this.Qdi.length,i=(t=k).max.apply(t,ln(this.Fdi));return i>=n?(he("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&ce("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.Ydi||this.Ydi.length===n||(he("Created geometry where position ("+n+") and uv ("+this.Ydi.length+") buffers have different length."),!1))},n.Vdi=function(t,n){if(!this.Udi())throw new A("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new _5(t,new Float32Array(i),3)}(t,this.Qdi),r=function(t,n){return new k5(t,new Uint16Array(n))}(t,this.Fdi),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new _5(t,new Float32Array(i),2)}(t,this.Ydi);return new I5(i,r,e,n)},t}(),I5=function(){function t(t,n,i,r){this.Qdi=t;var e=r.zdi(M5.VertexPos);if(null===e)throw new A("Failed to get position attribute location.");this.Wdi=e,this.Ydi=i,this.Zdi=r.zdi(M5.VertexUV),this.Fdi=n}var n=t.prototype;return n.Gdi=function(){this.Qdi.EQ(this.Wdi),null!==this.Zdi&&this.Ydi.EQ(this.Zdi)},n.Hdi=function(){this.Qdi.kQ(this.Wdi),null!==this.Zdi&&this.Ydi.kQ(this.Zdi)},n.Mdi=function(){this.Fdi.xdi()},t}(),E5=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*k.PI),void 0===s&&(s=0),void 0===o&&(o=k.PI);for(var a=0,c=k.min(s+o,k.PI),h=[],f=[],v=[],d=[],l=0;l<=r;l++){var g=[],w=l/r,y=0;0===l&&0===s?y=.5/i:l===r&&c===k.PI&&(y=-.5/i);for(var m=0;m<=i;m++){var A=m/i,p=-n*k.cos(e+A*u)*k.sin(s+w*o),_=n*k.cos(s+w*o),M=n*k.sin(e+A*u)*k.sin(s+w*o);f.push(new J3(p,_,M)),v.push(new K3(A+y,1-w)),g.push(a++)}d.push(g)}for(var b=0;b<r;b++)for(var T=0;T<i;T++){var N=d[b][T+1],D=d[b][T],I=d[b+1][T],E=d[b+1][T+1];(0!==b||s>0)&&h.push(N,D,E),(b!==r-1||c<k.PI)&&h.push(D,I,E)}return t.call(this,f,h,v)||this}return Et(n,t),n}(D5);Q(),Nt(),Q(),Nt();var S5=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],L5=function(){function t(t,n){if(this.Ddi=t,this.Kdi=t.createTexture(),null===this.Kdi)throw new A("Failed to create texture");var i=n.Bdi(b5.Texture);if(null===i)throw new A("Failed to get texture location.");this.Jdi=i,t.bindTexture(t.TEXTURE_2D,this.Kdi),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.qdi=t.TEXTURE0,this.u4=0,this.tfi=t.RGBA,this.ifi=t.RGBA,this.efi=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.u4,this.tfi,2,2,0,this.ifi,this.efi,new N(S5))}var n=t.prototype;return n.Xdi=function(){var t=this.Ddi;t.activeTexture(this.qdi),t.bindTexture(t.TEXTURE_2D,this.Kdi)},n.ur=function(){var t=this.Ddi;t.activeTexture(this.qdi),t.bindTexture(t.TEXTURE_2D,this.Kdi),t.uniform1i(this.Jdi,0)},n.$di=function(t){var n=this.Ddi;n.bindTexture(n.TEXTURE_2D,this.Kdi),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.u4,this.tfi,this.ifi,this.efi,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.sfi=function(t){var n=this.Ddi;n.bindTexture(n.TEXTURE_2D,this.Kdi),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.Ow.UX(n,n.TEXTURE_2D,this.u4,this.tfi,this.ifi,this.efi),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),C5="\n    attribute vec4 "+M5.VertexPos+";\n    attribute vec2 "+M5.VertexUV+";\n\n    uniform mat4 "+b5.ModelViewMat+";\n    uniform mat4 "+b5.ProjectionMat+";\n    \n    varying mediump vec2 "+T5.UV+";\n    \n    void main() {\n      gl_Position = "+b5.ProjectionMat+" * "+b5.ModelViewMat+" * "+M5.VertexPos+";\n      "+T5.UV+" = "+M5.VertexUV+";\n    }\n",j5="\n    varying mediump vec2 "+T5.UV+";\n    \n    uniform sampler2D "+b5.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+b5.Texture+", "+T5.UV+");\n    }\n",x5=function(){function t(t){this.Ddi=t,this.Pdi=new N5(t,C5,j5),this.Kdi=new L5(t,this.Pdi)}var n=t.prototype;return n.Rdi=function(){return this.Pdi},n.EQ=function(){this.Ddi.useProgram(this.Pdi.Rdi()),this.Kdi.ur()},n.nfi=function(t){this.Kdi.$di(t)},n.rfi=function(t){this.Kdi.sfi(t)},t}();Q(),Nt(),Zt();var O5=function(){function t(t,n,i,r){this.uo=new J3,this._fi=new J3,this.hfi="none",this.ufi=i;var e=i.Rdi();this.afi=n.Vdi(t,e),r&&(this.hfi=r);var u=e.Bdi(b5.ModelViewMat);if(null===u)throw new A("Failed to get model view matrix location.");this.dfi=u;var s=e.Bdi(b5.ProjectionMat);if(null===s)throw new A("Failed to get projection matrix location.");this.gfi=s}var n=t.prototype;return n.Mdi=function(t,n){if(this.ofi(n.hfi)){this.afi.Gdi(),this.ufi.EQ();var i=this.cfi,r=n.lfi,e=(0,s5.default)(r,r,i);t.uniformMatrix4fv(this.dfi,!1,e);var u=n.ffi;t.uniformMatrix4fv(this.gfi,!1,u),this.afi.Mdi(),this.afi.Hdi()}},n.ofi=function(t){return"none"===this.hfi||"right"!==t&&"left"===this.hfi||"right"===t&&"right"===this.hfi},Ct(t,[{key:"cfi",get:function(){var t=(0,i5.default)(),n=this.uo;return(0,c5.default)(t,t,n.xci()),(0,a5.default)(t,t,this._fi.x,new Float32Array([1,0,0])),(0,a5.default)(t,t,this._fi.y,new Float32Array([0,1,0])),(0,a5.default)(t,t,this._fi.z,new Float32Array([0,0,1])),t}}]),t}();Q(),Nt(),Zt();var z5=function(){function t(t){this.wfi=72*k.PI/180,this.mfi=1.77,this.pfi=.1,this.Afi=100,this.hfi="none",this.Tfi=new J3,this.Sfi=new q3,this.bfi=this.vfi(),this.Ifi=this.Mfi(),t&&(this.hfi=t)}var n=t.prototype;return n.vfi=function(){var t=(0,i5.default)();return(0,o5.default)(t,this.wfi,this.mfi,this.pfi,this.Afi)},n.yfi=function(){this.bfi=this.vfi()},n.Mfi=function(){var t=(0,i5.default)(),n=(0,e5.default)((0,i5.default)(),this.Tfi.xci()),i=(0,r5.default)((0,i5.default)(),this.Sfi.xci());return(0,s5.default)(t,n,i),(0,u5.default)(t,t),t},n.Nfi=function(){this.Ifi=this.Mfi()},n.Dfi=function(){this.Nfi(),this.yfi()},n.tr=function(){this.Tfi=new J3,this._fi=new q3,this.Dfi()},n.Efi=function(t){var n=this.Sfi.Qci();n.Kz(t),this._fi=n.Gci()},n.kfi=function(t){this._fi=t.Gci()},Ct(t,[{key:"ffi",get:function(){return new Float32Array(this.bfi)},set:function(t){this.bfi=t}},{key:"lfi",get:function(){return new Float32Array(this.Ifi)}},{key:"Lfi",get:function(){return this.wfi},set:function(t){this.wfi=t,this.yfi()}},{key:"xfi",get:function(){return this.mfi},set:function(t){this.mfi=t,this.yfi()}},{key:"uo",get:function(){return(new J3).D_t(this.Tfi)},set:function(t){this.Tfi=t,this.Nfi()}},{key:"_fi",get:function(){return(new q3).D_t(this.Sfi)},set:function(t){this.Sfi=t,this.Nfi()}}]),t}();tn(),Jt();var R5=1e-4,B5=function(t){function n(n){var i;return(i=t.call(this)||this).zQ=new ca,i.Rfi=!1,i.Sgi=!1,i.Igi=new q3,i.Egi=new q3,i.Dgi=new q3,i.wfi=74,i.mgi=!1,i.KS=void 0,i.Yfi=nN.NONE,i.Mgi=!1,i.Tgi=iN.NONE,i.Zfi=new A5,i.igi=null,i.wgi=null,i.egi=null,i.ogi=null,i.agi=!1,i.ugi=null,i._gi=null,i.ggi=null,i.ygi=0,i.pgi=!1,i.jfi=function(){i.Ofi()},i.ho=function(){i.zli(),i.Kfi(),i.Pfi()},i.Xfi=function(){i.tgi()},i.$fi=function(){i.rgi&&(ae("Ending immersive session"),i.qfi(),i.rgi.removeEventListener("end",i.$fi),i.rgi.end(),i.rgi=null,i.ogi=null,i.agi=!1,i.igi?i.sgi():i.tgi())},i.mn=function(){i.zfi()},i.dgi=function(t,n){if(i.Ddi){var r=i.Ddi,e=i.lgi;if(null===i.ggi&&i.Agi()&&(i.Hfi.rfi(i.ta),i.ygi>0&&(i.ygi-=1)),null!==e&&void 0!==n){i.ugi=e.requestAnimationFrame(i.dgi);var u=e.renderState.baseLayer,s=n.getViewerPose(i.Ngi);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new $3,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new z5(f.eye);if(v.ffi=f.projectionMatrix,i.vgi()){var d=void 0;if(Wt.Qs&&Wt.vf&&null===i.wgi){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v._fi=new q3(d.x,d.y,d.z,d.w)}i.igi&&v.Efi(i.Dgi.Qci()),o=o.Kz(v._fi.Qci()),a+=1;var l=u.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),i.Zfi.Mdi(r,v)}var g=new $3(o.Fci/a,o.Yci/a,o.Vci);i.Igi=g.Gci(),function(t,n){var i=t.Pci(n);return 1-i*i<R5}(i.Igi,i.Egi)||(i.Egi.D_t(i.Igi),i.yo(new W3))}else ce("Attempted to run webXR animation loop without glLayer or viewerPose.")}else ce("Attempted to run webXR animation loop without session or xrFrame.")}},i.sZ=function(){i.ygi=5},i.ta=n,i.ga=f5(i),i.fo(),i}Et(n,t);var i=n.prototype;return i.fo=function(){var t=this;this.Cfi(),this.Ddi?l.xr?(l.xr.addEventListener("devicechange",this.jfi),this.Ofi().then((function(){t.Rfi?(t.Pfi(),t.zfi(),t.Bfi()):t.Ajt("XR: Inline session not available. Panorama functionality will not work.",wd.VR_PRESENTATION_ERROR)}))):this.Ajt("Your browser does not support WebXR",wd.VR_PLATFORM_UNSUPPORTED):this.Ajt("Your browser does not support webGL",wd.VR_PLATFORM_UNSUPPORTED)},i.Bfi=function(){this.ta.wa.yn(hT.aa,this.mn),this.ta.yn(_D.pn,this.mn),this.ta.yn(Ma.ro,this.ho),this.ta.yn(Ma.bb,this.sZ)},i.Cfi=function(){this.Ufi=v.createElement("canvas"),this.Ufi.className="theoplayer-vr",this.Ufi.style.zIndex="2",this.Ufi.style.background="black",this.Ufi.style.display="none",this.ta.we.appendChild(this.Ufi),Si(this.Ufi);var t=this.Ufi.getContext("webgl2");t||(t=this.Ufi.getContext("webgl")),t&&(this.Ddi=t,this.Qfi=new m5(this,this.Ufi))},i.Ofi=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return l.xr?[4,st.all([l.xr.isSessionSupported("inline").then((function(n){t.Rfi=n})).catch((function(n){t.Rfi=!1,t.Ajt("exception when calling xr.isSessionSupported for inline session: "+n,wd.VR_PRESENTATION_ERROR)})),l.xr.isSessionSupported("immersive-vr").then((function(n){t.Ffi=n})).catch((function(n){t.Ffi=!1,t.Ajt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,wd.VR_PRESENTATION_ERROR)}))])]:[3,2];case 1:return n.sent(),[3,3];case 2:t.Rfi=!1,t.Ffi=!1,n.label=3;case 3:return[2]}}))}))()},i.Pfi=function(){var t=this.Bli();this.KS=t,this.Vli=Boolean(t),this.Vli&&(this.Yfi=(null==t?void 0:t.stereoMode)||nN.NONE,this.Vfi=(null==t?void 0:t.panoramaMode)||iN.NONE,this.Gfi&&(this.Wfi(this.Vfi,this.Yfi),this.xli()))},i.Wfi=function(t,n){if(this.Ddi&&t!==iN.NONE){var i,r,e=this.Ddi;this.Zfi.Ndi(),t===iN.PM360?(i=2*k.PI,r=-k.PI/2):(i=k.PI,r=-k.PI);for(var u=new E5(16,60,40,0,i),s=[],o=[],a=0;a<u.Ydi.length;a++){var c=u.Ydi[a];switch(n){case nN.NONE:s.push(c),o.push(c);break;case nN.VERTICAL:s.push(new K3(c.x,.5*c.y)),o.push(new K3(c.x,.5*c.y+.5));break;case nN.HORIZONTAL:s.push(new K3(.5*c.x,c.y)),o.push(new K3(.5*c.x+.5,c.y))}}u.Qdi.forEach((function(t){t.x*=-1}));var h=new D5(u.Qdi,u.Fdi,s),f=new D5(u.Qdi,u.Fdi,o);this.Hfi=new x5(e);var v=new O5(e,h,this.Hfi,"left");v._fi.y=r,this.Zfi.Sdi(v);var d=new O5(e,f,this.Hfi,"right");d._fi.y=r,this.Zfi.Sdi(d)}},i.xli=function(){this.Ufi.style.display="block",this.Rfi&&this.ta.yn(Ma.so,this.Xfi)},i.zli=function(){this.qfi(),this.ta.fn(Ma.so,this.Xfi),this.Ufi.style.display="none"},i.Kfi=function(){this.Jfi(),this.$fi()},i.tgi=function(){var t=this;return yn((function(){var n,i,r,e;return pn(this,(function(u){switch(u.label){case 0:if(t.igi||!t.Rfi)return[2];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,ra(l.xr.requestSession("inline"),t.zQ.ly)];case 2:return n=u.sent(),i=Wt.Qs?Wt.vf?"viewer":"local":"viewer",[4,n.requestReferenceSpace(i)];case 3:return r=u.sent(),n.addEventListener("end",t.Jfi),t.egi=r,t.igi=n,t.Qfi.EQ(),t.sgi(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,t.Ddi),inlineVerticalFieldOfView:t.wfi*X3})];case 4:return u.sent(),[3,6];case 5:return e=u.sent(),t.Jfi(),t.Ajt(e,wd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Jfi=function(){this.igi&&(this.qfi(),this.Qfi.kQ(),this.igi.removeEventListener("end",this.$fi),this.igi.end(),this.igi=null,this.zfi())},i.ngi=function(){var t=this;return yn((function(){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:if(t.rgi||!t.Ffi)return[2];t.qfi(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,ra(l.xr.requestSession("immersive-vr"),t.zQ.ly)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.$fi),t.ogi=i,t.rgi=n,[4,t.hgi()];case 4:return e.sent(),t.sgi(),[3,6];case 5:return r=e.sent(),t.$fi(),t.Ajt(r,wd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.hgi=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return n=t.Ddi,i=t.rgi,t.Ufi&&n&&i&&!t.agi?(t.Ufi.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.Ufi.addEventListener("webglcontextrestored",(function(){t.Wfi(t.Vfi,t.Yfi)})),t.agi=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.zfi=function(){if(!this.rgi&&this.Ddi){var t=this.Ddi,n=this.Ufi.clientWidth,i=this.Ufi.clientHeight,r=Kt.Ys.bp;this.Ufi.width=n*r,this.Ufi.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.sgi=function(){null===this.ugi&&(this.cgi(),this.lgi?this.ugi=this.lgi.requestAnimationFrame(this.dgi):(this.fgi(),ce("XR: Attempted to start animation loop without inline or immersive session.")))},i.qfi=function(){null!==this.ugi&&(this.fgi(),this.lgi?this.lgi.cancelAnimationFrame(this.ugi):ce("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.ugi=null)},i.cgi=function(){var t=this;if(null===this.ggi){var n=this.ta.jk();if(void 0!==n&&n instanceof HTMLVideoElement){if("function"==typeof n.requestVideoFrameCallback){var i=function(){t.Hfi.rfi(t.ta),t.ggi=n.requestVideoFrameCallback(i)};this._gi=n,this.ggi=n.requestVideoFrameCallback(i)}}else ce("No video source.")}},i.fgi=function(){var t,n;null!==this.ggi&&(null==(n=this._gi)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.ggi),this._gi=null,this.ggi=null)},i.vgi=function(){return!!this.wgi||(Wt.Ka?this.mgi&&this.pgi:this.mgi)},i.edi=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.pgi="granted"===n}))},i.Agi=function(){return(!this.KE()||Boolean(this.ygi))&&this.bgi()},i.KE=function(){return this.ta.KE},i.bgi=function(){return this.ta.fk>=2},i.Ajt=function(t,n){he(t),this.yo(new zk(new md(n,t)))},i.Bli=function(){var t=this.ta.Ya();return t&&t.vr},i.gn=function(){this.zQ.Ty(),this.Kfi(),this.Bo(),this.ta=void 0,this.Ddi=void 0},Ct(n,[{key:"Vli",get:function(){return this.Mgi},set:function(t){var n=this.Xgt;this.Mgi=t,this.Xgt!==n&&this.yo(new b1)}},{key:"Gfi",get:function(){return this.Vfi!==iN.NONE}},{key:"Vfi",get:function(){return this.Tgi},set:function(t){var n=this.Xgt;this.Tgi=t,this.Xgt!==n&&this.yo(new b1)}},{key:"Ffi",get:function(){return this.Sgi},set:function(t){var n=this.Xgt;this.Sgi=t,this.Xgt!==n&&this.yo(new b1)}},{key:"yli",get:function(){return this.Ffi}},{key:"lgi",get:function(){return this.rgi||this.igi}},{key:"rgi",get:function(){return this.wgi},set:function(t){var n=this.Xgt;this.wgi=t,this.Xgt!==n&&this.yo(new b1)}},{key:"Ngi",get:function(){return this.ogi||this.egi}},{key:"mli",get:function(){var t=this.Igi.Qci();return{yaw:t.Fci*H3,pitch:t.Yci*H3,roll:t.Vci*H3}},set:function(t){var n=U5(t&&t.pitch||0)*X3,i=U5(t&&t.roll||0)*X3,r=U5(t&&t.yaw||0)*X3,e=new $3(r,n,i);this.Igi=e.Gci()}},{key:"wdi",get:function(){var t=this.Dgi.Qci();return{yaw:t.Fci,pitch:t.Yci,roll:t.Vci}},set:function(t){var n=P5(t&&t.pitch||0),i=P5(t&&t.roll||0),r=P5(t&&t.yaw||0),e=new $3(r,n,i);this.Dgi=e.Gci()}},{key:"Xgt",get:function(){return this.Vli?this.rgi?v5.za:v5.bli:v5.Rs}},{key:"vli",get:function(){return null!==this.rgi},set:function(t){var n=this.vli;t&&this.Ffi?this.ngi():this.$fi(),this.vli!==n&&this.yo(new V3)}},{key:"wli",get:function(){return this.mgi},set:function(t){null===this.wgi&&(this.mgi=t,t&&Wt.Ka&&this.edi())}},{key:"Ali",get:function(){return this.wfi},set:function(t){t&&t>=0&&t<=180&&(this.wfi=t,null!==this.igi&&this.igi.updateRenderState({inlineVerticalFieldOfView:this.wfi*X3}))}}]),n}(Aa);function U5(t){return mr(t+180,360)-180}function P5(t){return mr(t+k.PI,2*k.PI)-k.PI}function Q5(t,n){return"function"==typeof t.getAll?Y5(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new sh,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.sM(i),ot()},t.onerror=function(){n.nM(t.error),ot()},n.rM}(void 0===n?t.openCursor():t.openCursor(n))}function Y5(t){return new st((function(n,i){t.onsuccess=function(){n(t.result),ot()},t.onerror=function(){i(t.error),ot()}}))}sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).mdi=null,i.vr.useWebXR&&(r.mdi=new B5(r)),r}Et(n,t);var i=n.prototype;return i.ma=function(){return null!==this.mdi?Wg(t.prototype.ma.call(this),{vr:this.mdi.ga}):t.prototype.ma.call(this)},i.gn=function(){var n;null==(n=this.mdi)||n.gn(),t.prototype.gn.call(this)},n}(t)}),rM.nu),Q(),Nt(),Q(),Nt(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),An(),Sn(),Tn(),Tt();var G5=function(){function t(t){var n=this;this.Vot=t,this.Yh=!0,this.rM=new st((function(t,i){n.Vot.oncomplete=function(){n.Yh=!1,t(),ot()},n.Vot.onerror=function(){n.Yh&&(n.Yh=!1,i(n.Vot.error||new A("Transaction error")),ot())},n.Vot.onabort=function(){n.Yh=!1,i(new A("Transaction aborted")),ot()}}))}return t.prototype.Ty=function(){if(this.Yh)try{this.Vot.abort(),this.Yh=!1}catch(t){}},t}();function V5(t,n,i){return F5.apply(this,arguments)}function F5(){return F5=yn((function(t,n,i){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:r=new G5(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,st.all([n(i),r.rM])];case 2:return e=En.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.Yh)throw new B1("IDBTransaction committed prematurely",u);throw u;case 4:return r.Ty(),[7];case 5:return[2]}}))})),F5.apply(this,arguments)}var W5=function(){function t(t,n){this.lD=t,this.Cgi=n}var n=t.prototype;return n.xot=function(t){return st.resolve("persistent"===t)},n.Cot=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?st.reject(PO(n)):Y5(this.xgi(QO.Jot).put(t))},n.jot=function(t,n){void 0===n&&(n="persistent");var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,st.reject(PO(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.Cot(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.Jb=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.$b(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.$b=function(t){return Y5(this.xgi(QO.Kot).get(t))},n.Oot=function(t,n){return Y5(this.xgi(QO.Kot).index(n).get(t))},n.Sot=function(t){var n=this;return yn((function(){var i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.$b(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Rot=function(){return Q5(this.xgi(QO.Kot))},n.Pot=function(t){return Q5(this.xgi(QO.Kot),t)},n.zot=function(t,n){return Q5(this.xgi(QO.Kot).index(n),t)},n.wS=function(t){return Y5(this.xgi(QO.Jot).delete(t))},n.Bot=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.wS(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Uot=function(){return Y5(this.xgi(QO.Jot).clear())},n.xgi=function(t){if(!this.Cgi)throw new A("Lock was released");if(!function(t,n){return t===QO.Kot&&n===QO.Kot||n===QO.Jot}(t,this.Cgi.mode))throw new A("Incompatible transaction mode: "+this.Cgi.mode+", expected "+t);return this.Cgi.objectStore(this.l)},n.jgi=function(){this.lD.Ogi(this),this.Cgi=void 0},Ct(t,[{key:"l",get:function(){return this.lD.l}}]),t}();sn();var Z5=function(){function t(t,n){this.UDt=void 0,this.Go=new Nd,this.zgi=t,this.l=n}var n=t.prototype;return n.xot=function(t){return st.resolve("persistent"===t)},n.Cot=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?st.reject(PO(n)):this.Vot(QO.Jot,(function(n){return n.Cot(t)}))},n.jot=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?st.reject(PO(n)):this.Vot(QO.Jot,(function(n){return n.jot(t)}))},n.Jb=function(t){return this.Vot(QO.Kot,(function(n){return n.Jb(t)}))},n.$b=function(t){return this.Vot(QO.Kot,(function(n){return n.$b(t)}))},n.Oot=function(t,n){return this.Vot(QO.Kot,(function(i){return i.Oot(t,n)}))},n.Sot=function(t){return this.Vot(QO.Kot,(function(n){return n.Sot(t)}))},n.Rot=function(){return this.Vot(QO.Kot,(function(t){return t.Rot()}))},n.Pot=function(t){return this.Vot(QO.Kot,(function(n){return n.Pot(t)}))},n.zot=function(t,n){return this.Vot(QO.Kot,(function(i){return i.zot(t,n)}))},n.wS=function(t){return this.Vot(QO.Jot,(function(n){return n.wS(t)}))},n.Bot=function(t){return this.Vot(QO.Jot,(function(n){return n.Bot(t)}))},n.Uot=function(){return this.Vot(QO.Jot,(function(t){return t.Uot()}))},n.$Dt=function(t){return this.Rgi(),this.UDt=new W5(this,t),this.UDt},n.Rgi=function(){if(void 0!==this.UDt)throw new A("Already locked")},n.Ogi=function(t){if(this.UDt!==t)throw new A("Incorrect lock");this.UDt=void 0},n.Wo=function(t){return this.Go.Wo(t)},n.Vot=function(t,n){var i=this;return this.Wo((function(){return i.Pgi(t,n)}))},n.Pgi=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:i.Rgi(),r=i.zgi.transaction(i.l,t),e=i.$Dt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,V5(r,n,e)];case 2:return[2,u.sent()];case 3:return e.jgi(),[7];case 4:return[2]}}))}))()},n.Bgi=function(t){this.Rgi();var n=this.zgi.transaction(this.l,t);return this.$Dt(n)},t.Ugi=function(t,n){var i,r=new st((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new st((function(n){t=n}));return n.Wo((function(){return t(),r})).catch(qt),i}))}),st.resolve());return i(e.then(n)),r},t}();Q(),Nt(),Zt(),Q(),Nt(),An(),Tn(),Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Tn();var X5={cj:17,Qgi:yn((function(t){var n,i,r,e;return pn(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(n6,{keyPath:"id"}),i.createObjectStore(i6,{keyPath:"key"}),i.createObjectStore(r6,{keyPath:"key"}),i.createObjectStore(e6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(u6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},H5=function(){function t(t){this.Vgi=t}return t.prototype.Fgi=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:i=0,r=n.Ygi,u.label=1;case 1:return i<r.length?(e=r[i],n.Vgi<e.cj?[4,e.Qgi(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),K5=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),Ct(n,[{key:"Ygi",get:function(){return[X5]}}]),n}(H5),J5=function(){function t(){this.Wgi=function(t){return new K5(t)}}var n=t.prototype;return n.Ggi=function(t){this.Wgi=t},n.xst=function(t){return this.Wgi(t)},t}(),q5=new J5,$5="theoplayer-cache-database",t6=18,n6="cachingTask",i6="licences",r6="manifest",e6="segment",u6="segmentMetadata";function s6(){return s6=yn((function(){var t;return pn(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new A("Indexed database unavailable")}(),(t=indexedDB.open($5,t6)).addEventListener("upgradeneeded",o6),[4,Y5(t)];case 1:return[2,n.sent()]}}))})),s6.apply(this,arguments)}function o6(t){return a6.apply(this,arguments)}function a6(){return a6=yn((function(t){var n,i,r,e,u;return pn(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=t6?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=q5.xst(n),[4,V5(e,(function(t){return u.Fgi(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),a6.apply(this,arguments)}var c6=function(){function t(){}return Ct(t,null,[{key:"Ld",get:function(){return this.uht||(this.uht=function(){return s6.apply(this,arguments)}()),this.uht}}]),t}();c6.uht=void 0,Q(),Nt();var h6=function(){function t(t,n){this.Zot=t.Zot.$Dt(n),this.Wot=t.Wot.$Dt(n),this.Hot=t.Hot.$Dt(n),this.Xot=t.Xot.$Dt(n),this.qot=t.qot.$Dt(n)}var n=t.prototype;return n.Vot=function(t){return t(this)},n.jgi=function(){this.Zot.jgi(),this.Wot.jgi(),this.Hot.jgi(),this.Xot.jgi(),this.qot.jgi()},t}(),f6=function(){function t(t){this.zgi=t,this.Zot=new Z5(t,u6),this.Wot=new Z5(t,e6),this.Hot=new Z5(t,r6),this.Xot=new Z5(t,n6),this.qot=new Z5(t,i6)}var n=t.prototype;return n.Vot=function(t){var n=this,i=this.allCollections;return Z5.Ugi(i,(function(){return n.Pgi(i,t)}))},n.Pgi=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.zgi.transaction(r,QO.Jot),u=new h6(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,V5(e,n,u)];case 2:return[2,s.sent()];case 3:return u.jgi(),[7];case 4:return[2]}}))}))()},t.xst=function(){return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,c6.Ld];case 1:return[2,new t(n.sent())]}}))}))()},Ct(t,[{key:"allCollections",get:function(){return[this.Wot,this.Zot,this.Hot,this.Xot,this.qot]}}]),t}();XO.ja(f6.xst),Q(),Nt(),Zt(),St(),Q(),Nt(),tn();var v6=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lgi=n,r.Lnt=i,r.Lgi.yn("xut",r.Ds),r}return Et(n,t),n.prototype.kgi=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new A("Unexpected - The source description is undefined");if(r=pN(t),e=F2(n),oN(r))throw new A("Invalid source description");return this.Lgi.fei(r,e).ga},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get status(){return t.nI},get tasks(){return t.mei},get network(){return t.wZ.ga},createTask:function(n,i){return t.kgi(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new pI(t,i),i}(this)),this.Za}},{key:"nI",get:function(){return this.Lgi.nI}},{key:"mei",get:function(){return this.Lgi.mei.ga}},{key:"wZ",get:function(){return this.Lnt}}]),n}(_a);var d6=function(){var t=new rI(Kt.wE,!1),n=XO.Ld,i=new q2(t),r=new Y2(n,i),e=new uI(t),u=new x1(n.Xot,r,"persistent");return new v6(u,e)}().ga;Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Zt();var l6=function(){function t(t){this.Za=void 0,this.xK=t}var n=t.prototype;return n.Zgi=function(t){for(var n=this.xK.bE(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.ma=function(){var t=this;return{createAudioSourceNode:function(n){return t.Zgi(n)}}},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),t}();sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Hgi=new l6(r.xa),r}return Et(n,t),n.prototype.ma=function(){var n=this.Hgi.ga;return Wg(t.prototype.ma.call(this),{get audio(){return n}})},n}(t)}),rM.nu),Q(),Nt(),Q(),Nt(),St();sM((function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}Et(n,t);var i=n.prototype;return i.ka=function(i){var r=n.Xgi(this.md.analytics),e=n.Xgi(i?i.analytics:void 0);r||e?this.qgi(ys({},r,e)):this.Kgi&&this.Kgi.disable(),t.prototype.ka.call(this,i)},i.qgi=function(t){if(this.Kgi)this.Kgi.enable(),this.Kgi.setOptions(t);else{var n=f.youbora;if(!n)throw new A("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new A("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.ga)),this.Vc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.ga)),this.Kgi=i}},i.gn=function(){this.Kgi&&this.Kgi.disable(),t.prototype.gn.call(this)},n.Xgi=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new A("Only one youbora analytics configuration expected");var i=n[0];i.integration;return gp(i,["integration"])}},n}(t)}),rM.$nt),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Zt(),St();var g6=1,w6=0,y6=1e3,m6=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).ta=n,o.KS=i,o.t_i=r,o.A_i=e,o.y_i=u,o.i_i=s,o.b_i=!0,o.n_i=!1,o.a_i=void 0,o.o_i=void 0,o.M_i=void 0,o.f_i=function(t){var n,i=t.Art,r=(i.p0t(),n=i.lrt().duration,"linear"===i.lrt().type);i.A0t(),i.v0t();r&&(o.n_i=!0),o.h_i=o.y_i.AD_IMPRESSION,o.h_i=o.y_i.AD_STARTED},o.g_i=function(t){o.n_i=!1,o.h_i=o.y_i.AD_COMPLETED},o.__i=function(t){t.kKt===JJ.ADBLOCK?o.h_i=o.y_i.AD_BLOCKED:o.h_i=o.y_i.AD_ERROR},o.v_i=function(){o.h_i=o.y_i.AD_SKIPPED},o.m_i=function(t){var n,i,r,e;t.RI===lw.NI&&(o.M_i&&t.YZ!==o.M_i&&o.t_i.reportABRSwitch(o.M_i,t.YZ),o.M_i=t.YZ,o.t_i.reportChunkRequest(new MMChunkInformation(t.Fj,t.YZ,t.mR,t.clt.zu,void 0,void 0,null!=(r=null==(n=t.clt.Nct)?void 0:n[0])?r:0,null!=(e=null==(i=t.clt.Nct)?void 0:i[1])?e:-1)))},o.aai=function(t){o.r_i=o.A_i.STOPPED,o.yo(t)},o.e8=function(t){o.r_i=o.A_i.ERROR,o.t_i.reportError(t.error,o.e_i())},o.w_i=function(){o.s_i?o.h_i=o.y_i.AD_PAUSED:o.r_i=o.A_i.PAUSED},o.Xfi=function(){o.s_i&&(o.h_i=o.y_i.AD_PLAY)},o.iZ=function(){o.s_i?(o.a_i===o.y_i.AD_PAUSED&&(o.h_i=o.y_i.AD_RESUMED),o.h_i=o.y_i.AD_PLAYING):(o.b_i&&(o.b_i=!1,o.Jgi(),o.r_i=o.A_i.STARTED),o.r_i!==o.A_i.PAUSED&&o.r_i!==o.A_i.BUFFERING||(o.r_i=o.A_i.RESUMED))},o.dp=function(){o.t_i.reportPresentationSize(o.ta.Tk,o.ta.yk)},o.sZ=function(t){o.s_i||o.r_i!==o.A_i.PAUSED||o.t_i.reportPlayerSeekCompleted(t.currentTime*y6)},o.$W=function(){o.s_i||(o.r_i=o.A_i.BUFFERING)},o.l_i=function(){o.t_i.reportDownloadRate(k.floor(Uk.Ld.LY()))},o.c_i=function(){o.s_i||o.t_i.reportPlaybackPosition(o.e_i())},o.r_i=o.A_i.INITIALIZED,o.TOt(),o.p_i=o.u_i(),o}Et(n,t);var i=n.prototype;return i.Jgi=function(){var t=this.ct===1/0,n=t?g6:w6,i=t?-1:this.ct,r=Uo(this.ta.rt.AL,this.$gi);this.t_i.setPresentationInformation(new this.i_i(n,i,r))},i.$gi=function(t){for(var n=t.UL.AL,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.FY,width:e.ji,height:e.Ti,codecIdentifier:e.cht})}return i},i.e_i=function(){return this.ta.xE()*y6},i.u_i=function(){var t=this;return y((function(){t.c_i(),t.l_i()}),n.d_i)},i.TOt=function(){this.ta.Vc&&(this.ta.Vc.yn("Trt",this.f_i),this.ta.Vc.yn("Srt",this.g_i),this.ta.Vc.yn("b4t",this.__i),this.ta.Vc.yn("r3t",this.v_i)),this.ta.yn(Ma.qy,this.aai),this.ta.yn(eA.ua,this.e8),this.ta.yn(Ma.wb,this.w_i),this.ta.yn(Ma.so,this.Xfi),this.ta.yn(zA.oP,this.iZ),this.ta.yn(Ma.yb,this.dp),this.ta.yn(Ma.bb,this.sZ),this.ta.yn(zA.rP,this.$W),this.ta.yn(Ma.Sb,this.m_i)},i.SOt=function(){this.ta.Vc&&(this.ta.Vc.fn("Trt",this.f_i),this.ta.Vc.fn("Srt",this.g_i),this.ta.Vc.fn("b4t",this.__i),this.ta.Vc.fn("r3t",this.v_i)),this.ta.fn(Ma.qy,this.aai),this.ta.fn(eA.ua,this.e8),this.ta.fn(Ma.wb,this.w_i),this.ta.fn(Ma.so,this.Xfi),this.ta.fn(zA.oP,this.iZ),this.ta.fn(Ma.yb,this.dp),this.ta.fn(Ma.bb,this.sZ),this.ta.fn(zA.rP,this.$W),this.ta.fn(Ma.Sb,this.m_i)},i.gn=function(){m(this.p_i),this.SOt()},Ct(n,[{key:"ct",get:function(){return this.ta._d()*y6}},{key:"s_i",get:function(){return this.n_i}},{key:"r_i",get:function(){return this.o_i},set:function(t){this.o_i=t,t&&this.t_i.reportPlayerState(t)}},{key:"h_i",set:function(t){this.a_i=t}}]),n}(Mw);m6.d_i=2e3,sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).S_i=void 0,r.N_i=void 0,r.I_i=function(){r.N_i=void 0,r.T_i();var n=t.prototype.Ya.call(XY(r));n&&(r.N_i=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.md)),r.D_i()},r.D_i=function(){if(!r.S_i&&r.N_i&&r.bt&&r.bt.src&&!r.KE){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","8.14.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.N_i),r.S_i=new m6(r,r.N_i,t),r.S_i.yn("ended",r.T_i)}},r.T_i=function(){r.S_i&&(r.S_i.gn(),r.S_i=void 0)},r.yn(Ma.ro,r.I_i),r.yn(Ma.Gy,r.D_i),r.yn(Ma.so,r.D_i),r}return Et(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.T_i()},n}(t)}),rM.$nt),Q(),Nt(),Q(),Nt(),Zt(),St();var A6=String.fromCharCode(95);var p6=function(){function t(n,i,r,e){var u=this;this.C_i=function(n){u.O_i({type:t.R_i(n.type)})},this.aS=n,this.Bni=i,this.Tv=r,this.k1t=e,this.k_i=[],this.J_=[]}var n=t.prototype;return n.x_i=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Bni.addEventListener(n,this.C_i),this.k_i.push({type:n,listener:this.C_i})}},n.j_i=function(){for(var t in Ro(this.k_i),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Bni.removeEventListener(n,this.C_i)}},n.O_i=function(t){this.J_.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.L_i=function(){null==this.E_i||this.E_i.call(this,this.J_),this.J_=[]},t.R_i=function(n){return t.P_i[n]||n},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.Za}},{key:"id",get:function(){return this.aS}},{key:"adsManager",get:function(){return this.Bni}},{key:"ids",get:function(){return this.Tv}},{key:"adContainer",get:function(){return this.k1t}},{key:"sendEvent",get:function(){return this.E_i},set:function(t){for(var n=0,i=this.k_i;n<i.length;n++){var r=i[n];this.Bni.removeEventListener(r.type,r.listener)}this.k_i=[],this.E_i=t,this.L_i()}},{key:"imaSDK",get:function(){return!0}}]),t}();p6.P_i={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var _6=function(){function t(){this.B_i=void 0,this.U_i=void 0}var n=t.prototype;return n.z_i=function(t,n){this.B_i=v.createElement("script"),this.B_i.id=t.id,this.B_i.type="text/javascript",t.adContainer.appendChild(this.B_i),this.B_i.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.U_i=t.id,f[this.U_i]=t.ga},n.Q_i=function(){this.B_i&&ki(this.B_i),this.U_i&&(f[this.U_i]=void 0)},t}();sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).W_i=void 0,r.q_i=void 0,r.Y_i=void 0,r.k1t=void 0,r.G_i=function(){r.X_i(r.Y_i,{partnerCode:r.W_i.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.k1t)},r.uti=function(t){r.Y_i=t.zni,r.k1t=t.Wti,r.F_i(),r.Y_i.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.V_i),r.Y_i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.F_i),r.Y_i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.G_i)},r.V_i=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.F_i(),r.G_i())},r.F_i=function(){r.q_i&&(r.q_i.j_i(),r.q_i=void 0),r.K_i.Q_i()},r.K_i=new _6,r}Et(n,t);var i=n.prototype;return i.ka=function(i){var r,e,u;this.F_i(),null==(r=this.Y_i)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.V_i),null==(e=this.Y_i)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.F_i),null==(u=this.Y_i)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.G_i),this.Y_i=void 0,this.k1t=void 0,t.prototype.ka.call(this,i);var s=i&&i.analytics;this.W_i=n.Z_i(s),this.Vc&&this.W_i&&e1()&&this.H_i()},i.gn=function(){var n,i,r;this.F_i(),null==(n=this.Y_i)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.V_i),null==(i=this.Y_i)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.F_i),null==(r=this.Y_i)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.G_i),this.Y_i=void 0,this.k1t=void 0,this.Vc&&this.Vc.fn("ati",this.uti),t.prototype.gn.call(this)},i.H_i=function(){this.Vc&&this.Vc.yn("ati",this.uti)},i.X_i=function(t,n,i){var r=A6+"moatApi"+k.floor(1e8*k.random());this.q_i=new p6(r,t,n,i),this.q_i.x_i(),this.K_i.z_i(this.q_i,this.W_i.partnerCode)},n.Z_i=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new A("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),rM.$nt),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),St();var k6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).J_i=i,e.Art=r,e}return Et(n,t),n}(ka),M6=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),b6=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return Et(n,t),n}(k6),T6=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return Et(n,t),n}(k6),N6=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return Et(n,t),n}(k6),D6=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return Et(n,t),n}(k6),I6=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return Et(n,t),n}(k6),E6=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return Et(n,t),n}(k6),S6=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return Et(n,t),n}(k6),L6=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return Et(n,t),n}(k6),C6=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return Et(n,t),n}(k6),j6=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return Et(n,t),n}(k6),x6=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return Et(n,t),n}(k6),O6=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return Et(n,t),n}(k6),z6=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return Et(n,t),n}(k6);var R6=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Hhi=n,e.x1t=i,e.fvi=r,e.evi=function(t){e.ivi(!0);var n=U6(t),i=Q6(t);e.yo(new T6(n,i))},e.dvi=function(t){e.ivi(!1);var n=U6(t),i=Q6(t);e.yo(new N6(n,i))},e.svi=function(t){var n=U6(t),i=Q6(t);e.yo(new D6(n,i))},e.e1t=function(t){var n=U6(t),i=Q6(t);e.yo(new E6(n,i))},e.nvi=function(t){var n=U6(t),i=Q6(t);e.yo(new z6(n,i))},e.rvi=function(t){var n=U6(t),i=Q6(t);e.yo(new I6(n,i))},e.Ss=function(t){var n=U6(t),i=Q6(t);e.yo(new S6(n,i))},e.ovi=function(t){var n=U6(t),i=Q6(t);e.yo(new C6(n,i))},e.hvi=function(t){var n=U6(t),i=Q6(t);e.yo(new b6(n,i))},e.avi=function(t){var n=U6(t),i=Q6(t);e.yo(new j6(n,i))},e.uvi=function(t){var n=U6(t),i=Q6(t);e.yo(new L6(n,i))},e.cvi=function(t){var n=U6(t),i=Q6(t);e.yo(new x6(n,i))},e.lvi=function(t){var n=U6(t),i=Q6(t);e.yo(new O6(n,i))},e.x1t&&(e.x1t.style.display="none",e.Hhi.setClickElement(e.x1t));var u=google.ima.dai.api.StreamEvent.Type;return e.Hhi.addEventListener(u.AD_BREAK_STARTED,e.evi),e.Hhi.addEventListener(u.AD_PROGRESS,e.svi),e.Hhi.addEventListener(u.CLICK,e.e1t),e.Hhi.addEventListener(u.COMPLETE,e.nvi),e.Hhi.addEventListener(u.CUEPOINTS_CHANGED,e.rvi),e.Hhi.addEventListener(u.ERROR,e.Ss),e.Hhi.addEventListener(u.FIRST_QUARTILE,e.ovi),e.Hhi.addEventListener(u.LOADED,e.hvi),e.Hhi.addEventListener(u.MIDPOINT,e.avi),e.Hhi.addEventListener(u.STARTED,e.uvi),e.Hhi.addEventListener(u.STREAM_INITIALIZED,e.cvi),e.Hhi.addEventListener(u.THIRD_QUARTILE,e.lvi),e.Hhi.addEventListener(u.AD_BREAK_ENDED,e.dvi),e}Et(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.Hhi.replaceAdTagParameters(null!=t?t:null)},i.$_i=function(t){return this.Hhi.contentTimeForStreamTime(t)},i.tvi=function(t){return this.Hhi.streamTimeForContentTime(t)},i.eFt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(ys({},B6(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(ys({},B6(t),{assetKey:t.assetKey}))}(t);this.Hhi.requestStream(i)},i.tr=function(){this.ivi(!1),this.Hhi.reset()},i.gn=function(){this.Bo();var t=google.ima.dai.api.StreamEvent.Type;this.Hhi.removeEventListener(t.AD_BREAK_STARTED,this.evi),this.Hhi.removeEventListener(t.AD_PROGRESS,this.svi),this.Hhi.removeEventListener(t.CLICK,this.e1t),this.Hhi.removeEventListener(t.COMPLETE,this.nvi),this.Hhi.removeEventListener(t.CUEPOINTS_CHANGED,this.rvi),this.Hhi.removeEventListener(t.ERROR,this.Ss),this.Hhi.removeEventListener(t.FIRST_QUARTILE,this.ovi),this.Hhi.removeEventListener(t.LOADED,this.hvi),this.Hhi.removeEventListener(t.MIDPOINT,this.avi),this.Hhi.removeEventListener(t.STARTED,this.uvi),this.Hhi.removeEventListener(t.STREAM_INITIALIZED,this.cvi),this.Hhi.removeEventListener(t.THIRD_QUARTILE,this.lvi),this.Hhi.removeEventListener(t.AD_BREAK_ENDED,this.dvi),this.tr(),this.fvi&&ki(this.fvi)},i.gvi=function(t){this.Hhi.onTimedMetadata(t)},i._vi=function(t,n,i){this.Hhi.processMetadata(t,n,i)},i.vvi=function(t){var n=this.Hhi.previousCuePointForStreamTime(t);if(n)return{dB:n.end,lB:n.start,rk:n.played}},i.wvi=function(t,n){var i=this.vvi(t);if(i){var r=t>n&&i.dB>n,e=i.dB>t&&i.lB<=t;return i.rk||!r&&!e?void 0:i.lB}},i.ivi=function(t){this.x1t&&(this.x1t.style.display=t?"block":"none")},n}(Aa);function B6(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=B0(t.omidAccessModeRules))?n:{}}}function U6(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={O9t:r.adBreakDuration,mvi:r.duration,R9t:r.adPosition,LE:r.currentTime,ct:r.duration,P9t:r.totalAds}),{pvi:n,Avi:(i.cuepoints||[]).map((function(t){return{lB:t.start,dB:t.end,rk:t.played}})),yvi:i.errorMessage||void 0,bvi:i.manifestFormat||void 0,Mvi:i.streamId||void 0,Tvi:(i.subtitles||[]).map((function(t){return{Svi:t.webvtt,Nvi:t.ttml,gs:t.language}})),zu:i.url}}function P6(t){return{qXt:t.getAdSlotId(),J4t:t.getContent(),VN:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function Q6(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(P6);return{Mqt:n.getAdId(),y8t:{R9t:i.getAdPosition(),$$t:i.getMaxDuration(),Eni:i.getPodIndex(),lzt:i.getTimeOffset(),P9t:i.getTotalAds()},nXt:n.getAdSystem(),Lni:n.getAdvertiserName(),HXt:n.getApiFramework(),fXt:r,EXt:n.getCreativeId(),u7t:n.getCreativeAdId(),xni:n.getDealId(),$j:n.getDescription(),ct:n.getDuration(),TV:n.getTitle(),Ivi:n.getUniversalAdIdRegistry(),Dvi:n.getUniversalAdIdValue(),s7t:n.getVastMediaHeight(),e7t:n.getVastMediaWidth(),J8t:n.getWrapperAdIds(),$8t:n.getWrapperAdSystems(),t7t:n.getWrapperCreativeIds()}}}function Y6(){var t=v.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}Q(),Nt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),Tn();var G6="urn:google:dai:2018",V6=function(){function t(t,n,i,r){var e=this;this.lai=void 0,this.dV=void 0,this.fV=void 0,this.w7=new ca,this.zvi=!1,this.kvi=!0,this.Rvi=function(t){var n=t.Ht;n.Lt===hA.MQ&&(n.YA===Yw.ID3||n.YA===Yw.EVENT_STREAM&&n.YL===G6)&&(n.UI=iA.FL,e.lai=n,n.yn(Yg.Jk,e.Bvi))},this.Bvi=function(t){t.uB.yn(Hw.kz,e.Uvi)},this.Uvi=function(t){var n,i;if(e.Hhi)if((null==(n=e.lai)?void 0:n.YA)===Yw.ID3){var r=t.uB.U;"TXXX"===r.id&&e.Hhi.gvi({TXXX:r.text})}else if((null==(i=e.lai)?void 0:i.YA)===Yw.EVENT_STREAM){var u=t.uB.U;e.Hhi._vi(G6,u,t.kU)}},this.ta=t,this.Hhi=n,this.xvi=i,this.Evi=r,i&&n&&this.ta.Vc&&this.ta.Vc.wrt(i.g7t)}var n=t.prototype;return n.CE=function(t){this.w7.Ty(),this.w7=new ca,va(ea(this.Zni(t,this.w7.ly),this.w7))},n.Zni=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return ta(n),i.xvi&&i.Hhi?i.xvi.drt?[2]:(r=i.ta.xE(),i.kvi&&(e=i.Hhi.wvi(t,r))?(i.ta.Cvi(e),[4,i.Hhi.zy(M6.AD_BREAK_ENDED,n)]):[3,2]):[2,i.ta.Cvi(t)];case 1:if(u.sent(),i.Hhi.vvi(t).dB>t)return[2];u.label=2;case 2:return i.ta.Cvi(t),[2]}}))}))()},n.vk=function(){var t=this.xvi&&this.xvi.drt;if(t){var n=GM.xn(this.ta.jvi()),i=t.lzt,r=i+t.$$t,e=new GM([i,r]);return n.Sn(e).ks()}return this.ta.jvi()},n.Prt=function(t,n){var i=this;return yn((function(){var r,e,u;return pn(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.ta.Ovi(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.ta.nt.yn(Rg.Hk,i.Rvi),[4,i.Evi.Pvi(t,n)];case 2:return r=s.sent(),i.xvi&&i.Hhi&&(i.zvi=!0),[3,4];case 3:if(na(e=s.sent()),e.code===yw.LICENSE_INVALID)return[2];throw u=new md(wd.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.dV=pw(u),i.fV=u,i.ta.yo(new zk(u)),u;case 4:return[4,i.ta.Ovi(r,n)];case 5:return s.sent(),[2]}}))}))()},n.tr=function(){if(this.zvi){if(this.ta.nt.fn(Rg.Hk,this.Rvi),this.lai){this.lai.fn(Yg.Jk,this.Bvi);for(var t=0,n=this.lai.L.AL;t<n.length;t++){n[t].fn(Hw.kz,this.Uvi)}this.lai=void 0}this.dV=void 0,this.fV=void 0,this.w7.Ty(),this.xvi&&this.xvi.tr(),this.Hhi&&this.Hhi.tr(),this.zvi=!1}},n.gn=function(){this.tr(),this.ta.Yvi(),this.Hhi&&this.Hhi.gn()},Ct(t,[{key:"ga",get:function(){var t=this,n=this.Evi;return{contentTimeForStreamTime:function(n){return t.Hhi?t.Hhi.$_i(n):n},streamTimeForContentTime:function(n){return t.Hhi?t.Hhi.tvi(n):n},replaceAdTagParameters:function(n){t.Hhi&&t.Hhi.replaceAdTagParameters(n)},get snapback(){return t.kvi},set snapback(n){t.kvi=n},get sourceTransformer(){return n.Lvi},set sourceTransformer(t){n.Lvi=t}}}},{key:"lt",get:function(){return this.dV||this.ta.Qvi()}},{key:"zE",get:function(){return this.fV||this.ta.Fvi()}}]),t}();Q(),Nt(),Zt(),St(),Q(),Nt(),Zt(),St();var F6=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).Gvi=e,u.x4t=n,u.C4t=i,u}return Et(n,t),Ct(n,[{key:"Vvi",get:function(){return this.Gvi}},{key:"wJt",get:function(){return c$.Xh}}]),n}(K$),W6=function(t){function n(n,i){var r;return(r=t.call(this,new VD,c$.Xh)||this).Hhi=n,r.ta=i,r.svi=function(t){var n=r.I0t;if(n&&r.w0t){var i=t.J_i.pvi;r.w0t.H8t=i.LE,function(t,n){var i=n.R9t,r=n.O9t,e=n.LE,u=kr(t.Vc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.t0t=r-e-u}(n,i)}},r.rvi=function(t){var n=t.J_i.Avi;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.Jvi(e.lB)){var u=e.dB-e.lB,s=new F6(u,u,e.lB,!0);r.D0t.push(s)}}},r.Zvi=function(t){r.Xvi(t.type),r.Kvi(t)},r.dvi=function(t){r.v7t=!1,r.w0t=void 0;var n=r.drt;n&&(n.t0t=0,r.qvi(t.type,!1,!1),r.I0t=void 0)},r.Wvi(),r}Et(n,t);var i=n.prototype;return i.Wvi=function(){var t=[M6.STARTED,M6.FIRST_QUARTILE,M6.MIDPOINT,M6.THIRD_QUARTILE,M6.COMPLETE];this.Hhi.yn(t,this.Zvi),this.Hhi.yn(M6.AD_BREAK_ENDED,this.dvi),this.Hhi.yn(M6.AD_PROGRESS,this.svi),this.Hhi.yn(M6.CUEPOINTS_CHANGED,this.rvi)},i.Hvi=function(t){var n=t.y8t.lzt,i=this.I0t||this.findAdBreakWithPredicate(n,(function(t){return!t.rk}));if(!i){var r=t.y8t.$$t;n=this.ta.xE(),(i=new F6(r,r,n,!1)).O4t(),this.D0t.push(i)}return i},i.Xvi=function(t){switch(t){case M6.STARTED:this.v7t=!0;break;case M6.AD_BREAK_ENDED:this.v7t=!1}},i.qvi=function(t,n,i){if(n)switch(t){case M6.STARTED:case M6.FIRST_QUARTILE:case M6.MIDPOINT:case M6.THIRD_QUARTILE:case M6.COMPLETE:this.v4t.yo(new rO(this.I0t))}if(i)switch(t){case M6.STARTED:case M6.FIRST_QUARTILE:case M6.MIDPOINT:case M6.THIRD_QUARTILE:case M6.COMPLETE:this.v4t.yo(new uO(this.w0t,this.w0t.H8t))}switch(t){case M6.COMPLETE:this.v4t.yo(new oO(this.w0t,this.f7t.H8t));break;case M6.AD_BREAK_ENDED:this.v4t.yo(new nO(this.drt))}switch(t){case M6.FIRST_QUARTILE:this.v4t.yo(new v0(this.w0t,this.f7t.H8t));break;case M6.MIDPOINT:this.v4t.yo(new l0(this.w0t,this.f7t.H8t));break;case M6.THIRD_QUARTILE:this.v4t.yo(new w0(this.w0t,this.f7t.H8t))}},i.Kvi=function(t){var n=t.Art,i=this.Hvi(n),r=function(t,n){if(t.Vc.length)return!1;for(var i=0;i<n;i++){var r=new Q0(t,q$.YKt);t.P4t(r)}return!0}(i,n.y8t.P9t),e=function(t,n){var i=n.y8t.R9t-1;return t.Vc[i]}(i,n),u=function(t,n){return t.W4t!==$$.READY&&(t.i7t(n),!0)}(e,n);this.w0t=e,this.I0t=i,i.O4t(),this.qvi(t.type,r,u)},i.Jvi=function(t){for(var n=0,i=this.D0t;n<i.length;n++){var r=i[n];if(yr(t,r.lzt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.D0t;i<r.length;i++){var e=r[i];if(yr(e.lzt,t)&&n(e))return e}},i.iwi=function(t,n){for(var i,r=0,e=this.D0t;r<e.length;r++){var u=e[r];u.lzt>=t&&u.lzt<=n&&!u.rk&&(!i||u.lzt>=i.lzt)&&(i=u)}return i},i.ZC=function(){},i.vrt=function(t){},i.tr=function(){this.w0t&&(this.v4t.yo(new oO(this.w0t,this.w0t.H8t)),this.w0t=void 0),this.I0t&&(this.v4t.yo(new nO(this.I0t)),this.I0t=void 0),this.v7t=!1,Ro(this.D0t)},i.gn=function(){this.tr(),this.v4t.gn()},Ct(n,[{key:"N4t",get:function(){return this.v7t}},{key:"v4t",get:function(){return this.z3t}},{key:"$vi",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.Vvi})),n=0;return t&&(n=t.$$t),n}}]),n}(W0);Q(),Nt(),An(),Tn(),tn();var Z6=function(){function t(t){this.Hhi=t,this.Lvi=function(t){return t}}var n=t.prototype;return n.Pvi=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f,v;return pn(this,(function(d){switch(d.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(hb(o=s[u])){if(!i.Hhi)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];d.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,uT.Ld.mG(r,t)];case 2:h=d.sent().kc,f=h,ta(n),d.label=3;case 3:return d.trys.push([3,5,,6]),[4,i.ewi(f,n)];case 4:return a=d.sent(),e.push(a),[3,6];case 5:return na(v=d.sent()),c=v,Co(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new A("Fatal: unable to play DAI streams.");return c&&ce(c.message),[2,ys({},t,{sources:e})]}}))}))()},n.ewi=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a;return pn(this,(function(c){switch(c.label){case 0:if(!i.Hhi)throw new A("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.Hhi.zy(M6.LOADED,n),e=i.Hhi.zy(M6.ERROR,n),u=t.type===DM.$L?"dash":"hls",i.Hhi.eFt(ys({},t.ssai,{format:u})),[4,st.race([r,e])];case 1:return(s=c.sent()).type!==M6.LOADED?[3,5]:(o=t.type===DM.$L?DM.$L:DM.ix,i.Lvi?[4,i.Lvi(s.J_i.zu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.J_i.zu,c.label=4;case 4:return[2,LM(ys({},t,{src:a,type:o}))];case 5:throw A(s.J_i.yvi);case 6:return[2]}}))}))()},t}();sM(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).nwi=!1,e.rwi=function(t){13===t.which&&e.x1t.click(),e.Rk()};var u,s,o=e.jk(),a=r.ads.googleIma.useAdUiElementForSsai;try{var c;a?(e.owi=v.createElement("div"),Si(e.owi),e.owi.className="theo-dai-ad-ui"):(e.x1t=v.createElement("button"),e.x1t.className="theo-dai-clickthrough"),u=t(o,e.x1t,e.owi),s=new W6(u,e);var h=null!=(c=e.x1t)?c:e.owi;h&&e.we.appendChild(h),e.nwi=!0}catch(t){e.x1t=void 0,e.owi=void 0}var f=new Z6(u);return e.swi=new V6(e,u,s,f),e.x1t&&(e.x1t.addEventListener("keydown",e.rwi),e.x1t.addEventListener("click",e.rwi)),e}Et(i,n);var r=i.prototype;return r.ma=function(){var t=n.prototype.ma.call(this),i=t.ads;if(i){var r=this.swi.ga;Wg(i,{get dai(){return r}})}return t},r.Cvi=function(t){n.prototype.CE.call(this,t)},r.CE=function(t,n){this.swi.CE(t)},r.jvi=function(){return n.prototype.vk.call(this)},r.vk=function(){return this.swi.vk()},r.ka=function(t){return this.swi.tr(),n.prototype.ka.call(this,t)},r.Ovi=function(t,i){var r=this;return yn((function(){return pn(this,(function(e){return[2,n.prototype.Prt.call(r,t,i)]}))}))()},r.Prt=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){return[2,i.swi.Prt(t,n)]}))}))()},r.Qvi=function(){return n.prototype.PE.call(this)},r.Fvi=function(){return n.prototype.BE.call(this)},r.PE=function(){return this.swi.lt},r.BE=function(){return this.swi.zE},r.Yvi=function(){n.prototype.gn.call(this)},r.gn=function(){this.swi.gn(),this.x1t&&(ki(this.x1t),this.x1t.removeEventListener("keydown",this.rwi),this.x1t.removeEventListener("click",this.rwi),this.x1t=void 0),this.owi&&(ki(this.owi),this.owi=void 0)},Ct(i,[{key:"zl",get:function(){return this.nwi}}]),i}(n)}}((function(t,n,i){if(!(f.google&&f.google.ima&&di(f.google.ima.dai)))throw new A("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=Y6(),e=new google.ima.dai.api.StreamManager(t,i),u=Y6();return new R6(e,n,u&&u!==r?u:void 0)})),rM.qnt),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Zt();var X6=function(){function t(t,n){var i=this;this.ta=t,this.dwi=n,this.Mwi=!1,this.wwi=!1,this.Swi=[],this.pwi=-1/0,this.ywi=!1,this.Xfi=function(){i.Mwi||(i.dwi.Cwi(),i.ywi&&i.dwi.Iwi(),i.Mwi=!0)},this.aai=function(){i.dwi.jwi(),i.wwi=!0},this.kai=function(){i.pwi<i.ta.xE()&&(i.pwi=i.ta.xE()),i.Lwi()},this.fwi=function(){i.Mwi&&(i.Owi=performance.now(),i.dwi.Rwi(i.ta.xE()))},this.gwi=function(){i.Owi&&(i.dwi.Pwi((performance.now()-i.Owi)/1e3),i.Owi=void 0)},this.e8=function(){i.pwi<i.ta.xE()&&(i.pwi=i.ta.xE()),i.dwi.$rt(i.ta.PE().message)},this._wi=function(){var t=i.ta._d()===1/0;t&&!i.ywi&&(i.ywi=t,i.Nwi())},this.dOt=function(){i.dwi.mwi(i.pwi),i.dwi.zwi()},this.Ewi=function(){void 0!==i.awi&&i.dwi.Bwi(i.hwi)}}var n=t.prototype;return n.uwi=function(t){this.cwi=t,this.dwi.lwi(t),this.ta.yn(Ma.so,this.Xfi),this.ta.yn(Ma.qy,this.aai),this.ta.yn(Ma.Eb,this.kai),this.ta.yn(eA.ua,this.e8),this.ta.yn(zA.rP,this.fwi),this.ta.yn([zA.iP,zA.eP,zA.oP],this.gwi),this.ta.yn(Ma.Zy,this._wi),Fr.zX(this.dOt)},n.vwi=function(){this.ta.fn(Ma.so,this.Xfi),this.ta.fn(Ma.qy,this.aai),this.ta.fn(Ma.Eb,this.kai),this.ta.fn(eA.ua,this.e8),this.ta.fn(zA.rP,this.fwi),this.ta.fn([zA.iP,zA.eP,zA.oP],this.gwi),this.ta.fn(Ma.Zy,this._wi),Fr.jX(this.dOt),this.wwi||(this.dwi.mwi(this.pwi),this.dwi.Awi()),this.ywi&&this.bwi(),this.cwi=void 0,this.Mwi=!1,this.wwi=!1,this.pwi=-1/0,Ro(this.Swi)},n.Nwi=function(){this.Mwi&&this.dwi.Iwi(),this.awi=performance.now(),this.Dwi=y(this.Ewi,6e4)},n.bwi=function(){this.dwi.kwi(this.hwi),this.ywi=!1,this.awi=void 0,this.Dwi&&(m(this.Dwi),this.Dwi=void 0)},n.Lwi=function(){if(!T(this.ta._d())){var t=10*function(t,n){return k.floor(t/n)}(this.ta.xE()/this.ta._d()*100,10);Oo(this.Swi,t)||(this.Swi.push(t),this.dwi.xwi(t))}},Ct(t,[{key:"hwi",get:function(){return void 0===this.awi?0:(performance.now()-this.awi)/1e3}}]),t}();Q(),Nt();var H6=function(){function t(){}var n=t.prototype;return n.lwi=function(t){this.Uwi(["setDocumentTitle",t.itemTitle]),this.Uwi(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.Uwi(["trackPageView"])},n.Cwi=function(){this.Qwi("item first play","viewing","1")},n.Awi=function(){this.Qwi("item skipped","skipped","1")},n.xwi=function(t){this.Qwi("item progress","percent",""+t)},n.zwi=function(){this.Qwi("item abandoned","window closed","1")},n.mwi=function(t){this.Qwi("item time","watched",""+t)},n.jwi=function(){this.Qwi("item finished","ended","1")},n.Rwi=function(t){this.Qwi("buffering started","timestamp",""+t)},n.Pwi=function(t){this.Qwi("buffering ended","duration",""+t)},n.$rt=function(t){this.Qwi("error","message",""+t)},n.Iwi=function(){this.Qwi("livestream first play","viewing","1")},n.Bwi=function(t){this.Qwi("livestream progress","duration",""+t)},n.kwi=function(t){this.Qwi("livestream time","watched",""+t)},n.Qwi=function(t,n,i){this.Uwi(["trackEvent","Video",t,n,i])},n.Uwi=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();Q(),Nt(),Zt();var K6=function(){function t(t,n,i){var r=this;this.ta=t,this.Dc=n,this.dwi=i,this.Gwi=[],this.f_i=function(){r.Ywi=r.ta._d(),r.dwi.Wwi(r.Ywi)},this.g_i=function(){r.Ywi&&(r.dwi.Zwi(r.Ywi),Ro(r.Gwi),r.Ywi=void 0)},this.v_i=function(t){if(r.Ywi){var n=r.Ywi-r.Ywi*t.s3t;r.dwi.Hwi(n),r.Ywi=void 0}},this.__i=function(){r.Ywi=r.ta._d(),r.dwi.Xwi()},this.kai=function(){var t=r.Fwi;if(r.Vwi&&t&&!Oo(r.Gwi,t)){switch(t){case 1:r.dwi.qwi();break;case 2:r.dwi.Kwi();break;case 3:r.dwi.Jwi();break;case 4:r.dwi.$wi()}r.Gwi.push(t)}},this.dOt=function(){r.dwi.tmi()}}var n=t.prototype;return n.uwi=function(){this.Dc.yn("Trt",this.f_i),this.Dc.yn("Srt",this.g_i),this.Dc.yn("r3t",this.v_i),this.Dc.yn("b4t",this.__i),this.ta.yn(Ma.Eb,this.kai),Fr.zX(this.dOt)},n.vwi=function(){this.Dc.fn("Trt",this.f_i),this.Dc.fn("Srt",this.g_i),this.Dc.fn("r3t",this.v_i),this.Dc.fn("b4t",this.__i),this.ta.fn(Ma.Eb,this.kai),Ro(this.Gwi),Fr.jX(this.dOt),this.Ywi=void 0},Ct(t,[{key:"Fwi",get:function(){if(this.Ywi){var t=this.ta.xE()/this.Ywi;return k.floor(4*t)+1}}},{key:"Vwi",get:function(){return void 0!==this.Ywi}}]),t}();Q(),Nt();var J6=function(){function t(t){this.dwi=t}var n=t.prototype;return n.Wwi=function(t){this.dwi.Qwi("ad start","duration",""+t)},n.Zwi=function(t){this.dwi.Qwi("ad finished","duration",""+t)},n.Hwi=function(t){this.dwi.Qwi("ad skipped","remaining time",""+t)},n.Xwi=function(){this.dwi.Qwi("ad blocker","detected","1")},n.qwi=function(){this.dwi.Qwi("ad progress","firstQuartile","")},n.Kwi=function(){this.dwi.Qwi("ad progress","secondQuartile","")},n.Jwi=function(){this.dwi.Qwi("ad progress","thirdQuartile","")},n.$wi=function(){this.dwi.Qwi("ad progress","fourthQuartile","")},n.tmi=function(){this.dwi.Qwi("ad abandoned","window closed","1")},t}();function q6(t){return t&&"streamone"===t.integration}sM((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).imi=!1,r.ho=function(){r.imi&&(r.emi.vwi(),r.smi&&r.smi.vwi());var t=r.Ya();if(r.imi=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(q6(r))return r}}(t);n&&(r.imi=!0,r.emi.uwi(n),r.smi&&r.smi.uwi())}};var e=new H6;if(r.emi=new X6(r,e),r.Vc){var u=new J6(e);r.smi=new K6(r,r.Vc,u)}return r.yn(Ma.ro,r.ho),r}return Et(n,t),n.prototype.gn=function(){this.fn(Ma.ro,this.ho),this.imi&&(this.emi&&this.emi.vwi(),this.smi&&this.smi.vwi(),this.imi=!1),t.prototype.gn.call(this)},n}(t)}),rM.$nt),Q(),Nt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St(),Q(),Nt(),St(),Q(),Nt(),An(),St(),Tn(),tn();var $6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).omi=i,r.hmi=void 0,r}Et(n,t);var i=n.prototype;return i.F4=function(n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return[4,t9(n)];case 1:return u=s.sent(),[4,t.prototype.F4.call(e,u,i,r)];case 2:return s.sent(),e.nmi(u,i),[2]}}))}))()},i.B4=function(n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return[4,t9(n)];case 1:return u=s.sent(),[4,t.prototype.B4.call(e,u,i,r)];case 2:return s.sent(),e.nmi(u,i),[2]}}))}))()},i.nmi=function(t,n){var i=this.omi.rmi;if(void 0!==i){var r,e=n.u4;if(this.hmi!==e&&(this.hmi=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return oi.call(t,"kst")}(n)){var u=n.kst,s=n.kst+n.ct;r=n.rQ,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.rI,"video",e,r)}},i.wS=function(n,i,r){var e=this;return yn((function(){var u;return pn(this,(function(s){switch(s.label){case 0:return[4,t.prototype.wS.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.omi.rmi)||u.flushBuffer(n,i),[2]}}))}))()},n}(uz);function t9(t){return n9.apply(this,arguments)}function n9(){return n9=yn((function(t){var n;return pn(this,(function(i){switch(i.label){case 0:switch(t.YA){case HI.v$:return[3,1];case HI.jN:return[3,2];case HI.w$:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,el(t.rI)];case 3:return n=i.sent(),[2,{YA:HI.v$,rI:new N(n)}];case 4:throw new A("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),n9.apply(this,arguments)}var i9=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).omi=i,r.Cht(n),r}return Et(n,t),n.prototype.Oht=function(t){return t.E3===lw.NI?new $6(t,this.omi):new uz(t)},n}(rz),r9=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).dmi=!1,r.fmi=function(t){r.dmi||(t||r.eG("LCEVC SDK failed to initialize."),r.umi())},r.gmi=function(){r.dmi||r.eG("LCEVC SDK failed to initialize.")},r.ku=i,r.cmi=v.createElement("canvas"),r.cmi.style.width="100%",r.cmi.style.height="100%",r.cmi.style.position="absolute",r.cmi.style.transform="translate(0%, -100%)",r.cmi.style.display="none",r.ku.appendChild(r.cmi),LCEVCdec.ready.then(r.fmi,r.gmi),r}Et(n,t);var i=n.prototype;return i.umi=function(){this.ami=new LCEVCdec.LCEVCdec(this.cz.gV,this.cmi,{})},i.ge=function(){t.prototype.ge.call(this),this.lmi()},i.be=function(){t.prototype.be.call(this),this.cmi.style.display="none"},i.tr=function(){return this.cmi.style.display="none",void 0!==this.ami&&(this.ami.close(),this.umi()),t.prototype.tr.call(this)},i.wy=function(){return this.dmi=!0,void 0!==this.ami&&(this.ami.close(),this.ami=void 0),this.ku.removeChild(this.cmi),t.prototype.wy.call(this)},i.eG=function(t){this.yo(new RS(new mw(yw.ABORTED,t)))},i.lmi=function(){this.cz.gV.style.display="none",this.cmi.style.display="block"},i.Eht=function(t){return new i9(t,this)},i.Dht=function(t){return new az(t)},Ct(n,[{key:"rmi",get:function(){return this.ami}},{key:"wht",get:function(){return this.cz}}]),n}(cz),e9=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ku=i,r}Et(n,t);var i=n.prototype;return i.sG=function(n){if(n===lw.NI)return this._mi=new r9(t.prototype.sG.call(this,n),this.ku),this._mi},i.BV=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return i._mi=void 0,[4,(r=n).wy()];case 1:return e.sent(),[4,t.prototype.BV.call(i,r.wht)];case 2:return e.sent(),[2]}}))}))()},Ct(n,[{key:"vmi",get:function(){return this._mi}}]),n}($O);tn();var u9=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new e9(s,a),f=new vz(h),v=f.sG(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).mmi=function(t){t.Ht.yn(Yg.vL,c.wmi)},c.pmi=function(t){t.Ht.fn(Yg.vL,c.wmi)},c.wmi=function(t){var n,i=null==(n=c.Ami.vmi)?void 0:n.rmi,r=t.Lut.zL;null==i||i.setCurrentLevel(r)},c.QV=f,c.Ami=h,c.Pz.yn(Rg.Hk,c.mmi),c.Pz.yn(Rg.qk,c.pmi),c}return Et(n,t),n.prototype.gn=function(){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:for(i=0,r=n.Pz.AL;i<r.length;i++)r[i].fn(Yg.vL,n.wmi);return n.rt.fn(Rg.Hk,n.mmi),n.rt.fn(Rg.qk,n.pmi),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.cz.wy()];case 2:return e.sent(),[4,n.QV.BV(n.cz)];case 3:return e.sent(),[2]}}))}))()},n}(WY),s9=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hG=Pk.CY,n}Et(n,t);var i=n.prototype;return i.bx=function(t,n,i,r,e,u,s){var o=new jO(XO.Ld.Hot,XO.Ld.Zot,XO.Ld.Wot,XO.Ld.qot),a=n;return lG.PS()&&(a=new lG(a)),new u9(i,r,e,u,o,a,lw.NI,t)},i.nG=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.nG.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new md(wd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.oG=function(){return!1},n}(SO);eT(new s9),Q(),Nt(),An(),St(),Tn(),tn();var o9=function(t){function n(n,i,r,e,u,s,o,a,c){var h,f=new e9(i,n),v=new vz(f),d=v.sG(lw.NI);return(h=t.call(this,d,r,e,u,s,o,a,c)||this).mmi=function(t){t.Ht.yn(Yg.vL,h.wmi)},h.pmi=function(t){t.Ht.fn(Yg.vL,h.wmi)},h.wmi=function(t){var n,i=null==(n=h.Ami.vmi)?void 0:n.rmi,r=t.Lut.IRt.zL;null==i||i.setCurrentLevel(r)},h.QV=v,h.Ami=f,h.Pz.yn(Rg.Hk,h.mmi),h.Pz.yn(Rg.qk,h.pmi),h}return Et(n,t),n.prototype.gn=function(){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:for(i=0,r=n.Pz.AL;i<r.length;i++)r[i].fn(Yg.vL,n.wmi);return n.rt.fn(Rg.Hk,n.mmi),n.rt.fn(Rg.qk,n.pmi),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.QV.BV(n.cz)];case 2:return e.sent(),[2]}}))}))()},n}(zK),a9=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hG=Pk.PY,n}Et(n,t);var i=n.prototype;return i.bx=function(t,n,i,r,e,u,s){return new o9(t,n,i,e,u,dK(r.libraryLocation),new OK(r.libraryLocation),new jO(XO.Ld.Hot,XO.Ld.Zot,XO.Ld.Wot,XO.Ld.qot),r)},i.nG=function(n,i){var r=this;return yn((function(){return pn(this,(function(e){switch(e.label){case 0:return n.lcevc?[4,t.prototype.nG.call(r,n,i)]:[2,!1];case 1:if(!e.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new md(wd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.oG=function(){return!1},n}(BK);eT(new a9),Q(),Nt(),Q(),Nt(),Zt(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt();var c9=function(t){return t.ymi="tr",t.bmi="Mmi",t}({}),h9="freewheel-nonlinear-ad",f9=[Ma.Zy,Ma.Eb,Ma.kb,Ma.wb,zA.oP,Ma.so],v9=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).dV=void 0,s.fV=void 0,s.Imi=function(t){var n=t.Art,i="Trt"===t.type;if(n.Z4t===q$.Y4t){var r=s.ta.we.classList;i?r.add(h9):r.remove(h9)}i?s.ge():s.be()},s.Nmi=function(){s.B3t(),s.ta.Rk(),s.ta.be()},s.eni=function(){s.Smi.zmi&&(s.ta.OE||s.ta.Pk(),s.be(),s.ta.ge(),s.R2t())},s.Smi=e,s.QV=r,s.cz=u,s.tst=u.gV,s.tst.controls=!1,s.Tmi(),s.Emi(),s.Lmi(),s}Et(n,t);var i=n.prototype;return i.Ok=function(){this.QV.zG()},i.Tmi=function(){this.Smi.yn("Mrt",this.Nmi),this.Smi.yn(["Trt","Srt"],this.Imi),this.Smi.yn("brt",this.eni)},i.Dmi=function(){this.Smi.fn("Mrt",this.Nmi),this.Smi.fn(["Trt","Srt"],this.Imi),this.Smi.fn("brt",this.eni)},i.Emi=function(){this.v4t.iu(this.Smi.kmi)},i.Lmi=function(){this.Smi.xmi.yn(f9,this.Ds)},i.Cmi=function(){this.Smi.xmi.fn(f9,this.Ds)},i.vrt=function(t){},i.xE=function(){return this.Smi.xmi.LE},i.CE=function(t,n){},i._d=function(){return this.Smi.xmi.ct},i.RE=function(){return this.Smi.xmi.OE},i.PE=function(){return this.dV},i.BE=function(){return this.fV},i.bk=function(){return 0},i.Sk=function(){return 0},i.Ik=function(){return this.Smi.xmi.Nk},i.Dk=function(t){this.Smi.xmi.Nk=t},i.ZE=function(){return this.Smi.xmi.WE},i.HE=function(t){this.Smi.xmi.WE=t},i.gk=function(){return this.Smi.xmi.fk},i.vk=function(){return this.Smi.xmi._k},i.JE=function(){return this.Smi.xmi.KE},i.p4t=function(t){if(this.N4t||this.Smi.p4t(t),this.Smi.jmi){if(t.type===Ma.wb&&this.ta.OE)return!0;if(t.type===Ma.qy)return this.Smi.Rmi.Omi(),!0}return!1},i.be=function(){this.Smi.be()},i.Rk=function(){this.KE||this.Smi.xmi.Rk()},i.Pmi=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:if(t.Smi.zmi)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.Smi.d6t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.Bmi(n,JJ.GENERAL),[3,4];case 4:return[2]}}))}))()},i.Umi=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.Smi.xmi.Qmi?(t.Smi.xmi.Pk(),[2,!1]):[3,1];case 1:if(!t.Smi.Fmi)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.Smi.Rmi.Ymi()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.Bmi(n,JJ.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.Bmi=function(t,n){t.name!==c9.ymi&&this.v4t.yo(new Z$(n,"Ads could not be loaded."))},i.Pk=function(){var t=this;return yn((function(){var n;return pn(this,(function(i){switch(i.label){case 0:return t.KE&&t.yo(new Ib(t.LE)),[4,t.Pmi()];case 1:return i.sent(),t.Vmi?[2]:[4,t.Umi()];case 2:return n=i.sent(),!t.Vmi&&n&&t.eni(),[2]}}))}))()},i.E7t=function(t,n,i){n===Yx.urt&&this.Smi.E7t(t)},i.ge=function(){this.Smi.ge()},i.ZC=function(){this.Smi.xmi.ZC()},i.jk=function(){return this.tst},i.bE=function(){return this.QV.YG.map((function(t){return t.gV}))},i.k4t=function(t){},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.zk()];case 1:return n.sent(),t.Smi.gn(),[4,t.QV.BV(t.cz)];case 2:return n.sent(),t.Dmi(),t.Cmi(),t.v4t.Bq(t.Smi.kmi),[2]}}))}))()},i.zk=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.Smi.tr(),t.N4t&&(t.ta.ge(),t.R2t(),t.be()),[2]}))}))()},Ct(n,[{key:"g4t",get:function(){return this}},{key:"d4t",get:function(){return n.d4t}},{key:"drt",get:function(){var t;return null!=(t=this.Smi.kmi.drt)?t:null}},{key:"crt",get:function(){var t=this.Smi.kmi.f7t;return t?[t]:[]}},{key:"frt",get:function(){return this.Smi.kmi.frt}},{key:"grt",get:function(){return this.Smi.kmi.grt}},{key:"Vmi",get:function(){return ci(this.PE())}}],[{key:"d4t",get:function(){return c$.M0t}}]),n}(M0);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),gn(),Tn(),Q(),Nt(),Zt(),St();var d9=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).Wmi=e,u.Hmi=0,u.H4t=g9(e),u.x4t=n,u.C4t=i,u}return Et(n,t),Ct(n,[{key:"Gmi",get:function(){return this.Wmi}},{key:"Zmi",get:function(){return this.Vc[this.Hmi]}},{key:"Xmi",get:function(){return this.Hmi},set:function(t){this.Hmi=t}},{key:"Z4t",get:function(){return this.H4t}},{key:"wJt",get:function(){return c$.M0t}}]),n}(K$);Q(),Nt(),Zt(),St();var l9=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Kmi=r,e}return Et(n,t),n.prototype.ma=function(){return n0(this)},Ct(n,[{key:"qmi",get:function(){return this.Kmi},set:function(t){this.Kmi!==t&&(this.Kmi=t)}},{key:"Ti",get:function(){return this.Yl.Gmi.getHeight()}},{key:"ji",get:function(){return this.Yl.Gmi.getWidth()}},{key:"rqt",get:function(){return this.qmi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"wJt",get:function(){return c$.M0t}}]),n}(t0);function g9(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?q$.Y4t:q$.YKt}tn();var w9=function(t){function n(i,r){var e;return(e=t.call(this)||this).Vs=i,e.vN=r,e.Api=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.ypi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.Mpi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.bpi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.npi=[],e.opi=[],e.upi=[],e.cpi=[],e.fpi=function(t){var i=t.slot,r=e.Npi(i);r&&(n.Dpi(i,r),e.I0t=r,r.O4t(),e.xpi(r),r.Z4t===q$.YKt&&e.yo(new rO(r)))},e.gpi=function(){var t=e.drt;t&&t.Z4t===q$.YKt&&(e.yo(new nO(t)),e.vN.src=""),e.I0t=void 0},e._pi=function(t){var n=e.Spi(t.adInstance);n&&(e.yo(new uO(n,n.qmi.getPlayheadTime())),e.w0t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Vs.style.cursor="pointer",e.Vs.addEventListener("click",e.Cpi))},e.vpi=function(){e.Vs.style.cursor="",e.Vs.removeEventListener("click",e.Cpi)},e.Cpi=function(){e.f7t&&e.f7t.qmi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.wpi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.kpi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.R1t(),e.kpi()}},e}Et(n,t);var i=n.prototype;return i.Jmi=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return i.$mi=t,i.tpi=n,i.ipi(t),[4,n];case 1:return r.sent(),i.epi(),[2]}}))}))()},i.epi=function(){this.lpi()},i.ipi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.fpi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.gpi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this._pi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.vpi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.wpi)},i.mpi=function(){this.$mi&&(this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.fpi),this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.gpi),this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this._pi),this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.vpi),this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.wpi))},i.lpi=function(){this.npi=this.ppi(this.Api),this.opi=this.ppi(this.ypi).concat(this.ppi(this.bpi)),this.upi=this.ppi(this.Mpi),this.cpi=this.npi.concat(this.opi).concat(this.upi)},i.ppi=function(t){if(!this.$mi)return[];var n=this.$mi.getSlotsByTimePositionClass(t);return this.Tpi(n)},i.Spi=function(t){if(this.I0t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.I0t.Xmi=n);var i=this.I0t.Zmi;return i&&(i.qmi=t),i}},i.Npi=function(t){return Do(this.cpi,(function(n){return n.Gmi===t}))},i.Tpi=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.Ipi(t);return new d9(i,i,r,t)}))},i.R1t=function(){var t=this.f7t;t&&this.yo(new s0(t,this.Epi()))},i.kpi=function(){var t=this.f7t;t&&(this.yo(new oO(t,t.qmi.getPlayheadTime())),this.w0t=void 0)},i.Lpi=function(t){var n=this.drt;n&&(n.t0t=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.Vc.length,u=n;u<e;u++){var s=t.Vc[u],o=s.ct;if(s){var a=o;u===n&&(a=gr(o-i,0,o)),r+=a}}return r}(n,n.Xmi,t))},i.Epi=function(){var t=this.f7t;if(!t)return 0;var n=t.qmi;return n.getPlayheadTime()/n.getDuration()},i.xpi=function(t){Co(this.cpi,t),Co(this.npi,t),Co(this.opi,t),Co(this.upi,t)},i.tr=function(){this.mpi(),this.npi.length=0,this.opi.length=0,this.upi.length=0,this.cpi.length=0,this.w0t=void 0,this.I0t=void 0,this.$mi=void 0,this.tpi=void 0},i.gn=function(){this.tr(),this.Bo()},n.Dpi=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=g9(u.getSlot()),o=new l9(n,s,u);o.V4t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.P4t(o),r.push(o)}return r},n.Ipi=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},Ct(n,[{key:"spi",get:function(){return this.npi}},{key:"rpi",get:function(){return this.opi}},{key:"hpi",get:function(){return this.upi}},{key:"drt",get:function(){return this.I0t}},{key:"f7t",get:function(){return this.w0t}},{key:"frt",get:function(){var t=[];if(this.I0t){var n,i=this.I0t.Xmi;if(i>=0)(n=t).push.apply(n,ln(this.I0t.Vc.slice(i+1)))}for(var r=0,e=this.cpi;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,ln(s.Vc))}return t}},{key:"grt",get:function(){return this.cpi}}]),n}(_a);Q(),Nt(),Zt(),St();var y9=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ta=n,u.Xu=i,u.tbt=r,u.k1t=e,u.I5=GM.PP().ks(),u.CG=!0,u.JM=NaN,u.Ypi=!1,u.W5=!1,u.Z5=UA.Nz,u.EG=0,u.Wpi=0,u.Rpi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.qmi,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||yr(r,i)})(u.tbt.f7t)||(u.KE=!0,u.yo(new Db(u.LE)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.KE=!1,u.yo(new FA(u.LE));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.ept){var n=u.ept.getAdVolume();0===n?u.Ypi=!0:u.cT=n,u.yo(new xb(u.LE,u.Nk))}}},u.zpi=function(){u.OE=!1;var t=u.KE;if(u.KE=!1,t&&(u.yo(new Ib(u.LE)),u.yo(new FA(u.LE))),u.Z5=UA.Dz,u.LE=0,u.tbt.f7t){var n=u.tbt.f7t.qmi;u.JM=n.getDuration(),u.yo(new Eb(u.JM)),u.Zpi=y((function(){if(u.Qmi){u.tbt.Lpi(u.LE);var t=n.getPlayheadTime();wr(t,u.Wpi,.001)||u.yo(new Cg(t,void 0)),u.Wpi=t}else u.fA()}),250),u.ept&&u.ept.setAdVolume(m9(u.WE,u.Nk))}},u.Hpi=function(){var t=u.tbt.f7t;t&&(t.Z4t===q$.Y4t?u.ta.Rk():u.KE||u.Rk())},u.fA=function(){m(u.Zpi),u.Zpi=void 0},u.Bpi=function(){u.fA(),u.OE=!0},u.Upi=function(){u.Gpi("pause")},u.Qpi=function(){u.Gpi("playing")},u.xd=function(t){t.Yl.Z4t===q$.YKt&&(u.KE=!1)},u.Ppi=function(){u.ept&&u.ept.resize(u.Xu.Su,u.Xu.Tu)},u.cT=n.Nk,r.yn("Mrt",u.xd),u.Xu.yn(_D.pn,u.Ppi),u.k1t.addEventListener("click",u.Hpi),u}Et(n,t);var i=n.prototype;return i.jpi=function(){this.ept&&this.ept.setAdVolume(m9(this.WE,this.Nk))},i.Opi=function(t){this.ept=t,this.ipi(t)},i.ipi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Rpi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Ppi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.zpi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.Bpi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Upi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Qpi)},i.Fpi=function(){var t=this.ept;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Rpi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Ppi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.zpi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.Bpi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Upi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Qpi))},i.Pk=function(){this.tbt.drt&&(this.tbt.drt.Gmi.resume(),this.KE=!1)},i.Rk=function(){this.tbt.drt&&(this.tbt.drt.Gmi.pause(),this.KE=!0)},i.Gpi=function(t){var i=n.Vpi(t);this.ept&&i&&this.ept.setVideoState(i)},i.ZC=function(){var t=this.tbt.f7t;t&&t.qmi.skip()},i.tr=function(){if(this.Fpi(),this.ept){this.Gpi("stop"),this.ept.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.ept.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.ept.dispose(),this.ept=void 0}this.JM=NaN,this.OE=!1,this.Z5=UA.Nz,this.LE=0,this.Wpi=0,this.KE=!0,void 0!==this.Zpi&&(m(this.Zpi),this.Zpi=void 0)},i.gn=function(){this.tr(),this.Bo(),this.tbt.fn("Mrt",this.xd),this.Xu.fn(_D.pn,this.Ppi),this.k1t.removeEventListener("click",this.Hpi)},n.Vpi=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},Ct(n,[{key:"LE",get:function(){var t=this.tbt.f7t;return t&&(this.LE=t.qmi.getPlayheadTime()),this.EG},set:function(t){this.EG=t}},{key:"ct",get:function(){return this.JM}},{key:"Qmi",get:function(){return!!this.tbt&&void 0!==this.tbt.drt}},{key:"KE",get:function(){return this.CG},set:function(t){this.CG=t}},{key:"Nk",get:function(){return this.cT},set:function(t){this.ept&&this.ept.setAdVolume(t),this.cT=t}},{key:"WE",get:function(){return this.ept&&(this.Ypi=0===this.ept.getAdVolume()),this.Ypi},set:function(t){this.ept&&this.ept.setAdVolume(m9(t,this.Nk)),this.Ypi=t}},{key:"_k",get:function(){return this.I5}},{key:"OE",get:function(){return this.W5},set:function(t){this.W5=t}},{key:"fk",get:function(){return this.Z5}}]),n}(_a);function m9(t,n){return t?0:n}Q(),Nt(),An(),Tn(),Q(),Nt(),Zt(),St();var A9=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return c9.bmi}}]),n}(Jo);Q(),Nt(),Zt(),St();var p9=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return Et(n,t),Ct(n,[{key:"name",get:function(){return c9.ymi}}]),n}(Jo),_9=0;var k9=function(){function t(t,n,i,r){var e=this;this.ept=n,this.Jpi=function(t){e.ept.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.Jpi),t.success?e.Kpi.sM(void 0):e.Kpi.nM(new A9)},this.Xpi(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Jpi),this.Kpi=new sh}var n=t.prototype;return n.Xpi=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.ept;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++_9,s.adUnit,s.timeOffset)}var o=n.customData;if(di(o))for(var a=_.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.qpi=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.ept.submitRequest(),[4,t.Kpi.rM];case 1:return n.sent(),[2]}}))}))()},n.tr=function(){this.ept.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Jpi),this.Kpi.nM(new p9)},t}();Q(),Nt(),An(),Tn(),Q(),Nt(),Zt();var M9=function(){function t(t){var n=this;this.$mi=t,this.gpi=function(t){n.$pi(),n.My.sM(void 0)},this.a8t=function(t){n.$pi(),n.My.nM(new A9)},this.My=new sh,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.gpi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.a8t)}var n=t.prototype;return n.$pi=function(){this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.gpi),this.$mi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.gpi)},n.MFt=function(){this.$pi(),this.My.nM(new p9)},Ct(t,[{key:"tAi",get:function(){return this.My.rM}}]),t}(),b9=function(){function t(t,n){var i=this;this.ta=t,this.eAi=n,this.nAi=0,this.rAi=function(){for(var t=i.ta.xE(),n=0,r=i.eAi.rpi;n<r.length;n++){var e=r[n],u=new GM([i.nAi,t],[!0,!0]),s=e.Gmi.getTimePosition();if(u.gr(s))switch(e.Gmi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.iAi([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.Gmi.play(),e.Gmi.setVisible(!0)}}i.nAi=t},t.yn(Ma.Eb,this.rAi)}var n=t.prototype;return n.Wz=function(t){this.$mi=t},n.Ymi=function(){return this.iAi(this.eAi.spi)},n.Omi=function(){this.iAi(this.eAi.hpi)},n.iAi=function(t){var n=this;return yn((function(){var i,r;return pn(this,(function(e){switch(e.label){case 0:if(!n.$mi)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.sAi=new M9(n.$mi),i=n.sAi.tAi,(r=n.eAi.drt)&&r.Z4t===q$.Y4t&&r.Gmi.stop(),t.shift().Gmi.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.sAi=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.tr=function(){this.sAi&&(this.sAi.MFt(),this.sAi=void 0),this.nAi=0},n.gn=function(){this.ta.fn(Ma.Eb,this.rAi)},t}(),T9=0,N9=function(t){function n(i,r,e){var u;return(u=t.call(this)||this).ta=i,u.vN=r,u.cAi=!1,u.hAi=n.createUniqueDisplayBaseId(),u.k1t=n.dAi(i.we,r,u.hAi),u.oAi=new f.tv.freewheel.SDK.AdManager,u.lAi=new w9(u.k1t,u.vN),u.aAi=new b9(u.ta,u.kmi),u.iu(u.kmi),u.e8t=new y9(i,e,u.kmi,u.k1t),u}Et(n,t);var i=n.prototype;return i.d6t=function(){var t=this;return yn((function(){var n,i,r,e;return pn(this,(function(u){switch(u.label){case 0:if(!t.mJt)throw new A("Invalid state");n=t.oAi,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new k9(n,i,t.mJt,t.hAi),e=t.kmi.Jmi(i,r.qpi()),t.aAi.Wz(i),t.xmi.Opi(i),t.uAi=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.xmi.jpi(),t.cAi=!0,[7];case 4:return[2]}}))}))()},i.p4t=function(t){this.xmi.Gpi(t.type)},i.ge=function(){this.k1t.style.display="block",this.vN.style.display="block"},i.be=function(){this.k1t.style.display="none",this.vN.style.display="none"},i.E7t=function(t){this.mJt=t},i.tr=function(){this.cAi=!1,this.mJt=void 0,this.kmi.tr(),this.aAi.tr(),this.uAi&&(this.uAi.tr(),this.uAi=void 0),this.xmi.tr(),this.vN.src=""},i.gn=function(){this.tr(),this.e8t.gn(),this.aAi.gn(),this.kmi.gn(),this.k1t.remove(),this.ta.we.removeChild(this.k1t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++T9},n.dAi=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},Ct(n,[{key:"jmi",get:function(){return 0!==this.kmi.hpi.length}},{key:"Fmi",get:function(){return 0!==this.kmi.spi.length}},{key:"xmi",get:function(){return this.e8t}},{key:"kmi",get:function(){return this.lAi}},{key:"zmi",get:function(){return this.cAi}},{key:"Rmi",get:function(){return this.aAi}}]),n}(VD);function D9(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function I9(t,n,i){if(void 0!==n&&T(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return _q(n)}tn();var E9=function(){function t(){}var n=t.prototype;return n.$G=function(t){return t.integration===CT.FREEWHEEL},n.u4t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new Gr(t.Uu,t.Ll,1,[lw.NI]);r.GG(t.we);var e=r.sG(lw.NI),u=new N9(t,e.gV,t.Uu);return new v9(t,n,r,u,e)}},n.fH=function(t){var n=Zg(t);fi(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=I9(s.adUnit,s.timeOffset,r),a=D9(s.adUnit);!T(o)&&gi(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):Kt.uA("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.I9=function(t,n,i,r){i.E7t(t,n,r)},Ct(t,[{key:"a4t",get:function(){return c$.M0t}}]),t}();jT.Ld.tW(new E9),Q(),Nt(),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Q(),Nt();var S9,L9=self.theoplayerDeviceMetadata;function C9(t){return t.navigator&&t.navigator.userAgent||""}Q(),Nt(),Q(),Nt(),Q(),Nt(),xn(),Jt(),Q(),Nt(),xn();var j9=(jn(S9={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),jn(S9,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),jn(S9,"Windows 8",/(Windows 8|Windows NT 6.2)/i),jn(S9,"Windows 7",/(Windows 7|Windows NT 6.1)/i),jn(S9,"Windows Vista",/Windows NT 6.0/i),jn(S9,"Windows Server 2003",/Windows NT 5.2/i),jn(S9,"Windows XP",/(Windows NT 5.1|Windows XP)/i),jn(S9,"Windows Phone",/Windows Phone/i),jn(S9,"Android",/Android/i),jn(S9,"Linux",/(Linux(?!.*Ubuntu)|X11)/),jn(S9,"Ubuntu",/Ubuntu/i),jn(S9,"iOS",/(iPhone|iPad|iPod)/i),jn(S9,"Mac OS X",/Mac OS X/i),jn(S9,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),jn(S9,"Chrome OS",/CrOS/i),S9);function x9(t,n){var i=j9[n];return!!i&&Boolean(C9(t).match(i))}function O9(t){return x9(t,"Android")}function z9(t){return x9(t,"Windows Phone")}function R9(t){return x9(t,"iOS")&&!z9(t)}function B9(t){return x9(t,"Ubuntu")}var U9,P9,Q9=/Windows (NT|Phone) ([0-9.]+)/i,Y9=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,G9=(jn(U9={},"Windows 10",Q9),jn(U9,"Windows 8.1",Q9),jn(U9,"Windows 8",Q9),jn(U9,"Windows 7",Q9),jn(U9,"Windows Vista",Q9),jn(U9,"Windows Server 2003",Q9),jn(U9,"Windows XP",Q9),jn(U9,"Windows Phone",/Windows Phone ([0-9.]+)/i),jn(U9,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),jn(U9,"Linux",void 0),jn(U9,"Ubuntu",void 0),jn(U9,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),jn(U9,"Mac OS X",Y9),jn(U9,"Mac OS",Y9),jn(U9,"Chrome OS",void 0),U9);function V9(t,n){var i=G9[n];return i?C9(t).match(i):null}function F9(t){return t.split(/[_.]/).map((function(t){return M(t,10)}))}function W9(t){if(function(t){return Boolean(C9(t).match(/Windows/i))}(t)){if(function(t){return x9(t,"Windows 10")}(t))return"Windows 10";if(z9(t))return"Windows Phone";if(function(t){return x9(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return x9(t,"Windows 8")}(t))return"Windows 8";if(function(t){return x9(t,"Windows 7")}(t))return"Windows 7";if(function(t){return x9(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return x9(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return x9(t,"Windows XP")}(t))return"Windows XP"}else{if(O9(t))return"Android";if(R9(t))return"iOS";if(function(t){return x9(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return x9(t,"Mac OS")}(t))return"Mac OS";if(B9(t))return"Ubuntu";if(function(t){return x9(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return x9(t,"Linux")&&!B9(t)}(t))return"Linux"}}function Z9(t,n){var i=function(t){var n=V9(t,"Windows 10");return n&&n.length>2?F9(n[2]):void 0}(t),r=function(t){var n=V9(t,"Mac OS X");return n&&n.length>2?F9(n[2]):void 0}(t),e=function(t){var n=V9(t,"Android");return n&&n.length>1?F9(n[1]):void 0}(t),u=function(t){var n=V9(t,"iOS");return n&&n.length>3?F9(n[3]):void 0}(t),s=function(t){var n=V9(t,"Chrome OS");return n&&n.length>0?F9(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function X9(t){var n=function(t){return Z9(t,0)}(t),i=function(t){return Z9(t,1)}(t),r=function(t){return Z9(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var H9=(jn(P9={},"Chrome",/Chrome/i),jn(P9,"Chrome Mobile",void 0),jn(P9,"Chrome iOS",/CriOS/i),jn(P9,"Chromium",/Chromium/i),jn(P9,"HeadlessChrome",/HeadlessChrome/i),jn(P9,"Firefox",/Firefox/i),jn(P9,"Seamonkey",/Seamonkey/i),jn(P9,"Firefox iOS",/FxiOS/i),jn(P9,"Safari",/Safari/i),jn(P9,"Edge",/Edge\/\d+/i),jn(P9,"Edge Chromium",/Edg\/\d+/i),jn(P9,"IE",/Trident/i),jn(P9,"Opera",/Opera|OPR/i),jn(P9,"Vivaldi",/Vivaldi/i),jn(P9,"Android Browser",void 0),P9);function K9(t,n){var i=H9[n];return!!i&&Boolean(C9(t).match(i))}function J9(t){return Boolean(C9(t).match(/Mobi/i))}function q9(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||$9(t)}function $9(t){return K9(t,"Chrome iOS")}function t8(t){return K9(t,"Firefox")&&!i8(t)}function n8(t){return K9(t,"Firefox Mobile")&&!i8(t)&&J9(t)}function i8(t){return K9(t,"Seamonkey")}function r8(t){return K9(t,"Firefox iOS")&&!i8(t)}function e8(t){return K9(t,"Safari")&&!K9(t,"Chrome")&&!Wt.Gd}function u8(t){return Boolean(l8(t))}function s8(t){return K9(t,"Edge")}function o8(t){return K9(t,"Edge Chromium")}function a8(t){return K9(t,"IE")}function c8(t){return K9(t,"Vivaldi")}var h8,f8=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,v8=(jn(h8={},"Chrome",f8),jn(h8,"Chrome Mobile",f8),jn(h8,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),jn(h8,"Chromium",f8),jn(h8,"HeadlessChrome",f8),jn(h8,"Firefox",/Firefox\/([0-9.]+)/i),jn(h8,"Firefox iOS",/FxiOS\/([0-9.]+)/i),jn(h8,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),jn(h8,"Safari Mobile",void 0),jn(h8,"Edge",/Edge\/(\d+)/i),jn(h8,"Edge Chromium",/Edg\/(\d+)/i),jn(h8,"Edge Mobile",void 0),jn(h8,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),jn(h8,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),jn(h8,"Opera Mobile",void 0),jn(h8,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),jn(h8,"Android Browser",void 0),h8);function d8(t,n){var i=v8[n];return i?C9(t).match(i):null}function l8(t){return d8(t,"Opera")}function g8(t){var n=function(t){return d8(t,"Firefox")}(t);return n?b(n[1]):0}function w8(t){var n=function(t){return d8(t,"Firefox iOS")}(t);return n?b(n[1].split(".")[0]):0}function y8(t){var n=function(t){return d8(t,"Safari")}(t);return n?b(n[2].split(".")[0]):0}function m8(t){var n=function(t){return d8(t,"Edge")}(t);return n?b(n[1]):0}function A8(t){var n=function(t){return d8(t,"Edge Chromium")}(t);return n?b(n[1]):0}function p8(t){var n=function(t){return d8(t,"IE")}(t);return n?b(n[2]):0}function _8(t){var n=function(t){return d8(t,"Vivaldi")}(t);return n?b(n[1]):0}function k8(t){if(O9(t))return q9(t)?"Chrome Mobile":t8(t)||n8(t)?"Firefox Mobile":s8(t)?"Edge Mobile":u8(t)?"Opera Mobile":"Android Browser";if(R9(t)){if(q9(t)||$9(t))return"Chrome iOS";if(t8(t)||r8(t))return"Firefox iOS";if(s8(t))return"Edge Mobile";if(e8(t)||function(t){return e8(t)&&J9(t)}(t))return"Safari Mobile";if(u8(t))return"Opera Mobile"}return function(t){return K9(t,"Chromium")}(t)?"Chromium":function(t){return K9(t,"HeadlessChrome")}(t)?"HeadlessChrome":q9(t)?"Chrome":t8(t)?"Firefox":e8(t)?"Safari":s8(t)?"Edge":o8(t)?"Edge Chromium":a8(t)?"IE":u8(t)?"Opera":c8(t)?"Vivaldi":void 0}function M8(t){return c8(t)?_8(t):$9(t)?Number(function(t){var n=v8["Chrome iOS"];return n&&n.exec(C9(t))||[]}(t)[1]):q9(t)?Number(function(t){var n=v8.Chrome;return n&&n.exec(C9(t))||[]}(t)[1]):t8(t)||n8(t)?g8(t):r8(t)?w8(t):e8(t)?y8(t):s8(t)?m8(t):o8(t)?A8(t):a8(t)?p8(t):u8(t)?function(t){var n=l8(t);return n&&n[0].indexOf("Opera")>-1?b(n[5]):n?b(n[2].split(".")[0]):0}(t):void 0}var b8=function(t){return t.fAi="pc",t.gAi="console",t._Ai="settop",t.vAi="mobile",t.wAi="tablet",t.mAi="smarttv",t.pAi="searchbot",t}({});function T8(t){var n=C9(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(k8(t))}(t)?"pc":void 0}tn();var N8=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.MAi=function(){var t=Kt.vE;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(Kt._E);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.dH=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=Bd.$b("deviceId");if(t)return t;var n=KT();return Bd.tM("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"8.14.0"),this.AAi(t),this.yAi(),this.bAi(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.MAi(),l.connection&&l.connection.addEventListener&&l.connection.addEventListener("change",this.MAi))},n.AAi=function(t){this.TAi(t);var n=t.deviceManufacturer||L9&&L9.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||L9&&L9.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.TAi=function(t){var n=t.deviceType||function(){var t=T8(self);switch(t){case b8.gAi:return"game-console";case b8.mAi:return"tv";case b8._Ai:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.yAi=function(){var t=k8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=M8(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.bAi=function(t){var n=t.deviceOs||W9(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||X9(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.gn=function(){l.connection&&l.connection.removeEventListener&&l.connection.removeEventListener("change",this.MAi)},t}();var D8=function(t){function n(){var n;return(n=t.call(this)||this).do=!1,n.EAi=!1,n.IAi=Wr.Agama,n}Et(n,t);var i=n.prototype;return i.Ok=function(t){this.NAi=t,this.IAi&&(this.WW=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.IAi),this.WW&&(this.DAi=new N8(this.WW,this.IAi),this.do=!0))},i.lH=function(){return this.IAi||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.IAi},i.uH=function(){return this.do},i.FZ=function(t,n){if(this.WW&&this.IAi)switch(t){case OT.dW:this.WW.setMeasurement(this.IAi.Measurement.BUFFER_LENGTH,n);break;case OT.fW:this.WW.setMeasurement(this.IAi.Measurement.BYTES_RECEIVED,n);break;case OT._W:this.WW.setMeasurement(this.IAi.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case OT.vW:this.WW.setMeasurement(this.IAi.Measurement.VIDEO_PROFILE_BITRATE,n);break;case OT.gW:this.WW.setMeasurement(this.IAi.Measurement.SEGMENT_READ_BITRATE,n);break;case OT.hW:this.WW.setMeasurement(this.IAi.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case OT.aW:this.WW.setMeasurement(this.IAi.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case OT.uW:this.WW.setMeasurement(this.IAi.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case OT.cW:this.WW.setMeasurement(this.IAi.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case OT.lW:this.WW.setMeasurement(this.IAi.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case OT.mW:this.WW.setMeasurement(this.IAi.Measurement.PLAYBACK_POSITION,n);break;case OT.pW:this.WW.setMeasurement(this.IAi.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case OT.wW:this.WW.setMeasurement(this.IAi.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.MZ=function(t,n){if(this.WW&&this.IAi)switch(t){case zT.TW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.ASSET_DURATION,n);break;case zT.MW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.MANIFEST_URI,n);break;case zT.NW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case zT.EW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.SERVICE_NAME,n);break;case zT.IW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.CDN,n);break;case zT.DW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.CONTENT_TITLE,n);break;case zT.kW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.CONTENT_TYPE,n);break;case zT.LW:this.WW.setSessionMetadata(this.IAi.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.dH=function(){this.DAi&&this.NAi&&this.DAi.dH(this.NAi)},i.cH=function(t,n){this.IAi&&this.WW&&(this.HZ(),function(t,n,i,r){var e=JT(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.IAi,this.WW,t,n),this.EAi=!0)},i.gn=function(){this.DAi&&this.DAi.gn(),this.kAi(RT.xW),this.WW=void 0},i.uZ=function(t){this.LAi(t)},i.dZ=function(t,n){this.WW&&this.WW.event(t.code,n)},i.HZ=function(){this.WW&&this.EAi&&(this.WW.exitSession(),this.EAi=!1)},i.kAi=function(t){if(this.WW&&this.IAi&&(this.HZ(),t===RT.xW))this.WW.shutdown(this.IAi.ShutdownType.NORMAL_SHUTDOWN)},i.cZ=function(t,n,i){this.LAi(t,n,i)},i.LAi=function(t,n,i){if(this.WW&&this.IAi)switch(t){case xT.oP:this.xAi(this.IAi.ViewState.PLAYING,n,i);break;case xT.nW:this.xAi(this.IAi.ViewState.FAILED,n,i);break;case xT.rW:this.xAi(this.IAi.ViewState.INITIAL_BUFFERING,n,i);break;case xT.iW:this.xAi(this.IAi.ViewState.PAUSED,n,i);break;case xT.eW:this.xAi(this.IAi.ViewState.SEEK,n,i);break;case xT.sW:this.xAi(this.IAi.ViewState.STALLED,n,i);break;case xT.oW:this.xAi(this.IAi.ViewState.NO_ACCESS,n,i)}},i.xAi=function(t,n,i){if(this.WW)if(n){var r=function(t){return t||""}(i);this.WW.viewStateExtended(t,n.code,r)}else this.WW.viewStateChanged(t)},n}(PT);sM(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).WW=new t,e.SAi=new $T(e,e.WW,r),e}Et(i,n);var r=i.prototype;return r.CE=function(t,i){this.SAi&&this.SAi.nZ(),n.prototype.CE.call(this,t)},r.gn=function(){this.SAi&&this.SAi.gn(),n.prototype.gn.call(this)},i}(n)}}(D8),rM.$nt),Q(),Nt(),Q(),Nt(),St(),Q(),Nt(),Q(),Nt(),An(),Zt(),Tn(),Q(),Nt();var I8=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});Q(),Nt();var E8=function(t){return t.VOD="vod",t.LIVE="live",t}({}),S8=function(){function t(t,n,i,r,e,u,s){var o=this;this.ta=t,this.BAi=n,this.FAi=i,this.OAi=r,this.CAi=e,this.KAi=u,this.RAi=s,this.dV=void 0,this.fV=void 0,this.w7=new ca,this.YAi=new ca,this.fyi=void 0,this.PAi=!1,this.x1t=void 0,this.VAi=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.CAi.gyi(r),r&&r.type===E8.VOD&&r.ads&&o.OAi.$Ai(r.ads),o.BAi._yi=n.integrationData,e.assetInfo&&va(o.fetchAssetInfo(n))}},this.Xfi=function(){o.PAi=!0},this.kai=function(){o.PAi&&o.tyi(o.ta.xE())},this.aai=function(){o.PAi&&(o.tyi(1/0),o.PAi=!1)},this.wd=function(){va(o.BAi.Cn())},this.WAi=function(t){o.w7.Ty(),o.w7=new ca,va(ea(o.Zni(t.Yl.dB,o.w7.ly),o.w7))},this.ZAi=function(){1!==o.ta.$E&&(o.fyi=o.ta.$E,o.ta.$E=1)},this.HAi=function(){void 0!==o.fyi&&(o.ta.$E=o.fyi,o.fyi=void 0)},this.XAi=function(t){t.Yl.yn("GAi",o.WAi),t.Yl.yn("Mrt",o.ZAi),t.Yl.yn("brt",o.HAi)},this.qAi=function(t){t.Yl.fn("GAi",o.WAi),t.Yl.fn("Mrt",o.ZAi),t.Yl.fn("brt",o.HAi)},this.dyi=function(){o.ta.Rk()},this.ta.yn(Ma.Gy,this.VAi),this.ta.yn(Ma.so,this.Xfi),this.ta.yn(Ma.Eb,this.kai),this.ta.yn(Ma.qy,this.aai),this.ta.yn(zA.sP,this.wd),this.OAi.s0t.yn("prt",this.XAi),this.OAi.s0t.yn("mrt",this.qAi)}var n=t.prototype;return n.jAi=function(t){this.dV=pw(t),this.fV=t,this.ta.yo(new zk(t))},n.ka=function(t){this.OAi.resetSource(),this.RAi.eM(),this.PAi=!1,this.ta.zAi(t)},n.Prt=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return i.BAi.tr(),i.PAi=!1,t&&function(t){return t.sources.some((function(t){return t.integration===tb.UPLYNK}))}(t)?[3,2]:[4,i.ta.UAi(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.FAi.Pvi(t)];case 3:return i.QAi=e.sent(),[4,i.ta.UAi(i.QAi,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.jAi(new md(wd.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.gn=function(){this.w7.Ty(),this.YAi.Ty(),this.ta.fn(Ma.Gy,this.VAi),this.ta.fn(Ma.so,this.Xfi),this.ta.fn(Ma.Eb,this.kai),this.ta.fn(Ma.qy,this.aai),this.ta.fn(zA.sP,this.wd);for(var t=0,n=this.OAi.s0t.Ju;t<n.length;t++){var i=n[t];i.fn("GAi",this.WAi),i.fn("Mrt",this.ZAi),i.fn("brt",this.HAi)}this.OAi.s0t.fn("prt",this.XAi),this.OAi.s0t.fn("mrt",this.qAi),this.OAi.destroy(),this.x1t&&(this.x1t.wy(),this.x1t=void 0),this.PAi=!1},n.fetchAssetInfo=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.KAi.pSt(t.integrationData.source.prefix,t.integrationData.source.id,n.YAi.ly,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.CAi.JAi(i),n.RAi.$Ai(i,n.OAi.s0t.Ju),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.tyi=function(t){this.OAi.iyi(t),this.OAi.crt.forEach((function(n){return n.eyi(t)})),this.OAi.syi(this.ta.vk()),this.L1t()},n.CE=function(t){this.OAi.drt||(this.w7.Ty(),this.w7=new ca,va(ea(this.Zni(t,this.w7.ly),this.w7)))},n.Zni=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:if(ta(n),t<i.ta.xE())return i.nyi(t),[2];switch(r=[],i.OAi.ryi){case I8.PLAY_ALL:return[3,1];case I8.PLAY_LAST:return[3,3];case I8.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.OAi.oyi(i.ta.xE(),t),[4,i.hyi(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.OAi.oyi(i.ta.xE(),t).pop(),r=e?[e]:[],[4,i.hyi(t,r,n)];case 5:return i.ayi(t),[3,6];case 6:return[2]}}))}))()},n.nyi=function(t){var n=Do(this.OAi.s0t.Ju,(function(n){return n.Nct.gr(t)}));n?this.ta.uyi(n.lB):this.ta.uyi(t)},n.ayi=function(t){var n=this.OAi.oyi(this.ta.xE(),t).pop();n&&n.Nct.gr(t)?this.ta.uyi(n.dB):this.ta.uyi(t)},n.hyi=function(t,n,i){var r=this;return yn((function(){var e,u,s;return pn(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.cyi(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s.Nct.gr(t)?(r.ta.xE()<t&&r.ta.uyi(s.dB),[2]):(r.ta.uyi(t),[2])}}))}))()},n.cyi=function(t,n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return t.fn("GAi",i.WAi),r=st.race([t.zy("brt",n),t.zy("GAi",n)]),i.tyi(i.ta.xE()),t.Yh||i.ta.uyi(t.lB),[4,r];case 1:return e.sent(),t.yn("GAi",i.WAi),[2]}}))}))()},n.L1t=function(){var t=Do(this.OAi.crt,(function(t){return t.lyi.length>0}));if(t){var n=t.lyi[0];this.x1t||(this.x1t=new y$(this.ta.we),this.x1t.yn("clickstart",this.dyi)),this.x1t.G0t=n}else this.x1t&&(this.x1t.wy(),this.x1t=void 0)},Ct(t,[{key:"ga",get:function(){return this.CAi.ga}},{key:"lt",get:function(){return this.dV}},{key:"zE",get:function(){return this.fV}}]),t}();Q(),Nt(),An(),xn(),Tn(),Q(),Nt();var L8=H_({breaksIndex:Q_,adsIndex:Q_,startTime:Q_,endTime:Q_}),C8=H_({index:Q_,timeOffset:Q_}),j8=H_({duration:Q_,apiFramework:tk(Y_,W_),creative:Y_,mimeType:Y_,width:Q_,height:Q_,companions:ik(function(t){return new uk(t)}((function(){return j8}))),extensions:tk(V_,ik(F_)),fw_parameters:tk(V_,ek(Y_)),events:ek(ik(Y_))}),x8=H_({type:q_(["linear","nonlinear"]),position:q_(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Q_,duration:Q_,ads:ik(j8),events:ek(ik(Y_))}),O8=H_({breaks:ik(x8),breakOffsets:tk(V_,ik(C8)),placeholderOffsets:tk(V_,ik(L8))}),z8=H_({required:tk(V_,G_),fairplayCertificateURL:tk(V_,Y_),widevineLicenseURL:tk(V_,Y_),playreadyLicenseURL:tk(V_,Y_)}),R8={type:q_(K_(E8)),playURL:Y_,prefix:Y_,sid:Y_,drm:tk(V_,z8)},B8=H_(ys({},R8,{type:q_([E8.VOD]),ads:O8,interstitialURL:tk(Y_,W_,V_)})),U8=tk(B8,H_(ys({},R8,{type:q_([E8.LIVE])})));Q(),Nt();var P8=Y_,Q8=H_({userId:Y_,externalId:tk(Y_,ik(Y_))});tn();var Y8,G8=function(){function t(t){this.OQ=t}var n=t.prototype;return n.pSt=function(t){var n=this;return yn((function(){return pn(this,(function(i){try{return[2,n.vyi(t)]}catch(t){throw t}return[2]}))}))()},n.vyi=function(t){var n=this;return yn((function(){var i,r,e;return pn(this,(function(u){switch(u.label){case 0:return[4,F8(t)];case 1:return i=u.sent(),[4,n.OQ.hI({xI:Tl.GET,zu:i,oI:Gd.CN})];case 2:return[4,u.sent().rI()];case 3:return r=u.sent(),e=ys({},r,{type:t.assetType===uN.ASSET?E8.VOD:E8.LIVE}),U8.uY(e)||U8.lY(e,"PreplayResponse"),[2,e]}}))}))()},t}(),V8=(jn(Y8={},uN.ASSET,""),jn(Y8,uN.CHANNEL,"channel/"),jn(Y8,uN.EVENT,"event/"),Y8);function F8(t){return W8.apply(this,arguments)}function W8(){return W8=yn((function(t){var n,i,r,e,u,s;return pn(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=V8[t.assetType],r=function(t){if(ik(P8).uY(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(P8.uY(t))return t;if(Q8.uY(t)&&fi(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(Q8.uY(t))return"ext/"+t.userId+"/"+t.externalId;throw new p("Invalid asset id")}(t.id),[4,Z8(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=H8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},fi(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,jl(n+"/preplay/"+i+r+".json",ys({v:"2"},s,e,u,s))]}}))})),W8.apply(this,arguments)}function Z8(t){return X8.apply(this,arguments)}function X8(){return X8=yn((function(t){var n,i,r;return pn(this,(function(e){switch(e.label){case 0:return(n=t)?[4,Kt.wA()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,Kt.pA()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,Kt.mA()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),X8.apply(this,arguments)}function H8(t,n){var i=t!==uN.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}Q(),Nt(),An(),Tn(),Q(),Nt();var K8=H_({ad_id:Y_,apiFramework:tk(W_,Y_),companions:ik(F_),creative:Y_,duration:Q_,mimeType:Y_,height:Q_,width:Q_,extensions:tk(V_,ik(F_)),fw_parameters:tk(V_,ek(Y_))}),J8=H_({breakId:Y_,ads:ik(K8),type:q_(["linear","nonlinear"]),position:q_(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Q_,duration:Q_,height:tk(V_,Q_),width:tk(V_,Q_),events:ek(ik(Y_))}),q8=H_({breaks:ik(J8)}),$8=H_({next_time:Q_,ads:tk(V_,q8),extensions:tk(V_,ik(F_)),error:tk(V_,Y_),currentBreakEnd:tk(V_,Q_)}),t7=function(t){return t.TSt="start",t.eW="seek",t}({}),n7=function(){function t(t){this.OQ=t}var n=t.prototype;return n.pSt=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){try{return[2,i.vyi(t,n)]}catch(t){throw t}return[2]}))}))()},n.vyi=function(t,n){var i=this;return yn((function(){var r,e;return pn(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return jl(t.zonePrefix+"/session/ping/"+t.sessionId+".json",ys({},n))}(t),[4,i.OQ.hI({xI:Tl.GET,zu:r,oI:Gd.CN,ly:n})];case 1:return[4,u.sent().rI()];case 2:return e=u.sent(),$8.uY(e)||$8.lY(e,"PingResponse"),[2,e]}}))}))()},t}();Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),Zt(),St();var i7=function(t){function n(n){var i;return(i=t.call(this,"wyi")||this).eD=n,i}return Et(n,t),n.prototype.ma=function(){return new r7(this.eD)},Ct(n,[{key:"iD",get:function(){return this.eD}}]),n}(jg),r7=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return Et(n,t),n}(ka);Q(),Nt(),Zt(),St();var e7=function(t){function n(n){var i;return(i=t.call(this,"myi")||this).dV=n,i}return Et(n,t),n.prototype.ma=function(){return new u7(this.dV)},Ct(n,[{key:"lt",get:function(){return this.dV}}]),n}(jg),u7=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return Et(n,t),n}(ka),s7=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.Iyi=n,r.ta=i,r.yyi=NaN,r.Nyi=void 0,r.Dyi=!1,r.Eyi=NaN,r.rN=new ca,r.Syi=void 0,r.Myi=yn((function(){var t;return pn(this,(function(n){switch(n.label){case 0:return t=e.ta.xE(),e.Eyi=t,e.Dyi||hi(e.Nyi)||T(e.yyi)?[2]:e.yyi+e.Nyi<=t?(e.Dyi=!0,[4,e.byi()]):[3,2];case 1:n.sent(),e.Dyi=!1,n.label=2;case 2:return[2]}}))})),r.Tyi=function(){if(r.ta.xE()!==r.yyi){r.Dyi&&r.kyi(),r.Eyi=r.ta.xE();var t=r.Eyi-(r.yyi||0);T(t)?va(r.byi(t7.eW,0)):va(r.byi(t7.eW,t))}},r}Et(n,t);var i=n.prototype;return i.Cn=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:return(n=t.pyi)?(i=H8(n.source.assetType,n.source.ping),0!==i?(t.yyi=t.ta.vk().start(0),[4,t.byi(t7.TSt)]):[2]):[2];case 1:return r.sent(),t.ta.yn("timeupdate",t.Myi),t.ta.yn("seeking",t.Tyi),[2]}}))}))()},i.byi=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:if(r=i.pyi.preplayResponse,e={},T(i.yyi))return[2];if(ci(i.Syi)&&yr(i.Syi,i.ta.xE()-i.yyi))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.ta.xE()-i.yyi,t===t7.TSt?u=0:t!==t7.eW&&i.Nyi&&(u=k.min(u,i.Nyi)),i.Syi=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.Iyi.pSt(ys({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.pyi)?void 0:o.source.ping.freeWheelVideoViews},e),i.rN.ly)];case 2:return a=h.sent(),i.yo(new i7(a)),i.Nyi=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return $o(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i.yo(new e7(s)),[7];case 5:return[2]}}))}))()},i.tr=function(){this.Nyi=void 0,this.pyi=void 0,this.yyi=NaN,this.Dyi=!1,this.Eyi=NaN,this.Syi=void 0,this.ta.fn("seeking",this.Tyi),this.ta.fn("timeupdate",this.Myi),this.kyi()},i.kyi=function(){this.rN.Ty(),this.rN=new ca},i.gn=function(){this.tr()},Ct(n,[{key:"_yi",set:function(t){this.pyi=t}},{key:"Ayi",get:function(){return this.yyi}}]),n}(Aa);Q(),Nt(),An(),Tn();var o7=function(){function t(t,n){this.Lyi=t,this.FJ=n}return t.prototype.Pvi=function(t){var n=this;return yn((function(){var i,r,e,u,s,o;return pn(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?function(t){return"verizon-media"===t.integration||"uplynk"===t.integration}(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.Lyi.pSt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=LM({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.FJ),o.src&&(o.src=jl(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new A("Fatal: unable to play UplynkSources.");return[2,ys({},t,{sources:i})]}}))}))()},t}();Q(),Nt(),Zt(),Q(),Nt(),Zt(),St(),Q(),Nt(),St();var a7=function(t){function n(n,i){var r;return(r=t.call(this,"Mrt")||this).Yl=n,r.kU=i,r}return Et(n,t),n.prototype.ma=function(){return new c7(this.Yl.ga)},n}(jg),c7=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var h7=function(t){function n(n,i){var r;return(r=t.call(this,"brt")||this).Yl=n,r.kU=i,r}return Et(n,t),n.prototype.ma=function(){return new f7(this.Yl.ga)},n}(jg),f7=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var v7=function(t){function n(n){var i;return(i=t.call(this,"GAi")||this).Yl=n,i}return Et(n,t),n.prototype.ma=function(){return new d7(this.Yl.ga)},n}(jg),d7=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return Et(n,t),n}(ka);Q(),Nt(),Q(),Nt(),St();var l7=function(t){function n(n){var i;return(i=t.call(this,"o3t")||this).Yl=n,i}return Et(n,t),n.prototype.ma=function(){return new g7(this.Yl.ga)},n}(jg),g7=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return Et(n,t),n}(ka),w7=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).yB=n,s.JM=i,s.Dc=r,s.ywi=e,s.Kh=!1,s.jyi=!1,s.Rqt=u,s}Et(n,t);var i=n.prototype;return i.xyi=function(t){this.JM=t-this.lB;for(var n=0,i=this.Vc.Ju;n<i.length;n++){var r=i[n];r.lB>t&&this.Vc.wS(r)}this.yo(new l7(this))},i.Hlt=function(t){return t>=this.lB&&(hi(this.ct)||t<=this.lB+this.ct)},i.Oyi=function(t){return-1!==this.Oqt&&(!!ci(this.dB)&&t-this.lB>=this.Oqt)},i.ZC=function(){this.Dc.Ju.forEach((function(t){return t.ZC()})),this.yo(new v7(this))},i.Ryi=function(t){var n=ci(this.dB)&&t>=this.dB,i=this.lB<=t&&!n&&!this.Yh,r=this.Yh&&this.dB&&t>=this.dB;i&&(this.Kh=!0,this.yo(new a7(this,this.lB))),this.Dc.Ju.forEach((function(n){return n.Ryi(t)})),r&&(this.jyi=!0,this.Kh=!1,this.yo(new h7(this,this.dB)))},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get startTime(){return t.lB},get endTime(){return t.dB},get duration(){return t.ct},get ads(){return t.Vc.ga},get skipOffset(){return t.Oqt},set skipOffset(n){t.Oqt=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new pI(t,i),i}(this)),this.Za}},{key:"lB",get:function(){return this.yB}},{key:"dB",get:function(){return this.JM?this.yB+this.JM:void 0}},{key:"ct",get:function(){return this.JM}},{key:"Nct",get:function(){var t=this.dB;return ci(t)?new GM([this.lB,t]):GM.PP()}},{key:"Vc",get:function(){return this.Dc}},{key:"Cyi",get:function(){return this.jyi}},{key:"Yh",get:function(){return this.Kh}},{key:"Oqt",get:function(){return this.ywi?-1:this.Rqt},set:function(t){this.ywi||(this.Rqt=t)}}]),n}(_a);Q(),Nt(),Zt(),St(),Q(),Nt(),St();var y7=function(t){function n(n,i){var r;return(r=t.call(this,"Trt")||this).Art=n,r.kU=i,r}return Et(n,t),n.prototype.ma=function(){return new m7(this.Art.ga)},n}(jg),m7=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var A7=function(t){function n(n,i){var r;return(r=t.call(this,"Srt")||this).Art=n,r.kU=i,r}return Et(n,t),n.prototype.ma=function(){return new p7(this.Art.ga)},n}(jg),p7=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return Et(n,t),n}(ka);Q(),Nt(),St(),Q(),Nt(),St();var _7=function(t){function n(n){var i;return(i=t.call(this,"Pyi")||this).Art=n,i}return Et(n,t),n.prototype.ma=function(){return new k7(this.Art.ga)},n}(jg),k7=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return Et(n,t),n}(ka),M7=function(t){function n(){return t.call(this)||this}Et(n,t);var i=n.prototype;return i.eei=function(t){},i.oei=function(t){this.yo(new _7(t))},n}(I1);Q(),Nt(),St();var b7=function(t){function n(n){var i;return(i=t.call(this,"a3t")||this).Art=n,i}return Et(n,t),n.prototype.ma=function(){return new T7(this.Art.ga)},n}(jg),T7=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return Et(n,t),n}(ka),N7=function(t){function n(n){var i;return(i=t.call(this,"u3t")||this).Art=n,i}return Et(n,t),n.prototype.ma=function(){return new D7(this.Art.ga)},n}(jg),D7=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return Et(n,t),n}(ka),I7=function(t){function n(n){var i;return(i=t.call(this,"c3t")||this).Art=n,i}return Et(n,t),n.prototype.ma=function(){return new E7(this.Art.ga)},n}(jg),E7=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return Et(n,t),n}(ka),S7=function(t){function n(n){var i;return(i=t.call(this,"zyi")||this).Art=n,i}return Et(n,t),n.prototype.ma=function(){return new L7(this.Art.ga)},n}(jg),L7=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return Et(n,t),n}(ka);Q(),Nt();var C7=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var d;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(d=t.call(this)||this).yB=n,d.JM=i,d.XXt=r,d.Vyi=e,d.kX=u,d.dT=s,d.fT=o,d.Gyi=c,d.Wyi=h,d.J_=f,d.Tqt=v,d.BXt=new M7,d.Kh=!1,d.Zyi=!1,d.Hyi=!1,d.Xyi=!1,d.qyi=!1,d.Kyi=function(){return d.eyi(d.yB)},d.Jyi=function(){return d.eyi(d.dB)},d.BXt.sei(a),d.yn("Trt",d.Kyi),d.yn("Srt",d.Jyi),d}Et(n,t);var i=n.prototype;return i.Ryi=function(t){var n=this.lB<=t&&t<this.dB,i=n&&!this.Yh,r=!n&&this.Yh;i&&(this.Zyi=!1,this.Hyi=!1,this.Xyi=!1,this.qyi=!1,this.Kh=!0,this.yo(new y7(this,this.lB))),r&&(this.Kh=!1,this.yo(new A7(this,this.dB)))},i.eyi=function(t){var n=(t-this.lB)/this.ct;!this.Zyi&&n>=.25&&(this.Zyi=!0,this.yo(new b7(this))),!this.Hyi&&n>=.5&&(this.Hyi=!0,this.yo(new N7(this))),!this.Xyi&&n>=.75&&(this.Xyi=!0,this.yo(new I7(this))),!this.qyi&&n>=.9999&&(this.qyi=!0,this.yo(new S7(this)))},i.ZC=function(){this.Zyi=!0,this.Hyi=!0,this.Xyi=!0,this.qyi=!0},i.gn=function(){this.fn("Trt",this.Kyi),this.fn("Srt",this.Jyi)},n.Byi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.Byi(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.Uyi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.Uyi(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){var n,i={get apiFramework(){return t.HXt},get companions(){return t.zXt.ga},get creative(){return t.Qyi},get duration(){return t.ct},get endTime(){return t.dB},get events(){return t._X},get extensions(){return t.Fyi},get freeWheelParameters(){return t.Yyi},get height(){return t.Ti},get mimeType(){return t.gX},get startTime(){return t.lB},get width(){return t.ji},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new pI(t,i),i}(this)),this.Za}},{key:"lB",get:function(){return this.yB}},{key:"dB",get:function(){return this.yB+this.JM}},{key:"ct",get:function(){return this.JM}},{key:"HXt",get:function(){return this.XXt}},{key:"Qyi",get:function(){return this.Vyi}},{key:"gX",get:function(){return this.kX}},{key:"ji",get:function(){return this.dT}},{key:"Ti",get:function(){return this.fT}},{key:"_X",get:function(){return this.J_}},{key:"zXt",get:function(){return this.BXt}},{key:"Fyi",get:function(){return this.Gyi}},{key:"Yyi",get:function(){return this.Wyi}},{key:"Yh",get:function(){return this.Kh}},{key:"lyi",get:function(){var t;return null!=(t=this.J_.clickthroughs)?t:[]}}]),n}(_a);Q(),Nt(),St(),Q(),Nt(),St();var j7=function(t){function n(n){var i;return(i=t.call(this,"prt")||this).Yl=n,i}return Et(n,t),n.prototype.ma=function(){return new x7(this.Yl.ga)},n}(jg),x7=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var O7=function(t){function n(n){var i;return(i=t.call(this,"mrt")||this).Yl=n,i}return Et(n,t),n.prototype.ma=function(){return new z7(this.Yl.ga)},n}(jg),z7=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return Et(n,t),n}(ka),R7=function(t){function n(){return t.call(this)||this}Et(n,t);var i=n.prototype;return i.eei=function(t){this.yo(new j7(t))},i.oei=function(t){this.yo(new O7(t))},n}(I1),B7=function(){function t(t,n,i,r){var e,u=this;this.ebi=[],this.hbi=void 0,this.ubi=function(t){return u.hbi=t,u},this.obi=function(t){t.iD.ads&&u.$Ai(t.iD.ads),t.iD.currentBreakEnd&&u.sbi(t.iD.currentBreakEnd)},this.rbi=function(t){if(0!==u.ebi.length&&0!==u.ta.vk().length)for(var n=u.ta.vk().end(u.ta.vk().length-1),i=0,r=u.ebi.slice();i<r.length;i++){var e=r[i];ci(e.DXt.ct)?Co(u.ebi,e):e.tkt<n&&(e.DXt.xyi(e.tkt),Co(u.ebi,e))}},this.yd=function(t){var n,i=null==(n=u.hbi)?void 0:n.createAdBreak({timeOffset:t.Yl.lB,maxDuration:t.Yl.ct,customData:t.Yl});t.Yl.yn("GAi",u.cbi);for(var r=0,e=t.Yl.Vc.Ju;r<e.length;r++){var s,o,a=e[r],c={type:"linear",timeOffset:a.lB,duration:a.ct,creativeId:a.Qyi,skipOffset:t.Yl.Oqt,clickThrough:null==(s=a.lyi)?void 0:s[0],customData:a};null==(o=u.hbi)||o.createAd(c,i),a.yn("Trt",u.Q8t),a.yn("Srt",u.lbi),a.yn("a3t",u.dbi),a.yn("u3t",u.fbi),a.yn("c3t",u.gbi),a.yn("zyi",u.kpi)}},this.cbi=function(t){for(var n=0,i=t.Yl.Vc.Ju;n<i.length;n++){var r,e,s=i[n],o=u.abi(s);if(o)null==(r=u.hbi)||r.beginAd(o),null==(e=u.hbi)||e.skipAd(o)}},this.bd=function(t){for(var n=0,i=t.Yl.Vc.Ju;n<i.length;n++){i[n].Bo()}t.Yl.Bo()},this.Q8t=function(t){var n,i=u.abi(t.Art);i&&(null==(n=u.hbi)||n.beginAd(i))},this.lbi=function(t){var n,i=u.abi(t.Art);i&&(null==(n=u.hbi)||n.endAd(i))},this.dbi=function(t){var n,i=u.abi(t.Art);i&&(null==(n=u.hbi)||n.updateAdProgress(i,.25))},this.fbi=function(t){var n,i=u.abi(t.Art);i&&(null==(n=u.hbi)||n.updateAdProgress(i,.5))},this.gbi=function(t){var n,i=u.abi(t.Art);i&&(null==(n=u.hbi)||n.updateAdProgress(i,.75))},this.kpi=function(t){var n,i=u.abi(t.Art);i&&(null==(n=u.hbi)||n.updateAdProgress(i,1))},this.ta=t,this.BAi=n,this.D0t=new R7,this.D0t.yn("prt",this.yd),this.D0t.yn("mrt",this.bd),this.ibi=i,this.tbi=r,t.yn("timeupdate",this.rbi),this.BAi.yn("wyi",this.obi),null==(e=this.ta.Vc)||e._rt(CT.UPLYNK,this.ubi)}var n=t.prototype;return n.syi=function(t){if(0!==t.length)for(var n=GM.xn(t),i=0,r=this.D0t.Ju.slice();i<r.length;i++){var e=r[i];ci(e.dB)&&n.Cn(0)>e.dB&&this.D0t.wS(e)}},n.$Ai=function(t){for(var n=!function(t){return ci(t.breakOffsets)}(t),i=n?this.BAi.Ayi:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new M7,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?C7.Uyi(s,f):C7.Byi(s,f);o.Kz(v),s+=v.ct,a+=v.ct}var d=u.timeOffset+i,l=n?void 0:u.duration,g=new w7(d,l,o,n,this.ibi);n&&this.ebi.push({DXt:g,tkt:d+a}),this.D0t.Kz(g)}}},n.sbi=function(t){var n=this.$yi;n&&n.xyi(t+this.BAi.Ayi)},n.iyi=function(t){this.nbi=t,this.D0t.Ju.forEach((function(n){return n.Ryi(t)}))},n.ZC=function(){var t=this.nbi,n=this.drt;t&&n&&n.Oyi(t)&&n.ZC()},n.skipAd=function(t){this.ZC()},n.oyi=function(t,n){for(var i=[],r=0,e=this.s0t.Ju;r<e.length;r++){var u=e[r];!u.Cyi&&u.lB>=t&&u.lB<n&&i.push(u)}return i},n.destroy=function(){this.ta.fn("timeupdate",this.rbi),this.BAi.fn("wyi",this.obi)},n.resetSource=function(){for(var t,n=0,i=this.s0t.Ju;n<i.length;n++){for(var r=i[n],e=0,u=r.Vc.Ju;e<u.length;e++){u[e].Bo()}r.Bo()}this.s0t.eM(),null==(t=this.hbi)||t.removeAllAds(),this.nbi=void 0,this.ebi=[]},n.abi=function(t){return Do(this.hbi.ads,(function(n){return n.creativeId===t.Qyi}))},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{get adBreaks(){return t.s0t.ga},get currentAdBreak(){if(t.drt)return t.drt.ga},get currentAds(){return t.drt?t.drt.Vc.ga:(new M7).ga},skip:function(){t.ZC()}}}(this)),this.Za}},{key:"s0t",get:function(){return this.D0t}},{key:"drt",get:function(){return Do(this.D0t.Ju,(function(t){return t.Yh}))}},{key:"crt",get:function(){return this.drt?this.drt.Vc.Ju.filter((function(t){return t.Yh})):[]}},{key:"$yi",get:function(){if(0!==this.s0t.V&&0!==this.ta.vk().length){var t=this.ta.vk().end(this.ta.vk().length-1);return Do(this.s0t.Ju,(function(n){return n.Hlt(t)}))}}},{key:"ryi",get:function(){return this.tbi}}]),t}();Q(),Nt(),An(),Tn(),Q(),Nt(),Q(),Nt(),Zt();var U7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),P7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),Q7=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,A,p,_,k,M,b){this.lB=t,this.dB=n,this.ct=i,this.vbi=r,this.wbi=e,this.lt=u,this.mbi=s,this.pbi=o,this.Abi=a,this.ybi=c,this.bbi=h,this.Mbi=f,this._Q=v,this.Tbi=d,this.Sbi=l,this.Nbi=g,this.Ibi=w,this.$j=y,this.Dbi=m,this.Ebi=A,this.kbi=p,this.Lbi=_,this.xbi=k,this.Cbi=M,this.jbi=b}return t._bi=function(n,i,r){var e=new $a(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.Hb(1),e.Hb(2),e.Hb(4),e.Hb(8),n.external_id,Boolean(n.is_ad),n.asset)},Ct(t,[{key:"ga",get:function(){return this.Za||(this.Za=function(t){return{startTime:t.lB,endTime:t.dB,duration:t.ct,audioOnly:t.vbi,boundaryDetails:t.wbi,error:t.lt,tvRating:t.mbi,maxSlice:t.pbi,thumbPrefix:t.Abi,sliceDuration:t.ybi,movieRating:t.bbi,ownerId:t.Mbi,metadata:t._Q,rates:t.Tbi,thumbnailResolutions:t.Sbi,posterUrl:t.Nbi,defaultPosterUrl:t.Ibi,description:t.$j,hasAdultLanguage:t.Dbi,hasSexualSituations:t.Ebi,hasViolence:t.kbi,hasDrugSituations:t.Lbi,externalId:t.xbi,isAd:t.Cbi,assetId:t.jbi}}(this)),this.Za}}]),t}();var Y7=H_({duration:Q_,offset:Q_}),G7=H_({c3:Y7}),V7=H_({c7:Y7}),F7=H_({halftime:Y7}),W7=q_(K_(P7)),Z7=q_(K_(U7)),X7=H_({width:tk(V_,Q_),prefix:Y_,bw:Q_,bh:Q_,height:tk(V_,Q_)}),H7=H_({audio_only:Q_,boundary_details:tk(V_,ik(tk(G7,V7,F7))),error:Q_,tv_rating:W7,max_slice:Q_,thumb_prefix:Y_,slice_dur:Q_,movie_rating:Z7,owner:Y_,meta:F_,rates:ik(Q_),thumbs:ik(X7),poster_url:Y_,duration:Q_,default_poster_url:Y_,desc:Y_,rating_flags:Q_,external_id:Y_,is_ad:Q_,asset:Y_}),K7=function(){function t(t){this.OQ=t}var n=t.prototype;return n.pSt=function(t,n,i,r){var e=this;return yn((function(){var u,s;return pn(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(P8.uY(n))return[J7(t,n,i)];if(ik(P8).uY(n))return n.map((function(n){return J7(t,n,i)}));if(Q8.uY(n)){return(fi(n.externalId)?n.externalId:[n.externalId]).map((function(r){return J7(t,"ext/"+n.userId+"/"+r,i)}))}throw new p("Invalid asset id")}(t,n,r),s=u.map((function(t){return Ob((function(){return e.vyi(t)}),i)})),[4,st.all(s)];case 1:return[2,o.sent().filter(ci)]}}))}))()},n.vyi=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return[4,n.OQ.hI({xI:Tl.GET,zu:t,oI:Gd.CN})];case 1:return[4,r.sent().rI()];case 2:return i=r.sent(),H7.uY(i)||H7.lY(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function J7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}Q(),Nt(),St(),Q(),Nt(),St();var q7=function(t){function n(n){var i;return(i=t.call(this,"Obi")||this).rd=n,i}return Et(n,t),n.prototype.ma=function(){return new $7(this.rd.ga)},n}(jg),$7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var ttt=function(t){function n(n){var i;return(i=t.call(this,"Rbi")||this).rd=n,i}return Et(n,t),n.prototype.ma=function(){return new ntt(this.rd.ga)},n}(jg),ntt=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return Et(n,t),n}(ka),itt=function(t){function n(){return t.call(this)||this}Et(n,t);var i=n.prototype;return i.$Ai=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.lB&&o.lB<i&&(i+=o.ct||0)}this.Kz(Q7._bi(u,r,i)),r=i}},i.eei=function(t){this.yo(new ttt(t))},i.oei=function(t){this.yo(new q7(t))},n}(I1);Q(),Nt(),Zt(),St(),Q(),Nt(),St();var rtt=function(t){function n(n){var i;return(i=t.call(this,"Pbi")||this).iD=n,i}return Et(n,t),n.prototype.ma=function(){return new ett(this.iD)},n}(jg),ett=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return Et(n,t),n}(ka);Q(),Nt(),St();var utt=function(t){function n(n){var i;return(i=t.call(this,"zbi")||this).iD=n,i}return Et(n,t),n.prototype.ma=function(){return new stt(this.iD)},n}(jg),stt=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return Et(n,t),n}(ka),ott=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).OAi=n,e.RAi=i,e.BAi=r,r.yn("wyi",e.Ds),r.yn("myi",e.Ds),e}Et(n,t);var i=n.prototype;return i.gyi=function(t){t&&this.yo(new rtt(Zg(t)))},i.JAi=function(t){var n=this;t.forEach((function(t){return n.yo(new utt(t))}))},i.ma=function(){var t,n=this,i={get ads(){return n.OAi.ga},get assets(){return n.RAi.ga},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}};return t=new pI(n,i),i},Ct(n,[{key:"ga",get:function(){return this.Za||(this.Za=this.ma()),this.Za}}]),n}(_a),att=function(){function t(){}return t.prototype.Bbi=function(t,n){var i=new G8(t.wE),r=new n7(t.wE),e=function(t){if(t.uplynk&&ci(t.uplynk.defaultSkipOffset))return ctt(t.uplynk.defaultSkipOffset);if(t.verizonMedia&&ci(t.verizonMedia.defaultSkipOffset))return ctt(t.verizonMedia.defaultSkipOffset);return-1}(n),u=function(t){var n,i,r,e,u=null!=(e=null!=(r=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?r:null==(i=t.verizonMedia)?void 0:i.onSeekOverAd)?e:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(u)}(n),s=new s7(r,t),o=new o7(i,n),a=new B7(t,s,e,u),c=new K7(t.wE),h=new itt,f=new ott(a,h,s);return new S8(t,s,o,a,f,c,h)},t}();function ctt(t){return Ai(t)?t:-1}sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ubi=(new att).Bbi(r,i),r}Et(n,t);var i=n.prototype;return i.zAi=function(n){t.prototype.ka.call(this,n)},i.UAi=function(n,i){return t.prototype.Prt.call(this,n,i)},i.uyi=function(n){t.prototype.CE.call(this,n)},i.PE=function(){var n;return null!=(n=this.Ubi.lt)?n:t.prototype.PE.call(this)},i.BE=function(){var n;return null!=(n=this.Ubi.zE)?n:t.prototype.BE.call(this)},i.CE=function(t,n){this.Ubi.CE(t)},i.ka=function(t){this.Ubi.ka(t)},i.Prt=function(t,n){return this.Ubi.Prt(t,n)},i.ma=function(){var n=this.Ubi.ga;return Wg(t.prototype.ma.call(this),{get verizonMedia(){return n},get uplynk(){return n}})},i.gn=function(){this.Ubi.gn(),t.prototype.gn.call(this)},n}(t)}),rM.qnt),Q(),Nt(),Q(),Nt(),An(),St(),Tn(),Q(),Nt(),An(),Zt(),Tn(),tn(),Q(),Nt();var htt=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});Q(),Nt(),Zt(),St();var ftt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).eqt=e,u.yB=r,u}return Et(n,t),n.prototype.ma=function(){return n0(this)},Ct(n,[{key:"wJt",get:function(){return c$.T0t}},{key:"lB",get:function(){return this.yB}},{key:"mXt",get:function(){return this.eqt}}]),n}(t0);Q(),Nt(),Zt(),St();var vtt=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).x4t=n,e.C4t=n,r){var u=new Date(r);Mr(u)&&(e.Qbi=u)}return e}return Et(n,t),Ct(n,[{key:"Azt",get:function(){return this.Qbi}},{key:"wJt",get:function(){return c$.T0t}}]),n}(K$),dtt=function(){function t(t,n,i){var r=this;this.iMi=-1/0,this.Vbi=void 0,this.Wbi=0,this.Xbi=[],this.Ypi=!1,this.Nq=!1,this.nAi=-1,this.Kbi=void 0,this.Hbi=void 0,this.tMi=0,this.vz=function(){r.Zbi()},this.mZt=function(){r.cMi(htt.RESUME)},this.fOt=function(){r.rMi(),r.cMi(htt.PAUSE)},this.We=function(){r.rMi(),r.nAi=-1},this.Sh=function(){r.rMi()},this.ld=function(){-1===r.nAi&&(r.nAi=r.Gbi()),r.oMi(),r.hMi(),r.nAi=r.Gbi()},this.l2t=function(){if(r.Ypi!==r.ta.WE){r.Ypi=r.ta.WE;var t=r.Ypi?htt.MUTE:htt.UNMUTE;r.cMi(t)}},this.Fbi=function(){if(r.Nq!==r.ta.cs()){r.Nq=r.ta.cs();var t=r.Nq?htt.FULL_SCREEN:htt.EXIT_FULL_SCREEN;r.cMi(t)}},this.e8=function(t){$o(t)||(r.cMi(htt.ERROR),va(r.$bi()))},this.aMi=[htt.START,htt.FIRST_QUARTILE,htt.MID_POINT,htt.THIRD_QUARTILE,htt.COMPLETE,htt.IMPRESSION,htt.CREATIVE_VIEW],this.ta=t,this.nMi=n,this.sMi=i,this.DL()}var n=t.prototype;return n.DL=function(){this.ta.yn(zA.oP,this.vz),this.ta.yn(Ma.wb,this.fOt),this.ta.yn(Ma.so,this.mZt),this.ta.yn(Ma.Mb,this.We),this.ta.yn(Ma.qy,this.Sh),this.ta.yn(Ma.Eb,this.ld),this.ta.yn(Ma.kb,this.l2t),this.ta.yn(YD.MODE_CHANGE,this.Fbi)},n.NL=function(){this.ta.fn(zA.oP,this.vz),this.ta.fn(Ma.wb,this.fOt),this.ta.fn(Ma.so,this.mZt),this.ta.fn(Ma.Mb,this.We),this.ta.fn(Ma.qy,this.Sh),this.ta.fn(Ma.Eb,this.ld),this.ta.fn(Ma.kb,this.l2t),this.ta.fn(YD.MODE_CHANGE,this.Fbi)},n.Gbi=function(){return this.ta.xE()-this.Wbi},n.Zbi=function(){var t=this;if(!this.Hbi)if(this.ta._d()===1/0){var n=function(){var n;null==(n=t.Kbi)||n.wy(),t.Kbi=void 0,t.Hbi=void 0};this.Kbi=new ca,this.Hbi=this.Jbi(this.Kbi.ly).catch(this.e8).then(n,n)}else 0===this.Xbi.length&&(this.Hbi=this.qbi())},n.$bi=function(){var t=this;return yn((function(){var n,i;return pn(this,(function(r){switch(r.label){case 0:n=k.min(1e3*k.pow(2,t.tMi),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ga(n,null==(i=t.Kbi)?void 0:i.ly)];case 2:return r.sent(),t.tMi++,[3,4];case 3:return $o(r.sent())?(t.tMi=0,[2]):[3,4];case 4:return t.Zbi(),[2]}}))}))()},n.Jbi=function(t){var n=this;return yn((function(){var i;return pn(this,(function(r){switch(r.label){case 0:return ta(t),n.ta.KE?[3,5]:(i=Kt.Og()-n.iMi)>1e4?[4,n.qbi(t)]:[3,2];case 1:return r.sent(),n.iMi=Kt.Og(),n.tMi=0,[3,4];case 2:return[4,ga(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.eMi=function(t){var n=t.Azt;if(n&&this.ta.NE&&0===this.Wbi&&!this.sMi&&0!==k.floor(this.ta.vk().start(0))){var i=(this.ta.NE.getTime()-n.getTime())/1e3,r=this.ta.xE()-t.lzt;this.Wbi=r-i}},n.qbi=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,n.ta.wE.hI({zu:n.nMi})];case 1:return[4,v.sent().BN(t)];case 2:if(0===(i=v.sent()).avails.length)return 0!==n.Xbi.length&&(n.Xbi=[]),[2];if(i.avails.length===n.Xbi.length&&i.avails[0].startTimeInSeconds===n.Xbi[0].lzt)return n.eMi(n.Xbi[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new vtt(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new ftt(o,q$.YKt,h.startTimeInSeconds,h.trackingEvents)).V4t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.P4t(f);r.push(o),n.eMi(o)}return n.Xbi=yo(r,(function(t,n){return t.lzt-n.lzt})),[3,4];case 3:throw na(v.sent()),new A("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.rMi=function(){var t;null==(t=this.Kbi)||t.Ty(),this.Kbi=void 0,this.Hbi=void 0,this.iMi=-1/0},n.oMi=function(){if(0!==this.Xbi.length){var t=this.Xbi[this.Xbi.length-1],n=this.Gbi();if(t.lzt+t.$$t<this.nAi){var i;this.Vbi&&(null==(i=this.ta.Vc)||i.yo(new nO(this.Vbi)),this.Vbi=void 0)}else{for(var r=0,e=this.Xbi;r<e.length;r++){var u=e[r],s=u.lzt;if(!(s+u.$$t<this.nAi)&&(s<=n&&s+u.$$t>this.nAi)){var o;if(this.Ybi===u)return;return this.Vbi=u,void(null==(o=this.ta.Vc)||o.yo(new rO(this.Vbi)))}}var a;if(this.Vbi)null==(a=this.ta.Vc)||a.yo(new nO(this.Vbi)),this.Vbi=void 0}}},n.hMi=function(){var t=this,n=this.crt;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].mXt.filter((function(n){return Oo(t.aMi,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.uMi(s.startTimeInSeconds)&&(s.eventType===htt.COMPLETE&&this.cMi(htt.ENGAGED_VIEW),this.lMi(s))}}},n.dMi=function(t,n){return n.mXt.filter((function(n){return ro(n.eventType,t)}))[0]},n.cMi=function(t){var n=this.crt;if(0!==n.length){var i=this.dMi(t,n[0]);i&&this.lMi(i)}},n.lMi=function(t){this.qvi(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={xI:Tl.GET,zu:r,GN:"",oI:Gd.CN};0,va(this.fMi(e))}},n.qvi=function(t){var n,i,r=this.crt;switch(t){case htt.START:n=new uO(r[r.length-1],this.ta.xE());break;case htt.COMPLETE:n=new oO(r[0],this.ta.xE());break;case htt.FIRST_QUARTILE:n=new v0(r[0],this.ta.xE());break;case htt.MID_POINT:n=new l0(r[0],this.ta.xE());break;case htt.THIRD_QUARTILE:n=new w0(r[0],this.ta.xE())}void 0!==n&&(null==(i=this.ta.Vc)||i.yo(n))},n.fMi=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,n.ta.wE.hI(t)];case 1:return i.sent().nI,[2]}}))}))()},n.uMi=function(t){var n=this.Gbi();return t>=this.nAi&&t<n},n.gn=function(){this.NL(),this.rMi(),this.nAi=-1},Ct(t,[{key:"Ybi",get:function(){return this.Vbi}},{key:"crt",get:function(){var t=this.Ybi;if(!t)return[];for(var n=[],i=this.Gbi(),r=0,e=t.Vc;r<e.length;r++){var u=e[r];i>=u.lB&&this.nAi<=u.lB+u.ct&&n.push(u)}return n}}]),t}();sM((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).gMi=void 0,r.dV=void 0,r.fV=void 0,r.vMi=void 0,r}Et(n,t);var i=n.prototype;return i.ka=function(n){return this.gMi&&(this.gMi.gn(),this.gMi=void 0,this.nDt()),t.prototype.ka.call(this,n)},i.Prt=function(n,i){var r=this,e=function(){return t.prototype.Prt};return yn((function(){var t,u;return pn(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===tb.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r._Mi(n,i)];case 2:return t=s.sent(),r.vMi=new A0(r),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.eG(new md(wd.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.nk=function(n){var i;(null==(i=this.vMi)?void 0:i.inAdBreak)||t.prototype.nk.call(this,n)},i.CE=function(n,i){var r;(null==(r=this.gMi)?void 0:r.Ybi)||t.prototype.CE.call(this,n,i)},i.PE=function(){var n;return null!=(n=this.dV)?n:t.prototype.PE.call(this)},i.BE=function(){var n;return null!=(n=this.fV)?n:t.prototype.BE.call(this)},i.eG=function(t){this.dV=pw(t),this.fV=t,this.yo(new zk(t))},i.nDt=function(){this.dV=void 0,this.fV=void 0},i._Mi=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h;return pn(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?db(s=u[e])&&(o=s).src?[4,i.wMi(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),ta(n),c=ys({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=Zg(t)).sources=r,[2,h]}}))}))()},i.wMi=function(t,n){var i=this;return yn((function(){var r,e,u,s,o,a,c,h,f;return pn(this,(function(v){switch(v.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new A("Could not find MediaTailor session initialization url");return u=e[0],s=to(r,"?ads."),o=s?{zu:r,oI:Gd.CN}:{zu:r,xI:Tl.POST,GN:JSON.stringify({adParams:t.adParams}),oI:Gd.CN},[4,Ob((function(){return i.mMi(o,n)}),n)];case 1:a=v.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=ub(c),i.gMi=new dtt(i,h,f))}catch(t){throw new A("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i.mMi=function(t,n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.wE.hI(t)];case 1:return[4,r.sent().BN(n)];case 2:return[2,r.sent()];case 3:throw na(r.sent()),new A("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.gn=function(){var n;this.gMi&&(this.gMi.gn(),this.gMi=void 0),this.nDt(),null==(n=this.vMi)||n.destroy(),this.vMi=void 0,t.prototype.gn.call(this)},n}(t)}),rM.$nt),Q(),Nt(),Q(),Nt(),An(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),Zt(),St(),Tn(),tn(),Q(),Nt();var ltt=function(t){return t[t.pMi=0]="pMi",t[t.oP=1]="oP",t[t.iW=2]="iW",t[t.AMi=3]="AMi",t[t.yMi=4]="yMi",t[t.bMi=5]="bMi",t[t.ua=6]="ua",t}({});Q(),Nt(),Zt(),St();var gtt=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=!1),(s=t.call(this)||this).iB=Sw(),s.qz=new bw,s.ou=n,s.eB=i,s._6=r,s.He=u,s.XOt=e,s}return Et(n,t),n.prototype.nB=function(t){this.He=t,t?this.XOt.MMi(this.ou):this.XOt.TMi(this.ou)},Ct(n,[{key:"PL",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.nB(t)}},{key:"ga",get:function(){var t;return null!=(t=this.Za)?t:this.Za=hw(this)}},{key:"o",get:function(){return String(this.ou.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this._6}},{key:"kh",get:function(){return this.eB}},{key:"gs",get:function(){return""}},{key:"UI",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.nB("enabled"===t)}},{key:"UL",get:function(){return this.qz}},{key:"QL",get:function(){},set:function(t){}},{key:"zL",get:function(){return this.iB}}]),n}(Aa);Q(),Nt(),An(),Zt(),St(),Tn(),Q(),Nt(),An(),St(),Tn(),Q(),Nt();var wtt=function(t){return t.zA="urn:dvb:casystemid:19219",t.BA="urn:dvb:casystemid:19156",t}({}),ytt=function(t){return t.zA="application/vnd.ms-playready.initiator+xml",t.BA="application/widevine+xml",t}({});function mtt(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new A("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+CJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+CJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new A("DRM key system is not supported")}}var Att=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).DMi=void 0,n.LMi=void 0,n.ku=void 0,n.CMi=void 0,n.xMi=void 0,n.EMi=function(t,i,r){var e,u;if(0!==r){var s=n.jMi(r),o=n.OMi(r),a=new ww(s,o);null==(u=n.xMi)||null==(e=u.nM)||e.call(u,a)}else{var c,h;null==(h=n.xMi)||null==(c=h.sM)||c.call(h,t)}},n.kMi=function(t,i,r,e){var u=n.RMi(t),s=n.PMi(t),o=new ww(u,s);n.yo(new dC(o))},n}Et(n,t);var i=n.prototype;return i.SMi=function(t){this.NMi(),this.ku=t},i.IMi=function(t){var n=this;return yn((function(){var i,r,e,u,s,o,a,c;return pn(this,(function(h){switch(h.label){case 0:if(!t.yV.length)return n.NMi(),[2];if(!n.ku)throw new A("The OIPF DRM agent has to be attached to the DOM");n.DMi||(n.DMi=v.createElement("object"),n.DMi.type="application/oipfDrmAgent",n.ku.appendChild(n.DMi),n.DMi.onDRMMessageResult=n.EMi,n.DMi.onDRMRightsError=n.kMi,n.LMi=v.createElement("object"),n.LMi.type="application/oipfCapabilities",n.ku.appendChild(n.LMi)),r=0,e=t.yV,h.label=1;case 1:if(!(r<e.length))return[3,6];if(u=e[r],s=void 0,o=void 0,a=void 0,u.NS===Fs)s=wtt.zA,o=ytt.zA,a=mtt(wtt.zA,u.qY);else{if(u.NS!==Ws)return[3,5];s=wtt.BA,o=ytt.BA,a=mtt(wtt.BA,u.qY,t.WL)}h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.pst(o,a,s)];case 3:return h.sent(),n.yo(new lC),[2];case 4:return c=h.sent(),i=c,[3,5];case 5:return r++,[3,1];case 6:return i&&n.yo(new dC(i)),[2]}}))}))()},i.wy=function(){return this.xMi=void 0,this.ku=void 0,t.prototype.wy.call(this)},i.pst=function(t,n,i){var r,e;return this.xMi=new sh,this.CMi=null==(e=this.DMi)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.CMi||null==this.xMi.nM||this.xMi.nM.call(this.xMi,new ww(wd.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.xMi.rM},i.jMi=function(t){switch(t){case 5:return wd.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return wd.CONTENT_PROTECTION_INTERNAL_ERROR;default:return wd.CONTENT_PROTECTION_ERROR}},i.OMi=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.RMi=function(t){return 0===t?wd.CONTENT_PROTECTION_LICENSE_ERROR:1===t?wd.CONTENT_PROTECTION_LICENSE_INVALID:wd.CONTENT_PROTECTION_ERROR},i.PMi=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.NMi=function(){this.DMi&&(ki(this.DMi),this.DMi=void 0),this.LMi&&(ki(this.LMi),this.LMi=void 0)},i.b8=function(t,n,i){return yn((function(){return pn(this,(function(t){return[2]}))}))()},n}(_C);Q(),Nt(),An(),Zt(),Tn(),Q(),Nt(),sn();var ptt=st,_tt=function(){function t(t,n,i){this.KS=t,this.cz=n,this.E$=i}var n=t.prototype;return n.N$=function(t){return!1},n.D$=function(t){return ptt.resolve(void 0)},n.IMi=function(t){var n=this;return yn((function(){return pn(this,(function(t){switch(t.label){case 0:return[4,n.E$.IMi(n.KS)];case 1:return t.sent(),[2]}}))}))()},n.wy=function(){return ptt.resolve(void 0)},Ct(t,[{key:"_k",get:function(){return GM.RP(0,this.cz.ct)}},{key:"ck",get:function(){return oT.pG},set:function(t){}},{key:"md",get:function(){return this.KS}}]),t}();tn(),sn();var ktt=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xu=n,r.FG=i,r.Zo=new vT,r.Qo=new lT,r.Ul=new cA,r.vV=void 0,r.kG=!1,r.dV=void 0,r.qQ=UA.Nz,r.IG=!0,r.UMi=void 0,r.FMi=function(){var t,n,i,e;(null==(t=r.YMi)?void 0:t.playState)&&((null==(n=r.UMi)?void 0:n.rM)||2!==r.YMi.playState||r.BMi().catch(qt),3===r.YMi.playState&&(null==(e=r.UMi)||null==(i=e.sM)||i.call(e,String(r.YMi.playState)),r.UMi=void 0))},r.E$=new Att(r),r.E$.yn(vC,r.Ds),r.x7=new Fk([r.Ul]),r.C7=new iC(r),r.hst=new BC,r.ast=new tx(r.hst.we,r.Uu,r.nt,r.Ll,r.wa,r.xV),r.YMi=r.QMi(),r.BMi().catch(qt),r}Et(n,t);var i=n.prototype;return i.Ott=function(t){this.E$.SMi(t),this.hst.Ott(t)},i.H$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.YA===OA.QQ)return i}},i.$n=function(t){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:if(n.vV)throw new A("Already loaded a media source");return t.YA!==OA.QQ?[3,2]:(n.vV=new _tt(t,n,n.E$),[4,n.vV.IMi(t)]);case 1:return i.sent(),[2,n.vV];case 2:throw new A("Unsupported media source configuration for HbbTV");case 3:return[2]}}))}))()},i.zMi=function(t){var n=this;return yn((function(){return pn(this,(function(t){switch(t.label){case 0:return[4,n.BMi()];case 1:return t.sent(),[2]}}))}))()},i.Pk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.BMi()];case 1:return n.sent(),[2]}}))}))()},i.cV=function(t){},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){return t.vV=void 0,t.UMi=void 0,[2]}))}))()},i.wy=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.Ul.gn(),t.x7.gn(),t.hst.gn(),t.ast.gn(),t.E$.fn(vC,t.Ds),[4,t.E$.wy()];case 2:return n.sent(),[2]}}))}))()},i.ge=function(){this.IG=!0,this.hst.ge()},i.be=function(){this.IG=!1,this.hst.be()},i.DV=function(){return!1},i.kV=function(t,n,i,r,e){throw new A("Adding native sideloaded text tracks is not supported on HbbTV")},i.ktt=function(){},i.Ltt=function(){},i.jtt=function(){},i.GE=function(){return{Bz:0,Uz:0,Qz:0}},i.Fk=function(){},i.CV=function(t){throw new A("Adding custom text tracks is not supported on HbbTV")},i.jk=function(){},i.Wk=function(t,n,i,r,e,u,s,o,a){var c=new tL(t,n,i,r,e,u,s,a,o);return this.Ul.tt(c),this.C7.tt(c),c},i.jV=function(){for(var t=0,n=this.Ul.AL.slice();t<n.length;t++){n[t].gn()}this.Ul.tr()},i.BQ=function(t){this.Ul.it(t),this.C7.it(t)},i.QMi=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.FMi,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.BMi=function(){var t,n;if(!this.YMi||3===this.YMi.playState||0===this.YMi.playState)return st.resolve("");if(null==(t=this.UMi)?void 0:t.rM)return null==(n=this.UMi)?void 0:n.rM;this.UMi=new sh;try{null==this.YMi.stop||this.YMi.stop.call(this.YMi)}catch(t){Kt.cA("Unable to stop broadcast for HbbTV",t),this.UMi.nM(new A("Unable to stop broadcast for HbbTV"))}return this.UMi.rM},Ct(n,[{key:"TE",get:function(){return GM.PP()}},{key:"NE",get:function(){}},{key:"wV",get:function(){}},{key:"Uu",get:function(){return this.Xu}},{key:"_k",get:function(){var t,n;return null!=(n=null==(t=this.vV)?void 0:t._k)?n:GM.PP()}},{key:"wk",get:function(){return this.kG}},{key:"e6",get:function(){return!1}},{key:"FE",get:function(){return!1}},{key:"mz",get:function(){return ys({},FI)}},{key:"lt",get:function(){return this.dV}},{key:"K5",get:function(){return!1}},{key:"wa",get:function(){return this.Zo}},{key:"xtt",get:function(){return!0}},{key:"V5",get:function(){return!1}},{key:"xk",get:function(){return!0},set:function(t){}},{key:"Ll",get:function(){return this.FG}},{key:"nt",get:function(){return this.x7}},{key:"t7",get:function(){return this.IG}},{key:"xV",get:function(){return this.Qo}}]),n}(Aa),Mtt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).VMi=n,e.jG=1,e.Oz=new dw,e.Pz=new dw,e.Z5=UA.Nz,e.iTi=void 0,e.WMi=void 0,e.GMi=function(){if(e.VMi.playState){e.qQ=e.Z5,e.eTi=e.sTi,e.sTi=e.VMi.playState;var t=e.ct;switch(t!==e.iTi&&(e.yo(new Eb(t)),e.iTi=t),e.WMi&&e.sTi!==ltt.oP&&(Kt.fA(e.WMi),e.WMi=void 0),e.sTi){case ltt.AMi:e.Z5=UA.Nz;break;case ltt.yMi:if(e.eTi===ltt.AMi){var n,i,r=null!=(n=null==e.VMi.getComponents?void 0:e.VMi.getComponents.call(e.VMi,1))?n:e.HMi(),u=null!=(i=null==e.VMi.getComponents?void 0:e.VMi.getComponents.call(e.VMi,0))?i:e.HMi();if(0===r.length&&0===u.length)break;e.qMi(r),e.JMi(u)}e.Z5=UA.Xn;break;case ltt.oP:e.kG&&(e.kG=!1,e.yo(new jb(e.LE))),e.yo(new FA(e.LE)),e.Z5=UA.Dz,e.WMi=Kt.dA(e.nTi,250);break;case ltt.ua:e.Z5=UA.Nz,e.yo(new RS(new mw(e.tTi(e.VMi.error))));break;case ltt.bMi:e.yo(new Lb(e.LE));case ltt.iW:case ltt.pMi:}e.Z5!==e.qQ&&e.yo(new BA(e.LE,e.Z5))}},e.nTi=function(){e.yo(new Cg(e.LE,void 0))},e}Et(n,t);var i=n.prototype;return i.Ott=function(n){t.prototype.Ott.call(this,n),n.appendChild(this.VMi)},i.$n=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return n.YA!==OA.QQ?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.zMi(n)];case 2:return e.sent(),i.VMi.onPlayStateChange=i.GMi,[2,r];case 3:throw new A("Unsupported media source configuration for HbbTV")}}))}))()},i.zMi=function(n){var i=this;return yn((function(){return pn(this,(function(r){switch(r.label){case 0:return i.VMi.type=sb(n.WL),i.VMi.data=n.WL,[4,t.prototype.zMi.call(i,n)];case 1:return r.sent(),[2]}}))}))()},i.Pk=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Pk.call(n)];case 1:return i.sent(),n.VMi.play(n.jG),n.yo(new Ib(n.LE)),[2]}}))}))()},i.Rk=function(){this.VMi.play(0),this.yo(new Db(this.LE))},i.Wb=function(t,n,i){this.VMi.seek(1e3*t),this.kG=!0,this.yo(new Cb(this.LE))},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return void 0!==n.vV&&n.VMi.stop(),n.WMi&&(Kt.fA(n.WMi),n.WMi=void 0),[4,t.prototype.tr.call(n)];case 1:return i.sent(),Mi(n.VMi),n.VMi.data&&n.VMi.removeAttribute("data"),n.Oz.tr(),n.Pz.tr(),[2]}}))}))()},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.wy.call(n)];case 1:return i.sent(),ki(n.VMi),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.VMi.style.display="block"},i.be=function(){t.prototype.be.call(this),this.VMi.style.display="none"},i.MMi=function(t){var n=this.ZMi(t);if(!n)throw new A("Selected track does not exist on HbbTV");null==this.VMi.selectComponent||this.VMi.selectComponent.call(this.VMi,n)},i.TMi=function(t){var n=this.ZMi(t);if(!n)throw new A("Selected track does not exist on HbbTV");null==this.VMi.unselectComponent||this.VMi.unselectComponent.call(this.VMi,n)},i.ZMi=function(t){var n,i=null!=(n=null==this.VMi.getComponents?void 0:this.VMi.getComponents.call(this.VMi,t.type))?n:this.HMi();return this.XMi(i,t)},i.qMi=function(t){var n,i=null!=(n=null==this.VMi.getCurrentActiveComponents?void 0:this.VMi.getCurrentActiveComponents.call(this.VMi,1))?n:this.HMi();this.Oz.tr();for(var r=0;r<t.length;r++){var e=t.item(r);this.Oz.tt(new gtt(e,e.language,this.Oz.V?YV.Yxt:YV.Vxt,this,this.KMi(i,e)))}},i.JMi=function(t){var n,i=null!=(n=null==this.VMi.getCurrentActiveComponents?void 0:this.VMi.getCurrentActiveComponents.call(this.VMi,0))?n:this.HMi();this.Pz.tr();for(var r=0;r<t.length;r++){var e=t.item(r);this.Pz.tt(new gtt(e,String(e.aspectRatio),this.Pz.V?GV.Yxt:GV.Vxt,this,this.KMi(i,e)))}},i.HMi=function(){return{length:0,item:function(t){}}},i.KMi=function(t,n){return void 0!==this.XMi(t,n)},i.XMi=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.$Mi(r,n))return r}},i.$Mi=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i.tTi=function(t){switch(t){case 0:return yw.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return yw.NETWORK;default:return yw.DECODE}},Ct(n,[{key:"gV",get:function(){}},{key:"ht",get:function(){return this.Oz}},{key:"rt",get:function(){return this.Pz}},{key:"$E",get:function(){return this.jG},set:function(t){this.jG=t,this.KE||this.VMi.play(t)}},{key:"WE",get:function(){return this.VMi.muted},set:function(t){this.VMi.muted=t}},{key:"Nk",get:function(){var t,n;return(null!=(n=null!=(t=this.VMi.volume)?t:null==this.VMi.getVolume?void 0:this.VMi.getVolume.call(this.VMi))?n:100)/100},set:function(t){null==this.VMi.setVolume||this.VMi.setVolume.call(this.VMi,100*t)}},{key:"LE",get:function(){return this.VMi.playPosition?this.VMi.playPosition/1e3:0}},{key:"ct",get:function(){return!this.VMi.playTime||this.VMi.playTime<0?1/0:this.VMi.playTime/1e3}},{key:"OE",get:function(){return this.VMi.playState===ltt.bMi}},{key:"Ti",get:function(){return this.VMi.offsetHeight*Kt.Ys.bp}},{key:"ji",get:function(){return this.VMi.offsetWidth*Kt.Ys.bp}},{key:"KE",get:function(){return this.VMi.playState===ltt.iW}},{key:"rk",get:function(){return GM.PP()}},{key:"fk",get:function(){return this.Z5}},{key:"yk",get:function(){return 0}},{key:"Tk",get:function(){return 0}}]),n}(ktt);Q(),Nt(),An(),Zt(),St(),Tn(),tn();var btt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).vN=n,e.Oz=new dw,e.Pz=new dw,e.mTi=void 0,e.sF=function(){e.yo(new Ib(e.LE))},e.nF=function(){e.yo(new Db(e.LE))},e.xc=function(){var t=e.LE,n=e.wk,i=void 0!==e.mTi,r=i&&e.mTi!==t;(n||!i||r)&&(e.yo(new Cg(t,void 0)),e.mTi=t)},e.rTi=function(){e.yo(new nE(e.LE))},e.Ts=function(){e.yo(new iE)},e.Cc=function(){e.yo(new Lb(e.LE))},e.oTi=function(){e.yo(new Sb(e.LE,e.$E))},e.yZt=function(){e.yo(new xb(e.LE,e.Nk))},e.wZt=function(){e.yo(new Eb(e.ct))},e.hTi=function(){},e.aTi=function(){},e.uTi=function(){e.kG&&(e.kG=!1),e.yo(new jb(e.LE))},e.cTi=function(){e.yo(new Cb(e.LE))},e.rF=function(t){e.qQ!==t.readyState&&(e.qQ=t.readyState,e.yo(t))},e.eF=function(){e.yo(new FA(e.LE))},e.lTi=function(){if(null!==e.vN.error){var t,n=e.vN.error;e.eG(new mw(null!=(t=n.code)?t:yw.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.k8=function(t){e.yo(new Sa(t.initDataType,t.initData||new ArrayBuffer(0)))},e._Ti=function(t){var n=e.vN.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];$k(e.Pz,r)||e.Pz.tt(new Uw(r))}},e.vTi=function(t){var n=[],i=e.vN.videoTracks;if(i){for(var r=0,u=e.Pz.AL;r<u.length;r++){var s=u[r];tM(i,s.sB)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.Pz.it(a)}}},e.wTi=function(t){e.nh(e.Pz)},e.dTi=function(t){var n=e.vN.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];$k(e.Oz,r)||e.Oz.tt(new Rw(r))}},e.fTi=function(t){var n=[],i=e.vN.audioTracks;if(i){for(var r=0,u=e.Oz.AL;r<u.length;r++){var s=u[r];tM(i,s.sB)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.Oz.it(a)}}},e.gTi=function(t){e.nh(e.Oz)},e.Z8=new MC(e),e.Z8.yn(zA.lL,e.rF),e.Z8.x8(new CS(e)),e.u7=new zS(e),e.u7.yn(zA.oP,e.eF),e.ett(),e.XV(),e}Et(n,t);var i=n.prototype;return i.Ott=function(n){t.prototype.Ott.call(this,n),n.appendChild(this.vN)},i.$n=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:return n.YA!==OA.QQ?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.zMi(n)];case 2:return e.sent(),[2,r];case 3:throw new A("Unsupported media source configuration for HbbTV")}}))}))()},i.zMi=function(n){var i=this;return yn((function(){var r;return pn(this,(function(e){switch(e.label){case 0:switch(n.MV){case NM.KL:case NM.JL:i.vN.setAttribute("crossorigin",n.MV);break;case NM.EI:default:i.vN.removeAttribute("crossorigin")}return void 0!==n.ck?i.vN.preload=n.ck:i.vN.preload=oT.QY,void 0!==n.TV?i.vN.title=n.TV:Ci(i.vN),r=i.$E,i.vN.src=n.WL,i.$E=r,[4,t.prototype.zMi.call(i,n)];case 1:return e.sent(),[2]}}))}))()},i.Pk=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Pk.call(n)];case 1:return i.sent(),[4,n.vN.play()];case 2:return i.sent(),[2]}}))}))()},i.Rk=function(){this.vN.pause()},i.Wb=function(t,n,i){n&&this.vN.fastSeek?this.vN.fastSeek(t):this.vN.currentTime=t,this.kG=!0,this.yo(new Cb(this.LE))},i.tr=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),Mi(n.vN),n.vN.src&&n.vN.removeAttribute("src"),n.Oz.tr(),n.Pz.tr(),[2]}}))}))()},i.wy=function(){var n=this;return yn((function(){return pn(this,(function(i){switch(i.label){case 0:return[4,t.prototype.wy.call(n)];case 1:return i.sent(),n.u7.wy(),n.Z8.wy(),n.ott(),n.PV(),ki(n.vN),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.vN.style.display="block",this.vN.style.height="100%",this.vN.style.width="100%"},i.be=function(){t.prototype.be.call(this),this.vN.style.display="none"},i.ett=function(){this.gV.addEventListener("play",this.sF),this.gV.addEventListener("pause",this.nF),this.gV.addEventListener("timeupdate",this.xc),this.gV.addEventListener("progress",this.rTi),this.gV.addEventListener("loadstart",this.Ts),this.gV.addEventListener("ended",this.Cc),this.gV.addEventListener("ratechange",this.oTi),this.gV.addEventListener("volumechange",this.yZt),this.gV.addEventListener("durationchange",this.wZt),this.gV.addEventListener("loadedmetadata",this.hTi),this.gV.addEventListener("emptied",this.aTi),this.gV.addEventListener("seeked",this.uTi),this.gV.addEventListener("seeking",this.cTi),this.gV.addEventListener("error",this.lTi),lo()&&this.gV.addEventListener("encrypted",this.k8)},i.ott=function(){this.gV.removeEventListener("play",this.sF),this.gV.removeEventListener("pause",this.nF),this.gV.removeEventListener("timeupdate",this.xc),this.gV.removeEventListener("progress",this.rTi),this.gV.removeEventListener("loadstart",this.Ts),this.gV.removeEventListener("ended",this.Cc),this.gV.removeEventListener("ratechange",this.oTi),this.gV.removeEventListener("volumechange",this.yZt),this.gV.removeEventListener("durationchange",this.wZt),this.gV.removeEventListener("loadedmetadata",this.hTi),this.gV.removeEventListener("emptied",this.aTi),this.gV.removeEventListener("seeked",this.uTi),this.gV.removeEventListener("seeking",this.cTi),this.gV.removeEventListener("error",this.lTi),this.gV.removeEventListener("encrypted",this.k8)},i.eG=function(t){this.dV=t,this.yo(new RS(this.dV))},i.XV=function(){var t=this.vN.audioTracks,n=this.vN.videoTracks;t&&(t.addEventListener("addtrack",this.dTi),t.addEventListener("removetrack",this.fTi),t.addEventListener("change",this.gTi)),n&&(n.addEventListener("addtrack",this._Ti),n.addEventListener("removetrack",this.vTi),n.addEventListener("change",this.wTi))},i.PV=function(){var t=this.vN.audioTracks,n=this.vN.videoTracks;t&&(t.removeEventListener("addtrack",this.dTi),t.removeEventListener("removetrack",this.fTi),t.removeEventListener("change",this.gTi)),n&&(n.removeEventListener("addtrack",this._Ti),n.removeEventListener("removetrack",this.vTi),n.removeEventListener("change",this.wTi))},i.nh=function(t){for(var n=0;n<t.V;n++){t.bL(n).rB()}},Ct(n,[{key:"gV",get:function(){return this.vN}},{key:"ht",get:function(){return this.Oz}},{key:"rt",get:function(){return this.Pz}},{key:"$E",get:function(){return this.vN.playbackRate},set:function(t){this.vN.playbackRate=t}},{key:"WE",get:function(){return this.vN.muted},set:function(t){this.vN.muted=t}},{key:"Nk",get:function(){return this.vN.volume},set:function(t){this.vN.volume=t}},{key:"LE",get:function(){return this.vN.currentTime}},{key:"ct",get:function(){return this.vN.duration}},{key:"OE",get:function(){return this.vN.ended}},{key:"Ti",get:function(){return this.vN.offsetHeight*Kt.Ys.bp}},{key:"ji",get:function(){return this.vN.offsetWidth*Kt.Ys.bp}},{key:"KE",get:function(){return this.vN.paused}},{key:"rk",get:function(){return GM.xn(this.vN.played)}},{key:"fk",get:function(){return this.Z8.fk}},{key:"yk",get:function(){return this.vN.videoHeight}},{key:"Tk",get:function(){return this.vN.videoWidth}}]),n}(ktt),Ttt=[Ma.so,Ma.wb,zA.oP,Ma.Mb,Ma.bb,Ma.qy,Ma.Zy,Ma.Vy,Ma.Yy,Ma.Eb,Ma.mb,Ma.ub,Ma.pb,Ma.kb,Ma.yb,Ma.$y,Ma.Ky],Ntt=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).vV=void 0,u.AV=new Qk,u.wc=void 0,u.dV=void 0,u.fV=void 0,u._V=oT.pG,u.GV=function(t){var n=t.lt,i=n.code,r=new md(kw(i),"Something went wrong during HbbTV playback.",n),e=pw(r);u.eG(r,e)},u.vn=new xD(n),u.vn.bn(),u.cz=Ui()?new btt(v.createElement(lw.NI),u.vn,e):new Mtt(v.createElement("object"),u.vn,e),u.cz.Ott(n),u.cz.yn(Ttt,u.Ds),u.cz.yn(eA.ua,u.GV),u.OV=new ZA(u.cz,!0),u.OV.yn(RA,u.Ds),u.LV=new IA(u.cz,i),u.Ul=new Fk([u.cz.nt,u.LV.Z]),u.QG=r,u}Et(n,t);var i=n.prototype;return i.Wk=function(t){return this.cz.CV(t)},i.Bk=function(){return!1},i.Ck=function(){return this.cz.wa},i.jk=function(){},i.be=function(){this.cz.be()},i.Fk=function(){this.cz.Fk()},i.Rk=function(){this.cz.Rk()},i.Pk=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.cz.Pk()];case 1:return n.sent(),[2]}}))}))()},i.Yk=function(){throw new A("Recreate media source is not supported on HbbTV")},i.CE=function(t,n){this.cz.Wb(t)},i.ka=function(t,n,i){var r=this;return yn((function(){var e,u;return pn(this,(function(s){switch(s.label){case 0:return ta(i),r.wc=t,u={YA:OA.QQ,WL:t.src,VN:t.type,yV:r.bV(t),ck:r._V,MV:t.crossOrigin,TV:null==(e=n.metadata)?void 0:e.title},[4,r.cz.$n(u)];case 1:return r.vV=s.sent(),n.textTracks&&r.NV(n.textTracks),jA(r.nt),[2]}}))}))()},i.ge=function(){this.cz.ge()},i.Uk=function(){},i.Qk=function(){},i._a=function(){return this.cz.xV},i.tr=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return t.wc=void 0,t.dV=void 0,t.fV=void 0,t.vV=void 0,[4,t.LV.tr()];case 1:return n.sent(),t.cz.jV(),[4,t.cz.tr()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.OV.gn(),t.cz.fn(Ttt,t.Ds),t.cz.fn(eA.ua,t.GV),[4,t.cz.wy()];case 2:return n.sent(),t.vn.gn(),t.Ul.gn(),[4,t.LV.gn()];case 3:return n.sent(),[2]}}))}))()},i.eG=function(t,n){this.dV||(this.dV=n,this.fV=t,this.yo(new zk(t)))},i.NV=function(t){for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.src&&this.LV.xQ(i)}},i.bV=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({NS:Ws,qY:t.contentProtection.widevine.licenseAcquisitionURL,HV:[]}),t.contentProtection.playready&&n.push({NS:Fs,qY:t.contentProtection.playready.licenseAcquisitionURL,HV:[]}),this.pTi(n,t.contentProtection.preferredKeySystems)},i.pTi=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t.NS.ZA);return i>=0?i:n.length};return yo(t,(function(t,n){return i(t)-i(n)}))},Ct(n,[{key:"ht",get:function(){return this.cz.ht}},{key:"TE",get:function(){return this.cz.TE.ks()}},{key:"Az",get:function(){}},{key:"NE",get:function(){return this.cz.NE},set:function(t){t&&this.cz.cV(t)}},{key:"bt",get:function(){return this.wc}},{key:"LE",get:function(){return this.cz.LE},set:function(t){this.cz.Wb(t)}},{key:"pV",get:function(){return this.AV}},{key:"ct",get:function(){return this.cz.ct}},{key:"OE",get:function(){return this.cz.OE}},{key:"zE",get:function(){return this.fV}},{key:"lt",get:function(){return this.dV}},{key:"UE",get:function(){}},{key:"FE",get:function(){return!1}},{key:"xk",get:function(){return this.cz.xk},set:function(t){this.cz.xk=t}},{key:"Ek",get:function(){return this.QG}},{key:"VE",get:function(){return ys({},{Bz:0,Uz:0,Qz:0,Fz:0,Yz:0,Vz:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.cz.GE())}},{key:"WE",get:function(){return this.cz.WE},set:function(t){this.cz.WE=t}},{key:"XE",get:function(){return!0}},{key:"KE",get:function(){return this.cz.KE}},{key:"$E",get:function(){return this.cz.$E},set:function(t){this.cz.$E=t}},{key:"rk",get:function(){return this.cz.rk.ks()}},{key:"ck",get:function(){return this._V},set:function(t){this._V=t,this.vV&&(this.vV.ck=t)}},{key:"fk",get:function(){return this.cz.fk}},{key:"_k",get:function(){return this.cz._k.ks()}},{key:"wk",get:function(){return this.cz.wk}},{key:"wV",get:function(){return this.cz.wV}},{key:"nt",get:function(){return this.Ul}},{key:"yk",get:function(){return this.cz.yk}},{key:"rt",get:function(){return this.cz.rt}},{key:"Tk",get:function(){return this.cz.Tk}},{key:"Nk",get:function(){return this.cz.Nk},set:function(t){this.cz.Nk=t}}]),n}(Aa);Jt();var Dtt=function(){function t(){this.hG=Pk.xY}var n=t.prototype;return n.bx=function(t,n,i,r,e,u,s,o){return new Ntt(t,i,u,s)},n.nG=function(t,n){var i;return!(!Wt.xf||t.type!==DM.sx&&!ab(t.type)&&!cb(t.type))&&!(Ui()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||lo()))},n.rG=function(t){return yn((function(){return pn(this,(function(n){switch(n.label){case 0:return[4,Pp(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},n.oG=function(){return!1},t}();return eT(new Dtt),Q(),Nt(),h.exports}));
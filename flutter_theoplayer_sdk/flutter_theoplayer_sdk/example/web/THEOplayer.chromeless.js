/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 8.3.0
 Created: 2024-10-23T09:21:37.340Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r={exports:{}},e=(r.exports,t.window),u=t.document,s=t.location,o=t.navigator,a=t.setTimeout,c=t.clearTimeout,h=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),g=t.Math,w=t.parseInt,y=t.parseFloat,A=t.isNaN,m=t.Uint8Array,p=t.Worker,_=(t.WorkerGlobalScope,t.XMLHttpRequest),k=l.create,M=l.defineProperty,b=l.getOwnPropertyDescriptor,T=l.getOwnPropertyNames,N=l.getPrototypeOf,D=l.prototype.hasOwnProperty,I=function(t,n){return function(){return t&&(n=t(t=0)),n}},E=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},S=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=T(n),s=0,o=u.length;s<o;s++)e=u[s],D.call(t,e)||e===i||M(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=b(n,e))||r.enumerable});return t},L=function(t,n,i){return i=null!=t?k(N(t)):{},S(!n&&t&&t.__esModule?i:M(i,"default",{value:t,enumerable:!0}),t)},C=I((function(){"function"==typeof Symbol&&Symbol.iterator?n=Symbol:(i=0,(n=function(t){return"ttn"+t+"_"+ ++i}).iterator=n("Symbol.iterator"))}));function j(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var x,O,z,R,B,P,U,Q,Y,G,F,V,W,X,Z,H,K,J,q,$,tt=I((function(){wt(),C()}));function nt(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function it(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new d((void 0===t?"undefined":j(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function rt(t){return Boolean(t&&void 0!==t.length)}function et(){}function ut(t){if(!(this instanceof ut))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.ja=0,this.ntn=!1,this.sTt=void 0,this.itn=[],ft(t,this)}function st(t,n){for(;3===t.ja;)t=t.sTt;0!==t.ja?(t.ntn=!0,ut.rtn((function(){var i=1===t.ja?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.sTt)}catch(t){return void at(n.promise,t)}ot(n.promise,r)}else(1===t.ja?ot:at)(n.promise,t.sTt)}))):t.itn.push(n)}function ot(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof ut)return t.ja=3,t.sTt=n,void ct(t);if("function"==typeof i)return void ft(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.ja=1,t.sTt=n,ct(t)}catch(n){at(t,n)}}function at(t,n){t.ja=2,t.sTt=n,ct(t)}function ct(t){2===t.ja&&0===t.itn.length&&ut.rtn((function(){t.ntn||ut.etn(t.sTt)}));for(var n=0,i=t.itn.length;n<i;n++)st(t,t.itn[n]);t.itn=null}function ht(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function ft(t,n){var i=!1;try{t((function(t){i||(i=!0,ot(n,t))}),(function(t){i||(i=!0,at(n,t))}))}catch(t){if(i)return;i=!0,at(n,t)}}function vt(t){return new V(F,{reason:t,promise:O.reject(t).catch((function(){})),cancelable:!0})}function dt(t){var n=new W(F,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function lt(t){var n=u.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var gt=I((function(){var t,n,i,r;wt(),C(),tt(),x=a,ut.prototype.catch=function(t){return this.then(null,t)},ut.prototype.then=function(t,n){var i=new this.constructor(et);return st(this,new ht(t,n,i)),i},ut.prototype.finally=nt,ut.all=function(t){return new ut((function(n,i){if(!rt(t))return i(new d("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},ut.allSettled=it,ut.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ut?t:new ut((function(n){n(t)}))},ut.reject=function(t){return new ut((function(n,i){i(t)}))},ut.race=function(t){return new ut((function(n,i){if(!rt(t))return i(new d("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)ut.resolve(t[r]).then(n,i)}))},ut.rtn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){x(t,0)},ut.etn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},O=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),z=o?o.userAgent:"",R=z.match(/Firefox\/([0-9]+)/i),B=null!=R,P=R?Number(R[1]):0,U=z.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Q=null!=U,Y=U?Number(U[3]):0,G=function(){function t(t){this.GL=0,this.RV=0,this.zx=[],this.utn=t}return t.prototype.stn=function(t){var n=this.length();this.otn(n+1);var i=this.RV+n&this.utn-1;this.zx[i]=t,this.GL=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.utn<n)this.stn(t);else{var i=this.RV+n-1,r=this.utn-1;this.zx[i&r]=t,this.GL=n}},t.prototype.shift=function(){var t=this.RV,n=this.zx[t];return this.zx[t]=void 0,this.RV=t+1&this.utn-1,this.GL--,n},t.prototype.length=function(){return this.GL},t.prototype.otn=function(t){this.utn<t&&this.atn(this.utn<<1)},t.prototype.atn=function(t){var n=this.utn;this.utn=t;var i=this.RV+this.GL&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.zx,0,n,i)},t}(),F="unhandledrejection",V=self.PromiseRejectionEvent,W=self.CustomEvent,X=function(t){return X=function(){try{var t=O.resolve(),n="error",i=new V(F,{reason:n,promise:t});return F===i.type&&n===i.reason}catch(t){}return!1}()?vt:function(){try{var t="error",n=new W(F,{detail:{reason:t}});return F===n.type&&t===n.detail.reason}catch(t){}return!1}()?dt:lt,X(t)},H=B&&P<60||Q&&Y<15,O&&!H?(K=O,J=function(){}):(K=ut,q=null!==(Z=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=O;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==Z?Z:ut.rtn,t=q,n=new G(16),i=!1,J=($={W4:function(e){n.push(e),i||(i=!0,t(r))},MG:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).MG,ut.rtn=$.W4,ut.etn=function(t){try{var n=X(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}a((function(){throw new v("Unhandled promise rejection: ".concat(t))}),0)})})),wt=I((function(){gt()}));function yt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function At(t,n,i){return n&&yt(t.prototype,n),i&&yt(t,i),t}var mt=I((function(){wt(),C()}));function pt(t,n){return(pt=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var _t=I((function(){wt(),C()}));function kt(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&pt(t,n)}var Mt=I((function(){wt(),C(),_t()}));function bt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Tt=I((function(){wt(),C()}));var Nt=I((function(){wt(),C(),Tt()}));var Dt=I((function(){wt(),C()}));var It=I((function(){wt(),C()}));function Et(t,n){if(t){if("string"==typeof t)return bt(t,n);var i=l.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?bt(t,n):void 0}}var St=I((function(){wt(),C(),Tt()}));function Lt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if(void 0!==n&&null!=t[n.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Et(t)||function(){throw new d("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ct=I((function(){wt(),C(),Nt(),Dt(),It(),St()}));function jt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):K.resolve(a).then(r,e)}function xt(t){return function(){var n=this,i=arguments;return new K((function(r,e){var u=t.apply(n,i);function s(t){jt(u,r,e,s,o,"next",t)}function o(t){jt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var Ot=I((function(){wt(),C()}));function zt(t,i){var r,e,u,s,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof n&&(s[n.iterator]=function(){return this}),s;function a(n){return function(a){return function(n){if(r)throw new d("Generator is already executing.");for(;s&&(s=0,n[0]&&(o=0)),o;)try{if(r=1,e&&(u=2&n[0]?e.return:n[0]?e.throw||((u=e.return)&&u.call(e),0):e.next)&&!(u=u.call(e,n[1])).done)return u;switch(e=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,e=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(u=o.trys,(u=u.length>0&&u[u.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){o.label=n[1];break}if(6===n[0]&&o.label<u[1]){o.label=u[1],u=n;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(n);break}u[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],e=0}finally{r=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}}function Rt(t){var i="function"==typeof n&&n.iterator,r=i&&t[i],e=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new d(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bt=I((function(){wt(),C()})),Pt=I((function(){wt(),C(),Bt()}));var Ut=I((function(){wt(),C()}));var Qt=I((function(){wt(),C()}));var Yt=I((function(){wt(),C()}));function Gt(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var r=null==t?null:void 0!==n&&t[n.iterator]||t["@@iterator"];if(null!=r){var e,u,s=[],o=!0,a=!1;try{for(r=r.call(t);!(o=(e=r.next()).done)&&(s.push(e.value),!i||s.length!==i);o=!0);}catch(t){a=!0,u=t}finally{try{o||null==r.return||r.return()}finally{if(a)throw u}}return s}}(t,i)||Et(t,i)||function(){throw new d("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ft=I((function(){wt(),C(),Ut(),Qt(),Yt(),St()}));function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Wt=I((function(){wt(),C()}));function Xt(t,n,i){return n in t?l.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var Zt=I((function(){wt(),C()})),Ht=I((function(){wt(),C(),Bt()}));var Kt=I((function(){wt(),C()}));function Jt(t,n,i){return(Jt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&pt(e,i.prototype),e}).apply(null,arguments)}var qt=I((function(){wt(),C(),Kt(),_t()}));function $t(t,n){return!n||"object"!==j(n)&&"function"!=typeof n?Vt(t):n}var tn=I((function(){wt(),C(),Wt(),tt()}));function nn(t){return(nn=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}var rn=I((function(){wt(),C()}));var en=I((function(){wt(),C()}));function un(t){var n="function"==typeof Map?new Map:void 0;return un=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new d("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return Jt(t,arguments,nn(this).constructor)}return i.prototype=l.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),pt(i,t)},un(t)}var sn,on,an,cn=I((function(){wt(),C(),qt(),rn(),en(),_t()})),hn=E((function(t,i){var r,u;wt(),C(),Wt(),Ot(),qt(),mt(),Zt(),Mt(),tn(),Ft(),Ct(),tt(),cn(),Pt(),Ht(),r=t,u=function(t){var i,r=l.defineProperty,u=l.defineProperties,s=l.getOwnPropertyDescriptors,o=l.getOwnPropertySymbols,c=l.prototype.hasOwnProperty,_=l.prototype.propertyIsEnumerable,k=function(t,n,i){return n in t?r(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},M=function(t,n){for(var i in n||(n={}))c.call(n,i)&&k(t,i,n[i]);if(o)for(var r=0,e=o(n);r<e.length;r++)i=e[r],_.call(n,i)&&k(t,i,n[i]);return t},b=function(t,n){return u(t,s(n))},T=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&o)for(var e=0,u=o(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&_.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":j(globalThis))<"u"?globalThis:(void 0===e?"undefined":j(e))<"u"?e:("undefined"==typeof global?"undefined":j(global))<"u"?global:("undefined"==typeof self?"undefined":j(self))<"u"?self:{};function D(t){return t&&t.__esModule&&l.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I,E={exports:{}};I=E,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":j(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,I.exports?I.exports=i:(i.ul=t.Logger,i.noConflict=function(){return t.Logger=i.ul,i},t.Logger=i)}(N);var S=D(E.exports),L="0.2.1",C=(null==(i=null==e?void 0:e.navigator)?void 0:i.userAgent)||"No user agent available",x="",O="",z="",R="",B="",P="",U="",Q=0,Y=[],G=function(t){x=""===x?t:x},F=function(t){O=""===O?t:O},V=function(t){z=""===z?t:z},W=function(t){R=""===R?t:R},X=function(t){B=""===B?t:B},Z=function(t){Q=0===Q?t:Q},H=function(t){P=t},J=function(t){U=""===U?t:U},q=function(t){60===Y.length&&Y.shift(),Y.push(t)},$=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:L,timestamp:(new Date).toISOString(),userAgent:C,clusterId:U,accountId:x,streamName:O,subscriberId:z,connection:P,stats:Y.slice(-i),connectionDurationMs:(new Date).getTime()-Q};return""!==B?r.feedId=B:""!==R&&(r.streamViewId=R),"CMCD"===n?function(t){function n(t,n){return{ts:g.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:g.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(Lt(r).concat(Lt(e)))}),[]),t}(r):r};S.useDefaults({defaultLevel:S.TRACE});var tt=["TRACE","DEBUG","INFO","WARN","ERROR"],nt=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},it=function(t,n){return n?t.value>=at[n].value:t.value>=ot.value},rt=S.createDefaultHandler({formatter:nt});S.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==typeof t?JSON.stringify(t):t})),nt(t,n),0!==ut?(st.push(t.join(" ")),st.length>=ut&&(st=st.slice(-ut))):st=[]})(t,n),it(n.level,n.name)&&rt(t,n);for(var i=0;i<ct.length;i++){var r=ct[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var et,ut=1e4,st=[],ot=S.OFF,at={},ct=[],ht=b(M({},S),{enabledFor:it,getHistory:function(){return st},getHistoryMaxSize:function(){return ut},setHistoryMaxSize:function(t){ut=t},setLevel:function(t){for(var n in ot=t,at)at[n]=t},getLevel:function(){return ot},get:function(t){at[t]||(at[t]=ot);var n=S.get(t);return n.setLevel=function(n){at[t]=n},n.getLevel=function(){return at[t]},n},setHandler:function(t,n){ct.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=M(M({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=$(r,s),a=ht.getHistory();if(!Number.isInteger(e)||e<=0)throw new v("Invalid Argument Exception : historySize must be a positive integer.");if(!tt.includes(u.toUpperCase()))throw new v('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(tt.includes(u.toUpperCase())){var c=tt.slice(tt.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:L}),ft={exports:{}},vt="object"==typeof Reflect?Reflect:null,dt=vt&&"function"==typeof vt.apply?vt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};et=vt&&"function"==typeof vt.ownKeys?vt.ownKeys:l.getOwnPropertySymbols?function(t){return l.getOwnPropertyNames(t).concat(l.getOwnPropertySymbols(t))}:function(t){return l.getOwnPropertyNames(t)};var lt=Number.isNaN||function(t){return t!=t};function gt(){gt.init.call(this)}ft.exports=gt,ft.exports.once=function(t,n){return new K((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Dt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Dt(t,"error",n,i)}(t,e,{once:!0})}))},gt.EventEmitter=gt,gt.prototype.hd=void 0,gt.prototype.Nd=0,gt.prototype.Id=void 0;var wt=10;function yt(t){if("function"!=typeof t)throw new d('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":j(t)))}function mt(t){return void 0===t.Id?gt.defaultMaxListeners:t.Id}function pt(t,n,i,r){var e,u,s;if(yt(i),void 0===(u=t.hd)?(u=t.hd=l.create(null),t.Nd=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.hd),s=u[n]),void 0===s)s=u[n]=i,++t.Nd;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=mt(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new v("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function _t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Mt(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=_t.bind(r);return e.listener=i,r.wrapFn=e,e}function bt(t,n,i){var r=t.hd;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Nt(e,e.length)}function Tt(t){var n=this.hd;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Nt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Dt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new d('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":j(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}l.defineProperty(gt,"defaultMaxListeners",{enumerable:!0,get:function(){return wt},set:function(t){if("number"!=typeof t||t<0||lt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");wt=t}}),gt.init=function(){(void 0===this.hd||this.hd===l.getPrototypeOf(this).hd)&&(this.hd=l.create(null),this.Nd=0),this.Id=this.Id||void 0},gt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||lt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Id=t,this},gt.prototype.getMaxListeners=function(){return mt(this)},gt.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.hd;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof v)throw u;var s=new v("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)dt(o,this,n);else{var a=o.length,c=Nt(o,a);for(i=0;i<a;++i)dt(c[i],this,n)}return!0},gt.prototype.addListener=function(t,n){return pt(this,t,n,!1)},gt.prototype.on=gt.prototype.addListener,gt.prototype.prependListener=function(t,n){return pt(this,t,n,!0)},gt.prototype.once=function(t,n){return yt(n),this.on(t,Mt(this,t,n)),this},gt.prototype.prependOnceListener=function(t,n){return yt(n),this.prependListener(t,Mt(this,t,n)),this},gt.prototype.removeListener=function(t,n){var i,r,e,u,s;if(yt(n),void 0===(r=this.hd))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.Nd?this.hd=l.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},gt.prototype.off=gt.prototype.removeListener,gt.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.hd))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.hd=l.create(null),this.Nd=0):void 0!==i[t]&&(0==--this.Nd?this.hd=l.create(null):delete i[t]),this;if(0===arguments.length){var e,u=l.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.hd=l.create(null),this.Nd=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},gt.prototype.listeners=function(t){return bt(this,t,!0)},gt.prototype.rawListeners=function(t){return bt(this,t,!1)},gt.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Tt.call(t,n)},gt.prototype.listenerCount=Tt,gt.prototype.eventNames=function(){return this.Nd>0?et(this.hd):[]};var It=ft.exports,Et=D(It),St={exports:{}};St.exports=jt,St.exports.filter=function(t,n){var i=new Ct;return jt(t,i,n),i};var Ct=It.EventEmitter;function jt(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Ot=D(St.exports),Bt={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new d('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":j(t)))},r=function(t){return void 0===t.Id?y.defaultMaxListeners:t.Id},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.hd)?(o=t.hd=l.create(null),t.Nd=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.hd),a=o[n]),void 0===a)a=o[n]=e,++t.Nd;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new v("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.hd;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.hd;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new d('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":j(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==typeof Reflect?Reflect:null,g=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:l.getOwnPropertySymbols?function(t){return l.getOwnPropertyNames(t).concat(l.getOwnPropertySymbols(t))}:function(t){return l.getOwnPropertyNames(t)};var w=Number.isNaN||function(t){return t!=t};function y(){y.init.call(this)}t.exports=y,t.exports.once=function(t,n){return new K((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},y.EventEmitter=y,y.prototype.hd=void 0,y.prototype.Nd=0,y.prototype.Id=void 0;var A=10;l.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(t){if("number"!=typeof t||t<0||w(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");A=t}}),y.init=function(){void 0!==this.hd&&this.hd!==l.getPrototypeOf(this).hd||(this.hd=l.create(null),this.Nd=0),this.Id=this.Id||void 0},y.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||w(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Id=t,this},y.prototype.getMaxListeners=function(){return r(this)},y.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.hd;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof v)throw u;var s=new v("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)g(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)g(h[i],this,n)}return!0},y.prototype.addListener=function(t,n){return e(this,t,n,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(t,n){return e(this,t,n,!0)},y.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},y.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},y.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.hd))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.Nd?this.hd=l.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.hd))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.hd=l.create(null),this.Nd=0):void 0!==i[t]&&(0==--this.Nd?this.hd=l.create(null):delete i[t]),this;if(0===arguments.length){var e,u=l.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.hd=l.create(null),this.Nd=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},y.prototype.listeners=function(t){return o(this,t,!0)},y.prototype.rawListeners=function(t){return o(this,t,!1)},y.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},y.prototype.listenerCount=a,y.prototype.eventNames=function(){return this.Nd>0?n(this.hd):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var d,l=new v({filterLevel:o.OFF});(d=o).enabledFor=c(l,l.enabledFor),d.trace=c(l,l.trace),d.debug=c(l,l.debug),d.time=c(l,l.time),d.timeEnd=c(l,l.timeEnd),d.info=c(l,l.info),d.warn=c(l,l.warn),d.error=c(l,l.error),d.log=d.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in l.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return l.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},l.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":j(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Dd||(l.create?function(t,n,i,r){void 0===r&&(r=i);var e=l.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),l.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.Ld||function(t,n){for(var i in t)"default"===i||l.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.Od||function(t){return t&&t.__esModule?t:{default:t}};l.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);l.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;l.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){l.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){l.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,v,g,w,y,A,m,p,_,k,M=this&&this.Rd||function(t,n,i,r){return new(i||(i=K))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},b=this&&this.zd||function(t,n,i,r,e){if("m"===r)throw new d("Private method is not writable");if("a"===r&&!e)throw new d("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new d("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},T=this&&this.Bd||function(t,n,i,r){if("a"===i&&!r)throw new d("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new d("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},N=this&&this.Od||function(t){return t&&t.__esModule?t:{default:t}};l.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var D=i(7),I=N(i(586)),E=i(738),S=i(185),L=function(t){function n(n){var i;return i=t.call(this)||this,r.add(Vt(i)),e.set(Vt(i),void 0),u.set(Vt(i),void 0),s.set(Vt(i),void 0),o.set(Vt(i),null),a.set(Vt(i),void 0),c.set(Vt(i),null),i.start=function(){T(i,a,"f").info("WebRTC statistics collection is starting..."),b(Vt(i),c,null,"f"),b(Vt(i),o,h(T(Vt(i),v,"f"),T(Vt(i),u,"f")),"f")},i.stop=function(){T(Vt(i),o,"f")&&(f(T(Vt(i),o,"f")),b(Vt(i),o,null,"f"),T(i,a,"f").info("WebRTC statistics collection has stopped."))},v.set(Vt(i),(function(){return M(Vt(i),void 0,void 0,(function(){var t,n,i,u,o,h,f,v,d,g,w,m;return zt(this,(function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),T(this,a,"f").trace("Requesting WebRTC statistics..."),[4,T(this,e,"f").call(this)];case 1:return t=M.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=M.sent(),[2,(T(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},T(this,s,"f")&&(o.rawStats=t),h=0,M.label=4;case 4:if(!(h<l.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(d=(0,S.getMediaKind)(v))?[3,7]:[4,T(this,r,"m",y).call(this,t,v,o)];case 6:return M.sent(),[3,10];case 7:return"video"===d?[4,T(this,r,"m",A).call(this,t,v,o)]:[3,9];case 8:M.sent(),M.label=9;case 9:M.label=10;case 10:return[3,18];case 11:return g=f,"audio"!==(w=(0,S.getMediaKind)(g))?[3,13]:[4,T(this,r,"m",p).call(this,t,g,o)];case 12:return M.sent(),[3,16];case 13:return"video"===w?[4,T(this,r,"m",_).call(this,t,g,o)]:[3,15];case 14:M.sent(),M.label=15;case 15:M.label=16;case 16:return[3,18];case 17:(m=f).nominated&&T(this,r,"m",k).call(this,m,o),M.label=18;case 18:return h++,[3,4];case 19:return b(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),b(Vt(i),a,I.default.get("WebRTCStats"),"f"),b(Vt(i),e,n.getStats,"f"),b(Vt(i),u,n.getStatsInterval||1e3,"f"),b(Vt(i),s,!!n.includeRawStats,"f"),$t(i)}return kt(n,t),n}(D.EventEmitter);n.WebRTCStats=L,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,v=new WeakMap,r=new WeakSet,g=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},w=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return zt(this,(function(f){return a=(0,S.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,S.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=T(this,r,"m",g).call(this,t,n.codecId),[2,l.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},y=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",w).call(this,t,n,u)];case 1:return s=a.sent(),o=l.assign({},s),i.output.audio.push(o),[2]}}))}))},A=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o,a;return zt(this,(function(h){switch(h.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",w).call(this,t,n,u)];case 1:return s=h.sent(),o=E.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=l.assign(l.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},m=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return zt(this,(function(f){return s=(0,S.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,S.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,S.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=T(this,r,"m",g).call(this,t,n.codecId),[2,l.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},p=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",m).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},_=function(t,n,i){return M(this,void 0,void 0,(function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return(u=null===(e=T(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,T(this,r,"m",m).call(this,t,n,u)];case 1:return s=a.sent(),o=l.assign(l.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},k=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Bt);var Pt=Bt.exports,Ut=ht.get("PeerConnectionStats"),Qt="stats",Yt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),$t(r)}kt(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)Ut.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{Ut.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Pt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,T(n,["input","output","rawStats"]));return b(M({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return M({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return M({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return M({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=T(n,["packetLossRatio","packetLossDelta","bitrate"]);return M({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);q(i),n.emit(Qt,i)})),this.collection.start(),this.initialized=!0}catch(t){Ut.error(t)}}},i.parseStats=function(t){return Ut.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){Ut.info("Stopping peer connection stats"),this.collection.stop()},n}(Et),Ft={},Wt={},Zt={},Ht={exports:{}},Kt=Ht.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};l.keys(Kt).forEach((function(t){Kt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var qt=Ht.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=qt,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(Zt);var tn=qt,nn=/%[sdv%]/g,rn=function(t){var n=1,i=arguments,r=i.length;return t.replace(nn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},en=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return rn.apply(null,r)},sn=["v","o","s","i","u","e","p","c","b","t","r","z","a"],on=["i","c","b","a"],an=Zt,cn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||sn,r=n.innerOrder||on,e=[];return i.forEach((function(n){tn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(en(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(en(n,i,t))}))}))})),t.media.forEach((function(t){e.push(en("m",tn.m[0],t)),r.forEach((function(n){tn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(en(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(en(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Wt.write=cn,Wt.parse=an.parse,Wt.parseParams=an.parseParams,Wt.parseFmtpConfig=an.parseFmtpConfig,Wt.parsePayloads=an.parsePayloads,Wt.parseRemoteCandidates=an.parseRemoteCandidates,Wt.parseImageAttributes=an.parseImageAttributes,Wt.parseSimulcastStreamList=an.parseSimulcastStreamList;var hn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();hn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new hn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},hn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():hn.expand(t)};var fn=hn,vn=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();vn.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new vn(t.id,t.params)},vn.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():vn.expand(t)};var dn=vn,ln=dn,gn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),l.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return l.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new v("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();gn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new gn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=ln.expand(e);n.addRTCPFeedback(u)}return n},gn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():gn.expand(t)},gn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new gn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var d=v[f];h.addRTCPFeedback(new ln(d.id,d.params))}for(var l=0;l<a.length;l++){var g=a[l].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var wn=gn,yn=function t(){var i=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){i[t]=n.for("Ud"+t)}))},An=yn("ACTIVE","PASSIVE","ACTPASS","INACTIVE");An.byValue=function(t){switch(t){case An.ACTIVE:case An.PASSIVE:case An.ACTPASS:case An.INACTIVE:return t}return An[t.toUpperCase()]},An.toString=function(t){switch(t){case An.ACTIVE:return"active";case An.PASSIVE:return"passive";case An.ACTPASS:return"actpass";case An.INACTIVE:return"inactive"}},An.reverse=function(t,n){switch(t){case An.ACTIVE:return An.PASSIVE;case An.PASSIVE:return An.ACTIVE;case An.ACTPASS:return n?An.ACTIVE:An.PASSIVE;case An.INACTIVE:return An.INACTIVE}};var mn=An,pn=mn,_n=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:pn.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();_n.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new _n(t.setup?pn.byValue(t.setup):pn.ACTPASS,t.hash,t.fingerprint)},_n.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():_n.expand(t)};var kn=_n,Mn=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();Mn.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new Mn(t.tag,t.suite,t.keyParams,t.sessionParams)},Mn.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():Mn.expand(t)};for(var bn=Mn,Tn={exports:{}},Nn={exports:{}},Dn={},In={byteLength:function(t){var n=xn(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=xn(t),e=r[0],u=r[1],s=new Ln(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=Sn[t.charCodeAt(i)]<<18|Sn[t.charCodeAt(i+1)]<<12|Sn[t.charCodeAt(i+2)]<<6|Sn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=Sn[t.charCodeAt(i)]<<2|Sn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=Sn[t.charCodeAt(i)]<<10|Sn[t.charCodeAt(i+1)]<<4|Sn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(zn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(En[n>>2]+En[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(En[n>>10]+En[n>>4&63]+En[n<<2&63]+"=")),e.join("")}},En=[],Sn=[],Ln=(void 0===m?"undefined":j(m))<"u"?m:Array,Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jn=0;jn<64;++jn)En[jn]=Cn[jn],Sn[Cn.charCodeAt(jn)]=jn;function xn(t){var n=t.length;if(n%4>0)throw new v("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function On(t){return En[t>>18&63]+En[t>>12&63]+En[t>>6&63]+En[63&t]}function zn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(On(r));return e.join("")}Sn[45]=62,Sn[95]=63;var Rn={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,d=t[n+f];for(f+=v,u=d&(1<<-h)-1,d>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(d?-1:1);s+=g.pow(2,r),u-=c}return(d?-1:1)*s*g.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?g.pow(2,-24)-g.pow(2,-77):0,d=r?0:u-1,l=r?1:-1,w=n<0||0===n&&1/n<0?1:0;for(n=g.abs(n),A(n)||n===1/0?(o=A(n)?1:0,s=h):(s=g.floor(g.log(n)/g.LN2),n*(a=g.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*g.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*g.pow(2,e),s+=f):(o=n*g.pow(2,f-1)*g.pow(2,e),s=0));e>=8;t[i+d]=255&o,d+=l,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+d]=255&s,d+=l,s/=256,c-=8);t[i+d-l]|=128*w}};(function(t){var i=In,r=Rn,e="function"==typeof n&&"function"==typeof n.for?n.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},t.INSPECT_MAX_BYTES=50;var u=2147483647;function s(t){if(t>u)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new m(t);return l.setPrototypeOf(n,o.prototype),n}function o(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new d('The "string" argument must be of type string. Received type number');return h(t)}return a(t,n,i)}function a(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!o.isEncoding(n))throw new d("Unknown encoding: "+n);var i=0|p(t,n),r=s(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(X(t,m)){var n=new m(t);return y(n.buffer,n.byteOffset,n.byteLength)}return f(t)}(t);if(null==t)throw new d("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":j(t)));if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":j(SharedArrayBuffer))<"u"&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return y(t,i,r);if("number"==typeof t)throw new d('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return o.from(e,i,r);var u=function(t){if(o.isBuffer(t)){var n=0|A(t.length),i=s(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||Z(t.length)?s(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":j(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return o.from(t[n.toPrimitive]("string"),i,r);throw new d("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":j(t)))}function c(t){if("number"!=typeof t)throw new d('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),s(t<0?0:0|A(t))}function f(t){for(var n=t.length<0?0:0|A(t.length),i=s(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function y(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new m(t):void 0===i?new m(t,n):new m(t,n,i),l.setPrototypeOf(r,o.prototype),r}function A(t){if(t>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|t}function p(t,n){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new d('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":j(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(e)return r?-1:F(t).length;n=(""+n).toLowerCase(),e=!0}}function _(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z(this,n,i);case"utf8":case"utf-8":return L(this,n,i);case"ascii":return x(this,n,i);case"latin1":case"binary":return O(this,n,i);case"base64":return S(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,n,i);default:if(r)throw new d("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function k(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function M(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Z(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=o.from(n,r)),o.isBuffer(n))return 0===n.length?-1:b(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof m.prototype.indexOf?e?m.prototype.indexOf.call(t,n,i):m.prototype.lastIndexOf.call(t,n,i):b(t,[n],i,r,e);throw new d("val must be string, number or Buffer")}function b(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function T(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u=n.length;r>u/2&&(r=u/2);for(var s=0;s<r;++s){var o=w(n.substr(2*s,2),16);if(Z(o))return s;t[i+s]=o}return s}function N(t,n,i,r){return W(F(n,t.length-i),t,i,r)}function D(t,n,i,r){return W(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function I(t,n,i,r){return W(V(n),t,i,r)}function E(t,n,i,r){return W(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function S(t,n,r){return 0===n&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(n,r))}function L(t,n,i){i=g.min(t.length,i);for(var r=[],e=n;e<i;){var u,s,o,a,c=t[e],h=null,f=c>239?4:c>223?3:c>191?2:1;if(e+f<=i)switch(f){case 1:c<128&&(h=c);break;case 2:128==(192&(u=t[e+1]))&&(a=(31&c)<<6|63&u)>127&&(h=a);break;case 3:u=t[e+1],s=t[e+2],128==(192&u)&&128==(192&s)&&(a=(15&c)<<12|(63&u)<<6|63&s)>2047&&(a<55296||a>57343)&&(h=a);break;case 4:u=t[e+1],s=t[e+2],o=t[e+3],128==(192&u)&&128==(192&s)&&128==(192&o)&&(a=(15&c)<<18|(63&u)<<12|(63&s)<<6|63&o)>65535&&a<1114112&&(h=a)}null===h?(h=65533,f=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),e+=f}return function(t){var n=t.length;if(n<=C)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=C));return i}(r)}t.kMaxLength=u,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new m(1),n={foo:function(){return 42}};return l.setPrototypeOf(n,m.prototype),l.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":j(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),l.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),l.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,n,i){return a(t,n,i)},l.setPrototypeOf(o.prototype,m.prototype),l.setPrototypeOf(o,m),o.alloc=function(t,n,i){return function(t,n,i){return c(t),t<=0?s(t):void 0!==n?"string"==typeof i?s(t).fill(n,i):s(t).fill(n):s(t)}(t,n,i)},o.allocUnsafe=function(t){return h(t)},o.allocUnsafeSlow=function(t){return h(t)},o.isBuffer=function(t){return null!=t&&!0===t.Qd&&t!==o.prototype},o.compare=function(t,n){if(X(t,m)&&(t=o.from(t,t.offset,t.byteLength)),X(n,m)&&(n=o.from(n,n.offset,n.byteLength)),!o.isBuffer(t)||!o.isBuffer(n))throw new d('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=g.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,n){if(!Array.isArray(t))throw new d('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=o.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(X(u,m))e+u.length>r.length?o.from(u).copy(r,e):m.prototype.set.call(r,u,e);else{if(!o.isBuffer(u))throw new d('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},o.byteLength=p,o.prototype.Qd=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)k(this,n,n+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)k(this,n,n+3),k(this,n+1,n+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)k(this,n,n+7),k(this,n+1,n+6),k(this,n+2,n+5),k(this,n+3,n+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?L(this,0,t):_.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new d("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},e&&(o.prototype[e]=o.prototype.inspect),o.prototype.compare=function(t,n,i,r,e){if(X(t,m)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new d('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":j(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),a=g.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<a;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},o.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},o.prototype.indexOf=function(t,n,i){return M(this,t,n,i,!0)},o.prototype.lastIndexOf=function(t,n,i){return M(this,t,n,i,!1)},o.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new v("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return T(this,t,n,i);case"utf8":case"utf-8":return N(this,t,n,i);case"ascii":case"latin1":case"binary":return D(this,t,n,i);case"base64":return I(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n,i);default:if(u)throw new d("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.Fd||this,0)}};var C=4096;function x(t,n,i){var r="";i=g.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function O(t,n,i){var r="";i=g.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function z(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=H[t[u]];return e}function R(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function B(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,n,i,r,e,u){if(!o.isBuffer(t))throw new d('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function U(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Q(t,n,i,e,u){return n=+n,i>>>=0,u||U(t,0,i,4),r.write(t,n,i,e,23,4),i+4}function Y(t,n,i,e,u){return n=+n,i>>>=0,u||U(t,0,i,8),r.write(t,n,i,e,52,8),i+8}o.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return l.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},o.prototype.readUint8=o.prototype.readUInt8=function(t,n){return t>>>=0,n||B(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,n){return t>>>=0,n||B(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,n){return t>>>=0,n||B(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,n){return t>>>=0,n||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,n){return t>>>=0,n||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=g.pow(2,8*n)),r},o.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||B(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=g.pow(2,8*n)),u},o.prototype.readInt8=function(t,n){return t>>>=0,n||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,n){t>>>=0,n||B(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,n){t>>>=0,n||B(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,n){return t>>>=0,n||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,n){return t>>>=0,n||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,n){return t>>>=0,n||B(t,4,this.length),r.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,n){return t>>>=0,n||B(t,4,this.length),r.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,n){return t>>>=0,n||B(t,8,this.length),r.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,n){return t>>>=0,n||B(t,8,this.length),r.read(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||P(this,t,n,i,g.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||P(this,t,n,i,g.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,1,255,0),this[n]=255&t,n+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=g.pow(2,8*i-1);P(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},o.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=g.pow(2,8*i-1);P(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},o.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},o.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},o.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||P(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeFloatLE=function(t,n,i){return Q(this,t,n,!0,i)},o.prototype.writeFloatBE=function(t,n,i){return Q(this,t,n,!1,i)},o.prototype.writeDoubleLE=function(t,n,i){return Y(this,t,n,!0,i)},o.prototype.writeDoubleBE=function(t,n,i){return Y(this,t,n,!1,i)},o.prototype.copy=function(t,n,i,r){if(!o.isBuffer(t))throw new d("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof m.prototype.copyWithin?this.copyWithin(n,i,r):m.prototype.set.call(t,this.subarray(i,r),n),e},o.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new d("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new d("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=o.isBuffer(t)?t:o.from(t,r),a=s.length;if(0===a)throw new d('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%a]}return this};var G=/[^+/0-9A-Za-z-_]/g;function F(t,n){n=n||1/0;for(var i,r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new v("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function V(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,n,i,r){for(var e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function X(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function Z(t){return t!=t}var H=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}()})(Dn),function(t,n){var i=Dn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=l.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new d("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new d("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new d("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new d("Argument must be a number");return i.SlowBuffer(t)}}(Nn,Nn.exports);var Bn=65536,Pn=Nn.exports.Buffer,Un=N.crypto||N.msCrypto;Un&&Un.getRandomValues?Tn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=Pn.allocUnsafe(t);if(t>0)if(t>Bn)for(var r=0;r<t;r+=Bn)Un.getRandomValues(i.slice(r,r+Bn));else Un.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Tn.exports=function(){throw new v("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Qn=Tn.exports,Yn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Yn.generate=function(t){var n=new Yn,i=Qn(8),r=Qn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Yn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Yn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Yn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Yn.expand(t)};var Gn=Yn,Fn=yn("SEND","RECV");Fn.byValue=function(t){return Fn[t.toUpperCase()]},Fn.toString=function(t){switch(t){case Fn.SEND:return"send";case Fn.RECV:return"recv"}},Fn.reverse=function(t){switch(t){case Fn.SEND:return Fn.RECV;case Fn.RECV:return Fn.SEND}};var Vn=Fn,Wn=Vn,Xn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Wn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=Gt(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(w(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();Xn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new Xn(t.id,Wn.byValue(t.direction)),i=0,r=l.entries(t.params||{});i<r.length;i++){var e=Gt(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},Xn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():Xn.expand(t)};var Zn=Xn,Hn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Hn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Hn(t.id,t.paused)},Hn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Hn.expand(t)};var Kn=Hn,Jn=Kn,qn=Vn,$n=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(qn.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(qn.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===qn.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===qn.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===qn.SEND?this.send:this.recv},t}();$n.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new $n,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(qn.SEND,e.map(Jn.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(qn.RECV,o.map(Jn.expand))}return n},$n.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():$n.expand(t)};var ti=$n,ni=yn("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ni.byValue=function(t){return ni[t.toUpperCase()]},ni.toString=function(t){switch(t){case ni.SENDRECV:return"sendrecv";case ni.SENDONLY:return"sendonly";case ni.RECVONLY:return"recvonly";case ni.INACTIVE:return"inactive"}},ni.reverse=function(t){switch(t){case ni.SENDRECV:return ni.SENDRECV;case ni.SENDONLY:return ni.RECVONLY;case ni.RECVONLY:return ni.SENDONLY;case ni.INACTIVE:return ni.INACTIVE}};var ii=ni,ri=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();ri.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new ri(t.port,t.maxMessageSize)},ri.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():ri.expand(t)};var ei=ri,ui=wn,si=Zn,oi=ti,ai=ii,ci=Vn,hi=ei,fi=function(){function t(t,n){this.id=t,this.type=n,this.direction=ai.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=Gt(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:ai.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=Gt(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(ai.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ui.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var d=new Set(n.extensions),l=0,g=this.extensions;l<g.length;l++){var w=Gt(g[l],2),y=w[0],A=w[1];d.has(A)&&i.addExtension(y,A)}if(n.simulcast&&this.simulcast){var m=new oi,p=this.simulcast.getSimulcastStreams(ci.SEND);if(p)for(var _=0;_<p.length;_++){var k=p[_].map((function(t){return t.clone()}));m.addSimulcastAlternativeStreams(ci.RECV,k)}var M=this.simulcast.getSimulcastStreams(ci.RECV);if(M)for(var b=0;b<M.length;b++){var T=M[b].map((function(t){return t.clone()}));m.addSimulcastAlternativeStreams(ci.SEND,T)}for(var N=0,D=this.rids.values();N<D.length;N++){var I=D[N],E=I.clone();E.setDirection(ci.reverse(I.getDirection())),i.addRID(E)}i.setSimulcast(m)}if(e&&this.dataChannel){var S=new hi(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(S)}}else i.setDirection(ai.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function vi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new v("invalid integer ".concat(n));return w(n)}fi.create=function(t,n){var i=new fi(t,t);if(n){var r=n.codecs;r&&(Array.isArray(r)?i.setCodecs(ui.MapFromNames(r,n.rtx,n.rtcpfbs)):i.setCodecs(r))}else i.setDirection(ai.INACTIVE);return i},fi.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new fi(t.id,t.type);if(t.direction&&n.setDirection(ai.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=hi.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=l.entries(t.extensions);r<e.length;r++){var u=Gt(e[r],2),s=u[0],o=u[1];n.addExtension(vi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ui.expand(h);f&&n.addCodec(f)}for(var v=0,d=t.rids||[];v<d.length;v++){var g=d[v],w=si.expand(g);n.addRID(w)}return t.simulcast&&n.setSimulcast(oi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},fi.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():fi.expand(t)};var di=fi,li=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(w(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();li.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new li(t.semantics,t.ssrcs)},li.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():li.expand(t)};var gi=li,wi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();wi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new wi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},wi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():wi.expand(t)};var yi=wi,Ai=wn,mi=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=Gt(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=Gt(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();mi.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new mi(t.id,t.paused),i=0,r=l.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(Ai.expand(e))}for(var u=0,s=l.entries(t.params||{});u<s.length;u++){var o=Gt(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},mi.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():mi.expand(t)};var pi=mi,_i=gi,ki=pi,Mi=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},t}();Mi.expand=function(t){if("TrackInfo"===t.constructor.name)return t;var n=new Mi(t.media,t.id);t.mediaId&&n.setMediaId(t.mediaId);for(var i=0,r=t.ssrcs||[];i<r.length;i++){var e=r[i];n.addSSRC(e)}for(var u=0,s=t.groups||[];u<s.length;u++){var o=s[u];n.addSourceGroup(_i.expand(o))}for(var a=0,c=t.encodings||[];a<c.length;a++){for(var h=c[a],f=[],v=0;v<h.length;v++){var d=h[v];f.push(ki.expand(d))}n.addAlternativeEncodings(f)}return n},Mi.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Mi.expand(t)};var bi=Mi,Ti=bi,Ni=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ni.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ni(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ti.expand(e);u&&n.addTrack(u)}return n},Ni.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ni.expand(t)};var Di,Ii,Ei=Ni,Si=Wt,Li=(Di="en-US",Ii=new Intl.Collator(Di,{sensitivity:"base"}),function(t,n){return 0==Ii.compare(t,n)}),Ci=fn,ji=wn,xi=dn,Oi=kn,zi=bn,Ri=Gn,Bi=di,Pi=mn,Ui=ii,Qi=Vn,Yi=gi,Gi=yi,Fi=Ei,Vi=bi,Wi=pi,Xi=ti,Zi=Kn,Hi=Zn,Ki=ei,Ji=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var d=0,l=this.candidates;d<l.length;d++){var g=l[d];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Li(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Li(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Li(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=Gt(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=Gt(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ri?i.setICE(n.ice.clone()):i.setICE(Ri.expand(n.ice))),n.dtls&&(n.dtls instanceof Oi?i.setDTLS(n.dtls):i.setDTLS(Oi.expand(n.dtls))),n.crypto&&(n.crypto instanceof zi?i.setCrypto(n.crypto):i.setCrypto(zi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Ci?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Ci.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Ui.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Li("audio",e.getType())||Li("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=Pi.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Li("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Li("opus",f.getCodec())||Li("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,d=f.getRTCPFeedbacks();v<d.length;v++){var g=d[v];u.rtcpFb.push({payload:f.getType(),type:g.getId(),subtype:g.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var w=f.getParams();if(l.keys(w).length){var y={payload:f.getType(),config:""};for(var A in w)y.config.length&&(y.config+=";"),l.hasOwnProperty.call(w,A)?y.config+=A+"="+w[A]:y.config+=A;u.fmtp.push(y)}}for(var m=[],p=0,_=u.rtp;p<_.length;p++){var k=_[p];m.push(k.payload)}u.payloads=m.join(" ");for(var M=0,b=e.getExtensions().entries();M<b.length;M++){var T=Gt(b[M],2),N=T[0],D=T[1];u.ext.push({value:N,uri:D})}for(var I=0,E=e.getRIDs().values();I<E.length;I++){var S=E[I],L={id:S.getId(),direction:Qi.toString(S.getDirection()),params:""};S.getFormats().length&&(L.params="pt="+S.getFormats().join(","));for(var C=0,j=S.getParams().entries();C<j.length;C++){var x=Gt(j[C],2),O=x[0],z=x[1];L.params+=(L.params.length?";":"")+O+"="+z}u.rids.push(L)}var R=e.getSimulcast();if(R){var B=1;u.simulcast={};var P=R.getSimulcastStreams(Qi.SEND),U=R.getSimulcastStreams(Qi.RECV);if(P&&P.length){for(var Q="",Y=0;Y<P.length;Y++){for(var G=P[Y],F="",V=0;V<G.length;V++){var W=G[V];F+=(F.length?",":"")+(W.isPaused()?"~":"")+W.getId()}Q+=(Q.length?";":"")+F}u.simulcast["dir"+B]="send",u.simulcast["list"+B]=Q,B++}if(U&&U.length){for(var X="",Z=0;Z<U.length;Z++){for(var H=U[Z],K="",J=0;J<H.length;J++){var q=H[J];K+=(K.length?",":"")+(q.isPaused()?"~":"")+q.getId()}X+=(X.length?";":"")+K}u.simulcast["dir"+B]="recv",u.simulcast["list"+B]=X,B++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Li(ot.type,ut.getMedia())){var dt=ut.getSourceGroups();for(var lt in dt){var gt=dt[lt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var wt=ut.getSSRCs();for(var yt in wt)ot.ssrcs.push({id:wt[yt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:wt[yt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var At={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(At),Si.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return Si.write(t).slice(10)},t}();Ji.create=function(t){var n=new Ji;t.ice&&(t.ice instanceof Ri?n.setICE(t.ice.clone()):n.setICE(Ri.expand(t.ice))),t.dtls&&(t.dtls instanceof Oi?n.setDTLS(t.dtls):n.setDTLS(Oi.expand(t.dtls))),t.crypto&&(t.crypto instanceof zi?n.setCrypto(t.crypto):n.setCrypto(zi.expand(t.crypto)));for(var i=0,r=t.candidates||[];i<r.length;i++){var e=r[i];e instanceof Ci?n.addCandidate(e.clone()):n.addCandidate(Ci.expand(e))}for(var u=96,s=1,o=0,a=l.entries(t.capabilities||{});o<a.length;o++){for(var c=Gt(a[o],2),h=c[0],f=c[1],v=Bi.create(h,f),d=0,g=v.getCodecs();d<g.length;d++){var w=Gt(g[d],2),y=(w[0],w[1]);y.getType()>=96&&y.setType(u++),y.getRTX()&&y.setRTX(u++)}if(f.extensions)for(var A=0,m=f.extensions;A<m.length;A++){var p=m[A];15===s&&s++,v.addExtension(s++,p)}n.addMedia(v)}return n},Ji.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new Ji(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Bi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=Fi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],d=Ci.expand(v);d&&n.addCandidate(d)}return t.ice&&n.setICE(Ri.expand(t.ice)),t.dtls&&n.setDTLS(Oi.expand(t.dtls)),t.crypto&&n.setCrypto(zi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},Ji.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():Ji.expand(t)},Ji.process=function(t){return Ji.parse(t)},Ji.parse=function(t){var n=Si.parse(t),i=new Ji;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ri(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Bi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),d=new Ri(f,v);d.setLite("ice-lite"==n.icelite),d.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(d)}for(var l=0;o.candidates&&l<o.candidates.length;++l){var g=o.candidates[l],y=new Ci(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(y)}var A=o.fingerprint||n.fingerprint;if(A){var m=A.type,p=A.hash,_=Pi.ACTPASS;o.setup&&(_=Pi.byValue(o.setup)),i.setDTLS(new Oi(_,m,p))}if(o.crypto){var k=o.crypto[0];i.setCrypto(new zi(k.id,k.suite,k.config,k.sessionConfig))}var M=Ui.SENDRECV;o.direction&&(M=Ui.byValue(o.direction),h.setDirection(M)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var b=new Map;for(var T in o.rtp){var N=o.rtp[T],D=N.payload,I=N.codec;if("RED"!==I.toUpperCase()&&"ULPFEC"!==I.toUpperCase()){var E={};for(var S in o.fmtp){var L=o.fmtp[S];if(L.payload===D){var C=L.config.split(";");for(var j in C){var x=C[j].split("="),O=x[0].trim(),z=x.splice(1).join("=").trim();E[O]=z}}}if("RTX"===I.toUpperCase())b.set(w(E.apt),D);else{var R=new ji(I,D,E);N.encoding>1&&R.setChannels(N.encoding),h.addCodec(R)}}}for(var B=0,P=b.entries();B<P.length;B++){var U=P[B],Q=h.getCodecForType(U[0]);Q&&Q.setRTX(U[1])}for(var Y=0;o.rtcpFb&&Y<o.rtcpFb.length;++Y){var G=h.getCodecForType(o.rtcpFb[Y].payload);if(G){var F=o.rtcpFb[Y].type,V=o.rtcpFb[Y].subtype?o.rtcpFb[Y].subtype.split(" "):null;G.addRTCPFeedback(new xi(F,V))}}var W=o.ext;for(var X in W){var Z=W[X];h.addExtension(Z.value,Z.uri)}var H=o.rids;for(var K in H){var J=H[K],q=new Hi(J.id,Qi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=Si.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);q.setFormats($),q.setParams(tt)}h.addRID(q)}var rt=[];if(o.simulcast){var et=new Xi;if(o.simulcast.dir1)for(var ut=Qi.byValue(o.simulcast.dir1),st=Si.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Zi(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Qi.byValue(o.simulcast.dir2),ft=Si.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var dt=[],lt=0;lt<ft[vt].length;++lt)dt.push(new Zi(ft[vt][lt].scid,ft[vt][lt].paused));et.addSimulcastAlternativeStreams(ht,dt)}for(var gt=0,wt=et.getSimulcastStreams(Qi.SEND);gt<wt.length;gt++){for(var yt=wt[gt],At=[],mt=0;mt<yt.length;mt++){var pt=new Wi(yt[mt].getId(),yt[mt].isPaused()),_t=h.getRID(pt.getId());if(_t){for(var kt=_t.getFormats(),Mt=0;kt&&Mt<kt.length;++Mt){var bt=h.getCodecForType(kt[Mt]);bt&&pt.addCodec(bt)}pt.setParams(_t.getParams()),At.push(pt)}}At.length&&rt.push(At)}h.setSimulcast(et)}var Tt=new Map;if(o.ssrcs)for(var Nt in o.ssrcs){var Dt=o.ssrcs[Nt],It=Dt.id,Et=Dt.attribute,St=Dt.value,Lt=Tt.get(It);if(Lt||(Lt=new Gi(It),Tt.set(Lt.getSSRC(),Lt)),Li("cname",Et))Lt.setCName(St);else if(Li("msid",Et)){var Ct=St.split(" "),jt=Ct[0],xt=Ct[1];Lt.setStreamId(jt),Lt.setTrackId(xt);var Ot=i.getStream(jt);Ot||(Ot=new Fi(jt),i.addStream(Ot));var zt=Ot.getTrack(xt);zt||((zt=new Vi(a,xt)).setMediaId(c),zt.setEncodings(rt),Ot.addTrack(zt)),zt.addSSRC(It)}}if(o.msid){var Rt=o.msid.split(" "),Bt=Rt[0],Pt=Rt[1],Ut=i.getStream(Bt);Ut||(Ut=new Fi(Bt),i.addStream(Ut));var Qt=Ut.getTrack(Pt);Qt||((Qt=new Vi(a,Pt)).setMediaId(c),Qt.setEncodings(rt),Ut.addTrack(Qt));for(var Yt=0,Ft=Tt.entries();Yt<Ft.length;Yt++){var Vt=Gt(Ft[Yt],2),Wt=Vt[0],Xt=Vt[1];Xt.getStreamId()||(Xt.setStreamId(Bt),Xt.setTrackId(Pt),Qt.addSSRC(Wt))}}for(var Zt=0,Ht=Tt.entries();Zt<Ht.length;Zt++){var Kt=Gt(Ht[Zt],2),Jt=Kt[0],qt=Kt[1];if(!qt.getStreamId()){var $t=qt.getCName(),tn=c;qt.setStreamId($t),qt.setTrackId(tn);var nn=i.getStream($t);nn||(nn=new Fi($t),i.addStream(nn));var rn=nn.getTrack(tn);rn||((rn=new Vi(a,tn)).setMediaId(c),rn.setEncodings(rt),nn.addTrack(rn)),rn.addSSRC(Jt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Yi(un.semantics,sn),an=Tt.get(w(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new Ki(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var qi=Ji;l.defineProperty(Ft,"__esModule",{value:!0});var $i=Ft.SDPInfo=qi;Ft.CandidateInfo=fn,Ft.CodecInfo=wn,Ft.DTLSInfo=kn,Ft.CryptoInfo=bn,Ft.ICEInfo=Gn;var tr=Ft.MediaInfo=di;Ft.Setup=mn,Ft.SourceGroupInfo=gi,Ft.SourceInfo=yi,Ft.StreamInfo=Ei,Ft.TrackInfo=bi,Ft.RTCPFeedbackInfo=dn,Ft.TrackEncodingInfo=pi,Ft.RIDInfo=Zn,Ft.SimulcastInfo=ti,Ft.SimulcastStreamInfo=Kn,Ft.DataChannelInfo=ei;var nr=Ft.Direction=ii,ir={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",d="version",l="architecture",g="console",w="mobile",y="tablet",A="smarttv",m="wearable",p="embedded",_="Amazon",k="Apple",M="ASUS",b="BlackBerry",T="Browser",N="Chrome",D="Firefox",I="Google",E="Huawei",S="LG",L="Microsoft",C="Motorola",x="Opera",O="Samsung",z="Sharp",R="Sony",B="Xiaomi",P="Zebra",U="Facebook",Q="Chromium OS",Y="Mac OS",G=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},F=function(t,n){return(void 0===t?"undefined":j(t))===o&&-1!==V(n).indexOf(V(t))},V=function(t){return t.toLowerCase()},W=function(t,n){if((void 0===t?"undefined":j(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":j(n))===u?t:t.substring(0,500)},X=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],d=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<d.length;o++)h=c[++u],(void 0===(a=d[o])?"undefined":j(a))===s&&a.length>0?2===a.length?j(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?j(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},Z=function(t,n){for(var i in n)if(j(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(F(n[i][e],t))return"?"===i?r:i}else if(F(n[i],t))return"?"===i?r:i;return t},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,d],[/opios[\/ ]+([\w\.]+)/i],[d,[h,x+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[h,x]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[h,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[h,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+T],d],[/\bfocus\/([\w\.]+)/i],[d,[h,D+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[h,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[h,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[h,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[d,[h,D]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+T]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+T],d],[/samsungbrowser\/([\w\.]+)/i],[d,[h,O+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,d],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,U],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[h,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,N+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[h,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[d,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[h,D+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,d],[/(cobalt)\/([\w\.]+)/i],[h,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,V]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,O],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,O],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,y]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,z],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,E],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,E],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,C],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,C],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,S],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,S],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,w]],[/(pixel c)\b/i],[c,[v,I],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,I],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,R],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,R],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,_],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,_],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,b],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,M],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,M],[f,w]],[/(nexus 9)/i],[c,[v,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,y]],[/(surface duo)/i],[c,[v,L],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,w]],[/(u304aa)/i],[c,[v,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,y]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,y]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,w]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[v,c,[f,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,L],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,P],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,P],[f,w]],[/smart-tv.+(samsung)/i],[v,[f,A]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,O],[f,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,S],[f,A]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,A]],[/crkey/i],[[c,N+"cast"],[v,I],[f,A]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,_],[f,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,z],[f,A]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,R],[f,A]],[/(mitv-\w{5}) bui/i],[c,[v,B],[f,A]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,W],[c,W],[f,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,R],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,L],[f,g]],[/((pebble))app/i],[v,c,[f,m]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,m]],[/droid.+; (glass) \d/i],[c,[v,I],[f,m]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,P],[f,m]],[/(quest( 2| pro)?)/i],[c,[v,U],[f,m]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,p]],[/(aeobc)\b/i],[c,[v,_],[f,p]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[d,Z,H]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,Z,H],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Y],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,d],[/\(bb(10);/i],[d,[h,b]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[h,D+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[h,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,Q],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,d],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,d]]},J=function(t,n){if((void 0===t?"undefined":j(t))===s&&(n=t,t=r),!(this instanceof J))return new J(t,n).getResult();var g=(void 0===i?"undefined":j(i))!==u&&i.navigator?i.navigator:r,A=t||(g&&g.userAgent?g.userAgent:""),m=g&&g.userAgentData?g.userAgentData:r,p=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(K,n):K,_=g&&g.userAgent==A;return this.getBrowser=function(){var t={};return t[h]=r,t[d]=r,X.call(t,A,p.browser),t[a]=function(t){return(void 0===t?"undefined":j(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),_&&g&&g.brave&&j(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,X.call(t,A,p.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,X.call(t,A,p.device),_&&!t[f]&&m&&m.mobile&&(t[f]=w),_&&"Macintosh"==t[c]&&g&&j(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=y),t},this.getEngine=function(){var t={};return t[h]=r,t[d]=r,X.call(t,A,p.engine),t},this.getOS=function(){var t={};return t[h]=r,t[d]=r,X.call(t,A,p.os),_&&!t[h]&&m&&"Unknown"!=m.platform&&(t[h]=m.platform.replace(/chrome os/i,Q).replace(/macos/i,Y)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return A},this.setUA=function(t){return A=(void 0===t?"undefined":j(t))===o&&t.length>500?W(t,500):t,this},this.setUA(A),this};J.VERSION="0.7.37",J.BROWSER=G([h,d,a]),J.CPU=G([l]),J.DEVICE=G([c,v,f,g,w,A,y,m,p]),J.ENGINE=J.OS=G([h,d]),t.exports&&(n=t.exports=J),n.UAParser=J;var q=(void 0===i?"undefined":j(i))!==u&&(i.jQuery||i.Zepto);if(q&&!q.ua){var $=new J;q.ua=$.getResult(),q.ua.get=function(){return $.getUA()},q.ua.set=function(t){$.setUA(t);var n=$.getResult();for(var i in n)q.ua[i]=n[i]}}}("object"==typeof e?e:N)}(ir,ir.exports);var rr=D(ir.exports),er=["iOS"],ur=function(t){function n(){return t.call(this,e.navigator.userAgent)}kt(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(er.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(rr),sr=ht.get("SdpParser"),or=Array.from({length:31},(function(t,n){return n+35})),ar=Array.from({length:32},(function(t,n){return n+96})),cr=Array.from({length:14},(function(t,n){return n+1})),hr=Array.from({length:240},(function(t,n){return n+16})),fr={setSimulcast:function(t,n){if(sr.info("Setting simulcast. Codec: ",n),!(new ur).isChromium())return sr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return sr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return sr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",sr.info("Simulcast setted"),sr.debug("Simulcast SDP: ",t),t}catch(t){throw sr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return sr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),sr.info("Replaced SDP response for support stereo"),sr.debug("New SDP value: ",t),t},setDTX:function(t){return sr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),sr.info("Replaced SDP response for support dtx"),sr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+fr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),sr.info("Replaced SDP response for setting absolute capture time"),sr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+fr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),sr.info("Replaced SDP response for setting depency descriptor"),sr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)sr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=$i.parse(t),r=i.getMedia("video");sr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return sr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),sr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ur).isFirefox()&&(!n||vr(n)))if(t.includes("multiopus/48000/6"))sr.info("Multiopus already setted");else{sr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=fr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),sr.info("Multiopus offer created"),sr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return w(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=ar.concat(or),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return w(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=cr.concat(hr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=$i.parse(t),r=$i.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new tr(s.getId(),s.getType())).setDirection(nr.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=Gt(h[c],2),v=f[0],d=f[1];o.addExtension(v,d)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=$i.parse(t),e=null==(i=$i.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},vr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},dr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},lr={OPUS:"opus",MULTIOPUS:"multiopus"},gr=ht.get("PeerConnection"),wr="Publisher",yr="Viewer",Ar={track:"track",connectionStateChange:"connectionStateChange"},mr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},pr=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,$t(n)}kt(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=yr);var i=this;return xt((function(){return zt(this,(function(r){return gr.info("Creating new RTCPeerConnection"),gr.debug("RTC configuration provided by user: ",t),i.peer=Mr(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return gr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){return gr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(Ar.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:gr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),gr.info("RTC Remote SDP was set successfully."),gr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),gr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=mr);var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return gr.info("Getting RTC Local SDP"),t=M(M({},mr),t),gr.debug("Options: ",t),(i=kr(t.mediaStream))?Tr(n.peer,i,t):Nr(n.peer,t),gr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),gr.info("Peer offer created"),gr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=fr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=fr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=fr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=fr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=fr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=fr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),gr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),r=i.peer.addTransceiver(t,{direction:"recvonly",streams:n}),[4,Dr(r,n)];case 1:return[2,(r=u.sent(),r)];case 2:throw e=u.sent(),gr.error("Error while adding the remote track: ",e),e;case 3:return[2]}}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===yr)throw gr.error("Viewer attempting to update bitrate, this is not allowed"),new v("It is not possible for a viewer to update the bitrate.");return gr.info("Updating bandwidth restriction, bitrate value: ",n),gr.debug("SDP value: ",t),fr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(n.mode===yr)throw gr.error("Viewer attempting to update bitrate, this is not allowed"),new v("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw gr.error("Cannot update bitrate. No peer found."),new v("Cannot update bitrate. No peer found.");return gr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),gr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(gr.info("Getting RTC peer status"),!this.peer)return null;var t=Ir(this.peer);return gr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):gr.error("There is no ".concat(t.kind," track in active broadcast."))}else gr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?gr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Yt(this.peer,t),Ot(this.peerConnectionStats,this,[Qt])):gr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ur,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(l.values(dr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(l.values(lr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=b(M({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=Lt(h).concat(Lt(o.scalabilityModes)),r[c].scalabilityModes=Lt(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=l.keys(r).map((function(t){return M({codec:t},r[t])}))}return i},n}(Et),_r=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},kr=function(t){if(!t)return null;if(t instanceof MediaStream&&_r(t))return t;if(!(t instanceof MediaStream)){gr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(_r(n))return n}throw gr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new v("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Mr=function(t,n){var i=new RTCPeerConnection(n);return br(t,i),i},br=function(t,n){n.ontrack=function(n){gr.info("New track from peer."),gr.debug("Track event value: ",n),t.emit(Ar.track,n)},n.connectionState?n.onconnectionstatechange=function(i){gr.info("Peer connection state change: ",n.connectionState),t.emit(Ar.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){gr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(Ar.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=xt((function(t){var i,r;return zt(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(gr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),gr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=fr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=fr.renegotiate(i.sdp,n.remoteDescription.sdp),gr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),gr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Tr=function(t,n,i){gr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ur).isChrome()?(gr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&gr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),gr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},Nr=function(t,n){var i=new ur;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Dr=xt((function(t,n,i){return zt(this,(function(r){return void 0===i&&(i=0),[2,new K((function(r,e){if(t.mid){for(var u=0;u<n.length;u++)n[u].addTrack(t.receiver.track);r(t)}else i>=10?e(new v("Error, maximum number of retries has been reached")):(i++,a((function(){Dr(t,n,i).then(r).catch(e)}),50))}))]}))})),Ir=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},Er={};l.defineProperty(Er,"__esModule",{value:!0}),Er.TypedEmitter=It.EventEmitter;var Sr=Er.TypedEmitter,Lr=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,$t(r)}kt(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Sr),Cr=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.Yd({type:"response",transId:r,data:t})},reject:function(t){i.Yd({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),$t(i)}kt(n,t);var i=n.prototype;return i.Yd=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new K((function(e,u){if(!t||0===t.length)throw new v("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,b(M({},s),{resolve:e,reject:u}));try{r.Yd(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new v("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.Yd(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Lr(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Sr),jr=D(Cr),xr=ht.get("Signaling"),Or="wsConnectionSuccess",zr="wsConnectionError",Rr="wsConnectionClose",Br="broadcastEvent",Pr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,$t(i)}kt(n,t);var i=n.prototype;return i.connect=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){return[2,(xr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(xr.info("Connected to server: ",t.webSocket.url),xr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Or,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new K((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new jr(t.webSocket),t.webSocket.onopen=function(){xr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(Br,n)})),xr.info("Connected to server: ",t.webSocket.url),xr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Or,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){xr.error("WebSocket not connected: ",t.webSocket.url),t.emit(zr,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,xr.info("Connection closed with Signaling Server."),t.emit(Rr)}})))]}))}))()},i.close=function(){var t;xr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return xt((function(){var u,s,o,a,c,h,f,v,d;return zt(this,(function(l){switch(l.label){case 0:xr.info("Starting subscription to streamName: ",e.streamName),xr.debug("Subcription local description: ",t),c=Ur(n,i,r),t=fr.adaptCodecName(t,"AV1X",dr.AV1),h={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds},c.vad&&(h.vad=!0),Array.isArray(c.events)&&(h.events=c.events),c.forcePlayoutDelay&&(h.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(h.layer=c.layer),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,e.connect()];case 2:return l.sent(),xr.info("Sending view command"),[4,e.transactionManager.cmd("view",h)];case 3:return f=l.sent(),v=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(f.sdp=v?fr.adaptCodecName(f.sdp,dr.AV1,"AV1X"):f.sdp,xr.info("Command sent, subscriberId: ",f.subscriberId),xr.debug("Command result: ",f),e.serverId=f.subscriberId,e.clusterId=f.clusterId,e.streamViewId=f.streamViewId,F(e.streamName),V(e.serverId),W(f.streamViewId),J(e.clusterId),f.sdp)];case 4:throw d=l.sent(),xr.error("Error sending view command, error: ",d),d;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return xt((function(){var u,s,o,a,c,h,f,d,g,w,y,A,m,p,_;return zt(this,(function(k){switch(k.label){case 0:if(g=Qr(n,i,r),xr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(g.codec)),xr.debug("Publishing local description: ",t),w=null!=(a=null==(o=null==(s=null==(u=pr.getCapabilities)?void 0:u.call(pr,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(y=l.values(dr)).indexOf(g.codec))throw xr.error("Invalid codec ".concat(g.codec,". Possible values are: "),y),new v("Invalid codec ".concat(g.codec,". Possible values are: ").concat(y));if(w.length>0&&-1===w.indexOf(g.codec))throw xr.error("Unsupported codec ".concat(g.codec,". Possible values are: "),w),new v("Unsupported codec ".concat(g.codec,". Possible values are: ").concat(w));if(g.codec===dr.AV1&&(t=fr.adaptCodecName(t,"AV1X",dr.AV1)),A={name:e.streamName,sdp:t,codec:g.codec,sourceId:g.sourceId},g.priority){if(!(Number.isInteger(g.priority)&&g.priority>=-2147483648&&g.priority<=2147483647))throw new v("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");A.priority=g.priority}null!==g.record&&(A.record=g.record),Array.isArray(g.events)&&(A.events=g.events),k.label=1;case 1:return k.trys.push([1,4,,5]),[4,e.connect()];case 2:return k.sent(),xr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",A)];case 3:return m=k.sent(),g.codec===dr.AV1&&(p=null==(d=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:d.call(f,(function(t){return"video/AV1X"===t.mimeType})),m.sdp=p?fr.adaptCodecName(m.sdp,dr.AV1,"AV1X"):m.sdp),[2,(xr.info("Command sent, publisherId: ",m.publisherId),xr.debug("Command result: ",m),e.serverId=m.publisherId,e.clusterId=m.clusterId,F(e.streamName),V(e.serverId),X(m.feedId),J(e.clusterId),m.sdp)];case 4:throw _=k.sent(),xr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){return[2,(xr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Et),Ur=function(t,n,i){var r="object"==typeof t?t:{};return 0===l.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Qr=function(t,n,i){var r="object"==typeof t?t:{};return 0===l.keys(r).length&&(r={codec:null!=t?t:dr.H264,record:n,sourceId:i}),r},Yr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,$t(r)}return kt(n,t),n}(un(v)),Gr=ht.get("Director"),Fr="WebRtc",Vr="",Wr="https://director.millicast.com",Xr={setEndpoint:function(t){Wr=t.replace(/\/$/,"")},getEndpoint:function(){return Wr},setLiveDomain:function(t){Vr=t.replace(/\/$/,"")},getLiveDomain:function(){return Vr},getPublisher:xt((function(t,n,i){var r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=Fr),r=Zr(t,n,i),Gr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Xr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Yr(a.data.message,o.status);return[2,(a=Kr(a),Gr.debug("Getting publisher response: ",a),G(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),Gr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:xt((function(t,n,i){var r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=Hr(t,n,i),G(r.streamAccountId),Gr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=b(M({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Xr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Yr(a.data.message,o.status);return[2,(a=Kr(a),Gr.debug("Getting subscriber response: ",a),a.data)];case 4:throw c=h.sent(),Gr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Zr=function(t,n,i){var r="object"==typeof t?t:{};return 0===l.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},Hr=function(t,n,i){var r="object"==typeof t?t:{};return 0===l.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},Kr=function(t){if(Xr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Xr.getLiveDomain())}));t.data.urls=i}return t};function Jr(t){this.message=t}Jr.prototype=new v,Jr.prototype.name="InvalidCharacterError";var qr=(void 0===e?"undefined":j(e))<"u"&&e.atob&&e.atob.bind(e)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new Jr("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function $r(t){this.message=t}function te(t,n){if("string"!=typeof t)throw new $r("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(qr(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return qr(n)}}(t.split(".")[i]))}catch(t){throw new $r("Invalid token specified: "+t.message)}}$r.prototype=new v,$r.prototype.name="InvalidTokenError";var ne={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":j(self))<"u"?self:xs.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new v,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ne,ne.exports);var ie=ne.exports,re={exports:{}};!function(t,i){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),d=i(9708),g=i(6914),w=i(2294),y=i(6133),A=i(1152),m=i(8863),p=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.sf={},this.Gd()}var n=t.prototype;return n.Gd=function(){this.Vd=new w.Ids,this.Wd=null,this.Hd=new y.Manager,this.Xd=null,this.Zd=null,this.qd=null,this.Kd={},this.Jd=[],this.$d=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof d.describe,"Manifest functionality disabled"),d.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.tf(n,"Zd")},n.alter=function(t){r(t&&"object"==typeof t&&!Array.isArray(t),"Invalid targets argument"),r(!this.ef(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.Xd,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.sf.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.nf("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof v||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.rf("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==typeof t&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.rf("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.nf("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.tf(n,"qd")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.rf("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.rf("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.Wd=a.preferences(n.Wd,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.Wd=a.preferences(n.Wd,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.rf("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,Lt(n));return r.$_setFlag("only",!!r.Zd,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.ef(),"Cannot set caching inside a ruleset"),r(!this.Xd,"Cannot override schema cache"),r(void 0===this.Kd.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.Xd=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=l.create(l.getPrototypeOf(this));return this.hf(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.$d.has(r)&&(i.Jd=i.Jd.filter((function(t){return t.keep||t.name!==r})),i.$d.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.ef(),"Cannot concatenate onto a schema with open ruleset"),r(!t.ef(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=l.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.Vd.concat(t.Vd),i.Hd.register(t,y.toSibling),i.Wd=i.Wd?a.preferences(i.Wd,t.Wd):t.Wd,i.Zd=p.merge(i.Zd,t.Zd,t.qd),i.qd=p.merge(i.qd,t.qd,t.Zd);for(var h=0,f=t.$d.keys();h<f.length;h++)n(h,f);for(var v=0,d=t.Jd;v<d.length;v++){var g=d[v];t.sf.rules[g.method].multi||i.$d.set(g.name,g),i.Jd.push(g)}if(i.Kd.empty&&t.Kd.empty){i.Kd.empty=i.Kd.empty.concat(t.Kd.empty);var w=l.assign({},t.Kd);delete w.empty,s(i.Kd,w)}else if(t.Kd.empty){i.Kd.empty=t.Kd.empty;var A=l.assign({},t.Kd);delete A.empty,s(i.Kd,A)}else s(i.Kd,t.Kd);for(var m in t.$_terms){var _=t.$_terms[m];_?i.$_terms[m]?i.$_terms[m]=i.$_terms[m].concat(_):i.$_terms[m]=_.slice():i.$_terms[m]||(i.$_terms[m]=_)}return this.$_root.uf&&this.$_root.uf.cf(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.Vd.reach(t)},n.fork=function(t,n){r(!this.ef(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.Vd.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.sf;a.assertOptions(t,l.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.Jd.length-1:this.$_temp.ruleset;r(i>=0&&i<this.Jd.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.Jd.length;++s){var o=u.Jd[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.Jd[s]=c,u.$d.get(c.name)===o&&u.$d.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.ef(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return A.location?A.location(this):this},n.validate=function(t,n){return m.entry(t,this,n)},n.validateAsync=function(t,n){return m.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==typeof t,"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=l.assign({},t);i.lf=[],i.method=i.method||i.name;var e=this.sf.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===l.keys(u).length||l.keys(u).length===this.sf.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.lf.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.df(i.name,{clone:!1}),s.$d.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.Jd.unshift(i):s.Jd.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.Kd:{},o=u.messages?g.merge(this.sf.messages,u.messages):this.sf.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.Kd[t]},n.$_getRule=function(t){return this.$d.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.Vd.labels(t)},n.$_match=function(t,n,i,r){(i=l.assign({},i)).abortEarly=!0,i._f=!1,n.snapshot();var e=!m.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),w.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.ef(),"Cannot add this rule inside a ruleset"),this.Hd.reset(),this.Vd.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.sf[r][e]&&t.sf[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.sf.rebuild&&this.sf.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.Hd.register(t,r),this.Vd.register(t,{key:e})},n.$_property=function(t){return this.sf.properties[t]},n.$_reach=function(t){return this.Vd.reach(t)},n.$_rootReferences=function(){return this.Hd.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.ef(),"Cannot set flag inside a ruleset");var e=this.sf.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.Kd[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.Kd[t]=n,s.$_mutateRegister(n)):delete s.Kd[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(Lt(i)))},n.$_validate=function(t,n,i){return m.validate(t,this,n,i)},n.hf=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=l.assign({},this.$_temp),t.$_temp.whens={},t.Vd=this.Vd.clone(),t.Wd=this.Wd,t.Zd=this.Zd&&this.Zd.clone(),t.qd=this.qd&&this.qd.clone(),t.Jd=this.Jd.slice(),t.$d=e(this.$d,{shallow:!0}),t.Hd=this.Hd.clone(),t.Kd=l.assign({},this.Kd),t.Xd=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.gf[i].bind(t);return t},n.wf=function(){var t=this.clone();t.Gd();var n=t.sf.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.nf=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(Xt(e={},a.symbols.literal,!0),Xt(e,"literal",n),n=e),this.$_setFlag(t,n)},n.vf=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,d=f.then,l=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(d){var w=n.localize(Lt(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),y=d.vf(t,w,i),A=y.schema,m=y.id;r.push(A),e.push("".concat(g,".then").concat(m?"(".concat(m,")"):""));break}}else if(l){var p=n.localize(Lt(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),_=l.vf(t,p,i),k=_.schema,M=_.id;r.push(k),e.push("".concat(g,".otherwise").concat(M?"(".concat(M,")"):""));break}}if(s.break&&e.length>c)break}}var b=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",b),!b)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[b])return{schema:this.$_temp.whens[b],id:b};var T=this;this.sf.generate&&(T=this.sf.generate(this,t,n,i));for(var N=0;N<r.length;N++){var D=r[N];T=T.concat(D)}return this.$_root.uf&&this.$_root.uf.cf(T,[this].concat(Lt(r))),this.$_temp.whens[b]=T,{schema:T,id:b}},n.rf=function(t,n,i){var e;void 0===i&&(i={}),r(!this.ef(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,Lt(n)),u.$_temp.ruleset=!1,u},n.ef=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.df=function(t,n){if(void 0===n&&(n={}),!this.$d.has(t))return this;var i=!1!==n.clone?this.clone():this;i.$d.delete(t);for(var r=[],e=0;e<i.Jd.length;++e){var u=i.Jd[e];u.name!==t||u.keep?r.push(u):i.ef()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.Jd=r,i},n.tf=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new p:e&&(i[n]=t.length?new p:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="qd"===n?"Zd":"qd";i[o]&&(i[o].remove(s),i[o].length||(r("Zd"===n||!i.Kd.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.Hd)}return i},At(t,[{key:"ruleset",get:function(){r(!this.ef(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.Jd.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.yf=t.max||s.max,this.mf=new Map,this.pf=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":j(t))){var i=this.mf.get(t);if(i)return i.value=n,void this.pf.first(i);i=this.pf.unshift({key:t,value:n}),this.mf.set(t,i),this.Af()}},n.get=function(t){var n=this.mf.get(t);if(n)return this.pf.first(n),e(n.value)},n.Af=function(){if(this.mf.size>this.yf){var t=this.pf.pop();this.mf.delete(t.key)}},At(t,[{key:"length",get:function(){return this.mf.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.Mf(t),this.unshift(t))},n.pop=function(){return this.Mf(this.tail)},n.Mf=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,i,r){var e,u,s=r(375),o=r(7916),a=r(5934),c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.version=a.version,i.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},i.symbols={any:n.for("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},i.assertOptions=function(t,n,i){void 0===i&&(i="Options"),s(t&&"object"==typeof t&&!Array.isArray(t),"Options must be of type object");var r=l.keys(t).filter((function(t){return!n.includes(t)}));s(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},i.checkPreferences=function(t){var n=(u=u||r(3378)).preferences.validate(t);if(n.error)throw new o([n.error.details[0].message])},i.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},i.default=function(t,n){return void 0===t?n:t},i.isIsoDate=function(t){return c.isoDate.test(t)},i.isNumber=function(t){return"number"==typeof t&&!A(t)},i.isResolvable=function(t){return!!t&&(t[i.symbols.ref]||t[i.symbols.template])},i.isSchema=function(t,n){void 0===n&&(n={});var r=t&&t[i.symbols.any];return!!r&&(s(n.legacy||r.version===i.version,"Cannot mix different versions of joi schemas"),!0)},i.isValues=function(t){return t[i.symbols.values]},i.limit=function(t){return Number.isSafeInteger(t)&&t>=0},i.preferences=function(t,n){e=e||r(6914),t=t||{},n=n||{};var u=l.assign({},t,n);return n.errors&&t.errors&&(u.errors=l.assign({},t.errors,n.errors),u.errors.wrap=l.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(u.messages=e.compile(n.messages,t.messages)),delete u[i.symbols.prefs],u},i.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},i.validateArg=function(t,n,r){var e=r.assert,u=r.message;if(i.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},i.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];s(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(Lt(e))):(o=n).valid.apply(o,Lt(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==typeof n,"Invalid schema content:",void 0===n?"undefined":j(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,Lt(n))}return a.apply(void 0,[t].concat(Lt(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(l.getPrototypeOf(n)===l.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=typeof i||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=typeof t)return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(l.getPrototypeOf(t)===l.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":j(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==typeof i,"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],d=f===o.switch.length-1;e.assertOptions(v,d?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var l={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(l.is=l.is.required()),d){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),l.otherwise=t.$_compile(g))}h.switch.push(l)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=typeof a&&(this.local.key=a)}}var i=t.prototype;return i.bf=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.Tf(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.Tf(this.template)||this.Tf(this.prefs.messages)||this.Tf(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.Tf=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=typeof r&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(t.label)return t.label;if(!r.errors.label)return"";var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=v.stackTraceLimit;v.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return v.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof v){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=typeof t})),type:u.code,context:u.local})}}return i.length>1&&(i=Lt(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).Sf=r,e.details=i,$t(e)}return kt(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(un(v)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==typeof n,"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!A[t],"Rule conflict in",v.type,t),A[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(Xt({},t,n))};h[t]=i,p[t]=n},c=l.getPrototypeOf(t),h=e(c),f=t.hf(l.create(h)),v=l.assign({},n);delete v.base,h.sf=v;var d=c.sf||{};v.messages=s.merge(d.messages,v.messages),v.properties=l.assign({},d.properties,v.properties),f.type=v.type,v.flags=l.assign({},d.flags,v.flags);var g=l.assign({},d.terms);if(v.terms)for(var w in v.terms){var y=v.terms[w];r(void 0===f.$_terms[w],"Invalid term override for",v.type,w),f.$_terms[w]=y.init,g[w]=y}v.terms=g,v.args||(v.args=d.args),v.prepare=o.prepare(v.prepare,d.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,d.coerce),v.validate=o.validate(v.validate,d.validate);var A=l.assign({},d.rules);if(v.rules)for(var m in v.rules)i(m);v.rules=A;var p=l.assign({},d.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=p,v.overrides){for(var k in h.gf=c,f.$_super={},v.overrides)r(c[k],"Cannot override missing",k),v.overrides[k][u.symbols.parent]=c[k],f.$_super[k]=c[k].bind(f);l.assign(h,v.overrides)}v.cast=l.assign({},d.cast,v.cast);var M=l.assign({},d.manifest,v.manifest);return M.build=o.build(v.manifest&&v.manifest.build,d.manifest&&d.manifest.build),v.manifest=M,v.rebuild=o.rebuild(v.rebuild,d.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?Lt(new Set(Lt(t.from).concat(Lt(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":j(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":j(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),d=i(8901),g=i(9708),w=i(6133),y=i(3328),A=i(1152),m={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,Lt(n))}},i={Nf:new Set(l.keys(m.types))},r=0,e=i.Nf;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in l.assign(i,m.methods),m.aliases){var c=m.aliases[a];i[a]=i[c]}return i.x=i.expression,A.setup&&A.setup(i),i}};m.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];m.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return m.assert(t,n,!1,r)},build:function(t){return s("function"==typeof g.build,"Manifest functionality disabled"),g.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=l.assign({},this),r=0,e=i.Nf;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Jt(y,Lt(n))},extend:function(){for(var t,n=function(n){var i,r=function(t){var n=c[t];s(void 0===a[n.type]||a.Nf.has(n.type),"Cannot override name",n.type);var r=n.base||i.any(),e=d.type(r,n);a.Nf.add(n.type),a[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,e,n)}},o=e[n];"function"==typeof o&&(o=o(a)),t.assert(o,u.extension);for(var c=m.expandExtension(o,a),h=0;h<c.length;h++)i=t,r(h)},r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];c.verifyFlat(e,"extend"),u=u||i(3378),s(e.length,"You need to provide at least one extension"),this.assert(e,u.extensions);var a=l.assign({},this);a.Nf=new Set(a.Nf);for(var h=0;h<e.length;h++)t=this,n(h);return a},isError:f.ValidationError.isError,isExpression:y.isTemplate,isRef:w.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=w).in.apply(r,Lt(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=w).create.apply(e,Lt(n))},types:function(){for(var t={},n=0,i=this.Nf;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in m.aliases)t[e]=this[e]();return t}},m.assert=function(t,n,i,r){var e=r[0]instanceof v||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof v)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},m.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.sf.args&&i.length?(r=n.sf).args.apply(r,[n].concat(Lt(i))):n},m.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.Nf;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=l.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=m.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var i in r("object"==typeof t&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t){var s=t[i];if("root"===i||u.isTemplate(s))n[i]=s;else if("string"!=typeof s){r("object"==typeof s&&!Array.isArray(s),"Invalid message for",i);var o=i;for(i in n[o]=n[o]||{},s){var a=s[i];"root"===i||u.isTemplate(a)?n[o][i]=a:(r("string"==typeof a,"Invalid message for",i,"in",o),n[o][i]=new u(a))}}else n[i]=new u(s)}return n},n.decompile=function(t){var n={};for(var i in t){var r=t[i];if("root"!==i)if(u.isTemplate(r))n[i]=r.describe({compact:!0});else{var e=i;for(i in n[e]={},r){var s=r[i];"root"!==i?n[e][i]=s.describe({compact:!0}):n[e].root=s}}else n.root=r}return n},n.merge=function(t,i){if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var s=e(t);for(var o in i){var a=i[o];if("root"===o||u.isTemplate(a))s[o]=a;else if("string"!=typeof a){r("object"==typeof a&&!Array.isArray(a),"Invalid message for",o);var c=o;for(o in s[c]=s[c]||{},a){var h=a[o];"root"===o||u.isTemplate(h)?s[c][o]=h:(r("string"==typeof h,"Invalid message for",o,"in",c),s[c][o]=new u(h))}}else s[o]=new u(a)}return s}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.If=new Map,this.Df=new Map,this.Ef=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.If=new Map(this.If),t.Df=new Map(this.Df),t.Ef=this.Ef,t},n.concat=function(t){t.Ef&&(this.Ef=!0);for(var n=0,i=t.If.entries();n<i.length;n++){var e=Gt(i[n],2),u=e[0],s=e[1];r(!this.Df.has(u),"Schema id conflicts with existing key:",u),this.If.set(u,s)}for(var o=0,a=t.Df.entries();o<a.length;o++){var c=Gt(a[o],2),h=c[0],f=c[1];r(!this.If.has(h),"Schema key conflicts with existing id:",h),this.Df.set(h,f)}},n.fork=function(t,n,i){var u=this.kf(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.Lf(i);if(!r)return Lt(n).concat(Lt(t)).join(".");var e=t.slice(1);return n=Lt(n).concat([r.schema.Kd.label||i]),e.length?r.schema.Vd.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.Lf(i);r(e,"Schema does not contain path",Lt(n).concat(Lt(t)).join("."));var u=t.slice(1);return u.length?e.schema.Vd.reach(u,Lt(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.Vd.Ef)&&(this.Ef=!0);var u=t.Kd.id;if(u){var s=this.If.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.Df.has(u),"Schema id conflicts with existing key:",u),this.If.set(u,{schema:t,id:u})}i&&(r(!this.Df.has(i),"Schema already contains key:",i),r(!this.If.has(i),"Schema key conflicts with existing id:",i),this.Df.set(i,{schema:t,id:i}))}},n.reset=function(){this.If=new Map,this.Df=new Map,this.Ef=!1},n.kf=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.Lf(e);r(u,"Schema does not contain path",Lt(n).concat(Lt(t)).join(".")),i=[u].concat(Lt(i));var s=t.slice(1);return s.length?u.schema.Vd.kf(s,Lt(n).concat([e]),i):i},n.Lf=function(t){return this.If.get(t)||this.Df.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.Kd.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.Kd)if("_"!==r[0]){var e=s.scan(t.Kd[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).Kd[r]=e)}for(var u=0;u<t.Jd.length;++u){var o=t.Jd[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=l.assign({},o);c.args=a,i.Jd[u]=c,i.$d.get(o.name)===o&&i.$d.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==typeof t){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(Lt(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var d=i.each(t,b(M({},n),{path:a,key:o}));return d===t?void 0:d}for(var g in t)if("_"!==g[0]){var w=s.scan(t[g],n,i,[g].concat(Lt(a)),o);void 0!==w&&((c=c||l.assign({},t))[g]=w)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==typeof n.prefix,"options.prefix must be of type object");var i=l.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=Gt(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,b(M({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==typeof t,"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),l.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.lf(i.context,n,e):"local"===this.type?this.lf(r,n,e):this.ancestor?"root"===this.ancestor?this.lf(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.lf(n.ancestors[this.ancestor-1],n,e)):this.lf(t,n,e)},n.lf=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return Lt(t.path.slice(0,-this.ancestor)).concat(Lt(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=Lt(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=l.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.Hd.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},At(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(Lt(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(Lt(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.xf=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.xf),this.xf=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.xf),this.xf=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.tf=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.tf=this.tf||new Map;for(var r=this.tf,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.tf)return u(this.tf,t,{iterables:!0})},n.override=function(t,n){if(this.tf){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.tf,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.Tf=null,n){var i=n,r=i.functions,s=T(i,["functions"]);this.jf=l.keys(s).length?u(s):void 0,this.Rf=r,this.Rf&&(e(l.keys(this.Rf).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(l.values(this.Rf).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.jf=void 0,this.Rf=void 0;this.Cf()}var n=t.prototype;return n.Cf=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var d=this.Of(f.decode(h),{raw:o,wrapped:v});r.push(d),"string"!=typeof d&&(i=!0);var l=s.slice(c+a.length);l&&r.push(f.decode(l))}else r.push("{".concat(f.decode(s)))}i?this.Tf=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.jf&&t.compact)return this.source;var n={template:this.source};return this.jf&&(n.options=this.jf),this.Rf&&(n.functions=this.Rf),n},n.isDynamic=function(){return!!this.Tf},n.refs=function(){var t;if(this.Tf){for(var n=[],i=0,r=this.Tf;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,Lt(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.Tf&&1===this.Tf.length?this.Pf(this.Tf[0],t,n,i,r,{}):this.render(t,n,i,r)},n.Pf=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,Lt(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.Tf;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.Pf(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var d=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(d,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.Of=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.jf);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,Lt(t));return void 0!==r?r:null}};try{var a=this.Rf?M(M({},f.functions),this.Rf):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?b(M({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":j(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,M({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,d=t.entries();v<d.length;v++){var l=Gt(d[v],2),g=l[0],w=l[1];c.push("".concat(g.toString()," -> ").concat(w.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var y=[],A=0;A<t.length;A++){var m=t[A];y.push(f.stringify(m,n,i,r,e,M({arrayItems:!0},u)))}return f.wrap(y.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==typeof t?Array.isArray(t)?t.length:l.keys(t).length:null},msg:function(t){var n=Gt(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?y(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,Lt(i[0])):(e=t).try.apply(e,Lt(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.Kd.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],d=e.nest(f.schema,"match.".concat(c));d.snapshot();var l=f.schema.$_validate(t,d,u);l.errors?(a.push(l.errors),d.restore()):(o.push(l.value),d.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.Kd.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var w=[],y=0;y<i.$_terms.matches.length;++y){var A=i.$_terms.matches[y];if(A.schema){var m=e.nest(A.schema,"match.".concat(y));m.snapshot();var p=A.schema.$_validate(t,m,u);if(!p.errors)return m.commit(),p;m.restore(),w.push({schema:A.schema,reports:p.errors})}else for(var _=A.ref?A.ref.resolve(t,e,u):t,k=A.is?[A]:A.switch,M=0;M<k.length;++M){var b=k[M],T=b.is,N=b.then,D=b.otherwise,I="match.".concat(y).concat(A.switch?"."+M:"");if(T.$_match(_,e.nest(T,"".concat(I,".is")),u)){if(N)return N.$_validate(t,e.nest(N,"".concat(I,".then")),u)}else if(D)return D.$_validate(t,e.nest(D,"".concat(I,".otherwise")),u)}}return v.errors(w,n)},rules:{conditional:{method:function(t,n){u(!this.Kd.zf,"Unreachable condition"),u(!this.Kd.match,"Cannot combine match mode",this.Kd.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("zf",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.Kd.zf,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.Kd.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("Bf",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var d=Gt(f.code.split("."),2),l=d[0];"base"===d[1]?e.add(l):u.push({type:c.type,report:f})}else for(var g=0,w=f.local.valids;g<w.length;g++){var y=w[g];e.add(y)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:Lt(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,Lt(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.Kd.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,d=c.then,l=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:d,otherwise:l,switch:c.switch,break:c.break}):t.when(f,{then:d,otherwise:l,break:c.break})}else{for(var w={},y=0;y<r.length;y++){var A=r[y],m=A.target,p=A.adjuster;w[m]=p}t=t.alter(w)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},Uf:{init:[]},Qf:{init:[]},Ff:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.Kd.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(Lt(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(Lt(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.Kd.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.Ff.slice(),a=i.$_terms.ordered.slice(),h=Lt(i.$_terms.Qf).concat(Lt(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var d=s(),l=t.length,g=0;g<l;++g){var w=t[g],y=!1,A=!1,m=v?g:new Number(g),p=Lt(e.path).concat([m]);if(i.Kd.sparse||void 0!==w){for(var _=[t].concat(Lt(e.ancestors)),k=0,M=i.$_terms.Uf;k<M.length;k++){var b=M[k];if(b.$_match(w,e.localize(p,_,b),u,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:g,value:w},e.localize(p))),u.abortEarly)return d;y=!0,a.shift();break}}if(!y){if(i.$_terms.ordered.length){if(a.length){var T,N=a.shift(),D=N.$_validate(w,e.localize(p,_,N),u);if(D.errors){if((T=d).push.apply(T,Lt(D.errors)),u.abortEarly)return d}else if("strip"===N.Kd.result)f.fastSplice(t,g),--g,--l;else{if(!i.Kd.sparse&&void 0===D.value){if(d.push(r("array.sparse",{key:m,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly)return d;continue}t[g]=D.value}continue}if(!i.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return d;break}}for(var I=[],E=o.length,S=0;S<E;++S){var L=e.localize(p,_,o[S]);L.snapshot();var C=o[S].$_validate(w,L,u);if(I[S]=C,!C.errors){if(L.commit(),t[g]=C.value,A=!0,f.fastSplice(o,S),--S,--E,!i.Kd.sparse&&void 0===C.value&&(d.push(r("array.sparse",{key:m,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly))return d;break}L.restore()}if(!A){var j=u.stripUnknown&&!!u.stripUnknown.arrays||!1;E=h.length;for(var x=0;x<h.length;x++){var O=h[x],z=void 0,R=o.indexOf(O);if(-1!==R)z=I[R];else{var B=e.localize(p,_,O);if(B.snapshot(),!(z=O.$_validate(w,B,u)).errors){B.commit(),"strip"===O.Kd.result?(f.fastSplice(t,g),--g,--l):i.Kd.sparse||void 0!==z.value?t[g]=z.value:(d.push(r("array.sparse",{key:m,path:p,pos:g,value:void 0},e.localize(p))),y=!0),A=!0;break}B.restore()}if(1===E){var P;if(j){f.fastSplice(t,g),--g,--l,A=!0;break}if((P=d).push.apply(P,Lt(z.errors)),u.abortEarly)return d;y=!0;break}}if(!y&&(i.$_terms.Qf.length||i.$_terms.Ff.length)&&!A){if(j){f.fastSplice(t,g),--g,--l;continue}if(d.push(r("array.includes",{pos:g,value:w},e.localize(p))),u.abortEarly)return d}}}}else{if(d.push(r("array.sparse",{key:m,path:p,pos:g,value:void 0},e.localize(p))),u.abortEarly)return d;a.shift()}}return o.length&&f.fillMissedErrors(i,d,o,t,e,u),a.length&&(f.fillOrderedErrors(i,d,a,t,e,u),d.length||f.fillDefault(a,t,e,u)),d.length?d:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.Kd.Bf,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.Kd.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,d={string:l.create(null),number:l.create(null),undefined:l.create(null),boolean:l.create(null),bigint:l.create(null),object:new Map,function:new Map,custom:new Map},g=f||s,w=h.ignoreUndefined,y=0;y<t.length;++y){var A=v?o(t[y],v):t[y],m=f?d.custom:d[void 0===A?"undefined":j(A)];if(u(m,"Failed to find unique map container for type",void 0===A?"undefined":j(A)),m instanceof Map){for(var p=m.entries(),_=void 0;!(_=p.next()).done;)if(g(_.value[0],A)){var k=e.localize(Lt(e.path).concat([y]),[t].concat(Lt(e.ancestors))),M={pos:y,value:t[y],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(M.path=c),a("array.unique",M,k)}m.set(A,y)}else{if((!w||void 0!==A)&&void 0!==m[A]){var b={pos:y,value:t[y],dupePos:m[A],dupeValue:t[m[A]]};return v&&(b.path=c),a("array.unique",b,e.localize(Lt(e.path).concat([y]),[t].concat(Lt(e.ancestors))))}m[A]=y}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.Qf=[],t.$_terms.Uf=[],t.$_terms.Ff=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.Kd.presence?t.$_terms.Ff.push(r):"forbidden"===r.Kd.presence?t.$_terms.Uf.push(r):t.$_terms.Qf.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,Lt(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,Lt(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].Kd.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.Kd.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(Lt(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,Lt(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.Kd.Bf)&&(u(!n.Kd.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("Bf",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":j(a);if(v!==(void 0===c?"undefined":j(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.Kd.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.Kd.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.Kd.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,Lt(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,Lt(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.Kd.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||A(t.getTime())){var u=i.Kd.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(A(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=y(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return A(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),d={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"Yf",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":j(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=d.clone(t,u);var s=[];if(i.$_terms.renames&&!d.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(l.keys(t));if(i.$_terms.keys)for(var a=[t].concat(Lt(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,g=t[v];o.delete(v);var w=e.localize(Lt(e.path).concat([v]),a,f),y=f.schema.$_validate(g,w,u);if(y.errors){var A;if(u.abortEarly)return{value:t,errors:y.errors};void 0!==y.value&&(t[v]=y.value),(A=s).push.apply(A,Lt(y.errors))}else"strip"===f.schema.Kd.result||void 0===y.value&&void 0!==g?delete t[v]:void 0!==y.value&&(t[v]=y.value)}if(o.size||i.Kd.Gf){var m=d.unknown(i,t,o,s,e,u);if(m)return m}if(i.$_terms.dependencies)for(var p=0,_=i.$_terms.dependencies;p<_.length;p++){var k=_[p];if(null===k.key||!1!==d.isPresent(k.options)(k.key.resolve(t,e,u,null,{shadow:!1}))){var M=d.dependencies[k.rel](i,k,t,e,u);if(M){var b=i.$_createError(M.code,t,M.context,e,u);if(u.abortEarly)return{value:t,errors:b};s.push(b)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),d.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===l.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(Lt(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==typeof t,"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(l.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new d.Keys,t)r(u)}else i.$_terms.keys=new d.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(l.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),d.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),d.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return d.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(Xt(u={},r?"regex":"schema",t),Xt(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("Gf",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(d.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),d.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=Jt(d.Keys,Lt(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=d.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],l=v.regex,g=v.schema,w=v.rule,y=v.fallthrough,A=v.matches;t=t.pattern(l||g,w,{fallthrough:y,matches:A})}if(n.renames)for(var m=0,p=n.renames;m<p.length;m++){var _=p[m],k=_.from,M=_.to,b=_.options;t=t.rename(k,M,b)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),d.clone=function(t,n){if("object"==typeof t){if(n.nonEnumerables)return u(t,{shallow:!0});var i=l.create(l.getPrototypeOf(t));return l.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),l.defineProperty(r,"name",{value:t.name,writable:!1}),l.defineProperty(r,"length",{value:t.length,writable:!1}),l.assign(r,t),r},d.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==typeof r[r.length-1]?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new d.Dependency(n,i,o,r,u)),v},d.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=d.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:d.keysToLabels(t,s),missing:u,missingWithLabels:d.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:d.keysToLabels(t,h),peers:f,peersWithLabels:d.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.xor",context:h})}}},d.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},d.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},d.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var d=a.from.exec(f);d&&c.push({from:f,to:a.to,match:d})}}else!l.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var g=0;g<c.length;g++){var w=c[g],y=w.from,A=w.to;if(A instanceof v&&(A=A.render(n,i,r,w.match)),y!==A){if(!a.options.multiple&&u[A]&&(e.push(t.$_createError("object.rename.multiple",n,{from:y,to:A,pattern:h},i,r)),r.abortEarly)||l.prototype.hasOwnProperty.call(n,A)&&!a.options.override&&!u[A]&&(e.push(t.$_createError("object.rename.override",n,{from:y,to:A,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[y]?delete n[A]:n[A]=n[y],u[A]=!0,a.options.alias||delete n[y]}}}return!0},d.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(Lt(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],d=n[v],l=Lt(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var w=t.$_terms.patterns[g];if(w.regex){var y=w.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),y?"pass":"error"),!y)continue}else if(!w.schema.$_match(v,e.nest(w.schema,"pattern.".concat(g)),u))continue;i.delete(v);var A=e.localize(l,c,{schema:w.rule,key:v}),m=w.rule.$_validate(d,A,u);if(m.errors){var p;if(u.abortEarly)return{value:n,errors:m.errors};(p=r).push.apply(p,Lt(m.errors))}if(w.matches&&o[g].push(v),n[v]=m.value,!w.fallthrough)break}if(s)for(var _=0;_<o.length;++_){var k=o[_];if(k){var M=t.$_terms.patterns[_].matches,b=e.localize(e.path,c,M),T=M.$_validate(k,b,u);if(T.errors){var N=h.details(T.errors,{override:!1});N.matches=k;var D=t.$_createError("object.pattern.match",n,N,e,u);if(u.abortEarly)return{value:n,errors:D};r.push(D)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&!t.Kd.unknown||u.skipFunctions)for(var I=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),E=0;E<i.length;E++){var S=i[E];I?(delete n[S],i.delete(S)):"function"==typeof n[S]&&i.delete(S)}if(!a.default(t.Kd.unknown,u.allowUnknown))for(var L=0;L<i.length;L++){var C=i[L],j=e.localize(Lt(e.path).concat([C]),[]),x=t.$_createError("object.unknown",n[C],{child:C},j,u,{flags:!1});if(u.abortEarly)return{value:n,errors:x};r.push(x)}}},d.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=b(M({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=b(M({},t.options),{isPresent:this.options.isPresent})),t},t}(),d.Keys=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(un(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.vf(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.Kd.relative||i.mainstay.links.set(t,e),e.vf(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.Kd.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.Kd.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.Kd,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:g.max(0,-w(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:y(t)};if(0===e.value&&(e.value=0),!i.Kd.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=g.pow(10,o.args.limit);s.value=g.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.Kd.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return g.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=g.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):g.round(o*t)%g.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return g.max((e[1]?e[1].length:0)-(e[2]?w(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==typeof t},to:function(t,n){return new Map(l.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var d=i.$_getRule("hex");if(d&&d.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var l=v.isoDate(t);l&&(t=l)}if(i.Kd.truncate){var g=i.$_getRule("max");if(g){var w=g.args.limit;if(f.isResolvable(w)&&(w=w.resolve(t,r,e),!f.limit(w)))return{value:t,errors:i.$_createError("any.ref",w,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,w)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=M({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=M({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+l.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=M({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),l.assign({},t,v.tlds);r("object"==typeof t.tlds,"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=l.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),l.assign({},t,v.tlds)):(Array.isArray(i)&&(t=l.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return A(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,i,r){var e=r(375),u=r(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(un(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.Kd.only&&"symbol"!=(void 0===t?"undefined":j(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":j(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var i;t&&!t[n.iterator]&&"object"==typeof t&&(t=l.entries(t)),e(t&&t[n.iterator],"Iterable must be an iterable or object");for(var r=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[n.iterator],"Entry must be an iterable");var a=Gt(o,2),c=a[0],h=a[1];e("object"!=typeof c&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":j(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":j(h)),"Value must be a Symbol"),r.$_terms.map.set(c,h),u.push(h)}return(i=r).valid.apply(i,Lt(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=xt((function(t,n,i){var r,e,u,s,h,v,d,l,g;return zt(this,(function(w){switch(w.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,d,l,g,w,y,A,m,p,_,k,M,b,T,N,D;return zt(this,(function(I){switch(I.label){case 0:if(s=e[n],d=s.state.path,l="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,w=void 0,y=h,A=d.length?[h]:[],m=d.length?o(t,d):t,d.length){for(g=d[d.length-1],p=h,_=0,k=d.slice(0,-1);_<k.length;_++)M=k[_],p=p[M],A.unshift(p);w=A[0],y=w[g]}I.label=1;case 1:return I.trys.push([1,3,,4]),b=function(t,n){return(l||s.schema).$_createError(t,y,n,s.state,r)},[4,s.method(y,{schema:s.schema,linked:l,state:s.state,prefs:i,original:m,error:b,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((l||s.schema).$_createError(t,y,n,s.state,r))},message:function(t,n){return(l||s.schema).$_createError("external",y,n,s.state,r,{messages:t})}})];case 2:return void 0===(T=I.sent())||T===y?[2,"continue"]:T instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(T),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(T)&&T[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(N=v).push.apply(N,Lt(T)),r.abortEarly?[2,"break"]:[2,"continue"]):(w?(u.tracer.value(s.state,"rule",y,T,"external"),w[g]=T):(u.tracer.value(s.state,"rule",h,T,"external"),h=T),[3,4]);case 3:throw D=I.sent(),r.errors.label&&(D.message+=" (".concat(s.label,")")),D;case 4:return[2]}}))},h=e.value,v=[],d=0,l=u.externals,w.label=1;case 1:return d<l.length?[5,Rt(s(d,l))]:[3,4];case 2:if("break"===w.sent())return[3,4];w.label=3;case 3:return d++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;w.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this.Vf=[]}var n=t.prototype;return n.snapshot=function(){this.Vf.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this.Vf.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this.Vf.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.Vd.Ef?new Map:null,v=new f.Mainstay(u,o,a),d=n.Vd.Ef?[{schema:n}]:null,l=new h([],[],{mainstay:v,schemas:d}),g=i.validate(t,n,l,r);s&&n.$_root.untrace();var w=c.process(g.errors,t,r);return{value:g.value,error:w,mainstay:v}},f.tracer=function(t,n){return t.$_root.uf?{tracer:t.$_root.uf.Wf(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().Wf(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.vf(t,i,r).schema),n.Wd&&(r=f.prefs(n,r)),n.Xd&&r.cache){var u=n.Xd.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.sf;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":j(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var d=n.Kd.empty;d&&d.$_match(f.trim(t,n),i.nest(d),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var l=e.presence||n.Kd.presence||(n.Kd.zf?null:r.presence);if(void 0===t){if("forbidden"===l)return f.finalize(t,null,o);if("required"===l)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===l){if(n.Kd.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===l)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.Zd){var w=n.Zd.get(t,i,r,n.Kd.insensitive);if(w)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,w.value),t=w.value),i.mainstay.tracer.filter(n,i,"valid",w),f.finalize(t,null,o);if(n.Kd.only){var y=n.$_createError("any.only",t,{valids:n.Zd.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[y],o);g.push(y)}}if(n.qd){var A=n.qd.get(t,i,r,n.Kd.insensitive);if(A){i.mainstay.tracer.filter(n,i,"invalid",A);var m=n.$_createError("any.invalid",t,{invalids:n.qd.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[m],o);g.push(m)}}if(c.validate){var p=c.validate(t,o);if(p&&(i.mainstay.tracer.value(i,"base",t,p.value),t=p.value,p.errors)){var _;if(!Array.isArray(p.errors))return g.push(p.errors),f.finalize(t,g,o);if(p.errors.length)return(_=g).push.apply(_,Lt(p.errors)),f.finalize(t,g,o)}}return n.Jd.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.Jd;s<o.length;s++){var c=o[s],h=r.sf.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,d=c.args;if(c.lf.length){d=l.assign({},d);for(var g=0,w=c.lf;g<w.length;g++){var y=w[g],A=h.argsByName.get(y),m=d[y].resolve(t,e,u),p=A.normalize?A.normalize(m):m,_=a.validateArg(p,null,A);if(_){v=r.$_createError("any.ref",m,{arg:y,ref:d[y],reason:_},e,u);break}d[y]=p}}v=v||h.validate(t,i,d,c);var k=f.rule(v,c);if(k.errors){var M;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var b;(b=e.mainstay.warnings).push.apply(b,Lt(k.errors));continue}if(u.abortEarly)return f.finalize(t,k.errors,i);(M=n).push.apply(M,Lt(k.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,k.value,c.name),t=k.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.bf(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.Kd.error)if("function"==typeof r.Kd.error){n=r.Kd.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof v||h instanceof c.Report,"error() must return an Error object")}}else n=[r.Kd.error];if(void 0===t){var d=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,d),t=d}if(r.Kd.cast&&void 0!==t){var l=r.sf.cast[r.Kd.cast];if(l.from(t)){var g=l.to(t,i);u.mainstay.tracer.value(u,"cast",t,g,r.Kd.cast),t=g}}if(r.$_terms.externals&&s.externals&&!1!==s._f)for(var w=0,y=r.$_terms.externals;w<y.length;w++){var A=y[w].method;u.mainstay.externals.push({method:A,schema:r,state:u,label:c.label(r.Kd,u,s)})}var m={value:t,errors:n.length?n:null};return r.Kd.result&&(m.value="strip"===r.Kd.result?void 0:i.original,u.mainstay.tracer.value(u,r.Kd.result,t,m.value),u.shadow(t,r.Kd.result)),r.Xd&&!1!==s.cache&&!r.Hd.length&&r.Xd.set(i.original,m),void 0===t||m.errors||void 0===r.Kd.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.Kd.artifact)||u.mainstay.artifacts.set(r.Kd.artifact,[]),u.mainstay.artifacts.get(r.Kd.artifact).push(u.path)),m},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.Wd[a.symbols.prefs]?t.Wd[a.symbols.prefs]:(n=a.preferences(n,t.Wd),i&&(t.Wd[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.Kd[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,Lt(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=typeof c?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.tf=new Set(t),this.Hd=new Set(n),this.Hf=s.lowercases(t),this.Xf=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.Hd.has(t)||(this.Hd.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.tf.add(t),"string"==typeof t&&this.Hf.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.Hd.delete(t):(this.tf.delete(t),"string"==typeof t&&this.Hf.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.tf.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.Hf.get(t.toLowerCase());if(u)return{value:u}}if(!this.Hd.size&&"object"!=typeof t)return!1;if("object"==typeof t)for(var s=0,o=this.tf;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.Hd;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var d=f.in&&"object"==typeof v?Array.isArray(v)?v:l.keys(v):[v],g=0;g<d.length;g++){var w=d[g];if((void 0===w?"undefined":j(w))==(void 0===t?"undefined":j(t)))if(r&&t&&"string"==typeof t){if(w.toLowerCase()===t.toLowerCase())return{value:w,ref:f}}else if(e(w,t))return{value:w,ref:f}}}return!1},n.override=function(){this.Xf=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=Lt(this.tf).concat(Lt(this.Hd));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(Lt(this.tf).concat(Lt(this.Hd)))},n.clone=function(){var t=new s.Values(this.tf,this.Hd);return t.Xf=this.Xf,t},n.concat=function(t){r(!t.Xf,"Cannot concat override set of values");var n=new s.Values(Lt(this.tf).concat(Lt(t.tf)),Lt(this.Hd).concat(Lt(t.Hd)));return n.Xf=this.Xf,n},n.describe=function(){var t=[];this.Xf&&t.push({override:!0});for(var n=0,i=this.tf.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==typeof r?{value:r}:r)}for(var e=0,u=this.Hd.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.Xf)return n.clone();for(var r=0,e=Lt(n.tf).concat(Lt(n.Hd));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=Lt(i.tf).concat(Lt(i.Hd));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},At(t,[{key:"length",get:function(){return this.tf.size+this.Hd.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==typeof t,"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==typeof n,"Invalid source value: must be true, falsy or an object"),r("object"==typeof i,"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var d=s(t,v);d&&"object"==typeof d?c.set(d,h&&s(n,v)||d):h&&h.add(v)}var l=e(t,{},c);if(!h)return l;for(var g=0;g<h.length;g++){var w=h[g];o.reachCopy(l,n,w)}var y=void 0!==i.nullOverride&&i.nullOverride;return u(l,n,{nullOverride:y,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=typeof u||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=typeof o[c]&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof v?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=typeof t||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var d=0;d<t.length;d++){var g=Gt(t[d],2),w=g[0],y=g[1];h.set(w,r(y,n,o))}for(var A=u.keys(t,n),m=0;m<A.length;m++){var p=A[m];if("__proto__"!==p)if(c!==e.array||"length"!==p){var _=l.getOwnPropertyDescriptor(t,p);_?_.get||_.set?l.defineProperty(h,p,_):_.enumerable?h[p]=r(t[p],n,o):l.defineProperty(h,p,{enumerable:!1,writable:!0,configurable:!0,value:r(t[p],n,o)}):l.defineProperty(h,p,{enumerable:!0,writable:!0,configurable:!0,value:r(t[p],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=l.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=typeof a&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=l.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&l.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&l.setPrototypeOf(o,r),o}return l.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=l.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":j(t);if(s!==(void 0===n?"undefined":j(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return l.getPrototypeOf(t)!==l.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return l.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=l.keys,f=l.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var d=0;d<n.length;d++)for(var g=n[d],w=0;w<i.length;w++)if(o(g,i[w],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var y=new Set(Set.prototype.values.call(i)),A=0,m=Set.prototype.values.call(n);A<m.length;A++){var p=m[A];if(!y.delete(p)){for(var _=!1,k=0;k<y.length;k++){var M=y[k];if(o(p,M,u,s)){y.delete(M),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var b=0,T=Map.prototype.entries.call(n);b<T.length;b++){var N=Gt(T[b],2),D=N[0],I=N[1];if(void 0===I&&!Map.prototype.has.call(i,D)||!o(I,Map.prototype.get.call(i,D),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var E=a(n),S=a(i);if((n!==E||i!==S)&&!o(E,S,u,s))return!1;var L=h(n);if(!u.part&&L.length!==h(i).length&&!u.skip)return!1;for(var C=0,j=0;j<L.length;j++){var x=L[j];if(u.skip&&u.skip.includes(x))void 0===i[x]&&++C;else if(!c(i,x)||!o(n[x],i[x],u,s))return!1}if(!u.part&&L.length-C!==h(i).length)return!1;if(!1!==u.symbols){for(var O=f(n),z=new Set(f(i)),R=0;R<O.length;R++){var B=O[R];if(!u.skip||!u.skip.includes(B))if(c(n,B)){if(!c(i,B)||!o(n[B],i[B],u,s))return!1}else if(c(i,B))return!1;z.delete(B)}for(var P=0;P<z.length;P++)if(c(i,z[P]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof v?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof v.captureStackTrace&&v.captureStackTrace(Vt(e),n.assert),$t(e)}return kt(i,t),i}(un(v))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==typeof t,"Invalid target value: must be an object"),r(null==n||"object"==typeof n,"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=l.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&l.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==typeof f){if(t[h]===f)continue;!t[h]||"object"!=typeof t[h]||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==typeof o||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?Lt(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,Lt(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:v.prototype,generic:l.prototype,map:Map.prototype,promise:K.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof v)return n.error;var r=l.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):l.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.Xu=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.Xu.length,sort:s,before:i,after:e,group:u,node:a};this.Xu.push(c)}if(!n.manual){var h=this.Zf();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.Xu;u<s.length;u++){var o=s[u];this.Xu.push(l.assign({},o))}}this.Xu.sort(e.mergeSort);for(var a=0;a<this.Xu.length;++a)this.Xu[a].seq=a;var c=this.Zf();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.Zf();return r(t,"sort created a dependencies error"),this.nodes},n.Zf=function(){for(var t,n={},i=l.create(null),r=l.create(null),e=0,u=this.Xu;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var d=[];for(var g in n[v]){var w,y=n[v][g];r[y]=r[y]||[],(w=d).push.apply(w,Lt(r[y]))}n[v]=d}for(var A in i)if(r[A])for(var m=0,p=r[A];m<p.length;m++)(t=n[p[m]]).push.apply(t,Lt(i[A]));var _={};for(var k in n)for(var M=n[k],b=0;b<M.length;b++){var T=M[b];_[T]=_[T]||[],_[T].push(k)}for(var N={},D=[],I=0;I<this.Xu.length;++I){var E=I;if(_[I]){E=null;for(var S=0;S<this.Xu.length;++S)if(!0!==N[S]){_[S]||(_[S]=[]);for(var L=_[S].length,C=0,j=0;j<L;++j)N[_[S][j]]&&++C;if(C===L){E=S;break}}}null!==E&&(N[E]=!0,D.push(E))}if(D.length!==this.Xu.length)return!1;for(var x={},O=0,z=this.Xu;O<z.length;O++){var R=z[O];x[R.seq]=R}this.Xu=[],this.nodes=[];for(var B=0;B<D.length;B++){var P=x[D[B]];this.nodes.push(P.node),this.Xu.push(P)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new v("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new v("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=Gt(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,d="(?:"+c+")?::(?:"+c+":){4}"+h,l="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,w="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,y="(?:(?:"+c+":){0,4}"+c+")?::"+h,A="(?:(?:"+c+":){0,5}"+c+")?::"+c,m="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+d+"|"+l+"|"+g+"|"+w+"|"+y+"|"+A+"|"+m+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var p="["+r+u+e+":]*",_="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+_+")",M="(?:"+p+"@)?"+k+"(?::\\d*)?",b="(?:"+p+"@)?("+k+")(?::\\d*)?",T=o+"*",N=o+"+",D="(?:\\/"+T+")*",I="\\/(?:"+N+D+")?",E=N+D,S="["+r+u+e+"@]+"+D,L="(?:\\/\\/\\/"+T+D+")";return t.hierPart="(?:(?:\\/\\/"+M+D+")|"+I+"|"+E+"|"+L+")",t.hierPartCapture="(?:(?:\\/\\/"+b+D+")|"+I+"|"+E+")",t.relativeRef="(?:(?:\\/\\/"+M+D+")|"+I+"|"+S+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+b+D+")|"+I+"|"+S+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",d=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(d+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":j(e)))throw new v("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":j(e)," value type"))}var u;this.settings=n[r.settings]?n:l.assign((Xt(u={},r.settings,!0),Xt(u,"constants",{}),Xt(u,"functions",{}),u),n),this.single=null,this.Kf=null,this.Cf(t)}var n=t.prototype;return n.Cf=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new v("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.qf(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:y(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new v("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,d=0;d<e.length;d++){var l=e[d];if("operator"===l.type){if(r.operatorsPrefix.includes(l.value))continue;if(!f)throw new v("Formula contains an operator in invalid position");if(!r.operators.includes(l.value))throw new v("Formula contains an unknown operator ".concat(l.value))}else if(f)throw new v("Formula missing expected operator");f=!f}if(!f)throw new v("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.Kf=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new v("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.qf=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new v("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new v("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var d=t[f];c?(o+=d,d===c&&(c=!1)):d in r.literals&&!a?(o+=d,c=r.literals[d]):","!==d||a?(o+=d,"("===d?++a:")"===d&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(Lt(i)))}},n.evaluate=function(t){for(var n=this.Kf.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return g.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.0"}')}},i={},function n(r){var e=i[r];if(void 0!==e)return e.exports;var u=i[r]={exports:{}};return t[r](u,u.exports,n),u.exports}(5107);var t,i}()}(re);var ee,ue=D(re.exports),se=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ee=r,!i)throw ee.error("Token generator is required to construct this module."),new v("Token generator is required to construct this module.");return u.webRTCPeer=new pr,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,$t(u)}kt(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ee.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new pr},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ee.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(zr,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new v("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(Ar.connectionStateChange,(function(n){H(n),"connected"===n&&Z(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new v("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,a((function(){return t.reconnect({error:new v("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ee.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:oe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new v("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=oe(n.reconnectionInterval),ee.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),a((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Et),oe=function(t){return t<32e3?2*t:t},ae=e.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&e.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,ce="RTCRtpScriptTransform"in e,he="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIHd7Y29uc3RydWN0b3IodCl7dGhpcy5kYXRhPXQsdGhpcy5iaXRPZmZzZXQ9MH1yZWFkQml0cyh0KXtpZih0aGlzLmJpdE9mZnNldCt0PnRoaXMuZGF0YS5sZW5ndGgqOCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byByZWFkIHBhc3QgdGhlIGVuZCBvZiB0aGUgYml0c3RyZWFtIik7bGV0IGU9MDtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCBzPU1hdGguZmxvb3IodGhpcy5iaXRPZmZzZXQvOCksYT03LXRoaXMuYml0T2Zmc2V0JTgscj10aGlzLmRhdGFbc10+PmEmMTtlfD1yPDx0LTEtaSx0aGlzLmJpdE9mZnNldCsrfXJldHVybiBlfXNraXAodCl7dGhpcy5iaXRPZmZzZXQrPXR9cmVhZEV4cEdvbG9tYlVuc2lnbmVkKCl7bGV0IHQ9LTE7Zm9yKGxldCBlPTA7ZT09PTA7dCsrKWU9dGhpcy5yZWFkQml0cygxKTtyZXR1cm4oMTw8dCktMSt0aGlzLnJlYWRCaXRzKHQpfXJlYWRFeHBHb2xvbWJTaWduZWQoKXtjb25zdCB0PXRoaXMucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7cmV0dXJuIHQlMj09PTA/LSh0LzIpOih0KzEpLzJ9fWNvbnN0IF89e1NMSUNFX05PTl9JRFI6MSxTTElDRV9QQVJUSVRJT05fQToyLFNMSUNFX0lEUjo1LFNFSV9IMjY0OjYsU0VJX0gyNjVfUFJFRklYOjM5LFNFSV9IMjY1X1NVRkZJWDo0MCxTUFNfSDI2NDo3LFNQU19IMjY1OjMzLFBQU19IMjY0OjgsUFBTX0gyNjU6MzR9LEg9e1BJQ19USU1JTkc6MSxVU0VSX0RBVEFfVU5SRUdJU1RFUkVEOjV9LGg9e0xFR0FDWToxLE5FVzoyLFRJTUVDT0RFOjMsT1RIRVI6NH0sUj0iNmU5Y2ZkMmEtNTkwNy00OWZmLWIzNjMtODk3OGE2ZTgzNDBlIixOPSI5YTIxZjNiZS0zMWYwLTRiNzgtYjBiZS1jN2Y3ZGJiOTcyNTAiLEE9ImQ0MGUzOGVhLWQ0MTktNGM2Mi05NGVkLTIwYWMzN2I0ZTRmYSI7Y2xhc3Mgentjb25zdHJ1Y3Rvcih0PSJIMjY0Iil7dGhpcy5zcHM9bmV3IE1hcCx0aGlzLnBwcz1uZXcgTWFwLHRoaXMuYWN0aXZlU1BTPW51bGwsdGhpcy5jb2RlYz10fWNvbGxlY3RQUFModCl7dGhpcy5jb2RlYz09PSJIMjY0Ij90aGlzLmNvbGxlY3RIMjY0UFBTKHQpOnRoaXMuY29sbGVjdEgyNjVQUFModCl9Y29sbGVjdFNQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRTUFModCk6dGhpcy5jb2xsZWN0SDI2NVNQUyh0KX1jb2xsZWN0SDI2NFNQUyh0KXtjb25zdCBlPW5ldyB3KHQpLGk9ZS5yZWFkQml0cyg4KSxzPVsxMDAsMTEwLDEyMiwyNDQsNDQsODMsODYsMTE4LDEyOCwxMzgsMTM5LDEzNCwxMzVdO2Uuc2tpcCg4KSxlLnNraXAoOCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE+MzF8fGE8MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VxX3BhcmFtZXRlcl9zZXRfaWQiKTtpZihzLmluY2x1ZGVzKGkpKXtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz09PTMmJmUuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEJpdHMoMSkpe2NvbnN0IG09byE9PTM/ODoxMjtmb3IobGV0IHA9MDtwPG07cCsrKWlmKGUucmVhZEJpdHMoMSkpe2NvbnN0IEU9cDw2PzE2OjY0O2xldCBkPTgsdT04O2ZvcihsZXQgST0wO0k8RTtJKyspe2lmKHUhPT0wKXtjb25zdCBsPWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO3U9KGQrbCsyNTYpJTI1Nn1kPXU9PT0wP2Q6dX19fX1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2NvbnN0IHI9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihyPT09MCllLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Vsc2UgaWYocj09PTEpe2Uuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJTaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJTaWduZWQoKTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Zm9yKGxldCBmPTA7ZjxvO2YrKyllLnJlYWRFeHBHb2xvbWJTaWduZWQoKX1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkQml0cygxKT09PTAmJmUuc2tpcCgxKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSYmKGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCkpO2xldCBjO2lmKGUucmVhZEJpdHMoMSkpe2xldCBmPWZ1bmN0aW9uKGQpe2NvbnN0IHU9ZC5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtkLnNraXAoNCksZC5za2lwKDQpO2ZvcihsZXQgVT0wO1U8PXU7VSsrKWQucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZC5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxkLnNraXAoMSk7ZC5za2lwKDUpO2NvbnN0IEk9ZC5yZWFkQml0cyg1KSxsPWQucmVhZEJpdHMoNSksRz1kLnJlYWRCaXRzKDUpO3JldHVybntjcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxOkksZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxOmwsdGltZV9vZmZzZXRfbGVuZ3RoOkd9fTtlLnJlYWRCaXRzKDEpJiZlLnJlYWRCaXRzKDgpPT09MjU1JiYoZS5za2lwKDE2KSxlLnNraXAoMTYpKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMSksZS5yZWFkQml0cygxKSYmKGUuc2tpcCgzKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSYmZS5za2lwKDI0KSksZS5yZWFkQml0cygxKSYmKGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7Y29uc3Qgbz1lLnJlYWRCaXRzKDEpP3tudW1fdW5pdHNfaW5fdGljazplLnJlYWRCaXRzKDMyKSx0aW1lX3NjYWxlOmUucmVhZEJpdHMoMzIpLGZpeGVkX2ZyYW1lX3JhdGVfZmxhZzplLnJlYWRCaXRzKDEpfTp2b2lkIDAsbT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwLHA9ZS5yZWFkQml0cygxKT9mKGUpOnZvaWQgMDsobXx8cCkmJmUuc2tpcCgxKTtjb25zdCBFPWUucmVhZEJpdHMoMSk7Yz17dGltaW5nX2luZm86byxuYWxfaHJkX3BhcmFtZXRlcnM6bSx2Y2xfaHJkX3BhcmFtZXRlcnM6cCxwaWNfc3RydWN0X3ByZXNlbnRfZmxhZzpFfX10aGlzLnNwcy5zZXQoYSx7dnVpX3BhcmFtZXRlcnM6Y30pfWNvbGxlY3RIMjY1U1BTKHQpe31jb2xsZWN0SDI2NFBQUyh0KXtjb25zdCBlPW5ldyB3KHQpLGk9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihpPjI1NXx8aTwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfcGFyYW1ldGVyX3NldF9pZCIpO2NvbnN0IHM9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTt0aGlzLnBwcy5zZXQoaSx7c2VxX3BhcmFtZXRlcl9zZXRfaWQ6c30pfWNvbGxlY3RIMjY1UFBTKHQpe31maW5kQWN0aXZlU1BTKHQpe2NvbnN0IGU9bmV3IHcodCk7ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2NvbnN0IGk9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxzPXRoaXMucHBzLmdldChpKTtpZihzKXtjb25zdCBhPXRoaXMuc3BzLmdldChzLnNlcV9wYXJhbWV0ZXJfc2V0X2lkKTtpZihhKXt0aGlzLmFjdGl2ZVNQUz1hO3JldHVybn19dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpfX1jb25zdCBnPW5ldyB6O2Z1bmN0aW9uIEMobix0KXtmb3IoO3Q8bi5ieXRlTGVuZ3RoLTQ7KXtpZihuW3RdPT09MCYmblt0KzFdPT09MCYmKG5bdCsyXT09PTF8fG5bdCsyXT09PTAmJm5bdCszXT09PTEpKXJldHVybiB0O3QrPTF9cmV0dXJuLTF9ZnVuY3Rpb24gUChuKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KG4uYnl0ZUxlbmd0aCk7bGV0IGU9MCxpPTA7Zm9yKGxldCBzPTI7czxuLmJ5dGVMZW5ndGg7cysrKW5bc109PT0zJiZuW3MtMV09PT0wJiZuW3MtMl09PT0wJiYodC5zZXQobi5zdWJhcnJheShpLHMpLGUpLGUrPXMtaSxpPXMrMSk7cmV0dXJuIGk8bi5ieXRlTGVuZ3RoJiZ0LnNldChuLnN1YmFycmF5KGkpLGUpLHR9ZnVuY3Rpb24gVyhuLHQpe2xldCBlPTA7Y29uc3QgaT10PT09IkgyNjQiPzE6MixzPVtdO2Zvcig7ZTxuLmJ5dGVMZW5ndGgtNDspe2NvbnN0IGE9QyhuLGUpO2lmKGE+PWUpe2NvbnN0IHI9blthKzJdPT09MT8zOjQsYz1DKG4sYStyK2kpO2lmKGM+YSlzLnB1c2gobi5zdWJhcnJheShhLGMpKSxlPWM7ZWxzZXtzLnB1c2gobi5zdWJhcnJheShhKSk7YnJlYWt9fWVsc2UgYnJlYWt9cmV0dXJuIHN9ZnVuY3Rpb24gRihuLHQpe2xldCBlPSEwO3JldHVybiBXKG4sdCkuZmlsdGVyKGk9Pntjb25zdCBzPWlbMl09PT0xPzM6NCxhPXQ9PT0iSDI2NCI/MToyLHI9aVtzXSxjPXQ9PT0iSDI2NCI/ciYzMTpyPj4xJjYzO2lmKGUpc3dpdGNoKGMpe2Nhc2UgXy5QUFNfSDI2NDpjYXNlIF8uUFBTX0gyNjU6Zy5jb2xsZWN0UFBTKFAoaS5zdWJhcnJheShzK2EpKSk7YnJlYWs7Y2FzZSBfLlNQU19IMjY0OmNhc2UgXy5TUFNfSDI2NTpnLmNvbGxlY3RTUFMoUChpLnN1YmFycmF5KHMrYSkpKTticmVhaztjYXNlIF8uU0xJQ0VfSURSOmNhc2UgXy5TTElDRV9OT05fSURSOmNhc2UgXy5TTElDRV9QQVJUSVRJT05fQTp0cnl7Zy5maW5kQWN0aXZlU1BTKFAoaS5zdWJhcnJheShzK2EpKSksZT0hMX1jYXRjaChvKXtjb25zb2xlLmluZm8oIkZhaWxlZCB0byBmaW5kIGFjdGl2ZSBTUFMuIFdpbGwgbm90IGJlIGFibGUgdG8gZXh0cmFjdCBQSUMgdGltaW5nIG1ldGFkYXRhIil9YnJlYWt9cmV0dXJuW18uU0VJX0gyNjQsXy5TRUlfSDI2NV9QUkVGSVgsXy5TRUlfSDI2NV9TVUZGSVhdLmluY2x1ZGVzKGMpfSl9ZnVuY3Rpb24gcShuKXtsZXQgdD0wLGU9MDtmb3IoO25bZV09PT0yNTU7KXQrPTI1NSxlKys7dCs9bltlXSxlKys7bGV0IGk9MDtmb3IoO25bZV09PT0yNTU7KWkrPTI1NSxlKys7cmV0dXJuIGkrPW5bZV0sZSsrLHt0eXBlOnQsY29udGVudDpuLnN1YmFycmF5KGUsZStpKX19ZnVuY3Rpb24gVihuKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KFQoTikpLGU9bmV3IFVpbnQ4QXJyYXkoVChSKSksaT1uZXcgVWludDhBcnJheShUKEEpKTtyZXR1cm4gdC5ldmVyeSgocyxhKT0+cz09PW5bYV0pP2guVElNRUNPREU6ZS5ldmVyeSgocyxhKT0+cz09PW5bYV0pP2guTEVHQUNZOmkuZXZlcnkoKHMsYSk9PnM9PT1uW2FdKT9oLk5FVzpoLk9USEVSfWZ1bmN0aW9uIFkobix0KXtsZXQgZT0wO24udXVpZD10LnN1YmFycmF5KGUsZSsxNiksZSs9MTY7Y29uc3QgaT1WKG4udXVpZCkscz10LnN1YmFycmF5KGUpO3N3aXRjaChpKXtjYXNlIGguTEVHQUNZOmNhc2UgaC5PVEhFUjpuLnVucmVnaXN0ZXJlZD1zO2JyZWFrO2Nhc2UgaC5USU1FQ09ERTpuLnRpbWVjb2RlPUQocyk7YnJlYWs7Y2FzZSBoLk5FVzp7bGV0IGE9MDtjb25zdCByPUwoRGF0ZS5ub3coKSkubGVuZ3RoLGM9cy5zdWJhcnJheShhLHIpO2ErPXI7Y29uc3Qgbz1zLnN1YmFycmF5KGEpO24udGltZWNvZGU9RChjKSxuLnVucmVnaXN0ZXJlZD1vO2JyZWFrfX19ZnVuY3Rpb24gRChuKXtjb25zdCB0PW4ucmVkdWNlKChhLHIpPT4oYTw8QmlnSW50KDgpKStCaWdJbnQociksQmlnSW50KDApKSxlPU51bWJlcih0KSxpPW5ldyBEYXRlKGUpO3JldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaS50b0lTT1N0cmluZygpKX1mdW5jdGlvbiBqKG4sdCl7dmFyIGYsbSxwLEUsZDtpZighZy5hY3RpdmVTUFMpe2NvbnNvbGUud2FybigiQ2Fubm90IGZpbmQgdGhlIGFjdGl2ZSBTUFMiKTtyZXR1cm59Y29uc3QgZT0oZj1nLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy5uYWxfaHJkX3BhcmFtZXRlcnMpIT1udWxsP2Y6Zy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMudmNsX2hyZF9wYXJhbWV0ZXJzLGk9e2NwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZzplPzE6MCxjcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxOihtPWU9PW51bGw/dm9pZCAwOmUuY3BiX3JlbW92YWxfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/bToyMyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6KHA9ZT09bnVsbD92b2lkIDA6ZS5kcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czEpIT1udWxsP3A6MjMsdGltZV9vZmZzZXRfbGVuZ3RoOmU/KEU9ZS50aW1lX29mZnNldF9sZW5ndGgpIT1udWxsP0U6MjQ6dm9pZCAwLHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOihkPWcuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLnBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnKSE9bnVsbD9kOjB9O2lmKCFpLnBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnKXtjb25zb2xlLndhcm4oInBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnIGlzIG5vdCBwcmVzZW50Iik7cmV0dXJufWNvbnN0IHM9bmV3IHcodCk7aS5jcGJfZHBiX2RlbGF5c19wcmVzZW50X2ZsYWcmJihzLnNraXAoaS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKzEpLHMuc2tpcChpLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSsxKSk7Y29uc3QgYT1bMSwxLDEsMiwyLDMsMywyLDNdLHI9cy5yZWFkQml0cyg0KTtpZihyPj1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGljX3N0cnVjdCIpO2NvbnN0IGM9YVtyXSxvPVtdO2ZvcihsZXQgdT0wO3U8Yzt1KyspaWYocy5yZWFkQml0cygxKSl7Y29uc3QgbD17fTtzLnNraXAoMikscy5za2lwKDEpLHMuc2tpcCg1KTtjb25zdCBHPXMucmVhZEJpdHMoMSk7aWYocy5za2lwKDIpLGwubl9mcmFtZXM9cy5yZWFkQml0cyg4KSxHPyhsLnNlY29uZHNfdmFsdWU9cy5yZWFkQml0cyg2KSxsLm1pbnV0ZXNfdmFsdWU9cy5yZWFkQml0cyg2KSxsLmhvdXJzX3ZhbHVlPXMucmVhZEJpdHMoNSkpOnMucmVhZEJpdHMoMSkmJihsLnNlY29uZHNfdmFsdWU9cy5yZWFkQml0cyg2KSxzLnJlYWRCaXRzKDEpJiYobC5taW51dGVzX3ZhbHVlPXMucmVhZEJpdHMoNikscy5yZWFkQml0cygxKSYmKGwuaG91cnNfdmFsdWU9cy5yZWFkQml0cyg1KSkpKSxpLnRpbWVfb2Zmc2V0X2xlbmd0aCl0cnl7bC50aW1lX29mZnNldD1zLnJlYWRCaXRzKGkudGltZV9vZmZzZXRfbGVuZ3RoKX1jYXRjaChVKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVhZCB0aW1lX29mZnNldCIsVSksbC50aW1lX29mZnNldD0wfWVsc2UgbC50aW1lX29mZnNldD0wO28ucHVzaChsKX1uLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXk9b31mdW5jdGlvbiBYKG4sdCl7aWYodCE9PSJIMjY0IiYmdCE9PSJIMjY1Iil0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIGNvZGVjICIuY29uY2F0KHQpKTtjb25zdCBlPXt9O3JldHVybiBnLmNvZGVjPXQsRihuZXcgVWludDhBcnJheShuLmRhdGEpLHQpLmZvckVhY2goaT0+e2NvbnN0IHM9aVsyXT09PTE/Mzo0LGE9dD09PSJIMjY0Ij8xOjIscj1QKGkuc3ViYXJyYXkocythKSksYz1xKHIpO3N3aXRjaChjLnR5cGUpe2Nhc2UgSC5QSUNfVElNSU5HOmooZSxjLmNvbnRlbnQpO2JyZWFrO2Nhc2UgSC5VU0VSX0RBVEFfVU5SRUdJU1RFUkVEOlkoZSxjLmNvbnRlbnQpO2JyZWFrfX0pLGV9ZnVuY3Rpb24gJChuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiBKKG4sdCxlKXtjb25zdCBpPW5ldyBVaW50OEFycmF5KFQobikpLHM9TChlKSxhPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShKU09OLnN0cmluZ2lmeSh0KSkscj1uZXcgVWludDhBcnJheShpLmxlbmd0aCtzLmxlbmd0aCthLmxlbmd0aCk7cmV0dXJuIHIuc2V0KGkpLHIuc2V0KHMsaS5sZW5ndGgpLHIuc2V0KGEscy5sZW5ndGgraS5sZW5ndGgpLHJ9ZnVuY3Rpb24gSyhuKXtjb25zdCB0PVtdLGU9TWF0aC5mbG9vcihuLmJ5dGVMZW5ndGgvMjU1KSxpPW4uYnl0ZUxlbmd0aCUyNTU7Zm9yKGxldCBzPTA7czxlO3MrKyl0LnB1c2goMjU1KTtyZXR1cm4gdC5wdXNoKGkpLG5ldyBVaW50OEFycmF5KFs1LC4uLnRdKX1mdW5jdGlvbiBaKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEwobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgaT0wO2k8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO2krKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCppKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBRKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KXtjb25zdCBpPVswLDAsMCwxXSxzPVsxMDJdLGE9SihuLHQsZSkscj1LKGEpLGM9WihhKSxvPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoK3MubGVuZ3RoK3IubGVuZ3RoK2MubGVuZ3RoKTtyZXR1cm4gby5zZXQoaSksby5zZXQocyxpLmxlbmd0aCksby5zZXQocixpLmxlbmd0aCtzLmxlbmd0aCksby5zZXQoYyxpLmxlbmd0aCtzLmxlbmd0aCtyLmxlbmd0aCksb31mdW5jdGlvbiBlZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSxpKXtpZihuPT09IiJ8fHQ9PT0iIil0aHJvdyBuZXcgRXJyb3IoInV1aWQgYW5kIHBheWxvYWQgY2Fubm90IGJlIGVtcHR5Iik7JChuKXx8KGNvbnNvbGUud2FybigiSW52YWxpZCBVVUlELiBVc2luZyBkZWZhdWx0IFVVSUQuIiksbj1BLGU9RGF0ZS5ub3coKSk7Y29uc3Qgcz1RKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxhPW5ldyBEYXRhVmlldyhpLmRhdGEpLHI9bmV3IEFycmF5QnVmZmVyKGkuZGF0YS5ieXRlTGVuZ3RoK3MuYnl0ZUxlbmd0aCksYz1uZXcgRGF0YVZpZXcocik7Zm9yKGxldCBvPTA7bzxpLmRhdGEuYnl0ZUxlbmd0aDtvKyspYy5zZXRVaW50OChvLGEuZ2V0VWludDgobykpO2ZvcihsZXQgbz0wO288cy5ieXRlTGVuZ3RoO28rKyljLnNldFVpbnQ4KGkuZGF0YS5ieXRlTGVuZ3RoK28sc1tvXSk7aS5kYXRhPXJ9Y29uc3QgdGU9MmUzLHk9W107bGV0IFM9IiIsaz17fTtjb25zdCBiPXt9O2xldCB4PVtdO2Z1bmN0aW9uIHYobil7cmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe3N0YXJ0KCl7fSxmbHVzaCgpe30sYXN5bmMgdHJhbnNmb3JtKHQsZSl7dmFyIGkscztpZih0IGluc3RhbmNlb2YgUlRDRW5jb2RlZFZpZGVvRnJhbWUpe2NvbnN0IGE9KChpPWtbdC5nZXRNZXRhZGF0YSgpLnBheWxvYWRUeXBlXSk9PW51bGw/dm9pZCAwOmkudG9VcHBlckNhc2UoKSl8fChTPT1udWxsP3ZvaWQgMDpTLnRvVXBwZXJDYXNlKCkpO2lmKGE9PT0iSDI2NCIpe2NvbnN0IHI9WCh0LGEpOyhyLnRpbWVjb2RlfHxyLnVucmVnaXN0ZXJlZHx8KChzPXIuc2VpUGljVGltaW5nVGltZUNvZGVBcnJheSk9PW51bGw/dm9pZCAwOnMubGVuZ3RoKT4wKSYmc2VsZi5wb3N0TWVzc2FnZSh7bWlkOm4sbWV0YWRhdGE6cn0pfX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTygpe09iamVjdC5rZXlzKGIpLnNvcnQoKS5qb2luKCk9PT14LnNvcnQoKS5qb2luKCkmJih5LnNoaWZ0KCkseD1bXSl9ZnVuY3Rpb24gbmUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTtiW25dPXQsT2JqZWN0LmtleXMoYikuZmlsdGVyKGk9PnQtYltpXT50ZSkuZm9yRWFjaChpPT57ZGVsZXRlIGJbaV0sZGVsZXRlIHhbaV19KSxPKCl9ZnVuY3Rpb24gTSgpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgaT1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKG5lKGkpLCF4LmluY2x1ZGVzKGkpJiZ5Lmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdChTKSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7eVswXS51dWlkPT09QSYmKHlbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksZWUoeVswXSxuKSx4LnB1c2goaSl9Y2F0Y2gocyl7Y29uc29sZS5lcnJvcihzKX1maW5hbGx5e08oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIEIoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIilTPW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU0oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilrPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSxTPW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD12KG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO0Iobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOlM9bi5kYXRhLmNvZGVjLEIobi5kYXRhLE0oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOms9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LFM9bi5kYXRhLmNvZGVjfHwiIixCKG4uZGF0YSx2KG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjp5LnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",fe=(void 0===e?"undefined":j(e))<"u"&&e.Blob&&new Blob([function(t){return m.from(atob(t),(function(t){return t.charCodeAt(0)}))}(he)],{type:"text/javascript;charset=utf-8"});function ve(t){var n;try{if(!(n=fe&&(e.URL||e.webkitURL).createObjectURL(fe)))throw"";var i=new p(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(e.URL||e.webkitURL).revokeObjectURL(n)})),i}catch(n){return new p("data:text/javascript;base64,"+he,{name:null==t?void 0:t.name})}finally{n&&(e.URL||e.webkitURL).revokeObjectURL(n)}}var de=ht.get("Publish"),le={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:dr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ge=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&de.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),$t(t.call(this,null,i,de,r)||this)}kt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=le);var n=this;return xt((function(){var i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return r=ue.object({sourceId:ue.string(),stereo:ue.boolean(),dtx:ue.boolean(),absCaptureTime:ue.boolean(),dependencyDescriptor:ue.boolean(),mediaStream:ue.alternatives().try(ue.array().items(ue.object()),ue.object()),bandwidth:ue.number(),metadata:ue.boolean(),disableVideo:ue.boolean(),disableAudio:ue.boolean(),codec:(i=ue.string()).valid.apply(i,Lt(l.values(dr))),simulcast:ue.boolean(),scalabilityMode:ue.string(),peerConfig:ue.object(),record:ue.boolean(),events:ue.array().items(ue.string().valid("active","inactive","viewercount")),priority:ue.number()}),e=r.validate(t),u=e.error,s=e.value,u&&de.warn(u,s),n.options=b(M(M({},le),t),{peerConfig:M(M({},le.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===dr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return de.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),de.info("Broadcaster start recording"),[3,3];case 2:de.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),de.info("Broadcaster stop recording"),[3,3];case 2:de.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f,d,l,g,w,y,A;return zt(this,(function(m){switch(m.label){case 0:if(de.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw de.error("Error while broadcasting. MediaStream required"),new v("MediaStream required");if(!t.migrate&&n.isActive())throw de.warn("Broadcast currently working"),new v("Broadcast currently working");m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=m.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=m.sent(),de.error("Error generating token."),s instanceof Yr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw de.error("Error while broadcasting. Publisher data required"),new v("Publisher data required");if(o=te(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[ie.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw de.error("Error while broadcasting. Record option detected but recording is not available"),new v("Record option detected but recording is not available");return a=new Pr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new pr:n.webRTCPeer).createRTCPeer(n.options.peerConfig,wr)];case 5:return m.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Ot(c,n,[Ar.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Ot(a,n,[Br]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,K.all([h,f])];case 6:return e=m.sent(),d=e[0],n.options.metadata&&(n.worker||(n.worker=new ve),n.getRTCPeerConnection().getSenders().forEach((function(t){if(ce)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ae){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),l=n.signaling,n.signaling=a,g=n.signaling.publish(d,n.options),w=c.peer.setLocalDescription(c.sessionDescription),[4,K.all([g,w])];case 7:return e=m.sent(),y=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(y=c.updateBandwidthRestriction(y,n.options.bandwidth)),[4,c.setRTCRemoteSDP(y)];case 8:return m.sent(),de.info("Broadcasting to streamName: ",n.streamName),A=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(Ar.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==l?void 0:l.close)||n.call(l),null==(i=null==A?void 0:A.closeRTCPeer)||i.call(A),l=A=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==dr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",de.warn(r)}},n}(se),we=ht.get("View"),ye={metadata:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},Ae=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&we.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,we,e)||this).payloadTypeCodec={},u.tracksMidValues={},r&&u.on(Ar.track,(function(t){r.srcObject=t.streams[0]})),$t(u)}kt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=ye);var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.options=b(M(M({},ye),t),{peerConfig:M(M({},ye.peerConfig),t.peerConfig),setSDPToPeer:!1}),[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return we.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),we.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){return[2,(we.info("Viewer adding remote % track",t),i.webRTCPeer.addRemoteTrack(t,n))]}))}))()},i.project=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw we.error("Error in projection mapping, trackId or mediaId must be set"),new v("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw we.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new v("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return we.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),we.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return we.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),we.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return we.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={}},i.initConnection=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,c,h,f,d,g,w,y,A,m,p;return zt(this,(function(_){switch(_.label){case 0:if(we.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw we.warn("Viewer currently subscribed"),new v("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=_.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.metadata&&(n.options.peerConfig.encodedInsertableStreams=ae),[3,4];case 3:throw s=_.sent(),we.error("Error generating token."),s instanceof Yr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw we.error("Error while subscribing. Subscriber data required"),new v("Subscriber data required");return o=te(u.jwt),n.streamName=o.millicast.streamName,c=new Pr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(h=t.migrate?new pr:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Ot(h,n,l.values(Ar)),n.stopReemitingSignalingInstanceEvents=Ot(c,n,[Br]),n.options.metadata&&(n.worker||(n.worker=new ve),h.on("track",(function(t){var i,r,e;if(n.tracksMidValues[null==(i=t.transceiver)?void 0:i.mid]=t.track,ce)t.receiver.transform=new RTCRtpScriptTransform(n.worker,{name:"receiverTransform",payloadTypeCodec:M({},n.payloadTypeCodec),codec:n.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid});else if(ae){var u=t.receiver.createEncodedStreams(),s=u.readable,o=u.writable;n.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:M({},n.payloadTypeCodec),codec:n.options.metadata&&"h264",mid:null==(e=t.transceiver)?void 0:e.mid,readable:s,writable:o},[s,o])}})),n.worker.onmessage=function(t){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){we.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}),f=h.getRTCLocalSDP(b(M({},n.options),{stereo:!0})),d=c.connect(),[4,K.all([f,d])];case 6:return e=_.sent(),g=e[0],w=n.signaling,n.signaling=c,y=n.signaling.subscribe(g,b(M({},n.options),{vad:n.options.multiplexedAudioTracks>0})),A=h.peer.setLocalDescription(h.sessionDescription),[4,K.all([y,A])];case 7:return e=_.sent(),m=e[0],n.payloadTypeCodec=fr.getCodecPayloadType(m),[4,h.setRTCRemoteSDP(m)];case 8:return _.sent(),we.info("Connected to streamName: ",n.streamName),p=n.webRTCPeer,n.webRTCPeer=h,n.setReconnect(),t.migrate&&n.webRTCPeer.on(Ar.connectionStateChange,(function(t){var n,i;"connected"===t?a((function(){var t,n;null==(t=null==w?void 0:w.close)||t.call(w),null==(n=null==p?void 0:p.closeRTCPeer)||n.call(p),w=p=null,we.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==w?void 0:w.close)||n.call(w),null==(i=null==p?void 0:p.closeRTCPeer)||i.call(p),w=p=null)})),[2]}}))}))()},n}(se);t.Director=Xr,t.Logger=ht,t.PeerConnection=pr,t.Publish=ge,t.Signaling=Pr,t.View=Ae,l.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==typeof t&&(void 0===i?"undefined":j(i))<"u"?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((r=("undefined"==typeof globalThis?"undefined":j(globalThis))<"u"?globalThis:r||self).millicast={})})),fn=E((function(t,n){wt(),C(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),vn=E((function(t,n){wt(),C(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,d=e*o,l=e*a,g=u*s,w=u*o,y=u*a;return t[0]=1-f-l,t[1]=h+y,t[2]=v-w,t[3]=0,t[4]=h-y,t[5]=1-c-l,t[6]=d+g,t[7]=0,t[8]=v+w,t[9]=d-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),dn=E((function(t,n){wt(),C(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=g.sqrt(s*s+o*o+a*a);if(g.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=g.sin(n),e=g.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),ln=E((function(t,n){wt(),C(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),gn=E((function(t,n){wt(),C(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),wn=E((function(t,n){wt(),C(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],y=n[15],A=i*o-r*s,m=i*a-e*s,p=i*c-u*s,_=r*a-e*o,k=r*c-u*o,M=e*c-u*a,b=h*g-f*l,T=h*w-v*l,N=h*y-d*l,D=f*w-v*g,I=f*y-d*g,E=v*y-d*w,S=A*E-m*I+p*D+_*N-k*T+M*b;if(!S)return null;return S=1/S,t[0]=(o*E-a*I+c*D)*S,t[1]=(e*I-r*E-u*D)*S,t[2]=(g*M-w*k+y*_)*S,t[3]=(v*k-f*M-d*_)*S,t[4]=(a*N-s*E-c*T)*S,t[5]=(i*E-e*N+u*T)*S,t[6]=(w*p-l*M-y*m)*S,t[7]=(h*M-v*p+d*m)*S,t[8]=(s*I-o*N+c*b)*S,t[9]=(r*N-i*I-u*b)*S,t[10]=(l*k-g*p+y*A)*S,t[11]=(f*p-h*k-d*A)*S,t[12]=(o*T-s*D-a*b)*S,t[13]=(i*D-r*T+e*b)*S,t[14]=(g*m-l*_-w*A)*S,t[15]=(h*_-f*m+v*A)*S,t}})),yn=E((function(t,n){wt(),C(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],g=n[12],w=n[13],y=n[14],A=n[15],m=i[0],p=i[1],_=i[2],k=i[3];return t[0]=m*r+p*o+_*f+k*g,t[1]=m*e+p*a+_*v+k*w,t[2]=m*u+p*c+_*d+k*y,t[3]=m*s+p*h+_*l+k*A,m=i[4],p=i[5],_=i[6],k=i[7],t[4]=m*r+p*o+_*f+k*g,t[5]=m*e+p*a+_*v+k*w,t[6]=m*u+p*c+_*d+k*y,t[7]=m*s+p*h+_*l+k*A,m=i[8],p=i[9],_=i[10],k=i[11],t[8]=m*r+p*o+_*f+k*g,t[9]=m*e+p*a+_*v+k*w,t[10]=m*u+p*c+_*d+k*y,t[11]=m*s+p*h+_*l+k*A,m=i[12],p=i[13],_=i[14],k=i[15],t[12]=m*r+p*o+_*f+k*g,t[13]=m*e+p*a+_*v+k*w,t[14]=m*u+p*c+_*d+k*y,t[15]=m*s+p*h+_*l+k*A,t}})),An=E((function(t,n){wt(),C(),n.exports=function(t,n,i,r,e){var u=1/g.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),mn=E((function(t,n){wt(),C(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,d,l,w,y,A,m,p,_,k,M,b,T,N,D,I,E=r[0],S=r[1],L=r[2],C=g.sqrt(E*E+S*S+L*L);if(g.abs(C)<1e-6)return null;E*=C=1/C,S*=C,L*=C,e=g.sin(i),u=g.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],d=n[6],l=n[7],w=n[8],y=n[9],A=n[10],m=n[11],p=E*E*s+u,_=S*E*s+L*e,k=L*E*s-S*e,M=E*S*s-L*e,b=S*S*s+u,T=L*S*s+E*e,N=E*L*s+S*e,D=S*L*s-E*e,I=L*L*s+u,t[0]=o*p+f*_+w*k,t[1]=a*p+v*_+y*k,t[2]=c*p+d*_+A*k,t[3]=h*p+l*_+m*k,t[4]=o*M+f*b+w*T,t[5]=a*M+v*b+y*T,t[6]=c*M+d*b+A*T,t[7]=h*M+l*b+m*T,t[8]=o*N+f*D+w*I,t[9]=a*N+v*D+y*I,t[10]=c*N+d*D+A*I,t[11]=h*N+l*D+m*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),pn=E((function(t,n){wt(),C(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],y=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*y+n[12],t[13]=n[1]*g+n[5]*w+n[9]*y+n[13],t[14]=n[2]*g+n[6]*w+n[10]*y+n[14],t[15]=n[3]*g+n[7]*w+n[11]*y+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*y+n[12],t[13]=e*g+a*w+v*y+n[13],t[14]=u*g+c*w+d*y+n[14],t[15]=s*g+h*w+l*y+n[15]);return t}})),_n={};!function(t,n){for(var i in n)M(t,i,{get:n[i],enumerable:!0})}(_n,{ChromelessPlayer:function(){return UR},ErrorCategory:function(){return Yv},ErrorCode:function(){return Qv},Player:function(){return UR},cache:function(){return T7},cast:function(){return h2},features:function(){return GR},playerSuiteVersion:function(){return VR},players:function(){return WR},registerContentProtectionIntegration:function(){return XR},utils:function(){return YR},version:function(){return FR}}),r.exports=(sn=_n,S(M({},"__esModule",{value:!0}),sn)),wt(),C(),wt(),C(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),mt(),Ct(),wt(),C(),Ct(),wt(),C(),mt(),wt(),C(),function(t){t.gE="web",t.wE="android",t.vE="android-tv",t.mE="ios",t.pE="tvos",t.AE="chromecast",t.yE="theoliveweb"}(an||(an={}));var kn=o?o.userAgent:"",Mn=kn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),bn=kn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Tn=kn.match(/Android ([0-9\.]+)/i),Nn=kn.match(/Windows NT ([0-9\.]+)/i),Dn=kn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),In=kn.match(/Firefox\/([0-9\.]+)/i),En=kn.match(/OPR\/(\d+\.\d+)/i),Sn=kn.match(/Tizen ([0-9\.]+)/i),Ln=kn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Cn=function(){function t(){this.bE=Boolean("ontouchstart"in self||self.DocumentTouch&&u instanceof self.DocumentTouch||o&&o.msMaxTouchPoints),this.SE=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(kn)||/(macintosh|mac(?=_powerpc)\s)/i.test(kn),this.DE=/Windows NT/i.test(kn),this.kE=Nn?y(Nn[1]):0,this.xE=/Android/i.test(kn),this.OE=Tn?y(Tn[1]):0,this.RE=/windows phone (8|8\.1)/i.test(kn),this.zE=/iPhone/i.test(kn),this.UE=/iPad/i.test(kn),this.FE=this.SE&&this.bE&&!this.UE,this.GE=/iPod/i.test(kn),this.KE=/Mobile Safari/i.test(kn),this.ZE=/EOS\d*STB/i.test(kn),this.qE=/APP\d*STB/i.test(kn),this.VE=(this.zE||this.UE||this.FE||this.GE)&&!this.RE,this.HE=Ln?y(Ln[2]):0,this.JE=this.RE||this.VE||this.xE||this.KE,this.ek=/CriOS/i.test(kn),this.rk=Boolean(self.chrome&&/google/i.test(o.vendor))||this.ek,this.fk=this.rk&&/Edg\//i.test(o.userAgent),this.gk=bn?w(bn[1],10):0,this.cL=Boolean(self.chrome||/Chrome/i.test(kn)||/CriOS/i.test(kn)),this.lk=Mn?w(Mn[1],10):0,this.vk=/SMART-TV.*Tizen/i.test(kn),this.Ak=Sn?y(Sn[1]):0,this.ck=this.Ak>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Ak):void 0,this.Mk=/webos|web0s/i.test(kn),this.Tk=/VIZIO/i.test(kn),this.Nk=/Edge\/\d+/i.test(kn),this.Dk=/Trident/i.test(kn),this.Lk=this.Dk&&!self.ActiveXObject&&"ActiveXObject"in self,this.Ck=/Vivaldi/i.test(kn),this.jk=/Firefox/i.test(kn)&&!/Seamonkey/i.test(kn),this.Pk=In?y(In[1]):0,this.Bk=/Safari/i.test(kn)&&!/Chrome/i.test(kn)&&!this.RE&&!this.vk,this.Qk=Dn?y(Dn[2]):0,this.Yk=Boolean(En),this.Vk=En?y(En[1]):0,this.Hk=/CrKey/.test(kn),this.Zk=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(kn),this.Jk="web"===an.vE,this.tL="web"===an.wE,this.eL=this.tL||this.Jk,this.nL="web"===an.mE,this.oL="web"===an.pE,this.aL="web"===an.AE}return At(t,[{key:"Je",get:function(){return this.bE}},{key:"TE",get:function(){return this.SE}},{key:"NE",get:function(){return this.DE}},{key:"EE",get:function(){return this.kE}},{key:"LE",get:function(){return this.xE}},{key:"CE",get:function(){return this.OE}},{key:"jE",get:function(){return this.RE}},{key:"PE",get:function(){return this.zE}},{key:"BE",get:function(){return this.UE}},{key:"QE",get:function(){return this.FE}},{key:"YE",get:function(){return this.GE}},{key:"Ga",get:function(){return this.VE}},{key:"WE",get:function(){return this.HE}},{key:"XE",get:function(){return this.ZE||this.qE}},{key:"td",get:function(){return this.KE}},{key:"Qs",get:function(){return this.JE}},{key:"$E",get:function(){return this.ek}},{key:"nk",get:function(){return this.rk}},{key:"hk",get:function(){var t;return null!=(t=this.ck)?t:this.lk}},{key:"dk",get:function(){return this.fk}},{key:"_k",get:function(){return this.gk}},{key:"wk",get:function(){return this.vk}},{key:"pk",get:function(){return this.Ak}},{key:"yk",get:function(){return this.Mk}},{key:"bk",get:function(){return this.Tk}},{key:"Sk",get:function(){return this.Nk}},{key:"Ik",get:function(){return this.Dk}},{key:"Ek",get:function(){return this.Lk}},{key:"xk",get:function(){return this.Ck}},{key:"Ok",get:function(){return this.jk}},{key:"Rk",get:function(){return this.Pk}},{key:"zk",get:function(){return this.Bk}},{key:"Uk",get:function(){return this.Qk}},{key:"Fk",get:function(){return this.Yk}},{key:"Gk",get:function(){return this.Vk}},{key:"Wk",get:function(){return this.Hk}},{key:"Xk",get:function(){return this.Zk}},{key:"qk",get:function(){return!(!this.yk&&!this.wk)&&this.hk<=56}},{key:"Kk",get:function(){return this.Jk}},{key:"$k",get:function(){return this.tL}},{key:"iL",get:function(){return this.eL}},{key:"sL",get:function(){return this.nL}},{key:"rL",get:function(){return this.oL}},{key:"hL",get:function(){return this.aL}},{key:"uL",get:function(){return this.cL}}]),t}();Cn.lL=new Cn;var jn=Cn.lL;wt(),C();var xn={}.hasOwnProperty,On={}.toString;function zn(t){return null!=t}function Rn(t){return void 0===t}var Bn=Array.isArray||function(t){return"[object Array]"===On.call(t)};function Pn(t){return Un(t)&&xn.call(t,"length")&&Wn(t.length)}function Un(t){return"object"==typeof t&&null!==t}function Qn(t){return Un(t)&&t.constructor&&t.constructor===l}function Yn(t){return"string"==typeof t}function Gn(t){return"boolean"==typeof t}function Fn(t){return zn(t)&&"function"==typeof t.then}function Vn(t){return"[object Date]"===On.call(t)}function Wn(t){return"number"==typeof t}function Xn(t){return"function"==typeof t}function Zn(t){return Xn(t)||Un(t)}wt(),C();var Hn=function(){},Kn=function(t){return t};function Jn(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=on.m_();s-i>=n&&(t.apply(this,e),i=s)}}function qn(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&on.p_(i),i=on.A_((function(){i=0,t.apply(s,e)}),n)}}function $n(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}var ti=!(jn.Ik&&!jn.Ek),ni=self.console;function ii(t){if(Un(t))try{return JSON.stringify(t)}catch(t){}return t}function ri(t){return t.map(ii).join(" ")}function ei(t){var n=ni&&ni[t];return n?n.bind&&ti?n.bind(ni):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ni[t](ri(i))}:void 0}var ui=ei("log")||Hn,si=ei("warn")||ui.bind(void 0,"WARNING:"),oi=ei("error")||ui.bind(void 0,"ERROR:"),ai=function(){var t=ni&&ni.assert;return t?t.bind&&ti?t.bind(ni):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ni.assert(t,ri(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||oi.apply(void 0,["Assertion failed:"].concat(Lt(i)))}}();wt(),C(),wt(),C(),wt(),C();var ci=null;try{ci=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(sn){}function hi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function fi(t){return!0===(t&&t.iy)}function vi(t){var n=g.clz32(t&-t);return t?31-n:n}hi.prototype.iy,l.defineProperty(hi.prototype,"iy",{value:!0}),hi.isLong=fi;var di={},li={};function gi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=li[t])?r:(i=yi(t,0,!0),e&&(li[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=di[t])?r:(i=yi(t,t<0?-1:0,!1),e&&(di[t]=i),i)}function wi(t,n){if(A(t))return n?Ni:Ti;if(n){if(t<0)return Ni;if(t>=ki)return Li}else{if(t<=-Mi)return Ci;if(t+1>=Mi)return Si}return t<0?wi(-t,n).neg():yi(t%_i|0,t/_i|0,n)}function yi(t,n,i){return new hi(t,n,i)}hi.fromInt=gi,hi.fromNumber=wi,hi.fromBits=yi;var Ai=g.pow;function mi(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Ni:Ti;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return mi(t.substring(1),n,i).neg();for(var e=wi(Ai(i,8)),u=Ti,s=0;s<t.length;s+=8){var o=g.min(8,t.length-s),a=w(t.substring(s,s+o),i);if(o<8){var c=wi(Ai(i,o));u=u.mul(c).add(wi(a))}else u=(u=u.mul(e)).add(wi(a))}return u.unsigned=n,u}function pi(t,n){return"number"==typeof t?wi(t,n):"string"==typeof t?mi(t,n):yi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}hi.fromString=mi,hi.fromValue=pi;var _i=4294967296,ki=_i*_i,Mi=ki/2,bi=gi(1<<24),Ti=gi(0);hi.ZERO=Ti;var Ni=gi(0,!0);hi.UZERO=Ni;var Di=gi(1);hi.ONE=Di;var Ii=gi(1,!0);hi.UONE=Ii;var Ei=gi(-1);hi.NEG_ONE=Ei;var Si=yi(-1,2147483647,!1);hi.MAX_VALUE=Si;var Li=yi(-1,-1,!0);hi.MAX_UNSIGNED_VALUE=Li;var Ci=yi(0,-2147483648,!1);hi.MIN_VALUE=Ci;var ji=hi.prototype;ji.toInt=function(){return this.unsigned?this.low>>>0:this.low},ji.toNumber=function(){return this.unsigned?(this.high>>>0)*_i+(this.low>>>0):this.high*_i+(this.low>>>0)},ji.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ci)){var n=wi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=wi(Ai(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},ji.getHighBits=function(){return this.high},ji.getHighBitsUnsigned=function(){return this.high>>>0},ji.getLowBits=function(){return this.low},ji.getLowBitsUnsigned=function(){return this.low>>>0},ji.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ci)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},ji.isZero=function(){return 0===this.high&&0===this.low},ji.eqz=ji.isZero,ji.isNegative=function(){return!this.unsigned&&this.high<0},ji.isPositive=function(){return this.unsigned||this.high>=0},ji.isOdd=function(){return 1==(1&this.low)},ji.isEven=function(){return 0==(1&this.low)},ji.equals=function(t){return fi(t)||(t=pi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},ji.eq=ji.equals,ji.notEquals=function(t){return!this.eq(t)},ji.neq=ji.notEquals,ji.ne=ji.notEquals,ji.lessThan=function(t){return this.comp(t)<0},ji.lt=ji.lessThan,ji.lessThanOrEqual=function(t){return this.comp(t)<=0},ji.lte=ji.lessThanOrEqual,ji.le=ji.lessThanOrEqual,ji.greaterThan=function(t){return this.comp(t)>0},ji.gt=ji.greaterThan,ji.greaterThanOrEqual=function(t){return this.comp(t)>=0},ji.gte=ji.greaterThanOrEqual,ji.ge=ji.greaterThanOrEqual,ji.compare=function(t){if(fi(t)||(t=pi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},ji.comp=ji.compare,ji.negate=function(){return!this.unsigned&&this.eq(Ci)?Ci:this.not().add(Di)},ji.neg=ji.negate,ji.add=function(t){fi(t)||(t=pi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,yi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},ji.subtract=function(t){return fi(t)||(t=pi(t)),this.add(t.neg())},ji.sub=ji.subtract,ji.multiply=function(t){if(this.isZero())return this;if(fi(t)||(t=pi(t)),ci)return yi(ci.mul(this.low,this.high,t.low,t.high),ci.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Ni:Ti;if(this.eq(Ci))return t.isOdd()?Ci:Ti;if(t.eq(Ci))return this.isOdd()?Ci:Ti;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(bi)&&t.lt(bi))return wi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,yi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},ji.mul=ji.multiply,ji.divide=function(t){if(fi(t)||(t=pi(t)),t.isZero())throw v("division by zero");var n,i,r;if(ci)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?yi((this.unsigned?ci.div_u:ci.div_s)(this.low,this.high,t.low,t.high),ci.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ni:Ti;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ni;if(t.gt(this.shru(1)))return Ii;r=Ni}else{if(this.eq(Ci))return t.eq(Di)||t.eq(Ei)?Ci:t.eq(Ci)?Di:(n=this.shr(1).div(t).shl(1)).eq(Ti)?t.isNegative()?Di:Ei:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ci))return this.unsigned?Ni:Ti;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ti}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var e=g.ceil(g.log(n)/g.LN2),u=e<=48?1:Ai(2,e-48),s=wi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=wi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Di),r=r.add(s),i=i.sub(o)}return r},ji.div=ji.divide,ji.modulo=function(t){return fi(t)||(t=pi(t)),ci?yi((this.unsigned?ci.rem_u:ci.rem_s)(this.low,this.high,t.low,t.high),ci.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},ji.mod=ji.modulo,ji.rem=ji.modulo,ji.not=function(){return yi(~this.low,~this.high,this.unsigned)},ji.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},ji.clz=ji.countLeadingZeros,ji.countTrailingZeros=function(){return this.low?vi(this.low):vi(this.high)+32},ji.ctz=ji.countTrailingZeros,ji.and=function(t){return fi(t)||(t=pi(t)),yi(this.low&t.low,this.high&t.high,this.unsigned)},ji.or=function(t){return fi(t)||(t=pi(t)),yi(this.low|t.low,this.high|t.high,this.unsigned)},ji.xor=function(t){return fi(t)||(t=pi(t)),yi(this.low^t.low,this.high^t.high,this.unsigned)},ji.shiftLeft=function(t){return fi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?yi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):yi(0,this.low<<t-32,this.unsigned)},ji.shl=ji.shiftLeft,ji.shiftRight=function(t){return fi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?yi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):yi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},ji.shr=ji.shiftRight,ji.shiftRightUnsigned=function(t){return fi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?yi(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):yi(32===t?this.high:this.high>>>t-32,0,this.unsigned)},ji.shru=ji.shiftRightUnsigned,ji.shr_u=ji.shiftRightUnsigned,ji.rotateLeft=function(t){var n;return fi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?yi(this.high,this.low,this.unsigned):t<32?(n=32-t,yi(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),yi(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},ji.rotl=ji.rotateLeft,ji.rotateRight=function(t){var n;return fi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?yi(this.high,this.low,this.unsigned):t<32?(n=32-t,yi(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),yi(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},ji.rotr=ji.rotateRight,ji.toSigned=function(){return this.unsigned?yi(this.low,this.high,!1):this},ji.toUnsigned=function(){return this.unsigned?this:yi(this.low,this.high,!0)},ji.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},ji.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},ji.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},hi.fromBytes=function(t,n,i){return i?hi.fromBytesLE(t,n):hi.fromBytesBE(t,n)},hi.fromBytesLE=function(t,n){return new hi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},hi.fromBytesBE=function(t,n){return new hi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xi=hi;function Oi(t,n){return t.lessThan(n)?t:n}wt(),C();var zi=9007199254740991,Ri=g.pow(2,-52);function Bi(t,n,i){return g.min(g.max(t,n),i)}function Pi(t,n,i){return t===n||g.abs(t-n)<=i}function Ui(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<Ri||i<g.max(g.abs(t),g.abs(n))*Ri}function Qi(t,n){return t%n+(t<0?n:0)}function Yi(t){return t!=t}function Gi(t,n){return t===n||Yi(t)&&Yi(n)}function Fi(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Vi(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function Wi(t){return!A(t.getTime())}function Xi(){return Date.now()||(new Date).getTime()}function Zi(t){return t/1e3}function Hi(t){return 1e3*t}var Ki=1/6,Ji=xi.fromNumber(zi);function qi(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Ji))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function $i(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function tr(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){nr(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&nr(i,null,t.length,t),t}function nr(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}wt(),C();var ir=/[a-zA-Z]/,rr=/[0-9]/,er=/[0-9a-fA-F]/,ur=/^0x/i,sr=/^[0-9]+$/,or=/^[0-9a-fA-F]+$/,ar=/^[0-7]+$/,cr=l.prototype.toString,hr=Array.isArray||function(t){return"[object Array]"===cr.call(t)},fr=void 0!==n&&"symbol"==typeof n.iterator;function vr(t){return hr(t)?t:Array.from(t)}function dr(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function lr(t){return t>=65&&t<=90}function gr(t){return lr(t)||function(t){return t>=97&&t<=122}(t)}function wr(t){return t>=48&&t<=57}function yr(t){return wr(t)||gr(t)}function Ar(t){return wr(t)||t>=65&&t<=70||t>=97&&t<=102}function mr(t){return lr(t)?t+32:t}function pr(t){return wr(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function _r(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var kr=g.min,Mr=String.fromCharCode,br=16384;function Tr(t){for(var n=t.length,i=[],r=0;r<n;r+=br){var e=kr(r+br,n);i.push(Mr.apply(null,t.slice(r,e)))}return i.join("")}var Nr=2147483647,Dr=/[^\0-\x7E]/,Ir=/[\x2E\u3002\uFF0E\uFF61]/g,Er={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Sr=g.floor,Lr=String.fromCharCode;function Cr(t){throw new RangeError(Er[t])}function jr(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var xr,Or,zr,Rr=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Br=function(t,n,i){var r=0;for(t=i?Sr(t/700):t>>1,t+=Sr(t/n);t>455;r+=36)t=Sr(t/35);return Sr(r+36*t/(t+38))},Pr=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Ir,".")).split("."),n).join(".");return r+e}(t,(function(t){return Dr.test(t)?"xn--"+function(t){for(var n=[],i=(t=jr(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Lr(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Nr,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var g=h+1;f-r>Sr((Nr-e)/g)&&Cr("overflow"),e+=(f-r)*g,r=f;for(var w=0,y=t;w<y.length;w++){var A=y[w];if(A<r&&++e>Nr&&Cr("overflow"),A==r){for(var m=e,p=36;;p+=36){var _=p<=u?1:p>=u+26?26:p-u;if(m<_)break;var k=m-_,M=36-_;n.push(Lr(Rr(_+k%M,0))),m=Sr(k/M)}n.push(Lr(Rr(m,0))),u=Br(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function Ur(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Tr(n)}function Qr(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Yr(t,n){return t>>n&63|128}function Gr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Qr(t),n.push(t>>12&15|224),n.push(Yr(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Yr(t,12)),n.push(Yr(t,6))),n.push(63&t|128)):n.push(t)}function Fr(t){for(var n=[],i=0;i<t.length;i++){Gr(t[i],n)}return n}function Vr(){if(zr>=Or)throw new v("Invalid byte index");var t=255&xr[zr];if(zr++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Wr(){var t,n;if(zr>Or)throw new v("Invalid byte index");if(zr===Or)return!1;if(t=255&xr[zr],zr++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Vr())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Vr()<<6|Vr())>=2048)return Qr(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Vr()<<12|Vr()<<6|Vr())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function Xr(t){return[37,_r(t>>4),_r(15&t)]}function Zr(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Hr(t){return Zr(t)||32===t||34===t||60===t||62===t||96===t}function Kr(t){return Hr(t)||35===t||63===t||123===t||125===t}function Jr(t){return Kr(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function qr(t){return t<33||t>126||34===t||35===t||60===t||62===t}function $r(t){return qr(t)||39===t}function te(t,n){if(!n(t))return[t];for(var i=Fr([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Xr(u))}return r}function ne(t,n){for(var i=[],r=0,e=jr(t);r<e.length;r++){var u=e[r];i.push.apply(i,te(u,n))}return Ur(i)}function ie(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Ar(t[r+1])&&Ar(t[r+2])){var u=pr(t[r+1])<<4|pr(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Fr(t))}function re(t){return Ur(function(t){xr=t.slice(),Or=xr.length,zr=0;for(var n,i=[];!1!==(n=Wr());)i.push(n);return i}(ie(jr(t))))}function ee(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new d;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new d("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&er.test(t[u]);)s=s<<4|w(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new d;if(u-=o,r>6)throw new d;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new d;u+=1}if(!rr.test(t[u]))throw new d;for(;u<n&&rr.test(t[u]);){var h=w(t[u],10);if(null===c)c=h;else{if(0===c)throw new d;if((c=10*c+h)>255)throw new d}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new d;break}if(":"===t[u]){if((u+=1)===n)throw new d}else if(u<n)throw new d;i[r]=s,r+=1}else{if(null!==e)throw new d("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)dr(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new d;return i}function ue(t){var n=10,i=sr;return ur.test(t)?(t=t.slice(2),n=16,i=or):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ar),""===t?0:i.test(t)?w(t,n):void 0}var se={z2:4},oe=/[\0\t\n\r #%/:?@\[\\\]]/,ae=/[\0\t\n\r #/:?@\[\\\]]/;function ce(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{z2:2,met:ee(t.slice(1,-1))}}if(!n)return function(t){if(ae.test(t))throw new d("Invalid code point in opaque host");var n=ne(t,Zr);return""===n?se:{z2:3,zx:n}}(t);var i=function(t){var n=function(t){return Pr(t.toLowerCase())}(t);return n}(re(t));if(oe.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=ue(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new d;if(i[i.length-1]>=g.pow(256,5-i.length))throw new d;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==r?{z2:1,met:r}:""===i?se:{z2:0,pet:i}}function he(t){switch(t.z2){case 0:return t.pet;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.met);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.met)+"]";case 3:return t.zx;case 4:return""}}var fe=/\+/g;function ve(t){return 42===t||45===t||46===t||95===t||yr(t)}function de(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(fe," "),o=o.replace(fe," ");var a=re(s),c=re(o);i.push([a,c])}}return i}function le(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=ge(Fr(jr(r[0])))+"="+ge(Fr(jr(r[1])))}return n}function ge(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):ve(r)?n.push(r):n.push.apply(n,Xr(r))}return Tr(n)}var we=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ye(t){var n=""+t,i=we.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(me(u))if(pe(u)||e===i-1)r.push(Ae);else{var s=t.charCodeAt(e+1);pe(s)?(r.push(u,s),e++):r.push(Ae)}else r.push(u)}return t.slice(0,n)+Tr(r)}(n,i.index):n}var Ae=65533,me=function(t){return 55296==(63488&t)},pe=function(t){return 0!=(1024&t)};function _e(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function ke(t){t.pf.length=0}function Me(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.pf,de(n))}function be(t){if(t.Ju){var n=le(t.pf);""===n&&(n=null),t.Ju.Ju.Aet=n}}var Te=function(){function t(t){if(void 0===t&&(t=void 0),this.Ju=null,null==t)this.pf=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Te&&!!hr(t.pf)&&(!fr||t[n.iterator]===Ne)}(t))this.pf=t.pf.slice();else if(function(t){return null!=t&&(!!hr(t)||!!fr&&"function"==typeof t[n.iterator])}(t)){this.pf=[];for(var i=0,r=vr(t);i<r.length;i++){var e=vr(r[i]);if(2!==e.length)throw new d("Invalid name-value pair");this.pf.push([ye(e[0]),ye(e[1])])}}else for(var u in this.pf=[],t)l.prototype.hasOwnProperty.call(t,u)&&this.pf.push([ye(u),ye(t[u])]);else(t=ye(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.pf=de(t)}var i=t.prototype;return i.append=function(t,n){t=ye(t),n=ye(n),this.pf.push([t,n]),be(this)},i.delete=function(t){t=ye(t);for(var n=this.pf,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}be(this)},i.get=function(t){t=ye(t);for(var n=this.pf,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},i.getAll=function(t){t=ye(t);for(var n=this.pf,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},i.has=function(t){t=ye(t);for(var n=this.pf,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},i.set=function(t,n){t=ye(t),n=ye(n);for(var i=this.pf,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),be(this)},i.sort=function(){tr(this.pf,_e),be(this)},i.toString=function(){return le(this.pf)},i.entries=function(){return new Se(this.pf,De)},i.keys=function(){return new Se(this.pf,Ie)},i.values=function(){return new Se(this.pf,Ee)},i.forEach=function(t){var n=this;this.pf.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Ne=Te.prototype.entries;fr&&(Te.prototype[n.iterator]=Ne);var De=function(t){return[t[0],t[1]]},Ie=function(t){return t[0]},Ee=function(t){return t[1]},Se=function(){function t(t,n){this.yet=0,this.pf=t,this.Met=n}return t.prototype.next=function(){return this.yet<this.pf.length?{done:!1,value:this.Met(this.pf[this.yet++])}:{done:!0,value:void 0}},t}(),Le="null";var Ce=l.create(null);Ce.ftp=21,Ce.file=0,Ce.gopher=70,Ce.http=80,Ce.https=443,Ce.ws=80,Ce.wss=443;var je=/^(?:\.|%2e)$/i,xe=/^(?:\.|%2e){2}$/i;function Oe(t){return je.test(t)}function ze(t){return xe.test(t)}function Re(t){return void 0!==Ce[t]}function Be(t){return Re(t.fP)}function Pe(t){return""!==t.bet||""!==t.Tet}function Ue(t){var n=t.length;if(!(n>=2))return!1;if(!Ye(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Qe(t){return 2===t.length&&ir.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ye(t){return 2===t.length&&Qe(Tr(t))}function Ge(t){return Qe(t)&&":"===t[1]}function Fe(t){var n=t.Net;0!==n.length&&("file"===t.fP&&1===n.length&&Ge(n[0])||n.pop())}function Ve(t){return null===t.Iet||se===t.Iet||t.Det||"file"===t.fP}var We=-1,Xe=/\t|\n|\r/g,Ze=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function He(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Je,t=t.replace(Ze,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=jr(t=t.replace(Xe,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:We;switch(e){case 0:if(!gr(v)){if(null===r){u.length=0,e=2;continue}throw new d("Invalid scheme")}u.push(mr(v)),e=1;break;case 1:if(yr(v)||43===v||45===v||46===v)u.push(mr(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new d("Invalid scheme")}var l=Ur(u);if(null!==r){if(Re(i.fP)&&!Re(l))return;if(!Re(i.fP)&&Re(l))return;if((Pe(i)||null!==i.E7)&&"file"===l)return;if("file"===i.fP&&(i.Iet===se||null===i.Iet))return}if(i.fP=l,null!==r)return void(Be(i)&&i.E7===Ce[i.fP]&&(i.E7=null));u.length=0,"file"===i.fP?e=13:Be(i)&&n&&n.fP===i.fP?e=3:Be(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Det=!0,i.Net.push(""),e=18)}break;case 2:if(!n||n.Det&&35!==v)throw new d("Invalid scheme");n.Det&&35===v?(i.fP=n.fP,i.Net=n.Net.slice(),i.Aet=n.Aet,i.Eet="",i.Det=!0,e=20):"file"!==n.fP?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.fP=n.fP,We===v?(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Aet=n.Aet):47===v?e=6:63===v?(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Aet="",e=19):35===v?(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Aet=n.Aet,i.Eet="",e=20):92===v&&Be(i)?e=6:(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,i.Net=n.Net.slice(),i.Net.pop(),e=17,f-=1);break;case 6:!Be(i)||47!==v&&92!==v?47===v?e=9:(i.bet=n.bet,i.Tet=n.Tet,i.Iet=n.Iet,i.E7=n.E7,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||a){var A=Ur(te(y,Jr));a?i.Tet+=A:i.bet+=A}else a=!0}u.length=0}else if(We===v||47===v||63===v||35===v||Be(i)&&92===v){if(s&&0===u.length)throw new d("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.fP)f-=1,e=15;else if(58!==v||o)if(We===v||47===v||63===v||35===v||Be(i)&&92===v){if(f-=1,Be(i)&&0===u.length)throw new d("Invalid host");if(null!==r&&0===u.length&&(Pe(i)||null!==i.E7))return;var m=ce(Ur(u),Be(i));if(i.Iet=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new d("Invalid host");var p=ce(Ur(u),Be(i));if(i.Iet=p,u.length=0,e=12,11===r)return}break;case 12:if(wr(v))u.push(v);else{if(!(We===v||47===v||63===v||35===v||Be(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==u.length){var _=w(Ur(u),10);if(_>65535)throw new d("Invalid port");i.E7=_===Ce[i.fP]?null:_,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.fP="file",47===v||92===v?e=14:n&&"file"===n.fP?We===v?(i.Iet=n.Iet,i.Net=n.Net.slice(),i.Aet=n.Aet):63===v?(i.Iet=n.Iet,i.Net=n.Net.slice(),i.Aet="",e=19):35===v?(i.Iet=n.Iet,i.Net=n.Net.slice(),i.Aet=n.Aet,i.Eet="",e=20):(Ue(c.slice(f))||(i.Iet=n.Iet,i.Net=n.Net.slice(),Fe(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.fP&&!Ue(c.slice(f))&&(Ge(n.Net[0])?i.Net.push(n.Net[0]):i.Iet=n.Iet),e=17,f-=1);break;case 15:if(We===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Ye(u))e=17;else if(0===u.length){if(i.Iet=se,null!==r)return;e=16}else{var k=ce(Ur(u),Be(i));if(0===k.z2&&"localhost"===k.pet&&(k=se),i.Iet=k,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Be(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Aet="",e=19):null===r&&35===v?(i.Eet="",e=20):We!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(We===v||47===v||Be(i)&&92===v||null===r&&(63===v||35===v)){var M=Ur(u);if(ze(M)?(Fe(i),47===v||Be(i)&&92===v||i.Net.push("")):!Oe(M)||47===v||Be(i)&&92===v?Oe(M)||("file"===i.fP&&0===i.Net.length&&Ye(u)&&(se!==i.Iet&&null!==i.Iet&&(i.Iet=se),u[1]=58,M=Ur(u)),i.Net.push(M)):i.Net.push(""),u.length=0,"file"===i.fP&&(We===v||63===v||35===v))for(;i.Net.length>1&&""===i.Net[0];)i.Net.shift();63===v?(i.Aet="",e=19):35===v&&(i.Eet="",e=20)}else u.push.apply(u,te(v,Kr));break;case 18:63===v?(i.Aet="",e=19):35===v?(i.Eet="",e=20):We!==v&&(i.Net[0]+=Ur(te(v,Zr)));break;case 19:null===r&&35===v?(i.Eet="",e=20):We!==v&&(i.Aet+=Ur(te(v,Be(i)?$r:qr)));break;case 20:We===v||0===v||(i.Eet+=Ur(te(v,Hr)))}f++}return i}function Ke(t,n,i,r){try{He(t,n,i,r)}catch(t){}}var Je=function(){this.fP="",this.bet="",this.Tet="",this.Iet=null,this.E7=null,this.Net=[],this.Aet=null,this.Eet=null,this.Det=!1};function qe(t){switch(t.fP){case"blob":var n;try{n=He(t.Net[0],null)}catch(t){return Le}return qe(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+he(n)+(null===i?"":":"+i)}(t.fP,t.Iet,t.E7);default:return Le}}var $e,tu,nu,iu,ru,eu,uu,su=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof su&&"object"==typeof t.Ju}(n))r=n.Ju;else try{r=He(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{i=He(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var e=i.Aet;this.Ju=i,this.Aet=function(t){var n=new Te;return null!==t&&Me(n,t),n}(e),this.Aet.Ju=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&$i(t.prototype,n),i&&$i(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.fP+":";if(null!==t.Iet?(i+="//",Pe(t)&&(i+=t.bet,""!==t.Tet&&(i+=":"+t.Tet),i+="@"),i+=he(t.Iet),null!==t.E7&&(i+=":"+t.E7)):null===t.Iet&&"file"===t.fP&&(i+="//"),t.Det)i+=t.Net[0];else for(var r=0,e=t.Net;r<e.length;r++)i+="/"+e[r];return null!==t.Aet&&(i+="?"+t.Aet),n||null===t.Eet||(i+="#"+t.Eet),i}(this.Ju)},set:function(t){var n;try{n=He(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Ju=n,ke(this.Aet);var i=this.Ju.Aet;null!==i&&Me(this.Aet,i)}},{key:"origin",get:function(){return qe(this.Ju)}},{key:"protocol",get:function(){return this.Ju.fP+":"},set:function(t){Ke(t+":",null,this.Ju,0)}},{key:"username",get:function(){return this.Ju.bet},set:function(t){Ve(this.Ju)||(this.Ju.bet=ne(t,Jr))}},{key:"password",get:function(){return this.Ju.Tet},set:function(t){Ve(this.Ju)||(this.Ju.Tet=ne(t,Jr))}},{key:"host",get:function(){var t=this.Ju,n=t.Iet;if(null===n)return"";var i=t.E7,r=he(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ju.Det||Ke(t,null,this.Ju,10)}},{key:"hostname",get:function(){var t=this.Ju.Iet;return null===t?"":he(t)},set:function(t){this.Ju.Det||Ke(t,null,this.Ju,11)}},{key:"port",get:function(){var t=this.Ju.E7;return null===t?"":""+t},set:function(t){Ve(this.Ju)||(""===t?this.Ju.E7=null:Ke(t,null,this.Ju,12))}},{key:"pathname",get:function(){var t=this.Ju.Net;return this.Ju.Det?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ju.Det||(this.Ju.Net.length=0,Ke(t,null,this.Ju,16))}},{key:"search",get:function(){var t=this.Ju.Aet;return null===t||""===t?"":"?"+t},set:function(t){t=ye(t);var n=this.Ju;if(""===t)return n.Aet=null,void ke(this.Aet);"?"===t[0]&&(t=t.slice(1)),n.Aet="",Ke(t,null,n,19),Me(this.Aet,t)}},{key:"searchParams",get:function(){return this.Aet}},{key:"hash",get:function(){var t=this.Ju.Eet;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ju.Eet="",Ke(t,null,this.Ju,20)):this.Ju.Eet=null}}]),t}();function ou(t){return t.document&&t.document.baseURI||t.location.href||""}function au(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function cu(t){for(var n;zn(n=t.firstChild);)t.removeChild(n)}function hu(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function fu(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function vu(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=hu(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&fu(t,(i+" "+n).trim())}}function du(t){t.stopPropagation()}function lu(t,n){jn.wk&&jn.pk<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function gu(t,n){var i=n.style;if(i)for(var r=0,e=l.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function wu(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function yu(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function Au(t){t.removeAttribute("title")}function mu(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}function pu(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}function _u(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function ku(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Mu(){return void 0!==u?u.createElement("video"):void 0}function bu(){return uu||(uu=Mu()),uu}wt(),C(),wt(),C(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),mt(),wt(),C(),wt(),C();var Tu=!!("ontouchstart"in self||self.DocumentTouch&&u instanceof self.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Nu=bu(),Du=!(!Nu||!Nu.webkitShowPlaybackTargetPicker),Iu=function(){function t(){this.Let=void 0,this.Fet=!1,this.Je=Tu,this.Qs=!1,this.Mtt=!0}var n=t.prototype;return n.xet=function(){return 0},n.Uet=function(t,n){return!0},n.Qet=function(t){return t>=2*Ki},At(t,[{key:"ket",get:function(){return void 0===this.Let&&(this.Let=this.xet()),this.Let}},{key:"Cet",get:function(){return!jn.Xk}},{key:"Oet",get:function(){if(e.screen)return{width:e.screen.width,height:e.screen.height}}},{key:"h5",get:function(){return e.devicePixelRatio||1}},{key:"jet",get:function(){return Du}},{key:"G3",get:function(){return!1}},{key:"P3",get:function(){return!0}},{key:"ep",get:function(){return jn.zk||jn.Ga}},{key:"Ret",get:function(){return!jn.Ga}},{key:"DR",get:function(){return!0}},{key:"op",get:function(){return!0}},{key:"rp",get:function(){return!1}},{key:"Pet",get:function(){}},{key:"zet",get:function(){return!0}},{key:"D0",get:function(){return!1}},{key:"Bet",get:function(){return jn.bk}}]),t}();wt(),C();var Eu=function(){var t=Mu();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(jn.QE)return!1;var t=Mu();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Su=function(t){function n(n){var i;return(i=t.call(this)||this).Yet=n,i.Yet&&(i.Fet=i.Yet.Fet,i.Je=i.Yet.Je,i.Mtt=Eu&&i.Yet.Mtt),i}kt(n,t);var i=n.prototype;return i.xet=function(){return this.Yet?this.Yet.ket:t.prototype.xet.call(this)},i.Uet=function(n,i){return this.Yet?this.Yet.Uet(n,i):t.prototype.Uet.call(this,n,i)},i.Qet=function(n){return this.Yet?this.Yet.Qet(n):t.prototype.Qet.call(this,n)},At(n,[{key:"Pet",get:function(){var t;return null==(t=this.Yet)?void 0:t.Pet}},{key:"zet",get:function(){var t,n;return null==(n=null==(t=this.Yet)?void 0:t.zet)||n}}]),n}(Iu),Lu=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fet=!0,i.Qs=!0,i}return kt(n,t),At(n,[{key:"rp",get:function(){return jn.Ga}}]),n}(Su);wt(),C();var Cu=function(){function t(t){this.L1=ju(t)}var n=t.prototype;return n.E1=function(){return new this.L1},n.C1=function(t){return this.L1.isTypeSupported(t)},t}();function ju(t){return t&&Zn(iu.ManagedMediaSource)?iu.ManagedMediaSource:Zn(iu.MediaSource)?iu.MediaSource:void 0}var xu=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.xet=function(){return ju(!0)?t.prototype.xet.call(this):1},At(n,[{key:"rp",get:function(){return!0}}]),n}(Lu);wt(),C(),mt(),Mt();var Ou=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Uet=function(n,i){return t.prototype.Uet.call(this,n,i)},At(n,[{key:"G3",get:function(){return jn.pk<3}},{key:"P3",get:function(){return jn.pk>=3}},{key:"Oet",get:function(){var t=this;return e.tizen&&!this.Get&&e.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Get={width:i,height:r})})),this.Get}},{key:"D0",get:function(){return jn.pk<3}}]),n}(Su);wt(),C(),Mt();var zu=function(t){function n(){return t.call(this)}return kt(n,t),n}(Iu);wt(),C(),mt(),Mt();var Ru=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Uet=function(t,n){if(t&&t.Vet&&n&&n.Vet){var i=Bu(t.Vet,"mp4a.40.2")&&Bu(n.Vet,"mp4a.40.5"),r=Bu(t.Vet,"mp4a.40.5")&&Bu(n.Vet,"mp4a.40.2"),e=Bu(t.Vet,"mp4a.40.2")&&Bu(n.Vet,"mp4a.40.34"),u=Bu(t.Vet,"mp4a.40.34")&&Bu(n.Vet,"mp4a.40.2"),s=Bu(t.Vet,"mp4a.40.5")&&Bu(n.Vet,"mp4a.40.34"),o=Bu(t.Vet,"mp4a.40.34")&&Bu(n.Vet,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},At(n,[{key:"Pet",get:function(){if(jn.TE)return 4096}}]),n}(zu);function Bu(t,n){return t.indexOf(n)>-1}wt(),C(),Mt();var Pu=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Qet=function(t){return t>=2},n}(zu);wt(),C(),Mt();var Uu=function(t){function n(){var n;return(n=t.call(this)||this).Fet=jn.Uk>=11,n.Mtt=jn.zk&&!(jn.Ga&&jn.Uk<10),n}return kt(n,t),n}(zu);wt(),C(),mt(),Mt();var Qu=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),At(n,[{key:"Oet",get:function(){var t=this;return e.webOS&&!this.Get&&e.webOS.deviceInfo((function(n){t.Get={width:n.screenWidth,height:n.screenHeight}})),this.Get}},{key:"DR",get:function(){return!1}}]),n}(Su);wt(),C(),mt(),Mt();var Yu=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),At(n,[{key:"zet",get:function(){return!jn.NE||(jn.dk?92!==jn._k:jn.hk>=100)}}]),n}(zu);wt(),C(),mt(),Mt();var Gu=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),At(n,[{key:"rp",get:function(){return!0}}]),n}(Su),Fu=function(){function t(){this.qet=new Vu,this.Jet=function(){var t=function(){if(jn.Ok)return new Ru;if(jn.Sk||jn.Ik)return new Pu;if(jn.zk)return new Uu;if(jn.nk)return new Yu;return new zu}();return jn.Ga?new xu(t):jn.Qs?new Lu(t):jn.wk?new Ou(t):jn.yk?new Qu(t):jn.TE?new Gu(t):new Su(t)}(),this.Ket=Wu(),self.performance&&self.performance.now?this.m_=function(){return self.performance.now()}:this.m_=Xi}var n=t.prototype;return n.Wet=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ui.apply(void 0,Lt(n))},n.vp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];si.apply(void 0,Lt(n))},n.Het=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];oi.apply(void 0,Lt(n))},n.Xet=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ai.apply(void 0,[t].concat(Lt(i)))},n.A_=function(t,n){return a(t,n)},n.f1=function(t,n){return h(t,n)},n.p_=function(t){c(t)},n.g1=function(t){f(t)},n.IO=function(){return this.Zet.IO()},n.pO=function(){return this.Zet.pO()},n.yO=function(){return this.Zet.yO()},n.AO=function(){return this.Zet.AO()},n.vO=function(){return this.Zet.vO()},n.bO=function(t,n){return this.Zet.bO(t,n)},n.mO=function(t){return this.Zet.mO(t)},n.Dh=function(t,n){var i;return void 0===n&&(n=ou(iu)),i="object"!=typeof n||n instanceof su?n:n.href,new su(t,i)},n.wp=function(t,n){if(void 0===n&&(n=ou(iu)),this.Ket){var i=Yn(n)?n:n.toString();return new self.URL(t,i).href}return this.Dh(t,n).href},At(t,[{key:"AR",get:function(){return this.qet}},{key:"Ys",get:function(){return this.Jet}},{key:"np",get:function(){return{hp:o&&o.userAgent.match(/Android /i)?"Android":"other",sp:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"dH",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"$et",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),t}(),Vu=function(){function t(){}return At(t,[{key:"yR",get:function(){return o.oscpu}},{key:"Ys",get:function(){return o.platform}},{key:"MR",get:function(){return o.vendor}},{key:"bR",get:function(){return o.vendorSub}}]),t}();function Wu(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function Xu(){return Xu=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Xu.apply(this,arguments)}function Zu(){var t=l.create(null);return t.t_=void 0,delete t.t_,t}function Hu(){return new ts}function Ku(){return new is}function Ju(t){var n=Hu();for(var i in t)xn.call(t,i)&&n.set(i,t[i]);return n}function qu(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}wt(),C(),Ot(),wt(),C(),Pt(),wt(),C(),mt(),Ft();var $u="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ts=$u||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=l.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=Zu(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=Zu(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var ns,is=$u||function(){var t=function(){function t(t,n){this.i_=t,this.e_=n}return t.prototype.next=function(){var t=this.i_.next();return t.done?t:{value:this.e_(t.value),done:!1}},t}();return function(){function n(){this.mf=Hu()}var i=n.prototype;return i.get=function(t){return this.mf.get(""+t)},i.set=function(t,n){return this.mf.set(""+t,n),this},i.has=function(t){return this.mf.has(""+t)},i.delete=function(t){return this.mf.delete(""+t)},i.clear=function(){this.mf.clear()},i.keys=function(){return new t(this.mf.keys(),(function(t){return Number(t)}))},i.values=function(){return this.mf.values()},i.entries=function(){return new t(this.mf.entries(),(function(t){var n=Gt(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.mf.forEach((function(n,i){t(n,Number(i))}))},At(n,[{key:"size",get:function(){return this.mf.size}}]),n}()}();wt(),C(),wt(),C(),function(t){t.Dp="9a04f079-9840-4286-ab92-e65be0885f95",t.Ep="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Lp="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.kp="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(ns||(ns={}));var rs,es="urn:mpeg:dash:mp4protection:2011",us="cenc",ss="sinf",os="skd",as="9a04f079-9840-4286-ab92-e65be0885f95",cs="urn:uuid:"+as,hs="com.microsoft.playready",fs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",vs="urn:uuid:"+fs,ds="com.widevine.alpha",ls="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",gs="urn:uuid:"+ls,ws="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ys="urn:uuid:"+ws,As="com.apple.fps.1_0",ms="com.apple.streamingkeydelivery",ps="identity";wt(),C(),function(t){t.Dp="playready",t.Ep="widevine",t.kp="fairplay",t.Lp="clearkey",t.xp="aes128"}(rs||(rs={}));var _s={Av:rs.Dp,dL:hs,fL:"cenc",_L:as,gL:cs,wL:"PlayReady"},ks={Av:rs.Ep,dL:ds,fL:"cenc",_L:fs,gL:vs,wL:"Widevine"},Ms={Av:rs.kp,dL:As,fL:"skd",_L:ws,gL:ys,wL:"FairPlay"},bs={Av:rs.kp,dL:"com.apple.fps",fL:"sinf",_L:ws,gL:ys,wL:"FairPlay"},Ts={Av:rs.Lp,dL:"org.w3.clearkey",fL:"cenc",_L:ls,gL:gs,wL:"ClearKey"},Ns=[_s,ks,Ms,Ts],Ds=[_s,ks,bs,Ts];function Is(t){return Ns.filter((function(n){return n.gL===t.toLowerCase()}))}wt(),C(),Ct();var Es="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Ss(t,n){return zn(t)&&-1!==t.indexOf(n)}var Ls="function"==typeof String.prototype.startsWith?function(t,n){return zn(t)&&t.startsWith(n)}:function(t,n){return zn(t)&&t.substr(0,n.length)===n},Cs="function"==typeof String.prototype.endsWith?function(t,n){return zn(t)&&t.endsWith(n)}:function(t,n){return zn(t)&&t.substr(t.length-n.length,n.length)===n};function js(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Os="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},zs="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Os(r,e/r.length)),r.slice(0,e)+t)},Rs=(String.prototype.padEnd,16384),Bs="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Rs?(n=String).fromCodePoint.apply(n,Lt(t)):Us(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ps(n)};function Ps(t){var n;return t.length<=Rs?(n=String).fromCharCode.apply(n,Lt(t)):Us(t,String.fromCharCode)}function Us(t,n){for(var i=[],r=0;r<t.length;r+=Rs)i.push(n.apply(void 0,Lt(t.slice(r,r+Rs))));return i.join("")}function Qs(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var Ys=jn.nk&&jn.hk>=42||jn.Ok&&jn.Rk>=38||jn.Sk||jn.Ek||jn.Fk&&jn.Gk>=29;function Gs(t,n){return Ss(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Xu({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Xu({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Fs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Vs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ws,Xs=function(){function t(t){this.MO=Hu(),this.DO=void 0,this.SO=t}var n=t.prototype;return n.vO=function(){return this.mO(ks)},n.pO=function(){return this.mO(Ts)},n.AO=function(){return this.mO(_s)},n.yO=function(){return this.mO(Ms)},n.mO=function(t){var n=t.gL,i=this.MO.get(n);if(i)return i;var r=this.bO(t,'video/mp4; codecs="avc1.42000a"');return this.MO.set(n,r),r},n.bO=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.SO.TO(t.dL,[Gs(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.SO.TO(t.dL,[Gs(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.IO=function(){return this.DO||(this.DO=this.EO()),this.DO},n.EO=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return"https:"===ru.protocol?[2,!1]:Ys?[4,t.pO()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function Zs(t,n){return Ks(t.slice(),n)}function Hs(t,n){var i=Ks(t,n);return i!==t&&Js(i,void 0,t.length,t),t}function Ks(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Js(i,n,u,e);var s=i;i=e,e=s}return i}function Js(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}wt(),C(),wt(),C(),Ot(),Pt(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),Pt(),wt(),C(),Wt(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),Ot(),Ct(),Pt(),wt(),C(),wt(),C(),function(t){t[t.Zr=0]="Zr",t[t.Jf=1]="Jf",t[t.$f=-1]="$f"}(Ws||(Ws={}));var qs=function(t,n){return(0|t)-(0|n)},$s=function(t,n){return t===n?0:t<n?-1:t>n?1:A(t)?A(n)?0:1:-1};function to(t,n,i){return Pi(t,n,i)?0:$s(t,n)}var no=function(t,n){return Ui(t,n)?0:$s(t,n)};var io="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=so(t,n);return-1===i?void 0:t[i]},ro=io,eo="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=oo(t,n);return-1===i?void 0:t[i]},uo=eo,so="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},oo="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function ao(t,n){var i=t.indexOf(n);return-1!==i&&(co(t,i),!0)}function co(t,n){0===n?t.shift():t.splice(n,1)}function ho(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function fo(t,n){return-1!==t.indexOf(n)}function vo(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function lo(t){t.length=0}function go(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!fo(n,t[i]))return!1}return!0}Array.prototype.flat;var wo="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Lt(n(t[r],r)))}return i};function yo(t,n){return mo(t,(function(t,i){return $s(n(t),n(i))}))}function Ao(t,n){return po(t,(function(t,i){return $s(n(t),n(i))}))}function mo(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function po(t,n){return mo(t,(function(t,i){return n(i,t)}))}function _o(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function ko(t,n){return K.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Mo(t,n){return bo.apply(this,arguments)}function bo(){return bo=xt((function(t,n){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),bo.apply(this,arguments)}function To(){return To=xt((function(t,n){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),To.apply(this,arguments)}function No(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}wt(),C(),mt(),Mt(),wt(),C(),Wt(),mt(),Mt();var Do=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Do.prototype=l.create(v.prototype)).constructor=Do;var Io=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(Vt(r),r.constructor),r}return kt(n,t),At(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Do);wt(),C(),mt();var Eo=function(){function t(){this.n_=!1,this.r_=!1,this.o_=[],this.a_=[]}var n=t.prototype;return n.s_=function(){if(!this.n_&&!this.r_){this.n_=!0;for(var t=0,n=this.o_.slice();t<n.length;t++){(0,n[t])()}this.h_()}},n.h_=function(){if(!this.r_){this.r_=!0;for(var t=0,n=this.a_.slice();t<n.length;t++){(0,n[t])()}lo(this.o_),lo(this.a_)}},n.u_=function(t){this.r_||this.o_.push(t)},n.c_=function(t){this.r_||ao(this.o_,t)},n.l_=function(t){this.r_||this.a_.push(t)},n.d_=function(t){this.r_||ao(this.a_,t)},t}(),So=function(){function t(){this.__=new Eo}var n=t.prototype;return n.g_=function(){this.__.s_()},n.h_=function(){this.__.h_()},n.w_=function(t){var n=this.__;if(!n.n_)if(t.n_)n.s_();else if(!n.r_&&!t.r_){var i=function(){r(),n.s_()},r=function(){t.c_(i),t.d_(r),n.c_(i),n.d_(r)};t.u_(i),t.l_(r),n.u_(i),n.l_(r)}},n.v_=function(){var n=new t,i=new t,r=n.f_,e=i.f_,u=this.__,s=function(){r.n_&&e.r_||e.n_&&r.r_?u.s_():r.r_&&e.r_&&u.h_()};r.u_(s),e.u_(s),r.l_(s),e.l_(s),n.w_(u),i.w_(u);return u.l_((function(){r.c_(s),e.c_(s),r.d_(s),e.d_(s)})),[n,i]},At(t,[{key:"f_",get:function(){return this.__}}]),t}(),Lo=function(t){function n(n,i){return t.call(this,n||"Aborted",i)}return kt(n,t),At(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Io);function Co(t){return t instanceof v&&"AbortError"===t.name}function jo(t){if(t&&t.n_)throw new Lo}function xo(t){if(Co(t))throw t}function Oo(t){if(!Co(t))throw t}function zo(t,n){return n?new K((function(i,r){if(n.n_)return t.catch(Hn),r(new Lo);var e=function(){n.c_(e),r(new Lo)};n.u_(e),t.then((function(t){n.c_(e),i(t)}),(function(t){n.c_(e),r(t)}))})):t}function Ro(t,n){return t.then((function(t){return n.g_(),t}),(function(t){throw n.g_(),t}))}function Bo(t,n){var i=new So;return n&&i.w_(n),Ro(t(i.f_),i)}wt(),C(),Ot(),Pt();var Po=K.resolve(),Uo="function"==typeof queueMicrotask?queueMicrotask:function(t){Po.then(t)};function Qo(t){t.then(Hn,Hn)}function Yo(t){return Go.apply(this,arguments)}function Go(){return Go=xt((function(t){var n;return zt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,K.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,K.all(t.map((function(t){return t.catch(Hn)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),Go.apply(this,arguments)}function Fo(t,n){return new K((function(i,r){if(void 0!==n&&n.n_)r(new Lo);else{var e=on.A_((function(){void 0!==n&&n.c_(u),i()}),t),u=function(){on.p_(e),r(new Lo)};void 0!==n&&n.u_(u)}}))}function Vo(t,n){return Bo((function(i){return K.race([t,Fo(n,i).then((function(){throw new v("Timeout")}))])}))}function Wo(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Xo=function(){function t(t){var n=this;this.M_=Zu(),this.S_=void 0,this.b_=0,this.Ds=function(t){n.Co(t)},this.N_=null!=t?t:this}var n=t.prototype;return n.yn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.y_(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.y_(r,n)}},n.y_=function(t,n){var i=this.M_[t];void 0===i?this.M_[t]=n:"function"==typeof i?this.M_[t]=[i,n]:0===this.b_?i.push(n):this.M_[t]=i.concat(n)},n.T_=function(t){if("function"==typeof t){var n=this.S_;void 0===n?this.S_=t:"function"==typeof n?this.S_=[n,t]:0===this.b_?n.push(t):this.S_=n.concat(t)}},n.Vo=function(){this.M_=Zu(),this.S_=void 0},n.Co=function(t){this.b_++;var n=this.M_[t.type],i=this.S_;void 0!==n&&Wo(this.N_,t,n),void 0!==i&&Wo(this.N_,t,i),this.b_--},n.fn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.I_(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.I_(r,n)}},n.I_=function(t,n){var i=this.M_[t];void 0!==i&&("function"==typeof i?i===n&&(this.M_[t]=void 0):0===this.b_?ao(i,n):this.M_[t]=ho(i,n))},n.D_=function(t){if("string"==typeof t)this.M_[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.M_[i]=void 0}},n.E_=function(t){var n=this.S_;void 0!==n&&("function"==typeof n?n===t&&(this.S_=void 0):0===this.b_?ao(n,t):this.S_=ho(n,t))},n.k_=function(t,n){var i=this;return new K((function(r,e){if(n&&n.n_)return e(new Lo);var u=function(t){o(),r(t)},s=function(){o(),e(new Lo)},o=function(){i.fn(t,u),n&&n.c_(s)};i.yn(t,u),n&&n.u_(s)}))},t}(),Zo=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Co=function(n){var i=this;Uo((function(){t.prototype.Co.call(i,n)}))},n}(Xo),Ho=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.T_=function(n){t.prototype.T_.call(this,n)},i.E_=function(n){t.prototype.E_.call(this,n)},n}(Xo);wt(),C(),Mt(),wt(),C();var Ko,Jo=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},qo=["cenc"],$o=["cbcs","cbcs-1-9"],ta=function(t){function n(n){var i;return(i=t.call(this,"vL")||this).mL=n,i}return kt(n,t),n}(Jo),na=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"pL")||this).mL=n,u.AL=i,u.pL=r,u.yL=e,u}return kt(n,t),n}(Jo),ia=function(t){function n(){return t.call(this,"lt")}return kt(n,t),n}(Jo);!function(t){t.Cv="ML",t.bL="TL"}(Ko||(Ko={}));var ra=function(t){function n(n,i){var r;return(r=t.call(this,"ML")||this).fL=n,r.SL=i,r}return kt(n,t),n}(Jo),ea=function(t){function n(){return t.call(this,"TL")}return kt(n,t),n}(Jo);wt(),C(),mt();var ua=new m([0]).buffer,sa=function(){function t(){this.Xu=[]}var n=t.prototype;return n.NL=function(t){for(var n=0,i=this.Xu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.IL=function(t){for(var n=0,i=this.Xu;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.DL=function(t,n){this.Xu.forEach((function(n){return t(n[1],n[0])}),n)},n.EL=function(t,n){this.Xu.push([t,n])},n.kL=function(){lo(this.Xu)},At(t,[{key:"By",get:function(){return this.Xu.length}}]),t}();wt(),C(),mt(),wt(),C(),wt(),C();var oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),aa=16383,ca=/[\t\n\f\r ]/g;function ha(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:fa()}function fa(){throw new v("Invalid base64 input")}function va(t){var n=t;ca.test(n)&&(n=n.replace(ca,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return fa();for(var e,u=0===r?0:4-r,s=new m(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=ha(n.charCodeAt(a))<<18|ha(n.charCodeAt(a+1))<<12|ha(n.charCodeAt(a+2))<<6|ha(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=ha(n.charCodeAt(a))<<2|ha(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=ha(n.charCodeAt(a))<<10|ha(n.charCodeAt(a+1))<<4|ha(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function da(t,n,i){return oa[t>>2]+oa[(3&t)<<4|n>>4]+oa[(15&n)<<2|i>>6]+oa[63&i]}function la(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(da(t[e],t[e+1],t[e+2]));return r.join("")}function ga(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=aa)r.push(la(t,u,g.min(e,u+aa)));if(1===i){var s=t[n-1];r.push(oa[s>>2]+oa[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(oa[o>>2]+oa[(3&o)<<4|a>>4]+oa[(15&a)<<2]+"=")}return r.join("")}function wa(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}var ya=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Aa=ArrayBuffer.isView||function(t){return t&&fo(ya,On.call(t))};function ma(t,n){return t===n||t.byteLength===n.byteLength&&pa(new m(t),new m(n))}function pa(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function _a(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return ka(t,n)}function ka(t,n){for(var i=new m(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function Ma(t,n,i){var r=new m(t.byteLength+n.byteLength),e=pc(t,0,i),u=pc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function ba(t){return va(t).buffer}function Ta(t){return ga(new m(t))}function Na(t){return ga(vc(t))}function Da(t,n){var i=n.Ku,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.KA(1),(r&e)===e?1:0}function Ia(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Da(t,n);return r}wt(),C(),mt();var Ea=function(){function t(t){void 0===t&&(t=0),this.Zu=t}var n=t.prototype;return n.KA=function(t){this.Zu+=t},n.JA=function(t){this.Zu=t},n.$A=function(){return new t(this.Ku)},At(t,[{key:"Ku",get:function(){return this.Zu}}]),t}();var Sa=g.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function La(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ca(t,n){return t>>n&63|128}function ja(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(La(t),n.push(t>>12&15|224),n.push(Ca(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ca(t,12)),n.push(Ca(t,6))),n.push(63&t|128)):n.push(t)}function xa(t,n){if(n.Ku>=t.length)throw new v("Invalid byte index");var i=255&t[n.Ku];if(n.KA(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Oa(t,n){var i=n.Ku;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.KA(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|xa(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|xa(t,n)<<6|xa(t,n);if(u>=2048)return La(u),u;throw new v("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|xa(t,n)<<12|xa(t,n)<<6|xa(t,n);if(s>=65536&&s<=1114111)return s}throw new v("Invalid UTF-8 detected")}wt(),C(),wt(),C();var za=65279;var Ra=[128,64,32,16,8,4,2,1],Ba=function(){function t(t){this.sy=t}return t.prototype.ey=function(t){return Pa(this.sy,t)},t}();function Pa(t,n){return(t&n)===n}function Ua(t,n){return Pa(t,Ra[n])}function Qa(t,n){var i=t.getUint8(n.Ku);return n.KA(1),i}function Ya(t,n,i){t.setUint8(n.Ku,i),n.KA(1)}function Ga(t,n,i){var r=pc(Mc(t),n.Ku,n.Ku+i);return n.KA(r.byteLength),r}function Fa(t,n,i){Mc(t).set(Mc(i),n.Ku),n.KA(i.byteLength)}function Va(t,n,i){return n.Ku+i<=t.byteLength}function Wa(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Qa(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Qa(t,n);return r}(t,n,i)}function Xa(t,n){var i=t.getUint8(n.Ku);return n.KA(1),i}function Za(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Ku,i);return n.KA(2),r}function Ha(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Ku,i,r),n.KA(2)}function Ka(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Ku,i);return n.KA(4),r}function Ja(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Ku,i,r),n.KA(4)}function qa(t,n,i){void 0===i&&(i=!1);var r=Ka(t,n,i),e=Ka(t,n,i),u=i?e:r,s=i?r:e;return xi.fromBits(s,u,!0)}function $a(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;Ja(t,n,r?u:e,r),Ja(t,n,s,r)}function tc(t,n){return rc(t,n)}function nc(t,n,i){return Ps(Ic(Ga(t,n,i)))}function ic(t,n){var i,r=Qa(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Qa(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Qa(t,n))+(63&Qa(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Qa(t,n))+64*(63&Qa(t,n))+(63&Qa(t,n))),i}function rc(t,n){return ec(t,n,!0)}function ec(t,n,i){for(var r=[];n.Ku<t.byteLength;){var e=Qa(t,n);if(i&&!e)break;r.push(e)}return Ps(r)}function uc(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Ya(t,n,i.charCodeAt(e))}}function sc(t,n){if(n.Ku+2<=t.byteLength){var i=t.getUint8(n.Ku),r=t.getUint8(n.Ku+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function oc(t,n){var i=sc(t,n);return void 0!==i&&n.KA(2),ac(t,n,!0===i)}function ac(t,n,i){return void 0===i&&(i=!1),cc(t,n,i,!0)}function cc(t,n,i,r){for(var e=[];n.Ku+2<=t.byteLength;){var u=Za(t,n,i);if(r&&!u)break;e.push(u)}return Ps(e)}function hc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Ha(t,n,i.charCodeAt(u),r)}}function fc(t){return ec(kc(t),new Ec,!1)}function vc(t){var n=new m(t.length);return uc(kc(n),new Ec,t),n}function dc(t,n){return void 0===n&&(n=!1),cc(kc(t),new Ec,n,!1)}function lc(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return hc(kc(i),new Ec,t,n),i}function gc(t,n){return n.Ku+3<=t.byteLength&&(239===t.getUint8(n.Ku)&&187===t.getUint8(n.Ku+1)&&191===t.getUint8(n.Ku+2))}function wc(t,n){return function(t,n,i){var r=[],e=gc(t,n);e&&n.KA(3);for(;n.Ku<t.byteLength;){var u=ic(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return Bs(r)}(t,n,!0)}function yc(t){return function(t){return Bs(t)}(function(t,n){var i,r=[],e=new Ec;if(!n){if(!1===(i=Oa(t,e)))return r;i===za||r.push(i)}for(;!1!==(i=Oa(t,e));)r.push(i);return r}(Mc(t)))}function Ac(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)ja(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function mc(t,n){if(gc(t,n))return wc(t,n);if(void 0!==sc(t,n))return oc(t,n);if(n.Ku+4<=t.byteLength){if(0===t.getUint8(n.Ku)&&0===t.getUint8(n.Ku+2))return ac(t,n,!1);if(0===t.getUint8(n.Ku+1)&&0===t.getUint8(n.Ku+3))return ac(t,n,!0)}return wc(t,n)}function pc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function _c(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function kc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mc(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function bc(t){return t instanceof ArrayBuffer||Aa(t)}function Tc(t){return t instanceof ArrayBuffer?new m(t):Mc(t)}function Nc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Dc(pc(t,n,i))}function Dc(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}function Ic(t){return[].slice.call(t)}var Ec=function(){function t(t){void 0===t&&(t=0),this.Zu=t}var n=t.prototype;return n.KA=function(t){this.Zu+=t},n.JA=function(t){this.Zu=t},n.$A=function(){return new t(this.Ku)},n.oy=function(){return new Ea(this.Ku<<3)},At(t,[{key:"Ku",get:function(){return this.Zu}}]),t}();function Sc(t){var n=t.toLowerCase(),i=0,r=0;Ls(n,"0x")&&(n=n.substring(2));var e=new m(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=w(n[0],16));i<n.length;i+=2)e[r++]=w(n.substr(i,2),16);return e}function Lc(t){return.001*t}wt(),C();var Cc=function(){function t(){var t=this;this.OL=new K((function(n,i){t.lf=n,t.CL=i}))}var n=t.prototype;return n.LL=function(t){this.lf&&(this.lf(t),this.h_())},n.xL=function(t){this.CL&&(this.CL(t),this.h_())},n.g_=function(){this.OL.catch(Hn),this.xL(new Lo)},n.w_=function(t){var n=this;t.then((function(t){return n.LL(t)}),(function(t){return n.xL(t)}))},n.h_=function(){this.lf=void 0,this.CL=void 0},t}();function jc(){return new m([8,4]).buffer}function xc(t,n){return t===hs?function(t){if(t.byteLength<2*Oc.length)return t;var n=new DataView(t,0,2*Oc.length),i=dc(n,!0);if(i===Oc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Ta(t)+i;return lc(r,!0).buffer}(t)}(n):n}wt(),C();var Oc="<PlayReady";wt(),C(),wt(),C(),Mt();var zc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).jL=i,u.RL=r,u}return kt(n,t),n}(Io);wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C();var Rc=function(t,n){return(Rc=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Bc(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Rc(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function Pc(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C();!function(){function t(t,n){this.PL=t,this.zL=n}t.prototype.get=function(t){var n=this.PL.get(t);if(0===this.zL||void 0===n)return n;var i=this.PL.get(t+1)||0,r=n&(1<<8-this.zL)-1,e=i>>8-this.zL;return(r<<this.zL)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.PL.get(g.floor((t+this.zL)/8));if(void 0!==n)return(n&1<<7-this.zL-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.PL.bitLength-this.zL},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.PL.length},enumerable:!1,configurable:!0})}();wt(),C(),wt(),C();g.pow(2,-52);function Uc(t,n,i){return g.min(g.max(t,n),i)}function Qc(t,n){return t>>8-n}function Yc(t,n){return t&(1<<n)-1}var Gc=function(){function t(t){this.BL=t,this.UL=0,this.QL=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.UL+this.QL},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.UL===this.BL.length&&0===this.QL},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.UL,bit:this.QL}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.BL);return n.seek(this.UL,this.QL),n},t.prototype.canReadBits=function(t){return 8*this.UL+t+this.QL<=8*this.BL.length},t.prototype.canReadBytes=function(t){return 0===this.QL?this.UL+t<=this.BL.length:this.UL+t<this.BL.length},t.prototype.incBit=function(){this.QL++,this.QL>7&&(this.UL++,this.QL=0)},t.prototype.seek=function(t,n){this.UL=t,this.QL=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.BL.get(this.UL)>>7-this.QL&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.QL)return this.BL.get(this.UL++);var t=Yc(this.BL.get(this.UL),8-this.QL),n=Qc(this.BL.get(this.UL+1),this.QL);return this.UL++,t<<this.QL|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.QL&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.QL+t;this.UL+=n>>3,this.QL=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();wt(),C(),wt(),C(),wt(),C();var Fc=function(t,n){return t===n?0:t<n?-1:t>n?1:A(t)?A(n)?0:1:-1},Vc=function(){function t(){this.FL=[],this.YL=[],this.GL=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.YL.length)this.YL.push(0);else{var r=this.YL[this.YL.length-1]+this.FL[this.FL.length-1].length;this.YL.push(r)}this.FL.push(t.subarray(n,n+i)),this.GL+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.FL;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.FL=[],this.YL=[],this.GL=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.YL[n];return this.FL[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.FL.length<1)return-1;if(this.FL.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.FL[0];return"number"==typeof t?Pc(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=Pc(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=g.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.YL,t,Fc)},t.prototype.join=function(){if(1===this.FL.length)return this.FL[0];var t=new m(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.GL},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*g.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=Uc(n,0,this.length),e=Uc(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.FL[s],a=r,c=a-this.YL[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.YL[s],o=this.FL[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.FL.length-1,r=this.FL[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.FL[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),Wc=function(){function t(n){this.VL=n||t.BUFFER_CHUNK_SIZE,this.WL=!1,this.HL=new Vc,this.BL=new m(this.VL),this.XL=0,this.ZL=0,this.QL=7}return t.prototype.closeByte=function(){this.BL[this.XL++]=this.ZL,this.XL>=this.VL&&this.closeBuffer(),this.ZL=0,this.QL=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.XL&&(this.HL.pushRange(this.BL,0,this.XL),t&&(this.BL=new m(this.VL)),this.XL=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.QL},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.WL)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.WL=!0,this.HL},t.prototype.writeBit=function(t){if(this.WL)throw new v("Cannot write to a closed BitWriter.");this.ZL|=t<<this.QL,0===this.QL?this.closeByte():this.QL--},t.prototype.writeByte=function(t){if(this.WL)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.ZL=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.QL;this.ZL|=Qc(t,n+1),this.closeByte(),this.ZL=Yc(t,8-n)<<n+1,this.QL=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.WL)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.XL+t.length<=this.VL?(this.BL.set(t,this.XL),this.XL+=t.length,this.XL===this.VL&&this.closeBuffer()):(this.closeBuffer(),this.HL.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.QL;this.ZL|=Qc(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=Yc(t[i-1],8-n),e=Qc(t[i],n+1);this.ZL=r<<n+1|e,this.closeByte()}this.ZL=Yc(t[t.length-1],8-n)<<n+1,this.QL=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new m(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();wt(),C();var Xc=function(){function t(t){this.rb=new Vc,this.qL=t}return t.prototype.closeWriter=function(){void 0!==this.qL&&(this.rb=this.rb.concat(this.qL.close()),this.qL=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.qL&&(this.qL=new Wc),this.qL},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Zc=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Xc;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function Hc(t,n){return t instanceof xi?64===n:t<g.pow(2,n)}function Kc(t,n){return g.round(t*g.pow(2,n))}function Jc(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function qc(t,n){return t/g.pow(2,n)}wt(),C();var $c=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Hc(i,8))throw new v("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Bc(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.Kd},set:function(t){this.Kd=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Zc);wt(),C(),wt(),C();var th=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return Bc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Vc.from(this.data))},n}(Zc);wt(),C(),wt(),C();var nh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();wt(),C();var ih=16384;function rh(t){var n=t.length;if(n<=ih)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ih)i.push(String.fromCharCode.apply(String,t.slice(r,r+ih)));return i.join("")}var eh=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function uh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function sh(t,n,i){var r=dh(wh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function oh(t,n,i){return n.offset+i<=t.byteLength}function ah(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function ch(t,n,i){void 0===i&&(i=!1);var r=ah(t,n,i),e=ah(t,n,i),u=i?e:r,s=i?r:e;return xi.fromBits(s,u,!0)}function hh(t,n,i){return rh(function(t){return[].slice.call(t)}(sh(t,n,i)))}function fh(t,n){var i,r=uh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&uh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&uh(t,n))+(63&uh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&uh(t,n))+64*(63&uh(t,n))+(63&uh(t,n))),i}function vh(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=fh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return rh(n)}(r)}(t,n,!0)}function dh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function lh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function gh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wh(t){return new m(t.buffer,t.byteOffset,t.byteLength)}var yh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new nh(this.offset<<3)},t}();wt(),C();var Ah=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return uh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ah(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=ah(t,n,i),e=ah(t,n,i),u=i?e:r,s=i?r:e;return xi.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ch(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return sh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(ah(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return hh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return vh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function mh(t,n){return t.type===n}var ph=8;function _h(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=kh(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function kh(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!oh(t,n,ph)){return{complete:!1,neededOffset:u=n.offset+ph}}var r=ah(t,n),e=hh(t,n,4);if(1===r){if(!oh(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=ch(t,n).toNumber()}if("uuid"===e){if(!oh(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=hh(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Ah(lh(t,i,s),new yh(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Mh(t){return{version:t>>24,flags:new eh(16777215&t)}}function bh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function Th(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Nh(t){var n=t.nextUint32Array(9);return{a:qc(n[0],16),b:qc(n[1],16),u:qc(n[2],30),c:qc(n[3],16),d:qc(n[4],16),v:qc(n[5],30),x:qc(n[6],16),y:qc(n[7],16),w:qc(n[8],30)}}function Dh(t){return new th(t.type,dh(wh(t.data.data),t.data.cursor.offset))}var Ih=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return Bc(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.KL},set:function(t){this.KL=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}($c);function Eh(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new Ih(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Bc(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Ih);wt(),C(),wt(),C(),wt(),C();var Sh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.JL},set:function(t){if(!Hc(t,8))throw new v("Provided tag does not fit in 8 bits.");this.JL=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();wt(),C();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}Bc(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.$L},set:function(t){if(!Hc(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.$L=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.tx},set:function(t){if(!Hc(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.tx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ix},set:function(t){if(!Hc(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.ix=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.sx},set:function(t){if(!Hc(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.sx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.nx},set:function(t){if(!Hc(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.nx=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Sh);wt(),C();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}Bc(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Vc.from(this.data))}}(Sh);wt(),C(),wt(),C();var Lh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Bc(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Sh);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new Lh(e.fixed28BitMode),u}Bc(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.ox},set:function(t){if(!Hc(t,16))throw new v("Provided esId does not fit in 16 bits.");this.ox=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.hx},set:function(t){if(!Hc(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.hx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.ux},set:function(t){if(t&&!Hc(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.ux=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.lx},set:function(t){if(t&&!Hc(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.lx=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Sh);wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C();var Ch=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Bc(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(Zc),jh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Bc(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ch),xh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return Bc(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._x},set:function(t){if(!Hc(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this._x=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(jh),Oh=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return Bc(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.gx},set:function(t){if(!Hc(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.gx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.wx},set:function(t){if(!Hc(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.wx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.vx},set:function(t){if(!Hc(Kc(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.vx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Kc(this.sampleRate,16),32),this.extra&&Jc(n.writer,this.extra)},n}(xh);wt(),C();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Bc(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Hc(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Hc(t,32)})))throw new v("Not all entries can be represented in 32 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}($c);wt(),C();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Bc(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ax},set:function(t){if(!Hc(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ax=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.yx},set:function(t){if(!Hc(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.yx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Mx},set:function(t){if(!Hc(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Mx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.bx},set:function(t){if(!Hc(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.bx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Tx},set:function(t){if(!Hc(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Tx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Sx},set:function(t){if(!Hc(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Sx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Nx},set:function(t){if(!Hc(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Nx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ix},set:function(t){if(!Hc(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.Ix=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Zc);wt(),C();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}Bc(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Hc(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Hc(t.sampleCount,32)||!Hc(t.sampleOffset,32)})))throw new v("Not all entries can be represented in 64 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}($c);wt(),C();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Bc(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.Dx},set:function(t){this.flags=void 0===t?1:0,this.Dx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}($c);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}Bc(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.Dx},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Dx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}($c);wt(),C();!function(t){function n(){return t.call(this,"dinf")||this}Bc(n,t)}(jh);wt(),C(),wt(),C();var zh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Hc(i,8))throw new v("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Bc(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.Kd},set:function(t){this.Kd=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ch);!function(t){function n(){return t.call(this,"dref",0,0)||this}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(zh);wt(),C(),wt(),C();var Rh=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Hc(r.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Hc(r.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Hc(r.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!Hc(r.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}($c),Bh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Bc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Rh),Ph=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Bc(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Rh);function Uh(t){for(var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new Bh(s,e.raw):new Ph(s,e.raw)}var Qh=function(t){function n(){return t.call(this,"edts")||this}return Bc(n,t),n}(jh);function Yh(t){for(var n=new Qh,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"elst")?n.boxes.push(Uh(e)):n.boxes.push(Dh(e))}return n}wt(),C(),wt(),C();var Gh=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return Bc(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Ex},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Ex=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.kx},set:function(t){if(!Hc(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.kx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Lx},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Lx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(Zc),Fh=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return Bc(n,t),n}(Gh);function Vh(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Fh(i,r,e)}wt(),C();var Wh=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return Bc(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Vc.from(this.data))},n}(Zc);wt(),C(),wt(),C();var Xh=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return Bc(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.xx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!Hc(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.jx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.jx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.Rx},set:function(t){if(!Jh(t))throw new v("Expected an ISO-639-2/T language code");this.Rx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}($c),Zh=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return Bc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Xh),Hh=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return Bc(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xh);function Kh(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=bh(n,r),s=new Gc(Vc.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return Jh(c)||(c="und"),n.skip(2),0===r?new Zh(u,c,e.raw):new Hh(u,c,e.raw)}function Jh(t){return/^[a-z]{3}$/.test(t)}var qh=function(t){function n(){return t.call(this,"mdia")||this}return Bc(n,t),n}(jh);function $h(t){for(var n=new qh,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"mdhd")?n.boxes.push(Kh(e)):mh(e,"hdlr")?n.boxes.push(Eh(e)):n.boxes.push(Dh(e))}return n}wt(),C();var tf=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Vc,n}return Bc(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(Zc);function nf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new tf;return r.data.pushRange(i),r}wt(),C();!function(t){function n(){return t.call(this,"minf")||this}Bc(n,t)}(jh);wt(),C();var rf;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(zh);wt(),C(),wt(),C(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(rf||(rf={})),wt(),C();var ef,uf,sf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function of(t,n){n.writer.writeUInt(Kc(t.a,16),32),n.writer.writeUInt(Kc(t.b,16),32),n.writer.writeUInt(Kc(0,30),32),n.writer.writeUInt(Kc(t.c,16),32),n.writer.writeUInt(Kc(t.d,16),32),n.writer.writeUInt(Kc(0,30),32),n.writer.writeUInt(Kc(t.x,16),32),n.writer.writeUInt(Kc(t.y,16),32),n.writer.writeUInt(Kc(1,30),32)}function af(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:ef.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:uf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:uf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:uf.UNKNOWN,2)}function cf(t,n){var i,r,e;n.writer.writeUInt(0,4),af(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}wt(),C(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(ef||(ef={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(uf||(uf={})),wt(),C(),wt(),C();var hf=function(){};wt(),C(),wt(),C(),wt(),C();var ff=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return Bc(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this.Px},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Px=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this.zx},set:function(t){if(!Hc(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.zx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Vc.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Vc.from(this.data))},n}($c),vf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Bc(n,t),n}(ff),df=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return Bc(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.Bx},set:function(t){if(!Hc(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new v("Not all provided key ids are 16 bytes long.");this.Bx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(Vc.from(r))}},n}(ff);function lf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new df(i,o,r):new vf(i,o)}wt(),C(),wt(),C();var gf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ux},set:function(t){if(!Hc(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ux=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}($c),wf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Bc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(gf),yf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Bc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(gf);function Af(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new wf(n.nextUint32(),e.raw):new yf(n.nextUint64(),e.raw)}wt(),C();var mf=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Bc(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(!Hc(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Fx},set:function(t){if(!Hc(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Fx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Yx},set:function(t){if(!Hc(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Yx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Gx},set:function(t){if(!Hc(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Gx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Vx},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Hc(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Hc(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Vx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),cf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}($c);function pf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Th(new Gc(Vc.from(n.nextUint8Array(4))));return new mf(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var _f=function(t){function n(){return t.call(this,"mvex")||this}return Bc(n,t),n}(jh);function kf(t){for(var n=new _f,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"mehd")?n.boxes.push(Af(e)):mh(e,"trex")?n.boxes.push(pf(e)):n.boxes.push(Dh(e))}return n}wt(),C();var Mf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:sf,h.Wx=r,h}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.xx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!Hc(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.jx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.jx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.Hx},set:function(t){if(!Hc(Kc(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Hx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Xx},set:function(t){if(!Hc(Kc(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Xx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Zx},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Zx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Wx},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!Hc(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Wx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Kc(this.rate,16),32),n.writer.writeUInt(Kc(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),of(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}($c),bf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return Bc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Mf),Tf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return Bc(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Mf);function Nf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags,u=bh(n,r),s=qc(n.nextUint32(),16),o=qc(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Nh(n);n.skip(24);var c=n.nextUint32();return 0===r?new bf(u,c,{rate:s,volume:o,matrix:a},e.raw):new Tf(u,c,{rate:s,volume:o,matrix:a},e.raw)}wt(),C(),wt(),C();var Df=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:sf,f}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.xx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.xx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Cx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Cx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!Hc(t,32))throw new v("trackId cannot exceed 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.jx},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.jx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Xx},set:function(t){if(!Hc(Kc(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Xx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.qx},set:function(t){if(!Hc(Kc(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.qx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Kx},set:function(t){if(!Hc(Kc(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Kx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Jx},set:function(t){if(!Hc(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Jx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.$x},set:function(t){if(!Hc(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.$x=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Zx},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Zx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Kc(this.volume,8),16),n.writer.writeUInt(0,16),of(this.matrix,n),n.writer.writeUInt(Kc(this.width,16),32),n.writer.writeUInt(Kc(this.height,16),32)},n}($c),If=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return Bc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Df),Ef=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return Bc(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Df);function Sf(t){var n,i,r,e,u=t.data,s=Mh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),g=qc(u.nextInt16(),8);u.skip(2);var w=Nh(u),y=qc(u.nextUint32(),16),A=qc(u.nextUint32(),16);return 0===o?new If({creation:n,modification:i,duration:e},r,g,y,A,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Ef({creation:n,modification:i,duration:e},r,g,y,A,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Lf=function(t){function n(){return t.call(this,"trak")||this}return Bc(n,t),n}(jh);function Cf(t){for(var n=new Lf,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"tkhd")?n.boxes.push(Sf(e)):mh(e,"mdia")?n.boxes.push($h(e)):mh(e,"edts")?n.boxes.push(Yh(e)):n.boxes.push(Dh(e))}return n}var jf=function(t){function n(){return t.call(this,"moov")||this}return Bc(n,t),n}(jh);function xf(t){for(var n=new jf,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"mvhd")?n.boxes.push(Nf(e)):mh(e,"trak")?n.boxes.push(Cf(e)):mh(e,"mvex")?n.boxes.push(kf(e)):mh(e,"pssh")?n.boxes.push(lf(e)):n.boxes.push(Dh(e))}return n}wt(),C(),wt(),C(),wt(),C();var Of=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.tC},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.tC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}($c),zf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Bc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Of),Rf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Bc(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Of);function Bf(t){var n=t.data,i=Mh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new zf(n.nextUint32(),e.raw):new Rf(n.nextUint64(),e.raw)}wt(),C();var Pf=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return Bc(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(!Hc(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.iC},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!Hc(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.iC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.eC},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!Hc(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.eC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Yx},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!Hc(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Yx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Gx},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!Hc(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Gx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Vx},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Hc(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Hc(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Vx=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&cf(this.defaultSampleFlags,n)},n}($c);function Uf(t){var n=t.data,i=n.nextUint8(),r=new Gc(Vc.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,w=s?Th(new Gc(Vc.from(n.nextUint8Array(4)))):void 0;return new Pf({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:g,defaultSampleFlags:w},i)}wt(),C();var Qf=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return Bc(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.sC},set:function(t){if(t&&!Hc(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.sC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.nC},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Hc(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Hc(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.nC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.rC},set:function(t){var n,i;if(!Hc(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(u.duration&&!Hc(u.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(u.size&&!Hc(u.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Hc(u.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Hc(u.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Hc(u.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.rC=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&cf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&cf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}($c);function Yf(t){var n=t.data,i=n.nextUint8(),r=new Gc(Vc.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Th(new Gc(Vc.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=Th(new Gc(Vc.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Qf(i,f,v)}var Gf=function(t){function n(){return t.call(this,"traf")||this}return Bc(n,t),n}(jh);function Ff(t){for(var n=new Gf,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"tfhd")?n.boxes.push(Uf(e)):mh(e,"tfdt")?n.boxes.push(Bf(e)):mh(e,"trun")?n.boxes.push(Yf(e)):n.boxes.push(Dh(e))}return n}var Vf=function(t){function n(){return t.call(this,"moof")||this}return Bc(n,t),n}(jh);function Wf(t){for(var n=new Vf,i=0,r=_h(t.data);i<r.length;i++){var e=r[i];mh(e,"traf")?n.boxes.push(Ff(e)):mh(e,"pssh")?n.boxes.push(lf(e)):n.boxes.push(Dh(e))}return n}wt(),C();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Bc(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.oC},set:function(t){if(!Hc(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.oC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}($c);wt(),C();var Xf=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Bc(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.hC},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.hC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Zc);wt(),C();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}Bc(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.aC},set:function(t){if(!Hc(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.aC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.uC},set:function(t){if(!Hc(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.uC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Zc);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}Bc(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(jh);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new Xf(n),e}Bc(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Zc);wt(),C();var Zf=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){var n=this;if(!Hc(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Hc(t,n.bitSize)})))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.mx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.cC},set:function(t){if(void 0===t)this.flags=0;else{if(!Hc(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!Hc(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.cC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}($c);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Bc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(Zf),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Bc(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(Zf);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}Bc(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.lC},set:function(t){if(!Hc(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.lC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.dC},set:function(t){if(!Hc(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Hc(t,8)})))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.dC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.cC},set:function(t){if(void 0===t)this.flags=0;else{if(!Hc(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!Hc(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.cC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}($c);wt(),C();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){af(r[i],n)}}}($c);wt(),C();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(zh);wt(),C();var Hf=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return Bc(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.fC},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.fC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}($c);(function(t){function n(n,i){return t.call(this,0,n,i)||this}Bc(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(Hf),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}Bc(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this._C},set:function(t){if(!Hc(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this._C=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Hf),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}Bc(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Fx},set:function(t){if(!Hc(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Fx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Hf);wt(),C();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Bc(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.gC},set:function(t){if(!Hc(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Hc(t,32)})))throw new v("Not all sampleSizes can be represented in 32 bits.");this.gC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})($c),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}Bc(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Gx},set:function(t){if(!Hc(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Gx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.rC},set:function(t){if(!Hc(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.rC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}($c);wt(),C();!function(t){function n(){return t.call(this,"stbl")||this}Bc(n,t)}(jh);wt(),C();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Bc(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Hc(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Hc(t.firstChunk,32)||!Hc(t.sampleDescriptionIndex,32)||!Hc(t.samplesPerChunk,32)})))throw new v("Not all entries can be represented in 96 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}($c);wt(),C();!function(t){function n(){return t.call(this,"schi")||this}Bc(n,t)}(jh);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}Bc(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.wC},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.wC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.vC},set:function(t){if(!Hc(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.vC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.mC},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.mC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}($c);wt(),C();var Kf=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return Bc(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.pC},set:function(t){if(!Hc(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.pC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!Hc(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.AC},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.AC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.yC},set:function(t){if(!Hc(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.yC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.MC},set:function(t){if(!Hc(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Hc(r.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!Hc(r.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!Hc(r.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!Hc(r.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.MC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}($c),Jf=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return Bc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Kf),qf=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return Bc(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Kf);wt(),C();var $f=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return Bc(n,t),n}(Gh);function nv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new $f(i,r,e)}wt(),C();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Bc(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.bC},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!Hc(Kc(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.bC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Kc(this.balance,8),16),n.writer.writeUInt(0,16)}}($c);wt(),C();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Bc(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Hc(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Hc(t,32)})))throw new v("Not all entries can be represented in 32 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}($c);wt(),C();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Bc(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Hc(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Hc(t.sampleCount,32)||!Hc(t.sampleDelta,32)})))throw new v("Not all entries can be represented in 64 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}($c);wt(),C();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Bc(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Qx},set:function(t){if(!Hc(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Qx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(zh);wt(),C();!function(t){function n(){return t.call(this,"udta")||this}Bc(n,t)}(jh);wt(),C();var iv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=iv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}Bc(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.TC},set:function(t){if(!Hc(t.red,16)||!Hc(t.green,16)||!Hc(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.TC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}($c);wt(),C();var rv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return Bc(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.qx},set:function(t){if(!Hc(t,16))throw new v("Provided width does not fit in 16 bits.");this.qx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Kx},set:function(t){if(!Hc(t,16))throw new v("Provided height does not fit in 16 bits.");this.Kx=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.SC},set:function(t){if(!Hc(Kc(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.SC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.NC},set:function(t){if(!Hc(Kc(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.NC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this.IC},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.IC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this.DC},set:function(t){if(!Hc(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.DC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.EC},set:function(t){if(!Hc(t,16))throw new v("Provided depth does not fit in 16 bits.");this.EC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Kc(this.horizontalResolution,16),32),n.writer.writeUInt(Kc(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Jc(n.writer,this.extra)},n}(xh);wt(),C(),wt(),C();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof m?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof m?n.concat(Vc.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}($c);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Oh);wt(),C();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(rv);wt(),C();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}Bc(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(xh);wt(),C(),wt(),C();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Bc(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Zc);wt(),C();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}l.defineProperty(t.prototype,"version",{get:function(){return this.kC},set:function(t){if(!Hc(t,8))throw new v("Provided version does not fit in 8 bits.");this.kC=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.LC},set:function(t){if(!Hc(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.LC=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.xC},set:function(t){if(!Hc(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.xC=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.OC},set:function(t){if(!Hc(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.OC=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.jC},set:function(t){if(!Hc(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.jC=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.RC},set:function(t){if(!Hc(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.RC=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(Vc.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(Vc.from(s))}}}();wt(),C();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}Bc(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(rv);wt(),C();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}Bc(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ix},set:function(t){if(!Hc(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.ix=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.yf},set:function(t){if(!Hc(t,32))throw new v("Provided max does not fit in 32 bits.");this.yf=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.zC},set:function(t){if(!Hc(t,32))throw new v("Provided avg does not fit in 32 bits.");this.zC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Zc);wt(),C(),wt(),C(),wt(),C();var ev=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new m(0),o}return Bc(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.BC},set:function(t){if(!Hc(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.BC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.QC},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.QC=t,this.FC=new m(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.YC},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.YC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.FC},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.FC=t,this.QC=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Jc(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Jc(t.writer,this.constantIv))},n}($c),uv=(function(t){function n(n){return t.call(this,0,n)||this}Bc(n,t)}(ev),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Bc(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.GC},set:function(t){if(!Hc(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.GC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.VC},set:function(t){if(!Hc(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.VC=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ev));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new uv(n),i}Bc(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(hf);function sv(t){return void 0!==t.iv}function ov(t){return void 0!==t.subsamples}wt(),C();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Bc(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.rC},set:function(t){var n;if(!Hc(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(sv(e)&&![8,16].includes(e.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=ov(e)),!0===n&&!ov(e)||!1===n&&ov(e))throw new v("Mix of samples with and without subsamples detected.");if(ov(e)){if(!Hc(e.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!Hc(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Hc(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.rC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];sv(e)&&(n+=e.iv.length),ov(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(sv(e)&&Jc(n.writer,e.iv),ov(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}($c);wt(),C(),wt(),C();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}Bc(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Ox},set:function(t){if(!Hc(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.Ox=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.WC},set:function(t){if(!Hc(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.WC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.HC},set:function(t){if(!Hc(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.HC=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.uS},set:function(t){if(!Hc(t,32))throw new v("The provided id does not fit in 32 bits.");this.uS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Vc.from(this.data))}}($c);wt(),C(),wt(),C(),wt(),C();var av=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new Xc,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function cv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=kh(i,r);if(!e.complete)return;if(mh(e.box,n))return e.box}}(new Ah(gh(i),new yh),t);if(!r)throw new v("".concat(t," box not found"));return n(r)}}var hv=cv("moov",xf),fv=cv("sidx",(function(t){var n,i,r=t.data,e=Mh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new Gc(Vc.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),g=v.readUInt(32),w=Boolean(v.readBit()),y=v.readUInt(3),A=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:g,startsWithSap:w,sapType:y,sapDeltaTime:A})}return 0===u?new Jf(o,a,n,i,h,s.raw):new qf(o,a,n,i,h,s.raw)})),vv=cv("moof",Wf),dv=cv("pssh",lf);function lv(t){return function(t){for(var n=new av,i=0,r=_h(t);i<r.length;i++){var e=r[i];mh(e,"ftyp")?n.boxes.push(Vh(e)):mh(e,"styp")?n.boxes.push(nv(e)):mh(e,"moov")?n.boxes.push(xf(e)):mh(e,"moof")?n.boxes.push(Wf(e)):mh(e,"mdat")?n.boxes.push(nf(e)):n.boxes.push(Dh(e))}return n}(new Ah(gh(t),new yh))}var gv=function(t){function n(n,i){var r;(r=t.call(this)||this).KC=n,r.Fp=i,r.iO=!1,r.oO=function(){r.nO()},r.hO=function(t){r.Co(new na(Vt(r),t.messageType,xc(r.Fp,t.message)))},r.aO=function(){r.iO=!0,r.$C.By>0&&(r.$C.kL(),r.Co(new ta(Vt(r)))),r.KC.removeEventListener("keystatuseschange",r.oO),r.KC.removeEventListener("message",r.hO)},r.KC.addEventListener("keystatuseschange",r.oO),r.KC.addEventListener("message",r.hO),r.$C=new sa;var e=[];return r.KC.closed&&e.push(K.resolve(r.KC.closed)),r.eO=new Cc,e.push(r.eO.OL),r.ZC=K.race(e).then(r.aO,r.aO),r.nO(),r}kt(n,t);var i=n.prototype;return i.Ws=function(){if(this.iO)return this.ZC;var t=[];return t.push(K.resolve(this.KC.close())),t.push(Fo(1e3)),this.eO.w_(K.race(t).catch(wv)),this.iO=!0,this.ZC},i.sO=function(t,n,i){if(jn.XE){var r=dv(Tc(n));if(1===r.version)n=new vf(r.systemId,r.data).serialize().join()}return K.resolve(this.KC.generateRequest(t,n)).catch(wv)},i.$n=function(t){return K.resolve(this.KC.load(t)).catch(wv)},i.rS=function(){return K.resolve(this.KC.remove()).catch(wv)},i.Yn=function(t){return K.resolve(this.KC.update(t)).catch(wv)},i.nO=function(){var t=this;this.$C.kL(),this.KC.keyStatuses.forEach((function(n,i){t.rO(i,n)})),this.Co(new ta(this))},i.rO=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Tc(t);if(this.Fp===hs&&16===r.byteLength){var e=kc(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.Fp===hs&&"status-pending"===n&&(n="usable"),this.$C.EL(r,n)},At(n,[{key:"XC",get:function(){return this.ZC}},{key:"qC",get:function(){return this.KC.expiration}},{key:"JC",get:function(){return this.$C}},{key:"tO",get:function(){return this.KC.sessionId}}]),n}(Xo);function wv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new zc(t.message,void 0,n,t)}var yv=function(){function t(t,n,i){this.cO=t,this.Qp=n,this.wd=i}var n=t.prototype;return n.uO=function(t){var n=this;return xt((function(){return zt(this,(function(i){return[2,new gv(n.cO.createSession(t),n.Qp)]}))}))()},n.lO=function(t){return K.resolve(this.cO.setServerCertificate(t))},n.bn=function(t){return K.resolve(t.setMediaKeys(this.cO))},n.dO=function(t){return K.resolve(t.setMediaKeys(null))},n.tr=function(){return K.resolve()},t}(),Av=function(){function t(t,n,i){this.fO=t,this.Fp=n,this.gO=i}var n=t.prototype;return n._O=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.fO.createMediaKeys()];case 1:return n=i.sent(),[2,new yv(n,t.Fp,t.gO)]}}))}))()},n.wO=function(){return this.gO},At(t,[{key:"Qp",get:function(){return this.fO.keySystem}}]),t}();wt(),C(),wt(),C(),Ft();var mv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function pv(t){return Ss(t,mv.APPLICATION_MP4)||Ss(t,mv.VIDEO_MP4)||Ss(t,mv.AUDIO_MP4)}function _v(t){return Ss(t,mv.VIDEO_WEBM)||Ss(t,mv.AUDIO_WEBM)}var kv=function(){function t(t,n){this.Av=t,this.WI=n}return t.prototype.VI=function(t){for(var n=0,i=this.WI;n<i.length;n++){var r=Gt(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Mv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new kv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=bv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=bv(e.substr(s));f&&u.push(f)}return new kv(r,u)}function bv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Tv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Nv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+zs((r<<16|e).toString(16),6,"0")}return n}function Dv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,kO:r.kO},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Iv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Iv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Iv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!fo(n,r.encryptionScheme))&&(!r.robustness&&t(i,Tv(r.contentType))))}function Ev(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function Sv(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function Lv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Cv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Cv))}function Cv(t){return!t.robustness}function jv(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(Xu({},e,{robustness:n}))}return i}var xv=function(){function t(){}return t.prototype.TO=function(t,n){return xt((function(){var i,r,e,u,s,a,c;return zt(this,(function(h){switch(h.label){case 0:for(n=n.filter((function(t){return!t.kO})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=Sv(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Sv(r.videoCapabilities));if(t!==ds||!n.some(Lv))return[3,4];e=n.map((function(t){return function(t,n){return Xu({},t,{videoCapabilities:t.videoCapabilities?jv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?jv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,o.requestMediaKeySystemAccess(t,e)];case 2:return u=h.sent(),s=u.getConfiguration(),[2,new Av(u,t,s)];case 3:return h.sent(),[3,4];case 4:return[4,o.requestMediaKeySystemAccess(t,n)];case 5:return a=h.sent(),c=a.getConfiguration(),[2,new Av(a,t,c)]}}))}))()},t.LO=function(){return Fs()},t}();wt(),C(),wt(),C(),mt(),wt(),C(),Ot(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt();var Ov=function(t){function n(n,i){var r;return(r=t.call(this)||this).zO=n,r.BO=i,r.iO=!1,r.YO=void 0,r.RO=void 0,r.xO=void 0,r.aO=function(){r.iO=!0,r.CO.LL(void 0),r.xO&&(r.xO.removeEventListener("mskeyclose",r.aO),r.xO.removeEventListener("mskeymessage",r.UO),r.xO.removeEventListener("mskeyerror",r.Ss),r.xO.removeEventListener("mskeyadded",r.QO))},r.UO=function(t){r.RO&&(r.RO.LL(void 0),r.RO=void 0),r.Co(new na(Vt(r),"license-request",Dc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.xO&&r.xO.error;if(t){var n=new zc("Unknown CDM error",t.code,t.systemCode);if(r.RO)r.RO.xL(n),r.RO=void 0;else if(r.YO)r.YO.xL(n),r.YO=void 0;else switch(n.jL){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.FO("output-not-allowed");break;default:r.FO("internal-error")}}},r.QO=function(){r.RO&&(r.FO("usable"),r.RO.LL(void 0),r.RO=void 0),r.YO&&(r.FO("usable"),r.YO.LL(void 0),r.YO=void 0)},r.CO=new Cc,r.OO=new sa,r}kt(n,t);var i=n.prototype;return i.sO=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(t){switch(t.label){case 0:return r.jO(),r.RO=new Cc,r.uO(Tc(n),i),[4,r.RO.OL];case 1:return t.sent(),[2]}}))}))()},i.uO=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.PO;return(i=n?this.zO.createSession(this.BO,t,r):this.zO.createSession(this.BO,t)).addEventListener("mskeyclose",this.aO),i.addEventListener("mskeymessage",this.UO),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.QO),this.xO=i,this.FO("status-pending"),i},i.$n=function(t){var n=this;return xt((function(){return zt(this,(function(t){return n.jO(),[2,!0]}))}))()},i.Yn=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(n.YO=new Cc,n.jO(),!n.xO)return[2,K.resolve()];if(0===(i=Tc(t)).byteLength)throw new d("Cannot call update with an empty response.");return n.xO.update(i),[4,n.YO.OL];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.iO&&this.xO&&(this.iO=!0,this.xO.close()),this.CO.OL},i.rS=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.jO(),[2]}))}))()},i.jO=function(){if(this.iO)throw new d("Already closing or closed.")},i.FO=function(t){this.OO.kL(),this.OO.EL(ua,t),this.Co(new ta(this))},At(n,[{key:"tO",get:function(){return this.xO&&this.xO.sessionId||""}},{key:"qC",get:function(){return NaN}},{key:"XC",get:function(){return this.CO.OL}},{key:"JC",get:function(){return this.OO}}]),n}(Xo),zv=function(){function t(t,n,i){this.zO=t,this.Qp=n,this.wd=i;var r=Ev(i)||"video/mp4";this.BO=Tv(r)}var n=t.prototype;return n.uO=function(t){var n=this;return xt((function(){return zt(this,(function(t){return[2,new Ov(n.zO,n.BO)]}))}))()},n.lO=function(t){return K.resolve(!1)},n.bn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.zO),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.zO):t.addEventListener("loadedmetadata",i),K.resolve()},n.dO=function(t){return K.resolve()},n.tr=function(){return K.resolve()},t}(),Rv=function(){function t(t,n){this.Fp=t,this.GO=n}var n=t.prototype;return n.wO=function(){return this.GO},n._O=function(){var t=new iu.MSMediaKeys(this.Fp);return K.resolve(new zv(t,this.Fp,this.GO))},At(t,[{key:"Qp",get:function(){return this.Fp}}]),t}(),Bv=function(){function t(){}return t.prototype.TO=function(t,n){try{return K.resolve(function(t,n){if(!Pv())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Dv(Uv,qo,t,r);if(e)return new Rv(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return K.reject(t)}},t.LO=function(){return Pv()},t}();function Pv(){return void 0!==iu.MSMediaKeys&&"function"==typeof iu.MSMediaKeys.isTypeSupported}function Uv(t,n){return iu.MSMediaKeys.isTypeSupported(t,n)}wt(),C(),wt(),C(),mt(),wt(),C(),Ot(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt();var Qv,Yv,Gv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).XO=n,e.BO=i,e.HO=r,e.CO=new Cc,e.qO=void 0,e.OO=new sa,e.VO=void 0,e.ZO=new Cc,e.Ss=function(){var t=e.VO&&e.VO.error;if(t){var n=new zc("Unknown CDM error",t.code,t.systemCode);e.qO?(e.qO.xL(n),e.qO=void 0):n.jL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.FO("output-not-allowed"):e.FO("internal-error"),e.Co(new ia)}},e.UO=function(t){e.Co(new na(Vt(e),"license-request",Dc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.QO=function(){e.qO&&(e.qO.LL(void 0),e.qO=void 0),e.FO("usable")},e}kt(n,t);var i=n.prototype;return i.sO=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.WO;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=yc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Ec;return Ja(o,a,e,!0),hc(o,a,r,!0),Ja(o,a,u,!0),hc(o,a,n,!0),Ja(o,a,i.byteLength,!0),Fa(o,a,i),new m(s)}(Tc(n),r,this.HO);return this.VO=this.XO.createSession(this.BO,e),this.VO.addEventListener("webkitkeymessage",this.UO,!1),this.VO.addEventListener("webkitkeyadded",this.QO,!1),this.VO.addEventListener("webkitkeyerror",this.Ss,!1),this.FO("status-pending"),this.ZO.LL(this.VO),this.ZO=new Cc,K.resolve()},i.$n=function(t){return K.resolve(!0)},i.Yn=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:if(0===(i=Tc(t)).byteLength)throw new d("Cannot call update with an empty response.");return n.qO=new Cc,(r=n.VO)?[3,2]:[4,n.ZO.OL];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.qO.OL];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.VO;return n&&(n.removeEventListener("webkitkeymessage",this.UO,!1),n.removeEventListener("webkitkeyadded",this.QO,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.ZO.g_(),null==(t=this.qO)||t.g_(),this.CO.LL(void 0),this.CO.OL},i.rS=function(){return K.resolve(void 0)},i.FO=function(t){this.OO.kL(),this.OO.EL(ua,t),this.Co(new ta(this))},At(n,[{key:"tO",get:function(){return this.VO?this.VO.sessionId:""}},{key:"qC",get:function(){return NaN}},{key:"XC",get:function(){return this.CO.OL}},{key:"JC",get:function(){return this.OO}}]),n}(Xo);wt(),C(),mt(),Mt(),wt(),C(),function(t){t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR"}(Qv||(Qv={})),function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE"}(Yv||(Yv={})),function(t){t.fromCode=function(n){var i=g.floor(n/1e3);if(i in t)return i;throw new d("Invalid error code: "+n)}}(Yv||(Yv={}));var Fv=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return kt(n,t),At(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return Yv.fromCode(this.code)}}]),n}(Io);function Vv(t,n){return t instanceof Fv?t:t instanceof v?new Fv(n,t.message,t):new Fv(n,String(t))}var Wv=function(){function t(t,n,i){this.XO=t,this.Qp=n,this.wd=i,this.HO=void 0;var r=Ev(i)||"video/mp4";this.BO=Tv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.XO},n.uO=function(t){var n=this;return xt((function(){return zt(this,(function(t){if(!n.HO)throw new Fv(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Gv(n.XO,n.BO,n.HO)]}))}))()},n.lO=function(t){return this.HO=Tc(t),K.resolve(!0)},n.bn=function(t){return t.webkitSetMediaKeys(this.XO),K.resolve()},n.dO=function(t){return t.webkitSetMediaKeys(null),K.resolve()},n.tr=function(){return K.resolve()},t}(),Xv=function(){function t(t,n){this.Fp=t,this.GO=n}var n=t.prototype;return n.wO=function(){return this.GO},n._O=function(){var t=new iu.WebKitMediaKeys(this.Fp);return K.resolve(new Wv(t,this.Fp,this.GO))},At(t,[{key:"Qp",get:function(){return this.Fp}}]),t}(),Zv=function(){function t(){}return t.prototype.TO=function(t,n){try{return K.resolve(function(t,n){if(t!==As)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Hv())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Dv(Kv,$o,t,r);if(e)return new Xv(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return K.reject(t)}},t.LO=function(){return Hv()},t}();function Hv(){return void 0!==iu.WebKitMediaKeys&&"function"==typeof iu.WebKitMediaKeys.isTypeSupported}function Kv(t,n){return iu.WebKitMediaKeys.isTypeSupported(t,n)}wt(),C(),Ot(),Pt();var Jv=function(){function t(t){this.KO=t}return t.prototype.TO=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:r=0,e=i.KO,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.TO(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new d("Unsupported key system configuration for "+t)}}))}))()},t}();wt(),C(),wt(),C(),wt(),C(),Ot(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C();var qv=function(){function t(t){var n=this;this.tj=[],this.ij=void 0,this.$O=new So,this.ej=function(){return 0===n.tj.length?n.nj?$v(n.nj,n.$O.f_).then(n.rj,n.rj):n.rj():n.tj.shift()().then(n.ej)},this.rj=function(){if(0!==n.tj.length)return n.ej();n.ij=void 0},this.nj=t}var n=t.prototype;return n.JO=function(t,n){var i=this;return new K((function(r){var e=new So;e.w_(i.$O.f_),n&&e.w_(n);var u=function(){e.h_()};i.tj.push((function(){var n=$v(t,e.f_);return r(n),n.then(u,u)})),i.ij||(i.ij=i.ej())}))},n.g_=function(){return this.sj(!0)},n.gn=function(){return this.nj=void 0,this.sj(!1)},n.sj=function(t){var n=this.ij;return this.$O.g_(),t&&(this.$O=new So),K.resolve(n)},t}();function $v(t,n){return new K((function(i){return i(t(n))}))}var td,nd=new qv,id=function(t){function n(n){var i;return(i=t.call(this)||this).Fp=n,i.RO=void 0,i.qO=void 0,i.WL=!1,i.wj=void 0,i.lj=void 0,i.CO=new Cc,i.gj="",i.dj=new Cc,i._j=new sa,i}kt(n,t);var i=n.prototype;return i.hj=function(){this.qO&&(this.FO("usable"),this.qO.LL(void 0),this.qO=void 0)},i.aj=function(t){var n=new zc("Unknown CDM error",t.errorCode,t.systemCode);this.qO?(this.qO.xL(n),this.qO=void 0):this.RO?(this.RO.xL(n),this.RO=void 0):n.jL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.FO("output-restricted"):1===n.RL?this.FO("expired"):this.FO("internal-error")},i.uj=function(t){0!==t.message.byteLength?(this.RO&&(this.RO.LL(void 0),this.RO=void 0),this.Co(new na(this,"license-request",xc(this.Fp,Dc(t.message).buffer),t.defaultURL||void 0))):this.RO&&(this.RO.xL("Empty key message"),this.RO=void 0)},i.cj=function(t){this.lj||(this.lj=t,this.dj.LL(t))},i.Ws=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.throwIfClosed(),t.qO&&(t.qO.xL(void 0),t.qO=void 0),t.WL=!0,t.CO.LL(void 0),[2]}))}))()},i.sO=function(t,n){var i=this;return xt((function(){var t;return zt(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.RO=new Cc,i.wj=Tc(n),(t=i.lj)?[3,2]:[4,i.dj.OL];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.Fp,i.wj),[4,i.RO.OL];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return xt((function(){return zt(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.rS=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Yn=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.qO=new Cc,jn.yk||jn.wk?[2,nd.JO(xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return void 0===n.qO?[2]:(i=n.lj)?[3,2]:[4,n.dj.OL];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.Fp,Tc(t),n.wj,n.tO),[4,n.qO.OL];case 3:return r.sent(),jn.wk?[4,Fo(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.WL)throw new d("Already closing or closed.")},i.FO=function(t){this._j.kL(),this._j.EL(ua,t),this.Co(new ta(this))},i.vj=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return(i=t.lj)?[3,2]:[4,t.dj.OL];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.Fp,t.gj),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,Fo(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},At(n,[{key:"JC",get:function(){return this._j}},{key:"tO",get:function(){return this.gj},set:function(t){this.gj=t}},{key:"XC",get:function(){return this.CO.OL}},{key:"qC",get:function(){return NaN}}]),n}(Xo),rd=function(){function t(t,n){var i=this;this.Qp=t,this.wd=n,this.lj=void 0,this.Aj=Hu(),this.yj=[],this.QO=function(t){var n=i.Mj(t.sessionId);n&&n.hj()},this.mj=function(t){var n=i.Mj(t.sessionId);n&&n.aj(t)},this.pj=function(t){var n=i.Mj(t.sessionId);n&&n.uj(t)}}var n=t.prototype;return n.bn=function(t){return this.lj=t,this.lj.addEventListener("webkitkeyadded",this.QO),this.lj.addEventListener("webkitkeyerror",this.mj),this.lj.addEventListener("webkitkeymessage",this.pj),this.Aj.forEach((function(n,i){return n.cj(t)})),this.yj.forEach((function(n){return n.cj(t)})),K.resolve()},n.dO=function(t){return t.removeEventListener("webkitkeyadded",this.QO),t.removeEventListener("webkitkeyerror",this.mj),t.removeEventListener("webkitkeymessage",this.pj),this.lj=void 0,K.resolve()},n.tr=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:n=t.Aj.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].vj()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.Aj.clear(),[2]}}))}))()},n.uO=function(t,n,i){var r=this;return xt((function(){var t;return zt(this,(function(n){return t=new id(r.Qp),r.lj&&t.cj(r.lj),r.yj.push(t),[2,t]}))}))()},n.lO=function(t){return K.resolve(!1)},n.Mj=function(t){if(t){var n=this.Aj.get(t);return n||((n=this.yj.shift())?(n.tO=t,this.Aj.set(t,n),n):void 0)}},t}(),ed=function(){function t(t,n){this.Qp=t,this.bj=n}var n=t.prototype;return n._O=function(){return K.resolve(new rd(this.Qp,this.bj))},n.wO=function(){return this.bj},t}(),ud=function(){function t(){}return t.prototype.TO=function(t,n){try{return K.resolve(function(t,n){if(!ud.LO())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Dv(sd,qo,t,r);if(e)return new ed(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return K.reject(t)}},t.LO=function(){return Vs()},t}();function sd(t,n){var i=bu();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function od(){return td||(td=function(){var t=[];Zv.LO()&&t.push(new Zv);xv.LO()&&t.push(new xv);Bv.LO()&&t.push(new Bv);ud.LO()&&t.push(new ud);return new Jv(t)}()),td}wt(),C(),Mt(),wt(),C();var ad=function(){function t(){this.OF=Hu()}var n=t.prototype;return n.kL=function(t){this.OF.delete(t)},n.jF=function(){this.OF.clear()},n.IL=function(t){return this.OF.get(t)},n.EP=function(t,n){this.OF.set(t,n)},t}(),cd=function(){function t(){}return t.RF=function(){return t.lL||(t.lL=hd.LO()?new hd:new ad),t.lL},t.kL=function(n){t.RF().kL(n)},t.jF=function(){t.RF().jF()},t.IL=function(n){return t.RF().IL(n)},t.EP=function(n,i){t.RF().EP(n,i)},t}();cd.lL=void 0;var hd=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.kL=function(t){self.sessionStorage.removeItem(t)},i.jF=function(){self.sessionStorage.clear()},i.IL=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.EP=function(t,n){self.sessionStorage.setItem(t,n)},n.LO=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(cd);wt(),C(),wt(),C();var fd=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function vd(t,n,i){var r=fd([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=u.createElement("a");o.href=e,o.download=s,u.body.appendChild(o),o.click(),u.body.removeChild(o),URL.revokeObjectURL(e)}wt(),C();var dd,ld,gd="default";wt(),C(),mt(),wt(),C(),wt(),C(),function(t){t.Mv="bv",t.Tv="Sv",t.Nv="contentprotectionerror",t.Iv="contentprotectionsuccess",t.Dv="currentsourcechange",t.Ev="destroy",t.Lv="durationchange",t.xv="emptied",t.Cv="encrypted",t.Ov="ended",t.Rv="Pv",t.zv="Bv",t.Uv="Qv",t.Fv="Yv",t.Gv="loadstart",t.Vv="manifestupdate",t.Wv="nosupportedrepresentationfound",t.Hv="offline",t.Xv="online",t.Sh="pause",t.jh="play",t.Zv="progress",t.qv="ratechange",t.Kv="representationchange",t.Jv="resize",t.$v="seeked",t.im="seeking",t.nm="segmentnotfound",t.hm="um",t.lm="dm",t.lo="sourcechange",t.fm="timeupdate",t._m="volumechange",t.gm="wm",t.vm="metricschange"}(dd||(dd={})),wt(),C(),Mt(),wt(),C(),function(t){t.SD="arraybuffer",t.ND="json",t.DD="stream",t.Ru="text"}(ld||(ld={})),wt(),C(),Ft();var wd=function(){function t(n){var i=this;this.mf={},n instanceof t?n.asList().forEach((function(t){var n=Gt(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=Gt(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&l.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=yd(i),r=Ad(r);var e=i.toLowerCase();if(this.mf.hasOwnProperty(e)){var u=this.mf[e],s=u[1];u[1]=s?s+", "+r:r}else this.mf[e]=[i,r]},n.delete=function(t){var n=yd(t).toLowerCase();delete this.mf[n]},n.get=function(t){var n=yd(t).toLowerCase();return this.mf.hasOwnProperty(n)?this.mf[n][1]:null},n.has=function(t){var n=yd(t).toLowerCase();return this.mf.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=yd(i)).toLowerCase();this.mf[r]=[i,Ad(n)]},n.forEach=function(t,n){for(var i in this.mf)this.mf.hasOwnProperty(i)&&t.call(n,this.mf[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.mf)if(this.mf.hasOwnProperty(n)){var i=Gt(this.mf[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.ED=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.kD=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.LD=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function yd(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Ad(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),Ft(),wt(),C(),wt(),C();var md="function"==typeof n&&"symbol"==typeof n.iterator?n:function(t){return"Symbol("+t+")"};function pd(){}var _d=Number.isNaN||function(t){return t!=t},kd=pd;function Md(t){return"object"==typeof t&&null!==t||"function"==typeof t}function bd(t){return t.slice()}function Td(t,n,i,r,e){new m(t).set(new m(i,r,e),n)}function Nd(t){return!1!==function(t){if("number"!=typeof t)return!1;if(_d(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Dd(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Id(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return Sd(e,t,r)};case 1:return function(n){var i=[n].concat(r);return Sd(e,t,i)}}}return function(){return Bd(void 0)}}function Ed(t,n,i){var r=t[n];if(void 0!==r)return Dd(r,t,i)}function Sd(t,n,i){try{return Bd(Dd(t,n,i))}catch(t){return Pd(t)}}function Ld(t){if(t=Number(t),_d(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Cd(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var jd=K,xd=K.prototype.then,Od=K.resolve.bind(jd),zd=K.reject.bind(jd);function Rd(t){return new jd(t)}function Bd(t){return Od(t)}function Pd(t){return zd(t)}function Ud(t,n,i){return xd.call(t,n,i)}function Qd(t,n,i){Ud(Ud(t,n,i),void 0,kd)}function Yd(t,n){Qd(t,n)}function Gd(t,n){Qd(t,void 0,n)}function Fd(t,n,i){return Ud(t,n,i)}function Vd(t){Ud(t,void 0,kd)}var Wd=function(){function t(){this.OV=0,this.jV=0,this.RV={PV:[],zV:void 0},this.BV=this.RV,this.OV=0,this.jV=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.jV},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.BV,i=n;16383===n.PV.length&&(i={PV:[],zV:void 0}),n.PV.push(t),i!==n&&(this.BV=i,n.zV=i),++this.jV},t.prototype.shift=function(){var t=this.RV,n=t,i=this.OV,r=i+1,e=t.PV,u=e[i];return 16384===r&&(n=t.zV,r=0),--this.jV,this.OV=r,t!==n&&(this.RV=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.OV,i=this.RV,r=i.PV;!(n===r.length&&void 0===i.zV||n===r.length&&(n=0,0===(r=(i=i.zV).PV).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.RV,n=this.OV;return t.PV[n]},t}();function Xd(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Zd(t,n){t.QV=!0,t.FV=n,n.YV=t,"readable"===n.ja?qd(t):"closed"===n.ja?function(t){qd(t),nl(t)}(t):$d(t,n.GV)}function Hd(t,n){return ew(t.FV,n)}function Kd(t){"readable"===t.FV.ja?tl(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){$d(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.FV.YV=void 0,t.FV=void 0}function Jd(t){return new d("Cannot "+t+" a stream using a released reader")}function qd(t){t.ZC=Rd((function(n,i){t.VV=n,t.WV=i}))}function $d(t,n){qd(t),tl(t,n)}function tl(t,n){Vd(t.ZC),t.WV(n),t.VV=void 0,t.WV=void 0}function nl(t){t.VV(void 0),t.VV=void 0,t.WV=void 0}var il=md("[[CancelSteps]]"),rl=md("[[PullSteps]]");function el(t,n){void 0===n&&(n=!1);var i=new fl(t);return i.QV=n,i}function ul(t){return Rd((function(n,i){var r={lf:n,CL:i};t.YV.HV.push(r)}))}function sl(t,n,i){var r=t.YV;r.HV.shift().lf(Xd(n,i,r.QV))}function ol(t){return t.YV.HV.length}function al(t){var n=t.YV;return void 0!==n&&!!vl(n)}var cl,hl,fl=function(){function t(t){if(!1===iw(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===rw(t))throw new d("This stream has already been locked for exclusive reading by another reader");Zd(this,t),this.HV=new Wd}return l.defineProperty(t.prototype,"closed",{get:function(){return vl(this)?this.ZC:Pd(ll("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return vl(this)?void 0===this.FV?Pd(Jd("cancel")):Hd(this,t):Pd(ll("cancel"))},t.prototype.read=function(){return vl(this)?void 0===this.FV?Pd(Jd("read from")):dl(this):Pd(ll("read"))},t.prototype.releaseLock=function(){if(!vl(this))throw ll("releaseLock");if(void 0!==this.FV){if(this.HV.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Kd(this)}},t}();function vl(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"HV")}function dl(t){var n=t.FV;return n.XV=!0,"closed"===n.ja?Bd(Xd(void 0,!0,t.QV)):"errored"===n.ja?Pd(n.GV):n.ZV[rl]()}function ll(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof md.asyncIterator&&((cl={})[md.asyncIterator]=function(){return this},hl=cl,l.defineProperty(hl,md.asyncIterator,{enumerable:!1}));var gl={next:function(){if(!1===wl(this))return Pd(yl("next"));var t=this.qV;return void 0===t.FV?Pd(Jd("iterate")):Fd(dl(t),(function(n){var i=n.done;return i&&Kd(t),Xd(n.value,i,!0)}))},return:function(t){if(!1===wl(this))return Pd(yl("next"));var n=this.qV;if(void 0===n.FV)return Pd(Jd("finish iterating"));if(n.HV.length>0)return Pd(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.KV){var i=Hd(n,t);return Kd(n),Fd(i,(function(){return Xd(t,!0,!0)}))}return Kd(n),Bd(Xd(t,!0,!0))}};function wl(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"qV")}function yl(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Al(t){var n=t.JV.shift();return t.$V-=n.size,t.$V<0&&(t.$V=0),n.value}function ml(t,n,i){if(!Nd(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.JV.push({value:n,size:i}),t.$V+=i}function pl(t){t.JV=new Wd,t.$V=0}void 0!==hl&&l.setPrototypeOf(gl,hl),l.defineProperty(gl,"next",{enumerable:!1}),l.defineProperty(gl,"return",{enumerable:!1});var _l=md("[[AbortSteps]]"),kl=md("[[ErrorSteps]]"),Ml=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Tl(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=Cd(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Gl.prototype);function u(){return Ed(n,"start",[e])}var s=Id(n,"write",1,[e]),o=Id(n,"close",0,[]),a=Id(n,"abort",1,[]);Fl(t,e,u,s,o,a,i,r)}(this,t,r=Ld(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Nl(this))throw Jl("locked");return Dl(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Nl(this)?Pd(Jl("abort")):!0===Dl(this)?Pd(new d("Cannot abort a stream that already has a writer")):Il(this,t)},t.prototype.close=function(){return!1===Nl(this)?Pd(Jl("close")):!0===Dl(this)?Pd(new d("Cannot close a stream that already has a writer")):!0===jl(this)?Pd(new d("Cannot close an already-closing stream")):El(this)},t.prototype.getWriter=function(){if(!1===Nl(this))throw Jl("getWriter");return bl(this)},t}();function bl(t){return new zl(t)}function Tl(t){t.ja="writable",t.GV=void 0,t.qL=void 0,t.tW=void 0,t.iW=new Wd,t.eW=void 0,t.sW=void 0,t.nW=void 0,t.rW=void 0,t.oW=!1}function Nl(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"tW")}function Dl(t){return void 0!==t.qL}function Il(t,n){var i=t.ja;if("closed"===i||"errored"===i)return Bd(void 0);if(void 0!==t.rW)return t.rW.hW;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Rd((function(i,e){t.rW={hW:void 0,lf:i,CL:e,aW:n,uW:r}}));return t.rW.hW=e,!1===r&&Ll(t,n),e}function El(t){var n=t.ja;if("closed"===n||"errored"===n)return Pd(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=Rd((function(n,i){var r={lf:n,CL:i};t.sW=r})),r=t.qL;return void 0!==r&&!0===t.oW&&"writable"===n&&ag(r),function(t){ml(t,"close",0),Xl(t)}(t.tW),i}function Sl(t,n){"writable"!==t.ja?Cl(t):Ll(t,n)}function Ll(t,n){var i=t.tW;t.ja="erroring",t.GV=n;var r=t.qL;void 0!==r&&Ul(r,n),!1===function(t){if(void 0===t.eW&&void 0===t.nW)return!1;return!0}(t)&&!0===i.cW&&Cl(t)}function Cl(t){t.ja="errored",t.tW[kl]();var n=t.GV;if(t.iW.forEach((function(t){t.CL(n)})),t.iW=new Wd,void 0!==t.rW){var i=t.rW;if(t.rW=void 0,!0===i.uW)return i.CL(n),void xl(t);Qd(t.tW[_l](i.aW),(function(){i.lf(),xl(t)}),(function(n){i.CL(n),xl(t)}))}else xl(t)}function jl(t){return void 0!==t.sW||void 0!==t.nW}function xl(t){void 0!==t.sW&&(t.sW.CL(t.GV),t.sW=void 0);var n=t.qL;void 0!==n&&ig(n,t.GV)}function Ol(t,n){var i=t.qL;void 0!==i&&n!==t.oW&&(!0===n?function(t){eg(t)}(i):ag(i)),t.oW=n}var zl=function(){function t(t){if(!1===Nl(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Dl(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.lW=t,t.qL=this;var n=t.ja;if("writable"===n)!1===jl(t)&&!0===t.oW?eg(this):sg(this),tg(this);else if("erroring"===n)ug(this,t.GV),tg(this);else if("closed"===n)sg(this),function(t){tg(t),rg(t)}(this);else{var i=t.GV;ug(this,i),ng(this,i)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===Rl(this)?Pd(ql("closed")):this.ZC},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rl(this))throw ql("desiredSize");if(void 0===this.lW)throw $l("desiredSize");return function(t){var n=t.lW,i=n.ja;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Wl(n.tW)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===Rl(this)?Pd(ql("ready")):this.dW},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rl(this)?Pd(ql("abort")):void 0===this.lW?Pd($l("abort")):function(t,n){var i=t.lW;return Il(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rl(this))return Pd(ql("close"));var t=this.lW;return void 0===t?Pd($l("close")):!0===jl(t)?Pd(new d("Cannot close an already-closing stream")):Bl(this)},t.prototype.releaseLock=function(){if(!1===Rl(this))throw ql("releaseLock");void 0!==this.lW&&Ql(this)},t.prototype.write=function(t){return!1===Rl(this)?Pd(ql("write")):void 0===this.lW?Pd($l("write to")):Yl(this,t)},t}();function Rl(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"lW")}function Bl(t){return El(t.lW)}function Pl(t,n){"pending"===t.fW?ig(t,n):function(t,n){ng(t,n)}(t,n)}function Ul(t,n){"pending"===t._W?og(t,n):function(t,n){ug(t,n)}(t,n)}function Ql(t){var n=t.lW,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Ul(t,i),Pl(t,i),n.qL=void 0,t.lW=void 0}function Yl(t,n){var i=t.lW,r=i.tW,e=function(t,n){try{return t.gW(n)}catch(n){return Zl(t,n),1}}(r,n);if(i!==t.lW)return Pd($l("write to"));var u=i.ja;if("errored"===u)return Pd(i.GV);if(!0===jl(i)||"closed"===u)return Pd(new d("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Pd(i.GV);var s=function(t){return Rd((function(n,i){var r={lf:n,CL:i};t.iW.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ml(t,r,i)}catch(n){return void Zl(t,n)}var e=t.wW;if(!1===jl(e)&&"writable"===e.ja){Ol(e,Hl(t))}Xl(t)}(r,n,e),s}var Gl=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Md(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"wW"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.wW.ja&&Kl(this,t)},t.prototype[_l]=function(t){var n=this.vW(t);return Vl(this),n},t.prototype[kl]=function(){pl(this)},t}();function Fl(t,n,i,r,e,u,s,o){n.wW=t,t.tW=n,n.JV=void 0,n.$V=void 0,pl(n),n.cW=!1,n.gW=o,n.mW=s,n.pW=r,n.AW=e,n.vW=u;var a=Hl(n);Ol(t,a),Qd(Bd(i()),(function(){n.cW=!0,Xl(n)}),(function(i){n.cW=!0,Sl(t,i)}))}function Vl(t){t.pW=void 0,t.AW=void 0,t.vW=void 0,t.gW=void 0}function Wl(t){return t.mW-t.$V}function Xl(t){var n=t.wW;if(!1!==t.cW&&void 0===n.eW)if("erroring"!==n.ja){if(0!==t.JV.length){var i=function(t){return t.JV.peek().value}(t);"close"===i?function(t){var n=t.wW;(function(t){t.nW=t.sW,t.sW=void 0})(n),Al(t);var i=t.AW();Vl(t),Qd(i,(function(){!function(t){t.nW.lf(void 0),t.nW=void 0,"erroring"===t.ja&&(t.GV=void 0,void 0!==t.rW&&(t.rW.lf(),t.rW=void 0)),t.ja="closed";var n=t.qL;void 0!==n&&rg(n)}(n)}),(function(t){!function(t,n){t.nW.CL(n),t.nW=void 0,void 0!==t.rW&&(t.rW.CL(n),t.rW=void 0),Sl(t,n)}(n,t)}))}(t):function(t,n){var i=t.wW;!function(t){t.eW=t.iW.shift()}(i);var r=t.pW(n);Qd(r,(function(){!function(t){t.eW.lf(void 0),t.eW=void 0}(i);var n=i.ja;if(Al(t),!1===jl(i)&&"writable"===n){var r=Hl(t);Ol(i,r)}Xl(t)}),(function(n){"writable"===i.ja&&Vl(t),function(t,n){t.eW.CL(n),t.eW=void 0,Sl(t,n)}(i,n)}))}(t,i.chunk)}}else Cl(n)}function Zl(t,n){"writable"===t.wW.ja&&Kl(t,n)}function Hl(t){return Wl(t)<=0}function Kl(t,n){var i=t.wW;Vl(t),Ll(i,n)}function Jl(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ql(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function $l(t){return new d("Cannot "+t+" a stream using a released writer")}function tg(t){t.ZC=Rd((function(n,i){t.VV=n,t.WV=i,t.fW="pending"}))}function ng(t,n){tg(t),ig(t,n)}function ig(t,n){Vd(t.ZC),t.WV(n),t.VV=void 0,t.WV=void 0,t.fW="rejected"}function rg(t){t.VV(void 0),t.VV=void 0,t.WV=void 0,t.fW="resolved"}function eg(t){t.dW=Rd((function(n,i){t.yW=n,t.MW=i})),t._W="pending"}function ug(t,n){eg(t),og(t,n)}function sg(t){eg(t),ag(t)}function og(t,n){Vd(t.dW),t.MW(n),t.yW=void 0,t.MW=void 0,t._W="rejected"}function ag(t){t.yW(void 0),t.yW=void 0,t.MW=void 0,t._W="fulfilled"}function cg(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var hg="undefined"!=typeof DOMException?DOMException:void 0;var fg=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(hg)?hg:function(){var t=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)};return t.prototype=l.create(v.prototype),l.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}();function vg(t,n,i,r,e,u){var s=el(t),o=bl(n);t.XV=!0;var a=!1,c=Bd(void 0);return Rd((function(h,f){var v,l,g,w;if(void 0!==u){if(v=function(){var i=new fg("Aborted","AbortError"),u=[];!1===r&&u.push((function(){return"writable"===n.ja?Il(n,i):Bd(void 0)})),!1===e&&u.push((function(){return"readable"===t.ja?ew(t,i):Bd(void 0)})),p((function(){return K.all(u.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s.ZC,(function(t){!1===r?p((function(){return Il(n,t)}),!0,t):_(!0,t)})),m(n,o.ZC,(function(n){!1===e?p((function(){return ew(t,n)}),!0,n):_(!0,n)})),l=t,g=s.ZC,w=function(){!1===i?p((function(){return function(t){var n=t.lW,i=n.ja;return!0===jl(n)||"closed"===i?Bd(void 0):"errored"===i?Pd(n.GV):Bl(t)}(o)})):_()},"closed"===l.ja?w():Yd(g,w),!0===jl(n)||"closed"===n.ja){var y=new d("the destination writable stream closed before all data could be piped to it");!1===e?p((function(){return ew(t,y)}),!0,y):_(!0,y)}function A(){var t=c;return Ud(c,(function(){return t!==c?A():void 0}))}function m(t,n,i){"errored"===t.ja?i(t.GV):Gd(n,i)}function p(t,i,r){function e(){Qd(t(),(function(){return k(i,r)}),(function(t){return k(!0,t)}))}!0!==a&&(a=!0,"writable"===n.ja&&!1===jl(n)?Yd(A(),e):e())}function _(t,i){!0!==a&&(a=!0,"writable"===n.ja&&!1===jl(n)?Yd(A(),(function(){return k(t,i)})):k(t,i))}function k(t,n){Ql(o),Kd(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}Vd(Rd((function(t,n){!function i(r){r?t():Ud(!0===a?Bd(!0):Ud(o.dW,(function(){return Ud(dl(s),(function(t){return!0===t.done||(c=Ud(Yl(o,t.value),void 0,pd),!1)}))})),i,n)}(!1)})))}))}var dg=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===lg(this))throw bg("desiredSize");return _g(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===lg(this))throw bg("close");if(!1===kg(this))throw new d("The stream is not in a state that permits close");Ag(this)},t.prototype.enqueue=function(t){if(!1===lg(this))throw bg("enqueue");if(!1===kg(this))throw new d("The stream is not in a state that permits enqueue");return mg(this,t)},t.prototype.error=function(t){if(!1===lg(this))throw bg("error");pg(this,t)},t.prototype[il]=function(t){pl(this);var n=this.bW(t);return yg(this),n},t.prototype[rl]=function(){var t=this.TW;if(this.JV.length>0){var n=Al(this);return!0===this.SW&&0===this.JV.length?(yg(this),uw(t)):gg(this),Bd(Xd(n,!1,t.YV.QV))}var i=ul(t);return gg(this),i},t}();function lg(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"TW")}function gg(t){!1!==wg(t)&&(!0!==t.NW?(t.NW=!0,Qd(t.IW(),(function(){t.NW=!1,!0===t.DW&&(t.DW=!1,gg(t))}),(function(n){pg(t,n)}))):t.DW=!0)}function wg(t){var n=t.TW;return!1!==kg(t)&&(!1!==t.cW&&(!0===rw(n)&&ol(n)>0||_g(t)>0))}function yg(t){t.IW=void 0,t.bW=void 0,t.gW=void 0}function Ag(t){var n=t.TW;t.SW=!0,0===t.JV.length&&(yg(t),uw(n))}function mg(t,n){var i=t.TW;if(!0===rw(i)&&ol(i)>0)sl(i,n,!1);else{var r=void 0;try{r=t.gW(n)}catch(n){throw pg(t,n),n}try{ml(t,n,r)}catch(n){throw pg(t,n),n}}gg(t)}function pg(t,n){var i=t.TW;"readable"===i.ja&&(pl(t),yg(t),sw(i,n))}function _g(t){var n=t.TW.ja;return"errored"===n?null:"closed"===n?0:t.mW-t.$V}function kg(t){var n=t.TW.ja;return!1===t.SW&&"readable"===n}function Mg(t,n,i,r,e,u,s){n.TW=t,n.JV=void 0,n.$V=void 0,pl(n),n.cW=!1,n.SW=!1,n.DW=!1,n.NW=!1,n.gW=s,n.mW=u,n.IW=r,n.bW=e,t.ZV=n,Qd(Bd(i()),(function(){n.cW=!0,gg(n)}),(function(t){pg(n,t)}))}function bg(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Tg=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&g.floor(t)===t},Ng=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===Eg(this))throw Vg("view");return this.QI},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Eg(this))throw Vg("respond");if(void 0===this.EW)throw new d("This BYOB request has been invalidated");this.QI.buffer,function(t,n){if(n=Number(n),!1===Nd(n))throw new RangeError("bytesWritten must be a finite");Pg(t,n)}(this.EW,t)},t.prototype.respondWithNewView=function(t){if(!1===Eg(this))throw Vg("respond");if(void 0===this.EW)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.kW.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Pg(t,n.byteLength)}(this.EW,t)},t}(),Dg=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ig(this))throw Wg("byobRequest");if(void 0===this.LW&&this.kW.length>0){var t=this.kW.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(Ng.prototype);!function(t,n,i){t.EW=n,t.QI=i}(i,this,n),this.LW=i}return this.LW},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ig(this))throw Wg("desiredSize");return Gg(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ig(this))throw Wg("close");if(!0===this.SW)throw new d("The stream has already been closed; do not close it again!");var t=this.xW.ja;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.xW;if(t.$V>0)return void(t.SW=!0);if(t.kW.length>0){if(t.kW.peek().bytesFilled>0){var i=new d("Insufficient bytes to fill elements in the given buffer");throw Yg(t,i),i}}Qg(t),uw(n)}(this)},t.prototype.enqueue=function(t){if(!1===Ig(this))throw Wg("enqueue");if(!0===this.SW)throw new d("stream is closed or draining");var n=this.xW.ja;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.xW,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;if(!0===al(i)){if(0===ol(i))jg(t,s,e,u);else sl(i,new m(s,e,u),!1)}else!0===Hg(i)?(jg(t,s,e,u),Bg(t)):jg(t,s,e,u);Sg(t)}(this,t)},t.prototype.error=function(t){if(!1===Ig(this))throw Wg("error");Yg(this,t)},t.prototype[il]=function(t){this.kW.length>0&&(this.kW.peek().bytesFilled=0);pl(this);var n=this.bW(t);return Qg(this),n},t.prototype[rl]=function(){var t=this.xW;if(this.$V>0){var n=this.JV.shift();this.$V-=n.byteLength,zg(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Pd(t)}return Bd(Xd(i,!1,t.YV.QV))}var r=this.OW;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Pd(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.kW.push(u)}var s=ul(t);return Sg(this),s},t}();function Ig(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"xW")}function Eg(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"EW")}function Sg(t){var n=function(t){var n=t.xW;if("readable"!==n.ja)return!1;if(!0===t.SW)return!1;if(!1===t.cW)return!1;if(!0===al(n)&&ol(n)>0)return!0;if(!0===Hg(n)&&Zg(n)>0)return!0;var i=Gg(t);if(i>0)return!0;return!1}(t);!1!==n&&(!0!==t.NW?(t.NW=!0,Qd(t.IW(),(function(){t.NW=!1,!0===t.DW&&(t.DW=!1,Sg(t))}),(function(n){Yg(t,n)}))):t.DW=!0)}function Lg(t,n){var i=!1;"closed"===t.ja&&(i=!0);var r=Cg(n);"default"===n.readerType?sl(t,r,i):function(t,n,i){var r=t.YV,e=r.jW.shift();e.lf(Xd(n,i,r.QV))}(t,r,i)}function Cg(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function jg(t,n,i,r){t.JV.push({buffer:n,byteOffset:i,byteLength:r}),t.$V+=r}function xg(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=g.min(t.$V,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c=t.JV;o>0;){var h=c.peek(),f=g.min(o,h.byteLength),v=n.byteOffset+n.bytesFilled;Td(n.buffer,v,h.buffer,h.byteOffset,f),h.byteLength===f?c.shift():(h.byteOffset+=f,h.byteLength-=f),t.$V-=f,Og(t,f,n),o-=f}return a}function Og(t,n,i){Rg(t),i.bytesFilled+=n}function zg(t){0===t.$V&&!0===t.SW?(Qg(t),uw(t.xW)):Sg(t)}function Rg(t){void 0!==t.LW&&(t.LW.EW=void 0,t.LW.QI=void 0,t.LW=void 0)}function Bg(t){for(;t.kW.length>0;){if(0===t.$V)return;var n=t.kW.peek();!0===xg(t,n)&&(Ug(t),Lg(t.xW,n))}}function Pg(t,n){var i=t.kW.peek();if("closed"===t.xW.ja){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.xW;if(!0===Hg(i))for(;Zg(i)>0;)Lg(i,Ug(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Og(t,n,i),!(i.bytesFilled<i.elementSize)){Ug(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);jg(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Lg(t.xW,i),Bg(t)}}(t,n,i);Sg(t)}function Ug(t){var n=t.kW.shift();return Rg(t),n}function Qg(t){t.IW=void 0,t.bW=void 0}function Yg(t,n){var i=t.xW;"readable"===i.ja&&(!function(t){Rg(t),t.kW=new Wd}(t),pl(t),Qg(t),sw(i,n))}function Gg(t){var n=t.xW.ja;return"errored"===n?null:"closed"===n?0:t.mW-t.$V}function Fg(t,n,i){var r=l.create(Dg.prototype);var e=Id(n,"pull",0,[r]),u=Id(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Tg(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.xW=t,n.DW=!1,n.NW=!1,n.LW=void 0,n.JV=n.$V=void 0,pl(n),n.SW=!1,n.cW=!1,n.mW=Ld(u),n.IW=r,n.bW=e,n.OW=s,n.kW=new Wd,t.ZV=n,Qd(Bd(i()),(function(){n.cW=!0,Sg(n)}),(function(t){Yg(n,t)}))}(t,r,(function(){return Ed(n,"start",[r])}),e,u,i,s)}function Vg(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Wg(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Xg(t){return Rd((function(n,i){var r={lf:n,CL:i};t.YV.jW.push(r)}))}function Zg(t){return t.YV.jW.length}function Hg(t){var n=t.YV;return void 0!==n&&!!Jg(n)}var Kg=function(){function t(t){if(!iw(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ig(t.ZV))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(rw(t))throw new d("This stream has already been locked for exclusive reading by another reader");Zd(this,t),this.jW=new Wd}return l.defineProperty(t.prototype,"closed",{get:function(){return Jg(this)?this.ZC:Pd(qg("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Jg(this)?void 0===this.FV?Pd(Jd("cancel")):Hd(this,t):Pd(qg("cancel"))},t.prototype.read=function(t){return Jg(this)?void 0===this.FV?Pd(Jd("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Pd(new d("view must have non-zero byteLength")):function(t,n){var i=t.FV;if(i.XV=!0,"errored"===i.ja)return Pd(i.GV);return function(t,n){var i=t.xW,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.kW.length>0)return t.kW.push(u),Xg(i);if("closed"===i.ja)return Bd(Xd(new e(u.buffer,u.byteOffset,0),!0,i.YV.QV));if(t.$V>0){if(!0===xg(t,u)){var s=Cg(u);return zg(t),Bd(Xd(s,!1,i.YV.QV))}if(!0===t.SW){var o=new d("Insufficient bytes to fill elements in the given buffer");return Yg(t,o),Pd(o)}}t.kW.push(u);var a=Xg(i);return Sg(t),a}(i.ZV,n)}(this,t)):Pd(new d("view must be an array buffer view")):Pd(qg("read"))},t.prototype.releaseLock=function(){if(!Jg(this))throw qg("releaseLock");if(void 0!==this.FV){if(this.jW.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Kd(this)}},t}();function Jg(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"jW")}function qg(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var $g=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),nw(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Fg(this,t,r=Ld(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=Cd(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(dg.prototype),u=Id(n,"pull",0,[e]),s=Id(n,"cancel",1,[]);Mg(t,e,(function(){return Ed(n,"start",[e])}),u,s,i,r)}(this,t,r=Ld(r),u)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===iw(this))throw ow("locked");return rw(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===iw(this)?Pd(ow("cancel")):!0===rw(this)?Pd(new d("Cannot cancel a stream that already has a reader")):ew(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===iw(this))throw ow("getReader");if(void 0===n)return el(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Kg(t);return i.QV=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===iw(this))throw ow("pipeThrough");if(!1===Nl(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===iw(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!cg(a))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===rw(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Dl(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Vd(vg(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===iw(this)?Pd(ow("pipeTo")):!1===Nl(t)?Pd(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||cg(s)?!0===rw(this)?Pd(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Dl(t)?Pd(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):vg(this,t,r,e,u,s):Pd(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===iw(this))throw ow("tee");var t=function(t,n){var i,r,e,u,s,o=el(t),a=!1,c=!1,h=!1,f=Rd((function(t){s=t}));function v(){return!0===a||(a=!0,Vd(Fd(dl(o),(function(t){if(a=!1,!0===t.done)return!1===c&&Ag(e.ZV),void(!1===h&&Ag(u.ZV));var n=t.value,i=n,r=n;!1===c&&mg(e.ZV,i),!1===h&&mg(u.ZV,r)})))),Bd(void 0)}function d(){}return e=tw(d,v,(function(n){if(c=!0,i=n,!0===h){var e=bd([i,r]),u=ew(t,e);s(u)}return f})),u=tw(d,v,(function(n){if(h=!0,r=n,!0===c){var e=bd([i,r]),u=ew(t,e);s(u)}return f})),Gd(o.ZC,(function(t){pg(e.ZV,t),pg(u.ZV,t)})),[e,u]}(this);return bd(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===iw(this))throw ow("getIterator");return function(t,n){void 0===n&&(n=!1);var i=el(t),r=l.create(gl);return r.qV=i,r.KV=Boolean(n),r}(this,i)},t}();function tw(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=l.create($g.prototype);return nw(u),Mg(u,l.create(dg.prototype),t,n,i,r,e),u}function nw(t){t.ja="readable",t.YV=void 0,t.GV=void 0,t.XV=!1}function iw(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"ZV")}function rw(t){return void 0!==t.YV}function ew(t,n){return t.XV=!0,"closed"===t.ja?Bd(void 0):"errored"===t.ja?Pd(t.GV):(uw(t),Fd(t.ZV[il](n),pd))}function uw(t){t.ja="closed";var n=t.YV;void 0!==n&&(vl(n)&&(n.HV.forEach((function(t){t.lf(Xd(void 0,!0,n.QV))})),n.HV=new Wd),nl(n))}function sw(t,n){t.ja="errored",t.GV=n;var i=t.YV;void 0!==i&&(vl(i)?(i.HV.forEach((function(t){t.CL(n)})),i.HV=new Wd):(i.jW.forEach((function(t){t.CL(n)})),i.jW=new Wd),tl(i,n))}function ow(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof md.asyncIterator&&l.defineProperty($g.prototype,md.asyncIterator,{value:$g.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});!function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}t.prototype.size=function(t){return t.byteLength}}();var aw=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),cw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Cd(r);if(void 0===e&&(e=1),e=Ld(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=Cd(u);void 0===s&&(s=0),s=Ld(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.RW;if(!0===t.oW){return Fd(t.PW,(function(){var r=t.zW;if("erroring"===r.ja)throw r.GV;return Aw(i,n)}))}return Aw(i,n)}(t,n)}function a(n){return function(t,n){return fw(t,n),Bd(void 0)}(t,n)}function c(){return function(t){var n=t.BW,i=t.RW,r=i.UW();return ww(i),Fd(r,(function(){if("errored"===n.ja)throw n.GV;var t=n.ZV;!0===kg(t)&&Ag(t)}),(function(i){throw fw(t,i),n.GV}))}(t)}function h(){return function(t){return dw(t,!1),t.PW}(t)}function f(n){return vw(t,n),Bd(void 0)}t.zW=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=l.create(Ml.prototype);return Tl(s),Fl(s,l.create(Gl.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.BW=tw(s,h,f,e,u),t.oW=void 0,t.PW=void 0,t.QW=void 0,dw(t,!0),t.RW=void 0}(this,Rd((function(t){a=t})),e,o,s,c),function(t,n){var i=l.create(lw.prototype),r=function(t){try{return yw(i,t),Bd(void 0)}catch(t){return Pd(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return Sd(e,n,[t,i])}}var u=Id(n,"flush",0,[i]);!function(t,n,i,r){n.FW=t,t.RW=n,n.YW=i,n.UW=r}(t,i,r,u)}(this,t);var h=Ed(t,"start",[this.RW]);a(h)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===hw(this))throw pw("readable");return this.BW},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===hw(this))throw pw("writable");return this.zW},enumerable:!0,configurable:!0}),t}();function hw(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"RW")}function fw(t,n){pg(t.BW.ZV,n),vw(t,n)}function vw(t,n){ww(t.RW),Zl(t.zW.tW,n),!0===t.oW&&dw(t,!1)}function dw(t,n){void 0!==t.PW&&t.QW(),t.PW=Rd((function(n){t.QW=n})),t.oW=n}var lw=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===gw(this))throw mw("desiredSize");return _g(this.FW.BW.ZV)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===gw(this))throw mw("enqueue");yw(this,t)},t.prototype.error=function(t){if(!1===gw(this))throw mw("error");!function(t,n){fw(t.FW,n)}(this,t)},t.prototype.terminate=function(){if(!1===gw(this))throw mw("terminate");!function(t){var n=t.FW,i=n.BW.ZV;!0===kg(i)&&Ag(i);var r=new d("TransformStream terminated");vw(n,r)}(this)},t}();function gw(t){return!!Md(t)&&!!l.prototype.hasOwnProperty.call(t,"FW")}function ww(t){t.YW=void 0,t.UW=void 0}function yw(t,n){var i=t.FW,r=i.BW.ZV;if(!1===kg(r))throw new d("Readable side is not in a state that permits enqueue");try{mg(r,n)}catch(t){throw vw(i,t),i.BW.GV}var e=function(t){return!0!==wg(t)}(r);e!==i.oW&&dw(i,!0)}function Aw(t,n){return Fd(t.YW(n),void 0,(function(n){throw fw(t.FW,n),n}))}function mw(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function pw(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}wt(),C(),mt(),Mt();var _w,kw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return kt(n,t),At(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Io);function Mw(t){return function(t){return new $g({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function bw(t){return Mw(function(t){return new m(t)}(t))}function Tw(t,n){var i=n,r=t.getReader(),e=new Cc,u=function(){s();var t=new Lo;r.cancel(t).catch(Hn),e.xL(t)},s=function(){i&&(i.c_(u),i=void 0)};i&&(i.n_?u():i.u_(u));var o=[],a=function(t){return t.done?(s(),K.resolve(o)):(o.push(t.value),K.resolve(r.read()).then(a))};return K.resolve(r.read()).then(a).then((function(t){s(),e.LL(t)}),(function(t){s(),e.xL(t)})),e.OL}function Nw(t,n){return Tw(t,n).then((function(t){return _a(t).buffer}))}function Dw(t,n){var i=n,r=new cw,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.g_()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Hn)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Hn)})),e}function Iw(t){var n=new cw,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=Bn(n)?n[0]===n[1]||Co(n[0])&&Co(n[1])?n[0]:new kw(n):n,t.cancel(i).catch(Hn)})),i.tee()}function Ew(t){return yc(new m(t))}function Sw(t){return Ac(t).buffer}wt(),C(),function(t){t[t.DD=0]="DD",t[t.GW=1]="GW"}(_w||(_w={}));var Lw="content-type",Cw="text/plain;charset=UTF-8",jw=function(){function t(){}var n=t.prototype;return n.SR=function(t){return this.uE(t).then(JSON.parse)},n.sR=function(t,n){switch(t){case ld.SD:return this.GR(n);case ld.ND:return this.SR(n);case ld.DD:return this.VW();case ld.Ru:return this.uE(n);default:throw new d}},t}();function xw(t,n,i){if(t instanceof jw)return t;if(t instanceof $g)return function(t,n){return new zw({Av:0,VW:t,Nz:Ow(n)})}(t,i);var r=Ow(i),e=K.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Av:ld.Ru,HD:t,Nz:n||Cw};if(t instanceof ArrayBuffer||Aa(t))return{Av:ld.SD,HD:Gw(t),Nz:n};if(Qn(t)||Bn(t))return{Av:ld.ND,HD:t,Nz:n};throw new d("Unsupported BodyInit type")}return{Av:ld.Ru,HD:null,Nz:n}}(t,r)}));return new zw({Av:1,OL:e,WW:n})}function Ow(t){return(t.get(Lw)||"").toLowerCase()}var zw=function(t){function n(n){var i;return(i=t.call(this)||this).XW=!1,i.JW=new Cc,i.JW.OL.catch(Hn),i.iH(n),i}kt(n,t);var i=n.prototype;return i.KW=function(){return this.JW.OL},i.uE=function(t){return this.$W(Rw,t)},i.SR=function(t){return this.$W(Pw,t)},i.GR=function(t){return this.$W(Qw,t)},i.VW=function(){return this.tH(function(t){return 0===t.Av?t.VW:Dw(t.OL.then(Yw).then(bw),t.WW)}(this.qW))},i.$W=function(t,n){if(this.XW)return K.reject(new d("Already used"));this.XW=!0;var i=t(this.qW,n);return this.JW.w_(i.then(Hn)),i},i.tH=function(t){if(this.XW)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.XW=!0;var n=new cw,i=K.resolve(t.pipeTo(n.writable));return this.JW.w_(i),n.readable},i.iH=function(t){this.qW=t,1===t.Av&&t.OL.catch(Hn)},i.eH=function(){if(this.XW)throw new d("Already used");var t=function(t){if(0===t.Av){var n=Gt(t.VW.tee(),2),i=n[0],r=n[1];return[{Av:t.Av,VW:i,Nz:t.Nz},{Av:t.Av,VW:r,Nz:t.Nz}]}var e=Gt(t.WW.v_(),2),u=e[0],s=e[1];return[{Av:t.Av,OL:t.OL,WW:u},{Av:t.Av,OL:t.OL,WW:s}]}(this.qW),i=t[0],r=t[1];return this.iH(i),new n(r)},At(n,[{key:"HW",get:function(){return this.XW}},{key:"ZW",get:function(){return 0===this.qW.Av}}]),n}(jw);function Rw(t,n){return 0===t.Av?Nw(t.VW,n).then(Ew):(n&&t.WW.w_(n),Ro(t.OL.then(Bw),t.WW))}function Bw(t){switch(t.Av){case ld.Ru:return K.resolve(t.HD||"");case ld.SD:return K.resolve(t.HD).then(Ew);case ld.ND:return K.resolve(t.HD).then(JSON.stringify)}}function Pw(t,n){return 0===t.Av?Rw(t,n).then(JSON.parse):(n&&t.WW.w_(n),Ro(t.OL.then(Uw),t.WW))}function Uw(t){return t.Av===ld.ND?K.resolve(t.HD):Bw(t).then(JSON.parse)}function Qw(t,n){return 0===t.Av?Nw(t.VW,n):(n&&t.WW.w_(n),Ro(t.OL.then(Yw),t.WW))}function Yw(t){switch(t.Av){case ld.SD:return K.resolve(t.HD);case ld.Ru:case ld.ND:return Bw(t).then(Sw)}}function Gw(t){return t instanceof ArrayBuffer?t:Dc(Mc(t)).buffer}var Fw=function(t){function n(n){var i;return(i=t.call(this)||this).sH=n,i}kt(n,t);var i=n.prototype;return i.KW=function(){return this.sH.KW()},i.uE=function(t){return this.sH.uE(t)},i.SR=function(t){return this.sH.SR(t)},i.GR=function(t){return this.sH.GR(t)},i.VW=function(t){return this.sH.VW(t)},i.eH=function(){return this.sH.eH()},At(n,[{key:"HW",get:function(){return this.sH.HW}},{key:"ZW",get:function(){return this.sH.ZW}}]),n}(jw);function Vw(t){return t.fD>=200&&t.fD<=299||304===t.fD}var Ww,Xw,Zw,Hw,Kw,Jw=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.XD,u=i.qD,s=i.fD,o=i.NR,a=i.nH):(e=[],u=ld.Ru,s=200,o="OK",a=!1);var c=n.uD,h=new wd(n.XD||e),f=n.qD||u,v=n.cE||(i&&i.uD===c?i.cE:c.zu),d=i?i.sH:null,l=xw(void 0!==n.ly?n.ly:d,n.WW||new So,h);return(r=t.call(this,l)||this).XD=h,r.uD=c,r.cE=v,r.qD=f,r.fD=void 0!==n.fD?n.fD:s,r.NR=void 0!==n.NR?String(n.NR):o,r.nH=n.nH||a,r}kt(n,t);var i=n.prototype;return i.ly=function(t){return this.sR(this.qD,t)},i.$A=function(){return new n({ly:this.eH(),uD:this.uD},this)},n}(Fw);wt(),C(),function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Ww||(Ww={})),function(t){t.jT="",t.xD="manifest",t.CD="segment",t.OD="preload-hint",t.jD="content-protection"}(Xw||(Xw={})),function(t){t.jT="",t.RD="initialization-segment",t.PD="fairplay-license",t.zD="fairplay-certificate",t.BD="widevine-license",t.UD="widevine-certificate",t.QD="playready-license",t.FD="clearkey-license",t.YD="aes128-key"}(Zw||(Zw={})),function(t){t.jT="",t.WA="audio",t.VA="video",t.Ru="text",t.OT="image"}(Hw||(Hw={})),function(t){t.GD="same-origin",t.mp="no-cors",t.VD="cors",t.WD="navigate"}(Kw||(Kw={}));var qw=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p=t.zu;n?(i=n.HD,r=n.XD,e=n.ZD,u=n.qD,s=n._D,o=n.KD,a=n.f_,c=n.Av,h=n.JD,f=n.$D,v=n.tE,d=n.iE,l=n._v,g=n.eE,w=n.sE):(i=null,r={},e="GET",u=ld.Ru,s=0,o=0,c="",h="",f="",v=!1,l=void 0,g=!1,w=void 0),this.zu=p,this.HD=t.HD||i,this.XD=new wd(t.XD||r),this.ZD=t.ZD||e,this.qD=t.qD||u,this._D=void 0!==t._D?Number(t._D)||0:s,this.KD=void 0!==t.KD?Number(t.KD)||0:o,this.f_=t.f_||a||(new So).f_,this.Av=t.Av||c,this.JD=t.JD||h,this.$D=t.$D||f,this.tE=void 0!==t.tE?Boolean(t.tE):v,this.iE=t.iE||d,this._v=null!=(y=t._v)?y:l,this.eE=null!=(A=t.eE)?A:g,this.sE=null!=(m=t.sE)?m:w},$w=function(){function t(){}var n=t.prototype;return n.uD=function(t){var n=function(t){return new Jw({ly:null,XD:{},uD:t,cE:t.zu,qD:t.qD,fD:0,NR:dd.Hv})}(new qw(t));return K.resolve(n)},n.NG=function(t){},n.gn=function(){},t}();var ty=function(){function t(t,n){void 0===n&&(n=!0),this.aH=t,this.cH=n}var n=t.prototype;return n.uD=function(t){var n=this.hH(t);return this.aH.uD(n)},n.NG=function(t){return this.aH.NG(this.uH(t))},n.hH=function(n){var i=new qw(n);if(!this.cH){var r=t.lH(i.zu);i=new qw({zu:r},i)}return i},n.uH=function(n){var i=n.zu;return this.cH||(i=t.lH(i)),{zu:i,HD:n.HD}},n.gn=function(){this.aH.gn()},t.lH=function(t){return on.dH&&Ls(t,"http://")?t.replace(":","s:"):t},At(t,null,[{key:"rH",get:function(){return t.oH||(t.oH=new t(new $w)),t.oH}}]),t}();function ny(t,n){var i=on.Dh(t);return iy(i,n),i.toString()}function iy(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function ry(t,n){var i=on.wp(t);return n&&!Cs(i,"/")&&(i+="/"),i}ty.oH=void 0,wt(),C(),wt(),C(),Ot(),mt(),Mt(),Ft(),Pt(),wt(),C();var ey,uy=/cache:(.+)?(?=&|$)/,sy="http://webcache.googleusercontent.com/search?q=cache:";function oy(t){if(!Ls(t,sy))return"";var n=on.Dh(t).search.match(uy);return n&&n.length>1?n[1]:""}function ay(t){return on.Dh(".",t)}wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),function(t){t.oD="HttpOpenError",t.hD="HttpResponseError",t.aD="HttpTimeoutError"}(ey||(ey={}));var cy=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).cD=n,e}return kt(n,t),At(n,[{key:"uD",get:function(){return this.cD}}]),n}(Io);var hy=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.zu),i)}return kt(n,t),At(n,[{key:"name",get:function(){return ey.oD}}]),n}(cy);wt(),C(),mt(),Mt();var fy=function(t){function n(n,i,r){var e;return(e=t.call(this,n.uD,null!=r?r:function(t){return"Error while loading "+t.uD.zu+", status code "+t.fD}(n),i)||this).dD=n,e}return kt(n,t),At(n,[{key:"name",get:function(){return ey.hD}},{key:"lD",get:function(){return this.dD}}]),n}(cy);wt(),C(),mt(),Mt();var vy=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.zu+" timed out after "+t._D+" seconds."}(n),i)}return kt(n,t),At(n,[{key:"name",get:function(){return ey.aD}}]),n}(cy);wt(),C();var dy=self.fetch,ly=self.Request,gy=self.Response,wy=self.Headers,yy=self.ReadableStream,Ay=self.AbortSignal,my=self.AbortController,py=$n((function(){try{return Xn(dy)&&Zn(ly)&&Zn(gy)&&Zn(wy)&&"forEach"in wy.prototype&&Wu()}catch(t){return!1}})),_y=["http:","https:"];var ky=$n((function(){try{return py()&&Zn(Ay)&&Zn(my)&&"signal"in ly.prototype}catch(t){return!1}})),My=$n((function(){try{return py()&&Zn(yy)&&"body"in gy.prototype&&!jn.XE}catch(t){return!1}}));function by(t){return t instanceof cy}function Ty(t){return t instanceof fy}function Ny(t,n){var i,r=t.XD.has("content-length")?Number(t.XD.get("content-length")):void 0;return i=t.ZW?function(t,n,i){return t.pipeThrough(new cw(new Dy(n,i)))}(t.VW(),n,r):function(t,n,i){return Iy.apply(this,arguments)}(t.GR(),n,r),new Jw({ly:i,uD:t.uD},t)}wt(),C(),wt(),C(),Ot(),Pt();var Dy=function(){function t(t,n){this.ist=t,this.sst=n,this.tst=0}var n=t.prototype;return n.transform=function(t,n){this.tst+=t.byteLength,this.ist(this.tst,this.sst),n.enqueue(t)},n.flush=function(t){var n;this.ist(this.tst,null!=(n=this.sst)?n:this.tst)},t}();function Iy(){return Iy=xt((function(t,n,i){var r,e;return zt(this,(function(u){switch(u.label){case 0:return[4,K.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),Iy.apply(this,arguments)}var Ey=function(){function t(t){this.$O=new So,this.dD=void 0,this.Dm=0,this.rst=!1,this.cD=t,this.$O.w_(t.f_),this.lD=this.nst()}var n=t.prototype;return n.nst=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,h,f;return zt(this,(function(v){switch(v.label){case 0:(n=t.cD)._D&&(t.Dm=a((function(){t.rst=!0,t.$O.g_()}),n._D),t.$O.f_.l_((function(){c(t.Dm)})));try{i=dy(n.zu,{method:n.ZD,headers:n.XD.ED(),body:n.HD,credentials:n.tE?"include":"same-origin",signal:Cy(t.$O.f_),mode:n._v,keepalive:n.sE})}catch(t){throw new hy(n,t)}v.label=1;case 1:return v.trys.push([1,3,,4]),[4,i];case 2:return r=v.sent(),[3,4];case 3:throw e=v.sent(),Co(u=t.ost(e))&&t.$O.g_(),u;case 4:if(s=r.url||n.zu,o=0===r.status&&"file:"===function(t){return on.Dh(t).protocol}(s)?200:r.status,h=new Sy(t,r,t.$O),!Vw(f=new Jw({ly:h,uD:n,qD:n.qD,XD:jy(r.headers),fD:o,NR:r.statusText,cE:s})))throw new fy(f);return n.iE&&(f=Ny(f,n.iE)),[2,f]}}))}))()},n.ost=function(t){return by(t)?t:Co(t)?this.rst?new vy(this.cD):new Lo(t.message,t):this.dD?new fy(this.dD,t):new hy(this.cD,t)},t}(),Sy=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).JW=new Cc,e.ast=n,e.hst=i,e.$O=r,e.JW.OL.catch(Hn),e}kt(n,t);var i=n.prototype;return i.KW=function(){return this.JW.OL},i.uE=function(t){return this.$W(this.hst.text(),t)},i.GR=function(t){return this.$W(this.hst.arrayBuffer(),t)},i.VW=function(){var t=this.hst.body;return t?this.tH(t):Dw(this.GR().then(bw),this.$O)},i.eH=function(){var t=this.hst.clone(),i=Gt(this.$O.v_(),2),r=i[0],e=i[1];return this.$O=r,new n(this.ast,t,e)},i.$W=function(t,n){var i=this;n&&this.$O.w_(n);var r=zo(K.resolve(t),this.$O.f_).catch((function(t){throw i.ast.ost(t)}));return r=Ro(r,this.$O),this.JW.w_(r.then(Hn)),r},i.tH=function(t){var n=this;return new $g(new Oy(t,(function(t){return n.ast.ost(t)}),this.$O,this.JW),{highWaterMark:0})},At(n,[{key:"HW",get:function(){return this.hst.bodyUsed}},{key:"ZW",get:function(){return zn(this.hst.body)}}]),n}(jw),Ly="abort";function Cy(t){if(ky()){var n=new my;if(t.n_)n.abort();else if(!t.r_){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Ly,i),t.c_(i),t.d_(r)};n.signal.addEventListener(Ly,i),t.u_(i),t.l_(r)}return n.signal}}function jy(t){if(function(t){return Un(t)&&"function"==typeof t.forEach}(t)){var n=new wd;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new wd(t)}var xy,Oy=function(){function t(t,n,i,r){this.ust=t,this.cst=n,this.$O=i,this.JW=r}var n=t.prototype;return n.start=function(t){this.YV=this.ust.getReader()},n.pull=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,zo(n.YV.read(),n.$O.f_)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.cst(r),n.JW.xL(e),n.$O.g_(),n.YV.cancel(e).catch(Hn),t.error(e),[2];case 3:return i.done?(n.JW.LL(),n.$O.g_(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.$O.g_(),this.JW.xL(t),this.YV.cancel(t)},t}();wt(),C(),mt(),function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(xy||(xy={}));var zy=function(){function t(t){var n=this;this.$O=new So,this.dD=void 0,this.lst=new Cc,this.pst=!1,this.mst=function(){var t;n.fst(),null==(t=n.dst)||t.abort()},this.cD=t,this.$O.w_(t.f_),this.dst=new _,this.nst()}var n=t.prototype;return n.nst=function(){var t=this,n=this.dst,i=this.cD;if(i.f_.n_)return this.fst();n.onreadystatechange=function(){return t._st()},n.onprogress=function(n){return t.ist(n)},n.onload=function(){return t.gst()},n.onloadend=function(){return t.wst()},n.onerror=function(){return t.Iq()},n.ontimeout=function(){return t.vst()},n.onabort=function(){return t.fst()},n.open(i.ZD,i.zu,!0),n.withCredentials=Boolean(i.tE),"responseType"in n&&i.qD&&(i.qD===ld.Ru?n.responseType="text":n.responseType="arraybuffer"),i.XD.forEach((function(t,i){n.setRequestHeader(i,t)})),i._D&&(n.timeout=i._D),this.$O.f_.u_(this.mst);var r=i.HD;r?n.send(r):n.send()},n._st=function(){var t=this.dst;void 0!==t&&t.readyState>=2&&!this.pst&&(this.pst=!0,this.Ast())},n.Ast=function(){var t,n,i=this.dst,r=function(t){var n=new wd,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.cD;this.yst=new Cc,this.dD=new Jw({uD:e,qD:e.qD,ly:this.yst.OL,fD:i.status,NR:i.statusText,XD:r,cE:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.lst)||t.LL(this.dD)},n.gst=function(){var t,n=this.dst;if(void 0!==n){var i=n.response;if(!zn(i)){var r=this.cD.qD;i=r===ld.Ru?n.responseText:r===ld.SD?new ArrayBuffer(0):{}}null==(t=this.yst)||t.LL(i)}},n.wst=function(){this.gn()},n.ist=function(t){void 0!==this.dst&&(null==this.cD.iE||this.cD.iE.call(this.cD,t.loaded,t.lengthComputable?t.total:void 0))},n.Iq=function(){var t=new v("Network request failed");this.dD?this.Ss(new fy(this.dD,t)):this.Ss(new hy(this.cD,t))},n.vst=function(){this.Ss(new vy(this.cD))},n.fst=function(){this.Ss(new Lo),this.gn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.yst)?i:this.lst)||n.xL(t)},n.gn=function(){this.dst=void 0,this.dD=void 0,this.lst=void 0,this.yst=void 0,this.$O.h_()},At(t,[{key:"lD",get:function(){return this.lst.OL}}]),t}();function Ry(t,n,i){return new K((function(r,e){if(i&&i.n_)return e(new Lo);var u=function(t){o(),r(t)},s=function(){o(),e(new Lo)},o=function(){t.removeEventListener(n,u),i&&i.c_(s)};t.addEventListener(n,u),i&&i.u_(s)}))}wt(),C();var By,Py=function(){function t(){}var n=t.prototype;return n.uD=function(t){return function(t){if(!py()||!function(t){try{return _y.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.zu))return!1;if(!My()&&t.iE)return!1;if(!t.eE){if(jn.yk&&jn.hk<=68)return!1;if(jn.wk)return!1}return!0}(t)?new Ey(t).lD:new zy(t).lD},n.NG=function(t){if(eu&&eu.sendBeacon)eu.sendBeacon(t.zu,fd([t.HD],{type:t.Nz}));else{var n=t.Nz?{"Content-type":t.Nz}:void 0;this.uD(new qw({ZD:Ww.POST,zu:t.zu,HD:t.HD,XD:n,_v:Kw.mp})).then((function(t){Qo(t.GR())}),Hn)}},n.gn=function(){},t}();function Uy(t){return 1===t.CI}function Qy(t){return 3===t.CI}wt(),C(),mt(),Mt(),wt(),C(),function(t){t[t.OI=1]="OI",t[t.jI=2]="jI",t[t.Ru=3]="Ru",t[t.RI=4]="RI",t[t.zI=9]="zI"}(By||(By={})),wt(),C(),Mt();var Yy=function(t){function n(n){return t.call(this,"Invalid XML",n)}return kt(n,t),n}(Io),Gy=function(){function t(){}return t.prototype.KI=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Yy(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Yy;return new Ky(n)},t}(),Fy=function(){function t(t){this.Mst=t}var n=t.prototype;return n.xI=function(t){return this.Mst.isEqualNode(t.Mst)},n.UI=function(n){return new t(this.Mst.cloneNode(n))},At(t,[{key:"CI",get:function(){return By.jI}},{key:"qI",get:function(){var t;return null!=(t=this.Mst.localName)?t:$y(this.Mst.nodeName)}},{key:"l",get:function(){return this.Mst.nodeName}},{key:"bst",get:function(){var t;return null!=(t=this.Mst.namespaceURI)?t:void 0}},{key:"Tst",get:function(){var t;return null!=(t=this.Mst.prefix)?t:void 0}},{key:"lT",get:function(){return this.Mst.nodeValue}}]),t}(),Vy=function(){function t(t){this.Sst=void 0,this.Nst=t}var n=t.prototype;return n.XI=function(t){return this.iD.filter((function(n){return Jy(n)&&n.WR===t}))},n.HI=function(t,n){return this.iD.filter((function(i){return Jy(i)&&i.qI===n&&i.bst===t}))},n.eD=function(t){this.Nst.appendChild(t.TI),this.Sst&&this.Sst.push(t)},n.xI=function(t){return this.Nst.isEqualNode(t.TI)},At(t,[{key:"iD",get:function(){return void 0===this.Sst&&(this.Sst=function(t){for(var n=[],i=0;i<t.length;i++){var r=qy(t.item(i));r&&n.push(r)}return n}(this.Nst.childNodes)),this.Sst}},{key:"m",get:function(){return this.iD.filter(Jy)}},{key:"TI",get:function(){return this.Nst}}]),t}(),Wy=function(t){function n(n){return t.call(this,n)}kt(n,t);var i=n.prototype;return i.$I=function(t){if(this.Nst.hasAttribute(t))return this.Nst.getAttribute(t)},i.tD=function(t,n){if(this.Nst.hasAttributeNS(t,n))return this.Nst.getAttributeNS(t,n)},i.GI=function(t){this.Nst.removeAttribute(t)},i.Ist=function(t,n){this.Nst.removeAttributeNS(t,n)},i.Dst=function(t,n){this.Nst.setAttribute(t,n)},i.Est=function(t,n,i){this.Nst.setAttributeNS(t,n,i)},i.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return By.OI}},{key:"qI",get:function(){var t;return null!=(t=this.Nst.localName)?t:$y(this.Nst.nodeName)}},{key:"bst",get:function(){var t;return null!=(t=this.Nst.namespaceURI)?t:void 0}},{key:"Tst",get:function(){var t;return null!=(t=this.Nst.prefix)?t:void 0}},{key:"WR",get:function(){return this.Nst.nodeName}},{key:"ZI",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Fy(t.item(i)));return n}(this.Nst.attributes)}},{key:"PR",get:function(){return this.Nst.textContent}}]),n}(Vy),Xy=function(){function t(t){this.Nst=t}return t.prototype.xI=function(t){return this.ly===t.ly},At(t,[{key:"ly",get:function(){return this.Nst.nodeValue}},{key:"TI",get:function(){return this.Nst}}]),t}(),Zy=function(t){function n(n){return t.call(this,n)}return kt(n,t),n.prototype.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return By.Ru}}]),n}(Xy),Hy=function(t){function n(n){return t.call(this,n)}return kt(n,t),n.prototype.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return By.RI}}]),n}(Xy),Ky=function(t){function n(n){return t.call(this,n)}return kt(n,t),n.prototype.UI=function(t){return new n(this.Nst.cloneNode(t))},At(n,[{key:"CI",get:function(){return By.zI}},{key:"JI",get:function(){return new Wy(this.Nst.documentElement)}}]),n}(Vy);function Jy(t){return Uy(t)}function qy(t){switch(t.nodeType){case By.OI:return new Wy(t);case By.Ru:return new Zy(t);case By.RI:return new Hy(t)}}function $y(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var tA=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).kst=void 0,n.xst=My(),n.Cst=jn.qk||jn.XE,n.Ost=(jn.qk||jn.yk&&jn.hk<=68||jn.XE)&&!(jn.wk&&jn.pk<3),n.Ust=void 0,n.Qst=new Gy,n}return kt(n,t),n.prototype.KI=function(t){return this.Qst.KI(t)},At(n,[{key:"Zet",get:function(){return this.kst||(this.kst=new Xs(od())),this.kst}},{key:"Lst",get:function(){return this.xst}},{key:"n1",get:function(){return this.Cst}},{key:"S1",get:function(){return this.Ost}},{key:"jst",get:function(){return!1}},{key:"NP",get:function(){return cd.RF()}},{key:"Rst",get:function(){return{Pst:vd}}},{key:"zst",get:function(){return o.connection&&o.connection.effectiveType||gd}},{key:"Bst",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Hj",get:function(){return this.Ust||(this.Ust=new ty(new Py)),this.Ust}}]),n}(Fu);!function(t){on=t}(new tA),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Mt();var nA=function(t){function n(n,i){var r;return(r=t.call(this,dd.fm)||this).currentTime=n,r.currentProgramDateTime=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),Mt(),wt(),C(),mt(),Mt();var iA=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xa=void 0,r}return kt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(Jo);function rA(t){return Boolean(t&&t.va)}var eA,uA=function(t){function n(n){return t.call(this,n)}return kt(n,t),n}(iA),sA=function(t){function n(n){return t.call(this,n)}return kt(n,t),n}(Jo);wt(),C(),function(t){t.hw="aw",t.uw="cw"}(eA||(eA={}));var oA=function(t){function n(n){var i;return(i=t.call(this,eA.hw)||this).Lt=n,i}return kt(n,t),n.prototype.fa=function(){return new aA(this.Lt.va)},n}(uA),aA=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return kt(n,t),n}(sA);wt(),C(),Mt();var cA,hA=function(t){function n(n){var i;return(i=t.call(this,eA.uw)||this).Lt=n,i}return kt(n,t),n.prototype.fa=function(){return new fA(this.Lt.va)},n}(uA),fA=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return kt(n,t),n}(sA);wt(),C(),function(t){t.lw="dw",t.fw="_w",t.gw="ww",t.mw="pw",t.Aw="yw",t.Mw="Tw",t.ra="Sw",t.Nw="Iw",t.Dw="Ew",t.Lw="Yn",t.xw="Cw",t.Ow="jw",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(cA||(cA={}));var vA=function(t){function n(){var n;return(n=t.call(this)||this).Pw=[],n.Xa=void 0,n}kt(n,t);var i=n.prototype;return i.zw=function(t){return this.Pw[t]},i.tt=function(t){return!(!t||fo(this.Pw,t))&&(this.Pw.push(t),this.Xa&&this.Xa.push(t.va),t.yn(cA.ra,this.Ds),this.Co(new oA(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.Pw.indexOf(t);return!(n<0)&&(co(this.Pw,n),this.Xa&&co(this.Xa,n),t.fn(cA.ra,this.Ds),this.Co(new hA(t)),!0)},i.Bw=function(t){return fo(this.Pw,t)},i.tr=function(){for(var t=this.Pw,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.gn=function(){this.tr(),this.Vo()},At(n,[{key:"Rw",get:function(){return this.Pw}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"U",get:function(){return this.Pw.length}}]),n}(Xo);wt(),C(),wt(),C(),wt(),C();var dA=l.freeze||Kn;function lA(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function gA(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function wA(t){if(Qn(t)){var n={};for(var i in t)xn.call(t,i)&&(n[i]=wA(t[i]));return n}if(Bn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=wA(t[e]));return r}return t}function yA(t,n){return t===n||!(!t||!n)&&(!(!Un(t)||!Un(n))&&(Pn(t)?!!Pn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!yA(t[e],n[e]))return!1;return!0}(t,n):!Pn(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!xn.call(n,u)||!yA(t[u],n[u]))return!1}return!0}(t,n)))}function AA(t,n){return t.constructor===n.constructor}function mA(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function pA(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Pn(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=Un(a)?pA(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=Un(u)?pA(u):u)}return n}function _A(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function kA(t){return zn(t)?_A(t):void 0}function MA(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function bA(t){var n=MA(t);if(A(n))throw new v("Expected a valid number.");return n}function TA(t){return"string"==typeof t?t:""}function NA(t,n){if(!Pn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function DA(t,n){return Pn(t)?NA(t,n):n(t)}wt(),C();var IA,EA=[eA.hw,eA.uw,cA.ra];function SA(t){var n,i=t.Rw.map((function(t){return t.va}));return i.item=function(n){var i=0|n,r=t.zw(i);return r&&r.va||void 0},i.addEventListener=function(t,i){n.yn(t,i)},i.removeEventListener=function(t,i){n.fn(t,i)},n=new Zo(i),t.yn(EA,(function(t){return n.Co(t.va)})),i}function LA(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function CA(){}function jA(t){var n,i=[cA.Lw,cA.ra,cA.xw,cA.Ow,cA.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Hw&&t.Hw.va},get enabled(){return t.Rt},set enabled(n){t.Rt=_A(n)},get id(){return t.o},get uid(){return t.Xw},get kind(){return t.zt},get label(){return t.kh},set label(n){t.kh=TA(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.Zw)?void 0:n.map(LA))?i:[]},get language(){return t.gs},get qualities(){return t.qw.va},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.qw.Rw;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.va===o&&i.push(u)}return i}(t,Bn(n)?n:[n]):[],i.length>0?t.Kw=i:t.Kw=void 0},get targetQuality(){if(t.Kw)return 1===t.Kw.length?t.Kw[0].va:t.Kw.map((function(t){return t.va}))},addEventListener:function(t,i){var r=DA(t,TA);n.yn(r,i)},removeEventListener:function(t,i){var r=DA(t,TA);n.fn(r,i)}};return n=new Zo(r),t.yn(i,(function(t){return n.Co(t.va)})),l.defineProperty(r,"constructor",{value:CA}),r}function xA(){}function OA(t){var n=SA(t);return l.defineProperty(n,"constructor",{value:xA}),n}wt(),C(),function(t){t[t.Jw=0]="Jw",t[t.$w=1]="$w",t[t.rv=2]="rv",t[t.ov=3]="ov",t[t.hv=4]="hv",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.uv=7]="uv"}(IA||(IA={}));var zA,RA=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.fa=function(){return OA(this)},n}(vA);wt(),C(),wt(),C(),function(t){t.WA="audio",t.VA="video",t.Ru="text",t.OT="image",t.jT="unknown"}(zA||(zA={})),wt(),C(),Wt(),mt(),Mt(),wt(),C(),mt(),Mt();var BA,PA=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return kt(n,t),At(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Fv);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(BA||(BA={}));var UA=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(Vt(u),u.constructor),u}return kt(n,t),At(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Do);function QA(t){lA(t,"MEDIA_ERR_ABORTED",1),lA(t,"MEDIA_ERR_NETWORK",2),lA(t,"MEDIA_ERR_DECODE",3),lA(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),lA(t,"MEDIA_ERR_ENCRYPTED",5)}function YA(t){var n,i;return function(t){return t.category===Yv.CONTENT_PROTECTION}(t)?new UA(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new UA(function(t){if(t===Qv.MEDIA_ABORTED)return 1;if(t===Qv.MANIFEST_LOAD_ERROR||t===Qv.MEDIA_LOAD_ERROR||t===Qv.SUBTITLE_LOAD_ERROR)return 2;if(t===Qv.MEDIA_DECODE_ERROR)return 3;if(t===Qv.MEDIA_NOT_SUPPORTED)return 4;var n=Yv.fromCode(t);if(n===Yv.NETWORK)return 2;if(n===Yv.SOURCE)return 4;if(n===Yv.LICENSE)return 6;if(n===Yv.CONTENT_PROTECTION)return 5;if(n===Yv.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function GA(t){return new Fv(FA(t.code),t.message,t)}function FA(t){switch(t){case 1:return Qv.MEDIA_ABORTED;case 2:return Qv.NETWORK_ERROR;case 3:return Qv.MEDIA_DECODE_ERROR;case 4:return Qv.SOURCE_NOT_SUPPORTED;case 5:return Qv.CONTENT_PROTECTION_ERROR;case 6:return Qv.LICENSE_ERROR;case 7:return Qv.AD_ERROR}}QA(UA),QA(UA.prototype),wt(),C(),mt(),Mt(),wt(),C(),Mt();var VA=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n}(Ho);wt(),C(),mt(),wt(),C();var WA=function(){function t(){this.sS=[],this.Xa=void 0}var n=t.prototype;return n.nS=function(t){this.sS.push(t),this.Xa&&this.Xa.push(t.va)},n.rS=function(t){ao(this.sS,t),this.Xa&&ao(this.Xa,t.va)},n.zw=function(t){return this.sS[t]},n.oS=function(t){return Bn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!fo(t,n[i]))return!1;return!0}(this.sS,t):fo(this.sS,t)},n.tr=function(){lo(this.sS),this.Xa&&lo(this.Xa)},At(t,[{key:"Rw",get:function(){return this.sS}},{key:"U",get:function(){return this.sS.length}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n=t.Rw.map((function(t){return t.va}));return n.item=function(n){var i=0|n,r=t.zw(i);return r&&r.va||void 0},n}(this)),this.Xa}}]),t}();wt(),C(),Mt();var XA=function(t){function n(n){var i;return(i=t.call(this,cA.ra)||this).Lt=n,i}return kt(n,t),n.prototype.fa=function(){return new ZA(this.Lt.va)},n}(uA),ZA=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return kt(n,t),n}(sA);wt(),C(),Mt();var HA=function(t){function n(n){var i;return(i=t.call(this,cA.Lw)||this).Lt=n,i}return kt(n,t),n.prototype.fa=function(){return new KA(this.Lt.va)},n}(uA),KA=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return kt(n,t),n}(sA);wt(),C();var JA=0;function qA(){return JA++}var $A=0;var tm=0;function nm(){return tm++}var im=0;function rm(){return im++}var em=0;var um=function(t){function n(n){var i;return(i=t.call(this)||this).Av=zA.WA,i.Le=!1,i.Xa=void 0,i.aS=n,i.cS=qA(),i.uS=em+++"",i.lS=n.label,i.sS=new WA,i._S(),i}kt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i._S=function(){this.Rt=this.hS},At(n,[{key:"Hw",get:function(){}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le!==t&&(this.Le=t,this.hS=t,this.Co(new XA(this)))}},{key:"hS",get:function(){return this.aS.enabled},set:function(t){this.aS.enabled=t}},{key:"va",get:function(){return this.Xa||(this.Xa=jA(this)),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"zt",get:function(){return this.aS.kind}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"gs",get:function(){return this.aS.language}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"dS",get:function(){return this.aS}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){},set:function(t){}}]),n}(Xo);wt(),C(),mt(),Mt();var sm=0;var om=function(t){function n(n){var i;return(i=t.call(this)||this).Av=zA.VA,i.Le=!1,i.Xa=void 0,i.aS=n,i.cS=qA(),i.uS=sm+++"",i.sS=new WA,i.lS=n.label,i._S(),i}kt(n,t);var i=n.prototype;return i._S=function(){this.Rt=this.hS},i.fS=function(t){this.Rt=t},At(n,[{key:"Hw",get:function(){}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le!==t&&(this.Le=t,this.hS=t,this.Co(new XA(this)))}},{key:"hS",get:function(){return!!this.aS.selected},set:function(t){this.aS.selected=t}},{key:"va",get:function(){return this.Xa||(this.Xa=jA(this)),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"zt",get:function(){return"main"}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"gs",get:function(){return this.aS.language}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"dS",get:function(){return this.aS}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){},set:function(t){}}]),n}(Xo);wt(),C(),Mt();var am,cm,hm,fm=function(t){function n(n){var i;return(i=t.call(this,dd.Mv)||this).K_=n,i}return kt(n,t),n}(Jo);function vm(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(am||(am={})),wt(),C(),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(cm||(cm={})),wt(),C(),wt(),C(),function(t){t.gS="cue",t.wS="region",t.vS="stylesheet"}(hm||(hm={})),wt(),C(),mt(),Mt(),wt(),C();var dm,lm={"line-left":"start",center:"middle","line-right":"end"},gm={start:"line-left",middle:"center",end:"line-right"};function wm(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function ym(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:y(t);return A(i)?n:i}(t,50)}wt(),C(),wt(),C(),wt(),C(),Mt(),function(t){t.mS="mo",t.pS="So",t.Lw="Yn"}(dm||(dm={}));var Am=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).yS=i,r}return kt(n,t),n}(uA),mm=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return kt(n,t),n}(sA);function pm(t){var n,i=[dm.mS,dm.pS,dm.Lw],r={get track(){return t.Lt.va},get id(){return t.o},get uid(){return t.Xw},get startTime(){return t.MS},set startTime(n){t.MS=n},get endTime(){return t.bS},set endTime(n){t.bS=n},get content(){return t.O},addEventListener:function(t,i){var r=DA(t,TA);n.yn(r,i)},removeEventListener:function(t,i){var r=DA(t,TA);n.fn(r,i)}};return n=new Zo(r),t.yn(i,(function(t){return n.Co(t.va)})),r}function _m(){}function km(t){return gA(pm(t),{get align(){return t.TS},get line(){return t.SS},get lineAlign(){return t.NS},get position(){return t.po},get positionAlign(){return t.IS},get region(){return t.DS?t.DS.va:null},get size(){return t.By},get snapToLines(){return t.ES},get text(){return t.O},get vertical(){return t.Pt}})}wt(),C(),mt(),Mt(),wt(),C(),Mt();var Mm=function(t){function n(n){return t.call(this,dm.Lw,n)}return kt(n,t),n.prototype.fa=function(){return new bm(this.yS.va)},n}(Am),bm=function(t){function n(n){return t.call(this,"update",n)}return kt(n,t),n}(mm);wt(),C(),Mt();var Tm=function(t){function n(n){var i;return(i=t.call(this,cA.gw)||this).yS=n,i}return kt(n,t),n.prototype.fa=function(){return new Nm(this.yS.va)},n}(uA),Nm=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return kt(n,t),n}(sA),Dm=.02;function Im(t,n){return Pi(t.kS,n.kS,Dm)&&Pi(t.LS,n.LS,Dm)&&t.o===n.o}var Em=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Xa=void 0,s.CS=void 0,s.ho=!1,s.GS=-1,s.cS=rm(),s.xS=n,s.RS=i,s.kS=n,s.LS=i,s.PS=r,s.US=Boolean(e),s.uS=null!=u?u:"",s}kt(n,t);var i=n.prototype;return i.fa=function(){return pm(this)},i.QS=function(t){return this===t||AA(this,t)&&Im(this,t)&&this.FS(t)},i.FS=function(t){return yA(this.O,t.O)},i.YS=function(t,n){this.xS=t,this.RS=n,this.kS=t,this.LS=n},i.gn=function(){this.Vo()},At(n,[{key:"MS",get:function(){return this.xS},set:function(t){var n,i;this.xS!==t&&(this.xS=t,null==(n=this.CS)||n.jS(this),this.Co(new Mm(this)),null==(i=this.CS)||i.Co(new Tm(this)))}},{key:"bS",get:function(){return this.RS},set:function(t){var n,i;this.RS!==t&&(this.RS=t,null==(n=this.CS)||n.jS(this),this.Co(new Mm(this)),null==(i=this.CS)||i.Co(new Tm(this)))}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"ro",get:function(){return this.ho},set:function(t){this.ho=t}},{key:"Lt",get:function(){return this.CS},set:function(t){this.CS=t}},{key:"O",get:function(){return this.PS},set:function(t){var n;this.PS!==t&&(this.PS=t,this.Co(new Mm(this)),null==(n=this.CS)||n.Co(new Tm(this)))}},{key:"zS",get:function(){return this.US},set:function(t){this.US=t}}]),n}(Xo);function Sm(t,n){return t.O===n.O&&t.SS===n.SS&&t.NS===n.NS&&t.po===n.po&&t.IS===n.IS&&t.DS===n.DS&&t.ES===n.ES&&t.By===n.By&&t.TS===n.TS&&t.Pt===n.Pt}var Lm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).SS="auto",s.NS="start",s.po="auto",s.IS="auto",s.DS=void 0,s.ES=!0,s.By=100,s.TS="center",s.Pt="",s}return kt(n,t),n.prototype.FS=function(t){return Sm(this,t)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=km(this)),this.Xa}},{key:"Av",get:function(){return hm.gS}}]),n}(Em);function Cm(t){var n=t.SS,i=Wn(n);return i&&!t.ES&&(n<0||n>100)?100:i?Number(n):t.ES?-1:100}function jm(t){return ym(t.po,t.TS)}function xm(t){return wm(t.IS,t.TS)}function Om(t){var n,i=xm(t),r=jm(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return g.min(t.By,n)}function zm(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.VS},get regionAnchorX(){return t.WS},get regionAnchorY(){return t.HS},get scrollValue(){return t.XS},get viewportAnchorX(){return t.ZS},get viewportAnchorY(){return t.qS},get width(){return t.ji}}}wt(),C(),mt(),wt(),C();var Rm=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.VS=i,this.WS=r,this.HS=e,this.ZS=u,this.qS=s,this.XS=o}return At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=zm(this)),this.Xa}},{key:"Av",get:function(){return hm.wS}}]),t}();wt(),C(),wt(),C();var Bm=1e6,Pm=function(){function t(){}var n=t.prototype;return n.KS=function(t){return this.JS()*t},n.$S=function(t){return this.tN(t)>0},n.iN=function(t){return this.tN(t)>=0},n.eN=function(t,n){return this.nN(t).sN(n)},n.QS=function(t){return 0===this.tN(t)},n.rN=function(t){return this.tN(t)<0},n.sN=function(t){return this.tN(t)<=0},n.oN=function(){return this.hN()?this.aN():this},n.uN=function(t){return this.nS(t.aN())},n.nN=function(t){return this.uN(t).oN()},t}();function Um(t,n){return t.cN()?n.cN()?Ws.Zr:Ws.Jf:n.cN()?Ws.$f:t.lN()?n.lN()&&t.hN()===n.hN()?Ws.Zr:t.hN()?Ws.$f:Ws.Jf:n.hN()?Ws.Jf:Ws.$f}wt(),C(),Mt(),Ft(),wt(),C(),Ft();var Qm=4294967296,Ym=Qm*Qm,Gm=Ym*Ym,Fm=Gm/2,Vm=function(){function t(t,n){this.bN=t,this.yN=n}var n=t.prototype;return n.AN=function(){return this.yN.unsigned},n.MN=function(){return this.bN.isZero()&&this.yN.isZero()},n.hN=function(){return this.yN.isNegative()},n.TN=function(){return this.AN()?t.dN(this.bN,this.yN,!1):this},n.SN=function(){return this.AN()?this:t.dN(this.bN,this.yN,!0)},n.NN=function(){return this.bN},n.JS=function(){return this.hN()?-this.aN().JS():this.yN.toNumber()*Ym+this.bN.toUnsigned().toNumber()},n.DN=function(){return this.bN.toInt()},n.QS=function(t){return(this.AN()===t.AN()||this.yN.getHighBits()>>>31!=1||t.yN.getHighBits()>>>31!=1)&&(this.yN.toUnsigned().eq(t.yN.toUnsigned())&&this.bN.toUnsigned().eq(t.bN.toUnsigned()))},n.tN=function(t){if(this.QS(t))return Ws.Zr;var n=this.hN(),i=t.hN();if(n&&!i)return Ws.$f;if(!n&&i)return Ws.Jf;if(!this.AN())return this.uN(t).hN()?Ws.$f:Ws.Jf;var r=this.SN(),e=t.SN(),u=e.yN.comp(r.yN);return u>0||0===u&&e.bN.gt(r.bN)?Ws.$f:Ws.Jf},n.rN=function(t){return this.tN(t)<0},n.sN=function(t){return this.tN(t)<=0},n.EN=function(t){return this.tN(t)>0},n.kN=function(t){return this.tN(t)>=0},n.LN=function(){return new t(this.bN.not(),this.yN.not())},n.xN=function(n){return new t(this.bN.and(n.bN),this.yN.and(n.yN))},n.CN=function(n){return new t(this.bN.or(n.bN),this.yN.or(n.yN))},n.ON=function(n){var i=127&n;return 0===i?this:i<64?t.dN(this.bN.shl(i),this.yN.shl(i).or(this.bN.shru(64-i)),this.AN()):t.dN(xi.ZERO,this.bN.shl(i-64),this.AN())},n.jN=function(n){var i=127&n;return 0===i?this:i<64?t.dN(this.bN.shru(i).or(this.yN.shl(64-i)),this.yN.shr(i),this.AN()):t.dN(this.yN.shr(i-64),this.yN.isNegative()?xi.NEG_ONE:xi.ZERO,this.AN())},n.RN=function(n){var i=127&n;return 0===i?this:i<64?t.dN(this.bN.shru(i).or(this.yN.shl(64-i)),this.yN.shru(i),this.AN()):64===i?t.dN(this.yN,xi.ZERO,this.AN()):t.dN(this.yN.shru(i-64),xi.ZERO,this.AN())},n.nS=function(n){var i=this.yN.high>>>16,r=65535&this.yN.high,e=this.yN.low>>>16,u=65535&this.yN.low,s=this.bN.high>>>16,o=65535&this.bN.high,a=this.bN.low>>>16,c=65535&this.bN.low,h=n.yN.high>>>16,f=65535&n.yN.high,v=n.yN.low>>>16,d=65535&n.yN.low,l=n.bN.high>>>16,g=65535&n.bN.high,w=n.bN.low>>>16,y=0,A=0,m=0,p=0,_=0,k=0,M=0,b=0;M+=(b+=c+(65535&n.bN.low))>>>16,b&=65535,k+=(M+=a+w)>>>16,M&=65535,_+=(k+=o+g)>>>16,k&=65535,p+=(_+=s+l)>>>16,_&=65535,m+=(p+=u+d)>>>16,p&=65535,A+=(m+=e+v)>>>16,m&=65535,y+=(A+=r+f)>>>16,A&=65535,y+=i+h,y&=65535;var T=this.AN(),N=xi.fromBits(m<<16|p,y<<16|A,T),D=xi.fromBits(M<<16|b,_<<16|k,T);return t.dN(D,N,T)},n.uN=function(t){return this.nS(t.aN())},n.aN=function(){return this.LN().nS(t.PN)},n.zN=function(n){if(this.MN()||n.MN())return this.AN()?t.gN:t.wN;if(this.hN())return n.hN()?this.aN().zN(n.aN()):this.aN().zN(n).aN();if(n.hN())return this.zN(n.aN()).aN();if(this.yN.isZero()&&0===this.bN.high&&n.yN.isZero()&&0===n.bN.high)return t.fN(this.bN.multiply(n.bN));var i=xi.fromBits(4294967295,0,!0),r=this.bN.and(i),e=this.bN.shru(32),u=this.yN.and(i),s=this.yN.shru(32),o=n.bN.and(i),a=n.bN.shru(32),c=n.yN.and(i),h=n.yN.shru(32),f=xi.UZERO,v=xi.UZERO,d=xi.UZERO,l=xi.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=xi.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=xi.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.dN(g,w,this.AN())},n.BN=function(n){var i,r,e=n;if(e.MN())throw new RangeError("division by zero");if(this.MN())return this.AN()?[t.gN,t.gN]:[t.wN,t.wN];if(this.AN()){if(e.AN()||(e=e.SN()),e.EN(this))return[t.gN,this];if(e.EN(this.RN(1)))return[r=t.UN,i=this.uN(e)];r=t.gN}else{if(this.QS(t.mN)){if(e.QS(t.PN)||e.QS(t.QN))return[t.mN,t.wN];if(e.QS(t.mN))return[t.PN,t.wN];var u=this.jN(1).FN(e).ON(1);return u.QS(t.wN)?r=e.hN()?t.PN:t.QN:(i=this.uN(e.zN(u)),r=u.nS(i.FN(e))),[r,i=this.uN(e.zN(r))]}if(e.QS(t.mN))return this.AN()?[t.gN,this]:[t.wN,this];var s,o;if(this.hN())return e.hN()?this.aN().BN(e.aN()):(r=(s=Gt(this.aN().BN(e),2))[0],i=s[1],[r.aN(),i.aN()]);if(e.hN())return r=(o=Gt(this.BN(e.aN()),2))[0],i=o[1],[r.aN(),i.aN()];r=t.wN}for(i=this;i.kN(e);){for(var a=g.max(1,g.floor(i.JS()/e.JS())),c=g.ceil(g.log(a)/g.LN2),h=c<=48?1:g.pow(2,c-48),f=t._N(a),v=f.zN(e);v.hN()||v.EN(i);)a-=h,v=(f=t._N(a,this.AN())).zN(e);f.MN()&&(f=t.PN),r=r.nS(f),i=i.uN(v)}return[r,i]},n.FN=function(t){return this.BN(t)[0]},n.YN=function(t){return this.BN(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.MN())return"0";if(this.hN()){if(this.QS(t.mN)){var r=t._N(i),e=this.FN(r),u=e.zN(r).uN(this);return e.toString(i)+u.DN().toString(i)}return"-"+this.aN().toString(i)}for(var s=t._N(g.pow(i,6),this.AN()),o=this,a="";;){var c=o.FN(s),h=(o.uN(c.zN(s)).DN()>>>0).toString(i);if((o=c).MN())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.dN=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.fN=function(n){return n.unsigned?new t(n,xi.UZERO):new t(n,n.isNegative()?xi.NEG_ONE:xi.ZERO)},t._N=function(n,i){if(A(n))return i?t.gN:t.wN;if(i){if(n<0)return t.gN;if(n>=Gm)return t.vN}else{if(n<=-Fm)return t.mN;if(n+1>=Fm)return t.pN}return n<0?t._N(-n,i).aN():t.dN(xi.fromNumber(n%Ym),xi.fromNumber(n/Ym),i)},t}();Vm.wN=Vm.fN(xi.ZERO),Vm.gN=Vm.fN(xi.UZERO),Vm.PN=Vm.fN(xi.ONE),Vm.UN=Vm.fN(xi.UONE),Vm.QN=Vm.fN(xi.NEG_ONE),Vm.pN=Vm.dN(xi.NEG_ONE,xi.MAX_VALUE,!1),Vm.vN=Vm.dN(xi.MAX_UNSIGNED_VALUE,xi.MAX_UNSIGNED_VALUE,!0),Vm.mN=Vm.dN(xi.ZERO,xi.MIN_VALUE,!1),wt(),C(),mt();var Wm=function(){function t(t,n){void 0===n&&(n=1),this.GN=t,this.cM=n}var n=t.prototype;return n.nS=function(n){return this.cM>=n.cM?new t(this.GN+n.ZN(this.cM).GN,this.cM):new t(this.ZN(n.cM).GN+n.GN,n.cM)},n.$S=function(t){return t.rN(this)},n.iN=function(t){return t.sN(this)},n.nN=function(n){return this.cM>=n.cM?new t(g.abs(this.GN-n.ZN(this.cM).GN),this.cM):n.nN(this)},n.eN=function(t,n){return this.nN(t).sN(n)},n.tN=function(t){return function(t,n){return t.cM>=n.cM?no(t.GN,n.ZN(t.cM).GN):no(t.ZN(n.cM).GN,n.GN)}(this,t)},n.QS=function(t){return 0===this.tN(t)},n.rN=function(t){return this.tN(t)<0},n.sN=function(t){return this.tN(t)<=0},n.ZN=function(n){return new t(this.GN*(n/this.cM),n)},n.uN=function(n){return this.cM>=n.cM?new t(this.GN-n.ZN(this.cM).GN,this.cM):new t(this.ZN(n.cM).GN-n.GN,n.cM)},n.qN=function(n){return new t(this.GN*n,this.cM)},t.VN=function(n){return new t(g.ceil(n.GN),n.cM)},t.WN=function(n){return new t(g.floor(n.GN),n.cM)},t.HN=function(t,n){return t.iN(n)?t:n},t.XN=function(t,n){return t.sN(n)?t:n},At(t,[{key:"lN",get:function(){return!isFinite(this.GN)}},{key:"Kl",get:function(){return this.GN/this.cM}}]),t}();Wm.Zl=new Wm(1/6,1),Wm.wN=new Wm(0),Wm.KN=new Wm(1/0),Wm.JN=1e6;var Xm=function(t){function n(n,i){var r;return(r=t.call(this)||this).lT=n.toSigned(),r.cM=i>>>0,r}kt(n,t);var i=n.prototype;return i.hN=function(){return this.lT.isNegative()},i.MN=function(){return 0!==this.cM&&this.lT.isZero()},i.lN=function(){return 0===this.cM&&!this.lT.isZero()},i.cN=function(){return 0===this.cM&&this.lT.isZero()},i.JS=function(){if(0===this.cM)return this.lT.isZero()?NaN:this.lT.isNegative()?-1/0:1/0;var t=this.lT.divide(this.cM),n=this.lT.subtract(t.multiply(this.cM));return t.toNumber()+n.toNumber()/this.cM},i.NN=function(){if(0===this.cM)throw new v("Failed to convert timestamp");return this.lT},i.oI=function(){return new Date(0===this.cM?NaN:this.ZN(1e3).lT.toNumber())},i.hI=function(){return new Wm(0===this.cM?this.JS():this.lT.toNumber(),this.cM)},i.ZN=function(t,i){void 0===i&&(i=Zm.aI);var r=this.cM;if(r===t)return this;if(0===r)return this;var e=Fi(r,t),u=function(t,n,i){var r=Gt(t.BN(n),2),e=r[0],u=r[1];if(u.MN())return e;if(i===Zm.aI)return u.hN()?e.uN(Vm.PN):e;if(i===Zm.uI)return u.hN()?e:e.nS(Vm.PN);var s=u.zN(Vm._N(2));return s.hN()?s.aN().rN(n)?e:e.uN(Vm.PN):s.rN(n)?e:e.nS(Vm.PN)}(Vm.fN(this.lT).zN(Vm._N(t/e)),Vm._N(r/e),i);return new n(u.NN(),t)},i.tN=function(t){if(this===t)return Ws.Zr;if(0===this.cM||0===t.cM)return Um(this,t);if(this.MN())return t.MN()?Ws.Zr:t.hN()?Ws.Jf:Ws.$f;if(t.MN())return this.hN()?Ws.$f:Ws.Jf;var n=g.min(this.cM,t.cM),i=this.ZN(n,Zm.cI).lT,r=t.ZN(n,Zm.cI).lT;return i.compare(r)},i.aN=function(){return 0===this.cM?function(t){0;return t.cN()?t:t.hN()?Xm.iI:Xm.eI}(this):new n(this.lT.negate(),this.cM)},i.nS=function(t){if(0===this.cM||0===t.cM)return function(t,n){0;if(t.cN()||n.cN())return Xm.tI;if(t.lN()&&n.lN())return t.hN()===n.hN()?t:Xm.tI;return t.lN()?t:n}(this,t);if(this.MN())return t;if(t.MN())return this;var i=g.max(this.cM,t.cM),r=this.ZN(i,Zm.cI),e=t.ZN(i,Zm.cI);return new n(r.lT.add(e.lT),i)},i.zN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN()||!isFinite(t)){if(this.MN()||0===t)return n.tI;var i=this.hN()?n.eI:n.iI;return t<0?i.aN():i}return this.MN()?this:new n(0===t?xi.ZERO:this.lT.multiply(t),this.cM)},i.FN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN())return isFinite(t)?0===t?1/t<0?this.aN():this:t<0?this.aN():this:n.tI;if(!isFinite(t))return new n(xi.ZERO,this.cM);if(this.MN())return 0===t?n.tI:new n(xi.ZERO,this.cM);if(0===t){var i=this.hN()?n.eI:n.iI;return 1/t<0?i.aN():i}return new n(this.lT.divide(t),this.cM)},i.lI=function(){return[this.lT.low,this.lT.high,this.cM]},n.$N=function(t,i){return void 0===i&&(i=Bm),n._N(t*i,i)},n._N=function(t,i){return A(t)?n.tI:t===1/0?n.iI:t===-1/0?n.eI:new n(xi.fromNumber(t),i)},n.fN=function(t,i){return new n(t,i)},n.sI=function(t){return n.$N(t.Kl,Bm)},n.nI=function(t){return new n(xi.fromNumber(t.getTime()),1e3)},n.HN=function(t,n){return t.iN(n)?t:n},n.XN=function(t,n){return t.sN(n)?t:n},n.rI=function(t,i,r){return n.HN(i,n.XN(r,t))},n}(Pm);Xm.wN=new Xm(xi.ZERO,Bm),Xm.tI=new Xm(xi.ZERO,0),Xm.iI=new Xm(xi.ONE,0),Xm.eI=new Xm(xi.NEG_ONE,0),wt(),C(),mt(),Mt(),tt();var Zm,Hm=function(t){function n(n,i){var r;return(r=t.call(this)||this).lT=BigInt.asIntN(64,n),r.cM=i>>>0,r}kt(n,t);var i=n.prototype;return i.hN=function(){return this.lT<BigInt(0)},i.MN=function(){return 0!==this.cM&&this.lT===BigInt(0)},i.lN=function(){return 0===this.cM&&this.lT!==BigInt(0)},i.cN=function(){return 0===this.cM&&this.lT===BigInt(0)},i.JS=function(){if(0===this.cM)return this.lT===BigInt(0)?NaN:this.lT<BigInt(0)?-1/0:1/0;var t=this.lT/BigInt(this.cM),n=this.lT-t*BigInt(this.cM);return Number(t)+Number(n)/this.cM},i.NN=function(){if(0===this.cM)throw new v("Failed to convert timestamp");return this.wI()},i.wI=function(){var t=this.lT&BigInt(4294967295),n=this.lT>>BigInt(32)&BigInt(4294967295);return xi.fromBits(Number(t),Number(n))},i.oI=function(){return new Date(0===this.cM?NaN:Number(this.ZN(1e3).lT))},i.hI=function(){return new Wm(0===this.cM?this.JS():Number(this.lT),this.cM)},i.ZN=function(t,i){void 0===i&&(i=Zm.aI);var r=this.cM;if(r===t)return this;if(0===r)return this;var e=Fi(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Zm.aI)return e<BigInt(0)?r-BigInt(1):r;if(i===Zm.uI)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.lT*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.tN=function(t){if(this===t)return Ws.Zr;if(0===this.cM||0===t.cM)return Um(this,t);if(this.MN())return t.MN()?Ws.Zr:t.hN()?Ws.Jf:Ws.$f;if(t.MN())return this.hN()?Ws.$f:Ws.Jf;var n=g.min(this.cM,t.cM),i=this.ZN(n,Zm.cI).lT,r=t.ZN(n,Zm.cI).lT;return i>r?Ws.Jf:i<r?Ws.$f:Ws.Zr},i.aN=function(){return 0===this.cM?function(t){0;return t.cN()?t:t.hN()?Hm.iI:Hm.eI}(this):new n(-this.lT,this.cM)},i.nS=function(t){if(0===this.cM||0===t.cM)return function(t,n){0;if(t.cN()||n.cN())return Hm.tI;if(t.lN()&&n.lN())return t.hN()===n.hN()?t:Hm.tI;return t.lN()?t:n}(this,t);if(this.MN())return t;if(t.MN())return this;var i=g.max(this.cM,t.cM),r=this.ZN(i,Zm.cI),e=t.ZN(i,Zm.cI);return new n(r.lT+e.lT,i)},i.zN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN()||!isFinite(t)){if(this.MN()||0===t)return n.tI;var i=this.hN()?n.eI:n.iI;return t<0?i.aN():i}return this.MN()?this:new n(0===t?BigInt(0):this.lT*BigInt(t),this.cM)},i.FN=function(t){if(this.cN()||A(t))return n.tI;if(this.lN())return isFinite(t)?0===t?1/t<0?this.aN():this:t<0?this.aN():this:n.tI;if(!isFinite(t))return new n(BigInt(0),this.cM);if(this.MN())return 0===t?n.tI:new n(BigInt(0),this.cM);if(0===t){var i=this.hN()?n.eI:n.iI;return 1/t<0?i.aN():i}return new n(this.lT/BigInt(t),this.cM)},i.lI=function(){var t=this.wI();return[t.low,t.high,this.cM]},n.$N=function(t,i){return void 0===i&&(i=Bm),n._N(t*i,i)},n._N=function(t,i){return A(t)?n.tI:t===1/0?n.iI:t===-1/0?n.eI:new n(BigInt(g.floor(t)),i)},n.fN=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.sI=function(t){return n.$N(t.Kl,Bm)},n.nI=function(t){return n._N(t.getTime(),1e3)},n.HN=function(t,n){return t.iN(n)?t:n},n.XN=function(t,n){return t.sN(n)?t:n},n.rI=function(t,i,r){return n.HN(i,n.XN(r,t))},At(n,null,[{key:"wN",get:function(){return n.dI||(n.dI=new n(BigInt(0),Bm)),n.dI}},{key:"tI",get:function(){return n.fI||(n.fI=new n(BigInt(0),0)),n.fI}},{key:"iI",get:function(){return n._I||(n._I=new n(BigInt(1),0)),n._I}},{key:"eI",get:function(){return n.gI||(n.gI=new n(BigInt(-1),0)),n.gI}}]),n}(Pm);Hm.dI=void 0,Hm.fI=void 0,Hm._I=void 0,Hm.gI=void 0,function(t){t[t.aI=0]="aI",t[t.uI=1]="uI",t[t.cI=2]="cI"}(Zm||(Zm={}));var Km=function(){try{return"function"==typeof BigInt&&"bigint"===j(BigInt(0))}catch(t){return!1}}()?Hm:Xm;function Jm(t,n){return t.tN(n)}function qm(t,n){return void 0!==t?void 0!==n?Km.XN(t,n):t:n}wt(),C();var $m=9e4,tp=g.pow(2,33),np=$n((function(){return Km._N(tp,$m)})),ip=$n((function(){return np().FN(2)}));wt(),C();var rp,ep,up,sp,op,ap={vI:0,mI:1/0,pI:0},cp=6,hp=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],fp=[" ","\t","\n","\f","\r"],vp=/^\d*$/,dp=/.*[0-9]+.*/,lp=/^[\d.-]+$/,gp=/(^\.|\.$)/,wp=/(\D\.|\.\D)/;function yp(t,n){return void 0===n&&(n=ap),Ap(mc(kc(t),new Ec),n)}function Ap(t,n){void 0===n&&(n=ap);var i={L:[],AI:[],yI:[]},r=mp(t),e=new Ec;if(Lp(r),pp(r,(function(t){return"\n"!==t}),e),e.Ku>=r.length)return i;(e.KA(1),"\n"!==r.charAt(e.Ku))?Tp(_p(r,e,false,!0,i,n),i):e.KA(1);for(pp(r,(function(t){return"\n"===t}),e);e.Ku<r.length;){Tp(_p(r,e,false,!1,i,n),i),pp(r,(function(t){return"\n"===t}),e)}return i}function mp(t){var n=Es(t,"\0"," "),i=Es(n,"\r\n","\n");return Es(i,"\r","\n")}function pp(t,n,i){for(var r=i.Ku;i.Ku<t.length&&n(t.charAt(i.Ku));)i.KA(1);return t.substring(r,i.Ku)}function _p(t,n,i,r,e,u){for(var s,o=0,a=n.Ku,c="",h=!1,f=!1,v=null,d=null,l=null;!h;)if(s=pp(t,(function(t){return"\n"!==t}),n),o++,n.Ku>=t.length?h=!0:n.KA(1),Ss(s,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.JA(a);break}f=!0,a=n.Ku,v=new Lm(0,0,"",!1,c);try{Np(s,e.AI,v,u),c=""}catch(t){on.vp(t),v=null}}else{if(""===s)break;r&&Ls(s,"X-TIMESTAMP-MAP")&&(e.MI=kp(s)),r||2!==o||i||(js("STYLE",c.replace(/ /g,""))?(d={Av:hm.vS},c=""):js("REGION",c.replace(/ /g,""))&&(l=new Rm("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=s,a=n.Ku}if(v)return v.O=c,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Ss(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":Gp(a,n);break;case"WIDTH":Wp(a,n);break;case"LINES":Vp(a,n);break;case"REGIONANCHOR":var c=Yp(a);c&&(n.WS=c[0],n.HS=c[1]);break;case"VIEWPORTANCHOR":var h=Yp(a);h&&(n.ZS=h[0],n.qS=h[1]);break;case"SCROLL":Fp(a,n)}}}}(c,l),l;return null}function kp(t){var n,i=t.split("=")[1].trim().split(","),r=bp(i[0].trim(),"MPEGTS")?i[0]:i[1],e=bp(i[0].trim(),"LOCAL")?i[0]:i[1];return{bI:Mp(Number(r.split(/:(.*)/)[1].trim())||0),lh:Km.$N(null!=(n=Ep(e.split(/:(.*)/)[1].trim(),new Ec))?n:0)}}function Mp(t){return Km._N(t,$m)}function bp(t,n){return Ls(t,n)}function Tp(t,n){t&&function(t){return"cue"===t.Av}(t)?n.L.push(t):t&&function(t){return"region"===t.Av}(t)?n.AI.push(t):t&&function(t){return"stylesheet"===t.Av}(t)&&n.yI.push(t)}function Np(t,n,i,r){var e=new Ec;jp(t,e);var u=Dp(Ep(t,e),r);if(jp(t,e),"--\x3e"!==t.substring(e.Ku,e.Ku+3))throw v("Something went wrong with parsing a WebVTT Cue");e.KA(3),jp(t,e);var s=Dp(Ep(t,e),r);i.YS(u,s),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Ss(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":Bp(c,n,i);break;case"VERTICAL":Up(c,n);break;case"D":Qp(c,n);break;case"LINE":case"L":zp(c,n);break;case"POSITION":case"T":Rp(c,n);break;case"SIZE":case"S":Pp(c,n);break;case"ALIGN":case"A":Op(c,n)}}}}(t.substring(e.Ku,t.length),i,n)}function Dp(t,n){return t+n.vI}function Ip(t){return/^[0-9]$/.test(t)}function Ep(t,n){var i,r,e,u=Es(t,",","."),s=!1;if(n.Ku>=u.length||!Ip(u.charAt(n.Ku)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=pp(u,Ip,n),a=w(o,10);if((o.length>2||a>59)&&(s=!0),n.Ku>=u.length||":"!==u.charAt(n.Ku))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.KA(1);var c=pp(u,Ip,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var h=w(c,10);if(s||n.Ku<u.length&&":"===u.charAt(n.Ku)){if(n.Ku>=u.length||":"!==u.charAt(n.Ku))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.KA(1);var f=pp(u,Ip,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=w(f,10)}else i=0,r=a,e=h;if(n.Ku>=u.length||"."!==u.charAt(n.Ku))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.KA(1);var d=pp(u,Ip,n),l=w(d,10);if(h>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Sp(t){return Lp(mp(t))}function Lp(t){if(t.length<cp)return!1;for(var n=0;n<hp.length;n++){var i=hp[n];if(Ls(t,i))return!0}return!1}function Cp(t){return fo(fp,t)}function jp(t,n){for(;n.Ku<t.length&&Cp(t.charAt(n.Ku));)n.KA(1)}function xp(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!A(i)&&i>=0&&i<=100)return i}return null}function Op(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.TS=i;break;case"middle":n.TS="center"}}function zp(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),dp.test(i)){var u,s;if(Cs(i,"%")){var o=xp(i);if(null===o)return;u=o,s=!1}else{if(!lp.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!wp.test(i)||gp.test(i)))return;if(u=y(i),A(u))return;s=!0}switch(n.SS=u,n.ES=s,r=r.toLowerCase()){case"start":case"center":case"end":n.NS=r;break;case"middle":n.NS="center"}}}function Rp(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=xp(i);if(null!==u)switch(n.po=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.IS=r;break;case"start":n.IS="line-left";break;case"middle":n.IS="center";break;case"end":n.IS="line-right"}}function Bp(t,n,i){var r=uo(i,(function(n){return n.o===t}));void 0!==r&&(n.DS=r)}function Pp(t,n){var i=xp(t);null!==i&&(n.By=i)}function Up(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function Qp(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function Yp(t){if(t.indexOf(",")>=0){var n=xp(t.substring(0,t.indexOf(","))),i=xp(t.substring(t.indexOf(",")+1,t.length));return[Bi(n||0,0,100),Bi(i||100,0,100)]}return null}function Gp(t,n){n.o=t}function Fp(t,n){"up"===t.toLowerCase()&&(n.XS="up")}function Vp(t,n){vp.test(t)&&(n.VS=w(t))}function Wp(t,n){var i=xp(t);null!==i&&(n.ji=i)}wt(),C(),Ft(),wt(),C(),wt(),C(),function(t){t.Kp="moov",t.Jp="mvhd",t.$p="trak",t.tA="tkhd",t.iA="mdia",t.eA="mdhd",t.sA="hdlr",t.nA="minf",t.rA="stbl",t.oA="stsd",t.hA="stsc",t.aA="mvex",t.uA="trex",t.cA="avc1",t.lA="avcC",t.dA="hev1",t.fA="hvc1",t._A="hvcC",t.gA="vp09",t.wA="vpcC",t.vA="av01",t.mA="av1C",t.pA="colr",t.AA="pasp",t.yA="mp4a",t.MA="esds",t.bA="fLaC",t.TA="dfLa",t.SA="wvtt",t.NA="vttC",t.IA="vlab",t.DA="enca",t.EA="encv",t.kA="moof",t.LA="mfhd",t.xA="traf",t.CA="tfhd",t.OA="trun",t.jA="tfdt",t.RA="senc",t.PA="mdat",t.zA="pssh",t.BA="emsg",t.UA="sidx",t.QA="styp",t.FA="ftyp",t.YA="sinf",t.GA="frma"}(rp||(rp={})),function(t){t.VA="vide",t.WA="soun",t.HA="subt",t.XA="hint",t.ZA="meta",t.qA="auxv"}(ep||(ep={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(up||(up={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(sp||(sp={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(op||(op={})),wt(),C();var Xp=function(){function t(t,n){this.ly=t,this._y=n}var n=t.prototype;return n.uy=function(){return Qa(this.ly,this._y)},n.gy=function(){return Za(this.ly,this._y)},n.wy=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Ku,i);return n.KA(2),r}(this.ly,this._y)},n.vy=function(){return Ka(this.ly,this._y)},n.py=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Ku,i);return n.KA(4),r}(this.ly,this._y)},n.Ay=function(){return qa(this.ly,this._y)},n.yy=function(t){return Ga(this.ly,this._y,t)},n.My=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Ka(t,n));return r}(this.ly,this._y,t)},n.Ty=function(t){return nc(this.ly,this._y,t)},n.Sy=function(){return wc(this.ly,this._y)},n.Ny=function(t){this._y.KA(t)},n.$A=function(){return new t(this.ly,this._y.$A())},t}();wt(),C(),mt(),Mt(),wt(),C();function Zp(t,n){return t.Av===n}function Hp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Zp(r,n))return r}}var Kp=function(t){function n(n,i){var r;return(r=t.call(this)||this).Iy=n,r.Dy=i,r}return kt(n,t),At(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Io),Jp=function(){function t(){}return t.Ey=function(n){var i=n.ly,r=n._y,e=t.Ly(i,r,!1);if(!e.xy)throw new Kp(r.Ku,e.m);return e.m},t.Ly=function(n,i,r){for(var e=[];i.Ku<n.byteLength;){var u=t.Cy(n,i,r);if(!u.xy)return{xy:!1,m:e};e.push(u.Oy)}return{xy:!0,m:e}},t.jy=function(n,i){var r=t.Cy(n,i,!1);if(!r.xy)throw new Kp(i.Ku);return r.Oy},t.Ry=function(n,i){for(var r=n.ly,e=n._y;e.Ku<r.byteLength;){var u=t.Cy(r,e,!1);if(!u.xy)return;if(u.Oy.Av===i)return u.Oy}},t.Cy=function(n,i,r){var e=i.Ku,u=t.Py(n,i);if(!u.xy)return u;var s=u.zy,o=s.By;if(0===o){if(r)return i.JA(e),{xy:!1,Uy:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.JA(e),{xy:!1,Uy:c}}var h={Av:s.Av,Ku:e,ly:new Xp(_c(n,e,a),new Ec(s.Qy))};return i.JA(a),{xy:!0,Oy:h}},t.Py=function(t,n){var i=n.Ku;if(!Va(t,n,8))return{xy:!1,Uy:n.Ku+8};var r=Ka(t,n),e=nc(t,n,4);if(1===r){if(!Va(t,n,8)){var u=n.Ku+8;return n.JA(i),{xy:!1,Uy:u}}r=qa(t,n).toNumber()}if("uuid"===e){if(!Va(t,n,16)){var s=n.Ku+16;return n.JA(i),{xy:!1,Uy:s}}e=nc(t,n,16)}return{xy:!0,zy:{Av:e,By:r,Qy:n.Ku-i}}},t.Fy=function(t,n,i){var r=t.ly,e=t._y,u=pc(Mc(r),e.Ku,r.byteLength);return i&&(u=Dc(u)),e.KA(u.byteLength),{Av:n,ly:u}},t.Yy=function(n,i,r){var e=n_(n.vy());return{Av:i,Gy:e.version,Vy:e.flags,ly:t.Fy(n,i,r).ly}},t}();function qp(t,n){var i=$p(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function $p(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Av===n)return r.ly}}function t_(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Av===n&&i.push(e.ly)}return i}function n_(t){return{version:t>>24,flags:new Ba(16777215&t)}}var i_=function(){function t(){}return t.Wy=function(n){for(var i=[],r=Jp.Ey(new Xp(n,new Ec)),e=0;e<r.length;e++){var u=r[e],s=t.Hy(u);s&&i.push(s)}return i},t.Xy=function(t){return Jp.Ly(t,new Ec,!1).m.some(this.Zy)},t.qy=function(n){return t_(Jp.Ey(new Xp(n,new Ec)),rp.zA).map(t.Ky)},t.Jy=function(n){return t_(Jp.Ey(n.ly),rp.zA).map(t.Ky)},t.Zy=function(t){return t.Av===rp.FA||t.Av===rp.QA||t.Av===rp.Kp||t.Av===rp.kA||t.Av===rp.PA||t.Av===rp.UA||t.Av===rp.BA},t.Hy=function(n){switch(n.Av){case rp.Kp:return t.$y(n.ly);case rp.kA:return t.tM(n.ly,n.Ku);case rp.PA:return t.iM(n.ly);case rp.UA:return t.eM(n.ly);case rp.BA:return t.sM(n.ly)}},t.$y=function(n){var i=Jp.Ey(n),r=qp(i,rp.Jp),e=t_(i,rp.$p),u=$p(i,rp.aA),s=t.nM(r),o=e.map(t.rM),a=u?t.oM(u):void 0;return{Av:rp.Kp,zy:s,Z:o,hM:a}},t.nM=function(t){var n=n_(t.vy()),i=n.version,r=n.flags,e=1===i?t.Ay():t.vy(),u=1===i?t.Ay():t.vy(),s=t.vy(),o=1===i?t.Ay():t.vy(),a=t.vy(),c=t.gy()>>8;t.Ny(2),t.Ny(8);var h=t.My(9);t.Ny(24);var f=t.vy();return{Av:rp.Jp,Gy:i,Vy:r,aM:e,uM:u,cM:s,ct:o,lM:a,zg:c,dM:h,fM:f}},t.rM=function(n){var i=Jp.Ey(n),r=qp(i,rp.tA),e=qp(i,rp.iA),u=t._M(r),s=t.gM(e);return{Av:rp.$p,zy:u,wM:s}},t._M=function(t){var n=n_(t.vy()),i=n.version,r=n.flags,e=1===i?t.Ay():t.vy(),u=1===i?t.Ay():t.vy(),s=t.vy();t.Ny(4);var o=1===i?t.Ay():t.vy();t.Ny(8);var a=t.wy(),c=t.wy(),h=t.wy()/g.pow(2,8);t.Ny(2);var f=t.My(9),v=t.vy()/g.pow(2,16),d=t.vy()/g.pow(2,16);return{Av:rp.tA,vM:r.ey(1),mM:r.ey(2),pM:r.ey(4),aM:e,uM:u,AM:s,ct:o,yM:a,MM:c,zg:h,dM:f,ji:v,Ti:d}},t.gM=function(n){var i=Jp.Ey(n),r=qp(i,rp.eA),e=qp(i,rp.sA),u=qp(i,rp.nA),s=t.bM(r),o=t.TM(e),a=t.SM(u);return{Av:rp.iA,zy:s,NM:o,IM:a}},t.bM=function(t){var n=n_(t.vy()),i=n.version,r=n.flags,e=1===i?t.Ay():t.vy(),u=1===i?t.Ay():t.vy(),s=t.vy(),o=1===i?t.Ay():t.vy();t.gy();return t.Ny(2),{Av:rp.eA,Gy:i,Vy:r,aM:e,uM:u,cM:s,ct:o}},t.TM=function(t){var n=n_(t.vy()),i=n.version,r=n.flags;t.Ny(4);var e=t.Ty(4);t.Ny(12);var u=t.Sy();return{Av:rp.sA,Gy:i,Vy:r,DM:e,l:u}},t.SM=function(n){var i=qp(Jp.Ey(n),rp.rA),r=t.EM(i);return{Av:rp.nA,kM:r}},t.EM=function(n){var i=qp(Jp.Ey(n),rp.oA),r=t.LM(i);return{Av:rp.rA,xM:r}},t.LM=function(n){for(var i=n_(n.vy()),r=i.version,e=i.flags,u=(n.vy(),[]),s=Jp.Ey(n),o=0;o<s.length;o++){var a=s[o],c=t.CM(a.ly,a.Av);c&&u.push(c)}return{Av:rp.oA,Gy:r,Vy:e,OM:u}},t.CM=function(n,i){var r=t.jM(n,i);return r||((r=t.RM(n,i))||(i===rp.SA?t.PM(n):void 0))},t.jM=function(n,i){return i===rp.yA?t.zM(n):i===rp.bA||i===rp.bA.toLowerCase()||i===rp.bA.toUpperCase()?t.BM(n):i===rp.DA?t.UM(n):void 0},t.RM=function(n,i){return i===rp.cA?t.QM(n):i===rp.dA||i===rp.fA?t.FM(n,i):i===rp.gA?t.YM(n,i):i===rp.vA?t.GM(n,i):i===rp.EA?t.VM(n):void 0},t.WM=function(t,n){return t.Ny(6),{Av:n,HM:t.gy()}},t.XM=function(n,i){var r=t.WM(n,i);n.Ny(8);var e=n.gy(),u=n.gy();return n.Ny(2),n.Ny(2),Xu({},r,{ZM:e,qM:u,KM:n.vy()>>>16})},t.JM=function(n,i){var r=t.WM(n,i);n.Ny(2),n.Ny(2),n.Ny(12);var e=n.gy(),u=n.gy(),s=n.vy(),o=n.vy();n.Ny(4);var a=n.gy();n.Ny(32);var c=n.gy();return n.Ny(2),Xu({},r,{ji:e,Ti:u,$M:s,ib:o,eb:a,sb:c})},t.zM=function(n){var i=t.XM(n,rp.yA),r=qp(Jp.Ey(n),rp.MA);return Xu({},i,{ob:t.hb(r)})},t.BM=function(n){var i=t.XM(n,rp.bA),r=qp(Jp.Ey(n),rp.TA);return Xu({},i,{ub:t.fb(r)})},t.PM=function(n){var i=t.WM(n,rp.SA),r=Jp.Ey(n),e=qp(r,rp.NA),u=t._b(e),s=$p(r,rp.IA);return Xu({},i,{gb:u,wb:s?t.vb(s):void 0})},t._b=function(t){return{Av:rp.NA,wd:t.Sy()}},t.vb=function(t){return{Av:rp.IA,kh:t.Sy()}},t.hb=function(t){return Jp.Yy(t,rp.MA,!0)},t.fb=function(t){return Jp.Yy(t,rp.TA,!0)},t.QM=function(n){var i=t.JM(n,rp.cA),r=Jp.Ey(n),e=qp(r,rp.lA),u=$p(r,rp.AA);return Xu({},i,{mb:t.pb(e),Ab:u?t.yb(u):void 0})},t.FM=function(n,i){var r=t.JM(n,i),e=qp(Jp.Ey(n),rp._A);return Xu({},r,{Mb:t.bb(e)})},t.YM=function(n,i){var r=t.JM(n,i),e=qp(Jp.Ey(n),rp.wA);return Xu({},r,{Tb:t.Sb(e)})},t.GM=function(n,i){var r=t.JM(n,i),e=Jp.Ey(n),u=qp(e,rp.mA),s=t.Nb(u),o=$p(e,rp.pA);return Xu({},r,{Ib:s,Db:o?t.Eb(o):void 0})},t.VM=function(n){var i=n.$A(),r=t.JM(n,rp.EA),e=qp(Jp.Ey(n),rp.YA),u=t.kb(e);return Xu({},r,{Lb:t.RM(i,u.Cb.xb),Ob:u})},t.UM=function(n){var i=n.$A(),r=t.XM(n,rp.DA),e=qp(Jp.Ey(n),rp.YA),u=t.kb(e);return Xu({},r,{Lb:t.jM(i,u.Cb.xb),Ob:u})},t.kb=function(n){var i=qp(Jp.Ey(n),rp.GA),r=t.jb(i);return{Av:rp.YA,Cb:r}},t.jb=function(t){var n=t.Ty(4);return{Av:rp.GA,xb:n}},t.pb=function(t){return Jp.Fy(t,rp.lA,!0)},t.bb=function(t){return Jp.Fy(t,rp._A,!0)},t.Sb=function(t){return Jp.Fy(t,rp.wA,!0)},t.Nb=function(t){return Jp.Fy(t,rp.mA,!0)},t.Eb=function(t){var n=t.Ty(4);switch(n){case"nclx":return{Rb:up.ON_SCREEN_COLOURS,Pb:t.gy(),zb:t.gy(),Bb:t.gy(),Ub:0!=(128&t.uy())};case"rICC":return{Rb:up.RESTRICTED_ICC_PROFILE};case"prof":return{Rb:up.UNRESTRICED_ICC_PROFILE};default:throw v("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.yb=function(t){var n=t.vy(),i=t.vy();return{Av:rp.AA,Qb:n,Fb:i}},t.oM=function(n){var i=t_(Jp.Ey(n),rp.uA).map(t.Yb);return{Av:rp.aA,Z:i}},t.Yb=function(t){var n=n_(t.vy()),i=n.version,r=n.flags,e=t.vy(),u=t.vy(),s=t.vy(),o=t.vy(),a=t.vy();return{Av:rp.uA,Gy:i,Vy:r,AM:e,Gb:u,Vb:s,Wb:o,Hb:a}},t.tM=function(n,i){var r=Jp.Ey(n),e=qp(r,rp.LA),u=t_(r,rp.xA),s=t.Xb(e),o=u.map(t.Zb);return{Av:rp.kA,qb:i,zy:s,Z:o}},t.Xb=function(t){var n=n_(t.vy()),i=n.version,r=n.flags,e=t.vy();return{Av:rp.LA,Gy:i,Vy:r,Kb:e}},t.Zb=function(n){var i=Jp.Ey(n),r=qp(i,rp.CA),e=t_(i,rp.OA),u=$p(i,rp.jA),s=t.Jb(r),o=e.map((function(n){return t.$b(n,s)})),a=u?t.tT(u):void 0;return{Av:rp.xA,zy:s,iT:o,eT:a}},t.Jb=function(t){var n=n_(t.vy()),i=n.version,r=n.flags,e=t.vy(),u=r.ey(sp.BASE_DATA_OFFSET_PRESENT)?t.Ay():void 0,s=r.ey(sp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vy():void 0,o=r.ey(sp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vy():void 0,a=r.ey(sp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vy():void 0,c=r.ey(sp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vy():void 0;return{Av:rp.CA,Gy:i,Vy:r,AM:e,sT:u,nT:s,Vb:o,Wb:a,Hb:c}},t.$b=function(n,i){for(var r=n_(n.vy()),e=r.version,u=r.flags,s=n.vy(),o=u.ey(op.DATA_OFFSET_PRESENT)?n.py():void 0,a=u.ey(op.FIRST_SAMPLE_FLAGS_PRESENT)?n.vy():void 0,c=[],h=0;h<s;h++){var f=t.rT(n,u,e,i);0===h&&void 0!==a&&(f.Vy=a),c.push(f)}return{Av:rp.OA,Gy:e,Vy:u,oT:s,qb:o,hT:a,aT:c}},t.rT=function(t,n,i,r){return{ct:n.ey(op.SAMPLE_DURATION_PRESENT)?t.vy():r.Vb,By:n.ey(op.SAMPLE_SIZE_PRESENT)?t.vy():r.Wb,Vy:n.ey(op.SAMPLE_FLAGS_PRESENT)?t.vy():r.Hb,uT:n.ey(op.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vy():t.py():void 0}},t.sM=function(t){var n=t.ly,i=t._y,r=n_(Ka(n,i)),e=r.version,u=r.flags;if(1===e){var s=Ka(n,i),o=qa(n,i),a=Ka(n,i),c=Ka(n,i),h=tc(n,i),f=tc(n,i),v=Nc(Mc(n),i.Ku,n.byteLength);return i.KA(v.byteLength),{Av:rp.BA,Gy:e,Vy:u,cT:h,lT:f,cM:s,dT:o,fT:a,o:c,_T:v}}var d=tc(n,i),l=tc(n,i),g=Ka(n,i),w=Ka(n,i),y=Ka(n,i),A=Ka(n,i),m=Nc(Mc(n),i.Ku,n.byteLength);return i.KA(m.byteLength),{Av:rp.BA,Vy:u,Gy:e,cT:d,lT:l,cM:g,gT:w,fT:y,o:A,_T:m}},t.iM=function(t){return Jp.Fy(t,rp.PA,!1)},t.Ky=function(n){var i=n.ly,r=n._y,e=Dc(Mc(i)).buffer,u=n_(Ka(i,r)),s=u.version,o=u.flags,a=t.wT(i,r),c=[];if(s>0)for(var h=Ka(i,r),f=0;f<h;f++){var v=Ga(i,r,16);c.push(v)}var d=Ka(i,r),l=new m(e,r.Ku,d);return r.KA(i.byteLength),{Av:rp.zA,Gy:s,Vy:o,vT:a,mT:c,pT:d,ly:l,AT:e}},t.wT=function(t,n){for(var i="",r=0;r<4;r++){var e=Qa(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Qa(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Qa(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Qa(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Qa(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.eM=function(t){var n,i,r=t.ly,e=t._y,u=n_(Ka(r,e)),s=u.version,o=u.flags,a=Ka(r,e),c=Ka(r,e);0===s?(n=xi.fromBits(Ka(r,e),0,!0),i=xi.fromBits(Ka(r,e),0,!0)):(n=qa(r,e),i=qa(r,e)),e.KA(2);for(var h=Za(r,e),f=[],v=0;v<h;v+=1){var d=Ka(r,e),l=d>>31&1,g=2147483647&d,w=Ka(r,e),y=Ka(r,e),A=y>>31&1,m=y>>28&7,p=268435455&y;f.push({yT:l,MT:g,ct:w,bT:A,TT:m,ST:p})}return{Av:rp.UA,Gy:s,Vy:o,NT:a,cM:c,IT:n,DT:i,ET:h,kT:f}},t.tT=function(t){var n,i=t.ly,r=t._y,e=n_(Ka(i,r)),u=e.version,s=e.flags;return n=0===u?xi.fromBits(Ka(i,r),0,!0):qa(i,r),{Av:rp.jA,Gy:u,Vy:s,eT:n}},t}();function r_(t){return t&&"TI"in t?t.TI:t}wt(),C(),mt(),Mt(),wt(),C();var e_=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).NI=u,c.DI=s,c.EI=o,c.LI=a||void 0,c}return kt(n,t),n.prototype.FS=function(t){return!!yA(this.SI,t.SI)&&(!!yA(this.II,t.II)&&(!!yA(this.AI,t.AI)&&(this.kI&&t.kI?!!this.kI.xI(t.kI)&&(this.O&&t.O?this.O.xI(t.O):this.O===t.O):this.kI===t.kI)))},At(n,[{key:"SI",get:function(){return this.NI}},{key:"II",get:function(){return this.DI}},{key:"AI",get:function(){return this.EI}},{key:"kI",get:function(){return this.LI}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return gA(pm(t),{get extent(){return t.SI},get styles(){return t.II},get regions(){return t.AI},get metadata(){return r_(t.kI)},get content(){return r_(t.O)}})}(this)),this.Xa}}]),n}(Em);wt(),C(),mt();var u_=function(){function t(t,n,i){this.FI=t,this.YI=n,Uy(i)?this.QI=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.GI(u)}return i}(0,0,i):this.QI=i}return At(t,[{key:"BI",get:function(){return this.QI.UI(!0)}},{key:"MS",get:function(){return this.FI}},{key:"bS",get:function(){return this.YI}}]),t}();wt(),C(),Ct();var s_="http://www.w3.org/XML/1998/namespace";function o_(t,n,i,r){var e=t.HI(i,n);return 0===e.length&&(e=t.XI(r+":"+n)),e}function a_(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Lt(u.m))}return r}(t,(function(t){return t.WR===n}))}function c_(t){for(var n={},i=0,r=t.ZI;i<r.length;i++){var e=r[i];n[e.qI]=e.lT}return n}var h_,f_,v_=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,d_=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,l_="http://www.w3.org/ns/ttml";function g_(t,n,i,r){void 0===i&&(i=ap),void 0===r&&(r=mv.APPLICATION_TTML_XML);var e=[],u=kc(t);return r===mv.APPLICATION_MP4?e=function(t,n,i){var r=i_.Wy(t),e=Hp(r,rp.PA);if(!e)return[];return A_(kc(e.ly),n,i)}(u,n,i):r===mv.APPLICATION_TTML_XML&&(e=A_(u,n,i)),e}function w_(t,n,i){return void 0===i&&(i=ap),m_(t,n,i)}function y_(t,n){for(var i=T_(n.BI),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function A_(t,n,i){return m_(mc(t,new Ec),n,i)}function m_(t,n,i){var r,e=[];try{r=on.KI(t)}catch(t){return e}var u=r.JI;if("tt"!==u.qI)return e;var s=u.HI(l_,"head")[0],o=u.HI(l_,"body")[0];if(!o||!s)return e;for(var a=__(u.$I("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.HI(l_,"styling")[0],r=i&&i.HI(l_,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.tD(s_,"id")]=c_(u)}return n}(s),f=function(t){for(var n={},i=t.HI(l_,"layout")[0],r=i&&i.HI(l_,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.tD(s_,"id");if(s){n[s]=c_(u);var o=b_(u);for(var a in o)xn.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=wA(t),r=0,e=l.keys(i);r<e.length;r++){var u=e[r],s=__(i[u].extent);if(s){var o=p_(s[0],n[0]),a=p_(s[1],n[1]);i[u].extent=o+" "+a}var c=__(i[u].origin);if(c){var h=p_(c[0],n[0]),f=p_(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,d=s.HI(l_,"metadata")[0],g=k_(o,i.vI,i.mI,i.pI),w=0;w<g.length;w++){var y=g[w],A=y_(v,y);e.push(new e_(y.MS,y.bS,y.BI,!1,c,h,A,d))}return e}function p_(t,n){return t/n*100+"%"}function __(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=Gt(n,2),r=i[0],e=i[1];if(Cs(r,"px")&&Cs(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function k_(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].MS,s=i[e].bS;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],a);if(i.length<=0&&function(t){if(Uy(t)){var n=t.qI.toUpperCase(),i=Boolean(t.$I("smpte:backgroundImage"));return"BR"===n||i}return t.CI===By.Ru}(t)){var r=t.UI(!1);c.push(new u_(l[n],l[n+1],r))}else if(i.length>0){var e=t.UI(!1);i.forEach((function(t){return e.eD(t.BI)})),c.push(new u_(l[n],l[n+1],e))}},s=n,o=i,a=[],c=[];if(Uy(t)){var h,f;s=null!=(h=M_(t.$I("begin"),r))?h:s,e=M_(t.$I("dur"),0),o=null!=(f=M_(t.$I("end"),r))?f:void 0!==e?s+e:o;for(var v=t.iD,d=0;d<v.length;d++)("body"===t.qI||"div"===t.qI)&&v[d].CI>1||(a=a.concat(k_(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.MS,u.bS)}r.sort($s);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(co(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<l.length-1;g++)u(g);return c}function M_(t,n){if(t){if(v_.test(t)){var i=v_.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*g.pow(.1,s.length):0)+n}if(d_.test(t)){var o=d_.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function b_(t){for(var n={},i=t.XI("style")||[],r=0;r<i.length;r++){var e=c_(i[r]);for(var u in e)xn.call(e,u)&&(n[u]=e[u])}return n}function T_(t){var n,i=[];if(Uy(t)){(n=t.$I("region"))&&i.push(n);for(var r=t.iD,e=0;e<r.length;e++)i=i.concat(T_(r[e]))}return i}function N_(t){var n=function(t){try{return on.KI(t).JI}catch(t){}}(t);return"tt"===(null==n?void 0:n.qI)}function D_(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function I_(){}function E_(t){var n,i=[cA.ra,cA.Lw,cA.lw,cA.fw,cA.mw,cA.Aw,cA.gw,cA.Mw,cA.Nw,cA.Dw],r=[f_.ha],e={get kind(){return t.zt},get label(){return t.kh},set label(n){t.kh=TA(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.Xw},get inBandMetadataTrackDispatchType(){return t.fv},get mode(){return t._v},set mode(n){n!==h_.Jn&&n!==h_.vv&&n!==h_.Ch||t.mv(n)},get forced(){return Boolean(t.pv)},get accessibility(){var n,i;return null!=(i=null==(n=t.Zw)?void 0:n.map(LA))?i:[]},get type(){return t.Av},get readyState(){return t.Sg},get cues(){return t._v===h_.Ch?null:t.L.va},get activeCues(){return t._v===h_.Ch?null:t.q.va},get src(){return t.yv||""},addEventListener:function(t,i){var r=DA(t,TA);n.yn(r,i)},removeEventListener:function(t,i){var r=DA(t,TA);n.fn(r,i)}};return n=new Zo(t),t.yn(i,(function(t){return n.Co(t.va)})),t.yn(r,(function(t){return n.Co(t)})),l.defineProperty(e,"constructor",{value:I_}),e}function S_(){}function L_(t){var n=SA(t);return l.defineProperty(n,"constructor",{value:S_}),n}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),function(t){t.Ch="disabled",t.vv="hidden",t.Jn="showing"}(h_||(h_={})),wt(),C(),Mt(),wt(),C(),wt(),C(),function(t){t.ha="error"}(f_||(f_={}));var C_,j_=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n._v=h_.Ch),i},i.fa=function(){return L_(this)},n}(vA);wt(),C(),wt(),C(),function(t){t.HA="subtitles",t.sD="captions",t.nD="descriptions",t.Fn="chapters",t.ZA="metadata",t.rD="thumbnails"}(C_||(C_={}));var x_=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function O_(t){return"string"==typeof t&&fo(x_,t)}function z_(t,n){return!(!O_(t)||!O_(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}wt(),C(),Mt();var R_,B_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return kt(n,t),n}(Fv);function P_(t){return t.some(U_)}function U_(t){return Ss(t,"stpp")}function Q_(t){return t.some(Y_)}function Y_(t){return Ss(t,"vtt")||Ss(t,"wvtt")}function G_(t,n){return pv(t)&&Q_(n)}function F_(t,n){return t===C_.rD||t===C_.ZA&&n===C_.rD}function V_(t,n,i,r){for(var e=0,u=t.L.Rw;e<u.length;e++){var s=u[e];if(s.MS>i)break;n<=s.bS&&!fo(r,s)&&r.push(s)}}function W_(t,n){return qs(t.Xw,n.Xw)}function X_(t,n,i,r){var e=function(t){switch(t){case cm.WEBVTT:return"WebVTT";case cm.SRT:return"SRT";case cm.TTML:return"TTML";default:return""}}(t);return new B_(Qv.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function Z_(t,n){for(var i=[],r=0,e=t.L.Rw;r<e.length;r++){var u=e[r];if(u.bS<=n)i.push(u);else if(u.MS>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.gD(o)}}function H_(t,n){if(t.U>0)for(var i=t.Cn(0),r=g.max(0,i-10),e=0;e<n.length;e++){n[e].wD(r)}}!function(t){t.vD="vtt",t.SA="wvtt",t.mD="stpp"}(R_||(R_={}));var K_=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new j_,n.pD=function(t){var i=t.Lt;n.yD(i)},n}kt(n,t);var i=n.prototype;return i.tt=function(t){t.yn(cA.ra,this.pD),this.Z.tt(t),this.yD(t)},i.it=function(t){t.fn(cA.ra,this.pD),t._v=h_.Ch,this.Z.it(t)},i.MD=function(t){},i.bD=function(t){},i.yD=function(t){t._v!==h_.Ch?this.MD(t):this.bD(t)},i.TD=function(){for(var t=0,n=this.Z.Rw;t<n.length;t++){var i=n[t];i.fn(cA.ra,this.pD),i.gn()}},i.wD=function(t){if(t>0)for(var n=0,i=this.Z.Rw;n<i.length;n++){Z_(i[n],t)}},i.tr=function(){return this.TD(),this.Z.tr(),K.resolve()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),t.Z.gn(),[2]}}))}))()},n}(Xo);wt(),C(),mt(),Mt();var J_=function(t){function n(n){var i;return(i=t.call(this,f_.ha)||this).errorObject=n,i}return kt(n,t),n.prototype.fa=function(){return this},At(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(iA),q_=function(t){function n(n,i){var r;return(r=t.call(this)||this).dE=new So,r.oE=n,r.aE=i,r}kt(n,t);var i=n.prototype;return i.nE=function(t){if(t.src){var n=t.kind||C_.HA,i=this.oE.rE(n,t.id,t.label,t.srclang,t.default);return i.yv=ry(t.src),this.tt(i),i}},i.hE=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,v;return zt(this,(function(d){switch(d.label){case 0:t.Sg=am.LOADING,r=new qw({zu:t.yv,qD:ld.Ru,ZD:Ww.GET,f_:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.aE.uD(r)];case 2:return s=d.sent(),u=s.fD,[4,s.uE()];case 3:return e=d.sent(),[3,5];case 4:return xo(o=d.sent()),t.Sg=am.ERROR,t.Co(new J_(function(t,n){var i=n,r=0;if(by(t)&&t.name===ey.oD)i=t.uD.zu;else if(Ty(t)){var e=t.lD;if(i=e.cE,0===(r=e.fD))return new B_(Qv.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new B_(Qv.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.yv))),[2];case 5:try{for(a=function(t){return Sp(t)?cm.WEBVTT:N_(t)?cm.TTML:cm.SRT}(e),t.Av=a,c=[],a===cm.WEBVTT||a===cm.SRT?(h=Ap(e),c=h.L):a===cm.TTML&&(c=w_(e,t)),f=0;f<c.length;f++)v=c[f],t.lE(v)}catch(n){return xo(n),t.Sg=am.ERROR,t.Co(new J_(X_(t.Av,t.yv,u,n))),[2]}return t.Sg=am.LOADED,[2]}}))}))()},i.MD=function(t){fo(this.Z.Rw,t)&&t.Sg===am.NONE&&this.hE(t,this.dE.f_).catch(Oo)},i.$n=function(){},i.tr=function(){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:for(n.dE.g_(),n.dE=new So,i=0,r=n.Z.Rw;i<r.length;i++)e=r[i],n.oE.fE(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(K_);function $_(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zt===n&&r._E)return r}}function tk(t,n){nk($_(t.Rw,n))}function nk(t){void 0!==t&&(t._v=h_.Jn)}function ik(t,n){var i=$_(t.Rw,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zt===n)return r}}(t.Rw,n);nk(i)}function rk(t){for(var n=0;n<x_.length;n++){var i=x_[n];i===C_.Fn?ik(t,i):tk(t,i)}}wt(),C(),wt(),C(),Mt();var ek,uk,sk=function(t){function n(){return t.call(this,dd.Jv)}return kt(n,t),n}(Jo);wt(),C(),wt(),C(),function(t){t[t.Tj=0]="Tj",t[t.Sj=1]="Sj"}(ek||(ek={})),wt(),C(),function(t){t.pm="canplay",t.Am="canplaythrough",t.ym="loadeddata",t.Mm="loadedmetadata",t.Nw="readystatechange",t.Tm="waiting",t.Sm="playing"}(uk||(uk={}));var ok=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];wt(),C(),mt(),Mt(),wt(),C(),Mt();var ak,ck=function(t){function n(n,i){var r;return(r=t.call(this,uk.Nw)||this).currentTime=n,r.readyState=i,r}return kt(n,t),n}(Jo);wt(),C(),function(t){t[t.BT=0]="BT",t[t.Xn=1]="Xn",t[t.UT=2]="UT",t[t.QT=3]="QT",t[t.FT=4]="FT"}(ak||(ak={})),wt(),C(),Mt();var hk=function(t){function n(n,i){var r;return void 0===i&&(i=ak.Xn),(r=t.call(this,uk.Mm)||this).currentTime=n,r.readyState=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var fk=function(t){function n(n,i){var r;return void 0===i&&(i=ak.UT),(r=t.call(this,uk.ym)||this).currentTime=n,r.readyState=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var vk=function(t){function n(n){var i;return(i=t.call(this,uk.Tm)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var dk=function(t){function n(n,i){var r;return void 0===i&&(i=ak.QT),(r=t.call(this,uk.pm)||this).currentTime=n,r.readyState=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var lk=function(t){function n(n,i){var r;return void 0===i&&(i=ak.FT),(r=t.call(this,uk.Am)||this).currentTime=n,r.readyState=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var gk=function(t){function n(n){var i;return(i=t.call(this,uk.Sm)||this).currentTime=n,i}return kt(n,t),n}(Jo),wk=[uk.Nw,uk.Sm,dd.jh,dd.Sh],yk=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).Dj=n,r.Cj=i,r.Oj=ak.BT,r.Bj=!0,r.Lj=!1,r.Ij=!1,r.Yj=function(t){var n=r.Dj.Sg;n!==r.Oj&&r.Co(new ck(t.currentTime,n)),n===ak.BT&&(r.Lj=!1,r.Ij=!1),r.Nj(n),r.Ej(n),r.zj(n),r.maybeDispatchCanPlayThroughEvent(n),r.xj(n),r.Rj(n),r.Oj=n},r.Qj=function(){r.Rj(r.Oj),r.xj(r.Oj),r.Bj=r.Dj.fg},r.Fj=function(){r.Bj=r.Dj.fg},r.Uj=function(t){r.Co(new gk(t.currentTime))},r.Dj.yn(uk.Nw,r.Yj),r.Dj.yn(dd.jh,r.Qj),r.Dj.yn(dd.Sh,r.Fj),r.Cj&&r.Dj.yn(uk.Sm,r.Uj),r}kt(n,t);var i=n.prototype;return i.Nj=function(t){!this.Ij&&t>=ak.Xn&&(this.Ij=!0,this.Co(new hk(this.Dj.U_,t)))},i.Ej=function(t){!this.Lj&&t>=ak.UT&&(this.Lj=!0,this.Co(new fk(this.Dj.U_,t)))},i.xj=function(t){this.Cj||(t>=ak.QT&&this.Oj<ak.QT&&!this.Dj.fg||this.jj&&t>=ak.QT)&&this.Co(new gk(this.Dj.U_))},i.Rj=function(t){!this.Pj(t)||this.Dj.G_||this.Dj.lt||this.Co(new vk(this.Dj.U_))},i.zj=function(t){this.Oj<=ak.UT&&t>=ak.QT&&this.Co(new dk(this.Dj.U_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ak.FT&&this.Co(new lk(this.Dj.U_,t))},i.Pj=function(t){var n=!this.Dj.fg&&t<=ak.UT,i=!this.Bj&&this.Oj<=ak.UT;return n&&!i},i.tr=function(){this.Oj=ak.BT,this.Bj=!0,this.Lj=!1,this.Ij=!1},i.gn=function(){this.Vo(),this.Cj&&this.Dj.fn(uk.Sm,this.Uj),this.Dj.fn(dd.jh,this.Qj),this.Dj.fn(dd.Sh,this.Fj),this.Dj.fn(uk.Nw,this.Yj)},At(n,[{key:"jj",get:function(){return!this.Dj.fg&&this.Bj}}]),n}(Xo),Ak=function(t){function n(n){var i;return(i=t.call(this)||this).Dj=n,i.Dj.yn(wk,i.Ds),i}return kt(n,t),n.prototype.h_=function(){this.Vo(),this.Dj.fn(wk,this.Ds)},At(n,[{key:"U_",get:function(){return this.Dj.U_}},{key:"G_",get:function(){return this.Dj.G_}},{key:"lt",get:function(){return this.Dj.lt}},{key:"fg",get:function(){return this.Dj.fg}},{key:"Sg",get:function(){return this.Dj.Sg}}]),n}(Xo);wt(),C(),wt(),C();var mk="titanium",pk="conax",_k="ezdrm",kk="irdeto",Mk="vudrm",bk="verimatrix",Tk="keyos",Nk="drmtoday",Dk="expressplay",Ik="azure",Ek="xstream",Sk="vimond",Lk="axinom",Ck="uplynk",jk="comcast",xk="custom";wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),mt(),Pt();var Ok=function(){function t(t,n,i,r,e){this.Vj=void 0,this.Qp=t,this.fR=n,this._R=i,this.aE=r,this.dR=e,this.qj=this.gR(n)}var n=t.prototype;return n.Gj=function(){return this.Vj},n.Wj=function(t){this.Vj=t},n.Kj=function(){return this.qj.licenseAcquisitionURL||this.Gj()},n.$j=function(t){return K.resolve()},n.tR=function(t,n){return K.resolve(void 0)},n.iR=function(t,n,i,r){var e=this;return xt((function(){var u,s;return zt(this,(function(o){switch(o.label){case 0:if(""===(u=e.eR(t,n,i,r)).zu)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.Hj.uD(u)];case 2:return[4,o.sent().sR(n)];case 3:return[2,o.sent()];case 4:return xo(s=o.sent()),[4,e.nR(s,u.zu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.eR=function(t,n,i,r){var e=this.rR().ED(),u=this.tE,s={zu:this.oR(),qD:n,XD:e,HD:t,tE:u,ZD:Ww.POST,_D:0,f_:r,Av:Xw.jD,JD:i};return new qw(s)},n.hR=function(t,n){return K.resolve(t)},n.aR=function(t,n,i,r){return K.resolve(t)},n.rR=function(){return new wd(this.qj.headers||{})},n.nR=function(t,n,i){return xt((function(){return zt(this,(function(n){throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.oR=function(t,n){var i=n,r=this.qj.queryParameters;if(!i){var e=this.Kj();if(!e)return"";i=e}if(r||t){var u=on.Dh(i);t&&iy(u,t),r&&iy(u,r),i=u.href}return i},n.uR=function(t,n){return zk(t)},n.cR=function(t){return new m(t)},n.lR=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,r.uR(t,i)];case 1:return e=s.sent(),[4,r.iR(e,r.dR,n,i)];case 2:return u=s.sent(),[2,r.cR(u)]}}))}))()},n.gn=function(){},At(t,[{key:"Hj",get:function(){return this.aE}},{key:"Xj",get:function(){return!1}},{key:"Zj",get:function(){var t=this.qj.certificate;if(t)return Yn(t)?va(t):Tc(t)}},{key:"Jj",get:function(){return!1}},{key:"tE",get:function(){return Boolean(this.qj.useCredentials)}}]),t}();function zk(t){return K.resolve(Dc(t).buffer)}var Rk,Bk=function(t){function n(n,i,r,e){return t.call(this,ks,n,i,r,e)}kt(n,t);var i=n.prototype;return i.gR=function(t){return t.widevine||{}},i.wR=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){return i.Zj?[2,i.Zj]:[2,i.vR(new m(t),n)]}))}))()},i.vR=function(n,i){return t.prototype.lR.call(this,n,Zw.BD,i)},n}(Ok);function Pk(t,n){if(null==t)return{};var i,r,e={},u=l.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Uk(t){return zn(t.token&&t.deviceId)}function Qk(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&zn(i.PreAuthorization)}function Yk(t){var n=t;return Uk(n)&&""!==n.token&&""!==n.deviceId&&!Qk(n)}wt(),C(),wt(),C(),Zt(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),function(t){t.Cp=!1,t.Op=!1,t.jp=!1,t.Rp=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Pp=!1,t.zp=!1,t.LOG_LCEVC_DETAILS=!1}(Rk||(Rk={})),wt(),C(),mt();var Gk,Fk=function(){function t(t,n,i){this.Up=t,this.Fp=n,this.Gp=i}return t.prototype.Yp=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Gp.build(t))},At(t,[{key:"Bp",get:function(){return this.Up}},{key:"Qp",get:function(){return this.Fp}}]),t}();wt(),C(),function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Gk||(Gk={}));var Vk=function(){function t(){this.Wp=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.Vp(t,n,i)){case Gk.FAILED:throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case Gk.OVERRIDDEN:var r=cM(n);on.vp("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Gk.SUCCEEDED:cM(n);0}},n.Vp=function(t,n,i){var r=cM(n);if(!r)return Gk.FAILED;for(var e=Gk.SUCCEEDED,u=0,s=this.Wp.slice();u<s.length;u++){var o=s[u];o.Bp===t&&o.Qp===r&&(e=Gk.OVERRIDDEN,ao(this.Wp,o))}return this.Wp.push(new Fk(t,r,i)),e},n.Hp=function(t,n){return void 0!==this.Xp(t,n)},n.Zp=function(t,n,i){var r=this.Xp(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Yp(i)},n.Xp=function(t,n){for(var i=0,r=this.Wp;i<r.length;i++){var e=r[i];if(e.Bp===t&&(!n||e.Qp===n))return e}},t}();Vk.qp=new Vk;var Wk={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Xk(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function Zk(t){return t&&void 0!==t.licenseAcquisitionURL}var Hk,Kk=Zk,Jk=Zk;function qk(t){if(!t)return!0;if(iM(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Xk(n)&&Xk(i)&&Xk(r)&&void 0===e&&Xk(u)}function $k(t){var n=Yk(t),i=function(t){var n,i=t;return Qk(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Uk(i)}(t);return(!n||!i)&&(n||i)}function tM(t){return t.integration===kk}function nM(t){var n=t;if(!n)return!1;if(qk(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(iM(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Kk(r))return!1;if(e&&!Jk(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(Vk.qp.Hp(n.integration))return!0;switch(n.integration){case mk:if(!function(t){var n=t,i=n.integration===mk;return i&&(rM(t)||eM(t))}(t))return!1;break;case Mk:if(!uM(t))return!1;break;case bk:if(!function(t){var n=t;return n.integration===bk}(t))return!1;break;case kk:if(!tM(t))return!1;break;case pk:if(!$k(t))return!1;break;case _k:if(!function(t){var n=t;return n.integration===_k}(t))return!1;break;case Tk:if(!iM(t))return!1;break;case Nk:if(!function(t){var n=t;return n.integration===Nk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Dk:if(!function(t){var n=t;return n.integration===Dk}(t))return!1;break;case Ek:if(!sM(t))return!1;break;case Sk:if(!function(t){return t.integration===Sk}(t))return!1;break;case Lk:if(!oM(t))return!1;break;case Ik:if(!function(t){var n=t;return n.integration===Ik&&void 0!==n.token}(t))return!1;break;case Ck:if(!function(t){var n=t;return n.integration===Ck}(t))return!1;break;case jk:if(!function(t){var n=t;return n&&zn(n.releasePid)&&zn(n.accountId)&&zn(n.token)}(t))return!1;break;case xk:return!0;default:return!1}}return!0}function iM(t){return t.integration===Tk}function rM(t){return void 0!==t.authToken}function eM(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function uM(t){var n=t;return n.integration===Mk&&void 0!==n.token}function sM(t){var n=t;return n&&n.integration===Ek&&Yn(n.ticketAcquisitionURL)&&Yn(n.streamId)}function oM(t){var n=t;return n.integration===Lk&&void 0!==n.token}function aM(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Wk[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=Xu({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return Xu({},Pk(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function cM(t){switch(t.toLowerCase()){case"widevine":case vs:return vs;case"playready":case cs:return cs;case"fairplay":case ys:return ys}}function hM(t,n){switch(t){case us:return function(t){for(var n={},i=i_.qy(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.vT]=e.AT}return n}(n);case ss:case os:return function(t){return Xt({},ws,t)}(n);default:throw new Fv(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Ep="Widevine",t.mR="PlayreadyV2",t.pR="PlayreadyV3",t.Dp="PlayreadyV2",t.kp="Fairplay"}(Hk||(Hk={}));var fM={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function vM(t,n){var i,r,e,u,s=fM[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=on.AR)?void 0:i.Ys,OSVersion:null==(r=on.AR)?void 0:r.yR,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=on.AR)?void 0:e.MR,DeviceModel:null==(u=on.AR)?void 0:u.bR}}}function dM(t,n){if(!t.accountName)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function lM(t,n,i){var r;if(rM(t))r={AuthToken:t.authToken,Payload:n};else{if(!eM(t))throw dM(t,i);r={LatensRegistration:vM(t,i),Payload:n}}return Na(JSON.stringify(r))}function gM(t,n,i){return wM.apply(this,arguments)}function wM(){return wM=xt((function(t,n,i){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:if(!(r=t.lD))throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.SR(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.uD.zu,e.fD,e.NR,s)}}))})),wM.apply(this,arguments)}wt(),C(),Ot(),Pt();var yM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ld.ND)||this).ER=void 0,e}kt(n,t);var i=n.prototype;return i.nR=function(t,n,i){return gM(t,n,i)},i.$j=function(t){return this.ER?zo(this.ER.OL,t):(this.ER=new Cc,K.resolve())},i.uR=function(t,n){var i=this;return xt((function(){var n,r;return zt(this,(function(e){if(!(n=i.fR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=ga(t),[2,lM(n,r,Hk.Ep)]}))}))()},i.cR=function(t){if(!t.license)throw new PA(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return va(t.license)},i.kR=function(t){return K.resolve(new m(t))},i.wR=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return i.LR(),[4,i.uR(t,n)];case 1:return r=u.sent(),[4,i.iR(r,ld.SD,Zw.UD,n)];case 2:return e=u.sent(),[4,i.kR(e)];case 3:return[2,u.sent()]}}))}))()},i.vR=function(n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return[4,t.prototype.vR.call(r,n,i)];case 1:return e=u.sent(),r.LR(),[2,e]}}))}))()},i.LR=function(){this.ER||(this.ER=new Cc),this.ER.LL()},i.gn=function(){this.ER&&this.ER.g_(),t.prototype.gn.call(this)},n.IR=function(){return on.Ys.DR?"required":"optional"},n}(Bk);wt(),C(),Ot(),mt(),Mt(),Pt();var AM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ld.SD)||this).Wj("https://widevine-proxy.drm.technology/proxy"),e}return kt(n,t),n.prototype.uR=function(t,n){var i=this;return xt((function(){var n,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,zk(t)];case 1:if(n=s.sent(),r=i._R,e=Ic(new m(n)),!(u=i.xR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},At(n,[{key:"xR",get:function(){if(uM(this.fR))return this.fR.token}}]),n}(Bk);function mM(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Xu({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Xu({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}wt(),C(),Mt(),wt(),C();var pM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ld.SD)||this).Wj("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return kt(n,t),n.prototype.oR=function(n,i){var r=n;return tM(this.fR)&&(r=mM(this.fR,r)),t.prototype.oR.call(this,r,i)},n}(Bk);wt(),C(),Mt(),wt(),C();var _M="Conax-Custom-Data";function kM(t,n,i){var r=t&&$k(t)&&t;if(r&&!i.has(_M)){var e=Yk(r)?r.token:void 0,u=Yk(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(_M,s)}return i}var MM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ld.SD)||this).Wj("https://connect.conax.com:8094/license"),e}return kt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this);return kM(this.fR,"Widevine",n)},n}(Bk);function bM(t){var n=fc(new m(t));return va(JSON.parse(n).license)}function TM(t){return"string"==typeof t.token?t.token:Na(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function NM(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}wt(),C(),mt(),Mt(),wt(),C();var DM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ld.SD)||this).Wj("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}kt(n,t);var i=n.prototype;return i.cR=function(t){return bM(t)},i.rR=function(){return NM(t.prototype.rR.call(this),this.xR,this.fR)},At(n,[{key:"xR",get:function(){return TM(this.fR)}}]),n}(Bk);wt(),C(),Mt();var IM=function(t){function n(n,i,r){return t.call(this,n,i,r,ld.SD)}return kt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this),i=this.fR.token;return n.set("Authorization","Bearer "+i),n},n}(Bk);function EM(t,n,i,r){return SM.apply(this,arguments)}function SM(){return SM=xt((function(t,n,i,r){var e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:if(!sM(t))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new wd).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={zu:t.ticketAcquisitionURL,qD:ld.ND,XD:e,ZD:Ww.POST,HD:JSON.stringify(a),f_:r},[4,i.uD(c)];case 1:return[4,h.sent().SR()];case 2:return[2,h.sent()]}}))})),SM.apply(this,arguments)}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Pt();var LM=function(t){function n(n,i,r){return t.call(this,n,i,r,ld.ND)}kt(n,t);var i=n.prototype;return i.rR=function(){var n=t.prototype.rR.call(this);return n.set("Content-Type","application/json"),n},i.uR=function(n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:return e=Ta(n.buffer),[4,EM(r.fR,"widevine_modular",r.Hj,i)];case 1:return u=o.sent(),r.Wj(u.licenseServerUrl),s=vc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.uR.call(r,s,i)]}}))}))()},i.cR=function(t){return va(t.license)},n}(Bk);wt(),C(),Mt();var CM=function(t){function n(n,i,r){return t.call(this,n,i,r,ld.SD)}return kt(n,t),n.prototype.rR=function(){if(!oM(this.fR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rR.call(this);return n.set("X-AxDRM-Message",this.fR.token),n},n}(Bk);function jM(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}wt(),C(),Ot(),Mt(),Pt();var xM=function(t){function n(n,i,r){var e;return(e=t.call(this,_s,n,i,r,ld.SD)||this).OR=void 0,e}kt(n,t);var i=n.prototype;return i.gR=function(t){return t.playready||{}},i.rR=function(){var n=new wd(this.OR);return n.LD(t.prototype.rR.call(this)),n},i.jR=function(t){return t.length>=1&&t[0].iD.length>0},i.tR=function(n){var i=this.fR.playready.customData;if(i){var r=jM(i),e=jM('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+ga(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return K.resolve({playready:{PO:e}})}return t.prototype.tR.call(this,n)},i.uR=function(t,n){var i=this;return xt((function(){var n;return zt(this,(function(r){switch(r.label){case 0:return[4,zk(t)];case 1:return n=r.sent(),[2,i.RR(n)]}}))}))()},i.RR=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y;return zt(this,(function(A){e=null,u=new DataView(t),s=ac(u,new Ec,!0);try{o=on.KI(s)}catch(t){return[2,e]}for(a=null==(i=o.XI("PlayReadyKeyMessage")[0])?void 0:i.XI("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.XI("Challenge"))?c:[],n.jR(h)&&(e=ba(h[0].PR)),f=new wd,d=null!=(v=null==a||null==(r=a.XI("HttpHeaders")[0])?void 0:r.XI("HttpHeader"))?v:[],l=0;l<d.length;l++)g=d[l],w=g.XI("name")[0].PR,y=g.XI("value")[0].PR,f.append(w,y);return n.OR=f,[2,e]}))}))()},i.wR=function(t,n){return K.resolve(t)},i.vR=function(n,i){return t.prototype.lR.call(this,n,Zw.QD,i)},n}(Ok);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt();var OM=function(){function t(n){this.QR=n,this.kC=t.zR(n)}return t.prototype.UR=function(){var t={};if(this.kC===Hk.pR){var n={LatensRegistration:vM(this.QR,Hk.pR)};t["X-TITANIUM-DRM-CDATA"]=Na(JSON.stringify(n))}return t},t.zR=function(t){return"3"===t.version?Hk.pR:Hk.mR},At(t,[{key:"FR",get:function(){return this.kC}},{key:"kO",get:function(){return this.kC===Hk.mR}}]),t}();var zM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).YR=new OM(e.fR),e}kt(n,t);var i=n.prototype;return i.tR=function(t){var n=this.fR;if(!this.fR)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(eM(n)){var i={};return i.playready={PO:RM(n,this.YR.FR)},K.resolve(i)}return K.reject(dM(n,Hk.Dp))},i.rR=function(){var n=new wd(this.YR.UR());return n.LD(t.prototype.rR.call(this)),n},i.nR=function(t,n,i){return xt((function(){var r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:if(!(r=t.lD))throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.GR(i)];case 2:return s=f.sent(),o=fc(new m(s)),(a=on.KI(o))&&(c=a_(a,"CustomData")).length>0&&(e=JSON.parse(c[0].PR),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.fD,r.NR,u)}}))}))()},i.jR=function(t){if(1!==t.length)throw new PA(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(xM);function RM(t,n){var i=vM(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Na('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=lc(e,!0);return lc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+ga(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}wt(),C(),mt(),Mt();var BM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://playready-license.drm.technology/rightsmanager.asmx"),e}kt(n,t);var i=n.prototype;return i.jR=function(t){if(1!==t.length)throw new PA(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.oR=function(n,i){var r=Xu({},n||{},{token:this.xR});return t.prototype.oR.call(this,r,i)},At(n,[{key:"xR",get:function(){if(uM(this.fR))return this.fR.token}}]),n}(xM);wt(),C(),Mt();var PM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return kt(n,t),n.prototype.oR=function(n,i){var r=n;return tM(this.fR)&&(r=mM(this.fR,r)),t.prototype.oR.call(this,r,i)},n}(xM);wt(),C(),Mt();var UM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return kt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this);return kM(this.fR,"PlayReady",n)},n}(xM);wt(),C(),mt(),Mt();var QM,YM=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Wj("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}kt(n,t);var i=n.prototype;return i.cR=function(n){var i=function(t){var n=fc(new m(t));return Ls(n,"<?xml")?0:1}(n);return 1===i?bM(n):t.prototype.cR.call(this,new m(n))},i.rR=function(){return NM(t.prototype.rR.call(this),this.xR,this.fR)},At(n,[{key:"xR",get:function(){return TM(this.fR)}}]),n}(xM);!function(t){t[t.HR=0]="HR",t[t.SR=1]="SR"}(QM||(QM={})),wt(),C(),Ot(),Mt(),Pt();var GM=function(t){function n(n,i,r){return t.call(this,n,i,r)}kt(n,t);var i=n.prototype;return i.rR=function(){var n=t.prototype.rR.call(this);return this.XR&&n.set("Ticket",this.XR),n.set("Content-Type","text/xml"),n},i.uR=function(n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return[4,EM(r.fR,"playready",r.Hj,i)];case 1:return e=u.sent(),r.Wj(e.licenseServerUrl),r.XR=e.ticket,[2,t.prototype.uR.call(r,n,i)]}}))}))()},n}(xM);wt(),C(),Mt();var FM,VM=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.rR=function(){if(!oM(this.fR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rR.call(this);return n.set("X-AxDRM-Message",this.fR.token),n},n}(xM);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),function(t){t.ND="application/json",t.ZR="application/x-www-form-urlencoded",t.qR="application/octet-stream",t.Ru="text/plain;charset=UTF-8"}(FM||(FM={}));var WM=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Qp,i,r,e,u)||this).iP="",s.JR=void 0,s.nP=n.hP,s}kt(n,t);var i=n.prototype;return i.KR=function(){return this.qj.certificateURL||this.JR},i.$R=function(t){this.JR=t},i.uR=function(t){return K.resolve(this.tP(t,this.iP))},i.tP=function(t,n){return"spc="+encodeURIComponent(ga(t))+"&assetId="+encodeURIComponent(n)},i.gR=function(t){return t.fairplay||{}},i.sP=function(t){var n=t.indexOf("?");if(n>=0)return K.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return K.resolve(i)}var r=t.split("/");return K.resolve(r[r.length-1])},i.tR=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.nP)?i:yc(new m(t)),[4,n.sP(r)];case 1:return e=s.sent(),n.iP=e,(u={}).fairplay={WO:e},[2,u]}}))}))()},i.rR=function(){var n=t.prototype.rR.call(this);return n.set("Content-Type",this.eP),n},i.wR=function(t,n){var i=this;return xt((function(){return zt(this,(function(t){switch(t.label){case 0:return i.Zj?[2,i.Zj]:[4,i.rP(n)];case 1:return[2,t.sent()]}}))}))()},i.vR=function(n,i){return t.prototype.lR.call(this,n,Zw.PD,i)},i.oP=function(t){var n=this.KR(),i=this.rR(),r={zu:n,qD:ld.SD,XD:i,ZD:Ww.GET,tE:!1,HD:null,_D:0,f_:t,Av:Xw.jD,JD:Zw.zD};return new qw(r)},i.rP=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return i=n.oP(t),[4,n.Hj.uD(i)];case 1:return[4,e.sent().GR()];case 2:return r=e.sent(),[2,new m(r)]}}))}))()},i.cR=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=va(i)}else n=new m(t);return n},i.oR=function(n,i){var r=t.prototype.oR.call(this,n,i);return Ls(r,"skd:")&&(r=r.substr(4)),r},At(n,[{key:"Jj",get:function(){return!0}},{key:"eP",get:function(){return FM.ZR}}]),n}(Ok);wt(),C(),Ot(),mt(),Mt(),Pt();var XM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.SD)}kt(n,t);var i=n.prototype;return i.sP=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?K.resolve(""):(i=n.split(";",2)).length>1?K.resolve(i[1]):K.resolve(t.prototype.sP.call(this,n))},i.uR=function(t){return xt((function(){return zt(this,(function(n){return[2,t]}))}))()},i.cR=function(t){return new m(t)},i.oR=function(n,i){var r=n||{};return r.p1=Xi(),t.prototype.oR.call(this,r,i)},At(n,[{key:"eP",get:function(){return FM.qR}}]),n}(WM);wt(),C(),mt(),Mt();var ZM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ld.SD)||this).Wj("https://fairplay-license.drm.technology/license"),u.$R("https://fairplay-license.drm.technology/certificate"),u}kt(n,t);var i=n.prototype;return i.tP=function(t,n){var i={token:this.xR,contentId:n,payload:ga(t)};return JSON.stringify(i)},i.cR=function(t){return new m(t)},i.rR=function(){var n=t.prototype.rR.call(this);return n.set("x-vudrm-token",this.xR),n},At(n,[{key:"eP",get:function(){return FM.ND}},{key:"xR",get:function(){if(!uM(this.fR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.fR.token}}]),n}(WM);wt(),C(),Mt();var HM="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",KM="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",JM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.SD)}return kt(n,t),n.prototype.cR=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new PA(Qv.CONTENT_PROTECTION_LICENSE_INVALID,HM)}if(!n)throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,KM);return n}(fc(new DataView(n)));return t.prototype.cR.call(this,i)},n}(WM);wt(),C(),Ot(),mt(),Mt(),Pt();var qM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.ND)}kt(n,t);var i=n.prototype;return i.uR=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){if(!(i=n.fR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=ga(t),[2,lM(i,r,Hk.kp)]}))}))()},i.cR=function(t){try{var n;if(Yn(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=ba(n.license);return new m(r)}throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new PA(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.nR=function(t,n,i){return gM(t,n,i)},At(n,[{key:"eP",get:function(){return FM.ND}}]),n}(WM);wt(),C(),Ot(),mt(),Mt(),Pt();var $M=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ld.SD)||this).Wj("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.$R("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}kt(n,t);var i=n.prototype;return i.KR=function(){var n=t.prototype.KR.call(this);if(!n)return n;var i=on.Dh(n),r=this.fR;return tM(r)&&iy(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.sP=function(n){return tM(this.fR)?K.resolve(this.fR.contentId):t.prototype.sP.call(this,n)},i.uR=function(t){return xt((function(){return zt(this,(function(n){return[2,t]}))}))()},i.cR=function(t){return new m(t)},i.oR=function(n,i){var r=n;return tM(this.fR)&&(r=function(t,n){return Xu({},mM(t,n),{KeyId:t.keyId})}(this.fR,r)),t.prototype.oR.call(this,r,i)},At(n,[{key:"eP",get:function(){return FM.qR}}]),n}(WM);wt(),C(),Ot(),Mt(),Pt();var tb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,ld.Ru)||this,!$k(i))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.Wj("https://connect.conax.com:8097/license"),u}kt(n,t);var i=n.prototype;return i.rR=function(){var n=t.prototype.rR.call(this);return kM(this.fR,"FairPlay",n)},i.rP=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return i=n.KR(),r={zu:i,qD:ld.SD,XD:{},ZD:Ww.GET,tE:!1,HD:null,_D:0,f_:t,Av:Xw.jD,JD:Zw.zD},[4,n.Hj.uD(r)];case 1:return[4,u.sent().GR()];case 2:return e=u.sent(),[2,new m(e)]}}))}))()},i.uR=function(t){return xt((function(){return zt(this,(function(n){return[2,t]}))}))()},i.sP=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),K.resolve(function(t){return fc(va(t))}(n))):K.resolve("unknown")},i.cR=function(t){try{var n=JSON.parse(t);return new m(ba(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},n}(WM);wt(),C(),Mt();var nb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ld.Ru)||this).Wj(Wk[rs.kp]),u}kt(n,t);var i=n.prototype;return i.sP=function(t){return Ls(t,"skd://")?K.resolve(t.substring(6,40)):K.reject(new PA(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.tP=function(t,n){return"spc="+ga(t)+"&assetId="+n},n}(WM);wt(),C(),mt(),Mt();var ib=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ld.Ru)||this).Wj("https://lic.drmtoday.com/license-server-fairplay/"),u}kt(n,t);var i=n.prototype;return i.tP=function(t,n){var i="spc="+encodeURIComponent(ga(t))+"&"+encodeURI(n);return"persistent"===this.qj.licenseType?i+"&offline=true":i},i.rR=function(){return NM(t.prototype.rR.call(this),this.xR,this.fR)},At(n,[{key:"xR",get:function(){return TM(this.fR)}}]),n}(WM);wt(),C(),Ot(),mt(),Mt(),Pt();var rb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.SD)}kt(n,t);var i=n.prototype;return i.sP=function(t){var n=t;return Ls(n,"skd:")&&(n="http:"+n.substring(4)),Ls(n,"http:")||Ls(n,"https:")?K.resolve(on.Dh(n).hostname):K.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.uR=function(t){return xt((function(){return zt(this,(function(n){return[2,t]}))}))()},i.cR=function(t){return new m(t)},At(n,[{key:"eP",get:function(){return FM.qR}}]),n}(WM);wt(),C(),Mt();var eb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.Ru)}return kt(n,t),n.prototype.rR=function(){var n=t.prototype.rR.call(this),i=this.fR.token;return n.set("Authorization","Bearer "+i),n},n}(WM);wt(),C(),Ot(),mt(),Mt(),Pt();var ub=function(t){function n(n,i,r,e){var u=t.call(this,n,i,r,e,ld.ND);if(!sM(i))throw new v("Invalid Xstream DRM configuration");return u}kt(n,t);var i=n.prototype;return i.rP=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return i=n.KR(),r=n.rR(),e={zu:i,qD:ld.ND,XD:r,ZD:Ww.POST,f_:t,Av:Xw.jD,JD:Zw.zD},[4,n.Hj.uD(e)];case 1:return[4,s.sent().SR()];case 2:return u=s.sent(),[2,new m(va(u.certificate))]}}))}))()},i.vR=function(t,n,i){void 0===i&&(i=ld.Ru);var r=this;return xt((function(){var i,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return i=ga(t),[4,EM(r.fR,"fairplay",r.Hj,n)];case 1:return e=o.sent(),u=vc(JSON.stringify({spc:i,ticket:e.ticket})),s={zu:r.Kj(),qD:ld.ND,XD:r.rR(),ZD:Ww.POST,HD:u,_D:0,f_:n,Av:Xw.jD,JD:Zw.PD},[4,r.Hj.uD(s)];case 2:return[4,o.sent().SR()];case 3:return[2,va(o.sent().licence)]}}))}))()},At(n,[{key:"eP",get:function(){return FM.ND}}]),n}(WM);wt(),C(),Mt();var sb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.Ru)}kt(n,t);var i=n.prototype;return i.tP=function(t,n){return ga(t)},i.cR=function(n){if(0===n.length)throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.cR.call(this,n)},i.rR=function(){var n=t.prototype.rR.call(this);return n.set("Content-Type","text/plain"),n},n}(WM);wt(),C(),mt(),Mt();var ob=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ld.SD)}kt(n,t);var i=n.prototype;return i.tP=function(t,n){return t},i.cR=function(t){return new m(t)},i.rR=function(){if(!oM(this.fR))throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.rR.call(this);return n.set("X-AxDRM-Message",this.fR.token),n},At(n,[{key:"eP",get:function(){return FM.ND}}]),n}(WM);wt(),C(),mt(),Mt();var ab=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ld.ND)||this).aP=void 0,u}kt(n,t);var i=n.prototype;return i.tP=function(t,n){var i={spc:ga(t)};return JSON.stringify(i)},i.sP=function(t){var n=on.Dh(t);return this.aP=t,n.searchParams.has("b")?K.resolve(n.searchParams.get("b")):K.reject(new PA(Qv.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.oR=function(n,i){var r=this.Kj();return!r&&this.aP&&(r=this.aP),r&&(r=r.replace("skd://","https://")),t.prototype.oR.call(this,n,i||r)},i.cR=function(t){try{var n;if((n=Yn(t)?JSON.parse(t.trim()):t).ckc)return va(n.ckc)}catch(t){throw new PA(Qv.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},At(n,[{key:"eP",get:function(){return FM.Ru}}]),n}(WM);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Pt(),wt(),C();var cb=function(){function t(t,n){this.cP=t,this.dP=n}var n=t.prototype;return n.uP=function(t){return this.cP(t)},n.lP=function(t,n){throw new d(n+" must be "+this.dP+". (Received: "+t+")")},t}(),hb=(new cb((function(t){return!0}),"any"),new cb(Wn,"a number")),fb=new cb(Yn,"a string"),vb=new cb(Gn,"a boolean"),db=(new cb(Vn,"a date"),new cb(Rn,"undefined")),lb=new cb(Un,"an object"),gb=new cb((function(t){return null===t}),"null");new cb((function(t){return null==t}),"null or undefined");function wb(t,n){throw new d(n+" has an incorrect type")}var yb=function(){function t(t){this.fP=t}var n=t.prototype;return n.uP=function(t){if(!Un(t))return!1;for(var n=0,i=l.keys(this.fP);n<i.length;n++){var r=i[n];if(!this.fP[r].uP(t[r]))return!1}return!0},n.lP=function(t,n){if(!Un(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(this.fP);i<r.length;i++){var e=r[i],u=this.fP[e];if(!u.uP(t[e]))return u.lP(t[e],n+"."+String(e))}throw new d},t}();function Ab(t){return new yb(t)}function mb(t){return l.keys(t).map((function(n){return t[n]}))}var pb=function(){function t(t){this.tf=t}var n=t.prototype;return n.uP=function(t){return fo(this.tf,t)},n.lP=function(t,n){return wb(0,n)},t}();function _b(t){return new pb(t)}var kb=function(){function t(t){this._P=t}var n=t.prototype;return n.uP=function(t){return this._P.some((function(n){return n.uP(t)}))},n.lP=function(t,n){return wb(0,n)},t}();function Mb(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new kb(n)}var bb=function(){function t(t){this.gP=t}var n=t.prototype;return n.uP=function(t){var n=this;return Bn(t)&&t.every((function(t){return n.gP.uP(t)}))},n.lP=function(t,n){if(!Bn(t))throw new d(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.gP.uP(r)||this.gP.lP(r,n+"["+i+"]")}return wb(0,n)},t}();function Tb(t){return new bb(t)}var Nb=function(){function t(t){this.gP=t}var n=t.prototype;return n.uP=function(t){var n=this;return Un(t)&&l.keys(t).every((function(i){return n.gP.uP(t[i])}))},n.lP=function(t,n){if(!Un(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(t);i<r.length;i++){var e=r[i];if(!this.gP.uP(t[e]))return this.gP.lP(t[e],n+"."+e)}return wb(0,n)},t}();function Db(t){return new Nb(t)}var Ib=function(){function t(t){this.gP=$n(t)}var n=t.prototype;return n.uP=function(t){return this.gP().uP(t)},n.lP=function(t,n){return this.gP().lP(t,n)},t}();var Eb=Ab({responseCode:hb,isException:vb,description:fb,title:fb,correlationId:fb});function Sb(t,n,i,r,e){return Lb.apply(this,arguments)}function Lb(){return Lb=xt((function(t,n,i,r,e){var u;return zt(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(ny(i,e)),s=new wd({});s.append("Content-Type","application/json");var o=ga(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{zu:u,qD:ld.Ru,XD:s,ZD:Ww.POST,HD:JSON.stringify(a),f_:r,Av:Xw.jD,JD:Zw.PD}}(t,n,i,e),[4,Cb(u,r)];case 1:return[2,s.sent()]}}))})),Lb.apply(this,arguments)}function Cb(t,n){return jb.apply(this,arguments)}function jb(){return jb=xt((function(t,n){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.uD(t)];case 1:return[4,r.sent().SR()];case 2:if(i=r.sent(),Eb.uP(i))throw new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.zu,i.responseCode);return[2,va(i.getFairplayLicenseResponse.ckcResponse)]}}))})),jb.apply(this,arguments)}var xb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ld.SD)||this).wP=i,u}kt(n,t);var i=n.prototype;return i.sP=function(n){var i=n.replace("FairPlay",this.wP.releasePid);return t.prototype.sP.call(this,i)},i.vR=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,Sb(t,i.wP,i.Kj(),i.Hj,n)];case 1:return[2,r.sent()]}}))}))()},n}(WM);wt(),C(),Ot(),Mt(),Pt();var Ob=function(t){function n(n,i,r){return t.call(this,Ts,n,i,r,ld.SD)}kt(n,t);var i=n.prototype;return i.gR=function(t){return t.clearkey||{}},i.iR=function(n,i,r,e){var u=this;return xt((function(){var i,s;return zt(this,(function(o){if(i=u.qj,u.Kj())return[2,t.prototype.iR.call(u,n,u.dR,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,Ac(JSON.stringify(s)).buffer];throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.wR=function(t,n){return K.resolve(new m(0))},i.vR=function(n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return[4,t.prototype.lR.call(r,n,Zw.FD,i)];case 1:if(e=c.sent(),(u=JSON.parse(yc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=wa(a.k)),a.kid&&(a.kid=wa(a.kid));return[2,Ac(JSON.stringify(u))]}}))}))()},n}(Ok);wt(),C(),Mt();var zb=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n}(Bk);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Pt();var Rb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Bb(t,n,i){return Pb.apply(this,arguments)}function Pb(){return Pb=xt((function(t,n,i){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return r=$b(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,zo(K.resolve(e.call(t,r)),i)]:[2,K.resolve(n)];case 1:return bc(u=s.sent())?[2,Tc(u)]:[2,qb(Xu({},Rb,u))]}}))})),Pb.apply(this,arguments)}function Ub(t,n,i,r,e){return Qb.apply(this,arguments)}function Qb(){return Qb=xt((function(t,n,i,r,e){var u,s;return zt(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=Jb(n,i,r),u&&"function"==typeof u?[4,zo(K.resolve(u.call(t,s)),e)]:[2,K.resolve(n)];case 1:return[2,Tc(o.sent())]}}))})),Qb.apply(this,arguments)}function Yb(t,n,i,r){return Gb.apply(this,arguments)}function Gb(){return Gb=xt((function(t,n,i,r){var e;return zt(this,(function(u){switch(u.label){case 0:return[4,Wb(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,qb(e)]}}))})),Gb.apply(this,arguments)}function Fb(t,n,i,r,e,u){return Vb.apply(this,arguments)}function Vb(){return Vb=xt((function(t,n,i,r,e,u){var s;return zt(this,(function(o){switch(o.label){case 0:return s=Kb(i,e),[4,Zb(t,new m(n),s,r,u)];case 1:return[2,Tc(o.sent())]}}))})),Vb.apply(this,arguments)}function Wb(t,n,i,r){return Xb.apply(this,arguments)}function Xb(){return Xb=xt((function(t,n,i,r){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=Kb(n,i),e&&"function"==typeof e?[4,zo(K.resolve(e.call(t,u)),r)]:[2,K.resolve(u)];case 1:return bc(s=o.sent())?[2,Tc(s).buffer]:[2,Xu({fairplaySkdUrl:void 0},Rb,s)]}}))})),Xb.apply(this,arguments)}function Zb(t,n,i,r,e){return Hb.apply(this,arguments)}function Hb(){return Hb=xt((function(t,n,i,r,e){var u,s;return zt(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=Jb(n,i,r),u&&"function"==typeof u?[4,zo(K.resolve(u.call(t,s)),e)]:[2,K.resolve(n)];case 1:return[2,Tc(o.sent())]}}))})),Hb.apply(this,arguments)}function Kb(t,n){return Xu({},$b(t),{fairplaySkdUrl:n})}function Jb(t,n,i){return{url:i.cE,status:i.fD,statusText:i.NR,headers:i.XD.ED(),body:t,request:n}}function qb(t){return new qw({zu:t.url,ZD:t.method,XD:t.headers,HD:t.body,tE:t.useCredentials})}function $b(t){var n;return{url:t.zu,body:null!=(n=tT(t.HD))?n:null,headers:t.XD.ED(),method:t.ZD,useCredentials:t.tE}}function tT(t){if(t)return"string"==typeof t?Ac(t):t instanceof ArrayBuffer?new m(t):Aa(t)?Mc(t):void 0}var nT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).vP=e,u}kt(n,t);var i=n.prototype;return i.wR=function(t,n){return K.resolve(t)},i.vR=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return[4,i.RR(Dc(t).buffer)];case 1:return r=c.sent(),e=i.eR(r,ld.SD,Zw.QD,n),[4,Yb(i.vP,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new m(u)];if(""===u.zu)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.Hj.uD(u)];case 4:return[4,(s=c.sent()).GR(n)];case 5:return o=c.sent(),[4,Fb(i.vP,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw xo(a=c.sent()),new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(xM);wt(),C(),Ot(),Mt(),Pt();var iT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,ld.SD)||this).vP=e,u}kt(n,t);var i=n.prototype;return i.wR=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return i.Zj?[2,i.Zj]:(r=i.eR(t,ld.SD,Zw.UD,n),[4,Bb(i.vP,r,n)]);case 1:if((e=c.sent())instanceof m)return[2,e];if(""===e.zu)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.Hj.uD(e)];case 3:return[4,(u=c.sent()).GR(n)];case 4:return s=c.sent(),[3,6];case 5:throw xo(o=c.sent()),new PA(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=Kb(r,void 0),[4,Ub(i.vP,new m(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.vR=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return r=i.eR(t,ld.SD,Zw.BD,n),[4,Yb(i.vP,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new m(e)];if(""===e.zu)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.Hj.uD(e)];case 3:return[4,(u=a.sent()).GR(n)];case 4:return s=a.sent(),[4,Fb(i.vP,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw xo(o=a.sent()),new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(zb);wt(),C(),Ot(),Mt(),Pt();var rT=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,ld.SD)||this).vP=u,s}kt(n,t);var i=n.prototype;return i.wR=function(t,n){var i=this;return xt((function(){var t,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return i.Zj?[2,i.Zj]:(t=i.oP(n),[4,Bb(i.vP,t,n)]);case 1:if(r=a.sent(),Aa(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.Hj.uD(r)];case 3:return[4,(e=a.sent()).GR()];case 4:return u=a.sent(),s=Kb(t,void 0),[4,Ub(i.vP,new m(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw xo(o=a.sent()),new PA(Qv.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.vR=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return r=i.eR(t,ld.SD,Zw.PD,n),[4,Yb(i.vP,r,i.mP,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new m(e)];if(""===e.zu)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.Hj.uD(e)];case 3:return[4,(u=a.sent()).GR(n)];case 4:return s=a.sent(),[4,Fb(i.vP,s,r,u,i.mP,n)];case 5:return[2,a.sent()];case 6:throw xo(o=a.sent()),new PA(Qv.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.sP=function(n){var i;return this.mP=n,(null==(i=this.vP)?void 0:i.extractFairplayContentId)?K.resolve(this.vP.extractFairplayContentId(n)):t.prototype.sP.call(this,n)},n}(WM),eT=function(){function t(){}var n=t.prototype;return n.pP=function(t,n,i,r){switch(t.Qp.Av){case rs.Ep:return this.AP(n,i,r);case rs.Dp:return this.yP(n,i,r);case rs.kp:return this.MP(t,n,i,r);case rs.Lp:default:return this.bP(n,i,r)}},n.AP=function(t,n,i){var r=function(t){return t.integration===xk&&Yn(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&Vk.qp.Hp(r,vs)){var e=Vk.qp.Zp(r,vs,t);return new iT(t,n,i,e)}switch(r){case mk:return new yM(t,n,i);case Mk:return new AM(t,n,i);case kk:return new pM(t,n,i);case pk:return new MM(t,n,i);case Nk:return new DM(t,n,i);case Ik:return new IM(t,n,i);case Ek:return new LM(t,n,i);case Lk:return new CM(t,n,i);default:return new zb(t,n,i,ld.SD)}},n.yP=function(t,n,i){var r=t.integration;if(r&&Vk.qp.Hp(r,cs)){var e=Vk.qp.Zp(r,cs,t);return new nT(t,n,i,e)}switch(r){case mk:return new zM(t,n,i);case Mk:return new BM(t,n,i);case kk:return new PM(t,n,i);case pk:return new UM(t,n,i);case Nk:return new YM(t,n,i);case Ek:return new GM(t,n,i);case Lk:return new VM(t,n,i);default:return new xM(t,n,i)}},n.MP=function(t,n,i,r){var e=n.integration;if(e&&Vk.qp.Hp(e,ys)){var u=Vk.qp.Zp(e,ys,n);return new rT(t,n,i,r,u)}switch(e){case _k:return new XM(t,n,i,r);case Mk:return new ZM(t,n,i,r);case bk:return new JM(t,n,i,r);case mk:return new qM(t,n,i,r);case kk:return new $M(t,n,i,r);case pk:return new tb(t,n,i,r);case Tk:return new nb(t,n,i,r);case Nk:return new ib(t,n,i,r);case Dk:return new rb(t,n,i,r);case Ik:return new eb(t,n,i,r);case Ek:return new ub(t,n,i,r);case Sk:return new sb(t,n,i,r);case Lk:return new ob(t,n,i,r);case Ck:return new ab(t,n,i,r);case jk:return new xb(t,n,i,r);default:return new WM(t,n,i,r,ld.Ru)}},n.bP=function(t,n,i){return new Ob(t,n,i)},n.TP=function(t){return t.Av===rs.Dp||t.Av===rs.Ep||t.Av===rs.kp||t.Av===rs.Lp},n.kO=function(t,n){var i;if(t.Av!==rs.Dp)return!1;if(zn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Vk.qp.Hp(r,ys))&&(r===mk&&new OM(n).kO)},n.IR=function(t,n){if(t.Av===rs.Ep){var i=n.integration;if(!i||!Vk.qp.Hp(i,ys))return i===mk?yM.IR():void 0}},t}();wt(),C(),wt(),C(),mt(),Mt();var uT=function(t){function n(n){var i;return(i=t.call(this,f_.ha)||this).errorObject=n,i}return kt(n,t),n.prototype.fa=function(){return this},At(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(iA);wt(),C(),wt(),C(),Zt();var sT,oT="theoplayer-stored-network-info-v2",aT=25e5,cT=function(){function t(){var t=this;this.IP=gd,this.xP=void 0,this.CP=Jn((function(){var n,i=Xt({},t.IP,{availableBandwidth:t.xP,storedTimestamp:Xi()});null==(n=on.NP)||n.EP(oT,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.SP=function(t){var n,i=null==(n=on.NP)?void 0:n.IL(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.IP]){if(!this.DP(r))return r[this.IP].availableBandwidth;var e;null==(e=on.NP)||e.EP(t,JSON.stringify({}))}}},n.kP=function(){var t=this.SP(oT);if(void 0!==t)return t;var n=this.SP("theoplayer-stored-network-info");return n?8*n:void 0},n.DP=function(t){var n=t[this.IP].storedTimestamp;return!!n&&Xi()-n>36e5},n.LP=function(t){this.xP=t,this.CP()},n.OP=function(){var t;return null!=this.xP||(this.xP=null!=(t=this.kP())?t:aT),this.xP},t}();cT.lL=new cT,wt(),C(),function(t){t[t.jP=0]="jP",t[t.RP=1]="RP",t[t.PP=2]="PP",t[t.zP=3]="zP",t[t.BP=4]="BP",t[t.Mp=5]="Mp",t[t.UP=6]="UP",t[t.QP=7]="QP",t[t.Np=8]="Np",t[t.FP=9]="FP",t[t.Ip=10]="Ip",t[t.YP=11]="YP"}(sT||(sT={})),wt(),C(),mt();var hT=function(){function t(){}return t.prototype.WP=function(t){},At(t,[{key:"GP",get:function(){return 0}},{key:"VP",get:function(){return 0}}]),t}();wt(),C();var fT=function(){function t(t,n){void 0===n&&(n=new eT),this.QR=void 0,this.aE=t,this.ZP=n}var n=t.prototype;return n.HP=function(t){this.QR=t},n.IR=function(t){var n=this.QR;if(void 0!==n)return this.ZP.IR(t,n)},n.kO=function(t){var n=this.QR;return void 0!==n&&this.ZP.kO(t,n)},n.qP=function(t){var n={Qp:t.Qp,KP:t.KP||[],JP:t.JP,hP:t.hP},i=this.ZP.pP(n,this.QR||{},t._R,this.aE);return n.JP&&i.Wj(n.JP),new vT(i)},t}(),vT=function(){function t(t){this.$P=t}var n=t.prototype;return n.$j=function(t){return this.$P.$j(t)},n.tR=function(t,n,i){return this.$P.tR(n,i)},n.Jj=function(){return this.$P.Jj||void 0!==this.$P.Zj},n.wR=function(t,n){return this.$P.wR(t,n)},n.vR=function(t,n,i){return n&&this.$P.Wj(n),this.$P.vR(t,i)},n.h_=function(){this.$P.gn()},t}();wt(),C(),Mt();var dT=function(t){function n(n){var i;(i=t.call(this)||this).iz=[],i.oz=function(t){i.tt(t.Lt)},i.cz=function(t){var n=t.Lt;i.rz(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.tz(e)}return i}kt(n,t);var i=n.prototype;return i.tz=function(t){this.iz.push(t);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.tt(r)}this.ez(t)},i.sz=function(t){ao(this.iz,t),this.nz(t);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.rz(r)||this.it(r)}},i.rz=function(t){for(var n=0,i=this.iz;n<i.length;n++){if(i[n].Bw(t))return!0}return!1},i.ez=function(t){t.yn(eA.hw,this.oz),t.yn(eA.uw,this.cz)},i.nz=function(t){t.fn(eA.hw,this.oz),t.fn(eA.uw,this.cz)},i.gn=function(){for(;this.iz.length>0;)this.sz(this.iz[0]);t.prototype.gn.call(this)},i.fa=function(){return L_(this)},n}(vA);wt(),C(),mt(),wt(),C();var lT,gT={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},wT=function(){function t(){}var n=t.prototype;return n.ka=function(t){this.fz=t,void 0!==this.Le&&(this.fz.Rt=this.Le)},n.tr=function(){this.fz=void 0,this.Le=void 0},At(t,[{key:"va",get:function(){return null!=this.Xa||(this.Xa=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=_A(n)},get monitoringLivePlayback(){return t.lz},get currentLatency(){return t.Km},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.wd)}}}(this)),this.Xa}},{key:"Rt",get:function(){var t,n;return null!=(n=this.Le)?n:Boolean(null==(t=this.fz)?void 0:t.Rt)},set:function(t){this.Le=t,this.fz&&(this.fz.Rt=t)}},{key:"lz",get:function(){var t,n;return null!=(n=null==(t=this.fz)?void 0:t.Lm)&&n}},{key:"Km",get:function(){var t;return null==(t=this.fz)?void 0:t.qm}},{key:"wd",get:function(){return this.fz?this.fz.xm:gT}}]),t}();function yT(){return lT||(lT=iu&&iu.document&&iu.document.createElement("video")),lT}var AT=!(!iu||!iu.TextTrack),mT=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new eT),void 0===a&&(a=od()),(c=t.call(this)||this).yz=void 0,c.bc=void 0,c.vz=void 0,c.mz=void 0,c.Sz=new hT,c.bz=new wT,c.Xz=function(t){var n=t.lt,i=n.code,r=new Fv(FA(i),"Something went wrong during native playback.",n),e=new UA(i,r.message,n.message);c.rB(r,e)},c.wc=function(){c.Co(new nA(c.U_,c.R_))},c.Vz=function(t){c.fg||(c.wz=void 0),c.Co(t)},c.Vm=function(t){c.wz=void 0},c.qz=function(){c.Co(new fm(c.K_))},c.Wz=function(){c.Rg>0&&c.Cg>0&&c.Co(new sk)},c.$z=function(t){var n=c.Fm.pz.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];kT(c.YT,r)||c.YT.tt(new um(r))}},c.tB=function(t){var n=[],i=c.Fm.pz.audioTracks;if(i){for(var r=0,e=c.YT.Rw;r<e.length;r++){var u=e[r];MT(i,u.dS)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.YT.it(o)}}},c.iB=function(){c.nh(c.YT)},c.eB=function(t){var n=c.Fm.pz.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];kT(c.VT,r)||c.VT.tt(new om(r))}},c.sB=function(t){var n=[],i=c.Fm.pz.videoTracks;if(i){for(var r=0,e=c.VT.Rw;r<e.length;r++){var u=e[r];MT(i,u.dS)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.VT.it(o)}}},c.nB=function(){c.nh(c.VT)},c.Zz=function(t){c.Co(t),c.rB(t.errorObject,YA(t.errorObject))},c.Yz=i,c.aE=r,c.SO=a,c.Fm=c.Yz.oB(zA.VA),c.Az=c.Fm.pz.preload,c.zz=new yk(c.Fm,!0),c.zz.yn(ok,c.Ds),c.Lz=new fT(r,o),c.Fm.Qz=c.Lz,c.Gz(),c.YT=new RA,c.VT=new RA,c.Jz(),c.Rz=new q_(c.Fm,c.aE),c.Dl=new dT([c.Fm.nt]),c.ge(),c}kt(n,t);var i=n.prototype;return i.F_=function(t,n){this.K_&&(this.wz=t),this.Fm.JA(t)},i.be=function(){this.Fm.be()},i.ge=function(){this.Fm.ge()},i.ga=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return jo(i),r.bc=t,e={Av:ek.Tj,yv:t.src,Nz:t.type,Iz:r.Dz(t),yg:r.Az,Ez:t.crossOrigin,kz:n.metadata&&n.metadata.title},r.Lz.HP(t.contentProtection),[4,r.Fm.$n(e)];case 1:return r.yz=u.sent(),jo(i),n.textTracks&&r.xz(n.textTracks),rk(r.nt),[2]}}))}))()},i.xz=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.Fm.Cz()&&jn.Ga&&AT&&!F_(i.kind,i.label)&&this.Oz(i)){var r,e=null!=(r=i.kind)?r:C_.HA;this.Fm.jz(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.Rz.nE(i)}}},i.Oz=function(t){return!t.format||"webvtt"===t.format},i.Xg=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.Fm.Xg()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t._z?[3,5]:[4,t.Fm.k_(dd.Zv)];case 5:return[2]}}))}))()},i.Hg=function(){this.Fm.Hg()},i.qg=function(){return void 0!==this.Fm.pz.webkitShowPlaybackTargetPicker},i.Kg=function(){this.Fm.pz.webkitShowPlaybackTargetPicker&&this.Fm.pz.webkitShowPlaybackTargetPicker()},i.Jg=function(){this.Fm.pz.webkitShowPlaybackTargetPicker&&this.Fm.pz.webkitShowPlaybackTargetPicker()},i.Vg=function(){return this.Fm.pz},i.Gg=function(){return this.Fm.ya},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.bc=void 0,t.vz=void 0,t.mz=void 0,t.yz=void 0,[4,t.Rz.tr()];case 1:return n.sent(),t.Fm.Pz(),[4,t.Fm.tr()];case 2:return n.sent(),t.zz.tr(),t.yg=t.Az,t.ht.tr(),t.rt.tr(),t.wz=void 0,[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.tr()];case 1:return n.sent(),t.Vo(),t.Bz(),t.Uz(),t.zz.gn(),t.Fm.Qz=void 0,[4,t.Yz.Fz(t.Fm)];case 2:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),[4,t.Rz.gn()];case 3:return n.sent(),[2]}}))}))()},i.Gz=function(){this.Fm.yn(dd.jh,this.Ds),this.Fm.yn(dd.Sh,this.Ds),this.Fm.yn(dd.fm,this.wc),this.Fm.yn(dd.Zv,this.Ds),this.Fm.yn(dd.Gv,this.Ds),this.Fm.yn(dd.im,this.Ds),this.Fm.yn(dd.$v,this.Vz),this.Fm.yn(dd.Ov,this.Ds),this.Fm.yn(dd.qv,this.Ds),this.Fm.yn(dd._m,this.Ds),this.Fm.yn(dd.Lv,this.Ds),this.Fm.yn(dd.Jv,this.Wz),this.Fm.yn(uk.Sm,this.Vm),this.Fm.yn(f_.ha,this.Xz),this.Fm.yn(dd.Iv,this.Ds),this.Fm.yn(dd.Nv,this.Zz),this.Fm.pz.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.qz)},i.Bz=function(){this.Fm.fn(dd.jh,this.Ds),this.Fm.fn(dd.Sh,this.Ds),this.Fm.fn(dd.fm,this.wc),this.Fm.fn(dd.Zv,this.Ds),this.Fm.fn(dd.Gv,this.Ds),this.Fm.fn(dd.im,this.Ds),this.Fm.fn(dd.$v,this.Vz),this.Fm.fn(dd.Ov,this.Ds),this.Fm.fn(dd.qv,this.Ds),this.Fm.fn(dd._m,this.Ds),this.Fm.fn(dd.Lv,this.Ds),this.Fm.fn(dd.Jv,this.Wz),this.Fm.fn(uk.Sm,this.Vm),this.Fm.fn(f_.ha,this.Xz),this.Fm.fn(dd.Iv,this.Ds),this.Fm.fn(dd.Nv,this.Zz),this.Fm.pz.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.qz)},i.Dz=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Qp:Ms,Kz:[{initDataTypes:[Ms.fL],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Jz=function(){var t=this.Fm.pz.audioTracks,n=this.Fm.pz.videoTracks;t&&(t.addEventListener("addtrack",this.$z),t.addEventListener("removetrack",this.tB),t.addEventListener("change",this.iB)),n&&(n.addEventListener("addtrack",this.eB),n.addEventListener("removetrack",this.sB),n.addEventListener("change",this.nB))},i.Uz=function(){var t=this.Fm.pz.audioTracks,n=this.Fm.pz.videoTracks;t&&(t.removeEventListener("addtrack",this.$z),t.removeEventListener("removetrack",this.tB),t.removeEventListener("change",this.iB)),n&&(n.removeEventListener("addtrack",this.eB),n.removeEventListener("removetrack",this.sB),n.removeEventListener("change",this.nB))},i.nh=function(t){for(var n=0;n<t.U;n++){t.zw(n)._S()}},i.$g=function(){this.Fm.$g()},i.iw=function(){},i.rB=function(t,n){this.vz||(this.vz=n,this.mz=t,this.Co(new uT(t)))},At(n,[{key:"Km",get:function(){}},{key:"_z",get:function(){var t=this.Fm.O_,n=this.U_;return t.gr(n,.01)}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Fm.O_.ks()}},{key:"R_",get:function(){return this.Fm.R_},set:function(t){t&&this.Fm.gz(t)}},{key:"bt",get:function(){return this.bc}},{key:"U_",get:function(){return void 0!==this.wz?this.wz:this.Fm.U_},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Fm.ct}},{key:"G_",get:function(){return this.Fm.G_}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"K_",get:function(){return this.Fm.K_}},{key:"eg",get:function(){return Xu({},{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.Fm.rg())}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"cg",get:function(){return!0}},{key:"fg",get:function(){return this.Fm.fg}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"pg",get:function(){return this.Fm.pz.played}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az=t,this.yz&&(this.yz.yg=t)}},{key:"Sg",get:function(){return this.Fm.Sg}},{key:"Ig",get:function(){return this.Fm.Ig.ks()}},{key:"Eg",get:function(){return this.Fm.Eg}},{key:"Mz",get:function(){return this.Fm.Mz}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"Qg",get:function(){return this.bz}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}},{key:"Tz",get:function(){return this.Sz}}]),n}(Ho);function pT(t){if(!Boolean(yT().canPlayType&&yT().canPlayType(t.type)))return!1;if(t.useNativePlayback)return!0;if(!t.useManagedMediaSource&&(jn.Ga||jn.sL))return!0;var n=t.contentProtection;if(n&&!qk(n)){if(!nM(n))return!1;if(n.fairplay)return!0}return!1}var _T=function(){function t(){this.uB=sT.YP}var n=t.prototype;return n.Yp=function(t,n,i,r,e,u,s){return new mT(t,n,i,r,e,u)},n.hB=function(t,n){return pT(t)},n.aB=function(){return!1},t}();function kT(t,n){for(var i=0,r=t.Rw;i<r.length;i++){var e=r[i];if(e.dS===n)return e}}function MT(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}wt(),C(),wt(),C(),mt();var bT=function(){function t(t,n){var i=this;this.Yst=!1,this.Gst=!1,this.Vst=function(t){i.Wst.wG(t.error,i.U_)},this.Hst=function(){i.Wst.dG(i.Fst),i.Qo.removeEventListener("playing",i.Hst),i.Yst=!1},this.js=function(){var t,n,r;if(i.Yst||(i.Qo.addEventListener("playing",i.Hst),i.Yst=!0),(null==(n=i.Qo.source)||null==(t=n.ads)?void 0:t.some((function(t){return"theoads"===t.integration})))&&!i.Gst)i.Gst=!0,null==(r=i.Qo.ads)||r.addEventListener("adbreakbegin",i.Xst);else if(i.Gst){var e;i.Gst=!1,null==(e=i.Qo.ads)||e.removeEventListener("adbreakbegin",i.Xst)}},this.Xst=function(t){"theoads"===t.adBreak.integration&&i.Wst.gG()},this.Wst=n,this.Qo=t,this.Qo.addEventListener("error",this.Vst),this.Qo.addEventListener("sourcechange",this.js),this.js()}return t.prototype.tr=function(){},At(t,[{key:"U_",get:function(){var t=this.Qo.currentTime;return isFinite(t)?t:"now"}},{key:"Fst",get:function(){return this.Qo.src||""}}]),t}();wt(),C(),Mt(),wt(),C(),Ot(),mt(),Mt(),Pt();var TT,NT=function(t){function n(n,i){var r;return(r=t.call(this)||this).ow=function(t){r.nw(t)||r.Co(t)},r.Qo=n,r.fit=!i,r.bB(),r}kt(n,t);var i=n.prototype;return i.hit=function(){return this.Qo.Qtt},i.ait=function(){return this.Qo.Oc},i.uit=function(){return this.Qo.Gtt},i.Gg=function(){return this.Qo.ya},i.dit=function(){return this.Qo.cit},i.L_=function(){return this.Qo.ht},i.j_=function(){return this.Qo.j_()},i.P_=function(){return this.Qo.R_},i.z_=function(t){this.Qo.R_=t},i.B_=function(){return this.Qo.bt},i.Q_=function(){return this.Qo.Q_()},i.F_=function(t,n){this.Qo.F_(t,n)},i.Ktt=function(){return this.Qo.Ktt()},i.Td=function(){return this.Qo.Td()},i.Y_=function(){return this.Qo.we},i.V_=function(){return this.Qo.G_},i.W_=function(){return this.Qo.W_()},i.X_=function(){return this.Qo.X_()},i.q_=function(){return this.Qo.Z_},i.rg=function(){return this.Qo.eg},i.hg=function(){return this.Qo.og},i.ag=function(t){this.Qo.ag(t)},i._g=function(){return this.Qo.fg},i.wg=function(){return this.Qo.gg},i.vg=function(t){this.Qo.gg=t},i.Ag=function(){return this.Qo.Ag()},i.Mg=function(){return this.Qo.yg},i.Tg=function(t){this.Qo.yg=t},i.Ng=function(){return this.Qo.Sg},i.Dg=function(){return this.Qo.Dg()},i.Lg=function(){return this.Qo.Eg},i.xg=function(){return this.Qo.nt},i.Og=function(){return this.Qo.Cg},i.jg=function(){return this.Qo.rt},i.Pg=function(){return this.Qo.Rg},i.Bg=function(){return this.Qo.zg},i.Ug=function(t){this.Qo.Ug(t)},i.Wg=function(){this.Qo.Wg()},i.Hg=function(){this.Qo.Hg()},i.Xg=function(){this.Qo.Xg()},i.ge=function(){this.Qo.ge()},i.be=function(){this.Qo.be()},i.cs=function(){return this.Qo.cs()},i.Vg=function(){return this.Qo.Vg()},i.$g=function(){this.Qo.$g()},i.iw=function(){this.Qo.iw()},i.ka=function(){this.Qo.ka()},i.Wa=function(){return this.Qo.Wa()},i.ga=function(t,n){return this.Qo.ga(t,n)},i.Zg=function(){return this.Qo.Zg()},i.nw=function(t){return!1},i.bB=function(){this.fit&&this.Qo.T_(this.ow)},i.TB=function(){this.fit&&this.Qo.E_(this.ow)},i.gn=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.Vo(),t?[3,2]:[4,n.Qo.gn()];case 1:i.sent(),i.label=2;case 2:return n.TB(),[2]}}))}))()},At(n,[{key:"Qtt",get:function(){return this.hit()}},{key:"Oc",get:function(){return this.ait()}},{key:"sit",get:function(){return this.Qo.sit}},{key:"Gtt",get:function(){return this.uit()}},{key:"eS",get:function(){return this.Qo.eS},set:function(t){this.Qo.eS=t}},{key:"iit",get:function(){return this.Qo.iit}},{key:"YF",get:function(){return this.Qo.YF}},{key:"qtt",get:function(){return this.Qo.qtt}},{key:"wd",get:function(){return this.Qo.wd}},{key:"Iu",get:function(){return this.Qo.Iu}},{key:"ya",get:function(){return this.Gg()}},{key:"Hj",get:function(){return this.Qo.Hj}},{key:"Qg",get:function(){return this.Qo.Qg}},{key:"Jtt",get:function(){return this.Qo.Jtt}},{key:"jX",get:function(){return this.Qo.jX}},{key:"hF",get:function(){return this.Qo.hF}},{key:"tit",get:function(){return this.Qo.tit}},{key:"Htt",get:function(){return this.Qo.Htt}},{key:"Ytt",get:function(){return this.Qo.Ytt}},{key:"Ol",get:function(){return this.Qo.Ol}},{key:"cit",get:function(){return this.dit()}},{key:"Xw",get:function(){return this.Qo.Xw}},{key:"Bo",get:function(){return this.Qo.Bo}},{key:"ht",get:function(){return this.L_()}},{key:"R_",get:function(){return this.P_()},set:function(t){this.z_(t)}},{key:"bt",get:function(){return this.B_()}},{key:"we",get:function(){return this.Y_()}},{key:"G_",get:function(){return this.V_()}},{key:"Z_",get:function(){return this.q_()}},{key:"Yg",get:function(){return this.Qo.Yg},set:function(t){this.Qo.Yg=t}},{key:"eg",get:function(){return this.rg()}},{key:"og",get:function(){return this.hg()},set:function(t){this.ag(t)}},{key:"fg",get:function(){return this._g()}},{key:"gg",get:function(){return this.wg()},set:function(t){this.vg(t)}},{key:"yg",get:function(){return this.Mg()},set:function(t){this.Tg(t)}},{key:"Sg",get:function(){return this.Ng()}},{key:"ba",get:function(){return this.Qo.ba},set:function(t){this.Qo.ba=t}},{key:"Eg",get:function(){return this.Lg()}},{key:"nt",get:function(){return this.xg()}},{key:"Cg",get:function(){return this.Og()}},{key:"rt",get:function(){return this.jg()}},{key:"Rg",get:function(){return this.Pg()}},{key:"zg",get:function(){return this.Bg()},set:function(t){this.Ug(t)}}]),n}(Ho);!function(t){t[t.Za=0]="Za",t[t._it=1]="_it",t[t.Ip=2]="Ip",t[t.git=3]="git",t[t.wit=4]="wit",t[t.vit=5]="vit"}(TT||(TT={}));var DT=[0,1,2,3,4,5],IT={};function ET(t,n){(IT[n]||(IT[n]=[])).push(t)}var ST={};function LT(t,n){(ST[n]||(ST[n]=[])).push(t)}var CT=[];!function(t){CT.push(t)}((function(t){new bT(t.va,t.sit)})),wt(),C(),Mt(),wt(),C(),Mt();var jT=function(){function t(){}return t.RF=function(){return t.lL||(t.lL=xT.LO()?new xT:new ad),t.lL},t.kL=function(n){t.RF().kL(n)},t.jF=function(){t.RF().jF()},t.IL=function(n){return t.RF().IL(n)},t.EP=function(n,i){t.RF().EP(n,i)},t.eZ=function(n){var i=t.IL(n);if(void 0!==i)return y(i)},t.sZ=function(n){return"true"===t.IL(n)},t}();jT.lL=void 0;var xT=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.kL=function(t){self.localStorage.removeItem(t)},i.jF=function(){self.localStorage.clear()},i.IL=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.EP=function(t,n){self.localStorage.setItem(t,n)},n.LO=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(jT),OT="theoplayer-stored-volume",zT="theoplayer-stored-mutedstate";ET((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=jT.eZ(OT);(void 0===e||A(e))&&(e=1);var u=jT.sZ(zT)||!1;r.zg=e,r.og=u}return r}kt(n,t);var i=n.prototype;return i.ag=function(n){this.wd.persistVolume&&jT.EP(zT,""+Boolean(n)),t.prototype.ag.call(this,n)},i.Ug=function(n){this.wd.persistVolume&&jT.EP(OT,""+Number(n)),t.prototype.Ug.call(this,n)},n}(t)}),TT.Za),wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt();var RT=function(t){function n(n){var i;return(i=t.call(this)||this).ow=function(t){i.nw(t)||i.Co(t)},i.x_=n,n.T_(i.ow),i}kt(n,t);var i=n.prototype;return i.L_=function(){return this.x_.ht},i.C_=function(){return this.x_.C_()},i.j_=function(){return this.x_.O_},i.P_=function(){return this.x_.R_},i.z_=function(t){this.x_.R_=t},i.B_=function(){return this.x_.bt},i.Q_=function(){return this.x_.U_},i.F_=function(t,n){this.x_.F_(t,n)},i.Td=function(){return this.x_.ct},i.Y_=function(){return this.x_.we},i.V_=function(){return this.x_.G_},i.W_=function(){return this.x_.lt},i.X_=function(){return this.x_.H_},i.q_=function(){return this.x_.Z_},i.J_=function(){return this.x_.K_},i.rg=function(){return this.x_.eg},i.hg=function(){return this.x_.og},i.ag=function(t){this.x_.og=t},i.dg=function(){return this.x_.cg},i._g=function(){return this.x_.fg},i.wg=function(){return this.x_.gg},i.vg=function(t){this.x_.gg=t},i.Ag=function(){return this.x_.pg},i.Mg=function(){return this.x_.yg},i.Tg=function(t){this.x_.yg=t},i.Ng=function(){return this.x_.Sg},i.Dg=function(){return this.x_.Ig},i.Lg=function(){return this.x_.Eg},i.Wa=function(){return this.x_.Wa()},i.ga=function(t,n){return this.x_.ga(t,n)},i.xg=function(){return this.x_.nt},i.Og=function(){return this.x_.Cg},i.jg=function(){return this.x_.rt},i.Pg=function(){return this.x_.Rg},i.Fg=function(){return this.x_.Qg},i.Bg=function(){return this.x_.zg},i.Ug=function(t){this.x_.zg=t},i.Gg=function(){return this.x_.Gg()},i.Vg=function(){return this.x_.Vg()},i.ur=function(t){this.x_.ur(t)},i.ar=function(){this.x_.ar()},i.be=function(){this.x_.be()},i.Wg=function(){this.x_.Wg()},i.Hg=function(){this.x_.Hg()},i.Xg=function(){this.x_.Xg()},i.ge=function(){this.x_.ge()},i.Zg=function(){return this.x_.Zg()},i.qg=function(){return this.x_.qg()},i.Kg=function(){this.x_.Kg()},i.Jg=function(){this.x_.Jg()},i.tr=function(){return this.x_.tr()},i.$g=function(){this.x_.$g()},i.iw=function(){this.x_.iw()},i.ew=function(t){return this.x_.ew(t)},i.nw=function(t){return!1},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.x_.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"ht",get:function(){return this.L_()}},{key:"O_",get:function(){return this.j_()}},{key:"R_",get:function(){return this.P_()},set:function(t){this.z_(t)}},{key:"bt",get:function(){return this.B_()}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Td()}},{key:"we",get:function(){return this.Y_()}},{key:"G_",get:function(){return this.V_()}},{key:"lt",get:function(){return this.W_()}},{key:"H_",get:function(){return this.X_()}},{key:"Z_",get:function(){return this.q_()}},{key:"K_",get:function(){return this.J_()}},{key:"eg",get:function(){return this.rg()}},{key:"og",get:function(){return this.hg()},set:function(t){this.ag(t)}},{key:"cg",get:function(){return this.dg()}},{key:"fg",get:function(){return this._g()}},{key:"gg",get:function(){return this.wg()},set:function(t){this.vg(t)}},{key:"pg",get:function(){return this.Ag()}},{key:"yg",get:function(){return this.Mg()},set:function(t){this.Tg(t)}},{key:"Sg",get:function(){return this.Ng()}},{key:"Ig",get:function(){return this.Dg()}},{key:"Eg",get:function(){return this.Lg()}},{key:"nt",get:function(){return this.xg()}},{key:"Cg",get:function(){return this.Og()}},{key:"rt",get:function(){return this.jg()}},{key:"Rg",get:function(){return this.Pg()}},{key:"zg",get:function(){return this.Bg()},set:function(t){this.Ug(t)}},{key:"Qg",get:function(){return this.Fg()}},{key:"Yg",get:function(){return this.x_.Yg},set:function(t){this.x_.Yg=t}}]),n}(Ho);wt(),C(),Mt(),wt(),C(),mt(),Mt();var BT=function(t){function n(){var n;return(n=t.call(this)||this).Qw=void 0,n.Vw=function(t){var i=t.Lt;n.tt(i)},n.Ww=function(t){var i=t.Lt;n.it(i)},n}kt(n,t);var i=n.prototype;return i.Gw=function(t){t.yn(eA.hw,this.Vw),t.yn(eA.uw,this.Ww)},i.Fw=function(t){t.fn(eA.hw,this.Vw),t.fn(eA.uw,this.Ww)},i.gn=function(n){!n&&this.Qw&&this.Qw.gn(),t.prototype.gn.call(this)},At(n,[{key:"Uw",get:function(){return this.Qw},set:function(t){var n=this.Qw;if(t!==n){if(n){this.Fw(n);for(var i=0,r=n.Rw;i<r.length;i++){var e=r[i];t&&t.Bw(e)||this.it(e)}}if(this.Qw=t,t){for(var u=[],s=0,o=t.Rw;s<o.length;s++){var a=o[s];this.tt(a),this.Yw(a)&&u.push(a)}this.Gw(t);for(var c=0;c<u.length;c++){var h=u[c];h.Co(new XA(h))}}}}}]),n}(vA),PT=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.fa=function(){return OA(this)},i.Yw=function(t){return t.Rt},n}(BT);wt(),C(),Mt();var UT=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.fa=function(){return L_(this)},i.Yw=function(t){return t._v===h_.Jn},n}(BT);wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),mt(),Mt(),Ct(),wt(),C();var QT=.92,YT=1.08,GT=.25,FT=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ho=!1,e.Le=!1,e.Qm=!1,e.Xm=0,e.Dm=void 0,e.zm=[],e.jm=void 0,e.Gm=function(){var t=e.Fm.O_,n=e.Fm.U_,i=t.Jm(n);i&&(e.Xm=Bi(i.jn(0)-n,e.Xm,.5),e.Rm())},e.Vm=function(){e.Qm=!0,e.Qo.fn(uk.Sm,e.Vm),e.Le&&e.Cn()},e.Em=function(){e.Im(),e.Nm();var t=e.qm;if(t){var n=e.$m();if(t>e.Cm.forceSeekOffset)return e.Co(new Jo("latencyrecoveryseek")),void e.tp();var i=e.Cm,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.Fm.gg;n>s?e.Ym(e.Cm.maximumPlaybackRate):n<r&&!on.Ys.ep?e.Ym(e.Cm.minimumPlaybackRate):(o>1&&n<u||o<1&&n>u)&&e.Ym(1)}},e.Qo=n,e.Fm=i,e.Zm=r,e.Cm=r,e.Qo.yn(uk.Tm,e.Gm),e.Qo.yn(uk.Sm,e.Vm),e}kt(n,t);var i=n.prototype;return i.Nm=function(){var t=this;this.Im(),this.Dm=on.A_((function(){return t.Em()}),500)},i.Im=function(){void 0!==this.Dm&&(on.p_(this.Dm),this.Dm=void 0)},i.Pm=function(t){this.zm.push(t),this.Rm()},i.Bm=function(t){ao(this.zm,t),this.Rm()},i.Rm=function(){this.Cm=this.Um(),this.ho&&this.Em()},i.Cn=function(){this.Le&&this.Qm&&(this.ho||this.Fm.yn(dd.fm,this.Em),this.Nm(),this.ho=!0)},i.Zg=function(){this.ho&&(this.Im(),this.Fm.fn(dd.fm,this.Em),this.Ym(1),this.ho=!1)},i.h_=function(){this.Zg(),this.Qo.fn(uk.Tm,this.Gm),this.Qo.fn(uk.Sm,this.Vm),this.Vo()},i.Ym=function(t){this.Fm.Hm.Wm||this.Qo.gg!==t&&(this.Qo.gg=t)},i.Um=function(){var t,n=this.Xm,i=[null!=(t=this.jm)?t:this.Zm].concat(Lt(this.zm)),r=i.reduce((function(t,n){var i;return g.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),n),e=i.reduce((function(t,n){var i;return g.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+GT),u=i.reduce((function(t,n){var i;return g.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+GT);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return g.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+GT),minimumPlaybackRate:QT,maximumPlaybackRate:YT}},At(n,[{key:"Lm",get:function(){return this.Le&&this.ho}},{key:"xm",get:function(){return this.Cm}},{key:"Om",get:function(){return this.jm},set:function(t){this.jm=t,this.Rm()}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le=t,t?this.Cn():this.Zg()}},{key:"qm",get:function(){return this.Qo.Km}}]),n}(Xo);wt(),C();var VT=.25,WT=400,XT={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:QT,maximumPlaybackRate:YT},ZT={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:QT,maximumPlaybackRate:YT},HT={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:QT,maximumPlaybackRate:YT},KT={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:QT,maximumPlaybackRate:YT},JT={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:QT,maximumPlaybackRate:YT};function qT(t){if(on.np.sp){var n=(WT+250)/1e3,i=g.max(n,t.minimumOffset),r=g.max(i+VT,t.targetOffset),e=g.max(r+VT,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:g.max(e+VT,t.forceSeekOffset),minimumPlaybackRate:QT,maximumPlaybackRate:YT}}return t}function $T(){var t;return t=on.Ys.ep?KT:on.Ys.rp?ZT:on.Ys.op?"Android"===on.np.hp?HT:XT:JT,on.np.sp?qT(t):t}function tN(t){return{minimumOffset:t.windowStart,maximumOffset:t.windowEnd,targetOffset:t.target,forceSeekOffset:t.maxOffset,minimumPlaybackRate:QT,maximumPlaybackRate:YT}}function nN(t){return{windowStart:t.minimumOffset,windowEnd:t.maximumOffset,target:t.targetOffset,maxOffset:t.forceSeekOffset}}var iN=function(t){function n(n,i,r){return t.call(this,n,i,r)}kt(n,t);var i=n.prototype;return i.$m=function(){var t=this.Fm.O_;return 0===t.U?0:t.jn(t.U-1)-this.Fm.U_},i.tp=function(){this.Qo.tp()},i.Um=function(){return qT(t.prototype.Um.call(this))},n}(FT),rN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._p=void 0,n}return kt(n,t),n.prototype.tp=function(){},At(n,[{key:"ap",get:function(){return nN($T())}},{key:"cp",get:function(){}},{key:"Km",get:function(){}},{key:"lp",get:function(){}},{key:"dp",get:function(){return!1}},{key:"fp",get:function(){}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=eN(this)}}]),n}(Xo);function eN(t){return{goLive:function(){return t.tp()},get isLive(){return t.dp},get currentServerLiveTime(){return t.cp},get currentLatency(){return t.Km},get latencies(){return t.lp},get latency(){return t.ap},set latency(n){if(!function(t){if(!Un(t))return!1;var n=t;return"number"==typeof n.target&&"number"==typeof n.windowEnd&&"number"==typeof n.windowStart&&"number"==typeof n.maxOffset&&n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd}(n))throw new v("Invalid latency configuration");t._p=n},get manifest(){return t.fp},addEventListener:function(n,i){t.yn(sN(n),i)},removeEventListener:function(n,i){t.fn(sN(n),i)}}}var uN=["golive","latencyrecoveryseek"];function sN(t){var n=DA(t,TA);return(Yn(n)?[n]:n).filter((function(t){return fo(uN,t)}))}var oN=function(t){function n(){var n;return(n=t.call(this)||this).Qw=void 0,n.Xa=void 0,n.gp=void 0,n.Qw=void 0,n}kt(n,t);var i=n.prototype;return i.Gw=function(t){t.yn(uN,this.Ds)},i.Fw=function(t){t.fn(uN,this.Ds)},i.tp=function(){var t;null==(t=this.Qw)||t.tp()},i.gn=function(){this.Vo(),this.Qw&&this.Fw(this.Qw),this.Qw=void 0},At(n,[{key:"Uw",get:function(){return this.Qw},set:function(t){var n=this.Qw;t!==n&&(n&&this.Fw(n),t&&this.Gw(t),this.Qw=t,this.Qw&&(this.Qw._p=this.gp))}},{key:"va",get:function(){return this.Xa||(this.Xa=eN(this)),this.Xa}},{key:"cp",get:function(){var t;return null==(t=this.Qw)?void 0:t.cp}},{key:"Km",get:function(){var t;return null==(t=this.Qw)?void 0:t.Km}},{key:"lp",get:function(){var t;return null==(t=this.Qw)?void 0:t.lp}},{key:"dp",get:function(){return!!this.Qw&&this.Qw.dp}},{key:"ap",get:function(){return this.Qw?this.Qw.ap:null!=(t=this.gp)?t:nN($T());var t}},{key:"_p",get:function(){return this.Qw?this.Qw._p:this.gp},set:function(t){this.Qw&&(this.Qw._p=t),this.gp=t}},{key:"fp",get:function(){var t;return null==(t=this.Qw)?void 0:t.fp}}]),n}(Xo);wt(),C(),wt(),C();var aN,cN,hN,fN,vN="8E80B9CE";function dN(t){return{appID:t&&t.appID?TA(t.appID):vN}}function lN(t){if(null!==t)return t}function gN(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:lN(t.streamActivityMonitorID),adTagParameters:Un(t.adTagParameters)?t.adTagParameters:{},authToken:lN(t.authToken),omidAccessModeRules:lN(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?Xu({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void on.vp("A VOD DAI configuration was provided without valid contentSourceID which is required."):void on.vp("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?Xu({},n,{availabilityType:"live",assetKey:e}):void on.vp("A Live DAI configuration was provided without valid assetKey which is required.")}on.vp("A DAI configuration was provided without a valid availabilityType which is required.")}function wN(t){switch(t.integration){case"google-dai":return gN(t);case"imagine":return function(t){return{integration:t.integration}}(t);default:return Xu({},t,{integration:String(t.integration)})}}function yN(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=cN.mp;return t.useCredentials?i=cN.Ap:t.crossOrigin&&(i=PN(t.crossOrigin)),i===cN.mp&&n&&n.vr&&n.vr[360]&&(i=cN.pp),{useCredentials:i===cN.Ap,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;zn(o)||(o=i&&zn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;zn(a)||(a=n&&zn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;zn(c)||(c=i&&zn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),w=zn(t.dash)?mN(t.dash):void 0,y=zn(t.hls)?pN(t.hls):void 0,A=MN(kN(t.abr),null==i?void 0:i.abr),m=kA(t.lcevc),p=zn(t.ignoreEmbeddedTextTrackTypes)?rD(t.ignoreEmbeddedTextTrackTypes):[],_=xN(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=jN(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:g,dash:w,hls:y,abr:A,lcevc:m,ignoreEmbeddedTextTrackTypes:p,seamlessSwitchStrategy:_,latencyConfiguration:k}}(t,n,i),e=lN(t.src),u=t.type;u||(u=t.src?BN(t.src):void 0);var s=function(t,n){var i;i=zn(t.contentProtection)?t.contentProtection:zn(t.drm)?t.drm:zn(n)&&zn(n.contentProtection)?n.contentProtection:zn(n)&&zn(n.drm)?n.drm:void 0;return AN(i)}(t,n);return Xu({},r,{src:e,type:u,contentProtection:s,ssai:zn(t.ssai)?wN(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function AN(t){return nM(t)&&t.integration&&t.integration===Tk?function(t){var n=aM(rs.Ep,t),i=aM(rs.Dp,t),r=t[rs.kp]&&aM(rs.kp,t);return Xu({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function mN(t){return{useSeamlessPeriodSwitch:xN(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:kA(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?MA(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:kA(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:kA(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:kA(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function pN(t){return{discontinuityAlignment:_N(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:_A(null==t?void 0:t.delaySubtitlePreload)}}function _N(t){if(!t||!Yn(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function kN(t){if(zn(t))return bN(NA(null==t?void 0:t.preferredAudioCodecs,TA),NA(null==t?void 0:t.preferredVideoCodecs,TA),kA(null==t?void 0:t.restrictToPlayerSize))}function MN(t,n){var i;if(zn(t)||zn(n))return bN(TN(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),TN(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function bN(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function TN(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function NN(t,n){if(void 0!==n)switch(t){case zA.VA:return n.preferredVideoCodecs;case zA.WA:return n.preferredAudioCodecs;default:return}}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(aN||(aN={})),wt(),C(),wt(),C(),function(t){t.mp="",t.pp="anonymous",t.Ap="use-credentials"}(cN||(cN={})),function(t){t.yp="application/dash+xml",t.Mp="application/vnd.apple.mpegurl",t.bp="application/x-mpegurl",t.Tp="video/mp4",t.Sp="application/vnd.theoplayer.hesp+json",t.Np="application/vnd.theo.hesp+json",t.Ip="millicast"}(hN||(hN={})),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),function(t){t.LT="auto",t.xT="playlist",t.CT="media"}(fN||(fN={})),wt(),C(),wt(),C();var DN,IN,EN,SN=.66,LN=1.5,CN=3;function jN(t){if(zn(t)){var n,i,r,e,u,s=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:s*SN,targetOffset:s,maximumOffset:null!=(i=t.maximumOffset)?i:s*LN,forceSeekOffset:null!=(r=t.forceSeekOffset)?r:s*CN,minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:QT,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:YT}}}function xN(t){if(!t||!Yn(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}!function(t){t.LT="auto",t.PT="always",t.zT="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(DN||(DN={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor",t.THEOLIVE="theolive"}(IN||(IN={})),wt(),C(),wt(),C(),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(EN||(EN={})),wt(),C();var ON,zN=!1;function RN(t){return!!t&&Ss(t,"mpd")}function BN(t){var n=hN.Tp;return RN(t)&&(n=hN.yp),function(t){return!!t&&Ss(t,"m3u8")}(t)&&(n=hN.Mp),n}function PN(t){switch(t){case cN.pp:case cN.Ap:return t;default:return cN.mp}}function UN(t){if(!t)return!1;var n=t.toLowerCase();return Ls(n,hN.yp)}function QN(t){if(!t)return!1;var n=t.toLowerCase();return Ls(n,hN.Mp)||Ls(n,hN.bp)}function YN(t){return Un(t)&&Un(t.ssai)&&"google-dai"===t.ssai.integration}function GN(t){return Un(t)&&"verizon-media"===t.integration}function FN(t){return Un(t)&&"theolive"===t.integration}function VN(t){return Un(t)&&"mediatailor"===t.integration}function WN(t){return Un(t)&&"millicast"===t.type}function XN(t){if(Yn(t))return!t;if(GN(t))return!t.id;if(YN(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return WN(t)?!t.streamName||!t.streamAccountId:!t.src}function ZN(t){return Boolean(Un(t)&&Yn(t.src))}function HN(t){return t.type===hN.Sp||t.type===hN.Np}function KN(t){return Yn(t)||ZN(t)||YN(t)||GN(t)||WN(t)}function JN(t){if(t){if(KN(t))return XN(t);for(var n=0;n<t.length;n++){if(!XN(t[n]))return!1}return!0}return!0}function qN(){return{crossOrigin:cN.mp,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:DN.LT,latencyConfiguration:void 0}}function $N(){return Xu({},qN(),{src:void 0,type:hN.Tp,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function tD(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:EN.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0},theoads:zN};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?ON.NONE:ON.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=_A(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return EN.INSECURE;case"disabled":return EN.DISABLED;default:return EN.ENABLED}}(t.vpaidMode)),Bn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Yn)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0}:{useNativeIma:_A(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1,language:zn(t.language)?TA(t.language):void 0,uiElements:t.uiElements};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=_A(t.theoads):n.theoads=zN),n}function nD(t){if(!Pn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];Un(r)&&n.push(r)}return n}function iD(t){return Yn(t.src)||WN(t)}function rD(t){return Bn(t)?t.filter(vm):[]}wt(),C(),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ON||(ON={})),wt(),C(),Mt();var eD=function(t){function n(n,i){var r;return void 0===i&&(i=ak.BT),(r=t.call(this,dd.xv)||this).currentTime=n,r.readyState=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var uD=function(t){function n(n){var i;return(i=t.call(this,dd.Sh)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var sD=function(t){function n(n){var i;return(i=t.call(this,dd.jh)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var oD=function(t){function n(n){var i;return(i=t.call(this,dd.Lv)||this).duration=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var aD=function(t){function n(n,i){var r;return(r=t.call(this,dd.qv)||this).currentTime=n,r.playbackRate=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var cD=function(t){function n(n){var i;return(i=t.call(this,dd.Ov)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var hD=function(t){function n(n){var i;return(i=t.call(this,dd.im)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var fD=function(t){function n(n){var i;return(i=t.call(this,dd.$v)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var vD=function(t){function n(n,i){var r;return(r=t.call(this,dd._m)||this).currentTime=n,r.volume=i,r}return kt(n,t),n}(Jo);function dD(t,n){return lD.apply(this,arguments)}function lD(){return lD=xt((function(t,n,i,r,e){var u,s,o;return zt(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return xo(s=a.sent()),u<i?(o=g.min(r*g.pow(2,u),e),u++,[4,Fo(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),lD.apply(this,arguments)}wt(),C(),Ot(),Pt();var gD,wD={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function yD(t){switch(t){case"all":case"content":return t;default:return"none"}}function AD(t){var n=wA(t||{});return n.libraryLocation&&(n.libraryLocation=ry(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=function(t){var n=dN(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(n.cast),n.ads=tD(n.ads),n.analytics=nD(n.analytics),n.mutedAutoplay=yD(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return Yn(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return ry(t)}catch(t){return void on.vp("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(n.vr),n.abr=kN(n.abr),n.retryConfiguration=function(t){var n=Xu({},wD);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n.theoLive=function(t){if(!t)return t;return Xu({},t,{externalSessionId:t.externalSessionId?TA(t.externalSessionId):void 0,fallbackEnabled:kA(t.fallbackEnabled)})}(n.theoLive),n}function mD(t){return{bt:t.bt,U_:t.U_,ct:t.ct,G_:t.G_,lt:t.lt,H_:t.H_,og:t.og,fg:t.fg,gg:t.gg,Sg:t.Sg,Eg:t.Eg,Cg:t.Cg,Rg:t.Rg,zg:t.zg}}function pD(t,n){var i=n.zg,r=n.og;t.zg=i,t.og=r}function _D(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.U_,u=n.ct,s=n.og,o=n.fg,a=n.gg,c=n.Sg,h=n.Eg,f=(n.Rg,n.Cg,n.zg),v=i.U_,d=i.ct,l=i.G_,g=i.H_,w=i.og,y=i.fg,m=i.gg,p=i.Sg,_=i.Eg,k=(i.Rg,i.Cg,i.zg);(r||c>ak.BT&&p===ak.BT)&&t.Co(new eD(v,p)),y&&!o?t.Co(new uD(v)):!y&&o&&t.Co(new sD(v)),p>=ak.Xn&&(r||c<ak.Xn)&&t.Co(new hk(v,p)),d===u||A(d)&&A(u)||t.Co(new oD(d)),m!==a&&t.Co(new aD(v,m)),v!==e&&t.Co(new nA(v,void 0)),l&&t.Co(new cD(v)),p>=ak.UT&&(r||c<ak.UT)&&t.Co(new fk(v,p)),_&&!h?t.Co(new hD(v)):!_&&h&&t.Co(new fD(v)),k===f&&w===s||t.Co(new vD(v,k)),p>=ak.QT&&(r||c<ak.QT)&&t.Co(new dk(v,p)),p>=ak.FT&&(r||c<ak.FT)&&t.Co(new lk(v,p)),p!==c&&t.Co(new ck(v,p)),g&&t.Co(new uT(g))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(gD||(gD={})),wt(),C(),Mt();var kD=function(t){function n(n){var i;return(i=t.call(this,dd.Dv)||this).currentSource=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var MD=function(t){function n(){return t.call(this,dd.Rv)}return kt(n,t),n}(Jo);wt(),C(),Mt();var bD=function(t){function n(){return t.call(this,dd.zv)}return kt(n,t),n}(Jo),TD=function(t){function n(n){var i;return(i=t.call(this,n)||this).YT=new PT,i.VT=new PT,i.Dl=new UT,i.GT=new oN,i.YT.Uw=n.ht,i.VT.Uw=n.rt,i.Dl.Uw=n.nt,i.GT.Uw=n.Z_,i}kt(n,t);var i=n.prototype;return i.L_=function(){return this.YT},i.q_=function(){return this.GT},i.xg=function(){return this.Dl},i.jg=function(){return this.VT},i.WT=function(t){var n=this.x_;if(n!==t){n.E_(this.ow);var i=mD(this),r=this.B_(),e=this.Gg(),u=this.Vg();this.x_=t,this.YT.Uw=t.ht,this.VT.Uw=t.rt,this.Dl.Uw=t.nt,this.GT.Uw=t.Z_,void 0!==i&&_D(this,i,this);var s=this.B_();s!==r&&this.Co(new kD(s)),this.Gg()!==e&&this.Co(new MD),this.Vg()!==u&&this.Co(new bD),t.T_(this.ow)}},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.YT.gn(),n.VT.gn(),n.Dl.gn(),n.GT.gn(),[2]}}))}))()},At(n,[{key:"Z_",get:function(){return this.q_()}}]),n}(RT);wt(),C();var ND=function(t){function n(n){var i;return(i=t.call(this,n)||this).$T=[],i.bo=!1,i.eS=!1,i.tS(n),i}kt(n,t);var i=n.prototype;return i.rg=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c.HT,i+=c.XT,r+=c.ZT,e+=c.qT,u+=c.KT,s+=c.JT.amountOfBufferedAudioSegments,o+=c.JT.amountOfBufferedVideoSegments}return{HT:n,XT:i,ZT:r,qT:e,KT:u,JT:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.$T.map((function(t){return t.eg})))},i.Zg=function(){return Yo(this.$T.map((function(t){return t.Zg()}))).then(Hn)},i.tr=function(){return Yo(this.$T.map((function(t){return t.tr()}))).then(Hn)},i.Wg=function(){if(!this.bo){for(var t=0,n=this.$T;t<n.length;t++){n[t].Wg()}this.bo=!0}},i.C_=function(){for(var t=[],n=0,i=this.$T;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Lt(e.C_()))}return t},i.ew=function(t){for(var n=!1,i=0,r=this.$T;i<r.length;i++){n=r[i].ew(t)||n}return n},i.Co=function(n){this.ew(n)||t.prototype.Co.call(this,n)},i.tS=function(t){this.$T.push(t)},i.iS=function(t){ao(this.$T,t)},i.WT=function(n){if(n!==this.x_){var i=this.x_;i.ar(),t.prototype.WT.call(this,n),n.ur(i)}},i.$g=function(){for(var t=0,n=this.$T;t<n.length;t++){n[t].$g()}},i.gn=function(){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:n.Vo(),n.x_.ar(),i=0,r=n.$T,u.label=1;case 1:return i<r.length?(e=r[i],n.x_===e?[3,3]:[4,e.gn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.gn.call(n)];case 5:return u.sent(),[2]}}))}))()},At(n,[{key:"Uw",get:function(){return this.x_},set:function(t){this.WT(t)}}]),n}(TD);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt();var DD=function(){function t(){this.fB=new _T,this.dB=[]}var n=t.prototype;return n.lB=function(t){this.dB.push(t)},n.Yp=function(t,n,i,r,e,u,s){for(var o=this.fB.Yp(t,n,i,r,e,u,s),a=0,c=this.dB;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.hB=function(t,n){return this.fB.hB(t,n)},n.aB=function(){return!1},t.cB=function(){return this.lL},At(t,[{key:"uB",get:function(){return this.fB.uB}}]),t}();function ID(t,n){return qs(t.uB,n.uB)}DD.lL=new DD,wt(),C(),Ot(),Pt(),wt(),C();var ED=function(){function t(){this.gB=[]}var n=t.prototype;return n._B=function(t){this.gB.push(t),this.gB.sort(ID)},n.wB=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:r=0,e=i.gB,a.label=1;case 1:return r<e.length?(u=e[r],Fn(s=u.hB(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function SD(t){LD.lL._B(t)}var LD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).mB=DD.cB(),n}kt(n,t);var i=n.prototype;return i.vB=function(t){this.mB=t},i.pB=function(){return this.mB},i.AB=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:r=i.mB,e=0,c.label=1;case 1:return e<t.length?(u=t[e],[4,i.wB(u,n)]):[3,7];case 2:return(s=c.sent())?[2,{yc:u,t:s}]:Fn(o=r.hB(u,n))?[4,o]:[3,4];case 3:return a=c.sent(),[3,5];case 4:a=Boolean(o),c.label=5;case 5:if(a)return[2,{yc:u,t:r}];c.label=6;case 6:return e++,[3,1];case 7:return[2,{yc:t[0],t:r}]}}))}))()},n}(ED);LD.lL=new LD,wt(),C();var CD,jD=function(){function t(t){this.Us=iu&&iu.document&&iu.document.createElement("div"),wu(this.Us),t.appendChild(this.Us)}return t.prototype.gn=function(){au(this.Us)},t}();wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),function(t){t.YP="",t.yB="none",t.ZA="metadata",t.LT="auto"}(CD||(CD={}));var xD=[f_.ha,dd.xv,dd.Cv,dd.vm,dd.Mv,dd.Rv,dd.zv,dd.Hv,dd.Xv,dd.hm,dd.lm,uk.pm,uk.Am,uk.ym,uk.Mm,uk.Nw,uk.Tm,uk.Sm,dd.Nv,dd.Iv,dd.Lv,dd.Ov,dd.Gv,dd.Vv,dd.jh,dd.Zv,dd.Sh,dd.qv,dd.Jv,dd.im,dd.$v,dd.fm,dd._m,dd.Kv,dd.Wv,dd.nm],OD=function(t){function n(n,i){var r;return(r=t.call(this)||this).IB=void 0,r.MB=void 0,r.Az=CD.yB,r.SB=void 0,r.EB=!0,r.YT=new PT,r.VT=new PT,r.Dl=new UT,r.GT=new oN,r.NB=n,r.Qo=i,r.Qo.yg=r.yg,r.bB(),r}kt(n,t);var i=n.prototype;return i.Hg=function(){this.Qo.Hg()},i.Xg=function(){var t=this.Qo.Xg();Fn(t)&&Qo(t)},i.Zg=function(){return this.ga(void 0)},i.Wg=function(){},i.bB=function(){this.YT.Uw=this.Qo.ht,this.VT.Uw=this.Qo.rt,this.Dl.Uw=this.Qo.nt,this.GT.Uw=this.Qo.Z_,this.Qo.yn(xD,this.Ds)},i.TB=function(){this.Qo.fn(xD,this.Ds),this.YT.Uw=void 0,this.VT.Uw=void 0,this.Dl.Uw=void 0,this.GT.Uw=void 0},i.Wa=function(){return this.SB},i.ga=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return jo(n),i.SB=t,t?JN(r=t.sources.filter(iD))?[2]:[4,i.NB.AB(r,t)]:[2];case 1:return e=c.sent(),jo(n),u=e.yc,s=e.t,o=i.Gg(),a=mD(i),i.IB!==s||i.lt?(i.TB(),[4,i.Qo.gn()]):[3,3];case 2:c.sent(),jo(n),i.IB=s,i.Qo=i.DB(s,u),function(t,n){t.og!==n.og&&(t.og=n.og);t.zg!==n.zg&&(t.zg=n.zg);t.gg!==n.gg&&(t.gg=n.gg)}(i.Qo,a),_D(i,a,i),i.bB(),c.label=3;case 3:return i.Qo.yg=i.yg,i.EB?i.Qo.ge():i.Qo.be(),[4,i.Qo.ga(u,t,n)];case 4:return c.sent(),jo(n),i.kB(u),i.Gg()!==o&&i.Co(new MD),[2]}}))}))()},i.kB=function(t){this.MB!==t&&(this.MB=t,this.Co(new kD(t)))},i.qg=function(){return this.Qo.qg()},i.Kg=function(){this.Qo.Kg()},i.Jg=function(){this.Qo.Jg()},i.Gg=function(){return this.Qo.Gg()},i.$g=function(){this.Qo.$g()},i.iw=function(){this.Qo.iw()},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.SB=void 0,t.kB(void 0),[4,t.Qo.tr()];case 1:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),[4,t.Qo.gn()];case 2:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),t.GT.gn(),[2]}}))}))()},i.ge=function(){this.EB=!0,this.Qo.ge()},i.be=function(){this.EB=!1,this.Qo.be()},At(n,[{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Qo.O_}},{key:"lt",get:function(){return this.Qo.lt}},{key:"H_",get:function(){return this.Qo.H_}},{key:"R_",get:function(){return this.Qo.R_},set:function(t){this.Qo.R_=t}},{key:"bt",get:function(){return this.MB}},{key:"U_",get:function(){return this.Qo.U_},set:function(t){this.Qo.U_=t}},{key:"ct",get:function(){return this.Qo.ct}},{key:"G_",get:function(){return this.Qo.G_}},{key:"Z_",get:function(){return this.GT}},{key:"K_",get:function(){return this.Qo.K_}},{key:"eg",get:function(){return this.Qo.eg}},{key:"og",get:function(){return this.Qo.og},set:function(t){this.Qo.og=t}},{key:"cg",get:function(){return this.Qo.cg}},{key:"fg",get:function(){return this.Qo.fg}},{key:"gg",get:function(){return this.Qo.gg},set:function(t){this.Qo.gg=t}},{key:"pg",get:function(){return this.Qo.pg}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az=t,this.Qo&&(this.Qo.yg=this.Az)}},{key:"Sg",get:function(){return this.Qo.Sg}},{key:"Ig",get:function(){return this.Qo.Ig}},{key:"Eg",get:function(){return this.Qo.Eg}},{key:"nt",get:function(){return this.Dl}},{key:"Cg",get:function(){return this.Qo.Cg}},{key:"rt",get:function(){return this.VT}},{key:"Rg",get:function(){return this.Qo.Rg}},{key:"zg",get:function(){return this.Qo.zg},set:function(t){this.Qo.zg=t}},{key:"Qg",get:function(){return this.Qo.Qg}},{key:"Tz",get:function(){return this.Qo.Tz}}]),n}(Ho);function zD(t,n,i){return i?t<=n:t<n}wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt();var RD,BD=function(){function t(t,n){this.U=t.length>>1,this.xB=t,this.OB=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.U)}var n=t.prototype;return n.Cn=function(t){return this.xB[2*t]},n.jn=function(t){return this.xB[2*t+1]},n.CB=function(t){return this.OB[2*t]},n.jB=function(t){return this.OB[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.U},start:function(n){var i=0|n;return t.RB(i),t.Cn(i)},end:function(n){var i=0|n;return t.RB(i),t.jn(i)}}},n.PB=function(){for(var n=new Array(2*this.U),i=new Array(2*this.U),r=0;r<this.U;r++)n[2*r]=this.Cn(r),n[2*r+1]=this.jn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.RB=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.U)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.U+")")},n.zB=function(t){if(0===this.U)return 0;if(this.gr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.U-1))return this.jn(this.U-1);for(var n=0,i=1/0,r=0;r<this.U;r++){var e=this.Cn(r),u=g.abs(e-t);u<i&&(n=e,i=u);var s=this.jn(r),o=g.abs(s-t);o<i&&(n=s,i=o)}return n},n.Sn=function(n){for(var i=0,r=0,e=[],u=[];i<this.U&&r<n.U;){var s=this.Cn(i),o=this.jn(i),a=this.CB(i),c=this.jB(i),h=n.Cn(r),f=n.jn(r),v=n.CB(r),d=n.jB(r),l=g.max(s,h),w=g.min(o,f),y=void 0;y=s===h?a&&v:l===s?a:v;var A=void 0;A=o===f?c&&d:w===o?c:d,(l<w||y&&A&&l===w)&&(e.push(l,w),u.push(y,A)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.BB=function(){var n=this.UB(),i=n.U;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Cn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.CB(0)));for(var s=0;s<i-1;s++)r.push(n.jn(s),n.Cn(s+1)),e.push(!n.jB(s),!n.CB(s+1));var o=n.jn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.jB(i-1),!1)),new t(r,e)},n.QB=function(n){for(var i=0,r=0,e=this.U,u=n.U,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Cn(i),h=this.jn(i),f=n.Cn(r),v=n.jn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.CB(i),o[a+1]=this.jB(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.CB(r),o[a+1]=n.jB(r),r++),a+=2}for(;i<e;)s[a]=this.Cn(i),s[a+1]=this.jn(i),o[a]=this.CB(i),o[a+1]=this.jB(i),i++,a+=2;for(;r<u;)s[a]=n.Cn(r),s[a+1]=n.jn(r),o[a]=n.CB(r),o[a+1]=n.jB(r),r++,a+=2;return new t(s,o)},n.FB=function(n){void 0===n&&(n=0);var i=this.U;if(i<2)return this;for(var r=[],e=[],u=this.Cn(0),s=this.jn(0),o=this.CB(0),a=this.jB(0),c=1;c<i;c++){var h=this.Cn(c),f=this.jn(c),v=this.CB(c),d=this.jB(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=d=a||d),zD(h,s+n,a||v)?(s=f,a=d):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=d))}return r.push(u,s),e.push(o,a),new t(r,e).UB()},n.UB=function(){for(var n=[],i=[],r=0;r<this.U;r++){var e=this.Cn(r),u=this.jn(r),s=this.CB(r),o=this.jB(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.YB=function(t){return 0===this.U?t:0===t.U?this:this.QB(t).FB()},n.GB=function(t){var n=this.UB(),i=t.UB(),r=n.BB(),e=i.BB(),u=r.Sn(i),s=e.Sn(n);return u.YB(s)},n.KA=function(n){if(0===this.U||0===n)return this;for(var i=[],r=[],e=0;e<this.U;e++){var u=this.Cn(e)+n,s=this.jn(e)+n;i.push(u,s),r.push(this.CB(e),this.jB(e))}return new t(i,r)},n.VB=function(t){return 0===this.U||0===t.U?this:this.UB().Sn(t.UB().BB())},n.gr=function(t,n){return this.WB(t,n)>=0},n.HB=function(t,n,i,r,e){return this.XB(t,n,i,r,e)>=0},n.ZB=function(t,n,i,r,e){return this.qB(t,n,i,r,e)>=0},n.KB=function(t){if(t.U!==this.U)return!1;for(var n=0;n<this.U;n++)if(this.Cn(n)!==t.Cn(n)||this.jn(n)!==t.jn(n)||this.CB(n)!==t.CB(n)||this.jB(n)!==t.jB(n))return!1;return!0},n.JB=function(n){for(var i=[],r=[],e=0;e<this.U;e++){var u=this.Cn(e),s=this.jn(e),o=this.CB(e),a=this.jB(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.qB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.U;o+=1)if(zD(this.Cn(o),s,!r||this.CB(o))&&zD(u,this.jn(o),!i||this.jB(o)))return o;return-1},n.XB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.U;o+=1)if(zD(this.Cn(o),u,!i||this.CB(o))&&zD(s,this.jn(o),!r||this.jB(o)))return o;return-1},n.WB=function(t,n){return this.XB(t,t,!0,!0,n)},n.$B=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.U-1;r>=0;r-=1)if(zD(this.Cn(r),i,this.CB(r)))return r;return-1},n.tU=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.U;r+=1)if(zD(i,this.jn(r),this.jB(r)))return r;return-1},n.iU=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.U;r+=1)if(this.Cn(r)>i)return r;return-1},n.eU=function(n){return this.RB(n),new t([this.Cn(n),this.jn(n)],[this.CB(n),this.jB(n)])},n.Jm=function(t,n){var i=this.WB(t,n);return i<0?void 0:this.eU(i)},t.xn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.nU=function(n){return new t([n,n],[!0,!0])},t.rU=function(n,i){return n<=i?new t([n,i]):t.oU()},t.oU=function(){return PD},At(t,[{key:"LB",get:function(){return this.xB.slice()}},{key:"sU",get:function(){for(var t=0,n=0;n<this.U;n++){t+=this.jn(n)-this.Cn(n)}return t}}]),t}(),PD=new BD([]);wt(),C(),mt(),Mt(),wt(),C(),function(t){t.ra="fullscreenchange",t.ca="fullscreensupportchange",t.ha="fullscreenerror"}(RD||(RD={})),wt(),C(),Mt();var UD=function(t){function n(){return t.call(this,RD.ha)}return kt(n,t),n}(Jo),QD=(RD.ra,RD.ca,RD.ha,function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.mo=function(){this.Co(new UD)},i.So=function(){},i.gn=function(){this.Vo()},At(n,[{key:"cs",get:function(){return!1}},{key:"ta",get:function(){return!1}}]),n}(Xo)),YD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hU=0,n.uU=!1,n.cU=!0,n.lU=1,n.aU=!1,n.Xx=1,n.ht=new RA,n.O_=BD.oU().ks(),n.ct=NaN,n.G_=!1,n.lt=void 0,n.H_=void 0,n.Z_=void 0,n.K_=!1,n.cg=!0,n.pg=BD.oU().ks(),n.yg=CD.yB,n.Sg=ak.BT,n.Ig=BD.oU().ks(),n.Mz=void 0,n.nt=new j_,n.Cg=0,n.rt=new RA,n.Rg=0,n.Qg=new wT,n.Sz=new hT,n.dU=new QD,n}kt(n,t);var i=n.prototype;return i.F_=function(t,n){this.hU!==t&&(this.hU=t,this.aU=!0,this.Co(new hD(this.U_)))},i.ge=function(){},i.be=function(){},i.Xg=function(){this.cU&&(this.cU=!1,this.Co(new sD(this.U_)),this.Co(new vk(this.U_)))},i.Hg=function(){this.cU||(this.cU=!0,this.Co(new nA(this.U_,this.R_)),this.Co(new uD(this.U_)))},i.ga=function(t,n){return K.resolve()},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.Gg=function(){return this.dU},i.$g=function(){},i.iw=function(){},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.hU=0,t.aU=!1,t.Hg(),t.Co(new eD(t.hU)),[2]}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.Vo(),t.ht.gn(),t.nt.gn(),t.rt.gn(),[2]}))}))()},At(n,[{key:"R_",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"U_",get:function(){return this.hU},set:function(t){this.F_(t)}},{key:"eg",get:function(){return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"og",get:function(){return this.uU},set:function(t){this.uU!==t&&(this.uU=t,this.Co(new vD(this.U_,this.zg)))}},{key:"fg",get:function(){return this.cU}},{key:"gg",get:function(){return this.lU},set:function(t){this.lU!==t&&(this.lU=t,this.Co(new aD(this.U_,this.gg)))}},{key:"Eg",get:function(){return this.aU}},{key:"zg",get:function(){return this.Xx},set:function(t){this.Xx!==t&&(this.Xx=t,this.Co(new vD(this.U_,this.zg)))}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"Km",get:function(){}}]),n}(Xo),GD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Yz=void 0,n.Fm=void 0,n}kt(n,t);var i=n.prototype;return i.Vg=function(){var t;return null==(t=this.Fm)?void 0:t.pz},i.F_=function(t,n){this.U_=t},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.Fm?[4,n.Yz.Fz(n.Fm)]:[3,3];case 2:i.sent(),n.Fm=void 0,i.label=3;case 3:return[2]}}))}))()},At(n,[{key:"fU",set:function(t){this.Yz=t,this.Fm=t.oB(zA.VA)}}]),n}(YD),FD=function(t){function n(n,i,r,e,u,s,o){var a,c=new GD;return(a=t.call(this,LD.lL,c)||this).pu=n,a.GO=i,a.aE=r,a.wU=e,a.vU=u,a.mU=o,a.gU=new $e(s,a.mU),a.gU.yU(a.pu),c.fU=a.gU,a.AU=new jD(a.pu),a}kt(n,t);var i=n.prototype;return i.Wg=function(){t.prototype.Wg.call(this),this.gU._U()},i.ur=function(t){pD(this,t)},i.ar=function(){},i.ew=function(t){return!1},i.ga=function(n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return e=r.Gg(),u=r.Vg(),[4,t.prototype.ga.call(r,n,i)];case 1:return s.sent(),r.Gg()!==e&&r.Co(new MD),r.Vg()!==u&&r.Co(new bD),[2]}}))}))()},i.F_=function(t,n){this.Qo.F_(t,n)},i.DB=function(t,n){return t.Yp(this.pu,this.gU,this.aE,this.GO,this.wU,this.vU,this.mU,n)},i.Vg=function(){return this.Qo.Vg()},i.C_=function(){return this.gU.pU.map((function(t){return t.pz}))},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.gU.gn(),n.AU.gn(),[2]}}))}))()},At(n,[{key:"we",get:function(){return this.pu}},{key:"Yg",get:function(){return this.Qo.Yg},set:function(t){this.Qo.Yg=t}}]),n}(OD);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C();var VD=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).dU=new QD,e.bz=new wT,e.pu=n,e.bU=i,e.MU=new RA,e.SU=new j_,e.TU=r,e}kt(n,t);var i=n.prototype;return i.F_=function(t,n){},i.ew=function(t){return!0},i.be=function(){},i.Xg=function(){throw this.Co(new uT(this.TU)),this.bU},i.Hg=function(){},i.Wa=function(){},i.ga=function(t,n){var i=this;return xt((function(){return zt(this,(function(t){throw jo(n),i.Co(new uT(i.TU)),i.bU}))}))()},i.ge=function(){},i.Zg=function(){return K.resolve()},i.Vg=function(){},i.Gg=function(){return this.dU},i.C_=function(){return[]},i.Wg=function(){},i.ur=function(t){},i.ar=function(){},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.$g=function(){},i.iw=function(){},i.tr=function(){return K.resolve()},i.gn=function(){return this.Vo(),this.MU.gn(),this.SU.gn(),K.resolve()},At(n,[{key:"ht",get:function(){return this.MU}},{key:"O_",get:function(){return BD.oU().ks()}},{key:"R_",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"U_",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.pu}},{key:"G_",get:function(){return!0}},{key:"lt",get:function(){return this.bU}},{key:"H_",get:function(){return this.TU}},{key:"Z_",get:function(){}},{key:"eg",get:function(){return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"og",get:function(){return!1},set:function(t){}},{key:"cg",get:function(){return!0}},{key:"fg",get:function(){return!0}},{key:"gg",get:function(){return 0},set:function(t){}},{key:"pg",get:function(){return BD.oU().ks()}},{key:"yg",get:function(){return CD.yB},set:function(t){}},{key:"Sg",get:function(){return ak.BT}},{key:"Ig",get:function(){return BD.oU().ks()}},{key:"Eg",get:function(){return!1}},{key:"nt",get:function(){return this.SU}},{key:"Cg",get:function(){return 0}},{key:"rt",get:function(){return this.MU}},{key:"Rg",get:function(){return 0}},{key:"zg",get:function(){return 1},set:function(t){}},{key:"Qg",get:function(){return this.bz}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"K_",get:function(){return!1}}]),n}(Ho);function WD(t){if(t&&Un(t))return Xu({},t,{integration:XD(t.integration),fairplay:$D(t.fairplay),widevine:ZD(t.widevine),playready:HD(t.playready),clearkey:tI(t.clearkey),aes128:nI(t.aes128),integrationParameters:iI(t.integrationParameters),preferredKeySystems:rI(t.preferredKeySystems)})}function XD(t){if(Yn(t))return t}function ZD(t){if(t&&Un(t))return{persistentState:KD(t.persistentState),distinctiveIdentifier:KD(t.distinctiveIdentifier),audioRobustness:JD(t.audioRobustness),videoRobustness:JD(t.videoRobustness),licenseAcquisitionURL:Yn(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:qD(t.licenseType),headers:t.headers,useCredentials:!!Gn(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Yn(t.certificate)||bc(t.certificate)?t.certificate:void 0}}function HD(t){if(t){var n=ZD(t);if(n)return Xu({},n,{customData:Yn(t.customData)?t.customData:void 0})}}function KD(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function JD(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function qD(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function $D(t){if(t){var n=ZD(t);if(n)return Xu({},n,{certificateURL:Yn(t.certificateURL)?t.certificateURL:void 0})}}function tI(t){if(t){var n=ZD(t);if(n){var i=Bn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!Un(t))return;var n=t.id,i=t.value;if(!Yn(n)||!Yn(i))return;return{id:n,value:i}}(t)})).filter(zn):void 0;return Xu({},n,{keys:i})}}}function nI(t){if(Un(t))return{useCredentials:Gn(t.useCredentials)?t.useCredentials:void 0}}function iI(t){if(Un(t))return t}function rI(t){return t&&Bn(t)?t.map((function(t){return cM(t)})).filter(zn):[vs,cs,ys]}wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C();var eI=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return kt(n,t),n}(Jo);wt(),C(),wt(),C(),Mt();var uI,sI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).IU=[],r.EU=function(t){Uo((function(){r.Ds(t)}))},r.kU=i?r.EU:r.Ds,r}kt(n,t);var i=n.prototype;return i.Qa=function(t){t.T_(this.kU),this.IU.push(t)},i.DU=function(t){t.E_(this.kU),ao(this.IU,t)},i.gn=function(){this.Vo();for(var t=0,n=this.IU;t<n.length;t++){n[t].E_(this.kU)}lo(this.IU)},n}(Ho);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(uI||(uI={}));var oI,aI=function(t){function n(n){var i;return(i=t.call(this)||this).CU="inline",i.LU="inline",i.xU=!1,i.jU=!1,i.OU="inline",i.RU="inline",i.Xa=void 0,i.zU=function(){return i.wi()},i.BU=function(){return i.PU()},i.dU=n,i.dU.yn(RD.ra,i.zU),i.dU.yn(RD.ha,i.BU),i.Yr(),i}kt(n,t);var i=n.prototype;return i.fa=function(){return function(t){var n,i={get currentMode(){return t.qo()},requestMode:function(n){var i=hI(n);i&&t.Zo(i)},supportsMode:function(n){var i=hI(n);return!!i&&t.Go(i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return(n=new sI(i,!0)).Qa(t),i}(this)},i.Zo=function(t){this.Xo(t,t)},i.Xo=function(t,n){this.LU!==n&&(this.xU=!0,this.CU=t,this.Jo(n,this.LU),"fullscreen"!==t&&(this.OU=t),this.xU=!1,this.Yr())},i.qo=function(){return this.jU?"fullscreen":"inline"},i.Go=function(t){switch(t){case"fullscreen":return this.dU.ta;case"inline":return!0}return!1},i.Yr=function(){if(!this.xU){var t=this.LU,n=this.qo();this.LU=n,"fullscreen"!==n&&(this.RU=n),t!==n&&this.Co(new eI(n))}},i.Jo=function(t,n){var i="fullscreen"===t;this.jU=i,i!==this.dU.cs&&(i?this.dU.mo():this.dU.So())},i.wi=function(){if(!this.xU){var t=this.dU.cs;this.jU=t,t?this.Xo("fullscreen","fullscreen"):t||"fullscreen"!==this.CU?this.Yr():this.Xo(this.OU,this.RU)}},i.PU=function(){this.wi(),this.Co(new uT(new Fv(Qv.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.gn=function(){this.dU.gn(),this.Vo()},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(Ho),cI={bt:void 0,U_:0,ct:NaN,G_:!1,lt:void 0,H_:void 0,og:!1,fg:!0,gg:1,Sg:ak.BT,Eg:!1,Cg:0,Rg:0,zg:1};function hI(t){switch(t){case uI.INLINE:case uI.FULLSCREEN:case uI.PICTURE_IN_PICTURE:return t;default:return}}wt(),C(),mt(),function(t){t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads"}(oI||(oI={}));var fI,vI,dI,lI,gI,wI=function(){function t(){this.QU=[]}var n=t.prototype;return n.FU=function(t){var n=this.QU.filter((function(n){return n.YU(t)}));if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.GU=function(t){this.QU.push(t)},At(t,[{key:"UU",get:function(){return this.QU}}]),t}();wI.lL=new wI,wt(),C(),Wt(),Mt(),wt(),C(),wt(),C(),Mt(),wt(),C(),mt(),Mt(),function(t){t.Sm="PLAYING",t.VU="PAUSED",t.WU="SEEK",t.HU="STALLED",t.XU="FAILED",t.ZU="INITIAL_BUFFERING",t.qU="NO_ACCESS"}(fI||(fI={})),function(t){t.KU="HTTP_REQUEST_STATUS_CODE_1XX",t.JU="HTTP_REQUEST_STATUS_CODE_2XX",t.$U="HTTP_REQUEST_STATUS_CODE_3XX",t.tQ="HTTP_REQUEST_STATUS_CODE_4XX",t.iQ="HTTP_REQUEST_STATUS_CODE_5XX",t.eQ="BUFFER_LENGTH",t.sQ="BYTES_RECEIVED",t.nQ="SEGMENT_READ_BITRATE",t.rQ="SEGMENT_PROFILE_BITRATE",t.oQ="VIDEO_PROFILE_BITRATE",t.hQ="NUMBER_OF_FRAMES_DROPPED",t.aQ="PLAYBACK_POSITION",t.uQ="NUMBER_OF_FRAMES_DECODED",t.cQ="PLAYBACK_DELTA_TO_ORIGIN",t.lQ="STREAM_DELTA_TO_ORIGIN",t.dQ="ORIGIN_TIMESTAMP"}(vI||(vI={})),function(t){t.fQ="MANIFEST_URI",t._Q="ASSET_DURATION",t.gQ="NUMBER_OF_CONTENT_PROFILES",t.wQ="CDN",t.vQ="CONTENT_TITLE",t.mQ="SERVICE_NAME",t.pQ="CONTENT_TYPE",t.AQ="CONTENT_DESCRIPTION"}(dI||(dI={})),function(t){t.yQ="shutdown_normal_shutdown"}(lI||(lI={})),function(t){t.MQ="session/",t.bQ="content/",t.TQ="internalError/",t.SQ="drmError/",t.NQ="caError/",t.IQ="networkError/"}(gI||(gI={}));var yI,AI=function(){function t(t,n){this.category=t,this.statusCode=n}return At(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}();!function(t){t.DQ="userAction",t.EQ="endOfStreamReached"}(yI||(yI={}));var mI,pI=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n}(Xo);wt(),C(),Mt(),wt(),C(),function(t){t.PAUSE="kQ",t.RESUME="LQ"}(mI||(mI={}));var _I=function(t){function n(){return t.call(this,"xQ")}return kt(n,t),n}(Jo),kI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Qo=n,r.RQ=i,r.OQ=!1,r.zQ=function(){r.jQ(),r.OQ=!1},r.BQ=function(){r.OQ=!0},r.RQ.yn(mI.PAUSE,r.zQ),r.RQ.yn(mI.RESUME,r.BQ),r}kt(n,t);var i=n.prototype;return i.CQ=function(){this.OQ=!0},i.jQ=function(){},i.gn=function(){this.OQ=!1,this.RQ.fn(mI.PAUSE,this.zQ),this.RQ.fn(mI.RESUME,this.BQ)},i.UQ=function(){return isFinite(this.Qo.Td())},n}(Xo),MI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ZQ=!1,n.sF=!1,n.nF=!1,n.YQ=function(){n.sF&&!n.nF&&n.JQ(fI.HU)},n.VQ=function(){n.Qo.fg||(n.sF||n.iF(new AI(gI.bQ,"firstFrameDisplayed"),"now"),n.sF=!0,n.JQ(fI.Sm))},n.GQ=function(){n.Qo.fg&&(n.sF=!0,n.JQ(fI.VU))},n.WQ=function(){n.ZQ&&(n.nF=!0,n.ZQ=!1,n.JQ(fI.WU))},n.HQ=function(){n.nF=!1,n.Qo.fg&&n.JQ(fI.VU)},n}kt(n,t);var i=n.prototype;return i.CQ=function(){t.prototype.CQ.call(this),this.QQ()},i.gn=function(){this.FQ(),t.prototype.gn.call(this)},i.QQ=function(){this.Qo.yn(uk.Tm,this.YQ),this.Qo.yn(dd.Sh,this.GQ),this.Qo.yn(uk.Sm,this.VQ),this.Qo.yn(dd.im,this.WQ),this.Qo.yn(dd.$v,this.HQ)},i.FQ=function(){this.Qo.fn(uk.Tm,this.YQ),this.Qo.fn(dd.Sh,this.GQ),this.Qo.fn(uk.Sm,this.VQ),this.Qo.fn(dd.im,this.WQ),this.Qo.fn(dd.$v,this.HQ)},i.XQ=function(){this.ZQ=!0},i.qQ=function(){var t=this.Qo.W_(),n=new AI(gI.TQ,String(t.code));this.KQ(fI.XU,n,t.message)},i.JQ=function(t){this.OQ&&(this.RQ.$Q(t),this.Co(new _I))},i.KQ=function(t,n,i){this.RQ.tF(t,n,i),this.Co(new _I)},i.iF=function(t,n){this.RQ.eF(t,n)},n}(kI);wt(),C(),Mt();var bI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uF=function(){n.UQ()&&n.dF(dI._Q,g.round(n.Qo.Td()))},n.aF=function(t){"manifest"===t.request.type&&n.dF(dI.fQ,t.url)},n.rF=function(){var t=ro(n.Qo.rt.Rw,(function(t){return t.Rt}));t&&n.dF(dI.gQ,t.qw.U)},n}kt(n,t);var i=n.prototype;return i.CQ=function(){t.prototype.CQ.call(this),this.rF(),this.QQ()},i.gn=function(){this.FQ(),t.prototype.gn.call(this)},i.QQ=function(){this.Qo.rt.yn(cA.ra,this.rF),this.Qo.hF.oF(this.aF),this.Qo.yn(dd.Lv,this.uF)},i.FQ=function(){this.Qo.rt.fn(cA.ra,this.rF),this.Qo.hF.cF(this.aF),this.Qo.fn(dd.Lv,this.uF)},i.lF=function(t){t.serviceName&&this.dF(dI.mQ,t.serviceName),t.cdn&&this.dF(dI.wQ,t.cdn),t.contentTitle&&this.dF(dI.vQ,t.contentTitle),t.contentType&&this.dF(dI.pQ,t.contentType),t.contentDescription&&this.dF(dI.AQ,t.contentDescription)},i.dF=function(t,n){this.OQ&&this.RQ.fF(t,n)},n}(kI);wt(),C(),Mt();var TI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NF=Hu(),n.bF=0,n._F=0,n.gF=0,n.wF=[],n.vF=function(){n.IF(),n.DF(),n.LF()},n.AF=function(t){t.$D===zA.VA&&(n.MF(t.KT),n.EF(),n.kF(t.CF),n.mF())},n.pF=function(t){var i=t.status.toString()[0],r=n.NF.get(i)||0;n.NF.set(i,r+1),n.SF(vI.KU,"1"),n.SF(vI.JU,"2"),n.SF(vI.$U,"3"),n.SF(vI.tQ,"4"),n.SF(vI.iQ,"5")},n}kt(n,t);var i=n.prototype;return i.CQ=function(){t.prototype.CQ.call(this),this._F=this.Qo.eg.HT,this.gF=this.Qo.eg.ZT,this.QQ(),this.wF.push(h(this.vF,1e3))},i.jQ=function(){t.prototype.jQ.call(this),this.mF()},i.gn=function(){this.mF(),this.FQ(),this.wF.forEach(f),lo(this.wF),t.prototype.gn.call(this)},i.QQ=function(){this.Qo.hF.oF(this.pF),this.Qo.yn(dd.lm,this.AF)},i.FQ=function(){this.Qo.hF.cF(this.pF),this.Qo.fn(dd.lm,this.AF)},i.yF=function(){this.mF()},i.MF=function(t){this.bF+=t,this.TF(vI.sQ,this.bF)},i.SF=function(t,n){var i=this.NF.get(n)||0;this.TF(t,i)},i.IF=function(){var t=this.Qo.eg.HT-this._F;this.TF(vI.hQ,t)},i.DF=function(){var t=this.Qo.eg.ZT-this.gF;this.TF(vI.uQ,t)},i.EF=function(){var t=cT.lL.OP();this.TF(vI.nQ,Lc(t))},i.kF=function(t){this.TF(vI.rQ,Lc(t)),this.TF(vI.oQ,Lc(t))},i.mF=function(){if(this.UQ()){var t=g.round(Hi(this.Qo.Q_()));this.TF(vI.aQ,t)}},i.LF=function(){var t=BD.xn(this.Qo.j_()),n=this.Qo.Q_(),i=t.Jm(n),r=i?Hi(i.jn(0)-n):0;this.TF(vI.eQ,r)},i.TF=function(t,n){this.OQ&&this.RQ.xF(t,n)},n}(kI);wt(),C();var NI;function DI(t){return t&&t.integration===zI}function II(t){if(!Yn(t.asset))throw new d("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!Yn(t)&&("live"===t||"vod"===t)}(t.streamType))throw new d("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!Yn(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new d("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!Yn(t.cdn))throw new d("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!Yn(t.contentTitle))throw new d("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!Yn(t.contentType))throw new d("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!Yn(t.contentDescription))throw new d("Agama source configuration: expected 'contentDescription' to be a string");return t}function EI(t){if(!Yn(t.config))throw new d("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!Yn(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new d("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!Yn(t.application))throw new d("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!Yn(t.applicationVersion))throw new d("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!Yn(t.userAccountID))throw new d("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!Yn(t.deviceID))throw new d("Agama player configuration: expected 'deviceID' to be a string");return t}function SI(){var t="00000000-0000-0000-0000-000000000000",n=e.navigator,i=e.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var u=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return g.abs(i).toString().substring(0,12)}(r+=g.floor(1e3*g.random()));return t=[t.slice(0,t.length-u.length),u].join("")}function LI(t,n,i){var r=n,e=function(t,n){return QN(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}wt(),C(),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(NI||(NI={}));var CI,jI,xI,OI=function(){function t(t,n,i){var r=this;this.Qo=t,this.RQ=n,this.do=function(){r.iY(),r.HF()},this.iY=function(){var t=r.Qo.Wa(),n=t&&t.analytics;r.eY=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(DI(i))return II(i)}}(n)},this.HF=function(){r.PF(),r.Qo.fn(dd.jh,r.WF),!r.VF()&&r.RQ.sY()&&r.Qo.bt&&r.eY&&(r.XF(),r.Qo.fg||r.Qo.G_?r.Qo.yn(dd.jh,r.WF):r.WF())},this.WF=function(){r.Qo.bt&&r.eY&&(r.RQ.nY(r.Qo.bt,r.eY),r.CQ(),r.lF(r.eY),r.FF(),r.Qo.yn(f_.ha,r.zF),r.Qo.fn(dd.jh,r.WF))},this.GF=function(){r.VF()&&r.PF()},this.zF=function(){r.tY(),r.PF()},this.JF=function(){r.qF&&r.qF.yF()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(DI(i))return EI(i)}}(i.analytics);e&&this.RQ.rY()&&(this.RQ.Wg(e),this.RQ.sY()?(this.RQ.oY(),this.Qo.yn(dd.lo,this.do),this.Qo.yn(dd.Ov,this.HF)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.PF=function(){this.Qo.fn(f_.ha,this.zF),this.BF(),this.UF(),this.RQ.QF()},n.FF=function(){this.Qo.YF.va.chromecast&&this.Qo.YF.va.chromecast.addEventListener("statechange",this.GF)},n.UF=function(){this.Qo.YF.va.chromecast&&this.Qo.YF.va.chromecast.removeEventListener("statechange",this.GF)},n.VF=function(){return void 0!==this.Qo.YF.va.chromecast&&this.Qo.YF.va.chromecast.state===NI.CONNECTED},n.gn=function(){this.Qo.fn(dd.lo,this.do),this.Qo.fn(dd.jh,this.WF),this.Qo.fn(dd.Ov,this.HF),this.PF(),this.RQ.gn()},n.XF=function(){this.ZF||(this.ZF=new MI(this.Qo,this.RQ)),this.qF||(this.qF=new TI(this.Qo,this.RQ)),this.KF||(this.KF=new bI(this.Qo,this.RQ))},n.CQ=function(){this.ZF&&(this.ZF.CQ(),this.ZF.yn("xQ",this.JF)),this.qF&&this.qF.CQ(),this.KF&&this.KF.CQ()},n.BF=function(){this.ZF&&(this.ZF.fn("xQ",this.JF),this.ZF.gn(),this.ZF=void 0),this.qF&&(this.qF.gn(),this.qF=void 0),this.KF&&(this.KF.gn(),this.KF=void 0)},n.lF=function(t){this.KF&&this.KF.lF(t)},n.tY=function(){this.ZF&&this.ZF.qQ()},n.XQ=function(){this.ZF&&this.ZF.XQ()},t}(),zI="agama";function RI(t){switch(t){case"":return CI.NONE;case"horizontal":return CI.HORIZONTAL;case"vertical":return CI.VERTICAL;default:throw new d}}function BI(t,n){if(n)return jI.PM360;if(null==t)return jI.NONE;switch(t){case"":return jI.NONE;case"360":return jI.PM360;case"180":return jI.PM180;default:throw new d("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}wt(),C(),wt(),C(),function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(CI||(CI={})),wt(),C(),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(jI||(jI={})),wt(),C(),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(xI||(xI={})),wt(),C();var PI="https://content.uplynk.com";function UI(t){if(!t)return!0;var n=!function(t){return KN(t)||Pn(t)&&KN(t[0])}(t.sources)||JN(t.sources),i=!t.ads||function(t){return!t||Bn(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function QI(t){if(t&&t.sources)return YI(t.sources)}function YI(t){return Yn(t)?BN(t):ZN(t)?t.type||t.src&&BN(t.src):Pn(t)&&t.length>0?YI(t[0]):void 0}function GI(t){if(t&&t.sources)return FI(t.sources)}function FI(t){return Yn(t)?t:ZN(t)?t.src:Pn(t)&&t.length>0?FI(t[0]):void 0}function VI(t,n,i){return GN(t)?function(t,n,i){var r=Xu({},qN(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:IN.VERIZON_MEDIA,id:"",prefix:PI,preplayParameters:{},playbackUrlParameters:{},assetType:xI.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(Yn(t))return t;if(Pn(t)&&Yn(t[0]))return t;if(function(t){return Un(t)&&Yn(t.userId)&&(Pn(t.externalId)||Yn(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return xI.CHANNEL;case"event":return xI.EVENT;default:return xI.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=_A(t.contentProtected));t.assetInfo?r.assetInfo=_A(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=TA(t.prefix)||PI);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!Gn(n.adImpressions)&&n.adImpressions,r=!!Gn(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=Gn(n.linearAdData)?n.linearAdData:t!==xI.ASSET):t!==xI.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=XI(r,t),r=HI(r,n,i),r=ZI(r,t,i),r}(t,n,i):VN(t)?function(t,n,i){var r;return Xu({},WI(t,n,i),{integration:IN.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):FN(t)?function(t,n,i){return Xu({},WI(t,n,i),{integration:IN.THEOLIVE})}(t,n,i):WN(t)?function(t,n,i){return Xu({},WI(t,n,i),{type:hN.Ip,streamName:t.streamName,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken})}(t,n,i):WI(t,n,i)}function WI(t,n,i){var r=$N(),e=n&&(n.contentProtection||n.drm);if(Yn(t)){if(r.src=t,r.type=BN(t),e){var u=WD(e);r.contentProtection=AN(u)}}else if(ZN(t)||YN(t)||WN(t)){r.src=t.src,r.type=t.type||BN(t.src),r.isAdvertisement=t.isAdvertisement;var s=HN(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),VN(t)&&(r.integration=t.integration);var o=WD(t.contentProtection||t.drm||e);r.contentProtection=AN(o),t.ssai&&(r.ssai=wN(t.ssai)),r=XI(r,t)}return r=ZI(r=HI(r,n,i),t,i)}function XI(t,n){var i,r;n.useCredentials?t.crossOrigin=cN.Ap:n.crossOrigin&&(t.crossOrigin=PN(n.crossOrigin)),Yn(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=_A(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=_A(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=_A(n.useManagedMediaSource)),n.dash&&(t.dash=mN(n.dash)),n.hls&&(t.hls=pN(n.hls)),n.lcevc&&(t.lcevc=_A(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=rD(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=jN(n.latencyConfiguration)),t.seamlessSwitchStrategy=xN(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=kA(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=kA(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function ZI(t,n,i){return t.abr=MN(Yn(n)?void 0:kN(n.abr),null==i?void 0:i.abr),t}function HI(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!zn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!zn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===cN.mp&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=cN.pp),t.useCredentials=t.crossOrigin===cN.Ap,Yn(e)&&!t.timeServer&&(t.timeServer=e),t}function KI(t){var n={src:""};if(t&&t.src){if(n.src=TA(t.src),"default"in t&&(n.default=_A(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return O_(n)?n:n?"metadata":"subtitles"}(t.kind),vm(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function JI(t,n){if(Un(t))try{return n.FU(t).hY(t)}catch(t){return}}function qI(t,n,i){if(void 0===i&&(i=wI.lL),UI(t))return{sources:[$N()]};var r=wA(t);if(r.sources=function(t,n,i){if(KN(t))return[VI(t,n,i)];if(Pn(t)&&KN(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(VI(u,n,i))}return r}return[$N()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Pn(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=JI(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!JN(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Pn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=KI(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=TA(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:BI(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?RI(n.stereoMode):CI.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=nD(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==zI&&r.push(e)},r=wA(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=yD(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=MA(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}wt(),C(),wt(),C(),wt(),C();var $I=function(){function t(t){this.aY=t}return t.prototype.uY=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.aY.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.aY.indexOf(t.charAt(n))<<18|this.aY.indexOf(t.charAt(n+1))<<12|(u=this.aY.indexOf(t.charAt(n+2)))<<6|(s=this.aY.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.cY=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.aY.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.aY.charAt(r)+this.aY.charAt(e)+this.aY.charAt(u)+this.aY.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.lh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.lY=new t(function(t){return t.uY("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.lh)),t}();function tE(t){return"string"==typeof t}function nE(t){return"number"==typeof t}wt(),C(),wt(),C(),wt(),C();var iE={}.toString;var rE,eE=Array.isArray||function(t){return"[object Array]"===iE.call(t)};function uE(t,n){return eE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(rE||(rE={}));var sE,oE=l.keys(rE).map((function(t){return rE[t]}));function aE(t){return-1!==oE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(sE||(sE={}));var cE,hE=l.keys(sE).map((function(t){return sE[t]}));function fE(t){return-1!==hE.indexOf(t)}function vE(t){try{var n=$I.lY.uY(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"==typeof t&&null!==t}(t),e=tE(t.key),u=tE(t.customer_id),s=nE(t.generation_date),o=nE(t.expiration_date),a=uE(t.domains_page,tE),c=uE(t.domains_source,tE),h=uE(t.sdks,n?aE:tE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=uE(t.features,n?fE:tE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function dE(){return cE||(cE={zu:ru.href,dY:iu.parent&&iu.parent!==e,fY:wE()}),cE}var lE,gE=["http:","https:","ftp:","ws:","wss:"];function wE(){var t;try{if(null==iu?void 0:iu.top)return iu.top.location.href}catch(t){}return null==iu||null==(t=iu.document)?void 0:t.referrer}!function(t){t[t._Y=0]="_Y",t[t.gY=1]="gY",t[t.wY=2]="wY"}(lE||(lE={}));var yE,AE=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.vY=t,this.mY=n,this.pY=i,this.AY=r,this.yY=e,this.MY=u,this.bY=s,this.TY=o,this.SY=a};!function(t){t.gY="expired",t.NY="invaliddomain",t.IY="invalidsource",t.DY="invalidfeature",t.ha="error"}(yE||(yE={}));var mE=function(){function t(t,n,i){this.GY=t,this.XY=n,this.Dx=i,this.QY=IE(this.Dx)}var n=t.prototype;return n.EY=function(t,n){var i=[];KN(t.sources)?i=[t.sources]:Pn(t.sources)&&(i=t.sources),this.kY(t,i,n),this.LY(i,n)},n.kY=function(t,n,i){var r=this;if(!UI(t)&&0!==i.pY.length&&!TE(i.pY)&&!n.every((function(t){return r.xY(t,i)}))){var e="invalidsource",u=SE.CY(e);throw new Fv(_E(e),u)}},n.LY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];ZN(r)&&HN(r)&&!r.bypassLicense&&this.OY([sE.HESP],n)}},n.jY=function(n){return this.RY(n.TY)&&this.PY(n)?t.zY(n.AY)?0:1:2},n.OY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!fo(n.yY,r)){var e="invalidfeature",u=SE.BY(e,r);throw new Fv(_E(e),u)}}},n.RY=function(t){var n=this;return 0===t.length||t.some((function(t){return n.UY(t)}))},n.UY=function(t){return"web"===function(t){switch(t){case rE.ANDROID:return an.wE;case rE.ANDROIDTV:case rE.FIRETV:return an.vE;case rE.IOS:return an.mE;case rE.TVOS:return an.pE;case rE.CHROMECAST:case rE.CHROMECASTCAF:return an.AE;case rE.THEOLIVEWEB:return an.yE;default:return an.gE}}(t)},n.PY=function(t){return!(this.QY&&0!==t.mY.length&&!TE(t.mY))||!!(this.QY&&this.FY(t.mY)&&this.YY(t.mY))},n.FY=function(t){return NE(this.Dx.zu,t)},n.YY=function(t){if(!this.Dx.dY)return!0;if(this.GY)return!0;var n=this.VY();return!!n&&NE(n,t)},n.VY=function(){if(this.Dx.dY){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Dx.fY?this.Dx.fY:void 0}},n.xY=function(n,i){return!!t.WY(n,i.pY)},t.zY=function(t){var n=Number(new Date);return!!t&&n<=t},t.WY=function(t,n){return NE(this.HY(t),n)},t.HY=function(t){return Yn(t)?t:ZN(t)&&t.src||""},t}(),pE=function(){function t(){}var n=t.prototype;return n.jY=function(t){return 0},n.EY=function(t,n){},n.OY=function(t,n){},t}();function _E(t){switch(t){case"invaliddomain":return Qv.LICENSE_INVALID_DOMAIN;case"invalidsource":return Qv.LICENSE_INVALID_SOURCE;case"expired":return Qv.LICENSE_EXPIRED;case"invalidfeature":return Qv.LICENSE_INVALID_FEATURE;case"error":return Qv.LICENSE_ERROR}}var kE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",ME=$n((function(){var t="\\.",n="(\\*|"+kE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function bE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Ls(r,"ip-range(")){var e="\\.",u=r.match(ME()),s=function(t){return"*"===t?"("+kE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function TE(t){return t.some((function(t){return"*"===t}))}function NE(t,n){var i=on.Dh(t);if(!DE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(bE(i.hostname,e))return!0;if(bE(oy(t),e))return!0}return!1}function DE(t){return-1!==gE.indexOf(t.protocol)}function IE(t){var n=on.Dh(t.zu);return DE(n)&&!function(t){return bE(t.hostname,"localhost")}(n)&&!function(t){return bE(t.hostname,"theoplayer.doubleclick.net")}(n)}var EE,SE=function(){function t(){}return t.BY=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.CY=function(t){return"invaliddomain"===t?this.ZY:"invalidsource"===t?this.qY:"expired"===t?this.KY:"invalidfeature"===t?this.JY:this.$Y},t}();function LE(t){var n=[t.Kb,t.tG,t.iG];switch(t.tG){case 1:n.push(t.yv);break;case 4:n.push(t.U_),n.push(t.lt);break;case 5:n.push(t.lt)}return n}SE.$Y="The license for this player is invalid.",SE.KY="The usage license for this video player has expired.",SE.ZY="The current domain is incompatible with the license for this player.",SE.qY="The provided video source is incompatible with the license for this player.",SE.JY="The requested feature is not available with the license for this player.",wt(),C(),Ot(),mt(),Pt(),wt(),C(),function(t){t[t.eG=1]="eG",t[t.sG=4]="sG",t[t.nG=5]="nG",t[t.rG=9]="rG"}(EE||(EE={})),wt(),C();var CE,jE=new Array(256);for(CE=0;CE<256;CE+=1)jE[CE]=(CE<16?"0":"")+CE.toString(16);function xE(){var t=Xi(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,r=(4294967296*g.random()|0)+t&1130486254,e=(4294967296*g.random()|0)+t&1284287105;return jE[255&n]+jE[n>>>8&255]+jE[n>>>16&255]+jE[n>>>24&255]+"-"+jE[255&i]+jE[i>>>8&255]+"-"+jE[i>>>16&15|64]+jE[i>>>24&255]+"-"+jE[63&r|128]+jE[r>>>8&255]+"-"+jE[r>>>16&255]+jE[r>>>24&255]+jE[255&e]+jE[e>>>8&255]+jE[e>>>16&255]+jE[e>>>24&255]}function OE(t){return Sc(t.replace(/-/g,""))}function zE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*g.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function RE(){return on.m_()}wt(),C(),wt(),C(),wt(),C();var BE,PE="theoplayer-session-id";function UE(){if(!BE){var t=cd.IL(PE);t?BE=t:(BE=xE(),cd.EP(PE,BE))}return BE}wt(),C(),wt(),C();var QE=/[^\x00-\x7E]/g;function YE(t){return"\\u"+zs(t.charCodeAt(0).toString(16),4,"0")}var GE="https://license.theoplayer.com";function FE(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(QE,YE)}(t,(function(t,i){if(Un(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.oG,t.tO,t.vY,t.Gy,t.hG,t.aG,t.uG.map(LE)]}(t));return $I.lY.cY(n)}var VE=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=$I.lh),void 0===e&&(e=0),void 0===u&&(u=1),this.kC=t,this.aE=n,this._G=i,this.mG=r,this.AG=e,this.SG=u,this.hd=[],this.lG=null,this.DG=0,this.TG="unknown",this.oC=0,this.CG=function(){RE()-s.DG>6e4&&s.MG()},this.kG=function(){s.MG(!0)},nu.OG(this.kG),this.xG=h(this.CG,6e4)}var n=t.prototype;return n.cG=function(){return Boolean(this.hG)},n.dG=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:return r.sent().SY?(i={tG:EE.eG,iG:Xi(),yv:t},[4,n.iF(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.gG=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t._G.fG()];case 1:return i.sent().SY?(n={tG:EE.rG,iG:Xi()},[4,t.iF(n)]):[2];case 2:return i.sent(),[2]}}))}))()},n.wG=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return r={tG:EE.sG,iG:Xi(),U_:n,lt:t},[4,i.iF(r)];case 1:return e.sent(),[2]}}))}))()},n.vG=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return i={tG:EE.nG,iG:Xi(),lt:t},[4,n.iF(i)];case 1:return r.sent(),[2]}}))}))()},n.iF=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.mG.cY(i.vY)&&t.tG!==EE.nG?[2]:(t.tG===EE.eG?n.pG():n.cG()||n.pG(),t.Kb=n.oC++,n.hd.push(t),function(t){return t===EE.eG||t===EE.nG}(t.tG)?[4,n.MG()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.hd.length>n.AG?[4,n.yG()]:[3,5];case 5:return[2]}}))}))()},n.MG=function(t){void 0===t&&(t=!1);var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.hd.length>0?[4,n.yG(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.bG=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:return i=r.sent(),[2,{oG:Xi(),tO:UE(),vY:n.mG.cY(i.vY)||"dev",Gy:n.kC,hG:n.lG,aG:n.TG,uG:t}]}}))}))()},n.yG=function(t){void 0===t&&(t=!1);var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return i=n.hd.splice(0,n.SG),[4,n.bG(i)];case 1:return r=e.sent(),t?n.NG(r):n.IG(r),n.DG=RE(),[2]}}))}))()},n.IG=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=FE(t),r=new qw({zu:GE,HD:i,tE:!1,qD:ld.Ru,XD:{"Content-Type":FM.ZR},_D:4e3,ZD:Ww.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.aE.uD(r)];case 2:return[4,e.sent().GR()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.NG=function(t){var n=FE(t);this.aE.NG({zu:GE,HD:n,Nz:FM.ZR})},n.pG=function(){this.cG()&&this.MG(),this.lG=xE(),this.oC=0},n.gn=function(){nu.EG(this.kG),f(this.xG),this.MG()},At(t,[{key:"uG",get:function(){return this.hd}},{key:"hG",get:function(){return this.lG}}]),t}();wt(),C(),mt(),Ct(),wt(),C(),Ct(),wt(),C();var WE=0;var XE=c,ZE=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,HE=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;ZE&&HE||(ZE=function(t){var n=RE(),i=g.max(0,16-(n-WE)),r=a((function(){return t(n+i)}),i);return WE=n+i,r},HE=XE),ZE=ZE.bind(self),HE=HE.bind(self);var KE=jn.Ik||jn.Ga&&jn.Uk<13;function JE(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var qE,$E=function(){function t(t){var n=this;this.QG=void 0,this.Xa=void 0,this.qG=void 0,this.VG=Ku(),this.YG=1,this.ZG=!0,this.JG=function(){n.ZG=!0},this.KG=function(){n.QG=n.t.Vg(),n.VG.forEach((function(t,i){t.HG(),t.HG=n.GG(t.WG,i)}))},this.t=t,this.t.yn(dd.zv,this.KG),this.t.yn(dd.$v,this.JG),this.KG()}var n=t.prototype;return n.jG=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.QG;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(Lt(i))),!0)},n.zG=function(t,n,i,r,e,u){var s=this.QG;return void 0!==s&&(KE&&(s=this.FG(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.BG=function(t){var n=this.YG++,i=this.GG(t,n);return this.VG.set(n,{WG:t,HG:i}),n},n.UG=function(t){var n=this.VG.get(t);void 0!==n&&(this.VG.delete(t),n.HG())},n.GG=function(t,n){var i=this,r=this.QG;if(void 0===r)return Hn;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.VG.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.XG()?(i.VG.delete(n),i.ZG=!1,t(r,void 0)):u=ZE(s)};return u=ZE(s),function(){return HE(u)}},n.XG=function(){return(!this.t.fg||this.ZG)&&!this.t.Eg&&this.t.Sg>=ak.UT},n.FG=function(t){var n=this.qG;void 0===n&&(n=u.createElement("canvas"),this.qG=n);var i=n.getContext("2d"),r=this.t,e=r.Rg,s=r.Cg,o=n.width,a=n.height;i.clearRect(0,0,n.width,n.height),o===e&&a===s||(n.width=e,n.height=s),i.drawImage(t,0,0,e,s);var c=!1;return e>0&&JE(i,e-1,0)&&(n.width=o,c=!0),s>0&&JE(i,0,s-1)&&(n.height=a,c=!0),c&&i.drawImage(t,0,0,e,s),n},n.gn=function(){this.VG.forEach((function(t){return t.HG()})),this.VG.clear(),this.t.fn(dd.zv,this.KG),this.t.fn(dd.$v,this.JG),this.QG=void 0,this.qG=void 0},At(t,[{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).jG.apply(u,[n].concat(Lt(r)))},texImage2D:function(n,i,r,e,u,s){return t.zG(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.BG(n)},cancelVideoFrameCallback:function(n){return t.UG(n)}}}(this)}}]),t}();wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),mt(),Mt(),function(t){t.pn="dimensionchange"}(qE||(qE={}));var tS=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),At(n,[{key:"_u",get:function(){return 0}},{key:"ku",get:function(){return 0}}]),n}(Xo),nS=function(t){function n(n,i){var r;return(r=t.call(this,qE.pn)||this).width=n,r.height=i,r}return kt(n,t),n}(Jo);wt(),C(),mt(),Mt(),wt(),C();var iS,rS=function(t,n){this.we=t,this.WG=n},eS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$G=0,r.tV=0,r.eV=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.tV=n.width,r.$G=n.height,r.WG(r.tV,r.$G)}},r.iV=new iu.ResizeObserver(r.eV),r.iV.observe(r.we),r}return kt(n,t),n.prototype.gn=function(){this.iV.disconnect()},At(n,[{key:"_u",get:function(){return this.$G}},{key:"ku",get:function(){return this.tV}}]),n}(rS);wt(),C(),mt(),Mt(),wt(),C();var uS=["Webkit","Moz","O","ms"],sS=function(){var t=!1;try{if(void 0!==iu&&"function"==typeof iu.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});iu.addEventListener("testPassiveEventSupport",Hn,n),iu.removeEventListener("testPassiveEventSupport",Hn,n)}}catch(t){}return t}(),oS=Hu();function aS(t){return oS.has(t)||oS.set(t,function(t){var n=(iS||(iS=iu&&iu.document&&iu.document.createElement("span")),iS);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<uS.length;r++){var e=uS[r]+i;if(void 0!==n.style[e])return e}return t}(t)),oS.get(t)}function cS(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function hS(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[aS("transition")]="0s"}var fS=function(t){function n(n,i,r){var s;(s=t.call(this,n,i)||this).sV=0,s.tV=NaN,s.$G=NaN,s.uV=void 0,s.tr=function(){var t=1e5;s.cV.style.width=t+"px",s.cV.style.height=t+"px",s.nV.scrollLeft=t,s.nV.scrollTop=t,s.oV.scrollLeft=t,s.oV.scrollTop=t,0===s.oV.scrollTop&&ZE(s.tr)},s.lV=function(){var t=s.ku,n=s._u;s.WG(t,n),s.tV=t,s.$G=n,s.tr(),s.sV=0},s.rV=function(){if(!s.sV){var t=s.ku,n=s._u;t===s.tV&&n===s.$G||(s.sV=ZE(s.lV))}},s.aV=function(){s.uV||(s.uV=a(s.dV,66))},s.dV=function(){s.uV=void 0,s.fV()},s.fV=function(){s.rV()};var o=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==o||(n.style.position="relative");var c=u.createElement("div");return s.hV=c,s.nV=u.createElement("div"),s.cV=u.createElement("div"),s.oV=u.createElement("div"),s._V=u.createElement("div"),cS(s.nV),cS(s.oV),hS(s.cV),function(t){hS(t),t.style.width="200%",t.style.height="200%"}(s._V),c.appendChild(s.nV),c.appendChild(s.oV),s.nV.appendChild(s.cV),s.oV.appendChild(s._V),n.appendChild(c),s.nV.addEventListener("scroll",s.rV),s.oV.addEventListener("scroll",s.rV),e&&e.addEventListener("resize",s.aV),s.rV(),s}return kt(n,t),n.prototype.gn=function(){HE(this.sV),this.sV=0,this.nV.removeEventListener("scroll",this.rV),this.oV.removeEventListener("scroll",this.rV),au(this.hV),e&&e.removeEventListener("resize",this.aV)},At(n,[{key:"_u",get:function(){return this.we.getBoundingClientRect().height||this.$G||0}},{key:"ku",get:function(){return this.we.getBoundingClientRect().width||this.tV||0}}]),n}(rS),vS=function(t){function n(n){var i;return(i=t.call(this)||this).iV=void 0,i.eV=function(t,n){i.Co(new nS(t,n))},i.we=n,i}kt(n,t);var i=n.prototype;return i.bn=function(t){this.iV||("function"==typeof iu.ResizeObserver?this.iV=new eS(this.we,this.eV):this.iV=new fS(this.we,this.eV,t))},i.gn=function(){this.Vo(),this.iV&&(this.iV.gn(),this.iV=void 0)},At(n,[{key:"_u",get:function(){return this.iV?this.iV._u:0}},{key:"ku",get:function(){return this.iV?this.iV.ku:0}}]),n}(Xo);wt(),C(),mt(),Mt(),wt(),C(),Mt();var dS=function(t){function n(){return t.call(this,RD.ra)}return kt(n,t),n}(Jo);wt(),C();var lS=function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{gV:i[0],wV:i[1],vV:i[2],mV:i[3],Qe:i[4],pV:i[5]}}}();wt(),C(),Mt();var gS=function(t){function n(){return t.call(this,RD.ca)}return kt(n,t),n}(Jo),wS=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.AV=function(){return r.zU()},r.yV=function(){return r.BU()},r.we=i,r.ta=n.ia(i),u.addEventListener(lS.Qe,r.AV),r.zU(),r}kt(n,t);var i=n.prototype;return i.mo=function(){var t=this.we[lS.gV]();t&&t.then?t.then(this.AV,this.yV):(u.removeEventListener(lS.pV,this.yV),u.addEventListener(lS.pV,this.yV))},i.So=function(){var t=u[lS.wV]();t&&t.then?t.then(this.AV,this.yV):(u.removeEventListener(lS.pV,this.yV),u.addEventListener(lS.pV,this.yV))},i.zU=function(){var t=this.cs,n=this.we===u[lS.vV];this.cs=n,t!==n&&this.Co(new dS)},i.BU=function(){this.Co(new UD)},i.gn=function(){this.Vo(),u.removeEventListener(lS.Qe,this.AV),u.removeEventListener(lS.pV,this.yV)},n.ia=function(t){return Boolean(lS&&u[lS.mV]&&lS.gV in t)},n}(Xo),yS=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.AV=function(){return r.zU()},r.we=i,r.ta=n.ia(i),r.we.addEventListener("webkitbeginfullscreen",r.AV),r.we.addEventListener("webkitendfullscreen",r.AV),r.we.addEventListener("webkitpresentationmodechanged",r.AV),r.zU(),r}kt(n,t);var i=n.prototype;return i.mo=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?jn.Ga?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.So=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.zU=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this.Co(new dS)},i.gn=function(){this.Vo(),this.we.removeEventListener("webkitbeginfullscreen",this.AV),this.we.removeEventListener("webkitendfullscreen",this.AV),this.we.removeEventListener("webkitpresentationmodechanged",this.AV)},n.ia=function(t){return jn.Ga&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(Xo),AS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bV=[],n.MV=void 0,n.jU=!1,n.zU=function(){var t=n.jU,i=n.DV();t!==i&&(n.jU=i,n.Co(new dS))},n}kt(n,t);var i=n.prototype;return i.mo=function(){this.MV?this.MV.mo():this.Co(new UD)},i.So=function(){for(var t=0,n=this.bV;t<n.length;t++){var i=n[t];i.cs&&i.So()}},i.TV=function(t){this.MV=t},i.SV=function(t){this.bV.push(t),t.yn(RD.ra,this.zU),t.yn(RD.ha,this.Ds),this.zU()},i.NV=function(t){ao(this.bV,t),t.fn(RD.ra,this.zU),t.fn(RD.ha,this.Ds)},i.DV=function(){for(var t=0,n=this.bV;t<n.length;t++){if(n[t].cs)return!0}return!1},i.tr=function(){this.MV=void 0,this.jU=!1;for(var t=this.bV.slice(),n=0;n<t.length;n++){var i=t[n];this.NV(i),i.gn()}this.zU()},i.gn=function(){this.Vo(),this.tr()},At(n,[{key:"ta",get:function(){return!!this.MV&&this.MV.ta}},{key:"cs",get:function(){return this.jU}}]),n}(Xo),mS=function(t){function n(n,i){var r;return(r=t.call(this)||this).oa=!1,r.CV=function(){return r.Yn()},r.zU=function(t){r.oa||r.Co(t)},r.t=n,r.EV=i,r.kV=new QD,r.LV(),r.t.yn(dd.Rv,r.CV),r.Yn(),r}kt(n,t);var i=n.prototype;return i.mo=function(){this.EV&&this.kV.mo()},i.So=function(){this.kV.So()},i.LV=function(){this.kV.yn([RD.ra,RD.ca],this.zU),this.kV.yn(RD.ha,this.Ds)},i.xV=function(){this.kV.fn([RD.ra,RD.ca],this.zU),this.kV.fn(RD.ha,this.Ds)},i.Yn=function(){var t=this.kV,n=this.t.Gg();if(t!==n){this.oa=!0;var i=this.cs,r=this.ta;i&&this.So(),this.xV(),this.kV=n,this.LV(),i&&!this.cs&&this.ta?this.mo():this.So(),this.oa=!1,r!==this.ta&&this.Co(new gS),i!==this.cs&&this.Co(new dS)}},i.gn=function(){this.Vo(),this.xV(),this.t.fn(dd.Rv,this.CV)},At(n,[{key:"ta",get:function(){return!!this.EV&&this.kV.ta}},{key:"cs",get:function(){return this.kV.cs}}]),n}(Xo);function pS(t){var n;return{get url(){return t.zu},get method(){return t.ZD},get headers(){return n||(n=t.XD.ED()),n},get body(){return t.HD},get useCredentials(){return t.tE},get type(){return t.Av},get subType(){return t.JD},get mediaType(){return t.$D},get responseType(){return t.qD}}}function _S(t){switch(t.toLowerCase()){case"arraybuffer":return ld.SD;case"json":return ld.ND;case"stream":return ld.DD;default:return ld.Ru}}function kS(t){switch(t.toUpperCase()){case"POST":return Ww.POST;case"PUT":return Ww.PUT;case"DELETE":return Ww.DELETE;case"HEAD":return Ww.HEAD;case"OPTIONS":return Ww.OPTIONS;default:return Ww.GET}}function MS(t){switch(t.toLowerCase()){case"manifest":return Xw.xD;case"segment":return Xw.CD;case"preload-hint":return Xw.OD;case"content-protection":return Xw.jD;default:return Xw.jT}}function bS(t){switch(t.toLowerCase()){case"initialization-segment":return Zw.RD;case"fairplay-license":return Zw.PD;case"fairplay-certificate":return Zw.zD;case"widevine-license":return Zw.BD;case"widevine-certificate":return Zw.UD;case"playready-license":return Zw.QD;case"clearkey-license":return Zw.FD;case"aes128-key":return Zw.YD;default:return Zw.jT}}function TS(t){switch(t.toLowerCase()){case"audio":return Hw.WA;case"video":return Hw.VA;case"text":return Hw.Ru;case"image":return Hw.OT;default:return Hw.jT}}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),Ot(),mt(),Pt();var NS=function(){function t(t,n){this.EH=t,this.NH=n,this._H=new Cc,this.MH=[],this.Xa=void 0,this.vH=!1,this.dD=void 0,this.AH=0}var n=t.prototype;return n.xy=function(){this.vH=!0,this._H.LL(null)},n.yH=function(){this._H.xL(new kw(this.MH))},n.bH=function(t){if(!this.mH)throw new d("Cannot respond more than once");if(!Un(t))throw new d("Expected valid response");this.dD=this.TH(t),this.xy()},n.SH=function(){try{var t=this.NH(this.va);t?this.IH(t):this.pH||this.wH||this.xy()}catch(t){this.MH.push(t),this.yH()}},n.IH=function(t){if(this.wH)throw new v("Request has been redirected or a response already exists");if(Fn(t))this.DH(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Cc;try{var i=t((function(t){t?n.xL(t):n.LL(void 0)}));Fn(i)&&n.w_(i)}catch(t){n.xL(t)}this.DH(n.OL)}},n.DH=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.AH++,[4,t];case 1:return r.sent(),n.AH--,n.pH||n.wH||(n.MH.length?n.yH():n.xy()),[3,3];case 2:return i=r.sent(),n.AH--,n.MH.push(i),n.pH||n.wH||n.yH(),[3,3];case 3:return[2]}}))}))()},At(t,[{key:"fH",get:function(){return this._H.OL}},{key:"va",get:function(){return this.Xa||(this.Xa=this.gH()),this.Xa}},{key:"wH",get:function(){return this.vH}},{key:"mH",get:function(){return!this.vH}},{key:"pH",get:function(){return this.AH>0}},{key:"lD",get:function(){return this.dD}}]),t}(),DS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).kH=r,e.SH(),e}kt(n,t);var i=n.prototype;return i.gH=function(){return function(t){var n,i=pS(t.uD);return{get closed(){return!t.mH},get request(){return i},get url(){return t.zu},get status(){return t.fD},get statusText(){return t.NR},get headers(){return n||(n=t.XD.ED()),n},get body(){return t.HD},respondWith:function(n){return t.bH(n)},waitUntil:function(n){return t.IH(n)}}}(this)},i.TH=function(t){return n.LH(t,this.EH,this.kH)},n.LH=function(t,n,i){var r=void 0===t.body?i:t.body;return new Jw({ly:r,uD:n.uD,qD:n.uD.qD,XD:t.headers,fD:t.status,NR:t.statusText,cE:t.url,nH:!0},n)},At(n,[{key:"HD",get:function(){return this.kH}},{key:"XD",get:function(){return this.EH.XD}},{key:"uD",get:function(){return this.EH.uD}},{key:"lD",get:function(){return this.dD}},{key:"fD",get:function(){return this.EH.fD}},{key:"NR",get:function(){return this.EH.NR}},{key:"zu",get:function(){return this.EH.cE}}]),n}(NS);wt(),C(),mt(),Mt();var IS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).OH=void 0,e.xH=r,e.SH(),e}kt(n,t);var i=n.prototype;return i.gH=function(){return function(t){var n;return{get url(){return t.zu},get method(){return t.ZD},get headers(){return n||(n=t.XD.ED()),n},get body(){return t.HD},get closed(){return!t.mH},get useCredentials(){return t.tE},get type(){return t.Av},get subType(){return t.JD},get mediaType(){return t.$D},get responseType(){return t.qD},redirect:function(n){return t.jH(n)},respondWith:function(n){return t.bH(n)},waitUntil:function(n){return t.IH(n)}}}(this)},i.TH=function(t){var n=this.EH.HD,i=new Jw({ly:n,XD:{},uD:this.EH,cE:this.EH.zu,qD:this.EH.qD,fD:200,NR:"OK"});return DS.LH(t,i,n)},i.jH=function(t){if(!this.mH)throw new d("Cannot redirect, already redirected or has a response");var n;n=Yn(t)?{url:t}:t,this.OH=function(t,n){return new qw({zu:void 0===t.url?n.zu:t.url,ZD:void 0!==t.method?kS(t.method):void 0,XD:t.headers,HD:t.body,tE:t.useCredentials,Av:void 0!==t.type?MS(t.type):void 0,JD:void 0!==t.subType?bS(t.subType):void 0,$D:void 0!==t.mediaType?TS(t.mediaType):void 0,qD:void 0!==t.responseType?_S(t.responseType):void 0},n)}(n,this.EH),this.xy()},At(n,[{key:"HD",get:function(){return this.EH.HD}},{key:"mH",get:function(){return this.xH&&!this.vH}},{key:"XD",get:function(){return this.EH.XD}},{key:"ZD",get:function(){return this.EH.ZD}},{key:"CH",get:function(){return this.OH}},{key:"lD",get:function(){return this.dD}},{key:"qD",get:function(){return this.EH.qD}},{key:"_D",get:function(){return this.EH._D}},{key:"KD",get:function(){return this.EH.KD}},{key:"f_",get:function(){return this.EH.f_}},{key:"Av",get:function(){return this.EH.Av}},{key:"JD",get:function(){return this.EH.JD}},{key:"$D",get:function(){return this.EH.$D}},{key:"zu",get:function(){return this.EH.zu}},{key:"tE",get:function(){return this.EH.tE}},{key:"eE",get:function(){return this.EH.eE}},{key:"iE",get:function(){return this.EH.iE}},{key:"_v",get:function(){return this.EH._v}},{key:"sE",get:function(){return this.EH.sE}}]),n}(NS);var ES=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new SS(n);return(r=t.call(this,e,i)||this).PH=e,r}kt(n,t);var i=n.prototype;return i.RH=function(t){this.PH.RH(t)},i.zH=function(t){this.PH.zH(t)},i.BH=function(t){this.PH.BH(t)},i.oF=function(t){this.PH.oF(t)},i.cF=function(t){this.PH.cF(t)},n}(ty),SS=function(){function t(t){this.YH=[],this.GH=[],this.aH=t}var n=t.prototype;return n.uD=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.UH(t,t.f_)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof cy?[4,n.QH(r,t.f_)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.FH(i,t.f_)];case 6:if(Vw(i=e.sent()))return[2,i];throw new fy(i)}}))}))()},n.NG=function(t){return this.aH.NG(t)},n.UH=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:jo(n),r=t,u=0,s=i.YH.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],jo(n),(a=new IS(r,o,!e)).wH)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.fH];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.CH&&!e?r=a.CH:a.lD&&!e&&(e=a.lD),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.aH.uD(r)]}}))}))()},n.QH=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return t instanceof fy?r=t.lD:(e=t.uD,r=new Jw({ly:null,uD:e,qD:e.qD,fD:0,NR:""})),[4,i.FH(r,n)];case 1:if((u=s.sent())===r)throw t;if(Vw(u))return[2,u];throw new fy(u)}}))}))()},n.FH=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.GH.slice(),c.label=1;case 1:return e<u.length?(s=u[e],jo(n),[4,K.resolve(r.$A().ly(n))]):[3,8];case 2:if(o=c.sent(),(a=new DS(r,s,o)).wH)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.fH];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.lD||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.RH=function(t){this.YH.unshift(t)},n.zH=function(t){this.YH.push(t)},n.BH=function(t){ao(this.YH,t)},n.oF=function(t){this.GH.unshift(t)},n.cF=function(t){ao(this.GH,t)},n.gn=function(){this.aH.gn(),lo(this.YH),lo(this.GH)},t}();wt(),C(),mt(),Mt();var LS,CS=function(){function t(t){this.aE=t}var n=t.prototype;return n.RH=function(t){this.aE.RH(t)},n.BH=function(t){this.aE.BH(t)},n.oF=function(t){this.aE.oF(t)},n.cF=function(t){this.aE.cF(t)},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{addRequestInterceptor:function(n){t.RH(n)},removeRequestInterceptor:function(n){t.BH(n)},addResponseInterceptor:function(n){t.oF(n)},removeResponseInterceptor:function(n){t.cF(n)}}}(this)),this.Xa}}]),t}(),jS=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).KH=n,e.aE=i,e.wU=r,e.JH=function(t){e.Co(t)},e.$H=function(t){e.Co(t)},e.KH.yn(dd.Xv,e.JH),e.KH.yn(dd.Hv,e.$H),e}kt(n,t);var i=n.prototype;return i.WH=function(t){this.wU.WH(t)},i.RH=function(t){this.aE.RH(t)},i.BH=function(t){this.aE.BH(t)},i.oF=function(t){this.aE.oF(t)},i.cF=function(t){this.aE.cF(t)},i.gn=function(){this.Vo(),this.KH.fn(dd.Xv,this.JH),this.KH.fn(dd.Hv,this.$H)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get online(){return t.cg},get estimator(){return function(t){return{get bandwidth(){return t.GP},get roundTripTime(){return t.VP}}}(t.VH)},setEstimator:function(n){t.WH(function(t){if(!t)return;return{get GP(){return bA(t.bandwidth)},get VP(){return bA(t.roundTripTime)},WP:function(n){return function(t){if(!t)return;return{HH:function(n){t.markRequestStart(n)},XH:function(n){t.markResponseStart(n)},ZH:function(n,i){t.markResponseData(n,i)},qH:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(pS(n)))}}}(n))},addRequestInterceptor:function(n){t.RH(n)},removeRequestInterceptor:function(n){t.BH(n)},addResponseInterceptor:function(n){t.oF(n)},removeResponseInterceptor:function(n){t.cF(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)),this.Xa}},{key:"cg",get:function(){return this.KH.cg}},{key:"VH",get:function(){return this.wU.VH}}]),n}(Xo);wt(),C(),Wt(),mt(),Mt(),wt(),C(),wt(),C(),function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(LS||(LS={})),wt(),C();function xS(t,n,i,r,e,u){var s=[],o=t-g.max(u,1),a=t+e;if(n&&i){var c=Bi(i,1,5),h=n-c;o=g.min(o,h);var f=n+i+c;a=g.max(a,f)}return 0!==o&&r.ZB(0,o)&&s.push([0,o]),r.ZB(a,1/0)&&s.push([a,1/0]),s}function OS(t){return t instanceof v&&"QuotaExceededError"===t.name}wt(),C();var zS={type:LS.BANDWIDTH};function RS(t){var n=wA(zS);return Yn(t)?n.type=BS(t):Un(t)&&function(t){switch(t){case LS.PERFORMANCE:case LS.QUALITY:case LS.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=BS(t.type)),Un(t)&&Un(t.metadata)&&(n.metadata=function(t){var n={},i=MA(t.bitrate);return A(i)||(n.bitrate=i),n}(t.metadata)),n}function BS(t){switch(t){case"bandwidth":return LS.BANDWIDTH;case"performance":return LS.PERFORMANCE;case"quality":return LS.QUALITY}}wt(),C(),Mt();var PS=function(t){function n(n){var i;return(i=t.call(this,"tX")||this).iX=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var US=function(t){function n(n){var i;return(i=t.call(this,"eX")||this).sX=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var QS=function(t){function n(n){var i;return(i=t.call(this,"nX")||this).rX=n,i}return kt(n,t),n}(Jo),YS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.sX)},set strategy(n){t.sX=RS(n)},get targetBuffer(){return t.iX},set targetBuffer(n){var i=MA(n);A(i)||(t.iX=i)},get bufferLookbackWindow(){return t.rX},set bufferLookbackWindow(n){var i=MA(n);A(i)||(t.rX=i<=0?30:i)},get maxBufferLength(){return t._X},get clearBufferWhenSettingTargetQuality(){return t.vX},set clearBufferWhenSettingTargetQuality(n){t.vX=_A(n)}}}(Vt(n)),n.uX=zS,n.cX=20,n.fX=30,n.dX=1/0,n.mX=!1,n.gX=void 0,n}kt(n,t);var i=n.prototype;return i.oX=function(t){this.hX=t},i.WH=function(t){this.gX=t},i.wX=function(t){var n=g.min(t,.8*this.dX);if(n=g.max(10,n),this.dX===n)return!1;var i=this.lX;this.dX=n;var r=this.lX;return r!==i&&this.Co(new PS(r)),!0},At(n,[{key:"aX",get:function(){switch(this.uX.type){case LS.PERFORMANCE:return 0;case LS.QUALITY:return 1/0;case LS.BANDWIDTH:return this.uX.metadata&&void 0!==this.uX.metadata.bitrate?this.uX.metadata.bitrate:cT.lL.OP();default:return cT.lL.OP()}}},{key:"va",get:function(){return this.Xa}},{key:"sX",get:function(){return this.uX},set:function(t){this.uX=t,this.Co(new US(t))}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t,this.Co(new PS(t))}},{key:"lX",get:function(){return g.min(this.cX,this.dX)}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t,this.Co(new QS(t))}},{key:"_X",get:function(){return this.dX}},{key:"VH",get:function(){var t;return null!=(t=this.gX)?t:this.hX.Tz}},{key:"vX",get:function(){return this.mX},set:function(t){this.mX=t}}]),n}(Xo);wt(),C(),mt(),Mt(),wt(),C(),Mt();var GS=function(t){function n(){return t.call(this,"Sw")}return kt(n,t),n.prototype.fa=function(){return new FS},n}(iA),FS=function(t){function n(){return t.call(this,"change")}return kt(n,t),n}(Jo);wt(),C(),wt(),C(),Mt();var VS=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).AX=function(t){rA(t)&&Uo((function(){e.Co(t.va)}))},e.pX=n,e.hd=i;for(var u=0,s=e.hd;u<s.length;u++){var o=s[u];e.pX.yn(o,e.AX)}return e}return kt(n,t),n.prototype.gn=function(){this.Vo();for(var t=0,n=this.hd;t<n.length;t++){var i=n[t];this.pX.fn(i,this.AX)}},n}(Xo),WS=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).AX=function(t){rA(t)&&Uo((function(){r.Co(t.va)}))},r.pX=n,r.pX.T_(r.AX),r}return kt(n,t),n.prototype.gn=function(){this.Vo(),this.pX.E_(this.AX)},n}(Ho);var XS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xS=0,n.RS=1/0,n}kt(n,t);var i=n.prototype;return i.tr=function(){0===this.xS&&this.RS===1/0||(this.xS=0,this.RS=1/0,this.Co(new GS))},i.yX=function(){return new BD([this.MS,this.bS],[!0,!0])},At(n,[{key:"MS",get:function(){return this.xS},set:function(t){if(this.bS<=t)throw new v("Start time of a clip should be smaller than the end time.");this.xS!==t&&(this.xS=t,this.Co(new GS))}},{key:"bS",get:function(){return this.RS},set:function(t){if(t<=this.MS)throw new v("End time of a clip should be larger than the start time.");this.RS!==t&&(this.RS=t,this.Co(new GS))}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get startTime(){return t.MS},set startTime(n){t.MS=n},get endTime(){return t.bS},set endTime(n){t.bS=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new WS(t,i),i}(this)),this.Xa}}]),n}(Ho);wt(),C(),Ot(),mt(),Mt(),Pt();var ZS=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).TX=!1,e.xX=void 0,e.CX=!1,e.IX=function(){e.NX(),e.bX()},e.wc=function(){e.DX(),e.bX(),e.LX&&e.U_>=e.MX.bS-n.OX&&!e.G_&&(e.xX=ZE(e.wc))},e.EX=function(){e.CX=!0},e.kX=function(){e.CX&&(e.CX=!1,e.bX())},e.MX=r,e.MX.yn("Sw",e.IX),e.x_.yn(dd.fm,e.wc),e}kt(n,t);var i=n.prototype;return i.F_=function(n,i){var r=this.MX.yX().zB(n);t.prototype.F_.call(this,r,i),this.bX()},i.V_=function(){return t.prototype.V_.call(this)||this.TX},i.Dg=function(){return BD.xn(t.prototype.Dg.call(this)).Sn(this.MX.yX()).ks()},i.Xg=function(){this.V_()?this.F_(this.SX.start(0)):this.NX(),t.prototype.Xg.call(this),this.bX()},i.ga=function(n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return jo(i),r.TX=!1,r.MX.tr(),[4,t.prototype.ga.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.gn=function(){return this.MX.fn("Sw",this.IX),this.x_.fn(dd.fm,this.wc),this.DX(),t.prototype.gn.call(this)},i.nw=function(n){switch(n.type){case dd.im:return this.Co(n),this.EX(),!0;case dd.$v:case dd.xv:return this.Co(n),this.kX(),!0;case dd.Ov:if(this.LX)return!0}return t.prototype.nw.call(this,n)},i.DX=function(){this.xX&&(HE(this.xX),this.xX=void 0)},i.bX=function(){var t=this.U_,i=this.LX&&t>=this.MX.bS-n.Zl;this.TX&&!i?(this.TX=!1,this.fg&&this.Xg()):this.TX||!i||this.Eg||this.CX||(this.TX=!0,this.Co(new cD(t)),this.Hg())},i.NX=function(){if(this.ct!==1/0){var t=this.SX,i=BD.xn(t).zB(this.U_);Pi(this.U_,i,n.Zl)||this.F_(i)}},At(n,[{key:"SX",get:function(){return this.Dg().length?this.Dg():this.MX.yX().ks()}},{key:"LX",get:function(){return this.MX.bS<this.ct}}]),n}(RT);ZS.OX=1,ZS.Zl=.001,wt(),C(),mt();var HS=function(){function t(){this.RX=!1}return At(t,[{key:"jX",get:function(){return this.RX},set:function(t){this.RX=t}}]),t}();wt(),C(),Mt();var KS=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).zX=!1,r.PX=!1,r.RX=i,r}kt(n,t);var i=n.prototype;return i.V_=function(){return!this.RX.jX&&t.prototype.V_.call(this)},i.Hg=function(){this.PX=!0,t.prototype.Hg.call(this)},i.Xg=function(){this.PX=!1,t.prototype.Xg.call(this)},i.nw=function(n){if(this.RX.jX)switch(n.type){case dd.Ov:return this.U_=0,this.PX||(this.Eg?this.zX=!0:this.Xg()),!0;case dd.$v:this.zX&&(this.zX=!1,this.Xg());break;case dd.Sh:if(this.zX||t.prototype.V_.call(this))return!0}return t.prototype.nw.call(this,n)},n}(RT);wt(),C(),mt(),wt(),C();var JS=function(){function t(t){this.Qo=t,this.Xa=function(t){return{get currentBandwidthEstimate(){return t.qT},get corruptedVideoFrames(){return t.XT},get droppedVideoFrames(){return t.HT},get totalVideoFrames(){return t.ZT},get totalBytesLoaded(){return t.KT},get bufferedSegments(){return t.JT}}}(this)}return At(t,[{key:"va",get:function(){return this.Xa}},{key:"XT",get:function(){return this.Qo.eg.XT}},{key:"qT",get:function(){return this.Qo.eg.qT}},{key:"HT",get:function(){return this.Qo.eg.HT}},{key:"BX",get:function(){throw new v("Not implemented")}},{key:"UX",get:function(){throw new v("Not implemented")}},{key:"KT",get:function(){return this.Qo.eg.KT}},{key:"ZT",get:function(){return this.Qo.eg.ZT}},{key:"JT",get:function(){return this.Qo.eg.JT}}]),t}();function qS(t){if(!t||!_u(t))return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{HT:n.droppedVideoFrames,XT:n.corruptedVideoFrames||0,ZT:n.totalVideoFrames}}return{HT:t.webkitDroppedFrameCount||0,XT:0,ZT:t.webkitDecodedFrameCount||0}}wt(),C(),mt(),Mt(),wt(),C(),Mt();var $S=function(t){function n(){return t.call(this,"QX")}return kt(n,t),n.prototype.fa=function(){return new tL},n}(iA),tL=function(t){function n(){return t.call(this,"castingchange")}return kt(n,t),n}(Jo);wt(),C();var nL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).YX=void 0,n.GX=void 0,n.JX=!1,n.Xa=void 0,n.qX=function(){var t=n.JX,i=n.FX;t!==i&&(n.JX=i,n.Co(new $S))},n}kt(n,t);var i=n.prototype;return i.HX=function(t){this.YX=t,this.XX(t)},i.ZX=function(t){this.GX=t,this.XX(t)},i.XX=function(t){t.yn("statechange",this.qX)},i.KX=function(t){t.fn("statechange",this.qX)},i.gn=function(){this.Vo(),this.YX&&(this.KX(this.YX),this.YX=void 0),this.GX&&(this.KX(this.GX),this.GX=void 0)},At(n,[{key:"FX",get:function(){var t,n;return(null==(t=this.YX)?void 0:t.FX)||(null==(n=this.GX)?void 0:n.FX)||!1}},{key:"VX",get:function(){return this.YX}},{key:"WX",get:function(){return this.GX}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get casting(){return t.FX},get airplay(){var n;return null==(n=t.VX)?void 0:n.va},get chromecast(){var n;return null==(n=t.WX)?void 0:n.va},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new VS(t,["QX"],i),i}(this)),this.Xa}}]),n}(Xo);wt(),C(),Ot(),Pt(),wt(),C(),Ot(),Pt();var iL=function(){function t(){}return t.$X=function(t,n){return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new qw({zu:t,qD:ld.Ru,ZD:Ww.GET}),[4,n.uD(i)];case 1:return[4,r.sent().ly()];case 2:return[2,r.sent().trim()];case 3:return Co(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.tZ=function(t){try{var n=vE(t);return new AE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Fv(Qv.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.iZ=function(t){void 0===t&&(t=$I.lh),on.vp("The baked-in license is used. Please update the configuration with your license.");var n=t.uY("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.uY(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.uY(n)})),e=Number(new Date(Number(t.uY('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.uY(n)}));return new AE(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new AE(t.vY,t.mY,t.pY,864e13,t.yY,t.MY,Date.now(),t.TY,t.SY)},t}(),rL="https://validate.theoplayer.com/1/",eL=72e5,uL=g.floor(14399999*g.random()-eL),sL="THEOplayer.license",oL=function(){function t(t,n,i,r,e,u){this.aE=t,this.uZ=n,this._Z=i,this._G=r,this.oZ=e,this.Dx=u,this.QY=IE(u)}var n=t.prototype;return n.nZ=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.rZ(t.oZ.license,t.oZ.licenseUrl)];case 1:return n=i.sent(),t._G.hZ(n),[2]}}))}))()},n.rZ=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:return r=n,t?e=iL.tZ(t):r||(e=iL.iZ()),r||(r=rL+e.vY),u=i.aZ(),e?(s=i.uZ.jY(e))!==lE._Y?[3,3]:i.cZ(e.AY)&&i.cZ(null==u?void 0:u.AY)?[4,i.lZ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.uZ.jY(u)!==lE._Y?[3,6]:i.cZ(null==u?void 0:u.AY)?[4,i.lZ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:jT.kL(sL),f.label=7;case 7:return[4,iL.$X(r,i.aE)];case 8:if(c=f.sent()){if(h=iL.tZ(c),i.uZ.jY(h)===lE._Y)return jT.EP(sL,c),[2,h];jT.kL(sL)}else if(!i.QY&&e&&s===lE.gY&&r===rL+e.vY)return[2,iL.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new Fv(Qv.LICENSE_ERROR,"The given license is invalid!");return i.dZ(null!=e?e:h,new Fv(Qv.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.EY=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return[4,n._G.fG()];case 1:return i=c.sent(),n.cZ(i.AY)?(e=null!=(r=n.oZ.licenseUrl)?r:rL+i.vY,[4,n.lZ(e)]):[3,3];case 2:(u=c.sent())&&(n._G.hZ(u),i=u),c.label=3;case 3:try{if((s=n.uZ.jY(i))===lE.wY)throw o=yE.NY,new Fv(_E(o),SE.CY(o));if(s===lE.gY)throw a=yE.gY,new Fv(_E(a),SE.CY(a));n.uZ.EY(t,i)}catch(t){n.fZ(t)}return[2]}}))}))()},n.OY=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n._G.fG()];case 1:i=r.sent();try{n.uZ.OY(t,i)}catch(t){n.fZ(t)}return[2]}}))}))()},n.lZ=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,iL.$X(t,n.aE)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=iL.tZ(i),n.uZ.jY(r)===lE._Y?(jT.EP(sL,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.cZ=function(t){return!t||Number(new Date)+2592e5+uL>=t},n.aZ=function(){var t=jT.IL(sL);if(t)return iL.tZ(t)},n.dZ=function(t,n){this._G.hZ(t),this.fZ(n)},n.fZ=function(t){throw oi(t.message),this._Z.vG(t.message),t},t}();wt(),C(),Ot(),mt(),Pt();var aL=function(){function t(){this.wZ=new Cc}var n=t.prototype;return n.hZ=function(t){this.gZ=t,this.wZ.LL()},n.fG=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.gZ?[2,K.resolve(t.gZ)]:[4,t.wZ.OL];case 1:return n.sent(),[2,t.gZ]}}))}))()},At(t,[{key:"vZ",get:function(){return this.gZ}}]),t}();wt(),C(),mt(),Mt(),wt(),C(),Mt();var cL=function(t){function n(){return t.call(this,"Sw")}return kt(n,t),n.prototype.fa=function(){return new hL},n}(iA),hL=function(t){function n(){return t.call(this,"change")}return kt(n,t),n}(Jo);function fL(t){var n,i={get fontFamily(){return t.mZ},set fontFamily(n){t.mZ=n},get fontColor(){return t.pZ},set fontColor(n){t.pZ=n},get fontSize(){return t.AZ},set fontSize(n){t.AZ=n},get backgroundColor(){return t.yZ},set backgroundColor(n){t.yZ=n},get windowColor(){return t.MZ},set windowColor(n){t.MZ=n},get edgeStyle(){return t.bZ},set edgeStyle(n){t.bZ=n},get marginTop(){return t.TZ},set marginTop(n){t.TZ=n},get marginBottom(){return t.SZ},set marginBottom(n){t.SZ=n},get marginLeft(){return t.NZ},set marginLeft(n){t.NZ=n},get marginRight(){return t.IZ},set marginRight(n){t.IZ=n},addEventListener:function(t,i){var r=DA(t,TA);n.yn(r,i)},removeEventListener:function(t,i){var r=DA(t,TA);n.fn(r,i)}};return n=new Zo(i),t.yn(["Sw"],(function(t){return n.Co(t.va)})),i}wt(),C();var vL={mZ:void 0,pZ:void 0,AZ:void 0,yZ:void 0,MZ:void 0,bZ:void 0,DZ:void 0,TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},dL="THEOplayer.textTrackStyle.",lL=function(t){function n(){var i;return(i=t.call(this)||this).Xa=void 0,i.kZ=n.xZ(),i}return kt(n,t),n.prototype.Yn=function(t){this.kZ=Xu({},this.kZ,t),n.LZ(this.kZ),this.Co(new cL)},n.xZ=function(){var t=Xu({},vL);return t.mZ=jT.IL(dL+"fontFamily")||t.mZ,t.pZ=jT.IL(dL+"fontColor")||t.pZ,t.AZ=jT.IL(dL+"fontSize")||t.AZ,t.yZ=jT.IL(dL+"backgroundColor")||t.yZ,t.MZ=jT.IL(dL+"windowColor")||t.MZ,t.bZ=jT.IL(dL+"edgeStyle")||t.bZ,t},n.LZ=function(t){jT.EP(dL+"fontFamily",t.mZ||""),jT.EP(dL+"fontColor",t.pZ||""),jT.EP(dL+"fontSize",t.AZ||""),jT.EP(dL+"backgroundColor",t.yZ||""),jT.EP(dL+"windowColor",t.MZ||""),jT.EP(dL+"edgeStyle",t.bZ||"")},At(n,[{key:"EZ",get:function(){return this.kZ}},{key:"mZ",get:function(){return this.kZ.mZ},set:function(t){this.Yn({mZ:t})}},{key:"pZ",get:function(){return this.kZ.pZ},set:function(t){this.Yn({pZ:t})}},{key:"AZ",get:function(){return this.kZ.AZ},set:function(t){this.Yn({AZ:t})}},{key:"yZ",get:function(){return this.kZ.yZ},set:function(t){this.Yn({yZ:t})}},{key:"MZ",get:function(){return this.kZ.MZ},set:function(t){this.Yn({MZ:t})}},{key:"bZ",get:function(){return this.kZ.bZ},set:function(t){this.Yn({bZ:t})}},{key:"DZ",get:function(){return this.kZ.DZ}},{key:"TZ",get:function(){return this.kZ.TZ},set:function(t){this.Yn({TZ:t})}},{key:"SZ",get:function(){return this.kZ.SZ},set:function(t){this.Yn({SZ:t})}},{key:"IZ",get:function(){return this.kZ.IZ},set:function(t){this.Yn({IZ:t})}},{key:"NZ",get:function(){return this.kZ.NZ},set:function(t){this.Yn({NZ:t})}},{key:"va",get:function(){return this.Xa||(this.Xa=fL(this)),this.Xa}}]),n}(Xo);function gL(t,n){var i,r;t.style.marginLeft=(null!=(i=n.NZ)?i:0)+"px",t.style.marginRight=(null!=(r=n.IZ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}wt(),C(),Ot(),mt(),Ct(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),Ht(),wt(),C();var wL,yL=[dd.jh,dd.Sh,uk.Sm,dd.fm,dd.Zv,dd.Gv,dd.im,dd.$v,dd.Ov,dd.qv,dd._m,dd.Lv,uk.Nw,dd.Jv,f_.ha,Ko.Cv,Ko.bL,dd.Iv,dd.Nv,dd.gm,dd.Uv,dd.Fv,dd.zv,dd.Rv],AL={Wm:!1};function mL(t){return t.wd.Av===ek.Sj}wt(),C(),function(t){t.CZ="OZ"}(wL||(wL={}));var pL,_L=["OZ"];!function(t){t[t.jZ=0]="jZ",t[t.DD=1]="DD",t[t.RZ=2]="RZ"}(pL||(pL={})),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt();var kL,ML=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.EQ="PZ",t.zZ="BZ"}(kL||(kL={}));var bL=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).JZ=!1,u.$Z=new Cc,u.YZ=!1,u.XZ=new qv,u.cO=void 0,u.WZ=function(){u.YZ=!0},u.HZ=function(){u.KZ(!0)},u.GO=n,u.Fm=i,u.lj=i.pz,u.VZ=r,u.SO=e,u.lj.addEventListener("loadedmetadata",u.WZ);for(var s=0;s<ML.length;s++){var o=ML[s];u.lj.addEventListener(o,u.HZ)}return u}kt(n,t);var i=n.prototype;return i.UZ=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,i.SO.TO(t.dL,n)];case 1:return[4,e.sent()._O()];case 2:return r=e.sent(),[4,i.QZ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.FZ=function(t){var n=this,i=this.cO;return i?0!==t.Iz.length&&t.Iz.some((function(t){return t.Qp.dL===i.Qp})):0!==this.GO.Iz.length?t.Iz.some((function(t){return n.GO.Iz.some((function(n){return t.Qp===n.Qp}))})):0===t.Iz.length||!this.YZ},i.GZ=function(t){return this.VZ.GZ(t),this.GO=t,K.resolve()},i.h_=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:for(t.Vo(),t.lj.removeEventListener("loadedmetadata",t.WZ),n=0;n<ML.length;n++)i=ML[n],t.lj.removeEventListener(i,t.HZ);return[4,t.XZ.gn()];case 1:return r.sent(),t.ZZ(),[4,t.VZ.tr()];case 2:return r.sent(),[4,t.qZ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.KZ=function(t){t!==this.JZ&&(this.JZ=t,t?this.$Z.LL(void 0):this.$Z=new Cc)},i.QZ=function(t){var n=this;return this.XZ.JO((function(){return n.qZ(t)}))},i.qZ=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(t&&!n.lj.src&&!n.lj.srcObject)throw new PA(Qv.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.lj.src||n.lj.srcObject))throw new PA(Qv.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.JZ?[3,2]:[4,n.$Z.OL];case 1:r.sent(),r.label=2;case 2:return(i=n.cO)?[4,i.dO(n.lj)]:[3,4];case 3:r.sent(),n.cO=void 0,r.label=4;case 4:return t?[4,t.bn(n.lj)]:[3,6];case 5:r.sent(),n.cO=t,r.label=6;case 6:return[2]}}))}))()},i.ga=function(t){var n=this;return this.XZ.JO((function(){return n.tq(t)}))},i.tq=function(t){this.KZ(!1);var n=this.Fm.gg;if(Yn(t))this.lj.src=t;else if(function(t){if(void 0!==e.ManagedMediaSource&&t instanceof e.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&jn.Ga&&jn.Uk>=17}(this.lj))try{this.lj.srcObject=t}catch(n){this.lj.src=URL.createObjectURL(t)}else this.lj.src=URL.createObjectURL(t);else TL(t)&&(this.lj.srcObject=t);this.Fm.gg=n},i.iq=function(t){var n=this;return this.XZ.JO((function(){return n.nq(t)}))},i.nq=function(t){this.tq(t),this.lj.load()},i.ZZ=function(){this.KZ(!1),ku(this.lj)},i.rq=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.cO?[4,t.cO.tr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},At(n,[{key:"wd",get:function(){return this.GO}},{key:"pz",get:function(){return this.lj}}]),n}(Xo);function TL(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var NL=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.oX=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:switch((n=t.wd).Ez){case cN.pp:case cN.Ap:t.lj.setAttribute("crossorigin",n.Ez);break;case cN.mp:default:t.lj.removeAttribute("crossorigin")}return void 0!==n.yg?t.lj.preload=n.yg:t.lj.preload=CD.YP,void 0!==n.kz?t.lj.title=n.kz:Au(t.lj),n.uq?[4,t.iq(n.uq)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.ga(n.yv)];case 3:i.sent(),i.label=4;case 4:return t.VZ.$n(t,n),[2]}}))}))()},i.FZ=function(t){return!1},i.GZ=function(t){return K.resolve(void 0)},i.cq=function(t){return!1},i.lq=function(){return!TL(this.GO.uq)},i.h_=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return Au(n.lj),[4,t.prototype.h_.call(n)];case 1:return i.sent(),[2]}}))}))()},n.dq=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Nz))},At(n,[{key:"O_",get:function(){return BD.xn(this.lj.buffered)}},{key:"ct",get:function(){return this.lj.duration}},{key:"oq",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.O_;return 0!==n.U&&t-n.jn(n.U-1)<Ki}},{key:"yg",get:function(){return this.lj.preload},set:function(t){this.lj.preload=t}},{key:"Ig",get:function(){return BD.xn(this.lj.seekable)}},{key:"hq",get:function(){return this.O_}},{key:"aq",get:function(){if(_u(this.lj)&&(this.lj.videoWidth>0||this.lj.videoHeight>0))return this.O_}}]),n}(bL);wt(),C(),Mt();var DL=function(t){function n(n){var i;return(i=t.call(this,dd.Zv)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var IL,EL=function(t){function n(){return t.call(this,dd.Gv)}return kt(n,t),n}(Jo);wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt(),function(t){t.fq="_q"}(IL||(IL={}));var SL=function(t){function n(n){var i;return(i=t.call(this,"_q")||this).gq=n,i}return kt(n,t),n}(Jo),LL=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vq=BD.oU(),n}kt(n,t);var i=n.prototype;return i.mq=function(t,n){var i=new BD([t,n]);this.vq=this.vq.YB(i),this.Co(new SL(i))},i.pq=function(t,n){this.vq=this.vq.VB(new BD([t,n]))},i.tr=function(){this.vq=BD.oU()},i.gn=function(){this.Vo()},At(n,[{key:"wq",get:function(){return this.vq}}]),n}(Xo);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C();var CL=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.JV=[],this.$V=0,this.wZ=void 0,this.bq=!1,this.Sq=void 0,this.Nq=function(t){return t.done?(i.Mq(),void i.wZ.close()):(i.JV.push(t.value),i.$V+=i.Dq(t.value),i.bq&&i.Mq(),i.Aq()?i.YV.read().then(i.Nq):void 0)},this.Iq=function(t){i.Mq(),i.wZ.error(t)},this.YV=t.getReader(),this.Dq=e,this.Tq=s}var n=t.prototype;return n.start=function(t){this.wZ=t,this.Aq()&&this.yq()},n.pull=function(){this.JV.length>0?this.Mq():this.bq=!0,this.Aq()&&this.yq()},n.cancel=function(t){return lo(this.JV),this.$V=0,this.bq=!1,this.YV.cancel(t)},n.Mq=function(){if(0!==this.JV.length){var t=this.JV;this.JV=[],this.$V=0,this.bq=!1,this.wZ.enqueue(t)}},n.Aq=function(){return!!this.bq||this.Tq-this.$V>0},n.yq=function(){var t=this;if(!this.Sq){var n=this.YV.read().then(this.Nq).catch(this.Iq);this.Sq=n;var i=function(){t.Sq===n&&(t.Sq=void 0)};n.then(i,i)}},t}();wt(),C(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C();var jL,xL=function(){function t(){this.kq=[],this.By=0}var n=t.prototype;return n.Eq=function(t){this.kq.push(t),this.By+=t.byteLength},n.Lq=function(t){if(this.By<=t)return this.xq();for(var n=this.kq,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(pc(n[r],0,u)),i+=u}return{kq:e,By:i}},n.Cq=function(t){var n=this.Lq(t);return 1===n.kq.length?n.kq[0]:ka(n.kq,n.By)},n.xq=function(){return{kq:this.kq,By:this.By}},n.Oq=function(t){if(this.By<=t)return this.jq();for(var n=this.kq,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(pc(n[0],0,u)),n[0]=pc(n[0],u),i+=u}return this.By-=i,{kq:e,By:i}},n.Rq=function(t){var n=this.Oq(t);return 1===n.kq.length?n.kq[0]:ka(n.kq,n.By)},n.jq=function(){var t=this.xq();return this.kq=[],this.By=0,t},n.Pq=function(){var t=1===this.kq.length?this.kq[0]:ka(this.kq,this.By);return this.kq=[],this.By=0,t},t}();!function(t){t[t.zq=0]="zq",t[t.Bq=1]="Bq",t[t.Uq=2]="Uq"}(jL||(jL={}));var OL=function(){function t(){this.JV=new xL,this.ja=0,this.Hq=0,this.eK=0,this.Kq()}var n=t.prototype;return n.Qq=function(t,n){},n.Fq=function(){},n.Yq=function(t){this.JV.Eq(t),this.Gq(!1)},n.Vq=function(){this.Gq(!0)},n.Wq=function(){return 0!==this.ja||0!==this.JV.By},n.Gq=function(t){for(;0!==this.JV.By;){if(!t&&this.Hq>this.JV.By)return;switch(this.ja){case 0:this.Xq(t);break;case 1:this.Zq(t);break;case 2:this.qq(t)}}},n.Kq=function(){this.ja=0,this.Hq=8},n.Xq=function(t){var n=kc(this.JV.Cq(this.Hq)),i=new Ec,r=Jp.Py(n,i);if(!r.xy)return this.Hq=r.Uy,void(t&&this.Hq>this.JV.By&&this.Jq(this.JV.By));var e=r.zy.Av,u=r.zy.By;0===u&&(u=1/0),this.Qq(e,u),this.$q(e)?this.tK(u):this.Jq(u)},n.tK=function(t){this.ja=1,this.Hq=t},n.Zq=function(t){var n=kc(this.JV.Rq(this.Hq)),i=new Ec,r=Jp.Cy(n,i,!t);if(!r.xy)throw new Kp(i.Ku);this.Fq(),this.iK(r.Oy),this.Kq()},n.Jq=function(t){this.ja=2,this.Hq=0,this.eK=t},n.qq=function(t){var n=this.JV.Oq(this.eK);this.eK-=n.By;for(var i=0,r=n.kq;i<r.length;i++){var e=r[i];this.sK(e)}(0===this.eK||t&&this.eK===1/0)&&(this.Fq(),this.Kq())},t}();function zL(t){return t instanceof jf}function RL(t){return t instanceof Lf}function BL(t){return t instanceof If||t instanceof Ef}function PL(t){return t instanceof qh}function UL(t){return t instanceof Ih}function QL(t){return t instanceof _f}function YL(t){return t instanceof mf}function GL(t){return t instanceof Vf}function FL(t){return t instanceof Gf}function VL(t){return t instanceof Pf}function WL(t){return t instanceof Qf}function XL(t,n){var i=ro(t.boxes,VL);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof Qf&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}wt(),C();var ZL=function(t){function n(n){var i;return(i=t.call(this)||this).lK=Ku(),i.wK=n,i}kt(n,t);var i=n.prototype;return i.start=function(t){this.wZ=t},i.transform=function(t){this.Yq(t)},i.flush=function(){this.Vq()},i.$q=function(t){return t===rp.Kp||t===rp.kA||t===rp.UA},i.iK=function(t){var n=this.nK(t);this.wZ.enqueue(n)},i.sK=function(t){this.wZ.enqueue(t)},i.nK=function(t){var n=Mc(t.ly.ly);switch(t.Av){case"moov":return this.rK(n);case"sidx":return this.oK(n);case"moof":return this.hK(n)}return n},i.cK=function(t){var n=this.lK.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.rK=function(t){for(var n=hv(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof bf?n.boxes[i]=this.dK(r):r instanceof Tf?n.boxes[i]=this.fK(r):r instanceof Lf&&this._K(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof _f&&this.gK(s)}return n.serialize().join()},i.dK=function(t){this.uK=t.timescale;var n=JL(xi.fromNumber(t.duration,!0),this.aK,this.wK);return 0!==n.getHighBits()?this.fK(function(t){return new Tf({creation:xi.fromNumber(t.creationTime,!0),modification:xi.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:xi.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.wK,t.duration=n.toInt(),t)},i.fK=function(t){return this.uK=t.timescale,t.timescale=this.wK,t.duration=JL(t.duration,this.aK,this.wK),t},i._K=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof If?(n=r.trackId,t.boxes[i]=this.vK(r)):r instanceof Ef?(n=r.trackId,t.boxes[i]=this.mK(r)):r instanceof qh?this.pK(r,n):r instanceof Qh&&this.AK(r)}},i.vK=function(t){var n=JL(xi.fromNumber(t.duration,!0),this.aK,this.wK);return 0!==n.getHighBits()?this.mK(function(t){return new Ef({creation:xi.fromNumber(t.creationTime,!0),modification:xi.fromNumber(t.modificationTime,!0),duration:xi.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.mK=function(t){return t.duration=JL(t.duration,this.aK,this.wK),t},i.pK=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Zh?t.boxes[i]=this.yK(r,n):r instanceof Hh&&(t.boxes[i]=this.MK(r,n))}},i.yK=function(t,n){this.lK.set(n,t.timescale);var i=JL(xi.fromNumber(t.duration,!0),t.timescale,this.wK);return 0!==i.getHighBits()?this.MK(function(t){return new Hh({creation:xi.fromNumber(t.creationTime,!0),modification:xi.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:xi.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.wK,t.duration=i.toInt(),t)},i.MK=function(t,n){return this.lK.set(n,t.timescale),t.timescale=this.wK,t.duration=JL(t.duration,t.timescale,this.wK),t},i.AK=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof Bh?this.bK(r):r instanceof Ph&&this.TK(r)}},i.bK=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=KL(r.mediaTime,this.aK,this.wK),r.segmentDuration=KL(r.segmentDuration,this.aK,this.wK)}},i.TK=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=JL(r.mediaTime,this.aK,this.wK),r.segmentDuration=JL(r.segmentDuration,this.aK,this.wK)}},i.gK=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof mf?this.SK(i):i instanceof wf?t.boxes[n]=this.NK(i):i instanceof yf&&(t.boxes[n]=this.IK(i))}},i.SK=function(t){var n=this.cK(t.trackId);t.defaultSampleDuration=KL(t.defaultSampleDuration,n,this.wK)},i.NK=function(t){var n=JL(xi.fromNumber(t.fragmentDuration,!0),this.aK,this.wK);return 0!==n.getHighBits()?this.IK(function(t){return new yf(xi.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.IK=function(t){return t.fragmentDuration=JL(t.fragmentDuration,this.aK,this.wK),t},i.oK=function(t){var n=fv(t);return(n=n instanceof Jf?this.DK(n):this.EK(n)).serialize().join()},i.DK=function(t){var n=t.timescale,i=JL(xi.fromNumber(t.earliestPresentationTime,!0),n,this.wK);if(0!==i.getHighBits())return this.EK(function(t){return new qf(t.referenceId,t.timescale,xi.fromNumber(t.earliestPresentationTime,!0),xi.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.wK,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=KL(u.subsegmentDuration,n,this.wK)}return t},i.EK=function(t){var n=t.timescale;t.timescale=this.wK,t.earliestPresentationTime=JL(t.earliestPresentationTime,n,this.wK);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=KL(e.subsegmentDuration,n,this.wK)}return t},i.hK=function(t){for(var n=vv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof Gf&&this.kK(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof Gf&&XL(h,o)}return n.serialize().join()},i.kK=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Pf?(n=this.cK(r.trackId),this.LK(r,n)):r instanceof zf?t.boxes[i]=this.xK(r,n):r instanceof Rf?t.boxes[i]=this.CK(r,n):r instanceof Qf&&this.jK(r,n)}},i.LK=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=KL(t.defaultSampleDuration,n,this.wK))},i.xK=function(t,n){var i=JL(xi.fromNumber(t.baseMediaDecodeTime,!0),n,this.wK);return 0!==i.getHighBits()?this.CK(function(t){return new Rf(xi.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.CK=function(t,n){return t.baseMediaDecodeTime=JL(t.baseMediaDecodeTime,n,this.wK),t},i.jK=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=KL(r+=s.duration,n,this.wK);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=HL(s.compositionTimeOffset,n,this.wK))}},At(n,[{key:"aK",get:function(){if(void 0===this.uK)throw new v("Expected to have found a movie header timescale.");return this.uK}}]),n}(OL);function HL(t,n,i){return xi.fromInt(t,!1).multiply(i).divide(n).toNumber()}function KL(t,n,i){return xi.fromInt(t,!0).multiply(i).divide(n).toNumber()}function JL(t,n,i){return Vm.fN(t).zN(Vm._N(i,!0)).FN(Vm._N(n,!0)).NN()}var qL,$L,tC,nC=function(){function t(t){this.PK=new ZL(t)}return t.prototype.RK=function(t){return t.pipeThrough(new cw(this.PK))},t}();function iC(t,n,i){var r=Qa(t,n);if(r!==i)throw new d("Expected descriptor with tag "+i+", but found "+r)}function rC(t,n){iC(t,n,3);var i,r,e,u=eC(t,n),s=n.Ku+u,o=Za(t,n),a=Qa(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=Za(t,n)),c)&&(r=nc(t,n,Qa(t,n)));h&&(e=nc(t,n,2));var v=function(t,n){iC(t,n,4);var i,r=eC(t,n),e=n.Ku+r,u=Qa(t,n),s=Qa(t,n),o=s>>2,a=0!=(2&s),c=Wa(t,n,3),h=Ka(t,n),f=Ka(t,n);if(n.Ku<e){var v=function(t,n){return t.getUint8(n.Ku)}(t,n);5===v&&(i=function(t,n){iC(t,n,5);var i=eC(t,n),r=Ga(t,n,i);return{zK:5,BK:r}}(t,n))}return n.JA(e),{zK:4,UK:u,QK:o,FK:a,YK:c,GK:h,VK:f,WK:i}}(t,n);return n.JA(s),{zK:3,o:o,HK:i,zu:r,XK:f,ZK:e,qK:v}}function eC(t,n){for(var i=0,r=0;r<4;r++){var e=Qa(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function uC(t,n){for(var i=Qa(t,n),r=Qa(t,n),e=Qa(t,n),u=Qa(t,n),s=3&Qa(t,n),o=31&Qa(t,n),a=[],c=0;c<o;c++){var h=Za(t,n);a.push(Ga(t,n,h))}for(var f=Qa(t,n),v=[],d=0;d<f;d++){var l=Za(t,n);v.push(Ga(t,n,l))}return{KK:i,JK:r,$K:e,tJ:u,iJ:s,eJ:a,sJ:v}}function sC(t,n,i){if(!(i&&n.byte>=i)){var r=t.IL(n.byte);return n.byte+=1,r}}function oC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+sC(t,n);return r}(t,n,2)}wt(),C(),wt(),C(),function(t){t[t.nJ=3]="nJ",t[t.rJ=4]="rJ",t[t.oJ=5]="oJ"}(qL||(qL={})),function(t){t[t.hJ=64]="hJ",t[t.aJ=103]="aJ",t[t.uJ=107]="uJ"}($L||($L={})),wt(),C(),wt(),C(),function(t){t[t.cJ=0]="cJ",t[t.lJ=1]="lJ",t[t.aJ=2]="aJ",t[t.dJ=5]="dJ",t[t.fJ=34]="fJ"}(tC||(tC={})),wt(),C(),wt(),C(),wt(),C(),wt(),C(),mt();var aC=function(){function t(){this.wJ=0,this.gJ=[],this.kI={}}var n=t.prototype;return n._J=function(t){this.gJ=this.gJ.concat(t.gJ),this.wJ+=t.U},n.vJ=function(t,n,i){var r=this.wJ,e=i-n;e>0&&(this.gJ.push({mJ:n,pJ:i,AJ:e,yJ:r,MJ:t}),this.wJ+=e)},n.IL=function(t){for(var n=0,i=this.gJ;n<i.length;n++){var r=i[n];if(r.yJ<=t&&t<r.yJ+r.AJ)return r.MJ[t+r.mJ-r.yJ]}},n.bJ=function(t,n){for(var i=n,r=0,e=this.gJ;r<e.length;r++)for(var u=e[r],s=u.pJ,o=u.mJ;o<s;o+=1,i+=1)t[i]=u.MJ[o];return i},n.TJ=function(){for(var t=new m(this.wJ),n=0,i=0,r=this.gJ;i<r.length;i++)for(var e=r[i],u=e.pJ,s=e.mJ;s<u;s+=1,n+=1)t[n]=e.MJ[s];return t},n.$A=function(n){for(var i=new t,r=0,e=this.gJ;r<e.length;r++){var u=e[r];i.vJ(u.MJ,u.mJ,u.pJ)}return i.kI=n||Xu({},this.kI),i},At(t,[{key:"U",get:function(){return this.wJ},set:function(t){var n=this.gJ,i=this.wJ-t;if(!(t>=this.wJ))if(this.wJ=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.AJ)return e.pJ-=i,e.AJ-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.AJ}else n.length=0}},{key:"ly",get:function(){for(var t=new Array(this.wJ),n=0,i=0,r=this.gJ;i<r.length;i++)for(var e=r[i],u=e.pJ,s=e.mJ;s<u;s+=1,n+=1)t[n]=e.MJ[s];return t}}]),t}();wt(),C();var cC,hC=[128,64,32,16,8,4,2,1];function fC(t,n){var i=g.floor(n.bit/8),r=0==(t.IL(i)&hC[n.bit%8])?0:1;return n.bit+=1,r}function vC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+fC(t,n);return r}function dC(t,n){for(var i=0;0===fC(t,n)&&i<32;)i+=1;return vC(t,n,i)+g.pow(2,i)-1}function lC(t,n){var i=dC(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function gC(t,n){var i,r=[],e={byte:1};do{r.push(yC(t,n,e)),i=n.IL(e.byte)}while(void 0!==i&&128!==i);return r}function wC(t,n){var i,r=0;do{r+=i=sC(t,n)}while(255===i);return r}function yC(t,n,i){var r=wC(n,i),e=wC(n,i),u=i.byte,s=u+e;return i.byte=s,{SJ:t,NJ:r,IJ:e,DJ:u,EJ:s,kJ:n}}!function(t){t[t.LJ=1]="LJ",t[t.xJ=2]="xJ",t[t.CJ=3]="CJ",t[t.OJ=4]="OJ",t[t.jJ=5]="jJ",t[t.RJ=6]="RJ",t[t.PJ=7]="PJ",t[t.zJ=8]="zJ",t[t.BJ=9]="BJ"}(cC||(cC={}));var AC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function mC(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+lC(t,n)+256)%256;r=0===e?r:e}}var pC=function(){function t(t){this.QJ=[],this.FJ=0,this.YJ=t}var n=t.prototype;return n.UJ=function(){for(var t=this.QJ,n=g.max(0,this.FJ+t.length-2),i=this.YJ,r=i.U,e=0;n<r;n+=1){var u=i.IL(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.FJ=n-t.length},n.GJ=function(t){for(var n=this.QJ,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.IL=function(t){if(!(t>this.YJ.U))return t>this.FJ&&this.UJ(),this.YJ.IL(this.GJ(t))},t}();function _C(t){var n,i,r,e,u,s,o=new pC(t),a=0,c=0,h=0,f=0,v=o.IL(1),d={bit:32};if(dC(o,d),100===v||110===v||122===v||144===v){var l=dC(o,d);if(3===l&&(n=fC(o,d)),dC(o,d),dC(o,d),fC(o,d),1===fC(o,d))for(var w=0;w<(3!==l?8:12);w+=1){1===fC(o,d)&&mC(o,d,w<6?16:64)}}var y=dC(o,d),A=dC(o,d);if(0===A)dC(o,d);else if(1===A){fC(o,d),lC(o,d),lC(o,d);for(var m=dC(o,d),p=0;p<m;p+=1)lC(o,d)}dC(o,d),fC(o,d);var _=dC(o,d),k=dC(o,d),M=fC(o,d);if(0===M&&fC(o,d),fC(o,d),1===fC(o,d)&&(a=dC(o,d),c=dC(o,d),h=dC(o,d),f=dC(o,d)),1===fC(o,d)){if(1===fC(o,d)){var b=vC(o,d,8);if(255===b)i=vC(o,d,16),r=vC(o,d,16);else{var T=AC[b];T&&(i=T[0],r=T[1])}}if(1===fC(o,d)&&fC(o,d),1===fC(o,d))vC(o,d,3),fC(o,d),1===fC(o,d)&&(vC(o,d,8),vC(o,d,8),vC(o,d,8));1===fC(o,d)&&(dC(o,d),dC(o,d)),1===(e=fC(o,d))&&(u=vC(o,d,32),s=vC(o,d,32),fC(o,d))}return{width:g.floor(16*(_+1)-2*a-2*c),height:g.floor((2-M)*(k+1)*16-2*h-2*f),Qb:i,Fb:r,VJ:e?s/(2*u):void 0,WJ:n,HJ:y}}function kC(t,n,i){void 0===i&&(i=1);var r=Hp(i_.Wy(t),rp.kA);if(r&&0!==r.Z.length)return function(t,n,i){void 0===i&&(i=1);var r,e;e=void 0!==n?ro(t.Z,(function(t){return t.zy.AM===n})):t.Z[0];var u=null==e||null==(r=e.eT)?void 0:r.eT;return u?qi(u,i):void 0}(r,n,i)}function MC(t){var n=Hp(i_.Wy(t),rp.Kp);if(n){for(var i=n.zy.cM,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.zy.AM,a=s.wM.zy.cM,c=void 0,h=void 0,f=void 0,v=0,d=s.wM.IM.kM.xM.OM;v<d.length;v++){var l,g,w,y=bC(d[v]);if(y)c=null!=(l=y.XJ)?l:c,h=null!=(g=y.ZJ)?g:h,f=null!=(w=y.qJ)?w:f}r.push({AM:o,cM:a,XJ:c,ZJ:h,qJ:f})}return{cM:i,Z:r}}}function bC(t){var n,i,r;if(t.Av===rp.cA){var e,u=uC(kc(t.mb.ly),new Ec);n=function(t){return"avc1."+TC(t.JK,2)+TC(t.$K,2)+TC(t.tJ,2)}(u),r=null==(e=function(t){if(0===t.eJ.length)return;var n=t.eJ[0],i=new aC;return i.vJ(n,0,n.byteLength),_C(i)}(u))?void 0:e.VJ}else if(t.Av===rp.dA||t.Av===rp.fA){var s=function(t,n){for(var i=n.oy(),r=Ia(t,i,8),e=Ia(t,i,2),u=Ia(t,i,1),s=Ia(t,i,5),o=Ia(t,i,32),a=[],c=0;c<6;c++)a.push(Ia(t,i,8));var h=Ia(t,i,8);i.KA(4);var f=Ia(t,i,12);i.KA(6);var v=Ia(t,i,2);i.KA(6);var d=Ia(t,i,2);i.KA(5);var l=Ia(t,i,3);i.KA(5);for(var g=Ia(t,i,3),w=Ia(t,i,16),y=Ia(t,i,2),A=Ia(t,i,3),m=Ia(t,i,1),p=Ia(t,i,2),_=Ia(t,i,8),k=[],M=0;M<_;M++){var b=Ia(t,i,1);i.KA(1);for(var T=Ia(t,i,6),N=Ia(t,i,16),D=[],I=0;I<N;I++){var E=Ia(t,i,16),S=Ga(t,new Ec(i.Ku>>3),E);i.KA(8*E),D.push({KJ:E,JJ:S})}k.push({$J:b,t$:T,i$:N,e$:D})}return{KK:r,s$:e,n$:u,r$:s,o$:a,h$:h,a$:f,u$:v,c$:o,l$:d,d$:l,f$:g,_$:w,g$:A,w$:m,v$:y,iJ:p,m$:_,p$:k}}(kc(t.Mb.ly),new Ec);n=function(t,n){var i=t.toString()+".";switch(n.s$){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.r$.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.c$).toString(16)+".",n.n$){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.h$.toString();for(var r=n.o$.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.o$[e].toString(16).toUpperCase();return i}(t.Av,s)}else if(t.Av===rp.gA){var o=function(t,n){var i=n.oy(),r=Ia(t,i,8);i.KA(24);for(var e=Ia(t,i,8),u=Ia(t,i,8),s=Ia(t,i,4),o=Ia(t,i,3),a=Da(t,i),c=Ia(t,i,8),h=Ia(t,i,8),f=Ia(t,i,8),v=Ia(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Ia(t,i,8);return{KK:r,A$:e,y$:u,M$:s,b$:o,T$:a,Pb:c,zb:h,Bb:f,S$:v,N$:d}}(kc(t.Tb.ly),new Ec);n=function(t,n){var i=t.toString()+".";return i+="0"+n.A$+".",i+=zs(""+n.y$,2,"0")+".",i+=zs(""+n.M$,2,"0")+".",i+=zs(""+n.b$,2,"0")+".",i+=zs(""+n.Pb,2,"0")+".",i+=zs(""+n.zb,2,"0")+".",i+=zs(""+n.Bb,2,"0")+".",i+="0"+n.T$,i}(t.Av,o)}else if(t.Av===rp.vA){var a=function(t,n){var i=n.oy();i.KA(1);var r=Ia(t,i,7),e=Ia(t,i,3),u=Ia(t,i,5),s=Da(t,i),o=Da(t,i),a=Da(t,i),c=Da(t,i),h=Da(t,i),f=Da(t,i),v=Ia(t,i,2);i.KA(3);var d,l=Da(t,i);return l?d=Ia(t,i,4):i.KA(4),{Gy:r,I$:e,D$:u,E$:s,k$:o,L$:a,x$:c,C$:h,O$:f,j$:v,R$:l,P$:d}}(kc(t.Ib.ly),new Ec);n=function(t,n,i){var r=t.toString()+".";if(r+=n.I$+".",r+=""+zs(""+n.D$,2,"0"),r+=(0===n.E$?"M":"H")+".",r+=(1===n.L$?12:10)+".",r+=(1===n.I$?0:n.x$)+".",r+=""+n.C$+n.O$+(1===n.C$&&1===n.O$?n.j$:"0"),i&&i.Rb===up.ON_SCREEN_COLOURS){var e=i;r+="."+zs(""+e.Pb,2,"0")+"."+zs(""+e.zb,2,"0")+"."+zs(""+e.Bb,2,"0")+"."+(e.Ub?1:0)}return r}(t.Av,a,t.Db)}else if(t.Av===rp.yA){i=function(t){var n=t.qK;switch(n.UK){case $L.hJ:return function(t){var n;if(!(null==(n=t.WK)?void 0:n.BK))return"mp4a.40";var i=function(t,n){var i=Ia(t,n,5);31===i&&(i=32+Ia(t,n,6));var r,e=Ia(t,n,4);return 15===e&&(r=Ia(t,n,24)),{z$:i,B$:e,U$:r,Q$:Ia(t,n,4)}}(kc(t.WK.BK),new Ea);return"mp4a.40."+i.z$}(n);case $L.aJ:return"mp4a.40.2";case $L.uJ:return"mp4a.40.34"}}(rC(kc(t.ob.ly),new Ec))}else{if(t.Av!==rp.bA)return(t.Av===rp.EA||t.Av===rp.DA)&&t.Lb?bC(t.Lb):void 0;i="fLaC"}return{XJ:n,ZJ:i,qJ:r}}function TC(t,n){var i=t.toString(16);return zs(i,n,"0")}function NC(t,n){var i=i_.Wy(kc(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.eT)?void 0:e.eT;if(s){var o=u.zy.AM,a=ro(n.Z,(function(t){return t.AM===o})),c=Km.fN(s,a.cM);i&&!c.rN(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(Hp(i,rp.kA),n),e=Hp(i,rp.PA);return{MS:r.JS(),F$:e.ly}}function DC(t,n){return IC.apply(this,arguments)}function IC(){return IC=xt((function(t,n){var i;return zt(this,(function(r){switch(r.label){case 0:switch(t.Av){case pL.jZ:return[3,1];case pL.DD:return[3,2];case pL.RZ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Nw(t.ly,n)];case 3:return i=r.sent(),jo(n),[2,{Av:pL.jZ,ly:new m(i)}];case 4:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),IC.apply(this,arguments)}wt(),C(),Ot(),Pt();var EC=jn.zk,SC=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).cX=20,s.fX=30,s.Y$=!1,s.l0=!1,s.b0=void 0,s.S0=new So,s.t0=!1,s.i0=void 0,s.q$=!1,s.K$=void 0,s.N0=function(){s.Y$=!1},s.I0=function(t){t.removedRanges&&s.Co(new Jo(wL.CZ))},s._0=i,s.o0=n,s.G$=r,s.G$.addEventListener("updateend",s.N0),s.G$.addEventListener("bufferedchange",s.I0),s.p0=e,s.y0=u,s.q$=LC(e.Nz,u),null==(o=i.wd)?void 0:o.D0){var a,c=null!=(a=i.wd.E0)?a:1e5;s.s0=new nC(c)}return s}kt(n,t);var i=n.prototype;return i.V$=function(t,n,i){var r=this;switch(t.Av){case pL.jZ:case pL.DD:return this.W$((function(i){return r.H$(t,n,i)}),i);case pL.RZ:throw new v("Opaque segments are not supported on web.")}},i.X$=function(t,n){var i=this;switch(t.Av){case pL.jZ:return this.W$((function(n){return i.Z$(t,n)}),n);case pL.DD:throw new v("Streaming initialization segments are not supported on web.");case pL.RZ:throw new v("Opaque initialization segments are not supported on web.")}},i.Z$=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return i.q$?(i.K$=MC(kc(t.ly)),[2]):[4,i.J$(t,void 0,n)];case 1:return r.sent(),EC&&(i.t0=!1,i.i0=t),[2]}}))}))()},i.H$=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:return EC&&r.t0&&r.i0?[4,r.Z$(r.i0,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),jo(i),r.q$&&r.K$?[4,DC(t,i)]:[3,4];case 3:e=o.sent(),u=NC(e.ly,r.K$),t={Av:pL.jZ,ly:u.F$},n=Xu({},n,{pI:u.MS+(null!=(s=n.pI)?s:0)}),o.label=4;case 4:return[4,r.J$(t,n,i)];case 5:return o.sent(),r.Co(new Jo(wL.CZ)),[3,7];case 6:return t.Av===pL.DD&&t.ly.cancel(new Lo).catch(Hn),[7];case 7:return[2]}}))}))()},i.J$=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return jo(i),n?[4,r.e0(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Av){case pL.jZ:return[3,3];case pL.DD:return[3,7]}return[3,11];case 3:return r.s0?(e=r.s0.RK(Mw(t.ly)),[4,r.n0(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.r0(t.ly)];case 6:return[2,s.sent()];case 7:return r.s0?(u=r.s0.RK(t.ly),[4,r.n0(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.n0(t.ly,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.n0=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:r=i.o0.O_,e=function(t,n){return void 0===n&&(n=new aw({highWaterMark:1/0})),new $g(new CL(t,n),{highWaterMark:0})}(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,zo(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(jo(n),a=_a(o.value),s=!0,[4,i.r0(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(Hn),s?[4,i.h0()]:[3,11];case 7:v.sent(),h=i.o0.O_.Sn(r.BB()),f=0,v.label=8;case 8:return f<h.U?[4,i.a0(h.Cn(f),h.jn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.u0=function(t,n){var i=this;return this.W$((function(){return i.c0(t,n)}))},i.c0=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return i.G$.appendWindowStart===t&&i.G$.appendWindowEnd===n?[3,2]:[4,i.h0()];case 1:r.sent(),i.G$.appendWindowStart=0,i.G$.appendWindowEnd=n,i.G$.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.e0=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:if(n.G$.timestampOffset===t.pI)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.G$.timestampOffset=t.pI,[3,4];case 2:return i.sent(),[4,n.h0()];case 3:return i.sent(),n.G$.timestampOffset=t.pI,[3,4];case 4:return[2]}}))}))()},i.r0=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.G$.appendBuffer(t),n.l0=!0,[4,n.d0()];case 1:return i.sent(),[2]}}))}))()},i.f0=function(t,n,i){var r=this;return this.W$((function(i){return r.a0(t,n,i)}),i)},i.a0=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return jo(i),r.G$.remove(t,n),[4,r.d0()];case 1:return e.sent(),[2]}}))}))()},i.d0=function(){var t=this,n=this.o0.O_;return new K((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.KB(t.o0.O_)||t.Co(new Jo(wL.CZ)),i()):r(new v(e))},f=function(){t.G$.removeEventListener("update",s),t.G$.removeEventListener("error",o),t.G$.removeEventListener("abort",a),t.G$.removeEventListener("updateend",h),t._0.fn(kL.zZ,c)};t.G$.addEventListener("update",s),t.G$.addEventListener("error",o),t.G$.addEventListener("abort",a),t.G$.addEventListener("updateend",h),jn.wk&&jn.pk<3&&t._0.yn(kL.zZ,c)}))},i.g0=function(){var t=this;return this.W$((function(){return t.h0()}))},i.h0=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:if(t._0.Sg!==ZC.oD)return[2];EC&&(t.t0=!0),t.G$.updating&&(t.Y$=!0);try{t.G$.abort()}catch(n){0,t.Y$=!1}return t.oa?[4,t.d0().catch(Hn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.w0=function(){return"function"==typeof this.G$.changeType},i.GZ=function(t){if(this.v0(),this._0.Sg!==ZC.m0){var n;this.p0=t;var i=null!=(n=this._0.A0(t.Nz))?n:t.Nz;this.q$=LC(t.Nz,this.y0),this.w0()&&!js(this.y0,i)&&(this.y0=i,this.G$.changeType(this.y0))}},i.M0=function(){this._0.Sg!==ZC.Ov||this.b0||this.oa||(this.G$.timestampOffset=this.G$.timestampOffset,this._0.T0())},i.W$=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:i.v0(),(r=new So).w_(i.S0.f_),n&&r.w_(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.b0=t(r.f_),[4,i.b0];case 2:return e.sent(),i._0.T0(),i.oa?[4,i.d0()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.b0=void 0,r.h_(),[7];case 6:return[2]}}))}))()},i.v0=function(){if(this.b0)throw new v("Internal error")},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.S0.g_(),t.b0?[4,t.b0.catch(Hn)]:[3,2];case 1:n.sent(),t.b0=void 0,n.label=2;case 2:return t.G$.removeEventListener("updateend",t.N0),t.G$.removeEventListener("bufferedchange",t.I0),[2]}}))}))()},At(n,[{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t}},{key:"oa",get:function(){return this.Y$||this.G$.updating}}]),n}(Xo);function LC(t,n){return Ls(t,"audio/mp4")&&Ls(n,"audio/mpeg")}wt(),C(),mt();var CC=function(){function t(t,n){this.L0=void 0,this.k0=n,this.G$=t}var n=t.prototype;return n.oq=function(){return!!this.L0&&this.O_.PB().gr(this.L0)},n.x0=function(){var t=this.O_;this.L0=t.U>0?t.jn(t.U-1):0,this.k0.C0()},n.M0=function(){this.L0=void 0},At(t,[{key:"O_",get:function(){if(this.k0.Sg===ZC.m0)return BD.oU();var t=BD.xn(this.G$.buffered).Sn(new BD([0,1/0])),n=this.L0;return void 0!==n&&t.U>0&&t.jn(t.U-1)===n&&(t=t.YB(BD.nU(n))),t}}]),t}();function jC(t){var n=t.VI("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function xC(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function OC(t,n){var i=zC(t)||RC(t),r=zC(n)||RC(n);return!i&&!r||t===n}function zC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function RC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function BC(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=Gt(i,3),s=u[1],o=u[2],a=Gt(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}function PC(t,n,i,r,e,u,s){var o=new CC(e,t),a=new SC(o,t,e,i,u);return new UC(t,n,i,r,o,a,s)}wt(),C(),Ft();var UC=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).F0=Hu(),a._0=n,a.GO=r,a.BO=r.Nz,a.j0=e,a.Fm=i,a.o0=u,a.z0=s,a.P0=o,a.z0.yn(wL.CZ,a.Ds),a}kt(n,t);var i=n.prototype;return i.oq=function(){return this.o0.oq()},i.x0=function(){this.o0.x0()},i.M0=function(){this.o0.M0(),this.z0.M0()},i.B0=function(t,n){this.P0.mq(t,n)},i.U0=function(t,n){this.P0.pq(t,n)},i.Q0=function(){return this.z0.g0()},i.V$=function(t,n,i){return this.z0.V$(t,n,i)},i.X$=function(t,n,i){return this.z0.X$(t,i)},i.u0=function(t,n){return jn.wk&&jn.pk<3?this.z0.u0(t,1/0):this.z0.u0(t,n)},i.rS=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return r.U0(t,n),e=r.O_,[4,r.z0.f0(t,n,i)];case 1:return s.sent(),u=0!==e.U&&0===r.O_.U,(jn.Wk||jn.yk)&&u&&r.Fm.JA(r.Fm.U_),[2]}}))}))()},i.FZ=function(t){var n=t.Nz;if(this.BO===n)return!0;var i=this.F0.get(n);if(void 0!==i)return i;var r=this.Y0(t);return this.F0.set(n,r),r},i.Y0=function(t){var n=this._0.A0(t.Nz);if(void 0===n)return!1;var i=Mv(this.BO),r=Mv(n),e=jC(i),u=jC(r);if(this.z0.w0()){if(!function(t,n){return No(t,n,OC)}(e,u))return!1;if(jn.Xk&&!function(t,n){return No(t,n,xC)}(e,u))return!1}else{if(i.Av!==r.Av)return!1;if(!function(t,n){return No(t,n,BC)}(e,u))return!1}return!0},i.GZ=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){return i=t.Nz,n.BO!==i&&(n.F0.clear(),n.z0.GZ(t),n.BO=i),n.GO=t,n._0.G0(),[2]}))}))()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:t.F0.clear(),t.Vo(),t.P0.gn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.z0.fn(wL.CZ,t.Ds),[4,t.z0.h_()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},At(n,[{key:"O_",get:function(){return this.o0.O_}},{key:"wd",get:function(){return this.GO}},{key:"Nz",get:function(){return this.BO}},{key:"O0",get:function(){return this.j0}},{key:"R0",get:function(){return this.P0.wq}},{key:"iX",get:function(){return this.z0.iX},set:function(t){this.z0.iX=t}},{key:"rX",get:function(){return this.z0.rX},set:function(t){this.z0.rX=t}},{key:"oa",get:function(){return this.z0.oa}}]),n}(Xo);wt(),C();var QC=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Cn=t,this.jn=n,this.W0=i,this.H0=r,this.X0=on.m_()}return t.prototype.V0=function(){var t=this.Cn,n=this.jn;if(this.W0||this.H0){var i=.001*(on.m_()-this.X0);this.W0&&(t+=i),this.H0&&(n+=i)}return BD.rU(t,n)},t}();wt(),C(),mt();var YC=.5,GC=[dd.jh,dd.Sh,dd.im,dd.$v,dd.Uv,dd.Fv,dd.Ov,dd.qv,uk.Nw,f_.ha],FC=function(){function t(t,n,i,r){var e=this;this.o0=t,this.$0=n,this.Fm=i,this.s1=!1,this.q0=[],this.e1=0,this.c1=0,this.M1=0,this.o1=0,this.w1=0,this.d1=0,this.b1=1,this.K0=function(t){var n=e.Fm.U_,i=t.gq.gr(n),r=t.gq.gr(n,YC)&&e.Fm.Sg<=ak.UT;(i||r)&&e.cq(n)},this.t1=qn((function(t){if(!e.s1&&e.$0.Sg<=ak.UT){var n=e.Fm.U_;e.cq(n)||e._1()}}),100),this.Jl=qn((function(t){e.l1()}),100),this.i1=function(){e.v1()?0===e.d1&&(e.Fm.yn(dd.fm,e.Jl),e.c1=on.A_((function(){e.l1()}),3500)):e.J0()},this._1=function(){var t=e.M1,n=e.w1,i=e.Fm.U_,r=on.m_(),u=e.o0.O_;if(t!==i)return e.M1=i,e.w1=r,e.b1=1,void(e.T1=on.S1?2e3:1e3);if(e.v1()&&0!==u.U&&n>0&&r>n+e.T1){var s,o,a=e.wq.PB().VB(u),c=a.tU(i);if(-1!==c){var h=a.Cn(c);if(h-i<1){var f=a.jn(c);0,s=f}}if(!s)(s=null==(o=e.N1)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.b1,u.gr(s)||(s=e.A1(i,u)));0,e.M1=s,e.b1++,e.T1=g.min(2*e.T1,1e4),e.a1(s)}},this.$0.yn(uk.Nw,this.t1),this.Fm.yn(dd.Zv,this.t1),this.Fm.yn(GC,this.i1),this.N1=r,this.T1=on.S1?2e3:1e3}var n=t.prototype;return n.Z0=function(t){this.q0.push(t),t.yn(IL.fq,this.K0)},n.gn=function(){var t=this;this.J0(),this.$0.fn(uk.Nw,this.t1),this.Fm.fn(dd.Zv,this.t1),this.Fm.fn(GC,this.i1),this.q0.forEach((function(n){return n.fn(IL.fq,t.K0)})),0!==this.e1&&(on.p_(this.e1),this.e1=0),this.s1=!0},n.cq=function(t){var n=this;if(this.Fm.G_)return!1;if(0!==this.e1)return!1;var i=this.o0.O_,r=i.WB(t);if(r>=0&&t+YC<i.jn(r))return!1;var e=r>=0?r+1:i.iU(t);if(e<0||e>=i.U)return!1;var u=i.Cn(e);return!(BD.rU(t,u).VB(this.wq).sU>1)&&(on.n1?(this.o1=this.Fm.U_,this.e1=on.A_((function(){n.o1===n.Fm.U_&&n.a1(u),n.e1=0}),250),!0):!(g.abs(u-t)<=.001)&&(this.a1(u),!0))},n.a1=function(t){this.Fm.JA(t,!1,!0)},n.u1=function(){0!==this.c1&&(on.p_(this.c1),this.c1=0),this.Fm.fn(dd.fm,this.Jl)},n.l1=function(){this.s1||0===this.d1&&(this.u1(),this.d1=on.f1(this._1,250))},n.J0=function(){0!==this.d1&&(on.g1(this.d1),this.d1=0),this.u1(),this.Fm.Eg||(this.w1=0)},n.v1=function(){return!this.Fm.fg&&!this.Fm.Eg&&0!==this.Fm.gg&&!this.Fm.G_&&!this.Fm.lt&&(this.m1()||this.$0.Sg>=ak.QT)},n.m1=function(){var t=this.Fm.U_,n=this.o0.O_,i=n.WB(t);return-1!==i&&n.jn(i)>t+YC},n.A1=function(t,n){var i=n.WB(t);return i>-1?n.jn(i):t},At(t,[{key:"wq",get:function(){return this.q0.reduce((function(t,n){return t.YB(n.wq)}),BD.oU())}}]),t}();function VC(t){var n=[];if(t.I1&&n.push(t.I1.O_),t.D1&&n.push(t.D1.O_),0===n.length)return BD.oU();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.U>0&&(i=g.max(i,e.jn(e.U-1)))}for(var u=t.oq,s=new BD([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.U>0&&(a=a.YB(new BD([a.jn(a.U-1),i],[!0,!0]))),s=s.Sn(a)}return s}function WC(t,n,i){var r,e=t.O_,u=e.WB(n);if(u>=0){if(!(u+1<e.U))return K.resolve();r=e.Cn(u+1)}else{if(!((u=e.iU(n))>=0))return K.resolve();r=e.Cn(u)}return t.rS(r,1/0,i)}function XC(t,n,i){if(!t.gr(n)){var r=t.WB(n,i);if(r>=0){var e=t.Cn(r);if(n<e)return e}}return n}wt(),C();var ZC,HC=jn.Sk||jn.Ik,KC=jn.Ok||jn.zk&&jn.Uk>=17;!function(t){t.m0="closed",t.oD="open",t.Ov="ended"}(ZC||(ZC={}));var JC=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Cu(n.t2)),(a=t.call(this,n,i,e,u)||this).O1=void 0,a.V1=void 0,a.j1=void 0,a.W1=void 0,a.U1=new QC(0,1/0),a.R1=void 0,a.H1=!1,a.Z1=function(){a.Co(new Jo(kL.zZ))},a.q1=function(){a.X1()},a.I0=function(){a.Fm.I0()},a.J1=s,a.yz=a.J1.E1(),a.yz.addEventListener("sourceclose",a.Z1),a.Fm.yn([dd.im,dd.Uv],a.q1),a.G1=new FC(Vt(a),r,a.Fm,o),a}kt(n,t);var i=n.prototype;return i.P1=function(t){if(A(t)||t<0)throw new v("Invalid duration");this.z1()?this.B1(t):this.R1=t},i.B1=function(t){var n=t===1/0;if(n&&this.yz.setLiveSeekableRange){var i=g.pow(2,39);this.yz.setLiveSeekableRange(0,i)}this.yz.duration=n?KC?1/0:zi:t,this.R1=void 0},i.Q1=function(t,n,i,r){this.U1=new QC(t,n,!!i,!!r)},i.oX=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:return n=t.GO,i=ro(n.F1,(function(t){return Ls(t.Nz,"audio")})),r=ro(n.F1,(function(t){return Ls(t.Nz,"video")})),t.lj.disableRemotePlayback=!0,[4,t.Y1()];case 1:return h.sent(),i&&(e=new LL,t.G1.Z0(e),s=null!=(u=t.A0(i.Nz))?u:i.Nz,t.V1=t.yz.addSourceBuffer(s),t.O1=PC(t,t.Fm,i,zA.WA,t.V1,s,e),t.O1.yn(wL.CZ,t.I0)),r&&(o=new LL,t.G1.Z0(o),c=null!=(a=t.A0(r.Nz))?a:r.Nz,t.W1=t.yz.addSourceBuffer(c),t.j1=PC(t,t.Fm,r,zA.VA,t.W1,c,o),t.j1.yn(wL.CZ,t.I0)),t.VZ.$n(t,n),[2]}}))}))()},i.Y1=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.iq.call(n,n.yz)];case 1:return i.sent(),"open"===n.Sg?[3,3]:[4,Ry(n.yz,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.z1=function(){if("open"!==this.Sg)return!1;var t=this.O1&&this.O1.oa,n=this.j1&&this.j1.oa;return!(t||n)},i.x0=function(){this.H1=!0,this.O1&&this.O1.x0(),this.j1&&this.j1.x0(),this.H1=!1,this.X1()},i.M0=function(){this.O1&&this.O1.M0(),this.j1&&this.j1.M0()},i.FZ=function(n){var i=ro(n.F1,(function(t){return Ls(t.Nz,"audio")})),r=ro(n.F1,(function(t){return Ls(t.Nz,"video")}));if(this.O1){if(!i)return!1;if(!this.O1.FZ(i))return!1}else if(i)return!1;if(this.j1){if(!r)return!1;if(!this.j1.FZ(r))return!1}else if(r)return!1;return!!t.prototype.FZ.call(this,n)},i.GZ=function(n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return r=ro(n.F1,(function(t){return Ls(t.Nz,"audio")})),e=ro(n.F1,(function(t){return Ls(t.Nz,"video")})),u=[],i.O1&&u.push(i.O1.GZ(r)),i.j1&&u.push(i.j1.GZ(e)),[4,K.all(u)];case 1:return s.sent(),[4,t.prototype.GZ.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.h_=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.yz.removeEventListener("sourceclose",n.Z1),jn.yk?[4,n.rq()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.O1?[4,n.O1.h_()]:[3,4];case 3:if(i.sent(),n.O1=void 0,Vs()&&(jn.yk||jn.wk))try{n.yz.removeSourceBuffer(n.V1)}catch(t){}n.V1=void 0,i.label=4;case 4:return n.j1?[4,n.j1.h_()]:[3,6];case 5:if(i.sent(),n.j1=void 0,Vs()&&(jn.yk||jn.wk))try{n.yz.removeSourceBuffer(n.W1)}catch(t){}n.W1=void 0,i.label=6;case 6:return n.lj.src&&URL.revokeObjectURL(n.lj.src),n.lj.disableRemotePlayback=!1,n.Fm.fn([dd.im,dd.Uv],n.q1),n.G1.gn(),jn.wk?[4,n.rq()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.h_.call(n)];case 9:return i.sent(),[2]}}))}))()},i.G0=function(){var t=this,n=this.GO,i=n.F1.map((function(n){return Ls(n.Nz,"audio")&&t.O1?t.O1.wd:Ls(n.Nz,"video")&&t.j1?t.j1.wd:n}));this.GO=Xu({},n,{F1:i})},i.C0=function(){this.H1||this.X1()},i.X1=function(){this.K1&&this.z1()&&(this.yz.endOfStream(),this.R1=void 0,this.Co(new Jo(kL.EQ)),this.Fm.I0())},i.T0=function(){this.z1()&&(this.oq?this.X1():void 0!==this.R1&&this.B1(this.R1))},i.cq=function(t){return this.G1.cq(t)},i.lq=function(){return!0},i.A0=function(t){return qC(this.J1,t)},n.dq=function(t){var n=ju(t.t2);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Cu(t.t2),r=0,e=t.F1;r<e.length;r++){if(void 0===qC(i,e[r].Nz))return!1}return!0},At(n,[{key:"I1",get:function(){return this.O1}},{key:"D1",get:function(){return this.j1}},{key:"ct",get:function(){if(this.R1)return this.R1;var t=this.yz.duration;return t===zi?1/0:t}},{key:"O_",get:function(){return HC?VC(this):function(t,n){var i=n;return i.U>0&&t.oq&&(i=i.YB(BD.nU(i.jn(i.U-1)))),i}(this,BD.xn(this.lj.buffered))}},{key:"hq",get:function(){var t;return null==(t=this.O1)?void 0:t.O_}},{key:"aq",get:function(){var t;return null==(t=this.j1)?void 0:t.O_}},{key:"Ig",get:function(){return this.U1.V0().Sn(new BD([0,this.ct],[!0,!0]))}},{key:"oq",get:function(){return(!this.O1||this.O1.oq())&&(!this.j1||this.j1.oq())}},{key:"Sg",get:function(){return this.yz.readyState}},{key:"K1",get:function(){if(!this.oq)return!1;var t=this.O_;return 0!==t.U&&t.Cn(t.U-1)<=this.Fm.U_}}]),n}(bL);function qC(t,n){var i=Mv(n),r=jC(i),e="audio/mp4"===i.Av,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.C1(n)&&(!u||!jn.zk))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.C1(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.C1(n))return f}}wt(),C(),mt(),Mt(),wt(),C(),Mt();var $C=function(t){function n(n){var i;return(i=t.call(this,dd.Uv)||this).currentTime=n,i}return kt(n,t),n}(Jo),tj=[dd._m,dd.qv,dd.im,dd.Uv,dd.jh,dd.Sh],nj=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).hU=n,v.jx=i,v.o2=r,v.cU=e,v.aU=u,v.uU=s,v.lU=o,v.Xx=a,v.h2=c,v.e2=h,v.n2=f,v}kt(n,t);var i=n.prototype;return i.JA=function(t,n,i){this.hU!==t&&(this.hU=t,this.e2=n,i&&!this.aU?(this.n2=!0,this.Co(new $C(this.U_))):(this.n2=!1,this.aU=!0,this.Co(new hD(this.U_))))},i.Hg=function(){this.cU||(this.cU=!0,this.Co(new uD(this.U_)))},i.Xg=function(){this.cU&&(this.cU=!1,this.Co(new sD(this.U_)))},i.h_=function(){this.Vo()},At(n,[{key:"U_",get:function(){return this.hU}},{key:"i2",get:function(){return this.e2}},{key:"s2",get:function(){return this.n2}},{key:"ct",get:function(){return this.jx}},{key:"G_",get:function(){return this.o2}},{key:"fg",get:function(){return this.cU}},{key:"Sg",get:function(){return this.h2}},{key:"Eg",get:function(){return this.aU}},{key:"og",get:function(){return this.uU},set:function(t){this.og!==t&&(this.uU=t,this.Co(new vD(this.U_,this.zg)))}},{key:"gg",get:function(){return this.lU},set:function(t){this.gg!==t&&(this.lU=t,this.Co(new aD(this.U_,this.gg)))}},{key:"zg",get:function(){return this.Xx},set:function(t){this.zg!==t&&(this.Xx=t,this.Co(new vD(this.U_,this.zg)))}}]),n}(Xo);function ij(t){return new nj(t.U_,t.ct,t.G_,t.fg,t.Eg,t.og,t.gg,t.zg,t.Sg,!1,t.s2)}function rj(t,n){n.ct===t.ct||A(n.ct)&&A(t.ct)||t.Co(new oD(t.ct)),t.og=n.og,t.zg=n.zg,t.gg=n.gg,n.fg?t.Hg():t.Xg().catch(Hn),n.U_!==t.U_||n.Sg>ak.BT&&t.Sg===ak.BT?t.JA(n.U_,n.i2,n.s2):!n.Eg&&t.Eg?t.Co(new hD(t.U_)):n.Eg&&!t.Eg&&t.Sg>=ak.UT&&t.Co(new fD(t.U_)),!n.G_&&t.G_&&t.Co(new cD(t.U_))}wt(),C(),Mt(),wt(),C(),mt(),Mt();var ej=function(t){function n(n){var i;return(i=t.call(this)||this).Oj=ak.BT,i.c2=function(){i.u2()},i.Fm=n,i}kt(n,t);var i=n.prototype;return i.a2=function(t){this.Oj!==t&&(this.Oj=t,this.Co(new ck(this.Fm.U_,t)))},i.u2=function(){this.a2(this.Ng())},i.tr=function(){this.a2(ak.BT)},i.h_=function(){this.Vo()},At(n,[{key:"Sg",get:function(){return this.Ng()}}]),n}(Xo);wt(),C(),Mt();var uj=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],sj=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<uj.length;r++){var e=uj[r];i.Fm.pz.addEventListener(e,i.c2)}return i}kt(n,t);var i=n.prototype;return i.Ng=function(){var t=this.Fm.pz.readyState;return t>ak.UT&&this.Fm.l2?ak.UT:(this.Fm.pz.seeking&&t>ak.Xn&&(t=ak.Xn),t)},i.h_=function(){for(var n=0;n<uj.length;n++){var i=uj[n];this.Fm.pz.removeEventListener(i,this.c2)}t.prototype.h_.call(this)},n}(ej);wt(),C();var oj=function(t){function n(n){var i;(i=t.call(this,n)||this).Fm.yn([dd.im,dd.Uv],i.c2);for(var r=0;r<uj.length;r++){var e=uj[r];i.Fm.pz.addEventListener(e,i.c2)}return i}kt(n,t);var i=n.prototype;return i.Ng=function(){if(this.Fm.pz.readyState===ak.BT)return ak.BT;var t=this.d2(),n=t?t.jn-t.Cn:0;if(!t)return ak.Xn;var i=this.Fm.gg;return this.f2()||n>=3*i?ak.FT:n>=3?ak.QT:ak.UT},i.d2=function(){var t=this.Fm.U_,n=this.Fm.O_.FB(.04),i=n.WB(t);if(!(i<0))return{Cn:t,jn:n.jn(i)}},i.f2=function(){if(this.Fm.G_)return!0;var t=this.Fm.ct,n=this.d2();return!!n&&t-n.jn<=.16666666666666666},i.h_=function(){this.Fm.fn([dd.im,dd.Uv],this.c2);for(var n=0;n<uj.length;n++){var i=uj[n];this.Fm.pz.removeEventListener(i,this.c2)}t.prototype.h_.call(this)},n}(ej);wt(),C(),Mt(),wt(),C(),Mt();var aj=[uk.Nw,dd.jh,dd.Sh,dd.im,dd.$v,dd.Uv,dd.Fv,dd.Ov,f_.ha],cj=function(t){function n(n){var i;return(i=t.call(this)||this).m2=!1,i.CV=function(){i.Yn()},i.Dj=n,i.Dj.yn(aj,i.CV),i}kt(n,t);var i=n.prototype;return i._2=function(){return(!this.Dj.s2||!this.Dj.g2)&&this.Dj.Sg<ak.QT},i.w2=function(){return!this.Dj.Eg&&!(this.Dj.fg||this.Dj.G_||this.Dj.lt||this._2())},i.Yn=function(){var t=this.m2;this.m2=this.w2(),!t&&this.m2&&this.Co(new gk(this.Dj.U_))},i.tr=function(){this.m2=!1},i.h_=function(){this.Vo(),this.Dj.fn(aj,this.CV)},n}(Xo),hj=function(t){function n(n){var i;return(i=t.call(this,n)||this).A2=!1,i.Uj=function(){i.A2=!0,i.Yn()},i.lj=n.pz,i.lj.addEventListener(uk.Sm,i.Uj),i}kt(n,t);var i=n.prototype;return i.w2=function(){return this.A2&&t.prototype.w2.call(this)},i.Yn=function(){this.A2&&(this.lj.paused||this.lj.ended||this.lj.error)&&(this.A2=!1),t.prototype.Yn.call(this)},i.tr=function(){t.prototype.tr.call(this),this.A2=!1},i.h_=function(){this.lj.removeEventListener(uk.Sm,this.Uj),t.prototype.h_.call(this)},n}(cj);wt(),C(),Mt();var fj=function(t){function n(n){var i;return(i=t.call(this,f_.ha)||this).lt=n,i}return kt(n,t),n}(Jo);function vj(t,n){return t.MS<=n&&t.bS>n}function dj(t,n){return function(t,n){return to(t.MS,n.MS,Dm)}(t,n)||function(t,n){return to(t.bS,n.bS,Dm)}(t,n)}function lj(t,n){return function(t,n){return to(t.kS,n.kS,Dm)}(t,n)||function(t,n){return to(t.LS,n.LS,Dm)}(t,n)}function gj(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,Kn,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===Ws.Zr;r++)if(t[r].QS(n))return r;return-(r+1)}function wj(t,n,i){var r=gj(t,n,i);return r>=0?r:-(r+1)}function yj(t){var n=t.Lt;if(!n)return-1;if(t instanceof Em)return n.M2(t);var i=n.L;if(!i)return-1;var r=gj(i.Rw,t,dj);return r>=0?r:-1}function Aj(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{b2:o,T2:a}}(t,n,dj);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),wt(),C(),mt();var mj=function(){function t(t){this.Xa=void 0,this.S2=t}var n=t.prototype;return n.fa=function(){return function(t){for(var n=[],i=0;i<t.U;i++)n[i]=t.IL(i).va;return n.item=function(n){var i=0|n,r=t.IL(i);return r&&r.va||void 0},l.defineProperty(n,"constructor",{value:_m}),n}(this)},n.oS=function(t){for(var n=this.S2,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.QS(r))return!0}return!1},n.IL=function(t){return this.S2[t]},At(t,[{key:"Rw",get:function(){return this.S2}},{key:"U",get:function(){return this.S2.length}},{key:"va",get:function(){if(this.Xa){var t=this.S2;this.Xa.length=t.length;for(var n=0;n<t.length;n++)this.Xa[n]=t[n].va}else this.Xa=this.fa();return this.Xa}}]),t}();wt(),C(),Mt();var pj=function(t){function n(n,i){var r;return(r=t.call(this,cA.Nw)||this).Lt=n,r.Sg=i,r}return kt(n,t),n.prototype.fa=function(){return new _j(this.Lt.va,this.Sg)},n}(uA),_j=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return kt(n,t),n}(sA);wt(),C(),Mt();var kj=function(t){function n(n){var i;return(i=t.call(this,cA.Dw)||this).Lt=n,i}return kt(n,t),n.prototype.fa=function(){return new Mj(this.Lt.va)},n}(uA),Mj=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return kt(n,t),n}(sA);wt(),C(),Mt();var bj=function(t){function n(n){var i;return(i=t.call(this,cA.lw)||this).yS=n,i}return kt(n,t),n.prototype.fa=function(){return new Tj(this.yS.va)},n}(uA),Tj=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return kt(n,t),n}(sA);wt(),C(),Mt();var Nj=function(t){function n(n){var i;return(i=t.call(this,cA.fw)||this).yS=n,i}return kt(n,t),n.prototype.fa=function(){return new Dj(this.yS.va)},n}(uA),Dj=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return kt(n,t),n}(sA),Ij=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).cS=qA(),h.nf=!1,h.CU=h_.Ch,h.h2=am.NONE,h.P2=void 0,h.S2=[],h.B2=[],h.j2=[],h.G2=0,h.R2=0,h.uS=i||"",h.L2=a||"",h.C2=n,h.Rx=e||"",h.nf=Boolean(u),h.E2=Boolean(o),h.z2=s||cm.DEFAULT,h.lS=r||"",h.O2=c||[],h.I2=new mj(h.S2),h.N2=new mj(h.j2),h}kt(n,t);var i=n.prototype;return i.D2=function(t){return ro(this.I2.Rw,(function(n){return n.o===t}))},i.fa=function(){return E_(this)},i.Xo=function(t){var n=D_(t);n!==this._v&&(this.CU=n,n===h_.Ch&&(this.j2.forEach((function(t){t.ro=!1})),lo(this.j2),this.R2=0),this.Co(new XA(this)))},i.lE=function(t){if(t&&!t.Lt){var n=gj(this.B2,t,lj);if(!(n>=0)){t.Lt=this;var i=-(n+1);this.B2.splice(i,0,t);var r=wj(this.L.Rw,t,dj);this.U2(t,r),this.Co(new bj(t))}}},i.U2=function(t,n){this.S2.splice(n,0,t),this.Q2(n),t.GS=n,n<this.R2&&(this.R2=n)},i.gD=function(t){if(t&&t.Lt===this){var n=this.M2(t);if(!(n<0)){t.ro=!1;var i=this.j2,r=gj(i,t,dj);r>=0&&co(i,r);var e=gj(this.B2,t,lj);e>=0&&co(this.B2,e),this.F2(t,n),this.Co(new Nj(t))}}},i.F2=function(t,n){co(this.S2,n),this.Q2(n),t.GS=-1,this.R2>n&&--this.R2},i.jS=function(t){if(t&&t.Lt===this){var n=this.M2(t);if(!(n<0)){this.F2(t,n);var i=wj(this.L.Rw,t,dj);this.U2(t,i);var r=so(this.j2,(function(n){return n===t}));if(r>=0){co(this.j2,r);var e=wj(this.j2,t,dj);this.j2.splice(e,0,t)}}}},i.Y2=function(t,n){var i=this.j2,r=this.S2,e=this.R2,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];vj(a,t)?a.bS<s&&(s=a.bS):(u=!0,co(i,o))}for(;e<r.length&&r[e].MS<=t;){var c=r[e];vj(c,t)&&(fo(i,c)||(u=!0,i.push(c)),c.bS<s&&(s=c.bS)),e++}return e<r.length&&r[e].MS<s&&(s=r[e].MS),u&&Hs(i,dj),this.R2=e,s},i.M2=function(t){return(-1===t.GS||t.GS>=this.G2)&&this.V2(),t.GS},i.V2=function(){for(var t=this.S2,n=this.G2;n<t.length;n++)t[n].GS=n;this.G2=t.length},i.Q2=function(t){t<this.G2&&(this.G2=g.max(t,0))},i.mv=function(t){this.pv||(this._v=t)},i.gn=function(){this.Vo();for(var t=this.S2.slice(),n=0;n<t.length;n++){t[n].gn()}lo(this.S2),lo(this.B2),lo(this.j2)},At(n,[{key:"q",get:function(){return this.N2}},{key:"L",get:function(){return this.I2}},{key:"_E",get:function(){return this.nf},set:function(t){this.nf=t}},{key:"pv",get:function(){return this.E2}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"fv",get:function(){return this.L2},set:function(t){this.L2=t}},{key:"zt",get:function(){return this.C2}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"gs",get:function(){return this.Rx}},{key:"Zw",get:function(){return this.O2}},{key:"_v",get:function(){return this.CU},set:function(t){this.Xo(t)}},{key:"Sg",get:function(){return this.h2},set:function(t){this.h2!==t&&(this.h2=t,this.Co(new pj(this,this.h2)))}},{key:"yv",get:function(){return this.P2},set:function(t){this.P2=t}},{key:"Av",get:function(){return this.z2},set:function(t){this.z2!==t&&(this.z2=t,this.Co(new kj(this)))}}]),n}(Xo);wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),Mt();var Ej=function(t){function n(n,i){var r;return(r=t.call(this,dm.mS,n)||this).GN=i,r}return kt(n,t),n.prototype.fa=function(){return new Sj(this.yS.va)},n}(Am),Sj=function(t){function n(n){return t.call(this,"enter",n)}return kt(n,t),n}(mm);wt(),C(),Mt();var Lj=function(t){function n(n,i){var r;return(r=t.call(this,dm.pS,n)||this).GN=i,r}return kt(n,t),n.prototype.fa=function(){return new Cj(this.yS.va)},n}(Am),Cj=function(t){function n(n){return t.call(this,"exit",n)}return kt(n,t),n}(mm);wt(),C(),Mt();var jj=function(t){function n(n){var i;return(i=t.call(this,cA.mw)||this).yS=n,i}return kt(n,t),n.prototype.fa=function(){return new xj(this.yS.va)},n}(uA),xj=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return kt(n,t),n}(sA);wt(),C(),Mt();var Oj=function(t){function n(n){var i;return(i=t.call(this,cA.Aw)||this).yS=n,i}return kt(n,t),n.prototype.fa=function(){return new zj(this.yS.va)},n}(uA),zj=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return kt(n,t),n}(sA),Rj=function(t){function n(n){var i;return(i=t.call(this)||this).PS=void 0,i.CS=void 0,i.Xa=void 0,i.ho=!1,i.H2=function(){i.ro=!0},i.X2=function(){i.ro=!1},i.cS=rm(),i.W2=n,i.kS=n.startTime,i.LS=n.endTime,i.W2.addEventListener("enter",i.H2),i.W2.addEventListener("exit",i.X2),i}kt(n,t);var i=n.prototype;return i.fa=function(){return pm(this)},i.QS=function(t){return this===t||AA(this,t)&&Im(this,t)&&this.FS(t)},i.FS=function(t){return yA(this.O,t.O)},i.gn=function(){this.Vo(),this.W2.removeEventListener("enter",this.H2),this.W2.removeEventListener("exit",this.X2)},At(n,[{key:"Xw",get:function(){return this.cS}},{key:"MS",get:function(){return this.W2.startTime},set:function(t){this.W2.startTime=t}},{key:"bS",get:function(){return this.W2.endTime},set:function(t){this.W2.endTime=t}},{key:"O",get:function(){return this.PS},set:function(t){this.PS=t}},{key:"zS",get:function(){return!!this.W2.pauseOnExit},set:function(t){this.W2.pauseOnExit=!!t}},{key:"Lt",get:function(){return this.CS},set:function(t){this.CS=t}},{key:"o",get:function(){return this.W2.id||""}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"ro",get:function(){return this.ho},set:function(t){this.ro!==t&&(this.ho=t,t?(this.Co(new Ej(this,this.MS)),this.CS&&this.CS.Co(new jj(this))):(this.Co(new Lj(this,this.bS)),this.CS&&this.CS.Co(new Oj(this))))}}]),n}(Ho);wt(),C(),Mt();var Bj=function(t){function n(n){var i;return(i=t.call(this,cA.Mw)||this).Lt=n,i}return kt(n,t),n.prototype.fa=function(){return new Pj(this.Lt.va)},n}(uA),Pj=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return kt(n,t),n}(sA);function Uj(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new Qj(t),t.THEOplayerVTTRegion=n),n}}wt(),C(),mt(),Mt(),wt(),C(),mt();var Qj=function(){function t(t){this.Xa=void 0,this.q2=t}return At(t,[{key:"Z2",get:function(){return this.q2}},{key:"o",get:function(){return this.q2.id||""}},{key:"ji",get:function(){return+this.q2.width||0},set:function(t){this.q2.width=t||0}},{key:"VS",get:function(){return+this.q2.lines||0},set:function(t){this.q2.lines=t||0}},{key:"WS",get:function(){return+this.q2.regionAnchorX||0},set:function(t){this.q2.regionAnchorX=t||0}},{key:"HS",get:function(){return+this.q2.regionAnchorY||0},set:function(t){this.q2.regionAnchorY=t||0}},{key:"ZS",get:function(){return+this.q2.viewportAnchorX||0},set:function(t){this.q2.viewportAnchorX=t||0}},{key:"qS",get:function(){return+this.q2.viewportAnchorY||0},set:function(t){this.q2.viewportAnchorY=t||0}},{key:"XS",get:function(){return this.q2.scroll||""}},{key:"va",get:function(){return this.Xa||(this.Xa=zm(this)),this.Xa}}]),t}();var Yj=function(t){function n(n){return t.call(this,n)}kt(n,t);var i=n.prototype;return i.fa=function(){return km(this)},i.FS=function(t){return Sm(this,t)},At(n,[{key:"O",get:function(){return this.W2.text},set:function(t){this.W2.text=t}},{key:"Pt",get:function(){return this.W2.vertical||""},set:function(t){this.W2.vertical=t||""}},{key:"ES",get:function(){return this.W2.snapToLines},set:function(t){this.W2.snapToLines=t}},{key:"SS",get:function(){return this.W2.line},set:function(t){this.W2.line=t}},{key:"By",get:function(){return+this.W2.size},set:function(t){this.W2.size=Bi(t,0,100)}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(Rj),Gj=function(t){function n(n){return t.call(this,n)}return kt(n,t),At(n,[{key:"DS",get:function(){return Uj(this.W2.region)}},{key:"NS",get:function(){return this.W2.lineAlign||"start"},set:function(t){this.W2.lineAlign=t||"start"}},{key:"po",get:function(){return this.W2.position},set:function(t){this.W2.position=t}},{key:"IS",get:function(){return this.W2.positionAlign||"auto"},set:function(t){this.W2.positionAlign=t||"auto"}},{key:"TS",get:function(){return this.W2.align||"center"},set:function(t){this.W2.align=t||"center"}}]),n}(Yj),Fj=function(t){function n(n){return t.call(this,n)}return kt(n,t),At(n,[{key:"DS",get:function(){return Uj(this.Z2)}},{key:"Z2",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.W2.track,this.W2.regionId)}},{key:"NS",get:function(){return function(t){return"middle"===t?"center":t}(this.W2.lineAlign||"start")},set:function(t){this.W2.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"po",get:function(){return this.W2.position},set:function(t){this.W2.position=function(t,n){return ym(t,n)}(t,this.TS)}},{key:"IS",get:function(){return function(t){return gm[t]}(this.W2.positionAlign||"middle")},set:function(t){this.W2.positionAlign=function(t,n){return lm[wm(t,n)]}(t||"center",this.TS)}},{key:"TS",get:function(){return function(t){return"middle"===t?"center":t}(this.W2.align||"middle")},set:function(t){this.W2.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(Yj);function Vj(t,n){return t.O===n.O}function Wj(t,n){if(0!==n.length){var i=n.length-1;if(n[i].MS<t.MS)Xj(n,i,t.MS);else{var r=n[0];if(r.MS>t.MS)t.bS=r.MS;else{var e=gj(n,t,dj);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].MS<t.MS&&Xj(n,s,t.MS);if(u<n.length){var o=n[u];t.bS=o.MS}}}}}}function Xj(t,n,i){for(var r=t[n].MS,e=n;e>=0&&t[e].MS===r;e--)t[e].bS=i}function Zj(t){return pm(t)}wt(),C(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C();var Hj,Kj,Jj=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).K2=i,r}kt(n,t);var i=n.prototype;return i.fa=function(){return Zj(this)},i.FS=function(t){return Vj(this,t)},At(n,[{key:"O",get:function(){return this.K2}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(Rj);function qj(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function $j(t){switch(t){case 0:return rc;case 1:return oc;case 2:return ac;case 3:return wc}}function tx(t,n){var i=n.Ku,r=t.byteLength,e=Mc(t);return n.KA(r-i),Nc(e,i,r).buffer}function nx(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function ix(t,n,i){var r=Qa(t,n);if(qj(r)){var e=$j(r);return{id:i,language:nc(t,n,3),description:e(t,n),text:e(t,n)}}}function rx(t,n,i){var r=Qa(t,n);if(qj(r)){var e=$j(r);return{id:i,mimeType:rc(t,n),fileName:e(t,n),description:e(t,n),data:tx(t,n)}}}function ex(t,n,i){var r=Qa(t,n);if(qj(r)){for(var e=$j(r),u=[];n.Ku<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function ux(t,n,i){var r=Qa(t,n);if(qj(r)){for(var e=$j(r),u=nc(t,n,3),s=Qa(t,n),o=Qa(t,n),a=e(t,n),c=!1,h=[];n.Ku<t.byteLength;){var f=void 0;if(1===r){var v=sc(t,n);void 0===v?v=c:c=v,f=ac(t,n,v)}else f=e(t,n);if(!f||n.Ku+4>t.byteLength)break;h.push({text:f,timestamp:Ka(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function sx(t,n,i){return{id:i,ownerIdentifier:rc(t,n),identifier:tx(t,n)}}function ox(t,n,i){var r=Qa(t,n);if(qj(r)){var e=$j(r);return{id:i,language:nc(t,n,3),description:e(t,n),text:e(t,n)}}}function ax(t,n,i){var r=Qa(t,n);if(qj(r))return{id:i,text:$j(r)(t,n)}}function cx(t,n,i){return{id:i,url:rc(t,n)}}function hx(t,n,i){var r=Qa(t,n);if(qj(r)){var e=$j(r);return{id:i,description:e(t,n),text:e(t,n)}}}function fx(t,n,i){var r=Qa(t,n);if(qj(r))return{id:i,description:$j(r)(t,n),url:rc(t,n)}}function vx(t,n,i){switch(i){case"COM":return ix(t,n,i);case"GEO":return rx(t,n,i);case"IPL":return ex(t,n,i);case"PIC":return function(t,n,i){var r=Qa(t,n);if(qj(r)){var e,u,s=$j(r),o=nc(t,n,3),a=Qa(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=rc(t,n)):(e="image/"+o.toLowerCase(),u=tx(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return ux(t,n,i);case"TXX":return hx(t,n,i);case"UFI":return sx(t,n,i);case"ULT":return ox(t,n,i);case"WXX":return fx(t,n,i);default:if("T"===i.charAt(0))return ax(t,n,i);if("W"===i.charAt(0))return cx(t,n,i)}}function dx(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Qa(t,n);if(qj(r)){var e=$j(r),u=rc(t,n);return{id:i,mimeType:u,pictureType:Qa(t,n),description:e(t,n),data:"--\x3e"===u?rc(t,n):tx(t,n)}}}(t,n,i);case"COMM":return ix(t,n,i);case"COMR":return function(t,n,i){var r=Qa(t,n);if(qj(r)){var e,u,s=$j(r),o=rc(t,n),a=nc(t,n,8),c=rc(t,n),h=Qa(t,n),f=s(t,n),v=s(t,n);return n.Ku<t.byteLength&&(e=rc(t,n)||"image/",u=tx(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return rx(t,n,i);case"IPLS":return ex(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:rc(t,n),data:tx(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Qa(t,n),position:Ka(t,n)}}(t,n,i);case"SYLT":return ux(t,n,i);case"TXXX":return hx(t,n,i);case"UFID":return sx(t,n,i);case"USER":return function(t,n,i){var r=Qa(t,n);if(qj(r)){var e=$j(r);return{id:i,language:nc(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return ox(t,n,i);case"WXXX":return fx(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return ax(t,n,i);default:var r=i.charAt(0);if("T"===r)return ax(t,n,i);if("W"===r)return cx(t,n,i)}}wt(),C(),wt(),C(),function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(Hj||(Hj={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(Kj||(Kj={}));var lx=10;function gx(t,n){return(127&Qa(t,n))<<21|(127&Qa(t,n))<<14|(127&Qa(t,n))<<7|127&Qa(t,n)}function wx(t,n){switch(t){case 4:return{J2:Ua(n,0),t4:Ua(n,1),i4:Ua(n,2),e4:Ua(n,3)};case 3:return{J2:Ua(n,0),t4:Ua(n,1),i4:Ua(n,2)};case 2:return{J2:Ua(n,0),s4:Ua(n,1)}}}function yx(t,n,i){switch(i.Gy){case 3:i.Vy.t4&&function(t,n){var i=n.Ku,r=Ka(t,n)+4,e=32768&Za(t,n);n.JA(i+r),e&&Ka(t,n)}(t,n);break;case 4:i.Vy.t4&&function(t,n){var i=n.Ku,r=gx(t,n);n.JA(i+r)}(t,n)}}function Ax(t,n){if(t.byteLength-n.Ku<lx)return null;if(73!==Qa(t,n)||68!==Qa(t,n)||51!==Qa(t,n))return null;var i=Qa(t,n),r=Qa(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Qa(t,n),u=gx(t,n);return{Gy:i,n4:r,Vy:wx(i,e),r4:u}}function mx(t,n,i){switch(i){case 2:return function(t,n){if(!(n.Ku+6>t.byteLength))return{o:nc(t,n,3),By:Wa(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.Ku+10>t.byteLength)){var i=nc(t,n,4),r=Ka(t,n);Qa(t,n);var e=Qa(t,n);return{o:i,By:r,Vy:{s4:Ua(e,0),o4:Ua(e,1),groupingIdentity:Ua(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.Ku+10>t.byteLength)){var i=nc(t,n,4),r=gx(t,n);Qa(t,n);var e=Qa(t,n);return{o:i,By:r,Vy:{groupingIdentity:Ua(e,1),s4:Ua(e,4),o4:Ua(e,5),J2:Ua(e,6),h4:Ua(e,7)}}}}(t,n)}}function px(t){for(var n=Mc(t),i=new m(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return kc(Nc(i,0,r))}function _x(t,n){var i=n||new Ec,r=Ax(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.Ku,u=_c(t,e,e+i.r4),s=new Ec;switch(n.KA(i.r4),i.Gy){case 2:case 3:i.Vy.J2&&(u=px(u))}yx(t,n,i);for(;s.Ku<u.byteLength;){var o=kx(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{zy:r,a4:e}}function kx(t,n,i){var r=mx(t,n,i.Gy);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.By){var e,u,s=n.Ku,o=_c(t,s,s+r.By);switch(n.KA(r.By),i.Gy){case 2:var a=r;e=vx(u=o,new Ec,a.o);break;case 3:var c=r,h=new Ec;!function(t,n,i){var r,e,u,s=i.Vy;s.s4&&(r=Ka(t,n)),s.o4&&(e=Qa(t,n)),s.groupingIdentity&&(u=Qa(t,n))}(o,h,c),e=dx(u=_c(o,h.Ku,o.byteLength),new Ec,c.o);break;case 4:var f=r,v=new Ec;f.Vy.J2&&(o=px(o)),function(t,n,i){var r,e,u,s,o=i.Vy;o.groupingIdentity&&(r=Qa(t,n)),o.s4&&(e=Ka(t,n)),o.o4&&(u=Qa(t,n)),o.h4&&(s=gx(t,n))}(o,v,f),e=dx(u=_c(o,v.Ku,o.byteLength),new Ec,f.o)}if(!e){var d=Dc(Mc(u));e=nx(r.o,d.buffer)}return e}}wt(),C();function Mx(t){return zn(t)&&"org.id3"===t.type&&zn(t.value)}function bx(t){return function(t,n,i){return ax(t,n,i)}(new DataView(t.data),new Ec,t.key)}function Tx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return bx(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return nx(t.key,t.data)}(t)}wt(),C(),wt(),C();var Nx=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).S2=[],e.j2=[],e.CU=h_.Ch,e.h2=am.NONE,e.P2=void 0,e.z2=cm.DEFAULT,e.w4=!1,e.m4=0,e.S4=function(){e.c4(),e.aS.removeEventListener("cuechange",e.S4)},e.v4=function(){e._v!==h_.Ch&&(e.T4(),e.Y2(),e.S2.length&&e.l4(am.LOADING))},e.N4=function(){e.l4(am.LOADED)},e.I4=function(){e.l4(am.ERROR)},e.aS=n,e.g4=r,e.aS.addEventListener("cuechange",e.S4),e.aS.addEventListener("cuechange",e.v4),e.u4=i,e.u4&&(e.P2=ry(e.u4.src),e.u4.addEventListener("load",e.N4),e.u4.addEventListener("error",e.I4)),e.cS=qA(),e.lS=n.label||"",e.I2=new mj(e.S2),e.N2=new mj(e.j2),e._v=e.d4,Uo((function(){e.v4(),e.l4(am.NONE)})),e}kt(n,t);var i=n.prototype;return i.fa=function(){return E_(this)},i.lE=function(t){t.Lt!==this&&(t.Lt=this,this.aS.addCue(t.W2),this.v4())},i.gD=function(t){t.Lt===this&&(t.Lt=void 0,this.aS.removeCue(t.W2),this.v4())},i.D2=function(t){var n,i=null==(n=this.aS.cues)?void 0:n.getCueById(t);if(i){var r=Dx(i);return r&&Pn(r)?r[0]:r}},i.wD=function(t){this.m4>=t||(this.m4=t,Z_(this,t))},i.c4=function(){var t=this._v;this._4||t!==h_.Jn?this.d4=t:this.d4=h_.vv},i.A4=function(){var t=this._v,n=this.d4;t!==n&&(this._4||t!==h_.Jn||n!==h_.vv)&&("metadata"===this.zt&&n===h_.Ch?this._v=t:this.w4&&n===h_.Ch&&t===h_.Jn?this.d4=t:this._v=n)},i.u2=function(t){this.h2!==t&&(this.h2=t,this.Co(new pj(this,t)))},i.l4=function(t){var n=g.max(this.h2,this.f4,t);this.u2(n)},i.y4=function(t){var n=Dx(t);if(n)return n;if(Pn(n=this.M4(t)))for(var i=0;i<n.length;i++){n[i].Lt=this}else n.Lt=this;return t.THEOplayerTextTrackCue=n,n},i.M4=function(t){return t.endTime<this.m4?[]:Mx(t)?(this.Av=cm.ID3,function(t){var n;try{n=Tx(t.value)}catch(t){n=nx("")}return new Jj(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Av=cm.ID3,function(t){var n=[];try{var i=_x(new DataView(t.data));if(i)for(var r=0,e=i.a4;r<e.length;r++){var u=e[r];n.push(new Jj(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Av=cm.WEBVTT,function(t){return"regionId"in t}(t)?new Fj(t):new Gj(t)):new Rj(t)},i.b4=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.y4(null!=(e=t[r])?e:t.item(r));if(Pn(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.T4=function(){for(var t=this.b4(this.aS.cues),n=Aj(this.S2,t),i=0,r=n.T2;i<r.length;i++){var e=r[i];e.fn(dm.pS,this.v4),e.fn(dm.mS,this.v4),this.Co(new Nj(e))}for(var u=0,s=n.b2;u<s.length;u++){var o=s[u];o.yn(dm.mS,this.v4),o.yn(dm.pS,this.v4),this.Co(new bj(o))}},i.Y2=function(){for(var t=this.b4(this.aS.activeCues),n=Aj(this.j2,t),i=0,r=n.T2;i<r.length;i++){r[i].ro=!1}for(var e=0,u=n.b2;e<u.length;e++){u[e].ro=!0}(n.b2.length||n.T2.length)&&this.Co(new Bj(this))},i.mv=function(t){this._v=t},i.gn=function(){this.Vo();for(var t=this.S2.slice(),n=0;n<t.length;n++){t[n].gn()}lo(this.S2),lo(this.j2),this.aS.removeEventListener("cuechange",this.S4),this.aS.removeEventListener("cuechange",this.v4),this.u4&&(this.u4.removeEventListener("load",this.N4),this.u4.removeEventListener("error",this.I4),au(this.u4))},At(n,[{key:"q",get:function(){return this.N2}},{key:"_E",get:function(){return this.u4?this.u4.default:void 0}},{key:"L",get:function(){return this.I2}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"o",get:function(){return this.aS.id||this.u4&&this.u4.id||""}},{key:"Xw",get:function(){return this.cS}},{key:"fv",get:function(){return this.aS.inBandMetadataTrackDispatchType||""}},{key:"zt",get:function(){return this.aS.kind||C_.HA}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,void 0!==this.u4&&(this.u4.label=t),this.Co(new HA(this)))}},{key:"gs",get:function(){return this.aS.language||""}},{key:"_v",get:function(){return this.CU},set:function(t){var n=this._v;this.CU=D_(t),this.c4();var i=this._v;n!==i&&this.Co(new XA(this)),i!==h_.Ch&&this.l4(am.LOADING)}},{key:"d4",get:function(){return D_(this.aS.mode)},set:function(t){this.aS.mode=t}},{key:"dS",get:function(){return this.aS}},{key:"Sg",get:function(){return this.h2}},{key:"f4",get:function(){return this.u4?+this.u4.readyState||am.NONE:am.LOADED}},{key:"yv",get:function(){return this.P2}},{key:"Av",get:function(){return this.z2},set:function(t){this.z2!==t&&(this.z2=t,this.Co(new kj(this)))}},{key:"_4",get:function(){return this.g4},set:function(t){var n=this;this.g4=t,t&&(this.w4=!0,a((function(){n.w4=!1}),50)),this.c4()}}]),n}(Xo);function Dx(t){return null==t?void 0:t.THEOplayerTextTrackCue}wt(),C(),Mt(),wt(),C();function Ix(t,n){return $s(t.GN,n.GN)||function(t,n){return t.Lt===n.Lt?qs(yj(t),yj(n)):W_(t.Lt,n.Lt)}(t.yS,n.yS)||function(t,n){return t===n?Ws.Zr:t===dm.mS?Ws.$f:Ws.Jf}(t.type,n.type)}var Ex=function(){function t(t,n){var i=this;this.Dl=[],this.L4=0,this.An=0,this.D4=[],this.Y4=[],this.x4=[],this.C4=!1,this.O4=!1,this.j4=0,this.X4=function(){i.L4=0,i.K4(),i.V4()},this.J4=function(){i.K4(),i.V4()},this.t3=function(){i.C4=!0,i.J4()},this.i3=function(){i.O4=!0,i.j4=0,i.E4()},this.e3=function(){i.K4(),i.V4()},this.R4=function(){i.P4(),i.K4(),i.V4()},this.U4=function(t){var n=t.yS;fo(i.Y4,n)||i.Y4.push(n),i.q4(n),i.G4()},this.Q4=function(t){var n=t.yS;ao(i.D4,n),ao(i.Y4,n),i.q4(n),i.G4()},this.F4=function(t){i.q4(t.yS),i.G4()},this.H4=n,this.Qo=t,t.yn(dd.fm,this.J4),t.yn(dd.jh,this.t3),t.yn(uk.Sm,this.J4),t.yn(dd.Sh,this.J4),t.yn(dd.im,this.i3),t.yn(dd.$v,this.e3),this.G4()}var n=t.prototype;return n.tr=function(){lo(this.D4);for(var t=0,n=this.Dl.slice();t<n.length;t++){var i=n[t];this.it(i)}this.E4(),this.L4=0,this.An=0,lo(this.x4),this.C4=!1,this.O4=!1,this.j4=0},n.tt=function(t){fo(this.Dl,t)||(this.Dl.push(t),t.yn(cA.ra,this.R4),t._v!==h_.Ch&&this.P4())},n.it=function(t){ao(this.Dl,t)&&(t.fn(cA.ra,this.R4),t._v!==h_.Ch&&this.P4())},n.P4=function(){var t=this.x4,n=this.Dl.filter((function(t){return t._v!==h_.Ch}));this.x4=n;for(var i=0;i<t.length;i++){var r=t[i];fo(n,r)||this.z4(r)}for(var e=0;e<n.length;e++){var u=n[e];fo(t,u)||this.B4(u)}this.j4=0},n.B4=function(t){if(t.yn(cA.lw,this.U4),t.yn(cA.fw,this.Q4),t.yn(cA.gw,this.F4),t.L.U>0){for(var n=0,i=t.L.Rw;n<i.length;n++){var r=i[n];this.Y4.push(r)}this.G4()}},n.z4=function(t){if(t.fn(cA.lw,this.U4),t.fn(cA.fw,this.Q4),t.fn(cA.gw,this.F4),t.L.U>0){for(var n=0,i=t.L.Rw;n<i.length;n++){var r=i[n];ao(this.D4,r),ao(this.Y4,r)}this.G4()}},n.V4=function(){this.Qo.Eg||this.Qo.fg?this.E4():this.G4()},n.G4=function(){this.C4&&0!==this.x4.length&&(this.j4-this.Qo.U_>.25*this.Qo.gg||this.L4||(this.L4=this.H4.W4(this.X4)))},n.E4=function(){this.L4&&(this.H4.Z4(this.L4),this.L4=0)},n.q4=function(t){0!==this.j4&&(t.ro!==vj(t,this.Qo.U_)?this.j4=0:this.An<t.MS&&t.MS<this.j4?this.j4=t.MS:this.An<t.bS&&t.bS<this.j4&&(this.j4=t.bS))},n.K4=function(){if(this.C4&&0!==this.x4.length&&!this.Qo.Eg){var t=this.x4,n=this.An,i=this.Qo.U_,r=i-n<-.1,e=this.O4||r;e&&i>n&&i-n<.1&&(e=!1),this.O4=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.Y2(i,e);c<s&&(s=c);for(var h=0,f=a.q.Rw;h<f.length;h++){var v=f[h];u.push(v)}}var d=this.D4.slice();if(e);else for(var l=0;l<t.length;l++){V_(t[l],n-Ki,i,d)}for(var w=d.length-1;w>=0;w--)fo(u,d[w])&&co(d,w);var y=[];if(!e)for(var A=d.length-1;A>=0;A--){var m=d[A];m.MS>n&&m.bS<=i&&(y.push(m),co(d,A))}for(var p=0,_=this.Y4;p<_.length;p++){ao(y,_[p])}lo(this.Y4);for(var k=[],M=[],b=0;b<y.length;b++){var T=y[b];T.ro||k.push(new Ej(T,T.MS)),k.push(new Lj(T,g.max(T.MS,T.bS))),T.ro=!1}for(var N=0;N<d.length;N++){var D=d[N];D.ro&&(k.push(new Lj(D,g.max(D.MS,D.bS))),D.ro=!1)}for(var I=0;I<u.length;I++){var E=u[I];E.ro||(k.push(new Ej(E,E.MS)),E.ro=!0)}k.sort(Ix);for(var S=0;S<k.length;S++){var L=k[S],C=L.yS;C.Co(L);var j=C.Lt;j&&(L.type===dm.mS?j.Co(new jj(C)):j.Co(new Oj(C)),fo(M,j)||M.push(j))}M.sort(W_);for(var x=0;x<M.length;x++){var O=M[x];O.Co(new Bj(O))}this.An=i,this.D4=u,this.j4=s}},n.gn=function(){this.tr(),this.Qo.fn(dd.fm,this.J4),this.Qo.fn(dd.jh,this.t3),this.Qo.fn(uk.Sm,this.J4),this.Qo.fn(dd.Sh,this.J4),this.Qo.fn(dd.im,this.i3),this.Qo.fn(dd.$v,this.e3)},t}();wt(),C();var Sx=function(){function t(){}var n=t.prototype;return n.W4=function(t){return ZE(t)},n.Z4=function(t){HE(t)},t}(),Lx=new Sx,Cx=function(t){function n(n,i){return void 0===i&&(i=Lx),t.call(this,n,i)}return kt(n,t),n}(Ex);wt(),C(),Wt(),mt(),Mt(),wt(),C(),mt(),Mt();var jx=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)}return kt(n,t),n.prototype.FS=function(t){return Vj(this,t)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=Zj(this)),this.Xa}}]),n}(Em);wt(),C(),Mt(),wt(),C(),Mt();var xx=function(t){function n(n,i,r){return void 0===r&&(r=cm.DEFAULT),t.call(this,C_.ZA,"",i||"","",!1,r,!1,n)}return kt(n,t),n}(Ij),Ox=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Av=cm.ID3,r}kt(n,t);var i=n.prototype;return i.lE=function(n){Wj(n,this.S2),t.prototype.lE.call(this,n)},i.fa=function(){return E_(this)},n}(xx),zx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).m4=0,i.v4=function(){i._v!==h_.Ch&&(i.T4(),i.l4(am.LOADED))},i.aS=n,i.aS.addEventListener("cuechange",i.v4),i._v=i.d4,Uo((function(){i.v4()})),i}kt(n,t);var i=n.prototype;return i.Xo=function(n){t.prototype.Xo.call(this,n),this.d4=this._v},i.lE=function(n){t.prototype.lE.call(this,n),n.W2.track!==this.aS&&this.aS.addCue(n.W2)},i.gD=function(n){t.prototype.gD.call(this,n),n.W2.track===this.aS&&this.aS.removeCue(n.W2)},i.wD=function(t){this.m4>=t||(this.m4=t,Z_(this,t))},i.l4=function(t){this.Sg=g.max(this.Sg,t)},i.T4=function(){var t=this.aS.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(Mx(s)&&s.endTime>=this.m4){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new Rx(s);i.push(a)}else r.push(s)}Hs(i,dj);for(var c=Aj(this.L.Rw.slice(),i),h=0;h<r.length;h++){var f=r[h];this.aS.removeCue(f)}for(var v=0,d=c.T2;v<d.length;v++){var l=d[v];l.gn(),this.gD(l)}for(var g=0,w=c.b2;g<w.length;g++){var y=w[g];this.lE(y)}}},i.gn=function(){this.aS.removeEventListener("cuechange",this.v4),t.prototype.gn.call(this)},At(n,[{key:"o",get:function(){return this.aS.id||""}},{key:"fv",get:function(){return this.aS.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.aS.language||""}},{key:"d4",get:function(){return D_(this.aS.mode)},set:function(t){this.aS.mode=t}},{key:"dS",get:function(){return this.aS}}]),n}(Ox),Rx=function(t){function n(n){var i,r=n.startTime,e=Tx(n.value);return(i=t.call(this,r,e,n.id)||this).W2=n,i.W2.THEOplayerTextTrackCue=Vt(i),i}return kt(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.W2.THEOplayerTextTrackCue=void 0},n}(jx);function Bx(t){return"TXXX"===t.id||"TXX"===t.id}wt(),C(),Wt(),Ot(),Mt(),Pt(),wt(),C();var Px=function(t){function n(n,i){var r;(r=t.call(this)||this).oE=n,r.n3=i,r.a3=Ku();var e=Vt(r);return r.oz=xt((function(t){var n;return zt(this,(function(i){switch(i.label){case 0:return(n=t.Lt).Av?[3,2]:[4,n.k_(cA.Dw)];case 1:i.sent(),i.label=2;case 2:if(n.Av!==cm.ID3)return[2];i.label=3;case 3:return 0!==n.L.U?[3,5]:[4,n.k_(cA.lw)];case 4:return i.sent(),[3,3];case 5:return e.o3(n),[2]}}))})),r.cz=function(t){var n=t.Lt;if(n.Av===cm.ID3&&r.a3.has(n.Xw)){var i=r.a3.get(n.Xw);r.it(i),r.oE.fE(i),n.fn(cA.lw,r.l3)}},r.l3=function(t){Ux(t.yS)&&r.u3(t.yS)},r.s3(),r}kt(n,t);var i=n.prototype;return i.s3=function(){this.n3.yn(eA.hw,this.oz),this.n3.yn(eA.uw,this.cz)},i.r3=function(){this.n3.fn(eA.hw,this.oz),this.n3.fn(eA.uw,this.cz)},i.o3=function(t){var n=t.L.Rw[0];if(Ux(n)){var i=function(t){var n=t.match(Qx);if(!n)return;return{Lt:n[1],gs:n[2]}}(n.O.description),r=i.Lt,e=i.gs;if(!this.h3(r,e)){var u=this.oE.rE(C_.HA,t.o,r,e,!1,cm.TTML);this.tt(u),this.a3.set(t.Xw,u);for(var s=0,o=t.L.Rw;s<o.length;s++){var a=o[s];Ux(a)&&this.u3(a)}t.yn(cA.lw,this.l3)}}},i.h3=function(t,n){return this.Z.Rw.some((function(i){return i.kh===t&&i.gs===n}))},i.u3=function(t){if(t.Lt)for(var n=this.a3.get(t.Lt.Xw),i=w_(t.O.text,n,{vI:0,mI:1/0,pI:t.MS}),r=0;r<i.length;r++){var e=i[r];n.lE(e)}},i.tr=function(){var n=this;return xt((function(){var i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:for(i=0,r=n.n3.Rw;i<r.length;i++)r[i].fn(cA.lw,n.l3);for(e=0,u=n.Z.Rw;e<u.length;e++)s=u[e],n.oE.fE(s);return n.a3.clear(),[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.r3(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(K_);function Ux(t){return function(t){return Bx(t)&&Qx.test(t.description)}(t.O)}var Qx=/^Track:(.+),Lang:(.+)$/;wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt();var Yx=function(t){function n(n){var i;return(i=t.call(this,dd.Nv)||this).errorObject=n,i}return kt(n,t),At(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Jo);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Mt();var Gx=function(t){function n(n){var i;return(i=t.call(this,dd.Iv)||this).d3=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var Fx=function(t){function n(n){var i;return(i=t.call(this,"wm")||this).d3=n,i}return kt(n,t),n}(Jo),Vx=new qv,Wx=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return kt(n,t),n}(Jo),Xx=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).v3=n,e.g3=i,e.w3=r,e.f3=!1,e.b3=!1,e.$O=new So,e.hO=function(t){if(!e.$O.f_.n_)switch(t.AL){case"license-request":case"license-renewal":e.hR(t.pL,t.yL).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new PA(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.AL))}},e.y3=function(t){e.v3.JC.DL((function(t,n){switch(t){case"usable":on.A_((function(){e.b3=!0,e.Co(new Gx(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.Co(new Fx(n))}}))},e.M3=function(t){e.Ss(new PA(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yn("pL",e.hO),n.yn("vL",e.y3),n.yn("lt",e.M3),n.XC.then((function(){return e.A3()}),(function(t){return e.Ss(t)})),e}kt(n,t);var i=n.prototype;return i.sO=function(){var t=this;return this.f3=!0,Vx.JO((function(n){return t._3(n)}),this.$O.f_)},i._3=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),jo(t),[4,n.g3.$j(t)];case 1:return s.sent(),[4,n.g3.tR(n.w3.fL,n.w3.SL,t)];case 2:return i=s.sent(),[4,n.v3.sO(n.w3.fL,n.w3.SL,i)];case 3:return s.sent(),[3,5];case 4:throw xo(r=s.sent()),e=r instanceof zc?r.RL:void 0,u=new PA(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.hR=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return ma(t,jc())}(t)?[4,i.g3.wR(new m(t),i.$O.f_)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.g3.vR(new m(t),n,i.$O.f_)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Co(e=c.sent()))return[2];throw e;case 6:if(i.$O.f_.n_)return[2];u=i.m3,s=new Cc,i.m3=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.v3.Yn(r)];case 8:return c.sent(),[4,Fo(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof zc?o.RL:void 0,new PA(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.OL];case 12:c.sent(),c.label=13;case 13:return s.LL(),i.m3===s&&(i.m3=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof PA?t:new PA(Qv.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new Yx(n)),this.Ws()},i.A3=function(){this.v3.fn("pL",this.hO),this.v3.fn("vL",this.y3),this.v3.fn("lt",this.M3),this.b3=!1,this.$O.g_(),this.Co(new Wx(this))},i.Ws=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:t.Vo(),i.label=1;case 1:return void 0===(n=t.m3)?[3,3]:[4,n.OL];case 2:i.sent(),i.label=3;case 3:if(t.m3!==n)return[3,1];i.label=4;case 4:return t.A3(),[4,t.v3.Ws().catch(Hn)];case 5:return i.sent(),[2]}}))}))()},n}(Xo);wt(),C();var Zx=[dd.Iv,dd.Nv,dd.gm],Hx=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).L3=[],e.N3=void 0,e.E3=[],e.x3=function(t){t.session.fn(Zx,e.Ds),t.session.fn("Ws",e.x3),ao(e.L3,t.session)},e.Fp=n,e.cO=i,e.T3=r,e}kt(n,t);var i=n.prototype;return i.Jj=function(){return this.T3.Jj()},i.S3=function(t){return this.N3||(this.N3=this.I3(t)),this.N3},i.I3=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return jo(t),[4,n.T3.wR(new m(jc()),t)];case 1:if(i=r.sent(),jo(t),!n.cO)throw new v("Invalid MediaKeys when setting ServerCertificate");return[4,n.cO.lO(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.D3=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:if(!n.cO)throw new v("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.E3.push(t),[4,n.cO.uO("temporary")];case 2:return i=e.sent(),r=new Xx(i,n.T3,t),n.L3.push(r),r.yn(Zx,n.Ds),r.yn("Ws",n.x3),[2,r];case 3:return ao(n.E3,t),[7];case 4:return[2]}}))}))()},i.C3=function(t){if(t.O3)return!1;for(var n=0,i=this.L3;n<i.length;n++){if(Kx(i[n].w3,t))return!0}for(var r=0,e=this.E3;r<e.length;r++){if(Kx(e[r],t))return!0}return!1},i.gn=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.cO=void 0,t.Vo(),n=t.L3.slice(),lo(t.L3),[4,K.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.T3.h_(),[2]}}))}))()},At(n,[{key:"Qp",get:function(){return this.Fp}}]),n}(Xo);function Kx(t,n){return!t.O3&&t.fL===n.fL&&ma(t.SL,n.SL)}var Jx=function(t){function n(n){var i;return(i=t.call(this)||this).$O=new So,i.XZ=new qv,i.GO=void 0,i.T3=void 0,i.yz=void 0,i.Fp=void 0,i.H3=function(t){i.Q3(t.fL,t.SL,i.$O.f_).catch((function(t){return i.Ss(t)}))},i.Fm=n,i.Fm.yn(Ko.Cv,i.H3),i}kt(n,t);var i=n.prototype;return i.$n=function(t,n){this.yz=t,this.GZ(n)},i.GZ=function(t){this.GO=t,this.R3(this.$O.f_).catch(Oo)},i.R3=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return on.Ys.P3?[4,n.z3(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.GO&&n.GO.B3?[4,n.U3(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.z3=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f,v;return zt(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.GO)?void 0:i.Iz))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.GO)?void 0:r.Iz)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.KP)?c:[],d.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.Q3(a.Qp.fL,v,t)];case 4:return d.sent(),e=!0,[3,6];case 5:return xo(d.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.Q3=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d;return zt(this,(function(l){switch(l.label){case 0:if(jo(i),!n.byteLength)return[2];if(!r.GO||!r.GO.Iz.length)throw new PA(Qv.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==us&&t!==os&&t!==ss)return[2];e=hM(t,n),u=r.GO.Iz,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],jo(i),!(c=e[a.Qp._L])||a.Qp.fL!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,r.F3(a,i)];case 3:return(h=l.sent()).Jj()?[4,h.S3()]:[3,5];case 4:l.sent(),l.label=5;case 5:return f=r.Fm.K_,v={fL:a.Qp.fL,SL:c,O3:f},r.Y3(h,v)?[4,h.D3(v)]:[3,8];case 6:return[4,l.sent().sO()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return xo(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,on.IO()];case 12:throw l.sent()?new PA(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new PA(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.U3=function(t){var n=this;return xt((function(){var i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.GO)?void 0:i.Iz))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],jo(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.F3(u,t)];case 3:return(s=o.sent()).Jj()?[4,s.S3()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return xo(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.Y3=function(t,n){return on.Ys.G3||this.Fm.Hm.Wm||!t.C3(n)},i.F3=function(t,n){var i=this;return this.XZ.JO((function(n){return i.V3(t,n)}),n)},i.V3=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:if(jo(n),!i.GO||!i.T3||!i.yz)throw new v("Not initialized");if(i.Fp){if(i.Fp.Qp!==t.Qp)throw new v("Internal key system error");return[2,i.Fp]}return r=i.T3,e=Xu({},t,{Kz:t.Kz.map((function(n){var i;return Xu({},n,{persistentState:null!=(i=n.persistentState)?i:r.IR(t.Qp),kO:n.kO||r.kO(t.Qp)})}))}),[4,i.yz.UZ(e.Qp,e.Kz)];case 1:return u=a.sent(),s=r.qP(e),(o=new Hx(e.Qp,u,s)).yn([dd.Iv,dd.Nv,dd.gm],i.Ds),i.Fp=o,[2,o]}}))}))()},i.Ss=function(t){if(!Co(t)){var n=t instanceof PA?t:new PA(Qv.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new Yx(n))}},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.yz=void 0,t.GO=void 0,t.$O.g_(),t.$O=new So,[4,t.W3()];case 1:return n.sent(),[2]}}))}))()},i.W3=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.XZ.g_()];case 1:return i.sent(),(n=t.Fp)?(n.fn(dd.gm,t.Ds),t.Fp=void 0,[4,n.gn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.Fm.fn(Ko.Cv,t.H3),[4,t.tr()];case 1:return n.sent(),[4,t.XZ.gn()];case 2:return n.sent(),[2]}}))}))()},At(n,[{key:"j3",get:function(){var t;return null==(t=this.Fp)?void 0:t.Qp}},{key:"Qz",get:function(){return this.T3},set:function(t){this.T3=t}}]),n}(Xo);wt(),C();wt(),C(),Mt();var qx=function(t){function n(n){var i;return(i=t.call(this,dd.Fv)||this).currentTime=n,i}return kt(n,t),n}(Jo);wt(),C(),mt(),Mt();var $x=function(t){function n(n){var i;return(i=t.call(this)||this).q3=n,i}kt(n,t);var i=n.prototype;return i.u2=function(){var t;null==(t=this.X3)||t.u2()},i.tr=function(){var t;null==(t=this.X3)||t.tr()},i.h_=function(){this.Vo(),void 0!==this.X3&&(this.X3.h_(),this.X3=void 0)},i.Z3=function(t){if(this.X3!==t){var n=this.Sg;void 0!==this.X3&&this.X3.h_(),this.X3=t,void 0!==t&&(t.yn(uk.Nw,this.Ds),t.u2());var i=this.Sg;n!==i&&this.Co(new ck(this.q3.U_,i))}},At(n,[{key:"Sg",get:function(){return void 0!==this.X3?this.X3.Sg:ak.BT}}]),n}(Xo),tO=jn.Sk||jn.Ik,nO=jn.uL,iO=jn.zk,rO=jn.zk&&jn.Ga,eO=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).vz=void 0,u.EB=!0,u.yz=void 0,u.n6=new qv,u.e5=void 0,u.dU=new QD,u.X5=[],u.s5=void 0,u.j5=0,u.O5=NaN,u.i5=void 0,u.l6=void 0,u.s6=0,u.aU=!1,u.n2=!1,u.V6=ak.BT,u.u5=0,u.x5=K.resolve(),u.L5=new So,u.D5=[],u.Uo=BD.oU(),u.l5=void 0,u.f5=1,u.w5=!1,u.g5=1,u.J3=!1,u.d6=!1,u.f6=!1,u.P5=!1,u.r5=!1,u.o5=!1,u.t5=!1,u.Q6=!1,u.g6=0,u.v5=!1,u.Z5=function(t){var n=t.track,i=u.i6(n);if(!sO(u.H5,n)){if(jn.zk){if(n.kind===C_.ZA)return void u.J5(n);if(n.kind===C_.sD&&""===n.label&&""===n.language&&!oO(n))return void u.t6(n,i)}u.H5.tt(new Nx(n,i))}},u.q5=function(t){var n=sO(u.H5,t.track);n&&u.H5.it(n)},u.K5=function(){for(var t=0;t<u.H5.U;t++){var n=u.H5.zw(t);n instanceof Nx&&n.A4()}},u.o6=function(){if(void 0!==u.yz&&mL(u.yz)){var t=u.yz,n=t.I1,i=t.D1;if(n&&i)if(t.oq)u.u6();else if(t.Sg!==ZC.m0){var r=n.O_,e=i.O_;if(0!==r.U||0!==e.U){var s=u.U_;if(s<r.Cn(0)||s<e.Cn(0))u.u6();else if(r.gr(s)!==e.gr(s)){if(t.cq(s))return;u.a6()}else{if(u.u6(),!u.g6&&u.T5.w2())r.GB(e).ZB(s,s+.5)&&(u.g6=ZE(u.W6))}}else u.u6()}}},u.W6=function(){u.g6=0,u.o6()},u.h6=function(){if(!u.Eg&&!u.s2&&!(u.a5.Sg>=ak.QT)&&void 0!==u.yz&&mL(u.yz)){var t=u.yz,n=t.I1,i=t.D1;if(n&&i){var r=u.U_,e=n.O_,s=i.O_;if(e.gr(r)&&s.gr(r))e.GB(s).ZB(r-5,r)&&(u.t5?u.u6():u.c6())}}},u.y6=function(){u.Co(new sD(u.U_))},u.M6=function(){u.k5(new Lo),u.Co(new uD(u.U_))},u.m6=function(){u.S5(),u.Co(new gk(u.U_))},u.I6=function(){u.d5()},u.E6=function(){u.Co(new oD(u.ct))},u.T6=function(){u.Co(new DL(u.U_))},u.S6=function(){u.Co(new EL)},u.b6=function(){var t=u.U_,n=u.Eg,i=u.a5.Sg<ak.QT&&!u.G_,r=void 0!==u.l6,e=r&&u.l6!==t;u.e6(),(n||!r||e&&!i)&&u.G5()},u.N6=function(){!u.J3&&u.G_&&(u.J3=!0,u.Co(new cD(u.U_)))},u.L6=function(){if(null!==u.lj.error){var t,n=u.lj.error;u.rB(new UA(null!=(t=n.code)?t:BA.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.x6=function(){u.d6&&(u.v6(),u.f6=!0)},u.H6=function(t){if(on.p_(u.u5),u.u5=0,t.readyState<=ak.UT)if(u.aU||u.n2){var n=on.m_()-u.j5;if(n<250)return void(u.u5=on.A_((function(){return u.H6(t)}),250-n))}else if(void 0!==u.yz&&u.yz.cq(u.U_))return void(u.u5=on.A_((function(){return u.H6(t)}),250));u.V6!==t.readyState&&(u.V6=t.readyState,u.Co(t))},u.D6=function(){u.c5()},u.k6=function(){u.Rg>0&&u.Cg>0&&u.Co(new sk)},u.C6=function(t){u.Co(new ra(t.initDataType,t.initData||new ArrayBuffer(0)))},u.O6=function(){u.Co(new ea)},u.P6=function(t){var n=t.initData,i=n?Dc(n).buffer:new ArrayBuffer(0);u.Co(new ra(us,i))},u.j6=function(t){if(t.initData){var n=function(t){try{var n=kc(t),i=new Ec;return vc(dc(Ga(n,i,Ka(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.Co(new ra(os,n))}else u.Co(new ra(os,new ArrayBuffer(0)))},u.R6=function(t){var n=t.initData,i=n?Dc(n).buffer:new ArrayBuffer(0);u.Co(new ra(us,i))},u.M5=function(){u.S5()},u.b5=function(t){u.k5(t)},u.X6=function(t){u.Co(t),t.type===dd.Nv&&u.rB(YA(t.errorObject))},u.lj=n,u.SO=i,u.Wu=r,u.mU=e,u.a5=new $x(Vt(u)),u.a5.yn(uk.Nw,u.H6),u.a5.Z3(new sj(Vt(u))),u.T5=new hj(Vt(u)),u.T5.yn(uk.Sm,u.m6),u.VZ=new Jx(Vt(u)),u.VZ.yn([dd.Iv,dd.Nv,dd.gm],u.X6),u.Dl=new j_,u.H5=new j_,u.A6=new dT([u.Dl,u.H5]),u.p6=new Px(Vt(u),u.A6),u.V5=new dT([u.A6,u.p6.Z]),u.W5=new Cx(Vt(u)),u._6(),u.Jz(),u}kt(n,t);var i=n.prototype;return i.K3=function(){this.pz.ended||this.U_===this.ct||(this.J3=!1)},i.n5=function(){return void 0!==this.s5&&this.ct===this.s5},i.d5=function(){var t=this.gg;this.f5!==t&&(this.f5=t,this.Co(new aD(this.U_,t)))},i.c5=function(){var t=this.zg,n=this.og;this.g5===t&&this.w5===n||(this.g5=t,this.w5=n,this.Co(new vD(this.U_,this.zg)))},i.rg=function(){return qS(this.lj)},i.Xg=function(){this.v5||(this.v5=!0);var t=this.m5();return this.A5(),t},i.A5=function(){this.r5?this.o5&&(this.o5=!1,this.Co(new sD(this.U_))):this.y5()},i.y5=function(){if(this.e5)this.e5.Xg();else{jn.zk&&!jn.Ga&&this.lj.preload===CD.yB&&(this.lj.preload=CD.ZA);var t=this.gg,n=this.lj.play();t!==this.pz.playbackRate&&(this.gg=t),Fn(n)?n.then(this.M5,this.b5):this.T5.w2()&&this.S5()}},i.Hg=function(){this.r5?this.o5||(this.o5=!0,this.Co(new uD(this.U_))):this.N5()},i.N5=function(){this.e5?this.e5.Hg():(this.lj.pause(),this.T5.Yn()),this.I5(new Lo)},i.m5=function(){var t=new Cc;return this.D5.push(t),t.OL},i.E5=function(){for(var t=0,n=this.D5;t<n.length;t++){n[t].LL(void 0)}lo(this.D5)},i.I5=function(t){for(var n=0,i=this.D5;n<i.length;n++){i[n].xL(t)}lo(this.D5)},i.S5=function(){this.r5||this.e5||this.E5()},i.k5=function(t){this.r5||this.e5||this.I5(t)},i.JA=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.e5?this.e5.JA(t,n,i):(this.L5.g_(),this.L5=new So,this.x5=this.C5(t,n,i,this.x5,this.L5.f_).catch(Hn))},i.gz=function(t){var n=this.Mz;if(n&&!A(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.JA(i)}},i.C5=function(t,n,i,r,e){var u=this;return xt((function(){var s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:return f.trys.push([0,9,,10]),s=function(){var t,i,r,s,f,v;return zt(this,(function(d){switch(d.label){case 0:return(a=u.Ig).U>0&&!a.gr(o)&&(o=a.zB(o),c=!0),n&&!u.lj.fastSeek&&((t=u.O_).gr(o)||(i=XC(t,o,1))!==o&&(o=i,c=!0)),iO&&void 0!==(r=u.B5())&&o>r&&(o=r,c=!0),h?[3,3]:void 0!==(s=u.U5())&&o>s?(h=!0,[4,u.Q5(s,!1,e)]):[3,3];case 1:return d.sent(),[4,Ry(u.lj,"seeked",e)];case 2:d.sent(),jo(e),c=!0,d.label=3;case 3:return c?(c=!1,[4,u.Q5(o,n,e)]):[3,7];case 4:d.sent(),jo(e),f=u.U_,a=u.Ig,o=a.zB(o),v=1,d.label=5;case 5:return g.abs(o-f)>=Ki?(a=u.Ig,o=function(t,n,i){void 0===i&&(i=0);if(!n.U)return 0;var r=n.zB(t),e=uO*i;r===n.Cn(0)?r+=e:r===n.jn(n.U-1)&&(r-=e);return r}(o,a,v),[4,u.Q5(o,n,e)]):[3,7];case 6:return d.sent(),jo(e),f=u.U_,v++,[3,5];case 7:return u.lj.seeking||u.a5.Sg<ak.UT?[4,Bo((function(t){var n;return K.race([Ry(u.lj,"seeked",t),u.k_([dd.Zv,dd.Lv],t),u.a5.k_(uk.Nw,t),null==(n=u.yz)?void 0:n.k_(kL.EQ,t)].filter(zn))}),e)]:[2,"break"];case 8:return d.sent(),jo(e),[2]}}))},u.s5=t,u.O5=t,u.j5=on.m_(),i&&!u.aU?u.n2=!0:(u.aU=!0,u.n2=!1),u.J3&&!u.n5()&&(u.J3=!1),u.n2?u.Co(new $C(u.U_)):u.Co(new hD(t)),[4,r.catch(Hn)];case 1:return f.sent(),jo(e),u.yz&&!u.yz.lq()?(u.R5(),[2]):(u.P5&&u.z5(),u.a5.Sg!==ak.BT?[3,3]:[4,u.a5.k_(uk.Nw,e)]);case 2:f.sent(),f.label=3;case 3:return 0===u.lj.seekable.length||rO&&!u.v5?[4,K.race([Ry(u.lj,"timeupdate",e),Fo(100,e)])]:[3,5];case 4:return f.sent(),jo(e),[3,3];case 5:o=XC(u.O_,t,.05),a=u.Ig,c=!0,h=!1,f.label=6;case 6:return[5,Rt(s())];case 7:return"break"===f.sent()?[3,8]:[3,6];case 8:return u.R5(),[3,10];case 9:return Co(f.sent())?[2]:[3,10];case 10:return[2]}}))}))()},i.Q5=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:if(jo(i),e=r.Ig,t=e.zB(t),!r.P5)return[3,4];u=!0,o.label=1;case 1:return u||r.a5.Sg<ak.QT?((e=r.Ig).gr(t)||(t=e.zB(t),u=!0),u?(u=!1,r.s5=t,r.F5(r.U_),[3,1]):[4,Bo((function(t){return K.race([r.k_(dd.Lv,t),r.a5.k_(uk.Nw,t)])}),i)]):[3,3];case 2:return o.sent(),[3,1];case 3:jo(i),o.label=4;case 4:return s=Ry(r.lj,"seeking",i),n&&r.lj.fastSeek?r.lj.fastSeek(t):r.lj.currentTime=t,r.s5=void 0,r.F5(r.U_),r.lj.seeking?[4,s]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))()},i.B5=function(){if(this.yz&&this.yz.oq){var t=this.yz.hq,n=this.yz.aq,i=t&&n?t.Sn(n):t||n;if(i&&0!==i.U){var r=i.Cn(i.U-1),e=i.jn(i.U-1);return g.max(r,e-.001)}}},i.U5=function(){if(this.yz&&this.yz.oq){var t=this.yz.aq;if(t&&0!==t.U){var n=t.Cn(t.U-1),i=t.jn(t.U-1)-.02;return i-=.001,g.max(n,i)}}},i.F5=function(t){this.O5!==t&&(this.O5=t,this.n2?this.Co(new $C(t)):this.Co(new hD(t)))},i.R5=function(){var t=this.n2;this.aU=!1,this.n2=!1,this.j5=0,this.O5=NaN,this.P5&&this.Y5(),t?(this.Co(new qx(this.U_)),this.G5()):this.Co(new fD(this.U_))},i.z5=function(){this.r5||(this.o5=this.fg,this.r5=!0,this.N5())},i.Y5=function(){this.r5&&(this.r5=!1,this.o5||this.A5())},i.dq=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Av===ek.Tj&&NL.dq(i,this.lj))return i;if(i.Av===ek.Sj&&JC.dq(i))return i}},i.be=function(){this.EB=!1,_u(this.lj)&&(this.lj.style.display="none")},i.ge=function(){this.EB=!0,_u(this.lj)&&(this.lj.style.display="block")},i.rE=function(t,n,i,r,e,u,s,o,a){var c=new Ij(t,n,i,r,e,u,s,a,o);return this.Dl.tt(c),this.W5.tt(c),c},i.Cz=function(){return!0},i.jz=function(t,n,i,r,e){var s=u.createElement("track");s.src=ry(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.default=!!e,s.id=xE(),this.lj.appendChild(s);var o=this.lj.textTracks.getTrackById(s.id),a=new Nx(o,s);return this.H5.tt(a),this.X5.push(a),a},i.fE=function(t){this.Dl.it(t),this.W5.it(t)},i.Pz=function(){for(var t=0,n=this.Dl.Rw.slice();t<n.length;t++){n[t].gn()}this.Dl.tr();for(var i=0,r=this.X5.slice();i<r.length;i++){var e=r[i];this.H5.it(e),e.gn()}lo(this.X5)},i.Jz=function(){var t=this.lj.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.Z5),t.addEventListener("removetrack",this.q5),t.addEventListener("change",this.K5))},i.Uz=function(){var t=this.lj.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.Z5),t.removeEventListener("removetrack",this.q5),t.removeEventListener("change",this.K5))},i.J5=function(t){t.mode=h_.vv;var n=new zx(t);this.H5.tt(n),this.W5.tt(n)},i.t6=function(t,n){var i=this,r=function(){oO(t)&&(t.removeEventListener("cuechange",r),i.H5.tt(new Nx(t,n)))};t.addEventListener("cuechange",r),t.mode=h_.vv},i.i6=function(t){for(var n=this.lj.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.e6=function(){if(0!==this.H5.U){var t=this.Ig;if(0!==t.U){var n=t.Cn(0);if(this.s6!==n){for(var i=0,r=this.H5.Rw;i<r.length;i++){r[i].wD(n)}this.s6=n}}}},i.$n=function(t){var n=this;return this.n6.JO(xt((function(i){var r,e;return zt(this,(function(u){switch(u.label){case 0:if(jo(i),n.yz)throw new v("Already loaded a media source");if(t.Av===ek.Tj)r=new NL(t,n,n.VZ,n.SO),n.P5=!1,n.a5.Z3(n.r6());else{if(t.Av!==ek.Sj)throw new v("Unsupported configuration");n.P5=tO,e=n.r6(),r=new JC(t,n,e,n.VZ,n.SO,void 0,n.N1),n.a5.Z3(e),nO&&(n.yn(dd.fm,n.o6),n.a5.yn(uk.Nw,n.h6))}return n.yz=r,[4,r.oX()];case 1:return u.sent(),[2,r]}}))})))},i.r6=function(){return this.P5?new oj(this):new sj(this)},i.a6=function(){if(!this.t5){var t=this.gg;this.t5=!0,this.gg=t,this.lj.playbackRate=0,this.a5&&this.a5.u2()}},i.u6=function(){if(this.t5){var t=this.gg;this.t5=!1,this.gg=t,this.c6()}},i.c6=function(){this.lj.currentTime=this.lj.currentTime,this.a5&&this.a5.u2()},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.aU=!1,t.n2=!1,on.p_(t.u5),t.u5=0,t.Uo=BD.oU(),t.L5.g_(),t.s5=void 0,t.O5=NaN,t.i5=void 0,t.P5=!1,t.r5=!1,t.vz=void 0,t.J3=!1,t.l6=void 0,t.s6=0,t.d6=!1,t.v5=!1,t.f6&&(t._6(),t.f6=!1),t.I5(new Lo),t.a5.Z3(new sj(t)),t.T5.tr(),t.H5.tr(),t.u6(),nO&&(HE(t.g6),t.g6=0,t.fn(dd.fm,t.o6)),[4,t.n6.g_()];case 1:return n.sent(),[4,t.n6.JO(xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,jn.wk&&jn.pk<3&&t.w6(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.w6=function(){this.v6();var t=this.lj,n=t.parentElement,i=t.tagName.toLowerCase();this.lj=Uz(i),this.retainMediaElementState(t),Qz(t),null==n||n.replaceChild(this.lj,t),this._6(),this.a5.Z3(this.r6()),this.T5.fn(uk.Sm,this.m6),this.T5.h_(),this.T5=new hj(this),this.T5.yn(uk.Sm,this.m6),this.EB?this.ge():this.be(),this.Co(new MD),this.Co(new bD)},i.retainMediaElementState=function(t){this.pz.muted=t.muted,this.pz.volume=t.volume},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.f6=!1,t.v6(),t.Uz(),[4,t.tr()];case 1:return n.sent(),[4,t.n6.gn()];case 2:return n.sent(),t.T5.h_(),t.a5.h_(),[4,t.VZ.h_()];case 3:return n.sent(),t.Pz(),t.Dl.gn(),t.H5.gn(),[4,t.p6.gn()];case 4:return n.sent(),t.A6.gn(),t.V5.gn(),t.Vo(),[2]}}))}))()},i._6=function(){this.pz.addEventListener("play",this.y6),this.pz.addEventListener("pause",this.M6),this.pz.addEventListener("timeupdate",this.b6),this.pz.addEventListener("progress",this.T6),this.pz.addEventListener("loadstart",this.S6),this.pz.addEventListener("ended",this.N6),this.pz.addEventListener("ratechange",this.I6),this.pz.addEventListener("volumechange",this.D6),this.pz.addEventListener("durationchange",this.E6),this.pz.addEventListener("resize",this.k6),this.pz.addEventListener("loadedmetadata",this.k6),this.pz.addEventListener("error",this.L6),this.pz.addEventListener("emptied",this.x6),Fs()?(this.lj.addEventListener("encrypted",this.C6),this.lj.addEventListener("waitingforkey",this.O6)):void 0!==iu.WebKitMediaKeys&&"function"==typeof iu.WebKitMediaKeys.isTypeSupported?this.lj.addEventListener("webkitneedkey",this.j6):Vs()?this.lj.addEventListener("webkitneedkey",this.R6):void 0!==iu.MSMediaKeys&&"function"==typeof iu.MSMediaKeys.isTypeSupported&&this.lj.addEventListener("msneedkey",this.P6)},i.v6=function(){this.pz.removeEventListener("play",this.y6),this.pz.removeEventListener("pause",this.M6),this.pz.removeEventListener("timeupdate",this.b6),this.pz.removeEventListener("progress",this.T6),this.pz.removeEventListener("loadstart",this.S6),this.pz.removeEventListener("ended",this.N6),this.pz.removeEventListener("ratechange",this.I6),this.pz.removeEventListener("volumechange",this.D6),this.pz.removeEventListener("durationchange",this.E6),this.pz.removeEventListener("resize",this.k6),this.pz.removeEventListener("loadedmetadata",this.k6),this.pz.removeEventListener("error",this.L6),this.pz.removeEventListener("encrypted",this.C6),this.pz.removeEventListener("waitingforkey",this.O6),this.pz.removeEventListener("webkitneedkey",this.j6),this.pz.removeEventListener("webkitneedkey",this.R6),this.pz.removeEventListener("msneedkey",this.P6),this.pz.removeEventListener("emptied",this.x6)},i.z6=function(){this.e5||(this.Uo=this.pg,this.e5=ij(this),this.v6(),this.e5.yn(tj,this.Ds))},i.B6=function(){if(this.e5){var t=this.e5;this.e5=void 0,this.a5.u2(),rj(this,t),t.h_(),this._6()}},i.G5=function(){var t=this.U_;this.Co(new nA(t,void 0)),this.l6=t},i.rB=function(t){this.vz=t,this.I5(this.vz),this.Co(new fj(this.vz))},i.F6=function(){this.U6||(Gz(this.lj,on.Ys),this.Q6=!0)},i.Y6=function(t){t.appendChild(this.lj)},i.I0=function(){nO&&this.o6(),this.a5.u2()},i.$g=function(){this.VZ.W3().catch(Hn),this.H5.tr()},At(n,[{key:"l2",get:function(){return this.t5}},{key:"O_",get:function(){return this.yz?this.yz.O_:BD.oU()}},{key:"R_",get:function(){var t=this.Mz;if(t&&!A(t.getTime())){var n=1e3*this.U_;return new Date(t.getTime()+n)}}},{key:"Mz",get:function(){if(this.pz.getStartDate)return this.aU&&this.i5||(this.i5=this.pz.getStartDate()),this.i5}},{key:"U_",get:function(){return this.e5?this.e5.U_:void 0!==this.s5?this.s5:this.lj.currentTime}},{key:"Iu",get:function(){return this.Wu}},{key:"ct",get:function(){return this.e5?this.e5.ct:this.yz?this.yz.ct:this.lj.duration}},{key:"G_",get:function(){return this.Eg?this.n5():this.e5?this.e5.G_:this.lj.ended||this.J3}},{key:"lt",get:function(){return this.vz}},{key:"pz",get:function(){return this.lj}},{key:"fg",get:function(){return this.r5?this.o5:this.e5?this.e5.fg:this.lj.paused}},{key:"pg",get:function(){return this.Uo.YB(BD.xn(this.lj.played))}},{key:"Ti",get:function(){return this.lj.offsetHeight*on.Ys.h5}},{key:"ji",get:function(){return this.lj.offsetWidth*on.Ys.h5}},{key:"ya",get:function(){return this.dU}},{key:"Sg",get:function(){return this.a5.Sg}},{key:"Ig",get:function(){return this.yz?this.yz.Ig:BD.oU()}},{key:"Eg",get:function(){return this.e5?this.e5.Eg:this.aU}},{key:"s2",get:function(){return this.e5?this.e5.s2:this.n2}},{key:"g2",get:function(){return 0!==this.u5}},{key:"og",get:function(){return this.e5?this.e5.og:this.lj.muted},set:function(t){this.e5?this.e5.og=t:(this.lj.muted=t,this.c5())}},{key:"gg",get:function(){return this.e5?this.e5.gg:void 0!==this.l5?this.l5:this.lj.playbackRate},set:function(t){this.e5?this.e5.gg=t:this.fg||this.t5?(this.l5=t,this.d5()):(this.l5=void 0,this.lj.playbackRate=t,this.d5())}},{key:"_5",get:function(){return this.EB}},{key:"zg",get:function(){return this.e5?this.e5.zg:this.lj.volume},set:function(t){this.e5?this.e5.zg=t:(this.lj.volume=t,this.c5())}},{key:"nt",get:function(){return this.V5}},{key:"Ol",get:function(){return this.mU}},{key:"K_",get:function(){return!!this.lj.webkitCurrentPlaybackTargetIsWireless}},{key:"U6",get:function(){return this.Q6}},{key:"Hm",get:function(){return Xu({},AL)}},{key:"Qz",get:function(){return this.VZ.Qz},set:function(t){this.VZ.Qz=t}},{key:"G6",get:function(){return this.N1},set:function(t){this.N1=t}},{key:"j3",get:function(){return this.VZ.j3}},{key:"Yg",get:function(){return this.d6},set:function(t){this.d6=t,this.f6&&!this.d6&&(this.f6=!1,this._6())}}]),n}(Xo);var uO=.01;function sO(t,n){for(var i=0,r=t.Rw;i<r.length;i++){var e=r[i];if(e.dS===n)return e}}function oO(t){return!!t.cues&&t.cues.length>0}wt(),C(),mt(),Mt();var aO={mZ:void 0,pZ:void 0,AZ:void 0,yZ:void 0,MZ:void 0,bZ:void 0,DZ:void 0,TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},cO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=void 0,n}return kt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=fL(this)),this.Xa}},{key:"mZ",get:function(){}},{key:"pZ",get:function(){}},{key:"AZ",get:function(){}},{key:"yZ",get:function(){}},{key:"MZ",get:function(){}},{key:"bZ",get:function(){}},{key:"DZ",get:function(){}},{key:"TZ",get:function(){}},{key:"SZ",get:function(){}},{key:"NZ",get:function(){}},{key:"IZ",get:function(){}}]),n}(Xo),hO=function(t){function n(n,i,r){return t.call(this,n,i,r,new cO)}return kt(n,t),n.prototype.Vg=function(){},At(n,[{key:"Cg",get:function(){return 0}},{key:"Rg",get:function(){return 0}}]),n}(eO);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt();var fO=function(){function t(t){void 0===t&&(t=5);var n=iu.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Z6=n,this.ge()}var n=t.prototype;return n.be=function(){this.Z6.style.display="none"},n.ge=function(){this.Z6.style.display="block"},n.Y6=function(t){t.appendChild(this.Z6)},n.gn=function(){au(this.Z6)},At(t,[{key:"we",get:function(){return this.Z6}}]),t}();function vO(t,n){return Xu({},n,mA(function(t){return{mZ:t.mZ,pZ:t.pZ,AZ:t.AZ,yZ:t.yZ,MZ:t.MZ,bZ:t.bZ,DZ:t.DZ,TZ:t.TZ,SZ:t.SZ,NZ:t.NZ,IZ:t.IZ}}(t)))}function dO(t){return t.AZ&&Cs(t.AZ,"%")?Number(t.AZ.replace("%",""))/100:t.AZ&&Cs(t.AZ,"em")?Number(t.AZ.replace("em","")):1}wt(),C(),mt(),wt(),C(),Mt(),Ft(),Ct(),wt(),C(),mt(),wt(),C(),wt(),C(),mt();var lO,gO,wO,yO=function(){function t(t,n,i,r){this.K6=t,this.t9=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.i9=function(t){return this.K6<t.q6&&this.q6>t.K6&&this.t9<t.J6&&this.J6>t.t9},n.oS=function(t){return this.K6<=t.K6&&t.q6<=this.q6&&this.t9<=t.t9&&t.J6<=this.J6},n.$A=function(){return new t(this.K6,this.t9,this.ji,this.Ti)},n.e9=function(n){return new t(this.K6+n,this.t9+n,g.max(0,this.ji-2*n),g.max(0,this.Ti-2*n))},n.s9=function(n){var i=g.min(this.K6,n.K6),r=g.max(this.q6,n.q6),e=g.min(this.t9,n.t9);return new t(i,e,r-i,g.max(this.J6,n.J6)-e)},At(t,[{key:"q6",get:function(){return this.K6+this.ji},set:function(t){this.K6=t-this.ji}},{key:"J6",get:function(){return this.t9+this.Ti},set:function(t){this.t9=t-this.Ti}}]),t}(),AO=function(){function t(t,n,i,r,e){var u=this;this.m9=Ku(),this.C9=!0,this.c9=Xu({},aO),this.j9=[],this.p9=function(t){return u.lE(t.yS)},this.A9=function(t){return u.gD(t.yS)},this.y9=function(){return u.k9()},this.T9=function(t){return u.D9(t.yS)},this.S9=function(t){return u.E9(t.yS)},this.N9=function(t){return u.O9(t.yS)},this.d9=function(t){return u.re(t.width,t.height)},this.CS=t,this._9=this.a9=e,this.lj=this.U9(i),this.Wu=r,n.appendChild(this.lj)}var n=t.prototype;return n.n9=function(t){var n=this.r9(t);if(!n)return!1;for(var i=0;i<n.length;i++){au(n[i])}return this.o9(t),!0},n.oX=function(){var t=this;this.l9(),this.CS.L.Rw.forEach((function(n){return t.lE(n)})),this.Iu.yn(qE.pn,this.d9),this.re(this.Iu.ku,this.Iu._u)},n.f9=function(t){this.c9=t,this.a9=vO(this.c9,this._9),this.a9.mZ&&(this.pz.style.fontFamily=this.a9.mZ),this.a9.DZ&&(this.pz.style.visibility=this.a9.DZ),this.re(this.Iu.ku,this.Iu._u),this.g9(!0)},n.w9=function(){return this.a9},n.v9=function(t){return this.m9.has(t.Xw)},n.l9=function(){this.CS.yn(cA.lw,this.p9),this.CS.yn(cA.fw,this.A9),this.CS.yn(cA.ra,this.y9)},n.M9=function(){this.CS.fn(cA.lw,this.p9),this.CS.fn(cA.fw,this.A9),this.CS.fn(cA.ra,this.y9)},n.b9=function(t){t.yn(dm.mS,this.T9),t.yn(dm.pS,this.S9),t.yn(dm.Lw,this.N9)},n.I9=function(t){t.fn(dm.mS,this.T9),t.fn(dm.pS,this.S9),t.fn(dm.Lw,this.N9)},n.lE=function(t){this.b9(t),t.ro&&this.D9(t)},n.gD=function(t){this.I9(t),this.E9(t)},n.k9=function(){this.CS._v===h_.Jn?this.L9():this.x9()},n.L9=function(){if(this.C9){this.C9=!1;var t=this.Iu.ku,n=this.Iu._u;this.re(t,n),this.g9(!1)}},n.x9=function(){this.C9||(this.C9=!0,this.g9(!0))},n.D9=function(t){this.C9||t.ro&&!this.v9(t)&&this.g9(!1)},n.E9=function(t){this.v9(t)&&this.g9(!0)},n.O9=function(t){(t.ro||this.v9(t))&&this.g9(!0)},n.g9=function(t){var n=this.j9,i=this.C9?[]:this.CS.q.Rw.slice();this.R9(i,n,t),this.j9=i},n.r9=function(t){return this.m9.get(t.Xw)},n.P9=function(t,n){this.m9.set(t.Xw,n)},n.o9=function(t){this.m9.delete(t.Xw)},n.z9=function(t){var n=[],i=this.a9;if(void 0!==i.TZ){var r=t.$A();r.Ti=i.TZ,n.push(r)}if(void 0!==i.SZ){var e=t.$A();e.Ti=i.SZ,e.J6=t.J6,n.push(e)}return n},n.B9=function(){return this.j9.slice()},n.gn=function(){var t=this;au(this.pz),this.m9.clear(),this.M9(),this.CS.L.Rw.forEach((function(n){return t.I9(n)})),this.Iu.fn(qE.pn,this.d9)},At(t,[{key:"Lt",get:function(){return this.CS}},{key:"pz",get:function(){return this.lj}},{key:"Iu",get:function(){return this.Wu}},{key:"h9",get:function(){return this.a9}},{key:"u9",get:function(){return this.c9}}]),t}();function mO(t,n,i,r,e){var u=t.$A(),s=u,o=1,a=!1,c=y(getComputedStyle(n).lineHeight)/4;if(!A(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!MO(t,r,i[h],.01)&&(!r.oS(t)||pO(t,e));)kO(t,i[h],c);if(r.oS(t)){s=t.$A(),a=!0;break}var f=bO(t,r);o>f&&(s=t.$A(),o=f),t=u.$A()}r.oS(t)||(s=u.$A())}n.style.left=(s.K6-r.K6)/r.ji*100+"%",n.style.top=(s.t9-r.t9)/r.Ti*100+"%"}function pO(t,n){return n.some((function(n){return t.i9(n)}))}function _O(t){return new yO(t.left,t.top,t.width,t.height)}function kO(t,n,i){switch(n){case 0:t.K6+=i;break;case 1:t.K6-=i;break;case 2:t.t9+=i;break;case 3:t.t9-=i}}function MO(t,n,i,r){switch(i){case 0:return t.q6>n.q6+r;case 1:return t.K6<n.K6-r;case 2:return t.J6>n.J6+r;case 3:return t.t9<n.t9-r}}function bO(t,n){return g.max(0,g.min(t.q6,n.q6)-g.max(t.K6,n.K6))*g.max(0,g.min(t.J6,n.J6)-g.max(t.t9,n.t9))/(t.ji*t.Ti)}function TO(t){return NO[t||"none"]}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(lO||(lO={})),wt(),C(),function(t){t.qc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Wc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Gc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Xc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(gO||(gO={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(wO||(wO={}));var NO={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},DO=Ju({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),IO=16,EO="1.3em",SO={pZ:wO.WHITE,mZ:"Arial, Helvetica, Sans-Serif",AZ:"100%",yZ:wO.TRANSPARENT,MZ:wO.TRANSPARENT,bZ:"uniform",DZ:"visible",TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},LO=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,SO)}kt(n,t);var i=n.prototype;return i.U9=function(t){var n=u.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",lu(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=IO+"px",i.lineHeight=EO,n},i.re=function(t,n){var i=g.min(t/640,n/360),r=IO*i*dO(this.h9);this.pz.style.fontSize=r+"px"},i.R9=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.ro||this.n9(u)}var s=[],o=_O(this.pz.getBoundingClientRect());(r=s).push.apply(r,Lt(this.z9(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.G9(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.e9(.1))}},i.G9=function(t,n,i){var r=this.r9(t);r||(r=this.V9(t),this.P9(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.pz.appendChild(u)}for(var s=[],o=[lO.POS_Y,lO.NEG_Y,lO.POS_X,lO.NEG_X],a=0;a<r.length;a++){var c=r[a];mO(FO(c),c,o,i,n),s.push(FO(c))}return s},i.V9=function(t){var n=[],i=t.II,r=t.AI,e=t.kI,s=t.O,o=t.SI,a=o?g.min(640/o.width,360/o.height):1,c=this.h9;if(0===l.keys(r).length){var h=u.createElement("div");YO(h),CO(s,i,e,h,h,a,c),jO(h,"body",c),h.firstChild&&n.push(h)}else for(var f=0,v=l.keys(r);f<v.length;f++){var d=v[f],w=u.createElement("div");w.id=d,YO(w),zO(w,"region",r[d],i,a),CO(s,i,e,w,w,a,c),jO(w,"body",c),w.firstChild&&n.push(w)}return n},i.f9=function(n){return gL(this.pz,n),t.prototype.f9.call(this,n)},n}(AO);function CO(t,n,i,r,e,s,o){if(Uy(t)&&function(t){var n=t.qI.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var a=xO(t);if(!a||(null==e?void 0:e.id)===a){var c;if("BODY"===t.qI.toUpperCase())c=e;else{if(c=function(t){var n;switch(t.qI.toUpperCase()){case"BR":n=u.createElement("br");break;case"SPAN":GO(n=u.createElement("span")),OO(n,t);break;case"P":(function(t){GO(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=u.createElement("p")),OO(n,t);break;case"DIV":OO(n=u.createElement("div"),t)}return n}(t),!c)return;r.appendChild(c)}!function(t,n,i,r,e){var u=n.$I("style");PO(t,n.qI,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.ZI;e<u.length;e++){var s=u[e];UO(t,n.qI,s.qI,s.lT,i,r)}}(t,n,r,e)}(c,t,n,e,s),function(t,n,i){var r=null==n?void 0:n.$I("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&RO(i,(function(t){return t.ZI.some((function(t){return"id"===t.qI&&t.lT===r}))}));e&&BO(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.qI.toLowerCase())return;var r=i.m[0];BO(t,r,n)}(t,n)}(c,t,i),jO(c,t.qI,o);for(var h=0,f=t.iD;h<f.length;h++){CO(f[h],n,i,c,e,s,o)}}}else if(Qy(t)){var v=u.createTextNode(t.ly);if("SPAN"!==r.nodeName.toUpperCase()){var d=u.createElement("span");GO(d),jO(d,"span",o),d.appendChild(v),r.appendChild(d)}else r.appendChild(v)}}function jO(t,n,i){if(i){var r=t.style;switch(i.mZ&&(r.fontFamily=i.mZ),i.pZ&&(r.color=i.pZ),n.toLowerCase()){case"span":i.yZ&&(r.background=i.yZ);break;case"p":case"div":i.MZ&&(r.backgroundColor=i.MZ);break;case"body":i.bZ&&(r.textShadow=TO(i.bZ))}}}function xO(t){var n=t.$I("region");if("p"===t.qI.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(xO(s))}return _o(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function OO(t,n){var i=n.tD(s_,"id");i&&(t.id=i)}function zO(t,n,i,r,e){PO(t,n,i.style,r,t,e);for(var u=0,s=l.keys(i);u<s.length;u++){var o=s[u];UO(t,n,o,i[o],t,e)}}function RO(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=RO(r[i],n);if(e)return e}return null}function BO(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=u.createElement("img");e.src=function(t){var n=t&&t.iD.length>0?t.iD[0]:null;return n&&Qy(n)?"data:image/png;base64,"+n.ly:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;lu(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.$I("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.$I("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function PO(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=l.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?PO(t,n,r[a][f],r,e,u):UO(t,n,f,r[a][f],e,u)}}}function UO(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=DO.get(r))?o:r;break;case"fontSize":var a=r;if(Cs(a,"px")){var c=Number(a.slice(0,-2));a=c*u/IO+"em"}else Cs(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=EO);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(Cs(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var d,l,g=QO(n.toLowerCase())?e:t,w=r.split(" ",2);2===w.length?(d=w[0],l=w[1]):d=l="100%",g&&(g.style.height=l,g.style.width=d);break;case"origin":var y=QO(n.toLowerCase())?e:t,A=Gt(r.split(" ",2),2),m=A[0],p=A[1];y&&(m||p)&&(m&&(y.style.left=m),p&&(y.style.top=p));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var _,k,M,b;switch(r){case"lrtb":case"lr":_="horizontal-tb";break;case"rltb":_="horizontal-tb",k="rtl",b="bidi-override";break;case"tbrl":case"tb":_="vertical-rl",M="upright";break;case"tblr":_="vertical-lr",M="upright";break;case"rl":_="horizontal-tb",k="rtl";break;default:return}s.writingMode=_,s.setProperty("-webkit-writing-mode",_),k&&(s.direction=k),M&&(s.textOrientation=M,s.setProperty("-webkit-text-orientation",M)),b&&(s.unicodeBidi=b);break;case"linePadding":if(Cs(r,"c")){var T=r.replace("c","em");s.paddingLeft=s.paddingRight=T}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function QO(t){return"div"===t||"p"===t||"span"===t}function YO(t){var n=t.style;lu(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=SO.mZ,n.color=SO.pZ,n.textShadow=TO(SO.bZ),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function GO(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit"}function FO(t){var n=_O(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.s9(_O(e.getBoundingClientRect()))}return n}wt(),C(),Mt(),Ft(),Ct(),wt(),C();var VO,WO,XO=void 0;function ZO(t){return XO||(XO=iu.document.createElement("textarea")),XO.innerHTML=t,XO.value}function HO(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.Ku),s="",o={Av:"starttag",WR:"",W9:[]};n.Ku<t.length+1;){switch(u=n.Ku<t.length?t.charAt(n.Ku):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.Ku).match(/&#?[0-9a-zA-Z]+;/);a?(r+=ZO(a[0]),n.KA(a[0].length-1)):r+="&";break;case"<":if(r)return{Av:"string",O:r};i="Tag";break;case"EOF":return{Av:"string",O:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.KA(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.KA(1),{Av:"starttag",WR:r,W9:[]};case"EOF":return{Av:"starttag",WR:r,W9:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.KA(1),e.push(s),{Av:"starttag",WR:r,W9:e};case"EOF":return e.push(s),{Av:"starttag",WR:r,W9:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.KA(1);var c=s.trim();return{Av:"starttag",WR:r,W9:e,H9:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.Ku;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.KA(1),{Av:"endtag",WR:r};case"EOF":return{Av:"endtag",WR:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.KA(1),{Av:"timestamp",X9:r};case"EOF":return{Av:"timestamp",X9:r};default:r+=u}}n.KA(1)}return o}function KO(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.Z9="Data",t.q9="Tag",t.K9="StartTag",t.J9="StartTagClass",t.t8="StartTagAnnotation",t.i8="CharRefInAnnotation",t.e8="EndTag",t.s8="TimestampTag"}(VO||(VO={})),function(t){t.n8="string",t.r8="starttag",t.o8="endtag",t.h8="timestamp"}(WO||(WO={})),wt(),C();var JO={pZ:wO.WHITE,mZ:"sans-serif",AZ:"100%",yZ:"rgba(0,0,0,0.8)",MZ:wO.TRANSPARENT,bZ:"none",DZ:"visible",TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},qO="theoplayer-webvtt-region-",$O="theoplayer-webvtt-styling-",tz="theoplayer-webvtt-default-style",nz=5.23,iz=1.14,rz=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,JO)||this).l8=Hu(),u.c8=cz(3),u}kt(n,t);var i=n.prototype;return i.U9=function(t){var n=u.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,wu(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.h9.mZ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(u.getElementById(tz))return;for(var t=[],n=0;n<dz.length;n++){var i=Gt(dz[n],2),r=i[0],e=i[1];t.push("."+$O+r+" { color: "+e+" !important; }"),t.push("."+$O+"a8"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("u8"+r+") { background-color: "+e+"; }")}var s=u.createElement("style");s.id=tz,s.innerHTML=t.join("\n"),u.body.appendChild(s)}(),n},i.oX=function(){this.pz.appendChild(this.c8),t.prototype.oX.call(this)},i.re=function(t,n){var i=this,r=g.min(t/100,n/100),e=dO(this.h9);this.l8.forEach((function(t){var n=t.DS,u=t.d8;i.f8(u,r,e,n)})),this.f8(this.c8,r,e)},i.f9=function(n){gL(this.pz,n),t.prototype.f9.call(this,n)},i.R9=function(t,n,i){for(var r,e=this,u=this.pz,s=this.Iu._u/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.DS&&(fo(o,c.DS)||o.push(c.DS))}this.l8.forEach((function(t,n){var r=t.DS,u=t.d8;!i&&fo(o,r)||(au(u),e.l8.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.ro||this.n9(f)}var v=[],d=_O(this.c8.getBoundingClientRect());(r=v).push.apply(r,Lt(this.z9(d)));for(var l=0;l<o.length;l++){var g=o[l],w=void 0;this.l8.has(g.o)?w=this.l8.get(g.o).d8:(w=hz(g,s),u.appendChild(w),this.l8.set(g.o,{DS:g,d8:w})),v.push(_O(w.getBoundingClientRect()))}t.sort(lz);for(var y=0;y<t.length;y++){var A=t[y],m=this.G9(A,v,d);void 0!==m&&v.push(m.e9(.1))}},i.G9=function(t,n,i){var r,e;t.DS?(e=this.l8.get(t.DS.o).d8,"up"===t.DS.XS&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.c8;var u=null==(r=this.r9(t))?void 0:r[0];if(u||(u=this._8(t),this.P9(t,[u])),e.appendChild(u),t.DS||(ez(u,t),t.ES?function(t,n,i,r){var e=fz(t),u=e?i.Ti:i.ji,s=y(getComputedStyle(n).lineHeight);if(0===s||A(s))return;var o=_O(n.getBoundingClientRect()),a=g.round(Cm(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.t9+=c:o.K6+=c;var h=o.$A(),f=!1;for(;!i.oS(o)||pO(o,r);)if(e)if(s<0&&o.t9<i.t9||s>0&&o.J6>i.J6){if(o.t9=h.t9,f)break;s=-s,f=!0}else o.t9+=s;else if(s<0&&o.K6<i.K6||s>0&&o.q6>i.q6){if(o.K6=h.K6,f)break;s=-s,f=!0}else o.K6+=s;e?n.style.top=(o.t9-i.t9)/i.Ti*100+"%":n.style.left=(o.K6-i.K6)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=_O(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;fz(t)?"center"===t.NS?u.t9-=u.Ti/2:"end"===t.NS&&(u.t9-=u.Ti):"center"===t.NS?u.K6-=u.ji/2:"end"===t.NS&&(u.K6-=u.ji);e=""===t.Pt?[lO.POS_Y,lO.NEG_Y,lO.POS_X,lO.NEG_X]:"lr"===t.Pt?[lO.POS_X,lO.NEG_X,lO.POS_Y,lO.NEG_Y]:[lO.NEG_X,lO.POS_X,lO.POS_Y,lO.NEG_Y];mO(u,n,e,i,r)}(t,u,i,n)),!t.DS)return _O(u.getBoundingClientRect())},i._8=function(t){for(var n=new Ec,i=t.O,r=this.g8(t),e={w8:void 0,we:r},s=e,o="",a="",c=[e],h=[],f=[];n.Ku<i.length;){var v=HO(i,n);if(v.Av===WO.n8){var d=u.createElement("span");KO(d,v.O),uz(d,c),""!==o&&(d.lang=o),this.v8(d,a),s.we.appendChild(d)}else if(v.Av===WO.r8){var l=v.WR.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var g=u.createElement(l);s.we.appendChild(g),s={w8:v,we:g},c.push(s);break;case"rt":var w;if("ruby"===(null==(w=s.w8)?void 0:w.WR.toLowerCase())){var y=u.createElement("rt");s.we.appendChild(y),s={w8:v,we:y},c.push(s)}break;case"c":case"v":s={w8:v,we:s.we},c.push(s);break;case"font":var A,m=null==(A=v.H9)?void 0:A.match(/(?:^| )color=["']([^"']+)/i);m&&(a=m[1],f.push(a),s={w8:v,we:s.we},c.push(s));break;case"lang":var p;o=null!=(p=v.H9)?p:"",h.push(o)}}else if(v.Av===WO.o8){var _,k=v.WR.toLowerCase(),M=null==(_=s.w8)?void 0:_.WR.toLowerCase();M===k?(c.pop(),s=c[c.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===M&&"ruby"===k?(c.pop(),c.pop(),s=c[c.length-1]):"lang"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.Av===WO.h8){var b=v.X9,T=new Ec;try{Ep(b,T)}catch(t){oi("ERROR collecting timestamp",t)}}}return r},i.v8=function(t,n){var i=this.h9,r=this.u9;i.yZ&&(t.style.background=i.yZ);var e=r.pZ||n||i.pZ;e&&(t.style.color=e)},i.f8=function(t,n,i,r){if(r){var e=sz(r,n);t.style.height=e*i+"px",t.style.left=oz(r)+"%",t.style.top=az(r,n)+"px"}t.style.fontSize=nz*n*i+"px"},i.g8=function(t){var n=u.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.TS,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Om(n);fz(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),ez(n,t);var i=this.h9.MZ;i&&(n.style.background=i);var r=this.h9.pZ;return r&&(n.style.color=r),n.style.textShadow=TO(this.h9.bZ),n},n}(AO);function ez(t,n){var i,r,e=xm(n),u=jm(n),s=Om(n);if(fz(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.ES?0:Cm(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.ES?0:Cm(n)}t.style.left=i+"%",t.style.top=r+"%"}function uz(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.w8){for(var e=0,u=r.w8.W9;e<u.length;e++){var s=u[e];vu(t,$O+s)}"v"===r.w8.WR.toLowerCase()&&r.w8.H9&&vu(t,"theoplayer-webvtt-voice-"+r.w8.H9)}}}function sz(t,n){return t.VS*(nz*n)*iz}function oz(t){return t.ZS-t.WS*t.ji/100}function az(t,n){var i=t.qS,r=t.HS*sz(t,n)/100;return g.max(0,i-r)}function cz(t){var n=u.createElement("div");return n.className=qO+"default",wu(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=nz*t+"px",n.style.lineHeight=iz+"em",n}function hz(t,n){var i=cz(n);i.className=qO+t.o;var r=t.ji,e=sz(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=oz(t)+"%",i.style.right="",i.style.top=az(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function fz(t){return""===t.Pt}var vz,dz=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function lz(t,n){var i=Cm(t),r=Cm(n),e=gz(i,t.ES),u=gz(r,n.ES);return e&&u?i-r||dj(n,t)||n.Xw-t.Xw:dj(t,n)||t.Xw-n.Xw}function gz(t,n){return n?t<0?t>-8:t>8:t>50}wt(),C(),mt(),Mt(),wt(),C(),mt(),wt(),C(),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(vz||(vz={}));var wz={pZ:wO.WHITE,mZ:gO.Gc,AZ:"100%",yZ:wO.BLACK,MZ:"transparent",bZ:"none",m8:"regular",DZ:"visible",TZ:void 0,SZ:void 0,NZ:void 0,IZ:void 0},yz=[{p8:wO.WHITE,m8:"regular",A8:0},{p8:wO.WHITE,m8:"underline",A8:0},{p8:wO.GREEN,m8:"regular",A8:0},{p8:wO.GREEN,m8:"underline",A8:0},{p8:wO.BLUE,m8:"regular",A8:0},{p8:wO.BLUE,m8:"underline",A8:0},{p8:wO.CYAN,m8:"regular",A8:0},{p8:wO.CYAN,m8:"underline",A8:0},{p8:wO.RED,m8:"regular",A8:0},{p8:wO.RED,m8:"underline",A8:0},{p8:wO.YELLOW,m8:"regular",A8:0},{p8:wO.YELLOW,m8:"underline",A8:0},{p8:wO.MAGENTA,m8:"regular",A8:0},{p8:wO.MAGENTA,m8:"underline",A8:0},{p8:wO.WHITE,m8:"italics",A8:0},{p8:wO.WHITE,m8:"underline-italics",A8:0},{p8:wO.WHITE,m8:"regular",A8:0},{p8:wO.WHITE,m8:"underline",A8:0},{p8:wO.WHITE,m8:"regular",A8:4},{p8:wO.WHITE,m8:"underline",A8:4},{p8:wO.WHITE,m8:"regular",A8:8},{p8:wO.WHITE,m8:"underline",A8:8},{p8:wO.WHITE,m8:"regular",A8:12},{p8:wO.WHITE,m8:"underline",A8:12},{p8:wO.WHITE,m8:"regular",A8:16},{p8:wO.WHITE,m8:"underline",A8:16},{p8:wO.WHITE,m8:"regular",A8:20},{p8:wO.WHITE,m8:"underline",A8:20},{p8:wO.WHITE,m8:"regular",A8:24},{p8:wO.WHITE,m8:"underline",A8:24},{p8:wO.WHITE,m8:"regular",A8:28},{p8:wO.WHITE,m8:"underline",A8:28}],Az=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function mz(t,n){return Jm(t.y8,n.y8)||qs(t.Kb,n.Kb)}wt(),C(),Ft();var pz=32,_z=/CC([1-4])=(.*)/;function kz(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(_z)})))for(var r=0;r<i.length;r++){var e=Gt(i[r].match(_z),3),u=e[1],s=e[2];n.push({M8:Number(u),b8:s})}else for(var o=0;o<i.length;o++)n.push({M8:o+1,b8:i[o]});return n}var Mz=function(){function t(t,n,i){this.N8=t,this.z8=n,this.a9=i}var n=t.prototype;return n.pr=function(){return this.x8=this.C8(),this.O8(),this.j8(),this.x8},n.C8=function(){var t=u.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.E8/pz*this.z8.P8*100+"%",t.style.height=1.2*this.k8+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.z8.B8?"calc(1em - 1ch)":"";var n=this.a9.mZ;n&&(t.style.fontFamily=n);var i=this.a9.MZ;return i&&(t.style.backgroundColor=i),t},n.O8=function(){if(this.x8){var t=this.T8.L8/15*100,n=this.T8.A8/pz*100,i=(pz-this.I8.A8-1)/pz*100,r=(15-this.I8.L8-1)/15*100;this.z8.U8||(n=i=1,this.x8.style.width="98%"),r<t?this.x8.style.bottom=r*this.z8.P8+"%":this.x8.style.top=t*this.z8.P8+"%",i<n?this.x8.style.right=i+"%":this.x8.style.left=n+"%"}},n.j8=function(){for(var t=this.N8.Q8.sort(bz),n=0;n<t.length;n++)this.F8(t[n-1],t[n]),this.Y8(t[n]);this.F8(t[t.length-1],void 0)},n.Y8=function(n){var i,r=vO(this.a9,n.G8),e=t.V8(r);KO(e,n.W8),null==(i=this.x8)||i.appendChild(e)},n.F8=function(t,n){var i=t?t.D8.L8:this.N8.S8.L8,r=n?n.S8.L8:this.N8.D8.L8,e=t?t.D8.A8:this.N8.S8.A8,u=n?n.S8.A8:this.N8.D8.A8;i<r&&(!n||t&&t.S8.L8!==n.S8.L8?this.H8():this.X8(this.N8.D8.A8-e),e=this.N8.S8.A8),e<u&&(n?this.X8(u-e):this.H8())},n.H8=function(){var t,n=u.createElement("br");null==(t=this.x8)||t.appendChild(n)},n.X8=function(t){var n;if(!(t<=0)){var i=u.createElement("span");i.style.display="inline-block",KO(i,Os(" ",t)),null==(n=this.x8)||n.appendChild(i)}},t.V8=function(t){var n=u.createElement("span");n.style.display="inline-block",t.m8!==vz.FONT_ITALICS&&t.m8!==vz.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.m8!==vz.FONT_UNDERLINE&&t.m8!==vz.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.pZ;i&&(n.style.color=i);var r=t.yZ;return r&&(n.style.backgroundColor=r),n.style.textShadow=TO(t.bZ),n.style.height="1.2em",n},At(t,[{key:"T8",get:function(){return this.N8.S8}},{key:"I8",get:function(){return this.N8.D8}},{key:"E8",get:function(){return this.N8.D8.A8-this.N8.S8.A8+1}},{key:"k8",get:function(){return this.N8.D8.L8-this.N8.S8.L8+1}}]),t}();function bz(t,n){return function(t,n){if(t.L8!==n.L8)return t.L8-n.L8;return t.A8-n.A8}(t.S8,n.S8)}var Tz=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,wz)}kt(n,t);var i=n.prototype;return i.U9=function(t){var n=u.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.h9.mZ&&(n.style.fontFamily=this.h9.mZ),n},i.re=function(t,n){this.ll()},i.ll=function(){var t=dO(this.h9);this.Z8=function(t){return{P8:t/100,B8:t<=100,U8:t<=150}}(100*t);var n=this.q8/pz;this.K8=n*t,this.pz.style.fontSize=this.K8+"px"},i.R9=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.ro||this.n9(e)}for(var u=0;u<t.length;u++){var s=t[u];this.G9(s)}},i.G9=function(t){this.Z8&&this.Z8.U8?this.J8(80):this.J8(100),this.ll();var n=this.r9(t);n||(n=this.V9(t),this.P9(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.pz.appendChild(r)}},i.V9=function(t){var n=this;return t.O.map((function(t){return new Mz(t,n.Z8,n.h9).pr()}))},i.J8=function(t){var n=(100-t)/2;this.pz.style.left=n+"%",this.pz.style.width=t+"%"},At(n,[{key:"q8",get:function(){var t=this.pz.offsetWidth;return this.Z8&&this.Z8.U8||(t*=.8),t}}]),n}(AO),Nz=function(){function t(t,n,i,r,e){var u=this;this.i7=[],this.l7=function(t){var n=t.Lt;n.yn(cA.Nw,u.u7),n.yn(cA.Dw,u.u7),n instanceof Nx&&(n._4=u._4),u.h7(n)},this.u7=function(t){var n=t.Lt;u.h7(n)},this.d7=function(t){var n=t.Lt;n.fn(cA.Nw,u.u7),n.fn(cA.Dw,u.u7),u.o7(n)},this.f7=function(){for(var t=u._4,n=0,i=u.Dl.Rw;n<i.length;n++){var r=i[n];r instanceof Nx&&(r._4=t)}},this._7=function(){for(var t=0,n=u.i7;t<n.length;t++){n[t].f9(u.mU)}},this.g7=function(){for(var t=0,n=u.i7;t<n.length;t++){var i=n[t];i.f9(Xu({},i.w9(),{DZ:"hidden"}))}},this.w7=function(){for(var t=0,n=u.i7;t<n.length;t++){var i=n[t];i.f9(Xu({},i.w9(),{DZ:"visible"}))}},this.n7=t,this.Wu=n,this.Dl=i,this.a7=e,this.mU=r,this.Dl.yn(eA.hw,this.l7),this.Dl.yn(eA.uw,this.d7),this.Dl.yn(cA.ra,this.u7),this.a7.yn(RD.ra,this.f7),this.mU.yn("Sw",this._7),this.f7()}var n=t.prototype;return n.t7=function(t){for(var n=0,i=this.i7;n<i.length;n++){var r=i[n];if(r.Lt===t)return r}},n.s7=function(t){switch(t.Av){case cm.TTML:return new LO(t,this.n7,t.kh,this.Wu);case cm.SRT:case cm.WEBVTT:return new rz(t,this.n7,t.kh,this.Wu);case cm.CEA608:return new Tz(t,this.n7,t.kh,this.Wu)}},n.r7=function(t){var n=this.t7(t);n||(n=this.s7(t))&&(n.oX(),n.f9(this.mU),this.i7.push(n),t._v===h_.Jn&&n.L9())},n.o7=function(t){for(var n=this.i7,i=n.length-1;i>=0;i-=1){var r=n[i];r.Lt===t&&(r.gn(),co(n,i))}},n.h7=function(n){(function(t){return t===C_.HA||t===C_.sD})(n.zt)&&t.e7(n)&&(n.Sg===am.ERROR?this.o7(n):this.r7(n))},n.tr=function(){for(var t=0,n=this.i7;t<n.length;t++){var i=n[t];i.Lt.fn(cA.Nw,this.u7),i.Lt.fn(cA.Dw,this.u7),i.gn()}lo(this.i7)},n.gn=function(){this.tr();for(var t=0,n=this.i7;t<n.length;t++){n[t].gn()}this.Dl.fn(eA.hw,this.l7),this.Dl.fn(eA.uw,this.d7),this.Dl.fn(cA.ra,this.u7),this.a7.fn(RD.ra,this.f7),this.mU.fn("Sw",this._7)},t.e7=function(t){switch(t.Av){case cm.TTML:case cm.SRT:case cm.WEBVTT:case cm.CEA608:return!0}return!1},At(t,[{key:"_4",get:function(){return this.a7.cs}}]),t}();function Dz(t){var n=new AS,i=function(t){var n=[];return wS.ia(t)&&n.push(new wS(t)),yS.ia(t)&&n.push(new yS(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.SV(e)}n.TV(i[0])}return n}var Iz=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).v7=Dz(n),u.m7=new fO,u.p7=new Nz(u.m7.we,u.Iu,u.nt,u.Ol,u.ya),u}kt(n,t);var i=n.prototype;return i.Vg=function(){return this.lj},i.h_=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.v7.gn(),n.m7.gn(),n.p7.gn(),[4,t.prototype.h_.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.m7.be()},i.ge=function(){t.prototype.ge.call(this),this.m7.ge()},i.Y6=function(n){t.prototype.Y6.call(this,n),this.m7.Y6(n)},At(n,[{key:"pz",get:function(){return this.lj}},{key:"Cg",get:function(){return this.lj.videoHeight}},{key:"Rg",get:function(){return this.lj.videoWidth}},{key:"ya",get:function(){return this.v7}}]),n}(eO);wt(),C(),Wt(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C();wt(),C(),Ot(),Pt(),wt(),C();var Ez,Sz=!1;!function(t){t.A7="HELLO",t.y7="HI_THERE",t.M7="INITIALIZE",t.b7="APPEND_INIT",t.T7="APPEND_DATA",t.S7="ACK",t.N7="REMOVE",t.I7="DESTROY_SESSION"}(Ez||(Ez={}));var Lz=function(){function t(){this.XZ=new qv}var n=t.prototype;return n.D7=function(t){var n=this;return this.XZ.JO(xt((function(t){var i,r,e,u,s,a,c;return zt(this,(function(h){switch(h.label){case 0:return jo(t),i=new MessageChannel,r=i.port1,e=i.port2,o.serviceWorker.controller?[3,2]:[4,Ry(o.serviceWorker,"install",t)];case 1:h.sent(),h.label=2;case 2:return"activated"===o.serviceWorker.controller.state?[3,4]:[4,Ry(o.serviceWorker.controller,"activate",t)];case 3:h.sent(),h.label=4;case 4:u={kind:"HELLO",port:e},o.serviceWorker.controller.postMessage(u,[e]),r.start(),n.E7=r,h.label=5;case 5:return h.trys.push([5,7,,8]),[4,Ry(r,"message",t)];case 6:if(s=h.sent(),"HI_THERE"!==(a=s.data).kind)throw new v("Could not set up message channel");return n.gj=a.sessionId,[3,8];case 7:throw Co(c=h.sent())&&n.k7(),c;case 8:return[2]}}))})),t)},n.L7=function(t,n){this.E7;var i=this;return this.XZ.JO(xt((function(){return zt(this,(function(r){switch(r.label){case 0:if(!i.E7)throw new v("MessageSession not set up yet or already closed.");return n||(n=[]),i.E7.postMessage(t,n),[4,Ry(i.E7,"message")];case 1:return[2,r.sent().data]}}))})))},n.x7=function(){var t=this;return this.XZ.JO((function(){return t.k7()}))},n.k7=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.E7){var t={kind:"DESTROY_SESSION"};Sz,this.E7.postMessage(t),this.E7.close(),this.E7=void 0}},t}();wt(),C(),mt();var Cz,jz=function(){function t(){this.O7=1/0}var n=t.prototype;return n.j7=function(t,n){var i=t-n;this.O7=i>this.C7?this.O7:i},n.R7=function(t){this.O7=t},At(t,[{key:"C7",get:function(){return this.O7}}]),t}();wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),function(t){t.WA="audio",t.VA="video",t.ZA="metadata"}(Cz||(Cz={}));var xz=function(t){function n(n,i){var r;return(r=t.call(this)||this).TG=n,r.Y7=i,r.P7=void 0,r.z7=void 0,r.XZ=new qv,r.U7=!1,r.B7=!1,r}kt(n,t);var i=n.prototype;return i.B0=function(t,n){},i.U0=function(t,n){},i.oq=function(){return this.B7},i.Q0=function(){return xt((function(){return zt(this,(function(t){return[2]}))}))()},i.u0=function(t,n){return xt((function(){return zt(this,(function(t){return[2]}))}))()},i.V$=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){if(t.Av!==pL.jZ)throw new v("Streaming or opaque segments are not supported yet.");return e=t.ly,u=xt((function(){var t,i,u;return zt(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:Ez.T7,mediaType:Oz(r.TG),segment:e,startPts:n.F7,totalDuration:n.ct},[4,r.Y7.L7(i,[t])];case 1:return s.sent(),void 0===r.P7&&(u=n.F7+n.pI,r.P7=u,r.z7=u),r.z7=r.z7+n.ct,r.Co(new Jo(wL.CZ)),[2]}}))})),[2,r.XZ.JO(xt((function(t){return zt(this,(function(n){switch(n.label){case 0:jo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.U7=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.U7=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.X$=function(t,n,i){var r=this;return xt((function(){var n,e;return zt(this,(function(u){if(t.Av!==pL.jZ)throw new v("Streaming or opaque initialization segments are not supported yet.");return n=t.ly,e=xt((function(){var t;return zt(this,(function(i){switch(i.label){case 0:return t={kind:Ez.b7,mediaType:Oz(r.TG),segment:n},[4,r.Y7.L7(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.XZ.JO(xt((function(t){return zt(this,(function(n){switch(n.label){case 0:jo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.U7=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.U7=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.x0=function(){this.B7=!0},i.M0=function(){this.B7=!1},i.rS=function(t,n,i){var r=this;return xt((function(){var t;return zt(this,(function(e){return t=xt((function(){var t;return zt(this,(function(i){switch(i.label){case 0:return t={kind:Ez.N7,mediaType:Oz(r.TG),endTime:n},[4,r.Y7.L7(t)];case 1:return i.sent(),r.P7=void 0,r.z7=void 0,r.Co(new Jo(wL.CZ)),[2]}}))})),[2,r.XZ.JO(xt((function(n){return zt(this,(function(i){switch(i.label){case 0:jo(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.U7=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.U7=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.FZ=function(t){return this.TG===t.Nz},i.GZ=function(t){return this.TG=t.Nz,K.resolve()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.XZ.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"O_",get:function(){return void 0===this.P7||void 0===this.z7?BD.oU():new BD([this.P7,this.z7])}},{key:"wd",get:function(){return{Nz:this.TG}}},{key:"O0",get:function(){return Ls(this.TG,"audio")?zA.WA:Ls(this.TG,"video")?zA.VA:zA.jT}},{key:"aG",get:function(){return this.TG}},{key:"R0",get:function(){return BD.oU()}},{key:"iX",get:function(){return 30},set:function(t){}},{key:"rX",get:function(){return 30},set:function(t){}},{key:"oa",get:function(){return this.U7}},{key:"Q7",get:function(){return this.P7}},{key:"bS",get:function(){return this.z7}}]),n}(Xo);function Oz(t){return t.match(/video/)?Cz.VA:Cz.WA}var zz=function(){function t(t,n,i,r){this.cO=void 0,this.GO=t,this.j1=ro(n,(function(t){return Boolean(t.aG.match(/video/))})),this.O1=ro(n,(function(t){return Boolean(t.aG.match(/audio/))})),this.SO=i,this.lj=r,this.V7()}var n=t.prototype;return n.V7=function(){},n.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,K.all([t.O1,t.j1].filter(zn).map((function(t){return t.h_()})))];case 1:return n.sent(),[2]}}))}))()},n.P1=function(t){},n.Q1=function(t,n,i,r){},n.x0=function(){var t,n;null==(t=this.O1)||t.x0(),null==(n=this.j1)||n.x0()},n.M0=function(){var t,n;null==(t=this.O1)||t.M0(),null==(n=this.j1)||n.M0()},n.FZ=function(t){return!0},n.GZ=function(t){return this.GO=t,K.resolve()},n.UZ=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,i.SO.TO(t.dL,n)];case 1:return[4,e.sent()._O()];case 2:return r=e.sent(),[4,i.QZ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.QZ=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(t&&!n.lj.src)throw new PA(Qv.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.lj.src)throw new PA(Qv.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.cO)?[4,i.dO(n.lj)]:[3,2];case 1:r.sent(),n.cO=void 0,r.label=2;case 2:return t?[4,t.bn(n.lj)]:[3,4];case 3:r.sent(),n.cO=t,r.label=4;case 4:return[2]}}))}))()},t.G7=function(n,i,r,e){for(var u=[],s=0;s<n.F1.length;s++){var o=n.F1[s].Nz;u.push(new xz(o,i))}return new t(n,u,r,e)},At(t,[{key:"W7",get:function(){return[this.O1,this.j1].filter(zn)}},{key:"I1",get:function(){return this.O1}},{key:"O_",get:function(){return VC(this)}},{key:"wd",get:function(){return this.GO}},{key:"ct",get:function(){return 0}},{key:"oq",get:function(){var t,n,i,r,e=null==(i=null==(t=this.O1)?void 0:t.oq())||i,u=null==(r=null==(n=this.j1)?void 0:n.oq())||r;return e&&u}},{key:"Ig",get:function(){return new BD([0,1/0])}},{key:"D1",get:function(){return this.j1}}]),t}(),Rz=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this)._tt=!0,u.Y7=new Lz,u.ctt=new jz,u.wtt=!0,u.ptt=new Cc,u.aU=!1,u.x5=K.resolve(),u.L5=new So,u.mtt=!0,u.Uo=BD.oU(),u.Q6=!1,u.Z7=function(){u.fg||u.dtt.U<=0||u.O_.U<=0||u.ctt.j7(u.O_.jn(u.O_.U-1),u.dtt.jn(u.dtt.U-1))},u.q7=function(){u.Co(new cD(u.U_))},u.K7=function(){u.Co(new nA(u.U_,u.R_))},u.J7=function(){u.Co(new aD(u.U_,u.gg))},u.ttt=function(){u.Co(new vD(u.U_,u.zg))},u.itt=function(){u.Co(new oD(u.ct))},u.ett=function(){u.Co(new gk(u.U_))},u.stt=function(){u.JA(u.U_)};var s=Vt(u);return u.ntt=xt((function(){return zt(this,(function(t){return s.mtt&&s.Co(new sD(s.U_)),s.wtt=!1,s.mtt=!0,[2]}))})),u.ott=function(){u.wtt=!0,u.Co(new uD(u.U_))},u.C6=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u.Co(new ra(i,r))},u.X7=n,u.a5=new sj(Vt(u)),u.ytt=r,u.mU=e,u.X7.playsInline=!0,u.X7.style.width="100%",u.X7.style.height="100%",u.H7(),u.att(),u.v7=Dz(u.X7),u.VZ=new Jx(Vt(u)),u.SO=i,u.Dl=new j_,u.W5=new Cx(Vt(u)),u.m7=new fO,u.p7=new Nz(u.m7.we,u.Iu,u.nt,u.Ol,u.ya),u}kt(n,t);var i=n.prototype;return i.H7=function(){this.X7.addEventListener("timeupdate",this.Z7),this.X7.addEventListener("ended",this.q7),this.X7.addEventListener("timeupdate",this.K7),this.X7.addEventListener("ratechange",this.J7),this.X7.addEventListener("volumechange",this.ttt),this.X7.addEventListener("durationchange",this.itt),this.X7.addEventListener("playing",this.ett),this.X7.addEventListener("seeking",this.stt),this.X7.addEventListener("play",this.ntt),this.X7.addEventListener("pause",this.ott),this.X7.addEventListener("encrypted",this.C6)},i.htt=function(){this.X7.removeEventListener("timeupdate",this.Z7),this.X7.removeEventListener("ended",this.q7),this.X7.removeEventListener("timeupdate",this.K7),this.X7.removeEventListener("ratechange",this.J7),this.X7.removeEventListener("volumechange",this.ttt),this.X7.removeEventListener("durationchange",this.itt),this.X7.removeEventListener("playing",this.ett),this.X7.removeEventListener("seeking",this.stt),this.X7.removeEventListener("play",this.ntt),this.X7.removeEventListener("pause",this.ott)},i.att=function(){this.a5.yn(uk.Nw,this.Ds)},i.utt=function(){this.a5.fn(uk.Nw,this.Ds)},i.JA=function(t,n,i){this.L5.g_(),this.L5=new So,this.x5=this.C5(t,this.x5,this.L5.f_).catch(Hn)},i.C5=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return r.Uo=r.pg,(s=null==(u=r.yz)?void 0:u.W7)?(o=(e=g).max.apply(e,Lt(s.map((function(t){return t.Q7?t.Q7:1/0})))),r.aU=!0,r.Co(new hD(t)),[4,n.catch(Hn)]):[2];case 1:c.sent(),jo(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r._tt||r.gtt(),r.X7.load(),r.wtt?[3,4]:(r.mtt=!1,[4,zo(r.X7.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.Sg<ak.UT?[4,r.a5.k_(uk.Nw,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.ptt.LL(),r._tt=!1,r.aU=!1,r.Co(new fD(r.U_)),[3,9];case 7:throw a=c.sent(),r.ptt.xL(a),a;case 8:return r.Att(),r.ctt.R7(o),[7];case 9:return[2]}}))}))()},i.Hg=function(){this.wtt=!0,this.X7.pause()},i.Xg=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.wtt?(t.X7.src||t.F6(),[4,t.ptt.OL]):[2];case 1:return n.sent(),[4,t.X7.play()];case 2:return n.sent(),[2]}}))}))()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.Y7&&t.Y7.x7().catch(Hn),t.L5.g_(),t.htt(),t.utt(),t.a5.h_(),t.Vo(),t.Dl.gn(),t.m7.gn(),t.p7.gn(),[2]}))}))()},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.Y7&&t.Y7.x7().catch(Hn),t.L5.g_(),t.X7.removeAttribute("src"),t.X7.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.X7.removeAttribute("x-airplay-deny"),t.X7.disableRemotePlayback=!1,t.X7.load(),t.a5.tr(),t.Uo=BD.oU(),[2]}))}))()},i.F6=function(){this.U6||(Gz(this.X7,on.Ys),this.Q6=!0)},i.gtt=function(){var t,n=this.X7.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.X7.videoWidth/this.X7.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.X7.style.width=i+"px",this.X7.style.height=r+"px",this.X7.style.marginLeft=(e-i)/2+"px",this.X7.style.marginTop=(s-r)/2+"px",this.X7.style.backgroundColor="black"}},i.Att=function(){this.X7.style.width="100%",this.X7.style.height="100%",this.X7.style.marginLeft="",this.X7.style.marginTop="",this.X7.style.backgroundColor=""},i.jz=function(t,n,i,r,e){},i.rE=function(t,n,i,r,e,u,s,o,a){var c=new Ij(t,n,i,r,e,u,s,a,o);return this.Dl.tt(c),this.W5.tt(c),c},i.dq=function(t){},i.rg=function(){return qS(this.X7)},i.ge=function(){this.X7.style.display="block",this.m7.ge()},i.be=function(){this.X7.style.display="none",this.m7.be()},i.z6=function(){},i.$n=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:if(t.Av===ek.Tj)throw new v("Not yet implemented");return[4,n.Y7.D7()];case 1:return e.sent(),i=ro(t.Iz,(function(t){return t.Qp.Av===rs.kp})),r={kind:Ez.M7,mediaBufferConfigs:t.F1.map((function(t){return t.Nz})),fairPlaySdkUri:null==i?void 0:i.hP},[4,n.Y7.L7(r)];case 2:return e.sent(),n.yz=zz.G7(t,n.Y7,n.SO,n.X7),n.VZ.$n(n.yz,t),n.X7.setAttribute("x-webkit-airplay","deny"),n.X7.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.X7.disableRemotePlayback=!0,n.X7.preload="none",n.X7.src="https://theo.proxy/"+n.Y7.gj+"/master.m3u8",[2,n.yz]}}))}))()},i.B6=function(){},i.fE=function(t){this.Dl.it(t),this.W5.it(t)},i.Pz=function(){for(var t=0,n=this.Dl.Rw.slice();t<n.length;t++){n[t].gn()}this.Dl.tr()},i.gz=function(t){},i.Cz=function(){return!1},i.Y6=function(t){t.appendChild(this.X7),this.m7.Y6(t)},i.Vg=function(){return this.X7},i.K3=function(){},i.$g=function(){},At(n,[{key:"pz",get:function(){return this.X7}},{key:"l2",get:function(){return!1}},{key:"U_",get:function(){return this.X7.currentTime+this.ctt.C7}},{key:"fg",get:function(){return this.X7.paused}},{key:"zg",get:function(){return this.X7.volume},set:function(t){this.X7.volume=t}},{key:"gg",get:function(){return this.X7.playbackRate},set:function(t){this.X7.playbackRate=t}},{key:"ltt",get:function(){return this.X7.defaultPlaybackRate}},{key:"O_",get:function(){var t,n;return null!=(n=null==(t=this.yz)?void 0:t.O_)?n:BD.oU()}},{key:"dtt",get:function(){return BD.xn(this.X7.buffered)}},{key:"pg",get:function(){var t=this.ftt;return this.Uo.YB(t.KA(this.ctt.C7))}},{key:"ftt",get:function(){return BD.xn(this.X7.played)}},{key:"Eg",get:function(){return this.aU}},{key:"s2",get:function(){return!1}},{key:"g2",get:function(){return!1}},{key:"ct",get:function(){return this.X7.duration}},{key:"og",get:function(){return this.X7.muted},set:function(t){this.X7.muted=t}},{key:"G8",get:function(){return this.X7.style}},{key:"Hm",get:function(){return Xu({},AL,{Wm:!0})}},{key:"Sg",get:function(){return this.a5.Sg}},{key:"Cg",get:function(){return this.X7.videoHeight}},{key:"Rg",get:function(){return this.X7.videoWidth}},{key:"G_",get:function(){return this.X7.ended}},{key:"Ti",get:function(){return this.X7.offsetHeight*on.Ys.h5}},{key:"ji",get:function(){return this.X7.offsetWidth*on.Ys.h5}},{key:"K_",get:function(){return!1}},{key:"U6",get:function(){return this.Q6}},{key:"R_",get:function(){}},{key:"Iu",get:function(){return this.ytt}},{key:"lt",get:function(){}},{key:"ya",get:function(){return this.v7}},{key:"Ig",get:function(){return this.yz?this.yz.Ig:BD.oU()}},{key:"Mz",get:function(){}},{key:"nt",get:function(){return this.Dl}},{key:"Ol",get:function(){return this.mU}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"_5",get:function(){return"block"===this.X7.style.display}},{key:"Qz",get:function(){return this.VZ.Qz},set:function(t){this.VZ.Qz=t}},{key:"G6",get:function(){},set:function(t){}},{key:"j3",get:function(){}}]),n}(Xo),Bz=[zA.WA,zA.VA],Pz=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=Bz),void 0===e&&(e=od()),this.ont=i,this.$st=Lt(r),this.SO=e,this.Wu=t,this.mU=n,this.tnt=Hu(),this.rnt()}var n=t.prototype;return n.yU=function(t){for(var n=0,i=this.pU;n<i.length;n++){i[n].Y6(t)}},n.oB=function(t){var n=ro(this.tnt.get(t),(function(t){return t.snt}));if(n)return n.snt=!1,n.int},n.nnt=function(t){if(!this.ent){var n,i=null==(n=this.tnt.get(zA.VA))?void 0:n[0].int.pz;if(!i)throw new v("Error creating iOS Safari MediaController");this.ent=new Rz(i,this.SO,this.Wu,this.mU),i.parentElement&&this.ent.Y6(i.parentElement)}return this.ent},n.Fz=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return i=t.pz,r=i.tagName.toLowerCase(),[4,t.tr()];case 1:return u.sent(),Yz(i),(e=ro(n.tnt.get(r)||[],(function(n){return t===n.int})))&&(e.snt=!0),[2]}}))}))()},n._U=function(){for(var t=0,n=this.pU;t<n.length;t++){n[t].F6()}},n.gn=function(){for(var t=0,n=this.pU;t<n.length;t++){var i=n[t],r=i.pz;i.h_(),Qz(r),au(r)}this.tnt.clear(),this.ent=void 0},n.rnt=function(){for(var t=0,n=this.$st;t<n.length;t++){var i=n[t],r=[];this.tnt.set(i,r);for(var e=0;e<this.ont;e++){var u=Uz(i),s=i===zA.WA?new hO(u,this.SO,this.Wu):new Iz(u,this.SO,this.Wu,this.mU);r.push({int:s,snt:!0})}}},At(t,[{key:"pU",get:function(){for(var t=[],n=0,i=this.$st;n<i.length;n++){var r=i[n],e=this.tnt.get(r);if(e){var u,s=e.map((function(t){return t.int}));(u=t).push.apply(u,Lt(s))}}return this.ent&&t.push(this.ent),t}}]),t}();function Uz(t){var n=u.createElement(t);return _u(n)&&n.addEventListener("contextmenu",Fz),Yz(n),n}function Qz(t){Yz(t),t.removeEventListener("contextmenu",Fz)}function Yz(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),cu(t),ku(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=CD.LT,t.controls=!1,t.style.display="none",_u(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function Gz(t,n){if(n.Mtt){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();Fn(r)&&Qo(r),t.pause()}}function Fz(t){t.preventDefault()}wt(),C(),Ot(),Mt(),Pt(),wt(),C();var Vz=function(){function t(t){this.aE=t}var n=t.prototype;return n.uD=function(t){return this.aE.uD(t)},n.NG=function(t){this.aE.NG(t)},n.gn=function(){this.aE.gn()},t}(),Wz=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).wU=i,r}kt(n,t);var i=n.prototype;return i.uD=function(t){var n=new qw(t),i=this.wU.VH.WP(n);return i?this.btt(n,i):this.aE.uD(n)},i.btt=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return n.HH(on.m_()/1e3),[4,i.aE.uD(t)];case 1:return r=s.sent(),n.XH(on.m_()/1e3),e=r.ZW?r.VW().pipeThrough(new cw(new Xz(n))):r.GR().then((function(t){var i=on.m_()/1e3;return n.ZH(i,new m(t)),n.qH(i),t})),u={ly:e,uD:r.uD},[2,new Jw(u,r)]}}))}))()},n}(Vz),Xz=function(){function t(t){this.Ttt=t}var n=t.prototype;return n.start=function(t){this.wZ=t},n.transform=function(t){this.Ttt.ZH(on.m_()/1e3,t),this.wZ.enqueue(t)},n.flush=function(){this.Ttt.qH(on.m_()/1e3)},t}();function Zz(t){return{get ratio(){return t.Lo},get thresholds(){return t.Stt.slice()}}}function Hz(t){var n=[],i=g.floor(1/t);if(A(i))return[];for(var r=0;r<=i;r++){var e=Bi(r*t,0,1);n.push(e)}return n}wt(),C(),mt(),wt(),C(),mt(),Mt(),wt(),C();var Kz=function(){function t(t,n,i){this.Ntt=1,this.Xa=void 0,this.Itt=Hz(n);var r=this.Dtt(i);this.Ett=new e.IntersectionObserver(r,{root:null,threshold:this.Itt}),this.Ett.observe(t)}var n=t.prototype;return n.Dtt=function(t){var n=this;return function(i){var r=i[i.length-1];n.Ntt=r.intersectionRatio,t(r.intersectionRatio)}},n.Zg=function(){this.Ett.disconnect()},At(t,[{key:"Lo",get:function(){return this.Ntt}},{key:"Stt",get:function(){return this.Itt}},{key:"va",get:function(){return this.Xa||(this.Xa=Zz(this)),this.Xa}}]),t}(),Jz=function(){function t(t,n){this.Ntt=1,this.Ltt=-1,this.Xa=void 0,this.Itt=Hz(t),this.xtt=n}return t.prototype.ktt=function(t){this.Ntt=t;var n=this.Itt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.Ltt!==i&&(this.Ltt=i,this.xtt(t))},At(t,[{key:"Lo",get:function(){return this.Ntt}},{key:"Stt",get:function(){return this.Itt}},{key:"va",get:function(){return this.Xa||(this.Xa=Zz(this)),this.Xa}}]),t}(),qz=function(t){function n(n,i,r){var u;return(u=t.call(this,i,r)||this).Ott=Jn((function(){return u.ktt(u.Ctt())}),50),u.yo=n,e.addEventListener("scroll",u.Ott,!!sS&&{passive:!0}),Uo((function(){return u.ktt(u.Ctt())})),u}kt(n,t);var i=n.prototype;return i.Ctt=function(){var t=this.yo.getBoundingClientRect();return Bi(g.max(0,g.min(e.innerWidth,t.right)-g.max(0,t.left))*g.max(0,g.min(e.innerHeight,t.bottom)-g.max(0,t.top))/(t.width*t.height),0,1)},i.Zg=function(){e.removeEventListener("scroll",this.Ott)},n}(Jz),$z=function(){function t(t){this.Rtt=1,this.Ptt=0,this.Utt=[],this.Xa=void 0,this.yo=t,this.Fo(.1,this.Btt())}var n=t.prototype;return n.Btt=function(t){var n=this;return function(i){n.Rtt=i,null==t||t(n.Rtt)}},n.Fo=function(t,n){if(A(t))throw new d("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof e.IntersectionObserver?new Kz(this.yo,t,this.Btt(n)):new qz(this.yo,t,this.Btt(n)),this.Utt.push(i),i},n.Ro=function(t){t.Zg(),ao(this.Utt,t)},n.ztt=function(t){for(var n=0,i=this.Utt;n<i.length;n++){var r=i[n];if(r.va===t)return r}},n.gn=function(){for(var t=0,n=this.Utt;t<n.length;t++){n[t].Zg()}lo(this.Utt)},At(t,[{key:"jtt",get:function(){return this.Rtt}},{key:"zo",get:function(){return this.Ptt},set:function(t){if(A(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.Ptt=t}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get ratio(){return t.jtt},get visible(){return t.jtt>t.zo},get visibleThreshold(){return t.zo},set visibleThreshold(n){n=MA(n),t.zo=n},addObserver:function(n,i){return n=MA(n),t.Fo(n,i).va},removeObserver:function(n){var i=t.ztt(n);i&&t.Ro(i)}}}(this)),this.Xa}}]),t}();wt(),C(),Mt();var tR=function(t){function n(){return t.call(this,dd.Ev)}return kt(n,t),n}(Jo),nR=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Ftt=!1,e.bo=!1,e.SB=void 0,e.nit=!1,e.ba=void 0,e.$tt=function(t){if(!e.nit){e.nit=!0;var n=e.rit,i=YA(t);e.Ytt.Uw=new VD(e.we,i,t),Qo(n.gn())}},e.oit=function(t){t.type!==dd.Xv&&t.type!==dd.Hv&&e.Co(t)};var u=MA(i.uid);A(u)?e.cS=$A++:e.cS=u,e.wd=i;var s=on.Hj,o=new aL;e.sit=new VE("8.3.0",s,o),e.wU=new YS,e.vU=new wT;var a=new Wz(s,e.wU);e.Hj=new ES(a,i.allowMixedContent),e.uZ=null!=r?r:new mE(i.isEmbeddable,"8.3.0",dE()),e.Jtt=new oL(s,e.uZ,e.sit,o,i,dE()),e.Jtt.nZ().catch(e.$tt),e.Htt=new vS(n),e.Htt.yn(qE.pn,e.Ds),e.mU=new lL,e.MX=new XS,e.RX=new HS;var c=new FD(n,i,e.Hj,e.wU,e.vU,e.Htt,e.mU);e.wU.oX(c);var h=c;return h=new ZS(h,e.qtt),h=new KS(h,e.jX),e.rit=h,e.Ytt=new ND(e.rit),e.Ytt.T_(e.oit),e.Xtt=new JS(e.Ytt),e.Ztt=new jS(e.Ytt,e.Hj,e.wU),e.iit=new $E(Vt(e)),e.eit=new mS(e.Ytt,i.allowNativeFullscreen),e.tit=new aI(e.eit),e.Htt.bn(),e.Bo=new $z(n),e.gU=new $e(e.Htt,e.mU,1,[zA.VA]),e.Vtt=new tu(e.gU),e.Wtt=new nL,e}kt(n,t);var i=n.prototype;return i.j_=function(){return this.Ytt.O_},i.Q_=function(){return this.Ytt.U_},i.F_=function(t,n){this.Ytt.F_(t,n)},i.Ktt=function(){return this.Q_()},i.Td=function(){return this.Ytt.ct},i.W_=function(){return this.Ytt.lt},i.X_=function(){return this.Ytt.H_},i.ag=function(t){this.Ytt.og=t,t||this.fg||this.Wg()},i.Ag=function(){return this.Ytt.pg},i.Dg=function(){return this.Ytt.Ig},i.Ug=function(t){this.Ytt.zg=t},i.ka=function(){_D(this,cI,this)},i.Xg=function(){this.Ytt.Xg()},i.Hg=function(){this.Ytt.Hg()},i.Wa=function(){return this.SB},i.ga=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return i.SB=t,t?(i.Jtt.EY(t).catch(i.$tt),r=function(t){t.sources;var n=t.sources.filter((function(t){return Rn(t.integration)}));return t.sources=n,t}(t),[4,i.Ytt.ga(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.Wg=function(){if(!this.bo){this.Ytt.Wg(),this.Vtt.Wg();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&Gz(i,on.Ys)}this.bo=!0}},i.cs=function(){return this.tit.qo()===uI.FULLSCREEN},i.ge=function(){this.Ytt.ge()},i.be=function(){this.Ytt.be()},i.Vg=function(){return this.Ytt.Vg()},i.$g=function(){this.Ytt.$g()},i.iw=function(){this.Ytt.iw()},i.Zg=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.SB=void 0,[4,t.Ytt.Zg()];case 1:return n.sent(),[4,t.Ytt.tr()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Co(new tR),t.Vo(),t.Wtt.gn(),t.Hj.gn(),t.Ztt.gn(),t.iit.gn(),t.eit.gn(),t.tit.gn(),t.Htt.gn(),t.sit.gn(),t.Vtt.gn(),t.gU.gn(),[4,t.Ytt.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"Qtt",get:function(){return this.wU}},{key:"eS",get:function(){return this.Ftt},set:function(t){this.Ftt=t,this.Ytt.eS=t}},{key:"Gtt",get:function(){return this.Vtt}},{key:"ht",get:function(){return this.Ytt.ht}},{key:"YF",get:function(){return this.Wtt}},{key:"Iu",get:function(){return this.Htt}},{key:"Z_",get:function(){return this.Ytt.Z_}},{key:"eg",get:function(){return this.Xtt}},{key:"hF",get:function(){return this.Ztt}},{key:"nt",get:function(){return this.Ytt.nt}},{key:"Ol",get:function(){return this.mU}},{key:"rt",get:function(){return this.Ytt.rt}},{key:"O_",get:function(){return this.j_()}},{key:"qtt",get:function(){return this.MX}},{key:"jX",get:function(){return this.RX}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"R_",get:function(){return this.Ytt.R_},set:function(t){this.Ytt.R_=t}},{key:"bt",get:function(){return this.Ytt.bt}},{key:"ct",get:function(){return this.Td()}},{key:"we",get:function(){return this.Ytt.we}},{key:"G_",get:function(){return this.Ytt.G_}},{key:"lt",get:function(){return this.W_()}},{key:"H_",get:function(){return this.X_()}},{key:"ya",get:function(){return this.Ytt.Gg()}},{key:"Yg",get:function(){return this.Ytt.Yg},set:function(t){this.Ytt.Yg=t}},{key:"og",get:function(){return this.Ytt.og},set:function(t){var n=Boolean(t);this.ag(n)}},{key:"fg",get:function(){return this.Ytt.fg}},{key:"gg",get:function(){return this.Ytt.gg},set:function(t){this.Ytt.gg=t}},{key:"pg",get:function(){return this.Ag()}},{key:"yg",get:function(){return this.Ytt.yg},set:function(t){this.Ytt.yg=t}},{key:"Sg",get:function(){return this.Ytt.Sg}},{key:"Ig",get:function(){return this.Dg()}},{key:"Eg",get:function(){return this.Ytt.Eg}},{key:"Xw",get:function(){return this.cS}},{key:"Cg",get:function(){return this.Ytt.Cg}},{key:"Rg",get:function(){return this.Ytt.Rg}},{key:"zg",get:function(){return this.Ytt.zg},set:function(t){var n=Bi(Number(t),0,1)||0;this.Ug(n)}},{key:"Qg",get:function(){return this.vU}}]),n}(Ho);wt(),C();var iR=self.CustomEvent;var rR=function(){try{var t=new iR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};wt(),C(),mt();var eR=function(){function t(){this.$T=[],this.Xa=void 0}var n=t.prototype;return n.zw=function(t){return this.$T[t]},n.Eq=function(t){this.$T.push(t),this.va.push(t.va)},n.rS=function(t){var n=this.$T.indexOf(t);n<0||(co(this.$T,n),this.Xa&&co(this.Xa,n))},n.mit=function(t){for(var n=0,i=this.$T;n<i.length;n++){var r=i[n];if(r.Xw===t)return r}},At(t,[{key:"U",get:function(){return this.$T.length}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){for(var n=[],i=0;i<t.U;i++)n[i]=t.zw(i).va;return n.getPlayerByUID=function(n){var i=t.mit(n);return i&&i.va},n}(this)}}]),t}();var uR=new eR;wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),wt(),C(),Mt();var sR=function(t){function n(n){var i;return(i=t.call(this,dd.lo)||this).source=n,i}return kt(n,t),n}(Jo);wt(),C(),mt(),Mt();var oR=function(t){function n(){var n;return(n=t.call(this)||this).hU=0,n.cU=!0,n.aU=!1,n.lU=1,n}kt(n,t);var i=n.prototype;return i.Q_=function(){return this.hU},i.Ktt=function(){return this.Q_()},i.F_=function(t,n){this.aU&&this.hU===t||(this.hU=t,this.aU=!0,this.Co(new hD(this.hU)))},i.Xg=function(){this.cU&&(this.cU=!1,this.Co(new sD(this.hU)),this.Co(new vk(this.hU)))},i.Hg=function(){this.cU||(this.cU=!0,this.Co(new nA(this.hU,this.R_)),this.Co(new uD(this.hU)))},i.tr=function(){this.hU=0,this.aU=!1,this.lU=1,this.Hg()},i.gn=function(){this.Vo()},i.be=function(){},i.ge=function(){},At(n,[{key:"R_",get:function(){},set:function(t){}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"fg",get:function(){return this.cU}},{key:"gg",get:function(){return this.lU},set:function(t){this.lU!==t&&(this.lU=t,this.Co(new aD(this.hU,this.gg)))}},{key:"Sg",get:function(){return ak.BT}},{key:"Eg",get:function(){return this.aU}}]),n}(Ho);wt(),C(),mt();var aR,cR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},hR={visibility:"hidden"},fR={visibility:"visible"},vR=function(){function t(t){var n=this;this.Mit=!1,this.Tit=function(t){var i;n.Mit=!n.Qo.fg,n.pit=null==(i=t.source)?void 0:i.poster,n.Yn()},this.Qj=function(){n.Mit=!0,n.be()},this.Qo=t,this.bB(),this.Us=function(){var t=iu&&iu.document&&iu.document.createElement("div");return t.className="theoplayer-poster",gu(cR,t),t}(),t.we.appendChild(this.Us)}var n=t.prototype;return n.Yn=function(){var t=this.Qo.fg,n=this.Mit;this.zu?this.Us.style.backgroundImage='url("'+Qs(this.zu)+'")':this.Us.style.backgroundImage="",t&&this.zu&&!n?this.ge():this.be()},n.ge=function(){gu(hR,this.Qo.we),gu(fR,this.Us)},n.be=function(){gu(hR,this.Us),gu(fR,this.Qo.we)},n.bB=function(){this.Qo.yn(dd.lo,this.Tit),this.Qo.yn(dd.jh,this.Qj)},n.gn=function(){this.Qo.fn(dd.lo,this.Tit),this.Qo.fn(dd.jh,this.Qj),au(this.Us)},At(t,[{key:"zu",get:function(){return void 0!==this.pit?this.pit:void 0!==this.Ait?this.Ait:void 0}},{key:"yit",set:function(t){this.Ait=t,this.Yn()}}]),t}();function dR(t){var n,i={get playing(){return t.Fc},get currentAds(){return t.Sit.map((function(t){return t.Nit()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.Iit)?void 0:n.Nit())?i:null},get scheduledAds(){return t.Dit.map((function(t){return t.Nit()}))},get scheduledAdBreaks(){return t.Eit.map((function(t){return t.Nit()}))},skip:function(){t.Ny()},schedule:function(n){var i=JI(n,wI.lL);i?t.W4(i,aR.kit,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.Lit(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},get theoads(){var n;return null==(n=t.xit)?void 0:n.va}};return n=new WS(t,i),i}wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),function(t){t[t.kit=0]="kit",t[t.Cit=1]="Cit"}(aR||(aR={})),wt(),C(),Mt(),wt(),C(),mt(),Mt();var lR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xl=i,r}return kt(n,t),n}(iA),gR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return kt(n,t),At(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(Jo),wR=function(t){function n(n){return t.call(this,"Oit",n)}return kt(n,t),n.prototype.fa=function(){return new yR(this.Xl.Nit())},n}(lR),yR=function(t){function n(n){return t.call(this,"removeadbreak",n)}return kt(n,t),n}(gR);wt(),C(),Mt();var AR=function(t){function n(n){return t.call(this,"jit",n)}return kt(n,t),n.prototype.fa=function(){return new mR(this.Xl.Nit())},n}(lR),mR=function(t){function n(n){return t.call(this,"addadbreak",n)}return kt(n,t),n}(gR);wt(),C(),Mt(),wt(),C(),Mt();var pR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Rit=i,r}return kt(n,t),n}(iA),_R=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return kt(n,t),n}(Jo),kR=function(t){function n(n){return t.call(this,"Pit",n)}return kt(n,t),n.prototype.fa=function(){return new MR(this.Rit.Nit())},n}(pR),MR=function(t){function n(n){return t.call(this,"addad",n)}return kt(n,t),n}(_R);wt(),C(),Mt();var bR=function(t){function n(n){return t.call(this,"zit",n)}return kt(n,t),n.prototype.fa=function(){return new TR(this.Xl.Nit())},n}(lR),TR=function(t){function n(n){return t.call(this,"adbreakend",n)}return kt(n,t),n}(gR);wt(),C(),Mt();var NR=function(t){function n(n){return t.call(this,"Bit",n)}return kt(n,t),n.prototype.fa=function(){return new DR(this.Xl.Nit())},n}(lR),DR=function(t){function n(n){return t.call(this,"adbreakbegin",n)}return kt(n,t),n}(gR);wt(),C(),Mt();var IR=function(t){function n(n,i){var r;return(r=t.call(this,"Uit",n)||this).currentTime=i,r}return kt(n,t),n.prototype.fa=function(){return new ER(this.Rit.Nit(),this.currentTime)},n}(pR),ER=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return kt(n,t),n}(_R);wt(),C(),Mt();var SR=function(t){function n(n,i){var r;return(r=t.call(this,"Qit",n)||this).currentTime=i,r}return kt(n,t),n.prototype.fa=function(){return new LR(this.Rit.Nit(),this.currentTime)},n}(pR),LR=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return kt(n,t),n}(_R);wt(),C(),Mt();var CR=function(t){function n(){return t.call(this,"Fit")}return kt(n,t),n.prototype.fa=function(){return new jR},n}(iA),jR=function(t){function n(){return t.call(this,"adadded")}return kt(n,t),n}(Jo),xR=function(t){function n(n){var i;return(i=t.call(this)||this).Xa=void 0,i.Qo=n,i}kt(n,t);var i=n.prototype;return i.W4=function(t,n,i){var r;null==(r=this.Ic)||r.W4(t,n,i)},i.Yit=function(t){var n;null==(n=this.Ic)||n.Yit(t)},i.Ny=function(){var t;null==(t=this.Ic)||t.Ny()},i.Git=function(t){var n;null==(n=this.Ic)||n.Git(t)},i.Lit=function(t,n){var i;null==(i=this.Ic)||i.Lit(t,n)},i.gn=function(){var t;return this.Vo(),null==(t=this.Ic)||t.E_(this.Ds),this.Ic=void 0,K.resolve()},At(n,[{key:"Fc",get:function(){return!!this.Ic&&this.Ic.Fc}},{key:"Sit",get:function(){return this.Ic?this.Ic.Sit:[]}},{key:"Iit",get:function(){return this.Ic?this.Ic.Iit:null}},{key:"Dit",get:function(){return this.Ic?this.Ic.Dit:[]}},{key:"Eit",get:function(){return this.Ic?this.Ic.Eit:[]}},{key:"xit",get:function(){var t;return null==(t=this.Ic)?void 0:t.xit}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=dR(this)}},{key:"Uw",get:function(){return this.Ic},set:function(t){var n=this.Ic;if(n!==t){var i=this.Sit,r=this.Iit,e=this.Dit,u=this.Eit;null==n||n.E_(this.Ds),this.Ic=t,null==t||t.T_(this.Ds);for(var s=this.Sit,o=this.Iit,a=this.Dit,c=this.Eit,h=[],f=!1,v=0;v<u.length;v++){var d=u[v];fo(c,d)||h.push(new wR(d))}for(var l=0;l<c.length;l++){var g=c[l];fo(u,g)||h.push(new AR(g))}for(var w=0;w<a.length;w++){var y=a[w];fo(e,y)||(h.push(new kR(y)),f=!0)}f&&h.push(new CR),r!==o&&(r&&h.push(new bR(r)),o&&h.push(new NR(o)));for(var A=0;A<i.length;A++){var m=i[A];fo(s,m)||h.push(new SR(m,this.Qo.Q_()))}for(var p=0;p<s.length;p++){var _=s[p];fo(i,_)||h.push(new IR(_,this.Qo.Q_()))}for(var k=0;k<h.length;k++){var M=h[k];this.Co(M)}}}}]),n}(Ho);wt(),C(),mt(),Mt();var OR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=void 0,n.Zit=[],n.Vit=[],n}kt(n,t);var i=n.prototype;return i.W4=function(t,n,i){this.Vit.push({Wit:t,Hit:n,Xit:i})},i.Ny=function(){},i.Git=function(t){},i.Lit=function(t,n){this.Zit.push({Bp:t,qit:n})},i.Yit=function(t){var n=this.Zit.slice(),i=this.Vit.slice();this.tr();for(var r=0;r<n.length;r++){var e=n[r];t.Lit(e.Bp,e.qit)}for(var u=0;u<i.length;u++){var s=i[u];t.W4(s.Wit,s.Hit,s.Xit)}},i.Kit=function(){var t=this.Vit.map((function(t){return t.Wit}));return this.tr(),t},i.tr=function(){lo(this.Zit),lo(this.Vit)},i.gn=function(){return this.Vo(),this.tr(),K.resolve()},At(n,[{key:"Fc",get:function(){return!1}},{key:"Sit",get:function(){return[]}},{key:"Iit",get:function(){return null}},{key:"Dit",get:function(){return[]}},{key:"Eit",get:function(){return[]}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=dR(this)}}]),n}(Ho);function zR(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).fet=!0,e.V6=ak.BT,e.cet=!1,e.SB=void 0,e.vz=void 0,e.bU=void 0,e.eet=function(t){t.type!==dd.qv&&e.let.push(t)},e._et=function(t){(t.type!==dd.jh||e.Qo.fg)&&(t.type===dd.Sh&&e.Qo.fg||t.type===dd.im&&e.Qo.Eg&&e.Qo.Q_()===t.currentTime||t.type===dd.qv&&e.Qo.gg===t.playbackRate||e.Co(t))},e.ew=function(t){if(e.cet){if(t.type===uk.Tm)return;t.type!==uk.pm&&t.type!==uk.Sm||(e.cet=!1)}if(t.type===dd.jh){if(!e.fet)return;e.fet=!1}else if(t.type===dd.Sh){if(e.fet)return;e.fet=!0}else if(t.type===uk.Nw){if(e.V6===t.readyState)return;e.V6=t.readyState}else if(t.type===dd.Ev)return;e.Co(t)},e.Jit=new t(i,r),e.det=new oR,e.Qo=e.Jit,e.tet=new vR(Vt(e)),e.Jit.Oc&&(e.Ic=new xR(Vt(e)),e.Ic.Uw=e.Jit.Oc,e.wet=new OR),e.XZ=new qv,e.let=[],e.EB=!0,e.bB(),e}kt(i,n);var r=i.prototype;return r.JO=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){return[2,i.XZ.JO(t,n).catch(Oo)]}))}))()},r.iet=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:jo(n),i.Jit.T_(i.eet),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.Jit.ga(t,n)];case 2:return r.sent(),[3,4];case 3:return i.Jit.E_(i.eet),[7];case 4:return[2]}}))}))()},r.$it=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.net()];case 1:return n=i.sent(),t.ret(n),[2]}}))}))()},r.net=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){return(n=t.Wa())&&!UI(n)&&t.eS&&t.fg?[2,t.Gtt.oet(t.og)]:[2,"none"]}))}))()},r.ret=function(t){var n,i=(null==(n=this.Wa())?void 0:n.mutedAutoplay)||this.wd.mutedAutoplay;switch(t){case"all":this.het();break;case"muted":(this.og||i===gD.ALL)&&(this.og=!0,this.Xg())}},r.ga=function(t){UI(this.SB)||this.Co(new eD(0,ak.BT)),this.tr(),this.SB=t;var n=this;Qo(this.JO(xt((function(i){var r,e;return zt(this,(function(u){switch(u.label){case 0:jo(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.iet(t,i)];case 2:return u.sent(),[3,5];case 3:return xo(r=u.sent()),n.SB=void 0,n.rB(Vv(r,Qv.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.aet(n.Jit),[7];case 5:return[4,n.net()];case 6:return e=u.sent(),n.Co(new sR(n.Wa())),n.ret(e),[2]}}))}))))},r.F_=function(t,n){this.Qo.F_(t,n)},r.W_=function(){var t;return null!=(t=this.bU)?t:this.Jit.W_()},r.X_=function(){var t;return null!=(t=this.vz)?t:this.Jit.X_()},r.rB=function(t){void 0===this.X_()&&(this.vz=t,this.bU=YA(t),this.Co(new uT(t)))},r.Xg=function(){this.Qo.Xg()},r.het=function(){this.og||this.Wg(),this.Xg()},r.Wg=function(){this.Jit.Wg()},r.Hg=function(){this.Qo.Hg()},r.Zg=function(){this.ga(void 0)},r.ge=function(){this.EB=!0,this.Qo.ge()},r.be=function(){this.EB=!1,this.Qo.be()},r.ka=function(){this.Jit.ka()},r.Ug=function(t){this.Jit.Ug(t)},r.ag=function(t){this.Jit.ag(t)},r.wa=function(t){this.uet=t,t.Eq(this)},r.cs=function(){return this.Jit.cs()},r.Wa=function(){return this.SB},r.Vg=function(){return this.Jit.Vg()},r.Q_=function(){return this.Qo.Q_()},r.Ktt=function(){return this.Qo.Ktt()},r.Td=function(){return this.Jit.Td()},r.j_=function(){return this.Jit.j_()},r.Ag=function(){return this.Jit.Ag()},r.Dg=function(){return this.Jit.Dg()},r.$g=function(){this.Jit.$g()},r.iw=function(){this.Jit.iw()},r.tr=function(){this.SB=void 0,this.vz=void 0,this.bU=void 0,this.cet=!0,lo(this.let),this.det.tr(),this.aet(this.det),this.XZ.g_();var t=this;Qo(this.XZ.JO(xt((function(n){return zt(this,(function(i){switch(i.label){case 0:return jo(n),[4,t.Jit.Zg()];case 1:return i.sent(),[2]}}))}))))},r.gn=function(){this.Co(new tR),this.tet.gn(),this.TB(),this.tr();var t=this;Qo(this.JO(xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Jit.gn()];case 1:return n.sent(),t.uet&&(t.uet.rS(t),t.uet=void 0),t.XZ.gn(),[2]}}))})))),this.Vo()},r.aet=function(t){if(this.Qo!==t){var n=this.Qo.fg,i=this.Qo.Q_(),r=this.Qo.gg,e=this.Qo.Sg,u=this.Qo.Eg;this.fet=n,this.V6=e,this.TB(),t.T_(this._et),t===this.Jit?(void 0!==this.Ic&&(this.Ic.Uw=t.Oc,this.wet.Yit(this.Ic)),(u||t.Q_()!==i)&&t.F_(i),t.gg!==r&&(t.gg=r),n?t.Hg():t.Xg()):(void 0!==this.Ic&&(this.Ic.Uw=this.wet,this.wet.tr()),this.wd.retainPlaybackRateOnSourceChange?t.gg=r:1!==r&&this.Co(new aD(this.Q_(),1))),t.E_(this._et),this.Qo=t,this.bB();for(var s=0,o=this.let;s<o.length;s++){var a=o[s];this.Co(a)}lo(this.let),this.EB?t.ge():t.be()}},r.bB=function(){this.Qo.T_(this.ew)},r.TB=function(){this.Qo.E_(this.ew)},r.fa=function(){return function(t){var n,i,r=function(n){i=n;var r=qI(n,t.wd);t.ga(r)},e={get abr(){return t.Qtt.va},get ads(){var n;return null==(n=t.Oc)?void 0:n.va},get audioTracks(){return t.ht.va},get autoplay(){return t.eS},set autoplay(n){t.eS=Boolean(n)},get buffered(){return t.j_()},get canvas(){return t.iit.va},get cast(){var n;return null==(n=t.YF)?void 0:n.va},get clip(){return t.qtt.va},get currentProgramDateTime(){var n;return null!=(n=t.R_)?n:null},set currentProgramDateTime(n){t.R_=null!=n?n:void 0},get currentTime(){return t.Q_()},set currentTime(n){t.F_(Number(n))},get duration(){return t.Td()},get element(){return t.we},get ended(){return t.G_},get error(){return t.W_()},get errorObject(){return t.X_()},get loop(){return t.jX.jX},set loop(n){t.jX.jX=Boolean(n)},get metrics(){return t.eg.va},get muted(){return t.og},set muted(n){t.ag(n)},get network(){return t.hF.va},get paused(){return t.fg},get playbackRate(){return t.gg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.gg=i},get played(){return t.Ag()},get poster(){return t.mi},set poster(n){t.mi=TA(n)},get preload(){return t.yg},set preload(n){t.yg=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.tit.va},get readyState(){return t.Sg},get seekable(){return t.Dg()},get seeking(){return t.Eg},get source(){return i},set source(t){r(t)},get src(){return GI(t.Wa())},set src(t){r({sources:t})},get textTracks(){return t.nt.va},get textTrackStyle(){return t.Ol.va},get theoLive(){return t.cit},get uid(){return t.Xw},get videoHeight(){return t.Cg},get videoTracks(){return t.rt.va},get videoWidth(){return t.Rg},get visibility(){return t.Bo.va},get volume(){return t.zg},set volume(n){t.Ug(Number(n))},get latency(){return t.Qg.va},destroy:function(){t.gn(),t=null,i=void 0},play:function(){t.het()},pause:function(){t.Hg()},stop:function(){i=void 0,t.Zg()},prepareWithUserAction:function(){t.Wg()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},setSource:function(t){r(t)}};return(n=new sI(e,!0)).Qa(t),n.yn("destroy",(function(){n.gn()})),e}(this)},At(i,[{key:"sit",get:function(){return this.Jit.sit}},{key:"Oc",get:function(){return this.Ic}},{key:"iit",get:function(){return this.Jit.iit}},{key:"wd",get:function(){return this.Jit.wd}},{key:"Hj",get:function(){return this.Jit.Hj}},{key:"ya",get:function(){return this.Jit.ya}},{key:"tit",get:function(){return this.Jit.tit}},{key:"Htt",get:function(){return this.Jit.Htt}},{key:"Ytt",get:function(){return this.Jit.Ytt}},{key:"Qtt",get:function(){return this.Jit.Qtt}},{key:"eS",get:function(){return this.Jit.eS},set:function(t){this.Jit.eS=t,this.$it()}},{key:"Gtt",get:function(){return this.Jit.Gtt}},{key:"ht",get:function(){return this.Jit.ht}},{key:"YF",get:function(){return this.Jit.YF}},{key:"Iu",get:function(){return this.Jit.Htt}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}},{key:"Z_",get:function(){return this.Jit.Z_}},{key:"Yg",get:function(){return this.Jit.Yg},set:function(t){this.Jit.Yg=t}},{key:"eg",get:function(){return this.Jit.eg}},{key:"hF",get:function(){return this.Jit.hF}},{key:"nt",get:function(){return this.Jit.nt}},{key:"Ol",get:function(){return this.Jit.Ol}},{key:"rt",get:function(){return this.Jit.rt}},{key:"qtt",get:function(){return this.Jit.qtt}},{key:"jX",get:function(){return this.Jit.jX}},{key:"R_",get:function(){return this.Qo.R_},set:function(t){this.Qo.R_=t}},{key:"bt",get:function(){return this.Jit.bt}},{key:"we",get:function(){return this.Jit.we}},{key:"G_",get:function(){return this.Jit.G_}},{key:"og",get:function(){return this.Jit.og},set:function(t){this.ag(t)}},{key:"fg",get:function(){return this.Qo.fg}},{key:"mi",get:function(){return this.tet.zu||""},set:function(t){this.tet.yit=t}},{key:"gg",get:function(){return this.Jit.gg},set:function(t){this.Qo.gg=t}},{key:"yg",get:function(){return this.Jit.yg},set:function(t){this.Jit.yg=t}},{key:"Sg",get:function(){return this.Qo.Sg}},{key:"ba",get:function(){return this.Jit.ba},set:function(t){this.Jit.ba=t}},{key:"Eg",get:function(){return this.Qo.Eg}},{key:"cit",get:function(){return this.Jit.cit}},{key:"Xw",get:function(){return this.Jit.Xw}},{key:"Cg",get:function(){return this.Jit.Cg}},{key:"Rg",get:function(){return this.Jit.Rg}},{key:"zg",get:function(){return this.Jit.zg},set:function(t){this.Ug(t)}},{key:"Qg",get:function(){return this.Jit.Qg}},{key:"Jtt",get:function(){return this.Jit.Jtt}},{key:"Bo",get:function(){return this.Jit.Bo}}]),i}(Ho)}wt(),C(),Mt();var RR,BR=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return kt(n,t),n}(Jo);function PR(){if(!RR){var t=nR;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<DT.length;u++){var s=DT[u];if(ST[s])for(var o=0,a=ST[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)}return kt(i,n),i}(NT)}(t);var n=zR(t);jn.wk&&jn.pk<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vet=0,n}kt(n,t);var i=n.prototype;return i.ga=function(n){this.vet=0,t.prototype.ga.call(this,n)},i.Co=function(n){if(n.type===f_.ha&&this.vet<3)return this.vet++,t.prototype.Co.call(this,new BR(n)),void t.prototype.ga.call(this,this.Wa());t.prototype.Co.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<DT.length;i++){var r=DT[i];if(IT[r])for(var e=0,u=IT[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),RR=n}return RR}function UR(t,n){var i=AD(n),r=new(PR())(t,i);r.ba=r;var e=r.va;return r.ka(),r.wa(uR),l.defineProperty(e,"constructor",{value:UR}),e=function(t){return dA(t)}(e),function(t){for(var n=0;n<CT.length;n++)(0,CT[n])(t)}(r),e}Uo((function(){self.dispatchEvent&&self.dispatchEvent(rR("theoplayerready"))})),wt(),C();var QR=function(){function t(){}var n=t.prototype;return n.encode=function(t){return ga(t)},n.decode=function(t){return va(t)},t}(),YR={base64:new QR};wt(),C();var GR=JSON.parse('["dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","vr-webxr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","verizonmedia","mediatailor"]'),FR="8.3.0",VR="2024.4.0",WR=uR.va,XR=Vk.qp.registerContentProtectionIntegration.bind(Vk.qp);wt(),C(),wt(),C(),wt(),C(),Ot(),Pt();var ZR=function(){function t(t){this.gU=t,this.hnt=new qv}var n=t.prototype;return n.oet=function(t){var n=this;return this.hnt.JO((function(){return n.ant(t)}))},n.Wg=function(){this.gU._U()},n.ant=function(n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return r=i.gU.oB(zA.VA),e=r.pz,[4,t.unt(e,n)];case 1:return u=s.sent(),[4,i.gU.Fz(r)];case 2:return s.sent(),[2,u]}}))}))()},n.gn=function(){this.hnt.gn()},t.unt=function(n,i){return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return jn.yk||jn.wk?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.cnt()]);case 1:return e.sent(),(r=!i)?[4,t.lnt(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.lnt(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.lnt=function(t,n){return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),Fn(i)?(r=Fo(250),[4,K.race([i,r])]):[2,!jn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.cnt=function(){return new K((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)}))},t}(),HR={OG:function(t){iu.addEventListener("beforeunload",t)},EG:function(t){iu.removeEventListener("beforeunload",t)}};!function(t){$e=t.Zst,tu=t.qst,nu=t.Kst,iu=t.Jst,ru=iu&&iu.location,eu=iu&&iu.navigator}({Zst:Pz,qst:ZR,Kst:HR,Jst:e}),wt(),C(),wt(),C(),Mt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Pt();var KR=function(){function t(){}return t.prototype.hB=function(n){return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return UN(n.type)?!(i=n.contentProtection)||qk(i)?[3,2]:nM(i)?[4,t.dnt(i)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},t.dnt=function(t){return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return(n=t.playready)?[4,on.AO()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,on.vO()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,on.pO()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:[4,on.IO()];case 7:return e.sent()?[2,!0]:[2,!1]}}))}))()},t}(),JR=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.hB=function(n){var i=this;return xt((function(){return zt(this,(function(r){return ju(n.useManagedMediaSource)?[2,t.prototype.hB.call(i,n)]:[2,!1]}))}))()},n}(KR);function qR(t){return ry(t)}function $R(t,n){var i=ry(t);return n?""+i+n:""+i}wt(),C(),Ot(),Pt(),wt(),C();var tB=function(){function t(t,n,i,r){this.gnt=t,this.vnt=n,this.pnt=i,this.Ant=r}var n=t.prototype;return n.fnt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.gnt._nt(t.map(qR))];case 1:return[2,i.sent().shift()]}}))}))()},n.wnt=function(t,n){var i=$R(t,n);return this.vnt.NL(i)},n.mnt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return e=$R(t,n),[4,i.pnt.IL(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.aZ=function(t){return this.Ant.IL(t)},t}();wt(),C(),mt(),wt(),C(),wt(),C();var nB=function(){function t(){}var n=t.prototype;return n.ynt=function(t){return K.resolve(!1)},n.Mnt=function(t){return K.reject(iB)},n.bnt=function(t){return K.reject(iB)},n.NL=function(t){return K.resolve(!1)},n.IL=function(t){return K.resolve(void 0)},n.Tnt=function(t,n){return K.resolve(void 0)},n._nt=function(t){return K.resolve([])},n.Snt=function(){return K.resolve([])},n.Nnt=function(t){return K.resolve([])},n.Int=function(t,n){return K.resolve([])},n.rS=function(t){return K.reject(iB)},n.Dnt=function(t){return K.reject(iB)},n.Ent=function(){return K.reject(iB)},t}(),iB="Storage disabled",rB=function(){function t(){this.Rnt=new nB,this.jnt=new nB,this.Pnt=new nB,this.znt=new nB,this.Bnt=new nB}return t.prototype.Cnt=function(t){return K.reject(eB)},t.G7=function(){return K.resolve(new t)},t}(),eB="Storage disabled";wt(),C(),Ot(),Pt(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),mt(),Pt();var uB,sB=function(){function t(t){var n=this;this.__=new Cc,this.Lnt=void 0,this.__.w_(t),this.__.OL.then((function(t){n.Lnt=t}))}var n=t.prototype;return n.ynt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.ynt(t)]}}))}))()},n.Mnt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Mnt(t,n)]}}))}))()},n.bnt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.bnt(t,n)]}}))}))()},n.NL=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.NL(t)]}}))}))()},n.IL=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.IL(t)]}}))}))()},n.Tnt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Tnt(t,n)]}}))}))()},n._nt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i._nt(t)]}}))}))()},n.Snt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return(n=t.Lnt)?[3,2]:[4,t.knt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Snt()]}}))}))()},n.Nnt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Nnt(t)]}}))}))()},n.Int=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return(r=i.Lnt)?[3,2]:[4,i.knt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Int(t,n)]}}))}))()},n.rS=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.rS(t)]}}))}))()},n.Dnt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Lnt)?[3,2]:[4,n.knt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Dnt(t)]}}))}))()},n.Ent=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return(n=t.Lnt)?[3,2]:[4,t.knt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Ent()]}}))}))()},At(t,[{key:"knt",get:function(){return this.__.OL}}]),t}(),oB=function(){function t(t){var n=this;this.__=new Cc,this.Ont=void 0,this.__.w_(t);var i=this.__.OL;i.then((function(t){n.Ont=t})),this.jnt=new sB(i.then((function(t){return t.jnt}))),this.Rnt=new sB(i.then((function(t){return t.Rnt}))),this.Pnt=new sB(i.then((function(t){return t.Pnt}))),this.znt=new sB(i.then((function(t){return t.znt}))),this.Bnt=new sB(i.then((function(t){return t.Bnt})))}return t.prototype.Cnt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return(i=n.Ont)?[3,2]:[4,n.xnt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Cnt(t)];case 3:return[2,r.sent()]}}))}))()},At(t,[{key:"xnt",get:function(){return this.__.OL}}]),t}();function aB(t){return new v("This storage cannot handle persistency type "+t)}wt(),C(),wt(),C(),Ct(),wt(),C(),function(t){t.Unt="readonly",t.Qnt="readwrite"}(uB||(uB={}));var cB=function(){function t(){this.mx=[]}var n=t.prototype;return n.ynt=function(t){return K.resolve("temporary"===t)},n.Mnt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?K.reject(aB(n)):(this.Fnt(t.key),this.mx.push(t),K.resolve())},n.bnt=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return K.reject(aB(n));for(var i=0;i<t.length;i++){var r=t[i];this.Fnt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.mx.push(u)}return K.resolve()},n.NL=function(t){return K.resolve(Boolean(this.Ynt(t)))},n.IL=function(t){return K.resolve(this.Ynt(t))},n.Tnt=function(t,n){return K.resolve(this.Gnt(t,n))},n._nt=function(t){var n=this,i=t?t.map((function(t){return n.Ynt(t)})):this.mx;return K.resolve(i.filter(zn))},n.Snt=function(){return K.resolve(Lt(this.mx))},n.Nnt=function(t){return this.Int(t,"key")},n.Int=function(t,n){var i=this.mx.filter((function(i){return i[n]===t}));return K.resolve(i)},n.rS=function(t){return this.Fnt(t),K.resolve()},n.Dnt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Fnt(i)}return K.resolve()},n.Ent=function(){return lo(this.mx),K.resolve()},n.Ynt=function(t){return this.Gnt(t,"key")},n.Gnt=function(t,n){for(var i=0,r=this.mx;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Fnt=function(t){var n=this.Ynt(t);n&&ao(this.mx,n)},t}(),hB=function(){function t(){this.Rnt=new cB,this.jnt=new cB,this.Pnt=new cB,this.znt=new cB,this.Bnt=new cB}return t.prototype.Cnt=function(t){return t(this)},t.G7=function(){return K.resolve(new t)},t}();wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),Ct(),Pt();var fB=function(){function t(t){this.Vnt=t}var n=t.prototype;return n.ynt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].ynt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Mnt=function(t,n){void 0===n&&(n="persistent");var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:r=0,e=i.Vnt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).ynt(n)]:[3,4];case 2:if(s.sent())return[2,u.Mnt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw aB(n)}}))}))()},n.bnt=function(t,n){void 0===n&&(n="persistent");var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:r=0,e=i.Vnt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).ynt(n)]:[3,4];case 2:if(s.sent())return[2,u.bnt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw aB(n)}}))}))()},n.NL=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].NL(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.IL=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:i=0,r=n.Vnt,u.label=1;case 1:return i<r.length?[4,r[i].IL(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Tnt=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:r=0,e=i.Vnt,s.label=1;case 1:return r<e.length?[4,e[r].Tnt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n._nt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Vnt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u._nt(t)]):[3,4];case 2:a.apply(o,c.concat([Lt.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Snt=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Vnt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.Snt()]):[3,4];case 2:o.apply(s,a.concat([Lt.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.Nnt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Vnt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.Nnt(t)]):[3,4];case 2:a.apply(o,c.concat([Lt.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Int=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Vnt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.Int(t,n)]):[3,4];case 2:c.apply(a,h.concat([Lt.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.rS=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].rS(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Dnt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,r=n.Vnt,e.label=1;case 1:return i<r.length?[4,r[i].Dnt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Ent=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:n=0,i=t.Vnt,r.label=1;case 1:return n<i.length?[4,i[n].Ent()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function vB(t){return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,K.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,dB.G7(n)]}}))}))}var dB=function(){function t(t){this.Knt=t,this.Wnt=new fB(t.map((function(t){return t.znt}))),this.Hnt=new fB(t.map((function(t){return t.Bnt}))),this.Xnt=new fB(t.map((function(t){return t.Pnt}))),this.Znt=new fB(t.map((function(t){return t.Rnt}))),this.qnt=new fB(t.map((function(t){return t.jnt})))}return t.prototype.Cnt=function(n){var i=this;if(0===this.Knt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.Knt.length?i.Knt[e].Cnt(u):n(new t(r))};return this.Knt[e].Cnt(u)},t.G7=function(n){return K.resolve(new t(n))},At(t,[{key:"znt",get:function(){return this.Wnt}},{key:"Bnt",get:function(){return this.Hnt}},{key:"Pnt",get:function(){return this.Xnt}},{key:"Rnt",get:function(){return this.Znt}},{key:"jnt",get:function(){return this.qnt}}]),t}(),lB=function(){function t(t){this.rrt=[],this.nrt=!0,this.ort=t}var n=t.prototype;return n.G7=function(){return new oB(this.ert())},n.ert=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return t.nrt?[4,K.resolve()]:[3,2];case 1:e.sent(),t.nrt=!1,e.label=2;case 2:n=0,i=t.rrt,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,vB([hB.G7,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,vB([hB.G7,t.ort])()];case 9:return[2,e.sent()]}}))}))()},n.wa=function(t){if(!this.nrt)throw new v("Registration overdue");this.rrt.push(t)},t}(),gB=function(){function t(){}return t.wa=function(n){t.ZP.wa(n)},At(t,null,[{key:"lL",get:function(){return t.Jnt||(t.Jnt=t.ZP.G7()),t.Jnt}}]),t}();function wB(t){return void 0!==t.Cg}function yB(t){var n=jn.yk||jn.wk,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Cu(!0);return xt((function(t){var n,i,u;return zt(this,(function(s){switch(s.label){case 0:return n=t.Nz,e.C1(n)||function(t,n){return!!t&&(pv(t)?P_(n)||Q_(n):Ss(t,mv.APPLICATION_TTML_XML)||Ss(t,mv.TEXT_VTT)||Ss(t,mv.IMAGE_JPEG))}(t.aG,t.$nt)?(i=t.$nt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.trt?(u=t.trt,[4,Mo(wo(u,(function(t){return Is(t.irt)})).filter(zn),(function(t){return on.bO(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}gB.ZP=new lB(rB.G7),gB.Jnt=void 0,wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),wt(),C(),Ot(),Pt(),wt(),C(),mt();var AB=function(){function t(t){this.hrt=t}return At(t,[{key:"Ti",get:function(){return this.hrt.offsetHeight*on.Ys.h5}},{key:"ji",get:function(){return this.hrt.offsetWidth*on.Ys.h5}}]),t}();wt(),C(),mt();var mB=function(){function t(t,n){this.Dl=new j_,this.W5=new Ex(t,n)}var n=t.prototype;return n.rE=function(t,n,i,r,e,u,s,o){var a=new Ij(t,n,i,r,e,u,s,void 0,o);return this.Dl.tt(a),this.W5.tt(a),a},n.fE=function(t){this.Dl.it(t),this.W5.it(t),t.gn()},n.tr=function(){for(var t=0,n=this.Dl.Rw.slice();t<n.length;t++){n[t].gn()}this.Dl.tr(),this.W5.tr()},n.gn=function(){this.tr(),this.Dl.gn(),this.W5.gn()},At(t,[{key:"nt",get:function(){return this.Dl}}]),t}();wt(),C(),Ot(),Mt(),Pt(),wt(),C();var pB=function(){function t(t){this.ZP=t}var n=t.prototype;return n.oB=function(t){return this.ZP.oB(t)},n.nnt=function(t){return this.ZP.nnt(t)},n.Fz=function(t){return this.ZP.Fz(t)},t}();wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),Ot(),mt(),Mt(),Pt();var _B=function(t){function n(n){var i;return(i=t.call(this)||this).yz=void 0,i._rt=new UT,i.yrt=function(t){return i.ew(t)},i.Fm=n,i._rt.Uw=n.nt,i.Fm.yn(yL,i.yrt),i}kt(n,t);var i=n.prototype;return i.j_=function(){return this.Fm.O_},i.P_=function(){return this.Fm.R_},i.Q_=function(){return this.Fm.U_},i.Td=function(){return this.Fm.ct},i.urt=function(){return this.Fm.Mz},i.crt=function(){return this.Fm.G_},i.Gg=function(){return this.Fm.ya},i.lrt=function(){return this.Fm.fg},i.Ag=function(){return this.Fm.pg},i.Ng=function(){return this.Fm.Sg},i.Dg=function(){return this.Fm.Ig},i.Lg=function(){return this.Fm.Eg},i.drt=function(){return this.Fm.s2},i.frt=function(){return this.Fm.g2},i.xg=function(){return this._rt},i.w9=function(){return this.Fm.Ol},i.grt=function(){return this.Fm.Qz},i.wrt=function(t){this.Fm.Qz=t},i.vrt=function(t){this.Fm.G6=t},i.mrt=function(){return this.Fm.j3},i.rg=function(){return this.Fm.rg()},i.Xg=function(){return this.Fm.Xg()},i.Hg=function(){this.Fm.Hg()},i.JA=function(t,n,i){this.Fm.JA(t,n,i)},i.gz=function(t){this.Fm.gz(t)},i.ge=function(){this.Fm.ge()},i.be=function(){this.Fm.be()},i.rE=function(t,n,i,r,e,u,s,o){return this.Fm.rE(t,n,i,r,e,u,s,o)},i.Cz=function(){return this.Fm.Cz()},i.jz=function(t,n,i,r,e){return this.Fm.jz(t,n,i,r,e)},i.fE=function(t){this.Fm.fE(t)},i.Pz=function(){this.Fm.Pz()},i.dq=function(t){return this.Fm.dq(t)},i.$n=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return[4,n.Fm.$n(t)];case 1:return i=e.sent(),r=t.Av===ek.Tj?n.prt(i):n.Art(i),n.yz=r,[2,r]}}))}))()},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return[4,t.Fm.tr()];case 3:return n.sent(),[2]}}))}))()},i.z6=function(){this.Fm.z6()},i.B6=function(){this.Fm.B6()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.Fm.fn(yL,t.yrt),t._rt.Uw=void 0,t._rt.gn(),t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return[2]}}))}))()},i.F6=function(){this.Fm.F6()},i.Mrt=function(t){this.Fm.fn(yL,this.yrt),this.Fm=t,this._rt.Uw=t.nt,this.Fm.yn(yL,this.yrt)},i.ew=function(t){this.Co(t)},At(n,[{key:"art",get:function(){return this.Fm}},{key:"O_",get:function(){return this.j_()}},{key:"R_",get:function(){return this.P_()}},{key:"U_",get:function(){return this.Q_()}},{key:"Iu",get:function(){return this.Fm.Iu}},{key:"ct",get:function(){return this.Td()}},{key:"Mz",get:function(){return this.urt()}},{key:"G_",get:function(){return this.crt()}},{key:"lt",get:function(){return this.Fm.lt}},{key:"Ti",get:function(){return this.Fm.Ti}},{key:"ji",get:function(){return this.Fm.ji}},{key:"ya",get:function(){return this.Gg()}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"fg",get:function(){return this.lrt()}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"pg",get:function(){return this.Ag()}},{key:"Sg",get:function(){return this.Ng()}},{key:"Ig",get:function(){return this.Dg()}},{key:"Eg",get:function(){return this.Lg()}},{key:"s2",get:function(){return this.drt()}},{key:"g2",get:function(){return this.frt()}},{key:"nt",get:function(){return this.xg()}},{key:"Ol",get:function(){return this.w9()}},{key:"_5",get:function(){return this.Fm._5}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"U6",get:function(){return this.Fm.U6}},{key:"K_",get:function(){return this.Fm.K_}},{key:"Hm",get:function(){return this.Fm.Hm}},{key:"Qz",get:function(){return this.grt()},set:function(t){this.wrt(t)}},{key:"G6",get:function(){return this.Fm.G6},set:function(t){this.vrt(t)}},{key:"j3",get:function(){return this.mrt()}}]),n}(Xo),kB=function(t){function n(n){return t.call(this,n)}kt(n,t);var i=n.prototype;return i.Y6=function(t){this.Fm.Y6(t)},i.K3=function(){this.Fm.K3()},i.$g=function(){this.Fm.$g()},At(n,[{key:"pz",get:function(){return this.Fm.pz}},{key:"l2",get:function(){return this.Fm.l2}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}}]),n}(_B);wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),mt();var MB=function(){function t(t){this.yz=t}var n=t.prototype;return n.wO=function(){return this.yz.wd},n.Dg=function(){return this.yz.Ig},n.FZ=function(t){return this.yz.FZ(t)},n.GZ=function(t){return this.yz.GZ(t)},n.h_=function(){return K.resolve()},At(t,[{key:"wd",get:function(){return this.wO()}},{key:"Ig",get:function(){return this.Dg()}}]),t}(),bB=function(t){function n(n){var i;return(i=t.call(this,n)||this).O1=void 0,i.j1=void 0,i.Irt=function(t){return i.Drt(t)},i}kt(n,t);var i=n.prototype;return i.j_=function(){return this.yz.O_},i.Td=function(){return this.yz.ct},i.brt=function(){return this.yz.oq},i.P1=function(t){this.yz.P1(t)},i.Q1=function(t,n,i,r){this.yz.Q1(t,n,i,r)},i.x0=function(){this.yz.x0()},i.M0=function(){this.yz.M0()},i.h_=function(){return this.O1&&(this.O1.h_(),this.O1=void 0),this.j1&&(this.j1.h_(),this.j1=void 0),t.prototype.h_.call(this)},i.Trt=function(t){this.yz=t,this.O1?t.I1?this.O1.Srt(t.I1):(this.O1.h_(),this.O1=void 0):t.I1&&(this.O1=this.Nrt(t.I1),this.O1.yn(_L,this.Irt)),this.j1?t.D1?this.j1.Srt(t.D1):(this.j1.h_(),this.j1=void 0):t.D1&&(this.j1=this.Nrt(t.D1),this.j1.yn(_L,this.Irt))},i.Drt=function(t){},At(n,[{key:"I1",get:function(){return this.O1}},{key:"D1",get:function(){return this.j1}},{key:"O_",get:function(){return this.j_()}},{key:"ct",get:function(){return this.Td()}},{key:"oq",get:function(){return this.brt()}}]),n}(MB);wt(),C(),Ot(),mt(),Mt(),Ft(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var TB=function(t){function n(n){var i;return(i=t.call(this)||this).cX=0,i.fX=0,i.GO=n,i}kt(n,t);var i=n.prototype;return i.V$=function(t,n,i){return K.reject(new v("Invalid media buffer"))},i.Q0=function(){return K.reject(new v("Invalid media buffer"))},i.X$=function(t,n,i){return K.reject(new v("Invalid media buffer"))},i.oq=function(){return!1},i.x0=function(){},i.B0=function(t,n){},i.U0=function(t,n){},i.rS=function(t,n,i){return K.resolve()},i.u0=function(t,n){return K.reject(new v("Invalid media buffer"))},i.fS=function(t,n){return K.reject(new v("Invalid media buffer"))},i.FZ=function(t){return!1},i.GZ=function(t){return K.reject(new v("Invalid media buffer"))},i.h_=function(){this.Vo()},At(n,[{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t}},{key:"O_",get:function(){return BD.oU()}},{key:"wd",get:function(){return this.GO}},{key:"O0",get:function(){return zA.jT}},{key:"R0",get:function(){return BD.oU()}},{key:"Ert",get:function(){return!1}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t}}]),n}(Xo),NB=function(t){function n(n){var i;return(i=t.call(this)||this).Rrt=function(t){return i.ew(t)},i.xrt=n,i.xrt.yn(_L,i.Rrt),i}kt(n,t);var i=n.prototype;return i.krt=function(){return this.xrt.rX},i.Lrt=function(t){this.xrt.rX=t},i.j_=function(){return this.xrt.O_},i.wO=function(){return this.xrt.wd},i.Crt=function(){return this.xrt.R0},i.Ort=function(){return this.xrt.iX},i.jrt=function(t){this.xrt.iX=t},i.V$=function(t,n,i){return this.xrt.V$(t,n,i)},i.Q0=function(){return this.xrt.Q0()},i.X$=function(t,n,i){return this.xrt.X$(t,n,i)},i.oq=function(){return this.xrt.oq()},i.x0=function(){this.xrt.x0()},i.B0=function(t,n){this.xrt.B0(t,n)},i.U0=function(t,n){this.xrt.U0(t,n)},i.rS=function(t,n,i){return this.xrt.rS(t,n,i)},i.u0=function(t,n){return this.xrt.u0(t,n)},i.FZ=function(t){return this.xrt.FZ(t)},i.GZ=function(t){return this.xrt.GZ(t)},i.ew=function(t){this.Co(t)},i.h_=function(){this.Vo(),this.Srt(new TB(this.wd))},i.Srt=function(t){this.xrt.fn(_L,this.Rrt),this.xrt=t,this.xrt.yn(_L,this.Rrt)},At(n,[{key:"rX",get:function(){return this.krt()},set:function(t){this.Lrt(t)}},{key:"O_",get:function(){return this.j_()}},{key:"wd",get:function(){return this.wO()}},{key:"O0",get:function(){return this.xrt.O0}},{key:"R0",get:function(){return this.Crt()}},{key:"iX",get:function(){return this.Ort()},set:function(t){this.jrt(t)}}]),n}(Xo),DB=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fm=void 0,i}kt(n,t);var i=n.prototype;return i.V$=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return jo(i),[4,r.Prt(r.Fm.U_,null==n?void 0:n.F7,null==n?void 0:n.ct)];case 1:return e.sent(),jo(i),t.Av!==pL.DD?[3,3]:[4,r.zrt(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Brt(t,n,i)];case 5:return[2]}}))}))()},i.zrt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=Gt(Iw(e.ly),2),s=u[0],o=u[1],e={Av:pL.DD,ly:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.Urt(e,n,i)];case 3:return c.sent(),o.cancel(new Lo).catch(Hn),[2];case 4:return OS(a=c.sent())?[4,r.Prt(r.Fm.U_,n.F7,n.ct,i)]:[3,6];case 5:if(c.sent())return e={Av:pL.DD,ly:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(Hn),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Brt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),jo(i),[4,r.Urt(t,n,i)];case 2:return[2,u.sent()];case 3:return OS(e=u.sent())?[4,r.Prt(r.Fm.U_,n.F7,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.Prt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:u=xS(t,n,i,e.O_,e.iX,e.rX),s=0,h.label=1;case 1:return s<u.length?(o=Gt(u[s],2),a=o[0],c=o[1],[4,e.Qrt(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Urt=function(n,i,r){return t.prototype.V$.call(this,n,i,r)},i.Qrt=function(n,i,r){return t.prototype.rS.call(this,n,i,r)},At(n,[{key:"int",get:function(){return this.Fm},set:function(t){this.Fm=t}}]),n}(NB),IB=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fm=void 0,i.Trt(n),i}return kt(n,t),n.prototype.Nrt=function(t){var n=new DB(t);return n.int=this.Fm,n},At(n,[{key:"int",get:function(){return this.Fm},set:function(t){this.Fm=t,this.O1&&(this.O1.int=t),this.j1&&(this.j1.int=t)}}]),n}(bB);wt(),C(),mt(),Mt();var EB=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),At(n,[{key:"yg",get:function(){return this.yz.yg},set:function(t){this.yz.yg=t}}]),n}(MB);wt(),C(),mt(),Mt();var SB=function(t){function n(n){return t.call(this,n)}kt(n,t);var i=n.prototype;return i.Y6=function(t){this.Fm.Y6(t)},i.K3=function(){this.Fm.K3()},i.$g=function(){this.Fm.$g()},i.Vg=function(){return this.Fm.Vg()},At(n,[{key:"pz",get:function(){return this.Fm.pz}},{key:"l2",get:function(){return this.Fm.l2}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}}]),n}(_B),LB=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.Art=function(t){var n=new IB(t);return n.int=this,n},i.prt=function(t){return new EB(t)},At(n,[{key:"art",get:function(){return this.Fm}}]),n}(kB),CB=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.Art=function(t){var n=new IB(t);return n.int=this,n},i.prt=function(t){return new EB(t)},At(n,[{key:"art",get:function(){return this.Fm}}]),n}(SB),jB=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.oB=function(n){return n===zA.VA?new CB(t.prototype.oB.call(this,n)):n===zA.WA?new LB(t.prototype.oB.call(this,n)):void 0},i.Fz=function(n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},n}(pB);wt(),C();var xB=function(){function t(t){var n=this;this.Yrt=function(t){t.persisted&&n.Frt()},this.Qo=t,e.addEventListener("pageshow",this.Yrt)}var n=t.prototype;return n.Frt=function(){this.Qo.iw()},n.gn=function(){e.removeEventListener("pageshow",this.Yrt)},t}();wt(),C(),Wt(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),Ht(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),wt(),C();var OB,zB=function(){function t(){}var n=t.prototype;return n.Grt=function(t,n,i){return K.resolve()},n.Vrt=function(t,n,i,r){var e=[];if(r){var u={vI:n.MS,mI:n.bS,pI:i.Wrt.pI};r.Av===cm.TTML?e=g_(t,r,u,i.aG):r.Av===cm.WEBVTT&&(e=yp(t,u).L)}return e},n.tr=function(){},t}();wt(),C(),Ct(),wt(),C(),Zt(),wt(),C(),function(t){t.NA="vttc",t.Hrt="vsid",t.Xrt="iden",t.Zrt="ctim",t.qrt="sttg",t.Krt="payl",t.Jrt="vtte",t.$rt="vtta"}(OB||(OB={}));var RB,BB=function(){function t(){}return t.tot=function(n){return Boolean(t.iot[n])},t.Wy=function(n){for(var i=[],r=Jp.Ey(new Xp(n,new Ec)),e=0;e<r.length;e++){var u=r[e];t.tot(u.Av)&&i.push(t.iot[u.Av](u.ly))}return i},t.eot=function(n){var i=Jp.Ey(n),r=$p(i,OB.Hrt),e=$p(i,OB.Xrt),u=$p(i,OB.Zrt),s=$p(i,OB.qrt),o=$p(i,OB.Krt);return{Av:OB.NA,rot:r?t.oot(r):void 0,hot:e?t.aot(e):void 0,uot:u?t.cot(u):void 0,lot:s?t.fot(s):void 0,_ot:o?t.got(o):void 0}},t.oot=function(t){return{Av:OB.Hrt,wot:t.py()}},t.aot=function(t){return{Av:OB.Xrt,hot:t.Sy()}},t.cot=function(t){return{Av:OB.Zrt,vot:t.Sy()}},t.fot=function(t){return{Av:OB.qrt,mot:t.Sy()}},t.got=function(t){return{Av:OB.Krt,pot:t.Sy()}},t.Aot=function(t){return{Av:OB.Jrt}},t.yot=function(t){return{Av:OB.$rt,Mot:t.Sy()}},t}();BB.iot=(Xt(RB={},OB.NA,BB.eot),Xt(RB,OB.Jrt,BB.Aot),Xt(RB,OB.$rt,BB.yot),RB);var PB=function(){function t(){this.Tot=NaN}var n=t.prototype;return n.Grt=function(t,n,i){var r=new DataView(t.bot),e=i_.Wy(r),u=ro(e,(function(t){return t.Av===rp.Kp}));return u&&(this.Tot=u.Z[0].wM.zy.cM),K.resolve()},n.Vrt=function(t,n,i){if(A(this.Tot))return[];var r=kc(t),e=i_.Wy(r),u=Hp(e,rp.kA),s=Hp(e,rp.PA);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.eT?r.eT.eT.toNumber()/i:n.MS,u=[],s=0,o=r.iT;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,Lt(c.aT))}return{Sot:e,aT:u}}(u,n,this.Tot),a=i.Wrt.pI;return function(t,n,i,r){for(var e=BB.Wy(kc(n.ly)),u=t.aT,s=t.Sot+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],d=(null!=(h=f.ct)?h:0)/i,l=void 0;v.Av===OB.NA&&(l=UB(v,a,d,s)),l&&o.push(l),a+=d}return o}(o,s,this.Tot,a)},n.tr=function(){this.Tot=NaN},t}();function UB(t,n,i,r){if(t._ot){var e=t.uot?function(t){return Ep(t.vot,new Ec(0))}(t.uot):n,u=r+e,s=u+i,o=t._ot.pot;return new Lm(u,s,o,!1)}}wt(),C(),Mt(),wt(),C(),Ot(),mt(),Mt(),Ft(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt();var QB,YB,GB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jot=Ku(),n}kt(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.Dot=t,n.Eot(t),[2]}}))}))()},i.Eot=function(t){for(var n=0,i=t.kot;n<i.length;n++){var r=i[n],e=this.Lot(r);this.xot(e,r),e.Sg=am.LOADED,this.tt(e)}},i.it=function(n){this.Cot(n),t.prototype.it.call(this,n)},i.MD=function(t){var n=this.Oot(t);if(n&&this.Not!==n){this.Not=n;for(var i=0,r=this.Z.Rw;i<r.length;i++){var e=r[i];e!==n&&(e._v=h_.Ch)}}},i.bD=function(t){var n=this.Oot(t);n&&this.Not===n&&(this.Not=void 0)},i.Oot=function(t){return ro(this.Z.Rw,(function(n){return t.Xw===n.Xw}))},i.xot=function(t,n){this.jot.set(t.Xw,n)},i.Rot=function(t){return this.jot.get(t.Xw)},i.Cot=function(t){this.jot.delete(t.Xw)},i.Pot=function(){if(this.Not){var t=this.Rot(this.Not);if(t)return n.zot(t)}},n.zot=function(t){return t.Bot&&t.Bot.length>0?t.Bot[0]:void 0},At(n,[{key:"Not",get:function(){return this.Iot},set:function(t){this.Iot=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.Rw;t<n.length;t++){if(n[t]._v!==h_.Ch)return!0}return!1}}]),n}(K_);wt(),C(),Zt(),function(t){t[t.XU=0]="XU",t[t.Uot=1]="Uot",t[t.Qot=10]="Qot",t[t.Fot=11]="Fot",t[t.Yot=12]="Yot",t[t.Got=13]="Got",t[t.Vot=14]="Vot",t[t.Wot=15]="Wot",t[t.Hot=20]="Hot",t[t.Xot=21]="Xot",t[t.Zot=22]="Zot",t[t.qot=23]="qot",t[t.Kot=24]="Kot",t[t.Jot=30]="Jot",t[t.$ot=31]="$ot",t[t.tht=32]="tht",t[t.iht=33]="iht",t[t.eht=34]="eht",t[t.sht=35]="sht",t[t.nht=40]="nht",t[t.rht=41]="rht",t[t.oht=42]="oht",t[t.hht=43]="hht",t[t.aht=44]="aht",t[t.uht=50]="uht",t[t.cht=51]="cht",t[t.dht=60]="dht",t[t.fht=61]="fht",t[t._ht=62]="_ht",t[t.ght=63]="ght",t[t.wht=70]="wht",t[t.vht=71]="vht",t[t.mht=72]="mht",t[t.pht=73]="pht",t[t.Aht=74]="Aht",t[t.yht=75]="yht",t[t.Mht=76]="Mht",t[t.bht=77]="bht",t[t.Tht=90]="Tht",t[t.Sht=91]="Sht"}(QB||(QB={}));var FB;Xt(YB={},0,"Failed because"),Xt(YB,1,"Created"),Xt(YB,10,"Starting because unknown reason"),Xt(YB,11,"Starting because new track loading"),Xt(YB,12,"Starting because manifest changed"),Xt(YB,13,"Starting because seek"),Xt(YB,14,"Starting because timeupdate"),Xt(YB,15,"Starting because buffering is being resumed"),Xt(YB,20,"Interrupting because unknown reason"),Xt(YB,21,"Interrupting because segment has a gap"),Xt(YB,22,"Interrupting because segment is missing"),Xt(YB,23,"Interrupting because seeking"),Xt(YB,24,"Interrupting because buffer is full"),Xt(YB,30,"Pausing because unknown reason"),Xt(YB,31,"Pausing because target buffer reached"),Xt(YB,32,"Pausing because no target time"),Xt(YB,33,"Pausing because no segment selected"),Xt(YB,34,"Pausing because end of stream is reached"),Xt(YB,35,"Pausing because initialization segment is missing"),Xt(YB,40,"Stopping because unknown reason"),Xt(YB,41,"Stopping because manifest went offline"),Xt(YB,42,"Stopping because seeking"),Xt(YB,43,"Stopping because buffering is being paused"),Xt(YB,44,"Stopping because unload"),Xt(YB,50,"Resetting because unknown reason"),Xt(YB,51,"Resetting because player was reset"),Xt(YB,63,"Marking gap at"),Xt(YB,60,"Target time is"),Xt(YB,70,"[Selection 1] Select nothing if the target time has already been appended."),Xt(YB,71,"[Selection 2] Select nothing if the time-based lookup failed."),Xt(YB,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),Xt(YB,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),Xt(YB,74,"[Selection 4B] Notify gap if no previous segment is available."),Xt(YB,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),Xt(YB,76,"[Selection 5B] Select nothing if no next segment is available."),Xt(YB,77,"[Selection 6] Unreachable"),Xt(YB,61,"Selected segment is"),Xt(YB,62,"Appended segment is"),Xt(YB,90,"Test setup"),Xt(YB,91,"Test");function VB(t,n){var i=n.JB((function(n,i){return t.ZB(n,i,!1,!1)}));return t.YB(i)}function WB(t,n){var i=n.Sn(t.BB()).JB((function(n,i){return t.gr(i)}));return t.YB(i)}wt(),C(),wt(),C(),Mt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),function(t){t.Nht="Iht",t.Dht="Eht"}(FB||(FB={})),wt(),C(),Mt();var XB,ZB=function(t){function n(n,i,r){var e;return(e=t.call(this,"kht")||this).Cn=n,e.jn=i,e.Lht=r,e}return kt(n,t),n}(Io),HB=function(t){function n(){return t.call(this,"xht")}return kt(n,t),n}(Jo);!function(t){t.Cht="Oht",t.jht="Rht",t.Pht="zht",t.XU="Bht"}(XB||(XB={}));var KB=[dd.hm,dd.lm,dd.nm,dd.Tv],JB=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).gat=n,s.rat=i,s.Vht=r,s.Fht=e,s.q3=u,s.Hht="Oht",s.vz=void 0,s.iat=new Cc,s.uat=new So,s.Jht=new So,s.We=function(t){s.qht||s.sat||!on.jst&&s.Fht.wat(t.currentTime)||(s.uat.g_(),s.uat=new So,s._at(s.uat.f_).catch(Oo))},s.od=Jn((function(){if(s.Kht){try{if(s.Fht.vat(),s.Fht.mat())return}catch(t){if(!(t instanceof ZB))throw t}s.Cn(QB.Vot)}}),250),s.nat(),s}kt(n,t);var i=n.prototype;return i.Xht=function(t){this.Hht!==t&&(this.Hht=t,this.Co(new HB))},i.Cn=function(t){var n=this;return xt((function(){var t;return zt(this,(function(i){switch(i.label){case 0:return n.qht||n.Kht?(t=n.k_("xht"),n.qht?(n.Jht.g_(),n.Jht=new So,n.$ht(n.Jht.f_)):(n.iat.LL(void 0),n.iat=new Cc),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.Zg=function(t){var n=this;return xt((function(){return zt(this,(function(t){switch(t.label){case 0:if(!n.eat&&!n.Kht)return[2];0,n.Jht.g_(),t.label=1;case 1:return n.qht||n.sat?[3,3]:[4,n.k_("xht")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.tr=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.sat?(n.vz=void 0,n.Xht("Oht"),[3,3]):[3,1];case 1:return[4,n.Zg(t)];case 2:i.sent(),i.label=3;case 3:return n.Fht.tr(),n.Vht.tr(),[2]}}))}))()},i.rB=function(t){this.vz=t,this.Xht("Bht"),this.Co(new uT(t))},i.nat=function(){this.q3.yn(dd.fm,this.od),this.q3.yn([dd.im,dd.Uv],this.We),this.Fht.yn(KB,this.Ds),this.rat.yn(FB.Nht,this.od)},i.oat=function(){this.q3.fn(dd.fm,this.od),this.q3.fn([dd.im,dd.Uv],this.We),this.Fht.fn(KB,this.Ds),this.rat.fn(FB.Nht,this.od)},i.aat=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.oat(),n.uat.g_(),[4,n.Zg(null!=t?t:QB.hht)];case 1:return i.sent(),n.Fht.tr(),[2]}}))}))()},i.dat=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.nat(),[4,n.Cn(null!=t?t:QB.Wot)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.oat(),t.uat.g_(),[4,t.Zg(QB.aht)];case 1:return n.sent(),t.Fht.gn(),[2]}}))}))()},i.$ht=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),jo(t),n.Xht("zht"),[4,n.Fht.fat(t)];case 2:return e.sent(),jo(t),n.Xht("Rht"),[4,zo(n.iat.OL,t)];case 3:return e.sent(),[3,5];case 4:return Co(i=e.sent())?n.Xht("Oht"):(r=i instanceof Fv?i:new Fv(Qv.MEDIA_LOAD_ERROR,i.message,i),n.rB(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i._at=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return jo(t),[4,n.Zg(QB.oht)];case 1:return i.sent(),n.Fht.tr(),jo(t),[4,n.Cn(QB.Got)];case 2:return i.sent(),[2]}}))}))()},At(n,[{key:"Uht",get:function(){var t,n;return(null==(t=this.Fht.Qht)?void 0:t.Lht)||(null==(n=this.Fht.Yht)?void 0:n.Lht)}},{key:"Ght",get:function(){return this.Vht}},{key:"Wht",get:function(){return this.Fht.Wht},set:function(t){this.Fht.Wht=t}},{key:"fD",get:function(){return this.Hht}},{key:"Zht",get:function(){return this.Vht.Lt.Zht}},{key:"lt",get:function(){return this.vz}},{key:"qht",get:function(){return"Oht"===this.Hht}},{key:"Kht",get:function(){return"Rht"===this.Hht}},{key:"eat",get:function(){return"zht"===this.Hht}},{key:"sat",get:function(){return"Bht"===this.Hht}}]),n}(Xo);wt(),C(),Ot(),Pt(),wt(),C();var qB=function(){function t(t,n){this.aE=t,this.Nat=n}var n=t.prototype;return n.pat=function(t,n){return this.Aat(t,!1,n)},n.yat=function(t,n){return this.Aat(t,!0,n)},n.Aat=function(n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return jo(r.f_),[4,e.Mat(n,i,r)];case 1:return(u=s.sent()).ZW?[2,t.bat(u)]:[2,e.Tat(u)]}}))}))()},n.Tat=function(t){return t},n.Mat=function(t,n,i){var r,e=new qw({zu:t.zu,qD:ld.SD,XD:t.Sat?{Range:"bytes="+t.Sat[0]+"-"+(null!=(r=t.Sat[1])?r:"")}:void 0,tE:t.tE,ZD:Ww.GET,Av:Xw.CD,JD:n?Zw.RD:Zw.jT,$D:this.Nat,_D:i.Iat,KD:i.KD,f_:i.f_,eE:i.eE});return this.aE.uD(e)},t.bat=function(t){return t},t}();wt(),C(),mt(),wt(),C();var $B=function(){function t(t){this.j7=0,this.Lat=0,this.Eat=g.exp(g.log(.5)/t)}var n=t.prototype;return n.Dat=function(t,n){var i=g.pow(this.Eat,t),r=n*(1-i)+i*this.j7;A(r)||(this.j7=r,this.Lat+=t)},n.xat=function(){var t=1-g.pow(this.Eat,this.Lat);return this.j7/t},t}(),tP=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Cat=0,this.Pat=aT,this.Oat=new $B(t),this.jat=new $B(n),this.zat=i}var n=t.prototype;return n.Dat=function(t,n){var i=8e3*n/t,r=t/1e3;this.Cat+=n,this.Oat.Dat(r,i),this.jat.Dat(r,i)},n.xat=function(){return this.Rat()?g.min(this.Oat.xat(),this.jat.xat()):this.Pat},n.Rat=function(){return this.Cat>=this.zat},t}(),nP=function(){function t(t,n){this.Yat=n,!n||t!==zA.VA&&t!==zA.WA?(this.Xat=16e3,this.Uat=new tP):t===zA.VA?(this.Xat=5e3,this.Uat=new tP(.05,1,0)):(this.Xat=0,this.Uat=new tP(.005,.1,0))}return t.prototype.Qat=function(t){var n=t.Fat,i=this.Yat?t.Gat-t.Vat:t.Gat-t.Wat,r=t.Hat;!r&&n<this.Xat||(r?this.Uat.Dat(2*i,n):this.Uat.Dat(i,n))},At(t,[{key:"Bat",get:function(){return this.Uat.xat()}},{key:"Rat",get:function(){return this.Uat.Rat()}}]),t}();wt(),C(),wt(),C(),Ot(),Mt(),Pt();var iP=["um","dm"],rP=function(t){function n(n){var i;(i=t.call(this)||this).qat=n;for(var r=0,e=i.qat;r<e.length;r++){e[r].yn(iP,i.Ds)}return i}kt(n,t);var i=n.prototype;return i.Zat=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:e=0,u=i.qat,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Zat(t,n)];case 3:return[2,a.sent()];case 4:return xo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Kat=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:e=0,u=i.qat,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Kat(t,n)];case 3:return[2,a.sent()];case 4:return xo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.gn=function(){for(var t=0,n=this.qat;t<n.length;t++){var i=n[t];i.fn(iP,this.Ds),i.gn()}},n}(Xo);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt(),Ft(),wt(),C();var eP=function(){function t(t){this.qL=t}var n=t.prototype;return n.transform=function(t,n){this.qL.write(t).catch(Hn),n.enqueue(t)},n.flush=function(){this.qL.close().catch(Hn)},t}(),uP=function(){function t(t,n,i){this.bot=t,this.$at=n,this.tut=i}return t.prototype.Jat=function(){return new sP(bw(this.bot),this.$at,this.tut)},t}(),sP=function(){function t(t,n,i){this.iut=t,this.$at=n,this.tut=i}var n=t.prototype;return n.GR=function(t){return Nw(this.iut,t)},n.$A=function(){var n=Gt(Iw(this.iut),2),i=n[0],r=n[1];return this.iut=i,new t(r,this.$at,this.tut)},n.eut=function(){var n=Gt(function(t){var n=new cw,i=n.writable.getWriter(),r=new cw(new eP(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(Hn)})),[r.readable,n.readable]}(this.iut),2),i=n[0],r=n[1];return this.iut=i,new t(r,this.$at,this.tut)},n.sut=function(t){var n=this;return this.GR(t).then((function(t){return new uP(t,n.$at,n.tut)}))},At(t,[{key:"VW",get:function(){return this.iut}}]),t}();wt(),C(),Mt();var oP=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).nut=n,e}return kt(n,t),n}(Io),aP="Cache lookup failed.",cP=function(t){function n(n){var i;return(i=t.call(this)||this).rut=n,i}kt(n,t);var i=n.prototype;return i.Zat=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return jo(n),[4,i.rut.mnt(t.zu.zu,t.zu.Sat)];case 1:if(r=u.sent(),jo(n),!r)throw new oP(t,aP);return e=new uP(r.buffer,r.byteLength,r.reference),[2,{nut:t.nut,out:{Av:pL.jZ,ly:e},Lht:t.Lht,zu:t.zu}]}}))}))()},i.Kat=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return jo(n),[4,i.rut.mnt(t.zu,t.Sat)];case 1:if(r=u.sent(),jo(n),!r)throw new oP(t,aP);return e=new uP(r.buffer,r.byteLength,r.reference),[2,{Av:pL.jZ,ly:e}]}}))}))()},i.gn=function(){this.Vo()},n}(Xo);function hP(t){return Wn(t.hut)}function fP(t){return hP(t)?t.hut:t.aut}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),wt(),C(),Mt(),wt(),C(),Mt();var vP=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).uut=i,o.CF=r,o.Kb=e,o.AM=u,o.$D=s,o}return kt(n,t),n}(Jo),dP=function(t){function n(n,i,r,e,u){return t.call(this,dd.hm,n,i,r,e,u)}return kt(n,t),n}(vP);wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var lP=function(t,n){this.cut=t,this.lut=n},gP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fut=0,n}kt(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.fut+=t.byteLength,n.enqueue(t)},i.flush=function(){this._ut(!1)},i.g_=function(){this._ut(!0)},i._ut=function(t){this.cut(this.lut,on.m_(),this.Fat,t)},At(n,[{key:"Fat",get:function(){return this.fut}}]),n}(lP),wP=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fut=0,n.gut=!1,n}kt(n,t);var i=n.prototype;return i.start=function(){this.lut=on.m_()},i.transform=function(t,n){this.fut+=t.byteLength,this.gut||this.wut(t)&&this._ut(!1),n.enqueue(t)},i.flush=function(){},i.g_=function(){this._ut(!0)},i.wut=function(t){var n=this.vut(t),i=this.mut(n);return Boolean(ro(i,yP))},i.vut=function(t){return this.Aut&&void 0!==this.yut?(this.Aut=_a([this.Aut,t]),new Xp(kc(this.Aut),new Ec(this.yut))):(this.Aut=t,new Xp(kc(t),new Ec))},i.mut=function(t){var n=Jp.Ly(t.ly,t._y,!0);return n.xy?(this.Aut=void 0,this.yut=void 0):this.yut=t._y.Ku,n.m},i._ut=function(t){this.gut||(this.cut(this.lut,on.m_(),this.Fat,t),this.gut=!0)},At(n,[{key:"Fat",get:function(){return this.fut}}]),n}(lP);function yP(t){return t.Av===rp.PA}var AP=function(){function t(t){var n=this;this.Dut=t,this.Sut=new Cc,this.Qat=function(t,i,r,e){var u={Wat:n.but,Vat:t,Gat:i,Fat:r,Hat:e};n.Dut.Qat(u),n.Dut.Rat&&cT.lL.LP(n.Dut.Bat)},this.Sut.OL.catch(Hn),this.but=on.m_()}var n=t.prototype;return n.Mut=function(t){var n=t.nH?this.but:on.m_(),i=this.Tut(n),r=new cw(i),e=t.VW().pipeTo(r.writable).then((function(){return{eg:{Fat:i.Fat}}}),(function(t){throw i.g_(),t}));return this.Sut.w_(e),r.readable},n.Nut=function(t){var n=this,i=t.nH?this.but:on.m_(),r=t.GR(),e=r.then((function(t){var r=on.m_();return n.Qat(i,r,t.byteLength,!1),{eg:{Fat:t.byteLength}}}),(function(t){var r=on.m_();throw n.Qat(i,r,0,!0),t}));return this.Sut.w_(e),r},At(t,[{key:"Iut",get:function(){return this.Sut.OL}}]),t}(),mP=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Tut=function(t){return new gP(this.Qat,t)},n}(AP),pP=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Tut=function(t){return new wP(this.Qat,t)},n}(AP);wt(),C(),Mt();var _P=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,dd.lm,n,i,r,e,u)||this).Eut=s,a.KT=o,a}return kt(n,t),n}(vP);wt(),C(),Mt();var kP=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+fP(i),n)||this).kut=i.MS,e.Lut=i.bS,e.xut=r,e}return kt(n,t),n}(Io),MP=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jut=n,e.Dut=i,e.Yat=r,e}kt(n,t);var i=n.prototype;return i.Cut=function(){return this.Yat?new pP(this.Dut):new mP(this.Dut)},i.Zat=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,v;return zt(this,(function(d){switch(d.label){case 0:jo(n),r=t.Lht,e=t.zu,u=t.nut,s=fP(u),o=r.Lht?r.Lht.Xw:-1,a=function(t){var n,i=t.Lht;n=i===function(t){return t.Bot.reduce((function(t,n){return t.GP<n.GP?t:n}))}(i.Out)?Hi(5*t.nut.ct):Hi(1.2*t.nut.ct);return Bi(n,1e3,18e3)}(t),i.Co(new dP(e,r.GP,s,o,r.Av)),d.label=1;case 1:return d.trys.push([1,4,,5]),c=i.Cut(),[4,i.jut.pat(e,{eE:i.Yat,Iat:a,f_:n})];case 2:return h=d.sent(),[4,i.Rut(h,h.ZW,n,c)];case 3:return f=d.sent(),Qo(i.Put(c.Iut,r,e,s,o,h)),[2,{out:f,Lht:r,nut:u,zu:e}];case 4:throw xo(v=d.sent()),new kP(v,u,r);case 5:return[2]}}))}))()},i.Kat=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return jo(n),r=!1,[4,i.jut.yat(t,{eE:r,Iat:1e4,f_:n})];case 1:return e=u.sent(),[4,i.Rut(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.Rut=function(t,n,i,r){return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:return n?(e=r?r.Mut(t):t.VW(),[2,{Av:pL.DD,ly:new sP(e)}]):[3,1];case 1:return r?[4,r.Nut(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.GR(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{Av:pL.jZ,ly:new uP(u)}];case 6:return[2]}}))}))()},i.Put=function(t,n,i,r,e,u){var s=this;return xt((function(){var o;return zt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s.Co(new _P(i,n.GP,r,e,n.Av,u.fD,o.eg.Fat)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.gn=function(){this.Vo()},n}(Xo);var bP=function(){function t(){}var n=t.prototype;return n.zut=function(t,n,i,r,e){var u=new cP(e),s=this.But(t,i,r);return new rP([u,s])},n.But=function(t,n,i){return new MP(t,n,i)},t}();wt(),C(),mt();var TP=.001,NP=function(){function t(t,n,i,r){this.Uut=t,this.q3=n,this.$0=i,this.wU=r}return At(t,[{key:"O_",get:function(){return this.Uut.O_}},{key:"Qut",get:function(){return this.Uut.Qut}},{key:"wq",get:function(){return this.Uut.wq}},{key:"Fut",get:function(){if(this.$0.Sg<ak.Xn)return!1;if(this.Uut.jn<=this.Yut&&this.Uut.Gut())return!0;var t=this.Uut._z;if(!t||0===t.U)return!1;var n=BD.rU(this.q3.U_,1/0);return t.Sn(n).VB(this.Uut.wq).sU>=this.wU.lX}},{key:"Yut",get:function(){var t,n=this.Uut._z;if(n&&n.U>0)t=n.jn(0);else{t=this.q3.U_;var i=this.Uut.wq,r=i.WB(t);r>=0&&(t=i.jn(r))}var e=this.Uut.Ig.Cn(0);if(e>t){if(this.Uut.Cn<=t&&this.Uut.jn>=t&&e>t+TP)throw new ZB(t,e);t=e}return t=this.Uut.Vut.zB(t)}}]),t}();wt(),C(),mt();var DP=function(){function t(t){this.mf=function(t){for(var n=Hu(),i=0;i<t.length;i++){var r=t[i];n.set(r.o,BD.oU())}return n}(t)}var n=t.prototype;return n.Hut=function(t){return this.mf.get(t.o)},n.Xut=function(){var t=BD.oU();return this.mf.forEach((function(n){t=t.YB(n)})),t},n.Zut=function(t){var n=!1;return this.mf.forEach((function(i){n=n||i.gr(t)})),n},n.qut=function(t,n){var i=this.mf.get(n.o);return!!i&&i.gr(t)},n.HB=function(t,n){var i=!1;return this.mf.forEach((function(r){i=i||r.HB(t,n)})),i},n.Kut=function(t,n){var i=this.mf.get(n.o).YB(t);this.mf.set(n.o,i)},n.Jut=function(t){var n=this;this.mf.forEach((function(i,r){var e=i.YB(t);n.mf.set(r,e)}))},n.$ut=function(t){var n=this;this.mf.forEach((function(i,r){n.mf.set(r,i.Sn(t))}))},n.tr=function(){var t=this;this.mf.forEach((function(n,i){t.mf.set(i,BD.oU())}))},At(t,[{key:"Wut",get:function(){if(0===this.mf.size)return BD.oU();var t=BD.rU(0,1/0);return this.mf.forEach((function(n){t=t.Sn(n)})),t}}]),t}(),IP=function(){function t(t){this.jnt=[],this.Lt=t,this.ict=new DP(t.Bot),this.vq=new DP(t.Bot)}var n=t.prototype;return n.ect=function(t){for(var n=0,i=this.jnt;n<i.length;n++){var r=i[n];if(r.sct>t)break;if(r.nct>t)return r}},n.rct=function(t){for(var n=0,i=this.jnt;n<i.length;n++){var r=i[n];if(r.hct>t)break;if(r.act>=t)return r}},n.uct=function(t,n){for(var i=[],r=0,e=this.jnt;r<e.length;r++){var u=e[r];if(u.sct>t)break;u.nct>=n&&i.push(u)}return i},n.cct=function(){return this.jnt},n.lct=function(t,n){var i=BD.rU(t.hct,t.act),r=i.BB();this.ict.$ut(r),this.ict.Kut(i,n),this.dct(r);var e=so(this.jnt,(function(n){return t.sct<=n.sct}));e<0?this.jnt.push(t):this.jnt[e].nct<=t.nct?this.jnt.splice(e,1,t):this.jnt.splice(e,0,t)},n.mq=function(t,n){this.vq.Kut(t,n)},n.fct=function(t){this.vq.Jut(t)},n.$ut=function(t){this.ict.$ut(t),this.vq.$ut(t);var n=this.ict.Xut();this.dct(n)},n.dct=function(t){this.jnt=this.jnt.filter((function(n){return t.ZB(n.hct,n.act)})).map((function(n){return n._ct&&!t.HB(n.hct,n.act)?function(t,n){return{sct:t.sct,nct:t.nct,hct:t.hct,act:t.act,_ct:n}}(n,!1):n}))},n.tr=function(){this.ict.tr(),this.vq.tr(),this.jnt=[]},n.gn=function(){this.tr()},At(t,[{key:"tct",get:function(){return this.ict}},{key:"wq",get:function(){return this.vq}}]),t}();wt(),C(),wt(),C(),Ot(),mt(),Pt();var EP=function(){function t(t,n,i){this.gat=t,this.Vht=n,this.Met=i}var n=t.prototype;return n.wct=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f;return zt(this,(function(d){switch(d.label){case 0:return jo(i),u=r.Vht.rct(t),e=u&&Pi(u.act,t,1e-5)?u.nct:t,s=r.vct(e),o=function(t){return SP.bind(void 0,t)}(e),[4,r.Met.mct(o,s,n,i)];case 1:a=d.sent(),jo(i),d.label=2;case 2:return a&&r.pct(a.nut)?(c=zP(a.nut),h=a.Lht,[4,r.Met.mct(c,[h],n,i)]):[3,4];case 3:return a=d.sent(),jo(i),[3,2];case 4:return a?r.Act(a.nut)?(f=r.yct(a.nut),t<f.Cn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,d.sent()];case 6:return t>=f.jn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,d.sent()];case 8:if(a.Lht.Mct(a.nut))return[2,void 0];throw new v("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=zP(e.nut),s=t.Lht,[4,r.Met.mct(u,[s],n,i)];case 2:e=o.sent(),jo(i),o.label=3;case 3:if(e&&r.Act(e.nut))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return CP.bind(void 0,t)}(u.nut),o=t.Lht,[4,e.Met.mct(s,[o],n,i)];case 2:u=c.sent(),jo(i),c.label=3;case 3:if(u&&e.Act(u.nut))return[3,1];c.label=4;case 4:if(!u)throw a=t.Lht.bct.Cn,new ZB(a,r.Cn,t.Lht);return[2,u]}}))}))()},n.Tct=function(t){return this.Vht.tct.Zut(t)},n.Sct=function(t){return this.Vht.uct(t.MS,t.bS)},n.Act=function(t){var n=this.Sct(t);return n.length>0&&function(t,n){return function(t){for(var n=BD.oU(),i=0;i<t.length;i++){var r=t[i];n=n.YB(BD.rU(r.sct,r.nct))}return n}(t).HB(n.MS,n.bS)}(n,t)&&n.every(RP)},n.pct=function(t){return this.Vht.wq.HB(t.MS,t.bS)},n.yct=function(t){var n=this.Sct(t);return{Cn:n[0].hct,jn:n[n.length-1].act}},n.vct=function(t){var n=this.Nct(t);if(0===n.length){var i=this.gct?this.gct:this.Vht.Lt.Bot;return[i[i.length-1]]}var r=n.filter((function(t){return!t.Ict}));return r.length>0?r:[n[n.length-1]]},n.Nct=function(t){var n=this;return(this.gct?this.gct:this.Vht.Lt.Bot).filter((function(i){return!n.Vht.wq.qut(t,i)}))},At(t,[{key:"Wht",get:function(){return this.gct},set:function(t){this.gct=t}},{key:"Zht",get:function(){return this.Vht.Lt.Zht}}]),t}();function SP(t,n,i,r){return LP.apply(this,arguments)}function LP(){return LP=xt((function(t,n,i,r){var e,u;return zt(this,(function(s){switch(s.label){case 0:return e=n.Wrt,(u=e.Dct(t))?n.Ect(u)?[4,n.Lct(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().kct(t)];case 2:return[2,u]}}))})),LP.apply(this,arguments)}function CP(t,n,i,r){return jP.apply(this,arguments)}function jP(){return jP=xt((function(t,n,i,r){var e;return zt(this,(function(u){switch(u.label){case 0:return hP(t)?0===t.hut?[2,void 0]:(e=n.Wrt.xct(t))?[4,n.Lct(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().Cct(t.hut-1)];case 2:return[2,n.Wrt.Oct(t)];case 3:return[2]}}))})),jP.apply(this,arguments)}function xP(t,n,i,r){return OP.apply(this,arguments)}function OP(){return OP=xt((function(t,n,i,r){var e,u;return zt(this,(function(s){switch(s.label){case 0:return hP(t)?(e=n.Wrt.xct(t))?[4,n.Lct(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.hut+1===u.U?[2,void 0]:[2,u.Cct(t.hut+1)];case 2:return[2,n.Wrt.jct(t)];case 3:return[2]}}))})),OP.apply(this,arguments)}function zP(t){return xP.bind(void 0,t)}function RP(t){return t._ct}wt(),C(),Ot(),Pt();var BP=function(){function t(t,n,i,r){this.Uct=t,this.Uut=n,this.wU=i,this.Pct=r,this.Qct=!1}var n=t.prototype;return n.mct=function(t,n,i,r){var e=this;return xt((function(){var u,s,o;return zt(this,(function(a){switch(a.label){case 0:return jo(r),(u=e.Rct(n,i))?[4,t(u,e.Pct,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.zct(s),[2,{Lht:u,nut:s,zu:o}]):[2,void 0]}}))}))()},n.Rct=function(t,n){if(0!==t.length){var i=this.Uct.Bct(t,this.Qct?n:void 0,this.Uut,this.wU.aX);return this.Qct||(this.Qct=!0),i}},t}();wt(),C(),Ot(),Pt();var PP=function(){function t(t,n,i,r){this.Uct=t,this.Uut=n,this.rut=i,this.Pct=r}return t.prototype.mct=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:if(jo(r),!(u=e.Uct.Fct(n,i,e.Uut)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),jo(r),[4,t(a,e.Pct,r)];case 3:return(c=v.sent())?(h=a.zct(c),[4,e.rut.wnt(h.zu,h.Sat)]):[3,5];case 4:if(v.sent())return[2,{nut:c,Lht:a,zu:h}];v.label=5;case 5:return[3,7];case 6:return xo(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function UP(t){return void 0!==t.gg}function QP(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function YP(t,n){return QP(t,n)||function(t,n){return t.GP-n.GP}(t,n)}wt(),C(),Ct(),tt(),wt(),C();var GP=function(){function t(t,n,i,r,e,u){this.Jd=t,this.Vct=n,this.Jet=i,this.Zct=r,this.Yct=e,this.qct=u}var n=t.prototype;return n.Bct=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.Yct&&void 0===i&&n.length>1){var s=t.Gct(u,this.Yct);s&&(u=s)}var o=this.Fct(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.Fct=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={Bat:void 0===e||this.Vct.Rat?this.Vct.Bat:e,gg:UP(r)&&r.gg?r.gg:1,Wct:r.ji,Hct:r.Ti,Xct:null==(u=this.Zct)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.Jd;c<h.length;c++){a=(0,h[c])(a,i,o,this.Jet,this.qct)}return a},t.Kct=function(n){return t.sortByQuality(n)[0]},t.Jct=function(n,i){var r;return i?t.Kct(null!=(r=t.Gct(n,i))?r:n):t.Kct(n)},t.Gct=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return BC(t.Vet,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===j(e))return e.v}},t.sortByQuality=function(t){var n=Lt(t);return n.sort(YP),n},t}();wt(),C();var FP=function(t,n,i,r,e){return t.filter((function(t){return e.FZ(t)&&r.Uet(n,t)}))};wt(),C();var VP=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.Bat;if(r<=0)return!1;return.8*r>t.GP*i.gg}(t,0,i)}))};wt(),C();var WP=function(t,n,i,r,e){var u=i.Xct;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].Av!==zA.VA)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.Hct&&o.ji===i.Wct)return t.slice(0,s+1);if(o.Ti<i.Hct||o.ji<i.Wct)return t.slice(0,s+2)}return[]};wt(),C(),Ot(),Pt();var XP=function(){function t(t){this.$ct=t}return t.prototype.mct=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:s=0,o=e.$ct,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.mct(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();wt(),C(),wt(),C(),Ot(),Pt();var ZP=function(){function t(t){this.ilt=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:s=0,o=e.ilt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.tlt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return xo(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();wt(),C(),Ot(),Pt();var HP=function(){function t(t){this.aE=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return[4,e.aE.uD({zu:t,qD:ld.SD,XD:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,tE:i,ZD:Ww.GET,Av:Xw.jT,f_:r})];case 1:return[4,s.sent().GR()];case 2:return[2,s.sent()]}}))}))()},t}();wt(),C(),Ot(),Pt();var KP=function(){function t(t){this.rut=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return xt((function(){var i,r;return zt(this,(function(u){switch(u.label){case 0:return[4,e.rut.mnt(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.rut.mnt(t)]:[3,3];case 2:if(r=u.sent())return[2,Nc(new m(r.buffer),n[0],n[1])];u.label=3;case 3:throw new oP({zu:t,Sat:n,tE:!1})}}))}))()},t}();wt(),C();var JP=1.05,qP=function(t,n,i,r){if(!1===i.Xct)return t;if(r.Cet)return t;for(var e,u,s=r.Oet,o=(null!=(e=null==s?void 0:s.width)?e:i.Wct)*JP,a=(null!=(u=null==s?void 0:s.height)?u:i.Hct)*JP,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},$P=function(){function t(){}return t.G7=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new ZP([new KP(n),new HP(t)])}(u,s),f=new GP([FP],e,on.Ys,o,a,c),v=new PP(f,n,s,h),d=new GP([VP,FP,WP,qP],e,on.Ys,o,a,c),l=new BP(d,n,r,h),g=new XP([v,l]);return new EP(t,i,g)},t}();wt(),C();var tU=function(){function t(t){this.Uut=t}var n=t.prototype;return n.elt=function(t,n,i,r){return this.Uut.elt(t,n,i,r)},n.slt=function(t,n,i){return this.Uut.Grt(t,n,i)},n.nlt=function(t,n,i){return this.Uut.nlt(t,n,i)},n.mq=function(t,n){this.Uut.mq(t,n)},n.pq=function(t,n){this.Uut.pq(t,n)},n.x0=function(){this.Uut.x0()},n.wX=function(){return this.Uut.wX()},t}();wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Mt();var nU=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,dd.nm)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return kt(n,t),n}(Jo);wt(),C(),Mt();var iU=function(t){function n(n,i){var r;return(r=t.call(this,dd.Tv)||this).track=n,r.segments=i,r}return kt(n,t),n}(Jo),rU=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).rlt=n,r}return kt(n,t),n}(Io),eU=[dd.hm,dd.lm],uU=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).gat=n,c.Vht=i,c.llt=r,c.ult=e,c.Ult=u,c.Ilt=s,c.qct=o,c.Mlt=a,c.olt=void 0,c.i0=void 0,c.hlt=void 0,c.Elt=void 0,c.plt=0,c.Alt=0,c.blt=BD.oU(),c.Ult.yn(eU,c.Ds),c}kt(n,t);var i=n.prototype;return i.clt=function(t){return!this.i0||!t||!ma(this.i0.bot,t.bot)},i.wat=function(t){if(!this.olt)return!1;var n=this.olt.nut,i=BD.rU(n.MS,n.bS),r=this.llt.Qut,e=r.WB(t);return e<0?i.gr(t,TP):i.ZB(t,r.jn(e),!0,!0,TP)},i.fat=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f,v;return zt(this,(function(d){switch(d.label){case 0:i=n.Vht.Lt.Bot,d.label=1;case 1:0,d.label=2;case 2:return d.trys.push([2,12,16,17]),jo(t),n.vat(),n.mat()?[3,18]:(r=n.dlt(),[4,n.mct(r,t)]);case 3:return void 0===(e=d.sent())?[3,18]:(n.olt=e,function(t){var n=t.Lht,i=n.Wrt,r=hP(t.nut)?i.xct(t.nut):t.nut;return i.Ylt(r,n.jlt.Olt())}(n.olt)?[3,5]:[4,n.flt(n.olt,t)]);case 4:return d.sent(),[3,1];case 5:return!n.hlt||BC(n.hlt.Lht.Nz,n.olt.Lht.Nz)?[3,7]:[4,n.qct.GZ(n.olt.Lht)];case 6:d.sent(),d.label=7;case 7:return[4,n._lt(r,n.olt.nut,t)];case 8:return d.sent(),[4,n.glt(n.olt.Lht,t)];case 9:return n.i0=d.sent(),[4,n.Zat(n.olt,t)];case 10:return u=d.sent(),s=n.llt.O_,o=n.hlt,[4,n.wlt(u,t)];case 11:return n.hlt=d.sent(),a=n.llt.O_,n.vlt(o,n.olt,s,a),i.forEach((function(t){return t.Ict=!1})),n.plt=0,n.Alt=0,[3,17];case 12:return(c=d.sent())instanceof ZB?(n.B0(c.Cn,c.jn,c.Lht),[3,1]):[3,13];case 13:if(!(c instanceof rU))return[3,15];if(h=500,i.every((function(t){return t.Ict}))){if(2===n.plt){if(f=n.llt.O_,n.ylt(n.olt),n.vlt(n.hlt,n.olt,f,f),i.forEach((function(t){return t.Ict=!1})),n.Alt+=1,n.plt=0,n.Alt===n.Mlt.maxRetries)throw new Fv(Qv.MEDIA_LOAD_ERROR,"The segments could not be loaded.",c);return[3,1]}n.plt++,v=n.Mlt.minimumBackoff*g.pow(2,n.plt-1),h=g.min(v,n.Mlt.maximumBackoff)}return[4,Fo(h,t)];case 14:return d.sent(),[3,1];case 15:throw n.blt=BD.oU(),c;case 16:return n.olt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.vlt=function(t,n,i,r){var e=r.VB(i),u=n.Lht.Tlt(n.nut),s=n.Lht.Mct(n.nut),o=n.nut.MS,a=n.nut.bS;u&&(o=g.min(o,g.max(0,n.Lht.bct.Cn-.05))),s&&(a=g.max(a,n.Lht.bct.jn));var c=BD.rU(o,a).VB(r);if(0===e.U)return 0===this.blt.U&&this.blt.YB(BD.rU(i.jn(i.U-1),o)),this.blt=this.blt.YB(c),void this.Vht.fct(this.blt);if(u||this.blt.U>0){var h=c.Sn(BD.rU(o,e.Cn(0)));this.Slt(h)}var f=e.BB().Sn(BD.rU(e.Cn(0),e.jn(e.U-1)));if(this.Slt(f),s){var v=c.Sn(BD.rU(e.jn(e.U-1),a));this.Slt(v)}if(this.blt.U>0){var d=this.blt.VB(e);this.Slt(d),this.blt=BD.oU()}var l,w=n.Lht.Wrt,y=hP(n.nut)?void 0:w.Oct(n.nut),A=null!=(l=null==t?void 0:t.nut)?l:this.Nlt(y)?y:void 0;if(A){var m=this.Vht.uct(A.MS,A.bS);if(m.length>0){var p=BD.rU(m[m.length-1].act,e.Cn(0));this.Slt(p)}}var _=hP(n.nut)?void 0:w.jct(n.nut);if(_&&this.Nlt(_)){var k=this.Vht.uct(_.MS,_.bS);if(k.length>0){var M=BD.rU(e.jn(e.U-1),k[0].hct);this.Slt(M)}}},i.Nlt=function(t){return!!t&&this.Vht.uct(t.MS,t.bS).length>0},i.Slt=function(t){for(var n=t.VB(this.llt.O_),i=0;i<n.U;i++)n.Cn(i)!==n.jn(i)&&this.Ilt.mq(n.Cn(i),n.jn(i))},i.Dlt=function(t,n){throw new rU(t,n)},i.vat=function(){if(!(this.blt.U>0)){var t,n=this.llt.Qut.YB(null!=(t=this.llt.wq.PB().Jm(this.llt.Yut))?t:BD.oU());this.Vht.$ut(n),this.Elt&&!this.klt(this.Elt)&&(this.Elt=void 0),this.Co(new iU(this.Vht.Lt.Zht,this.Vht.cct()))}},i.mat=function(){return this.hlt&&this.hlt.Lht.Mct(this.hlt.nut)?(this.Ilt.x0(),!0):(this.Elt&&this.Elt.Lht.Mct(this.Elt.nut)&&this.klt(this.Elt)&&this.Ilt.x0(),!!this.llt.Fut)},i.klt=function(t){return this.Vht.tct.HB(t.Llt,t.xlt)},i.Clt=function(t,n,i){(!this.Elt||this.Elt.nut.bS<t.nut.bS)&&(this.Elt=Xu({},t,{Llt:n,xlt:i}))},i.dlt=function(){var t=this.llt.Yut;return t},i.mct=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return jo(n),r=i.hlt?i.hlt.Lht:void 0,[4,i.ult.wct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.flt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return r=t.Lht,e=r.Wrt,u=hP(t.nut)?e.xct(t.nut):t.nut,s=r.jlt.Olt(),(o=e.Rlt(u))&&o.getTime()<=s.getTime()?[2,i.Dlt(QB.Zot,"Segment is not available.")]:(a=e.Plt(u).getTime()-s.getTime(),[4,Bo((function(t){return K.race([Fo(a,t),r.k_(FB.Nht,t)])}),n)]);case 1:return c.sent(),[2]}}))}))()},i.glt=function(t,n,i){void 0===i&&(i=0);var r=this;return xt((function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:if(jo(n),!(e=t.zlt))return[2,r.i0];a.label=1;case 1:return a.trys.push([1,4,,7]),t.Blt?[3,3]:[4,r.Ult.Kat(e,n)];case 2:u=a.sent(),t.Blt=u.ly,a.label=3;case 3:return[3,7];case 4:return xo(s=a.sent()),by(s)?2===i?(t.Ict=!0,[2,r.Dlt(QB.sht,"Could not fetch the initializer.")]):[4,Fo(g.min(r.Mlt.minimumBackoff*g.pow(2,i),r.Mlt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.glt(t,n,i+1)];case 6:throw new Fv(Qv.MEDIA_LOAD_ERROR,s.message,s);case 7:jo(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.clt(t.Blt)?[4,r.Ilt.slt(t.Blt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(xo(o=a.sent()),by(o))return[2,r.Dlt(QB.sht,"Could not append the initializer.")];throw new Fv(Qv.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.Blt]}}))}))()},i.Zat=function(t,n,i){void 0===i&&(i=0);var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),jo(n),[4,r.Ult.Zat(t,n)];case 1:case 4:return[2,u.sent()];case 2:return xo(e=u.sent()),e instanceof kP?function(t){return t instanceof vy}(e.cause)?(r.Qlt(new kP(e,t.nut,t.Lht),i),[2,r.Dlt(QB.Zot,"Could not append the segment.")]):2===i?(t.Lht.Ict=!0,r.Qlt(e,i),[2,r.Dlt(QB.Zot,"Could not fetch the segment.")]):[4,Fo(g.min(r.Mlt.minimumBackoff*g.pow(2,i),r.Mlt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Zat(t,n,i+1)];case 5:throw new Fv(Qv.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i._lt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d;return zt(this,(function(l){switch(l.label){case 0:for(e=r.Vht.uct(n.MS,n.bS),u=r.llt.Qut.Jm(t),s=BD.oU(),o=0;o<e.length;o++)a=e[o],jo(i),c=a.hct,h=a.act,(f=u&&u.ZB(c,h)?g.max(c,u.jn(0)):c)<(v=h)&&(s=s.YB(BD.rU(f,v)));d=0,l.label=1;case 1:return d<s.U?[4,r.Ilt.nlt(s.Cn(d),s.jn(d),i)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return r.vat(),[2]}}))}))()},i.wlt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),jo(n),[4,i.Ilt.elt(t.out,t.nut,t.Lht,n)];case 1:return r=u.sent(),i.Flt(t,r.Llt,r.xlt),i.Clt(t,r.Llt,r.xlt),[2,t];case 2:if(xo(e=u.sent()),by(e))return i.Qlt(new kP(e,t.nut,t.Lht),0),[2,i.Dlt(QB.Zot,"Could not append the segment.")];if(OS(e)&&i.Ilt.wX())return[2,i.Dlt(QB.Kot,"Buffer is full. Could not reduce the buffer.")];throw new Fv(Qv.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.Flt=function(t,n,i){var r=t.Lht,e=t.nut;this.lct(e,r,n,i)},i.lct=function(t,n,i,r){this.Vht.lct({sct:t.MS,nct:t.bS,hct:i,act:r,_ct:!0},n),this.Ilt.pq(i,r)},i.B0=function(t,n,i){var r=BD.rU(t,n);i?this.Vht.mq(r,i):this.Vht.fct(r),this.Ilt.mq(t,n)},i.ylt=function(t){var n=BD.rU(t.nut.MS,t.nut.bS);t.Lht?this.Vht.mq(n,t.Lht):this.Vht.fct(n)},i.Qlt=function(t,n){var i=t.kut,r=this.Vht.Lt.Zht,e=this.Vht.Lt.va,u=t.xut.Lht&&t.xut.Lht.va,s=new nU(i,t.message,r,e,u,n);this.Co(s)},i.tr=function(){this.i0=void 0,this.hlt=void 0},i.gn=function(){this.tr(),this.Elt=void 0,this.Ult.fn(eU,this.Ds),this.Ult.gn()},At(n,[{key:"Qht",get:function(){return this.olt}},{key:"Yht",get:function(){return this.hlt}},{key:"Wht",get:function(){return this.ult.Wht},set:function(t){this.ult.Wht=t}},{key:"Zht",get:function(){return this.Vht.Lt.Zht}}]),n}(Xo);var sU=0,oU=function(){function t(t,n,i,r,e,u,s,o,a,c,h){this.Uut=t,this.q3=n,this.$0=i,this.aE=r,this.wU=e,this.Glt=u,this.rut=s,this.Zct=o,this.Yct=a,this.qct=c,this.Mlt=h}return t.prototype.G7=function(t){var n=sU++,i=this.Uut.O0,r=new IP(t),e=new nP(i,this.Glt),u=new NP(this.Uut,this.q3,this.$0,this.wU),s=$P.G7(n,this.Uut,r,this.wU,e,this.aE,this.rut,this.Zct,this.Yct,this.qct),o=function(t){switch(t){case zA.WA:return Hw.WA;case zA.VA:return Hw.VA;case zA.Ru:return Hw.Ru;case zA.OT:return Hw.OT;default:return Hw.jT}}(i),a=new qB(this.aE,o),c=this.zut(a,e,this.Glt),h=new tU(this.Uut),f=new uU(n,r,u,s,c,h,this.qct,this.Mlt);return new JB(n,t.Out,r,f,this.q3)},t}(),aU=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.zut=function(t,n,i){return(new bP).zut(t,this.Uut,n,i,this.rut)},n}(oU),cU=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.Vlt=function(n,i){var r={Zht:zA.Ru,Out:i,Bot:i.Bot,va:n.va};return t.prototype.G7.call(this,r)},i.zut=function(t,n){return(new bP).zut(t,this.Uut,n,!1,this.rut)},n}(oU);wt(),C();var hU=function(){function t(t){this.xrt=t}var n=t.prototype;return n.FZ=function(t){return this.xrt.FZ(t)},n.GZ=function(t){return this.xrt.GZ(t)},t}(),fU=function(){function t(){}var n=t.prototype;return n.FZ=function(t){return!0},n.GZ=function(t){return K.resolve(void 0)},t}();wt(),C(),Wt(),mt(),Mt(),Ct(),wt(),C(),Mt();var vU=function(t){function n(n,i){var r;return(r=t.call(this,cA.Ow)||this).qw=n||[],r.Lt=i,r}return kt(n,t),n.prototype.fa=function(){return new dU(this.qw.map((function(t){return t.va})))},n}(iA),dU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var lU=function(t){function n(n){var i;return(i=t.call(this,cA.QUALITY_UNAVAILABLE)||this).quality=n,i}return kt(n,t),n.prototype.fa=function(){return new gU(this.quality.va)},n}(uA),gU=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return kt(n,t),n}(sA);wt(),C(),Mt();var wU=function(t){function n(){return t.call(this,cA.NO_QUALITY)}return kt(n,t),n}(Jo);function yU(t){return{GP:t.GP,Vet:t.$nt,Ti:AU(t)?t.Ti:0,Av:AU(t)?zA.VA:zA.WA,ji:AU(t)?t.ji:0}}function AU(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}wt(),C();var mU=0,pU=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).$lt=void 0,e.Le=!1,e.Xa=void 0,e.edt=void 0,e.uS="",e.fdt=!1,e.sS=new WA,e.odt=[],e.Klt=void 0,e.sdt=void 0,e.Xlt=function(){return e.Co(new HA(Vt(e)))},e.adt=[],e.rat=n,e.uS=String(mU++),e.cS=qA(),e.C2=r,e.Rx=n.b8,e.lS=n.kh,e.udt=n.Av,e.odt=n.Bot,e.Hlt(i),e}kt(n,t);var i=n.prototype;return i.Hlt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.yn("update",this.Xlt),this.sS.nS(i)}},i.Zlt=function(t){if(this.sS.oS(t)){t.bD();var n=this.qlt();if(this.Klt&&fo(this.Klt,t)){var i=this.Klt.filter((function(t){return t.snt}));0===i.length&&n.length>0?this.Kw=n:this.Kw=i}else this.Kw=n;this.Co(new lU(t))}},i.Jlt=function(t){if(this.sS.oS(t)){var n=this.qlt();t.MD(),this.Klt&&!function(t,n){return vo(t,n,(function(t,n){return t===n}))}(this.Klt,n)||(this.Kw=this.qlt())}},i.qlt=function(){for(var t=[],n=0,i=this.sS.Rw;n<i.length;n++){var r=i[n];r.snt&&t.push(r)}return t},i.tdt=function(t){this.$lt=t.Lht,this.Co(t)},i.ndt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Bot;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.Lht&&s.snt&&n.push(e)}return n}},i.hdt=function(t){var n;this.adt.push(t),(n=this.odt).push.apply(n,Lt(t.Bot));var i=t.Bot.map((function(t){return t.Lht}));this.Hlt(i)},i.fS=function(t){this.Le=t,this.edt&&(t?this.edt.MD(this):this.edt.bD(this))},i.ddt=function(t){this.Le=t,this.fdt!==t&&(this.fdt=t,this.Co(new XA(this)))},i.gn=function(){for(var t=0,n=this.sS.Rw;t<n.length;t++){n[t].fn("update",this.Xlt)}this.sS.tr()},At(n,[{key:"Zw",get:function(){return this.rat.Wlt.map(_U).filter(zn)}},{key:"Hw",get:function(){return this.$lt}},{key:"Out",get:function(){return this.rat}},{key:"Rt",get:function(){return this.Le},set:function(t){this.fS(t)}},{key:"va",get:function(){return this.Xa||(this.Xa=jA(this)),this.Xa}},{key:"idt",get:function(){return this.edt},set:function(t){this.edt=t}},{key:"o",get:function(){return this.uS}},{key:"Xw",get:function(){return this.cS}},{key:"zt",get:function(){return this.C2}},{key:"gs",get:function(){return this.Rx}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"Kw",get:function(){return this.Klt},set:function(t){var n=this,i=[];if(t){var r=(null!=t?t:[]).filter((function(t){var i=n.Hw?yU(n.Hw):void 0;return on.Ys.Uet(i,yU(t))}));if(0===r.length)return;i=r.filter((function(t){return t.snt}))}else i=this.qlt();0===i.length&&this.Co(new wU),this.Klt=t&&this.sS.oS(t)?t:void 0,this.sdt=this.ndt(this.Klt),this.Co(new vU(t,this))}},{key:"rdt",get:function(){return this.sdt}},{key:"qw",get:function(){return this.sS}},{key:"Bot",get:function(){return this.odt}},{key:"Zht",get:function(){return this.udt}},{key:"cdt",get:function(){return this.adt}},{key:"ldt",get:function(){return this.Bot.every((function(t){return t.ldt}))}}]),n}(Xo);function _U(t){if("urn:mpeg:dash:role:2011"===t.irt)return kU(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.irt){if("1"===t.lT)return IA.$w;if("2"===t.lT)return IA.ov}}function kU(t){if(void 0!==(null==t?void 0:t.lT))switch(t.lT){case"caption":return IA.Jw;case"sign":return IA.rv;case"description":return IA.$w;case"enhanced-audio-intelligibility":return IA.ov;default:return}}var MU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Kx=0,s.lU=1,s.mdt=void 0,s.gdt={},s.vdt={},s.qx=0,s.Tdt=function(t){0},s.q3=n,s.aE=i,s.wU=r,s.bdt=e,s.rut=u,s}kt(n,t);var i=n.prototype;return i.x0=function(){},i.Gut=function(){return this.Qut.gr(this.jn)},i.elt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c,h,f,v,d,l;return zt(this,(function(g){switch(g.label){case 0:return t.Av!==pL.jZ?[3,1]:(s=t.ly.bot,[3,3]);case 1:return[4,t.ly.GR(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.gdt[o.Xw],c=n.MS,h=n.bS,f=new BD([c,h]),a||(e.gdt[o.Xw]=BD.oU(),e.vdt[o.Xw]=BD.oU()),e.Prt(r),v=e.Vrt(new m(u),n,i,o),d=0;d<v.length;d++)l=v[d],o.lE(l);return e.gdt[o.Xw]=e.gdt[o.Xw].YB(f),[2,{Llt:c,xlt:h}]}}))}))()},i.Prt=function(t){for(var n=xS(this.q3.U_,void 0,void 0,this.O_,this.wU.lX,this.wU.rX),i=0;i<n.length;i++){var r=Gt(n[i],2),e=r[0],u=r[1];Qo(this.nlt(e,u,t))}},i.Grt=function(t,n,i){return this.bdt.Grt(t,n,i)},i.Vrt=function(t,n,i,r){return this.bdt.Vrt(t,n,i,r)},i.nlt=function(t,n,i){for(var r=t,e=n,u=new BD([t,n]),s=0,o=this.Z.Rw;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.Rw;h<f.length;h++){var v=f[h];v.MS>=r&&v.bS<=e?c.push(v):u=u.VB(new BD([v.MS,v.bS]))}for(var d=0;d<c.length;d++){var l=c[d];a.gD(l)}var g=this.gdt[a.Xw];g&&(this.gdt[a.Xw]=g.VB(u))}return K.resolve()},i.mq=function(t,n){},i.pq=function(t,n){},i.wX=function(){return!1},i.MD=function(n){if(t.prototype.MD.call(this,n),this.bdt.tr(),this.mdt&&(this.mdt.gn(),this.mdt=void 0),this.Not){var i=this.Rot(this.Not);this.mdt=new cU(this,this.q3,this.q3,this.aE,this.wU,!1,this.rut,void 0,void 0,new fU,wD).Vlt(this.Not,i),this.mdt.yn(f_.ha,this.Tdt),this.mdt.Cn(QB.Fot)}},i.bD=function(n){this.Not===n&&(t.prototype.bD.call(this,n),this.mdt&&(this.mdt.gn(),this.mdt=void 0))},i.Lot=function(t){var n=function(t){var n=t.Bot&&t.Bot.length>0&&t.Bot[0],i=n&&P_(n.$nt),r=P_(t.$nt),e=t.aG===mv.APPLICATION_TTML_XML;return i||r||e?cm.TTML:t.aG===mv.TEXT_VTT||G_(t.aG,t.$nt)?cm.WEBVTT:cm.DEFAULT}(t);if(!n)throw new v("Unknown TextTrack type for Representation");var i=t.Sdt.concat(t.Wlt);return this.Ndt(function(t){return fo(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.irt})).map((function(t){return t.lT})).filter(zn),"caption")?C_.sD:C_.HA}(i),t.kh,t.b8,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.irt})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.lT)}))}(t.Sdt),t.Wlt.map(kU).filter(zn))},i.tr=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.mdt?[4,n.mdt.tr(QB.cht)]:[3,3];case 2:i.sent(),n.mdt.fn(f_.ha,n.Tdt),n.mdt=void 0,i.label=3;case 3:return n.Dot=void 0,n.gdt={},n.vdt={},[2]}}))}))()},i.Idt=function(){this.gdt={},this.vdt={}},i.findTrackForRepresentation=function(t){for(var n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n],e=this.Rot(r);if(e&&GB.zot(e)===t)return r}},At(n,[{key:"_z",get:function(){var t=this.q3.U_;return this.Qut.Jm(t,.01)}},{key:"_dt",get:function(){return this.Not&&this.gdt[this.Not.Xw]?this.gdt[this.Not.Xw]:BD.oU()}},{key:"wdt",get:function(){return this.Not&&this.vdt[this.Not.Xw]?this.vdt[this.Not.Xw]:BD.oU()}},{key:"Vut",get:function(){return new BD([0,1/0])}},{key:"O_",get:function(){return this._dt}},{key:"wq",get:function(){return this.mdt?this.mdt.Ght.wq.Wut:BD.oU()}},{key:"Qut",get:function(){return VB(this.O_,this.wq).FB(2*this.pdt)}},{key:"Cn",get:function(){return this.Dot?this.Dot.bct.Cn:NaN}},{key:"jn",get:function(){return this.Dot?this.Dot.bct.jn:NaN}},{key:"G_",get:function(){var t=this.jn;return!!t&&this.q3.U_>=t}},{key:"pdt",get:function(){var t,n,i=this.Pot();return i?1/(null!=(n=this.Not&&(null==i||null==(t=i.Adt)?void 0:t.JS()))?n:25):.04}},{key:"Ti",get:function(){return this.Kx}},{key:"O0",get:function(){return zA.Ru}},{key:"gg",get:function(){return this.lU},set:function(t){this.lU=t}},{key:"pg",get:function(){return this.wdt}},{key:"Ig",get:function(){if(!this.Not)return BD.nU(0);var t=this.Rot(this.Not),n=null==t?void 0:t.ydt,i=null==t?void 0:t.Mdt;if(void 0===i||void 0===n)return BD.nU(0);var r=g.max(n,this.q3.U_);return new BD([i,r]).PB()}},{key:"ji",get:function(){return this.qx}}]),n}(GB),bU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).oE=s,o}kt(n,t);var i=n.prototype;return i.Ndt=function(t,n,i,r,e,u,s,o){var a,c,h=u.Bot.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.oE.rE(t,f,n,i,r,e,s,o)},i.gn=function(){for(var n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n];this.oE.fE(r)}return t.prototype.gn.call(this)},n}(MU),TU=function(){function t(t,n,i,r,e){this.kdt=[],this.Dl=new dT([]),this.q3=t,this.aE=n,this.wU=i,this.rut=r,this.oE=e}var n=t.prototype;return n.hE=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return t.Av!==zA.Ru?[2]:(i=function(t,n){return P_(n)||t===mv.APPLICATION_TTML_XML||t===mv.TEXT_VTT?new zB:G_(t,n)?new PB:void 0}(t.aG,t.$nt),i?(r=n.Ddt(i),n.Edt(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.Ddt=function(t){return new bU(this.q3,this.aE,this.wU,t,this.rut,this.oE)},n.Edt=function(t){this.kdt.push(t),this.Dl.tz(t.Z)},n.tr=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:n=0,i=t.kdt.slice(),r.label=1;case 1:return n<i.length?[4,i[n].tr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return lo(t.kdt),t.Dl.tr(),[2]}}))}))()},n.gn=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:n=0,i=t.kdt,r.label=1;case 1:return n<i.length?[4,i[n].gn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return lo(t.kdt),t.Dl.gn(),[2]}}))}))()},At(t,[{key:"nt",get:function(){return this.Dl}}]),t}();wt(),C(),Mt();var NU,DU,IU=function(t){function n(n){var i;return(i=t.call(this,dd.Wv)||this).error=n,i}return kt(n,t),n}(Jo);wt(),C(),function(t){t.Tj="static",t.Sj="dynamic"}(NU||(NU={})),wt(),C(),Mt(),wt(),C(),function(t){t.Ldt="xdt"}(DU||(DU={}));var EU=function(t){function n(){return t.call(this,DU.Ldt)}return kt(n,t),n}(Jo);wt(),C(),Ot(),mt(),Mt(),Ft(),Pt(),wt(),C();var SU=0;wt(),C(),Mt();var LU,CU,jU,xU=function(t){function n(n,i){var r;return(r=t.call(this,dd.Kv)||this).representation=n,r.previousRepresentation=i,r}return kt(n,t),n}(Jo);function OU(t,n,i){return i===LU.Cdt?i:n!==CU.Odt&&n!==CU.jdt||i!==LU.Rdt&&i!==LU.Pdt?t?n===CU.zdt?LU.Bdt:n===CU.Udt?LU.Qdt:LU.Cdt:LU.Fdt:LU.Pdt}function zU(t,n,i,r){var e={byte:i},u=LU.Rdt,s=[],o=31&sC(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=sC(n,e,r),h=4&c,f=3&c;u=OU(Boolean(h),f,u);var v=sC(n,e,r),d=sC(n,e,r);s.push({Ydt:t,Kb:-1,Gdt:!a,Vdt:Boolean(h),Av:f,Wdt:u,Hdt:v,Xdt:d})}return s}function RU(t,n,i){var r=sC(t,n,i);if(!A(r))return String.fromCharCode(r)}function BU(t){var n=t.kJ,i={byte:t.DJ},r=t.EJ,e=sC(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=oC(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=RU(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===sC(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Zdt=i.byte,o}}}}function PU(t){return 4===t.NJ}function UU(t){for(var n=t.filter(PU).map(BU).filter(zn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Lt(zU(u.SJ,u.kJ,u.Zdt,u.EJ)))}return i}wt(),C(),Mt(),wt(),C(),Ct(),wt(),C(),function(t){t[t.Cdt=0]="Cdt",t[t.Rdt=1]="Rdt",t[t.Pdt=2]="Pdt",t[t.Qdt=3]="Qdt",t[t.Bdt=4]="Bdt",t[t.Fdt=5]="Fdt"}(LU||(LU={})),function(t){t[t.Odt=0]="Odt",t[t.jdt=1]="jdt",t[t.zdt=2]="zdt",t[t.Udt=3]="Udt"}(CU||(CU={})),function(t){t[t.qdt=47]="qdt",t[t.Kdt=49]="Kdt"}(jU||(jU={})),wt(),C();var QU="und";var YU=[{l:"Abkhaz",lh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",lh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",lh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",lh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",lh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",lh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",lh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",lh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",lh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",lh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",lh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",lh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",lh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",lh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",lh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",lh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",lh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",lh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",lh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",lh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",lh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",lh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",lh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",lh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",lh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",lh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",lh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",lh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",lh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",lh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",lh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",lh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",lh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",lh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",lh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",lh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",lh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",lh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",lh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",lh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",lh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",lh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",lh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",lh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",lh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",lh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",lh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",lh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",lh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",lh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",lh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",lh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",lh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",lh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",lh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",lh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",lh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",lh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",lh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",lh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",lh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",lh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",lh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",lh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",lh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",lh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",lh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",lh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",lh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",lh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",lh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",lh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",lh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",lh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",lh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",lh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",lh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",lh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",lh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",lh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",lh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",lh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",lh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",lh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",lh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",lh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",lh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",lh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",lh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",lh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",lh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",lh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",lh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",lh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",lh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",lh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",lh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",lh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",lh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",lh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",lh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",lh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",lh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",lh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",lh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",lh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",lh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",lh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",lh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",lh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",lh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",lh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",lh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",lh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",lh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",lh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",lh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",lh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",lh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",lh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",lh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",lh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",lh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",lh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",lh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",lh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",lh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",lh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",lh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",lh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",lh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",lh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",lh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",lh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",lh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",lh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",lh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",lh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",lh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",lh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",lh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",lh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",lh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",lh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",lh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",lh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",lh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",lh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",lh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",lh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",lh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",lh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",lh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",lh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",lh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",lh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",lh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",lh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",lh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",lh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",lh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",lh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",lh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",lh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",lh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",lh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",lh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",lh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",lh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",lh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",lh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",lh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",lh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",lh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",lh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",lh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",lh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",lh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",lh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",lh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",lh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",lh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",lh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",lh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];wt(),C(),Ct();function GU(t){var n,i=null!=(n=function(t){var n=t.eJ,i=new aC;return i.vJ(n,0,n.byteLength),_C(i).VJ}(t))?n:24;return t.Jdt/i}function FU(t){return t.Av===rp.kA}var VU;function WU(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Jdt,u=xi.fromNumber(t.uT||0),s=r.nS(Km.fN(u,e));return{$dt:r.JS(),tft:r,ift:s,eft:r}}(t,0,i,r),o=Km._N(t.ct||0,i.Jdt),a=t.Vy||0,c=!(65536&a)&&1!==(a>>24&3),h=kc(e),f=new Ec;f.Ku<h.byteLength;){var v=Ka(h,f);if((31&Wa(h,f,1))===cC.RJ){var d,l=new aC;l.vJ(e,f.Ku-1,f.Ku+v-1);var g=new pC(l),w=gC(s.ift,g);(d=u=u||[]).push.apply(d,Lt(UU(w)))}f.KA(v-1)}return Xu({},s,{ct:o.JS(),sft:o,nft:s.ift.JS(),rft:s.$dt,oft:c,hft:u,aft:!1,uft:!1})}function XU(t){return{AM:t.zy.AM,Jdt:t.wM.zy.cM}}function ZU(t){return t.Av===rp.Kp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(VU||(VU={})),wt(),C(),Mt(),wt(),C(),Mt(),wt(),C(),Ct(),wt(),C(),wt(),C(),wt(),C(),Mt(),wt(),C(),wt(),C();var HU=function(){function t(t,n){this.L8=t,this.A8=n}return t.prototype.QS=function(t){return this.L8===t.L8&&this.A8===t.A8},t}();wt(),C(),mt();var KU=function(){function t(t,n){this.kZ=t,this.lft=n,this.cft=""}var n=t.prototype;return n.dft=function(t){this.cft+=t},n.fft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dft(i)}},At(t,[{key:"W8",get:function(){return this.cft}},{key:"Q8",get:function(){return[this]}},{key:"G8",get:function(){return this.kZ}},{key:"S8",get:function(){return this.lft}},{key:"D8",get:function(){return new HU(this.S8.L8,this.S8.A8+this.W8.length-1)}}]),t}();function JU(t,n){return t===n||t.W8===n.W8&&t.S8.QS(n.S8)&&yA(t.G8,n.G8)}function qU(t,n){return t===n||t.S8.QS(n.S8)&&t.D8.QS(n.D8)&&vo(t.Q8,n.Q8,JU)}var $U=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)}return kt(n,t),n.prototype.FS=function(t){return vo(this.O,t.O,qU)},n}(Em);wt(),C(),mt();var tQ=function(){function t(){}var n=t.prototype;return n._ft=function(t){return t.lI(this)},n.gft=function(t){var n=this;return wo(t,(function(t,i){return t.lI(n,i)}))},n.wft=function(t,n){return new nQ(t,n).vft()},t}(),nQ=function(){function t(t,n){this.L8=t,this.Tft=n,this.yft=[],this.bft=null}var n=t.prototype;return n.vft=function(){if(this.mft)return[];for(var t=0;t<this.L8.length;t++)this.pft(t);return this.Aft(),this.yft},n.Mft=function(t){this.bft=new KU(wz,new HU(this.Tft,t))},n.Aft=function(){this.bft&&(this.yft.push(this.bft),this.bft=null)},n.pft=function(t){var n=this.L8[t];iQ(n)?this.bft&&this.Aft():(this.bft||this.Mft(t),this.bft.dft(n))},At(t,[{key:"mft",get:function(){return this.L8.every(iQ)}}]),t}();function iQ(t){return null==t}var rQ=function(){function t(){}return t.Sft=function(t,n,i){if(!(n>=i)){var r=wo(t,(function(t,n){return new nQ(t.map((function(t){return t?t.Nft():null})),n).vft()}));if(0!==r.length)return new $U(n,i,r)}},t}(),eQ="black",uQ="white";wt(),C(),wt(),C();var sQ=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),oQ=function(){function t(){this.Dft=[],this.Lft=0;for(var t=0;t<pz;t++)this.Dft.push(null);this.Oft=!1}var n=t.prototype;return n.Ift=function(t){for(var n=0;n<pz;n++)t&&(this.Dft[n]=t.Dft[n])},n.QS=function(t){for(var n=0;n<pz;n++)if(this.Dft[n]!==t.Dft[n])return!1;return!0},n.Eft=function(){for(var t=0;t<pz;t++)if(null!==this.Dft[t])return!1;return!0},n.kft=function(t){this.Lft!==t&&(this.Lft=t),this.Lft<0?this.Lft=0:this.Lft>pz&&(this.Lft=31)},n.xft=function(t){var n=this.Lft+t;this.kft(n)},n.Cft=function(){this.xft(-1),this.Dft[this.Lft]=null},n.dft=function(t){t>=144&&this.Cft();var n=function(t){return sQ[t]?String.fromCharCode(sQ[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.Lft>=pz||(32===Number(t)?(this.Dft[this.Lft]=this.Oft?"</i>":"<i>",this.Oft=!this.Oft):this.Dft[this.Lft]=t,this.xft(1))},n.jft=function(t){for(var n=t;n<pz;n++)this.Dft[n]=null},n.kL=function(){this.jft(0),this.Lft=0},n.Rft=function(){this.jft(this.Lft)},n.Pft=function(t,n){for(var i=this.Dft,r=null,e=0;e<pz;e++){var u=i[e];null===u?r=null:(r||(r={Gh:e,Xh:t,ji:0,Ti:1,Dft:[[]]},n.push(r)),r.Dft[0].push(u),r.ji++)}},n.lI=function(t,n){return t.wft(this.Dft,n)},t}();var aQ,cQ=function(){function t(t,n){this.Qft=new Array(hQ+1);for(var i=0;i<=hQ;i++)this.Qft[i]=new oQ;this.Gft=1,this.Xft=0,this.Bft=t,this.Uft=n,this.i_t=!1,this.s_t=!1,this.r_t=uQ,this.h_t=eQ,this.tr()}var n=t.prototype;return n.zft=function(t,n){var i="CC"+(this.Bft<<1|this.Uft+1);if(t>=n)return null;var r=(new tQ).gft(this.Qft.slice(1));return 0===r.length?null:{yS:new $U(t,n,r),VW:i,Fft:this.Bft<<1|this.Uft+1}},n.tr=function(){this.Yft(),this.Gft=1},n.Vft=function(){return this.Gft},n.Wft=function(t){this.Gft=t},n.kft=function(t){this.Qft[this.Gft].kft(t)},n.xft=function(t){this.Qft[this.Gft].xft(t)},n.Hft=function(){return this.Xft},n.Zft=function(t){this.Xft=t},n.dft=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==vQ[n]?vQ[n]:String.fromCharCode(n);break;case 1:i=dQ[n];break;case 2:this.qft(),i=lQ[n];break;case 3:this.qft(),i=gQ[n]}i&&this.Qft[this.Gft].addParsedChar(i)}},n.qft=function(){this.Qft[this.Gft].Cft()},n.Kft=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.Qft[t+r]=this.Qft[n+r];else for(var e=0;e<i;e++)this.Qft[t+e]=this.Qft[n+e]},n.Jft=function(t,n){for(var i=0;i<=n;i++)this.Qft[t+i]=new oQ},n.Yft=function(){this.Jft(0,hQ)},n.$ft=function(){this.Gft=this.Xft>0?this.Xft:0,this.Yft()},n.t_t=function(t){this.i_t=t},n.e_t=function(t){this.s_t=t},n.n_t=function(t){this.r_t=t},n.o_t=function(t){this.h_t=t},t}(),hQ=15;!function(t){t[t.a_t=0]="a_t",t[t.u_t=1]="u_t",t[t.c_t=2]="c_t",t[t.l_t=3]="l_t"}(aQ||(aQ={}));var fQ,vQ={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},dQ={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},lQ={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},gQ={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},wQ=function(){function t(t,n){this.z2=0,this.m_t=new cQ(t,n),this.g_t=new cQ(t,n),this.v_t=new cQ(t,n),this.__t=this.g_t,this.f_t=0,this.w_t=void 0,this.d_t=!1}var n=t.prototype;return n.tr=function(){this.d_t=!0,this.f_t=0,this.z2=0,this.__t=this.g_t,this.w_t=void 0,this.g_t.tr(),this.v_t.tr(),this.m_t.tr()},n.p_t=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.A_t=function(t,n){var i=this.p_t(t,n),r=(30&n)>>1,e=uQ,u=!1;r<7?e=mQ[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.z2){var o=this.__t;if(3===this.z2&&i!==o.Vft()){var a=1+o.Vft()-o.Hft(),c=1+i-o.Hft();o.Kft(c,a,o.Hft()),o.Jft(0,c-1),o.Jft(i+1,hQ-i)}o.Wft(i);var h=Az[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{p8:yz[i].p8,m8:yz[i].m8,A8:yz[i].A8,L8:t}}(h,n);o.kft(f.A8),this.__t.t_t(s),this.__t.e_t(u),this.__t.n_t(e),this.__t.o_t(eQ)}}},n.y_t=function(t,n){this.__t.t_t(!1),this.__t.e_t(!1),this.__t.n_t(uQ);var i=this.M_t(t,aQ.a_t," ".charCodeAt(0)),r=uQ,e=!1,u=1==(1&n);return"white_italics"===(r=mQ[(14&n)>>1])&&(r="white",e=!0),this.__t.t_t(u),this.__t.e_t(e),this.__t.n_t(r),i},n.M_t=function(t,n,i){if(this.__t.dft(n,i),2===this.z2||3===this.z2){var r=this.b_t(this.__t,this.f_t,t);return this.f_t=t,r}return null},n.b_t=function(t,n,i){return this.d_t?null:2===this.z2||3===this.z2?t.zft(i,i+10):t.zft(n,i)},n.T_t=function(t,n){var i=eQ;0==(7&t)&&(i=AQ[(14&n)>>1]),this.__t.o_t(i)},n.S_t=function(t){var n=yQ,i=t.N_t,r=t.I_t,e=null;switch(i){case n.RCL:this.D_t();break;case n.BS:this.E_t();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.k_t(2,r);break;case n.RU3:e=this.k_t(3,r);break;case n.RU4:e=this.k_t(4,r);break;case n.FON:e=this.L_t(r);break;case n.RDC:this.x_t(r);break;case n.TR:this.C_t();break;case n.RTD:this.O_t();break;case n.EDM:e=this.j_t(r);break;case n.CR:e=this.R_t(r);break;case n.ENM:this.P_t();break;case n.EOC:e=this.z_t(r)}return e},n.R_t=function(t){var n=this.__t;if(3!==this.z2)return null;var i=this.b_t(n,this.f_t,t),r=n.Vft()-n.Hft()+1;return n.Kft(r-1,r,n.Hft()),n.Jft(0,r-1),n.Jft(n.Vft(),hQ-n.Vft()),this.f_t=t,i},n.k_t=function(t,n){this.__t=this.g_t;var i=this.__t,r=null;return 3!==this.z2&&4!==this.z2&&(r=this.b_t(i,this.f_t,n),this.g_t.$ft(),this.v_t.$ft(),this.d_t=!1,i.Wft(hQ)),this.z2=3,i.Zft(t),r},n.L_t=function(t){return this.M_t(t,aQ.a_t," ".charCodeAt(0))},n.j_t=function(t){var n=this.g_t,i=null;return 4!==this.z2&&(i=this.b_t(n,this.f_t,t)),n.Yft(),this.d_t=!1,i},n.x_t=function(t){this.z2=2,this.__t=this.g_t,this.__t.Zft(0),this.f_t=t},n.P_t=function(){this.v_t.Yft()},n.z_t=function(t){var n=null;4!==this.z2&&(n=this.b_t(this.g_t,this.f_t,t));var i=this.v_t;return this.v_t=this.g_t,this.g_t=i,this.D_t(),this.f_t=t,n},n.D_t=function(){this.z2=1,this.__t=this.v_t,this.__t.Zft(0)},n.E_t=function(){this.__t.qft()},n.C_t=function(){this.m_t.tr(),this.d_t=!1,this.O_t()},n.O_t=function(){this.__t=this.m_t,this.z2=4},n.B_t=function(t,n,i){return this.__t.dft(aQ.a_t,n),this.M_t(t,aQ.a_t,i)},n.U_t=function(t,n,i){var r=1&n?aQ.l_t:aQ.c_t;return this.M_t(t,r,i)},n.Q_t=function(t){var n=t.F_t,i=t.N_t,r=t.I_t;if(this.w_t===(n<<8|i))return this.w_t=void 0,null;if(this.w_t=n<<8|i,this.Y_t(n,i))this.A_t(n,i);else{if(this.G_t(n,i))return this.y_t(r,i);if(this.V_t(n,i))this.T_t(n,i);else{if(this.W_t(n,i))return this.M_t(r,aQ.u_t,i);if(this.H_t(n,i))return this.U_t(r,n,i);if(this.X_t(n,i))return this.S_t(t);this.isTabOffset(n)&&this.__t.xft(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.X_t=function(t,n){return 20==(246&t)&&32==(240&n)},n.Y_t=function(t,n){return 16==(240&t)&&64==(192&n)},n.G_t=function(t,n){return 17==(247&t)&&32==(240&n)},n.V_t=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.W_t=function(t,n){return 17==(247&t)&&48==(240&n)},n.H_t=function(t,n){return 18==(246&t)&&32==(224&n)},t.Z_t=function(t){return 16==(112&t)},t}(),yQ={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.yB=0]="yB",t[t.q_t=1]="q_t",t[t.K_t=2]="K_t",t[t.J_t=3]="J_t",t[t.Ru=4]="Ru"}(fQ||(fQ={}));var AQ=["black","green","blue","cyan","red","yellow","magenta","black"],mQ=["white","green","blue","cyan","red","yellow","magenta","white_italics"];wt(),C(),Pt(),wt(),C(),wt(),C();var pQ,_Q=function(){function t(t,n,i,r,e){this.$_t=t,this.i_t=n,this.s_t=i,this.h_t=r,this.r_t=e}var n=t.prototype;return n.Nft=function(){return this.$_t},n.tgt=function(){return this.i_t},n.igt=function(){return this.s_t},n.egt=function(){return this.h_t},n.sgt=function(){return this.r_t},t}(),kQ=function(){function t(t){this.xgt=t,this.EB=!1,this.agt=!1,this.ogt=0,this.rgt=0,this.hgt=0,this.ugt=0,this.cgt=0,this.kgt=2,this.dgt=[],this.xS=0,this.Gft=0,this.wgt=0,this.s_t=!1,this.i_t=!1,this.r_t=uQ,this.h_t=eQ,this.lgt()}var n=t.prototype;return n.ngt=function(t,n,i,r,e,u,s){this.EB=t,this.rgt=n,this.ogt=i,this.hgt=r,this.agt=e,this.ugt=u,this.cgt=s},n.lgt=function(){this.dgt=[];for(var t=0;t<bQ;t++)this.dgt.push(this.fgt())},n.fgt=function(){for(var t=[],n=0;n<MQ;n++)t.push(null);return t},n._gt=function(t){this.ggt()&&(this.dgt[this.Gft][this.wgt]=new _Q(t,this.i_t,this.s_t,this.h_t,this.r_t),this.wgt++)},n.vgt=function(){this.ggt()&&(this.wgt<=0&&this.Gft<=0||(this.wgt<=0?(this.wgt=this.cgt-1,this.Gft--):this.wgt--,this.dgt[this.Gft][this.wgt]=null))},n.ggt=function(){var t=this.Gft<this.ugt&&this.Gft>=0,n=this.wgt<this.cgt&&this.wgt>=0;return t&&n},n.mgt=function(){return this.EB},n.pgt=function(t){for(var n=0,i=t;i<bQ;i++,n++)this.dgt[n]=this.dgt[i];for(var r=0;r<t;r++,n++)this.dgt[n]=this.fgt()},n.Agt=function(){if(this.Gft+1>=this.ugt)return this.pgt(1),void(this.wgt=0);this.Gft++,this.wgt=0},n.ygt=function(){this.dgt[this.Gft]=this.fgt(),this.wgt=0},n.zft=function(t,n){if(this.xS>=t)return null;var i=rQ.Sft(this.dgt,this.xS,t);return i?(this.Mgt(t),{yS:i,VW:"svc"+n,Fft:n}):null},n.bgt=function(t,n){this.Gft=t,this.wgt=n},n.Tgt=function(t){this.h_t=t},n.Sgt=function(t){this.r_t=t},n.Ngt=function(t){this.i_t=t},n.Igt=function(t){this.s_t=t},n.Dgt=function(){this.Gft=0,this.wgt=0,this.i_t=!1,this.s_t=!1,this.r_t=uQ,this.h_t=eQ},n.Egt=function(t){this.kgt=t},n.Lgt=function(){this.EB=!0},n.be=function(){this.EB=!1},n.wh=function(){this.EB=!this.EB},n.Mgt=function(t){this.xS=t},t}();!function(t){t[t.Cgt=0]="Cgt",t[t.Ogt=1]="Ogt",t[t.jgt=2]="jgt",t[t.Rgt=3]="Rgt"}(pQ||(pQ={}));var MQ=42,bQ=15,TQ=function(){function t(t){this.Xgt=t,this.nwt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Hgt=void 0}var n=t.prototype;return n.Pgt=function(t){var n=t.zgt(),i=n.lT,r=n.I_t;i===SQ&&(i=i<<16|t.zgt().lT);return i>=0&&i<=31?this.Bgt(i,r):i>=128&&i<=159?this.Ugt(t,i,r):(i>=4096&&i<=4127?this.Qgt(t,255&i):i>=4224&&i<=4255?this.Fgt(t,255&i):i>=32&&i<=127?this.Ygt(i):i>=160&&i<=255?this.Ggt(i):i>=4128&&i<=4223?this.Vgt(255&i):i>=4256&&i<=4351&&this.Wgt(255&i),null)},n.Ygt=function(t){this.Hgt&&(127!==t?this.Hgt._gt(String.fromCharCode(t)):this.Hgt._gt("\u266a"))},n.Ggt=function(t){this.Hgt&&this.Hgt._gt(String.fromCharCode(t))},n.Vgt=function(t){if(this.Hgt)if(void 0!==LQ[t]){var n=LQ[t];this.Hgt._gt(n)}else this.Hgt._gt("_")},n.Wgt=function(t){this.Hgt&&(160===t?this.Hgt._gt("[CC]"):this.Hgt._gt("_"))},n.Bgt=function(t,n){if(!this.Hgt)return null;var i=this.Hgt,r=null;switch(t){case NQ:i.vgt();break;case IQ:i.mgt()&&(r=i.zft(n,this.Xgt)),i.Agt();break;case EQ:i.mgt()&&(r=i.zft(n,this.Xgt)),i.ygt();break;case DQ:i.mgt()&&(r=i.zft(n,this.Xgt)),i.lgt(),i.bgt(0,0)}return r},n.Ugt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Zgt(r)}else{if(136===n){var e=t.zgt().lT;return this.qgt(e,i)}if(137===n){var u=t.zgt().lT;this.Kgt(u,i)}else{if(138===n){var s=t.zgt().lT;return this.Jgt(s,i)}if(139===n){var o=t.zgt().lT;return this.$gt(o,i)}if(140===n){var a=t.zgt().lT;return this.twt(a,i)}if(143===n)return this.tr(i);if(144===n)this.iwt(t);else if(145===n)this.ewt(t);else if(146===n)this.bgt(t);else if(151===n)this.swt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.ngt(t,c,i)}}}return null},n.Qgt=function(t,n){n>=8&&n<=15?t.Ny(1):n>=16&&n<=23?t.Ny(2):n>=24&&n<=31&&t.Ny(3)},n.Fgt=function(t,n){n>=128&&n<=135?t.Ny(4):n>=136&&n<=143&&t.Ny(5)},n.Zgt=function(t){this.nwt[t]&&(this.Hgt=this.nwt[t])},n.rwt=function(t){var n;return zt(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.nwt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.qgt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()&&(i=s.zft(n,this.Xgt)),s.lgt()}return i},n.Kgt=function(t,n){for(var i=0,r=this.rwt(t);i<r.length;i++){var e=r[i],u=this.nwt[e];u.mgt()||u.Mgt(n),u.Lgt()}},n.Jgt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()&&(i=s.zft(n,this.Xgt)),s.be()}return i},n.$gt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()?i=s.zft(n,this.Xgt):s.Mgt(n),s.wh()}return i},n.twt=function(t,n){for(var i=null,r=0,e=this.rwt(t);r<e.length;r++){var u=e[r],s=this.nwt[u];s.mgt()&&(i=s.zft(n,this.Xgt)),this.nwt[u]=void 0}return i},n.tr=function(t){var n=this.twt(255,t);return this.kL(),n},n.kL=function(){this.Hgt=void 0,this.nwt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.iwt=function(t){t.Ny(1);var n=t.zgt().lT;if(this.Hgt){var i=(128&n)>0,r=(64&n)>0;this.Hgt.Igt(i),this.Hgt.Ngt(r)}},n.ewt=function(t){var n=t.zgt().lT,i=t.zgt().lT;if(t.Ny(1),this.Hgt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.owt(u,e,r),h=this.owt(a,o,s);this.Hgt.Sgt(c),this.Hgt.Tgt(h)}},n.bgt=function(t){var n=t.zgt().lT,i=t.zgt().lT;if(this.Hgt){var r=15&n,e=63&i;this.Hgt.bgt(r,e)}},n.swt=function(t){t.Ny(1),t.Ny(1);var n=t.zgt().lT;if(t.Ny(1),this.Hgt){var i=3&n;this.Hgt.Egt(i)}},n.ngt=function(t,n,i){var r=void 0!==this.nwt[n];if(!r){var e=new kQ(n);e.Mgt(i),this.nwt[n]=e}var u=t.zgt().lT,s=t.zgt().lT,o=t.zgt().lT,a=t.zgt().lT,c=t.zgt().lT,h=t.zgt().lT,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,g=1+(15&a),w=(240&a)>>4,y=1+(63&c);r&&0===(7&h)||this.nwt[n].Dgt(),this.nwt[n].ngt(f,v,l,w,d,g,y),this.Hgt=this.nwt[n]},n.owt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return CQ[r[t]<<2|r[n]<<1|r[i]]},t}(),NQ=8,DQ=12,IQ=13,EQ=14,SQ=16,LQ={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},CQ=["black","blue","green","cyan","red","magenta","yellow","white"];wt(),C();var jQ=function(){function t(){this.cwt=[],this.uwt=null,this.awt=0}var n=t.prototype;return n.hwt=function(t){if(t.Av===CU.Udt){var n=63&t.lT;return this.awt=2*n-1,void(this.uwt=[])}if(this.uwt&&(this.awt>0&&(this.uwt.push(t),this.awt--),0===this.awt)){var i=new xQ(this.uwt);this.cwt.push(i),this.uwt=null,this.awt=0}},n.lwt=function(){return this.cwt},n.dwt=function(){this.cwt=[]},n.kL=function(){this.cwt=[],this.uwt=[],this.awt=0},t}(),xQ=function(){function t(t){this._wt=0,this.gwt=t}var n=t.prototype;return n.fwt=function(){return this._wt<this.gwt.length},n.wwt=function(){return this._wt},n.zgt=function(){if(!this.fwt())throw new Fv(Qv.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.gwt[this._wt++]},n.Ny=function(t){if(this._wt+t>this.gwt.length)throw new Fv(Qv.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this._wt+=t},t}(),OQ=function(){function t(){this.Iwt=!1,this.mwt=[],this.pwt=[],this.Awt=new jQ,this.vwt=0,this.Twt=Ju({CC1:new wQ(0,0),CC2:new wQ(0,1),CC3:new wQ(1,0),CC4:new wQ(1,1)}),this.Mwt=0,this.bwt=0,this.ywt=Ku(),this.tr()}var n=t.prototype;return n.kL=function(){this.vwt=0,this.mwt=[],this.pwt=[],this.Awt.kL(),this.tr(),this.ywt.forEach((function(t){t.kL()}))},n.tr=function(){this.Mwt=0,this.bwt=0,this.Twt.forEach((function(t){t.tr()}))},n.Swt=function(t,n){if(t.Vdt){var i=t.Hdt,r=t.Xdt,e=t.Av;e===CU.Odt||e===CU.jdt?this.mwt.push({I_t:n,Av:e,F_t:i,N_t:r,Nwt:this.mwt.length}):this.Iwt&&(this.pwt.push({I_t:n,Av:e,lT:i,Nwt:this.pwt.length}),this.pwt.push({I_t:n,Av:CU.zdt,lT:r,Nwt:this.pwt.length}))}},n.uY=function(){var t=[];this.mwt.sort((function(t,n){return t.I_t-n.I_t||t.Nwt-n.Nwt})),this.pwt.sort((function(t,n){return t.I_t-n.I_t||t.Nwt-n.Nwt}));for(var n=0,i=this.mwt;n<i.length;n++){var r=i[n],e=this.Dwt(r);e&&t.push(e)}for(var u=0,s=this.pwt;u<s.length;u++){var o=s[u];this.Awt.hwt(o)}for(var a=this.Awt.lwt(),c=0;c<a.length;c++){var h,f=a[c],v=this.Ewt(f);(h=t).push.apply(h,Lt(v))}return this.Awt.dwt(),this.mwt=[],this.pwt=[],t},n.Dwt=function(t){var n=t.Av;if(wQ.Z_t(t.F_t)){var i=t.F_t>>3&1;0===n?this.Mwt=i:this.bwt=i}var r="CC"+(n<<1|(n?this.bwt:this.Mwt)+1),e=this.Twt.get(r);return 255===t.F_t&&255===t.N_t||!t.F_t&&!t.N_t||!this.kwt(t.F_t)||!this.kwt(t.N_t)?(++this.vwt>=45&&this.tr(),null):(this.vwt=0,t.F_t&=127,t.N_t&=127,t.F_t||t.N_t?wQ.Z_t(t.F_t)?e.Q_t(t):e.B_t(t.I_t,t.F_t,t.N_t):null)},n.Ewt=function(t){var n=[];try{for(;t.fwt();){var i=t.zgt().lT,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.zgt().lT;if(0!==r){if(!this.ywt.has(r)){var u=new TQ(r);this.ywt.set(r,u)}for(var s=this.ywt.get(r),o=t.wwt();t.wwt()-o<e;){var a=s.Pgt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof Fv&&t.code===Qv.SUBTITLE_PARSE_ERROR))throw t}return n},n.kwt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();wt(),C(),Mt();var zQ=function(t){function n(n,i){var r;return(r=t.call(this,"Lwt")||this).Fft=n,r.yS=i,r}return kt(n,t),n}(Jo),RQ=Km.$N(.1),BQ=function(t){function n(){var n;return(n=t.call(this)||this).Cwt=new OQ,n}kt(n,t);var i=n.prototype;return i.xwt=function(t,n){this.Cwt.Swt(t,n)},i.uY=function(){for(var t=this.Cwt.uY(),n=0;n<t.length;n++){var i=t[n];this.Co(new zQ(i.Fft,i.yS))}},i.tr=function(){this.Cwt.kL()},i.gn=function(){this.Vo(),this.Cwt.kL()},n}(Xo),PQ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zwt=[],n}kt(n,t);var i=n.prototype;return i.Owt=function(t,n,i,r){var e=this.Rwt(t,r);this.Pwt(e,n,i),this.uY()},i.Rwt=function(t,n){var i,r=t.slice().sort(mz),e=this.zwt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].y8,s=e[e.length-1].y8,o=r[0].y8,a=e[0].Lht===r[0].Lht;if(s.uN(o).oN().rN(Km.$N(2.5*n))&&a)i=e.concat(r).sort(mz);else if(o.iN(u)){for(var c=0;c<e.length&&e[c].y8.rN(o);)c++;for(var h=!1,f=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)UQ(e[v],r[d])?h=!0:f=!0;var l=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(mz):l?i=e.slice(0,c).concat(r):(i=r,g&&this.tr())}else i=r,this.tr();return i},i.Pwt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.y8.JS();if(!i&&n-u<RQ.JS())return void(this.zwt=t.slice(r));this.xwt(e,u)}this.zwt=[]},n}(BQ);function UQ(t,n){return t.y8.QS(n.y8)&&t.Av===n.Av&&t.Hdt===n.Hdt&&t.Xdt===n.Xdt}var QQ=function(t){function n(n){var i;return(i=t.call(this)||this).Gwt=void 0,i.Wwt=NaN,i.Hwt=NaN,i.Zwt=function(t){for(var n=i.Qwt({M8:t.Fft,b8:""}),r=t.yS,e=0,u=n.L.Rw;e<u.length;e++){var s=u[e];r.MS<s.MS&&r.bS>s.MS?r.bS=s.MS:r.MS>s.MS&&s.bS>r.MS?s.bS=r.MS:r.MS===s.MS&&(r.bS=s.bS)}n.lE(r)},i.oE=n,i.Uwt=Ku(),i.Xwt=new PQ,i.Xwt.yn("Lwt",i.Zwt),i}kt(n,t);var i=n.prototype;return i.Bwt=function(t){return this.Uwt.get(t)},i.Qwt=function(t){var n=this.Uwt.get(t.M8);return n||(n=this.Fwt(t),this.Uwt.set(t.M8,n)),n},i.Fwt=function(t){var n,i=[IA.Jw],r=function(t){if(t!==QU)for(var n=t.toLowerCase(),i=0;i<YU.length;i++){var r=YU[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.b8),e=r?r.l:"";t.Ywt&&(e="easy "+e,i.push(IA.hv)),n=t.kh?"CC "+t.kh:e?"CC "+e:"CC"+t.M8;var u=this.oE.rE(C_.sD,n,n,t.b8,!1,cm.CEA608,void 0,i);return this.tt(u),u},i.Grt=function(t){var n=i_.Wy(kc(t));this.Gwt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=XU(r),u=r.wM.IM.kM.xM.OM,s=ro(u,(function(t){return t.Av===rp.cA}));if(!s){var o=u.filter((function(t){return t.Av===rp.EA})),a=ro(o,(function(t){var n;return(null==(n=t.Lb)?void 0:n.Av)===rp.cA}));a&&(s=a.Lb)}if(s){var c=uC(kc(s.mb.ly),new Ec),h=s.Ab;return Xu({},e,{AM:r.zy.AM,mb:Ic(s.mb.ly),ji:s.ji,Ti:s.Ti,Fb:h&&h.Fb,Qb:h&&h.Qb,A$:c.JK,Vwt:c.$K,y$:c.tJ,eJ:c.eJ[0],sJ:c.sJ[0]})}}}(ro(n,ZU))},i.elt=function(t,n,i,r,e,u){var s;if(this.Gwt&&(A(this.Wwt)||!Pi(this.Wwt,n,1e-5))){A(this.Hwt)||Pi(this.Hwt,n,.1)||this.Xwt.tr();for(var o,a=function(t,n,i,r,e){for(var u=function(n){var r=o[n],u=ro(r.Z,(function(t){return t.zy.AM===i.AM}));if(!u)return"continue";for(var c,h=u.zy.Vb||0,f=u.zy.Wb||0,v=u.eT?u.eT.eT:xi.ZERO,d=r.qb+(null!=(c=u.zy.sT)?c:xi.ZERO).toNumber(),l=0,g=u.iT;l<g.length;l++)for(var w=g[l],y=d+(w.qb||0),A=0,m=w.aT;A<m.length;A++){var p=m[A],_=p.By||f,k=new aC;k.vJ(t,y,y+_);var M=Km.fN(v,i.Jdt);k.kI=e(p,r,i,M,Nc(t,y,y+_)),s.push(k),y+=_,v=v.add(p.ct||h||a)}},s=[],o=n.filter(FU),a=r(i),c=0;c<o.length;c++)u(c);return s}(t,i_.Wy(kc(t)),this.Gwt,GU,WU),c=null!=(o=null==(s=po(a,(function(t){return t.kI.ct})))?void 0:s.kI.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.kI.hft&&(r=n).push.apply(r,Lt(e.kI.hft)),delete e.kI.hft}for(var u=0;u<n.length;u+=1)n[u].Kb=u;return n}(a),f=Km.$N(r),v=[],d=0;d<h.length;d++){var l=h[d];v.push(Xu({},l,{Lht:e,y8:l.Ydt.nS(f)}))}this.Xwt.Owt(v,i,u,c),this.Wwt=n,this.Hwt=i}},i.tr=function(){var n=this;return this.Xwt.tr(),this.Uwt.forEach((function(t){t.gn(),n.it(t),n.oE.fE(t)})),this.Uwt.clear(),this.Gwt=void 0,this.Wwt=NaN,this.Hwt=NaN,t.prototype.tr.call(this)},i.gn=function(){return this.Xwt.fn("Lwt",this.Zwt),this.Xwt.gn(),t.prototype.gn.call(this)},n}(K_);wt(),C(),wt(),C(),Ft();var YQ=/(.*)=(.*)/,GQ=/(.*):(.*)/;function FQ(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(YQ);if(e){for(var u=Gt(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(GQ)){var v=Gt(f.match(GQ),3),d=v[1],l=v[2];switch(d){case"lang":o=l;break;case"er":a=Boolean(Number(l))}}}n.push({M8:Number(s),b8:o,Ywt:a})}}return n}var VQ={1:1,2:3,3:2,4:4},WQ="urn:scte:dash:cc:cea-608:2015",XQ="urn:scte:dash:cc:cea-708:2015";wt(),C(),Mt(),wt(),C(),Mt();var ZQ=function(t){function n(n,i,r){var e;return(e=t.call(this,cA.xw)||this).Lht=n,e.xut=i,e.qwt=r,e}return kt(n,t),n.prototype.fa=function(){return new HQ(this.Lht&&this.Lht.va)},n}(iA),HQ=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return kt(n,t),n}(Jo),KQ=[dd.jh,uk.Nw,dd.fm],JQ=function(t){function n(n,i){var r;return(r=t.call(this)||this).Jwt=function(t){var n=r.$wt,i=r.Kwt(t.currentTime)||r.mdt.Uht;i&&n!==i&&(r.$wt=i,i.Lht&&r.Co(new ZQ(i.Lht,null==i?void 0:i.va,null==n?void 0:n.va)))},r.Fm=n,r.Fm.yn(KQ,r.Jwt),r.mdt=i,r}kt(n,t);var i=n.prototype;return i.Kwt=function(t){for(var n=this.mdt.Ght,i=0,r=n.Lt.Bot;i<r.length;i++){var e=r[i];if(n.tct.qut(t,e))return e}},i.gn=function(){this.Vo(),this.Fm.fn(KQ,this.Jwt)},n}(Xo);function qQ(t,n,i){var r=new Xp(kc(t),new Ec),e=Jp.Ry(r,rp.Kp);if(e){var u=Jp.Ey(e.ly),s=ro(u,(function(t){return t.Av===rp.$p})),o=ro(u,(function(t){return t.Av===rp.zA}));if(s){var a=Jp.Ry(s.ly,rp.iA);if(a){var c=Jp.Ry(a.ly,rp.nA);if(c){var h=Jp.Ry(c.ly,rp.rA);if(h){var f=Jp.Ey(h.ly),v=ro(f,(function(t){return t.Av===rp.oA}));if(v){var d=Jp.Yy(v.ly,rp.oA,!1),l=new Xp(kc(d.ly),new Ec);l.Ny(4);for(var g=Jp.Ey(l),w=[],y=0;y<g.length;y++){var A=g[y];if(A.Av===rp.DA||A.Av===rp.EA)return;A.Av===rp.cA?w.push({tvt:A,ivt:rp.EA}):A.Av===rp.yA&&w.push({tvt:A,ivt:rp.DA})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var p=Dc(t),_=ro(u,(function(t){return t.Av===rp.aA})),k=_?Jp.Ry(_.ly,rp.uA):void 0,M=k?function(t){var n=t.ly.$A();return n.Ny(4),n.Ny(4),n.vy()}(k):1,b=ro(f,(function(t){return t.Av===rp.hA}));b&&function(t,n,i){var r=nY(kc(t),n),e=Jp.jy(r,new Ec),u=e.ly;u.Ny(4);for(var s=u.vy(),o=0;o<s;o++){u.Ny(4),u.Ny(4);var a=u._y.$A(),c=u.vy();Ja(u.ly,a,c+i)}}(p,b,w.length),k&&function(t,n,i){var r=nY(kc(t),n),e=Jp.jy(r,new Ec),u=e.ly;u.Ny(4),u.Ny(4),Ja(u.ly,u._y,i)}(p,k,1),p=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=$Q(e,n,new m(s))}return e}(p,e,o,n);for(var T=[e,s,a,c,h,v],N=w.length-1;N>=0;N--){var D=w[N];p=tY(p,D.tvt,v,T,D.ivt,i)}return{evt:p,svt:{nvt:w.length,Gb:M}}}}}}}}}}function $Q(t,n,i){var r=Ma(t,i,n.ly.ly.byteOffset+n.ly.ly.byteLength);return iY(nY(kc(r),n),i.byteLength),r}function tY(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.ly.ly,e=oY(),u=new m(r.byteLength+e.byteLength),s=kc(u);u.set(Mc(r),0),iY(s,e.byteLength),uc(s,new Ec(hY),n),u.set(e,r.byteLength),uc(s,new Ec(r.byteLength+aY),t.Av),i&&Fa(s,new Ec(r.byteLength+cY),i);return u}(n,e,u),o=Ma(t,s,n.ly.ly.byteOffset),a=kc(o);!function(t,n){var i=Jp.jy(t,new Ec),r=Jp.Yy(i.ly,rp.oA,!1),e=kc(r.ly),u=e.getUint32(0);e.setUint32(0,u+n)}(nY(a,i),1);for(var c=0;c<r.length;c++){iY(nY(a,r[c]),s.byteLength)}return o}function nY(t,n){var i=n.ly.ly.byteOffset;return _c(t,i,i+n.ly.ly.byteLength)}function iY(t,n){var i=new Ec,r=Ka(t,i);if(0===r);else if(1===r){i.KA(4);var e=qa(t,i.$A());$a(t,i,e.add(n))}else i.JA(0),Ja(t,i,r+n)}wt(),C(),Mt();var rY=function(t){function n(n){var i;return(i=t.call(this)||this).avt=[],i.ovt=n,i}kt(n,t);var i=n.prototype;return i.start=function(t){this.wZ=t},i.transform=function(t){this.Yq(t),this.rvt()},i.flush=function(){this.Vq(),this.rvt()},i.$q=function(t){return t===rp.kA},i.iK=function(t){var n=Dc(Mc(t.ly.ly)),i=Jp.jy(kc(n),new Ec);n=eY(n,i,this.ovt),this.avt.push(n)},i.sK=function(t){this.avt.push(t)},i.rvt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new m(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new m(r,e,u)),n}(this.avt);t<n.length;t++){var i=n[t];this.wZ.enqueue(i)}lo(this.avt)},n}(OL);function eY(t,n,i){for(var r=t,e=Jp.Ey(n.ly),u=e.length-1;u>=0;u--){var s=e[u];s.Av===rp.xA&&(r=uY(r,s,n,i))}return r}function uY(t,n,i,r){var e=nY(kc(t),n),u=Jp.jy(e,new Ec),s=Jp.Ey(u.ly),o=ro(s,(function(t){return t.Av===rp.CA}));if(!o)return t;var a=o.ly,c=a._y.$A(),h=a.vy(),f=n_(h).flags;a.Ny(4),f.ey(sp.BASE_DATA_OFFSET_PRESENT)&&a.Ny(8);var v=a._y.$A();if(f.ey(sp.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=Ka(a.ly,v);return Ja(a.ly,a._y,d+r.nvt),t}Ja(a.ly,c,h|sp.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new m(4);kc(l).setUint32(0,r.Gb+r.nvt);for(var g=a.ly.byteOffset+v.Ku,w=0,y=s.filter((function(t){return t.Av===rp.OA}));w<y.length;w++){sY(y[w],l.byteLength)}for(var A=0,p=[o,n,i];A<p.length;A++){var _=p[A];iY(nY(kc(t),_),l.byteLength)}return Ma(t,l,g)}function sY(t,n){var i=t.ly,r=n_(i.vy()).flags;if(i.Ny(4),r.ey(op.DATA_OFFSET_PRESENT)){var e=i.$A().vy();Ja(i.ly,i._y,e+n)}}var oY=$n((function(){return new m([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),aY=16,cY=64,hY=4,fY=[f_.ha,dd.nm,dd.hm,dd.lm,dd.Tv],vY=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var d;return(d=t.call(this)||this).Iot=void 0,d.mdt=void 0,d.Rvt=!1,d.dE=new So,d.Cvt=void 0,d.dvt=void 0,d.xrt=void 0,d.qct=new fU,d.Mvt=void 0,d.yvt=void 0,d.uvt=new dT([]),d.vvt=function(){!d.eat()&&d.Gut()&&d._vt.vvt()},d.tdt=function(t){d.Iot.tdt(t),d.Co(new xU(t.xut,t.qwt))},d.zvt=function(t){d.Yvt(t)},d.uS=function(){var t=SU;return SU+=1,t}(),d.j0=n,d.aE=e,d.wU=u,d._vt=i,d.Fm=r,d.rut=s,d.oE=o,d.Avt=a,d.Zct=c,d.Yct=c?NN(n,c):void 0,d.Mlt=h,d.jvt=f,d.Glt=v,d}kt(n,t);var i=n.prototype;return i.gvt=function(){var t;return null==(t=this.Iot)?void 0:t.Out.bct.jn},i.eat=function(){return void 0!==this.mdt&&this.mdt.eat},i.Gut=function(){if(void 0===this.dvt)return!1;var t=this.lvt().PB(),n=t.WB(this.dvt);return!(n<0)&&t.Cn(n)!==this.dvt},i.x0=function(){var t=this._vt.Vut,n=this.lvt().Sn(t);this.dvt=n.U>0?n.jn(n.U-1):0;var i=t.jn(0);isFinite(i)&&this.dvt<i&&this.mq(this.dvt,i),this.vvt()},i.elt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o;return zt(this,(function(a){switch(a.label){case 0:return u=i.Wrt.pI,s=e.mvt(t,n,i,u,r),[4,Yo([e.pvt(t,n,i,u,r),s])];case 1:return o=Gt.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.mvt=function(t,n,i,r,e){var u=this;return xt((function(){var s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:return pv(i.aG)?t.Av!==pL.DD?[3,2]:[4,t.ly.eut().GR(e)]:[2];case 1:return o=h.sent(),s=new m(o),[3,3];case 2:s=new m(t.ly.bot),h.label=3;case 3:return a=[],void 0!==u.Avt&&(u.Avt.elt(s,n.MS,r),a.push(u.Avt)),void 0!==u.yvt&&(c=i.Mct(n),u.yvt.elt(s,n.MS,n.bS,r,i.Lht,c),a.push(u.yvt)),H_(u.O_,a),[2]}}))}))()},i.pvt=function(t,n,i,r,e){var u=this;return xt((function(){var s,o,a,c,h,f,v,d;return zt(this,(function(l){switch(l.label){case 0:return jo(e),t.Av===pL.DD?(a=t.ly.VW,u.Mvt&&(a=function(t,n){return t.pipeThrough(new cw(new rY(n)))}(a,u.Mvt)),o={Av:pL.DD,ly:a}):(c=new m(t.ly.bot),u.Mvt&&(c=function(t,n){for(var i=Dc(t),r=new Xp(kc(i),new Ec),e=Jp.Ey(r),u=e.length-1;u>=0;u--){var s=e[u];s.Av===rp.kA&&(i=eY(i,s,n))}return i}(c,u.Mvt)),o={Av:pL.jZ,ly:c}),h={F7:n.MS,ct:n.ct,pI:r,y$:null==(s=i.Lht)?void 0:s.Xw},f=u.xrt.O_,[4,u.bvt()];case 1:return l.sent(),[4,u.xrt.V$(o,h,e)];case 2:return l.sent(),v=u.xrt.O_,d=u.xrt.R0,[2,dY(f,v,d,n)]}}))}))()},i.Grt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:return jo(i),r.yvt&&r.yvt.Grt(new m(t.bot)),u=new m(t.bot),r.Tvt(n)&&(s=r._vt.Svt,o=[],s&&(o=wo(s.Nvt,(function(t){return t.KP})),a=s.Ivt._R?OE(s.Ivt._R):void 0),(c=qQ(u,o,a))?(r.Mvt=c.svt,u=c.evt):r.Mvt=void 0),h={Av:pL.jZ,ly:u},[4,r.bvt()];case 1:return f.sent(),[4,r.xrt.X$(h,{y$:null==(e=n.Lht)?void 0:e.Xw},i)];case 2:return f.sent(),[2]}}))}))()},i.nlt=function(t,n,i){return this.xrt.rS(t,n,i)},i.mq=function(t,n){this.xrt.B0(t,n)},i.pq=function(t,n){this.xrt.U0(t,n)},i.lvt=function(){return this.xrt?this.xrt.O_:BD.oU()},i.cvt=function(){return this.xrt?this.xrt.R0:BD.oU()},i.Dvt=function(){return this.xrt?this.xrt.rS(0,1/0):K.resolve()},i.Evt=function(){return this.xrt&&(this.xrt.fn(wL.CZ,this.Ds),this.xrt=void 0),K.resolve()},i.kvt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return r=GP.Jct(null!=(i=t.rdt)?i:t.Bot,n.Yct),e=r.aG,n.xrt||(n.xrt=n._vt.Lvt(e),n.xrt.yn(wL.CZ,n.Ds),n.qct=new hU(n.xrt)),[4,n.bvt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=new So;n&&i.w_(n),this.dE.g_(),this.dE=i;var r=this.xvt(t,this.Cvt,i.f_);return this.Cvt=r,r},i.Ovt=function(t){if(!fo(this.jvt,cm.CEA608)){var n=t.Out.Wlt;if(function(t){return t.some((function(t){return t.irt===WQ||t.irt===XQ}))}(n)){this.yvt=new QQ(this.oE);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.irt===WQ)for(var e=kz(r.lT),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.irt===XQ)for(var o=FQ(r.lT),a=0;a<o.length;a++){var c=o[a];if(c.M8<=4){var h=VQ[c.M8];n.push(Xu({},c,{M8:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.yvt.Qwt(e)}this.uvt.tz(this.yvt.Z)}}},i.xvt=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return jo(i),n?[4,n.catch(Hn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Iot===t&&r.Rvt?[2]:[4,r.Pvt()];case 3:return e.sent(),jo(i),[4,r.Dvt()];case 4:return e.sent(),jo(i),t?[4,r.hE(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.Pvt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return n=t.Iot,t.Iot=void 0,t.Rvt=!1,t.dvt=void 0,n&&(n.fn(cA.Ow,t.zvt),n.ddt(!1),n.fn(cA.NO_QUALITY,t.Ds)),t.Bvt&&(t.Bvt.gn(),t.Bvt=void 0),t.mdt?[4,t.mdt.gn()]:[3,2];case 1:i.sent(),t.mdt=void 0,i.label=2;case 2:return t.yvt?(t.uvt.sz(t.yvt.Z),[4,t.yvt.gn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.hE=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.Iot=t,n.Ovt(t),t.yn(cA.Ow,n.zvt),t.yn(cA.NO_QUALITY,n.Ds),[4,n.kvt(t)];case 1:return i.sent(),n.mdt=n.Uvt(t),n.mdt.yn(fY,n.Ds),n.mdt.yn("xht",n.vvt),n.mdt.Wht=t.rdt,n.Bvt=new JQ(n.Fm,n.mdt),n.Bvt.yn(cA.xw,n.tdt),t.ddt(!0),n.Rvt=!0,[2]}}))}))()},i.Uvt=function(t){return new aU(this,this.Fm,this.Fm,this.aE,this.wU,this.Glt,this.rut,this.Zct,this.Yct,this.qct,this.Mlt).G7(t)},i.tr=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.dE.g_(),n.Cvt?[4,n.Cvt.catch(Hn)]:[3,2];case 1:i.sent(),n.Cvt=void 0,i.label=2;case 2:return[4,n.Pvt()];case 3:return i.sent(),t?[3,5]:[4,n.Dvt()];case 4:i.sent(),i.label=5;case 5:return[4,n.Evt()];case 6:return i.sent(),[2]}}))}))()},i.Qvt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Pvt()];case 1:return n.sent(),[2]}}))}))()},i.Fvt=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return(r=null==(i=n.mdt)?void 0:i.Ght.tct.Hut(t))&&r.U>0?[4,n.aat()]:[3,7];case 1:s.sent(),e=0,s.label=2;case 2:return e<r.U?[4,null==(u=n.xrt)?void 0:u.rS(r.Cn(e),r.jn(e))]:[3,5];case 3:s.sent(),s.label=4;case 4:return e++,[3,2];case 5:return[4,n.dat()];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))()},i.Yvt=function(t){var n=this,i=t.Lt.rdt;return void 0===i||i.some((function(t){return n.qct.FZ(t)}))?this.Gvt(t):void this.Co(new Jo("Vvt"))},i.Gvt=function(t){this.mdt&&this.Iot&&this.Iot===t.Lt&&(this.mdt.Wht=this.Iot.rdt)},i.aat=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.mdt?[4,n.mdt.aat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.dat=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.mdt?[4,n.mdt.dat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.wX=function(){var t=this.O_.sU;return this.wU.wX(t)},i.bvt=function(){var t=this._vt.Vut,n=g.max(0,t.Cn(0)-.1),i=t.jn(0)+.01;return this.xrt.u0(n,i)},i.Tvt=function(t){return!!pv(t.aG)&&(!!this._vt.j3||void 0!==this._vt.Svt)},i.gn=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:n.Vo(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.tr(t)];case 2:return i.sent(),[4,n.Qvt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},At(n,[{key:"Not",get:function(){return this.Iot}},{key:"o",get:function(){return this.uS}},{key:"O0",get:function(){return this.j0}},{key:"nt",get:function(){return this.uvt}},{key:"Adt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===zA.WA?r/i:n}(this.j0)}},{key:"pdt",get:function(){return 1/this.Adt}},{key:"Rt",get:function(){return Boolean(this.Iot&&this.Iot.Rt)}},{key:"wq",get:function(){var t=this.mdt?this.mdt.Ght.wq.Wut:BD.oU();return this.cvt().YB(t)}},{key:"O_",get:function(){var t=this.lvt(),n=this.dvt;return void 0!==n&&t.PB().gr(n)&&(t=t.YB(BD.nU(n))),t}},{key:"Qut",get:function(){return VB(this.lvt(),this.wq.YB(this.fvt)).FB(2*this.pdt)}},{key:"fvt",get:function(){var t=this.dvt;if(t&&isFinite(t)){var n=this._vt.jn;if(isFinite(n)&&t<n)return new BD([t,n],[!1,!0])}return BD.oU()}},{key:"Ig",get:function(){var t=this.Iot;if(!t)return BD.nU(0);var n=t.Out.ydt,i=t.Out.Mdt;if(void 0===i||void 0===n)return BD.nU(0);var r=i,e=n>=t.Out.bct.jn?g.max(n,this.jn):n;return e=g.max(r,e),BD.rU(r,e).PB()}},{key:"_z",get:function(){return this.Qut.Jm(this.U_)}},{key:"Vut",get:function(){return this._vt.Vut}},{key:"U_",get:function(){return this.Fm.U_}},{key:"Cn",get:function(){return this.Iot?this.Iot.Out.bct.Cn:NaN}},{key:"jn",get:function(){var t=this.gvt(),n=this.dvt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this._vt.Ti}},{key:"ji",get:function(){return this._vt.ji}},{key:"wvt",get:function(){return this.dvt}}]),n}(Xo);function dY(t,n,i,r){var e,u,s=n.VB(t.PB());return 0===(s=s.VB(i.VB(n))).U?u=e=r.bS:(e=s.Cn(0),u=s.jn(0)),{Llt:e,xlt:u}}var lY=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d){var l;return(l=t.call(this)||this).YT=new RA,l.VT=new RA,l.fmt=[],l.lmt=new So,l.amt=!0,l.kdt=[],l.Cvt=void 0,l.imt=Jn((function(){l.Co(new DL(l.U_))}),350),l.gmt=function(t){var n=t.ymt.Not;if(n)for(var i=0,r=l.fmt;i<r.length;i++){var e,u=r[i];u.Not&&u.Not!==n&&u.Av===(null==(e=n.idt)?void 0:e.Av)&&(u.fn("_mt",l.gmt),u.Not.Rt=!1,u.yn("_mt",l.gmt))}l.Ds(t)},l.pmt=function(t){Co(t)||l.Co(new uT(new Fv(Qv.MEDIA_LOAD_ERROR,t.message,t)))},l.umt=function(t){var n=t.d3;n&&l.Amt(n)},l.cmt=function(t){var n=t.d3;if(n)for(var i=0,r=l.mmt;i<r.length;i++)for(var e=r[i],u=0,s=e.Out.Bot;u<s.length;u++){var o=s[u],a=(o.trt||[]).some((function(t){return t._R&&pa(Tc(n),OE(t._R))}));o.ldt&&a&&(o.ldt=!1,o.Lht&&e.Jlt(o.Lht))}},l.aE=r,l.wU=e,l.rut=u,l.Fm=n,l.cS=qA(),l.fmt=[],l.Zvt=o,l.smt=a,l.oE=h,l.qvt=new TU(n,r,e,u,h),l.Dl=new dT([l.qvt.nt]),l.Mlt=v,l.jvt=d,l.Zvt.yn(FB.Dht,l.Ds),l.vu=c,l._0=i,l.Glt=s.lowLatency,l.Avt=f,l.Jvt=s.abr,l.Fm.yn(dd.gm,l.umt),l.Fm.yn(dd.Iv,l.cmt),l}kt(n,t);var i=n.prototype;return i.oX=function(t,n){return this.Wvt(t,n)},i.Wvt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.Hvt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.Zvt.Xvt,a.label=2;case 2:return u<s.length?(o=s[u]).Av!==zA.Ru?[3,5]:o.Bot&&0!==o.Bot.length?[3,3]:(i.Co(new IU("No supported representation found in the AdaptationSet with mimetype : "+o.Av)),[3,5]):[3,6];case 3:return[4,i.qvt.hE(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.Kvt=function(t){return new vY(t,this,this.Fm,this.aE,this.wU,this.rut,this.oE,this.Avt,this.Jvt,this.Mlt,this.jvt,this.Glt)},i.eat=function(){return this.kdt.some((function(t){return t.eat()}))},i.Gut=function(){return 0!==this.kdt.length&&this.kdt.every((function(t){return t.Gut()}))},i.vvt=function(){this.$vt()&&this.Co(new EU)},i.Lvt=function(t){if(Ls(t,"audio")){if(this._0.I1)return this._0.I1}else if(Ls(t,"video")&&this._0.D1)return this._0.D1;throw new v("Cannot allocate source buffer for mime type "+t)},i.tmt=function(t){t.yn([f_.ha,dd.Kv,dd.nm,dd.hm,dd.lm,dd.Tv],this.Ds),t.yn(wL.CZ,this.imt),t.yn("Vvt",this.Ds)},i.emt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,K.all(n.kdt.map((function(n){return n.gn(t)})))];case 1:return i.sent(),lo(n.kdt),[2]}}))}))()},i.$vt=function(){if(this.eat())return!1;if(!this.Gut())return!1;var t=this.O_;if(0===t.U)return!1;var n=this.U_;if(this.nmt)return t.Cn(t.U-1)<=n;var i=t.Sn(this.Vut);if(0===i.U)return!0;var r=i.Cn(i.U-1),e=i.jn(i.U-1)+.1;return r<=n&&n<=e},i.aat=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.amt?[2]:(n.amt=!0,[4,K.all(n.kdt.map((function(n){return n.aat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.dat=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.amt?(n.amt=!1,[4,K.all(n.kdt.map((function(n){return n.dat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.gn=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.Fm.fn(dd.gm,n.umt),n.Fm.fn(dd.Iv,n.cmt),n.Vo(),n.Zvt.fn(FB.Dht,n.Ds),n.lmt.g_(),n.Cvt?[4,n.Cvt.catch(Hn)]:[3,2];case 1:i.sent(),n.Cvt=void 0,i.label=2;case 2:return[4,n.emt(t)];case 3:return i.sent(),[4,n.qvt.gn()];case 4:return i.sent(),n.YT.gn(),n.VT.gn(),n.Dl.gn(),n.dmt(),[2]}}))}))()},i.Hvt=function(t){this.fmt.push(t),t.yn("_mt",this.gmt);for(var n=t.Av===zA.WA?this.YT:this.VT,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.wmt=function(t){for(var n=t.Av===zA.WA?this.YT:this.VT,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.gn()}t.gn(),ao(this.fmt,t)},i.dmt=function(){for(var t=this.fmt.length-1;t>=0;t--)this.wmt(this.fmt[t])},i.$n=function(t,n){return this.lmt.g_(),this.lmt=new So,n&&this.lmt.w_(n),this.Cvt=Ro(this.nst(t,this.Cvt,this.lmt.f_),this.lmt).catch(this.pmt),this.Cvt},i.nst=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v;return zt(this,(function(d){switch(d.label){case 0:return n?[4,n.catch(Hn)]:[3,2];case 1:d.sent(),d.label=2;case 2:jo(i),e=[],u=r.kdt.slice(),s=t.slice(),lo(r.kdt),o=0,d.label=3;case 3:return o<u.length?(a=u[o],(c=a.Not)&&fo(s,c)?(r.kdt.push(a),e.push(a.$n(c,i)),ao(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Dl.sz(a.nt),[4,a.gn()];case 5:d.sent(),jo(i),d.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.Kvt(f.Zht),r.Dl.tz(v.nt),r.kdt.push(v),r.tmt(v),e.push(v.$n(f,i));return[4,K.all(e)];case 8:return d.sent(),[2]}}))}))()},i.GZ=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return r._0===i?[3,2]:(r._0=i,[4,r.emt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.smt=n,[2]}}))}))()},i.Amt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:i=function(i,r){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:e=function(i,r){var e,s,o,a;return zt(this,(function(c){switch(c.label){case 0:if(e=r[i],s=e.trt||[],!s.some((function(n){return n._R&&pa(Tc(t),OE(n._R))}))||e.ldt)return[3,5];e.ldt=!0,e.Lht&&u.Zlt(e.Lht),o=0,a=n.kdt,c.label=1;case 1:return o<a.length?[4,a[o].Fvt(e)]:[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:n.Co(new Yx(new PA(Qv.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),c.label=5;case 5:return[2]}}))},u=r[i],s=0,o=u.Out.Bot,a.label=1;case 1:return s<o.length?[5,Rt(e(s,o))]:[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[2]}}))},r=0,e=n.mmt,u.label=1;case 1:return r<e.length?[5,Rt(i(r,e))]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},At(n,[{key:"Xw",get:function(){return this.cS}},{key:"ct",get:function(){return this.Fm.ct}},{key:"Rt",get:function(){return this.kdt.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){if(0===this.kdt.length)return BD.oU();for(var t=this.kdt.map((function(t){return t.O_})),n=BD.rU(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.Sn(r)}if(0===n.U)return n;if(this.Gut()){var e=n.Sn(this.Vut);if(0===e.U)return n;for(var u=e.jn(e.U-1),s=0,o=0,a=this.kdt;o<a.length;o++){var c=a[o];s=g.max(s,c.wvt)}u<=s&&(n=n.YB(new BD([u,s],[!0,!0])))}return n}},{key:"j3",get:function(){return this.Fm.j3}},{key:"U_",get:function(){return this.Fm.U_}},{key:"Svt",get:function(){return this.smt}},{key:"jn",get:function(){if(this.nmt){var t=this.ct;if(!A(t)&&t!==zi)return t}if(!this.kdt.length)return NaN;for(var n=0,i=0,r=this.kdt;i<r.length;i++){var e=r[i];n=g.max(n,e.jn)}return n}},{key:"nmt",get:function(){var t=this.Zvt.jlt;if(t.Av===NU.Sj)return!1;var n=t.omt;return 0!==n.length&&this.Zvt===n[n.length-1]}},{key:"Ig",get:function(){if(!this.kdt.length)return BD.oU();for(var t=new BD([0,1/0]),n=0,i=this.kdt;n<i.length;n++){var r=i[n];t=t.Sn(r.Ig)}if(t.U>0&&this.nmt&&isFinite(this.ct)){var e=this.ct,u=t.jn(t.U-1);e>u&&(t=t.YB(BD.rU(u,e).PB()))}return t}},{key:"yc",get:function(){return this.Zvt}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"ji",get:function(){return this.vu.ji}},{key:"Ti",get:function(){return this.vu.Ti}},{key:"_z",get:function(){var t=this.U_,n=this.O_,i=n.WB(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"Vut",get:function(){var t=this.Zvt.Cn,n=this.nmt?1/0:this.Zvt.jn;return BD.rU(t,n)}},{key:"hmt",get:function(){return this.amt}},{key:"vmt",get:function(){return this.fmt.map((function(t){return t.Not})).filter(zn)}},{key:"mmt",get:function(){return this.kdt.map((function(t){return t.Not})).filter(zn)}}]),n}(Xo);wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ft(),wt(),C(),mt();var gY,wY=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,yY=function(){function t(t){this.Mmt=t}var n=t.prototype;return n.bmt=function(){return this.Mmt},n.Tmt=function(){return 1e3*this.Mmt},t.Wy=function(n){var i=n.match(wY);if(!i)throw new v("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},At(t,[{key:"$dt",get:function(){return Km.$N(this.Mmt,1e3)}}]),t}();wt(),C(),function(t){t.Smt="progressive",t.Nmt="interlaced",t.jT="unknown"}(gY||(gY={})),wt(),C();var AY=function(){function t(t,n){this.Imt=t,this.Dmt=n}return t.prototype.JS=function(){return this.Imt/this.Dmt},t}(),mY=/^(?:true|false)$/i,pY=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function _Y(t){if(void 0!==t)return yY.Wy(t)}function kY(t){if(void 0!==t){var n=t.match(pY);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=Gt(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],d=i[10],l=i[11],w=("-"===r?-1:1)*Number(e),y=Number(u)-1,m=Number(s),p=Number(o),_=Number(a),k=Number(c),M=Number("0."+(h||"")),b=g.round(1e3*M);if(f)_-=("-"===f?-1:1)*(60*Number(d)+Number(l));var T=new Date(Date.UTC(w,y,m,p,_,k,b));if(A(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function MY(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[TY(n[1]),TY(n[2])]}}function bY(t){if(void 0!==t){if(!A(Number(t)))try{return xi.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function TY(t){if(void 0!==t){var n=Number(t);if(!A(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function NY(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!A(i)&&!A(r))return new AY(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function DY(t){if(void 0!==t){if(mY.test(t))return"true"===t.toLowerCase();if(!A(w(t)))return Boolean(w(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function IY(t){return{zu:t.PR,Emt:DY(t.$I("availabilityTimeComplete")),kmt:TY(t.$I("availabilityTimeOffset"))}}function EY(t){return t.map(IY)}function SY(t){var n,i=UY(t),r=function(t,n,i,r){var e=t.tD(i,n);return void 0===e&&(e=t.$I(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=o_(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=ba(e.PR)),!n){var u=o_(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=va(t.PR),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new m(u),o=new DataView(u),a=new Ec;Ja(o,a,e),Ja(o,a,1886614376),Ja(o,a,0),Fa(o,a,i),Ja(o,a,r),Fa(o,a,n),!1;return s.buffer}(u))}return{_R:r,Lmt:n,irt:i.irt,lT:i.lT}}function LY(t){return{xmt:t.$I("sourceURL"),Sat:MY(t.$I("range"))}}function CY(t,n){var i=t.$I("d"),r=t.$I("t"),e=TY(t.$I("r"));n.push({ct:i,MS:r,Cmt:e})}function jY(t){return{aut:t.$I("index"),Omt:MY(t.$I("indexRange")),wM:t.$I("media"),jmt:MY(t.$I("mediaRange"))}}function xY(t){var n=zY(t),i=function(t){var n=t.map(jY);return n.length>0?n:void 0}(t.XI("SegmentURL"));return Xu({},n,{Rmt:i,Pmt:t.$I("xlink:href"),zmt:t.$I("xlink:actuate")})}function OY(t){var n=DY(t.$I("availabilityTimeComplete")),i=TY(t.$I("availabilityTimeOffset")),r=MY(t.$I("indexRange")),e=DY(t.$I("indexRangeExact")),u=t.XI("Initialization");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.WR+" element can not have more than one Initialization element.");var s=1===u.length?LY(u[0]):void 0,o=bY(t.$I("presentationTimeOffset")),a=t.XI("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.WR+" element can not have more than one RepresentationIndex element.");return{Emt:n,kmt:i,Omt:r,Bmt:e,Umt:s,Qmt:o,Fmt:1===a.length?LY(a[0]):void 0,Ymt:_Y(t.$I("timeShiftBufferDepth")),cM:TY(t.$I("timescale"))}}function zY(t){var n=OY(t),i=t.XI("BitstreamSwitching"),r=i.length>0?LY(i[0]):void 0,e=TY(t.$I("duration")),u=t.XI("SegmentTimeline");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.WR+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.XI("S"),r=0;r<i.length;r++)CY(i[r],n);return n}(u[0]):void 0;return Xu({},n,{Gmt:r,ct:e,Wrt:s,Vmt:TY(t.$I("startNumber")),Wmt:TY(t.$I("endNumber"))})}function RY(t){return{Hmt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(TY)):1===n.length?n.map(TY)[0]:void 0}}(t.$I("audioSamplingRate")),$nt:t.$I("codecs"),Xmt:DY(t.$I("codingDependency")),trt:function(t){if(0!==t.length)return t.map(SY)}(t.XI("ContentProtection")),Zmt:function(t){return t.map(QY)}(t.XI("EssentialProperty")),qmt:function(t){return t.map(YY)}(t.XI("SupplementalProperty")),Adt:NY(t.$I("frameRate")),Ti:TY(t.$I("height")),Kmt:TY(t.$I("maxPlayoutRate")),Jmt:TY(t.$I("maximumSAPPeriod")),aG:t.$I("mimeType"),$mt:t.$I("profiles"),tpt:t.$I("sar"),ipt:function(t){switch(t){case gY.Smt:case gY.Nmt:case gY.jT:return t;default:return}}(t.$I("scanType")),ept:t.$I("segmentProfiles"),spt:TY(t.$I("startWithSAP")),ji:TY(t.$I("width"))}}function BY(t){var n=EY(t.XI("BaseURL")),i=t.XI("SegmentBase");if(i.length>1)throw new v("The provided MPEG-DASH document's "+t.qI+" element can not have more than one SegmentBase element.");var r=1===i.length?OY(i[0]):void 0,e=function(t){var n=t.map(xY);return n.length>0?n:void 0}(t.XI("SegmentList")),u=t.XI("SegmentTemplate");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.qI+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return Xu({},zY(t),{npt:t.$I("bitstreamSwitching"),rpt:t.$I("index"),opt:t.$I("initialization"),hpt:t.$I("media")})}(u[0]):void 0;return{upt:n,cpt:r,lpt:e,dpt:s}}function PY(t){var n=RY(t),i=BY(t),r=TY(t.$I("bandwidth")),e=t.$I("dependencyId"),u=t.$I("id"),s=t.$I("mediaStreamStructureId"),o=TY(t.$I("qualityRanking"));if(t.XI("SegmentBase").length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return Xu({},n,i,{GP:r,fpt:e,o:u,_pt:s,gpt:o})}function UY(t){return{irt:t.$I("schemeIdUri"),lT:t.$I("value")}}function QY(t){return UY(t)}function YY(t){return UY(t)}function GY(t){return UY(t)}function FY(t){return UY(t)}function VY(t){var n,i=RY(t),r=BY(t),e=function(t){return t.map(FY)}(t.XI("Accessibility")),u=DY(t.$I("bitstreamSwitching")),s=t.$I("contentType"),o=TY(t.$I("group")),a=TY(t.$I("id")),c=(null==(n=t.XI("Label")[0])?void 0:n.PR)||"",h=t.$I("lang"),f=TY(t.$I("maxBandwidth")),d=NY(t.$I("maxFrameRate")),l=TY(t.$I("maxHeight")),g=TY(t.$I("maxWidth")),w=TY(t.$I("minBandwidth")),y=NY(t.$I("minFrameRate")),A=TY(t.$I("minHeight")),m=TY(t.$I("minWidth")),p=t.$I("par"),_=function(t){return t.map(PY)}(t.XI("Representation"));if(0===_.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,M=function(t){return t.map(GY)}(t.XI("Role")),b=DY(t.$I("segmentAlignment"))||!1,T=TY(t.$I("selectionPriority")),N=T||1,D=DY(t.$I("subsegmentAlignment"))||!1;try{k=TY(t.$I("subsegmentStartsWithSAP"))}catch(t){}return Xu({},i,r,{Wlt:e,Gmt:u,Nz:s,idt:o,o:a,kh:c,gs:h,wpt:f,vpt:d,mpt:l,ppt:g,Apt:w,ypt:y,Mpt:A,bpt:m,Tpt:p,Bot:_,Sdt:M,Spt:b,uB:N,Npt:D,Ipt:k,Dpt:t.$I("xlink:actuate")||"onRequest",Ept:t.$I("xlink:href")})}function WY(t){var n=bY(t.$I("presentationTime"))||xi.ZERO,i=bY(t.$I("duration")),r=TY(t.$I("id")),e=function(t){for(var n=t.ZI,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].lT;return i}(t),u=t.PR;return{dT:n,ct:i,o:r,ZI:e,ly:""!==u.trim()?u:t.$I("messageData")||""}}function XY(t){return{Ept:t.$I("xlink:href"),Dpt:t.$I("xlink:actuate"),irt:t.$I("schemeIdUri"),lT:t.$I("value"),cM:TY(t.$I("timescale")),Qmt:bY(t.$I("presentationTimeOffset")),uG:t.XI("Event").map(WY)}}function ZY(t){var n=BY(t),i=t.XI("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return UY(t)}(i[0]):void 0,e=function(t){return t.map(VY)}(t.XI("AdaptationSet")),u=DY(t.$I("bitstreamSwitching")),s=_Y(t.$I("duration")),o=function(t){return t.map(XY)}(t.XI("EventStream")),a=t.$I("id"),c=_Y(t.$I("start")),h=(t.XI("Subset"),t.$I("xlink:href"));return Xu({},n,{kot:e,kpt:r,Gmt:u,ct:s,Lpt:o,o:a,Cn:c,Dpt:t.$I("xlink:actuate"),Ept:h})}function HY(t){var n=t.$I("schemeIdUri");if(n)return{irt:n,lT:t.$I("value")}}function KY(t,n){var i=kY(t.$I("availabilityEndTime")),r=kY(t.$I("availabilityStartTime")),e=EY(t.XI("BaseURL")),u=t.$I("id"),s=function(t){return t.map((function(t){return""+t.PR}))}(t.XI("Location")),o=_Y(t.$I("maxSegmentDuration")),a=_Y(t.$I("maxSubsegmentDuration")),c=_Y(t.$I("mediaPresentationDuration")),h=(t.XI("Metrics"),_Y(t.$I("minBufferTime")));if(!h)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=_Y(t.$I("minimumUpdatePeriod")),d=function(t){return t.map((function(t){return ZY(t)}))}(t.XI("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.$I("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var g=kY(t.$I("publishTime")),w=_Y(t.$I("suggestedPresentationDelay")),y=_Y(t.$I("timeShiftBufferDepth")),A=function(t){switch(t){case NU.Tj:case NU.Sj:return t;default:return}}(t.$I("type")),m=function(t){for(var n=[],i=0;i<t.length;i++){var r=HY(t[i]);r&&n.push(r)}return n}(t.XI("UTCTiming")),p=function(t){if(0===t.length)return;var n=t[0],i=n.XI("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=TY(n.$I("target"));if(void 0===i)return;var r=TY(n.$I("min")),e=TY(n.$I("max"));return{xpt:i,XN:r,HN:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=TY(n.$I("max")),r=TY(n.$I("min"));return{XN:r,HN:i}}(n.XI("PlaybackRate"));return{Cpt:r,gg:e}}(t.XI("ServiceDescription"));return{Opt:i,jpt:r,upt:e,o:u,Rpt:s,Ppt:n,zpt:o,Bpt:a,Upt:c,Qpt:h,Fpt:f,omt:d,$mt:l,Ypt:g,Gpt:w,Ymt:y,Av:A,Vpt:m,Wpt:p}}var JY=function(){function t(){}return t.prototype.Hpt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return KY(t,n)}(on.KI(t).JI,n)},t}();function qY(t){return{get bandwidth(){return t.GP},get codecs(){return t.$nt},get id(){return t.o},get uid(){return t.Xw},get name(){return t.kh},get averageBandwidth(){return t.Xpt},get label(){return t.kh},set label(n){t.kh=TA(n)},get available(){return t.snt},get score(){return t.Zpt},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}function $Y(t){return gA(qY(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.Adt},get firstFrame(){return t.qpt}})}function tG(t){return gA(qY(t),{get audioSamplingRate(){return t.Hmt}})}wt(),C(),mt(),wt(),C(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),Mt();var nG=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return kt(n,t),n}(Jo),iG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.GP=i,s.$nt=r,s.Jpt=u,s.Xw=nm(),s.lS=e||"",s.Kpt=!0,s}kt(n,t);var i=n.prototype;return i.bD=function(){this.Kpt=!1,this.Co(new nG(this.va))},i.MD=function(){this.Kpt=!0,this.Co(new nG(this.va))},At(n,[{key:"kh",get:function(){return this.lS},set:function(t){this.lS!==t&&(this.lS=t,this.Co(new nG(this.va)))}},{key:"Xpt",get:function(){}},{key:"snt",get:function(){return this.Kpt}},{key:"Zpt",get:function(){}}]),n}(Xo),rG=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).Adt=s,h.ji=o,h.Ti=a,h.qpt=c,h.Xa=void 0,h}return kt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=$Y(this)),this.Xa}}]),n}(iG),eG=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Hmt=s,o.Xa=void 0,o}return kt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=tG(this)),this.Xa}}]),n}(iG);wt(),C(),wt(),C(),mt(),Mt();var uG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eAt=function(t){n.Co(t)},n}return kt(n,t),At(n,[{key:"$pt",get:function(){var t=this.tAt();return null==t?void 0:t.Cn}},{key:"iAt",get:function(){var t=this.tAt();return null==t?void 0:t.jn}}]),n}(Xo),sG=function(t){function n(n,i){var r;if((r=t.call(this)||this).Xa=void 0,r.rAt=void 0,r.uAt=!1,r.cAt=!1,r.rat=n,r.sAt=i,r.sAt.yn(FB.Nht,r.eAt),r.Av===zA.VA){var e,u,s=null!=(u=null==(e=r.Adt)?void 0:e.JS())?u:NaN;r.hAt=new rG(r.o,r.GP,r.Vet,"","",s,r.ji,r.Ti)}else r.Av===zA.WA?r.hAt=new eG(r.o,r.GP,r.Vet,"","",r.Hmt):r.hAt=void 0;return r}kt(n,t);var i=n.prototype;return i.zct=function(t){var n=hP(t)?this.sAt.lAt(t):this.sAt.zct(t);return{zu:n.zu,Sat:n.Sat,tE:this.jlt.tE}},i.dAt=function(){return this.sAt.dAt()},i.tAt=function(){return this.sAt.tAt()},i.fAt=function(){return this.sAt.fAt()},i.Ect=function(t){return this.sAt.Ect(t)},i.Lct=function(t,n,i){return this.sAt.Lct(t,this.jlt.tE,n,i)},i.Tlt=function(t){return hP(t)?this.Wrt._At(t,this.sAt):this.Wrt.Tlt(t)},i.Mct=function(t){return hP(t)?this.Wrt.gAt(t,this.sAt):this.Wrt.Mct(t)},i.gn=function(){this.sAt.fn(FB.Nht,this.eAt)},At(n,[{key:"Out",get:function(){return this.rat}},{key:"Hmt",get:function(){var t;return null!=(t=this.sAt.ly.Hmt)?t:this.Out.Hmt}},{key:"GP",get:function(){return this.sAt.ly.GP||0}},{key:"$nt",get:function(){var t=this.sAt.ly;return t.$nt?[t.$nt]:this.Out.$nt}},{key:"nAt",get:function(){var t=this.sAt.ly;return t.$nt?[t.$nt]:[]}},{key:"Vet",get:function(){return this.sAt.ly.$nt||this.Out.Vet}},{key:"Xmt",get:function(){return this.sAt.ly.Xmt||this.Out.Xmt}},{key:"trt",get:function(){return this.sAt.ly.trt||this.Out.trt}},{key:"Nz",get:function(){return this.aG+'; codecs="'+this.Vet+'"'}},{key:"Zmt",get:function(){var t=this.sAt.ly;return t.Zmt.length?t.Zmt:this.Out.Zmt}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get id(){return t.o},get type(){return t.Av},get bandwidth(){return t.GP},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.Adt)?void 0:n.JS())?i:NaN},get audioSamplingRate(){return t.Hmt}}}(this))}},{key:"Adt",get:function(){var t;return null!=(t=this.sAt.ly.Adt)?t:this.Out.Adt}},{key:"Ti",get:function(){return this.sAt.ly.Ti||this.Out.Ti}},{key:"o",get:function(){return this.sAt.ly.o||""}},{key:"Blt",get:function(){return this.rAt},set:function(t){this.rAt=t}},{key:"zlt",get:function(){var t=this.sAt.oAt();if(t)return{zu:t.zu,Sat:t.Sat,tE:this.jlt.tE}}},{key:"Kmt",get:function(){return this.sAt.ly.Kmt||this.Out.Kmt||1}},{key:"Jmt",get:function(){return this.sAt.ly.Jmt||this.Out.Jmt}},{key:"jlt",get:function(){return this.bct.jlt}},{key:"aG",get:function(){return this.sAt.ly.aG||this.Out.aG}},{key:"bct",get:function(){return this.Out.bct}},{key:"$mt",get:function(){return this.sAt.ly.$mt||this.Out.$mt}},{key:"Lht",get:function(){return this.hAt}},{key:"tpt",get:function(){return this.sAt.ly.tpt||this.Out.tpt}},{key:"ipt",get:function(){return this.sAt.ly.ipt||this.Out.ipt}},{key:"aAt",get:function(){return this.sAt.aAt}},{key:"ept",get:function(){return this.sAt.ly.ept||this.Out.ept}},{key:"Wrt",get:function(){return this.sAt.Wrt}},{key:"spt",get:function(){return this.sAt.ly.spt||this.Out.spt}},{key:"Av",get:function(){var t=this.aG.split("/")[0];return"application"===t||"text"===t||G_(this.aG,this.$nt)?zA.Ru:"video"===t?zA.VA:"audio"===t?zA.WA:"image"===t?zA.OT:zA.jT}},{key:"ji",get:function(){return this.sAt.ly.ji||this.Out.ji}},{key:"Ict",get:function(){return this.uAt},set:function(t){this.uAt=t}},{key:"ldt",get:function(){return this.cAt},set:function(t){this.cAt=t}}]),n}(uG),oG=function(t){function n(n,i){var r;return(r=t.call(this)||this).odt=[],r.Zvt=n,r.sAt=i,r.sAt.yn(FB.Nht,r.eAt),r}kt(n,t);var i=n.prototype;return i.Yn=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return 0!==i.odt.length?[3,2]:(r=i.sAt.Bot.map((function(r){return i.vAt(r,t,n)})),[4,K.all(r)]);case 1:i.odt=e.sent().filter(zn),e.label=2;case 2:return i.mAt(),[2]}}))}))()},i.vAt=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return e=new sG(r,t),[4,n(e)];case 1:return u=s.sent(),jo(i),u?[2,e]:[2,void 0]}}))}))()},i.mAt=function(){if(!this.odt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.tAt=function(){return this.sAt.tAt()},i.fAt=function(){return this.sAt.fAt()},i.gn=function(){this.sAt.fn(FB.Nht,this.eAt);for(var t=0,n=this.odt;t<n.length;t++){n[t].gn()}lo(this.odt)},At(n,[{key:"Wlt",get:function(){return this.sAt.ly.Wlt}},{key:"Hmt",get:function(){var t;return null!=(t=this.sAt.ly.Hmt)?t:-1}},{key:"$nt",get:function(){if(this.sAt.ly.$nt)return[this.sAt.ly.$nt];for(var t=[],n=0,i=this.Bot;n<i.length;n++){var r=i[n];r.nAt.length&&-1===t.indexOf(r.Vet)&&t.push(r.Vet)}return t}},{key:"Vet",get:function(){return this.$nt.join()}},{key:"Xmt",get:function(){return this.sAt.ly.Xmt}},{key:"trt",get:function(){return this.sAt.ly.trt}},{key:"Nz",get:function(){return this.aG+'; codecs="'+this.Vet+'"'}},{key:"Zmt",get:function(){return this.sAt.Zmt}},{key:"qmt",get:function(){return this.sAt.qmt}},{key:"Adt",get:function(){return this.sAt.ly.Adt}},{key:"idt",get:function(){return this.sAt.ly.idt}},{key:"Ti",get:function(){return this.sAt.ly.Ti||0}},{key:"o",get:function(){return this.sAt.ly.o}},{key:"kh",get:function(){return this.sAt.ly.kh||""}},{key:"Kmt",get:function(){return this.sAt.ly.Kmt}},{key:"Jmt",get:function(){return this.sAt.ly.Jmt}},{key:"jlt",get:function(){return this.bct.jlt}},{key:"aG",get:function(){return this.sAt.ly.aG||this.odt[0].aG}},{key:"bct",get:function(){return this.Zvt}},{key:"$mt",get:function(){return this.sAt.ly.$mt}},{key:"Bot",get:function(){return this.odt}},{key:"Sdt",get:function(){return this.sAt.ly.Sdt||[]}},{key:"tpt",get:function(){return this.sAt.ly.tpt}},{key:"ipt",get:function(){return this.sAt.ly.ipt}},{key:"ept",get:function(){return this.sAt.ly.ept}},{key:"uB",get:function(){return this.sAt.ly.uB}},{key:"spt",get:function(){return this.sAt.ly.spt}},{key:"Av",get:function(){var t=(this.sAt.ly.Nz||this.aG).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||G_(this.aG,this.$nt)?zA.Ru:"video"===t?zA.VA:"audio"===t?zA.WA:"image"===t?zA.OT:zA.jT}},{key:"ji",get:function(){return this.sAt.ly.ji||0}},{key:"b8",get:function(){return this.sAt.ly.gs||""}},{key:"Mdt",get:function(){return this.$pt}},{key:"ydt",get:function(){var t=this.Mdt,n=this.iAt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.jlt.wAt);return g.max(t,i)}}}]),n}(uG);function aG(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(on.Dh(s,e))}return i}wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),mt();var cG=function(){function t(t,n){this.Zvt=t,this.PAt=n,this.Ox=n.cM,this.jAt=n.kmt,this.YAt=n.Qmt}var n=t.prototype;return n.pAt=function(t){var n=t-this.Zvt.Cn;if(!(n<0||n>=this.Zvt.ct)){var i=this.AAt();return void 0!==i&&Pi(i,n,1e-5)?this.yAt():this.MAt(n)}},n.Dct=function(t){var n=t-this.Zvt.Cn;if(!(n<0))return this.bAt(g.min(n,this.Zvt.ct))},n.yAt=function(){return this.TAt(0)},n.SAt=function(){var t=this.Zvt.ct;if(isFinite(t))return this.bAt(t)},n.dAt=function(t){if(this.Zvt.DAt.Av===NU.Sj){if(this.NAt){var n=this.yAt(),i=this.EAt();if(void 0===n||void 0===i)return;return{kAt:t,LAt:n,xAt:i}}var r=this.CAt(t);if(!r)return;return{kAt:t,LAt:this.OAt(t),xAt:r}}var e=this.yAt();if(e)return{kAt:t,LAt:e,xAt:this.SAt()}},n.fAt=function(t,n){if(n){var i=this.Rlt(n.LAt),r=this.jct(n.xAt);if(r){var e=this.Plt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.yAt();if(u){var s=this.Plt(u);if(t.getTime()<s.getTime())return s}var o=this.Zvt.DAt.jpt;return t.getTime()<o.getTime()?o:void 0},n.CAt=function(t){var n=(t.getTime()-this.Zvt.DAt.jpt.getTime())/1e3-this.Zvt.Cn+this.jAt,i=this.bAt(Bi(n,0,this.Zvt.ct));if(i&&(i=this.RAt(i,t))){for(var r=this.jct(i);r&&this.Ylt(r,t);)i=r,r=this.jct(i);return i}},n.OAt=function(t){var n,i=this.PAt.Ymt;if(i){var r=(t.getTime()-this.Zvt.DAt.jpt.getTime())/1e3-this.Zvt.Cn-i.bmt();(n=this.bAt(Bi(r,0,this.Zvt.ct)))||(n=this.yAt())}else n=this.yAt();if(n&&(n=this.RAt(n,t))){for(var e=this.Oct(n);e&&this.Ylt(e,t);)n=e,e=this.Oct(n);return n}},n.RAt=function(t,n){for(var i=t;i&&this.Plt(i).getTime()>n.getTime();)i=this.Oct(i);if(i){var r=this.Rlt(i);if(r&&r.getTime()<=n.getTime()){var e=this.Oct(i);for(e&&this.Ylt(e,n)&&(i=e);i;){if(this.Plt(i).getTime()>n.getTime())return;if(this.Ylt(i,n))break;i=this.jct(i)}if(!i)return}return i}},n.Ylt=function(t,n){if(this.NAt)return!0;if(this.Plt(t).getTime()>n.getTime())return!1;var i=this.Rlt(t);return!(i&&n.getTime()>=i.getTime())},n.zAt=function(t,n){if(this.NAt)return!0;if(this.BAt(t).getTime()>n.getTime())return!1;var i=this.Rlt(t);return!(i&&n.getTime()>=i.getTime())},n.UAt=function(t,n,i){var r=qi(n,this.Ox)+this.Zvt.Cn;return{aut:t,QAt:n,MS:r,ct:i,bS:r+i}},n.BAt=function(t){return this.Zvt.DAt.Av===NU.Sj?new Date(this.Zvt.DAt.jpt.getTime()+1e3*(t.MS+t.ct)):this.Zvt.DAt.jpt},n.Plt=function(t){var n=this.BAt(t);return this.Zvt.DAt.Av===NU.Sj?new Date(n.getTime()-1e3*this.jAt):n},n.Rlt=function(t){var n=1/0;if(this.Zvt.DAt.Av===NU.Sj){var i=this.PAt.Ymt;i&&(n=this.BAt(t).getTime()+1e3*t.ct+i.Tmt())}var r=this.Zvt.DAt.Opt;return r&&(n=g.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.FAt=function(t,n){return t.aut+n},n.Ect=function(t){return!1},n.Lct=function(t,n,i,r,e){var u=this.GAt(t);if(!u)return K.reject(new v("Invalid segment"));var s=this.VAt(u.aut,n);return s?K.resolve(s):zo(this.WAt(u.aut,n,i,r),e)},n.VAt=function(t,n){},n.WAt=function(t,n,i,r){return K.reject(new v("Not supported"))},n.Oct=function(t){var n=this.GAt(t);if(n)return this.TAt(n.aut-1)},n.jct=function(t){var n=this.GAt(t);if(n)return this.TAt(n.aut+1)},n.GAt=function(t){var n=this.TAt(t.aut);if(n&&n.MS===t.MS)return n;var i=this.pAt(t.MS);return i&&i.MS===t.MS?i:void 0},n.HAt=function(t,n){var i=this.xct(t);if(i&&this.Ect(i.aut)){var r=this.VAt(i.aut,n);if(r)return r.HAt(t)}},n.xct=function(t){return this.TAt(t.XAt)},n.Tlt=function(t){var n=this.GAt(t);return!!n&&0===n.aut},n._At=function(t,n){var i=this.HAt(t,n);return!!i&&0===i.hut},n.Mct=function(t){var n=this.GAt(t);if(!n)return!1;var i=this.SAt();return!!i&&n.aut===i.aut},n.gAt=function(t,n){var i=this.HAt(t,n);if(!i)return!1;var r=this.SAt();if(!r||i.XAt!==r.aut)return!1;var e=this.VAt(i.XAt,n);return i.hut+1===e.U},n.h_=function(){},At(t,[{key:"NAt",get:function(){return this.Zvt.DAt.IAt&&void 0!==this.EAt()}},{key:"pI",get:function(){return this.Zvt.Cn-qi(this.YAt,this.Ox)}},{key:"Qmt",get:function(){return qi(this.YAt,this.Ox)}}]),t}(),hG=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.tyt,u=n.ct;if(void 0===e||void 0===u)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.ZAt=e,r.KAt=u,r}kt(n,t);var i=n.prototype;return i.TAt=function(t){if(!(t<0)){var n=this.ZAt.multiply(t),i=qi(n,this.Ox),r=this.Zvt.ct;if(!(i>=r)){var e=this.qAt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.UAt(t,n,r-i)}return isFinite(r)&&i+this.KAt>r?this.UAt(t,n,r-i):this.UAt(t,n,this.KAt)}}},i.AAt=function(){return 0},i.MAt=function(t){var n=g.floor(t/this.KAt),i=this.qAt();return void 0!==i&&n>=i?this.TAt(i):this.TAt(n)},i.bAt=function(t){if(t>=this.Zvt.ct){var n=g.ceil(this.Zvt.ct/this.KAt)-1,i=this.qAt();return void 0!==i&&n>=i?this.TAt(i):this.TAt(n)}return this.MAt(t)},i.qAt=function(){var t,n=this.PAt.Wmt;if(void 0!==n)return n-(null!=(t=this.PAt.Vmt)?t:1);var i=this.PAt.JAt;return void 0!==i&&i>0?i-1:void 0},i.EAt=function(){if(isFinite(this.Zvt.ct))return this.SAt()},i.$At=function(t,n){return this.ZAt.multiply(t.aut+(n-1))},i.Yn=function(){},n}(cG);function fG(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.iyt(n[e]),o=t.eyt(n[u]);e<=u&&t.syt(s,i)<=0&&t.syt(i,o)<0;){var a=e+g.floor(t.nyt(i,s,o)*(u-e)),c=n[a],h=t.iyt(c),f=a+1<r?t.iyt(n[a+1]):t.eyt(c);if(t.syt(f,i)<=0)e=a+1,s=f;else{if(!(t.syt(i,h)<0))return a;u=a-1,o=h}}return-1}function vG(t,n){return fG(dG.lL,t,n)}wt(),C(),Mt(),wt(),C(),mt(),wt(),C();var dG=function(){function t(){}var n=t.prototype;return n.iyt=function(t){return t.MS},n.eyt=function(t){return t.bS},n.syt=function(t,n){return t.compare(n)},n.nyt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},At(t,null,[{key:"lL",get:function(){return null!=this.Jnt||(this.Jnt=new t),this.Jnt}}]),t}(),lG=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).ryt=[],r.hyt=void 0,r.Wwt=xi.ZERO,r.Yn(),r}kt(n,t);var i=n.prototype;return i.TAt=function(t){if(!(t<0))return t<this.ryt.length?this.ryt[t].nut:this.oyt(t-this.ryt.length)},i.AAt=function(){if(this.ryt.length>0)return qi(this.ryt[0].MS,this.Ox)},i.MAt=function(t){if(this.hyt&&qi(this.hyt.MS,this.Ox)<=t){var n=qi(this.hyt.MS,this.Ox),i=qi(this.hyt.ct,this.Ox),r=g.floor((t-n)/i);return this.oyt(r)}if(this.ryt.length>0&&Pi(t,qi(this.ryt[0].MS,this.Ox),1e-5))return this.ryt[0].nut;var e=vG(this.ryt,xi.fromNumber(t*this.Ox));return e<0?void 0:this.ryt[e].nut},i.bAt=function(t){if(!this.hyt&&this.ryt.length>0){var n=this.ryt[this.ryt.length-1];if(function(t,n,i){return to(t,n,i)>=0}(t,qi(n.bS,this.Ox),1e-5))return n.nut}var i=this.AAt();return i&&t<i?this.ryt[0].nut:this.MAt(t)},i.EAt=function(){return isFinite(this.Zvt.ct)?this.SAt():this.TAt(this.ryt.length-1)},i.$At=function(t){return this.ayt(t)},i.oyt=function(t){if(this.hyt){var n=this.hyt.MS,i=this.hyt.ct,r=n.add(i.multiply(t)),e=qi(r,this.Ox),u=this.Zvt.ct;if(!(e>=u)){var s=this.ryt.length+t,o=g.min(qi(i,this.Ox),e+u);return this.UAt(s,r,o)}}},i.ayt=function(t){return t.QAt.add(this.YAt)},i.Yn=function(){var t=this.PAt.ly.Wrt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.uyt(t)},i.uyt=function(t){var n=this.YAt;this.cyt(t,n);var i=this.lyt(t);this.dyt(t,n,i.fyt,i.XAt)},i.cyt=function(t,n){var i=this.ryt;if(0===t.length)lo(i);else{for(var r=t[0],e=r.MS?xi.fromString(r.MS,!1).subtract(n):xi.ZERO,u=0;u<i.length&&i[u].MS.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.lyt=function(t){for(var n=this.ryt,i=this.Wwt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].Cmt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].MS.greaterThanOrEqual(i))break;if(n[e].nut.aut===e)e=s+1;else for(;e<=s;)n[e].nut.aut=e,e++;0,r++}return{fyt:r,XAt:e}},i.dyt=function(t,n,i,r){for(var e,u=this.ryt,s=i,o=r;s<t.length;){var a=t[s],c=xi.fromString(a.ct,!1),h=a.Cmt||0,f=void 0;if(a.MS){if(f=xi.fromString(a.MS,!1).subtract(n),o>0){var v=u[o-1];v.bS.greaterThan(f)&&(v.ct=f.subtract(v.MS),v.bS=v.MS.add(v.ct))}}else f=o>0?u[o-1].bS:xi.ZERO;if(h<0){if(s+1===t.length){e={MS:f,ct:c};break}for(var d=xi.fromString(t[s+1].MS,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this._yt(u,o,f,c,l),f=l,o++}}else for(var g=o+h;o<=g;){var w=f.add(c);this._yt(u,o,f,c,w),f=w,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Wwt=u[u.length-1].MS),this.hyt=e},i._yt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.ct.equals(r)?u.nut.aut=n:t[n]={MS:i,ct:r,bS:e,nut:this.UAt(n,i,qi(r,this.Ox))}}else t.push({MS:i,ct:r,bS:e,nut:this.UAt(n,i,qi(r,this.Ox))})},n}(cG);wt(),C(),mt();var gG=function(){function t(t,n,i){this.wyt=void 0,this.myt=void 0,this.bct=t,this.gyt=n,this.zx=i}var n=t.prototype;return n.vyt=function(){if(this.myt=this.pyt(),this.myt)return this.myt;if(this.gyt)return this.gyt.Wrt;throw new v("Missing media segment information.")},n.oAt=function(t){var n=this.Umt;if(n)return{zu:(void 0!==n.xmt?on.Dh(n.xmt,t.upt[0]):t.upt[0]).href,Sat:n.Sat};var i=this.Omt;return i?{zu:t.upt[0].href,Sat:[0,i[0]-1]}:void 0},n.Yn=function(t){this.zx=t,this.myt&&this.myt.Yn()},n.h_=function(){this.myt&&(this.myt.h_(),this.myt=void 0)},At(t,[{key:"ly",get:function(){return this.zx}},{key:"kmt",get:function(){return this.zx&&void 0!==this.zx.kmt?this.zx.kmt:this.gyt?this.gyt.kmt:0}},{key:"Qmt",get:function(){return this.zx&&void 0!==this.zx.Qmt?this.zx.Qmt:this.gyt?this.gyt.Qmt:xi.ZERO}},{key:"Ymt",get:function(){return this.zx&&void 0!==this.zx.Ymt?this.zx.Ymt:this.gyt?this.gyt.Ymt:this.bct.DAt.Ymt}},{key:"cM",get:function(){return this.zx&&void 0!==this.zx.cM?this.zx.cM:this.gyt&&this.gyt.cM?this.gyt.cM:1}},{key:"Omt",get:function(){return this.zx&&void 0!==this.zx.Omt?this.zx.Omt:this.gyt?this.gyt.Omt:void 0}},{key:"Umt",get:function(){return this.zx&&void 0!==this.zx.Umt?this.zx.Umt:this.gyt?this.gyt.Umt:void 0}},{key:"Wrt",get:function(){return this.wyt||(this.wyt=this.vyt()),this.wyt}}]),t}(),wG=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.pyt=function(){return void 0!==this.zx.Wrt?new lG(this,this.bct):void 0!==this.zx.ct?new hG(this,this.bct):void 0},At(n,[{key:"ct",get:function(){return void 0!==this.zx.ct?this.zx.ct/this.cM:this.gyt&&yG(this.gyt)?this.gyt.ct:void 0}},{key:"tyt",get:function(){return void 0!==this.zx.ct?xi.fromNumber(this.zx.ct):this.gyt&&yG(this.gyt)?this.gyt.tyt:void 0}},{key:"Vmt",get:function(){return void 0!==this.zx.Vmt?this.zx.Vmt:this.gyt&&yG(this.gyt)?this.gyt.Vmt:void 0}},{key:"Wmt",get:function(){return void 0!==this.zx.Wmt?this.zx.Wmt:this.gyt&&yG(this.gyt)?this.gyt.Wmt:void 0}}]),n}(gG);function yG(t){return t instanceof wG}wt(),C();var AG=function(){function t(t){this.Ayt=t}return t.prototype.LL=function(t){return this.Ayt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=zs(s,Number(r),"0")}))},t}();var mG=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).yyt=r.opt?new AG(r.opt):void 0,e.Myt=r.hpt?new AG(r.hpt):void 0,e}kt(n,t);var i=n.prototype;return i.oAt=function(n){var i=this.opt;if(!i)return t.prototype.oAt.call(this,n);var r=i.LL({Bandwidth:n.ly.GP,RepresentationID:n.ly.o});return{zu:on.wp(r,n.upt[0])}},i.zct=function(t,n){var i,r=null!=(i=n.aAt.Vmt)?i:1,e=this.hpt.LL({Bandwidth:n.ly.GP,Number:n.Wrt.FAt(t,r),RepresentationID:n.ly.o,Time:n.Wrt.$At(t,r)});return{zu:on.wp(e,n.upt[0])}},i.lAt=function(t,n){},At(n,[{key:"opt",get:function(){return this.yyt?this.yyt:this.gyt&&this.gyt instanceof n?this.gyt.opt:void 0}},{key:"hpt",get:function(){return this.Myt?this.Myt:this.gyt&&this.gyt instanceof n?this.gyt.hpt:void 0}},{key:"JAt",get:function(){}}]),n}(wG);wt(),C(),mt(),Mt();var pG=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.zct=function(t,n){var i=this.Rmt[t.aut],r=n.upt[0];return{zu:(i.wM?on.Dh(i.wM,r):r).href,Sat:i.jmt}},i.lAt=function(t,n){},At(n,[{key:"Rmt",get:function(){return void 0!==this.zx.Rmt?this.zx.Rmt:this.gyt&&this.gyt instanceof n?this.gyt.Rmt:void 0}},{key:"JAt",get:function(){var t;return null==(t=this.Rmt)?void 0:t.length}}]),n}(wG);wt(),C(),mt(),Mt(),wt(),C(),Ot(),Mt(),Ft(),Pt(),wt(),C(),mt(),Mt(),wt(),C();var _G=function(){function t(){}return t.prototype.HAt=function(t){var n=this.Cct(t.hut);if(n&&n.MS===t.MS)return n;var i=this.byt(t.MS);return i&&i.MS===t.MS?i:void 0},t}(),kG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).XAt=n,s.cM=i,s.Iyt=r,s.Qmt=e,s.Tyt=u,s}kt(n,t);var i=n.prototype;return i.Cct=function(t){if(t>=0&&t<this.U)return this.Syt(this.Tyt[t])},i.byt=function(t){var n=this.Nyt(t);if(this.Tyt.length>0){var i=this.Tyt[0];if(n<=qi(i.MS,this.cM))return this.Syt(i)}var r=vG(this.Tyt,xi.fromNumber(n*this.cM));if(!(r<0))return this.Syt(this.Tyt[r])},i.kct=function(t){var n=this.Nyt(t);if(this.Tyt.length>0){var i=this.Tyt[this.Tyt.length-1];if(n>=qi(i.bS,this.cM))return this.Syt(i)}return this.byt(t)},i.Syt=function(t){var n=qi(t.MS,this.cM)-this.Qmt,i=n+this.Iyt,r=qi(t.ct,this.cM);return{XAt:this.XAt,hut:t.aut,MS:i,QAt:xi.fromNumber(n*this.cM),ct:r,bS:i+r,Dyt:[t.Eyt,t.kyt]}},i.Nyt=function(t){return t-this.Iyt+this.Qmt},At(n,[{key:"U",get:function(){return this.Tyt.length}}]),n}(_G);wt(),C(),wt(),C(),wt(),C();var MG=function(){function t(t){this.ly=t,this._y=new Ec}var n=t.prototype;return n.fwt=function(){return this._y.Ku<this.ly.byteLength},n.Lyt=function(){var n,i=this.xyt(),r=this.Cyt(),e=this._y.Ku,u=this.ly.byteLength,s=e+(n=t.Oyt(r)?u-e:t.jyt(r))<=u?n:u-e,o=Ga(this.ly,this._y,s);return new TG(i,kc(o))},n.xyt=function(){var t=this.Cyt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.Cyt=function(){var t=Qa(this.ly,this._y.$A());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Sa(t));return on.Xet(n<=8&&n>=1,"Incorrect log2 value"),Ga(this.ly,this._y,n)},t.jyt=function(t){if(8===t.length&&224&t[1])throw new d("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.Oyt=function(t){for(var n=0;n<bG.length;n++){var i=bG[n];if(pa(t,new m(i)))return!0}return!1},t}(),bG=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],TG=function(){function t(t,n){this.id=t,this.Pyt=n}var n=t.prototype;return n.Ryt=function(){return this.Pyt.byteOffset},n.zyt=function(){return new MG(this.Pyt)},n.Byt=function(){var t=this.Pyt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.Pyt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.Pyt.getUint8(i)}return n},n.eZ=function(){if(4===this.Pyt.byteLength)return this.Pyt.getFloat32(0);if(8===this.Pyt.byteLength)return this.Pyt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function NG(t,n){var i=function(t){var n=new MG(kc(t)),i=n.Lyt();if(i.id!==IG)throw new d("Missing WebM EBML header");var r=n.Lyt();if(r.id!==EG)throw new d("Missing WebM SegmentElement");var e=r.Ryt(),u=function(t){var n,i=t.zyt();for(;i.fwt();){var r=i.Lyt();if(r.id===SG){n=r;break}}if(!n)throw new d("Missing WebM InfoElement");return function(t){var n,i=t.zyt(),r=1e6;for(;i.fwt();){var e=i.Lyt();e.id===LG?r=e.Byt():e.id===CG&&(n=e.eZ())}if(void 0===n)throw new d("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new MG(kc(t)).Lyt();if(r.id!==jG)throw new d("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.zyt();for(;o.fwt();){var a=o.Lyt();if(a.id===xG){var c=DG(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({aut:s.length,MS:e,ct:h.subtract(e),bS:h,Eyt:u,kyt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=xi.fromNumber(r/i);s.push({aut:s.length,MS:e,ct:v.subtract(e),bS:v,Eyt:u,kyt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{cM:g.round(1/i.timecodeScale),Uyt:e}}function DG(t){var n=t.zyt(),i=n.Lyt();if(i.id!==OG)throw new d("Missing CueTime in WebM CuePointElement");var r=xi.fromNumber(i.Byt()),e=n.Lyt();if(e.id!==zG)throw new d("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.zyt(),s=0;u.fwt();){var o=u.Lyt();if(o.id===RG){s=o.Byt();break}}return{unscaledTime:r,relativeOffset:s}}var IG=440786851,EG=408125543,SG=357149030,LG=2807729,CG=17545,jG=475249515,xG=187,OG=179,zG=183,RG=241,BG=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Gyt=Hu(),r.Vyt=Hu(),r.Wyt=new So,r.Yyt=n.Omt,r.Qyt=r.UAt(0,xi.ZERO,r.Zvt.ct),r}kt(n,t);var i=n.prototype;return i.TAt=function(t){if(0===t)return this.Qyt},i.AAt=function(){return 0},i.MAt=function(t){return this.Qyt},i.bAt=function(t){return this.MAt(t)},i.EAt=function(){return this.Qyt},i.$At=function(t,n){return xi.ZERO},i.dAt=function(t){var n=this.Fyt(t);return n&&{kAt:t,LAt:n,xAt:n}},i.Fyt=function(t){var n=this.Qyt;return this.Ylt(n,t)?n:void 0},i.CAt=function(t){return this.Fyt(t)},i.OAt=function(t){return this.Fyt(t)},i.Yn=function(){},i.Ect=function(t){return 0===t&&void 0!==this.Yyt},i.VAt=function(t,n){var i=n.upt[0].href;return this.Gyt.get(i)},i.WAt=function(t,n,i,r){var e=n.upt[0].href,u=this.Vyt.get(e);if(void 0===u){var s=n.aG,o=this.Wyt.f_;if(pv(s))u=this.Hyt(t,e,i,r,o);else{if(!_v(s))throw new Fv(Qv.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.Xyt(t,e,n,i,r,o)}this.Vyt.set(e,u)}return u},i.Hyt=function(t,n,i,r,e){var u=this;return xt((function(){var s,o,a;return zt(this,(function(c){switch(c.label){case 0:return s=u.Yyt,[4,r.tlt(n,s,i,e)];case 1:return o=c.sent(),a=u.Zyt(t,o),u.Gyt.set(n,a),[2,a]}}))}))()},i.Zyt=function(t,n){var i=this.Yyt,r=Jp.jy(new DataView(n),new Ec);if(r.Av!==rp.UA)throw new v("Invalid segment index");var e=i_.eM(r.ly),u=function(t,n){for(var i=[],r=t.IT,e=n+t.DT.toNumber(),u=0,s=0,o=t.kT;s<o.length;s++){var a=o[s],c=a.MT,h=xi.fromNumber(a.ct),f=r.add(h);0===a.yT&&i.push({aut:u++,MS:r,ct:h,bS:f,Eyt:e,kyt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new kG(t,e.cM,this.Zvt.Cn,qi(this.YAt,this.Ox),u)},i.Xyt=function(t,n,i,r,e,u){var s=this;return xt((function(){var o,a,c,h,f,v,d,l;return zt(this,(function(g){switch(g.label){case 0:return o=i.oAt(),a=s.Yyt,c=e.tlt(o.zu,o.Sat,r,u),h=e.tlt(n,a,r,u),[4,K.all([c,h])];case 1:return f=Gt.apply(void 0,[g.sent(),2]),v=f[0],d=f[1],l=s.qyt(t,d,v),s.Gyt.set(n,l),[2,l]}}))}))()},i.qyt=function(t,n,i){var r=NG(new m(n),new m(i));return new kG(t,r.cM,this.Zvt.Cn,qi(this.YAt,this.Ox),r.Uyt)},i.h_=function(){t.prototype.h_.call(this),this.Wyt.g_()},n}(cG),PG=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.zct=function(t,n){return{zu:n.upt[0].href}},i.lAt=function(t,n){return{zu:n.upt[0].href,Sat:t.Dyt}},i.pyt=function(){return new BG(this,this.bct)},At(n,[{key:"Vmt",get:function(){}}]),n}(gG);wt(),C(),Mt();var UG=function(t){function n(){return t.call(this,FB.Nht)}return kt(n,t),n}(Jo);wt(),C();var QG=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).PAt=void 0,e.rMt=1/0,e.iMt=void 0,e.ast=i,e.tMt(n,r),e}kt(n,t);var i=n.prototype;return i.Jyt=function(){var t,n;return null!=(n=this.PAt)?n:null==(t=this.ast)?void 0:t.Jyt()},i.$yt=function(t){var n=this.bct,i=this.ast&&this.ast.Jyt();this.zx.dpt?this.PAt=new mG(n,i,this.zx.dpt):this.zx.lpt?this.PAt=new pG(n,i,this.zx.lpt[0]):this.zx.cpt?this.PAt=new PG(n,i,this.zx.cpt):t&&!i&&(this.PAt=new PG(n,i,void 0))},i.tMt=function(t,n){this.zx=t,this.Kyt=t.upt&&t.upt.length>0?aG(t.upt.map((function(t){return t.zu})),n):n.slice(),this.PAt&&(t.dpt?this.PAt.Yn(t.dpt):t.lpt?this.PAt.Yn(t.lpt[0]):t.cpt&&this.PAt.Yn(t.cpt))},i.tAt=function(){var t;return null==(t=this.iMt)?void 0:t.eMt},i.fAt=function(){var t;return null==(t=this.iMt)?void 0:t.sMt},i.nMt=function(t){var n=this.rMt,i=this.bct.ct,r=this.iMt,e=this.oMt(t);r&&Pi(i,n,1e-5)&&VG(r,e)||(this.rMt=i,this.iMt=e,this.Co(new UG))},i.h_=function(){this.Vo(),this.PAt&&(this.PAt.h_(),this.PAt=void 0)},At(n,[{key:"ly",get:function(){return this.zx}},{key:"upt",get:function(){return this.Kyt}}]),n}(Xo);function YG(t){for(var n,i=0;i<t.length;i++){var r=t[i].tAt();if(r){n=r.Cn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].tAt();if(s){e=s.jn;break}}if(void 0!==e)return{Cn:n,jn:e}}}function GG(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].tAt();if(!e)return;if((n=g.max(n,e.Cn))>=(i=g.min(i,e.jn)))return}return{Cn:n,jn:i}}}function FG(t){for(var n,i=0;i<t.length;i++){var r=t[i].fAt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function VG(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.sMt,n.sMt)&&function(t,n){return t&&n?Pi(t.Cn,n.Cn,1e-5)&&Pi(t.jn,n.jn,1e-5):t===n}(t.eMt,n.eMt)}var WG=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Zvt=n,e.uS=i,e.hMt=r.slice();for(var u=0;u<r.length;u++){r[u].yn(FB.Nht,e.eAt)}return e}kt(n,t);var i=n.prototype;return i.tAt=function(){return GG(this.hMt)},i.fAt=function(){for(var t,n=0,i=this.hMt;n<i.length;n++){var r=i[n].fAt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.gn=function(){this.Vo();for(var t=0,n=this.hMt;t<n.length;t++){n[t].fn(FB.Nht,this.eAt)}},At(n,[{key:"kot",get:function(){return this.hMt}},{key:"$nt",get:function(){return this.kot.reduce((function(t,n){for(var i=0,r=n.$nt;i<r.length;i++){var e=r[i];fo(t,e)||t.push(e)}return t}),[])}},{key:"Vet",get:function(){return this.$nt.length>0?this.$nt[0]:""}},{key:"Av",get:function(){return this.hMt[0].Av}},{key:"o",get:function(){return this.uS}},{key:"jlt",get:function(){return this.Zvt.jlt}},{key:"aG",get:function(){return this.hMt[0].aG}},{key:"bct",get:function(){return this.Zvt}},{key:"Bot",get:function(){return wo(this.kot,(function(t){return t.Bot}))}}]),n}(uG);wt(),C(),Mt();var XG=function(t){function n(){return t.call(this,FB.Dht)}return kt(n,t),n}(Jo);function ZG(t){for(var n=function(n){var r=t[n],e=void 0,u=r.idt;void 0===u||(e=ro(i,(function(t){return t.o===u}))),e||(e={o:u,kot:[]},i.push(e)),e.kot.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}wt(),C();var HG=function(t){function n(n,i){var r;return(r=t.call(this)||this).hMt=[],r.aMt=[],r.uMt=!1,r.cMt=n,r.sAt=i,r.sAt.yn(FB.Nht,r.eAt),r}kt(n,t);var i=n.prototype;return i.wMt=function(t,n){if(0!==this.aMt.length){for(var i=t,r=0,e=this.aMt;r<e.length;r++){var u=e[r],s=u.Av;if(s===zA.WA||s===zA.VA){var o=u.iAt;if(void 0===o)return;i=n(i,o)}}return i}},i.mMt=function(){this.uMt||(this.uMt=!0,this.Co(new XG),this.gn())},i.Yn=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return 0!==i.hMt.length?[3,2]:[4,i.pMt(i.sAt.kot,t,n)];case 1:return r.sent(),i.AMt(i.hMt),jo(n),[3,4];case 2:return[4,i.yMt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.pMt=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new oG(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.Yn(n,i)];case 3:return o.sent(),r.hMt.push(s),[3,5];case 4:return xo(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.AMt=function(t){for(var n=ZG(t),i=0;i<n.length;i++){var r=n[i],e=new WG(this,r.o,r.kot);this.aMt.push(e)}},i.yMt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:r=0,e=i.hMt,u.label=1;case 1:return r<e.length?[4,e[r].Yn(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.tAt=function(){return this.sAt.tAt()},i.fAt=function(){return this.sAt.fAt()},i.gn=function(){this.Vo(),this.sAt.fn(FB.Nht,this.eAt);for(var t=0,n=this.aMt;t<n.length;t++){n[t].gn()}for(var i=0,r=this.hMt;i<r.length;i++){r[i].gn()}lo(this.hMt),lo(this.aMt)},At(n,[{key:"kot",get:function(){return this.hMt}},{key:"Xvt",get:function(){return this.aMt}},{key:"kpt",get:function(){return this.sAt.ly.kpt}},{key:"ct",get:function(){return this.sAt.ct}},{key:"jn",get:function(){return this.Cn+this.ct}},{key:"Lpt",get:function(){return this.sAt.ly.Lpt||[]}},{key:"o",get:function(){return this.sAt.o}},{key:"Eht",get:function(){return this.uMt}},{key:"jlt",get:function(){return this.cMt}},{key:"lMt",get:function(){return this.cMt.dMt(this)}},{key:"bct",get:function(){return this}},{key:"fMt",get:function(){return this.cMt._Mt(this)}},{key:"gMt",get:function(){return this.wMt(1/0,g.min)}},{key:"vMt",get:function(){return this.wMt(0,g.max)}},{key:"Cn",get:function(){return this.sAt.Cn}},{key:"tE",get:function(){return this.jlt.tE}}]),n}(uG);wt(),C(),Mt();var KG,JG=function(t){function n(){return t.call(this,dd.Vv)}return kt(n,t),n}(Jo);wt(),C(),Mt(),wt(),C(),function(t){t.MMt="bMt"}(KG||(KG={}));var qG=function(t){function n(){return t.call(this,KG.MMt)}return kt(n,t),n}(Jo);wt(),C(),mt(),Mt(),wt(),C(),Wt(),mt(),Mt(),wt(),C(),Wt(),mt(),Mt(),wt(),C(),mt(),Mt();var $G=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.upt)||this).TMt=void 0,r.rat=i,r.$yt(!0),r}kt(n,t);var i=n.prototype;return i.Ect=function(t){var n=this.aG;return!(!pv(n)&&!_v(n))&&this.Wrt.Ect(t.aut)},i.Lct=function(t,n,i,r){return this.Wrt.Lct(t,this,n,i,r)},i.oAt=function(){return this.aAt.oAt(this)},i.zct=function(t){return this.aAt.zct(t,this)},i.lAt=function(t){return this.aAt.lAt(t,this)},i.dAt=function(){return this.TMt},i.oMt=function(t){var n=this.Wrt,i=n.dAt(t),r=i&&function(t,n){var i,r=t.LAt,e=t.xAt,u=t.kAt,s=r.MS,o=n.BAt(e);if(o.getTime()<=u.getTime())i=e.bS;else{var a=(o.getTime()-u.getTime())/1e3,c=g.max(e.ct-a,0);i=e.MS+c}return{Cn:s,jn:i}}(i,n),e=this.Wrt.fAt(t,i);return this.TMt=i,{kAt:t,eMt:r,sMt:e}},i.Yn=function(t){this.tMt(t,this.rat.upt)},At(n,[{key:"Out",get:function(){return this.rat}},{key:"bct",get:function(){return this.rat.bct}},{key:"DAt",get:function(){return this.rat.DAt}},{key:"aG",get:function(){return this.zx.aG||this.rat.aG}},{key:"aAt",get:function(){return this.Jyt()}},{key:"Wrt",get:function(){return this.aAt.Wrt}}]),n}(QG),tF=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.upt)||this).Zvt=i,r.$yt(!1),r.odt=n.Bot.map((function(t){return new $G(t,Vt(r))})),r}kt(n,t);var i=n.prototype;return i.Yn=function(t){this.tMt(t,this.Zvt.upt);var n=t.Bot||[];if(this.odt.length!==n.length)throw new v("Expected "+this.odt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.odt[i].Yn(n[i])},i.nMt=function(n){for(var i=0,r=this.odt;i<r.length;i++){r[i].nMt(n)}t.prototype.nMt.call(this,n)},i.oMt=function(t){return{kAt:t,eMt:GG(this.odt),sMt:FG(this.odt)}},i.h_=function(){for(var n=0,i=this.odt;n<i.length;n++){i[n].h_()}t.prototype.h_.call(this)},At(n,[{key:"Bot",get:function(){return this.odt}},{key:"bct",get:function(){return this.Zvt}},{key:"DAt",get:function(){return this.Zvt.DAt}},{key:"idt",get:function(){return this.zx.idt}},{key:"aG",get:function(){var t;return this.zx.aG||(null==(t=this.odt[0])?void 0:t.ly.aG)||""}},{key:"Zmt",get:function(){return this.ly.Zmt}},{key:"qmt",get:function(){return this.ly.qmt}}]),n}(QG),nF=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.upt)||this).aMt=[],u.SMt=n,u.FI=r,u.jx=e,u.$yt(!1),u.hMt=(i.kot||[]).map((function(t){return new tF(t,Vt(u))})),u.aMt=ZG(u.hMt),u}kt(n,t);var i=n.prototype;return i.Yn=function(t,n){this.tMt(t,this.SMt.upt),this.jx=n;var i=t.kot||[];if(this.hMt.length!==i.length)throw new v("Expected "+this.hMt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.hMt[r].Yn(i[r])},i.nMt=function(n){for(var i=0,r=this.hMt;i<r.length;i++){r[i].nMt(n)}t.prototype.nMt.call(this,n)},i.oMt=function(t){return{kAt:t,eMt:GG(this.hMt),sMt:FG(this.hMt)}},i.h_=function(){for(var n=0,i=this.hMt;n<i.length;n++){i[n].h_()}t.prototype.h_.call(this)},At(n,[{key:"kot",get:function(){return this.hMt}},{key:"Xvt",get:function(){return this.aMt}},{key:"bct",get:function(){return this}},{key:"DAt",get:function(){return this.SMt}},{key:"o",get:function(){return this.zx.o}},{key:"Cn",get:function(){return this.FI}},{key:"ct",get:function(){return this.jx}}]),n}(QG);wt(),C(),mt();var iF=function(){function t(t){this.IMt=t}return At(t,[{key:"NMt",get:function(){return this.IMt.Cpt.XN}},{key:"DMt",get:function(){return this.IMt.Cpt.HN}},{key:"EMt",get:function(){return this.IMt.Cpt.xpt}},{key:"kMt",get:function(){var t;return null==(t=this.IMt.gg)?void 0:t.XN}},{key:"LMt",get:function(){var t;return null==(t=this.IMt.gg)?void 0:t.XN}}]),t}(),rF=new Date("2000-01-01"),eF=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).iMt=void 0,s.OMt=void 0,s.xMt=void 0,s.RMt=[],s.UMt=i,s.CMt=u,s.Yn(n,r,e),n.Av===NU.Sj){var o=s.EAt();o&&o.Opt&&o.Opt.getTime()<rF.getTime()&&(s.xMt=new Date(s.Ypt.getTime()-1e3*(o.nut.MS+o.nut.ct)),s.nMt(e))}return s}kt(n,t);var i=n.prototype;return i.tAt=function(){var t;return null==(t=this.iMt)?void 0:t.eMt},i.fAt=function(){var t;return null==(t=this.iMt)?void 0:t.sMt},i.Yn=function(t,n,i,r){var e,u=void 0!==this.zx&&this.zx.Av===NU.Sj;this.zx=t,this.zMt=null!=r?r:i,this.An=i;var s=[ay(n)];this.Kyt=t.upt&&t.upt.length>0?aG(t.upt.map((function(t){return t.zu})),s):s,this.jMt=t.Rpt&&t.Rpt.length>0?aG(t.Rpt,this.Kyt):[];var o=this.jMt.map((function(t){return t.href})),a=n.href;fo(o,a)||(this.jMt.push(n),o.push(a));var c=this.UMt.href;fo(o,c)||(this.jMt.push(this.UMt),o.push(c)),this.OMt=null==(e=t.Upt)?void 0:e.bmt(),t.Wpt&&(this.IMt=new iF(t.Wpt));var h=t.Av===NU.Sj,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Cn)s=u.Cn.bmt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.bmt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({ly:t[a],Cn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.bmt():i-f),o.push({ly:h,Cn:f,ct:v})}return o}(t.omt,h,this.OMt);this.QMt(f,u,h),this.nMt(i)},i.QMt=function(t,n,i){var r=this.RMt;if(0!==t.length){for(var e=t[0].ly.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].h_()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=uF(r[0].ly))?a:Km.wN,f=null!=(c=uF(t[0].ly))?c:Km.wN;if(f.$S(h)){var v=f.uN(h);void 0!==this.OMt&&(this.OMt+=v.JS());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var g=r[d];l.Cn=g.Cn,hF(l.ly,g.ly)}d===t.length-1&&(l.ct+=v.JS())}}}for(var w=0;w<t.length;w++){var y=t[w];if(w<r.length){var A=r[w];0,A.Yn(y.ly,y.ct)}else r.push(new nF(this,y.ly,y.Cn,y.ct))}}else lo(r)},i.nMt=function(t){for(var n=0,i=this.RMt;n<i.length;n++){i[n].nMt(t)}var r=this.iMt,e=this.oMt(t);r&&VG(r,e)||(this.iMt=e,this.Co(new UG))},i.oMt=function(t){return{kAt:t,eMt:YG(this.RMt),sMt:FG(this.RMt)}},i.EAt=function(){if(0!==this.RMt.length){var t=this.RMt[this.RMt.length-1];if(!isFinite(t.ct)&&0!==t.kot.length){var n=t.kot[0];if(0!==n.Bot.length){var i=n.Bot[0].Wrt,r=i.EAt();if(r)return{nut:r,Opt:i.Rlt(r)}}}}},i.h_=function(){this.Vo();for(var t=0,n=this.RMt;t<n.length;t++){n[t].h_()}},At(n,[{key:"ly",get:function(){return this.zx}},{key:"Av",get:function(){return this.zx.Av||NU.Tj}},{key:"jpt",get:function(){return this.xMt||this.zx.jpt||this.Ypt}},{key:"Opt",get:function(){return this.zx.Opt}},{key:"IAt",get:function(){var t,n;return null!=(n=null==(t=this.CMt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Upt",get:function(){return this.OMt}},{key:"upt",get:function(){return this.Kyt}},{key:"Rpt",get:function(){return this.jMt}},{key:"omt",get:function(){return this.RMt}},{key:"Ypt",get:function(){return this.zx.Ypt||this.An}},{key:"Ymt",get:function(){return this.zx.Ymt}},{key:"PMt",get:function(){return this.zMt}},{key:"BMt",get:function(){return this.An}},{key:"Wpt",get:function(){return this.IMt}}]),n}(Xo);function uF(t){for(var n,i,r=aF(t),e=0,u=null!=(n=t.kot)?n:[];e<u.length;e++){r=qm(r,sF(u[e]))}for(var s=0,o=null!=(i=t.Lpt)?i:[];s<o.length;s++){r=qm(r,cF(o[s]))}return r}function sF(t){for(var n=aF(t),i=0,r=t.Bot;i<r.length;i++){n=qm(n,oF(r[i]))}return n}function oF(t){return aF(t)}function aF(t){var n;if(void 0!==t.dpt&&(n=qm(n,cF(t.dpt))),void 0!==t.cpt&&(n=qm(n,cF(t.cpt))),void 0!==t.lpt)for(var i=0,r=t.lpt;i<r.length;i++){n=qm(n,cF(r[i]))}return n}function cF(t){var n,i;return Km.fN(null!=(n=t.Qmt)?n:xi.ZERO,null!=(i=t.cM)?i:1)}function hF(t,n){if(dF(t,n),t.Cn=n.Cn,void 0!==t.kot&&void 0!==n.kot&&t.kot.length===n.kot.length)for(var i=0;i<t.kot.length;i++)fF(t.kot[i],n.kot[i]);if(void 0!==t.Lpt&&void 0!==n.Lpt&&t.Lpt.length===n.Lpt.length)for(var r=0;r<t.Lpt.length;r++)lF(t.Lpt[r],n.Lpt[r])}function fF(t,n){if(dF(t,n),void 0!==t.Bot&&void 0!==n.Bot&&t.Bot.length===n.Bot.length)for(var i=0;i<t.Bot.length;i++)vF(t.Bot[i],n.Bot[i])}function vF(t,n){dF(t,n)}function dF(t,n){if(void 0!==t.dpt&&void 0!==n.dpt&&lF(t.dpt,n.dpt),void 0!==t.cpt&&void 0!==n.cpt&&lF(t.cpt,n.cpt),void 0!==t.lpt&&void 0!==n.lpt&&t.lpt.length===n.lpt.length)for(var i=0;i<t.lpt.length;i++)lF(t.lpt[i],n.lpt[i])}function lF(t,n){t.cM=n.cM,t.Qmt=n.Qmt}wt(),C(),Ot(),Pt();var gF=function(){function t(t,n,i){this.aE=t,this.YMt=n,this.GMt=i,this.VMt=0}var n=t.prototype;return n.oX=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.FMt(t,n.aE,n.YMt,n.GMt).catch(Oo)];case 1:return i.sent(),[2]}}))}))()},n.Olt=function(){return new Date(Xi()+this.VMt)},n.FMt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o;return zt(this,(function(a){switch(a.label){case 0:return r?[4,e.WMt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];jo(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.HMt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.VMt=void 0===u?0:u-Xi(),[2]}}))}))()},n.HMt=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:switch(n.irt){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.lT)?[4,r.WMt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.lT)&&(s=new Date(u).getTime(),!A(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.WMt=function(t,n,i){return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.uD({zu:n,ZD:Ww.GET,qD:ld.Ru,f_:i})];case 1:return[4,u.sent().uE()];case 2:return r=u.sent(),e=new Date(r).getTime(),A(e)?[3,4]:[2,e];case 3:return xo(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),wF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).sAt=void 0,s.KMt=!0,s.RMt=[],s.hbt=void 0,s.sbt=n,s.qMt=n.yv,s.obt=i,s.aE=r,s.abt=e,s.rbt=new gF(s.aE,s.abt,s.sbt.ubt),s.CMt=u,s}kt(n,t);var i=n.prototype;return i.JMt=function(t){var n=this.cg;this.KMt=t,n!==this.cg&&this.Co(new qG)},i.Yn=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d,l,g;return zt(this,(function(w){switch(w.label){case 0:return u=[],s=[],o=t.Ppt?on.Dh(t.Ppt,r.qMt):r.qMt,void 0!==r.sAt?[3,2]:[4,r.rbt.oX(t.Vpt)];case 1:return w.sent(),r.sAt=new eF(t,r.qMt,o,r.Olt(),r.CMt),r.sAt.yn(FB.Nht,r.Ds),[3,3];case 2:r.sAt.Yn(t,o,r.Olt(),n),w.label=3;case 3:if(0===(a=r.sAt.omt).length)c=r.RMt.slice(),lo(r.RMt);else{for(h=a[0].o,f=0;f<r.RMt.length&&r.RMt[f].o!==h;)f++;for(c=r.RMt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<r.RMt.length?l=r.RMt[v]:(l=new HG(r,d),u.push(l)),s.push(l.Yn(r.obt,i))}return[4,K.all(s)];case 4:for(w.sent(),(e=r.RMt).push.apply(e,Lt(u)),g=0;g<c.length;g++)c[g].mMt();return r.Co(new JG),[2]}}))}))()},i.Olt=function(){return this.rbt.Olt()},i._Mt=function(t){var n=this.RMt.indexOf(t);if(n>0)return this.RMt[n-1]},i.dMt=function(t){var n=this.RMt.indexOf(t);if(n>=0&&n+1<this.RMt.length)return this.RMt[n+1]},i.tAt=function(){return this.sAt?this.sAt.tAt():void 0},i.fAt=function(){return this.sAt&&this.sAt.fAt()},i.nMt=function(t){this.sAt&&this.sAt.nMt(t)},i.gn=function(){this.Vo(),this.hbt=void 0,this.JMt(!1);for(var t=0,n=this.RMt;t<n.length;t++){n[t].gn()}lo(this.RMt),this.sAt&&this.sAt.h_()},At(n,[{key:"Opt",get:function(){return this.sAt&&this.sAt.Opt}},{key:"jpt",get:function(){return this.sAt&&this.sAt.jpt}},{key:"IAt",get:function(){return this.sAt&&this.sAt.IAt}},{key:"o",get:function(){return this.sAt&&this.sAt.ly.o}},{key:"PMt",get:function(){var t;return null==(t=this.sAt)?void 0:t.PMt}},{key:"XMt",get:function(){var t;return null==(t=this.sAt)?void 0:t.BMt}},{key:"Rpt",get:function(){return this.sAt?this.sAt.Rpt.map((function(t){return t.href})):[this.ZMt]}},{key:"ZMt",get:function(){return this.qMt.href}},{key:"zpt",get:function(){return this.sAt&&this.sAt.ly.zpt}},{key:"Bpt",get:function(){return this.sAt&&this.sAt.ly.Bpt}},{key:"Upt",get:function(){return this.sAt&&this.sAt.ly.Upt}},{key:"Qpt",get:function(){return this.sAt&&this.sAt.ly.Qpt}},{key:"Fpt",get:function(){var t,n,i=(null==(n=this.sAt)||null==(t=n.ly.Fpt)?void 0:t.Tmt())||0;return g.max(i,AF)}},{key:"cg",get:function(){return this.KMt}},{key:"omt",get:function(){return this.RMt}},{key:"$Mt",get:function(){return this.Av===NU.Sj?this.wAt:this.tbt}},{key:"ibt",get:function(){var t=this.$Mt;if(void 0!==t)for(var n=0,i=this.omt;n<i.length;n++){var r=i[n];if(r.Cn<=t&&r.jn>t)return r}}},{key:"$mt",get:function(){return this.sAt&&this.sAt.ly.$mt}},{key:"Ypt",get:function(){return this.sAt&&this.sAt.Ypt}},{key:"gMt",get:function(){for(var t=this.RMt.length-1;t>=0;t-=1){var n=this.RMt[t].gMt;if(n)return n}}},{key:"wAt",get:function(){var t=this.gMt;if(void 0!==t){var n=t-this.ebt;return g.max(n,this.tbt)}}},{key:"tbt",get:function(){for(var t=0,n=this.RMt;t<n.length;t++){var i=n[t].$pt;if(void 0!==i)return i}}},{key:"tE",get:function(){return Boolean(this.sbt.tE)}},{key:"ebt",get:function(){var t,n;if(this.sbt.nbt&&this.Av===NU.Sj)return this.sbt.nbt;var i=null==(n=this.sAt)||null==(t=n.ly.Gpt)?void 0:t.bmt();return void 0!==i?i:this.Av===NU.Sj?1.5*this.Qpt.bmt():0}},{key:"Ymt",get:function(){return this.sAt&&this.sAt.Ymt}},{key:"Av",get:function(){return this.sAt?this.sAt.Av:void 0}},{key:"Wpt",get:function(){var t;return null==(t=this.sAt)?void 0:t.Wpt}}]),n}(Xo),yF=function(){function t(t,n,i,r,e){this.cMt=new wF(t,n,i,r,e)}return At(t,[{key:"jlt",get:function(){return this.cMt}}]),t}(),AF=1e3,mF=g.pow(2,31)-1,pF=function(){function t(t,n,i,r,e){this.lbt=new So;var u=this;this.dbt=xt((function(t){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.sAt.jlt.Olt(),[4,u.bbt(u.sAt.jlt.Rpt,t)];case 1:return i=e.sent(),[4,u.sAt.jlt.Yn(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw by(r=e.sent())&&u.sAt.jlt.JMt(!1),r;case 4:return[2]}}))})),this.Sbt=r,this.sAt=new yF(t,n,i,this.lbt.f_,e)}var n=t.prototype;return n.nst=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:n.sAt.jlt.Co(new EL),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.dbt(t)];case 2:return r.sent(),n.sAt.jlt.JMt(!0),[3,4];case 3:throw xo(i=r.sent()),n.cbt=void 0,n.sAt.jlt.JMt(!1),new v("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.fbt=n._bt(n.lbt.f_),[2]}}))}))()},n._bt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.sAt.jlt.Av!==NU.Sj?[3,3]:[4,zo(n.gbt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.vbt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return jo(t),(i=n.mbt())>0?[4,Fo(g.min(i,mF),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.dbt(t)];case 3:return e.sent(),n.sAt.jlt.JMt(!0),[3,6];case 4:throw r=e.sent(),new v("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.pbt=void 0,[7];case 6:return[2]}}))}))()},n.mbt=function(){var t=this.sAt.jlt.Olt().getTime()-this.sAt.jlt.PMt.getTime();return this.sAt.jlt.Fpt-t},n.Abt=function(t){var n=this.sAt.jlt.fAt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.sAt.jlt.nMt(t);var r=this.sAt.jlt.fAt();return r?r.getTime()-t.getTime():NaN},n.wbt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:n.pbt||(n.pbt=n.vbt(t)),(i=new So).w_(t),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,K.race([n.pbt,n.ybt(i.f_)].filter(zn))];case 2:return r.sent(),[3,5];case 3:return Oo(r.sent()),[3,5];case 4:return i.g_(),[7];case 5:return[2]}}))}))()},n.ybt=function(t){var n=this.sAt.jlt.Olt(),i=this.Abt(n);if(!A(i)&&!this.Tr.jlt.IAt)return this.Mbt(i,t)},n.Mbt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,Fo(t,n)];case 1:return e.sent(),r=i.sAt.jlt.Olt(),i.sAt.jlt.nMt(r),[2]}}))}))()},n.bbt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,i.Sbt.Tbt(t,{},n)];case 1:return r=e.sent(),[2,(new JY).Hpt(r.Nbt,r.cE)]}}))}))()},n.gn=function(){return this.lbt.g_(),this.fbt=void 0,this.cbt=void 0,this.pbt=void 0,this.sAt.jlt.gn(),K.resolve()},At(t,[{key:"Tr",get:function(){return this.sAt}},{key:"W",get:function(){return this.cbt||(this.cbt=this.nst(this.lbt.f_),Qo(this.cbt)),this.cbt}},{key:"gbt",get:function(){return this.sAt.jlt.XMt&&this.sAt.jlt.Av===NU.Sj?this.wbt(this.lbt.f_):this.W}}]),t}();wt(),C(),Wt(),mt(),Mt(),wt(),C(),Mt();var _F=function(t){function n(n,i){var r;return(r=t.call(this,"_mt")||this).ymt=n,r.Not=i,r}return kt(n,t),n}(Jo),kF=function(t){function n(n,i){var r;(r=t.call(this)||this).Iot=void 0,r.z2=n,r.Pw=i;for(var e=0,u=r.Pw;e<u.length;e++){u[e].idt=Vt(r)}return r}kt(n,t);var i=n.prototype;return i.MD=function(t){t&&this.Iot!==t&&this.Ibt(t)},i.bD=function(t){this.Iot===t&&this.Ibt(void 0)},i.Ibt=function(t){this.Iot=t,this.Co(new _F(this,this.Iot))},i.gn=function(){this.Vo();for(var t=0,n=this.Pw;t<n.length;t++){n[t].idt=void 0}lo(this.Pw)},At(n,[{key:"Not",get:function(){return this.Iot}},{key:"Av",get:function(){return this.z2}},{key:"Z",get:function(){return this.Pw.slice()}}]),n}(Xo);wt(),C(),wt(),C(),wt(),C(),Mt();var MF,bF=function(t){function n(n,i,r){var e;return(e=t.call(this,dd.Cv)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return kt(n,t),n}(Jo);function TF(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.Av===zA.WA?u=u.concat(a.Z):a.Av===zA.VA&&(s=s.concat(a.Z))}return[NF(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),DF(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(zn)}function NF(t,n,i,r,e){var u=ro(r||[],(function(t){return t.Zht===zA.WA&&t.Rt})),s=[EF(u,i,t),SF(u),LF(u,e),CF(),function(t){var n=t.filter((function(t){return"main"===t.zt}));return n.length>0?n:t}];return IF(n,s)}function DF(t,n,i,r,e){var u=ro(r||[],(function(t){return t.Zht===zA.VA&&t.Rt})),s=[EF(u,i,t),LF(u,e),CF(),function(t){var n=t.filter((function(t){return"main"===t.zt}));return n.length>0?n:t}];return IF(n,s)}function IF(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function EF(t,n,i){return function(r){var e=t?t.Out.o:void 0;if(!zn(e))return r;var u=null==n?void 0:n.kpt,s=i.kpt,o=u&&s&&u.lT===s.lT,a=ro(r,(function(t){return t.Out.o===e}));return o&&a?[a]:r}}function SF(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function LF(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.qw.Rw.some((function(t){return BC(t.$nt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===j(e))return e.v}return t}}function CF(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.Out.uB;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}wt(),C(),tt(),wt(),C(),function(t){t.Dbt="api",t.Ebt="start"}(MF||(MF={})),wt(),C(),Ot(),Pt();var jF={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},xF=function(){function t(t,n,i){void 0===i&&(i=jF),this.aE=t,this.xbt=n,this.Mlt=i}var n=t.prototype;return n.kbt=function(t,n,i){var r=this,e=this.Mlt.maxRetries===1/0?jF:this.Mlt;return dD((function(){return r.Lbt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.Lbt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new qw({zu:s,qD:ld.Ru,XD:n,tE:r.xbt,ZD:Ww.GET,Av:Xw.xD,JD:Zw.jT,f_:i,_D:15e3,KD:5e3}),[4,r.aE.uD(o)];case 3:return[4,(a=h.sent()).uE(i)];case 4:return[2,{Nbt:h.sent(),Cbt:s,cE:a.cE}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();wt(),C(),Ot(),Pt();var OF=function(){function t(t){this.Obt=t}return t.prototype.Tbt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:u=0,s=r.Obt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.Tbt(t,n,i)];case 3:return[2,c.sent()];case 4:return xo(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),zF=function(){function t(t){this.rut=t}return t.prototype.Tbt=function(t,n,i){var r=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,r.rut.fnt(t)];case 1:if(n=i.sent())return[2,{Nbt:n.data,Cbt:n.locationURL,cE:n.responseURL}];throw new v("Manifest fetch from cache unsuccesful")}}))}))()},t}(),RF=function(){function t(t){this.jbt=t}return t.prototype.Tbt=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return[4,r.jbt.kbt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function BF(t,n){return new OF([new zF(n),new RF(t)])}var PF=function(){function t(t,n,i){this.Sbt=t,this.Xd=n,this.Pbt=i}var n=t.prototype;return n.Tbt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return[4,r.Sbt.Tbt(t,n,i)];case 1:return e=u.sent(),[4,r.Rbt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.Rbt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.Xd.Mnt({key:qR(t.Cbt),locationURL:ry(t.Cbt),responseURL:ry(t.cE),data:t.Nbt,references:[n.Pbt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();wt(),C(),Mt();var UF=function(t){function n(){return t.call(this,dd.Xv)}return kt(n,t),n}(Jo);wt(),C(),Mt();var QF=function(t){function n(){return t.call(this,dd.Hv)}return kt(n,t),n}(Jo);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Mt();var YF=function(t){function n(){return t.call(this)}kt(n,t);var i=n.prototype;return i.zbt=function(t){return t.Sg=am.LOADED,this.tt(t),t},i.Bbt=function(t){for(var n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n];if(r.fv===t)return r}},n}(K_);function GF(t,n){return""===n?t:t+" "+n}wt(),C(),wt(),C(),mt(),Mt(),wt(),C();var FF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).ZI=e,s.Ubt=u,s}return kt(n,t),n.prototype.FS=function(t){return this.O===t.O},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return gA(pm(t),{get attributes(){return t.ZI},get eventID(){var n;return""+(null!=(n=t.Ubt)?n:"")}})}(this)),this.Xa}}]),n}(Em),VF=function(t){function n(n){var i;return(i=t.call(this)||this).SMt=void 0,i.Ybt=function(){var t,n,r=null!=(n=null==(t=i.SMt.tAt())?void 0:t.Cn)?n:0;if(r>0)for(var e=0,u=i.Z.Rw;e<u.length;e++){Z_(u[e],r)}for(var s=0,o=i.SMt.omt;s<o.length;s++){var a=o[s];if(a.jn>r)for(var c=0,h=a.Lpt;c<h.length;c++){var f=h[c];i.Fbt(f,a,r)}}},i.oE=n,i}kt(n,t);var i=n.prototype;return i.Qbt=function(t){var n=this.oE.rE(C_.ZA,"","","",void 0,cm.EVENT_STREAM);return n.fv=t,this.zbt(n),n},i.Fbt=function(t,n,i){var r,e,u,s=t.irt,o=null!=(r=t.lT)?r:"",a=null!=(e=t.cM)?e:1,c=null!=(u=t.Qmt)?u:xi.ZERO,h=GF(s,o),f=this.Bbt(h);f||(f=this.Qbt(h));for(var v=0,d=t.uG;v<d.length;v++){var l=d[v];if(!WF(l,f)){var g=XF(l,a,c,n);g.bS>i&&f.lE(g)}}},i.$n=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.SMt=t,n.SMt.yn(dd.Vv,n.Ybt),n.Ybt(),[2]}}))}))()},i.tr=function(){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:for(n.SMt&&(n.SMt.fn(dd.Vv,n.Ybt),n.SMt=void 0),i=0,r=n.Z.Rw;i<r.length;i++)e=r[i],n.oE.fE(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(YF);function WF(t,n){var i=t.o;if(void 0!==i&&ro(n.L.Rw,(function(n){return n.Ubt===i&&n.O===t.ly})))return!0;return!1}function XF(t,n,i,r){var e=t.o,u=t.dT.toSigned().subtract(i),s=t.ct,o=t.ly,a=t.ZI,c=u.toNumber()/n+r.Cn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.vMt;return new FF(c,f,o,a,e)}function ZF(t,n,i,r,e){var u=[],s=ro(i,(function(t){return t.irt===es}));if(void 0!==s){var o=s.lT?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.lT.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.irt!==es)for(var h=0,f=Is(c.irt);h<f.length;h++){var v=f[h],d=e&&c.Lmt?[c.Lmt]:[];u.push({Qp:v,KP:d,JP:void 0,hP:void 0})}}if(u.length)return{fR:t,Ivt:{Gbt:o,_R:s._R},Nvt:u,Vbt:n===zA.WA?r.slice():[],Wbt:n===zA.VA?r.slice():[],B3:!1}}}}function HF(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=Hu();return KF(r,e,t.Nvt),KF(r,e,n.Nvt),{fR:t.fR,Ivt:{Gbt:t.Ivt.Gbt,_R:null!=(i=t.Ivt._R)?i:n.Ivt._R},Nvt:r,Vbt:JF(t.Vbt,n.Vbt,fo),Wbt:JF(t.Wbt,n.Wbt,fo),B3:t.B3||n.B3||!1}}function KF(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Qp.gL,s=void 0;n.has(u)?(s=n.get(u)).KP=JF(s.KP,e.KP,qF):(s=Xu({},e),t.push(s),n.set(u,s))}}function JF(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function qF(t,n){for(var i=0;i<t.length;i++){if(ma(t[i],n))return!0}return!1}function $F(t,n,i){var r,e=t.trt;if(e){for(var u=t.aG,s=[],o=0,a=t.$nt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=ZF(n||{},t.Av,e,s,i)}for(var h=0,f=t.Bot;h<f.length;h++){r=HF(r,tV(f[h],n,i))}return r}function tV(t,n,i){return ZF(n||{},t.Av,t.trt||[],[t.Nz],i)}function nV(t){return t?t.Nvt.map((function(n){var i=iV(t.fR,n.Qp),r=t.Ivt.Gbt;return{Qp:n.Qp,KP:n.KP,hP:n.hP,Kz:[{initDataTypes:[n.Qp.fL],audioCapabilities:rV(t.Vbt,r,null==i?void 0:i.audioRobustness),videoCapabilities:rV(t.Wbt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function iV(t,n){switch(n.Av){case rs.Ep:return t.widevine;case rs.Dp:return t.playready;case rs.kp:return t.fairplay;case rs.Lp:return t.clearkey}}function rV(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function eV(t,n){var i=function(t){var i=n.indexOf(t.Qp.gL);return i>=0?i:n.length};return Zs(t,(function(t,n){return i(t)-i(n)}))}wt(),C(),wt(),C(),Wt(),Ot(),Mt(),Ft(),Pt();var uV=function(t){function n(n){var i;(i=t.call(this)||this).odt=[],i.Yn=function(){for(var t=[],n=0,r=i.SMt.omt;n<r.length;n++)for(var e=0,u=r[n].kot;e<u.length;e++){var s=u[e];if(s.Av===zA.OT&&s.Bot.length>0){var o=s.Bot[0];t.push(o),i.$bt(o)||i.Qbt(o),-1===i.odt.indexOf(o)&&(i.odt.push(o),o.yn(FB.Nht,i.Kbt)),i.iTt(o)}}i.Hbt(t)},i.iTt=function(t){var n=i.tTt(t);n&&t&&n._v!==h_.Ch&&(i.Jbt(),function(t,n){var i=t.Wrt,r=t.dAt();if(!r)return;var e=r.LAt,u=r.xAt,s=t.ji,o=t.Ti,a=Gt(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(js(i.irt,oV)||js(i.irt,aV)){var r=i.lT.match(sV);if(r){var e=Gt(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.Zmt),2),c=a[0],h=a[1],f=e;for(;f&&f.aut<=u.aut;){for(var v=t.aAt.ct||f.ct,d=cV(n,f,t.zct(f).zu,s,o,c,h,v),l=0;l<d.length;l++){var g=d[l];n.lE(g)}f=i.jct(f)}}(t,n))},i.oE=n;var r=Vt(i);return i.Kbt=function(){r.iTt(this)},i}kt(n,t);var i=n.prototype;return i.Qbt=function(t){var n=this.oE.rE(C_.ZA,t.o,"thumbnails","",!1,cm.DEFAULT);return n._v=h_.Jn,this.zbt(n),n},i.$n=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.SMt=t,n.SMt.yn(dd.Vv,n.Yn),n.Yn(),[2]}}))}))()},i.Hbt=function(t){this.Xbt(t),this.Zbt()},i.Zbt=function(){for(var t=[],n=0,i=this.Z.Rw;n<i.length;n++){var r=i[n];this.qbt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.Xbt=function(t){for(var n=[],i=0,r=this.odt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];ao(this.odt,s)}},i.tr=function(){var n=this;return xt((function(){var i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:for(n.SMt&&(n.SMt.fn(dd.Vv,n.Yn),n.SMt=void 0),i=0,r=n.odt;i<r.length;i++)r[i].fn(FB.Nht,n.Kbt);for(n.odt.length=0,e=0,u=n.Z.Rw;e<u.length;e++)s=u[e],n.oE.fE(s);return[4,t.prototype.tr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){return this.Kbt=void 0,t.prototype.gn.call(this)},i.Jbt=function(){var t,n,i=null!=(n=null==(t=this.SMt.tAt())?void 0:t.Cn)?n:0;if(i>0)for(var r=0,e=this.Z.Rw;r<e.length;r++){Z_(e[r],i)}},i.$bt=function(t){return this.Z.Rw.some((function(n){return n.o===t.o}))},i.tTt=function(t){return ro(this.Z.Rw,(function(n){return n.o===t.o}))},i.qbt=function(t){return this.odt.some((function(n){return t.o===n.o}))},n}(YF),sV=/^(\d+)x(\d+)$/,oV="http://dashif.org/guidelines/thumbnail_tile",aV="http://dashif.org/thumbnail_tile";function cV(t,n,i,r,e,u,s,o){var a=[],c=n.MS,h=u*s,f=r/u,v=e/s,d=g.round(f),l=g.round(v),w=o/h;if(1===h){var y=c+w;return hV(t,c,y,i)?a:[new Em(c,y,i,!1)]}for(var A=0;A<s;A++)for(var m=0;m<u;m++){var p=c+(A*u+m)*w,_=p+w,k=i+"#xywh="+g.round(m*f)+","+g.round(A*v)+","+d+","+l;if(hV(t,p,_,k)||a.push(new Em(p,_,k,!1)),_>=n.bS)return a}return a}function hV(t,n,i,r){return t.L.Rw.some((function(t){return t.MS===n&&t.bS===i&&t.O===r}))}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C();var fV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).eTt=r,o.sTt=e,o.rTt=u,o}return kt(n,t),n.prototype.FS=function(t){return pa(this.O,t.O)},At(n,[{key:"cT",get:function(){return this.eTt}},{key:"lT",get:function(){return this.sTt}},{key:"nTt",get:function(){return this.rTt}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return gA(pm(t),{get schemeIDURI(){return t.cT},get value(){return t.lT},get emsgID(){return t.nTt}})}(this)),this.Xa}}]),n}(Em),vV=function(t){function n(n){var i;return(i=t.call(this)||this).oE=n,i}kt(n,t);var i=n.prototype;return i.elt=function(t,i,r){var e=i_.Wy(kc(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Zp(e,n)&&i.push(e)}return i}(e,rp.BA);if(u.length){var s=n.oTt(e,i,r);this.hTt(u,s,r)}}},i.hTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.Gy?e.dT.toNumber()/e.cM+i:n+e.gT/e.cM)+e.fT/e.cM;"https://aomedia.org/emsg/ID3"===e.cT||"https://developer.apple.com/streaming/emsg-id3"===e.cT?this.aTt(e,u):this.uTt(e,u,s)}},i.uTt=function(t,n,i){var r=GF(t.cT,t.lT),e=this.Bbt(r);e||(e=this.cTt(r),this.zbt(e)),e.lE(new fV(n,i,t.cT,t.lT,t.o,t._T))},i.aTt=function(t,n){var i=_x(kc(t._T));if(i){var r=GF(t.cT,t.lT),e=this.Bbt(r);e||(e=this.lTt(r),this.zbt(e));for(var u=0,s=i.a4;u<s.length;u++){var o=s[u],a=new jx(n,o);Wj(a,e.L.Rw),e.lE(a)}}},i.cTt=function(t){var n=this.oE.rE(C_.ZA,"","","",void 0,cm.EMSG);return n.fv=t,n._v=h_.vv,n},i.lTt=function(t){var n=this.oE.rE(C_.ZA,"","","",void 0,cm.ID3);return n.fv=t,n._v=h_.vv,n},i.tr=function(){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.Rw;i<r.length;i++)e=r[i],n.oE.fE(e);return[4,t.prototype.tr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.oTt=function(t,n,i){var r=Hp(t,rp.UA);return r?qi(r.IT,r.cM)+i:n},n}(YF),dV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ybt=function(){var t,i,r=null!=(i=null==(t=n.SMt.tAt())?void 0:t.Cn)?i:0;n.wD(r)},n}kt(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.tr()];case 1:return i.sent(),n.SMt=t,n.SMt.yn(dd.Vv,n.Ybt),n.Ybt(),[2]}}))}))()},i.tr=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.SMt&&(n.SMt.fn(dd.Vv,n.Ybt),n.SMt=void 0),[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(vV);wt(),C(),wt(),C(),Ot(),Pt();var lV=function(){function t(t){this.dTt=!1,this.rut=t}var n=t.prototype;return n.wnt=function(t,n){return this.dTt?this.rut.wnt(t,n):K.resolve(!1)},n.mnt=function(t,n){return this.dTt?this.rut.mnt(t,n):K.resolve(void 0)},n.fnt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.rut.fnt(t)];case 1:return i=r.sent(),n.dTt=void 0!==i,[2,i]}}))}))()},n.aZ=function(t){return this.rut.aZ(t)},t}();wt(),C(),Mt();var gV=function(t){function n(n,i,r){return t.call(this,n,i,r)}kt(n,t);var i=n.prototype;return i.$m=function(){var t;return null!=(t=this.qm)?t:0},i.tp=function(){this.Qo.U_=1/0},n}(FT),wV=[dd.Zv,dd.Kv,dd.nm,dd.Wv,dd.hm],yV=[dd.qv,dd._m,dd.zv,dd.Rv],AV=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).CTt=void 0,a.WTt=void 0,a.v5=!1,a.TNt=NaN,a.vz=void 0,a.mz=void 0,a.r5=!1,a.HTt=void 0,a.s5=void 0,a.INt=!1,a.SNt=0,a.NNt=0,a.rSt=!1,a.dE=new So,a.xTt=new Cc,a.ANt=!1,a.sAt=void 0,a.kSt=void 0,a.KMt=!0,a.tSt=!0,a.JSt=void 0,a.Uo=BD.oU(),a.Az=CD.yB,a.wNt=void 0,a.Bj=!0,a.bc=void 0,a.aNt=void 0,a.Jvt=void 0,a.jvt=[],a.aU=!1,a.ITt=new So,a.LTt=K.resolve(),a.L5=new So,a.x5=K.resolve(),a.SSt=!1,a.DTt=new So,a.ETt=K.resolve(),a.UTt=void 0,a.Avt=void 0,a.KTt=0,a.JTt=0,a.$Tt=0,a.Sz=new hT,a.YSt=void 0,a.mTt={HT:0,XT:0,ZT:0},a.yz=void 0,a.fz=void 0,a.pSt=function(){a.NTt()},a.wc=function(){a.Co(new nA(a.U_,a.R_))},a.H3=function(t){a.Co(new bF(a.U_,t.fL,t.SL))},a._St=function(t){a.KTt+=t.KT,a.Co(t)},a.gSt=function(t){var n=t.segments.filter((function(t){return t._ct}));t.track===zA.WA?a.JTt=n.length:t.track===zA.VA&&(a.$Tt=n.length)},a.E6=function(){var t=a.ct;A(t)||t===a.TNt||(a.TNt=t,a.Co(new oD(a.TNt)))},a.ENt=function(){a.STt(),a.KSt()},a.N6=function(t){a.G_&&a.Co(t)},a.lNt=function(t){a.Ds(t),a.rSt||(a.rSt=!0,a.DNt.CNt())},a.cNt=function(){a.sAt.jlt.fn(dd.Gv,a.cNt),a.Co(new EL)},a.vSt=function(t){var n;if(t.errorObject.code===Qv.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.CTt)?void 0:n.mmt.every((function(t){return!t.ldt}))))return;a.rB(t.errorObject),a.Co(t)},a.wSt=function(t){a.rB(t.errorObject)},a.pmt=function(t){Co(t)||a.rB(new Fv(Qv.MEDIA_DECODE_ERROR,t.message,t))},a.STt=function(){if(!a.fg)if(a.XTt())if(a.qTt()){var t=a.sAt.jlt.$Mt;a.JA(t,!0)}else;else{var n=a.sAt.jlt.$Mt;a.JA(n,!0)}},a.iNt=function(t){a.INt=a.Eg,a.Co(t)},a.nNt=function(t){var n=a.INt,i=a.Eg;a.INt=i,n&&!i&&a.Co(t)},a.mSt=function(){var t=a.Rg,n=a.Cg;a.SNt===t&&a.NNt===n||(a.SNt=t,a.NNt=n,a.Co(new sk))},a.VSt=function(t){var n=t.Lt;n._v===h_.Jn?(a.RSt(n),a.zSt=n):n===a.zSt&&n._v===h_.Ch&&(a.zSt=void 0,a.BSt())},a.tNt=function(){a.r5||a.JSt&&(a.JSt.LL(),a.JSt=void 0)},a.ZSt=function(t){a.r5||a.JSt&&(a.JSt.xL(t),a.JSt=void 0)},a.dNt=function(){a.gNt().catch(a.pmt)},a.xNt=function(t){a.rB(GA(t.lt))},a.kNt=function(){a._Tt()},a.LNt=function(){a.gTt()},a.aE=n,a.rut=new lV(u),a.Fm=s,a.MTt=o,a.wU=r,a.wU.yn("tX",a.kNt),a.wU.yn("nX",a.LNt),a.bz=e,a.Mlt=i.retryConfiguration,a.YT=new PT,a.VT=new PT,a.Lz=new fT(n),a.Fm.yn(dd.Lv,a.E6),a.Fm.yn(Ko.Cv,a.H3),a.Fm.yn(dd.Ov,a.N6),a.Fm.yn(dd.im,a.iNt),a.Fm.yn(dd.$v,a.nNt),a.Fm.yn(dd.Jv,a.mSt),a.Fm.yn(dd.fm,a.wc),a.Fm.yn([dd.jh,dd.Sh],a.ENt),a.Fm.yn(yV,a.Ds),a.Fm.yn(f_.ha,a.xNt),a.Fm.Qz=a.Lz,a.Fm.G6=Vt(a),a.Fm.yn([dd.Iv,dd.Nv],a.Ds),a.DNt=new mV(Vt(a),a.Fm),a.zz=new yk(a.DNt,!0),a.zz.yn(uk.Tm,a.STt),a.zz.yn(ok,a.Ds),a.GSt=new UT,a.GSt.yn(cA.ra,a.VSt),a.QSt=new UT,a.oE=a.ONt(),a.fNt=new VF(a.oE),a._Nt=new uV(a.oE),a.Rz=new q_(a.Fm,a.aE),a.Dl=new dT([a.GSt,a.fNt.Z,a._Nt.Z,a.Rz.Z]),a}kt(n,t);var i=n.prototype;return i.fTt=function(t){return!!this.yz&&this.yz.FZ(t)},i.E1=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.Fm.$n(t)];case 1:return n.yz=i.sent(),n._Tt(),n.gTt(),n.yz.P1(n.ct),[2]}}))}))()},i.wTt=function(t){return this.yz.GZ(t)},i.vTt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.mTt=t.pTt,t.yz?[4,t.Fm.tr()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return[2]}}))}))()},i.x0=function(){this.yz.x0()},i.M0=function(){var t=this.ct;this.yz.ct<t&&this.yz.P1(t),this.yz.M0()},i.ATt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return i=n.yz,r=[],i.I1&&r.push(WC(i.I1,t)),i.D1&&r.push(WC(i.D1,t)),[4,K.all(r)];case 1:return e.sent(),[2]}}))}))()},i.yTt=function(t,n,i,r,e,u){var s=this.Fm,o=this.yz;return new lY(s,o,t,n,i,r,e,u,this.MTt,s,this.Avt,this.Mlt,this.jvt)},i.bTt=function(t,n,i){return t.GZ(n,i,this.yz)},i.TTt=function(t,n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return(u=e.yTt(e.aE,e.wU,e.rut,e.bc,t,r)).yn(FB.Dht,e.STt),u.yn(dd.Wv,e.Ds),[4,u.oX(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.NTt=function(t){void 0===t&&(t=!1),this.ITt.g_(),this.L5.g_(),this.DTt.g_(),this.DTt=new So,this.ETt=this.kTt(this.LTt,this.x5,this.ETt,t,this.DTt.f_).catch(this.pmt)},i.kTt=function(t,n,i,r,e){var u=this;return xt((function(){var s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:return[4,K.all([t,n,i])];case 1:return v.sent(),jo(e),[4,zo(u.xTt.OL,e)];case 2:return v.sent(),[4,(s=u.CTt).aat()];case 3:return v.sent(),u.M0(),jo(e),o=s.yc,a=s.mmt,c=s.vmt,h=u.OTt(o,c,o,a,!1),f=u.jTt(c,h),r||!u.fTt(f)?[3,5]:[4,u.RTt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.OTt(o,c,o,a,!0),f=u.jTt(c,h),[4,u.PTt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return jo(e),u.Eg?u.JA(u.U_):u.zTt(),u.BTt(),[2]}}))}))()},i.RTt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return e=r.CTt,[4,r.wTt(i)];case 1:return u.sent(),r.UTt=i,[4,r.bTt(e,t,n)];case 2:return u.sent(),[4,e.dat(QB.Fot)];case 3:return u.sent(),[2]}}))}))()},i.PTt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o;return zt(this,(function(a){switch(a.label){case 0:return u=e.CTt,e.z5(),e.QTt(),s=e.FTt,[4,e.vTt()];case 1:return a.sent(),[4,e.E1(i)];case 2:return a.sent(),e.UTt=i,[4,e.bTt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),o=e.YTt(s,!1,!0,r),[4,u.dat(QB.Fot)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.Y5(),e.GTt(),[7];case 8:return[2]}}))}))()},i.F_=function(t,n){this.JA(t,t===1/0)},i.XTt=function(){var t,n,i=this.ZTt;return 0===i.U||(null!=(n=null==(t=this._z)?void 0:t.jn)?n:this.FTt)>=i.Cn(0)},i.qTt=function(){var t;if(!this.sAt)return!1;if(this.sAt.jlt.Av!==NU.Sj)return!1;var n=null==(t=this.CTt)?void 0:t.yc;if(n&&n.Eht)return!0;for(var i=[],r=0,e=this.sAt.jlt.omt;r<e.length;r++){var u=e[r],s=u.$pt,o=u.vMt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new BD(i).FB();return function(t,n,i){if(!n.U||!i.U)return BD.oU();var r=n.Cn(0),e=n.jn(n.U-1),u=t.Sn(i).BB().Sn(t).YB(n);return BD.rU(u.Cn(0),u.jn(u.U-1)).GB(u).JB((function(t,n){return t<r&&n<=e&&n-t>Ki}))}(this.VTt,this.ZTt,a).U>0},i.sSt=function(t){this.Uo=this.Uo.YB(t)},i.fSt=function(t){t.yn(wV,this.Ds),t.yn(dd.lm,this._St),t.yn(dd.Tv,this.gSt),t.yn(f_.ha,this.wSt),t.yn(dd.Nv,this.vSt),t.yn(dd.Kv,this.mSt),t.yn("_mt",this.pSt),t.yn("Vvt",this.pSt)},i.ASt=function(t){t.fn(wV,this.Ds),t.fn(dd.lm,this._St),t.fn(dd.Tv,this.gSt),t.fn(f_.ha,this.wSt),t.fn(dd.Nv,this.vSt),t.fn(dd.Kv,this.mSt),t.fn("_mt",this.pSt),t.fn("Vvt",this.pSt)},i.ySt=function(t){t.yn(dd.Zv,this.Ds)},i.MSt=function(t){t.fn(dd.Zv,this.Ds)},i.lSt=function(){if(this.CTt){var t=ro(this.CTt.vmt,(function(t){return t.Zht===zA.VA}));if(t)return t.Hw}},i.oSt=function(t){var n,i=null==(n=this.sAt)?void 0:n.jlt;if(!i)return BD.oU();var r=i.tbt,e=t?i.gMt:i.wAt;if(void 0===r||void 0===e)return BD.oU();if(!t){var u=this.eSt;u.U>0&&u.jn(u.U-1)>e&&(e=g.min(u.jn(u.U-1),i.gMt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),BD.rU(r,e).PB()},i.$n=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:jo(n),u=i.sAt.jlt;try{r=u.ibt,e=u.$Mt}catch(t){throw new v("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new v("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new v("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.bSt(t.textTracks),i.z5(),s=i.Eot(r),o=TF(r,s,void 0,void 0,i.Jvt),a=i.OTt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.jTt(o,a),[4,i.E1(c)];case 1:return f.sent(),i.UTt=c,jo(n),[4,i.TTt(r,s,o,a)];case 2:return h=f.sent(),jo(n),i.TSt(h),i.Y5(),jo(n),[4,h.dat()];case 3:return f.sent(),jo(n),!i.SSt&&e>0&&i.JA(e,!0,MF.Ebt),i.aU||(i.zTt(),i.NSt()),[2]}}))}))()},i.zTt=function(){this.ITt.g_(),this.ITt=new So,this.LTt=this.ISt(this.LTt,this.ETt,this.ITt.f_).catch(this.pmt)},i.DSt=function(){this.ITt.g_()},i.ISt=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,K.all([t,n])];case 1:s.sent(),jo(i),s.label=2;case 2:return(u=null==(e=r.CTt)?void 0:e.yc)?[4,r.ESt(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.ESt=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:jo(n),e=i.CTt,s.label=1;case 1:return i.sAt.jlt.Av!==NU.Sj||void 0!==(null==(r=i.dMt(t))?void 0:r.$pt)?[3,4]:[4,zo(i.kSt.gbt,n)];case 2:return s.sent(),[4,i.LSt()];case 3:return s.sent(),[3,1];case 4:return jo(n),[4,i.LSt()];case 5:s.sent(),jo(n),s.label=6;case 6:return e.$vt()?[3,9]:[4,e.k_(DU.Ldt,n)];case 7:return s.sent(),[4,i.LSt()];case 8:return s.sent(),[3,6];case 9:return jo(n),[4,i.LSt()];case 10:return s.sent(),jo(n),(u=i.dMt(t))?i.xSt(u)?[4,i.CSt(u,n)]:[3,12]:(i.x0(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.OSt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.xSt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.bc)?void 0:n.seamlessSwitchStrategy)?u:DN.LT;if(s===DN.PT)return!0;if(s===DN.zT)return!1;var o=this.CTt,a=null==o?void 0:o.yc,c=null==o?void 0:o.vmt,h=TF(t,this.Eot(t),a,c,this.Jvt),f=this.OTt(t,h,a,c,!1);if(s===DN.CLEAR_ONLY&&((null==(i=this.CTt)?void 0:i.Svt)||f)||s===DN.SAME_DRM_ONLY&&!((null==(r=this.CTt)?void 0:r.Svt)&&f||!(null==(e=this.CTt)?void 0:e.Svt)&&!f))return!1;var v=this.jTt(h,f);return this.fTt(v)},i.jSt=function(){return!0},i.RSt=function(t){for(var n=this.PSt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r._v=h_.Ch)}},i.BTt=function(){if(void 0!==this.zSt){if(this.zSt.pv){var t=ro(this.ht.Rw,(function(t){return t.Rt}));void 0!==t&&this.zSt.gs===t.gs||(this.zSt._v=h_.Ch)}}else this.BSt()},i.BSt=function(){if(!this.PSt().length){var t=ro(this.ht.Rw,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.Rw.filter((function(t){return t.pv})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r._v=h_.Jn,void(this.zSt=r)}}},i.PSt=function(){return this.nt.Rw.filter((function(t){return t._v===h_.Jn&&(t.zt===C_.sD||t.zt===C_.HA)}))},i.USt=function(t){if(t&&this.zSt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.zSt,t.nt.Rw);n&&(n._v=h_.Jn)}},i.CSt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return zt(this,(function(g){switch(g.label){case 0:u=i.CTt,s=i.WTt,o=i.UTt,g.label=1;case 1:return g.trys.push([1,16,,22]),jo(n),a=u.yc,c=u.vmt,h=i.Eot(t),f=TF(t,h,a,c,i.Jvt),v=i.OTt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),d=i.jTt(f,v),[4,u.aat()];case 2:return g.sent(),i.M0(),jo(n),s&&s.yc===t?i.fTt(d)?[4,i.wTt(d)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.UTt=d,[3,11];case 5:return s?[4,s.gn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.fTt(d)?[4,i.wTt(d)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.UTt=d,[4,i.TTt(t,h,f,v)];case 10:s=g.sent(),i.WTt=s,i.ySt(s),i.QSt.Uw=s.nt,g.label=11;case 11:return[4,s.dat()];case 12:g.sent(),jo(n),g.label=13;case 13:return i.FTt<t.Cn?[4,i.Fm.k_(dd.fm,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return jo(n),i.TSt(s),[3,22];case 16:return Co(l=g.sent())?s?[4,s.aat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.UTt!==o?i.fTt(o)?[4,i.wTt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.UTt=o,g.label=21;case 21:throw l;case 22:return(null==(e=i.bc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.FSt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.FSt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.YSt?[3,1]:(i.YSt=r,[3,5]);case 1:if(!(r-i.YSt>900))return[3,5];i.YSt=r,i.QTt(),e=g.max(i.FTt,t.Cn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.YTt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.GTt(),[7];case 5:return[2]}}))}))()},i.OSt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:return jo(n),[4,i.CTt.aat()];case 1:return v.sent(),i.M0(),[4,i.ATt(t.Cn)];case 2:v.sent(),jo(n),i.x0(),v.label=3;case 3:return!i.Fm.G_&&i.FTt<t.Cn?[4,i.Fm.k_([dd.fm,dd.Ov],n)]:[3,5];case 4:return v.sent(),[3,3];case 5:return jo(n),r=i.CTt.yc,e=i.CTt.vmt,u=i.Eot(t),s=TF(t,u,r,e,i.Jvt),o=i.OTt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.jTt(s,o),i.CTt?(i.GSt.fn(cA.ra,i.VSt),[4,i.CTt.gn()]):[3,7];case 6:v.sent(),i.GSt.yn(cA.ra,i.VSt),i.CTt=void 0,v.label=7;case 7:return i.WTt?[4,i.WTt.gn()]:[3,9];case 8:v.sent(),i.WTt=void 0,v.label=9;case 9:return i.QTt(),i.z5(),c=g.max(i.FTt,t.Cn),[4,i.vTt()];case 10:return v.sent(),[4,i.E1(a)];case 11:return v.sent(),i.UTt=a,[4,i.TTt(t,u,s,o)];case 12:h=v.sent(),i.TSt(h),v.label=13;case 13:return v.trys.push([13,,16,17]),f=i.YTt(c,!1,!0,n),[4,h.dat()];case 14:return v.sent(),[4,Bo((function(t){return K.race([f,h.k_([DU.Ldt],t)])}),n)];case 15:return v.sent(),[3,17];case 16:return i.Y5(),i.GTt(),[7];case 17:return[2]}}))}))()},i.LSt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return(n=t.WTt)?n.yc.Eht?[4,n.gn(!0)]:[3,2]:[2];case 1:i.sent(),t.WTt=void 0,i.label=2;case 2:return[2]}}))}))()},i.Eot=function(t){for(var i=[],r=[],e=0,u=t.Xvt;e<u.length;e++){var s=u[e];if(s.Av===zA.WA||s.Av===zA.VA)if(0===s.Bot.length)this.Co(new IU("No supported representation found in the AdaptationSet with mimetype : "+s.Av));else if(s.Av===zA.WA){var o;(o=i).push.apply(o,Lt(s.kot))}else{var a;(a=r).push.apply(a,Lt(s.kot))}}var c=[];return i.length>0&&c.push(n.WSt(zA.WA,i)),r.length>0&&c.push(n.WSt(zA.VA,r)),c},i.jTt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return GP.Jct(null!=(n=t.rdt)?n:t.Bot,NN(t.Zht,f.Jvt))})).map((function(t){return{Nz:t.Nz}})),d=null==(r=this.bc)||null==(i=r.dash)?void 0:i.desiredTimescale,l=(null==(e=this.bc)?void 0:e.seamlessSwitchStrategy)!==DN.zT&&(null==(u=this.bc)?void 0:u.seamlessSwitchStrategy)!==DN.CLEAR_ONLY&&(null==(s=this.bc)?void 0:s.seamlessSwitchStrategy)!==DN.SAME_DRM_ONLY&&(null!=(h=null==(a=this.bc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:on.Ys.D0),g=null==(c=this.bc)?void 0:c.useManagedMediaSource;return{Av:ek.Sj,F1:v,Iz:nV(n),B3:null==n?void 0:n.B3,D0:l,E0:d,t2:g}},i.OTt=function(t,i,r,e,u){var s,o,a,c=this.bc.contentProtection,h=n.HSt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.bc)?void 0:s.seamlessSwitchStrategy)?a:DN.LT;if(f!==DN.zT&&f!==DN.CLEAR_ONLY&&f!==DN.SAME_DRM_ONLY){var v=null==(o=this.CTt)?void 0:o.Svt;if(!u&&void 0!==v){var d=!v.B3;if(f===DN.LT&&d&&!this.jSt())return;return v}var l=!u&&f===DN.LT;if(void 0!==(h=this.XSt(t,c,r,e,l)))return h.B3=!0,h}},i.XSt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this._Mt(s):this.dMt(s))){var a=TF(s,this.Eot(s),r,e,this.Jvt),c=n.HSt(a,i);if(u){var h=this.jTt(a,c);if(!this.fTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.bSt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.Rz.nE(i)}rk(this.Rz.Z)},i.Hg=function(){var t,n=this.fg;this.tSt=!0,n||(this.r5||(this.ZSt(new Lo),this.qSt()),(null==(t=this.fz)?void 0:t.Lm)&&this.fz.Zg(),this.KSt())},i.Xg=function(){this.JSt||(this.JSt=new Cc),this.$St();var t=this.JSt.OL;return Qo(t),t},i.$St=function(){if(this.tSt=!1,this.v5=!0,this.nSt(),this.G_){var t=this.ZTt;t.U>0&&this.JA(t.Cn(0))}this.r5||this.A5().then(this.tNt,this.ZSt),this.STt(),this.KSt()},i.A5=function(){return this.Fm.Xg()},i.qSt=function(){this.Fm.Hg()},i.z5=function(){this.r5||(this.tSt=this.fg,this.r5=!0,this.qSt())},i.Y5=function(){this.r5&&(this.r5=!1,this.tSt||this.A5().then(this.tNt,this.ZSt),this.STt(),this.KSt())},i.KSt=function(){var t=this.Bj,n=this.fg;t!==n&&(this.Bj=n,n?this.Co(new uD(this.U_)):this.Co(new sD(this.U_)))},i.JA=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=MF.Dbt),this.SSt=!0,this.ITt.g_(),this.L5.g_(),this.aU=!0,this.s5=t,this.sSt(this.eSt),this.iNt(new hD(this.U_)),this.L5=new So,this.x5=this.C5(t,this.LTt,this.x5,this.ETt,this.L5.f_,n,i).catch(this.pmt),this.x5},i.eNt=function(){this.L5.g_()},i.C5=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=MF.Dbt),void 0===o&&(o=!1);var a=this;return xt((function(){var c,h,f,v,d,l,g,w,y,A,m,p,_,k,M,b,T,N;return zt(this,(function(D){switch(D.label){case 0:null==(c=a.fz)||c.Zg(),0,D.label=1;case 1:return D.trys.push([1,30,,31]),[4,K.all([n,i,r])];case 2:return D.sent(),jo(e),[4,zo(a.xTt.OL,e)];case 3:return D.sent(),v=a.ZTt.zB(t),a.s5=v,d=o||(null==(f=a.bc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.U_,l=a.sNt(v),g=a.CTt,d||!g||!g.Ig.gr(v)&&s!==MF.Ebt&&g.yc!==l?[3,8]:!(w=a.WTt)||w.hmt?[3,7]:[4,w.aat()];case 4:return D.sent(),a.M0(),y=a.jTt(g.mmt,g.Svt),a.fTt(y)?[4,a.wTt(y)]:[3,6];case 5:D.sent(),D.label=6;case 6:a.UTt=y,D.label=7;case 7:return[3,27];case 8:return l?(A=a.WTt,a.z5(),g?[4,g.aat()]:[3,10]):[3,27];case 9:D.sent(),D.label=10;case 10:return!A||A.yc!==l||d?[3,13]:(m=a.jTt(A.mmt,A.Svt),a.M0(),a.fTt(m)?[4,a.wTt(m)]:[3,12]);case 11:D.sent(),D.label=12;case 12:return a.UTt=m,[3,25];case 13:return A?[4,A.gn(!0)]:[3,15];case 14:D.sent(),D.label=15;case 15:return p=a.Eot(l),_=null==g?void 0:g.yc,k=null==g?void 0:g.vmt,M=TF(l,p,_,k,a.Jvt),b=a.OTt(l,M,_,k,!1),M.forEach((function(t){return t.Rt=!0})),T=a.jTt(M,b),!a.xSt(l)||d?[3,18]:(a.M0(),a.fTt(T)?[4,a.wTt(T)]:[3,17]);case 16:D.sent(),D.label=17;case 17:return[3,23];case 18:return b=a.OTt(l,M,_,k,!0),T=a.jTt(M,b),g?(a.GSt.fn(cA.ra,a.VSt),[4,g.gn()]):[3,20];case 19:D.sent(),a.GSt.yn(cA.ra,a.VSt),a.CTt=void 0,D.label=20;case 20:return[4,a.vTt()];case 21:return D.sent(),[4,a.E1(T)];case 22:D.sent(),D.label=23;case 23:return a.UTt=T,[4,a.TTt(l,p,M,b)];case 24:A=D.sent(),a.WTt=A,a.QSt.Uw=A.nt,a.ySt(A),D.label=25;case 25:return[4,A.dat(QB.Got)];case 26:return D.sent(),a.TSt(A),[3,27];case 27:return N=a.YTt(v,u,!1,e),a.s5=void 0,[4,a.CTt.dat(QB.Got)];case 28:return D.sent(),jo(e),a.zTt(),[4,N];case 29:return D.sent(),jo(e),a.Y5(),a.aU=!1,a.nNt(new fD(a.U_)),a.NSt(),[3,31];case 30:return Co(D.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.NSt=function(){if(!this.fg&&!this.Eg&&void 0!==this.Km){var t,n,i=this.U_;if(this.U_+this.Km-this.Qg.wd.maximumOffset<i)null==(t=this.fz)||t.Cn();else null==(n=this.fz)||n.Zg()}},i.YTt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:u=!0,s=t,f.label=1;case 1:if((c=e.hSt).U>0&&(h=c.zB(t),s!==h&&(c.gr(s)&&e.sAt.jlt.Av===NU.Sj||(s=h,u=!0))),u)u=!1,o&&Qo(o),null==a||a.g_(),(a=new So).w_(r),o=e.rNt(s,n,i,a.f_);else if(!e.aSt&&!e.s2)return[3,3];return[4,Bo((function(t){return K.race([o,e.k_([dd.nm,dd.Lv],t),e.sAt.jlt.k_(FB.Nht,t)])}),r)];case 2:return f.sent(),[3,1];case 3:return[2]}}))}))()},i.rNt=function(t,n,i,r){var e=this;return xt((function(){return zt(this,(function(u){switch(u.label){case 0:e.Fm.JA(t,n,i),u.label=1;case 1:return e.aSt||e.s2?[4,e.Fm.k_([dd.$v,dd.Fv],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.QTt=function(){void 0===this.HTt&&(this.HTt=this.FTt,this.Fm.fn(dd.im,this.iNt),this.Fm.fn(dd.$v,this.nNt))},i.GTt=function(){if(void 0!==this.HTt){var t=this.FTt;this.HTt=void 0,this.Fm.yn(dd.im,this.iNt),this.Fm.yn(dd.$v,this.nNt),this.FTt!==t&&this.wc()}},i.oNt=function(t){this.Uo=this.Uo.YB(t)},i.sNt=function(t){var n=this.sAt.jlt,i=n.omt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Cn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.jn>t)return u}return n.Av!==NU.Sj?i[i.length-1]:void 0}},i._Mt=function(t){for(var n=t.fMt;n&&n.ct<.2;)n=n.fMt;return n},i.dMt=function(t){for(var n=t.lMt;n&&n.ct<.2;)n=n.lMt;return n},i.ga=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return r.Lz.HP(t.contentProtection),r.hNt(),!r.bc||JN(r.bc)?[3,2]:[4,r.tr()];case 1:c.sent(),c.label=2;case 2:return!t||JN(t)?[2]:(r.dE=new So,i&&r.dE.w_(i),r.bc=t,r.aNt=n,r.Jvt=t.abr,r.jvt=t.ignoreEmbeddedTextTrackTypes,u=new xF(r.aE,Boolean(r.bc.useCredentials),r.Mlt),s=BF(u,r.rut),r.JMt(!0),r.kSt=new pF({yv:on.Dh(r.bc.src),nbt:null!=(o=null==(e=r.bc.latencyConfiguration)?void 0:e.targetOffset)?o:r.bc.liveOffset,ubt:r.bc.timeServer,tE:r.bc.useCredentials},r.uNt(r.Jvt),r.aE,s,r.bc.dash),r.sAt=r.kSt.Tr,r.sAt.jlt.yn(dd.Gv,r.cNt),r.sAt.jlt.yn(dd.Vv,r.lNt),r.sAt.jlt.yn(KG.MMt,r.dNt),r.sAt.jlt.yn(FB.Nht,r.STt),[4,r.fNt.$n(r.sAt.jlt)]);case 3:return c.sent(),[4,r._Nt.$n(r.sAt.jlt)];case 4:return c.sent(),fo(r.jvt,cm.EMSG)?[3,6]:(r.Avt=new dV(r.oE),r.Dl.tz(r.Avt.Z),[4,r.Avt.$n(r.sAt.jlt)]);case 5:c.sent(),c.label=6;case 6:return t.latencyConfiguration&&(a=t.latencyConfiguration,r.fz=new gV(r,r.Fm,a),r.fz.Rt=!0,r.bz.ka(r.fz)),r.nSt(),[2]}}))}))()},i.gNt=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return n=t.sAt.jlt.cg,t.JMt(n),n?(t.pSt(),[3,3]):[3,1];case 1:return[4,K.all([null==(i=t.CTt)?void 0:i.aat(QB.rht),null==(r=t.WTt)?void 0:r.aat(QB.rht)].filter(zn))];case 2:e.sent(),t.DSt(),t.eNt(),t.DTt.g_(),e.label=3;case 3:return[2]}}))}))()},i.JMt=function(t){this.KMt!==t&&(this.KMt=t,this.Co(t?new UF:new QF))},i.nSt=function(){return this.sAt?(this.wNt=this.vNt(this.wNt,this.dE.f_),this.wNt.catch(this.pmt)):K.resolve()},i.vNt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),jo(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.yg===CD.LT||i.v5?[4,i.mNt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.yg!==CD.ZA?[3,6]:[4,i.pNt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw xo(r=e.sent()),i.rB(new Fv(Qv.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.mNt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.pNt(t)];case 1:r.sent(),n.ANt||(n.ANt=!0,n.xTt.w_(n.$n(n.aNt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.xTt.OL];case 3:return r.sent(),[3,5];case 4:return xo(i=r.sent()),n.rB(new Fv(Qv.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.pNt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return[4,zo(n.kSt.W,t)];case 1:return a.sent(),i=n.sAt.jlt,void 0===n.fz&&i.Av===NU.Sj&&(r=i.Wpt,e=(null==r?void 0:r.EMt)?(null==r?void 0:r.EMt)/1e3:i.ebt,u=(null==r?void 0:r.NMt)?(null==r?void 0:r.NMt)/1e3:.5*e,s=(null==r?void 0:r.DMt)?(null==r?void 0:r.DMt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:QT,maximumPlaybackRate:YT},n.fz=new gV(n,n.Fm,o),n.bz.ka(n.fz)),[2]}}))}))()},i.TSt=function(t){var i=this.CTt;t!==i&&(this.CTt&&this.ASt(this.CTt),this.WTt&&this.MSt(this.WTt),i&&this.sSt(this.eSt),this.CTt=t,this.WTt=i,this.fSt(this.CTt),this.WTt&&this.ySt(this.WTt),this.YT.Uw=t.ht,this.VT.Uw=t.rt,this.USt(t),this.GSt.fn(cA.ra,this.VSt),n.yNt(this.GSt),this.GSt.yn(cA.ra,this.VSt),this.GSt.Uw=t.nt,this.QSt.Uw=void 0,this.BSt())},i.ge=function(){this.Fm.ge()},i.be=function(){this.Fm.be()},i.rB=function(t){this.vz||(Qo(this.tr()),this.vz=YA(t),this.mz=t,this.Co(new uT(t)))},i.hNt=function(){this.vz=void 0,this.mz=void 0},i._Tt=function(){var t=this.yz;t&&(t.D1&&(t.D1.iX=this.wU.lX),t.I1&&(t.I1.iX=this.wU.lX))},i.gTt=function(){var t=this.yz;t&&(t.D1&&(t.D1.rX=this.wU.rX),t.I1&&(t.I1.rX=this.wU.rX))},i.determineStallJumpTarget=function(){if(this.CTt)return this.CTt.$vt()&&this.U_>this.CTt.jn-YC&&!this.CTt.nmt?this.CTt.jn:void 0},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:if(t.MNt)return[2,t.MNt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.MNt=t.bNt(),[4,t.MNt];case 2:return n.sent(),[3,4];case 3:return t.MNt=void 0,[7];case 4:return[2]}}))}))()},i.bNt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.gg=1,t.dE.g_(),t.eNt(),t.DSt(),t.DTt.g_(),t.xTt.g_(),t.SSt=!1,t.Hg(),t.v5=!1,t.YT.Uw=void 0,t.VT.Uw=void 0,t.GSt.Uw=void 0,t.QSt.Uw=void 0,t.wNt?[4,t.wNt.catch(Hn)]:[3,2];case 1:n.sent(),t.wNt=void 0,n.label=2;case 2:return[4,K.all([t.LTt,t.x5,t.ETt,t.xTt.OL.catch(Hn)])];case 3:return n.sent(),t.CTt?[4,t.CTt.gn(!0)]:[3,5];case 4:n.sent(),t.CTt=void 0,n.label=5;case 5:return t.WTt?(t.MSt(t.WTt),[4,t.WTt.gn(!0)]):[3,7];case 6:n.sent(),t.WTt=void 0,n.label=7;case 7:return[4,t.vTt()];case 8:return n.sent(),t.UTt=void 0,t.zSt=void 0,t.zz.tr(),[4,t.fNt.tr()];case 9:return n.sent(),[4,t._Nt.tr()];case 10:return n.sent(),void 0===t.Avt?[3,12]:(t.Dl.sz(t.Avt.Z),[4,t.Avt.gn()]);case 11:n.sent(),t.Avt=void 0,n.label=12;case 12:return t.oE.tr(),t.sAt?(t.sAt.jlt.fn(dd.Gv,t.cNt),t.sAt.jlt.fn(dd.Vv,t.lNt),t.sAt.jlt.fn(KG.MMt,t.dNt),[4,t.kSt.gn()]):[3,14];case 13:n.sent(),t.sAt=void 0,n.label=14;case 14:return t.rSt=!1,t.TNt=NaN,t.SNt=0,t.NNt=0,t.HTt=void 0,t.r5=!1,t.Uo=BD.oU(),t.Bj=!0,t.s5=void 0,t.INt=!1,t.aU=!1,t.ANt=!1,t.xTt=new Cc,t.KTt=0,t.JTt=0,t.$Tt=0,t.bc=void 0,t.aNt=void 0,t.jvt=[],t.YSt=void 0,t.bz.tr(),t.fz=void 0,t.mTt={HT:0,XT:0,ZT:0},[4,t.Rz.tr()];case 15:return n.sent(),t.Fm.Pz(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.hNt(),[4,t.tr()];case 1:return n.sent(),t.Vo(),t.YT.gn(),t.VT.gn(),t.GSt.gn(),t.QSt.gn(),t.Dl.gn(),t.zz.gn(),t.DNt.h_(),[4,t.fNt.gn()];case 2:return n.sent(),[4,t._Nt.gn()];case 3:return n.sent(),t.oE.gn(),t.Fm.fn(dd.Lv,t.E6),t.Fm.fn(Ko.Cv,t.H3),t.Fm.fn(dd.Ov,t.N6),t.Fm.fn(dd.im,t.iNt),t.Fm.fn(dd.$v,t.nNt),t.Fm.fn(dd.Jv,t.mSt),t.Fm.fn(dd.fm,t.wc),t.Fm.fn([dd.jh,dd.Sh],t.ENt),t.Fm.fn(yV,t.Ds),[4,t.Rz.gn()];case 4:return n.sent(),t.Dl.gn(),t.wU.fn("tX",t.kNt),t.wU.fn("nX",t.LNt),t.Fm.fn(f_.ha,t.xNt),t.Fm.fn([dd.Iv,dd.Nv],t.Ds),t.Fm.Qz=void 0,t.Fm.G6=void 0,[2]}}))}))()},i.Gg=function(){return this.Fm.ya},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.$g=function(){},i.iw=function(){this.NTt(!0)},n.WSt=function(t,n){for(var i=function(t){var i=n[t];if(-1!==e.indexOf(i))return"continue";var r=function(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.irt})).map((function(t){return t.lT})).filter(zn);if(n||fo(i,"main"))return fo(i,"caption")?"captions":fo(i,"subtitle")?"subtitles":fo(i,"dub")?"translation":"main";if(fo(i,"sign"))return"sign";if(fo(i,"description"))return"descriptions";if(fo(i,"commentary"))return"commentary";return"alternative"}(i.Wlt.concat(i.Sdt),s);s=!1;for(var o=i.Bot.map((function(t){return t.Lht})),a=new pU(i,o,r),c=function(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=ro(n,(function(t){return t.o===r}));e&&o.push(e)},u=ro(Lt(t.Zmt).concat(Lt(t.qmt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.irt})),s=null!=(r=null==u||null==(i=u.lT)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}(i,n),h=0;h<c.length;h++){var f=c[h];a.hdt(f),e.push(f)}u.push(a)},r=n.some((function(t){return t.Sdt.some((function(t){return"main"===t.lT}))})),e=[],u=[],s=!r,o=0;o<n.length;o++)i(o);return new kF(t,u)},n.HSt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.cdt.length;i=HF(i,$F(e.Out,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.Nvt=eV(i.Nvt,n.preferredKeySystems)),i}},n.yNt=function(t){for(var n=0,i=t.Rw;n<i.length;n++){i[n]._v=h_.Ch}},At(n,[{key:"ht",get:function(){return this.YT}},{key:"_z",get:function(){var t=this.FTt,n=this.VTt,i=n.WB(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"VTt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.CTt)?void 0:t.O_)?i:BD.oU(),u=null!=(r=null==(n=this.WTt)?void 0:n.O_)?r:BD.oU();return e.YB(u)}},{key:"O_",get:function(){return this.VTt.ks()}},{key:"R_",get:function(){var t,n=null==(t=this.sAt)?void 0:t.jlt,i=null==n?void 0:n.jpt;if(n&&i){var r=i.getTime(),e=1e3*this.U_;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.sAt)?void 0:n.jlt,r=null==i?void 0:i.jpt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.JA(u-e)}}},{key:"bt",get:function(){return this.bc}},{key:"FTt",get:function(){return void 0!==this.s5?this.s5:void 0!==this.HTt?this.HTt:this.Fm.U_}},{key:"U_",get:function(){return this.FTt},set:function(t){this.F_(t)}},{key:"ct",get:function(){var t=NaN;return this.CTt&&this.CTt.nmt?t=this.CTt.jn:this.sAt&&void 0!==this.sAt.jlt.Av&&(t=this.sAt.jlt.Upt?this.sAt.jlt.Upt.bmt():1/0),t}},{key:"jn",get:function(){return this.ct}},{key:"G_",get:function(){return!(!this.CTt||!this.CTt.nmt)&&(this.Eg?this.FTt===this.CTt.jn:this.Fm.G_)}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"eg",get:function(){return Xu({},this.pTt,{qT:cT.lL.OP(),KT:this.KTt,JT:{amountOfBufferedAudioSegments:this.JTt,amountOfBufferedVideoSegments:this.$Tt}})}},{key:"pTt",get:function(){return function(t,n){return{HT:t.HT+n.HT,XT:t.XT+n.XT,ZT:t.ZT+n.ZT}}(this.mTt,this.Fm.rg())}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"fg",get:function(){return this.r5?this.tSt:this.CTt&&this.CTt.nmt?this.iSt:this.tSt}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"pg",get:function(){var t=this.Uo;return this.CTt&&(t=t.YB(this.eSt)),t.FB(.1).ks()}},{key:"eSt",get:function(){return this.Fm.pg}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az=t,this.nSt()}},{key:"Sg",get:function(){var t=this.Fm.Sg;return this.rSt&&(t=g.max(ak.Xn,t)),t}},{key:"ZTt",get:function(){return this.oSt(!1)}},{key:"hSt",get:function(){return this.oSt(!0)}},{key:"Ig",get:function(){return this.ZTt.ks()}},{key:"Eg",get:function(){return this.aU||this.aSt}},{key:"aSt",get:function(){return this.Fm.Eg}},{key:"s2",get:function(){return this.Fm.s2}},{key:"Mz",get:function(){}},{key:"uSt",get:function(){var t,n;return null!=(n=null==(t=this.sAt)?void 0:t.jlt.Av)?n:NU.Tj}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"Cg",get:function(){var t;return this.cSt||(null==(t=this.lSt())?void 0:t.Ti)||0}},{key:"Rg",get:function(){var t;return this.dSt||(null==(t=this.lSt())?void 0:t.ji)||0}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=Bi(t,0,1)}},{key:"Qg",get:function(){return this.bz}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"iSt",get:function(){return this.Fm.fg}},{key:"cg",get:function(){return this.KMt}},{key:"K_",get:function(){return!1}},{key:"Km",get:function(){var t,n=null==(t=this.sAt)?void 0:t.jlt;if(n&&n.Av===NU.Sj&&n.jpt)return n.Olt().getTime()/1e3-n.jpt.getTime()/1e3-this.U_}}]),n}(Xo),mV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qo=n,r}return kt(n,t),n.prototype.CNt=function(){this.Co(new ck(this.U_,this.Sg))},At(n,[{key:"Sg",get:function(){return this.Qo.Sg}}]),n}(Ak);var pV=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new AB(o))||this).hrt=o,jn.zk&&(a.jNt=new xB(Vt(a))),a}kt(n,t);var i=n.prototype;return i.Vg=function(){if(wB(this.Fm))return this.Fm.Vg()},i.gn=function(){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.jNt)||i.gn(),[2]}}))}))()},i.xSt=function(n){var i,r;return((null!=(r=null==(i=this.bc)?void 0:i.seamlessSwitchStrategy)?r:DN.LT)!==DN.LT||!jn.Kk)&&t.prototype.xSt.call(this,n)},i.jSt=function(){return!(jn.wk&&jn.pk<3)&&t.prototype.jSt.call(this)},i.ONt=function(){return new mB(this,new Sx)},i.uNt=function(t){return yB(t)},At(n,[{key:"cSt",get:function(){return wB(this.Fm)?this.Fm.Cg:0}},{key:"dSt",get:function(){return wB(this.Fm)?this.Fm.Rg:0}}]),n}(AV),_V=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new jB(s),f=h.oB(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).Yz=h,c}return kt(n,t),n.prototype.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n}(pV);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Wt(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var kV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ast=n,r}kt(n,t);var i=n.prototype;return i.j_=function(){return t.prototype.j_.call(this).KA(this.RNt)},i.Crt=function(){return t.prototype.Crt.call(this).KA(this.RNt)},i.V$=function(n,i,r){var e=this.RNt;return t.prototype.V$.call(this,n,{F7:i.F7-e,ct:i.ct,pI:i.pI-e},r)},i.u0=function(n,i){var r=this.RNt;return t.prototype.u0.call(this,g.max(0,n-r),g.max(0,i-r))},i.rS=function(n,i,r){var e=this.RNt;return t.prototype.rS.call(this,g.max(0,n-e),g.max(0,i-e),r)},i.B0=function(n,i){var r=this.RNt;t.prototype.B0.call(this,g.max(0,n-r),g.max(0,i-r))},i.U0=function(n,i){var r=this.RNt;t.prototype.U0.call(this,g.max(0,n-r),g.max(0,i-r))},At(n,[{key:"RNt",get:function(){return this.ast.RNt}}]),n}(NB),MV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Trt(i),r.ast=n,r}kt(n,t);var i=n.prototype;return i.Td=function(){return t.prototype.Td.call(this)+this.RNt},i.P1=function(n){t.prototype.P1.call(this,n-this.RNt)},i.Dg=function(){return t.prototype.Dg.call(this).KA(this.RNt)},i.Q1=function(n,i,r,e){var u=this.RNt;t.prototype.Q1.call(this,n-u,i-u,r,e)},i.Nrt=function(t){return new kV(this,t)},At(n,[{key:"RNt",get:function(){return this.ast.RNt}}]),n}(bB),bV=function(t){function n(n){var i;return(i=t.call(this,n)||this).PNt=0,i.oE=new mB(Vt(i),new Sx),i.Dl=new dT([i.oE.nt,t.prototype.xg.call(Vt(i))]),i.m7=new fO,i.m7.Y6(i.pz.parentElement),i.p7=new Nz(i.m7.we,i.Iu,i.Dl,i.Ol,i.ya),i}kt(n,t);var i=n.prototype;return i.j_=function(){return t.prototype.j_.call(this).KA(this.PNt)},i.P_=function(){return TV(t.prototype.P_.call(this),this.PNt)},i.Q_=function(){return t.prototype.Q_.call(this)+this.PNt},i.Td=function(){return t.prototype.Td.call(this)+this.PNt},i.Ag=function(){return t.prototype.Ag.call(this).KA(this.PNt)},i.Dg=function(){return t.prototype.Dg.call(this).KA(this.PNt)},i.JA=function(n,i,r){var e=g.max(0,n-this.PNt);t.prototype.JA.call(this,e,i,r)},i.gz=function(n){t.prototype.gz.call(this,TV(n,-this.PNt))},i.xg=function(){return this.Dl},i.rE=function(t,n,i,r,e,u,s,o){return this.oE.rE(t,n,i,r,e,u,s,o)},i.fE=function(t){this.oE.fE(t)},i.Pz=function(){this.oE.tr(),t.prototype.Pz.call(this)},i.Cz=function(){return!1},i.jz=function(t,n,i,r,e){throw new v("Not supported")},i.h_=function(){return this.p7.gn(),this.m7.gn(),this.oE.gn(),this.Dl.gn(),t.prototype.h_.call(this)},i.Art=function(t){return new MV(this,t)},i.prt=function(t){return new EB(t)},i.ew=function(n){var i;switch(n.type){case dd.jh:i=new sD(n.currentTime+this.PNt);break;case dd.Sh:i=new uD(n.currentTime+this.PNt);break;case uk.Sm:i=new gk(n.currentTime+this.PNt);break;case dd.fm:i=new nA(n.currentTime+this.PNt,TV(n.currentProgramDateTime,this.PNt));break;case dd.Zv:i=new DL(n.currentTime+this.PNt);break;case dd.im:i=new hD(n.currentTime+this.PNt);break;case dd.$v:i=new fD(n.currentTime+this.PNt);break;case dd.Uv:i=new $C(n.currentTime+this.PNt);break;case dd.Fv:i=new qx(n.currentTime+this.PNt);break;case dd.Ov:i=new cD(n.currentTime+this.PNt);break;case dd.qv:i=new aD(n.currentTime+this.PNt,n.playbackRate);break;case dd._m:i=new vD(n.currentTime+this.PNt,n.volume);break;case dd.Lv:i=new oD(n.duration+this.PNt);break;case uk.Nw:i=new ck(n.currentTime+this.PNt,n.readyState);break;default:i=n}t.prototype.ew.call(this,i)},i.be=function(){t.prototype.be.call(this),this.m7.be()},i.ge=function(){t.prototype.ge.call(this),this.m7.ge()},At(n,[{key:"art",get:function(){return this.Fm}},{key:"RNt",get:function(){return this.PNt},set:function(t){this.PNt=t}}]),n}(SB);function TV(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var NV=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.oB=function(n){if(n===zA.VA)return new bV(t.prototype.oB.call(this,n))},i.Fz=function(n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},n}(pB),DV=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new NV(new jB(s)),f=h.oB(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).Yz=h,c.zNt=void 0,c}kt(n,t);var i=n.prototype;return i.E1=function(n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.E1.call(i,n)];case 1:return r.sent(),void 0===i.zNt&&(i.zNt=i.BNt(),i.Fm.RNt=i.zNt),[2]}}))}))()},i.BNt=function(){if(this.ct===1/0){var t=this.ZTt;if(t.U>0)return g.max(0,t.Cn(0)-300)}return 0},i.C5=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=MF.Dbt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&jn.wk&&jn.pk<3&&n<=this.U_),t.prototype.C5.call(this,n,i,r,e,u,s,o,a)},i.tr=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.zNt=void 0,n.Fm.RNt=0,[2]}}))}))()},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Fm.h_()];case 2:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 3:return i.sent(),[2]}}))}))()},n.LO=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(jn.wk&&jn.pk<4)},n}(pV);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt();var IV=function(t){function n(n){return t.call(this,n)}return kt(n,t),At(n,[{key:"art",get:function(){return this.Fm}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Rg",get:function(){return this.Fm.Rg}}]),n}(_B);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt();var EV=function(t){function n(n){var i;return(i=t.call(this,n)||this).b0=void 0,i.UNt=void 0,i.fX=0,i.QNt=BD.oU(),i.FNt=BD.oU(),i.HNt=[],i.B7=!1,i.WNt=!1,i.cX=0,i.GO=n.wd,i}kt(n,t);var i=n.prototype;return i.krt=function(){return this.UNt?this.fX:t.prototype.krt.call(this)},i.Lrt=function(n){this.UNt?this.fX=n:t.prototype.Lrt.call(this,n)},i.j_=function(){return this.UNt?this.QNt:t.prototype.j_.call(this)},i.wO=function(){return this.UNt?this.GO:t.prototype.wO.call(this)},i.Crt=function(){return this.UNt?this.FNt:t.prototype.Crt.call(this)},i.Ort=function(){return this.UNt?this.cX:t.prototype.Ort.call(this)},i.jrt=function(n){this.UNt?this.cX=n:t.prototype.jrt.call(this,n)},i.V$=function(t,n,i){var r=this;return this.W$((function(i){return r.YNt(t,n,i)}),i)},i.YNt=function(n,i,r){return t.prototype.V$.call(this,n,i,r)},i.Q0=function(){var t=this;return this.W$((function(){return t.GNt()}))},i.GNt=function(){return t.prototype.Q0.call(this)},i.X$=function(t,n,i){var r=this;return this.W$((function(i){return r.VNt(t,n,i)}),i)},i.VNt=function(n,i,r){return t.prototype.X$.call(this,n,i,r)},i.oq=function(){return this.UNt?this.B7:t.prototype.oq.call(this)},i.x0=function(){this.UNt?this.WNt=!0:t.prototype.x0.call(this)},i.B0=function(t,n){this.v0(),this.UNt?(this.FNt=this.FNt.YB(new BD([t,n])),this.HNt.push({Av:"Kut",MS:t,bS:n})):this.XNt(t,n)},i.XNt=function(n,i){t.prototype.B0.call(this,n,i)},i.u0=function(t,n){var i=this;return this.W$((function(){return i.ZNt(t,n)}))},i.ZNt=function(n,i){return t.prototype.u0.call(this,n,i)},i.U0=function(t,n){this.v0(),this.UNt?(this.FNt=this.FNt.VB(new BD([t,n])),this.HNt.push({Av:"rS",MS:t,bS:n})):this.qNt(t,n)},i.qNt=function(n,i){t.prototype.U0.call(this,n,i)},i.rS=function(t,n,i){var r=this;return this.W$((function(i){return r.KNt(t,n,i)}),i)},i.KNt=function(n,i,r){return t.prototype.rS.call(this,n,i,r)},i.GZ=function(t){var n=this;return this.W$((function(){return n.JNt(t)}))},i.JNt=function(n){return t.prototype.GZ.call(this,n)},i.W$=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return i.v0(),i.UNt?[4,zo(i.UNt.OL,n)]:[3,2];case 1:r.sent(),i.v0(),r.label=2;case 2:jo(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.b0=t(n),[4,i.b0];case 4:return r.sent(),[3,6];case 5:return i.b0=void 0,[7];case 6:return[2]}}))}))()},i.v0=function(){if(this.b0)throw new v("Internal error")},i.$Nt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:if(t.UNt)throw new d("Already locked");return t.UNt=new Cc,t.tIt(),t.b0?[4,t.b0.catch(Hn)]:[3,2];case 1:n.sent(),t.tIt(),n.label=2;case 2:return[2]}}))}))()},i.iIt=function(){var t;null==(t=this.UNt)||t.LL(),this.UNt=void 0,this.eIt()},i.tIt=function(){this.GO=t.prototype.wO.call(this),this.fX=t.prototype.krt.call(this),this.cX=t.prototype.Ort.call(this),this.QNt=t.prototype.j_.call(this),this.FNt=t.prototype.Crt.call(this),this.B7=t.prototype.oq.call(this),this.WNt=!1},i.eIt=function(){this.v0(),t.prototype.Lrt.call(this,this.fX),t.prototype.jrt.call(this,this.cX);var n=this.HNt.slice();lo(this.HNt);for(var i=0;i<n.length;i++){var r=n[i];"Kut"===r.Av?this.XNt(r.MS,r.bS):this.qNt(r.MS,r.bS)}this.WNt&&t.prototype.x0.call(this),this.QNt.KB(t.prototype.j_.call(this))||this.Co(new Jo(wL.CZ))},i.h_=function(){var n;null==(n=this.UNt)||n.g_(),this.UNt=void 0,t.prototype.h_.call(this)},n}(NB),SV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sIt=void 0,r.ast=n,r}kt(n,t);var i=n.prototype;return i.j_=function(){var n,i;return t.prototype.j_.call(this).YB(null!=(i=null==(n=this.sIt)?void 0:n.O_)?i:BD.oU())},i.Crt=function(){var n,i;return t.prototype.Crt.call(this).YB(null!=(i=null==(n=this.sIt)?void 0:n.R0)?i:BD.oU())},i.Lrt=function(n){t.prototype.Lrt.call(this,n),this.sIt&&(this.sIt.rX=n)},i.jrt=function(n){t.prototype.jrt.call(this,n),this.sIt&&(this.sIt.iX=n)},i.XNt=function(n,i){t.prototype.XNt.call(this,n,i),this.sIt&&this.sIt.B0(n,i)},i.qNt=function(n,i){t.prototype.qNt.call(this,n,i),this.sIt&&this.sIt.U0(n,i)},i.KNt=function(n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return jo(r),(u=[]).push(t.prototype.KNt.call(e,n,i,r)),e.sIt&&u.push(e.sIt.rS(n,i,r)),[4,K.all(u)];case 1:return s.sent(),[2]}}))}))()},i.FZ=function(n){return!!t.prototype.FZ.call(this,n)||this.ast.nIt(n)},i.JNt=function(n){return t.prototype.FZ.call(this,n)?t.prototype.JNt.call(this,n):this.ast.rIt(n)},i.oIt=function(t){var n,i;null==(n=this.sIt)||n.fn(_L,this.Rrt),this.sIt=t,null==(i=this.sIt)||i.yn(_L,this.Rrt)},n}(EV),LV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).hIt=void 0,r.jx=NaN,r.fIt=!1,r._It=!1,r.gIt=void 0,r.Trt(i),r.ast=n,r}kt(n,t);var i=n.prototype;return i.FZ=function(n){var i=void 0!==this.O1,r=void 0!==this.j1,e=n.F1.some((function(t){return Ls(t.Nz,"audio")})),u=n.F1.some((function(t){return Ls(t.Nz,"video")}));return i===e&&r===u&&(!!t.prototype.FZ.call(this,n)||(!(!this.hIt||!this.hIt.FZ(n))||this.ast.aIt(n)))},i.GZ=function(n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return t.prototype.FZ.call(i,n)?[4,t.prototype.GZ.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.hIt&&i.hIt.FZ(n)?(i.uIt(),[4,i.GZ(n)]):[3,4];case 4:return[4,i.ast.cIt(n)];case 5:return r.sent(),[4,i.GZ(n)];case 7:return[2]}}))}))()},i.nIt=function(t){return this.FZ(this.lIt(t))},i.rIt=function(t){return this.GZ(this.lIt(t))},i.lIt=function(t){var n=this.wd,i=n.F1.map((function(n){return Ls(t.Nz,"audio")&&Ls(n.Nz,"audio")||Ls(t.Nz,"video")&&Ls(n.Nz,"video")?t:n}));return Xu({},n,{F1:i})},i.Q1=function(n,i,r,e){t.prototype.Q1.call(this,n,i,r,e),this.hIt&&this.hIt.Q1(n,i,r,e)},i.dIt=function(){return!this.fIt&&this._It},i.Td=function(){return void 0!==this.gIt?this.gIt:this.dIt()?this.jx:t.prototype.Td.call(this)},i.P1=function(n){this.jx=n,this.gIt=void 0,this.dIt()||t.prototype.P1.call(this,n)},i.brt=function(){return!this.dIt()&&t.prototype.brt.call(this)},i.x0=function(){this.gIt=g.max(jV(this.yz.I1),jV(this.yz.D1)),this.dIt()||t.prototype.x0.call(this)},i.M0=function(){this.gIt=void 0,this.dIt()||t.prototype.M0.call(this)},i.Nrt=function(t){return new SV(this,t)},i.wIt=function(){this.fIt=!this.fIt},i.uIt=function(){var t=this.yz,n=this.hIt;n&&(this.fIt=!this.fIt,this.Trt(n),this.vIt(t),this.dIt()&&this.mIt())},i.vIt=function(t){var n,i;this.hIt=t,null==(n=this.O1)||n.oIt(null==t?void 0:t.I1),null==(i=this.j1)||i.oIt(null==t?void 0:t.D1)},i.pIt=function(t){var n=this.yz,i=this.hIt;if(i){var r=this.fIt,e=r?n:i,u=(r?i:n).O_.Jm(t);if(u){var s=WB(e.O_,this.Crt()).Jm(u.jn(0),Ki);if(s&&!(u.jn(0)+Ki>=s.jn(0)))return g.max(u.jn(0),s.Cn(0))}}},i.AIt=function(t,n){var i=this;if(this._It)return K.resolve();var r=this.fIt?this.hIt:this.yz;return r?(this._It=!0,this.yIt((function(n){if(jo(n),i._It)return function(t,n,i){return CV.apply(this,arguments)}(r,t,n)}),n)):K.resolve()},i.mIt=function(){if(this._It){var t=this.fIt?this.hIt:this.yz;if(t){var n;0,this._It=!1;var i=null!=(n=this.gIt)?n:this.jx;t.ct<i&&t.P1(i),t.M0()}}},i.MIt=function(t){var n,i=null!=(n=this.gIt)?n:this.jx;t.P1(i),this.fIt?this.Trt(t):this.vIt(t)},i.Crt=function(){var t,n,i,r,e=null!=(i=null==(t=this.O1)?void 0:t.R0)?i:BD.oU(),u=null!=(r=null==(n=this.j1)?void 0:n.R0)?r:BD.oU();return e.YB(u)},i.yIt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:r=[],i.O1&&r.push(i.O1.$Nt()),i.j1&&r.push(i.j1.$Nt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,K.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.O1&&i.O1.iIt(),i.j1&&i.j1.iIt(),[7];case 5:return[2]}}))}))()},i.Drt=function(n){n.type===wL.CZ&&this.ast.I0(),t.prototype.Drt.call(this,n)},n}(bB);function CV(){return CV=xt((function(t,n,i){var r;return zt(this,(function(e){switch(e.label){case 0:return jo(i),r=[],t.I1&&r.push(WC(t.I1,n,i)),t.D1&&r.push(WC(t.D1,n,i)),[4,K.all(r)];case 1:return e.sent(),t.x0(),[2]}}))})),CV.apply(this,arguments)}function jV(t){if(!t)return 0;var n=t.O_;return n.U>0?n.jn(n.U-1):0}function xV(t){return t.wd.Av===ek.Sj}wt(),C();var OV=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).SIt=!1,e.s5=void 0,e.O5=NaN,e.Uo=BD.oU(),e.cU=!0,e.RIt=!1,e.EB=!0,e.LIt=void 0,e.IIt=void 0,e.NIt=new So,e.L5=new So,e.TIt=i,e.EIt=n,e.Fm.ge(),e.TIt.be(),e.oE=new mB(Vt(e),r),e.Dl=new dT([e.oE.nt,t.prototype.xg.call(Vt(e))]),e}kt(n,t);var i=n.prototype;return i.j_=function(){return t.prototype.j_.call(this).YB(this.TIt.O_)},i.Td=function(){if(!this.SIt){var n=this.yz;if(n&&xV(n))return n.ct}return t.prototype.Td.call(this)},i.crt=function(){return!!t.prototype.crt.call(this)&&!(!this.SIt&&!this.oq())},i.lrt=function(){return!!t.prototype.lrt.call(this)&&!(!this.SIt&&t.prototype.crt.call(this)&&!this.oq())},i.oq=function(){var t=this.yz;return!(!t||!xV(t))&&t.oq},i.Ag=function(){return this.Uo.YB(this.Fm.pg)},i.Dg=function(){return t.prototype.Dg.call(this).YB(this.TIt.Ig)},i.Ng=function(){return t.prototype.Ng.call(this)},i.urt=function(){var n;return null!=(n=t.prototype.urt.call(this))?n:this.TIt.Mz},i.Xg=function(){return this.cU=!1,t.prototype.Xg.call(this)},i.Hg=function(){this.cU=!0,t.prototype.Hg.call(this)},i.z6=function(){this.SIt=!0,t.prototype.z6.call(this),this.TIt.z6()},i.B6=function(){this.SIt=!1,t.prototype.B6.call(this),this.TIt.z6()},i.Q_=function(){var n;return null!=(n=this.s5)?n:t.prototype.Q_.call(this)},i.Lg=function(){return void 0!==this.s5||t.prototype.Lg.call(this)},i.JA=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.NIt.g_(),this.L5.g_(),this.L5=new So,this.IIt=this.C5(t,n,i,this.IIt,this.L5.f_).catch(Hn)},i.C5=function(n,i,r,e,u){var s=this;return xt((function(){return zt(this,(function(o){switch(o.label){case 0:return s.s5=n,s.O5=n,s.Co(new hD(n)),e?[4,e.catch(Hn)]:[3,2];case 1:o.sent(),o.label=2;case 2:return jo(u),s.yz&&xV(s.yz)&&s.yz.mIt(),s.s5=void 0,t.prototype.JA.call(s,n,i,r),s.TIt.JA(n,i,r),s.DIt(),[2]}}))}))()},i.gz=function(t){var n=this.Mz;if(n&&!A(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.JA(i)}},i.F6=function(){t.prototype.F6.call(this),this.TIt.F6()},i.be=function(){this.EB&&(this.EB=!1,this.EIt.be())},i.ge=function(){this.EB||(this.EB=!0,this.EIt.ge())},i.kIt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.s5=void 0,t.O5=NaN,t.Uo=BD.oU(),null==(n=t.LIt)||n.g_(),t.NIt.g_(),t.L5.g_(),t.IIt?[4,t.IIt.catch(Hn)]:[3,2];case 1:i.sent(),t.IIt=void 0,i.label=2;case 2:return[2]}}))}))()},i.wrt=function(n){t.prototype.wrt.call(this,n),this.TIt.Qz=n},i.vrt=function(n){t.prototype.vrt.call(this,n),this.TIt.G6=n},i.xg=function(){return this.Dl},i.rE=function(t,n,i,r,e,u,s,o){return this.oE.rE(t,n,i,r,e,u,s,o)},i.fE=function(t){this.oE.fE(t)},i.Pz=function(){this.oE.tr(),t.prototype.Pz.call(this)},i.$n=function(n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return xV(r=e.sent())&&i.DIt(),[2,r]}}))}))()},i.tr=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.kIt()];case 1:return i.sent(),[4,t.prototype.tr.call(n)];case 2:return i.sent(),[4,n.TIt.tr()];case 3:return i.sent(),[2]}}))}))()},i.h_=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.kIt()];case 1:return i.sent(),n.oE.gn(),n.Dl.gn(),[4,t.prototype.h_.call(n)];case 2:return i.sent(),[2]}}))}))()},i.Art=function(t){return new LV(this,t)},i.prt=function(t){return new EB(t)},i.DIt=function(){this.NIt.g_(),this.NIt=new So,this.IIt=this.xIt(this.IIt,this.NIt.f_).catch(Hn)},i.xIt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return t?[4,t.catch(Hn)]:[3,2];case 1:e.sent(),e.label=2;case 2:if(!i.yz||!xV(i.yz))return[2];e.label=3;case 3:0,jo(n),i.CIt()&&i.wIt(),r=void 0,i.yz.mIt(),jo(n),e.label=4;case 4:return jo(n),i.CIt()?[3,8]:void 0===(r=i.yz.pIt(i.Q_()))?[3,6]:(i.OIt(),[4,i.yz.AIt(r,n)]);case 5:return e.sent(),jo(n),i.TIt.JA(r),[3,8];case 6:return[4,Bo((function(t){return K.race([i.k_(dd.fm,t),i.jIt(t)])}),n)];case 7:return e.sent(),[3,4];case 8:jo(n),e.label=9;case 9:return i.CIt()?[3,11]:[4,i.Fm.k_([dd.fm,dd.Ov,uk.Nw],n)];case 10:return e.sent(),[3,9];case 11:return[3,3];case 12:return[2]}}))}))()},i.CIt=function(){var t=this.yz;if(void 0===t||!xV(t))return!1;var n=this.Q_(),i=this.Fm.O_;return!(!this.Fm.G_&&i.gr(n))&&!!WB(this.TIt.O_,t.Crt()).ZB(n,n+Ki)},i.wIt=function(){if(!this.RIt){0,this.RIt=!0,this.Uo=this.Ag();var t=ij(this),n=this.Lg(),i=this.Ng(),r=this.Fm,e=this.TIt,u=this.yz;u.mIt(),u.wIt(),rj(e,t),this.Mrt(e),this.TIt=r,r.Hg(),r.og=!0,this.RIt=!1;var s=this.Lg();n!==s&&(s?this.Co(new hD(this.U_)):this.Co(new fD(this.U_)));var o=this.Ng();i!==o&&this.Co(new ck(this.U_,o)),s||this.OIt()}},i.OIt=function(){var t=this.Fm,n=this.EIt;if(n!==t){0;var i=this.Rg,r=this.Cg;this.EIt=t,this.EB&&(n.be(),t.ge());var e=this.Rg,u=this.Cg;e>0&&u>0&&(i!==e||r!==u)&&this.Co(new sk)}},i.aIt=function(t){return void 0!==this.TIt.dq([t])},i.cIt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return n.OIt(),i=n.yz,[4,(r=n.TIt).tr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.MIt(e),[2]}}))}))()},i.jIt=function(t){return this.LIt=new Cc,zo(this.LIt.OL,t)},i.I0=function(){var t;null==(t=this.LIt)||t.LL()},i.ew=function(n){n.type===dd.im&&this.O5===n.currentTime||(n.type===dd.$v&&(this.O5=NaN,this.OIt()),n.type!==uk.Nw&&n.type!==dd.Sh&&n.type!==dd.Ov||this.RIt||!this.CIt()?(n.type!==dd.Ov||this.G_)&&t.prototype.ew.call(this,n):this.DIt())},At(n,[{key:"bIt",get:function(){return this.TIt}},{key:"Cg",get:function(){return this.EIt.Cg}},{key:"Rg",get:function(){return this.EIt.Rg}}]),n}(IV),zV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new Sx)||this).m7=new fO,r.m7.Y6(n.pz.parentElement),r.p7=new Nz(r.m7.we,r.Iu,r.nt,r.Ol,r.ya),r}kt(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.m7.be()},i.ge=function(){t.prototype.ge.call(this),this.m7.ge()},i.Y6=function(t){this.Fm.Y6(t),this.TIt.Y6(t)},i.K3=function(){this.Fm.K3()},i.$g=function(){this.Fm.$g(),this.TIt.$g()},i.Vg=function(){return this.Fm.Vg()},i.Mrt=function(n){var i=this.Gg(),r=this.Vg();t.prototype.Mrt.call(this,n),this.Gg()!==i&&this.Co(new MD),this.Vg()!==r&&this.Co(new bD)},i.h_=function(){return this.p7.gn(),this.m7.gn(),t.prototype.h_.call(this)},At(n,[{key:"art",get:function(){return this.Fm}},{key:"bIt",get:function(){return this.TIt}},{key:"pz",get:function(){return this.Fm.pz}},{key:"l2",get:function(){return this.Fm.l2}},{key:"Yg",get:function(){return this.Fm.Yg},set:function(t){this.Fm.Yg=t}}]),n}(OV),RV=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.oB=function(n){if(n===zA.VA){var i=t.prototype.oB.call(this,n),r=t.prototype.oB.call(this,n);return new zV(i,r)}return t.prototype.oB.call(this,n)},i.Fz=function(n){var i=this,r=function(){return t.prototype.Fz};return xt((function(){return zt(this,(function(t){switch(t.label){case 0:return n instanceof zV?[4,n.h_()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.art)];case 2:return t.sent(),[4,r().call(i,n.bIt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(pB),BV=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new jB(new RV(s)),f=h.oB(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).Yz=h,c}return kt(n,t),n.prototype.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n.LO=function(t){var n;return!jn.Qs&&!jn.Xk&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(pV);wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt();var PV=function(t){function n(n){var i;return(i=t.call(this,n)||this).PIt=!1,i.QNt=BD.oU(),i.jx=0,i.zIt=!1,i.B7=!1,i.WNt=void 0,i.U1=BD.oU(),i.BIt=void 0,i.Trt(n),i.GO=n.wd,i}kt(n,t);var i=n.prototype;return i.Nrt=function(t){return new EV(t)},i.wO=function(){return this.PIt?this.GO:t.prototype.wO.call(this)},i.j_=function(){return this.PIt?this.QNt:t.prototype.j_.call(this)},i.Td=function(){return this.PIt?this.jx:t.prototype.Td.call(this)},i.P1=function(n){this.PIt?(this.jx=n,this.zIt=!0):t.prototype.P1.call(this,n)},i.Dg=function(){return this.PIt?this.BIt?this.BIt.V0():this.U1:t.prototype.Dg.call(this)},i.Q1=function(n,i,r,e){this.PIt?this.BIt=new QC(n,i,r,e):t.prototype.Q1.call(this,n,i,r,e)},i.brt=function(){return this.PIt?this.B7&&!1!==this.WNt:t.prototype.brt.call(this)},i.x0=function(){this.PIt?this.WNt=!0:t.prototype.x0.call(this)},i.M0=function(){this.PIt?this.WNt=!1:t.prototype.M0.call(this)},i.FZ=function(n){return!this.PIt&&t.prototype.FZ.call(this,n)},i.GZ=function(n){return this.PIt?K.reject(new d("Not supported")):t.prototype.GZ.call(this,n)},i.$Nt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:if(t.PIt)throw new d("Already locked");return t.PIt=!0,t.tIt(),n=[],t.O1&&n.push(t.O1.$Nt()),t.j1&&n.push(t.j1.$Nt()),[4,K.all(n)];case 1:return i.sent(),[2]}}))}))()},i.iIt=function(){this.PIt=!1,this.O1&&this.O1.iIt(),this.j1&&this.j1.iIt(),this.eIt()},i.tIt=function(){this.GO=t.prototype.wO.call(this),this.QNt=t.prototype.j_.call(this),this.jx=t.prototype.Td.call(this),this.U1=t.prototype.Dg.call(this),this.zIt=!1,this.WNt=void 0,this.BIt=void 0},i.eIt=function(){if(this.zIt&&(t.prototype.P1.call(this,this.jx),this.zIt=!1),void 0!==this.BIt){var n=this.BIt;t.prototype.Q1.call(this,n.Cn,n.jn,n.W0,n.H0),this.BIt=void 0}void 0!==this.WNt&&(this.WNt?t.prototype.x0.call(this):t.prototype.M0.call(this),this.WNt=void 0)},n}(bB),UV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).QIt=!1,n.YIt=!1,n.XIt=void 0,n.HIt=void 0,n.WIt=new So,n}kt(n,t);var i=n.prototype;return i.Xg=function(){return void 0!==this.yz&&xV(this.yz)&&this.G_&&this.JA(0),t.prototype.Xg.call(this)},i.JA=function(n,i,r){void 0!==this.yz&&xV(this.yz)&&this.G_&&n<this.ct&&this.UIt(),t.prototype.JA.call(this,n,i,r)},i.z6=function(){this.QIt=!0,t.prototype.z6.call(this)},i.B6=function(){this.QIt=!1,this.FIt()||t.prototype.B6.call(this)},i.FIt=function(){return this.QIt||this.YIt},i.GIt=function(){this.YIt||(this.YIt=!0,t.prototype.z6.call(this))},i.VIt=function(){this.YIt&&(this.YIt=!1,this.FIt()||t.prototype.B6.call(this))},i.$n=function(t){this.WIt.g_();var n=this.nst(t,this.HIt);return this.XIt=n,n},i.nst=function(n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(Hn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.VIt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.Art=function(t){return new PV(t)},i.prt=function(t){return new EB(t)},i.tr=function(){this.WIt.g_();var t=this.bNt(this.HIt);return this.XIt=t,t},i.bNt=function(n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(Hn)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.VIt(),[4,t.prototype.tr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.UIt=function(){this.GIt(),this.WIt.g_(),this.WIt=new So,this.HIt=Ro(this.ZIt(this.XIt,this.HIt,this.WIt.f_),this.WIt).catch(Oo)},i.ZIt=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Hn)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(Hn)]:[3,4];case 3:o.sent(),o.label=4;case 4:return jo(i),(e=r.yz)&&xV(e)?(u=e.wd,[4,e.$Nt()]):[2];case 5:return o.sent(),[4,r.Fm.tr()];case 6:return o.sent(),[4,r.Fm.$n(u)];case 7:return(s=o.sent()).P1(e.ct),e.Trt(s),e.iIt(),r.VIt(),[2]}}))}))()},i.h_=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.WIt.g_(),n.HIt?[4,n.HIt.catch(Hn)]:[3,2];case 1:i.sent(),n.HIt=void 0,i.label=2;case 2:return n.FIt()&&t.prototype.B6.call(n),[4,t.prototype.h_.call(n)];case 3:return i.sent(),[2]}}))}))()},At(n,[{key:"art",get:function(){return this.Fm}}]),n}(SB),QV=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.oB=function(n){if(n===zA.VA)return new UV(t.prototype.oB.call(this,n))},i.Fz=function(n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},n.LO=function(){return jn.qk},n}(pB),YV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=sT.zP,n}kt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s,o){var a,c=new tB(gB.lL.Pnt,gB.lL.Rnt,gB.lL.jnt,gB.lL.Bnt);a=DV.LO(o)?DV:BV.LO(o)?BV:_V;var h=n;return QV.LO()&&(h=new QV(h)),new a(i,r,e,u,c,h,zA.VA,t)},i.aB=function(){return!0},n}(JR);SD(new YV),wt(),C(),wt(),C(),Mt(),ET((function(t){return function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.fa=function(){var n=this.Z_.va;return gA(t.prototype.fa.call(this),{get hesp(){return n}})},n}(t)}),TT.Za),wt(),C(),Mt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Pt(),wt(),C(),Ct();var GV=0;function FV(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function VV(t){var n,i,r;return Xu({},t,{baseUrl:FV(t.baseUrl),id:null!=(n=t.id)?n:String(GV++),timeBounds:Xu({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(JV),video:t.video.map($V),metadata:t.metadata.map(nW),events:t.events.map(sW)})}var WV=0;function XV(t){var n,i=FV(t.initPattern,!1),r=FV(t.contPattern,!1);return Xu({},t,{id:null!=(n=t.id)?n:String(WV++),continuationPattern:r?Es(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Es(i,"${initId}","{initId}"):void 0})}function ZV(t){var n,i=FV(t.initPattern,!1),r=FV(t.contPattern,!1);return Xu({},t,{continuationPattern:r?Es(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Es(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(HV),activeSegment:null==(n=ro(t.segments,(function(t){return t.active})))?void 0:n.id})}function HV(t){var n;return Xu({},t,{timeBounds:Xu({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function KV(t){return t&&"-"===t.charAt(0)}function JV(t){var n;try{var i;n=w(null!=(i=t.channels)?i:"2")}catch(t){n=2}return KV(t.contPattern)||KV(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,Xu({},XV(t),{baseUrl:FV(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,qV(t)}))})}(t,n):Xu({},XV(t),{baseUrl:FV(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(qV)})}function qV(t){var n;try{var i;n=w(null!=(i=t.channels)?i:"2")}catch(t){n=2}return KV(t.contPattern)||KV(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,Xu({},ZV(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):Xu({},ZV(t),{baseUrl:FV(t.baseUrl),channels:n,sampleRate:t.samplerate})}function $V(t){return KV(t.contPattern)||KV(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,Xu({},XV(t),{baseUrl:FV(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,tW(t)}))})}(t):Xu({},XV(t),{baseUrl:FV(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(tW)})}function tW(t){var n,i;return KV(t.contPattern)||KV(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,Xu({},ZV(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:Xu({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):Xu({},ZV(t),{baseUrl:FV(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:Xu({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function nW(t){var n;return Xu({},t,{id:null!=(n=t.id)?n:String(WV++),schemeId:"",tracks:t.tracks.map(iW)})}function iW(t){return Xu({},t,{segments:t.segments.map(eW)})}var rW=0;function eW(t){return{id:rW++,timeBounds:Xu({},t.timeBounds,{scale:t.timeBounds.timescale})}}var uW=0;function sW(t){var n,i;return Xu({},t,{id:null!=(n=t.id)?n:String(uW++),timeBounds:Xu({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var oW=function(){function t(t){this.Hj=t}return t.prototype.qIt=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return r={zu:t,f_:n},[4,i.Hj.uD(r)];case 1:return[4,s.sent().SR(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(Yn(r.manifestVersion)&&Ss(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=Lt(s.video).concat(Lt(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(zn(n))break}return(Yn(null==i?void 0:i.initPattern)||Yn(null==n?void 0:n.initPattern))&&!Yn(null==n?void 0:n.initializationPattern)&&!Yn(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return Xu({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(VV),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();wt(),C(),mt(),Mt();var aW=function(t){function n(n){var i;return(i=t.call(this)||this).KIt=n,i}kt(n,t);var i=n.prototype;return i.tp=function(){return this.KIt.tp()},i.yn=function(t,n){this.KIt.yn(t,n)},i.fn=function(t,n){this.KIt.fn(t,n)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=eN(this)),this.Xa}},{key:"cp",get:function(){return this.KIt.JIt}},{key:"Km",get:function(){return this.KIt.Km}},{key:"lp",get:function(){return this.KIt.lp}},{key:"dp",get:function(){return this.KIt.dp}},{key:"ap",get:function(){return this.KIt.$It}},{key:"_p",get:function(){return this.KIt.tDt},set:function(t){this.KIt.tDt=t}},{key:"fp",get:function(){return this.KIt.fp}}]),n}(Xo);wt(),C(),mt(),wt(),C(),mt(),wt(),C(),mt();var cW=function(){function t(t){this.sDt=0,this.eDt=0,this.iDt=g.exp(g.log(.5)/t)}var n=t.prototype;return n.Dat=function(t,n){var i=g.pow(this.iDt,t),r=n*(1-i)+i*this.sDt;A(r)||(this.sDt=r,this.eDt+=t)},n.GZ=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.iDt)if(0!==this.eDt){var i=this.j7,r=1-g.pow(n,this.eDt);this.sDt=i*r,this.iDt=n}else this.iDt=n},At(t,[{key:"j7",get:function(){var t=1-g.pow(this.iDt,this.eDt);return this.sDt/t}}]),t}(),hW=function(){function t(n,i,r,e){void 0===n&&(n=t.gDt),void 0===i&&(i=t.wDt),void 0===r&&(r=t.Pat),void 0===e&&(e=!1),this.cDt=0,this.lDt=[],this.aDt=void 0,this.uDt=6e4,this.dDt=10,this.fDt=n,this._Dt=i,this.oDt=r,this.hDt=e,this.nDt=new cW(n),this.rDt=new cW(i)}var n=t.prototype;return n.Dat=function(t){var n=on.m_(),i=t;this.hDt&&void 0!==this.aDt&&n-this.aDt>=this.uDt&&this.tr(),this.cDt+=1,this.nDt.Dat(1,i),this.rDt.Dat(1,i),this.lDt.push(i),this.lDt.length>this.dDt&&this.lDt.shift(),this.aDt=n},n.Rat=function(){return void 0!==this.aDt&&on.m_()-this.aDt<=this.uDt},n.tr=function(){this.nDt=new cW(this.fDt),this.rDt=new cW(this._Dt),this.cDt=0,this.lDt=[],this.aDt=void 0},At(t,[{key:"j7",get:function(){return this.Rat()?g.max(this.nDt.j7,this.rDt.j7):this.oDt}}]),t}();hW.gDt=2,hW.wDt=5,hW.Pat=.1,wt(),C();var fW=function(){function t(t){this.vDt=t}var n=t.prototype;return n.HH=function(t){for(var n=0,i=this.vDt;n<i.length;n++){i[n].HH(t)}},n.XH=function(t){for(var n=0,i=this.vDt;n<i.length;n++){i[n].XH(t)}},n.ZH=function(t,n){for(var i=0,r=this.vDt;i<r.length;i++){r[i].ZH(t,n)}},n.qH=function(t){for(var n=0,i=this.vDt;n<i.length;n++){i[n].qH(t)}},t}();wt(),C();var vW=function(){function t(t){this.mDt=0,this.pDt=t}var n=t.prototype;return n.HH=function(t){this.mDt=t},n.XH=function(t){this.pDt.Dat(t-this.mDt)},n.ZH=function(t){},n.qH=function(t){},t}();wt(),C();var dW=function(){function t(t){this.ADt=0,this.Uat=t}var n=t.prototype;return n.XH=function(t){this.ADt=t},n.ZH=function(t,n){this.Uat.Dat(t-this.ADt,n.byteLength),this.ADt=t},n.qH=function(t){},n.HH=function(t){},t}();wt(),C(),Mt();var lW,gW=function(){function t(t,n){void 0===n&&(n=0),this.MDt=new wW,this.An=0,this.yDt=0,this.Uat=t,this.TDt=n}var n=t.prototype;return n.HH=function(t){},n.ZH=function(t,n){var i=n.byteLength,r=this.yDt;this.yDt=i;var e=t-this.An;this.An=t,this.MDt.Yq(n);var u=!this.MDt.bDt(),s=i>=this.TDt;r!==on.Ys.Pet&&u&&s&&this.Uat.Dat(e,i)},n.XH=function(t){this.An=t},n.qH=function(t){},t}(),wW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NDt=void 0,n.SDt=!1,n}kt(n,t);var i=n.prototype;return i.bDt=function(){return this.SDt},i.Yq=function(n){this.SDt=!1,t.prototype.Yq.call(this,n)},i.Qq=function(n,i){this.NDt&&this.NDt!==rp.PA||(this.SDt=!0),t.prototype.Qq.call(this,n,i),this.NDt=n},i.$q=function(t){return!1},i.iK=function(t){},i.sK=function(t){},n}(OL);wt(),C(),Mt(),function(t){t.IDt="sample"}(lW||(lW={}));var yW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).DDt=0,n}return kt(n,t),n.prototype.LP=function(){if(this.Rat()){var t=on.m_();t-this.DDt>1e3&&(this.DDt=t,cT.lL.LP(this.j7))}},n}(Xo);wt(),C(),mt(),Mt();var AW=function(t){function n(n){var i;return(i=t.call(this)||this).rC=[],i.LDt=0,i.EDt=n,i.sDt=n,i}kt(n,t);var i=n.prototype;return i.Rat=function(){return this.rC.length>=3},i.Dat=function(t,n){if(0!==t){var i={GP:8*n/t,kDt:n};if(this.rC.push(i),this.LDt+=i.kDt,this.rC.length>30){var r=this.rC.shift();this.LDt-=r.kDt}for(var e=this.rC.slice().sort((function(t,n){return t.GP-n.GP})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.kDt/this.LDt,this.sDt=o.GP,u>=.5)break}this.LP(),this.Co(new Jo(lW.IDt))}},At(n,[{key:"j7",get:function(){return this.Rat()?this.sDt:this.EDt}}]),n}(yW);wt(),C(),mt(),Mt();var mW=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.gDt),void 0===r&&(r=n.wDt),void 0===e&&(e=n.ODt),void 0===u&&(u=n.Pat),(s=t.call(this)||this).xDt=0,s.CDt=e,s.nDt=new cW(i),s.rDt=new cW(r),s.oDt=u,s}kt(n,t);var i=n.prototype;return i.Dat=function(t,n){var i=8*n/t;this.nDt.Dat(t,i),this.rDt.Dat(t,i),this.xDt+=n,this.LP(),this.Co(new Jo(lW.IDt))},i.Rat=function(){return this.xDt>=this.CDt},At(n,[{key:"j7",get:function(){return this.Rat()?g.min(this.nDt.j7,this.rDt.j7):this.oDt}}]),n}(yW);mW.ODt=128e3,mW.Pat=aT,mW.gDt=.5,mW.wDt=5;var pW=function(){function t(t,n){var i=this;this.zDt=[],this.RDt=function(){for(var t=0,n=i.zDt;t<n.length;t++){(0,n[t])()}},this.UDt=t>0?t:mW.Pat,this.QDt=new hW(hW.gDt,hW.wDt,n>0?n:hW.Pat),this.jDt(this.UDt)}var n=t.prototype;return n.jDt=function(t){var n;null==(n=this.Uat)||n.fn(lW.IDt,this.RDt),this.Uat=new AW(t),this.Uat.yn(lW.IDt,this.RDt)},n.PDt=function(t){this.zDt.push(t)},n.BDt=function(t){ao(this.zDt,t)},n.WP=function(t){if("segment"===t.Av&&"video"===t.$D){var n=[new vW(this.QDt)];return this.Uat&&("stream"===t.qD&&"initialization-segment"!==t.JD?n.push(new gW(this.Uat,1e3)):n.push(new dW(this.Uat))),new fW(n)}},At(t,[{key:"GP",get:function(){var t,n;return null!=(n=null==(t=this.Uat)?void 0:t.j7)?n:this.UDt}},{key:"VP",get:function(){return this.QDt.j7}}]),t}();wt(),C(),mt();var _W=function(){function t(){}var n=t.prototype;return n.FDt=function(t,n){var i=n-t;(!this.YDt||i<this.YDt)&&(this.YDt=i)},n.GDt=function(t,n){this.VDt=n-t},n.HDt=function(t){var n=this.WDt;if(void 0!==n)return n-t},n.tr=function(){this.YDt=void 0,this.VDt=void 0},At(t,[{key:"WDt",get:function(){return void 0!==this.VDt?on.m_()/1e3+this.VDt:void 0!==this.YDt?on.m_()/1e3+this.YDt:void 0}}]),t}();wt(),C(),Ot(),mt(),Mt(),Ft(),Pt(),wt(),C();var kW=function(){function t(){this.QNt=[]}var n=t.prototype;return n.XDt=function(t){for(var n=0,i=this.QNt;n<i.length;n++){var r=i[n];r[1]=r[1].Sn(t)}},n.ZDt=function(t,n){for(var i=!0,r=0,e=this.QNt;r<e.length;r++){var u=e[r],s=u[1];s=s.VB(n),t===u[0]&&(s=s.YB(n),i=!1),u[1]=s.FB(1e-5)}i&&this.QNt.push([t,n])},n.qDt=function(t){for(var n=0,i=this.QNt;n<i.length;n++){var r=i[n];r[1]=r[1].VB(t)}},n.KDt=function(t){for(var n=0;n<this.QNt.length;n++)if(this.QNt[n][1].gr(t))return this.QNt[n][0]},t}(),MW=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).JDt=[],u.iEt=void 0,u.S0=new So,u.Fm=i,u.xrt=n,u.hAt=r,u.rEt=e,u.$Dt=new kW,u.xrt.yn(wL.CZ,u.Ds),u}kt(n,t);var i=n.prototype;return i.KDt=function(t){return this.$Dt.KDt(t)},i.appendStream=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f;return zt(this,(function(d){switch(d.label){case 0:if(i.tEt)throw new v("Concurrent appends are not supported.");r=i.S0.f_,i.$Dt.XDt(i.O_),i.iEt=new Cc,e=t.getReader(),d.label=1;case 1:d.trys.push([1,,6,7]),d.label=2;case 2:return[4,zo(e.read(),r)];case 3:return(u=d.sent()).done?[3,5]:(s=u.value,o={Av:pL.jZ,ly:s.nut},a={ct:s.ct,F7:s.I_t,pI:-n.Lht.sEt},[4,i.H$(o,a,r)]);case 4:return d.sent(),c=a.F7+a.pI,h=c+a.ct,i.$Dt.ZDt(n.Lht,BD.rU(c,h)),[3,2];case 5:return[3,7];case 6:return n.nEt(),f=i.iEt,i.iEt=void 0,f.LL(),[7];case 7:return[2]}}))}))()},i.V$=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:if(e.tEt)throw new v("Concurrent appends are not supported.");(u=new So).w_(e.S0.f_),r&&u.w_(r),c.label=1;case 1:return c.trys.push([1,,3,4]),e.iEt=new Cc,[4,e.H$(t,n,u.f_)];case 2:return c.sent(),s=n.F7+n.pI,o=s+n.ct,e.$Dt.XDt(e.O_),e.$Dt.ZDt(i,BD.rU(s,o)),[3,4];case 3:return a=e.iEt,e.iEt=void 0,null==a||a.LL(),[7];case 4:return[2]}}))}))()},i.H$=function(t,n,i){var r=this;return xt((function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return(e=new So).w_(r.S0.f_),i&&e.w_(i),r.xrt.O0===zA.VA&&r.rEt.elt(t.ly,n.F7,n.F7+n.ct,n.pI,r.hAt,!1),u=r.Fm.Hm.Wm,s=r.xrt.O_.gr(r.Fm.U_),u||s?[4,r.oEt()]:[3,3];case 1:return a.sent(),[4,r.xrt.V$(t,n,e.f_)];case 2:case 4:return[2,a.sent()];case 3:return r.JDt.push([t,n]),o=r.JDt[0][1].F7,r.JDt[r.JDt.length-1][1].F7-o>=.4?[4,r.oEt()]:[3,5];case 5:return[2]}}))}))()},i.X$=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(n.tEt)throw new v("Concurrent appends are not supported.");r.label=1;case 1:return r.trys.push([1,,4,5]),n.iEt=new Cc,[4,n.oEt()];case 2:return r.sent(),[4,n.xrt.X$(t,{},n.S0.f_)];case 3:return r.sent(),n.xrt.O0===zA.VA&&n.rEt.Grt(t.ly),[3,5];case 4:return i=n.iEt,n.iEt=void 0,null==i||i.LL(),[7];case 5:return[2]}}))}))()},i.rS=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:if(i.tEt)throw new v("Concurrent appends are not supported.");e.label=1;case 1:return e.trys.push([1,,4,5]),i.iEt=new Cc,[4,i.oEt()];case 2:return e.sent(),[4,i.xrt.rS(t,n,i.S0.f_)];case 3:return e.sent(),i.$Dt.qDt(BD.rU(t,n)),[3,5];case 4:return r=i.iEt,i.iEt=void 0,null==r||r.LL(),[7];case 5:return[2]}}))}))()},i.MG=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:if(t.tEt)throw new v("Concurrent appends are not supported.");i.label=1;case 1:return i.trys.push([1,,3,4]),t.iEt=new Cc,[4,t.oEt()];case 2:return i.sent(),[3,4];case 3:return n=t.iEt,t.iEt=void 0,null==n||n.LL(),[7];case 4:return[2]}}))}))()},i.oEt=function(){var t=this;return xt((function(){var n,i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:n=0,i=t.JDt,s.label=1;case 1:return n<i.length?(r=Gt(i[n],2),e=r[0],u=r[1],[4,t.xrt.V$(e,u,t.S0.f_)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return lo(t.JDt),[2]}}))}))()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:t.S0.h_(),n.label=1;case 1:return t.tEt?[4,t.eEt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},At(n,[{key:"O_",get:function(){for(var t=BD.oU(),n=0,i=this.JDt;n<i.length;n++){var r=Gt(i[n],2)[1],e=r.F7+r.pI,u=e+r.ct;t=t.YB(BD.rU(e,u))}return this.xrt.O_.YB(t)}},{key:"tEt",get:function(){return void 0!==this.iEt}},{key:"eEt",get:function(){return this.iEt?this.iEt.OL:K.resolve()}}]),n}(Xo);wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Pt();var bW,TW=function(){function t(t){this.aEt=0,this.uEt=t}var n=t.prototype;return n.hEt=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:if(i.aEt>=i.uEt.maxRetries)throw t;return[4,Fo(i.cEt(i.aEt++),n)];case 1:return r.sent(),[2]}}))}))()},n.cEt=function(t){var n=0;return 0!==t&&(n+=g.min(this.uEt.maximumBackoff,this.uEt.minimumBackoff*(g.pow(2,t)-1))),n},t}();wt(),C(),Mt(),wt(),C(),Mt(),function(t){t.lEt="emsgdata"}(bW||(bW={}));var NW=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return kt(n,t),n}(Jo);wt(),C();var DW,IW=function(){function t(){}var n=t.prototype;return n.start=function(t){this.wZ=t},n.dEt=function(t){this.wZ.enqueue(t)},t}();wt(),C(),wt(),C(),function(t){t.fEt="initdata",t.MANIFEST_UPDATE="manifestupdate",t._Et="timestamps:v1"}(DW||(DW={}));var EW="urn:theo:hesp:2020";function SW(t){if(t.cT===EW){var n=t.lT;if(n===DW.fEt)return function(t){if(t&&Un(t)){var n=t;if(Wn(n.index)&&Wn(n.offset)&&!(n.index<0&&n.offset<0))return{Av:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(wc(kc(t._T),new Ec)));if(n===DW.MANIFEST_UPDATE)return function(t){if(t&&Un(t)){var n=t;if(!zn(n.url)||Yn(n.url))return{Av:"manifestupdate",url:n.url}}}(JSON.parse(wc(kc(t._T),new Ec)));if(n===DW._Et){var i,r=kc(t._T),e=new Ec,u=qa(r,e).toNumber()/t.cM,s=qa(r,e).toNumber()/1e3,o=Ka(r,e)/1e3;return e.Ku+8<=r.byteLength&&(i={hours:Ka(r,e),minutes:Xa(r,e),seconds:Xa(r,e),frames:Za(r,e)}),{Av:DW._Et,gEt:u,wEt:s,vEt:o,mEt:i}}}}var LW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).pEt=new Xo,n}kt(n,t);var i=n.prototype;return i.transform=function(t){if(t.Av===rp.BA)try{var n=SW(i_.sM(t.ly));n&&this.pEt.Co(new NW(n.Av,n))}catch(t){false}this.dEt(t)},i.h_=function(){this.pEt.Vo()},n}(IW);wt(),C(),Mt();var CW=function(){function t(){}var n=t.prototype;return n.start=function(t){this.rf=new jW(t)},n.transform=function(t){this.rf.Yq(t)},n.flush=function(){this.rf.Vq()},t}(),jW=function(t){function n(n){var i;return(i=t.call(this)||this).wZ=n,i}kt(n,t);var i=n.prototype;return i.$q=function(t){return!0},i.iK=function(t){this.wZ.enqueue(t)},i.sK=function(t){},n}(OL);wt(),C(),Ot(),Mt(),Pt(),wt(),C();var xW=xi.fromNumber(zi);var OW,zW=function(t){function n(n,i){var r;return(r=t.call(this)||this).aE=n,r.AEt=i,r}return kt(n,t),n.prototype.uD=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.aE.uD(t)];case 2:return[2,r.sent()];case 3:if(Co(i=r.sent()))throw i;return[4,n.AEt.hEt(i,t.f_)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(Xo);function RW(t,n,i,r,e,u,s,o){var a=new wd;return e&&a.LD(function(t,n){return void 0===n&&(n=xW),new wd({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{zu:t,XD:a,tE:!1,f_:o,Av:Xw.CD,JD:i,$D:r,_D:u,KD:s,qD:n,eE:n===ld.DD}}wt(),C(),Mt(),wt(),C(),function(t){t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES"}(OW||(OW={}));var BW=function(t){function n(n,i){var r;return(r=t.call(this)||this).yEt=[],r.TG=n,r.Nat=r.TG.match(/video/)?Cz.VA:Cz.WA,r.Ox=i,r}kt(n,t);var i=n.prototype;return i.transform=function(t){this.yEt.push(t),t.Av===rp.PA&&this.MEt(this.yEt.splice(0),OW.FRAMES)},i.MEt=function(t,n){var i={cM:this.Ox,aG:this.TG},r=_a(t.map((function(t){return Mc(t.ly.ly)}))),e=ro(t,PW),u=i_.Wy(e.ly.ly)[0],s={$D:this.Nat,SL:i,nut:r,Av:n,ct:this.Td(u)/this.Ox,I_t:qi(this.bEt(u),this.Ox)};this.dEt(s)},i.Td=function(t){var n,i=t.Z[0];if(!i||0===i.iT.length)return 0;var r=null!=(n=i.zy.Vb)?n:0;return i.iT[0].aT.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i.bEt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].eT)?void 0:n.eT)?i:xi.UZERO},n}(IW);function PW(t){return t.Av===rp.kA}wt(),C();var UW=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).IEt="now",e.jEt=new So,e.iEt=void 0,e.TEt=n,e.AEt=new TW(r),e.QEt=new LW,e.QEt.pEt.yn(bW.lEt,e.Ds),e.aE=i,e.Nat=function(t){switch(t){case Cz.WA:return Hw.WA;case Cz.VA:return Hw.VA;default:return Hw.jT}}(n.Av),e.REt=new zW(e.aE,e.AEt),e}kt(n,t);var i=n.prototype;return i.jct=function(t){return t+1},i.JA=function(t){this.IEt=t,this.DEt=void 0,this.EEt=void 0},i.kEt=function(){return void 0!==this.DEt},i.LEt=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,a,c,h,f,d,l,g;return zt(this,(function(w){switch(w.label){case 0:if(t.tEt)throw new v("Concurrent downloads are not supported.");w.label=1;case 1:return w.trys.push([1,,4,5]),t.iEt=new Cc,"now"===t.IEt?n=on.wp(t.TEt.xEt("now"),t.TEt.CEt):(i=t.IEt,r=0===i?1:t.TEt.OEt(i),n=on.wp(t.TEt.xEt(r),t.TEt.CEt)),e=RW(n,ld.SD,Zw.RD,t.Nat,void 0,3e3,1e3,t.jEt.f_),[4,t.REt.uD(e)];case 2:return[4,w.sent().GR(t.jEt.f_)];case 3:return u=w.sent(),s=new m(u),o=function(t){var n=Jp.Ey(new Xp(kc(t),new Ec)),i=ro(n,(function(t){return t.Av===rp.QA||t.Av===rp.kA}));if(void 0===i)return{PEt:t,wM:void 0};var r=pc(t,0,i.Ku),e=pc(t,i.Ku);return{PEt:r,wM:0===e.byteLength?void 0:e}}(s),a=o.PEt,c=o.wM,h=i_.Wy(kc(s)),t.Ox=function(t){var n=ro(t,(function(t){return t.Av===rp.Kp}));return n.Z[0].wM.zy.cM}(h),f=function(t){var n=t.filter((function(t){return t.Av===rp.BA})),i=n.map((function(t){return SW(t)})),r=ro(i,(function(t){return(null==t?void 0:t.Av)===DW.fEt}));if(!r)throw new v("No init data in init response");return r}(h),t.DEt=f.index,t.EEt=f.offset,c&&(l=i_.Wy(kc(s)),d=function(t,n,i){var r,e,u,s=ro(t,(function(t){return t.Av===rp.kA})),o=qi(null!=(e=null==(r=s.Z[0].eT)?void 0:r.eT)?e:xi.UZERO,i),a=s.Z[0],c=null!=(u=a.zy.Vb)?u:0,h=a.iT[0],f=h.aT.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{F7:o,ct:f,pI:n}}(l,-t.Lht.sEt,t.Ox)),[2,{initialization:a,data:c,metadata:d}];case 4:return g=t.iEt,t.iEt=void 0,null==g||g.LL(),[7];case 5:return[2]}}))}))()},i.zEt=function(){if(this.tEt)throw new v("Concurrent downloads are not supported.");this.iEt=new Cc;var t=void 0!==this.EEt?xi.fromNumber(this.EEt):void 0;return Dw(this.BEt(this.DEt,t,this.jEt.f_)).pipeThrough(new cw(new BW(this.Lht.aG,this.Ox))).pipeThrough(new cw(new QW(this.jEt.f_)))},i.BEt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return e=r.UEt(t,n,i),[4,r.REt.uD(e)];case 1:return[2,u.sent().VW().pipeThrough(new cw(new CW)).pipeThrough(new cw(r.QEt))]}}))}))()},i.UEt=function(t,n,i){var r=this.TEt.FEt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return RW(on.wp(r,this.TEt.CEt),ld.DD,Zw.jT,this.Nat,e,25e3,1e3,i)},i.nEt=function(){void 0!==this.DEt&&(this.DEt=this.jct(this.DEt)),this.EEt=void 0;var t=this.iEt;this.iEt=void 0,null==t||t.LL()},i.cancelDownload=function(){var t;this.jEt.g_(),this.jEt=new So,this.iEt=null!=(t=this.iEt)?t:new Cc,this.DEt=void 0,this.EEt=void 0;var n=this.iEt;this.iEt=void 0,null==n||n.LL()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t.QEt.h_(),t.jEt.g_(),[4,t.eEt];case 1:return n.sent(),t.DEt=void 0,t.EEt=void 0,[2]}}))}))()},At(n,[{key:"Lht",get:function(){return this.TEt}},{key:"SEt",get:function(){return!1}},{key:"NEt",get:function(){return this.IEt}},{key:"tEt",get:function(){return void 0!==this.iEt}},{key:"eEt",get:function(){return this.iEt?this.iEt.OL:K.resolve()}}]),n}(Xo);var QW=function(){function t(t){var n=this;this.YEt=function(){n.wZ.error(new Lo)},this.__=t}var n=t.prototype;return n.start=function(t){this.wZ=t,this.__.u_(this.YEt)},n.flush=function(){this.__.c_(this.YEt)},t}();function YW(t){var n;return t.value/(null!=(n=t.scale)?n:1)}wt(),C(),mt(),wt(),C(),mt(),wt(),C(),Wt(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C();var GW="{initId}",FW=/{initId(?::0(?:\d+)d)?}/,VW=/{segmentId(?::0(?:\d+)d)?}/,WW=function(){function t(t,n,i){var r,e,u,s;this.ryt=[],this.CS=t,this.nkt=i,this.uS=t.id,this.xP=t.bandwidth,this.GEt=t.averageBandwidth,this.ZEt=null!=(r=t.baseUrl)?r:"",this.KEt=null!=(e=t.codecs)?e:n.codecs,this.$Et=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.ikt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.lS=t.label,this.ekt=t.mediaTimeOffset?YW(t.mediaTimeOffset):0,this.KAt=t.segmentDuration?YW(t.segmentDuration):0,this.Yn(t)}return t.prototype.Yn=function(t){this.WEt=t.activeSegment,this.XEt=t.activeSequenceNumber,this.ryt=t.segments},At(t,[{key:"o",get:function(){return this.uS}},{key:"GP",get:function(){return this.xP}},{key:"Xpt",get:function(){return this.GEt}},{key:"jnt",get:function(){return this.ryt}},{key:"VEt",get:function(){return this.WEt}},{key:"HEt",get:function(){return this.XEt}},{key:"CEt",get:function(){return on.wp(this.ZEt,this.qEt.CEt)}},{key:"$nt",get:function(){return this.KEt}},{key:"kh",get:function(){return this.lS}},{key:"JEt",get:function(){return this.$Et}},{key:"tkt",get:function(){return this.ikt}},{key:"sEt",get:function(){return this.ekt}},{key:"skt",get:function(){return this.KAt}}]),t}(),XW=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).okt=null!=(u=n.channels)?u:1,e.hkt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.vx=null!=(a=n.sampleRate)?a:i.sampleRate,e}return kt(n,t),At(n,[{key:"Av",get:function(){return Cz.WA}},{key:"qEt",get:function(){return this.nkt}},{key:"rkt",get:function(){return this.okt}},{key:"Adt",get:function(){return this.hkt}},{key:"KM",get:function(){return this.vx}},{key:"aG",get:function(){return'audio/mp4; codecs="'+this.$nt+'"'}}]),n}(WW),ZW=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).Get=n.resolution,e.hkt=YW(null!=(u=n.frameRate)?u:i.frameRate),e}return kt(n,t),At(n,[{key:"Av",get:function(){return Cz.VA}},{key:"qEt",get:function(){return this.nkt}},{key:"akt",get:function(){return this.Get}},{key:"Adt",get:function(){return this.hkt}},{key:"aG",get:function(){return'video/mp4; codecs="'+this.$nt+'"'}}]),n}(WW);function HW(t,n){var i=String(n);if(t===GW||"now"===n)return i;var r=w(t.substring(9,t.lastIndexOf("d")));return zs(i,r,"0")}function KW(t,n){var i=String(n);if(t===GW)return i;var r=w(t.substring(12,t.lastIndexOf("d")));return zs(i,r,"0")}var JW=function(){function t(t,n,i){var r;this.nkt=t,this.Pw=i,this.ukt=n,this.uS=t.id,this.lkt=t.alignId,this.ZEt=null!=(r=t.baseUrl)?r:"",this.lS=t.label,this.ekt=t.mediaTimeOffset?YW(t.mediaTimeOffset):0,this.fkt=t.protection,this.Yn(t)}return t.prototype.Yn=function(t){for(var n=function(n,i){var r=i[n],e=ro(t.tracks,(function(t){return r.o===t.id}));e&&r.Yn(e)},i=0,r=this.Pw;i<r.length;i++)n(i,r)},At(t,[{key:"tit",get:function(){return this.ukt}},{key:"o",get:function(){return this.uS}},{key:"ckt",get:function(){return this.lkt}},{key:"CEt",get:function(){return on.wp(this.ZEt,this.tit.CEt)}},{key:"kh",get:function(){return this.lS}},{key:"sEt",get:function(){return this.ekt}},{key:"dkt",get:function(){return this.fkt}}]),t}(),qW=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new XW(o,n,Vt(r)))}return r}return kt(n,t),n.prototype.Yn=function(n){var i,r;t.prototype.Yn.call(this,n),this.Rx=n.language,this.okt=null!=(i=n.channels)?i:1,this.TG=null!=(r=n.mimeType)?r:"audio/mp4"},At(n,[{key:"qEt",get:function(){return this.nkt}},{key:"Z",get:function(){return this.Pw}},{key:"gs",get:function(){return this.Rx}},{key:"rkt",get:function(){return this.okt}}]),n}(JW),$W=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new ZW(o,n,Vt(r)))}return r}return kt(n,t),n.prototype.Yn=function(n){var i;t.prototype.Yn.call(this,n),this.TG=null!=(i=n.mimeType)?i:"video/mp4"},At(n,[{key:"qEt",get:function(){return this.nkt}},{key:"Z",get:function(){return this.Pw}}]),n}(JW),tX=function(){function t(t,n){var i,r,e;this.pkt=[],this.ykt=[],this.gkt=t,this.uS=n.id,this.ZEt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.pkt.push(new qW(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.ykt.push(new $W(h,this))}this.Yn(n)}return t.prototype.Yn=function(t){var n;this.vkt=t.timeBounds,this.hd=null!=(n=t.events)?n:[],this.hU=t.currentTime?YW(t.currentTime):void 0},At(t,[{key:"o",get:function(){return this.uS}},{key:"CEt",get:function(){return on.wp(this.ZEt,this.gkt._kt)}},{key:"wkt",get:function(){return this.vkt}},{key:"U_",get:function(){return this.hU}},{key:"uG",get:function(){return this.hd}},{key:"mkt",get:function(){return this.pkt}},{key:"Akt",get:function(){return this.ykt}}]),t}(),nX=function(){function t(t,n){this.Lkt=[],this.jkt=t,this.gkt=n,this.Yn(n)}return t.prototype.Yn=function(t){var n,i,r=function(t,i){var r=i[t],e=ro(n.Lkt,(function(t){return t.o===r.id}));e?e.Yn(r):n.Lkt.push(new tX(n,r))};this.bkt=YW(t.availabilityDuration),this.Skt=t.creationDate,this.Ikt=t.fallbackPollRate,this.Ekt=t.manifestVersion,this.tx=t.streamType,this.Ckt=t.activePresentation,this.Okt=t.contentBaseUrl,this.Pkt=null==(i=t.timeSource)?void 0:i.url,this.gkt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.Lkt=this.Lkt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},At(t,[{key:"fp",get:function(){return this.gkt}},{key:"Mkt",get:function(){return this.bkt}},{key:"Tkt",get:function(){return this.Skt}},{key:"Nkt",get:function(){return this.Ikt}},{key:"Dkt",get:function(){return this.Ekt}},{key:"kkt",get:function(){return this.Lkt}},{key:"QK",get:function(){return this.tx}},{key:"xkt",get:function(){return this.Ckt}},{key:"_kt",get:function(){var t;return on.wp(null!=(t=this.Okt)?t:"",this.jkt)}},{key:"Rkt",get:function(){return this.Pkt}}]),t}();wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var iX,rX,eX=0,uX=function(t){function n(n){var i;return(i=t.call(this)||this).cS=eX++,i.zkt=n,i}kt(n,t);var i=n.prototype;return i.OEt=function(t){var n=(t-this.zkt.qEt.tit.U_)*this.framesPerSecond();return g.round(this.zkt.HEt+n)},i.Bkt=function(t){return t+1},i.xEt=function(t){for(var n,i,r=this.zkt.tkt;i=null==(n=r.match(FW))?void 0:n.pop();)r=r.split(i).join(HW(i,t));return r+("now"===t?"?uuid="+zE():"")},i.FEt=function(t){for(var n,i,r=this.zkt.JEt;i=null==(n=r.match(VW))?void 0:n.pop();)r=r.split(i).join(KW(i,t));return r},i.bD=function(){},i.MD=function(){},At(n,[{key:"snt",get:function(){return!0}},{key:"Xpt",get:function(){return this.zkt.Xpt}},{key:"GP",get:function(){return this.zkt.GP}},{key:"$nt",get:function(){return this.zkt.$nt}},{key:"o",get:function(){return this.zkt.o}},{key:"kh",get:function(){var t;return null!=(t=this.zkt.kh)?t:""}},{key:"Xw",get:function(){return this.cS}},{key:"Jpt",get:function(){return this.zkt.CEt}},{key:"Zpt",get:function(){}},{key:"aG",get:function(){return this.zkt.aG}},{key:"sEt",get:function(){return this.zkt.sEt}},{key:"CEt",get:function(){return this.zkt.CEt}},{key:"Av",get:function(){return this.zkt.Av}}]),n}(Xo),sX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xa=void 0,r.CS=i,r}return kt(n,t),n.prototype.framesPerSecond=function(){return this.zkt.KM/this.zkt.Adt},At(n,[{key:"Ukt",get:function(){return this.zkt}},{key:"Hmt",get:function(){return this.zkt.KM}},{key:"Lt",get:function(){return this.CS}},{key:"va",get:function(){return this.Xa||(this.Xa=tG(this)),this.Xa}}]),n}(uX),oX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Xa=void 0,r.CS=i,r}return kt(n,t),n.prototype.framesPerSecond=function(){return this.zkt.Adt},At(n,[{key:"Ukt",get:function(){return this.zkt}},{key:"qpt",get:function(){return 0}},{key:"Adt",get:function(){return this.zkt.Adt}},{key:"Ti",get:function(){return this.zkt.akt.height}},{key:"ji",get:function(){return this.zkt.akt.width}},{key:"akt",get:function(){return this.zkt.akt}},{key:"Lt",get:function(){return this.CS}},{key:"va",get:function(){return this.Xa||(this.Xa=$Y(this)),this.Xa}}]),n}(uX);wt(),C(),function(t){t.Qkt="alternative",t.Fkt="main",t.Ykt="commentary",t.Gkt="",t.nD="descriptions",t.Vkt="main-desc",t.Wkt="translation"}(iX||(iX={})),function(t){t.Qkt="alternative",t.Fkt="main",t.Ykt="commentary",t.Gkt="",t.sD="captions",t.rv="sign",t.HA="subtitles"}(rX||(rX={}));var aX=0,cX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).sS=new WA,e.cS=aX++,e.Le=!1,e.gct=void 0,e.nkt=i,e.qkt=r,e.Kkt=new kF(n,[]);for(var u=0,s=i.Z;u<s.length;u++){var o=s[u];e.sS.nS(e.createQuality(o))}return e}kt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i.Jkt=function(t){for(var n=0,i=this.sS.Rw;n<i.length;n++){var r=i[n];r===t&&this.Co(new ZQ(r))}},At(n,[{key:"Hw",get:function(){return this.Hkt()}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Rt!==t&&(this.Le=t,t&&this.Xkt(),this.qkt.Zkt(),this.Co(new XA(this)))}},{key:"va",get:function(){return this.Xa||(this.Xa=jA(this)),this.Xa}},{key:"idt",get:function(){return this.Kkt}},{key:"o",get:function(){return this.nkt.o}},{key:"Xw",get:function(){return this.cS}},{key:"kh",get:function(){var t;return null!=(t=this.nkt.kh)?t:""}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){return this.gct},set:function(t){this.gct=t,this.qkt.Zkt(),this.Co(new vU(t,this))}}]),n}(Xo),hX=function(t){function n(n,i){return t.call(this,zA.WA,n,i)}kt(n,t);var i=n.prototype;return i.Xkt=function(){this.qkt.$kt(this)},i.Hkt=function(){var t=this.qkt.tLt;return(null==t?void 0:t.Lt)===this?t:void 0},i.createQuality=function(t){return new sX(t,this)},At(n,[{key:"Av",get:function(){return Cz.WA}},{key:"zt",get:function(){return iX.Fkt}},{key:"gs",get:function(){return this.nkt.gs}},{key:"qEt",get:function(){return this.nkt}}]),n}(cX),fX=function(t){function n(n,i){return t.call(this,zA.VA,n,i)}kt(n,t);var i=n.prototype;return i.Xkt=function(){this.qkt.iLt(this)},i.Hkt=function(){var t=this.qkt.eLt;return(null==t?void 0:t.Lt)===this?t:void 0},i.createQuality=function(t){return new oX(t,this)},At(n,[{key:"Av",get:function(){return Cz.VA}},{key:"zt",get:function(){return rX.Fkt}},{key:"gs",get:function(){return""}},{key:"qEt",get:function(){return this.nkt}}]),n}(cX);function vX(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return dX(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return dX(t,n,[],r,i)}(t,i?[i]:[],!r),s=HF(e,u);return t.preferredKeySystems&&(null==s?void 0:s.Nvt)&&(s.Nvt=eV(s.Nvt,t.preferredKeySystems)),s}}function dX(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(zn);if(u.length){var s=u[0].type,o=wo(u,(function(t){return t.systems})),a=wo(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return Ds.filter((function(n){return n._L===t.toLowerCase()}))}(t.schemeId):function(t){return Ns.filter((function(n){return n._L===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({hP:lX(t)?t.uri:void 0,Qp:u,JP:void 0,KP:t.pssh?[va(t.pssh).buffer]:[]})}return i}(t,e)}));return{fR:t,Ivt:{Gbt:s},Nvt:a,Vbt:i,Wbt:r}}}function lX(t){return t.schemeId===ns.kp&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}wt(),C(),wt(),C(),Ot(),mt(),Pt(),wt(),C();var gX,wX;function yX(t){var n=t.U_,i=t.O_.Jm(n);return i?i.jn(0)-n:0}gX="Android"===on.np.hp?200:300,function(t){t[t.sLt=0]="sLt",t[t.nLt=1]="nLt"}(wX||(wX={}));var AX=on.Ys.rp?1:.5,mX=function(){function t(t,n,i,r,e){var u=this;this.Fm=t,this.fz=n,this._Lt=i,this.ILt=r,this.hLt=e,this.ja=0,this.gLt=K.resolve(),this.MLt=void 0,this.lLt=function(){var t,n;if(!u.ILt.Eg){var i=null==(t=u._Lt.tLt)?void 0:t.Lt,r=null==(n=u._Lt.eLt)?void 0:n.Lt,e=yo(u.mLt(i,r),(function(t){return t.pLt}));e&&(Qo(u.ALt(e)),u.Fm.Hm.Wm&&u.ILt.tp())}},this.cLt=function(){u.uLt.yn(uk.Tm,u.lLt),u.uLt.fn(uk.Sm,u.cLt)},this.aLt=function(){if(u.dLt){u.dLt.oT+=1;var t=u.dLt.yLt.pLt;u.hLt.GP<t&&(u.dLt=void 0,u.Bm())}},this.uLt=new yk(this.Fm)}var n=t.prototype;return n.Cn=function(){var t=this;1!==this.ja&&(this.ja=1,this.rLt=on.f1((function(){t.oLt()}),gX),this.hLt.PDt(this.aLt),this.Fm.fg?this.uLt.yn(uk.Sm,this.cLt):this.cLt())},n.Zg=function(){0!==this.ja&&(this.ja=0,void 0!==this.rLt&&on.g1(this.rLt),this.hLt.BDt(this.aLt),this.uLt.fn(uk.Tm,this.lLt),this.uLt.fn(uk.Sm,this.cLt),this.dLt=void 0,this.Bm())},n.oLt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.gLt];case 1:return n.sent(),t.gLt=t.wLt(),[4,t.gLt];case 2:return n.sent(),[2]}}))}))()},n.vLt=function(t,n){for(var i=this.mLt(t,n),r=this.hLt.GP,e=0;e<i.length;e++){var u=i[e];if(u.pLt<=r)return u}return i[i.length-1]},n.wLt=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return r=null==(n=t._Lt.tLt)?void 0:n.Lt,e=null==(i=t._Lt.eLt)?void 0:i.Lt,0===(u=t.mLt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.ALt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.ALt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.fLt;if(!t.some((function(t){return _X(t,n)}))){for(var i=this.hLt.GP,r=0;r<t.length;r++){var e=t[r];if(e.pLt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.hLt.GP,o=(null!=(r=null==(n=this._Lt.tLt)?void 0:n.GP)?r:0)+(null!=(e=null==(i=this._Lt.eLt)?void 0:i.GP)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.pLt<s&&c.pLt>o){u={yLt:c,$dt:on.m_(),oT:0};break}}if(this.dLt&&_X(this.dLt.yLt,null==u?void 0:u.yLt)){var h=on.m_()-this.dLt.$dt,f=this.dLt.oT>3;if(h>1e3&&f){if(this.Fm.Hm.Wm||on.Ys.ep){var v=2*this.hLt.VP;if(!(yX(this.Fm)>v))return}else{var d=g.max(2*this.hLt.VP+AX,this.fz.xm.minimumOffset);if(!(yX(this.Fm)>d))return void(this.MLt&&this.MLt.minimumOffset===d||(this.Bm(),this.MLt={minimumOffset:d},this.fz.Pm(this.MLt)))}return this.dLt.yLt}}else this.dLt=u},n.ALt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return n.dLt=void 0,n.Bm(),(i=n.fLt).bLt===t.bLt&&i.TLt===t.TLt?[2]:(r=t.bLt,e=t.TLt,i.TLt&&e&&i.TLt.GP>e.GP&&n.hLt.jDt(t.pLt),[4,n._Lt.SLt(e,r)]);case 1:return u.sent(),[2]}}))}))()},n.Bm=function(){this.MLt&&(this.fz.Bm(this.MLt),this.MLt=void 0)},n.mLt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.Kw)?void 0:i.length)?t.Kw:t.qw.Rw);if(n){var u,s=(null==(u=n.Kw)?void 0:u.length)?n.Kw:n.qw.Rw,o=s.slice().sort((function(t,n){return t.GP-n.GP})),a=this.NLt(o);0===a.length&&s.length>0&&a.push(yo(s,(function(t){return t.GP}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var d=h[v],l=0;l<f.length;l++){var g=f[l];c.push(pX(d,g))}return function(t){return t.sort((function(t,n){return n.pLt-t.pLt}))}(c)},n.NLt=function(t){for(var n=0;n<t.length;n++){var i=t[n].akt;if(i.height>=this.Fm.Ti&&i.width>=this.Fm.ji)return t.slice(0,n+1)}return t.slice()},n.h_=function(){this.dLt=void 0,this.uLt.tr(),this.Bm()},At(t,[{key:"fLt",get:function(){return pX(this._Lt.tLt,this._Lt.eLt)}}]),t}();function pX(t,n){var i,r;return{bLt:t,TLt:n,pLt:(null!=(i=null==t?void 0:t.GP)?i:0)+(null!=(r=null==n?void 0:n.GP)?r:0)}}function _X(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t.bLt)?void 0:i.o)===(null==(r=n.bLt)?void 0:r.o)&&(null==(e=t.TLt)?void 0:e.o)===(null==(u=n.TLt)?void 0:u.o)&&t.pLt===n.pLt}wt(),C(),Ot(),mt(),Ft(),Pt();var kX=20,MX=function(){function t(t,n,i){this.$O=new So,this.DLt=t,this.xIt(n,i,this.$O.f_).catch(Hn)}var n=t.prototype;return n.xIt=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return i.n_?[3,6]:[4,Fo(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,bX(t,n,i)];case 3:return r.DLt=e.sent(),[3,5];case 4:return xo(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.h_=function(){this.$O.g_()},t.create=function(n,i,r){return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return[4,bX(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},At(t,[{key:"kAt",get:function(){return(this.DLt.serverTimeMs+(on.m_()-this.DLt.localTimeMs))/1e3}},{key:"ELt",get:function(){return(this.DLt.localTimeMs-this.DLt.serverTimeMs)/1e3}}]),t}();function bX(t,n,i){return TX.apply(this,arguments)}function TX(){return TX=xt((function(t,n,i){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return[4,NX(t,n,i)];case 1:return r=Gt.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>kX?[4,NX(t,n,i)]:[3,3];case 2:o=Gt.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),TX.apply(this,arguments)}function NX(t,n,i){return DX.apply(this,arguments)}function DX(){return DX=xt((function(t,n,i){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return r=on.m_(),[4,n.uD({ZD:Ww.GET,zu:t,f_:i})];case 1:return e=a.sent(),u=on.m_()-r,[4,e.uE(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),DX.apply(this,arguments)}var IX,EX=function(t){function n(){return t.call(this,"seek")}return kt(n,t),n}(Jo);!function(t){t.WU="seek"}(IX||(IX={}));var SX=[dd.jh,uk.Nw,dd.fm],LX=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).YLt=!1,f.axt=!1,f.YT=new RA,f.VT=new RA,f.uxt=void 0,f.xLt=void 0,f.CLt=void 0,f.jLt=new Cc,f.yz=void 0,f.Cvt=void 0,f.RLt=new Cc,f.dE=new So,f.JLt=void 0,f.KLt=new So,f.x5=void 0,f.L5=new So,f.XLt=void 0,f.kLt=void 0,f.rxt=void 0,f.ZLt=void 0,f.LLt=void 0,f.nxt=void 0,f.oxt=void 0,f.Vm=function(){f.axt=!0},f.updateActiveQualities=function(){var t,n,i=f.Fm.U_,r=null==(t=f.kLt)?void 0:t.KDt(i),e=null==(n=f.LLt)?void 0:n.KDt(i);if(f.xLt!==r&&(f.xLt=r,r))for(var u=0,s=f.YT.Rw;u<s.length;u++){s[u].Jkt(r)}if(f.CLt!==e&&(f.CLt=e,e))for(var o=0,a=f.VT.Rw;o<a.length;o++){a[o].Jkt(e)}},f.cxt=function(t){var n=t.data;if(n.Av===DW._Et){var i,r=n.wEt,e=n.vEt,u=n.gEt,s=n.mEt;if(f.ULt){var o=f.ULt.kAt,a=f.Fm.U_;f.axt&&0!==a&&(f.FLt={theolive:o-r+u-a,engine:e,distribution:o-(r+e),player:u-a},f.PLt.GDt(f.ULt.ELt+r,u))}if(s)f.uxt||(f.uxt=f.Fm.rE(C_.ZA,"timecode","timecode",void 0,!1,cm.DEFAULT,!1,void 0)),f.uxt.lE(new Em(u,u,s,!1,void 0)),Z_(f.uxt,null!=(i=f.Fm.O_.Cn(0))?i:-1)}},f.M3=function(t){Co(t)||(f.Zg(),f.Co(new uT(new Fv(Qv.MEDIA_LOAD_ERROR,t.message))))},f.bc=n,f.BLt=i,f.Fm=r,f.aE=u,f.PLt=s,f.wU=new mX(r,o,Vt(f),c,e),f.Mlt=a,f.sxt=h,f.yn(bW.lEt,f.cxt),f.Fm.yn(uk.Sm,f.Vm),f.Fm.yn(SX,f.updateActiveQualities),f}kt(n,t);var i=n.prototype;return i.zLt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.kLt?[4,t.kLt.rS(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.LLt?[4,t.LLt.rS(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.bc.src)throw new Fv(Qv.SOURCE_INVALID,"No src property found in given source.");this.Cvt||(this.Cvt=this.nst(this.dE.f_).catch(this.M3))},i.nst=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return n.Co(new EL),i=n.bc.src,[4,n.BLt.qIt(i,t)];case 1:return r=u.sent(),n.gkt=new nX(i,r),n.gkt.Rkt?[4,MX.create(n.gkt.Rkt,n.aE,t)]:[3,3];case 2:n.ULt=u.sent(),u.label=3;case 3:return n.QLt(),e=n.gkt.kkt[n.gkt.kkt.length-1],n.createTracksForPresentation(e),n.jLt.LL(),n.Zkt(),[2]}}))}))()},i.$kt=function(t){for(var n=0,i=this.YT.Rw;n<i.length;n++){var r=i[n];r.fS(r===t)}},i.iLt=function(t){for(var n=0,i=this.VT.Rw;n<i.length;n++){var r=i[n];r.fS(r===t)}},i.Zkt=function(){var t=ro(this.YT.Rw,(function(t){return t.Rt})),n=ro(this.VT.Rw,(function(t){return t.Rt})),i=this.wU.vLt(t,n);Qo(this.SLt(i.TLt,i.bLt))},i.QLt=function(){var t=this;if(this.gkt&&"live"===this.gkt.QK&&this.ULt){var n=this.gkt.kkt.filter((function(n){return n.o===t.gkt.xkt}))[0].U_,i=this.ULt.ELt+new Date(this.gkt.Tkt).getTime()/1e3;this.PLt.GDt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u=0,s=null!=(r=t.mkt)?r:[];u<s.length;u++){var o=s[u];this.YT.tt(new hX(o,this))}for(var a=0,c=null!=(e=t.Akt)?e:[];a<c.length;a++){var h=c[a];this.VT.tt(new fX(h,this))}null==(n=this.YT.zw(0))||n.fS(!0),null==(i=this.VT.zw(0))||i.fS(!0)},i.Cn=function(){this.YLt=!0,this.GLt()},i.Zg=function(){var t;this.YLt=!1,this.VLt().catch(this.M3),"live"===(null==(t=this.fp)?void 0:t.QK)&&(this.WLt(),this.HLt())},i.WLt=function(){this.XLt&&this.XLt.cancelDownload()},i.HLt=function(){this.ZLt&&this.ZLt.cancelDownload()},i.tp=function(t){this.L5.g_(),this.L5=new So,this.x5=this.qLt(t,this.x5,this.L5.f_).catch(this.M3),this.Co(new EX)},i.qLt=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,zo(r.W,i)];case 3:if(s.sent(),"live"!==r.gkt.QK)throw new v("The current video source does not support Live playback.");return jo(i),[4,r.VLt()];case 4:if(s.sent(),jo(i),!r.XLt||!r.XLt.kEt()&&r.XLt.NEt===(null!=t?t:"now"))return[3,10];if(r.WLt(),!r.kLt)return[3,9];s.label=5;case 5:return r.kLt.tEt?[4,zo(r.kLt.eEt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.kLt.rS(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.XLt)||e.JA(null!=t?t:"now"),s.label=10;case 10:if(!r.ZLt||!r.ZLt.kEt()&&r.ZLt.NEt===(null!=t?t:"now"))return[3,16];if(r.HLt(),!r.LLt)return[3,15];s.label=11;case 11:return r.LLt.tEt?[4,zo(r.LLt.eEt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.LLt.rS(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.ZLt)||u.JA(null!=t?t:"now"),s.label=16;case 16:return jo(i),r.x5=void 0,r.GLt(),[2]}}))}))()},i.JA=function(t){this.L5.g_(),this.L5=new So,this.x5=this.C5(t,this.x5,this.L5.f_).catch(this.M3),this.Co(new EX)},i.C5=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,zo(r.W,i)];case 3:return s.sent(),jo(i),[4,r.VLt()];case 4:return s.sent(),jo(i),r.XLt&&(r.XLt.kEt()||r.XLt.NEt!==t)&&r.WLt(),r.ZLt&&(r.ZLt.kEt()||r.ZLt.NEt!==t)&&r.HLt(),jo(i),null==(e=r.XLt)||e.JA(t),null==(u=r.ZLt)||u.JA(t),r.x5=void 0,r.GLt(),[2]}}))}))()},i.SLt=function(t,n){var i,r;return(null==(i=this.XLt)?void 0:i.Lht)===n&&(null==(r=this.ZLt)?void 0:r.Lht)===t?K.resolve():(this.KLt.g_(),this.KLt=new So,this.JLt=this.$Lt(t,n,this.JLt,this.KLt.f_).catch(this.M3),this.JLt)},i.$Lt=function(t,n,i,r){var e=this;return xt((function(){return zt(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,zo(e.jLt.OL,r)];case 3:return u.sent(),jo(r),[4,e.VLt()];case 4:return u.sent(),jo(r),[4,e.txt(t,n)];case 5:return u.sent(),[4,e.ixt(t,n)];case 6:return u.sent(),jo(r),e.JLt=void 0,e.GLt(),[2]}}))}))()},i.txt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p;return zt(this,(function(_){switch(_.label){case 0:return s=null!=(u=i.JIt)?u:"now",(null==(r=i.XLt)?void 0:r.Lht)===n?[3,5]:(a=i.XLt&&!i.XLt.kEt(),c=null==(o=i.XLt)?void 0:o.NEt,i.XLt?[4,i.XLt.h_()]:[3,2]);case 1:_.sent(),i.XLt=void 0,_.label=2;case 2:return i.kLt?[4,i.kLt.eEt]:[3,4];case 3:_.sent(),_.label=4;case 4:n&&(v=null!=(f=null==(h=i.kLt)?void 0:h.O_)?f:BD.oU(),d=a?c:v.jn(v.U-1),i.XLt=new UW(n,i.aE,i.Mlt),i.XLt.JA(null!=d?d:s)),_.label=5;case 5:return(null==(e=i.ZLt)?void 0:e.Lht)===t?[3,10]:(g=i.ZLt&&!i.ZLt.kEt(),w=null==(l=i.ZLt)?void 0:l.NEt,i.ZLt?[4,i.ZLt.h_()]:[3,7]);case 6:_.sent(),i.ZLt=void 0,_.label=7;case 7:return i.LLt?[4,i.LLt.eEt]:[3,9];case 8:_.sent(),_.label=9;case 9:t&&(m=null!=(A=null==(y=i.LLt)?void 0:y.O_)?A:BD.oU(),p=g?w:m.jn(m.U-1),i.ZLt=new UW(t,i.aE,i.Mlt),i.ZLt.yn(bW.lEt,i.Ds),i.ZLt.JA(null!=p?p:s)),_.label=10;case 10:return[2]}}))}))()},i.ixt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=vX(t,null==n?void 0:n.Lt.qEt.qEt,null==i?void 0:i.Lt.qEt.qEt,r),s=nV(u),o=[];n&&o.push({Nz:n.aG});i&&o.push({Nz:i.aG});return{Av:ek.Sj,F1:o,Iz:s,t2:e&&!r}}(i.bc.contentProtection,n,t,i.Fm.Hm.Wm,i.bc.useManagedMediaSource),!i.yz||!i.yz.FZ(r))return[3,12];if(s=!(null==(e=i.XLt)?void 0:e.kEt()),!i.kLt||!s)return[3,5];h.label=1;case 1:return i.kLt.tEt?[4,i.kLt.eEt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.kLt.MG()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.ZLt)?void 0:u.kEt()),!i.LLt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.LLt)?void 0:a.tEt)?[4,i.LLt.eEt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.LLt)?void 0:c.MG()];case 9:h.sent(),h.label=10;case 10:return[4,i.yz.GZ(r)];case 11:return h.sent(),[3,21];case 12:return i.WLt(),i.HLt(),i.kLt?[4,i.kLt.h_()]:[3,14];case 13:h.sent(),i.kLt=void 0,h.label=14;case 14:return i.LLt?[4,i.LLt.h_()]:[3,16];case 15:h.sent(),i.LLt=void 0,h.label=16;case 16:i.Fm.z6(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.Fm.tr()];case 18:return h.sent(),[4,i.Fm.$n(r)];case 19:return i.yz=h.sent(),i.RLt.LL(),i.yz.I1&&i.XLt&&(i.yz.I1.yn(wL.CZ,i.Ds),i.kLt=new MW(i.yz.I1,i.Fm,n,i.sxt)),i.yz.D1&&i.ZLt&&(i.yz.D1.yn(wL.CZ,i.Ds),i.LLt=new MW(i.yz.D1,i.Fm,t,i.sxt)),"live"===i.gkt.QK&&i.yz.P1(1/0),[3,21];case 20:return i.Fm.B6(),[7];case 21:return[2]}}))}))()},i.GLt=function(){!this.YLt||this.x5||this.JLt||this.nxt||this.rxt||(this.wU.Cn(),this.oxt=new So,this.ZLt&&this.LLt&&(this.nxt=this.hxt(this.ZLt,this.LLt,this.oxt.f_).catch(this.M3)),this.XLt&&this.kLt&&(this.rxt=this.hxt(this.XLt,this.kLt,this.oxt.f_).catch(this.M3)))},i.VLt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.wU.Zg(),t.oxt&&(t.oxt.g_(),t.oxt=void 0),t.nxt?[4,t.nxt]:[3,2];case 1:n.sent(),t.nxt=void 0,n.label=2;case 2:return t.rxt?[4,t.rxt]:[3,4];case 3:n.sent(),t.rxt=void 0,n.label=4;case 4:return[2]}}))}))()},i.hxt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d,l;return zt(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.tEt?[4,zo(t.eEt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.tEt?[4,zo(n.eEt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.kEt()?[3,13]:(e=on.m_()/1e3,u="now"===t.NEt,[4,t.LEt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={Av:pL.jZ,ly:o},f=a?{Av:pL.jZ,ly:a}:void 0,v=n.O_,!on.Ys.Ret&&!r.Fm.Hm.Wm&&c&&v.jn(v.U-1)>c.F7?[4,n.rS(c.F7,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.X$(h)];case 10:return g.sent(),f?[4,n.V$(f,c,t.Lht)]:[3,12];case 11:g.sent(),g.label=12;case 12:d=n.O_.VB(v),u&&d.U>0&&r.PLt.FDt(e,d.jn(d.U-1)),g.label=13;case 13:return t.SEt?[3,15]:(jo(i),l=t.zEt(),[4,zo(n.appendStream(l,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.dE.g_(),t.Cvt?[4,t.Cvt.catch(Hn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.x5?(t.L5.g_(),t.WLt(),t.HLt(),[4,t.x5.catch(Hn)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.JLt?(t.KLt.g_(),t.WLt(),t.HLt(),[4,t.JLt.catch(Hn)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.VLt()];case 7:return n.sent(),t.XLt?[4,t.XLt.h_()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.ZLt?[4,t.ZLt.h_()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.XLt=void 0,t.ZLt=void 0,t.RLt.g_(),t.jLt.g_(),t.yz?[4,t.Fm.tr()]:[3,13];case 12:n.sent(),t.yz=void 0,n.label=13;case 13:return t.kLt=void 0,t.LLt=void 0,t.Fm.fn(uk.Sm,t.Vm),t.Fm.fn(SX,t.updateActiveQualities),t.YT.tr(),t.xLt=void 0,t.VT.tr(),t.CLt=void 0,t.gkt=void 0,t.ULt&&(t.ULt.h_(),t.ULt=void 0),t.YLt=!1,[2]}}))}))()},At(n,[{key:"fp",get:function(){return this.gkt}},{key:"O_",get:function(){return this.kLt&&this.LLt?this.kLt.O_.Sn(this.LLt.O_):this.kLt?this.kLt.O_:this.LLt?this.LLt.O_:BD.oU()}},{key:"tLt",get:function(){return this.xLt}},{key:"eLt",get:function(){return this.CLt}},{key:"ht",get:function(){return this.YT}},{key:"rt",get:function(){return this.VT}},{key:"OLt",get:function(){return this.jLt.OL}},{key:"W",get:function(){return this.RLt.OL}},{key:"Ig",get:function(){return this.gkt?function(t,n,i){var r,e=null==(r=t.kkt[0])?void 0:r.U_,u=t.Mkt;if(void 0===e||void 0===u)return i>0&&i<zi?new BD([0,i],[!0,!0]):BD.oU();var s=n.WDt;if(!s){var o=kY(t.Tkt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new BD([s-u,s],[!0,!0])}(this.gkt,this.PLt,this.Fm.ct):BD.oU()}},{key:"lp",get:function(){return this.FLt}},{key:"JIt",get:function(){var t=this.PLt.WDt;if(void 0!==t)return t}}]),n}(Xo);var CX=[dd.Jv,dd.fm,dd.Ov,dd.qv,dd._m,dd.Lv,dd.zv,dd.Rv],jX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this)._Lt=void 0,s.aU=!1,s.L5=new So,s.x5=void 0,s.MNt=void 0,s.Dxt=new So,s.wtt=!0,s.axt=!1,s.YT=new PT,s.VT=new PT,s.mz=void 0,s.vz=void 0,s.mxt=CD.yB,s.lxt=function(){s.Fm.fg!==s.wtt&&(s.Fm.fg?s.Hg():s.Xg().catch(Hn))},s.VQ=function(){s.axt=!0},s.Mxt=function(t){s.mz=t.errorObject,s.vz=YA(s.mz),s.Axt(s.mz)},s.dxt=function(t){s.mz=GA(t.lt),s.vz=t.lt,s.Axt(s.mz)},s.Fm=n,s.zz=new yk(s.Fm,!0),s.aE=i,s.Sz=new pW(r.aX,r.VH.VP),s.Lz=new fT(i),s.Fm.Qz=s.Lz,s.sxt=new QQ(s.Fm),s.Dl=new dT([s.Fm.nt,s.sxt.Z]),s.PLt=new _W,s.gxt=new aW(Vt(s)),s.vU=e,s.Mlt=u.retryConfiguration,s.Gw(),s}kt(n,t);var i=n.prototype;return i.Gw=function(){this.Fm.yn(CX,this.Ds),this.Fm.yn(uk.Sm,this.VQ),this.Fm.yn([dd.jh,dd.Sh],this.lxt),this.Fm.yn(f_.ha,this.dxt),this.zz.yn(ok,this.Ds)},i.Fw=function(){this.Fm.fn(CX,this.Ds),this.Fm.fn(uk.Sm,this.VQ),this.Fm.fn([dd.jh,dd.Sh],this.lxt),this.Fm.fn(f_.ha,this.dxt),this.zz.fn(ok,this.Ds)},i.qg=function(){return!1},i.Gg=function(){return this.Fm.ya},i.be=function(){this.Fm.be()},i.ge=function(){return this.Fm.ge()},i.$g=function(){},i.iw=function(){},i.Kg=function(){},i.Jg=function(){},i.F_=function(t,n){this.L5.g_(),this.L5=new So,this.x5=this.C5(t,this.L5.f_,this.x5)},i._xt=function(){var t=this.fp;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!A(i))return new Date(n-i)}},i.pxt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.mxt!==CD.yB&&t._Lt?(t._Lt.$n(),t.mxt!==CD.LT&&t.mxt!==CD.YP?[3,2]:[4,t._Lt.OLt]):[2];case 1:n.sent(),"vod"===t._Lt.fp.QK&&t._Lt.Cn(),n.label=2;case 2:return[2]}}))}))()},i.ga=function(t,n,i){var r=this;return xt((function(){var n,e;return zt(this,(function(u){switch(u.label){case 0:return jo(i),[4,r.tr()];case 1:return u.sent(),jo(i),HN(t)?(n=t,r.bc=n,e=new oW(r.aE),r.wxt=r.yxt(t),r.fz=new iN(r,r.Fm,r.wxt),r.fz.Rt=!0,r.fz.yn("latencyrecoveryseek",r.Ds),r.vxt=void 0,r.Qg.ka(r.fz),r._Lt=new LX(n,e,r.Fm,r.Sz,r.aE,r.PLt,r.fz,r.Mlt,r,r.sxt),r._Lt.yn(dd.Gv,r.Ds),r._Lt.yn(f_.ha,r.Mxt),r.YT.Uw=r._Lt.ht,r.VT.Uw=r._Lt.rt,r.Lz.HP(t.contentProtection),Qo(r.pxt()),[2]):(r.mz=new Fv(Qv.SOURCE_INVALID,"HESP source incorrectly configured"),r.vz=YA(r.mz),r.Axt(r.mz),[2,K.resolve()])}}))}))()},i.yxt=function(t){return t.latencyConfiguration?t.latencyConfiguration:this.vxt?tN(this.vxt):$T()},i.Xg=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return t._Lt?(t.wtt=!1,t._Lt.$n(),[4,t._Lt.W]):[2];case 1:return r.sent(),t.Co(new sD(t.U_)),i=t._Lt.k_(IX.WU),t.tp(),[4,i];case 2:return r.sent(),t._Lt.Cn(),[4,t.Fm.Xg()];case 3:return r.sent(),null==(n=t.fz)||n.Cn(),[2]}}))}))()},i.Hg=function(){var t;this._Lt&&(this.wtt=!0,this.Co(new uD(this.U_)),this._Lt.Zg(),null==(t=this.fz)||t.Zg(),this.Fm.Hg())},i.tp=function(){if(this.MNt)throw new v("Cannot seek while resetting");this.L5.g_(),this.L5=new So,this.x5=this.qLt(this.x5,this.L5.f_)},i.bxt=function(){var t;null==(t=this._Lt)||t.Zg()},i.Axt=function(t){this.Co(new uT(t)),this.bxt()},i.C5=function(t,n,i){var r=this;return xt((function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:if(r.MNt)throw new v("Cannot seek while resetting");return u=t,r.Txt(u),r.Ig.length>0&&(u=BD.xn(r.Ig).zB(u),r.Txt(u)),r._Lt?i?[4,i.catch(Hn)]:[3,2]:[2];case 1:a.sent(),jo(n),a.label=2;case 2:(null==(e=r.fz)?void 0:e.Lm)&&r.fz.Zg(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.Fm.k_(dd.$v,n),r.Fm.JA(u),r._Lt.JA(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw xo(o=a.sent()),r._Lt.Zg(),r.Sxt(),o;case 6:return r.Nxt(),[2]}}))}))()},i.qLt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:return i.Co(new Jo("golive")),r=i.JIt,i.Txt(r),i._Lt?t?[4,t.catch(Hn)]:[3,2]:[2];case 1:h.sent(),jo(n),h.label=2;case 2:return h.trys.push([2,11,,13]),e=i.fz.xm.targetOffset,[4,i._Lt.OLt];case 3:if(h.sent(),u=r&&e>=1?r-(e-.4):i.JIt?i.JIt-.2:void 0,i._Lt.tp(u),!(i.VTt.U>0))return[3,6];h.label=4;case 4:return i.VTt.U>0?[4,i._Lt.k_(wL.CZ,n)]:[3,6];case 5:return h.sent(),[3,4];case 6:s=i.VTt,h.label=7;case 7:return 0!==i.VTt.VB(s).U?[3,9]:[4,i._Lt.k_(wL.CZ,n)];case 8:return h.sent(),[3,7];case 9:return u=i.VTt.Cn(i.VTt.U-1),u=i.Ixt(u),i.Txt(u),o=i.Fm.k_(dd.$v,n),i.Fm.JA(u,!0),[4,o];case 10:return h.sent(),[3,13];case 11:if(Co(a=h.sent()))throw null==(c=i.fz)||c.Cn(),a;return i._Lt.Zg(),[4,i._Lt.zLt()];case 12:throw h.sent(),i.Sxt(),a;case 13:return i.Nxt(),[2]}}))}))()},i.Txt=function(t){this.aU=!0,this.fxt=t,this.Co(new hD(this.U_))},i.Nxt=function(){this.aU&&(this.fxt=void 0,this.aU=!1,this.Co(new fD(this.U_)))},i.Sxt=function(){this.fxt=void 0,this.aU=!1},i.Ixt=function(t){return t},i.bNt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return jo(i),t?[4,t.catch(Hn)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(Hn)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.sxt.tr()];case 5:return u.sent(),null==(e=r.fz)||e.Zg(),r._Lt?[4,r._Lt.h_()]:[3,7];case 6:u.sent(),r._Lt=void 0,u.label=7;case 7:return jo(i),[4,r.Fm.tr()];case 8:return u.sent(),jo(i),r.Fm.Pz(),r.VT.tr(),r.YT.tr(),r.Sxt(),r.zz.tr(),r.PLt.tr(),r.mz=void 0,r.vz=void 0,r.wtt=!0,r.axt=!1,r.bc=void 0,r.MNt=void 0,r.wxt=void 0,[2]}}))}))()},i.tr=function(){return this.L5.g_(),this.L5=new So,this.Dxt.g_(),this.Dxt=new So,this.MNt=this.bNt(this.x5,this.MNt,this.Dxt.f_),this.MNt},i.gn=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return t.Fw(),t.zz.gn(),t.bc?[4,t.tr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Vo(),t.Fm.Qz=void 0,null==(n=t.fz)||n.fn("latencyrecoveryseek",t.Ds),null==(i=t.fz)||i.h_(),[4,t.sxt.gn()];case 3:return r.sent(),t.Dl.gn(),t.YT.gn(),t.VT.gn(),[2]}}))}))()},At(n,[{key:"ht",get:function(){return this.YT}},{key:"rt",get:function(){return this.VT}},{key:"fp",get:function(){var t,n;return null==(n=this._Lt)||null==(t=n.fp)?void 0:t.fp}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"U_",get:function(){var t;return null!=(t=this.fxt)?t:this.Fm.U_},set:function(t){this.F_(t)}},{key:"R_",get:function(){var t=this._xt();if(t)return new Date(t.getTime()+1e3*this.U_)},set:function(t){var n=this._xt();t&&n&&(this.U_=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.bc}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){this.Fm.gg=t}},{key:"ct",get:function(){var t=this.Fm.ct;return t===zi?1/0:t}},{key:"G_",get:function(){return!1}},{key:"H_",get:function(){return this.mz}},{key:"lt",get:function(){return this.vz}},{key:"Z_",get:function(){return this.gxt}},{key:"K_",get:function(){return!1}},{key:"eg",get:function(){return Xu({},{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.Fm.rg())}},{key:"cg",get:function(){return!0}},{key:"Eg",get:function(){return this.aU}},{key:"Mz",get:function(){}},{key:"nt",get:function(){return this.Dl}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"O_",get:function(){return this.VTt.ks()}},{key:"VTt",get:function(){return this._Lt?this._Lt.O_:BD.oU()}},{key:"pg",get:function(){return this.Fm.pg.ks()}},{key:"Ig",get:function(){var t,n;return null!=(n=null==(t=this._Lt)?void 0:t.Ig.ks())?n:BD.oU().ks()}},{key:"fg",get:function(){return this.wtt}},{key:"dp",get:function(){return!0}},{key:"Qg",get:function(){return this.vU}},{key:"$It",get:function(){return this.fz?nN(this.fz.xm):null!=(n=this.tDt)?n:nN(null!=(t=this.wxt)?t:$T());var t,n}},{key:"tDt",get:function(){if(!this.fz)return this.vxt;var t=this.fz.Om;return t?nN(t):void 0},set:function(t){this.fz?this.fz.Om=t?tN(t):void 0:this.vxt=t}},{key:"JIt",get:function(){var t;return null==(t=this._Lt)?void 0:t.JIt}},{key:"Km",get:function(){if(!this.fg&&this.axt){var t=this.U_,n=this.PLt.HDt(t);if(void 0!==n){var i=this.VTt,r=0;if(i.U>0){var e=i.jn(i.U-1);r=g.max(e-t,0)}return g.max(n,r)}}}},{key:"lp",get:function(){var t;return null==(t=this._Lt)?void 0:t.lp}},{key:"Sg",get:function(){return this.Fm.Sg}},{key:"yg",get:function(){return this.mxt},set:function(t){this.mxt=t,this.pxt()}}]),n}(Xo),xX=function(t){function n(n,i,r,e,s,o){var a;return(a=t.call(this,n,i,r,e,o)||this).Ext=!1,a.kxt=function(){var t=a.og||0===a.zg;"hidden"===u.visibilityState&&!a.fg&&t?(a.Hg(),a.Ext=!0):"visible"===u.visibilityState&&a.Ext&&(Qo(a.Xg()),a.Ext=!1)},a.Yz=s,a.Lxt=n,u.addEventListener("visibilitychange",a.kxt),a}kt(n,t);var i=n.prototype;return i.Vg=function(){if(wB(this.Fm))return this.Fm.Vg()},i.tr=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.Ext=!1,[4,t.prototype.tr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return u.removeEventListener("visibilitychange",n.kxt),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Fm.h_()];case 2:return i.sent(),[4,n.Yz.Fz(n.Lxt)];case 3:return i.sent(),[2]}}))}))()},i.Ixt=function(t){return jn.zk&&jn.Uk>=15&&jn.QE?t+.25:t},n}(jX);wt(),C(),Ot(),mt(),Pt();var OX=function(){function t(){}return t.prototype.hB=function(t,n){return xt((function(){return zt(this,(function(n){return[2,zX(t.type)]}))}))()},At(t,[{key:"uB",get:function(){return sT.Np}}]),t}();function zX(t){if(!t)return!1;var n=t.toLowerCase();return Ls(n,hN.Sp)||Ls(n,hN.Np)}var RX=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){var o=new jB(n),a=o.oB(zA.VA);return new xX(a,i,e,u,o,r)},i.hB=function(n,i){return ju(n.useManagedMediaSource)?t.prototype.hB.call(this,n,i):K.resolve(!1)},i.aB=function(){return!1},n}(OX);SD(new RX),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt();var BX=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).Yz=u,o}kt(n,t);var i=n.prototype;return i.Vg=function(){if(wB(this.Fm))return this.Fm.Vg()},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n}(jX),PX=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.hB=function(n,i){var r=this;return xt((function(){var e,u,s,a;return zt(this,(function(c){switch(c.label){case 0:return[4,t.prototype.hB.call(r,n,i)];case 1:if(s=c.sent(),!(null!=(a=null==(u=bu())||null==(e=u.canPlayType)?void 0:e.call(u,hN.Mp))?a:"")||!s||!("serviceWorker"in o))return[2,!1];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,Vo(o.serviceWorker.ready,1e3)];case 3:return c.sent(),[2,!0];case 4:return c.sent(),[2,!1];case 5:return[2]}}))}))()},i.Yp=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.nnt(zA.VA);return new BX(o,i,e,u,n,r)}throw new Fv(Qv.CONFIGURATION_ERROR,"Container Div element expected.")},i.aB=function(){return!1},At(n,[{key:"uB",get:function(){return sT.FP}}]),n}(OX);jn.zk&&jn.Ga&&SD(new PX),wt(),C(),wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt();var UX="theo_live_user_id",QX=function(){function t(t){this.externalId=t,this.id=zE(),this.userId=YX(),this.oC=0}return t.prototype.incrementSequenceNumber=function(){this.oC+=1},At(t,[{key:"sequenceNumber",get:function(){return this.oC}}]),t}();function YX(){try{var t=localStorage.getItem(UX);if(t)return t;var n=zE();return localStorage.setItem(UX,n),n}catch(t){return zE()}}wt(),C(),Ot(),mt(),Mt(),Pt();var GX=function(){function t(t,n){this.aE=t,this.xxt=new Map,this.Cxt=n}return t.prototype.Bwt=function(t){var n=this.xxt.get(t.id);if(n)return n;var i=new FX(t,this.aE,this.Cxt);return this.xxt.set(t.id,i),i},t}(),FX=function(){function t(t,n,i){this.uS=t,this.aE=n,this.Bxt=new wd,i.discoveryHeader&&this.Bxt.append("x-theolive-discovery",i.discoveryHeader),this.Yn()}var n=t.prototype;return n.Yn=function(){var t=this;this.Rxt=!1,this.jxt=Xi(),this.Pxt=this.Tbt(),this.Pxt.catch((function(){return t.Rxt=!0}))},n.Tbt=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:return n=t.uS,i=n.id,r=n.discovery,Cs(r.pathname,"manifest.json")?[2,VX(t.uS)]:[4,t.zxt(t.uS,t.Bxt)];case 1:if(!(e=f.sent()))throw new XX(i);if(u=e.mode,s=e.status,o=e.fallback,a=e.metadata,"locked"===u)throw new ZX(i);if("deleted"===s)throw new HX(i);return c={id:t.uS,name:a.name,mode:u,status:s,source:KX(e)},o?[4,t.Uxt(o,r,t.Bxt)]:[3,3];case 2:return h=f.sent(),[3,4];case 3:h=void 0,f.label=4;case 4:return[2,(c.fallback=h,c.insights=null==a?void 0:a.insights,c.enhancedLogging=null==a?void 0:a.enhancedLogging,c.customization=null==a?void 0:a.customization,c)]}}))}))()},n.Uxt=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:(e={id:t.src,discovery:n},[4,r.zxt(e,i)]);case 1:return(u=s.sent())?[2,KX(u)]:[2,void 0]}}))}))()},n.zxt=function(t,n){var i=t.id,r=t.discovery,e=this;return xt((function(){return zt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,e.aE.uD({zu:on.Dh(i,r.toString()).toString(),XD:n})];case 1:return[4,t.sent().SR()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))()},At(t,[{key:"Oxt",get:function(){return Xi()-this.jxt>36e5}},{key:"M8",get:function(){return(this.Rxt||this.Oxt)&&this.Yn(),this.Pxt}}]),t}();function VX(t){return{id:{id:t.id,discovery:on.Dh("dev://")},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var WX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return kt(n,t),n}(Fv),XX=function(t){function n(n){return t.call(this,Qv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")}return kt(n,t),n}(WX),ZX=function(t){function n(n){return t.call(this,Qv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")}return kt(n,t),n}(WX),HX=function(t){function n(n){return t.call(this,Qv.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")}return kt(n,t),n}(WX);function KX(t){var n;return{src:t.hespSrc,type:"theo.live",targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?JX(t.drmConfig):void 0}}function JX(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return Xu({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function qX(t,n){return{id:t,discovery:on.Dh(t,n)}}function $X(t,n){var i=on.Dh(t),r=zE();return i.searchParams.append("CMCD","rid="+r+"&sid="+n.id),i.searchParams.append("userId",n.userId),n.externalId&&i.searchParams.append("externalSessionId",n.externalId),i.href}wt(),C(),Mt(),wt(),C(),wt(),C(),mt();var tZ=function(){function t(){this.Vxt=!1,this.amountOfSamples=0,this.currentAverage=0,this.Yxt=1/0}return t.prototype.Gxt=function(t){this.Vxt=!0,this.currentAverage=this.currentAverage+(t-this.currentAverage)/(this.amountOfSamples+1),this.amountOfSamples+=1,this.Yxt=g.min(this.Fxt,t)},At(t,[{key:"Qxt",get:function(){return this.amountOfSamples>0?this.currentAverage:0}},{key:"Fxt",get:function(){return this.Yxt}}]),t}(),nZ=function(){function t(){this.Wxt=0,this.Hxt=1/0,this.Xxt=0,this.Zxt=0,this.qxt=0}var n=t.prototype;return n.Gxt=function(t){this.Wxt+=1,this.Hxt=g.min(this.Hxt,t),this.Xxt=g.max(this.Xxt,t),this.Zxt+=(t-this.Zxt)/this.Wxt,this.qxt=t},n.Kxt=function(){if(0!==this.Wxt)return{weight:this.Wxt,minimum:g.round(this.Hxt),average:g.round(this.Zxt)}},n.Jxt=function(){if(0!==this.Wxt)return{weight:this.Wxt,minimum:g.round(this.Hxt),average:g.round(this.Zxt),latest:g.round(this.qxt)}},n.$xt=function(){if(0!==this.Wxt)return{weight:this.Wxt,maximum:g.round(this.Xxt),average:g.round(this.Zxt)}},t}(),iZ=function(t){function n(){return t.call(this,Qv.THEO_LIVE_ANALYTICS_ERROR,"Illegal configuration: unexpected property analyticsEnabled")}return kt(n,t),n}(Fv),rZ=function(){function t(t,n,i){var r=this;this.GCt=on.m_(),this.nCt=!1,this.axt=!1,this.aCt=!1,this.VCt=!1,this.WCt=0,this.FCt=[],this.HCt=0,this.xCt=[],this.CCt=[],this.OCt=[],this.zCt=1/0,this.BCt=-1/0,this.UCt=new tZ,this.rCt=-1/0,this.LCt=[],this.SCt=void 0,this.XCt=void 0,this.ja=void 0,this.lCt=function(){var t,n;r.Qo.rt.zw(0).yn(cA.xw,r.jCt),r.tCt("qualities",{qualities:null==(n=r.Qo.rt.zw(0))||null==(t=n.qw)?void 0:t.Rw.map((function(t){return{id:t.o,bandwidth:t.GP,label:t.kh,width:t.ji,height:t.Ti}}))})},this.bCt=function(){r.tCt("exit"),r.Ta("end");for(var t=r.ICt(),n=0,i=r.FCt;n<i.length;n++){var e=i[n];r.YCt(e)}r.FCt.length=0,r.YCt(t)},this.TCt=function(){r.tCt("visibilitychange",{visibility:u.visibilityState})},this.mCt=function(t){t.redirect(Xu({},t,{url:$X(t.url,r.hCt)}))},this.uCt=function(t){r.tCt("error",{message:t.errorObject.message})},this.cCt=function(){r.tCt("volumechange",{volume:r.Qo.zg,muted:r.Qo.og})},this.jCt=function(t){var n,i=t.Lht.GP;r.tCt("qualitychange",{from:r.XCt,to:i}),r.XCt=i;var e,u=r.QCt(t.Lht);r.tCt("bandwidth-distribution",u),r.Ta(null!=(e=null==(n=r.ja)?void 0:n.state)?e:"loading")},this.dCt=function(t){var n;r.tCt("playbackratechange",{rate:t.playbackRate,latency:null==(n=r.Qo.Z_)?void 0:n.Km})},this.ett=function(){var t;r.axt||(r.axt=!0,r.tCt("firstplaying",{targetLatency:null==(t=r.Qo.Z_)?void 0:t.Km}));var n,i,e,u,s=r.nCt;(r.nCt=!0,s)?r.tCt("playing",{activeQuality:null==(i=r.Qo.rt.zw(0))||null==(n=i.Hw)?void 0:n.GP}):r.tCt("playing",{timeSincePlay:(on.m_()-r.GCt)/1e3,activeQuality:null==(u=r.Qo.rt.zw(0))||null==(e=u.Hw)?void 0:e.GP});r.Ta("play")},this.ott=function(t){r.tCt("pause"),r.nCt=!1,r.Ta("pause")},this.ntt=function(){r.tCt("play"),r.GCt=on.m_()},this.fCt=function(){on.m_()-r.rCt>100&&r.tCt("liveseek",{when:r.nCt?"playback":"after-pause"})},this._Ct=function(){r.rCt=on.m_(),r.tCt("latencyrecoveryseek",{when:r.nCt?"playback":"after-pause"})},this.gCt=function(t){r.VCt||(r.VCt=!0,r.WCt=Xi(),r.tCt("stallstart",{when:r.nCt?"playback":"after-pause"})),r.Ta("stall")},this.wCt=function(t){if(r.VCt){r.VCt=!1;var n=(Xi()-r.WCt)/1e3;r.tCt("stallend",{stallDuration:n})}},this.vCt=qn((function(t){var n,i;r.tCt("dimensionchange",{width:t.width,height:t.height}),r.Ta(null!=(i=null==(n=r.ja)?void 0:n.state)?i:"loading")}),1e3),this.MCt=function(t){r.tCt("aderror",null==t?void 0:t.message)},this.ACt=function(t){switch(t.type){case"Bit":r.tCt("adbreakbegin");break;case"zit":r.tCt("adbreakend");break;case"Uit":r.tCt("adbegin");break;case"Qit":r.tCt("adend");break;case"pCt":r.tCt("adskip")}},this.tCt=function(t,n){r.xCt.push({sequenceNumber:r.HCt++,currentTime:Xi()/1e3,type:t,extra:n})},this.Qo=t,this.hCt=n,this.Cxt=i}var n=t.prototype;return n.Ta=function(t){var n,i,r,e={state:t,width:this.Qo.we.clientWidth,height:this.Qo.we.clientHeight,activeQuality:null!=(r=null==(i=this.Qo.rt.zw(0))||null==(n=i.Hw)?void 0:n.GP)?r:-1,time:on.m_()};this.ja&&function(t,n){return t.state===n.state&&t.activeQuality===n.activeQuality&&t.height===n.height&&t.width===n.width}(this.ja,e)||(this.ja=e,this.tCt("statechange",e))},n.iCt=function(t){var n,i;this.Ta("loading");var r,e,u=Cs(on.Dh(t.source.src).host,"fastly.net");if(!this.eCt()&&!u)throw new iZ;this.sCt=t,this.nCt=!1,this.axt=!1,this.rCt=-1/0,this.oCt({type:"session",channelId:t.id.id,channelStatus:t.status,sessionId:this.hCt.id,externalSessionId:this.hCt.externalId,backup:null==(n=t.fallback)?void 0:n.src,autoplay:null!=(r=null==(i=t.customization)?void 0:i.autoplay)&&r,userAgent:o.userAgent,clientVersion:"8.3.0",clientType:"theoplayer"}),this.tCt("loadchannel",{targetLatency:null!=(e=t.source.targetLatency)?e:0})},n.Cn=function(){var t=this;if(!this.aCt){var n,i;this.aCt=!0,this.Qo.yn(f_.ha,this.uCt),this.Qo.yn(dd._m,this.cCt),this.Qo.rt.yn(eA.hw,this.lCt),this.Qo.yn(dd.qv,this.dCt),this.Qo.yn(uk.Sm,this.ett),this.Qo.yn(dd.Sh,this.ott),this.Qo.yn(dd.jh,this.ntt),this.Qo.Z_.yn("golive",this.fCt),this.Qo.Z_.yn("latencyrecoveryseek",this._Ct),this.Qo.yn(uk.Tm,this.gCt),this.Qo.yn(dd.fm,this.wCt),this.Qo.yn(qE.pn,this.vCt),this.Qo.hF.RH(this.mCt),null==(n=this.Qo.Oc)||n.yn(["Bit","zit","Uit","Qit","pCt"],this.ACt),null==(i=this.Qo.Oc)||i.yn("yCt",this.MCt),e.addEventListener("beforeunload",this.bCt),u.addEventListener("visibilitychange",this.TCt),this.tCt("visibilitychange",{visibility:u.visibilityState});var r=this.Qo.we;this.tCt("dimensionchange",{width:r.clientWidth,height:r.clientHeight}),this.SCt=on.m_(),this.NCt=on.f1((function(){var n=t.ICt();t.oCt(n)}),3e4),this.DCt=on.f1((function(){t.ECt()}),5e3),this.kCt=on.f1((function(){t.LCt.push(t.Qo.hF.VH.GP)}),100)}},n.Zg=function(){if(this.xCt.length>0){var t=this.ICt();this.oCt(t)}var n,i,r;(this.xCt=[],this.CCt=[],this.OCt=[],this.aCt)&&(this.aCt=!1,this.Qo.fn(f_.ha,this.uCt),this.Qo.fn(dd._m,this.cCt),this.Qo.rt.fn(eA.hw,this.lCt),null==(n=this.Qo.rt.zw(0))||n.fn(cA.xw,this.jCt),this.Qo.fn(dd.qv,this.dCt),this.Qo.fn(uk.Sm,this.ett),this.Qo.fn(dd.Sh,this.ott),this.Qo.fn(dd.jh,this.ntt),this.Qo.Z_.fn("golive",this.fCt),this.Qo.Z_.fn("latencyrecoveryseek",this._Ct),this.Qo.fn(uk.Tm,this.gCt),this.Qo.fn(dd.fm,this.wCt),this.Qo.fn(qE.pn,this.vCt),this.Qo.hF.BH(this.mCt),null==(i=this.Qo.Oc)||i.fn(["Bit","zit","Uit","Qit","pCt"],this.ACt),null==(r=this.Qo.Oc)||r.fn("yCt",this.MCt),e.removeEventListener("beforeunload",this.bCt),u.removeEventListener("visibilitychange",this.TCt),on.g1(this.NCt),on.g1(this.DCt),on.g1(this.kCt))},n.RCt=function(){this.tCt("intenttofallback")},n.PCt=function(){this.tCt("fallback")},n.ECt=function(){var t,n=this.Qo.j_();if(n.length){var i=n.end(n.length-1)-this.Qo.Q_();this.CCt.push(i)}this.OCt.push(this.Qo.hF.VH.GP);var r=null==(t=this.Qo.Z_)?void 0:t.Km;void 0===r||this.Qo.fg||(this.zCt=g.min(this.zCt,r),this.BCt=g.max(this.BCt,r),this.UCt.Gxt(r))},n.QCt=function(t){var n;this.LCt.sort((function(t,n){return t-n}));var i,r,e,u,s,o,a,c=null!=(n=this.LCt[0])?n:0,h=null!=(i=this.LCt[g.round(.05*this.LCt.length)])?i:0,f=null!=(r=this.LCt[g.round(.25*this.LCt.length)])?r:0,v=null!=(e=this.LCt[g.round(.5*this.LCt.length)])?e:0,d=null!=(u=this.LCt[g.round(.75*this.LCt.length)])?u:0,l=null!=(s=this.LCt[g.round(.95*this.LCt.length)])?s:0,w=null!=(o=this.LCt[this.LCt.length-1])?o:0,y=on.m_(),A=(y-(null!=(a=this.SCt)?a:0))/1e3;return this.LCt.length=0,this.SCt=y,{activeQuality:t.GP,duration:A,min:c,p5:h,p25:f,median:v,p75:d,p95:l,max:w}},n.ICt=function(){var t,n,i;this.tCt("beacon",{activeQuality:null==(n=this.Qo.rt.zw(0))||null==(t=n.Hw)?void 0:t.GP,averageLatency:this.UCt.Qxt,minLatency:this.zCt,maxLatency:this.BCt}),this.UCt=new tZ,this.zCt=1/0,this.BCt=-1/0;var r=null==(i=this.Qo.rt.zw(0))?void 0:i.Hw;if(r){var e=this.QCt(r);this.tCt("bandwidth-distribution",e)}var u=this.xCt.slice(0),s=g.round(this.OCt.reduce((function(t,n){return t+n}),0)/g.max(this.OCt.length,1)),a=this.CCt.reduce((function(t,n){return t+n}),0)/g.max(this.CCt.length,1);return this.OCt=[],this.CCt=[],this.xCt.splice(0),{type:"events",channelId:this.sCt.id.id,userId:this.hCt.userId,currentTime:Xi()/1e3,latency:this.Qo.Z_.Km,paused:this.Qo.fg,events:u,rtt:g.round(1e3*this.Qo.hF.VH.VP),sessionId:this.hCt.id,externalSessionId:this.hCt.externalId,userAgent:o.userAgent,weightedAverageBandwidth:s,weightedAverageBufferSize:a}},n.eCt=function(){var t,n,i,r;return!1!==(null==(t=this.Cxt)?void 0:t.analyticsEnabled)&&(null==(r=null==(i=this.sCt)||null==(n=i.insights)?void 0:n.enabled)||r)},n.oCt=function(t){var n=this;if(this.eCt()){this.FCt.push(t);for(var i=0,r=this.Cxt.analyticsUrls;i<r.length;i++){var e=r[i];this.Qo.Hj.uD({zu:e,ZD:Ww.POST,XD:{Accept:"application/json","Content-Type":"application/json"},_v:Kw.mp,HD:JSON.stringify(t)}).then((function(i){ao(n.FCt,t),Qo(i.GR())})).catch((function(){ao(n.FCt,t)}))}}},n.YCt=function(t){if(this.eCt())for(var n=0,i=this.Cxt.analyticsUrls;n<i.length;n++){var r=i[n];this.Qo.Hj.NG({zu:r,HD:JSON.stringify(t)})}},t}();wt(),C(),mt();var eZ=function(){function t(t,n,i,r,e){var u=this;void 0===r&&(r=i.target),void 0===e&&(e=0),this.channelId=n,this.defaultLatency=i,this.$Ct=0,this.JCt=1/0,this.cu=t,this.zCt=g.max(r,i.target),this.BCt=this.zCt+e;var s=localStorage.getItem("theolive/"+n+"/latency");this.ZCt(s?Number(s):r),this.eOt=on.f1((function(){return u.qCt()}),1e3),this.sOt=on.f1((function(){return u.tOt()}),6e4)}var n=t.prototype;return n.ZCt=function(t){var n=g.min(g.max(t,this.zCt),this.BCt);localStorage.setItem("theolive/"+this.channelId+"/latency",n.toString());var i=n-this.defaultLatency.target;this.cu.Z_._p={windowStart:this.defaultLatency.windowStart+i,target:n,windowEnd:this.defaultLatency.windowEnd+i,maxOffset:this.defaultLatency.maxOffset+i}},n.qCt=function(){if(!this.cu.fg){var t=this.KCt;this.JCt=g.min(this.JCt,t),this.$Ct+=1}},n.tOt=function(){if(!(this.$Ct<10)){var t=.25-this.JCt,n=this.iOt+t;n=g.max(n,this.iOt-.1),n=g.min(n,this.iOt+.1),this.ZCt(n),this.JCt=1/0,this.$Ct=0}},n.h_=function(){on.g1(this.eOt),on.g1(this.sOt)},At(t,[{key:"KCt",get:function(){for(var t=this.cu.j_(),n=this.cu.Q_(),i=0;i<t.length;i++)if(t.start(i)<=n&&n<=t.end(i))return t.end(i)-n;return 0}},{key:"iOt",get:function(){return this.cu.Z_.ap.target}}]),t}();wt(),C(),wt(),C(),mt(),Mt();var uZ=function(){function t(t){var n,i;this.FI=on.m_(),this.rOt=new nZ,this.xP=new nZ,this.bz=new nZ,this.Qo=t,this.hAt=null==(i=this.Qo.rt.zw(0))||null==(n=i.Hw)?void 0:n.o}return t.prototype.nOt=function(){var t=this.Qo.hF.VH.GP,n=this.Qo.Z_.Km?1e3*this.Qo.Z_.Km:void 0,i=function(t){for(var n=t.Q_(),i=t.j_(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}(this.Qo);t>0&&this.xP.Gxt(t),void 0!==i&&this.rOt.Gxt(i),void 0!==n&&this.bz.Gxt(n)},At(t,[{key:"ct",get:function(){return g.round(on.m_()-this.FI)}}]),t}(),sZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).aW=i,e.vz=r,e}kt(n,t);var i=n.prototype;return i.Yp=function(){return{type:"loading",reason:this.aW,duration:this.ct,error:this.vz}},i.oOt=function(){return new n(this.Qo,this.aW,this.vz)},n}(uZ),oZ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ln=i,r}kt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"stalling",duration:this.ct,bandwidth:this.xP.Kxt(),quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo,this.ln)},n}(uZ),aZ=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).sS=i,s.gct=r,s.qx=e,s.Kx=u,s}kt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"playing",duration:this.ct,bandwidth:this.xP.Jxt(),buffer:this.rOt.Kxt(),latency:this.bz.$xt(),qualities:this.sS,targetQualities:this.gct,width:this.qx,height:this.Kx,quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo,this.sS,this.gct,this.qx,this.Kx)},n}(uZ),cZ=function(t){function n(n){return t.call(this,n)}kt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"paused",duration:this.ct,quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo)},n}(uZ),hZ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).aW=i,r}kt(n,t);var i=n.prototype;return i.Yp=function(){var t;return{type:"seeking",duration:this.ct,reason:this.aW,quality:null!=(t=this.hAt)?t:"unknown"}},i.oOt=function(){return new n(this.Qo,this.aW)},n}(uZ);var fZ=function(){function t(t,n,i){var r=this;this.cOt=[],this.AOt=!1,this.axt=!1,this.nF=!1,this.gOt=function(){var t;r.aOt(new sZ(r.Qo,"fallback",null==(t=r.Qo.X_())?void 0:t.message))},this.wOt=function(){r.aOt(new sZ(r.Qo,"loadChannel"))},this.vOt=function(){r.aOt(new sZ(r.Qo,"offline"))},this.oz=function(t){t.Lt.yn(cA.xw,r.Jr)},this.Jr=function(){var t=r.Qo.rt.zw(0);if(t){var n=r.AOt;if(r.AOt=!0,n){var i,e=null!=(i=t.Kw)?i:[],u=Array.isArray(e)?e:[e];r.aOt(new aZ(r.Qo,t.qw.Rw.map((function(t){return vZ(t)})),u.map((function(t){return t.o})),r.Qo.we.clientWidth,r.Qo.we.clientHeight))}}},this.Vm=function(){r.axt=!0,r.nF=!1;var t,n=r.Qo.rt.zw(0),i=n.qw.Rw,e=null!=(t=n.Kw)?t:[],u=Array.isArray(e)?e:[e];r.aOt(new aZ(r.Qo,i.map((function(t){return vZ(t)})),u.map((function(t){return t.o})),r.Qo.we.clientWidth,r.Qo.we.clientHeight))},this.fOt=function(){r.axt&&!r.nF&&(r.nF=!0,r.aOt(new hZ(r.Qo,"latencyRecovery")))},this._Ot=function(){r.axt&&!r.nF&&(r.nF=!0,r.aOt(new hZ(r.Qo,"goLive")))},this.Gm=function(){r.Qo.Eg||r.aOt(new oZ(r.Qo,"visible"===u.visibilityState))},this.dOt=function(){r.aOt(new cZ(r.Qo))},this.mOt=function(t){var n=function(t){var n=t.pathname;if(Cs(n,"/manifest.json"))return"manifest";if(Cs(n,".hspc")){if(Ss(n,"/video/"))return"video-segment";if(Ss(n,"/audio/"))return"audio-segment"}else if(Cs(n,".hspi")){if(Ss(n,"/video/"))return"video-init";if(Ss(n,"/audio/"))return"audio-init"}return"unknown"}(on.Dh(t.url));if("unknown"!==n){r.hCt.incrementSequenceNumber();var i=Xu({},t.headers,{"X-Theolive-Version":"8.3.0","X-Theolive-Playertype":"theoplayer","X-Theolive-Sequence":""+r.hCt.sequenceNumber});"video-segment"===n&&(i=Xu({},i,r.hOt())),t.redirect(Xu({},t,{headers:i}))}},this.lOt=function(){Qo(r.Qo.Hj.uD({zu:r.yOt,XD:r.hOt(),sE:!0}))},this.Qo=t,this.sCt=n,this.hCt=i,this.yOt=$X(on.Dh("bye",n.source.src).href,i),e.addEventListener("beforeunload",this.lOt),this.Qo.yn(uk.Sm,this.Vm),this.Qo.yn(uk.Tm,this.Gm),this.Qo.yn(dd.Sh,this.dOt),this.Qo.Z_.yn("latencyrecoveryseek",this.fOt),this.Qo.Z_.yn("golive",this._Ot),this.Qo.hF.RH(this.mOt),this.Qo.rt.yn(eA.hw,this.oz),this.Qo.cit.addEventListener("intenttofallback",this.gOt),this.Qo.cit.addEventListener("publicationloadstart",this.wOt),this.Qo.cit.addEventListener("publicationoffline",this.vOt),this.uOt=new sZ(this.Qo,"loadChannel"),this.pOt=on.f1((function(){r.uOt.nOt()}),1e3)}var n=t.prototype;return n.hOt=function(){var t;if(void 0===(null==(t=this.Qo.rt.zw(0))?void 0:t.Hw))return{};this.aOt(this.uOt.oOt());var n={channel:{name:this.sCt.name},states:this.cOt};return this.cOt=[],{"X-THEOLIVE-SEGMENT-METRICS-V1":""+JSON.stringify(n)}},n.aOt=function(t){this.cOt.push(this.uOt.Yp()),this.uOt=t},n.destroy=function(){var t=this;this.lOt(),e.removeEventListener("beforeunload",this.lOt),this.Qo.fn(uk.Sm,this.Vm),this.Qo.fn(uk.Tm,this.Gm),this.Qo.fn(dd.Sh,this.dOt),this.Qo.Z_.fn("latencyrecoveryseek",this.fOt),this.Qo.Z_.fn("golive",this._Ot),this.Qo.rt.fn(eA.hw,this.oz),this.Qo.rt.Rw.forEach((function(n){return n.fn(cA.xw,t.Jr)})),this.Qo.cit.removeEventListener("intenttofallback",this.gOt),this.Qo.cit.removeEventListener("publicationloadstart",this.wOt),this.Qo.cit.removeEventListener("publicationoffline",this.vOt),this.Qo.hF.BH(this.mOt),on.g1(this.pOt)},t}();function vZ(t){return[t.o,t.GP,t.ji,t.Ti]}wt(),C(),Ot(),mt(),Mt(),Pt();var dZ=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return kt(n,t),n}(Jo),lZ=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return kt(n,t),n}(Jo),gZ=function(t){function n(n){var i;return(i=t.call(this,"publicationloaded")||this).publicationId=n,i}return kt(n,t),n}(Jo),wZ=function(t){function n(){return t.call(this,"intenttofallback")}return kt(n,t),n}(Jo),yZ=function(t){function n(){return t.call(this,"enterbadnetworkmode")}return kt(n,t),n}(Jo),AZ=function(t){function n(){return t.call(this,"exitbadnetworkmode")}return kt(n,t),n}(Jo),mZ=function(t){function n(n){var i;return(i=t.call(this)||this).Qo=n,i}return kt(n,t),n.prototype.bOt=function(t){return this.Qo.bOt(t)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)},get badNetworkMode(){return t.MOt},set badNetworkMode(n){t.MOt=n},preloadPublications:function(n){return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.bOt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.Xa}},{key:"MOt",get:function(){return this.Qo.MOt},set:function(t){this.Qo.MOt=t}}]),n}(Xo);var pZ=["https://theo-insights-prod-5cb0.ew.r.appspot.com/"],_Z=8e5,kZ=function(t){function n(n,i){var r,e,u;(r=t.call(this,n,i)||this).YLt=!1,r.$O=new So,r.NOt=void 0,r.axt=!1,r.XOt=[],r.kOt=!1,r.oz=function(t){var n,i=t.Lt;i.yn(cA.xw,r.Jr);var e=MZ(null!=(n=i.Kw)?n:i.qw.Rw);i.Kw=e.length>0?e:MZ(i.qw.Rw)},r.Jr=function(t){var n,i=t.Lht;(!i||(null!=(n=i.Xpt)?n:i.GP)>=_Z)&&r.xOt()};var s=Vt(r);r.fOt=xt((function(){return zt(this,(function(t){switch(t.label){case 0:return s.LOt(),s.XOt.push(on.m_()),s.XOt=s.XOt.filter((function(t){return on.m_()-t<=3e5})),s.XOt.length>=3?(s.XOt=[],[4,s.zOt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));var o=Vt(r);r.DOt=xt((function(){return zt(this,(function(t){switch(t.label){case 0:return o.jOt?[4,o.jOt.M8]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(o.jOt.Yn(),[4,o.jOt.M8]);case 2:if("playing"!==t.sent().status)return o.Co(new uT(new Fv(Qv.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,o.zOt(!0)];case 4:return t.sent(),[2]}}))})),r.ROt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=on.Dh(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.EOt=new mZ(Vt(r));var a,c,h,f,v=n.wd.theoLive;return r.OOt={sessionId:null!=(a=null==v?void 0:v.sessionId)?a:zE(),userId:null!=(c=null==v?void 0:v.userId)?c:YX(),externalSessionId:null==v?void 0:v.externalSessionId,analyticsEnabled:!1!==(null==v?void 0:v.analyticsEnabled),fallbackEnabled:!1!==(null==v?void 0:v.fallbackEnabled),discoveryUrl:null!=(h=null==v?void 0:v.discoveryUrl)?h:"https://discovery.theo.live/channels/",analyticsUrls:null!=(f=null==v?void 0:v.analyticsUrls)?f:pZ},r.hCt=new QX(null==(e=r.OOt)?void 0:e.externalSessionId),r.IOt=new rZ(Vt(r),r.hCt,r.OOt),r.COt=new GX(n.Hj,{discoveryHeader:null==(u=r.OOt)?void 0:u.discoveryHeader}),r.VOt=n.Z_.ap,r.Qo.Z_.yn("latencyrecoveryseek",r.fOt),r}kt(n,t);var i=n.prototype;return i.TOt=function(){this.Qo.Z_.yn("latencyrecoveryseek",this.fOt),this.Qo.rt.yn(eA.hw,this.oz)},i.SOt=function(){this.Qo.Z_.fn("latencyrecoveryseek",this.fOt),this.Qo.rt.fn(eA.hw,this.oz)},i.nw=function(n){var i=this;return this.YLt?n.type===uk.Sm?(void 0!==this.NOt?(on.p_(this.NOt),this.NOt=void 0,this.axt||this.Co(new gk(this.Q_()))):this.Co(new gk(this.Q_())),this.axt=!0,!0):n.type===uk.Tm?(this.NOt||(this.NOt=on.A_((function(){i.Co(new vk(i.Q_())),i.NOt=void 0}),100)),!0):"error"===n.type?(this.IOt.Zg(),Qo(this.DOt()),!0):t.prototype.nw.call(this,n):t.prototype.nw.call(this,n)},i.dit=function(){return this.EOt.va},i.LOt=function(){if(!this.kOt&&(this.kOt=!0,this.EOt.Co(new yZ),0!==this.Qo.rt.U)){var t,n=this.rt.zw(0),i=mo(n.qw.Rw,(function(t){return t.GP}));(null!=(t=i.Xpt)?t:i.GP)<_Z?(n.Kw=[i],K.resolve().then((function(){return n.Kw=n.qw.Rw.slice()}))):this.xOt()}},i.xOt=function(){if(this.kOt&&(this.kOt=!1,this.EOt.Co(new AZ),0!==this.Qo.rt.U)){var t,n=this.Qo.rt.zw(0),i=MZ(null!=(t=n.Kw)?t:n.qw.Rw);n.Kw=i.length>0?i:MZ(n.qw.Rw)}},i.bOt=function(t){var n=this;return K.all(t.map(xt((function(t){return zt(this,(function(i){switch(i.label){case 0:return[4,zo(n.COt.Bwt(qX(t,n.OOt.discoveryUrl)).M8,n.$O.f_)];case 1:return[2,i.sent()]}}))}))))},i.ga=function(n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d,l,w,y,A,m;return zt(this,(function(p){switch(p.label){case 0:r.YLt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],p.label=1;case 1:if(!(u<s.length))return[3,10];if((o=s[u]).integration!==IN.THEOLIVE)return[3,8];if(void 0===o.src)return[3,9];r.TOt(),r.YLt=!0,r.EOt.Co(new dZ(o.src)),a=qX(o.src,r.OOt.discoveryUrl),c=r.EOt.k_("publicationloaded"),p.label=2;case 2:return p.trys.push([2,5,,6]),r.bc=n,r.MB=o,r.jOt=r.COt.Bwt(a),[4,r.jOt.M8];case 3:return v=p.sent(),r.IOt.iCt(v),d=v.enhancedLogging,l=v.source.targetLatency,(null==d?void 0:d.enabled)&&g.random()<=d.percentage&&r.Qo.hF.RH(r.ROt),(null==(h=r.OOt)?void 0:h.analyticsEnabled)&&(null==(f=r.OOt)?void 0:f.experimentalAnalyticsEnabled)&&"theo.live"===v.source.type&&(r.POt=new fZ(r,v,r.hCt)),w=r.Qo.Z_.ap,y=(null!=l?l:.45)-w.target,r.Qo.Z_._p={windowStart:w.windowStart+y,target:w.target+y,windowEnd:w.windowEnd+y,maxOffset:w.maxOffset+y},[4,zo(r.zOt(r.Qo.eS),i)];case 4:return p.sent(),[3,6];case 5:throw A=p.sent(),r.W3(),r.dispatchErrorEvent(A),A;case 6:return[4,zo(c,i).catch(xo)];case 7:return p.sent(),[2];case 8:if("web"===an.yE&&(null==n?void 0:n.contentProtection)&&(!iD(o)||o.type!==hN.Np))throw m=new Fv(Qv.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(m),m;p.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.ga.call(r,n,i)];case 11:return[2,p.sent()]}}))}))()},i.zOt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return n.W3(),n.jOt?[4,n.jOt.M8]:[2];case 1:return i=e.sent().source,[4,n.BOt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.UOt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.QOt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.FOt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.FOt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.vOt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.QOt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.vOt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.BOt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.Qo.Hj.uD({zu:$X(t.src,n.hCt)})];case 1:return(i=r.sent()).fD>=200&&i.fD<300?[2,"live"]:404===i.fD||503===i.fD?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.FOt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return n.jOt?[4,n.jOt.M8]:[2];case 1:return i=r.sent(),n.UOt="primary",n.tq(i.source,t),[2]}}))}))()},i.vOt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.jOt?[4,t.jOt.M8]:[2];case 1:return n=i.sent(),t.EOt.Co(new lZ(n.id.id)),t.YOt=on.A_((function(){return t.zOt(t.Qo.eS)}),15e3),[2]}}))}))()},i.tq=function(t,n){var i,r,e,u,s=this;this.IOt.Cn();var o=qI({sources:[{type:bZ(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0}],ads:this.axt?[]:null==(i=this.bc)?void 0:i.ads,blockContentIfAdError:null==(r=this.bc)?void 0:r.blockContentIfAdError});o.sources[0].bypassLicense=!0,this.Qo.ga(o,(new So).f_).then((function(){n&&s.Qo.Xg()})).catch(this.dispatchErrorEvent);var a=t.targetLatency,c=this.jOt.uS.id;null==(e=this.GOt)||e.h_(),this.GOt=new eZ(this,c,this.VOt,a,null==(u=this.MB)?void 0:u.targetLatencyLeniency),this.EOt.Co(new gZ(c))},i.QOt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.IOt.RCt(),n.EOt.Co(new wZ),[4,n.WOt()];case 1:if(!i.sent())throw new v("fallback not live");return[4,n.HOt(t)];case 2:return i.sent(),[2]}}))}))()},i.HOt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.jOt)?void 0:i.M8];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.IOt.PCt(),n.UOt="fallback",n.tq(r.fallback,t),[2]):[2]}}))}))()},i.WOt=function(){var t=this;return xt((function(){var n,i,r,e;return zt(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.jOt)?void 0:n.M8];case 1:return r=u.sent(),(null==(i=t.OOt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.Qo.Hj.uD({zu:$X(r.fallback.src,t.hCt)})]:[2,!1];case 2:return[2,(e=u.sent()).fD>=200&&e.fD<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof Fv)return this.Co(new uT(t));this.Co(new uT(new Fv(Qv.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.W3=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Qo.Zg()];case 1:return n.sent(),void 0!==t.YOt&&(on.p_(t.YOt),t.YOt=void 0),[2]}}))}))()},i.Zg=function(){var n,i;return this.$O.g_(),this.$O=new So,this.SOt(),void 0!==this.NOt&&(on.p_(this.NOt),this.NOt=void 0),this.YLt=!1,this.axt=!1,null==(n=this.GOt)||n.h_(),this.GOt=void 0,this.IOt.Zg(),null==(i=this.POt)||i.destroy(),this.bc=void 0,this.MB=void 0,this.jOt=void 0,this.UOt=void 0,this.XOt=[],this.Qo.hF.BH(this.ROt),this.kOt&&this.xOt(),t.prototype.Zg.call(this)},i.gn=function(n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return i.$O.g_(),void 0!==i.NOt&&(on.p_(i.NOt),i.NOt=void 0),i.Vo(),i.SOt(),null==(r=i.POt)||r.destroy(),i.Qo.Z_.fn("latencyrecoveryseek",i.fOt),[4,t.prototype.gn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},At(n,[{key:"MOt",get:function(){return this.kOt},set:function(t){this.YLt&&(t?this.LOt():this.xOt())}}]),n}(NT);function MZ(t){return t.filter((function(t){var n;return(null!=(n=t.Xpt)?n:t.GP)>=_Z}))}function bZ(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new v("Unknown source type: "+t)}}LT((function(t){return new kZ(t)}),TT.Za),wt(),C(),wt(),C(),mt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C(),wt(),C();var TZ=L(hn());wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var NZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).cS=nm(),r.Xa=void 0,r.Jx=n,r.ZOt=i,r}kt(n,t);var i=n.prototype;return i.Yn=function(t,n){this.Jx=t,this.ZOt=n,this.Xa&&this.Co(new nG(this.Xa))},i.MD=function(){throw new v("Method not implemented.")},i.bD=function(){throw new v("Method not implemented.")},i.gn=function(){this.Vo()},At(n,[{key:"yM",get:function(){return this.ZOt}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=$Y(this)}},{key:"Adt",get:function(){return 0}},{key:"ji",get:function(){return this.Jx.targetWidth}},{key:"Ti",get:function(){return this.Jx.targetHeight}},{key:"qpt",get:function(){return 0}},{key:"o",get:function(){return this.Jx.id}},{key:"Xw",get:function(){return this.cS}},{key:"GP",get:function(){return this.Jx.bitrate}},{key:"Xpt",get:function(){}},{key:"$nt",get:function(){return""}},{key:"kh",get:function(){return""}},{key:"Jpt",get:function(){return""}},{key:"snt",get:function(){return!0}},{key:"Zpt",get:function(){}}]),n}(Xo),DZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).cS=qA(),r.sS=new WA,r.qOt=n,r.JOt=i,r.Yn(n),r}kt(n,t);var i=n.prototype;return i.Yn=function(t){var n,i=function(i,r){var e=r[i],u=ro(t.layers,(function(t){return t.encodingId===e.id})),s=ro(n.sS.Rw,(function(t){return t.o===e.id}));s?s.Yn(e,u):n.sS.nS(new NZ(e,u))};this.qOt=t;for(var r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.Co(new HA(this))},i.fS=function(t){},i.gn=function(){this.Vo(),this.JOt=void 0;for(var t=0,n=this.sS.Rw;t<n.length;t++){n[t].gn()}this.sS.tr()},At(n,[{key:"Av",get:function(){return zA.VA}},{key:"Rt",get:function(){return!0},set:function(t){this.fS(t)}},{key:"Hw",get:function(){}},{key:"qw",get:function(){return this.sS}},{key:"Kw",get:function(){return this.KOt},set:function(t){if(this.KOt=t,this.Rt){var n,i=1===(null==t?void 0:t.length)?t[0].yM:void 0;null==(n=this.JOt)||n.$Ot(i)}this.Co(new vU(this.sS.Rw.slice(),this))}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=jA(this)}},{key:"idt",get:function(){}},{key:"zt",get:function(){return rX.Fkt}},{key:"o",get:function(){return"millitrack"}},{key:"Xw",get:function(){return this.cS}},{key:"kh",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.fS("enabled"===t)}},{key:"Zw",get:function(){}}]),n}(Xo);wt(),C(),mt();var IZ,EZ=function(){function t(){}var n=t.prototype;return n.Yn=function(t){this.tjt=t},n.WP=function(t){},At(t,[{key:"GP",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.tjt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.tjt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"VP",get:function(){var t,n;return null!=(n=null==(t=this.tjt)?void 0:t.currentRoundTripTime)?n:0}}]),t}(),SZ=[dd.jh,dd.Sh,uk.Sm,dd.fm,dd.Zv,dd.Gv,dd.im,dd.$v,dd.Ov,dd.qv,dd._m,dd.Lv,dd.Jv,dd.Iv,dd.Nv,dd.zv,dd.Rv],LZ=["active","inactive","stopped","vad","layers","migrate","viewercount"],CZ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).gU=n,e.wU=i,e.vU=r,e.$O=new So,e.Cvt=void 0,e.ejt=void 0,e.VT=new RA,e.YT=new RA,e.Sz=new EZ,e.Ss=function(t){e.rB(new Fv(Qv.MEDIA_LOAD_ERROR,"Millicast error",t.lt))},e.pmt=function(t){Co(t)||e.rB(new Fv(Qv.MEDIA_DECODE_ERROR,t.message,t))},e.Fm=e.gU.oB(zA.VA),e.zz=new yk(e.Fm,!0),e.Fm.yn(SZ,e.Ds),e.Fm.yn(f_.ha,e.Ss),e.zz.yn(ok,e.Ds),e}kt(n,t);var i=n.prototype;return i.$Ot=function(t){var n;null==(n=this.QI)||n.select(t)},i.Vg=function(){return this.Fm.Vg()},i.F_=function(t,n){},i.ge=function(){this.Fm.ge()},i.be=function(){this.Fm.be()},i.Xg=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.Fm.Xg()];case 1:return n.sent(),[2]}}))}))()},i.Hg=function(){this.Fm.Hg()},i.tr=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return t.bc=void 0,t.$O.g_(),null==(n=t.QI)||n.stop(),t.QI=void 0,t.Cvt?[4,t.Cvt.catch(Hn)]:[3,2];case 1:e.sent(),t.Cvt=void 0,e.label=2;case 2:return t.ejt=void 0,[4,t.Fm.tr()];case 3:for(e.sent(),i=0,r=t.VT.Rw;i<r.length;i++)r[i].gn();return t.YT.tr(),t.VT.tr(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),t.YT.gn(),t.VT.gn(),t.zz.gn(),t.Fm.fn(SZ,t.Ds),t.Fm.fn(f_.ha,t.Ss),[4,t.gU.Fz(t.Fm)];case 2:return n.sent(),[2]}}))}))()},i.ga=function(t,n,i){var r=this;return xt((function(){var n,e;return zt(this,(function(u){return jo(i),r.hNt(),n=t,r.bc=n,r.$O=new So,e=function(){return TZ.Director.getSubscriber({streamName:n.streamName,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.QI=new TZ.View(n.streamName,e,void 0,!0),r.sjt(),[2]}))}))()},i.$n=function(){if(void 0===this.Cvt){var t=this.QI;void 0!==t&&(this.Cvt=this.nst(t,this.$O.f_).catch(this.pmt))}},i.nst=function(t,n){return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:jo(n),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,zo(t.connect({events:LZ}),n)];case 2:return r.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,5];case 3:return xo(i=r.sent()),on.vp("[THEOplayer] Millicast connect error, reconnecting.",i),[4,zo(t.reconnect(),n)];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))()},i.njt=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:jo(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.Fm.z6(),i.ejt=t,[4,i.Fm.tr()];case 2:return r.sent(),[4,i.Fm.$n({Av:ek.Tj,yv:"",uq:t,Nz:hN.Ip,Iz:[]})];case 3:return r.sent(),[3,5];case 4:return i.Fm.B6(),[7];case 5:return[2]}}))}))()},i.sjt=function(){var t=this,n=this.QI;n.once("track",(function(n){t.njt(n.streams[0],t.$O.f_).catch(t.pmt)})),n.on("broadcastEvent",(function(n){switch(n.name){case"active":t.Co(new UF);break;case"inactive":case"stopped":t.Co(new QF);break;case"viewercount":default:break;case"layers":var i=n.data;if(0===t.VT.U){var r=new DZ(i.medias[0],t);t.VT.tt(r)}else t.VT.zw(0).Yn(i.medias[0])}})),n.webRTCPeer.on("stats",(function(n){t.ijt=n,t.Sz.Yn(n)}))},i.rB=function(t){this.vz||(Qo(this.tr()),this.vz=YA(t),this.mz=t,this.Co(new uT(t)))},i.hNt=function(){this.vz=void 0,this.mz=void 0},i.qg=function(){return!1},i.Kg=function(){},i.Jg=function(){},i.$g=function(){this.Fm.$g()},i.iw=function(){var t=this.ejt;void 0!==t&&this.njt(t,this.$O.f_).catch(this.pmt)},i.Gg=function(){return this.Fm.ya},At(n,[{key:"Yg",get:function(){return!1}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Fm.O_.ks()}},{key:"R_",get:function(){return this.Fm.R_},set:function(t){}},{key:"bt",get:function(){return this.bc}},{key:"U_",get:function(){return this.Fm.U_},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Fm.ct}},{key:"G_",get:function(){return this.Fm.G_}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"K_",get:function(){return this.Fm.K_}},{key:"eg",get:function(){var t,n,i,r,e,u,s=this.ijt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{qT:this.wU.VH.GP,HT:null!=(i=null==o?void 0:o.framesDropped)?i:0,XT:0,ZT:null!=(r=null==o?void 0:o.framesReceived)?r:0,KT:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"cg",get:function(){var t,n;return null!=(n=null==(t=this.QI)?void 0:t.isActive())&&n}},{key:"fg",get:function(){return this.Fm.fg}},{key:"gg",get:function(){return 1},set:function(t){}},{key:"pg",get:function(){return this.Fm.pg.ks()}},{key:"yg",get:function(){return CD.yB},set:function(t){}},{key:"Sg",get:function(){return this.Fm.Sg}},{key:"Ig",get:function(){return this.Fm.Ig.ks()}},{key:"Eg",get:function(){return this.Fm.Eg}},{key:"Mz",get:function(){return this.Fm.Mz}},{key:"nt",get:function(){return this.Fm.nt}},{key:"Cg",get:function(){return this.Fm.Cg}},{key:"rt",get:function(){return this.VT}},{key:"Rg",get:function(){return this.Fm.Rg}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){this.Fm.zg=t}},{key:"Qg",get:function(){return this.vU}},{key:"Tz",get:function(){return this.Sz}},{key:"Km",get:function(){return this.vU.Km}}]),n}(Xo),jZ=function(){function t(){}var n=t.prototype;return n.Yp=function(t,n,i,r,e,u,s,o){return new CZ(n,e,u)},n.hB=function(t,n){return t.type===hN.Ip},n.aB=function(){return!1},At(t,[{key:"uB",get:function(){return sT.Ip}}]),t}();SD(new jZ),wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Ft(),Ct(),tt(),Pt(),Ht(),wt(),C(),function(t){t.rjt="currentbufferingrenditionchange",t.ojt="hjt",t.ajt="ujt",t.cjt="ljt"}(IZ||(IZ={})),wt(),C(),Wt(),mt(),Mt(),wt(),C();var xZ=function(t,n){var i,r;this.$nt=void 0,this.Xw=nm(),this.djt=n,this.Av=t.Av,this.fjt=t.fjt,this._jt=t._jt,this.gjt=t.gjt,this.l=t.l,this.gs=t.gs,this.wjt=t.wjt,this.vjt=t.vjt,this.mjt=void 0===t.Jpt,this.pjt=null!=(r=null==(i=t.pjt)?void 0:i.split(","))?r:[]};function OZ(t,n){return t.Av===n.Av&&(t.l===n.l||!(!t.fjt||!n.fjt))}function zZ(t,n){return void 0!==t&&void 0!==n&&RZ(t,n)}function RZ(t,n){return t.djt===n.djt}function BZ(t,n){return RZ(t,n)&&t.wjt===n.wjt}function PZ(t,n){for(var i=0;i<t.length;i++){if(BZ(t[i],n))return!0}return!1}var UZ,QZ=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).z2=n,s.Qo=i,s.wU=r,s.fh=e,s.qw=u,s.gct=void 0,s.Ojt=void 0,s.jjt=function(){return s.Co(new HA(Vt(s)))},s.xjt=function(){var t=s.Hw;t&&s.Ojt!==t&&(s.Ojt=t,s.Co(new ZQ(t)))},s.Cjt=function(){var t=s.Rt;s.Rjt!==t&&(s.Rjt=t,s.fh.Co(new XA(Vt(s))),s.Co(new XA(Vt(s))))},s.Ojt=s.Hw,s.Rjt=s.Rt;var a,c,h=u.zw(0);s.lS=null!=(a=null==h?void 0:h.Mjt.l)?a:"",s.Rx=null!=(c=null==h?void 0:h.Mjt.gs)?c:"",s.Ajt=null==h||null==(o=h.Mjt)?void 0:o.pjt.map(XZ).filter(zn),s.cS=qA(),s.Qo.yn(IZ.rjt,s.xjt),s.Qo.yn(IZ.ojt,s.Cjt);for(var f=0;f<s.qw.U;f++){s.qw.zw(f).yn("update",s.jjt)}return s}kt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i.gn=function(){this.Vo(),this.Qo.fn(IZ.rjt,this.xjt),this.Qo.fn(IZ.ojt,this.Cjt);for(var t=0,n=this.qw.Rw;t<n.length;t++){n[t].gn()}this.qw.tr()},At(n,[{key:"Zw",get:function(){return this.Ajt}},{key:"Rt",get:function(){var t=this.yjt();if(!t)return!1;for(var n=0,i=this.qw.Rw;n<i.length;n++){if(i[n].Mjt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.qw.zw(0))?void 0:n.Mjt,r=this.Qo.bjt,e=0,u=this.qw.Rw;e<u.length;e++){var s=u[e];if(s.Tjt===r){i=s.Mjt;break}}this.Sjt(i)}else this.Sjt(void 0)}},{key:"Hw",get:function(){if(this.Rt)for(var t=this.Qo.Njt,n=0,i=this.qw.Rw;n<i.length;n++){var r=i[n];if(PZ(t,r.Mjt))return r}}},{key:"va",get:function(){return this.Xa||(this.Xa=jA(this)),this.Xa}},{key:"o",get:function(){return this.cS.toString()}},{key:"Xw",get:function(){return this.cS}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"gs",get:function(){return this.Rx}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}},{key:"Kw",get:function(){return this.gct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.Hw?yU(n.Hw):void 0;return on.Ys.Uet(i,yU(t))})).filter((function(i){return n.qw.oS(t)&&i.snt})):i=this.qw.Rw.filter((function(t){return t.snt}));if(0!==i.length){if(!(t===this.gct||this.gct&&go(this.gct,i))){if(this.gct=t?i:void 0,this.Qo.Ijt(i.map((function(t){return t.Tjt}))),1===i.length){var r=i[0].Tjt,e=this.z2===zA.VA,u=this.wU.vX;Qo(this.Qo.Djt(r,{Ejt:!0,kjt:u&&e,Ljt:u&&!e}))}this.Co(new vU(i,this))}}else this.Co(new wU)}}]),n}(Xo),YZ=function(t){function n(n,i,r,e){return t.call(this,zA.WA,n,i,r,e)}kt(n,t);var i=n.prototype;return i.yjt=function(){return this.Qo.Pjt},i.Sjt=function(t){Qo(this.Qo.zjt(t))},At(n,[{key:"zt",get:function(){return iX.Fkt}}]),n}(QZ),GZ=function(t){function n(n,i,r,e){return t.call(this,zA.VA,n,i,r,e)}kt(n,t);var i=n.prototype;return i.yjt=function(){return this.Qo.Bjt},i.Sjt=function(t){Qo(this.Qo.Ujt(t))},At(n,[{key:"zt",get:function(){return rX.Fkt}}]),n}(QZ),FZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).Tjt=n,r.Mjt=i,r.lS="",r.snt=!0,r}kt(n,t);var i=n.prototype;return i.bD=function(){},i.MD=function(){},i.gn=function(){this.Vo()},At(n,[{key:"o",get:function(){return String(this.Tjt.o)}},{key:"Xw",get:function(){return this.Tjt.o}},{key:"GP",get:function(){return this.Tjt.GP}},{key:"Xpt",get:function(){return this.Tjt.Xpt}},{key:"kh",get:function(){var t;return null!=(t=this.lS)?t:this.Mjt.l},set:function(t){this.kh!==t&&(this.lS=t,this.Co(new nG(this.va)))}},{key:"Jpt",get:function(){return this.Mjt.djt.Qjt()}},{key:"Zpt",get:function(){return this.Tjt.Zpt}}]),n}(Xo),VZ=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xa=void 0,r}return kt(n,t),n.prototype.fa=function(){return tG(this)},At(n,[{key:"Hmt",get:function(){return 0}},{key:"$nt",get:function(){var t;return(null==(t=this.Tjt.$nt)?void 0:t.mkt)||""}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(FZ),WZ=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xa=void 0,r.Fjt=0,r.hkt=void 0,r}return kt(n,t),n.prototype.fa=function(){return $Y(this)},At(n,[{key:"$nt",get:function(){var t;return(null==(t=this.Tjt.$nt)?void 0:t.Akt)||""}},{key:"qpt",get:function(){return this.Fjt},set:function(t){this.Fjt!==t&&(this.Fjt=t,this.Co(new nG(this.va)))}},{key:"Adt",get:function(){var t,n;return null!=(n=null!=(t=this.hkt)?t:this.Tjt.Adt)?n:0},set:function(t){this.Adt!==t&&(this.hkt=t,this.Co(new nG(this.va)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.Tjt.akt)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.Tjt.akt)?void 0:t.ji)?n:0}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(FZ);function XZ(t){return"public.accessibility.describes-video"===t?IA.uv:"public.accessibility.transcribes-spoken-dialog"===t?IA.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?IA.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?IA.hv:void 0}wt(),C(),wt(),C(),Ct(),function(t){t.Yjt="FATAL",t.ha="ERROR",t.Gjt="WARNING",t.Vjt="INFO",t.Wjt="DEBUG"}(UZ||(UZ={}));var ZZ=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.Hjt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.Xjt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=on).Wet.apply(e,["DEBUG "+t+" -"].concat(Lt(i)))},n.IM=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=on).Wet.apply(e,["INFO "+t+" -"].concat(Lt(i)))},n.Zjt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=on).vp.apply(e,["WARNING "+t+" -"].concat(Lt(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=on).Het.apply(e,["ERROR "+t+" -"].concat(Lt(i)))},n.qjt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.Hjt(t)&&(e=on).Het.apply(e,["FATAL "+t+" -"].concat(Lt(i)))},t}(),HZ=new ZZ,KZ="HLSPlaylistParser",JZ="Discontinuity",qZ="Buffering",$Z=function(){function t(t,n,i,r){this.Qo=t,this.wU=n,this.tRt=i,this.iRt=r}var n=t.prototype;return n.Eot=function(){var t,n=null==(t=this.Qo.Tr)?void 0:t.Kjt;if(n&&0!==n.length){for(var i,r=null!=(i=ro(n,(function(t){return 0!==t.Jjt.length&&0!==t.$jt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.Jjt;u<s.length;u++){var o=s[u],a=new WA,c=[];a.nS(new VZ(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,d=f.Jjt;v<d.length;v++){var l=d[v];if(OZ(l,o)&&!PZ(c,l)){a.nS(new VZ(f,l)),c.push(l);break}}this.tRt.tt(new YZ(this.Qo,this.wU,this.tRt,a))}for(var g=0,w=r.$jt;g<w.length;g++){var y=w[g],A=new WA,m=[];A.nS(new WZ(r,y)),m.push(y);for(var p=0;p<e.length;p++)for(var _=e[p],k=0,M=_.$jt;k<M.length;k++){var b=M[k];if(OZ(b,y)&&!PZ(m,b)){A.nS(new WZ(_,b)),m.push(b);break}}this.iRt.tt(new GZ(this.Qo,this.wU,this.iRt,A))}}else HZ.Zjt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.eRt=function(){this.sRt(this.tRt),this.sRt(this.iRt)},n.sRt=function(t){for(var n=[],i=0,r=t.Rw;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.qw.Rw;s<o.length;s++){var a=o[s];fo(a.Tjt.nRt,a.Mjt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.qw.rS(h),h.gn()}0===e.qw.U&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.gn()}},n.rRt=function(t,n){var i=this.oRt(t);void 0!==i&&(i.Adt=n)},n.hRt=function(t,n){var i=this.oRt(t);void 0!==i&&(i.qpt=n)},n.oRt=function(t){for(var n=0,i=this.iRt.Rw;n<i.length;n++){var r=i[n],e=ro(r.qw.Rw,(function(n){return n.Mjt===t}));if(void 0!==e)return e}},t}();wt(),C(),mt();var tH=function(){function t(t){var n=t.GP>0?t.GP:mW.Pat,i=t.VP>0?t.VP:hW.Pat;this.Uat=new mW(mW.gDt,mW.wDt,1,n),this.QDt=new hW(hW.gDt,hW.wDt,i)}var n=t.prototype;return n.WP=function(t){if("segment"===t.Av||"preload-hint"===t.Av){var n=[new vW(this.QDt)];return"stream"!==t.qD||!function(t){return"segment"===t.Av&&"initialization-segment"!==t.JD}(t)&&"preload-hint"!==t.Av?n.push(new dW(this.Uat)):n.push(new gW(this.Uat,1e3)),new fW(n)}},n.jDt=function(t){this.Uat=new mW(mW.gDt,mW.wDt,1,t)},At(t,[{key:"GP",get:function(){return this.Uat.j7}},{key:"VP",get:function(){return this.QDt.j7}}]),t}();wt(),C(),Mt();var nH=function(t){function n(n){var i;return(i=t.call(this,IZ.cjt)||this).lt=n,i}return kt(n,t),n}(Jo);wt(),C();var iH=function(){function t(t){this.int=t}return t.prototype.dq=function(t,n){var i={Av:ek.Sj,Iz:[],F1:t.map((function(t){return{Nz:t}})),t2:n};return K.resolve(void 0!==this.int.dq([i]))},t}();wt(),C(),Ot(),mt(),Pt(),wt(),C();var rH=function(t,n,i,r,e){return t.filter((function(t){return!!fo(r,t)||1.1*t.GP<=i.GP}))},eH=function(t,n,i,r,e){return t.filter((function(t){if(fo(r,t))return!0;for(var u=1/0,s=0,o=t.nRt;s<o.length;s++){var a,c,h=o[s];u=g.min(u,null!=(c=null!=(a=h.djt.aRt)?a:h.djt.uRt)?c:1/0)}u===1/0&&(u=1);var f=2*i.VP+t.GP*u/i.GP;return t.GP<=n.GP||e.cRt>f}))},uH=function(t,n,i,r,e){return Zs(t,(function(t,n){return n.GP-t.GP}))},sH=function(t,n,i,r,e){return t.every((function(t){return t.Zpt&&!A(t.Zpt)}))?Zs(t,(function(t,n){return n.Zpt-t.Zpt})):t},oH=function(t,n,i,r,e){return 0===r.length?t:Zs(t,(function(t,n){var i=fo(r,t)?1:0;return(fo(r,n)?1:0)-i}))},aH=function(t,n,i,r,e,u){return t.filter((function(t){return!t.$nt||!n.$nt||!(void 0!==n.$nt.Akt&&void 0!==t.$nt.Akt&&!BC(n.$nt.Akt,t.$nt.Akt)&&!u.lRt({Nz:'video/mp4; codecs="'+t.$nt.Akt+'"'}))&&!(void 0!==n.$nt.mkt&&void 0!==t.$nt.mkt&&!BC(n.$nt.mkt,t.$nt.mkt)&&!u.dRt({Nz:'audio/mp4; codecs="'+t.$nt.mkt+'"'}))}))},cH=function(t,n,i,r,e){if(!1===e.Xct)return t;if(on.Ys.Cet)return t;for(var u,s,o=on.Ys.Oet,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*JP,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*JP,h=0;h<t.length;h++){var f=t[h];if(void 0===f.akt)return t;var v=f.akt.Ti,d=f.akt.ji;if(v<=c&&d<=a)return t.slice(h,t.length)}return[]},hH=function(t,n,i,r,e){return function(t,n){var i=n.Xct;if(void 0===i&&!on.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.akt)return t;var u=e.akt.Ti,s=e.akt.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var fH,vH,dH,lH,gH="AbrEvaluator",wH=function(){function t(t){this.wU=t,this.Jd=[aH,rH,eH,uH,cH,hH,sH,oH]}var n=t.prototype;return n._Rt=function(t){this.Jd=t},n.gRt=function(t,n,i,r,e){var u=this;return xt((function(){return zt(this,(function(s){switch(s.label){case 0:return[4,u.wRt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.wRt=function(t,n,i,r,e){var u=this;return xt((function(){var s,o,a,c,h,f;return zt(this,(function(d){switch(d.label){case 0:if(0===t.length)throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");HZ.Xjt(gH,"Performing optimal variant stream selection."),s=u.fRt,o=t,a=0,c=u.Jd,d.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),Bn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=d.sent(),d.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(HZ.Zjt(gH,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[yo(t,(function(t){return t.GP}))]]):[2,o]}}))}))()},At(t,[{key:"fRt",get:function(){return this.wU.VH}}]),t}();function yH(t,n){return[t,void 0!==n?t+n-1:zi]}function AH(t){return Boolean(t.wM)}function mH(t){return Boolean(t.jnt)}function pH(t){return t?t.Dyt?t.lT+"@"+t.Dyt.Cn+"-"+(null!=(n=t.Dyt.U)?n:""):""+t.lT:"";var n}function _H(t,n){if(n===t)return!0;if(n.lT!==t.lT)return!1;if(!t.Dyt)return!0;if(n.Dyt){var i=yH(t.Dyt.Cn,t.Dyt.U),r=yH(n.Dyt.Cn,n.Dyt.U);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function kH(t,n){return t===n||t.lT===n.lT&&(t.Dyt&&n.Dyt?t.Dyt.Cn===n.Dyt.Cn&&t.Dyt.U===n.Dyt.U:t.Dyt===n.Dyt)}function MH(t){var n=!!t.vRt||void 0;return{o:t.o,mRt:t.mRt,Mz:t.Mz,pRt:t.pRt,ct:t.ct,ARt:t.ARt,vRt:n,yRt:t.MRt,bRt:t.TRt,SRt:t.SRt,NRt:t.NRt}}function bH(t,n){var i,r,e;return{mkt:null!=(i=n.mkt)?i:null==t?void 0:t.mkt,Akt:null!=(r=n.Akt)?r:null==t?void 0:t.Akt,IRt:null!=(e=n.IRt)?e:null==t?void 0:t.IRt}}function TH(t,n,i,r,e){return NH.apply(this,arguments)}function NH(){return NH=xt((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,d,l,g;return zt(this,(function(w){switch(w.label){case 0:return u=n.filter((function(t){return Ss(t,"audio")})),s=n.filter((function(t){return Ss(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return DH.apply(this,arguments)}(t,r,e)})),[4,K.all(a)];case 1:for(c=w.sent().filter(zn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.Qp.gL);return i>=0?i:n.length};return Zs(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)d=f[v],l=iV(null!=t?t:{},d.Qp),g="cbcs",o.push({Qp:d.Qp,KP:d.KP,JP:d.JP,hP:d.hP,Kz:[{initDataTypes:[d.Qp.fL],audioCapabilities:rV(u,g,null==l?void 0:l.audioRobustness),videoCapabilities:rV(s,g,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return[2,o]}}))})),NH.apply(this,arguments)}function DH(){return DH=xt((function(t,n,i){var r,e;return zt(this,(function(u){switch(u.label){case 0:return t.Jpt&&t.DRt?t.ZD!==dH.ERt?[2]:(r=IH(t.DRt))?r.gL!==ys?[3,1]:[2,{Qp:r,KP:[],JP:void 0,hP:t.Jpt}]:[2]:[2];case 1:return r.gL!==gs||t.DRt!==ps?[3,2]:[2,{Qp:r,KP:[],JP:t.Jpt,hP:void 0}];case 2:return HZ.IM("HLSDrmUtils","Fetching key uri "+t.Jpt+"."),[4,n.uD({zu:t.Jpt,tE:i})];case 3:return[4,u.sent().GR()];case 4:return e=u.sent(),[2,{Qp:r,KP:[e],JP:void 0,hP:void 0}];case 5:return[2]}}))})),DH.apply(this,arguments)}function IH(t){return t===vs?ks:t===hs?_s:t===ms?bs:t===ps?Ts:void 0}function EH(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function SH(t){return"#"!==t[0]?t:t.split(":",1)[0]}function LH(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function CH(t){var n=RH(LH(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function jH(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:HZ.Zjt(KZ,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function xH(t,n){var i,r,e=jH(t);try{i=e.URI?on.wp(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return fH.WA;case"VIDEO":return fH.VA;case"SUBTITLES":return fH.HA;case"CLOSED-CAPTIONS":return fH.kRt}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,d=e["INSTREAM-ID"],l=e.CHARACTERISTICS,g=e.CHANNELS;if(u||HZ.Zjt(KZ,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||HZ.Zjt(KZ,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||HZ.Zjt(KZ,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===fH.kRt?(i&&HZ.Zjt(KZ,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||HZ.Zjt(KZ,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):HZ.Zjt(KZ,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&HZ.Zjt(KZ,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&HZ.Zjt(KZ,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==fH.HA&&HZ.Zjt(KZ,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{LRt:o,rkt:g,pjt:l,wjt:u,_jt:h,fjt:c,gjt:f,vjt:d,gs:s,l:a,Av:r,Jpt:i}}function OH(t,n,i){var r,e,u,s=jH(t);try{r=on.wp(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(A(i)||A(r))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Ls(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Ls(s,"avc")||Ls(s,"hvc1")||Ls(s,"hev1")||Ls(s,"dvh")||Ls(s,"vp09")||Ls(s,"av01")?i=s:r=r?r+","+s:s}return{mkt:n,Akt:i,IRt:r}}(s.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=RH(s.BANDWIDTH),a=RH(s["AVERAGE-BANDWIDTH"]),c=RH(s.SCORE),h=RH(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],d=[];if(void 0!==s["ALLOWED-CPC"]){var l,g=s["ALLOWED-CPC"].split(",");(l=d).push.apply(l,Lt(g.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var w=s["VIDEO-RANGE"],y=s.AUDIO,m=s.VIDEO,p=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?HZ.Zjt(KZ,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&HZ.Zjt(KZ,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||HZ.IM(KZ,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.Akt&&void 0===u&&HZ.IM(KZ,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||fo(["TYPE-0","TYPE-1","NONE"],f)||HZ.Zjt(KZ,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===w||fo(["SDR","PQ","HLG"],w)||HZ.Zjt(KZ,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{xRt:d,CRt:y,Xpt:a,GP:o,ORt:_,$nt:e,Adt:h,jRt:f,akt:u,Zpt:c,RRt:p,Jpt:r,PRt:m,zRt:w}}function zH(t,n){var i=jH(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return OH(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function RH(t){var n=Number(t);return A(n)?void 0:n}function BH(t,n){var i,r,e=jH(t);try{i=function(t){switch(t){case"NONE":return dH.yB;case"AES-128":return dH.BRt;case"SAMPLE-AES":return dH.ERt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?WH(e.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,d=e.KEYFORMATVERSIONS;if(i!==dH.yB){if(o=h||ps,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(IH(o)!==ks)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=dH.ERt}else u=i;s=r,a=f?Sc(f):void 0,c=d?d.split("/").map((function(t){return Number(t)})):[1]}else u=dH.yB,(r||h||d||f)&&HZ.Zjt(KZ,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{ZD:u,Jpt:s,URt:a,DRt:o,QRt:c}}function PH(t){var n=LH(t);if(!n)return[void 0,""];var i=Gt(n.split(","),2),r=i[0],e=i[1];return[RH(r),e]}function UH(t,n){var i=t.split("@"),r=RH(i[0]),e=i.length>1?RH(i[1]):n;if(void 0===r||void 0===e)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:e,U:r}}function QH(t){if(void 0!==t)return UH(t,void 0)}function YH(t,n){return UH(LH(t),n)}function GH(t,n){var i=jH(t);try{return{lT:WH(i.URI,n),Dyt:QH(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function FH(t){var n=LH(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Wi(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function VH(t){var n,i,r,e=jH(t),u=e["START-DATE"],s=e["END-DATE"],o=RH(e["PLANNED-DURATION"]),a=RH(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Sc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Sc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Sc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],d=function(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Ls(e,"X-")&&(n[e]=u)}return n}(e),g=e.ID,w=e.CLASS;if(void 0===u)HZ.Zjt(KZ,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,Wi(c)||HZ.Zjt(KZ,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var y=new Date(c.getTime()+1e3*a);h?h.getTime()!==y.getTime()&&(HZ.Zjt(KZ,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=y):h=y}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||HZ.Zjt(KZ,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&HZ.Zjt(KZ,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&HZ.Zjt(KZ,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===g&&HZ.Zjt(KZ,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===g||void 0===c)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:g,mRt:w,Mz:c,pRt:h,ct:a,ARt:o,TRt:n,NRt:i,SRt:r,vRt:f,MRt:d}}function WH(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return on.wp(t,n)}function XH(t,n){var i=jH(t),r=RH(i.DURATION),e=WH(i.URI,n),u=QH(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Jpt:{lT:e,Dyt:u},FRt:s,YRt:o}}function ZH(t){var n=jH(t);return{GRt:"YES"===n["CAN-BLOCK-RELOAD"],VRt:RH(n["CAN-SKIP-UNTIL"]),WRt:"YES"===n["CAN-SKIP-DATERANGES"],HRt:RH(n["HOLD-BACK"]),XRt:RH(n["PART-HOLD-BACK"])}}function HH(t,n){var i=jH(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=WH(i.URI,n),e=RH(i["LAST-MSN"]),u=RH(i["LAST-PART"]);if(void 0===e)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Jpt:r,ZRt:e,qRt:u}}function KH(t,n){var i,r=jH(t),e=RH(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{KRt:e,JRt:u,$Rt:n}}function JH(t){var n=RH(jH(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function qH(t){switch(LH(t)){case"VOD":return lH.tPt;case"EVENT":return lH.iPt;default:return HZ.Zjt(KZ,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),lH.jT}}function $H(t,n){var i,r,e=jH(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return vH.ePt;if("PART"===t)return vH.sPt;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=WH(e.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=RH(e["BYTERANGE-START"]),o=RH(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Cn:s||0,U:o}),{Av:i,Jpt:{lT:r,Dyt:u}}}wt(),C(),mt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ft(),wt(),C(),wt(),C(),function(t){t[t.WA=0]="WA",t[t.VA=1]="VA",t[t.HA=2]="HA",t[t.kRt=3]="kRt"}(fH||(fH={})),function(t){t[t.ePt=0]="ePt",t[t.sPt=1]="sPt"}(vH||(vH={})),function(t){t[t.yB=0]="yB",t[t.BRt=1]="BRt",t[t.ERt=2]="ERt"}(dH||(dH={})),function(t){t[t.jT=0]="jT",t[t.tPt=1]="tPt",t[t.iPt=2]="iPt"}(lH||(lH={})),wt(),C(),Ft(),Ct(),wt(),C(),Ot(),Pt(),wt(),C();var tK=function(){function t(n){this.oPt=0,this.rPt=t.aPt(n)}var n=t.prototype;return n.nPt=function(){var t=this.rPt[this.oPt];return this.oPt+=1,t},n.hPt=function(){return this.rPt[this.oPt]},n.$A=function(){var n=new t("");return n.oPt=0,n.rPt=this.rPt.slice(this.oPt),n},t.aPt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function nK(t,n,i){var r=t.Jpt,e=t.Gy,u=t.uPt,s=t.Cn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=CH(t);return A(n)?(HZ.Zjt(KZ,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=jH(t),i=RH(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{cPt:i,lPt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":HZ.Zjt(KZ,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:HZ.IM(KZ,"Ignoring unrecognized line or comment: "+n+".")}return{Jpt:r,Gy:e,uPt:u,Cn:s}}function iK(t,n){return t.map((function(t){return t.ZD===dH.yB||t.URt?t:Xu({},t,{URt:rK(n)})}))}function rK(t){var n=new DataView(new ArrayBuffer(16)),i=new Ec;return i.KA(8),$a(n,i,xi.fromNumber(t)),new m(n.buffer)}function eK(t,n,i){HZ.IM(KZ,"Parsing M3U8 playlist at "+t+".");var r=new tK(i);if("#EXTM3U"!==r.nPt())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=on.wp(t)}catch(n){throw HZ.Zjt(KZ,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Jpt:i,uPt:void 0,Cn:void 0,Gy:void 0},e=[],u=[],s=[],o=[];;){var a=n.nPt();if(!a)break;try{var c=EH(a);switch(c){case"#EXT-X-MEDIA":var h=xH(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=OH(a,i,n.nPt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var d=zH(a,i);s.push(d);break;case"#EXT-X-SESSION-DATA":HZ.Zjt(KZ,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var l=BH(a,i);o.push(l);break;default:r=nK(r,a,c)}}catch(t){HZ.Zjt(KZ,"Ignoring unparsable line: "+a,t)}}var g,w=r.Gy,y=null!=(g=r.uPt)&&g,A=r.Cn;return void 0===w&&(HZ.Zjt(KZ,"The playlist has no #EXT-X-VERSION, assuming version is 2."),w=2),w>=8&&(u.some((function(t){return void 0!==t.Zpt}))||s.some((function(t){return void 0!==t.Zpt})))&&(u.some((function(t){return void 0===t.Zpt}))||s.some((function(t){return void 0===t.Zpt})))&&HZ.Zjt(KZ,"If one master playlist variant stream has a SCORE, all variants should have it."),{Jpt:i,Gy:w,uPt:y,Cn:A,dPt:s,fPt:o,wM:e,_Pt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,d,l,g,w,y,A,m,p,_,k={Jpt:t,uPt:void 0,Cn:void 0,Gy:void 0},M=[],b=!1,T=!1,N=[],D=Hu(),I=[],E=[],S=!1,L=!1,C=[],j=[],x=0,O=!1,z=lH.jT,R=!1,B=0;try{_=on.wp(t)}catch(n){throw HZ.Zjt(KZ,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var P=i.$A();void 0===A||void 0===m;){var U=P.nPt();if(!U)break;try{switch(SH(U)){case"#EXT-X-MEDIA-SEQUENCE":A=CH(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":m=CH(U)}}catch(t){HZ.Zjt(KZ,"Ignoring unparsable line: "+U,t)}}void 0===A&&(HZ.IM(KZ,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),A=0),void 0===m&&(HZ.IM(KZ,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),m=0);for(var Q=A,Y=m;;){var G=i.nPt();if(!G)break;var F=!1;try{var V=SH(G);switch(V){case"#EXTINF":var W;F=!0,o=(W=Gt(PH(G),2))[0],a=W[1];break;case"#EXT-X-BYTERANGE":F=!0,(c=YH(G,x))&&(x=c.Cn+c.U);break;case"#EXT-X-DISCONTINUITY":F=!0,S=!0,Y++;break;case"#EXT-X-KEY":var X;F=!0;var Z,H=BH(G,_);if(H.ZD===dH.yB){D.clear(),w=void 0;break}var K=null!=(Z=null==(X=H.DRt)?void 0:X.toString())?Z:"identity";D.set(K,H),H.ZD===dH.BRt&&(w=H);break;case"#EXT-X-MAP":F=!0,f=GH(G,_),d=w;break;case"#EXT-X-PROGRAM-DATE-TIME":F=!0,l=FH(G);break;case"#EXT-X-GAP":F=!0,L=!0;break;case"#EXT-X-BITRATE":F=!0,g=CH(G);break;case"#EXT-X-TARGETDURATION":r=CH(G);break;case"#EXT-X-DATERANGE":var J=VH(G);M.push(J);break;case"#EXT-X-PART":F=!0;var q=XH(G,_);E.push(q);break;case"#EXT-X-PRELOAD-HINT":var $=$H(G,_);C.push($);break;case"#EXT-X-SKIP":N.length>0&&HZ.Zjt(KZ,"#EXT-X-SKIP must appear before any #EXTINF tags."),F=!0;var tt=KH(G,Q);B=tt.KRt,p=tt.JRt,Q+=tt.KRt;break;case"#EXT-X-SERVER-CONTROL":var nt=ZH(G);b=nt.GRt,e=nt.VRt,T=nt.WRt,u=nt.HRt,s=nt.XRt;break;case"#EXT-X-RENDITION-REPORT":var it=HH(G,_);j.push(it);break;case"#EXT-X-PART-INF":y=JH(G);break;case"#EXT-X-MEDIA-SEQUENCE":F&&HZ.Zjt(KZ,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":F&&HZ.Zjt(KZ,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":O=!0;break;case"#EXT-X-PLAYLIST-TYPE":z=qH(G);break;case"#EXT-X-I-FRAMES-ONLY":R=!0;break;default:if(Ls(V,"#"))k=nK(k,G,V);else{h=on.wp(G,_);var rt=f?{Jpt:f,gPt:d}:void 0,et={fPt:iK(qu(D),Q),kI:I,wPt:E,ct:o,kz:a,vPt:S,Jpt:{Dyt:c,lT:h},mPt:rt,pPt:l,YRt:L,APt:g,$Rt:Q,yPt:Y};N.push(et),Q++,I=[],E=[],o=void 0,a=void 0,S=!1,c=void 0,h=void 0,l=void 0,L=!1,g=void 0}}}catch(t){HZ.Zjt(KZ,"Ignoring unparsable line: "+G,t)}}if(E.length){var ut=f?{Jpt:f,gPt:w}:void 0,st={fPt:iK(qu(D),Q),kI:I,wPt:E,ct:o,kz:a,vPt:S,Jpt:void 0,mPt:ut,pPt:l,YRt:L,APt:g,$Rt:Q,yPt:Y};N.push(st)}var ot,at=k.Gy,ct=null!=(ot=k.uPt)&&ot,ht=k.Cn;void 0===at&&(HZ.Zjt(KZ,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&HZ.Zjt(KZ,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=N.length,vt=ft>0;vt||HZ.Zjt(KZ,"The HLS media playlist contains no segments.");var dt=vt&&N[ft-1].wPt.length>0;return dt&&void 0===y&&HZ.Zjt(KZ,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&HZ.Zjt(KZ,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{GRt:b,VRt:e,WRt:T,MPt:M,yPt:m,bPt:O,uPt:ct,HRt:u,TPt:R,$Rt:A,KRt:B,XRt:s,aRt:y,SPt:z,NPt:C,JRt:p,IPt:j,DPt:r,jnt:N,Cn:ht,Jpt:_,EPt:n,Gy:at}}(t,n,r)}wt(),C(),mt(),Ct(),wt(),C(),mt();var uK=function(){function t(t,n,i){var r,e,u,s;this.o=sK++,this.Zpt=void 0,this.akt=void 0,this.Xpt=void 0,this.kPt=!1,this.CPt=[],this.djt=n,this.GP=t.GP,this.Xpt=t.Xpt,this.Zpt=t.Zpt,this.LPt=t.$nt?oK(t.$nt):void 0,this.KEt=this.LPt,this.akt=t.akt,this.Adt=t.Adt,this.CRt=null!=(r=t.CRt)?r:"BPt"+this.o,this.PRt=null!=(e=t.PRt)?e:"UPt"+this.o,this.RRt=null!=(u=t.RRt)?u:"QPt"+this.o,this.ORt=null!=(s=t.ORt)?s:"FPt"+this.o,this.CPt=i}var n=t.prototype;return n.RPt=function(t){for(var n=0,i=this.CPt;n<i.length;n++){var r=i[n].djt.RPt(t);if(void 0!==r)return r}},n.PPt=function(t){for(var n=0,i=this.CPt;n<i.length;n++){var r=i[n].djt.PPt(t);if(void 0!==r)return r}},n.zPt=function(t){ao(this.CPt,t)},At(t,[{key:"Jpt",get:function(){return this.djt.Jpt}},{key:"$nt",get:function(){return this.KEt},set:function(t){this.KEt=t?oK(t):void 0,this.kPt=function(t,n){return!(void 0!==(null==t?void 0:t.mkt)&&void 0===(null==n?void 0:n.mkt)||void 0!==(null==t?void 0:t.Akt)&&void 0===(null==n?void 0:n.Akt))}(this.LPt,this.KEt)}},{key:"xPt",get:function(){return this.kPt}},{key:"nRt",get:function(){return this.CPt}},{key:"Jjt",get:function(){return this.CPt.filter((function(t){return t.Av===fH.WA}))}},{key:"$jt",get:function(){return this.CPt.filter((function(t){return t.Av===fH.VA}))}},{key:"OPt",get:function(){return this.CPt.filter((function(t){return t.Av===fH.HA}))}},{key:"jPt",get:function(){return this.CPt.filter((function(t){return t.Av===fH.kRt}))}}]),t}(),sK=0;function oK(t){return Xu({},t,{Akt:t.Akt?Nv(t.Akt):void 0})}wt(),C(),mt(),Ft(),wt(),C(),mt(),wt(),C(),mt();var aK,cK=function(){function t(t,n,i,r,e){this.F7=void 0,this.WPt=t,this.XPt=n,this.xS=i,this.VPt=r,this.ct=e.ct,this.Jpt=e.Jpt,this.FRt=e.FRt,this.YRt=e.YRt}return t.prototype.HPt=function(t,n){this.xS=t,this.VPt=n},At(t,[{key:"MS",get:function(){var t;return this.xS+(null!=(t=this.YPt)?t:0)}},{key:"GPt",get:function(){return this.VPt}},{key:"fPt",get:function(){return this.WPt.fPt}}]),t}(),hK=function(){function t(t,n,i,r,e){this.F7=void 0,this.Kf=[],this.izt=0,this.xS=t,this.mPt=e.mPt,this.$Pt=i,this.VPt=r,this.jx=e.ct,this.pPt=e.pPt,this.KPt=e.Jpt,this.YRt=e.YRt,this.$Rt=e.$Rt,this.vPt=e.vPt,this.yPt=n,this.fPt=e.fPt,this.ozt(e.wPt)}var n=t.prototype;return n.ezt=function(t){return this.Kf[t]},n.szt=function(t){for(var n=0;n<this.Kf.length;n++){var i=this.Kf[n],r=i.MS,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.Kf.length?this.Kf[n+1]:i}},n.nzt=function(t){for(var n=this.Kf.length-1;n>=0;n--){var i=this.Kf[n];if(i.MS<=t)return i}},n.rzt=function(t){for(var n=this.nzt(t);n&&!n.FRt&&n.XPt>0;)n=this.ezt(n.XPt-1);return n},n.HPt=function(t,n,i){var r=t.wPt.length!==this.Kf.length||i!==this.VPt;this.$Pt=n,this.VPt=i,this.jx=t.ct,null!=this.pPt||(this.pPt=t.pPt),void 0===this.KPt&&(this.KPt=t.Jpt),r&&this.ozt(t.wPt)},n.ozt=function(t){this.Kf.length>t.length&&(this.Kf.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.VPt&&i===t.length-1,u=this.xS+n;if(i<this.Kf.length)this.Kf[i].HPt(u,e);else{var s=new cK(this,i,u,e,r);s.YPt=this.ZPt,this.Kf.push(s)}n+=r.ct}this.izt=n},n.hzt=function(){lo(this.Kf),this.izt=0},At(t,[{key:"MS",get:function(){var t;return this.xS+(null!=(t=this.ZPt)?t:0)}},{key:"qPt",get:function(){return this.xS}},{key:"ct",get:function(){return this.jx}},{key:"Jpt",get:function(){return this.KPt}},{key:"JPt",get:function(){return this.$Pt}},{key:"GPt",get:function(){return this.VPt}},{key:"wPt",get:function(){return this.Kf}},{key:"tzt",get:function(){return this.izt}},{key:"bS",get:function(){var t;return this.MS+(null!=(t=this.jx)?t:this.izt)}},{key:"YPt",get:function(){return this.ZPt},set:function(t){this.ZPt=t;for(var n=0,i=this.Kf;n<i.length;n++){i[n].YPt=t}}}]),t}();wt(),C(),function(t){t.azt="YES",t.uzt="v2"}(aK||(aK={})),wt(),C(),Mt();var fK=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n}(Io);wt(),C(),Mt(),wt(),C(),mt(),Mt(),wt(),C();var vK=function(t){function n(n,i){var r,e=dK(i,n.ct,n.Mz,n.pRt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).czt=n.mRt,r.lzt=n.Mz,r.dzt=n.pRt,r.jx=n.ct,r.fzt=n.ARt,r._zt=Boolean(n.vRt),r.mzt=n.yRt||{},r.gzt=n.bRt,r.wzt=n.SRt,r.vzt=n.NRt,r.pzt(),r.Azt(),r}kt(n,t);var i=n.prototype;return i.Yn=function(t){var n,i=!1;(void 0===this.czt&&void 0!==t.mRt&&(i=!0,this.czt=t.mRt),void 0===this.dzt&&void 0!==t.pRt&&(i=!0,this.dzt=t.pRt),void 0===this.jx&&void 0!==t.ct&&(i=!0,this.jx=t.ct),void 0===this.fzt&&void 0!==t.ARt&&(i=!0,this.fzt=t.ARt),!this._zt&&t.vRt&&(i=!0,this._zt=t.vRt),i=this.updateCustomAttributes(t,i),void 0===this.gzt&&void 0!==t.bRt&&(i=!0,this.gzt=t.bRt),void 0===this.wzt&&void 0!==t.SRt&&(i=!0,this.wzt=t.SRt),void 0===this.vzt&&void 0!==t.NRt&&(i=!0,this.vzt=t.NRt),this.pzt(),this.Azt(),this.yzt(),i)&&(this.Co(new Mm(this)),null==(n=this.CS)||n.Co(new Tm(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.yRt)for(var r=0,e=l.keys(t.yRt);r<e.length;r++){var u=e[r];void 0===this.mzt[u]&&(i=!0,this.mzt[u]=t.yRt[u])}return i},i.pzt=function(){this.jx&&!this.dzt&&(this.dzt=new Date(this.lzt.getTime()+Hi(this.jx)))},i.Azt=function(){this.dzt&&!this.jx&&(this.jx=Zi(this.dzt.getTime()-this.lzt.getTime()))},i.yzt=function(){this.RS===1/0&&(this.dzt||this.jx)&&(this.RS=dK(this.xS,this.jx,this.lzt,this.dzt))},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return gA(pm(t),{get content(){return t.O},get class(){return t.mRt},get startDate(){return t.Mz},get endDate(){return t.pRt},get duration(){return t.ct},get plannedDuration(){return t.ARt},get endOnNext(){return t.vRt},get scte35Cmd(){return t.bRt},get scte35Out(){return t.SRt},get scte35In(){return t.NRt},get customAttributes(){return t.yRt}})}(this)),this.Xa}},{key:"mRt",get:function(){return this.czt}},{key:"Mz",get:function(){return this.lzt}},{key:"pRt",get:function(){return this.dzt}},{key:"ct",get:function(){return this.jx}},{key:"ARt",get:function(){return this.fzt}},{key:"vRt",get:function(){return this._zt}},{key:"bRt",get:function(){return this.gzt}},{key:"SRt",get:function(){return this.wzt}},{key:"NRt",get:function(){return this.vzt}},{key:"yRt",get:function(){return this.mzt}}]),n}(Em);function dK(t,n,i,r){return zn(n)?t+n:r?t+(Zi(r.getTime())-Zi(i.getTime())):1/0}var lK=function(t){function n(){return t.call(this,void 0,void 0,cm.DATE_RANGE)}kt(n,t);var i=n.prototype;return i.Yn=function(t,n){gK(this,wK(t),n)},i.lE=function(n){yK(this.L.Rw,n),t.prototype.lE.call(this,n)},n}(xx);function gK(t,n,i){for(var r=function(i){var r=e[i],u=ro(n,(function(t){return t.o===r.o}));u?r.Yn(u):t.gD(r)},e=t.L.Rw,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.Mz;if(void 0!==a&&!t.D2(o.o)){var c=i(a),h=new vK(o,c);yK(t.L.Rw,h),t.lE(h)}}}function wK(t){for(var n=Hu(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=Xu({},u,mA(e),{yRt:Xu({},u.yRt,e.yRt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function yK(t,n){var i=uo(t,(function(t){return t.mRt===n.mRt}));i&&i.vRt&&i.Yn({o:i.o,pRt:n.Mz})}var AK=String.fromCharCode(95),mK=AK+"HLS_msn",pK=AK+"HLS_part",_K=AK+"HLS_skip",kK="HLSMediaPlaylist",MK=function(){function t(t,n,i){this.Rzt=void 0,this.zzt=void 0,this.Xzt=void 0,this.Zzt=void 0,this.Tzt=void 0,this.Szt=void 0,this.Nzt=void 0,this.Izt=void 0,this.ryt=[],this.Bzt=[],this.Dzt=!1,this.Ezt=void 0,this.kzt=!1,this.Lzt=lH.jT,this.U1=BD.oU(),this.bzt=BD.oU(),this.jx=void 0,this.Qzt=-1/0,this.Yzt=void 0,this.Jpt=t,this.FI=n,this.eBt=i}var n=t.prototype;return n.Qjt=function(t){if(!t)return this.Jpt;var n=on.Dh(this.Jpt);return void 0!==t.$Rt&&n.searchParams.append(mK,String(t.$Rt)),void 0!==t.Gzt&&n.searchParams.append(pK,String(t.Gzt)),void 0!==t.Ny&&n.searchParams.append(_K,t.Ny),n.href},n.Aat=function(t){var n=this.ryt;if(0!==n.length){var i=t-n[0].$Rt;if(!(i<0||i>=n.length))return n[i]}},n.Vzt=function(t){if(0!==this.ryt.length){var n=fG(bK.lL,this.ryt,t);if(!(n<0)){var i=this.ryt[n];return t===i.bS&&n+1<this.ryt.length?this.ryt[n+1]:i}var r=this.ryt[this.ryt.length-1];return t===r.bS?r:void 0}},n.Wzt=function(t){if(0!==this.ryt.length){var n=this.ryt[0];if(t<n.bS)return n;var i=this.ryt[this.ryt.length-1];return t>=i.MS?i:this.Vzt(t)}},n.RPt=function(t){var n=this.Wzt(t);if(void 0!==n)for(var i=n.$Rt-this.ryt[0].$Rt;i>=0;i--){var r=this.ryt[i];if(void 0!==r.pPt)return new Date(r.pPt.getTime()+1e3*(t-r.MS))}},n.PPt=function(t){for(var n,i=0,r=this.ryt;i<r.length;i++){var e=r[i];if(TK(e))if(void 0===n)n=e;else{if(!(e.pPt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.MS+(t.getTime()-n.pPt.getTime())/1e3},n.Hzt=function(t){switch(t){case vH.ePt:return this.Xzt;case vH.sPt:return this.Zzt;default:return}},n.HPt=function(t){var n;void 0===this.Tzt&&(this.Tzt=null!=(n=t.DPt)?n:this.qzt(t));void 0===this.Nzt&&void 0!==t.HRt&&(this.Nzt=t.HRt),void 0===this.Szt&&void 0!==t.aRt&&(this.Szt=t.aRt),void 0===this.Izt&&void 0!==t.XRt&&(this.Izt=t.XRt),this.Dzt=t.GRt,this.Ezt=t.VRt,this.kzt=t.WRt,this.Lzt=t.SPt,this.uyt(t),this.Kzt(t);var i=ro(t.NPt,(function(t){return t.Av===vH.ePt})),r=ro(t.NPt,(function(t){return t.Av===vH.sPt}));this.Xzt=i?{Jpt:i.Jpt,Av:i.Av,yPt:t.yPt}:void 0,this.Zzt=r?{Jpt:r.Jpt,Av:r.Av,yPt:t.yPt}:void 0,this.Rzt=on.m_()/1e3;var e=this.U1.jn(this.U1.U-1);this.Jzt();var u=this.U1.jn(this.U1.U-1);(!this.zzt||u-e>0)&&(this.zzt=this.Rzt),null!=this.FI||(this.FI=t.Cn)},n.Jzt=function(){this.bzt=this.$zt(),this.U1=this.tBt(this.bzt),this.jx=this.iBt()},n.$zt=function(){var t=this.jnt;if(0===t.length)return BD.oU();var n=t[0].MS,i=t[t.length-1].bS;return new BD([n,i])},n.tBt=function(t){if(0===t.U||this.bPt)return t;var n=t.Cn(0),i=t.jn(0)-this.nbt;return i<n?BD.nU(n):new BD([n,i])},n.iBt=function(){return 0===this.ryt.length?0:this.bPt?Vi(this.ryt,(function(t){var n;return null!=(n=t.ct)?n:t.tzt})):1/0},n.qzt=function(t){for(var n,i=0,r=t.jnt;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=g.max(1,g.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.uyt=function(t){if(0===t.jnt.length)return lo(this.ryt),void this.sBt();var n=this.nBt(t);if(n){var i,r,e;n.rBt>0&&this.ryt.splice(0,n.rBt);var u=t.KRt;if(u>0){if(u>this.ryt.length)throw new fK("New playlist skips over missing segments.");var s=this.ryt[u-1];if(void 0===s.ct)throw new fK("New playlist skips over an incomplete segment.");i=s.qPt+s.ct,e=s.yPt-t.yPt,r=u;for(var o=0;o<u;o++)this.ryt[o].hzt()}else i=n.oBt,e=0,r=0;for(var a=0;a<t.jnt.length;a++,r++){var c=t.jnt[a],h=0===a,f=t.bPt&&a===t.jnt.length-1,v=c.ct,d=c.yPt+e;if(r<this.ryt.length){var l=this.ryt[r];0,l.HPt(c,h,f)}else{var g=c;if(this.ryt.length>0&&void 0===g.mPt)g=Xu({},g,{mPt:this.ryt[this.ryt.length-1].mPt});var w=new hK(i,d,h,f,g);w.YPt=this.ZPt,this.ryt.push(w)}void 0!==v&&(i+=v)}}},n.nBt=function(t){if(0===this.ryt.length)return{rBt:0,oBt:0};var n=this.ryt[0].$Rt,i=this.ryt[this.ryt.length-1].$Rt,r=t.jnt[0].$Rt-t.KRt,e=t.jnt[t.jnt.length-1].$Rt,u=0,s=0;if(r<n){var o=this.jnt[0].pPt,a=t.jnt[0].pPt;if(!(o&&a&&o<a))return void HZ.Zjt(kK,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.ryt.length,this.sBt()}else{if(e<i)return void HZ.Zjt(kK,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=uo(t,(function(t){return void 0!==t.pPt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.vPt)return;if(e.pPt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.jnt);if(void 0===r)return;var e=Gt(r,2),u=e[0],s=e[1];if(i.yPt!==u.yPt)return;var o=(u.pPt.getTime()-i.pPt.getTime())/1e3;return i.qPt+o-s}(this.ryt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:g.max(i,e.tzt),s=i*(n-e.$Rt-1);return e.qPt+u+s}(this.ryt,r,this.Tzt),HZ.Xjt(kK,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.ryt.length,this.sBt()}else{0;var h=so(this.ryt,(function(t){return t.$Rt===r}));0,s=this.ryt[h].qPt,h>0&&(u=h)}}return{rBt:u,oBt:s}},n.Kzt=function(t){var n=t.MPt.map(MH);if(t.WRt&&t.EPt.Ny===aK.uzt&&(n=this.Bzt.concat(n)),this.Bzt=wK(n),t.JRt)for(var i,r=function(t,n){var r=n[t],e=so(i.Bzt,(function(t){return t.o===r}));e>=0&&co(i.Bzt,e)},e=0,u=t.JRt;e<u.length;e++)i=this,r(e,u)},n.hBt=function(t,n){if(this.ZPt!==t){this.ZPt=t;for(var i=0,r=this.ryt;i<r.length;i++){r[i].YPt=this.ZPt}this.Jzt()}this.Yzt=n},n.sBt=function(){this.ZPt=void 0,this.Yzt=void 0},At(t,[{key:"bPt",get:function(){return 0!==this.ryt.length&&this.ryt[this.ryt.length-1].GPt}},{key:"ct",get:function(){return this.jx}},{key:"Ig",get:function(){return this.U1}},{key:"Mzt",get:function(){return this.bzt}},{key:"uRt",get:function(){return this.Tzt}},{key:"aRt",get:function(){return this.Szt}},{key:"HRt",get:function(){return this.bPt?0:this.Nzt?this.Nzt:this.Tzt?3*this.Tzt:void 0}},{key:"XRt",get:function(){var t;return null!=(t=this.Izt)?t:this.Szt?3*this.Szt:void 0}},{key:"GRt",get:function(){return this.Dzt}},{key:"VRt",get:function(){return this.Ezt}},{key:"WRt",get:function(){return this.kzt}},{key:"SPt",get:function(){return this.Lzt}},{key:"xzt",get:function(){return void 0!==this.aRt}},{key:"Czt",get:function(){if(this.bPt)return!0;var t=on.m_()/1e3,n=this.Ozt,i=this.jzt;return void 0!==n&&t-n<i}},{key:"Ozt",get:function(){return this.Rzt}},{key:"Pzt",get:function(){if(this.zzt)return on.m_()/1e3-this.zzt}},{key:"YPt",get:function(){return this.ZPt}},{key:"jzt",get:function(){var t;return null!=(t=this.Tzt)?t:void 0===this.Rzt?5:1}},{key:"jnt",get:function(){return this.ryt}},{key:"MPt",get:function(){return this.Bzt}},{key:"Uzt",get:function(){return this.Qzt},set:function(t){this.Qzt=t}},{key:"Cn",get:function(){return this.FI}},{key:"Fzt",get:function(){return this.Yzt}},{key:"nbt",get:function(){return this.bPt?0:null!=(i=null!=(n=null!=(t=this.eBt)?t:this.XRt)?n:this.HRt)?i:0;var t,n,i}}]),t}(),bK=function(){function t(){}var n=t.prototype;return n.iyt=function(t){return t.MS},n.eyt=function(t){return t.bS},n.syt=function(t,n){return $s(t,n)},n.nyt=function(t,n,i){return(t-n)/(i-n)},At(t,null,[{key:"lL",get:function(){return null!=this.Jnt||(this.Jnt=new t),this.Jnt}}]),t}();function TK(t){return void 0!==t.pPt}function NK(t){return void 0!==t.wPt}function DK(t){return NK(t)?t.JPt:0===t.XPt&&t.WPt.JPt}function IK(t,n){return NK(t)?NK(n)?t.$Rt+1===n.$Rt:0===n.XPt&&IK(t,n.WPt):t.XPt===t.WPt.wPt.length-1?IK(t.WPt,n):!NK(n)&&t.WPt===n.WPt&&t.XPt+1===n.XPt}wt(),C(),wt(),C(),wt(),C(),mt(),Mt();var EK=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")}return kt(n,t),At(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(Io);var SK=function(){function t(){this.DBt=[],this.uBt=Ku(),this.dBt=[],this.yBt=-1}var n=t.prototype;return n.aBt=function(t){var n=this.uBt.get(t);return void 0!==n&&LK(n)},n.cBt=function(t){if(this.lBt()>t)return K.reject(new EK);for(var n=[],i=0,r=this.dBt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.uBt.get(u))||e.fBt.xL(new EK),this.uBt.delete(u);else n.push(u)}return this.dBt=n,-1===this.dBt.indexOf(t)&&this.dBt.push(t),this._Bt(t).fBt.OL},n.gBt=function(t){var n=this.uBt.get(t);if(!n||!LK(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.wBt=function(t){return this.gBt(t).pI},n.vBt=function(t,n){var i=NK(n)?n:n.WPt,r=this.gBt(i.yPt),e=t.nS(r.pI);if(r.mBt){var u=Km.$N(n.MS).uN(e);if(u.oN().$S(ip())){var s=g.round(u.JS()/np().JS());e=e.nS(np().zN(s))}}return e},n.pBt=function(t,n){return this.vBt(t,n).uN(t)},n.ABt=function(t,n,i,r,e,u){this.yBt<t&&(this.yBt=t);var s=this._Bt(t);void 0===s.pI&&(s.MBt.some((function(t){return t.Zht===n}))||(s.MBt.push({Zht:n,bBt:i,TBt:r.ZN(i.cM),SBt:e,mBt:u}),this.NBt(s,t)))},n.NBt=function(t,n){if(!t.pI&&this.IBt(t)){var i=function(t){return po(t,CK)}(t.MBt);t.pI=i.TBt.uN(i.bBt),t.mBt=t.MBt.some((function(t){return t.mBt})),t.fBt.LL(),lo(t.MBt),ao(this.dBt,n)}},n.IBt=function(t){return this.DBt.length>0&&this.DBt.every((function(n){return t.MBt.some((function(t){return t.Zht===n}))}))},n._Bt=function(t){if(this.uBt.has(t))return this.uBt.get(t);var n={pI:void 0,mBt:!1,fBt:new Cc,MBt:[]};return this.uBt.set(t,n),n},n.EBt=function(t){var n=this;this.DBt=t,this.uBt.forEach((function(t,i){return n.NBt(t,i)}))},n.kBt=function(){this.yBt=-1},n.lBt=function(){return this.yBt},n.h_=function(){this.uBt.forEach((function(t){return t.fBt.g_()})),this.uBt.clear()},t}();function LK(t){return void 0!==t.pI}function CK(t,n){return-function(t,n){if(t.mBt||n.mBt)return function(t,n){var i=t.uN(n);return t.lN()||n.lN()||(i.iN(ip())?i=i.uN(np()):i.rN(ip().aN())&&(i=i.nS(np()))),i}(t.bBt,n.bBt).tN(Km.wN);return t.bBt.tN(n.bBt)}(t,n)||function(t,n){return t.SBt===n.SBt?Ws.Zr:t.SBt?Ws.Jf:Ws.$f}(t,n)||function(t,n){return t.TBt.tN(n.TBt)}(t,n)}var jK=function(){function t(t,n){this.CBt=[],this.xBt=[],this.QBt=Hu(),this.OBt=new SK,this.VBt=t,this.eBt=n}var n=t.prototype;return n.HPt=function(t,n){if(mH(t))if(0===this.CBt.length)this.jBt(t);else{if(!n)return void HZ.Zjt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.djt.HPt(t)}else{if(0!==this.CBt.length)return void HZ.Zjt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.RBt(t)}},n.jBt=function(t){var n=this.PBt(t.Jpt);n.HPt(t);var i=this.zBt(fH.WA,n),r=this.zBt(fH.VA,n),e=new uK({Jpt:n.Jpt,GP:0,Xpt:0,Zpt:NaN,$nt:void 0,akt:void 0,Adt:0,xRt:[],jRt:void 0,zRt:void 0,CRt:void 0,PRt:void 0,RRt:void 0,ORt:void 0},n,[i,r]);this.CBt.push(e)},n.RBt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return xK(t.Av,t.wjt,n)&&(!t.mjt||t.djt.Jpt===n.Jpt)}(t,u)}));n.UBt(u,s);var o=new uK(u,n.PBt(u.Jpt,t.Cn),s);n.CBt.push(o)};(i=this.xBt).push.apply(i,Lt(t.fPt));for(var e=this.BBt(t),u=0,s=t._Pt;u<s.length;u++)n=this,r(u,s)},n.PBt=function(t,n){var i=this.QBt.get(t);return void 0===i&&(i=new MK(t,n,this.eBt),this.QBt.set(t,i)),i},n.BBt=function(t){for(var n=[],i=0,r=t.wM;i<r.length;i++){var e=r[i];if(void 0===e.Jpt)for(var u=0,s=t._Pt;u<s.length;u++){var o=s[u];if(xK(e.Av,e.wjt,o)){var a=new xZ(e,this.PBt(o.Jpt));n.push(a)}}else{var c=new xZ(e,this.PBt(e.Jpt));n.push(c)}}return n},n.zBt=function(t,n){return new xZ({Av:t,Jpt:void 0,wjt:"",gs:void 0,LRt:void 0,l:"",fjt:!0,_jt:!1,gjt:!1,pjt:void 0,vjt:void 0,rkt:void 0},n)},n.UBt=function(t,n){var i=n.filter((function(t){return t.Av===fH.WA})),r=n.filter((function(t){return t.Av===fH.VA})),e=t.$nt&&(t.$nt.Akt||t.$nt.mkt);if((!e||t.$nt.Akt)&&0===r.length){var u=this.zBt(fH.VA,this.PBt(t.Jpt));n.push(u)}if((!e||t.$nt.mkt)&&0===i.length){var s=this.zBt(fH.WA,this.PBt(t.Jpt));n.push(s)}t.$nt&&t.$nt.IRt},n.FBt=function(t){for(var n=0,i=this.CBt;n<i.length;n++)for(var r=0,e=i[n].nRt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.YBt=function(t){for(var n=0,i=this.CBt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.GBt=function(t){for(var n=0,i=this.CBt;n<i.length;n++){var r=i[n];if(fo(r.nRt,t))return r}},n.h_=function(){lo(this.CBt),lo(this.xBt),this.QBt.clear(),this.OBt.h_()},At(t,[{key:"LBt",get:function(){return this.xBt}},{key:"Kjt",get:function(){return this.CBt}},{key:"kT",get:function(){return this.OBt}}]),t}();function xK(t,n,i){switch(t){case fH.WA:return i.CRt===n;case fH.VA:return i.PRt===n;case fH.HA:return i.RRt===n;case fH.kRt:return i.ORt===n}return!1}wt(),C(),Mt();var OK=function(t){function n(n){var i;return(i=t.call(this,zK.WBt)||this).Mjt=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var zK,RK=function(t){function n(n){var i;return(i=t.call(this,zK.HBt)||this).Mjt=n,i}return kt(n,t),n}(Jo),BK="HlsModelUpdater";!function(t){t.WBt="XBt",t.HBt="ZBt"}(zK||(zK={}));var PK=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).aE=n,s.rut=i,s.xbt=r,s.KBt=!1,s.$Bt=!1,s.fUt=void 0,s.iUt=void 0,s.dUt=Ku(),s.sAt=new jK(e,u),s}kt(n,t);var i=n.prototype;return i.eUt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:if(!(i=n.sAt.VBt))throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.Co(new EL),[4,n.sUt(i,{},2,!0,t)];case 1:if(r=u.sent(),!AH(e=r.djt)&&!mH(e))throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return AH(e)||HZ.IM(BK,"Detected media playlist only HLS stream."),n.nUt(e),r.rUt?(n.$Bt=!0,[4,n.oUt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.KBt=!0,[2]}}))}))()},i.hUt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:if(!(u=e.sAt.FBt(t)))throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={$Rt:n,Gzt:i,Ny:GK(u)},o=Hi(g.max(1,3*t.djt.jzt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.aUt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw xo(a=c.sent()),e.uUt(u),a;case 4:return[2]}}))}))()},i.cUt=function(t,n){var i=this.sAt.FBt(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={$Rt:void 0,Gzt:void 0,Ny:GK(i)},e=Hi(g.max(1,3*t.djt.jzt));return this.aUt(i,r,n,e)},i.lUt=function(t,n){return this.dUt.has(t.Xw)||this.dUt.set(t.Xw,new Cc),zo(this.dUt.get(t.Xw).OL,n)},i.uUt=function(t){this.Co(new RK(t))},i.aUt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:u=t.djt.Qjt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.sUt(u,n,0,e.$Bt,i,r)];case 2:return o=h.sent(),s=o.djt,[3,4];case 3:throw xo(a=h.sent()),t.djt.Uzt=on.m_(),a;case 4:if(!mH(s))throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.fUt||t===e.fUt||e.fUt.djt.Czt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.cUt(e.fUt,i)];case 6:return h.sent(),[3,8];case 7:return xo(h.sent()),e.fUt=t,e._Ut(),[3,8];case 8:try{e.nUt(s,t)}catch(u){if(u instanceof fK&&void 0!==n.Ny)return c=Xu({},n,{Ny:void 0}),[2,e.aUt(t,c,i,r)];throw u}return e.gUt(t),e.fUt=t,[2]}}))}))()},i.sUt=function(t,n,i,r,e,u){var s=this;return xt((function(){var o;return zt(this,(function(a){switch(a.label){case 0:return HZ.IM(BK,"Loading HLS playlist at "+t+"."),r?[4,s.wUt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{djt:o,rUt:!0}];a.label=2;case 2:return[4,s.vUt(t,n,i,e,u)];case 3:return[2,{djt:a.sent(),rUt:!1}]}}))}))()},i.wUt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.rut.fnt([t])];case 1:return r=e.sent(),jo(n),void 0!==r?[2,eK(r.responseURL,{},r.data)]:[3,3];case 2:return xo(e.sent()),[3,3];case 3:return[2]}}))}))()},i.vUt=function(t,n,i,r,e){var u=this;return xt((function(){var s,o;return zt(this,(function(a){switch(a.label){case 0:return s={zu:t,qD:ld.Ru,tE:u.xbt,ZD:Ww.GET,Av:Xw.xD,f_:r,_D:e},[4,dD((function(){return u.mUt(s)}),r,i)];case 1:return[2,eK((o=a.sent()).cE,n,o.ly)]}}))}))()},i.mUt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.aE.uD(t)];case 1:return[4,(i=r.sent()).uE()];case 2:return[2,{ly:r.sent(),cE:i.cE}]}}))}))()},i.oUt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:for(jo(t),i=[],r=0,e=n.sAt.Kjt;r<e.length;r++)for(u=e[r],s=0,o=u.nRt;s<o.length;s++)a=o[s],i.push(n.pUt(a,t));return[4,K.all(i)];case 1:return c.sent(),[2]}}))}))()},i.pUt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.rut.fnt([t.djt.Jpt])];case 1:return r=e.sent(),jo(n),void 0===r||t.djt.Czt?[3,3]:[4,i.cUt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return xo(e.sent()),[3,5];case 5:return[2]}}))}))()},i._Ut=function(){for(var t=0,n=this.sAt.Kjt;t<n.length;t++)for(var i=0,r=n[t].nRt;i<r.length;i++){var e=r[i];e!==this.fUt&&(void 0!==e.djt.YPt&&(e.djt.Czt?this.gUt(e):e.djt.sBt()))}},i.gUt=function(t){if(0!==t.djt.jnt.length){if(!this.fUt)return this.fUt=t,void this.fUt.djt.hBt(0,void 0);if(this.AUt(this.fUt),!this.AUt(t)&&void 0===t.djt.YPt){var n=this.yUt(t,this.fUt);HZ.Xjt(BK,"Assuming global timeline offset of "+n+"s for rendition "+t.djt.Jpt+"."),t.djt.hBt(n,void 0)}}},i.yUt=function(t,n){if(UK(t)){var i=t.djt.jnt[0],r=n.djt.jnt[0];return HZ.Xjt(BK,"Synchronizing by start of VOD: "+r.MS+" vs "+i.MS),r.MS-i.qPt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.yPt>u.yPt)i--;else if(e.yPt<u.yPt)r--;else if(e.vPt){if(u.vPt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.djt.jnt,n.djt.jnt);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return HZ.Xjt(BK,"Synchronizing by start of discontinuity #"+s.yPt+": "+s.MS+" vs "+u.MS),s.MS-u.qPt}var o=YK(t.djt.jnt);if(void 0!==o){var a=YK(n.djt.jnt);if(void 0!==a)return HZ.Xjt(BK,"Synchronizing by PDT:",a.pPt.toISOString()+" vs "+o.pPt.getTime()),a.MS-o.qPt-(a.pPt.getTime()-o.pPt.getTime())/1e3}var c,h=QK(n),f=QK(t),v=null!=(c=t.djt.YPt)?c:0;return HZ.Xjt(BK,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.AUt=function(t){var n=this.sAt.FBt(t);if(!n)return!1;if(UK(n))return!1;var i=function(t,n){return uo(t,(function(t){return void 0!==t.F7&&n.aBt(t.yPt)}))}(n.djt.jnt,this.sAt.kT);if(void 0===i)return!1;if(n.djt.Fzt===i.yPt)return!0;var r=this.sAt.kT.vBt(i.F7,i).JS()-i.qPt;return HZ.Xjt(BK,"Synchronize by media timestamp: "+r+"s for rendition "+t.djt.Jpt+"."),n.djt.hBt(r,i.yPt),(void 0===this.fUt||void 0===this.fUt.djt.Fzt||this.fUt.djt.Fzt<i.yPt)&&(this.fUt=n),!0},i.nUt=function(t,n){var i;(this.sAt.HPt(t,n),mH(t)&&n)&&(this.iUt=n,this.Co(new OK(n)),null==(i=this.dUt.get(n.Xw))||i.LL(),this.dUt.delete(n.Xw));this.Co(new JG)},i.MUt=function(t,n){for(var i=0,r=this.sAt.Kjt;i<r.length;i++){var e=r[i],u=ro(e.$jt,(function(t){return t.djt===n}));void 0!==u&&void 0!==t.Akt&&(u.$nt=bH(u.$nt,t));var s=ro(e.Jjt,(function(t){return t.djt===n}));void 0!==s&&void 0!==t.mkt&&(s.$nt=bH(s.$nt,t)),e.xPt||void 0===u&&void 0===s||(e.$nt=bH(e.$nt,t))}},i.bUt=function(t,n){for(var i=0,r=this.sAt.Kjt;i<r.length;i++){var e=r[i],u=ro(e.$jt,(function(t){return t.djt===n}));void 0!==u&&void 0===t.Akt&&e.zPt(u);var s=ro(e.Jjt,(function(t){return t.djt===n}));void 0!==s&&void 0===t.mkt&&e.zPt(s)}},i.h_=function(){this.Vo(),this.sAt.h_(),this.dUt.forEach((function(t){return t.g_()})),this.dUt.clear()},At(n,[{key:"qBt",get:function(){return this.KBt}},{key:"JBt",get:function(){return this.$Bt}},{key:"Tr",get:function(){return this.sAt}},{key:"tUt",get:function(){return this.iUt}}]),n}(Xo);function UK(t){return t.djt.bPt||t.djt.SPt===lH.iPt}function QK(t){var n=t.djt.jnt;return n[n.length-1].bS}function YK(t){return uo(t,(function(t){return void 0!==t.pPt}))}function GK(t){if(void 0!==t.djt.VRt&&!t.djt.bPt&&!(void 0===t.djt.Ozt||on.m_()/1e3-t.djt.Ozt>=t.djt.VRt/2))return t.djt.WRt?aK.uzt:aK.azt}var FK=function(){function t(t,n){var i=this;this.SUt=function(t){i.Kzt(t.Mjt)},this.kSt=t,this.Fm=n,this.uvt=new j_,this.kSt.yn(zK.WBt,this.SUt)}return t.prototype.Kzt=function(t){if(0!==t.djt.MPt.length){this.TUt||(this.TUt=this.Fm.rE(C_.ZA,void 0,void 0,void 0,void 0,cm.DATE_RANGE),this.uvt.tt(this.TUt));gK(this.TUt,t.djt.MPt,(function(n){var i;return null!=(i=t.djt.PPt(n))?i:NaN}))}},At(t,[{key:"nt",get:function(){return this.uvt}}]),t}();wt(),C(),Mt();var VK=function(t){function n(){return t.call(this,IZ.rjt)}return kt(n,t),n}(Jo);wt(),C(),mt(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),mt();var WK=function(){function t(t){this.xrt=t,this.ryt=[],this.i0=void 0,this.dvt=void 0}var n=t.prototype;return n.IUt=function(t){var n;return null==(n=this.DUt(t))?void 0:n.Mjt},n.slt=function(t){this.i0=t,this.EUt()},n.elt=function(t,n,i,r,e,u){this.ryt.push({Mjt:t,nut:n,kUt:BD.rU(e,u),LUt:BD.rU(i,r)}),this.EUt()},n.DUt=function(t){return ro(this.ryt,(function(n){return n.LUt.gr(t)}))},n.Aat=function(t){return ro(this.ryt,(function(n){return n.nut===t}))},n.Oct=function(t,n){return ro(this.ryt,(function(i){return i.Mjt===t&&IK(i.nut,n)}))},n.x0=function(){var t=this.O_;t.U>0&&(this.dvt=t.jn(t.U-1))},n.EUt=function(){var t=this.xrt.O_;this.ryt=this.ryt.filter((function(n){return 0!==t.Sn(n.LUt).U}))},At(t,[{key:"NUt",get:function(){return this.i0}},{key:"O_",get:function(){return VB(this.xrt.O_,this.xrt.R0)}},{key:"jnt",get:function(){return this.ryt}},{key:"wvt",get:function(){return this.dvt}}]),t}(),XK=function(){function t(t,n,i,r,e){var u=this;this.RUt=void 0,this.$O=new So,this.jUt=BD.oU(),this.GUt=function(t){u.RUt&&(t?OS(t)&&u.xUt?u.XUt.wX(u.xrt.O_.sU)?u.RUt.LL():u.RUt.xL(t):Co(t)?u.RUt.LL():u.RUt.xL(t):u.RUt.LL(),u.RUt=void 0)},this.z2=t,this.YUt=i,this.xrt=n,this.Vht=r,this.XUt=e}var n=t.prototype;return n.PUt=function(){if(this.tEt)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.Srt=function(t){this.xrt!==t&&(this.PUt(),this.xrt=t,this.Vht=new WK(t))},n.zUt=function(){return this.RUt?this.RUt.OL:K.resolve()},n.BUt=function(t){var n=this.Vht.wvt;return void 0!==n&&this.UUt(t,n)},n.UUt=function(t,n){var i,r,e=g.min(t,n);return null!=(r=null==(i=this.Vht.O_.PB().VB(this.OUt).Jm(e))?void 0:i.gr(n))&&r},n.QUt=function(t){return this.Vht.IUt(t)},n.g_=function(){this.$O.g_(),this.$O=new So},n.X$=function(t){var n=this;this.PUt(),this.RUt=new Cc;var i=function(i){n.YUt.FUt(t),n.GUt(i)};this.Z$(t,this.$O.f_).then(i,i)},n.Z$=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return HZ.Xjt(qZ,"Appending initializer",pH(t.VUt.Jpt)),[4,i.xrt.X$(t,n)];case 1:return r.sent(),HZ.Xjt(qZ,"Appended initializer",pH(t.VUt.Jpt)),i.Vht.slt(t),[2]}}))}))()},n.wlt=function(t){var n=this;this.PUt(),this.RUt=new Cc;var i=function(i){n.YUt.FUt(t),n.GUt(i)};this.WUt(t,this.$O.f_).then(i,i)},n.WUt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,d,l,g,w,y,A,m,p,_,k,M,b,T;return zt(this,(function(N){switch(N.label){case 0:if(void 0===(r=t.Mjt).djt.uRt)throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+i.z2+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.Vht.O_.LB,u=i.xrt.O_,HZ.Xjt(qZ,"Appending",pH(t.VUt.Jpt)),[4,i.xrt.V$(t,n)];case 1:return N.sent(),HZ.Xjt(qZ,"Appended",pH(t.VUt.Jpt),e,i.Vht.O_.LB),s=t.MS,o=s+t.ct,a=t.VUt,c=a.MS,f=a.MS+(null!=(h=a.ct)?h:0),i.Vht.elt(r,a,s,o,c,f),d=i.xrt.O_.VB(u),l=i.Vht.Oct(r,a),i.Av===zA.VA&&(l?i.HUt(l)?0===d.U?void 0===i.Vht.Aat(a)&&(g=i.xrt.R0.Sn(new BD([s,o])),i.jUt=i.jUt.YB(g)):(w=d.Cn(0),y=new BD([w,o]),i.jUt=i.jUt.VB(y),w>s&&(A=i.xrt.R0.Sn(new BD([s,w])),i.jUt=i.jUt.YB(A))):(m=d.U>0&&d.Cn(0)<s?d.Cn(0):s,i.jUt=i.jUt.VB(new BD([m,o]))):0===d.U?(p=i.xrt.R0.Sn(new BD([s,o])),i.jUt=i.jUt.YB(p)):(k=d.Cn(0),M=null==(_=u.Jm(s))?void 0:_.jn(0),k>(b=M&&M>s?M:s)&&(T=i.xrt.R0.Sn(new BD([b,d.Cn(0)])),i.jUt=i.jUt.YB(T)))),t.VUt.GPt&&i.Vht.x0(),[2]}}))}))()},n.HUt=function(t){var n=t.LUt,i=n.Cn(0),r=n.jn(n.U-1),e=n.CB(0),u=n.jB(n.U-1);return this.jUt.HB(i,r,e,u)},At(t,[{key:"Av",get:function(){return this.z2}},{key:"xUt",get:function(){return this.z2===zA.WA||this.z2===zA.VA}},{key:"CUt",get:function(){return this.Vht}},{key:"OUt",get:function(){return this.jUt}},{key:"tEt",get:function(){return void 0!==this.RUt}}]),t}();wt(),C(),Ot(),mt(),Mt(),Ft(),Pt(),wt(),C(),Ot(),Pt();var ZK=function(){function t(t,n,i){this.KUt=t,this.aE=n,this.xbt=i,this.JUt=void 0}var n=t.prototype;return n.ZUt=function(t,n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return[4,e.qUt(n,r)];case 1:return u=s.sent(),[4,e.KUt.ZUt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.qUt=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return(null==(r=i.JUt)?void 0:r.zu)===t?[3,3]:(HZ.Xjt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.aE.uD({zu:t,qD:ld.SD,ZD:Ww.GET,f_:n,Av:Xw.jD,JD:Zw.YD,tE:i.xbt})]);case 1:return[4,s.sent().GR()];case 2:e=s.sent(),u=new m(e),i.JUt={zu:t,ly:u},s.label=3;case 3:return[2,i.JUt.ly]}}))}))()},t}();wt(),C(),Ot(),Pt();var HK=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.aE=t,this.rut=n,this.Nat=i,this.xbt=r,this.vet=e}var n=t.prototype;return n.uD=function(t,n,i,r,e){var u=this;return xt((function(){var s,o;return zt(this,(function(a){switch(a.label){case 0:return[4,u.$Ut(t,n,i,ld.SD,r,e)];case 1:return[4,(s=a.sent()).GR(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.fD,response:new m(o)}]}}))}))()},n.tQt=function(t,n,i,r,e){var u=this;return xt((function(){return zt(this,(function(s){switch(s.label){case 0:return[4,u.$Ut(t,n,i,ld.DD,r,e)];case 1:return[2,s.sent().VW(e)]}}))}))()},n.$Ut=function(t,n,i,r,e,u){var s=this;return xt((function(){var o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:t.Dyt&&0===(o=yH(t.Dyt.Cn,t.Dyt.U))[0]&&o[1]===zi&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new qw({zu:t.lT,qD:r,XD:a,tE:s.xbt,ZD:Ww.GET,Av:n,JD:i,$D:s.Nat,eE:r===ld.DD,iE:e,f_:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.rut.mnt(t.lT,o)];case 2:return h=f.sent(),jo(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new Jw({uD:c,qD:c.qD,ly:h.buffer})]):[3,4];case 3:return xo(f.sent()),[3,4];case 4:return[4,dD((function(){return zo(s.aE.uD(c),c.f_)}),u,s.vet)];case 5:return[2,f.sent()]}}))}))()},t}();wt(),C(),Ot(),Pt();var KK,JK=function(){function t(t,n){this.aQt=void 0,this.lQt=new So,this.An=-1/0,this.nQt=void 0,this.uQt=!1,this.kSt=t,this.eQt=n,this.oQt()}var n=t.prototype;return n.iQt=function(){return this.eQt.djt.GRt},n.sQt=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:if(!r.iQt())throw new v("Could not perform blocking playlist update.");return e=r.nQt,u={$Rt:t,Gzt:n},void 0!==e&&function(t,n,i){if(t.$Rt===n.$Rt){if(t.Gzt===n.Gzt)return!0;if(0===t.Gzt&&void 0===n.Gzt)return!0}if(t.$Rt===n.$Rt+1&&0===t.Gzt&&void 0!==n.Gzt){var r=i.Aat(n.$Rt);if(r&&r.Jpt&&n.Gzt>=r.wPt.length)return!0}return!1}(e,u,r.eQt.djt)?[3,2]:[4,r.rQt()];case 1:s.sent(),r.oQt(u),s.label=2;case 2:return[2,r.kSt.lUt(r.eQt,i)]}}))}))()},n.hQt=function(t){return this.oQt(),this.kSt.lUt(this.eQt,t)},n.oQt=function(t){var n=this;if(!this.aQt&&!this.uQt){var i=function(){n.aQt=void 0};this.aQt=this.cQt(t,this.lQt.f_).then(i,i)}},n.rQt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.aQt?(t.lQt.g_(),t.lQt=new So,[4,t.aQt.catch(Hn)]):[3,2];case 1:n.sent(),t.aQt=void 0,n.label=2;case 2:return[2]}}))}))()},n.cQt=function(t,n){var i=this;return xt((function(){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(jo(n),i.eQt.djt.bPt&&i.eQt.djt.Czt)return[2];null!=r||(r=i.dQt()),i.nQt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.kSt.hUt(i.eQt,r.$Rt,r.Gzt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=on.m_()-i.An,u=1e3*i.eQt.djt.jzt,e<u?[4,Fo(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.kSt.cUt(i.eQt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.nQt=void 0,xo(s),i.kSt.uUt(i.eQt),s;case 10:return r=void 0,i.An=on.m_(),[3,1];case 11:return[2]}}))}))()},n.dQt=function(){var t=this.eQt.djt;if(t.GRt&&!t.bPt&&0!==t.jnt.length){var n=t.jnt[t.jnt.length-1];return n.Jpt?{$Rt:n.$Rt+1,Gzt:t.xzt?0:void 0}:{$Rt:n.$Rt,Gzt:n.wPt.length}}},n.h_=function(){this.uQt=!0,Qo(this.rQt())},t}();wt(),C(),function(t){t[t.ePt=0]="ePt",t[t.sPt=1]="sPt",t[t.CD=2]="CD",t[t.OD=3]="OD"}(KK||(KK={})),wt(),C(),Ot(),Pt(),wt(),C(),Ot(),mt(),Pt();var qK="AssetExtractor",$K=function(){function t(){this._Qt=[]}var n=t.prototype;return n.fQt=function(t,n,i){for(var r=n,e=0,u=this._Qt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Cn)return!1;if(r<s.jn){if(i<=s.jn)return!0;r=s.jn}}return r>=t},n.gQt=function(t,n){for(var i=[],r=0;r<this._Qt.length;r+=1){var e=this._Qt[r],u=t-e.Cn,s=e.ly.length,o=g.min(s,g.max(u,0)),a=g.max(0,n+u),c=Nc(e.ly,o,a);c.length&&(r=this.wQt(r,e,t,o,a),i.push(c))}return i},n.vQt=function(t,n){this._Qt.push({Cn:t,jn:t+n.length,ly:n})},n.wQt=function(t,n,i,r,e){var u=t;this._Qt.splice(u,1),u-=1,n.Cn<i&&(u+=1,this._Qt.splice(u,0,{Cn:n.Cn,jn:i,ly:Nc(n.ly,0,r)}));var s=i+e-r;return s<n.jn&&(u+=1,this._Qt.splice(u,0,{Cn:s,jn:n.jn,ly:Nc(n.ly,e)})),u},t}(),tJ=function(){function t(t,n){this.pQt=n,this.YV=t.getReader()}var n=t.prototype;return n.AQt=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.YV.read()];case 1:if((n=i.sent()).done)throw t.pQt=1/0,new v("No more data can be read from the given stream.");return t.pQt+=n.value.length,[2,n.value]}}))}))()},n.yQt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.YV.cancel(t)];case 1:return i.sent(),[2]}}))}))()},At(t,[{key:"mQt",get:function(){return this.pQt}}]),t}(),nJ=function(){function t(t,n,i,r){this.EQt=new Cc,this.KPt=t,this.YV=n,this.SQt=i,this.DQt=r,this.NQt=new Cc,this.bQt=new Cc}var n=t.prototype;return n.MQt=function(){this.bQt.LL(),this.bQt=new Cc},n.TQt=function(t){var n=rJ(this.KPt.Dyt),i=n.Eyt,r=n.kyt,e=this.SQt.gQt(i,r-i);HZ.Xjt(qK,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return zt(this,(function(w){switch(w.label){case 0:return[4,n.NQt.OL];case 1:w.sent(),i=rJ(n.KPt.Dyt),r=i.Eyt,e=i.kyt,w.label=2;case 2:w.trys.push([2,11,,12]),w.label=3;case 3:return u=n.YV.mQt,[4,n.YV.AQt()];case 4:return s=w.sent(),o=s.length,HZ.Xjt(qK,"Read "+o+" at "+u+" for extraction of "+pH(n.KPt)),a=g.min(u+o,r),(c=a-u)>0?(h=Nc(s,0,c),f=Nc(s,c),HZ.Xjt(qK,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+pH(n.KPt)),n.SQt.vQt(u,h),f.length>0?(HZ.Xjt(qK,"Extracting "+f.length+" bytes for extraction of "+pH(n.KPt)),t.enqueue(f),n.MQt(),[2,Qo(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(HZ.Xjt(qK,"Extracting the read data range for extraction of "+pH(n.KPt)),t.enqueue(s),n.MQt(),[2,Qo(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return d=Nc(s,0,v=e-u),l=Nc(s,v),d.length>0&&(HZ.Xjt(qK,"Extracting "+d.length+" bytes for extraction of "+pH(n.KPt)),t.enqueue(d)),HZ.Xjt(qK,"Of the read "+o+" bytes, the last "+l.length+" will be stored locally for extraction of "+pH(n.KPt)),n.SQt.vQt(u+v,l),HZ.Xjt(qK,"Extraction of "+pH(n.KPt)+" completed as the entire request has been fulfilled."),n.IQt(t),n.DQt?(HZ.Xjt(qK,"Aborting stream upstream as no more bytes are needed from "+pH(n.KPt)+"."),[4,n.YV.yQt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:w.sent(),w.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return w.sent(),HZ.Xjt(qK,"Extraction of "+pH(n.KPt)+" completed as the entire source stream has been read."),n.IQt(t),[3,12];case 12:return[2]}}))}))()},n.IQt=function(t){t.close(),this.MQt(),this.EQt.LL()},n.start=function(t){HZ.Xjt(qK,"Preparing to push all collected data to controller for extraction of "+pH(this.KPt)),this.TQt(t),HZ.Xjt(qK,"Collected data pushed to controller for extraction of "+pH(this.KPt));var n=rJ(this.KPt.Dyt).kyt;this.YV.mQt>=n?(HZ.Xjt(qK,"Extraction of "+pH(this.KPt)+" completed as the entire request has been fulfilled."),this.IQt(t)):(HZ.Xjt(qK,"Continuing read from original stream for extraction of "+pH(this.KPt)),Qo(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.NQt.LL(),this.NQt=new Cc,this.bQt.OL},At(t,[{key:"kQt",get:function(){return this.EQt.OL}}]),t}(),iJ=function(){function t(t,n){this.KPt=n;var i=rJ(this.KPt.Dyt).Eyt;this.LQt=new tJ(t,i),this.SQt=new $K}var n=t.prototype;return n.oS=function(t){if(!_H(this.KPt,t))return!1;var n=rJ(t.Dyt),i=n.Eyt,r=n.kyt;return this.SQt.fQt(this.LQt.mQt,i,r)},n.Swt=function(t,n){void 0===n&&(n=!1);var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return r=i.LQt,e=i.SQt,HZ.IM(qK,"Extracting data from "+pH(t)+" out of "+pH(i.KPt)),i.xQt?(HZ.Xjt(qK,"Awaiting previous extraction before extracting "+pH(t)+" out of "+pH(i.KPt)),[4,i.xQt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.oS(t))throw new v("The extractor does not contain the data requested");return u=new nJ(t,r,e,n),i.xQt=u.kQt,[2,new $g(u)]}}))}))()},t}();function rJ(t){if(t){var n=t.Cn;return{Eyt:n,kyt:void 0!==t.U?n+t.U:zi}}return{Eyt:0,kyt:zi}}var eJ=function(){function t(t,n){this.KPt=t,this.CQt=n,this.$O=new So,this.Cvt=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.CQt.tQt(t.KPt,Xw.OD,Zw.jT,void 0,t.$O.f_)];case 1:return n=i.sent(),[2,new iJ(n,t.KPt)]}}))}))()},n.oS=function(t){return _H(this.KPt,t)},n.Swt=function(t,n){void 0===n&&(n=!1);var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,i.Cvt];case 1:return[4,zo(r.sent().Swt(t,n),i.$O.f_)];case 2:return[2,r.sent()]}}))}))()},n.g_=function(){this.Cvt.catch(Hn),this.$O.g_()},t}();wt(),C(),Mt();var uJ=function(t){function n(n){var i;return(i=t.call(this,fJ.OQt)||this).$D=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var sJ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,fJ.jQt)||this).uri=n,a.RQt=i,a.$D=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.PQt=s,a.httpStatusCode=o,a}return kt(n,t),n}(Jo);function oJ(t,n,i){var r=NK(i)?i:i.WPt;if(n.aBt(r.yPt)){if(void 0!==i.F7)return n.vBt(i.F7,i).JS();if(i!==r&&void 0!==r.F7){var e=n.vBt(r.F7,r).JS();return i.MS+(e-r.MS)}}var u=t.djt.Aat(r.$Rt-1);if(void 0!==u&&n.aBt(u.yPt)){if(u.wPt.length>0){var s=u.ezt(u.wPt.length-1);if(void 0!==s.F7){var o=n.vBt(s.F7,s).JS();return i.MS+(o-s.MS)}}if(void 0!==u.F7){var a=n.vBt(u.F7,u).JS();return i.MS+(a-u.MS)}}var c=t.djt.Aat(r.$Rt+1);if(void 0!==c&&n.aBt(c.yPt)){if(c.wPt.length>0){var h=c.ezt(0);if(void 0!==h.F7){var f=n.vBt(h.F7,h).JS();return i.MS+(f-h.MS)}}if(void 0!==c.F7){var v=n.vBt(c.F7,c).JS();return i.MS+(v-c.MS)}}return i.MS}function aJ(t){return void 0!==t.F7}function cJ(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.yPt!==i)break;if(aJ(u))if(r(u,e))break}}function hJ(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.yPt!==i)break;if(aJ(u))if(r(u,e))break}}wt(),C();var fJ,vJ="HlsPlaylistDownloader";!function(t){t.OQt="segmentdownloadprogress",t.jQt="segmentdownloaded"}(fJ||(fJ={}));var dJ=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).UQt=void 0,c.GQt=void 0,c.MFt=void 0,c.bFt=0,c.TFt=0,c.SFt=0,c.NFt=0,c.HQt=new So,c.XQt=void 0,c.QQt=0,c.FQt=void 0,c.YQt=void 0,c.qQt=void 0,c.ZQt=void 0,c.sFt=function(t){c.UQt&&(c.eQt=c.UQt,c.UQt=void 0,c.QQt=0,c.FQt=void 0,c.YQt=void 0),c.GQt&&(t&&!Co(t)?c.GQt.xL(t):c.GQt.LL(),c.GQt=void 0)},c.pFt=function(t,n){c.SFt=t,t>0&&0===c.bFt&&(c.bFt=on.m_()),void 0!==n&&(c.NFt=n),c.Co(new uJ(c.z2))},c.z2=n,c.kSt=r,c.YUt=e,c.eQt=i,c.BQt=new JK(r,i),c.yFt=new ZK(o,u,a),c.CQt=new HK(u,s,function(t){switch(t){case fH.VA:return Hw.VA;case fH.WA:return Hw.WA;case fH.HA:case fH.kRt:return Hw.Ru;default:return Hw.jT}}(i.Av),a),c}kt(n,t);var i=n.prototype;return i.zQt=function(t){this.BQt.h_(),this.BQt=new JK(this.kSt,t),this.tEt?this.UQt=t:(this.eQt=t,this.QQt=0,this.FQt=void 0,this.YQt=void 0)},i.zUt=function(){return this.GQt?this.GQt.OL:K.resolve()},i.VQt=function(){return this.YUt.VQt()},i.WQt=function(t){this.YUt.WQt(t)},i.g_=function(){var t,n,i;this.HQt.g_(),this.HQt=new So,null==(t=this.XQt)||t.g_(),this.XQt=void 0,null==(n=this.ZQt)||n.g_(),null==(i=this.qQt)||i.g_(),this.ZQt=void 0,this.qQt=void 0,this.QQt=0,this.FQt=void 0,this.YQt=void 0},i.h_=function(){this.BQt.h_()},i.KQt=function(t){var n=this.eQt.djt.Vzt(t);if(!n)return!1;if(void 0!==this.FQt){var i=n.$Rt===this.FQt;return void 0!==this.YQt?n.szt(t)===n.ezt(this.YQt)&&i:i}return!1},i.JQt=function(t){var n;if(void 0===this.FQt||t<this.QQt-1e-6)n=this.$Qt(t);else if(void 0!==(n=this.tFt(this.FQt,this.YQt))){var i=Gt(n,2),r=i[0],e=i[1],u=oJ(this.eQt,this.kSt.Tr.kT,null!=e?e:r),s=3*this.eQt.djt.uRt;g.abs(u-t)>=s&&(n=this.$Qt(t))}else if(this.eQt.djt.bPt){if(this.eQt.djt.Aat(this.FQt).GPt&&void 0!==(n=this.$Qt(t))&&n[0].$Rt===this.FQt)return}if(n){this.QQt=t;var o=Gt(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.XPt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.$Qt=function(t){var n,i,r=this.eQt.djt.jnt;if(0!==r.length){var e,u=this.kSt.Tr.kT,s=Km.$N(t),o=function(t,n,i){var r=t.djt.jnt;if(0!==r.length){var e=t.djt.Wzt(i.JS());if(n.aBt(e.yPt)){var u,s,o,a=e.$Rt-r[0].$Rt,c=e.yPt,h=0;if(!(hJ(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(cJ(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.vBt(u.F7,u).sN(i)?(s=u,cJ(r,h+1,c,(function(t){return n.vBt(t.F7,t).$S(i)?(o=t,!0):(s=t,!1)}))):(o=u,hJ(r,h-1,c,(function(t){return n.vBt(t.F7,t).sN(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.eQt,u,s);if(void 0!==o){var a=Gt(o,2),c=a[0],h=a[1],f=u.vBt(c.F7,c),v=u.vBt(h.F7,h),d=s.uN(f).JS()/v.uN(f).JS()*(h.MS-c.MS);e=c.MS+d}else e=t;var l=r[r.length-1];return l.bS<=e?(n=l,i=l.rzt(e)):i=r[0].MS>e?(n=r[0]).ezt(0):null==(n=this.eQt.djt.Vzt(e))?void 0:n.rzt(e),n?[n,i]:void 0}},i.tFt=function(t,n){var i,r;if((i=this.eQt.djt.Aat(t))&&void 0!==n){if(0===i.wPt.length)return[i,void 0];r=i.ezt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.eQt.djt.Aat(t+1))?void 0:i.ezt(0)),i?[i,r]:void 0},i.PUt=function(){if(this.tEt)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},i.iFt=function(t){this.PUt(),this.GQt=new Cc,this.eFt(t,this.HQt.f_).then(this.sFt,this.sFt)},i.nFt=function(){this.BQt.oQt()},i.eFt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return i.eQt.djt.bPt?[2]:(r=i.JQt(t))||!i.BQt.iQt()||void 0===i.FQt?[3,2]:[4,i.BQt.sQt(void 0===i.YQt?i.FQt+1:i.FQt,void 0!==i.YQt?i.YQt+1:void 0,n)];case 1:u.sent(),r=i.JQt(t),u.label=2;case 2:return r||!i.BQt.iQt()||void 0===i.FQt?[3,4]:[4,i.BQt.sQt(i.FQt+1,0,n)];case 3:u.sent(),r=i.JQt(t),u.label=4;case 4:return r?[3,6]:(HZ.IM(vJ,"No next segment / part available, need to update playlist before continuing."),[4,i.BQt.hQt(n)]);case 5:return u.sent(),e=i.Mjt.djt.jnt,e[0].MS>t&&(i.YQt=void 0,i.FQt=void 0),e[e.length-1].$Rt<i.FQt&&(i.YQt=void 0,i.FQt=void 0),r=i.JQt(t),[3,4];case 6:return[2]}}))}))()},i.rFt=function(){return this.YUt.oFt()},i.hFt=function(){this.PUt();try{var t=this.eQt.djt.Hzt(vH.ePt);t&&this.aFt(t);var n=this.eQt.djt.Hzt(vH.sPt);n&&this.uFt(n)}catch(t){throw xo(t),this.eQt.djt.Uzt=on.m_(),this.kSt.uUt(this.eQt),t}},i.aFt=function(t){this.qQt&&!this.qQt.oS(t.Jpt)&&(this.qQt.g_(),this.qQt=void 0),this.qQt||(this.qQt=new eJ(t.Jpt,this.CQt))},i.uFt=function(t){this.ZQt&&!this.ZQt.oS(t.Jpt)&&(this.ZQt.g_(),this.ZQt=void 0),this.ZQt||(this.ZQt=new eJ(t.Jpt,this.CQt))},i.pat=function(t,n,i){var r=this;this.PUt(),HZ.IM(vJ,"Starting download of segment "+pH(t.Jpt)+" and part "+(null==n?void 0:n.XPt)),this.GQt=new Cc,this.cFt(t,n,i,this.HQt.f_).catch((function(t){throw xo(t),r.eQt.djt.Uzt=on.m_(),r.kSt.uUt(r.eQt),t})).then(this.sFt,this.sFt)},i.cFt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:return t.mPt&&(i&&kH(i.VUt.Jpt,null==(s=t.mPt)?void 0:s.Jpt)&&t.yPt===i.yPt||(null==(a=e.XQt)||a.g_(),e.XQt=new Cc,c=e.lFt(t.mPt,t,r).then((function(){e.XQt=void 0})),e.XQt.w_(c)),u=null==(o=e.XQt)?void 0:o.OL),[4,e.dFt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.lFt=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,r.fFt(t,n,i)];case 1:return e=s.sent(),u=e.mPt.ly.ly.byteLength,r.YUt._Ft(e),r.Co(new sJ(e.mPt.VUt.Jpt,e.Av,r.z2,n.$Rt,e.Mjt.Xw,u,e.mPt.Eut)),HZ.Xjt(qZ,"Download initializer complete",pH(t.Jpt)),[2]}}))}))()},i.dFt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o;return zt(this,(function(a){switch(a.label){case 0:return[4,e.gFt(t,n,r)];case 1:return u=a.sent(),s=u.nut.ly.ly.byteLength,i?[4,zo(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.YUt._Ft(u),e.Co(new sJ(u.nut.VUt.Jpt,u.Av,e.z2,t.$Rt,u.Mjt.Xw,s,u.nut.Eut)),HZ.Xjt(qZ,"Download complete",pH(null!=(o=null==n?void 0:n.Jpt)?o:t.Jpt)),[2]}}))}))()},i.gFt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return n?r.ZQt?r.ZQt.oS(n.Jpt)?[4,r.ZQt.Swt(n.Jpt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Nw(a.sent(),i)];case 2:return u=a.sent(),s=new m(u),[4,r.ZUt(s,n.fPt,i)];case 3:return o=a.sent(),e=wJ(n,o,200),[3,5];case 4:r.ZQt.g_(),r.ZQt=void 0,a.label=5;case 5:return e?[3,7]:(HZ.Xjt(qZ,"Start download",pH(n.Jpt)),[4,r.wFt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return HZ.Xjt(qZ,"Start download",pH(t.Jpt)),[4,r.Mat(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.FQt=t.$Rt,r.YQt=null==n?void 0:n.XPt,[2,{Av:"nut",nut:e,Mjt:r.eQt,yPt:t.yPt}]}}))}))()},i.fFt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return r.qQt?r.qQt.oS(t.Jpt)?[4,zo(r.qQt.Swt(t.Jpt),i)]:[3,4]:[3,5];case 1:return[4,Nw(c.sent(),i)];case 2:return s=c.sent(),o=new m(s),[4,r.ZUt(o,t.gPt?[t.gPt]:[],i)];case 3:a=c.sent(),e=lJ(t,n,a,200),c.label=4;case 4:HZ.IM(vJ,"MAP is required for segment, downloading MAP data."),null==(u=r.qQt)||u.g_(),r.qQt=void 0,c.label=5;case 5:return e?[3,7]:(HZ.Xjt(qZ,"Start download",pH(t.Jpt)),[4,r.vFt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{Av:"mPt",mPt:e,Mjt:r.eQt,MS:n.MS,yPt:n.yPt,fPt:n.fPt}]}}))}))()},i.vFt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return[4,r.CQt.uD(t.Jpt,Xw.CD,Zw.RD,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.gPt?[t.gPt]:[],[4,r.ZUt(u,o,i)];case 2:return a=c.sent(),[2,lJ(t,n,a,s)]}}))}))()},i.Mat=function(t,n){var i=this;return xt((function(){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:if(!t.Jpt)throw new v("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.mFt(t),[4,i.CQt.uD(t.Jpt,Xw.CD,Zw.jT,i.pFt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.AFt(),[7];case 4:return[4,i.ZUt(r,t.fPt,n)];case 5:return s=o.sent(),[2,gJ(t,s,e)]}}))}))()},i.wFt=function(t,n){var i=this;return xt((function(){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.mFt(t),[4,i.CQt.uD(t.Jpt,Xw.CD,Zw.jT,i.pFt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.AFt(),[7];case 3:return[4,i.ZUt(r,t.fPt,n)];case 4:return s=o.sent(),[2,wJ(t,s,e)]}}))}))()},i.ZUt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return(e=ro(n,(function(t){return t.ZD===dH.BRt})))?e.Jpt&&e.URt?[4,r.yFt.ZUt(t,e.Jpt,e.URt,i)]:(HZ.lt(vJ,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.mFt=function(t){var n,i,r;this.MFt=t,this.bFt=0,this.TFt=on.m_(),this.SFt=0,this.NFt=null!=(r=null==(i=t.Jpt)||null==(n=i.Dyt)?void 0:n.U)?r:0},i.AFt=function(){this.MFt=void 0,this.bFt=0,this.TFt=0,this.SFt=0,this.NFt=0},i.IFt=function(){if(void 0!==this.MFt)return{nut:this.MFt,DFt:this.SFt,EFt:this.NFt,kFt:on.m_()-this.TFt}},i.LFt=function(t){return void 0!==this.MFt&&(0!==this.bFt&&(!(this.NFt>0&&this.SFt>=this.NFt)&&!(t-this.bFt<500)))},At(n,[{key:"tEt",get:function(){return void 0!==this.GQt}},{key:"Mjt",get:function(){var t;return null!=(t=this.UQt)?t:this.eQt}},{key:"SEt",get:function(){if(!this.eQt.djt.bPt||void 0===this.FQt)return!1;var t=this.eQt.djt.Aat(this.FQt);if(!t.GPt)return!1;if(void 0!==this.YQt&&!t.ezt(this.YQt).GPt)return!1;return!0}}]),n}(Xo);function lJ(t,n,i,r){return{ly:{ly:i,Av:pL.jZ},Av:KK.ePt,Eut:r,VUt:t,yPt:n.yPt}}function gJ(t,n,i){return{ly:{ly:n,Av:pL.jZ},Av:KK.CD,Eut:i,VUt:t,yPt:t.yPt}}function wJ(t,n,i){return{ly:{ly:n,Av:pL.jZ},Eut:i,Av:KK.sPt,VUt:t,yPt:t.WPt.yPt}}wt(),C(),mt();var yJ=function(){function t(t){this.OFt=[],this.RFt=Hu(),this.zFt=void 0,this.xFt=void 0,this.OBt=t}var n=t.prototype;return n._Ft=function(t){"mPt"===t.Av&&(this.xFt=t.mPt),this.OFt.push(t),this.zFt&&(this.zFt.LL(),this.zFt=void 0)},n.VQt=function(){return this.OFt[0]},n.WQt=function(t){ao(this.OFt,t)},n.oFt=function(){return null!=this.zFt||(this.zFt=new Cc),this.zFt.OL},n.BFt=function(t){this.UFt(t.Zht).BFt(t)},n.QFt=function(t){return this.UFt(t).QFt()},n.FUt=function(t){this.UFt(t.Zht).FUt(t)},n.FFt=function(t){var n;null==(n=this.RFt.get(t))||n.h_()},n.YFt=function(t){return this.UFt(t).YFt()},n.UFt=function(t){if(this.RFt.has(t))return this.RFt.get(t);var n=new AJ;return this.RFt.set(t,n),n},n.kL=function(){this.GFt(),this.VFt()},n.GFt=function(){this.xFt=void 0,lo(this.OFt)},n.VFt=function(){this.RFt.forEach((function(t){return t.kL()}))},n.h_=function(){this.RFt.forEach((function(t){return t.h_()})),this.RFt.clear(),this.kL(),this.zFt&&(this.zFt.g_(),this.zFt=void 0)},At(t,[{key:"NUt",get:function(){return this.xFt}},{key:"CFt",get:function(){for(var t=[],n=0,i=this.OFt;n<i.length;n++){var r=i[n];if("nut"===r.Av){var e,u=r.nut.VUt,s=oJ(r.Mjt,this.OBt,u);t.push({nut:u,Mjt:r.Mjt,MS:s,bS:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"jFt",get:function(){var t=[];return this.RFt.forEach((function(n){for(var i=0,r=n.PFt;i<r.length;i++){var e=r[i];"nut"===e.Av&&t.push({nut:e.VUt,Mjt:e.Mjt,MS:e.MS,bS:e.MS+e.ct})}})),t}}]),t}(),AJ=function(){function t(){this.WFt=[],this.HFt=void 0}var n=t.prototype;return n.BFt=function(t){this.WFt.push(t),this.HFt&&(this.HFt.LL(),this.HFt=void 0)},n.QFt=function(){return this.WFt[0]},n.FUt=function(t){ao(this.WFt,t)},n.YFt=function(){return null!=this.HFt||(this.HFt=new Cc),this.HFt.OL},n.kL=function(){lo(this.WFt)},n.h_=function(){this.kL(),this.HFt&&(this.HFt.g_(),this.HFt=void 0)},At(t,[{key:"PFt",get:function(){return this.WFt}}]),t}();wt(),C(),Ot(),mt(),Pt();var mJ=1e-6,pJ=function(){function t(t,n){this.QNt=BD.oU(),this.FNt=BD.oU(),this.ZFt=t,this.OBt=n}var n=t.prototype;return n.X$=function(t,n){var i=this;return xt((function(){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return r=t.ly.ly,i.XFt(r),i.ZFt.Av!==cm.TTML?[3,3]:i.OBt.aBt(t.yPt)?[3,2]:[4,zo(i.OBt.cBt(t.yPt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.qFt(r,t.yPt),u=0;u<e.length;u++)s=e[u],i.ZFt.lE(s);o.label=3;case 3:return[2]}}))}))()},n.V$=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return void 0===t.ly?[2]:(r=t.MS,e=r+t.ct,i.QNt=i.QNt.YB(BD.rU(r,e)).FB(mJ),i.B0(t.KFt,t.JFt),i.U0(r,e),i.OBt.aBt(t.yPt)?[3,2]:[4,zo(i.OBt.cBt(t.yPt),n)]);case 1:u.sent(),u.label=2;case 2:return i.H$(t.ly.ly,t.yPt,t.VUt),[2]}}))}))()},n.H$=function(t,n,i){var r;this.XFt(t),r=this.ZFt.Av===cm.WEBVTT?this.$Ft(t,i):this.qFt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.ZFt.lE(u)}},n.$Ft=function(t,n){for(var i,r=yp(t),e=r.L,u=null!=(i=r.MI)?i:{bI:Km.wN,lh:Km.wN},s=0;s<e.length;s++){var o=e[s],a=Km.$N(o.MS).uN(u.lh).nS(u.bI),c=this.OBt.vBt(a,n).JS(),h=c+(o.bS-o.MS);o.YS(c,h)}return e},n.qFt=function(t,n){var i=this.OBt.wBt(n).JS();return g_(t,this.ZFt,{vI:0,mI:1/0,pI:i},mv.APPLICATION_MP4)},n.XFt=function(t){this.ZFt.Av===cm.DEFAULT&&(this.ZFt.Av=this.tYt(t)?cm.WEBVTT:cm.TTML)},n.tYt=function(t){return Sp(mc(_c(kc(t),0,g.min(t.byteLength,16)),new Ec))},n.B0=function(t,n){this.FNt=this.FNt.YB(BD.rU(t,n)).FB(mJ)},n.U0=function(t,n){this.FNt=this.FNt.VB(BD.rU(t,n))},At(t,[{key:"O_",get:function(){return this.QNt}},{key:"R0",get:function(){return this.FNt}}]),t}();wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),Mt();var _J=function(t){function n(n,i){var r;return(r=t.call(this,bJ.iYt)||this).Mjt=n,r.$nt=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var kJ=function(t){function n(n){var i;return(i=t.call(this,bJ.eYt)||this).Mjt=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var MJ=function(t){function n(n,i){var r;return(r=t.call(this,bJ.sYt)||this).Mjt=n,r.Adt=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var bJ,TJ=function(t){function n(n,i){var r;return(r=t.call(this,bJ.nYt)||this).Mjt=n,r.rYt=i,r}return kt(n,t),n}(Jo);!function(t){t.iYt="oYt",t.sYt="hYt",t.nYt="aYt",t.eYt="uYt"}(bJ||(bJ={}));var NJ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fYt=void 0,e.$O=new So,e.YUt=n,e.OBt=i,e.lYt=r,e}kt(n,t);var i=n.prototype;return i.dYt=function(t){for(var n=0,i=this.lYt;n<i.length;n++){var r=i[n];fo(t,r)||this.YUt.FFt(r)}this.lYt=t},i.zUt=function(){var t,n;return null!=(n=null==(t=this.fYt)?void 0:t.OL)?n:K.resolve()},i.PUt=function(){if(this.tEt)throw new v("Cannot perform new operation while transmuxer is still busy")},i._Yt=function(t,n){},i.gYt=function(t){var n=this;this.PUt(),this.fYt=new Cc;var i=function(i){n.wYt(t,i)};this.vYt(t,this.$O.f_).then(i,i)},i.mYt=function(t){var n=this;this.PUt(),this.fYt=new Cc;var i=function(i){n.wYt(t,i)};this.pYt(t,this.$O.f_).then(i,i)},i.wYt=function(t,n){this.fYt&&(!n||Co(n)||function(t){return t instanceof EK}(n)?(Co(n)||this.YUt.WQt(t),this.fYt.LL(),this.fYt=void 0):this.fYt.xL(n))},i.AYt=function(t,n){this.Co(new _J(t,n))},i.yYt=function(t,n){this.Co(new MJ(t,n))},i.MYt=function(t,n,i){DK(n)&&this.Co(new TJ(t,i))},i.bYt=function(t){this.Co(new kJ(t))},i.BFt=function(t){fo(this.lYt,t.Zht)&&this.YUt.BFt(t)},i.TYt=function(t){return this.YUt.QFt(t)},i.FUt=function(t){this.YUt.FUt(t)},i.SYt=function(t){return this.YUt.YFt(t)},i.g_=function(){this.$O.g_(),this.$O=new So},At(n,[{key:"cYt",get:function(){return this.lYt}},{key:"tEt",get:function(){return void 0!==this.fYt}}]),n}(Xo);function DJ(t,n){return DK(t)?0:g.min(t.MS,n)}function IJ(t,n){var i;return g.max(t.MS,n)+(null!=(i=t.ct)?i:0)}var EJ=function(t){function n(n,i,r){return t.call(this,n,i,[r])}kt(n,t);var i=n.prototype;return i.vYt=function(t,n){jo(n);var i={Av:"PEt",ly:t.mPt.ly,Zht:this.cYt[0],yPt:t.yPt,NYt:{$nt:"",fPt:t.fPt},MS:t.MS,Mjt:t.Mjt,VUt:t.mPt.VUt};return this.BFt(i),K.resolve()},i.pYt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return jo(n),void 0===(r=t.nut.VUt).F7?[3,3]:i.OBt.aBt(t.yPt)?[3,2]:[4,zo(i.OBt.cBt(t.yPt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.OBt.vBt(r.F7,r).JS(),[3,4];case 3:e=r.MS,c.label=4;case 4:return u=DJ(r,e),s=IJ(r,u),a={Av:"nut",ly:t.nut.ly,Zht:i.cYt[0],KFt:u,JFt:s,MS:e,ct:null!=(o=r.ct)?o:0,pI:0,yPt:t.yPt,Mjt:t.Mjt,VUt:t.nut.VUt},i.BFt(a),[2]}}))}))()},n}(NJ);function SJ(t,n){for(var i=function(i){var e=t[i],u=e.MS;if(e.Mjt.djt.bPt&&DK(e.nut))u=0;else{var s=function(t){return e.Mjt===t.Mjt&&IK(t.nut,e.nut)},o=ro(t,s);if(void 0!==o)u=g.min(u,o.bS);else{var a=ro(n,s);void 0!==a&&(u=g.min(u,a.LUt.jn(0)))}}r=r.YB(BD.rU(u,e.bS))},r=BD.oU(),e=0;e<t.length;e++)i(e);return r}wt(),C();var LJ=.001,CJ=function(){function t(t,n,i,r){this.EYt=t,this.xYt=n,this.kYt=i,this.wU=r,this.DYt=[]}var n=t.prototype;return n.zQt=function(t){this.EYt.zQt(t)},n.LYt=function(t){for(var n,i=function(t){var i=n.DYt[t];if(!i.xUt)throw new v("Invalid state");var e=so(r,(function(t){return t.Av===i.Av}));e>=0?(i.Srt(r[e]),co(r,e)):co(n.DYt,t)},r=t.slice(),e=this.DYt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new WK(s);this.DYt.push(new XK(s.Av,s,this.xYt,o,this))}r.length>0&&this.xYt.kL();var a=t.map((function(t){return t.Av}));this.kYt.dYt(a)},n.wX=function(t){var n,i=(null==(n=this.wU)?void 0:n.wX(t))||!1;return i&&(this.g_(),this.xYt.kL()),i},n.CYt=function(t){for(var n=0,i=this.DYt;n<i.length;n++){var r=i[n];if(r.Av!==zA.Ru||r.tEt)throw new v("Invalid state")}var e=new WK(t),u=new XK(zA.Ru,t,this.xYt,e,this);this.DYt=[u]},n.vat=function(){for(var t=0,n=this.DYt;t<n.length;t++){n[t].CUt.EUt()}},n.dlt=function(t){var n=this.OYt.Jm(t,LJ);return n?n.jn(n.U-1):t},n.KQt=function(t){return!!this.OYt.Jm(t,LJ)||this.EYt.KQt(t)},n.RYt=function(t){return this.jYt.gr(t,LJ)},n.PYt=function(t,n,i){for(var r=0,e=this.DYt;r<e.length;r++){var u=e[r].CUt,s=u.wvt;if(void 0!==s&&n>=s&&!u.O_.PB().gr(s))return!0}return n-t<i},n.g_=function(){this.zYt(),this.BYt()},n.zYt=function(){this.EYt.g_()},n.BYt=function(){this.kYt.g_(),this.IYt.forEach((function(t){return t.g_()}))},n.h_=function(){this.g_(),this.EYt.h_()},At(t,[{key:"IYt",get:function(){return this.DYt}},{key:"Mjt",get:function(){return this.EYt.Mjt}},{key:"tEt",get:function(){return this.EYt.tEt||this.kYt.tEt||this.DYt.some((function(t){return t.tEt}))}},{key:"NUt",get:function(){var t=this.xYt.NUt;if(t)return t;if(this.DYt.length>0){var n=this.DYt[0].CUt.NUt;if(n&&this.DYt.every((function(t){return t.CUt.NUt===n})))return n}}},{key:"OYt",get:function(){if(0===this.DYt.length)return BD.oU();for(var t=SJ(this.xYt.CFt.concat(this.xYt.jFt),wo(this.DYt,(function(t){return t.CUt.jnt}))).PB(),n=new BD([0,1/0]),i=0,r=this.DYt;i<r.length;i++){var e=r[i];n=n.Sn(e.CUt.O_)}for(var u=0,s=this.DYt;u<s.length;u++){var o=s[u];n=n.VB(o.OUt)}return(n=n.YB(t)).FB(LJ)}},{key:"jYt",get:function(){if(0===this.DYt.length)return BD.oU();for(var t=SJ(this.xYt.jFt,wo(this.DYt,(function(t){return t.CUt.jnt}))).PB(),n=new BD([0,1/0]),i=0,r=this.DYt;i<r.length;i++){var e=r[i];n=n.Sn(e.CUt.O_)}return n=n.YB(t)}}]),t}();wt(),C(),Mt();var jJ=function(t){function n(){return t.call(this,IZ.ajt)}return kt(n,t),n}(Jo);wt(),C(),Mt();var xJ=function(t){function n(){return t.call(this,IZ.ojt)}return kt(n,t),n}(Jo);wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt();var OJ="LazyMediaBuffer",zJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).z2=n,r.GYt=i,r.BO=void 0,r.xrt=void 0,r.FYt=new Cc,r.cX=20,r.UYt=!1,r.fX=30,r.P0=new LL,r}kt(n,t);var i=n.prototype;return i.oq=function(){return this.xrt?this.xrt.oq():this.UYt},i.B0=function(t,n){HZ.Xjt(OJ,"Marking gap from "+t+" to "+n+"."),this.P0.mq(t,n),this.xrt&&this.xrt.B0(t,n)},i.U0=function(t,n){HZ.Xjt(OJ,"Removing gap from "+t+" to "+n+"."),this.P0.pq(t,n),this.xrt&&this.xrt.U0(t,n)},i.QYt=function(t){this.xrt=t,this.xrt.rX=this.fX,this.xrt.iX=this.cX;for(var n,i=this.P0.wq,r=0;r<i.U;r++)this.xrt.B0(i.Cn(r),i.jn(r));this.UYt&&(HZ.Xjt(OJ,"End of stream"),null==(n=this.xrt)||n.x0());this.xrt.yn(wL.CZ,this.Ds),this.FYt.LL(t)},i.YYt=function(t){return zo(this.FYt.OL,t)},i.V$=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return[4,r.YYt(i)];case 1:return[4,e.sent().V$(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.Q0=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.YYt()];case 1:return[4,n.sent().Q0()];case 2:return n.sent(),[2]}}))}))()},i.X$=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return[4,r.YYt(i)];case 1:return[4,e.sent().X$(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.rS=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return[4,r.YYt(i)];case 1:return[4,e.sent().rS(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.u0=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,i.YYt()];case 1:return[4,r.sent().u0(t,n)];case 2:return r.sent(),[2]}}))}))()},i.x0=function(){this.UYt=!0,this.xrt&&this.xrt.x0()},i.FZ=function(t){return!!this.xrt&&this.xrt.FZ(t)},i.GZ=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.YYt()];case 1:return[4,i.sent().GZ(t)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){return t.Vo(),null==(n=t.xrt)||n.fn(wL.CZ,t.Ds),[2]}))}))()},At(n,[{key:"Nz",get:function(){return this.BO}},{key:"O0",get:function(){return this.z2}},{key:"wd",get:function(){if(!this.xrt)throw new Fv(Qv.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.xrt.wd}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t,this.xrt&&(this.xrt.iX=t)}},{key:"O_",get:function(){return this.xrt?this.xrt.O_:BD.oU()}},{key:"R0",get:function(){return this.xrt?this.xrt.R0:this.P0.wq}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t,this.xrt&&(this.xrt.rX=t)}}]),n}(Xo),RJ="LazyMediaSource",BJ=function(){function t(t,n,i){this.Fm=t,this.VYt=void 0,this.WYt=void 0,this.JYt=new Cc,this.yz=void 0,this.KYt=!1,this.jx=NaN,this.B7=!1,this.HYt=0,this.XYt=1/0,this.ZYt=!1,this.qYt=!1,n&&(HZ.Xjt(RJ,"Created lazy media buffer for audio."),this.VYt=new zJ(zA.WA,this)),i&&(HZ.Xjt(RJ,"Created lazy media buffer for video."),this.WYt=new zJ(zA.VA,this))}var n=t.prototype;return n.P1=function(t){this.jx=t,this.yz&&this.yz.P1(t)},n.x0=function(){this.B7=!0,this.yz&&this.yz.x0()},n.M0=function(){this.B7=!1,this.yz&&this.yz.M0()},n.Q1=function(t,n,i,r){this.HYt=t,this.XYt=n,this.ZYt=Boolean(i),this.qYt=Boolean(r),this.yz&&this.yz.Q1(t,n,i,r)},n.FZ=function(t){return!this.yz||this.yz.FZ(t)},n.GZ=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:if(!n.FZ(t))throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");return n.yz?[3,2]:(n.Fm.z6(),[4,n.Fm.$n(t)]);case 1:return e=u.sent(),A(n.jx)||e.P1(n.jx),n.B7&&e.x0(),e.Q1(n.HYt,n.XYt,n.ZYt,n.qYt),HZ.Xjt(RJ,"The MediaSource has been loaded."),n.KYt=!0,n.yz=e,null==(i=n.VYt)||i.QYt(n.yz.I1),null==(r=n.WYt)||r.QYt(n.yz.D1),n.JYt.LL(e),n.Fm.B6(),[3,4];case 2:return[4,n.yz.GZ(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},At(t,[{key:"wd",get:function(){return{Av:ek.Sj,F1:[],Iz:[]}}},{key:"I1",get:function(){return this.VYt}},{key:"D1",get:function(){return this.WYt}},{key:"O_",get:function(){return this.yz?this.yz.O_:BD.oU()}},{key:"ct",get:function(){return this.yz?this.yz.ct:this.jx}},{key:"oq",get:function(){return!!this.yz&&this.yz.oq}},{key:"Ig",get:function(){return this.yz?this.yz.Ig:new BD([0,1/0])}}]),t}();function PJ(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=QJ(i,"tag"),a=QJ(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}wt(),C();PJ((function(t,n){return"*"===n||t===n||Ss(t,n+"-")}),!0),PJ((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var UJ=PJ((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function QJ(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!=typeof i||!("length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}wt(),C(),Ot(),mt(),Pt(),wt(),C();var YJ,GJ=16384,FJ=71,VJ=188,WJ=2,XJ=3;function ZJ(t){return HJ(t)?1:function(t){return function(t){if(t.length<WJ*VJ)return-1;for(var n=t.length<XJ*VJ?WJ:XJ,i=g.min(1e3,t.length-n*VJ),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*VJ]!==FJ){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==Ax(kc(t),new Ec)}(t)?3:0}function HJ(t){var n=pc(t,0,g.min(t.length,GJ));return i_.Xy(kc(n))}!function(t){t[t.jT=0]="jT",t[t.Tp=1]="Tp",t[t.$Yt=2]="$Yt",t[t.tGt=3]="tGt"}(YJ||(YJ={}));var KJ=function(){function t(t,n,i,r){this.z2=t,this.xrt=n,this.Avt=i,this.sxt=r}var n=t.prototype;return n.iGt=function(t){return this.xrt===t},n.X$=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return i.xrt.wd.Nz===t.NYt.$nt?[3,2]:(r={Nz:t.NYt.$nt},i.xrt.FZ(r)?[4,i.xrt.GZ(r)]:[3,2]);case 1:e.sent(),jo(n),e.label=2;case 2:return[4,i.xrt.X$(t.ly,{y$:t.Mjt.Xw},n)];case 3:return e.sent(),void 0!==i.sxt&&i.z2===zA.VA&&HJ(t.ly.ly)&&i.sxt.Grt(t.ly.ly),[2]}}))}))()},n.V$=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:return jo(n),HZ.IM("HlsMediaBuffer","Got media data, appending to "+i.z2+" MediaBuffer: "+pH(t.VUt.Jpt)),r=t.KFt,e=t.JFt,u={F7:t.MS,ct:t.ct,pI:t.pI,y$:t.Mjt.Xw},void 0===t.ly?[3,2]:[4,i.xrt.V$(t.ly,u,n)];case 1:s.sent(),i.eGt(t.ly,t),s.label=2;case 2:return i.sGt(r,e),[2]}}))}))()},n.eGt=function(t,n){var i;if(HJ(t.ly)){var r=n.MS,e=r+n.ct,u=n.pI;if(null==(i=this.Avt)||i.elt(t.ly,r,u),void 0!==this.sxt&&this.z2===zA.VA){var s=n.VUt.GPt;this.sxt.elt(t.ly,r,e,u,n.Mjt,s)}var o=[];void 0!==this.Avt&&o.push(this.Avt),void 0!==this.sxt&&o.push(this.sxt),H_(this.O_,o)}},n.sGt=function(t,n){for(var i=this.xrt.O_,r=new BD([t,n]).VB(i),e=0;e<r.U;e++)this.xrt.B0(r.Cn(e),r.jn(e));for(var u=0;u<i.U;u++)this.xrt.U0(i.Cn(u),i.jn(u))},n.B0=function(t,n){this.xrt.B0(t,n)},n.U0=function(t,n){this.xrt.U0(t,n)},At(t,[{key:"Av",get:function(){return this.z2}},{key:"O_",get:function(){return this.xrt.O_}},{key:"R0",get:function(){return this.xrt.R0}}]),t}();function JJ(t){if(t.Av===fH.kRt&&void 0!==t.vjt){var n=t.vjt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.vjt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}wt(),C(),wt(),C(),wt(),C();var qJ=function(){function t(t){this.yz=t}var n=t.prototype;return n.lRt=function(t){var n,i,r;return null==(r=null==(i=this.yz)||null==(n=i.D1)?void 0:n.FZ(t))||r},n.dRt=function(t){var n,i,r;return null==(r=null==(i=this.yz)||null==(n=i.I1)?void 0:n.FZ(t))||r},t}(),$J="LLHLSPlayer",tq=[uk.Am,uk.ym,uk.Mm,uk.Nw],nq=[dd.qv,dd.Iv,dd.zv,dd.Rv],iq=2e3,rq=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).wU=r,c.vU=e,c.KUt=u,c.QGt=s,c.oVt=Ku(),c.xGt=!0,c.LGt=!0,c.SGt=!1,c.yGt=void 0,c.yz=void 0,c.Cvt=void 0,c.dE=new So,c.kSt=void 0,c.iVt=void 0,c.sVt=void 0,c.nVt=void 0,c.uGt=void 0,c.rGt=void 0,c.nGt=void 0,c.vGt=void 0,c.$Gt=void 0,c.bVt=[],c.O1=void 0,c.j1=void 0,c.jGt=void 0,c.hGt=void 0,c.hVt=void 0,c.UGt=void 0,c.TVt=new So,c.DGt=void 0,c.L5=new So,c.x5=void 0,c.gGt=-1,c.KVt=void 0,c.$Vt=void 0,c.eWt=void 0,c.qVt=void 0,c.JVt=void 0,c.iWt=void 0,c.KMt=!0,c.dVt=0,c.lVt=!1,c.Az=CD.yB,c.vz=void 0,c.mz=void 0,c.U1=BD.oU(),c.AWt=[],c.MGt=void 0,c.bGt=void 0,c.SSt=!1,c.v5=!1,c.TNt=void 0,c.SNt=0,c.NNt=0,c.TGt=void 0,c.NGt=0,c.rSt=!1,c.cWt=!1,c.PGt=DN.LT,c.dLt=void 0,c.yWt=void 0,c.KTt=0,c.handleContentProtectionErrorEvent=function(t){c.vz=YA(t.errorObject),c.mz=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){c.rB(new Fv(Qv.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},c.gWt=function(){c.Jzt();var t=c.ct;t!==c.TNt&&(c.TNt=t,c.Co(new oD(c.TNt)))},c.Mh=function(){c.G_&&c.Co(new cD(c.U_))},c.dOt=function(){c.Co(new uD(c.U_))},c.wWt=function(){c.STt(),c.Co(new sD(c.U_))},c.Vm=function(){void 0!==c.yWt&&(on.p_(c.yWt),c.yWt=void 0),c.Co(new gk(c.U_))},c.vWt=function(){c.Co(new DL(c.U_))},c.Yj=function(){c.Co(new ck(c.U_,c.Sg))},c.J4=function(){var t=c.Njt;go(c.AWt,t)||(c.Co(new VK),c.AWt=t),c.Co(new nA(c.U_,c.R_))},c.zVt=Jn((function(t){t.$D===zA.VA&&c.oGt()&&Qo(c.aGt())}),200),c.BVt=function(t){var n;c.KTt+=t.PQt;var i=c.rt.U>0?t.$D===zA.VA:t.$D===zA.WA;"nut"===t.RQt&&i&&Qo(c._Vt()),c.Co(new _P(function(t){if(t){if(void 0!==t.Dyt){var n,i,r=t.Dyt.Cn+(null!=(i=t.Dyt.U)?i:0);return{zu:t.lT,Sat:[null==(n=t.Dyt)?void 0:n.Cn,r],tE:!0}}return{zu:t.lT.toString()||"",tE:!0}}return{zu:"",tE:!0}}(t.uri),(null==(n=c.bjt)?void 0:n.GP)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.$D,t.httpStatusCode,t.PQt))},c.We=function(){c.Co(new hD(c.U_))},c.Vz=function(){c.Co(new fD(c.U_))},c.mWt=function(){c.mSt()},c.pWt=function(){c.Co(new vD(c.U_,c.zg))},c.fWt=function(){c.Fm.Eg?c.Co(new vk(c.U_)):(null!=c.yWt||(c.yWt=on.A_((function(){c.cWt&&(c.dLt=void 0,Qo(c.lGt()))}),2500)),c.STt(),c.Co(new vk(c.U_)))},c._Wt=function(){c.cWt=!0,c.Co(new dk(c.U_,c.Sg))},c.EGt=function(t){Co(t)||by(t)||Ty(t)||(c.EVt(),Qo(c.LVt()),c.Co(new nH(t)))},c.SUt=function(){c.Jzt()},c.zGt=function(t){Qo(c.yVt(t.Mjt,c.dE.f_))},c.pmt=function(t){if(!Co(t)){var n=t instanceof Fv?t:new Fv(Qv.MEDIA_DECODE_ERROR,t.message,t);c.rB(n)}},c.onTextTrackChange=function(t){if(c.uGt){var n=t.Lt,i=c.rVt(n);i&&(n._v===h_.vv||n._v===h_.Jn?(Qo(c.AVt(i)),c.oVt.forEach((function(t){t!==n&&(t._v=h_.Ch)}))):c.vGt&&c.vGt===i&&Qo(c.RGt(c.rGt,c.nGt,void 0)))}};var h=Vt(c);return c.retryOfflineRenditionsCallback=xt((function(t,n){return zt(this,(function(i){switch(i.label){case 0:return h.wGt!==t&&h.Pjt!==t&&h.Bjt!==t?[2]:[4,h.kSt.cUt(t,n)];case 1:return i.sent(),t.djt.Uzt=-1/0,[2]}}))})),c.kNt=function(){c._Tt()},c.LNt=function(){c.gTt()},c.UVt=function(t){var n=c.uGt,i=null==n?void 0:n.xPt;if(c.kSt.MUt(t.$nt,t.Mjt.djt),!i&&(c.kSt.bUt(t.$nt,t.Mjt.djt),c.GGt.eRt(),n)){var r=void 0!==c.rGt&&!fo(n.Jjt,c.rGt),e=void 0!==c.nGt&&!fo(n.$jt,c.nGt);(r||e)&&c.RGt(r?void 0:c.rGt,e?void 0:c.nGt,c.vGt).catch(Hn)}},c.QVt=function(t){c.GGt.rRt(t.Mjt,t.Adt)},c.FVt=function(t){c.GGt.hRt(t.Mjt,t.rYt.JS())},c.YVt=function(t){c.kSt.AUt(t.Mjt)},c.rut=new lV(o),c.Fm=n,c.aE=i,c.Sz=new tH(c.wU.VH),c.mVt=new iH(c.Fm),c.gVt=new wH(c.wU),c.Mlt=a.retryConfiguration,c.YT=new RA,c.VT=new RA,c.GGt=new $Z(Vt(c),c.wU,c.YT,c.VT),c.cVt=new j_,c.Rz=new q_(c.Fm,c.aE),c.Avt=new vV(c.Fm),c.sxt=new QQ(c.Fm),c.Dl=new dT([c.cVt,c.Rz.Z,c.Avt.Z,c.sxt.Z,c.Fm.nt]),c.Lz=new fT(c.aE),c.Fm.Qz=c.Lz,c.DNt=new uq(Vt(c),c.Fm),c.uWt=new yk(c.DNt,!0),c.dWt(),c}kt(n,t);var i=n.prototype;return i.oGt=function(){if(void 0===this.hGt)return!1;var t=on.m_();if(!this.hGt.EYt.LFt(t))return!1;var n=this.hGt.EYt.IFt();if(void 0===n||void 0===n.nut.ct)return!1;var i=this.U_,r=this.gg,e=this.hGt.OYt.Jm(i);return!((void 0!==e?e.jn(0)-i:0)>=2*n.nut.ct*r)&&(n.DFt>0&&0===n.EFt?n.kFt>1e3*n.nut.ct*.8:8*n.EFt/this.wU.VH.GP>=1.8*n.nut.ct)},i.aGt=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return[4,t.gRt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.hGt)?void 0:n.EYt.IFt())?[2]:(e=t.uGt,r.EFt>0&&(u=g.max(0,r.EFt-r.DFt),s=r.EFt*(i.GP/e.GP),u<=s)?[2]:(o=i.GP<e.GP,[4,t.Djt(i,{Ejt:o})]));case 2:return a.sent(),[2]}}))}))()},i.cGt=function(t){return yo(t,(function(t){return t.GP}))},i.lGt=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return[4,t.dGt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.fGt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.cGt(n))?[3,4]:[4,t.Djt(r,{Ejt:!0})];case 3:e.sent(),t.Sz.jDt(r.GP),e.label=4;case 4:return[2]}}))}))()},i.F_=function(t,n){var i,r,e,u,s=this;HZ.IM($J,"Seeking to "+t+" s.");var o={pGt:null!=(r=null==n?void 0:n.pGt)?r:t===1/0,AGt:null==(e=null==n?void 0:n.AGt)||e,lPt:null!=(u=null==n?void 0:n.lPt)&&u};this.MGt=t,this.bGt=o,this.TGt=!0,this.SSt=!0,null==(i=this.fz)||i.Zg(),this.Co(new hD(t)),this.L5.g_(),this.SGt&&(on.p_(this.NGt),o.AGt?this.NGt=on.A_((function(){return s.IGt(t,o)}),50):this.IGt(t,o))},i.IGt=function(t,n){on.p_(this.NGt);var i=[this.Cvt,this.DGt,this.x5].filter(zn);this.L5=new So,this.L5.w_(this.dE.f_),this.x5=this.C5(i,t,n,this.L5.f_).catch(this.EGt)},i.Jzt=function(){var t=function(t){if(0===t.length)return BD.oU();for(var n=new BD([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].djt.Ig;e.U>0&&(n=n.Sn(e),i=g.max(i,e.Cn(0)))}if(n.U>0)return n;return BD.nU(i)}([this.rGt,this.nGt].filter(zn));0!==t.U&&(this.yz&&this._Gt&&this.yz.ct!==1/0&&(t=new BD([t.Cn(0),this.yz.ct])),this.U1=t,this.LGt&&this.Avt.wD(t.Cn(0)),this.xGt&&this.sxt.wD(t.Cn(0)))},i.qg=function(){return!1},i.Gg=function(){return this.Fm.ya},i.be=function(){HZ.IM($J,"Hiding the player."),this.Fm.be()},i.Hg=function(){var t;HZ.IM($J,"Pausing the player."),this.Fm.Hg(),(null==(t=this.fz)?void 0:t.Lm)&&this.fz.Zg()},i.Xg=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return t.v5=!0,n=t.Fm.Xg(),t.G_&&(i=t.ZTt).U>0&&t.F_(i.Cn(0),{AGt:!1}),t.SGt?[3,2]:[4,t.kGt()];case 1:r.sent(),r.label=2;case 2:return t.STt(),[4,n];case 3:return r.sent(),t.NSt(),[2]}}))}))()},i.STt=function(){var t;if(!this.XTt())if(null==(t=this.bjt)?void 0:t.djt.bPt){var n,i=!0,r=0,e=null==(n=this.uGt)?void 0:n.djt.Cn;if(!this.SSt&&e&&(i=!e.lPt,(r=e.cPt)<0)){var u=this.bjt.djt.Mzt;r+=u.jn(u.U-1)}this.IGt(r,{pGt:i})}else this.IGt(1/0,{pGt:!0});this.CGt()&&this.IGt(1/0,{pGt:!0})},i.XTt=function(){var t,n=this.ZTt;if(0===n.U)return!0;var i=null==(t=this.OGt)?void 0:t.WB(this.U_);return(i&&i>0?this.OGt.jn(i):this.U_)>=n.Cn(0)},i.CGt=function(){return dq(this.U_,this.rGt)||dq(this.U_,this.nGt)},i.hNt=function(){this.vz=void 0,this.mz=void 0},i.rB=function(t){this.vz||(Qo(this.tr()),this.vz=YA(t),this.mz=t,this.Co(new uT(t)))},i.ge=function(){HZ.IM($J,"Showing the player."),this.Fm.ge()},i.Kg=function(){throw new v("Not implemented")},i.Jg=function(){throw new v("Not implemented")},i.$g=function(){},i.iw=function(){this.SGt&&Qo(this.RGt(this.rGt,this.nGt,this.vGt,{iw:!0}))},i.ga=function(t,n,i){var r=this;return xt((function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return HZ.IM($J,"Setting the player source to "+t.src+"."),r.hNt(),!r.yGt||JN(r.yGt)?[3,2]:[4,r.tr()];case 1:a.sent(),jo(i),a.label=2;case 2:return!t.src||JN(t)||(r.dE=new So,r.Lz.HP(t.contentProtection),r.yGt=t,r.PGt=t.seamlessSwitchStrategy,r.xGt=!fo(t.ignoreEmbeddedTextTrackTypes,cm.CEA608),r.LGt=!fo(t.ignoreEmbeddedTextTrackTypes,cm.EMSG),r.yn(IZ.cjt,r.handleBufferingErrorEvent),s=null!=(u=null==(e=t.latencyConfiguration)?void 0:e.targetOffset)?u:t.liveOffset,r.kSt=new PK(r.aE,r.rut,t.useCredentials,on.wp(t.src),s),r.kSt.yn(zK.WBt,r.SUt),r.kSt.yn(zK.HBt,r.zGt),r.kSt.yn(dd.Gv,r.Ds),r.kSt.yn(dd.Vv,r.Ds),t.hlsDateRange&&(r.BGt=new FK(r.kSt,r.Fm),r.Dl.tz(r.BGt.nt)),null!=r.UGt||(r.UGt=r.QGt.G7()),n.textTracks&&r.xz(n.textTracks),t.latencyConfiguration&&(o=t.latencyConfiguration,r.fz=new gV(r,r.Fm,o),r.fz.Rt=!0,r.Qg.ka(r.fz)),rk(r.Dl),r.kGt()),[2]}}))}))()},i.kGt=function(){return this.Cvt=this.FGt(this.Cvt,this.dE.f_).catch(this.pmt),this.Cvt},i.FGt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),jo(n),e.label=2;case 2:return i.kSt?(r=i.Az)===CD.LT||i.v5?[4,i.nst(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==CD.ZA?[3,6]:[4,i.YGt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.YGt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:if(void 0===n.kSt||n.rSt)return[2];if(n.kSt.qBt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.kSt.eUt(t)];case 2:return a.sent(),[3,4];case 3:throw xo(i=a.sent()),n.cg=!1,new Fv(Qv.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.GGt.Eot(),a.label=5;case 5:return[4,n.VGt()];case 6:return r=a.sent(),n.WGt(r),e=n.HGt(r.Jjt),u=n.XGt(r.$jt),(s=n.ZGt(r.OPt))||(o=oq(r.jPt))&&(HZ.IM($J,"Detected initial closed caption rendition."),n.qGt(r,o)),[4,n.RGt(e,u,s,{KGt:!0})];case 7:return a.sent(),n.rSt=!0,n.DNt.CNt(),n.JGt(),[2]}}))}))()},i.JGt=function(){var t,n=[this.rGt,this.nGt].filter(zn);if(!n.some((function(t){return t.djt.bPt}))&&!this.fz){var i=(t=g).max.apply(t,Lt(n.map((function(t){var n;return null!=(n=t.djt.nbt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:QT,maximumPlaybackRate:YT};this.fz=new gV(this,this.Fm,r),this.vU.ka(this.fz)}},i.VGt=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:if(t.$Gt=t.kSt.Tr.Kjt,!t.$Gt.length)throw new Fv(Qv.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.tVt(t.$Gt)];case 1:if(0===(n=r.sent()).length)throw new Fv(Qv.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.fGt(n)];case 2:return(i=r.sent()).length>0&&(n=i),HZ.IM($J,"Selecting initial active variant stream."),[2,aq(n,t.yGt.abr,t.wU,t.Mlt.maximumBackoff)]}}))}))()},i.HGt=function(t){if(this.iVt){var n=this.eVt(this.iVt);if(n)return n}return hq(t)},i.XGt=function(t){if(this.sVt){var n=this.eVt(this.sVt);if(n)return n}return hq(t)},i.ZGt=function(t){for(var n=0,i=this.Dl.Rw;n<i.length;n++){var r=i[n];r._v===h_.Jn&&(this.nVt=this.rVt(r))}if(this.nVt){var e=this.eVt(this.nVt);if(e)return e}return oq(t)},i.rVt=function(t){var n=this;return ro(this.uGt.OPt,(function(i){return t===n.oVt.get(i.Xw)}))},i.nst=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.SGt?[2]:[4,n.YGt(t)];case 1:return i.sent(),jo(t),n.SGt=!0,[4,n.RGt(n.rGt,n.nGt,n.vGt,{KGt:!0})];case 2:return i.sent(),[2]}}))}))()},i.xz=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.Rz.nE(i)}},i.qGt=function(t,n){if(this.xGt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=JJ(r);void 0!==e&&n.push({M8:e,b8:r.gs||"",kh:r.l})}return n}(t.jPt),r=0;r<i.length;r++){var e=i[r];this.sxt.Qwt(e)}if(void 0!==n){var u=JJ(n);this.sxt.Bwt(u)._v=h_.Jn}}},i.Ijt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.aVt(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.$Gt=t},i.aVt=function(t){var n=this.Tr;return!!n&&fo(n.Kjt,t)},i.eVt=function(t){if(t&&this.uGt)return ro(this.uGt.nRt,(function(n){return n===t}))},i.WGt=function(t){var n;if(HZ.IM($J,"Setting active variant stream."),this.uGt!==t){var i=(null==(n=this.uGt)?void 0:n.RRt)!==(null==t?void 0:t.RRt);if(this.uGt&&i)for(var r=0,e=this.uGt.OPt;r<e.length;r++){var u=e[r];this.fE(u)}if(this.uGt=t,this.Co(new jJ),this.mSt(),t&&i)for(var s=0,o=t.OPt;s<o.length;s++){var a=o[s];this.uVt(a)}}},i.uVt=function(t){var n=this.Fm.rE(C_.HA,void 0,t.l,t.gs,t.fjt,void 0,void 0,t.pjt.map(XZ).filter(zn));n.yn(cA.ra,this.onTextTrackChange),this.oVt.set(t.Xw,n),this.cVt.tt(n)},i.fE=function(t){var n=this.oVt.get(t.Xw);n&&(n.fn(cA.ra,this.onTextTrackChange),this.cVt.it(n),this.oVt.delete(t.Xw),this.Fm.fE(n))},i.dGt=function(){var t=this;return xt((function(){var n,i,r,e;return zt(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.$Gt)?n:t.Tr.Kjt).length||t.$Gt?1!==i.length||t.$Gt?[4,t.tVt(i)]:(HZ.IM($J,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(HZ.IM($J,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(HZ.Zjt($J,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=fq(r,t.Mlt.maximumBackoff)).length?[3,3]:t.lVt?[2,[]]:(HZ.Zjt($J,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.dVt++,[4,t.fVt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i._Vt=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return[4,t.gRt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.uGt&&n.GP<t.uGt.GP,[4,t.Djt(n,{Ejt:i})]);case 2:return r.sent(),[2]}}))}))()},i.gRt=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return[4,t.dGt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=yX(t.Fm),[4,t.fGt(r)]);case 2:return u=c.sent(),s={ji:t.Fm.ji,Ti:t.Fm.Ti,cRt:e,Xct:null==(i=t.yGt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.gVt.gRt(r,t.uGt,u,s,new qJ(t.yz))];case 3:return o=c.sent(),a=!!t.uGt&&o.GP<t.uGt.GP,[2,a||t.wVt(o,e)?o:void 0]}}))}))()},i.wVt=function(t,n){var i;if(t===this.bjt)return!1;var r=this.bjt&&vq(this.bjt,this.Mlt.maximumBackoff),e=vq(t,this.Mlt.maximumBackoff);if(!r&&e)return!0;(!this.dLt||this.dLt.Tjt.GP>t.GP)&&(this.dLt={Tjt:t,$dt:on.m_()});var u,s=on.m_()-this.dLt.$dt,o=null!=(u=null==(i=this.Bjt)?void 0:i.djt.uRt)?u:1/0;return n>=g.max(o-1,5)||s>1e3},i.fVt=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:n.lVt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.nGt?ro(e.$jt,(function(t){return OZ(t,n.nGt)})):void 0)?[3,5]:[4,n.cUt(u)];case 3:return s.sent(),u.djt.Uzt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.dVt=0,[4,n.vVt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.dVt>=n.Mlt.maxRetries?(n.rB(new Fv(Qv.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Fo(g.min(n.Mlt.minimumBackoff*g.pow(2,n.dVt-1),n.Mlt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.lVt=!1,[4,n._Vt()];case 11:return s.sent(),[2]}}))}))()},i.tVt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,ko(t,xt((function(t){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.$nt)?void 0:i.mkt)?'audio/mp4; codecs="'+t.$nt.mkt+'"':void 0,(null==(r=t.$nt)?void 0:r.Akt)?'video/mp4; codecs="'+t.$nt.Akt+'"':void 0].filter(zn)).length?[2,!0]:[4,n.mVt.dq(u,null==(e=n.yGt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.$nt)?void 0:n.Akt}))&&(i=i.filter((function(t){return!t.$nt||t.$nt.Akt||0!==t.$jt.length}))),i.some((function(t){var n;return null==(n=t.$nt)?void 0:n.mkt}))&&(i=i.filter((function(t){return!t.$nt||t.$nt.mkt||0!==t.Jjt.length}))),[2,i]}}))}))()},i.fGt=function(t){var n=this;return this.kSt.JBt?ko(t,(function(t){return function(t,n){return To.apply(this,arguments)}([hq(t.Jjt),hq(t.$jt),oq(t.OPt),oq(t.jPt)].filter(zn),(function(t){return n.pVt(t)}))})):K.resolve([])},i.pVt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:if(0===t.djt.jnt.length)return[2,!1];if(!(i=t.djt.jnt[0]).Jpt)return[2,!1];r=i.Jpt,e=r.Dyt?yH(r.Dyt.Cn,r.Dyt.U):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.rut.wnt(r.lT,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.Djt=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:if(!i.SGt)throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.aVt(t))throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.uGt?(HZ.IM($J,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.rGt?ro(t.Jjt,(function(t){return OZ(t,i.rGt)})):void 0,e=i.nGt?ro(t.$jt,(function(t){return OZ(t,i.nGt)})):void 0,u=i.vGt?ro(t.OPt,(function(t){return OZ(t,i.vGt)})):void 0,i.WGt(t),i.dLt=void 0,[4,i.RGt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.zjt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(!n.uGt)return n.iVt=t,[2];if(i=n.eVt(t),t&&!i)throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.Pjt===i?[2]:(HZ.IM($J,"Switching audio rendition"),[4,n.RGt(i,n.nGt,n.vGt,{Ljt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.Ujt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(!n.uGt)return n.sVt=t,[2];if(i=n.eVt(t),t&&!i)throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.Bjt===i?[2]:(HZ.IM($J,"Switching video rendition"),[4,n.RGt(n.rGt,i,n.vGt,{kjt:!0})]);case 1:return r.sent(),[2]}}))}))()},i.AVt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(!t)throw new v("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.rSt)return n.nVt=t,[2];if(!(i=n.eVt(t)))throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return HZ.IM($J,"Switching subtitle rendition"),[4,n.RGt(n.rGt,n.nGt,i)];case 1:return r.sent(),[2]}}))}))()},i.yVt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return i.lVt?[2]:(r=0===i.rt.U,t.Av===fH.VA||t.Av===fH.WA&&r?[3,2]:[4,i.MVt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.$Gt&&i.$Gt.length<=1?t.Av!==fH.VA||i.nGt===t?[3,4]:[4,i.RGt(i.rGt,t,i.vGt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.Av===fH.WA&&r&&i.rGt!==t?[4,i.RGt(t,i.nGt,i.vGt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.MVt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i._Vt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.cUt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.kSt.cUt(t,n)];case 1:return e.sent(),[3,5];case 2:return xo(r=e.sent()),by(r)||Ty(r)?[4,i.yVt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.MVt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:if(fo(i.bVt,t))return[2];i.bVt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.Av===fH.HA||t.Av===fH.kRt?1/0:i.Mlt.maxRetries,[4,dD((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.Mlt.minimumBackoff,i.Mlt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.rB(new Fv(Qv.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return ao(i.bVt,t),t.djt.Uzt!==-1/0?[3,6]:[4,i.vVt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.RGt=function(t,n,i,r){void 0===r&&(r={});var e={Ejt:r.Ejt||!1,Ljt:r.Ljt||!1,kjt:r.kjt||!1,iw:r.iw||!1,KGt:r.KGt||!1};return e.KGt||e.iw||this.rGt!==t||this.nGt!==n||this.vGt!==i?void 0===t&&void 0===n?K.reject(new v("Trying to buffer no media renditions.")):(this.rGt=t,this.nGt=n,this.vGt=i,this.Jzt(),this.Co(new xJ),this.L5.g_(),this.L5=new So,this.L5.w_(this.dE.f_),this.TVt.g_(),this.TVt=new So,this.TVt.w_(this.dE.f_),this.DGt=this.SVt([this.DGt,this.x5].filter(zn),t,n,i,e,this.TVt.f_).catch(this.EGt),this.DGt):K.resolve()},i.NVt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){return(o=[]).push(e.IVt(n,r)),zZ(t,n)||o.push(e.IVt(t,r)),(null==(s=e.yGt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,K.all(o).then((function(){return e.IVt(i,r)}))]:(a=e.IVt(i,r),[2,K.all(Lt(o).concat([a]))])}))}))()},i.IVt=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.kSt.cUt(t,n)];case 2:return e.sent(),[3,6];case 3:return xo(r=e.sent()),by(r)||Ty(r)?[4,i.DVt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.DVt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return i.lVt?[2]:(r=0===i.rt.U,t.Av===fH.VA||t.Av===fH.WA&&r?[3,2]:[4,i.MVt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.$Gt&&i.$Gt.length<=1?[4,i.MVt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.VGt()];case 5:return e=a.sent(),i.WGt(e),u=i.HGt(e.Jjt),s=i.XGt(e.$jt),o=i.ZGt(e.OPt),[4,i.RGt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.SVt=function(t,n,i,r,e,u){var s=this;return xt((function(){var o,a,c,h,f,v,d,l;return zt(this,(function(g){switch(g.label){case 0:return s.SGt?[3,2]:[4,s.NVt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,K.all(t.map((function(t){return t.catch(Hn)})))];case 3:return g.sent(),s.EVt(),[4,s.kVt(u)];case 4:return g.sent(),[4,s.LVt()];case 5:return g.sent(),a=[],e.Ljt&&s.yz&&s.yz.I1&&a.push(s.yz.I1.rS(0,1/0)),e.kjt&&s.yz&&s.yz.D1&&a.push(s.yz.D1.rS(0,1/0)),[4,K.all(a)];case 6:return g.sent(),jo(u),[4,s.xVt(n,i,e.iw,u)];case 7:c=g.sent(),s.CVt(n,i,e.Ejt||c),s.OVt(r,e.Ejt),jo(u),h=[i,zZ(n,i)?void 0:n,r].filter(zn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,K.all(h.filter((function(t){return!t.djt.Czt})).map((function(t){var n;return null==(n=s.kSt)?void 0:n.lUt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return xo(g.sent()),[3,11];case 11:return jo(u),s.B1(),s.Jzt(),void 0!==s.MGt?s.IGt(s.MGt,s.bGt):!s.SSt&&(null==(o=s.uGt)?void 0:o.djt.Cn)?(f=s.uGt.djt,v=f.Cn,d=v.cPt,v.cPt<0&&(l=f.Mzt,d+=l.jn(l.U-1)),s.IGt(d,{pGt:!v.lPt})):!s.SSt&&h.every((function(t){return!t.djt.bPt}))?s.IGt(1/0,{pGt:!0}):s.mGt.length>0&&s.jVt(),[2]}}))}))()},i.xVt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a,c,h,f,v,d,l;return zt(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.RVt(t,n,e.uGt)];case 1:return c=g.sent(),jo(r),i||!e.yz||c?(h=void 0!==(null==(u=e.yz)?void 0:u.I1),f=void 0!==(null==(s=e.yz)?void 0:s.D1),v=o!==h||a!==f,!i&&!v&&c&&e.yz&&e.yz.FZ(c)?[4,e.kVt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.yz.GZ(c)];case 3:return g.sent(),[2,!0];case 4:for(d=0,l=e.mGt;d<l.length;d++)l[d].IYt.forEach((function(t){return t.g_()}));e.Fm.z6(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.yz?[4,e.Fm.tr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.PVt(c,o,a)];case 8:return e.yz=g.sent(),[3,10];case 9:return e.Fm.B6(),[7];case 10:return[2,!0]}}))}))()},i.RVt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p,_;return zt(this,(function(k){switch(k.label){case 0:if(s=i.$nt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.$nt)?void 0:a.mkt)?c:null==s?void 0:s.mkt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',HZ.IM($J,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(l=null!=(d=null==(v=n.$nt)?void 0:v.Akt)?d:null==s?void 0:s.Akt))return[2,void 0];g='video/mp4; codecs="'+l+'"',HZ.IM($J,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(HZ.Zjt($J,"No codecs found on the active variant stream."),[2,void 0]):(y=null!=(w=null==n||null==(e=n.djt.jnt[0])?void 0:e.fPt)?w:[],m=null!=(A=null==t||null==(u=t.djt.jnt[0])?void 0:u.fPt)?A:[],p=r.kSt.Tr,[4,TH(r.yGt.contentProtection,o,p.LBt.concat(m).concat(y),r.aE,r.yGt.useCredentials)]);case 1:return _=k.sent(),[2,{Av:ek.Sj,F1:o.map((function(t){return{Nz:t}})),Iz:_,t2:r.yGt.useManagedMediaSource}]}}))}))()},i.PVt=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){switch(u.label){case 0:return t?[4,r.Fm.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new BJ(r.Fm,n,i),u.label=3;case 3:return r.yz=e,r.B1(),r._Tt(),r.gTt(),[2,e]}}))}))()},i.B1=function(){var t=this.yz;if(t&&A(t.ct)){var n,i,r,e=null!=(r=null==(n=this.rGt)?void 0:n.djt.ct)?r:null==(i=this.nGt)?void 0:i.djt.ct;void 0!==e&&e>0&&t.P1(e)}this.Jzt()},i._Tt=function(){var t=this.yz;t&&(t.D1&&(t.D1.iX=this.wU.lX),t.I1&&(t.I1.iX=this.wU.lX))},i.gTt=function(){var t=this.yz;t&&(t.D1&&(t.D1.rX=this.wU.rX),t.I1&&(t.I1.rX=this.wU.rX))},i.CVt=function(t,n,i){if(!this.yz)throw new v("Invalid state");this.yz.I1?this.O1&&this.O1.iGt(this.yz.I1)||(this.O1=new KJ(zA.WA,this.yz.I1,this.LGt?this.Avt:void 0,this.xGt?this.sxt:void 0)):this.O1=void 0,this.yz.D1?this.j1&&this.j1.iGt(this.yz.D1)||(this.j1=new KJ(zA.VA,this.yz.D1,this.LGt?this.Avt:void 0,this.xGt?this.sxt:void 0)):this.j1=void 0;var r,e=zZ(t,n);if(this.j1&&n){var u=e&&this.O1?[this.j1,this.O1]:[this.j1];this.hGt?this.hGt.Mjt!==n&&(i&&(this.hGt.g_(),this.hGt.xYt.kL()),this.hGt.zQt(n)):(this.hGt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.kT,f=new yJ(h),v=new dJ(zA.VA,t,r,f,e,u,s,c),d=n.map((function(t){return t.Av})),l=o.Qbt(f,r.Tr.kT,d),g=new CJ(v,f,l,a);return g.LYt(n),g}(n,u,this.Fm,this.kSt,this.aE,this.rut,this.KUt,this.UGt,this.wU,this.yGt.useCredentials),this.hGt.EYt.yn(fJ.OQt,this.zVt),this.hGt.EYt.yn(fJ.jQt,this.BVt),this.hGt.kYt.yn(bJ.iYt,this.UVt),this.hGt.kYt.yn(bJ.sYt,this.QVt),this.hGt.kYt.yn(bJ.nYt,this.FVt),this.hGt.kYt.yn(bJ.eYt,this.YVt)),this.hGt.LYt(u)}else{var s;null==(s=this.hGt)||s.h_(),this.hGt=void 0}this.O1&&t&&!e?(this.jGt?this.jGt.Mjt!==t&&(i&&(this.jGt.g_(),this.jGt.xYt.kL()),this.jGt.zQt(t)):(this.jGt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Tr.kT,f=new yJ(h),v=new dJ(zA.WA,t,r,f,e,u,s,c),d=o.Qbt(f,r.Tr.kT,[n.Av]),l=new CJ(v,f,d,a);return l.LYt([n]),l}(t,this.O1,this.Fm,this.kSt,this.aE,this.rut,this.KUt,this.UGt,this.wU,this.yGt.useCredentials),this.jGt.EYt.yn(fJ.jQt,this.BVt),this.jGt.kYt.yn(bJ.iYt,this.UVt),this.jGt.kYt.yn(bJ.eYt,this.YVt)),this.jGt.LYt([this.O1])):(null==(r=this.jGt)||r.h_(),this.jGt=void 0);this.GVt()},i.OVt=function(t,n){this.hVt&&(this.hVt.EYt.Mjt===t?n&&(this.hVt.g_(),this.hVt.xYt.kL()):(this.hVt.h_(),this.hVt=void 0));if(!this.hVt&&t){var i=this.oVt.get(t.Xw);i._v=h_.Jn,this.hVt=function(t,n,i,r,e,u,s){var o=i.Tr.kT,a=new pJ(n,o),c=new yJ(o),h=new dJ(zA.Ru,t,i,c,r,e,u,s),f=new EJ(c,o,zA.Ru),v=new CJ(h,c,f);return v.CYt(a),v}(t,i,this.kSt,this.aE,this.rut,this.KUt,this.yGt.useCredentials)}},i.GVt=function(){var t=[this.O1,this.j1].filter(zn).map((function(t){return t.Av}));this.kSt.Tr.kT.EBt(t)},i.C5=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return[4,K.all(t.map((function(t){return t.catch(Hn)})))];case 1:return c.sent(),jo(r),[4,e.LVt()];case 2:return c.sent(),jo(r),e.MGt=void 0,e.TGt=void 0,e.SSt=!0,i.lPt?(s=[e.rGt,e.nGt].filter(zn),u=sq(s)):u=e.ZTt,o=u.zB(n),a=e.Fm.k_(dd.$v,r),e.Fm.JA(o,i.pGt),e.SGt&&e.mGt.length>0&&(e.kSt.Tr.kT.kBt(),e.VVt(e.Fm.U_),e.jVt()),[4,a];case 3:return c.sent(),e.NSt(),[2]}}))}))()},i.NSt=function(){var t=this.Km;if(!this.fg&&!this.Eg&&void 0!==t){var n,i,r=this.U_;if(t+this.U_-this.Qg.wd.maximumOffset<r)null==(n=this.fz)||n.Cn();else null==(i=this.fz)||i.Zg()}},i.VVt=function(t){for(var n=0,i=this.mGt;n<i.length;n++){var r=i[n];r.KQt(t)||(r.zYt(),r.xYt.GFt()),r.RYt(t)||(r.BYt(),r.xYt.VFt())}},i.EVt=function(){for(var t=0,n=this.mGt;t<n.length;t++){n[t].g_()}},i.LVt=function(){return K.all([this.VLt(),this.WVt(),this.HVt()])},i.jVt=function(){this.GLt(),this.XVt(),this.ZVt()},i.vVt=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.SGt&&t.mGt.length>0?(t.mGt.forEach((function(t){return t.zYt()})),[4,t.VLt()]):[3,2];case 1:n.sent(),t.GLt(),t.mGt.forEach((function(t){return t.EYt.nFt()})),n.label=2;case 2:return[2]}}))}))()},i.GLt=function(){var t=this;if(!this.qVt){var n=function(){t.qVt=void 0};this.KVt=new So,this.KVt.w_(this.dE.f_),this.qVt=this.hxt(this.KVt.f_).catch(this.EGt).then(n,n)}},i.VLt=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return null==(n=t.KVt)||n.g_(),i=t.qVt,t.qVt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.hxt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=function(){var i,e,u,s,o,a,c,h,f,v,d;return zt(this,(function(l){switch(l.label){case 0:for(i=[],e=n.Fm.U_,u=0;u<r.length;u++)if(s=r[u],o=s.EYt,a=s.dlt(e),o.tEt)i.push(o.zUt());else if(s.PYt(e,a,n.wU.lX)){if(void 0===(c=o.JQt(a))){if(o.Mjt.djt.bPt)continue;(h=o.Mjt.djt.jnt).length&&h[0].MS>a&&(n.U_=1/0),o.hFt(),o.iFt(a)}else f=Gt(c,2),v=f[0],d=f[1],o.pat(v,d,s.NUt),s.kYt._Yt(v,d);i.push(o.zUt())}return[4,Bo((function(t){if(0===i.length){r.every((function(t){return t.EYt.SEt}))||i.push(n.Fm.k_(dd.fm,t));for(var e=0;e<r.length;e++){var u=r[e];i.push(u.kYt.k_(bJ.eYt,t))}}return zo(K.race(i),t)}),t)];case 1:return l.sent(),[2]}}))},jo(t),r=n.mGt,e.label=1;case 1:return[5,Rt(i())];case 2:return e.sent(),[3,1];case 3:return[2]}}))}))()},i.XVt=function(){var t=this;if(!this.JVt){var n=function(){t.JVt=void 0};this.$Vt=new So,this.$Vt.w_(this.dE.f_),this.JVt=this.tWt(this.$Vt.f_).catch(this.EGt).then(n,n)}},i.WVt=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return null==(n=t.$Vt)||n.g_(),i=t.JVt,t.JVt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.tWt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:jo(t),i=n.mGt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.EYt,(o=u.kYt).tEt?r.push(o.zUt()):(a=s.VQt())?"nut"===a.Av?(o.mYt(a),r.push(o.zUt())):"mPt"===a.Av&&(o.gYt(a),r.push(o.zUt())):r.push(s.rFt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,zo(K.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.ZVt=function(){var t=this;if(!this.iWt){this.eWt=new So,this.eWt.w_(this.dE.f_);var n=function(){t.iWt=void 0};this.iWt=this.sWt(this.eWt.f_).catch(this.EGt).then(n,n)}},i.HVt=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return null==(n=t.eWt)||n.g_(),i=t.iWt,t.iWt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.sWt=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,d;return zt(this,(function(l){switch(l.label){case 0:for((i=n.mGt).forEach((function(t){return t.vat()})),r=n.Fm.U_,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.kYt,c=0,h=o.IYt;c<h.length;c++)f=h[c],v=f.xUt?e:u,f.tEt?v.push(f.zUt()):f.BUt(r)||((d=a.TYt(f.Av))?"nut"===d.Av&&d.yPt===n.gGt?(f.wlt(d),v.push(f.zUt())):"PEt"===d.Av&&d.yPt===n.gGt&&(f.X$(d),v.push(f.zUt())):u.push(a.SYt(f.Av)));return 0!==e.length?[3,2]:[4,n.nWt(i,r,t)];case 1:if(l.sent())return[2,"continue"];l.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.IYt.length>0&&t.IYt.every((function(t){return t.BUt(r)}))}))&&n.yz.x0(),[2,"break"]):[4,zo(K.race(Lt(e).concat(Lt(u))),t)];case 3:return l.sent(),[2]}}))},r.label=1;case 1:return[5,Rt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.nWt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p,_,k,M;return zt(this,(function(b){switch(b.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.dlt(n),c=0,h=o.IYt;c<h.length;c++)if((f=h[c]).xUt)if(void 0!==(v=o.kYt.TYt(f.Av))){if(v.yPt===r.gGt)return[2,!1];e.push(v)}else{if(o.tEt||o.PYt(n,a,r.wU.lX)||!f.UUt(n,a))return[2,!1];void 0!==(d=f.CUt.NUt)&&u.push(d)}return 0===e.length?[2,!1]:(l=Ao(e,(function(t){return t.yPt})).yPt,e.every((function(t){return"PEt"===t.Av&&t.yPt===l}))?(g=yo(e,(function(t){return t.MS})).MS,w=Lt(e).concat(Lt(u)),[4,r.rWt(w)]):[3,6]);case 1:return y=b.sent(),r.oWt(y)?(HZ.Xjt(JZ,"Seamless switch from",r.yz.wd,"to",y),[4,r.yz.GZ(y)]):[3,3];case 2:return b.sent(),HZ.Xjt(JZ,"Seamless switch complete."),[3,5];case 3:return[4,r.hWt(g,y,i)];case 4:b.sent(),b.label=5;case 5:return r.gGt=e[0].yPt,[3,7];case 6:for(A=0;A<t.length;A++)for(m=t[A],p=0,_=m.IYt;p<_.length;p++)for(k=_[p],M=m.kYt.TYt(k.Av);void 0!==M&&("PEt"!==M.Av||M.yPt!==l);)HZ.Xjt(JZ,"Removing append for other discontinuity, expecting "+l,M),m.kYt.FUt(M),M=m.kYt.TYt(k.Av);b.label=7;case 7:return[2,!0]}}))}))()},i.oWt=function(t){return this.PGt===DN.PT||this.PGt!==DN.zT&&this.yz.FZ(t)},i.rWt=function(t){var n=this;return xt((function(){var i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.NYt.$nt})),e=r.map((function(t){return{Nz:t}})),u=wo(t,(function(t){return t.NYt.fPt})),(i=u).push.apply(i,Lt(n.kSt.Tr.LBt)),[4,TH(n.yGt.contentProtection,r,u,n.aE,n.yGt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.yz&&n.yz.wd.Iz.length>0&&(s=n.yz.wd.Iz),[2,{Av:ek.Sj,F1:e,Iz:s,t2:n.yGt.useManagedMediaSource}]}}))}))()},i.hWt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:if(u=r.yz,s=u.ct,!(o=r.O_.length>0&&r.U_<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),HZ.Xjt(JZ,"Marking end of stream and waiting for ended to switch discontinuity."),u.x0(),f.label=2;case 2:return!r.Fm.G_&&r.Fm.U_<t?[4,r.Fm.k_([dd.fm,dd.Ov],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.M0(),u.P1(s),a;case 6:HZ.Xjt(JZ,"Perform hard switch from",null==(e=r.yz)?void 0:e.wd,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.Fm.z6(),r.U_<t&&r.Fm.JA(t,!0,!0),r.j1=void 0,r.O1=void 0,r.GVt(),[4,r.Fm.tr()];case 8:return f.sent(),[4,r.Fm.$n(n)];case 9:return r.yz=f.sent(),r.B1(),r._Tt(),r.gTt(),r.yz.D1&&(r.j1=new KJ(zA.VA,r.yz.D1,r.LGt?r.Avt:void 0,r.xGt?r.sxt:void 0),r.j1.B0(t-1,t)),r.yz.I1&&(r.O1=new KJ(zA.WA,r.yz.I1,r.LGt?r.Avt:void 0,r.xGt?r.sxt:void 0),r.O1.B0(t-1,t)),r.GVt(),[3,11];case 10:return o&&Qo(r.Fm.Xg()),r.Fm.B6(),[7];case 11:return r.hGt&&(c=void 0!==r.O1&&void 0===r.jGt,h=c?[r.j1,r.O1]:[r.j1],r.hGt.LYt(h)),r.jGt&&r.jGt.LYt([r.O1]),HZ.Xjt(JZ,"Hard switch complete."),[2]}}))}))()},i.kVt=function(t){return zo(Yo(wo(this.mGt,(function(t){return t.IYt.map((function(t){return t.zUt()}))}))),t)},i.mSt=function(){var t=this.Rg,n=this.Cg;this.SNt===t&&this.NNt===n||(this.SNt=t,this.NNt=n,this.Co(new sk))},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return HZ.IM($J,"Unloading the player."),t.aWt(),t.hNt(),[4,t.tr()];case 1:return n.sent(),t.Fm.Qz=void 0,t.cVt.gn(),[4,t.Rz.gn()];case 2:return n.sent(),[4,t.Avt.gn()];case 3:return n.sent(),[4,t.sxt.gn()];case 4:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),t.uWt.gn(),t.DNt.h_(),t.KUt.h_(),t.UGt&&(t.UGt.h_(),t.UGt=void 0),[2]}}))}))()},i.tr=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return HZ.IM($J,"Resetting the player."),t.fn(IZ.cjt,t.handleBufferingErrorEvent),t.gGt=-1,t.dE.g_(),t.L5.g_(),t.L5=new So,t.L5.w_(t.dE.f_),t.TVt.g_(),t.TVt=new So,t.TVt.w_(t.dE.f_),n=[t.Cvt,t.x5,t.DGt].filter(zn),[4,K.all(n.map((function(t){return t.catch(Hn)})))];case 1:return i.sent(),t.Cvt=void 0,t.x5=void 0,t.DGt=void 0,t.rGt=void 0,t.nGt=void 0,t.vGt=void 0,t.$Gt=void 0,t.iVt=void 0,t.sVt=void 0,t.nVt=void 0,t.iVt=void 0,t.sVt=void 0,t.nVt=void 0,t.fz=void 0,t.vU.tr(),t.bVt=[],t.WGt(void 0),t.EVt(),[4,t.LVt()];case 2:return i.sent(),t.jGt&&(t.jGt.h_(),t.jGt=void 0),t.hGt&&(t.hGt.h_(),t.hGt=void 0),t.hVt&&(t.hVt.h_(),t.hVt=void 0),t.O1=void 0,t.j1=void 0,t.yz=void 0,t.kSt&&(t.kSt.h_(),t.kSt=void 0),t.BGt&&(t.Dl.sz(t.BGt.nt),t.BGt=void 0),[4,t.Rz.tr()];case 3:return i.sent(),[4,t.Avt.tr()];case 4:return i.sent(),[4,t.sxt.tr()];case 5:return i.sent(),t.Fm.Pz(),[4,t.Fm.tr()];case 6:return i.sent(),t.yGt=void 0,t.SGt=!1,t.U1=BD.oU(),t.MGt=void 0,t.TNt=void 0,t.SNt=0,t.NNt=0,t.TGt=void 0,t.SSt=!1,t.v5=!1,on.p_(t.NGt),t.rSt=!1,t.cWt=!1,t.KTt=0,t.PGt=DN.LT,t.uWt.tr(),t.lWt(),t.Co(new eD(t.U_,t.Sg)),[2]}}))}))()},i.lWt=function(){for(var t=0,n=this.YT.Rw;t<n.length;t++){n[t].gn()}for(var i=0,r=this.VT.Rw;i<r.length;i++){r[i].gn()}for(var e=0,u=this.Dl.Rw;e<u.length;e++){u[e].gn()}this.YT.tr(),this.VT.tr(),this.Dl.tr(),this.oVt.clear()},i.dWt=function(){this.uWt.yn(tq,this.Ds),this.uWt.yn(uk.Sm,this.Vm),this.uWt.yn(uk.Tm,this.fWt),this.uWt.yn(uk.pm,this._Wt),this.wU.yn("tX",this.kNt),this.wU.yn("nX",this.LNt),this.Fm.yn(nq,this.Ds),this.Fm.yn(dd.Nv,this.handleContentProtectionErrorEvent),this.Fm.yn(dd.Lv,this.gWt),this.Fm.yn(dd.Ov,this.Mh),this.Fm.yn(dd.Sh,this.dOt),this.Fm.yn(dd.jh,this.wWt),this.Fm.yn(dd.Zv,this.vWt),this.Fm.yn(uk.Nw,this.Yj),this.Fm.yn(dd.fm,this.J4),this.Fm.yn(dd.im,this.We),this.Fm.yn(dd.$v,this.Vz),this.Fm.yn(dd.Jv,this.mWt),this.Fm.yn(dd._m,this.pWt)},i.aWt=function(){this.uWt.fn(tq,this.Ds),this.uWt.fn(uk.Sm,this.Vm),this.uWt.fn(uk.Tm,this.fWt),this.uWt.fn(uk.pm,this._Wt),this.wU.fn("tX",this.kNt),this.wU.fn("nX",this.LNt),this.Fm.fn(nq,this.Ds),this.Fm.fn(dd.Nv,this.handleContentProtectionErrorEvent),this.Fm.fn(dd.Lv,this.gWt),this.Fm.fn(dd.Ov,this.Mh),this.Fm.fn(dd.Sh,this.dOt),this.Fm.fn(dd.jh,this.wWt),this.Fm.fn(dd.Zv,this.vWt),this.Fm.fn(uk.Nw,this.Yj),this.Fm.fn(dd.fm,this.J4),this.Fm.fn(dd.im,this.We),this.Fm.fn(dd.$v,this.Vz),this.Fm.fn(dd.Jv,this.mWt),this.Fm.fn(dd._m,this.pWt)},At(n,[{key:"Km",get:function(){var t,n=[this.nGt,this.rGt].filter(zn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.R_)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.djt.Ig;if(0!==s.U){var o=s.jn(s.U-1)+u.djt.nbt,a=u.djt.Pzt,c=o+(null!=a?a:0)-this.U_;(!i||i<c)&&(i=c)}}return i}}},{key:"_Gt",get:function(){for(var t=[this.rGt,this.nGt].filter(zn),n=0;n<t.length;n++){var i=t[n];if(!i.djt.bPt)return!1;var r=i.djt.jnt,e=r[r.length-1];if(e&&e.yPt!==this.gGt)return!1}return!0}},{key:"bjt",get:function(){return this.uGt}},{key:"Pjt",get:function(){return this.rGt}},{key:"Bjt",get:function(){return this.nGt}},{key:"wGt",get:function(){return this.vGt}},{key:"ht",get:function(){return this.YT}},{key:"O_",get:function(){return this.Fm.O_.ks()}},{key:"Njt",get:function(){var t=[];if(this.uGt)for(var n=this.Fm.U_,i=0,r=this.mGt;i<r.length;i++)for(var e=0,u=r[i].IYt;e<u.length;e++){var s=u[e].QUt(n);s&&!fo(t,s)&&t.push(s)}return t}},{key:"R_",get:function(){if(this.uGt){var t=this.Fm.U_;return this.uGt.RPt(t)}},set:function(t){if(t&&this.uGt){var n=this.uGt.PPt(t);void 0!==n&&this.F_(n,{pGt:!1,AGt:!0})}}},{key:"bt",get:function(){return this.yGt}},{key:"U_",get:function(){var t;return null!=(t=this.MGt)?t:this.Fm.U_},set:function(t){this.F_(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this._Gt)return null!=(s=null!=(u=null!=(e=null==(t=this.rGt)?void 0:t.djt.ct)?e:null==(n=this.nGt)?void 0:n.djt.ct)?u:null==(r=this.kSt)||null==(i=r.tUt)?void 0:i.djt.ct)?s:[this.rGt,this.nGt].filter(zn).every((function(t){return function(t){if(void 0===t)return!1;return t.djt.jnt.length>0&&!t.djt.bPt}(t)}))?1/0:NaN;var o=this.Fm.ct;if(A(o)){var a,c,h=null==(c=this.kSt)||null==(a=c.tUt)?void 0:a.djt.ct;if(void 0!==h)return h}return o}},{key:"G_",get:function(){if(!this._Gt)return!1;if(this.Eg&&this.SGt){var t,n,i=this.U_,r=null==(t=this.rGt)?void 0:t.djt.ct,e=null==(n=this.nGt)?void 0:n.djt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.Fm.G_}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}},{key:"Z_",get:function(){}},{key:"K_",get:function(){return!1}},{key:"eg",get:function(){return Xu({},{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.Fm.rg(),{KT:this.KTt,qT:this.wU.VH.GP})}},{key:"Tr",get:function(){var t;return null==(t=this.kSt)?void 0:t.Tr}},{key:"og",get:function(){return this.Fm.og},set:function(t){this.Fm.og=t}},{key:"cg",get:function(){return this.KMt},set:function(t){this.KMt!==t&&(this.KMt=t,this.Co(t?new UF:new QF))}},{key:"fg",get:function(){return this.Fm.fg}},{key:"gg",get:function(){return this.Fm.gg},set:function(t){HZ.IM($J,"Setting playback rate to "+t+"."),this.Fm.gg=t}},{key:"pg",get:function(){return this.eSt.ks()}},{key:"eSt",get:function(){return this.Fm.pg}},{key:"yg",get:function(){return this.Az},set:function(t){this.Az!==t&&(this.Az=t,this.kGt())}},{key:"Sg",get:function(){var t=this.Fm.Sg;return this.rSt&&(t=g.max(ak.Xn,t)),t}},{key:"Ig",get:function(){return this.ZTt.ks()}},{key:"ZTt",get:function(){var t=this.U1,n=[this.rGt,this.nGt].filter(zn);if(t.U>0&&n.some((function(t){return!t.djt.bPt}))){var i=this.eSt,r=t.jn(t.U-1);if(i.U>0&&i.jn(i.U-1)>r){var e=i.jn(i.U-1),u=sq(n);u.U>0&&(e=g.min(e,u.jn(u.U-1))),t=t.YB(new BD([r,e]))}}return t}},{key:"Eg",get:function(){var t;return null!=(t=this.TGt)?t:this.Fm.Eg}},{key:"Mz",get:function(){}},{key:"nt",get:function(){return this.Dl}},{key:"rt",get:function(){return this.VT}},{key:"Cg",get:function(){var t,n;return this.Fm.Cg||(null==(n=this.uGt)||null==(t=n.akt)?void 0:t.Ti)||0}},{key:"Rg",get:function(){var t,n;return this.Fm.Rg||(null==(n=this.uGt)||null==(t=n.akt)?void 0:t.ji)||0}},{key:"zg",get:function(){return this.Fm.zg},set:function(t){HZ.IM($J,"Setting volume to "+t+"."),this.Fm.zg=t}},{key:"Qg",get:function(){return this.vU}},{key:"Yg",get:function(){return!1},set:function(t){}},{key:"Tz",get:function(){return this.Sz}},{key:"OGt",get:function(){var t,n,i=null==(t=this.jGt)?void 0:t.OYt,r=null==(n=this.hGt)?void 0:n.OYt;return i?r?r.Sn(i):i:r}},{key:"mGt",get:function(){return[this.jGt,this.hGt,this.hVt].filter(zn)}}]),n}(Xo),eq=function(){function t(){}var n=t.prototype;return n.hB=function(t,n){var i=this;return xt((function(){var n;return zt(this,(function(r){switch(r.label){case 0:return QN(t.type)?t.useNativePlayback?[2,!1]:!(n=t.contentProtection)||qk(n)?[3,2]:nM(n)?[4,i.dnt(n)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},n.dnt=function(t){return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return t.aes128?[2,!0]:(n=t.playready)?[4,on.AO()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,on.vO()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,on.pO()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:t.fairplay?[2,!1]:[4,on.IO()];case 7:return[2,e.sent()]}}))}))()},t}(),uq=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qo=n,r}return kt(n,t),n.prototype.CNt=function(){this.Co(new ck(this.U_,this.Sg))},At(n,[{key:"Sg",get:function(){return this.Qo.Sg}}]),n}(Ak);function sq(t){return t.reduce((function(t,n){return t.Sn(n.djt.Mzt)}),new BD([0,1/0]))}function oq(t){var n=ro(t,(function(t){return t.fjt})),i=t.filter((function(t){return t._jt})),r=on.$et,e=i.map((function(t){return t.gs})).filter(zn),u=UJ(e,r);return u?ro(i,(function(t){return t.gs===u})):n}function aq(t,n,i,r){void 0===r&&(r=wD.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.$nt&&t.$nt.Akt&&BC(t.$nt.Akt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=cq(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===j(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=cq(t,r);if(void 0!==a)return a}return t}(t,n),u=fq(e,r);switch(i.sX.type){case LS.BANDWIDTH:var s=i.aX,o=u.filter((function(t){return t.GP<=s}));if(o.length>0)return Ao(o,(function(t){return t.GP}));case LS.PERFORMANCE:return yo(u,(function(t){return t.GP}));case LS.QUALITY:return Ao(u,(function(t){return t.GP}))}}function cq(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.$nt&&t.$nt.mkt&&BC(t.$nt.mkt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===j(e))return e.v}}function hq(t){var n;return null!=(n=oq(t))?n:t[0]}function fq(t,n){return t.filter((function(t){return vq(t,n)}))}function vq(t,n){var i=n+iq,r=0===t.$jt.length||t.$jt.some((function(t){return t.djt.Uzt<on.m_()-i})),e=0===t.Jjt.length||t.Jjt.some((function(t){return t.djt.Uzt<on.m_()-i}));return r&&e}function dq(t,n){if(!n||n.djt.bPt)return!1;var i=n.djt.jnt;return 0!==i.length&&i[0].MS>t}wt(),C(),wt(),C(),Ot(),Pt();var lq=function(){function t(){}var n=t.prototype;return n.ZUt=function(t,n,i){return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new m(e)];case 3:throw u.sent(),new Fv(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.h_=function(){},t.LO=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();wt(),C(),wt(),C(),Ot(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),Mt();var gq=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return kt(n,t),n}(Jo),wq=["message","messageerror","error"];wt(),C(),Mt();var yq=function(t){function n(n){var i;return(i=t.call(this,f_.ha)||this).error=n,i}return kt(n,t),n}(Jo),Aq=function(t){function n(n){var i;return(i=t.call(this)||this).SWt=void 0,i.NWt=[],i.EWt=function(t){if(i.MWt)t.DWt();else{i.SWt=t,i.SWt.yn(wq,i.Ds);for(var n=0,r=i.NWt;n<r.length;n++){var e=r[n];t.TWt(e.pL,e.IWt)}lo(i.NWt)}},i.kWt=function(t){if(!i.MWt){var n=t instanceof v?t:new v("Could not create Worker.");i.Co(new yq(n)),i.DWt()}},i.bWt=new So,n(i.bWt.f_).then(i.EWt,i.kWt),i}kt(n,t);var i=n.prototype;return i.TWt=function(t,n){this.MWt||(void 0!==this.SWt?this.SWt.TWt(t,n):this.NWt.push({pL:t,IWt:n}))},i.DWt=function(){this.MWt||(this.bWt.g_(),lo(this.NWt),void 0!==this.SWt&&this.SWt.DWt())},At(n,[{key:"MWt",get:function(){return this.bWt.f_.n_}}]),n}(Xo);wt(),C(),wt(),C(),Mt();var mq=function(t){function n(n,i){var r;return(r=t.call(this)||this).LWt=function(t){r.Co(new gq("message",t.data))},r.xWt=function(t){r.Co(new gq("messageerror",t.data))},r.L6=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof v?t.error:new v(t.message);r.Co(new yq(n)),r.DWt()},r.SWt=new p(n,i),r.SWt.addEventListener("message",r.LWt),r.SWt.addEventListener("messageerror",r.xWt),r.SWt.addEventListener("error",r.L6),r}kt(n,t);var i=n.prototype;return i.TWt=function(t,n){n?this.SWt.postMessage(t,n):this.SWt.postMessage(t)},i.DWt=function(){this.Vo(),this.SWt.removeEventListener("message",this.LWt),this.SWt.removeEventListener("messageerror",this.xWt),this.SWt.removeEventListener("error",this.L6),this.SWt.terminate()},n}(Xo);wt(),C(),Mt();var pq=0,_q=function(t){function n(n,i){var r;(r=t.call(this)||this).OWt=function(){r.CWt.removeEventListener("load",r.OWt),r.CWt.contentWindow.postMessage({type:"initialize",id:r.uS,script:r.RWt},"*")},r.jWt=function(t){t.origin===r.PWt&&t.data.id===r.uS&&("initialized"===t.data.type||("error"===t.data.type?(r.Co(new yq(new v(t.data.data.message))),r.DWt()):r.Co(new gq("message",t.data.data))))},r.uS=pq++,r.RWt=n;var e=on.Dh("iframe.html",i);return r.CWt=function(t){var n=u.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,u.body.appendChild(n),n}(e.href),r.PWt=e.origin,r.CWt.addEventListener("load",r.OWt),self.addEventListener("message",r.jWt),r}kt(n,t);var i=n.prototype;return i.TWt=function(t,n){n?this.CWt.contentWindow.postMessage({type:"message",data:t},"*",n):this.CWt.contentWindow.postMessage({type:"message",data:t},"*")},i.DWt=function(){var t;this.CWt.removeEventListener("load",this.OWt),self.removeEventListener("message",this.jWt),null==(t=this.CWt.contentWindow)||t.postMessage({type:"terminate"},"*"),au(this.CWt)},n}(Xo);function kq(t,n,i){var r=on.wp(t,n);return new Aq((function(t){return function(t,n,i,r){return Nq.apply(this,arguments)}(r,n,i,t)}))}var Mq,bq,Tq=!0;function Nq(){return Nq=xt((function(t,n,i,r){var e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,Dq(e=new mq(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.DWt(),xo(u),[3,3];case 3:if(!Tq||!fd)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,on.Hj.uD({zu:t,ZD:Ww.GET,qD:ld.Ru,f_:r})];case 5:return[4,f.sent().uE(r)];case 6:return s=f.sent(),[3,8];case 7:return xo(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=fd([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,Dq(e=new mq(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.DWt(),xo(c),Tq=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,Dq(e=new _q(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.DWt(),h;case 16:return[2]}}))})),Nq.apply(this,arguments)}function Dq(t,n){return Iq.apply(this,arguments)}function Iq(){return Iq=xt((function(t,n){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,t.k_(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new Fv(Qv.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return Qn(t)&&"8.3.0"===t.zWt}(i.data))throw new Fv(Qv.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (8.3.0).");return[2,i]}}))})),Iq.apply(this,arguments)}wt(),C(),function(t){t.BWt="ZUt",t.UWt="yQt"}(Mq||(Mq={})),function(t){t.QWt="FWt",t.YWt="GWt"}(bq||(bq={}));var Eq=function(){function t(t){var n=this;this.SWt=void 0,this.qWt=0,this.eHt=Hu(),this.XWt=function(t){var i=t.data,r=i.sHt,e=n.eHt.get(r);if(e)if(n.eHt.delete(r),i.nHt===bq.QWt)e.LL(i.rHt);else if(i.nHt===bq.YWt){var u=i.oHt,s=i.hHt?new v(i.hHt):void 0,o=new Fv(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.xL(o)}},this.ZWt=function(t){var i=new Fv(Qv.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.h_(i)},this.HWt=t;try{this.WWt=on.wp("theoplayer.d.js",t)}catch(t){throw new Fv(Qv.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.VWt=function(){var t=kq(this.WWt,this.HWt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.XWt),t.yn("error",this.ZWt),t},n.ZUt=function(t,n,i){var r=""+ ++this.qWt,e={KWt:Mq.BWt,JWt:r,$Wt:t,tHt:n,iHt:i},u=new Cc;return this.eHt.set(r,u),null!=this.SWt||(this.SWt=this.VWt()),this.SWt.TWt(e),u.OL},n.h_=function(t){void 0===t&&(t=new Lo),this.eHt.forEach((function(n){return n.xL(t)})),this.eHt.clear(),this.SWt&&(this.SWt.DWt(),this.SWt=void 0)},t}();function Sq(t){return lq.LO()?new lq:new Eq(t)}function Lq(t){var n=ro(t.boxes,PL);if(n){var i=ro(n.boxes,UL);if(i)return i.handlerType}}function Cq(t){var n,i=new av;return(n=i.boxes).push.apply(n,Lt(t.boxes)),i}function jq(t){var n,i=new _f;return(n=i.boxes).push.apply(n,Lt(t.boxes)),i}wt(),C(),Mt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ct();var xq=8;function Oq(t,n){for(var i=function(t){var n,i=new jf;return(n=i.boxes).push.apply(n,Lt(t.boxes)),i}(t),r=Rq(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new Wh(new m(n.getSize()-xq));else if(QL(u)){var s=u,o=so(s.boxes,(function(t){return t instanceof mf&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=jq(s);c.boxes[o]=new Wh(new m(a.getSize()-xq)),i.boxes[e]=c}}}return i}function zq(t,n){for(var i=function(t){var n,i=new Vf;return(n=i.boxes).push.apply(n,Lt(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(FL(e)){var u=ro(e.boxes,VL);u&&u.trackId===n&&(i.boxes[r]=new Wh(new m(e.getSize()-xq)))}}return i}function Rq(t){return ro(t.boxes,BL).trackId}function Bq(t,n,i,r){for(var e=ro(t.boxes,VL),u=i.ZN(n).NN(),s=xi.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof Rf){s=Oi(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof zf){s=Oi(xi.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=ro(t.boxes,WL);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}wt(),C();var Pq="Mp4Transmuxer",Uq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).K$=void 0,n.aHt=void 0,n.dHt=void 0,n.fHt=void 0,n.lHt=void 0,n}kt(n,t);var i=n.prototype;return i.vYt=function(t,n){jo(n);var i=t.Mjt,r=MC(kc(t.mPt.ly.ly));if(!r)throw new v("Mp4Transmuxer - Unable to parse "+i.Av+" MP4 initializer.");this.K$=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.ZJ),i||(i=u.XJ)}if(n||i)return{mkt:n,Akt:i,IRt:void 0};return}(r);e&&this.AYt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.qJ)return r.qJ}return}(r);void 0!==u&&this.yYt(i,u);var s=function(t){var n,i,r,e,u,s=lv(t),o=ro(s.boxes,zL),a=o.boxes.filter(RL),c=ro(a,(function(t){return Lq(t)===rf.AUDIO})),h=ro(a,(function(t){return Lq(t)===rf.VIDEO})),f={mkt:{AM:c?Rq(c):void 0},Akt:{AM:h?Rq(h):void 0}},v=null==(n=ro(o.boxes,QL))?void 0:n.boxes.filter(YL),d=v?{mkt:null!=(i=ro(v,(function(t){return t.trackId===f.mkt.AM})))?i:void 0,Akt:null!=(r=ro(v,(function(t){return t.trackId===f.Akt.AM})))?r:void 0}:void 0;if(d&&(f.mkt.Vb=null==(e=d.mkt)?void 0:e.defaultSampleDuration,f.Akt.Vb=null==(u=d.Akt)?void 0:u.defaultSampleDuration),!c||!h)return{mkt:c?t:void 0,Akt:h?t:void 0,kI:f};var l=Cq(s),g=Cq(s),w=s.boxes.indexOf(o);l.boxes[w]=Oq(o,h),g.boxes[w]=Oq(o,c);var y=l.serialize().join(),A=g.serialize().join();return{mkt:y,Akt:A,kI:f}}(t.mPt.ly.ly);if(this.aHt=s.kI,s.Akt){var o=ro(r.Z,(function(t){return t.AM===s.kI.Akt.AM})),a={Av:"PEt",ly:{Av:pL.jZ,ly:s.Akt},Zht:zA.VA,yPt:t.yPt,NYt:{$nt:'video/mp4; codecs="'+o.XJ+'"',fPt:t.fPt},MS:t.MS,Mjt:t.Mjt,VUt:t.mPt.VUt};this.BFt(a)}if(s.mkt){var c=ro(r.Z,(function(t){return t.AM===s.kI.mkt.AM})),h={Av:"PEt",ly:{Av:pL.jZ,ly:s.mkt},Zht:zA.WA,yPt:t.yPt,NYt:{$nt:'audio/mp4; codecs="'+c.ZJ+'"',fPt:t.fPt},MS:t.MS,Mjt:t.Mjt,VUt:t.mPt.VUt};this.BFt(h)}return K.resolve()},i.pYt=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p,_,k,M,b,T;return zt(this,(function(N){switch(N.label){case 0:if(jo(n),r=t.nut.VUt,HZ.IM(Pq,"Transmuxing fMP4: "+pH(r.Jpt)),e=t.nut.ly,u=Qq(e.ly,i.K$),void 0!==(s=mo(u.map((function(t){return t.Q7})),Jm))&&(r.F7=s,i.bYt(t.Mjt)),i.OBt.aBt(t.yPt))return[3,2];if(o=Km.$N(r.MS),u.length>0){for(a=mo(u.map((function(t){return t.uHt})),Jm),c=0,h=i.cYt;c<h.length;c++)f=h[c],i.OBt.ABt(t.yPt,f,a,o,Yq(r),!1);i.bYt(t.Mjt)}return i.OBt.aBt(t.yPt)?[3,2]:[4,zo(i.OBt.cBt(t.yPt),n)];case 1:N.sent(),N.label=2;case 2:return v=i.OBt.wBt(t.yPt),d=r.F7?i.OBt.vBt(r.F7,r).JS():r.MS,l=DJ(r,d),g=IJ(r,l),y={KFt:l,JFt:g,MS:d,ct:null!=(w=r.ct)?w:0,pI:v.JS(),yPt:t.yPt,Mjt:t.Mjt,VUt:t.nut.VUt},A=function(t,n){if(void 0===n.mkt.AM)return{mkt:void 0,Akt:t};if(void 0===n.Akt.AM)return{mkt:t,Akt:void 0};for(var i=lv(t),r=Cq(i),e=Cq(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];GL(s)&&(r.boxes[u]=zq(s,n.Akt.AM),e.boxes[u]=zq(s,n.mkt.AM))}var o=r.serialize().join(),a=e.serialize().join();return{mkt:o,Akt:a}}(e.ly,i.aHt),A.Akt&&(p=i.aHt.Akt.AM,_=ro(i.K$.Z,(function(t){return t.AM===p})),k=ro(u,(function(t){return t.AM===p})),M=i.cHt(A.Akt,_,k,null==(m=i.aHt)?void 0:m.Akt.Vb,r),i.lHt=_,i.MYt(t.Mjt,r,k.Q7.uN(s)),b=Xu({Av:"nut",ly:{Av:pL.jZ,ly:M},Zht:zA.VA},y),i.BFt(b)),A.mkt&&(T=Xu({Av:"nut",ly:{Av:pL.jZ,ly:A.mkt},Zht:zA.WA},y),i.BFt(T)),i.dHt=r,i.fHt=u,[2]}}))}))()},i.cHt=function(t,n,i,r,e){if(!Yq(e))return t;if(!this.dHt||!this.lHt||!this.fHt)return t;var u=this.lHt.AM,s=ro(this.fHt,(function(t){return t.AM===u})),o=this.OBt.vBt(s._Ht,this.dHt),a=this.OBt.vBt(i.Q7,e).uN(o).ZN(n.cM);if(a.sN(Km.wN))return t;if(a.$S(Km.$N(.5)))return t;var c=NK(e)?e:e.WPt;return HZ.Xjt(Pq,"Stretching first video frame of segment #"+c.$Rt+" to fill gap of "+a.JS()+"s"),function(t,n,i,r){var e=lv(t),u=ro(e.boxes,GL);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof Gf&&Bq(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof Gf&&XL(l,f)}}return e.serialize().join()}(t,n.cM,a,r)},n}(NJ);function Qq(t,n){var i=Hp(i_.Wy(kc(t)),rp.kA);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.eT||0===e.iT.length||0===e.iT[0].aT.length)return"continue";for(var u=e.zy.AM,s=ro(n.Z,(function(t){return t.AM===u})),o=0,a=1/0,c=0,h=e.zy.Vb||0,f=0,v=e.iT;f<v.length;f++)for(var d=0,l=v[f].aT;d<l.length;d++){var g,w=l[d],y=w.uT||0,A=o+y,m=(o+=null!=(g=w.ct)?g:h)+y;A<a&&(a=A),m>c&&(c=m)}var p=Km.fN(e.eT.eT,s.cM);r.push({AM:u,uHt:p,Q7:p.nS(Km._N(a,s.cM)),gHt:p.nS(Km._N(o,s.cM)),_Ht:p.nS(Km._N(c,s.cM))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function Yq(t){return NK(t)?t.vPt:0===t.XPt&&t.WPt.vPt}var Gq,Fq="MpegtsTransmuxer",Vq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).MHt=void 0,u.THt=void 0,u.NHt=void 0,u.DHt=void 0,u.SHt=-1,u.IHt=-1,u.pHt=void 0,u.AHt=Ku(),u.ast=n,u}kt(n,t);var i=n.prototype;return i.vYt=function(n,i){return t.prototype.vYt.call(this,n,i)},i._Yt=function(n,i){if(t.prototype._Yt.call(this,n,i),!this.ast.wHt()){var r,e=null!=(r=null==i?void 0:i.Jpt)?r:n.Jpt;if(e)/\.(ts|aac|mp3)/i.test(e.lT)&&this.ast.vHt()}},i.mHt=function(t){var n;return t.Mjt===this.pHt&&this.AHt.has(t.yPt)?n=this.AHt.get(t.yPt):(n=ZJ(t.nut.ly.ly),this.pHt=t.Mjt,this.AHt.set(t.yPt,n)),n},i.pYt=function(n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p,_,k,M,b,T,N,D,I,E,S,L,C,j,x,O,z;return zt(this,(function(R){switch(R.label){case 0:if(jo(i),e=r.mHt(n),u=n.nut,e!==YJ.$Yt&&e!==YJ.tGt)return[2,t.prototype.pYt.call(r,n,i)];if(u.VUt.fPt.some(Xq))throw new Fv(Qv.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.ast.vHt(),e!==YJ.$Yt?[3,2]:(HZ.IM(Fq,"Transmuxing MPEG-TS: "+pH(u.VUt.Jpt)),[4,s.yHt({data:u.ly.ly,metadata:r.MHt})]);case 1:return o=R.sent(),[3,4];case 2:return HZ.IM(Fq,"Transmuxing raw audio: "+pH(u.VUt.Jpt)),[4,s.bHt({data:u.ly.ly,metadata:r.MHt})];case 3:o=R.sent(),R.label=4;case 4:if(jo(i),r.AYt(n.Mjt,{mkt:o.metadata.audio_codec,Akt:o.metadata.video_codec,IRt:void 0}),o.metadata.video_frame_rate&&r.yYt(n.Mjt,o.metadata.video_frame_rate),a=Zq(o.metadata.first_decode_timestamp),c=Zq(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?Zq(o.metadata.first_video_presentation_timestamp):void 0,u.VUt.F7=c,r.bYt(n.Mjt),void 0!==h&&r.MYt(n.Mjt,u.VUt,function(t,n){var i=t.uN(n);return i.rN(Km.wN)&&(i=i.nS(np())),i}(h,c)),r.OBt.aBt(n.yPt))return[3,6];for(f=Km.$N(u.VUt.MS),v=0,d=r.cYt;v<d.length;v++)l=d[v],r.OBt.ABt(n.yPt,l,a,f,Yq(u.VUt),!0);return r.bYt(n.Mjt),r.OBt.aBt(n.yPt)?[3,6]:[4,zo(r.OBt.cBt(n.yPt),i)];case 5:R.sent(),R.label=6;case 6:if(g=r.OBt.pBt(a,u.VUt),r.MHt=o.metadata,w=r.OBt.vBt(c,u.VUt).JS(),y=DJ(u.VUt,w),A=IJ(u.VUt,y),p={KFt:y,JFt:A,MS:w,ct:null!=(m=u.VUt.ct)?m:0,pI:g.JS(),yPt:n.yPt,Mjt:n.Mjt,VUt:u.VUt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(_=0,k=r.cYt;_<k.length;_++)M=k[_],b=Xu({Av:"nut",ly:void 0,Zht:M},p),r.BFt(b);return[2]}return T=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.THt&&r.SHt===n.yPt&&pa(r.THt,o.data.audio_init)||(N=r.OBt.vBt(u.VUt.F7,u.VUt).JS(),D={Av:"PEt",ly:{Av:pL.jZ,ly:o.data.audio_init},Zht:zA.WA,yPt:n.yPt,NYt:{$nt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',fPt:u.VUt.fPt},MS:N,Mjt:n.Mjt,VUt:u.VUt},r.THt=o.data.audio_init,r.SHt=n.yPt,r.BFt(D)),I=Xu({Av:"nut",ly:{Av:pL.jZ,ly:o.data.audio_media},Zht:zA.WA},p),r.BFt(I)):n.nut.VUt.GPt&&fo(r.cYt,zA.WA)&&(E=Xu({Av:"nut",ly:void 0,Zht:zA.WA},p),r.BFt(E)),void 0!==o.data.video_media?(!o.data.video_init||r.NHt&&r.IHt===n.yPt&&pa(r.NHt,o.data.video_init)||(S=r.OBt.vBt(u.VUt.F7,u.VUt).JS(),L={Av:"PEt",ly:{Av:pL.jZ,ly:o.data.video_init},Zht:zA.VA,yPt:n.yPt,NYt:{$nt:'video/mp4; codecs="'+o.metadata.video_codec+'"',fPt:u.VUt.fPt},MS:S,Mjt:n.Mjt,VUt:u.VUt},r.NHt=o.data.video_init,r.IHt=n.yPt,r.DHt=MC(kc(o.data.video_init)),r.BFt(L)),C=r.DHt.Z[0],j=Qq(o.data.video_media,r.DHt)[0],x=r.cHt(o.data.video_media,C,j,void 0,u.VUt),r.lHt=C,O=Xu({Av:"nut",ly:{Av:pL.jZ,ly:x},Zht:zA.VA},p),r.BFt(O),T.push(j)):n.nut.VUt.GPt&&fo(r.cYt,zA.VA)&&(z=Xu({Av:"nut",ly:void 0,Zht:zA.VA},p),r.BFt(z)),r.dHt=u.VUt,r.fHt=T,[2]}}))}))()},i.g_=function(){this.THt=void 0,this.NHt=void 0,this.SHt=-1,this.IHt=-1,t.prototype.g_.call(this)},n}(Uq),Wq=function(){function t(){}return t.prototype.Qbt=function(t,n,i){return new Vq(this,t,n,i)},t}();function Xq(t){return t.ZD===dH.ERt}function Zq(t){return Km.fN(xi.fromBits(t.low,t.high),t.base)}wt(),C(),wt(),C(),function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(Gq||(Gq={}));var Hq=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=jn.hk;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(va("AGFzbQEAAAA="))}catch(t){return!1}}();return Hq=function(){return t},t};var Kq=function(){function t(t){var n=this;this.qWt=0,this.eHt=Ku(),this.XWt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.eHt.get(i.requestId);if(!r)return;n.eHt.delete(i.requestId),i.success?r.LL(i.output):r.xL(new Fv(i.errorCode,i.error))}else i.success||n.h_(new Fv(i.errorCode,i.error))},this.ZWt=function(t){var i=new Fv(Qv.MEDIA_DECODE_ERROR,t.error.message,t.error);n.h_(i)},this.HWt=t;var i=Hq()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.WWt=on.wp(i,t)}catch(t){throw new Fv(Qv.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.SWt=this.VWt()}var n=t.prototype;return n.yHt=function(t){return this.EHt(Gq.MPEGTS_TO_FMP4,t)},n.bHt=function(t){return this.EHt(Gq.RAW_AUDIO_TO_FMP4,t)},n.VWt=function(){var t=kq(this.WWt,this.HWt,{name:"THEOplayer transmux worker"});return t.yn("message",this.XWt),t.yn("error",this.ZWt),t},n.EHt=function(t,n){var i=++this.qWt,r={type:t,id:i,input:n},e=new Cc;return this.eHt.set(i,e),this.SWt.TWt(r),e.OL},n.h_=function(t){void 0===t&&(t=new Lo),this.eHt.forEach((function(n){return n.xL(t)})),this.eHt.clear(),this.SWt.DWt()},t}(),Jq=function(t){function n(n){var i;return(i=t.call(this)||this).kHt=n,i.SWt=void 0,i}kt(n,t);var i=n.prototype;return i.wHt=function(){return void 0!==this.SWt},i.vHt=function(){var t;return null!=(t=this.SWt)?t:this.SWt=new Kq(this.kHt)},i.h_=function(){this.SWt&&(this.SWt.h_(),this.SWt=void 0)},n}(Wq),qq=function(){function t(t){this.kHt=t}return t.prototype.G7=function(){return new Jq(this.kHt)},t}(),$q=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,jn.zk&&(c.jNt=new xB(Vt(c))),c}kt(n,t);var i=n.prototype;return i.Vg=function(){if(wB(this.Fm))return this.Fm.Vg()},i.gn=function(){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.jNt)||i.gn(),[2]}}))}))()},At(n,[{key:"Yg",get:function(){return!1},set:function(t){}}]),n}(rq),t$=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new jB(n),f=h.oB(zA.VA);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).Yz=h,c}return kt(n,t),n.prototype.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return i.sent(),[2]}}))}))()},n}($q),n$=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.hB=function(n,i){var r=this;return xt((function(){return zt(this,(function(e){return ju(n.useManagedMediaSource)&&(n.useManagedMediaSource||!jn.Ga&&!jn.sL)?[2,t.prototype.hB.call(r,n,i)]:[2,!1]}))}))()},i.dnt=function(n){var i=this;return xt((function(){return zt(this,(function(r){return n.clearkey&&jn.zk?[2,!1]:[2,t.prototype.dnt.call(i,n)]}))}))()},n}(eq),i$=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=sT.Mp,n}kt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){return new t$(n,i,e,u,Sq(r.libraryLocation),new qq(r.libraryLocation),new tB(gB.lL.Pnt,gB.lL.Rnt,gB.lL.jnt,gB.lL.Bnt),r)},i.aB=function(){return!0},n}(n$);SD(new i$),HZ.Rt=function(){var t;return Boolean(null==(t=e)?void 0:t.THEOplayerDebugLogsEnabled)},wt(),C(),wt(),C(),Wt(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Mt(),Pt(),wt(),C();var r$=function(){function t(){}var n=t.prototype;return n.wnt=function(t,n){return K.resolve(!1)},n.mnt=function(t,n){return K.resolve(void 0)},n.fnt=function(t){return K.resolve(void 0)},n.aZ=function(t){return K.resolve(void 0)},t}(),e$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).xHt=void 0,e.BHt=void 0,e.OHt=void 0,e.UHt=function(){e.Co(new JG)},e.bc=n,e.kSt=new PK(r,new r$,n.useCredentials,n.src,n.liveOffset),e.kSt.yn(dd.Vv,e.Ds),e.f3=!1,e}kt(n,t);var i=n.prototype;return i.LHt=function(){var t;return null==(t=this.xHt)?void 0:t.djt},i.Cn=function(t){var n=this;Qo(dD((function(){return n.CHt(t)}),t))},i.CHt=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.kSt.eUt(t)];case 1:return i.sent(),n.OHt&&(n.jHt(n.OHt.ji,n.OHt.Ti),n.OHt=void 0),n.f3=!0,[2]}}))}))()},i.RHt=function(t,n){this.f3?this.jHt(t,n):this.OHt={ji:t,Ti:n}},i.jHt=function(t,n){var i=this.PHt(t,n),r=null==i?void 0:i.$jt[0];r!==this.xHt&&(this.zHt(),void 0!==r&&(this.xHt=r,this.BHt=new JK(this.kSt,r),this.BHt.oQt()))},i.zHt=function(){this.xHt=void 0,this.BHt&&(this.BHt.h_(),this.BHt=void 0)},i.PHt=function(t,n){var i=ro(this.kSt.Tr.Kjt,(function(i){return void 0!==i.akt&&i.akt.ji===t&&i.akt.Ti===n}));return null!=i?i:this.kSt.Tr.Kjt[0]},i.gn=function(){this.Vo(),this.zHt(),this.kSt.h_()},n}(Xo);wt(),C(),mt(),Mt();var u$=function(t){function n(n){var i;(i=t.call(this)||this).X3=n;for(var r=0;r<xD.length;r++){var e=xD[r];i.X3.yn(e,i.Ds)}return i}kt(n,t);var i=n.prototype;return i.F_=function(t,n){this.U_=t},i.qg=function(){return this.X3.qg()},i.Gg=function(){return this.X3.Gg()},i.Vg=function(){return this.X3.Vg()},i.be=function(){return this.X3.be()},i.$g=function(){return this.X3.$g()},i.iw=function(){return this.X3.iw()},i.Hg=function(){return this.X3.Hg()},i.Xg=function(){return this.X3.Xg()},i.tr=function(){return this.X3.tr()},i.ga=function(t,n,i){return this.X3.ga(t,n,i)},i.ge=function(){return this.X3.ge()},i.Kg=function(){return this.X3.Kg()},i.Jg=function(){return this.X3.Jg()},i.gn=function(){this.Vo();for(var t=0;t<xD.length;t++){var n=xD[t];this.X3.fn(n,this.Ds)}return this.X3.gn()},At(n,[{key:"ht",get:function(){return this.X3.ht}},{key:"O_",get:function(){return this.X3.O_}},{key:"R_",get:function(){return this.X3.R_},set:function(t){this.X3.R_=t}},{key:"bt",get:function(){return this.X3.bt}},{key:"U_",get:function(){return this.X3.U_},set:function(t){this.X3.U_=t}},{key:"ct",get:function(){return this.X3.ct}},{key:"G_",get:function(){return this.X3.G_}},{key:"H_",get:function(){return this.X3.H_}},{key:"Z_",get:function(){return this.X3.Z_}},{key:"lt",get:function(){return this.X3.lt}},{key:"K_",get:function(){return this.X3.K_}},{key:"eg",get:function(){return this.X3.eg}},{key:"og",get:function(){return this.X3.og},set:function(t){this.X3.og=t}},{key:"cg",get:function(){return this.X3.cg}},{key:"fg",get:function(){return this.X3.fg}},{key:"gg",get:function(){return this.X3.gg},set:function(t){this.X3.gg=t}},{key:"pg",get:function(){return this.X3.pg}},{key:"yg",get:function(){return this.X3.yg},set:function(t){this.X3.yg=t}},{key:"Sg",get:function(){return this.X3.Sg}},{key:"Ig",get:function(){return this.X3.Ig}},{key:"Eg",get:function(){return this.X3.Eg}},{key:"Mz",get:function(){return this.X3.Mz}},{key:"nt",get:function(){return this.X3.nt}},{key:"Cg",get:function(){return this.X3.Cg}},{key:"rt",get:function(){return this.X3.rt}},{key:"Rg",get:function(){return this.X3.Rg}},{key:"zg",get:function(){return this.X3.zg},set:function(t){this.X3.zg=t}},{key:"Qg",get:function(){return this.X3.Qg}},{key:"Yg",get:function(){return this.X3.Yg},set:function(t){this.X3.Yg=t}},{key:"Tz",get:function(){return this.X3.Tz}},{key:"Km",get:function(){}}]),n}(Ho),s$=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).QHt=void 0,e.YHt=!1,e.TUt=void 0,e.handleManifestUpdate=function(){var t=e.QHt.LHt();if(t){var n=e.Mz;if(n){var i=n.getTime(),r=e.TUt;r||(r=new lK,e.TUt=r),r.Yn(t.MPt,(function(t){return(t.getTime()-i)/1e3})),!e.YHt&&r.L.U>0&&(e.nt.tt(r),e.W5.tt(r),e.YHt=!0)}}},e.mWt=function(){e.QHt&&e.QHt.RHt(e.Rg,e.Cg)},e.FHt=i,e.W5=new Cx(Vt(e)),e.yn(dd.Jv,e.mWt),e}kt(n,t);var i=n.prototype;return i.ga=function(n,i,r){var e=this;return xt((function(){return zt(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ga.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Hpt(n,i,r),[2]}}))}))()},i.Hpt=function(t,n,i){this.QHt=new e$(t,n,this.FHt),this.QHt.yn(dd.Vv,this.handleManifestUpdate),this.QHt.Cn(i)},i.tr=function(){return this.TUt&&(this.nt.it(this.TUt),this.W5.it(this.TUt),this.TUt.gn(),this.TUt=void 0,this.YHt=!1),this.QHt&&(this.QHt.gn(),this.QHt=void 0),this.W5.tr(),t.prototype.tr.call(this)},i.gn=function(){return this.fn(dd.Jv,this.mWt),this.QHt&&(this.QHt.gn(),this.QHt=void 0),this.W5.gn(),t.prototype.gn.call(this)},n}(u$);!function(t){DD.cB().lB(t)}((function(t,n,i){return new s$(t,n,i)})),wt(),C(),wt(),C(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),Pt(),wt(),C(),mt(),Mt();var o$=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return kt(n,t),At(n,[{key:"name",get:function(){return"CastError"}}]),n}(Io);function a$(t){return c$.apply(this,arguments)}function c$(){return c$=xt((function(t){return zt(this,(function(n){switch(n.label){case 0:return l$()?[3,2]:[4,h$(t)];case 1:n.sent(),n.label=2;case 2:return d$()?[3,4]:[4,Fo(100,t)];case 3:n.sent(),n.label=4;case 4:return d$()?[3,6]:(on.vp('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,v$()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),c$.apply(this,arguments)}function h$(t){return f$.apply(this,arguments)}function f$(){return f$=xt((function(t){var n,i,r,u,s,o;return zt(this,(function(a){return(null==t?void 0:t.n_)?[2,K.reject(new Lo)]:(n=function(){var t,n;return{OL:new K((function(i,r){t=i,n=r})),LL:t,xL:n}}(),i=n.OL,r=n.LL,u=n.xL,s=e.__onGCastApiAvailable,o=function(){e.__onGCastApiAvailable=s,u(new Lo)},e.__onGCastApiAvailable=function(n,i){n?r():u(new v(i)),null==t||t.c_(o),e.__onGCastApiAvailable=s,s&&s(n,i)},null==t||t.u_(o),[2,i])}))})),f$.apply(this,arguments)}var v$=$n((function(){return function(t){return new K((function(n,i){var r=u.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(u.head||u.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new o$("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function d$(){return Boolean("undefined"!=typeof cast&&cast.framework)}function l$(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function g$(t,n,i,r){if(zn(n))for(var e=0,u=l.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];zn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!zn(i)&&!zn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(Yn(n.images))t.images.push(new r.Image(n.images));else if(Bn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(Yn(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function w$(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return g$(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return g$(e,t,n,i),!zn(e.artist)&&zn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return g$(u,t,n,i),!zn(u.title)&&zn(t.episodeTitle)&&(u.title=t.episodeTitle),!zn(u.season)&&zn(t.seasonNumber)&&(u.season=t.seasonNumber),!zn(u.episode)&&zn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return g$(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function y$(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function A$(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return ro(t.items,(function(n){return n.itemId===t.currentItemId}))}wt(),C(),Ot(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),wt(),C();var m$,p$="urn:x-cast:com.theoplayer.cast";wt(),C(),wt(),C(),function(t){t.GHt="theoplayer_receiver_info",t.VHt="theoplayer_trackpropertychange",t.WHt="theoplayer_propertychange"}(m$||(m$={})),wt(),C();var _$;!function(t){t.SKIP_AD="SKIP_AD"}(_$||(_$={})),wt(),C();function k$(t){u.createElement("img").src=t}wt(),C(),wt(),C(),Ot(),mt(),Pt(),wt(),C();var M$=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function b$(t){if(Yn(t)){var n=t.match(M$);if(n)return 3600*w(n[1],10)+60*w(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function T$(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return w(n[1])/100}}function N$(t,n){return"vmap"===t.type||!zn(t.type)&&!zn(n)}function D$(t,n){return"vast"===t.type||!zn(t.type)&&zn(n)}wt(),C(),Ot(),Pt(),wt(),C(),mt(),Mt(),wt(),C();var I$=function(){},E$=function(t){function n(n){var i;return(i=t.call(this)||this).Ic=n.sort((function(t,n){return t.Kb-n.Kb})),i}return kt(n,t),n.prototype.XHt=function(){return null!=this.ZHt||(this.ZHt=wo(this.Ic,(function(t){return t.XHt()}))),this.ZHt},At(n,[{key:"HHt",get:function(){return this.Ic}}]),n}(I$);wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var S$=function(t){function n(n,i){var r;return(r=t.call(this)||this).qHt=n,r.KHt=i,r.$Ht=!1,r}return kt(n,t),At(n,[{key:"o",get:function(){return this.qHt}},{key:"Kb",get:function(){return this.KHt}},{key:"JHt",get:function(){return this.$Ht}}]),n}(I$),L$=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).sXt=r,a.rXt=e,a.hXt=u,a.iXt=s,a.vz=o,a}return kt(n,t),n.prototype.XHt=function(){if(void 0===this.aXt){for(var t,n,i,r=[],e=0,u=this.iXt;e<u.length;e++){var s=u[e];s.uXt&&(t=s.uXt),s.cXt&&(n=s.cXt),s.lXt&&(i=s.lXt),r=r.concat(s.universalAdIds)}this.aXt={oXt:this.oXt,uXt:t,dXt:n,lXt:i,lt:this.lt,fXt:r}}return[this.aXt]},At(n,[{key:"tXt",get:function(){return this.iXt}},{key:"eXt",get:function(){return this.sXt}},{key:"nXt",get:function(){return this.rXt}},{key:"oXt",get:function(){return this.hXt}},{key:"lt",get:function(){return this.vz}}]),n}(S$);wt(),C(),mt(),Mt(),wt(),C(),mt();var C$,j$=function(){function t(t,n){this.gXt=t,this.vXt=n}return At(t,[{key:"_Xt",get:function(){return this.gXt}},{key:"wXt",get:function(){return this.vXt}}]),t}(),x$=function(){function t(t,n,i,r,e,u){this.pXt=t,this.yXt=n,this.bXt=i,this.SXt=r,this.kXt=!1,this.DXt=e,this.sXt=u}return t.prototype.LXt=function(){this.kXt=!0},At(t,[{key:"mXt",get:function(){return this.pXt}},{key:"AXt",get:function(){return this.yXt}},{key:"MXt",get:function(){return this.bXt}},{key:"TXt",get:function(){return this.SXt}},{key:"Xl",get:function(){return this.NXt},set:function(t){this.NXt=t}},{key:"IXt",get:function(){return this.DXt}},{key:"EXt",get:function(){return this.kXt}},{key:"eXt",get:function(){return this.sXt}}]),t}();wt(),C(),mt(),function(t){t.xXt="all",t.CXt="any",t.yB="none"}(C$||(C$={}));var O$=function(){function t(t,n){this.jXt=t,this.PXt=n}return At(t,[{key:"OXt",get:function(){return this.jXt}},{key:"RXt",get:function(){return this.PXt}}]),t}(),z$=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g){this.qx=t,this.Kx=n,this.uS=i,this.BXt=r,this.QXt=e,this.YXt=u,this.VXt=s,this.HXt=o,this.ZXt=a,this.KXt=c,this.pXt=h,this.yXt=f,this.bXt=v,this.$Xt=d,this.tZt=l,this.eZt=g}return At(t,[{key:"o",get:function(){return this.uS}},{key:"ji",get:function(){return this.qx}},{key:"Ti",get:function(){return this.Kx}},{key:"zXt",get:function(){return this.BXt}},{key:"UXt",get:function(){return this.QXt}},{key:"FXt",get:function(){return this.YXt}},{key:"GXt",get:function(){return this.VXt}},{key:"WXt",get:function(){return this.HXt}},{key:"XXt",get:function(){return this.ZXt}},{key:"qXt",get:function(){return this.KXt}},{key:"mXt",get:function(){return this.pXt}},{key:"AXt",get:function(){return this.yXt}},{key:"MXt",get:function(){return this.bXt}},{key:"JXt",get:function(){return this.$Xt}},{key:"wXt",get:function(){return this.tZt}},{key:"iZt",get:function(){return this.eZt}}]),t}();wt(),C(),mt();var R$=function(){function t(t,n){this.uS=t,this.KPt=n}return At(t,[{key:"id",get:function(){return this.uS}},{key:"uri",get:function(){return this.KPt}}]),t}(),B$=function(){function t(t,n,i,r){this.nZt=t,this.oZt=n,this.aZt=i,this.cZt=r}return At(t,[{key:"sZt",get:function(){return this.nZt}},{key:"rZt",get:function(){return this.oZt}},{key:"hZt",get:function(){return this.aZt}},{key:"uZt",get:function(){return this.cZt}}]),t}(),P$=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).hXt=r,h.dZt=e,h._Zt=u,h.iXt=s,h.wZt=o,h.mZt=a,h.vz=c,h}kt(n,t);var i=n.prototype;return i.XHt=function(){var t=this;return void 0===this.dZt?[]:(null!=this.ZHt||(this.ZHt=this.dZt.XHt().map((function(n){return t.pZt(n)}))),this.ZHt)},i.pZt=function(t){for(var n,i,r,e=0,u=this.tXt;e<u.length;e++){var s=u[e];s.uXt&&(n=s.uXt),s.cXt&&(i=s.cXt),s.lXt&&(r=s.lXt)}var o=t.oXt.concat(this.oXt),a=t.uXt;if(n&&t.uXt){var c=new B$(t.uXt.AZt.sZt,t.uXt.AZt.rZt,t.uXt.AZt.hZt.concat(n.AZt.hZt),t.uXt.AZt.uZt.concat(n.AZt.uZt));(a=t.uXt).AZt=c,a.wXt=a.wXt.concat(n.wXt)}var h=t.dXt;if(i&&i._Xt){for(var f,v,d=[],l=0,g=i._Xt;l<g.length;l++){var w=g[l];d.concat(w.TXt.hZt)}for(var y,A,m=[],p=0,_=null!=(y=null==(f=t.dXt)?void 0:f._Xt)?y:[];p<_.length;p++){var k,M,b,T=_[p],N=new B$(T.TXt.sZt,T.TXt.rZt,T.TXt.hZt.concat(d),(null!=(M=null==(k=t.uXt)?void 0:k.AZt.uZt)?M:[]).concat(null!=(b=null==n?void 0:n.AZt.uZt)?b:[]));m.push(new x$(T.mXt,T.AXt,T.MXt,N,T.IXt,T.eXt))}h=new j$(m,(null!=(A=null==(v=t.dXt)?void 0:v.wXt)?A:[]).concat(i.wXt))}var D=t.lXt;if(D){var I,E,S,L=D.OXt;r&&r.OXt&&(L=r.OXt),D=new O$(L,(null!=(E=null==(I=t.lXt)?void 0:I.RXt)?E:[]).concat(null!=(S=null==r?void 0:r.RXt)?S:[]))}var C=t.lt;return this.lt&&(C=this.lt),{oXt:o,uXt:a,dXt:h,lXt:D,lt:C,fXt:t.fXt}},At(n,[{key:"oXt",get:function(){return this.hXt}},{key:"lZt",get:function(){return this.dZt}},{key:"fZt",get:function(){return this._Zt}},{key:"tXt",get:function(){return this.iXt}},{key:"gZt",get:function(){return this.wZt}},{key:"vZt",get:function(){return this.mZt}},{key:"lt",get:function(){return this.vz}}]),n}(S$);wt(),C(),mt();var U$=function(){function t(t,n,i,r,e,u,s,o){this.uS=t,this.MZt=n,this.TZt=i,this.HXt=r,this.SZt=e,this.NZt=u,this.IZt=s,this.DZt=o}return At(t,[{key:"o",get:function(){return this.uS}},{key:"yZt",get:function(){return this.MZt}},{key:"bZt",get:function(){return this.TZt}},{key:"WXt",get:function(){return this.HXt}},{key:"uXt",get:function(){return this.SZt}},{key:"cXt",get:function(){return this.NZt}},{key:"lXt",get:function(){return this.IZt}},{key:"universalAdIds",get:function(){return this.DZt}}]),t}();wt(),C(),mt();var Q$,Y$=function(){function t(t,n,i,r,e,u,s){this.EZt=t,this.LZt=n,this.vXt=i,this.xZt=r,this.OZt=e,this.kXt=!1,this.DXt=u,this.sXt=s}return t.prototype.LXt=function(){this.kXt=!0},At(t,[{key:"ct",get:function(){return this.EZt}},{key:"kZt",get:function(){return this.LZt}},{key:"wXt",get:function(){return this.vXt},set:function(t){this.vXt=t}},{key:"AZt",get:function(){return this.xZt},set:function(t){this.xZt=t}},{key:"CZt",get:function(){return this.OZt},set:function(t){this.OZt=t}},{key:"jZt",get:function(){return this.kXt}},{key:"Xl",get:function(){return this.NXt},set:function(t){this.NXt=t}},{key:"IXt",get:function(){return this.DXt}},{key:"eXt",get:function(){return this.sXt}}]),t}();function G$(t,n){return X$(t)&&t.getAttribute(n)||void 0}function F$(t,n){return V$(t,n,void 0,!1)}function V$(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function W$(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);X$(e)&&F$(e,n)&&i.push(e)}return i}function X$(t){return t&&1===t.nodeType}function Z$(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new v('Invalid document for MIME type "'+n+'"');return i}function H$(t){return Z$(t,"text/xml")}function K$(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function J$(t){return"data:application/xml,"+encodeURIComponent(t)}function q$(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}wt(),C(),wt(),C(),mt(),function(t){t.RZt="mute",t.PZt="unmute",t.Sh="pause",t.zZt="resume",t.BZt="rewind",t.UZt="skip",t.QZt="playerExpand",t.FZt="playerCollapse",t.Ah="fullscreen",t.YZt="exitFullscreen",t.GZt="expand",t.COLLAPSE="collapse",t.Ebt="start",t.VZt="firstQuartile",t.WZt="thirdQuartile",t.HZt="midpoint",t.XZt="complete",t.ZZt="acceptInvitationLinear",t.qZt="acceptInvitation",t.KZt="timeSpentViewing",t.JZt="otherAdInteraction",t.Zv="progress",t.$Zt="creativeView",t.tqt="adExpand",t.iqt="adCollapse",t.eqt="minimize",t.sqt="close",t.nqt="closeLinear",t.rqt="overlayViewDuration",t.oqt="breakStart",t.hqt="breakEnd",t.ha="error"}(Q$||(Q$={}));var $$=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function t0(t){return void 0!==t&&-1!==$$.indexOf(t)}var n0=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function i0(t){return void 0!==t&&-1!==n0.indexOf(t)}var r0=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function e0(t){return void 0!==t&&-1!==r0.indexOf(t)}function u0(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?y(i[1]||"0")+60*y(i[2]||"0")+y(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?y(i[1]||"0")*n/100:void 0}}var s0=function(){function t(t,n,i){this.aqt=t,this.uqt=n,this.cqt=i}return At(t,[{key:"eF",get:function(){return this.aqt}},{key:"Ku",get:function(){return this.uqt}},{key:"eventURL",get:function(){return this.cqt}}]),t}();wt(),C(),mt(),Mt();var o0=function(){function t(t){this.dqt=t}return At(t,[{key:"lqt",get:function(){return this.dqt}}]),t}(),a0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this)._qt=i,u.nZt=r,u.eZt=e,u}return kt(n,t),At(n,[{key:"sZt",get:function(){return this.nZt}},{key:"iZt",get:function(){return this.eZt}},{key:"fqt",get:function(){return this._qt}}]),n}(o0),c0=function(t){function n(n){return t.call(this,n)}return kt(n,t),n}(o0),h0=function(t){function n(n){return t.call(this,n)}return kt(n,t),n}(o0);wt(),C(),mt();var f0={gqt:{jL:100,pL:"XML parsing error."},wqt:{jL:303,pL:"Empty or invalid VAST error."},vqt:{jL:400,pL:"General linear error"},mqt:{jL:403,pL:"Unsupported MIME-type or missing mediafiles error"},pqt:{jL:500,pL:"General nonlinear error"},IQ:{jL:900,pL:"Network error"}},v0=function(){function t(t){this.yqt=t}return t.prototype.Mqt=function(t){if(this.Aqt){var n=this.Aqt.replace(/\[ERRORCODE]/,""+t.jL);k$(n)}},At(t,[{key:"Aqt",get:function(){return this.yqt}}]),t}();wt(),C(),mt(),Mt();var d0,l0,g0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&w0[i]||n,e)||this).Tqt=n,u.Nqt=i,u.Iqt=r,u}return kt(n,t),At(n,[{key:"bqt",get:function(){return this.Tqt}},{key:"Sqt",get:function(){var t;return null!=(t=this.Nqt)?t:900}}]),n}(Io);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(d0||(d0={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(l0||(l0={}));var w0={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function y0(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case hN.Mp:case hN.bp:case hN.yp:return!0;default:return!1}}function A0(t){var n=bu();return!!(y0(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(p0("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function m0(t,n){for(var i=0;i<n.length;i++){var r=n[i];new v0(r).Mqt(t)}}function p0(t){0}wt(),C(),wt(),C(),mt();var _0,k0=function(){function t(t,n){this.Eqt=t,this.Lqt=n}return At(t,[{key:"Dqt",get:function(){return this.Eqt}},{key:"kqt",get:function(){return this.Lqt}}]),t}();!function(t){t.xqt="linear",t.Cqt="nonlinear",t.Oqt="companion",t.jqt="vmap"}(_0||(_0={}));var M0,b0=function(){function t(){}var n=t.prototype;return n.Rqt=function(n,i){var r=this;return xt((function(){var e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:return N$(n.sources,n.timeOffset)?[4,t.Pqt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new g0(d0.NETWORK,l0.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return F$(u,"VMAP")?[4,r.zqt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return F$(u,"VAST")?[4,r.Bqt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new S0("",!0,!0,s),[2,[new I0("start",o,M0.xqt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new g0(d0.GENERAL,l0.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(D$(n.sources,n.timeOffset))return[2,[new E0(String(n.timeOffset),n,i)]];throw new g0(d0.GENERAL,l0.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.Uqt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return xt((function(){var s,o,a;return zt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.Pqt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),m0(o instanceof g0&&o.Sqt===l0.VAST_MALFORMED_RESPONSE?f0.wqt:f0.IQ,e),o;case 3:return(a=s&&s.documentElement)&&F$(a,"VAST")?[4,u.Bqt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:return[2,void 0]}}))}))()},n.Qqt=function(t,n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new g0(d0.GENERAL,l0.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.Uqt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new S0("",!0,!0,s),(a=new I0(n,o,M0.xqt,"",[],!1,!0,t)).Fqt=i,[2,a]}}))}))()},n.Bqt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return xt((function(){var u,s,o,a,c,h,f,v,d,l,g,w;return zt(this,(function(y){switch(y.label){case 0:if(u=[],s=[],o=[],!t||!F$(t,"VAST")){if(i)throw m0(f0.wqt,r),new g0(d0.PARSING,l0.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");return[2,void 0]}if(0===W$(t,"Ad").length)return[3,7];a=0,c=W$(t,"Ad"),y.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],y.label=2;case 2:return y.trys.push([2,4,,5]),[4,e.Yqt(h,n,r)];case 3:return 0===(f=y.sent()).Kb?u.push(f):s.push(f),[3,5];case 4:return v=y.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];return 1===u.length&&0===s.length?[2,u[0]]:0===u.length&&0!==s.length?[2,new E$(s)]:u.length>0||s.length>0?[2,new E$(s.concat(u))]:[3,8];case 7:if(0!==W$(t,"Error").length){for(d=0,l=W$(t,"Error");d<l.length;d++)g=l[d],p0(f0.gqt.pL),(w=g.textContent)&&r.push(w),m0(f0.gqt,r);throw new g0(d0.GENERAL,l0.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error")}if(i)throw m0(f0.wqt,r),new g0(d0.PARSING,l0.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");return[2,void 0];case 8:return[2]}}))}))()},n.zqt=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:e=[],u=W$(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.Gqt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),on.Wet(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.Yqt=function(n,i,r){var e=this;return xt((function(){var u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return u=G$(n,"id")||"",(s=TY(G$(n,"sequence")))||(s=0),o=W$(n,"InLine"),0===(a=W$(n,"Wrapper")).length?[3,2]:[4,e.Vqt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.Wqt(o[0],u,s,r)];c.label=3;case 3:throw new g0(d0.PARSING,l0.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.Vqt=function(n,i,r,e,u){var s=this;return xt((function(){var o,a,c,h,f,v,d,l,g,w,y,A,m,p,_,k;return zt(this,(function(M){switch(M.label){case 0:for(o=W$(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=W$(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,d=W$(n,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return g=W$(n,"VASTAdTagURI")[0],w="",g&&g.textContent&&(w=g.textContent),[4,s.Uqt(w,e,!0,u)];case 1:return y=M.sent(),A=W$(n,"Creatives")[0],m=[],A&&(m=t.Xqt(A,h,u)),(p=DY(G$(n,"followAdditionalWrappers")))||(p=!0),(_=DY(G$(n,"allowMultipleAds")))||(_=!0),(k=DY(G$(n,"fallbackOnNoAd")))||(k=!1),[2,new P$(i,r,f,y,p,m,_,k,new v0(a))]}}))}))()},n.Gqt=function(n,i,r){var e=this;return xt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p,_;return zt(this,(function(k){switch(k.label){case 0:if(u=G$(n,"timeOffset")||"0",s=G$(n,"breakType")||M0.jT,o=G$(n,"breakId"),a=DY(G$(n,"repeatAfter")),c=void 0!==N0.sKt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new g0(d0.PARSING,l0.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=W$(n,"AdSource")[0],f=W$(n,"TrackingEvents")[0],v=[],f&&(v=t.Jqt(f,q$,"vmap")),(d=G$(h,"id"))||(d=""),void 0===(l=DY(G$(h,"allowMultipleAds")))&&(l=!0),(g=DY(G$(h,"followRedirects")))||(g=!0),w=W$(h,"AdTagURI")[0],y="",A=W$(h,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return y=w.textContent,(m=wA(i)).sources.src=y,[2,new E0(u,m,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return A?A.firstElementChild&&V$(A.firstElementChild,"VAST")?[4,e.Bqt(A.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(p=k.sent())?(_=new S0(d,l,g,p),[2,new I0(u,_,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new g0(d0.PARSING,l0.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new g0(d0.PARSING,l0.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.uD(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new g0(d0.NETWORK,l0.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!Vw(i))throw new g0(d0.NETWORK,l0.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.Pqt=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return r=new qw({zu:t,qD:ld.Ru,ZD:Ww.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.ly()];case 3:return[2,H$.apply(void 0,[u.sent()])];case 4:throw u.sent(),new g0(d0.NETWORK,l0.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.Wqt=function(n,i,r,e){var u,s=W$(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=W$(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=W$(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,d=W$(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var g=t.Hqt(W$(n,"Creatives")[0],c,e);return new L$(i,r,c,o,f,g,new v0(u))},t.Xqt=function(n,i,r){for(var e=[],u=0,s=W$(n,"Creative");u<s.length;u++){var o=s[u],a=G$(o,"id");a||(a="");var c=TY(G$(o,"sequence"));c||(c=0);var h=G$(o,"adId");h||(h="");var f=W$(o,"Linear")[0],v=void 0;f&&(v=t.Zqt(f,"wrapper",a,i,r));var d=W$(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.qqt(d,a,i)}catch(t){}var g=W$(o,"CompanionAds")[0],w=void 0;g&&(w=t.Kqt(g)),e.push(new U$(a,h,c,"",v,l,w,[]))}return e},t.Hqt=function(n,i,r){for(var e=[],u=0,s=W$(n,"Creative");u<s.length;u++){var o=s[u],a=G$(o,"id");a||(a="");var c=TY(G$(o,"sequence"));c||(c=0);var h=G$(o,"adId");h||(h="");var f=G$(o,"apiFramework");f||(f="");var v=W$(o,"Linear")[0],d=void 0;if(v)try{d=t.Zqt(v,"inline",a,i,r)}catch(t){}var l=W$(o,"NonLinearAds")[0],g=void 0;if(l)try{g=t.qqt(l,a,i)}catch(t){}var w=W$(o,"CompanionAds")[0],y=void 0;w&&(y=t.Kqt(w));var A=W$(o,"UniversalAdId"),m=t.parseUniversalAdIds(A);e.push(new U$(a,h,c,f,d,g,y,m))}return e},t.Zqt=function(n,i,r,e,u){var s=W$(n,"Duration")[0],o=0;if(s)o=b$(s.textContent)||0;else if(!s&&"inline"===i)throw new g0(d0.PARSING,l0.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=G$(n,"skipoffset"),c=-1;if(a){var h=b$(a);if(void 0===h&&a.indexOf("%")>-1){var f=g.abs(Number(a.replace(/(?![0-9])./g,"")))/100;A(f)||(h=o*f)}void 0!==h&&(c=h)}var v=W$(n,"MediaFiles")[0],d=[];if(v&&(d=function(t,n){for(var i=[],r=0,e=W$(t,"MediaFile");r<e.length;r++){var u=e[r],s=G$(u,"delivery"),o=G$(u,"type");if(o){if(n(o)){var a=TY(G$(u,"width")),c=TY(G$(u,"height"));a||(p0(),a=0),c||(p0(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else p0()}return i}(v,A0)),"inline"===i&&(!v||0===d.length))throw m0(f0.mqt,u),new g0(d0.PARSING,l0.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var l=W$(n,"TrackingEvents")[0],w=[];l&&(w=t.Jqt(l,t0,"linear"));var y=W$(n,"VideoClicks")[0],m=t.$qt(y);return new Y$(o,d,w,m,c,r,e)},t.$qt=function(n){if(!n)return new B$("","",[],[]);var i,r=W$(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=G$(r,"id")||"");var u=t.tKt(W$(n,"ClickTracking")),s=t.tKt(W$(n,"CustomClick"));return new B$(i,e,u,s)},t.tKt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=G$(r,"id")||"";n.push(new R$(u,e))}}return n},t.Jqt=function(t,n,i){for(var r=[],e=0,u=W$(t,"Tracking");e<u.length;e++){var s=u[e],o=G$(s,"event");if(n(o)){var a="";"linear"===i&&(a=G$(t,"offset")||"0");var c=s.textContent;c&&r.push(new s0(o,a,c))}else p0()}return r},t.qqt=function(n,i,r){for(var e=[],u=0,s=W$(n,"NonLinear");u<s.length;u++){var o=s[u],a=W$(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.tKt(W$(o,"NonLinearClickTracking")),f=W$(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=G$(f,"creativeType"),l=f.textContent||"",g=W$(f.parentNode,"NonLinearClickThrough")[0],w="";g&&(w=g.textContent||""),v=new a0(l,d,w,"")}var y=t.iKt(o),A=t.parseHtmlResource(o);if(v||y||A){var m=new B$(c,"",h,[]);e.push(new x$(v,y,A,m,i,r))}else p0()}if(0===e.length)throw new g0(d0.PARSING,l0.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var p=W$(n,"TrackingEvents")[0],_=[];return p&&(_=t.Jqt(p,i0,"nonlinear")),new j$(e,_)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=G$(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=G$(s,"idValue"))?e:s.textContent)?u:"";n.push(new k0(o,a))}return n},t.Kqt=function(n){var i=G$(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=C$.yB);for(var r=[],e=0,u=W$(n,"Companion");e<u.length;e++){var s=u[e],o=TY(G$(s,"width")),a=TY(G$(s,"height")),c=G$(s,"id"),h=TY(G$(s,"assetWidth")),f=TY(G$(s,"assetHeight")),v=TY(G$(s,"expandedWidth")),d=TY(G$(s,"rxpandedHeight")),l=G$(s,"apiFramework"),g=G$(s,"adSlotId"),w=TY(G$(s,"pxratio")),y=W$(s,"AltText")[0],A=y?y.textContent:"";o||(p0(),o=0),a||(p0(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),g||(g=""),w||(w=1),A||(A="");var m=t.eKt(s),p=t.iKt(s),_=t.parseHtmlResource(s),k=W$(s,"TrackingEvents")[0],M=[];k&&(M=t.Jqt(k,e0,"companion"));var b=W$(s,"CompanionClickThrough")[0],T=void 0;b&&(T=b.textContent||void 0);var N=t.tKt(W$(s,"CompanionClickTracking"));(m||p||_)&&r.push(new z$(o,a,c,h,f,v,d,l,g,w,m,p,_,new B$(T,"",N,[]),M,A))}return new O$(i,r)},t.eKt=function(t){var n,i=W$(t,"StaticResource")[0];if(i&&i.parentNode){var r=G$(i,"creativeType");r||(r="");var e,u=i.textContent,s=W$(i.parentNode,"AltText")[0],o=W$(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new a0(u,r,e,a))}return n},t.iKt=function(t){var n,i=W$(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new c0(r)}return n},t.parseHtmlResource=function(t){var n,i=W$(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new h0(r)}return n},t}();!function(t){t.jT="",t.xqt="linear",t.nKt="nonlinear",t.rKt="display"}(M0||(M0={}));var T0,N0=function(){function t(){}return t.oKt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.hKt=function(t){},t.aKt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.uKt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.cKt=function(t){if(t<=0)return"00:00:00.000";var n=g.floor(t),i=t-n;return this.lKt(n/3600,2)+":"+this.lKt(n/60%60,2)+":"+this.lKt(n%60,2)+"."+this.lKt(1e3*i,3)},t.lKt=function(t,n){return("00"+g.floor(t)).slice(-n)},t.dKt=function(t,n){var i=this.sKt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return T$(t)*n;if(1===i)return b$(t);if(3===i)return this.aKt(t);if(4===i){var r=Number(t);if(!A(r)&&r>=-1)return r}}},t.sKt=function(t){return"start"===t||"end"===t?0:void 0!==b$(t.toString())?1:void 0!==T$(t.toString())?2:void 0!==this.hKt(t.toString())?3:A(Number(t))?void 0:4},t}();!function(t){t[t.n8=0]="n8",t[t.fKt=1]="fKt",t[t._Kt=2]="_Kt",t[t.gKt=3]="gKt",t[t.wKt=4]="wKt"}(T0||(T0={}));var D0,I0=function(){function t(t,n,i,r,e,u,s,o){this.OZt=-1,this.AKt=n,this.yKt=t,this.DKt=i,this.bKt=r,this.SKt=u,this.tZt=e,this.EKt=s,this.mKt=o}return t.prototype.$n=function(){return K.resolve()},At(t,[{key:"vKt",get:function(){return this.mKt.integration}},{key:"pKt",get:function(){return this.AKt}},{key:"cPt",get:function(){return this.yKt}},{key:"CZt",get:function(){return this.OZt},set:function(t){this.OZt=t}},{key:"wXt",get:function(){return this.tZt}},{key:"MKt",get:function(){return this.bKt}},{key:"TKt",get:function(){return this.SKt}},{key:"Wit",get:function(){return this.mKt}},{key:"NKt",get:function(){return this.Fqt.Kl}},{key:"W",get:function(){return!0}},{key:"Fqt",get:function(){return this.IKt},set:function(t){this.IKt=t}}]),t}(),E0=function(){function t(t,n,i){this.tst=!1,this.aE=i,this.NXt=new I0(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.kKt)?t:this.kKt=this.nst()},n.nst=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,(new b0).Qqt(t.Wit,t.cPt,t.Fqt,t.aE)];case 1:return t.NXt=n.sent(),t.tst=!0,[2]}}))}))()},At(t,[{key:"vKt",get:function(){return this.NXt.vKt}},{key:"pKt",get:function(){return this.NXt.pKt}},{key:"cPt",get:function(){return this.NXt.cPt}},{key:"CZt",get:function(){return this.NXt.CZt},set:function(t){this.NXt.CZt=t}},{key:"wXt",get:function(){return this.NXt.wXt}},{key:"MKt",get:function(){return this.NXt.MKt}},{key:"TKt",get:function(){return this.NXt.TKt}},{key:"Wit",get:function(){return this.NXt.Wit}},{key:"NKt",get:function(){return this.NXt.NKt}},{key:"W",get:function(){return this.tst}},{key:"Fqt",get:function(){return this.NXt.Fqt},set:function(t){this.NXt.Fqt=t}}]),t}(),S0=function(){function t(t,n,i,r){this.uS=t,this.LKt=n,this.OKt=r,this.CKt=i}return At(t,[{key:"o",get:function(){return this.uS}},{key:"gZt",get:function(){return this.LKt}},{key:"xKt",get:function(){return this.CKt}},{key:"HHt",get:function(){return this.OKt}}]),t}();function L0(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return J$(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=RN(i)||QN(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+N0.cKt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+N0.cKt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+K$(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+K$(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+K$(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=J$(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}!function(t){t.jKt="error",t.RKt="sourceupdate"}(D0||(D0={}));var C0=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return kt(n,t),n}(Jo),j0=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.yc=i,r}return kt(n,t),n}(Jo),x0=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).tJt=0,e.XKt=function(t){e.Co(new C0(t))},e.HKt=function(t){var n,i=new o$(y$(t.code),null!=(n=t.description)?n:void 0);e.XKt(i)},e.hCt=n,e.BKt=i,e.PKt=r,e}kt(n,t);var i=n.prototype;return i.zKt=function(t){this.BKt.zKt(t)},i.UKt=function(t){this.BKt.UKt(t)},i.QKt=function(t){this.BKt.QKt(t)},i.FKt=function(t){this.BKt.FKt(t)},i.YKt=function(t){this.PKt.addUpdateListener(t)},i.GKt=function(t){this.PKt.removeUpdateListener(t)},i.VKt=function(){var t=this,n=new Cc,i=new chrome.cast.media.GetStatusRequest;return this.PKt.getStatus(i,(function(){n.LL({bt:t.B_(),yc:t.Wa()})}),(function(t){return n.xL(t)})),n.OL},i.B_=function(){var t;return null==(t=this.PKt.customData)?void 0:t.currentSource},i.Wa=function(){var t,n;if(null==(t=this.hCt.WKt())?void 0:t.version){var i;n=null==(i=this.PKt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=A$(this.PKt))?void 0:r.customData;(function(t){return Un(t)&&t.theoplayer_version>=1&&zn(t.streamStart)&&zn(t.isLive)&&zn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:O0(t)}}(this.PKt.media))}return n},i.Hg=function(){var t=new chrome.cast.media.PauseRequest;this.PKt.pause(t,Hn,this.HKt)},i.Zg=function(){var t=new chrome.cast.media.StopRequest;this.PKt.stop(t,Hn,this.HKt)},i.Xg=function(){var t=new chrome.cast.media.PlayRequest;this.PKt.play(t,Hn,this.HKt)},i.JA=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new K((function(t,n){i.PKt.seek(r,t,(function(t){var i;n(new o$(y$(t.code),null!=(i=t.description)?i:void 0))}))}))},i.vg=function(t){this.BKt.L7(p$,function(t){return{type:m$.WHt,properties:{playbackRate:t}}}(t)).catch(this.XKt)},i.ZKt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.PKt.editTracksInfo(n,Hn,this.HKt)},i.qKt=function(){return this.PKt.getEstimatedTime()},i.KKt=function(){return this.PKt.getEstimatedBreakClipTime()},i.JKt=function(){return this.PKt.getEstimatedBreakTime()},i.$Kt=function(){this.BKt.L7("urn:x-cast:com.google.cast.media",{type:_$.SKIP_AD,requestId:this.tJt++,mediaSessionId:this.PKt.mediaSessionId}).catch(this.XKt)},i.gn=function(){this.Vo()},At(n,[{key:"wM",get:function(){return this.PKt}}]),n}(Xo);function O0(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?wo(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=ro(n,(function(t){return t.id===u}));if(s){var o=L0(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}wt(),C();var z0,R0=function(){function t(t){this.hCt=t}var n=t.prototype;return n.iJt=function(t,n){this.hCt.addMessageListener(t,n)},n.eJt=function(t,n){this.hCt.removeMessageListener(t,n)},n.L7=function(t,n){var i=this;return new K((function(r,e){i.hCt.sendMessage(t,n,r,(function(t){var n;e(new o$(y$(t.code),null!=(n=t.description)?n:void 0))}))}))},n.gn=function(){},t}();function B0(t){return"vmap"===t||"adrule"===t}function P0(t){if(t)return Yn(t)&&""!==t?{src:TA(t),type:void 0}:function(t){return Un(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:TA(t.src),type:U0(t.type)}:void 0}function U0(t){if(Yn(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void si("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||si("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function Q0(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return M$.test(t)}(t))return N0.uKt(t);if(Y0(t))return t}return Number(t)>=0?Number(t):void 0}}function Y0(t){return new RegExp(/^\d{1,2}%$/).test(t)}function G0(t){for(var n=[],i=function(t,r){if(Bn(r))for(var e=0,u=r.length;e<u;e++){var s=Un(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if(Un(r))for(var o=0,a=l.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=l.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}wt(),C(),wt(),C(),wt(),C(),function(t){t.GHt="receiver_info",t.iPt="event",t.sJt="propertychange",t.VHt="trackevent"}(z0||(z0={}));var F0,V0=function(){function t(t){var n=this;this.rJt=[],this.oJt=[],this.cJt=function(t,i){var r=n.nJt(i);if(r)if(r.type===z0.sJt)for(var e=0,u=n.rJt;e<u.length;e++)for(var s=u[e],o=0,a=l.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===z0.iPt)for(var h=0,f=n.oJt;h<f.length;h++){(0,f[h])(r.event)}else r.type===z0.VHt&&n.aJt&&r.event.trackState&&n.aJt(r.event.trackId,r.event.trackState.targetQualityIds)},this.uJt=t,this.uJt.iJt(p$,this.cJt)}var n=t.prototype;return n.nJt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.zKt=function(t){this.rJt.push(t)},n.UKt=function(t){ao(this.rJt,t)},n.QKt=function(t){this.oJt.push(t)},n.FKt=function(t){ao(this.oJt,t)},n.hJt=function(t){this.aJt=t},n.L7=function(t,n){return this.uJt.L7(t,n)},n.gn=function(){this.uJt.eJt(p$,this.cJt),lo(this.oJt),lo(this.rJt),this.aJt=void 0},t}();wt(),C(),wt(),C(),function(t){t.lJt="medialoadedchange",t._m="volumechange",t.jKt="casterror",t.dJt="playererror",t.fJt="targetqualitychanged",t._Jt="receiverinfochanged"}(F0||(F0={}));var W0,X0=function(t){function n(){return t.call(this,"medialoadedchange")}return kt(n,t),n}(Jo),Z0=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).zg=n,r.og=i,r}return kt(n,t),n}(Jo),H0=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return kt(n,t),n}(Jo),K0=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return kt(n,t),n}(Jo),J0=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).AM=n,r.gJt=i,r}return kt(n,t),n}(Jo),q0=function(t){function n(){return t.call(this,"receiverinfochanged")}return kt(n,t),n}(Jo),$0=function(t){function n(n){var i;(i=t.call(this)||this).pJt=void 0,i.XKt=function(t){i.Co(new H0(t))},i.xJt=function(t,n){"error"===t&&i.Co(new K0(n))},i.CJt=function(t,n){i.Co(new J0(t,n))},i.mJt=function(t,n){var r=JSON.parse(n);r.type===z0.GHt&&(i.pJt=r.info,i.Co(new q0))},i.bJt=function(){var t=i.AJt().receiver.volume,n=t.level,r=t.muted;i.Co(new Z0(null!=n?n:void 0,null!=r?r:void 0))},i.LJt=function(){return i.yJt(i.hCt.getMediaSession())},i.TJt=function(t){var n;t||(null==(n=i.MJt)||n.GKt(i.TJt),i.MJt=void 0,i.Co(new X0))},i.EJt=function(t){var n,r=new o$(y$(t.code),null!=(n=t.description)?n:void 0);i.XKt(r)},i.hCt=n,i.hCt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.LJt),i.uJt=new R0(n.getSessionObj()),i.BKt=new V0(i.uJt),i.BKt.zKt(i.xJt),i.BKt.hJt(i.CJt),i.AJt().addUpdateListener(i.bJt),i.bJt(),i.vJt();var r=i.hCt.getMediaSession();return r&&i.yJt(r),i}kt(n,t);var i=n.prototype;return i.wJt=function(t,n,i){this.BKt.L7(p$,function(t,n,i){return{type:m$.VHt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.XKt)},i.vJt=function(){this.uJt.iJt(p$,this.mJt),this.BKt.L7(p$,{type:m$.GHt}).catch(Hn)},i.WKt=function(){return this.pJt},i.AJt=function(){return this.hCt.getSessionObj()},i.yJt=function(t){!this.MJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.MJt=new x0(this,this.BKt,t),this.bJt(),this.Co(new X0),this.MJt.YKt(this.TJt))},i.SJt=function(){return this.MJt},i.NJt=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=GI(t)||"",u=QI(t)||"",s=new chrome.cast.media.MediaInfo(e,u);return s.metadata=w$(t.metadata,t.poster),s.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=P0(e.sources);if(c)if(N$(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(D$(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,d=e.skipOffset,l=null!=(f=N0.dKt(v,i))?f:0,g=void 0!==d?N0.dKt(d,i):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=c.src,w.whenSkippable=g,w.customData={integration:e.integration};var y=ro(s,(function(t){return t.position===l}));void 0===y&&(y=new chrome.cast.media.Break("b"+o++,[],l),s.push(y)),y.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(s,n,i),s}(t.IJt,t.Oc,t.ct,t.QK),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.U_,i.customData=t.DJt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.hCt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new o$(y$(r));return[2]}}))}))()},i.ag=function(t){this.AJt().setReceiverMuted(t,Hn,this.EJt)},i.Ug=function(t){this.AJt().setReceiverVolumeLevel(t,Hn,this.EJt)},i.kJt=function(){return this.AJt().receiver.friendlyName},i.gn=function(){this.Vo(),this.hCt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.LJt),this.AJt().removeUpdateListener(this.bJt),this.uJt.eJt(p$,this.mJt),this.BKt.gn(),this.uJt.gn()},n}(Xo);!function(t){t.OJt="statechange"}(W0||(W0={}));var t1=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Wdt=n,i}return kt(n,t),n}(Jo),n1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).r2t=void 0,n.n2t=void 0,n.qX=function(){var t=n.V1t();n.r2t=t===NI.CONNECTED?new $0(n.o2t.getCurrentSession()):void 0,n.Co(new t1(t))},n}kt(n,t);var i=n.prototype;return i.M1t=function(t){this.n2t=t},i.b1t=function(){return this.n2t},i.S1t=function(){return this.r2t},i.V1t=function(){switch(this.o2t.getCastState()){case cast.framework.CastState.CONNECTED:return NI.CONNECTED;case cast.framework.CastState.CONNECTING:return NI.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return NI.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return NI.UNAVAILABLE}},i.oX=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,a$(n)];case 1:return r.sent(),i.o2t=cast.framework.CastContext.getInstance(),i.o2t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.qX),i.o2t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.k1t=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.o2t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new o$(y$(i));case 3:return[2]}}))}))()},i.x1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onStart(t)},i.U1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onStop(t)},i.O1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onJoin(t)},i.B1t=function(t){var n;return null==(n=this.n2t)?void 0:n.onLeave(t)},i.F1t=function(t){this.o2t.endCurrentSession(t)},n}(Xo);wt(),C(),Wt(),Ot(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Mt();var i1,r1=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).Qo=n,h.jJt=0,h.YT=new RA,h.VT=new RA,h.Dl=new j_,h.Ic=new OR,h.jJt=i,h.hU=r-i,h.jx=e,h.o2=u,h.cU=s,h.lU=o,h.PJt=a,h.zJt=c,h}kt(n,t);var i=n.prototype;return i.ait=function(){return this.Ic},i.j_=function(){return BD.oU()},i.Q_=function(){return this.hU+this.jJt},i.Ktt=function(){return this.Q_()},i.P_=function(){},i.Td=function(){return this.jx},i.V_=function(){return this.o2},i.W_=function(){},i._g=function(){return this.cU},i.RJt=function(){},i.wg=function(){return this.lU},i.vg=function(t){this.lU!==t&&(this.lU=t,this.Co(new aD(this.Qo.U_,t)))},i.Ng=function(){return ak.BT},i.Ag=function(){return BD.oU()},i.Dg=function(){return BD.oU()},i.Lg=function(){return!1},i.L_=function(){return this.YT},i.jg=function(){return this.VT},i.xg=function(){return this.Dl},i.ZKt=function(t){},i.Pg=function(){return this.PJt},i.Og=function(){return this.zJt},i.Xg=function(){this.cU=!1},i.Hg=function(){this.cU=!0},i.JA=function(t){this.hU=t-this.jJt},i.BJt=function(){return this.jJt},i.UJt=function(t){this.jJt=t},i.Yit=function(t){this.Ic.Yit(t)},i.Zg=function(){},i.gn=function(){this.Vo(),this.YT.gn(),this.VT.gn(),this.Dl.gn(),this.Ic.gn()},n}(Xo);wt(),C(),Mt(),Ft(),wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),function(t){t.QJt="ccmodechangerequest",t.FJt="cctargetqualitychangerequest",t.YJt="cctrackchangerequest"}(i1||(i1={}));var e1,u1,s1=function(t){function n(n,i,r){var e;return(e=t.call(this,i1.QJt)||this).track=n,e.trackId=i,e.mode=r,e}return kt(n,t),n}(Jo);function o1(t){return"AUDIO"===t.type}function a1(t){return"VIDEO"===t.type}function c1(t){return"TEXT"===t.type}wt(),C(),function(t){t.Ru="TEXT",t.WA="AUDIO",t.VA="VIDEO"}(e1||(e1={})),function(t){t.HA="SUBTITLES",t.sD="CAPTIONS",t.nD="DESCRIPTIONS",t.Fn="CHAPTERS",t.ZA="METADATA"}(u1||(u1={}));var h1=function(t){function n(n){var i;(i=t.call(this)||this).Xa=void 0;var r=n.customData;return i.Xw=Number(n.trackId)||0,i.o=""+(r&&r.id||i.Xw),i.lS=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.fv=r&&r.inBandMetadataTrackDispatchType||"",i.zt=r&&r.kind||function(t){switch(t){case u1.HA:return C_.HA;case u1.sD:return C_.sD;case u1.nD:return C_.nD;case u1.Fn:return C_.Fn;case u1.ZA:return C_.ZA}return}(n.subtype)||"subtitles",i.Sg=am.NONE,i.Av=r&&void 0!==r.type?function(t){return vm(t)?t:cm.DEFAULT}(r.type):cm.WEBVTT,i.S2=[],i.I2=new mj(i.S2),i.j2=[],i.N2=new mj(i.j2),i.CU=D_(r&&r.mode||h_.Ch),i.GJt=i.CU,i}kt(n,t);var i=n.prototype;return i.D2=function(t){return ro(this.I2.Rw,(function(n){return n.o===t}))},i.mv=function(t){this._v=t},i.WJt=function(t){},i.gn=function(){},i.tr=function(){},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=E_(this)),this.Xa}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"q",get:function(){return this.N2}},{key:"L",get:function(){return this.I2}},{key:"_v",get:function(){return this.CU},set:function(t){var n=D_(t);this.CU!==n&&(this.CU=n,this.GJt!==n&&this.Co(new s1(this,this.Xw,n)),this.Co(new XA(this)))}},{key:"VJt",get:function(){return this.GJt},set:function(t){var n=D_(t),i=this.CU!==n;this.CU=n,this.GJt=n,i&&this.Co(new XA(this))}}]),n}(Xo);wt(),C(),Wt(),mt(),Mt(),wt(),C(),Mt();var f1=function(t){function n(n,i){var r;return(r=t.call(this,i1.YJt)||this).trackId=n,r.enabled=i,r}return kt(n,t),n}(Jo);wt(),C(),Mt();var v1,d1=function(t){function n(n,i){var r;return(r=t.call(this,i1.FJt)||this).track=n,r.targetQuality=i,r}return kt(n,t),n}(Jo);wt(),C(),function(t){t.WA="audio",t.VA="video",t.Ru="text"}(v1||(v1={}));var l1,g1=function(t){function n(n){var i;(i=t.call(this)||this).$lt=void 0,i.sS=new WA,i.Klt=void 0,i.Xa=void 0,i.jjt=function(){return i.Co(new HA(Vt(i)))};var r=n.customData;if(i.Xw=Number(n.trackId)||0,i.o=""+(r&&r.id||i.Xw),i.lS=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.zt=r&&r.kind||"main",i.Le=r&&r.enabled,i.XJt=i.Le,o1(n)){i.O0=v1.WA;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new eG(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.yn("update",i.jjt),i.sS.nS(o)}}else{i.O0=v1.VA;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new rG(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.yn("update",i.jjt),i.sS.nS(f)}}return i}kt(n,t);var i=n.prototype;return i.fS=function(t){this.Rt=t},i.WJt=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.sS.Rw;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.HJt(u)}},i.HJt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!go(t,n)})(this.Klt,t)&&(this.Klt=t&&this.sS.oS(t)?t:void 0,this.Co(new vU(this.Klt,this)))},i.unload=function(){for(var t=0,n=this.sS.Rw;t<n.length;t++){n[t].fn("update",this.jjt)}this.sS.tr()},At(n,[{key:"Hw",get:function(){return this.$lt}},{key:"Kw",get:function(){return this.Klt},set:function(t){this.HJt(t),this.Co(new d1(this,t))}},{key:"qw",get:function(){return this.sS}},{key:"kh",get:function(){return this.lS},set:function(t){t!==this.lS&&(this.lS=t,this.Co(new HA(this)))}},{key:"Rt",get:function(){return this.Le},set:function(t){this.Le!==t&&(this.Le=t,this.XJt!==t&&this.Co(new f1(this.Xw,t)),this.Co(new XA(this)))}},{key:"ZJt",get:function(){return this.XJt},set:function(t){var n=this.Le!==t;this.Le=t,this.XJt=t,n&&this.Co(new XA(this))}},{key:"va",get:function(){return this.Xa||(this.Xa=jA(this)),this.Xa}},{key:"_v",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(Xo);wt(),C(),function(t){t.qJt="legacy",t.KJt="caf"}(l1||(l1={})),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt(),wt(),C(),wt(),C();var w1=function(){function t(t){this.JJt=0,this.Ic=t}var n=t.prototype;return n.Mc=function(){if(!(this.JJt>=this.Ic.length)){var t=this.Ic[this.JJt];return this.JJt+=1,t}},n.lt=function(){return this.Mc()},t}();function y1(t){var n,i,r;return null!=(r=null==(i=t.pKt)||null==(n=i.HHt)?void 0:n.XHt())?r:[]}var A1,m1=function(){},p1=function(){function t(){this.Xa=void 0}return t.prototype.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get ads(){return t.Oc.map((function(t){return t.Nit()}))},get integration(){return t.vKt},get maxDuration(){return t.$Jt},get maxRemainingDuration(){return t.t$t},get timeOffset(){return t.cPt},get customData(){return t.DJt}}}(this)},t}(),_1=function(){function t(t,n){this.e$t=t,this.Qo=n}return At(t,[{key:"i$t",get:function(){return this.e$t}},{key:"t",get:function(){return this.Qo}}]),t}(),k1=function(t){function n(n,i){var r;return(r=t.call(this)||this).o$t=[],r.a$t=[],r.IKt=n,r.h$t=i,r}kt(n,t);var i=n.prototype;return i.n$t=function(t,n,i,r){var e=ro(this.o$t,(function(n){return n.uXt===t}));if(void 0!==e)return e;var u=new N1(t,n,this,this.h$t,i,r);return this.o$t.push(u),u},i.r$t=function(t,n,i,r,e){var u=ro(this.a$t,(function(n){return n.dXt===t}));if(void 0!==u)return u;var s=new T1(t,n,i,this,this.h$t,r,e);return this.a$t.push(s),s},At(n,[{key:"Fqt",get:function(){return this.IKt}},{key:"Oc",get:function(){for(var t=[],n=0,i=this.IKt.s$t;n<i.length;n++)for(var r=i[n],e=0,u=y1(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.lXt)?void 0:s.RXt)?o:[];if(a.uXt&&t.push(this.n$t(a.uXt,c,a.fXt,r.Wit)),a.dXt)for(var h=0,f=a.dXt._Xt;h<f.length;h++){var v=f[h];t.push(this.r$t(v,c,a.dXt,a.fXt,r.Wit))}}return t}},{key:"vKt",get:function(){return oI.CSAI}},{key:"cPt",get:function(){var t=this.IKt.Kl;return t>=0?t:this.h$t.t.Td()}},{key:"t$t",get:function(){for(var t=0,n=0,i=this.IKt.s$t;n<i.length;n++)for(var r=0,e=y1(i[n]);r<e.length;r++){var u=e[r];u.uXt&&!u.uXt.jZt&&(t+=u.uXt.ct)}return this.h$t&&this.h$t.i$t&&(t+=this.h$t.i$t.ct-this.h$t.i$t.U_),t}},{key:"$Jt",get:function(){for(var t=0,n=0,i=this.IKt.s$t;n<i.length;n++)for(var r=0,e=y1(i[n]);r<e.length;r++){var u=e[r];u.uXt&&(t+=u.uXt.ct)}return t}},{key:"DJt",get:function(){}}]),n}(p1),M1={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},b1=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).c$t=!1,o.v$t=n,o.PXt=i,o.NXt=r,o.h$t=e,o.DZt=u,o.mKt=s,o}kt(n,t);var i=n.prototype;return i.u$t=function(){return this.c$t},i.l$t=function(){this.c$t=!0},i.d$t=function(t){return Xu({},M1,{resourceURI:t.lqt||""})},i.f$t=function(t){return Xu({},M1,{contentHTML:t.lqt.trim(),type:"HTMLResource"})},i._$t=function(t){var n,i;return Xu({},M1,{clickThrough:(null==(n=t.sZt)?void 0:n.trim())||"",resourceURI:(null==(i=t.lqt)?void 0:i.trim())||"",altText:t.iZt||"",type:"StaticResource"})},i.g$t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.lXt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.XXt||"",height:t.Ti||0,width:t.ji||0};if(t.mXt){var e,u=n._$t(t.mXt),s=u.clickThrough||(null==(e=t.JXt)?void 0:e.sZt);i=Xu({},u,{contentHTML:n.g$t(u.resourceURI,s,u.altText)||""})}else if(t.MXt)i=n.f$t(t.MXt);else{if(!t.AXt)return;i=n.d$t(t.AXt)}return gA(i,r)})).filter((function(t){return void 0!==t})):[]},i.w$t=function(){return this.v$t.eXt},At(n,[{key:"Xl",get:function(){return this.NXt}},{key:"Wit",get:function(){return this.mKt}},{key:"fXt",get:function(){return this.DZt}}]),n}(m1),T1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).m$t=r,a}kt(n,t);var i=n.prototype;return i.fa=function(){var t=this.NXt,n={companions:this.lXt(this.PXt),type:"nonlinear",id:this.v$t.IXt,skipOffset:this.CZt,integration:this.mKt.integration,adSystem:this.v$t.eXt,get adBreak(){return t.Nit()},creativeId:this.v$t.IXt,universalAdIds:this.DZt.map((function(t){return{adIdRegistry:t.Dqt,adIdValue:t.kqt}}))};return this.v$t.AXt?gA(this.d$t(this.v$t.AXt),n):this.v$t.MXt?gA(this.f$t(this.v$t.MXt),n):this.v$t.mXt?gA(this._$t(this.v$t.mXt),n):n},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},i.p$t=function(){var t,n;return null!=(n=null==(t=this.v$t.mXt)?void 0:t.lqt)?n:""},i.A$t=function(){var t,n,i;return null!=(i=null==(n=this.v$t)||null==(t=n.mXt)?void 0:t.fqt)?i:""},At(n,[{key:"dXt",get:function(){return this.v$t}},{key:"cXt",get:function(){return this.m$t}},{key:"CZt",get:function(){var t,n=this.v$t.Xl;return n&&n.Wit&&void 0!==n.Wit.skipOffset?N0.dKt(n.Wit.skipOffset,this.h$t.i$t.ct):(null==(t=this.v$t.Xl)?void 0:t.CZt)||-1}}]),n}(b1),N1=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)}kt(n,t);var i=n.prototype;return i.fa=function(){var t,n=this.NXt;return{companions:this.lXt(this.PXt),duration:this.v$t.ct,id:this.v$t.IXt,mediaFiles:this.v$t.kZt,skipOffset:this.CZt,type:"linear",integration:this.mKt.integration,adSystem:this.v$t.eXt,width:void 0,height:void 0,get adBreak(){return n.Nit()},clickThrough:null==(t=this.v$t.AZt)?void 0:t.sZt,creativeId:this.v$t.IXt,universalAdIds:this.DZt.map((function(t){return{adIdRegistry:t.Dqt,adIdValue:t.kqt}}))}},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},i.p$t=function(){return this.v$t.kZt.length>0?this.v$t.kZt[0].contentURL:""},i.A$t=function(){return this.v$t.kZt.length>0?this.v$t.kZt[0].type:""},At(n,[{key:"uXt",get:function(){return this.v$t}},{key:"CZt",get:function(){var t=this.v$t.Xl;return t&&t.Wit&&void 0!==t.Wit.skipOffset?N0.dKt(t.Wit.skipOffset,this.h$t.i$t.ct):this.v$t.CZt||-1}}]),n}(b1);function D1(t){return t instanceof N1}wt(),C(),function(t){t.y$t="csai",t.M$t="google-ima",t.so="google-dai",t.b$t="freewheel",t.T$t="mediatailor",t.AE="chromecast",t.git="theoads"}(A1||(A1={})),wt(),C(),Mt();var I1=function(t){function n(n){return t.call(this,"S$t",n)}return kt(n,t),n.prototype.fa=function(){return new E1(this.Rit.Nit())},n}(pR),E1=function(t){function n(n){return t.call(this,"updatead",n)}return kt(n,t),n}(_R);wt(),C(),Mt();var S1=function(t){function n(n){return t.call(this,"N$t",n)}return kt(n,t),n.prototype.fa=function(){return new L1(this.Rit.Nit())},n}(pR),L1=function(t){function n(n){return t.call(this,"adloaded",n)}return kt(n,t),n}(_R),C1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).D$t=[],e.I$t=void 0,e.v$t=void 0,e.Xa=void 0,e.Yr=function(t){var n;if(t){var i=e.PKt.wM,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=A$(i))?void 0:n.media,c=[];o&&s&&e.x$t(o,s,a,c),e.R$t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e.Co(f)}}},e.Qo=n,e.PKt=i,e.k$t=r,e.PKt.YKt(e.Yr),e}kt(n,t);var i=n.prototype;return i.W4=function(t,n,i){throw new d("Scheduling ads while casting is not supported.")},i.Ny=function(){this.PKt.$Kt()},i.Git=function(t){var n;null==(n=this.k$t)||n.Git(t)},i.Lit=function(t,n){var i;null==(i=this.k$t)||i.Lit(t,n)},i.L$t=function(t){return ro(this.D$t,(function(n){return n.o===t}))},i.x$t=function(t,n,i,r){for(var e=this.D$t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.L$t(a.id);void 0===c&&(c=new j1(a),r.push(new AR(c))),!zn(c.C$t)&&zn(i)&&(c.C$t=this.O$t(c.j$t,i));var h=c.Oc;c.Yn(a,n,i,r);for(var f=c.Oc,v=0;v<f.length;v++){var d=f[v];fo(h,d)||(r.push(new kR(d)),s=!0)}u.push(c)}this.D$t=u,s&&r.push(new CR);for(var l=0;l<e.length;l++){var g=e[l];fo(u,g)||r.push(new wR(g))}},i.R$t=function(t,n){var i,r,e=this.I$t,u=this.v$t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.L$t(o):void 0,r=a?null==(s=this.I$t)?void 0:s.P$t(a):void 0}if(this.I$t=i,this.v$t=r,i!==e&&(void 0!==e&&(e.z$t=void 0,n.push(new bR(e))),void 0!==i&&(i.z$t=this.PKt,n.push(new NR(i)))),r!==u){var c=this.Qo.Q_();void 0!==u&&n.push(new SR(u,c)),void 0!==r&&n.push(new IR(r,c))}},i.O$t=function(t,n){if(n&&n.breaks){var i=ro(n.breaks,(function(n){return n.id===t.id}));return i}},i.Yit=function(t){for(var n=[],i=0,r=this.D$t;i<r.length;i++){var e=r[i],u=e.Oc;if(e===this.I$t&&void 0!==this.v$t){var s=u.indexOf(this.v$t);s>=0&&(u=u.slice(s))}else if(e.E$t())continue;for(var o=0;o<u.length;o++){var a=u[o].B$t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.W4(h,aR.kit,!1)}},i.gn=function(){return this.Vo(),this.PKt.GKt(this.Yr),void 0!==this.I$t&&(this.I$t.z$t=void 0,this.I$t=void 0),this.v$t=void 0,lo(this.D$t),K.resolve(void 0)},At(n,[{key:"Fc",get:function(){return void 0!==this.I$t}},{key:"Sit",get:function(){return this.v$t?[this.v$t]:[]}},{key:"Iit",get:function(){var t;return null!=(t=this.I$t)?t:null}},{key:"Dit",get:function(){var t=this;return wo(this.D$t,(function(n){var i=n.Oc;if(n===t.I$t&&void 0!==t.v$t){var r=i.indexOf(t.v$t);if(r>=0)return i.slice(r+1)}return n.E$t()?[]:i}))}},{key:"Eit",get:function(){var t=this;return this.D$t.filter((function(n){return n===t.I$t||!n.E$t()}))}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=dR(this)}}]),n}(Ho),j1=function(t){function n(n){var i;return(i=t.call(this)||this).C$t=void 0,i.Ic=[],i.z$t=void 0,i.U$t=n,i}kt(n,t);var i=n.prototype;return i.E$t=function(){return this.U$t.isWatched},i.P$t=function(t){return ro(this.Ic,(function(n){return n.o===t}))},i.Yn=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=ro(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Ic.length?e.Ic[u]:new x1(a,e);!zn(c.Q$t)&&zn(i)&&(c.Q$t=e.F$t(i,o,u)),c.Yn(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.U$t=t,this.Ic=s},i.F$t=function(t,n,i){if(t&&t.breakClips){var r=ro(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.C$t)?void 0:e.breakClipIds[i];u&&(r=ro(t.breakClips,(function(t){return t.id===u})))}return r}},At(n,[{key:"j$t",get:function(){return this.U$t}},{key:"o",get:function(){return this.U$t.id}},{key:"Oc",get:function(){return this.Ic}},{key:"vKt",get:function(){return A1.AE}},{key:"$Jt",get:function(){var t=this.U$t.duration;return void 0===t&&this.Ic.length>0&&(t=Vi(this.Ic,(function(t){return t.ct})),A(t)&&(t=void 0)),t}},{key:"t$t",get:function(){var t=this.$Jt;if(void 0!==t&&void 0!==this.z$t){var n=this.z$t.JKt();if(void 0!==n)return g.max(0,t-n)}return t}},{key:"cPt",get:function(){return this.U$t.position}},{key:"DJt",get:function(){}}]),n}(p1),x1=function(){function t(t,n){this.Xa=void 0,this.G$t=t,this.Xl=n}var n=t.prototype;return n.w$t=function(){return""},n.A$t=function(){var t;return null!=(t=this.G$t.contentType)?t:""},n.p$t=function(){var t,n;return null!=(n=null!=(t=this.G$t.contentUrl)?t:this.G$t.contentId)?n:""},n.Yn=function(t,n){var i=this.o,r=this.ct,e=this.G$t.contentUrl;this.G$t=t;var u=this.o,s=this.ct,o=this.G$t.contentUrl;i===u&&(r===s||A(r)&&A(s))&&e===o||n.push(new I1(this)),A(r)&&!A(s)&&n.push(new S1(this))},n.B$t=function(){var t;return this.Q$t&&(t=L0(this.Q$t,this.Xl.cPt)),t||(t=L0(this.G$t,this.Xl.cPt)),t},n.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},n.fa=function(){var t=this;return{get companions(){return t.RXt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.kZt},get skipOffset(){return t.CZt},type:"linear",integration:A1.AE,get adSystem(){return t.w$t()},width:void 0,height:void 0,get adBreak(){return t.Xl.Nit()},get resourceURI(){return t.p$t()},get clickThrough(){return t.sZt},get creativeId(){return t.IXt},get customData(){return t.DJt},get isSlate(){return!1},get universalAdIds(){return t.fXt.map((function(t){return{adIdRegistry:t.Dqt,adIdValue:t.kqt}}))}}},At(t,[{key:"Y$t",get:function(){return this.G$t}},{key:"o",get:function(){return this.G$t.id}},{key:"RXt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.G$t.duration)?t:NaN}},{key:"kZt",get:function(){var t=this.p$t();return t?[{contentURL:t,delivery:"progressive",type:this.A$t(),width:0,height:0}]:[]}},{key:"CZt",get:function(){var t=this.G$t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"sZt",get:function(){return this.G$t.clickThroughUrl}},{key:"IXt",get:function(){}},{key:"fXt",get:function(){return[]}},{key:"DJt",get:function(){}}]),t}();wt(),C(),mt(),Mt();var O1,z1=function(t){function n(n,i){var r;return void 0===i&&(i=on.Ys.Je),(r=t.call(this)||this).Le=!1,r.X$t=function(t){t.stopPropagation(),r.Co(new Jo("clickstart"))},r.Z$t=function(t){t.stopPropagation(),r.Co(new Jo("click"))},r.ast=n,r.H$t=i,r.Us=u.createElement("a"),r.Us.style.position="absolute",r.Us.style.zIndex="11",r.Us.target="Du",r.H$t?(KO(r.Us,"learn more"),r.Us.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Us.setAttribute("rel","noopener")):wu(r.Us),r.ast.appendChild(r.Us),r.bD(),r}kt(n,t);var i=n.prototype;return i.MD=function(){if(!this.Le){this.Le=!0,this.Us.style.display="",this.H$t||(this.ast.style.cursor="pointer");var t=this.H$t?this.Us:this.ast;on.Ys.Je?(t.addEventListener("touchstart",this.X$t),t.addEventListener("touchend",this.Z$t)):(t.addEventListener("mousedown",this.X$t),t.addEventListener("click",this.Z$t))}},i.bD=function(){if(this.Le){this.Le=!1,this.Us.style.display="none",this.H$t||(this.ast.style.cursor="");var t=this.H$t?this.Us:this.ast;on.Ys.Je?(t.removeEventListener("touchstart",this.X$t),t.removeEventListener("touchend",this.Z$t)):(t.removeEventListener("mousedown",this.X$t),t.removeEventListener("click",this.Z$t))}},i.h_=function(){this.Vo(),this.bD(),this.ast.removeChild(this.Us)},At(n,[{key:"V$t",get:function(){return this.W$t},set:function(t){this.W$t!==t&&(this.W$t=t,this.Us.href=null!=t?t:"",t?this.MD():this.bD())}}]),n}(Xo);wt(),C(),mt(),Mt(),wt(),C(),function(t){t.q$t="theo-size-xs",t.K$t="theo-size-s",t.J$t="theo-size-m",t.$$t="theo-size-l",t.t0t="theo-size-xl"}(O1||(O1={}));var R1=[1200,992,768,576],B1={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},P1=function(){function t(t,n){var i=this;this.Us=t,this.Wu=n,this.mn=function(t){i.i0t(t.width)},this.e0t=U1(n.ku),vu(this.Us,this.e0t),n.yn(qE.pn,this.mn)}var n=t.prototype;return n.i0t=function(t){var n=U1(t);n!==this.e0t&&(vu(this.Us,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+hu(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");fu(t,i.trim())}}(this.Us,this.e0t),this.e0t=n)},n.gn=function(){this.Wu.fn(qE.pn,this.mn)},t}();function U1(t){for(var n=0;n<R1.length;n++){var i=R1[n];if(t>i)return B1[i]}return"theo-size-xs"}var Q1=function(t){function n(n,i){var r;return(r=t.call(this)||this).h0t=function(){r.Co(new Jo("Ny"))},r.Us=u.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.Ql=u.createElement("span"),r.we.appendChild(r.Ql),i&&(r.a0t=u.createElement("div"),r.a0t.className="theoplayer-ad-skip-poster",r.a0t.style.backgroundImage='url("'+Qs(i)+'")',r.we.appendChild(r.a0t)),r.CU="countdown",r.qu=new P1(r.we,n),r}kt(n,t);var i=n.prototype;return i.s0t=function(t){"countdown"!==this.CU&&(this.CU="countdown",this.n0t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.uE="You can skip in "+g.round(t)+" seconds"},i.r0t=function(){"skip"!==this.CU&&(this.CU="skip",this.uE="Skip Ad",this.o0t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.o0t=function(){this.we.addEventListener("mouseup",this.h0t),this.we.addEventListener("touchend",this.h0t)},i.n0t=function(){this.we.removeEventListener("mouseup",this.h0t),this.we.removeEventListener("touchend",this.h0t)},i.gn=function(){this.Vo(),this.n0t(),this.qu.gn(),au(this.Us),au(this.Ql),this.a0t&&au(this.a0t)},At(n,[{key:"we",get:function(){return this.Us}},{key:"_v",get:function(){return this.CU}},{key:"uE",get:function(){return this.Ql.textContent||""},set:function(t){KO(this.Ql,t)}}]),n}(Xo),Y1=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).QNt=BD.oU(),s.k0t=void 0,s.o2=!1,s.vz=void 0,s.M0t=void 0,s.h2=ak.BT,s.C0t=!1,s.Uo=BD.oU(),s.U1=void 0,s.aU=!1,s.YT=new RA,s.VT=new RA,s.Dl=new j_,s.TNt=NaN,s.E0t=void 0,s.y0t=!1,s.D0t=NaN,s.N0t=void 0,s.g0t=0,s.F0t=function(t,n){switch(t){case"buffered":s.QNt=new BD(n),s.Co(new DL(s.Q_()));break;case"currentProgramDateTime":s.k0t=new Date(n).getTime()-s.Q_();break;case"played":s.Uo=new BD(n);break;case"seekable":s.m0t();break;case"videoHeight":s.S0t(void 0,n);break;case"videoWidth":s.S0t(n,void 0)}},s.t1=function(t){switch(t.type){case dd.im:s.We(t.currentTime);break;case dd.$v:s.Vz();break;case dd.Kv:s.Co(new xU(t.representation,t.previousRepresentation));break;case dd.nm:s.Co(new nU(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case dd.Cv:s.Co(new bF(t.currentTime,t.initDataType,t.initData));break;case dd.Nv:s.Co(new Yx(new PA(Qv.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case dd.Iv:s.Co(new Gx)}},s.TJt=function(t){s.m0t(),s.A0t(),s.th(),s.b0t(),s.I0t(),s.v0t(),s.l0t(),s.u0t(),s.O0t(),s.R0t(),s.B0t(),t||G1(s.PKt.wM)&&s.Mh()},s.od=function(){s.I0t(),s.B0t()},s.Y0t=function(t){s.Co(t)},s.L0t=qn((function(t){return s.C5(t)}),50),s.XKt=function(t){s.E0t=void 0,s.Co(new C0(t))},s.z0t=function(){s.Hg()},s.Q0t=function(){s.Ic.Ny()},s.Qo=n,s.hCt=r,s.PKt=e,s.Ic=new C1(n,e,i.Oc),s.jJt=u.BJt(),s.jx=u.Td()-s.jJt,s.cU=u._g(),s.lU=u.wg(),s.PJt=u.Pg(),s.zJt=u.Og(),s.PKt.QKt(s.t1),s.PKt.zKt(s.F0t),s.PKt.YKt(s.TJt),s.PKt.yn(D0.jKt,s.Y0t),s.PKt.VKt().then((function(t){s.Co(new j0(t.bt,t.yc))}),s.XKt),s}kt(n,t);var i=n.prototype;return i.u0t=function(){var t=this.PKt.wM.activeTrackIds;if(t){if(this.c0t()){var n=this.VT.Rw.map((function(t){return t.o})),i=this.YT.Rw.map((function(t){return t.o}));fo(n.concat(i),"0")&&t.push(0)}X1(t,this.YT),X1(t,this.VT),function(t,n){for(var i=!1,r=0,e=n.Rw;r<e.length;r++){var u=e[r];u.VJt=fo(t,u.Xw)?h_.Jn:h_.Ch}}(t,this.Dl)}},i.l0t=function(){var t,n=null==(t=this.PKt.wM.media)?void 0:t.tracks;if(n){var i=n.filter(o1),r=n.filter(a1),e=n.filter(c1);if(this.c0t()&&0===r.length&&0!==this.Pg()){var u=this.d0t();r.push(u)}if(this.c0t()&&0===i.length){var s=this.f0t();i.push(s)}V1(this.YT,i.map((function(t){return t.trackId}))),V1(this.VT,r.map((function(t){return t.trackId}))),V1(this.Dl,e.map((function(t){return t.trackId}))),W1(i,this.YT),W1(r,this.VT),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=F1(n,e.trackId);u||(u=new h1(e),n.tt(u),i=!0)}}(e,this.Dl)}},i._0t=function(){this.cU||(this.g0t=h(this.od,250))},i.w0t=function(){f(this.g0t)},i.v0t=function(){this.w0t(),this._0t()},i.m0t=function(){var t,n,i=this.PKt.wM,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.jx=s,this.p0t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(zn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,d=o.isLiveDone,l=void 0!==d&&d;this.Jzt(c,h,v,l)}else if(zn(a)){var g=Gt(a.seekable,2),w=g[0],y=g[1];this.Jzt(w,y,u,!1)}else u?this.Jzt(void 0,void 0,!0,!1):this.Jzt(0,s,!1,!1)},i.A0t=function(){var t=this.PKt.wM,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||G1(t);this.y0t=n,this.cU!==n&&(this.cU=n,this.cU?this.Co(new uD(this.Q_())):this.Co(new sD(this.Q_())))},i.th=function(){var t=this.PKt.wM.playbackRate;this.M0t!==t&&(this.M0t=void 0,this.lU!==t&&(this.lU=t,this.Co(new aD(this.Q_(),t))))},i.b0t=function(){var t;switch(this.PKt.wM.playerState){case chrome.cast.media.PlayerState.IDLE:t=ak.BT;break;case chrome.cast.media.PlayerState.BUFFERING:t=ak.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=ak.QT}this.u2(t),this.T0t()},i.Jzt=function(t,n,i,r){zn(t)&&zn(n)?this.U1=new QC(t,n,i,i&&!r):this.U1=void 0},i.S0t=function(t,n){this.zJt=null!=n?n:this.zJt,this.PJt=null!=t?t:this.PJt,this.Co(new sk)},i.We=function(t){this.N0t!==t?(this.aU=!0,this.Co(new hD(this.Q_()))):this.N0t=void 0},i.Vz=function(){if(this.aU){this.aU=!1;var t=this.Q_();this.Co(new nA(t,this.P_())),this.Co(new fD(t))}},i.Mh=function(){this.o2=!0,this.V_()&&this.Co(new cD(this.Q_()))},i.p0t=function(){var t=this.TNt,n=this.Td();t===n||A(t)&&A(n)||(this.TNt=n,this.Co(new oD(n)))},i.I0t=function(){var t=this.Q_();this.aU||this.D0t===t||(this.D0t=t,this.Co(new nA(t,this.P_())))},i.RJt=function(){this.cU&&(this.cU=!1,this.Co(new sD(this.Q_())),this.u2(ak.BT))},i.ait=function(){return this.Ic},i.j_=function(){return this.QNt.KA(this.jJt)},i.Q_=function(){if(this.Ic.Fc){var t=this.PKt.KKt();if(void 0!==t)return t}return this.Ktt()},i.Ktt=function(){return void 0!==this.E0t?this.jJt+this.E0t:this.o2?this.Td():this.jJt+this.PKt.qKt()},i.P_=function(){if(this.k0t)return new Date(this.Ktt()+this.k0t)},i.Td=function(){if(this.Ic.Fc){var t,n=null==(t=this.Ic.Sit[0])?void 0:t.ct;if(void 0!==n&&!A(n))return n}return this.jJt+this.jx},i.W_=function(){return this.vz},i.V_=function(){return!this.Ic.Fc&&this.o2},i._g=function(){return this.cU},i.wg=function(){return this.lU},i.vg=function(t){this.lU!==t&&(this.M0t=this.lU,this.lU=t,this.Co(new aD(this.Q_(),t)),this.PKt.vg(t))},i.Ng=function(){return this.h2},i.Ag=function(){return this.Ic.Fc?BD.rU(0,this.Q_()):this.Uo.KA(this.jJt)},i.Dg=function(){var t,n;if(this.Ic.Fc)return BD.oU();var i=null!=(n=null==(t=this.U1)?void 0:t.V0().KA(this.jJt))?n:BD.oU();if(i.U>0){var r=i.jn(i.U-1);i=i.YB(BD.rU(r,this.Q_()))}return i},i.Lg=function(){return this.aU},i.L_=function(){return this.YT},i.jg=function(){return this.VT},i.xg=function(){return this.Dl},i.d0t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.Og(),id:"0",name:"",width:this.Pg()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:e1.VA}},i.f0t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:e1.WA}},i.c0t=function(){var t,n;return!(void 0!==(null==(t=this.hCt.WKt())?void 0:t.version))||(null==(n=this.hCt.WKt())?void 0:n.sdkType)===l1.KJt},i.ZKt=function(t){this.c0t()&&ao(t,0),this.PKt.ZKt(t)},i.Pg=function(){return this.PJt},i.Og=function(){return this.zJt},i.Xg=function(){this.cU&&(this.cU=!1,this.y0t=!1,this.Co(new sD(this.Q_()))),this.PKt.Xg()},i.Hg=function(){this.cU||(this.cU=!0,this.y0t=!0,this.Co(new uD(this.Q_()))),this.PKt.Hg()},i.JA=function(t){if(!this.Ic.Fc){var n=g.max(0,t-this.jJt);n=g.round(1e6*n)/1e6;var i=this.E0t;this.E0t=n,this.y0t=this._g(),this.N0t=n,this.aU=!0,this.Co(new hD(this.Q_())),void 0===i&&(this.c0t()?this.L0t(n):this.C5(n))}},i.C5=function(t){this.PKt.JA(t,this.y0t).then(this.x0t(t)).catch(this.XKt)},i.x0t=function(t){var n=this;return function(){void 0!==n.E0t&&(n.E0t===t?n.E0t=void 0:n.C5(n.E0t))}},i.u2=function(t){this.h2!==t&&(this.h2=t,this.Co(new ck(this.Q_(),t))),void 0===this.E0t&&this.aU&&t>=ak.UT&&this.Vz(),this.T0t()},i.T0t=function(){if(this.cU)this.C0t=!1;else{var t=this.h2>=ak.QT;this.C0t!==t&&(this.C0t=t,t?this.Co(new gk(this.Q_())):this.Co(new vk(this.Q_())))}},i.O0t=function(){this.j0t||(this.j0t=u.createElement("div"),this.Qo.we.appendChild(this.j0t),this.j0t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.j0t.style.zIndex="10",wu(this.j0t)),this.j0t.style.display=this.Ic.Fc?"":"none"},i.R0t=function(){var t,n=null==(t=this.Ic.Sit[0])?void 0:t.sZt;n&&!this.P0t?(this.P0t=new z1(this.j0t,!0),this.P0t.V$t=n,this.P0t.yn("clickstart",this.z0t)):this.P0t&&(this.P0t.V$t=n)},i.B0t=function(){var t,n=null==(t=this.Ic.Sit[0])?void 0:t.CZt;if(void 0===n||n<0)this.U0t&&(this.U0t.gn(),this.U0t=void 0);else{if(!this.U0t){var i,r=null==(i=this.Qo.ba)?void 0:i.mi;this.U0t=new Q1(this.Qo.Iu,r),this.j0t.appendChild(this.U0t.we),this.U0t.yn("Ny",this.Q0t)}var e=this.PKt.KKt();void 0!==e&&(e<n?this.U0t.s0t(n-e):this.U0t.r0t())}},i.BJt=function(){return this.jJt},i.UJt=function(t){this.jJt=t},i.Yit=function(t){},i.Zg=function(){this.PKt.Zg()},i.gn=function(){this.Vo(),this.Ic.gn(),this.P0t&&(this.P0t.h_(),this.P0t=void 0),this.U0t&&(this.U0t.gn(),this.U0t=void 0),this.j0t&&(au(this.j0t),this.j0t=void 0),this.PKt.FKt(this.t1),this.PKt.UKt(this.F0t),this.PKt.GKt(this.TJt),this.PKt.fn(D0.jKt,this.Y0t),this.PKt.gn()},n}(Xo);function G1(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function F1(t,n){for(var i=0,r=t.Rw;i<r.length;i++){var e=r[i];if(e.Xw===n)return e}}function V1(t,n){for(var i=!1,r=0;r<t.U;r++){var e=t.zw(r);-1===n.indexOf(e.Xw)&&(t.it(e),r--,i=!0)}return i}function W1(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=F1(n,e.trackId);u||(u=new g1(e),n.tt(u),i=!0)}return i}function X1(t,n){for(var i=0,r=n.Rw;i<r.length;i++){var e=r[i];e.ZJt=fo(t,e.Xw)}return!1}wt(),C();var Z1=function(){function t(){}var n=t.prototype;return n.oet=function(t){return K.resolve("all")},n.Wg=function(){},n.gn=function(){},t}();wt(),C();var H1=[dd.Ov,dd.Lv,dd.qv,dd.Jv,dd.Sh,dd.jh,dd.Zv,dd.fm,dd.im,dd.$v,uk.Tm,uk.Sm,dd.Kv,dd.nm,dd.Cv,dd.Nv,dd.Iv],K1=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).ho=!1,r._1t=Hn,r.Oj=ak.BT,r.Ij=!1,r.Lj=!1,r.q0t=!1,r.X0t=void 0,r.vz=void 0,r.mz=void 0,r.YT=new PT,r.VT=new PT,r.Dl=new UT,r.dU=new QD,r.GT=new rN,r.Vtt=new Z1,r.u1t=void 0,r.c1t=void 0,r.l1t=void 0,r.w1t=function(t){var n,i;(zn(t.zg)&&!Pi(t.zg,r.Xx,1e-5)||zn(t.og)&&t.og!==r.uU)&&(r.Xx=null!=(n=t.zg)?n:r.Xx,r.uU=null!=(i=t.og)?i:r.uU,r.Co(new vD(r.U_,r.Xx)))},r.v1t=function(){var t=r.hCt.SJt();r.Wdt=t?new Y1(Vt(r),r.Qo,r.hCt,t,r.ja):r.g1t()},r.W0t=function(t){r.kB(t.bt),r.G0t(t.yc)},r.m1t=function(t){var n=r.V0t(t.AM);if(n){var i={targetQualityIds:t.gJt};n.WJt(i)}},r.Y0t=function(t){r.J0t(t.lt)},r.J0t=function(t){r._1t&&r._1t(t)},r.DOt=function(t){r.vz=t.lt,r.mz=GA(r.vz),r.Co(new uT(r.mz))},r.r1t=function(t){if(t.enabled)for(var n=0,i=(r.rt.Rw.some((function(n){return n.Xw===t.trackId}))?r.rt:r.ht).Rw;n<i.length;n++){var e=i[n];e.Rt&&e.Xw!==t.trackId&&(e.Rt=!1)}},r.o1t=function(t){if(t.mode===h_.Jn)for(var n=0,i=r.nt.Rw;n<i.length;n++){var e=i[n];e._v===h_.Jn&&e.Xw!==t.trackId&&z_(e.zt,t.track.zt)&&(e._v=h_.Ch)}},r.u0t=qn((function(){r.h1t()}),50),r.s1t=function(){var t,n,i=[],e=null!=(t=ro(r.ht.Rw,(function(t){return s2(t,r.u1t)})))?t:ro(r.ht.Rw,(function(t){return t.Rt}));e&&i.push(e.Xw);var u,s=null!=(n=ro(r.nt.Rw,(function(t){return s2(t,r.c1t)})))?n:ro(r.nt.Rw,(function(t){return t._v===h_.Jn}));s&&i.push(s.Xw);var o=null!=(u=ro(r.rt.Rw,(function(t){return s2(t,r.l1t)})))?u:ro(r.rt.Rw,(function(t){return t.Rt}));o&&i.push(o.Xw),0!==i.length&&r.ja.ZKt(i)},r.zvt=function(t){var n=r.d1t(t.targetQuality),i=t.track;r.hCt.wJt(i.Xw,i.O0,n)},r.Yj=function(t){r.Co(t);var n=t.readyState;!r.Ij&&r.Oj===ak.BT&&n>=ak.Xn&&(r.Ij=!0,r.Co(new hk(t.currentTime))),!r.Lj&&r.Oj<=ak.Xn&&n>=ak.UT&&(r.Lj=!0,r.Co(new fk(t.currentTime))),r.Oj<=ak.UT&&n>=ak.QT&&r.Co(new dk(t.currentTime)),r.Oj<=ak.QT&&n===ak.FT&&r.Co(new lk(t.currentTime)),r.Oj=n},r.Xx=r.Qo.zg,r.uU=r.Qo.og,r.hCt=i,r.hCt.yn(F0.jKt,r.Y0t),r.hCt.yn(F0.dJt,r.DOt),r.hCt.yn(F0._m,r.w1t),r.hCt.yn(F0.lJt,r.v1t),r.hCt.yn(F0.fJt,r.m1t),r.Ic=new xR(Vt(r)),r.MB=r.Qo.bt,r.bc=r.Qo.Wa(),r.Wdt=new r1(Vt(r),0,r.Qo.Ktt(),r.Qo.Td(),r.Qo.G_,r.Qo.fg,r.Qo.gg,r.Qo.Rg,r.Qo.Cg),r.$0t(),r}kt(n,t);var i=n.prototype;return i.kB=function(t){t&&(yA(this.MB&&pA(this.MB),t&&pA(t))||(this.MB=t,this.Co(new kD(t))))},i.G0t=function(t){if(t){var n=qI(t,this.Qo.wd);yA(this.bc&&pA(this.bc),n&&pA(n))||(this.ja.UJt(0),this.bc=n,this.Co(new sR(n)),this.ja.RJt())}},i.V0t=function(t){for(var n=0,i=this.rt.Rw;n<i.length;n++){var r=i[n];if(r.Xw===t)return r}for(var e=0,u=this.ht.Rw;e<u.length;e++){var s=u[e];if(s.Xw===t)return s}},i.ait=function(){return this.Ic},i.uit=function(){return this.Vtt},i.L_=function(){return this.YT},i.j_=function(){return this.ja.j_().ks()},i.$n=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return t?[4,i.NJt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.Z0t=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.X0t)?i:n.bc)?(u=n.X0t?null!=(e=n.X0t.ads)?e:[]:n.Kit(),s=n.Qo.Td(),o=n.Qo.Dg(),a=function(t,n,i){return A(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.Ktt(),[4,n.NJt(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.Kit=function(){var t=new OR;return this.Ic.Yit(t),t.Kit()},i.P_=function(){return this.ja.P_()},i.B_=function(){return this.MB},i.Q_=function(){return this.ja.Q_()},i.Ktt=function(){return this.ja.Ktt()},i.F_=function(t,n){this.q0t||(this.hCt.SJt()||this.q0t||!this.bc?this.ja.JA(t):this.$n(this.bc,t))},i.Td=function(){return this.ja.Td()},i.V_=function(){return this.ja.V_()},i.W_=function(){return this.vz},i.X_=function(){return this.mz},i.q_=function(){return this.GT},i.rg=function(){return this.Qo.eg},i.hg=function(){return this.uU},i.ag=function(t){this.uU=t,this.Co(new vD(this.U_,this.zg)),this.hCt.ag(t)},i._g=function(){return this.ja._g()},i.wg=function(){return this.ja.wg()},i.vg=function(t){this.ja.vg(t)},i.Ag=function(){return this.ja.Ag().ks()},i.Mg=function(){return CD.LT},i.Tg=function(t){},i.Ng=function(){return this.ja.Ng()},i.Dg=function(){return this.ja.Dg().ks()},i.Lg=function(){return this.ja.Lg()},i.Wa=function(){return this.bc},i.ga=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.bc=t,[4,n.$n(t)];case 1:return i.sent(),n.X0t=void 0,n.ja.RJt(),[2]}}))}))()},i.xg=function(){return this.Dl},i.Og=function(){return this.ja.Og()},i.Pg=function(){return this.ja.Pg()},i.jg=function(){return this.VT},i.Bg=function(){return this.Xx},i.Ug=function(t){this.Xx=t,this.Co(new vD(this.U_,this.zg)),this.hCt.Ug(t)},i.Vg=function(){},i.Gg=function(){return this.dU},i.Wg=function(){},i.Xg=function(){this.hCt.SJt()||this.q0t||!this.bc?this.ja.Xg():this.$n(this.bc)},i.Hg=function(){this.ja.Hg()},i.ur=function(){this.ho=!0},i.ar=function(){this.MB=void 0,this.ho=!1},i.ge=function(){},i.be=function(){},i.NJt=function(t,n,i,r,e,u){var s=this;return xt((function(){var o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:s.q0t=!0,s.K0t(),s.ja.UJt(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={IJt:t,Oc:n,U_:g.max(0,u-e),ct:r,QK:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,DJt:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.hCt.NJt(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.J0t(h),[3,5];case 4:return s.q0t=!1,[7];case 5:return[2]}}))}))()},i.$0t=function(){this.t1t(this.YT),this.t1t(this.VT),this.i1t(this.Dl)},i.t1t=function(t){for(var n=this,i=0,r=t.Rw;i<r.length;i++){var e=r[i];this.e1t(e)}t.yn(eA.hw,(function(t){n.e1t(t.Lt),n.s1t()}))},i.i1t=function(t){for(var n=this,i=0,r=t.Rw;i<r.length;i++){var e=r[i];this.n1t(e)}t.yn(eA.hw,(function(t){n.n1t(t.Lt),n.s1t()}))},i.e1t=function(t){t.yn(i1.FJt,this.zvt),t.yn(i1.YJt,this.r1t),t.yn(i1.YJt,this.u0t)},i.n1t=function(t){t.yn(i1.QJt,this.o1t),t.yn(i1.QJt,this.u0t)},i.h1t=function(){for(var t=[],n=0,i=this.rt.Rw;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.Xw)}for(var e=0,u=this.ht.Rw;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.Xw)}for(var o=0,a=this.nt.Rw;o<a.length;o++){var c=a[o];c._v===h_.Jn&&t.push(c.Xw)}this.ja.ZKt(t)},i.a1t=function(t,n,i){this.u1t=t,this.c1t=n,this.l1t=i},i.d1t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.hCt.WKt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.f1t=function(t){this._1t=t},i.$g=function(){},i.iw=function(){},i.Zg=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.ja.Zg(),t.K0t(),[2]}))}))()},i.K0t=function(){this.Oj=ak.BT,this.Ij=!1,this.Lj=!1,this.vz=void 0,this.mz=void 0},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.K0t(),t.Vo(),t.Wdt=t.g1t(),t.hCt.fn(F0.jKt,t.Y0t),t.hCt.fn(F0.dJt,t.DOt),t.hCt.fn(F0._m,t.w1t),t.hCt.fn(F0.lJt,t.v1t),t.hCt.fn(F0.fJt,t.m1t),t.hCt.gn(),[2]}))}))()},i.g1t=function(){return new r1(this,this.ja.BJt(),this.ja.Q_(),this.ja.Td(),this.ja.V_(),this.ja._g(),this.ja.wg(),this.ja.Pg(),this.ja.Og())},At(n,[{key:"Wdt",get:function(){return this.ja},set:function(t){var n=this.ja;n&&(n.fn(D0.jKt,this.Y0t),n.fn(D0.RKt,this.W0t),n.fn(H1,this.Ds),n.fn(uk.Nw,this.Yj),t.UJt(n.BJt()),n.Yit(t.ait())),this.ja=t,this.YT.Uw=t.L_(),this.VT.Uw=t.jg(),this.Dl.Uw=t.xg(),this.Ic.Uw=t.ait(),n&&n.gn(),t.yn(D0.jKt,this.Y0t),t.yn(D0.RKt,this.W0t),t.yn(H1,this.Ds),t.yn(uk.Nw,this.Yj)}},{key:"ro",get:function(){return this.ho}},{key:"Oc",get:function(){return this.ait()}},{key:"H0t",get:function(){return this.X0t||this.bc},set:function(t){this.X0t=t}},{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"Yg",get:function(){return!1},set:function(t){}}]),n}(NT);wt(),C(),Mt();var J1=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return kt(n,t),n.prototype.fa=function(){return new q1(this.lt)},n}(iA),q1=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var $1=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return kt(n,t),n}(Jo);function t2(t,n){var i=void 0;return{get casting(){return t.FX},get error(){return t.lt},get receiverName(){return t.p1t},get state(){return t.Wdt},start:function(){t.Cn()},stop:function(){t.Zg()},join:function(){t.A1t()},leave:function(){t.y1t()},set connectionCallback(t){null==n||n.M1t(t)},get connectionCallback(){return null==n?void 0:n.b1t()},get source(){return i||t.yc},set source(n){i=n,t.yc=n},addEventListener:function(n,i){var r=DA(n,TA);t.yn(r,i)},removeEventListener:function(n,i){var r=DA(n,TA);t.fn(r,i)}}}wt(),C();var n2=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).vz=void 0,u.Xa=void 0,u.Qo=void 0,u.ja=NI.UNAVAILABLE,u.I1t=!1,u.dE=new So,u.G1t=function(){u.T1t.yn(W0.OJt,u.Y1t),u.Wdt=u.T1t.V1t()},u.Y1t=function(t){var n=t.Wdt;u.Wdt=n,n!==NI.UNAVAILABLE&&n!==NI.AVAILABLE||u.C1t(!1).catch(u.M3)},u.X0t=void 0,u.M3=function(t){Co(t)||t instanceof o$&&(u.vz=t,u.Co(new J1(t).va))},u.KH=n,u.N1t=i,u.T1t=e,u.GO=r.chromecast,u.E1t=u.T1t.oX(u.GO,u.dE.f_),u.E1t.then(u.G1t).catch(u.M3),u}kt(n,t);var i=n.prototype;return i.D1t=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:if(!t.E1t)throw new v("Chromecast must be initialized before starting a session");return[4,t.E1t];case 1:return n.sent(),t.T1t.S1t()?[3,3]:[4,t.T1t.k1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Cn=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:t.I1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Wdt=NI.CONNECTING,[4,t.D1t()];case 2:return e.sent(),[4,t.L1t()];case 3:return e.sent(),t.Qo&&(n=t.N1t.Wa(),i=t.T1t.x1t(n),t.Qo.H0t=i?qI(i,t.N1t.wd):t.X0t,t.Qo.Z0t()),t.Wdt=NI.CONNECTED,[4,t.N1t.Zg()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.C1t(!1).catch(Hn),t.Wdt=NI.AVAILABLE,Co(r)||t.M3(r),[3,6];case 6:return[2]}}))}))()},i.A1t=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:t.I1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Wdt=NI.CONNECTING,[4,t.D1t()];case 2:return e.sent(),[4,t.L1t()];case 3:return e.sent(),t.Qo&&(n=t.N1t.Wa(),(i=t.T1t.O1t(n))&&(t.Qo.H0t=qI(i,t.N1t.wd))),t.Wdt=NI.CONNECTED,[4,t.N1t.Zg()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.C1t(!0).catch(Hn)];case 6:return e.sent(),t.Wdt=NI.AVAILABLE,Co(r)||t.M3(r),[3,7];case 7:return[2]}}))}))()},i.j1t=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.T1t.S1t()?[4,t.Cn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.L1t=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return null!=t.Qo||(t.Qo=t.R1t()),t.vz=void 0,t.N1t.Hg(),[4,t.KH.P1t(t.Qo)];case 1:return n.sent(),[2]}}))}))()},i.R1t=function(){var t=new K1(this.N1t,this.T1t.S1t());return t.f1t(this.M3),t},i.z1t=function(){this.Qo&&(this.Qo.gn(),this.Qo=void 0)},i.C1t=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:if(n.I1t=!1,!n.Qo)return[2];i=n.Qo.ro,r=n.Qo.Wa(),e=n.Qo.Ktt(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.T1t.B1t(r):n.T1t.U1t(r))||(u=r),[4,n.KH.Q1t(u,u===r)]):[3,3];case 2:s.sent(),n.N1t.F_(e),n.N1t.Xg(),s.label=3;case 3:return[3,5];case 4:return n.z1t(),[7];case 5:return[2]}}))}))()},i.y1t=function(){this.FX&&(this.T1t.F1t(!1),this.C1t(!0).catch(this.M3))},i.Zg=function(){this.FX&&(this.T1t.F1t(!0),this.C1t(!1).catch(this.M3))},i.gn=function(){this.dE.g_(),this.T1t.fn(W0.OJt,this.Y1t),this.Vo(),this.z1t()},At(n,[{key:"FX",get:function(){return this.Wdt===NI.CONNECTING||this.Wdt===NI.CONNECTED}},{key:"lt",get:function(){return this.vz}},{key:"va",get:function(){return this.Xa||(this.Xa=t2(this,this.T1t)),this.Xa}},{key:"p1t",get:function(){var t;return null==(t=this.T1t.S1t())?void 0:t.kJt()}},{key:"yc",get:function(){return this.Qo?this.Qo.H0t:this.X0t},set:function(t){this.X0t=t?qI(t,this.N1t.wd):void 0,this.Qo&&(this.Qo.H0t=this.X0t,this.X0t&&this.Qo.$n(this.X0t))}},{key:"Wdt",get:function(){return this.ja},set:function(t){var n=t;this.I1t||n!==NI.CONNECTING&&n!==NI.CONNECTED||(n=NI.AVAILABLE),this.ja!==n&&(this.ja=n,this.Co(new $1(this.Wdt)))}}]),n}(Ho);wt(),C(),mt(),Mt();var i2=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.A1t=function(){on.vp("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.y1t=function(){on.vp("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Cn=function(){on.vp("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Zg=function(){on.vp("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.j1t=function(){return K.resolve()},i.gn=function(){},At(n,[{key:"FX",get:function(){return!1}},{key:"lt",get:function(){}},{key:"p1t",get:function(){}},{key:"yc",get:function(){},set:function(t){}},{key:"Wdt",get:function(){return NI.UNAVAILABLE}},{key:"va",get:function(){return this.Xa||(this.Xa=t2(this)),this.Xa}}]),n}(Ho);function r2(t){return{bt:t.bt,U_:t.Q_(),ct:t.Td(),G_:t.G_,lt:t.W_(),H_:t.X_(),og:t.og,fg:t.fg,gg:t.gg,Sg:t.Sg,Eg:t.Eg,Cg:t.Cg,Rg:t.Rg,zg:t.zg}}wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C();var e2=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).YT=new PT,r.VT=new PT,r.Dl=new UT,r.GT=new oN,r.YT.Uw=n.ht,r.VT.Uw=n.rt,r.Dl.Uw=n.nt,r.GT.Uw=n.Z_,r.Ic=new xR(Vt(r)),r.Ic.Uw=n.Oc,r}kt(n,t);var i=n.prototype;return i.ait=function(){return this.Ic},i.L_=function(){return this.YT},i.q_=function(){return this.GT},i.xg=function(){return this.Dl},i.jg=function(){return this.VT},i.WT=function(t){if(this.Qo!==t){var n;this.TB(),this.fit&&(n=r2(this));var i=this.B_(),r=this.Gg(),e=this.Vg();if(this.Qo=t,this.YT.Uw=t.ht,this.VT.Uw=t.rt,this.Dl.Uw=t.nt,this.GT.Uw=t.Z_,this.Ic.Uw=t.Oc,void 0!==n)_D(this,n,r2(this));var u=this.B_();u!==i&&this.Co(new kD(u)),this.Gg()!==r&&this.Co(new MD),this.Vg()!==e&&this.Co(new bD),this.bB()}},i.gn=function(n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(i,n)];case 1:return r.sent(),i.YT.gn(n),i.VT.gn(n),i.Dl.gn(n),i.GT.gn(),[4,i.Ic.gn()];case 2:return r.sent(),[2]}}))}))()},At(n,[{key:"Z_",get:function(){return this.q_()}}]),n}(NT),u2=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).XZ=new qv,r.J1t=void 0,r.zSt=void 0,r.$1t=void 0,r.i2t=function(t){var n=t.Lt;s2(r.J1t,n)&&(n.Rt=!0)},r.e2t=function(t){var n=t.Lt;s2(r.zSt,n)&&(n._v=h_.Jn)},r.s2t=function(t){var n=t.Lt;s2(r.$1t,n)&&(n.Rt=!0)},r.K1t=function(){r.q1t.ht.fn(eA.hw,r.i2t),r.q1t.nt.fn(eA.hw,r.e2t),r.q1t.rt.fn(eA.hw,r.s2t)},r.q1t=n,r.wd.cast.strategy!==aN.DISABLED?r.W1t=new n2(Vt(r),n,r.wd.cast,i):r.W1t=new i2,r.YF.ZX(r.W1t),r}kt(n,t);var i=n.prototype;return i.Wa=function(){var n=t.prototype.Wa.call(this);return!n&&this.W1t.FX&&this.W1t.yc?this.W1t.yc:n},i.ga=function(n,i){var r=this;return this.XZ.JO((function(i){return r.H1t=new So,r.H1t.w_(i),t.prototype.ga.call(r,n,r.H1t.f_)}),i)},i.Xg=function(){t.prototype.Xg.call(this),this.wd.cast.strategy!==aN.AUTO||this.W1t.FX||this.W1t.j1t()},i.P1t=function(t){var n=this;return this.XZ.JO((function(i){return n.X1t(t,i)}))},i.Q1t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.XZ.JO((function(r){return i.Z1t(t,n,r)}))},i.X1t=function(t,n){jo(n),this.q1t.Oc&&this.q1t.Oc.Yit(t.Oc),this.K1t(),this.J1t=ro(this.q1t.ht.Rw,(function(t){return t.Rt})),this.zSt=ro(this.q1t.nt.Rw,(function(t){return"showing"===t._v})),this.$1t=ro(this.q1t.rt.Rw,(function(t){return t.Rt})),this.t2t=t,this.t2t.a1t(this.J1t,this.zSt,this.$1t),this.WT(t),this.t2t.ur()},i.Z1t=function(t,n,i){var r=this;return xt((function(){var e,u;return zt(this,(function(s){switch(s.label){case 0:if(jo(i),void 0===(e=r.t2t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.q1t.Zg()]:[3,4];case 2:return s.sent(),jo(i),u=qI(t,r.q1t.wd),n&&(u.ads=void 0),r.H1t=new So,r.H1t.w_(i),[4,r.q1t.ga(u,r.H1t.f_)];case 3:s.sent(),s.label=4;case 4:return n&&r.q1t.Oc&&e.Oc.Yit(r.q1t.Oc),[3,7];case 5:return Oo(s.sent()),[3,7];case 6:return e.ar(),r.WT(r.q1t),r.J1t=ro(r.t2t.ht.Rw,(function(t){return t.Rt})),r.zSt=ro(r.t2t.nt.Rw,(function(t){return"showing"===t._v})),r.$1t=ro(r.t2t.rt.Rw,(function(t){return t.Rt})),r.q1t.ht.yn(eA.hw,r.i2t),r.q1t.nt.yn(eA.hw,r.e2t),r.q1t.rt.yn(eA.hw,r.s2t),r.q1t.yn(uk.Mm,r.K1t),r.t2t===e&&(r.t2t=void 0),[7];case 7:return[2]}}))}))()},i.Zg=function(){var n,i=this;return this.J1t=void 0,this.zSt=void 0,this.$1t=void 0,this.K1t(),null==(n=this.H1t)||n.g_(),this.XZ.JO((function(){return t.prototype.Zg.call(i)}))},i.gn=function(){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return null==(i=n.H1t)||i.g_(),n.W1t.gn(),[4,n.Q1t()];case 1:return r.sent(),[4,n.XZ.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(e2);function s2(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.kh===t.kh)}wt(),C(),Ot(),mt(),Pt();var o2=function(){function t(t){this.E1t=void 0,this.Xa=void 0,this.T1t=t}var n=t.prototype;return n.oX=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.E1t||(n.E1t=n.a2t(t)),[4,n.E1t];case 1:return i.sent(),[2]}}))}))()},n.a2t=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.T1t.oX(t)];case 1:return i.sent(),[2]}}))}))()},n.k1t=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:if(!t.E1t)throw new v("Chromecast must be initialized before starting a session");return[4,t.E1t];case 1:return n.sent(),t.T1t.S1t()?[3,3]:[4,t.T1t.k1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.u2t=function(){this.T1t.F1t(!1)},n.h2t=function(){this.T1t.F1t(!0)},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{initialize:function(n){var i=t.oX(dN(n));return i.catch(Hn),i},startSession:function(){var n=t.k1t();return n.catch(Hn),n},endSession:function(){t.h2t()}}}(this)),this.Xa}}]),t}();var a2=new n1,c2=new o2(a2),h2={get chromecast(){return c2.va}};LT((function(t){return new u2(t,a2)}),TT.wit),wt(),C(),wt(),C(),wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Ot(),Pt();var f2=function(){function t(t){this.p2t=t,this.g2t=Hu(),this.v2t=Hu()}var n=t.prototype;return n.c2t=function(t,n,i,r){var e=this;t.UU.forEach((function(t){if(!e.l2t(t.d2t)){var u=t.f2t(n,i,r);u&&e._2t(u)}}))},n.l2t=function(t){return this.g2t.get(t)},n._2t=function(t){this.g2t.set(t.w2t,t),this.v2t.set(t.w2t,t.m2t),this.p2t.Qa(t.A2t)},n.Git=function(t){this.v2t.has(t.w2t)||(this.v2t.set(t.w2t,t),this.p2t.Qa(t.A2t))},n.y2t=function(t){return this.v2t.forEach(t)},n.M2t=function(t){return this.g2t.forEach(t)},n.b2t=function(t){var n=!1;return this.g2t.forEach((function(i){n=i.b2t(t)||n})),n},n.gn=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return n=[],t.g2t.forEach((function(t){return n.push(t.gn())})),t.v2t.forEach((function(t){return n.push(t.gn())})),[4,K.all(n)];case 1:return i.sent(),t.g2t.clear(),t.v2t.clear(),[2]}}))}))()},t}();wt(),C(),Mt();var v2=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"yCt")||this).bqt=n,u.pL=i,u.jL=r,u.yc=e,u}return kt(n,t),n.prototype.fa=function(){return new d2(this.bqt,this.pL,this.jL,this.yc)},n.T2t=function(t){return new n(d0.GENERAL,t.pL,t.Sqt)},n.S2t=function(t,i){return new n(t.bqt,t.message,t.Sqt,i)},n}(iA),d2=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return kt(n,t),n}(Jo),l2=function(t){function n(n){var i;return(i=t.call(this)||this).Xa=void 0,i.k2t=n,i.I2t=new f2(Vt(i)),i}kt(n,t);var i=n.prototype;return i.Yit=function(t){this.D2t((function(n){n.Yit(t)}))},i.Ny=function(){this.D2t((function(t){t.Ny()}))},i.Git=function(t){this.I2t.Git(t)},i.Lit=function(t,n){return this.k2t.Lit(t,n)},i.L2t=function(t){this.I2t.M2t((function(n){n.L2t(t)}))},i.b2t=function(t){return this.I2t.b2t(t)},i.D2t=function(t){return this.I2t.y2t(t)},i.Wg=function(){this.I2t.M2t((function(t){return t.Wg()}))},i.tr=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return n=[],t.I2t.M2t((function(t){return n.push(t.Zg())})),[4,K.all(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.I2t.gn()];case 1:return n.sent(),[2]}}))}))()},At(n,[{key:"N2t",get:function(){return this.I2t}},{key:"Fc",get:function(){var t=!1;return this.D2t((function(n){t=t||n.E2t})),t}},{key:"Sit",get:function(){var t=[];return this.D2t((function(n){var i,r=n.Sit;r.length&&(i=t).push.apply(i,Lt(r))})),t}},{key:"Iit",get:function(){var t=null;return this.D2t((function(n){null!=t||(t=n.Iit)})),t}},{key:"Dit",get:function(){var t=[];return this.D2t((function(n){var i;(i=t).push.apply(i,Lt(n.Dit))})),t}},{key:"Eit",get:function(){var t=[];return this.D2t((function(n){var i;(i=t).push.apply(i,Lt(n.Eit))})),t}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=dR(this)}}]),n}(sI),g2=function(t){function n(n){var i;return(i=t.call(this,n)||this).x2t=!1,i.v5=!1,i.O2t=function(t){if(i.x2t){var n=new UA(BA.ADVERTISEMENT_ERROR,t.pL),r=new Fv(Qv.AD_BLOCKER_DETECTED,t.pL+" Turn off your AdBlocker and try again.",n);i.k2t.rB(r)}},i.ntt=function(){i.v5=!0},i.yn("yCt",i.O2t),n.yn(dd.jh,i.ntt),i}kt(n,t);var i=n.prototype;return i.W4=function(t,n,i){try{this.x2t=i;var r=wI.lL.FU(t);if(r.d2t===A1.git)return;var e=this.I2t.l2t(r.d2t);if(!e)throw new g0(d0.ADBLOCK,void 0,"Ads could not be loaded.");n!==aR.Cit&&this.v5||this.k2t.C2t(e),r.W4(t,n,e,this.x2t)}catch(n){0,this.Co(v2.S2t(n,t.sources))}},i.tr=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.tr.call(n)];case 1:return i.sent(),n.v5=!1,[2]}}))}))()},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.k2t.fn(dd.jh,n.ntt),n.fn("yCt",n.O2t),[2]}}))}))()},n}(l2);wt(),C(),Ot(),mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var w2,y2,A2=function(t){function n(n){var i;return(i=t.call(this)||this).yKt=n,i.Ic=[],i.j2t=-1,i.R2t=-1,i.P2t=void 0,i.B2t=!1,i}kt(n,t);var i=n.prototype;return i.z2t=function(){this.B2t=!0},i.U2t=function(t){this.Ic.push(t),this.B2t=!1},i.Q2t=function(t){ao(this.Ic,t)},At(n,[{key:"Oc",get:function(){return this.Ic}},{key:"$Jt",get:function(){return this.j2t},set:function(t){this.j2t=t}},{key:"t$t",get:function(){return this.R2t},set:function(t){this.R2t=t}},{key:"cPt",get:function(){return this.yKt},set:function(t){this.yKt=t}},{key:"DJt",get:function(){return this.P2t}},{key:"pg",get:function(){return this.B2t}}]),n}(p1),m2=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).Y2t=[],r.F2t=n,r.Yn(i),r}kt(n,t);var i=n.prototype;return i.Yn=function(t){void 0!==t.maxDuration&&(this.j2t=t.maxDuration),void 0!==t.customData&&(this.P2t=t.customData)},i.G2t=function(t){var n=this.Ic.indexOf(t);return n>=0&&n<this.Ic.length-1},i.U2t=function(n){t.prototype.U2t.call(this,n),this.Y2t.push(n)},i.V2t=function(t){ao(this.Y2t,t)},i.Q2t=function(n){t.prototype.Q2t.call(this,n),ao(this.Y2t,n)},At(n,[{key:"vKt",get:function(){return this.F2t}},{key:"Dit",get:function(){return this.Y2t}}]),n}(A2);wt(),C(),mt(),Mt(),Ct(),wt(),C(),mt(),Mt(),function(t){t.xqt="linear",t.Cqt="nonlinear",t.jT="unknown"}(w2||(w2={})),function(t){t.NONE="none",t.READY="ready"}(y2||(y2={}));var p2=function(t){function n(n,i){var r;return(r=t.call(this)||this).q2t=i,r.uS=void 0,r.OZt=void 0,r.qx=void 0,r.Kx=void 0,r.jx=void 0,r.DZt=[],r.PXt=[],r.H2t="none",r.P2t=void 0,r.J2t=!1,r.Xl=n,r}kt(n,t);var i=n.prototype;return i.W2t=function(t,n,i,r,e,u){this.uS=t,this.qx=n,this.Kx=i,this.jx=r,this.PXt=e,this.OZt=u,this.H2t="ready"},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()},i.w$t=function(){},i.A$t=function(){return""},i.p$t=function(){return this.$2t},At(n,[{key:"X2t",get:function(){return this.H2t}},{key:"RXt",get:function(){return this.PXt}},{key:"ct",get:function(){return this.jx}},{key:"Ti",get:function(){return this.Kx}},{key:"o",get:function(){return this.uS}},{key:"CZt",get:function(){return this.OZt}},{key:"ji",get:function(){return this.qx}},{key:"Z2t",get:function(){return this.q2t}},{key:"sZt",get:function(){return this.nZt}},{key:"IXt",get:function(){return this.DXt}},{key:"fXt",get:function(){return this.DZt}},{key:"DJt",get:function(){return this.P2t}},{key:"K2t",get:function(){return this.J2t}}]),n}(m1);function _2(t){return{get adSystem(){return t.w$t()},get readyState(){return t.X2t},get adBreak(){return t.Xl.Nit()},get duration(){return t.ct},get companions(){return t.RXt.map((function(t){return t.va}))},get resourceURI(){return t.p$t()},get clickThrough(){return t.sZt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.Z2t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.CZt},get integration(){return t.vKt},get creativeId(){return t.IXt},get universalAdIds(){return t.fXt},get customData(){return t.DJt},get isSlate(){return t.K2t}}}wt(),C(),mt();var k2=function(){function t(t){var n;this.Xa=void 0,this.nZt=void 0,this.$2t=void 0,this.ZXt=t.XXt,this.qx=t.ji,this.Kx=t.Ti,this.i4t=t.t4t,this.nZt=t.sZt,this.$2t=t.lqt,this.eZt=null!=(n=t.iZt)?n:"",this.e4t(t)}return t.prototype.e4t=function(t){if(!t.sZt||!t.lqt){var n=function(t){try{return Z$(t,"text/html")}catch(t){return}}(t.t4t);n&&(this.nZt=M2(n,"a","href"),this.$2t=M2(n,"img","src"))}},At(t,[{key:"XXt",get:function(){return this.ZXt}},{key:"iZt",get:function(){return this.eZt}},{key:"t4t",get:function(){return this.i4t}},{key:"sZt",get:function(){return this.nZt}},{key:"Ti",get:function(){return this.Kx}},{key:"lqt",get:function(){return this.$2t}},{key:"ji",get:function(){return this.qx}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get adSlotId(){return t.XXt},get altText(){return t.iZt},get contentHTML(){return t.t4t},get clickThrough(){return t.sZt},get height(){return t.Ti},get resourceURI(){return t.lqt},get width(){return t.ji}}}(this)}}]),t}();function M2(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var b2=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?w2.xqt:"nonlinear"===t?w2.Cqt:w2.jT}(i.type))||this).n4t=0,e.F2t=n,e.Yn(i),e}kt(n,t);var i=n.prototype;return i.fa=function(){return _2(this)},i.Yn=function(t){t.id&&(this.uS=t.id),void 0!==t.skipOffset&&(this.OZt=t.skipOffset),void 0!==t.width&&(this.qx=t.width),void 0!==t.height&&(this.Kx=t.height),void 0!==t.duration&&(this.jx=t.duration),void 0!==t.readyState&&(this.H2t=function(t){return"ready"===t?y2.READY:y2.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.$2t=t.resourceURI),void 0!==t.clickThrough&&(this.nZt=t.clickThrough),void 0!==t.companions&&(this.PXt=Lt(t.companions).map(T2)),void 0!==t.creativeId&&(this.DXt=t.creativeId),void 0!==t.universalAdIds&&(this.DZt=t.universalAdIds),void 0!==t.customData&&(this.P2t=t.customData)},At(n,[{key:"vKt",get:function(){return this.F2t}},{key:"s4t",get:function(){return this.n4t},set:function(t){this.n4t=t}}]),n}(p2);function T2(t){var n={XXt:t.adSlotId,iZt:t.altText,t4t:t.contentHTML,Nz:void 0,sZt:t.clickThrough,Ti:t.height,lqt:t.resourceURI,ji:t.width};return new k2(n)}wt(),C(),mt(),Mt();var N2=function(t){function n(n,i){var r;return(r=t.call(this,"pCt",n)||this).o4t=i,r}return kt(n,t),n.prototype.fa=function(){return new D2(this.Rit.Nit(),this.r4t)},At(n,[{key:"r4t",get:function(){return this.o4t}}]),n}(pR),D2=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return kt(n,t),n}(_R);wt(),C(),Mt();var I2=function(t){function n(n){return t.call(this,"h4t",n)}return kt(n,t),n.prototype.fa=function(){return new E2(this.Xl.Nit())},n}(lR),E2=function(t){function n(n){return t.call(this,"updateadbreak",n)}return kt(n,t),n}(gR);wt(),C(),Mt();var S2=function(t){function n(n){return t.call(this,"a4t",n)}return kt(n,t),n.prototype.fa=function(){return new L2(this.Xl.Nit())},n}(lR),L2=function(t){function n(n){return t.call(this,"adbreakchange",n)}return kt(n,t),n}(gR);wt(),C(),Mt();var C2=function(t){function n(n,i){var r;return(r=t.call(this,"u4t",n)||this).currentTime=i,r}return kt(n,t),n.prototype.fa=function(){return new j2(this.Rit.Nit(),this.currentTime)},n}(pR),j2=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return kt(n,t),n}(_R);wt(),C(),Mt();var x2=function(t){function n(n,i){var r;return(r=t.call(this,"c4t",n)||this).currentTime=i,r}return kt(n,t),n.prototype.fa=function(){return new O2(this.Rit.Nit(),this.currentTime)},n}(pR),O2=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return kt(n,t),n}(_R);wt(),C(),Mt();var z2=function(t){function n(n,i){var r;return(r=t.call(this,"l4t",n)||this).currentTime=i,r}return kt(n,t),n.prototype.fa=function(){return new R2(this.Rit.Nit(),this.currentTime)},n}(pR),R2=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return kt(n,t),n}(_R),B2=function(){function t(t,n){this.A2t=new sI,this.Ic=[],this.D$t=[],this.T4t=[],this.vKt=t,this.k2t=n}var n=t.prototype;return n.Ny=function(){var t;if(0!==this.T4t.length){var n=this.T4t[0];(null==(t=this.T3)?void 0:t.skipAd)?this.T3.skipAd(n.Nit()):this.$Kt(n)}},n.Yit=function(t){},n.d4t=function(t,n){var i,r=null!=n?n:this.S4t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new b2(this.vKt,t,r);return r.U2t(e),this.Ic.push(e),this.A2t.Co(new kR(e)),e},n._4t=function(t,n){t.Yn(n),this.A2t.Co(new I1(t))},n.w4t=function(t,n){if(!fo(this.T4t,t))throw new v("Cannot update ad progress on a non-started ad");var i=t.s4t,r=g.max(i,n);t.s4t=r;var e=this.k2t.Q_();i<.25&&r>=.25&&this.A2t.Co(new C2(t,e)),i<.5&&r>=.5&&this.A2t.Co(new x2(t,e)),i<.75&&r>=.75&&this.A2t.Co(new z2(t,e))},n.V2t=function(t){fo(this.T4t,t)||(this.T4t.push(t),t.Xl.V2t(t),this.N4t(t.Xl),this.A2t.Co(new IR(t,this.k2t.Q_())))},n.$Kt=function(t){if(fo(this.T4t,t)){var n=t.Xl.G2t(t);this.A2t.Co(new N2(t,t.s4t)),this.I4t(t,n)}},n.v4t=function(t){if(fo(this.T4t,t)){var n=t.Xl.G2t(t);this.A2t.Co(new SR(t,this.k2t.Q_())),this.I4t(t,n)}},n.Q2t=function(t){if(fo(this.Ic,t)){var n=t.Xl.G2t(t);ao(this.Ic,t),t.Xl.Q2t(t),this.A2t.Co(new S2(t.Xl)),this.I4t(t,n)}},n.m4t=function(t){var n=new m2(this.vKt,t);return this.D$t.push(n),this.A2t.Co(new AR(n)),n},n.p4t=function(t,n){t.Yn(n),this.A2t.Co(new I2(t))},n.A4t=function(t){if(fo(this.D$t,t)){for(var n=0,i=t.Oc.slice();n<i.length;n++){var r=i[n];this.Q2t(r)}ao(this.D$t,t),this.A2t.Co(new wR(t))}},n.y4t=function(){for(var t=0,n=this.D$t.slice();t<n.length;t++){var i=n[t];this.A4t(i)}},n.M4t=function(t){this.A2t.Co(new v2(d0.GENERAL,t.message))},n.b4t=function(t,n){var i=new Fv(null!=n?n:Qv.AD_ERROR,t.message,t);this.k2t.rB(i)},n.D4t=function(t){return ro(this.D$t,(function(n){return n.cPt===t}))},n.S4t=function(t){var n;return null!=(n=this.D4t(t.timeOffset))?n:this.m4t(t)},n.I4t=function(t,n){ao(this.T4t,t);var i=t.Xl;0!==this.T4t.length||this.I$t!==i||n||(i.z2t(),this.N4t(void 0))},n.N4t=function(t){this.I$t!==t&&(void 0!==this.I$t&&this.A2t.Co(new bR(this.I$t)),this.I$t=t,void 0!==t&&this.A2t.Co(new NR(t)))},n.g4t=function(t){var n=ro(this.Ic,(function(n){return n.Nit()===t}));if(void 0===n)throw new v('Invalid ad for integration "'+this.vKt+'"');return n},n.f4t=function(t){var n=ro(this.D$t,(function(n){return n.Nit()===t}));if(void 0===n)throw new v('Invalid ad break for integration "'+this.vKt+'"');return n},n.ga=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return jo(n),(null==(r=i.T3)?void 0:r.setSource)?[4,K.resolve(i.T3.setSource(t))]:[3,2];case 1:return UI(e=u.sent())&&(e=t),[2,qI(e,i.k2t.wd)];case 2:return[2,t];case 3:return[2]}}))}))()},n.E4t=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return(null==(n=t.T3)?void 0:n.resetSource)?[4,K.resolve(t.T3.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.y4t(),i.label=3;case 3:return[2]}}))}))()},n.gn=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return(null==(n=t.T3)?void 0:n.destroy)?[4,K.resolve(t.T3.destroy()).catch(Hn)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.y4t(),t.N4t(void 0),t.T3=void 0,t.A2t.gn(),[2]}}))}))()},At(t,[{key:"Oc",get:function(){return this.Ic}},{key:"s$t",get:function(){return this.D$t}},{key:"va",get:function(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get integration(){return t.vKt},get ads(){return t.Oc.map((function(t){return t.Nit()}))},get adBreaks(){return t.s$t.map((function(t){return t.Nit()}))},createAd:function(n,i){return t.d4t(n,i?t.f4t(i):void 0).Nit()},updateAd:function(n,i){t._4t(t.g4t(n),i)},updateAdProgress:function(n,i){var r=Bi(Number(i),0,1);t.w4t(t.g4t(n),r)},beginAd:function(n){t.V2t(t.g4t(n))},endAd:function(n){t.v4t(t.g4t(n))},skipAd:function(n){t.$Kt(t.g4t(n))},removeAd:function(n){t.Q2t(t.g4t(n))},createAdBreak:function(n){return t.m4t(n).Nit()},updateAdBreak:function(n,i){t.p4t(t.f4t(n),i)},removeAdBreak:function(n){t.A4t(t.f4t(n))},removeAllAds:function(){t.y4t()},error:function(n){t.M4t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.b4t(n,r)}}}(this)}},{key:"NM",get:function(){return this.T3},set:function(t){this.T3=t}},{key:"E2t",get:function(){return this.T4t.some((function(t){return t.Z2t===w2.xqt}))}},{key:"w2t",get:function(){return this.vKt}},{key:"Sit",get:function(){return this.T4t}},{key:"Iit",get:function(){var t;return null!=(t=this.I$t)?t:null}},{key:"Dit",get:function(){return wo(this.D$t,(function(t){return t.Dit}))}},{key:"Eit",get:function(){return this.D$t.filter((function(t){return!t.pg}))}}]),t}();var P2=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).j4t=[],r.vz=void 0,r.bU=void 0,r.R4t=1,r.q1t=n,r.k4t=new g2(Vt(r)),r.k4t.N2t.c2t(i,n,Vt(r),n.wd),r}kt(n,t);var i=n.prototype;return i.ait=function(){return this.k4t},i.Wg=function(){this.q1t.Wg(),this.k4t.Wg()},i.Xg=function(){void 0===this.vz?(void 0!==this.C4t&&this.O4t(this.C4t),t.prototype.Xg.call(this)):this.Co(new uT(this.vz))},i.ga=function(n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:if(jo(i),!(e=n))return[3,4];u=0,s=r.j4t,f.label=1;case 1:return u<s.length?[4,s[u].ga(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.ga.call(r,e,i)];case 5:if(f.sent(),jo(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.k4t.L2t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.k4t.W4(h,aR.Cit,o);return[2]}}))}))()},i.Zg=function(){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return n.vz=void 0,n.bU=void 0,[4,n.k4t.tr()];case 1:return e.sent(),n.Q1t(),[4,t.prototype.Zg.call(n)];case 2:e.sent(),i=0,r=n.j4t,e.label=3;case 3:return i<r.length?[4,r[i].E4t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.O4t=function(t){this.R4t=this.Qo.gg;var n=this.Qo.zg,i=this.Qo.og;t.Ug(n),t.ag(i),this.x4t=t,this.C4t=void 0,this.WT(t)},i.C2t=function(t){void 0===this.x4t&&(this.C4t=t)},i.Q1t=function(){this.C4t=void 0,void 0!==this.x4t&&(this.q1t.gg=this.R4t,this.q1t.zg=this.zg,this.q1t.og=this.og,this.WT(this.q1t),this.x4t=void 0)},i.W_=function(){var n;return null!=(n=this.bU)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.vz)?n:t.prototype.X_.call(this)},i.rB=function(t){void 0===this.X_()&&(this.vz=t,this.bU=YA(t),this.Co(new uT(t)))},i.nw=function(t){return void 0===this.x4t&&this.k4t.b2t(t)},i.Lit=function(t,n){try{var i=new B2(t,this);i.NM=n(i.va),this.k4t.Git(i),this.j4t.push(i)}catch(n){this.k4t.Co(new v2(d0.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.gn=function(){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,r=n.j4t,e.label=1;case 1:return i<r.length?[4,r[i].gn().catch(Hn)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[4,n.k4t.gn()];case 5:return e.sent(),n.Q1t(),[4,t.prototype.gn.call(n)];case 6:return e.sent(),[2]}}))}))()},At(n,[{key:"L4t",get:function(){return this.x4t}}]),n}(e2);LT((function(t){return new P2(t,wI.lL)}),TT._it),wt(),C(),mt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt();var U2=0!==jn.Uk?jn.Uk:jn.WE,Q2=jn.Ga&&U2<12,Y2=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).k2t=i,r.Q4t=!1,r.VT=new RA,r.YT=new RA,r.Dl=new j_,r.GT=new rN,r.P4t=new sI,r.dU=new QD,r.bz=new wT,r.F4t=function(){r.Qo.ge()},r.Y4t=function(){r.G4t()},r.Qo.yn(dd.Dv,r.Ds),r}kt(n,t);var i=n.prototype;return i.Ktt=function(){return this.Qo.Ktt()},i.j_=function(){return BD.oU().ks()},i.P_=function(){},i.z_=function(t){},i.wg=function(){return 1},i.vg=function(t){},i.Ag=function(){return new BD([0,this.U_]).ks()},i.Lg=function(){return!1},i.xg=function(){return this.Dl},i.jg=function(){return this.VT},i.cs=function(){return this.Gg().cs},i.Gg=function(){return this.dU},i.ka=function(){},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.Vo(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),t.P4t.gn(),t.Qo.fn(dd.Dv,t.Ds),[2]}))}))()},i.z4t=function(){Q2&&this.B4t(),this.E2t||this.k2t.O4t(this)},i.Q1t=function(){this.E2t&&(Q2&&this.U4t(),jn.sL&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),on.Ys.Bet&&this.Qo.iw(),this.k2t.Q1t())},i.B4t=function(){this.Q4t||(iu.addEventListener("blur",this.F4t),iu.addEventListener("focus",this.Y4t),this.Q4t=!0)},i.U4t=function(){iu.removeEventListener("blur",this.F4t),iu.removeEventListener("focus",this.Y4t),this.Q4t=!1},i.G4t=function(){var t=this;requestAnimationFrame((function(){return t.Qo.be()}))},At(n,[{key:"U_",get:function(){return this.Q_()},set:function(t){this.F_(t)}},{key:"ct",get:function(){return this.Td()}},{key:"Z_",get:function(){return this.GT}},{key:"Ig",get:function(){return this.Dg()}},{key:"Qg",get:function(){return this.bz}},{key:"A2t",get:function(){return this.P4t}},{key:"ht",get:function(){return this.YT}},{key:"E2t",get:function(){return this.k2t.L4t===this}}]),n}(NT);wt(),C(),Ot(),mt(),Pt(),wt(),C(),mt();var G2=0,F2="theoplayer-wrapper",V2=function(){function t(n,i,r,e){this.W4t=i,this.Qo=r,this.K4t=e,this.r3t=NaN,this.a3t=!1,this.c3t=!1,this.e3t=!1,this.f3t=[],this.Ftt=!1,this.uU=!1,this.X4t=[],this.Xw=++G2,this.w3t=n.timeOffset,this.n3t=t.x3t(this.w3t),this.o3t(),this.X4t.push(n)}var n=t.prototype;return n.J4t=function(t){var n=this.$4t===t.timeOffset;return!this.t3t&&n},n.o3t=function(){if(A(this.r3t)){var t=this.$4t;if(void 0===t)return void(this.r3t=0);if("string"==typeof t&&Y0(t)){var n=this.Qo.Td();A(n)||n===1/0||(t=T$(t)*n)}A(t)||(this.r3t=t)}},n._3t=function(t){this.f3t.push(t)},n.g3t=function(){if(!this.t3t){var t,n,i=this.W4t===aR.Cit&&void 0===this.w3t&&1===this.X4t.length,r=this.X4t[0];if(B0(r.sources.type)||i)t=r.sources.src;else{if(A(this.Qo.Td())&&"end"===this.v3t())return;n=this.m3t()}var e=this.Qo.Td();(A(e)||e===1/0)&&(e=-3),this.t3t={p3t:this.Qo.we.offsetWidth,A3t:this.Qo.we.offsetHeight,y3t:this.Qo.we.offsetWidth,M3t:this.Qo.we.offsetHeight,b3t:this.Ftt,T3t:this.uU,S3t:t,N3t:n,I3t:r.omidAccessModeRules,D3t:e}}return this.t3t},n.m3t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.X4t.map((function(n,i){return t.E3t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.E3t=function(t,n){var i=this.v3t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.Xw+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+F2+"-"+this.Xw+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.v3t=function(){if(0===this.$4t)return"start";if(this.$4t===1/0)return"end";var t=this.$4t;if("string"==typeof t&&Y0(t)){var n=T$(t)*this.Qo.Td();return N0.cKt(n)}return N0.cKt(this.$4t||0)},n.k3t=function(t){this.X4t.push(t)},n.L3t=function(t){for(var n=F2+"-"+this.Xw+"-",i=0;i<t.length;i++){var r=t[i];if(Ls(r,n)){var e=Number(r.slice(n.length));if(!A(e)&&e>=0&&e<this.X4t.length)return e}}return-1},n.C3t=function(){this.e3t=!0},t.x3t=function(t){if(void 0!==t)return-1===t?1/0:t},At(t,[{key:"V4t",get:function(){return this.W4t}},{key:"H4t",get:function(){return this.X4t}},{key:"Z4t",get:function(){return 1===this.X4t.length&&B0(this.X4t[0].sources.type)}},{key:"q4t",get:function(){return this.K4t}},{key:"i3t",get:function(){return this.e3t}},{key:"s3t",get:function(){return Y0(this.n3t)&&!this.t3t}},{key:"$4t",get:function(){return this.n3t}},{key:"Kl",get:function(){return this.r3t}},{key:"h3t",get:function(){return this.a3t},set:function(t){this.a3t=t}},{key:"u3t",get:function(){return this.c3t},set:function(t){this.c3t=t,this.l3t=!1}},{key:"d3t",get:function(){return this.f3t}},{key:"eS",get:function(){return this.Ftt},set:function(t){this.Ftt=t}},{key:"og",get:function(){return this.uU},set:function(t){this.uU=t}}]),t}();wt(),C(),mt();var W2,X2=function(){function t(t){this.Y3t=!1,this.j3t=t,this.P3t=void 0}var n=t.prototype;return n.L2t=function(t){this.P3t=t},n.z3t=function(t){return!(this.O3t&&!this.O3t.i3t&&"nonlinear"!==this.R3t.Z2t)||this.O3t.Kl>t.Kl&&this.O3t.Kl!==t.Kl},n.B3t=function(t){if(t.length)return t.sort((function(t,n){return t.Kl-n.Kl}))[0]},n.U3t=function(){if(this.Dit.length)return this.B3t(this.Q3t(this.t.Q_()))},n.F3t=function(){var t=this;if(!(void 0!==this.P3t&&this.P3t>=0))return this.Dit.filter((function(n){return!n.h3t&&0===n.Kl&&n!==t.O3t}))[0]},n.Q3t=function(t){var n=this;if(!this.Y3t&&(this.Y3t=!this.Dit.some((function(t){return A(t.Kl)})),!this.Y3t))return[];var i=this.Dit.filter((function(n){return!n.h3t&&(n.Z4t||!A(n.Kl)&&t<=n.Kl)}));return void 0===this.P3t?i:i.filter((function(t){return t.Z4t||void 0===t.$4t||t.Kl>n.P3t}))},At(t,[{key:"O3t",get:function(){return this.j3t.O3t}},{key:"R3t",get:function(){return this.j3t.R3t}},{key:"Dit",get:function(){return this.j3t.Dit}},{key:"t",get:function(){return this.j3t.t}}]),t}();!function(t){t[t.G3t=0]="G3t",t[t.V3t=1]="V3t",t[t.W3t=2]="W3t"}(W2||(W2={}));var Z2,H2,K2,J2,q2=function(){function t(t,n,i,r,e){var u=this;this.i5t=0,this.Cvt=void 0,this.w5t=!1,this.uF=function(){for(var t=u.Y2t.filter((function(t){return t.s3t})),n=0;n<t.length;n++){var i=t[n];i.o3t();var r=i.$4t;u.J3t.p5t(r,i.Kl)}u.bo&&u.v5t&&u.X3t()},this.Y2t=[],this.t5t=t,this.bo=!1,this.H3t=!1,this.Qo=n,this.k2t=i,this.O3t=void 0,this.a5t=0,this._5t=new X2(this),this.Vtt=r,this.J3t=e,this.Qo.yn(dd.Lv,this.uF)}var n=t.prototype;return n.Wg=function(){this.bo=!0,this.H3t&&this.X3t()},n.Z3t=function(t,n){this.q3t(t,n);var i=ro(this.Dit,(function(n){return n.J4t(t)}));if(i)i.k3t(t);else{var r,e=new V2(t,n,this.Qo,null==(r=t.replaceContent)||r);this.Y2t.push(e),2===this.K3t&&this.J3t.m4t(e.Kl,e,e.$4t),this.$3t(n,e)}},n.e5t=function(){if(ao(this.Dit,this.O3t),this.O3t){for(var t=0,n=this.O3t.d3t;t<n.length;t++){n[t];this.J3t.s5t()}this.O3t=void 0}},n.n5t=function(){for(var t=0,n=this.Y2t;t<n.length;t++)for(var i=0,r=n[t].d3t;i<r.length;i++){var e=r[i];this.J3t.r5t(e,!0)}lo(this.Y2t)},n.o5t=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.e5t(),n.h5t=!0,n.O3t=t,n.a5t=t.Kl,n.Cvt=n.u5t(t),[4,n.Cvt];case 1:return i.sent(),n.Cvt=void 0,[2]}}))}))()},n.u5t=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:if(n.c5t(t),!(i=t.g3t()))return n.h5t=!1,n.O3t=void 0,[2];r=n.t5t.l5t(i),t.h3t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.V4t===aR.kit&&n.t5t.d5t(),[3,5];case 3:return e.sent(),n.O3t=void 0,[4,n.X3t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.c5t=function(t){this.bo?t.eS=!0:t.eS=this.k2t.eS,t.og=this.k2t.og},n.f5t=function(){var t;return null!=(t=this._5t.F3t())?t:this._5t.U3t()},n.X3t=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.O3t&&!t.O3t.i3t?[2,t.Cvt]:(n=t.f5t())?[4,t.o5t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.tr=function(){this.e5t(),lo(this.Y2t),this.a5t=0,this.O3t=void 0,this.Cvt=void 0,this.h5t=!1},n.u3t=function(){this.h5t=!1,this.O3t&&(this.O3t.u3t=!0)},n.$3t=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return t===aR.kit&&i.bo&&i._5t.z3t(n)?i.KGt||"linear"===i.t5t.Z2t||!(!i.O3t||i.O3t&&i.O3t.h3t)?[3,3]:[4,K.resolve()]:[3,3];case 1:return r.sent(),[4,i.o5t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.C3t=function(){this.O3t&&this.O3t.C3t()},n.m5t=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.v5t?(n=t.f5t())?[4,t.o5t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.q3t=function(t,n){var i=t.sources.type,r=n===aR.Cit&&void 0===t.timeOffset,e=B0(i)||r?1:2;e!==this.i5t&&(this.i5t=e,this.n5t(),this.t5t.i$t&&!this.KGt&&"linear"!==this.t5t.Z2t&&(this.t5t.i$t.h_(),this.O3t=void 0,this.Cvt=void 0),this.a5t=0,this.H3t=!0)},n.L2t=function(t){this._5t.L2t(t)},n.gn=function(){this.Qo.fn(dd.Lv,this.uF)},At(t,[{key:"R3t",get:function(){return this.t5t}},{key:"Dit",get:function(){return this.Y2t}},{key:"t",get:function(){return this.Qo}},{key:"KGt",get:function(){return Boolean(this.Cvt)}},{key:"K3t",get:function(){return this.i5t}},{key:"O3t",get:function(){return this.g5t},set:function(t){this.g5t=t}},{key:"h5t",get:function(){return this.w5t},set:function(t){this.w5t=t}},{key:"v5t",get:function(){var t=this;return!this.KGt&&!this.h5t&&(!(this.O3t&&!this.O3t.i3t)&&(!!this.Y2t.filter((function(n){return t.O3t!==n})).length&&Boolean(this.f5t())))}}]),t}();function $2(t,n){if(t===Z2.A5t){var i=n;return{y5t:i.adBreakDuration,M5t:i.adPosition,U_:i.currentTime,ct:i.duration,b5t:i.totalAds}}return n}function t4(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return J2.T5t;case google.ima.AdError.Type.AD_PLAY:return J2.S5t}}function n4(t){return Un(t)&&Xn(t.getVastErrorCode)}function i4(t){var n=t.getInnerError(),i=n&&n4(n)?i4(n):void 0;return{pL:t.getMessage(),Sqt:t.getErrorCode(),N5t:t.getVastErrorCode(),Av:t4(t.getType()),I5t:i}}function r4(t){if(zn(t))return t}wt(),C(),Wt(),Ot(),Mt(),Pt(),wt(),C(),function(t){t.D5t="contentResumeRequested",t.E5t="contentPauseRequested",t.k5t="click",t.Lv="durationChange",t.L5t="expandedChanged",t.nLt="start",t.x5t="impression",t.VU="pause",t.C5t="resume",t.A5t="adProgress",t.O5t="adBuffering",t.j5t="firstQuartile",t.HZt="midpoint",t.R5t="thirdQuartile",t.XZt="complete",t.P5t="userClose",t.z5t="linearChanged",t.B5t="loaded",t.U5t="adCanPlay",t.Q5t="adMetadata",t.F5t="adBreakReady",t.Y5t="interaction",t.G5t="allAdsCompleted",t.V5t="skip",t.W5t="skippableStateChanged",t.H5t="log",t.X5t="viewableImpression",t.Z5t="volumeChange",t.q5t="mute"}(Z2||(Z2={})),wt(),C(),function(t){t.K5t="adError"}(H2||(H2={})),wt(),C(),function(t){t[t.J5t=-1]="J5t",t[t.$5t=-1]="$5t",t[t.t6t=-1]="t6t",t[t.i6t=101]="i6t",t[t.e6t=102]="e6t",t[t.s6t=200]="s6t",t[t.n6t=201]="n6t",t[t.r6t=202]="r6t",t[t.o6t=300]="o6t",t[t.h6t=301]="h6t",t[t.a6t=302]="a6t",t[t.u6t=303]="u6t",t[t.c6t=400]="c6t",t[t.l6t=402]="l6t",t[t.d6t=403]="d6t",t[t.f6t=405]="f6t",t[t._6t=500]="_6t",t[t.g6t=501]="g6t",t[t.w6t=-1]="w6t",t[t.v6t=503]="v6t",t[t.m6t=602]="m6t",t[t.p6t=900]="p6t",t[t.A6t=901]="A6t",t[t.y6t=1005]="y6t",t[t.M6t=1007]="M6t",t[t.b6t=1009]="b6t",t[t.T6t=1010]="T6t",t[t.S6t=1011]="S6t",t[t.N6t=1012]="N6t",t[t.I6t=1013]="I6t",t[t.D6t=1020]="D6t",t[t.E6t=1021]="E6t",t[t.k6t=1101]="k6t",t[t.L6t=1204]="L6t",t[t.x6t=1205]="x6t",t[t.C6t=1300]="C6t",t[t.O6t=-1]="O6t",t[t.j6t=-1]="j6t",t[t.R6t=-1]="R6t",t[t.P6t=-1]="P6t"}(K2||(K2={})),function(t){t.T5t="adLoadError",t.S5t="adPlayError"}(J2||(J2={})),wt(),C(),Zt(),wt(),C();var e4=function(t){function n(n,i,r){var e;(e=t.call(this)||this).t5t=n,e.Qo=i,e.t9t=r,e.j9t=!1,e.L9t=void 0,e.x9t=void 0,e.c9t=0,e._9t=function(t){if(t.Rit&&t.Rit.p9t){var n=t.Rit.p9t;e.t9t.p4t(n.cPt,n.b5t,n.$Jt)}},e.g9t=function(t){var n,i,r;if(!(e.c9t>=5)){e.c9t++;var u=t.e9t;if(function(t){return Un(t)&&void 0!==t.y5t&&void 0!==t.b5t}(u)){var s=null==(r=e.e$t)||null==(i=r.w9t())||null==(n=i.p9t)?void 0:n.cPt;void 0!==s&&e.t9t.p4t(s,u.b5t,u.y5t)}}};var u=Vt(e);e.U6t=xt((function(t){return zt(this,(function(n){switch(n.label){case 0:return t.e9t.R9t?[4,u.o9t(t.e9t.R9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}));var s=Vt(e);e.Y6t=xt((function(){return zt(this,(function(t){switch(t.label){case 0:return s.j9t=!0,s.t5t.C3t(),[4,s.F6t()];case 1:return t.sent(),[2]}}))})),e.G6t=function(t){if(t.Rit){0;var n=t.Rit;e.t5t.b9t(n),e.t5t.ge(),e.t5t.P9t(),e.t9t.z9t(n);var i=n.ct;if(e.i9t(i),n.l9t){var r=e.t5t.U_,u=e.t5t.Sg;e.t5t.a2(ak.QT),e.z6t(new fk(r,u)),e.z6t(new dk(r,u)),e.z6t(new lk(r,u)),e.t5t.fg||e.z6t(new gk(e.t5t.U_)),e.setCountdownTimer(),e.K6t(!0)}else e.t5t.Q1t(),e.Qo.ge(),e.t5t.fg||e.Qo.Xg()}},e.V6t=function(t){var n;if(t.Rit){0;var i=t.Rit;if(e.g1(),e.t9t.M9t(e.t5t.ct,i.l9t),e.t5t.Sg!==ak.BT){var r=ak.BT;e.t5t.a2(r);var u=e.t5t.U_;e.z6t(new eD(u,r))}e.i9t(NaN),e.t5t.B9t=!1,null==(n=e.e$t)||n.Ug(e.t5t.d9t())}},e.W6t=function(t){t.Rit&&(e.V6t(t),e.t9t.W6t(t.Rit,e.t5t.U_,e.t5t.ct))},e.H6t=function(t){t.Rit&&(e.t9t.M9t(-1,t.Rit.l9t),e.t5t.C3t(),!t.Rit.l9t&&e.t5t.v5t()&&e.t5t.m5t())},e.X6t=function(t){t.Rit&&(t.Rit.l9t?e.t5t.Hg():e.Qo.Hg())},e.Z6t=function(){var t;(e.t5t.B9t=!0,e.t5t.U9t)&&(null==(t=e.e$t)||t.Hg(),e.t5t.U9t=!1)},e.Q6t=function(t){var n;if(t.Rit){0,e.t5t.k9t&&(e.x9t=e.Qo.Q_(),e.Qo.$g(),e.Qo.Yg=!0),e.t5t.Q9t=!0;var i=t.Rit;e.t9t.Md(i);var r=i.ct;e.t5t.b9t(i),e.i9t(r),e.t5t.q6t(!1),e.t5t.ge(),e.t5t.z4t(),e.t5t.k9t||e.Qo.be(),e.Qo.Hg(),e.t5t.F9t(i),0===(null==(n=i.p9t)?void 0:n.cPt)||e.t5t.Co(new vk(e.t5t.U_))}};var o=Vt(e);return e.F6t=xt((function(t){var n,i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return n=null==t?void 0:t.Rit,o.t5t.Q9t=!1,"linear"===o.t5t.Z2t&&o.t9t.Pd(),n&&n.ct>=0&&o.i9t(n.ct),o.Qo.Td()===1/0&&o.t5t.Y9t(),o.t5t.B9t=!1,o.j9t?[4,o.y9t()]:[3,2];case 1:s.sent(),s.label=2;case 2:o.t5t.q6t(!0),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,o.E9t()];case 4:return s.sent(),[3,6];case 5:return Co(i=s.sent())||o.Co(new yq(i)),[2];case 6:return o.t5t.Q1t(),o.t5t.be(),o.Qo.G_||o.Qo.Xg(),n&&o.t5t.b9t(n),o.t5t.N9t&&(o.t5t.k9t&&(e=o.Qo.Vg(),u=null==(r=o.Qo.bt)?void 0:r.src,e&&u&&(e.src=u)),o.t5t.I9t=!0),o.Qo.Yg=!1,o.t5t.v5t()?[4,o.t5t.m5t()]:[3,8];case 7:s.sent(),s.label=8;case 8:return[2]}}))})),e}kt(n,t);var i=n.prototype;return i.z6t=function(t){this.t5t.Co(t)},i.B6t=function(t){var n=this;this.e$t=t,this.e$t.yn(H2.K5t,this.U6t),this.e$t.yn(Z2.E5t,this.Q6t),this.e$t.yn(Z2.D5t,this.F6t),this.e$t.yn(Z2.G5t,this.Y6t),this.e$t.yn(Z2.nLt,this.G6t),this.e$t.yn(Z2.XZt,this.V6t),this.e$t.yn(Z2.V5t,this.W6t),this.e$t.yn(Z2.P5t,this.H6t),this.e$t.yn(Z2.k5t,this.X6t),this.e$t.yn(Z2.U5t,this.Z6t),this.e$t.yn(Z2.VU,(function(){n.t5t.fg||(n.t5t.q6t(!0),n.t5t.Co(new uD(n.t5t.U_))),n.K6t(!0)})),this.e$t.yn(Z2.C5t,(function(){n.t5t.fg&&(n.t5t.q6t(!1),n.t5t.Co(new sD(n.t5t.U_)))})),this.e$t.yn(Z2.q5t,(function(){var i=t.Bg();i>=0&&n.J6t(i)})),this.e$t.yn(Z2.Z5t,(function(){var i=t.Bg();i>=0&&n.J6t(i)})),this.e$t.yn(Z2.Q5t,(function(t){n.t9t.$6t(t.type)})),this.e$t.yn(Z2.Lv,(function(t){t.Rit&&n.i9t(t.Rit.ct)}));var i=this;this.e$t.yn(Z2.H5t,xt((function(t){var n,r;return zt(this,(function(e){switch(e.label){case 0:return n=t.e9t.adError,(r=n4(n)?i4(n):void 0)?i.s9t(r)?[4,i.n9t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.r9t(r)?[4,i.o9t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.h9t(r)&&i.a9t(r),e.label=5;case 5:return[2]}}))}))),this.e$t.yn(Z2.B5t,(function(t){if(t.Rit&&(n.t5t.u3t(),n.t9t.u9t(t.Rit),n.c9t=0,t.Rit.l9t)){var i,r=n.t5t.Sg,e=ak.BT;n.t5t.a2(e);var u=n.t5t.U_,s=n.t5t.Sg;s!==r&&n.z6t(new eD(u,s)),null==(i=n.e$t)||i.Ug(n.t5t.d9t()),n.z6t(new hk(u,e))}})),this.e$t.yn([Z2.O5t,Z2.x5t,Z2.j5t,Z2.HZt,Z2.R5t],(function(t){t.Rit&&n.t9t.f9t(t.Rit,t.type,n.t5t.U_)})),this.e$t.yn(Z2.j5t,this._9t),this.e$t.yn(Z2.A5t,this.g9t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return t.e$t?(n=t.e$t.w9t())&&t.v9t(n)?[3,3]:t.t5t.v5t()?[4,t.t5t.m5t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.t5t.m9t(),t.Qo.fg&&!t.Qo.G_&&t.Qo.Xg(),r.label=3;case 3:return[3,7];case 4:return t.t5t.v5t()?[4,t.t5t.m5t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.t5t.fg,t.t5t.m9t(),i||t.Qo.Xg(),r.label=7;case 7:return[2]}}))}))()},i.v9t=function(t){var n=t.p9t,i=null==n?void 0:n.b5t;return(null==n?void 0:n.M5t)!==i},i.g1=function(){this.t5t.jc&&(f(this.t5t.jc),this.t5t.jc=null)},i.h9t=function(t){return t.Av===J2.T5t},i.r9t=function(t){return t.Av===J2.S5t},i.s9t=function(t){return t.Sqt===K2.b6t},i.o9t=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return n.a9t(t),r=[K2.c6t,K2.A6t,K2.E6t,K2.x6t],n.t5t.Xit||fo(r,t.Sqt)||fo(r,null==(i=t.I5t)?void 0:i.Sqt)?[3,2]:(n.t5t.A9t.h5t=!1,null==(e=n.t5t.A9t.O3t)||e.C3t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.a9t=function(t){this.t5t.M4t(t)},i.y9t=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.t9t.s5t(),t.t5t.C3t(),"nonlinear"===t.t5t.Z2t&&(t.t9t.M9t(-1,!1),t.t5t.b9t(void 0)),"nonlinear"!==t.t5t.Z2t&&"none"!==t.t5t.Z2t?[3,2]:t.t5t.v5t()?[4,t.t5t.m5t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.t5t.T9t(),t.t5t.E2t?t.t5t.Q1t():t.S9t()&&t.Qo.Co(new cD(t.Qo.Q_())),[2]}}))}))()},i.S9t=function(){return this.t5t.N9t&&!this.t5t.I9t&&this.Qo.G_},i.setCountdownTimer=function(){var t=this;this.g1(),this.t5t.jc=h((function(){return t.K6t()}),250)},i.n9t=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return void 0===t.Rit?[2]:(n.t5t.A9t.h5t=!1,n.t5t.C3t(),n.t5t.v5t()?[4,n.t5t.m5t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.t5t.q6t(!0),i.label=3;case 3:return[2]}}))}))()},i.i9t=function(t){this.t5t.ct!==t&&t>=0&&(this.t5t.P1(t),this.z6t(new oD(this.t5t.ct)))},i.J6t=function(t){this.t5t.d9t()!==t&&(0===t?this.t5t.D9t(t,!0,!1):this.t5t.D9t(t,!1,!1))},i.E9t=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.t5t.k9t&&void 0!==t.Qo.W_()?(t.L9t=new So,[4,t.Qo.ga(t.Qo.Wa(),t.L9t.f_)]):[3,2];case 1:n.sent(),t.x9t&&t.Qo.F_(t.x9t),t.x9t=void 0,n.label=2;case 2:return[2]}}))}))()},i.K6t=function(t){if(this.e$t){var n=this.e$t.C9t();n>this.t5t.ct&&this.i9t(g.round(n))}var i=this.t5t.U_;(t||!this.t5t.fg&&i!==this.t5t.O9t)&&(this.t5t.Co(new nA(i,void 0)),this.t5t.O9t=i)},i.tr=function(){this.L9t&&(this.L9t.g_(),this.L9t=void 0),this.j9t=!1,this.c9t=0},i.gn=function(){this.tr(),this.Vo()},n}(Xo);wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var u4=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).G9t=i,e.V9t=r,e}return kt(n,t),At(n,[{key:"vKt",get:function(){return A1.M$t}}]),n}(A2);wt(),C(),mt(),Mt(),wt(),C(),wt(),C(),mt(),Mt();var s4=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).H9t=0,r.X9t=void 0,r}kt(n,t);var i=n.prototype;return i.w$t=function(){var t;return null==(t=this.X9t)?void 0:t.eXt},i.fa=function(){return function(t,n){return gA(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get apiFramework(){return n.Z9t},get creativeId(){return n.IXt},get title(){return n.kz},get wrapperAdIds(){return n.q9t},get wrapperAdSystems(){return n.K9t},get wrapperCreativeIds(){return n.J9t}})}(_2(this),this)},i.$9t=function(t){this.X9t=t;var n=o4(t);this.W2t(t.yZt,t.t8t,t.i8t,t.ct,n,-1)},At(n,[{key:"W9t",get:function(){return this.H9t},set:function(t){this.H9t=t}},{key:"vKt",get:function(){return A1.so}},{key:"Z9t",get:function(){var t;return null==(t=this.X9t)?void 0:t.WXt}},{key:"IXt",get:function(){var t;return null==(t=this.X9t)?void 0:t.IXt}},{key:"kz",get:function(){var t;return null==(t=this.X9t)?void 0:t.kz}},{key:"q9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.q9t)?n:[]}},{key:"K9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.K9t)?n:[]}},{key:"J9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.J9t)?n:[]}}]),n}(p2);function o4(t){return t.lXt.map((function(t){return new k2(t)}))}var a4=function(t){function n(n){var i;return(i=t.call(this,n,w2.jT)||this).X9t=void 0,i.u8t=void 0,i}kt(n,t);var i=n.prototype;return i.fa=function(){return function(t,n){return gA(t,{get adSystem(){return n.w$t()},get apiFramework(){return n.Z9t},get bitrate(){return n.e8t},get contentType(){return n.Nz},get creativeId(){return n.IXt},get mediaUrl(){return n.s8t},get title(){return n.kz},get traffickingParameters(){return n.n8t},get traffickingParametersString(){return n.r8t},get wrapperAdIds(){return n.q9t},get wrapperAdSystems(){return n.K9t},get wrapperCreativeIds(){return n.J9t},get universalAdIds(){return n.fXt}})}(_2(this),this)},i.$9t=function(t){this.X9t=t,this.W2t(t.yZt,t.t8t,t.i8t,t.ct,o4(t),t.o8t),this.q2t=t.l9t?w2.xqt:w2.Cqt},i.w$t=function(){return this.X9t?c4(this.X9t.eXt):void 0},At(n,[{key:"vKt",get:function(){return A1.M$t}},{key:"Z9t",get:function(){return this.X9t?c4(this.X9t.WXt):void 0}},{key:"e8t",get:function(){return this.X9t?this.X9t.h8t:0}},{key:"Nz",get:function(){return this.X9t?c4(this.X9t.Nz):void 0}},{key:"IXt",get:function(){return this.X9t?c4(this.X9t.IXt):void 0}},{key:"a8t",get:function(){return this.X9t?c4(this.X9t.a8t):void 0}},{key:"s8t",get:function(){var t,n=null==(t=this.X9t)?void 0:t.s8t;return zn(n)?n:this.u8t},set:function(t){this.u8t=t}},{key:"kz",get:function(){var t;return null==(t=this.X9t)?void 0:t.kz}},{key:"n8t",get:function(){return this.X9t?c4(this.X9t.n8t):void 0}},{key:"r8t",get:function(){return this.X9t?c4(this.X9t.r8t):void 0}},{key:"q9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.q9t)?n:[]}},{key:"K9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.K9t)?n:[]}},{key:"J9t",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.J9t)?n:[]}},{key:"fXt",get:function(){var t,n;return null!=(n=null==(t=this.X9t)?void 0:t.fXt.map((function(t){return{adIdRegistry:t.c8t,adIdValue:t.l8t}})))?n:[]}}]),n}(p2);function c4(t){return null===t?void 0:t}wt(),C(),mt(),wt(),C(),mt();var h4=function(){function t(t,n){this.t9t=t,this.d8t=n}var n=t.prototype;return n.Yit=function(t){this.t9t.Yit(t)},n.Ny=function(){this.t9t.Ny()},n.gn=function(){return K.resolve()},At(t,[{key:"A2t",get:function(){return this.t9t.A2t}},{key:"w2t",get:function(){return this.d8t}},{key:"E2t",get:function(){return this.t9t.E2t}},{key:"Iit",get:function(){var t;return null!=(t=this.t9t.Iit)?t:null}},{key:"Sit",get:function(){var t=this.t9t.f8t;return t?[t]:[]}},{key:"Dit",get:function(){return this.t9t.Dit}},{key:"Eit",get:function(){return this.t9t.Eit}}]),t}(),f4=function(){function t(t,n){this.P4t=t,this.D$t=[],this.w8t=!1,this.g8t=new h4(this,n)}return At(t,[{key:"_8t",get:function(){return this.g8t}},{key:"A2t",get:function(){return this.P4t}},{key:"E2t",get:function(){return this.w8t}},{key:"f8t",get:function(){return this.v$t}},{key:"Iit",get:function(){return this.I$t}},{key:"Dit",get:function(){var t=this;return wo(this.D$t,(function(n){if(n.pg)return[];var i=n.Oc;if(n===t.I$t&&void 0!==t.v$t){var r=i.indexOf(t.v$t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"Eit",get:function(){return this.D$t.filter((function(t){return!t.pg}))}}]),t}();wt(),C(),Mt();var v4=function(t){function n(n){return t.call(this,"v8t",n)}return kt(n,t),n.prototype.fa=function(){return new d4(this.Rit.Nit())},n}(pR),d4=function(t){function n(n){return t.call(this,"adimpression",n)}return kt(n,t),n}(_R);wt(),C(),Mt();var l4=function(t){function n(n){var i;return(i=t.call(this,"m8t")||this).Rit=n,i}return kt(n,t),n.prototype.fa=function(){return new g4(this.Rit.Nit())},n}(iA),g4=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var w4=function(t){function n(){return t.call(this,"p8t")}return kt(n,t),n.prototype.fa=function(){return new y4},n}(iA),y4=function(t){function n(){return t.call(this,"admetadata")}return kt(n,t),n}(Jo),A4=function(t){function n(n,i){var r;return(r=t.call(this,n,A1.M$t)||this).M8t=i,r.S8t=[],r.T8t=[],r}kt(n,t);var i=n.prototype;return i.A8t=function(t,n){for(var i=0;i<t;i++){var r=new a4(n);n.U2t(r),this.A2t.Co(new kR(r))}},i.m4t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new u4(r,i,n);this.D$t.push(e),n._3t(e),this.A2t.Co(new AR(e))},i.p5t=function(t,n){for(var i=0,r=this.D$t;i<r.length;i++){var e=r[i];A(e.cPt)&&e.G9t===t&&(e.cPt=n,this.A2t.Co(new I2(e)))}},i.r5t=function(t,n){void 0===n&&(n=!1),n&&ao(this.D$t,t),this.A2t.Co(new wR(t))},i.s5t=function(){if(this.Iit){this.r5t(this.Iit,!0);var t=Boolean(this.v$t&&this.v$t.Z2t===w2.xqt);this.y8t(void 0,t)}},i._4t=function(t,n){var i=n.p9t;if(i){var r=i.M5t-1,e=t.Oc[r];return e.$9t(n),this.A2t.Co(new I1(e)),e.Xl.$Jt=i.$Jt,e}},i.b8t=function(t){if(!fo(this.T8t,t)){if(t){if(this.v$t===t)return;this.v$t=t;for(var n=0,i=this.S8t;n<i.length;n++){var r=i[n];0,this.$6t(r,t,this.M8t.U_)}}else{if(!this.v$t)return;var e=new SR(this.v$t,this.v$t.Xl.cPt);this.T8t.push(this.v$t),this.v$t=void 0,this.P4t.Co(e)}lo(this.S8t)}},i.y8t=function(t,n){if(t){var i;if((null==(i=this.Iit)?void 0:i.cPt)===t.cPt)return;this.I$t=t,n&&this.A2t.Co(new NR(this.I$t))}else{if(!this.I$t)return;var r=new bR(this.I$t);this.I$t=void 0,lo(this.T8t),n&&this.P4t.Co(r)}},i.N8t=function(t){return this.D$t.filter((function(n){return Pi(n.cPt,t,.01)}))[0]},i.Md=function(t){if(t.p9t){var n=t.p9t,i=this.N8t(n.cPt);i&&(lo(this.S8t),this.y8t(i,t.l9t))}},i.Pd=function(){this.Iit&&this.A2t.Co(new bR(this.Iit)),lo(this.S8t),this.s5t()},i.z9t=function(t){if(!this.I$t&&t.p9t){var i=this.N8t(t.p9t.cPt);this.y8t(i,t.l9t)}if(this.I$t){var r=n.I8t(this.I$t,t);if(!r)return;this._4t(this.I$t,t);var e=t.s8t;zn(e)&&!zn(r.s8t)&&(r.s8t=e,this.A2t.Co(new I1(r))),this.b8t(r),this.A2t.Co(new IR(this.v$t,r.Xl.cPt))}else 0},i.M9t=function(t,n){if(this.b8t(void 0),!n&&this.Iit){var i=this.Iit;this.y8t(void 0,!1),this.r5t(i)}},i.u9t=function(t){var n=t.p9t;if(n){var i=this.N8t(n.cPt);if(i){this.p4t(n.cPt,n.b5t,n.$Jt);var r=this._4t(i,t);r&&this.A2t.Co(new S1(r))}}},i.p4t=function(t,n,i){var r=this.N8t(t);if(r){var e=r.Oc.length;if(n>e){var u=n-e;this.A8t(u,r),r.$Jt=i,this.A2t.Co(new I2(r))}}},i.W6t=function(t,i,r){if(this.I$t){var e=n.I8t(this.I$t,t);if(e){var u=i/r;this.A2t.Co(new N2(e,u))}}},i.f9t=function(t,i,r){if(this.I$t){var e=this.v$t;if(!e){var u=n.I8t(this.I$t,t);if(!u||fo(this.T8t,u))return void this.S8t.push(i);e=u,this._4t(this.I$t,t),this.b8t(e)}this.$6t(i,e,r)}},i.$6t=function(t,n,i){t===Z2.Q5t?this.A2t.Co(new w4):t===Z2.x5t&&n?this.A2t.Co(new v4(n)):t===Z2.O5t&&n?this.A2t.Co(new l4(n)):t===Z2.j5t&&n&&i?this.A2t.Co(new C2(n,i)):t===Z2.HZt&&n&&i?this.A2t.Co(new x2(n,i)):t===Z2.R5t&&n&&i&&this.A2t.Co(new z2(n,i))},i.Ny=function(){this.M8t.Ny()},i.Yit=function(t){this.M8t.Yit(t)},i.tr=function(){var t=Boolean(this.v$t&&this.v$t.Z2t===w2.xqt);this.b8t(void 0),this.y8t(void 0,t);for(var n=0,i=this.D$t;n<i.length;n++){var r=i[n];this.r5t(r)}lo(this.D$t),lo(this.S8t),lo(this.T8t)},i.gn=function(){this.tr()},n.I8t=function(t,n){if(n.p9t)return t.Oc[n.p9t.M5t-1]},At(n,[{key:"E2t",get:function(){return this.M8t.E2t}}]),n}(f4);function m4(t){var n=e.google.ima.settings;t.ads&&t.ads.vpaidMode&&e.google.ima.settings.setVpaidMode(function(t){var n=e.google.ima.ImaSdkSettings.VpaidMode;switch(t){case EN.ENABLED:return n.ENABLED;case EN.INSECURE:return n.INSECURE;case EN.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("8.3.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!p4(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(Yn(u))return u;return}(t);i&&n.setLocale(i)}function p4(t){return jn.Ga&&t.allowNativeFullscreen}wt(),C();var _4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).bo=!1,a.x2t=!1,a.P8t=void 0,a.z8t=void 0,a.o7t=-1,a.q2t="none",a.B8t=!1,a.x8t=!1,a.F8t=new So,a.C8t=!1,a.j8t=!1,a.u7t=function(t){a.A2t.Co(t)},a.h7t=function(t){a.P8t=new UA(BA.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.z8t=GA(a.P8t)},a.O9t=NaN,a.U8t=function(){a.bo||a.Wg()},a.oZ=r,a.cU=!0,a.jx=NaN,a.h2=ak.BT,a.O8t=!1,a.R8t=!1,a.J3t=new A4(a.A2t,Vt(a)),a.$8t=new e4(Vt(a),a.Qo,a.J3t),a.$8t.yn(f_.ha,a.h7t),a.Qo.yn(dd.jh,a.U8t),a.j3t=new q2(Vt(a),a.Qo,a.k2t,e,a.J3t),a.H8t=o,a.W8t=s,a.X8t=u,a.be(),a.W8t.yn("a7t",a.u7t),a}kt(n,t);var i=n.prototype;return i.E8t=function(t,n,i){n===aR.Cit&&void 0!==i&&(this.x2t=i),this.j3t.Z3t(t,n)},i.Yit=function(t){for(var n=this.L8t(),i=0;i<n.length;i++){var r=n[i];N$(r.sources,r.timeOffset)||t.W4(r,aR.kit,!1)}},i.L8t=function(){for(var t=[],n=this.m2t,i=n.Sit,r=n.Dit,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.Xl.V9t;if(!fo(e,a.Xw)){var c,h,f=a.L3t(o.q9t);if(f>=0)(c=t).push.apply(c,Lt(a.H4t.slice(f)));else(h=t).push.apply(h,Lt(a.H4t));e.push(a.Xw)}}for(var v=0,d=this.j3t.Dit;v<d.length;v++){var l,g=d[v];if(!g.h3t)(l=t).push.apply(l,Lt(g.H4t))}return _o(t)},i.Q_=function(){if(!this.i$t)return 0;var t=this.i$t.C9t();return A(this.ct)||t<0?0:this.ct-t},i.F_=function(t,n){},i.Td=function(){return this.jx||NaN},i.P1=function(t){this.jx=t},i.hg=function(){return this.Qo.og},i.ag=function(t){this.D9t(this.zg,t,!0)},i._g=function(){return this.cU},i.q6t=function(t){this.cU=t},i.Og=function(){var t,n,i;return null!=(i=null==(n=this.i$t)||null==(t=n.w9t())?void 0:t.i8t)?i:0},i.Pg=function(){var t,n,i;return null!=(i=null==(n=this.i$t)||null==(t=n.w9t())?void 0:t.t8t)?i:0},i.C_=function(){return[]},i.L2t=function(t){this.P3t=t,this.j3t.L2t(t)},i.d5t=function(){!this.x8t&&this.i$t&&(this.i$t.Cn(),this.x8t=!0)},i.b9t=function(t){this.Z2t=t?t.l9t?"linear":"nonlinear":"none"},i.Dg=function(){return BD.oU().ks()},i.Bg=function(){return this.Qo.zg},i.Ug=function(t){this.D9t(t,this.og,!0)},i.d9t=function(){return this.Qo.og?0:this.Qo.zg},i.D9t=function(t,n,i){var r=this.Qo.zg!==t||this.Qo.og!==n;r&&(this.Qo.zg=t,this.Qo.og=n),this.i$t&&i&&this.i$t.Ug(this.d9t()),r&&this.Co(new vD(this.U_,this.zg))},i.V_=function(){return!1},i.W_=function(){if(this.P8t&&this.x2t)return this.P8t},i.X_=function(){if(this.z8t&&this.x2t)return this.z8t},i.Ng=function(){return this.h2},i.a2=function(t){this.h2=t,this.Co(new ck(this.U_,t))},i.Wg=function(){this.Qo.fn(dd.jh,this.U8t),this.bo||(this.bo=!0,this.j3t.Wg(),this.P9t())},i.Xg=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:if(t.Q8t)return[2];t.F8t.g_(),t.F8t=new So,n=t.fg,t.q6t(!1),t.Co(new sD(t.U_)),t.Y8t()||(t.k9t||t.Qo.be(),t.Co(new vk(t.U_))),t.B9t||(t.U9t=!1),i=Boolean(t.i$t),t.Q8t=t.j3t.X3t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.Q8t];case 2:return r.sent(),[3,4];case 3:return t.Q8t=void 0,[7];case 4:try{jo(t.F8t.f_)}catch(t){return[2]}if(t.bo||t.U8t(),t.P8t&&t.x2t)return[2];if(t.i$t){if(n)if(i)try{jo(t.F8t.f_),t.i$t.G8t(),t.Co(new gk(t.U_))}catch(t){return[2]}else t.d5t()}else t.x2t||(t.Q1t(),t.k2t.Xg());return[2]}}))}))()},i.Hg=function(){var t;this.fg||(this.q6t(!0),this.Co(new uD(this.U_))),this.F8t.g_(),this.B9t?null==(t=this.i$t)||t.Hg():this.U9t=!0},i.Ny=function(){var t;null==(t=this.i$t)||t.Ny()},i.T9t=function(){this.i$t&&(this.W8t.V8t(),this.i$t.Zg(),this.i$t.h_(),this.i$t=void 0,this.Z2t="none",this.x8t=!1)},i.Zg=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){return t.O9t=0,t.j3t.tr(),t.F8t.g_(),t.q6t(!0),t.O8t=!1,t.R8t=!1,t.B9t=!1,t.J3t.tr(),t.T9t(),t.m9t(),null==(n=t.H8t)||n.tr(),t.U9t=!1,t.W8t.h_(),[2]}))}))()},i.ge=function(){this.X8t.ge(),this.k9t&&this.Qo.ge()},i.be=function(){this.X8t.be()},i.Z8t=function(){return Boolean(this.i$t)&&fo(this.i$t.q8t(),-1)&&!this.O8t},i.u3t=function(){this.j3t.u3t()},i.v5t=function(){return this.j3t.v5t},i.C3t=function(){this.j3t.C3t()},i.m5t=function(){return this.j3t.m5t()},i.b2t=function(t){if(this.Z8t()){if(t.type===dd.Sh&&this.Qo.G_)return!0;if(t.type===dd.Ov)return this.O8t=!0,this.W8t.V8t(),!0}return!1},i.Y8t=function(){return Boolean(this.i$t&&this.i$t.w9t())},i.l5t=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.T9t(),i=n.K8t(),n.X8t.oX(),[4,n.W8t.l5t(t,n.H8t,i)];case 1:return n.i$t=e.sent(),n.J8t(n.i$t),[3,3];case 2:return r=e.sent(),n.$8t.o9t(r),[3,3];case 3:return[2]}}))}))()},i.J8t=function(t){if(t.Ug(this.d9t()),this.j3t.K3t===W2.V3t){var n=t.q8t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.J3t.m4t(r,this.j3t.O3t)}else this.J3t.m4t(this.j3t.O3t.Kl,this.j3t.O3t)}this.$8t.tr(),this.$8t.B6t(t)},i.Vg=function(){if(this.e$t&&this.k9t&&this.Y8t())return this.Qo.Vg()},i.Gg=function(){return this.k9t&&this.E2t?this.Qo.ya:t.prototype.Gg.call(this)},i.K8t=function(){var t,n,i=!!(this.j3t.K3t===W2.V3t)&&this.k8t;return void 0!==this.oZ.ads.googleIma.uiElements?t=this.oZ.ads.googleIma.uiElements:this.oZ.ads.showCountdown||(t=[]),void 0!==this.oZ.ads.allowedMimeTypes&&(n=this.oZ.ads.allowedMimeTypes),{t7t:n,i7t:t,e7t:i,e8t:this.oZ.ads.googleIma.bitrate,s7t:void 0,n7t:this.P3t}},i.P9t=function(){if(this.e$t){var t=this.K8t();this.e$t.r7t(t)}},i.M4t=function(t){this.P8t=new UA(BA.ADVERTISEMENT_ERROR,t.pL),this.z8t=new Fv(Qv.AD_ERROR,"There was a problem playing ads.",this.P8t),this.A2t.Co(v2.T2t(t))},i.m9t=function(){this.E2t&&(this.Qo.ge(),this.Q1t(),this.be())},i.Y9t=function(){var t;this.Qo.Q_()!==1/0&&0!==this.Qo.Dg().length&&((null==(t=this.j3t.O3t)?void 0:t.q4t)&&-1!==this.o7t&&(this.Qo.F_(this.Qo.Q_()+this.o7t),this.o7t=-1))},i.F9t=function(t){var n,i;this.o7t=null!=(i=null==(n=t.p9t)?void 0:n.$Jt)?i:-1},i.Q1t=function(){t.prototype.Q1t.call(this),this.Qo.ge(),this.k9t&&!this.Qo.G_&&this.Qo.Xg()},i.G4t=function(){this.k9t||t.prototype.G4t.call(this)},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.$8t.fn(f_.ha,n.h7t),[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.T9t(),n.W8t.fn("a7t",n.u7t),n.W8t.h_(),n.X8t.h_(),n.j3t.gn(),n.$8t.gn(),[2]}}))}))()},At(n,[{key:"m2t",get:function(){return this.J3t._8t}},{key:"D8t",get:function(){return this.J3t}},{key:"A9t",get:function(){return this.j3t}},{key:"k9t",get:function(){return p4(this.oZ)}},{key:"w2t",get:function(){return n.w2t}},{key:"k8t",get:function(){return this.oZ.ads.preload===ON.MIDROLL_AND_POSTROLL}},{key:"Z2t",get:function(){return this.q2t},set:function(t){this.q2t=t}},{key:"i$t",get:function(){return this.e$t},set:function(t){this.e$t=t,this.x8t=!1}},{key:"B9t",get:function(){return this.C8t},set:function(t){this.C8t=t}},{key:"Xit",get:function(){return this.x2t}},{key:"N9t",get:function(){return this.O8t}},{key:"U9t",get:function(){return this.j8t},set:function(t){this.j8t=t}},{key:"I9t",get:function(){return this.R8t},set:function(t){this.R8t=t}},{key:"Q9t",get:function(){return this.B8t},set:function(t){this.B8t=t}}],[{key:"w2t",get:function(){return A1.M$t}}]),n}(Y2);wt(),C();var k4=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.c7t=t},n.createAdPlayer=function(t,n,i){return M4()&&this.c7t?this.c7t(t,n,i):void 0},t}();function M4(){return!!Boolean(iu.google&&iu.google.ima)&&!(1===l.keys(iu.google.ima).length&&iu.google.ima.dai)}k4.lL=new k4;var b4=function(){function t(){}var n=t.prototype;return n.YU=function(t){return t&&t.integration===oI.GOOGLE_IMA},n.f2t=function(t,n,i){return k4.lL.createAdPlayer(t,n,i)},n.W4=function(t,n,i,r){i.E8t(t,n,r)},n.hY=function(t){var n=P0(t.sources);if(n){var i={integration:oI.GOOGLE_IMA,sources:n,omidAccessModeRules:r4(t.omidAccessModeRules)},r=Q0(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},At(t,[{key:"d2t",get:function(){return _4.w2t}}]),t}();wI.lL.GU(new b4),wt(),C(),mt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Mt();var T4=function(t){function n(){return t.call(this,"N$t")}return kt(n,t),n.prototype.fa=function(){return new N4},n}(iA),N4=function(t){function n(){return t.call(this,"adloaded")}return kt(n,t),n}(Jo),D4=-1,I4=function(){function t(t,n){this.D$t=[],this.c$t=!1,this.n3t=t,this.yet=0,this.h$t=n,this.w7t=NaN,this.g7t=!1,this.d7t=new k1(this,this.h$t)}var n=t.prototype;return n.v7t=function(){return this.yet<this.D$t.length},n.Mc=function(){var t;return this.yet<this.D$t.length&&(t=this.D$t[this.yet],this.yet++),t},n.m7t=function(t){t.Fqt=this,this.D$t.push(t)},n.p7t=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.D$t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),ao(n.D$t,u),o=u.Wit.sources,a="string"==typeof o?o:o.src,t.Co(v2.S2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.g7t=!0,[2,i]}}))}))()},n.l$t=function(){this.c$t=!0},n.u$t=function(){return this.c$t},n.A7t=function(){return this.D$t.some((function(t){return y1(t).some((function(t){return t.uXt}))}))},At(t,[{key:"s$t",get:function(){return this.D$t}},{key:"l7t",get:function(){return this.d7t}},{key:"aut",get:function(){return this.yet}},{key:"f7t",get:function(){return this.n3t}},{key:"_7t",get:function(){return this.g7t}},{key:"Kl",get:function(){if(A(this.w7t)){var t=N0.dKt(this.n3t,this.h$t.t.Td());void 0===t||A(t)||(this.w7t=t)}return this.w7t}}]),t}(),E4=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).P7t=!1,u.E7t=function(t){return Qo(u.L7t(t))};var s=Vt(u);return u.L7t=xt((function(t){var n,i,r,e,u,o,a;return zt(this,(function(c){switch(c.label){case 0:return s.R7t(),n=t.currentTime,i=t.currentTime!==D4?s.O7t(s.M1,t.currentTime):s.C7t(t.currentTime,0,0)[0],u=s.Qo.Td()-10,(e=s.x7t(D4)&&g.ceil(n)===g.ceil(u)?s.C7t(D4,10,0).filter((function(t){return!t._7t})):s.C7t(n,10,0).filter((function(t){return!t._7t}))).length?[4,K.all(e.map((function(t){return t.p7t(s.N7t)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s.Co(new T4),(!a||!s.S7t.V7t||e[0].Kl<s.S7t.V7t.Kl)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.S7t.V7t&&(r=i),s.z7t([i])),r?(s.S7t.I7t(),s.S7t.V7t=r,[4,s.S7t.T7t()]):[3,4];case 3:c.sent(),c.label=4;case 4:return A(s.Qo.Td())||(s.M1=t.currentTime),[2]}}))})),u.Qo=n,u.x4t=i,u.Y7t=new _1(u.x4t,u.Qo),u.P3t=void 0,u.P7t=!1,n.Td()!==1/0?u.xS=0:u.xS=n.Q_(),u.M1=u.xS,u.M7t=[],u.N7t=r,u.S7t=e,u.D7t=!1,u}kt(n,t);var i=n.prototype;return i.b7t=function(){this.S7t.T7t()},i.Cn=function(){this.Po(),this.N7t.yn("Qit",this.S7t.I7t)},i.jn=function(){this.$o(),this.N7t.fn("Qit",this.S7t.I7t),this.M1=this.xS,this.S7t.tr();for(var t=0,n=this.M7t;t<n.length;t++){n[t].l$t()}lo(this.M7t)},i.Po=function(){this.D7t||(this.Qo.yn(dd.fm,this.E7t),this.D7t=!0)},i.$o=function(){this.D7t&&(this.Qo.fn(dd.fm,this.E7t),this.D7t=!1)},i.k7t=function(){return this.L7t(new nA(D4,void 0))},i.x7t=function(t){return this.C7t(t,0,0).length>0},i.O7t=function(t,n){for(var i,r=0,e=0,u=this.M7t;e<u.length;e++){var s=u[e];if(!s.u$t()){var o=s.Kl;o>=t&&o<=n&&o>=r&&!A(o)&&(r=(i=s).Kl)}}return i},i.j7t=function(t){return this.L7t(new nA(t,void 0))},i.R7t=function(){if(!this.P7t&&void 0!==this.P3t){this.P7t=!this.M7t.some((function(t){return A(t.Kl)}));for(var t=0,n=this.M7t;t<n.length;t++){var i=n[t];i.Kl!==D4&&i.Kl<=this.P3t&&!i.u$t()&&i.l$t()}}},i.z7t=function(t){for(var n=0;n<t.length;n++){t[n].l$t()}this.x4t.B7t(t),0===this.y7t&&this.$o()},i.C7t=function(t,n,i){var r=this;return this.M7t.filter((function(e){if(e.u$t())return!1;var u=e.Kl;return r.U7t(u,t)||r.Q7t(u,t,n,i)}))},i.U7t=function(t,n){switch(n){case 0:return 0===t;case D4:return t===D4;default:return!1}},i.Q7t=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.F7t=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.x3t(r.cPt),u=this.wwt(r);-1===u&&(this.P7t=void 0===this.P3t,this.M7t.push(new I4(e,this.Y7t)),u=this.M7t.length-1),this.M7t[u].m7t(r)}this.Po()}},i.wwt=function(t){var i=n.x3t(t.cPt);return so(this.M7t,(function(t){return i===n.x3t(t.f7t)}))},i.G7t=function(t){ao(this.M7t,t)},i.L2t=function(t){this.P3t=t,this.P7t=void 0===t},n.x3t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},At(n,[{key:"y7t",get:function(){for(var t=0,n=0,i=this.M7t;n<i.length;n++){i[n].u$t()||(t+=1)}return t}},{key:"Dit",get:function(){return this.M7t}}]),n}(Ho);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt();var S4,L4=function(t){function n(n,i){var r;return(r=t.call(this)||this).$7t=[],r.K7t=[],r.vz=void 0,r.P4t=new Ho,r.iti=function(t){t.stopPropagation(),r.eti()},r.eti=function(){for(var t=0,n=r.$7t;t<n.length;t++)for(var i=0,e=n[t].hZt;i<e.length;i++){var u=e[i];k$(u.uri)}},r.j0t=u.createElement("div"),r.j0t.style.display="none",r.sti=n,r.nti=i,r}kt(n,t);var i=n.prototype;return i.H7t=function(){this.X7t(),this.Z7t(),this.vz=void 0},i.q7t=function(t){this.K7t=this.K7t.concat(t)},i.J7t=function(t){this.$7t=this.$7t.concat(t)},i.Z7t=function(){this.K7t=[]},i.X7t=function(){this.$7t=[]},i.tti=function(t){for(var n=0,i=this.K7t;n<i.length;n++){var r=i[n];r.eF===t&&k$(r.eventURL)}},i.ge=function(){this.W7t.style.display=""},i.be=function(){this.W7t.style.display="none"},i.gn=function(){this.Vo(),this.P4t.Vo(),au(this.j0t)},At(n,[{key:"W7t",get:function(){return this.j0t}},{key:"A2t",get:function(){return this.P4t}}]),n}(Ho);function C4(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(Yn(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}wt(),C(),wt(),C(),Zt();var j4=(Xt(S4={},hN.yp,1),Xt(S4,hN.Mp,2),Xt(S4,hN.bp,2),S4);function x4(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return Zs(t.filter((function(t){var n=t.type.toLowerCase();return!!Bn(i)&&-1!==i.indexOf(n)&&y0(n)})),(function(t,n){return j4[t.type]-j4[n.type]})).map(O4)}function O4(t){return yN({src:t.contentURL,type:t.type,isAdvertisement:!0})}function z4(t,n){return QP(R4(t),R4(n))}function R4(t){return{Ti:t.height,ji:t.width}}function B4(t,n,i,r){var e=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!y0(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(g.abs(a.width/n-1)+g.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return O4(e||s.sort(z4)[0])}}(t,n.width,n.height,i),u=x4(t,i);return e&&u.push(e),qI({sources:u},r)}var P4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).jti=r,a.GO=e,a.x4t=u,a.Wu=s,a.hti=o,a.oti=!1,a.Cti=0,a.M1=-1,a.$O=new So,a.cti=!0,a.Iti=function(){a._ti()},a.Eti=function(){a.$O=void 0,a.oti||(a.Lti(),a.oti=!0),a.cti&&(a.cti=!1,a.x4t.b7t()),a.W7t.style.display="block",a.hti.fn(uk.Sm,a.Eti),a.oti=!0},a.Dti=function(){var t=a.U_,n=a.ct,i=t/n;(0===a.Cti&&i>=.25?(a.tti(Q$.VZt),a.Cti=1):1===a.Cti&&i>=.5?(a.tti(Q$.HZt),a.Cti=2):2===a.Cti&&i>=.75&&(a.tti(Q$.WZt),a.Cti=3),a.pti(t,n),a.zti(),a.M1=t,a.SZt)&&(-1!==a.SZt.CZt&&a.SZt.CZt<a.SZt.ct&&(null!=a.U0t||(a.U0t=a.gti()),a.U_<a.SZt.CZt?a.U0t.s0t(a.SZt.CZt-a.U_):a.U0t.r0t()))},a.Nti=function(){var t,n;a.$O=void 0,a.hti.fn(f_.ha,a.Nti),a.cti=!0,null==(t=a.vz)||t.Mqt(f0.vqt),a.oti=!1,a.hti.be();var i=(null==(n=a.hti.bt)?void 0:n.src)||"";a.sti(i)},a.bti=function(){a.Ds(new nA(a.U_,void 0))},a.Tti=function(){a.Ds(new oD(a.ct))},a.Sti=function(){a.Ds(new vD(a.U_,a.zg))},a.mti=function(){a.x4t.Hg()},a.wti=function(){a.uti&&(a.tti(Q$.UZt),a.A2t.Co(new N2(a.uti,a.U_/a.ct)),a._ti(!1))},a.W7t.className="theoplayer-ad-linear",a.W7t.style.zIndex="10",wu(a.W7t),a.hti.be(),a.Oti=!1,a}kt(n,t);var i=n.prototype;return i.Xg=function(){this.hti.fg&&(this.hti.Xg(),this.Co(new sD(this.U_)),this.oti&&this.tti(Q$.zZt),this.oti=!0)},i.Hg=function(){this.hti.fg||(this.hti.Hg(),this.Co(new uD(this.U_)),this.tti(Q$.Sh))},i.Zg=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return null==(n=t.$O)||n.g_(),t.$O=void 0,t.be(),t.oti=!1,t.cti=!0,t.lti(),t.dti(),[4,t.fti()];case 1:return i.sent(),[2]}}))}))()},i._ti=function(t){void 0===t&&(t=!0),this.oti=!1,t&&this.tti(Q$.XZt),this.be(),this.nti()},i.gti=function(){var t,n=null==(t=this.x4t.ba)?void 0:t.mi,i=new Q1(this.Wu,n);return this.W7t.appendChild(i.we),i.yn("Ny",this.wti),i},i.vti=function(){this.SZt&&this.SZt.AZt.sZt&&(this.P0t=new z1(this.W7t),this.P0t.V$t=this.SZt.AZt.sZt,this.P0t.yn("clickstart",this.mti),this.P0t.yn("click",this.eti))},i.pti=function(t,n){for(var i=0,r=this.K7t;i<r.length;i++){var e=r[i];if(e.eF===Q$.Zv){var u=u0(e.Ku,n);void 0!==u&&this.M1<u&&u<=t&&k$(e.eventURL)}}},i.Ati=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.SZt&&t.yti?(n=B4(t.SZt.kZt,t.yti,t.GO.ads.allowedMimeTypes,t.GO)).sources.length?(t.$O=new So,t.cti=!0,[4,t.hti.ga(n,t.$O.f_)]):[3,2]:[2];case 1:return i.sent(),t.hti.ge(),t.SZt.LXt(),[3,4];case 2:return[4,t.hti.tr()];case 3:return i.sent(),t.sti(""),t.SZt.LXt(),[2];case 4:return t.vti(),[2]}}))}))()},i.Mti=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(e){switch(e.label){case 0:return r.uti=t,r.SZt=t.uXt,r.hti.yn(dd.fm,r.bti),r.hti.yn(dd.Lv,r.Tti),r.hti.yn(dd._m,r.Sti),r.hti.yn(ok,r.Ds),r.SZt.wXt&&0!==r.SZt.wXt.length&&r.q7t(r.SZt.wXt),r.SZt.AZt&&r.J7t(r.SZt.AZt),r.vz=n,r.yti=i,0===r.SZt.kZt.length?[3,2]:(r.hti.yn(f_.ha,r.Nti),[4,r.Ati()]);case 1:e.sent(),r.hti.yn(dd.Ov,r.Iti),r.hti.yn(dd.fm,r.Dti),r.hti.yn(uk.Sm,r.Eti),r.hti.yn(dd.Jv,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.$Kt=function(){this.rti&&this.kti&&this.wti()},i.Lti=function(){this.tti(Q$.Ebt),this.uti&&this.A2t.Co(new IR(this.uti,this.U_))},i.fti=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.hti.fn(f_.ha,t.Nti),t.hti.fn(dd.Ov,t.Iti),t.hti.fn(dd.fm,t.Dti),t.hti.fn(uk.Sm,t.Ds),t.hti.fn(uk.Sm,t.Eti),t.hti.fn(dd.Jv,t.Ds),t.hti.fn(dd.fm,t.bti),t.hti.fn(dd.Lv,t.Tti),t.hti.fn(dd._m,t.Sti),t.hti.fn(ok,t.Ds),t.uti&&(t.uti.l$t(),t.A2t.Co(new SR(t.uti,t.U_))),t.xti(),t.H7t(),t.lti(),t.dti(),t.uti=void 0,t.SZt=void 0,t.yti=void 0,[4,t.hti.tr()];case 1:return n.sent(),t.hti.be(),t.W7t.style.cursor="",t.Cti=0,t.M1=-1,t.Oti&&(t.jti.fti(),t.Oti=!1),[2]}}))}))()},i.xti=function(){this.P0t&&(this.P0t.h_(),this.P0t=void 0)},i.dti=function(){this.Rti&&(au(this.Rti),this.Rti=void 0)},i.lti=function(){this.U0t&&(this.U0t.gn(),this.U0t=void 0)},i.Pti=function(){this.Oti=!0},i.zti=function(){var t;this.Rti||(this.Rti=u.createElement("div"),this.Rti.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.W7t.appendChild(this.Rti));var n=null==(t=this.uti)?void 0:t.Xl;if(n){var i=n.Oc.filter(D1),r=C4(this.GO,"The content will play in")+" "+g.round(n.t$t)+" "+C4(this.GO,"seconds");if(i.length>1){var e=i.filter((function(t){return t.u$t()})).length;r+=". "+C4(this.GO,"Ad")+" "+(e+1)+"/"+i.length}KO(this.Rti,r)}},At(n,[{key:"rti",get:function(){return this.oti}},{key:"U_",get:function(){return this.hti.U_}},{key:"ct",get:function(){var t=this.hti.ct;return A(t)&&this.SZt&&(t=this.SZt.ct||0),t}},{key:"G_",get:function(){return this.hti.G_}},{key:"og",get:function(){return this.hti.og},set:function(t){this.hti.og=t,t?this.tti(Q$.RZt):this.tti(Q$.PZt)}},{key:"fg",get:function(){return this.hti.fg}},{key:"Sg",get:function(){return this.hti.Sg}},{key:"zg",get:function(){return this.hti.zg},set:function(t){this.hti.zg=t}},{key:"Cg",get:function(){return this.hti.Cg}},{key:"Rg",get:function(){return this.hti.Rg}},{key:"ati",get:function(){return this.uti}},{key:"kti",get:function(){return this.SZt&&-1!==this.SZt.CZt&&this.hti.U_>=this.SZt.CZt}}]),n}(L4);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt();var U4=function(t){function n(){var i;return(i=t.call(this)||this).h0t=function(t){i.Co(new Jo("Ny")),i.Bti(t)},i.Bti=function(t){t.stopPropagation()},i.Us=n.cr(),i.o0t(),i}kt(n,t);var i=n.prototype;return i.o0t=function(){this.we.addEventListener("mouseup",this.h0t),this.we.addEventListener("touchend",this.h0t),this.we.addEventListener("mousedown",this.Bti)},i.n0t=function(){this.we.removeEventListener("mouseup",this.h0t),this.we.removeEventListener("touchend",this.h0t),this.we.removeEventListener("mousedown",this.Bti)},i.gn=function(){this.n0t(),au(this.Us)},n.cr=function(){var t=u.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},At(n,[{key:"we",get:function(){return this.Us}}]),n}(Xo),Q4=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Gti=function(){e.Xti(),e.tti(Q$.$Zt),e.nti()},e.Yti=function(t){var n,i;e.Xti(),null==(n=e.vz)||n.Mqt(f0.pqt);var r,u,s,o=null==(i=e.m$t)?void 0:i._Xt[0],a=null!=(u=null!=(r=null==o?void 0:o.AXt)?r:null==o?void 0:o.mXt)?u:null==o?void 0:o.MXt;e.sti(null!=(s=null==a?void 0:a.lqt)?s:"")},e.Hti=function(){e.be(),cu(e.W7t),e.nti(),e.Qti=void 0,e.m$t=void 0},e.qti=function(){e.hu||(e.Wti=void 0,e.hu=new U4,e.W7t.children[0].appendChild(e.hu.we),e.hu.yn("Ny",e.Kti))},e.Kti=function(){e.tti(Q$.UZt),e.$Kt()},e.W7t.className="theoplayer-ad-nonlinear",e.W7t.style.position="absolute",e.W7t.style.width="100%",e.W7t.style.bottom="3em",e.W7t.style.zIndex="10",e.W7t.style.textAlign="center",e.x4t=r,e}kt(n,t);var i=n.prototype;return i.H7t=function(){t.prototype.H7t.call(this),this.W7t&&cu(this.W7t)},i.Mti=function(t,n,i){var r=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return r.m$t&&r.fti(),r.Qti=t,r.m$t=t.cXt,0!==r.m$t.wXt.length&&r.q7t(r.m$t.wXt),r.vz=n,0===r.m$t._Xt.length?[3,2]:(r.J7t(r.m$t._Xt[0].TXt),r.W7t.addEventListener("error",r.Yti),r.W7t.addEventListener("load",r.Gti),[4,r.Ati()]);case 1:i.sent(),r.Vti(),i.label=2;case 2:return[2]}}))}))()},i.$Kt=function(){var t;if(void 0===this.Wti){var n=null==(t=this.m$t)?void 0:t._Xt[0];n&&n.Xl&&-1!==n.Xl.CZt&&(this.tti(Q$.UZt),this.A2t.Co(new N2(this.Qti,0)),this.Hti())}},i.Lti=function(){void 0!==this.Qti&&this.A2t.Co(new IR(this.Qti,this.x4t.U_))},i.Zg=function(){this.fti(),this.Qti=void 0,this.m$t=void 0},i.fti=function(){this.Xti(),void 0!==this.Qti&&(this.Qti.l$t(),this.A2t.Co(new SR(this.Qti,this.x4t.U_))),this.H7t(),this.Zti(),void 0!==this.Wti&&(c(this.Wti),this.Wti=void 0)},i.Xti=function(){this.W7t.removeEventListener("load",this.Gti),this.W7t.removeEventListener("error",this.Yti)},i.Ati=function(){var t=this;return xt((function(){var n,i,r,e,s,o,a,c,h;return zt(this,(function(f){return(n=u.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.m$t._Xt[0],r=u.createElement("a"),i.TXt.sZt&&(r.href=i.TXt.sZt,r.target="Du",r.setAttribute("rel","noopener")),i.AXt?(e=i.AXt,(s=u.createElement("iframe")).src=e.lqt,r.appendChild(s)):i.mXt?(o=i.mXt,(a=u.createElement("img")).src=o.lqt,r.appendChild(a)):i.MXt&&(c=i.MXt,(h=u.createElement("iframe")).src=c.lqt,r.appendChild(h)),i.LXt(),r.addEventListener("mousedown",t.iti),r.addEventListener("touchend",t.iti),t.W7t.firstChild&&(cu(t.W7t),t.fti()),n.appendChild(r),t.W7t.appendChild(n),t.ge(),[2]}))}))()},i.Vti=function(){var t;if(this.m$t){var n=null==(t=this.m$t._Xt[0].Xl)?void 0:t.CZt;void 0!==n&&-1!==n&&(this.Wti=iu.setTimeout(this.qti,1e3*n))}},i.Zti=function(){this.hu&&(this.hu.fn("Ny",this.Kti),this.hu.gn()),this.hu=void 0},At(n,[{key:"Uti",get:function(){return this.Qti}},{key:"Fti",get:function(){return this.hu}},{key:"Jti",get:function(){return this.x4t.$ti()}}]),n}(L4);wt(),C(),Ot(),Pt();var Y4=function(){function t(){}return t.tii=function(t,n,i){return xt((function(){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new b0).Rqt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=v2.S2t(s,e.sources.src),i.Co(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Mt();var G4,F4=function(t){function n(){return t.call(this,"xht")}return kt(n,t),n.prototype.fa=function(){return new V4},n}(iA),V4=function(t){function n(){return t.call(this,"statechange")}return kt(n,t),n}(Jo);wt(),C(),function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(G4||(G4={})),wt(),C(),Mt(),wt(),C(),mt(),Mt();var W4=function(){function t(){this.Xu=[],this.Xa=void 0}var n=t.prototype;return n.zw=function(t){return this.Xu[t]},n.nS=function(t){this.Xu.push(t),this.Xa&&this.Xa.push(t.va),this.eii(t)},n.sii=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.nS(i)}},n.nii=function(t,n){n>=0&&n<=this.Xu.length&&(this.Xu.splice(n,0,t),this.Xa&&this.Xa.splice(n,0,t.va),this.eii(t))},n.oS=function(t){return fo(this.Xu,t)},n.rS=function(t){this.rii(this.Xu.indexOf(t))},n.rii=function(t){if(t>=0&&t<this.Xu.length){var n=this.Xu[t];co(this.Xu,t),this.Xa&&co(this.Xa,t),this.oii(n)}},n.kL=function(){var t=this.Xu.slice();lo(this.Xu),this.Xa&&lo(this.Xa);for(var n=0;n<t.length;n++){var i=t[n];this.oii(i)}},At(t,[{key:"Gu",get:function(){return this.Xu}},{key:"U",get:function(){return this.Xu.length}},{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),t}(),X4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hii=new Ho,n.Ds=function(t){n.Co(t)},n}kt(n,t);var i=n.prototype;return i.fa=function(){return function(t){var n=function(t){var n=t.Gu.map((function(t){return t.va}));return n.item=function(n){var i=0|n,r=t.zw(i);return r&&r.va||void 0},n}(t),i=new WS(t,n);return n.addEventListener=function(t,n){i.yn(t,n)},n.removeEventListener=function(t,n){i.fn(t,n)},n}(this)},i.yn=function(t,n){this.hii.yn(t,n)},i.T_=function(t){this.hii.T_(t)},i.Vo=function(){this.hii.Vo()},i.Co=function(t){this.hii.Co(t)},i.fn=function(t,n){this.hii.fn(t,n)},i.D_=function(t){this.hii.D_(t)},i.E_=function(t){this.hii.E_(t)},i.k_=function(t,n){return this.hii.k_(t,n)},n}(W4);wt(),C(),Mt();var Z4=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return kt(n,t),n}(Jo),H4=function(t){function n(n){var i;return(i=t.call(this,"uii")||this).aii=n,i}return kt(n,t),n.prototype.fa=function(){return new Z4(this.aii.va)},n}(iA);wt(),C(),Mt();var K4,J4=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return kt(n,t),n}(Jo),q4=function(t){function n(n){var i;return(i=t.call(this,"cii")||this).task=n,i}return kt(n,t),n.prototype.fa=function(){return new J4(this.task.va)},n}(iA),$4=function(t){function n(){return t.call(this)}kt(n,t);var i=n.prototype;return i.eii=function(t){this.Co(new H4(t))},i.oii=function(t){this.Co(new q4(t))},n}(X4);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(K4||(K4={}));var t3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Hht="uninitialised",e.tj=new $4,e._ii=i,e.gii=r,e.Xd=n,e.Wg(),e}kt(n,t);var i=n.prototype;return i.Wg=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.lii()];case 1:return n.sent(),t.Xht("initialised"),[2]}}))}))()},i.lii=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.dii()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.dii=function(){var t=this;return xt((function(){var n,i,r,e;return zt(this,(function(u){switch(u.label){case 0:return[4,t.Xd.Snt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t._ii.fii(r.id,r.sourceDescription,r.parameters,t.gii),t.wii(e),t.tj.nS(e),[4,e.vii]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.Xht=function(t){this.Hht=t,this.Co(new F4)},i.fii=function(t,n,i){void 0===i&&(i="persistent");var r=this._ii.pii(t,n,i);return this.Aii(r,i),this.tj.nS(r),this.wii(r),r},i.Aii=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.yii(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),v("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.yii=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return[4,i.Xd.Mnt({key:t.o,id:t.o,sourceDescription:t.yc,parameters:t.WI},n)];case 1:return r.sent(),[2]}}))}))()},i.wii=function(t){var n=this;t.yn("xht",(function(){t.fD===G4.EVICTED&&n.tj.rS(t)}))},At(n,[{key:"fD",get:function(){return this.Hht}},{key:"mii",get:function(){return this.tj}}]),n}(Xo);wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),wt(),C(),mt();var n3=function(){function t(t,n,i){if(this.Tii=t,this.sS=n,this.Mii=i,0===this.sS.size)this.Dii=BD.oU();else{var r=new BD([-1/0,1/0]);this.sS.forEach((function(t){r=r.Sn(t.timeRanges)})),this.Dii=r}}return t.prototype.QS=function(t){return!!yA(this.sS,t.sS)&&(!!Gi(this.Tii,t.Tii)&&(!!Gi(this.sU,t.sU)&&(!!Gi(this.Sii,t.Sii)&&this.Nii.KB(t.Nii))))},At(t,[{key:"sU",get:function(){return this.Mii}},{key:"bii",get:function(){return this.Tii}},{key:"Sii",get:function(){return this.Nii.sU}},{key:"Iii",get:function(){var t=0,n=0;return this.sS.forEach((function(i){t+=i.timeRanges.sU,n+=i.totalQualityDurationToCache})),0===n?0:g.min(1,t/n)}},{key:"Nii",get:function(){return this.Dii}}]),t}();n3.QUALITY_TIME_RANGES_NULL_OBJECT=Hu(),n3.CACHE_PROGRESSION_NULL_OBJECT=new n3(0,n3.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),n3.Eii=n3.CACHE_PROGRESSION_NULL_OBJECT,wt(),C(),wt(),C(),Ot(),Ct(),Pt(),wt(),C(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),Mt();var i3=function(t){function n(){return t.call(this,"progress")}return kt(n,t),n}(Jo),r3=function(t){function n(){return t.call(this,"s4t")}return kt(n,t),n.prototype.fa=function(){return new i3},n}(iA);wt(),C(),wt(),C(),mt(),Mt();var e3,u3=function(t){function n(n,i){return t.call(this,n,i)}return kt(n,t),At(n,[{key:"name",get:function(){return"kii"}}]),n}(Io);function s3(t,n,i){return o3.apply(this,arguments)}function o3(){return o3=xt((function(t,n,i){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.omt;e<u.length;e++)s=u[e],r.push(a3(s,n,i));return[4,K.all(r)];case 1:return o=a.sent(),[2,{ct:t.Upt.bmt(),Cii:[t.ZMt],omt:o}]}}))})),o3.apply(this,arguments)}function a3(t,n,i){return c3.apply(this,arguments)}function c3(){return c3=xt((function(t,n,i){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Xvt;e<u.length;e++)s=u[e],r.push(h3(s,n,i));return[4,K.all(r)];case 1:return[2,{Lii:o.sent()}]}}))})),c3.apply(this,arguments)}function h3(t,n,i){return f3.apply(this,arguments)}function f3(){return f3=xt((function(t,n,i){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.kot;e<u.length;e++)v3(s=u[e])||r.push(g3(s,n,i));return[4,K.all(r)];case 1:return[2,{Z:o.sent(),Av:t.Av}]}}))})),f3.apply(this,arguments)}function v3(t){return t.Bot.every(l3)}wt(),C(),Ot(),Pt(),wt(),C(),Ot(),Pt(),wt(),C(),function(t){t[t.yp=0]="yp",t[t.Mp=1]="Mp"}(e3||(e3={}));var d3=1;function l3(t){return t.Kmt!==d3&&Boolean(t.Kmt)}function g3(t,n,i){return w3.apply(this,arguments)}function w3(){return w3=xt((function(t,n,i){var r,e,u,s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Bot;e<u.length;e++)l3(s=u[e])||r.push(y3(s,i));return[4,K.all(r)];case 1:return o=v.sent(),a=t.$nt[0],c=t.trt,h=c?function(t,n){for(var i=[],r=function(t){return t?Ss(t,"avc")?mv.VIDEO_H264:Ss(t,"hev")||Ss(t,"hvc")||Ss(t,"hvt")||Ss(t,"lhv")||Ss(t,"lhe")||Ss(t,"lht")?mv.VIDEO_H265:Ss(t,"mp4")?mv.VIDEO_MP4:Ss(t,"mpeg2")?mv.VIDEO_MPEG2:Ss(t,"mpeg")?mv.VIDEO_MPEG:mv.VIDEO_UNKNOWN:mv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.irt.split(":").pop(),o=u.Lmt;i.push({mimeType:r,uuid:s,data:o})}var a=e3.yp,c=us;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=$F(t,n,!0),[2,{qw:o,gs:t.b8,Av:t.Av,Iz:h,Svt:f}]}}))})),w3.apply(this,arguments)}function y3(t,n){return A3.apply(this,arguments)}function A3(){return A3=xt((function(t,n){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,m3(t,n)];case 1:switch(i=s.sent(),r={o:k3(t),kT:i,GP:t.GP,Vet:t.Vet,Ti:t.Ti,Av:t.Av,ji:t.ji},t.Av){case zA.Ru:break;case zA.VA:r.Adt=null!=(u=null==(e=t.Adt)?void 0:e.JS())?u:NaN;break;case zA.WA:r.audioSamplingRate=t.Hmt}return[2,r]}}))})),A3.apply(this,arguments)}function m3(t,n){return p3.apply(this,arguments)}function p3(){return p3=xt((function(t,n){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:i=[],r=t.Wrt,t.zlt&&i.push({MS:0,ct:0,xii:t.zlt}),e=r.yAt(),u=e,c.label=1;case 1:return u?t.Ect(u)?[4,t.Lct(u,n,(new So).f_)]:[3,3]:[3,5];case 2:for(s=c.sent(),o=0;o<s.U;o++)i.push(_3(s.Cct(o),t));return[3,4];case 3:i.push(_3(u,t)),c.label=4;case 4:return u=r.jct(u),[3,1];case 5:return a=r.SAt(),[2,{ct:a.bS-e.MS,jnt:i}]}}))})),p3.apply(this,arguments)}function _3(t,n){return{MS:t.MS,ct:t.ct,xii:n.zct(t)}}function k3(t){return t.bct.Cn+"-"+(""+t.o)}function M3(t,n){var i=function(t){var n=function(t){for(var n=Hu(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.wjt);e||(e={Av:r.Av,wM:[]},n.set(r.wjt,e)),e.wM.push(r)}return n}(t),i=Ku();return n.forEach((function(t){for(var n=0,r=t.wM;n<r.length;n++){var e=r[n],u=i.get(t.Av);u||(u=Hu(),i.set(t.Av,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=Ku();return t.forEach((function(t,r){var e=Hu();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=b3(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function b3(t,n,i){for(var r=t.wjt,e={Mjt:t,Kjt:[]},u=0;u<i.length;u++){var s=i[u];xK(n,r,s)&&e.Kjt.push(s)}return e}function T3(t,n){return N3.apply(this,arguments)}function N3(){return N3=xt((function(t,n){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.Tbt([t],{})];case 1:return[2,eK((i=r.sent()).cE,{},i.Nbt)]}}))})),N3.apply(this,arguments)}function D3(t,n){return I3.apply(this,arguments)}function I3(){return I3=xt((function(t,n){return zt(this,(function(i){return AH(t)?[2,E3(t,n)]:[2,F3(t)]}))})),I3.apply(this,arguments)}function E3(t,n){return S3.apply(this,arguments)}function S3(){return S3=xt((function(t,n){var i,r;return zt(this,(function(e){switch(e.label){case 0:return[4,x3(M3(t.wM,t._Pt),n)];case 1:return i=e.sent(),[4,C3(t._Pt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:L3(i),Cii:[t.Jpt],omt:[{Lii:i}]}]}}))})),S3.apply(this,arguments)}function L3(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=g).max.apply(u,[n].concat(Lt(s.qw.map((function(t){return t.kT.ct})))))}return n}function C3(t,n){return j3.apply(this,arguments)}function j3(){return j3=xt((function(t,n){var i,r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,Y3((e=t[r]).Jpt,n)]:[3,4];case 2:(o=h.sent()).GP=e.GP,o.Vet=e.$nt?function(t){return[t.mkt,t.Akt,t.IRt].filter(zn).join(",")}(e.$nt):"",o.Ti=null!=(a=null==(u=e.akt)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.akt)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{Av:zA.jT,Z:[{gs:QU,Av:zA.jT,qw:i}]}]}}))})),j3.apply(this,arguments)}function x3(t,n){return O3.apply(this,arguments)}function O3(){return O3=xt((function(t,n){var i,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=Gt(e.value,2),s=u[0],[4,z3(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),O3.apply(this,arguments)}function z3(t,n,i){return R3.apply(this,arguments)}function R3(){return R3=xt((function(t,n,i){var r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=Gt(u.value,2),[4,B3(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{Av:U3(n),Z:r}]}}))})),R3.apply(this,arguments)}function B3(t,n){return P3.apply(this,arguments)}function P3(){return P3=xt((function(t,n){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:i=[],r=t[0].Mjt,e=0,s.label=1;case 1:return e<t.length?[4,Q3(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||QU,Av:U3(r.Av),qw:i}]}}))})),P3.apply(this,arguments)}function U3(t){switch(t){case fH.WA:return zA.WA;case fH.VA:return zA.VA;case fH.HA:case fH.kRt:return zA.Ru;default:return zA.jT}}function Q3(t,n){var i=function(t){var n=t.Mjt.Jpt,i=t.Kjt.map((function(t){return t.Jpt}));return n||(i.length?i[0]:void 0)}(t);return Y3(i,n)}function Y3(t,n){return G3.apply(this,arguments)}function G3(){return G3=xt((function(t,n){var i,r;return zt(this,(function(e){switch(e.label){case 0:return i={ct:0,jnt:[]},t?[4,T3(t,n)]:[3,2];case 1:mH(r=e.sent())&&(i=V3(r)),e.label=2;case 2:return[2,{o:t||"default",Oii:t,kT:i,GP:0,Vet:"",Ti:0,Av:zA.jT,ji:0}]}}))})),G3.apply(this,arguments)}function F3(t){var n=V3(t);return{ct:n.ct,Cii:[t.Jpt],omt:[{Lii:[{Av:zA.jT,Z:[{Av:zA.jT,gs:QU,qw:[{o:t.Jpt,kT:n,GP:0,Vet:"",Ti:0,Av:zA.jT,ji:0}]}]}]}]}}function V3(t){for(var n,i=[],r=0,e=0,u=t.jnt;e<u.length;e++){var s=u[e],o=r;!s.mPt||void 0!==n&&kH(s.mPt.Jpt,n)||(i.push(W3(s.mPt,o)),n=s.mPt.Jpt),i.push(X3(s,o)),r+=s.ct}return{ct:r,jnt:i}}function W3(t,n){return{MS:n,ct:0,xii:Z3(t.Jpt)}}function X3(t,n){return{MS:n,ct:t.ct,xii:Z3(t.Jpt)}}function Z3(t){return{zu:t.lT,Sat:t.Dyt?[t.Dyt.Cn,t.Dyt.Cn+t.Dyt.U]:void 0,tE:!1}}wt(),C(),Ot(),Ft(),Ct(),Pt(),wt(),C();var H3=function(){function t(t,n,i){this.Sbt=t,this.Pct=n,this.zii=i}var n=t.prototype;return n.jii=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(!t.src)throw new v("Invalid typed source");return QN(i=t.type)?[4,n.Rii(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return UN(i)?[4,n.Pii(t)]:[3,4];case 4:throw new v("Unexpected source type");case 5:return[2]}}))}))()},n.Rii=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,T3(t.src,n.Sbt)];case 1:return[4,D3(i.sent(),n.Sbt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new v("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Pii=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new pF({yv:on.Dh(t.src),nbt:t.liveOffset,ubt:t.timeServer,tE:t.useCredentials},n.zii,ty.rH,n.Sbt,t.dash)).W];case 1:return r.sent(),[4,s3(i.Tr.jlt,t.contentProtection,n.Pct)];case 2:return[2,r.sent()];case 3:throw r.sent(),new v("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();wt(),C(),Ot(),Pt();var K3=function(){function t(t){this.Uii=[],this.Yii=0,this.Gii=t}var n=t.prototype;return n.Bii=function(){var t=new Cc;return this.Uii.push(t),this.Qii(),t.OL},n.Fii=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Yii-=1,i.Qii(),0===i.Uii.length&&0===i.Yii&&n.LL(!0),[7];case 3:return[2]}}))}))()},n.Qii=function(){this.Uii.length>0&&this.Yii<this.Gii&&(this.Uii.shift().LL(),this.Yii+=1)},t}();var J3=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.oei=new Cc,c.Zii=n3.Eii,c.Pbt=n,c.Ont=i,c.Sbt=r,c.$ii=e,c.jut=u,c.Pct=s,c.zii=a,c.gii=o,c.Wii=-1;var h=c.Pbt.yc.sources[0];return c.Vii=h,c.bo=c.Wg(),c.nei=new K3(c.Pbt.WI.parallelTasksThreshold),c}kt(n,t);var i=n.prototype;return i.Wg=function(){var t=this;return xt((function(){var n,i,r,e,u,s,o,a,c,h,f,d,l,w,A,m,p,_,k,M,b,T,N,D,I,E;return zt(this,(function(S){switch(S.label){case 0:return[4,new H3(t.Sbt,t.Pct,t.zii).jii(t.Vii)];case 1:return t.gkt=S.sent(),n=t.Pbt.WI.amount,i=t.gkt.ct,r=function(t,n){if(Yn(t)){if(Ss(t,"%"))return y(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.Mii=r,u=qR(t.gkt.Cii[0]),[4,t.Ont.Rnt.Int(u,"manifestURL")];case 2:for(s=S.sent().filter((function(n){return fo(n.references,t.Pbt.o)})),o=[],a=t.Pbt.WI.bandwidth,c=0,h=t.gkt.omt;c<h.length;c++)for(f=h[c],d=0,l=f.Lii;d<l.length;d++)for(w=l[d],A=0,m=t5(w,t.Pbt.WI.preferredTrackSelection);A<m.length;A++)for(p=m[A],_=0,k=i5(p.qw,a);_<k.length;_++)M=k[_],o.push(M);if(t.Wii=g.ceil(o.map((function(t){return t.GP*function(t,n){for(var i=0,r=0,e=t.kT.jnt.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),b=Hu(),s&&0!==s.length){for(T=function(n){var i=s[n],r=i.qualityId,e=new BD(i.startsAndEnds);if(b.has(r))b.get(r).timeRanges=b.get(r).timeRanges.YB(e).FB(5e-4);else{var u,a=ro(o,(function(t){return t.o===r})),c=g.min(t.Mii,null!=(u=null==a?void 0:a.kT.ct)?u:1/0);b.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},N=s.reduce((function(t,n){return t+n.byteSize}),0),D=0;D<s.length;D++)T(D);e=new n3(N,b,t.Mii)}else{for(I=0;I<o.length;I++)E=o[I],b.set(E.o,{timeRanges:BD.oU(),totalQualityDurationToCache:g.min(E.kT.ct,t.Mii)});e=new n3(0,b,t.Mii)}return t.Hii=e,[2]}}))}))()},i.pi=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.bo];case 1:return i.sent(),[4,n.qii(n.gkt,t)];case 2:return i.sent(),[2]}}))}))()},i.qii=function(t,n){var i=this;return xt((function(){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:if(!t.Cii)throw new v("Unexpected - manifest is missing locations");return[4,i.Kii()];case 1:for(o.sent(),r=[],e=0,u=t.omt;e<u.length;e++)s=u[e],r.push(i.Jii(s,t.Cii[0],n));return[2,Yo(r)]}}))}))()},i.Kii=function(){var t=this;return xt((function(){var n,i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,t.$ii.Snt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Ont.Pnt.IL(r.key)]):[3,9];case 3:return(e=s.sent())?[4,q3(e,t.Pbt.o,t.Ont.Pnt,t.gii)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Ont.Pnt.Mnt(r,t.gii)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new u3("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.$ii.Ent()];case 10:return s.sent(),[2]}}))}))()},i.Jii=function(t,n,i){for(var r=[],e=0,u=t.Lii;e<u.length;e++)for(var s=t5(u[e],this.Pbt.WI.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.tei(a,n,i))}return Yo(r)},i.tei=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return e=r.Pbt.WI.bandwidth,u=i5(t.qw,e),t.Av===zA.VA&&t.Svt&&t.Svt.fR.widevine&&"persistent"===t.Svt.fR.widevine.licenseType?[4,r.iei(t.Svt)]:[3,2];case 1:c.sent(),jo(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.eei(a,n,i));return[2,Yo(s)]}}))}))()},i.eei=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:jo(i),e=t.kT.jnt[0].MS,u=e+r.Mii,s=[],o=!1,a=0,c=t.kT.jnt,f.label=1;case 1:return a<c.length?(h=c[a]).MS>=u||r.stopIfFailed(o)?[3,5]:[4,r.sei(i)]:[3,5];case 2:return f.sent(),[4,r.nei.Bii()];case 3:f.sent(),s.push(r.nei.Fii(r.rei(h,t,n),r.oei).catch((function(t){return o=!0,K.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,Yo(s)]}}))}))()},i.sei=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.n_)?[4,n.oei.OL]:[3,2];case 1:throw i.sent(),new Lo;case 2:return[2]}}))}))()},i.hei=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.bo.catch(Hn)];case 1:return n.sent(),[2,t.gkt]}}))}))()},i.iei=function(t){return K.resolve()},i.aei=function(){return on.vp("License renewal unsupported in this SDK."),K.resolve()},i.rei=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:return e=r.Ont.Rnt,u=$R(t.xii.zu,t.xii.Sat),[4,e.IL(u)];case 1:return(s=v.sent())?[4,q3(s,r.Pbt.o,e,r.gii)]:[3,3];case 2:return v.sent(),r.uei(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.cei(t.xii)];case 4:return o=v.sent(),a=r.lei(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Ont.Cnt(xt((function(t){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Rnt.Mnt(c,r.gii)];case 1:return n.sent(),[4,t.jnt.Mnt(h,r.gii)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.uei(c,!0),[3,7];case 6:throw f=v.sent(),new u3("Unable to store segment with url: "+t.xii.zu,f);case 7:return[2]}}))}))()},i.cei=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.jut.pat(t,{Iat:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,KD:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.Rut(i)];case 2:return[2,r.sent()]}}))}))()},i.Rut=function(t){return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.GR()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.lei=function(t,n,i,r){var e=$R(t.xii.zu,t.xii.Sat),u=t.MS,s=t.ct,o=this.dei(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:qR(i),qualityId:n.o,byteSize:o,startsAndEnds:new BD([u,u+s]).LB,references:[this.Pbt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:qR(i),data:r,references:[this.Pbt.o]}}},i.dei=function(t){return t.buffer.byteLength},i.uei=function(t,n){var i=t.qualityId,r=this.Zii,e=r.sS;e.get(i).timeRanges=e.get(i).timeRanges.YB(new BD(t.startsAndEnds)).FB(5e-4),this.Hii=new n3(n?r.bii+t.byteSize:r.bii,e,this.Mii)},i.stopIfFailed=function(t){return!1},At(n,[{key:"vii",get:function(){return this.Wg()}},{key:"Xii",get:function(){return this.Wii}},{key:"Hii",get:function(){return this.Zii},set:function(t){this.Zii.QS(t)||(this.Zii=t,t.QS(n3.Eii)||this.Co(new r3))}}]),n}(Xo);function q3(t,n,i,r){return $3.apply(this,arguments)}function $3(){return $3=xt((function(t,n,i,r){return zt(this,(function(e){switch(e.label){case 0:return fo(t.references,n)?[3,2]:(t.references.push(n),[4,i.Mnt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),$3.apply(this,arguments)}function t5(t,n){switch(t.Av){case zA.WA:return n5(t.Z,n.audioTrackSelection);case zA.Ru:return n5(t.Z,n.textTrackSelection);default:return n5(t.Z,[])}}function n5(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function i5(t,n){if(!t.length)return[];var i=Lt(t).sort(YP),r=i.filter((function(t){return t.GP<=n}));return r.length>0?[r.pop()]:[i.shift()]}var r5=function(){function t(t,n,i){this.Pbt=t,this.Ont=n,this.gkt=i}var n=t.prototype;return n.fei=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Ont.Cnt(xt((function(n){return zt(this,(function(i){switch(i.label){case 0:return[4,t._ei(n)];case 1:return i.sent(),[4,t.gei(n)];case 2:return i.sent(),[4,t.wei(n)];case 3:return i.sent(),[4,t.vei(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n._ei=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return i=t.znt,r=n.Pbt.o,[4,i.rS(r)];case 1:return e.sent(),[2]}}))}))()},n.gei=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return i=t.Rnt,r=t.jnt,ZN(e=n.Pbt.yc.sources[0])?(u=qR(e.src),[4,i.Int(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return fo(t.references,n.Pbt.o)})),o=0,c.label=2;case 2:return o<s.length?(ao((a=s[o]).references,n.Pbt.o),0!==a.references.length?[3,5]:[4,i.rS(a.key)]):[3,8];case 3:return c.sent(),[4,r.rS(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.Mnt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.wei=function(t){var n=this;return xt((function(){var i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return i=t.Pnt,r=n.mei(),[4,i._nt(r)];case 1:e=o.sent().filter((function(t){return fo(t.references,n.Pbt.o)})),u=0,o.label=2;case 2:return u<e.length?(ao((s=e[u]).references,n.Pbt.o),0!==s.references.length?[3,4]:[4,i.rS(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.Mnt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.mei=function(){if(!this.gkt)return[];var t=this.Pbt.yc.sources[0];if(!ZN(t))return[];var n=qR(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.omt;i<r.length;i++)for(var e=0,u=r[i].Lii;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].qw;a<c.length;a++){var h=c[a];h.Oii&&n.push(h.Oii)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.gkt).map((function(t){return{src:t}})).map((function(t){return qR(t.src)}));return[n].concat(Lt(i))},n.vei=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return[4,(i=t.Bnt).Snt()];case 1:r=s.sent().filter((function(t){return fo(t.references,n.Pbt.o)})),e=0,s.label=2;case 2:return e<r.length?(ao((u=r[e]).references,n.Pbt.o),0!==u.references.length?[3,4]:[4,i.rS(u.key)]):[3,7];case 3:return s.sent(),n.pei(u),[3,6];case 4:return[4,i.Mnt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.pei=function(t){},t}(),e5=function(){function t(){}return t.prototype.G7=function(t,n,i){return new r5(t,n,i)},t}(),u5=new e5;wt(),C(),Ot(),mt(),Pt(),wt(),C();var s5=function(){function t(t,n){this.ast=t,this.Mei=n}var n=t.prototype;return n.Aei=function(t){this.yei(t)},n.yei=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.Mei.aei(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.ast.Xht(G4.ERROR),[3,3];case 3:return[2]}}))}))()},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{renew:function(n){t.Aei(n)}}}(this)),this.Xa}}]),t}(),o5=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).Lei=new So,o.evictOnLoading=function(){o.fn("xht",o.evictOnLoading),o.xei()},o.uS=n,o.bc=i,o.Eei=r,o.Ont=e,o.Mei=u.G7(Vt(o),o.Ont,s),o.Dei=new s5(Vt(o),o.Mei),o.Hht=1===o.Mei.Hii.Iii?G4.DONE:G4.IDLE,o.Mei.yn("s4t",(function(t){o.Ds(t),1===o.Sei&&o.Xht(G4.DONE)}));var c=new Date,h=o.Eei.expirationDate.getTime()-c.getTime();return function(t){return t<2147483647}(h)&&a((function(){return o.xei()}),h),o}kt(n,t);var i=n.prototype;return i.Xht=function(t){this.Hht!==t&&(this.Hht=t,this.Co(new F4))},i.Cn=function(){this.Hht===G4.EVICTED||this.Hht===G4.DONE||this.kei()},i.kei=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.Xht(G4.LOADING),n=new So,t.Lei=n,[4,t.Mei.pi(n.f_)];case 1:return i.sent(),t.Xht(G4.DONE),[3,4];case 2:return Co(i.sent())?t.Xht(G4.IDLE):t.Xht(G4.ERROR),[3,4];case 3:return t.Lei.h_(),[7];case 4:return[2]}}))}))()},i.Hg=function(){this.Lei.g_()},i.rS=function(){this.fD===G4.LOADING?(this.yn("xht",this.evictOnLoading),this.Hg()):this.xei()},i.xei=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.Mei.hei()];case 1:return n=i.sent(),[4,u5.G7(t,t.Ont,n).fei()];case 2:return i.sent(),t.Mei.Hii=n3.Eii,t.Xht(G4.EVICTED),[3,4];case 3:return i.sent(),t.Xht(G4.ERROR),[3,4];case 4:return[2]}}))}))()},At(n,[{key:"vii",get:function(){return this.Mei.vii}},{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get id(){return t.o},get status(){return t.fD},get source(){return t.yc},get parameters(){return t.WI},get duration(){return t.ct},get cached(){return t.bei.ks()},get secondsCached(){return t.Tei},get percentageCached(){return t.Sei},get bytes(){return t.Nei},get bytesCached(){return t.Iei},get license(){return t.fG.va},start:function(){t.Cn()},pause:function(){t.Hg()},remove:function(){t.rS()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new VS(t,["s4t","xht"],i),i}(this)),this.Xa}},{key:"o",get:function(){return this.uS}},{key:"fG",get:function(){return this.Dei}},{key:"fD",get:function(){return this.Hht}},{key:"yc",get:function(){return this.bc}},{key:"WI",get:function(){return this.Eei}},{key:"ct",get:function(){return this.Mei.Hii.sU}},{key:"bei",get:function(){return this.Mei.Hii.Nii}},{key:"Tei",get:function(){return this.Mei.Hii.Sii}},{key:"Sei",get:function(){return this.Mei.Hii.Iii}},{key:"Nei",get:function(){return this.Mei.Xii}},{key:"Iei",get:function(){return this.Mei.Hii.bii}}]),n}(Ho);var a5=function(){function t(t,n){this.Ont=t,this.Cei=n}var n=t.prototype;return n.pii=function(t,n,i){var r=xE();return this.fii(r,t,n,i)},n.fii=function(t,n,i,r){return new o5(t,n,i,this.Ont,this.Cei,r)},t}();wt(),C();var c5=30,h5=5;function f5(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(Yn(t)&&!Ss(t,"%"))return w(t);return t}(t.amount);!function(t){if(function(t){return Yn(t)&&Ss(t,"%")}(t)){var n=y(t);if(A(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}if(!Yn(t)&&A(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+c5),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||Vn(t)&&t>new Date}(t))throw new v("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(A(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return h5;if(A(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var v5=function(){function t(t,n,i,r){var e=this;this.zei=[],this.jei=0,this.Rei=0;var u=this;this.T7t=xt((function(){var t;return zt(this,(function(n){switch(n.label){case 0:return(t=u.f5t())?[4,u.FGt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.I7t=function(){var t=e.zei.shift();null==t||t.rS()};var s=this;this.Uei=xt((function(t,n){var i;return zt(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.k_("s4t")];case 2:return r.sent(),i=1===t.Hii.Iii,[3,1];case 3:return n.ct<5&&s.T7t(),[2]}}))})),this.oZ=t,this.aE=n,this.$O=new So,this.Cei=i,this.wU=r,this.Ont=new hB}var n=t.prototype;return n.f5t=function(){if(this.Oei)for(var t=this.Oei.s$t;this.jei<t.length;){var n=t[this.jei];for(void 0===this.Pei&&(this.Pei=y1(n),this.Rei=0);this.Rei<this.Pei.length;){var i=this.Pei[this.Rei];if(this.Rei++,void 0!==i.uXt)return i.uXt}this.jei++,this.Pei=void 0}},n.tr=function(){for(this.V7t=void 0,this.$O.g_(),this.$O=new So;this.zei.length;)this.I7t()},n.Bei=function(t){return new t3(this.Ont.znt,t,"temporary")},n.FGt=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return(i=x4(t.kZt,n.oZ.ads.allowedMimeTypes)).length?[4,LD.lL.AB(i,qI({sources:i}))]:[2];case 1:return(r=c.sent()).t.aB()?(n.Mei||(n.Mei=new n.Cei(n.aE)),e=n.Ont,u=new a5(e,n.Mei),s=n.Bei(u),o=s.fii(qI({sources:r.yc}),f5({amount:10,bandwidth:cT.lL.OP()||n.wU.aX}),"temporary"),n.zei.push(o),a=n.Mei.G7(o,e,"temporary"),n.$O.g_(),n.$O=new So,a.pi(n.$O.f_).then(Hn),n.Uei(a,t),[2]):[2]}}))}))()},At(t,[{key:"V7t",get:function(){return this.Oei},set:function(t){this.Oei=t,this.jei=0,this.Rei=0,this.Pei=void 0}}]),t}();wt(),C(),Mt(),wt(),C(),Ot(),Mt(),Pt();var d5={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new BD([0,0]).LB,references:[]},l5={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},g5=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Qei=new HP(i),s.Ont=r,s.Yei=e,s.gii=u,s}kt(n,t);var i=n.prototype;return i.tlt=function(n,i,r,e){var u=this;return xt((function(){var s;return zt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.tlt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return xo(o.sent()),[3,3];case 3:return[4,u.Qei.tlt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Fei(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Fei=function(t,i,r){var e=this;return xt((function(){var u,s,o,a,c,h,f,v;return zt(this,(function(d){switch(d.label){case 0:return void 0===e.Yei?[2]:(u=e.Ont.Rnt,s=$R(t,i),[4,u.IL(s)]);case 1:return(o=d.sent())?[4,q3(o,e.Yei,u,e.gii)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:r},c=n.lei(s,a,e.Yei),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Ont.Cnt(xt((function(t){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Rnt.Mnt(h,e.gii)];case 1:return n.sent(),[4,t.jnt.Mnt(f,e.gii)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=d.sent(),new u3("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.lei=function(t,n,i){return{segmentMetadataEntry:Xu({},d5,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Xu({},l5,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(KP);var w5,y5=function(){function t(t){this.aE=t}return t.prototype.G7=function(t,n,i){void 0===i&&(i="persistent");var r=t.yc.sources[0];if(FN(r))throw new v("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new qB(this.aE,Hw.jT),s=new xF(this.aE,e),o=new tB(n.Pnt,n.Rnt,n.jnt,n.Bnt),a=function(t,n,i,r,e){return new g5(n,t,i,r,e)}(this.aE,o,n,t.o,i),c=new cB,h=new PF(BF(s,o),c,t);return this.Gei(t,n,h,c,u,a,i)},t}(),A5=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.Gei=function(t,n,i,r,e,u,s){return new J3(t,n,i,r,e,u,s,yB())},n}(y5),m5=A5;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.Vei=1]="Vei",t[t.Wei=2]="Wei",t[t.Sm=3]="Sm",t[t.VU=4]="VU",t[t.sLt=5]="sLt"}(w5||(w5={}));var p5=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this,n,i)||this).$ei=[],o.Jei=0,o.vsi=[],o.nsi=!1,o.v5=!1,o.isi=!0,o.Hei=[],o.Asi=function(t){t.type===dd.jh&&o.isi?o.isi=!1:o.Co(t)},o.qei=function(){o.v5=!0};var a=Vt(o);o.ysi=xt((function(){return zt(this,(function(t){switch(t.label){case 0:return a.Jei=1,[4,a.Xei.fti()];case 1:return t.sent(),[2,a.Mti(a.usi.Mc())]}}))}));var c=Vt(o);o.Msi=xt((function(t){var n;return zt(this,(function(i){switch(i.label){case 0:return n=new g0(d0.PLAYBACK,l0.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),c.A2t.Co(v2.S2t(n,t)),[4,c.Xei.fti()];case 1:return i.sent(),[2,c.Mti(c.usi.Mc())]}}))})),o.bsi=function(){return o.jti.fti(),o.Mti(o.usi.Mc())},o.Tsi=function(t){var n=new g0(d0.PLAYBACK,l0.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.A2t.Co(v2.S2t(n,t)),o.jti.fti(),o.Mti(o.usi.Mc())},o.aE=s,o.hti=r,o.jti=new Q4(o.Tsi,o.bsi,Vt(o)),o.Xei=new P4(o.Msi,o.ysi,o.jti,e,Vt(o),n.Iu,r),o.msi(o.jti.W7t),o.msi(o.Xei.W7t);var h=new v5(e,s,A5,u);return o.Kei=new E4(o.Qo,Vt(o),o.A2t,h),o.Xei.T_(o.Asi),o.jti.T_(o.Ds),o.A2t.Qa(o.Xei.A2t),o.A2t.Qa(o.jti.A2t),o.A2t.Qa(o.Kei),o.psi=new _1(Vt(o),o.Qo),o.Iu.yn(qE.pn,o.Ds),o.Qo.yn(dd.jh,o.qei),o}kt(n,t);var i=n.prototype;return i.E8t=function(t,n,i){n===aR.kit&&this.v5?Qo(this.l5t([t])):this.Hei.push(t)},i.Q_=function(){return this.Xei.rti?this.Xei.U_:this.Ktt()},i.F_=function(t,n){},i.Td=function(){return this.Xei.ct},i.V_=function(){return this.Xei.G_},i.W_=function(){},i.X_=function(){},i.hg=function(){return this.Xei.og},i.ag=function(t){this.og!==t&&(this.Xei.og=t,this.Co(new vD(this.U_,this.zg)))},i._g=function(){return this.Xei.fg},i.Ng=function(){return this.Xei.Sg},i.Dg=function(){return BD.oU().ks()},i.Og=function(){return this.Xei.Cg},i.Pg=function(){return this.Xei.Rg},i.Bg=function(){return this.Xei.zg},i.Ug=function(t){this.zg!==t&&(this.Xei.zg=t,this.Co(new vD(this.U_,this.zg)))},i.Xg=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.Zei?[2]:(t.Co(new sD(t.U_)),t.qei(),t.Hei.length?(t.Zei=t.l5t(t.Hei),[4,t.Zei]):[3,2]);case 1:i.sent(),t.Zei=void 0,i.label=2;case 2:return[4,t.Kei.j7t(t.Qo.Q_())];case 3:return i.sent(),4!==(n=t.Jei)&&1!==n&&5!==n||(!t.I$t&&t.$ei.length?t.tsi():t.I$t?(t.isi=!0,t.Xei.Xg()):(t.Q1t(),t.Qo.Xg()),t.Jei=3),[2]}}))}))()},i.Hg=function(){3===this.Jei&&(this.Xei.Hg(),this.Jei=4)},i.b7t=function(){this.Kei.b7t()},i.Cn=function(){this.Jei=1,this.Kei.Cn()},i.Zg=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Kei&&(t.Kei.jn(),t.esi(!1),t.jti.Zg(),t.Jei=5,t.I$t&&(t.Kei.G7t(t.I$t.Fqt),t.I$t=void 0)),t.v5=!1,t.isi=!1,lo(t.$ei),t.E2t&&(t.Q1t(),t.Qo.ge()),lo(t.Hei),[4,t.Xei.Zg()];case 1:return n.sent(),[4,t.hti.tr()];case 2:return n.sent(),[2]}}))}))()},i.Ny=function(){this.Xei.$Kt(),this.jti.$Kt()},i.Wg=function(){this.hti.Wg(),this.qei()},i.b2t=function(t){return!(t.type!==dd.Ov||!this.Kei||!this.Kei.x7t(-1))&&(this.Kei.k7t().then(Hn),!0)},i.ge=function(){void 0!==this.Xei.ati&&(this.hti.ge(),this.Xei.ge()),void 0!==this.jti.Uti&&this.jti.ge()},i.be=function(){this.hti.be(),this.Xei.be(),this.jti.be()},i.l5t=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,Y4.tii(t,n.aE,n.A2t)];case 1:return(i=r.sent()).length?(n.Kei.F7t(i),n.A2t.Co(new CR),n.E2t||n.Qo.fg||n.Kei.j7t(n.Qo.Q_()),0!==n.Jei&&5!==n.Jei||n.Cn(),[2]):("Ads could not be loaded.",n.A2t.Co(v2.S2t(new g0(d0.ADBLOCK,l0.FILE_NOT_FOUND),"Ads could not be loaded.")),n.v5&&!n.I$t&&0===n.$ei.length&&n.ssi(),[2])}}))}))()},i.B7t=function(t){var n;(n=this.$ei).push.apply(n,Lt(t));for(var i=0;i<t.length;i++){t[i];this.v5&&!this.E2t&&this.tsi()}},i.tsi=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return 2===t.Jei?[2]:t.nsi?[3,4]:(t.nsi=!0,t.Jei=2,n=t.I$t,t.rsi(),t.I$t?[4,t.I$t.Fqt.p7t(t.A2t)]:[3,3]);case 1:return i.sent(),t.osi()||(t.nsi=!1),t.A2t.Co(new S2(t.hsi(t.I$t))),[4,t.asi()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.Fqt.A7t())&&t.A2t.Co(new bR(t.hsi(n))),t.nsi=!1,t.Jei=1,t.ssi(),i.label=4;case 4:return[2]}}))}))()},i.ssi=function(){this.Q1t(),this.Qo.ge(),this.Qo.G_?this.Qo.Co(new cD(this.Qo.Q_())):this.Qo.Xg()},i.rsi=function(){var t;if(this.I$t&&this.osi())t=this.I$t.Fqt;else{if(0===this.$ei.length)return;t=this.$ei.shift()}if(t){var n=t.Mc();n?this.I$t=n:(this.I$t&&(this.Kei.G7t(this.I$t.Fqt),this.I$t=void 0),this.I$t=void 0)}},i.asi=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return n=t.I$t?function(t){var n,i,r=null==(i=t.pKt)||null==(n=i.HHt)?void 0:n.XHt();return void 0===r?void 0:new w1(r)}(t.I$t):void 0,n?t.I$t?(t.usi=n,t.lsi(t.I$t.wXt),t.dsi(Q$.oqt),i=t.usi.Mc(),t.I$t.Fqt.A7t()&&(t.jti.fti(),1===t.I$t.Fqt.aut&&t.A2t.Co(new NR(t.hsi(t.I$t)))),[4,t.Mti(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Jei=1,t.nsi=!1,t.I$t=void 0,t.tsi(),r.label=3;case 3:return[2]}}))}))()},i.Mti=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w;return zt(this,(function(y){switch(y.label){case 0:return t?(r=zn(t.uXt),e=zn(t.dXt),s=null!=(u=null==(i=t.lXt)?void 0:i.RXt)?u:[],o=s.length>0,a=n.I$t,c=n.hsi(a),t.uXt?(t.uXt.Xl=a,void 0!==a.Wit.skipOffset&&(h=N0.dKt(a.Wit.skipOffset,t.uXt.ct))&&h<t.uXt.ct&&(t.uXt.CZt=h),f=c.n$t(t.uXt,s,t.fXt,a.Wit),n.jti.fti(),n.z4t(),[4,n.Xei.Mti(f,t.lt,{width:n.Qo.we.offsetWidth,height:n.Qo.we.offsetHeight})]):[3,2]):[3,7];case 1:y.sent(),r=!0,y.label=2;case 2:return t.dXt?((v=t.dXt._Xt[0]).Xl=a,void 0!==a.Wit.skipOffset&&(d=N0.dKt(a.Wit.skipOffset,n.Qo.Td()))&&(v.Xl.CZt=d),l=r?[]:s,g=c.r$t(v,l,t.dXt,t.fXt,a.Wit),r&&n.Xei.Pti(),[4,n.jti.Mti(g,t.lt,{width:n.Qo.we.offsetWidth,height:n.Qo.we.offsetHeight})]):[3,4];case 3:y.sent(),e=!0,y.label=4;case 4:return r&&(n.Jei=3,n.Xei.ge(),w=0===c.cPt,n.isi=w,n.hti.Hg(),n.Xei.Xg(),n.Qo.Hg(),n.Qo.be(),n.z4t(),n.Xei.Lti()),e&&(n.Jei=3,n.jti.ge(),n.jti.Lti()),(r||e||o)&&n.fsi(t.oXt),r||e?[3,6]:[4,n._si()];case 5:y.sent(),y.label=6;case 6:return!r&&e&&(n.osi()||n.$ei.length>0?n.tsi():(n.ssi(),n.I$t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n._si()];case 8:return y.sent(),[3,10];case 9:n.esi(!0),y.label=10;case 10:return[2]}}))}))()},i._si=function(){var t=this.usi;return this.Mti(t&&t.Mc())},i.esi=function(t){this.dsi(Q$.hqt),this.gsi(),this.Jei=1;var n=void 0!==this.I$t&&this.I$t.Fqt.v7t();if(this.nsi=!1,n)t&&(this.Jei=1,this.tsi());else{if(!this.E2t)return;this.Qo.ge(),!this.Qo.G_&&t&&this.Qo.Xg(),this.Q1t()}},i.Q1t=function(){this.wsi(),t.prototype.Q1t.call(this)},i.wsi=function(){if(this.Qo.G_&&(this.Jei=5),this.I$t){var t=this.I$t.Fqt;t.A7t()&&this.A2t.Co(new bR(this.hsi(this.I$t))),this.Kei.G7t(t),this.I$t=void 0}},i.lsi=function(t){this.vsi=this.vsi.concat(t)},i.gsi=function(){this.vsi=[]},i.msi=function(t){this.Qo.we.appendChild(t)},i.dsi=function(t){for(var n=0,i=this.vsi;n<i.length;n++){var r=i[n];r.eF===t&&k$(r.eventURL)}},i.fsi=function(t){this.Xei.tti(Q$.$Zt);for(var n=0;n<t.length;n++){var i=t[n];k$(i)}},i.Yit=function(t){for(var n=this.L8t(),i=0;i<n.length;i++){var r=n[i];N$(r.sources,r.timeOffset)||t.W4(r,aR.kit,!1)}},i.L8t=function(){for(var t,n=[],i=0,r=this.Sit.concat(this.Dit);i<r.length;i++){var e=r[i];n.push(e.Wit)}for(var u=this.$ei.concat(this.Kei.Dit.filter((function(t){return!t.u$t()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].s$t;o<a.length;o++){var c=a[o];c.W||n.push(c.Wit)}return(t=n).push.apply(t,Lt(this.Hei)),_o(n)},i.osi=function(){return!!this.I$t&&y1(this.I$t).some((function(t){return t.uXt}))},i.hsi=function(t){return t.Fqt.l7t},i.$ti=function(){return this.psi},i.Vg=function(){return this.hti.Vg()},i.C_=function(){return this.hti.C_()},i.L2t=function(t){this.Kei.L2t(t)},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.Qo.fn(dd.jh,n.qei),n.A2t.DU(n.Xei.A2t),n.A2t.DU(n.jti.A2t),n.A2t.DU(n.Kei),n.Xei.gn(),n.jti.gn(),[4,n.hti.gn()];case 2:return i.sent(),[2]}}))}))()},At(n,[{key:"m2t",get:function(){return this}},{key:"w2t",get:function(){return n.w2t}},{key:"Iit",get:function(){return this.I$t?this.hsi(this.I$t):null}},{key:"Sit",get:function(){return this.I$t?[this.Xei.ati,this.jti.Uti].filter(zn):[]}},{key:"Dit",get:function(){var t=this.$ei.concat(this.Kei.Dit.filter((function(t){return!t.u$t()})));return wo(t,(function(t){return t.l7t.Oc.filter((function(t){return!t.u$t()}))}))}},{key:"Eit",get:function(){return this.Kei.Dit.map((function(t){return t.l7t}))}}],[{key:"w2t",get:function(){return A1.y$t}}]),n}(Y2),_5=function(){function t(){}var n=t.prototype;return n.YU=function(t){return t&&("string"!=typeof t.integration||t.integration===oI.DEFAULT||t.integration===oI.CSAI||t.integration===oI.THEO)},n.f2t=function(t,n,i){var r=new FD(t.we,i,t.Hj,t.Qtt,t.Qg,t.Htt,t.Ol);return new p5(t,n,r,i,t.Qtt,t.Hj)},n.W4=function(t,n,i,r){i.E8t(t,n,r)},n.hY=function(t){var n=P0(t.sources);if(n){var i={integration:oI.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&si("property timeOffset will be ignored for vmap ad sources");var r=Q0(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=Q0(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},At(t,[{key:"d2t",get:function(){return p5.w2t}}]),t}();wI.lL.GU(new _5),wt(),C(),wt(),C(),mt();var k5=function(){function t(t,n){this.X8t=void 0,this.f3=!1,this.X7=t;var i=u.createElement("div");i.className="theoplayer-ima-wrapper",wu(i),i.style.zIndex="10",jn.Qs&&function(t,n){t.addEventListener(n,du)}(i,"mousedown"),n.appendChild(i);var r=u.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.Nsi=r,i.appendChild(r),this.j0t=i,this.X8t=new google.ima.AdDisplayContainer(this.Nsi,this.X7)}var n=t.prototype;return n.oX=function(){var t;this.f3||(null==(t=this.X8t)||t.initialize(),this.f3=!0)},n.Esi=function(t){"linear"===t?this.j0t.style.marginTop="0px":"nonlinear"===t&&(this.j0t.style.marginTop="-45px")},n.ge=function(){this.j0t.style.opacity="1",this.j0t.style.pointerEvents=""},n.be=function(){this.j0t.style.opacity="0",this.j0t.style.pointerEvents="none"},n.h_=function(){var t;null==(t=this.X8t)||t.destroy(),this.X8t=void 0},At(t,[{key:"W7t",get:function(){return this.j0t}},{key:"Ssi",get:function(){return this.Nsi.offsetHeight}},{key:"Isi",get:function(){return this.Nsi.offsetWidth}},{key:"Dsi",get:function(){return this.X8t}}]),t}();wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Mt(),wt(),C(),mt();var M5=function(){function t(t){this.ksi=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.PXt=t.getCompanionAds(0,0,n)}return At(t,[{key:"yZt",get:function(){return this.ksi.getAdId()}},{key:"p9t",get:function(){var t=this.ksi.getAdPodInfo();if(void 0!==t)try{return{M5t:t.getAdPosition(),$Jt:t.getMaxDuration(),Lsi:t.getPodIndex(),cPt:t.getTimeOffset(),b5t:t.getTotalAds(),xsi:t.getIsBumper()}}catch(t){return}}},{key:"eXt",get:function(){return this.ksi.getAdSystem()}},{key:"Csi",get:function(){return this.ksi.getAdvertiserName()}},{key:"WXt",get:function(){var t;return null!=(t=this.ksi.getApiFramework())?t:void 0}},{key:"lXt",get:function(){return this.PXt.map((function(t){return{XXt:t.getAdSlotId(),Nz:t.getContentType(),t4t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Nz",get:function(){var t;return null!=(t=this.ksi.getContentType())?t:void 0}},{key:"IXt",get:function(){return this.ksi.getCreativeId()}},{key:"a8t",get:function(){return this.ksi.getCreativeAdId()}},{key:"Osi",get:function(){return this.ksi.getDealId()}},{key:"xM",get:function(){return this.ksi.getDescription()}},{key:"ct",get:function(){return this.ksi.getDuration()}},{key:"ji",get:function(){return this.ksi.getWidth()}},{key:"Ti",get:function(){return this.ksi.getHeight()}},{key:"s8t",get:function(){var t;return null!=(t=this.ksi.getMediaUrl())?t:void 0}},{key:"jsi",get:function(){return this.ksi.getMinSuggestedDuration()}},{key:"o8t",get:function(){return this.ksi.getSkipTimeOffset()}},{key:"Rsi",get:function(){return this.ksi.getSurveyUrl()}},{key:"kz",get:function(){return this.ksi.getTitle()}},{key:"n8t",get:function(){return this.ksi.getTraffickingParameters()}},{key:"r8t",get:function(){return this.ksi.getTraffickingParametersString()}},{key:"fXt",get:function(){return this.ksi.getUniversalAdIds().map((function(t){return{c8t:t.getAdIdRegistry(),l8t:t.getAdIdValue()}}))}},{key:"i7t",get:function(){return this.ksi.getUiElements()}},{key:"h8t",get:function(){return this.ksi.getVastMediaBitrate()}},{key:"i8t",get:function(){return this.ksi.getVastMediaHeight()}},{key:"t8t",get:function(){return this.ksi.getVastMediaWidth()}},{key:"q9t",get:function(){return this.ksi.getWrapperAdIds()}},{key:"K9t",get:function(){return this.ksi.getWrapperAdSystems()}},{key:"J9t",get:function(){return this.ksi.getWrapperCreativeIds()}},{key:"l9t",get:function(){return this.ksi.isLinear()}}]),t}();function b5(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var T5=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ic=[],e.zsi=function(t){t.getAd().isLinear()?e.X8t.Esi("linear"):e.X8t.Esi("nonlinear")},e.Psi=function(){e.e$t.resize(e.X8t.Isi,e.X8t.Ssi,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(Xt(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,Z2.D5t),Xt(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Z2.E5t),Xt(n,google.ima.AdEvent.Type.CLICK,Z2.k5t),Xt(n,google.ima.AdEvent.Type.DURATION_CHANGE,Z2.Lv),Xt(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,Z2.L5t),Xt(n,google.ima.AdEvent.Type.STARTED,Z2.nLt),Xt(n,google.ima.AdEvent.Type.IMPRESSION,Z2.x5t),Xt(n,google.ima.AdEvent.Type.PAUSED,Z2.VU),Xt(n,google.ima.AdEvent.Type.RESUMED,Z2.C5t),Xt(n,google.ima.AdEvent.Type.AD_PROGRESS,Z2.A5t),Xt(n,google.ima.AdEvent.Type.AD_BUFFERING,Z2.O5t),Xt(n,google.ima.AdEvent.Type.FIRST_QUARTILE,Z2.j5t),Xt(n,google.ima.AdEvent.Type.MIDPOINT,Z2.HZt),Xt(n,google.ima.AdEvent.Type.THIRD_QUARTILE,Z2.R5t),Xt(n,google.ima.AdEvent.Type.COMPLETE,Z2.XZt),Xt(n,google.ima.AdEvent.Type.USER_CLOSE,Z2.P5t),Xt(n,google.ima.AdEvent.Type.LINEAR_CHANGED,Z2.z5t),Xt(n,google.ima.AdEvent.Type.LOADED,Z2.B5t),Xt(n,google.ima.AdEvent.Type.AD_CAN_PLAY,Z2.U5t),Xt(n,google.ima.AdEvent.Type.AD_METADATA,Z2.Q5t),Xt(n,google.ima.AdEvent.Type.AD_BREAK_READY,Z2.F5t),Xt(n,google.ima.AdEvent.Type.INTERACTION,Z2.Y5t),Xt(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,Z2.G5t),Xt(n,google.ima.AdEvent.Type.SKIPPED,Z2.V5t),Xt(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,Z2.W5t),Xt(n,google.ima.AdEvent.Type.LOG,Z2.H5t),Xt(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,Z2.X5t),Xt(n,google.ima.AdEvent.Type.VOLUME_CHANGED,Z2.Z5t),Xt(n,google.ima.AdEvent.Type.VOLUME_MUTED,Z2.q5t),n)[t]}(t.type),r={type:i,date:new Date,Rit:n?e.Bsi(n):void 0,e9t:$2(i,t.getAdData())};e.Co(r)},e.forwardAdErrorEventListener=function(t){e.Co({date:new Date,Rit:void 0,type:H2.K5t,e9t:{R9t:i4(t.getError())}})},e.e$t=n,e.X8t=i,e.Wu=r,e.Wu.yn(qE.pn,e.Psi),e.e$t.init(e.X8t.Isi,e.X8t.Ssi,google.ima.ViewMode.NORMAL),e.e$t.addEventListener(google.ima.AdEvent.Type.LOADED,e.zsi),e.e$t.addEventListener(b5(),e.forwardAdEventListener),e.e$t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}kt(n,t);var i=n.prototype;return i.Ug=function(t){var n;null==(n=this.e$t)||n.setVolume(t)},i.Bg=function(){return this.e$t.getVolume()},i.C9t=function(){return this.e$t.getRemainingTime()},i.h_=function(){lo(this.Ic),this.Wu.fn(qE.pn,this.Psi),this.e$t.removeEventListener(google.ima.AdEvent.Type.LOADED,this.zsi),this.e$t.removeEventListener(b5(),this.forwardAdEventListener),this.e$t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.e$t.destroy()},i.Cn=function(){this.e$t.start()},i.G8t=function(){this.e$t.resume()},i.Hg=function(){this.e$t.pause()},i.Ny=function(){this.e$t.skip()},i.Zg=function(){this.e$t.stop()},i.w9t=function(){var t=this.e$t.getCurrentAd();if(t)return this.Bsi(t)},i.q8t=function(){return this.e$t.getCuePoints()},i.Bsi=function(t){var n=ro(this.Ic,(function(n){return n.ksi===t}));return n||(n=new M5(t),this.Ic.push(n)),n},i.r7t=function(t){this.e$t.updateAdsRenderingSettings(E5(t))},n}(Xo);wt(),C(),mt(),Mt();var N5=function(t){function n(n,i){var r;return(r=t.call(this,"a7t")||this).Qsi=n,r.j0t=i,r}return kt(n,t),n.prototype.fa=function(){return new D5(this.Qsi)},At(n,[{key:"Usi",get:function(){return this.Qsi}},{key:"W7t",get:function(){return this.j0t}}]),n}(iA),D5=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).Qsi=n,i}return kt(n,t),At(n,[{key:"adsManager",get:function(){return this.Qsi}}]),n}(Jo),I5=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Gsi&&r.Vsi&&r.Fsi){var n,i=E5(r.Vsi),e=r.Gsi,u=t.getAdsManager({get currentTime(){return e.U_},get duration(){return e.ct}},i),s=new T5(u,r.Ysi,r.Wu);r.Co(new N5(u,r.Ysi.W7t)),null==(n=r.Fsi)||n.LL(s),r.Fsi=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={pL:t.getError().getMessage(),N5t:t.getError().getVastErrorCode(),Sqt:t.getError().getErrorCode(),Av:t4(t.getError().getType()),I5t:void 0};null==(n=r.Fsi)||n.xL(i),r.Fsi=void 0},r.Wu=i,r.Ysi=n,r}kt(n,t);var i=n.prototype;return i.V8t=function(){var t;null==(t=this.W8t)||t.contentComplete()},i.l5t=function(t,n,i){var r=this;return xt((function(){var e;return zt(this,(function(u){if(r.Fsi)throw new v("Only one ImaAdsRequest can be made at a time.");if(!r.Ysi.Dsi)throw new v("AdDisplayContainer is not initialized.");return r.W8t=new google.ima.AdsLoader(r.Ysi.Dsi),r.W8t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.W8t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Fsi=new Cc,r.Gsi=n,r.Vsi=i,e=new google.ima.AdsRequest,t.S3t?e.adTagUrl=t.S3t:t.N3t&&(e.adsResponse=t.N3t),e.linearAdSlotWidth=t.p3t,e.linearAdSlotHeight=t.A3t,e.nonLinearAdSlotWidth=t.y3t,e.nonLinearAdSlotHeight=t.M3t,e.contentDuration=t.D3t,e.setAdWillAutoPlay(t.b3t),e.setAdWillPlayMuted(t.T3t),t.I3t&&(e.omidAccessModeRules=t.I3t),r.W8t.requestAds(e),[2,r.Fsi.OL]}))}))()},i.h_=function(){var t;void 0!==this.W8t&&(this.W8t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.W8t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.W8t.destroy(),this.W8t=void 0),null==(t=this.Fsi)||t.xL("AdsLoader destroyed"),this.Fsi=void 0},n}(Xo);function E5(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.e7t,t.i7t&&(n.uiElements=t.i7t),n.mimeTypes=t.t7t,void 0!==t.n7t&&(n.playAdsAfterTime=t.n7t),void 0!==t.s7t&&(n.loadVideoTimeout=t.s7t),void 0!==t.e8t&&(n.bitrate=t.e8t),void 0!==t.n7t&&(n.playAdsAfterTime=t.n7t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}wt(),C(),mt(),Mt();var S5=function(t){function n(n){var i;return(i=t.call(this)||this).Qo=n,i.Wsi=i.Qo.Q_(),i.Qo.yn(dd.fm,(function(){i.Qo.Eg||(i.Wsi=i.Qo.Q_()),i.Co(new nA(i.U_,void 0))})),i}return kt(n,t),n.prototype.tr=function(){this.Wsi=0},At(n,[{key:"U_",get:function(){return this.Qo.Eg?this.Wsi:this.Qo.Q_()}},{key:"ct",get:function(){return this.Qo.Td()}},{key:"og",get:function(){return this.Qo.og}},{key:"zg",get:function(){return this.Qo.zg}}]),n}(Xo);k4.lL.registerWebImaAdPlayerConstructor((function(t,n,i){m4(i);var r=p4(i)?t.Vg():void 0,e=new k5(r,t.we),u=new I5(e,t.Iu),s=new S5(t);return new _4(t,n,i,t.Gtt,e,u,s)})),wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt();var L5=[dd.Lv,dd.Ov],C5=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).rit=n,e.x4t=i,e.Ksi=n.Q_(),e}kt(n,t);var i=n.prototype;return i.ur=function(t,n,i,r){this.rit.yn(L5,this.Ds),r.fg&&!r.G_||this.Qo.Xg()},i.ar=function(t,n,i){this.rit.fn(L5,this.Ds)},i.F_=function(t,n){},i.z_=function(t){},i.Xsi=function(n,i){return t.prototype.F_.call(this,n,i)},i.Zsi=function(n){return t.prototype.z_.call(this,n)},i.B_=function(){return this.rit.bt},i.Wa=function(){return this.rit.Wa()},i.Td=function(){return this.rit.Td()},i.Dg=function(){if(this.qsi())return this.rit.Dg();var t=BD.xn(this.rit.Dg()),n=BD.xn(this.x4t.Dg()).KA(this.Ksi);return t.YB(n).Sn(BD.rU(0,this.Q_())).ks()},i.Q_=function(){return this.Jsi(t.prototype.Q_.call(this))},i.Jsi=function(t){return this.Qo===this.x4t?this.Ksi+t:t},i.j_=function(){var t=BD.xn(this.rit.j_()),n=BD.xn(this.x4t.j_());return t.YB(n.KA(this.Ksi)).ks()},i.nw=function(n){if(fo(L5,n.type))return!0;if(this.Qo===this.x4t)switch(n.type){case dd.fm:return this.Co(new nA(this.Jsi(n.currentTime),n.currentProgramDateTime)),!0;case dd.Zv:return this.Co(new DL(this.Jsi(n.currentTime))),!0;case dd.jh:return this.Co(new sD(this.Jsi(n.currentTime))),!0;case dd.Sh:return this.Co(new uD(this.Jsi(n.currentTime))),!0;case dd.Ov:return this.Co(new cD(this.Jsi(n.currentTime))),!0;case dd.im:return this.Co(new hD(this.Jsi(n.currentTime))),!0;case dd.$v:return this.Co(new fD(this.Jsi(n.currentTime))),!0;case dd.qv:return this.Co(new aD(this.Jsi(n.currentTime),n.playbackRate)),!0;case dd._m:return this.Co(new vD(this.Jsi(n.currentTime),n.volume)),!0;case dd.xv:return this.Co(new eD(this.Jsi(n.currentTime),n.readyState)),!0;case uk.pm:return this.Co(new dk(this.Jsi(n.currentTime),n.readyState)),!0;case uk.Am:return this.Co(new lk(this.Jsi(n.currentTime),n.readyState)),!0;case uk.ym:return this.Co(new fk(this.Jsi(n.currentTime),n.readyState)),!0;case uk.Mm:return this.Co(new hk(this.Jsi(n.currentTime),n.readyState)),!0;case uk.Nw:return this.Co(new ck(this.Jsi(n.currentTime),n.readyState)),!0;case uk.Tm:return this.Co(new vk(this.Jsi(n.currentTime))),!0;case uk.Sm:return this.Co(new gk(this.Jsi(n.currentTime))),!0;case dd.Cv:return this.Co(new bF(this.Jsi(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.nw.call(this,n)},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.rit.fn(L5,n.Ds),[4,t.prototype.gn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},At(n,[{key:"Hsi",get:function(){return this.Qo===this.rit?this.x4t:this.rit}}]),n}(NT);function j5(t,n){n.og=t.og,n.zg=t.zg,n.gg=t.gg}wt(),C(),Mt();var x5,O5=function(t){function n(n,i,r){return t.call(this,n,i,r)}kt(n,t);var i=n.prototype;return i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),this.Hsi.Hg(),this.$si(i,r).style.flex="1"},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r),this.$si(i,r).style.flex="0"},n}(C5),z5=function(t){function n(n,i){return t.call(this,n,i,n)}kt(n,t);var i=n.prototype;return i.qsi=function(){return!0},i.$si=function(t,n){return t},i.tni=function(t,n){return n},i.F_=function(n,i){return t.prototype.Xsi.call(this,n,i)},i.z_=function(n){return t.prototype.Zsi.call(this,n)},n}(O5),R5=function(t){function n(n,i){return t.call(this,n,i,i)}kt(n,t);var i=n.prototype;return i.qsi=function(){return!1},i.$si=function(t,n){return n},i.tni=function(t,n){return t},i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),this.rit.be();for(var u=0,s=[i,r];u<s.length;u++){s[u].style.transition=""}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r),this.rit.ge()},n}(O5);wt(),C(),mt(),function(t){t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT"}(x5||(x5={}));var B5=function(){function t(t){this.pg=!1,this.o=t.o,this.MS=t.MS,this.Jpt=t.Jpt,this.rni=t.rni||"SINGLE",this.oni=t.oni,this.RS=t.bS,this.fzt=t.ARt,this.jx=t.ct,this.eni=t.sni,this.nni()}var n=t.prototype;return n.Yn=function(t){var n,i,r;this.jx=null!=(n=t.ct)?n:this.jx,this.RS=null!=(i=t.bS)?i:this.RS,this.eni=null!=(r=t.sni)?r:this.eni,this.nni()},n.nni=function(){void 0===this.jx&&void 0!==this.RS?this.jx=this.RS-this.MS:void 0===this.RS&&void 0!==this.jx&&(this.RS=this.MS+this.jx)},At(t,[{key:"ini",get:function(){var t,n,i=null!=(n=null!=(t=this.eni)?t:this.jx)?n:this.fzt;return void 0!==i?this.MS+i:this.RS?this.RS:void 0}},{key:"ct",get:function(){var t=this.ini;return void 0===t?void 0:t-this.MS}}]),t}();wt(),C(),Ot(),Mt(),Pt(),gt();var P5,U5="urn:google:dai:2018";!function(t){t.AD_LOADING="adloading",t.AD_LOADED="adloaded",t.AD_ERROR="aderror"}(P5||(P5={}));var Q5=function(t){function n(n,i){var r;return(r=t.call(this)||this).wni=function(){r.Tni=void 0,r.vni(),r.x4t.Zg()},r.mni=function(t){r.bni.Sni(t)},r.Hn=function(t){var n=t.Lt;if(n.zt===C_.ZA&&!(n.Av!==cm.ID3&&n.Av!==cm.EVENT_STREAM||n.Av===cm.EVENT_STREAM&&n.fv!==U5)){if(n.yn(cA.lw,r.Nni),n.yn(cA.fw,r.Ini),n.L)for(var i=0,e=n.L.Rw;i<e.length;i++){var u=e[i];r.Nni(new bj(u))}n._v=h_.vv,r.Mni=n}},r.Nni=function(t){t.yS.yn(dm.mS,r.Dni)},r.Ini=function(t){t.yS.fn(dm.mS,r.Dni)},r.Dni=function(t){var n,i;if(r.lni)if((null==(n=r.Mni)?void 0:n.Av)===cm.ID3){var e,u=t.yS.O;if(Bx(u))if(r.Tni!==u.text)r.Tni=u.text,null==(e=r.hni)||e.processMetadata("ID3",u.text,t.yS.MS)}else if((null==(i=r.Mni)?void 0:i.Av)===cm.EVENT_STREAM){var s,o=t.yS.O;null==(s=r.hni)||s.processMetadata(U5,o,t.yS.MS)}},r._ni=function(){r.Co(new Jo("adloading"))},r.gni=function(){r.Co(new Jo("adloaded"))},r.x4t=n,r.x4t.eS=!1,r.x4t.yg=CD.LT,r.bni=i,r}kt(n,t);var i=n.prototype;return i.GZ=function(t,n,i){var r=this;if(void 0===this.hni){var e,u;if(void 0===(null==(u=iu.google)||null==(e=u.ima)?void 0:e.dai))throw new v("IMA DAI SDK missing for THEOads");this.hni=new google.ima.dai.api.StreamManager(this.x4t.we.querySelector("video"),this.x4t.we)}var s=this.hni;this.ani(),s.reset();var o=new google.ima.dai.api.PodStreamRequest;return o.networkCode=t,o.customAssetKey=n,o.format="hls",o.adTagParameters=i,this.uni=this.cni([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new v("DAI stream request failed");r.lni=t.getStreamData(),r.dni()})),this.hni.requestStream(o),this.uni},i.updateAdTagParameters=function(t){var n;null==(n=this.hni)||n.replaceAdTagParameters(t)},i.fni=function(){this.x4t.nt.yn(eA.hw,this.Hn),this.x4t.yn(dd.Gv,this._ni),this.x4t.yn(uk.Am,this.gni),this.x4t.yn(dd.Ov,this.wni)},i.vni=function(){this.x4t.nt.fn(eA.hw,this.Hn),this.x4t.fn(dd.Gv,this._ni),this.x4t.fn(uk.Am,this.gni),this.x4t.fn(dd.Ov,this.wni)},i.dni=function(){var t;null==(t=this.hni)||t.addEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.PAUSED,google.ima.dai.api.StreamEvent.Type.RESUMED],this.mni)},i.ani=function(){var t;null==(t=this.hni)||t.removeEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.PAUSED,google.ima.dai.api.StreamEvent.Type.RESUMED],this.mni)},i.cni=function(t,n){var i=this;return new K((function(r,e){var u;if(n&&n.n_)return e(new Lo);var s=function(t){a(),r(t)},o=function(){a(),e(new Lo)},a=function(){var r;null==(r=i.hni)||r.removeEventListener(t,s),n&&n.c_(o)};null==(u=i.hni)||u.addEventListener(t,s),n&&n.u_(o)}))},i.pni=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){return[2,i.Ani({sources:{src:t}},n)]}))}))()},i.yni=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return i.uni?[4,zo(i.uni,n)]:[3,2];case 1:u.sent(),u.label=2;case 2:return r=g.floor(1e3*t),e=i.lni.getStandalonePodManifestUrl(Y5,r),[2,i.Ani({sources:{src:e}},n)]}}))}))()},i.Ani=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return i.fni(),null==(r=i.dE)||r.g_(),i.dE=new So,i.dE.w_(n),jo(e=i.dE.f_),[4,i.x4t.ga(qI(t),e)];case 1:return u.sent(),jn.Ga&&jn.zk&&(i.x4t.Xg(),i.x4t.Hg()),[2,Bo((function(t){var n=i.k_("aderror",t).then(K.reject),r=i.k_("adloaded",t).then((function(){return K.resolve()}));return K.race([n,r])}),e)]}}))}))()},i.tr=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return t.ani(),t.vni(),null==(n=t.dE)||n.g_(),t.dE=void 0,[4,t.x4t.Zg()];case 1:return r.sent(),null==(i=t.hni)||i.reset(),[2]}}))}))()},i.gn=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return[4,t.tr()];case 1:return i.sent(),null==(n=t.Mni)||n.gn(),[4,t.bni.gn()];case 2:return i.sent(),[2]}}))}))()},n}(Xo);function Y5(){return g.floor((new Date).getTime()/6e4)}wt(),C(),Mt();var G5=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).kni=void 0,e.Eni=r,e}kt(n,t);var i=n.prototype;return i.qsi=function(){return!0},i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),j5(this.Qo,this.Hsi),this.Hsi.og=!0,n.style.backgroundImage="url('"+this.Eni+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.kni=this.rit.nt.Rw.filter((function(t){return t._v===h_.Jn}));for(var u=0,s=this.kni;u<s.length;u++){s[u]._v=h_.Ch}for(var o=0,a=[i,r];o<a.length;o++){var c=a[o];c.style.flex="1",c.style.borderWidth="20px",c.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r);for(var e=0,u=[i,r];e<u.length;e++){var s=u[e];s.style.flex="0",s.style.borderWidth="0px"}for(var o,a=0,c=null!=(o=this.kni)?o:[];a<c.length;a++){c[a]._v=h_.Jn}this.kni=void 0},i.W_=function(){return this.rit.W_()||this.x4t.W_()},i.X_=function(){return this.rit.X_()||this.x4t.X_()},i.Ng=function(){return g.min(this.rit.Sg,this.x4t.Sg)},i.Xg=function(){this.rit.Xg(),this.x4t.Xg()},i.Hg=function(){this.rit.Hg(),this.x4t.Hg()},n}(C5);wt(),C(),Mt();var F5=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).Eni=e,u}kt(n,t);var i=n.prototype;return i.ur=function(n,i,r,e){t.prototype.ur.call(this,n,i,r,e),this.Hsi.Hg(),this.Hsi.be(),n.style.backgroundImage="url('"+this.Eni+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var u=this.$si(i,r);u.style.flex="1",u.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.ar=function(n,i,r){t.prototype.ar.call(this,n,i,r),this.Hsi.ge();var e=this.$si(i,r);e.style.flex="0",e.style.transform=""},n}(C5),V5=function(t){function n(n,i,r){return t.call(this,n,i,n,r)}kt(n,t);var i=n.prototype;return i.qsi=function(){return!0},i.$si=function(t,n){return t},i.tni=function(t,n){return n},n}(F5),W5=function(t){function n(n,i,r){return t.call(this,n,i,i,r)}kt(n,t);var i=n.prototype;return i.qsi=function(){return!1},i.$si=function(t,n){return n},i.tni=function(t,n){return t},n}(F5);wt(),C(),Ot(),mt(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Mt(),wt(),C(),Mt();var X5=function(t){function n(n){var i;return void 0===n&&(n=[]),(i=t.call(this)||this).prependPackets=n,i}return kt(n,t),n.prototype.start=function(n){t.prototype.start.call(this,n);for(var i=0,r=this.prependPackets;i<r.length;i++){var e=r[i];this.dEt(e)}},n}(IW);function Z5(t){return t.Av===rp.kA}var H5=function(t){function n(n,i,r){var e;void 0===i&&(i=[]),void 0===r&&(r=!1),(e=t.call(this,r?i:[])||this).TG=n,e.yEt=[],e.Nat=e.TG.match(/video/)?Cz.VA:Cz.WA;for(var u=0;u<i.length;u++){var s=i[u];e.Oni(s)}return e}kt(n,t);var i=n.prototype;return i.transform=function(t){this.yEt.push(t),t.Av===rp.Kp?(this.Ox=function(t){var n=i_.Wy(t.ly.ly)[0];if((null==n?void 0:n.Av)!==rp.Kp)throw new v("Not able to parse Moov Box");if(0===n.Z.length)throw new v("Tracks not found");return n.Z[0].wM.zy.cM}(t),this.Lni(this.yEt.splice(0),OW.INITIALIZER)):t.Av===rp.PA&&this.Lni(this.yEt.splice(0),OW.FRAMES)},i.Lni=function(t,n){var i={cM:this.Ox,aG:this.TG},r=_a(t.map((function(t){return Mc(t.ly.ly)}))),e=ro(t,Z5),u={$D:this.Nat,SL:i,nut:r,Av:n,ct:this.xni(e)/i.cM,I_t:qi(this.Cni(e),i.cM)};this.dEt(u)},i.xni=function(t){if(!t||!this.Ox)return 0;var n=i_.Wy(t.ly.ly)[0].Z[0];if(!n||0===n.iT.length)return 0;var i=n.zy.Vb||0;return n.iT[0].aT.reduce((function(t,n){var r;return t+(null!=(r=n.ct)?r:i)}),0)},i.Cni=function(t){var n,i;return t&&this.Ox&&null!=(i=null==(n=i_.Wy(t.ly.ly)[0].Z[0].eT)?void 0:n.eT)?i:xi.UZERO},i.Oni=function(t){t.Av===OW.INITIALIZER&&(this.Ox=t.SL.cM)},n}(X5);wt(),C();var K5="audio/x-theoplayer-fake-json-segment",J5="video/x-theoplayer-fake-json-segment";function q5(t){return JSON.parse(yc(t))}function $5(t,n){switch(t.Av){case pL.jZ:return K.resolve(t.ly);case pL.DD:return Tw(t.ly,n).then((function(t){return _a(t)}));case pL.RZ:return K.reject(new v("HeadlessMediaBuffer - Cannot convert opaque SegmentData to Uint8Array."))}}var t6=function(){function t(t){this.BL=t}return t.prototype.write=function(t){if(t.Av===OW.FRAMES){var n=t.SL.cM,i=kC(kc(t.nut),void 0,n);if(void 0===i)return;this.BL.jni(i,t.ct)}else if(t.Av===OW.INITIALIZER){var r=new Xp(kc(t.nut),new Ec),e=Jp.Ry(r,rp.Kp),u=e?i_.Jy(e):[];if(u.length){var s=_a(u.map((function(t){return new m(t.AT)})));this.BL.Co(new ra(us,s))}}},t}(),n6=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wni=0,r.B7=!1,r.QNt=BD.oU(),r.FNt=BD.oU(),r.fX=30,r.cX=30,r.Rni=0,r.Qni=void 0,r.Fni=new t6(Vt(r)),r.Hni=void 0,r.Yni=new BD([0,1/0]),r.S0=new So,r.GO=n,r.BO=Mv(n.Nz).Av,pv(r.BO)&&(r.Qni=new H5(n.Nz)),r.j0=i,r}kt(n,t);var i=n.prototype;return i.V$=function(t,n,i){var r=this;return this.Rni=n.pI,this.Pni((function(n){return r.zni(t,n)}),i)},i.zni=function(t,n){switch(this.BO){case"audio/mp4":case"video/mp4":return this.Bni(t,n);case K5:case J5:return this.Uni(t,n);default:return K.reject(new d("Unknown content type: "+this.BO))}},i.Bni=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return jo(n),r=function(t){switch(t.Av){case pL.jZ:return Mw(t.ly);case pL.DD:return t.ly;case pL.RZ:throw new v("HeadlessMediaBuffer - Cannot convert opaque SegmentData to Stream.")}}(t),[4,r.pipeThrough(new cw(new CW)).pipeThrough(new cw(i.Qni)).pipeTo(new Ml(i.Fni),{preventClose:!0,preventAbort:!0})];case 1:return e.sent(),[2]}}))}))()},i.Uni=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return jo(n),[4,$5(t,n)];case 1:return r=q5.apply(void 0,[e.sent()]),i.jni(r.startTime,r.duration),[2]}}))}))()},i.Q0=function(){return K.resolve()},i.X$=function(t,n,i){var r=this;return this.Pni((function(n){return r.zni(t,n)}),i)},i.oq=function(){return this.B7},i.x0=function(){this.B7=!0},i.M0=function(){this.B7=!1},i.B0=function(t,n){this.FNt=this.FNt.YB(new BD([t,n]))},i.rS=function(t,n,i){var r=this;return this.Pni((function(i){jo(i),r.QNt=r.QNt.VB(new BD([t,n])),r.Co(new Jo(wL.CZ))}),i)},i.u0=function(t,n){var i=this;return this.Pni((function(){i.Yni=new BD([t,n])}))},i.U0=function(t,n){this.FNt=this.FNt.VB(new BD([t,n]))},i.jni=function(t,n){var i=this.Rni+t,r=new BD([i,i+n]).Sn(this.Yni);this.QNt=this.QNt.YB(r),this.Co(new Jo(wL.CZ)),this.Gni()},i.Vni=function(){return this.Wni},i.Gni=function(){var t=this.QNt,n=t.U>0?t.jn(this.QNt.U-1):0;this.Wni!==n&&(this.Wni=n,this.Co(new oD(n)))},i.FZ=function(t){if(!n.dq(t))return!1;var i=Mv(t.Nz);return this.BO===i.Av},i.GZ=function(t){return this.GO=t,this.BO=Mv(t.Nz).Av,pv(this.BO)?this.Qni=new H5(t.Nz):this.Qni=void 0,K.resolve()},i.Pni=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:if(i.Hni)throw new v("Attempted to start concurrent buffer mutation");(r=new So).w_(i.S0.f_),n&&r.w_(n),e.label=1;case 1:return e.trys.push([1,,3,4]),i.Hni=K.resolve(t(r.f_)),[4,i.Hni];case 2:return e.sent(),[3,4];case 3:return i.Hni=void 0,[7];case 4:return[2]}}))}))()},i.h_=function(){this.Vo(),this.S0.g_()},n.dq=function(t){switch(Mv(t.Nz).Av){case"audio/mp4":case"video/mp4":case K5:case J5:return!0;default:return!1}},At(n,[{key:"O_",get:function(){return this.QNt}},{key:"wd",get:function(){return this.GO}},{key:"O0",get:function(){return this.j0}},{key:"R0",get:function(){return this.FNt}},{key:"iX",get:function(){return this.cX},set:function(t){this.cX=t}},{key:"rX",get:function(){return this.fX},set:function(t){this.fX=t}}]),n}(Xo),i6=function(t){function n(n){var i,r;(i=t.call(this)||this).O1=void 0,i.j1=void 0,i.jx=NaN,i.U1=new QC(0,1/0),i.Xni=void 0,i.Zni=function(){var t;t=i.oq?i.Vni():g.max(i.jx||0,i.Vni()),i.P1(t)},i.GO=n;var e=ro(n.F1,(function(t){return Ls(t.Nz,"audio")})),u=ro(n.F1,(function(t){return Ls(t.Nz,"video")}));return e&&(i.O1=new n6(e,zA.WA),i.O1.yn(dd.Lv,i.Zni)),u&&(i.j1=new n6(u,zA.VA),i.j1.yn(dd.Lv,i.Zni)),i.Xni=null==(r=n.Iz[0])?void 0:r.Qp,i}kt(n,t);var i=n.prototype;return i.h_=function(){var t,n;return this.Vo(),null==(t=this.j1)||t.h_(),null==(n=this.O1)||n.h_(),this.O1=void 0,this.j1=void 0,this.jx=NaN,K.resolve()},i.P1=function(t){this.jx!==t&&(this.jx=t,this.Co(new oD(t)))},i.Vni=function(){var t=0;return this.O1&&(t=g.max(t,this.O1.Vni())),this.j1&&(t=g.max(t,this.j1.Vni())),t},i.Q1=function(t,n,i,r){this.U1=new QC(t,n,Boolean(i),Boolean(r))},i.x0=function(){this.O1&&this.O1.x0(),this.j1&&this.j1.x0(),this.Zni()},i.M0=function(){this.O1&&this.O1.M0(),this.j1&&this.j1.M0()},i.FZ=function(t){if(!n.dq(t))return!1;var i=ro(t.F1,(function(t){return Ls(t.Nz,"audio")})),r=ro(t.F1,(function(t){return Ls(t.Nz,"video")}));return!(this.O1&&i&&!this.O1.FZ(i))&&!(this.j1&&r&&!this.j1.FZ(r))},i.GZ=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return n.GO=t,i=ro(t.F1,(function(t){return Ls(t.Nz,"audio")})),r=ro(t.F1,(function(t){return Ls(t.Nz,"video")})),n.O1?i?[4,n.O1.GZ(i)]:[3,2]:[3,4];case 1:return u.sent(),[3,3];case 2:n.O1.h_(),n.O1=void 0,u.label=3;case 3:return[3,5];case 4:i&&(n.O1=new n6(i,zA.WA),n.O1.yn(dd.Lv,n.Zni)),u.label=5;case 5:return n.j1?r?[4,n.j1.GZ(r)]:[3,7]:[3,9];case 6:return u.sent(),[3,8];case 7:n.j1.h_(),n.j1=void 0,u.label=8;case 8:return[3,10];case 9:r&&(n.j1=new n6(r,zA.VA),n.j1.yn(dd.Lv,n.Zni)),u.label=10;case 10:return e=n.Xni,0===t.Iz.length?n.Xni=void 0:e&&!t.Iz.some((function(t){return t.Qp===e}))&&(n.Xni=t.Iz[0].Qp),[2]}}))}))()},n.dq=function(t){return t.F1.every((function(t){return n6.dq(t)}))},At(n,[{key:"I1",get:function(){return this.O1}},{key:"D1",get:function(){return this.j1}},{key:"O_",get:function(){return VC(this)}},{key:"R0",get:function(){var t,n,i,r;return(null!=(i=null==(t=this.O1)?void 0:t.R0)?i:BD.oU()).YB(null!=(r=null==(n=this.j1)?void 0:n.R0)?r:BD.oU())}},{key:"wd",get:function(){return this.GO}},{key:"ct",get:function(){return this.jx}},{key:"oq",get:function(){return(!this.O1||this.O1.oq())&&(!this.j1||this.j1.oq())}},{key:"Ig",get:function(){return this.U1.V0().Sn(new BD([0,this.ct],[!0,!0]))}},{key:"j3",get:function(){return this.Xni}}]),n}(Xo);wt(),C();var r6=function(){function t(){}var n=t.prototype;return n.W4=function(t){return on.A_(t,16)},n.Z4=function(t){on.p_(t)},t}(),e6=function(t){function n(){var n;return(n=t.call(this)||this).e5=void 0,n.Lz=void 0,n.qni=0,n.Wu=new tS,n.o2=!1,n.dU=new QD,n.hri=0,n.E0t=0,n.sri=-1/0,n.nri=NaN,n.yz=void 0,n.uU=!1,n.cU=!0,n.lU=1,n.Uo=BD.oU(),n.C0t=!1,n.h2=ak.BT,n.aU=!1,n.e2=!1,n.n2=!1,n.mU=new cO,n.tri=void 0,n.EB=!0,n.Xx=1,n.eri=function(){n.Yn()},n.dri=function(){n.Yn()},n.fri=function(){n.e5||(n.Yn(),n.Co(new oD(n.yz.ct)))},n.oE=new mB(Vt(n),new r6),n}kt(n,t);var i=n.prototype;return i.rg=function(){return{HT:0,XT:0,ZT:0,qT:0,KT:0,JT:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}},i.dq=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Av===ek.Sj&&i6.dq(i))return i}},i.h_=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),[4,t.tr()];case 1:return n.sent(),t.oE.gn(),[2]}}))}))()},i.$n=function(t){var n=this;if(t.Av===ek.Sj){var i=new i6(t);this.Jni(i),this.yz=i,on.A_((function(){n.yz===i&&(n.Co(new EL),n.Yn())}),0);var r=new IB(i);return r.int=this,K.resolve(r)}return K.reject(new v("Unsupported configuration"))},i.Hg=function(){this.e5?this.e5.Hg():this.$ni(),this.Yn()},i.$ni=function(){this.cU=!0,void 0!==this.tri&&(on.g1(this.tri),this.tri=void 0),this.Co(new uD(this.U_))},i.Xg=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return n=t.k_(uk.Sm),t.e5?t.e5.Xg():t.iri(),[4,n];case 1:return i.sent(),[2]}}))}))()},i.iri=function(){this.cU&&(this.Yn(),this.cU=!1,this.o2&&(this.qni=0),this.Co(new sD(this.U_)),this.Yn(),void 0===this.tri&&(this.tri=on.f1(this.eri,20)))},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return void 0!==t.tri&&(on.g1(t.tri),t.tri=void 0),t.yz?[4,t.yz.h_()]:[3,2];case 1:n.sent(),t.yz=void 0,n.label=2;case 2:return t.Co(new oD(NaN)),t.qni=0,t.E0t=0,t.sri=-1/0,t.o2=!1,t.Uo=BD.oU(),t.C0t=!1,t.n2=!1,t.Co(new nA(0,void 0)),t.aU&&(t.aU=!1,t.Co(new fD(0))),t.cU||(t.Co(new uD(0)),t.cU=!0),1!==t.lU&&(t.lU=1,t.Co(new aD(0,1))),t.h2!==ak.BT&&(t.h2=ak.BT,t.Co(new ck(0,ak.BT))),[2]}}))}))()},i.JA=function(t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.e5)this.e5.JA(t,n,i);else{this.Uo=this.pg;var r=this.yz?this.yz.Ig.zB(t):t;this.E0t=r,this.qni=1e3*r,this.e2=n,i&&!this.aU?(this.n2=!0,this.Co(new $C(r))):(this.n2=!1,this.aU=!0,this.Co(new hD(r))),this.Yn()}},i.be=function(){this.EB=!1},i.rE=function(t,n,i,r,e,u,s,o){return this.oE.rE(t,n,i,r,e,u,s,o)},i.Cz=function(){return!1},i.jz=function(){throw new v("Sideloaded native text tracks are not supported")},i.fE=function(t){this.oE.fE(t)},i.Pz=function(){this.oE.tr()},i.gz=function(){},i.ge=function(){this.EB=!0},i.F6=function(){},i.z6=function(){this.e5||(void 0!==this.tri&&(on.g1(this.tri),this.tri=void 0),this.Uo=this.pg,this.e5=ij(this),this.e5.yn(tj,this.Ds))},i.B6=function(){if(this.e5){var t=this.e5;this.e5=void 0,rj(this,t),t.h_(),this.Yn(),this.cU||void 0!==this.tri||(this.tri=on.f1(this.eri,20))}},i.Yn=function(){var t,n;if(!this.e5){var i=on.m_(),r=A(this.nri)?0:i-this.nri;this.nri=i;var e,u,s=!1,o=null!=(e=null==(t=this.yz)?void 0:t.O_)?e:BD.oU(),a=null!=(u=null==(n=this.yz)?void 0:n.R0)?u:BD.oU();this.cU||(this.qni=this.rri(r,o,a));var c,h=VB(o,a).PB().Jm(this.U_),f=1e3*g.min(null!=(c=null==h?void 0:h.jn(0))?c:0,this.ct);this.hri<f&&(this.hri=f,this.Co(new DL(this.U_)));var v=this.ari(h,f);v!==this.h2&&(this.h2=v,this.Co(new ck(this.U_,this.h2))),s=this.cri(s),this.T0t(),!(s=this.bX(s))&&this.C0t&&this.sri+250<i&&(s=!0,this.Co(new nA(this.U_,void 0))),s&&(this.sri=i)}},i.rri=function(t,n,i){for(var r=this.qni,e=t*this.lU,u=1e3*this.ct;;){var s=i.Jm(r/1e3);if(void 0!==s&&n.gr(s.jn(0))&&(r=1e3*s.jn(0)),(this.aU||this.n2)&&this.e2){var o=r/1e3,a=XC(n,o,1);if(a!==o){r=1e3*a;break}}if(this.aU||this.n2)break;if(e<=0)break;var c=n.Jm(r/1e3);if(void 0===c)break;var h=g.min(1e3*c.jn(0),u),f=g.min(e,h-r);if(!(f>0))break;r+=f,e-=f}return r},i.ari=function(t,n){return this.yz?t?this.yz&&this.yz.oq&&n===1e3*this.yz.ct?this.qni===n?ak.UT:ak.FT:this.qni===n?ak.UT:ak.QT:ak.Xn:ak.BT},i.cri=function(t){var n=t;if(this.h2>=ak.UT){var i=this.aU,r=this.n2;this.aU=!1,this.n2=!1,n||!i&&!r||(n=!0,this.Co(new nA(this.U_,void 0))),i?this.Co(new fD(this.U_)):r&&this.Co(new qx(this.U_))}return n},i.T0t=function(){var t=this.C0t,n=this.lri();!t&&n?(this.C0t=!0,this.Co(new gk(this.U_))):t&&!n&&(this.Uo=this.pg,this.C0t=!1)},i.lri=function(){return!this.Eg&&!(this.fg||this.G_||this.lt||this._2())},i._2=function(){return this.Sg<ak.QT},i.bX=function(t){var n=t;return this.yz&&this.yz.oq&&this.U_===this.ct?this.o2||(this.o2=!0,n||(n=!0,this.Co(new nA(this.U_,void 0))),this.$ni(),this.Co(new cD(this.U_))):this.o2=!1,n},i.Jni=function(t){var n,i;null==(n=t.D1)||n.yn(wL.CZ,this.dri),null==(i=t.I1)||i.yn(wL.CZ,this.dri),t.yn(dd.Lv,this.fri)},At(n,[{key:"O_",get:function(){var t,n;return null!=(n=null==(t=this.yz)?void 0:t.O_)?n:BD.oU()}},{key:"U_",get:function(){return this.e5?this.e5.U_:this.qni/1e3}},{key:"Iu",get:function(){return this.Wu}},{key:"ct",get:function(){var t,n;return this.e5?this.e5.ct:null!=(n=null==(t=this.yz)?void 0:t.ct)?n:NaN}},{key:"G_",get:function(){return this.e5?this.e5.G_:this.o2}},{key:"lt",get:function(){}},{key:"K_",get:function(){return!1}},{key:"Kni",get:function(){return this.yz}},{key:"og",get:function(){return this.e5?this.e5.og:this.uU},set:function(t){this.e5?this.e5.og=t:this.uU!==t&&(this.uU=t,this.Co(new vD(this.U_,this.Xx)))}},{key:"fg",get:function(){return this.e5?this.e5.fg:this.cU}},{key:"gg",get:function(){return this.e5?this.e5.gg:this.lU},set:function(t){this.lU!==t&&(this.Yn(),this.lU=t,this.Co(new aD(this.U_,t)))}},{key:"Sg",get:function(){return this.h2}},{key:"Ig",get:function(){var t;return(null==(t=this.yz)?void 0:t.Ig)||BD.oU()}},{key:"Eg",get:function(){return this.e5?this.e5.Eg:this.aU}},{key:"s2",get:function(){return this.e5?this.e5.s2:this.n2}},{key:"g2",get:function(){return!1}},{key:"Mz",get:function(){}},{key:"zg",get:function(){return this.e5?this.e5.zg:this.Xx},set:function(t){this.e5?this.e5.zg=t:this.Xx!==t&&(this.Xx=t,this.Co(new vD(this.U_,t)))}},{key:"R_",get:function(){}},{key:"Ti",get:function(){return this.Wu._u}},{key:"pg",get:function(){var t=this.Uo;return!this.e5&&this.C0t&&(t=t.YB(new BD([this.E0t,this.U_]))),t}},{key:"_5",get:function(){return this.EB}},{key:"ji",get:function(){return this.Wu.ku}},{key:"ya",get:function(){return this.dU}},{key:"U6",get:function(){return!0}},{key:"Hm",get:function(){return AL}},{key:"nt",get:function(){return this.oE.nt}},{key:"Ol",get:function(){return this.mU}},{key:"Cg",get:function(){return 0}},{key:"Rg",get:function(){return 0}},{key:"Qz",get:function(){return this.Lz},set:function(t){this.Lz=t}},{key:"j3",get:function(){var t;return null==(t=this.yz)?void 0:t.j3}}]),n}(Xo),u6=function(){function t(t,n,i,r){var e=this;this.pri=function(){e.aQt=e._ri(e.lQt.f_).catch(e.Ari)},this.Ari=function(t){0},this.rit=t;var u=new r$,s=new e6;this.gri=new PK(i,u,!1,n,void 0),this.BGt=new FK(this.gri,s),this.lQt=new So,this.lQt.w_(r),this.rit.yn(dd.Vv,this.pri)}var n=t.prototype;return n._ri=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.aQt?[4,n.aQt]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.gri.qBt?[3,4]:[4,n.gri.eUt(t)];case 3:i.sent(),i.label=4;case 4:return void 0===n.wri&&n.vri(),[4,n.gri.cUt(n.wri,t)];case 5:return i.sent(),[2]}}))}))()},n.vri=function(){for(var t=0,n=this.gri.Tr.Kjt;t<n.length;t++){var i=n[t];0!==i.$jt.length&&(this.wri=i.$jt[0])}},n.gn=function(){var t;this.rit.fn(dd.Vv,this.pri),null==(t=this.lQt)||t.g_(),this.gri.h_()},At(t,[{key:"nt",get:function(){return this.BGt.nt}}]),t}();wt(),C(),mt();var s6=function(){function t(){}var n=t.prototype;return n.YU=function(t){return o6(t)},n.f2t=function(t,n,i){},n.W4=function(t,n,i,r){},n.hY=function(t){var n={integration:oI.THEOADS,adTagParameters:Un(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return Yn(t.sources)&&(n.sources=TA(t.sources)),Yn(t.networkCode)&&(n.networkCode=TA(t.networkCode)),Yn(t.customAssetKey)&&(n.customAssetKey=TA(t.customAssetKey)),Yn(t.backdropDoubleBox)&&(n.backdropDoubleBox=TA(t.backdropDoubleBox)),Yn(t.backdropLShape)&&(n.backdropLShape=TA(t.backdropLShape)),Yn(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),Yn(t.overrideAdSrc)&&(n.overrideAdSrc=TA(t.overrideAdSrc)),n},At(t,[{key:"d2t",get:function(){return A1.git}}]),t}();function o6(t){return t&&t.integration===oI.THEOADS}function a6(t){var n=u.createElement("div"),i=u.createElement("div");return function(t,n){for(var i;zn(i=t.firstChild);)n.appendChild(i)}(t,n),vu(t,"theo-ads-sgai-container"),vu(n,"theo-ads-sgai-content-player"),vu(i,"theo-ads-sgai-ad-player"),t.appendChild(n),t.appendChild(i),{contentElement:n,adElement:i}}function c6(t){var n=t.style;n.display="flex",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function h6(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition=""}wI.lL.GU(new s6),wt(),C(),wt(),C(),mt();var f6=function(){function t(t){var n=this;this.Dri=!1,this.Mri=[],this.Gri=Ku(),this.Tri=[],this.Hn=function(t){n.Sri(t.Lt)},this.qn=function(t){n.Iri(t.Lt)},this.Ori=function(t){n.Pri(t.yS)},this.zri=function(t){n.Bri(t.yS)},this.Rri=function(t){n.Yri(t.yS)},this.Ini=function(t){n.Cri(t.yS)},this.jri=function(t){n.Wri(t.yS)},this.JOt=t}var n=t.prototype;return n.bri=function(t){if(!fo(this.Tri,t)){this.Tri.push(t);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.Sri(r)}t.yn(eA.hw,this.Hn),t.yn(eA.uw,this.qn)}},n.Nri=function(t){if(fo(this.Tri,t)){ao(this.Tri,t),t.fn(eA.hw,this.Hn),t.fn(eA.uw,this.qn);for(var n=0,i=t.Rw;n<i.length;n++){var r=i[n];this.Iri(r)}}},n.Sri=function(t){!this.Dri&&function(t){return t.zt===C_.ZA&&t.Av===cm.DATE_RANGE}(t)&&this.Eri!==t?this.kri(t):this.Dri&&function(t){return t.zt===C_.ZA&&t.Av===cm.ID3}(t)&&this.Lri!==t&&this.xri(t)},n.Iri=function(t){this.Eri===t?this.kri(void 0):this.Lri===t&&this.xri(void 0)},n.kri=function(t){var n=this.Eri;if(void 0!==n){if(n.L)for(var i=0,r=n.L.Rw;i<r.length;i++){var e=r[i];this.Cri(e)}n.fn(cA.lw,this.Ori),n.fn(cA.gw,this.jri),n.fn(cA.mw,this.Rri),n.fn(cA.fw,this.Ini),n._v=h_.vv}if(this.Eri=t,void 0!==t){if(t.L)for(var u=0,s=t.L.Rw;u<s.length;u++){var o=s[u];this.Pri(o)}t.yn(cA.lw,this.Ori),t.yn(cA.gw,this.jri),t.yn(cA.mw,this.Rri),t.yn(cA.fw,this.Ini),t._v=h_.vv}},n.xri=function(t){var n=this.Lri;if(void 0!==n){if(n.L)for(var i=0,r=n.L.Rw;i<r.length;i++){var e=r[i];this.Cri(e)}n.fn(cA.lw,this.zri),n.fn(cA.mw,this.Rri),n.fn(cA.fw,this.Ini),n._v=h_.vv}if(this.Lri=t,void 0!==t){if(t.L)for(var u=0,s=t.L.Rw;u<s.length;u++){var o=s[u];this.Bri(o)}t.yn(cA.lw,this.zri),t.yn(cA.mw,this.Rri),t.yn(cA.fw,this.Ini),t._v=h_.vv}},n.Pri=function(t){if("com.theoplayer.theoads.interstitial"===t.mRt&&t.yRt["X-ASSET-URI"]){var n=t.yRt["X-RESUME-OFFSET"],i=new B5({o:t.o,MS:t.MS,Jpt:t.yRt["X-ASSET-URI"],rni:this.Uri||x5[t.yRt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||x5.SINGLE,oni:t.yRt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],bS:isFinite(t.bS)?t.bS:void 0,ct:t.ct,ARt:t.ARt,sni:void 0!==n?Number(n):void 0});this.Qri(i,t)}},n.Bri=function(t){var n=t.O;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=wc(new DataView(n.data),new Ec),r=new Te(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new Te(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=new B5({o:t.o,MS:t.MS,Jpt:c,rni:this.Uri||x5.SINGLE,ARt:u});this.Qri(h,t)}else if("cue_end"===e){var f=this.Fri;f&&f.Yn({ct:t.MS-f.MS})}}},n.Yri=function(t){this.Gri.get(t.Xw)&&this.JOt.Vri(t.MS)},n.Qri=function(t,n){this.Mri.push(t),this.Gri.set(n.Xw,t),this.Fri=t,this.JOt.Qri(t)},n.Wri=function(t){var n=this.Gri.get(t.Xw);if(void 0!==n){var i=t.yRt["X-RESUME-OFFSET"];n.Yn({ct:t.ct,bS:isFinite(t.bS)?t.bS:void 0,sni:void 0!==i?Number(i):void 0})}},n.Cri=function(t){this.Hri(t)},n.Hri=function(t){var n=this.Gri.get(t.Xw);void 0!==n&&(ao(this.Mri,n),this.Gri.delete(t.Xw),this.JOt.Xri(n))},n.gn=function(){this.Fri=void 0,this.kri(void 0),this.xri(void 0);for(var t=0,n=this.Tri.slice();t<n.length;t++){var i=n[t];this.Nri(i)}lo(this.Tri),lo(this.Mri),this.Gri.clear()},At(t,[{key:"yri",get:function(){return this.Mri}}]),t}();wt(),C(),mt(),wt(),C(),mt(),Mt();var v6=function(t){function n(n,i){var r;return(r=t.call(this,i,function(t){return t===x5.LSHAPE_CONTENT?w2.Cqt:w2.xqt}(i.qri.rni))||this).Zri=n,r.NXt=i,r.J2t=void 0===n,r}kt(n,t);var i=n.prototype;return i.w$t=function(){var t;return null==(t=this.Zri)?void 0:t.getAdSystem()},i.Nit=function(){var t;return null!=(t=this.Xa)?t:this.fa()},i.p$t=function(){return this.NXt.qri.Jpt},i.fa=function(){return _2(this)},At(n,[{key:"o",get:function(){var t;return null==(t=this.Zri)?void 0:t.getAdId()}},{key:"duration",get:function(){var t;return null==(t=this.Zri)?void 0:t.getDuration()}},{key:"sZt",get:function(){var t,n;return null==(n=this.Zri)||null==(t=n.Rit)?void 0:t.clickThroughUrl}},{key:"IXt",get:function(){var t;return null==(t=this.Zri)?void 0:t.getCreativeId()}},{key:"CZt",get:function(){var t;return null==(t=this.Zri)?void 0:t.getSkipTimeOffset()}},{key:"vKt",get:function(){return A1.git}}]),n}(p2);wt(),C(),mt(),Mt();var d6=function(t){function n(n){var i,r;return(i=t.call(this,n.MS)||this).Jri=n,i.t$t=null!=(r=i.Jri.ct)?r:-1,i}return kt(n,t),n.prototype.Kri=function(t){this.Ic.push(t)},At(n,[{key:"pg",get:function(){return this.Jri.pg}},{key:"vKt",get:function(){return A1.git}},{key:"$Jt",get:function(){var t;return null!=(t=this.Jri.ct)?t:-1}},{key:"cPt",get:function(){return this.Jri.MS}},{key:"DJt",get:function(){}},{key:"qri",get:function(){return this.Jri}}]),n}(A2),l6=function(){function t(t,n){var i=this;this.P4t=new sI,this.D$t=[],this.I$t=void 0,this.v$t=void 0,this.ioi=function(){var t=new v6(void 0,i.I$t);i.I$t.Kri(t),i.v$t=t,i.P4t.Co(new IR(i.v$t,i.$ri.Q_())),i.x4t.yn(dd.Ov,i.eoi)},this.eoi=function(){i.x4t.fn(dd.Ov,i.eoi),i.I$t&&(i.v$t&&(i.P4t.Co(new SR(i.v$t,i.$ri.Q_())),i.v$t=void 0),i.P4t.Co(new bR(i.I$t)),i.I$t=void 0)},this.$ri=t,this.x4t=n}var n=t.prototype;return n.Ny=function(){},n.Yit=function(t){},n.Qri=function(t){var n=new d6(t);this.D$t.push(n)},n.Xri=function(t){var n=this.D4t(t);ao(this.D$t,n)},n.Sni=function(t){switch(this.I$t&&(this.I$t.t$t=this.x4t.Td()-this.x4t.Q_()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:this.P4t.Co(new v2(d0.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:var n=this.$ri.Q_(),i=ro(this.D$t,(function(t){var i=t.cPt,r=i+t.t$t;return i<n&&n<r}));i||(i=this.D$t[0]),this.I$t=i,this.P4t.Co(new NR(this.I$t)),this.toi=on.A_(this.ioi,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:on.p_(this.toi);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.I$t.t$t>1&&this.ioi();break;case google.ima.dai.api.StreamEvent.Type.STARTED:var r=t.getAd(),e=new v6(r,this.I$t);this.I$t.Kri(e),this.v$t=e,this.P4t.Co(new IR(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:this.P4t.Co(new C2(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:this.P4t.Co(new x2(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:this.P4t.Co(new z2(this.v$t,this.$ri.Q_()));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:this.P4t.Co(new SR(this.v$t,this.$ri.Q_())),this.v$t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED:this.eoi()}},n.D4t=function(t){return ro(this.D$t,(function(n){return n.qri===t}))},n.gn=function(){return void 0!==this.I$t&&(this.I$t=void 0),this.v$t=void 0,lo(this.D$t),K.resolve(void 0)},At(t,[{key:"A2t",get:function(){return this.P4t}},{key:"E2t",get:function(){return void 0!==this.I$t}},{key:"w2t",get:function(){return A1.git}},{key:"Sit",get:function(){return this.v$t?[this.v$t]:[]}},{key:"Iit",get:function(){var t;return null!=(t=this.I$t)?t:null}},{key:"Dit",get:function(){var t=this;return wo(this.D$t,(function(n){var i=n.Oc;if(n===t.I$t&&void 0!==t.v$t){var r=i.indexOf(t.v$t);if(r>=0)return i.slice(r+1)}return n.pg?[]:i}))}},{key:"Eit",get:function(){var t=this;return this.D$t.filter((function(n){return n===t.I$t||!n.pg}))}}]),t}();wt(),C(),mt(),Mt();var g6=function(){function t(t){this.theoAdsPlayer=t}return t.prototype.soi=function(t){this.theoAdsPlayer.noi(t)},At(t,[{key:"va",get:function(){return function(t){return{replaceAdTagParameters:function(n){t.soi(n)}}}(this)}}]),t}(),w6=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).roi=new g6(n),e.rit=i;for(var u=0,s=wI.lL.UU;u<s.length;u++){var o=s[u],a=i.Oc.N2t.l2t(o.d2t);void 0!==a&&e.N2t._2t(a)}return e}return kt(n,t),n.prototype.W4=function(t,n,i){var r;null==(r=this.rit.Oc)||r.W4(t,n,i)},At(n,[{key:"xit",get:function(){return this.roi}}]),n}(l2),y6=function(t){function n(n){var i;(i=t.call(this,n)||this).vz=void 0,i.bU=void 0,i.Joi=!0,i.Soi=!1,i.poi=function(t){var n=t.Rit.Nit().clickThrough;void 0!==n&&""!==n&&(i.P0t=new z1(i.we),i.P0t.V$t=n,i.P0t.yn("clickstart",i.z0t))},i.z0t=function(){i.Hg()},i.Aoi=function(){i.P0t&&(i.P0t.h_(),i.P0t=void 0)},i.xoi=function(t){i.Vri(t.currentTime)},i.WQ=function(t){i.Vri(t.currentTime)},i.iE=function(t){i.Foi(t.currentTime)},i.joi=function(t){i.Koi()},i.Roi=function(t){i.Boi()},i.pri=function(t){i.Koi()},i.Poi=function(t){i.Uoi.pg=!0,i.Q1t()};var r=Vt(i);i.aoi=xt((function(){var t;return zt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.Jtt.OY([sE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.Zg().catch(Hn)];case 3:return n.sent(),r.rB(Vv(t,Qv.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.Us=n.we;var e=a6(i.Us),u=e.contentElement,s=e.adElement;return i.Noi=u,i.Ioi=s,wu(i.Noi),wu(i.Ioi),i.rit=n,i.x4t=new P2(new nR(i.Ioi,n.wd,new pE),wI.lL),i.bni=new l6(Vt(i),i.x4t),i.woi=new Q5(i.x4t,i.bni),i.doi=new f6(Vt(i)),i.Eoi=new w6(Vt(i),n,n),i.Eoi.Git(i.bni),i}kt(n,t);var i=n.prototype;return i.ga=function(n,i){var r=this;return xt((function(){var e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:return r.ooi(),jo(i),[4,t.prototype.ga.call(r,n,i)];case 1:return c.sent(),void 0===(o=null==(e=r.rit.bt)?void 0:e.src)||void 0===n||void 0===n.ads?[2]:(void 0===(a=ro(n.ads,o6))||(r.hoi(),r.aoi(),r.uoi=a,r.coi=a.backdropDoubleBox,r.loi=a.backdropLShape,r.doi.Uri=function(t){switch(t){case"single":return x5.SINGLE;case"l-shape":return x5.LSHAPE_AD;case"double":return x5.DOUBLE;case"single-if-mobile":return jn.Qs?x5.SINGLE:void 0;default:return}}(a.overrideLayout),r.foi=a.networkCode,r._oi=a.customAssetKey,r.goi=a.overrideAdSrc,void 0!==a.networkCode&&void 0!==a.customAssetKey&&r.woi.GZ(a.networkCode,a.customAssetKey,r.voi).catch((function(t){0})),r.moi(),null==(u=r.Oc)||u.yn("Uit",r.poi),null==(s=r.Oc)||s.yn("Qit",r.Aoi),r.doi.Dri=a.useId3,r.doi.bri(r.rit.nt),void 0!==a.sources&&r.yoi(a.sources+o),r.Moi(new z5(r.rit,r.x4t))),[2])}}))}))()},i.yoi=function(t){this.boi=new So,this.Toi=new u6(this.rit,t,this.rit.Hj,this.boi.f_),this.doi.bri(this.Toi.nt)},i.ooi=function(){var t;void 0!==this.Toi&&(this.doi.Nri(this.Toi.nt),null==(t=this.boi)||t.g_(),this.boi=void 0,this.Toi.gn(),this.Toi=void 0)},i.hoi=function(){this.Soi||(this.Soi=!0,yu(this.Noi),yu(this.Ioi),c6(this.Us),c6(this.Noi),c6(this.Ioi))},i.Doi=function(){this.Soi&&(this.Soi=!1,h6(this.Us),h6(this.Noi),h6(this.Ioi),wu(this.Noi),wu(this.Ioi))},i.Wg=function(){this.rit.Wg(),this.x4t.Wg()},i.hit=function(){return this.rit.Qtt},i.Y_=function(){return this.Us},i.noi=function(t){this.koi=t},i.Moi=function(t){var n;void 0!==this.Loi&&(this.Loi.ar(this.we,this.Noi,this.Ioi),this.Loi.gn());var i=null!=(n=this.Loi)?n:this,r=null!=t?t:this.rit;j5(i,r),null==t||t.ur(this.we,this.Noi,this.Ioi,i),this.Loi=t,this.WT(r)},i.moi=function(){this.rit.yn(dd.fm,this.xoi),this.rit.yn(dd.im,this.WQ),this.rit.yn(dd.Zv,this.iE)},i.Coi=function(){this.rit.fn(dd.fm,this.xoi),this.rit.fn(dd.im,this.WQ),this.rit.fn(dd.Zv,this.iE)},i.Ooi=function(){this.x4t.yn(dd.Zv,this.joi),this.x4t.yn(dd.fm,this.Roi),this.x4t.yn(dd.Ov,this.Poi),this.rit.yn(dd.Vv,this.pri)},i.zoi=function(){this.x4t.fn(dd.Zv,this.joi),this.x4t.fn(dd.fm,this.Roi),this.x4t.fn(dd.Ov,this.Poi),this.rit.fn(dd.Vv,this.pri)},i.Boi=function(){void 0!==this.Uoi&&this.x4t.Q_()>=this.Uoi.ct&&this.Q1t()},i.Vri=function(t){this.Qoi(t),this.Foi(t),this.Yoi(t)},i.Qoi=function(t){for(var n,i=0,r=this.doi.yri;i<r.length;i++){var e=r[i];if(!e.pg){var u=e.ini;void 0!==u&&t>=u?e.pg=!0:void 0!==n&&n.MS<e.MS||(n=e)}}this.Uoi!==n&&(this.Uoi=n,this.Goi())},i.Goi=function(){var t;null==(t=this.Voi)||t.g_(),this.Woi=void 0,this.Hoi=void 0},i.Foi=function(t){if(void 0!==this.Uoi&&void 0===this.Woi){var n=!1,i=BD.xn(this.rit.j_()).Jm(t);void 0!==i&&(n=i.jn(0)>=this.Uoi.MS);var r=this.Uoi.ini,e=t>=this.Uoi.MS&&(void 0===r||t<r);(n||e)&&(this.Voi=new So,this.Woi=this.Xoi(this.Uoi,t,this.Voi.f_).catch((function(t){0})))}},i.Xoi=function(t,n,i){var r=this;return xt((function(){var e,u,s,o,a,c,h,f;return zt(this,(function(v){switch(v.label){case 0:return!r.goi&&Ls(t.Jpt,"theo-ads://dai.break")?[3,2]:(u=null!=(e=r.goi)?e:t.Jpt,[4,r.woi.pni(u,i)]);case 1:return v.sent(),[2];case 2:return s=on.Dh(t.Jpt),o=s.searchParams.get("n"),a=s.searchParams.get("k"),(c=Xu({},r.voi)).cust_params=function(t,n){var i="theoads_slot="+function(t){switch(t){case x5.DOUBLE:return"double";case x5.SINGLE:return"single";case x5.LSHAPE_AD:case x5.LSHAPE_CONTENT:return"l-shape"}}(n);if(!t)return i;if(-1===t.indexOf("theoads_slot="))return i.concat("&").concat(t);return t.replace(/theoads_slot=(.*)(&?)/,i)}(c.cust_params,t.rni),o&&o!==r.foi&&a&&a!==r._oi?(r.foi=o,r._oi=a,[4,r.woi.GZ(o,a,c)]):[3,4];case 3:return v.sent(),jo(i),[3,5];case 4:r.woi.updateAdTagParameters(c),v.label=5;case 5:return h=Number(s.searchParams.get("d")),f=g.min(h,r.Uoi.ini-n),[4,r.woi.yni(f,i)];case 6:return v.sent(),[2]}}))}))()},i.Yoi=function(t){var n=this;if(void 0!==this.Uoi&&void 0===this.Hoi){var i,r=this.Uoi.ini;if(t>=this.Uoi.MS&&(void 0===r||t<r))this.Hoi=null==(i=this.Woi)?void 0:i.then((function(){return n.Zoi()}))}},i.Zoi=function(){if(void 0!==this.Uoi){var t=this.Uoi.rni,n=this.qoi(t,this.Uoi.oni);this.Moi(n),this.Coi(),this.Ooi(),this.Hoi=void 0}},i.qoi=function(t,n){switch(t){case x5.DOUBLE:return new G5(this.rit,this.x4t,null!=n?n:this.coi);case x5.LSHAPE_AD:return new W5(this.rit,this.x4t,null!=n?n:this.loi);case x5.LSHAPE_CONTENT:return new V5(this.rit,this.x4t,null!=n?n:this.loi);case x5.SINGLE:default:return new R5(this.rit,this.x4t)}},i.Koi=function(){var t,n,i=null==(t=this.Uoi)?void 0:t.ini;if(void 0!==i&&!(null==(n=this.Loi)?void 0:n.qsi())&&!Pi(this.rit.Q_(),i,.001)){var r=BD.xn(this.x4t.j_()),e=this.x4t.Dg();r.PB().gr(e.end(e.length-1))&&this.rit.F_(i,{lPt:!0})}},i.Q1t=function(){void 0!==this.Uoi&&(this.rit.F_(this.Uoi.ini,{lPt:!0}),this.Moi(new z5(this.rit,this.x4t)),this.zoi(),this.moi(),this.Uoi=void 0)},i.Qri=function(t){this.bni.Qri(t),this.Qoi(this.rit.Q_())},i.Xri=function(t){this.bni.Xri(t)},i.W_=function(){var n;return null!=(n=this.bU)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.vz)?n:t.prototype.X_.call(this)},i.rB=function(t){void 0===this.X_()&&(this.vz=t,this.bU=YA(t),this.Co(new uT(t)))},i.Zg=function(){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return n.foi=void 0,n._oi=void 0,n.goi=void 0,n.vz=void 0,n.bU=void 0,n.Uoi=void 0,n.Joi=!0,n.doi.Nri(n.rit.nt),n.Coi(),n.zoi(),null==(i=n.Oc)||i.fn("Uit",n.poi),null==(r=n.Oc)||r.fn("Qit",n.Aoi),n.ooi(),n.Moi(void 0),[4,n.x4t.Zg()];case 1:return e.sent(),n.Goi(),[4,n.woi.tr()];case 2:return e.sent(),n.Doi(),[4,t.prototype.Zg.call(n)];case 3:return e.sent(),[2]}}))}))()},i.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.Zg().catch(Hn)];case 1:return i.sent(),n.Moi(void 0),n.doi.gn(),[4,n.woi.gn()];case 2:return i.sent(),[4,n.x4t.gn()];case 3:return i.sent(),[4,t.prototype.gn.call(n)];case 4:return i.sent(),[2]}}))}))()},i.nw=function(n){if(void 0!==this.Loi)switch(n.type){case uk.Sm:if(!this.Joi)return!0;this.Joi=!1;break;case dd.jh:case uk.Tm:this.Joi=!0}return t.prototype.nw.call(this,n)},At(n,[{key:"Oc",get:function(){return this.Eoi}},{key:"voi",get:function(){var t,n,i;return null!=(i=null!=(n=this.koi)?n:null==(t=this.uoi)?void 0:t.adTagParameters)?i:{}}}]),n}(e2),A6=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),n.prototype.ga=function(n,i){var r;return void 0!==ro(null!=(r=null==n?void 0:n.ads)?r:[],o6)?K.reject(new Fv(Qv.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.ga.call(this,n,i)},n}(NT);LT((function(t){return t.wd.ads.theoads?new y6(t):new A6(t)}),TT.git),wt(),C(),wt(),C(),Wt(),Ot(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C();var m6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xa=void 0,n}return kt(n,t),At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get casting(){return t.FX},get state(){return t.Wdt},start:function(){t.Kg()},stop:function(){t.Jg()},addEventListener:function(n,i){var r=DA(n,TA);t.yn(r,i)},removeEventListener:function(n,i){var r=DA(n,TA);t.fn(r,i)}}}(this)),this.Xa}}]),n}(Xo),p6=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ja=NI.UNAVAILABLE,e.rhi=new So,e.ihi=function(){var t,n=null==(t=e.KH.Wa())?void 0:t.sources.filter(iD);(null==n?void 0:n.some(pT))?e.Ta(NI.AVAILABLE):e.Ta(NI.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.Qo&&e.Qo.K_?e.nhi():e.Wdt===NI.CONNECTED&&e.uhi()},e.handleAirplayPlayerTimeUpdate=function(t){e.ohi=t.currentTime,e.hhi=e.KH.R_},e._vt=n,e.KH=i,e.shi=r,e.shi.be(),i.tS(r),e.$oi(),e}kt(n,t);var i=n.prototype;return i.$oi=function(){this.thi(),this._vt.yn(dd.lo,this.ihi),this.Ta(NI.AVAILABLE)},i.thi=function(){this.Qo&&this.Qo.fn(dd.Mv,this.handleAirplayChangedEvent),this.ehi?this.Qo=this.KH:this.Qo=this.shi,this.Qo.yn(dd.Mv,this.handleAirplayChangedEvent)},i.nhi=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return t.Qo?t.ehi?[3,2]:(t.ohi=t.KH.U_,t.hhi=t.KH.R_,t.shi.yn(dd.fm,t.handleAirplayPlayerTimeUpdate),t.ahi=t.KH.Uw,t.KH.Uw=t.shi,t.ahi.Hg(),t.ahi.be(),t.shi.ge(),t.shi.og=t.ahi.og,t.shi.gg=t.ahi.gg,t.shi.zg=t.ahi.zg,n=t.shi.k_(dd.$v),t.shi.U_=t.ahi.U_,[4,n]):[2];case 1:return e.sent(),t.shi.Xg(),t.shi.og=t.ahi.og,t.shi.gg=t.ahi.gg,t.shi.zg=t.ahi.zg,[3,5];case 2:return t.Qo.fg?[3,4]:(i=new K((function(t){return a(t,800)})),r=t.Qo.k_(dd.Sh,t.rhi.f_),[4,K.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.Qo.Xg(),e.label=5;case 5:return t.Ta(NI.CONNECTED),[2]}}))}))()},i.uhi=function(){this.ahi?(this.shi.fn(dd.fm,this.handleAirplayPlayerTimeUpdate),this.ahi.og=this.shi.og,this.ahi.gg=this.shi.gg,this.ahi.zg=this.shi.zg,jn.zk&&!jn.Ga&&this.KH.ct===1/0?this.hhi?this.ahi.R_=this.hhi:this.ahi.U_=1/0:this.ahi.U_=this.ohi,this.hhi=void 0,this.ohi=void 0,this.ahi.ge(),this.shi.be(),this.shi.fg||this.ahi.Xg(),this.KH.Uw=this.ahi,this.shi.tr(),this.ahi=void 0):this.Qo&&(this.Qo.U_=this.Qo.U_+1e-4);this.Ta(NI.AVAILABLE)},i.preloadPlayer=function(t){if(jo(t),this.Qo.Sg<ak.Xn){var n=this.Qo.k_(uk.Mm,t);return this.Qo.yg=CD.ZA,n}return K.resolve()},i.Ta=function(t){t!==this.ja&&(this.ja=t,this.Co(new $1(this.ja)))},i.Kg=function(){this._vt.Wg(),this.rhi.g_(),this.rhi=new So,this.ehi?Qo(this.lhi(this.rhi.f_)):Qo(this.dhi(this.rhi.f_))},i.lhi=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.KH.Kg(),[2]}}))}))()},i.dhi=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.shi.tr()];case 1:if(e.sent(),void 0===(i=n.KH.Wa()))throw new v("Not possible to start Airplay without a source");return[4,n.shi.ga(i,t)];case 2:return e.sent(),r=n.shi.k_(uk.Sm,t),n.shi.Xg(),[4,Vo(r,3e3)];case 3:return e.sent(),n.shi.Hg(),jo(t),n.shi.Kg(),[3,5];case 4:return Co(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.Jg=function(){this.Qo.Jg()},i.gn=function(){var t;this.Vo(),this._vt.fn(dd.lo,this.ihi),this.rhi.g_(),this.KH.iS(this.shi),null==(t=this.shi)||t.gn()},At(n,[{key:"FX",get:function(){return this.Wdt===NI.CONNECTED}},{key:"Wdt",get:function(){return this.ja}},{key:"ehi",get:function(){return this.KH.qg()}}]),n}(m6);wt(),C(),mt(),Mt();var _6=function(t){function n(){return t.apply(this,arguments)}kt(n,t);var i=n.prototype;return i.Kg=function(){},i.Jg=function(){},At(n,[{key:"FX",get:function(){return!1}},{key:"Wdt",get:function(){return NI.UNAVAILABLE}}]),n}(m6);wt(),C(),Ot(),mt(),Mt(),Pt();var k6=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).MB=void 0,a.bc=void 0,a.YT=new PT,a.VT=new PT,a.Dl=new UT,a.Us=n,a._hi=new $e(s,o,1,[zA.VA]),a._hi.yU(n),a.fhi=new mT(n,a._hi,i,r,e,u),a.fhi.T_(a.Ds),a.YT.Uw=a.fhi.ht,a.VT.Uw=a.fhi.rt,a.Dl.Uw=a.fhi.nt,a}kt(n,t);var i=n.prototype;return i.iw=function(){this.fhi.iw()},i.F_=function(t,n){this.fhi.F_(t,n)},i.qg=function(){return this.fhi.qg()},i.Kg=function(){this.fhi.Kg()},i.Jg=function(){this.fhi.Jg()},i.Xg=function(){Qo(this.fhi.Xg())},i.Hg=function(){this.fhi.Hg()},i.Zg=function(){return xt((function(){return zt(this,(function(t){return[2]}))}))()},i.Wa=function(){return this.bc},i.ga=function(t,n){var i=this;return xt((function(){var r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:if(jo(n),i.bc=t,JN(t.sources))r=yN({src:""});else for(e=t.sources.filter(iD),u=0;u<e.length;u++)if(pT(s=e[u])){r=s;break}if(!r)throw new v("Unsupported source.");return[4,i.fhi.ga(r,t,n)];case 1:return o.sent(),i.kB(r),[2]}}))}))()},i.kB=function(t){this.MB!==t&&(this.MB=t,this.Co(new kD(t)))},i.Vg=function(){return this.fhi.Vg()},i.C_=function(){return[]},i.Wg=function(){this._hi._U()},i.ur=function(t){pD(this,t)},i.ar=function(){},i.ew=function(t){return!1},i.$g=function(){this.fhi.$g()},i.tr=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.MB=void 0,t.bc=void 0,[4,t.fhi.tr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.fhi.ge()},i.be=function(){this.fhi.be()},i.Gg=function(){return this.fhi.Gg()},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.Vo(),t._hi.gn(),[4,t.fhi.gn()];case 1:return n.sent(),t.YT.gn(),t.VT.gn(),t.Dl.gn(),[2]}}))}))()},At(n,[{key:"ht",get:function(){return this.fhi.ht}},{key:"O_",get:function(){return this.fhi.O_}},{key:"bt",get:function(){return this.MB}},{key:"U_",get:function(){return this.fhi.U_},set:function(t){this.F_(t)}},{key:"R_",get:function(){return this.fhi.R_}},{key:"ct",get:function(){return this.fhi.ct}},{key:"we",get:function(){return this.Us}},{key:"G_",get:function(){return this.fhi.G_}},{key:"lt",get:function(){return this.fhi.lt}},{key:"H_",get:function(){return this.fhi.H_}},{key:"Z_",get:function(){return this.fhi.Z_}},{key:"K_",get:function(){return this.fhi.K_}},{key:"Yg",get:function(){return this.fhi.Yg}},{key:"Qg",get:function(){return this.fhi.Qg}},{key:"eg",get:function(){return this.fhi.eg}},{key:"og",get:function(){return this.fhi.og},set:function(t){this.fhi.og=t}},{key:"cg",get:function(){return this.fhi.cg}},{key:"fg",get:function(){return this.fhi.fg}},{key:"gg",get:function(){return this.fhi.gg},set:function(t){this.fhi.gg=t}},{key:"pg",get:function(){return this.fhi.pg}},{key:"yg",get:function(){return this.fhi.yg},set:function(t){this.fhi.yg=t}},{key:"Sg",get:function(){return this.fhi.Sg}},{key:"Ig",get:function(){return this.fhi.Ig}},{key:"Eg",get:function(){return this.fhi.Eg}},{key:"nt",get:function(){return this.fhi.nt}},{key:"Cg",get:function(){return this.fhi.Cg}},{key:"Rg",get:function(){return this.fhi.Rg}},{key:"rt",get:function(){return this.fhi.rt}},{key:"zg",get:function(){return this.fhi.zg},set:function(t){this.fhi.zg=t}}]),n}(Ho),M6=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new k6(i.Ytt.we,i.Hj,i.wd,i.Qtt,i.Qg,i.Htt,i.Ol);return i.ghi=new p6(Vt(i),i.Ytt,r),i.YF.HX(i.ghi),i.yn(dd.Dv,(function(){i.ghi.thi()})),i}return kt(n,t),n.prototype.gn=function(){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return n.ghi.gn(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(NT);LT((function(t){return on.Ys.jet?new M6(t):(t.YF.HX(new _6),t)}),TT.wit),wt(),C(),wt(),C(),mt();var b6="VPAID",T6=function(){function t(){this.whi=new b4}var n=t.prototype;return n.YU=function(t){return N6(t)},n.f2t=function(n,i,r){return r.ads||(r.ads=tD({})),r.ads.vpaidMode=r.ads.vpaidMode||t.vhi(),this.whi.f2t(n,i,r)},n.W4=function(n,i,r,e){!function(t){if(!N6(t))throw new v("Unknown ad integration: "+t.integration)}(n);var u=t.mhi(n,r.we);this.whi.W4(u,i,r,e)},n.hY=function(t){var n=wA(t);if(!A(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?si('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?si('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?si('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?si('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?si('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?si('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.mhi=function(n,i){return{integration:oI.SPOTX,sources:{src:t.phi(n,iu.location.href,i.offsetWidth,i.offsetHeight,jn.sL)}}},t.phi=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=g.random()),t.Ahi(i)&&(a.content_page_url=i);var c=Xu({},a,n.queryParameters);return c[b6]||c.VPI||(c[b6]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.yhi(c)},t.Ahi=function(t){return Ls(t,"http://")||Ls(t,"https://")},t.yhi=function(t){return G0(t)},t.vhi=function(){return jn.Sk?EN.ENABLED:EN.INSECURE},At(t,[{key:"d2t",get:function(){return this.whi.d2t}}]),t}();function N6(t){return"spotx"===t.integration}wI.lL.GU(new T6),wt(),C(),wt(),C(),wt(),C(),wt(),C();var D6=void 0!==e?e:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},I6=function(){return/Android/i.test(o.userAgent)||/iPhone|iPad|iPod/i.test(o.userAgent)},E6=function(t,n){for(var i=0,r=t.length;i<r;i++)n[i]=t[i]},S6=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},L6=function(){function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}return function(n,i,r){return i&&t(n.prototype,i),r&&t(n,r),n}}(),C6=function(t,i){if(Array.isArray(t))return t;if(n.iterator in l(t))return function(t,i){var r=[],e=!0,u=!1,s=void 0;try{for(var o,a=t[n.iterator]();!(e=(o=a.next()).done)&&(r.push(o.value),!i||r.length!==i);e=!0);}catch(t){u=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(u)throw s}}return r}(t,i);throw new d("Invalid attempt to destructure non-iterable instance")},j6=function(t,n,i){return t+(n-t)*i},x6=function(){var t=/iPad|iPhone|iPod/.test(o.platform);return function(){return t}}(),O6=function(){var t=-1!==o.userAgent.indexOf("Version")&&-1!==o.userAgent.indexOf("Android")&&-1!==o.userAgent.indexOf("Chrome");return function(){return t}}(),z6=(function(){var t=/^((?!chrome|android).)*safari/i.test(o.userAgent)}(),function(){var t=-1!==o.userAgent.indexOf("Firefox")&&-1!==o.userAgent.indexOf("Android");return function(){return t}}()),R6=function(){var t=o.userAgent.match(/.*Chrome\/([0-9]+)/),n=t?w(t[1],10):null;return function(){return n}}(),B6=function(){var t=!1;if(65===R6()){var n=o.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(n){var i=n[1].split("."),r=C6(i,4),e=(r[0],r[1],r[2]),u=r[3];t=3325===w(e,10)&&w(u,10)<148}}return function(){return t}}(),P6=function(){var t=-1!==o.userAgent.indexOf("R7 Build");return function(){return t}}(),U6=function(){var t=90==e.orientation||-90==e.orientation;return P6()?!t:t},Q6=function(){return g.max(e.screen.width,e.screen.height)*e.devicePixelRatio},Y6=function(){return g.min(e.screen.width,e.screen.height)*e.devicePixelRatio},G6=function(){if(u.exitFullscreen)u.exitFullscreen();else if(u.webkitExitFullscreen)u.webkitExitFullscreen();else if(u.mozCancelFullScreen)u.mozCancelFullScreen();else{if(!u.msExitFullscreen)return!1;u.msExitFullscreen()}return!0},F6=function(t,n,i,r){var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,n),t.compileShader(e);var u=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(u,i),t.compileShader(u);var s=t.createProgram();for(var o in t.attachShader(s,e),t.attachShader(s,u),r)t.bindAttribLocation(s,r[o],o);return t.linkProgram(s),t.deleteShader(e),t.deleteShader(u),s},V6=function(t,n){for(var i={},r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),e="",u=0;u<r;u++){i[e=t.getActiveUniform(n,u).name.replace("[0]","")]=t.getUniformLocation(n,e)}return i},W6=function(){var t,n=!1;return t=o.userAgent||o.vendor||e.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0),n},X6=function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return t},Z6=[],H6=function(t){if(x6()){K6(t);var n,i,r=t.style.width,u=t.style.height,s=t.offsetWidth+1,o=t.offsetHeight;t.style.width=s+"px",t.style.height=o+"px";var a=function(){e.cancelAnimationFrame(i);for(var s=0;s<Z6.length;s++)if(Z6[s]===n){t.style.width=r,t.style.height=u,Z6.splice(s,1);break}};n={iit:t,Mhi:a},Z6.push(n),i=e.requestAnimationFrame(a)}},K6=function(t){if(x6())for(var n=0;n<Z6.length;n++)if(Z6[n].iit===t){Z6[n].Mhi();break}},J6=function(){var t=g.PI/180,n=.25*g.PI;var i=new Float32Array([0,0,0,1]),r=new Float32Array([0,0,0]);function e(e,u,s,o,a,c){!function(i,r,e,u){var s=g.tan(r?r.upDegrees*t:n),o=g.tan(r?r.downDegrees*t:n),a=g.tan(r?r.leftDegrees*t:n),c=g.tan(r?r.rightDegrees*t:n),h=2/(a+c),f=2/(s+o);i[0]=h,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=f,i[6]=0,i[7]=0,i[8]=-(a-c)*h*.5,i[9]=(s-o)*f*.5,i[10]=u/(e-u),i[11]=-1,i[12]=0,i[13]=0,i[14]=u*e/(e-u),i[15]=0}(e,o||null,c.depthNear,c.depthFar),function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=r+r,a=e+e,c=u+u,h=r*o,f=r*a,v=r*c,d=e*a,l=e*c,g=u*c,w=s*o,y=s*a,A=s*c;t[0]=1-(d+g),t[1]=f+A,t[2]=v-y,t[3]=0,t[4]=f-A,t[5]=1-(h+g),t[6]=l+w,t[7]=0,t[8]=v+y,t[9]=l-w,t[10]=1-(h+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(u,s.orientation||i,s.position||r),a&&function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],y=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*y+n[12],t[13]=n[1]*g+n[5]*w+n[9]*y+n[13],t[14]=n[2]*g+n[6]*w+n[10]*y+n[14],t[15]=n[3]*g+n[7]*w+n[11]*y+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*y+n[12],t[13]=e*g+a*w+v*y+n[13],t[14]=u*g+c*w+d*y+n[14],t[15]=s*g+h*w+l*y+n[15])}(u,u,a),function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],y=n[15],A=i*o-r*s,m=i*a-e*s,p=i*c-u*s,_=r*a-e*o,k=r*c-u*o,M=e*c-u*a,b=h*g-f*l,T=h*w-v*l,N=h*y-d*l,D=f*w-v*g,I=f*y-d*g,E=v*y-d*w,S=A*E-m*I+p*D+_*N-k*T+M*b;S&&(S=1/S,t[0]=(o*E-a*I+c*D)*S,t[1]=(e*I-r*E-u*D)*S,t[2]=(g*M-w*k+y*_)*S,t[3]=(v*k-f*M-d*_)*S,t[4]=(a*N-s*E-c*T)*S,t[5]=(i*E-e*N+u*T)*S,t[6]=(w*p-l*M-y*m)*S,t[7]=(h*M-v*p+d*m)*S,t[8]=(s*I-o*N+c*b)*S,t[9]=(r*N-i*I-u*b)*S,t[10]=(l*k-g*p+y*A)*S,t[11]=(f*p-h*k-d*A)*S,t[12]=(o*T-s*D-a*b)*S,t[13]=(i*D-r*T+e*b)*S,t[14]=(g*m-l*_-w*A)*S,t[15]=(h*_-f*m+v*A)*S)}(u,u)}return function(t,n,i){return!(!t||!n)&&(t.pose=n,t.timestamp=n.timestamp,e(t.leftProjectionMatrix,t.leftViewMatrix,n,i.bhi("left"),i.Thi("left"),i),e(t.rightProjectionMatrix,t.rightViewMatrix,n,i.bhi("right"),i.Thi("right"),i),!0)}}(),q6=function(t){var n,i=t.indexOf("://");n=-1!==i?i+3:0;var r=t.indexOf("/",n);return-1===r&&(r=t.length),t.substring(0,r)},$6=function(){var t={};return function(n,i){void 0===t[n]&&(console.warn("webvr-polyfill: "+i),t[n]=!0)}}(),t9=function(t,n){$6(t,t+" has been deprecated. This may not work on native WebVR displays. "+(n?"Please use "+n+" instead.":""))};var n9=function(t,n,i){if(n){for(var r=[],e=null,u=0;u<n.length;++u){switch(s=n[u]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}e||(e=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(a),r.push(t.getParameter(s),null);break;case t.ACTIVE_TEXTURE:e=t.getParameter(t.ACTIVE_TEXTURE),r.push(null);break;default:r.push(t.getParameter(s))}}i(t);for(u=0;u<n.length;++u){var s=n[u],o=r[u];switch(s){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,o);break;case t.COLOR_CLEAR_VALUE:t.clearColor(o[0],o[1],o[2],o[3]);break;case t.COLOR_WRITEMASK:t.colorMask(o[0],o[1],o[2],o[3]);break;case t.CURRENT_PROGRAM:t.useProgram(o);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,o);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,o);break;case t.TEXTURE_BINDING_2D:if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_2D,o);break;case t.TEXTURE_BINDING_CUBE_MAP:var a;if((a=n[++u])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_CUBE_MAP,o);break;case t.VIEWPORT:t.viewport(o[0],o[1],o[2],o[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:o?t.enable(s):t.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}e&&t.activeTexture(e)}}else i(t)},i9=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),r9=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function e9(t,n,i,r){this.gl=t,this.cardboardUI=n,this.bufferScale=i,this.dirtySubmitFrameBindings=r,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,x6()||(this.realCanvasWidth=l.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=l.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=F6(t,i9,r9,this.attribs),this.uniforms=V6(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}e9.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},e9.prototype.onResize=function(){var t=this.gl,n=this,i=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];n9(t,i,(function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.framebuffer),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.texImage2D(t.TEXTURE_2D,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,n.bufferWidth,n.bufferHeight,0,n.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.renderTarget,0),n.ctxAttribs.depth&&n.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.depthStencilBuffer)):n.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,n.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n.depthBuffer)):n.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,n.bufferWidth,n.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),n.realClearColor.apply(t,n.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},e9.prototype.patch=function(){if(!this.isPatched){var t=this,n=this.gl.canvas,i=this.gl;x6()||(n.width=Q6()*this.bufferScale,n.height=Y6()*this.bufferScale,l.defineProperty(n,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(i){t.bufferWidth=i,t.realCanvasWidth.set.call(n,i),t.onResize()}}),l.defineProperty(n,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(i){t.bufferHeight=i,t.realCanvasHeight.set.call(n,i),t.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(n,r){t.lastBoundFramebuffer=r||t.framebuffer,t.realBindFramebuffer.call(i,n,t.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!0;break;case i.DEPTH_TEST:t.depthTest=!0;break;case i.BLEND:t.blend=!0;break;case i.SCISSOR_TEST:t.scissorTest=!0;break;case i.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(i,n)},i.disable=function(n){switch(n){case i.CULL_FACE:t.cullFace=!1;break;case i.DEPTH_TEST:t.depthTest=!1;break;case i.BLEND:t.blend=!1;break;case i.SCISSOR_TEST:t.scissorTest=!1;break;case i.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(i,n)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(n,r,e,u){t.colorMask[0]=n,t.colorMask[1]=r,t.colorMask[2]=e,t.colorMask[3]=u,t.realColorMask.call(i,n,r,e,u)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(n,r,e,u){t.clearColor[0]=n,t.clearColor[1]=r,t.clearColor[2]=e,t.clearColor[3]=u,t.realClearColor.call(i,n,r,e,u)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(n,r,e,u){t.viewport[0]=n,t.viewport[1]=r,t.viewport[2]=e,t.viewport[3]=u,t.realViewport.call(i,n,r,e,u)},this.isPatched=!0,H6(n)}},e9.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,n=this.gl.canvas;x6()||(l.defineProperty(n,"width",this.realCanvasWidth),l.defineProperty(n,"height",this.realCanvasHeight)),n.width=this.bufferWidth,n.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,a((function(){H6(n)}),1)}},e9.prototype.setTextureBounds=function(t,n){t||(t=[0,0,.5,1]),n||(n=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=n[0],this.viewportOffsetScale[5]=n[1],this.viewportOffsetScale[6]=n[2],this.viewportOffsetScale[7]=n[3]},e9.prototype.submitFrame=function(){var t=this.gl,n=this,i=[];if(this.dirtySubmitFrameBindings||i.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),n9(t,i,(function(t){n.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),n.cullFace&&n.realDisable.call(t,t.CULL_FACE),n.depthTest&&n.realDisable.call(t,t.DEPTH_TEST),n.blend&&n.realDisable.call(t,t.BLEND),n.scissorTest&&n.realDisable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realDisable.call(t,t.STENCIL_TEST),n.realColorMask.call(t,!0,!0,!0,!0),n.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(n.ctxAttribs.alpha||x6())&&(n.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(n.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.enableVertexAttribArray(n.attribs.position),t.enableVertexAttribArray(n.attribs.texCoord),t.vertexAttribPointer(n.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(n.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(n.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,n.renderTarget),t.uniform4fv(n.uniforms.viewportOffsetScale,n.viewportOffsetScale),t.drawElements(t.TRIANGLES,n.indexCount,t.UNSIGNED_SHORT,0),n.cardboardUI&&n.cardboardUI.renderNoState(),n.realBindFramebuffer.call(n.gl,t.FRAMEBUFFER,n.framebuffer),n.ctxAttribs.preserveDrawingBuffer||(n.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),n.dirtySubmitFrameBindings||n.realBindFramebuffer.call(t,t.FRAMEBUFFER,n.lastBoundFramebuffer),n.cullFace&&n.realEnable.call(t,t.CULL_FACE),n.depthTest&&n.realEnable.call(t,t.DEPTH_TEST),n.blend&&n.realEnable.call(t,t.BLEND),n.scissorTest&&n.realEnable.call(t,t.SCISSOR_TEST),n.stencilTest&&n.realEnable.call(t,t.STENCIL_TEST),n.realColorMask.apply(t,n.colorMask),n.realViewport.apply(t,n.viewport),!n.ctxAttribs.alpha&&n.ctxAttribs.preserveDrawingBuffer||n.realClearColor.apply(t,n.clearColor)})),x6()){var r=t.canvas;r.width==n.bufferWidth&&r.height==n.bufferHeight||(n.bufferWidth=r.width,n.bufferHeight=r.height,n.onResize())}},e9.prototype.updateDeviceInfo=function(t){var n=this.gl,i=this,r=[n.ARRAY_BUFFER_BINDING,n.ELEMENT_ARRAY_BUFFER_BINDING];n9(n,r,(function(n){var r=i.Shi(i.meshWidth,i.meshHeight,t);if(n.bindBuffer(n.ARRAY_BUFFER,i.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,r,n.STATIC_DRAW),!i.indexCount){var e=i.Nhi(i.meshWidth,i.meshHeight);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW),i.indexCount=e.length}}))},e9.prototype.Shi=function(t,n,i){for(var r=new Float32Array(2*t*n*5),e=i.getLeftEyeVisibleTanAngles(),u=i.getLeftEyeNoLensTanAngles(),s=i.getLeftEyeVisibleScreenRect(u),o=0,a=0;a<2;a++){for(var c=0;c<n;c++)for(var h=0;h<t;h++,o++){var f=h/(t-1),v=c/(n-1),d=f,l=v,w=j6(e[0],e[2],f),y=j6(e[3],e[1],v),A=g.sqrt(w*w+y*y),m=i.distortion.distortInverse(A),p=y*m/A;f=(w*m/A-u[0])/(u[2]-u[0]),v=(p-u[3])/(u[1]-u[3]),f=2*(s.x+f*s.width-.5),v=2*(s.y+v*s.height-.5),r[5*o+0]=f,r[5*o+1]=v,r[5*o+2]=d,r[5*o+3]=l,r[5*o+4]=a}var _=e[2]-e[0];e[0]=-(_+e[0]),e[2]=_-e[2],_=u[2]-u[0],u[0]=-(_+u[0]),u[2]=_-u[2],s.x=1-(s.x+s.width)}return r},e9.prototype.Nhi=function(t,n){for(var i=new Uint16Array(2*(t-1)*(n-1)*6),r=t/2,e=n/2,u=0,s=0,o=0;o<2;o++)for(var a=0;a<n;a++)for(var c=0;c<t;c++,u++)0!=c&&0!=a&&(c<=r==a<=e?(i[s++]=u,i[s++]=u-t-1,i[s++]=u-t,i[s++]=u-t-1,i[s++]=u,i[s++]=u-1):(i[s++]=u-1,i[s++]=u-t,i[s++]=u,i[s++]=u-t,i[s++]=u-1,i[s++]=u-t-1));return i},e9.prototype.Ihi=function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(n)},i.set=function(t){this.setAttribute(n,t)}),i};var u9=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),s9=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),o9=g.PI/180,a9=.3125,c9=28;function h9(t){this.gl=t,this.attribs={position:0},this.program=F6(t,u9,s9,this.attribs),this.uniforms=V6(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function f9(t){this.coefficients=t}h9.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},h9.prototype.listen=function(t,n){var i=this.gl.canvas,r="undefined"!=typeof TouchEvent;this.listener=function(e){var u=i.clientWidth/2,s=r&&e instanceof TouchEvent?(e.preventDefault(),e.changedTouches[0]):e;s.clientX>u-42&&s.clientX<u+42&&s.clientY>i.clientHeight-42?(e.preventDefault(),e.stopImmediatePropagation(),t(e)):s.clientX<42&&s.clientY<42&&(e.preventDefault(),e.stopImmediatePropagation(),n(e))},i.addEventListener("click",this.listener,!1),i.addEventListener("touchstart",this.listener,!1)},h9.prototype.onResize=function(){var t=this.gl,n=this,i=[t.ARRAY_BUFFER_BINDING];n9(t,i,(function(t){var i=[],r=t.drawingBufferWidth/2,u=g.max(screen.width,screen.height)*e.devicePixelRatio,s=t.drawingBufferWidth/u*e.devicePixelRatio,o=4*s/2,a=42*s,c=c9*s/2,h=14*s;function f(t,n){var e=(90-t)*o9,u=g.cos(e),s=g.sin(e);i.push(a9*u*c+r,a9*s*c+c),i.push(n*u*c+r,n*s*c+c)}i.push(r-o,a),i.push(r-o,t.drawingBufferHeight),i.push(r+o,a),i.push(r+o,t.drawingBufferHeight),n.gearOffset=i.length/2;for(var v=0;v<=6;v++){var d=60*v;f(d,1),f(d+12,1),f(d+20,.75),f(d+40,.75),f(d+48,1)}function l(n,r){i.push(h+n,t.drawingBufferHeight-h-r)}n.gearVertexCount=i.length/2-n.gearOffset,n.arrowOffset=i.length/2;var w=o/g.sin(45*o9);l(0,c),l(c,0),l(c+w,w),l(w,c+w),l(w,c-w),l(0,c),l(c,2*c),l(c+w,2*c-w),l(w,c-w),l(0,c),l(w,c-o),l(c9*s,c-o),l(w,c+o),l(c9*s,c+o),n.arrowVertexCount=i.length/2-n.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}))},h9.prototype.render=function(){var t=this.gl,n=this,i=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];n9(t,i,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),n.renderNoState()}))},h9.prototype.renderNoState=function(){var t,n,i,r,e,u,s,o,a,c,h=this.gl;h.useProgram(this.program),h.bindBuffer(h.ARRAY_BUFFER,this.vertexBuffer),h.enableVertexAttribArray(this.attribs.position),h.vertexAttribPointer(this.attribs.position,2,h.FLOAT,!1,8,0),h.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,n=0,i=h.drawingBufferWidth,r=0,e=h.drawingBufferHeight,o=1/(n-i),a=1/(r-e),c=1/((u=.1)-(s=1024)),t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+i)*o,t[13]=(e+r)*a,t[14]=(s+u)*c,t[15]=1,h.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),h.drawArrays(h.TRIANGLE_STRIP,0,4),h.drawArrays(h.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),h.drawArrays(h.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},f9.prototype.distortInverse=function(t){for(var n=0,i=1,r=t-this.distort(n);g.abs(i-n)>1e-4;){var e=t-this.distort(i),u=i-e*((i-n)/(e-r));n=i,i=u,r=e}return i},f9.prototype.distort=function(t){for(var n=t*t,i=0,r=0;r<this.coefficients.length;r++)i=n*(i+this.coefficients[r]);return(i+1)*t};var v9=g.PI/180,d9=180/g.PI,l9=function(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0};l9.prototype={constructor:l9,set:function(t,n,i){return this.x=t,this.y=n,this.z=i,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return g.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var n=1/t;this.multiplyScalar(n)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this}};var g9=function(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1};function w9(t){this.width=t.width||Q6(),this.height=t.height||Y6(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}g9.prototype={constructor:g9,set:function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,n,i){var r=g.cos(t/2),e=g.cos(n/2),u=g.cos(i/2),s=g.sin(t/2),o=g.sin(n/2),a=g.sin(i/2);return this.x=s*e*u+r*o*a,this.y=r*o*u-s*e*a,this.z=r*e*a+s*o*u,this.w=r*e*u-s*o*a,this},setFromEulerYXZ:function(t,n,i){var r=g.cos(t/2),e=g.cos(n/2),u=g.cos(i/2),s=g.sin(t/2),o=g.sin(n/2),a=g.sin(i/2);return this.x=s*e*u+r*o*a,this.y=r*o*u-s*e*a,this.z=r*e*a-s*o*u,this.w=r*e*u+s*o*a,this},setFromAxisAngle:function(t,n){var i=n/2,r=g.sin(i);return this.x=t.x*r,this.y=t.y*r,this.z=t.z*r,this.w=g.cos(i),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=g.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,n){if(0===n)return this;if(1===n)return this.copy(t);var i=this.x,r=this.y,e=this.z,u=this.w,s=u*t.w+i*t.x+r*t.y+e*t.z;if(s<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,s=-s):this.copy(t),s>=1)return this.w=u,this.x=i,this.y=r,this.z=e,this;var o=g.acos(s),a=g.sqrt(1-s*s);if(g.abs(a)<.001)return this.w=.5*(u+this.w),this.x=.5*(i+this.x),this.y=.5*(r+this.y),this.z=.5*(e+this.z),this;var c=g.sin((1-n)*o)/a,h=g.sin(n*o)/a;return this.w=u*c+this.w*h,this.x=i*c+this.x*h,this.y=r*c+this.y*h,this.z=e*c+this.z*h,this},setFromUnitVectors:function(){var t,n;return function(i,r){return void 0===t&&(t=new l9),(n=i.dot(r)+1)<1e-6?(n=0,g.abs(i.x)>g.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,r),this.x=t.x,this.y=t.y,this.z=t.z,this.w=n,this.normalize(),this}}()};var y9=new w9({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),A9=new w9({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),m9={CardboardV1:new _9({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new _9({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function p9(t){this.viewer=m9.CardboardV2,this.updateDeviceParams(t),this.distortion=new f9(this.viewer.distortionCoefficients)}function _9(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}p9.prototype.updateDeviceParams=function(t){this.device=this.Dhi(t)||this.device},p9.prototype.getDevice=function(){return this.device},p9.prototype.setViewer=function(t){this.viewer=t,this.distortion=new f9(this.viewer.distortionCoefficients)},p9.prototype.Dhi=function(t){if(!t)return x6()?(console.warn("Using fallback iOS device measurements."),A9):(console.warn("Using fallback Android device measurements."),y9);var n=.0254,i=n/t.xdpi,r=n/t.ydpi;return new w9({widthMeters:i*Q6(),heightMeters:r*Y6(),bevelMeters:.001*t.bevelMm})},p9.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,n=this.device,i=this.distortion,r=t.screenLensDistance,e=(n.widthMeters-t.interLensDistance)/2,u=t.interLensDistance/2,s=t.baselineLensDistance-n.bevelMeters,o=n.heightMeters-s,a=d9*g.atan(i.distort(e/r)),c=d9*g.atan(i.distort(u/r)),h=d9*g.atan(i.distort(s/r)),f=d9*g.atan(i.distort(o/r));return{leftDegrees:g.min(a,t.fov),rightDegrees:g.min(c,t.fov),downDegrees:g.min(h,t.fov),upDegrees:g.min(f,t.fov)}},p9.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,r=g.tan(-v9*t.fov),e=g.tan(v9*t.fov),u=g.tan(v9*t.fov),s=g.tan(-v9*t.fov),o=n.widthMeters/4,a=n.heightMeters/2,c=t.baselineLensDistance-n.bevelMeters-a,h=t.interLensDistance/2-o,f=-c,v=t.screenLensDistance,d=i.distort((h-o)/v),l=i.distort((f+a)/v),w=i.distort((h+o)/v),y=i.distort((f-a)/v),A=new Float32Array(4);return A[0]=g.max(r,d),A[1]=g.min(e,l),A[2]=g.min(u,w),A[3]=g.max(s,y),A},p9.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,n=this.device,i=this.distortion,r=new Float32Array(4),e=i.distortInverse(g.tan(-v9*t.fov)),u=i.distortInverse(g.tan(v9*t.fov)),s=i.distortInverse(g.tan(v9*t.fov)),o=i.distortInverse(g.tan(-v9*t.fov)),a=n.widthMeters/4,c=n.heightMeters/2,h=t.baselineLensDistance-n.bevelMeters-c,f=t.interLensDistance/2-a,v=-h,d=t.screenLensDistance,l=(f-a)/d,w=(v+c)/d,y=(f+a)/d,A=(v-c)/d;return r[0]=g.max(e,l),r[1]=g.min(u,w),r[2]=g.min(s,y),r[3]=g.max(o,A),r},p9.prototype.getLeftEyeVisibleScreenRect=function(t){var n=this.viewer,i=this.device,r=n.screenLensDistance,e=(i.widthMeters-n.interLensDistance)/2,u=n.baselineLensDistance-i.bevelMeters,s=(t[0]*r+e)/i.widthMeters,o=(t[1]*r+u)/i.heightMeters,a=(t[2]*r+e)/i.widthMeters,c=(t[3]*r+u)/i.heightMeters;return{x:s,y:c,width:a-s,height:o-c}},p9.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},p9.prototype.getFieldOfViewRightEye=function(t){var n=this.getFieldOfViewLeftEye(t);return{leftDegrees:n.rightDegrees,rightDegrees:n.leftDegrees,upDegrees:n.upDegrees,downDegrees:n.downDegrees}},p9.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.Ehi();return{leftDegrees:d9*g.atan(t.outerDist),rightDegrees:d9*g.atan(t.innerDist),downDegrees:d9*g.atan(t.bottomDist),upDegrees:d9*g.atan(t.topDist)}},p9.prototype.getUndistortedViewportLeftEye=function(){var t=this.Ehi(),n=this.viewer,i=this.device,r=n.screenLensDistance,e=i.widthMeters/r,u=i.heightMeters/r,s=i.width/e,o=i.height/u,a=g.round((t.eyePosX-t.outerDist)*s),c=g.round((t.eyePosY-t.bottomDist)*o);return{x:a,y:c,width:g.round((t.eyePosX+t.innerDist)*s)-a,height:g.round((t.eyePosY+t.topDist)*o)-c}},p9.prototype.Ehi=function(){var t=this.viewer,n=this.device,i=this.distortion,r=t.screenLensDistance,e=t.interLensDistance/2/r,u=n.widthMeters/r,s=n.heightMeters/r,o=u/2-e,a=(t.baselineLensDistance-n.bevelMeters)/r,c=t.fov,h=i.distortInverse(g.tan(v9*c)),f=g.min(o,h),v=g.min(e,h),d=g.min(a,h);return{outerDist:f,innerDist:v,topDist:g.min(s-a,h),bottomDist:d,eyePosX:o,eyePosY:a}},p9.Viewers=m9;var k9={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function M9(t,n){if(this.dpdb=k9,this.khi(),t){this.onDeviceParamsUpdated=n;var i=new _,r=this;i.open("GET",t,!0),i.addEventListener("load",(function(){r.loading=!1,i.status>=200&&i.status<=299?(r.dpdb=JSON.parse(i.response),r.khi()):console.error("Error loading online DPDB!")})),i.send()}}function b9(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function T9(t,n){this.set(t,n)}function N9(t,n){this.kFilter=t,this.isDebug=n,this.currentAccelMeasurement=new T9,this.currentGyroMeasurement=new T9,this.previousGyroMeasurement=new T9,x6()?this.filterQ=new g9(-1,0,0,1):this.filterQ=new g9(1,0,0,1),this.previousFilterQ=new g9,this.previousFilterQ.copy(this.filterQ),this.accelQ=new g9,this.isOrientationInitialized=!1,this.estimatedGravity=new l9,this.measuredGravity=new l9,this.gyroIntegralQ=new g9}function D9(t,n){this.predictionTimeS=t,this.isDebug=n,this.previousQ=new g9,this.previousTimestampS=null,this.deltaQ=new g9,this.outQ=new g9}function I9(t,n,i,r){this.yawOnly=i,this.accelerometer=new l9,this.gyroscope=new l9,this.filter=new N9(t,r),this.posePredictor=new D9(n,r),this.isFirefoxAndroid=z6(),this.isIOS=x6();var u=R6();this.isDeviceMotionInRadians=!this.isIOS&&u&&u<66,this.isWithoutDeviceMotion=B6(),this.filterToWorldQ=new g9,x6()?this.filterToWorldQ.setFromAxisAngle(new l9(1,0,0),g.PI/2):this.filterToWorldQ.setFromAxisAngle(new l9(1,0,0),-g.PI/2),this.inverseWorldToScreenQ=new g9,this.worldToScreenQ=new g9,this.originalPoseAdjustQ=new g9,this.originalPoseAdjustQ.setFromAxisAngle(new l9(0,0,1),-e.orientation*g.PI/180),this.Lhi(),U6()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new g9,this.xhi=new Float32Array(4),this.start()}M9.prototype.getDeviceParams=function(){return this.deviceParams},M9.prototype.khi=function(){var t=this.Chi();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},M9.prototype.Chi=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var n=o.userAgent||o.vendor||e.opera,i=Q6(),r=Y6();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var u=null,s=1/0,a=0;a<t.devices.length;a++){var c=t.devices[a];if(c.rules)if("ios"==c.type||"android"==c.type){if(x6()==("ios"==c.type)){for(var h=!1,f=0;f<c.rules.length;f++){var v=c.rules[f],d=this.Ohi(v,n,i,r);if(!0===d){s=d,u=c,h=!0;break}!1!==d&&d<s&&(s=d,u=c)}if(h)break}}else console.warn("Device["+a+"] has invalid type.");else console.warn("Device["+a+"] has no rules section.")}return u?new b9({xdpi:u.dpi[0]||u.dpi,ydpi:u.dpi[1]||u.dpi,bevelMm:u.bw}):(console.warn("No DPDB device match."),null)},M9.prototype.Ohi=function(t,n,i,r){if(!t.ua&&!t.res)return!1;if(t.ua&&n.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var e=t.res[0],u=t.res[1],s=g.min(i,r)-g.min(e,u),o=g.max(i,r)-g.max(e,u),a=g.abs(s)+g.abs(o);if(a>0)return a}return!0},T9.prototype.set=function(t,n){this.sample=t,this.timestampS=n},T9.prototype.copy=function(t){this.set(t.sample,t.timestampS)},N9.prototype.addAccelMeasurement=function(t,n){this.currentAccelMeasurement.set(t,n)},N9.prototype.addGyroMeasurement=function(t,n){this.currentGyroMeasurement.set(t,n),function(t){return!(A(t)||t<=.001||t>1)}(n-this.previousGyroMeasurement.timestampS)&&this.jhi(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},N9.prototype.jhi=function(){if(!this.isOrientationInitialized)return this.accelQ=this.Rhi(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,n=this.Phi(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(n),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(n);var i=new g9;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new g9;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",d9*function(t){return t.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*g.acos(t.w)}(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var e=new g9;e.copy(this.filterQ),e.multiply(r),this.filterQ.slerp(e,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},N9.prototype.getOrientation=function(){return this.filterQ},N9.prototype.Rhi=function(t){var n=new l9;n.copy(t),n.normalize();var i=new g9;return i.setFromUnitVectors(new l9(0,0,-1),n),i.inverse(),i},N9.prototype.Phi=function(t,n){var i=new g9,r=new l9;return r.copy(t),r.normalize(),i.setFromAxisAngle(r,t.length()*n),i},D9.prototype.getPrediction=function(t,n,i){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=i,t;var r=new l9;r.copy(n),r.normalize();var e=n.length();if(e<20*v9)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(d9*e).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var u=e*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,u),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=i,this.outQ},I9.prototype.getPosition=function(){return null},I9.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this.zhi)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(n=(new g9).setFromAxisAngle(new l9(0,0,-1),0),i=new g9,-90===e.orientation?i.setFromAxisAngle(new l9(0,1,0),g.PI/-2):i.setFromAxisAngle(new l9(0,1,0),g.PI/2),n.multiply(i)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new g9;return t.setFromAxisAngle(new l9(1,0,0),-g.PI/2),t}(),t=this.zhi,(r=new g9).copy(t),r.multiply(this.deviceOrientationFilterToWorldQ),r.multiply(this.resetQ),r.multiply(this.worldToScreenQ),r.multiplyQuaternions(this.deviceOrientationFixQ,r),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.xhi[0]=r.x,this.xhi[1]=r.y,this.xhi[2]=r.z,this.xhi[3]=r.w,this.xhi;var n,i,r,u=this.filter.getOrientation();return t=this.posePredictor.getPrediction(u,this.gyroscope,this.previousTimestampS),(r=new g9).copy(this.filterToWorldQ),r.multiply(this.resetQ),r.multiply(t),r.multiply(this.worldToScreenQ),this.yawOnly&&(r.x=0,r.z=0,r.normalize()),this.xhi[0]=r.x,this.xhi[1]=r.y,this.xhi[2]=r.z,this.xhi[3]=r.w,this.xhi},I9.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),U6()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},I9.prototype.Bhi=function(t){this.zhi=this.zhi||new g9;var n=t.alpha,i=t.beta,r=t.gamma;n=(n||0)*g.PI/180,i=(i||0)*g.PI/180,r=(r||0)*g.PI/180,this.zhi.setFromEulerYXZ(i,n,-r)},I9.prototype.Uhi=function(t){this.Qhi(t)},I9.prototype.Qhi=function(t){var n=t.accelerationIncludingGravity,i=t.rotationRate,r=t.timeStamp/1e3,e=r-this.previousTimestampS;return e<0?($6("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):e<=.001||e>1?($6("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-n.x,-n.y,-n.z),P6()?this.gyroscope.set(-i.beta,i.alpha,i.gamma):this.gyroscope.set(i.alpha,i.beta,i.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(g.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},I9.prototype.Fhi=function(t){this.Lhi()},I9.prototype.hO=function(t){var n=t.data;n&&n.type&&("devicemotion"===n.type.toLowerCase()&&this.Qhi(n.deviceMotionEvent))},I9.prototype.Lhi=function(){switch(this.worldToScreenQ.set(0,0,0,1),e.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new l9(0,0,1),-g.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new l9(0,0,1),g.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},I9.prototype.start=function(){var t,n,i;this.Yhi=this.Uhi.bind(this),this.Ghi=this.Fhi.bind(this),this.Vhi=this.hO.bind(this),this.Whi=this.Bhi.bind(this),x6()&&(t=e.self!==e.top,n=q6(u.referrer),i=q6(e.location.href),t&&n!==i)&&e.addEventListener("message",this.Vhi),e.addEventListener("orientationchange",this.Ghi),this.isWithoutDeviceMotion?e.addEventListener("deviceorientation",this.Whi):e.addEventListener("devicemotion",this.Yhi)},I9.prototype.stop=function(){e.removeEventListener("devicemotion",this.Yhi),e.removeEventListener("deviceorientation",this.Whi),e.removeEventListener("orientationchange",this.Ghi),e.removeEventListener("message",this.Vhi)};var E9=new l9(1,0,0),S9=new l9(0,0,1),L9={};screen.orientation?L9=screen.orientation:screen.msOrientation?L9=screen.msOrientation:l.defineProperty(L9,"angle",{get:function(){return e.orientation||0}});var C9=new g9;C9.setFromAxisAngle(E9,-g.PI/2),C9.multiply((new g9).setFromAxisAngle(S9,g.PI/2));var j9=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}(this,t),this.config=n,this.sensor=null,this.fusionSensor=null,this.Hhi=new Float32Array(4),this.api=null,this.errors=[],this.Xhi=new g9,this.Zhi=new g9,this.qhi=new g9,this.Khi=this.Khi.bind(this),this.Jhi=this.Jhi.bind(this),this.$hi=this.$hi.bind(this),this.$hi(),this.init()}return L6(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this.Jhi)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this.Khi),this.sensor.start()),e.addEventListener("orientationchange",this.$hi)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new I9(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this.Hhi[0]=this.Hhi[1]=this.Hhi[2]=0,this.Hhi[3]=1,this.Hhi;var t=this.sensor.quaternion;this.Xhi.set(t[0],t[1],t[2],t[3]);var n=this.qhi;return n.copy(C9),n.multiply(this.Xhi),n.multiply(this.Zhi),this.config.YAW_ONLY&&(n.x=n.z=0,n.normalize()),this.Hhi[0]=n.x,this.Hhi[1]=n.y,this.Hhi[2]=n.z,this.Hhi[3]=n.w,this.Hhi}},{key:"Jhi",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error)}},{key:"Khi",value:function(){}},{key:"$hi",value:function(){var t=-L9.angle*g.PI/180;this.Zhi.setFromAxisAngle(S9,t)}}]),t}();function x9(){this.tai();var t=u.createElement("div");(s=t.style).position="fixed",s.top=0,s.right=0,s.bottom=0,s.left=0,s.backgroundColor="gray",s.fontFamily="sans-serif",s.zIndex=1e6;var n=u.createElement("img");n.src=this.icon,(s=n.style).marginLeft="25%",s.marginTop="25%",s.width="50%",t.appendChild(n);var i=u.createElement("div");(s=i.style).textAlign="center",s.fontSize="16px",s.lineHeight="24px",s.margin="24px 25%",s.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(i);var r=u.createElement("div");(s=r.style).backgroundColor="#CFD8DC",s.position="fixed",s.bottom=0,s.width="100%",s.height="48px",s.padding="14px 24px",s.boxSizing="border-box",s.color="#656A6B",t.appendChild(r);var e=u.createElement("div");e.style.float="left",e.innerHTML="No Cardboard viewer?";var s,o=u.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="Du",(s=o.style).float="right",s.fontWeight=600,s.textTransform="uppercase",s.borderLeft="1px solid gray",s.paddingLeft="24px",s.textDecoration="none",s.color="#656A6B",r.appendChild(e),r.appendChild(o),this.overlay=t,this.text=i,this.hide()}x9.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):u.body.appendChild(this.overlay),this.overlay.style.display="block";var n=this.overlay.querySelector("img").style;U6()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},x9.prototype.hide=function(){this.overlay.style.display="none"},x9.prototype.showTemporarily=function(t,n){this.show(n),this.timer=a(this.hide.bind(this),t)},x9.prototype.disableShowTemporarily=function(){c(this.timer)},x9.prototype.update=function(){this.disableShowTemporarily(),!U6()&&W6()?this.show():this.hide()},x9.prototype.tai=function(){this.icon="data:"+"image/svg+xml"+";base64,"+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var O9="CardboardV1",z9="WEBVR_CARDBOARD_VIEWER";function R9(){try{this.selectedKey=localStorage.getItem(z9)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=O9),this.dialog=this.iai(p9.Viewers),this.root=null,this.eai=[]}R9.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},R9.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},R9.prototype.getCurrentViewer=function(){return p9.Viewers[this.selectedKey]},R9.prototype.sai=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},R9.prototype.onChange=function(t){this.eai.push(t)},R9.prototype.nai=function(t){for(var n=0;n<this.eai.length;n++)this.eai[n](t)},R9.prototype.rai=function(){if(this.selectedKey=this.sai(),this.selectedKey&&p9.Viewers[this.selectedKey]){this.nai(p9.Viewers[this.selectedKey]);try{localStorage.setItem(z9,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},R9.prototype.iai=function(t){var n=u.createElement("div");n.classList.add("webvr-polyfill-viewer-selector"),n.style.display="none";var i=u.createElement("div");(e=i.style).position="fixed",e.left=0,e.top=0,e.width="100%",e.height="100%",e.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var r=u.createElement("div"),e=r.style;for(var s in e.boxSizing="border-box",e.position="fixed",e.top="24px",e.left="50%",e.marginLeft="-140px",e.width="280px",e.padding="24px",e.overflow="hidden",e.background="#fafafa",e.fontFamily="'Roboto', sans-serif",e.boxShadow="0px 5px 20px #666",r.appendChild(this.oai("Select your viewer")),t)r.appendChild(this.hai(s,t[s].label));return r.appendChild(this.aai("Save",this.rai.bind(this))),n.appendChild(i),n.appendChild(r),n},R9.prototype.oai=function(t){var n=u.createElement("h1"),i=n.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",n.innerHTML=t,n},R9.prototype.hai=function(t,n){var i=u.createElement("div");i.style.marginTop="8px",i.style.color="black";var r=u.createElement("input");r.style.fontSize="30px",r.setAttribute("id",t),r.setAttribute("type","radio"),r.setAttribute("value",t),r.setAttribute("name","field");var e=u.createElement("label");return e.style.marginLeft="4px",e.setAttribute("for",t),e.innerHTML=n,i.appendChild(r),i.appendChild(e),i},R9.prototype.aai=function(t,n){var i=u.createElement("button");i.innerHTML=t;var r=i.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",i.addEventListener("click",n),i};void 0!==e||("undefined"!=typeof global?global:"undefined"!=typeof self&&self);var B9=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){var i;i=function(){return function(t){var n={};function i(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=t,i.c=n,i.d=function(t,n,r){i.o(t,n)||l.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return l.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=0)}([function(t,n,i){var r=function(){function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}return function(n,i,r){return i&&t(n.prototype,i),r&&t(n,r),n}}(),s=i(1),a=void 0!==o&&y((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(o.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!e.MSStream,c=function(){function t(){!function(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}(this,t),a?this.noSleepTimer=null:(this.noSleepVideo=u.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",s),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=g.random())}.bind(this)))}return r(t,[{key:"enable",value:function(){a?(this.disable(),this.noSleepTimer=e.setInterval((function(){e.location.href="/",e.setTimeout(e.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){a?this.noSleepTimer&&(e.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=c},function(t,n,i){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=i()})),P9=function(t){return t&&t.__esModule?t.default:t}(B9),U9=1e3,Q9=[0,0,.5,1],Y9=[.5,0,.5,1],G9=e.requestAnimationFrame,F9=e.cancelAnimationFrame;function V9(t){l.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return t9("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function W9(t){var n=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=U9++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,l.defineProperty(this,"isConnected",{get:function(){return t9("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new V9({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.uai=!1,this.yM=null,this.cai=null,this.vV=null,this.eit=null,this.lai=null,this.fai=null,this._ai=null,this.gai=null,n&&W6()&&(this.wai=new P9)}W9.prototype.getFrameData=function(t){return J6(t,this.vai(),this)},W9.prototype.getPose=function(){return t9("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this.vai()},W9.prototype.resetPose=function(){return t9("VRDisplay.prototype.resetPose"),this.mai()},W9.prototype.getImmediatePose=function(){return t9("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this.vai()},W9.prototype.requestAnimationFrame=function(t){return G9(t)},W9.prototype.cancelAnimationFrame=function(t){return F9(t)},W9.prototype.wrapForFullscreen=function(t){if(x6())return t;if(!this.eit){this.eit=u.createElement("div");var n=["height: "+g.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.eit.setAttribute("style",n.join("; ")+";"),this.eit.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.vV==t)return this.eit;if(this.vV&&(this.cai?this.cai.appendChild(this.vV):this.vV.parentElement.removeChild(this.vV)),this.vV=t,this.cai=t.parentElement,this.cai||u.body.appendChild(t),!this.eit.parentElement){var i=this.vV.parentElement;i.insertBefore(this.eit,this.vV),i.removeChild(this.vV)}this.eit.insertBefore(this.vV,this.eit.firstChild),this.lai=this.vV.getAttribute("style");var r=this;return function(){if(r.vV){var t=["position: absolute","top: 0","left: 0","width: "+g.max(screen.width,screen.height)+"px","height: "+g.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.vV.setAttribute("style",t.join("; ")+";")}}(),this.eit},W9.prototype.removeFullscreenWrapper=function(){if(this.vV){var t=this.vV;this.lai?t.setAttribute("style",this.lai):t.removeAttribute("style"),this.vV=null,this.lai=null;var n=this.eit.parentElement;return this.eit.removeChild(t),this.cai===n?n.insertBefore(t,this.eit):this.cai&&this.cai.appendChild(t),n.removeChild(this.eit),t}},W9.prototype.requestPresent=function(t){var n=this.isPresenting,i=this;return t instanceof Array||(t9("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new K((function(r,e){if(i.capabilities.canPresent)if(0==t.length||t.length>i.capabilities.maxLayers)e(new v("Invalid number of layers."));else{var s=t[0];if(s.source){var o=s.leftBounds||Q9,a=s.rightBounds||Y9;if(n){var c=i.yM;c.source!==s.source&&(c.source=s.source);for(var h=0;h<4;h++)c.leftBounds[h]=o[h],c.rightBounds[h]=a[h];return i.wrapForFullscreen(i.yM.source),i.pai(),void r()}if(i.yM={predistorted:s.predistorted,source:s.source,leftBounds:o.slice(0),rightBounds:a.slice(0)},i.uai=!1,i.yM&&i.yM.source){var f=i.wrapForFullscreen(i.yM.source);i.Aai(f,(function(){var t=u.fullscreenElement||u.webkitFullscreenElement||u.mozFullScreenElement||u.msFullscreenElement;i.isPresenting=f===t,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),i.uai=!1,i.yai(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.disableWakeLock(),i.Mai(),i.removeFullscreenWrapper(),i.bai()),i.Tai()}),(function(){i.uai&&(i.removeFullscreenWrapper(),i.bai(),i.disableWakeLock(),i.uai=!1,i.isPresenting=!1,e(new v("Unable to present.")))})),!function(t){if(u.fullscreenEnabled&&t.requestFullscreen)t.requestFullscreen();else if(u.webkitFullscreenEnabled&&t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(u.mozFullScreenEnabled&&t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!u.msFullscreenEnabled||!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(f)?(x6()||O6())&&(i.enableWakeLock(),i.isPresenting=!0,i.yai(),i.Tai(),r()):(i.enableWakeLock(),i.uai=!0)}i.uai||x6()||(G6(),e(new v("Unable to present.")))}else r()}else e(new v("VRDisplay is not capable of presenting."))}))},W9.prototype.exitPresent=function(){var t=this.isPresenting,n=this;return this.isPresenting=!1,this.yM=null,this.disableWakeLock(),new K((function(i,r){t?(G6(),n.Mai(),n.removeFullscreenWrapper(),n.bai(),n.Tai(),i()):r(new v("Was not presenting to VRDisplay."))}))},W9.prototype.getLayers=function(){return this.yM?[this.yM]:[]},W9.prototype.Tai=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});e.dispatchEvent(t)},W9.prototype.Sai=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});e.dispatchEvent(t)},W9.prototype.Aai=function(t,n,i){this.bai(),this.fai=t,this._ai=n,this.gai=i,n&&(u.fullscreenEnabled?t.addEventListener("fullscreenchange",n,!1):u.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",n,!1):u.mozFullScreenEnabled?u.addEventListener("mozfullscreenchange",n,!1):u.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",n,!1)),i&&(u.fullscreenEnabled?t.addEventListener("fullscreenerror",i,!1):u.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",i,!1):u.mozFullScreenEnabled?u.addEventListener("mozfullscreenerror",i,!1):u.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",i,!1))},W9.prototype.bai=function(){if(this.fai){var t=this.fai;if(this._ai){var n=this._ai;t.removeEventListener("fullscreenchange",n,!1),t.removeEventListener("webkitfullscreenchange",n,!1),u.removeEventListener("mozfullscreenchange",n,!1),t.removeEventListener("msfullscreenchange",n,!1)}if(this.gai){var i=this.gai;t.removeEventListener("fullscreenerror",i,!1),t.removeEventListener("webkitfullscreenerror",i,!1),u.removeEventListener("mozfullscreenerror",i,!1),t.removeEventListener("msfullscreenerror",i,!1)}this.fai=null,this._ai=null,this.gai=null}},W9.prototype.enableWakeLock=function(){this.wai&&this.wai.enable()},W9.prototype.disableWakeLock=function(){this.wai&&this.wai.disable()},W9.prototype.yai=function(){},W9.prototype.Mai=function(){},W9.prototype.submitFrame=function(t){},W9.prototype.getEyeParameters=function(t){return null};var X9={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},Z9="left",H9="right";function K9(t){var n=X6({},X9);t=X6(n,t||{}),W9.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new V9({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.Nai=this.config.BUFFER_SCALE,this.Iai=new j9(this.config),this.Dai=null,this.Eai=null,this.iit=null,this.kai=null,this.Lai=new M9(this.config.DPDB_URL,this.xai.bind(this)),this.Cai=new p9(this.Lai.getDeviceParams()),this.Oai=new R9,this.Oai.onChange(this.jai.bind(this)),this.Cai.setViewer(this.Oai.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.Rai=new x9),x6()&&e.addEventListener("resize",this.eV.bind(this))}K9.prototype=l.create(W9.prototype),K9.prototype.vai=function(){return{position:null,orientation:this.Iai.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},K9.prototype.mai=function(){this.Iai.resetPose&&this.Iai.resetPose()},K9.prototype.bhi=function(t){var n;if(t==Z9)n=this.Cai.getFieldOfViewLeftEye();else{if(t!=H9)return console.error("Invalid eye provided: %s",t),null;n=this.Cai.getFieldOfViewRightEye()}return n},K9.prototype.Thi=function(t){var n;if(t==Z9)n=[.5*-this.Cai.viewer.interLensDistance,0,0];else{if(t!=H9)return console.error("Invalid eye provided: %s",t),null;n=[.5*this.Cai.viewer.interLensDistance,0,0]}return n},K9.prototype.getEyeParameters=function(t){var n=this.Thi(t),i=this.bhi(t),r={offset:n,renderWidth:.5*this.Cai.device.width*this.Nai,renderHeight:this.Cai.device.height*this.Nai};return l.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return t9("VRFieldOfView","VRFrameData's projection matrices"),i}}),r},K9.prototype.xai=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.Cai.updateDeviceParams(t),this.Dai&&this.Dai.updateDeviceInfo(this.Cai)},K9.prototype.Pai=function(){this.yM&&this.Dai&&(this.yM.leftBounds||this.yM.rightBounds)&&this.Dai.setTextureBounds(this.yM.leftBounds,this.yM.rightBounds)},K9.prototype.yai=function(){var t=this.yM.source.getContext("webgl");if(t||(t=this.yM.source.getContext("experimental-webgl")),t||(t=this.yM.source.getContext("webgl2")),t){if(this.iit=t.canvas,this.kai=t.canvas.getAttribute("style"),this.yM.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=Q6()*this.Nai,t.canvas.height=Y6()*this.Nai,this.Eai=new h9(t)):(this.config.CARDBOARD_UI_DISABLED||(this.Eai=new h9(t)),this.Dai=new e9(t,this.Eai,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.Dai.updateDeviceInfo(this.Cai)),this.Eai&&this.Eai.listen(function(t){this.Oai.show(this.yM.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.Rai){var n=this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT;U6()&&W6()&&n?this.Rai.showTemporarily(n,this.yM.source.parentElement):this.Rai.update()}this.orientationHandler=this.Fhi.bind(this),e.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.Pai.bind(this),e.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.eV(),this.zai()}},K9.prototype.Mai=function(){this.Dai&&(this.Dai.destroy(),this.Dai=null),this.Eai&&(this.Eai.destroy(),this.Eai=null),this.Rai&&this.Rai.hide(),this.Oai.hide(),this.iit&&(K6(this.iit),this.kai?this.iit.setAttribute("style",this.kai):this.iit.removeAttribute("style"),H6(this.iit),this.iit=null,this.kai=null),e.removeEventListener("orientationchange",this.orientationHandler),e.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},K9.prototype.pai=function(){this.Mai(),this.yai()},K9.prototype.submitFrame=function(t){if(this.Dai)this.Pai(),this.Dai.submitFrame();else if(this.Eai&&this.yM){var n=this.yM.source.getContext("webgl").canvas;n.width==this.lastWidth&&n.height==this.lastHeight||this.Eai.onResize(),this.lastWidth=n.width,this.lastHeight=n.height,this.Eai.render()}},K9.prototype.Fhi=function(t){this.Oai.hide(),this.Rai&&this.Rai.update(),this.eV()},K9.prototype.eV=function(t){if(this.yM){var n=this.yM.source.getContext("webgl");K6(n.canvas);n.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),H6(n.canvas)}},K9.prototype.jai=function(t){this.Cai.setViewer(t),this.Dai&&this.Dai.updateDeviceInfo(this.Cai),this.zai()},K9.prototype.zai=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.Cai}});e.dispatchEvent(t)},K9.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},K9.VRDisplay=W9;var J9={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function q9(t){this.config=S6(S6({},J9),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in o,this.native={},this.native.getVRDisplays=o.getVRDisplays,this.native.VRFrameData=e.VRFrameData,this.native.VRDisplay=e.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&I6())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].Sai&&t[0].Sai()})))}q9.prototype.getPolyfillDisplays=function(){if(this.Bai)return this.polyfillDisplays;if(I6()){var t=new K9({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this.Bai=!0,this.polyfillDisplays},q9.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,n=new this.native.VRFrameData,i=this.native.VRDisplay.prototype.getFrameData;e.VRDisplay.prototype.getFrameData=function(r){r instanceof t?i.call(this,r):(i.call(this,n),r.pose=n.pose,E6(n.leftProjectionMatrix,r.leftProjectionMatrix),E6(n.rightProjectionMatrix,r.rightProjectionMatrix),E6(n.leftViewMatrix,r.leftViewMatrix),E6(n.rightViewMatrix,r.rightViewMatrix))}}o.getVRDisplays=this.getVRDisplays.bind(this),e.VRDisplay=K9.VRDisplay,e.VRFrameData=K9.VRFrameData},q9.prototype.getVRDisplays=function(){var t,n=this,i=this.config;return this.hasNative?function(t){return K.race?K.race(t):new K((function(n,i){for(var r=0;r<t.length;r++)t[r].then(n,i)}))}([this.native.getVRDisplays.call(o),new K((function(n){t=a((function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),n([])}),i.GET_VR_DISPLAYS_TIMEOUT)}))]).then((function(i){return c(t),i.length>0?i:n.getPolyfillDisplays()})):K.resolve(this.getPolyfillDisplays())},q9.version="0.10.5-opentelly.3",q9.VRFrameData=K9.VRFrameData,q9.VRDisplay=K9.VRDisplay;var $9=l.freeze({default:q9}),t8=$9&&q9||$9;void 0!==D6&&D6.window&&(D6.document||(D6.document=D6.window.document),D6.navigator||(D6.navigator=D6.window.navigator));new t8({TOUCH_PANNER_DISABLED:!0,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:0,MOBILE_WAKE_LOCK:!jn.sL&&!jn.Ga,DPDB_URL:void 0});wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),wt(),C();var n8=function(){function t(t){this.Wai=null,this.qai=null,this.Zai=!0,this.Fai=null,this.Yai=null,this.Qai=t,this.Gai=t.createProgram()}var n=t.prototype;return n.Uai=function(t,n){var i,r=this.Qai;switch(n){case r.VERTEX_SHADER:i=r.createShader(n),this.Fai=i;break;case r.FRAGMENT_SHADER:i=r.createShader(n),this.Yai=i;break;default:return void console.error("Invalid Shader Type:",n)}r.attachShader(this.Gai,i),r.shaderSource(i,t),r.compileShader(i)},n.Vai=function(t){var n=this.Qai;if(t)for(var i in this.Wai={},t)n.bindAttribLocation(this.Gai,t[i],i),this.Wai[i]=t[i]},n.Hai=function(){this.Qai.linkProgram(this.Gai)},n.Xai=function(){var t=this.Qai;if(this.Zai){if(t.getProgramParameter(this.Gai,t.LINK_STATUS)){if(!this.Wai){this.Wai={};for(var n=t.getProgramParameter(this.Gai,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var r=t.getActiveAttrib(this.Gai,i);this.Wai[r.name]=t.getAttribLocation(this.Gai,r.name)}}this.qai={};for(var e=t.getProgramParameter(this.Gai,t.ACTIVE_UNIFORMS),u="",s=0;s<e;s++){u=t.getActiveUniform(this.Gai,s).name.replace("[0]",""),this.qai[u]=t.getUniformLocation(this.Gai,u)}}else this.Fai&&!t.getShaderParameter(this.Fai,t.COMPILE_STATUS)?console.error("Vertex shader compile error:",t.getShaderInfoLog(this.Fai)):this.Yai&&!t.getShaderParameter(this.Yai,t.COMPILE_STATUS)?console.error("Fragment shader compile error:",t.getShaderInfoLog(this.Yai)):console.error("Program link error:",t.getProgramInfoLog(this.Gai)),t.deleteProgram(this.Gai),this.Gai=null;t.deleteShader(this.Fai),t.deleteShader(this.Yai),this.Zai=!1}t.useProgram(this.Gai)},t}(),i8=function(){function t(t,n,i){this.tui=!1,this.Qai=t,this.iui=t.createTexture();var r=["uniform mat4 projectionMat;","uniform mat4 modelViewMat;","attribute vec3 position;","attribute vec2 texCoord;","varying vec2 vTexCoord;","void main() {","  vTexCoord = texCoord;","  gl_Position = projectionMat * modelViewMat * vec4( position, 1.0 );","}"].join("\n"),e=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");this.Gai=new n8(t),this.Gai.Uai(r,t.VERTEX_SHADER),this.Gai.Uai(e,t.FRAGMENT_SHADER),this.Gai.Vai({position:0,texCoord:1}),this.Gai.Hai();for(var u=[],s=[],o=[],a=40,c=0;c<=40;++c)for(var h=c*g.PI/40,f=g.sin(h),v=g.cos(h),d=0;d<=a;++d){var l=2*d*g.PI/a-g.PI,w=g.sin(l)*f,y=v,A=-g.cos(l)*f,m=d/a,p=c/40;switch(i){case"horizontal":u.push(2*w,2*y,2*A,m/2,p),s.push(2*w,2*y,2*A,m/2+.5,p);break;case"vertical":u.push(2*w,2*y,2*A,m,p/2),s.push(2*w,2*y,2*A,m,p/2+.5);break;default:u.push(2*w,2*y,2*A,m,p)}}for(var _=0;_<40;++_)for(var k=41*_,M=41*(_+1),b=0;b<a;++b){var T=k+b,N=M+b;o.push(T,N,T+1,N,N+1,T+1)}switch(this.sui=t.createBuffer(),this.eui=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.sui),t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.eui),i){case"horizontal":case"vertical":t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(u),t.STATIC_DRAW)}this.nui=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.nui),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),t.STATIC_DRAW),this.Jai=o.length,this.t=n}var n=t.prototype;return n.pr=function(t,n,i){var r=this.Qai;this.Kai(t,n,r,i),this.t.fg||this.t.iit.zG(r,r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE),r.drawElements(r.TRIANGLES,this.Jai,r.UNSIGNED_SHORT,0)},n.$ai=function(t){this.tui||(t.bindTexture(t.TEXTURE_2D,this.iui),this.t.iit.zG(t,t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.tui=!0)},n.Kai=function(t,n,i,r){var e=this.Gai;e.Xai(),this.$ai(i);var u,s=e.qai,o=e.Wai;i.uniformMatrix4fv(s.projectionMat,!1,t),i.uniformMatrix4fv(s.modelViewMat,!1,n),u="right"===r?this.eui:this.sui,i.bindBuffer(i.ARRAY_BUFFER,u),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.nui),i.enableVertexAttribArray(o.position),i.enableVertexAttribArray(o.texCoord),i.vertexAttribPointer(o.position,3,i.FLOAT,!1,20,0),i.vertexAttribPointer(o.texCoord,2,i.FLOAT,!1,20,12),i.activeTexture(i.TEXTURE0),i.uniform1i(s.diffuse,0),i.bindTexture(i.TEXTURE_2D,this.iui)},t}();wt(),C(),Mt();var r8=function(t){function n(){return t.call(this,"rui")}return kt(n,t),n.prototype.fa=function(){return new e8},n}(iA),e8=function(t){function n(){return t.call(this,"stereochange")}return kt(n,t),n}(Jo);wt(),C(),Mt();var u8=function(t){function n(){return t.call(this,"oui")}return kt(n,t),n.prototype.fa=function(){return new s8},n}(iA),s8=function(t){function n(){return t.call(this,"directionchange")}return kt(n,t),n}(Jo);wt(),C(),mt(),wt(),C();var o8=g.PI/180,a8=180/g.PI,c8=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.EP=function(t,n){return this.x=t,this.y=n,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this},n.hui=function(t){return this.EP(t[0],t[1])},n.aui=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.uui=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),h8=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.EP=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.hui=function(t){return this.EP(t[0],t[1],t[2])},n.aui=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.U=function(){return g.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.cui=function(){var t=this.U();if(0!==t){var n=1/t;this.lui(n)}else this.x=0,this.y=0,this.z=0;return this},n.lui=function(t){this.x*=t,this.y*=t,this.z*=t},n.dui=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.fui=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n._ui=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),f8=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.EP=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.Ift=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.hui=function(t){return this.EP(t[0],t[1],t[2],t[3])},n.aui=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.fui=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.zN=function(t){return this.gui(this,t)},n.gui=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.wui=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.cui(),this},n.vui=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*g.atan2(r,s),n=g.PI/2,i=0;else if(o<-.499)t=-2*g.atan2(r,s),n=-g.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=g.atan2(2*e*s-2*r*u,1-2*c-2*h),n=g.asin(2*o),i=g.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new v8(t,i,n)},n.cui=function(){var t=g.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),v8=function(){function t(t,n,i){this.mui=t||0,this.pui=n||0,this.Aui=i||0}var n=t.prototype;return n.EP=function(t,n,i){return this.mui=t,this.pui=n,this.Aui=i,this},n.Ift=function(t){return this.EP(t.mui,t.pui,t.Aui)},n.nS=function(t){return this.mui+=t.mui,this.pui+=t.pui,this.Aui+=t.Aui,this},n.yui=function(){var t=this.mui,n=this.Aui,i=this.pui,r=g.cos(t/2),e=g.cos(n/2),u=g.cos(i/2),s=g.sin(t/2),o=g.sin(n/2),a=g.sin(i/2),c=r*e,h=s*o;return new f8(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}(),d8=.15,l8=function(){function t(t){var n=this;this.Rt=!1,this.jui=0,this.Oui=0,this.Rui=0,this.Lui=null,this.Gui=new c8,this.Vui=new c8,this.Qui=new c8,this.kui=!1,this.Mui=function(t){38===t.keyCode?n.Bui(n.jui+d8):39===t.keyCode?n.Pui(n.Oui-d8):40===t.keyCode?n.Bui(n.jui-d8):37===t.keyCode&&n.Pui(n.Oui+d8)},this.bui=function(t){n.Gui.EP(t.clientX,t.clientY),n.kui=!0,t.preventDefault()},this.Tui=function(t){t.touches&&1===t.touches.length&&(n.Gui.EP(t.touches[0].pageX,t.touches[0].pageY),n.kui=!0,t.preventDefault())},this.er=function(t){if(n.kui||n.Yui()){if(n.Yui()){var i=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;n.Vui.EP(n.Gui.x-i,n.Gui.y-r)}else n.Vui.EP(t.clientX,t.clientY);n.Qui.uui(n.Vui,n.Gui),n.Gui.Ift(n.Vui),n.Uui()}},this.Iui=function(t){n.kui&&(n.Vui.EP(t.touches[0].pageX,t.touches[0].pageY),n.Qui.uui(n.Vui,n.Gui),n.Gui.Ift(n.Vui),n.Uui())},this.Sui=function(t){n.Fui()},this.Dui=function(t){n.Fui()},this.Eui=function(t){n.Fui()},this.we=t}var n=t.prototype;return n.MD=function(){this.Rt||(this.Rt=!0,this.we.addEventListener("keydown",this.Mui),this.we.addEventListener("mousedown",this.bui),this.we.addEventListener("touchstart",this.Tui),e.addEventListener("mousemove",this.er),e.addEventListener("mouseup",this.Sui),this.Nui(e),e.addEventListener("touchmove",this.Iui),e.addEventListener("touchend",this.Dui))},n.Nui=function(t){if(mu(t));else if(pu(t))try{t.parent.addEventListener("mouseup",this.Sui),this.Nui(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Eui)}},n.bD=function(){this.Rt&&(this.Rt=!1,this.kui=!1,this.Lui&&(HE(this.Lui),this.Lui=null),this.we.removeEventListener("keydown",this.Mui),this.we.removeEventListener("mousedown",this.bui),this.we.removeEventListener("touchstart",this.Tui),e.removeEventListener("mousemove",this.er),e.removeEventListener("mouseup",this.Sui),this.xui(e),e.removeEventListener("touchmove",this.Iui),e.removeEventListener("touchend",this.Dui))},n.xui=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Eui),pu(t))try{t.parent.removeEventListener("mouseup",this.Sui),this.xui(t.parent)}catch(t){}},n.Pui=function(t){this.zui("Oui",t)},n.Bui=function(t){t=Bi(t,-g.PI/2,g.PI/2),this.zui("jui",t)},n.zui=function(t,n){var i=this;this.Lui&&HE(this.Lui);var r=this[t],e=RE(),u=function(){var s=RE()-e;if(s>=80)return i[t]=n,HE(i.Lui),void(i.Lui=null);i.Lui=ZE(u);var o=s/80;i[t]=r+(n-r)*o};this.Lui=ZE(u)},n.Uui=function(){this.jui+=2*g.PI*this.Qui.y/this.we.clientHeight*.3,this.Oui+=2*g.PI*this.Qui.x/this.we.clientWidth*.5,this.jui=Bi(this.jui,-g.PI/2,g.PI/2)},n.Fui=function(){this.kui=!1},n.Yui=function(){return(u.pointerLockElement||u.mozPointerLockElement||u.webkitPointerLockElement)===this.we},n.resetPose=function(){this.jui=0,this.Oui=0},n.gn=function(){this.bD()},At(t,[{key:"Cui",get:function(){return new v8(this.Oui,this.jui,this.Rui)},set:function(t){this.Oui=t.mui,this.jui=t.pui,this.Rui=t.Aui}}]),t}();wt(),C();var g8=L(fn()),w8=L(vn()),y8=(L(dn()),L(ln())),A8=(L(gn()),L(wn())),m8=L(yn()),p8=L(An()),_8=L(mn()),k8=L(pn());wt(),C();var M8,b8=["oui","xht","rui","error"];function T8(t){var n,i={get stereo(){return t.Wui},set stereo(n){t.Wui=n},get useDeviceMotionControls(){return t.Hui},set useDeviceMotionControls(n){t.Hui=n},get direction(){return t.Xui},set direction(n){t.Xui=n},get verticalFOV(){return t.Zui},set verticalFOV(n){t.Zui=n},get canPresentVR(){return t.qui},get state(){return t.Wdt},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new VS(t,b8,i),i}wt(),C(),function(t){t.Rs="unavailable",t.Kui="available",t.Oa="presenting"}(M8||(M8={}));var N8=new v8(0*o8,0,0);function D8(t){return Qi(t+180,360)-180}function I8(t,n){var i=t.fui(n);return 1-i*i<1e-4}var E8=function(t){function n(n){var i;(i=t.call(this)||this).dE=new So,i.xci=new f8,i.jci=.4,i.bci=!1,i.Eci=!1,i.mci=!1,i.wd=void 0,i.uci=CI.NONE,i.gi=void 0,i.Rci=[],i.gci=void 0,i.yci=!1,i.hci=!1,i.nci=void 0,i.pci=void 0,i.Qai=null,i.cci=0,i.Jui=void 0,i.wci=void 0,i.Pci=(0,g8.default)(),i.zci=(0,g8.default)(),i.Sci=0,i.Nci=0,i.Bci=!0,i.Uci=0,i.Qci=function(){i.t.fn(uk.Sm,i.Qci);var t=i.fci();t&&!t.nativeVR&&i.rci()},i.do=function(){i.dci();var t=i.fci();i.wd=t,t&&t.panoramaMode!==jI.NONE?(t.panoramaMode===jI.PM180&&si("PanoramaMode is set to '180' while the VR API only supports '360', consider using the WebXR API if you need to play 180 degree content."),i.vci(!0),t.nativeVR?i.Co(new F4):(i.uci=t.stereoMode,i.t.yn(uk.Sm,i.Qci))):i.vci(!1)};var r=Vt(i);i.tci=xt((function(){return zt(this,(function(t){switch(t.label){case 0:if(r.Wdt===M8.Rs||!r.qui)return[2];r.Bci=!1,r.Fci(),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,r.gci.requestPresent([{source:r.nci}])];case 2:return t.sent(),[3,5];case 3:return t.sent(),r.Axt("Failed to present VR content.",Qv.VR_PRESENTATION_ERROR),[3,5];case 4:return r.eci(),[7];case 5:return[2]}}))}));var e=Vt(i);i.ici=xt((function(){return zt(this,(function(t){switch(t.label){case 0:if(!e.gci)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,e.gci.exitPresent()];case 2:return t.sent(),[3,5];case 3:return t.sent(),[3,5];case 4:return e.eci(),[7];case 5:return[2]}}))}));var u=Vt(i);return i.$ui=xt((function(){return zt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,zo(o.getVRDisplays(),u.dE.f_)];case 1:return u.Rci=t.sent(),u.gci&&fo(u.Rci,u.gci)||u._ci(u.Rci[0]),[3,3];case 2:return t.sent(),u.Rci=[],u._ci(void 0),[3,3];case 3:return[2]}}))})),i.eci=function(){i.Aci(!!i.gci&&i.gci.isPresenting),i.eV(),i.Bci=!i.yci,i.Bci?ZE(i.Ici):i.Fci()},i.eV=function(){if(i.nci){var t=i.t.we.offsetWidth,n=i.t.we.offsetHeight,r=i.gci;if(r&&i.Wui){var e=r.getEyeParameters("left"),u=r.getEyeParameters("right");e&&u&&(i.Sci=2*g.max(e.renderWidth,u.renderWidth),i.Nci=g.max(e.renderHeight,u.renderHeight))}else{var s=on.Ys.h5;i.Sci=t*s,i.Nci=n*s}}},i.Ici=function(){if(jn.Ga&&i.nci&&i.Bci){i.Fci();var t=i.nci,n=t.offsetWidth+1,r=t.offsetHeight;t.style.width=n+"px",t.style.height=r+"px",i.Uci=ZE(i.Fci)}},i.Fci=function(){if(i.Uci){var t=i.nci;t.style.width="100%",t.style.height="100%",HE(i.Uci),i.Uci=0}},i.lci=function(){var t=i.gci,n=i.jci,r=i.nci,e=i.pci,u=i.Qai,s=i.Jui,o=i.Pci,a=i.zci;i.Tci(),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),t&&i.useDeviceOrientation()&&(t.getFrameData(s),i.wci=s.pose);var c=i.Cui.yui();i.Dci(a,c),t&&t.isPresenting?(i.cci=t.requestAnimationFrame(i.lci),u.viewport(0,0,.5*r.width,r.height),e.pr(s.leftProjectionMatrix,a,"left"),u.viewport(.5*r.width,0,.5*r.width,r.height),e.pr(s.rightProjectionMatrix,a,"right"),t.submitFrame()):(i.cci=ZE(i.lci),(0,p8.default)(o,g.PI*n,r.width/r.height,.1,1024),i.Wui?(u.viewport(0,0,.5*r.width,r.height),e.pr(o,a,"left"),u.viewport(.5*r.width,0,.5*r.width,r.height),e.pr(o,a,"right")):(u.viewport(0,0,r.width,r.height),e.pr(o,a))),I8(c,i.xci)||(i.xci.Ift(c),i.Lci())},i.t=n,i.Cui=N8,i.va=T8(Vt(i)),i.ko(),i}kt(n,t);var i=n.prototype;return i.ko=function(){o.getVRDisplays?(this.Jui=new VRFrameData,this.$ui(),e.addEventListener("vrdisplayconnect",this.$ui,!1),e.addEventListener("vrdisplaydisconnect",this.$ui,!1),e.addEventListener("vrdisplayactivate",this.tci,!1),e.addEventListener("vrdisplaydeactivate",this.ici,!1),e.addEventListener("vrdisplaypresentchange",this.eci,!1)):o.getVRDevices?this.Axt("Your browser supports WebVR but not the latest version.",Qv.VR_PLATFORM_UNSUPPORTED):this.Axt("Your browser does not support WebVR.",Qv.VR_PLATFORM_UNSUPPORTED),this.t.yn(dd.lo,this.do),this.do()},i.sci=function(){var t={alpha:!1,antialias:!1,preserveDrawingBuffer:!0};if(!this.nci){var n=u.createElement("canvas");n.className="theoplayer-vr",wu(n),n.style.zIndex="2",this.t.we.appendChild(n),this.nci=n}this.Qai=this.nci.getContext("webgl",t),this.Qai||(this.Qai=this.nci.getContext("experimental-webgl",t),this.Qai)?(this.Qai.enable(this.Qai.DEPTH_TEST),this.Qai.enable(this.Qai.CULL_FACE)):this.Axt("Your browser does not support WebGL.",Qv.VR_PLATFORM_UNSUPPORTED)},i.rci=function(){var t=this.Xui;this.hci||(this.sci(),this.hci=!0),this.Qai&&(this.aci(new i8(this.Qai,this.t,this.uci)),this.nci.style.display="",this.gi||(this.gi=new l8(this.nci)),this.gi.MD(),this.t.ya.yn(RD.ra,this.eV),this.t.yn(qE.pn,this.eV),this.Xui=t,this.eV(),this.cci=ZE(this.lci))},i.dci=function(){var t=this.Xui;this.aci(void 0),this.gi&&this.gi.bD(),this.nci&&(this.nci.style.display="none"),this.t.ya.fn(RD.ra,this.eV),this.t.fn(qE.pn,this.eV),this.cci&&HE(this.cci),this.Xui=t},i.fci=function(){var t;return null==(t=this.t.Wa())?void 0:t.vr},i._ci=function(t){var n=this.Wdt,i=this.Wui;this.gci&&(this.wci=void 0,this.ici()),this.gci=t,this.gci&&(this.gci.depthNear=.1,this.gci.depthFar=1024),this.Wui=i,this.Wdt!==n&&this.Co(new F4),this.Wui!==i&&this.Co(new r8)},i.vci=function(t){var n=this.Wdt;this.mci=t,this.Wdt!==n&&this.Co(new F4)},i.aci=function(t){var n=this.Wdt;this.pci=t,this.Wdt!==n&&this.Co(new F4)},i.Aci=function(t){var n=this.Wdt,i=this.Wui;this.yci=t,this.gi&&(t?this.gi.bD():this.gi.MD()),this.Wdt!==n&&this.Co(new F4),this.Wui!==i&&this.Co(new r8)},i.Mci=function(t){var n=this.Wui;this.bci=t,this.Wui!==n&&this.Co(new r8)},i.Tci=function(){var t=this.nci;this.Sci===t.width&&this.Nci===t.height||(t.width=this.Sci,t.height=this.Nci,this.Ici())},i.Dci=function(t,n){(0,w8.default)(t,n.aui()),(0,A8.default)(t,t)},i.useDeviceOrientation=function(){return!!this.yci||this.Eci},i.kci=function(){var t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().catch(Hn)},i.Axt=function(t,n){oi(t),this.Co(new uT(new Fv(n,t)))},i.Lci=function(){this.Co(new u8)},i.gn=function(){this.dE.g_(),this.Vo(),this.dci(),this.ici(),this.t.fn(dd.lo,this.do),e.removeEventListener("vrdisplayconnect",this.$ui,!1),e.removeEventListener("vrdisplaydisconnect",this.$ui,!1),e.removeEventListener("vrdisplayactivate",this.tci,!1),e.removeEventListener("vrdisplaydeactivate",this.ici,!1),e.removeEventListener("vrdisplaypresentchange",this.eci,!1),this.t=void 0},At(n,[{key:"Wui",get:function(){return this.qui?this.yci:this.bci},set:function(t){this.qui?t?this.tci():this.ici():this.Mci(t)}},{key:"Hui",get:function(){return this.Eci},set:function(t){this.Wui||(this.Eci=t,t&&jn.Ga&&this.kci())}},{key:"Xui",get:function(){var t=this.Cui;return{yaw:D8(t.mui*a8),pitch:t.pui*a8,roll:g.round(t.Aui*a8)}},set:function(t){var n=D8(t&&+t.yaw||0),i=D8(t&&+t.pitch||0),r=D8(t&&+t.roll||0);this.Cui=new v8(n*o8,i*o8,r*o8)}},{key:"Cui",get:function(){if(this.Wdt===M8.Rs)return this.xci.vui();var t=this.Cci,n=this.Oci,i=new v8;return t&&i.nS(t),n&&i.nS(n),i},set:function(t){var n=this.Cui.yui();if(this.Wdt===M8.Rs)this.xci=t.yui();else{var i=this.gci;i&&i.resetPose&&i.resetPose(),this.gi&&(this.gi.Cui=t),this.xci=this.Cui.yui()}I8(n,this.xci)||this.Lci()}},{key:"Cci",get:function(){var t=this.wci&&this.wci.orientation;if(t)return(new f8).hui(t).vui()}},{key:"Oci",get:function(){return this.gi&&this.gi.Cui}},{key:"Zui",get:function(){return 180*this.jci},set:function(t){t&&t>=0&&t<=180&&(this.jci=+t/180)}},{key:"qui",get:function(){return!(!this.gci||!this.gci.capabilities.canPresent)}},{key:"Wdt",get:function(){var t;return this.mci&&((null==(t=this.fci())?void 0:t.nativeVR)||this.pci)?this.yci?M8.Oa:M8.Kui:M8.Rs}}]),n}(Xo);wt(),C(),Wt(),Mt(),ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Yci=null,i.vr.useWebXR||(r.Yci=new E8(Vt(r))),r}kt(n,t);var i=n.prototype;return i.fa=function(){if(null!==this.Yci){var n=this.Yci.va;return gA(t.prototype.fa.call(this),{vr:n})}return t.prototype.fa.call(this)},i.gn=function(){var n;null==(n=this.Yci)||n.gn(),t.prototype.gn.call(this)},n}(t)}),TT.Za),wt(),C(),wt(),C(),Wt(),Mt(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C();var S8=function(){function t(t,n){var i=this;this.Le=!1,this.Xci=new c8,this.Zci=new c8,this.Hci=new c8,this.Gci=!1,this.bui=function(t){i.Xci.EP(t.clientX,t.clientY),i.Gci=!0,t.preventDefault(),t.stopPropagation()},this.Tui=function(t){t.touches&&1===t.touches.length&&(i.Xci.EP(t.touches[0].pageX,t.touches[0].pageY),i.Gci=!0,t.preventDefault())},this.er=function(t){if(i.Gci||i.Yui()){if(i.Yui()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Zci.EP(i.Xci.x-n,i.Xci.y-r)}else i.Zci.EP(t.clientX,t.clientY);i.Hci.uui(i.Zci,i.Xci),i.Xci.Ift(i.Zci),i.Uui()}},this.Iui=function(t){i.Gci&&(i.Zci.EP(t.touches[0].pageX,t.touches[0].pageY),i.Hci.uui(i.Zci,i.Xci),i.Xci.Ift(i.Zci),i.Uui())},this.Sui=function(){i.Fui()},this.Dui=function(){i.Fui()},this.Eui=function(){i.Fui()},this.Wci=t,this.Us=n}var n=t.prototype;return n.MD=function(){this.Le||(this.Le=!0,this.Us.addEventListener("mousedown",this.bui),this.Us.addEventListener("touchstart",this.Tui),e.addEventListener("mousemove",this.er),e.addEventListener("touchmove",this.Iui),e.addEventListener("mouseup",this.Sui),e.addEventListener("touchend",this.Dui),this.Nui(e))},n.bD=function(){this.Le&&(this.Le=!1,this.Us.removeEventListener("mousedown",this.bui),this.Us.removeEventListener("touchstart",this.Tui),e.removeEventListener("mousemove",this.er),e.removeEventListener("touchmove",this.Iui),e.removeEventListener("mouseup",this.Sui),e.removeEventListener("touchend",this.Dui),this.xui(e))},n.Nui=function(t){if(mu(t));else if(pu(t))try{t.parent.addEventListener("mouseup",this.Sui),this.Nui(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Eui)}},n.xui=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Eui),pu(t))try{t.parent.removeEventListener("mouseup",this.Sui),this.xui(t.parent)}catch(t){}},n.Fui=function(){this.Gci=!1},n.Uui=function(){var t=this.Wci.Vci;t.yaw+=2*g.PI*this.Hci.x*.4/this.Us.clientWidth,t.pitch+=2*g.PI*this.Hci.y*.5/this.Us.clientHeight,t.pitch=Bi(t.pitch,-g.PI/2,g.PI/2),this.Wci.Vci=t},n.Yui=function(){return(u.pointerLockElement||u.mozPointerLockElement||u.webkitPointerLockElement)===this.Us},n.gn=function(){this.bD()},t}();wt(),C(),Ct();var L8=function(){function t(){this.yZ=[0,0,0,1],this.Jci=[]}var n=t.prototype;return n.qci=function(t){var n;(n=t).clearColor.apply(n,Lt(this.yZ)),t.clear(t.COLOR_BUFFER_BIT)},n.Kci=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Jci.forEach((function(i){i.Kci(t,n)}))},n.$ci=function(t){this.Jci.push(t)},n.tli=function(){this.Jci=[]},t}();wt(),C(),Mt(),wt(),C(),Ct(),wt(),C(),Mt();var C8=function(){function t(t,n,i,r,e){this.eli=t,this.BL=this.ili(t,n,i),this.sli=r,this.z2=e,this.nli=!1,this.rli=0,this.Zu=0}return t.prototype.ili=function(t,n,i){var r=t.createBuffer();return null===r?(si("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),j8=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)}kt(n,t);var i=n.prototype;return i.MD=function(t){if(null!==this.BL)if(null!==t){var n=this.eli;n.bindBuffer(n.ARRAY_BUFFER,this.BL),n.vertexAttribPointer(t,this.sli,this.z2,this.nli,this.rli,this.Zu),n.enableVertexAttribArray(t)}else si("Attempted to enable attribute without location.");else si("Attempted to enable buffer that failed to initialize.")},i.bD=function(t){t&&this.eli.disableVertexAttribArray(t)},n}(C8);var x8,O8,z8,R8=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).hli=i.length,r}return kt(n,t),n.prototype.oli=function(){var t=this.eli;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.BL),t.drawElements(t.TRIANGLES,this.hli,this.z2,this.Zu)},n}(C8);wt(),C(),function(t){t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor"}(x8||(x8={})),function(t){t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture"}(O8||(O8={})),function(t){t.Normal="vNormal",t.Color="vColor",t.UV="vUV"}(z8||(z8={}));var B8=function(){function t(t,n,i){this.eli=t,this.lli=this.ali(this.eli,n,i)}var n=t.prototype;return n.ali=function(t,n,i){var r=this.uli(t,t.VERTEX_SHADER,n),e=this.uli(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return si("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(si("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(si("Failed to initialize shader program"),null))},n.uli=function(t,n,i){var r=t.createShader(n);if(null===r)return si("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return si("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.cli=function(){return this.lli},n.dli=function(t){var n=this.lli;if(null===n)return si("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.eli.getAttribLocation(n,t);return-1===i?null:i},n.fli=function(t){var n=this.lli;if(null===n)return si("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.eli.getUniformLocation(n,t);return null===i&&oi("Attempted to retrieve nonexistent uniform: "+t),i},t}(),P8=function(){function t(t,n,i){this.gli=t,this.wli=n,this.vli=i}var n=t.prototype;return n._li=function(){var t,n=this.gli.length,i=(t=g).max.apply(t,Lt(this.wli));return i>=n?(oi("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&si("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.vli||this.vli.length===n||(oi("Created geometry where position ("+n+") and uv ("+this.vli.length+") buffers have different length."),!1))},n.mli=function(t,n){if(!this._li())throw new v("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new j8(t,new Float32Array(i),3)}(t,this.gli),r=function(t,n){return new R8(t,new Uint16Array(n))}(t,this.wli),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new j8(t,new Float32Array(i),2)}(t,this.vli);return new U8(i,r,e,n)},t}(),U8=function(){function t(t,n,i,r){this.gli=t;var e=r.dli(x8.VertexPos);if(null===e)throw new v("Failed to get position attribute location.");this.yli=e,this.vli=i,this.Mli=r.dli(x8.VertexUV),this.wli=n}var n=t.prototype;return n.Ali=function(){this.gli.MD(this.yli),null!==this.Mli&&this.vli.MD(this.Mli)},n.bli=function(){this.gli.bD(this.yli),null!==this.Mli&&this.vli.bD(this.Mli)},n.Kci=function(){this.wli.oli()},t}(),Q8=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*g.PI),void 0===s&&(s=0),void 0===o&&(o=g.PI);for(var a=0,c=g.min(s+o,g.PI),h=[],f=[],v=[],d=[],l=0;l<=r;l++){var w=[],y=l/r,A=0;0===l&&0===s?A=.5/i:l===r&&c===g.PI&&(A=-.5/i);for(var m=0;m<=i;m++){var p=m/i,_=-n*g.cos(e+p*u)*g.sin(s+y*o),k=n*g.cos(s+y*o),M=n*g.sin(e+p*u)*g.sin(s+y*o);f.push(new h8(_,k,M)),v.push(new c8(p+A,1-y)),w.push(a++)}d.push(w)}for(var b=0;b<r;b++)for(var T=0;T<i;T++){var N=d[b][T+1],D=d[b][T],I=d[b+1][T],E=d[b+1][T+1];(0!==b||s>0)&&h.push(N,D,E),(b!==r-1||c<g.PI)&&h.push(D,I,E)}return t.call(this,f,h,v)}return kt(n,t),n}(P8);wt(),C(),wt(),C();var Y8=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],G8=function(){function t(t,n){if(this.eli=t,this.Nli=t.createTexture(),null===this.Nli)throw new v("Failed to create texture");var i=n.fli(O8.Texture);if(null===i)throw new v("Failed to get texture location.");this.Ili=i,t.bindTexture(t.TEXTURE_2D,this.Nli),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Sli=t.TEXTURE0,this.y$=0,this.Eli=t.RGBA,this.kli=t.RGBA,this.Lli=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.y$,this.Eli,2,2,0,this.kli,this.Lli,new m(Y8))}var n=t.prototype;return n.Tli=function(){var t=this.eli;t.activeTexture(this.Sli),t.bindTexture(t.TEXTURE_2D,this.Nli)},n.ur=function(){var t=this.eli;t.activeTexture(this.Sli),t.bindTexture(t.TEXTURE_2D,this.Nli),t.uniform1i(this.Ili,0)},n.Dli=function(t){var n=this.eli;n.bindTexture(n.TEXTURE_2D,this.Nli),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.y$,this.Eli,this.kli,this.Lli,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.xli=function(t){var n=this.eli;n.bindTexture(n.TEXTURE_2D,this.Nli),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.iit.zG(n,n.TEXTURE_2D,this.y$,this.Eli,this.kli,this.Lli),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),F8="\n    attribute vec4 "+x8.VertexPos+";\n    attribute vec2 "+x8.VertexUV+";\n\n    uniform mat4 "+O8.ModelViewMat+";\n    uniform mat4 "+O8.ProjectionMat+";\n    \n    varying mediump vec2 "+z8.UV+";\n    \n    void main() {\n      gl_Position = "+O8.ProjectionMat+" * "+O8.ModelViewMat+" * "+x8.VertexPos+";\n      "+z8.UV+" = "+x8.VertexUV+";\n    }\n",V8="\n    varying mediump vec2 "+z8.UV+";\n    \n    uniform sampler2D "+O8.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+O8.Texture+", "+z8.UV+");\n    }\n",W8=function(){function t(t){this.eli=t,this.lli=new B8(t,F8,V8),this.Nli=new G8(t,this.lli)}var n=t.prototype;return n.cli=function(){return this.lli},n.MD=function(){this.eli.useProgram(this.lli.cli()),this.Nli.ur()},n.Cli=function(t){this.Nli.Dli(t)},n.Oli=function(t){this.Nli.xli(t)},t}();wt(),C(),mt();var X8=function(){function t(t,n,i,r){this.po=new h8,this.Gli=new h8,this.Rli="none",this.zli=i;var e=i.cli();this.Pli=n.mli(t,e),r&&(this.Rli=r);var u=e.fli(O8.ModelViewMat);if(null===u)throw new v("Failed to get model view matrix location.");this.Qli=u;var s=e.fli(O8.ProjectionMat);if(null===s)throw new v("Failed to get projection matrix location.");this.Yli=s}var n=t.prototype;return n.Kci=function(t,n){if(this.jli(n.Rli)){this.Pli.Ali(),this.zli.MD();var i=this.Bli,r=n.Uli,e=(0,m8.default)(r,r,i);t.uniformMatrix4fv(this.Qli,!1,e);var u=n.Fli;t.uniformMatrix4fv(this.Yli,!1,u),this.Pli.Kci(),this.Pli.bli()}},n.jli=function(t){return"none"===this.Rli||"right"!==t&&"left"===this.Rli||"right"===t&&"right"===this.Rli},At(t,[{key:"Bli",get:function(){var t=(0,g8.default)(),n=this.po;return(0,k8.default)(t,t,n.aui()),(0,_8.default)(t,t,this.Gli.x,new Float32Array([1,0,0])),(0,_8.default)(t,t,this.Gli.y,new Float32Array([0,1,0])),(0,_8.default)(t,t,this.Gli.z,new Float32Array([0,0,1])),t}}]),t}();wt(),C(),mt();var Z8=function(){function t(t){this.Wli=72*g.PI/180,this.Hli=1.77,this.Xli=.1,this.Zli=100,this.Rli="none",this.$li=new h8,this.tdi=new f8,this.Kli=this.Vli(),this.edi=this.Jli(),t&&(this.Rli=t)}var n=t.prototype;return n.Vli=function(){var t=(0,g8.default)();return(0,p8.default)(t,this.Wli,this.Hli,this.Xli,this.Zli)},n.qli=function(){this.Kli=this.Vli()},n.Jli=function(){var t=(0,g8.default)(),n=(0,y8.default)((0,g8.default)(),this.$li.aui()),i=(0,w8.default)((0,g8.default)(),this.tdi.aui());return(0,m8.default)(t,n,i),(0,A8.default)(t,t),t},n.idi=function(){this.edi=this.Jli()},n.sdi=function(){this.idi(),this.qli()},n.tr=function(){this.$li=new h8,this.Gli=new f8,this.sdi()},n.ndi=function(t){var n=this.tdi.vui();n.nS(t),this.Gli=n.yui()},n.rdi=function(t){this.Gli=t.yui()},At(t,[{key:"Fli",get:function(){return new Float32Array(this.Kli)},set:function(t){this.Kli=t}},{key:"Uli",get:function(){return new Float32Array(this.edi)}},{key:"odi",get:function(){return this.Wli},set:function(t){this.Wli=t,this.qli()}},{key:"hdi",get:function(){return this.Hli},set:function(t){this.Hli=t,this.qli()}},{key:"po",get:function(){return(new h8).Ift(this.$li)},set:function(t){this.$li=t,this.idi()}},{key:"Gli",get:function(){return(new f8).Ift(this.tdi)},set:function(t){this.tdi=t,this.idi()}}]),t}(),H8=1e-4,K8=function(t){function n(n){var i;return(i=t.call(this)||this).dE=new So,i.ldi=!1,i.tfi=!1,i.efi=new f8,i.nfi=new f8,i.sfi=new f8,i.Wli=74,i.Hdi=!1,i.GO=void 0,i.mdi=CI.NONE,i.Jdi=!1,i.$di=jI.NONE,i.Mdi=new L8,i.kdi=null,i.Wdi=null,i.Ldi=null,i.jdi=null,i.Pdi=!1,i.zdi=null,i.Gdi=null,i.Ydi=null,i.qdi=0,i.Xdi=!1,i.udi=function(){i.cdi()},i.do=function(){i.dci(),i.Ndi(),i.ddi()},i.Tdi=function(){i.Edi()},i.Ddi=function(){i.Odi&&(ui("Ending immersive session"),i.Sdi(),i.Odi.removeEventListener("end",i.Ddi),i.Odi.end(),i.Odi=null,i.jdi=null,i.Pdi=!1,i.kdi?i.xdi():i.Edi())},i.mn=function(){i.fdi()},i.Qdi=function(t,n){if(i.eli){var r=i.eli,e=i.Udi;if(null===i.Ydi&&i.Zdi()&&(i.bdi.Oli(i.Qo),i.qdi>0&&(i.qdi-=1)),null!==e&&void 0!==n){i.zdi=e.requestAnimationFrame(i.Qdi);var u=e.renderState.baseLayer,s=n.getViewerPose(i.ifi);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new v8,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new Z8(f.eye);if(v.Fli=f.projectionMatrix,i.Vdi()){var d=void 0;if(jn.Qs&&jn.nk&&null===i.Wdi){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v.Gli=new f8(d.x,d.y,d.z,d.w)}i.kdi&&v.ndi(i.sfi.vui()),o=o.nS(v.Gli.vui()),a+=1;var l=u.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),i.Mdi.Kci(r,v)}var g=new v8(o.mui/a,o.pui/a,o.Aui);i.efi=g.yui(),function(t,n){var i=t.fui(n);return 1-i*i<H8}(i.efi,i.nfi)||(i.nfi.Ift(i.efi),i.Co(new u8))}else si("Attempted to run webXR animation loop without glLayer or viewerPose.")}else si("Attempted to run webXR animation loop without session or xrFrame.")}},i.HQ=function(){i.qdi=5},i.Qo=n,i.va=T8(Vt(i)),i.ko(),i}kt(n,t);var i=n.prototype;return i.ko=function(){var t=this;this.adi(),this.eli?o.xr?(o.xr.addEventListener("devicechange",this.udi),this.cdi().then((function(){t.ldi?(t.ddi(),t.fdi(),t._di()):t.Axt("XR: Inline session not available. Panorama functionality will not work.",Qv.VR_PRESENTATION_ERROR)}))):this.Axt("Your browser does not support WebXR",Qv.VR_PLATFORM_UNSUPPORTED):this.Axt("Your browser does not support webGL",Qv.VR_PLATFORM_UNSUPPORTED)},i._di=function(){this.Qo.ya.yn(RD.ra,this.mn),this.Qo.yn(qE.pn,this.mn),this.Qo.yn(dd.lo,this.do),this.Qo.yn(dd.$v,this.HQ)},i.adi=function(){this.gdi=u.createElement("canvas"),this.gdi.className="theoplayer-vr",this.gdi.style.zIndex="2",this.gdi.style.background="black",this.gdi.style.display="none",this.Qo.we.appendChild(this.gdi),wu(this.gdi);var t=this.gdi.getContext("webgl2");t||(t=this.gdi.getContext("webgl")),t&&(this.eli=t,this.wdi=new S8(this,this.gdi))},i.cdi=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return o.xr?[4,K.all([o.xr.isSessionSupported("inline").then((function(n){t.ldi=n})).catch((function(n){t.ldi=!1,t.Axt("exception when calling xr.isSessionSupported for inline session: "+n,Qv.VR_PRESENTATION_ERROR)})),o.xr.isSessionSupported("immersive-vr").then((function(n){t.vdi=n})).catch((function(n){t.vdi=!1,t.Axt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,Qv.VR_PRESENTATION_ERROR)}))])]:[3,2];case 1:return n.sent(),[3,3];case 2:t.ldi=!1,t.vdi=!1,n.label=3;case 3:return[2]}}))}))()},i.ddi=function(){var t=this.fci();this.GO=t,this.mci=Boolean(t),this.mci&&(this.mdi=(null==t?void 0:t.stereoMode)||CI.NONE,this.pdi=(null==t?void 0:t.panoramaMode)||jI.NONE,this.Adi&&(this.ydi(this.pdi,this.mdi),this.rci()))},i.ydi=function(t,n){if(this.eli&&t!==jI.NONE){var i,r,e=this.eli;this.Mdi.tli(),t===jI.PM360?(i=2*g.PI,r=-g.PI/2):(i=g.PI,r=-g.PI);for(var u=new Q8(16,60,40,0,i),s=[],o=[],a=0;a<u.vli.length;a++){var c=u.vli[a];switch(n){case CI.NONE:s.push(c),o.push(c);break;case CI.VERTICAL:s.push(new c8(c.x,.5*c.y)),o.push(new c8(c.x,.5*c.y+.5));break;case CI.HORIZONTAL:s.push(new c8(.5*c.x,c.y)),o.push(new c8(.5*c.x+.5,c.y))}}u.gli.forEach((function(t){t.x*=-1}));var h=new P8(u.gli,u.wli,s),f=new P8(u.gli,u.wli,o);this.bdi=new W8(e);var v=new X8(e,h,this.bdi,"left");v.Gli.y=r,this.Mdi.$ci(v);var d=new X8(e,f,this.bdi,"right");d.Gli.y=r,this.Mdi.$ci(d)}},i.rci=function(){this.gdi.style.display="block",this.ldi&&this.Qo.yn(dd.jh,this.Tdi)},i.dci=function(){this.Sdi(),this.Qo.fn(dd.jh,this.Tdi),this.gdi.style.display="none"},i.Ndi=function(){this.Idi(),this.Ddi()},i.Edi=function(){var t=this;return xt((function(){var n,i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:if(t.kdi||!t.ldi)return[2];n={optionalFeatures:["local"]},s.label=1;case 1:return s.trys.push([1,5,,6]),[4,zo(o.xr.requestSession("inline",n),t.dE.f_)];case 2:return i=s.sent(),r=jn.Qs?jn.nk?"viewer":"local":"viewer",[4,i.requestReferenceSpace(r)];case 3:return e=s.sent(),i.addEventListener("end",t.Idi),t.Ldi=e,t.kdi=i,t.wdi.MD(),t.xdi(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,t.eli),inlineVerticalFieldOfView:t.Wli*o8})];case 4:return s.sent(),[3,6];case 5:return u=s.sent(),t.Idi(),t.Axt(u,Qv.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Idi=function(){this.kdi&&(this.Sdi(),this.wdi.bD(),this.kdi.removeEventListener("end",this.Ddi),this.kdi.end(),this.kdi=null,this.fdi())},i.Cdi=function(){var t=this;return xt((function(){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:if(t.Odi||!t.vdi)return[2];t.Sdi(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,zo(o.xr.requestSession("immersive-vr"),t.dE.f_)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.Ddi),t.jdi=i,t.Odi=n,[4,t.Rdi()];case 4:return e.sent(),t.xdi(),[3,6];case 5:return r=e.sent(),t.Ddi(),t.Axt(r,Qv.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Rdi=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return n=t.eli,i=t.Odi,t.gdi&&n&&i&&!t.Pdi?(t.gdi.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.gdi.addEventListener("webglcontextrestored",(function(){t.ydi(t.pdi,t.mdi)})),t.Pdi=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.fdi=function(){if(!this.Odi&&this.eli){var t=this.eli,n=this.gdi.clientWidth,i=this.gdi.clientHeight,r=on.Ys.h5;this.gdi.width=n*r,this.gdi.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.xdi=function(){null===this.zdi&&(this.Bdi(),this.Udi?this.zdi=this.Udi.requestAnimationFrame(this.Qdi):(this.Fdi(),si("XR: Attempted to start animation loop without inline or immersive session.")))},i.Sdi=function(){null!==this.zdi&&(this.Fdi(),this.Udi?this.Udi.cancelAnimationFrame(this.zdi):si("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.zdi=null)},i.Bdi=function(){var t=this;if(null===this.Ydi){var n=this.Qo.Vg();if(void 0!==n&&n instanceof HTMLVideoElement){if("function"==typeof n.requestVideoFrameCallback){var i=function(){t.bdi.Oli(t.Qo),t.Ydi=n.requestVideoFrameCallback(i)};this.Gdi=n,this.Ydi=n.requestVideoFrameCallback(i)}}else si("No video source.")}},i.Fdi=function(){var t,n;null!==this.Ydi&&(null==(n=this.Gdi)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Ydi),this.Gdi=null,this.Ydi=null)},i.Vdi=function(){return!!this.Wdi||(jn.Ga?this.Hdi&&this.Xdi:this.Hdi)},i.kci=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.Xdi="granted"===n}))},i.Zdi=function(){return(!this.fg()||Boolean(this.qdi))&&this.Kdi()},i.fg=function(){return this.Qo.fg},i.Kdi=function(){return this.Qo.Sg>=2},i.Axt=function(t,n){oi(t),this.Co(new uT(new Fv(n,t)))},i.fci=function(){var t=this.Qo.Wa();return t&&t.vr},i.gn=function(){this.dE.g_(),this.Ndi(),this.Vo(),this.Qo=void 0,this.eli=void 0},At(n,[{key:"mci",get:function(){return this.Jdi},set:function(t){var n=this.Wdt;this.Jdi=t,this.Wdt!==n&&this.Co(new F4)}},{key:"Adi",get:function(){return this.pdi!==jI.NONE}},{key:"pdi",get:function(){return this.$di},set:function(t){var n=this.Wdt;this.$di=t,this.Wdt!==n&&this.Co(new F4)}},{key:"vdi",get:function(){return this.tfi},set:function(t){var n=this.Wdt;this.tfi=t,this.Wdt!==n&&this.Co(new F4)}},{key:"qui",get:function(){return this.vdi}},{key:"Udi",get:function(){return this.Odi||this.kdi}},{key:"Odi",get:function(){return this.Wdi},set:function(t){var n=this.Wdt;this.Wdi=t,this.Wdt!==n&&this.Co(new F4)}},{key:"ifi",get:function(){return this.jdi||this.Ldi}},{key:"Xui",get:function(){var t=this.efi.vui();return{yaw:t.mui*a8,pitch:t.pui*a8,roll:t.Aui*a8}},set:function(t){var n=J8(t&&t.pitch||0)*o8,i=J8(t&&t.roll||0)*o8,r=J8(t&&t.yaw||0)*o8,e=new v8(r,n,i);this.efi=e.yui()}},{key:"Vci",get:function(){var t=this.sfi.vui();return{yaw:t.mui,pitch:t.pui,roll:t.Aui}},set:function(t){var n=q8(t&&t.pitch||0),i=q8(t&&t.roll||0),r=q8(t&&t.yaw||0),e=new v8(r,n,i);this.sfi=e.yui()}},{key:"Wdt",get:function(){return this.mci?this.Odi?M8.Oa:M8.Kui:M8.Rs}},{key:"Wui",get:function(){return null!==this.Odi},set:function(t){var n=this.Wui;t&&this.vdi?this.Cdi():this.Ddi(),this.Wui!==n&&this.Co(new r8)}},{key:"Hui",get:function(){return this.Hdi},set:function(t){null===this.Wdi&&(this.Hdi=t,t&&jn.Ga&&this.kci())}},{key:"Zui",get:function(){return this.Wli},set:function(t){t&&t>=0&&t<=180&&(this.Wli=t,null!==this.kdi&&this.kdi.updateRenderState({inlineVerticalFieldOfView:this.Wli*o8}))}}]),n}(Xo);function J8(t){return Qi(t+180,360)-180}function q8(t){return Qi(t+g.PI,2*g.PI)-g.PI}function $8(t,n){return"function"==typeof t.getAll?t7(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Cc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.LL(i),J()},t.onerror=function(){n.xL(t.error),J()},n.OL}(void 0===n?t.openCursor():t.openCursor(n))}function t7(t){return new K((function(n,i){t.onsuccess=function(){n(t.result),J()},t.onerror=function(){i(t.error),J()}}))}ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Wci=null,i.vr.useWebXR&&(r.Wci=new K8(Vt(r))),r}kt(n,t);var i=n.prototype;return i.fa=function(){return null!==this.Wci?gA(t.prototype.fa.call(this),{vr:this.Wci.va}):t.prototype.fa.call(this)},i.gn=function(){var n;null==(n=this.Wci)||n.gn(),t.prototype.gn.call(this)},n}(t)}),TT.Za),wt(),C(),wt(),C(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),Pt(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),Ot(),Ft(),Pt(),gt();var n7=function(){function t(t){var n=this;this.Cnt=t,this.ro=!0,this.OL=new K((function(t,i){n.Cnt.oncomplete=function(){n.ro=!1,t(),J()},n.Cnt.onerror=function(){n.ro&&(n.ro=!1,i(n.Cnt.error||new v("Transaction error")),J())},n.Cnt.onabort=function(){n.ro=!1,i(new v("Transaction aborted")),J()}}))}return t.prototype.g_=function(){if(this.ro)try{this.Cnt.abort(),this.ro=!1}catch(t){}},t}();function i7(t,n,i){return r7.apply(this,arguments)}function r7(){return r7=xt((function(t,n,i){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:r=new n7(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,K.all([n(i),r.OL])];case 2:return e=Gt.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.ro)throw new u3("IDBTransaction committed prematurely",u);throw u;case 4:return r.g_(),[7];case 5:return[2]}}))})),r7.apply(this,arguments)}var e7=function(){function t(t,n){this.ast=t,this.afi=n}var n=t.prototype;return n.ynt=function(t){return K.resolve("persistent"===t)},n.Mnt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?K.reject(aB(n)):t7(this.hfi(uB.Qnt).put(t))},n.bnt=function(t,n){void 0===n&&(n="persistent");var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,K.reject(aB(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.Mnt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.NL=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.IL(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.IL=function(t){return t7(this.hfi(uB.Unt).get(t))},n.Tnt=function(t,n){return t7(this.hfi(uB.Unt).index(n).get(t))},n._nt=function(t){var n=this;return xt((function(){var i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.IL(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Snt=function(){return $8(this.hfi(uB.Unt))},n.Nnt=function(t){return $8(this.hfi(uB.Unt),t)},n.Int=function(t,n){return $8(this.hfi(uB.Unt).index(n),t)},n.rS=function(t){return t7(this.hfi(uB.Qnt).delete(t))},n.Dnt=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.rS(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Ent=function(){return t7(this.hfi(uB.Qnt).clear())},n.hfi=function(t){if(!this.afi)throw new v("Lock was released");if(!function(t,n){return t===uB.Unt&&n===uB.Unt||n===uB.Qnt}(t,this.afi.mode))throw new v("Incompatible transaction mode: "+this.afi.mode+", expected "+t);return this.afi.objectStore(this.l)},n.ufi=function(){this.ast.cfi(this),this.afi=void 0},At(t,[{key:"l",get:function(){return this.ast.l}}]),t}();var u7=function(){function t(t,n){this.UNt=void 0,this.XZ=new qv,this.ffi=t,this.l=n}var n=t.prototype;return n.ynt=function(t){return K.resolve("persistent"===t)},n.Mnt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?K.reject(aB(n)):this.Cnt(uB.Qnt,(function(n){return n.Mnt(t)}))},n.bnt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?K.reject(aB(n)):this.Cnt(uB.Qnt,(function(n){return n.bnt(t)}))},n.NL=function(t){return this.Cnt(uB.Unt,(function(n){return n.NL(t)}))},n.IL=function(t){return this.Cnt(uB.Unt,(function(n){return n.IL(t)}))},n.Tnt=function(t,n){return this.Cnt(uB.Unt,(function(i){return i.Tnt(t,n)}))},n._nt=function(t){return this.Cnt(uB.Unt,(function(n){return n._nt(t)}))},n.Snt=function(){return this.Cnt(uB.Unt,(function(t){return t.Snt()}))},n.Nnt=function(t){return this.Cnt(uB.Unt,(function(n){return n.Nnt(t)}))},n.Int=function(t,n){return this.Cnt(uB.Unt,(function(i){return i.Int(t,n)}))},n.rS=function(t){return this.Cnt(uB.Qnt,(function(n){return n.rS(t)}))},n.Dnt=function(t){return this.Cnt(uB.Qnt,(function(n){return n.Dnt(t)}))},n.Ent=function(){return this.Cnt(uB.Qnt,(function(t){return t.Ent()}))},n.$Nt=function(t){return this.lfi(),this.UNt=new e7(this,t),this.UNt},n.lfi=function(){if(void 0!==this.UNt)throw new v("Already locked")},n.cfi=function(t){if(this.UNt!==t)throw new v("Incorrect lock");this.UNt=void 0},n.JO=function(t){return this.XZ.JO(t)},n.Cnt=function(t,n){var i=this;return this.JO((function(){return i.dfi(t,n)}))},n.dfi=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:i.lfi(),r=i.ffi.transaction(i.l,t),e=i.$Nt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,i7(r,n,e)];case 2:return[2,u.sent()];case 3:return e.ufi(),[7];case 4:return[2]}}))}))()},n._fi=function(t){this.lfi();var n=this.ffi.transaction(this.l,t);return this.$Nt(n)},t.gfi=function(t,n){var i,r=new K((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new K((function(n){t=n}));return n.JO((function(){return t(),r})).catch(Hn),i}))}),K.resolve());return i(e.then(n)),r},t}();wt(),C(),mt(),wt(),C(),Ot(),Pt(),wt(),C(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),Pt();var s7={Gy:17,wfi:xt((function(t){var n,i,r,e;return zt(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(d7,{keyPath:"id"}),i.createObjectStore(l7,{keyPath:"key"}),i.createObjectStore(g7,{keyPath:"key"}),i.createObjectStore(w7,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(y7,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},o7=function(){function t(t){this.pfi=t}return t.prototype.vfi=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:i=0,r=n.mfi,u.label=1;case 1:return i<r.length?(e=r[i],n.pfi<e.Gy?[4,e.wfi(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),a7=function(t){function n(){return t.apply(this,arguments)}return kt(n,t),At(n,[{key:"mfi",get:function(){return[s7]}}]),n}(o7),c7=function(){function t(){this.yfi=function(t){return new a7(t)}}var n=t.prototype;return n.Afi=function(t){this.yfi=t},n.G7=function(t){return this.yfi(t)},t}(),h7=new c7,f7="theoplayer-cache-database",v7=18,d7="cachingTask",l7="licences",g7="manifest",w7="segment",y7="segmentMetadata";function A7(){return A7=xt((function(){var t;return zt(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new v("Indexed database unavailable")}(),(t=indexedDB.open(f7,v7)).addEventListener("upgradeneeded",m7),[4,t7(t)];case 1:return[2,n.sent()]}}))})),A7.apply(this,arguments)}function m7(t){return p7.apply(this,arguments)}function p7(){return p7=xt((function(t){var n,i,r,e,u;return zt(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=v7?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=h7.G7(n),[4,i7(e,(function(t){return u.vfi(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),p7.apply(this,arguments)}var _7=function(){function t(){}return At(t,null,[{key:"lL",get:function(){return this.Jnt||(this.Jnt=function(){return A7.apply(this,arguments)}()),this.Jnt}}]),t}();_7.Jnt=void 0,wt(),C();var k7=function(){function t(t,n){this.Rnt=t.Rnt.$Nt(n),this.jnt=t.jnt.$Nt(n),this.Pnt=t.Pnt.$Nt(n),this.znt=t.znt.$Nt(n),this.Bnt=t.Bnt.$Nt(n)}var n=t.prototype;return n.Cnt=function(t){return t(this)},n.ufi=function(){this.Rnt.ufi(),this.jnt.ufi(),this.Pnt.ufi(),this.znt.ufi(),this.Bnt.ufi()},t}(),M7=function(){function t(t){this.ffi=t,this.Rnt=new u7(t,y7),this.jnt=new u7(t,w7),this.Pnt=new u7(t,g7),this.znt=new u7(t,d7),this.Bnt=new u7(t,l7)}var n=t.prototype;return n.Cnt=function(t){var n=this,i=this.allCollections;return u7.gfi(i,(function(){return n.dfi(i,t)}))},n.dfi=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.ffi.transaction(r,uB.Qnt),u=new k7(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,i7(e,n,u)];case 2:return[2,s.sent()];case 3:return u.ufi(),[7];case 4:return[2]}}))}))()},t.G7=function(){return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,_7.lL];case 1:return[2,new t(n.sent())]}}))}))()},At(t,[{key:"allCollections",get:function(){return[this.jnt,this.Rnt,this.Pnt,this.znt,this.Bnt]}}]),t}();gB.wa(M7.G7),wt(),C(),mt(),Mt(),wt(),C();var b7=function(t){function n(n,i){var r;return(r=t.call(this)||this).ofi=n,r.Ztt=i,r.ofi.yn("xht",r.Ds),r}return kt(n,t),n.prototype.rfi=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new v("Unexpected - The source description is undefined");if(r=qI(t),e=f5(n),UI(r))throw new v("Invalid source description");return this.ofi.fii(r,e).va},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get status(){return t.fD},get tasks(){return t.mii},get network(){return t.hF.va},createTask:function(n,i){return t.rfi(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new WS(t,i),i}(this)),this.Xa}},{key:"fD",get:function(){return this.ofi.fD}},{key:"mii",get:function(){return this.ofi.mii.va}},{key:"hF",get:function(){return this.Ztt}}]),n}(Ho);var T7=function(){var t=new ES(on.Hj,!1),n=gB.lL,i=new m5(t),r=new a5(n,i),e=new CS(t),u=new t3(n.znt,r,"persistent");return new b7(u,e)}().va;wt(),C(),wt(),C(),Mt(),wt(),C(),mt();var N7=function(){function t(t){this.Xa=void 0,this.KH=t}var n=t.prototype;return n.Mfi=function(t){for(var n=this.KH.C_(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.fa=function(){var t=this;return{createAudioSourceNode:function(n){return t.Mfi(n)}}},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),t}();ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bfi=new N7(r.Ytt),r}return kt(n,t),n.prototype.fa=function(){var n=this.bfi.va;return gA(t.prototype.fa.call(this),{get audio(){return n}})},n}(t)}),TT.Za),wt(),C(),wt(),C(),Mt();ET((function(t){return function(t){function n(n,i){return t.call(this,n,i)}kt(n,t);var i=n.prototype;return i.ga=function(i){var r=n.Tfi(this.wd.analytics),e=n.Tfi(i?i.analytics:void 0);r||e?this.Sfi(Xu({},r,e)):this.Nfi&&this.Nfi.disable(),t.prototype.ga.call(this,i)},i.Sfi=function(t){if(this.Nfi)this.Nfi.enable(),this.Nfi.setOptions(t);else{var n=e.youbora;if(!n)throw new v("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new v("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.va)),this.Oc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.va)),this.Nfi=i}},i.gn=function(){this.Nfi&&this.Nfi.disable(),t.prototype.gn.call(this)},n.Tfi=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new v("Only one youbora analytics configuration expected");var i=n[0];i.integration;return Pk(i,["integration"])}},n}(t)}),TT.vit),wt(),C(),wt(),C(),Wt(),Mt(),wt(),C(),mt(),Mt();var D7=1,I7=0,E7=1e3,S7=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).Qo=n,o.GO=i,o.Efi=r,o.Xfi=e,o.Zfi=u,o.kfi=s,o.qfi=!0,o.Cfi=!1,o.Pfi=void 0,o.jfi=void 0,o.Kfi=void 0,o.poi=function(t){var n,i=t.Rit,r=(i.p$t(),n=i.Nit().duration,"linear"===i.Nit().type);i.A$t(),i.w$t();r&&(o.Cfi=!0),o.Rfi=o.Zfi.AD_IMPRESSION,o.Rfi=o.Zfi.AD_STARTED},o.Aoi=function(t){o.Cfi=!1,o.Rfi=o.Zfi.AD_COMPLETED},o.Ffi=function(t){t.bqt===d0.ADBLOCK?o.Rfi=o.Zfi.AD_BLOCKED:o.Rfi=o.Zfi.AD_ERROR},o.Yfi=function(){o.Rfi=o.Zfi.AD_SKIPPED},o.Wfi=function(t){var n,i,r,e;t.$D===zA.VA&&(o.Kfi&&t.CF!==o.Kfi&&o.Efi.reportABRSwitch(o.Kfi,t.CF),o.Kfi=t.CF,o.Efi.reportChunkRequest(new MMChunkInformation(t.AM,t.CF,t.Kb,t.uut.zu,void 0,void 0,null!=(r=null==(n=t.uut.Sat)?void 0:n[0])?r:0,null!=(e=null==(i=t.uut.Sat)?void 0:i[1])?e:-1)))},o.Gfi=function(t){o.Ofi=o.Xfi.STOPPED,o.Co(t)},o.M3=function(t){o.Ofi=o.Xfi.ERROR,o.Efi.reportError(t.error,o.Lfi())},o.Vfi=function(){o.xfi?o.Rfi=o.Zfi.AD_PAUSED:o.Ofi=o.Xfi.PAUSED},o.Tdi=function(){o.xfi&&(o.Rfi=o.Zfi.AD_PLAY)},o.VQ=function(){o.xfi?(o.Pfi===o.Zfi.AD_PAUSED&&(o.Rfi=o.Zfi.AD_RESUMED),o.Rfi=o.Zfi.AD_PLAYING):(o.qfi&&(o.qfi=!1,o.Ifi(),o.Ofi=o.Xfi.STARTED),o.Ofi!==o.Xfi.PAUSED&&o.Ofi!==o.Xfi.BUFFERING||(o.Ofi=o.Xfi.RESUMED))},o.eV=function(){o.Efi.reportPresentationSize(o.Qo.Rg,o.Qo.Cg)},o.HQ=function(t){o.xfi||o.Ofi!==o.Xfi.PAUSED||o.Efi.reportPlayerSeekCompleted(t.currentTime*E7)},o.YQ=function(){o.xfi||(o.Ofi=o.Xfi.BUFFERING)},o.Ufi=function(){o.Efi.reportDownloadRate(g.floor(cT.lL.OP()))},o.Bfi=function(){o.xfi||o.Efi.reportPlaybackPosition(o.Lfi())},o.Ofi=o.Xfi.INITIALIZED,o.TOt(),o.Hfi=o.zfi(),o}kt(n,t);var i=n.prototype;return i.Ifi=function(){var t=this.ct===1/0,n=t?D7:I7,i=t?-1:this.ct,r=wo(this.Qo.rt.Rw,this.Dfi);this.Efi.setPresentationInformation(new this.kfi(n,i,r))},i.Dfi=function(t){for(var n=t.qw.Rw,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.GP,width:e.ji,height:e.Ti,codecIdentifier:e.$nt})}return i},i.Lfi=function(){return this.Qo.Q_()*E7},i.zfi=function(){var t=this;return h((function(){t.Bfi(),t.Ufi()}),n.Qfi)},i.TOt=function(){this.Qo.Oc&&(this.Qo.Oc.yn("Uit",this.poi),this.Qo.Oc.yn("Qit",this.Aoi),this.Qo.Oc.yn("yCt",this.Ffi),this.Qo.Oc.yn("pCt",this.Yfi)),this.Qo.yn(dd.Ov,this.Gfi),this.Qo.yn(f_.ha,this.M3),this.Qo.yn(dd.Sh,this.Vfi),this.Qo.yn(dd.jh,this.Tdi),this.Qo.yn(uk.Sm,this.VQ),this.Qo.yn(dd.Jv,this.eV),this.Qo.yn(dd.$v,this.HQ),this.Qo.yn(uk.Tm,this.YQ),this.Qo.yn(dd.hm,this.Wfi)},i.SOt=function(){this.Qo.Oc&&(this.Qo.Oc.fn("Uit",this.poi),this.Qo.Oc.fn("Qit",this.Aoi),this.Qo.Oc.fn("yCt",this.Ffi),this.Qo.Oc.fn("pCt",this.Yfi)),this.Qo.fn(dd.Ov,this.Gfi),this.Qo.fn(f_.ha,this.M3),this.Qo.fn(dd.Sh,this.Vfi),this.Qo.fn(dd.jh,this.Tdi),this.Qo.fn(uk.Sm,this.VQ),this.Qo.fn(dd.Jv,this.eV),this.Qo.fn(dd.$v,this.HQ),this.Qo.fn(uk.Tm,this.YQ),this.Qo.fn(dd.hm,this.Wfi)},i.gn=function(){f(this.Hfi),this.SOt()},At(n,[{key:"ct",get:function(){return this.Qo.Td()*E7}},{key:"xfi",get:function(){return this.Cfi}},{key:"Ofi",get:function(){return this.jfi},set:function(t){this.jfi=t,t&&this.Efi.reportPlayerState(t)}},{key:"Rfi",set:function(t){this.Pfi=t}}]),n}(VA);S7.Qfi=2e3,ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$fi=void 0,r.t_i=void 0,r.i_i=function(){r.t_i=void 0,r.Jfi();var n=t.prototype.Wa.call(Vt(r));n&&(r.t_i=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.wd)),r.e_i()},r.e_i=function(){if(!r.$fi&&r.t_i&&r.bt&&r.bt.src&&!r.fg){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","8.3.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,e.innerWidth,e.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.t_i),r.$fi=new S7(Vt(r),r.t_i,t),r.$fi.yn("ended",r.Jfi)}},r.Jfi=function(){r.$fi&&(r.$fi.gn(),r.$fi=void 0)},r.yn(dd.lo,r.i_i),r.yn(dd.Dv,r.e_i),r.yn(dd.jh,r.e_i),r}return kt(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.Jfi()},n}(t)}),TT.vit),wt(),C(),wt(),C(),mt(),Mt();var L7=String.fromCharCode(95);var C7=function(){function t(n,i,r,e){var u=this;this.h_i=function(n){u.u_i({type:t.c_i(n.type)})},this.uS=n,this.Qsi=i,this.Vd=r,this.j0t=e,this.n_i=[],this.hd=[]}var n=t.prototype;return n.o_i=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Qsi.addEventListener(n,this.h_i),this.n_i.push({type:n,listener:this.h_i})}},n.a_i=function(){for(var t in lo(this.n_i),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Qsi.removeEventListener(n,this.h_i)}},n.u_i=function(t){this.hd.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.r_i=function(){null==this.s_i||this.s_i.call(this,this.hd),this.hd=[]},t.c_i=function(n){return t.l_i[n]||n},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.Xa}},{key:"id",get:function(){return this.uS}},{key:"adsManager",get:function(){return this.Qsi}},{key:"ids",get:function(){return this.Vd}},{key:"adContainer",get:function(){return this.j0t}},{key:"sendEvent",get:function(){return this.s_i},set:function(t){for(var n=0,i=this.n_i;n<i.length;n++){var r=i[n];this.Qsi.removeEventListener(r.type,r.listener)}this.n_i=[],this.s_i=t,this.r_i()}},{key:"imaSDK",get:function(){return!0}}]),t}();C7.l_i={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var j7=function(){function t(){this.f_i=void 0,this.__i=void 0}var n=t.prototype;return n.d_i=function(t,n){this.f_i=u.createElement("script"),this.f_i.id=t.id,this.f_i.type="text/javascript",t.adContainer.appendChild(this.f_i),this.f_i.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.__i=t.id,e[this.__i]=t.va},n.g_i=function(){this.f_i&&au(this.f_i),this.__i&&(e[this.__i]=void 0)},t}();ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).A_i=void 0,r.T_i=void 0,r.v_i=void 0,r.j0t=void 0,r.p_i=function(){r.b_i(r.v_i,{partnerCode:r.A_i.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.j0t)},r.u7t=function(t){r.v_i=t.Usi,r.j0t=t.W7t,r.w_i(),r.v_i.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.m_i),r.v_i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.w_i),r.v_i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.p_i)},r.m_i=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.w_i(),r.p_i())},r.w_i=function(){r.T_i&&(r.T_i.a_i(),r.T_i=void 0),r.S_i.g_i()},r.S_i=new j7,r}kt(n,t);var i=n.prototype;return i.ga=function(i){var r,e,u;this.w_i(),null==(r=this.v_i)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.m_i),null==(e=this.v_i)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.w_i),null==(u=this.v_i)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.p_i),this.v_i=void 0,this.j0t=void 0,t.prototype.ga.call(this,i);var s=i&&i.analytics;this.A_i=n.y_i(s),this.Oc&&this.A_i&&M4()&&this.M_i()},i.gn=function(){var n,i,r;this.w_i(),null==(n=this.v_i)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.m_i),null==(i=this.v_i)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.w_i),null==(r=this.v_i)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.p_i),this.v_i=void 0,this.j0t=void 0,this.Oc&&this.Oc.fn("a7t",this.u7t),t.prototype.gn.call(this)},i.M_i=function(){this.Oc&&this.Oc.yn("a7t",this.u7t)},i.b_i=function(t,n,i){var r=L7+"moatApi"+g.floor(1e8*g.random());this.T_i=new C7(r,t,n,i),this.T_i.o_i(),this.S_i.d_i(this.T_i,this.A_i.partnerCode)},n.y_i=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new v("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),TT.vit),wt(),C(),wt(),C(),Mt(),wt(),C(),Mt();var x7,O7=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).N_i=i,e.Rit=r,e}return kt(n,t),n}(Jo);!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(x7||(x7={}));var z7=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)}return kt(n,t),n}(O7),R7=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)}return kt(n,t),n}(O7),B7=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)}return kt(n,t),n}(O7),P7=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)}return kt(n,t),n}(O7),U7=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)}return kt(n,t),n}(O7),Q7=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)}return kt(n,t),n}(O7),Y7=function(t){function n(n,i){return t.call(this,"DAIError",n,i)}return kt(n,t),n}(O7),G7=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)}return kt(n,t),n}(O7),F7=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)}return kt(n,t),n}(O7),V7=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)}return kt(n,t),n}(O7),W7=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)}return kt(n,t),n}(O7),X7=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)}return kt(n,t),n}(O7),Z7=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)}return kt(n,t),n}(O7);var H7=function(t){function n(n,i,r){var e;(e=t.call(this)||this).hni=n,e.P0t=i,e.Q_i=r,e.k_i=function(t){e.E_i(!0);var n=K7(t),i=q7(t);e.Co(new R7(n,i))},e.U_i=function(t){e.E_i(!1);var n=K7(t),i=q7(t);e.Co(new B7(n,i))},e.L_i=function(t){var n=K7(t),i=q7(t);e.Co(new P7(n,i))},e.h0t=function(t){var n=K7(t),i=q7(t);e.Co(new Q7(n,i))},e.x_i=function(t){var n=K7(t),i=q7(t);e.Co(new Z7(n,i))},e.C_i=function(t){var n=K7(t),i=q7(t);e.Co(new U7(n,i))},e.Ss=function(t){var n=K7(t),i=q7(t);e.Co(new Y7(n,i))},e.O_i=function(t){var n=K7(t),i=q7(t);e.Co(new F7(n,i))},e.j_i=function(t){var n=K7(t),i=q7(t);e.Co(new z7(n,i))},e.R_i=function(t){var n=K7(t),i=q7(t);e.Co(new V7(n,i))},e.P_i=function(t){var n=K7(t),i=q7(t);e.Co(new G7(n,i))},e.z_i=function(t){var n=K7(t),i=q7(t);e.Co(new W7(n,i))},e.B_i=function(t){var n=K7(t),i=q7(t);e.Co(new X7(n,i))},e.P0t.style.display="none",e.hni.setClickElement(e.P0t);var u=google.ima.dai.api.StreamEvent.Type;return e.hni.addEventListener(u.AD_BREAK_STARTED,e.k_i),e.hni.addEventListener(u.AD_PROGRESS,e.L_i),e.hni.addEventListener(u.CLICK,e.h0t),e.hni.addEventListener(u.COMPLETE,e.x_i),e.hni.addEventListener(u.CUEPOINTS_CHANGED,e.C_i),e.hni.addEventListener(u.ERROR,e.Ss),e.hni.addEventListener(u.FIRST_QUARTILE,e.O_i),e.hni.addEventListener(u.LOADED,e.j_i),e.hni.addEventListener(u.MIDPOINT,e.R_i),e.hni.addEventListener(u.STARTED,e.P_i),e.hni.addEventListener(u.STREAM_INITIALIZED,e.z_i),e.hni.addEventListener(u.THIRD_QUARTILE,e.B_i),e.hni.addEventListener(u.AD_BREAK_ENDED,e.U_i),e}kt(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.hni.replaceAdTagParameters(null!=t?t:null)},i.I_i=function(t){return this.hni.contentTimeForStreamTime(t)},i.D_i=function(t){return this.hni.streamTimeForContentTime(t)},i.tQt=function(t,n){var i=function(t){var n;"vod"===t.availabilityType?((n=new e.google.ima.dai.api.VODStreamRequest).contentSourceId=t.contentSourceID,n.videoId=t.videoID):"live"===t.availabilityType&&((n=new e.google.ima.dai.api.LiveStreamRequest).assetKey=t.assetKey);var i,r=google.ima.dai.api.StreamRequest.StreamFormat;return n.format="dash"===t.format?r.DASH:r.HLS,n.apiKey=t.apiKey,n.adTagParameters=t.adTagParameters,n.omidAccessModeRules=null!=(i=r4(t.omidAccessModeRules))?i:{},n}(t);this.hni.requestStream(i)},i.tr=function(){this.E_i(!1),this.hni.reset()},i.gn=function(){this.Vo();var t=google.ima.dai.api.StreamEvent.Type;this.hni.removeEventListener(t.AD_BREAK_STARTED,this.k_i),this.hni.removeEventListener(t.AD_PROGRESS,this.L_i),this.hni.removeEventListener(t.CLICK,this.h0t),this.hni.removeEventListener(t.COMPLETE,this.x_i),this.hni.removeEventListener(t.CUEPOINTS_CHANGED,this.C_i),this.hni.removeEventListener(t.ERROR,this.Ss),this.hni.removeEventListener(t.FIRST_QUARTILE,this.O_i),this.hni.removeEventListener(t.LOADED,this.j_i),this.hni.removeEventListener(t.MIDPOINT,this.R_i),this.hni.removeEventListener(t.STARTED,this.P_i),this.hni.removeEventListener(t.STREAM_INITIALIZED,this.z_i),this.hni.removeEventListener(t.THIRD_QUARTILE,this.B_i),this.hni.removeEventListener(t.AD_BREAK_ENDED,this.U_i),this.tr(),this.Q_i&&au(this.Q_i)},i.F_i=function(t){this.hni.onTimedMetadata(t)},i.Y_i=function(t,n,i){this.hni.processMetadata(t,n,i)},i.G_i=function(t){var n=this.hni.previousCuePointForStreamTime(t);if(n)return{bS:n.end,MS:n.start,pg:n.played}},i.V_i=function(t){var n=this.G_i(t),i=n&&!n.pg?n.MS:void 0;return K.resolve(i)},i.E_i=function(t){this.P0t.style.display=t?"block":"none"},n}(Xo);function K7(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={y5t:r.adBreakDuration,W_i:r.duration,M5t:r.adPosition,U_:r.currentTime,ct:r.duration,b5t:r.totalAds}),{H_i:n,X_i:(i.cuepoints||[]).map((function(t){return{MS:t.start,bS:t.end,pg:t.played}})),Z_i:i.errorMessage||void 0,q_i:i.manifestFormat||void 0,K_i:i.streamId||void 0,J_i:(i.subtitles||[]).map((function(t){return{$_i:t.webvtt,tgi:t.ttml,gs:t.language}})),zu:i.url}}function J7(t){return{XXt:t.getAdSlotId(),t4t:t.getContent(),Nz:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function q7(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(J7);return{yZt:n.getAdId(),p9t:{M5t:i.getAdPosition(),$Jt:i.getMaxDuration(),Lsi:i.getPodIndex(),cPt:i.getTimeOffset(),b5t:i.getTotalAds()},eXt:n.getAdSystem(),Csi:n.getAdvertiserName(),WXt:n.getApiFramework(),lXt:r,IXt:n.getCreativeId(),a8t:n.getCreativeAdId(),Osi:n.getDealId(),xM:n.getDescription(),ct:n.getDuration(),kz:n.getTitle(),igi:n.getUniversalAdIdRegistry(),egi:n.getUniversalAdIdValue(),i8t:n.getVastMediaHeight(),t8t:n.getVastMediaWidth(),q9t:n.getWrapperAdIds(),K9t:n.getWrapperAdSystems(),J9t:n.getWrapperCreativeIds()}}}function $7(){var t=u.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}wt(),C(),wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Pt();var ttt="urn:google:dai:2018",ntt=function(){function t(t,n,i,r){var e=this;this.Mni=void 0,this.vz=void 0,this.mz=void 0,this.L5=new So,this.dgi=!1,this.ngi=!0,this.cgi=function(t){var n=t.Lt;n.zt===C_.ZA&&(n.Av===cm.ID3||n.Av===cm.EVENT_STREAM&&n.fv===ttt)&&(n._v=h_.vv,e.Mni=n,n.yn(cA.lw,e.fgi))},this.fgi=function(t){t.yS.yn(dm.mS,e._gi)},this._gi=function(t){var n,i;if(e.hni)if((null==(n=e.Mni)?void 0:n.Av)===cm.ID3){var r=t.yS.O;"TXXX"===r.id&&e.hni.F_i({TXXX:r.text})}else if((null==(i=e.Mni)?void 0:i.Av)===cm.EVENT_STREAM){var u=t.yS.O;e.hni.Y_i(ttt,u,t.GN)}},this.Qo=t,this.hni=n,this.ogi=i,this.sgi=r,i&&n&&this.Qo.Oc&&this.Qo.Oc.Git(i._8t)}var n=t.prototype;return n.F_=function(t){this.L5.g_(),this.L5=new So,Qo(this.Xsi(t,this.L5.f_))},n.Xsi=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return jo(n),i.ogi&&i.hni?i.ogi.Iit?[2]:t>i.Qo.Q_()&&i.ngi?[4,zo(i.hni.V_i(t),n)]:[3,3]:[2,i.Qo.hgi(t)];case 1:return(r=e.sent())?(i.Qo.hgi(r),[4,i.hni.k_(x7.AD_BREAK_ENDED,n)]):[3,3];case 2:if(e.sent(),i.hni.G_i(t).bS>t)return[2];e.label=3;case 3:return i.Qo.hgi(t),[2]}}))}))()},n.Dg=function(){var t=this.ogi&&this.ogi.Iit;if(t){var n=BD.xn(this.Qo.agi()),i=t.cPt,r=i+t.$Jt,e=new BD([i,r]);return n.Sn(e).ks()}return this.Qo.agi()},n.iet=function(t,n){var i=this;return xt((function(){var r,e,u;return zt(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.Qo.ugi(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.Qo.nt.yn(eA.hw,i.cgi),[4,i.sgi.lgi(t,n)];case 2:return r=s.sent(),i.ogi&&i.hni&&(i.dgi=!0),[3,4];case 3:if(xo(e=s.sent()),e.code===BA.LICENSE_INVALID)return[2];throw u=new Fv(Qv.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.vz=YA(u),i.mz=u,i.Qo.Co(new uT(u)),u;case 4:return[4,i.Qo.ugi(r,n)];case 5:return s.sent(),[2]}}))}))()},n.tr=function(){if(this.dgi){if(this.Qo.nt.fn(eA.hw,this.cgi),this.Mni){this.Mni.fn(cA.lw,this.fgi);for(var t=0,n=this.Mni.L.Rw;t<n.length;t++){n[t].fn(dm.mS,this._gi)}this.Mni=void 0}this.vz=void 0,this.mz=void 0,this.L5.g_(),this.ogi&&this.ogi.tr(),this.hni&&this.hni.tr(),this.dgi=!1}},n.gn=function(){this.tr(),this.Qo.vgi(),this.hni&&this.hni.gn()},At(t,[{key:"va",get:function(){var t=this,n=this.sgi;return{contentTimeForStreamTime:function(n){return t.hni?t.hni.I_i(n):n},streamTimeForContentTime:function(n){return t.hni?t.hni.D_i(n):n},replaceAdTagParameters:function(n){t.hni&&t.hni.replaceAdTagParameters(n)},get snapback(){return t.ngi},set snapback(n){t.ngi=n},get sourceTransformer(){return n.rgi},set sourceTransformer(t){n.rgi=t}}}},{key:"lt",get:function(){return this.vz||this.Qo.ggi()}},{key:"H_",get:function(){return this.mz||this.Qo.wgi()}}]),t}();wt(),C(),mt(),Mt(),wt(),C(),mt(),Mt();var itt=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).pgi=e,u.j2t=n,u.R2t=i,u}return kt(n,t),At(n,[{key:"mgi",get:function(){return this.pgi}},{key:"vKt",get:function(){return A1.so}}]),n}(A2),rtt=function(t){function n(n,i){var r;return(r=t.call(this,new sI,A1.so)||this).hni=n,r.Qo=i,r.L_i=function(t){var n=r.I$t;if(n&&r.v$t){var i=t.N_i.H_i;r.v$t.W9t=i.U_,function(t,n){var i=n.M5t,r=n.y5t,e=n.U_,u=Vi(t.Oc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.t$t=r-e-u}(n,i)}},r.C_i=function(t){var n=t.N_i.X_i;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.Ngi(e.MS)){var u=e.bS-e.MS,s=new itt(u,u,e.MS,!0);r.D$t.push(s)}}},r.ygi=function(t){r.bgi(t.type),r.Sgi(t)},r.U_i=function(t){r.w8t=!1,r.v$t=void 0;var n=r.Iit;n&&(n.t$t=0,r.Tgi(t.type,!1,!1),r.I$t=void 0)},r.Agi(),r}kt(n,t);var i=n.prototype;return i.Agi=function(){var t=[x7.STARTED,x7.FIRST_QUARTILE,x7.MIDPOINT,x7.THIRD_QUARTILE,x7.COMPLETE];this.hni.yn(t,this.ygi),this.hni.yn(x7.AD_BREAK_ENDED,this.U_i),this.hni.yn(x7.AD_PROGRESS,this.L_i),this.hni.yn(x7.CUEPOINTS_CHANGED,this.C_i)},i.Mgi=function(t){var n=t.p9t.cPt,i=this.I$t||this.findAdBreakWithPredicate(n,(function(t){return!t.pg}));if(!i){var r=t.p9t.$Jt;n=this.Qo.Q_(),(i=new itt(r,r,n,!1)).z2t(),this.D$t.push(i)}return i},i.bgi=function(t){switch(t){case x7.STARTED:this.w8t=!0;break;case x7.AD_BREAK_ENDED:this.w8t=!1}},i.Tgi=function(t,n,i){if(n)switch(t){case x7.STARTED:case x7.FIRST_QUARTILE:case x7.MIDPOINT:case x7.THIRD_QUARTILE:case x7.COMPLETE:this.A2t.Co(new NR(this.I$t))}if(i)switch(t){case x7.STARTED:case x7.FIRST_QUARTILE:case x7.MIDPOINT:case x7.THIRD_QUARTILE:case x7.COMPLETE:this.A2t.Co(new IR(this.v$t,this.v$t.W9t))}switch(t){case x7.COMPLETE:this.A2t.Co(new SR(this.v$t,this.f8t.W9t));break;case x7.AD_BREAK_ENDED:this.A2t.Co(new bR(this.Iit))}switch(t){case x7.FIRST_QUARTILE:this.A2t.Co(new C2(this.v$t,this.f8t.W9t));break;case x7.MIDPOINT:this.A2t.Co(new x2(this.v$t,this.f8t.W9t));break;case x7.THIRD_QUARTILE:this.A2t.Co(new z2(this.v$t,this.f8t.W9t))}},i.Sgi=function(t){var n=t.Rit,i=this.Mgi(n),r=function(t,n){if(t.Oc.length)return!1;for(var i=0;i<n;i++){var r=new s4(t,w2.xqt);t.U2t(r)}return!0}(i,n.p9t.b5t),e=function(t,n){var i=n.p9t.M5t-1;return t.Oc[i]}(i,n),u=function(t,n){return t.X2t!==y2.READY&&(t.$9t(n),!0)}(e,n);this.v$t=e,this.I$t=i,i.z2t(),this.Tgi(t.type,r,u)},i.Ngi=function(t){for(var n=0,i=this.D$t;n<i.length;n++){var r=i[n];if(Ui(t,r.cPt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.D$t;i<r.length;i++){var e=r[i];if(Ui(e.cPt,t)&&n(e))return e}},i.Dgi=function(t,n){for(var i,r=0,e=this.D$t;r<e.length;r++){var u=e[r];u.cPt>=t&&u.cPt<=n&&!u.pg&&(!i||u.cPt>=i.cPt)&&(i=u)}return i},i.Ny=function(){},i.Yit=function(t){},i.tr=function(){this.v$t&&(this.A2t.Co(new SR(this.v$t,this.v$t.W9t)),this.v$t=void 0),this.I$t&&(this.A2t.Co(new bR(this.I$t)),this.I$t=void 0),this.w8t=!1,lo(this.D$t)},i.gn=function(){this.tr(),this.A2t.gn()},At(n,[{key:"E2t",get:function(){return this.w8t}},{key:"A2t",get:function(){return this.P4t}},{key:"Igi",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.mgi})),n=0;return t&&(n=t.$Jt),n}}]),n}(f4);wt(),C(),Ot(),Pt();var ett=function(){function t(t){this.hni=t,this.rgi=function(t){return t}}var n=t.prototype;return n.lgi=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f,d;return zt(this,(function(l){switch(l.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(YN(o=s[u])){if(!i.hni)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];l.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,LD.lL.AB(r,t)];case 2:h=l.sent().yc,f=h,jo(n),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,i.Egi(f,n)];case 4:return a=l.sent(),e.push(a),[3,6];case 5:return xo(d=l.sent()),c=d,ao(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new v("Fatal: unable to play DAI streams.");return c&&si(c.message),[2,Xu({},t,{sources:e})]}}))}))()},n.Egi=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a;return zt(this,(function(c){switch(c.label){case 0:if(!i.hni)throw new v("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.hni.k_(x7.LOADED,n),e=i.hni.k_(x7.ERROR,n),u=t.type===hN.yp?"dash":"hls",i.hni.tQt(Xu({},t.ssai,{format:u})),[4,K.race([r,e])];case 1:return(s=c.sent()).type!==x7.LOADED?[3,5]:(o=t.type===hN.yp?hN.yp:hN.bp,i.rgi?[4,i.rgi(s.N_i.zu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.N_i.zu,c.label=4;case 4:return[2,yN(Xu({},t,{src:a,type:o}))];case 5:throw v(s.N_i.Z_i);case 6:return[2]}}))}))()},t}();ET(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).Lgi=!1,e.xgi=function(t){13===t.which&&e.P0t.click(),e.Hg()};var s,o,a=e.Vg();try{e.P0t=u.createElement("button"),e.P0t.className="theo-dai-clickthrough",s=t(a,e.P0t),o=new rtt(s,Vt(e)),e.we.appendChild(e.P0t),e.Lgi=!0}catch(t){e.P0t=void 0}var c=new ett(s);return e.kgi=new ntt(Vt(e),s,o,c),e.P0t&&(e.P0t.addEventListener("keydown",e.xgi),e.P0t.addEventListener("click",e.xgi)),e}kt(i,n);var r=i.prototype;return r.fa=function(){var t=n.prototype.fa.call(this),i=t.ads;if(i){var r=this.kgi.va;gA(i,{get dai(){return r}})}return t},r.hgi=function(t){n.prototype.F_.call(this,t)},r.F_=function(t,n){this.kgi.F_(t)},r.agi=function(){return n.prototype.Dg.call(this)},r.Dg=function(){return this.kgi.Dg()},r.ga=function(t){return this.kgi.tr(),n.prototype.ga.call(this,t)},r.ugi=function(t,i){var r=this;return xt((function(){return zt(this,(function(e){return[2,n.prototype.iet.call(r,t,i)]}))}))()},r.iet=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){return[2,i.kgi.iet(t,n)]}))}))()},r.ggi=function(){return n.prototype.W_.call(this)},r.wgi=function(){return n.prototype.X_.call(this)},r.W_=function(){return this.kgi.lt},r.X_=function(){return this.kgi.H_},r.vgi=function(){n.prototype.gn.call(this)},r.gn=function(){this.kgi.gn(),this.P0t&&(au(this.P0t),this.P0t.removeEventListener("keydown",this.xgi),this.P0t.removeEventListener("click",this.xgi),this.P0t=void 0)},At(i,[{key:"Ul",get:function(){return this.Lgi}}]),i}(n)}}((function(t,n){if(!(e.google&&e.google.ima&&Un(e.google.ima.dai)))throw new v("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var i=$7(),r=new google.ima.dai.api.StreamManager(t),u=$7();return new H7(r,n,u&&u!==i?u:void 0)})),TT._it),wt(),C(),wt(),C(),Wt(),Mt(),wt(),C(),mt();var utt=function(){function t(t,n){var i=this;this.Qo=t,this.zgi=n,this.Zgi=!1,this.Ygi=!1,this.qgi=[],this.Vgi=-1/0,this.Hgi=!1,this.Tdi=function(){i.Zgi||(i.zgi.rwi(),i.Hgi&&i.zgi.Jgi(),i.Zgi=!0)},this.Gfi=function(){i.zgi.owi(),i.Ygi=!0},this.xoi=function(){i.Vgi<i.Qo.Q_()&&(i.Vgi=i.Qo.Q_()),i.swi()},this.Bgi=function(){i.Zgi&&(i.hwi=performance.now(),i.zgi.awi(i.Qo.Q_()))},this.Ugi=function(){i.hwi&&(i.zgi.uwi((performance.now()-i.hwi)/1e3),i.hwi=void 0)},this.M3=function(){i.Vgi<i.Qo.Q_()&&(i.Vgi=i.Qo.Q_()),i.zgi.Vst(i.Qo.W_().message)},this.Qgi=function(){var t=i.Qo.Td()===1/0;t&&!i.Hgi&&(i.Hgi=t,i.Kgi())},this.lOt=function(){i.zgi.Ggi(i.Vgi),i.zgi.cwi()},this.iwi=function(){void 0!==i.Ogi&&i.zgi.lwi(i.Cgi)}}var n=t.prototype;return n.jgi=function(t){this.Rgi=t,this.zgi.Pgi(t),this.Qo.yn(dd.jh,this.Tdi),this.Qo.yn(dd.Ov,this.Gfi),this.Qo.yn(dd.fm,this.xoi),this.Qo.yn(f_.ha,this.M3),this.Qo.yn(uk.Tm,this.Bgi),this.Qo.yn([uk.pm,uk.Am,uk.Sm],this.Ugi),this.Qo.yn(dd.Lv,this.Qgi),nu.OG(this.lOt)},n.Fgi=function(){this.Qo.fn(dd.jh,this.Tdi),this.Qo.fn(dd.Ov,this.Gfi),this.Qo.fn(dd.fm,this.xoi),this.Qo.fn(f_.ha,this.M3),this.Qo.fn(uk.Tm,this.Bgi),this.Qo.fn([uk.pm,uk.Am,uk.Sm],this.Ugi),this.Qo.fn(dd.Lv,this.Qgi),nu.EG(this.lOt),this.Ygi||(this.zgi.Ggi(this.Vgi),this.zgi.Wgi()),this.Hgi&&this.Xgi(),this.Rgi=void 0,this.Zgi=!1,this.Ygi=!1,this.Vgi=-1/0,lo(this.qgi)},n.Kgi=function(){this.Zgi&&this.zgi.Jgi(),this.Ogi=performance.now(),this.$gi=h(this.iwi,6e4)},n.Xgi=function(){this.zgi.ewi(this.Cgi),this.Hgi=!1,this.Ogi=void 0,this.$gi&&(f(this.$gi),this.$gi=void 0)},n.swi=function(){if(!A(this.Qo.Td())){var t=10*function(t,n){return g.floor(t/n)}(this.Qo.Q_()/this.Qo.Td()*100,10);fo(this.qgi,t)||(this.qgi.push(t),this.zgi.nwi(t))}},At(t,[{key:"Cgi",get:function(){return void 0===this.Ogi?0:(performance.now()-this.Ogi)/1e3}}]),t}();wt(),C();var stt=function(){function t(){}var n=t.prototype;return n.Pgi=function(t){this.dwi(["setDocumentTitle",t.itemTitle]),this.dwi(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.dwi(["trackPageView"])},n.rwi=function(){this.fwi("item first play","viewing","1")},n.Wgi=function(){this.fwi("item skipped","skipped","1")},n.nwi=function(t){this.fwi("item progress","percent",""+t)},n.cwi=function(){this.fwi("item abandoned","window closed","1")},n.Ggi=function(t){this.fwi("item time","watched",""+t)},n.owi=function(){this.fwi("item finished","ended","1")},n.awi=function(t){this.fwi("buffering started","timestamp",""+t)},n.uwi=function(t){this.fwi("buffering ended","duration",""+t)},n.Vst=function(t){this.fwi("error","message",""+t)},n.Jgi=function(){this.fwi("livestream first play","viewing","1")},n.lwi=function(t){this.fwi("livestream progress","duration",""+t)},n.ewi=function(t){this.fwi("livestream time","watched",""+t)},n.fwi=function(t,n,i){this.dwi(["trackEvent","Video",t,n,i])},n.dwi=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();wt(),C(),mt();var ott=function(){function t(t,n,i){var r=this;this.Qo=t,this.Ic=n,this.zgi=i,this.vwi=[],this.poi=function(){r.gwi=r.Qo.Td(),r.zgi.mwi(r.gwi)},this.Aoi=function(){r.gwi&&(r.zgi.pwi(r.gwi),lo(r.vwi),r.gwi=void 0)},this.Yfi=function(t){if(r.gwi){var n=r.gwi-r.gwi*t.r4t;r.zgi.Awi(n),r.gwi=void 0}},this.Ffi=function(){r.gwi=r.Qo.Td(),r.zgi.ywi()},this.xoi=function(){var t=r._wi;if(r.wwi&&t&&!fo(r.vwi,t)){switch(t){case 1:r.zgi.Mwi();break;case 2:r.zgi.bwi();break;case 3:r.zgi.Swi();break;case 4:r.zgi.Nwi()}r.vwi.push(t)}},this.lOt=function(){r.zgi.Iwi()}}var n=t.prototype;return n.jgi=function(){this.Ic.yn("Uit",this.poi),this.Ic.yn("Qit",this.Aoi),this.Ic.yn("pCt",this.Yfi),this.Ic.yn("yCt",this.Ffi),this.Qo.yn(dd.fm,this.xoi),nu.OG(this.lOt)},n.Fgi=function(){this.Ic.fn("Uit",this.poi),this.Ic.fn("Qit",this.Aoi),this.Ic.fn("pCt",this.Yfi),this.Ic.fn("yCt",this.Ffi),this.Qo.fn(dd.fm,this.xoi),lo(this.vwi),nu.EG(this.lOt),this.gwi=void 0},At(t,[{key:"_wi",get:function(){if(this.gwi){var t=this.Qo.Q_()/this.gwi;return g.floor(4*t)+1}}},{key:"wwi",get:function(){return void 0!==this.gwi}}]),t}();wt(),C();var att=function(){function t(t){this.zgi=t}var n=t.prototype;return n.mwi=function(t){this.zgi.fwi("ad start","duration",""+t)},n.pwi=function(t){this.zgi.fwi("ad finished","duration",""+t)},n.Awi=function(t){this.zgi.fwi("ad skipped","remaining time",""+t)},n.ywi=function(){this.zgi.fwi("ad blocker","detected","1")},n.Mwi=function(){this.zgi.fwi("ad progress","firstQuartile","")},n.bwi=function(){this.zgi.fwi("ad progress","secondQuartile","")},n.Swi=function(){this.zgi.fwi("ad progress","thirdQuartile","")},n.Nwi=function(){this.zgi.fwi("ad progress","fourthQuartile","")},n.Iwi=function(){this.zgi.fwi("ad abandoned","window closed","1")},t}();function ctt(t){return t&&"streamone"===t.integration}ET((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Dwi=!1,r.do=function(){r.Dwi&&(r.Ewi.Fgi(),r.kwi&&r.kwi.Fgi());var t=r.Wa();if(r.Dwi=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(ctt(r))return r}}(t);n&&(r.Dwi=!0,r.Ewi.jgi(n),r.kwi&&r.kwi.jgi())}};var e=new stt;if(r.Ewi=new utt(Vt(r),e),r.Oc){var u=new att(e);r.kwi=new ott(Vt(r),r.Oc,u)}return r.yn(dd.lo,r.do),r}return kt(n,t),n.prototype.gn=function(){this.fn(dd.lo,this.do),this.Dwi&&(this.Ewi&&this.Ewi.Fgi(),this.kwi&&this.kwi.Fgi(),this.Dwi=!1),t.prototype.gn.call(this)},n}(t)}),TT.vit),wt(),C(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt(),wt(),C(),Mt(),wt(),C(),Ot(),Mt(),Pt();var htt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Cwi=i,r.Owi=void 0,r}kt(n,t);var i=n.prototype;return i.X$=function(n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return[4,ftt(n)];case 1:return u=s.sent(),[4,t.prototype.X$.call(e,u,i,r)];case 2:return s.sent(),e.Lwi(u,i),[2]}}))}))()},i.V$=function(n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return[4,ftt(n)];case 1:return u=s.sent(),[4,t.prototype.V$.call(e,u,i,r)];case 2:return s.sent(),e.Lwi(u,i),[2]}}))}))()},i.Lwi=function(t,n){var i=this.Cwi.xwi;if(void 0!==i){var r,e=n.y$;if(this.Owi!==e&&(this.Owi=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return xn.call(t,"F7")}(n)){var u=n.F7,s=n.F7+n.ct;r=n.pI,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.ly,"video",e,r)}},i.rS=function(n,i,r){var e=this;return xt((function(){var u;return zt(this,(function(s){switch(s.label){case 0:return[4,t.prototype.rS.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.Cwi.xwi)||u.flushBuffer(n,i),[2]}}))}))()},n}(NB);function ftt(t){return vtt.apply(this,arguments)}function vtt(){return vtt=xt((function(t){var n;return zt(this,(function(i){switch(i.label){case 0:switch(t.Av){case pL.jZ:return[3,1];case pL.DD:return[3,2];case pL.RZ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Nw(t.ly)];case 3:return n=i.sent(),[2,{Av:pL.jZ,ly:new m(n)}];case 4:throw new v("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),vtt.apply(this,arguments)}var dtt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Cwi=i,r.Trt(n),r}return kt(n,t),n.prototype.Nrt=function(t){return t.O0===zA.VA?new htt(t,this.Cwi):new NB(t)},n}(bB),ltt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Bwi=!1,r.Uwi=function(t){r.Bwi||(t||r.rB("LCEVC SDK failed to initialize."),r.Rwi())},r.Qwi=function(){r.Bwi||r.rB("LCEVC SDK failed to initialize.")},r.pu=i,r.Pwi=u.createElement("canvas"),r.Pwi.style.width="100%",r.Pwi.style.height="100%",r.Pwi.style.position="absolute",r.Pwi.style.top="50%",r.Pwi.style.left="50%",r.Pwi.style.transform="translate(-50%, -50%)",r.Pwi.style.display="none",r.pu.appendChild(r.Pwi),LcevcDil.ready.then(r.Uwi,r.Qwi),r}kt(n,t);var i=n.prototype;return i.Rwi=function(){this.jwi=new LcevcDil.LcevcDil(this.Fm.pz,this.Pwi,{})},i.ge=function(){t.prototype.ge.call(this),this.zwi()},i.be=function(){t.prototype.be.call(this),this.Pwi.style.display="none"},i.tr=function(){return this.Pwi.style.display="none",void 0!==this.jwi&&(this.jwi.close(),this.Rwi()),t.prototype.tr.call(this)},i.h_=function(){return this.Bwi=!0,void 0!==this.jwi&&(this.jwi.close(),this.jwi=void 0),this.pu.removeChild(this.Pwi),t.prototype.h_.call(this)},i.rB=function(t){this.Co(new fj(new UA(BA.ABORTED,t)))},i.zwi=function(){this.Fm.pz.style.display="none",this.Pwi.style.display="block"},i.Art=function(t){return new dtt(t,this)},i.prt=function(t){return new EB(t)},At(n,[{key:"xwi",get:function(){return this.jwi}},{key:"art",get:function(){return this.Fm}}]),n}(SB),gtt=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).pu=i,r}kt(n,t);var i=n.prototype;return i.oB=function(n){if(n===zA.VA)return this.Fwi=new ltt(t.prototype.oB.call(this,n),this.pu),this.Fwi},i.Fz=function(n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return i.Fwi=void 0,[4,(r=n).h_()];case 1:return e.sent(),[4,t.prototype.Fz.call(i,r.art)];case 2:return e.sent(),[2]}}))}))()},At(n,[{key:"Ywi",get:function(){return this.Fwi}}]),n}(pB),wtt=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new gtt(s,a),f=new jB(h),v=f.oB(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).Vwi=function(t){t.Lt.yn(cA.xw,c.Gwi)},c.Wwi=function(t){t.Lt.fn(cA.xw,c.Gwi)},c.Gwi=function(t){var n,i=null==(n=c.Hwi.Ywi)?void 0:n.xwi,r=t.Lht.Xw;null==i||i.setCurrentLevel(r)},c.Yz=f,c.Hwi=h,c.VT.yn(eA.hw,c.Vwi),c.VT.yn(eA.uw,c.Wwi),c}return kt(n,t),n.prototype.gn=function(){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:for(i=0,r=n.VT.Rw;i<r.length;i++)r[i].fn(cA.xw,n.Gwi);return n.rt.fn(eA.hw,n.Vwi),n.rt.fn(eA.uw,n.Wwi),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.Fm.h_()];case 2:return e.sent(),[4,n.Yz.Fz(n.Fm)];case 3:return e.sent(),[2]}}))}))()},n}(pV),ytt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=sT.jP,n}kt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){var o=new tB(gB.lL.Pnt,gB.lL.Rnt,gB.lL.jnt,gB.lL.Bnt),a=n;return QV.LO()&&(a=new QV(a)),new wtt(i,r,e,u,o,a,zA.VA,t)},i.hB=function(n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.hB.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===e.LcevcDil)throw new Fv(Qv.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.aB=function(){return!1},n}(JR);SD(new ytt),wt(),C(),Ot(),Mt(),Pt();var Att,mtt=function(t){function n(n,i,r,e,u,s,o,a,c){var h,f=new gtt(i,n),v=new jB(f),d=v.oB(zA.VA);return(h=t.call(this,d,r,e,u,s,o,a,c)||this).Vwi=function(t){t.Lt.yn(cA.xw,h.Gwi)},h.Wwi=function(t){t.Lt.fn(cA.xw,h.Gwi)},h.Gwi=function(t){var n,i=null==(n=h.Hwi.Ywi)?void 0:n.xwi,r=t.Lht.Mjt.Xw;null==i||i.setCurrentLevel(r)},h.Yz=v,h.Hwi=f,h.VT.yn(eA.hw,h.Vwi),h.VT.yn(eA.uw,h.Wwi),h}return kt(n,t),n.prototype.gn=function(){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:for(i=0,r=n.VT.Rw;i<r.length;i++)r[i].fn(cA.xw,n.Gwi);return n.rt.fn(eA.hw,n.Vwi),n.rt.fn(eA.uw,n.Wwi),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.Yz.Fz(n.Fm)];case 2:return e.sent(),[2]}}))}))()},n}($q),ptt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uB=sT.BP,n}kt(n,t);var i=n.prototype;return i.Yp=function(t,n,i,r,e,u,s){return new mtt(t,n,i,e,u,Sq(r.libraryLocation),new qq(r.libraryLocation),new tB(gB.lL.Pnt,gB.lL.Rnt,gB.lL.jnt,gB.lL.Bnt),r)},i.hB=function(n,i){var r=this;return xt((function(){return zt(this,(function(u){switch(u.label){case 0:return n.lcevc?[4,t.prototype.hB.call(r,n,i)]:[2,!1];case 1:if(!u.sent())return[2,!1];if(void 0===e.LcevcDil)throw new Fv(Qv.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.aB=function(){return!1},n}(n$);SD(new ptt),wt(),C(),wt(),C(),mt(),wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),function(t){t.Xwi="tr",t.Zwi="qwi"}(Att||(Att={}));var _tt="freewheel-nonlinear-ad",ktt=[dd.Lv,dd.fm,dd._m,dd.Sh,uk.Sm,dd.jh],Mtt=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).vz=void 0,s.mz=void 0,s.tvi=function(t){var n=t.Rit,i="Uit"===t.type;if(n.Z2t===w2.Cqt){var r=s.Qo.we.classList;i?r.add(_tt):r.remove(_tt)}i?s.ge():s.be()},s.$wi=function(){s.z4t(),s.Qo.Hg(),s.Qo.be()},s.ssi=function(){s.Jwi.lvi&&(s.Qo.G_||s.Qo.Xg(),s.be(),s.Qo.ge(),s.Q1t())},s.Jwi=e,s.Yz=r,s.Fm=u,s.X7=u.pz,s.X7.controls=!1,s.Kwi(),s.evi(),s.nvi(),s}kt(n,t);var i=n.prototype;return i.Wg=function(){this.Yz._U()},i.Kwi=function(){this.Jwi.yn("Bit",this.$wi),this.Jwi.yn(["Uit","Qit"],this.tvi),this.Jwi.yn("zit",this.ssi)},i.ivi=function(){this.Jwi.fn("Bit",this.$wi),this.Jwi.fn(["Uit","Qit"],this.tvi),this.Jwi.fn("zit",this.ssi)},i.evi=function(){this.A2t.Qa(this.Jwi.svi)},i.nvi=function(){this.Jwi.rvi.yn(ktt,this.Ds)},i.ovi=function(){this.Jwi.rvi.fn(ktt,this.Ds)},i.Yit=function(t){},i.Q_=function(){return this.Jwi.rvi.U_},i.F_=function(t,n){},i.Td=function(){return this.Jwi.rvi.ct},i.V_=function(){return this.Jwi.rvi.G_},i.W_=function(){return this.vz},i.X_=function(){return this.mz},i.Og=function(){return 0},i.Pg=function(){return 0},i.Bg=function(){return this.Jwi.rvi.zg},i.Ug=function(t){this.Jwi.rvi.zg=t},i.hg=function(){return this.Jwi.rvi.og},i.ag=function(t){this.Jwi.rvi.og=t},i.Ng=function(){return this.Jwi.rvi.Sg},i.Dg=function(){return this.Jwi.rvi.Ig},i._g=function(){return this.Jwi.rvi.fg},i.b2t=function(t){if(this.E2t||this.Jwi.b2t(t),this.Jwi.hvi){if(t.type===dd.Sh&&this.Qo.G_)return!0;if(t.type===dd.Ov)return this.Jwi.uvi.avi(),!0}return!1},i.be=function(){this.Jwi.be()},i.Hg=function(){this.fg||this.Jwi.rvi.Hg()},i.cvi=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:if(t.Jwi.lvi)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.Jwi.l5t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.dvi(n,d0.GENERAL),[3,4];case 4:return[2]}}))}))()},i.fvi=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.Jwi.rvi._vi?(t.Jwi.rvi.Xg(),[2,!1]):[3,1];case 1:if(!t.Jwi.gvi)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.Jwi.uvi.wvi()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.dvi(n,d0.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.dvi=function(t,n){t.name!==Att.Xwi&&this.A2t.Co(new v2(n,"Ads could not be loaded."))},i.Xg=function(){var t=this;return xt((function(){var n;return zt(this,(function(i){switch(i.label){case 0:return t.fg&&t.Co(new sD(t.U_)),[4,t.cvi()];case 1:return i.sent(),t.vvi?[2]:[4,t.fvi()];case 2:return n=i.sent(),!t.vvi&&n&&t.ssi(),[2]}}))}))()},i.E8t=function(t,n,i){n===aR.Cit&&this.Jwi.E8t(t)},i.ge=function(){this.Jwi.ge()},i.Ny=function(){this.Jwi.rvi.Ny()},i.Vg=function(){return this.X7},i.C_=function(){return this.Yz.pU.map((function(t){return t.pz}))},i.L2t=function(t){},i.gn=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return[4,t.Zg()];case 1:return n.sent(),t.Jwi.gn(),[4,t.Yz.Fz(t.Fm)];case 2:return n.sent(),t.ivi(),t.ovi(),t.A2t.DU(t.Jwi.svi),[2]}}))}))()},i.Zg=function(){var t=this;return xt((function(){return zt(this,(function(n){return t.Jwi.tr(),t.E2t&&(t.Qo.ge(),t.Q1t(),t.be()),[2]}))}))()},At(n,[{key:"m2t",get:function(){return this}},{key:"w2t",get:function(){return n.w2t}},{key:"Iit",get:function(){var t;return null!=(t=this.Jwi.svi.Iit)?t:null}},{key:"Sit",get:function(){var t=this.Jwi.svi.f8t;return t?[t]:[]}},{key:"Dit",get:function(){return this.Jwi.svi.Dit}},{key:"Eit",get:function(){return this.Jwi.svi.Eit}},{key:"vvi",get:function(){return zn(this.W_())}}],[{key:"w2t",get:function(){return A1.b$t}}]),n}(Y2);wt(),C(),Ot(),mt(),Mt(),Pt(),wt(),C(),Ot(),mt(),Mt(),Ct(),Pt(),wt(),C(),mt(),Mt();var btt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).pvi=e,u.yvi=0,u.q2t=Ntt(e),u.j2t=n,u.R2t=i,u}return kt(n,t),At(n,[{key:"mvi",get:function(){return this.pvi}},{key:"Avi",get:function(){return this.Oc[this.yvi]}},{key:"Mvi",get:function(){return this.yvi},set:function(t){this.yvi=t}},{key:"Z2t",get:function(){return this.q2t}},{key:"vKt",get:function(){return A1.b$t}}]),n}(A2);wt(),C(),mt(),Mt();var Ttt=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Tvi=r,e}return kt(n,t),n.prototype.fa=function(){return _2(this)},At(n,[{key:"bvi",get:function(){return this.Tvi},set:function(t){this.Tvi!==t&&(this.Tvi=t)}},{key:"Ti",get:function(){return this.Xl.mvi.getHeight()}},{key:"ji",get:function(){return this.Xl.mvi.getWidth()}},{key:"sZt",get:function(){return this.bvi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"vKt",get:function(){return A1.b$t}}]),n}(p2);function Ntt(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?w2.Cqt:w2.xqt}var Dtt=function(t){function n(i,r){var e;return(e=t.call(this)||this).Us=i,e.lj=r,e.Vvi=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.Wvi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.Xvi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.Hvi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.Lvi=[],e.Cvi=[],e.jvi=[],e.Rvi=[],e.zvi=function(t){var i=t.slot,r=e.Kvi(i);r&&(n.$vi(i,r),e.I$t=r,r.z2t(),e.smi(r),r.Z2t===w2.xqt&&e.Co(new NR(r)))},e.Bvi=function(){var t=e.Iit;t&&t.Z2t===w2.xqt&&(e.Co(new bR(t)),e.lj.src=""),e.I$t=void 0},e.Uvi=function(t){var n=e.qvi(t.adInstance);n&&(e.Co(new IR(n,n.bvi.getPlayheadTime())),e.v$t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Us.style.cursor="pointer",e.Us.addEventListener("click",e.nmi))},e.Qvi=function(){e.Us.style.cursor="",e.Us.removeEventListener("click",e.nmi)},e.nmi=function(){e.f8t&&e.f8t.bvi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.Fvi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.imi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.Q0t(),e.imi()}},e}kt(n,t);var i=n.prototype;return i.Svi=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return i.Nvi=t,i.Ivi=n,i.Dvi(t),[4,n];case 1:return r.sent(),i.Evi(),[2]}}))}))()},i.Evi=function(){this.Pvi()},i.Dvi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.zvi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Uvi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Qvi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Fvi)},i.Yvi=function(){this.Nvi&&(this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.zvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Uvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Qvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Fvi))},i.Pvi=function(){this.Lvi=this.Gvi(this.Vvi),this.Cvi=this.Gvi(this.Wvi).concat(this.Gvi(this.Hvi)),this.jvi=this.Gvi(this.Xvi),this.Rvi=this.Lvi.concat(this.Cvi).concat(this.jvi)},i.Gvi=function(t){if(!this.Nvi)return[];var n=this.Nvi.getSlotsByTimePositionClass(t);return this.Zvi(n)},i.qvi=function(t){if(this.I$t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.I$t.Mvi=n);var i=this.I$t.Avi;return i&&(i.bvi=t),i}},i.Kvi=function(t){return ro(this.Rvi,(function(n){return n.mvi===t}))},i.Zvi=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.Jvi(t);return new btt(i,i,r,t)}))},i.Q0t=function(){var t=this.f8t;t&&this.Co(new N2(t,this.tmi()))},i.imi=function(){var t=this.f8t;t&&(this.Co(new SR(t,t.bvi.getPlayheadTime())),this.v$t=void 0)},i.emi=function(t){var n=this.Iit;n&&(n.t$t=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.Oc.length,u=n;u<e;u++){var s=t.Oc[u],o=s.ct;if(s){var a=o;u===n&&(a=Bi(o-i,0,o)),r+=a}}return r}(n,n.Mvi,t))},i.tmi=function(){var t=this.f8t;if(!t)return 0;var n=t.bvi;return n.getPlayheadTime()/n.getDuration()},i.smi=function(t){ao(this.Rvi,t),ao(this.Lvi,t),ao(this.Cvi,t),ao(this.jvi,t)},i.tr=function(){this.Yvi(),this.Lvi.length=0,this.Cvi.length=0,this.jvi.length=0,this.Rvi.length=0,this.v$t=void 0,this.I$t=void 0,this.Nvi=void 0,this.Ivi=void 0},i.gn=function(){this.tr(),this.Vo()},n.$vi=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=Ntt(u.getSlot()),o=new Ttt(n,s,u);o.W2t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.U2t(o),r.push(o)}return r},n.Jvi=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},At(n,[{key:"kvi",get:function(){return this.Lvi}},{key:"xvi",get:function(){return this.Cvi}},{key:"Ovi",get:function(){return this.jvi}},{key:"Iit",get:function(){return this.I$t}},{key:"f8t",get:function(){return this.v$t}},{key:"Dit",get:function(){var t=[];if(this.I$t){var n,i=this.I$t.Mvi;if(i>=0)(n=t).push.apply(n,Lt(this.I$t.Oc.slice(i+1)))}for(var r=0,e=this.Rvi;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,Lt(s.Oc))}return t}},{key:"Eit",get:function(){return this.Rvi}}]),n}(Ho);wt(),C(),mt(),Mt();var Itt=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Qo=n,u.Wu=i,u.sAt=r,u.j0t=e,u.U1=BD.oU().ks(),u.cU=!0,u.jx=NaN,u._mi=!1,u.o2=!1,u.h2=ak.BT,u.hU=0,u.vmi=0,u.hmi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.bvi,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||Ui(r,i)})(u.sAt.f8t)||(u.fg=!0,u.Co(new uD(u.U_)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.fg=!1,u.Co(new gk(u.U_));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.ovt){var n=u.ovt.getAdVolume();0===n?u._mi=!0:u.Xx=n,u.Co(new vD(u.U_,u.zg))}}},u.umi=function(){u.G_=!1;var t=u.fg;if(u.fg=!1,t&&(u.Co(new sD(u.U_)),u.Co(new gk(u.U_))),u.h2=ak.QT,u.U_=0,u.sAt.f8t){var n=u.sAt.f8t.bvi;u.jx=n.getDuration(),u.Co(new oD(u.jx)),u.mmi=h((function(){if(u._vi){u.sAt.emi(u.U_);var t=n.getPlayheadTime();Pi(t,u.vmi,.001)||u.Co(new nA(t,void 0)),u.vmi=t}else u.g1()}),250),u.ovt&&u.ovt.setAdVolume(Ett(u.og,u.zg))}},u.pmi=function(){var t=u.sAt.f8t;t&&(t.Z2t===w2.Cqt?u.Qo.Hg():u.fg||u.Hg())},u.g1=function(){f(u.mmi),u.mmi=void 0},u.cmi=function(){u.g1(),u.G_=!0},u.lmi=function(){u.wmi("pause")},u.dmi=function(){u.wmi("playing")},u.Md=function(t){t.Xl.Z2t===w2.xqt&&(u.fg=!1)},u.ami=function(){u.ovt&&u.ovt.resize(u.Wu.ku,u.Wu._u)},u.Xx=n.zg,r.yn("Bit",u.Md),u.Wu.yn(qE.pn,u.ami),u.j0t.addEventListener("click",u.pmi),u}kt(n,t);var i=n.prototype;return i.rmi=function(){this.ovt&&this.ovt.setAdVolume(Ett(this.og,this.zg))},i.omi=function(t){this.ovt=t,this.Dvi(t)},i.Dvi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.hmi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.ami),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.umi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.cmi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.lmi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.dmi)},i.fmi=function(){var t=this.ovt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.hmi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.ami),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.umi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.cmi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.lmi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.dmi))},i.Xg=function(){this.sAt.Iit&&(this.sAt.Iit.mvi.resume(),this.fg=!1)},i.Hg=function(){this.sAt.Iit&&(this.sAt.Iit.mvi.pause(),this.fg=!0)},i.wmi=function(t){var i=n.gmi(t);this.ovt&&i&&this.ovt.setVideoState(i)},i.Ny=function(){var t=this.sAt.f8t;t&&t.bvi.skip()},i.tr=function(){if(this.fmi(),this.ovt){this.wmi("stop"),this.ovt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.ovt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.ovt.dispose(),this.ovt=void 0}this.jx=NaN,this.G_=!1,this.h2=ak.BT,this.U_=0,this.vmi=0,this.fg=!0,void 0!==this.mmi&&(f(this.mmi),this.mmi=void 0)},i.gn=function(){this.tr(),this.Vo(),this.sAt.fn("Bit",this.Md),this.Wu.fn(qE.pn,this.ami),this.j0t.removeEventListener("click",this.pmi)},n.gmi=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},At(n,[{key:"U_",get:function(){var t=this.sAt.f8t;return t&&(this.U_=t.bvi.getPlayheadTime()),this.hU},set:function(t){this.hU=t}},{key:"ct",get:function(){return this.jx}},{key:"_vi",get:function(){return!!this.sAt&&void 0!==this.sAt.Iit}},{key:"fg",get:function(){return this.cU},set:function(t){this.cU=t}},{key:"zg",get:function(){return this.Xx},set:function(t){this.ovt&&this.ovt.setAdVolume(t),this.Xx=t}},{key:"og",get:function(){return this.ovt&&(this._mi=0===this.ovt.getAdVolume()),this._mi},set:function(t){this.ovt&&this.ovt.setAdVolume(Ett(t,this.zg)),this._mi=t}},{key:"Ig",get:function(){return this.U1}},{key:"G_",get:function(){return this.o2},set:function(t){this.o2=t}},{key:"Sg",get:function(){return this.h2}}]),n}(Ho);function Ett(t,n){return t?0:n}wt(),C(),Ot(),Pt(),wt(),C(),mt(),Mt();var Stt=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")}return kt(n,t),At(n,[{key:"name",get:function(){return Att.Zwi}}]),n}(Io);wt(),C(),mt(),Mt();var Ltt=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")}return kt(n,t),At(n,[{key:"name",get:function(){return Att.Xwi}}]),n}(Io),Ctt=0;var jtt=function(){function t(t,n,i,r){var e=this;this.ovt=n,this.bmi=function(t){e.ovt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.bmi),t.success?e.Mmi.LL(void 0):e.Mmi.xL(new Stt)},this.Ami(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.bmi),this.Mmi=new Cc}var n=t.prototype;return n.Ami=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.ovt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++Ctt,s.adUnit,s.timeOffset)}var o=n.customData;if(Un(o))for(var a=l.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.ymi=function(){var t=this;return xt((function(){return zt(this,(function(n){switch(n.label){case 0:return t.ovt.submitRequest(),[4,t.Mmi.OL];case 1:return n.sent(),[2]}}))}))()},n.tr=function(){this.ovt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.bmi),this.Mmi.xL(new Ltt)},t}();wt(),C(),Ot(),Pt(),wt(),C(),mt();var xtt=function(){function t(t){var n=this;this.Nvi=t,this.Bvi=function(t){n.Tmi(),n.__.LL(void 0)},this.o9t=function(t){n.Tmi(),n.__.xL(new Stt)},this.__=new Cc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.o9t)}var n=t.prototype;return n.Tmi=function(){this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bvi),this.Nvi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.Bvi)},n.yQt=function(){this.Tmi(),this.__.xL(new Ltt)},At(t,[{key:"Smi",get:function(){return this.__.OL}}]),t}(),Ott=function(){function t(t,n){var i=this;this.Qo=t,this.Imi=n,this.Emi=0,this.kmi=function(){for(var t=i.Qo.Q_(),n=0,r=i.Imi.xvi;n<r.length;n++){var e=r[n],u=new BD([i.Emi,t],[!0,!0]),s=e.mvi.getTimePosition();if(u.gr(s))switch(e.mvi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.Nmi([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.mvi.play(),e.mvi.setVisible(!0)}}i.Emi=t},t.yn(dd.fm,this.kmi)}var n=t.prototype;return n.tS=function(t){this.Nvi=t},n.wvi=function(){return this.Nmi(this.Imi.kvi)},n.avi=function(){this.Nmi(this.Imi.Ovi)},n.Nmi=function(t){var n=this;return xt((function(){var i,r;return zt(this,(function(e){switch(e.label){case 0:if(!n.Nvi)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.Dmi=new xtt(n.Nvi),i=n.Dmi.Smi,(r=n.Imi.Iit)&&r.Z2t===w2.Cqt&&r.mvi.stop(),t.shift().mvi.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.Dmi=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.tr=function(){this.Dmi&&(this.Dmi.yQt(),this.Dmi=void 0),this.Emi=0},n.gn=function(){this.Qo.fn(dd.fm,this.kmi)},t}(),ztt=0,Rtt=function(t){function n(i,r,u){var s;return(s=t.call(this)||this).Qo=i,s.lj=r,s.jmi=!1,s.xmi=n.createUniqueDisplayBaseId(),s.j0t=n.Pmi(i.we,r,s.xmi),s.Lmi=new e.tv.freewheel.SDK.AdManager,s.Rmi=new Dtt(s.j0t,s.lj),s.Cmi=new Ott(s.Qo,s.svi),s.Qa(s.svi),s.t9t=new Itt(i,u,s.svi,s.j0t),s}kt(n,t);var i=n.prototype;return i.l5t=function(){var t=this;return xt((function(){var n,i,r,e;return zt(this,(function(u){switch(u.label){case 0:if(!t.mKt)throw new v("Invalid state");n=t.Lmi,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new jtt(n,i,t.mKt,t.xmi),e=t.svi.Svi(i,r.ymi()),t.Cmi.tS(i),t.rvi.omi(i),t.Omi=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.rvi.rmi(),t.jmi=!0,[7];case 4:return[2]}}))}))()},i.b2t=function(t){this.rvi.wmi(t.type)},i.ge=function(){this.j0t.style.display="block",this.lj.style.display="block"},i.be=function(){this.j0t.style.display="none",this.lj.style.display="none"},i.E8t=function(t){this.mKt=t},i.tr=function(){this.jmi=!1,this.mKt=void 0,this.svi.tr(),this.Cmi.tr(),this.Omi&&(this.Omi.tr(),this.Omi=void 0),this.rvi.tr(),this.lj.src=""},i.gn=function(){this.tr(),this.t9t.gn(),this.Cmi.gn(),this.svi.gn(),this.j0t.remove(),this.Qo.we.removeChild(this.j0t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++ztt},n.Pmi=function(t,n,i){var r=u.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},At(n,[{key:"hvi",get:function(){return 0!==this.svi.Ovi.length}},{key:"gvi",get:function(){return 0!==this.svi.kvi.length}},{key:"rvi",get:function(){return this.t9t}},{key:"svi",get:function(){return this.Rmi}},{key:"lvi",get:function(){return this.jmi}},{key:"uvi",get:function(){return this.Cmi}}]),n}(sI);function Btt(t){if(e.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function Ptt(t,n,i){if(void 0!==n&&A(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return Q0(n)}var Utt=function(){function t(){}var n=t.prototype;return n.YU=function(t){return t.integration===oI.FREEWHEEL},n.f2t=function(t,n,i){if(Boolean(e.tv&&e.tv.freewheel&&e.tv.freewheel.SDK&&e.tv.freewheel.SDK.AdManager)){var r=new $e(t.Iu,t.Ol,1,[zA.VA]);r.yU(t.we);var u=r.oB(zA.VA),s=new Rtt(t,u.pz,t.Iu);return new Mtt(t,n,r,s,u)}},n.hY=function(t){var n=wA(t);Bn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=Ptt(s.adUnit,s.timeOffset,r),a=Btt(s.adUnit);!A(o)&&Yn(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):on.vp("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.W4=function(t,n,i,r){i.E8t(t,n,r)},At(t,[{key:"d2t",get:function(){return A1.b$t}}]),t}();wI.lL.GU(new Utt),wt(),C(),wt(),C(),wt(),C(),Mt(),wt(),C(),wt(),C();var Qtt,Ytt,Gtt=self.theoplayerDeviceMetadata;function Ftt(t){return t.navigator&&t.navigator.userAgent||""}wt(),C(),wt(),C(),wt(),C(),Zt(),wt(),C(),Zt(),function(t){t.zmi="Windows 10",t.Bmi="Windows 8.1",t.Umi="Windows 8",t.Qmi="Windows 7",t.Fmi="Windows Vista",t.Ymi="Windows Server 2003",t.Gmi="Windows XP",t.Vmi="Windows Phone",t.Wmi="Mac OS X",t.Hmi="Mac OS",t.wE="Android",t.mE="iOS",t.Xmi="Ubuntu",t.Zmi="Linux",t.qmi="Chrome OS"}(Qtt||(Qtt={}));var Vtt=(Xt(Ytt={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),Xt(Ytt,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),Xt(Ytt,"Windows 8",/(Windows 8|Windows NT 6.2)/i),Xt(Ytt,"Windows 7",/(Windows 7|Windows NT 6.1)/i),Xt(Ytt,"Windows Vista",/Windows NT 6.0/i),Xt(Ytt,"Windows Server 2003",/Windows NT 5.2/i),Xt(Ytt,"Windows XP",/(Windows NT 5.1|Windows XP)/i),Xt(Ytt,"Windows Phone",/Windows Phone/i),Xt(Ytt,"Android",/Android/i),Xt(Ytt,"Linux",/(Linux(?!.*Ubuntu)|X11)/),Xt(Ytt,"Ubuntu",/Ubuntu/i),Xt(Ytt,"iOS",/(iPhone|iPad|iPod)/i),Xt(Ytt,"Mac OS X",/Mac OS X/i),Xt(Ytt,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),Xt(Ytt,"Chrome OS",/CrOS/i),Ytt);function Wtt(t,n){var i=Vtt[n];return!!i&&Boolean(Ftt(t).match(i))}function Xtt(t){return Wtt(t,"Android")}function Ztt(t){return Wtt(t,"Windows Phone")}function Htt(t){return Wtt(t,"iOS")&&!Ztt(t)}function Ktt(t){return Wtt(t,"Ubuntu")}var Jtt,qtt,$tt,tnt=/Windows (NT|Phone) ([0-9.]+)/i,nnt=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,int=(Xt(Jtt={},"Windows 10",tnt),Xt(Jtt,"Windows 8.1",tnt),Xt(Jtt,"Windows 8",tnt),Xt(Jtt,"Windows 7",tnt),Xt(Jtt,"Windows Vista",tnt),Xt(Jtt,"Windows Server 2003",tnt),Xt(Jtt,"Windows XP",tnt),Xt(Jtt,"Windows Phone",/Windows Phone ([0-9.]+)/i),Xt(Jtt,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),Xt(Jtt,"Linux",void 0),Xt(Jtt,"Ubuntu",void 0),Xt(Jtt,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),Xt(Jtt,"Mac OS X",nnt),Xt(Jtt,"Mac OS",nnt),Xt(Jtt,"Chrome OS",void 0),Jtt);function rnt(t,n){var i=int[n];return i?Ftt(t).match(i):null}function ent(t){return t.split(/[_.]/).map((function(t){return w(t,10)}))}function unt(t){if(function(t){return Boolean(Ftt(t).match(/Windows/i))}(t)){if(function(t){return Wtt(t,"Windows 10")}(t))return"Windows 10";if(Ztt(t))return"Windows Phone";if(function(t){return Wtt(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return Wtt(t,"Windows 8")}(t))return"Windows 8";if(function(t){return Wtt(t,"Windows 7")}(t))return"Windows 7";if(function(t){return Wtt(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return Wtt(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return Wtt(t,"Windows XP")}(t))return"Windows XP"}else{if(Xtt(t))return"Android";if(Htt(t))return"iOS";if(function(t){return Wtt(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return Wtt(t,"Mac OS")}(t))return"Mac OS";if(Ktt(t))return"Ubuntu";if(function(t){return Wtt(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return Wtt(t,"Linux")&&!Ktt(t)}(t))return"Linux"}}function snt(t,n){var i=function(t){var n=rnt(t,"Windows 10");return n&&n.length>2?ent(n[2]):void 0}(t),r=function(t){var n=rnt(t,"Mac OS X");return n&&n.length>2?ent(n[2]):void 0}(t),e=function(t){var n=rnt(t,"Android");return n&&n.length>1?ent(n[1]):void 0}(t),u=function(t){var n=rnt(t,"iOS");return n&&n.length>3?ent(n[3]):void 0}(t),s=function(t){var n=rnt(t,"Chrome OS");return n&&n.length>0?ent(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function ont(t){var n=function(t){return snt(t,0)}(t),i=function(t){return snt(t,1)}(t),r=function(t){return snt(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}!function(t){t.Kmi="Chrome",t.Jmi="Chrome Mobile",t.$mi="Chrome iOS",t.tpi="Chromium",t.ipi="Firefox",t.epi="Seamonkey",t.spi="Firefox iOS",t.npi="Firefox Mobile",t.rpi="Safari",t.opi="Safari Mobile",t.hpi="Edge",t.upi="Edge Chromium",t.cpi="Edge Mobile",t.lpi="IE",t.fpi="Opera",t._pi="Opera Mobile",t.gpi="Vivaldi",t.wpi="HeadlessChrome",t.vpi="Android Browser"}(qtt||(qtt={}));var ant=(Xt($tt={},"Chrome",/Chrome/i),Xt($tt,"Chrome Mobile",void 0),Xt($tt,"Chrome iOS",/CriOS/i),Xt($tt,"Chromium",/Chromium/i),Xt($tt,"HeadlessChrome",/HeadlessChrome/i),Xt($tt,"Firefox",/Firefox/i),Xt($tt,"Seamonkey",/Seamonkey/i),Xt($tt,"Firefox iOS",/FxiOS/i),Xt($tt,"Safari",/Safari/i),Xt($tt,"Edge",/Edge\/\d+/i),Xt($tt,"Edge Chromium",/Edg\/\d+/i),Xt($tt,"IE",/Trident/i),Xt($tt,"Opera",/Opera|OPR/i),Xt($tt,"Vivaldi",/Vivaldi/i),Xt($tt,"Android Browser",void 0),$tt);function cnt(t,n){var i=ant[n];return!!i&&Boolean(Ftt(t).match(i))}function hnt(t){return Boolean(Ftt(t).match(/Mobi/i))}function fnt(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||vnt(t)}function vnt(t){return cnt(t,"Chrome iOS")}function dnt(t){return cnt(t,"Firefox")&&!gnt(t)}function lnt(t){return cnt(t,"Firefox Mobile")&&!gnt(t)&&hnt(t)}function gnt(t){return cnt(t,"Seamonkey")}function wnt(t){return cnt(t,"Firefox iOS")&&!gnt(t)}function ynt(t){return cnt(t,"Safari")&&!cnt(t,"Chrome")&&!jn.jE}function Ant(t){return Boolean(Int(t))}function mnt(t){return cnt(t,"Edge")}function pnt(t){return cnt(t,"Edge Chromium")}function _nt(t){return cnt(t,"IE")}function knt(t){return cnt(t,"Vivaldi")}var Mnt,bnt,Tnt=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,Nnt=(Xt(Mnt={},"Chrome",Tnt),Xt(Mnt,"Chrome Mobile",Tnt),Xt(Mnt,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Xt(Mnt,"Chromium",Tnt),Xt(Mnt,"HeadlessChrome",Tnt),Xt(Mnt,"Firefox",/Firefox\/([0-9.]+)/i),Xt(Mnt,"Firefox iOS",/FxiOS\/([0-9.]+)/i),Xt(Mnt,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Xt(Mnt,"Safari Mobile",void 0),Xt(Mnt,"Edge",/Edge\/(\d+)/i),Xt(Mnt,"Edge Chromium",/Edg\/(\d+)/i),Xt(Mnt,"Edge Mobile",void 0),Xt(Mnt,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),Xt(Mnt,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),Xt(Mnt,"Opera Mobile",void 0),Xt(Mnt,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),Xt(Mnt,"Android Browser",void 0),Mnt);function Dnt(t,n){var i=Nnt[n];return i?Ftt(t).match(i):null}function Int(t){return Dnt(t,"Opera")}function Ent(t){var n=function(t){return Dnt(t,"Firefox")}(t);return n?y(n[1]):0}function Snt(t){var n=function(t){return Dnt(t,"Firefox iOS")}(t);return n?y(n[1].split(".")[0]):0}function Lnt(t){var n=function(t){return Dnt(t,"Safari")}(t);return n?y(n[2].split(".")[0]):0}function Cnt(t){var n=function(t){return Dnt(t,"Edge")}(t);return n?y(n[1]):0}function jnt(t){var n=function(t){return Dnt(t,"Edge Chromium")}(t);return n?y(n[1]):0}function xnt(t){var n=function(t){return Dnt(t,"IE")}(t);return n?y(n[2]):0}function Ont(t){var n=function(t){return Dnt(t,"Vivaldi")}(t);return n?y(n[1]):0}function znt(t){if(Xtt(t))return fnt(t)?"Chrome Mobile":dnt(t)||lnt(t)?"Firefox Mobile":mnt(t)?"Edge Mobile":Ant(t)?"Opera Mobile":"Android Browser";if(Htt(t)){if(fnt(t)||vnt(t))return"Chrome iOS";if(dnt(t)||wnt(t))return"Firefox iOS";if(mnt(t))return"Edge Mobile";if(ynt(t)||function(t){return ynt(t)&&hnt(t)}(t))return"Safari Mobile";if(Ant(t))return"Opera Mobile"}return function(t){return cnt(t,"Chromium")}(t)?"Chromium":function(t){return cnt(t,"HeadlessChrome")}(t)?"HeadlessChrome":fnt(t)?"Chrome":dnt(t)?"Firefox":ynt(t)?"Safari":mnt(t)?"Edge":pnt(t)?"Edge Chromium":_nt(t)?"IE":Ant(t)?"Opera":knt(t)?"Vivaldi":void 0}function Rnt(t){return knt(t)?Ont(t):vnt(t)?Number(function(t){var n=Nnt["Chrome iOS"];return n&&n.exec(Ftt(t))||[]}(t)[1]):fnt(t)?Number(function(t){var n=Nnt.Chrome;return n&&n.exec(Ftt(t))||[]}(t)[1]):dnt(t)||lnt(t)?Ent(t):wnt(t)?Snt(t):ynt(t)?Lnt(t):mnt(t)?Cnt(t):pnt(t)?jnt(t):_nt(t)?xnt(t):Ant(t)?function(t){var n=Int(t);return n&&n[0].indexOf("Opera")>-1?y(n[5]):n?y(n[2].split(".")[0]):0}(t):void 0}function Bnt(t){var n=Ftt(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(znt(t))}(t)?"pc":void 0}!function(t){t.mpi="pc",t.ppi="console",t.Api="settop",t.ypi="mobile",t.Mpi="tablet",t.bpi="smarttv",t.Tpi="searchbot"}(bnt||(bnt={}));var Pnt=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.Dpi=function(){var t=on.Bst;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(on.zst);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.oY=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=cd.IL("deviceId");if(t)return t;var n=SI();return cd.EP("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"8.3.0"),this.Spi(t),this.Npi(),this.Ipi(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.Dpi(),o.connection&&o.connection.addEventListener&&o.connection.addEventListener("change",this.Dpi))},n.Spi=function(t){this.Epi(t);var n=t.deviceManufacturer||Gtt&&Gtt.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||Gtt&&Gtt.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.Epi=function(t){var n=t.deviceType||function(){var t=Bnt(self);switch(t){case bnt.ppi:return"game-console";case bnt.bpi:return"tv";case bnt.Api:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.Npi=function(){var t=znt(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=Rnt(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.Ipi=function(t){var n=t.deviceOs||unt(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||ont(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.gn=function(){o.connection&&o.connection.removeEventListener&&o.connection.removeEventListener("change",this.Dpi)},t}();var Unt,Qnt,Ynt=function(t){function n(){var n;return(n=t.call(this)||this).bo=!1,n.Opi=!1,n.xpi=iu.Agama,n}kt(n,t);var i=n.prototype;return i.Wg=function(t){this.Lpi=t,this.xpi&&(this.RQ=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.xpi),this.RQ&&(this.Cpi=new Pnt(this.RQ,this.xpi),this.bo=!0))},i.rY=function(){return this.xpi||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.xpi},i.sY=function(){return this.bo},i.xF=function(t,n){if(this.RQ&&this.xpi)switch(t){case vI.eQ:this.RQ.setMeasurement(this.xpi.Measurement.BUFFER_LENGTH,n);break;case vI.sQ:this.RQ.setMeasurement(this.xpi.Measurement.BYTES_RECEIVED,n);break;case vI.rQ:this.RQ.setMeasurement(this.xpi.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case vI.oQ:this.RQ.setMeasurement(this.xpi.Measurement.VIDEO_PROFILE_BITRATE,n);break;case vI.nQ:this.RQ.setMeasurement(this.xpi.Measurement.SEGMENT_READ_BITRATE,n);break;case vI.KU:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case vI.JU:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case vI.$U:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case vI.tQ:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case vI.iQ:this.RQ.setMeasurement(this.xpi.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case vI.aQ:this.RQ.setMeasurement(this.xpi.Measurement.PLAYBACK_POSITION,n);break;case vI.uQ:this.RQ.setMeasurement(this.xpi.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case vI.hQ:this.RQ.setMeasurement(this.xpi.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.fF=function(t,n){if(this.RQ&&this.xpi)switch(t){case dI._Q:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.ASSET_DURATION,n);break;case dI.fQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.MANIFEST_URI,n);break;case dI.gQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case dI.mQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.SERVICE_NAME,n);break;case dI.wQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CDN,n);break;case dI.vQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CONTENT_TITLE,n);break;case dI.pQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CONTENT_TYPE,n);break;case dI.AQ:this.RQ.setSessionMetadata(this.xpi.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.oY=function(){this.Cpi&&this.Lpi&&this.Cpi.oY(this.Lpi)},i.nY=function(t,n){this.xpi&&this.RQ&&(this.QF(),function(t,n,i,r){var e=LI(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.xpi,this.RQ,t,n),this.Opi=!0)},i.gn=function(){this.Cpi&&this.Cpi.gn(),this.jpi(lI.yQ),this.RQ=void 0},i.$Q=function(t){this.Rpi(t)},i.eF=function(t,n){this.RQ&&this.RQ.event(t.code,n)},i.QF=function(){this.RQ&&this.Opi&&(this.RQ.exitSession(),this.Opi=!1)},i.jpi=function(t){if(this.RQ&&this.xpi&&(this.QF(),t===lI.yQ))this.RQ.shutdown(this.xpi.ShutdownType.NORMAL_SHUTDOWN)},i.tF=function(t,n,i){this.Rpi(t,n,i)},i.Rpi=function(t,n,i){if(this.RQ&&this.xpi)switch(t){case fI.Sm:this.Ppi(this.xpi.ViewState.PLAYING,n,i);break;case fI.XU:this.Ppi(this.xpi.ViewState.FAILED,n,i);break;case fI.ZU:this.Ppi(this.xpi.ViewState.INITIAL_BUFFERING,n,i);break;case fI.VU:this.Ppi(this.xpi.ViewState.PAUSED,n,i);break;case fI.WU:this.Ppi(this.xpi.ViewState.SEEK,n,i);break;case fI.HU:this.Ppi(this.xpi.ViewState.STALLED,n,i);break;case fI.qU:this.Ppi(this.xpi.ViewState.NO_ACCESS,n,i)}},i.Ppi=function(t,n,i){if(this.RQ)if(n){var r=function(t){return t||""}(i);this.RQ.viewStateExtended(t,n.code,r)}else this.RQ.viewStateChanged(t)},n}(pI);ET(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).RQ=new t,e.kpi=new OI(Vt(e),e.RQ,r),e}kt(i,n);var r=i.prototype;return r.F_=function(t,i){this.kpi&&this.kpi.XQ(),n.prototype.F_.call(this,t)},r.gn=function(){this.kpi&&this.kpi.gn(),n.prototype.gn.call(this)},i}(n)}}(Ynt),TT.vit),wt(),C(),wt(),C(),Wt(),Mt(),wt(),C(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),function(t){t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last"}(Unt||(Unt={})),wt(),C(),function(t){t.VOD="vod",t.LIVE="live"}(Qnt||(Qnt={}));var Gnt=function(){function t(t,n,i,r,e,u,s){var o=this;this.Qo=t,this.Gpi=n,this.Hpi=i,this.Upi=r,this.zpi=e,this.eAi=u,this.Qpi=s,this.vz=void 0,this.mz=void 0,this.L5=new So,this.Xpi=new So,this.mAi=void 0,this.Fpi=!1,this.P0t=void 0,this.Zpi=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.zpi.pAi(r),r&&r.type===Qnt.VOD&&r.ads&&o.Upi.nAi(r.ads),o.Gpi.AAi=n.integrationData,e.assetInfo&&Qo(o.fetchAssetInfo(n))}},this.Tdi=function(){o.Fpi=!0},this.xoi=function(){o.Fpi&&o.rAi(o.Qo.Q_())},this.Gfi=function(){o.Fpi&&(o.rAi(1/0),o.Fpi=!1)},this.jd=function(){Qo(o.Gpi.Cn())},this.Kpi=function(t){o.L5.g_(),o.L5=new So,Qo(o.Xsi(t.Xl.bS,o.L5.f_))},this.Jpi=function(){1!==o.Qo.gg&&(o.mAi=o.Qo.gg,o.Qo.gg=1)},this.$pi=function(){void 0!==o.mAi&&(o.Qo.gg=o.mAi,o.mAi=void 0)},this.tAi=function(t){t.Xl.yn("qpi",o.Kpi),t.Xl.yn("Bit",o.Jpi),t.Xl.yn("zit",o.$pi)},this.iAi=function(t){t.Xl.fn("qpi",o.Kpi),t.Xl.fn("Bit",o.Jpi),t.Xl.fn("zit",o.$pi)},this.vAi=function(){o.Qo.Hg()},this.Qo.yn(dd.Dv,this.Zpi),this.Qo.yn(dd.jh,this.Tdi),this.Qo.yn(dd.fm,this.xoi),this.Qo.yn(dd.Ov,this.Gfi),this.Qo.yn(uk.ym,this.jd),this.Upi.s$t.yn("jit",this.tAi),this.Upi.s$t.yn("Oit",this.iAi)}var n=t.prototype;return n.Bpi=function(t){this.vz=YA(t),this.mz=t,this.Qo.Co(new uT(t))},n.ga=function(t){this.Upi.tr(),this.Qpi.kL(),this.Fpi=!1,this.Qo.Ypi(t)},n.iet=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return i.Gpi.tr(),i.Fpi=!1,t&&function(t){return t.sources.some((function(t){return t.integration===IN.VERIZON_MEDIA}))}(t)?[3,2]:[4,i.Qo.Vpi(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.Hpi.lgi(t)];case 3:return i.Wpi=e.sent(),[4,i.Qo.Vpi(i.Wpi,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.Bpi(new Fv(Qv.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.gn=function(){this.L5.g_(),this.Xpi.g_(),this.Qo.fn(dd.Dv,this.Zpi),this.Qo.fn(dd.jh,this.Tdi),this.Qo.fn(dd.fm,this.xoi),this.Qo.fn(dd.Ov,this.Gfi),this.Qo.fn(uk.ym,this.jd);for(var t=0,n=this.Upi.s$t.Gu;t<n.length;t++){var i=n[t];i.fn("qpi",this.Kpi),i.fn("Bit",this.Jpi),i.fn("zit",this.$pi)}this.Upi.s$t.fn("jit",this.tAi),this.Upi.s$t.fn("Oit",this.iAi),this.Upi.gn(),this.P0t&&(this.P0t.h_(),this.P0t=void 0),this.Fpi=!1},n.fetchAssetInfo=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.eAi.Tbt(t.integrationData.source.prefix,t.integrationData.source.id,n.Xpi.f_,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.zpi.sAi(i),n.Qpi.nAi(i,n.Upi.s$t.Gu),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.rAi=function(t){this.Upi.oAi(t),this.Upi.Sit.forEach((function(n){return n.hAi(t)})),this.Upi.aAi(this.Qo.Dg()),this.R0t()},n.F_=function(t){this.Upi.Iit||(this.L5.g_(),this.L5=new So,Qo(this.Xsi(t,this.L5.f_)))},n.Xsi=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:if(jo(n),t<i.Qo.Q_())return i.uAi(t),[2];switch(r=[],i.Upi.cAi){case Unt.PLAY_ALL:return[3,1];case Unt.PLAY_LAST:return[3,3];case Unt.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.Upi.lAi(i.Qo.Q_(),t),[4,i.dAi(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.Upi.lAi(i.Qo.Q_(),t).pop(),r=e?[e]:[],[4,i.dAi(t,r,n)];case 5:return i.fAi(t),[3,6];case 6:return[2]}}))}))()},n.uAi=function(t){var n=ro(this.Upi.s$t.Gu,(function(n){return n.Sat.gr(t)}));n?this.Qo._Ai(n.MS):this.Qo._Ai(t)},n.fAi=function(t){var n=this.Upi.lAi(this.Qo.Q_(),t).pop();n&&n.Sat.gr(t)?this.Qo._Ai(n.bS):this.Qo._Ai(t)},n.dAi=function(t,n,i){var r=this;return xt((function(){var e,u,s;return zt(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.gAi(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s.Sat.gr(t)?(r.Qo.Q_()<t&&r.Qo._Ai(s.bS),[2]):(r.Qo._Ai(t),[2])}}))}))()},n.gAi=function(t,n){var i=this;return xt((function(){var r;return zt(this,(function(e){switch(e.label){case 0:return t.fn("qpi",i.Kpi),r=K.race([t.k_("zit",n),t.k_("qpi",n)]),i.rAi(i.Qo.Q_()),t.ro||i.Qo._Ai(t.MS),[4,r];case 1:return e.sent(),t.yn("qpi",i.Kpi),[2]}}))}))()},n.R0t=function(){var t=ro(this.Upi.Sit,(function(t){return t.wAi.length>0}));if(t){var n=t.wAi[0];this.P0t||(this.P0t=new z1(this.Qo.we),this.P0t.yn("clickstart",this.vAi)),this.P0t.V$t=n}else this.P0t&&(this.P0t.h_(),this.P0t=void 0)},At(t,[{key:"va",get:function(){return this.zpi.va}},{key:"lt",get:function(){return this.vz}},{key:"H_",get:function(){return this.mz}}]),t}();wt(),C(),Ot(),Zt(),Pt(),wt(),C();var Fnt=Ab({breaksIndex:hb,adsIndex:hb,startTime:hb,endTime:hb}),Vnt=Ab({index:hb,timeOffset:hb}),Wnt=Ab({duration:hb,apiFramework:Mb(fb,gb),creative:fb,mimeType:fb,width:hb,height:hb,companions:Tb(function(t){return new Ib(t)}((function(){return Wnt}))),extensions:Mb(db,Tb(lb)),fw_parameters:Mb(db,Db(fb)),events:Db(Tb(fb))}),Xnt=Ab({type:_b(["linear","nonlinear"]),position:_b(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:hb,duration:hb,ads:Tb(Wnt),events:Db(Tb(fb))}),Znt=Ab({breaks:Tb(Xnt),breakOffsets:Tb(Vnt),placeholderOffsets:Tb(Fnt)}),Hnt=Ab({fairplayCertificateURL:Mb(db,fb),widevineLicenseURL:Mb(db,fb),playreadyLicenseURL:Mb(db,fb)}),Knt={type:_b(mb(Qnt)),playURL:fb,prefix:fb,sid:fb,drm:Mb(db,Hnt)},Jnt=Ab(Xu({},Knt,{type:_b([Qnt.VOD]),ads:Znt,interstitialURL:Mb(fb,gb,db)})),qnt=Mb(Jnt,Ab(Xu({},Knt,{type:_b([Qnt.LIVE])})));wt(),C();var $nt,tit=fb,nit=Ab({userId:fb,externalId:Mb(fb,Tb(fb))});!function(t){t[t.AD_IMPRESSIONS=1]="AD_IMPRESSIONS",t[t.FW_VIDEO_VIEWS=2]="FW_VIDEO_VIEWS",t[t.LINEAR_AD_DATA=4]="LINEAR_AD_DATA"}($nt||($nt={}));var iit,rit=function(){function t(t){this.aE=t}var n=t.prototype;return n.Tbt=function(t){var n=this;return xt((function(){return zt(this,(function(i){try{return[2,n.yAi(t)]}catch(t){throw t}return[2]}))}))()},n.yAi=function(t){var n=this;return xt((function(){var i,r,e;return zt(this,(function(u){switch(u.label){case 0:return[4,uit(t)];case 1:return i=u.sent(),[4,n.aE.uD({ZD:Ww.GET,zu:i,qD:ld.ND})];case 2:return[4,u.sent().ly()];case 3:return r=u.sent(),e=Xu({},r,{type:t.assetType===xI.ASSET?Qnt.VOD:Qnt.LIVE}),qnt.uP(e)||qnt.lP(e,"PreplayResponse"),[2,e]}}))}))()},t}(),eit=(Xt(iit={},xI.ASSET,""),Xt(iit,xI.CHANNEL,"channel/"),Xt(iit,xI.EVENT,"event/"),iit);function uit(t){return sit.apply(this,arguments)}function sit(){return sit=xt((function(t){var n,i,r,e,u,s;return zt(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=eit[t.assetType],r=function(t){if(Tb(tit).uP(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(tit.uP(t))return t;if(nit.uP(t)&&Bn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(nit.uP(t))return"ext/"+t.userId+"/"+t.externalId;throw new d("Invalid asset id")}(t.id),[4,oit(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=cit(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},Bn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,ny(n+"/preplay/"+i+r+".json",Xu({v:"2"},s,e,u,s))]}}))})),sit.apply(this,arguments)}function oit(t){return ait.apply(this,arguments)}function ait(){return ait=xt((function(t){var n,i,r;return zt(this,(function(e){switch(e.label){case 0:return(n=t)?[4,on.yO()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,on.vO()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,on.AO()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),ait.apply(this,arguments)}function cit(t,n){var i=t!==xI.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}wt(),C(),Ot(),Pt(),wt(),C();var hit,fit=Ab({ad_id:fb,apiFramework:Mb(gb,fb),companions:Tb(lb),creative:fb,duration:hb,mimeType:fb,height:hb,width:hb,extensions:Mb(db,Tb(lb)),fw_parameters:Mb(db,Db(fb))}),vit=Ab({breakId:fb,ads:Tb(fit),type:_b(["linear","nonlinear"]),position:_b(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:hb,duration:hb,height:Mb(db,hb),width:Mb(db,hb),events:Db(Tb(fb))}),dit=Ab({breaks:Tb(vit)}),lit=Ab({next_time:hb,ads:Mb(db,dit),extensions:Mb(db,Tb(lb)),error:Mb(db,fb),currentBreakEnd:Mb(db,hb)});!function(t){t.Ebt="start",t.WU="seek"}(hit||(hit={}));var git=function(){function t(t){this.aE=t}var n=t.prototype;return n.Tbt=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){try{return[2,i.yAi(t,n)]}catch(t){throw t}return[2]}))}))()},n.yAi=function(t,n){var i=this;return xt((function(){var r,e;return zt(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return ny(t.zonePrefix+"/session/ping/"+t.sessionId+".json",Xu({},n))}(t),[4,i.aE.uD({ZD:Ww.GET,zu:r,qD:ld.ND,f_:n})];case 1:return[4,u.sent().ly()];case 2:return e=u.sent(),lit.uP(e)||lit.lP(e,"PingResponse"),[2,e]}}))}))()},t}();wt(),C(),Wt(),Ot(),mt(),Mt(),Pt(),wt(),C(),mt(),Mt();var wit=function(t){function n(n){var i;return(i=t.call(this,"MAi")||this).dD=n,i}return kt(n,t),n.prototype.fa=function(){return new yit(this.dD)},At(n,[{key:"lD",get:function(){return this.dD}}]),n}(iA),yit=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return kt(n,t),n}(Jo);wt(),C(),mt(),Mt();var Ait=function(t){function n(n){var i;return(i=t.call(this,"bAi")||this).vz=n,i}return kt(n,t),n.prototype.fa=function(){return new mit(this.vz)},At(n,[{key:"lt",get:function(){return this.vz}}]),n}(iA),mit=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return kt(n,t),n}(Jo),pit=function(t){function n(n,i){var r;(r=t.call(this)||this).xAi=n,r.Qo=i,r.NAi=NaN,r.LAi=void 0,r.CAi=!1,r.OAi=NaN,r.$O=new So,r.kAi=void 0;var e=Vt(r);return r.DAi=xt((function(){var t;return zt(this,(function(n){switch(n.label){case 0:return t=e.Qo.Q_(),e.OAi=t,e.CAi||Rn(e.LAi)||A(e.NAi)?[2]:e.NAi+e.LAi<=t?(e.CAi=!0,[4,e.IAi()]):[3,2];case 1:n.sent(),e.CAi=!1,n.label=2;case 2:return[2]}}))})),r.EAi=function(){if(r.Qo.Q_()!==r.NAi){r.CAi&&r.jAi(),r.OAi=r.Qo.Q_();var t=r.OAi-(r.NAi||0);A(t)?Qo(r.IAi(hit.WU,0)):Qo(r.IAi(hit.WU,t))}},r}kt(n,t);var i=n.prototype;return i.Cn=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:return(n=t.TAi)?(i=cit(n.source.assetType,n.source.ping),0!==i?(t.NAi=t.Qo.Dg().start(0),[4,t.IAi(hit.Ebt)]):[2]):[2];case 1:return r.sent(),t.Qo.yn("timeupdate",t.DAi),t.Qo.yn("seeking",t.EAi),[2]}}))}))()},i.IAi=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c;return zt(this,(function(h){switch(h.label){case 0:if(r=i.TAi.preplayResponse,e={},A(i.NAi))return[2];if(zn(i.kAi)&&Ui(i.kAi,i.Qo.Q_()-i.NAi))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.Qo.Q_()-i.NAi,t===hit.Ebt?u=0:t!==hit.WU&&i.LAi&&(u=g.min(u,i.LAi)),i.kAi=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.xAi.Tbt(Xu({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.TAi)?void 0:o.source.ping.freeWheelVideoViews},e),i.$O.f_)];case 2:return a=h.sent(),i.Co(new wit(a)),i.LAi=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return Co(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i.Co(new Ait(s)),[7];case 5:return[2]}}))}))()},i.tr=function(){this.LAi=void 0,this.TAi=void 0,this.NAi=NaN,this.CAi=!1,this.OAi=NaN,this.kAi=void 0,this.Qo.fn("seeking",this.EAi),this.Qo.fn("timeupdate",this.DAi),this.jAi()},i.jAi=function(){this.$O.g_(),this.$O=new So},i.gn=function(){this.tr()},At(n,[{key:"AAi",set:function(t){this.TAi=t}},{key:"SAi",get:function(){return this.NAi}}]),n}(Xo);wt(),C(),Ot(),Pt();var _it=function(){function t(t,n){this.RAi=t,this.oZ=n}return t.prototype.lgi=function(t){var n=this;return xt((function(){var i,r,e,u,s,o;return zt(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?function(t){return"verizon-media"===t.integration}(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.RAi.Tbt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=yN({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.oZ),o.src&&(o.src=ny(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new v("Fatal: unable to play VerizonMediaSources.");return[2,Xu({},t,{sources:i})]}}))}))()},t}();wt(),C(),mt(),wt(),C(),mt(),Mt(),wt(),C(),Mt();var kit=function(t){function n(n,i){var r;return(r=t.call(this,"Bit")||this).Xl=n,r.GN=i,r}return kt(n,t),n.prototype.fa=function(){return new Mit(this.Xl.va)},n}(iA),Mit=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var bit=function(t){function n(n,i){var r;return(r=t.call(this,"zit")||this).Xl=n,r.GN=i,r}return kt(n,t),n.prototype.fa=function(){return new Tit(this.Xl.va)},n}(iA),Tit=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var Nit=function(t){function n(n){var i;return(i=t.call(this,"qpi")||this).Xl=n,i}return kt(n,t),n.prototype.fa=function(){return new Dit(this.Xl.va)},n}(iA),Dit=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return kt(n,t),n}(Jo);wt(),C(),wt(),C(),Mt();var Iit=function(t){function n(n){var i;return(i=t.call(this,"h4t")||this).Xl=n,i}return kt(n,t),n.prototype.fa=function(){return new Eit(this.Xl.va)},n}(iA),Eit=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return kt(n,t),n}(Jo),Sit=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).xS=n,s.jx=i,s.Ic=r,s.Hgi=e,s.ho=!1,s.BAi=!1,s.OZt=u,s}kt(n,t);var i=n.prototype;return i.PAi=function(t){this.jx=t-this.MS;for(var n=0,i=this.Oc.Gu;n<i.length;n++){var r=i[n];r.MS>t&&this.Oc.rS(r)}this.Co(new Iit(this))},i.Zut=function(t){return t>=this.MS&&(Rn(this.ct)||t<=this.MS+this.ct)},i.UAi=function(t){return-1!==this.CZt&&(!!zn(this.bS)&&t-this.MS>=this.CZt)},i.Ny=function(){this.Ic.Gu.forEach((function(t){return t.Ny()})),this.Co(new Nit(this))},i.QAi=function(t){var n=zn(this.bS)&&t>=this.bS,i=this.MS<=t&&!n&&!this.ro,r=this.ro&&this.bS&&t>=this.bS;i&&(this.ho=!0,this.Co(new kit(this,this.MS))),this.Ic.Gu.forEach((function(n){return n.QAi(t)})),r&&(this.BAi=!0,this.ho=!1,this.Co(new bit(this,this.bS)))},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get startTime(){return t.MS},get endTime(){return t.bS},get duration(){return t.ct},get ads(){return t.Oc.va},get skipOffset(){return t.CZt},set skipOffset(n){t.CZt=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new WS(t,i),i}(this)),this.Xa}},{key:"MS",get:function(){return this.xS}},{key:"bS",get:function(){return this.jx?this.xS+this.jx:void 0}},{key:"ct",get:function(){return this.jx}},{key:"Sat",get:function(){var t=this.bS;return zn(t)?new BD([this.MS,t]):BD.oU()}},{key:"Oc",get:function(){return this.Ic}},{key:"zAi",get:function(){return this.BAi}},{key:"ro",get:function(){return this.ho}},{key:"CZt",get:function(){return this.Hgi?-1:this.OZt},set:function(t){this.Hgi||(this.OZt=t)}}]),n}(Ho);wt(),C(),mt(),Mt(),wt(),C(),Mt();var Lit=function(t){function n(n,i){var r;return(r=t.call(this,"Uit")||this).Rit=n,r.GN=i,r}return kt(n,t),n.prototype.fa=function(){return new Cit(this.Rit.va)},n}(iA),Cit=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var jit=function(t){function n(n,i){var r;return(r=t.call(this,"Qit")||this).Rit=n,r.GN=i,r}return kt(n,t),n.prototype.fa=function(){return new xit(this.Rit.va)},n}(iA),xit=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt(),wt(),C(),Mt();var Oit=function(t){function n(n){var i;return(i=t.call(this,"FAi")||this).Rit=n,i}return kt(n,t),n.prototype.fa=function(){return new zit(this.Rit.va)},n}(iA),zit=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return kt(n,t),n}(Jo),Rit=function(t){function n(){return t.call(this)}kt(n,t);var i=n.prototype;return i.eii=function(t){},i.oii=function(t){this.Co(new Oit(t))},n}(X4);wt(),C(),Mt();var Bit=function(t){function n(n){var i;return(i=t.call(this,"u4t")||this).Rit=n,i}return kt(n,t),n.prototype.fa=function(){return new Pit(this.Rit.va)},n}(iA),Pit=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return kt(n,t),n}(Jo),Uit=function(t){function n(n){var i;return(i=t.call(this,"c4t")||this).Rit=n,i}return kt(n,t),n.prototype.fa=function(){return new Qit(this.Rit.va)},n}(iA),Qit=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return kt(n,t),n}(Jo),Yit=function(t){function n(n){var i;return(i=t.call(this,"l4t")||this).Rit=n,i}return kt(n,t),n.prototype.fa=function(){return new Git(this.Rit.va)},n}(iA),Git=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return kt(n,t),n}(Jo),Fit=function(t){function n(n){var i;return(i=t.call(this,"YAi")||this).Rit=n,i}return kt(n,t),n.prototype.fa=function(){return new Vit(this.Rit.va)},n}(iA),Vit=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return kt(n,t),n}(Jo);wt(),C();var Wit=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var d;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(d=t.call(this)||this).xS=n,d.jx=i,d.HXt=r,d.ZAi=e,d.TG=u,d.qx=s,d.Kx=o,d.qAi=c,d.KAi=h,d.hd=f,d.MZt=v,d.PXt=new Rit,d.ho=!1,d.JAi=!1,d.$Ai=!1,d.tyi=!1,d.iyi=!1,d.eyi=function(){return d.hAi(d.xS)},d.syi=function(){return d.hAi(d.bS)},d.PXt.sii(a),d.yn("Uit",d.eyi),d.yn("Qit",d.syi),d}kt(n,t);var i=n.prototype;return i.QAi=function(t){var n=this.MS<=t&&t<this.bS,i=n&&!this.ro,r=!n&&this.ro;i&&(this.JAi=!1,this.$Ai=!1,this.tyi=!1,this.iyi=!1,this.ho=!0,this.Co(new Lit(this,this.MS))),r&&(this.ho=!1,this.Co(new jit(this,this.bS)))},i.hAi=function(t){var n=(t-this.MS)/this.ct;!this.JAi&&n>=.25&&(this.JAi=!0,this.Co(new Bit(this))),!this.$Ai&&n>=.5&&(this.$Ai=!0,this.Co(new Uit(this))),!this.tyi&&n>=.75&&(this.tyi=!0,this.Co(new Yit(this))),!this.iyi&&n>=.9999&&(this.iyi=!0,this.Co(new Fit(this)))},i.Ny=function(){this.JAi=!0,this.$Ai=!0,this.tyi=!0,this.iyi=!0},i.gn=function(){this.fn("Uit",this.eyi),this.fn("Qit",this.syi)},n.GAi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.GAi(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.VAi=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.VAi(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){var n,i={get apiFramework(){return t.WXt},get companions(){return t.RXt.va},get creative(){return t.WAi},get duration(){return t.ct},get endTime(){return t.bS},get events(){return t.uG},get extensions(){return t.HAi},get freeWheelParameters(){return t.XAi},get height(){return t.Ti},get mimeType(){return t.aG},get startTime(){return t.MS},get width(){return t.ji},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new WS(t,i),i}(this)),this.Xa}},{key:"MS",get:function(){return this.xS}},{key:"bS",get:function(){return this.xS+this.jx}},{key:"ct",get:function(){return this.jx}},{key:"WXt",get:function(){return this.HXt}},{key:"WAi",get:function(){return this.ZAi}},{key:"aG",get:function(){return this.TG}},{key:"ji",get:function(){return this.qx}},{key:"Ti",get:function(){return this.Kx}},{key:"uG",get:function(){return this.hd}},{key:"RXt",get:function(){return this.PXt}},{key:"HAi",get:function(){return this.qAi}},{key:"XAi",get:function(){return this.KAi}},{key:"ro",get:function(){return this.ho}},{key:"wAi",get:function(){var t;return null!=(t=this.hd.clickthroughs)?t:[]}}]),n}(Ho);wt(),C(),Mt(),wt(),C(),Mt();var Xit=function(t){function n(n){var i;return(i=t.call(this,"jit")||this).Xl=n,i}return kt(n,t),n.prototype.fa=function(){return new Zit(this.Xl.va)},n}(iA),Zit=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var Hit,Kit,Jit,qit=function(t){function n(n){var i;return(i=t.call(this,"Oit")||this).Xl=n,i}return kt(n,t),n.prototype.fa=function(){return new $it(this.Xl.va)},n}(iA),$it=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return kt(n,t),n}(Jo),trt=function(t){function n(){return t.call(this)}kt(n,t);var i=n.prototype;return i.eii=function(t){this.Co(new Xit(t))},i.oii=function(t){this.Co(new qit(t))},n}(X4),nrt=function(){function t(t,n,i,r){var e=this;this.hyi=[],this.lyi=function(t){t.lD.ads&&e.nAi(t.lD.ads),t.lD.currentBreakEnd&&e.ayi(t.lD.currentBreakEnd)},this.cyi=function(t){if(0!==e.hyi.length&&0!==e.ILt.Dg().length)for(var n=e.ILt.Dg().end(e.ILt.Dg().length-1),i=0,r=e.hyi.slice();i<r.length;i++){var u=r[i];zn(u.NXt.ct)?ao(e.hyi,u):u.sDt<n&&(u.NXt.PAi(u.sDt),ao(e.hyi,u))}},this.ILt=t,this.Gpi=n,this.D$t=new trt,this.oyi=i,this.ryi=r,t.yn("timeupdate",this.cyi),this.Gpi.yn("MAi",this.lyi)}var n=t.prototype;return n.aAi=function(t){if(0!==t.length)for(var n=BD.xn(t),i=0,r=this.D$t.Gu.slice();i<r.length;i++){var e=r[i];zn(e.bS)&&n.Cn(0)>e.bS&&this.D$t.rS(e)}},n.nAi=function(t){for(var n=!function(t){return zn(t.breakOffsets)}(t),i=n?this.Gpi.SAi:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new Rit,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?Wit.VAi(s,f):Wit.GAi(s,f);o.nS(v),s+=v.ct,a+=v.ct}var d=u.timeOffset+i,l=n?void 0:u.duration,g=new Sit(d,l,o,n,this.oyi);n&&this.hyi.push({NXt:g,sDt:d+a}),this.D$t.nS(g)}}},n.ayi=function(t){var n=this.nyi;n&&n.PAi(t+this.Gpi.SAi)},n.oAi=function(t){this.uyi=t,this.D$t.Gu.forEach((function(n){return n.QAi(t)}))},n.Ny=function(){var t=this.uyi,n=this.Iit;t&&n&&n.UAi(t)&&n.Ny()},n.lAi=function(t,n){for(var i=[],r=0,e=this.s$t.Gu;r<e.length;r++){var u=e[r];!u.zAi&&u.MS>=t&&u.MS<n&&i.push(u)}return i},n.gn=function(){this.ILt.fn("timeupdate",this.cyi),this.Gpi.fn("MAi",this.lyi)},n.tr=function(){for(var t=0,n=this.s$t.Gu;t<n.length;t++){for(var i=n[t],r=0,e=i.Oc.Gu;r<e.length;r++){e[r].Vo()}i.Vo()}this.s$t.kL(),this.uyi=void 0,this.hyi=[]},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{get adBreaks(){return t.s$t.va},get currentAdBreak(){if(t.Iit)return t.Iit.va},get currentAds(){return t.Iit?t.Iit.Oc.va:(new Rit).va},skip:function(){t.Ny()}}}(this)),this.Xa}},{key:"s$t",get:function(){return this.D$t}},{key:"Iit",get:function(){return ro(this.D$t.Gu,(function(t){return t.ro}))}},{key:"Sit",get:function(){return this.Iit?this.Iit.Oc.Gu.filter((function(t){return t.ro})):[]}},{key:"nyi",get:function(){if(0!==this.s$t.U&&0!==this.ILt.Dg().length){var t=this.ILt.Dg().end(this.ILt.Dg().length-1);return ro(this.s$t.Gu,(function(n){return n.Zut(t)}))}}},{key:"cAi",get:function(){return this.ryi}}]),t}();wt(),C(),Ot(),Pt(),wt(),C(),wt(),C(),mt(),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED"}(Hit||(Hit={})),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED"}(Kit||(Kit={})),function(t){t[t.ADULT_LANGUAGE=1]="ADULT_LANGUAGE",t[t.SEXUAL_SITUATIONS=2]="SEXUAL_SITUATIONS",t[t.VIOLENCE=4]="VIOLENCE",t[t.DRUGS=8]="DRUGS"}(Jit||(Jit={}));var irt=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,A,m,p,_,k,M,b){this.MS=t,this.bS=n,this.ct=i,this.fyi=r,this._yi=e,this.lt=u,this.gyi=s,this.wyi=o,this.vyi=a,this.myi=c,this.pyi=h,this.Ayi=f,this.kI=v,this.yyi=d,this.Myi=l,this.byi=g,this.Tyi=w,this.xM=y,this.Syi=A,this.Nyi=m,this.Iyi=p,this.Dyi=_,this.Eyi=k,this.kyi=M,this.Lyi=b}return t.dyi=function(n,i,r){var e=new Ba(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.ey(1),e.ey(2),e.ey(4),e.ey(8),n.external_id,Boolean(n.is_ad),n.asset)},At(t,[{key:"va",get:function(){return this.Xa||(this.Xa=function(t){return{startTime:t.MS,endTime:t.bS,duration:t.ct,audioOnly:t.fyi,boundaryDetails:t._yi,error:t.lt,tvRating:t.gyi,maxSlice:t.wyi,thumbPrefix:t.vyi,sliceDuration:t.myi,movieRating:t.pyi,ownerId:t.Ayi,metadata:t.kI,rates:t.yyi,thumbnailResolutions:t.Myi,posterUrl:t.byi,defaultPosterUrl:t.Tyi,description:t.xM,hasAdultLanguage:t.Syi,hasSexualSituations:t.Nyi,hasViolence:t.Iyi,hasDrugSituations:t.Dyi,externalId:t.Eyi,isAd:t.kyi,assetId:t.Lyi}}(this)),this.Xa}}]),t}();var rrt=Ab({duration:hb,offset:hb}),ert=Ab({c3:rrt}),urt=Ab({c7:rrt}),srt=Ab({halftime:rrt}),ort=_b(mb(Kit)),art=_b(mb(Hit)),crt=Ab({width:Mb(db,hb),prefix:fb,bw:hb,bh:hb,height:Mb(db,hb)}),hrt=Ab({audio_only:hb,boundary_details:Mb(db,Tb(Mb(ert,urt,srt))),error:hb,tv_rating:ort,max_slice:hb,thumb_prefix:fb,slice_dur:hb,movie_rating:art,owner:fb,meta:lb,rates:Tb(hb),thumbs:Tb(crt),poster_url:fb,duration:hb,default_poster_url:fb,desc:fb,rating_flags:hb,external_id:fb,is_ad:hb,asset:fb}),frt=function(){function t(t){this.aE=t}var n=t.prototype;return n.Tbt=function(t,n,i,r){var e=this;return xt((function(){var u,s;return zt(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(tit.uP(n))return[vrt(t,n,i)];if(Tb(tit).uP(n))return n.map((function(n){return vrt(t,n,i)}));if(nit.uP(n)){return(Bn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return vrt(t,"ext/"+n.userId+"/"+r,i)}))}throw new d("Invalid asset id")}(t,n,r),s=u.map((function(t){return dD((function(){return e.yAi(t)}),i)})),[4,K.all(s)];case 1:return[2,o.sent().filter(zn)]}}))}))()},n.yAi=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return[4,n.aE.uD({ZD:Ww.GET,zu:t,qD:ld.ND})];case 1:return[4,r.sent().ly()];case 2:return i=r.sent(),hrt.uP(i)||hrt.lP(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function vrt(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}wt(),C(),Mt(),wt(),C(),Mt();var drt=function(t){function n(n){var i;return(i=t.call(this,"xyi")||this).sd=n,i}return kt(n,t),n.prototype.fa=function(){return new lrt(this.sd.va)},n}(iA),lrt=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var grt=function(t){function n(n){var i;return(i=t.call(this,"Cyi")||this).sd=n,i}return kt(n,t),n.prototype.fa=function(){return new wrt(this.sd.va)},n}(iA),wrt=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return kt(n,t),n}(Jo),yrt=function(t){function n(){return t.call(this)}kt(n,t);var i=n.prototype;return i.nAi=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.MS&&o.MS<i&&(i+=o.ct||0)}this.nS(irt.dyi(u,r,i)),r=i}},i.eii=function(t){this.Co(new grt(t))},i.oii=function(t){this.Co(new drt(t))},n}(X4);wt(),C(),mt(),Mt(),wt(),C(),Mt();var Art=function(t){function n(n){var i;return(i=t.call(this,"Oyi")||this).lD=n,i}return kt(n,t),n.prototype.fa=function(){return new mrt(this.lD)},n}(iA),mrt=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return kt(n,t),n}(Jo);wt(),C(),Mt();var prt,_rt=function(t){function n(n){var i;return(i=t.call(this,"jyi")||this).lD=n,i}return kt(n,t),n.prototype.fa=function(){return new krt(this.lD)},n}(iA),krt=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return kt(n,t),n}(Jo),Mrt=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Upi=n,e.Qpi=i,e.Gpi=r,r.yn("MAi",e.Ds),r.yn("bAi",e.Ds),e}kt(n,t);var i=n.prototype;return i.pAi=function(t){t&&this.Co(new Art(wA(t)))},i.sAi=function(t){var n=this;t.forEach((function(t){return n.Co(new _rt(t))}))},i.fa=function(){var t,n=this,i={get ads(){return n.Upi.va},get assets(){return n.Qpi.va},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}};return t=new WS(n,i),i},At(n,[{key:"va",get:function(){return this.Xa||(this.Xa=this.fa()),this.Xa}}]),n}(Ho),brt=function(){function t(){}return t.prototype.Ryi=function(t,n){var i=new rit(t.Hj),r=new git(t.Hj),e=function(t){if(t.verizonMedia&&zn(t.verizonMedia.defaultSkipOffset)){var n=t.verizonMedia.defaultSkipOffset;return Wn(n)?n:-1}return-1}(n),u=function(t){var n=t.verizonMedia?t.verizonMedia.onSeekOverAd:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(n)}(n),s=new pit(r,t),o=new _it(i,n),a=new nrt(t,s,e,u),c=new frt(t.Hj),h=new yrt,f=new Mrt(a,h,s);return new Gnt(t,s,o,a,f,c,h)},t}();ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Pyi=(new brt).Ryi(Vt(r),i),r}kt(n,t);var i=n.prototype;return i.Ypi=function(n){t.prototype.ga.call(this,n)},i.Vpi=function(n,i){return t.prototype.iet.call(this,n,i)},i._Ai=function(n){t.prototype.F_.call(this,n)},i.W_=function(){var n;return null!=(n=this.Pyi.lt)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.Pyi.H_)?n:t.prototype.X_.call(this)},i.F_=function(t,n){this.Pyi.F_(t)},i.ga=function(t){this.Pyi.ga(t)},i.iet=function(t,n){return this.Pyi.iet(t,n)},i.fa=function(){var n=this.Pyi.va;return gA(t.prototype.fa.call(this),{get verizonMedia(){return n}})},i.gn=function(){this.Pyi.gn(),t.prototype.gn.call(this)},n}(t)}),TT._it),wt(),C(),wt(),C(),Ot(),Mt(),Pt(),wt(),C(),Ot(),mt(),Pt(),wt(),C(),function(t){t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error"}(prt||(prt={})),wt(),C(),mt(),Mt();var Trt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).tZt=e,u.xS=r,u}return kt(n,t),n.prototype.fa=function(){return _2(this)},At(n,[{key:"vKt",get:function(){return A1.T$t}},{key:"MS",get:function(){return this.xS}},{key:"wXt",get:function(){return this.tZt}}]),n}(p2);wt(),C(),mt(),Mt();var Nrt=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).j2t=n,e.R2t=n,r){var u=new Date(r);Wi(u)&&(e.zyi=u)}return e}return kt(n,t),At(n,[{key:"pPt",get:function(){return this.zyi}},{key:"vKt",get:function(){return A1.T$t}}]),n}(A2),Drt=function(){function t(t,n,i){var r=this;this.Jyi=-1/0,this.Qyi=void 0,this.Yyi=0,this.Wyi=[],this._mi=!1,this.jU=!1,this.Emi=-1,this.Xyi=void 0,this.Vyi=void 0,this.Kyi=0,this.Vm=function(){r.Gyi()},this.wWt=function(){r.hMi(prt.RESUME)},this.dOt=function(){r.eMi(),r.hMi(prt.PAUSE)},this.We=function(){r.eMi(),r.Emi=-1},this.Mh=function(){r.eMi()},this.od=function(){-1===r.Emi&&(r.Emi=r.Fyi()),r.sMi(),r.nMi(),r.Emi=r.Fyi()},this.w1t=function(){if(r._mi!==r.Qo.og){r._mi=r.Qo.og;var t=r._mi?prt.MUTE:prt.UNMUTE;r.hMi(t)}},this.Byi=function(){if(r.jU!==r.Qo.cs()){r.jU=r.Qo.cs();var t=r.jU?prt.FULL_SCREEN:prt.EXIT_FULL_SCREEN;r.hMi(t)}},this.M3=function(t){Co(t)||(r.hMi(prt.ERROR),Qo(r.qyi()))},this.rMi=[prt.START,prt.FIRST_QUARTILE,prt.MID_POINT,prt.THIRD_QUARTILE,prt.COMPLETE,prt.IMPRESSION,prt.CREATIVE_VIEW],this.Qo=t,this.iMi=n,this.tMi=i,this.Gw()}var n=t.prototype;return n.Gw=function(){this.Qo.yn(uk.Sm,this.Vm),this.Qo.yn(dd.Sh,this.dOt),this.Qo.yn(dd.jh,this.wWt),this.Qo.yn(dd.im,this.We),this.Qo.yn(dd.Ov,this.Mh),this.Qo.yn(dd.fm,this.od),this.Qo.yn(dd._m,this.w1t),this.Qo.yn("presentationmodechange",this.Byi)},n.Fw=function(){this.Qo.fn(uk.Sm,this.Vm),this.Qo.fn(dd.Sh,this.dOt),this.Qo.fn(dd.jh,this.wWt),this.Qo.fn(dd.im,this.We),this.Qo.fn(dd.Ov,this.Mh),this.Qo.fn(dd.fm,this.od),this.Qo.fn(dd._m,this.w1t),this.Qo.fn("presentationmodechange",this.Byi)},n.Fyi=function(){return this.Qo.Q_()-this.Yyi},n.Gyi=function(){var t=this;if(!this.Vyi)if(this.Qo.Td()===1/0){var n=function(){var n;null==(n=t.Xyi)||n.h_(),t.Xyi=void 0,t.Vyi=void 0};this.Xyi=new So,this.Vyi=this.Zyi(this.Xyi.f_).catch(this.M3).then(n,n)}else 0===this.Wyi.length&&(this.Vyi=this.Hyi())},n.qyi=function(){var t=this;return xt((function(){var n,i;return zt(this,(function(r){switch(r.label){case 0:n=g.min(1e3*g.pow(2,t.Kyi),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Fo(n,null==(i=t.Xyi)?void 0:i.f_)];case 2:return r.sent(),t.Kyi++,[3,4];case 3:return Co(r.sent())?(t.Kyi=0,[2]):[3,4];case 4:return t.Gyi(),[2]}}))}))()},n.Zyi=function(t){var n=this;return xt((function(){var i;return zt(this,(function(r){switch(r.label){case 0:return jo(t),n.Qo.fg?[3,5]:(i=on.m_()-n.Jyi)>1e4?[4,n.Hyi(t)]:[3,2];case 1:return r.sent(),n.Jyi=on.m_(),n.Kyi=0,[3,4];case 2:return[4,Fo(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.$yi=function(t){var n=t.pPt;if(n&&this.Qo.R_&&0===this.Yyi&&!this.tMi&&0!==g.floor(this.Qo.Dg().start(0))){var i=(this.Qo.R_.getTime()-n.getTime())/1e3,r=this.Qo.Q_()-t.cPt;this.Yyi=r-i}},n.Hyi=function(t){var n=this;return xt((function(){var i,r,e,u,s,o,a,c,h,f;return zt(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,n.Qo.Hj.uD({zu:n.iMi})];case 1:return[4,d.sent().SR(t)];case 2:if(0===(i=d.sent()).avails.length)return 0!==n.Wyi.length&&(n.Wyi=[]),[2];if(i.avails.length===n.Wyi.length&&i.avails[0].startTimeInSeconds===n.Wyi[0].cPt)return n.$yi(n.Wyi[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new Nrt(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new Trt(o,w2.xqt,h.startTimeInSeconds,h.trackingEvents)).W2t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.U2t(f);r.push(o),n.$yi(o)}return n.Wyi=Zs(r,(function(t,n){return t.cPt-n.cPt})),[3,4];case 3:throw xo(d.sent()),new v("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.eMi=function(){var t;null==(t=this.Xyi)||t.g_(),this.Xyi=void 0,this.Vyi=void 0,this.Jyi=-1/0},n.sMi=function(){if(0!==this.Wyi.length){var t=this.Wyi[this.Wyi.length-1],n=this.Fyi();if(t.cPt+t.$Jt<this.Emi){var i;this.Qyi&&(null==(i=this.Qo.Oc)||i.Co(new bR(this.Qyi)),this.Qyi=void 0)}else{for(var r=0,e=this.Wyi;r<e.length;r++){var u=e[r],s=u.cPt;if(!(s+u.$Jt<this.Emi)&&(s<=n&&s+u.$Jt>this.Emi)){var o;if(this.Uyi===u)return;return this.Qyi=u,void(null==(o=this.Qo.Oc)||o.Co(new NR(this.Qyi)))}}var a;if(this.Qyi)null==(a=this.Qo.Oc)||a.Co(new bR(this.Qyi)),this.Qyi=void 0}}},n.nMi=function(){var t=this,n=this.Sit;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].wXt.filter((function(n){return fo(t.rMi,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.oMi(s.startTimeInSeconds)&&(s.eventType===prt.COMPLETE&&this.hMi(prt.ENGAGED_VIEW),this.aMi(s))}}},n.uMi=function(t,n){return n.wXt.filter((function(n){return js(n.eventType,t)}))[0]},n.hMi=function(t){var n=this.Sit;if(0!==n.length){var i=this.uMi(t,n[0]);i&&this.aMi(i)}},n.aMi=function(t){this.Tgi(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={ZD:Ww.GET,zu:r,HD:"",qD:ld.ND};0,Qo(this.cMi(e))}},n.Tgi=function(t){var n,i,r=this.Sit;switch(t){case prt.START:n=new IR(r[r.length-1],this.Qo.Q_());break;case prt.COMPLETE:n=new SR(r[0],this.Qo.Q_());break;case prt.FIRST_QUARTILE:n=new C2(r[0],this.Qo.Q_());break;case prt.MID_POINT:n=new x2(r[0],this.Qo.Q_());break;case prt.THIRD_QUARTILE:n=new z2(r[0],this.Qo.Q_())}void 0!==n&&(null==(i=this.Qo.Oc)||i.Co(n))},n.cMi=function(t){var n=this;return xt((function(){return zt(this,(function(i){switch(i.label){case 0:return[4,n.Qo.Hj.uD(t)];case 1:return i.sent().fD,[2]}}))}))()},n.oMi=function(t){var n=this.Fyi();return t>=this.Emi&&t<n},n.gn=function(){this.Fw(),this.eMi(),this.Emi=-1},At(t,[{key:"Uyi",get:function(){return this.Qyi}},{key:"Sit",get:function(){var t=this.Uyi;if(!t)return[];for(var n=[],i=this.Fyi(),r=0,e=t.Oc;r<e.length;r++){var u=e[r];i>=u.MS&&this.Emi<=u.MS+u.ct&&n.push(u)}return n}}]),t}();return ET((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).lMi=void 0,r.vz=void 0,r.mz=void 0,r}kt(n,t);var i=n.prototype;return i.ga=function(n){return this.lMi&&(this.lMi.gn(),this.lMi=void 0,this.hNt()),t.prototype.ga.call(this,n)},i.iet=function(n,i){var r=this,e=function(){return t.prototype.iet};return xt((function(){var t,u;return zt(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===IN.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.dMi(n,i)];case 2:return t=s.sent(),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.rB(new Fv(Qv.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.F_=function(n,i){var r;(null==(r=this.lMi)?void 0:r.Uyi)||t.prototype.F_.call(this,n,i)},i.W_=function(){var n;return null!=(n=this.vz)?n:t.prototype.W_.call(this)},i.X_=function(){var n;return null!=(n=this.mz)?n:t.prototype.X_.call(this)},i.rB=function(t){this.vz=YA(t),this.mz=t,this.Co(new uT(t))},i.hNt=function(){this.vz=void 0,this.mz=void 0},i.dMi=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h;return zt(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?VN(s=u[e])&&(o=s).src?[4,i.fMi(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),jo(n),c=Xu({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=wA(t)).sources=r,[2,h]}}))}))()},i.fMi=function(t,n){var i=this;return xt((function(){var r,e,u,s,o,a,c,h,f;return zt(this,(function(d){switch(d.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new v("Could not find MediaTailor session initialization url");return u=e[0],s=Ss(r,"?ads."),o=s?{zu:r,qD:ld.ND}:{zu:r,ZD:Ww.POST,HD:JSON.stringify({adParams:t.adParams}),qD:ld.ND},[4,dD((function(){return i._Mi(o,n)}),n)];case 1:a=d.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=RN(c),i.lMi=new Drt(i,h,f))}catch(t){throw new v("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i._Mi=function(t,n){var i=this;return xt((function(){return zt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.Hj.uD(t)];case 1:return[4,r.sent().SR(n)];case 2:return[2,r.sent()];case 3:throw xo(r.sent()),new v("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.gn=function(){this.lMi&&(this.lMi.gn(),this.lMi=void 0),this.hNt(),t.prototype.gn.call(this)},n}(t)}),TT.vit),wt(),C(),r.exports}));
/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 10.3.0
 Created: 2025-10-23T15:33:11.023Z
 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(t):"function"==typeof define&&define.amd?define([],function(){return i(t)}):t.THEOplayer=i(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,function(t){"use strict";var i,n,r,e,s,u,o,h,a,c={exports:{}},f=(c.exports,t.window),v=t.document,d=t.location,l=t.navigator,w=t.setTimeout,g=t.clearTimeout,_=t.setInterval,m=t.clearInterval,y=t.Error,p=t.TypeError,k=(t.SyntaxError,t.Object),b=t.Math,A=t.parseInt,T=t.parseFloat,S=t.isNaN,E=t.Uint8Array,I=t.Worker,R=(t.WorkerGlobalScope,t.XMLHttpRequest),C=k.create,P=k.defineProperty,D=k.getOwnPropertyDescriptor,N=k.getOwnPropertyNames,x=k.getPrototypeOf,B=k.prototype.hasOwnProperty,O=function(t,i){return function(){return t&&(i=t(t=0)),i}},M=function(t,i){return function(){return i||t((i={exports:{}}).exports,i),i.exports}},L=function(t,i,n,r){if(i&&"object"==typeof i||"function"==typeof i)for(var e,s=N(i),u=0,o=s.length;u<o;u++)e=s[u],B.call(t,e)||e===n||P(t,e,{get:function(t){return i[t]}.bind(null,e),enumerable:!(r=D(i,e))||r.enumerable});return t},F=function(t,i,n){return n=null!=t?C(x(t)):{},L(!i&&t&&t.__esModule?n:P(n,"default",{value:t,enumerable:!0}),t)},U=O(function(){"function"==typeof Symbol&&Symbol.iterator?(i=Symbol,n=null!=(u=Symbol.for)?u:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:n("Symbol.dispose"),s=null!=(h=Symbol.asyncDispose)?h:n("Symbol.asyncDispose")):(a=0,i=function(t){return"hd"+t+"_"+ ++a},r=(n=function(t){return"hd"+t})("Symbol.iterator"),e=n("Symbol.dispose"),s=n("Symbol.asyncDispose"),i.for=n,i.iterator=r,i.dispose=e,i.asyncDispose=s)});function V(t,n){return null!=n&&void 0!==i&&n[i.hasInstance]?!!n[i.hasInstance](t):t instanceof n}var H=O(function(){U(),Et()});function W(t){return t&&void 0!==i&&t.constructor===i?"symbol":typeof t}var z,X,q,G,j,Q,Y,K,J,Z,tt,it,nt,rt,et,st,ut,ot,ht,at,ct=O(function(){U(),Et()});function ft(t){var i=this.constructor;return this.then(function(n){return i.resolve(t()).then(function(){return n})},function(n){return i.resolve(t()).then(function(){return i.reject(n)})})}function vt(t){return new this(function(i,n){if(!t||void 0===t.length)return n(new p((void 0===t?"undefined":W(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return i([]);var e=r.length;function s(t,n){if(n&&("object"===(void 0===n?"undefined":W(n))||"function"==typeof n)){var u=n.then;if("function"==typeof u)return void u.call(n,function(i){s(t,i)},function(n){r[t]={status:"rejected",reason:n},0===--e&&i(r)})}r[t]={status:"fulfilled",value:n},0===--e&&i(r)}for(var u=0;u<r.length;u++)s(u,r[u])})}function dt(t){return Boolean(t&&void 0!==t.length)}function lt(){}function wt(t){if(!V(this,wt))throw new p("Promises must be constructed via new");if("function"!=typeof t)throw new p("not a function");this.Ra=0,this.tki=!1,this.RTt=void 0,this.iki=[],kt(t,this)}function gt(t,i){for(;3===t.Ra;)t=t.RTt;0!==t.Ra?(t.tki=!0,wt.nki(function(){var n=1===t.Ra?i.onFulfilled:i.onRejected;if(null!==n){var r;try{r=n(t.RTt)}catch(t){return void mt(i.promise,t)}_t(i.promise,r)}else(1===t.Ra?_t:mt)(i.promise,t.RTt)})):t.iki.push(i)}function _t(t,i){try{if(i===t)throw new p("A promise cannot be resolved with itself.");if(i&&("object"===(void 0===i?"undefined":W(i))||"function"==typeof i)){var n=i.then;if(V(i,wt))return t.Ra=3,t.RTt=i,void yt(t);if("function"==typeof n)return void kt(function(t,i){return function(){t.apply(i,arguments)}}(n,i),t)}t.Ra=1,t.RTt=i,yt(t)}catch(i){mt(t,i)}}function mt(t,i){t.Ra=2,t.RTt=i,yt(t)}function yt(t){2===t.Ra&&0===t.iki.length&&wt.nki(function(){t.tki||wt.rki(t.RTt)});for(var i=0,n=t.iki.length;i<n;i++)gt(t,t.iki[i]);t.iki=null}function pt(t,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof i?i:null,this.promise=n}function kt(t,i){var n=!1;try{t(function(t){n||(n=!0,_t(i,t))},function(t){n||(n=!0,mt(i,t))})}catch(t){if(n)return;n=!0,mt(i,t)}}function bt(t){return new it(tt,{reason:t,promise:X.reject(t).catch(function(){}),cancelable:!0})}function At(t){var i=new nt(tt,{detail:{reason:t},cancelable:!0});return k.defineProperty(i,"reason",{value:t}),i}function Tt(t){var i=v.createEvent("CustomEvent");return i.initCustomEvent(tt,!1,!0,{reason:t}),i}var St=O(function(){var t,i,n,r;U(),Et(),H(),ct(),z=w,wt.prototype.catch=function(t){return this.then(null,t)},wt.prototype.then=function(t,i){var n=new this.constructor(lt);return gt(this,new pt(t,i,n)),n},wt.prototype.finally=ft,wt.all=function(t){return new wt(function(i,n){if(!dt(t))return n(new p("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return i([]);var e=r.length;function s(t,u){try{if(u&&("object"===(void 0===u?"undefined":W(u))||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(i){s(t,i)},n)}r[t]=u,0===--e&&i(r)}catch(t){n(t)}}for(var u=0;u<r.length;u++)s(u,r[u])})},wt.allSettled=vt,wt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":W(t))&&t.constructor===wt?t:new wt(function(i){i(t)})},wt.reject=function(t){return new wt(function(i,n){n(t)})},wt.race=function(t){return new wt(function(i,n){if(!dt(t))return n(new p("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)wt.resolve(t[r]).then(i,n)})},wt.nki="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){z(t,0)},wt.rki=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},X=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),q=l?l.userAgent:"",G=q.match(/Firefox\/([0-9]+)/i),j=null!=G,Q=G?Number(G[1]):0,Y=q.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),K=null!=Y,J=Y?Number(Y[3]):0,Z=function(){function t(t){this.fb=0,this.Ld=0,this.Wp=[],this.eki=t}return t.prototype.ski=function(t){var i=this.length();this.uki(i+1);var n=this.Ld+i&this.eki-1;this.Wp[n]=t,this.fb=i+1},t.prototype.push=function(t){var i=this.length()+1;if(this.eki<i)this.ski(t);else{var n=this.Ld+i-1,r=this.eki-1;this.Wp[n&r]=t,this.fb=i}},t.prototype.shift=function(){var t=this.Ld,i=this.Wp[t];return this.Wp[t]=void 0,this.Ld=t+1&this.eki-1,this.fb--,i},t.prototype.length=function(){return this.fb},t.prototype.uki=function(t){this.eki<t&&this.oki(this.eki<<1)},t.prototype.oki=function(t){var i=this.eki;this.eki=t;var n=this.Ld+this.fb&i-1;!function(t,i,n,r){for(var e=0;e<r;++e)t[e+n]=t[e+i],t[e+i]=void 0}(this.Wp,0,i,n)},t}(),tt="unhandledrejection",it=self.PromiseRejectionEvent,nt=self.CustomEvent,rt=function(t){return rt=function(){try{var t=X.resolve(),i="error",n=new it(tt,{reason:i,promise:t});return tt===n.type&&i===n.reason}catch(t){}return!1}()?bt:function(){try{var t="error",i=new nt(tt,{detail:{reason:t}});return tt===i.type&&t===i.detail.reason}catch(t){}return!1}()?At:Tt,rt(t)},st=j&&Q<60||K&&J<15,X&&!st?(ut=X,ot=function(){}):(ut=wt,ht=null!==(et=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(i){return t(i)};var i=X;if(i&&"function"==typeof i.resolve){var n=i.resolve();return function(t){return n.then(t)}}}())&&void 0!==et?et:wt.nki,t=ht,i=new Z(16),n=!1,ot=(at={W6:function(e){i.push(e),n||(n=!0,t(r))},EQ:r=function(){for(;i.length()>0;)i.shift()();n=!1}}).EQ,wt.nki=at.W6,wt.rki=function(t){try{var i=rt(t);if(!self.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}w(function(){throw new y("Unhandled promise rejection: ".concat(t))},0)})}),Et=O(function(){St()});function It(t,i){return(It=k.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var Rt=O(function(){U(),Et()});function Ct(t,i){if("function"!=typeof i&&null!==i)throw new p("Super expression must either be null or a function");t.prototype=k.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&It(t,i)}var Pt=O(function(){U(),Et(),Rt()});function Dt(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function Nt(t,i,n){return i&&Dt(t.prototype,i),n&&Dt(t,n),t}var xt=O(function(){U(),Et()});function Bt(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,r=new Array(i);n<i;n++)r[n]=t[n];return r}var Ot=O(function(){U(),Et()});var Mt=O(function(){U(),Et(),Ot()});function Lt(t,n){var e=void 0!==i&&t[r]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,i){if(t){if("string"==typeof t)return Bt(t,i);var n=k.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,i):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new p("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ft=O(function(){U(),Et(),Mt()});function Ut(t,i,n,r,e,s,u){try{var o=t[s](u),h=o.value}catch(t){return void n(t)}o.done?i(h):ut.resolve(h).then(r,e)}function Vt(t){return function(){var i=this,n=arguments;return new ut(function(r,e){var s=t.apply(i,n);function u(t){Ut(s,r,e,u,o,"next",t)}function o(t){Ut(s,r,e,u,o,"throw",t)}u(void 0)})}}var Ht,Wt=O(function(){U(),Et()});function zt(t,n){var e,s,u,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},h=k.create(("function"==typeof Iterator?Iterator:k).prototype);return h.next=a(0),h.throw=a(1),h.return=a(2),"function"==typeof i&&(h[r]=function(){return this}),h;function a(i){return function(r){return function(i){if(e)throw new p("Generator is already executing.");for(;h&&(h=0,i[0]&&(o=0)),o;)try{if(e=1,s&&(u=2&i[0]?s.return:i[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,i[1])).done)return u;switch(s=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,s=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=o.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(t,o)}catch(t){i=[6,t],s=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}}function Xt(t){var n="function"==typeof i&&r,e=n&&t[n],s=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new p(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t,i,n){if(null!=i){if("object"!=typeof i&&"function"!=typeof i)throw new p("Object expected.");var r,u;if(n){if(!s)throw new p("Symbol.asyncDispose is not defined.");r=i[s]}if(void 0===r){if(!e)throw new p("Symbol.dispose is not defined.");r=i[e],n&&(u=r)}if("function"!=typeof r)throw new p("Object not disposable.");u&&(r=function(){try{u.call(this)}catch(t){return ut.reject(t)}}),t.stack.push({value:i,dispose:r,async:n})}else n&&t.stack.push({async:!0});return i}function Gt(t){function i(i){t.error=t.hasError?new Ht(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),ut.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,ut.resolve(s).then(e,function(t){return i(t),e()})}else r|=1}catch(t){i(t)}if(1===r)return t.hasError?ut.reject(t.error):ut.resolve();if(t.hasError)throw t.error}()}var jt=O(function(){U(),Et(),Ht="function"==typeof SuppressedError?SuppressedError:function(t,i,n){var r=new y(n);return r.name="SuppressedError",r.error=t,r.suppressed=i,r}}),Qt=O(function(){U(),Et(),jt()}),Yt=M(function(t,n){var e,s;U(),Et(),ct(),e=t,s=function(t){var n="function"==typeof i&&"symbol"===W(r)?i:function(t){return"Symbol("+t+")"};function e(){}var s=Number.isNaN||function(t){return t!=t},u=e;function o(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t||"function"==typeof t}function h(t){return t.slice()}function a(t,i,n,r,e){new E(t).set(new E(n,r,e),i)}function c(t){return!1!==function(t){return"number"==typeof t&&(!s(t)&&!(t<0))}(t)&&t!==1/0}function f(t,i,n){if("function"!=typeof t)throw new p("Argument is not a function");return Function.prototype.apply.call(t,i,n)}function v(t,i,n,r){var e=t[i];if(void 0!==e){if("function"!=typeof e)throw new p(e+" is not a method");switch(n){case 0:return function(){return l(e,t,r)};case 1:return function(i){var n=[i].concat(r);return l(e,t,n)}}}return function(){return I(void 0)}}function d(t,i,n){var r=t[i];if(void 0!==r)return f(r,t,n)}function l(t,i,n){try{return I(f(t,i,n))}catch(t){return R(t)}}function w(t){if(t=Number(t),s(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function g(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new p("size property of a queuing strategy must be a function");return function(i){return t(i)}}var _=ut,m=ut.prototype.then,A=ut.resolve.bind(_),T=ut.reject.bind(_);function S(t){return new _(t)}function I(t){return A(t)}function R(t){return T(t)}function C(t,i,n){return m.call(t,i,n)}function P(t,i,n){C(C(t,i,n),void 0,u)}function D(t,i){P(t,i)}function N(t,i){P(t,void 0,i)}function x(t,i,n){return C(t,i,n)}function B(t){C(t,void 0,u)}var O=function(){function t(){this.Rd=0,this.Dd=0,this.Ld={Od:[],Fd:void 0},this.Ud=this.Ld,this.Rd=0,this.Dd=0}return k.defineProperty(t.prototype,"length",{get:function(){return this.Dd},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var i=this.Ud,n=i;16383===i.Od.length&&(n={Od:[],Fd:void 0}),i.Od.push(t),n!==i&&(this.Ud=n,i.Fd=n),++this.Dd},t.prototype.shift=function(){var t=this.Ld,i=t,n=this.Rd,r=n+1,e=t.Od,s=e[n];return 16384===r&&(i=t.Fd,r=0),--this.Dd,this.Rd=r,t!==i&&(this.Ld=i),e[n]=void 0,s},t.prototype.forEach=function(t){for(var i=this.Rd,n=this.Ld,r=n.Od;!(i===r.length&&void 0===n.Fd||i===r.length&&(i=0,0===(r=(n=n.Fd).Od).length));)t(r[i]),++i},t.prototype.peek=function(){var t=this.Ld,i=this.Rd;return t.Od[i]},t}();function M(t,i,n){var r=null;!0===n&&(r=k.prototype);var e=k.create(r);return e.value=t,e.done=i,e}function L(t,i){t.Vd=!0,t.Hd=i,i.Wd=t,"readable"===i.Ra?H(t):"closed"===i.Ra?function(t){H(t),q(t)}(t):z(t,i.qd)}function F(t,i){return Ki(t.Hd,i)}function U(t){"readable"===t.Hd.Ra?X(t,new p("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,i){z(t,i)}(t,new p("Reader was released and can no longer be used to monitor the stream's closedness")),t.Hd.Wd=void 0,t.Hd=void 0}function V(t){return new p("Cannot "+t+" a stream using a released reader")}function H(t){t.zd=S(function(i,n){t.Gd=i,t.Xd=n})}function z(t,i){H(t),X(t,i)}function X(t,i){B(t.zd),t.Xd(i),t.Gd=void 0,t.Xd=void 0}function q(t){t.Gd(void 0),t.Gd=void 0,t.Xd=void 0}var G=n("[[CancelSteps]]"),j=n("[[PullSteps]]");function Q(t,i){void 0===i&&(i=!1);var n=new it(t);return n.Vd=i,n}function Y(t){return S(function(i,n){var r={Qd:i,Kd:n};t.Wd.Yd.push(r)})}function K(t,i,n){var r=t.Wd;r.Yd.shift().Qd(M(i,n,r.Vd))}function J(t){return t.Wd.Yd.length}function Z(t){var i=t.Wd;return void 0!==i&&!!nt(i)}var $,tt,it=function(){function t(t){if(!1===Qi(t))throw new p("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Yi(t))throw new p("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Yd=new O}return k.defineProperty(t.prototype,"closed",{get:function(){return nt(this)?this.zd:R(et("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return nt(this)?void 0===this.Hd?R(V("cancel")):F(this,t):R(et("cancel"))},t.prototype.read=function(){return nt(this)?void 0===this.Hd?R(V("read from")):rt(this):R(et("read"))},t.prototype.releaseLock=function(){if(!nt(this))throw et("releaseLock");if(void 0!==this.Hd){if(this.Yd.length>0)throw new p("Tried to release a reader lock when that reader has pending read() calls un-settled");U(this)}},t}();function nt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Yd")}function rt(t){var i=t.Hd;return i.Jd=!0,"closed"===i.Ra?I(M(void 0,!0,t.Vd)):"errored"===i.Ra?R(i.qd):i.Zd[j]()}function et(t){return new p("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===W(n.asyncIterator)&&(($={})[n.asyncIterator]=function(){return this},tt=$,k.defineProperty(tt,n.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(ht("next"));var t=this.$d;return void 0===t.Hd?R(V("iterate")):x(rt(t),function(i){var n=i.done;return n&&U(t),M(i.value,n,!0)})},return:function(t){if(!1===ot(this))return R(ht("next"));var i=this.$d;if(void 0===i.Hd)return R(V("finish iterating"));if(i.Yd.length>0)return R(new p("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.ul){var n=F(i,t);return U(i),x(n,function(){return M(t,!0,!0)})}return U(i),I(M(t,!0,!0))}};function ot(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"$d")}function ht(t){return new p("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function at(t){var i=t.tf.shift();return t.if-=i.size,t.if<0&&(t.if=0),i.value}function ct(t,i,n){if(!c(n=Number(n)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.tf.push({value:i,size:n}),t.if+=n}function ft(t){t.tf=new O,t.if=0}void 0!==tt&&k.setPrototypeOf(st,tt),k.defineProperty(st,"next",{enumerable:!1}),k.defineProperty(st,"return",{enumerable:!1});var vt=n("[[AbortSteps]]"),dt=n("[[ErrorSteps]]"),lt=function(){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={}),gt(this);var n=i.size,r=i.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=g(n);void 0===r&&(r=1),function(t,i,n,r){var e=k.create(Bt.prototype);function s(){return d(i,"start",[e])}var u=v(i,"write",1,[e]),o=v(i,"close",0,[]),h=v(i,"abort",1,[]);Ot(t,e,s,u,o,h,n,r)}(this,t,r=w(r),e)}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===_t(this))throw Wt("locked");return mt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===_t(this)?R(Wt("abort")):!0===mt(this)?R(new p("Cannot abort a stream that already has a writer")):yt(this,t)},t.prototype.close=function(){return!1===_t(this)?R(Wt("close")):!0===mt(this)?R(new p("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new p("Cannot close an already-closing stream")):pt(this)},t.prototype.getWriter=function(){if(!1===_t(this))throw Wt("getWriter");return wt(this)},t}();function wt(t){return new It(t)}function gt(t){t.Ra="writable",t.qd=void 0,t.ef=void 0,t.nf=void 0,t.rf=new O,t.hf=void 0,t.uf=void 0,t.cf=void 0,t.df=void 0,t.lf=!1}function _t(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"nf")}function mt(t){return void 0!==t.ef}function yt(t,i){var n=t.Ra;if("closed"===n||"errored"===n)return I(void 0);if(void 0!==t.df)return t.df.vf;var r=!1;"erroring"===n&&(r=!0,i=void 0);var e=S(function(n,e){t.df={vf:void 0,Qd:n,Kd:e,_f:i,gf:r}});return t.df.vf=e,!1===r&&bt(t,i),e}function pt(t){var i=t.Ra;if("closed"===i||"errored"===i)return R(new p("The stream (in "+i+" state) is not in the writable state and cannot be closed"));var n=S(function(i,n){var r={Qd:i,Kd:n};t.uf=r}),r=t.ef;return void 0!==r&&!0===t.lf&&"writable"===i&&$t(r),function(t){ct(t,"close",0),Ft(t)}(t.nf),n}function kt(t,i){"writable"!==t.Ra?At(t):bt(t,i)}function bt(t,i){var n=t.nf;t.Ra="erroring",t.qd=i;var r=t.ef;void 0!==r&&Dt(r,i),!1===function(t){return void 0!==t.hf||void 0!==t.cf}(t)&&!0===n.pf&&At(t)}function At(t){t.Ra="errored",t.nf[dt]();var i=t.qd;if(t.rf.forEach(function(t){t.Kd(i)}),t.rf=new O,void 0!==t.df){var n=t.df;if(t.df=void 0,!0===n.gf)return n.Kd(i),void St(t);P(t.nf[vt](n._f),function(){n.Qd(),St(t)},function(i){n.Kd(i),St(t)})}else St(t)}function Tt(t){return void 0!==t.uf||void 0!==t.cf}function St(t){void 0!==t.uf&&(t.uf.Kd(t.qd),t.uf=void 0);var i=t.ef;void 0!==i&&jt(i,t.qd)}function Et(t,i){var n=t.ef;void 0!==n&&i!==t.lf&&(!0===i?function(t){Yt(t)}(n):$t(n)),t.lf=i}var It=function(){function t(t){if(!1===_t(t))throw new p("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===mt(t))throw new p("This stream has already been locked for exclusive writing by another writer");this.mf=t,t.ef=this;var i=t.Ra;if("writable"===i)!1===Tt(t)&&!0===t.lf?Yt(this):Jt(this),qt(this);else if("erroring"===i)Kt(this,t.qd),qt(this);else if("closed"===i)Jt(this),function(t){qt(t),Qt(t)}(this);else{var n=t.qd;Kt(this,n),Gt(this,n)}}return k.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(zt("closed")):this.zd},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw zt("desiredSize");if(void 0===this.mf)throw Xt("desiredSize");return function(t){var i=t.mf,n=i.Ra;return"errored"===n||"erroring"===n?null:"closed"===n?0:Lt(i.nf)}(this)},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(zt("ready")):this.wf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(zt("abort")):void 0===this.mf?R(Xt("abort")):function(t,i){var n=t.mf;return yt(n,i)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(zt("close"));var t=this.mf;return void 0===t?R(Xt("close")):!0===Tt(t)?R(new p("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw zt("releaseLock");void 0!==this.mf&&Nt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(zt("write")):void 0===this.mf?R(Xt("write to")):xt(this,t)},t}();function Rt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"mf")}function Ct(t){return pt(t.mf)}function Pt(t,i){"pending"===t.yf?jt(t,i):function(t,i){Gt(t,i)}(t,i)}function Dt(t,i){"pending"===t.bf?Zt(t,i):function(t,i){Kt(t,i)}(t,i)}function Nt(t){var i=t.mf,n=new p("Writer was released and can no longer be used to monitor the stream's closedness");Dt(t,n),Pt(t,n),i.ef=void 0,t.mf=void 0}function xt(t,i){var n=t.mf,r=n.nf,e=function(t,i){try{return t.Af(i)}catch(i){return Ut(t,i),1}}(r,i);if(n!==t.mf)return R(Xt("write to"));var s=n.Ra;if("errored"===s)return R(n.qd);if(!0===Tt(n)||"closed"===s)return R(new p("The stream is closing or closed and cannot be written to"));if("erroring"===s)return R(n.qd);var u=function(t){return S(function(i,n){var r={Qd:i,Kd:n};t.rf.push(r)})}(n);return function(t,i,n){var r={chunk:i};try{ct(t,r,n)}catch(i){return void Ut(t,i)}var e=t.Sf;!1===Tt(e)&&"writable"===e.Ra&&Et(e,Vt(t)),Ft(t)}(r,i,e),u}var Bt=function(){function t(){throw new p("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Sf")}(this))throw new p("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Sf.Ra&&Ht(this,t)},t.prototype[vt]=function(t){var i=this.Tf(t);return Mt(this),i},t.prototype[dt]=function(){ft(this)},t}();function Ot(t,i,n,r,e,s,u,o){i.Sf=t,t.nf=i,i.tf=void 0,i.if=void 0,ft(i),i.pf=!1,i.Af=o,i.kf=u,i.Ef=r,i.xf=e,i.Tf=s;var h=Vt(i);Et(t,h),P(I(n()),function(){i.pf=!0,Ft(i)},function(n){i.pf=!0,kt(t,n)})}function Mt(t){t.Ef=void 0,t.xf=void 0,t.Tf=void 0,t.Af=void 0}function Lt(t){return t.kf-t.if}function Ft(t){var i=t.Sf;if(!1!==t.pf&&void 0===i.hf)if("erroring"!==i.Ra){if(0!==t.tf.length){var n=function(t){return t.tf.peek().value}(t);"close"===n?function(t){var i=t.Sf;(function(t){t.cf=t.uf,t.uf=void 0})(i),at(t);var n=t.xf();Mt(t),P(n,function(){!function(t){t.cf.Qd(void 0),t.cf=void 0,"erroring"===t.Ra&&(t.qd=void 0,void 0!==t.df&&(t.df.Qd(),t.df=void 0)),t.Ra="closed";var i=t.ef;void 0!==i&&Qt(i)}(i)},function(t){!function(t,i){t.cf.Kd(i),t.cf=void 0,void 0!==t.df&&(t.df.Kd(i),t.df=void 0),kt(t,i)}(i,t)})}(t):function(t,i){var n=t.Sf;!function(t){t.hf=t.rf.shift()}(n);var r=t.Ef(i);P(r,function(){!function(t){t.hf.Qd(void 0),t.hf=void 0}(n);var i=n.Ra;if(at(t),!1===Tt(n)&&"writable"===i){var r=Vt(t);Et(n,r)}Ft(t)},function(i){"writable"===n.Ra&&Mt(t),function(t,i){t.hf.Kd(i),t.hf=void 0,kt(t,i)}(n,i)})}(t,n.chunk)}}else At(i)}function Ut(t,i){"writable"===t.Sf.Ra&&Ht(t,i)}function Vt(t){return Lt(t)<=0}function Ht(t,i){var n=t.Sf;Mt(t),bt(n,i)}function Wt(t){return new p("WritableStream.prototype."+t+" can only be used on a WritableStream")}function zt(t){return new p("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Xt(t){return new p("Cannot "+t+" a stream using a released writer")}function qt(t){t.zd=S(function(i,n){t.Gd=i,t.Xd=n,t.yf="pending"})}function Gt(t,i){qt(t),jt(t,i)}function jt(t,i){B(t.zd),t.Xd(i),t.Gd=void 0,t.Xd=void 0,t.yf="rejected"}function Qt(t){t.Gd(void 0),t.Gd=void 0,t.Xd=void 0,t.yf="resolved"}function Yt(t){t.wf=S(function(i,n){t.Pf=i,t.If=n}),t.bf="pending"}function Kt(t,i){Yt(t),Zt(t,i)}function Jt(t){Yt(t),$t(t)}function Zt(t,i){B(t.wf),t.If(i),t.Pf=void 0,t.If=void 0,t.bf="rejected"}function $t(t){t.Pf(void 0),t.Pf=void 0,t.If=void 0,t.bf="fulfilled"}function ti(t){if("object"!==(void 0===t?"undefined":W(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var ii,ni="undefined"!=typeof DOMException?DOMException:void 0,ri=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":W(t)))return!1;try{return new t,!0}catch(t){return!1}}(ni)?ni:((ii=function(t,i){this.message=t||"",this.name=i||"Error",y.captureStackTrace&&y.captureStackTrace(this,this.constructor)}).prototype=k.create(y.prototype),k.defineProperty(ii.prototype,"constructor",{value:ii,writable:!0,configurable:!0}),ii);function ei(t,i,n,r,s,u){var o=Q(t),h=wt(i);t.Jd=!0;var a=!1,c=I(void 0);return S(function(f,v){var d,l,w,g;if(void 0!==u){if(d=function(){var n=new ri("Aborted","AbortError"),e=[];!1===r&&e.push(function(){return"writable"===i.Ra?yt(i,n):I(void 0)}),!1===s&&e.push(function(){return"readable"===t.Ra?Ki(t,n):I(void 0)}),k(function(){return ut.all(e.map(function(t){return t()}))},!0,n)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(y(t,o.zd,function(t){!1===r?k(function(){return yt(i,t)},!0,t):b(!0,t)}),y(i,h.zd,function(i){!1===s?k(function(){return Ki(t,i)},!0,i):b(!0,i)}),l=t,w=o.zd,g=function(){!1===n?k(function(){return function(t){var i=t.mf,n=i.Ra;return!0===Tt(i)||"closed"===n?I(void 0):"errored"===n?R(i.qd):Ct(t)}(h)}):b()},"closed"===l.Ra?g():D(w,g),!0===Tt(i)||"closed"===i.Ra){var _=new p("the destination writable stream closed before all data could be piped to it");!1===s?k(function(){return Ki(t,_)},!0,_):b(!0,_)}function m(){var t=c;return C(c,function(){return t!==c?m():void 0})}function y(t,i,n){"errored"===t.Ra?n(t.qd):N(i,n)}function k(t,n,r){function e(){P(t(),function(){return A(n,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===i.Ra&&!1===Tt(i)?D(m(),e):e())}function b(t,n){!0!==a&&(a=!0,"writable"===i.Ra&&!1===Tt(i)?D(m(),function(){return A(t,n)}):A(t,n))}function A(t,i){Nt(h),U(o),void 0!==u&&u.removeEventListener("abort",d),t?v(i):f(void 0)}B(S(function(t,i){!function n(r){r?t():C(!0===a?I(!0):C(h.wf,function(){return C(rt(o),function(t){return!0===t.done||(c=C(xt(h,t.value),void 0,e),!1)})}),n,i)}(!1)}))})}var si=function(){function t(){throw new p}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ui(this))throw gi("desiredSize");return di(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ui(this))throw gi("close");if(!1===li(this))throw new p("The stream is not in a state that permits close");ci(this)},t.prototype.enqueue=function(t){if(!1===ui(this))throw gi("enqueue");if(!1===li(this))throw new p("The stream is not in a state that permits enqueue");return fi(this,t)},t.prototype.error=function(t){if(!1===ui(this))throw gi("error");vi(this,t)},t.prototype[G]=function(t){ft(this);var i=this.Cf(t);return ai(this),i},t.prototype[j]=function(){var t=this.Rf;if(this.tf.length>0){var i=at(this);return!0===this.Df&&0===this.tf.length?(ai(this),Ji(t)):oi(this),I(M(i,!1,t.Wd.Vd))}var n=Y(t);return oi(this),n},t}();function ui(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Rf")}function oi(t){!1!==hi(t)&&(!0!==t.Nf?(t.Nf=!0,P(t.Bf(),function(){t.Nf=!1,!0===t.Mf&&(t.Mf=!1,oi(t))},function(i){vi(t,i)})):t.Mf=!0)}function hi(t){var i=t.Rf;return!1!==li(t)&&!1!==t.pf&&(!0===Yi(i)&&J(i)>0||di(t)>0)}function ai(t){t.Bf=void 0,t.Cf=void 0,t.Af=void 0}function ci(t){var i=t.Rf;t.Df=!0,0===t.tf.length&&(ai(t),Ji(i))}function fi(t,i){var n=t.Rf;if(!0===Yi(n)&&J(n)>0)K(n,i,!1);else{var r=void 0;try{r=t.Af(i)}catch(i){throw vi(t,i),i}try{ct(t,i,r)}catch(i){throw vi(t,i),i}}oi(t)}function vi(t,i){var n=t.Rf;"readable"===n.Ra&&(ft(t),ai(t),Zi(n,i))}function di(t){var i=t.Rf.Ra;return"errored"===i?null:"closed"===i?0:t.kf-t.if}function li(t){var i=t.Rf.Ra;return!1===t.Df&&"readable"===i}function wi(t,i,n,r,e,s,u){i.Rf=t,i.tf=void 0,i.if=void 0,ft(i),i.pf=!1,i.Df=!1,i.Mf=!1,i.Nf=!1,i.Af=u,i.kf=s,i.Bf=r,i.Cf=e,t.Zd=i,P(I(n()),function(){i.pf=!0,oi(i)},function(t){vi(i,t)})}function gi(t){return new p("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var _i=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&b.floor(t)===t},mi=function(){function t(){throw new p("ReadableStreamBYOBRequest cannot be used directly")}return k.defineProperty(t.prototype,"view",{get:function(){if(!1===ki(this))throw Li("view");return this.Lf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===ki(this))throw Li("respond");if(void 0===this.Of)throw new p("This BYOB request has been invalidated");this.Lf.buffer,function(t,i){if(!1===c(i=Number(i)))throw new RangeError("bytesWritten must be a finite");Di(t,i)}(this.Of,t)},t.prototype.respondWithNewView=function(t){if(!1===ki(this))throw Li("respond");if(void 0===this.Of)throw new p("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new p("You can only respond with array buffer views");t.buffer,function(t,i){var n=t.Ff.peek();if(n.byteOffset+n.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==i.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=i.buffer,Di(t,i.byteLength)}(this.Of,t)},t}(),yi=function(){function t(){throw new p("ReadableByteStreamController constructor cannot be used directly")}return k.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===pi(this))throw Fi("byobRequest");if(void 0===this.Uf&&this.Ff.length>0){var t=this.Ff.peek(),i=new E(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=k.create(mi.prototype);!function(t,i,n){t.Of=i,t.Lf=n}(n,this,i),this.Uf=n}return this.Uf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===pi(this))throw Fi("desiredSize");return Oi(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===pi(this))throw Fi("close");if(!0===this.Df)throw new p("The stream has already been closed; do not close it again!");var t=this.Vf.Ra;if("readable"!==t)throw new p("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var i=t.Vf;if(t.if>0)t.Df=!0;else{if(t.Ff.length>0&&t.Ff.peek().bytesFilled>0){var n=new p("Insufficient bytes to fill elements in the given buffer");throw Bi(t,n),n}xi(t),Ji(i)}}(this)},t.prototype.enqueue=function(t){if(!1===pi(this))throw Fi("enqueue");if(!0===this.Df)throw new p("stream is closed or draining");var i=this.Vf.Ra;if("readable"!==i)throw new p("The stream (in "+i+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new p("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,i){var n=t.Vf,r=i.buffer,e=i.byteOffset,s=i.byteLength,u=r;!0===Z(n)?0===J(n)?Si(t,u,e,s):K(n,new E(u,e,s),!1):!0===Hi(n)?(Si(t,u,e,s),Pi(t)):Si(t,u,e,s),bi(t)}(this,t)},t.prototype.error=function(t){if(!1===pi(this))throw Fi("error");Bi(this,t)},t.prototype[G]=function(t){this.Ff.length>0&&(this.Ff.peek().bytesFilled=0),ft(this);var i=this.Cf(t);return xi(this),i},t.prototype[j]=function(){var t=this.Vf;if(this.if>0){var i=this.tf.shift();this.if-=i.byteLength,Ri(this);var n=void 0;try{n=new E(i.buffer,i.byteOffset,i.byteLength)}catch(t){return R(t)}return I(M(n,!1,t.Wd.Vd))}var r=this.Hf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:E,readerType:"default"};this.Ff.push(s)}var u=Y(t);return bi(this),u},t}();function pi(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Vf")}function ki(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Of")}function bi(t){var i=function(t){var i=t.Vf;if("readable"!==i.Ra)return!1;if(!0===t.Df)return!1;if(!1===t.pf)return!1;if(!0===Z(i)&&J(i)>0)return!0;if(!0===Hi(i)&&Vi(i)>0)return!0;var n=Oi(t);return n>0}(t);!1!==i&&(!0!==t.Nf?(t.Nf=!0,P(t.Bf(),function(){t.Nf=!1,!0===t.Mf&&(t.Mf=!1,bi(t))},function(i){Bi(t,i)})):t.Mf=!0)}function Ai(t,i){var n=!1;"closed"===t.Ra&&(n=!0);var r=Ti(i);"default"===i.readerType?K(t,r,n):function(t,i,n){var r=t.Wd,e=r.Wf.shift();e.Qd(M(i,n,r.Vd))}(t,r,n)}function Ti(t){var i=t.bytesFilled,n=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,i/n)}function Si(t,i,n,r){t.tf.push({buffer:i,byteOffset:n,byteLength:r}),t.if+=r}function Ei(t,i){var n=i.elementSize,r=i.bytesFilled-i.bytesFilled%n,e=b.min(t.if,i.byteLength-i.bytesFilled),s=i.bytesFilled+e,u=s-s%n,o=e,h=!1;u>r&&(o=u-i.bytesFilled,h=!0);for(var c=t.tf;o>0;){var f=c.peek(),v=b.min(o,f.byteLength),d=i.byteOffset+i.bytesFilled;a(i.buffer,d,f.buffer,f.byteOffset,v),f.byteLength===v?c.shift():(f.byteOffset+=v,f.byteLength-=v),t.if-=v,Ii(t,v,i),o-=v}return h}function Ii(t,i,n){Ci(t),n.bytesFilled+=i}function Ri(t){0===t.if&&!0===t.Df?(xi(t),Ji(t.Vf)):bi(t)}function Ci(t){void 0!==t.Uf&&(t.Uf.Of=void 0,t.Uf.Lf=void 0,t.Uf=void 0)}function Pi(t){for(;t.Ff.length>0;){if(0===t.if)return;var i=t.Ff.peek();!0===Ei(t,i)&&(Ni(t),Ai(t.Vf,i))}}function Di(t,i){var n=t.Ff.peek();if("closed"===t.Vf.Ra){if(0!==i)throw new p("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,i){i.buffer=i.buffer;var n=t.Vf;if(!0===Hi(n))for(;Vi(n)>0;)Ai(n,Ni(t))}(t,n)}else!function(t,i,n){if(n.bytesFilled+i>n.byteLength)throw new RangeError("bytesWritten out of range");if(Ii(t,i,n),!(n.bytesFilled<n.elementSize)){Ni(t);var r=n.bytesFilled%n.elementSize;if(r>0){var e=n.byteOffset+n.bytesFilled,s=n.buffer.slice(e-r,e);Si(t,s,0,s.byteLength)}n.buffer=n.buffer,n.bytesFilled-=r,Ai(t.Vf,n),Pi(t)}}(t,i,n);bi(t)}function Ni(t){var i=t.Ff.shift();return Ci(t),i}function xi(t){t.Bf=void 0,t.Cf=void 0}function Bi(t,i){var n=t.Vf;"readable"===n.Ra&&(function(t){Ci(t),t.Ff=new O}(t),ft(t),xi(t),Zi(n,i))}function Oi(t){var i=t.Vf.Ra;return"errored"===i?null:"closed"===i?0:t.kf-t.if}function Mi(t,i,n){var r=k.create(yi.prototype),e=v(i,"pull",0,[r]),s=v(i,"cancel",1,[]),u=i.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===_i(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,i,n,r,e,s,u){i.Vf=t,i.Mf=!1,i.Nf=!1,i.Uf=void 0,i.tf=i.if=void 0,ft(i),i.Df=!1,i.pf=!1,i.kf=w(s),i.Bf=r,i.Cf=e,i.Hf=u,i.Ff=new O,t.Zd=i,P(I(n()),function(){i.pf=!0,bi(i)},function(t){Bi(i,t)})}(t,r,function(){return d(i,"start",[r])},e,s,n,u)}function Li(t){return new p("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fi(t){return new p("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Ui(t){return S(function(i,n){var r={Qd:i,Kd:n};t.Wd.Wf.push(r)})}function Vi(t){return t.Wd.Wf.length}function Hi(t){var i=t.Wd;return void 0!==i&&!!zi(i)}var Wi=function(){function t(t){if(!Qi(t))throw new p("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===pi(t.Zd))throw new p("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Yi(t))throw new p("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Wf=new O}return k.defineProperty(t.prototype,"closed",{get:function(){return zi(this)?this.zd:R(Xi("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return zi(this)?void 0===this.Hd?R(V("cancel")):F(this,t):R(Xi("cancel"))},t.prototype.read=function(t){return zi(this)?void 0===this.Hd?R(V("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new p("view must have non-zero byteLength")):function(t,i){var n=t.Hd;return n.Jd=!0,"errored"===n.Ra?R(n.qd):function(t,i){var n=t.Vf,r=1;i.constructor!==DataView&&(r=i.constructor.BYTES_PER_ELEMENT);var e=i.constructor,s={buffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Ff.length>0)return t.Ff.push(s),Ui(n);if("closed"===n.Ra)return I(M(new e(s.buffer,s.byteOffset,0),!0,n.Wd.Vd));if(t.if>0){if(!0===Ei(t,s)){var u=Ti(s);return Ri(t),I(M(u,!1,n.Wd.Vd))}if(!0===t.Df){var o=new p("Insufficient bytes to fill elements in the given buffer");return Bi(t,o),R(o)}}t.Ff.push(s);var h=Ui(n);return bi(t),h}(n.Zd,i)}(this,t)):R(new p("view must be an array buffer view")):R(Xi("read"))},t.prototype.releaseLock=function(){if(!zi(this))throw Xi("releaseLock");if(void 0!==this.Hd){if(this.Wf.length>0)throw new p("Tried to release a reader lock when that reader has pending read() calls un-settled");U(this)}},t}();function zi(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Wf")}function Xi(t){return new p("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var qi=function(){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={}),ji(this);var n=i.size,r=i.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Mi(this,t,r=w(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=g(n);void 0===r&&(r=1),function(t,i,n,r){var e=k.create(si.prototype),s=v(i,"pull",0,[e]),u=v(i,"cancel",1,[]);wi(t,e,function(){return d(i,"start",[e])},s,u,n,r)}(this,t,r=w(r),s)}}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===Qi(this))throw $i("locked");return Yi(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Qi(this)?R($i("cancel")):!0===Yi(this)?R(new p("Cannot cancel a stream that already has a reader")):Ki(this,t)},t.prototype.getReader=function(t){var i=(void 0===t?{}:t).mode;if(!1===Qi(this))throw $i("getReader");if(void 0===i)return Q(this,!0);if("byob"===(i=String(i)))return function(t,i){void 0===i&&(i=!1);var n=new Wi(t);return n.Vd=i,n}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,i){var n=t.writable,r=t.readable,e=void 0===i?{}:i,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Qi(this))throw $i("pipeThrough");if(!1===_t(n))throw new p("writable argument to pipeThrough must be a WritableStream");if(!1===Qi(r))throw new p("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!ti(h))throw new p("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Yi(this))throw new p("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===mt(n))throw new p("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return B(ei(this,n,s,u,o,h)),r},t.prototype.pipeTo=function(t,i){var n=void 0===i?{}:i,r=n.preventClose,e=n.preventAbort,s=n.preventCancel,u=n.signal;return!1===Qi(this)?R($i("pipeTo")):!1===_t(t)?R(new p("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||ti(u)?!0===Yi(this)?R(new p("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===mt(t)?R(new p("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ei(this,t,r,e,s,u):R(new p("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Qi(this))throw $i("tee");var t=function(t){var i,n,r,e,s,u=Q(t),o=!1,a=!1,c=!1,f=S(function(t){s=t});function v(){return!0===o||(o=!0,B(x(rt(u),function(t){if(o=!1,!0===t.done)return!1===a&&ci(r.Zd),void(!1===c&&ci(e.Zd));var i=t.value,n=i,s=i;!1===a&&fi(r.Zd,n),!1===c&&fi(e.Zd,s)}))),I(void 0)}function d(){}return r=Gi(d,v,function(r){if(a=!0,i=r,!0===c){var e=h([i,n]),u=Ki(t,e);s(u)}return f}),e=Gi(d,v,function(r){if(c=!0,n=r,!0===a){var e=h([i,n]),u=Ki(t,e);s(u)}return f}),N(u.zd,function(t){vi(r.Zd,t),vi(e.Zd,t)}),[r,e]}(this);return h(t)},t.prototype.getIterator=function(t){var i=(void 0===t?{}:t).preventCancel,n=void 0!==i&&i;if(!1===Qi(this))throw $i("getIterator");return function(t,i){void 0===i&&(i=!1);var n=Q(t),r=k.create(st);return r.$d=n,r.ul=Boolean(i),r}(this,n)},t}();function Gi(t,i,n,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=k.create(qi.prototype);return ji(s),wi(s,k.create(si.prototype),t,i,n,r,e),s}function ji(t){t.Ra="readable",t.Wd=void 0,t.qd=void 0,t.Jd=!1}function Qi(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Zd")}function Yi(t){return void 0!==t.Wd}function Ki(t,i){return t.Jd=!0,"closed"===t.Ra?I(void 0):"errored"===t.Ra?R(t.qd):(Ji(t),x(t.Zd[G](i),e))}function Ji(t){t.Ra="closed";var i=t.Wd;void 0!==i&&(nt(i)&&(i.Yd.forEach(function(t){t.Qd(M(void 0,!0,i.Vd))}),i.Yd=new O),q(i))}function Zi(t,i){t.Ra="errored",t.qd=i;var n=t.Wd;void 0!==n&&(nt(n)?(n.Yd.forEach(function(t){t.Kd(i)}),n.Yd=new O):(n.Wf.forEach(function(t){t.Kd(i)}),n.Wf=new O),X(n,i))}function $i(t){return new p("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===W(n.asyncIterator)&&k.defineProperty(qi.prototype,n.asyncIterator,{value:qi.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var tn=function(){function t(t){var i=t.highWaterMark;this.highWaterMark=i}return t.prototype.size=function(t){return t.byteLength},t}(),nn=function(){function t(t){var i=t.highWaterMark;this.highWaterMark=i}return t.prototype.size=function(){return 1},t}(),rn=function(){function t(t,i,n){void 0===t&&(t={}),void 0===i&&(i={}),void 0===n&&(n={});var r=i.size,e=i.highWaterMark,s=n.size,u=n.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=g(r);if(void 0===e&&(e=1),e=w(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=g(s);void 0===u&&(u=0),u=w(u),function(t,i,n,r,e,s){function u(){return i}function o(i){return function(t,i){var n=t.qf;return!0===t.lf?x(t.zf,function(){var r=t.Gf;if("erroring"===r.Ra)throw r.qd;return vn(n,i)}):vn(n,i)}(t,i)}function h(i){return function(t,i){return sn(t,i),I(void 0)}(t,i)}function a(){return function(t){var i=t.Xf,n=t.qf,r=n.jf();return cn(n),x(r,function(){if("errored"===i.Ra)throw i.qd;var t=i.Zd;!0===li(t)&&ci(t)},function(n){throw sn(t,n),i.qd})}(t)}function c(){return function(t){return on(t,!1),t.zf}(t)}function f(i){return un(t,i),I(void 0)}t.Gf=function(t,i,n,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=k.create(lt.prototype);return gt(u),Ot(u,k.create(Bt.prototype),t,i,n,r,e,s),u}(u,o,a,h,n,r),t.Xf=Gi(u,c,f,e,s),t.lf=void 0,t.zf=void 0,t.Qf=void 0,on(t,!0),t.qf=void 0}(this,S(function(t){h=t}),e,o,u,a),function(t,i){var n=k.create(hn.prototype),r=function(t){try{return fn(n,t),I(void 0)}catch(t){return R(t)}},e=i.transform;if(void 0!==e){if("function"!=typeof e)throw new p("transform is not a method");r=function(t){return l(e,i,[t,n])}}var s=v(i,"flush",0,[n]);!function(t,i,n,r){i.Kf=t,t.qf=i,i.Yf=n,i.jf=r}(t,n,r,s)}(this,t);var c=d(t,"start",[this.qf]);h(c)}return k.defineProperty(t.prototype,"readable",{get:function(){if(!1===en(this))throw ln("readable");return this.Xf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"writable",{get:function(){if(!1===en(this))throw ln("writable");return this.Gf},enumerable:!0,configurable:!0}),t}();function en(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"qf")}function sn(t,i){vi(t.Xf.Zd,i),un(t,i)}function un(t,i){cn(t.qf),Ut(t.Gf.nf,i),!0===t.lf&&on(t,!1)}function on(t,i){void 0!==t.zf&&t.Qf(),t.zf=S(function(i){t.Qf=i}),t.lf=i}var hn=function(){function t(){throw new p("TransformStreamDefaultController instances cannot be created directly")}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===an(this))throw dn("desiredSize");return di(this.Kf.Xf.Zd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===an(this))throw dn("enqueue");fn(this,t)},t.prototype.error=function(t){if(!1===an(this))throw dn("error");!function(t,i){sn(t.Kf,i)}(this,t)},t.prototype.terminate=function(){if(!1===an(this))throw dn("terminate");!function(t){var i=t.Kf,n=i.Xf.Zd;!0===li(n)&&ci(n);var r=new p("TransformStream terminated");un(i,r)}(this)},t}();function an(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Kf")}function cn(t){t.Yf=void 0,t.jf=void 0}function fn(t,i){var n=t.Kf,r=n.Xf.Zd;if(!1===li(r))throw new p("Readable side is not in a state that permits enqueue");try{fi(r,i)}catch(t){throw un(n,t),n.Xf.qd}var e=function(t){return!0!==hi(t)}(r);e!==n.lf&&on(n,!0)}function vn(t,i){return x(t.Yf(i),void 0,function(i){throw sn(t.Kf,i),i})}function dn(t){return new p("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function ln(t){return new p("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=tn,t.CountQueuingStrategy=nn,t.ReadableStream=qi,t.TransformStream=rn,t.WritableStream=lt,k.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":W(t))&&void 0!==n?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((e=e||self).WebStreamsPolyfill={})}),Kt=M(function(t){function i(){var t=Yt();return i=function(){return t},t}U(),Et(),k.defineProperty(t,"__esModule",{value:!0}),function(t,i){for(var n in i)k.defineProperty(t,n,{enumerable:!0,get:k.getOwnPropertyDescriptor(i,n).get})}(t,{get ByteLengthQueuingStrategy(){return i().ByteLengthQueuingStrategy},get CountQueuingStrategy(){return i().CountQueuingStrategy},get ReadableStream(){return i().ReadableStream},get TransformStream(){return i().TransformStream},get WritableStream(){return i().WritableStream}})});function Jt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Jt=function(){return!!t})()}var Zt=O(function(){U(),Et()});function $t(t,i,n){return($t=Jt()?Reflect.construct:function(t,i,n){var r=[null];r.push.apply(r,i);var e=new(Function.bind.apply(t,r));return n&&It(e,n.prototype),e}).apply(null,arguments)}var ti=O(function(){U(),Et(),Zt(),Rt()});function ii(t){return(ii=k.setPrototypeOf?k.getPrototypeOf:function(t){return t.__proto__||k.getPrototypeOf(t)})(t)}var ni=O(function(){U(),Et()});var ri=O(function(){U(),Et()});function ei(t){var i="function"==typeof Map?new Map:void 0;return ei=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new p("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,n)}function n(){return $t(t,arguments,ii(this).constructor)}return n.prototype=k.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),It(n,t)},ei(t)}var si,ui=O(function(){U(),Et(),ti(),ni(),ri(),Rt()}),oi=M(function(t,r){var e,s;U(),Et(),Wt(),xt(),Pt(),H(),ct(),ui(),Ft(),Qt(),e=t,s=function(t){var r,e=k.defineProperty,s=k.defineProperties,u=k.getOwnPropertyDescriptors,o=k.getOwnPropertySymbols,h=k.prototype.hasOwnProperty,a=k.prototype.propertyIsEnumerable,c=function(t,i,n){return i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n},d=function(t,i){for(var n in i||(i={}))h.call(i,n)&&c(t,n,i[n]);if(o)for(var r,e=Lt(o(i));!(r=e()).done;)n=r.value,a.call(i,n)&&c(t,n,i[n]);return t},g=function(t,i){return s(t,u(i))},T=function(t,i){var n={};for(var r in t)h.call(t,r)&&i.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&o)for(var e,s=Lt(o(t));!(e=s()).done;)r=e.value,i.indexOf(r)<0&&a.call(t,r)&&(n[r]=t[r]);return n},R=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:(void 0===f?"undefined":W(f))<"u"?f:("undefined"==typeof global?"undefined":W(global))<"u"?global:("undefined"==typeof self?"undefined":W(self))<"u"?self:{};function C(t){return t&&t.__esModule&&k.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P,D,N={exports:{}},x=(P||(P=1,D=N,function(t){var i,n={VERSION:"1.6.1"},r={},e=function(t,i){return function(){return i.apply(t,arguments)}},s=function(){var t,i,n=arguments,r=n[0];for(i=1;i<n.length;i++)for(t in n[i])!(t in r)&&n[i].hasOwnProperty(t)&&(r[t]=n[i][t]);return r},u=function(t,i){return{value:t,name:i}};n.TRACE=u(1,"TRACE"),n.DEBUG=u(2,"DEBUG"),n.INFO=u(3,"INFO"),n.TIME=u(4,"TIME"),n.WARN=u(5,"WARN"),n.ERROR=u(8,"ERROR"),n.OFF=u(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var i=this.context.filterLevel;return t.value>=i.value},trace:function(){this.invoke(n.TRACE,arguments)},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(n.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(n.TIME,[t,"end"])},invoke:function(t,n){i&&this.enabledFor(t)&&i(n,s({level:t},this.context))}};var h,a=new o({filterLevel:n.OFF});(h=n).enabledFor=e(a,a.enabledFor),h.trace=e(a,a.trace),h.debug=e(a,a.debug),h.time=e(a,a.time),h.timeEnd=e(a,a.timeEnd),h.info=e(a,a.info),h.warn=e(a,a.warn),h.error=e(a,a.error),h.log=h.info,n.setHandler=function(t){i=t},n.setLevel=function(t){for(var i in a.setLevel(t),r)r.hasOwnProperty(i)&&r[i].setLevel(t)},n.getLevel=function(){return a.getLevel()},n.get=function(t){return r[t]||(r[t]=new o(s({name:t},a.context)))},n.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,i){i.name&&t.unshift("["+i.name+"]")};var i={},r=function(t,i){Function.prototype.apply.call(t,console,i)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(e,s){e=Array.prototype.slice.call(e);var u,o=console.log;s.level===n.TIME?(u=(s.name?"["+s.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(u):i[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):r(o,[u+": "+((new Date).getTime()-i[u])+"ms"])):(s.level===n.WARN&&console.warn?o=console.warn:s.level===n.ERROR&&console.error?o=console.error:s.level===n.INFO&&console.info?o=console.info:s.level===n.DEBUG&&console.debug?o=console.debug:s.level===n.TRACE&&console.trace&&(o=console.trace),t.formatter(e,s),r(o,e))}},n.useDefaults=function(t){n.setLevel(t&&t.defaultLevel||n.DEBUG),n.setHandler(n.createDefaultHandler(t))},n.setDefaults=n.useDefaults,D.exports?D.exports=n:(n.Jf=t.Logger,n.noConflict=function(){return t.Logger=n.Jf,n},t.Logger=n)}(N.exports)),N.exports),B=C(x),O="0.6.0",M=(null==(r=null==f?void 0:f.navigator)?void 0:r.userAgent)||"No user agent available",L="",F="",U="",H="",z="",X="",q="",G=0,j=[],Q=function(t){L=""===L?t:L},Y=function(t){F=""===F?t:F},K=function(t){U=""===U?t:U},J=function(t){H=""===H?t:H},Z=function(t){z=""===z?t:z},tt=function(t){G=0===G?t:G},it=function(t){X=t},nt=function(t){q=""===q?t:q},rt=function(t){60===j.length&&j.shift(),j.push(t)},et=function(t,i){var n;void 0===t&&(t=60),void 0===i&&(i="JSON"),n=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:O,timestamp:(new Date).toISOString(),userAgent:M,clusterId:q,accountId:L,streamName:F,subscriberId:U,connection:X,stats:j.slice(-n),connectionDurationMs:(new Date).getTime()-G};return""!==z?r.feedId=z:""!==H&&(r.streamViewId=H),"CMCD"===i?function(t){function i(t,i){return{ts:b.round(i.timestamp)||"",ot:"audio"===t?"a":"v",bl:i.jitterBufferDelay||0,br:b.round(i.bitrateBitsPerSecond||0),pld:i.packetsLostDeltaPerSecond||0,j:i.jitter||0,mtp:i.packetRate||0,mid:i.mid||"",mimeType:i.mimeType||""}}return t.stats=t.stats.reduce(function(t,n){var r=0!==n.audio.inbounds.length?n.audio.inbounds.map(function(t){return i("audio",t)}):n.audio.outbounds.map(function(t){return i("audio",t)}),e=0!==n.video.inbounds.length?n.video.inbounds.map(function(t){return i("video",t)}):n.video.outbounds.map(function(t){return i("video",t)});return t.concat([].concat(r,e))},[]),t}(r):r};B.useDefaults({defaultLevel:B.TRACE});var st=["TRACE","DEBUG","INFO","WARN","ERROR"],ot=function(t,i){t.unshift("[".concat(i.name||"Global","] ").concat((new Date).toISOString()," - ").concat(i.level.name," -"))},ht=function(t,i){return i?t.value>=lt[i].value:t.value>=dt.value},at=B.createDefaultHandler({formatter:ot});B.setHandler(function(t,i){(function(t,i){t=(t=Array.prototype.slice.call(t)).map(function(t){return"object"==(void 0===t?"undefined":W(t))?JSON.stringify(t):t}),ot(t,i),0!==ft?(vt.push(t.join(" ")),vt.length>=ft&&(vt=vt.slice(-ft))):vt=[]})(t,i),ht(i.level,i.name)&&at(t,i);for(var n,r=Lt(wt);!(n=r()).done;){var e=n.value,s=e.handler,u=e.level;i.level.value>=u.value&&s(t,i)}});var ct,ft=1e4,vt=[],dt=B.OFF,lt={},wt=[],gt=g(d({},B),{enabledFor:ht,getHistory:function(){return vt},getHistoryMaxSize:function(){return ft},setHistoryMaxSize:function(t){ft=t},setLevel:function(t){for(var i in dt=t,lt)lt[i]=t},getLevel:function(){return dt},get:function(t){lt[t]||(lt[t]=dt);var i=B.get(t);return i.setLevel=function(i){lt[t]=i},i.getLevel=function(){return lt[t]},i},setHandler:function(t,i){wt.push({handler:t,level:i})},diagnose:function(t){var i;void 0===t&&(t={});var n={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(n.statsCount=t,i=n):i=d(d({},n),t);var r=i.statsCount,e=i.historySize,s=i.minLogLevel,u=i.statsFormat,o=et(r,u),h=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new y("Invalid Argument Exception : historySize must be a positive integer.");if(!st.includes(s.toUpperCase()))throw new y('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(st.includes(s.toUpperCase())){var a=st.slice(st.indexOf(s.toUpperCase())),c=h.filter(function(t){return a.some(function(i){return t.includes(i)})});o.history=c.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:O}),_t={exports:{}};function mt(){if(ct)return _t.exports;ct=1;var t,i="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,n=i&&"function"==typeof i.apply?i.apply:function(t,i,n){return Function.prototype.apply.call(t,i,n)};t=i&&"function"==typeof i.ownKeys?i.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function e(){e.init.call(this)}_t.exports=e,_t.exports.once=function(t,i){return new ut(function(n,r){function e(n){t.removeListener(i,s),r(n)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",e),n([].slice.call(arguments))}l(t,i,s,{once:!0}),"error"!==i&&function(t,i,n){"function"==typeof t.on&&l(t,"error",i,n)}(t,e,{once:!0})})},e.EventEmitter=e,e.prototype.Zf=void 0,e.prototype.$f=0,e.prototype.rv=void 0;var s=10;function u(t){if("function"!=typeof t)throw new p('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))}function o(t){return void 0===t.rv?e.defaultMaxListeners:t.rv}function h(t,i,n,r){var e,s,h;if(u(n),void 0===(s=t.Zf)?(s=t.Zf=k.create(null),t.$f=0):(void 0!==s.newListener&&(t.emit("newListener",i,n.listener?n.listener:n),s=t.Zf),h=s[i]),void 0===h)h=s[i]=n,++t.$f;else if("function"==typeof h?h=s[i]=r?[n,h]:[h,n]:r?h.unshift(n):h.push(n),(e=o(t))>0&&h.length>e&&!h.warned){h.warned=!0;var a=new y("Possible EventEmitter memory leak detected. "+h.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=i,a.count=h.length,function(t){console&&console.warn&&console.warn(t)}(a)}return t}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,i,n){var r={fired:!1,wrapFn:void 0,target:t,type:i,listener:n},e=a.bind(r);return e.listener=n,r.wrapFn=e,e}function f(t,i,n){var r=t.Zf;if(void 0===r)return[];var e=r[i];return void 0===e?[]:"function"==typeof e?n?[e.listener||e]:[e]:n?function(t){for(var i=new Array(t.length),n=0;n<i.length;++n)i[n]=t[n].listener||t[n];return i}(e):d(e,e.length)}function v(t){var i=this.Zf;if(void 0!==i){var n=i[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(t,i){for(var n=new Array(i),r=0;r<i;++r)n[r]=t[r];return n}function l(t,i,n,r){if("function"==typeof t.on)r.once?t.once(i,n):t.on(i,n);else{if("function"!=typeof t.addEventListener)throw new p('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(i,function e(s){r.once&&t.removeEventListener(i,e),n(s)})}}return k.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),e.init=function(){(void 0===this.Zf||this.Zf===k.getPrototypeOf(this).Zf)&&(this.Zf=k.create(null),this.$f=0),this.rv=this.rv||void 0},e.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.rv=t,this},e.prototype.getMaxListeners=function(){return o(this)},e.prototype.emit=function(t){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var e="error"===t,s=this.Zf;if(void 0!==s)e=e&&void 0===s.error;else if(!e)return!1;if(e){var u;if(i.length>0&&(u=i[0]),V(u,y))throw u;var o=new y("Unhandled error."+(u?" ("+u.message+")":""));throw o.context=u,o}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)n(h,this,i);else{var a=h.length,c=d(h,a);for(r=0;r<a;++r)n(c[r],this,i)}return!0},e.prototype.addListener=function(t,i){return h(this,t,i,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(t,i){return h(this,t,i,!0)},e.prototype.once=function(t,i){return u(i),this.on(t,c(this,t,i)),this},e.prototype.prependOnceListener=function(t,i){return u(i),this.prependListener(t,c(this,t,i)),this},e.prototype.removeListener=function(t,i){var n,r,e,s,o;if(u(i),void 0===(r=this.Zf))return this;if(void 0===(n=r[t]))return this;if(n===i||n.listener===i)0===--this.$f?this.Zf=k.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||i));else if("function"!=typeof n){for(e=-1,s=n.length-1;s>=0;s--)if(n[s]===i||n[s].listener===i){o=n[s].listener,e=s;break}if(e<0)return this;0===e?n.shift():function(t,i){for(;i+1<t.length;i++)t[i]=t[i+1];t.pop()}(n,e),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||i)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(t){var i,n,r;if(void 0===(n=this.Zf))return this;if(void 0===n.removeListener)return 0===arguments.length?(this.Zf=k.create(null),this.$f=0):void 0!==n[t]&&(0===--this.$f?this.Zf=k.create(null):delete n[t]),this;if(0===arguments.length){var e,s=k.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(e=s[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Zf=k.create(null),this.$f=0,this}if("function"==typeof(i=n[t]))this.removeListener(t,i);else if(void 0!==i)for(r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this},e.prototype.listeners=function(t){return f(this,t,!0)},e.prototype.rawListeners=function(t){return f(this,t,!1)},e.listenerCount=function(t,i){return"function"==typeof t.listenerCount?t.listenerCount(i):v.call(t,i)},e.prototype.listenerCount=v,e.prototype.eventNames=function(){return this.$f>0?t(this.Zf):[]},_t.exports}var yt,pt,kt,bt,At,Tt,St,Et,It,Rt,Pt,Dt,xt,Bt,Ot,Mt,Ft,Ut,Ht,Wt,Xt,qt,Gt,jt=C(mt()),Qt={exports:{}},Yt=function(){if(yt)return Qt.exports;yt=1,Qt.exports=i,Qt.exports.filter=function(n,r){var e=new t;return i(n,e,r),e};var t=mt().EventEmitter;function i(t,i,n){Array.isArray(n)||(n=[n]);var r=[];return n.forEach(function(n){var e=function(){var t=[].slice.call(arguments);t.unshift(n),i.emit.apply(i,t)};r.push(e),t.on(n,e)}),function(){n.forEach(function(i,n){t.removeListener(i,r[n])})}}return Qt.exports}(),Kt=C(Yt),Jt={exports:{}},Zt=(pt||(pt=1,function(t){var i,n;self,t.exports=(i={7:function(t){var i,n=function(t){if("function"!=typeof t)throw new p('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))},r=function(t){return void 0===t.rv?l.defaultMaxListeners:t.rv},e=function(t,i,e,s){var u,o,h,a;if(n(e),void 0===(o=t.Zf)?(o=t.Zf=k.create(null),t.$f=0):(void 0!==o.newListener&&(t.emit("newListener",i,e.listener?e.listener:e),o=t.Zf),h=o[i]),void 0===h)h=o[i]=e,++t.$f;else if("function"==typeof h?h=o[i]=s?[e,h]:[h,e]:s?h.unshift(e):h.push(e),(u=r(t))>0&&h.length>u&&!h.warned){h.warned=!0;var c=new y("Possible EventEmitter memory leak detected. "+h.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=i,c.count=h.length,a=c,console&&console.warn&&console.warn(a)}return t},s=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},u=function(t,i,n){var r={fired:!1,wrapFn:void 0,target:t,type:i,listener:n},e=s.bind(r);return e.listener=n,r.wrapFn=e,e},o=function(t,i,n){var r=t.Zf;if(void 0===r)return[];var e=r[i];return void 0===e?[]:"function"==typeof e?n?[e.listener||e]:[e]:n?function(t){for(var i=new Array(t.length),n=0;n<i.length;++n)i[n]=t[n].listener||t[n];return i}(e):a(e,e.length)},h=function(t){var i=this.Zf;if(void 0!==i){var n=i[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0},a=function(t,i){for(var n=new Array(i),r=0;r<i;++r)n[r]=t[r];return n},c=function(t,i,n,r){if("function"==typeof t.on)r.once?t.once(i,n):t.on(i,n);else{if("function"!=typeof t.addEventListener)throw new p('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(i,function e(s){r.once&&t.removeEventListener(i,e),n(s)})}},f="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,i,n){return Function.prototype.apply.call(t,i,n)};i=f&&"function"==typeof f.ownKeys?f.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var d=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,i){return new ut(function(n,r){function e(n){t.removeListener(i,s),r(n)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",e),n([].slice.call(arguments))}var u,o;c(t,i,s,{once:!0}),"error"!==i&&(o=e,"function"==typeof(u=t).on&&c(u,"error",o,{once:!0}))})},l.EventEmitter=l,l.prototype.Zf=void 0,l.prototype.$f=0,l.prototype.rv=void 0;var w=10;k.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");w=t}}),l.init=function(){void 0!==this.Zf&&this.Zf!==k.getPrototypeOf(this).Zf||(this.Zf=k.create(null),this.$f=0),this.rv=this.rv||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.rv=t,this},l.prototype.getMaxListeners=function(){return r(this)},l.prototype.emit=function(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);var r="error"===t,e=this.Zf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var s;if(i.length>0&&(s=i[0]),V(s,y))throw s;var u=new y("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,i);else{var h=o.length,c=a(o,h);for(n=0;n<h;++n)v(c[n],this,i)}return!0},l.prototype.addListener=function(t,i){return e(this,t,i,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,i){return e(this,t,i,!0)},l.prototype.once=function(t,i){return n(i),this.on(t,u(this,t,i)),this},l.prototype.prependOnceListener=function(t,i){return n(i),this.prependListener(t,u(this,t,i)),this},l.prototype.removeListener=function(t,i){var r,e,s,u,o;if(n(i),void 0===(e=this.Zf))return this;if(void 0===(r=e[t]))return this;if(r===i||r.listener===i)0==--this.$f?this.Zf=k.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||i));else if("function"!=typeof r){for(s=-1,u=r.length-1;u>=0;u--)if(r[u]===i||r[u].listener===i){o=r[u].listener,s=u;break}if(s<0)return this;0===s?r.shift():function(t,i){for(;i+1<t.length;i++)t[i]=t[i+1];t.pop()}(r,s),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||i)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var i,n,r;if(void 0===(n=this.Zf))return this;if(void 0===n.removeListener)return 0===arguments.length?(this.Zf=k.create(null),this.$f=0):void 0!==n[t]&&(0==--this.$f?this.Zf=k.create(null):delete n[t]),this;if(0===arguments.length){var e,s=k.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(e=s[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Zf=k.create(null),this.$f=0,this}if("function"==typeof(i=n[t]))this.removeListener(t,i);else if(void 0!==i)for(r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this},l.prototype.listeners=function(t){return o(this,t,!0)},l.prototype.rawListeners=function(t){return o(this,t,!1)},l.listenerCount=function(t,i){return"function"==typeof t.listenerCount?t.listenerCount(i):h.call(t,i)},l.prototype.listenerCount=h,l.prototype.eventNames=function(){return this.$f>0?i(this.Zf):[]}},156:function(t,i,n){var r=this&&this.hv||(k.create?function(t,i,n,r){void 0===r&&(r=n);var e=k.getOwnPropertyDescriptor(i,n);e&&!("get"in e?!i.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return i[n]}}),k.defineProperty(t,r,e)}:function(t,i,n,r){void 0===r&&(r=n),t[r]=i[n]}),e=this&&this.ov||function(t,i){for(var n in t)"default"===n||k.prototype.hasOwnProperty.call(i,n)||r(i,t,n)},s=this&&this.uv||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(i,"__esModule",{value:!0}),i.Logger=void 0;var u=n(586);k.defineProperty(i,"Logger",{enumerable:!0,get:function(){return s(u).default}}),e(n(284),i),e(n(280),i),e(n(738),i),e(n(767),i)},185:function(t,i){k.defineProperty(i,"__esModule",{value:!0}),i.calculatePacketsLostRatio=i.calculateRate=i.getMediaKind=void 0,i.getMediaKind=function(t){var i=t.kind||t.mediaType;return["audio","video"].includes(i)||"inbound-rtp"!==t.type||(i=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),i},i.calculateRate=function(t,i,n,r){return n&&r?(i-r)/((t-n)/1e3):0},i.calculatePacketsLostRatio=function(t,i,n,r){var e=t-(null!=n?n:0),s=e+(i-(null!=r?r:0));return 0===s?0:e/s}},280:function(t,i){k.defineProperty(i,"__esModule",{value:!0})},284:function(t,i,n){var r,e,s,u,o,h,a,c,f,v,d,l,w,g,y,b,A=this&&this.fv||function(t,i,n,r){return new(n||(n=ut))(function(e,s){function u(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var i;t.done?e(t.value):(i=t.value,V(i,n)?i:new n(function(t){t(i)})).then(u,o)}h((r=r.apply(t,i||[])).next())})},T=this&&this.vv||function(t,i,n,r,e){if("m"===r)throw new p("Private method is not writable");if("a"===r&&!e)throw new p("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!e:!i.has(t))throw new p("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,n):e?e.value=n:i.set(t,n),n},S=this&&this._v||function(t,i,n,r){if("a"===n&&!r)throw new p("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!r:!i.has(t))throw new p("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:i.get(t)},E=this&&this.uv||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(i,"__esModule",{value:!0}),i.WebRTCStats=void 0;var I=n(7),R=E(n(586)),C=n(738),P=n(185),D=function(t){function i(i){var n;return n=t.call(this)||this,r.add(n),e.set(n,void 0),s.set(n,void 0),u.set(n,void 0),o.set(n,null),h.set(n,void 0),a.set(n,null),n.start=function(){S(n,h,"f").info("WebRTC statistics collection is starting..."),T(n,a,null,"f"),T(n,o,_(S(n,c,"f"),S(n,s,"f")),"f")},n.stop=function(){S(n,o,"f")&&(m(S(n,o,"f")),T(n,o,null,"f"),S(n,h,"f").info("WebRTC statistics collection has stopped."))},c.set(n,function(){return A(n,void 0,void 0,function(){var t,i,n,s,o,c,f,v,w,_,m,p;return zt(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,h,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),i=(new Date).toISOString(),[3,3];case 2:return n=A.sent(),[2,(S(this,h,"f").error("Problem collecting the WebRTC statistics.",n),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(n)))];case 3:s=Array.from(t.values()),o={timestamp:i,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,u,"f")&&(o.rawStats=t),c=0,A.label=4;case 4:if(!(c<k.keys(s).length))return[3,19];switch((f=s[c]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(w=(0,P.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",d).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===w?[4,S(this,r,"m",l).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return _=f,"audio"!==(m=(0,P.getMediaKind)(_))?[3,13]:[4,S(this,r,"m",g).call(this,t,_,o)];case 12:return A.sent(),[3,16];case 13:return"video"===m?[4,S(this,r,"m",y).call(this,t,_,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(p=f).nominated&&S(this,r,"m",b).call(this,p,o),A.label=18;case 18:return c++,[3,4];case 19:return T(this,a,o,"f"),this.emit("stats",o),[2]}})})}),T(n,h,R.default.get("WebRTCStats"),"f"),T(n,e,i.getStats,"f"),T(n,s,i.getStatsInterval||1e3,"f"),T(n,u,!!i.includeRawStats,"f"),n}return Ct(i,t),i}(I.EventEmitter);i.WebRTCStats=D,e=new WeakMap,s=new WeakMap,u=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,c=new WeakMap,r=new WeakSet,f=function(t,i){if(i){var n=t.get(i);if(n)return{mimeType:n.mimeType}}return{}},v=function(t,i,n){return A(this,void 0,void 0,function(){var e,s,u,o,h,a,c;return zt(this,function(v){return h=(0,P.calculateRate)(i.timestamp,i.bytesSent,null==n?void 0:n.timestamp,null==n?void 0:n.totalBytesSent),a=(0,P.calculateRate)(i.timestamp,i.packetsSent,null==n?void 0:n.timestamp,null==n?void 0:n.totalPacketsSent),c=S(this,r,"m",f).call(this,t,i.codecId),[2,k.assign({id:i.id,timestamp:i.timestamp,mid:i.mid,totalBytesSent:i.bytesSent,bytesSentDelta:i.bytesSent-(null!==(e=null==n?void 0:n.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:i.packetsSent,packetsSentDelta:i.packetsSent-(null!==(s=null==n?void 0:n.totalPacketsSent)&&void 0!==s?s:0),bitrate:h,packetRate:a,targetBitrate:i.targetBitrate,retransmittedPacketsSent:i.retransmittedPacketsSent,retransmittedPacketsSentDelta:i.retransmittedPacketsSent-(null!==(u=null==n?void 0:n.retransmittedPacketsSent)&&void 0!==u?u:0),retransmittedBytesSent:i.retransmittedBytesSent,retransmittedBytesSentDelta:i.retransmittedBytesSent-(null!==(o=null==n?void 0:n.retransmittedBytesSent)&&void 0!==o?o:0)},c)]})})},d=function(t,i,n){return A(this,void 0,void 0,function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return(s=null===(e=S(this,a,"f"))||void 0===e?void 0:e.output.audio.find(function(t){return t.id===i.id}))&&i.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,i,s)];case 1:return u=h.sent(),o=k.assign({},u),n.output.audio.push(o),[2]}})})},l=function(t,i,n){return A(this,void 0,void 0,function(){var e,s,u,o,h;return zt(this,function(c){switch(c.label){case 0:return(s=null===(e=S(this,a,"f"))||void 0===e?void 0:e.output.video.find(function(t){return t.id===i.id}))&&i.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,i,s)];case 1:return u=c.sent(),o=C.QualityLimitationReason.none,i.qualityLimitationReason&&(o=i.qualityLimitationReason),h=k.assign(k.assign({},u),{frameWidth:i.frameWidth,frameHeight:i.frameHeight,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,qualityLimitationReason:o,qualityLimitationDurations:i.qualityLimitationDurations}),n.output.video.push(h),[2]}})})},w=function(t,i,n){return A(this,void 0,void 0,function(){var e,s,u,o,h,a,c;return zt(this,function(v){return u=(0,P.calculateRate)(i.timestamp,i.bytesReceived,null==n?void 0:n.timestamp,null==n?void 0:n.totalBytesReceived),o=(0,P.calculateRate)(i.timestamp,i.packetsReceived,null==n?void 0:n.timestamp,null==n?void 0:n.totalPacketsReceived),h=(0,P.calculatePacketsLostRatio)(i.packetsLost,i.packetsReceived,null==n?void 0:n.totalPacketsLost,null==n?void 0:n.totalPacketsReceived),a=(null!==(e=i.packetsLost)&&void 0!==e?e:0)-(null!==(s=null==n?void 0:n.totalPacketsLost)&&void 0!==s?s:0),c=S(this,r,"m",f).call(this,t,i.codecId),[2,k.assign({id:i.id,timestamp:i.timestamp,mid:i.mid,trackIdentifier:i.trackIdentifier,jitter:i.jitter,jitterBufferDelay:i.jitterBufferDelay,jitterBufferEmittedCount:i.jitterBufferEmittedCount,totalBytesReceived:i.bytesReceived,totalPacketsReceived:i.packetsReceived,totalPacketsLost:i.packetsLost,bitrate:u,packetRate:o,packetLossRatio:h,packetLossDelta:a},c)]})})},g=function(t,i,n){return A(this,void 0,void 0,function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return(s=null===(e=S(this,a,"f"))||void 0===e?void 0:e.input.audio.find(function(t){return t.id===i.id}))&&i.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",w).call(this,t,i,s)];case 1:return u=o.sent(),n.input.audio.push(u),[2]}})})},y=function(t,i,n){return A(this,void 0,void 0,function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return(s=null===(e=S(this,a,"f"))||void 0===e?void 0:e.input.video.find(function(t){return t.id===i.id}))&&i.timestamp-s.timestamp<=0?[2]:[4,S(this,r,"m",w).call(this,t,i,s)];case 1:return u=h.sent(),o=k.assign(k.assign({},u),{keyFramesDecoded:i.keyFramesDecoded,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesDecoded:i.framesDecoded,framesDropped:i.framesDropped,framesPerSecond:i.framesPerSecond,framesReceived:i.framesReceived}),n.input.video.push(o),[2]}})})},b=function(t,i){i.totalRoundTripTime=t.totalRoundTripTime,i.currentRoundTripTime=t.currentRoundTripTime,i.responsesReceived=t.responsesReceived,i.availableOutgoingBitrate=t.availableOutgoingBitrate,i.availableIncomingBitrate=t.availableIncomingBitrate}},586:function(t,i,n){var r,e;!function(){var s,u={VERSION:"1.6.1"},o={},h=function(t,i){return function(){return i.apply(t,arguments)}},a=function(){var t,i,n=arguments,r=n[0];for(i=1;i<n.length;i++)for(t in n[i])!(t in r)&&n[i].hasOwnProperty(t)&&(r[t]=n[i][t]);return r},c=function(t,i){return{value:t,name:i}};u.TRACE=c(1,"TRACE"),u.DEBUG=c(2,"DEBUG"),u.INFO=c(3,"INFO"),u.TIME=c(4,"TIME"),u.WARN=c(5,"WARN"),u.ERROR=c(8,"ERROR"),u.OFF=c(99,"OFF");var f=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};f.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var i=this.context.filterLevel;return t.value>=i.value},trace:function(){this.invoke(u.TRACE,arguments)},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(u.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(u.TIME,[t,"end"])},invoke:function(t,i){s&&this.enabledFor(t)&&s(i,a({level:t},this.context))}};var v,d=new f({filterLevel:u.OFF});(v=u).enabledFor=h(d,d.enabledFor),v.trace=h(d,d.trace),v.debug=h(d,d.debug),v.time=h(d,d.time),v.timeEnd=h(d,d.timeEnd),v.info=h(d,d.info),v.warn=h(d,d.warn),v.error=h(d,d.error),v.log=v.info,u.setHandler=function(t){s=t},u.setLevel=function(t){for(var i in d.setLevel(t),o)o.hasOwnProperty(i)&&o[i].setLevel(t)},u.getLevel=function(){return d.getLevel()},u.get=function(t){return o[t]||(o[t]=new f(a({name:t},d.context)))},u.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,i){i.name&&t.unshift("["+i.name+"]")};var i={},n=function(t,i){Function.prototype.apply.call(t,console,i)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var s,o=console.log;e.level===u.TIME?(s=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(s):i[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):n(o,[s+": "+((new Date).getTime()-i[s])+"ms"])):(e.level===u.WARN&&console.warn?o=console.warn:e.level===u.ERROR&&console.error?o=console.error:e.level===u.INFO&&console.info?o=console.info:e.level===u.DEBUG&&console.debug?o=console.debug:e.level===u.TRACE&&console.trace&&(o=console.trace),t.formatter(r,e),n(o,r))}},u.useDefaults=function(t){u.setLevel(t&&t.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(t))},u.setDefaults=u.useDefaults,void 0===(e="function"==typeof(r=u)?r.call(i,n,i,t):r)||(t.exports=e)}()},738:function(t,i){var n,r;k.defineProperty(i,"__esModule",{value:!0}),i.QualityLimitationReason=void 0,(r=n||(i.QualityLimitationReason=n={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},767:function(t,i){k.defineProperty(i,"__esModule",{value:!0})}},n={},function t(r){var e=n[r];if(void 0!==e)return e.exports;var s=n[r]={exports:{}};return i[r].call(s.exports,s,s.exports,t),s.exports}(156))}(Jt)),Jt.exports),$t=gt.get("PeerConnectionStats"),ti="stats",ii=function(t){function i(i,n){var r;return void 0===n&&(n={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=i,r.collection=null,r.initialized=!1,n.autoInitStats&&r.init(n.statsIntervalMs),r}Ct(i,t);var n=i.prototype;return n.init=function(t){var i=this;if(this.initialized)$t.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{$t.info("Initializing peer connection stats");var n=this.peer;try{this.collection=new Zt.WebRTCStats({getStatsInterval:t,getStats:function(){return n.getStats()},includeRawStats:!0}),this.collection.on("stats",function(t){var n=function(t){var i=t,n=(i.input,i.output,i.rawStats,T(i,["input","output","rawStats"]));return g(d({},n),{audio:{inbounds:t.input.audio.map(function(t){var i=t,n=i.packetLossRatio,r=i.packetLossDelta,e=i.bitrate,s=T(i,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)}),outbounds:t.output.audio.map(function(t){var i=t,n=i.packetLossRatio,r=i.packetLossDelta,e=i.bitrate,s=T(i,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)})},video:{inbounds:t.input.video.map(function(t){var i=t,n=i.packetLossRatio,r=i.packetLossDelta,e=i.bitrate,s=T(i,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)}),outbounds:t.output.video.map(function(t){var i=t,n=i.packetLossRatio,r=i.packetLossDelta,e=i.bitrate,s=T(i,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},s)})},raw:t.rawStats})}(t);rt(n),i.emit(ti,n)}),this.collection.start(),this.initialized=!0}catch(t){$t.error(t)}}},n.parseStats=function(t){return $t.warn("The parseStats method is deprecated and will be removed in future releases."),null},n.stop=function(){$t.info("Stopping peer connection stats"),this.collection.stop()},i}(jt),ni={},ri={},si={},ui={exports:{}};function oi(){if(kt)return ui.exports;kt=1;var t=ui.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var i="candidate:%s %d %s %d %s %d typ %s";return i+=null!=t.raddr?" raddr %s rport %d":"%v%v",i+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(i+=" generation %d"),i+=null!=t["network-id"]?" network-id %d":"%v",i+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var i="ssrc:%d";return null!=t.attribute&&(i+=" %s",null!=t.value&&(i+=":%s")),i}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var i="mediaclk:";return i+=null!=t.id?"id=%s %s":"%v%s",i+=null!=t.mediaClockValue?"=%s":"",i+=null!=t.rateNumerator?" rate=%s":"",i+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return k.keys(t).forEach(function(i){t[i].forEach(function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")})}),ui.exports}function hi(){return bt||(bt=1,function(t){var i=function(t){return String(Number(t))===t?Number(t):t},n=function(t,n,r){var e=t.name&&t.names;t.push&&!n[t.push]?n[t.push]=[]:e&&!n[t.name]&&(n[t.name]={});var s=t.push?{}:e?n[t.name]:n;(function(t,n,r,e){if(e&&!r)n[e]=i(t[1]);else for(var s=0;s<r.length;s+=1)null!=t[s+1]&&(n[r[s]]=i(t[s+1]))})(r.match(t.reg),s,t.names,t.name),t.push&&n[t.push].push(s)},r=oi(),e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var i={},s=[],u=i;return t.split(/(\r\n|\r|\n)/).filter(e).forEach(function(t){var i=t[0],e=t.slice(2);"m"===i&&(s.push({rtp:[],fmtp:[]}),u=s[s.length-1]);for(var o=0;o<(r[i]||[]).length;o+=1){var h=r[i][o];if(h.reg.test(e))return n(h,u,e)}}),i.media=s,i};var s=function(t,n){var r=n.split(/=(.+)/,2);return 2===r.length?t[r[0]]=i(r[1]):1===r.length&&n.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var n=[],r=t.split(" ").map(i),e=0;e<r.length;e+=3)n.push({component:r[e],ip:r[e+1],port:r[e+2]});return n},t.parseImageAttributes=function(t){return t.split(" ").map(function(t){return t.substring(1,t.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(t){return t.split(";").map(function(t){return t.split(",").map(function(t){var n,r=!1;return"~"!==t[0]?n=i(t):(n=i(t.substring(1,t.length)),r=!0),{scid:n,paused:r}})})}}(si)),si}function ai(){if(Tt)return At;Tt=1;var t=oi(),i=/%[sdv%]/g,n=function(t){var n=1,r=arguments,e=r.length;return t.replace(i,function(t){if(n>=e)return t;var i=r[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},r=function(t,i,r){var e=[t+"="+(V(i.format,Function)?i.format(i.push?r:r[i.name]):i.format)];if(i.names)for(var s=0;s<i.names.length;s+=1){var u=i.names[s];i.name?e.push(r[i.name][u]):e.push(r[i.names[s]])}else e.push(r[i.name]);return n.apply(null,e)},e=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];return At=function(i,n){n=n||{},null==i.version&&(i.version=0),null==i.name&&(i.name=" "),i.media.forEach(function(t){null==t.payloads&&(t.payloads="")});var u=n.outerOrder||e,o=n.innerOrder||s,h=[];return u.forEach(function(n){t[n].forEach(function(t){t.name in i&&null!=i[t.name]?h.push(r(n,t,i)):t.push in i&&null!=i[t.push]&&i[t.push].forEach(function(i){h.push(r(n,t,i))})})}),i.media.forEach(function(i){h.push(r("m",t.m[0],i)),o.forEach(function(n){t[n].forEach(function(t){t.name in i&&null!=i[t.name]?h.push(r(n,t,i)):t.push in i&&null!=i[t.push]&&i[t.push].forEach(function(i){h.push(r(n,t,i))})})})}),h.join("\r\n")+"\r\n"}}function ci(){if(Pt)return Rt;Pt=1;var t=function(){function t(t,i,n,r,e,s,u,o,h){this.foundation=t,this.componentId=i,this.transport=n,this.priority=r,this.address=e,this.port=s,this.type=u,this.relAddr=o,this.relPort=h}var i=t.prototype;return i.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},i.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},i.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},i.getFoundation=function(){return this.foundation},i.getComponentId=function(){return this.componentId},i.getTransport=function(){return this.transport},i.getPriority=function(){return this.priority},i.getAddress=function(){return this.address},i.getPort=function(){return this.port},i.getType=function(){return this.type},i.getRelAddr=function(){return this.relAddr},i.getRelPort=function(){return this.relPort},t}();return t.expand=function(i){return"CandidateInfo"===i.constructor.name?i:new t(i.foundation,i.componentId,i.transport,i.priority,i.address,i.port,i.type,i.relAddr,i.relPort)},t.clone=function(i){return"CandidateInfo"===i.constructor.name?i.clone():t.expand(i)},Rt=t}function fi(){if(xt)return Dt;xt=1;var t=function(){function t(t,i){this.id=t,this.params=i||[]}var i=t.prototype;return i.clone=function(){return new t(this.id,this.params)},i.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},i.getId=function(){return this.id},i.getParams=function(){return this.params},t}();return t.expand=function(i){return"RTCPFeedbackInfo"===i.constructor.name?i:new t(i.id,i.params)},t.clone=function(i){return"RTCPFeedbackInfo"===i.constructor.name?i.clone():t.expand(i)},Dt=t}function vi(){if(Ot)return Bt;Ot=1;var t=fi(),i=function(){function t(t,i,n){this.codec=t,this.type=i,this.params={},this.rtcpfbs=new Set,n&&this.addParams(n)}var i=t.prototype;return i.clone=function(){var i=new t(this.codec,this.type,this.params);this.hasRTX()&&i.setRTX(this.getRTX());for(var n,r=Lt(this.rtcpfbs);!(n=r()).done;){var e=n.value;i.addRTCPFeedback(e.clone())}return this.hasChannels()&&i.setChannels(this.getChannels()),i},i.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),k.keys(this.params).length&&(t.params=this.params);for(var i,n=Lt(this.rtcpfbs);!(i=n()).done;){var r=i.value;t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},i.setRTX=function(t){this.rtx=t},i.getType=function(){return this.type},i.setType=function(t){this.type=t},i.getCodec=function(){return this.codec},i.getParams=function(){return this.params},i.addParams=function(t){for(var i in t)this.params[i]=t[i]},i.addParam=function(t,i){this.params[t]=i},i.hasParam=function(t){return k.hasOwnProperty.call(this.params,t)},i.getParam=function(t,i){if(void 0===i&&(i=void 0),this.hasParam(t))return this.params[t];if(void 0===i)throw new y("param ".concat(t," not found and no default value provided"));return""+i},i.hasRTX=function(){return this.rtx},i.getRTX=function(){return this.rtx},i.hasChannels=function(){return this.channels},i.getChannels=function(){return this.channels},i.setChannels=function(t){this.channels=t},i.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},i.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();return i.expand=function(n){if("CodecInfo"===n.constructor.name)return n;var r=new i(n.codec,n.type,n.params);n.rtx&&r.setRTX(n.rtx),n.channels&&r.setChannels(n.channels);for(var e,s=Lt(n.rtcpfbs||[]);!(e=s()).done;){var u=e.value,o=t.expand(u);r.addRTCPFeedback(o)}return r},i.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():i.expand(t)},i.MapFromNames=function(n,r,e){for(var s,u,o=new Map,h=96,a=Lt(n);!(u=a()).done;){var c=void 0,f=u.value.split(";"),v=f.shift().toLowerCase().trim();c="pcmu"===v?0:"pcma"===v?8:++h;var d=new i(v,c);"opus"===v?d.setChannels(2):"multiopus"===v&&d.setChannels(6),r&&"ulpfec"!==v&&"flexfec-03"!==v&&"red"!==v&&d.setRTX(++h);for(var l,w=Lt(e||[]);!(l=w()).done;){var g=l.value;d.addRTCPFeedback(new t(g.id,g.params))}for(var _,m=Lt(f);!(_=m()).done;){var y=_.value.split("=");d.addParam(y[0].trim(),null===(s=y[1])||void 0===s?void 0:s.trim())}o.set(c,d)}return o},Bt=i}function di(){return Ft||(Ft=1,Mt=function t(){var i=this;if(!V(this,t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach(function(t){i[t]=n("pv"+t)})}),Mt}function li(){if(Ht)return Ut;Ht=1;var t=di()("ACTIVE","PASSIVE","ACTPASS","INACTIVE");return t.byValue=function(i){switch(i){case t.ACTIVE:case t.PASSIVE:case t.ACTPASS:case t.INACTIVE:return i}return t[i.toUpperCase()]},t.toString=function(i){switch(i){case t.ACTIVE:return"active";case t.PASSIVE:return"passive";case t.ACTPASS:return"actpass";case t.INACTIVE:return"inactive"}},t.reverse=function(i,n){switch(i){case t.ACTIVE:return t.PASSIVE;case t.PASSIVE:return t.ACTIVE;case t.ACTPASS:return n?t.ACTIVE:t.PASSIVE;case t.INACTIVE:return t.INACTIVE}},Ut=t}function wi(){if(Xt)return Wt;Xt=1;var t=li(),i=function(){function i(t,i,n){this.setup=t,this.hash=i,this.fingerprint=n}var n=i.prototype;return n.clone=function(){return new i(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:t.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},i}();return i.expand=function(n){return"DTLSInfo"===n.constructor.name?n:new i(n.setup?t.byValue(n.setup):t.ACTPASS,n.hash,n.fingerprint)},i.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():i.expand(t)},Wt=i}function gi(){if(Gt)return qt;Gt=1;var t=function(){function t(t,i,n,r){this.tag=t,this.suite=i,this.keyParams=n,this.sessionParams=r}var i=t.prototype;return i.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},i.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},i.getSessionParams=function(){return this.sessionParams},i.getKeyParams=function(){return this.keyParams},i.getSuite=function(){return this.suite},i.getTag=function(){return this.tag},t}();return t.expand=function(i){return"CryptoInfo"===i.constructor.name?i:new t(i.tag,i.suite,i.keyParams,i.sessionParams)},t.clone=function(i){return"CryptoInfo"===i.constructor.name?i.clone():t.expand(i)},qt=t}var _i,mi,yi,pi,ki,bi,Ai,Ti,Si,Ei,Ii,Ri,Ci,Pi,Di,Ni,xi,Bi,Oi,Mi,Li,Fi,Ui,Vi,Hi,Wi,zi,Xi,qi,Gi,ji,Qi,Yi,Ki,Ji={exports:{}},Zi={exports:{}},$i={},tn={},nn={};function rn(){return yi||(yi=1,function(t){var r=function(){if(_i)return tn;_i=1,tn.byteLength=function(t){var i=s(t),n=i[0],r=i[1];return 3*(n+r)/4-r},tn.toByteArray=function(t){var r,e,u=s(t),o=u[0],h=u[1],a=new n(function(t,i,n){return 3*(i+n)/4-n}(0,o,h)),c=0,f=h>0?o-4:o;for(e=0;e<f;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[c++]=r>>16&255,a[c++]=r>>8&255,a[c++]=255&r;return 2===h&&(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[c++]=255&r),1===h&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[c++]=r>>8&255,a[c++]=255&r),a},tn.fromByteArray=function(i){for(var n,r=i.length,e=r%3,s=[],u=16383,h=0,a=r-e;h<a;h+=u)s.push(o(i,h,h+u>a?a:h+u));return 1===e?(n=i[r-1],s.push(t[n>>2]+t[n<<4&63]+"==")):2===e&&(n=(i[r-2]<<8)+i[r-1],s.push(t[n>>10]+t[n>>4&63]+t[n<<2&63]+"=")),s.join("")};for(var t=[],i=[],n=(void 0===E?"undefined":W(E))<"u"?E:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)t[e]=r[e],i[r.charCodeAt(e)]=e;function s(t){var i=t.length;if(i%4>0)throw new y("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=i),[n,n===i?0:4-n%4]}function u(i){return t[i>>18&63]+t[i>>12&63]+t[i>>6&63]+t[63&i]}function o(t,i,n){for(var r,e=[],s=i;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),e.push(u(r));return e.join("")}return i[45]=62,i[95]=63,tn}(),e=(mi||(mi=1,nn.read=function(t,i,n,r,e){var s,u,o=8*e-r-1,h=(1<<o)-1,a=h>>1,c=-7,f=n?e-1:0,v=n?-1:1,d=t[i+f];for(f+=v,s=d&(1<<-c)-1,d>>=-c,c+=o;c>0;s=256*s+t[i+f],f+=v,c-=8);for(u=s&(1<<-c)-1,s>>=-c,c+=r;c>0;u=256*u+t[i+f],f+=v,c-=8);if(0===s)s=1-a;else{if(s===h)return u?NaN:1/0*(d?-1:1);u+=b.pow(2,r),s-=a}return(d?-1:1)*u*b.pow(2,s-r)},nn.write=function(t,i,n,r,e,s){var u,o,h,a=8*s-e-1,c=(1<<a)-1,f=c>>1,v=23===e?b.pow(2,-24)-b.pow(2,-77):0,d=r?0:s-1,l=r?1:-1,w=i<0||0===i&&1/i<0?1:0;for(i=b.abs(i),S(i)||i===1/0?(o=S(i)?1:0,u=c):(u=b.floor(b.log(i)/b.LN2),i*(h=b.pow(2,-u))<1&&(u--,h*=2),(i+=u+f>=1?v/h:v*b.pow(2,1-f))*h>=2&&(u++,h/=2),u+f>=c?(o=0,u=c):u+f>=1?(o=(i*h-1)*b.pow(2,e),u+=f):(o=i*b.pow(2,f-1)*b.pow(2,e),u=0));e>=8;t[n+d]=255&o,d+=l,o/=256,e-=8);for(u=u<<e|o,a+=e;a>0;t[n+d]=255&u,d+=l,u/=256,a-=8);t[n+d-l]|=128*w}),nn),s="function"==typeof i&&"function"==typeof n?n("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},t.INSPECT_MAX_BYTES=50;var u=2147483647;function o(t){if(t>u)throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=new E(t);return k.setPrototypeOf(i,h.prototype),i}function h(t,i,n){if("number"==typeof t){if("string"==typeof i)throw new p('The "string" argument must be of type string. Received type number');return f(t)}return a(t,i,n)}function a(t,n,r){if("string"==typeof t)return function(t,i){if(("string"!=typeof i||""===i)&&(i="utf8"),!h.isEncoding(i))throw new p("Unknown encoding: "+i);var n=0|w(t,i),r=o(n),e=r.write(t,i);return e!==n&&(r=r.slice(0,e)),r}(t,n);if(ArrayBuffer.isView(t))return function(t){if(et(t,E)){var i=new E(t);return d(i.buffer,i.byteOffset,i.byteLength)}return v(t)}(t);if(null==t)throw new p("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)));if(et(t,ArrayBuffer)||t&&et(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":W(SharedArrayBuffer))<"u"&&(et(t,SharedArrayBuffer)||t&&et(t.buffer,SharedArrayBuffer)))return d(t,n,r);if("number"==typeof t)throw new p('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return h.from(e,n,r);var s=function(t){if(h.isBuffer(t)){var i=0|l(t.length),n=o(i);return 0===n.length||t.copy(n,0,0,i),n}return void 0!==t.length?"number"!=typeof t.length||st(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(s)return s;if((void 0===i?"undefined":W(i))<"u"&&null!=i.toPrimitive&&"function"==typeof t[i.toPrimitive])return h.from(t[i.toPrimitive]("string"),n,r);throw new p("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)))}function c(t){if("number"!=typeof t)throw new p('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),o(t<0?0:0|l(t))}function v(t){for(var i=t.length<0?0:0|l(t.length),n=o(i),r=0;r<i;r+=1)n[r]=255&t[r];return n}function d(t,i,n){if(i<0||t.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<i+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===i&&void 0===n?new E(t):void 0===n?new E(t,i):new E(t,i,n),k.setPrototypeOf(r,h.prototype),r}function l(t){if(t>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|t}function w(t,i){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||et(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new p('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":W(t)));var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var e=!1;;)switch(i){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return it(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return nt(t).length;default:if(e)return r?-1:it(t).length;i=(""+i).toLowerCase(),e=!0}}function g(t,i,n){var r=!1;if((void 0===i||i<0)&&(i=0),i>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(i>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,i,n);case"utf8":case"utf-8":return x(this,i,n);case"ascii":return O(this,i,n);case"latin1":case"binary":return M(this,i,n);case"base64":return N(this,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,i,n);default:if(r)throw new p("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function m(t,i,n,r,e){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),st(n=+n)&&(n=e?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(e)return-1;n=t.length-1}else if(n<0){if(!e)return-1;n=0}if("string"==typeof i&&(i=h.from(i,r)),h.isBuffer(i))return 0===i.length?-1:T(t,i,n,r,e);if("number"==typeof i)return i&=255,"function"==typeof E.prototype.indexOf?e?E.prototype.indexOf.call(t,i,n):E.prototype.lastIndexOf.call(t,i,n):T(t,[i],n,r,e);throw new p("val must be string, number or Buffer")}function T(t,i,n,r,e){var s,u=1,o=t.length,h=i.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||i.length<2)return-1;u=2,o/=2,h/=2,n/=2}function a(t,i){return 1===u?t[i]:t.readUInt16BE(i*u)}if(e){var c=-1;for(s=n;s<o;s++)if(a(t,s)===a(i,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===h)return c*u}else-1!==c&&(s-=s-c),c=-1}else for(n+h>o&&(n=o-h),s=n;s>=0;s--){for(var f=!0,v=0;v<h;v++)if(a(t,s+v)!==a(i,v)){f=!1;break}if(f)return s}return-1}function I(t,i,n,r){n=Number(n)||0;var e=t.length-n;r?(r=Number(r))>e&&(r=e):r=e;var s,u=i.length;for(r>u/2&&(r=u/2),s=0;s<r;++s){var o=A(i.substr(2*s,2),16);if(st(o))return s;t[n+s]=o}return s}function R(t,i,n,r){return rt(it(i,t.length-n),t,n,r)}function C(t,i,n,r){return rt(function(t){for(var i=[],n=0;n<t.length;++n)i.push(255&t.charCodeAt(n));return i}(i),t,n,r)}function P(t,i,n,r){return rt(nt(i),t,n,r)}function D(t,i,n,r){return rt(function(t,i){for(var n,r,e,s=[],u=0;u<t.length&&!((i-=2)<0);++u)n=t.charCodeAt(u),r=n>>8,e=n%256,s.push(e),s.push(r);return s}(i,t.length-n),t,n,r)}function N(t,i,n){return 0===i&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(i,n))}function x(t,i,n){n=b.min(t.length,n);for(var r=[],e=i;e<n;){var s=t[e],u=null,o=s>239?4:s>223?3:s>191?2:1;if(e+o<=n){var h=void 0,a=void 0,c=void 0,f=void 0;switch(o){case 1:s<128&&(u=s);break;case 2:128==(192&(h=t[e+1]))&&(f=(31&s)<<6|63&h)>127&&(u=f);break;case 3:h=t[e+1],a=t[e+2],128==(192&h)&&128==(192&a)&&(f=(15&s)<<12|(63&h)<<6|63&a)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:h=t[e+1],a=t[e+2],c=t[e+3],128==(192&h)&&128==(192&a)&&128==(192&c)&&(f=(15&s)<<18|(63&h)<<12|(63&a)<<6|63&c)>65535&&f<1114112&&(u=f)}}null===u?(u=65533,o=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),e+=o}return function(t){var i=t.length;if(i<=B)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<i;)n+=String.fromCharCode.apply(String,t.slice(r,r+=B));return n}(r)}t.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=function(){try{var t=new E(1),i={foo:function(){return 42}};return k.setPrototypeOf(i,E.prototype),k.setPrototypeOf(t,i),42===t.foo()}catch(t){return!1}}(),!h.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":W(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),k.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),k.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,i,n){return a(t,i,n)},k.setPrototypeOf(h.prototype,E.prototype),k.setPrototypeOf(h,E),h.alloc=function(t,i,n){return function(t,i,n){return c(t),t<=0?o(t):void 0!==i?"string"==typeof n?o(t).fill(i,n):o(t).fill(i):o(t)}(t,i,n)},h.allocUnsafe=function(t){return f(t)},h.allocUnsafeSlow=function(t){return f(t)},h.isBuffer=function(t){return null!=t&&!0===t.mv&&t!==h.prototype},h.compare=function(t,i){if(et(t,E)&&(t=h.from(t,t.offset,t.byteLength)),et(i,E)&&(i=h.from(i,i.offset,i.byteLength)),!h.isBuffer(t)||!h.isBuffer(i))throw new p('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;for(var n=t.length,r=i.length,e=0,s=b.min(n,r);e<s;++e)if(t[e]!==i[e]){n=t[e],r=i[e];break}return n<r?-1:r<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,i){if(!Array.isArray(t))throw new p('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var n;if(void 0===i)for(i=0,n=0;n<t.length;++n)i+=t[n].length;var r=h.allocUnsafe(i),e=0;for(n=0;n<t.length;++n){var s=t[n];if(et(s,E))e+s.length>r.length?(h.isBuffer(s)||(s=h.from(s)),s.copy(r,e)):E.prototype.set.call(r,s,e);else{if(!h.isBuffer(s))throw new p('"list" argument must be an Array of Buffers');s.copy(r,e)}e+=s.length}return r},h.byteLength=w,h.prototype.mv=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)_(this,i,i+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)_(this,i,i+3),_(this,i+1,i+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)_(this,i,i+7),_(this,i+1,i+6),_(this,i+2,i+5),_(this,i+3,i+4);return this},h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):g.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new p("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var i="",n=t.INSPECT_MAX_BYTES;return i=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(i+=" ... "),"<Buffer "+i+">"},s&&(h.prototype[s]=h.prototype.inspect),h.prototype.compare=function(t,i,n,r,e){if(et(t,E)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new p('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":W(t)));if(void 0===i&&(i=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),i<0||n>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&i>=n)return 0;if(r>=e)return-1;if(i>=n)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),u=(n>>>=0)-(i>>>=0),o=b.min(s,u),a=this.slice(r,e),c=t.slice(i,n),f=0;f<o;++f)if(a[f]!==c[f]){s=a[f],u=c[f];break}return s<u?-1:u<s?1:0},h.prototype.includes=function(t,i,n){return-1!==this.indexOf(t,i,n)},h.prototype.indexOf=function(t,i,n){return m(this,t,i,n,!0)},h.prototype.lastIndexOf=function(t,i,n){return m(this,t,i,n,!1)},h.prototype.write=function(t,i,n,r){if(void 0===i)r="utf8",n=this.length,i=0;else if(void 0===n&&"string"==typeof i)r=i,n=this.length,i=0;else{if(!isFinite(i))throw new y("Buffer.write(string, encoding, offset[, length]) is no longer supported");i>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var e=this.length-i;if((void 0===n||n>e)&&(n=e),t.length>0&&(n<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return I(this,t,i,n);case"utf8":case"utf-8":return R(this,t,i,n);case"ascii":case"latin1":case"binary":return C(this,t,i,n);case"base64":return P(this,t,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,i,n);default:if(s)throw new p("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.yv||this,0)}};var B=4096;function O(t,i,n){var r="";n=b.min(t.length,n);for(var e=i;e<n;++e)r+=String.fromCharCode(127&t[e]);return r}function M(t,i,n){var r="";n=b.min(t.length,n);for(var e=i;e<n;++e)r+=String.fromCharCode(t[e]);return r}function L(t,i,n){var r=t.length;(!i||i<0)&&(i=0),(!n||n<0||n>r)&&(n=r);for(var e="",s=i;s<n;++s)e+=ut[t[s]];return e}function F(t,i,n){for(var r=t.slice(i,n),e="",s=0;s<r.length-1;s+=2)e+=String.fromCharCode(r[s]+256*r[s+1]);return e}function U(t,i,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+i>n)throw new RangeError("Trying to access beyond buffer length")}function H(t,i,n,r,e,s){if(!h.isBuffer(t))throw new p('"buffer" argument must be a Buffer instance');if(i>e||i<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function z(t,i,n,r,e){J(i,r,e,t,n,7);var s=Number(i&BigInt(4294967295));t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s;var u=Number(i>>BigInt(32)&BigInt(4294967295));return t[n++]=u,u>>=8,t[n++]=u,u>>=8,t[n++]=u,u>>=8,t[n++]=u,n}function X(t,i,n,r,e){J(i,r,e,t,n,7);var s=Number(i&BigInt(4294967295));t[n+7]=s,s>>=8,t[n+6]=s,s>>=8,t[n+5]=s,s>>=8,t[n+4]=s;var u=Number(i>>BigInt(32)&BigInt(4294967295));return t[n+3]=u,u>>=8,t[n+2]=u,u>>=8,t[n+1]=u,u>>=8,t[n]=u,n+8}function q(t,i,n,r,e,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,i,n,r,s){return i=+i,n>>>=0,s||q(t,0,n,4),e.write(t,i,n,r,23,4),n+4}function j(t,i,n,r,s){return i=+i,n>>>=0,s||q(t,0,n,8),e.write(t,i,n,r,52,8),n+8}h.prototype.slice=function(t,i){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(i=void 0===i?n:~~i)<0?(i+=n)<0&&(i=0):i>n&&(i=n),i<t&&(i=t);var r=this.subarray(t,i);return k.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,i,n){t>>>=0,i>>>=0,n||U(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,i,n){t>>>=0,i>>>=0,n||U(t,i,this.length);for(var r=this[t+--i],e=1;i>0&&(e*=256);)r+=this[t+--i]*e;return r},h.prototype.readUint8=h.prototype.readUInt8=function(t,i){return t>>>=0,i||U(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,i){return t>>>=0,i||U(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,i){return t>>>=0,i||U(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,i){return t>>>=0,i||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,i){return t>>>=0,i||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=ot(function(t){Z(t>>>=0,"offset");var i=this[t],n=this[t+7];(void 0===i||void 0===n)&&$(t,this.length-8);var r=i+this[++t]*b.pow(2,8)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,24),e=this[++t]+this[++t]*b.pow(2,8)+this[++t]*b.pow(2,16)+n*b.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))}),h.prototype.readBigUInt64BE=ot(function(t){Z(t>>>=0,"offset");var i=this[t],n=this[t+7];(void 0===i||void 0===n)&&$(t,this.length-8);var r=i*b.pow(2,24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+this[++t],e=this[++t]*b.pow(2,24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(e)}),h.prototype.readIntLE=function(t,i,n){t>>>=0,i>>>=0,n||U(t,i,this.length);for(var r=this[t],e=1,s=0;++s<i&&(e*=256);)r+=this[t+s]*e;return r>=(e*=128)&&(r-=b.pow(2,8*i)),r},h.prototype.readIntBE=function(t,i,n){t>>>=0,i>>>=0,n||U(t,i,this.length);for(var r=i,e=1,s=this[t+--r];r>0&&(e*=256);)s+=this[t+--r]*e;return s>=(e*=128)&&(s-=b.pow(2,8*i)),s},h.prototype.readInt8=function(t,i){return t>>>=0,i||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,i){t>>>=0,i||U(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,i){t>>>=0,i||U(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,i){return t>>>=0,i||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,i){return t>>>=0,i||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=ot(function(t){Z(t>>>=0,"offset");var i=this[t],n=this[t+7];(void 0===i||void 0===n)&&$(t,this.length-8);var r=this[t+4]+this[t+5]*b.pow(2,8)+this[t+6]*b.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(i+this[++t]*b.pow(2,8)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,24))}),h.prototype.readBigInt64BE=ot(function(t){Z(t>>>=0,"offset");var i=this[t],n=this[t+7];(void 0===i||void 0===n)&&$(t,this.length-8);var r=(i<<24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*b.pow(2,24)+this[++t]*b.pow(2,16)+this[++t]*b.pow(2,8)+n)}),h.prototype.readFloatLE=function(t,i){return t>>>=0,i||U(t,4,this.length),e.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,i){return t>>>=0,i||U(t,4,this.length),e.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,i){return t>>>=0,i||U(t,8,this.length),e.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,i){return t>>>=0,i||U(t,8,this.length),e.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,i,n,r){t=+t,i>>>=0,n>>>=0,r||H(this,t,i,n,b.pow(2,8*n)-1,0);var e=1,s=0;for(this[i]=255&t;++s<n&&(e*=256);)this[i+s]=t/e&255;return i+n},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,i,n,r){t=+t,i>>>=0,n>>>=0,r||H(this,t,i,n,b.pow(2,8*n)-1,0);var e=n-1,s=1;for(this[i+e]=255&t;--e>=0&&(s*=256);)this[i+e]=t/s&255;return i+n},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,1,255,0),this[i]=255&t,i+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,2,65535,0),this[i]=255&t,this[i+1]=t>>>8,i+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=255&t,i+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=255&t,i+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t,i+4},h.prototype.writeBigUInt64LE=ot(function(t,i){return void 0===i&&(i=0),z(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=ot(function(t,i){return void 0===i&&(i=0),X(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(t,i,n,r){if(t=+t,i>>>=0,!r){var e=b.pow(2,8*n-1);H(this,t,i,n,e-1,-e)}var s=0,u=1,o=0;for(this[i]=255&t;++s<n&&(u*=256);)t<0&&0===o&&0!==this[i+s-1]&&(o=1),this[i+s]=(t/u|0)-o&255;return i+n},h.prototype.writeIntBE=function(t,i,n,r){if(t=+t,i>>>=0,!r){var e=b.pow(2,8*n-1);H(this,t,i,n,e-1,-e)}var s=n-1,u=1,o=0;for(this[i+s]=255&t;--s>=0&&(u*=256);)t<0&&0===o&&0!==this[i+s+1]&&(o=1),this[i+s]=(t/u|0)-o&255;return i+n},h.prototype.writeInt8=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=255&t,i+1},h.prototype.writeInt16LE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,2,32767,-32768),this[i]=255&t,this[i+1]=t>>>8,i+2},h.prototype.writeInt16BE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=255&t,i+2},h.prototype.writeInt32LE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,4,2147483647,-2147483648),this[i]=255&t,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},h.prototype.writeInt32BE=function(t,i,n){return t=+t,i>>>=0,n||H(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t,i+4},h.prototype.writeBigInt64LE=ot(function(t,i){return void 0===i&&(i=0),z(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=ot(function(t,i){return void 0===i&&(i=0),X(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(t,i,n){return G(this,t,i,!0,n)},h.prototype.writeFloatBE=function(t,i,n){return G(this,t,i,!1,n)},h.prototype.writeDoubleLE=function(t,i,n){return j(this,t,i,!0,n)},h.prototype.writeDoubleBE=function(t,i,n){return j(this,t,i,!1,n)},h.prototype.copy=function(t,i,n,r){if(!h.isBuffer(t))throw new p("argument should be a Buffer");if(n||(n=0),!r&&0!==r&&(r=this.length),i>=t.length&&(i=t.length),i||(i=0),r>0&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-i<r-n&&(r=t.length-i+n);var e=r-n;return this===t&&"function"==typeof E.prototype.copyWithin?this.copyWithin(i,n,r):E.prototype.set.call(t,this.subarray(n,r),i),e},h.prototype.fill=function(t,i,n,r){if("string"==typeof t){if("string"==typeof i?(r=i,i=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new p("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new p("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(i<0||this.length<i||this.length<n)throw new RangeError("Out of range index");if(n<=i)return this;var s;if(i>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=i;s<n;++s)this[s]=t;else{var u=h.isBuffer(t)?t:h.from(t,r),o=u.length;if(0===o)throw new p('The value "'+t+'" is invalid for argument "value"');for(s=0;s<n-i;++s)this[s+i]=u[s%o]}return this};var Q={};function Y(t,i,n){Q[t]=function(n){function r(){var r;return r=n.call(this)||this,k.defineProperty(r,"message",{value:i.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return Ct(r,n),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},Nt(r,[{key:"code",get:function(){return t},set:function(t){k.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(n)}function K(t){for(var i="",n=t.length,r="-"===t[0]?1:0;n>=r+4;n-=3)i="_".concat(t.slice(n-3,n)).concat(i);return"".concat(t.slice(0,n)).concat(i)}function J(t,i,n,r,e,s){if(t>n||t<i){var u,o="bigint"==(void 0===i?"undefined":W(i))?"n":"";throw u=0===i||i===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(s+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(s+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(s+1)-1).concat(o),new Q.ERR_OUT_OF_RANGE("value",u,t)}!function(t,i,n){Z(i,"offset"),(void 0===t[i]||void 0===t[i+n])&&$(i,t.length-(n+1))}(r,e,s)}function Z(t,i){if("number"!=typeof t)throw new Q.ERR_INVALID_ARG_TYPE(i,"number",t)}function $(t,i,n){throw b.floor(t)!==t?(Z(t,n),new Q.ERR_OUT_OF_RANGE("offset","an integer",t)):i<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(i),t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(t,i){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===i?"undefined":W(i))},p),Y("ERR_OUT_OF_RANGE",function(t,i,n){var r='The value of "'.concat(t,'" is out of range.'),e=n;return Number.isInteger(n)&&b.abs(n)>b.pow(2,32)?e=K(String(n)):"bigint"==(void 0===n?"undefined":W(n))&&(e=String(n),(n>b.pow(BigInt(2),BigInt(32))||n<-b.pow(BigInt(2),BigInt(32)))&&(e=K(e)),e+="n"),r+=" It must be ".concat(i,". Received ").concat(e)},RangeError);var tt=/[^+/0-9A-Za-z-_]/g;function it(t,i){var n;i=i||1/0;for(var r=t.length,e=null,s=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!e){if(n>56319){(i-=3)>-1&&s.push(239,191,189);continue}if(u+1===r){(i-=3)>-1&&s.push(239,191,189);continue}e=n;continue}if(n<56320){(i-=3)>-1&&s.push(239,191,189),e=n;continue}n=65536+(e-55296<<10|n-56320)}else e&&(i-=3)>-1&&s.push(239,191,189);if(e=null,n<128){if((i-=1)<0)break;s.push(n)}else if(n<2048){if((i-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((i-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new y("Invalid code point");if((i-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function nt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(tt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function rt(t,i,n,r){var e;for(e=0;e<r&&!(e+n>=i.length||e>=t.length);++e)i[e+n]=t[e];return e}function et(t,i){return V(t,i)||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===i.name}function st(t){return t!=t}var ut=function(){for(var t="0123456789abcdef",i=new Array(256),n=0;n<16;++n)for(var r=16*n,e=0;e<16;++e)i[r+e]=t[n]+t[e];return i}();function ot(t){return("undefined"==typeof BigInt?"undefined":W(BigInt))>"u"?ht:t}function ht(){throw new y("BigInt not supported")}}($i)),$i}function en(){if(ki)return Ji.exports;ki=1;var t=65536,i=(pi||(pi=1,function(t,i){var n=rn(),r=n.Buffer;function e(t,i){for(var n in t)i[n]=t[n]}function s(t,i,n){return r(t,i,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(e(n,i),i.Buffer=s),s.prototype=k.create(r.prototype),e(r,s),s.from=function(t,i,n){if("number"==typeof t)throw new p("Argument must not be a number");return r(t,i,n)},s.alloc=function(t,i,n){if("number"!=typeof t)throw new p("Argument must be a number");var e=r(t);return void 0!==i?"string"==typeof n?e.fill(i,n):e.fill(i):e.fill(0),e},s.allocUnsafe=function(t){if("number"!=typeof t)throw new p("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new p("Argument must be a number");return n.SlowBuffer(t)}}(Zi,Zi.exports)),Zi.exports).Buffer,n=R.crypto||R.msCrypto;return n&&n.getRandomValues?Ji.exports=function(r,e){if(r>4294967295)throw new RangeError("requested too many random bytes");var s=i.allocUnsafe(r);if(r>0)if(r>t)for(var u=0;u<r;u+=t)n.getRandomValues(s.slice(u,u+t));else n.getRandomValues(s);return"function"==typeof e?process.nextTick(function(){e(null,s)}):s}:Ji.exports=function(){throw new y("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},Ji.exports}function sn(){if(Ai)return bi;Ai=1;var t=en(),i=function(){function t(t,i){this.ufrag=t,this.pwd=i,this.lite=!1,this.endOfCandidates=!1}var i=t.prototype;return i.clone=function(){var i=new t(this.ufrag,this.pwd);return i.setLite(this.lite),i.setEndOfCandidates(this.endOfCandidates),i},i.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},i.getUfrag=function(){return this.ufrag},i.getPwd=function(){return this.pwd},i.isLite=function(){return this.lite},i.setLite=function(t){this.lite=t},i.isEndOfCandidates=function(){return this.endOfCandidates},i.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();return i.generate=function(n){var r=new i,e=t(8),s=t(24);return r.ufrag=e.toString("hex"),r.pwd=s.toString("hex"),r.lite=n,r},i.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new i(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},i.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():i.expand(t)},bi=i}function un(){if(Si)return Ti;Si=1;var t=di()("SEND","RECV");return t.byValue=function(i){return t[i.toUpperCase()]},t.toString=function(i){switch(i){case t.SEND:return"send";case t.RECV:return"recv"}},t.reverse=function(i){switch(i){case t.SEND:return t.RECV;case t.RECV:return t.SEND}},Ti=t}function on(){if(Ii)return Ei;Ii=1;var t=un(),i=function(){function i(t,i){this.id=t,this.direction=i,this.formats=[],this.params=new Map}var n=i.prototype;return n.clone=function(){var t=new i(this.id,this.direction);return t.setFormats(this.formats),t.setParams(this.params),t},n.plain=function(){var i={id:this.id,direction:t.toString(this.direction)};this.formats&&(i.formats=this.formats);for(var n,r=Lt(this.params.entries());!(n=r()).done;){var e=n.value,s=e[0],u=e[1];i.params||(i.params={}),i.params[s]=u}return i},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var i=0;i<t.length;++i)this.formats.push(A(t[i]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,i){this.params.set(t,i)},i}();return i.expand=function(n){if("RIDInfo"===n.constructor.name)return n;for(var r,e=new i(n.id,t.byValue(n.direction)),s=Lt(k.entries(n.params||{}));!(r=s()).done;){var u=r.value,o=u[0],h=u[1];e.addParam(o,h)}return n.formats&&e.setFormats(n.formats),e},i.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():i.expand(t)},Ei=i}function hn(){if(Ci)return Ri;Ci=1;var t=function(){function t(t,i){this.paused=i,this.id=t}var i=t.prototype;return i.clone=function(){return new t(this.id,this.paused)},i.plain=function(){return{id:this.id,paused:this.paused}},i.isPaused=function(){return this.paused},i.getId=function(){return this.id},t}();return t.expand=function(i){return"SimulcastStreamInfo"===i.constructor.name?i:new t(i.id,i.paused)},t.clone=function(i){return"SimulcastStreamInfo"===i.constructor.name?i.clone():t.expand(i)},Ri=t}function an(){if(Di)return Pi;Di=1;var t=hn(),i=un(),n=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n,r=new t,e=Lt(this.send);!(n=e()).done;){var s=n.value;r.addSimulcastAlternativeStreams(i.SEND,s.map(function(t){return t.clone()}))}for(var u,o=Lt(this.recv);!(u=o()).done;){var h=u.value;r.addSimulcastAlternativeStreams(i.RECV,h.map(function(t){return t.clone()}))}return r},n.plain=function(){for(var t,i={send:[],recv:[]},n=Lt(this.send);!(t=n()).done;){var r=t.value;i.send.push(r.map(function(t){return t.plain()}))}for(var e,s=Lt(this.recv);!(e=s()).done;){var u=e.value;i.recv.push(u.map(function(t){return t.plain()}))}return i},n.addSimulcastAlternativeStreams=function(t,n){return t===i.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===i.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===i.SEND?this.send:this.recv},t}();return n.expand=function(r){if("SimulcastInfo"===r.constructor.name)return r;for(var e,s=new n,u=Lt(r.send||[]);!(e=u()).done;){var o=e.value;s.addSimulcastAlternativeStreams(i.SEND,o.map(t.expand))}for(var h,a=Lt(r.recv||[]);!(h=a()).done;){var c=h.value;s.addSimulcastAlternativeStreams(i.RECV,c.map(t.expand))}return s},n.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():n.expand(t)},Pi=n}function cn(){if(xi)return Ni;xi=1;var t=di()("SENDRECV","SENDONLY","RECVONLY","INACTIVE");return t.byValue=function(i){return t[i.toUpperCase()]},t.toString=function(i){switch(i){case t.SENDRECV:return"sendrecv";case t.SENDONLY:return"sendonly";case t.RECVONLY:return"recvonly";case t.INACTIVE:return"inactive"}},t.reverse=function(i){switch(i){case t.SENDRECV:return t.SENDRECV;case t.SENDONLY:return t.RECVONLY;case t.RECVONLY:return t.SENDONLY;case t.INACTIVE:return t.INACTIVE}},Ni=t}function fn(){if(Oi)return Bi;Oi=1;var t=function(){function t(t,i){this.port=t,this.maxMessageSize=i}var i=t.prototype;return i.clone=function(){return new t(this.port,this.maxMessageSize)},i.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},i.getPort=function(){return this.port},i.getMaxMessageSize=function(){return this.maxMessageSize},t}();return t.expand=function(i){return"DataChannelInfo"===i.constructor.name?i:new t(i.port,i.maxMessageSize)},t.clone=function(i){return"DataChannelInfo"===i.constructor.name?i.clone():t.expand(i)},Bi=t}function vn(){if(Li)return Mi;Li=1;var t=vi(),i=on(),n=an(),r=cn(),e=un();fi();var s=fn(),u=function(){function i(t,i){this.id=t,this.type=i,this.direction=r.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var u=i.prototype;return u.clone=function(){var t=new i(this.id,this.type);t.setDirection(this.direction),t.setBitrate(this.bitrate);for(var n,r=Lt(this.codecs.values());!(n=r()).done;){var e=n.value;t.addCodec(e.clone())}for(var s,u=Lt(this.extensions.entries());!(s=u()).done;){var o=s.value,h=o[0],a=o[1];t.addExtension(h,a)}for(var c,f=Lt(this.rids.values());!(c=f()).done;){var v=c.value;t.addRID(v.clone())}return this.simulcast&&t.setSimulcast(this.simulcast.clone()),this.control&&t.setControl(this.control),this.dataChannel&&t.setDataChannel(this.dataChannel.clone()),t},u.plain=function(){var t={id:this.id,type:this.type,direction:r.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var i,n=Lt(this.codecs.values());!(i=n()).done;){var e=i.value;t.codecs.push(e.plain())}for(var s,u=Lt(this.extensions.entries());!(s=u()).done;){var o=s.value,h=o[0],a=o[1];t.extensions||(t.extensions={}),t.extensions[h]=a}for(var c,f=Lt(this.rids.values());!(c=f()).done;){var v=c.value;t.rids||(t.rids=[]),t.rids.push(v.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},u.getType=function(){return this.type},u.getId=function(){return this.id},u.setId=function(t){this.id=t},u.addExtension=function(t,i){this.extensions.set(t,i)},u.addRID=function(t){this.rids.set(t.getId(),t)},u.addCodec=function(t){this.codecs.set(t.getType(),t)},u.setCodecs=function(t){this.codecs=t},u.getCodecForType=function(t){return this.codecs.get(t)},u.getCodec=function(t){for(var i,n=Lt(this.codecs.values());!(i=n()).done;){var r=i.value;if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},u.hasCodec=function(t){return null!==this.getCodec(t)},u.getCodecs=function(){return this.codecs},u.hasRTX=function(){for(var t,i=Lt(this.codecs.values());!(t=i()).done;)if(t.value.hasRTX())return!0;return!1},u.getExtensions=function(){return this.extensions},u.getRIDs=function(){return this.rids},u.getRID=function(t){return this.rids.get(t)},u.getBitrate=function(){return this.bitrate},u.setBitrate=function(t){this.bitrate=t},u.getDirection=function(){return this.direction},u.setDirection=function(t){this.direction=t},u.hasControl=function(){return!!this.control},u.getControl=function(){return this.control},u.setControl=function(t){this.control=t},u.hasDataChannel=function(){return!!this.dataChannel},u.getDataChannel=function(){return this.dataChannel},u.setDataChannel=function(t){this.dataChannel=t},u.answer=function(u){var o=new i(this.id,this.type);if(u){o.setDirection(r.reverse(this.direction));var h=u.codecs,a=u.dataChannel;if(h){var c;c=Array.isArray(h)?t.MapFromNames(h,u.rtx,u.rtcpfbs):h;for(var f,v=Lt(this.codecs.values());!(f=v()).done;)for(var d,l=f.value,w=Lt(c.values());!(d=w()).done;){var g=d.value;if(!(g.getCodec().toLowerCase()!==l.getCodec().toLowerCase()||"h264"===g.getCodec()&&g.hasParam("packetization-mode")&&g.getParam("packetization-mode")!=l.getParam("packetization-mode","0")||"h264"===g.getCodec()&&g.hasParam("profile-level-id")&&l.hasParam("profile-level-id")&&g.getParam("profile-level-id")!=l.getParam("profile-level-id")||"multiopus"===g.getCodec()&&g.hasParam("num_streams")&&l.hasParam("num_streams")&&g.getParam("num_streams")!=l.getParam("num_streams"))){var _=g.clone();_.setType(l.getType()),_.hasRTX()&&_.setRTX(l.getRTX()),l.hasChannels()&&_.setChannels(l.getChannels()),_.addParams(l.getParams()),o.addCodec(_);break}}}for(var m,y=new Set(u.extensions),p=Lt(this.extensions);!(m=p()).done;){var k=m.value,b=k[0],A=k[1];y.has(A)&&o.addExtension(b,A)}if(u.simulcast&&this.simulcast){var T=new n,S=this.simulcast.getSimulcastStreams(e.SEND);if(S)for(var E,I=Lt(S);!(E=I()).done;){var R=E.value.map(function(t){return t.clone()});T.addSimulcastAlternativeStreams(e.RECV,R)}var C=this.simulcast.getSimulcastStreams(e.RECV);if(C)for(var P,D=Lt(C);!(P=D()).done;){var N=P.value.map(function(t){return t.clone()});T.addSimulcastAlternativeStreams(e.SEND,N)}for(var x,B=Lt(this.rids.values());!(x=B()).done;){var O=x.value,M=O.clone();M.setDirection(e.reverse(O.getDirection())),o.addRID(M)}o.setSimulcast(T)}if(a&&this.dataChannel){var L=new s(this.dataChannel.getPort(),a.maxMessageSize?a.maxMessageSize:this.dataChannel.getMaxMessageSize());o.setDataChannel(L)}}else o.setDirection(r.INACTIVE);return o},u.getSimulcast=function(){return this.simulcast},u.setSimulcast=function(t){this.simulcast=t},i}();function o(t){var i=t.toString();if(!/^\d+$/.test(i))throw new y("invalid integer ".concat(i));return A(i)}return u.create=function(i,n,e){!e&&"string"!=typeof n&&(e=n,n=i);var s=new u(i,n);if(e){var o=e.codecs;o&&(Array.isArray(o)?s.setCodecs(t.MapFromNames(o,e.rtx,e.rtcpfbs)):s.setCodecs(o))}else s.setDirection(r.INACTIVE);return s},u.expand=function(e){if("MediaInfo"===e.constructor.name)return e;var h=new u(e.id,e.type);if(e.direction&&h.setDirection(r.byValue(e.direction)),h.setBitrate(e.bitrate),e.dataChannel){var a=s.expand(e.dataChannel);a&&h.setDataChannel(a)}for(var c,f=Lt(k.entries(e.extensions));!(c=f()).done;){var v=c.value,d=v[0],l=v[1];h.addExtension(o(d),l)}for(var w,g=Lt(e.codecs);!(w=g()).done;){var _=w.value,m=t.expand(_);m&&h.addCodec(m)}for(var y,p=Lt(e.rids||[]);!(y=p()).done;){var b=y.value,A=i.expand(b);h.addRID(A)}return e.simulcast&&h.setSimulcast(n.expand(e.simulcast)),e.control&&h.setControl(e.control),h},u.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():u.expand(t)},Mi=u}function dn(){if(Ui)return Fi;Ui=1;var t=function(){function t(t,i){this.semantics=t,this.ssrcs=[];for(var n=0;n<i.length;++n)this.ssrcs.push(A(i[n]))}var i=t.prototype;return i.clone=function(){return new t(this.semantics,this.ssrcs)},i.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},i=0;i<this.ssrcs.length;++i)t.ssrcs.push(this.ssrcs[i]);return t},i.getSemantics=function(){return this.semantics},i.getSSRCs=function(){return this.ssrcs},t}();return t.expand=function(i){return"SourceGroupInfo"===i.constructor.name?i:new t(i.semantics,i.ssrcs)},t.clone=function(i){return"SourceGroupInfo"===i.constructor.name?i.clone():t.expand(i)},Fi=t}function ln(){if(Hi)return Vi;Hi=1;var t=function(){function t(t){this.ssrc=t}var i=t.prototype;return i.clone=function(){var i=new t(this.ssrc);return i.setCName(this.cname),i.setStreamId(this.streamId),i.setTrackId(this.trackId),i},i.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},i.getCName=function(){return this.cname},i.setCName=function(t){this.cname=t},i.getStreamId=function(){return this.streamId},i.setStreamId=function(t){this.streamId=t},i.getTrackId=function(){return this.trackId},i.setTrackId=function(t){this.trackId=t},i.getSSRC=function(){return this.ssrc},t}();return t.expand=function(i){if("SourceInfo"===i.constructor.name)return i;var n=new t(i.ssrc);return n.setCName(i.cname),n.setStreamId(i.streamId),n.setTrackId(i.trackId),n},t.clone=function(i){return"SourceInfo"===i.constructor.name?i.clone():t.expand(i)},Vi=t}function wn(){if(zi)return Wi;zi=1;var t=vi(),i=function(){function t(t,i){void 0===i&&(i=!1),this.id=t,this.paused=i,this.codecs=new Map,this.params=new Map}var i=t.prototype;return i.clone=function(){for(var i,n=new t(this.id,this.paused),r=Lt(this.codecs.values());!(i=r()).done;){var e=i.value;n.addCodec(e.clone())}return n.setParams(this.params),n},i.plain=function(){for(var t,i={id:this.id,paused:this.paused,codecs:{},params:{}},n=Lt(this.codecs.entries());!(t=n()).done;){var r=t.value,e=r[0],s=r[1];i.codecs[e]=s.plain()}for(var u,o=Lt(this.params.entries());!(u=o()).done;){var h=u.value,a=(e=h[0],h[1]);i.params[e]=a}return i},i.getId=function(){return this.id},i.getCodecs=function(){return this.codecs},i.addCodec=function(t){this.codecs.set(t.getType(),t)},i.getParams=function(){return this.params},i.setParams=function(t){this.params=new Map(t)},i.addParam=function(t,i){this.params.set(t,i)},i.isPaused=function(){return this.paused},t}();return i.expand=function(n){if("TrackEncodingInfo"===n.constructor.name)return n;for(var r,e=new i(n.id,n.paused),s=Lt(k.values(n.codecs||{}));!(r=s()).done;){var u=r.value;e.addCodec(t.expand(u))}for(var o,h=Lt(k.entries(n.params||{}));!(o=h()).done;){var a=o.value,c=a[0],f=a[1];e.addParam(c,f)}return e},i.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():i.expand(t)},Wi=i}function gn(){if(qi)return Xi;qi=1;var t=dn(),i=wn(),n=function(){function t(t,i){this.media=t,this.id=i,this.ssrcs=[],this.groups=[],this.encodings=[]}var i=t.prototype;return i.clone=function(){var i=new t(this.media,this.id);this.mediaId&&i.setMediaId(this.mediaId);for(var n=0;n<this.ssrcs.length;++n)i.addSSRC(this.ssrcs[n]);for(var r=0;r<this.groups.length;++r)i.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var s=[],u=0;u<this.encodings[e].length;++u)s.push(this.encodings[e][u].clone());i.addAlternativeEncodings(s)}return i},i.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var i=0;i<this.ssrcs.length;++i)t.ssrcs.push(this.ssrcs[i]);for(var n=0;n<this.groups.length;++n)t.groups||(t.groups=[]),t.groups.push(this.groups[n].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],s=0;s<this.encodings[r].length;++s)e.push(this.encodings[r][s].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},i.getMedia=function(){return this.media},i.setMediaId=function(t){this.mediaId=t},i.getMediaId=function(){return this.mediaId},i.getId=function(){return this.id},i.addSSRC=function(t){this.ssrcs.push(t)},i.getSSRCs=function(){return this.ssrcs},i.addSourceGroup=function(t){this.groups.push(t)},i.getSourceGroup=function(t){for(var i,n=Lt(this.groups);!(i=n()).done;){var r=i.value;if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},i.getSourceGroups=function(){return this.groups},i.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter(function(i){return i.getSSRCs()[0]===t})},i.hasSourceGroup=function(t){for(var i,n=Lt(this.groups);!(i=n()).done;)if(i.value.getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},i.getEncodings=function(){return this.encodings},i.addEncoding=function(t){this.encodings.push([t])},i.addAlternativeEncodings=function(t){this.encodings.push(t)},i.setEncodings=function(t){this.encodings=t},i.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var i,n=Lt(this.encodings);!(i=n()).done;)for(var r,e=Lt(i.value);!(r=e()).done;){var s=r.value,u={id:s.getId(),rid:s.getId()},o=s.getParams(),h=null==o?void 0:o.get("ssrc");if(void 0!==h){u.media=A(h);for(var a,c=Lt(this.getSourceGroupsForMediaSSRC(u.media));!(a=c()).done;){var f=a.value;switch(f.getSemantics()){case"FID":u.rtx=f.getSSRCs()[1];break;case"FEC-FR":u.fec=f.getSSRCs()[1]}}}t.push(u)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var d,l=Lt(v);!(d=l()).done;){for(var w,g=d.value,_={id:String(g),media:g},m=Lt(this.getSourceGroupsForMediaSSRC(_.media));!(w=m()).done;){var y=w.value;switch(y.getSemantics()){case"FID":_.rtx=y.getSSRCs()[1];break;case"FEC-FR":_.fec=y.getSSRCs()[1]}}t.push(_)}}else{var p={id:""};if(this.ssrcs.length){p.media=this.ssrcs[0];for(var k,b=Lt(this.getSourceGroupsForMediaSSRC(p.media));!(k=b()).done;){var T=k.value;switch(T.getSemantics()){case"FID":p.rtx=T.getSSRCs()[1];break;case"FEC-FR":p.fec=T.getSSRCs()[1]}}}t.push(p)}return t},t}();return n.expand=function(r){var e,s;if("TrackInfo"===r.constructor.name)return r;var u=new n(r.media,r.id);if(r.mediaId&&u.setMediaId(r.mediaId),Array.isArray(r.ssrcs))for(var o,h=Lt(r.ssrcs);!(o=h()).done;){var a=o.value;u.addSSRC(a)}else if(void 0!==(null===(e=r.ssrcs)||void 0===e?void 0:e.media)){var c=r.ssrcs.media;if(u.addSSRC(c),void 0!==r.ssrcs.rtx){var f=r.ssrcs.rtx;u.addSSRC(f),u.addSourceGroup(new t("FID",[c,f]))}if(void 0!==r.ssrcs.fec){var v=r.ssrcs.fec;u.addSSRC(v),u.addSourceGroup(new t("FEC-FR",[c,v]))}}if(r.rid){var d=new i(r.rid);void 0!==(null===(s=r.ssrcs)||void 0===s?void 0:s.media)&&d.addParam("ssrc",r.ssrcs.media),u.addAlternativeEncodings([d])}for(var l,w=Lt(r.groups||[]);!(l=w()).done;){var g=l.value;u.addSourceGroup(t.expand(g))}for(var _,m=Lt(r.encodings||[]);!(_=m()).done;){for(var y,p=[],k=Lt(_.value);!(y=k()).done;){var b=y.value;p.push(i.expand(b))}u.addAlternativeEncodings(p)}return u},n.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():n.expand(t)},Xi=n}function _n(){if(ji)return Gi;ji=1;var t=gn(),i=function(){function t(t){this.id=t,this.tracks=new Map}var i=t.prototype;return i.clone=function(){for(var i,n=new t(this.id),r=Lt(this.tracks.values());!(i=r()).done;){var e=i.value;n.addTrack(e.clone())}return n},i.plain=function(){for(var t,i={id:this.id,tracks:[]},n=Lt(this.tracks.values());!(t=n()).done;){var r=t.value;i.tracks.push(r.plain())}return i},i.getId=function(){return this.id},i.addTrack=function(t){this.tracks.set(t.getId(),t)},i.removeTrack=function(t){return this.tracks.delete(t.getId())},i.removeTrackById=function(t){return this.tracks.delete(t)},i.getFirstTrack=function(t){for(var i,n=Lt(this.tracks.values());!(i=n()).done;){var r=i.value;if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},i.getTracks=function(){return this.tracks},i.removeAllTracks=function(){this.tracks.clear()},i.getTrack=function(t){return this.tracks.get(t)},t}();return i.expand=function(n){if("StreamInfo"===n.constructor.name)return n;for(var r,e=new i(n.id),s=Lt(n.tracks||[]);!(r=s()).done;){var u=r.value,o=t.expand(u);o&&e.addTrack(o)}return e},i.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():i.expand(t)},Gi=i}function mn(){if(Yi)return Qi;Yi=1;var t=function(){if(St)return ri;St=1;var t=hi(),i=ai();return ri.write=i,ri.parse=t.parse,ri.parseParams=t.parseParams,ri.parseFmtpConfig=t.parseFmtpConfig,ri.parsePayloads=t.parsePayloads,ri.parseRemoteCandidates=t.parseRemoteCandidates,ri.parseImageAttributes=t.parseImageAttributes,ri.parseSimulcastStreamList=t.parseSimulcastStreamList,ri}(),i=(It||(It=1,Et=function(t){var i=new Intl.Collator(t,{sensitivity:"base"});return function(t,n){return 0==i.compare(t,n)}}),Et)("en-US"),n=ci(),r=vi(),e=fi(),s=wi(),u=gi(),o=sn(),h=vn(),a=li(),c=cn(),f=un(),v=dn(),d=ln(),l=_n(),w=gn(),g=wn(),_=an(),m=hn(),y=on(),p=fn(),b=function(){function r(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var e=r.prototype;return e.clone=function(){for(var t,i=new r(this.version),n=Lt(this.medias);!(t=n()).done;){var e=t.value;i.addMedia(e.clone())}for(var s,u=Lt(this.streams.values());!(s=u()).done;){var o=s.value;i.addStream(o.clone())}for(var h,a=Lt(this.candidates);!(h=a()).done;){var c=h.value;i.addCandidate(c.clone())}return i.setICE(this.ice.clone()),this.dtls&&i.setDTLS(this.dtls.clone()),this.crypto&&i.setCrypto(this.crypto.clone()),i.setExtmapAllowMixed(this.extmapAllowMixed),i},e.plain=function(){for(var t,i={version:this.version,streams:[],medias:[],candidates:[]},n=Lt(this.medias);!(t=n()).done;){var r=t.value;i.medias.push(r.plain())}for(var e,s=Lt(this.streams.values());!(e=s()).done;){var u=e.value;i.streams.push(u.plain())}for(var o,h=Lt(this.candidates);!(o=h()).done;){var a=o.value;i.candidates.push(a.plain())}return this.ice&&(i.ice=this.ice.plain()),this.dtls&&(i.dtls=this.dtls.plain()),this.crypto&&(i.crypto=this.crypto.plain()),this.extmapAllowMixed||(i.extmapAllowMixedNotSupported=!this.extmapAllowMixed),i},e.unify=function(){for(var t,i=new r(this.version),n=Lt(this.medias);!(t=n()).done;){var e=t.value;i.addMedia(e.clone())}for(var s,u={audio:i.getMediasByType("audio"),video:i.getMediasByType("video")},o=Lt(this.streams.values());!(s=o()).done;){for(var h,a=s.value.clone(),c=Lt(a.getTracks().values());!(h=c()).done;){var f=h.value,v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),i.addMedia(v)),f.setMediaId(v.getId())}i.addStream(a)}for(var d,l=Lt(this.candidates);!(d=l()).done;){var w=d.value;i.addCandidate(w.clone())}return this.ice&&i.setICE(this.ice.clone()),this.dtls&&i.setDTLS(this.dtls.clone()),this.crypto&&i.setCrypto(this.crypto.clone()),i},e.setVersion=function(t){this.version=t},e.addMedia=function(t){this.medias.push(t)},e.getMedia=function(t){for(var n in this.medias){var r=this.medias[n];if(i(r.getType(),t))return r}return null},e.getMediasByType=function(t){var n=[];for(var r in this.medias){var e=this.medias[r];i(e.getType(),t)&&n.push(e)}return n},e.getMediaById=function(t){for(var n,r=Lt(this.medias);!(n=r()).done;){var e=n.value;if(i(e.getId(),t))return e}return null},e.replaceMedia=function(t){for(var i in this.medias)if(this.medias[i].getId()==t.getId())return this.medias[i]=t,!0;return!1},e.getMedias=function(){return this.medias},e.getVersion=function(){return this.version},e.getDTLS=function(){return this.dtls},e.setDTLS=function(t){this.dtls=t},e.hasCrypto=function(){return!!this.crypto},e.getCrypto=function(){return this.crypto},e.setCrypto=function(t){this.crypto=t},e.hasICE=function(){return!!this.ice},e.getICE=function(){return this.ice},e.setICE=function(t){this.ice=t},e.addCandidate=function(t){for(var i,n=Lt(this.candidates);!(i=n()).done;)if(i.value.equals(t))return;this.candidates.push(t)},e.addCandidates=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;this.addCandidate(r)}},e.getCandidates=function(){return this.candidates},e.getStream=function(t){return this.streams.get(t)},e.getStreams=function(){return this.streams},e.getFirstStream=function(){for(var t,i=Lt(this.streams.values());!(t=i()).done;)return t.value;return null},e.addStream=function(t){this.streams.set(t.getId(),t)},e.removeStream=function(t){return this.streams.delete(t.getId())},e.removeAllStreams=function(){this.streams.clear()},e.getTracksByMediaType=function(t){for(var n,r=[],e=Lt(this.streams.values());!(n=e()).done;)for(var s,u=Lt(n.value.getTracks());!(s=u()).done;){var o=s.value,h=(o[0],o[1]);i(h.getMedia(),t)&&r.push(h)}return r},e.getTrackByMediaId=function(t){for(var i,n=Lt(this.streams.values());!(i=n()).done;)for(var r,e=Lt(i.value.getTracks());!(r=e()).done;){var s=r.value,u=(s[0],s[1]);if(u.getMediaId()==t)return u}return null},e.getStreamByMediaId=function(t){for(var i,n=Lt(this.streams.values());!(i=n()).done;)for(var r,e=i.value,s=Lt(e.getTracks());!(r=s()).done;){var u=r.value;if(u[0],u[1].getMediaId()==t)return e}return null},e.getExtmapAllowMixed=function(){return this.extmapAllowMixed},e.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},e.answer=function(t){var i=new r;t.ice&&(V(t.ice,o)?i.setICE(t.ice.clone()):i.setICE(o.expand(t.ice))),t.dtls&&(V(t.dtls,s)?i.setDTLS(t.dtls):i.setDTLS(s.expand(t.dtls))),t.crypto&&(V(t.crypto,u)?i.setCrypto(t.crypto):i.setCrypto(u.expand(t.crypto)));for(var e=0;t.candidates&&e<t.candidates.length;++e)V(t.candidates[e],n)?i.addCandidate(t.candidates[e].clone()):i.addCandidate(n.expand(t.candidates[e]));for(var h,a=Lt(this.medias);!(h=a()).done;){var c=h.value,f=t&&t.capabilities&&t.capabilities[c.getType()];i.addMedia(c.answer(f))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},e.toString=function(){var n={version:0,media:[]};n.version=0,n.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},n.name="semantic-sdp",n.connection={version:4,ip:"0.0.0.0"},n.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(n.icelite="ice-lite"),n.msidSemantic={semantic:"WMS",token:"*"},n.groups=[],this.extmapAllowMixed&&(n.extmapAllowMixed="extmap-allow-mixed");for(var r,e=[],s=Lt(this.medias);!(r=s()).done;){var u=r.value,o={type:u.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};o.direction=c.toString(u.getDirection()),this.extmapAllowMixed&&(o.extmapAllowMixed="extmap-allow-mixed"),o.mid=u.getId(),e.push(u.getId()),u.hasControl()&&(o.control=u.getControl()),u.getBitrate()>0&&(o.bandwidth.push({type:"AS",limit:u.getBitrate()}),o.bandwidth.push({type:"TIAS",limit:1e3*u.getBitrate()}));for(var h,v=Lt(this.getCandidates());!(h=v()).done;){var d=h.value;o.candidates.push({foundation:d.getFoundation(),component:d.getComponentId(),transport:d.getTransport(),priority:d.getPriority(),ip:d.getAddress(),port:d.getPort(),type:d.getType(),raddr:d.getRelAddr(),rport:d.getRelPort()})}if(this.getICE()&&(o.iceUfrag=this.getICE().getUfrag(),o.icePwd=this.getICE().getPwd()),i("audio",u.getType())||i("video",u.getType())){o.rtcpMux="rtcp-mux",o.rtcpRsize="rtcp-rsize",this.getDTLS()?(o.protocol="UDP/TLS/RTP/SAVPF",o.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},o.setup=a.toString(this.getDTLS().getSetup())):this.getCrypto()?(o.protocol="RTP/SAVPF",o.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):o.protocol="RTP/AVP";for(var l,w=Lt(u.getCodecs().values());!(l=w()).done;){var g=l.value;i("video",u.getType())?o.rtp.push({payload:g.getType(),codec:g.getCodec().toUpperCase(),rate:9e4}):i("opus",g.getCodec())||i("multiopus",g.getCodec())?o.rtp.push({payload:g.getType(),codec:g.getCodec(),rate:48e3,encoding:g.getChannels()}):o.rtp.push({payload:g.getType(),codec:g.getCodec(),rate:8e3});for(var _,m=Lt(g.getRTCPFeedbacks());!(_=m()).done;){var y=_.value;o.rtcpFb.push({payload:g.getType(),type:y.getId(),subtype:y.getParams().join(" ")})}g.hasRTX()&&(o.rtp.push({payload:g.getRTX(),codec:"rtx",rate:9e4}),o.fmtp.push({payload:g.getRTX(),config:"apt="+g.getType()}));var p=g.getParams();if(k.keys(p).length){var b={payload:g.getType(),config:""};for(var A in p)b.config.length&&(b.config+=";"),k.hasOwnProperty.call(p,A)?b.config+=A+"="+p[A]:b.config+=A;o.fmtp.push(b)}}for(var T,S=[],E=Lt(o.rtp);!(T=E()).done;){var I=T.value;S.push(I.payload)}o.payloads=S.join(" ");for(var R,C=Lt(u.getExtensions().entries());!(R=C()).done;){var P=R.value,D=P[0],N=P[1];o.ext.push({value:D,uri:N})}for(var x,B=Lt(u.getRIDs().values());!(x=B()).done;){var O=x.value,M={id:O.getId(),direction:f.toString(O.getDirection()),params:""};O.getFormats().length&&(M.params="pt="+O.getFormats().join(","));for(var L,F=Lt(O.getParams().entries());!(L=F()).done;){var U=L.value,V=U[0],H=U[1];M.params+=(M.params.length?";":"")+V+"="+H}o.rids.push(M)}var W=u.getSimulcast();if(W){var z=1;o.simulcast={};var X=W.getSimulcastStreams(f.SEND),q=W.getSimulcastStreams(f.RECV);if(X&&X.length){for(var G,j="",Q=Lt(X);!(G=Q()).done;){for(var Y,K="",J=Lt(G.value);!(Y=J()).done;){var Z=Y.value;K+=(K.length?",":"")+(Z.isPaused()?"~":"")+Z.getId()}j+=(j.length?";":"")+K}o.simulcast["dir"+z]="send",o.simulcast["list"+z]=j,z++}if(q&&q.length){for(var $,tt="",it=Lt(q);!($=it()).done;){for(var nt,rt="",et=Lt($.value);!(nt=et()).done;){var st=nt.value;rt+=(rt.length?",":"")+(st.isPaused()?"~":"")+st.getId()}tt+=(tt.length?";":"")+rt}o.simulcast["dir"+z]="recv",o.simulcast["list"+z]=tt,z++}}}else if(u.hasDataChannel()){o.protocol="UDP/DTLS/SCTP",o.payloads="webrtc-datachannel";var ut=u.getDataChannel();o.sctpPort=ut.getPort(),o.maxMessageSize=ut.getMaxMessageSize()}n.media.push(o)}for(var ot,ht=Lt(this.streams.values());!(ot=ht()).done;)for(var at,ct=ot.value,ft=Lt(ct.getTracks().values());!(at=ft()).done;){var vt=at.value;for(var dt in n.media){var lt=n.media[dt];if(vt.getMediaId()){if(vt.getMediaId()==lt.mid){var wt=vt.getSourceGroups();for(var gt in wt){var _t=wt[gt];lt.ssrcGroups.push({semantics:_t.getSemantics(),ssrcs:_t.getSSRCs().join(" ")})}var mt=vt.getSSRCs();for(var yt in mt)lt.ssrcs.push({id:mt[yt],attribute:"cname",value:ct.getId()}),lt.ssrcs.push({id:mt[yt],attribute:"msid",value:ct.getId()+" "+vt.getId()});lt.msid=ct.getId()+" "+vt.getId();break}}else if(i(lt.type,vt.getMedia())){var pt=vt.getSourceGroups();for(var kt in pt){var bt=pt[kt];lt.ssrcGroups.push({semantics:bt.getSemantics(),ssrcs:bt.getSSRCs().join(" ")})}var At=vt.getSSRCs();for(var Tt in At)lt.ssrcs.push({id:At[Tt],attribute:"cname",value:ct.getId()}),lt.ssrcs.push({id:At[Tt],attribute:"msid",value:ct.getId()+" "+vt.getId()});break}}}var St={type:"BUNDLE",mids:e.join(" ")};return n.groups.push(St),t.write(n)},e.toIceFragmentString=function(){var i={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(i.icelite="ice-lite"),this.getICE()&&(i.iceUfrag=this.getICE().getUfrag(),i.icePwd=this.getICE().getPwd());for(var n,r=Lt(this.getCandidates());!(n=r()).done;){var e=n.value;i.candidates.push({foundation:e.getFoundation(),component:e.getComponentId(),transport:e.getTransport(),priority:e.getPriority(),ip:e.getAddress(),port:e.getPort(),type:e.getType(),raddr:e.getRelAddr(),rport:e.getRelPort()})}return t.write(i).slice(10)},r}();return b.create=function(t){var i,r=new b;if(t.streams)for(var e,a=Lt(t.streams);!(e=a()).done;){var c=e.value;r.addStream(l.expand(c))}t.ice&&(V(t.ice,o)?r.setICE(t.ice.clone()):r.setICE(o.expand(t.ice))),t.dtls&&(V(t.dtls,s)?r.setDTLS(t.dtls):r.setDTLS(s.expand(t.dtls))),t.crypto&&(V(t.crypto,u)?r.setCrypto(t.crypto):r.setCrypto(u.expand(t.crypto)));for(var f,v=Lt(t.candidates||[]);!(f=v()).done;){var d=f.value;V(d,n)?r.addCandidate(d.clone()):r.addCandidate(n.expand(d))}for(var w,g=96,_=1,m=0,y=Lt(k.entries(t.capabilities||{}));!(w=y()).done;){var p=w.value,A=p[0],T=p[1];if(t.unified&&null!==(i=t.streams)&&void 0!==i&&i.length)for(var S,E=Lt(r.getTracksByMediaType(A));!(S=E()).done;){for(var I,R=S.value,C=h.create(R.getMediaId(),A,T),P=Lt(C.getCodecs());!(I=P()).done;){var D=I.value,N=(D[0],D[1]);N.getType()>=96&&N.setType(g++),N.getRTX()&&N.setRTX(g++)}if(T.extensions)for(var x,B=Lt(T.extensions);!(x=B()).done;){var O=x.value;15===_&&_++,C.addExtension(_++,O)}r.addMedia(C)}else{for(var M,L=h.create(t.unified?String(m++):A,A,T),F=Lt(L.getCodecs());!(M=F()).done;){var U=M.value,H=(U[0],U[1]);H.getType()>=96&&H.setType(g++),H.getRTX()&&H.setRTX(g++)}if(T.extensions)for(var W,z=Lt(T.extensions);!(W=z()).done;){var X=W.value;15===_&&_++,L.addExtension(_++,X)}r.addMedia(L)}}return r},b.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var i,r=new b(t.version),e=Lt(t.medias||[]);!(i=e()).done;){var a=i.value,c=h.expand(a);c&&r.addMedia(c)}for(var f,v=Lt(t.streams||[]);!(f=v()).done;){var d=f.value,w=l.expand(d);w&&r.addStream(w)}for(var g,_=Lt(t.candidates||[]);!(g=_()).done;){var m=g.value,y=n.expand(m);y&&r.addCandidate(y)}return t.ice&&r.setICE(o.expand(t.ice)),t.dtls&&r.setDTLS(s.expand(t.dtls)),t.crypto&&r.setCrypto(u.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),r},b.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():b.expand(t)},b.process=function(t){return b.parse(t)},b.parse=function(k){var T=t.parse(k),S=new b;if(S.setVersion(T.version),T.iceUfrag&&T.icePwd){var E=String(T.iceUfrag),I=String(T.icePwd),R=new o(E,I);R.setLite("ice-lite"==T.icelite),R.setEndOfCandidates("end-of-candidates"==T.endOfCandidates),S.setICE(R)}for(var C in T.media){var P=T.media[C],D=P.type,N=P.mid?P.mid.toString():C,x=new h(N,D);if(P.iceUfrag&&P.icePwd){var B=String(P.iceUfrag),O=String(P.icePwd),M=new o(B,O);M.setLite("ice-lite"==T.icelite),M.setEndOfCandidates("end-of-candidates"==P.endOfCandidates),S.setICE(M)}for(var L=0;P.candidates&&L<P.candidates.length;++L){var F=P.candidates[L],U=new n(F.foundation,F.component,F.transport,F.priority,F.ip,F.port,F.type,F.raddr,F.rport);S.addCandidate(U)}var V=P.fingerprint||T.fingerprint;if(V){var H=V.type,W=V.hash,z=a.ACTPASS;P.setup&&(z=a.byValue(P.setup)),S.setDTLS(new s(z,H,W))}if(P.crypto){var X=P.crypto[0];S.setCrypto(new u(X.id,X.suite,X.config,X.sessionConfig))}var q=c.SENDRECV;P.direction&&(q=c.byValue(P.direction),x.setDirection(q)),P.control&&x.setControl(P.control),S.setExtmapAllowMixed("extmap-allow-mixed"==P.extmapAllowMixed||"extmap-allow-mixed"==T.extmapAllowMixed);var G=new Map;for(var j in P.rtp){var Q=P.rtp[j],Y=Q.payload,K=Q.codec;if("RED"!==K.toUpperCase()&&"ULPFEC"!==K.toUpperCase()){var J={};for(var Z in P.fmtp){var $=P.fmtp[Z];if($.payload===Y){var tt=$.config.split(";");for(var it in tt){var nt=tt[it].split("="),rt=nt[0].trim(),et=nt.splice(1).join("=").trim();J[rt]=et}}}if("RTX"===K.toUpperCase())G.set(A(J.apt),Y);else{var st=new r(K,Y,J);Q.encoding>1&&st.setChannels(Q.encoding),x.addCodec(st)}}}for(var ut,ot=Lt(G.entries());!(ut=ot()).done;){var ht=ut.value,at=x.getCodecForType(ht[0]);at&&at.setRTX(ht[1])}for(var ct=0;P.rtcpFb&&ct<P.rtcpFb.length;++ct){var ft=x.getCodecForType(P.rtcpFb[ct].payload);if(ft){var vt=P.rtcpFb[ct].type,dt=P.rtcpFb[ct].subtype?P.rtcpFb[ct].subtype.split(" "):null;ft.addRTCPFeedback(new e(vt,dt))}}var lt=P.ext;for(var wt in lt){var gt=lt[wt];x.addExtension(gt.value,gt.uri)}var _t=P.rids;for(var mt in _t){var yt=_t[mt],pt=new y(yt.id,f.byValue(yt.direction)),kt=[],bt=new Map;if(yt.params){var At=t.parseParams(yt.params);for(var Tt in At)"pt"===Tt?kt=At[Tt].split(","):bt.set(Tt,At[Tt]);pt.setFormats(kt),pt.setParams(bt)}x.addRID(pt)}var St=[];if(P.simulcast){var Et=new _;if(P.simulcast.dir1)for(var It=f.byValue(P.simulcast.dir1),Rt=t.parseSimulcastStreamList(P.simulcast.list1),Ct=0;Ct<Rt.length;++Ct){for(var Pt=[],Dt=0;Dt<Rt[Ct].length;++Dt)Pt.push(new m(Rt[Ct][Dt].scid,Rt[Ct][Dt].paused));Et.addSimulcastAlternativeStreams(It,Pt)}if(P.simulcast.dir2)for(var Nt=f.byValue(P.simulcast.dir2),xt=t.parseSimulcastStreamList(P.simulcast.list2),Bt=0;Bt<xt.length;++Bt){for(var Ot=[],Mt=0;Mt<xt[Bt].length;++Mt)Ot.push(new m(xt[Bt][Mt].scid,xt[Bt][Mt].paused));Et.addSimulcastAlternativeStreams(Nt,Ot)}for(var Ft,Ut=Lt(Et.getSimulcastStreams(f.SEND));!(Ft=Ut()).done;){for(var Vt=Ft.value,Ht=[],Wt=0;Wt<Vt.length;Wt++){var zt=new g(Vt[Wt].getId(),Vt[Wt].isPaused()),Xt=x.getRID(zt.getId());if(Xt){for(var qt=Xt.getFormats(),Gt=0;qt&&Gt<qt.length;++Gt){var jt=x.getCodecForType(qt[Gt]);jt&&zt.addCodec(jt)}zt.setParams(Xt.getParams()),Ht.push(zt)}}Ht.length&&St.push(Ht)}x.setSimulcast(Et)}var Qt=new Map;if(P.ssrcs)for(var Yt in P.ssrcs){var Kt=P.ssrcs[Yt],Jt=Kt.id,Zt=Kt.attribute,$t=Kt.value,ti=Qt.get(Jt);if(ti||(ti=new d(Jt),Qt.set(ti.getSSRC(),ti)),i("cname",Zt))ti.setCName($t);else if(i("msid",Zt)){var ii=$t.split(" "),ni=ii[0],ri=ii[1];ti.setStreamId(ni),ti.setTrackId(ri);var ei=S.getStream(ni);ei||(ei=new l(ni),S.addStream(ei));var si=ei.getTrack(ri);si||((si=new w(D,ri)).setMediaId(N),si.setEncodings(St),ei.addTrack(si)),si.addSSRC(Jt)}}if(P.msid){var ui=P.msid.split(" "),oi=ui[0],hi=ui[1],ai=S.getStream(oi);ai||(ai=new l(oi),S.addStream(ai));var ci=ai.getTrack(hi);ci||((ci=new w(D,hi)).setMediaId(N),ci.setEncodings(St),ai.addTrack(ci));for(var fi,vi=Lt(Qt.entries());!(fi=vi()).done;){var di=fi.value,li=di[0],wi=di[1];wi.getStreamId()||(wi.setStreamId(oi),wi.setTrackId(hi),ci.addSSRC(li))}}for(var gi,_i=Lt(Qt.entries());!(gi=_i()).done;){var mi=gi.value,yi=mi[0],pi=mi[1];if(!pi.getStreamId()){var ki=pi.getCName(),bi=N;pi.setStreamId(ki),pi.setTrackId(bi);var Ai=S.getStream(ki);Ai||(Ai=new l(ki),S.addStream(Ai));var Ti=Ai.getTrack(bi);Ti||((Ti=new w(D,bi)).setMediaId(N),Ti.setEncodings(St),Ai.addTrack(Ti)),Ti.addSSRC(yi)}}if(P.ssrcGroups)for(var Si in P.ssrcGroups){var Ei=P.ssrcGroups[Si],Ii=Ei.ssrcs.split(" "),Ri=new v(Ei.semantics,Ii),Ci=Qt.get(A(Ii[0]));Ci&&S.getStream(Ci.getStreamId()).getTrack(Ci.getTrackId()).addSourceGroup(Ri)}if("application"==P.type&&"webrtc-datachannel"==P.payloads){var Pi=new p(P.sctpPort,P.maxMessageSize);x.setDataChannel(Pi)}S.addMedia(x)}return S},Qi=b}var yn,pn=(Ki||(Ki=1,k.defineProperty(ni,"__esModule",{value:!0}),ni.SDPInfo=mn(),ni.CandidateInfo=ci(),ni.CodecInfo=vi(),ni.DTLSInfo=wi(),ni.CryptoInfo=gi(),ni.ICEInfo=sn(),ni.MediaInfo=vn(),ni.Setup=li(),ni.SourceGroupInfo=dn(),ni.SourceInfo=ln(),ni.StreamInfo=_n(),ni.TrackInfo=gn(),ni.RTCPFeedbackInfo=fi(),ni.TrackEncodingInfo=wn(),ni.RIDInfo=on(),ni.SimulcastInfo=an(),ni.SimulcastStreamInfo=hn(),ni.DataChannelInfo=fn(),ni.Direction=cn()),ni),kn={exports:{}},bn=kn.exports,An=(yn||(yn=1,function(t,i){!function(n,r){var e="function",s="undefined",u="object",o="string",h="major",a="model",c="name",f="type",v="vendor",d="version",l="architecture",w="console",g="mobile",_="tablet",m="smarttv",y="wearable",p="embedded",k="Amazon",b="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",P="LG",D="Microsoft",N="Motorola",x="Opera",B="Samsung",O="Sharp",M="Sony",L="Xiaomi",F="Zebra",U="Facebook",H="Chromium OS",z="Mac OS",X=" Browser",q=function(t){for(var i={},n=0;n<t.length;n++)i[t[n].toUpperCase()]=t[n];return i},G=function(t,i){return(void 0===t?"undefined":W(t))===o&&-1!==j(i).indexOf(j(t))},j=function(t){return t.toLowerCase()},Q=function(t,i){if((void 0===t?"undefined":W(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===i?"undefined":W(i))===s?t:t.substring(0,500)},Y=function(t,i){for(var n,s,o,h,a,c,f=0;f<i.length&&!a;){var v=i[f],d=i[f+1];for(n=s=0;n<v.length&&!a&&v[n];)if(a=v[n++].exec(t))for(o=0;o<d.length;o++)c=a[++s],(void 0===(h=d[o])?"undefined":W(h))===u&&h.length>0?2===h.length?W(h[1])==e?this[h[0]]=h[1].call(this,c):this[h[0]]=h[1]:3===h.length?W(h[1])!==e||h[1].exec&&h[1].test?this[h[0]]=c?c.replace(h[1],h[2]):r:this[h[0]]=c?h[1].call(this,c,h[2]):r:4===h.length&&(this[h[0]]=c?h[3].call(this,c.replace(h[1],h[2])):r):this[h]=c||r;f+=2}},K=function(t,i){for(var n in i)if(W(i[n])===u&&i[n].length>0){for(var e=0;e<i[n].length;e++)if(G(i[n][e],t))return"?"===n?r:n}else if(G(i[n],t))return"?"===n?r:n;return i.hasOwnProperty("*")?i["*"]:t},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,d],[/opios[\/ ]+([\w\.]+)/i],[d,[c,x+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[c,x+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[c,x]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[c,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[c,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[c,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[c,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[c,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+S],d],[/\bfocus\/([\w\.]+)/i],[d,[c,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[c,x+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[c,x+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[c,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[d,[c,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360"+X]],[/\b(qq)\/([\w\.]+)/i],[[c,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1"+X],d],[/samsungbrowser\/([\w\.]+)/i],[d,[c,B+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[c,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[c,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,U],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[c,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,E+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[c,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[d,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],d],[/(wolvic)\/([\w\.]+)/i],[c,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[c,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[c,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,j]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[v,B],[f,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[a,[v,B],[f,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[a,[v,b],[f,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[v,b],[f,_]],[/(macintosh);/i],[a,[v,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[v,O],[f,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[v,C],[f,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[a,[v,C],[f,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[a,/_/g," "],[v,L],[f,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[v,L],[f,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[v,"OPPO"],[f,g]],[/\b(opd2\d{3}a?) bui/i],[a,[v,"OPPO"],[f,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[v,"Vivo"],[f,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[a,[v,"Realme"],[f,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[v,N],[f,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[v,N],[f,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[v,P],[f,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[v,P],[f,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[v,"Lenovo"],[f,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[v,"Nokia"],[f,g]],[/(pixel c)\b/i],[a,[v,R],[f,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[v,R],[f,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[v,M],[f,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[v,M],[f,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[v,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[v,k],[f,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[v,k],[f,g]],[/(playbook);[-\w\),; ]+(rim)/i],[a,v,[f,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[v,T],[f,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[v,A],[f,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[v,A],[f,g]],[/(nexus 9)/i],[a,[v,"HTC"],[f,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[a,/_/g," "],[f,g]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[a,[v,"TCL"],[f,_]],[/(itel) ((\w+))/i],[[v,j],a,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[v,"Acer"],[f,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[v,"Meizu"],[f,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[a,[v,"Ulefone"],[f,g]],[/droid.+; (a(?:015|06[35]|142p?))/i],[a,[v,"Nothing"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,a,[f,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,a,[f,_]],[/(surface duo)/i],[a,[v,D],[f,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[v,"Fairphone"],[f,g]],[/(u304aa)/i],[a,[v,"AT&T"],[f,g]],[/\bsie-(\w*)/i],[a,[v,"Siemens"],[f,g]],[/\b(rct\w+) b/i],[a,[v,"RCA"],[f,_]],[/\b(venue[\d ]{2,7}) b/i],[a,[v,"Dell"],[f,_]],[/\b(q(?:mv|ta)\w+) b/i],[a,[v,"Verizon"],[f,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[v,"Barnes & Noble"],[f,_]],[/\b(tm\d{3}\w+) b/i],[a,[v,"NuVision"],[f,_]],[/\b(k88) b/i],[a,[v,"ZTE"],[f,_]],[/\b(nx\d{3}j) b/i],[a,[v,"ZTE"],[f,g]],[/\b(gen\d{3}) b.+49h/i],[a,[v,"Swiss"],[f,g]],[/\b(zur\d{3}) b/i],[a,[v,"Swiss"],[f,_]],[/\b((zeki)?tb.*\b) b/i],[a,[v,"Zeki"],[f,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],a,[f,_]],[/\b(ns-?\w{0,9}) b/i],[a,[v,"Insignia"],[f,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[v,"NextBook"],[f,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],a,[f,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],a,[f,g]],[/\b(ph-1) /i],[a,[v,"Essential"],[f,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[v,"Envizen"],[f,_]],[/\b(trio[-\w\. ]+) b/i],[a,[v,"MachSpeed"],[f,_]],[/\btu_(1491) b/i],[a,[v,"Rotor"],[f,_]],[/(shield[\w ]+) b/i],[a,[v,"Nvidia"],[f,_]],[/(sprint) (\w+)/i],[v,a,[f,g]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[v,D],[f,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[v,F],[f,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[v,F],[f,g]],[/smart-tv.+(samsung)/i],[v,[f,m]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[v,B],[f,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,P],[f,m]],[/(apple) ?tv/i],[v,[a,b+" TV"],[f,m]],[/crkey/i],[[a,E+"cast"],[v,R],[f,m]],[/droid.+aft(\w+)( bui|\))/i],[a,[v,k],[f,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[a,[v,O],[f,m]],[/(bravia[\w ]+)( bui|\))/i],[a,[v,M],[f,m]],[/(mitv-\w{5}) bui/i],[a,[v,L],[f,m]],[/Hbbtv.*(technisat) (.*);/i],[v,a,[f,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Q],[a,Q],[f,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,a,[f,w]],[/droid.+; (shield) bui/i],[a,[v,"Nvidia"],[f,w]],[/(playstation [345portablevi]+)/i],[a,[v,M],[f,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[v,D],[f,w]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[a,[v,B],[f,y]],[/((pebble))app/i],[v,a,[f,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[a,[v,b],[f,y]],[/droid.+; (glass) \d/i],[a,[v,R],[f,y]],[/droid.+; (wt63?0{2,3})\)/i],[a,[v,F],[f,y]],[/(quest( \d| pro)?)/i],[a,[v,U],[f,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,p]],[/(aeobc)\b/i],[a,[v,k],[f,p]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[a,[f,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[f,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,g]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[c,[d,K,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,K,J],[c,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,z],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,d],[/\(bb(10);/i],[d,[c,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[c,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[c,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,H],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,d],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,d]]},$=function(t,i){if((void 0===t?"undefined":W(t))===u&&(i=t,t=r),!V(this,$))return new $(t,i).getResult();var w=(void 0===n?"undefined":W(n))!==s&&n.navigator?n.navigator:r,m=t||(w&&w.userAgent?w.userAgent:""),y=w&&w.userAgentData?w.userAgentData:r,p=i?function(t,i){var n={};for(var r in t)i[r]&&i[r].length%2==0?n[r]=i[r].concat(t[r]):n[r]=t[r];return n}(Z,i):Z,k=w&&w.userAgent==m;return this.getBrowser=function(){var t={};return t[c]=r,t[d]=r,Y.call(t,m,p.browser),t[h]=function(t){return(void 0===t?"undefined":W(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),k&&w&&w.brave&&W(w.brave.isBrave)==e&&(t[c]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,Y.call(t,m,p.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[a]=r,t[f]=r,Y.call(t,m,p.device),k&&!t[f]&&y&&y.mobile&&(t[f]=g),k&&"Macintosh"==t[a]&&w&&W(w.standalone)!==s&&w.maxTouchPoints&&w.maxTouchPoints>2&&(t[a]="iPad",t[f]=_),t},this.getEngine=function(){var t={};return t[c]=r,t[d]=r,Y.call(t,m,p.engine),t},this.getOS=function(){var t={};return t[c]=r,t[d]=r,Y.call(t,m,p.os),k&&!t[c]&&y&&y.platform&&"Unknown"!=y.platform&&(t[c]=y.platform.replace(/chrome os/i,H).replace(/macos/i,z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return m},this.setUA=function(t){return m=(void 0===t?"undefined":W(t))===o&&t.length>500?Q(t,500):t,this},this.setUA(m),this};$.VERSION="0.7.39",$.BROWSER=q([c,d,h]),$.CPU=q([l]),$.DEVICE=q([a,v,f,w,g,m,_,y,p]),$.ENGINE=$.OS=q([c,d]),t.exports&&(i=t.exports=$),i.UAParser=$;var tt=(void 0===n?"undefined":W(n))!==s&&(n.jQuery||n.Zepto);if(tt&&!tt.ua){var it=new $;tt.ua=it.getResult(),tt.ua.get=function(){return it.getUA()},tt.ua.set=function(t){it.setUA(t);var i=it.getResult();for(var n in i)tt.ua[n]=i[n]}}}("object"==(void 0===f?"undefined":W(f))?f:bn)}(kn,kn.exports)),kn.exports),Tn=C(An),Sn=["iOS"],En=function(t){function i(){return t.call(this,f.navigator.userAgent)||this}Ct(i,t);var n=i.prototype;return n.isChromium=function(){return this.getUA().match(/Chrome/i)},n.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var i,n=this.getOS();return i=!new RegExp(Sn.join("|"),"i").test(n.name),t.name.match(/Chrome/i)&&i},n.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},n.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},n.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},i}(Tn),In=gt.get("SdpParser"),Rn=Array.from({length:31},function(t,i){return i+35}),Cn=Array.from({length:32},function(t,i){return i+96}),Pn=Array.from({length:14},function(t,i){return i+1}),Dn=Array.from({length:240},function(t,i){return i+16}),Nn={setSimulcast:function(t,i){if(In.info("Setting simulcast. Codec: ",i),!(new En).isChromium())return In.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==i&&"vp8"!==i)return In.warn("Your selected codec ".concat(i," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return In.warn("There is no available video for simulcast to be enabled."),t;try{for(var n=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=n.exec(t),s=e[1],u=e[2],o=r.exec(t)[2],h=[s],a=0;a<2;++a){var c=100+2*a,f=c+1;h.push(c),t+="a=ssrc-group:FID "+c+" "+f+"\r\na=ssrc:"+c+" cname:"+u+"\r\na=ssrc:"+c+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+u+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+h.join(" ")+"\r\n",In.info("Simulcast setted"),In.debug("Simulcast SDP: ",t),t}catch(t){throw In.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return In.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),In.info("Replaced SDP response for support stereo"),In.debug("New SDP value: ",t),t},setDTX:function(t){return In.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),In.info("Replaced SDP response for support dtx"),In.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var i="a=extmap:"+Nn.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,function(t,n,r){return n+i+r}),In.info("Replaced SDP response for setting absolute capture time"),In.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var i="a=extmap:"+Nn.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,function(t,n,r){return n+i+r}),In.info("Replaced SDP response for setting depency descriptor"),In.debug("New SDP value: ",t),t},setVideoBitrate:function(t,i){if(i<1)In.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var n=pn.SDPInfo.parse(t),r=n.getMedia("video");In.info("Setting video bitrate"),r.setBitrate(i),t=n.toString()}return t},removeSdpLine:function(t,i){return In.debug("SDP before trimming: ",t),t=t.split("\n").filter(function(t){return t.trim()!==i}).join("\n"),In.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,i,n){if(!t)return t;var r=new RegExp("".concat(i),"i");return t.replace(r,n)},setMultiopus:function(t,i){if(!(new En).isFirefox()&&(!i||xn(i)))if(t.includes("multiopus/48000/6"))In.info("Multiopus already setted");else{In.info("Setting multiopus");var n=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=Nn.getAvailablePayloadTypeRange(t)[0],e=n.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(n,e),In.info("Multiopus offer created"),In.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var i,n=function(){var t=i.value[1].split(" ").map(function(t){return A(t)});e=e.filter(function(i){return!t.includes(i)})},r=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),e=Cn.concat(Rn),s=Lt(r);!(i=s()).done;)n();return e},getAvailableHeaderExtensionIdRange:function(t){for(var i,n=function(){var t=i.value[1].split(" ").map(function(t){return A(t)});e=e.filter(function(i){return!t.includes(i)})},r=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),e=Pn.concat(Dn),s=Lt(r);!(i=s()).done;)n();return e},renegotiate:function(t,i){for(var n,r=pn.SDPInfo.parse(t),e=pn.SDPInfo.parse(i),s=Lt(r.getMedias());!(n=s()).done;){var u=n.value,o=e.getMediaById(u.getId());if(!o){(o=new pn.MediaInfo(u.getId(),u.getType())).setDirection(pn.Direction.reverse(u.getDirection()));var h=e.getMedia(u.getType());if(h){o.setCodecs(h.getCodecs());for(var a,c=Lt(h.getExtensions());!(a=c()).done;){var f=a.value,v=f[0],d=f[1];o.addExtension(v,d)}}e.addMedia(o)}}return e.toString()},updateMissingVideoExtensions:function(t,i){var n,r=pn.SDPInfo.parse(t),e=null==(n=pn.SDPInfo.parse(i).getMediasByType("video")[0])?void 0:n.getExtensions();if(e||e.length){for(var s,u=function(){var i=s.value,n=i.getExtensions();e.forEach(function(r,e){if(!n.get(e)){var s=i.getId(),u="a=extmap:"+e+" "+r+"\r\n",o=new RegExp("(a=mid:"+s+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,function(t,i,n){return i+u})}})},o=Lt(r.getMediasByType("video"));!(s=o()).done;)u();return t}},getCodecPayloadType:function(t){for(var i,n={},r=Lt(t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g));!(i=r()).done;){var e=i.value;n[e[1]]=e[2]}return n}},xn=function(t){return t.getAudioTracks().some(function(t){return t.getSettings().channelCount>2})},Bn={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},On={OPUS:"opus",MULTIOPUS:"multiopus"},Mn=gt.get("PeerConnection"),Ln="Publisher",Fn="Viewer",Un={track:"track",connectionStateChange:"connectionStateChange"},Vn={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Hn=function(t){function i(){var i;return(i=t.call(this)||this).mode=null,i.sessionDescription=null,i.peer=null,i.peerConnectionStats=null,i.transceiverMap=new Map,i}Ct(i,t);var n=i.prototype;return n.createRTCPeer=function(){return Vt(function(t,i){return zt(this,function(n){return void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===i&&(i=Fn),Mn.info("Creating new RTCPeerConnection"),Mn.debug("RTC configuration provided by user: ",t),this.peer=Xn(this,t),this.mode=i,t.autoInitStats&&this.initStats(t),[2]})}).apply(this,arguments)},n.getRTCPeer=function(){return Mn.info("Getting RTC Peer"),this.peer},n.closeRTCPeer=function(){return Vt(function(){var t;return zt(this,function(i){return Mn.info("Closing RTCPeerConnection"),null==(t=this.peer)||t.close(),this.peer=null,this.stopStats(),this.emit(Un.connectionStateChange,"closed"),[2]})}).call(this)},n.setRTCRemoteSDP=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:Mn.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.peer.setRemoteDescription(i)];case 2:return r.sent(),Mn.info("RTC Remote SDP was set successfully."),Mn.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw n=r.sent(),Mn.error("Error while setting RTC Remote SDP: ",n),n;case 4:return[2]}})}).call(this)},n.getRTCLocalSDP=function(){return Vt(function(t){var i,n;return zt(this,function(r){switch(r.label){case 0:return void 0===t&&(t=Vn),Mn.info("Getting RTC Local SDP"),t=d(d({},Vn),t),Mn.debug("Options: ",t),(i=zn(t.mediaStream))?Kn(this.peer,i,t):Jn(this.peer,t),Mn.info("Creating peer offer"),[4,this.peer.createOffer()];case 1:return n=r.sent(),Mn.info("Peer offer created"),Mn.debug("Peer offer response: ",n.sdp),this.sessionDescription=n,t.disableAudio||(t.stereo&&(this.sessionDescription.sdp=Nn.setStereo(this.sessionDescription.sdp)),t.dtx&&(this.sessionDescription.sdp=Nn.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=Nn.setMultiopus(this.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(this.sessionDescription.sdp=Nn.setSimulcast(this.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(this.sessionDescription.sdp=Nn.setAbsoluteCaptureTime(this.sessionDescription.sdp)),t.dependencyDescriptor&&(this.sessionDescription.sdp=Nn.setDependencyDescriptor(this.sessionDescription.sdp)),t.setSDPToPeer?[4,this.peer.setLocalDescription(this.sessionDescription)]:[3,3];case 2:r.sent(),Mn.info("Peer local description set"),r.label=3;case 3:return[2,this.sessionDescription.sdp]}})}).apply(this,arguments)},n.addRemoteTrack=function(t,i){return Vt(function(){var n;return zt(this,function(r){return n=this,[2,new ut(function(r,e){try{var s=n.peer.addTransceiver(t,{direction:"recvonly",streams:i});n.transceiverMap.set(s,r)}catch(t){e(t)}})]})}).call(this)},n.updateBandwidthRestriction=function(t,i){if(this.mode===Fn)throw Mn.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");return Mn.info("Updating bandwidth restriction, bitrate value: ",i),Mn.debug("SDP value: ",t),Nn.setVideoBitrate(t,i)},n.updateBitrate=function(t){return void 0===t&&(t=0),Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:if(this.mode===Fn)throw Mn.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");if(!this.peer)throw Mn.error("Cannot update bitrate. No peer found."),new y("Cannot update bitrate. No peer found.");return Mn.info("Updating bitrate to value: ",t),i=this,[4,this.peer.createOffer()];case 1:return i.sessionDescription=r.sent(),[4,this.peer.setLocalDescription(this.sessionDescription)];case 2:return r.sent(),n=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,t),[4,this.setRTCRemoteSDP(n)];case 3:return r.sent(),Mn.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}})}).call(this)},n.getRTCPeerStatus=function(){if(Mn.info("Getting RTC peer status"),!this.peer)return null;var t=Zn(this.peer);return Mn.info("RTC peer status getted, value: ",t),t},n.replaceTrack=function(t){if(this.peer){var i=this.peer.getSenders().find(function(i){return i.track.kind===t.kind});i?i.replaceTrack(t):Mn.error("There is no ".concat(t.kind," track in active broadcast."))}else Mn.error("Could not change track if there is not an active connection.")},n.getTracks=function(){var t,i;return null==(i=null==(t=this.peer)?void 0:t.getSenders())?void 0:i.map(function(t){return t.track})},n.initStats=function(t){this.peerConnectionStats?Mn.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new ii(this.peer,t),Kt(this.peerConnectionStats,this,[ti])):Mn.warn("Cannot init peer stats: RTCPeerConnection not initialized")},n.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},i.getCapabilities=function(t){var i=new En,n=RTCRtpSender.getCapabilities(t);if(n){var r={},e=new RegExp("^video/(".concat(k.values(Bn).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(k.values(On).join("|"),")$"),"i"),i.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var s,u=Lt(n.codecs);!(s=u()).done;){var o=s.value,h=o.mimeType.match(e);if(h){var a=h[1].toLowerCase();if(r[a]=g(d({},r[a]),{mimeType:o.mimeType}),o.scalabilityModes){var c=r[a].scalabilityModes||[];c=[].concat(c,o.scalabilityModes),r[a].scalabilityModes=[].concat(new Set(c))}o.channels&&(r[a].channels=o.channels)}}n.codecs=k.keys(r).map(function(t){return d({codec:t},r[t])})}return n},i}(jt),Wn=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},zn=function(t){if(!t)return null;if(V(t,MediaStream)&&Wn(t))return t;if(!V(t,MediaStream)){Mn.info("Creating MediaStream to add received tracks.");for(var i,n=new MediaStream,r=Lt(t);!(i=r()).done;){var e=i.value;n.addTrack(e)}if(Wn(n))return n}throw Mn.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new y("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Xn=function(t,i){var n=new RTCPeerConnection(i);return Yn(t,n),n};function qn(t){return Vt(function(){return zt(this,function(i){return[2,new ut(function(i){return w(i,t)})]})})()}var Gn,jn,Qn,Yn=function(t,i){i.ontrack=function(i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:if(Mn.info("New track from peer."),Mn.debug("Track event value: ",i),!(n=t.transceiverMap.get(i.transceiver)))return[3,5];r.label=1;case 1:return i.transceiver.mid?[3,4]:[4,qn(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:n(i.transceiver),t.transceiverMap.delete(i.transceiver),r.label=5;case 5:return w(function(){t.emit(Un.track,i)},0),[2]}})})()},i.connectionState?i.onconnectionstatechange=function(n){Mn.info("Peer connection state change: ",i.connectionState),t.emit(Un.connectionStateChange,i.connectionState)}:i.oniceconnectionstatechange=function(n){Mn.info("Peer ICE connection state change: ",i.iceConnectionState),t.emit(Un.connectionStateChange,i.iceConnectionState)},i.onnegotiationneeded=function(t){return Vt(function(){var t,n;return zt(this,function(r){switch(r.label){case 0:return i.remoteDescription?(Mn.info("Peer onnegotiationneeded, updating local description"),[4,i.createOffer()]):[2];case 1:return t=r.sent(),Mn.info("Peer onnegotiationneeded, got local offer",t.sdp),t.sdp=Nn.updateMissingVideoExtensions(t.sdp,i.remoteDescription.sdp),[4,i.setLocalDescription(t)];case 2:return r.sent(),n=Nn.renegotiate(t.sdp,i.remoteDescription.sdp),Mn.info("Peer onnegotiationneeded, updating remote description",n),[4,i.setRemoteDescription({type:"answer",sdp:n})];case 3:return r.sent(),Mn.info("Peer onnegotiationneeded, renegotiation done"),[2]}})})()}},Kn=function(t,i,n){Mn.info("Adding mediaStream tracks to RTCPeerConnection");for(var r,e=Lt(i.getTracks());!(r=e()).done;){var s=r.value,u={streams:[i]};"audio"===s.kind&&(u.direction=n.disableAudio?"inactive":"sendonly"),"video"===s.kind&&(u.direction=n.disableVideo?"inactive":"sendonly",n.scalabilityMode&&(new En).isChrome()?(Mn.debug("Video track with scalability mode: ".concat(n.scalabilityMode,".")),u.sendEncodings=[{scalabilityMode:n.scalabilityMode}]):n.scalabilityMode&&Mn.warn("SVC is only supported in Google Chrome")),t.addTransceiver(s,u),Mn.info("Track '".concat(s.label,"' added: "),"id: ".concat(s.id),"kind: ".concat(s.kind))}},Jn=function(t,i){var n=new En;if(!i.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});n.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter(function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")}))}i.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<i.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Zn=function(t){var i,n=null!=(i=t.connectionState)?i:t.iceConnectionState;switch(n){case"checking":return"connecting";case"completed":return"connected";default:return n}},$n={},tr=C(function(){if(Qn)return jn;Qn=1;var t=(Gn||(Gn=1,k.defineProperty($n,"__esModule",{value:!0}),$n.TypedEmitter=mt().EventEmitter),$n).TypedEmitter,i=function(t){function i(i,n){var r;return(r=t.call(this)||this).namespace=i,r.tm=n,r}Ct(i,t);var n=i.prototype;return n.cmd=function(t,i){return this.tm.cmd(t,i,this.namespace)},n.event=function(t,i){return this.tm.event(t,i,this.namespace)},n.close=function(){return this.tm.namespaces.delete(this.namespace)},i}(t),n=function(t){function n(i){var n;return(n=t.call(this)||this).maxId=0,n.namespaces=new Map,n.transactions=new Map,n.transport=i,n.listener=function(t){var i;try{i=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(i.type){case"cmd":var r=i.transId,e={name:i.name,data:i.data,namespace:i.namespace,accept:function(t){n.bv({type:"response",transId:r,data:t})},reject:function(t){n.bv({type:"error",transId:r,data:t})}};if(e.namespace){var s=n.namespaces.get(e.namespace);s?s.emit("cmd",e):n.emit("cmd",e)}else n.emit("cmd",e);break;case"response":var u=n.transactions.get(i.transId);if(!u)return;n.transactions.delete(i.transId),u.resolve(i.data);break;case"error":var o=n.transactions.get(i.transId);if(!o)return;n.transactions.delete(i.transId),o.reject(i.data);break;case"event":var h={name:i.name,data:i.data,namespace:i.namespace};if(h.namespace){var a=n.namespaces.get(h.namespace);a?a.emit("event",h):n.emit("event",h)}else n.emit("event",h)}},n.transport.addListener?n.transport.addListener("message",n.listener):n.transport.addEventListener("message",n.listener),n}Ct(n,t);var r=n.prototype;return r.bv=function(t){this.transport.send(JSON.stringify(t))},r.cmd=function(t,i,n){var r=this;return void 0===n&&(n=void 0),new ut(function(e,s){if(!t||0===t.length)throw new y("Bad command name");var u={type:"cmd",transId:r.maxId++,name:t,data:i};n&&(u.namespace=n),r.transactions.set(u.transId,g(d({},u),{resolve:e,reject:s}));try{r.bv(u)}catch(t){throw r.transactions.delete(u.transId),t}})},r.event=function(t,i,n){if(void 0===n&&(n=void 0),!t||0===t.length)throw new y("Bad event name");var r={type:"event",name:t,data:i};n&&(r.namespace=n),this.bv(r)},r.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new i(t,this),this.namespaces.set(t,n),n)},r.close=function(){for(var t,i=Lt(this.namespaces.values());!(t=i()).done;)t.value.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(t);return jn=n}()),ir=gt.get("Signaling"),nr="wsConnectionSuccess",rr="wsConnectionError",er="wsConnectionClose",sr="broadcastEvent",ur=function(t){function i(i){var n;return void 0===i&&(i={streamName:null,url:"ws://localhost:8080/"}),(n=t.call(this)||this).streamName=i.streamName,n.wsUrl=i.url,n.webSocket=null,n.transactionManager=null,n.serverId=null,n.clusterId=null,n.streamViewId=null,n}Ct(i,t);var n=i.prototype;return n.connect=function(){return Vt(function(){var t,i;return zt(this,function(n){return t=this,[2,(ir.info("Connecting to Signaling Server"),this.transactionManager&&(null==(i=this.webSocket)?void 0:i.readyState)===WebSocket.OPEN?(ir.info("Connected to server: ",this.webSocket.url),ir.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(nr,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new ut(function(i,n){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new tr(t.webSocket),t.webSocket.onopen=function(){ir.info("WebSocket opened"),t.transactionManager.on("event",function(i){t.emit(sr,i)}),ir.info("Connected to server: ",t.webSocket.url),ir.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(nr,{ws:t.webSocket,tm:t.transactionManager}),i(t.webSocket)},t.webSocket.onerror=function(){ir.error("WebSocket not connected: ",t.webSocket.url),t.emit(rr,t.webSocket.url),n(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,ir.info("Connection closed with Signaling Server."),t.emit(er)}}))]})}).call(this)},n.close=function(){var t;ir.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},n.subscribe=function(t,i,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),Vt(function(){var e,s,u,o,h,a,c,f,v,l,w;return zt(this,function(_){switch(_.label){case 0:ir.info("Starting subscription to streamName: ",this.streamName),ir.debug("Subcription local description: ",t),a=or(i,n,r),t=Nn.adaptCodecName(t,"AV1X",Bn.AV1),c=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:this.streamName,pinnedSourceId:a.pinnedSourceId,excludedSourceIds:a.excludedSourceIds,events:c},a.vad&&(f.vad=!0),Array.isArray(a.events)&&(f.events=a.events),a.forcePlayoutDelay&&(f.forcePlayoutDelay=a.forcePlayoutDelay),a.layer&&(f.layer=a.layer),a.abrConfiguration&&(f.abr={initialBitrate:null==(e=a.abrConfiguration.metadata)?void 0:e.bitrate,strategy:a.abrConfiguration.strategy}),a.customKeys&&(f.customKeys=a.customKeys),a.forceSmooth&&(f.abr=g(d({},f.abr||{}),{forceSmooth:a.forceSmooth})),_.label=1;case 1:if(_.trys.push([1,4,,5]),a.disableVideo&&a.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,this.connect()];case 2:return _.sent(),ir.info("Sending view command",f),[4,this.transactionManager.cmd("view",f)];case 3:return v=_.sent(),l=null==(h=null==(o=null==(u=null==(s=RTCRtpReceiver.getCapabilities)?void 0:s.call(RTCRtpReceiver,"video"))?void 0:u.codecs)?void 0:o.find)?void 0:h.call(o,function(t){return"video/AV1X"===t.mimeType}),[2,(v.sdp=l?Nn.adaptCodecName(v.sdp,Bn.AV1,"AV1X"):v.sdp,ir.info("Command sent, subscriberId: ",v.subscriberId),ir.debug("Command result: ",v),this.serverId=v.subscriberId,this.clusterId=v.clusterId,this.streamViewId=v.streamViewId,Y(this.streamName),K(this.serverId),J(v.streamViewId),nt(this.clusterId),v.sdp)];case 4:throw w=_.sent(),ir.error("Error sending view command, error: ",w),w;case 5:return[2]}})}).call(this)},n.publish=function(t,i,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),Vt(function(){var e,s,u,o,h,a,c,f,v,d,l,w,g,_,m;return zt(this,function(p){switch(p.label){case 0:if(v=hr(i,n,r),ir.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(v.codec)),ir.debug("Publishing local description: ",t),d=null!=(o=null==(u=null==(s=null==(e=Hn.getCapabilities)?void 0:e.call(Hn,"video"))?void 0:s.codecs)?void 0:u.map(function(t){return t.codec}))?o:[],-1===(l=k.values(Bn)).indexOf(v.codec))throw ir.error("Invalid codec ".concat(v.codec,". Possible values are: "),l),new y("Invalid codec ".concat(v.codec,". Possible values are: ").concat(l));if(d.length>0&&-1===d.indexOf(v.codec))throw ir.error("Unsupported codec ".concat(v.codec,". Possible values are: "),d),new y("Unsupported codec ".concat(v.codec,". Possible values are: ").concat(d));if(v.codec===Bn.AV1&&(t=Nn.adaptCodecName(t,"AV1X",Bn.AV1)),w={name:this.streamName,sdp:t,codec:v.codec,sourceId:v.sourceId},v.priority){if(!(Number.isInteger(v.priority)&&v.priority>=-2147483648&&v.priority<=2147483647))throw new y("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");w.priority=v.priority}null!==v.record&&(w.record=v.record),Array.isArray(v.events)&&(w.events=v.events),p.label=1;case 1:if(p.trys.push([1,4,,5]),v.disableVideo&&v.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,this.connect()];case 2:return p.sent(),ir.info("Sending publish command"),[4,this.transactionManager.cmd("publish",w)];case 3:return g=p.sent(),v.codec===Bn.AV1&&(_=null==(f=null==(c=null==(a=null==(h=RTCRtpSender.getCapabilities)?void 0:h.call(RTCRtpSender,"video"))?void 0:a.codecs)?void 0:c.find)?void 0:f.call(c,function(t){return"video/AV1X"===t.mimeType}),g.sdp=_?Nn.adaptCodecName(g.sdp,Bn.AV1,"AV1X"):g.sdp),[2,(ir.info("Command sent, publisherId: ",g.publisherId),ir.debug("Command result: ",g),this.serverId=g.publisherId,this.clusterId=g.clusterId,Y(this.streamName),K(this.serverId),Z(g.feedId),nt(this.clusterId),g.sdp)];case 4:throw m=p.sent(),ir.error("Error sending publish command, error: ",m),m;case 5:return[2]}})}).call(this)},n.cmd=function(t,i){return Vt(function(){return zt(this,function(n){return[2,(ir.info("Sending cmd: ".concat(t)),this.transactionManager.cmd(t,i))]})}).call(this)},i}(jt),or=function(t,i,n){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={vad:t,pinnedSourceId:i,excludedSourceIds:n}),r},hr=function(t,i,n){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={codec:null!=t?t:Bn.H264,record:i,sourceId:n}),r},ar=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).name="FetchError",r.status=n,r}return Ct(i,t),i}(ei(y)),cr=gt.get("Director"),fr="WebRtc",vr="",dr="https://director.millicast.com",lr={setEndpoint:function(t){dr=t.replace(/\/$/,"")},getEndpoint:function(){return dr},setLiveDomain:function(t){vr=t.replace(/\/$/,"")},getLiveDomain:function(){return vr},getPublisher:function(t,i,n){return void 0===i&&(i=null),void 0===n&&(n=fr),Vt(function(){var r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:r=wr(t,i,n),cr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},s={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},u="".concat(lr.getEndpoint(),"/api/director/publish"),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(u,{method:"POST",headers:s,body:JSON.stringify(e)})];case 2:return[4,(o=c.sent()).json()];case 3:if("fail"===(h=c.sent()).status)throw new ar(h.data.message,o.status);return[2,(h=_r(h),cr.debug("Getting publisher response: ",h),Q(h.data.streamAccountId),h.data)];case 4:throw a=c.sent(),cr.error("Error while getting publisher connection path. ",a),a;case 5:return[2]}})})()},getSubscriber:function(t,i,n){return void 0===i&&(i=null),void 0===n&&(n=null),Vt(function(){var r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:r=gr(t,i,n),Q(r.streamAccountId),cr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},s={"Content-Type":"application/json"},r.subscriberToken&&(s=g(d({},s),{Authorization:"Bearer ".concat(r.subscriberToken)})),u="".concat(lr.getEndpoint(),"/api/director/subscribe"),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,fetch(u,{method:"POST",headers:s,body:JSON.stringify(e)})];case 2:return[4,(o=c.sent()).json()];case 3:if("fail"===(h=c.sent()).status)throw new ar(h.data.message,o.status);return[2,(h=_r(h),cr.debug("Getting subscriber response: ",h),r.subscriberToken&&(h.data.subscriberToken=r.subscriberToken),h.data)];case 4:throw a=c.sent(),cr.error("Error while getting subscriber connection path. ",a),a;case 5:return[2]}})})()}},wr=function(t,i,n){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={token:t,streamName:i,streamType:n}),r},gr=function(t,i,n){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={streamName:t,streamAccountId:i,subscriberToken:n}),r},_r=function(t){if(lr.getLiveDomain()){var i=/\/\/(.*?)\//,n=t.data.urls.map(function(t){var n=i.exec(t);return t.replace(n[1],lr.getLiveDomain())});t.data.urls=n}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(lr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(lr.getEndpoint()).concat(e));var s=t.data.drmObject.fairPlayUrl;s&&(t.data.drmObject.fairPlayUrl="".concat(lr.getEndpoint()).concat(s));var u=t.data.drmObject.fairPlayCertUrl;u&&(t.data.drmObject.fairPlayCertUrl="".concat(lr.getEndpoint()).concat(u))}return t};function mr(t){this.message=t}mr.prototype=new y,mr.prototype.name="InvalidCharacterError";var yr=(void 0===f?"undefined":W(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var i=String(t).replace(/=+$/,"");if(i.length%4==1)throw new mr("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,e=0,s=0,u="";r=i.charAt(s++);~r&&(n=e%4?64*n+r:r,e++%4)?u+=String.fromCharCode(255&n>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return u};function pr(t){this.message=t}function kr(t,i){if("string"!=typeof t)throw new pr("Invalid token specified");var n=!0===(i=i||{}).header?0:1;try{return JSON.parse(function(t){var i=t.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(yr(i).replace(/(.)/g,function(t,i){var n=i.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(t){return yr(i)}}(t.split(".")[n]))}catch(t){throw new pr("Invalid token specified: "+t.message)}}pr.prototype=new y,pr.prototype.name="InvalidTokenError";var br,Ar={exports:{}},Tr=(br||(br=1,function(t,i){!function(n){if(null!=i&&"number"!=typeof i.nodeType)t.exports=n();else{var r=n(),e=("undefined"==typeof self?"undefined":W(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(t){this.message=t}return i.prototype=new y,i.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,e,s,u,o=String(n),h=0,a="";h<o.length;){if(r=o.charCodeAt(h++),e=o.charCodeAt(h++),s=o.charCodeAt(h++),r>255||e>255||s>255)throw new i("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");a+=t.charAt((u=r<<16|e<<8|s)>>18&63)+t.charAt(u>>12&63)+t.charAt(u>>6&63)+t.charAt(63&u)}switch(o.length%3){case 0:return a;case 1:return a.slice(0,-2)+"==";case 2:return a.slice(0,-1)+"="}},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,s,u=0,o=0,h="";s=r.charAt(o++);~s&&(e=u%4?64*e+s:s,u++%4)?h+=String.fromCharCode(255&e>>(-2*u&6)):0)s=t.indexOf(s);return h}}})}(Ar,Ar.exports)),Ar.exports);function Sr(t){var i,n,r;return{lang:null!=(i=null==t?void 0:t.lang)?i:void 0,message:null==t?void 0:t.message,abortEarly:null!=(n=null==t?void 0:t.abortEarly)?n:void 0,abortPipeEarly:null!=(r=null==t?void 0:t.abortPipeEarly)?r:void 0}}function Er(t){var i,n,r,e=void 0===t?"undefined":W(t);return"string"===e?'"'.concat(t,'"'):"number"===e||"bigint"===e||"boolean"===e?"".concat(t):"object"===e||"function"===e?null!=(r=t&&(null==(n=null==(i=k.getPrototypeOf(t))?void 0:i.constructor)?void 0:n.name))?r:"null":e}function Ir(t,i,n,r,e){var s,u,o,h,a,c,f,v,d=e&&"input"in e?e.input:n.value,l=null!=(u=null!=(s=null==e?void 0:e.expected)?s:t.expects)?u:null,w=null!=(o=null==e?void 0:e.received)?o:Er(d),g={kind:t.kind,type:t.type,input:d,expected:l,received:w,message:"Invalid ".concat(i,": ").concat(l?"Expected ".concat(l," but r"):"R","eceived ").concat(w),requirement:t.requirement,path:null==e?void 0:e.path,issues:null==e?void 0:e.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},_="schema"===t.kind,m=null!=(v=null!=(f=null!=(c=null!=(a=null!=(h=null==e?void 0:e.message)?h:t.message)?a:function(t,i){var n;return null==(n=void 0)?void 0:n.get(i)}(t.reference,g.lang))?c:_?void g.lang:null)?f:r.message)?v:void g.lang;void 0!==m&&(g.message="function"==typeof m?m(g):m),_&&(n.typed=!1),n.issues?n.issues.push(g):n.issues=[g]}function Rr(t){return{version:1,vendor:"valibot",validate:function(i){return t["~run"]({value:i},Sr())}}}function Cr(t,i){return k.hasOwn(t,i)&&"__proto__"!==i&&"prototype"!==i&&"constructor"!==i}function Pr(t,i){var n,r=[].concat(new Set(t));return r.length>1?"(".concat(r.join(" ".concat(i," ")),")"):null!=(n=r[0])?n:"never"}var Dr,Nr=function(t){function i(i){var n;return(n=t.call(this,i[0].message)||this).name="ValiError",n.issues=i,n}return Ct(i,t),i}(ei(y));function xr(t,i,n){return"function"==typeof t.fallback?t.fallback(i,n):t.fallback}function Br(t,i,n){return"function"==typeof t.default?t.default(i,n):t.default}function Or(t,i){return{kind:"schema",type:"array",reference:Or,expects:"Array",async:!1,item:t,message:i,get"~standard"(){return Rr(this)},"~run":function(t,i){var n,r=t.value;if(Array.isArray(r)){t.typed=!0,t.value=[];for(var e=0;e<r.length;e++){var s=r[e],u=this.item["~run"]({value:s},i);if(u.issues){for(var o,h={type:"array",origin:"value",input:r,key:e,value:s},a=Lt(u.issues);!(o=a()).done;){var c=o.value;c.path?c.path.unshift(h):c.path=[h],null==(n=t.issues)||n.push(c)}if(t.issues||(t.issues=u.issues),i.abortEarly){t.typed=!1;break}}u.typed||(t.typed=!1),t.value.push(u.value)}}else Ir(this,"type",t,i);return t}}}function Mr(t){return{kind:"schema",type:"boolean",reference:Mr,expects:"boolean",async:!1,message:t,get"~standard"(){return Rr(this)},"~run":function(t,i){return"boolean"==typeof t.value?t.typed=!0:Ir(this,"type",t,i),t}}}function Lr(t,i){return{kind:"schema",type:"loose_object",reference:Lr,expects:"Object",async:!1,entries:t,message:i,get"~standard"(){return Rr(this)},"~run":function(t,i){var n,r=t.value;if(r&&"object"==(void 0===r?"undefined":W(r))){for(var e in t.typed=!0,t.value={},this.entries){var s=this.entries[e];if(e in r||("exact_optional"===s.type||"optional"===s.type||"nullish"===s.type)&&void 0!==s.default){var u=e in r?r[e]:Br(s),o=s["~run"]({value:u},i);if(o.issues){for(var h,a={type:"object",origin:"value",input:r,key:e,value:u},c=Lt(o.issues);!(h=c()).done;){var f=h.value;f.path?f.path.unshift(a):f.path=[a],null==(n=t.issues)||n.push(f)}if(t.issues||(t.issues=o.issues),i.abortEarly){t.typed=!1;break}}o.typed||(t.typed=!1),t.value[e]=o.value}else if(void 0!==s.fallback)t.value[e]=xr(s);else if("exact_optional"!==s.type&&"optional"!==s.type&&"nullish"!==s.type&&(Ir(this,"key",t,i,{input:void 0,expected:'"'.concat(e,'"'),path:[{type:"object",origin:"key",input:r,key:e,value:r[e]}]}),i.abortEarly))break}if(!t.issues||!i.abortEarly)for(var v in r)Cr(r,v)&&!(v in this.entries)&&(t.value[v]=r[v])}else Ir(this,"type",t,i);return t}}}function Fr(t,i){return{kind:"schema",type:"nullish",reference:Fr,expects:"(".concat(t.expects," | null | undefined)"),async:!1,wrapped:t,default:i,get"~standard"(){return Rr(this)},"~run":function(t,i){return null!==t.value&&void 0!==t.value||(void 0!==this.default&&(t.value=Br(this,t,i)),null!==t.value&&void 0!==t.value)?this.wrapped["~run"](t,i):(t.typed=!0,t)}}}function Ur(t){return{kind:"schema",type:"number",reference:Ur,expects:"number",async:!1,message:t,get"~standard"(){return Rr(this)},"~run":function(t,i){return"number"!=typeof t.value||S(t.value)?Ir(this,"type",t,i):t.typed=!0,t}}}function Vr(t,i){return{kind:"schema",type:"picklist",reference:Vr,expects:Pr(t.map(Er),"|"),async:!1,options:t,message:i,get"~standard"(){return Rr(this)},"~run":function(t,i){return this.options.includes(t.value)?t.typed=!0:Ir(this,"type",t,i),t}}}function Hr(t){return{kind:"schema",type:"string",reference:Hr,expects:"string",async:!1,message:t,get"~standard"(){return Rr(this)},"~run":function(t,i){return"string"==typeof t.value?t.typed=!0:Ir(this,"type",t,i),t}}}function Wr(t){var i,n;if(t)for(var r,e=Lt(t);!(r=e()).done;){var s=r.value;n?(i=n).push.apply(i,[].concat(s.issues)):n=s.issues}return n}function zr(t,i){return{kind:"schema",type:"union",reference:zr,expects:Pr(t.map(function(t){return t.expects}),"|"),async:!1,options:t,message:i,get"~standard"(){return Rr(this)},"~run":function(t,i){for(var n,r,e,s,u=Lt(this.options);!(s=u()).done;){var o=s.value["~run"]({value:t.value},i);if(o.typed){if(!o.issues){n=o;break}r?r.push(o):r=[o]}else e?e.push(o):e=[o]}if(n)return n;if(r){if(1===r.length)return r[0];Ir(this,"type",t,i,{issues:Wr(r)}),t.typed=!0}else{if(1===(null==e?void 0:e.length))return e[0];Ir(this,"type",t,i,{issues:Wr(e)})}return t}}}function Xr(){return{kind:"schema",type:"unknown",reference:Xr,expects:"unknown",async:!1,get"~standard"(){return Rr(this)},"~run":function(t){return t.typed=!0,t}}}var qr=function(t){function i(i,n,r,e){var s;if(s=t.call(this)||this,Dr=r,!n)throw Dr.error("Token generator is required to construct this module."),new y("Token generator is required to construct this module.");return s.webRTCPeer=new Hn,s.signaling=null,s.autoReconnect=e,s.reconnectionInterval=1e3,s.alreadyDisconnected=!1,s.firstReconnection=!0,s.stopReconnection=!1,s.isReconnecting=!1,s.tokenGenerator=n,s.options=null,s}Ct(i,t);var n=i.prototype;return n.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},n.stop=function(){var t;Dr.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Hn},n.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return Dr.info("Broadcast status: ",t||"not_established"),"connected"===t},n.setReconnect=function(){var t=this;this.signaling.on("migrate",function(){return t.replaceConnection()}),this.autoReconnect&&(this.signaling.on(rr,function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new y("Signaling error: wsConnectionError")}))}),this.webRTCPeer.on(Un.connectionStateChange,function(i){it(i),"connected"===i&&tt(new Date),("failed"===i||"disconnected"===i&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===i?(t.alreadyDisconnected=!0,w(function(){return t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})},1500)):t.alreadyDisconnected=!1}))},n.reconnect=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:i=this,r.label=1;case 1:return r.trys.push([1,4,,5]),Dr.info("Attempting to reconnect..."),this.isActive()||this.stopReconnection||this.isReconnecting?[3,3]:(this.stop(),this.emit("reconnect",{timeout:Gr(this.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new y("Attempting to reconnect")}),this.isReconnecting=!0,[4,this.connect(this.options)]);case 2:r.sent(),this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0,this.isReconnecting=!1,r.label=3;case 3:return[3,5];case 4:return n=r.sent(),this.isReconnecting=!1,this.reconnectionInterval=Gr(this.reconnectionInterval),Dr.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),n),w(function(){return i.reconnect({error:n})},this.reconnectionInterval),[3,5];case 5:return[2]}})}).call(this)},i}(jt),Gr=function(t){return t<32e3?2*t:t},jr=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,Qr="RTCRtpScriptTransform"in f,Yr='(function(){"use strict";function z(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U={exports:{}};/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */var q=U.exports,D;function V(){return D||(D=1,function(t){(function(n){var e={};e.VERSION="1.6.1";var i,r={},o=function(s,u){return function(){return u.apply(s,arguments)}},a=function(){var s=arguments,u=s[0],h,c;for(c=1;c<s.length;c++)for(h in s[c])!(h in u)&&s[c].hasOwnProperty(h)&&(u[h]=s[c][h]);return u},d=function(s,u){return{value:s,name:u}};e.TRACE=d(1,"TRACE"),e.DEBUG=d(2,"DEBUG"),e.INFO=d(3,"INFO"),e.TIME=d(4,"TIME"),e.WARN=d(5,"WARN"),e.ERROR=d(8,"ERROR"),e.OFF=d(99,"OFF");var l=function(s){this.context=s,this.setLevel(s.filterLevel),this.log=this.info};l.prototype={setLevel:function(s){s&&"value"in s&&(this.context.filterLevel=s)},getLevel:function(){return this.context.filterLevel},enabledFor:function(s){var u=this.context.filterLevel;return s.value>=u.value},trace:function(){this.invoke(e.TRACE,arguments)},debug:function(){this.invoke(e.DEBUG,arguments)},info:function(){this.invoke(e.INFO,arguments)},warn:function(){this.invoke(e.WARN,arguments)},error:function(){this.invoke(e.ERROR,arguments)},time:function(s){typeof s=="string"&&s.length>0&&this.invoke(e.TIME,[s,"start"])},timeEnd:function(s){typeof s=="string"&&s.length>0&&this.invoke(e.TIME,[s,"end"])},invoke:function(s,u){i&&this.enabledFor(s)&&i(u,a({level:s},this.context))}};var f=new l({filterLevel:e.OFF});(function(){var s=e;s.enabledFor=o(f,f.enabledFor),s.trace=o(f,f.trace),s.debug=o(f,f.debug),s.time=o(f,f.time),s.timeEnd=o(f,f.timeEnd),s.info=o(f,f.info),s.warn=o(f,f.warn),s.error=o(f,f.error),s.log=s.info})(),e.setHandler=function(s){i=s},e.setLevel=function(s){f.setLevel(s);for(var u in r)r.hasOwnProperty(u)&&r[u].setLevel(s)},e.getLevel=function(){return f.getLevel()},e.get=function(s){return r[s]||(r[s]=new l(a({name:s},f.context)))},e.createDefaultHandler=function(s){s=s||{},s.formatter=s.formatter||function(p,_){_.name&&p.unshift("["+_.name+"]")};var u={},h=function(c,p){Function.prototype.apply.call(c,console,p)};return typeof console>"u"?function(){}:function(c,p){c=Array.prototype.slice.call(c);var _=console.log,g;p.level===e.TIME?(g=(p.name?"["+p.name+"] ":"")+c[0],c[1]==="start"?console.time?console.time(g):u[g]=new Date().getTime():console.timeEnd?console.timeEnd(g):h(_,[g+": "+(new Date().getTime()-u[g])+"ms"])):(p.level===e.WARN&&console.warn?_=console.warn:p.level===e.ERROR&&console.error?_=console.error:p.level===e.INFO&&console.info?_=console.info:p.level===e.DEBUG&&console.debug?_=console.debug:p.level===e.TRACE&&console.trace&&(_=console.trace),s.formatter(c,p),h(_,c))}},e.useDefaults=function(s){e.setLevel(s&&s.defaultLevel||e.DEBUG),e.setHandler(e.createDefaultHandler(s))},e.setDefaults=e.useDefaults,t.exports?t.exports=e:(e._prevLogger=n.Logger,e.noConflict=function(){return n.Logger=e._prevLogger,e},n.Logger=e)})(q)}(U)),U.exports}var j=V(),R=z(j);class w{constructor(n){this.data=n,this.bitOffset=0}readBits(n){if(this.bitOffset+n>this.data.length*8)throw new Error("Attempted to read past the end of the bitstream");let e=0;for(let i=0;i<n;i++){const r=Math.floor(this.bitOffset/8),o=7-this.bitOffset%8,a=this.data[r]>>o&1;e|=a<<n-1-i,this.bitOffset++}return e}skip(n){this.bitOffset+=n}readExpGolombUnsigned(){let n=-1;for(let e=0;e===0;n++)e=this.readBits(1);return(1<<n)-1+this.readBits(n)}readExpGolombSigned(){const n=this.readExpGolombUnsigned();return n%2===0?-(n/2):(n+1)/2}}const m={SLICE_NON_IDR:1,SLICE_PARTITION_A:2,SLICE_IDR:5,SEI_H264:6,SEI_H265_PREFIX:39,SEI_H265_SUFFIX:40,SPS_H264:7,SPS_H265:33,PPS_H264:8,PPS_H265:34},G={PIC_TIMING:1,USER_DATA_UNREGISTERED:5},E={LEGACY:1,NEW:2,TIMECODE:3,OTHER:4},Y="6e9cfd2a-5907-49ff-b363-8978a6e8340e",X="9a21f3be-31f0-4b78-b0be-c7f7dbb97250",P="d40e38ea-d419-4c62-94ed-20ac37b4e4fa";class ${constructor(n="H264"){this.sps=new Map,this.pps=new Map,this.activeSPS=null,this.codec=n}collectPPS(n){this.codec==="H264"?this.collectH264PPS(n):this.collectH265PPS(n)}collectSPS(n){this.codec==="H264"?this.collectH264SPS(n):this.collectH265SPS(n)}collectH264SPS(n){const e=new w(n),i=e.readBits(8),r=[100,110,122,244,44,83,86,118,128,138,139,134,135];e.skip(8),e.skip(8);const o=e.readExpGolombUnsigned();if(o>31||o<0)throw new Error("Invalid seq_parameter_set_id");if(r.includes(i)){const l=e.readExpGolombUnsigned();if(l===3&&e.skip(1),e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.skip(1),e.readBits(1)){const s=l!==3?8:12;for(let u=0;u<s;u++)if(e.readBits(1)){const h=u<6?16:64;let c=8,p=8;for(let _=0;_<h;_++){if(p!==0){const g=e.readExpGolombSigned();p=(c+g+256)%256}c=p===0?c:p}}}}e.readExpGolombUnsigned();const a=e.readExpGolombUnsigned();if(a===0)e.readExpGolombUnsigned();else if(a===1){e.skip(1),e.readExpGolombSigned(),e.readExpGolombSigned();const l=e.readExpGolombUnsigned();for(let f=0;f<l;f++)e.readExpGolombSigned()}e.readExpGolombUnsigned(),e.skip(1),e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.readBits(1)===0&&e.skip(1),e.skip(1),e.readBits(1)&&(e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.readExpGolombUnsigned(),e.readExpGolombUnsigned());let d;if(e.readBits(1)){let f=function(c){const p=c.readExpGolombUnsigned();c.skip(4),c.skip(4);for(let x=0;x<=p;x++)c.readExpGolombUnsigned(),c.readExpGolombUnsigned(),c.skip(1);c.skip(5);const _=c.readBits(5),g=c.readBits(5),B=c.readBits(5);return{cpb_removal_delay_length_minus1:_,dpb_output_delay_length_minus1:g,time_offset_length:B}};e.readBits(1)&&e.readBits(8)===255&&(e.skip(16),e.skip(16)),e.readBits(1)&&e.skip(1),e.readBits(1)&&(e.skip(3),e.skip(1),e.readBits(1)&&e.skip(24)),e.readBits(1)&&(e.readExpGolombUnsigned(),e.readExpGolombUnsigned());const l=e.readBits(1)?{num_units_in_tick:e.readBits(32),time_scale:e.readBits(32),fixed_frame_rate_flag:e.readBits(1)}:void 0,s=e.readBits(1)?f(e):void 0,u=e.readBits(1)?f(e):void 0;(s||u)&&e.skip(1);const h=e.readBits(1);d={timing_info:l,nal_hrd_parameters:s,vcl_hrd_parameters:u,pic_struct_present_flag:h}}this.sps.set(o,{vui_parameters:d})}collectH265SPS(n){}collectH264PPS(n){const e=new w(n),i=e.readExpGolombUnsigned();if(i>255||i<0)throw new Error("Invalid pic_parameter_set_id");const r=e.readExpGolombUnsigned();this.pps.set(i,{seq_parameter_set_id:r})}collectH265PPS(n){}findActiveSPS(n){const e=new w(n);e.readExpGolombUnsigned(),e.readExpGolombUnsigned();const i=e.readExpGolombUnsigned(),r=this.pps.get(i);if(r){const o=this.sps.get(r.seq_parameter_set_id);if(o){this.activeSPS=o;return}}throw new Error("Cannot find the active SPS")}}const S=new $;function O(t,n){for(;n<t.byteLength-4;){if(t[n]===0&&t[n+1]===0&&(t[n+2]===1||t[n+2]===0&&t[n+3]===1))return n;n+=1}return-1}function T(t){const n=new Uint8Array(t.byteLength);let e=0,i=0;for(let r=2;r<t.byteLength;r++)t[r]===3&&t[r-1]===0&&t[r-2]===0&&(n.set(t.subarray(i,r),e),e+=r-i,i=r+1);return i<t.byteLength&&n.set(t.subarray(i),e),n}function J(t,n){let e=0;const i=n==="H264"?1:2,r=[];for(;e<t.byteLength-4;){const o=O(t,e);if(o>=e){const a=t[o+2]===1?3:4,d=O(t,o+a+i);if(d>o)r.push(t.subarray(o,d)),e=d;else{r.push(t.subarray(o));break}}else break}return r}function K(t,n){let e=!0;return J(t,n).filter(i=>{const r=i[2]===1?3:4,o=n==="H264"?1:2,a=i[r],d=n==="H264"?a&31:a>>1&63;if(e)switch(d){case m.PPS_H264:case m.PPS_H265:S.collectPPS(T(i.subarray(r+o)));break;case m.SPS_H264:case m.SPS_H265:S.collectSPS(T(i.subarray(r+o)));break;case m.SLICE_IDR:case m.SLICE_NON_IDR:case m.SLICE_PARTITION_A:try{S.findActiveSPS(T(i.subarray(r+o))),e=!1}catch(l){console.info("Failed to find active SPS. Will not be able to extract PIC timing metadata")}break}return[m.SEI_H264,m.SEI_H265_PREFIX,m.SEI_H265_SUFFIX].includes(d)})}function Z(t){let n=0,e=0;for(;t[e]===255;)n+=255,e++;n+=t[e],e++;let i=0;for(;t[e]===255;)i+=255,e++;return i+=t[e],e++,{type:n,content:t.subarray(e,e+i)}}function Q(t){const n=new Uint8Array(L(X)),e=new Uint8Array(L(Y)),i=new Uint8Array(L(P));return n.every((r,o)=>r===t[o])?E.TIMECODE:e.every((r,o)=>r===t[o])?E.LEGACY:i.every((r,o)=>r===t[o])?E.NEW:E.OTHER}function ee(t,n){let e=0;t.uuid=n.subarray(e,e+16),e+=16;const i=Q(t.uuid),r=n.subarray(e);switch(i){case E.LEGACY:case E.OTHER:t.unregistered=r;break;case E.TIMECODE:t.timecode=C(r);break;case E.NEW:{let o=0;const a=H(Date.now()).length,d=r.subarray(o,a);o+=a;const l=r.subarray(o);t.timecode=C(d),t.unregistered=l;break}}}function C(t){const n=t.reduce((o,a)=>(o<<BigInt(8))+BigInt(a),BigInt(0)),e=Number(n),i=new Date(e);return new TextEncoder().encode(i.toISOString())}function te(t,n){var f,s,u,h,c;if(!S.activeSPS){console.warn("Cannot find the active SPS");return}const e=(f=S.activeSPS.vui_parameters.nal_hrd_parameters)!=null?f:S.activeSPS.vui_parameters.vcl_hrd_parameters,i={cpb_dpb_delays_present_flag:e?1:0,cpb_removal_delay_length_minus1:(s=e==null?void 0:e.cpb_removal_delay_length_minus1)!=null?s:23,dpb_output_delay_length_minus1:(u=e==null?void 0:e.dpb_output_delay_length_minus1)!=null?u:23,time_offset_length:e?(h=e.time_offset_length)!=null?h:24:void 0,pic_struct_present_flag:(c=S.activeSPS.vui_parameters.pic_struct_present_flag)!=null?c:0};if(!i.pic_struct_present_flag){console.warn("pic_struct_present_flag is not present");return}const r=new w(n);i.cpb_dpb_delays_present_flag&&(r.skip(i.cpb_removal_delay_length_minus1+1),r.skip(i.dpb_output_delay_length_minus1+1));const o=[1,1,1,2,2,3,3,2,3],a=r.readBits(4);if(a>=o.length)throw new Error("Invalid pic_struct");const d=o[a],l=[];for(let p=0;p<d;p++)if(r.readBits(1)){const g={};r.skip(2),r.skip(1),r.skip(5);const B=r.readBits(1);if(r.skip(2),g.n_frames=r.readBits(8),B?(g.seconds_value=r.readBits(6),g.minutes_value=r.readBits(6),g.hours_value=r.readBits(5)):r.readBits(1)&&(g.seconds_value=r.readBits(6),r.readBits(1)&&(g.minutes_value=r.readBits(6),r.readBits(1)&&(g.hours_value=r.readBits(5)))),i.time_offset_length)try{g.time_offset=r.readBits(i.time_offset_length)}catch(x){console.error("Failed to read time_offset",x),g.time_offset=0}else g.time_offset=0;l.push(g)}t.seiPicTimingTimeCodeArray=l}function ne(t,n){if(n!=="H264"&&n!=="H265")throw new Error("Unsupported codec ".concat(n));const e={};return S.codec=n,K(new Uint8Array(t.data),n).forEach(i=>{const r=i[2]===1?3:4,o=n==="H264"?1:2,a=T(i.subarray(r+o)),d=Z(a);switch(d.type){case G.PIC_TIMING:te(e,d.content);break;case G.USER_DATA_UNREGISTERED:ee(e,d.content);break}}),e}function re(t){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(t)}function L(t){return t.replace(/-/g,"").match(/.{1,2}/g).map(n=>parseInt(n,16))}function ie(t,n,e){const i=new Uint8Array(L(t)),r=H(e),o=new TextEncoder().encode(JSON.stringify(n)),a=new Uint8Array(i.length+r.length+o.length);return a.set(i),a.set(r,i.length),a.set(o,r.length+i.length),a}function se(t){const n=[],e=Math.floor(t.byteLength/255),i=t.byteLength%255;for(let r=0;r<e;r++)n.push(255);return n.push(i),new Uint8Array([5,...n])}function oe(t){const n=[];for(let e=0;e<t.byteLength;e++)e+2<t.byteLength&&[0,1,2,3].includes(t[e+2])&&t[e]===0&&t[e+1]===0?(n.push(t[e]),n.push(t[e+1]),e+=2,n.push(3)):n.push(t[e]);return n.push(128),new Uint8Array(n)}function H(t){const n=[];if(!isNaN(t)){const e=BigInt(t);for(let i=0;i<Math.ceil(Math.floor(Math.log2(new Number(t))+1)/8);i++)n.unshift(new Number(e>>BigInt(8*i)&BigInt(255)))}return new Uint8Array(n)}function ae({uuid:t,payload:n,timecode:e}){const i=[0,0,0,1],r=[102],o=ie(t,n,e),a=se(o),d=oe(o),l=new Uint8Array(i.length+r.length+a.length+d.length);return l.set(i),l.set(r,i.length),l.set(a,i.length+r.length),l.set(d,i.length+r.length+a.length),l}function ce({uuid:t,payload:n,timecode:e},i){if(t===""||n==="")throw new Error("uuid and payload cannot be empty");re(t)||(console.warn("Invalid UUID. Using default UUID."),t=P,e=Date.now());const r=ae({uuid:t,payload:n,timecode:e}),o=new DataView(i.data),a=new ArrayBuffer(i.data.byteLength+r.byteLength),d=new DataView(a);for(let l=0;l<i.data.byteLength;l++)d.setUint8(l,o.getUint8(l));for(let l=0;l<r.byteLength;l++)d.setUint8(i.data.byteLength+l,r[l]);i.data=a}R.get("TransformWorker").setLevel(R.DEBUG);const le=2e3,b=[];let y="",k={};const v={};let I=[];function M(t){return new TransformStream({start(){},flush(){},async transform(n,e){var i,r;if(N(n)){const o=((i=k[n.getMetadata().payloadType])==null?void 0:i.toUpperCase())||(y==null?void 0:y.toUpperCase());if(o==="H264"){const a=ne(n,o);(a.timecode||a.unregistered||((r=a.seiPicTimingTimeCodeArray)==null?void 0:r.length)>0)&&self.postMessage({event:"metadata",mid:t,metadata:a})}self.postMessage({event:"complete",frame:{type:n.type,timestamp:n.timestamp,data:n.data}})}e.enqueue(n)}})}function N(t){if(typeof RTCEncodedVideoFrame<"u")try{if(t instanceof RTCEncodedVideoFrame)return!0}catch(n){}return!!(t.constructor&&t.constructor.name==="RTCEncodedVideoFrame"||typeof t.width=="number"&&typeof t.height=="number"||t.type==="video")}function F(){Object.keys(v).sort().join()===I.sort().join()&&(b.shift(),I=[])}function de(t){const n=new Date().getTime();v[t]=n,Object.keys(v).filter(i=>n-v[i]>le).forEach(i=>{delete v[i],delete I[i]}),F()}function W(){return new TransformStream({start(){},flush(){},async transform(t,n){if(N(t)){const i=t.getMetadata().synchronizationSource;if(de(i),!I.includes(i)&&b.length)try{if(!/(h26[4])/.test(y))throw new Error("Sending metadata is not supported with any other codec other than H.264");b[0].uuid===P&&(b[0].timecode=Date.now()),ce(b[0],t),I.push(i)}catch(r){console.error(r)}finally{F()}}n.enqueue(t)}})}function A({readable:t,writable:n},e){t.pipeThrough(e).pipeTo(n)}addEventListener("rtctransform",t=>{let n;if(t.transformer.options.name==="senderTransform")y=t.transformer.options.codec,n=W();else if(t.transformer.options.name==="receiverTransform")k=t.transformer.options.payloadTypeCodec||{},y=t.transformer.options.codec||"",n=M(t.transformer.options.mid);else return;A(t.transformer,n)}),addEventListener("message",t=>{const{action:n}=t.data;switch(n){case"insertable-streams-sender":y=t.data.codec,A(t.data,W());break;case"insertable-streams-receiver":k=t.data.payloadTypeCodec||{},y=t.data.codec||"",A(t.data,M(t.data.mid));break;case"metadata-sei-user-data-unregistered":b.push({uuid:t.data.uuid,payload:t.data.payload});break}})})();\n',Kr=("undefined"==typeof self?"undefined":W(self))<"u"&&self.Blob&&new Blob([Yr],{type:"text/javascript;charset=utf-8"});function Jr(t){var i;try{if(!(i=Kr&&(self.URL||self.webkitURL).createObjectURL(Kr)))throw"";var n=new I(i,{name:null==t?void 0:t.name});return n.addEventListener("error",function(){(self.URL||self.webkitURL).revokeObjectURL(i)}),n}catch(i){return new I("data:text/javascript;charset=utf-8,"+encodeURIComponent(Yr),{name:null==t?void 0:t.name})}finally{i&&(self.URL||self.webkitURL).revokeObjectURL(i)}}var Zr,$r=gt.get("Publish"),te={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:Bn.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ie=function(t){function i(i,n,r){return void 0===r&&(r=!0),i&&$r.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,n,$r,r)||this}Ct(i,t);var n=i.prototype;return n.connect=function(){return Vt(function(t){return zt(this,function(i){switch(i.label){case 0:return void 0===t&&(t=te),ne(t),this.options=g(d(d({},te),t),{peerConfig:d(d({},te.peerConfig),t.peerConfig),setSDPToPeer:!1}),this.options.metadata=this.options.metadata&&this.options.codec===Bn.H264&&!this.options.disableVideo,[4,this.initConnection({migrate:!1})];case 1:return i.sent(),[2]}})}).apply(this,arguments)},n.reconnect=function(i){var n=this;return Vt(function(){var r,e;return zt(this,function(s){return this.options.mediaStream=null!=(e=null==(r=this.webRTCPeer)?void 0:r.getTracks())?e:this.options.mediaStream,t.prototype.reconnect.call(n,i),[2]})}).call(this)},n.replaceConnection=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return $r.info("Migrating current connection"),this.options.mediaStream=null!=(i=null==(t=this.webRTCPeer)?void 0:t.getTracks())?i:this.options.mediaStream,[4,this.initConnection({migrate:!0})];case 1:return n.sent(),[2]}})}).call(this)},n.record=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.recordingAvailable?(this.options.record=!0,[4,null==(t=this.signaling)?void 0:t.cmd("record")]):[3,2];case 1:return i.sent(),$r.info("Broadcaster start recording"),[3,3];case 2:$r.error("Record not available"),i.label=3;case 3:return[2]}})}).call(this)},n.unrecord=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.recordingAvailable?(this.options.record=!1,[4,null==(t=this.signaling)?void 0:t.cmd("unrecord")]):[3,2];case 1:return i.sent(),$r.info("Broadcaster stop recording"),[3,3];case 2:$r.error("Unrecord not available"),i.label=3;case 3:return[2]}})}).call(this)},n.stop=function(){var i;t.prototype.stop.call(this),null==(i=this.worker)||i.terminate(),this.worker=null},n.initConnection=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_;return zt(this,function(m){switch(m.label){case 0:if(i=this,$r.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,!this.options.mediaStream)throw $r.error("Error while broadcasting. MediaStream required"),new y("MediaStream required");if(!t.migrate&&this.isActive())throw $r.warn("Broadcast currently working"),new y("Broadcast currently working");m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.tokenGenerator()];case 2:return s=m.sent(),this.options.peerConfig.iceServers=null==s?void 0:s.iceServers,this.options.peerConfig.encodedInsertableStreams=this.options.metadata,[3,4];case 3:throw u=m.sent(),$r.error("Error generating token."),V(u,ar)&&(401!==u.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),u;case 4:if(!s)throw $r.error("Error while broadcasting. Publisher data required"),new y("Publisher data required");if(o=kr(s.jwt),this.streamName=o.millicast.streamName,this.recordingAvailable=o[Tr.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw $r.error("Error while broadcasting. Record option detected but recording is not available"),new y("Record option detected but recording is not available");return h=new ur({streamName:this.streamName,url:"".concat(s.urls[0],"?token=").concat(s.jwt)}),[4,(a=t.migrate?new Hn:this.webRTCPeer).createRTCPeer(this.options.peerConfig,Ln)];case 5:return m.sent(),null==(n=this.stopReemitingWebRTCPeerInstanceEvents)||n.call(this),null==(r=this.stopReemitingSignalingInstanceEvents)||r.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Kt(a,this,[Un.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=Kt(h,this,[sr]),c=a.getRTCLocalSDP(this.options),f=h.connect(),[4,ut.all([c,f])];case 6:return e=m.sent(),v=e[0],this.options.metadata&&(this.worker||(this.worker=new Jr),this.getRTCPeerConnection().getSenders().forEach(function(t){if(Qr)t.transform=new RTCRtpScriptTransform(i.worker,{name:"senderTransform",codec:i.options.codec});else if(jr){var n=t.createEncodedStreams(),r=n.readable,e=n.writable;i.worker.postMessage({action:"insertable-streams-sender",codec:i.options.codec,readable:r,writable:e},[r,e])}})),d=this.signaling,this.signaling=h,l=this.signaling.publish(v,this.options),w=a.peer.setLocalDescription(a.sessionDescription),[4,ut.all([l,w])];case 7:return e=m.sent(),g=e[0],!this.options.disableVideo&&this.options.bandwidth>0&&(g=a.updateBandwidthRestriction(g,this.options.bandwidth)),[4,a.setRTCRemoteSDP(g)];case 8:return m.sent(),$r.info("Broadcasting to streamName: ",this.streamName),_=this.webRTCPeer,this.webRTCPeer=a,this.setReconnect(),t.migrate&&this.webRTCPeer.on(Un.connectionStateChange,function(t){var i,n;["connected","disconnected","failed","closed"].includes(t)&&(null==(i=null==d?void 0:d.close)||i.call(d),null==(n=null==_?void 0:_.closeRTCPeer)||n.call(_),d=_=null)}),[2]}})}).call(this)},n.sendMetadata=function(t,i){var n;if(void 0===i&&(i="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(n=this.options)&&n.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:i,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==Bn.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",$r.warn(r)}},i}(qr),ne=function(t){var i=function(t,i,n){var r=t["~run"]({value:i},Sr(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}(Zr=Zr||Lr({sourceId:Fr(Hr()),stereo:Fr(Mr()),dtx:Fr(Mr()),absCaptureTime:Fr(Mr()),dependencyDescriptor:Fr(Mr()),mediaStream:Fr(zr([Or(Xr()),Xr()])),bandwidth:Fr(Ur()),metadata:Fr(Mr()),disableVideo:Fr(Mr()),disableAudio:Fr(Mr()),codec:Fr(Vr(k.values(Bn))),simulcast:Fr(Mr()),scalabilityMode:Fr(Hr()),peerConfig:Fr(Lr({autoInitStats:Fr(Mr()),statsIntervalMs:Fr(Ur())})),record:Fr(Mr()),events:Fr(Or(Vr(["active","inactive","viewercount"]))),priority:Fr(Ur())}),t),n=i.success,r=i.issues;n||$r.warn(new Nr(r),t)};function re(t){if(!t)return new E;for(var i=t.length,n=new E(i/2),r=0;r<i;r+=2)n[r/2]=A(t.substr(r,2),16);return n}function ee(t,i,n){if(k.prototype.hasOwnProperty.call(t,n)&&k.prototype.hasOwnProperty.call(i,n)){var r=t[n];t[n]=i[n],i[n]=r}else console.error('One or both objects do not have the property "'.concat(n,'"'))}function se(t,i,n,r){return new(n||(n=ut))(function(e,s){function u(t){try{h(r.next(t))}catch(t){s(t)}}function o(t){try{h(r.throw(t))}catch(t){s(t)}}function h(t){var i;t.done?e(t.value):(i=t.value,V(i,n)?i:new n(function(t){t(i)})).then(u,o)}h((r=r.apply(t,i||[])).next())})}var ue,oe=he;function he(t,i){var n=_e();return(he=function(t,i){return n[t-=440]})(t,i)}!function(){for(var t=he,i=_e();;)try{if(-A(t(447))/1+A(t(445))/2+A(t(449))/3*(A(t(454))/4)+A(t(453))/5+-A(t(456))/6+A(t(450))/7+-A(t(441))/8*(-A(t(455))/9)==847340)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var ae=l&&l[oe(448)]||"",ce=l&&l[oe(443)]||"",fe=!(null==f||!f.RTCRtpScriptTransform),ve=ae.includes("Firefox"),de=!ve&&ce.includes("Apple"),le=!ve&&!de&&ae[oe(440)](oe(451)),we=!ve&&!de&&!le&&ae[oe(440)](oe(446)),ge=(null===(ue=null==l?void 0:l[oe(442)])||void 0===ue?void 0:ue[oe(452)])||(null==l?void 0:l[oe(452)])||"";function _e(){var t=["1583117AOxBcs","userAgent","153Sdjzsk","5371359GvUFPp","Edg","platform","7141470dfeDnP","10068LWEgOs","243621EPkoPw","8310150fEFCnA","includes","328VMcnkw","userAgentData","vendor","Win32","763310RGZQro","Chrome"];return(_e=function(){return t})()}var me={supportsRtpScriptTransform:fe,isFirefox:ve,isSafari:de,isEdge:le,isChrome:we,platform:ge,isWindows:"Windows"===ge||ge===oe(444)},ye=pe;function pe(t,i){var n=Se();return(pe=function(t,i){return n[t-=300]})(t,i)}!function(){for(var t=pe,i=Se();;)try{if(-A(t(327))/1+A(t(304))/2*(A(t(300))/3)+-A(t(332))/4*(A(t(316))/5)+-A(t(322))/6*(A(t(311))/7)+A(t(308))/8*(-A(t(307))/9)+A(t(314))/10*(A(t(302))/11)+A(t(329))/12==997665)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var ke=function(){function t(t){this[pe(310)]=t}var i=t.prototype;return i[ye(323)]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,e=ye;Ae[e(319)]>=4&&(r=console)[e(323)].apply(r,[].concat([this[e(310)]],i))},i[ye(331)]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,e=ye;Ae[e(319)]>=3&&(r=console)[e(331)].apply(r,[].concat([this[e(310)]],i))},i[ye(320)]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,e=ye;Ae[e(319)]>=2&&(r=console)[e(320)].apply(r,[].concat([this[e(310)]],i))},i.error=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r;Ae[ye(319)]>=1&&(r=console).error.apply(r,[].concat([this.tag],i))},t}();function be(t){return new ke(t)}var Ae={logLevel:3,mediaDumps:{video:{in:{durationMs:0,delimited:!0},out:{durationMs:0}},audio:{in:{durationMs:0},out:{durationMs:0}}}};function Te(){return(new Date)[ye(317)]().slice(11,-1)}function Se(){var t=["mediaBuffer","click","529321KfbOwo","endTimestampMs","28972188cmcnxe","containerFileExt","info","4ZlZeJQ","9kyfNFe","mediaType","172953TzXwsI","byteLength","1327806tybvjI","href","createObjectURL","1089qysnCz","112088WLFXHK","substring","tag","692993ZcAeLj","set","download","810qiScYX","startTimestampMs","8821555KArxhe","toISOString","application/octet-stream","logLevel","warn","revokeObjectURL","42PDuKrJ","debug","targetDurationMs"];return(Se=function(){return t})()}var Ee=function(){function t(t,i,n){var r=ye;this[r(325)]=null,this[r(315)]=-1,this.endTimestampMs=-1,this[r(301)]=t,this[r(330)]=i,this[r(324)]=n,n>0&&(this[r(325)]=new E)}return t.prototype.append=function(t,i){var n,r,e,s,u=ye;if(!this[u(325)])return!1;if(this[u(325)]=(n=this[u(325)],r=t,(s=new E((0|n[(e=ye)(303)])+(0|r.byteLength)))[e(312)](n,0),s[e(312)](r,0|n.byteLength),s),void 0!==i)if(-1===this[u(315)])this.startTimestampMs=i,this[u(328)]=i+this[u(324)];else if(i>=this[u(328)]){var o=(new Date)[u(317)]()[u(309)](0,19).replace(/:/g,"-"),h=this.mediaType+"-"+o+"."+this.containerFileExt;return function(t,i,n){void 0===n&&(n=ye(318));var r=ye,e=v.createElement("a"),s=new Blob([t],{type:n});e.href=URL[r(306)](s),e[r(313)]=i,e[r(326)](),URL[r(321)](e[r(305)])}(this[u(325)],h),this.mediaBuffer=null,!1}return!0},t}(),Ie=De;!function(){for(var t=De,i=Xe();;)try{if(A(t(160))/1+-A(t(363))/2+-A(t(321))/3*(-A(t(401))/4)+A(t(229))/5+-A(t(276))/6+A(t(400))/7*(-A(t(153))/8)+-A(t(223))/9==858456)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var Re=be("[MUX]"),Ce=me[Ie(387)];function Pe(t,i){var n=Ie,r=new E((0|t[n(413)])+(0|i[n(413)]));return r.set(t,0),r[n(251)](i,0|t[n(413)]),r}function De(t,i){var n=Xe();return(De=function(t,i){return n[t-=147]})(t,i)}function Ne(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=1/0),function(t,i,n,r){var e=Ie,s=r[e(425)]||1;i*=s,n*=s;var u,o=V(u=t,ArrayBuffer)?u:u[Ie(366)],h=(t[e(188)]||0)+t[e(413)],a=(t[e(188)]||0)+i,c=b[e(177)](0,b[e(291)](a,h)),f=b[e(291)](c+b[e(177)](n,0),h);return new r(o,c/=s,(f/=s)-c)}(t,i,n,E)}function xe(t){var i=Ie,n=Array.from(t)[i(238)](function(t){return t[i(384)](0)});return new E(n)}var Be=function(t,i,n,r,e,s,u,o,h,a,c,f,v,d,l){function w(t){var i=Ie;this[i(452)]=t,this[i(402)]=(96&this[i(452)][0])>>5,this[i(186)]=31&this[i(452)][0],this.isvcl=1==this[i(186)]||5==this[i(186)],this[i(309)]="",this.isfmb=!1}var g=w.prototype;return g[o]=function(){var t=Ie;return w[t(234)](this)+": NRI: "+this[t(209)]()},g[h]=function(){return this[Ie(402)]},g[a]=function(){return this[Ie(186)]},g[c]=function(){return this[Ie(186)]===w.IDR},g[f]=function(){return this[Ie(452)]},g[v]=function(){return this[Ie(452)].byteLength},g[d]=function(){return 4+this[Ie(327)]()},g[l]=function(){var t=Ie,i=new E(this[t(194)]());return new DataView(i[t(366)]).setUint32(0,this[t(194)]()-4),i[t(251)](this.getPayload(),4),i},w[u]=function(t){var i=Ie;return t[i(186)]in w[i(159)]?w[i(159)][t.ntype]:i(344)},Nt(w,null,[{key:t,get:function(){return 1}},{key:i,get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:n,get:function(){return 7}},{key:r,get:function(){return 8}},{key:e,get:function(){return 9}},{key:s,get:function(){var t,i=Ie;return(t={})[w[i(427)]]=i(427),t[w[i(273)]]=i(273),t[w[i(324)]]=i(324),t[w.PPS]="PPS",t[w[i(449)]]="NDR",t[w.AUD]=i(272),t}}]),w}(Ie(449),Ie(427),Ie(324),Ie(379),Ie(272),Ie(159),Ie(234),Ie(365),Ie(209),Ie(234),Ie(306),Ie(203),Ie(327),Ie(194),Ie(341)),Oe=function(){function t(t){var i=Ie;this[i(316)]=t,this[i(368)]=0,this[i(157)]=8*t.byteLength}var i=t.prototype;return i[Ie(433)]=function(t){var i=Ie;this.data=t,this[i(368)]=0,this.bitLength=8*t[i(413)]},i.skipBits=function(t){var i=Ie;if(this[i(451)]<t)return!1;this[i(368)]+=t},i[Ie(338)]=function(t,i){void 0===i&&(i=!0);var n=Ie;return this[n(259)](t,this[n(368)],i)},i.getBits=function(t,i,n){void 0===n&&(n=!0);var r=Ie;if(this[r(451)]<t)return 0;var e=i%8,s=this.data[i/8|0]&255>>>e,u=8-e;if(u>=t)return n&&(this[r(368)]+=t),s>>u-t;n&&(this[r(368)]+=u);var o=t-u;return s<<o|this[r(259)](o,i+u,n)},i[Ie(444)]=function(){var t,i=Ie;for(t=0;t<this[i(157)]-this[i(368)];++t)if(0!==this[i(259)](1,this[i(368)]+t,!1))return this[i(368)]+=t,t;return t},i[Ie(334)]=function(){var t=Ie;this[t(155)](1+this[t(444)]())},i.skipEG=function(){var t=Ie;this[t(155)](1+this[t(444)]())},i[Ie(179)]=function(){var t=Ie,i=this.skipLZ();return this[t(338)](i+1)-1},i[Ie(248)]=function(){var t=this[Ie(179)]();return 1&t?1+t>>>1:-1*(t>>>1)},i[Ie(239)]=function(){return 1===this[Ie(338)](1)},i[Ie(419)]=function(t){return void 0===t&&(t=1),this.readBits(8*t)},i[Ie(232)]=function(){return this.readBits(16)},i.readUInt=function(){return this[Ie(338)](32)},Nt(t,[{key:Ie(451),get:function(){return this[Ie(157)]-this.index}}]),t}(),Me=function(t,i,n,r,e,s,u){function o(t){var i=Ie;this.remuxer=t,this[i(233)]=t.mp4track}var h=o.prototype;return h[e]=function(t){var i=Ie,n=o[i(432)](new E(t));this.track[i(237)]=n.width,this[i(233)].height=n.height,this.track[i(382)]=[new E(t)],this.track[i(210)]=i(292);for(var r=new DataView(t.buffer,t[i(188)]+1,4),e=0;e<3;++e){var s=r[i(313)](e)[i(365)](16);s[i(268)]<2&&(s="0"+s),this.track[i(210)]+=s}},h[s]=function(t){var i=Ie;this[i(233)][i(434)]=[new E(t)]},h[u]=function(t){var i=Ie;if(!t)return!1;var n=!1;switch(t[i(234)]()){case Be[i(427)]:case Be.NDR:n=!0;break;case Be[i(379)]:!this[i(233)][i(434)]&&(this[i(345)](t.getPayload()),!this[i(175)][i(296)]&&this[i(233)][i(434)]&&this.track[i(382)]&&(this.remuxer[i(296)]=!0)),n=!0;break;case Be[i(324)]:!this.track.sps&&(this[i(256)](t[i(203)]()),!this[i(175)][i(296)]&&this[i(233)].pps&&this[i(233)][i(382)]&&(this.remuxer[i(296)]=!0)),n=!0;break;case Be[i(272)]:break;case Be.SEI:n=!0}return n},o[t]=function(t,i){for(var n=Ie,r=[],e=!1,s=!1,u=!1,o=!1,h=0,a=0,c=0,f=[];h<=t.byteLength;){if(h<t.byteLength){var v=t[h++];0!==v?(1===v&&a>1&&(c=a>2?4:3,f.push(h)),a=0):++a}else c=0,f.push(h++);if(f.length>1){var d=f.shift(),l=f[0]-c;if(d<l){var w=!1,g=31&t[d];if(g===Be.NDR?s=!0:g===Be.IDR?e=!0:g===Be.SPS?(w=u,u=!0):g===Be.PPS&&(w=o,o=!0),!w)if(!i||g!==Be.NDR&&g!==Be.IDR)r.push(t.subarray(d,l));else{var _=new E(l-d),m=0;for(h=d,a=0;h<l;){var y=t[h++];a>1&&3===y&&(a=0,y=t[h++]),0!==y?a=0:++a,_[m++]=y}r.push(_.subarray(0,m))}}}}var p=!0,k=!1;return s||e?s&&e&&(Re[n(265)](n(331)),p=!1):(Re[n(265)]("[H264Parser] No VCL NALUs found"),p=!1),e&&(u&&o?k=!0:Re.warn(n(158))),{valid:p,idr:k,nalus:r}},o[i]=function(t,i){for(var n=8,r=8,e=0;e<i;e++)0!==r&&(r=(n+t.readEG()+256)%256),n=0===r?n:r},o[n]=function(t){var i,n,r,e,s,u,h=Ie,a=new Oe(t),c=0,f=0,v=0,d=0,l=1;if(a.readUByte(),i=a[h(419)](),a.readBits(5),a[h(155)](3),a[h(419)](),a[h(334)](),100===i||110===i||122===i||244===i||44===i||83===i||86===i||118===i||128===i){var w=a.readUEG();if(3===w&&a[h(155)](1),a[h(334)](),a[h(334)](),a[h(155)](1),a[h(239)]()){u=3!==w?8:12;for(var g=0;g<u;++g)a[h(239)]()&&(g<6?o[h(333)](a,16):o[h(333)](a,64))}}a[h(334)]();var _=a[h(179)]();if(0===_)a.readUEG();else if(1===_){a.skipBits(1),a[h(221)](),a[h(221)](),n=a[h(179)]();for(var m=0;m<n;++m)a[h(221)]()}if(a[h(334)](),a.skipBits(1),r=a[h(179)](),e=a.readUEG(),0===(s=a[h(338)](1))&&a[h(155)](1),a[h(155)](1),a.readBoolean()&&(c=a[h(179)](),f=a[h(179)](),v=a[h(179)](),d=a[h(179)]()),a[h(239)]()){if(a.readBoolean()){var y;switch(a.readUByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[a[h(419)]()<<8|a[h(419)](),a[h(419)]()<<8|a[h(419)]()]}y&&y[0]>0&&y[1]>0&&(l=y[0]/y[1])}a.readBoolean()&&a[h(155)](1),a[h(239)]()&&(a[h(155)](4),a[h(239)]()&&a[h(155)](24)),a[h(239)]()&&(a[h(334)](),a[h(334)]()),a.readBoolean()&&(a.readUInt(),a[h(187)](),a.readBoolean())}return{width:b[h(440)]((16*(r+1)-2*c-2*f)*l),height:(2-s)*(e+1)*16-(s?2:4)*(v+d)}},o[r]=function(t){var i=Ie,n=new Oe(t[i(203)]());n[i(419)](),t[i(196)]=0===n[i(179)](),t[i(309)]=n[i(179)]()},o}(Ie(267),Ie(333),Ie(432),Ie(386),Ie(256),Ie(345),Ie(378)),Le=function(){function t(t){var i=Ie;this.listener={},this[i(234)]=""|t}var i=t.prototype;return i.on=function(t,i){var n=Ie;return!this[n(270)][t]&&(this.listener[t]=[]),this[n(270)][t].push(i),!0},i.off=function(t,i){var n=Ie;if(this[n(270)][t]){var r=this[n(270)][t].indexOf(i);return r>-1&&this[n(270)][t][n(369)](r,1),!0}return!1},i[Ie(219)]=function(){this.listener={}},i[Ie(225)]=function(t,i){var n=Ie;return!!this[n(270)][t]&&(this[n(270)][t].map(function(t){t[n(200)](null,[i])}),!0)},t}(),Fe=function(){function t(i){var n,r,e=Ie;for(var s in this[e(285)]=i,this.saiIvSize={video:"cenc"===(null==(n=i.config[e(415)])?void 0:n[e(201)])?16:0,audio:"cenc"===(null==(r=i[e(154)][e(407)])?void 0:r[e(201)])?16:0},t[e(212)]={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},t[e(212)])t.types[s]=[s[e(384)](0),s[e(384)](1),s[e(384)](2),s.charCodeAt(3)];var u=new E([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new E([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:u,audio:o};var h=new E([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new E([0,0,0,0,0,0,0,0]);t.STTS=t[e(377)]=t[e(213)]=a,t.STSZ=new E([0,0,0,0,0,0,0,0,0,0,0,0]),t[e(438)]=new E([0,0,0,1,0,0,0,0,0,0,0,0]),t[e(307)]=new E([0,0,0,0,0,0,0,0]),t[e(168)]=new E([0,0,0,0,0,0,0,1]);var c=new E([105,115,111,109]),f=new E([97,118,99,49]),v=new E([0,0,0,1]);t[e(183)]=t[e(347)](t[e(212)].ftyp,c,v,c,f),t[e(147)]=t[e(347)](t.types.dinf,t[e(347)](t[e(212)][e(280)],h))}var i=t.prototype;return i[Ie(190)]=function(i){var n=Ie;return t[n(347)](t[n(212)][n(190)],t[n(418)][i])},i[Ie(244)]=function(i){var n=Ie;return t[n(347)](t[n(212)][n(244)],i)},i[Ie(380)]=function(i,n){var r=Ie;return t[r(347)](t[r(212)][r(380)],new E([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,85,196,0,0]))},i[Ie(215)]=function(i){var n=Ie;return t[n(347)](t[n(212)].mdia,this[n(380)](i[n(274)],i[n(290)]),this[n(190)](i[n(234)]),this[n(230)](i))},i[Ie(443)]=function(i){var n=Ie;return t.box(t[n(212)][n(443)],new E([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i]))},i[Ie(230)]=function(i){var n=Ie;return i[n(234)]===n(407)?t[n(347)](t[n(212)][n(230)],t.box(t.types[n(255)],t.SMHD),t[n(147)],this[n(362)](i)):t[n(347)](t.types[n(230)],t[n(147)],this[n(362)](i),t[n(347)](t[n(212)].vmhd,t[n(438)]))},i[Ie(370)]=function(i,n,r){var e=Ie;return t[e(347)](t.types.moof,this[e(443)](i),this[e(293)](r,n))},i[Ie(295)]=function(i,n,r){for(var e=Ie,s=i[e(268)],u=[];s--;)u[s]=this.trak(i[s]);return t.box[e(200)](null,[t[e(212)][e(295)],this[e(240)](r,n),this[e(447)](i)][e(389)](u)[e(389)](this[e(322)](i)))},i[Ie(322)]=function(i){for(var n=Ie,r=i[n(268)],e=[];r--;)e[r]=this[n(305)](i[r]);return t[n(347)][n(200)](null,[t[n(212)][n(322)]][n(389)](e))},i[Ie(240)]=function(i,n){var r=Ie,e=new E([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t[r(347)](t.types.mvhd,e)},i[Ie(420)]=function(i){for(var n=Ie,r=i[n(428)]||[],e=new E(4+r.length),s=0;s<r[n(268)];s++){var u=r[s][n(375)];e[s+4]=u.dependsOn<<4|u[n(149)]<<2|u[n(422)]}return t[n(347)](t[n(212)][n(420)],e)},i[Ie(362)]=function(i){var n=Ie;return t[n(347)](t.types[n(362)],this[n(165)](i),t.box(t[n(212)][n(329)],t[n(421)]),t[n(347)](t.types[n(227)],t[n(377)]),t[n(347)](t.types[n(235)],t[n(218)]),t[n(347)](t[n(212)].stco,t[n(213)]))},i[Ie(303)]=function(i){var n,r,e,s=Ie,u=[],o=[];for(n=0;n<i[s(382)].length;n++)e=(r=i.sps[n])[s(413)],u.push(e>>>8&255),u.push(255&e),u=u[s(389)](Array.prototype[s(314)][s(395)](r));for(n=0;n<i[s(434)][s(268)];n++)e=(r=i[s(434)][n])[s(413)],o[s(406)](e>>>8&255),o[s(406)](255&e),o=o.concat(Array.prototype[s(314)].call(r));var h=t[s(347)](t[s(212)][s(408)],new E([1,u[3],u[4],u[5],255,224|i.sps[s(268)]].concat(u)[s(389)]([i[s(434)][s(268)]]).concat(o))),a=i[s(237)],c=i[s(374)],f=t[s(347)](t.types[s(441)],t.box(t[s(212)][s(318)],new E([97,118,99,49])),t[s(347)](t[s(212)][s(349)],new E([].concat([0,0,0,0],xe(this[s(285)][s(154)][s(415)][s(201)]),[0,1,0,0]))),t.box(t.types[s(217)],this[s(298)](s(415))));return t[s(347)](t[s(212)].encv,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),h,f)},i[Ie(372)]=function(t){var i=Ie,n=t[i(154)][i(413)],r=new E(26+n+3);return r[i(251)]([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5,n]),r[i(251)](t[i(154)],26),r.set([6,1,2],26+n),r},i[Ie(403)]=function(i){var n=Ie,r=i[n(354)];return t[n(347)](t[n(212)][n(403)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i[n(390)],0,16,0,0,0,0,r>>>8&255,255&r,0,0]),t[n(347)](t[n(212)][n(372)],this[n(372)](i)))},i[Ie(266)]=function(t){var i=Ie,n=t[i(354)];return new E([0,t[i(390)],1,56,0,0,n>>>8&255,255&n,0,0,0])},i[Ie(416)]=function(i){var n=Ie,r=i.audiosamplerate;return t[n(347)](t.types[n(416)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i[n(390)],0,16,0,0,0,0,r>>>8&255,255&r,0,0]),t[n(347)](t[n(212)][n(266)],this[n(266)](i)))},i[Ie(394)]=function(i){var n=Ie,r=t[n(347)](t.types[n(266)],this.dOps(i)),e=t[n(347)](t.types[n(441)],t.box(t.types.frma,new E([79,112,117,115])),t[n(347)](t.types.schm,new E([].concat([0,0,0,0],xe(this[n(285)][n(154)].audio[n(201)]),[0,1,0,0]))),t.box(t.types[n(217)],this[n(298)](n(407)))),s=i[n(354)];return t[n(347)](t[n(212)].enca,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i[n(390)],0,16,0,0,0,0,s>>>8&255,255&s,0,0]),r,e)},i[Ie(165)]=function(i){var n=Ie;return i[n(234)]===n(407)?t[n(347)](t[n(212)][n(165)],t[n(168)],i[n(199)]?this[n(394)](i):this[n(416)](i)):t[n(347)](t.types[n(165)],t[n(168)],this[n(303)](i))},i[Ie(278)]=function(i){var n=Ie,r=i.id,e=i[n(290)],s=i[n(237)],u=i[n(374)],o=i[n(388)];return t[n(347)](t[n(212)].tkhd,new E([0,0,0,7,0,0,0,0,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,0,0,0,0,0,0,0,0,0,255&o,o%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>>8&255,255&s,0,0,u>>>8&255,255&u,0,0]))},i[Ie(293)]=function(i,n){var r,e=Ie,s=i.id,u=i[e(428)][0][e(171)],o=i.samples[0][e(290)],h=i[e(428)][0].flags,a=t[e(347)](t[e(212)].tfhd,new E([0,2,0,58,s>>>24,s>>>16&255,s>>>8&255,255&s,0,0,0,1,o>>>24,s>>>16&255,o>>>8&255,255&o,u>>>24,u>>>16&255,u>>>8&255,255&u,0,h[e(264)],0,0])),c=t[e(347)](t[e(212)].tfdt,new E([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(i.encrypted){var f,v;if(i[e(234)]===e(415)?(f=!0,v=this[e(350)][e(415)]+(null==(r=i.samples[0][e(191)])?void 0:r.byteLength)):(f=!1,v=this[e(350)].audio),v>0){var d=this[e(242)](v),l=this[e(340)](i[e(428)],f),w=d[e(268)]+20+l[e(268)]+a[e(268)]+c[e(268)]+8+16+8+8,g=this[e(271)](i,w);return t[e(347)](t[e(212)][e(293)],a,c,g,d,this.saio(w-l[e(268)]+g.length+8),l)}var _=this[e(340)](null,!1),m=_.length+a[e(268)]+c[e(268)]+8+16+8+8,y=this[e(271)](i,m);return t[e(347)](t.types[e(293)],a,c,y,_)}return t.box(t[e(212)].traf,a,c,this.trun(i,a[e(268)]+c.length+8+16+8+8))},i.trak=function(i){var n=Ie;return i.duration=i[n(290)]||4294967295,t.box(t[n(212)].trak,this[n(278)](i),this[n(215)](i))},i[Ie(305)]=function(i){var n=Ie,r=i.id;return t[n(347)](t.types[n(305)],new E([0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},i.trun=function(i,n){var r=Ie,e=(i[r(428)]||[])[r(268)],s=new E(12);return n+=20,s.set([0,0,0,1,e>>>24,e>>>16&255,e>>>8&255,255&e,n>>>24,n>>>16&255,n>>>8&255,255&n],0),t[r(347)](t.types[r(271)],s)},i[Ie(224)]=function(t,i){var n,r,e,s=Ie,u=s(445),o=function(t){var i=function(t){for(var i=Ie,n="",r=0;r<t[i(268)];r+=16e3){var e=t.subarray(r,r+16e3);n+=String[i(358)].apply(null,e)}return n}(Ne(t));return btoa(i)}((n=t,(e=[])[(r=Ie)(406)](n[3]),e[r(406)](n[2]),e.push(n[1]),e.push(n[0]),e[r(406)](n[5]),e[r(406)](n[4]),e.push(n[7]),e.push(n[6]),(n=Ne(n))[r(251)](e,0),n));return Ne(function(t){for(var i=Ie,n=new E(2*t[i(268)]),r=new DataView(n[i(366)]),e=0;e<t[i(268)];++e){var s=t.charCodeAt(e);r[i(253)](2*e,s,!0)}return n[i(366)]}([s(328)+u+'" version="4.3.0.0">',s(308),"<PROTECTINFO>",s(398),s(353),s(216)+o+'"',">",s(412),s(249),s(391),i?"<LA_URL>"+i+s(423):"",s(351),s(269)].join("")))},i.pssh=function(i){var n=Ie;if(this[n(285)][n(383)][n(202)](n(178)))return t[n(347)](t.types[n(447)],new E([].concat([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16],this[n(285)][n(154)][i[0][n(234)]].keyId)));if(this[n(285)][n(383)]===n(356)){var r=this[n(224)](this[n(285)][n(154)][i[0][n(234)]][n(429)],this.drm[n(371)]),e=r[n(413)];return t[n(347)](t[n(212)][n(447)],new E([].concat([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,e>>>24,e>>>16&255,e>>>8&255,255&e],r)))}return this.drm[n(383)]===n(323)?t[n(347)](t[n(212)][n(447)],new E([].concat([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1],this.drm[n(154)][i[0].type].keyId,[0,0,0,0]))):this.drm[n(383)]===n(397)?null:void Re[n(189)](n(393)+this[n(285)][n(383)])},i[Ie(298)]=function(i){var n,r,e=Ie,s=this[e(285)][e(154)][i];return s[e(201)]===e(226)?(n=new E([].concat([16],s.iv)),r=25):(n=new E([]),r=0),t[e(347)](t[e(212)][e(298)],new E([].concat([1,0,0,0,0,r,1,this[e(350)][i]],s[e(429)],n)))},i[Ie(242)]=function(i){var n=Ie;return t[n(347)](t[n(212)][n(242)],new E([0,0,0,0,i,0,0,0,1]))},i[Ie(204)]=function(i){var n=Ie;return t[n(347)](t[n(212)][n(204)],new E([0,0,0,0,0,0,0,1,i>>>24,i>>>16&255,i>>>8&255,255&i]))},i[Ie(340)]=function(i,n){var r=Ie,e=null;return i&&(1!==i[r(268)]&&Re[r(189)](r(182)+i[r(268)]+" samples - expected 1"),e=i[0][r(191)]),e&&e[r(413)]?t[r(347)](t[r(212)].senc,new E([].concat([0,0,0,n?2:0,0,0,0,1],e))):t.box(t[r(212)][r(340)],new E([0,0,0,0,0,0,0,1]))},i[Ie(439)]=function(i,n,r){var e=Ie,s=this[e(295)](i,n,r),u=new E(t[e(183)].byteLength+s[e(413)]);return u[e(251)](t[e(183)]),u[e(251)](s,t[e(183)][e(413)]),u},t.box=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(var e,s=Ie,u=8,o=n.length,h=o;o--;)n[o]&&(u+=n[o].byteLength);for((e=new E(u))[0]=u>>>24,e[1]=u>>>16&255,e[2]=u>>>8&255,e[3]=255&u,e[s(251)](t,4),o=0,u=8;o<h;++o)n[o]&&(e[s(251)](n[o],u),u+=n[o][s(413)]);return e},t}(),Ue=1,Ve=function(t,i,n){function r(){this.seq=1}var e=r.prototype;return e[i]=function(){var t=Ie;this.mp4track[t(263)]=0,this[t(207)][t(428)]=[]},e[n]=function(){var t=Ie;return!(!this[t(296)]||!this[t(428)][t(268)])},r[t]=function(){return Ue++},r}(Ie(411),Ie(246),Ie(211)),He=function(t){function i(i){var n,r=Ie;return(n=t.call(this)||this)[r(296)]=!0,n[r(222)]=0,n.dts=0,n.mp4track={id:Ve[r(411)](),type:r(407),channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:i,duration:i,samples:[],codec:r(364),encrypted:!0},n[r(428)]=[],n}Ct(i,t);var n=i.prototype;return n.resetTrack=function(){var t=Ie;this[t(437)]=1,this[t(222)]=0,this[t(336)]=0},n[Ie(181)]=function(t,i,n){var r=Ie;if(t[r(268)]>0)for(var e=0;e<t.length;e++){var s=t[e],u=s[r(392)],o=u[r(413)];this.samples[r(406)]({units:u,size:o,duration:s.duration,sampleAuxInfo:i,timestamp:n}),this[r(207)][r(263)]+=o}},n[Ie(161)]=function(){var t=Ie;if(!this.samples)return null;for(var i,n=this[t(207)][t(428)];this[t(428)][t(268)];){var r=this.samples[t(342)](),e=(1e3*r.timestamp|0)-this[t(222)]|0;e<5&&(e=5),this[t(336)]=this[t(222)],this.nextDts+=e,i={size:r[t(171)],duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(191)]};var s=new E(r[t(171)]);return s[t(251)](r.units,0),n[t(406)](i),new E(s[t(366)],0,r[t(171)])}return null},i}(Ve),We=function(t){function i(i,n){var r,e=Ie;return(r=t.call(this)||this)[e(296)]=!1,r[e(222)]=0,r[e(336)]=0,r[e(361)]=n,r[e(207)]={id:Ve[e(411)](),type:e(415),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:i,duration:i,samples:[],encrypted:!0},r[e(428)]=[],r[e(302)]=new Me(r),r}Ct(i,t);var n=i.prototype;return n[Ie(297)]=function(){var t=Ie;this[t(437)]=1,this[t(296)]=!1,this[t(207)][t(382)]="",this.mp4track[t(434)]="",this.nextDts=0,this.dts=0},n.remux=function(t,i,n){for(var r,e=Ie,s=Lt(t);!(r=s()).done;){for(var u,o=r.value,h=[],a=0,c=Lt(o[e(392)]);!(u=c()).done;){var f=u.value;this[e(302)].parseNAL(f)&&(h[e(406)](f),a+=f[e(194)]())}h[e(268)]>0&&this.readyToDecode&&(this[e(207)][e(263)]+=a,this[e(428)].push({units:h,size:a,keyFrame:o.keyFrame,duration:o[e(290)],sampleAuxInfo:i,timestamp:n}))}},n[Ie(161)]=function(){var t=Ie;if(!this[t(211)]()||!this[t(428)])return null;var i,n=this.mp4track[t(428)],r=this.samples[t(342)](),e=r.units,s=(1e3*r[t(332)]|0)-this[t(222)]|0;s<5&&(s=5),s>5e3&&Re[t(381)](t(430)+(s/1e3|0)+" s"),this.dts=this[t(222)],this[t(222)]+=s,i={size:r.size,duration:s,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(148)]?0:1,dependsOn:r[t(148)]?2:1},sampleAuxInfo:r[t(191)]};for(var u,o=0,h=Lt(e);!(u=h()).done;)o+=u.value[t(194)]();for(var a,c=0,f=new E(o),v=Lt(e);!(a=v()).done;){var d=a.value;f[t(251)](d[t(341)](),c),c+=d[t(194)]()}return n.push(i),new E(f[t(366)],0,o)},i}(Ve),ze=function(t){function i(i,n){var r,e=Ie;return(r=t.call(this,e(175))||this)[e(260)]=!1,r.trackTypes=[],r[e(357)]={},r[e(274)]=1e3,r[e(163)]=0,r[e(361)]=i,r.mp4=n,r}Ct(i,t);var n=i.prototype;return n[Ie(281)]=function(t){var i=Ie;("video"===t||"both"===t)&&(this[i(357)][i(415)]=new We(this.timescale,this[i(361)]),this[i(335)][i(406)](i(415))),(t===i(407)||t===i(417))&&(this[i(357)][i(407)]=new He(this.timescale),this.trackTypes[i(406)](i(407)))},n[Ie(250)]=function(){for(var t,i=Ie,n=Lt(this[i(335)]);!(t=n()).done;){var r=t.value;this.tracks[r].resetTrack()}this[i(260)]=!1},n[Ie(262)]=function(){var t=Ie;this.tracks={},this[t(219)]()},n[Ie(246)]=function(){var t=Ie;if(this[t(260)])for(var i,n=Lt(this[t(335)]);!(i=n()).done;)for(var r=i.value,e=this[t(357)][r];;){var s=e[t(161)]();if(!s||!s.byteLength)break;var u={type:r,payload:Pe(this[t(164)][t(370)](e[t(437)]++,e[t(336)],e[t(207)]),this.mp4[t(244)](s)),dts:e[t(336)]};this[t(225)](t(366),u),e[t(246)]()}else this[t(211)]()&&(this[t(225)]("ready"),this.initSegment(),this[t(260)]=!0,this[t(246)]())},n[Ie(439)]=function(){for(var t,i=Ie,n=Lt(this[i(335)]);!(t=n()).done;){var r=t.value,e=this[i(357)][r],s={type:r,payload:this[i(164)][i(439)]([e[i(207)]],this[i(163)],this.timescale)};this[i(225)]("buffer",s)}},n.isReady=function(){for(var t,i=Ie,n=Lt(this[i(335)]);!(t=n()).done;){var r=t.value;if(!this.tracks[r][i(296)]||!this[i(357)][r][i(428)][i(268)])return!1}return!0},n[Ie(181)]=function(t){for(var i,n=Ie,r=Lt(this[n(335)]);!(i=r()).done;){var e=i.value,s=t[e];s.length>0&&this[n(357)][e][n(181)](s,"audio"===e?t.audioSampleAuxInfo:t[n(310)],t[n(332)])}this[n(246)]()},i}(Le);function Xe(){var t=["stsd","isSupported","src","STSD","endMSE","abort","size","appendBufferError","addSourceBuffer","setupMSE","remuxer","addEventListener","max","com.widevine","readUEG"," - ","remux","Received ","FTYP","readyState","valid","ntype","readUInt","byteOffset","error","hdlr","sampleAuxInfo","webkitsourceopen","Checking codec","getSize","irrecoverableError","isfmb","[MSE] buffer error:","url","encrypted","apply","encryption","startsWith","getPayload","saio","open","[MSE] source buffer error","mp4track","append","getNri","codec","isReady","types","STCO","feed","mdia",'VALUE="',"schi","STSZ","offAll","jmuxer","skipEG","nextDts","1036611gAoRea","generatePlayReadyHeader","dispatch","cbcs","stsc","endOfStream","6576815frVeWy","minf","releaseBuffer","readUShort","track","type","stsz","isvcl","width","map","readBoolean","mvhd","onReady","saiz","reportDiscontinuity","mdat","bufferControllers","flush","patchSampleAuxinfo","readEG","</KIDS>","reset","set","onMSEClose","setUint16","idr","smhd","parseSPS","bind","message","getBits","initialized","sourceBuffer","destroy","len","isNonSync","warn","dOps","extractNALUs","length","</WRMHEADER>","listener","trun","AUD","SEI","timescale","Num frames in chunk: ","7620738FWzrwf","mode","tkhd","dbgMediaDump","dref","addTrack","doAppend","options","[MSE] sourceclose","drm","mediaSource","Failure: Browser doesn't support MSE/MMS",'/mp4; codecs="',"function","duration","min","avc1.","traf","[MSE] sourceopen","moov","readyToDecode","resetTrack","tenc","onMSEOpen","MediaSource","removeSourceBuffer","h264","encv","sourceopen","trex","isKeyframe","SMHD","<DATA>","stype","videoSampleAuxInfo","ended","getElementById","getUint8","slice","audioSampleAuxInfo","data","ready","frma","mseReady","string","4760043VatbTq","mvex","org.w3.clearkey","SPS","buffered","no video element were found to render, provide a valid video element","getPayloadSize",'<WRMHEADER xmlns="',"stts","start","[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","timestamp","skipScalingList","skipUEG","trackTypes","dts","queue","readBits","mseEnded","senc","getData","shift","[MSE] error: ","UNKNOWN","parsePPS","appendBuffer","box","initBrowser","schm","saiIvSize","</DATA>","out",'<KID ALGID="AESCTR" ',"audiosamplerate","reduce","com.microsoft.playready.recommendation","tracks","fromCharCode","updating","calculateExpectedSizeFromSai","videoElement","stbl","1159252OkMfWN","opus","toString","buffer","nalus","index","splice","moof","licenseUrl","esds","disableRemotePlayback","height","flags","createBuffer","STSC","parseNAL","PPS","mdhd","debug","sps","keySystem","charCodeAt","mse","parseHeader","isSafari","volume","concat","channelCount","</PROTECTINFO>","units","Unsupported DRM type ","enca","call","POSITIVE_INFINITY","com.apple.fps","<KIDS>","getVideoFrames","646233hEZDuD","4LuRDMh","nri","mp4a","ManagedMediaSource","buffer error","push","audio","avcC","onError","Buffered range ","getTrackID","</KID>","byteLength","No A/V data","video","Opus","both","HDLR_TYPES","readUByte","sdtp","STTS","hasRedundancy","</LA_URL>","revokeObjectURL","BYTES_PER_ELEMENT","webkitsourceclose","IDR","samples","keyId","timestamp gap: ","node","readSPS","setData","pps","onBuffer","remuxController","seq","VMHD","initSegment","ceil","sinf","sourceclose","mfhd","skipLZ","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","Browser does not support codec","pssh","mediasource is not available to end: ","NDR","isReset","bitsAvailable","payload","DINF","keyFrame","isDependedOn","isTypeSupported","assign","waitingForIdr","8hmeyto","config","skipBits","remove","bitLength","[H264Parser] IDR without SPS/PPS, not suitable for recovery","TYPES","13659xNePtU","getFramePayload","onBufferError","mediaDuration","mp4"];return(Xe=function(){return t})()}var qe=function(t){function i(i,n,r){var e,s,u=Ie;(e=t.call(this,u(366))||this)[u(234)]=n,e[u(337)]=new E;var o=null==(s=Ae.mediaDumps[n])?void 0:s[u(352)].durationMs;return o>0&&(e[u(279)]=new Ee(n,u(164),o)),e.sourceBuffer=i,e[u(385)]=r,e[u(195)]=!1,e[u(261)].addEventListener(u(189),function(t){var i=u;Re.warn(i(206),t,e.type),e[i(195)]=!0,e.dispatch("error",{type:e[i(234)],name:i(366),error:i(405)})}),e}Ct(i,t);var n=i.prototype;return n[Ie(262)]=function(){var t=Ie;this[t(337)]=null,this[t(279)]=null;try{this[t(261)]&&(this.sourceBuffer[t(170)](),this.mse[t(301)](this[t(261)]),this.sourceBuffer=null)}catch(t){}this.offAll()},n[Ie(282)]=function(){var t=Ie;if(this[t(337)][t(268)]&&this[t(261)]&&!this.sourceBuffer.updating){if(this[t(261)].buffered.length>1){for(var i=0;i<this[t(261)][t(325)][t(268)];++i){var n=i<this[t(261)].buffered.length-1;Re[t(381)](t(410)+i+(n?" (remove)":"")+": "+this[t(261)][t(325)][t(330)](i)+t(180)+this[t(261)][t(325)].end(i)),n&&this[t(261)][t(156)](this[t(261)].buffered[t(330)](i),this[t(261)][t(325)].end(i))}if(this[t(261)][t(359)])return}try{this[t(261)][t(346)](this[t(337)]),this[t(337)]=new E}catch(i){this[t(225)](t(189),{type:this.type,name:t(172),error:i})}}},n[Ie(214)]=function(t,i){var n=Ie;this.dbgMediaDump&&(this[n(279)][n(208)](t,i)||(this[n(279)]=null)),this[n(195)]||(this.queue=Pe(this.queue,t)),this[n(282)]()},i}(Le),Ge=function(t){function i(i){var n,r=Ie;(n=t.call(this,r(220))||this)[r(195)]=!1,n[r(152)]=!0,n[r(450)]=!1,n[r(319)]=!1,n.mseEnded=!1;var e={node:"",mode:r(415),debug:!1,onReady:function(){},onError:function(t){}};return n.options=k[r(151)]({},e,i),n[r(431)]=W(n.options[r(431)])===r(320)?v[r(312)](n[r(283)][r(431)]):n[r(283)][r(431)],n[r(285)]=i.drm,n[r(164)]=new Fe(n[r(285)]),n[r(436)]=new ze(n.node,n[r(164)]),n[r(436)][r(281)](n[r(283)][r(277)]),n[r(436)].on(r(366),n.onBuffer[r(257)](n)),n[r(436)].on(r(317),n[r(376)][r(257)](n)),n[r(348)](),n}Ct(i,t);var n=i.prototype;return n[Ie(348)]=function(){var t=Ie;W(this[t(283)][t(431)])===t(320)&&""==this.options[t(431)]&&Re[t(189)](t(326)),this[t(319)]=!1,this[t(174)]()},n[Ie(174)]=function(){var t=Ie;if(!f.ManagedMediaSource&&!f[t(300)])throw t(287);f.ManagedMediaSource?(this.node[t(373)]=!0,this[t(286)]=new ManagedMediaSource):this[t(286)]=new MediaSource,this[t(198)]=URL.createObjectURL(this[t(286)]),this.node[t(167)]=this[t(198)],this[t(339)]=!1,this[t(286)][t(176)](t(304),this[t(299)][t(257)](this)),this.mediaSource.addEventListener(t(442),this[t(252)][t(257)](this)),this.mediaSource.addEventListener(t(192),this[t(299)][t(257)](this)),this[t(286)][t(176)](t(426),this[t(252)][t(257)](this)),this[t(286)][t(176)](t(189),function(i){var n=t;Re[n(189)](n(343),i[n(258)])})},n[Ie(169)]=function(){var t=Ie;if(!this.mseEnded)try{this[t(339)]=!0,this[t(286)][t(184)]===t(205)&&this[t(286)][t(228)]()}catch(i){Re[t(189)](t(448),i)}},n[Ie(243)]=function(){var t=Ie;Re[t(381)]("Discontinuity!"),this[t(152)]=!0},n.feed=function(t){var i=Ie,n={video:[],audio:[]};if(this[i(195)]||this[i(339)]||!t||!this.remuxController)return-1;if(t[i(415)]){n[i(332)]=t.timestamp;var r=this[i(360)](t[i(310)],this[i(164)][i(350)][i(415)]),e=r!=t.video[i(413)],s=Me[i(267)](t[i(415)],e);if(!s[i(185)]||s[i(367)].length<1)return 0;if(this.waitingForIdr){if(!s[i(254)])return 0;this[i(152)]=!1}if(!Ce&&t[i(310)]){var u=s[i(367)][i(355)](function(t,n){return t+4+n[i(413)]},0);u!==r&&this.patchSampleAuxinfo(t[i(310)],this[i(164)][i(350)][i(415)],u-r)}n[i(415)]=this[i(399)](s[i(367)]),n[i(310)]=t[i(310)]}return t[i(407)]&&(n[i(332)]=t.timestamp,n[i(407)]=[{units:t[i(407)]}],n[i(315)]=t[i(315)]),t[i(415)]||t[i(407)]?(this[i(436)][i(181)](n),0):(Re[i(189)](i(414)),0)},n[Ie(399)]=function(t){for(var i,n=Ie,r=[],e=[],s=!1,u=!1,o=Lt(t);!(i=o()).done;){var h=i.value,a=new Be(h);a[n(234)]()!==Be[n(427)]&&a[n(234)]()!==Be[n(449)]||Me[n(386)](a),r.length&&u&&(a[n(196)]||!a[n(236)])&&(e[n(406)]({units:r,keyFrame:s}),r=[],s=!1,u=!1),r.push(a),s=s||a.isKeyframe(),u=u||a[n(236)]}if(r[n(268)])if(u)e.push({units:r,keyFrame:s});else{var c=e[n(268)]-1;c>=0&&(e[c][n(392)]=e[c][n(392)].concat(r))}return 1!==e[n(268)]&&Re.warn(n(275)+e[n(268)]),e},n[Ie(360)]=function(t,i){if(!t)return 0;for(var n=(t[0]<<8)+t[1],r=i+2+4,e=0,s=2;0<n&&s+r<=t.byteLength;){var u=(t[s+=i]<<8)+t[s+1],o=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,e+=u+o}return e},n[Ie(247)]=function(t,i,n){var r=2;if(0<(t[0]<<8)+t[1]&&r+(i+2+4)<=t.byteLength){var e=(t[r+=i]<<8)+t[r+1];(e+=n)>=0&&(t[r]=e>>>8&255,t[r+1]=255&e)}return 0},n[Ie(376)]=function(){var t=Ie;if(this[t(319)]&&this[t(436)]&&this[t(436)][t(211)]()&&!this[t(245)])for(var n in this[t(245)]={},this[t(436)][t(357)]){var r=this.remuxController[t(357)][n],e=""[t(389)](n,t(288)).concat(r.mp4track[t(210)],'"');if(Re[t(381)](t(193),e),!i[t(166)](e))return Re.error(t(446)),!1;var s=this.mediaSource[t(173)](e);this[t(245)][n]=new qe(s,n,this[t(286)]),this[t(245)][n].on(t(189),this[t(162)][t(257)](this))}},n[Ie(231)]=function(){var t=Ie;for(var i in this.bufferControllers)this[t(245)][i][t(282)]()},n[Ie(435)]=function(t){var i=Ie;this[i(319)]&&this[i(245)]&&this[i(245)][t[i(234)]]&&this[i(245)][t[i(234)]].feed(t[i(452)],t[i(336)])},n.onMSEOpen=function(){var t=Ie;Re[t(381)](t(294)),this[t(286)].readyState!==t(311)&&(this[t(286)][t(290)]=Number[t(396)],this[t(319)]=!0,W(this[t(283)].onReady)===t(289)&&this[t(283)][t(241)][t(395)](null,this.isReset),URL[t(424)](this[t(198)]),this[t(376)]())},n[Ie(252)]=function(){var t=Ie;Re[t(381)](t(284)),this.mseReady=!1,this[t(169)]()},n.onBufferError=function(t){var i=Ie;Re.warn(i(197),t),this[i(195)]=!0,this.endMSE(),W(this.options[i(409)])===i(289)&&this[i(283)][i(409)][i(395)](null,t)},i.isSupported=function(t){var i=Ie;return f[i(404)]?f.ManagedMediaSource[i(150)](t):!!f[i(300)]&&f[i(300)][i(150)](t)},i}(Le);function je(t,i){var n=Qe();return(je=function(t,i){return n[t-=182]})(t,i)}function Qe(){var t=["1247170HwkwNv","Av","gitVersion","352GaBvIm","toISOString","14XlATBT","2568948xDjIMf","1027225mjPCDe","19691yiLZrh","195999uPnZlk","3038288UlnUQm","2033937CLMUfn"];return(Qe=function(){return t})()}!function(){for(var t=je,i=Qe();;)try{if(A(t(182))/1+A(t(192))/2*(A(t(184))/3)+-A(t(185))/4+-A(t(187))/5+A(t(193))/6+-A(t(183))/7*(A(t(190))/8)+-A(t(186))/9==553943)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var Ye=ts;function Ke(){var t=["1236858jPUtaw","certificate","11225xsjioT","275391VrsSlK","5816evMpkd","CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8","7299lkgbxa","1470Lkqtku","production","Development","charCodeAt","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","baseUrl","375060LzZhzk","230861ZKueQt","12pvGCSu","https://lic.drmtoday.com","35fxICRY","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","Production","development","https://lic.test.drmtoday.com","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","from","RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Staging","staging","name"];return(Ke=function(){return t})()}!function(){for(var t=ts,i=Ke();;)try{if(A(t(326))/1+A(t(325))/2+A(t(315))/3+A(t(327))/4*(-A(t(314))/5)+-A(t(312))/6+A(t(329))/7*(A(t(316))/8)+-A(t(318))/9*(A(t(319))/10)==181728)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var Je=Ye(317)+Ye(306)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+Ye(330)+"+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT"+Ye(334)+Ye(323)+Ye(308)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/"+Ye(307)+Ye(304)+Ye(336)+Ye(305),Ze=E[Ye(335)](f.atob(Je),function(t){return t[Ye(322)](0)}),$e=function(){function t(t){this[Ye(311)]=t}var i=t.prototype;return i.toString=function(){return this.name},i[Ye(324)]=function(){var t=Ye;switch(this[t(311)]){case"staging":return"https://lic.staging.drmtoday.com";case"development":return t(333);default:return t(328)}},i[Ye(313)]=function(){return Ze},t}();function ts(t,i){var n=Ke();return(ts=function(t,i){return n[t-=304]})(t,i)}$e[Ye(309)]=new $e(Ye(310)),$e[Ye(331)]=new $e(Ye(320)),$e[Ye(321)]=new $e(Ye(332));var is=ns;function ns(t,i){var n=rs();return(ns=function(t,i){return n[t-=252]})(t,i)}function rs(){var t=["SampleAuxInfo corrupted","error","50012RXzLep","3301necisu","[RTC-DRM]","subarray","buffer","64zGPhLV","162pDdDkb","659466dfDPqj","SampleAuxInfo corrupted (postfix not found)","data","4199670WddvRf","95WaGAXy","getUint8","137436hbCkvG","1351035XuhSnW","getUint16","byteLength","184863QcuifQ"];return(rs=function(){return t})()}!function(){for(var t=ns,i=rs();;)try{if(-A(t(253))/1*(A(t(258))/2)+A(t(259))/3+A(t(252))/4*(-A(t(263))/5)+-A(t(265))/6+-A(t(269))/7*(-A(t(257))/8)+-A(t(266))/9+A(t(262))/10==173102)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var es=be(is(254));!function(){for(var t=us,i=as();;)try{if(A(t(369))/1+A(t(374))/2+A(t(366))/3+-A(t(373))/4+-A(t(365))/5+-A(t(368))/6*(A(t(370))/7)+A(t(367))/8==110661)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var ss=[];function us(t,i){var n=as();return(us=function(t,i){return n[t-=365]})(t,i)}var os=null,hs=0;function as(){var t=["799144UpkRWz","356926NfeJZx","set","slice","237700RBIjTO","627444ELwjUL","76968OxbdcX","6xPMWky","172231EpHRtx","1480332fEizHX","push","buffer"];return(as=function(){return t})()}var cs=Is;!function(){for(var t=Is,i=gs();;)try{if(-A(t(452))/1+-A(t(412))/2+-A(t(478))/3*(A(t(441))/4)+-A(t(485))/5*(-A(t(415))/6)+-A(t(400))/7+A(t(460))/8*(-A(t(486))/9)+-A(t(437))/10*(-A(t(470))/11)==412983)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var fs=be(cs(424)),vs={licenseUrl:"",onFetch:void 0},ds={},ls=function(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=1/0),function(t,i,n){var r=cs,e=E.BYTES_PER_ELEMENT;i*=e,n*=e;var s,u=V(s=t,ArrayBuffer)?s:s[cs(484)],o=t[r(483)],h=i,a=b[r(432)](0,b.min(h,o)),c=b.min(a+b[r(432)](n,0),o);return new E(u,a/=e,(c/=e)-a)}(t,i,n)},ws=function(t){for(var i,n=cs,r="",e=Lt(t);!(i=e()).done;){var s=i.value.toString(16);1==s[n(433)]&&(s="0"+s),r+=s}return r};function gs(){var t=["360308tFqTFd","usable for decryption (status: ","oct","decode","parse","license","parseFromString","message","8pQccIM","No clear key test key provided!","generateRequest","text/xml","Failed to update the session: ","output-downscaled","target","apply","bind","Failed to update the session","24280927IKsRHd","No PR challenge data!","kids","status","getElementsByTagName","rtcdrmerror","CK license request:","A128KW","3KcCnPp","createSession","License acquisition failed with error ","No media keys for media element!","stringify","byteLength","buffer","82765KyOCry","7206525fRtYVA","error","btoa","9a04f07998404286ab92e65be0885f95","set","[PR] License fetched:","getUint16","onFetch","4630892EspqDe","addEventListener","debug","has","json","Previous lic will be reused","internal-error","subarray","fromCharCode","expired","text","temporary","665922eWbQGg","then","[FPS] License fetched:","174puebov","Content-Type","update","POST","<Challenge","nodeValue","replace","sessionId","initData","[CDM]","[WV] License fetched:","No media element available!","CDM error generating license request: ","Failed to load previous EME session","initDataType","keyStatuses","forEach","max","length","indexOf","New lic will be requested","edef8ba979d64acea3c827dcd51d21ed","10DoxNsv","atob","catch","arrayBuffer","475444JqsldJ","No init data available!","append","warn","licenseUrl","dispatchEvent","floor","Data has an incorrect length, must be even.","EME createSession() failed - no DRM available","keystatuseschange","Failed to reuse previous EME session: "];return(gs=function(){return t})()}var _s=null,ms=function(t){var i=cs;return f[i(394)](String[i(408)][i(467)](null,t))[i(421)](/\+/g,"-")[i(421)](/\//g,"_")[i(421)](/=*$/,"")},ys=function(t,i){var n=cs,r=function(t){var i=cs,n=JSON[i(456)]((new TextDecoder)[i(455)](t));if(fs[i(402)](i(476),n),null===_s)throw new y(i(461));for(var r,e=[],s=Lt(n[i(472)]);!(r=s()).done;){var u=r.value,o={kty:i(454),alg:i(477),kid:u,k:ms(_s)};e.push(o)}return(new TextEncoder).encode(JSON[i(482)]({keys:e}))}(i.message);i.target.update(r)[n(439)](function(t){var i=n;fs[i(393)](i(469),t)})},ps=function(t){for(var i=cs,n=f[i(438)](t.replace(/-/g,"+")[i(421)](/_/g,"/")),r=new E(n[i(433)]),e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r},ks=function(t,i){for(var n=arguments.length,r=new Array(n>2?n-2:0),e=2;e<n;e++)r[e-2]=arguments[e];return se(void 0,[].concat([t,i],r),void 0,function(t,i,n){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return void 0===n&&(n=!1),r=cs,e=new Headers(ds),n&&e[r(443)](r(416),r(463)),s={method:r(418),headers:e,body:i},[4,vs[r(399)]?vs.onFetch(t,s):fetch(t,s)];case 1:if(!(u=o.sent()).ok)throw new y(r(480)+u[r(473)]);return[2,u]}})})},bs=function(t,i){var n=cs;ks(vs[n(445)],i[n(459)])[n(413)](function(t){return t[n(404)]()}).then(function(t){var r=n;fs[r(402)](r(425),t[r(457)]);var e=ps(t[r(457)])[r(484)];i[r(466)][r(417)](e)[r(439)](function(t){var i=r;fs[i(393)](i(469),t)})})[n(439)](function(i){var r=n;t[r(446)](new CustomEvent(r(475),{detail:{message:""+i}})),fs[r(393)](i)})},As=function(t,i){var n=cs,r=function(t,i){var n=cs,r=new DOMParser;try{var e=function(t,i,n){void 0===n&&(n=!1);var r=cs;if(!t)return"";var e=t;if(!n&&e[r(483)]%2!=0)throw fs[r(393)](r(448)),new y("Data does not seem to be UTF-16 encoded!");var s,u=ls(e);if((255===u[0]&&254===u[1]||254===u[0]&&255===u[1])&&(e=u[r(407)](2)),V(e,ArrayBuffer))s=e;else{var o=new E(e[r(483)]);o[r(396)](ls(e)),s=o[r(484)]}for(var h=b[r(447)](e[r(483)]/2),a=new Uint16Array(h),c=new DataView(s),f=0;f<h;f++)a[f]=c[r(398)](2*f,i);return function(t){for(var i=cs,n="",r=0;r<t[i(433)];r+=16e3){var e=t.subarray(r,r+16e3);n+=String[i(408)][i(467)](null,e)}return n}(a)}(i,!0);if(e[n(434)](n(419))>-1){var s=r[n(458)](e,n(463))[n(474)]("Challenge")[0].childNodes[0][n(420)];if(null===s)throw new y(n(471));return ps(s)}fs[n(444)]("[PR] Challenge node not found")}catch(i){t[n(446)](new CustomEvent(n(475),{detail:{message:""+i}})),fs[n(393)](i)}return null}(t,i.message);if(null===r)return t[n(446)](new CustomEvent("rtcdrmerror",{detail:{message:n(471)}})),void fs[n(393)](n(471));ks(vs[n(445)],r[n(484)],!0)[n(413)](function(t){return t[n(440)]()})[n(413)](function(r){var e=n;fs[e(402)](e(397),r),i[e(466)][e(417)](r)[e(439)](function(i){var n=e;t[n(446)](new CustomEvent(n(475),{detail:{message:n(464)+i}})),fs[n(393)]("Failed to update the session",i)})}).catch(function(i){var r=n;t.dispatchEvent(new CustomEvent(r(475),{detail:{message:""+i}})),fs[r(393)](i)})},Ts=function(t,i){var n=cs;ks(vs.licenseUrl,i[n(459)])[n(413)](function(t){var i=n,r=t[i(410)]();return fs[i(402)](i(414),t,r),r})[n(413)](function(t){var r=n;i.target[r(417)](ps(t))})[n(439)](function(i){var r=n;t[r(446)](new CustomEvent(r(475),{detail:{message:""+i}})),fs.error(i)})},Ss=function(t,i){ds[t]=i},Es=me.isSafari;function Is(t,i){var n=gs();return(Is=function(t,i){return n[t-=393]})(t,i)}var Rs=!Es,Cs=new Map;function Ps(t){return se(this,void 0,void 0,function(){var i,n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:if(i=Is,null===t.initData)throw new y(i(442));if(null===(n=t[i(466)]))throw new y(i(426));if(null===(r=n.mediaKeys))throw new y(i(481));e=ws(new E(t[i(423)])),s=e+n.id,u=null,Cs[i(403)](s)&&(null!=(u=Cs.get(s))&&u.close(),Cs.delete(s)),fs[i(402)](i(u?405:435)),o=null;try{o=r.createSession(Rs?"persistent-license":"temporary")}catch(t){fs[i(402)]("EME createSession(persistent) failed:",t)}if(!o&&Rs){Rs=!1;try{o=r[i(479)](i(411))}catch(t){fs.error("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o.addEventListener(i(450),function(t){var r=i;t[r(466)][r(430)][r(431)](function(t,i){var e=r;(t===e(409)||"output-restricted"===t||t===e(465)||t===e(406))&&n[e(446)](new CustomEvent(e(475),{detail:{message:"Key "+ws(new E(i))+" is not "+(e(453)+t)+")",keyId:i}}))})}),Es?o[i(401)](i(459),Ts.bind(null,n),!1):-1!==e.indexOf(i(436))?o[i(401)](i(459),bs[i(468)](null,n),!1):-1!==e[i(434)](i(395))?o.addEventListener(i(459),As[i(468)](null,n),!1):o.addEventListener(i(459),ys[i(468)](null,n),!1),!u)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.load(u[i(422)])];case 2:return a.sent()?Cs[i(396)](s,o):n[i(446)](new CustomEvent(i(475),{detail:{message:i(428)}})),[3,4];case 3:return h=a.sent(),n[i(446)](new CustomEvent(i(475),{detail:{message:i(451)+h}})),[3,4];case 4:return[3,6];case 5:o[i(462)](t[i(429)],t[i(423)])[i(413)](function(){Rs&&Cs[i(396)](s,o)})[i(439)](function(t){var r=i;n.dispatchEvent(new CustomEvent(r(475),{detail:{message:r(427)+t}}))}),a.label=6;case 6:return[3,8];case 7:n[i(446)](new CustomEvent(i(475),{detail:{message:i(449)}})),a.label=8;case 8:return[2]}})})}var Ds=$s;!function(){for(var t=$s,i=Ks();;)try{if(-A(t(462))/1*(-A(t(532))/2)+-A(t(543))/3+A(t(682))/4+-A(t(692))/5*(A(t(588))/6)+-A(t(539))/7+A(t(496))/8+-A(t(549))/9==672532)break;i.push(i.shift())}catch(t){i.push(i.shift())}}();var Ns=be(Ds(673)),xs=me[Ds(607)],Bs=me[Ds(540)],Os=me[Ds(647)],Ms=me[Ds(489)],Ls=me[Ds(478)],Fs=me.platform,Us=me[Ds(620)],Vs=Ms||Ls&&Fs===Ds(578),Hs=1e6*(Bs?82:Os?220:120),Ws=Bs?5e3:2e3,zs=Bs?1.5:.5;function Xs(t){var i,n=Ds;return(void 0===t?"undefined":W(t))!==n(672)||null===t||V(t,Element)||V(t,$e)?t:V(null==(i=t)?void 0:i[Ds(584)],ArrayBuffer)&&null!=i&&i.BYTES_PER_ELEMENT?t[n(550)]():Array[n(636)](t)?t.reduce(function(t,i,n){return t[n]=Xs(i),t},[]):V(t,k)?k.keys(t).reduce(function(i,n){return i[n]=Xs(t[n]),i},{}):t}var qs=function(t){var i=Ds;this[i(547)]="",this[i(471)]="",this.keySystem="",this[i(603)]=[],this[i(479)]=Xs(t),this.jmuxer=null,this.keyFrameLogCntr=0,this[i(561)]=Date[i(658)](),this[i(585)]=0,this[i(602)]=0,this[i(490)]=-1,this[i(680)]=0,this[i(596)]=0,this[i(491)]=!0,this.keyFrameNeededPosted=!1,this[i(617)]=Ws,this[i(500)]=null,this.dbgMediaDump={video:null,audio:null}},Gs=new Map,js=new E([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),Qs=new E([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),Ys=new E([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function Ks(){var t=["isSafari","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","status","DRM config:","key","Development"," will be used","Staging","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","enabled","playback at ","now",".experiment","seq","videoElement","data","btoa","PlayReady might not support '","logLevel","cbcs-1-9","encryption"," to ","offset","x-dt-custom-data","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","object","[RTC-DRM]","not-allowed","durationMs","Default transform mode enabled, ","keySystem","timestamp","DRM config keyId must be an instance of 16-byte long Uint8Array.","lastKeyFrameTime","H264 is the only supported video codec.","2533916KeNZJm","out","Applying pre-configured certificate (","buffered","Widevine","x-dt-auth-token"," ms)","com.microsoft.playready.recommendation","error","currentTime","225RwtgWL","end","requestMediaKeySystemAccess","50705YjLCIv","onmessage","environment","wvLicenseUrl","a1d1f1"," requesting a new key frame (latency ","userId","ClearKey","createEncodedStreams","licenseUrl","PlayReady license acquisition might fail without output protection enabled (sessionId is ","feed","dbgMediaDump","jmuxer","MSE (re)init",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","isChrome","config","forEach","Invalid config argument type, DRM config must be an object.","hwSecurity","audioEncrypted","setMediaKeys","fpsCertificate","Unable to create Worker!","GET","customTransform","isEdge","prevSeqNum","keyFrameNeeded","encrypted","targetLatency not set!","opus","FairPlay","7963992IJNztq","streamType","SampleAuxInfo extraction failed (video)"," seeking from ","worker","]: ","video","kind","audio","jitterBufferDelayHint","size","No target media element!","fpsCertificateUrl","wvCertificate","delimited","3000","pipeThrough","/license-server-fairplay/cert/","string",") not found in [","indexOf","warn","ignoreAudio","append","jitterBufferTarget","prLicenseUrl","sessionTypes","authToken","get","RTCRtpScriptTransform","audioElement","catch","trim","join","waitingForIdr","info","52hXHKkY","enqueue","). It has to be a string containing a JWT.","playbackRate","sai","persistent-license","Blob","2699340CvuQCI","isFirefox","transform",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"554109usxuWq"," will not be created, use rtcDrmFeedFrame to push frames manually","bind","streams","serverCertificateUrl","includes","3473577nNrBJc","slice","URL","serverCertificate","length","Invalid authToken type (","addEventListener","', it's safer to use 'cbcs' instead.","srcObject","ClearKey is not supported by Safari.","meNeeded=$.data};","value","nextKeyFrameAllowedTime","Error recovery attempted","rtcdrmerror","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer"," bytes","both","debug","No valid DRM config found, call rtcDrmConfigure first.","dispatchEvent","certificate","mediaBufferMs","clear","merchant","src","sessionId","reportDiscontinuity","mediaBufferMs should be an integer.","Android","rtcDrmConfigure did not specify audioElement, audio will be dropped","/license-proxy-widevine/cenc/","arrayBuffer","). Edge only supports PlayReady, Widevine and ClearKey.","). Chrome only supports Widevine and ClearKey.","buffer","videoStartTimestamp",'audio/mp4; codecs="opus"',"set","175800AyhMKK","PlayReady","SampleAuxInfo extraction failed (audio)","cenc","codec","videoCapabilities",".. ","Duplicate/reordered frame, prev seq: ","bytesSinceKey","wvCertificateUrl","/license-proxy-headerauth/drmtoday/RightsManager.asmx","robustness","baseUrl","type","audioStartTimestamp","emeConfig","com.widevine.alpha","SW_SECURE_CRYPTO","fpsLicenseUrl","supportsRtpScriptTransform","Target video element (","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr","createObjectURL","playoutDelayHint","POSITIVE_INFINITY",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"track",'video/mp4; codecs="avc1.640032"',"cbcs","keyFrameRequestInterval","Frame gap: ","keyFrameNeededPosted","isWindows","HW_SECURE_ALL"," bytes, ","GOP is getting too long, requesting a new key frame","temporary","Safari does not support Opus, audio will not be rendered.","stringify","byteLength","message"," frame","H264","mediaDumps","h264","keyFrameLogCntr","requestMediaKeySystemAccess(","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","isArray","Invalid DRM type (","DRM config iv must be an instance of 16-byte long Uint8Array.","keyId","pipeTo"," - ","receiver","isInteger","toString","onFetch","next"];return(Ks=function(){return t})()}function Js(t){var i=Ds,n=!1;if((t[i(479)][i(502)]&&t[i(479)].video[i(667)]!==i(572)&&"HW"===t[i(479)][i(502)][i(599)]||t[i(479)][i(504)]&&t[i(479)][i(504)][i(667)]!==i(572)&&"HW"===t.config[i(504)][i(599)])&&(n=!0),t.hwSecurity=n,function(t,i){var n=Ds;void 0!==i&&(t[n(479)].mediaBufferMs=i),(void 0===t[n(479)][n(571)]||t.config[n(571)]<0)&&(t[n(479)].mediaBufferMs=100,Bs?t[n(479)][n(571)]=350:!Os&&Us&&("PlayReady"===t.config[n(601)]||t[n(482)])&&(t.config[n(571)]=1400))}(t,t[i(479)][i(571)]),void 0===t.config[i(523)]){void 0===t[i(479)][i(468)]&&(t[i(479)][i(468)]="purchase"),void 0===t[i(479)][i(575)]&&(t.config[i(575)]=i(466));var r=f[i(663)](JSON[i(626)]({userId:t[i(479)].userId,sessionId:t.config.sessionId,merchant:t[i(479)].merchant}));Ss(i(670),r)}else Ss(i(687),t[i(479)][i(523)]);for(var e=0,s=[t[i(479)][i(504)],t[i(479)][i(502)]];e<s.length;e++){var u=s[e];u&&u.encryption!==i(572)&&(u.keyId||(u[i(639)]=Qs),u.iv||(u.iv=Ys))}t[i(552)]=void 0,t[i(547)]="",t[i(471)]="";var o,h=t[i(479)][i(464)][i(600)]();if(t[i(479)].type===i(469)?(t[i(677)]="org.w3.clearkey",_s=js):t[i(479)][i(601)]===i(686)?(t[i(677)]=i(604),Us&&n&&(t[i(677)]+=i(659)),t[i(479)][i(509)]?t[i(552)]=t[i(479)][i(509)]:t[i(479)][i(597)]?t[i(547)]=t.config[i(597)]:t[i(552)]=t.config[i(464)][i(570)](),t[i(479)].wvLicenseUrl?t[i(471)]=t.config[i(465)]:t[i(471)]=h+i(580)):t[i(479)][i(601)]===i(589)?(t.keySystem=i(689),t[i(479)][i(521)]?t[i(471)]=t[i(479)][i(521)]:t[i(471)]=h+i(598)):t.config[i(601)]===i(495)&&(t.keySystem="com.apple.fps",t[i(479)][i(485)]?t[i(552)]=t[i(479)][i(485)]:t[i(479)][i(508)]?t[i(547)]=t.config.fpsCertificateUrl:t[i(547)]=h+i(513)+t[i(479)][i(573)],t[i(479)].fpsLicenseUrl?t[i(471)]=t.config[i(606)]:t[i(471)]=h+"/license-server-fairplay/"),o={licenseUrl:t[i(471)],onFetch:t[i(479)][i(645)]},vs=o,t[i(603)]=[],t[i(479)][i(601)]!==i(495)){t[i(603)].push({initDataTypes:[i(591)],sessionTypes:[i(537),i(624)]});for(var a=0,c=[t[i(479)][i(502)],t.config[i(504)]];a<c.length;a++){var v=c[a];if(v&&v[i(667)]!==i(572)){var d=v==t.config[i(502)]?i(502):i(504),l=void 0;"Widevine"===t.config[i(601)]?l="HW"===v[i(599)]?i(621):i(605):"PlayReady"===t.config[i(601)]&&(l="HW"===v[i(599)]?i(511):"2000"),"video"===d?t[i(603)][0][i(593)]=[{contentType:i(615),encryptionScheme:v[i(667)]===i(591)?i(591):"cbcs-1-9",robustness:l||void 0}]:t[i(603)][0].audioCapabilities=[{contentType:i(586),encryptionScheme:v[i(667)]===i(591)?i(591):i(666),robustness:l||void 0}]}}}else t.emeConfig=[{initDataTypes:["sinf"],videoCapabilities:[{contentType:"video/mp4",robustness:""}],distinctiveIdentifier:i(674),persistentState:"not-allowed",sessionTypes:[i(624)]}];Ns[i(567)](i(650),t)}function Zs(t){var i=Ds;Ns[i(567)](i(476));var n=t[i(479)][i(661)];(!t[i(479)][i(502)]||t[i(479)][i(502)][i(667)]===i(572))&&(n=t.config.audioElement),t[i(475)]=null;var r=!t[i(518)]&&t[i(479)].audio&&t[i(479)][i(504)][i(667)]!==i(572),e=t[i(479)][i(502)]&&t[i(479)].video.encryption!==i(572);t[i(596)]=0,t.keyFrameNeeded=!0,t[i(619)]=!1,t[i(617)]=Ws,t[i(585)]=0,t[i(602)]=0,t[i(490)]=-1,t[i(680)]=0,t[i(475)]=new Ge({node:n,mode:i(r?e?566:504:502),fps:60,drm:t}),Os&&t[i(479)][i(661)]&&t.config.videoElement.play().then(function(){})[i(527)](function(){})}function $s(t,i){var n=Ks();return($s=function(t,i){return n[t-=461]})(t,i)}function tu(t,i,n){var r=Ds;if(t[r(474)][r(502)]){Ae.mediaDumps[r(502)].in[r(510)]&&t[r(474)][r(502)][r(519)](new E([0,0,0,1,9,80]));var e=i[r(678)]/90;t[r(474)][r(502)][r(519)](new E(i[r(662)]),e)||(t[r(474)][r(502)]=null)}if(t[r(479)][r(502)]&&"clear"===t[r(479)][r(502)][r(667)])return null==n||n[r(533)](i),!1;var s=Date[r(658)]();if(i[r(601)]===r(651)){var u=Ae.logLevel>=4;++t[r(633)]<(u?Number[r(612)]:5)&&(Ns.debug(Te()+" "+i[r(601)]+", "+i.data.byteLength+r(622)+(r(657)+t.config[r(661)].currentTime)),u&&1===t.keyFrameLogCntr&&function(t,i,n){void 0===i&&(i=64),void 0===n&&(n=64);for(var r=Ds,e=new E(t[r(662)]),s="",u=0,o=0;o<i&&o<e[r(553)];++o)s+=(e[o]<16?"0":"")+e[o][r(644)](16)+" ";if(u<e[r(553)])for(u<e[r(553)]-n&&(s+=r(594),u=e[r(553)]-n);u<e[r(553)];u++)s+=(e[u]<16?"0":"")+e[u][r(644)](16)+" ";Ns[r(531)]("["+((t[r(601)]||r(504))+r(629))+r(501)+s[r(528)]())}(i,128,8)),t.keyFrameNeeded=!1,t[r(596)]=0,t[r(561)]=s+t[r(617)]}return t[r(596)]+=i[r(662)][r(627)],!t[r(491)]&&t[r(596)]>Hs&&(Ns.info(r(623)),t[r(491)]=!0),t[r(475)]&&(function(t,i){var n=Ds;0===t.videoStartTimestamp&&(t.videoStartTimestamp=i.timestamp,t[n(617)]=Ws,t[n(561)]=Date.now()+2e3);var r=null,e=!1;if(i[n(662)][n(627)]<=4)Ns[n(517)]("Discarding corrupted video frame (too small)"),e=!0;else{var s=new E(i[n(662)],0,4);0!=s[0]||0!=s[1]||0!=s[2]||1!=s[3]?(Ns.warn("Discarding corrupted video frame (no Annex B startcode)"),e=!0):!(r=function(t,i){var n=is,r=new DataView(t.data),e=t.data[n(268)]-2,s=r[n(267)](e);if(s<e){var u=e-s;if(69!==r[n(264)](e-1))return es[n(271)](n(260)),null;if(r[n(264)](u++)>>>4!=1)return es[n(271)]("Unsupported SampleAuxInfo version"),null;for(var o=new E(s-2),h=0,a=0;u<e-1;){var c=r[n(264)](u++);a>1&&3===c&&(a=0,c=r.getUint8(u++)),0!==c?a=0:++a,o[h++]=c}var f=new DataView(o[n(256)]),v="cenc"===i?16:0,d=v+2+6*f[n(267)](v);return d+2>h?(es[n(271)](n(270)),null):{sai:o[n(255)](0,d),offset:e-s,seq:f[n(267)](d)}}return null}(i,t.config[n(502)][n(667)]))&&(Ns.warn(n(498)),e=!0)}if(r)if(i[n(601)]===n(651))t[n(490)]=r.seq;else{if(-1===t[n(490)])return 0;var u=r[n(660)]-t[n(490)];if(u<-32767&&(u+=65536),u<=0)return Ns.debug(n(595)+t.prevSeqNum+", curr: "+r.seq),0;u>1&&(e=i[n(601)]!==n(651),Ns[n(517)](n(618)+t[n(490)]+n(641)+r[n(660)]+", restart required: "+e)),t.prevSeqNum=r[n(660)]}var o=0;e&&!t[n(475)][n(530)]&&(o=-1,t[n(475)][n(576)]());var h=(i[n(678)]-t[n(585)])/9e4;return r&&t[n(475)][n(473)]({video:new E(i[n(662)],0,r.offset),videoSampleAuxInfo:r[n(536)],timestamp:h})<0&&(o=-1,Ns[n(517)](n(562)),Zs(t)),o>=0&&i[n(601)]===n(651)&&(t[n(680)]=h),o}(t,i)<0?t[r(491)]=!0:function(t){var i=Ds,n=t[i(479)][i(661)];if(!(!n||n[i(685)][i(553)]<1||n.paused||n[i(691)]<zs)){var r=t[i(479)][i(571)];if(void 0===r||r<0)throw new y(i(493));var e,s,u,o,h,a=n[i(685)].end(n.buffered[i(553)]-1),c=1e3*(a-n[i(691)])|0;if(!t[i(483)]&&(h=Ds,(o=(s=c)<3*(u=r)>>>2?.875:s<=u?1:s<7*u>>>2?1.125:s<9*u>>>2?1.25:s<11*u>>>2?1.375:1.5)!==(e=n).playbackRate&&(e[h(535)]=o)),!(c<r+50||c<5*r>>>2))if(t[i(680)]>n[i(691)]+.1){var f=1e3*(a-t.lastKeyFrameTime)|0;f>40&&f>r-100?(Ns.debug(Te()+i(499)+(n[i(691)]+i(668)+t.lastKeyFrameTime+" (")+(t[i(680)]-n[i(691)])+")"),n[i(691)]=t[i(680)]):Ns[i(567)](Te()+" too close to seek, "+f)}else!t.keyFrameNeeded&&Date[i(658)]()>t[i(561)]&&c>r+100&&c>3*r>>>1&&(Ns[i(567)](Te()+i(467)+c+i(688)),t[i(491)]=!0,t[i(617)]<16e3&&(t[i(617)]<<=1))}}(t)),n?(!t[r(491)]||!Vs)&&(i[r(662)]=function(t){return!os&&(i=us,os=new E([0,0,0,1,65,154,255,255])[i(372)],ss[i(371)](new E([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[i(372)]),ss[i(371)](ss[0][i(376)](0)),new E(ss[1])[i(375)]([16,0,50],27)),t?os:ss[hs^=1];var i}(t[r(491)]),n[r(533)](i)):t[r(491)]!=t.keyFrameNeededPosted&&(t[r(500)]&&t.worker.postMessage(t[r(491)]),t.keyFrameNeededPosted=t[r(491)]),t.keyFrameNeeded}function iu(t,i,n){var r=Ds;if(t.dbgMediaDump.audio){var e=i[r(678)]/48;t[r(474)][r(504)][r(519)](new E(i.data),e)||(t.dbgMediaDump[r(504)]=null)}return t[r(479)].audio&&t[r(479)].audio[r(667)]!==r(572)?i[r(662)][r(627)]>0&&function(t,i){var n,r=Ds;if(!t[r(475)]||t[r(518)])return 0;0===t[r(602)]&&(t.audioStartTimestamp=i[r(678)]);var e=(i[r(678)]-t[r(602)])/48e3;if((null===(n=t[r(479)][r(504)])||void 0===n?void 0:n[r(667)])===r(616))return t.jmuxer[r(473)]({audio:new E(i[r(662)]),timestamp:e});var s=function(t){var i=is,n=new DataView(t[i(261)]),r=t.data[i(268)]-2,e=n[i(267)](r);if(e<r){var s=r-e;if(69!==n[i(264)](r-1))return es.error("SampleAuxInfo corrupted (postfix not found)"),null;if(n[i(264)](s++)>>>4!=1)return es[i(271)]("Unsupported SampleAuxInfo version"),null;for(var u=new E(e-2),o=0;s<r-1;){var h=n[i(264)](s++);if(u[o++]=h,o>=16)break}return{sai:u,offset:r-e}}return null}(i);s?t.jmuxer[r(473)]({audio:new E(i[r(662)],0,s[r(669)]),audioSampleAuxInfo:s[r(536)],timestamp:e}):Ns[r(690)](r(590))}(t,i):n&&n[r(533)](i),!1}function nu(t){var i,n,r,e,s,u=Ds;if(!t||(void 0===t?"undefined":W(t))!==u(672))throw new p(u(481));if(!V(t.videoElement,HTMLVideoElement))throw new p("Invalid videoElement, it must be an instance of HTMLVideoElement.");if(t[u(526)]&&!V(t[u(526)],HTMLMediaElement))throw new p("Invalid audioElement, it must be an instance of HTMLMediaElement.");if(void 0!==t[u(571)]&&!Number[u(643)](t[u(571)]))throw new p("DRM config mediaBufferMs should be an integer.");for(var o=!1,h=!1,a=!1,c=[u(616),"cenc",u(572)],f=["SW","HW"],v=0,d=[t.video,t[u(504)]];v<d.length;v++){var w=d[v];if(w){if(!c[u(548)](w[u(667)]))throw new RangeError("DRM config encryption value must be one of: "+c[u(529)](", "));if(Os&&w.encryption===u(591))throw new RangeError(u(635));if("clear"!==w[u(667)]){if(h=!0,w.keyId){if(!V(w[u(639)],E)||16!==w[u(639)][u(553)])throw new p(u(679));a=!0}else if(Os)throw new ReferenceError(u(558));if(w.iv&&(!V(w.iv,E)||16!==w.iv[u(553)]))throw new p(u(638));if(w[u(599)]&&!f[u(548)](w[u(599)]))throw new RangeError("DRM config robustness can only be one of: "+f[u(529)](", "));if(w===t.video&&w.codec!==u(630))throw new RangeError(u(681));Os&&w===t.audio&&w[u(592)]===u(494)&&(o=!0,Ns.warn(u(625))),t[u(601)]===u(589)&&("cenc"!==w[u(667)]&&Ns[u(517)](u(664)+w[u(667)]+u(556)),void 0===t.sessionId||t[u(575)][u(548)]("f1")||Ns[u(517)](u(472)+t[u(575)]+", a1d1f1 is recommended)."))}}}if(h){var g=[$e[u(652)],$e[u(654)],$e.Production];if(!g[u(548)](t[u(464)]))throw new RangeError("DRM config env value must be one of: "+g.join(", "));if(t[u(523)]&&W(t.authToken)!==u(514))throw new p(u(554)+W(t[u(523)])+u(534));if(t[u(601)])if(Os){if("FairPlay"!==t.type)throw new RangeError(u(637)+t[u(601)]+"). Safari only supports FairPlay.")}else if(Ls){if(t[u(601)]!==u(686)&&"ClearKey"!==t.type)throw new RangeError(u(637)+t[u(601)]+u(583))}else if(Ms&&t[u(601)]!==u(589)&&"Widevine"!==t[u(601)]&&t[u(601)]!==u(469))throw new RangeError(u(637)+t.type+u(582))}if(void 0!==t[u(665)]&&(Ae[u(665)]=t[u(665)]),void 0!==t.mediaDumps){if(t.mediaDumps[u(502)]){var _=t[u(631)].video,m=Ae[u(631)][u(502)];!(null===(i=_.in)||void 0===i)&&i.durationMs&&(m.in[u(675)]=_.in.durationMs),!(null===(n=_.in)||void 0===n)&&n.delimited&&(m.in.delimited=_.in[u(510)]),null!==(r=_[u(683)])&&void 0!==r&&r.durationMs&&(m[u(683)][u(675)]=_[u(683)].durationMs)}if(t[u(631)][u(504)]){var k=t[u(631)][u(504)],b=Ae[u(631)][u(504)];!(null===(e=k.in)||void 0===e)&&e.durationMs&&(b.in.durationMs=k.in.durationMs),null!==(s=k.out)&&void 0!==s&&s[u(675)]&&(b[u(683)][u(675)]=k[u(683)].durationMs)}}var A=Gs[u(524)](t[u(661)]);!A&&(A=new qs(t),Gs[u(587)](t.videoElement,A)),A[u(656)]=h,A.ignoreAudio=o,A[u(483)]=!o&&A[u(479)][u(504)]&&A[u(479)][u(504)][u(667)]!==u(572),h&&(A[u(479)][u(601)]||(A[u(479)][u(601)]=Os?"FairPlay":u(686)),a||A.config.type===u(469)||(A[u(479)][u(601)]=u(469)),Js(A),function(t){se(this,void 0,void 0,function(){var i,n,r,e,s,u,o,h,a,c,f,v,d,w,g,_;return zt(this,function(m){switch(m.label){case 0:if(i=$s,e=t.config[i(661)],(!t.config[i(502)]||t[i(479)].video[i(667)]===i(572))&&(e=t[i(479)][i(526)]),!e)throw new y(i(507));return e[i(574)]="",e[i(557)]=null,[4,e[i(484)](null)];case 1:m.sent(),s=null,m.label=2;case 2:return m.trys.push([2,4,,5]),[4,l[i(461)](t[i(677)],t[i(603)])];case 3:return s=m.sent(),[3,5];case 4:return m.sent(),[3,5];case 5:if(s||!t.emeConfig[0])return[3,9];if(!(void 0!==(u=null===(n=t.emeConfig[0][i(522)])||void 0===n?void 0:n[i(516)](i(537)))&&u>=0))return[3,9];null===(r=t[i(603)][0][i(522)])||void 0===r||r.splice(u,1),m.label=6;case 6:return m.trys.push([6,8,,9]),[4,l[i(461)](t[i(677)],t[i(603)])];case 7:return s=m.sent(),[3,9];case 8:return m.sent(),[3,9];case 9:if(!s)return o=i(634)+t[i(677)]+") failed",[2,(e[i(569)](new CustomEvent(i(563),{detail:{message:o}})),void Ns[i(690)](o))];h=null,m.label=10;case 10:return m.trys.push([10,12,,13]),[4,s.createMediaKeys()];case 11:return h=m.sent(),[3,13];case 12:return m.sent(),[3,13];case 13:return h?t.serverCertificate?(Ns[i(567)](i(684)+t[i(552)][i(627)]+" bytes)"),[4,h.setServerCertificate(t[i(552)])]):[3,15]:(a="createMediaKeys("+t.keySystem+") failed",[2,(e.dispatchEvent(new CustomEvent(i(563),{detail:{message:a}})),void Ns[i(690)](a))]);case 14:return m.sent(),[3,21];case 15:if(!t[i(547)])return[3,21];c={method:i(487)},f=t.serverCertificateUrl,m.label=16;case 16:return m.trys.push([16,20,,21]),[4,t.config[i(645)]?t[i(479)][i(645)](f,c):fetch(f,c)];case 17:return(v=m.sent()).ok?[4,v[i(581)]()]:(d="Server certificate fetch failed with error "+v[i(649)],[2,void e[i(569)](new CustomEvent(i(563),{detail:{message:d}}))]);case 18:return w=m.sent(),Ns[i(567)]("Fetched certificate from "+f+", "+w.byteLength+i(565)),[4,h.setServerCertificate(w)];case 19:return m.sent(),[3,21];case 20:return g=m.sent(),_=g.name+": "+g[i(628)],[2,(Ns[i(690)](_),void e[i(569)](new CustomEvent("rtcdrmerror",{detail:{message:_}})))];case 21:return[4,e[i(484)](h)];case 22:return m.sent(),e[i(555)](i(492),Ps),Zs(t),[2]}})})}(A)),A[u(479)][u(661)][u(555)]("play",function(){var t=u;A[t(479)][t(661)][t(691)]>.5&&(A[t(561)]=Date[t(658)]())})}var ru=Ds(655)+Ds(671)+Ds(477)+Ds(564)+'),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdToggle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f'+Ds(542)+Ds(613)+Ds(609)+Ds(648)+Ds(559);function eu(t){var i,n=Ds;if(0===Gs[n(506)])throw new p(n(568));if(t&&t[n(661)])i=t.videoElement;else{if(1!==Gs[n(506)])throw new p("Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.");i=Gs.keys()[n(646)]()[n(560)]}var r=Gs[n(524)](i);if(!r){var e="";throw Gs[n(480)](function(t,i){e+=i.id+", "}),e=e[n(550)](0,-2),new p(n(608)+i.id+n(515)+e+"]")}return r}function su(t,i){var n=Ds;if(t&&t.config[n(661)]){var r=t.config[n(661)];if(r.buffered[n(553)]>0){var e=r.buffered[n(693)](r.buffered[n(553)]-1)-r.currentTime;i[n(611)]=i.jitterBufferDelayHint=i[n(520)]=e}w(su,1e3,t,i)}}var uu=gt.get("View");uu.setLevel(gt.DEBUG);var ou={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},hu=function(t){function i(i,n,r,e){var s;return void 0===r&&(r=null),void 0===e&&(e=!0),i&&uu.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(s=t.call(this,null,n,uu,e)||this).payloadTypeCodec={},s.tracksMidValues={},s.drmOptionsMap=null,s.eventQueue=[],s.isMainStreamActive=!1,r&&(s.on(Un.track,function(t){r.srcObject=t.streams[0]}),uu.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),s}Ct(i,t);var n=i.prototype;return n.connect=function(){return Vt(function(t){return zt(this,function(i){switch(i.label){case 0:return void 0===t&&(t=ou),this.options=g(d(d({},ou),t),{peerConfig:d(d({},ou.peerConfig),t.peerConfig),setSDPToPeer:!1}),this.eventQueue.length=0,[4,this.initConnection({migrate:!1})];case 1:return i.sent(),[2]}})}).apply(this,arguments)},n.select=function(){return Vt(function(t){return zt(this,function(i){switch(i.label){case 0:return void 0===t&&(t={}),uu.debug("Viewer select layer values: ",t),[4,this.signaling.cmd("select",{layer:t})];case 1:return i.sent(),uu.info("Connected to streamName: ",this.streamName),[2]}})}).apply(this,arguments)},n.addRemoteTrack=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return uu.info("Viewer adding remote track",t),[4,this.webRTCPeer.addRemoteTrack(t,i)];case 1:for(n=s.sent(),r=Lt(i);!(e=r()).done;)e.value.addTrack(n.receiver.track);return[2,n]}})}).call(this)},n.project=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:for(r=function(){var t=s.value;if(!t.trackId&&!t.media)throw uu.error("Error in projection mapping, trackId or mediaId must be set"),new y("Error in projection mapping, trackId or mediaId must be set");var i=n.webRTCPeer.getRTCPeer();if(t.mediaId&&!i.getTransceivers().find(function(i){return i.mid===t.mediaId.toString()}))throw uu.error("Error in projection mapping, ".concat(t.mediaId," mid not found in local transceivers")),new y("Error in projection mapping, ".concat(t.mediaId," mid not found in local transceivers"))},e=Lt(i);!(s=e()).done;)n=this,r();return uu.debug("Viewer project source: layer mappings: ",t,i),[4,this.signaling.cmd("project",{sourceId:t,mapping:i})];case 1:return u.sent(),uu.info("Projection done"),[2]}})}).call(this)},n.unproject=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return uu.debug("Viewer unproject mediaIds: ",t),[4,this.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),uu.info("Unprojection done"),[2]}})}).call(this)},n.replaceConnection=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return uu.info("Migrating current connection"),[4,this.initConnection({migrate:!0})];case 1:return t.sent(),[2]}})}).call(this)},n.stop=function(){var i,n;t.prototype.stop.call(this),null==(i=this.drmOptionsMap)||i.clear(),this.DRMProfile=null,null==(n=this.worker)||n.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},n.initConnection=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,l,_,m,p,b;return zt(this,function(A){switch(A.label){case 0:if(i=this,uu.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,t.abrConfiguration&&t.abrConfiguration.metadata&&(!(e=t.abrConfiguration.metadata.bitrate)||e<0))throw new y("Invalid bitrate ".concat(e," supplied for ABR. The value must be a non-negative integer value."));if(!t.migrate&&this.isActive())throw uu.warn("Viewer currently subscribed"),new y("Viewer currently subscribed");A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.tokenGenerator()];case 2:return s=A.sent(),this.options.peerConfig.iceServers=null==s?void 0:s.iceServers,this.options.peerConfig.encodedInsertableStreams=jr&&(this.options.enableDRM||this.options.metadata),[3,4];case 3:throw u=A.sent(),uu.error("Error generating token."),V(u,ar)&&(401!==u.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),u;case 4:if(!s)throw uu.error("Error while subscribing. Subscriber data required"),new y("Subscriber data required");return o=kr(s.jwt),this.streamName=o.millicast.streamName,h=new ur({streamName:this.streamName,url:"".concat(s.urls[0],"?token=").concat(s.jwt)}),s.subscriberToken&&(this.subscriberToken=s.subscriberToken),[4,(a=t.migrate?new Hn:this.webRTCPeer).createRTCPeer(this.options.peerConfig)];case 5:return A.sent(),null==(n=this.stopReemitingWebRTCPeerInstanceEvents)||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Kt(a,this,k.values(Un).filter(function(t){return t!==Un.track})),this.options.metadata&&(this.worker||(this.worker=new Jr),this.worker.onmessage=function(t){if("metadata"===t.data.event){var n=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=i.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce(function(t,i){return t+i.toString(16).padStart(2,"0")},""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(n.decode(r.timecode))),r.unregistered){var s=n.decode(r.unregistered);try{var u=JSON.parse(s);r.unregistered=u}catch(t){uu.info("The content could not be converted to JSON, returning raw bytes instead")}}i.emit("metadata",r)}}),a.on(Un.track,function(t){i.isMainStreamActive?i.onTrackEvent(t):i.eventQueue.push(t)}),h.on(sr,function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return this.isMainStreamActive||"active"!==t.name?[3,3]:(this.mainSourceId=t.data.sourceId,this.DRMProfile||!t.data.encryption?[3,2]:[4,this.tokenGenerator()]);case 1:(i=n.sent()).drmObject&&(this.DRMProfile=i.drmObject),n.label=2;case 2:for(this.emit(sr,t),this.isMainStreamActive=!0;this.eventQueue.length>0;)this.onTrackEvent(this.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&this.isMainStreamActive&&this.mainSourceId===t.data.sourceId&&(this.isMainStreamActive=!1),this.emit(sr,t),[2]}})}).call(i)}),c=a.getRTCLocalSDP(g(d({},this.options),{stereo:!0})),f=h.connect(),[4,ut.all([c,f])];case 6:return r=A.sent(),v=r[0],l=this.signaling,this.signaling=h,_=this.signaling.subscribe(v,g(d({},this.options),{vad:this.options.multiplexedAudioTracks>0})),m=a.peer.setLocalDescription(a.sessionDescription),[4,ut.all([_,m])];case 7:return r=A.sent(),p=r[0],this.payloadTypeCodec=Nn.getCodecPayloadType(p),[4,a.setRTCRemoteSDP(p)];case 8:return A.sent(),uu.info("Connected to streamName: ",this.streamName),b=this.webRTCPeer,this.webRTCPeer=a,this.setReconnect(),t.migrate&&this.webRTCPeer.on(Un.connectionStateChange,function(t){var i,n;"connected"===t?w(function(){var t,i;null==(t=null==l?void 0:l.close)||t.call(l),null==(i=null==b?void 0:b.closeRTCPeer)||i.call(b),l=b=null,uu.info("Current connection migrated")},1e3):["disconnected","failed","closed"].includes(t)&&(null==(i=null==l?void 0:l.close)||i.call(l),null==(n=null==b?void 0:b.closeRTCPeer)||n.call(b),l=b=null)}),[2]}})}).call(this)},n.onTrackEvent=function(t){var i,n,r;if(this.tracksMidValues[null==(i=t.transceiver)?void 0:i.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,s=this.getDRMConfiguration(e);try{!function(t,i){var n,r,e=Ds,s=t[e(614)][e(503)];s===e(502)&&(t[e(642)][e(611)]=t.receiver[e(505)]=t[e(642)][e(520)]=0);var u=eu(i),o=u[e(479)][e(661)],h=u.config.audioElement;if(u.enabled){var a=""+e(xs?525:470);if(u[e(479)][e(488)])Ns[e(567)](a+e(544));else{if(Ns[e(567)](e(676)+a+e(653)),s===e(502)){var c=Ae[e(631)][e(502)].in[e(675)];c>0&&(u.dbgMediaDump[e(502)]=new Ee(e(502),e(632),c))}else if(s===e(504)){var v=Ae[e(631)][e(504)].in[e(675)];v>0&&(u[e(474)][e(504)]=new Ee(e(504),e(494),v))}if(xs){if(u[e(500)]=function(t){var i=Ds,n=f[i(551)]||f.webkitURL,r=f[i(538)],e=f.Worker;if(!(n&&r&&e&&t))return null;var s=new r([t]);return new e(n[i(610)](s))}(ru),null==u[e(500)])throw new y(e(486));u[e(500)][e(463)]=function(t){var i=e;t[i(662)][i(497)]===i(502)?tu(u,t.data.frame,null):iu(u,t.data.frame,null)},t[e(642)][e(541)]=new RTCRtpScriptTransform(u.worker,{operation:s})}else{var d=s===e(502)?tu:iu,l={drm:u,transform:function(t,i){d(u,t,i)}},w=t[e(642)][e(470)](),g=new TransformStream({transform:l[e(541)][e(545)](l)}),_=w.readable,m=w.writable;_[e(512)](g)[e(640)](m)}}if("audio"===s&&(null===(n=u.config[e(504)])||void 0===n?void 0:n.encryption)===e(572)){if(!h)return void Ns[e(517)](e(579));h[e(557)]!==t[e(546)][0]&&(h[e(557)]=t.streams[0]),u[e(479)][e(661)]&&(t[e(642)].playoutDelayHint=t.receiver.jitterBufferDelayHint=t[e(642)][e(520)]=u[e(479)][e(571)],su(u,t[e(642)]))}else s===e(502)&&(null===(r=u[e(479)][e(502)])||void 0===r?void 0:r.encryption)===e(572)&&o[e(557)]!==t[e(546)][0]&&(o.srcObject=t[e(546)][0])}else o[e(557)]!==t[e(546)][0]&&(o.srcObject=t[e(546)][0])}(t,s)}catch(t){uu.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new y("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new Jr),this.worker.addEventListener("message",function(t){"complete"===t.data.event&&function(t,i,n){var r=Ds,e=eu(n);t[r(601)]?tu(e,t,i):iu(e,t,i)}(t.data.frame,null,s)})}if(this.options.metadata)if(Qr)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:d({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(n=t.transceiver)?void 0:n.mid});else if(jr){var u=t.receiver.createEncodedStreams(),o=u.readable,h=u.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:d({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:h},[o,h])}this.emit(Un.track,t)},n.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},n.onRtcDrmFetch=function(t,i){return Vt(function(){return zt(this,function(n){return[2,(i.headers||(i.headers=new Headers),i.headers.get("x-dt-custom-data")&&i.headers.delete("x-dt-custom-data"),this.subscriberToken?i.headers.append("Authorization","Bearer ".concat(this.subscriberToken)):uu.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,i))]})}).call(this)},n.configureDRM=function(t){var i=this;if(!t)throw new y("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var n={merchant:"dolby",environment:$e.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:re(t.videoEncryptionParams.keyId),iv:re(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(n.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(n.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(n.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(n.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(n.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{nu(n),this.drmOptionsMap.set(t.videoMid,n),t.audioMid&&this.drmOptionsMap.set(t.audioMid,n),n.videoElement.addEventListener("rtcdrmerror",function(t){uu.error("DRM error: ",t.detail.message,"in video element:",n.videoElement.id),i.emit("error",new y(t.detail.message))})}catch(i){uu.error("Failed to configure DRM with options:",t,"error is:",i)}},n.removeDRMConfiguration=function(t){var i;null==(i=this.drmOptionsMap)||i.delete(t)},n.exchangeDRMConfiguration=function(t,i){var n=this.getDRMConfiguration(t),r=this.getDRMConfiguration(i);if(null===n)throw new y("No DRM configuration found for "+t);if(null===r)throw new y("No DRM configuration found for "+i);ee(n.video,r.video,"keyId"),ee(n.video,r.video,"iv");try{nu(n)}catch(t){uu.error("Failed to configure DRM with options:",n,"error is:",t)}try{nu(r)}catch(t){uu.error("Failed to configure DRM with options:",r,"error is:",t)}},Nt(i,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),i}(qr);t.Director=lr,t.Logger=gt,t.PeerConnection=Hn,t.Publish=ie,t.Signaling=ur,t.View=hu,k.defineProperty(t,i.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":W(t))&&(void 0===r?"undefined":W(r))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((e=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:e||self).millicast={})}),hi=M(function(t){function i(){var t=oi();return i=function(){return t},t}U(),Et(),k.defineProperty(t,"__esModule",{value:!0}),function(t,i){for(var n in i)k.defineProperty(t,n,{enumerable:!0,get:k.getOwnPropertyDescriptor(i,n).get})}(t,{get Director(){return i().Director},get Logger(){return i().Logger},get View(){return i().View}})}),ai=M(function(t,i){U(),Et(),i.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),ci=M(function(t,i){U(),Et(),i.exports=function(t,i){var n=i[0],r=i[1],e=i[2],s=i[3],u=n+n,o=r+r,h=e+e,a=n*u,c=r*u,f=r*o,v=e*u,d=e*o,l=e*h,w=s*u,g=s*o,_=s*h;return t[0]=1-f-l,t[1]=c+_,t[2]=v-g,t[3]=0,t[4]=c-_,t[5]=1-a-l,t[6]=d+w,t[7]=0,t[8]=v+g,t[9]=d-w,t[10]=1-a-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),fi=M(function(t,i){U(),Et(),i.exports=function(t,i,n){var r,e,s,u=n[0],o=n[1],h=n[2],a=b.sqrt(u*u+o*o+h*h);if(b.abs(a)<1e-6)return null;return u*=a=1/a,o*=a,h*=a,r=b.sin(i),e=b.cos(i),s=1-e,t[0]=u*u*s+e,t[1]=o*u*s+h*r,t[2]=h*u*s-o*r,t[3]=0,t[4]=u*o*s-h*r,t[5]=o*o*s+e,t[6]=h*o*s+u*r,t[7]=0,t[8]=u*h*s+o*r,t[9]=o*h*s-u*r,t[10]=h*h*s+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),vi=M(function(t,i){U(),Et(),i.exports=function(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}}),di=M(function(t,i){U(),Et(),i.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),li=M(function(t,i){U(),Et(),i.exports=function(t,i){var n=i[0],r=i[1],e=i[2],s=i[3],u=i[4],o=i[5],h=i[6],a=i[7],c=i[8],f=i[9],v=i[10],d=i[11],l=i[12],w=i[13],g=i[14],_=i[15],m=n*o-r*u,y=n*h-e*u,p=n*a-s*u,k=r*h-e*o,b=r*a-s*o,A=e*a-s*h,T=c*w-f*l,S=c*g-v*l,E=c*_-d*l,I=f*g-v*w,R=f*_-d*w,C=v*_-d*g,P=m*C-y*R+p*I+k*E-b*S+A*T;if(!P)return null;return P=1/P,t[0]=(o*C-h*R+a*I)*P,t[1]=(e*R-r*C-s*I)*P,t[2]=(w*A-g*b+_*k)*P,t[3]=(v*b-f*A-d*k)*P,t[4]=(h*E-u*C-a*S)*P,t[5]=(n*C-e*E+s*S)*P,t[6]=(g*p-l*A-_*y)*P,t[7]=(c*A-v*p+d*y)*P,t[8]=(u*R-o*E+a*T)*P,t[9]=(r*E-n*R-s*T)*P,t[10]=(l*b-w*p+_*m)*P,t[11]=(f*p-c*b-d*m)*P,t[12]=(o*S-u*I-h*T)*P,t[13]=(n*I-r*S+e*T)*P,t[14]=(w*y-l*k-g*m)*P,t[15]=(c*k-f*y+v*m)*P,t}}),wi=M(function(t,i){U(),Et(),i.exports=function(t,i,n){var r=i[0],e=i[1],s=i[2],u=i[3],o=i[4],h=i[5],a=i[6],c=i[7],f=i[8],v=i[9],d=i[10],l=i[11],w=i[12],g=i[13],_=i[14],m=i[15],y=n[0],p=n[1],k=n[2],b=n[3];return t[0]=y*r+p*o+k*f+b*w,t[1]=y*e+p*h+k*v+b*g,t[2]=y*s+p*a+k*d+b*_,t[3]=y*u+p*c+k*l+b*m,y=n[4],p=n[5],k=n[6],b=n[7],t[4]=y*r+p*o+k*f+b*w,t[5]=y*e+p*h+k*v+b*g,t[6]=y*s+p*a+k*d+b*_,t[7]=y*u+p*c+k*l+b*m,y=n[8],p=n[9],k=n[10],b=n[11],t[8]=y*r+p*o+k*f+b*w,t[9]=y*e+p*h+k*v+b*g,t[10]=y*s+p*a+k*d+b*_,t[11]=y*u+p*c+k*l+b*m,y=n[12],p=n[13],k=n[14],b=n[15],t[12]=y*r+p*o+k*f+b*w,t[13]=y*e+p*h+k*v+b*g,t[14]=y*s+p*a+k*d+b*_,t[15]=y*u+p*c+k*l+b*m,t}}),gi=M(function(t,i){U(),Et(),i.exports=function(t,i,n,r,e){var s=1/b.tan(i/2),u=1/(r-e);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*u,t[15]=0,t}}),_i=M(function(t,i){U(),Et(),i.exports=function(t,i,n,r){var e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,A,T,S,E,I,R,C=r[0],P=r[1],D=r[2],N=b.sqrt(C*C+P*P+D*D);if(b.abs(N)<1e-6)return null;C*=N=1/N,P*=N,D*=N,e=b.sin(n),s=b.cos(n),u=1-s,o=i[0],h=i[1],a=i[2],c=i[3],f=i[4],v=i[5],d=i[6],l=i[7],w=i[8],g=i[9],_=i[10],m=i[11],y=C*C*u+s,p=P*C*u+D*e,k=D*C*u-P*e,A=C*P*u-D*e,T=P*P*u+s,S=D*P*u+C*e,E=C*D*u+P*e,I=P*D*u-C*e,R=D*D*u+s,t[0]=o*y+f*p+w*k,t[1]=h*y+v*p+g*k,t[2]=a*y+d*p+_*k,t[3]=c*y+l*p+m*k,t[4]=o*A+f*T+w*S,t[5]=h*A+v*T+g*S,t[6]=a*A+d*T+_*S,t[7]=c*A+l*T+m*S,t[8]=o*E+f*I+w*R,t[9]=h*E+v*I+g*R,t[10]=a*E+d*I+_*R,t[11]=c*E+l*I+m*R,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t}}),mi=M(function(t,i){U(),Et(),i.exports=function(t,i,n){var r,e,s,u,o,h,a,c,f,v,d,l,w=n[0],g=n[1],_=n[2];i===t?(t[12]=i[0]*w+i[4]*g+i[8]*_+i[12],t[13]=i[1]*w+i[5]*g+i[9]*_+i[13],t[14]=i[2]*w+i[6]*g+i[10]*_+i[14],t[15]=i[3]*w+i[7]*g+i[11]*_+i[15]):(r=i[0],e=i[1],s=i[2],u=i[3],o=i[4],h=i[5],a=i[6],c=i[7],f=i[8],v=i[9],d=i[10],l=i[11],t[0]=r,t[1]=e,t[2]=s,t[3]=u,t[4]=o,t[5]=h,t[6]=a,t[7]=c,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*w+o*g+f*_+i[12],t[13]=e*w+h*g+v*_+i[13],t[14]=s*w+a*g+d*_+i[14],t[15]=u*w+c*g+l*_+i[15]);return t}}),yi={};!function(t,i){for(var n in i)P(t,n,{get:i[n],enumerable:!0})}(yi,{ChromelessPlayer:function(){return sO},ErrorCategory:function(){return dd},ErrorCode:function(){return vd},Player:function(){return sO},cache:function(){return P6},cast:function(){return k0},features:function(){return hO},players:function(){return cO},registerContentProtectionIntegration:function(){return fO},utils:function(){return oO},version:function(){return aO}}),c.exports=(si=yi,L(P({},"__esModule",{value:!0}),si)),U(),Et(),U(),Et(),U(),Et(),U(),Et(),Pt(),U(),Et(),xt(),H(),U(),Et(),H(),U(),Et(),Ft(),U(),Et(),xt(),H(),U(),Et();var pi=function(t){return t.Sv="web",t.Tv="android",t.Ev="android-tv",t.xv="ios",t.Pv="tvos",t.Iv="chromecast",t.Cv="theoliveweb",t}({});var ki=l?l.userAgent:"",bi=ki.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ai=ki.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ti=ki.match(/Android ([0-9\.]+)/i),Si=ki.match(/Windows NT ([0-9\.]+)/i),Ei=ki.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Ii=ki.match(/Firefox\/([0-9\.]+)/i),Ri=ki.match(/OPR\/(\d+\.\d+)/i),Ci=ki.match(/Tizen ([0-9\.]+)/i),Pi=ki.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Di=ki.match(/HbbTV\/([0-9.]+)/i),Ni=ki.match(/(AFT.*) Build/i),xi=function(){function t(){this.Rv=Boolean("ontouchstart"in self||self.DocumentTouch&&V(v,self.DocumentTouch)||l&&l.msMaxTouchPoints),this.Nv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(ki)||/(macintosh|mac(?=_powerpc)\s)/i.test(ki),this.Mv=/Windows NT/i.test(ki),this.Ov=Si?T(Si[1]):0,this.Uv=/Android/i.test(ki),this.Hv=Ti?T(Ti[1]):0,this.qv=/windows phone (8|8\.1)/i.test(ki),this.Gv=/iPhone/i.test(ki),this.Qv=/iPad/i.test(ki),this.Yv=this.Nv&&this.Rv&&!this.Qv,this.Zv=/iPod/i.test(ki),this.r_=/Mobile Safari/i.test(ki),this.s_=/EOS\d*STB/i.test(ki),this.n_=/APP\d*STB/i.test(ki),this.$v=(this.Gv||this.Qv||this.Yv||this.Zv)&&!this.qv,this.i_=Pi?T(Pi[2]):0,this.h_=this.qv||this.$v||this.Uv||this.r_,this.a_=/CriOS/i.test(ki),this.c_=Boolean(self.chrome&&/google/i.test(l.vendor))||this.a_,this.__=this.c_&&/Edg\//i.test(l.userAgent),this.p_=Ai?A(Ai[1],10):0,this.Ng=Boolean(/CriOS/i.test(ki)),this.Dg=Boolean(self.chrome||/Chrome/i.test(ki)||this.Ng),this.f_=bi?A(bi[1],10):0,this.y_=/SMART-TV.*Tizen/i.test(ki),this.A_=Ci?T(Ci[1]):0,this.l_=this.A_>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.A_):void 0,this.T_=/webos|web0s/i.test(ki),this.E_=/HbbTV/i.test(ki),this.P_=!!Di&&function(t){if(!t)return!1;var i=t.split(".").map(Number);return 3===i.length&&1===i[0]&&2===i[1]}(Di[1]),this.C_=/AFT.* Build/i.test(ki),this.R_=Ni?Ni[1]:void 0,this.N_=/VIZIO/i.test(ki),this.M_=/Edge\/\d+/i.test(ki),this.O_=/Trident/i.test(ki),this.U_=this.O_&&!self.ActiveXObject&&"ActiveXObject"in self,this.H_=/Vivaldi/i.test(ki),this.q_=/Firefox/i.test(ki)&&!/Seamonkey/i.test(ki),this.G_=Ii?T(Ii[1]):0,this.j_=/Safari/i.test(ki)&&!/Chrome/i.test(ki)&&!this.qv&&!this.y_,this.K_=Ei?T(Ei[2]):0,this.J_=Boolean(Ri),this.eg=Ri?T(Ri[1]):0,this.hg=/CrKey/.test(ki),this.ag=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(ki),this.fg=/PlayStation 4/i.test(ki),this._g=/PlayStation 5/i.test(ki),this.pg="web"===pi.Ev,this.yg="web"===pi.Tv,this.Sg=this.yg||this.pg,this.Eg="web"===pi.xv,this.Pg="web"===pi.Pv,this.Cg="web"===pi.Iv}return Nt(t,[{key:"Ke",get:function(){return this.Rv}},{key:"Dv",get:function(){return this.Nv}},{key:"Bv",get:function(){return this.Mv}},{key:"Lv",get:function(){return this.Ov}},{key:"Fv",get:function(){return this.Uv}},{key:"Vv",get:function(){return this.Hv}},{key:"Wv",get:function(){return this.qv}},{key:"zv",get:function(){return this.Gv}},{key:"Xv",get:function(){return this.Qv}},{key:"Kv",get:function(){return this.Yv}},{key:"Jv",get:function(){return this.Zv}},{key:"ru",get:function(){return this.$v}},{key:"t_",get:function(){return this.i_}},{key:"e_",get:function(){return this.s_||this.n_}},{key:"vd",get:function(){return this.r_}},{key:"Ks",get:function(){return this.h_}},{key:"o_",get:function(){return this.a_}},{key:"u_",get:function(){return this.c_}},{key:"d_",get:function(){var t;return null!=(t=this.l_)?t:this.f_}},{key:"v_",get:function(){return this.__}},{key:"g_",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.p_>0}},{key:"m_",get:function(){return this.p_}},{key:"w_",get:function(){return this.y_}},{key:"b_",get:function(){return this.A_}},{key:"S_",get:function(){return this.T_}},{key:"k_",get:function(){return this.E_}},{key:"x_",get:function(){return this.P_}},{key:"I_",get:function(){return this.C_}},{key:"IS_FIRETV_AFTMM",get:function(){return"AFTMM"===this.R_}},{key:"D_",get:function(){return this.N_}},{key:"B_",get:function(){return this.M_}},{key:"L_",get:function(){return this.O_}},{key:"F_",get:function(){return this.U_}},{key:"V_",get:function(){return this.H_}},{key:"W_",get:function(){return this.q_}},{key:"z_",get:function(){return this.G_}},{key:"X_",get:function(){return this.j_}},{key:"Q_",get:function(){return 0===this.K_&&Bi.ru?this.i_:this.K_}},{key:"Y_",get:function(){return this.J_}},{key:"Z_",get:function(){return this.eg}},{key:"rg",get:function(){return this.hg}},{key:"og",get:function(){return this.ag}},{key:"cg",get:function(){return!(!this.S_&&!this.w_)&&this.d_<=56}},{key:"dg",get:function(){return this.fg}},{key:"vg",get:function(){return this._g}},{key:"gg",get:function(){return this.pg}},{key:"wg",get:function(){return this.yg}},{key:"Ag",get:function(){return this.Sg}},{key:"Tg",get:function(){return this.Eg}},{key:"xg",get:function(){return this.Pg}},{key:"Ig",get:function(){return this.Cg}},{key:"Rg",get:function(){return this.Dg}},{key:"IS_IOS_CHROME",get:function(){return this.Ng}}]),t}();xi.Bg=new xi;var Bi=xi.Bg;U(),Et(),ct();var Oi={}.hasOwnProperty,Mi={}.toString;function Li(t){return null!=t}function Fi(t){return void 0===t}var Ui,Vi=Array.isArray||function(t){return"[object Array]"===Mi.call(t)};function Hi(t){return Wi(t)&&Oi.call(t,"length")&&Qi(t.length)}function Wi(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}function zi(t){return Wi(t)&&t.constructor&&t.constructor===k}function Xi(t){return"string"==typeof t}function qi(t){return"boolean"==typeof t}function Gi(t){return Li(t)&&"function"==typeof t.then}function ji(t){return"[object Date]"===Mi.call(t)}function Qi(t){return"number"==typeof t}function Yi(t){return"function"==typeof t}function Ki(t){return Yi(t)||Wi(t)}function Ji(t){return Wi(t)&&!Vi(t)}function Zi(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $i(t){for(var i;Li(i=t.firstChild);)t.removeChild(i)}function tn(t,i){for(var n;Li(n=t.firstChild);)i.appendChild(n)}function nn(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}function rn(t){var i=t.className;return"string"==typeof i?i:i&&"string"==typeof i.baseVal?i.baseVal:""}function en(t,i){var n=t.className;"string"==typeof n?t.className=i:n&&"string"==typeof n.baseVal&&(n.baseVal=i)}function sn(t,i){if(void 0!==t.classList)t.classList.add(i);else if(void 0!==t.className){var n=rn(t);-1===(" "+n+" ").indexOf(" "+i+" ")&&en(t,(n+" "+i).trim())}}function un(t){t.stopPropagation()}function on(t,i){Bi.w_&&Bi.b_<3?function(t,i){var n=i;switch(i){case"flex":n="-webkit-flex";break;case"inline-flex":n="-webkit-inline-flex"}t.display=n}(t,i):function(t,i){if(t.display=i,t.display!==i){var n=i;switch(i){case"flex":n="-ms-flexbox";break;case"inline-flex":n="-ms-inline-flexbox"}t.display=n}}(t,i)}function hn(t,i){var n=i.style;if(n)for(var r,e=Lt(k.keys(t));!(r=e()).done;){var s=r.value,u=t[s];void 0!==u&&(n[s]=u)}}function an(t){var i=t.style;i.position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%"}function cn(t){var i=t.style;i.position="",i.left="",i.right="",i.top="",i.bottom="",i.width="",i.height=""}function fn(t){t.removeAttribute("title")}function vn(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}U(),Et(),U(),Et();var dn=function(){},ln=function(t){return t};function wn(t,i){var n=-1/0;return function(){for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];var u=Ui.Mg();u-n>=i&&(t.apply(this,e),n=u)}}function gn(t,i){var n=0;return function(){for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];var u=this;0!==n&&Ui.Lg(n),n=Ui.Og(function(){n=0,t.apply(u,e)},i)}}function _n(t){var i;return function(){return void 0!==t&&(i=t(),t=void 0),i}}function mn(t,i){return pn(t.slice(),i)}function yn(t,i){var n=pn(t,i);return n!==t&&kn(n,void 0,t.length,t),t}function pn(t,i){var n=t,r=n.length;if(r<=1)return n;for(var e=new Array(r),s=1;s<r;s*=2){kn(n,i,s,e);var u=n;n=e,e=u}return n}function kn(t,i,n,r){var e,s,u,o,h,a=t.length,c=0,f=2*n;for(s=0;s<a;s+=f)for(e=(u=s+n)+n,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)i&&i(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}U(),Et(),Wt(),Qt(),U(),Et(),jt(),U(),Et(),jt(),U(),Et(),xt(),Ft(),U(),Et(),Wt(),Ft(),Qt(),U(),Et(),U(),Et(),U(),Et();var bn=9007199254740991,An=b.pow(2,-52);function Tn(t,i,n){return b.min(b.max(t,i),n)}function Sn(t,i,n){return t===i||b.abs(t-i)<=n}function En(t,i){if(t===i)return!0;var n=b.abs(t-i);return n<An||n<b.max(b.abs(t),b.abs(i))*An}function In(t,i){return t%i+(t<0?i:0)}function Rn(t){return t!=t}function Cn(t,i){return t===i||Rn(t)&&Rn(i)}function Pn(t,i){for(var n=t,r=i;0!==r;){var e=n%r;n=r,r=e}return n<0?-n:n}function Dn(t,i){return t.reduce(function(t,n){return t+i(n)},0)}var Nn=function(t){return t[t.rh=0]="rh",t[t.Fg=1]="Fg",t[t.Ug=-1]="Ug",t}({}),xn=function(t,i){return(0|t)-(0|i)},Bn=function(t,i){return t===i?0:t<i?-1:t>i?1:S(t)?S(i)?0:1:-1};function On(t,i,n){return Sn(t,i,n)?0:Bn(t,i)}var Mn=function(t,i){return En(t,i)?0:Bn(t,i)};var Ln="function"==typeof Array.prototype.find?function(t,i){return t.find(i)}:function(t,i){var n=Hn(t,i);return-1===n?void 0:t[n]},Fn=Ln,Un="function"==typeof Array.prototype.findLast?function(t,i){return t.findLast(i)}:function(t,i){var n=Wn(t,i);return-1===n?void 0:t[n]},Vn=Un,Hn="function"==typeof Array.prototype.findIndex?function(t,i){return t.findIndex(i)}:function(t,i){for(var n=0;n<t.length;n+=1){if(i(t[n],n,t))return n}return-1},Wn="function"==typeof Array.prototype.findLastIndex?function(t,i){return t.findLastIndex(i)}:function(t,i){for(var n=t.length-1;n>=0;n-=1){if(i(t[n],n,t))return n}return-1},zn="function"==typeof Array.prototype.at?function(t,i){return t.at(i)}:function(t,i){var n=t.length,r=i>=0?i:n+i;return r<0||r>=n?void 0:t[r]};function Xn(t,i){var n=t.indexOf(i);return-1!==n&&(qn(t,n),!0)}function qn(t,i){0===i?t.shift():t.splice(i,1)}function Gn(t,i){for(var n=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===i){e++,n.length-=1;break}n[r++]=t[e++]}for(;e<t.length;)n[r++]=t[e++];return n}function jn(t,i){return-1!==t.indexOf(i)}function Qn(t,i,n){if(t===i)return!0;if(t.length!==i.length)return!1;for(var r=0;r<t.length;r+=1)if(!n(t[r],i[r]))return!1;return!0}function Yn(t){t.length=0}function Kn(t,i){if(t.length!==i.length)return!1;for(var n,r=Lt(t);!(n=r()).done;){if(!jn(i,n.value))return!1}return!0}Array.prototype.flat;var Jn="function"==typeof Array.prototype.flatMap?function(t,i){return t.flatMap(i)}:function(t,i){for(var n=[],r=0;r<t.length;r++){var e;(e=n).push.apply(e,[].concat(i(t[r],r)))}return n};function Zn(t,i){return tr(t,function(t,n){return Bn(i(t),i(n))})}function $n(t,i){return ir(t,function(t,n){return Bn(i(t),i(n))})}function tr(t,i){if(0!==t.length)return t.reduce(function(t,n){return i(t,n)<=0?t:n})}function ir(t,i){return tr(t,function(t,n){return i(n,t)})}function nr(t){return t.filter(function(i,n){return t.indexOf(i)===n})}function rr(t,i){return ut.all(t.map(i)).then(function(i){return t.filter(function(t,n){return i[n]})})}function er(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=Lt(t),s.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,[4,i(e)]);case 2:if(s.sent())return[2,!0];s.label=3;case 3:return[3,1];case 4:return[2,!1]}})})()}function sr(t,i,n){if(t.length!==i.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],i[r]))return!1;return!0}function ur(t,i){return function(t,i){for(var n=new Array(t),r=0;r<t;r++)n[r]=i(r);return n}(t,i)}var or=function(){function t(){this.Hg=!1,this.Wg=!1,this.qg=[],this.Gg=[]}var i=t.prototype;return i.Vg=function(){if(!this.Hg&&!this.Wg){this.Hg=!0;for(var t,i=Lt(this.qg.slice());!(t=i()).done;){(0,t.value)()}this.zg()}},i.zg=function(){if(!this.Wg){this.Wg=!0;for(var t,i=Lt(this.Gg.slice());!(t=i()).done;){(0,t.value)()}Yn(this.qg),Yn(this.Gg)}},i.Xg=function(t){this.Wg||this.qg.push(t)},i.jg=function(t){this.Wg||Xn(this.qg,t)},i.Qg=function(t){this.Wg||this.Gg.push(t)},i.Kg=function(t){this.Wg||Xn(this.Gg,t)},t}(),hr=function(){function t(){this.Jg=new or}var i=t.prototype;return i.Zg=function(){this.Jg.Vg()},i.zg=function(){this.Jg.zg()},i.$g=function(t){var i=this.Jg;if(!i.Hg)if(t.Hg)i.Vg();else if(!i.Wg&&!t.Wg){var n=function(){r(),i.Vg()},r=function(){t.jg(n),t.Kg(r),i.jg(n),i.Kg(r)};t.Xg(n),t.Qg(r),i.Xg(n),i.Qg(r)}},i.tp=function(){var i=new t,n=new t,r=i.Yg,e=n.Yg,s=this.Jg,u=function(){r.Hg&&e.Wg||e.Hg&&r.Wg?s.Vg():r.Wg&&e.Wg&&s.zg()};r.Xg(u),e.Xg(u),r.Qg(u),e.Qg(u),i.$g(s),n.$g(s);return s.Qg(function(){r.jg(u),e.jg(u),r.Kg(u),e.Kg(u)}),[i,n]},i[e]=function(){this.Zg()},t.ep=function(i){for(var n,r=new t,e=Lt(i);!(n=e()).done;){var s=n.value;void 0!==s&&r.$g(s)}return r},Nt(t,[{key:"Yg",get:function(){return this.Jg}}]),t}();U(),Et(),Wt(),xt(),Pt(),H(),Qt(),U(),Et(),xt(),Pt();var ar=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];y.apply(this,i)};(ar.prototype=k.create(y.prototype)).constructor=ar;var cr=function(t){function i(i,n){var r;return(r=t.call(this)||this).cause=void 0,r.message=i||"Unknown error",r.cause=n,y.captureStackTrace&&y.captureStackTrace(r,r.constructor),r}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"BaseError"}}]),i}(ar),fr=function(t){function i(i,n){return t.call(this,i||"Aborted",n)||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"AbortError"}}]),i}(cr);function vr(t){return V(t,y)&&"AbortError"===t.name}function dr(t){if(t&&t.Hg)throw new fr}function lr(t){if(vr(t))throw t}function wr(t){if(!vr(t))throw t}function gr(t,i){return i?new ut(function(n,r){if(i.Hg)return t.catch(dn),r(new fr);var e=function(){i.jg(e),r(new fr)};i.Xg(e),t.then(function(t){i.jg(e),n(t)},function(t){i.jg(e),r(t)})}):t}function _r(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:n={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),qt(n,i,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),n.error=r,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})})()}function mr(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:n={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),qt(n,i,!1),[4,t(i.Yg)];case 2:return[2,e.sent()];case 3:return r=e.sent(),n.error=r,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})})()}var yr=ut.resolve(),pr="function"==typeof queueMicrotask?queueMicrotask:function(t){yr.then(t)};function kr(t){t.then(dn,dn)}function br(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,ut.all(t)];case 1:return[2,n.sent()];case 2:return i=n.sent(),[4,ut.all(t.map(function(t){return t.catch(dn)}))];case 3:throw n.sent(),i;case 4:return[2]}})})()}function Ar(t,i){return new ut(function(n,r){if(void 0!==i&&i.Hg)r(new fr);else{var e=Ui.Og(function(){void 0!==i&&i.jg(s),n()},t),s=function(){Ui.Lg(e),r(new fr)};void 0!==i&&i.Xg(s)}})}function Tr(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),r=qt(n,new hr,!1),[4,ut.race([t,Ar(i,r.Yg).then(function(){throw new y("Timeout")})])];case 2:return[2,s.sent()];case 3:return e=s.sent(),n.error=e,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})})()}function Sr(t){return"video"===nn(t)}function Er(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load()),t.hasChildNodes()&&(!function(t,i){for(var n=t.childNodes,r=n.length-1;r>=0;r--){var e=n.item(r);nn(e)===i&&t.removeChild(e)}}(t,"source"),t.load())}function Ir(){return void 0!==v?v.createElement("video"):void 0}var Rr=_n(Ir),Cr=_n(function(){return"undefined"!=typeof HTMLVideoElement&&V(Rr(),HTMLVideoElement)});function Pr(t){var i=v.createElement(t);return Sr(i)&&i.addEventListener("contextmenu",Br),Nr(i),i}function Dr(t){Nr(t),t.removeEventListener("contextmenu",Br)}function Nr(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),$i(t),Er(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload="auto",t.controls=!1,t.style.display="none",Sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function xr(t,i){if(i.sp){var n=t.muted;t.muted=!0,t.muted=!1,t.muted=n}else if(t.paused){var r=t.play();Gi(r)&&kr(r),t.pause()}}function Br(t){t.preventDefault()}U(),Et(),U(),Et(),U(),Et(),ct();var Or=null;try{Or=new WebAssembly.Instance(new WebAssembly.Module(new E([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(si){}function Mr(t,i,n){this.low=0|t,this.high=0|i,this.unsigned=!!n}function Lr(t){return!0===(t&&t.np)}function Fr(t){var i=b.clz32(t&-t);return t?31-i:i}Mr.prototype.np,k.defineProperty(Mr.prototype,"np",{value:!0}),Mr.isLong=Lr;var Ur={},Vr={};function Hr(t,i){var n,r,e;return i?(e=0<=(t>>>=0)&&t<256)&&(r=Vr[t])?r:(n=zr(t,0,!0),e&&(Vr[t]=n),n):(e=-128<=(t|=0)&&t<128)&&(r=Ur[t])?r:(n=zr(t,t<0?-1:0,!1),e&&(Ur[t]=n),n)}function Wr(t,i){if(S(t))return i?Zr:Jr;if(i){if(t<0)return Zr;if(t>=Qr)return re}else{if(t<=-Yr)return ee;if(t+1>=Yr)return ne}return t<0?Wr(-t,i).neg():zr(t%jr|0,t/jr|0,i)}function zr(t,i,n){return new Mr(t,i,n)}Mr.fromInt=Hr,Mr.fromNumber=Wr,Mr.fromBits=zr;var Xr=b.pow;function qr(t,i,n){if(0===t.length)throw y("empty string");if("number"==typeof i?(n=i,i=!1):i=!!i,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return i?Zr:Jr;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw y("interior hyphen");if(0===r)return qr(t.substring(1),i,n).neg();for(var e=Wr(Xr(n,8)),s=Jr,u=0;u<t.length;u+=8){var o=b.min(8,t.length-u),h=A(t.substring(u,u+o),n);if(o<8){var a=Wr(Xr(n,o));s=s.mul(a).add(Wr(h))}else s=(s=s.mul(e)).add(Wr(h))}return s.unsigned=i,s}function Gr(t,i){return"number"==typeof t?Wr(t,i):"string"==typeof t?qr(t,i):zr(t.low,t.high,"boolean"==typeof i?i:t.unsigned)}Mr.fromString=qr,Mr.fromValue=Gr;var jr=4294967296,Qr=jr*jr,Yr=Qr/2,Kr=Hr(1<<24),Jr=Hr(0);Mr.ZERO=Jr;var Zr=Hr(0,!0);Mr.UZERO=Zr;var $r=Hr(1);Mr.ONE=$r;var te=Hr(1,!0);Mr.UONE=te;var ie=Hr(-1);Mr.NEG_ONE=ie;var ne=zr(-1,2147483647,!1);Mr.MAX_VALUE=ne;var re=zr(-1,-1,!0);Mr.MAX_UNSIGNED_VALUE=re;var ee=zr(0,-2147483648,!1);Mr.MIN_VALUE=ee;var se=Mr.prototype;se.toInt=function(){return this.unsigned?this.low>>>0:this.low},se.toNumber=function(){return this.unsigned?(this.high>>>0)*jr+(this.low>>>0):this.high*jr+(this.low>>>0)},se.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ee)){var i=Wr(t),n=this.div(i),r=n.mul(i).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Wr(Xr(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},se.getHighBits=function(){return this.high},se.getHighBitsUnsigned=function(){return this.high>>>0},se.getLowBits=function(){return this.low},se.getLowBitsUnsigned=function(){return this.low>>>0},se.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ee)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,i=31;i>0&&!(t&1<<i);i--);return 0!=this.high?i+33:i+1},se.isSafeInteger=function(){var t=this.high>>21;return!t||!this.unsigned&&(-1===t&&!(0===this.low&&-2097152===this.high))},se.isZero=function(){return 0===this.high&&0===this.low},se.eqz=se.isZero,se.isNegative=function(){return!this.unsigned&&this.high<0},se.isPositive=function(){return this.unsigned||this.high>=0},se.isOdd=function(){return!(1&~this.low)},se.isEven=function(){return!(1&this.low)},se.equals=function(t){return Lr(t)||(t=Gr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},se.eq=se.equals,se.notEquals=function(t){return!this.eq(t)},se.neq=se.notEquals,se.ne=se.notEquals,se.lessThan=function(t){return this.comp(t)<0},se.lt=se.lessThan,se.lessThanOrEqual=function(t){return this.comp(t)<=0},se.lte=se.lessThanOrEqual,se.le=se.lessThanOrEqual,se.greaterThan=function(t){return this.comp(t)>0},se.gt=se.greaterThan,se.greaterThanOrEqual=function(t){return this.comp(t)>=0},se.gte=se.greaterThanOrEqual,se.ge=se.greaterThanOrEqual,se.compare=function(t){if(Lr(t)||(t=Gr(t)),this.eq(t))return 0;var i=this.isNegative(),n=t.isNegative();return i&&!n?-1:!i&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},se.comp=se.compare,se.negate=function(){return!this.unsigned&&this.eq(ee)?ee:this.not().add($r)},se.neg=se.negate,se.add=function(t){Lr(t)||(t=Gr(t));var i=this.high>>>16,n=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=n+u)>>>16,h+=i+s,zr((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},se.subtract=function(t){return Lr(t)||(t=Gr(t)),this.add(t.neg())},se.sub=se.subtract,se.multiply=function(t){if(this.isZero())return this;if(Lr(t)||(t=Gr(t)),Or)return zr(Or.mul(this.low,this.high,t.low,t.high),Or.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Zr:Jr;if(this.eq(ee))return t.isOdd()?ee:Jr;if(t.eq(ee))return this.isOdd()?ee:Jr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Kr)&&t.lt(Kr))return Wr(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,n=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=n*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=i*h+n*o+r*u+e*s,zr((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},se.mul=se.multiply,se.divide=function(t){if(Lr(t)||(t=Gr(t)),t.isZero())throw y("division by zero");var i,n,r;if(Or)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?zr((this.unsigned?Or.div_u:Or.div_s)(this.low,this.high,t.low,t.high),Or.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Zr:Jr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Zr;if(t.gt(this.shru(1)))return te;r=Zr}else{if(this.eq(ee))return t.eq($r)||t.eq(ie)?ee:t.eq(ee)?$r:(i=this.shr(1).div(t).shl(1)).eq(Jr)?t.isNegative()?$r:ie:(n=this.sub(t.mul(i)),r=i.add(n.div(t)));if(t.eq(ee))return this.unsigned?Zr:Jr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Jr}for(n=this;n.gte(t);){i=b.max(1,b.floor(n.toNumber()/t.toNumber()));for(var e=b.ceil(b.log(i)/b.LN2),s=e<=48?1:Xr(2,e-48),u=Wr(i),o=u.mul(t);o.isNegative()||o.gt(n);)o=(u=Wr(i-=s,this.unsigned)).mul(t);u.isZero()&&(u=$r),r=r.add(u),n=n.sub(o)}return r},se.div=se.divide,se.modulo=function(t){return Lr(t)||(t=Gr(t)),Or?zr((this.unsigned?Or.rem_u:Or.rem_s)(this.low,this.high,t.low,t.high),Or.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},se.mod=se.modulo,se.rem=se.modulo,se.not=function(){return zr(~this.low,~this.high,this.unsigned)},se.countLeadingZeros=function(){return this.high?b.clz32(this.high):b.clz32(this.low)+32},se.clz=se.countLeadingZeros,se.countTrailingZeros=function(){return this.low?Fr(this.low):Fr(this.high)+32},se.ctz=se.countTrailingZeros,se.and=function(t){return Lr(t)||(t=Gr(t)),zr(this.low&t.low,this.high&t.high,this.unsigned)},se.or=function(t){return Lr(t)||(t=Gr(t)),zr(this.low|t.low,this.high|t.high,this.unsigned)},se.xor=function(t){return Lr(t)||(t=Gr(t)),zr(this.low^t.low,this.high^t.high,this.unsigned)},se.shiftLeft=function(t){return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?zr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):zr(0,this.low<<t-32,this.unsigned)},se.shl=se.shiftLeft,se.shiftRight=function(t){return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?zr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):zr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},se.shr=se.shiftRight,se.shiftRightUnsigned=function(t){return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?zr(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):zr(32===t?this.high:this.high>>>t-32,0,this.unsigned)},se.shru=se.shiftRightUnsigned,se.shr_u=se.shiftRightUnsigned,se.rotateLeft=function(t){var i;return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?zr(this.high,this.low,this.unsigned):t<32?(i=32-t,zr(this.low<<t|this.high>>>i,this.high<<t|this.low>>>i,this.unsigned)):(i=32-(t-=32),zr(this.high<<t|this.low>>>i,this.low<<t|this.high>>>i,this.unsigned))},se.rotl=se.rotateLeft,se.rotateRight=function(t){var i;return Lr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?zr(this.high,this.low,this.unsigned):t<32?(i=32-t,zr(this.high<<i|this.low>>>t,this.low<<i|this.high>>>t,this.unsigned)):(i=32-(t-=32),zr(this.low<<i|this.high>>>t,this.high<<i|this.low>>>t,this.unsigned))},se.rotr=se.rotateRight,se.toSigned=function(){return this.unsigned?zr(this.low,this.high,!1):this},se.toUnsigned=function(){return this.unsigned?this:zr(this.low,this.high,!0)},se.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},se.toBytesLE=function(){var t=this.high,i=this.low;return[255&i,i>>>8&255,i>>>16&255,i>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},se.toBytesBE=function(){var t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,i>>>24,i>>>16&255,i>>>8&255,255&i]},Mr.fromBytes=function(t,i,n){return n?Mr.fromBytesLE(t,i):Mr.fromBytesBE(t,i)},Mr.fromBytesLE=function(t,i){return new Mr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)},Mr.fromBytesBE=function(t,i){return new Mr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)},"function"==typeof BigInt&&(Mr.fromBigInt=function(t,i){return zr(Number(BigInt.asIntN(32,t)),Number(BigInt.asIntN(32,t>>BigInt(32))),i)},Mr.fromValue=function(t,i){return"bigint"===(void 0===t?"undefined":W(t))?Mr.fromBigInt(t,i):Gr(t,i)},se.toBigInt=function(){var t=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|t});var ue=Mr;function oe(t,i){return t.lessThan(i)?t:i}function he(t){return!S(t.getTime())}function ae(){return Date.now()||(new Date).getTime()}function ce(t){return t/1e3}function fe(t){return 1e3*t}var ve=1/6,de=ue.fromNumber(bn);function le(t,i){if(0===i)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(de))return t.toNumber()/i;var n=t.divide(i),r=t.subtract(n.multiply(i));return n.toNumber()+r.toNumber()/i}var we=Boolean("ontouchstart"in self||self.DocumentTouch&&V(v,self.DocumentTouch))||Boolean(l&&l.msMaxTouchPoints),ge=Rr(),_e=Boolean(ge&&ge.webkitShowPlaybackTargetPicker),me=function(){function t(){this.hp=void 0,this.Np=!1,this.Ke=we,this.Ks=!1,this.sp=!0}var i=t.prototype;return i.op=function(){return 0},i.Pp=function(t,i){return!0},i.Ip=function(t){return t>=2*ve},Nt(t,[{key:"rp",get:function(){return void 0===this.hp&&(this.hp=this.op()),this.hp}},{key:"ap",get:function(){return Bi.Fv?"android":Bi.Dv?"macos":Bi.ru?"ios":Bi.Bv?"windows":"other"}},{key:"cp",get:function(){return Bi.og?"tv":Bi.Ks?"mobile":"desktop"}},{key:"dp",get:function(){return!Bi.og}},{key:"lp",get:function(){if(f.screen)return{width:f.screen.width*this.fp,height:f.screen.height*this.fp}}},{key:"fp",get:function(){return f.devicePixelRatio||1}},{key:"vp",get:function(){return _e}},{key:"_p",get:function(){return!1}},{key:"gp",get:function(){return!0}},{key:"pp",get:function(){return!!(Bi.X_||Bi.ru||Bi.g_)||!!Bi.D_}},{key:"mp",get:function(){return Bi.D_}},{key:"wp",get:function(){return!Bi.ru}},{key:"yp",get:function(){return!0}},{key:"bp",get:function(){return!0}},{key:"Ap",get:function(){return!1}},{key:"Sp",get:function(){}},{key:"Tp",get:function(){return!0}},{key:"kp",get:function(){return!1}},{key:"Ep",get:function(){return Bi.D_}},{key:"xp",get:function(){return!1}},{key:"Cp",get:function(){return!1}},{key:"Rp",get:function(){return!1}},{key:"Dp",get:function(){return!0}}]),t}(),ye=function(t){function i(){return t.call(this)||this}return Ct(i,t),i}(me);U(),Et(),xt(),Pt();var pe=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Pp=function(t,i){if(t&&t.Bp&&i&&i.Bp){var n=ke(t.Bp,"mp4a.40.2")&&ke(i.Bp,"mp4a.40.5"),r=ke(t.Bp,"mp4a.40.5")&&ke(i.Bp,"mp4a.40.2"),e=ke(t.Bp,"mp4a.40.2")&&ke(i.Bp,"mp4a.40.34"),s=ke(t.Bp,"mp4a.40.34")&&ke(i.Bp,"mp4a.40.2"),u=ke(t.Bp,"mp4a.40.5")&&ke(i.Bp,"mp4a.40.34"),o=ke(t.Bp,"mp4a.40.34")&&ke(i.Bp,"mp4a.40.5");return!(n||r||e||s||u||o)}return!0},Nt(i,[{key:"Sp",get:function(){if(Bi.Dv)return 4096}}]),i}(ye);function ke(t,i){return t.indexOf(i)>-1}U(),Et(),Pt();var be=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Ip=function(t){return t>=2},i}(ye);U(),Et(),xt(),Pt();var Ae=function(t){function i(){var i;return(i=t.call(this)||this).Np=Bi.Q_>=11,i.sp=Bi.X_&&!(Bi.ru&&Bi.Q_<10),i}return Ct(i,t),Nt(i,[{key:"xp",get:function(){return Bi.Q_<17}},{key:"Cp",get:function(){return!0}}]),i}(ye);U(),Et(),xt(),Pt();var Te,Se=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),Nt(i,[{key:"Tp",get:function(){return!(Bi.d_>=133)}}]),i}(ye);U(),Et(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et();var Ee=function(){var t=Ir();if(!t)return!1;var i=t.muted;return t.muted=!i,t.muted!==i}();!function(){if(Bi.Kv)return!1;var t=Ir();if(!t)return!1;var i=t.volume;t.volume=i/2+.1,t.volume}();var Ie=function(t){function i(i){var n;return(n=t.call(this)||this).Mp=void 0,n.Mp=i,n.Np=n.Mp.Np,n.Ke=n.Mp.Ke,n.sp=Ee&&n.Mp.sp,n}Ct(i,t);var n=i.prototype;return n.op=function(){return this.Mp.rp},n.Pp=function(t,i){return this.Mp.Pp(t,i)},n.Ip=function(t){return this.Mp.Ip(t)},Nt(i,[{key:"Sp",get:function(){return this.Mp.Sp}},{key:"Tp",get:function(){return this.Mp.Tp}},{key:"xp",get:function(){return this.Mp.xp}}]),i}(me),Re=function(t){function i(i){var n;return(n=t.call(this,i)||this).Np=!0,n.Ks=!0,n}return Ct(i,t),Nt(i,[{key:"Ap",get:function(){return Bi.ru}}]),i}(Ie);U(),Et();var Ce=function(){function t(t){this.Op=void 0,this.Op=Pe(t)}var i=t.prototype;return i.Lp=function(){return new this.Op},i.Fp=function(t){return this.Op.isTypeSupported(t)},t}();function Pe(t){return t&&Ki(f.ManagedMediaSource)?f.ManagedMediaSource:Ki(f.MediaSource)?f.MediaSource:void 0}var De=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.op=function(){return Pe(!0)?t.prototype.op.call(this):1},Nt(i,[{key:"Ap",get:function(){return!0}}]),i}(Re);U(),Et(),xt(),Pt();var Ne=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Up=void 0,i}return Ct(i,t),i.prototype.Pp=function(i,n){return t.prototype.Pp.call(this,i,n)},Nt(i,[{key:"_p",get:function(){return Bi.b_<3}},{key:"gp",get:function(){return Bi.b_>=3}},{key:"lp",get:function(){var t=this;return f.tizen&&!this.Up&&f.tizen.systeminfo.getPropertyValue("DISPLAY",function(i){var n=i.resolutionWidth,r=i.resolutionHeight;1===n&&1===r||(t.Up={width:n,height:r})}),this.Up}},{key:"kp",get:function(){return Bi.b_<3}}]),i}(Ie);U(),Et(),xt(),Pt();var xe=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Up=void 0,i}return Ct(i,t),Nt(i,[{key:"lp",get:function(){var t=this;return f.webOS&&!this.Up&&f.webOS.deviceInfo(function(i){t.Up={width:i.screenWidth,height:i.screenHeight}}),this.Up}},{key:"yp",get:function(){return!1}}]),i}(Ie);U(),Et(),xt(),Pt();var Be=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),Nt(i,[{key:"Ap",get:function(){return!0}},{key:"Cp",get:function(){return this.Mp.Cp}}]),i}(Ie);U(),Et(),xt(),Pt();var Oe=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),Nt(i,[{key:"Rp",get:function(){return Bi.IS_FIRETV_AFTMM}}]),i}(Ie);!function(t){Te=t}(function(){var t=function(){if(Bi.W_)return new pe;if(Bi.B_||Bi.L_)return new be;if(Bi.X_)return new Ae;if(Bi.Rg)return new Se;return new ye}();return Bi.ru?new De(t):Bi.I_?new Oe(t):Bi.Ks?new Re(t):Bi.w_?new Ne(t):Bi.S_?new xe(t):Bi.Dv?new Be(t):new Ie(t)}()),U(),Et(),xt(),Pt(),U(),Et(),xt(),H(),ct(),U(),Et();var Me=!(Bi.L_&&!Bi.F_),Le=self.console;function Fe(t){if(Wi(t))try{return JSON.stringify(t)}catch(t){}return t}function Ue(t){return t.map(Fe).join(" ")}function Ve(t){var i=Le&&Le[t];return i?i.bind&&Me?i.bind(Le):function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];Le[t](Ue(n))}:void 0}var He=Ve("log")||dn,We=Ve("warn")||He.bind(void 0,"WARNING:"),ze=Ve("error")||He.bind(void 0,"ERROR:"),Xe=function(){var t=Le&&Le.assert;return t?t.bind&&Me?t.bind(Le):function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];Le.assert(t,Ue(n))}:function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t||ze.apply(void 0,[].concat(["Assertion failed:"],n))}}();function qe(t,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function Ge(t,i){var n=function(t,i){var n=t.length;if(n<=1)return t;for(var r=new Array(n),e=1;e<n;e*=2){je(t,i,e,r);var s=t;t=r,r=s}return t}(t,i);return n!==t&&je(n,null,t.length,t),t}function je(t,i,n,r){var e,s,u,o,h,a=t.length,c=0,f=2*n;for(e=0;e<a;e+=f)for(u=(s=e+n)+n,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)i(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}U(),Et();var Qe=/[a-zA-Z]/,Ye=/[0-9]/,Ke=/[0-9a-fA-F]/,Je=/^0x/i,Ze=/^[0-9]+$/,$e=/^[0-9a-fA-F]+$/,ts=/^[0-7]+$/,is=k.prototype.toString,ns=Array.isArray||function(t){return"[object Array]"===is.call(t)},rs=void 0!==i&&"symbol"==typeof r;function es(t){return ns(t)?t:Array.from(t)}function ss(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function us(t){return t>=65&&t<=90}function os(t){return us(t)||function(t){return t>=97&&t<=122}(t)}function hs(t){return t>=48&&t<=57}function as(t){return hs(t)||os(t)}function cs(t){return hs(t)||t>=65&&t<=70||t>=97&&t<=102}function fs(t){return us(t)?t+32:t}function vs(t){return hs(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ds(t,i){return void 0===i&&(i=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(i?87:55):-1}var ls=b.min,ws=String.fromCharCode;function gs(t){for(var i=t.length,n=[],r=0;r<i;r+=16384){var e=ls(r+16384,i);n.push(ws.apply(null,t.slice(r,e)))}return n.join("")}var _s=2147483647,ms=/[^\0-\x7E]/,ys=/[\x2E\u3002\uFF0E\uFF61]/g,ps={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ks=b.floor,bs=String.fromCharCode;function As(t){throw new RangeError(ps[t])}function Ts(t){for(var i=[],n=0,r=t.length;n<r;){var e=t.charCodeAt(n++);if(e>=55296&&e<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?i.push(((1023&e)<<10)+(1023&s)+65536):(i.push(e),n--)}else i.push(e)}return i}var Ss,Es,Is,Rs=function(t,i){return t+22+75*(t<26)-((0!=i)<<5)},Cs=function(t,i,n){var r=0;for(t=n?ks(t/700):t>>1,t+=ks(t/i);t>455;r+=36)t=ks(t/35);return ks(r+36*t/(t+38))},Ps=function(t){return function(t,i){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]);var e=function(t,i){for(var n=[],r=t.length;r--;)n[r]=i(t[r]);return n}((t=t.replace(ys,".")).split("."),i).join(".");return r+e}(t,function(t){return ms.test(t)?"xn--"+function(t){for(var i=[],n=(t=Ts(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&i.push(bs(h))}var a=i.length,c=a;for(a&&i.push("-");c<n;){for(var f=_s,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var w=c+1;f-r>ks((_s-e)/w)&&As("overflow"),e+=(f-r)*w,r=f;for(var g=0,_=t;g<_.length;g++){var m=_[g];if(m<r&&++e>_s&&As("overflow"),m==r){for(var y=e,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(y<k)break;var b=y-k,A=36-k;i.push(bs(Rs(k+b%A,0))),y=ks(b/A)}i.push(bs(Rs(y,0))),s=Cs(e,w,c==a),e=0,++c}}++e,++r}return i.join("")}(t):t})};function Ds(t){for(var i=[],n=0;n<t.length;n++){var r=t[n];r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r)}return gs(i)}function Ns(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function xs(t,i){return t>>i&63|128}function Bs(t,i){4294967168&t?(4294965248&t?4294901760&t?4292870144&t||(i.push(t>>18&7|240),i.push(xs(t,12)),i.push(xs(t,6))):(Ns(t),i.push(t>>12&15|224),i.push(xs(t,6))):i.push(t>>6&31|192),i.push(63&t|128)):i.push(t)}function Os(t){for(var i=[],n=0;n<t.length;n++){Bs(t[n],i)}return i}function Ms(){if(Is>=Es)throw new y("Invalid byte index");var t=255&Ss[Is];if(Is++,128==(192&t))return 63&t;throw new y("Invalid continuation byte")}function Ls(){var t,i;if(Is>Es)throw new y("Invalid byte index");if(Is===Es)return!1;if(t=255&Ss[Is],Is++,!(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|Ms())>=128)return i;throw new y("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|Ms()<<6|Ms())>=2048)return Ns(i),i;throw new y("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|Ms()<<12|Ms()<<6|Ms())>=65536&&i<=1114111)return i;throw new y("Invalid UTF-8 detected")}function Fs(t){return[37,ds(t>>4),ds(15&t)]}function Us(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Vs(t){return Us(t)||32===t||34===t||60===t||62===t||96===t}function Hs(t){return Vs(t)||35===t||63===t||123===t||125===t}function Ws(t){return Hs(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function zs(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Xs(t){return zs(t)||39===t}function qs(t,i){if(!i(t))return[t];for(var n=Os([t]),r=[],e=0;e<n.length;e++){var s=n[e];r.push.apply(r,Fs(s))}return r}function Gs(t,i){for(var n=[],r=0,e=Ts(t);r<e.length;r++){var s=e[r];n.push.apply(n,qs(s,i))}return Ds(n)}function js(t){return function(t){for(var i=[],n=t.length,r=0;r<n;r++){var e=t[r];if(37===e&&r+2<n&&cs(t[r+1])&&cs(t[r+2])){var s=vs(t[r+1])<<4|vs(t[r+2]);i.push(s),r+=2}else i.push(e)}return i}(Os(t))}function Qs(t){return Ds(function(t){Ss=t.slice(),Es=Ss.length,Is=0;for(var i,n=[];!1!==(i=Ls());)n.push(i);return n}(js(Ts(t))))}function Ys(t){var i=t.length,n=[0,0,0,0,0,0,0,0],r=0,e=null,s=0;if(s<i&&":"===t[s]){if(!(s+1<i&&":"===t[s+1]))throw new p;s+=2,e=r+=1}for(;s<i;){if(8===r)throw new p("Too many groups");if(":"!==t[s]){for(var u=0,o=0;o<4&&s<i&&Ke.test(t[s]);)u=u<<4|A(t[s],16),s+=1,o+=1;if("."===t[s]){if(0===o)throw new p;if(s-=o,r>6)throw new p;for(var h=0;s<i;){var a=null;if(h>0){if(!("."===t[s]&&h<4))throw new p;s+=1}if(!Ye.test(t[s]))throw new p;for(;s<i&&Ye.test(t[s]);){var c=A(t[s],10);if(null===a)a=c;else{if(0===a)throw new p;if((a=10*a+c)>255)throw new p}s+=1}n[r]=n[r]<<8|a,2!==(h+=1)&&4!==h||(r+=1)}if(4!==h)throw new p;break}if(":"===t[s]){if((s+=1)===i)throw new p}else if(s<i)throw new p;n[r]=u,r+=1}else{if(null!==e)throw new p("Too many :: groups");s+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)ss(n,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new p;return n}function Ks(t){var i=10,n=Ze;return Je.test(t)?(t=t.slice(2),i=16,n=$e):t.length>=2&&"0"===t[0]&&(t=t.slice(1),i=8,n=ts),""===t?0:n.test(t)?A(t,i):void 0}var Js={Vp:4},Zs=/[\0\t\n\r #%/:?@\[\\\]]/,$s=/[\0\t\n\r #/:?@\[\\\]]/;function tu(t,i){if("["===t[0]){if("]"!==t[t.length-1])throw new p("Invalid IPv6 address");return{Vp:2,Hp:Ys(t.slice(1,-1))}}if(!i)return function(t){if($s.test(t))throw new p("Invalid code point in opaque host");var i=Gs(t,Us);return""===i?Js:{Vp:3,Wp:i}}(t);var n=function(t){var i=function(t){return Ps(t.toLowerCase())}(t);return i}(Qs(t));if(Zs.test(n))throw new p("Invalid code point in host");var r=function(t){var i=t.split(".");if(""===i[i.length-1]&&i.pop(),!(i.length>4)){for(var n=[],r=0;r<i.length;r++){var e=i[r];if(""===e)return;var s=Ks(e);if(void 0===s)return;n.push(s)}for(var u=0;u<n.length-1;u++)if(n[u]>255)throw new p;if(n[n.length-1]>=b.pow(256,5-n.length))throw new p;for(var o=n.pop(),h=0;h<n.length;h++)o+=n[h]*b.pow(256,3-h);return o}}(n);return void 0!==r?{Vp:1,Hp:r}:""===n?Js:{Vp:0,qp:n}}function iu(t){switch(t.Vp){case 0:return t.qp;case 1:return function(t){for(var i=[],n=t,r=1;r<=4;r++)i.push(""+(255&n)),4!==r&&i.push("."),n>>>=8;return i.reverse().join("")}(t.Hp);case 2:return"["+function(t){for(var i="",n=function(t){for(var i=0,n=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>n&&(i=r,n=e),e=0);return e>n&&(i=r,n=e),n>1?i:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}n!==e?(i+=t[e].toString(16),7!==e&&(i+=":")):(i+=0===e?"::":":",r=!0)}return i}(t.Hp)+"]";case 3:return t.Wp;case 4:return""}}var nu=/\+/g;function ru(t){return 42===t||45===t||46===t||95===t||as(t)}function eu(t){for(var i=t.split("&"),n=[],r=0;r<i.length;r++){var e=i[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(nu," "),o=o.replace(nu," ");var h=Qs(u),a=Qs(o);n.push([h,a])}}return n}function su(t){for(var i="",n=0;n<t.length;n++){var r=t[n];n>0&&(i+="&"),i+=uu(Os(Ts(r[0])))+"="+uu(Os(Ts(r[1])))}return i}function uu(t){for(var i=[],n=0;n<t.length;n++){var r=t[n];32===r?i.push(43):ru(r)?i.push(r):i.push.apply(i,Fs(r))}return gs(i)}var ou=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function hu(t){var i=""+t,n=ou.exec(i);return n?function(t,i){for(var n=t.length,r=[],e=i;e<n;e++){var s=t.charCodeAt(e);if(cu(s))if(fu(s)||e===n-1)r.push(au);else{var u=t.charCodeAt(e+1);fu(u)?(r.push(s,u),e++):r.push(au)}else r.push(s)}return t.slice(0,i)+gs(r)}(i,n.index):i}var au=65533,cu=function(t){return 55296==(63488&t)},fu=function(t){return!!(1024&t)};function vu(t,i){var n=t[0],r=i[0];return n===r?0:n<r?-1:1}function du(t){t.zp.length=0}function lu(t,i){!function(t,i){for(var n=0;n<i.length;n++)t[n]=i[n];t.length=i.length}(t.zp,eu(i))}function wu(t){if(t.rc){var i=su(t.zp);""===i&&(i=null),t.rc.rc.Gp=i}}var gu=function(){function t(t){if(void 0===t&&(t=void 0),this.rc=null,null==t)this.zp=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof gu&&!!ns(t.zp)&&(!rs||t[r]===_u)}(t))this.zp=t.zp.slice();else if(function(t){return null!=t&&(!!ns(t)||!!rs&&"function"==typeof t[r])}(t)){this.zp=[];for(var i=0,n=es(t);i<n.length;i++){var e=es(n[i]);if(2!==e.length)throw new p("Invalid name-value pair");this.zp.push([hu(e[0]),hu(e[1])])}}else for(var s in this.zp=[],t)k.prototype.hasOwnProperty.call(t,s)&&this.zp.push([hu(s),hu(t[s])]);else(t=hu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.zp=eu(t)}var i=t.prototype;return i.append=function(t,i){t=hu(t),i=hu(i),this.zp.push([t,i]),wu(this)},i.delete=function(t){t=hu(t);for(var i=this.zp,n=0;n<i.length;){i[n][0]===t?i.splice(n,1):n++}wu(this)},i.get=function(t){t=hu(t);for(var i=this.zp,n=0;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}return null},i.getAll=function(t){t=hu(t);for(var i=this.zp,n=[],r=0;r<i.length;r++){var e=i[r];e[0]===t&&n.push(e[1])}return n},i.has=function(t){t=hu(t);for(var i=this.zp,n=0;n<i.length;n++){if(i[n][0]===t)return!0}return!1},i.set=function(t,i){t=hu(t),i=hu(i);for(var n=this.zp,r=!1,e=0;e<n.length;){var s=n[e];s[0]===t?r?n.splice(e,1):(s[1]=i,r=!0,e++):e++}r||n.push([t,i]),wu(this)},i.sort=function(){Ge(this.zp,vu),wu(this)},i.toString=function(){return su(this.zp)},i.entries=function(){return new ku(this.zp,mu)},i.keys=function(){return new ku(this.zp,yu)},i.values=function(){return new ku(this.zp,pu)},i.forEach=function(t){var i=this;this.zp.forEach(function(n){return t(n[1],n[0],i)})},t}(),_u=gu.prototype.entries;rs&&(gu.prototype[r]=_u);var mu=function(t){return[t[0],t[1]]},yu=function(t){return t[0]},pu=function(t){return t[1]},ku=function(){function t(t,i){this.Xp=0,this.zp=t,this.jp=i}return t.prototype.next=function(){return this.Xp<this.zp.length?{done:!1,value:this.jp(this.zp[this.Xp++])}:{done:!0,value:void 0}},t}(),bu="null";var Au=k.create(null);Au.ftp=21,Au.file=0,Au.gopher=70,Au.http=80,Au.https=443,Au.ws=80,Au.wss=443;var Tu=/^(?:\.|%2e)$/i,Su=/^(?:\.|%2e){2}$/i;function Eu(t){return Tu.test(t)}function Iu(t){return Su.test(t)}function Ru(t){return void 0!==Au[t]}function Cu(t){return Ru(t.Qp)}function Pu(t){return""!==t.Kp||""!==t.Yp}function Du(t){var i=t.length;if(!(i>=2))return!1;if(!xu(t.slice(0,2)))return!1;if(2!==i){var n=t[2];if(47!==n&&92!==n&&63!==n&&35!==n)return!1}return!0}function Nu(t){return 2===t.length&&Qe.test(t[0])&&(":"===t[1]||"|"===t[1])}function xu(t){return 2===t.length&&Nu(gs(t))}function Bu(t){return Nu(t)&&":"===t[1]}function Ou(t){var i=t.Jp;0!==i.length&&("file"===t.Qp&&1===i.length&&Bu(i[0])||i.pop())}function Mu(t){return null===t.Zp||Js===t.Zp||t.$p||"file"===t.Qp}var Lu=-1,Fu=/\t|\n|\r/g,Uu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Vu(t,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null),n||(n=new Wu,t=t.replace(Uu,""));var e=null!==r?r:0;i=i||null;for(var s=[],u=!1,o=!1,h=!1,a=Ts(t=t.replace(Fu,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:Lu;switch(e){case 0:if(!os(v)){if(null===r){s.length=0,e=2;continue}throw new p("Invalid scheme")}s.push(fs(v)),e=1;break;case 1:if(as(v)||43===v||45===v||46===v)s.push(fs(v));else{if(58!==v){if(null===r){s.length=0,e=2,f=0;continue}throw new p("Invalid scheme")}var d=Ds(s);if(null!==r){if(Ru(n.Qp)&&!Ru(d))return;if(!Ru(n.Qp)&&Ru(d))return;if((Pu(n)||null!==n.im)&&"file"===d)return;if("file"===n.Qp&&(n.Zp===Js||null===n.Zp))return}if(n.Qp=d,null!==r)return void(Cu(n)&&n.im===Au[n.Qp]&&(n.im=null));s.length=0,"file"===n.Qp?e=13:Cu(n)&&i&&i.Qp===n.Qp?e=3:Cu(n)?e=7:47===a[f+1]?(e=4,f+=1):(n.$p=!0,n.Jp.push(""),e=18)}break;case 2:if(!i||i.$p&&35!==v)throw new p("Invalid scheme");i.$p&&35===v?(n.Qp=i.Qp,n.Jp=i.Jp.slice(),n.Gp=i.Gp,n.nm="",n.$p=!0,e=20):"file"!==i.Qp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:n.Qp=i.Qp,Lu===v?(n.Kp=i.Kp,n.Yp=i.Yp,n.Zp=i.Zp,n.im=i.im,n.Jp=i.Jp.slice(),n.Gp=i.Gp):47===v?e=6:63===v?(n.Kp=i.Kp,n.Yp=i.Yp,n.Zp=i.Zp,n.im=i.im,n.Jp=i.Jp.slice(),n.Gp="",e=19):35===v?(n.Kp=i.Kp,n.Yp=i.Yp,n.Zp=i.Zp,n.im=i.im,n.Jp=i.Jp.slice(),n.Gp=i.Gp,n.nm="",e=20):92===v&&Cu(n)?e=6:(n.Kp=i.Kp,n.Yp=i.Yp,n.Zp=i.Zp,n.im=i.im,n.Jp=i.Jp.slice(),n.Jp.pop(),e=17,f-=1);break;case 6:!Cu(n)||47!==v&&92!==v?47===v?e=9:(n.Kp=i.Kp,n.Yp=i.Yp,n.Zp=i.Zp,n.im=i.im,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var l=0;l<s.length;l++){var w=s[l];if(58!==w||h){var g=Ds(qs(w,Ws));h?n.Yp+=g:n.Kp+=g}else h=!0}s.length=0}else if(Lu===v||47===v||63===v||35===v||Cu(n)&&92===v){if(u&&0===s.length)throw new p("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(v);break;case 10:case 11:if(null!==r&&"file"===n.Qp)f-=1,e=15;else if(58!==v||o)if(Lu===v||47===v||63===v||35===v||Cu(n)&&92===v){if(f-=1,Cu(n)&&0===s.length)throw new p("Invalid host");if(null!==r&&0===s.length&&(Pu(n)||null!==n.im))return;var _=tu(Ds(s),Cu(n));if(n.Zp=_,s.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new p("Invalid host");var m=tu(Ds(s),Cu(n));if(n.Zp=m,s.length=0,e=12,11===r)return}break;case 12:if(hs(v))s.push(v);else{if(!(Lu===v||47===v||63===v||35===v||Cu(n)&&92===v||null!==r))throw new p("Invalid port");if(0!==s.length){var y=A(Ds(s),10);if(y>65535)throw new p("Invalid port");n.im=y===Au[n.Qp]?null:y,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:n.Qp="file",47===v||92===v?e=14:i&&"file"===i.Qp?Lu===v?(n.Zp=i.Zp,n.Jp=i.Jp.slice(),n.Gp=i.Gp):63===v?(n.Zp=i.Zp,n.Jp=i.Jp.slice(),n.Gp="",e=19):35===v?(n.Zp=i.Zp,n.Jp=i.Jp.slice(),n.Gp=i.Gp,n.nm="",e=20):(Du(a.slice(f))||(n.Zp=i.Zp,n.Jp=i.Jp.slice(),Ou(n)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(i&&"file"===i.Qp&&!Du(a.slice(f))&&(Bu(i.Jp[0])?n.Jp.push(i.Jp[0]):n.Zp=i.Zp),e=17,f-=1);break;case 15:if(Lu===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&xu(s))e=17;else if(0===s.length){if(n.Zp=Js,null!==r)return;e=16}else{var k=tu(Ds(s),Cu(n));if(0===k.Vp&&"localhost"===k.qp&&(k=Js),n.Zp=k,null!==r)return;s.length=0,e=16}else s.push(v);break;case 16:Cu(n)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(n.Gp="",e=19):null===r&&35===v?(n.nm="",e=20):Lu!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Lu===v||47===v||Cu(n)&&92===v||null===r&&(63===v||35===v)){var b=Ds(s);if(Iu(b)?(Ou(n),47===v||Cu(n)&&92===v||n.Jp.push("")):!Eu(b)||47===v||Cu(n)&&92===v?Eu(b)||("file"===n.Qp&&0===n.Jp.length&&xu(s)&&(Js!==n.Zp&&null!==n.Zp&&(n.Zp=Js),s[1]=58,b=Ds(s)),n.Jp.push(b)):n.Jp.push(""),s.length=0,"file"===n.Qp&&(Lu===v||63===v||35===v))for(;n.Jp.length>1&&""===n.Jp[0];)n.Jp.shift();63===v?(n.Gp="",e=19):35===v&&(n.nm="",e=20)}else s.push.apply(s,qs(v,Hs));break;case 18:63===v?(n.Gp="",e=19):35===v?(n.nm="",e=20):Lu!==v&&(n.Jp[0]+=Ds(qs(v,Us)));break;case 19:null===r&&35===v?(n.nm="",e=20):Lu!==v&&(n.Gp+=Ds(qs(v,Cu(n)?Xs:zs)));break;case 20:Lu===v||0===v||(n.nm+=Ds(qs(v,Vs)))}f++}return n}function Hu(t,i,n,r){try{Vu(t,i,n,r)}catch(t){}}var Wu=function(){this.Qp="",this.Kp="",this.Yp="",this.Zp=null,this.im=null,this.Jp=[],this.Gp=null,this.nm=null,this.$p=!1};function zu(t){switch(t.Qp){case"blob":var i;try{i=Vu(t.Jp[0],null)}catch(t){return bu}return zu(i);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,i,n){return t+"://"+iu(i)+(null===n?"":":"+n)}(t.Qp,t.Zp,t.im);default:return bu}}var Xu=function(){function t(t,i){var n,r=null;if(null!=i)if(function(t){return null!=t&&t instanceof Xu&&"object"==typeof t.rc}(i))r=i.rc;else try{r=Vu(String(i),null)}catch(t){throw new p("Invalid base URL: "+t.message)}try{n=Vu(String(t),r)}catch(t){throw new p("Invalid URL: "+t.message)}var e=n.Gp;this.rc=n,this.Gp=function(t){var i=new gu;return null!==t&&lu(i,t),i}(e),this.Gp.rc=this}var i=t.prototype;return i.toString=function(){return this.href},i.toJSON=function(){return this.href},function(t,i,n){i&&qe(t.prototype,i),n&&qe(t,n)}(t,[{key:"href",get:function(){return function(t,i){void 0===i&&(i=!1);var n=t.Qp+":";if(null!==t.Zp?(n+="//",Pu(t)&&(n+=t.Kp,""!==t.Yp&&(n+=":"+t.Yp),n+="@"),n+=iu(t.Zp),null!==t.im&&(n+=":"+t.im)):null===t.Zp&&"file"===t.Qp&&(n+="//"),t.$p)n+=t.Jp[0];else for(var r=0,e=t.Jp;r<e.length;r++)n+="/"+e[r];return null!==t.Gp&&(n+="?"+t.Gp),i||null===t.nm||(n+="#"+t.nm),n}(this.rc)},set:function(t){var i;try{i=Vu(String(t),null)}catch(t){throw new p("Invalid URL: "+t.message)}this.rc=i,du(this.Gp);var n=this.rc.Gp;null!==n&&lu(this.Gp,n)}},{key:"origin",get:function(){return zu(this.rc)}},{key:"protocol",get:function(){return this.rc.Qp+":"},set:function(t){Hu(t+":",null,this.rc,0)}},{key:"username",get:function(){return this.rc.Kp},set:function(t){Mu(this.rc)||(this.rc.Kp=Gs(t,Ws))}},{key:"password",get:function(){return this.rc.Yp},set:function(t){Mu(this.rc)||(this.rc.Yp=Gs(t,Ws))}},{key:"host",get:function(){var t=this.rc,i=t.Zp;if(null===i)return"";var n=t.im,r=iu(i);return null!==n&&(r+=":"+n),r},set:function(t){this.rc.$p||Hu(t,null,this.rc,10)}},{key:"hostname",get:function(){var t=this.rc.Zp;return null===t?"":iu(t)},set:function(t){this.rc.$p||Hu(t,null,this.rc,11)}},{key:"port",get:function(){var t=this.rc.im;return null===t?"":""+t},set:function(t){Mu(this.rc)||(""===t?this.rc.im=null:Hu(t,null,this.rc,12))}},{key:"pathname",get:function(){var t=this.rc.Jp;return this.rc.$p?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.rc.$p||(this.rc.Jp.length=0,Hu(t,null,this.rc,16))}},{key:"search",get:function(){var t=this.rc.Gp;return null===t||""===t?"":"?"+t},set:function(t){t=hu(t);var i=this.rc;if(""===t)return i.Gp=null,void du(this.Gp);"?"===t[0]&&(t=t.slice(1)),i.Gp="",Hu(t,null,i,19),lu(this.Gp,t)}},{key:"searchParams",get:function(){return this.Gp}},{key:"hash",get:function(){var t=this.rc.nm;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.rc.nm="",Hu(t,null,this.rc,20)):this.rc.nm=null}}]),t}();function qu(t){return t.document&&t.document.baseURI||t.location.href||""}U(),Et();var Gu=function(){function t(){this.Mg=void 0,this.xm=new ju,this.Cm=Te,this.Im=Qu(),self.performance&&self.performance.now?this.Mg=function(){return self.performance.now()}:this.Mg=ae}var i=t.prototype;return i.hm=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];He.apply(void 0,[].concat(i))},i.um=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];We.apply(void 0,[].concat(i))},i.dm=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];ze.apply(void 0,[].concat(i))},i.lm=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];Xe.apply(void 0,[].concat([t],n))},i.Og=function(t,i){return w(t,i)},i.fm=function(t,i){return _(t,i)},i.Lg=function(t){g(t)},i.vm=function(t){m(t)},i._m=function(){return this.gm._m()},i.pm=function(){return this.gm.pm()},i.wm=function(){return this.gm.wm()},i.ym=function(){return this.gm.ym()},i.Am=function(){return this.gm.Am()},i.Sm=function(t,i){return this.gm.Sm(t,i)},i.Tm=function(t){return this.gm.Tm(t)},i.Dh=function(t,i){var n;return void 0===i&&(i=qu(f)),n="object"!==(void 0===i?"undefined":W(i))||V(i,Xu)?i:i.href,new Xu(t,n)},i.Pm=function(t,i){if(void 0===i&&(i=qu(f)),this.Im){var n=Xi(i)?i:i.toString();return new self.URL(t,n).href}return this.Dh(t,i).href},Nt(t,[{key:"Em",get:function(){return this.xm}},{key:"Zs",get:function(){return this.Cm}},{key:"Rm",get:function(){return{Dm:l&&l.userAgent.match(/Android /i)?"Android":"other",Nm:Boolean(l&&l.userAgent.match(/Android 8.0.0/i))}}},{key:"Bm",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"Mm",get:function(){return"languages"in l?l.languages.slice():[l.language]}}]),t}(),ju=function(){function t(){}return Nt(t,[{key:"Lm",get:function(){return l.oscpu}},{key:"Zs",get:function(){return l.platform}},{key:"Om",get:function(){return l.vendor}},{key:"Fm",get:function(){return l.vendorSub}}]),t}();function Qu(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function Yu(){return Yu=k.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)k.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}function Ku(){var t=k.create(null);return t.Um=void 0,delete t.Um,t}function Ju(){return new no}function Zu(){return new ro}function $u(t){var i=Ju();for(var n in t)Oi.call(t,n)&&i.set(n,t[n]);return i}function to(t){var i=[];return t.forEach(function(t){return i.push(t)}),i}U(),Et(),Wt(),U(),Et(),Qt(),U(),Et(),xt();var io="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,no=io||function(){var t=function(){function t(t,i){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=i,this.keys=k.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function i(){this.data=Ku(),this.size=0}var n=i.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,i){return this.has(t)||this.size++,this.data[t]=i,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ku(),this.size=0},n.keys=function(){return new t(this.data,function(t,i){return i})},n.values=function(){return new t(this.data,function(t,i){return t[i]})},n.entries=function(){return new t(this.data,function(t,i){return[i,t[i]]})},n.forEach=function(t){for(var i in this.data)t(this.data[i],i)},i}()}();var ro=io||function(){var t=function(){function t(t,i){this.Vm=void 0,this.Hm=void 0,this.Vm=t,this.Hm=i}return t.prototype.next=function(){var t=this.Vm.next();return t.done?t:{value:this.Hm(t.value),done:!1}},t}();return function(){function i(){this.Wm=Ju()}var n=i.prototype;return n.get=function(t){return this.Wm.get(""+t)},n.set=function(t,i){return this.Wm.set(""+t,i),this},n.has=function(t){return this.Wm.has(""+t)},n.delete=function(t){return this.Wm.delete(""+t)},n.clear=function(){this.Wm.clear()},n.keys=function(){return new t(this.Wm.keys(),function(t){return Number(t)})},n.values=function(){return this.Wm.values()},n.entries=function(){return new t(this.Wm.entries(),function(t){var i=t[0],n=t[1];return[Number(i),n]})},n.forEach=function(t){this.Wm.forEach(function(i,n){t(i,Number(n))})},Nt(i,[{key:"size",get:function(){return this.Wm.size}}]),i}()}();U(),Et(),U(),Et();var eo=function(t){return t.qm="9a04f079-9840-4286-ab92-e65be0885f95",t.zm="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Gm="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Xm="e2719d58-a985-b3c9-781a-b030af78d30e",t.jm="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),so="urn:mpeg:dash:mp4protection:2011",uo="cenc",oo="sinf",ho="skd",ao="keyids",co="9a04f079-9840-4286-ab92-e65be0885f95",fo="urn:uuid:"+co,vo="com.microsoft.playready",lo="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",wo="urn:uuid:"+lo,go="com.widevine.alpha",_o="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",mo="urn:uuid:"+_o,yo="org.w3.clearkey",po="e2719d58-a985-b3c9-781a-b030af78d30e",ko="urn:uuid:"+po,bo="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Ao="urn:uuid:"+bo,To="com.apple.fps.1_0",So="identity";U(),Et();var Eo=function(t){return t.qm="playready",t.zm="widevine",t.jm="fairplay",t.Gm="clearkey",t.Xm="clearkey_dash_if",t.Qm="aes128",t}({}),Io={Km:Eo.qm,Ym:vo,Jm:"cenc",Zm:co,$m:fo,iw:"PlayReady"},Ro={Km:Eo.zm,Ym:go,Jm:"cenc",Zm:lo,$m:wo,iw:"Widevine"},Co={Km:Eo.jm,Ym:To,Jm:"skd",Zm:bo,$m:Ao,iw:"FairPlay"},Po={Km:Eo.jm,Ym:"com.apple.fps",Jm:"sinf",Zm:bo,$m:Ao,iw:"FairPlay"},Do={Km:Eo.Gm,Ym:yo,Jm:"cenc",Zm:_o,$m:mo,iw:"ClearKey"},No={Km:Eo.Xm,Ym:yo,Jm:"keyids",Zm:po,$m:ko,iw:"ClearKey DASH-IF"},xo=[Io,Ro,Co,Do,No],Bo=[Io,Ro,Po,Do,No];function Oo(t){return xo.filter(function(i){return i.$m===t.toLowerCase()})}U(),Et(),Ft();var Mo="function"==typeof String.prototype.replaceAll?function(t,i,n){return t.replaceAll(i,n)}:function(t,i,n){return t.split(i).join(n)};function Lo(t,i){return Li(t)&&-1!==t.indexOf(i)}var Fo="function"==typeof String.prototype.startsWith?function(t,i){return Li(t)&&t.startsWith(i)}:function(t,i){return Li(t)&&t.substr(0,i.length)===i},Uo="function"==typeof String.prototype.endsWith?function(t,i){return Li(t)&&t.endsWith(i)}:function(t,i){return Li(t)&&t.substr(t.length-i.length,i.length)===i};function Vo(t,i){return t.length===i.length&&t.toUpperCase()===i.toUpperCase()}var Ho="function"==typeof String.prototype.repeat?function(t,i){return t.repeat(i)}:function(t,i){var n=0|i;if(0===t.length||0===n)return"";for(var r=t,e="";1&~n||(e+=r),0!=(n>>>=1);)r+=r;return e},Wo="function"==typeof String.prototype.padStart?function(t,i,n){return void 0===n&&(n=" "),t.padStart(i,n)}:function(t,i,n){void 0===n&&(n=" ");var r=n,e=(0|i)-t.length;return e<=0?t:(e>r.length&&(r+=Ho(r,e/r.length)),r.slice(0,e)+t)},zo=(String.prototype.padEnd,16384),Xo="function"==typeof String.fromCodePoint?function(t){var i;return t.length<=zo?(i=String).fromCodePoint.apply(i,[].concat(t)):Go(t,String.fromCodePoint)}:function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value;e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return qo(n)};function qo(t){var i;return t.length<=zo?(i=String).fromCharCode.apply(i,[].concat(t)):Go(t,String.fromCharCode)}function Go(t,i){for(var n=[],r=0;r<t.length;r+=zo)n.push(i.apply(void 0,[].concat(t.slice(r,r+zo))));return n.join("")}function jo(t){return t.replace(/[\\"]/g,function(t){return"\\"+t})}var Qo=Bi.u_&&Bi.d_>=42||Bi.W_&&Bi.z_>=38||Bi.B_||Bi.F_||Bi.Y_&&Bi.Z_>=29;function Yo(t,i){return Lo(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Yu({contentType:t},i?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Yu({contentType:t},i?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ko(){return void 0!==l&&"function"==typeof l.requestMediaKeySystemAccess}function Jo(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Zo=function(){function t(t){this.hw=void 0,this.ew=Ju(),this.ow=void 0,this.hw=t}var i=t.prototype;return i.Am=function(){return this.Tm(Ro)},i.pm=function(){return this.Tm(Do)},i.ym=function(){return this.Tm(Io)},i.wm=function(){return this.Tm(Co)},i.Tm=function(t){var i=t.$m,n=this.ew.get(i);if(n)return n;var r=this.Sm(t,'video/mp4; codecs="avc1.42000a"');return this.ew.set(i,r),r},i.Sm=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,7]),[4,this.hw.nw(t.Ym,[Yo(i,!0)])];case 1:return n.sent(),[2,!0];case 2:n.sent(),n.label=3;case 3:return n.trys.push([3,5,,6]),[4,this.hw.nw(t.Ym,[Yo(i,!1)])];case 4:return n.sent(),[2,!0];case 5:return n.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}})}).call(this)},i._m=function(){return this.ow||(this.ow=this.aw()),this.ow},i.aw=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return"https:"===f.location.protocol?[2,!1]:Qo?[4,this.pm()]:[2,!1];case 1:return t.sent()?[2,!1]:[2,!0]}})}).call(this)},t}();function $o(t,i,n){if("function"==typeof n)n.call(t,i);else for(var r,e=Lt(n);!(r=e()).done;){r.value.call(t,i)}}U(),Et(),U(),Et(),Wt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),Pt(),Ft();var th=function(){function t(t){var i=this;this.cw=Ku(),this.fw=void 0,this.dw=0,this._w=void 0,this.Rs=function(t){i.So(t)},this._w=null!=t?t:this}var i=t.prototype;return i.wn=function(t,i){if("function"==typeof i)if("string"==typeof t)this.uw(t,i);else for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;this.uw(e,i)}},i.uw=function(t,i){var n=this.cw[t];void 0===n?this.cw[t]=i:"function"==typeof n?this.cw[t]=[n,i]:0===this.dw?n.push(i):this.cw[t]=n.concat(i)},i.lw=function(t){if("function"==typeof t){var i=this.fw;void 0===i?this.fw=t:"function"==typeof i?this.fw=[i,t]:0===this.dw?i.push(t):this.fw=i.concat(t)}},i.Vo=function(){this.cw=Ku(),this.fw=void 0},i.So=function(t){this.dw++;var i=this.cw[t.type],n=this.fw;void 0!==i&&$o(this._w,t,i),void 0!==n&&$o(this._w,t,n),this.dw--},i.mn=function(t,i){if("function"==typeof i)if("string"==typeof t)this.gw(t,i);else for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;this.gw(e,i)}},i.gw=function(t,i){var n=this.cw[t];void 0!==n&&("function"==typeof n?n===i&&(this.cw[t]=void 0):0===this.dw?Xn(n,i):this.cw[t]=Gn(n,i))},i.pw=function(t){if("string"==typeof t)this.cw[t]=void 0;else for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;this.cw[r]=void 0}},i.mw=function(t){var i=this.fw;void 0!==i&&("function"==typeof i?i===t&&(this.fw=void 0):0===this.dw?Xn(i,t):this.fw=Gn(i,t))},i.ww=function(t,i){var n=this;return new ut(function(r,e){if(i&&i.Hg)return e(new fr);var s=function(t){o(),r(t)},u=function(){o(),e(new fr)},o=function(){n.mn(t,s),i&&i.jg(u)};n.wn(t,s),i&&i.Xg(u)})},t}(),ih=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.So=function(i){var n=this;pr(function(){t.prototype.So.call(n,i)})},i}(th),nh=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.lw=function(i){t.prototype.lw.call(this,i)},n.mw=function(i){t.prototype.mw.call(this,i)},i}(th);U(),Et(),Pt(),U(),Et();var rh=function(t,i){void 0===i&&(i=new Date),this.type=void 0,this.date=void 0,this.type=t,this.date=i};U(),Et();var eh=function(t){return t.yw="Aw",t.Sw="Tw",t.Ew="contentprotectionerror",t.xw="contentprotectionsuccess",t.Pw="currentsourcechange",t.Iw="destroy",t.Cw="durationchange",t.Rw="emptied",t.Dw="encrypted",t.Nw="ended",t.Bw="Mw",t.Lw="Ow",t.Fw="Uw",t.Vw="Hw",t.Ww="loadstart",t.qw="manifestupdate",t.zw="nosupportedrepresentationfound",t.Gw="offline",t.Xw="online",t.jw="pause",t.uo="play",t.Qw="progress",t.Kw="ratechange",t.Yw="representationchange",t.Jw="resize",t.Zw="seeked",t.$w="seeking",t.iy="segmenterror",t.ey="segmentnotfound",t.sy="manifesterror",t.oy="uy",t.ly="vy",t._y="gy",t.do="sourcechange",t.py="timeupdate",t.wy="volumechange",t.yy="by",t.Ay="Sy",t.LICENSE_REQUEST_GENERATED="Ty",t.Ey="metricschange",t}({}),sh=["cenc"],uh=["cbcs","cbcs-1-9"],oh=function(t){function i(i){var n;return(n=t.call(this,eh.Ay)||this).xy=void 0,n.xy=i,n}return Ct(i,t),i}(rh),hh=function(t){function i(i){var n;return(n=t.call(this,eh.LICENSE_REQUEST_GENERATED)||this).Py=void 0,n.Py=i,n}return Ct(i,t),i}(rh),ah=function(t){function i(i,n,r,e){var s;return(s=t.call(this,"Iy")||this).Cy=void 0,s.Ry=void 0,s.Iy=void 0,s.Dy=void 0,s.Cy=i,s.Ry=n,s.Iy=r,s.Dy=e,s}return Ct(i,t),i}(rh),ch=function(t){function i(){return t.call(this,"lt")||this}return Ct(i,t),i}(rh),fh=function(t){return t.Dw="Ny",t.By="My",t}({}),vh=function(t){function i(i,n){var r;return(r=t.call(this,"Ny")||this).Jm=void 0,r.Py=void 0,r.Jm=i,r.Py=n,r}return Ct(i,t),i}(rh),dh=function(t){function i(){return t.call(this,"My")||this}return Ct(i,t),i}(rh);U(),Et(),xt(),Ft(),U(),Et(),Ft(),U(),Et();var lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),wh=/[\t\n\f\r ]/g;function gh(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:_h()}function _h(){throw new y("Invalid base64 input")}function mh(t){var i=t;wh.test(i)&&(i=i.replace(wh,""));var n=i.length;n%4==0&&n>=1&&"="===i[n-1]&&(n>=2&&"="===i[n-2]?n-=2:n-=1,i=i.substr(0,n));var r=n%4;if(1===r)return _h();for(var e,s=0===r?0:4-r,u=new E(function(t,i){return 3*(t+i)/4-i}(n,s)),o=s>0?n-4:n,h=0,a=0;h<o;h+=4)e=gh(i.charCodeAt(h))<<18|gh(i.charCodeAt(h+1))<<12|gh(i.charCodeAt(h+2))<<6|gh(i.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=gh(i.charCodeAt(h))<<2|gh(i.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=gh(i.charCodeAt(h))<<10|gh(i.charCodeAt(h+1))<<4|gh(i.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function yh(t,i,n){return lh[t>>2]+lh[(3&t)<<4|i>>4]+lh[(15&i)<<2|n>>6]+lh[63&n]}function ph(t,i,n){for(var r=[],e=i;e<n;e+=3)r.push(yh(t[e],t[e+1],t[e+2]));return r.join("")}function kh(t){for(var i=t.length,n=i%3,r=[],e=i-n,s=0;s<e;s+=16383)r.push(ph(t,s,b.min(e,s+16383)));if(1===n){var u=t[i-1];r.push(lh[u>>2]+lh[(3&u)<<4]+"==")}else if(2===n){var o=t[i-2],h=t[i-1];r.push(lh[o>>2]+lh[(3&o)<<4|h>>4]+lh[(15&h)<<2]+"=")}return r.join("")}function bh(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Ah(t,i){var n=i.ac,r=t.getUint8(n>>3),e=1<<7-(7&n);return i.Ly(1),(r&e)===e?1:0}function Th(t,i,n){for(var r=0,e=0;e<n;e++)r=2*r+Ah(t,i);return r}U(),Et(),xt(),H(),U(),Et(),xt();var Sh=function(){function t(t){void 0===t&&(t=0),this.uc=void 0,this.uc=t}var i=t.prototype;return i.Ly=function(t){this.uc+=t},i.Oy=function(t){this.uc=t},i.Fy=function(){return new t(this.ac)},Nt(t,[{key:"ac",get:function(){return this.uc}}]),t}();var Eh=b.clz32||function(t){var i=32,n=t>>16;return n&&(i-=16,t=n),(n=t>>8)&&(i-=8,t=n),(n=t>>4)&&(i-=4,t=n),(n=t>>2)&&(i-=2,t=n),(n=t>>1)?i-2:i-t};function Ih(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Rh(t,i){return t>>i&63|128}function Ch(t,i){4294967168&t?(4294965248&t?4294901760&t?4292870144&t||(i.push(t>>18&7|240),i.push(Rh(t,12)),i.push(Rh(t,6))):(Ih(t),i.push(t>>12&15|224),i.push(Rh(t,6))):i.push(t>>6&31|192),i.push(63&t|128)):i.push(t)}function Ph(t,i){if(i.ac>=t.length)throw new y("Invalid byte index");var n=255&t[i.ac];if(i.Ly(1),128==(192&n))return 63&n;throw new y("Invalid continuation byte")}function Dh(t,i){var n=i.ac;if(n>t.length)throw new y("Invalid byte index");if(n===t.length)return!1;var r=255&t[n];if(i.Ly(1),!(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Ph(t,i);if(e>=128)return e;throw new y("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|Ph(t,i)<<6|Ph(t,i);if(s>=2048)return Ih(s),s;throw new y("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|Ph(t,i)<<12|Ph(t,i)<<6|Ph(t,i);if(u>=65536&&u<=1114111)return u}throw new y("Invalid UTF-8 detected")}U(),Et(),U(),Et(),Ft();var Nh=[128,64,32,16,8,4,2,1],xh=function(){function t(t){this.Vy=void 0,this.Vy=t}return t.prototype.Uy=function(t){return Bh(this.Vy,t)},t}();function Bh(t,i){return(t&i)===i}function Oh(t,i){return Bh(t,Nh[i])}function Mh(t,i){var n=t.getUint8(i.ac);return i.Ly(1),n}function Lh(t,i,n){t.setUint8(i.ac,n),i.Ly(1)}function Fh(t,i,n){var r=wa(ma(t),i.ac,i.ac+n);return i.Ly(r.byteLength),r}function Uh(t,i,n){ma(t).set(ma(n),i.ac),i.Ly(n.byteLength)}function Vh(t,i,n){return i.ac+n<=t.byteLength}function Hh(t,i,n,r){return void 0===r&&(r=!1),r?function(t,i,n){for(var r=0,e=1,s=0;s<n;s++)r+=Mh(t,i)*e,e*=256;return r}(t,i,n):function(t,i,n){for(var r=0,e=0;e<n;e++)r=256*r+Mh(t,i);return r}(t,i,n)}function Wh(t,i){var n=t.getUint8(i.ac);return i.Ly(1),n}function zh(t,i,n){void 0===n&&(n=!1);var r=t.getUint16(i.ac,n);return i.Ly(2),r}function Xh(t,i,n,r){void 0===r&&(r=!1),t.setUint16(i.ac,n,r),i.Ly(2)}function qh(t,i,n){void 0===n&&(n=!1);var r=t.getUint32(i.ac,n);return i.Ly(4),r}function Gh(t,i,n,r){void 0===r&&(r=!1),t.setUint32(i.ac,n,r),i.Ly(4)}function jh(t,i,n){void 0===n&&(n=!1);var r=qh(t,i,n),e=qh(t,i,n),s=n?e:r,u=n?r:e;return ue.fromBits(u,s,!0)}function Qh(t,i,n,r){void 0===r&&(r=!1);var e=n.getHighBitsUnsigned(),s=n.getLowBitsUnsigned(),u=r?e:s;Gh(t,i,r?s:e,r),Gh(t,i,u,r)}function Yh(t,i){return Zh(t,i)}function Kh(t,i,n){return qo(Aa(Fh(t,i,n)))}function Jh(t,i){var n,r=Mh(t,i);return 128&r?192==(224&r)?n=64*(31&r)+(63&Mh(t,i)):224==(240&r)?n=4096*(15&r)+64*(63&Mh(t,i))+(63&Mh(t,i)):240==(248&r)&&(n=262144*(7&r)+4096*(63&Mh(t,i))+64*(63&Mh(t,i))+(63&Mh(t,i))):n=r,n}function Zh(t,i){return $h(t,i,!0)}function $h(t,i,n){for(var r=[];i.ac<t.byteLength;){var e=Mh(t,i);if(n&&!e)break;r.push(e)}return qo(r)}function ta(t,i,n){for(var r=n.length,e=0;e<r;e+=1){Lh(t,i,n.charCodeAt(e))}}function ia(t,i){if(i.ac+2<=t.byteLength){var n=t.getUint8(i.ac),r=t.getUint8(i.ac+1);return(254!==n||255!==r)&&(255===n&&254===r||void 0)}}function na(t,i){var n=ia(t,i);return void 0!==n&&i.Ly(2),ra(t,i,!0===n)}function ra(t,i,n){return void 0===n&&(n=!1),ea(t,i,n,!0)}function ea(t,i,n,r){for(var e=[];i.ac+2<=t.byteLength;){var s=zh(t,i,n);if(r&&!s)break;e.push(s)}return qo(e)}function sa(t,i,n,r){void 0===r&&(r=!1);for(var e=n.length,s=0;s<e;s+=1){Xh(t,i,n.charCodeAt(s),r)}}function ua(t){return $h(_a(t),new Ta,!1)}function oa(t){var i=new E(t.length);return ta(_a(i),new Ta,t),i}function ha(t,i){return void 0===i&&(i=!1),ea(_a(t),new Ta,i,!1)}function aa(t,i){void 0===i&&(i=!1);var n=new E(2*t.length);return sa(_a(n),new Ta,t,i),n}function ca(t,i){return i.ac+3<=t.byteLength&&(239===t.getUint8(i.ac)&&187===t.getUint8(i.ac+1)&&191===t.getUint8(i.ac+2))}function fa(t,i){return function(t,i,n){var r=[],e=ca(t,i);e&&i.Ly(3);for(;i.ac<t.byteLength;){var s=Jh(t,i);if(void 0===s)break;if(n&&0===s)break;r.push(s)}return Xo(r)}(t,i,!0)}function va(t){return function(t){return Xo(t)}(function(t,i){var n,r=[],e=new Ta;if(!i){if(!1===(n=Dh(t,e)))return r;65279===n||r.push(n)}for(;!1!==(n=Dh(t,e));)r.push(n);return r}(ma(t)))}function da(t){return new E(function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;)Ch(i.value,n);return n}(function(t){for(var i=[],n=0,r=t.length;n<r;){var e=t.charCodeAt(n++);if(e>=55296&&e<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?i.push(((1023&e)<<10)+(1023&s)+65536):(i.push(e),n--)}else i.push(e)}return i}(t)))}function la(t,i){if(ca(t,i))return fa(t,i);if(void 0!==ia(t,i))return na(t,i);if(i.ac+4<=t.byteLength){if(0===t.getUint8(i.ac)&&0===t.getUint8(i.ac+2))return ra(t,i,!1);if(0===t.getUint8(i.ac+1)&&0===t.getUint8(i.ac+3))return ra(t,i,!0)}return fa(t,i)}function wa(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=t.byteLength),new E(t.buffer,t.byteOffset+i,n-i)}function ga(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=t.byteLength),new DataView(t.buffer,t.byteOffset+i,n-i)}function _a(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ma(t){return new E(t.buffer,t.byteOffset,t.byteLength)}function ya(t){return V(t,ArrayBuffer)||Ra(t)}function pa(t){return V(t,ArrayBuffer)?new E(t):ma(t)}function ka(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=t.byteLength),t.slice?t.slice(i,n):ba(wa(t,i,n))}function ba(t){if(t.slice)return t.slice(0);var i=new E(t.byteLength);return i.set(t,0),i}function Aa(t){return[].slice.call(t)}var Ta=function(){function t(t){void 0===t&&(t=0),this.uc=void 0,this.uc=t}var i=t.prototype;return i.Ly=function(t){this.uc+=t},i.Oy=function(t){this.uc=t},i.Fy=function(){return new t(this.ac)},i.Hy=function(){return new Sh(this.ac<<3)},Nt(t,[{key:"ac",get:function(){return this.uc}}]),t}();function Sa(t){var i=t.toLowerCase(),n=0,r=0;Fo(i,"0x")&&(i=i.substring(2));var e=new E(b.ceil(i.length/2));for(1&~i.length||(n=1,e[r++]=A(i[0],16));n<i.length;n+=2)e[r++]=A(i.substr(n,2),16);return e}function Ea(t){return.001*t}var Ia=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ra=ArrayBuffer.isView||function(t){return t&&jn(Ia,Mi.call(t))};function Ca(t,i){return t===i||t.byteLength===i.byteLength&&Pa(new E(t),new E(i))}function Pa(t,i){if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;if(t.buffer===i.buffer&&t.byteOffset===i.byteOffset)return!0;for(var n=0;n<t.length;n+=1)if(t[n]!==i[n])return!1;return!0}function Da(t,i){return t===i||Pa(pa(t),pa(i))}function Na(t){var i=t.reduce(function(t,i){return t+i.byteLength},0);return xa(t,i)}function xa(t,i){for(var n,r=new E(i),e=0,s=Lt(t);!(n=s()).done;){var u=n.value;r.set(u,e),e+=u.byteLength}return r}function Ba(t,i,n){var r=new E(t.byteLength+i.byteLength),e=wa(t,0,n),s=wa(t,n);return r.set(e),r.set(i,n),r.set(s,n+i.byteLength),r}function Oa(t){return mh(t).buffer}function Ma(t){return kh(new E(t))}function La(t){return kh(oa(t))}var Fa=new E([0]).buffer,Ua=function(){function t(){this.nc=void 0,this.nc=[]}var i=t.prototype;return i.qy=function(t){for(var i,n=Lt(this.nc);!(i=n()).done;){if(Da(i.value[0],t))return!0}return!1},i.zy=function(t){for(var i,n=Lt(this.nc);!(i=n()).done;){var r=i.value;if(Da(r[0],t))return r[1]}},i.Gy=function(t,i){for(var n,r=Lt(this.nc);!(n=r()).done;){var e=n.value;if(Da(e[0],t))return void(e[1]=i)}this.nc.push([t,i])},i.Xy=function(t,i){this.nc.forEach(function(i){return t(i[1],i[0])},i)},i.jy=function(){Yn(this.nc)},Nt(t,[{key:"Wy",get:function(){return this.nc.length}}]),t}();U(),Et();var Va=function(){function t(){var t=this;this.Yy=void 0,this.Qd=void 0,this.Kd=void 0,this.Yy=new ut(function(i,n){t.Qd=i,t.Kd=n})}var i=t.prototype;return i.Qy=function(t){this.Qd&&(this.Qd(t),this.zg())},i.Ky=function(t){this.Kd&&(this.Kd(t),this.zg())},i.Zg=function(){this.Yy.catch(dn),this.Ky(new fr)},i.$g=function(t){var i=this;t.then(function(t){return i.Qy(t)},function(t){return i.Ky(t)})},i.zg=function(){this.Qd=void 0,this.Kd=void 0},t}();function Ha(){return new E([8,4]).buffer}function Wa(t,i){return t===vo?function(t){if(t.byteLength<2*za.length)return t;var i=new DataView(t,0,2*za.length),n=ha(i,!0);if(n===za)return t;return function(t){var i='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',n='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+i+Ma(t)+n;return aa(r,!0).buffer}(t)}(i):i}U(),Et();var za="<PlayReady";U(),Et(),U(),Et(),Pt();var Xa=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,e)||this).Jy=void 0,s.Zy=void 0,s.Jy=n,s.Zy=r,s}return Ct(i,t),i}(cr);U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et();var qa=function(t,i){return(qa=k.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)k.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)};function Ga(t,i){if("function"!=typeof i&&null!==i)throw new p("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}qa(t,i),t.prototype=null===i?k.create(i):(n.prototype=i.prototype,new n)}var ja=function(){return ja=k.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])k.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},ja.apply(this,arguments)};function Qa(t,i,n){return t.indexOf?t.indexOf(i,n):Array.prototype.indexOf.call(t,i,n)}U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et();var Ya=function(){function t(t,i){this.$y=t,this.ib=i}return t.prototype.get=function(t){var i=this.$y.get(t);if(0===this.ib||void 0===i)return i;var n=this.$y.get(t+1)||0,r=i&(1<<8-this.ib)-1,e=n>>8-this.ib;return(r<<this.ib)+e},t.prototype.getBit=function(t){if(!(t<0)){var i=this.$y.get(b.floor((t+this.ib)/8));if(void 0!==i)return(i&1<<7-this.ib-t%8)>0?1:0}},k.defineProperty(t.prototype,"bitLength",{get:function(){return this.$y.bitLength-this.ib},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"length",{get:function(){return this.$y.length},enumerable:!1,configurable:!0}),t}();U(),Et(),U(),Et();b.pow(2,-52);function Ka(t,i,n){return b.min(b.max(t,i),n)}function Ja(t){if(t<=0)return 0;for(var i=0;t>>i>0;)i++;return i>0&&t===1<<i-1&&i--,i}function Za(t,i){return t>>8-i}function $a(t,i){return t&(1<<i)-1}var tc=function(){function t(t){this.eb=t,this.sb=0,this.hb=0}return k.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.sb+this.hb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"done",{get:function(){return this.sb===this.eb.length&&0===this.hb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"location",{get:function(){return{byte:this.sb,bit:this.hb}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var i=new t(this.eb);return i.seek(this.sb,this.hb),i},t.prototype.canReadBits=function(t){return 8*this.sb+t+this.hb<=8*this.eb.length},t.prototype.canReadBytes=function(t){return 0===this.hb?this.sb+t<=this.eb.length:this.sb+t<this.eb.length},t.prototype.incBit=function(){this.hb++,this.hb>7&&(this.sb++,this.hb=0)},t.prototype.seek=function(t,i){this.sb=t,this.hb=i},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new y("Cannot read past end of buffer.");return this.eb.get(this.sb)>>7-this.hb&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new y("Cannot read past end of buffer.");if(0===this.hb)return this.eb.get(this.sb++);var t=$a(this.eb.get(this.sb),8-this.hb),i=Za(this.eb.get(this.sb+1),this.hb);return this.sb++,t<<this.hb|i},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");for(var i=[],n=0;n<t;n++)i.push(this.readBit());return i},t.prototype.readUInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var i=0;if(0===this.hb&&t%8==0)for(var n=t-8;n>=0;n-=8)i|=this.readByte()<<n;else for(n=t-1;n>=0;n--)i|=this.readBit()<<n;return i},t.prototype.readInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var i=this.readUInt(t);return 0===(i&1<<t-1)?i:i-b.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var i=1<<t;return i+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new y("Skipping over the buffer edge is not allowed.");var i=this.hb+t;this.sb+=i>>3,this.hb=7&i},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new y("Cannot read past end of buffer.");for(var i=[],n=0;n<t;n++)i.push(this.readByte());return String.fromCharCode.apply(String,i)},t}();U(),Et(),U(),Et(),U(),Et();var ic=function(t,i){return t===i?0:t<i?-1:t>i?1:S(t)?S(i)?0:1:-1},nc=function(){function t(){this.ob=[],this.ub=[],this.fb=0}return t.from=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];for(var r=new t,e=0,s=i;e<s.length;e++){var u=s[e];r.pushRange(u)}return r},t.prototype.pushRange=function(t,i,n){if(void 0===i&&(i=0),void 0===n&&(n=t.length),n<0)throw new y("The buffer length must be positive.");if(0!==n){if(0===this.ub.length)this.ub.push(0);else{var r=this.ub[this.ub.length-1]+this.ob[this.ob.length-1].length;this.ub.push(r)}this.ob.push(t.subarray(i,i+n)),this.fb+=n}},t.prototype.concat=function(i){var n=new t;return n.pushRange(this.join()),n.pushRange(i.join()),n},t.prototype.copy=function(t,i,n,r){if(void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.length),i<0||n<0||r<0)throw new RangeError;return this.slice(n,r).copyInternal(t,i)},t.prototype.copyInternal=function(t,i){for(var n=0,r=i,e=0,s=this.ob;e<s.length;e++){var u=s[e];t.set(u,r),n+=u.length,r+=u.length}return n},t.prototype.clear=function(){this.ob=[],this.ub=[],this.fb=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var i=this.findContainingBufferIndex(t),n=t-this.ub[i];return this.ob[i][n]}},k.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.ob.length<1)return-1;if(this.ob.length>1){var i=this.join();this.clear(),this.pushRange(i)}var n=this.ob[0];return"number"==typeof t?Qa(n,t):"undefined"!=typeof Buffer?Buffer.from(n.buffer,n.byteOffset,n.byteLength).indexOf(t):function(t,i){if(0===i.length)return 0;for(var n=i[0],r=i.length,e=t.length-r,s=0;s<=e&&!((s=Qa(t,n,s))<0||s>e);s++){for(var u=s+1,o=s+r,h=1;u<o&&t[u]===i[h];u++,h++);if(u===o)return s}return-1}(n,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,i,n){if(0!==t.length){var r=0,e=t.length-1;if(1!==n(t[r],i)){if(1===n(i,t[e]))return e;for(;r!==e;){var s=b.ceil((r+e)/2);n(t[s],i)<=0?r=s:e=s-1}return r}}}(this.ub,t,ic)},t.prototype.join=function(){if(1===this.ob.length)return this.ob[0];var t=new E(this.length);return this.copyInternal(t,0),t},k.defineProperty(t.prototype,"length",{get:function(){return this.fb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,i){if(i<=0||i>4)throw new y("Expected byteLength to be between 0 and 4 but was "+i);if(t<0||t>this.length-i)throw new y("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-i)+")");if(1===i)return this.get(t);for(var n=0,r=0;r<i;r++)n+=this.get(t+r)*b.pow(2,8*(i-r-1));return n},t.prototype.slice=function(i,n){void 0===n&&(n=this.length);var r=Ka(i,0,this.length),e=Ka(n,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var s=new t,u=this.findContainingBufferIndex(r),o=this.ob[u],h=r,a=h-this.ub[u];h+o.length-a<e;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.ub[u],o=this.ob[u];var c=e-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var i=this.length-1,n=this.ob.length-1,r=this.ob[n],e=r.length-1;i>=0&&n>=0;){if(0!==r[e])break;if(0===e){if(0===n)return new t;n-=1,e=(r=this.ob[n]).length-1}else e-=1;i-=1}return this.slice(0,i+1)},t}(),rc=function(){function t(i){this._b=i||t.BUFFER_CHUNK_SIZE,this.gb=!1,this.pb=new nc,this.eb=new E(this._b),this.mb=0,this.wb=0,this.hb=7}return t.prototype.closeByte=function(){this.eb[this.mb++]=this.wb,this.mb>=this._b&&this.closeBuffer(),this.wb=0,this.hb=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mb&&(this.pb.pushRange(this.eb,0,this.mb),t&&(this.eb=new E(this._b)),this.mb=0)},k.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.hb},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.gb)throw new y("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.gb=!0,this.pb},t.prototype.writeBit=function(t){if(this.gb)throw new y("Cannot write to a closed BitWriter.");this.wb|=t<<this.hb,0===this.hb?this.closeByte():this.hb--},t.prototype.writeByte=function(t){if(this.gb)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.wb=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var i=this.hb;this.wb|=Za(t,i+1),this.closeByte(),this.wb=$a(t,8-i)<<i+1,this.hb=i},t.prototype.writeBits=function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.gb)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mb+t.length<=this._b?(this.eb.set(t,this.mb),this.mb+=t.length,this.mb===this._b&&this.closeBuffer()):(this.closeBuffer(),this.pb.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var i=this.hb;this.wb|=Za(t[0],i+1),this.closeByte();for(var n=1;n<t.length;n++){var r=$a(t[n-1],8-i),e=Za(t[n],i+1);this.wb=r<<i+1|e,this.closeByte()}this.wb=$a(t[t.length-1],8-i)<<i+1,this.hb=i}},t.prototype.writeUInt=function(t,i){if(t<0)throw new y("Received a negative number.");if(i>32)throw new y("The max bitlength that can be provided is 32.");if(t>=b.pow(2,i))throw new y("Uint "+t+" cannot be represented in "+i+" bit(s).");if(this.isWritingStartBit&&i%8==0)for(var n=i-8;n>=0;n-=8)this.writeByte(t>>n&255);else for(n=i-1;n>=0;n--)this.writeBool((t&1<<n)>0)},t.prototype.writeInt=function(t,i){if(i>32)throw new y("The max bitlength that can be provided is 32.");if(b.abs(t)>=b.pow(2,i-1))throw new y("Signed integer "+t+" cannot be represented in "+i+" bit(s).");t<0?this.writeUInt(t+b.pow(2,i),i):this.writeUInt(t,i)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new y("Received a negative number.");for(var i=b.floor(b.log2(t+1))+1,n=0;n<i-1;n++)this.writeBit(0);this.writeUInt(t+1,i)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var i=function(t){for(var i=new E(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(t),n=0;n<i.length;n++)this.writeByte(i[n])},t.BUFFER_CHUNK_SIZE=1024,t}();U(),Et();var ec=function(){function t(t){this.rb=new nc,this.ef=t}return t.prototype.closeWriter=function(){void 0!==this.ef&&(this.rb=this.rb.concat(this.ef.close()),this.ef=void 0)},k.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.ef&&(this.ef=new rc),this.ef},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),sc=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new y("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(i){var n=this.getSize(),r=n>=t.LARGE_SIZE/8,e=16===this.boxType.length;i.writeUInt(r?1:n,32),i.writeString(e?"uuid":this.boxType),r&&(i.writeUInt(b.floor(n/t.LARGE_SIZE),32),i.writeUInt(n%t.LARGE_SIZE,32)),e&&i.writeString(this.boxType)},t.prototype.getSize=function(){var i=8+(this.boxType.length>4?16:0),n=this.getBoxContentSize()+i;return n>=t.LARGE_SIZE/8&&(n+=8),n},t.prototype.serialize=function(){var t=new ec;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=b.pow(2,32),t}();function uc(t,i){return V(t,ue)?64===i:t<b.pow(2,i)}function oc(t,i){return b.round(t*b.pow(2,i))}function hc(t,i){for(var n=0;n<i.length;n++)t.writeByte(i[n])}function ac(t,i){return t/b.pow(2,i)}U(),Et(),H();var cc=function(t){function i(i,n,r){var e=t.call(this,i)||this;if(e.version=n,!uc(n,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Ga(i,t),k.defineProperty(i.prototype,"flags",{get:function(){return this.yb},set:function(t){this.yb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},i.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},i}(sc);U(),Et(),U(),Et();var fc=function(t){function i(i,n){var r=t.call(this,i)||this;return r.data=n,r}return Ga(i,t),i.prototype.getBoxContentSize=function(){return this.data.length},i.prototype.serializeBoxContent=function(t){t.concat(nc.from(this.data))},i}(sc);U(),Et(),U(),Et();var vc=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();U(),Et();var dc=16384;function lc(t){var i=t.length;if(i<=dc)return String.fromCharCode.apply(String,t);for(var n=[],r=0;r<i;r+=dc)n.push(String.fromCharCode.apply(String,t.slice(r,r+dc)));return n.join("")}var wc=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,i){return(t&i)===i}(this.raw,t)},t}();function gc(t,i){var n=t.getUint8(i.offset);return i.shift(1),n}function _c(t,i,n){var r=Tc(Ic(t),i.offset,i.offset+n);return i.shift(r.byteLength),r}function mc(t,i,n){return i.offset+n<=t.byteLength}function yc(t,i,n){void 0===n&&(n=!1);var r=t.getUint32(i.offset,n);return i.shift(4),r}function pc(t,i,n){void 0===n&&(n=!1);var r=yc(t,i,n),e=yc(t,i,n),s=n?e:r,u=n?r:e;return ue.fromBits(u,s,!0)}function kc(t,i,n){return lc(function(t){return[].slice.call(t)}(_c(t,i,n)))}function bc(t,i){var n,r=gc(t,i);return 128&r?192==(224&r)?n=64*(31&r)+(63&gc(t,i)):224==(240&r)?n=4096*(15&r)+64*(63&gc(t,i))+(63&gc(t,i)):240==(248&r)&&(n=262144*(7&r)+4096*(63&gc(t,i))+64*(63&gc(t,i))+(63&gc(t,i))):n=r,n}function Ac(t,i){return function(t,i,n){var r=[],e=function(t,i){return i.offset+3<=t.byteLength&&239===t.getUint8(i.offset)&&187===t.getUint8(i.offset+1)&&191===t.getUint8(i.offset+2)}(t,i);e&&i.shift(3);for(;i.offset<t.byteLength;){var s=bc(t,i);if(void 0===s)break;if(n&&0===s)break;r.push(s)}return function(t){for(var i=[],n=0,r=t;n<r.length;n++){var e=r[n];e>65535&&(e-=65536,i.push(e>>>10&1023|55296),e=56320|1023&e),i.push(e)}return lc(i)}(r)}(t,i,!0)}function Tc(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=t.byteLength),new E(t.buffer,t.byteOffset+i,n-i)}function Sc(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=t.byteLength),new DataView(t.buffer,t.byteOffset+i,n-i)}function Ec(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ic(t){return new E(t.buffer,t.byteOffset,t.byteLength)}var Rc=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new vc(this.offset<<3)},t}();U(),Et();var Cc=function(){function t(t,i){this.data=t,this.cursor=i}return t.prototype.nextUint8=function(){return gc(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,i,n){void 0===n&&(n=!1);var r=t.getUint16(i.offset,n);return i.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,i,n){void 0===n&&(n=!1);var r=t.getInt16(i.offset,n);return i.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return yc(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,i,n){void 0===n&&(n=!1);var r=t.getInt32(i.offset,n);return i.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,i,n){void 0===n&&(n=!1);var r=yc(t,i,n),e=yc(t,i,n),s=n?e:r,u=n?r:e;return ue.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return pc(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return _c(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,i,n){for(var r=[],e=0;e<n;e++)r.push(yc(t,i));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return kc(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ac(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Pc(t,i){return t.type===i}function Dc(t){var i=function(t,i){var n=[];for(;i.offset<t.byteLength;){var r=Nc(t,i);if(!r.complete)return{complete:!1,boxes:n};n.push(r.box)}return{complete:!0,boxes:n}}(t.data,t.cursor);if(!i.complete)throw new y("Data incomplete");return i.boxes}function Nc(t,i){var n=i.offset,r=function(t,i){var n=i.offset;if(!mc(t,i,8)){return{complete:!1,neededOffset:s=i.offset+8}}var r=yc(t,i),e=kc(t,i,4);if(1===r){if(!mc(t,i,8)){var s=i.offset+8;return i.seek(n),{complete:!1,neededOffset:s}}r=pc(t,i).toNumber()}if("uuid"===e){if(!mc(t,i,16)){s=i.offset+16;return i.seek(n),{complete:!1,neededOffset:s}}e=kc(t,i,16)}var u=i.offset,o={type:e,size:r,headerSize:u-n};return{complete:!0,header:o}}(t,i);if(!r.complete)return r;var e=r.header,s=e.size;0===s&&(s=t.byteLength-n);var u=n+s;if(u>t.byteLength){var o=u;return i.seek(n),{complete:!1,neededOffset:o}}var h={type:e.type,offset:n,data:new Cc(Sc(t,n,u),new Rc(e.headerSize))};return i.seek(u),{complete:!0,box:h}}function xc(t){return{version:t>>24,flags:new wc(16777215&t)}}function Bc(t,i){var n,r,e,s;return 1===i?(n=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),s=t.nextUint64()):(n=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),s=t.nextUint32()),{creation:n,modification:r,scale:e,duration:s}}function Oc(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Mc(t){var i=t.nextUint32Array(9);return{a:ac(i[0],16),b:ac(i[1],16),u:ac(i[2],30),c:ac(i[3],16),d:ac(i[4],16),v:ac(i[5],30),x:ac(i[6],16),y:ac(i[7],16),w:ac(i[8],30)}}function Lc(t){return new fc(t.type,Tc(Ic(t.data.data),t.data.cursor.offset))}var Fc=function(t){function i(i,n,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var s=t.call(this,"hdlr",r,e)||this;return s.name=n,s.handlerType=i,s}return Ga(i,t),k.defineProperty(i.prototype,"handlerType",{get:function(){return this.bb},set:function(t){this.bb=t},enumerable:!1,configurable:!0}),i.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},i.prototype.getBoxContentSize=function(){var i,n;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(n=null===(i=this.name)||void 0===i?void 0:i.length)&&void 0!==n?n:0)+1},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeString(this.handlerType),this.serializeReserved(i),this.name&&i.writer.writeString(this.name),i.writer.writeByte(0)},i}(cc);function Uc(t){var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags;i.skip(4);var s=i.nextChars(4);i.skip(12);var u=i.nextUTF8String();return new Fc(s,u,r,e.raw)}!function(t){function i(){return t.call(this,"mdir")||this}Ga(i,t),i.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Fc);U(),Et(),U(),Et(),U(),Et();var Vc=function(){function t(t,i){void 0===i&&(i=!1),this.fixed28BitMode=i,this.tag=t}return t.prototype.encodeSize=function(t){for(var i=[];t>0;)i.length>0&&(i[i.length-1]+=128),i.push(t%128),t>>=7;if(this.fixed28BitMode)for(;i.length<4;)i.push(128);return i.reverse()},k.defineProperty(t.prototype,"tag",{get:function(){return this.Ab},set:function(t){if(!uc(t,8))throw new y("Provided tag does not fit in 8 bits.");this.Ab=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var i=0,n=this.encodeSize(this.getDescriptorSize());i<n.length;i++){var r=n[i];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();U(),Et();!function(t){function i(i,n,r,e,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=r,h.decoderSpecificInfo=u,h.objectTypeIndication=i,h.streamType=n,h.bufferSizeDb=e,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}Ga(i,t),k.defineProperty(i.prototype,"objectTypeIndication",{get:function(){return this.Sb},set:function(t){if(!uc(t,8))throw new y("Provided objectTypeIndication does not fit in 8 bits.");this.Sb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"streamType",{get:function(){return this.Tb},set:function(t){if(!uc(t,6))throw new y("Provided streamType does not fit in 6 bits.");this.Tb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"bufferSizeDb",{get:function(){return this.kb},set:function(t){if(!uc(t,24))throw new y("Provided bufferSizeDb does not fit in 24 bits.");this.kb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"maxBitrate",{get:function(){return this.Eb},set:function(t){if(!uc(t,32))throw new y("Provided maxBitrate does not fit in 32 bits.");this.Eb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"avgBitrate",{get:function(){return this.xb},set:function(t){if(!uc(t,32))throw new y("Provided avgBitrate does not fit in 32 bits.");this.xb=t},enumerable:!1,configurable:!0}),i.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,i){return t+i.getSize()},0)},i.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var i=0,n=this.decoderSpecificInfo;i<n.length;i++){n[i].serialize(t)}}}(Vc);U(),Et();!function(t){function i(i,n){void 0===n&&(n={});var r=t.call(this,5,n.fixed28BitMode)||this;return r.data=i,r}Ga(i,t),i.prototype.getDescriptorSize=function(){return this.data.length},i.prototype.serializeDescriptorContent=function(t){t.concat(nc.from(this.data))}}(Vc);U(),Et(),U(),Et();var Hc=function(t){function i(i){void 0===i&&(i=!1);var n=t.call(this,6,i)||this;return n.predefined=2,n}return Ga(i,t),i.prototype.getDescriptorSize=function(){return 1},i.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},i}(Vc);!function(t){function i(i,n,r,e){void 0===e&&(e={});var s=t.call(this,3,e.fixed28BitMode)||this;return s.decoderConfigDescriptor=r,s.esId=i,s.streamPriority=n,s.dependsOnEsId=null==e?void 0:e.dependsOnEsId,s.urlString=null==e?void 0:e.url,s.ocrEsId=null==e?void 0:e.ocrEsId,s.slConfigDescriptor=new Hc(e.fixed28BitMode),s}Ga(i,t),k.defineProperty(i.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"esId",{get:function(){return this.Pb},set:function(t){if(!uc(t,16))throw new y("Provided esId does not fit in 16 bits.");this.Pb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"streamPriority",{get:function(){return this.Ib},set:function(t){if(!uc(t,5))throw new y("Provided streamPriority does not fit in 5 bits.");this.Ib=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"dependsOnEsId",{get:function(){return this.Cb},set:function(t){if(t&&!uc(t,16))throw new y("Provided dependsOnEsId does not fit in 16 bits.");this.Cb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"ocrEsId",{get:function(){return this.Rb},set:function(t){if(t&&!uc(t,16))throw new y("Provided ocrEsId does not fit in 16 bits.");this.Rb=t},enumerable:!1,configurable:!0}),i.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},i.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Vc);U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et();var Wc=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.boxes=[],i}return Ga(i,t),i.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,i){return t+i.getSize()},0)},i.prototype.serialize=function(){for(var i=t.prototype.serialize.call(this),n=0,r=this.boxes;n<r.length;n++){var e=r[n];i=i.concat(e.serialize())}return i},i}(sc),zc=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Ga(i,t),i.prototype.serializeBoxContent=function(t){},i.prototype.getBoxContentSize=function(){return 0},i}(Wc),Xc=function(t){function i(i,n){var r=t.call(this,i)||this;return r.dataReferenceIndex=n,r}return Ga(i,t),k.defineProperty(i.prototype,"dataReferenceIndex",{get:function(){return this.Db},set:function(t){if(!uc(t,16))throw new y("Provided dataReferenceIndex does not fit in 16 bits.");this.Db=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 8},i.prototype.serializeBoxContent=function(t){for(var i=0;i<6;i++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},i}(zc),qc=function(t){function i(i,n,r,e){var s,u,o=this;return(o=t.call(this,i,n)||this).extra=e,o.channelCount=null!==(s=r.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=r.sampleSize)&&void 0!==u?u:16,o.sampleRate=r.sampleRate,o}return Ga(i,t),k.defineProperty(i.prototype,"channelCount",{get:function(){return this.Nb},set:function(t){if(!uc(t,16))throw new y("Provided channelCount does not fit in 16 bits.");this.Nb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"sampleSize",{get:function(){return this.Bb},set:function(t){if(!uc(t,16))throw new y("Provided sampleSize does not fit in 16 bits.");this.Bb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"sampleRate",{get:function(){return this.Mb},set:function(t){if(!uc(oc(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.Mb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i,n;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(n=null===(i=this.extra)||void 0===i?void 0:i.length)&&void 0!==n?n:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.channelCount,16),i.writer.writeUInt(this.sampleSize,16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,16),i.writer.writeUInt(oc(this.sampleRate,16),32),this.extra&&hc(i.writer,this.extra)},i}(Xc);U(),Et();!function(t){function i(i){var n=t.call(this,"stco",0,0)||this;return n.entries=i,n}Ga(i,t),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){if(!uc(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uc(t,32)}))throw new y("Not all entries can be represented in 32 bits.");this.Lb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var n=0,r=this.entries;n<r.length;n++){var e=r[n];i.writer.writeUInt(e,32)}}}(cc);U(),Et();!function(t){function i(i){var n=t.call(this,"clap")||this;return n.cleanApertureWidthN=i.cleanApertureWidthN,n.cleanApertureWidthD=i.cleanApertureWidthD,n.cleanApertureHeightN=i.cleanApertureHeightN,n.cleanApertureHeightD=i.cleanApertureHeightD,n.horizOffN=i.horizOffN,n.horizOffD=i.horizOffD,n.vertOffN=i.vertOffN,n.vertOffD=i.vertOffD,n}Ga(i,t),k.defineProperty(i.prototype,"cleanApertureWidthN",{get:function(){return this.Ob},set:function(t){if(!uc(t,32))throw new y("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ob=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"cleanApertureWidthD",{get:function(){return this.Fb},set:function(t){if(!uc(t,32))throw new y("Provided cleanApertureWidthD does not fit in 32 bits.");this.Fb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"cleanApertureHeightN",{get:function(){return this.Ub},set:function(t){if(!uc(t,32))throw new y("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ub=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"cleanApertureHeightD",{get:function(){return this.Vb},set:function(t){if(!uc(t,32))throw new y("Provided cleanApertureHeightD does not fit in 32 bits.");this.Vb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"horizOffN",{get:function(){return this.Hb},set:function(t){if(!uc(t,32))throw new y("Provided horizOffN does not fit in 32 bits.");this.Hb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"horizOffD",{get:function(){return this.Wb},set:function(t){if(!uc(t,32))throw new y("Provided horizOffD does not fit in 32 bits.");this.Wb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"vertOffN",{get:function(){return this.qb},set:function(t){if(!uc(t,32))throw new y("Provided vertOffN does not fit in 32 bits.");this.qb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"vertOffD",{get:function(){return this.zb},set:function(t){if(!uc(t,32))throw new y("Provided vertOffD does not fit in 32 bits.");this.zb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 32},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(sc);U(),Et();!function(t){function i(i,n){var r=t.call(this,"ctts",i,0)||this;return r.entries=n,r}Ga(i,t),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){if(!uc(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uc(t.sampleCount,32)||!uc(t.sampleOffset,32)}))throw new y("Not all entries can be represented in 64 bits.");this.Lb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var n=0,r=this.entries;n<r.length;n++){var e=r[n];i.writer.writeUInt(e.sampleCount,32),0===this.version?i.writer.writeUInt(e.sampleOffset,32):1===this.version&&i.writer.writeInt(e.sampleOffset,32)}}}(cc);U(),Et();!function(t){function i(i){var n=t.call(this,"url ",0,void 0===i?1:0)||this;return n.location=i,n}Ga(i,t),k.defineProperty(i.prototype,"location",{get:function(){return this.Gb},set:function(t){this.flags=void 0===t?1:0,this.Gb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this);return this.location?i+this.location.length+1:i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.location&&(i.writer.writeString(this.location),i.writer.writeByte(0))}}(cc);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,"urn ",0,r)||this;return e.name=i,e.location=n,e}Ga(i,t),k.defineProperty(i.prototype,"location",{get:function(){return this.Gb},set:function(t){if(1&this.flags)throw new y("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Gb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?i+this.location.length+1:i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.name),i.writer.writeByte(0),this.location&&(i.writer.writeString(this.location),i.writer.writeByte(0))}}(cc);U(),Et();!function(t){function i(){return t.call(this,"dinf")||this}Ga(i,t)}(zc);U(),Et(),U(),Et();var Gc=function(t){function i(i,n,r){var e=t.call(this,i)||this;if(e.version=n,!uc(n,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return Ga(i,t),k.defineProperty(i.prototype,"flags",{get:function(){return this.yb},set:function(t){this.yb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},i.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},i}(Wc);!function(t){function i(){return t.call(this,"dref",0,0)||this}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.boxes.length,32)}}(Gc);U(),Et(),U(),Et();var jc=function(t){function i(i,n,r){void 0===r&&(r=0);var e=t.call(this,"elst",n,r)||this;return e.entries=i,e}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(!uc(r.segmentDuration,this.bitSize))throw new y("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uc(r.mediaTime,this.bitSize))throw new y("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!uc(r.mediaRateInteger,16))throw new y("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!uc(r.mediaRateFraction,16))throw new y("Provided mediaRateFraction does not fit in 16 bits.")}this.Lb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(i)},i}(cc),Qc=function(t){function i(i,n){return void 0===n&&(n=0),t.call(this,i,0,n)||this}return Ga(i,t),i.prototype.serializeElstBoxContent=function(t){for(var i,n=0,r=this.entries;n<r.length;n++){var e=r[n];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(i=e.mediaRateFraction)&&void 0!==i?i:0,16)}},i}(jc),Yc=function(t){function i(i,n){return void 0===n&&(n=0),t.call(this,i,1,n)||this}return Ga(i,t),i.prototype.serializeElstBoxContent=function(t){for(var i,n=0,r=this.entries;n<r.length;n++){var e=r[n];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(i=e.mediaRateFraction)&&void 0!==i?i:0,16)}},i}(jc);function Kc(t){for(var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags,s=i.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===r?(h=i.nextUint32(),a=i.nextInt32()):(h=i.nextUint64(),a=i.nextInt64());var c=i.nextInt16(),f=i.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===r?new Qc(u,e.raw):new Yc(u,e.raw)}var Jc=function(t){function i(){return t.call(this,"edts")||this}return Ga(i,t),i}(zc);function Zc(t){for(var i=new Jc,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"elst")?i.boxes.push(Kc(e)):i.boxes.push(Lc(e))}return i}U(),Et(),U(),Et();var $c=function(t){function i(i,n,r,e){var s=t.call(this,i)||this;return s.majorBrand=n,s.minorVersion=r,s.compatibleBrands=e,s}return Ga(i,t),k.defineProperty(i.prototype,"majorBrand",{get:function(){return this.Xb},set:function(t){if(4!==t.length)throw new y("the provided major brand does not conform to the 4 character requirement");this.Xb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"minorVersion",{get:function(){return this.jb},set:function(t){if(!uc(t,32))throw new y("the provided minor version does not fit in 32 bits.");this.jb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"compatibleBrands",{get:function(){return this.Qb},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new y("Some of the compatible brands do not conform to the 4 character requirement");this.Qb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},i.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var i=0,n=this.compatibleBrands;i<n.length;i++){var r=n[i];t.writer.writeString(r)}},i}(sc),tf=function(t){function i(i,n,r){return t.call(this,"ftyp",i,n,r)||this}return Ga(i,t),i}($c);function nf(t){for(var i=t.data,n=i.nextChars(4),r=i.nextUint32(),e=[];i.cursor.offset<i.data.byteLength;)e.push(i.nextChars(4));return new tf(n,r,e)}U(),Et();var rf=function(t){function i(i,n){void 0===n&&(n="free");var r=t.call(this,n)||this;return r.data=i,r}return Ga(i,t),i.prototype.getBoxContentSize=function(){var t,i;return null!==(i=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==i?i:0},i.prototype.serializeBoxContent=function(t){this.data&&t.concat(nc.from(this.data))},i}(sc);U(),Et(),U(),Et();var ef=function(t){function i(i,n,r,e){void 0===e&&(e=0);var s=t.call(this,"mdhd",r,e)||this;return s.creationTime=i.creation,s.modificationTime=i.modification,s.timescale=i.scale,s.duration=i.duration,s.language=n,s}return Ga(i,t),k.defineProperty(i.prototype,"creationTime",{get:function(){return this.Kb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Kb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Yb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Yb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"timescale",{get:function(){return this.Jb},set:function(t){if(!uc(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.Jb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"duration",{get:function(){return this.Zb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"language",{get:function(){return this.$b},set:function(t){if(!hf(t))throw new y("Expected an ISO-639-2/T language code");this.$b=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeMdiaContent(i),i.writer.writeBit(0);for(var n=0,r=this.language;n<r.length;n++){var e=r[n];i.writer.writeUInt(e.charCodeAt(0)-96,5)}i.writer.writeUInt(0,16)},i}(cc),sf=function(t){function i(i,n,r){return void 0===r&&(r=0),t.call(this,i,n,0,r)||this}return Ga(i,t),i.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},i}(ef),uf=function(t){function i(i,n,r){return void 0===r&&(r=0),t.call(this,i,n,1,r)||this}return Ga(i,t),i.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(ef);function of(t){var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags,s=Bc(i,r),u=new tc(nc.from(i.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return hf(a)||(a="und"),i.skip(2),0===r?new sf(s,a,e.raw):new uf(s,a,e.raw)}function hf(t){return/^[a-z]{3}$/.test(t)}var af=function(t){function i(){return t.call(this,"mdia")||this}return Ga(i,t),i}(zc);function cf(t){for(var i=new af,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"mdhd")?i.boxes.push(of(e)):Pc(e,"hdlr")?i.boxes.push(Uc(e)):i.boxes.push(Lc(e))}return i}U(),Et();var ff=function(t){function i(){var i=t.call(this,"mdat")||this;return i.data=new nc,i}return Ga(i,t),i.prototype.getBoxContentSize=function(){return this.data.length},i.prototype.serializeBoxContent=function(t){t.concat(this.data)},i}(sc);function vf(t){var i=t.data,n=i.nextUint8Array(i.data.byteLength-i.cursor.offset),r=new ff;return r.data.pushRange(n),r}U(),Et();!function(t){function i(){return t.call(this,"minf")||this}Ga(i,t)}(zc);U(),Et();var df;!function(t){function i(i){var n=t.call(this,"meta",0,0)||this;return n.handler=i,n}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.handler.serialize())}}(Gc);U(),Et(),U(),Et(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(df||(df={})),U(),Et();var lf,wf,gf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function _f(t,i){i.writer.writeUInt(oc(t.a,16),32),i.writer.writeUInt(oc(t.b,16),32),i.writer.writeUInt(oc(0,30),32),i.writer.writeUInt(oc(t.c,16),32),i.writer.writeUInt(oc(t.d,16),32),i.writer.writeUInt(oc(0,30),32),i.writer.writeUInt(oc(t.x,16),32),i.writer.writeUInt(oc(t.y,16),32),i.writer.writeUInt(oc(1,30),32)}function mf(t,i){var n,r,e,s;i.writer.writeUInt(null!==(n=t.isLeading)&&void 0!==n?n:lf.UNKNOWN,2),i.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:wf.UNKNOWN,2),i.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:wf.UNKNOWN,2),i.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:wf.UNKNOWN,2)}function yf(t,i){var n,r,e;i.writer.writeUInt(0,4),mf(t,i),i.writer.writeUInt(null!==(n=t.samplePaddingValue)&&void 0!==n?n:0,3),i.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),i.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}U(),Et(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(lf||(lf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(wf||(wf={})),U(),Et(),U(),Et();var pf=function(){};U(),Et(),U(),Et(),U(),Et();var kf=function(t){function i(i,n,r){var e=t.call(this,"pssh",i,0)||this;return e.systemId=n,e.data=r,e}return Ga(i,t),k.defineProperty(i.prototype,"systemId",{get:function(){return this.tA},set:function(t){if(16!==t.length)throw new y("Provided systemId length is not 16.");this.tA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"data",{get:function(){return this.Wp},set:function(t){if(!uc(t.length,32))throw new y("Provided data length does not fit in 32 bits.");this.Wp=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},i.prototype.serializeVersionBoxContent=function(t){},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(nc.from(this.systemId)),this.serializeVersionBoxContent(i),i.writer.writeUInt(this.data.length,32),i.concat(nc.from(this.data))},i}(cc),bf=function(t){function i(i,n){return t.call(this,0,i,n)||this}return Ga(i,t),i}(kf),Af=function(t){function i(i,n,r){var e=t.call(this,1,i,n)||this;return e.kIds=r,e}return Ga(i,t),k.defineProperty(i.prototype,"kIds",{get:function(){return this.iA},set:function(t){if(!uc(t.length,32))throw new y("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new y("Not all provided key ids are 16 bytes long.");this.iA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var i=0,n=this.kIds;i<n.length;i++){var r=n[i];t.concat(nc.from(r))}},i}(kf);function Tf(t){var i=t.data.nextUint8();t.data.skip(3);var n=t.data.nextUint8Array(16),r=[];if(1===i)for(var e=t.data.nextUint32(),s=0;s<e;s++)r.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===i?new Af(n,o,r):new bf(n,o)}U(),Et(),U(),Et();var Sf=function(t){function i(i,n,r){void 0===r&&(r=0);var e=t.call(this,"mehd",n,r)||this;return e.fragmentDuration=i,e}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"fragmentDuration",{get:function(){return this.eA},set:function(t){if(!uc(t,this.bitSize))throw new y("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.eA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},i}(cc),Ef=function(t){function i(i,n){return void 0===n&&(n=0),t.call(this,i,0,n)||this}return Ga(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.fragmentDuration,32)},i}(Sf),If=function(t){function i(i,n){return void 0===n&&(n=0),t.call(this,i,1,n)||this}return Ga(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),i.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},i}(Sf);function Rf(t){var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags;return 0===r?new Ef(i.nextUint32(),e.raw):new If(i.nextUint64(),e.raw)}U(),Et();var Cf=function(t){function i(i,n,r,e){void 0===n&&(n={}),void 0===r&&(r=0),void 0===e&&(e=0);var s,u,o,h=this;return(h=t.call(this,"trex",r,e)||this).trackId=i,h.defaultSampleDescriptionIndex=null!==(s=null==n?void 0:n.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=n.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=n.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=n.sampleFlags,h}return Ga(i,t),k.defineProperty(i.prototype,"trackId",{get:function(){return this.sA},set:function(t){if(!uc(t,32))throw new y("Provided track id does not fit in 32 bits.");this.sA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.nA},set:function(t){if(!uc(t,32))throw new y("Provided default sample description index does not fit in 32 bits.");this.nA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleDuration",{get:function(){return this.rA},set:function(t){if(!uc(t,32))throw new y("Provided default sample duration does not fit in 32 bits.");this.rA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.hA},set:function(t){if(!uc(t,32))throw new y("Provided default sample size does not fit in 32 bits.");this.hA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleFlags",{get:function(){return this.oA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uc(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uc(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.oA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},i.prototype.serializeBoxContent=function(i){var n;t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32),i.writer.writeUInt(this.defaultSampleDescriptionIndex,32),i.writer.writeUInt(this.defaultSampleDuration,32),i.writer.writeUInt(this.defaultSampleSize,32),yf(null!==(n=this.defaultSampleFlags)&&void 0!==n?n:{},i)},i}(cc);function Pf(t){var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags,s=i.nextUint32(),u=i.nextUint32(),o=i.nextUint32(),h=i.nextUint32(),a=Oc(new tc(nc.from(i.nextUint8Array(4))));return new Cf(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},r,e.raw)}var Df=function(t){function i(){return t.call(this,"mvex")||this}return Ga(i,t),i}(zc);function Nf(t){for(var i=new Df,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"mehd")?i.boxes.push(Rf(e)):Pc(e,"trex")?i.boxes.push(Pf(e)):i.boxes.push(Lc(e))}return i}U(),Et();var xf=function(t){function i(n,r,e,s,u){void 0===u&&(u=0);var o,h,a,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=n.creation,c.modificationTime=n.modification,c.timescale=n.scale,c.duration=n.duration,c.rate=null!==(o=e.rate)&&void 0!==o?o:i.DEFAULT_RATE,c.volume=null!==(h=e.volume)&&void 0!==h?h:i.DEFAULT_VOLUME,c.matrix=null!==(a=e.matrix)&&void 0!==a?a:gf,c.aA=r,c}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"creationTime",{get:function(){return this.Kb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Kb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Yb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Yb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"timescale",{get:function(){return this.Jb},set:function(t){if(!uc(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.Jb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"duration",{get:function(){return this.Zb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"rate",{get:function(){return this.uA},set:function(t){if(!uc(oc(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.uA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"volume",{get:function(){return this.cA},set:function(t){if(!uc(oc(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.cA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"matrix",{get:function(){return this.dA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.dA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"nextTrackId",{get:function(){return this.aA},set:function(t){if(0===t)throw new y("NextTrackId cannot be 0.");if(!uc(t,32))throw new y("NextTrackId cannot exceed 32 bits.");this.aA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeMvhdContent(i),i.writer.writeUInt(oc(this.rate,16),32),i.writer.writeUInt(oc(this.volume,8),16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),_f(this.matrix,i);for(var n=0;n<6;n++)i.writer.writeUInt(0,32);i.writer.writeUInt(this.nextTrackId,32)},i.DEFAULT_RATE=1,i.DEFAULT_VOLUME=1,i}(cc),Bf=function(t){function i(i,n,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,i,n,r,0,e)||this}return Ga(i,t),i.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},i}(xf),Of=function(t){function i(i,n,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,i,n,r,1,e)||this}return Ga(i,t),i.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(xf);function Mf(t){var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags,s=Bc(i,r),u=ac(i.nextUint32(),16),o=ac(i.nextUint16(),8);i.skip(2),i.skip(8);var h=Mc(i);i.skip(24);var a=i.nextUint32();return 0===r?new Bf(s,a,{rate:u,volume:o,matrix:h},e.raw):new Of(s,a,{rate:u,volume:o,matrix:h},e.raw)}U(),Et(),U(),Et();var Lf=function(t){function i(i,n,r,e,s,u,o){void 0===o&&(o={});var h,a,c,f=this;return f=t.call(this,"tkhd",i,function(t){var i,n,r,e;return{trackEnabled:null===(i=null==t?void 0:t.trackEnabled)||void 0===i||i,trackInMovie:null===(n=null==t?void 0:t.trackInMovie)||void 0===n||n,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=n.creation,f.modificationTime=n.modification,f.trackId=r,f.duration=n.duration,f.volume=e,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:gf,f}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"creationTime",{get:function(){return this.Kb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Kb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Yb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Yb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"trackId",{get:function(){return this.sA},set:function(t){if(0===t)throw new y("trackId cannot be 0.");if(!uc(t,32))throw new y("trackId cannot exceed 32 bits.");this.sA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"duration",{get:function(){return this.Zb},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"volume",{get:function(){return this.cA},set:function(t){if(!uc(oc(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.cA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"width",{get:function(){return this.lA},set:function(t){if(!uc(oc(t,16),32))throw new y("Provided width does not fit in 32 bits (fixed 16.16).");this.lA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"height",{get:function(){return this.fA},set:function(t){if(!uc(oc(t,16),32))throw new y("Provided height does not fit in 32 bits (fixed 16.16).");this.fA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"layer",{get:function(){return this.vA},set:function(t){if(!uc(t,16))throw new y("Provided layer does not fit in 16 bits.");this.vA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"alternateGroup",{get:function(){return this._A},set:function(t){if(!uc(t,16))throw new y("Provided alternateGroup does not fit in 16 bits.");this._A=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"matrix",{get:function(){return this.dA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.dA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},i.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeTkhdContent(i),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.layer,16),i.writer.writeUInt(this.alternateGroup,16),i.writer.writeUInt(oc(this.volume,8),16),i.writer.writeUInt(0,16),_f(this.matrix,i),i.writer.writeUInt(oc(this.width,16),32),i.writer.writeUInt(oc(this.height,16),32)},i}(cc),Ff=function(t){function i(i,n,r,e,s,u){return t.call(this,0,i,n,r,e,s,u)||this}return Ga(i,t),i.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},i}(Lf),Uf=function(t){function i(i,n,r,e,s,u){return t.call(this,1,i,n,r,e,s,u)||this}return Ga(i,t),i.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(Lf);function Vf(t){var i,n,r,e,s=t.data,u=xc(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(i=s.nextUint32(),n=s.nextUint32(),r=s.nextUint32(),s.skip(4),e=s.nextUint32()):(i=s.nextUint64(),n=s.nextUint64(),r=s.nextUint32(),s.skip(4),e=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),w=ac(s.nextInt16(),8);s.skip(2);var g=Mc(s),_=ac(s.nextUint32(),16),m=ac(s.nextUint32(),16);return 0===o?new Ff({creation:i,modification:n,duration:e},r,w,_,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Uf({creation:i,modification:n,duration:e},r,w,_,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var Hf=function(t){function i(){return t.call(this,"trak")||this}return Ga(i,t),i}(zc);function Wf(t){for(var i=new Hf,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"tkhd")?i.boxes.push(Vf(e)):Pc(e,"mdia")?i.boxes.push(cf(e)):Pc(e,"edts")?i.boxes.push(Zc(e)):i.boxes.push(Lc(e))}return i}var zf=function(t){function i(){return t.call(this,"moov")||this}return Ga(i,t),i}(zc);function Xf(t){for(var i=new zf,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"mvhd")?i.boxes.push(Mf(e)):Pc(e,"trak")?i.boxes.push(Wf(e)):Pc(e,"mvex")?i.boxes.push(Nf(e)):Pc(e,"pssh")?i.boxes.push(Tf(e)):i.boxes.push(Lc(e))}return i}U(),Et(),U(),Et(),U(),Et();var qf=function(t){function i(i,n,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",n,r)||this;return e.baseMediaDecodeTime=i,e}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"baseMediaDecodeTime",{get:function(){return this.gA},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.gA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},i}(cc),Gf=function(t){function i(i,n){return void 0===n&&(n=0),t.call(this,i,0,n)||this}return Ga(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.baseMediaDecodeTime,32)},i}(qf),jf=function(t){function i(i,n){return void 0===n&&(n=0),t.call(this,i,1,n)||this}return Ga(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),i.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},i}(qf);function Qf(t){var i=t.data,n=xc(i.nextUint32()),r=n.version,e=n.flags;return 0===r?new Gf(i.nextUint32(),e.raw):new jf(i.nextUint64(),e.raw)}U(),Et();var Yf=function(t){function i(i,n){void 0===n&&(n=0);var r=t.call(this,"tfhd",n,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(i))||this;return r.trackId=i.trackId,r.baseDataOffset=i.baseDataOffset,r.sampleDescriptionIndex=i.sampleDescriptionIndex,r.defaultSampleDuration=i.defaultSampleDuration,r.defaultSampleSize=i.defaultSampleSize,r.defaultSampleFlags=i.defaultSampleFlags,r}return Ga(i,t),k.defineProperty(i.prototype,"trackId",{get:function(){return this.sA},set:function(t){if(!uc(t,32))throw new y("Provided track id does not fit in 32 bits.");this.sA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"baseDataOffset",{get:function(){return this.pA},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is not set.");if(t&&!uc(t,64))throw new y("Provided baseDataOffset does not fit in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"sampleDescriptionIndex",{get:function(){return this.mA},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is not set.");if(t&&!uc(t,32))throw new y("Provided sampleDescriptionIndex does not fit in 32 bits.");this.mA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleDuration",{get:function(){return this.rA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is not set.");if(t&&!uc(t,32))throw new y("Provided defaultSampleDuration does not fit in 32 bits.");this.rA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.hA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is not set.");if(t&&!uc(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.hA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"defaultSampleFlags",{get:function(){return this.oA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!uc(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uc(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.oA=t},enumerable:!1,configurable:!0}),i.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(i+=8),this.flags.sampleDescriptionIndexPresent&&(i+=4),this.flags.defaultSampleDurationPresent&&(i+=4),this.flags.defaultSampleSizePresent&&(i+=4),this.flags.defaultSampleFlagsPresent&&(i+=4),i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(i.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),i.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&i.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&i.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&i.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&yf(this.defaultSampleFlags,i)},i}(cc);function Kf(t){var i=t.data,n=i.nextUint8(),r=new tc(nc.from(i.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),s=Boolean(r.readBit());r.skipBits(10);var u=Boolean(r.readBit()),o=Boolean(r.readBit()),h=Boolean(r.readBit());r.skipBits(1);var a=Boolean(r.readBit()),c=Boolean(r.readBit()),f=i.nextUint32(),v=c?i.nextUint64():void 0,d=a?i.nextUint32():void 0,l=h?i.nextUint32():void 0,w=o?i.nextUint32():void 0,g=u?Oc(new tc(nc.from(i.nextUint8Array(4)))):void 0;return new Yf({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:g},n)}U(),Et();var Jf=function(t){function i(i,n,r){var e=t.call(this,"trun",i,function(t){var i,n,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(i=t.sampleDurationPresent)&&void 0!==i&&i,sampleSizePresent:null!==(n=t.sampleSizePresent)&&void 0!==n&&n,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(n))||this;return e.dataOffset=n.dataOffset,e.samples=r,e.firstSampleFlags=n.firstSampleFlags,e}return Ga(i,t),k.defineProperty(i.prototype,"dataOffset",{get:function(){return this.wA},set:function(t){if(t&&!uc(t,32))throw new y("Provided data offset does not fit in 32 bits.");this.wA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"firstSampleFlags",{get:function(){return this.yA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!uc(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!uc(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.yA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"samples",{get:function(){return this.bA},set:function(t){var i,n;if(!uc(t.length,32))throw new y("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var s=e[r];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new y("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new y("The sample duration present flag is not set.");if(s.duration&&!uc(s.duration,32))throw new y("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new y("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new y("The sample size present flag is not set.");if(s.size&&!uc(s.size,32))throw new y("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is not set.");if((null===(i=s.flags)||void 0===i?void 0:i.samplePaddingValue)&&!uc(s.flags.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null===(n=s.flags)||void 0===n?void 0:n.sampleDegradationPriority)&&!uc(s.flags.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!uc(s.compositionTimeOffset,32))throw new y("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.bA=t},enumerable:!1,configurable:!0}),i.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(i+=4),this.flags.firstSampleFlagsPresent&&(i+=4),this.flags.sampleDurationPresent&&(i+=4*this.samples.length),this.flags.sampleSizePresent&&(i+=4*this.samples.length),this.flags.sampleFlagsPresent&&(i+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(i+=4*this.samples.length),i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&i.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&yf(this.firstSampleFlags,i);for(var n=0,r=this.samples;n<r.length;n++){var e=r[n];this.flags.sampleDurationPresent&&i.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&i.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&yf(e.flags,i),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?i.writer.writeUInt(e.compositionTimeOffset,32):i.writer.writeInt(e.compositionTimeOffset,32))}},i}(cc);function Zf(t){var i=t.data,n=i.nextUint8(),r=new tc(nc.from(i.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),s=Boolean(r.readBit()),u=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var h=Boolean(r.readBit());r.skipBits(1);var a=Boolean(r.readBit()),c=i.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:e};a&&(f.dataOffset=i.nextInt32()),h&&(f.firstSampleFlags=Oc(new tc(nc.from(i.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=i.nextUint32()),u&&(l.size=i.nextUint32()),s&&(l.flags=Oc(new tc(nc.from(i.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===n?i.nextUint32():i.nextInt32()),v.push(l)}return new Jf(n,f,v)}var $f=function(t){function i(){return t.call(this,"traf")||this}return Ga(i,t),i}(zc);function iv(t){for(var i=new $f,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"tfhd")?i.boxes.push(Kf(e)):Pc(e,"tfdt")?i.boxes.push(Qf(e)):Pc(e,"trun")?i.boxes.push(Zf(e)):i.boxes.push(Lc(e))}return i}var nv=function(t){function i(){return t.call(this,"moof")||this}return Ga(i,t),i}(zc);function rv(t){for(var i=new nv,n=0,r=Dc(t.data);n<r.length;n++){var e=r[n];Pc(e,"traf")?i.boxes.push(iv(e)):Pc(e,"pssh")?i.boxes.push(Tf(e)):i.boxes.push(Lc(e))}return i}U(),Et();!function(t){function i(i){var n=t.call(this,"mfhd",0,0)||this;return n.sequenceNumber=i,n}Ga(i,t),k.defineProperty(i.prototype,"sequenceNumber",{get:function(){return this.AA},set:function(t){if(!uc(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.AA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.sequenceNumber,32)}}(cc);U(),Et();var ev=function(t){function i(i){var n=t.call(this,"frma")||this;return n.codingName=i,n}return Ga(i,t),k.defineProperty(i.prototype,"codingName",{get:function(){return this.SA},set:function(t){if(4!==t.length)throw new y("Provided coding name was not 4 characters long.");this.SA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},i}(sc);U(),Et();!function(t){function i(i,n){var r=t.call(this,"pasp")||this;return r.hSpacing=i,r.vSpacing=n,r}Ga(i,t),k.defineProperty(i.prototype,"hSpacing",{get:function(){return this.TA},set:function(t){if(!uc(t,32))throw new y("Provided hSpacing does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"vSpacing",{get:function(){return this.kA},set:function(t){if(!uc(t,32))throw new y("Provided vSpacing does not fit in 32 bits.");this.kA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 8},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(sc);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,i)||this;return e.sample=n,e.sinf=r,e}Ga(i,t),i.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},i.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(zc);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,"sinf")||this;return e.schm=n,e.schi=r,e.frma=new ev(i),e}Ga(i,t),i.prototype.getBoxContentSize=function(){var t,i,n,r;return this.frma.getSize()+(null!==(i=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==i?i:0)+(null!==(r=null===(n=this.schi)||void 0===n?void 0:n.getSize())&&void 0!==r?r:0)},i.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(sc);U(),Et();var sv=function(t){function i(i,n,r){var e=t.call(this,"saio",i,void 0===r?0:1)||this;return e.entries=n,e.explicitAuxInfoType=r,e}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){var i=this;if(!uc(t.length,32))throw new y("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!uc(t,i.bitSize)}))throw new y("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Lb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"explicitAuxInfoType",{get:function(){return this.EA},set:function(t){if(void 0===t)this.flags=0;else{if(!uc(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!uc(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.EA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),void 0!==this.explicitAuxInfoType&&(i.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),i.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),i.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(i)},i}(cc);(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}Ga(i,t),i.prototype.serializeSaioContent=function(t){for(var i=0,n=this.entries;i<n.length;i++){var r=n[i];t.writer.writeUInt(r,32)}}})(sv),function(t){function i(){return null!==t&&t.apply(this,arguments)||this}Ga(i,t),i.prototype.serializeSaioContent=function(t){for(var i=0,n=this.entries;i<n.length;i++){var r=n[i];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(sv);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=i,e.sampleInfoSizes=n,e.explicitAuxInfoType=r,e}Ga(i,t),k.defineProperty(i.prototype,"defaultSampleInfoSize",{get:function(){return this.xA},set:function(t){if(!uc(t,8))throw new y("Provided defaultSampleInfoSize does not fit in a single byte.");this.xA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"sampleInfoSizes",{get:function(){return this.PA},set:function(t){if(!uc(t.length,32))throw new y("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!uc(t,8)}))throw new y("Not all provided sampleInfoSizes fit in a byte.");this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"explicitAuxInfoType",{get:function(){return this.EA},set:function(t){if(void 0===t)this.flags=0;else{if(!uc(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!uc(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.EA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},i.prototype.serializeBoxContent=function(i){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new y("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,i),void 0!==this.explicitAuxInfoType&&(i.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),i.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),i.writer.writeByte(this.defaultSampleInfoSize),i.writer.writeUInt(this.sampleInfoSizes.length,32);for(var n=0,r=this.sampleInfoSizes;n<r.length;n++){var e=r[n];i.writer.writeByte(e)}}}(cc);U(),Et();!function(t){function i(i){var n=t.call(this,"sdtp",0,0)||this;return n.samples=i,n}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i);for(var n=0,r=this.samples;n<r.length;n++){mf(r[n],i)}}}(cc);U(),Et();!function(t){function i(i){return t.call(this,"stsd",i,0)||this}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.boxes.length,32)}}(Gc);U(),Et();var uv=function(t){function i(i,n,r){var e=t.call(this,"sgpd",i,0)||this;return e.entries=r,e.groupingType=n,e}return Ga(i,t),k.defineProperty(i.prototype,"groupingType",{get:function(){return this.IA},set:function(t){if(4!==t.length)throw new y("The provided groupingType does not equal 4 characters.");this.IA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.groupingType),this.serializeVersionBoxContent(i),i.writer.writeUInt(this.entries.length,32);for(var n=0,r=this.entries;n<r.length;n++){var e=r[n];this.serializeEntryBoxContent(i,e)}},i.prototype.serializeEntryBoxContent=function(t,i){i.serializeBoxContent(t)},i}(cc);(function(t){function i(i,n){return t.call(this,0,i,n)||this}Ga(i,t),i.prototype.serializeVersionBoxContent=function(t){}})(uv),function(t){function i(i,n,r){var e=t.call(this,1,i,r)||this;return e.defaultLength=n,e}Ga(i,t),k.defineProperty(i.prototype,"defaultLength",{get:function(){return this.CA},set:function(t){if(!uc(t,32))throw new y("The provided defaultLength does not fit in 32 bits.");this.CA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},i.prototype.serializeEntryBoxContent=function(t,i){0===this.defaultLength&&t.writer.writeUInt(i.getBoxContentSize(),32),i.serializeBoxContent(t)}}(uv),function(t){function i(i,n,r,e){void 0===e&&(e=0);var s=this;if(i<2)throw new y("This constructor is only meant for versions 2 and up.");return(s=t.call(this,i,n,r)||this).defaultSampleDescriptionIndex=e,s}Ga(i,t),k.defineProperty(i.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.nA},set:function(t){if(!uc(t,32))throw new y("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.nA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(uv);U(),Et();(function(t){function i(i){void 0===i&&(i=[]);var n=t.call(this,"stsz",0,0)||this;return n.sampleSizes=i,n}Ga(i,t),k.defineProperty(i.prototype,"sampleSizes",{get:function(){return this.RA},set:function(t){if(!uc(t.length,32))throw new y("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!uc(t,32)}))throw new y("Not all sampleSizes can be represented in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeUInt(this.sampleSizes.length,32);for(var n=0,r=this.sampleSizes;n<r.length;n++){var e=r[n];i.writer.writeUInt(e,32)}}})(cc),function(t){function i(i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=i,r.samples=n,r}Ga(i,t),k.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.hA},set:function(t){if(!uc(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.hA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"samples",{get:function(){return this.bA},set:function(t){if(!uc(t,32))throw new y("Number of allowed samples cannot fit in 32 bits.");this.bA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.defaultSampleSize,32),i.writer.writeUInt(this.samples,32)}}(cc);U(),Et();!function(t){function i(){return t.call(this,"stbl")||this}Ga(i,t)}(zc);U(),Et();!function(t){function i(i){var n=t.call(this,"stsc",0,0)||this;return n.entries=i,n}Ga(i,t),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){if(!uc(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uc(t.firstChunk,32)||!uc(t.sampleDescriptionIndex,32)||!uc(t.samplesPerChunk,32)}))throw new y("Not all entries can be represented in 96 bits.");this.Lb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var n=0,r=this.entries;n<r.length;n++){var e=r[n];i.writer.writeUInt(e.firstChunk,32),i.writer.writeUInt(e.samplesPerChunk,32),i.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(cc);U(),Et();!function(t){function i(){return t.call(this,"schi")||this}Ga(i,t)}(zc);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=i,e.schemeVersion=n,e.schemeUri=r,e}Ga(i,t),k.defineProperty(i.prototype,"schemeType",{get:function(){return this.DA},set:function(t){if(4!==t.length)throw new y("The provided schemeType does not have a length of 4.");this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"schemeVersion",{get:function(){return this.NA},set:function(t){if(!uc(t,32))throw new y("The provided schemeVersion does not fit in 23 bits.");this.NA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"schemeUri",{get:function(){return this.BA},set:function(t){if(t&&4!==t.length)throw new y("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.BA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.schemeType),i.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(i.writer.writeString(this.schemeUri),i.writer.writeByte(0))}}(cc);U(),Et();var ov=function(t){function i(i,n,r,e,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",i,o)||this;return h.referenceId=n,h.timescale=r,h.earliestPresentationTime=e,h.firstOffset=s,h.references=u,h}return Ga(i,t),k.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"referenceId",{get:function(){return this.MA},set:function(t){if(!uc(t,32))throw new y("Provided referenceId does not fit in 32 bits.");this.MA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"timescale",{get:function(){return this.Jb},set:function(t){if(!uc(t,32))throw new y("Provided timescale does not fit in 32 bits.");this.Jb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"earliestPresentationTime",{get:function(){return this.LA},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.LA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"firstOffset",{get:function(){return this.OA},set:function(t){if(!uc(t,this.bitSize))throw new y("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.OA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"references",{get:function(){return this.FA},set:function(t){if(!uc(t.length,16))throw new y("The number of provided reference items does not fit in 16 bits.");for(var i=0,n=t;i<n.length;i++){var r=n[i];if(!uc(r.referencedSize,31))throw new y("Provided referenced size does not fit in 31 bits.");if(!uc(r.subsegmentDuration,32))throw new y("Provided subsegment duration does not fit in 31 bits.");if(!uc(r.sapType,3))throw new y("Provided SAP type does not fit in 3 bits.");if(!uc(r.sapDeltaTime,28))throw new y("Provided SAP delta time does not fit in 28 bits.")}this.FA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.referenceId,32),i.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(i),i.writer.writeUInt(0,16),i.writer.writeUInt(this.references.length,16);for(var n=0,r=this.references;n<r.length;n++){var e=r[n];i.writer.writeBit(e.referenceType),i.writer.writeUInt(e.referencedSize,31),i.writer.writeUInt(e.subsegmentDuration,32),i.writer.writeBool(e.startsWithSap),i.writer.writeUInt(e.sapType,3),i.writer.writeUInt(e.sapDeltaTime,28)}},i}(cc),hv=function(t){function i(i,n,r,e,s,u){return void 0===u&&(u=0),t.call(this,0,i,n,r,e,s,u)||this}return Ga(i,t),i.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},i}(ov),av=function(t){function i(i,n,r,e,s,u){return void 0===u&&(u=0),t.call(this,1,i,n,r,e,s,u)||this}return Ga(i,t),i.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},i}(ov);U(),Et();var cv=function(t){function i(i,n,r){return t.call(this,"styp",i,n,r)||this}return Ga(i,t),i}($c);function fv(t){for(var i=t.data,n=i.nextChars(4),r=i.nextUint32(),e=[];i.cursor.offset<i.data.byteLength;)e.push(i.nextChars(4));return new cv(n,r,e)}U(),Et();!function(t){function i(i){void 0===i&&(i=0);var n=t.call(this,"smhd",0,0)||this;return n.balance=i,n}Ga(i,t),k.defineProperty(i.prototype,"balance",{get:function(){return this.UA},set:function(t){if(t<-1||t>1)throw new y("Provided balance does not fit in the allowed range [-1, 1].");if(!uc(oc(t,8),16))throw new y("Provided balance does not fit in 16 bits (fixed 8.8).");this.UA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(oc(this.balance,8),16),i.writer.writeUInt(0,16)}}(cc);U(),Et();!function(t){function i(i){var n=t.call(this,"stss",0,0)||this;return n.entries=i,n}Ga(i,t),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){if(!uc(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uc(t,32)}))throw new y("Not all entries can be represented in 32 bits.");this.Lb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var n=0,r=this.entries;n<r.length;n++){var e=r[n];i.writer.writeUInt(e,32)}}}(cc);U(),Et();!function(t){function i(i){var n=t.call(this,"stts",0,0)||this;return n.entries=i,n}Ga(i,t),k.defineProperty(i.prototype,"entries",{get:function(){return this.Lb},set:function(t){if(!uc(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!uc(t.sampleCount,32)||!uc(t.sampleDelta,32)}))throw new y("Not all entries can be represented in 64 bits.");this.Lb=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var n=0,r=this.entries;n<r.length;n++){var e=r[n];i.writer.writeUInt(e.sampleCount,32),i.writer.writeUInt(e.sampleDelta,32)}}}(cc);U(),Et();!function(t){function i(i){var n=t.call(this,"trep",0,0)||this;return n.trackId=i,n}Ga(i,t),k.defineProperty(i.prototype,"trackId",{get:function(){return this.sA},set:function(t){if(!uc(t,32))throw new y("The provided trackId does not fit in 32 bits.");this.sA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32)}}(Gc);U(),Et();!function(t){function i(){return t.call(this,"udta")||this}Ga(i,t)}(zc);U(),Et();var vv={red:0,green:0,blue:0};!function(t){function i(i,n){void 0===i&&(i=0),void 0===n&&(n=vv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=i,r.opColor=n,r}Ga(i,t),k.defineProperty(i.prototype,"opColor",{get:function(){return this.VA},set:function(t){if(!uc(t.red,16)||!uc(t.green,16)||!uc(t.blue,16))throw new y("Not all colors could be represented in 16 bits.");this.VA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.graphicsMode,16),i.writer.writeUInt(this.opColor.red,16),i.writer.writeUInt(this.opColor.green,16),i.writer.writeUInt(this.opColor.blue,16)}}(cc);U(),Et();var dv=function(t){function i(i,n,r,e,s){void 0===e&&(e={}),void 0===s&&(s=void 0);var u,o,h,a,c,f=this;return(f=t.call(this,i,n)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(u=r.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=e.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=e.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=e.depth)&&void 0!==c?c:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=s,f}return Ga(i,t),k.defineProperty(i.prototype,"width",{get:function(){return this.lA},set:function(t){if(!uc(t,16))throw new y("Provided width does not fit in 16 bits.");this.lA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"height",{get:function(){return this.fA},set:function(t){if(!uc(t,16))throw new y("Provided height does not fit in 16 bits.");this.fA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"horizontalResolution",{get:function(){return this.HA},set:function(t){if(!uc(oc(t,16),32))throw new y("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.HA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"verticalResolution",{get:function(){return this.WA},set:function(t){if(!uc(oc(t,16),32))throw new y("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"compressorName",{get:function(){return this.qA},set:function(t){if(t.length>31)throw new y("The provided compressorName should at most be 31 characters long.");this.qA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"frameCount",{get:function(){return this.zA},set:function(t){if(!uc(t,16))throw new y("Provided frameCount does not fit in 16 bits.");this.zA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"depth",{get:function(){return this.GA},set:function(t){if(!uc(t,16))throw new y("Provided depth does not fit in 16 bits.");this.GA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i,n,r,e,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(n=null===(i=this.clap)||void 0===i?void 0:i.getSize())&&void 0!==n?n:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.width,16),i.writer.writeUInt(this.height,16),i.writer.writeUInt(oc(this.horizontalResolution,16),32),i.writer.writeUInt(oc(this.verticalResolution,16),32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.frameCount,16),i.writer.writeByte(this.compressorName.length),i.writer.writeString(this.compressorName);for(var n=0;n<31-this.compressorName.length;n++)i.writer.writeByte(0);i.writer.writeUInt(this.depth,16),i.writer.writeInt(-1,16),this.clap&&i.concat(this.clap.serialize()),this.pasp&&i.concat(this.pasp.serialize()),this.extra&&hc(i.writer,this.extra)},i}(Xc);U(),Et(),U(),Et(),H();!function(t){function i(i){var n=t.call(this,"esds",0,0)||this;return n.esDescriptor=i,n}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(V(this.esDescriptor,E)?this.esDescriptor.length:this.esDescriptor.getSize())},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),V(this.esDescriptor,E)?i.concat(nc.from(this.esDescriptor)):this.esDescriptor.serialize(i)}}(cc);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,"mp4a",i,r)||this;return e.esd=n,e}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.esd.serialize())}}(qc);U(),Et();!function(t){function i(i,n,r,e){void 0===e&&(e={});var s=t.call(this,"mp4v",i,n,e)||this;return s.esDescriptor=r,s}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor.serialize(i)}}(dv);U(),Et();!function(t){function i(i,n){var r=t.call(this,"mp4s",i)||this;return r.esDescriptor=n,r}Ga(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor.serialize(i)}}(Xc);U(),Et(),U(),Et();!function(t){function i(i){var n=t.call(this,"avcC")||this;return n.decoderConfig=i,n}Ga(i,t),i.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},i.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(sc);U(),Et();!function(){function t(t,i,n,r,e,s){void 0===s&&(s=1),this.lengthSizeMinusOne=n,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=i,this.spsSets=r,this.ppsSets=e}k.defineProperty(t.prototype,"version",{get:function(){return this.XA},set:function(t){if(!uc(t,8))throw new y("Provided version does not fit in 8 bits.");this.XA=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileIndication",{get:function(){return this.jA},set:function(t){if(!uc(t,8))throw new y("Provided profileIndication does not fit in 8 bits.");this.jA=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.QA},set:function(t){if(!uc(t,8))throw new y("Provided profileCompatibility does not fit in 8 bits.");this.QA=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"levelIndication",{get:function(){return this.KA},set:function(t){if(!uc(t,8))throw new y("Provided levelIndication does not fit in 8 bits.");this.KA=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"spsSets",{get:function(){return this.YA},set:function(t){if(!uc(t.length,5))throw new y("Provided number of spsSets exceeds the max (32)");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"ppsSets",{get:function(){return this.JA},set:function(t){if(!uc(t.length,8))throw new y("Provided number of ppsSets exceeds the max (256)");this.JA=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,i){return t+i.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,i){return t+i.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var i=0,n=this.spsSets;i<n.length;i++){var r=n[i];t.writer.writeUInt(r.length,16),t.concat(nc.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,s=this.ppsSets;e<s.length;e++){var u=s[e];t.writer.writeUInt(u.length,16),t.concat(nc.from(u))}}}();U(),Et();!function(t){function i(i,n,r,e,s){void 0===e&&(e={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",i,n,e)||this;return u.configurationBox=r,u.bitrateBox=s,u}Ga(i,t),i.prototype.getBoxContentSize=function(){var i,n;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(n=null===(i=this.bitrateBox)||void 0===i?void 0:i.getSize())&&void 0!==n?n:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.configurationBox.serialize()),this.bitrateBox&&i.concat(this.bitrateBox.serialize())}}(dv);U(),Et();!function(t){function i(i,n,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=i,e.max=n,e.avg=r,e}Ga(i,t),k.defineProperty(i.prototype,"bufferSizeDb",{get:function(){return this.kb},set:function(t){if(!uc(t,32))throw new y("Provided bufferSizeDb does not fit in 32 bits.");this.kb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"max",{get:function(){return this.ZA},set:function(t){if(!uc(t,32))throw new y("Provided max does not fit in 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"avg",{get:function(){return this.$A},set:function(t){if(!uc(t,32))throw new y("Provided avg does not fit in 32 bits.");this.$A=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 12},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(sc);U(),Et(),U(),Et(),U(),Et();var lv=function(t){function i(i,n){var r,e,s,u,o=this;if(o=t.call(this,"tenc",i,0)||this,n.perSampleIvSize>0&&(null!==(e=null===(r=n.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new y("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=n.kId,o.isProtected=null!==(s=n.isProtected)&&void 0!==s?s:1,n.perSampleIvSize>0?o.perSampleIvSize=n.perSampleIvSize:o.constantIv=null!==(u=n.constantIv)&&void 0!==u?u:new E(0),o}return Ga(i,t),k.defineProperty(i.prototype,"isProtected",{get:function(){return this.tS},set:function(t){if(!uc(t,8))throw new y("Provided isProtected does not fit in 1 byte.");this.tS=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"perSampleIvSize",{get:function(){return this.iS},set:function(t){if(![8,16].includes(t))throw new y("Provided perSampleIvSize does not match any allowed value [8, 16].");this.iS=t,this.eS=new E(0)},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"kId",{get:function(){return this.sS},set:function(t){if(16!==t.length)throw new y("Provided kId length is not 16.");this.sS=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"constantIv",{get:function(){return this.eS},set:function(t){if(![8,16].includes(t.length))throw new y("Provided constant IV length does not match any allowed value [8, 16].");this.eS=t,this.iS=0},enumerable:!1,configurable:!0}),i.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeOwnContent(i)},i.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),hc(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),hc(t.writer,this.constantIv))},i}(cc),wv=(function(t){function i(i){return t.call(this,0,i)||this}Ga(i,t)}(lv),function(t){function i(i){var n=t.call(this,1,i)||this;return n.cryptByteBlocks=i.cryptByteBlock,n.skipByteBlocks=i.skipByteBlock,n}return Ga(i,t),k.defineProperty(i.prototype,"cryptByteBlocks",{get:function(){return this.nS},set:function(t){if(!uc(t,4))throw new y("Provided cryptByteBlocks does not fit in 4 bits.");this.nS=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"skipByteBlocks",{get:function(){return this.rS},set:function(t){if(!uc(t,4))throw new y("Provided skipByteBlocks does not fit in 4 bits.");this.rS=t},enumerable:!1,configurable:!0}),i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},i}(lv));!function(t){function i(i){var n=t.call(this)||this;return n.tencBox=new wv(i),n}Ga(i,t),i.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},i.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(pf);function gv(t){return void 0!==t.iv}function _v(t){return void 0!==t.subsamples}U(),Et();!function(t){function i(i){var n=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return n.samples=i,n}Ga(i,t),k.defineProperty(i.prototype,"samples",{get:function(){return this.bA},set:function(t){var i;if(!uc(t.length,32))throw new y("The number of samples provided does not fit in 32 bits.");for(var n=0,r=t;n<r.length;n++){var e=r[n];if(gv(e)&&![8,16].includes(e.iv.length))throw new y("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===i&&(i=_v(e)),!0===i&&!_v(e)||!1===i&&_v(e))throw new y("Mix of samples with and without subsamples detected.");if(_v(e)){if(!uc(e.subsamples.length,16))throw new y("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=e.subsamples;s<u.length;s++){var o=u[s];if(!uc(o.clearData,16))throw new y("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!uc(o.protectedData,23))throw new y("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=i&&i,this.bA=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){for(var i=0,n=0,r=this.samples;n<r.length;n++){var e=r[n];gv(e)&&(i+=e.iv.length),_v(e)&&(i+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.samples.length,32);for(var n=0,r=this.samples;n<r.length;n++){var e=r[n];if(gv(e)&&hc(i.writer,e.iv),_v(e)){i.writer.writeUInt(e.subsamples.length,16);for(var s=0,u=e.subsamples;s<u.length;s++){var o=u[s];i.writer.writeUInt(o.clearData,16),i.writer.writeUInt(o.protectedData,32)}}}},i.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(cc);U(),Et(),U(),Et();!function(t){function i(i,n,r,e,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=i,u.value=n,u.data=s,u.id=r,u.timescale=e.timescale,u.presentationTimeDelta=e.presentationTimeDelta,u.eventDuration=e.eventDuration,u}Ga(i,t),k.defineProperty(i.prototype,"timescale",{get:function(){return this.Jb},set:function(t){if(!uc(t,32))throw new y("The provided timescale does not fit in 32 bits.");this.Jb=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"presentationTimeDelta",{get:function(){return this.hS},set:function(t){if(!uc(t,32))throw new y("The provided presentationTimeDelta does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"eventDuration",{get:function(){return this.oS},set:function(t){if(!uc(t,32))throw new y("The provided eventDuration does not fit in 32 bits.");this.oS=t},enumerable:!1,configurable:!0}),k.defineProperty(i.prototype,"id",{get:function(){return this.aS},set:function(t){if(!uc(t,32))throw new y("The provided id does not fit in 32 bits.");this.aS=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.schemeIdUri),i.writer.writeByte(0),i.writer.writeString(this.value),i.writer.writeByte(0),i.writer.writeUInt(this.timescale,32),i.writer.writeUInt(this.presentationTimeDelta,32),i.writer.writeUInt(this.eventDuration,32),i.writer.writeUInt(this.id,32),i.concat(nc.from(this.data))}}(cc);U(),Et(),U(),Et(),U(),Et();var mv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ec,i=0,n=this.boxes;i<n.length;i++){var r=n[i];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function yv(t,i){return function(n){var r=function(t,i){for(var n=t.data,r=t.cursor;r.offset<n.byteLength;){var e=Nc(n,r);if(!e.complete)return;if(Pc(e.box,i))return e.box}}(new Cc(Ec(n),new Rc),t);if(!r)throw new y("".concat(t," box not found"));return i(r)}}var pv=yv("moov",Xf),kv=yv("sidx",function(t){var i,n,r=t.data,e=xc(r.nextUint32()),s=e.version,u=e.flags,o=r.nextUint32(),h=r.nextUint32();0===s?(i=r.nextUint32(),n=r.nextUint32()):(i=r.nextUint64(),n=r.nextUint64()),r.skip(2);for(var a=r.nextUint16(),c=[],f=0;f<a;f++){var v=new tc(nc.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),g=Boolean(v.readBit()),_=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:g,sapType:_,sapDeltaTime:m})}return 0===s?new hv(o,h,i,n,c,u.raw):new av(o,h,i,n,c,u.raw)}),bv=yv("moof",rv),Av=yv("pssh",Tf);function Tv(t){return function(t){for(var i=new mv,n=0,r=Dc(t);n<r.length;n++){var e=r[n];Pc(e,"ftyp")?i.boxes.push(nf(e)):Pc(e,"styp")?i.boxes.push(fv(e)):Pc(e,"moov")?i.boxes.push(Xf(e)):Pc(e,"moof")?i.boxes.push(rv(e)):Pc(e,"mdat")?i.boxes.push(vf(e)):i.boxes.push(Lc(e))}return i}(new Cc(Ec(t),new Rc))}var Sv=function(t){function i(i,n){var r;(r=t.call(this)||this).dS=void 0,r.yS=void 0,r.lS=void 0,r.vS=void 0,r.zd=void 0,r._S=void 0,r.bS=void 0,r.SS=void 0,r.TS=void 0,r.dS=i,r.yS=n,r.vS=!1,r.bS=function(){r.mS()},r.SS=function(t){r.So(new ah(r,t.messageType,Wa(r.yS,t.message)))},r.TS=function(){r.vS=!0,r.lS.Wy>0&&(r.lS.jy(),r.So(new oh(r.lS))),r.dS.removeEventListener("keystatuseschange",r.bS),r.dS.removeEventListener("message",r.SS)},r.dS.addEventListener("keystatuseschange",r.bS),r.dS.addEventListener("message",r.SS),r.lS=new Ua;var e=[];return r.dS.closed&&e.push(ut.resolve(r.dS.closed)),r._S=new Va,e.push(r._S.Yy),r.zd=ut.race(e).then(r.TS,r.TS),r.mS(),r}Ct(i,t);var n=i.prototype;return n.Xs=function(){if(this.vS)return this.zd;var t=[];return t.push(ut.resolve(this.dS.close())),t.push(Ar(1e3)),this._S.$g(ut.race(t).catch(Ev)),this.vS=!0,this.zd},n.gS=function(t,i,n){if(Bi.e_){var r=Av(pa(i));if(1===r.version)i=new bf(r.systemId,r.data).serialize().join()}return ut.resolve(this.dS.generateRequest(t,i)).catch(Ev)},n.Un=function(t){return ut.resolve(this.dS.load(t)).catch(Ev)},n.pS=function(){return ut.resolve(this.dS.remove()).catch(Ev)},n.er=function(t){return ut.resolve(this.dS.update(t)).catch(Ev)},n.mS=function(){var t=this;this.lS.jy(),this.dS.keyStatuses.forEach(function(i,n){t.wS(n,i)}),this.So(new oh(this.lS))},n.wS=function(t,i){if("string"==typeof t){var n=t;t=i,i=n}var r=pa(t);if(this.yS===vo&&16===r.byteLength&&(Bi.v_||Bi.dg)){var e=_a(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.yS===vo&&"status-pending"===i&&(i="usable"),this.lS.Gy(r,i)},Nt(i,[{key:"uS",get:function(){return this.zd}},{key:"cS",get:function(){return this.dS.expiration}},{key:"xy",get:function(){return this.lS}},{key:"fS",get:function(){return this.dS.sessionId}}]),i}(th);function Ev(t){var i;if(t.message){var n=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);n&&(i=0|A(n[1],16))}throw new Xa(t.message,void 0,i,t)}var Iv=function(){function t(t,i,n){this.ES=void 0,this.xS=void 0,this.Cd=void 0,this.ES=t,this.xS=i,this.Cd=n}var i=t.prototype;return i.kS=function(t){return Vt(function(){return zt(this,function(i){return[2,new Sv(this.ES.createSession(t),this.xS)]})}).call(this)},i.PS=function(t){return ut.resolve(this.ES.setServerCertificate(t))},i._n=function(t){return ut.resolve(t.setMediaKeys(this.ES))},i.IS=function(t){return ut.resolve(t.setMediaKeys(null))},i.hr=function(){return ut.resolve()},t}(),Rv=function(){function t(t,i,n){this.CS=void 0,this.yS=void 0,this.DS=void 0,this.CS=t,this.yS=i,this.DS=n}var i=t.prototype;return i.RS=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,this.CS.createMediaKeys()];case 1:return t=i.sent(),[2,new Iv(t,this.yS,this.DS)]}})}).call(this)},i.NS=function(){return this.DS},Nt(t,[{key:"xS",get:function(){return this.CS.keySystem}}]),t}();U(),Et(),Ft(),U(),Et(),Ft();var Cv="video/avc",Pv="video/hevc",Dv="video/mp4",Nv="video/mpeg",xv="video/mpeg2",Bv="video/webm",Ov="video/x-unknown",Mv="audio/mp4",Lv="audio/webm",Fv="image/jpeg",Uv="application/ttml+xml",Vv="application/mp4",Hv="text/vtt";function Wv(t){return Fo(t,"audio/")}function zv(t){return Fo(t,"video/")}function Xv(t){return Lo(t,Vv)||Lo(t,Dv)||Lo(t,Mv)}function qv(t){return Lo(t,Bv)||Lo(t,Lv)}var Gv=function(){function t(t,i){this.Km=void 0,this.LS=void 0,this.Km=t,this.LS=i}return t.prototype.MS=function(t){for(var i,n=Lt(this.LS);!(i=n()).done;){var r=i.value,e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function jv(t){var i=t.trim(),n=i.indexOf(";");if(n<0)return new Gv(i,[]);for(var r=i.substr(0,n).trim(),e=i.substr(n+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=Qv(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=Qv(e.substr(u));f&&s.push(f)}return new Gv(r,s)}function Qv(t){var i=t.indexOf("=");if(!(i<0)){var n=t.substr(0,i).trim(),r=t.substr(i+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[n,r]}}function Yv(t){var i=t.trim(),n=i.indexOf(";");return n<0?i:i.substr(0,n).trim()}function Kv(t){var i=t,n=i.match(/^avc1\.(\d+)\.(\d+)$/);if(n){var r=Number(n[1]),e=Number(n[2]);i="avc1."+Wo((r<<16|e).toString(16),6,"0")}return i}function Jv(t,i,n,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,FS:r.FS},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return Zv(t,i,n,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return Zv(t,i,n,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(n,"video/mp4")),e?s:void 0}}function Zv(t,i,n,r){return!!r.contentType&&(!(r.encryptionScheme&&!jn(i,r.encryptionScheme))&&(!r.robustness&&t(n,Yv(r.contentType))))}function $v(t){if(t.videoCapabilities)for(var i,n=Lt(t.videoCapabilities);!(i=n()).done;){var r=i.value;if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e,s=Lt(t.audioCapabilities);!(e=s()).done;){var u=e.value;if(u.contentType)return u.contentType}}function td(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value;e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function id(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(nd))||!(!t.videoCapabilities||!t.videoCapabilities.some(nd))}function nd(t){return!t.robustness}function rd(t,i){for(var n,r=[],e=Lt(t);!(n=e()).done;){var s=n.value;s.robustness?r.push(s):r.push(Yu({},s,{robustness:i}))}return r}var ed=function(){function t(){}return t.prototype.nw=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:for(i=i.filter(function(t){return!t.FS}),n=Lt(i);!(r=n()).done;)(e=r.value).audioCapabilities&&(e.audioCapabilities=td(e.audioCapabilities)),e.videoCapabilities&&(e.videoCapabilities=td(e.videoCapabilities));if(t!==go||!i.some(id))return[3,4];s=i.map(function(t){return function(t,i){return Yu({},t,{videoCapabilities:t.videoCapabilities?rd(t.videoCapabilities,i):void 0,audioCapabilities:t.audioCapabilities?rd(t.audioCapabilities,i):void 0})}(t,"SW_SECURE_CRYPTO")}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,l.requestMediaKeySystemAccess(t,s)];case 2:return u=c.sent(),o=u.getConfiguration(),[2,new Rv(u,t,o)];case 3:return c.sent(),[3,4];case 4:return[4,l.requestMediaKeySystemAccess(t,i)];case 5:return h=c.sent(),a=h.getConfiguration(),[2,new Rv(h,t,a)]}})})()},t.US=function(){return Ko()},t}();U(),Et(),Ft(),U(),Et(),xt(),U(),Et(),Wt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt();var sd=function(t){function i(i,n){var r;return(r=t.call(this)||this).XS=void 0,r.jS=void 0,r.vS=void 0,r.HS=void 0,r.JS=void 0,r.zS=void 0,r.WS=void 0,r.VS=void 0,r.TS=void 0,r.QS=void 0,r.Ts=void 0,r.KS=void 0,r.XS=i,r.jS=n,r.vS=!1,r.JS=void 0,r.zS=void 0,r.VS=void 0,r.TS=function(){r.vS=!0,r.HS.Qy(void 0),r.VS&&(r.VS.removeEventListener("mskeyclose",r.TS),r.VS.removeEventListener("mskeymessage",r.QS),r.VS.removeEventListener("mskeyerror",r.Ts),r.VS.removeEventListener("mskeyadded",r.KS))},r.QS=function(t){r.zS&&(r.zS.Qy(void 0),r.zS=void 0),r.So(new ah(r,"license-request",ba(t.message).buffer,t.destinationURL||void 0))},r.Ts=function(){var t=r.VS&&r.VS.error;if(t){var i=new Xa("Unknown CDM error",t.code,t.systemCode);if(r.zS)r.zS.Ky(i),r.zS=void 0;else if(r.JS)r.JS.Ky(i),r.JS=void 0;else switch(i.Jy){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.YS("output-not-allowed");break;default:r.YS("internal-error")}}},r.KS=function(){r.zS&&(r.YS("usable"),r.zS.Qy(void 0),r.zS=void 0),r.JS&&(r.YS("usable"),r.JS.Qy(void 0),r.JS=void 0)},r.HS=new Va,r.WS=new Ua,r}Ct(i,t);var n=i.prototype;return n.gS=function(t,i,n){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.qS(),this.zS=new Va,this.kS(pa(i),n),[4,this.zS.Yy];case 1:return t.sent(),[2]}})}).call(this)},n.kS=function(t,i){if(!t)throw new p("Expected initData to be defined but was "+t+".");var n,r=i&&i.playready&&i.playready.GS;return(n=i?this.XS.createSession(this.jS,t,r):this.XS.createSession(this.jS,t)).addEventListener("mskeyclose",this.TS),n.addEventListener("mskeymessage",this.QS),n.addEventListener("mskeyerror",this.Ts),n.addEventListener("mskeyadded",this.KS),this.VS=n,this.YS("status-pending"),n},n.Un=function(t){return Vt(function(){return zt(this,function(t){return this.qS(),[2,!0]})}).call(this)},n.er=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:if(this.JS=new Va,this.qS(),!this.VS)return[2,ut.resolve()];if(0===(i=pa(t)).byteLength)throw new p("Cannot call update with an empty response.");return this.VS.update(i),[4,this.JS.Yy];case 1:return n.sent(),[2]}})}).call(this)},n.Xs=function(){return!this.vS&&this.VS&&(this.vS=!0,this.VS.close()),this.HS.Yy},n.pS=function(){return Vt(function(){return zt(this,function(t){return this.qS(),[2]})}).call(this)},n.qS=function(){if(this.vS)throw new p("Already closing or closed.")},n.YS=function(t){this.WS.jy(),this.WS.Gy(Fa,t),this.So(new oh(this.WS))},Nt(i,[{key:"fS",get:function(){return this.VS&&this.VS.sessionId||""}},{key:"cS",get:function(){return NaN}},{key:"uS",get:function(){return this.HS.Yy}},{key:"xy",get:function(){return this.WS}}]),i}(th),ud=function(){function t(t,i,n){this.XS=void 0,this.xS=void 0,this.Cd=void 0,this.jS=void 0,this.XS=t,this.xS=i,this.Cd=n;var r=$v(n)||"video/mp4";this.jS=Yv(r)}var i=t.prototype;return i.kS=function(t){return Vt(function(){return zt(this,function(t){return[2,new sd(this.XS,this.jS)]})}).call(this)},i.PS=function(t){return ut.resolve(!1)},i._n=function(t){var i=this,n=function(){t.msSetMediaKeys(i.XS),t.removeEventListener("loadedmetadata",n)};return t.readyState>=1?t.msSetMediaKeys(this.XS):t.addEventListener("loadedmetadata",n),ut.resolve()},i.IS=function(t){return ut.resolve()},i.hr=function(){return ut.resolve()},t}(),od=function(){function t(t,i){this.yS=void 0,this.ZS=void 0,this.yS=t,this.ZS=i}var i=t.prototype;return i.NS=function(){return this.ZS},i.RS=function(){var t=new f.MSMediaKeys(this.yS);return ut.resolve(new ud(t,this.yS,this.ZS))},Nt(t,[{key:"xS",get:function(){return this.yS}}]),t}(),hd=function(){function t(){}return t.prototype.nw=function(t,i){try{return ut.resolve(function(t,i){if(!ad())throw new p("Unsupported key system "+t);for(var n,r=Lt(i);!(n=r()).done;){var e=n.value,s=Jv(cd,sh,t,e);if(s)return new od(t,s)}throw new p("Unsupported key system configuration for "+t)}(t,i))}catch(t){return ut.reject(t)}},t.US=function(){return ad()},t}();function ad(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function cd(t,i){return f.MSMediaKeys.isTypeSupported(t,i)}U(),Et(),Ft(),U(),Et(),xt(),U(),Et(),Wt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt();var fd=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).eT=void 0,e.jS=void 0,e.iT=void 0,e.HS=void 0,e.nT=void 0,e.WS=void 0,e.$S=void 0,e.sT=void 0,e.Ts=void 0,e.QS=void 0,e.KS=void 0,e.eT=i,e.jS=n,e.iT=r,e.HS=new Va,e.nT=void 0,e.WS=new Ua,e.$S=void 0,e.sT=new Va,e.Ts=function(){var t=e.$S&&e.$S.error;if(t){var i=new Xa("Unknown CDM error",t.code,t.systemCode);e.nT?(e.nT.Ky(i),e.nT=void 0):i.Jy===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.YS("output-not-allowed"):e.YS("internal-error"),e.So(new ch)}},e.QS=function(t){e.So(new ah(e,"license-request",ba(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.KS=function(){e.nT&&(e.nT.Qy(void 0),e.nT=void 0),e.YS("usable")},e}Ct(i,t);var n=i.prototype;return n.gS=function(t,i,n){var r=n&&n.fairplay&&n.fairplay.tT;if(!r)throw new p("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,i,n){var r=va(t),e=2*r.length,s=2*i.length,u=new ArrayBuffer(4+e+4+s+4+n.byteLength),o=new DataView(u),h=new Ta;return Gh(o,h,e,!0),sa(o,h,r,!0),Gh(o,h,s,!0),sa(o,h,i,!0),Gh(o,h,n.byteLength,!0),Uh(o,h,n),new E(u)}(pa(i),r,this.iT);return this.$S=this.eT.createSession(this.jS,e),this.$S.addEventListener("webkitkeymessage",this.QS,!1),this.$S.addEventListener("webkitkeyadded",this.KS,!1),this.$S.addEventListener("webkitkeyerror",this.Ts,!1),this.YS("status-pending"),this.sT.Qy(this.$S),this.sT=new Va,ut.resolve()},n.Un=function(t){return ut.resolve(!0)},n.er=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:if(0===(i=pa(t)).byteLength)throw new p("Cannot call update with an empty response.");return this.nT=new Va,(n=this.$S)?[3,2]:[4,this.sT.Yy];case 1:n=r.sent(),r.label=2;case 2:return n.update(i),[4,this.nT.Yy];case 3:return r.sent(),[2]}})}).call(this)},n.Xs=function(){var t,i=this.$S;return i&&(i.removeEventListener("webkitkeymessage",this.QS,!1),i.removeEventListener("webkitkeyadded",this.KS,!1),i.removeEventListener("webkitkeyerror",this.Ts,!1),i.close()),this.sT.Zg(),null==(t=this.nT)||t.Zg(),this.HS.Qy(void 0),this.HS.Yy},n.pS=function(){return ut.resolve(void 0)},n.YS=function(t){this.WS.jy(),this.WS.Gy(Fa,t),this.So(new oh(this.WS))},Nt(i,[{key:"fS",get:function(){return this.$S?this.$S.sessionId:""}},{key:"cS",get:function(){return NaN}},{key:"uS",get:function(){return this.HS.Yy}},{key:"xy",get:function(){return this.WS}}]),i}(th);U(),Et(),xt(),Pt(),H(),U(),Et();var vd=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),dd=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(i){var n=b.floor(i/1e3);if(n in t)return n;throw new p("Invalid error code: "+i)}}(dd||(dd={}));var ld=function(t){function i(i,n,r){var e;return(e=t.call(this,n,r)||this).code=void 0,e.code=i,e}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return dd.fromCode(this.code)}}]),i}(cr);function wd(t,i){return V(t,ld)?t:V(t,y)?new ld(i,t.message,t):new ld(i,String(t))}var gd=function(){function t(t,i,n){this.eT=void 0,this.xS=void 0,this.Cd=void 0,this.jS=void 0,this.iT=void 0,this.eT=t,this.xS=i,this.Cd=n,this.iT=void 0;var r=$v(n)||"video/mp4";this.jS=Yv(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.eT},i.kS=function(t){return Vt(function(){return zt(this,function(t){if(!this.iT)throw new ld(vd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new fd(this.eT,this.jS,this.iT)]})}).call(this)},i.PS=function(t){return this.iT=pa(t),ut.resolve(!0)},i._n=function(t){return t.webkitSetMediaKeys(this.eT),ut.resolve()},i.IS=function(t){return t.webkitSetMediaKeys(null),ut.resolve()},i.hr=function(){return ut.resolve()},t}(),_d=function(){function t(t,i){this.yS=void 0,this.ZS=void 0,this.yS=t,this.ZS=i}var i=t.prototype;return i.NS=function(){return this.ZS},i.RS=function(){var t=new f.WebKitMediaKeys(this.yS);return ut.resolve(new gd(t,this.yS,this.ZS))},Nt(t,[{key:"xS",get:function(){return this.yS}}]),t}(),md=function(){function t(){}return t.prototype.nw=function(t,i){try{return ut.resolve(function(t,i){if(t!==To)throw new p(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!yd())throw new p("Unsupported key system "+t);for(var n,r=Lt(i);!(n=r()).done;){var e=n.value,s=Jv(pd,uh,t,e);if(s)return new _d(t,s)}throw new p("Unsupported key system configuration for "+t)}(t,i))}catch(t){return ut.reject(t)}},t.US=function(){return yd()},t}();function yd(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function pd(t,i){return f.WebKitMediaKeys.isTypeSupported(t,i)}U(),Et(),Wt(),Ft(),Qt();var kd=function(){function t(t){this.rT=void 0,this.rT=t}return t.prototype.nw=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=Lt(this.rT),s.label=1;case 1:if((r=n()).done)return[3,6];e=r.value,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.nw(t,i)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return[3,1];case 6:throw new p("Unsupported key system configuration for "+t)}})}).call(this)},t}();U(),Et(),Ft(),U(),Et(),U(),Et(),Wt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var bd=function(){function t(t){var i=this;this.oT=[],this.aT=void 0,this.hT=new hr,this.dT=void 0,this.uT=function(){return 0===i.oT.length?i.dT?Ad(i.dT,i.hT.Yg).then(i.lT,i.lT):i.lT():i.oT.shift()().then(i.uT)},this.lT=function(){if(0!==i.oT.length)return i.uT();i.aT=void 0},this.dT=t}var i=t.prototype;return i.Zo=function(t,i){var n=this;return new ut(function(r){var e=hr.ep([n.hT.Yg,i]),s=function(){e.zg()};n.oT.push(function(){var i=Ad(t,e.Yg);return r(i),i.then(s,s)}),n.aT||(n.aT=n.uT())})},i.Zg=function(){return this.cT(!0)},i.kn=function(){return this.dT=void 0,this.cT(!1)},i.cT=function(t){var i=this.aT;return this.hT.Zg(),t&&(this.hT=new hr),ut.resolve(i)},t}();function Ad(t,i){return new ut(function(n){return n(t(i))})}var Td=new bd,Sd=function(t){function i(i){var n;return(n=t.call(this)||this).yS=void 0,n.zS=void 0,n.nT=void 0,n.HS=void 0,n.gb=void 0,n.bT=void 0,n.yT=void 0,n.wT=void 0,n.pT=void 0,n.mT=void 0,n.yS=i,n.zS=void 0,n.nT=void 0,n.gb=!1,n.bT=void 0,n.pT=void 0,n.HS=new Va,n.yT="",n.mT=new Va,n.wT=new Ua,n}Ct(i,t);var n=i.prototype;return n.fT=function(){this.nT&&(this.YS("usable"),this.nT.Qy(void 0),this.nT=void 0)},n.vT=function(t){var i=new Xa("Unknown CDM error",t.errorCode,t.systemCode);this.nT?(this.nT.Ky(i),this.nT=void 0):this.zS?(this.zS.Ky(i),this.zS=void 0):i.Jy===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.YS("output-restricted"):1===i.Zy?this.YS("expired"):this.YS("internal-error")},n._T=function(t){0!==t.message.byteLength?(this.zS&&(this.zS.Qy(void 0),this.zS=void 0),this.So(new ah(this,"license-request",Wa(this.yS,ba(t.message).buffer),t.defaultURL||void 0))):this.zS&&(this.zS.Ky("Empty key message"),this.zS=void 0)},n.gT=function(t){this.pT||(this.pT=t,this.mT.Qy(t))},n.Xs=function(){return Vt(function(){return zt(this,function(t){return this.throwIfClosed(),this.nT&&(this.nT.Ky(void 0),this.nT=void 0),this.gb=!0,this.HS.Qy(void 0),[2]})}).call(this)},n.gS=function(t,i){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return this.throwIfClosed(),this.zS=new Va,this.bT=pa(i),(t=this.pT)?[3,2]:[4,this.mT.Yy];case 1:t=n.sent(),n.label=2;case 2:return t.webkitGenerateKeyRequest(this.yS,this.bT),[4,this.zS.Yy];case 3:return n.sent(),[2]}})}).call(this)},n.Un=function(t){return Vt(function(){return zt(this,function(t){return this.throwIfClosed(),[2,!1]})}).call(this)},n.pS=function(){return Vt(function(){return zt(this,function(t){return this.throwIfClosed(),[2]})}).call(this)},n.er=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return i=this,this.throwIfClosed(),this.nT=new Va,Bi.S_||Bi.w_?[2,Td.Zo(function(){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.doUpdate(t)];case 1:return i.sent(),[2]}})}).call(i)})]:[4,this.doUpdate(t)];case 1:return n.sent(),[2]}})}).call(this)},n.doUpdate=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return void 0===this.nT?[2]:(i=this.pT)?[3,2]:[4,this.mT.Yy];case 1:i=n.sent(),n.label=2;case 2:return i.webkitAddKey(this.yS,pa(t),this.bT,this.fS),[4,this.nT.Yy];case 3:return n.sent(),Bi.w_?[4,Ar(500)]:[3,5];case 4:n.sent(),n.label=5;case 5:return[2]}})}).call(this)},n.throwIfClosed=function(){if(this.gb)throw new p("Already closing or closed.")},n.YS=function(t){this.wT.jy(),this.wT.Gy(Fa,t),this.So(new oh(this.wT))},n.AT=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return(i=this.pT)?[3,2]:[4,this.mT.Yy];case 1:i=n.sent(),n.label=2;case 2:if(!(t=i).webkitCancelKeyRequest)return[3,7];n.label=3;case 3:return n.trys.push([3,4,5,7]),t.webkitCancelKeyRequest(this.yS,this.yT),[3,7];case 4:return n.sent(),[3,7];case 5:return[4,Ar(500)];case 6:return n.sent(),[7];case 7:return[2]}})}).call(this)},Nt(i,[{key:"xy",get:function(){return this.wT}},{key:"fS",get:function(){return this.yT},set:function(t){this.yT=t}},{key:"uS",get:function(){return this.HS.Yy}},{key:"cS",get:function(){return NaN}}]),i}(th),Ed=function(){function t(t,i){var n=this;this.xS=void 0,this.Cd=void 0,this.pT=void 0,this.kT=void 0,this.ET=void 0,this.KS=void 0,this.ST=void 0,this.TT=void 0,this.xS=t,this.Cd=i,this.pT=void 0,this.kT=Ju(),this.ET=[],this.KS=function(t){var i=n.xT(t.sessionId);i&&i.fT()},this.ST=function(t){var i=n.xT(t.sessionId);i&&i.vT(t)},this.TT=function(t){var i=n.xT(t.sessionId);i&&i._T(t)}}var i=t.prototype;return i._n=function(t){return this.pT=t,this.pT.addEventListener("webkitkeyadded",this.KS),this.pT.addEventListener("webkitkeyerror",this.ST),this.pT.addEventListener("webkitkeymessage",this.TT),this.kT.forEach(function(i,n){return i.gT(t)}),this.ET.forEach(function(i){return i.gT(t)}),ut.resolve()},i.IS=function(t){return t.removeEventListener("webkitkeyadded",this.KS),t.removeEventListener("webkitkeyerror",this.ST),t.removeEventListener("webkitkeymessage",this.TT),this.pT=void 0,ut.resolve()},i.hr=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:t=this.kT.entries(),i=t.next(),n.label=1;case 1:return i.done?[3,3]:[4,i.value[1].AT()];case 2:return n.sent(),i=t.next(),[3,1];case 3:return this.kT.clear(),[2]}})}).call(this)},i.kS=function(t,i,n){return Vt(function(){var t;return zt(this,function(i){return t=new Sd(this.xS),this.pT&&t.gT(this.pT),this.ET.push(t),[2,t]})}).call(this)},i.PS=function(t){return ut.resolve(!1)},i.xT=function(t){if(t){var i=this.kT.get(t);return i||((i=this.ET.shift())?(i.fS=t,this.kT.set(t,i),i):void 0)}},t}(),Id=function(){function t(t,i){this.xS=void 0,this.PT=void 0,this.xS=t,this.PT=i}var i=t.prototype;return i.RS=function(){return ut.resolve(new Ed(this.xS,this.PT))},i.NS=function(){return this.PT},t}(),Rd=function(){function t(){}return t.prototype.nw=function(t,i){try{return ut.resolve(function(t,i){if(!Rd.US())throw new p("Unsupported key system "+t);for(var n,r=Lt(i);!(n=r()).done;){var e=n.value,s=Jv(Cd,sh,t,e);if(s)return new Id(t,s)}throw new p("Unsupported key system configuration for "+t)}(t,i))}catch(t){return ut.reject(t)}},t.US=function(){return Jo()},t}();function Cd(t,i){var n=Rr();return Boolean(n&&n.canPlayType&&""!==n.canPlayType(i,t))}U(),Et();var Pd,Dd=function(){function t(){}return t.prototype.nw=function(t,i){return t===go||t===vo?ut.resolve(void 0):ut.reject(new y("DRM configuration not supported"))},t}();function Nd(){return Pd||(Pd=function(){var t=[];md.US()&&t.push(new md);ed.US()&&t.push(new ed);hd.US()&&t.push(new hd);Rd.US()&&t.push(new Rd);Bi.k_&&t.push(new Dd);return new kd(t)}()),Pd}U(),Et(),Pt(),U(),Et();var xd=function(){function t(){this.IT=Ju()}var i=t.prototype;return i.jy=function(t){this.IT.delete(t)},i.CT=function(){this.IT.clear()},i.zy=function(t){return this.IT.get(t)},i.Gy=function(t,i){this.IT.set(t,i)},t}(),Bd=function(){function t(){}return t.DT=function(){return t.Bg||(t.Bg=Od.US()?new Od:new xd),t.Bg},t.jy=function(i){t.DT().jy(i)},t.CT=function(){t.DT().CT()},t.zy=function(i){return t.DT().zy(i)},t.Gy=function(i,n){t.DT().Gy(i,n)},t}();Bd.Bg=void 0;var Od=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.jy=function(t){self.sessionStorage.removeItem(t)},n.CT=function(){self.sessionStorage.clear()},n.zy=function(t){var i;return null!=(i=self.sessionStorage.getItem(t))?i:void 0},n.Gy=function(t,i){self.sessionStorage.setItem(t,i)},i.US=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},i}(Bd);U(),Et(),U(),Et(),Ft();var Md=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(i,n){return new t(i,n)}}(t)}catch(t){}var i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(i)return function(t){return function(i,n){var r=new t;if(i)for(var e,s=Lt(i);!(e=s()).done;){var u=e.value;r.append(u)}return r.getBlob(n&&n.type||"")}}(i)}();function Ld(t,i,n){var r=Md([i],{type:"application/octet-stream"}),e=URL.createObjectURL(r),s=function(t,i){var n=t,r=n.indexOf("?");if(r>=0&&(n=n.substr(0,r)),n=n.substr(n.lastIndexOf("/")+1),i){var e=n.indexOf(".");e<0&&(e=n.length),n=n.substr(0,e)+i+n.substr(e)}return n}(t,n),u=v.createElement("a");u.href=e,u.download=s,v.body.appendChild(u),u.click(),v.body.removeChild(u),URL.revokeObjectURL(e)}U(),Et();var Fd="default";U(),Et(),xt(),U(),Et(),U(),Et(),Pt(),U(),Et();var Ud=function(t){return t.NT="arraybuffer",t.BT="json",t.MT="stream",t.LT="text",t}({});U(),Et(),H(),Ft();var Vd=function(){function t(i){var n=this;if(this.Wm=void 0,this.Wm={},i)if(V(i,t))i.asList().forEach(function(t){var i=t[0],r=t[1];n.append(i,r)});else if(function(t){return Wi(t)&&"function"==typeof t.forEach}(i))i.forEach(function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)});else if(function(t){return void 0!==r&&Wi(t)&&r in t}(i))for(var e,s=Lt(i);!(e=s()).done;){var u=e.value,o=u[0],h=u[1];this.append(o,h)}else k.getOwnPropertyNames(i).forEach(function(t){n.append(t,i[t])});else;}var i=t.prototype;return i.append=function(t,i){var n=t,r=i;n=Hd(n),r=Wd(r);var e=n.toLowerCase();if(this.Wm.hasOwnProperty(e)){var s=this.Wm[e],u=s[1];s[1]=u?u+", "+r:r}else this.Wm[e]=[n,r]},i.delete=function(t){var i=Hd(t).toLowerCase();delete this.Wm[i]},i.get=function(t){var i=Hd(t).toLowerCase();return this.Wm.hasOwnProperty(i)?this.Wm[i][1]:null},i.has=function(t){var i=Hd(t).toLowerCase();return this.Wm.hasOwnProperty(i)},i.set=function(t,i){var n=t,r=(n=Hd(n)).toLowerCase();this.Wm[r]=[n,Wd(i)]},i.forEach=function(t,i){for(var n in this.Wm)this.Wm.hasOwnProperty(n)&&t.call(i,this.Wm[n][1],n,this)},i.asList=function(){var t=[];for(var i in this.Wm)if(this.Wm.hasOwnProperty(i)){var n=this.Wm[i],r=n[0],e=n[1];t.push([r,e])}return t},i.OT=function(){var t={};return this.forEach(function(i,n){t[n]=i}),t},i.FT=function(t){var i=this;t.forEach(function(t,n){i.append(n,t)})},i.UT=function(t){var i=this;t.forEach(function(t,n){i.set(n,t)})},t}();function Hd(t){var i=t;if("string"!=typeof i&&(i=String(i)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(i))throw new p("Invalid character in header field name");return i}function Wd(t){var i=t;return"string"!=typeof i&&(i=String(i)),i}U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),H(),U(),Et(),Ft();var zd=F(Kt());U(),Et(),xt(),Pt();var Xd=function(t){function i(i){var n;return(n=t.call(this,""+i.join("\n"),i[0])||this).causes=void 0,n.causes=i,n}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"AggregateError"}}]),i}(cr),qd=t,Gd=Ki(qd.ReadableStream)&&Ki(qd.WritableStream)&&Ki(qd.TransformStream)&&Yi(qd.ReadableStream.prototype.pipeThrough)&&!Te.xp,jd=Gd?qd.ReadableStream:zd.ReadableStream,Qd=(Gd?qd.WritableStream:zd.WritableStream,Gd?qd.TransformStream:zd.TransformStream),Yd=(Gd&&qd.ByteLengthQueuingStrategy?qd.ByteLengthQueuingStrategy:zd.ByteLengthQueuingStrategy,Gd&&qd.CountQueuingStrategy?qd.CountQueuingStrategy:zd.CountQueuingStrategy);function Kd(t){return function(t){return new jd({start:function(i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;i.enqueue(e)}i.close()}})}([t])}function Jd(t){return Kd(function(t){return new E(t)}(t))}function Zd(t,i){return function(t,i){var n=i,r=t.getReader(),e=new Va,s=function(){u();var t=new fr;r.cancel(t).catch(dn),e.Ky(t)},u=function(){n&&(n.jg(s),n=void 0)};n&&(n.Hg?s():n.Xg(s));var o=[],h=function(t){return t.done?(u(),ut.resolve(o)):(o.push(t.value),ut.resolve(r.read()).then(h))};return ut.resolve(r.read()).then(h).then(function(t){u(),e.Qy(t)},function(t){u(),e.Ky(t)}),e.Yy}(t,i).then(function(t){return Na(t).buffer})}function $d(t,i){var n=i,r=new Qd,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){n&&n.Zg()};return u.closed.then(o,o),t.then(function(t){return n=void 0,u.releaseLock(),t.pipeTo(s).catch(dn)},function(t){return n=void 0,u.releaseLock(),s.abort(t).catch(dn)}),e}function tl(t){var i=new Qd,n=i.readable,r=i.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(i){var n;n=Vi(i)?i[0]===i[1]||vr(i[0])&&vr(i[1])?i[0]:new Xd(i):i,t.cancel(n).catch(dn)}),n.tee()}function il(t){return va(new E(t))}function nl(t){return da(t).buffer}U(),Et();var rl="text/plain;charset=UTF-8",el=function(){function t(){}var i=t.prototype;return i.VT=function(t){return this.HT(t).then(JSON.parse)},i.WT=function(t,i){switch(t){case Ud.NT:return this.qT(i);case Ud.BT:return this.VT(i);case Ud.MT:return this.zT();case Ud.LT:return this.HT(i);default:throw new p}},t}();function sl(t,i,n){if(V(t,el))return t;if(V(t,jd))return function(t,i){return new ol({Km:0,zT:t,GT:ul(i)})}(t,n);var r=ul(n),e=ut.resolve(t).then(function(t){return function(t,i){if(t){if("string"==typeof t)return{Km:Ud.LT,XT:t,GT:i||rl};if(V(t,ArrayBuffer)||Ra(t))return{Km:Ud.NT,XT:ll(t),GT:i};if(zi(t)||Vi(t))return{Km:Ud.BT,XT:t,GT:i};throw new p("Unsupported BodyInit type")}return{Km:Ud.LT,XT:null,GT:i}}(t,r)});return new ol({Km:1,Yy:e,jT:i})}function ul(t){return(t.get("content-type")||"").toLowerCase()}var ol=function(t){function i(i){var n;return(n=t.call(this)||this).KT=!1,n.JT=void 0,n.$T=new Va,n.$T.Yy.catch(dn),n.rk(i),n}Ct(i,t);var n=i.prototype;return n.ZT=function(){return this.$T.Yy},n.HT=function(t){return this.ek(hl,t)},n.VT=function(t){return this.ek(cl,t)},n.qT=function(t){return this.ek(vl,t)},n.zT=function(){return this.nk(function(t){return 0===t.Km?t.zT:$d(t.Yy.then(dl).then(Jd),t.jT)}(this.JT))},n.ek=function(t,i){if(this.KT)return ut.reject(new p("Already used"));this.KT=!0;var n=t(this.JT,i);return this.$T.$g(n.then(dn)),n},n.nk=function(t){if(this.KT)throw new p("Already used");if(t.locked)throw new p("Body stream is locked");this.KT=!0;var i=new Qd,n=ut.resolve(t.pipeTo(i.writable));return this.$T.$g(n),i.readable},n.rk=function(t){this.JT=t,1===t.Km&&t.Yy.catch(dn)},n.hk=function(){if(this.KT)throw new p("Already used");var t=function(t){if(0===t.Km){var i=t.zT.tee(),n=i[0],r=i[1];return[{Km:t.Km,zT:n,GT:t.GT},{Km:t.Km,zT:r,GT:t.GT}]}var e=t.jT.tp(),s=e[0],u=e[1];return[{Km:t.Km,Yy:t.Yy,jT:s},{Km:t.Km,Yy:t.Yy,jT:u}]}(this.JT),n=t[0],r=t[1];return this.rk(n),new i(r)},Nt(i,[{key:"QT",get:function(){return this.KT}},{key:"YT",get:function(){return 0===this.JT.Km}}]),i}(el);function hl(t,i){return 0===t.Km?Zd(t.zT,i).then(il):(i&&t.jT.$g(i),_r(t.Yy.then(al),t.jT))}function al(t){switch(t.Km){case Ud.LT:return ut.resolve(t.XT||"");case Ud.NT:return ut.resolve(t.XT).then(il);case Ud.BT:return ut.resolve(t.XT).then(JSON.stringify)}}function cl(t,i){return 0===t.Km?hl(t,i).then(JSON.parse):(i&&t.jT.$g(i),_r(t.Yy.then(fl),t.jT))}function fl(t){return t.Km===Ud.BT?ut.resolve(t.XT):al(t).then(JSON.parse)}function vl(t,i){return 0===t.Km?Zd(t.zT,i):(i&&t.jT.$g(i),_r(t.Yy.then(dl),t.jT))}function dl(t){switch(t.Km){case Ud.NT:return ut.resolve(t.XT);case Ud.LT:case Ud.BT:return al(t).then(nl)}}function ll(t){return V(t,ArrayBuffer)?t:ba(ma(t)).buffer}var wl=function(t){function i(i){var n;return(n=t.call(this)||this).ck=void 0,n.ck=i,n}Ct(i,t);var n=i.prototype;return n.ZT=function(){return this.ck.ZT()},n.HT=function(t){return this.ck.HT(t)},n.VT=function(t){return this.ck.VT(t)},n.qT=function(t){return this.ck.qT(t)},n.zT=function(t){return this.ck.zT(t)},n.hk=function(){return this.ck.hk()},Nt(i,[{key:"QT",get:function(){return this.ck.QT}},{key:"YT",get:function(){return this.ck.YT}}]),i}(el);function gl(t){return t.dk>=200&&t.dk<=299||304===t.dk}var _l=function(t){function i(i,n){var r,e,s,u,o,h;n?(e=n._k,s=n.fk,u=n.dk,o=n.gk,h=n.pk):(e=[],s=Ud.LT,u=200,o="OK",h=!1);var a=i.vk,c=new Vd(i._k||e),f=i.fk||s,v=i.wk||(n&&n.vk===a?n.wk:a.Yu),d=n?n.ck:null,l=sl(void 0!==i.lk?i.lk:d,i.jT||new hr,c);return(r=t.call(this,l)||this)._k=void 0,r.vk=void 0,r.wk=void 0,r.fk=void 0,r.dk=void 0,r.gk=void 0,r.pk=void 0,r._k=c,r.vk=a,r.wk=v,r.fk=f,r.dk=void 0!==i.dk?i.dk:u,r.gk=void 0!==i.gk?String(i.gk):o,r.pk=i.pk||h,r}Ct(i,t);var n=i.prototype;return n.lk=function(t){return this.WT(this.fk,t)},n.Fy=function(){return new i({lk:this.hk(),vk:this.vk},this)},i}(wl);U(),Et();var ml=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),yl=function(t){return t.yk="",t.bk="manifest",t.Ak="segment",t.Sk="preload-hint",t.Tk="content-protection",t}({}),pl=function(t){return t.yk="",t.Ek="initialization-segment",t.xk="fairplay-license",t.Pk="fairplay-certificate",t.Ik="widevine-license",t.Ck="widevine-certificate",t.Rk="playready-license",t.Dk="clearkey-license",t.Nk="aes128-key",t}({}),kl=function(t){return t.yk="",t.Bk="audio",t.Mk="video",t.LT="text",t.Lk="image",t}({}),bl=function(t){return t.Ok="same-origin",t.Fk="no-cors",t.Uk="cors",t.Vk="navigate",t}({}),Al=function(t,i){this.XT=void 0,this._k=void 0,this.Hk=void 0,this.fk=void 0,this.Wk=void 0,this.qk=void 0,this.Yg=void 0,this.Km=void 0,this.zk=void 0,this.Gk=void 0,this.Yu=void 0,this.Xk=void 0,this.jk=void 0,this.Qk=void 0,this.Kk=void 0,this.Yk=void 0;var n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p=t.Yu;i?(n=i.XT,r=i._k,e=i.Hk,s=i.fk,u=i.Wk,o=i.qk,h=i.Yg,a=i.Km,c=i.zk,f=i.Gk,v=i.Xk,d=i.jk,l=i.Qk,w=i.Kk,g=i.Yk):(n=null,r={},e="GET",s=Ud.LT,u=0,o=0,a="",c="",f="",v=!1,l=void 0,w=!1,g=void 0),this.Yu=p,this.XT=t.XT||n,this._k=new Vd(t._k||r),this.Hk=t.Hk||e,this.fk=t.fk||s,this.Wk=void 0!==t.Wk?Number(t.Wk)||0:u,this.qk=void 0!==t.qk?Number(t.qk)||0:o,this.Yg=t.Yg||h||(new hr).Yg,this.Km=t.Km||a,this.zk=t.zk||c,this.Gk=t.Gk||f,this.Xk=void 0!==t.Xk?Boolean(t.Xk):v,this.jk=t.jk||d,this.Qk=null!=(_=t.Qk)?_:l,this.Kk=null!=(m=t.Kk)?m:w,this.Yk=null!=(y=t.Yk)?y:g},Tl=function(){function t(){}var i=t.prototype;return i.vk=function(t){var i=function(t){return new _l({lk:null,_k:{},vk:t,wk:t.Yu,fk:t.fk,dk:0,gk:eh.Gw})}(new Al(t));return ut.resolve(i)},i.Jk=function(t){},i.kn=function(){},t}();var Sl=function(){function t(t,i){void 0===i&&(i=!0),this.iE=void 0,this.sE=void 0,this.iE=t,this.sE=i}var i=t.prototype;return i.vk=function(t){var i=this.tE(t);return this.iE.vk(i)},i.Jk=function(t){return this.iE.Jk(this.eE(t))},i.tE=function(i){var n=new Al(i);if(!this.sE){var r=t.nE(n.Yu);n=new Al({Yu:r},n)}return n},i.eE=function(i){var n=i.Yu;return this.sE||(n=t.nE(n)),{Yu:n,XT:i.XT}},i.kn=function(){this.iE.kn()},t.nE=function(t){return Ui.Bm&&Fo(t,"http://")?t.replace(":","s:"):t},Nt(t,null,[{key:"Zk",get:function(){return t.$k||(t.$k=new t(new Tl)),t.$k}}]),t}();function El(t,i){var n=Ui.Dh(t);return Il(n,i),n.toString()}function Il(t,i){for(var n,r=Lt(k.keys(i));!(n=r()).done;){var e=n.value;t.searchParams.set(e,i[e])}}function Rl(t,i){var n=Ui.Pm(t);return i&&!Uo(n,"/")&&(n+="/"),n}Sl.$k=void 0,U(),Et(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Ft();var Cl=/cache:(.+)?(?=&|$)/;function Pl(t){if(!Fo(t,"http://webcache.googleusercontent.com/search?q=cache:"))return"";var i=Ui.Dh(t).search.match(Cl);return i&&i.length>1?i[1]:""}function Dl(t){return Ui.Dh(".",t)}U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var Nl=function(t){return t.rE="HttpOpenError",t.hE="HttpResponseError",t.oE="HttpTimeoutError",t}({}),xl=function(t){function i(i,n,r){var e;return(e=t.call(this,n,r)||this).aE=void 0,e.aE=i,e}return Ct(i,t),Nt(i,[{key:"vk",get:function(){return this.aE}}]),i}(cr),Bl=function(t){function i(i,n){return t.call(this,i,"Error while opening "+i.Yu+".",n)||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return Nl.rE}}]),i}(xl);U(),Et(),xt(),Pt();var Ol=function(t){function i(i,n,r){var e;return(e=t.call(this,i.vk,null!=r?r:function(t){return"Error while loading "+t.vk.Yu+", status code "+t.dk}(i),n)||this).cE=void 0,e.cE=i,e}return Ct(i,t),Nt(i,[{key:"name",get:function(){return Nl.hE}},{key:"uE",get:function(){return this.cE}}]),i}(xl);U(),Et(),xt(),Pt();var Ml=function(t){function i(i,n){return t.call(this,i,function(t){return"Request for "+t.Yu+" timed out after "+t.Wk+" seconds."}(i),n)||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return Nl.oE}}]),i}(xl);U(),Et();var Ll=self.fetch,Fl=self.Request,Ul=self.Response,Vl=self.Headers,Hl=self.ReadableStream,Wl=self.AbortSignal,zl=self.AbortController,Xl=_n(function(){try{return Yi(Ll)&&Ki(Fl)&&Ki(Ul)&&Ki(Vl)&&"forEach"in Vl.prototype&&Qu()}catch(t){return!1}}),ql=["http:","https:"];var Gl=_n(function(){try{return Xl()&&Ki(Wl)&&Ki(zl)&&"signal"in Fl.prototype}catch(t){return!1}}),jl=_n(function(){try{return Xl()&&Ki(Hl)&&"body"in Ul.prototype&&!Bi.e_}catch(t){return!1}});function Ql(t){return V(t,xl)}function Yl(t){return V(t,Ol)}function Kl(t,i){var n,r=t._k.has("content-length")?Number(t._k.get("content-length")):void 0;return n=t.YT?function(t,i,n){return t.pipeThrough(new Qd(new Jl(i,n)))}(t.zT(),i,r):function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,ut.resolve()];case 1:return s.sent(),i(0,n),[4,t];case 2:return r=s.sent(),e=r.byteLength,i(e,null!=n?n:e),[2,r]}})})()}(t.qT(),i,r),new _l({lk:n,vk:t.vk},t)}U(),Et(),H(),U(),Et(),Wt(),Qt();var Jl=function(){function t(t,i){this.lE=void 0,this.fE=void 0,this.dE=void 0,this.lE=t,this.fE=i,this.dE=0}var i=t.prototype;return i.transform=function(t,i){this.dE+=t.byteLength,this.lE(this.dE,this.fE),i.enqueue(t)},i.flush=function(t){var i;this.lE(this.dE,null!=(i=this.fE)?i:this.dE)},t}();var Zl=function(){function t(t){this.uE=void 0,this.aE=void 0,this.hT=new hr,this.cE=void 0,this._E=0,this.gE=!1,this.aE=t,this.hT.$g(t.Yg),this.uE=this.vE()}var i=t.prototype;return i.vE=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:t=this,(i=this.aE).Wk&&(this._E=w(function(){t.gE=!0,t.hT.Zg()},i.Wk),this.hT.Yg.Qg(function(){g(t._E)}));try{n=Ll(i.Yu,{method:i.Hk,headers:i._k.OT(),body:i.XT,credentials:i.Xk?"include":"same-origin",signal:iw(this.hT.Yg),mode:i.Qk,keepalive:i.Yk})}catch(t){throw new Bl(i,t)}c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n];case 2:return r=c.sent(),[3,4];case 3:throw e=c.sent(),vr(s=this.pE(e))&&this.hT.Zg(),s;case 4:if(u=r.url||i.Yu,o=0===r.status&&"file:"===function(t){return Ui.Dh(t).protocol}(u)?200:r.status,h=new $l(this,r,this.hT),!gl(a=new _l({lk:h,vk:i,fk:i.fk,_k:new Vd(r.headers),dk:o,gk:r.statusText,wk:u})))throw new Ol(a);return i.jk&&(a=Kl(a,i.jk)),[2,a]}})}).call(this)},i.pE=function(t){return Ql(t)?t:vr(t)?this.gE?new Ml(this.aE):new fr(t.message,t):this.cE?new Ol(this.cE,t):new Bl(this.aE,t)},t}(),$l=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).wE=void 0,e.mE=void 0,e.hT=void 0,e.$T=new Va,e.wE=i,e.mE=n,e.hT=r,e.$T.Yy.catch(dn),e}Ct(i,t);var n=i.prototype;return n.ZT=function(){return this.$T.Yy},n.HT=function(t){return this.ek(this.mE.text(),t)},n.qT=function(t){return this.ek(this.mE.arrayBuffer(),t)},n.zT=function(){var t=this.mE.body;return t?this.nk(t):$d(this.qT().then(Jd),this.hT)},n.hk=function(){var t=this.mE.clone(),n=this.hT.tp(),r=n[0],e=n[1];return this.hT=r,new i(this.wE,t,e)},n.ek=function(t,i){var n=this;i&&this.hT.$g(i);var r=gr(ut.resolve(t),this.hT.Yg).catch(function(t){throw n.wE.pE(t)});return r=_r(r,this.hT),this.$T.$g(r.then(dn)),r},n.nk=function(t){var i=this;return new jd(new nw(t,function(t){return i.wE.pE(t)},this.hT,this.$T),{highWaterMark:0})},Nt(i,[{key:"QT",get:function(){return this.mE.bodyUsed}},{key:"YT",get:function(){return Li(this.mE.body)}}]),i}(el),tw="abort";function iw(t){if(Gl()){var i=new zl;if(t.Hg)i.abort();else if(!t.Wg){var n=function(){r(),i.abort()},r=function(){i.signal.removeEventListener(tw,n),t.jg(n),t.Kg(r)};i.signal.addEventListener(tw,n),t.Xg(n),t.Qg(r)}return i.signal}}var nw=function(){function t(t,i,n,r){this.yE=void 0,this.bE=void 0,this.hT=void 0,this.$T=void 0,this.Wd=void 0,this.yE=t,this.bE=i,this.hT=n,this.$T=r}var i=t.prototype;return i.start=function(t){this.Wd=this.yE.getReader()},i.pull=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,gr(this.Wd.read(),this.hT.Yg)];case 1:return i=e.sent(),[3,3];case 2:return n=e.sent(),r=this.bE(n),this.$T.Ky(r),this.hT.Zg(),this.Wd.cancel(r).catch(dn),t.error(r),[2];case 3:return i.done?(this.$T.Qy(),this.hT.Zg(),t.close()):t.enqueue(i.value),[2]}})}).call(this)},i.cancel=function(t){return this.hT.Zg(),this.$T.Ky(t),this.Wd.cancel(t)},t}();U(),Et(),xt();var rw=function(){function t(t){var i=this;this.SE=void 0,this.aE=void 0,this.hT=new hr,this.cE=void 0,this.AE=new Va,this.BE=void 0,this.DE=!1,this.RE=function(){var t;i.TE(),null==(t=i.SE)||t.abort()},this.aE=t,this.hT.$g(t.Yg),this.SE=new R,this.vE()}var i=t.prototype;return i.vE=function(){var t=this,i=this.SE,n=this.aE;if(n.Yg.Hg)return this.TE();i.onreadystatechange=function(){return t.kE()},i.onprogress=function(i){return t.lE(i)},i.onload=function(){return t.EE()},i.onloadend=function(){return t.xE()},i.onerror=function(){return t.PE()},i.ontimeout=function(){return t.CE()},i.onabort=function(){return t.TE()},i.open(n.Hk,n.Yu,!0),i.withCredentials=Boolean(n.Xk),"responseType"in i&&n.fk&&(n.fk===Ud.LT?i.responseType="text":i.responseType="arraybuffer"),n._k.forEach(function(t,n){i.setRequestHeader(n,t)}),n.Wk&&(i.timeout=n.Wk),this.hT.Yg.Xg(this.RE);var r=n.XT;r?i.send(r):i.send()},i.kE=function(){var t=this.SE;void 0!==t&&t.readyState>=2&&!this.DE&&(this.DE=!0,this.NE())},i.NE=function(){var t,i,n=this.SE,r=function(t){var i=new Vd,n=t.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var e=n.join(":").trim();i.append(r,e)}}),i}(n.getAllResponseHeaders()||""),e=this.aE;this.BE=new Va,this.cE=new _l({vk:e,fk:e.fk,lk:this.BE.Yy,dk:n.status,gk:n.statusText,_k:r,wk:null!=(i=n.responseURL)?i:r.get("X-Request-URL")}),null==(t=this.AE)||t.Qy(this.cE)},i.EE=function(){var t,i=this.SE;if(void 0!==i){var n=i.response;if(!Li(n)){var r=this.aE.fk;n=r===Ud.LT?i.responseText:r===Ud.NT?new ArrayBuffer(0):{}}null==(t=this.BE)||t.Qy(n)}},i.xE=function(){this.kn()},i.lE=function(t){void 0!==this.SE&&(null==this.aE.jk||this.aE.jk.call(this.aE,t.loaded,t.lengthComputable?t.total:void 0))},i.PE=function(){var t=new y("Network request failed");this.cE?this.Ts(new Ol(this.cE,t)):this.Ts(new Bl(this.aE,t))},i.CE=function(){this.Ts(new Ml(this.aE))},i.TE=function(){this.Ts(new fr),this.kn()},i.Ts=function(t){var i,n;null==(i=null!=(n=this.BE)?n:this.AE)||i.Ky(t)},i.kn=function(){this.SE=void 0,this.cE=void 0,this.AE=void 0,this.BE=void 0,this.hT.zg()},Nt(t,[{key:"uE",get:function(){return this.AE.Yy}}]),t}();function ew(t,i,n){return new ut(function(r,e){if(n&&n.Hg)return e(new fr);var s=function(t){o(),r(t)},u=function(){o(),e(new fr)},o=function(){t.removeEventListener(i,s),n&&n.jg(u)};t.addEventListener(i,s),n&&n.Xg(u)})}U(),Et();var sw=function(){function t(){}var i=t.prototype;return i.vk=function(t){return function(t){if(!Xl()||!function(t){try{return ql.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.Yu))return!1;if(!jl()&&t.jk)return!1;if(!t.Kk&&t.Hk!==ml.POST){if(Bi.S_&&Bi.d_<=68)return!1;if(Bi.w_)return!1}return!0}(t)?new Zl(t).uE:new rw(t).uE},i.Jk=function(t){var i=f.navigator;if(i&&i.sendBeacon)i.sendBeacon(t.Yu,Md([t.XT],{type:t.GT}));else{var n=t.GT?{"Content-type":t.GT}:void 0;this.vk(new Al({Hk:ml.POST,Yu:t.Yu,XT:t.XT,_k:n,Qk:bl.Fk})).then(function(t){kr(t.qT())},dn)}},i.kn=function(){},t}();U(),Et(),xt(),Pt(),U(),Et();var uw=function(t){return t[t.LE=1]="LE",t[t.OE=2]="OE",t[t.LT=3]="LT",t[t.FE=4]="FE",t[t.UE=9]="UE",t}({});function ow(t){return 1===t.VE}function hw(t){return 3===t.VE}U(),Et(),Pt();var aw=function(t){function i(i){return t.call(this,"Invalid XML",i)||this}return Ct(i,t),i}(cr),cw=function(){function t(){}return t.prototype.HE=function(t){var i,n=new DOMParser;try{i=n.parseFromString(t,"text/xml")}catch(t){throw new aw(t)}if(!i||i.getElementsByTagName("parsererror").length>0)throw new aw;return new _w(i)},t}(),fw=function(){function t(t){this.qE=void 0,this.qE=t}var i=t.prototype;return i.jE=function(t){return this.qE.isEqualNode(t.qE)},i.QE=function(i){return new t(this.qE.cloneNode(i))},Nt(t,[{key:"VE",get:function(){return uw.OE}},{key:"WE",get:function(){var t;return null!=(t=this.qE.localName)?t:pw(this.qE.nodeName)}},{key:"l",get:function(){return this.qE.nodeName}},{key:"zE",get:function(){var t;return null!=(t=this.qE.namespaceURI)?t:void 0}},{key:"GE",get:function(){var t;return null!=(t=this.qE.prefix)?t:void 0}},{key:"XE",get:function(){return this.qE.nodeValue}}]),t}(),vw=function(){function t(t){this.JE=void 0,this.YE=void 0,this.JE=t}var i=t.prototype;return i.ZE=function(t){return this.KE.filter(function(i){return mw(i)&&i.$E===t})},i.tx=function(t,i){return this.KE.filter(function(n){return mw(n)&&n.WE===i&&n.zE===t})},i.sx=function(t){this.JE.appendChild(t.ix),this.YE&&this.YE.push(t)},i.jE=function(t){return this.JE.isEqualNode(t.ix)},Nt(t,[{key:"KE",get:function(){return void 0===this.YE&&(this.YE=function(t){for(var i=[],n=0;n<t.length;n++){var r=yw(t.item(n));r&&i.push(r)}return i}(this.JE.childNodes)),this.YE}},{key:"m",get:function(){return this.KE.filter(mw)}},{key:"ix",get:function(){return this.JE}}]),t}(),dw=function(t){function i(i){return t.call(this,i)||this}Ct(i,t);var n=i.prototype;return n.ox=function(t){if(this.JE.hasAttribute(t))return this.JE.getAttribute(t)},n.ux=function(t,i){if(this.JE.hasAttributeNS(t,i))return this.JE.getAttributeNS(t,i)},n.lx=function(t){this.JE.removeAttribute(t)},n.vx=function(t,i){this.JE.removeAttributeNS(t,i)},n._x=function(t,i){this.JE.setAttribute(t,i)},n.gx=function(t,i,n){this.JE.setAttributeNS(t,i,n)},n.QE=function(t){return new i(this.JE.cloneNode(t))},Nt(i,[{key:"VE",get:function(){return uw.LE}},{key:"WE",get:function(){var t;return null!=(t=this.JE.localName)?t:pw(this.JE.nodeName)}},{key:"zE",get:function(){var t;return null!=(t=this.JE.namespaceURI)?t:void 0}},{key:"GE",get:function(){var t;return null!=(t=this.JE.prefix)?t:void 0}},{key:"$E",get:function(){return this.JE.nodeName}},{key:"nx",get:function(){return function(t){for(var i=[],n=0;n<t.length;n++)i.push(new fw(t.item(n)));return i}(this.JE.attributes)}},{key:"hx",get:function(){return this.JE.textContent}}]),i}(vw),lw=function(){function t(t){this.JE=void 0,this.JE=t}return t.prototype.jE=function(t){return this.lk===t.lk},Nt(t,[{key:"lk",get:function(){return this.JE.nodeValue}},{key:"ix",get:function(){return this.JE}}]),t}(),ww=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i.prototype.QE=function(t){return new i(this.JE.cloneNode(t))},Nt(i,[{key:"VE",get:function(){return uw.LT}}]),i}(lw),gw=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i.prototype.QE=function(t){return new i(this.JE.cloneNode(t))},Nt(i,[{key:"VE",get:function(){return uw.FE}}]),i}(lw),_w=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i.prototype.QE=function(t){return new i(this.JE.cloneNode(t))},Nt(i,[{key:"VE",get:function(){return uw.UE}},{key:"mx",get:function(){return new dw(this.JE.documentElement)}}]),i}(vw);function mw(t){return ow(t)}function yw(t){switch(t.nodeType){case uw.LE:return new dw(t);case uw.LT:return new ww(t);case uw.FE:return new gw(t)}}function pw(t){var i=t.indexOf(":");return i<0?t:t.substr(i+1)}var kw=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).wx=void 0,i.bx=jl(),i.Sx=Bi.cg||Bi.e_,i.kx=function(){if(Bi.w_&&Bi.b_<3)return!1;if(Bi.cg)return!0;if(Bi.S_&&Bi.d_<=68)return!0;if(Bi.e_)return!0;if(Bi.D_)return!0;return!1}(),i.Nx=void 0,i.Bx=new cw,i}return Ct(i,t),i.prototype.HE=function(t){return this.Bx.HE(t)},Nt(i,[{key:"gm",get:function(){return this.wx||(this.wx=new Zo(Nd())),this.wx}},{key:"yx",get:function(){return this.bx}},{key:"Ax",get:function(){return this.Sx}},{key:"Tx",get:function(){return this.kx}},{key:"Ex",get:function(){return!1}},{key:"xx",get:function(){return Bd.DT()}},{key:"Px",get:function(){return{Ix:Ld}}},{key:"Cx",get:function(){return l.connection&&l.connection.effectiveType||Fd}},{key:"Rx",get:function(){return l.connection&&l.connection.type||"unknown"}},{key:"Dx",get:function(){return this.Nx||(this.Nx=new Sl(new sw)),this.Nx}}]),i}(Gu);!function(t){Ui=t}(new kw),U(),Et(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var bw=function(t){function i(i,n){var r;return(r=t.call(this,eh.py)||this).currentTime=void 0,r.currentProgramDateTime=void 0,r.currentTime=i,r.currentProgramDateTime=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),Pt(),U(),Et(),Pt(),U(),Et(),xt(),Pt();var Aw=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).hu=void 0,r}return Ct(i,t),Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(rh);function Tw(t){return Boolean(t&&t.Ca)}var Sw=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(Aw),Ew=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(rh);U(),Et();var Iw=function(t){return t.rI="hI",t.oI="aI",t}({}),Rw=function(t){function i(i){var n;return(n=t.call(this,Iw.rI)||this).Ht=void 0,n.Ht=i,n}return Ct(i,t),i.prototype.xa=function(){return new Cw(this.Ht.Ca)},i}(Sw),Cw=function(t){function i(i){var n;return(n=t.call(this,"addtrack")||this).track=void 0,n.track=i,n}return Ct(i,t),i}(Ew);U(),Et(),Pt();var Pw=function(t){function i(i){var n;return(n=t.call(this,Iw.oI)||this).Ht=void 0,n.Ht=i,n}return Ct(i,t),i.prototype.xa=function(){return new Dw(this.Ht.Ca)},i}(Sw),Dw=function(t){function i(i){var n;return(n=t.call(this,"removetrack")||this).track=void 0,n.track=i,n}return Ct(i,t),i}(Ew);U(),Et();var Nw=function(t){return t.uI="cI",t.dI="lI",t.fI="vI",t._I="gI",t.pI="mI",t.wI="yI",t.pa="bI",t.AI="TI",t.kI="EI",t.xI="er",t.II="CI",t.RI="DI",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),xw=function(t){function i(){var i;return(i=t.call(this)||this).BI=[],i.hu=void 0,i}Ct(i,t);var n=i.prototype;return n.MI=function(t){return this.BI[t]},n.tt=function(t){return!(!t||jn(this.BI,t))&&(this.BI.push(t),this.hu&&this.hu.push(t.Ca),t.wn(Nw.pa,this.Rs),this.So(new Rw(t)),!0)},n.it=function(t){if(!t)return!1;var i=this.BI.indexOf(t);return!(i<0)&&(qn(this.BI,i),this.hu&&qn(this.hu,i),t.mn(Nw.pa,this.Rs),this.So(new Pw(t)),!0)},n.LI=function(t){return jn(this.BI,t)},n.hr=function(){for(var t=this.BI,i=t.length-1;i>=0;i-=1)this.it(t[i])},n.kn=function(){this.hr(),this.Vo()},Nt(i,[{key:"NI",get:function(){return this.BI}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"V",get:function(){return this.BI.length}}]),i}(th);U(),Et(),Ft(),U(),Et(),H(),U(),Et(),Ft();var Bw=k.freeze||ln;function Ow(t,i,n){k.defineProperty(t,i,{writable:!1,enumerable:!0,value:n})}function Mw(t,i){for(var n,r=Lt(k.getOwnPropertyNames(i));!(n=r()).done;){var e=n.value;k.defineProperty(t,e,k.getOwnPropertyDescriptor(i,e))}return t}function Lw(t){if(zi(t)){var i={};for(var n in t)Oi.call(t,n)&&(i[n]=Lw(t[n]));return i}if(Vi(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Lw(t[e]));return r}return t}function Fw(t,i){return t===i||!(!t||!i)&&(!(!Wi(t)||!Wi(i))&&(Hi(t)?!!Hi(i)&&function(t,i){var n=t.length,r=i.length;if(n!==r)return!1;for(var e=0;e<n;e+=1)if(!Fw(t[e],i[e]))return!1;return!0}(t,i):!Hi(i)&&function(t,i){var n=k.keys(t),r=k.keys(i);if(!n||!r||n.length!==r.length)return!1;for(var e,s=Lt(n);!(e=s()).done;){var u=e.value;if(!Oi.call(i,u)||!Fw(t[u],i[u]))return!1}return!0}(t,i)))}function Uw(t,i){return t.constructor===i.constructor}function Vw(t){for(var i,n={},r=Lt(k.keys(t));!(i=r()).done;){var e=i.value,s=t[e];null!=s&&(n[e]=s)}return n}function Hw(t){for(var i,n={},r=Lt(k.keys(t));!(i=r()).done;){var e=i.value,s=t[e];if(Hi(s)){for(var u=[],o=0;o<s.length;o+=1){var h=s[o];if(null!=h){var a=Wi(h)?Hw(h):h;u.push(a)}}n[e]=u}else null!=s&&(n[e]=Wi(s)?Hw(s):s)}return n}function Ww(t){var i=t;if("string"==typeof i){if("true"===(i=i.toLowerCase()))return!0;if("false"===i)return!1}return Boolean(i)}function zw(t){return Li(t)?Ww(t):void 0}function Xw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||V(t,Date)||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function qw(t){var i=Xw(t);if(S(i))throw new y("Expected a valid number.");return i}function Gw(t){return"string"==typeof t?t:""}function jw(t,i){if(!Hi(t))return[];for(var n=0|t.length,r=new Array(n),e=0;e<n;e++)r[e]=i(t[e]);return r}function Qw(t,i){return Hi(t)?jw(t,i):i(t)}U(),Et();var Yw=[Iw.rI,Iw.oI,Nw.pa];function Kw(t){var i,n=t.NI.map(function(t){return t.Ca});return n.item=function(i){var n=0|i,r=t.MI(n);return r&&r.Ca||void 0},n.addEventListener=function(t,n){i.wn(t,n)},n.removeEventListener=function(t,n){i.mn(t,n)},i=new ih(n),t.wn(Yw,function(t){return i.So(t.Ca)}),n}U(),Et();var Jw=function(t){return t[t.zI=0]="zI",t[t.GI=1]="GI",t[t.XI=2]="XI",t[t.jI=3]="jI",t[t.QI=4]="QI",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.KI=7]="KI",t}({});function Zw(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function $w(){}function tg(t){var i,n=[Nw.xI,Nw.pa,Nw.II,Nw.RI,Nw.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.YI&&t.YI.Ca},get enabled(){return t.Rt},set enabled(i){t.Rt=Ww(i)},get id(){return t.o},get uid(){return t.JI},get kind(){return t.Lt},get label(){return t.Th},set label(i){t.Th=Gw(i)},get accessibility(){var i,n;return null!=(n=null==(i=t.ZI)?void 0:i.map(Zw))?n:[]},get language(){return t.bs},get qualities(){return t.$I.Ca},set targetQuality(i){var n;n=i?function(t,i){for(var n,r=[],e=Lt(t.$I.NI);!(n=e()).done;)for(var s,u=n.value,o=Lt(i);!(s=o()).done;){var h=s.value;u.Ca===h&&r.push(u)}return r}(t,Vi(i)?i:[i]):[],n.length>0?t.tC=n:t.tC=void 0},get targetQuality(){if(t.tC)return 1===t.tC.length?t.tC[0].Ca:t.tC.map(function(t){return t.Ca})},addEventListener:function(t,n){var r=Qw(t,Gw);i.wn(r,n)},removeEventListener:function(t,n){var r=Qw(t,Gw);i.mn(r,n)}};return i=new ih(r),t.wn(n,function(t){return i.So(t.Ca)}),k.defineProperty(r,"constructor",{value:$w}),r}function ig(){}function ng(t){var i=Kw(t);return k.defineProperty(i,"constructor",{value:ig}),i}var rg=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.tt=function(i){return t.prototype.tt.call(this,i)},n.xa=function(){return ng(this)},i}(xw);U(),Et(),U(),Et();var eg=function(t){return t.Bk="audio",t.Mk="video",t.LT="text",t.Lk="image",t.yk="unknown",t}({});function sg(t){return"audio"===t||"video"===t}U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var ug=function(t){function i(i,n,r,e,s,u,o,h){var a;return(a=t.call(this,i,n,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"ContentProtectionError"}}]),i}(ld);var og=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),hg=function(t){function i(i,n,r,e){var s;return(s=t.call(this,n)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=i,s.message=null!=n?n:"Unknown error",s.cause=r,s.systemCode=e,y.captureStackTrace&&y.captureStackTrace(s,s.constructor),s}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"MediaError"}}]),i}(ar);function ag(t){Ow(t,"MEDIA_ERR_ABORTED",1),Ow(t,"MEDIA_ERR_NETWORK",2),Ow(t,"MEDIA_ERR_DECODE",3),Ow(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Ow(t,"MEDIA_ERR_ENCRYPTED",5)}function cg(t){var i,n;return function(t){return t.category===dd.CONTENT_PROTECTION}(t)?new hg(5,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new hg(function(t){if(t===vd.MEDIA_ABORTED)return 1;if(t===vd.MANIFEST_LOAD_ERROR||t===vd.MEDIA_LOAD_ERROR||t===vd.SUBTITLE_LOAD_ERROR)return 2;if(t===vd.MEDIA_DECODE_ERROR)return 3;if(t===vd.MEDIA_NOT_SUPPORTED)return 4;var i=dd.fromCode(t);if(i===dd.NETWORK)return 2;if(i===dd.SOURCE)return 4;if(i===dd.LICENSE)return 6;if(i===dd.CONTENT_PROTECTION)return 5;if(i===dd.AD)return 7;return 3}(t.code),t.message,null==(n=t.cause)?void 0:n.message)}function fg(t){return new ld(vg(t.code),t.message,t)}function vg(t){switch(t){case 1:return vd.MEDIA_ABORTED;case 2:return vd.NETWORK_ERROR;case 3:return vd.MEDIA_DECODE_ERROR;case 4:return vd.SOURCE_NOT_SUPPORTED;case 5:return vd.CONTENT_PROTECTION_ERROR;case 6:return vd.LICENSE_ERROR;case 7:return vd.AD_ERROR}}ag(hg),ag(hg.prototype),U(),Et(),xt(),Pt(),U(),Et(),Pt();var dg=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i}(nh);U(),Et(),xt(),U(),Et();var lg=function(){function t(){this._O=[],this.hu=void 0}var i=t.prototype;return i.gO=function(t){this._O.push(t),this.hu&&this.hu.push(t.Ca)},i.pS=function(t){Xn(this._O,t),this.hu&&Xn(this.hu,t.Ca)},i.MI=function(t){return this._O[t]},i.pO=function(t){return Vi(t)?function(t,i){for(var n,r=Lt(i);!(n=r()).done;)if(!jn(t,n.value))return!1;return!0}(this._O,t):jn(this._O,t)},i.hr=function(){Yn(this._O),this.hu&&Yn(this.hu)},Nt(t,[{key:"NI",get:function(){return this._O}},{key:"V",get:function(){return this._O.length}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i=t.NI.map(function(t){return t.Ca});return i.item=function(i){var n=0|i,r=t.MI(n);return r&&r.Ca||void 0},i}(this)),this.hu}}]),t}();U(),Et(),Pt();var wg=function(t){function i(i){var n;return(n=t.call(this,Nw.pa)||this).Ht=void 0,n.Ht=i,n}return Ct(i,t),i.prototype.xa=function(){return new gg(this.Ht.Ca)},i}(Sw),gg=function(t){function i(i){var n;return(n=t.call(this,"change")||this).track=void 0,n.track=i,n}return Ct(i,t),i}(Ew);U(),Et(),Pt();var _g=function(t){function i(i){var n;return(n=t.call(this,Nw.xI)||this).Ht=void 0,n.Ht=i,n}return Ct(i,t),i.prototype.xa=function(){return new mg(this.Ht.Ca)},i}(Sw),mg=function(t){function i(i){var n;return(n=t.call(this,"update")||this).track=void 0,n.track=i,n}return Ct(i,t),i}(Ew);U(),Et();var yg=0;function pg(){return yg++}var kg=0;var bg=0;function Ag(){return bg++}var Tg=0;function Sg(){return Tg++}var Eg=0;var Ig=function(t){function i(i){var n;return(n=t.call(this)||this).Km=eg.Bk,n.wO=void 0,n.aS=void 0,n.bO=void 0,n.yO=void 0,n.We=!1,n._O=void 0,n.hu=void 0,n.wO=i,n.yO=pg(),n.aS=""+Eg++,n.bO=i.label,n._O=new lg,n.TO(),n}Ct(i,t);var n=i.prototype;return n.SO=function(t){this.Rt=t},n.TO=function(){this.Rt=this.mO},Nt(i,[{key:"YI",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.mO=t,this.So(new wg(this)))}},{key:"mO",get:function(){return this.wO.enabled},set:function(t){this.wO.enabled=t}},{key:"Ca",get:function(){return this.hu||(this.hu=tg(this)),this.hu}},{key:"o",get:function(){return this.aS}},{key:"JI",get:function(){return this.yO}},{key:"Lt",get:function(){return this.wO.kind}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"bs",get:function(){return this.wO.language}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"AO",get:function(){return this.wO}},{key:"$I",get:function(){return this._O}},{key:"tC",get:function(){},set:function(t){}}]),i}(th);U(),Et(),xt(),Pt();var Rg=0;var Cg=function(t){function i(i){var n;return(n=t.call(this)||this).Km=eg.Mk,n.wO=void 0,n.aS=void 0,n.yO=void 0,n.We=!1,n._O=void 0,n.bO=void 0,n.hu=void 0,n.wO=i,n.yO=pg(),n.aS=""+Rg++,n._O=new lg,n.bO=i.label,n.TO(),n}Ct(i,t);var n=i.prototype;return n.TO=function(){this.Rt=this.mO},n.SO=function(t){this.Rt=t},Nt(i,[{key:"YI",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.mO=t,this.So(new wg(this)))}},{key:"mO",get:function(){return Boolean(this.wO.selected)},set:function(t){this.wO.selected=t}},{key:"Ca",get:function(){return this.hu||(this.hu=tg(this)),this.hu}},{key:"o",get:function(){return this.aS}},{key:"JI",get:function(){return this.yO}},{key:"Lt",get:function(){return"main"}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"bs",get:function(){return this.wO.language}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"AO",get:function(){return this.wO}},{key:"$I",get:function(){return this._O}},{key:"tC",get:function(){},set:function(t){}}]),i}(th);U(),Et(),Pt();var Pg=function(t){function i(i){var n;return(n=t.call(this,eh.yw)||this).sP=void 0,n.sP=i,n}return Ct(i,t),i}(rh);U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et();var Dg=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});U(),Et();var Ng=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function xg(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}U(),Et(),Ft(),U(),Et();var Bg=function(t){return t.kO="cue",t.EO="region",t.xO="stylesheet",t}({});U(),Et(),xt(),Pt(),U(),Et();var Og={"line-left":"start",center:"middle","line-right":"end"},Mg={start:"line-left",middle:"center",end:"line-right"};function Lg(t,i){if("auto"===t)switch(i){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Fg(t,i){if("auto"===t)switch(i){case"left":return 0;case"right":return 100;default:return 50}return function(t,i){var n="number"==typeof t?t:T(t);return S(n)?i:n}(t,50)}U(),Et(),U(),Et(),U(),Et(),Pt();var Ug=function(t){return t.QL="yo",t.KL="jo",t.xI="er",t}({}),Vg=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).PO=void 0,r.PO=n,r}return Ct(i,t),i}(Sw),Hg=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).cue=void 0,r.cue=n,r}return Ct(i,t),i}(Ew);function Wg(t){var i,n=[Ug.QL,Ug.KL,Ug.xI],r={get IO(){return t},get track(){return t.Ht.Ca},get id(){return t.o},get uid(){return t.JI},get startTime(){return t.CO},set startTime(i){t.CO=i},get endTime(){return t.RO},set endTime(i){t.RO=i},get content(){return t.U},addEventListener:function(t,n){var r=Qw(t,Gw);i.wn(r,n)},removeEventListener:function(t,n){var r=Qw(t,Gw);i.mn(r,n)}};return i=new ih(r),t.wn(n,function(t){return i.So(t.Ca)}),r}function zg(){}function Xg(t){return Mw(Wg(t),{get align(){return t.DO},get line(){return t.BO},get lineAlign(){return t.MO},get position(){return t.mo},get positionAlign(){return t.LO},get region(){return t.OO?t.OO.Ca:null},get size(){return t.Wy},get snapToLines(){return t.FO},get text(){return t.U},get vertical(){return t.Pt}})}U(),Et(),xt(),Pt(),U(),Et(),Pt();var qg=function(t){function i(i){return t.call(this,Ug.xI,i)||this}return Ct(i,t),i.prototype.xa=function(){return new Gg(this.PO.Ca)},i}(Vg),Gg=function(t){function i(i){return t.call(this,"update",i)||this}return Ct(i,t),i}(Hg);U(),Et(),Pt();var jg=function(t){function i(i){var n;return(n=t.call(this,Nw.fI)||this).PO=void 0,n.PO=i,n}return Ct(i,t),i.prototype.xa=function(){return new Qg(this.PO.Ca)},i}(Sw),Qg=function(t){function i(i){var n;return(n=t.call(this,"updatecue")||this).cue=void 0,n.cue=i,n}return Ct(i,t),i}(Ew),Yg=.02;function Kg(t,i){return Sn(t.UO,i.UO,Yg)&&Sn(t.VO,i.VO,Yg)&&t.o===i.o}var Jg=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).yO=void 0,u.aS=void 0,u.UO=void 0,u.VO=void 0,u.HO=void 0,u.zO=void 0,u.hu=void 0,u.WO=void 0,u.ho=!1,u.GO=void 0,u.jO=void 0,u.JO=-1,u.yO=Sg(),u.HO=i,u.zO=n,u.UO=i,u.VO=n,u.GO=r,u.jO=Boolean(e),u.aS=null!=s?s:"",u}Ct(i,t);var n=i.prototype;return n.xa=function(){return Wg(this)},n.QO=function(t){return this===t||Uw(this,t)&&Kg(this,t)&&this.KO(t)},n.KO=function(t){return Fw(this.U,t.U)},n.YO=function(t,i){this.HO=t,this.zO=i,this.UO=t,this.VO=i},n.kn=function(){this.Vo()},Nt(i,[{key:"CO",get:function(){return this.HO},set:function(t){var i,n;this.HO!==t&&(this.HO=t,null==(i=this.WO)||i.qO(this),this.So(new qg(this)),null==(n=this.WO)||n.So(new jg(this)))}},{key:"RO",get:function(){return this.zO},set:function(t){var i,n;this.zO!==t&&(this.zO=t,null==(i=this.WO)||i.qO(this),this.So(new qg(this)),null==(n=this.WO)||n.So(new jg(this)))}},{key:"o",get:function(){return this.aS}},{key:"JI",get:function(){return this.yO}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"ro",get:function(){return this.ho},set:function(t){this.ho=t}},{key:"Ht",get:function(){return this.WO},set:function(t){this.WO=t}},{key:"U",get:function(){return this.GO},set:function(t){var i;this.GO!==t&&(this.GO=t,this.So(new qg(this)),null==(i=this.WO)||i.So(new jg(this)))}},{key:"XO",get:function(){return this.jO},set:function(t){this.jO=t}}]),i}(th);function Zg(t,i){return t.U===i.U&&t.BO===i.BO&&t.MO===i.MO&&t.mo===i.mo&&t.LO===i.LO&&t.OO===i.OO&&t.FO===i.FO&&t.Wy===i.Wy&&t.DO===i.DO&&t.Pt===i.Pt}var $g=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n,r,e,s)||this).BO="auto",u.MO="start",u.mo="auto",u.LO="auto",u.OO=void 0,u.FO=!0,u.Wy=100,u.DO="center",u.Pt="",u}return Ct(i,t),i.prototype.KO=function(t){return Zg(this,t)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=Xg(this)),this.hu}},{key:"Km",get:function(){return Bg.kO}}]),i}(Jg);function t_(t){var i=t.BO,n=Qi(i);return n&&!t.FO&&(i<0||i>100)?100:n?Number(i):t.FO?-1:100}function i_(t){return Fg(t.mo,t.DO)}function n_(t){return Lg(t.LO,t.DO)}function r_(t){var i,n=n_(t),r=i_(t);switch(n){case"line-left":i=100-r;break;case"line-right":i=r;break;case"center":i=r<=50?2*r:2*(100-r)}return b.min(t.Wy,i)}function e_(t){return{get id(){return t.o},get lines(){return t.ZO},get regionAnchorX(){return t.$O},get regionAnchorY(){return t.tF},get scrollValue(){return t.iF},get viewportAnchorX(){return t.eF},get viewportAnchorY(){return t.sF},get width(){return t.Ti}}}U(),Et(),xt(),U(),Et();var s_=function(){function t(t,i,n,r,e,s,u,o){this.o=void 0,this.Ti=void 0,this.ZO=void 0,this.$O=void 0,this.tF=void 0,this.eF=void 0,this.sF=void 0,this.iF=void 0,this.hu=void 0,this.o=t,this.Ti=i,this.ZO=n,this.$O=r,this.tF=e,this.eF=s,this.sF=u,this.iF=o}return Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=e_(this)),this.hu}},{key:"Km",get:function(){return Bg.EO}}]),t}();U(),Et(),U(),Et();var u_=1e6,o_=function(){function t(){}var i=t.prototype;return i.nF=function(t){return this.rF()*t},i.hF=function(t){return this.oF(t)>0},i.aF=function(t){return this.oF(t)>=0},i.uF=function(t,i){return this.dF(t).cF(i)},i.QO=function(t){return 0===this.oF(t)},i.lF=function(t){return this.oF(t)<0},i.cF=function(t){return this.oF(t)<=0},i.fF=function(){return this.vF()?this._F():this},i.gF=function(t){return this.gO(t._F())},i.dF=function(t){return this.gF(t).fF()},t}();function h_(t,i){return t.pF()?i.pF()?Nn.rh:Nn.Fg:i.pF()?Nn.Ug:t.mF()?i.mF()&&t.vF()===i.vF()?Nn.rh:t.vF()?Nn.Ug:Nn.Fg:i.vF()?Nn.Fg:Nn.Ug}U(),Et(),Pt(),U(),Et();var a_=4294967296,c_=a_*a_,f_=c_*c_,v_=f_/2,d_=function(){function t(t,i){this.CF=void 0,this.PF=void 0,this.CF=t,this.PF=i}var i=t.prototype;return i.xF=function(){return this.PF.unsigned},i.IF=function(){return this.CF.isZero()&&this.PF.isZero()},i.vF=function(){return this.PF.isNegative()},i.RF=function(){return this.xF()?t.wF(this.CF,this.PF,!1):this},i.DF=function(){return this.xF()?this:t.wF(this.CF,this.PF,!0)},i.NF=function(){return this.CF},i.rF=function(){return this.vF()?-this._F().rF():this.PF.toNumber()*c_+this.CF.toUnsigned().toNumber()},i.BF=function(){return this.CF.toInt()},i.QO=function(t){return(this.xF()===t.xF()||this.PF.getHighBits()>>>31!=1||t.PF.getHighBits()>>>31!=1)&&(this.PF.toUnsigned().eq(t.PF.toUnsigned())&&this.CF.toUnsigned().eq(t.CF.toUnsigned()))},i.oF=function(t){if(this.QO(t))return Nn.rh;var i=this.vF(),n=t.vF();if(i&&!n)return Nn.Ug;if(!i&&n)return Nn.Fg;if(!this.xF())return this.gF(t).vF()?Nn.Ug:Nn.Fg;var r=this.DF(),e=t.DF(),s=e.PF.comp(r.PF);return s>0||0===s&&e.CF.gt(r.CF)?Nn.Ug:Nn.Fg},i.lF=function(t){return this.oF(t)<0},i.cF=function(t){return this.oF(t)<=0},i.MF=function(t){return this.oF(t)>0},i.LF=function(t){return this.oF(t)>=0},i.OF=function(){return new t(this.CF.not(),this.PF.not())},i.FF=function(i){return new t(this.CF.and(i.CF),this.PF.and(i.PF))},i.UF=function(i){return new t(this.CF.or(i.CF),this.PF.or(i.PF))},i.VF=function(i){var n=127&i;return 0===n?this:n<64?t.wF(this.CF.shl(n),this.PF.shl(n).or(this.CF.shru(64-n)),this.xF()):t.wF(ue.ZERO,this.CF.shl(n-64),this.xF())},i.HF=function(i){var n=127&i;return 0===n?this:n<64?t.wF(this.CF.shru(n).or(this.PF.shl(64-n)),this.PF.shr(n),this.xF()):t.wF(this.PF.shr(n-64),this.PF.isNegative()?ue.NEG_ONE:ue.ZERO,this.xF())},i.WF=function(i){var n=127&i;return 0===n?this:n<64?t.wF(this.CF.shru(n).or(this.PF.shl(64-n)),this.PF.shru(n),this.xF()):64===n?t.wF(this.PF,ue.ZERO,this.xF()):t.wF(this.PF.shru(n-64),ue.ZERO,this.xF())},i.gO=function(i){var n=this.PF.high>>>16,r=65535&this.PF.high,e=this.PF.low>>>16,s=65535&this.PF.low,u=this.CF.high>>>16,o=65535&this.CF.high,h=this.CF.low>>>16,a=65535&this.CF.low,c=i.PF.high>>>16,f=65535&i.PF.high,v=i.PF.low>>>16,d=65535&i.PF.low,l=i.CF.high>>>16,w=65535&i.CF.high,g=i.CF.low>>>16,_=0,m=0,y=0,p=0,k=0,b=0,A=0,T=0;A+=(T+=a+(65535&i.CF.low))>>>16,T&=65535,b+=(A+=h+g)>>>16,A&=65535,k+=(b+=o+w)>>>16,b&=65535,p+=(k+=u+l)>>>16,k&=65535,y+=(p+=s+d)>>>16,p&=65535,m+=(y+=e+v)>>>16,y&=65535,_+=(m+=r+f)>>>16,m&=65535,_+=n+c,_&=65535;var S=this.xF(),E=ue.fromBits(y<<16|p,_<<16|m,S),I=ue.fromBits(A<<16|T,k<<16|b,S);return t.wF(I,E,S)},i.gF=function(t){return this.gO(t._F())},i._F=function(){return this.OF().gO(t.qF)},i.zF=function(i){if(this.IF()||i.IF())return this.xF()?t.AF:t.SF;if(this.vF())return i.vF()?this._F().zF(i._F()):this._F().zF(i)._F();if(i.vF())return this.zF(i._F())._F();if(this.PF.isZero()&&0===this.CF.high&&i.PF.isZero()&&0===i.CF.high)return t.yF(this.CF.multiply(i.CF));var n=ue.fromBits(4294967295,0,!0),r=this.CF.and(n),e=this.CF.shru(32),s=this.PF.and(n),u=this.PF.shru(32),o=i.CF.and(n),h=i.CF.shru(32),a=i.PF.and(n),c=i.PF.shru(32),f=ue.UZERO,v=ue.UZERO,d=ue.UZERO,l=ue.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(n),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(n)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(n),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(n)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(n)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(n),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(n);var w=ue.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=ue.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.wF(w,g,this.xF())},i.GF=function(i){var n,r,e=i;if(e.IF())throw new RangeError("division by zero");if(this.IF())return this.xF()?[t.AF,t.AF]:[t.SF,t.SF];if(this.xF()){if(e.xF()||(e=e.DF()),e.MF(this))return[t.AF,this];if(e.MF(this.WF(1)))return[r=t.XF,n=this.gF(e)];r=t.AF}else{if(this.QO(t.kF)){if(e.QO(t.qF)||e.QO(t.jF))return[t.kF,t.SF];if(e.QO(t.kF))return[t.qF,t.SF];var s=this.HF(1).QF(e).VF(1);return s.QO(t.SF)?r=e.vF()?t.qF:t.jF:(n=this.gF(e.zF(s)),r=s.gO(n.QF(e))),[r,n=this.gF(e.zF(r))]}if(e.QO(t.kF))return this.xF()?[t.AF,this]:[t.SF,this];var u,o;if(this.vF())return e.vF()?this._F().GF(e._F()):(r=(u=this._F().GF(e))[0],n=u[1],[r._F(),n._F()]);if(e.vF())return r=(o=this.GF(e._F()))[0],n=o[1],[r._F(),n._F()];r=t.SF}for(n=this;n.LF(e);){for(var h=b.max(1,b.floor(n.rF()/e.rF())),a=b.ceil(b.log(h)/b.LN2),c=a<=48?1:b.pow(2,a-48),f=t.bF(h),v=f.zF(e);v.vF()||v.MF(n);)h-=c,v=(f=t.bF(h,this.xF())).zF(e);f.IF()&&(f=t.qF),r=r.gO(f),n=n.gF(v)}return[r,n]},i.QF=function(t){return this.GF(t)[0]},i.KF=function(t){return this.GF(t)[1]},i.toString=function(i){var n=i||10;if(n<2||n>36)throw new RangeError("radix");if(this.IF())return"0";if(this.vF()){if(this.QO(t.kF)){var r=t.bF(n),e=this.QF(r),s=e.zF(r).gF(this);return e.toString(n)+s.BF().toString(n)}return"-"+this._F().toString(n)}for(var u=t.bF(b.pow(n,6),this.xF()),o=this,h="";;){var a=o.QF(u),c=(o.gF(a.zF(u)).BF()>>>0).toString(n);if((o=a).IF())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t.wF=function(i,n,r){return r?new t(i.toUnsigned(),n.toUnsigned()):new t(i.toSigned(),n.toSigned())},t.yF=function(i){return i.unsigned?new t(i,ue.UZERO):new t(i,i.isNegative()?ue.NEG_ONE:ue.ZERO)},t.bF=function(i,n){if(S(i))return n?t.AF:t.SF;if(n){if(i<0)return t.AF;if(i>=f_)return t.TF}else{if(i<=-v_)return t.kF;if(i+1>=v_)return t.EF}return i<0?t.bF(-i,n)._F():t.wF(ue.fromNumber(i%c_),ue.fromNumber(i/c_),n)},t}();d_.SF=d_.yF(ue.ZERO),d_.AF=d_.yF(ue.UZERO),d_.qF=d_.yF(ue.ONE),d_.XF=d_.yF(ue.UONE),d_.jF=d_.yF(ue.NEG_ONE),d_.EF=d_.wF(ue.NEG_ONE,ue.MAX_VALUE,!1),d_.TF=d_.wF(ue.MAX_UNSIGNED_VALUE,ue.MAX_UNSIGNED_VALUE,!0),d_.kF=d_.wF(ue.ZERO,ue.MIN_VALUE,!1),U(),Et(),xt();var l_=function(){function t(t,i){void 0===i&&(i=1),this.YF=void 0,this.jD=void 0,this.YF=t,this.jD=i}var i=t.prototype;return i.gO=function(i){return this.jD>=i.jD?new t(this.YF+i.eU(this.jD).YF,this.jD):new t(this.eU(i.jD).YF+i.YF,i.jD)},i.hF=function(t){return t.lF(this)},i.aF=function(t){return t.cF(this)},i.dF=function(i){return this.jD>=i.jD?new t(b.abs(this.YF-i.eU(this.jD).YF),this.jD):i.dF(this)},i.uF=function(t,i){return this.dF(t).cF(i)},i.oF=function(t){return function(t,i){return t.jD>=i.jD?Mn(t.YF,i.eU(t.jD).YF):Mn(t.eU(i.jD).YF,i.YF)}(this,t)},i.QO=function(t){return 0===this.oF(t)},i.lF=function(t){return this.oF(t)<0},i.cF=function(t){return this.oF(t)<=0},i.eU=function(i){return new t(this.YF*(i/this.jD),i)},i.gF=function(i){return this.jD>=i.jD?new t(this.YF-i.eU(this.jD).YF,this.jD):new t(this.eU(i.jD).YF-i.YF,i.jD)},i.sU=function(i){return new t(this.YF*i,this.jD)},t.JF=function(i){return new t(b.ceil(i.YF),i.jD)},t.ZF=function(i){return new t(b.floor(i.YF),i.jD)},t.tU=function(t,i){return t.aF(i)?t:i},t.iU=function(t,i){return t.cF(i)?t:i},Nt(t,[{key:"mF",get:function(){return!isFinite(this.YF)}},{key:"dd",get:function(){return this.YF/this.jD}}]),t}();l_.fd=new l_(1/6,1),l_.SF=new l_(0),l_.nU=new l_(1/0),l_.rU=1e6;var w_=function(t){function i(i,n){var r;return(r=t.call(this)||this).XE=void 0,r.jD=void 0,r.XE=i.toSigned(),r.jD=n>>>0,r}Ct(i,t);var n=i.prototype;return n.vF=function(){return this.XE.isNegative()},n.IF=function(){return 0!==this.jD&&this.XE.isZero()},n.mF=function(){return 0===this.jD&&!this.XE.isZero()},n.pF=function(){return 0===this.jD&&this.XE.isZero()},n.rF=function(){if(0===this.jD)return this.XE.isZero()?NaN:this.XE.isNegative()?-1/0:1/0;var t=this.XE.divide(this.jD),i=this.XE.subtract(t.multiply(this.jD));return t.toNumber()+i.toNumber()/this.jD},n.NF=function(){if(0===this.jD)throw new y("Failed to convert timestamp");return this.XE},n.fU=function(){return new Date(0===this.jD?NaN:this.eU(1e3).XE.toNumber())},n.vU=function(){return new l_(0===this.jD?this.rF():this.XE.toNumber(),this.jD)},n.eU=function(t,n){void 0===n&&(n=__._U);var r=this.jD;if(r===t)return this;if(0===r)return this;var e=Pn(r,t),s=function(t,i,n){var r=t.GF(i),e=r[0],s=r[1];if(s.IF())return e;if(n===__._U)return s.vF()?e.gF(d_.qF):e;if(n===__.gU)return s.vF()?e:e.gO(d_.qF);var u=s.zF(d_.bF(2));return u.vF()?u._F().lF(i)?e:e.gF(d_.qF):u.lF(i)?e:e.gO(d_.qF)}(d_.yF(this.XE).zF(d_.bF(t/e)),d_.bF(r/e),n);return new i(s.NF(),t)},n.oF=function(t){if(this===t)return Nn.rh;if(0===this.jD||0===t.jD)return h_(this,t);if(this.IF())return t.IF()?Nn.rh:t.vF()?Nn.Fg:Nn.Ug;if(t.IF())return this.vF()?Nn.Ug:Nn.Fg;var i=b.min(this.jD,t.jD),n=this.eU(i,__.pU).XE,r=t.eU(i,__.pU).XE;return n.compare(r)},n._F=function(){return 0===this.jD?function(t){0;return t.pF()?t:t.vF()?w_.aU:w_.uU}(this):new i(this.XE.negate(),this.jD)},n.gO=function(t){if(0===this.jD||0===t.jD)return function(t,i){0;if(t.pF()||i.pF())return w_.oU;if(t.mF()&&i.mF())return t.vF()===i.vF()?t:w_.oU;return t.mF()?t:i}(this,t);if(this.IF())return t;if(t.IF())return this;var n=b.max(this.jD,t.jD),r=this.eU(n,__.pU),e=t.eU(n,__.pU);return new i(r.XE.add(e.XE),n)},n.zF=function(t){if(this.pF()||S(t))return i.oU;if(this.mF()||!isFinite(t)){if(this.IF()||0===t)return i.oU;var n=this.vF()?i.uU:i.aU;return t<0?n._F():n}return this.IF()?this:new i(0===t?ue.ZERO:this.XE.multiply(t),this.jD)},n.QF=function(t){if(this.pF()||S(t))return i.oU;if(this.mF())return isFinite(t)?0===t?1/t<0?this._F():this:t<0?this._F():this:i.oU;if(!isFinite(t))return new i(ue.ZERO,this.jD);if(this.IF())return 0===t?i.oU:new i(ue.ZERO,this.jD);if(0===t){var n=this.vF()?i.uU:i.aU;return 1/t<0?n._F():n}return new i(this.XE.divide(t),this.jD)},n.mU=function(){return[this.XE.low,this.XE.high,this.jD]},i.hU=function(t,n){return void 0===n&&(n=u_),i.bF(t*n,n)},i.bF=function(t,n){return S(t)?i.oU:t===1/0?i.aU:t===-1/0?i.uU:new i(ue.fromNumber(t),n)},i.yF=function(t,n){return new i(t,n)},i.cU=function(t){return i.hU(t.dd,u_)},i.dU=function(t){return new i(ue.fromNumber(t.getTime()),1e3)},i.tU=function(t,i){return t.aF(i)?t:i},i.iU=function(t,i){return t.cF(i)?t:i},i.lU=function(t,n,r){return i.tU(n,i.iU(r,t))},i}(o_);w_.SF=new w_(ue.ZERO,u_),w_.oU=new w_(ue.ZERO,0),w_.aU=new w_(ue.ONE,0),w_.uU=new w_(ue.NEG_ONE,0),U(),Et(),xt(),Pt(),ct();var g_=function(t){function i(i,n){var r;return(r=t.call(this)||this).XE=void 0,r.jD=void 0,r.XE=BigInt.asIntN(64,i),r.jD=n>>>0,r}Ct(i,t);var n=i.prototype;return n.vF=function(){return this.XE<BigInt(0)},n.IF=function(){return 0!==this.jD&&this.XE===BigInt(0)},n.mF=function(){return 0===this.jD&&this.XE!==BigInt(0)},n.pF=function(){return 0===this.jD&&this.XE===BigInt(0)},n.rF=function(){if(0===this.jD)return this.XE===BigInt(0)?NaN:this.XE<BigInt(0)?-1/0:1/0;var t=this.XE/BigInt(this.jD),i=this.XE-t*BigInt(this.jD);return Number(t)+Number(i)/this.jD},n.NF=function(){if(0===this.jD)throw new y("Failed to convert timestamp");return this.SU()},n.SU=function(){var t=this.XE&BigInt(4294967295),i=this.XE>>BigInt(32)&BigInt(4294967295);return ue.fromBits(Number(t),Number(i))},n.fU=function(){return new Date(0===this.jD?NaN:Number(this.eU(1e3).XE))},n.vU=function(){return new l_(0===this.jD?this.rF():Number(this.XE),this.jD)},n.eU=function(t,n){void 0===n&&(n=__._U);var r=this.jD;if(r===t)return this;if(0===r)return this;var e=Pn(r,t),s=function(t,i,n){var r=t/i,e=t-r*i;if(e===BigInt(0))return r;if(n===__._U)return e<BigInt(0)?r-BigInt(1):r;if(n===__.gU)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<i?r:r-BigInt(1):s<i?r:r+BigInt(1)}(this.XE*BigInt(t/e),BigInt(r/e),n);return new i(s,t)},n.oF=function(t){if(this===t)return Nn.rh;if(0===this.jD||0===t.jD)return h_(this,t);if(this.IF())return t.IF()?Nn.rh:t.vF()?Nn.Fg:Nn.Ug;if(t.IF())return this.vF()?Nn.Ug:Nn.Fg;var i=b.min(this.jD,t.jD),n=this.eU(i,__.pU).XE,r=t.eU(i,__.pU).XE;return n>r?Nn.Fg:n<r?Nn.Ug:Nn.rh},n._F=function(){return 0===this.jD?function(t){0;return t.pF()?t:t.vF()?g_.aU:g_.uU}(this):new i(-this.XE,this.jD)},n.gO=function(t){if(0===this.jD||0===t.jD)return function(t,i){0;if(t.pF()||i.pF())return g_.oU;if(t.mF()&&i.mF())return t.vF()===i.vF()?t:g_.oU;return t.mF()?t:i}(this,t);if(this.IF())return t;if(t.IF())return this;var n=b.max(this.jD,t.jD),r=this.eU(n,__.pU),e=t.eU(n,__.pU);return new i(r.XE+e.XE,n)},n.zF=function(t){if(this.pF()||S(t))return i.oU;if(this.mF()||!isFinite(t)){if(this.IF()||0===t)return i.oU;var n=this.vF()?i.uU:i.aU;return t<0?n._F():n}return this.IF()?this:new i(0===t?BigInt(0):this.XE*BigInt(t),this.jD)},n.QF=function(t){if(this.pF()||S(t))return i.oU;if(this.mF())return isFinite(t)?0===t?1/t<0?this._F():this:t<0?this._F():this:i.oU;if(!isFinite(t))return new i(BigInt(0),this.jD);if(this.IF())return 0===t?i.oU:new i(BigInt(0),this.jD);if(0===t){var n=this.vF()?i.uU:i.aU;return 1/t<0?n._F():n}return new i(this.XE/BigInt(t),this.jD)},n.mU=function(){var t=this.SU();return[t.low,t.high,this.jD]},i.hU=function(t,n){return void 0===n&&(n=u_),i.bF(t*n,n)},i.bF=function(t,n){return S(t)?i.oU:t===1/0?i.aU:t===-1/0?i.uU:new i(BigInt(b.floor(t)),n)},i.yF=function(t,n){return new i(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),n)},i.cU=function(t){return i.hU(t.dd,u_)},i.dU=function(t){return i.bF(t.getTime(),1e3)},i.tU=function(t,i){return t.aF(i)?t:i},i.iU=function(t,i){return t.cF(i)?t:i},i.lU=function(t,n,r){return i.tU(n,i.iU(r,t))},Nt(i,null,[{key:"SF",get:function(){return i.wU||(i.wU=new i(BigInt(0),u_)),i.wU}},{key:"oU",get:function(){return i.yU||(i.yU=new i(BigInt(0),0)),i.yU}},{key:"aU",get:function(){return i.bU||(i.bU=new i(BigInt(1),0)),i.bU}},{key:"uU",get:function(){return i.AU||(i.AU=new i(BigInt(-1),0)),i.AU}}]),i}(o_);g_.wU=void 0,g_.yU=void 0,g_.bU=void 0,g_.AU=void 0;var __=function(t){return t[t._U=0]="_U",t[t.gU=1]="gU",t[t.pU=2]="pU",t}({}),m_=function(){try{return"function"==typeof BigInt&&"bigint"===W(BigInt(0))}catch(t){return!1}}()?g_:w_;function y_(t,i){return t.oF(i)}function p_(t,i){return void 0!==t?void 0!==i?m_.iU(t,i):t:i}U(),Et();var k_=b.pow(2,33),b_=_n(function(){return m_.bF(k_,9e4)}),A_=_n(function(){return b_().QF(2)});U(),Et();var T_={TU:0,kU:1/0,EU:0},S_=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],E_=[" ","\t","\n","\f","\r"],I_=/^\d*$/,R_=/.*[0-9]+.*/,C_=/^[\d.-]+$/,P_=/(^\.|\.$)/,D_=/(\D\.|\.\D)/;function N_(t,i,n){return void 0===i&&(i=T_),void 0===n&&(n=!0),x_(la(_a(t),new Ta),i,n)}function x_(t,i,n){void 0===i&&(i=T_),void 0===n&&(n=!0);var r={L:[],xU:[],PU:[]},e=B_(t),s=new Ta,u=!1;if(G_(e),O_(e,function(t){return"\n"!==t},s),s.ac>=e.length)return r;(s.Ly(1),"\n"!==e.charAt(s.ac))?V_(M_(e,s,u,!0,r,i,n),r):s.Ly(1);for(O_(e,function(t){return"\n"===t},s);s.ac<e.length;){V_(M_(e,s,u,!1,r,i,n),r),O_(e,function(t){return"\n"===t},s)}return r}function B_(t){var i=Mo(t,"\0"," "),n=Mo(i,"\r\n","\n");return Mo(n,"\r","\n")}function O_(t,i,n){for(var r=n.ac;n.ac<t.length&&i(t.charAt(n.ac));)n.Ly(1);return t.substring(r,n.ac)}function M_(t,i,n,r,e,s,u){for(var o,h=0,a=i.ac,c="",f=!1,v=!1,d=null,l=null,w=null;!f;)if(o=O_(t,function(t){return"\n"!==t},i),h++,i.ac>=t.length?f=!0:i.Ly(1),Lo(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){i.Oy(a);break}v=!0,a=i.ac,d=new $g(0,0,"",!1,c);try{H_(o,e.xU,d,s,u),c=""}catch(t){Ui.um(t),d=null}}else{if(""===o)break;r&&Fo(o,"X-TIMESTAMP-MAP")&&(e.IU=L_(o)),r||2!==h||n||(Vo("STYLE",c.replace(/ /g,""))?(l={Km:Bg.xO},c=""):Vo("REGION",c.replace(/ /g,""))&&(w=new s_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=i.ac}if(d)return d.U=c,d;if(l);else if(w)return function(t,i){for(var n,r=t.split(/\s/),e=":",s=Lt(r);!(n=s()).done;){var u=n.value;if(0!==u.length&&Lo(u,e)&&u.charAt(0)!==e&&u.charAt(u.length-1)!==e){var o=u.indexOf(e),h=u.substring(0,o),a=u.substring(o+1,u.length);switch(h.toUpperCase()){case"ID":em(a,i);break;case"WIDTH":om(a,i);break;case"LINES":um(a,i);break;case"REGIONANCHOR":var c=rm(a);c&&(i.$O=c[0],i.tF=c[1]);break;case"VIEWPORTANCHOR":var f=rm(a);f&&(i.eF=f[0],i.sF=f[1]);break;case"SCROLL":sm(a,i)}}}}(c,w),w;return null}function L_(t){var i,n=t.split("=")[1].trim().split(","),r=U_(n[0].trim(),"MPEGTS")?n[0]:n[1],e=U_(n[0].trim(),"LOCAL")?n[0]:n[1];return{CU:F_(Number(r.split(/:(.*)/)[1].trim())||0),bh:m_.hU(null!=(i=X_(e.split(/:(.*)/)[1].trim(),new Ta))?i:0)}}function F_(t){return m_.bF(t,9e4)}function U_(t,i){return Fo(t,i)}function V_(t,i){t&&function(t){return"cue"===t.Km}(t)?i.L.push(t):t&&function(t){return"region"===t.Km}(t)?i.xU.push(t):t&&function(t){return"stylesheet"===t.Km}(t)&&i.PU.push(t)}function H_(t,i,n,r,e){var s=new Ta;Q_(t,s);var u=W_(X_(t,s),r,e);if(Q_(t,s),"--\x3e"!==t.substring(s.ac,s.ac+3))throw y("Something went wrong with parsing a WebVTT Cue");s.Ly(3),Q_(t,s);var o=W_(X_(t,s),r,e);n.YO(u,o),function(t,i,n){for(var r,e=t.split(/\s/),s=":",u=Lt(e);!(r=u()).done;){var o=r.value;if(0!==o.length&&Lo(o,s)&&o.charAt(0)!==s&&o.charAt(o.length-1)!==s){var h=o.indexOf(s),a=o.substring(0,h),c=o.substring(h+1,o.length);switch(a.toUpperCase()){case"REGION":$_(c,i,n);break;case"VERTICAL":im(c,i);break;case"D":nm(c,i);break;case"LINE":case"L":J_(c,i);break;case"POSITION":case"T":Z_(c,i);break;case"SIZE":case"S":tm(c,i);break;case"ALIGN":case"A":K_(c,i)}}}}(t.substring(s.ac,t.length),n,i)}function W_(t,i,n){return n?t+i.TU:t}function z_(t){return/^[0-9]$/.test(t)}function X_(t,i){var n,r,e,s=Mo(t,",","."),u=!1;if(i.ac>=s.length||!z_(s.charAt(i.ac)))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var o=O_(s,z_,i),h=A(o,10);if((o.length>2||h>59)&&(u=!0),i.ac>=s.length||":"!==s.charAt(i.ac))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");i.Ly(1);var a=O_(s,z_,i);if(2!==a.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var c=A(a,10);if(u||i.ac<s.length&&":"===s.charAt(i.ac)){if(i.ac>=s.length||":"!==s.charAt(i.ac))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");i.Ly(1);var f=O_(s,z_,i);if(2!==a.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n=h,r=c,e=A(f,10)}else n=0,r=h,e=c;if(i.ac>=s.length||"."!==s.charAt(i.ac))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");i.Ly(1);var v=O_(s,z_,i),d=A(v,10);if(c>59||e>59)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");return 60*n*60+60*r+e+d/1e3}function q_(t){return G_(B_(t))}function G_(t){if(t.length<6)return!1;for(var i,n=Lt(S_);!(i=n()).done;){var r=i.value;if(Fo(t,r))return!0}return!1}function j_(t){return jn(E_,t)}function Q_(t,i){for(;i.ac<t.length&&j_(t.charAt(i.ac));)i.Ly(1)}function Y_(t){var i=t.lastIndexOf("%");if(i>-1){var n=T(t.substring(0,i));if(!S(n)&&n>=0&&n<=100)return n}return null}function K_(t,i){var n=t.toLowerCase();switch(n){case"start":case"center":case"end":case"left":case"right":i.DO=n;break;case"middle":i.DO="center"}}function J_(t,i){var n,r,e=t.indexOf(",");if(e>=0?(n=t.substring(0,e),r=t.substring(e+1,t.length)):(n=t,r=""),R_.test(n)){var s,u;if(Uo(n,"%")){var o=Y_(n);if(null===o)return;s=o,u=!1}else{if(!C_.test(n)||n.lastIndexOf("-")>0)return;var h=n.indexOf(".");if(h>=0&&(h!==n.lastIndexOf(".")||!D_.test(n)||P_.test(n)))return;if(s=T(n),S(s))return;u=!0}switch(i.BO=s,i.FO=u,r=r.toLowerCase()){case"start":case"center":case"end":i.MO=r;break;case"middle":i.MO="center"}}}function Z_(t,i){var n,r,e=t.indexOf(",");e>=0?(n=t.substring(0,e),r=t.substring(e+1,t.length)):(n=t,r="");var s=Y_(n);if(null!==s)switch(i.mo=s,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":i.LO=r;break;case"start":i.LO="line-left";break;case"middle":i.LO="center";break;case"end":i.LO="line-right"}}function $_(t,i,n){var r=Vn(n,function(i){return i.o===t});void 0!==r&&(i.OO=r)}function tm(t,i){var n=Y_(t);null!==n&&(i.Wy=n)}function im(t,i){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":i.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":i.Pt="lr";break;default:i.Pt=""}}function nm(t,i){"VERTICAL"===t.toUpperCase()?i.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(i.Pt="lr")}function rm(t){if(t.indexOf(",")>=0){var i=Y_(t.substring(0,t.indexOf(","))),n=Y_(t.substring(t.indexOf(",")+1,t.length));return[Tn(i||0,0,100),Tn(n||100,0,100)]}return null}function em(t,i){i.o=t}function sm(t,i){"up"===t.toLowerCase()&&(i.iF="up")}function um(t,i){I_.test(t)&&(i.ZO=A(t))}function om(t,i){var n=Y_(t);null!==n&&(i.Ti=n)}U(),Et(),Ft(),U(),Et(),Ft(),U(),Et();var hm=function(t){return t.HC="moov",t.WC="mvhd",t.qC="trak",t.zC="tkhd",t.GC="mdia",t.XC="mdhd",t.jC="hdlr",t.QC="minf",t.KC="stbl",t.YC="stsd",t.JC="stsc",t.ZC="mvex",t.$C="trex",t.tR="avc1",t.iR="avcC",t.eR="hev1",t.sR="hvc1",t.nR="hvcC",t.rR="vp09",t.hR="vpcC",t.oR="av01",t.aR="av1C",t.uR="dvcC",t.cR="dvvC",t.dR="dvwC",t.lR="dac3",t.fR="dec3",t.vR="dvav",t._R="dva1",t.gR="dvhe",t.pR="dvh1",t.mR="ac-3",t.wR="ec-3",t.yR="colr",t.bR="pasp",t.AR="mp4a",t.SR="esds",t.kR="fLaC",t.ER="dfLa",t.xR="wvtt",t.PR="vttC",t.IR="vlab",t.RR="enca",t.DR="encv",t.NR="moof",t.MR="mfhd",t.LR="traf",t.OR="tfhd",t.FR="trun",t.UR="tfdt",t.HR="senc",t.WR="mdat",t.qR="pssh",t.zR="emsg",t.GR="sidx",t.XR="styp",t.jR="ftyp",t.QR="sinf",t.KR="frma",t.YR="schi",t.JR="tenc",t}({}),am=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),cm=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),fm=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});U(),Et();var vm=function(){function t(t,i){this.lk=void 0,this.$R=void 0,this.lk=t,this.$R=i}var i=t.prototype;return i.ZR=function(){return Mh(this.lk,this.$R)},i.tD=function(){return zh(this.lk,this.$R)},i.iD=function(){return function(t,i,n){void 0===n&&(n=!1);var r=t.getInt16(i.ac,n);return i.Ly(2),r}(this.lk,this.$R)},i.eD=function(){return qh(this.lk,this.$R)},i.sD=function(){return function(t,i,n){void 0===n&&(n=!1);var r=t.getInt32(i.ac,n);return i.Ly(4),r}(this.lk,this.$R)},i.nD=function(){return jh(this.lk,this.$R)},i.rD=function(t){return Fh(this.lk,this.$R,t)},i.hD=function(t){return function(t,i,n){for(var r=[],e=0;e<n;e++)r.push(qh(t,i));return r}(this.lk,this.$R,t)},i.oD=function(t){return Kh(this.lk,this.$R,t)},i.aD=function(){return fa(this.lk,this.$R)},i.uD=function(t){this.$R.Ly(t)},i.Fy=function(){return new t(this.lk,this.$R.Fy())},t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),Ft();function dm(t,i){return t.Km===i}function lm(t,i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;if(dm(e,i))return e}}var wm=function(t){function i(i,n){var r;return(r=t.call(this)||this).cD=void 0,r.dD=void 0,r.cD=i,r.dD=n,r}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"DataIncompleteError"}}]),i}(cr),gm=function(){function t(){}return t.lD=function(i){var n=i.lk,r=i.$R,e=t.fD(n,r,!1);if(!e.vD)throw new wm(r.ac,e.m);return e.m},t.fD=function(i,n,r){for(var e=[];n.ac<i.byteLength;){var s=t._D(i,n,r);if(!s.vD)return{vD:!1,m:e};e.push(s.gD)}return{vD:!0,m:e}},t.pD=function(i,n){var r=t._D(i,n,!1);if(!r.vD)throw new wm(n.ac);return r.gD},t.mD=function(i,n){for(var r=i.lk,e=i.$R;e.ac<r.byteLength;){var s=t._D(r,e,!1);if(!s.vD)return;if(s.gD.Km===n)return s.gD}},t._D=function(i,n,r){var e=n.ac,s=t.wD(i,n);if(!s.vD)return s;var u=s.yD,o=u.Wy;if(0===o){if(r)return n.Oy(e),{vD:!1,bD:1/0};o=i.byteLength-e}var h=e+o;if(h>i.byteLength){var a=h;return n.Oy(e),{vD:!1,bD:a}}var c={Km:u.Km,ac:e,lk:new vm(ga(i,e,h),new Ta(u.SD))};return n.Oy(h),{vD:!0,gD:c}},t.wD=function(t,i){var n=i.ac;if(!Vh(t,i,8))return{vD:!1,bD:i.ac+8};var r=qh(t,i),e=Kh(t,i,4);if(1===r){if(!Vh(t,i,8)){var s=i.ac+8;return i.Oy(n),{vD:!1,bD:s}}r=jh(t,i).toNumber()}if("uuid"===e){if(!Vh(t,i,16)){var u=i.ac+16;return i.Oy(n),{vD:!1,bD:u}}e=Kh(t,i,16)}return{vD:!0,yD:{Km:e,Wy:r,SD:i.ac-n}}},t.TD=function(t,i,n){var r=t.lk,e=t.$R,s=wa(ma(r),e.ac,r.byteLength);return n&&(s=ba(s)),e.Ly(s.byteLength),{Km:i,lk:s}},t.kD=function(i,n,r){var e=pm(i.eD());return{Km:n,ED:e.version,xD:e.flags,lk:t.TD(i,n,r).lk}},t}();function _m(t,i){var n=mm(t,i);if(!n)throw new y("Missing "+i+" atom");return n}function mm(t,i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;if(e.Km===i)return e.lk}}function ym(t,i){for(var n,r=[],e=Lt(t);!(n=e()).done;){var s=n.value;s.Km===i&&r.push(s.lk)}return r}function pm(t){return{version:t>>24,flags:new xh(16777215&t)}}var km=function(){function t(){}return t.PD=function(i){for(var n,r=[],e=Lt(gm.lD(new vm(i,new Ta)));!(n=e()).done;){var s=n.value,u=t.CD(s);u&&r.push(u)}return r},t.RD=function(t){return gm.fD(t,new Ta,!1).m.some(this.DD)},t.ND=function(i){return ym(gm.lD(new vm(i,new Ta)),hm.qR).map(t.BD)},t.MD=function(i){return ym(gm.lD(i.lk),hm.qR).map(t.BD)},t.DD=function(t){return t.Km===hm.jR||t.Km===hm.XR||t.Km===hm.HC||t.Km===hm.NR||t.Km===hm.WR||t.Km===hm.GR||t.Km===hm.zR},t.CD=function(i){switch(i.Km){case hm.HC:return t.LD(i.lk);case hm.NR:return t.OD(i.lk,i.ac);case hm.WR:return t.FD(i.lk);case hm.GR:return t.UD(i.lk);case hm.zR:return t.VD(i.lk)}},t.LD=function(i){var n=gm.lD(i),r=_m(n,hm.WC),e=ym(n,hm.qC),s=mm(n,hm.ZC),u=t.HD(r),o=e.map(t.WD),h=s?t.qD(s):void 0;return{Km:hm.HC,yD:u,Z:o,zD:h}},t.HD=function(t){var i=pm(t.eD()),n=i.version,r=i.flags,e=1===n?t.nD():t.eD(),s=1===n?t.nD():t.eD(),u=t.eD(),o=1===n?t.nD():t.eD(),h=t.eD(),a=t.tD()>>8;t.uD(2),t.uD(8);var c=t.hD(9);t.uD(24);var f=t.eD();return{Km:hm.WC,ED:n,xD:r,GD:e,XD:s,jD:u,ct:o,QD:h,OP:a,KD:c,YD:f}},t.WD=function(i){var n=gm.lD(i),r=_m(n,hm.zC),e=_m(n,hm.GC),s=t.JD(r),u=t.ZD(e);return{Km:hm.qC,yD:s,$D:u}},t.JD=function(t){var i=pm(t.eD()),n=i.version,r=i.flags,e=1===n?t.nD():t.eD(),s=1===n?t.nD():t.eD(),u=t.eD();t.uD(4);var o=1===n?t.nD():t.eD();t.uD(8);var h=t.iD(),a=t.iD(),c=t.iD()/b.pow(2,8);t.uD(2);var f=t.hD(9),v=t.eD()/b.pow(2,16),d=t.eD()/b.pow(2,16);return{Km:hm.zC,tN:r.Uy(1),iN:r.Uy(2),eN:r.Uy(4),GD:e,XD:s,sN:u,ct:o,nN:h,rN:a,OP:c,KD:f,Ti:v,Mi:d}},t.ZD=function(i){var n=gm.lD(i),r=_m(n,hm.XC),e=_m(n,hm.jC),s=_m(n,hm.QC),u=t.hN(r),o=t.oN(e),h=t.aN(s);return{Km:hm.GC,yD:u,uN:o,cN:h}},t.hN=function(t){var i=pm(t.eD()),n=i.version,r=i.flags,e=1===n?t.nD():t.eD(),s=1===n?t.nD():t.eD(),u=t.eD(),o=1===n?t.nD():t.eD();t.tD();return t.uD(2),{Km:hm.XC,ED:n,xD:r,GD:e,XD:s,jD:u,ct:o}},t.oN=function(t){var i=pm(t.eD()),n=i.version,r=i.flags;t.uD(4);var e=t.oD(4);t.uD(12);var s=t.aD();return{Km:hm.jC,ED:n,xD:r,dN:e,l:s}},t.aN=function(i){var n=_m(gm.lD(i),hm.KC),r=t.lN(n);return{Km:hm.QC,fN:r}},t.lN=function(i){var n=_m(gm.lD(i),hm.YC),r=t.vN(n);return{Km:hm.KC,_N:r}},t.vN=function(i){for(var n,r=pm(i.eD()),e=r.version,s=r.flags,u=(i.eD(),[]),o=Lt(gm.lD(i));!(n=o()).done;){var h=n.value,a=t.gN(h.lk,h.Km);a&&u.push(a)}return{Km:hm.YC,ED:e,xD:s,pN:u}},t.gN=function(i,n){var r=t.mN(i,n);return r||((r=t.wN(i,n))||(n===hm.xR?t.yN(i):void 0))},t.mN=function(i,n){return n===hm.AR?t.bN(i):n===hm.kR||n===hm.kR.toLowerCase()||n===hm.kR.toUpperCase()?t.AN(i):n===hm.RR?t.SN(i):n===hm.mR?t.TN(i):n===hm.wR?t.kN(i):void 0},t.wN=function(i,n){return n===hm.tR?t.EN(i):n===hm.eR||n===hm.sR?t.xN(i,n):n===hm.rR?t.PN(i,n):n===hm.oR?t.CN(i,n):n===hm.DR?t.RN(i):n===hm.vR||n===hm._R||n===hm.gR||n===hm.pR?t.DN(i,n):void 0},t.NN=function(t,i){return t.uD(6),{Km:i,BN:t.tD()}},t.MN=function(i,n){var r=t.NN(i,n);i.uD(8);var e=i.tD(),s=i.tD();return i.uD(2),i.uD(2),Yu({},r,{LN:e,ON:s,FN:i.eD()>>>16})},t.UN=function(i,n){var r=t.NN(i,n);i.uD(2),i.uD(2),i.uD(12);var e=i.tD(),s=i.tD(),u=i.eD(),o=i.eD();i.uD(4);var h=i.tD();i.uD(32);var a=i.tD();return i.uD(2),Yu({},r,{Ti:e,Mi:s,VN:u,HN:o,WN:h,qN:a})},t.bN=function(i){var n=t.MN(i,hm.AR),r=_m(gm.lD(i),hm.SR);return Yu({},n,{zN:t.GN(r)})},t.AN=function(i){var n=t.MN(i,hm.kR),r=_m(gm.lD(i),hm.ER);return Yu({},n,{XN:t.jN(r)})},t.yN=function(i){var n=t.NN(i,hm.xR),r=gm.lD(i),e=_m(r,hm.PR),s=t.QN(e),u=mm(r,hm.IR);return Yu({},n,{KN:s,YN:u?t.JN(u):void 0})},t.QN=function(t){return{Km:hm.PR,Cd:t.aD()}},t.JN=function(t){return{Km:hm.IR,Th:t.aD()}},t.GN=function(t){return gm.kD(t,hm.SR,!0)},t.jN=function(t){return gm.kD(t,hm.ER,!0)},t.EN=function(i){var n=t.UN(i,hm.tR),r=gm.lD(i),e=_m(r,hm.iR),s=mm(r,hm.bR);return Yu({},n,{ZN:t.$N(e),tB:s?t.iB(s):void 0})},t.xN=function(i,n){var r=t.UN(i,n),e=_m(gm.lD(i),hm.nR);return Yu({},r,{eB:t.sB(e)})},t.PN=function(i,n){var r=t.UN(i,n),e=_m(gm.lD(i),hm.hR);return Yu({},r,{nB:t.rB(e)})},t.CN=function(i,n){var r=t.UN(i,n),e=gm.lD(i),s=_m(e,hm.aR),u=t.hB(s),o=mm(e,hm.yR);return Yu({},r,{oB:u,aB:o?t.uB(o):void 0})},t.RN=function(i){var n=i.Fy(),r=t.UN(i,hm.DR),e=_m(gm.lD(i),hm.QR),s=t.cB(e);return Yu({},r,{dB:t.wN(n,s.fB.lB),vB:s})},t.DN=function(i,n){var r=t.UN(i,n),e=gm.lD(i);return Yu({},r,{_B:t.gB(e)})},t.TN=function(i){var n=t.MN(i,hm.mR),r=_m(gm.lD(i),hm.lR);return Yu({},n,{pB:t.mB(r)})},t.kN=function(i){var n=t.MN(i,hm.wR),r=_m(gm.lD(i),hm.fR);return Yu({},n,{wB:t.yB(r)})},t.SN=function(i){var n=i.Fy(),r=t.MN(i,hm.RR),e=_m(gm.lD(i),hm.QR),s=t.cB(e);return Yu({},r,{dB:t.mN(n,s.fB.lB),vB:s})},t.cB=function(i){var n=gm.lD(i),r=_m(n,hm.KR),e=t.bB(r),s=_m(n,hm.YR),u=t.AB(s);return{Km:hm.QR,fB:e,SB:u}},t.bB=function(t){var i=t.oD(4);return{Km:hm.KR,lB:i}},t.AB=function(i){var n=_m(gm.lD(i),hm.JR),r=t.TB(n);return{Km:hm.YR,kB:r}},t.TB=function(t){var i=pm(qh(t.lk,t.$R)),n=i.version,r=i.flags,e=t.ZR()>0,s=t.ZR(),u=t.rD(16);return{Km:hm.JR,ED:n,xD:r,EB:e,xB:s,PB:u}},t.$N=function(t){return gm.TD(t,hm.iR,!0)},t.sB=function(t){return gm.TD(t,hm.nR,!0)},t.gB=function(t){var i=mm(t,hm.uR);if(void 0!==i)return gm.TD(i,hm.uR,!0);var n=mm(t,hm.cR);if(void 0!==n)return gm.TD(n,hm.cR,!0);var r=mm(t,hm.dR);if(void 0!==r)return gm.TD(r,hm.dR,!0);throw y("Error parsing Dolby Vision configuration box.")},t.mB=function(t){return gm.TD(t,hm.lR,!0)},t.yB=function(t){return gm.TD(t,hm.fR,!0)},t.rB=function(t){return gm.TD(t,hm.hR,!0)},t.hB=function(t){return gm.TD(t,hm.aR,!0)},t.uB=function(t){var i=t.oD(4);switch(i){case"nclx":return{IB:am.ON_SCREEN_COLOURS,CB:t.tD(),RB:t.tD(),DB:t.tD(),NB:!!(128&t.ZR())};case"rICC":return{IB:am.RESTRICTED_ICC_PROFILE};case"prof":return{IB:am.UNRESTRICED_ICC_PROFILE};default:throw y("Could not parse ColourInformationBox: unknown type '"+i+"'.")}},t.iB=function(t){var i=t.eD(),n=t.eD();return{Km:hm.bR,BB:i,MB:n}},t.qD=function(i){var n=ym(gm.lD(i),hm.$C).map(t.LB);return{Km:hm.ZC,Z:n}},t.LB=function(t){var i=pm(t.eD()),n=i.version,r=i.flags,e=t.eD(),s=t.eD(),u=t.eD(),o=t.eD(),h=t.eD();return{Km:hm.$C,ED:n,xD:r,sN:e,OB:s,FB:u,UB:o,VB:h}},t.OD=function(i,n){var r=gm.lD(i),e=_m(r,hm.MR),s=ym(r,hm.LR),u=t.HB(e),o=s.map(t.WB);return{Km:hm.NR,qB:n,yD:u,Z:o}},t.HB=function(t){var i=pm(t.eD()),n=i.version,r=i.flags,e=t.eD();return{Km:hm.MR,ED:n,xD:r,zB:e}},t.WB=function(i){var n=gm.lD(i),r=_m(n,hm.OR),e=ym(n,hm.FR),s=mm(n,hm.UR),u=t.GB(r),o=e.map(function(i){return t.XB(i,u)}),h=s?t.jB(s):void 0;return{Km:hm.LR,yD:u,QB:o,KB:h}},t.GB=function(t){var i=pm(t.eD()),n=i.version,r=i.flags,e=t.eD(),s=r.Uy(cm.BASE_DATA_OFFSET_PRESENT)?t.nD():void 0,u=r.Uy(cm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.eD():void 0,o=r.Uy(cm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.eD():void 0,h=r.Uy(cm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.eD():void 0,a=r.Uy(cm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.eD():void 0;return{Km:hm.OR,ED:n,xD:r,sN:e,YB:s,JB:u,FB:o,UB:h,VB:a}},t.XB=function(i,n){for(var r=pm(i.eD()),e=r.version,s=r.flags,u=i.eD(),o=s.Uy(fm.DATA_OFFSET_PRESENT)?i.sD():void 0,h=s.Uy(fm.FIRST_SAMPLE_FLAGS_PRESENT)?i.eD():void 0,a=[],c=0;c<u;c++){var f=t.ZB(i,s,e,n);0===c&&void 0!==h&&(f.xD=h),a.push(f)}return{Km:hm.FR,ED:e,xD:s,$B:u,qB:o,tM:h,iM:a}},t.ZB=function(t,i,n,r){return{ct:i.Uy(fm.SAMPLE_DURATION_PRESENT)?t.eD():r.FB,Wy:i.Uy(fm.SAMPLE_SIZE_PRESENT)?t.eD():r.UB,xD:i.Uy(fm.SAMPLE_FLAGS_PRESENT)?t.eD():r.VB,eM:i.Uy(fm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===n?t.eD():t.sD():void 0}},t.VD=function(t){var i=t.lk,n=t.$R,r=pm(qh(i,n)),e=r.version,s=r.flags;if(1===e){var u=qh(i,n),o=jh(i,n),h=qh(i,n),a=qh(i,n),c=Yh(i,n),f=Yh(i,n),v=ka(ma(i),n.ac,i.byteLength);return n.Ly(v.byteLength),{Km:hm.zR,ED:e,xD:s,sM:c,XE:f,jD:u,nM:o,rM:h,o:a,hM:v}}var d=Yh(i,n),l=Yh(i,n),w=qh(i,n),g=qh(i,n),_=qh(i,n),m=qh(i,n),y=ka(ma(i),n.ac,i.byteLength);return n.Ly(y.byteLength),{Km:hm.zR,xD:s,ED:e,sM:d,XE:l,jD:w,oM:g,rM:_,o:m,hM:y}},t.FD=function(t){return gm.TD(t,hm.WR,!1)},t.BD=function(i){var n=i.lk,r=i.$R,e=ba(ma(n)).buffer,s=pm(qh(n,r)),u=s.version,o=s.flags,h=t.aM(n,r),a=[];if(u>0)for(var c=qh(n,r),f=0;f<c;f++){var v=Fh(n,r,16);a.push(v)}var d=qh(n,r),l=new E(e,r.ac,d);return r.Ly(n.byteLength),{Km:hm.qR,ED:u,xD:o,uM:h,cM:a,dM:d,lk:l,lM:e}},t.aM=function(t,i){for(var n="",r=0;r<4;r++){var e=Mh(t,i).toString(16);n+=1===e.length?"0"+e:e}n+="-";for(var s=0;s<2;s++){var u=Mh(t,i).toString(16);n+=1===u.length?"0"+u:u}n+="-";for(var o=0;o<2;o++){var h=Mh(t,i).toString(16);n+=1===h.length?"0"+h:h}n+="-";for(var a=0;a<2;a++){var c=Mh(t,i).toString(16);n+=1===c.length?"0"+c:c}n+="-";for(var f=0;f<6;f++){var v=Mh(t,i).toString(16);n+=1===v.length?"0"+v:v}return n.toLowerCase()},t.UD=function(t){var i,n,r=t.lk,e=t.$R,s=pm(qh(r,e)),u=s.version,o=s.flags,h=qh(r,e),a=qh(r,e);0===u?(i=ue.fromBits(qh(r,e),0,!0),n=ue.fromBits(qh(r,e),0,!0)):(i=jh(r,e),n=jh(r,e)),e.Ly(2);for(var c=zh(r,e),f=[],v=0;v<c;v+=1){var d=qh(r,e),l=d>>31&1,w=2147483647&d,g=qh(r,e),_=qh(r,e),m=_>>31&1,y=_>>28&7,p=268435455&_;f.push({fM:l,vM:w,ct:g,_M:m,gM:y,pM:p})}return{Km:hm.GR,ED:u,xD:o,mM:h,jD:a,wM:i,yM:n,bM:c,AM:f}},t.jB=function(t){var i,n=t.lk,r=t.$R,e=pm(qh(n,r)),s=e.version,u=e.flags;return i=0===s?ue.fromBits(qh(n,r),0,!0):jh(n,r),{Km:hm.UR,ED:s,xD:u,KB:i}},t}();function bm(t){return t&&"ix"in t?t.ix:t}U(),Et(),xt(),Pt(),U(),Et();var Am=function(t){function i(i,n,r,e,s,u,o,h){var a;return(a=t.call(this,i,n,r,e)||this).DU=void 0,a.BU=void 0,a.MU=void 0,a.OU=void 0,a.DU=s,a.BU=u,a.MU=o,a.OU=h||void 0,a}return Ct(i,t),i.prototype.KO=function(t){return!!Fw(this.RU,t.RU)&&(!!Fw(this.NU,t.NU)&&(!!Fw(this.xU,t.xU)&&(this.LU&&t.LU?!!this.LU.jE(t.LU)&&(this.U&&t.U?this.U.jE(t.U):this.U===t.U):this.LU===t.LU)))},Nt(i,[{key:"RU",get:function(){return this.DU}},{key:"NU",get:function(){return this.BU}},{key:"xU",get:function(){return this.MU}},{key:"LU",get:function(){return this.OU}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return Mw(Wg(t),{get extent(){return t.RU},get styles(){return t.NU},get regions(){return t.xU},get metadata(){return bm(t.LU)},get content(){return bm(t.U)}})}(this)),this.hu}}]),i}(Jg);U(),Et(),xt();var Tm=function(){function t(t,i,n){this.Lf=void 0,this.UU=void 0,this.VU=void 0,this.UU=t,this.VU=i,ow(n)?this.Lf=function(t,i,n){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];n.lx(s)}return n}(0,0,n):this.Lf=n}return Nt(t,[{key:"FU",get:function(){return this.Lf.QE(!0)}},{key:"CO",get:function(){return this.UU}},{key:"RO",get:function(){return this.VU}}]),t}();U(),Et(),Ft();var Sm="http://www.w3.org/XML/1998/namespace";function Em(t,i,n,r){var e=t.tx(n,i);return 0===e.length&&(e=t.ZE(r+":"+i)),e}function Im(t){for(var i,n={},r=Lt(t.nx);!(i=r()).done;){var e=i.value;n[e.WE]=e.XE}return n}var Rm=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Cm=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Pm="http://www.w3.org/ns/ttml";function Dm(t,i,n,r){void 0===n&&(n=T_),void 0===r&&(r=Uv);var e=[],s=_a(t);return r===Vv?e=function(t,i,n){var r=km.PD(t),e=lm(r,hm.WR);if(!e)return[];return Bm(_a(e.lk),i,n)}(s,i,n):r===Uv&&(e=Bm(s,i,n)),e}function Nm(t,i,n){return void 0===n&&(n=T_),Om(t,i,n)}function xm(t,i){for(var n,r={},e=Lt(Hm(i.FU));!(n=e()).done;){var s=n.value;r[s]=t[s]}return r}function Bm(t,i,n){return Om(la(t,new Ta),i,n)}function Om(t,i,n){var r,e=[];try{r=Ui.HE(t)}catch(t){return e}var s=r.mx;if("tt"!==s.WE)return e;var u=s.tx(Pm,"head")[0],o=s.tx(Pm,"body")[0];if(!o||!u)return e;for(var h,a=Lm(s.ox("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,f=function(t){for(var i,n={},r=t.tx(Pm,"styling")[0],e=Lt(r&&r.tx(Pm,"style")||[]);!(i=e()).done;){var s=i.value;n[s.ux(Sm,"id")]=Im(s)}return n}(u),v=function(t){for(var i,n={},r=t.tx(Pm,"layout")[0],e=Lt(r&&r.tx(Pm,"region")||[]);!(i=e()).done;){var s=i.value,u=s.ux(Sm,"id");if(u){n[u]=Im(s);var o=Vm(s);for(var h in o)Oi.call(o,h)&&(n[u][h]=o[h])}}return n}(u),d=a?function(t,i){for(var n,r=Lw(t),e=Lt(k.keys(r));!(n=e()).done;){var s=n.value,u=Lm(r[s].extent);if(u){var o=Mm(u[0],i[0]),h=Mm(u[1],i[1]);r[s].extent=o+" "+h}var a=Lm(r[s].origin);if(a){var c=Mm(a[0],i[0]),f=Mm(a[1],i[1]);r[s].origin=c+" "+f}}return r}(v,a):v,l=u.tx(Pm,"metadata")[0],w=Lt(Fm(o,n.TU,n.kU,n.EU));!(h=w()).done;){var g=h.value,_=xm(d,g);e.push(new Am(g.CO,g.RO,g.FU,!1,c,f,_,l))}return e}function Mm(t,i){return t/i*100+"%"}function Lm(t){if(t){var i=t.split(" ",2);if(2===i.length){var n=i[0],r=i[1];if(Uo(n,"px")&&Uo(r,"px"))return[Number(n.slice(0,-2)),Number(r.slice(0,-2))]}}}function Fm(t,i,n,r){var e,s=function(i){var n=function(t,i,n){for(var r=[],e=0;e<n.length;e++){var s=n[e].CO,u=n[e].RO;(s>=t&&u<=i||s<i&&u>=i||s<t&&u>t)&&r.push(n[e])}return r}(l[i],l[i+1],h);if(n.length<=0&&function(t){if(ow(t)){var i=t.WE.toUpperCase(),n=Boolean(t.ox("smpte:backgroundImage"));return"BR"===i||n}return t.VE===uw.LT}(t)){var r=t.QE(!1);a.push(new Tm(l[i],l[i+1],r))}else if(n.length>0){var e=t.QE(!1);n.forEach(function(t){return e.sx(t.FU)}),a.push(new Tm(l[i],l[i+1],e))}},u=i,o=n,h=[],a=[];if(ow(t)){var c,f;u=null!=(c=Um(t.ox("begin"),r))?c:u,e=Um(t.ox("dur"),0),o=null!=(f=Um(t.ox("end"),r))?f:void 0!==e?u+e:o;for(var v=t.KE,d=0;d<v.length;d++)("body"===t.WE||"div"===t.WE)&&v[d].VE>1||(h=h.concat(Fm(v[d],u,o,r)))}for(var l=function(t,i,n){var r=[];r.push(t,i);for(var e,s=Lt(n);!(e=s()).done;){var u=e.value;r.push(u.CO,u.RO)}r.sort(Bn);for(var o=r.length,h=0;h<o-1;h++)r[h+1]===r[h]&&(qn(r,h+1),h--,o=r.length);return r}(u,o,h),w=0;w<l.length-1;w++)s(w);return a}function Um(t,i){if(t){if(Rm.test(t)){var n=Rm.exec(t);if(!n)return;var r=Number(n[1])||0,e=Number(n[2])||0,s=Number(n[3])||0,u=n[6];return 3600*r+60*e+s+(u?Number(u)*b.pow(.1,u.length):0)+i}if(Cm.test(t)){var o=Cm.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;default:h=NaN}return h+i}}}function Vm(t){for(var i,n={},r=Lt(t.ZE("style")||[]);!(i=r()).done;){var e=Im(i.value);for(var s in e)Oi.call(e,s)&&(n[s]=e[s])}return n}function Hm(t){var i,n=[];if(ow(t)){(i=t.ox("region"))&&n.push(i);for(var r=t.KE,e=0;e<r.length;e++)n=n.concat(Hm(r[e]))}return n}function Wm(t){var i=function(t){try{return Ui.HE(t).mx}catch(t){}}(t);return"tt"===(null==i?void 0:i.WE)}U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et();var zm=function(t){return t.Nh="disabled",t.iC="hidden",t.Kn="showing",t}({});function Xm(t){if("string"==typeof t){var i=t.toLowerCase();switch(i){case"disabled":case"hidden":case"showing":return i}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}U(),Et(),Pt(),U(),Et(),U(),Et();var qm=function(t){return t.ma="error",t}({});function Gm(){}function jm(t){var i,n=[Nw.pa,Nw.xI,Nw.uI,Nw.dI,Nw._I,Nw.pI,Nw.fI,Nw.wI,Nw.AI,Nw.kI],r=[qm.ma],e={get kind(){return t.Lt},get label(){return t.Th},set label(i){t.Th=Gw(i)},get language(){return t.bs},get id(){return t.o},get uid(){return t.JI},get inBandMetadataTrackDispatchType(){return t.eC},get mode(){return t.Qk},set mode(i){i!==zm.Kn&&i!==zm.iC&&i!==zm.Nh||t.sC(i)},get forced(){return Boolean(t.nC)},get accessibility(){var i,n;return null!=(n=null==(i=t.ZI)?void 0:i.map(Zw))?n:[]},get type(){return t.Km},get readyState(){return t.AP},get cues(){return t.Qk===zm.Nh?null:t.L.Ca},get activeCues(){return t.Qk===zm.Nh?null:t.q.Ca},get src(){return t.rC||""},addEventListener:function(t,n){var r=Qw(t,Gw);i.wn(r,n)},removeEventListener:function(t,n){var r=Qw(t,Gw);i.mn(r,n)}};return i=new ih(t),t.wn(n,function(t){return i.So(t.Ca)}),t.wn(r,function(t){return i.So(t)}),k.defineProperty(e,"constructor",{value:Gm}),e}function Qm(){}function Ym(t){var i=Kw(t);return k.defineProperty(i,"constructor",{value:Qm}),i}var Km=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.tt=function(i){return t.prototype.tt.call(this,i)},n.it=function(i){var n=t.prototype.it.call(this,i);return n&&(i.Qk=zm.Nh),n},n.xa=function(){return Ym(this)},i}(xw);U(),Et(),Ft(),U(),Et();var Jm=function(t){return t.HU="subtitles",t.WU="captions",t.qU="descriptions",t.Yn="chapters",t.zU="metadata",t.GU="thumbnails",t}({}),Zm=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function $m(t){return"string"==typeof t&&jn(Zm,t)}function ty(t,i){return!(!$m(t)||!$m(i))&&(t===i||"subtitles"===t&&"captions"===i||"captions"===t&&"subtitles"===i)}U(),Et(),Pt();var iy=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return Ct(i,t),i}(ld);function ny(t){return t.some(ry)}function ry(t){return Lo(t,"stpp")}function ey(t){return t.some(sy)}function sy(t){return Lo(t,"vtt")||Lo(t,"wvtt")}function uy(t,i){return Xv(t)&&ey(i)}function oy(t,i){return t===Jm.GU||t===Jm.zU&&i===Jm.GU}function hy(t,i,n,r){for(var e,s=Lt(t.L.NI);!(e=s()).done;){var u=e.value;if(u.CO>n)break;i<=u.RO&&!jn(r,u)&&r.push(u)}}function ay(t,i){return xn(t.JI,i.JI)}function cy(t,i,n,r){var e=function(t){switch(t){case Ng.WEBVTT:return"WebVTT";case Ng.SRT:return"SRT";case Ng.TTML:return"TTML";default:return""}}(t);return new iy(vd.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",i,n,r)}function fy(t,i){for(var n,r=[],e=Lt(t.L.NI);!(n=e()).done;){var s=n.value;if(s.RO<=i)r.push(s);else if(s.CO>=i)break}for(var u,o=Lt(r);!(u=o()).done;){var h=u.value;t.XU(h)}}function vy(t,i){if(t.V>0)for(var n,r=t.Tn(0),e=b.max(0,r-10),s=Lt(i);!(n=s()).done;){n.value.jU(e)}}var dy=function(t){function i(i){var n;return(n=t.call(this)||this).iV=void 0,n.Z=new Km,n.QU=0,n.KU=function(t){var i=t.Ht;n.YU(i)},n.iV=i,n}Ct(i,t);var n=i.prototype;return n.tt=function(t){t.wn(Nw.pa,this.KU),t.EU=this.EU,this.Z.tt(t),this.YU(t)},n.it=function(t){t.mn(Nw.pa,this.KU),t.Qk=zm.Nh,this.Z.it(t)},n.JU=function(t){},n.ZU=function(t){},n.YU=function(t){t.Qk!==zm.Nh?this.JU(t):this.ZU(t)},n.$U=function(){for(var t,i=Lt(this.Z.NI);!(t=i()).done;){var n=t.value;n.mn(Nw.pa,this.KU),n.kn()}},n.jU=function(t){if(t>0)for(var i,n=Lt(this.Z.NI);!(i=n()).done;){fy(i.value,t)}},n.tV=function(t){var i=this.iV;if(t!==i){this.iV=t;for(var n,r=Lt(this.Z.NI.slice());!(n=r()).done;){var e=n.value,s=this.eV(e,i,t);e!==s&&(this.it(e),this.tt(s),e.kn())}}},n.hr=function(){return this.$U(),this.Z.hr(),ut.resolve()},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.hr()];case 1:return t.sent(),this.Z.kn(),[2]}})}).call(this)},Nt(i,[{key:"EU",get:function(){return this.QU},set:function(t){this.QU=t;for(var i,n=Lt(this.Z.NI);!(i=n()).done;){i.value.EU=t}}}]),i}(th);function ly(t,i,n){var r=n.sI(t.Lt,t.o,t.Th,t.bs,t.sV,t.Km,t.nC,t.ZI);r.rC=t.rC,r.AP=t.AP,r.eC=t.eC,r.EU=t.EU;for(var e,s=Lt(t.L.NI.slice());!(e=s()).done;){var u=e.value;t.XU(u),r.nV(u)}return r.Qk=t.Qk,i.rV(t),r}U(),Et(),xt(),Pt();var wy=function(t){function i(i){var n;return(n=t.call(this,qm.ma)||this).errorObject=void 0,n.errorObject=i,n}return Ct(i,t),i.prototype.xa=function(){return this},Nt(i,[{key:"error",get:function(){return this.errorObject.message}}]),i}(Aw),gy=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).aV=void 0,r.uV=new hr,r.aV=n,r}Ct(i,t);var n=i.prototype;return n.hV=function(t){if(t.src){var i=t.kind||Jm.HU,n=this.iV.sI(i,t.id,t.label,t.srclang,t.default);return n.rC=Rl(t.src),this.tt(n),n}},n.oV=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:t.AP=Dg.LOADING,n=new Al({Yu:t.rC,fk:Ud.LT,Hk:ml.GET,Yg:i}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,this.aV.vk(n)];case 2:return s=d.sent(),e=s.dk,[4,s.HT()];case 3:return r=d.sent(),[3,5];case 4:return lr(u=d.sent()),t.AP=Dg.ERROR,t.So(new wy(function(t,i){var n=i,r=0;if(Ql(t)&&t.name===Nl.rE)n=t.vk.Yu;else if(Yl(t)){var e=t.uE;if(n=e.wk,0===(r=e.dk))return new iy(vd.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",n,r,t)}return new iy(vd.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",n,r,t)}(u,t.rC))),[2];case 5:try{for(o=function(t){return q_(t)?Ng.WEBVTT:Wm(t)?Ng.TTML:Ng.SRT}(r),t.Km=o,h=[],o===Ng.WEBVTT||o===Ng.SRT?(a=x_(r),h=a.L):o===Ng.TTML&&(h=Nm(r,t)),c=Lt(h);!(f=c()).done;)v=f.value,t.nV(v)}catch(i){return lr(i),t.AP=Dg.ERROR,t.So(new wy(cy(t.Km,t.rC,e,i))),[2]}return t.AP=Dg.LOADED,[2]}})}).call(this)},n.JU=function(t){jn(this.Z.NI,t)&&t.AP===Dg.NONE&&this.oV(t,this.uV.Yg).catch(wr)},n.Un=function(){},n.eV=function(t,i,n){return ly(t,i,n)},n.hr=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:for(this.uV.Zg(),this.uV=new hr,n=Lt(this.Z.NI);!(r=n()).done;)e=r.value,this.iV.rV(e);return[4,t.prototype.hr.call(i)];case 1:return s.sent(),[2]}})}).call(this)},i}(dy);function _y(t){return"TXXX"===t.id||"TXX"===t.id}U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et();var my=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).dV=void 0,r.pV=void 0,r.bV=void 0,r.lV=void 0,r.yV=void 0,r.fV=void 0,r.wV=void 0,r.dV=n,r.pV=Zu(),r.bV=function(t){t.mn(Nw.kI,r.lV),t.Km?t.Km===Ng.ID3&&(t.mn(Nw.uI,r.yV),0!==t.L.V?r._V(t):t.wn(Nw.uI,r.yV)):t.wn(Nw.kI,r.lV)},r.lV=function(t){r.bV(t.Ht)},r.yV=function(t){r.bV(t.PO.Ht)},r.fV=function(t){var i=t.Ht;if(i.Km===Ng.ID3&&r.pV.has(i.JI)){var n=r.pV.get(i.JI);r.it(n),r.iV.rV(n),i.mn(Nw.kI,r.lV),i.mn(Nw.uI,r.yV),i.mn(Nw.uI,r.wV)}},r.wV=function(t){yy(t.PO)&&r.mV(t.PO)},r.cV(),r}Ct(i,t);var n=i.prototype;return n.cV=function(){this.dV.wn(Iw.rI,this.lV),this.dV.wn(Iw.oI,this.fV)},n.vV=function(){this.dV.mn(Iw.rI,this.lV),this.dV.mn(Iw.oI,this.fV)},n._V=function(t){var i=t.L.NI[0];if(yy(i)){var n=function(t){var i=t.match(py);if(!i)return;return{Ht:i[1],bs:i[2]}}(i.U.description),r=n.Ht,e=n.bs;if(!this.gV(r,e)){var s=this.iV.sI(Jm.HU,t.o,r,e,!1,Ng.TTML);this.tt(s),this.pV.set(t.JI,s);for(var u,o=Lt(t.L.NI);!(u=o()).done;){var h=u.value;yy(h)&&this.mV(h)}t.wn(Nw.uI,this.wV)}}},n.gV=function(t,i){return this.Z.NI.some(function(n){return n.Th===t&&n.bs===i})},n.mV=function(t){if(t.Ht)for(var i,n=this.pV.get(t.Ht.JI),r=Lt(Nm(t.U.text,n,{TU:0,kU:1/0,EU:t.CO}));!(i=r()).done;){var e=i.value;n.nV(e)}},n.eV=function(t,i,n){var r=this,e=ly(t,i,n);return this.pV.forEach(function(i,n){i===t&&r.pV.set(n,e)}),e},n.hr=function(){var i=this;return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(n=Lt(this.dV.NI);!(r=n()).done;)(e=r.value).mn(Nw.kI,this.lV),e.mn(Nw.uI,this.yV),e.mn(Nw.uI,this.wV);for(s=Lt(this.Z.NI);!(u=s()).done;)o=u.value,this.iV.rV(o);return this.pV.clear(),[4,t.prototype.hr.call(i)];case 1:return h.sent(),[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.vV(),[4,t.prototype.kn.call(i)];case 1:return n.sent(),[2]}})}).call(this)},i}(dy);function yy(t){return function(t){return _y(t)&&py.test(t.description)}(t.U)}var py=/^Track:(.+),Lang:(.+)$/;function ky(t,i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;if(e.Lt===i&&e.sV)return e}}function by(t,i){Ay(ky(t.NI,i))}function Ay(t){void 0!==t&&(t.Qk=zm.Kn)}function Ty(t,i){var n=ky(t.NI,i)||function(t,i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;if(e.Lt===i)return e}}(t.NI,i);Ay(n)}function Sy(t){for(var i,n=Lt(Zm);!(i=n()).done;){var r=i.value;r===Jm.Yn?Ty(t,r):by(t,r)}}U(),Et(),Ft(),U(),Et(),Pt();var Ey=function(t){function i(){return t.call(this,eh.Jw)||this}return Ct(i,t),i}(rh);U(),Et(),U(),Et();var Iy=function(t){return t[t.AV=0]="AV",t[t.SV=1]="SV",t}({});U(),Et();var Ry=function(t){return t.SM="canplay",t.TM="canplaythrough",t.kM="loadeddata",t.EM="loadedmetadata",t.AI="readystatechange",t.xM="waiting",t.PM="playing",t}({}),Cy=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];U(),Et(),xt(),Pt(),U(),Et(),Pt();var Py=function(t){function i(i,n){var r;return(r=t.call(this,Ry.AI)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=i,r.readyState=n,r}return Ct(i,t),i}(rh);U(),Et();var Dy=function(t){return t[t.zL=0]="zL",t[t.Qn=1]="Qn",t[t.GL=2]="GL",t[t.XL=3]="XL",t[t.jL=4]="jL",t}({});U(),Et(),Pt();var Ny=function(t){function i(i,n){var r;return void 0===n&&(n=Dy.Qn),(r=t.call(this,Ry.EM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=i,r.readyState=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var xy=function(t){function i(i,n){var r;return void 0===n&&(n=Dy.GL),(r=t.call(this,Ry.kM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=i,r.readyState=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var By=function(t){function i(i){var n;return(n=t.call(this,Ry.xM)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var Oy=function(t){function i(i,n){var r;return void 0===n&&(n=Dy.XL),(r=t.call(this,Ry.SM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=i,r.readyState=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var My=function(t){function i(i,n){var r;return void 0===n&&(n=Dy.jL),(r=t.call(this,Ry.TM)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=i,r.readyState=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var Ly=function(t){function i(i){var n;return(n=t.call(this,Ry.PM)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh),Fy=[Ry.AI,Ry.PM,eh.uo,eh.jw],Uy=function(t){function i(i,n){var r;return void 0===n&&(n=!1),(r=t.call(this)||this).DV=void 0,r.CV=void 0,r.RV=void 0,r.FV=void 0,r.xV=void 0,r.kV=void 0,r.qV=void 0,r.HV=void 0,r.WV=void 0,r.VV=void 0,r.DV=i,r.CV=n,r.RV=Dy.zL,r.FV=!0,r.xV=!1,r.kV=!1,r.qV=function(t){var i=r.DV.zx,n=r.DV.AP;n!==r.RV&&r.So(new Py(i,n)),n===Dy.zL&&(r.xV=!1,r.kV=!1),r.TV(i,n),r.EV(i,n),r.LV(i,n),r.OV(i,n),r.PV(i,n),r.BV(i,n),r.RV=n},r.HV=function(){var t=r.DV.zx;r.BV(t,r.RV),r.PV(t,r.RV),r.FV=r.DV.lP},r.WV=function(){r.FV=r.DV.lP},r.VV=function(){r.So(new Ly(r.DV.zx))},r.DV.wn(Ry.AI,r.qV),r.DV.wn(eh.uo,r.HV),r.DV.wn(eh.jw,r.WV),r.CV&&r.DV.wn(Ry.PM,r.VV),r}Ct(i,t);var n=i.prototype;return n.TV=function(t,i){!this.kV&&i>=Dy.Qn&&(this.kV=!0,this.So(new Ny(t,i)))},n.EV=function(t,i){!this.xV&&i>=Dy.GL&&(this.xV=!0,this.So(new xy(t,i)))},n.PV=function(t,i){this.CV||(i>=Dy.XL&&this.RV<Dy.XL&&!this.DV.lP||this.NV&&i>=Dy.XL)&&this.So(new Ly(t))},n.BV=function(t,i){!this.MV(i)||this.DV.Qx||this.DV.lt||this.So(new By(t))},n.LV=function(t,i){this.RV<=Dy.GL&&i>=Dy.XL&&this.So(new Oy(t,i))},n.OV=function(t,i){i===Dy.jL&&this.So(new My(t,i))},n.MV=function(t){var i=!this.DV.lP&&t<=Dy.GL,n=!this.FV&&this.RV<=Dy.GL;return i&&!n},n.hr=function(){this.RV=Dy.zL,this.FV=!0,this.xV=!1,this.kV=!1},n.kn=function(){this.Vo(),this.CV&&this.DV.mn(Ry.PM,this.VV),this.DV.mn(eh.uo,this.HV),this.DV.mn(eh.jw,this.WV),this.DV.mn(Ry.AI,this.qV)},Nt(i,[{key:"NV",get:function(){return!this.DV.lP&&this.FV}}]),i}(th);U(),Et(),xt(),Pt();var Vy=function(t){function i(i,n){var r;return(r=t.call(this)||this).oa=void 0,r.PL=void 0,r.oa=i,r.PL=n,r.PL.wn(Fy,r.Rs),r}Ct(i,t);var n=i.prototype;return n.zg=function(){this.Vo(),this.PL.mn(Fy,this.Rs)},n.zV=function(){this.So(new Py(this.zx,this.AP))},Nt(i,[{key:"zx",get:function(){return this.oa.zx}},{key:"Qx",get:function(){return this.oa.Qx}},{key:"lt",get:function(){return this.PL.lt}},{key:"lP",get:function(){return this.PL.lP}},{key:"AP",get:function(){return this.oa.AP}}]),i}(th);U(),Et(),U(),Et();var Hy="titanium",Wy="conax",zy="ezdrm",Xy="irdeto",qy="vudrm",Gy="verimatrix",jy="keyos",Qy="drmtoday",Yy="expressplay",Ky="azure",Jy="xstream",Zy="vimond",$y="axinom",tp="uplynk",ip="comcast",np="custom";U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Qt();var rp=function(){function t(t,i,n,r,e){this.xS=void 0,this.lH=void 0,this.fH=void 0,this.YV=void 0,this.aV=void 0,this.XV=void 0,this.dH=void 0,this.xS=t,this.lH=i,this.fH=n,this.aV=r,this.dH=e,this.YV=this.vH(i)}var i=t.prototype;return i.GV=function(){return this.XV},i.jV=function(t){this.XV=t},i.JV=function(){return this.YV.licenseAcquisitionURL||this.GV()},i.$V=function(t){return ut.resolve()},i.tH=function(t,i){return ut.resolve(void 0)},i.iH=function(t,i,n,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:if(""===(e=this.eH(t,i,n,r)).Yu)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");u.label=1;case 1:return u.trys.push([1,4,,6]),[4,this.Dx.vk(e)];case 2:return[4,u.sent().WT(i)];case 3:return[2,u.sent()];case 4:return lr(s=u.sent()),[4,this.sH(s,e.Yu,r)];case 5:return u.sent(),[2];case 6:return[2]}})}).call(this)},i.eH=function(t,i,n,r){var e=this.nH().OT(),s=this.Xk,u={Yu:this.rH(),fk:i,_k:e,XT:t,Xk:s,Hk:ml.POST,Wk:0,Yg:r,Km:yl.Tk,zk:n};return new Al(u)},i.hH=function(t,i){return ut.resolve(t)},i.oH=function(t,i,n,r){return ut.resolve(t)},i.nH=function(){return new Vd(this.YV.headers||{})},i.sH=function(t,i,n){return Vt(function(){return zt(this,function(i){throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)})})()},i.rH=function(t,i){var n=i,r=this.YV.queryParameters;if(!n){var e=this.JV();if(!e)return"";n=e}if(r||t){var s=Ui.Dh(n);t&&Il(s,t),r&&Il(s,r),n=s.href}return n},i.aH=function(t,i){return ep(t)},i.uH=function(t){return new E(t)},i.cH=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.aH(t,n)];case 1:return r=s.sent(),[4,this.iH(r,this.dH,i,n)];case 2:return e=s.sent(),[2,this.uH(e)]}})}).call(this)},i.kn=function(){},Nt(t,[{key:"Dx",get:function(){return this.aV}},{key:"QV",get:function(){return!1}},{key:"KV",get:function(){var t=this.YV.certificate;if(t)return Xi(t)?mh(t):pa(t)}},{key:"ZV",get:function(){return!1}},{key:"Xk",get:function(){return Boolean(this.YV.useCredentials)}}]),t}();function ep(t){return ut.resolve(ba(t).buffer)}var sp,up=function(t){function i(i,n,r,e){return t.call(this,Ro,i,n,r,e)||this}Ct(i,t);var n=i.prototype;return n.vH=function(t){return t.widevine||{}},n._H=function(t,i){return Vt(function(){return zt(this,function(n){return this.KV?[2,this.KV]:[2,this.gH(new E(t),i)]})}).call(this)},n.gH=function(i,n){return t.prototype.cH.call(this,i,pl.Ik,n)},i}(rp);function op(t,i){if(null==t)return{};var n,r,e={},s=k.keys(t);for(r=0;r<s.length;r++)n=s[r],i.indexOf(n)>=0||(e[n]=t[n]);return e}function hp(t){return Li(t.token&&t.deviceId)}function ap(t){var i,n=null==(i=t.fairplay)?void 0:i.headers;return void 0!==n&&Li(n.PreAuthorization)}function cp(t){var i=t;return hp(i)&&""!==i.token&&""!==i.deviceId&&!ap(i)}U(),Et(),U(),Et(),Wt(),U(),Et(),Ft(),Qt(),U(),Et(),U(),Et(),Ft(),U(),Et(),function(t){t.AC=!1,t.SC=!1,t.TC=!1,t.kC=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.EC=!1,t.xC=!1,t.LOG_LCEVC_DETAILS=!1}(sp||(sp={})),U(),Et(),xt();var fp=function(){function t(t,i,n){this.RC=void 0,this.yS=void 0,this.NC=void 0,this.RC=t,this.yS=i,this.NC=n}return t.prototype.DC=function(t){return function(t){var i=t.onCertificateRequest;if(void 0!==i&&"function"!=typeof i)throw new p("ContentProtectionIntegration.onCertificateRequest is not a function.");var n=t.onCertificateResponse;if(void 0!==n&&"function"!=typeof n)throw new p("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new p("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new p("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new p("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.NC.build(t))},Nt(t,[{key:"IC",get:function(){return this.RC}},{key:"xS",get:function(){return this.yS}}]),t}();U(),Et();var vp=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),dp=function(){function t(){this.MC=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,n){switch(this.BC(t,i,n)){case vp.FAILED:throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case vp.OVERRIDDEN:var r=Pp(i);Ui.um("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case vp.SUCCEEDED:Pp(i);0}},i.BC=function(t,i,n){var r=Pp(i);if(!r)return vp.FAILED;for(var e,s=vp.SUCCEEDED,u=Lt(this.MC.slice());!(e=u()).done;){var o=e.value;o.IC===t&&o.xS===r&&(s=vp.OVERRIDDEN,Xn(this.MC,o))}return this.MC.push(new fp(t,r,n)),s},i.LC=function(t,i){return void 0!==this.OC(t,i)},i.FC=function(t,i,n){var r=this.OC(t,i);if(!r)throw y("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+i);return r.DC(n)},i.OC=function(t,i){for(var n,r=Lt(this.MC);!(n=r()).done;){var e=n.value;if(e.IC===t&&(!i||e.xS===i))return e}},t}();dp.VC=new dp;var lp={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function wp(t){if(!t)return!0;var i=t.licenseAcquisitionURL,n=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters;return!(i||n||r||e||s||u)}function gp(t){return t&&void 0!==t.licenseAcquisitionURL}var _p=gp,mp=gp;function yp(t){if(!t)return!0;if(Ap(t))return!1;var i=t.fairplay,n=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return wp(i)&&wp(n)&&wp(r)&&void 0===e&&wp(s)}function pp(t){var i=cp(t),n=function(t){var i,n=t;return ap(n)&&""!==(null==(i=n.fairplay)?void 0:i.headers.PreAuthorization)&&!hp(n)}(t);return(!i||!n)&&(i||n)}function kp(t){return t.integration===Xy}function bp(t){var i=t;if(!i)return!1;if(yp(i))return!1;var n=i.fairplay,r=i.playready,e=i.widevine,s=i.clearkey;if(Ap(t))return!0;if(n&&!function(t){var i=t;return i&&(void 0!==i.certificateURL||void 0!==i.certificate)}(n))return!1;if(r&&!_p(r))return!1;if(e&&!mp(e))return!1;if(s&&!function(t){return void 0!==t}(s))return!1;if(i.integration){if(dp.VC.LC(i.integration))return!0;switch(i.integration){case Hy:if(!function(t){var i=t,n=i.integration===Hy;return n&&(Tp(t)||Sp(t))}(t))return!1;break;case qy:if(!Ep(t))return!1;break;case Gy:if(!function(t){var i=t;return i.integration===Gy}(t))return!1;break;case Xy:if(!kp(t))return!1;break;case Wy:if(!pp(t))return!1;break;case zy:if(!function(t){var i=t;return i.integration===zy}(t))return!1;break;case jy:if(!Ap(t))return!1;break;case Qy:if(!function(t){var i=t;return i.integration===Qy&&(void 0!==i.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(i))}(t))return!1;break;case Yy:if(!function(t){var i=t;return i.integration===Yy}(t))return!1;break;case Jy:if(!Ip(t))return!1;break;case Zy:if(!function(t){return t.integration===Zy}(t))return!1;break;case $y:if(!Rp(t))return!1;break;case Ky:if(!function(t){var i=t;return i.integration===Ky&&void 0!==i.token}(t))return!1;break;case tp:if(!function(t){var i=t;return i.integration===tp}(t))return!1;break;case ip:if(!function(t){var i=t;return i&&Li(i.releasePid)&&Li(i.accountId)&&Li(i.token)}(t))return!1;break;case np:return!0;default:return!1}}return!0}function Ap(t){return t.integration===jy}function Tp(t){return void 0!==t.authToken}function Sp(t){var i=t;return void 0!==i.accountName&&void 0!==i.customerName&&void 0!==i.portalId}function Ep(t){var i=t;return i.integration===qy&&void 0!==i.token}function Ip(t){var i=t;return i&&i.integration===Jy&&Xi(i.ticketAcquisitionURL)&&Xi(i.streamId)}function Rp(t){var i=t;return i.integration===$y&&void 0!==i.token}function Cp(t,i){var n,r,e,s=i[t],u=null!=(n=null==s?void 0:s.licenseAcquisitionURL)?n:lp[t],o=null!=(r=null==s?void 0:s.customdata)?r:i.customdata,h=o?{customData:o}:{},a=Yu({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return Yu({},op(c,["customdata"]),{licenseAcquisitionURL:u,headers:a})}function Pp(t){switch(t.toLowerCase()){case"widevine":case wo:return wo;case"playready":case fo:return fo;case"fairplay":case Ao:return Ao}}function Dp(t,i){switch(t){case uo:return function(t){for(var i,n={},r=Lt(km.ND(new DataView(t)));!(i=r()).done;){var e=i.value;n[e.uM]=e.lM}return n}(i);case oo:case ho:return function(t){var i;return i={},i[bo]=t,i}(i);case ao:return function(t){var i;return i={},i[po]=t,i}(i);default:throw new ld(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Np(t,i){return void 0===i&&(i=!1),Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return(n=t.widevine)?[4,Ui.Am()]:[3,2];case 1:n=u.sent(),u.label=2;case 2:return n?[2,!0]:(r=t.playready)?[4,Ui.ym()]:[3,4];case 3:r=u.sent(),u.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,Ui.pm()]:[3,6];case 5:e=u.sent(),u.label=6;case 6:return e?[2,!0]:(s=!i&&t.fairplay)?[4,Ui.wm()]:[3,8];case 7:s=u.sent(),u.label=8;case 8:return s?[2,!0]:[2,!1]}})})()}var xp=function(t){return t.zm="Widevine",t.pH="PlayreadyV2",t.mH="PlayreadyV3",t.qm="PlayreadyV2",t.jm="Fairplay",t}({}),Bp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Op(t,i){var n,r,e,s,u=Bp[i],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(n=Ui.Em)?void 0:n.Zs,OSVersion:null==(r=Ui.Em)?void 0:r.Lm,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=Ui.Em)?void 0:e.Om,DeviceModel:null==(s=Ui.Em)?void 0:s.Fm}}}function Mp(t,i){if(!t.accountName)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Lp(t,i,n){var r;if(Tp(t))r={AuthToken:t.authToken,Payload:i};else{if(!Sp(t))throw Mp(t,n);r={LatensRegistration:Op(t,n),Payload:i}}return La(JSON.stringify(r))}function Fp(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(!(r=t.uE))throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.VT(n)];case 2:return s=o.sent(),u=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(s),[3,4];case 3:return o.sent(),u="",[3,4];case 4:throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.vk.Yu,e.dk,e.gk,u)}})})()}U(),Et(),Wt(),Qt();var Up=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r,Ud.BT)||this).yH=void 0,e}Ct(i,t);var n=i.prototype;return n.sH=function(t,i,n){return Fp(t,i,n)},n.$V=function(t){return this.yH?gr(this.yH.Yy,t):(this.yH=new Va,ut.resolve())},n.aH=function(t,i){return Vt(function(){var i,n;return zt(this,function(r){if(!(i=this.lH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return n=kh(t),[2,Lp(i,n,xp.zm)]})}).call(this)},n.uH=function(t){if(!t.license)throw new ug(vd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return mh(t.license)},n.bH=function(t){return ut.resolve(new E(t))},n._H=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return this.AH(),[4,this.aH(t,i)];case 1:return n=e.sent(),[4,this.iH(n,Ud.NT,pl.Ck,i)];case 2:return r=e.sent(),[4,this.bH(r)];case 3:return[2,e.sent()]}})}).call(this)},n.gH=function(i,n){var r=this;return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,t.prototype.gH.call(r,i,n)];case 1:return e=s.sent(),this.AH(),[2,e]}})}).call(this)},n.AH=function(){this.yH||(this.yH=new Va),this.yH.Qy()},n.kn=function(){this.yH&&this.yH.Zg(),t.prototype.kn.call(this)},i.wH=function(){return Ui.Zs.yp?"required":"optional"},i}(up);U(),Et(),Wt(),xt(),Pt(),Qt();var Vp=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r,Ud.NT)||this).jV("https://widevine-proxy.drm.technology/proxy"),e}return Ct(i,t),i.prototype.aH=function(t,i){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,ep(t)];case 1:if(i=s.sent(),n=this.fH,r=Aa(new E(i)),void 0===(e=this.SH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:e,drm_info:r,kid:n})]}})}).call(this)},Nt(i,[{key:"SH",get:function(){if(Ep(this.lH))return this.lH.token}}]),i}(up);function Hp(t,i){var n=i||{};return t.ticket&&t.sessionId&&(n=Yu({},n,{SessionId:t.sessionId,Ticket:t.ticket})),Yu({},n,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}U(),Et(),Pt(),U(),Et();var Wp=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r,Ud.NT)||this).jV("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return Ct(i,t),i.prototype.rH=function(i,n){var r=i;return kp(this.lH)&&(r=Hp(this.lH,r)),t.prototype.rH.call(this,r,n)},i}(up);U(),Et(),Pt(),U(),Et();var zp="Conax-Custom-Data";function Xp(t,i,n){var r=t&&pp(t)&&t;if(r&&!n.has(zp)){var e=cp(r)?r.token:void 0,s=cp(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:i+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});n.set(zp,u)}return n}var qp=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r,Ud.NT)||this).jV("https://connect.conax.com:8094/license"),e}return Ct(i,t),i.prototype.nH=function(){var i=t.prototype.nH.call(this);return Xp(this.lH,"Widevine",i)},i}(up);function Gp(t){var i=ua(new E(t));return mh(JSON.parse(i).license)}function jp(t){return"string"==typeof t.token?t.token:La(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Qp(t,i,n){var r;return r=n.token?"x-dt-auth-token":"dt-custom-data",t.set(r,i),t}U(),Et(),xt(),Pt(),U(),Et();var Yp=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r,Ud.NT)||this).jV("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Ct(i,t);var n=i.prototype;return n.uH=function(t){return Gp(t)},n.nH=function(){return Qp(t.prototype.nH.call(this),this.SH,this.lH)},Nt(i,[{key:"SH",get:function(){return jp(this.lH)}}]),i}(up);U(),Et(),Pt();var Kp=function(t){function i(i,n,r){return t.call(this,i,n,r,Ud.NT)||this}return Ct(i,t),i.prototype.nH=function(){var i=t.prototype.nH.call(this),n=this.lH.token;return i.set("Authorization","Bearer "+n),i},i}(up);function Jp(t,i,n,r){return Vt(function(){var e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:if(!Ip(t))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Vd).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(s=t.sessionId)&&e.append("XSSESSION",s),u=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:o,streamId:u},a={Yu:t.ticketAcquisitionURL,fk:Ud.BT,_k:e,Hk:ml.POST,XT:JSON.stringify(h),Yg:r},[4,n.vk(a)];case 1:return[4,c.sent().VT()];case 2:return[2,c.sent()]}})})()}U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Qt();var Zp=function(t){function i(i,n,r){return t.call(this,i,n,r,Ud.BT)||this}Ct(i,t);var n=i.prototype;return n.nH=function(){var i=t.prototype.nH.call(this);return i.set("Content-Type","application/json"),i},n.aH=function(i,n){var r=this;return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=Ma(i.buffer),[4,Jp(this.lH,"widevine_modular",this.Dx,n)];case 1:return s=o.sent(),this.jV(s.licenseServerUrl),u=oa(JSON.stringify({payload:e,ticket:s.ticket})),[2,t.prototype.aH.call(r,u,n)]}})}).call(this)},n.uH=function(t){return mh(t.license)},i}(up);U(),Et(),Pt();var $p=function(t){function i(i,n,r){return t.call(this,i,n,r,Ud.NT)||this}return Ct(i,t),i.prototype.nH=function(){if(!Rp(this.lH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nH.call(this);return i.set("X-AxDRM-Message",this.lH.token),i},i}(up);function tk(t){for(var i=new E(2*t.length),n=0;n<t.length;n+=1)i[2*n]=t.charCodeAt(n),i[2*n+1]=0;return i}U(),Et(),Wt(),Pt(),Ft(),Qt();var ik=function(t){function i(i,n,r){var e;return(e=t.call(this,Io,i,n,r,Ud.NT)||this).TH=void 0,e}Ct(i,t);var n=i.prototype;return n.vH=function(t){return t.playready||{}},n.nH=function(){var i=new Vd(this.TH);return i.UT(t.prototype.nH.call(this)),i},n.kH=function(t){return t.length>=1&&t[0].KE.length>0},n.tH=function(i){var n=this.lH.playready.customData;if(n){var r=tk(n),e=tk('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+kh(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ut.resolve({playready:{GS:e}})}return t.prototype.tH.call(this,i)},n.aH=function(t,i){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,ep(t)];case 1:return i=n.sent(),[2,this.EH(i)]}})}).call(this)},n.EH=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_;return zt(this,function(m){r=null,e=new DataView(t),s=ra(e,new Ta,!0);try{u=Ui.HE(s)}catch(t){return[2,r]}for(o=null==(i=u.ZE("PlayReadyKeyMessage")[0])?void 0:i.ZE("LicenseAcquisition")[0],a=null!=(h=null==o?void 0:o.ZE("Challenge"))?h:[],this.kH(a)&&(r=Oa(a[0].hx)),c=new Vd,v=null!=(f=null==o||null==(n=o.ZE("HttpHeaders")[0])?void 0:n.ZE("HttpHeader"))?f:[],d=Lt(v);!(l=d()).done;)w=l.value,g=w.ZE("name")[0].hx,_=w.ZE("value")[0].hx,c.append(g,_);return this.TH=c,[2,r]})}).call(this)},n._H=function(t,i){return ut.resolve(t)},n.gH=function(i,n){return t.prototype.cH.call(this,i,pl.Rk,n)},i}(rp);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),xt();var nk=function(){function t(i){this.IH=void 0,this.XA=void 0,this.IH=i,this.XA=t.xH(i)}return t.prototype.PH=function(){var t={};if(this.XA===xp.mH){var i={LatensRegistration:Op(this.IH,xp.mH)};t["X-TITANIUM-DRM-CDATA"]=La(JSON.stringify(i))}return t},t.xH=function(t){return"3"===t.version?xp.mH:xp.pH},Nt(t,[{key:"CH",get:function(){return this.XA}},{key:"FS",get:function(){return this.XA===xp.pH}}]),t}();var rk=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).RH=void 0,e.RH=new nk(e.lH),e}Ct(i,t);var n=i.prototype;return n.tH=function(t){var i=this.lH;if(!this.lH)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Sp(i)){var n={};return n.playready={GS:ek(i,this.RH.CH)},ut.resolve(n)}return ut.reject(Mp(i,xp.qm))},n.nH=function(){var i=new Vd(this.RH.PH());return i.UT(t.prototype.nH.call(this)),i},n.sH=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:if(!(r=t.uE))throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.qT(n)];case 2:return u=f.sent(),o=ua(new E(u)),(h=Ui.HE(o))&&(a=function(t,i){return function(t,i){for(var n=t.m.slice(),r=[];n.length>0;){var e,s=n.shift();i(s)?r.push(s):(e=n).push.apply(e,[].concat(s.m))}return r}(t,function(t){return t.$E===i})}(h,"CustomData"),a.length>0&&(e=JSON.parse(a[0].hx),s=null==(c=e.DrmErr)?void 0:c.desc)),[3,4];case 3:return f.sent(),[3,4];case 4:throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,r.dk,r.gk,s)}})})()},n.kH=function(t){if(1!==t.length)throw new ug(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(ik);function ek(t,i){var n=Op(t,i),r=n.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+La('<LatensRegistration formatversion="'+r+'"><AccountName>'+n.AccountName+"</AccountName><CustomerName>"+n.CustomerName+"</CustomerName><PortalID>"+n.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+n.DeviceInfo.DeviceType+"</DeviceType><OSType>"+n.DeviceInfo.OSType+"</OSType><OSVersion>"+n.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+n.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+n.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+n.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+n.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+n.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),s=aa(e,!0);return aa('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+kh(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}U(),Et(),xt(),Pt();var sk=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).jV("https://playready-license.drm.technology/rightsmanager.asmx"),e}Ct(i,t);var n=i.prototype;return n.kH=function(t){if(1!==t.length)throw new ug(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},n.rH=function(i,n){var r=Yu({},i||{},{token:this.SH});return t.prototype.rH.call(this,r,n)},Nt(i,[{key:"SH",get:function(){if(Ep(this.lH))return this.lH.token}}]),i}(ik);U(),Et(),Pt();var uk=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).jV("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Ct(i,t),i.prototype.rH=function(i,n){var r=i;return kp(this.lH)&&(r=Hp(this.lH,r)),t.prototype.rH.call(this,r,n)},i}(ik);U(),Et(),Pt();var ok=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).jV("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Ct(i,t),i.prototype.nH=function(){var i=t.prototype.nH.call(this);return Xp(this.lH,"PlayReady",i)},i}(ik);U(),Et(),xt(),Pt();var hk=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).jV("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Ct(i,t);var n=i.prototype;return n.uH=function(i){var n=function(t){var i=ua(new E(t));return Fo(i,"<?xml")?0:1}(i);return 1===n?Gp(i):t.prototype.uH.call(this,i)},n.nH=function(){return Qp(t.prototype.nH.call(this),this.SH,this.lH)},Nt(i,[{key:"SH",get:function(){return jp(this.lH)}}]),i}(ik);U(),Et(),Wt(),Pt(),Qt();var ak=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).DH=void 0,e}Ct(i,t);var n=i.prototype;return n.nH=function(){var i=t.prototype.nH.call(this);return this.DH&&i.set("Ticket",this.DH),i.set("Content-Type","text/xml"),i},n.aH=function(i,n){var r=this;return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,Jp(this.lH,"playready",this.Dx,n)];case 1:return e=s.sent(),this.jV(e.licenseServerUrl),this.DH=e.ticket,[2,t.prototype.aH.call(r,i,n)]}})}).call(this)},i}(ik);U(),Et(),Pt();var ck=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.nH=function(){if(!Rp(this.lH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nH.call(this);return i.set("X-AxDRM-Message",this.lH.token),i},i}(ik);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var fk=function(t){return t.BT="application/json",t.NH="application/x-www-form-urlencoded",t.BH="application/octet-stream",t.LT="text/plain;charset=UTF-8",t}({}),vk=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i.xS,n,r,e,s)||this).UH="",u.LH=void 0,u.WH=void 0,u.WH=i.GH,u}Ct(i,t);var n=i.prototype;return n.MH=function(){return this.YV.certificateURL||this.LH},n.OH=function(t){this.LH=t},n.aH=function(t){return ut.resolve(this.FH(t,this.UH))},n.FH=function(t,i){return"spc="+encodeURIComponent(kh(t))+"&assetId="+encodeURIComponent(i)},n.vH=function(t){return t.fairplay||{}},n.HH=function(t){var i=t.indexOf("?");if(i>=0)return ut.resolve(t.substr(i+1));var n=t.split("skd://").pop();if(n){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(n))return ut.resolve(n)}var r=t.split("/");return ut.resolve(r[r.length-1])},n.tH=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return n=null!=(i=this.WH)?i:va(new E(t)),[4,this.HH(n)];case 1:return r=s.sent(),this.UH=r,(e={}).fairplay={tT:r},[2,e]}})}).call(this)},n.nH=function(){var i=t.prototype.nH.call(this);return i.set("Content-Type",this.VH),i},n._H=function(t,i){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.KV?[2,this.KV]:[4,this.qH(i)];case 1:return[2,t.sent()]}})}).call(this)},n.gH=function(i,n){return t.prototype.cH.call(this,i,pl.xk,n)},n.zH=function(t){var i=this.MH(),n=this.nH(),r={Yu:i,fk:Ud.NT,_k:n,Hk:ml.GET,Xk:!1,XT:null,Wk:0,Yg:t,Km:yl.Tk,zk:pl.Pk};return new Al(r)},n.qH=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return i=this.zH(t),[4,this.Dx.vk(i)];case 1:return[4,r.sent().qT()];case 2:return n=r.sent(),[2,new E(n)]}})}).call(this)},n.uH=function(t){var i;if("string"==typeof t){var n=t.trim();"<ckc>"===n.substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6)),i=mh(n)}else i=new E(t);return i},n.rH=function(i,n){var r=t.prototype.rH.call(this,i,n);return Fo(r,"skd:")&&(r=r.substr(4)),r},Nt(i,[{key:"ZV",get:function(){return!0}},{key:"VH",get:function(){return fk.NH}}]),i}(rp);U(),Et(),Wt(),xt(),Pt(),Qt();var dk=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.NT)||this}Ct(i,t);var n=i.prototype;return n.HH=function(i){var n=i.split("://",1);return"skd"!==n[0].slice(-3).toLowerCase()?ut.resolve(""):(n=i.split(";",2)).length>1?ut.resolve(n[1]):ut.resolve(t.prototype.HH.call(this,i))},n.aH=function(t){return Vt(function(){return zt(this,function(i){return[2,t]})})()},n.uH=function(t){return new E(t)},n.rH=function(i,n){var r=i||{};return r.p1=ae(),t.prototype.rH.call(this,r,n)},Nt(i,[{key:"VH",get:function(){return fk.BH}}]),i}(vk);U(),Et(),xt(),Pt();var lk=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Ud.NT)||this).jV("https://fairplay-license.drm.technology/license"),s.OH("https://fairplay-license.drm.technology/certificate"),s}Ct(i,t);var n=i.prototype;return n.FH=function(t,i){var n={token:this.SH,contentId:i,payload:kh(t)};return JSON.stringify(n)},n.uH=function(t){return new E(t)},n.nH=function(){var i=t.prototype.nH.call(this);return i.set("x-vudrm-token",this.SH),i},Nt(i,[{key:"VH",get:function(){return fk.BT}},{key:"SH",get:function(){if(!Ep(this.lH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.lH.token}}]),i}(vk);U(),Et(),Pt();var wk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",gk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",_k=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.NT)||this}return Ct(i,t),i.prototype.uH=function(i){var n=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new ug(vd.CONTENT_PROTECTION_LICENSE_INVALID,wk)}if(!i)throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,gk);return i}(ua(new DataView(i)));return t.prototype.uH.call(this,n)},i}(vk);U(),Et(),Wt(),xt(),Pt(),Qt();var mk=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.BT)||this}Ct(i,t);var n=i.prototype;return n.aH=function(t){return Vt(function(){var i,n;return zt(this,function(r){if(!(i=this.lH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return n=kh(t),[2,Lp(i,n,xp.jm)]})}).call(this)},n.uH=function(t){try{var i;if(Xi(t)){var n=t.trim();i=JSON.parse(n)}else i=t;if(i.license){var r=Oa(i.license);return new E(r)}throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new ug(vd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},n.sH=function(t,i,n){return Fp(t,i,n)},Nt(i,[{key:"VH",get:function(){return fk.BT}}]),i}(vk);U(),Et(),Wt(),xt(),Pt(),Qt();var yk=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Ud.NT)||this).jV("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.OH("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}Ct(i,t);var n=i.prototype;return n.MH=function(){var i=t.prototype.MH.call(this);if(!i)return i;var n=Ui.Dh(i),r=this.lH;return kp(r)&&Il(n,{accountId:r.accountId,applicationId:r.applicationId||""}),n.href},n.HH=function(i){return kp(this.lH)?ut.resolve(this.lH.contentId):t.prototype.HH.call(this,i)},n.aH=function(t){return Vt(function(){return zt(this,function(i){return[2,t]})})()},n.uH=function(t){return new E(t)},n.rH=function(i,n){var r=i;return kp(this.lH)&&(r=function(t,i){return Yu({},Hp(t,i),{KeyId:t.keyId})}(this.lH,r)),t.prototype.rH.call(this,r,n)},Nt(i,[{key:"VH",get:function(){return fk.BH}}]),i}(vk);U(),Et(),Wt(),Pt(),Qt();var pk=function(t){function i(i,n,r,e){var s;if(s=t.call(this,i,n,r,e,Ud.LT)||this,!pp(n))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.jV("https://connect.conax.com:8097/license"),s}Ct(i,t);var n=i.prototype;return n.nH=function(){var i=t.prototype.nH.call(this);return Xp(this.lH,"FairPlay",i)},n.qH=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return i=this.MH(),n={Yu:i,fk:Ud.NT,_k:{},Hk:ml.GET,Xk:!1,XT:null,Wk:0,Yg:t,Km:yl.Tk,zk:pl.Pk},[4,this.Dx.vk(n)];case 1:return[4,e.sent().qT()];case 2:return r=e.sent(),[2,new E(r)]}})}).call(this)},n.aH=function(t){return Vt(function(){return zt(this,function(i){return[2,t]})})()},n.HH=function(t){var i,n=t.indexOf("?");return 0===t.indexOf("skd://")?(i=n>=0?t.substring(6,n):t.substring(6),ut.resolve(function(t){return ua(mh(t))}(i))):ut.resolve("unknown")},n.uH=function(t){try{var i=JSON.parse(t);return new E(Oa(i.CkcMessage))}catch(t){throw new y("CFLRW-66")}},i}(vk);U(),Et(),Pt();var kk=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Ud.LT)||this).jV(lp[Eo.jm]),s}Ct(i,t);var n=i.prototype;return n.HH=function(t){return Fo(t,"skd://")?ut.resolve(t.substring(6,40)):ut.reject(new ug(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},n.FH=function(t,i){return"spc="+kh(t)+"&assetId="+i},i}(vk);U(),Et(),xt(),Pt();var bk=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Ud.LT)||this).jV("https://lic.drmtoday.com/license-server-fairplay/"),s}Ct(i,t);var n=i.prototype;return n.FH=function(t,i){var n="spc="+encodeURIComponent(kh(t))+"&"+encodeURI(i);return"persistent"===this.YV.licenseType?n+"&offline=true":n},n.nH=function(){return Qp(t.prototype.nH.call(this),this.SH,this.lH)},Nt(i,[{key:"SH",get:function(){return jp(this.lH)}}]),i}(vk);U(),Et(),Wt(),xt(),Pt(),Qt();var Ak=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.NT)||this}Ct(i,t);var n=i.prototype;return n.HH=function(t){var i=t;return Fo(i,"skd:")&&(i="http:"+i.substring(4)),Fo(i,"http:")||Fo(i,"https:")?ut.resolve(Ui.Dh(i).hostname):ut.reject(new y("Could not parse ExpressPlay FairPlay content ID."))},n.aH=function(t){return Vt(function(){return zt(this,function(i){return[2,t]})})()},n.uH=function(t){return new E(t)},Nt(i,[{key:"VH",get:function(){return fk.BH}}]),i}(vk);U(),Et(),Pt();var Tk=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.LT)||this}return Ct(i,t),i.prototype.nH=function(){var i=t.prototype.nH.call(this),n=this.lH.token;return i.set("Authorization","Bearer "+n),i},i}(vk);U(),Et(),Wt(),xt(),Pt(),Qt();var Sk=function(t){function i(i,n,r,e){var s;if(s=t.call(this,i,n,r,e,Ud.BT)||this,!Ip(n))throw new y("Invalid Xstream DRM configuration");return s}Ct(i,t);var n=i.prototype;return n.qH=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return i=this.MH(),n=this.nH(),r={Yu:i,fk:Ud.BT,_k:n,Hk:ml.POST,Yg:t,Km:yl.Tk,zk:pl.Pk},[4,this.Dx.vk(r)];case 1:return[4,s.sent().VT()];case 2:return e=s.sent(),[2,new E(mh(e.certificate))]}})}).call(this)},n.gH=function(){return Vt(function(t,i,n){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return void 0===n&&(n=Ud.LT),r=kh(t),[4,Jp(this.lH,"fairplay",this.Dx,i)];case 1:return e=o.sent(),s=oa(JSON.stringify({spc:r,ticket:e.ticket})),u={Yu:this.JV(),fk:Ud.BT,_k:this.nH(),Hk:ml.POST,XT:s,Wk:0,Yg:i,Km:yl.Tk,zk:pl.xk},[4,this.Dx.vk(u)];case 2:return[4,o.sent().VT()];case 3:return[2,mh(o.sent().licence)]}})}).apply(this,arguments)},Nt(i,[{key:"VH",get:function(){return fk.BT}}]),i}(vk);U(),Et(),Pt();var Ek=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.LT)||this}Ct(i,t);var n=i.prototype;return n.FH=function(t,i){return kh(t)},n.uH=function(i){if(0===i.length)throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.uH.call(this,i)},n.nH=function(){var i=t.prototype.nH.call(this);return i.set("Content-Type","text/plain"),i},i}(vk);U(),Et(),xt(),Pt();var Ik=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.NT)||this}Ct(i,t);var n=i.prototype;return n.FH=function(t,i){return t},n.uH=function(t){return new E(t)},n.nH=function(){if(!Rp(this.lH))throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.nH.call(this);return i.set("X-AxDRM-Message",this.lH.token),i},Nt(i,[{key:"VH",get:function(){return fk.BT}}]),i}(vk);U(),Et(),xt(),Pt();var Rk=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Ud.BT)||this).XH=void 0,s}Ct(i,t);var n=i.prototype;return n.FH=function(t,i){var n={spc:kh(t)};return JSON.stringify(n)},n.HH=function(t){var i=Ui.Dh(t);return this.XH=t,i.searchParams.has("b")?ut.resolve(i.searchParams.get("b")):ut.reject(new ug(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},n.rH=function(i,n){var r=this.JV();return!r&&this.XH&&(r=this.XH),r&&(r=r.replace("skd://","https://")),t.prototype.rH.call(this,i,n||r)},n.uH=function(t){try{var i;if((i=Xi(t)?JSON.parse(t.trim()):t).ckc)return mh(i.ckc)}catch(t){throw new ug(vd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Nt(i,[{key:"VH",get:function(){return fk.LT}}]),i}(vk);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Qt(),U(),Et(),Ft();var Ck=function(){function t(t,i){this.QH=void 0,this.YH=void 0,this.QH=t,this.YH=i}var i=t.prototype;return i.jH=function(t){return this.QH(t)},i.KH=function(t,i){throw new p(i+" must be "+this.YH+". (Received: "+t+")")},t}(),Pk=(new Ck(function(t){return!0},"any"),new Ck(Qi,"a number")),Dk=new Ck(Xi,"a string"),Nk=new Ck(qi,"a boolean"),xk=(new Ck(ji,"a date"),new Ck(Fi,"undefined")),Bk=new Ck(Wi,"an object"),Ok=new Ck(function(t){return null===t},"null");new Ck(function(t){return null==t},"null or undefined");function Mk(t,i){throw new p(i+" has an incorrect type")}var Lk=function(){function t(t){this.Qp=void 0,this.Qp=t}var i=t.prototype;return i.jH=function(t){if(!Wi(t))return!1;for(var i,n=Lt(k.keys(this.Qp));!(i=n()).done;){var r=i.value;if(!this.Qp[r].jH(t[r]))return!1}return!0},i.KH=function(t,i){if(!Wi(t))throw new p(i+" must be an object.");for(var n,r=Lt(k.keys(this.Qp));!(n=r()).done;){var e=n.value,s=this.Qp[e];if(!s.jH(t[e]))return s.KH(t[e],i+"."+String(e))}throw new p},t}();function Fk(t){return new Lk(t)}function Uk(t){return k.keys(t).map(function(i){return t[i]})}var Vk=function(){function t(t){this.JH=void 0,this.JH=t}var i=t.prototype;return i.jH=function(t){return jn(this.JH,t)},i.KH=function(t,i){return Mk(0,i)},t}();function Hk(t){return new Vk(t)}var Wk=function(){function t(t){this.ZH=void 0,this.ZH=t}var i=t.prototype;return i.jH=function(t){return this.ZH.some(function(i){return i.jH(t)})},i.KH=function(t,i){return Mk(0,i)},t}();function zk(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return new Wk(i)}var Xk=function(){function t(t){this.$H=void 0,this.$H=t}var i=t.prototype;return i.jH=function(t){var i=this;return Vi(t)&&t.every(function(t){return i.$H.jH(t)})},i.KH=function(t,i){if(!Vi(t))throw new p(i+" must be an array.");for(var n=0;n<t.length;n++){var r=t[n];this.$H.jH(r)||this.$H.KH(r,i+"["+n+"]")}return Mk(0,i)},t}();function qk(t){return new Xk(t)}var Gk=function(){function t(t){this.$H=void 0,this.$H=t}var i=t.prototype;return i.jH=function(t){var i=this;return Wi(t)&&k.keys(t).every(function(n){return i.$H.jH(t[n])})},i.KH=function(t,i){if(!Wi(t))throw new p(i+" must be an object.");for(var n,r=Lt(k.keys(t));!(n=r()).done;){var e=n.value;if(!this.$H.jH(t[e]))return this.$H.KH(t[e],i+"."+e)}return Mk(0,i)},t}();function jk(t){return new Gk(t)}var Qk=function(){function t(t){this.$H=void 0,this.$H=_n(t)}var i=t.prototype;return i.jH=function(t){return this.$H().jH(t)},i.KH=function(t,i){return this.$H().KH(t,i)},t}();var Yk=Fk({responseCode:Pk,isException:Nk,description:Dk,title:Dk,correlationId:Dk});function Kk(t,i,n,r,e){return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return s=function(t,i,n,r){var e={token:i.token,account:i.accountId,form:"json"},s=decodeURIComponent(El(n,e)),u=new Vd({});u.append("Content-Type","application/json");var o=kh(t),h={getFairplayLicense:{releasePid:i.releasePid,spcMessage:o}};return{Yu:s,fk:Ud.LT,_k:u,Hk:ml.POST,XT:JSON.stringify(h),Yg:r,Km:yl.Tk,zk:pl.xk}}(t,i,n,e),[4,Jk(s,r)];case 1:return[2,u.sent()]}})})()}function Jk(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,i.vk(t)];case 1:return[4,r.sent().VT()];case 2:if(n=r.sent(),Yk.jH(n))throw new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,n.description,void 0,t.Yu,n.responseCode);return[2,mh(n.getFairplayLicenseResponse.ckcResponse)]}})})()}var Zk=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Ud.NT)||this).tW=void 0,s.tW=n,s}Ct(i,t);var n=i.prototype;return n.HH=function(i){var n=i.replace("FairPlay",this.tW.releasePid);return t.prototype.HH.call(this,n)},n.gH=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,Kk(t,this.tW,this.JV(),this.Dx,i)];case 1:return[2,n.sent()]}})}).call(this)},i}(vk);U(),Et(),Wt(),Pt(),Ft(),Qt();var $k=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,Ud.NT)||this}Ct(i,t);var n=i.prototype;return n.vH=function(t){return t.clearkey||{}},n.iH=function(i,n,r,e){var s=this;return Vt(function(){var n,u;return zt(this,function(o){if(n=this.YV,this.JV())return[2,t.prototype.iH.call(s,i,this.dH,r,e)];if(n.keys&&n.keys.length)return u={keys:n.keys.map(function(t){return{kty:"oct",kid:t.id,k:t.value}})},[2,da(JSON.stringify(u)).buffer];throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")})}).call(this)},n._H=function(t,i){return ut.resolve(new E(0))},n.gH=function(i,n){var r=this;return Vt(function(){var e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:return[4,t.prototype.cH.call(r,i,pl.Dk,n)];case 1:if(e=a.sent(),(s=JSON.parse(va(e))).keys)for(u=Lt(s.keys);!(o=u()).done;)(h=o.value).k&&(h.k=bh(h.k)),h.kid&&(h.kid=bh(h.kid));return[2,da(JSON.stringify(s))]}})})()},i}(rp),tb=function(t){function i(i,n,r){return t.call(this,Do,i,n,r)||this}return Ct(i,t),i}($k),ib=function(t){function i(i,n,r){return t.call(this,No,i,n,r)||this}return Ct(i,t),i}($k);U(),Et(),Pt();var nb=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i}(up);U(),Et(),Wt(),Pt(),H(),Qt(),U(),Et(),Wt(),H(),Qt();var rb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function eb(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=db(i),(e=t.onCertificateRequest)&&"function"==typeof e?[4,gr(ut.resolve(e.call(t,r)),n)]:[2,ut.resolve(i)];case 1:return ya(s=u.sent())?[2,pa(s)]:[2,vb(Yu({},rb,s))]}})})()}function sb(t,i,n,r,e){return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return s=t.onCertificateResponse,u=fb(i,n,r),s&&"function"==typeof s?[4,gr(ut.resolve(s.call(t,u)),e)]:[2,ut.resolve(i)];case 1:return[2,pa(o.sent())]}})})()}function ub(t,i,n,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,hb(t,i,n,r)];case 1:return V(e=s.sent(),ArrayBuffer)?[2,e]:[2,vb(e)]}})})()}function ob(t,i,n,r,e,s){return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return u=cb(n,e),[4,ab(t,new E(i),u,r,s)];case 1:return[2,pa(o.sent())]}})})()}function hb(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,s=cb(i,n),e&&"function"==typeof e?[4,gr(ut.resolve(e.call(t,s)),r)]:[2,ut.resolve(s)];case 1:return ya(u=o.sent())?[2,pa(u).buffer]:[2,Yu({fairplaySkdUrl:void 0},rb,u)]}})})()}function ab(t,i,n,r,e){return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return s=null==t?void 0:t.onLicenseResponse,u=fb(i,n,r),s&&"function"==typeof s?[4,gr(ut.resolve(s.call(t,u)),e)]:[2,ut.resolve(i)];case 1:return[2,pa(o.sent())]}})})()}function cb(t,i){return Yu({},db(t),{fairplaySkdUrl:i})}function fb(t,i,n){return{url:n.wk,status:n.dk,statusText:n.gk,headers:n._k.OT(),body:t,request:i}}function vb(t){return new Al({Yu:t.url,Hk:t.method,_k:t.headers,XT:t.body,Xk:t.useCredentials,Km:yl.Tk})}function db(t){var i;return{url:t.Yu,body:null!=(i=lb(t.XT))?i:null,headers:t._k.OT(),method:t.Hk,useCredentials:t.Xk}}function lb(t){if(t)return"string"==typeof t?da(t):V(t,ArrayBuffer)?new E(t):Ra(t)?ma(t):void 0}var wb=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r)||this).iW=void 0,s.iW=e,s}Ct(i,t);var n=i.prototype;return n._H=function(t,i){return ut.resolve(t)},n.gH=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,this.EH(ba(t).buffer)];case 1:return n=h.sent(),r=this.eH(n,Ud.NT,pl.Rk,i),[4,ub(this.iW,r,void 0,i)];case 2:if(V(e=h.sent(),ArrayBuffer))return[2,new E(e)];if(""===e.Yu)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");h.label=3;case 3:return h.trys.push([3,7,,8]),[4,this.Dx.vk(e)];case 4:return[4,(s=h.sent()).qT(i)];case 5:return u=h.sent(),[4,ob(this.iW,u,r,s,void 0,i)];case 6:return[2,h.sent()];case 7:throw lr(o=h.sent()),new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",o);case 8:return[2]}})}).call(this)},i}(ik);U(),Et(),Wt(),Pt(),H(),Qt();var gb=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,Ud.NT)||this).iW=void 0,s.iW=e,s}Ct(i,t);var n=i.prototype;return n._H=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return this.KV?[2,this.KV]:(n=this.eH(t,Ud.NT,pl.Ck,i),[4,eb(this.iW,n,i)]);case 1:if(V(r=h.sent(),E))return[2,r];if(""===r.Yu)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");h.label=2;case 2:return h.trys.push([2,5,,6]),[4,this.Dx.vk(r)];case 3:return[4,(e=h.sent()).qT(i)];case 4:return s=h.sent(),[3,6];case 5:throw lr(u=h.sent()),new ug(vd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",u);case 6:return o=cb(n,void 0),[4,sb(this.iW,new E(s),o,e,i)];case 7:return[2,h.sent()]}})}).call(this)},n.gH=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=this.eH(t,Ud.NT,pl.Ik,i),[4,ub(this.iW,n,void 0,i)];case 1:if(V(r=o.sent(),ArrayBuffer))return[2,new E(r)];if(""===r.Yu)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.Dx.vk(r)];case 3:return[4,(e=o.sent()).qT(i)];case 4:return s=o.sent(),[4,ob(this.iW,s,n,e,void 0,i)];case 5:return[2,o.sent()];case 6:throw lr(u=o.sent()),new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",u);case 7:return[2]}})}).call(this)},i}(nb);U(),Et(),Wt(),Pt(),H(),Qt();var _b=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n,r,e,Ud.NT)||this).iW=void 0,u.eW=void 0,u.iW=s,u}Ct(i,t);var n=i.prototype;return n._H=function(t,i){return Vt(function(){var t,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return this.KV?[2,this.KV]:(t=this.zH(i),[4,eb(this.iW,t,i)]);case 1:if(n=o.sent(),Ra(n))return[2,n];o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.Dx.vk(n)];case 3:return[4,(r=o.sent()).qT()];case 4:return e=o.sent(),s=cb(t,void 0),[4,sb(this.iW,new E(e),s,r,i)];case 5:return[2,o.sent()];case 6:throw lr(u=o.sent()),new ug(vd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",u);case 7:return[2]}})}).call(this)},n.gH=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=this.eH(t,Ud.NT,pl.xk,i),[4,ub(this.iW,n,this.eW,i)];case 1:if(V(r=o.sent(),ArrayBuffer))return[2,new E(r)];if(""===r.Yu)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.Dx.vk(r)];case 3:return[4,(e=o.sent()).qT(i)];case 4:return s=o.sent(),[4,ob(this.iW,s,n,e,this.eW,i)];case 5:return[2,o.sent()];case 6:throw lr(u=o.sent()),new ug(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",u);case 7:return[2]}})}).call(this)},n.HH=function(i){var n;return this.eW=i,(null==(n=this.iW)?void 0:n.extractFairplayContentId)?ut.resolve(this.iW.extractFairplayContentId(i)):t.prototype.HH.call(this,i)},i}(vk),mb=function(){function t(){}var i=t.prototype;return i.sW=function(t,i,n,r){switch(t.xS.Km){case Eo.zm:return this.nW(i,n,r);case Eo.qm:return this.rW(i,n,r);case Eo.jm:return this.hW(t,i,n,r);case Eo.Xm:return this.oW(i,n,r);case Eo.Gm:default:return this.aW(i,n,r)}},i.nW=function(t,i,n){var r=function(t){return t.integration===np&&Xi(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&dp.VC.LC(r,wo)){var e=dp.VC.FC(r,wo,t);return new gb(t,i,n,e)}switch(r){case Hy:return new Up(t,i,n);case qy:return new Vp(t,i,n);case Xy:return new Wp(t,i,n);case Wy:return new qp(t,i,n);case Qy:return new Yp(t,i,n);case Ky:return new Kp(t,i,n);case Jy:return new Zp(t,i,n);case $y:return new $p(t,i,n);default:return new nb(t,i,n,Ud.NT)}},i.rW=function(t,i,n){var r=t.integration;if(r&&dp.VC.LC(r,fo)){var e=dp.VC.FC(r,fo,t);return new wb(t,i,n,e)}switch(r){case Hy:return new rk(t,i,n);case qy:return new sk(t,i,n);case Xy:return new uk(t,i,n);case Wy:return new ok(t,i,n);case Qy:return new hk(t,i,n);case Jy:return new ak(t,i,n);case $y:return new ck(t,i,n);default:return new ik(t,i,n)}},i.hW=function(t,i,n,r){var e=i.integration;if(e&&dp.VC.LC(e,Ao)){var s=dp.VC.FC(e,Ao,i);return new _b(t,i,n,r,s)}switch(e){case zy:return new dk(t,i,n,r);case qy:return new lk(t,i,n,r);case Gy:return new _k(t,i,n,r);case Hy:return new mk(t,i,n,r);case Xy:return new yk(t,i,n,r);case Wy:return new pk(t,i,n,r);case jy:return new kk(t,i,n,r);case Qy:return new bk(t,i,n,r);case Yy:return new Ak(t,i,n,r);case Ky:return new Tk(t,i,n,r);case Jy:return new Sk(t,i,n,r);case Zy:return new Ek(t,i,n,r);case $y:return new Ik(t,i,n,r);case tp:return new Rk(t,i,n,r);case ip:return new Zk(t,i,n,r);default:return new vk(t,i,n,r,Ud.LT)}},i.aW=function(t,i,n){return new tb(t,i,n)},i.oW=function(t,i,n){return new ib(t,i,n)},i.uW=function(t){return t.Km===Eo.qm||t.Km===Eo.zm||t.Km===Eo.jm||t.Km===Eo.Gm||t.Km===Eo.Xm},i.FS=function(t,i){var n;if(t.Km!==Eo.qm)return!1;if(Li(null==(n=i.playready)?void 0:n.customData))return!0;var r=i.integration;return(!r||!dp.VC.LC(r,Ao))&&(r===Hy&&new nk(i).FS)},i.wH=function(t,i){if(t.Km===Eo.zm){var n=i.integration;if(!n||!dp.VC.LC(n,Ao))return n===Hy?Up.wH():void 0}},t}();U(),Et(),U(),Et(),xt(),Pt();var yb=function(t){function i(i){var n;return(n=t.call(this,qm.ma)||this).errorObject=void 0,n.errorObject=i,n}return Ct(i,t),i.prototype.xa=function(){return this},Nt(i,[{key:"error",get:function(){return this.errorObject.message}}]),i}(Aw);U(),Et(),U(),Et();var pb="theoplayer-stored-network-info-v2",kb=25e5,bb=function(){function t(){var t=this;this.dW=Fd,this._W=void 0,this.gW=wn(function(){var i,n,r=((n={})[t.dW]={availableBandwidth:t._W,storedTimestamp:ae()},n);null==(i=Ui.xx)||i.Gy(pb,JSON.stringify(r))},1e4)}var i=t.prototype;return i.cW=function(t){var i,n=null==(i=Ui.xx)?void 0:i.zy(t);if(void 0!==n){var r=JSON.parse(n);if(void 0!==r&&void 0!==r[this.dW]){if(!this.lW(r))return r[this.dW].availableBandwidth;var e;null==(e=Ui.xx)||e.Gy(t,JSON.stringify({}))}}},i.fW=function(){var t=this.cW(pb);if(void 0!==t)return t;var i=this.cW("theoplayer-stored-network-info");return i?8*i:void 0},i.lW=function(t){var i=t[this.dW].storedTimestamp;return!!i&&ae()-i>36e5},i.vW=function(t){this._W=t,this.gW()},i.pW=function(){var t;return null!=this._W||(this._W=null!=(t=this.fW())?t:kb),this._W},t}();bb.Bg=new bb,U(),Et();var Ab=function(t){return t[t.mW=0]="mW",t[t.wW=1]="wW",t[t.yW=2]="yW",t[t.bW=3]="bW",t[t.AW=4]="AW",t[t.TW=5]="TW",t[t._C=6]="_C",t[t.kW=7]="kW",t[t.EW=8]="EW",t[t.wC=9]="wC",t[t.xW=10]="xW",t[t.yC=11]="yC",t[t.PW=12]="PW",t}({});U(),Et(),xt();var Tb=function(){function t(){}return t.prototype.DW=function(t){},Nt(t,[{key:"IW",get:function(){return 0}},{key:"RW",get:function(){return 0}}]),t}();U(),Et(),Pt(),U(),Et(),Pt();var Sb=function(t){function i(i){var n;return(n=t.call(this,"contentProtectionsTracked")||this).NW=void 0,n.NW=i,n}return Ct(i,t),i}(rh),Eb=function(t){function i(i,n){var r;return void 0===n&&(n=new mb),(r=t.call(this)||this).aV=void 0,r.MW=void 0,r.IH=void 0,r.aV=i,r.MW=n,r}Ct(i,t);var n=i.prototype;return n.BW=function(t){this.IH=t},n.wH=function(t){var i=this.IH;if(void 0!==i)return this.MW.wH(t,i)},n.FS=function(t){var i=this.IH;return void 0!==i&&this.MW.FS(t,i)},n.LW=function(t){var i={xS:t.xS,OW:t.OW||[],FW:t.FW,GH:t.GH,UW:t.UW||[]},n=this.MW.sW(i,this.IH||{},t.fH,this.aV);return i.FW&&n.jV(i.FW),new Ib(n)},n.VW=function(t){t&&(Fn(t,function(t){return void 0!==t.fH})&&this.So(new Sb(t)))},i}(th),Ib=function(){function t(t){this.WW=void 0,this.WW=t}var i=t.prototype;return i.$V=function(t){return this.WW.$V(t)},i.tH=function(t,i,n){return this.WW.tH(i,n)},i.ZV=function(){return this.WW.ZV||void 0!==this.WW.KV},i._H=function(t,i){return this.WW._H(t,i)},i.gH=function(t,i,n){return i&&this.WW.jV(i),this.WW.gH(t,n)},i.zg=function(){this.WW.kn()},t}();U(),Et(),Pt(),Ft();var Rb=function(t){function i(i){var n;(n=t.call(this)||this).zW=[],n.KW=function(t){n.tt(t.Ht)},n.fV=function(t){var i=t.Ht;n.QW(i)||n.it(i)};for(var r,e=Lt(i);!(r=e()).done;){var s=r.value;n.qW(s)}return n}Ct(i,t);var n=i.prototype;return n.qW=function(t){this.zW.push(t);for(var i,n=Lt(t.NI);!(i=n()).done;){var r=i.value;this.tt(r)}this.GW(t)},n.XW=function(t){Xn(this.zW,t),this.jW(t);for(var i,n=Lt(t.NI);!(i=n()).done;){var r=i.value;this.QW(r)||this.it(r)}},n.QW=function(t){for(var i,n=Lt(this.zW);!(i=n()).done;){if(i.value.LI(t))return!0}return!1},n.GW=function(t){t.wn(Iw.rI,this.KW),t.wn(Iw.oI,this.fV)},n.jW=function(t){t.mn(Iw.rI,this.KW),t.mn(Iw.oI,this.fV)},n.kn=function(){for(;this.zW.length>0;)this.XW(this.zW[0]);t.prototype.kn.call(this)},n.xa=function(){return Ym(this)},i}(xw);U(),Et(),xt(),U(),Et();var Cb,Pb={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Db=function(){function t(){this.hu=void 0,this.JW=void 0,this.We=void 0}var i=t.prototype;return i.Ea=function(t){this.JW=t,void 0!==this.We&&(this.JW.Rt=this.We)},i.hr=function(){this.JW=void 0,this.We=void 0},Nt(t,[{key:"Ca",get:function(){return null!=this.hu||(this.hu=function(t){return{get enabled(){return t.Rt},set enabled(i){t.Rt=Ww(i)},get monitoringLivePlayback(){return t.YW},get currentLatency(){return t.OL},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.Cd)}}}(this)),this.hu}},{key:"Rt",get:function(){var t,i;return null!=(i=this.We)?i:Boolean(null==(t=this.JW)?void 0:t.Rt)},set:function(t){this.We=t,this.JW&&(this.JW.Rt=t)}},{key:"YW",get:function(){var t,i;return null!=(i=null==(t=this.JW)?void 0:t.oL)&&i}},{key:"OL",get:function(){var t;return null==(t=this.JW)?void 0:t.LL}},{key:"Cd",get:function(){return this.JW?this.JW.aL:Pb}}]),t}();var Nb=Boolean(f&&f.TextTrack),xb=function(t){function i(i,n,r,e,s,u,o,h){var a;return void 0===o&&(o=new mb),void 0===h&&(h=Nd()),(a=t.call(this)||this).Nq=void 0,a.PL=void 0,a.aq=void 0,a.tO=void 0,a.sO=void 0,a.Gl=void 0,a.kq=void 0,a.Ac=void 0,a.nq=void 0,a.rq=void 0,a.oq=void 0,a.Cq=void 0,a.xq=void 0,a.Aq=void 0,a.aV=void 0,a.hw=void 0,a.pq=void 0,a.tq=void 0,a.lq=new Tb,a.cq=new Db,a.Oq=function(t){var i=t.lt,n=i.code,r=new ld(vg(n),"Something went wrong during native playback.",i),e=new hg(n,r.message,i.message);a.Qq(r,e)},a.Nc=function(){a.So(new bw(a.zx,a.Vx))},a.Kq=function(){Bi.X_&&a.ct===1/0&&a.Xx(1/0)},a.Mq=function(t){a.lP||(a.tq=void 0),a.So(t)},a.NL=function(t){a.tq=void 0},a.Uq=function(){a.So(new Pg(a.sP))},a.Lq=function(){a.MP>0&&a.DP>0&&a.So(new Ey)},a.Wq=function(t){var i=a.PL.hq.audioTracks;if(i)for(var n=0;n<i.length;n++){var r=i[n];Mb(a.tO,r)||a.tO.tt(new Ig(r))}},a.qq=function(t){var i=[],n=a.PL.hq.audioTracks;if(n){for(var r,e=Lt(a.tO.NI);!(r=e()).done;){var s=r.value;Lb(n,s.AO)||i.push(s)}for(var u,o=Lt(i);!(u=o()).done;){var h=u.value;a.tO.it(h)}}},a.zq=function(){a.dh(a.tO)},a.Gq=function(t){var i=a.PL.hq.videoTracks;if(i)for(var n=0;n<i.length;n++){var r=i[n];Mb(a.sO,r)||a.sO.tt(new Cg(r))}},a.Xq=function(t){var i=[],n=a.PL.hq.videoTracks;if(n){for(var r,e=Lt(a.sO.NI);!(r=e()).done;){var s=r.value;Lb(n,s.AO)||i.push(s)}for(var u,o=Lt(i);!(u=o()).done;){var h=u.value;a.sO.it(h)}}},a.jq=function(){a.dh(a.sO)},a.Fq=function(t){a.So(t),a.Qq(t.errorObject,cg(t.errorObject))},a.Nq=n,a.aV=r,a.hw=h,a.PL=a.Nq.Yq(eg.Mk),a.oq=a.PL.hq.preload,a.Cq=new Vy(a,a.PL),a.xq=new Uy(a.Cq,!0),a.xq.wn(Cy,a.Rs),a.xq.wn(Ry.EM,a.Kq),a.pq=new Eb(r,o),a.PL.Rq=a.pq,a.Bq(),a.tO=new rg,a.sO=new rg,a.Hq(),a.Aq=new gy(a.PL,a.aV),a.kq=new my(a.PL,a.PL.nt),a.Gl=new Rb([a.PL.nt,a.Aq.Z,a.kq.Z]),a.be(),a}Ct(i,t);var n=i.prototype;return n.Xx=function(t,i){this.sP&&(this.tq=t),this.PL.Oy(t,null==i?void 0:i.iq)},n.we=function(){this.PL.we()},n.be=function(){this.PL.be()},n.Ta=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return dr(n),this.Ac=t,r={Km:Iy.AV,rC:t.src,GT:t.type,fq:this.vq(t),wP:this.oq,_q:t.crossOrigin,gq:i.metadata&&i.metadata.title},this.pq.BW(t.contentProtection),e=this,[4,this.PL.Un(r)];case 1:return e.aq=s.sent(),dr(n),i.textTracks&&this.mq(i.textTracks),Sy(this.nt),[2]}})}).call(this)},n.IP=function(t,i,n,r){return ut.resolve()},n.CP=function(){return ut.resolve()},n.mq=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(this.PL.wq()&&Bi.ru&&Nb&&!oy(r.kind,r.label)&&this.yq(r)){var e,s=null!=(e=r.kind)?e:Jm.HU;this.PL.bq(r.src,s,r.label,r.srclang,r.default)}else{if(void 0===r.src)continue;this.Aq.hV(r)}}},n.yq=function(t){return!t.format||"webvtt"===t.format},n.QP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.PL.QP()];case 1:case 4:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return this.ZW?[3,5]:[4,this.PL.ww(eh.Qw)];case 5:return[2]}})}).call(this)},n.jP=function(){this.PL.jP()},n.YP=function(){return void 0!==this.PL.hq.webkitShowPlaybackTargetPicker},n.JP=function(){this.PL.hq.webkitShowPlaybackTargetPicker&&this.PL.hq.webkitShowPlaybackTargetPicker()},n.ZP=function(){this.PL.hq.webkitShowPlaybackTargetPicker&&this.PL.hq.webkitShowPlaybackTargetPicker()},n.zP=function(){return this.PL.hq},n.qP=function(){return this.PL.Ma},n.Aa=function(){return this.PL.Sq},n.sI=function(t){return this.PL.Tq(t)},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Ac=void 0,this.nq=void 0,this.rq=void 0,this.aq=void 0,[4,this.Aq.hr()];case 1:return t.sent(),[4,this.kq.hr()];case 2:return t.sent(),this.PL.Eq(),[4,this.PL.hr()];case 3:return t.sent(),this.xq.hr(),this.wP=this.oq,this.ht.hr(),this.rt.hr(),this.tq=void 0,[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),this.Vo(),this.Pq(),this.Iq(),this.xq.kn(),this.Cq.zg(),this.PL.Rq=void 0,[4,this.Nq.Dq(this.PL)];case 2:return t.sent(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),[4,this.Aq.kn()];case 3:return t.sent(),[4,this.kq.kn()];case 4:return t.sent(),[2]}})}).call(this)},n.Bq=function(){this.PL.wn(eh.uo,this.Rs),this.PL.wn(eh.jw,this.Rs),this.PL.wn(eh.py,this.Nc),this.PL.wn(eh.Qw,this.Rs),this.PL.wn(eh.Ww,this.Rs),this.PL.wn(eh.$w,this.Rs),this.PL.wn(eh.Zw,this.Mq),this.PL.wn(eh.Nw,this.Rs),this.PL.wn(eh.Kw,this.Rs),this.PL.wn(eh.wy,this.Rs),this.PL.wn(eh.Cw,this.Rs),this.PL.wn(eh.Jw,this.Lq),this.PL.wn(Ry.PM,this.NL),this.PL.wn(qm.ma,this.Oq),this.PL.wn(eh.xw,this.Rs),this.PL.wn(eh.Ew,this.Fq),this.PL.hq.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.Uq)},n.Pq=function(){this.PL.mn(eh.uo,this.Rs),this.PL.mn(eh.jw,this.Rs),this.PL.mn(eh.py,this.Nc),this.PL.mn(eh.Qw,this.Rs),this.PL.mn(eh.Ww,this.Rs),this.PL.mn(eh.$w,this.Rs),this.PL.mn(eh.Zw,this.Mq),this.PL.mn(eh.Nw,this.Rs),this.PL.mn(eh.Kw,this.Rs),this.PL.mn(eh.wy,this.Rs),this.PL.mn(eh.Cw,this.Rs),this.PL.mn(eh.Jw,this.Lq),this.PL.mn(Ry.PM,this.NL),this.PL.mn(qm.ma,this.Oq),this.PL.mn(eh.xw,this.Rs),this.PL.mn(eh.Ew,this.Fq),this.PL.hq.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.Uq)},n.vq=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{xS:Co,Vq:[{initDataTypes:[Co.Jm],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},n.Hq=function(){var t=this.PL.hq.audioTracks,i=this.PL.hq.videoTracks;t&&(t.addEventListener("addtrack",this.Wq),t.addEventListener("removetrack",this.qq),t.addEventListener("change",this.zq)),i&&(i.addEventListener("addtrack",this.Gq),i.addEventListener("removetrack",this.Xq),i.addEventListener("change",this.jq))},n.Iq=function(){var t=this.PL.hq.audioTracks,i=this.PL.hq.videoTracks;t&&(t.removeEventListener("addtrack",this.Wq),t.removeEventListener("removetrack",this.qq),t.removeEventListener("change",this.zq)),i&&(i.removeEventListener("addtrack",this.Gq),i.removeEventListener("removetrack",this.Xq),i.removeEventListener("change",this.jq))},n.dh=function(t){for(var i=0;i<t.V;i++){t.MI(i).TO()}},n.$P=function(){this.PL.$P()},n.tI=function(){},n.Qq=function(t,i){this.nq||(this.nq=i,this.rq=t,this.So(new yb(t)))},Nt(i,[{key:"OL",get:function(){}},{key:"ZW",get:function(){var t=this.PL.Fx,i=this.zx;return t.Cr(i,.01)}},{key:"ht",get:function(){return this.tO}},{key:"Fx",get:function(){return this.PL.Fx._s()}},{key:"Vx",get:function(){return this.PL.Vx},set:function(t){t&&this.PL.$W(t)}},{key:"bt",get:function(){return this.Ac}},{key:"zx",get:function(){return void 0!==this.tq?this.tq:this.PL.zx},set:function(t){this.Xx(t)}},{key:"ct",get:function(){return this.PL.ct}},{key:"Qx",get:function(){return this.PL.Qx}},{key:"lt",get:function(){return this.nq}},{key:"Jx",get:function(){return this.rq}},{key:"$x",get:function(){}},{key:"iP",get:function(){}},{key:"sP",get:function(){return this.PL.sP}},{key:"rP",get:function(){return Yu({},{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PL.hP())}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"cP",get:function(){return!0}},{key:"lP",get:function(){return this.PL.lP}},{key:"vP",get:function(){return this.PL.vP},set:function(t){this.PL.vP=t}},{key:"pP",get:function(){return this.PL.hq.played}},{key:"wP",get:function(){return this.oq},set:function(t){this.oq=t,this.aq&&(this.aq.wP=t)}},{key:"AP",get:function(){return this.PL.AP}},{key:"kP",get:function(){return this.PL.kP._s()}},{key:"xP",get:function(){return this.PL.xP}},{key:"uq",get:function(){return this.PL.uq}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.sO}},{key:"DP",get:function(){return this.PL.DP}},{key:"MP",get:function(){return this.PL.MP}},{key:"OP",get:function(){return this.PL.OP},set:function(t){this.PL.OP=t}},{key:"VP",get:function(){return this.cq}},{key:"WP",get:function(){return this.PL.WP},set:function(t){this.PL.WP=t}},{key:"dq",get:function(){return this.lq}}]),i}(nh);function Bb(t){var i,n;if(!(null==(i=(Cb||(Cb=f&&f.document&&f.document.createElement("video")),n=Cb).canPlayType)?void 0:i.call(n,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Bi.ru||Bi.Tg;return!t.useManagedMediaSource||!r}var Ob=function(){function t(){this.tz=Ab.PW}var i=t.prototype;return i.DC=function(t,i,n,r,e,s,u){return new xb(t,i,n,r,e,s)},i.Jq=function(t,i){return Bb(t)},i.Zq=function(t){return Np(t)},i.$q=function(){return!1},t}();function Mb(t,i){for(var n,r=Lt(t.NI);!(n=r()).done;){var e=n.value;if(e.AO===i)return e}}function Lb(t,i){for(var n=0;n<t.length;n++)if(t[n]===i)return!0;return!1}U(),Et(),U(),Et(),xt();var Fb=function(){function t(t,i){var n=this;this.oa=void 0,this.krt=void 0,this.Ert=!1,this.xrt=function(t){n.krt.yQ(t.error,n.zx)},this.Prt=function(){n.krt.gQ(n.Trt),n.oa.removeEventListener("playing",n.Prt),n.Ert=!1},this.Ms=function(){var t,i,r,e,s,u;(n.Ert||(n.oa.addEventListener("playing",n.Prt),n.Ert=!0),null==(t=n.oa.ads)||t.removeEventListener("adbegin",n.Irt),null==(i=n.oa.theoads)||i.removeEventListener("interstitialbegin",n.Crt),null==(e=n.oa.source)||null==(r=e.ads)?void 0:r.some(function(t){return"theoads"===t.integration}))&&(null==(s=n.oa.ads)||s.addEventListener("adbegin",n.Irt),null==(u=n.oa.theoads)||u.addEventListener("interstitialbegin",n.Crt))},this.Irt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||n.krt.wQ("ad")},this.Crt=function(t){var i=t.interstitial;(function(t){return"adbreak"===t.type})(i)||n.krt.wQ(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(i.type))},this.krt=i,this.oa=t,this.oa.addEventListener("error",this.xrt),this.oa.addEventListener("sourcechange",this.Ms),this.Ms()}return t.prototype.hr=function(){},Nt(t,[{key:"zx",get:function(){var t=this.oa.currentTime;return isFinite(t)?t:"now"}},{key:"Trt",get:function(){return this.oa.src||""}}]),t}();U(),Et(),Pt(),Ft(),U(),Et(),Wt(),xt(),Pt(),Qt();var Ub=function(t){function i(i,n){var r;return(r=t.call(this)||this).oa=void 0,r.bnt=void 0,r.nI=function(t){r.eI(t)||r.So(t)},r.oa=i,r.bnt=!n,r.wz(),r}Ct(i,t);var n=i.prototype;return n.vnt=function(){return this.oa.Kst},n._nt=function(){return this.oa.Jc},n.gnt=function(){return this.oa.Jst},n.qP=function(){return this.oa.Ma},n.Aa=function(){return this.oa.Sq},n.mnt=function(){return this.oa.pnt},n.ynt=function(){return this.oa.wnt},n.Mx=function(){return this.oa.ht},n.Ux=function(){return this.oa.Ux()},n.Hx=function(){return this.oa.Vx},n.Wx=function(t){this.oa.Vx=t},n.qx=function(){return this.oa.bt},n.Gx=function(){return this.oa.Gx()},n.Xx=function(t,i){this.oa.Xx(t,i)},n.nnt=function(){return this.oa.nnt()},n.Nd=function(){return this.oa.Nd()},n.jx=function(){return this.oa.xe},n.Kx=function(){return this.oa.Qx},n.Yx=function(){return this.oa.Yx()},n.Zx=function(){return this.oa.Zx()},n.tP=function(){return this.oa.$x},n.eP=function(){return this.oa.iP},n.hP=function(){return this.oa.rP},n.aP=function(){return this.oa.oP},n.uP=function(t){this.oa.uP(t)},n.fP=function(){return this.oa.lP},n._P=function(){return this.oa.vP},n.gP=function(t){this.oa.vP=t},n.mP=function(){return this.oa.mP()},n.yP=function(){return this.oa.wP},n.bP=function(t){this.oa.wP=t},n.TP=function(){return this.oa.AP},n.EP=function(){return this.oa.EP()},n.PP=function(){return this.oa.xP},n.RP=function(){return this.oa.nt},n.NP=function(){return this.oa.DP},n.BP=function(){return this.oa.rt},n.LP=function(){return this.oa.MP},n.FP=function(){return this.oa.OP},n.UP=function(t){this.oa.UP(t)},n.GP=function(){this.oa.GP()},n.jP=function(){this.oa.jP()},n.QP=function(){this.oa.QP()},n.be=function(){this.oa.be()},n.we=function(){this.oa.we()},n.ds=function(){return this.oa.ds()},n.zP=function(){return this.oa.zP()},n.$P=function(){this.oa.$P()},n.tI=function(){this.oa.tI()},n.sI=function(t){return this.oa.sI(t)},n.Ea=function(){this.oa.Ea()},n.nu=function(){return this.oa.nu()},n.Ta=function(t,i){return this.oa.Ta(t,i)},n.IP=function(t,i,n){return this.oa.IP(t,i,n)},n.CP=function(){return this.oa.CP()},n.KP=function(){return this.oa.KP()},n.eI=function(t){return!1},n.wz=function(){this.bnt&&this.oa.lw(this.nI)},n.yz=function(){this.bnt&&this.oa.mw(this.nI)},n.kn=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Vo(),t?[3,2]:[4,this.oa.kn()];case 1:i.sent(),i.label=2;case 2:return this.yz(),[2]}})}).call(this)},Nt(i,[{key:"Kst",get:function(){return this.vnt()}},{key:"Jc",get:function(){return this._nt()}},{key:"cnt",get:function(){return this.oa.cnt}},{key:"Jst",get:function(){return this.gnt()}},{key:"vO",get:function(){return this.oa.vO},set:function(t){this.oa.vO=t}},{key:"ant",get:function(){return this.oa.ant}},{key:"GX",get:function(){return this.oa.GX}},{key:"snt",get:function(){return this.oa.snt}},{key:"Cd",get:function(){return this.oa.Cd}},{key:"Wu",get:function(){return this.oa.Wu}},{key:"Ma",get:function(){return this.qP()}},{key:"Sq",get:function(){return this.Aa()}},{key:"Dx",get:function(){return this.oa.Dx}},{key:"VP",get:function(){return this.oa.VP}},{key:"rnt",get:function(){return this.oa.rnt}},{key:"yJ",get:function(){return this.oa.yJ}},{key:"lX",get:function(){return this.oa.lX}},{key:"ont",get:function(){return this.oa.ont}},{key:"tnt",get:function(){return this.oa.tnt}},{key:"Pa",get:function(){return this.oa.Pa}},{key:"Ql",get:function(){return this.oa.Ql}},{key:"pnt",get:function(){return this.mnt()}},{key:"wnt",get:function(){return this.ynt()}},{key:"JI",get:function(){return this.oa.JI}},{key:"Io",get:function(){return this.oa.Io}},{key:"ht",get:function(){return this.Mx()}},{key:"Vx",get:function(){return this.Hx()},set:function(t){this.Wx(t)}},{key:"bt",get:function(){return this.qx()}},{key:"xe",get:function(){return this.jx()}},{key:"Qx",get:function(){return this.Kx()}},{key:"$x",get:function(){return this.tP()}},{key:"iP",get:function(){return this.eP()}},{key:"WP",get:function(){return this.oa.WP},set:function(t){this.oa.WP=t}},{key:"rP",get:function(){return this.hP()}},{key:"oP",get:function(){return this.aP()},set:function(t){this.uP(t)}},{key:"lP",get:function(){return this.fP()}},{key:"vP",get:function(){return this._P()},set:function(t){this.gP(t)}},{key:"wP",get:function(){return this.yP()},set:function(t){this.bP(t)}},{key:"AP",get:function(){return this.TP()}},{key:"Na",get:function(){return this.oa.Na},set:function(t){this.oa.Na=t}},{key:"xP",get:function(){return this.PP()}},{key:"nt",get:function(){return this.RP()}},{key:"DP",get:function(){return this.NP()}},{key:"rt",get:function(){return this.BP()}},{key:"MP",get:function(){return this.LP()}},{key:"OP",get:function(){return this.FP()},set:function(t){this.UP(t)}}]),i}(nh),Vb=function(t){return t[t.lu=0]="lu",t[t.Ant=1]="Ant",t[t.Snt=2]="Snt",t}({}),Hb=ur(3,function(){return[]});function Wb(t,i){Hb[i].push(t)}var zb=function(t){return t[t.Tnt=0]="Tnt",t[t.Ant=1]="Ant",t[t.knt=2]="knt",t[t.Ent=3]="Ent",t[t.bC=4]="bC",t}({}),Xb=ur(5,function(){return[]});function qb(t,i){Xb[i].push(t)}var Gb=[];!function(t){Gb.push(t)}(function(t){new Fb(t.Ca,t.cnt)}),U(),Et(),Pt(),U(),Et(),Pt();var jb=function(){function t(){}return t.DT=function(){return t.Bg||(t.Bg=Qb.US()?new Qb:new xd),t.Bg},t.jy=function(i){t.DT().jy(i)},t.CT=function(){t.DT().CT()},t.zy=function(i){return t.DT().zy(i)},t.Gy=function(i,n){t.DT().Gy(i,n)},t.HJ=function(i){var n=t.zy(i);if(void 0!==n)return T(n)},t.WJ=function(i){return"true"===t.zy(i)},t}();jb.Bg=void 0;var Qb=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.jy=function(t){self.localStorage.removeItem(t)},n.CT=function(){self.localStorage.clear()},n.zy=function(t){var i;return null!=(i=self.localStorage.getItem(t))?i:void 0},n.Gy=function(t,i){self.localStorage.setItem(t,i)},i.US=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},i}(jb),Yb="theoplayer-stored-volume",Kb="theoplayer-stored-mutedstate";Wb(function(t){return function(t){function i(i,n){var r;if(r=t.call(this,i,n)||this,n.persistVolume){var e=jb.HJ(Yb);(void 0===e||S(e))&&(e=1);var s=jb.WJ(Kb)||!1;r.OP=e,r.oP=s}return r}Ct(i,t);var n=i.prototype;return n.uP=function(i){this.Cd.persistVolume&&jb.Gy(Kb,""+Boolean(i)),t.prototype.uP.call(this,i)},n.UP=function(i){this.Cd.persistVolume&&jb.Gy(Yb,""+Number(i)),t.prototype.UP.call(this,i)},i}(t)},Vb.lu),U(),Et(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt();var Jb=function(t){function i(i){var n;return(n=t.call(this)||this).Lx=void 0,n.nI=function(t){n.eI(t)||n.So(t)},n.Lx=i,i.lw(n.nI),n}Ct(i,t);var n=i.prototype;return n.Mx=function(){return this.Lx.ht},n.Ox=function(){return this.Lx.Ox()},n.Ux=function(){return this.Lx.Fx},n.Hx=function(){return this.Lx.Vx},n.Wx=function(t){this.Lx.Vx=t},n.qx=function(){return this.Lx.bt},n.Gx=function(){return this.Lx.zx},n.Xx=function(t,i){this.Lx.Xx(t,i)},n.Nd=function(){return this.Lx.ct},n.jx=function(){return this.Lx.xe},n.Kx=function(){return this.Lx.Qx},n.Yx=function(){return this.Lx.lt},n.Zx=function(){return this.Lx.Jx},n.tP=function(){return this.Lx.$x},n.eP=function(){return this.Lx.iP},n.nP=function(){return this.Lx.sP},n.hP=function(){return this.Lx.rP},n.aP=function(){return this.Lx.oP},n.uP=function(t){this.Lx.oP=t},n.dP=function(){return this.Lx.cP},n.fP=function(){return this.Lx.lP},n._P=function(){return this.Lx.vP},n.gP=function(t){this.Lx.vP=t},n.mP=function(){return this.Lx.pP},n.yP=function(){return this.Lx.wP},n.bP=function(t){this.Lx.wP=t},n.TP=function(){return this.Lx.AP},n.EP=function(){return this.Lx.kP},n.PP=function(){return this.Lx.xP},n.nu=function(){return this.Lx.nu()},n.Ta=function(t,i){return this.Lx.Ta(t,i)},n.IP=function(t,i,n){return this.Lx.IP(t,i,n)},n.CP=function(){return this.Lx.CP()},n.RP=function(){return this.Lx.nt},n.NP=function(){return this.Lx.DP},n.BP=function(){return this.Lx.rt},n.LP=function(){return this.Lx.MP},n.HP=function(){return this.Lx.VP},n.FP=function(){return this.Lx.OP},n.UP=function(t){this.Lx.OP=t},n.qP=function(){return this.Lx.qP()},n.Aa=function(){return this.Lx.Aa()},n.zP=function(){return this.Lx.zP()},n.gr=function(t){this.Lx.gr(t)},n.mr=function(){this.Lx.mr()},n.we=function(){this.Lx.we()},n.GP=function(){this.Lx.GP()},n.jP=function(){this.Lx.jP()},n.QP=function(){this.Lx.QP()},n.be=function(){this.Lx.be()},n.KP=function(){return this.Lx.KP()},n.YP=function(){return this.Lx.YP()},n.JP=function(){this.Lx.JP()},n.ZP=function(){this.Lx.ZP()},n.hr=function(){return this.Lx.hr()},n.$P=function(){this.Lx.$P()},n.tI=function(){this.Lx.tI()},n.iI=function(t){return this.Lx.iI(t)},n.eI=function(t){return!1},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.Lx.kn()];case 1:return t.sent(),[2]}})}).call(this)},n.sI=function(t){return this.Lx.sI(t)},Nt(i,[{key:"ht",get:function(){return this.Mx()}},{key:"Fx",get:function(){return this.Ux()}},{key:"Vx",get:function(){return this.Hx()},set:function(t){this.Wx(t)}},{key:"bt",get:function(){return this.qx()}},{key:"zx",get:function(){return this.Gx()},set:function(t){this.Xx(t)}},{key:"ct",get:function(){return this.Nd()}},{key:"xe",get:function(){return this.jx()}},{key:"Qx",get:function(){return this.Kx()}},{key:"lt",get:function(){return this.Yx()}},{key:"Jx",get:function(){return this.Zx()}},{key:"$x",get:function(){return this.tP()}},{key:"iP",get:function(){return this.eP()}},{key:"sP",get:function(){return this.nP()}},{key:"rP",get:function(){return this.hP()}},{key:"oP",get:function(){return this.aP()},set:function(t){this.uP(t)}},{key:"cP",get:function(){return this.dP()}},{key:"lP",get:function(){return this.fP()}},{key:"vP",get:function(){return this._P()},set:function(t){this.gP(t)}},{key:"pP",get:function(){return this.mP()}},{key:"wP",get:function(){return this.yP()},set:function(t){this.bP(t)}},{key:"AP",get:function(){return this.TP()}},{key:"kP",get:function(){return this.EP()}},{key:"xP",get:function(){return this.PP()}},{key:"nt",get:function(){return this.RP()}},{key:"DP",get:function(){return this.NP()}},{key:"rt",get:function(){return this.BP()}},{key:"MP",get:function(){return this.LP()}},{key:"OP",get:function(){return this.FP()},set:function(t){this.UP(t)}},{key:"VP",get:function(){return this.HP()}},{key:"WP",get:function(){return this.Lx.WP},set:function(t){this.Lx.WP=t}}]),i}(nh);U(),Et(),Pt(),U(),Et(),xt(),Pt(),Ft();var Zb=function(t){function i(){var i;return(i=t.call(this)||this).FI=void 0,i.WI=function(t){var n=t.Ht;i.tt(n)},i.qI=function(t){var n=t.Ht;i.it(n)},i}Ct(i,t);var n=i.prototype;return n.HI=function(t){t.wn(Iw.rI,this.WI),t.wn(Iw.oI,this.qI)},n.UI=function(t){t.mn(Iw.rI,this.WI),t.mn(Iw.oI,this.qI)},n.kn=function(i){!i&&this.FI&&this.FI.kn(),t.prototype.kn.call(this)},Nt(i,[{key:"OI",get:function(){return this.FI},set:function(t){var i=this.FI;if(t!==i){if(i){this.UI(i);for(var n,r=Lt(i.NI);!(n=r()).done;){var e=n.value;t&&t.LI(e)||this.it(e)}}if(this.FI=t,t){for(var s,u=[],o=Lt(t.NI);!(s=o()).done;){var h=s.value;this.tt(h),this.VI(h)&&u.push(h)}this.HI(t);for(var a,c=Lt(u);!(a=c()).done;){var f=a.value;f.So(new wg(f))}}}}}]),i}(xw),$b=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.xa=function(){return ng(this)},n.VI=function(t){return t.Rt},i}(Zb);U(),Et(),Pt();var tA=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.xa=function(){return Ym(this)},n.VI=function(t){return t.Qk===zm.Kn},i}(Zb);U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var iA=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).hu=void 0,i}return Ct(i,t),i.prototype.dC=function(){},Nt(i,[{key:"hC",get:function(){}},{key:"oC",get:function(){}},{key:"aC",get:function(){}},{key:"uC",get:function(){return!1}},{key:"cC",get:function(){}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=nA(this)}}]),i}(th);function nA(t){return{goLive:function(){return t.dC()},get isLive(){return t.uC},get latencies(){return t.hC},get videoLatencies(){return t.oC},get audioLatencies(){return t.aC},get manifest(){return t.cC},addEventListener:function(i,n){t.wn(eA(i),n)},removeEventListener:function(i,n){t.mn(eA(i),n)}}}var rA=["golive","latencyrecoveryseek"];function eA(t){var i=Qw(t,Gw);return(Xi(i)?[i]:i).filter(function(t){return jn(rA,t)})}var sA=function(t){function i(){var i;return(i=t.call(this)||this).FI=void 0,i.hu=void 0,i.FI=void 0,i}Ct(i,t);var n=i.prototype;return n.HI=function(t){t.wn(rA,this.Rs)},n.UI=function(t){t.mn(rA,this.Rs)},n.dC=function(){var t;null==(t=this.FI)||t.dC()},n.kn=function(){this.Vo(),this.FI&&this.UI(this.FI),this.FI=void 0},Nt(i,[{key:"OI",get:function(){return this.FI},set:function(t){var i=this.FI;t!==i&&(i&&this.UI(i),t&&this.HI(t),this.FI=t)}},{key:"Ca",get:function(){return this.hu||(this.hu=nA(this)),this.hu}},{key:"hC",get:function(){var t;return null==(t=this.FI)?void 0:t.hC}},{key:"oC",get:function(){var t;return null==(t=this.FI)?void 0:t.oC}},{key:"aC",get:function(){var t;return null==(t=this.FI)?void 0:t.aC}},{key:"uC",get:function(){return!!this.FI&&this.FI.uC}},{key:"cC",get:function(){var t;return null==(t=this.FI)?void 0:t.cC}}]),i}(th);U(),Et(),U(),Et();var uA="8E80B9CE",oA=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function hA(t){return{appID:t&&t.appID?Gw(t.appID):uA}}U(),Et(),Ft(),U(),Et();var aA=function(t){return t.Fk="",t.lC="anonymous",t.fC="use-credentials",t}({}),cA=function(t){return t.vC="application/dash+xml",t._C="application/vnd.apple.mpegurl",t.gC="application/x-mpegurl",t.pC="video/mp4",t.mC="application/vnd.theoplayer.hesp+json",t.wC="application/vnd.theo.hesp+json",t.yC="millicast",t.bC="theolive",t}({});function fA(t){if(null!==t)return t}function vA(t){var i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:fA(t.streamActivityMonitorID),adTagParameters:Wi(t.adTagParameters)?t.adTagParameters:{},authToken:fA(t.authToken),omidAccessModeRules:fA(t.omidAccessModeRules)};if(t.enableNonce&&(i.enableNonce=!0),"vod"===(null==t?void 0:t.availabilityType)||function(t){var i=t;return Boolean(i.videoID&&i.contentSourceID)}(t)){var n=t.videoID,r=t.contentSourceID;return n?r?Yu({},i,{availabilityType:"vod",videoID:n,contentSourceID:r}):void Ui.um("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Ui.um("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var i=t;return Boolean(i.assetKey)}(t)){var e=t.assetKey;return e?Yu({},i,{availabilityType:"live",assetKey:e}):void Ui.um("A Live DAI configuration was provided without valid assetKey which is required.")}Ui.um("A DAI configuration was provided without a valid availabilityType which is required.")}function dA(t){return"google-dai"===t.integration?vA(t):Yu({},t,{integration:String(t.integration)})}function lA(t,i,n){var r=function(t,i,n){var r,e=function(t,i){var n=aA.Fk;return t.useCredentials?n=aA.fC:t.crossOrigin&&(n=XA(t.crossOrigin)),n===aA.Fk&&i&&i.vr&&i.vr[360]&&(n=aA.lC),{useCredentials:n===aA.fC,crossOrigin:n}}(t,i),s=e.useCredentials,u=e.crossOrigin,o=t.liveOffset;Li(o)||(o=n&&Li(n.liveOffset)?n.liveOffset:void 0);var h=t.timeServer;Li(h)||(h=i&&Li(i.timeServer)?i.timeServer:void 0);var a=t.hlsDateRange;Li(a)||(a=n&&Li(n.hlsDateRange)?Boolean(n.hlsDateRange):void 0);var c,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),w=Boolean(t.useManagedMediaSource),g=Li(t.dash)?gA(t.dash):void 0,_=Li(t.hls)?_A(t.hls):void 0,m=pA(yA(t.abr),null==n?void 0:n.abr),y=zw(t.lcevc),p=Li(t.ignoreEmbeddedTextTrackTypes)?hT(t.ignoreEmbeddedTextTrackTypes):[],k=UA(null!=(c=t.seamlessSwitchStrategy)?c:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),b=MA(t.latencyConfiguration);return{crossOrigin:u,useCredentials:s,liveOffset:o,timeServer:h,hlsDateRange:a,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:w,dash:g,hls:_,abr:m,lcevc:y,ignoreEmbeddedTextTrackTypes:p,seamlessSwitchStrategy:k,latencyConfiguration:b}}(t,i,n),e=fA(t.src),s=t.type;s||(s=t.src?zA(t.src):void 0);var u=function(t,i){var n;n=Li(t.contentProtection)?t.contentProtection:Li(t.drm)?t.drm:Li(i)&&Li(i.contentProtection)?i.contentProtection:Li(i)&&Li(i.drm)?i.drm:void 0;return wA(n)}(t,i);return Yu({},r,{src:e,type:s,contentProtection:u,ssai:Li(t.ssai)?dA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function wA(t){return bp(t)&&t.integration&&t.integration===jy?function(t){var i=Cp(Eo.zm,t),n=Cp(Eo.qm,t),r=t[Eo.jm]&&Cp(Eo.jm,t);return Yu({integration:"keyos",widevine:i,playready:n},r?{fairplay:r}:{})}(t):t}function gA(t){return{useSeamlessPeriodSwitch:UA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:zw(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Xw(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:zw(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:zw(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:zw(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:zw(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:zw(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function _A(t){return{discontinuityAlignment:mA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Ww(null==t?void 0:t.delaySubtitlePreload)}}function mA(t){if(!t||!Xi(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function yA(t){if(Li(t))return kA(jw(null==t?void 0:t.preferredAudioCodecs,Gw),jw(null==t?void 0:t.preferredVideoCodecs,Gw),zw(null==t?void 0:t.restrictToPlayerSize))}function pA(t,i){var n;if(Li(t)||Li(i))return kA(bA(null==t?void 0:t.preferredAudioCodecs,null==i?void 0:i.preferredAudioCodecs),bA(null==t?void 0:t.preferredVideoCodecs,null==i?void 0:i.preferredVideoCodecs),null!=(n=null==t?void 0:t.restrictToPlayerSize)?n:null==i?void 0:i.restrictToPlayerSize)}function kA(t,i,n){if(0!==t.length||0!==i.length||void 0!==n)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===i.length?void 0:i,restrictToPlayerSize:n}}function bA(t,i){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=i?i:[]}function AA(t,i){if(void 0!==i)switch(t){case eg.Mk:return i.preferredVideoCodecs;case eg.Bk:return i.preferredAudioCodecs;default:return}}U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),xt(),Pt(),U(),Et();var TA=!1;function SA(t,i,n){return n?t<=i:t<i}U(),Et(),xt();var EA=function(){function t(t,i){this.V=void 0,this.CM=void 0,this.DM=void 0,this.V=t.length>>1,this.CM=t,this.DM=i||function(t){for(var i=new Array(2*t),n=0,r=0;n<t;n+=1,r+=2)i[r]=!0,i[r+1]=!1;return i}(this.V)}var i=t.prototype;return i.Tn=function(t){return this.CM[2*t]},i.An=function(t){return this.CM[2*t+1]},i.RM=function(t){return this.DM[2*t]},i.NM=function(t){return this.DM[2*t+1]},i._s=function(){var t=this;return{get length(){return t.V},start:function(i){var n=0|i;return t.BM(n),t.Tn(n)},end:function(i){var n=0|i;return t.BM(n),t.An(n)}}},i.MM=function(){for(var i=new Array(2*this.V),n=new Array(2*this.V),r=0;r<this.V;r++)i[2*r]=this.Tn(r),i[2*r+1]=this.An(r),n[2*r]=!0,n[2*r+1]=!0;return new t(i,n)},i.BM=function(t){if(t<0)throw new y("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new y("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},i.LM=function(t){if(0===this.V)return 0;if(this.Cr(t))return t;if(t<=this.Tn(0))return this.Tn(0);if(t>=this.An(this.V-1))return this.An(this.V-1);for(var i=0,n=1/0,r=0;r<this.V;r++){var e=this.Tn(r),s=b.abs(e-t);s<n&&(i=e,n=s);var u=this.An(r),o=b.abs(u-t);o<n&&(i=u,n=o)}return i},i.Mn=function(i){for(var n=0,r=0,e=[],s=[];n<this.V&&r<i.V;){var u=this.Tn(n),o=this.An(n),h=this.RM(n),a=this.NM(n),c=i.Tn(r),f=i.An(r),v=i.RM(r),d=i.NM(r),l=b.max(u,c),w=b.min(o,f),g=void 0;g=u===c?h&&v:l===u?h:v;var _=void 0;_=o===f?a&&d:w===o?a:d,(l<w||g&&_&&l===w)&&(e.push(l,w),s.push(g,_)),o===f?(n+=1,r+=1):o<f?n+=1:r+=1}return new t(e,s)},i.OM=function(){var i=this.FM(),n=i.V;if(0===n)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],s=i.Tn(0);s!==-1/0&&(r.push(-1/0,s),e.push(!1,!i.RM(0)));for(var u=0;u<n-1;u++)r.push(i.An(u),i.Tn(u+1)),e.push(!i.NM(u),!i.RM(u+1));var o=i.An(n-1);return o!==1/0&&(r.push(o,1/0),e.push(!i.NM(n-1),!1)),new t(r,e)},i.UM=function(i){for(var n=0,r=0,e=this.V,s=i.V,u=new Array(2*(e+s)),o=new Array(2*(e+s)),h=0;n<e&&r<s;){var a=this.Tn(n),c=this.An(n),f=i.Tn(r),v=i.An(r);a<f||a===f&&c<v?(u[h]=a,u[h+1]=c,o[h]=this.RM(n),o[h+1]=this.NM(n),n++):(u[h]=f,u[h+1]=v,o[h]=i.RM(r),o[h+1]=i.NM(r),r++),h+=2}for(;n<e;)u[h]=this.Tn(n),u[h+1]=this.An(n),o[h]=this.RM(n),o[h+1]=this.NM(n),n++,h+=2;for(;r<s;)u[h]=i.Tn(r),u[h+1]=i.An(r),o[h]=i.RM(r),o[h+1]=i.NM(r),r++,h+=2;return new t(u,o)},i.VM=function(i){void 0===i&&(i=0);var n=this.V;if(n<2)return this;for(var r=[],e=[],s=this.Tn(0),u=this.An(0),o=this.RM(0),h=this.NM(0),a=1;a<n;a++){var c=this.Tn(a),f=this.An(a),v=this.RM(a),d=this.NM(a);s<c&&u>f||(s===c&&(o=v=o||v),u===f&&(h=d=h||d),SA(c,u+i,h||v)?(u=f,h=d):(r.push(s,u),e.push(o,h),s=c,u=f,o=v,h=d))}return r.push(s,u),e.push(o,h),new t(r,e).FM()},i.FM=function(){for(var i=[],n=[],r=0;r<this.V;r++){var e=this.Tn(r),s=this.An(r),u=this.RM(r),o=this.NM(r);e===s?(u||o)&&(i.push(e,s),n.push(!0,!0)):(i.push(e,s),n.push(u,o))}return new t(i,n)},i.HM=function(t){return 0===this.V?t:0===t.V?this:this.UM(t).VM()},i.WM=function(t){var i=this.FM(),n=t.FM(),r=i.OM(),e=n.OM(),s=r.Mn(n),u=e.Mn(i);return s.HM(u)},i.Ly=function(i){if(0===this.V||0===i)return this;for(var n=[],r=[],e=0;e<this.V;e++){var s=this.Tn(e)+i,u=this.An(e)+i;n.push(s,u),r.push(this.RM(e),this.NM(e))}return new t(n,r)},i.qM=function(t){return 0===this.V||0===t.V?this:this.FM().Mn(t.FM().OM())},i.Cr=function(t,i){return this.zM(t,i)>=0},i.GM=function(t,i,n,r,e){return this.XM(t,i,n,r,e)>=0},i.jM=function(t,i,n,r,e){return this.QM(t,i,n,r,e)>=0},i.KM=function(t){if(t.V!==this.V)return!1;for(var i=0;i<this.V;i++)if(this.Tn(i)!==t.Tn(i)||this.An(i)!==t.An(i)||this.RM(i)!==t.RM(i)||this.NM(i)!==t.NM(i))return!1;return!0},i.YM=function(i){for(var n=[],r=[],e=0;e<this.V;e++){var s=this.Tn(e),u=this.An(e),o=this.RM(e),h=this.NM(e);i(s,u,o,h)&&(n.push(s,u),r.push(o,h))}return new t(n,r)},i.QM=function(t,i,n,r,e){void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var s=t-e,u=i+e,o=0;o<this.V;o+=1)if(SA(this.Tn(o),u,!r||this.RM(o))&&SA(s,this.An(o),!n||this.NM(o)))return o;return-1},i.XM=function(t,i,n,r,e){void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var s=t+e,u=i-e,o=0;o<this.V;o+=1)if(SA(this.Tn(o),s,!n||this.RM(o))&&SA(u,this.An(o),!r||this.NM(o)))return o;return-1},i.zM=function(t,i){return this.XM(t,t,!0,!0,i)},i.JM=function(t,i){void 0===i&&(i=0);for(var n=t+i,r=this.V-1;r>=0;r-=1)if(SA(this.Tn(r),n,this.RM(r)))return r;return-1},i.ZM=function(t,i){void 0===i&&(i=0);for(var n=t-i,r=0;r<this.V;r+=1)if(SA(n,this.An(r),this.NM(r)))return r;return-1},i.$M=function(t,i){void 0===i&&(i=0);for(var n=t+i,r=0;r<this.V;r+=1)if(this.Tn(r)>n)return r;return-1},i.tL=function(i){return this.BM(i),new t([this.Tn(i),this.An(i)],[this.RM(i),this.NM(i)])},i.iL=function(t,i){var n=this.zM(t,i);return n<0?void 0:this.tL(n)},t.jn=function(i){for(var n=[],r=0;r<i.length;r++)n.push(i.start(r),i.end(r));return new t(n)},t.sL=function(i){return new t([i,i],[!0,!0])},t.nL=function(i,n){return i<=n?new t([i,n]):t.rL()},t.rL=function(){return IA},t.hL=function(){return RA},Nt(t,[{key:"IM",get:function(){return this.CM.slice()}},{key:"eL",get:function(){for(var t=0,i=0;i<this.V;i++){t+=this.An(i)-this.Tn(i)}return t}}]),t}(),IA=new EA([]),RA=new EA([0,1/0]),CA=.92,PA=1.08,DA=.25,NA=function(t){function i(i,n,r){var e,s;return(e=t.call(this)||this).oa=void 0,e.PL=void 0,e.ho=!1,e.We=!1,e.mL=void 0,e.uL=void 0,e.SL=void 0,e.TL=void 0,e.pL=void 0,e.dL=[],e.xL=!1,e.gL=0,e._E=void 0,e.bL=0,e.yL=1/0,e.IL=void 0,e.CL=void 0,e.DL=function(){var t=e.PL.Fx,i=e.PL.zx,n=t.iL(i);n&&(e.gL=Tn(n.An(0)-i,e.gL,.5),e.lL())},e.NL=function(){e.xL=!0,e.oa.mn(Ry.PM,e.NL),e.We&&e.Tn()},e._L=function(){e.EL(),e.kL();var t=e.LL;if(t){var i=e.FL();if(t>e.uL.forceSeekOffset)return e.So(new rh("latencyrecoveryseek")),void e.dC();var n=e.uL,r=n.minimumOffset,s=n.targetOffset,u=n.maximumOffset,o=e.PL.vP;if(!e.UL(i,r,u))if(i>u&&e.VL()){var h=e.uL.maximumPlaybackRate;TA,e.RL(h)}else if(i<r&&!Ui.Zs.pp){var a=e.uL.minimumPlaybackRate;TA,e.RL(a)}else if(o>1&&i<s){TA,e.RL(1)}else if(o<1&&i>s){TA,e.RL(1)}}},e.oa=i,e.PL=n,e.pL=r,e.SL=r.targetOffset,e.TL=r.targetOffset+(null!=(s=r.leniency)?s:0),e.mL=r.targetOffset,e.uL=e.vL(),e.oa.wn(Ry.xM,e.DL),e.oa.wn(Ry.PM,e.NL),e}Ct(i,t);var n=i.prototype;return n.cL=function(t){this.dL.push(t),this.lL()},n.fL=function(t){Xn(this.dL,t),this.lL()},n.lL=function(){this.uL=this.vL(),this.ho&&this._L()},n.vL=function(){var t=this.gL,i=function(t,i){var n=i-t.targetOffset;return{minimumOffset:t.minimumOffset+n,targetOffset:t.targetOffset+n,maximumOffset:t.maximumOffset+n,forceSeekOffset:t.forceSeekOffset+n,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.pL,this.mL),n=[].concat([i],this.dL),r=n.reduce(function(t,i){var n;return b.max(t,null!=(n=null==i?void 0:i.minimumOffset)?n:0)},t),e=n.reduce(function(t,i){var n;return b.max(t,null!=(n=null==i?void 0:i.targetOffset)?n:0)},r+DA),s=n.reduce(function(t,i){var n;return b.max(t,null!=(n=null==i?void 0:i.maximumOffset)?n:0)},e+DA);return{minimumOffset:r,targetOffset:e,maximumOffset:s,forceSeekOffset:n.reduce(function(t,i){var n;return b.max(t,null!=(n=null==i?void 0:i.forceSeekOffset)?n:0)},s+DA),minimumPlaybackRate:n.reduce(function(t,i){var n;return b.min(t,null!=(n=i.minimumPlaybackRate)?n:CA)},CA),maximumPlaybackRate:n.reduce(function(t,i){var n;return b.max(t,null!=(n=i.maximumPlaybackRate)?n:PA)},PA)}},n.wL=function(){var t,i=null==(t=EA.jn(this.oa.Fx).iL(this.oa.zx))?void 0:t.An(0),n=void 0!==i?i-this.oa.zx:0;this.yL=b.min(this.yL,n),this.bL+=1},n.AL=function(){if(!(this.bL<10)){var t=.25-this.yL,i=Tn(this.mL+t,this.mL-.1,this.mL+.1);this.mL=Tn(i,this.SL,this.TL),this.yL=1/0,this.bL=0}},n.kL=function(){var t=this;this.EL(),this._E=Ui.Og(function(){return t._L()},500)},n.EL=function(){void 0!==this._E&&(Ui.Lg(this._E),this._E=void 0)},n.Tn=function(){var t=this;this.We&&this.xL&&(this.ho||this.PL.wn(eh.py,this._L),this.IL=Ui.fm(function(){return t.wL()},1e3),this.CL=Ui.fm(function(){return t.AL()},6e4),this.kL(),this.ho=!0)},n.KP=function(){this.ho&&(this.EL(),this.IL&&Ui.vm(this.IL),this.CL&&Ui.vm(this.CL),this.PL.mn(eh.py,this._L),this.RL(1),this.ho=!1)},n.zg=function(){this.KP(),this.oa.mn(Ry.xM,this.DL),this.oa.mn(Ry.PM,this.NL),this.Vo()},n.RL=function(t){this.PL.ML.BL||this.oa.vP!==t&&(this.oa.vP=t)},Nt(i,[{key:"oL",get:function(){return this.We&&this.ho}},{key:"aL",get:function(){return this.uL}},{key:"Rt",get:function(){return this.We},set:function(t){this.We=t,t?this.Tn():this.KP()}},{key:"LL",get:function(){return this.oa.OL}}]),i}(th),xA=.66,BA=1.5,OA=3;function MA(t){if(Li(t)){var i,n,r,e,s,u,o=Ui.Zs.mp?10:0,h=t.targetOffset;return{minimumOffset:null!=(i=t.minimumOffset)?i:h*xA,targetOffset:h,maximumOffset:null!=(n=t.maximumOffset)?n:h*BA,forceSeekOffset:b.max(null!=(r=t.forceSeekOffset)?r:h*OA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:CA,maximumPlaybackRate:null!=(s=t.maximumPlaybackRate)?s:PA,leniency:null!=(u=t.leniency)?u:void 0}}}var LA=function(t){return t.HL="auto",t.WL="always",t.qL="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),FA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function UA(t){if(!t||!Xi(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}U(),Et(),U(),Et();var VA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});U(),Et();var HA=!1;U(),Et();var WA=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function zA(t){var i=null==t?void 0:t.match(/\b(?:m3u8|mpd)\b/i);if(!i)return cA.pC;switch(i[0].toLowerCase()){case"mpd":return cA.vC;case"m3u8":return cA._C;default:return cA.pC}}function XA(t){switch(t){case aA.lC:case aA.fC:return t;default:return aA.Fk}}function qA(t){if(!t)return!1;var i=t.toLowerCase();return Fo(i,cA.vC)}function GA(t){if(!t)return!1;var i=t.toLowerCase();return Fo(i,cA._C)||Fo(i,cA.gC)}function jA(t){return Wi(t)&&Wi(t.ssai)&&"google-dai"===t.ssai.integration}function QA(t){return Wi(t)&&"uplynk"===t.integration}function YA(t){return Wi(t)&&"theolive"===t.type}function KA(t){return Wi(t)&&"mediatailor"===t.integration}function JA(t){return Wi(t)&&"millicast"===t.type}function ZA(t){if(Xi(t))return!t;if(QA(t))return!t.id;if(jA(t)){var i=t.ssai,n="live"===i.availabilityType&&i.assetKey,r="vod"===i.availabilityType&&i.contentSourceID&&i.videoID;return Boolean(n&&r)}return JA(t)?!t.src||!t.streamAccountId:!t.src}function $A(t){return Boolean(Wi(t)&&Xi(t.src))}function tT(t){return t.type===cA.mC||t.type===cA.wC}function iT(t){return Xi(t)||$A(t)||jA(t)||QA(t)||JA(t)}function nT(t){if(t){if(iT(t))return ZA(t);for(var i,n=Lt(t);!(i=n()).done;){if(!ZA(i.value))return!1}return!0}return!0}function rT(){return{crossOrigin:aA.Fk,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:LA.HL,latencyConfiguration:void 0}}function eT(){return Yu({},rT(),{src:void 0,type:cA.pC,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function sT(t){var i={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:VA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!0,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1},theoads:HA,allowSkipAdBreak:!1};return void 0===t||(void 0!==t.preload&&(i.preload=function(t){return"none"===t?WA.NONE:WA.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(i.showCountdown=Ww(t.showCountdown)),void 0!==t.vpaidMode&&(i.vpaidMode=function(t){switch(t){case"insecure":return VA.INSECURE;case"disabled":return VA.DISABLED;default:return VA.ENABLED}}(t.vpaidMode)),Vi(t.allowedMimeTypes)&&(i.allowedMimeTypes=t.allowedMimeTypes.filter(Xi)),void 0!==t.googleIma&&(i.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!0,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1}:{useNativeIma:Ww(t.useNativeIma),useAdUiElementForSsai:null==(i=zw(t.useAdUiElementForSsai))||i,bitrate:null!=(n=t.bitrate)?n:-1,language:Li(t.language)?Gw(t.language):void 0,uiElements:t.uiElements,allowSeekingForGoogleDai:Ww(t.allowSeekingForGoogleDai)};var i,n}(t.googleIma)),void 0!==t.theoads?i.theoads=Ww(t.theoads):i.theoads=HA,i.allowSkipAdBreak=Ww(t.allowSkipAdBreak)),i}function uT(t){if(!Hi(t))return[];for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value;Wi(e)&&n.push(e)}return n}function oT(t){return Xi(t.src)||JA(t)}function hT(t){return Vi(t)?t.filter(xg):[]}U(),Et(),Pt();var aT=function(t){function i(i,n){var r;return void 0===n&&(n=Dy.zL),(r=t.call(this,eh.Rw)||this).currentTime=void 0,r.readyState=void 0,r.currentTime=i,r.readyState=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var cT=function(t){function i(i){var n;return(n=t.call(this,eh.jw)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var fT=function(t){function i(i){var n;return(n=t.call(this,eh.uo)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var vT=function(t){function i(i){var n;return(n=t.call(this,eh.Cw)||this).duration=void 0,n.duration=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var dT=function(t){function i(i,n){var r;return(r=t.call(this,eh.Kw)||this).currentTime=void 0,r.playbackRate=void 0,r.currentTime=i,r.playbackRate=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var lT=function(t){function i(i){var n;return(n=t.call(this,eh.Nw)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var wT=function(t){function i(i){var n;return(n=t.call(this,eh.$w)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var gT=function(t){function i(i){var n;return(n=t.call(this,eh.Zw)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var _T=function(t){function i(i,n){var r;return(r=t.call(this,eh.wy)||this).currentTime=void 0,r.volume=void 0,r.currentTime=i,r.volume=n,r}return Ct(i,t),i}(rh);function mT(){return Vt(function(t,i,n,r,e){var s,u,o;return zt(this,function(h){switch(h.label){case 0:void 0===n&&(n=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),s=0,h.label=1;case 1:0,h.label=2;case 2:return h.trys.push([2,4,,7]),[4,t(s,i)];case 3:return[2,h.sent()];case 4:return lr(u=h.sent()),s<n?(o=b.min(r*b.pow(2,s),e),s++,[4,Ar(o,i)]):[3,6];case 5:return h.sent(),[3,1];case 6:throw u;case 7:return[3,1];case 8:return[2]}})}).apply(this,arguments)}U(),Et(),Wt(),Qt();var yT={maxRetries:void 0,minimumBackoff:200,maximumBackoff:3e4},pT=Yu({},yT,{maxRetries:1/0});U(),Et();var kT=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),bT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function AT(t){switch(t){case"all":case"content":return t;default:return"none"}}function TT(t){var i=Lw(t||{});return i.libraryLocation&&(i.libraryLocation=Rl(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){var i=hA(t?t.chromecast:void 0),n=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:i,strategy:n}}(i.cast),i.ads=sT(i.ads),i.analytics=uT(i.analytics),i.mutedAutoplay=AT(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return Xi(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return Rl(t)}catch(t){return void Ui.um("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.abr=yA(i.abr),i.retryConfiguration=function(t){var i=Yu({},yT);return void 0!==t&&(void 0!==t.maxRetries&&(i.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(i.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(i.maximumBackoff=Number(t.maximumBackoff))),i}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return Yu({},t,{externalSessionId:t.externalSessionId?Gw(t.externalSessionId):void 0,fallbackEnabled:zw(t.fallbackEnabled)})}(i.theoLive),i.ps5=function(t){var i;return Yu({},t,{playMode:"2K"===(null==t?void 0:t.playMode)?"2K":"4K",passThrough:null==(i=zw(null==t?void 0:t.passThrough))||i})}(i.ps5),i}function ST(t){return{bt:t.bt,zx:t.zx,ct:t.ct,Qx:t.Qx,lt:t.lt,Jx:t.Jx,oP:t.oP,lP:t.lP,vP:t.vP,AP:t.AP,xP:t.xP,DP:t.DP,MP:t.MP,OP:t.OP}}function ET(t,i){var n=i.OP,r=i.oP;t.OP=n,t.oP=r}function IT(t,i,n){if(i!==n){var r=i.bt!==n.bt,e=i.zx,s=i.ct,u=i.oP,o=i.lP,h=i.vP,a=i.AP,c=i.xP,f=(i.MP,i.DP,i.OP),v=n.zx,d=n.ct,l=n.Qx,w=n.Jx,g=n.oP,_=n.lP,m=n.vP,y=n.AP,p=n.xP,k=(n.MP,n.DP,n.OP);(r||a>Dy.zL&&y===Dy.zL)&&t.So(new aT(v,y)),_&&!o?t.So(new cT(v)):!_&&o&&t.So(new fT(v)),y>=Dy.Qn&&(r||a<Dy.Qn)&&t.So(new Ny(v,y)),d===s||S(d)&&S(s)||t.So(new vT(d)),m!==h&&t.So(new dT(v,m)),v!==e&&t.So(new bw(v,void 0)),l&&t.So(new lT(v)),y>=Dy.GL&&(r||a<Dy.GL)&&t.So(new xy(v,y)),p&&!c?t.So(new wT(v)):!p&&c&&t.So(new gT(v)),k===f&&g===u||t.So(new _T(v,k)),y>=Dy.XL&&(r||a<Dy.XL)&&t.So(new Oy(v,y)),y>=Dy.jL&&(r||a<Dy.jL)&&t.So(new My(v,y)),y!==a&&t.So(new Py(v,y)),w&&t.So(new yb(w))}}function RT(t){switch(t){case kT.INLINE:case kT.FULLSCREEN:case kT.PICTURE_IN_PICTURE:case kT.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}U(),Et(),Pt();var CT=function(t){function i(i){var n;return(n=t.call(this,eh.Pw)||this).currentSource=void 0,n.currentSource=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var PT=function(t){function i(){return t.call(this,eh.Bw)||this}return Ct(i,t),i}(rh);U(),Et(),Pt();var DT=function(t){function i(){return t.call(this,eh.Lw)||this}return Ct(i,t),i}(rh);U(),Et(),xt(),Pt(),U(),Et(),Pt(),U(),Et();var NT=function(t){return t.QL="enterpictureinpicture",t.KL="exitpictureinpicture",t.ma="pictureinpictureerror",t}({}),xT=function(t){function i(){return t.call(this,NT.QL)||this}return Ct(i,t),i}(rh);U(),Et(),Pt();var BT=function(t){function i(){return t.call(this,NT.KL)||this}return Ct(i,t),i}(rh),OT=function(t){function i(i){var n;return(n=t.call(this)||this).FI=void 0,n.FI=i,n.HI(n.FI),n}Ct(i,t);var n=i.prototype;return n.HI=function(t){t.wn(NT.QL,this.Rs),t.wn(NT.KL,this.Rs),t.wn(NT.ma,this.Rs)},n.UI=function(t){t.mn(NT.QL,this.Rs),t.mn(NT.KL,this.Rs),t.mn(NT.ma,this.Rs)},n.yo=function(){return this.FI.yo()},n.jo=function(){return this.FI.jo()},n.kn=function(t){this.Vo(),this.UI(this.FI),t||this.FI.kn()},Nt(i,[{key:"OI",get:function(){return this.FI},set:function(t){if(t!==this.FI){this.UI(this.FI);var i=this.FI.YL;this.FI=t,this.HI(t),!i&&this.FI.YL?this.So(new xT):i&&!this.FI.YL&&this.So(new BT)}}},{key:"JL",get:function(){return this.FI.JL}},{key:"YL",get:function(){return this.FI.YL}}]),i}(th);U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var MT=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).hu=void 0,i}return Ct(i,t),i.prototype.ZL=function(t){return{}},Nt(i,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=LT(this)}}]),i}(th);function LT(t){return{diagnose:function(i){return t.ZL(i)},addEventListener:function(i,n){t.wn(UT(i),n)},removeEventListener:function(i,n){t.mn(UT(i),n)}}}var FT=["stats"];function UT(t){var i=Qw(t,Gw);return(Xi(i)?[i]:i).filter(function(t){return jn(FT,t)})}var VT=function(t){function i(){var i;return(i=t.call(this)||this).FI=void 0,i.hu=void 0,i.FI=void 0,i}Ct(i,t);var n=i.prototype;return n.HI=function(t){t.wn(FT,this.Rs)},n.UI=function(t){t.mn(FT,this.Rs)},n.ZL=function(t){var i,n;return null!=(n=null==(i=this.FI)?void 0:i.ZL(t))?n:{}},n.kn=function(){this.Vo(),this.FI&&this.UI(this.FI),this.FI=void 0},Nt(i,[{key:"OI",get:function(){return this.FI},set:function(t){var i=this.FI;t!==i&&(i&&this.UI(i),t&&this.HI(t),this.FI=t)}},{key:"Ca",get:function(){return this.hu||(this.hu=LT(this)),this.hu}}]),i}(th),HT=function(t){function i(i){var n;return(n=t.call(this,i)||this).tO=new $b,n.sO=new $b,n.Gl=new tA,n.$L=void 0,n.eO=new sA,n.iO=new VT,n.$L=new OT(i.Aa()),n.tO.OI=i.ht,n.sO.OI=i.rt,n.Gl.OI=i.nt,n.eO.OI=i.$x,n.iO.OI=i.iP,n}Ct(i,t);var n=i.prototype;return n.Aa=function(){return this.$L},n.Mx=function(){return this.tO},n.tP=function(){return this.eO},n.eP=function(){return this.iO},n.RP=function(){return this.Gl},n.BP=function(){return this.sO},n.nO=function(t){var i=this.Lx;if(i!==t){i.mw(this.nI);var n=ST(this),r=this.qx(),e=this.qP(),s=this.zP();this.Lx=t,this.tO.OI=t.ht,this.sO.OI=t.rt,this.Gl.OI=t.nt,this.$L.OI=t.Aa(),this.eO.OI=t.$x,this.iO.OI=t.iP,void 0!==n&&IT(this,n,this);var u=this.qx();u!==r&&this.So(new CT(u)),this.qP()!==e&&this.So(new PT),this.zP()!==s&&this.So(new DT),t.lw(this.nI)}},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),this.$L.kn(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.eO.kn(),this.iO.kn(),[2]}})}).call(this)},Nt(i,[{key:"$x",get:function(){return this.tP()}},{key:"iP",get:function(){var t;return null!=(t=this.eP())?t:this.iO}}]),i}(Jb);U(),Et(),Ft();var WT=function(t){function i(i){var n;return(n=t.call(this,i)||this).dO=[],n.ko=!1,n.vO=!1,n.lO(i),n}Ct(i,t);var n=i.prototype;return n.hP=function(){return function(t){for(var i,n=0,r=0,e=0,s=0,u=0,o=0,h=0,a=Lt(t);!(i=a()).done;){var c=i.value;n+=c.rO,r+=c.hO,e+=c.oO,s+=c.aO,u+=c.uO,o+=c.cO.amountOfBufferedAudioSegments,h+=c.cO.amountOfBufferedVideoSegments}return{rO:n,hO:r,oO:e,aO:s,uO:u,cO:{amountOfBufferedAudioSegments:o,amountOfBufferedVideoSegments:h}}}(this.dO.map(function(t){return t.rP}))},n.KP=function(){return br(this.dO.map(function(t){return t.KP()})).then(dn)},n.hr=function(){return br(this.dO.map(function(t){return t.hr()})).then(dn)},n.GP=function(){if(!this.ko){for(var t,i=Lt(this.dO);!(t=i()).done;){t.value.GP()}this.ko=!0}},n.Ox=function(){for(var t,i=[],n=Lt(this.dO);!(t=n()).done;){var r,e=t.value;(r=i).push.apply(r,[].concat(e.Ox()))}return i},n.iI=function(t){for(var i,n=!1,r=Lt(this.dO);!(i=r()).done;){n=i.value.iI(t)||n}return n},n.So=function(i){this.iI(i)||t.prototype.So.call(this,i)},n.lO=function(t){this.dO.push(t)},n.fO=function(t){Xn(this.dO,t)},n.nO=function(i){if(i!==this.Lx){var n=this.Lx;n.mr(),t.prototype.nO.call(this,i),i.gr(n)}},n.$P=function(){for(var t,i=Lt(this.dO);!(t=i()).done;){t.value.$P()}},n.kn=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:this.Vo(),this.Lx.mr(),n=Lt(this.dO),s.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,this.Lx===e?[3,3]:[4,e.kn()]);case 2:s.sent(),s.label=3;case 3:return[3,1];case 4:return[4,t.prototype.kn.call(i)];case 5:return s.sent(),[2]}})}).call(this)},Nt(i,[{key:"OI",get:function(){return this.Lx},set:function(t){this.nO(t)}}]),i}(HT);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Ft();var zT=function(){function t(){this.rz=new Ob,this.nz=[]}var i=t.prototype;return i.ez=function(t){this.nz.push(t)},i.DC=function(t,i,n,r,e,s,u){for(var o,h=this.rz.DC(t,i,n,r,e,s,u),a=Lt(this.nz);!(o=a()).done;){h=(0,o.value)(h,n,r)}return h},i.Jq=function(t,i){return this.rz.Jq(t,i)},i.Zq=function(t){return this.rz.Zq(t)},i.$q=function(){return!1},t.iz=function(){return this.Bg},Nt(t,[{key:"tz",get:function(){return this.rz.tz}}]),t}();function XT(t,i){return xn(t.tz,i.tz)}zT.Bg=new zT,U(),Et(),Wt(),Ft(),Qt(),U(),Et();var qT=function(){function t(){this.cz=[]}var i=t.prototype;return i.oz=function(t){this.cz.push(t),this.cz.sort(XT)},i.lz=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:n=Lt(this.cz),o.label=1;case 1:return(r=n()).done?[3,6]:(e=r.value,Gi(s=e.Jq(t,i))?[4,s]:[3,3]);case 2:return u=o.sent(),[3,4];case 3:u=Boolean(s),o.label=4;case 4:if(u)return[2,e];o.label=5;case 5:return[3,1];case 6:return[2,void 0]}})}).call(this)},t}();function GT(t){jT.Bg.oz(t)}U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et();var jT=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).vz=zT.iz(),i}Ct(i,t);var n=i.prototype;return n.fz=function(t){this.vz=t},n._z=function(){return this.vz},n.gz=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:n=this.vz,r=!1,e=Lt(t),v.label=1;case 1:return(s=e()).done?[3,12]:(u=s.value,[4,this.lz(u,i)]);case 2:return(o=v.sent())?(h=yp(u.contentProtection))?[3,4]:[4,o.Zq(u.contentProtection)]:[3,5];case 3:h=v.sent(),v.label=4;case 4:if(h)return[2,{Mc:u,t:o}];u.contentProtection&&(r=!0),v.label=5;case 5:return Gi(a=n.Jq(u,i))?[4,a]:[3,7];case 6:return c=v.sent(),[3,8];case 7:c=Boolean(a),v.label=8;case 8:return c?(f=yp(u.contentProtection))?[3,10]:[4,n.Zq(u.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{Mc:u,t:n}];u.contentProtection&&(r=!0),v.label=11;case 11:return[3,1];case 12:return r?[4,Ui._m()]:[3,14];case 13:throw v.sent()?new ld(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new ld(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{Mc:t[0],t:n}]}})}).call(this)},i}(qT);jT.Bg=new jT,U(),Et();var QT=function(){function t(t){this.Ls=void 0,this.Ls=f&&f.document&&f.document.createElement("div"),an(this.Ls),t.appendChild(this.Ls)}return t.prototype.kn=function(){Zi(this.Ls)},t}();U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var YT=function(t){return t.PW="",t.pz="none",t.zU="metadata",t.HL="auto",t}({});var KT=[qm.ma,eh.Rw,eh.Dw,eh.Ey,eh.yw,eh.Bw,eh.Lw,eh.Gw,eh.Xw,eh.ly,eh._y,Ry.SM,Ry.TM,Ry.kM,Ry.EM,Ry.AI,Ry.xM,Ry.PM,eh.Ew,eh.xw,eh.Cw,eh.Nw,eh.Ww,eh.qw,eh.uo,eh.Qw,eh.jw,eh.Kw,eh.Jw,eh.$w,eh.Zw,eh.py,eh.wy,eh.Yw,eh.zw,eh.ey,eh.iy,eh.oy,eh.sy],JT=function(t){function i(i,n){var r;return(r=t.call(this)||this).Az=void 0,r.Sz=void 0,r.oa=void 0,r.mz=void 0,r.oq=YT.pz,r.bz=void 0,r.kz=!0,r.tO=new $b,r.sO=new $b,r.Gl=new tA,r.$L=void 0,r.eO=new sA,r.iO=new VT,r.Az=i,r.oa=n,r.oa.wP=r.wP,r.$L=new OT(n.Aa()),r.wz(),r}Ct(i,t);var n=i.prototype;return n.jP=function(){this.oa.jP()},n.QP=function(){var t=this.oa.QP();Gi(t)&&kr(t)},n.KP=function(){return this.Ta(void 0)},n.GP=function(){},n.wz=function(){this.$L.OI=this.oa.Aa(),this.tO.OI=this.oa.ht,this.sO.OI=this.oa.rt,this.Gl.OI=this.oa.nt,this.eO.OI=this.oa.$x,this.iO.OI=this.oa.iP,this.oa.wn(KT,this.Rs)},n.yz=function(){this.oa.mn(KT,this.Rs),this.tO.OI=void 0,this.sO.OI=void 0,this.Gl.OI=void 0,this.eO.OI=void 0,this.iO.OI=void 0},n.nu=function(){return this.bz},n.Ta=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return dr(i),this.bz=t,t?nT(n=t.sources.filter(oT))?[2]:[4,this.Az.gz(n,t)]:[2];case 1:return r=h.sent(),dr(i),e=r.Mc,s=r.t,u=this.qP(),o=ST(this),this.Sz!==s||this.lt?(this.yz(),[4,this.oa.kn()]):[3,3];case 2:h.sent(),dr(i),this.Sz=s,this.oa=this.Tz(s,e),function(t,i){t.oP!==i.oP&&(t.oP=i.oP);t.OP!==i.OP&&(t.OP=i.OP);t.vP!==i.vP&&(t.vP=i.vP)}(this.oa,o),IT(this,o,this),this.wz(),h.label=3;case 3:return this.oa.wP=this.wP,this.kz?this.oa.be():this.oa.we(),[4,this.oa.Ta(e,t,i)];case 4:return h.sent(),dr(i),this.Ez(e),this.qP()!==u&&this.So(new PT),[2]}})}).call(this)},n.IP=function(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return dr(n),nT(r=t.sources.filter(oT))?[2]:[4,this.Az.gz(r,t)];case 1:return e=o.sent(),dr(n),s=e.Mc,u=e.t,this.Sz!==u||this.lt?[2]:[4,this.oa.IP(s,t,i,n)];case 2:return o.sent(),[2]}})}).call(this)},n.CP=function(){return this.oa.CP()},n.Ez=function(t){this.mz!==t&&(this.mz=t,this.So(new CT(t)))},n.YP=function(){return this.oa.YP()},n.JP=function(){this.oa.JP()},n.ZP=function(){this.oa.ZP()},n.qP=function(){return this.oa.qP()},n.Aa=function(){return this.$L},n.$P=function(){this.oa.$P()},n.tI=function(){this.oa.tI()},n.sI=function(t){return this.oa.sI(t)},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.bz=void 0,this.Ez(void 0),[4,this.oa.hr()];case 1:return t.sent(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.hr()];case 1:return t.sent(),[4,this.oa.kn()];case 2:return t.sent(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.$L.kn(),this.eO.kn(),this.iO.kn(),[2]}})}).call(this)},n.be=function(){this.kz=!0,this.oa.be()},n.we=function(){this.kz=!1,this.oa.we()},Nt(i,[{key:"ht",get:function(){return this.tO}},{key:"Fx",get:function(){return this.oa.Fx}},{key:"lt",get:function(){return this.oa.lt}},{key:"Jx",get:function(){return this.oa.Jx}},{key:"Vx",get:function(){return this.oa.Vx},set:function(t){this.oa.Vx=t}},{key:"bt",get:function(){return this.mz}},{key:"zx",get:function(){return this.oa.zx},set:function(t){this.oa.zx=t}},{key:"ct",get:function(){return this.oa.ct}},{key:"Qx",get:function(){return this.oa.Qx}},{key:"$x",get:function(){return this.eO}},{key:"iP",get:function(){return this.iO}},{key:"sP",get:function(){return this.oa.sP}},{key:"rP",get:function(){return this.oa.rP}},{key:"oP",get:function(){return this.oa.oP},set:function(t){this.oa.oP=t}},{key:"cP",get:function(){return this.oa.cP}},{key:"lP",get:function(){return this.oa.lP}},{key:"vP",get:function(){return this.oa.vP},set:function(t){this.oa.vP=t}},{key:"pP",get:function(){return this.oa.pP}},{key:"wP",get:function(){return this.oq},set:function(t){this.oq=t,this.oa&&(this.oa.wP=this.oq)}},{key:"AP",get:function(){return this.oa.AP}},{key:"kP",get:function(){return this.oa.kP}},{key:"xP",get:function(){return this.oa.xP}},{key:"nt",get:function(){return this.Gl}},{key:"DP",get:function(){return this.oa.DP}},{key:"rt",get:function(){return this.sO}},{key:"MP",get:function(){return this.oa.MP}},{key:"OP",get:function(){return this.oa.OP},set:function(t){this.oa.OP=t}},{key:"VP",get:function(){return this.oa.VP}},{key:"dq",get:function(){return this.oa.dq}}]),i}(nh);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),xt(),Pt(),U(),Et();var ZT=function(t){return t.pa="fullscreenchange",t.ka="fullscreensupportchange",t.ma="fullscreenerror",t}({});U(),Et(),Pt();var $T=function(t){function i(){return t.call(this,ZT.ma)||this}return Ct(i,t),i}(rh),tS=(ZT.pa,ZT.ka,ZT.ma,function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.yo=function(){this.So(new $T)},n.jo=function(){},n.kn=function(){this.Vo()},Nt(i,[{key:"ds",get:function(){return!1}},{key:"ca",get:function(){return!1}}]),i}(th));U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Pt();var iS=function(t){function i(){return t.call(this,NT.ma)||this}return Ct(i,t),i}(rh),nS=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.yo=function(){return Vt(function(){return zt(this,function(t){return this.So(new iS),[2]})}).call(this)},n.jo=function(){return Vt(function(){return zt(this,function(t){return this.So(new iS),[2]})}).call(this)},n.kn=function(){this.Vo()},Nt(i,[{key:"JL",get:function(){return!1}},{key:"YL",get:function(){return!1}}]),i}(th),rS=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).xz=0,i.Iz=!1,i.Cz=!0,i.Rz=1,i.Pz=!1,i.cA=1,i.ht=new rg,i.Fx=EA.rL()._s(),i.ct=NaN,i.Qx=!1,i.lt=void 0,i.Jx=void 0,i.$x=void 0,i.iP=void 0,i.sP=!1,i.cP=!0,i.pP=EA.rL()._s(),i.wP=YT.pz,i.AP=Dy.zL,i.kP=EA.rL()._s(),i.uq=void 0,i.nt=new Km,i.DP=0,i.rt=new rg,i.MP=0,i.VP=new Db,i.lq=new Tb,i.ha=new tS,i.ea=new nS,i}Ct(i,t);var n=i.prototype;return n.Xx=function(t,i){this.xz!==t&&(this.xz=t,this.Pz=!0,this.So(new wT(this.zx)))},n.be=function(){},n.we=function(){},n.QP=function(){this.Cz&&(this.Cz=!1,this.So(new fT(this.zx)),this.So(new By(this.zx)))},n.jP=function(){this.Cz||(this.Cz=!0,this.So(new bw(this.zx,this.Vx)),this.So(new cT(this.zx)))},n.Ta=function(t,i){return ut.resolve()},n.IP=function(t,i,n,r){return ut.resolve()},n.CP=function(){return ut.resolve()},n.YP=function(){return!1},n.JP=function(){},n.ZP=function(){},n.qP=function(){return this.ha},n.Aa=function(){return this.ea},n.sI=function(t){throw new y("Adding a CustomTextTrack is not supported without setting a source.")},n.$P=function(){},n.tI=function(){},n.hr=function(){return Vt(function(){return zt(this,function(t){return this.xz=0,this.Pz=!1,this.jP(),this.So(new aT(this.xz)),[2]})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){return this.Vo(),this.ht.kn(),this.nt.kn(),this.rt.kn(),[2]})}).call(this)},Nt(i,[{key:"Vx",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"zx",get:function(){return this.xz},set:function(t){this.Xx(t)}},{key:"rP",get:function(){return{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"oP",get:function(){return this.Iz},set:function(t){this.Iz!==t&&(this.Iz=t,this.So(new _T(this.zx,this.OP)))}},{key:"lP",get:function(){return this.Cz}},{key:"vP",get:function(){return this.Rz},set:function(t){this.Rz!==t&&(this.Rz=t,this.So(new dT(this.zx,this.vP)))}},{key:"xP",get:function(){return this.Pz}},{key:"OP",get:function(){return this.cA},set:function(t){this.cA!==t&&(this.cA=t,this.So(new _T(this.zx,this.OP)))}},{key:"WP",get:function(){return!1},set:function(t){}},{key:"dq",get:function(){return this.lq}},{key:"OL",get:function(){}}]),i}(th),eS=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Nq=void 0,i.PL=void 0,i}Ct(i,t);var n=i.prototype;return n.zP=function(){var t;return null==(t=this.PL)?void 0:t.hq},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),this.PL?[4,this.Nq.Dq(this.PL)]:[3,3];case 2:n.sent(),this.PL=void 0,n.label=3;case 3:return[2]}})}).call(this)},Nt(i,[{key:"Dz",set:function(t){this.Nq=t,this.PL=t.Yq(eg.Mk)}}]),i}(rS),sS=function(t){function i(i,n,r,e,s,u,o){var h,a=new eS;return(h=t.call(this,jT.Bg,a)||this).ZS=void 0,h.Bz=void 0,h.Tu=void 0,h.Oz=void 0,h.aV=void 0,h.Mz=void 0,h.Lz=void 0,h.Uz=void 0,h.Tu=i,h.ZS=n,h.aV=r,h.Mz=e,h.Lz=s,h.Oz=o,h.Bz=u,a.Dz=u,h.Uz=new QT(h.Tu),h}Ct(i,t);var n=i.prototype;return n.GP=function(){t.prototype.GP.call(this),this.Bz.Nz()},n.gr=function(t){ET(this,t)},n.mr=function(){},n.iI=function(t){return!1},n.Ta=function(i,n){var r=this;return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=this.qP(),s=this.zP(),[4,t.prototype.Ta.call(r,i,n)];case 1:return u.sent(),this.qP()!==e&&this.So(new PT),this.zP()!==s&&this.So(new DT),[2]}})}).call(this)},n.Xx=function(t,i){this.oa.Xx(t,i)},n.Tz=function(t,i){return t.DC(this.Tu,this.Bz,this.aV,this.ZS,this.Mz,this.Lz,this.Oz,i)},n.zP=function(){return this.oa.zP()},n.Ox=function(){return this.Bz.Fz.map(function(t){return t.hq})},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),this.Bz.kn(),this.Uz.kn(),[2]}})}).call(this)},Nt(i,[{key:"xe",get:function(){return this.Tu}},{key:"WP",get:function(){return this.oa.WP},set:function(t){this.oa.WP=t}}]),i}(JT);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var uS=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).Tu=void 0,e.Wz=void 0,e.qz=void 0,e.Vz=void 0,e.zz=void 0,e.ha=new tS,e.ea=new nS,e.cq=new Db,e.Tu=i,e.Wz=n,e.Vz=new rg,e.zz=new Km,e.qz=r,e}Ct(i,t);var n=i.prototype;return n.Xx=function(t,i){},n.iI=function(t){return!0},n.we=function(){},n.QP=function(){throw this.So(new yb(this.qz)),this.Wz},n.jP=function(){},n.nu=function(){},n.Ta=function(t,i){return Vt(function(){return zt(this,function(t){throw dr(i),this.So(new yb(this.qz)),this.Wz})}).call(this)},n.IP=function(t,i,n){return ut.resolve()},n.CP=function(){return ut.resolve()},n.be=function(){},n.KP=function(){return ut.resolve()},n.zP=function(){},n.qP=function(){return this.ha},n.Aa=function(){return this.ea},n.Ox=function(){return[]},n.GP=function(){},n.gr=function(t){},n.mr=function(){},n.YP=function(){return!1},n.JP=function(){},n.ZP=function(){},n.$P=function(){},n.tI=function(){},n.sI=function(t){},n.hr=function(){return ut.resolve()},n.kn=function(){return this.Vo(),this.Vz.kn(),this.zz.kn(),ut.resolve()},Nt(i,[{key:"ht",get:function(){return this.Vz}},{key:"Fx",get:function(){return EA.rL()._s()}},{key:"Vx",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"zx",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"xe",get:function(){return this.Tu}},{key:"Qx",get:function(){return!0}},{key:"lt",get:function(){return this.Wz}},{key:"Jx",get:function(){return this.qz}},{key:"$x",get:function(){}},{key:"iP",get:function(){}},{key:"rP",get:function(){return{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"oP",get:function(){return!1},set:function(t){}},{key:"cP",get:function(){return!0}},{key:"lP",get:function(){return!0}},{key:"vP",get:function(){return 0},set:function(t){}},{key:"pP",get:function(){return EA.rL()._s()}},{key:"wP",get:function(){return YT.pz},set:function(t){}},{key:"AP",get:function(){return Dy.zL}},{key:"kP",get:function(){return EA.rL()._s()}},{key:"xP",get:function(){return!1}},{key:"nt",get:function(){return this.zz}},{key:"DP",get:function(){return 0}},{key:"rt",get:function(){return this.Vz}},{key:"MP",get:function(){return 0}},{key:"OP",get:function(){return 1},set:function(t){}},{key:"VP",get:function(){return this.cq}},{key:"WP",get:function(){return!1},set:function(t){}},{key:"sP",get:function(){return!1}}]),i}(nh);function oS(t){if(t&&Wi(t))return Yu({},t,{integration:hS(t.integration),fairplay:lS(t.fairplay),widevine:aS(t.widevine),playready:cS(t.playready),clearkey:wS(t.clearkey),aes128:gS(t.aes128),integrationParameters:_S(t.integrationParameters),preferredKeySystems:mS(t.preferredKeySystems),useOipfDrmAgent:Ww(t.useOipfDrmAgent)})}function hS(t){if(Xi(t))return t}function aS(t){if(t&&Wi(t))return{persistentState:fS(t.persistentState),distinctiveIdentifier:fS(t.distinctiveIdentifier),audioRobustness:vS(t.audioRobustness),videoRobustness:vS(t.videoRobustness),licenseAcquisitionURL:Xi(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:dS(t.licenseType),headers:t.headers,useCredentials:!!qi(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Xi(t.certificate)||ya(t.certificate)?t.certificate:void 0}}function cS(t){if(t){var i=aS(t);if(i)return Yu({},i,{customData:Xi(t.customData)?t.customData:void 0})}}function fS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function vS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function dS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function lS(t){if(t){var i=aS(t);if(i)return Yu({},i,{certificateURL:Xi(t.certificateURL)?t.certificateURL:void 0})}}function wS(t){if(t){var i=aS(t);if(i){var n=Vi(t.keys)?t.keys.map(function(t){return function(t){if(!t||!Wi(t))return;var i=t.id,n=t.value;if(!Xi(i)||!Xi(n))return;return{id:i,value:n}}(t)}).filter(Li):void 0;return Yu({},i,{keys:n})}}}function gS(t){if(Wi(t))return{useCredentials:qi(t.useCredentials)?t.useCredentials:void 0}}function _S(t){if(Wi(t))return t}function mS(t){return t&&Vi(t)?t.map(function(t){return Pp(t)}).filter(Li):[wo,fo,Ao]}U(),Et(),Ft(),U(),Et(),Ft(),U(),Et(),U(),Et();var yS={bt:void 0,zx:0,ct:NaN,Qx:!1,lt:void 0,Jx:void 0,oP:!1,lP:!0,vP:1,AP:Dy.zL,xP:!1,DP:0,MP:0,OP:1};U(),Et(),xt();var pS=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),kS=function(){function t(){this.Xz=[]}var i=t.prototype;return i.jz=function(t){var i=this.Xz.filter(function(i){return i.Qz(t)});if(i.length>1)0;else if(0===i.length)throw y("Unknown ad integration: "+t.integration);return i[0]||null},i.Kz=function(t){this.Xz.push(t)},Nt(t,[{key:"Gz",get:function(){return this.Xz}}]),t}();kS.Bg=new kS,U(),Et(),Pt(),U(),Et(),U(),Et(),Pt(),U(),Et(),xt(),Pt();var bS=function(t){return t.PM="PLAYING",t.Yz="PAUSED",t.Jz="SEEK",t.Zz="STALLED",t.$z="FAILED",t.tG="INITIAL_BUFFERING",t.iG="NO_ACCESS",t}({}),AS=function(t){return t.eG="HTTP_REQUEST_STATUS_CODE_1XX",t.sG="HTTP_REQUEST_STATUS_CODE_2XX",t.nG="HTTP_REQUEST_STATUS_CODE_3XX",t.rG="HTTP_REQUEST_STATUS_CODE_4XX",t.hG="HTTP_REQUEST_STATUS_CODE_5XX",t.oG="BUFFER_LENGTH",t.aG="BYTES_RECEIVED",t.uG="SEGMENT_READ_BITRATE",t.cG="SEGMENT_PROFILE_BITRATE",t.dG="VIDEO_PROFILE_BITRATE",t.lG="NUMBER_OF_FRAMES_DROPPED",t.fG="PLAYBACK_POSITION",t.vG="NUMBER_OF_FRAMES_DECODED",t._G="PLAYBACK_DELTA_TO_ORIGIN",t.gG="STREAM_DELTA_TO_ORIGIN",t.pG="ORIGIN_TIMESTAMP",t}({}),TS=function(t){return t.mG="MANIFEST_URI",t.wG="ASSET_DURATION",t.yG="NUMBER_OF_CONTENT_PROFILES",t.bG="CDN",t.AG="CONTENT_TITLE",t.SG="SERVICE_NAME",t.TG="CONTENT_TYPE",t.kG="CONTENT_DESCRIPTION",t}({}),SS=function(t){return t.EG="shutdown_normal_shutdown",t}({}),ES=function(t){return t.xG="session/",t.IG="content/",t.CG="internalError/",t.DG="drmError/",t.NG="caError/",t.BG="networkError/",t}({}),IS=function(){function t(t,i){this.category=void 0,this.statusCode=void 0,this.category=t,this.statusCode=i}return Nt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),RS=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i}(th);U(),Et(),Pt(),U(),Et(),U(),Et();var CS=function(t){return t.PAUSE="MG",t.RESUME="OG",t}({}),PS=function(t){function i(){return t.call(this,"FG")||this}return Ct(i,t),i}(rh),DS=function(t){function i(i,n){var r;return(r=t.call(this)||this).oa=void 0,r.WG=void 0,r.VG=void 0,r.qG=void 0,r.zG=void 0,r.oa=i,r.WG=n,r.VG=!1,r.qG=function(){r.HG(),r.VG=!1},r.zG=function(){r.VG=!0},r.WG.wn(CS.PAUSE,r.qG),r.WG.wn(CS.RESUME,r.zG),r}Ct(i,t);var n=i.prototype;return n.UG=function(){this.VG=!0},n.HG=function(){},n.kn=function(){this.VG=!1,this.WG.mn(CS.PAUSE,this.qG),this.WG.mn(CS.RESUME,this.zG)},n.GG=function(){return isFinite(this.oa.Nd())},i}(th),NS=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).tX=!1,i.aX=!1,i.uX=!1,i.QG=function(){i.aX&&!i.uX&&i.sX(bS.Zz)},i.YG=function(){i.oa.lP||(i.aX||i.hX(new IS(ES.IG,"firstFrameDisplayed"),"now"),i.aX=!0,i.sX(bS.PM))},i.KG=function(){i.oa.lP&&(i.aX=!0,i.sX(bS.Yz))},i.JG=function(){i.tX&&(i.uX=!0,i.tX=!1,i.sX(bS.Jz))},i.ZG=function(){i.uX=!1,i.oa.lP&&i.sX(bS.Yz)},i}Ct(i,t);var n=i.prototype;return n.UG=function(){t.prototype.UG.call(this),this.XG()},n.kn=function(){this.jG(),t.prototype.kn.call(this)},n.XG=function(){this.oa.wn(Ry.xM,this.QG),this.oa.wn(eh.jw,this.KG),this.oa.wn(Ry.PM,this.YG),this.oa.wn(eh.$w,this.JG),this.oa.wn(eh.Zw,this.ZG)},n.jG=function(){this.oa.mn(Ry.xM,this.QG),this.oa.mn(eh.jw,this.KG),this.oa.mn(Ry.PM,this.YG),this.oa.mn(eh.$w,this.JG),this.oa.mn(eh.Zw,this.ZG)},n.$G=function(){this.tX=!0},n.iX=function(){var t=this.oa.Yx(),i=new IS(ES.CG,String(t.code));this.eX(bS.$z,i,t.message)},n.sX=function(t){this.VG&&(this.WG.nX(t),this.So(new PS))},n.eX=function(t,i,n){this.WG.rX(t,i,n),this.So(new PS)},n.hX=function(t,i){this.WG.oX(t,i)},i}(DS);U(),Et(),Pt();var xS=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).vX=function(){i.GG()&&i.pX(TS.wG,b.round(i.oa.Nd()))},i.fX=function(t){"manifest"===t.request.type&&i.pX(TS.mG,t.url)},i.cX=function(){var t=Fn(i.oa.rt.NI,function(t){return t.Rt});t&&i.pX(TS.yG,t.$I.V)},i}Ct(i,t);var n=i.prototype;return n.UG=function(){t.prototype.UG.call(this),this.cX(),this.XG()},n.kn=function(){this.jG(),t.prototype.kn.call(this)},n.XG=function(){this.oa.rt.wn(Nw.pa,this.cX),this.oa.lX.dX(this.fX),this.oa.wn(eh.Cw,this.vX)},n.jG=function(){this.oa.rt.mn(Nw.pa,this.cX),this.oa.lX._X(this.fX),this.oa.mn(eh.Cw,this.vX)},n.gX=function(t){t.serviceName&&this.pX(TS.SG,t.serviceName),t.cdn&&this.pX(TS.bG,t.cdn),t.contentTitle&&this.pX(TS.AG,t.contentTitle),t.contentType&&this.pX(TS.TG,t.contentType),t.contentDescription&&this.pX(TS.kG,t.contentDescription)},n.pX=function(t,i){this.VG&&this.WG.mX(t,i)},i}(DS);U(),Et(),Pt();var BS=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).RX=Ju(),i.PX=0,i.wX=0,i.yX=0,i.bX=[],i.AX=function(){i.DX(),i.NX(),i.LX()},i.kX=function(t){t.Gk===eg.Mk&&(i.xX(t.uO),i.BX(),i.MX(t.FX),i.SX())},i.TX=function(t){var n=t.status.toString()[0],r=i.RX.get(n)||0;i.RX.set(n,r+1),i.CX(AS.eG,"1"),i.CX(AS.sG,"2"),i.CX(AS.nG,"3"),i.CX(AS.rG,"4"),i.CX(AS.hG,"5")},i}Ct(i,t);var n=i.prototype;return n.UG=function(){t.prototype.UG.call(this),this.wX=this.oa.rP.rO,this.yX=this.oa.rP.oO,this.XG(),this.bX.push(_(this.AX,1e3))},n.HG=function(){t.prototype.HG.call(this),this.SX()},n.kn=function(){this.SX(),this.jG(),this.bX.forEach(m),Yn(this.bX),t.prototype.kn.call(this)},n.XG=function(){this.oa.lX.dX(this.TX),this.oa.wn(eh._y,this.kX)},n.jG=function(){this.oa.lX._X(this.TX),this.oa.mn(eh._y,this.kX)},n.EX=function(){this.SX()},n.xX=function(t){this.PX+=t,this.IX(AS.aG,this.PX)},n.CX=function(t,i){var n=this.RX.get(i)||0;this.IX(t,n)},n.DX=function(){var t=this.oa.rP.rO-this.wX;this.IX(AS.lG,t)},n.NX=function(){var t=this.oa.rP.oO-this.yX;this.IX(AS.vG,t)},n.BX=function(){var t=bb.Bg.pW();this.IX(AS.uG,Ea(t))},n.MX=function(t){this.IX(AS.cG,Ea(t)),this.IX(AS.dG,Ea(t))},n.SX=function(){if(this.GG()){var t=b.round(fe(this.oa.Gx()));this.IX(AS.fG,t)}},n.LX=function(){var t=EA.jn(this.oa.Ux()),i=this.oa.Gx(),n=t.iL(i),r=n?fe(n.An(0)-i):0;this.IX(AS.oG,r)},n.IX=function(t,i){this.VG&&this.WG.OX(t,i)},i}(DS);U(),Et(),Ft();function OS(t){return t&&t.integration===WS}function MS(t){if(!Xi(t.asset))throw new p("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!Xi(t)&&("live"===t||"vod"===t)}(t.streamType))throw new p("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!Xi(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new p("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!Xi(t.cdn))throw new p("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!Xi(t.contentTitle))throw new p("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!Xi(t.contentType))throw new p("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!Xi(t.contentDescription))throw new p("Agama source configuration: expected 'contentDescription' to be a string");return t}function LS(t){if(!Xi(t.config))throw new p("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!Xi(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new p("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!Xi(t.application))throw new p("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!Xi(t.applicationVersion))throw new p("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!Xi(t.userAccountID))throw new p("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!Xi(t.deviceID))throw new p("Agama player configuration: expected 'deviceID' to be a string");return t}function FS(){var t="00000000-0000-0000-0000-000000000000",i=f.navigator,n=f.screen,r=""+i.mimeTypes.length;r+=i.userAgent.replace(/\D+/g,""),r+=i.plugins.length,r+=n.height||"",r+=n.width||"",r+=n.pixelDepth||"";var e=function(t){var i,n=0;if(0===t.length)return"0";for(i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return b.abs(n).toString().substring(0,12)}(r+=b.floor(1e3*b.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function US(t,i,n){var r=i,e=function(t,i){return GA(i)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),s=function(t,i){var n=t.DsPlaylistType.VOD;"live"===i&&(n=t.DsPlaylistType.LIVE);return n}(t,n.streamType);return{asset:n.asset,playlistType:s,protocol:e,uri:r.src}}U(),Et();var VS=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),HS=function(){function t(t,i,n){var r=this;this.oa=void 0,this.WG=void 0,this.JX=void 0,this.$X=void 0,this.ZX=void 0,this.ej=void 0,this.fo=void 0,this.sj=void 0,this.KX=void 0,this.QX=void 0,this.XX=void 0,this.VX=void 0,this.tj=void 0,this.oa=t,this.WG=i,this.fo=function(){r.sj(),r.KX()},this.sj=function(){var t=r.oa.nu(),i=t&&t.analytics;r.ej=function(t){void 0===t&&(t=[]);for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(OS(r))return MS(r)}}(i)},this.KX=function(){r.UX(),r.oa.mn(eh.uo,r.QX),!r.jX()&&r.WG.nj()&&r.oa.bt&&r.ej&&(r.YX(),r.oa.lP||r.oa.Qx?r.oa.wn(eh.uo,r.QX):r.QX())},this.QX=function(){r.oa.bt&&r.ej&&(r.WG.rj(r.oa.bt,r.ej),r.UG(),r.gX(r.ej),r.zX(),r.oa.wn(qm.ma,r.VX),r.oa.mn(eh.uo,r.QX))},this.XX=function(){r.jX()&&r.UX()},this.VX=function(){r.ij(),r.UX()},this.tj=function(){r.ZX&&r.ZX.EX()};var e=function(t){void 0===t&&(t=[]);for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(OS(r))return LS(r)}}(n.analytics);e&&this.WG.hj()&&(this.WG.GP(e),this.WG.nj()?(this.WG.aj(),this.oa.wn(eh.do,this.fo),this.oa.wn(eh.Nw,this.KX)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var i=t.prototype;return i.UX=function(){this.oa.mn(qm.ma,this.VX),this.HX(),this.WX(),this.WG.qX()},i.zX=function(){this.oa.GX.Ca.chromecast&&this.oa.GX.Ca.chromecast.addEventListener("statechange",this.XX)},i.WX=function(){this.oa.GX.Ca.chromecast&&this.oa.GX.Ca.chromecast.removeEventListener("statechange",this.XX)},i.jX=function(){return void 0!==this.oa.GX.Ca.chromecast&&this.oa.GX.Ca.chromecast.state===VS.CONNECTED},i.kn=function(){this.oa.mn(eh.do,this.fo),this.oa.mn(eh.uo,this.QX),this.oa.mn(eh.Nw,this.KX),this.UX(),this.WG.kn()},i.YX=function(){this.JX||(this.JX=new NS(this.oa,this.WG)),this.ZX||(this.ZX=new BS(this.oa,this.WG)),this.$X||(this.$X=new xS(this.oa,this.WG))},i.UG=function(){this.JX&&(this.JX.UG(),this.JX.wn("FG",this.tj)),this.ZX&&this.ZX.UG(),this.$X&&this.$X.UG()},i.HX=function(){this.JX&&(this.JX.mn("FG",this.tj),this.JX.kn(),this.JX=void 0),this.ZX&&(this.ZX.kn(),this.ZX=void 0),this.$X&&(this.$X.kn(),this.$X=void 0)},i.gX=function(t){this.$X&&this.$X.gX(t)},i.ij=function(){this.JX&&this.JX.iX()},i.$G=function(){this.JX&&this.JX.$G()},t}(),WS="agama";U(),Et(),U(),Et();var zS=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});U(),Et();var XS=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function qS(t){switch(t){case"":return zS.NONE;case"horizontal":return zS.HORIZONTAL;case"vertical":return zS.VERTICAL;default:throw new p}}function GS(t,i){if(i)return XS.PM360;if(null==t)return XS.NONE;switch(t){case"":return XS.NONE;case"360":return XS.PM360;case"180":return XS.PM180;default:throw new p("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}U(),Et();var jS=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});U(),Et();var QS="https://content.uplynk.com";function YS(t){if(!t)return!0;var i=!function(t){return iT(t)||Hi(t)&&iT(t[0])}(t.sources)||nT(t.sources),n=!t.ads||function(t){return!t||Vi(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return i&&n&&r}function KS(t){if(t&&t.sources)return JS(t.sources)}function JS(t){return Xi(t)?zA(t):$A(t)?t.type||t.src&&zA(t.src):Hi(t)&&t.length>0?JS(t[0]):void 0}function ZS(t){if(t&&t.sources)return $S(t.sources)}function $S(t){return Xi(t)?t:$A(t)?t.src:Hi(t)&&t.length>0?$S(t[0]):void 0}function tE(t,i,n){return QA(t)?function(t,i,n){var r=Yu({},rT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:FA.UPLYNK,id:"",prefix:QS,preplayParameters:{},playbackUrlParameters:{},assetType:jS.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(Xi(t))return t;if(Hi(t)&&Xi(t[0]))return t;if(function(t){return Wi(t)&&Xi(t.userId)&&(Hi(t.externalId)||Xi(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return jS.CHANNEL;case"event":return jS.EVENT;default:return jS.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Ww(t.contentProtected));t.assetInfo?r.assetInfo=Ww(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Gw(t.prefix)||QS);return r.ping=function(t,i){var n=!1,r=!1,e=!1;i?(n=!!qi(i.adImpressions)&&i.adImpressions,r=!!qi(i.freeWheelVideoViews)&&i.freeWheelVideoViews,e=qi(i.linearAdData)?i.linearAdData:t!==jS.ASSET):t!==jS.ASSET&&(e=!0);return{adImpressions:n,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=eE(r,t),r=uE(r,i,n),r=sE(r,t,n),r}(t,i,n):KA(t)?function(t,i,n){var r;return Yu({},iE(t,i,n),{integration:FA.MEDIATAILOR,adsParams:null!=(r=t.adsParams)?r:{}})}(t,i,n):YA(t)?function(t,i,n){return Yu({},iE(t,i,n),{type:"theolive"})}(t,i,n):JA(t)?nE(t,i,n):iE(t,i,n)}function iE(t,i,n){var r=eT(),e=i&&(i.contentProtection||i.drm);if(Xi(t)){if(r.src=t,r.type=zA(t),e){var s=oS(e);r.contentProtection=wA(s)}}else if($A(t)||jA(t)||JA(t)){r.src=t.src,r.type=t.type||zA(t.src),r.isAdvertisement=t.isAdvertisement;var u=tT(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u),KA(t)&&(r.integration=t.integration);var o=oS(t.contentProtection||t.drm||e);r.contentProtection=wA(o),t.ssai&&(r.ssai=dA(t.ssai)),r=eE(r,t)}return r=sE(r=uE(r,i,n),t,n)}function nE(t,i,n){return Yu({},iE(t,i,n),{type:cA.yC,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:aE(t.connectOptions),apiUrl:t.apiUrl,statsIntervalMs:rE(t.statsIntervalMs)})}function rE(t){if(Qi(t)&&t>0)return t}function eE(t,i){var n,r;i.useCredentials?t.crossOrigin=aA.fC:i.crossOrigin&&(t.crossOrigin=XA(i.crossOrigin)),Xi(i.timeServer)&&(t.timeServer=i.timeServer),i.liveOffset&&(t.liveOffset=i.liveOffset),i.hlsDateRange&&(t.hlsDateRange=i.hlsDateRange),i.lowLatency&&(t.lowLatency=Ww(i.lowLatency)),i.useNativePlayback&&(t.useNativePlayback=Ww(i.useNativePlayback)),i.useManagedMediaSource&&(t.useManagedMediaSource=Ww(i.useManagedMediaSource)),i.dash&&(t.dash=gA(i.dash)),i.hls&&(t.hls=_A(i.hls)),i.lcevc&&(t.lcevc=Ww(i.lcevc)),i.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=hT(i.ignoreEmbeddedTextTrackTypes)),i.latencyConfiguration&&(t.latencyConfiguration=MA(i.latencyConfiguration)),t.seamlessSwitchStrategy=UA(null!=(r=i.seamlessSwitchStrategy)?r:null==(n=i.dash)?void 0:n.useSeamlessPeriodSwitch);var e=zw(i.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var s=zw(i.nativeUiRendering);return void 0!==s&&(t.nativeUiRendering=s),t}function sE(t,i,n){return t.abr=pA(Xi(i)?void 0:yA(i.abr),null==n?void 0:n.abr),t}function uE(t,i,n){var r,e=i&&i.timeServer;return n&&n.liveOffset&&!Li(t.liveOffset)&&(t.liveOffset=n.liveOffset),n&&n.hlsDateRange&&!Li(t.hlsDateRange)&&(t.hlsDateRange=n.hlsDateRange),t.crossOrigin===aA.Fk&&(null==i||null==(r=i.vr)?void 0:r[360])&&(t.crossOrigin=aA.lC),t.useCredentials=t.crossOrigin===aA.fC,Xi(e)&&!t.timeServer&&(t.timeServer=e),t}function oE(t){var i={src:""};if(t&&t.src){if(i.src=Gw(t.src),"default"in t&&(i.default=Ww(t.default)),i.kind=function(t){var i=String(t||"").toLowerCase();return $m(i)?i:i?"metadata":"subtitles"}(t.kind),xg(t.format)&&(i.format=t.format),"srclang"in t){var n=t.srclang;"string"==typeof n&&""!==n&&(i.srclang=n)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(i.label=r)}}return i}function hE(t,i){if(Wi(t))try{return i.jz(t).uj(t)}catch(t){return}}function aE(t){if(null==t)return t;if(!Wi(t))throw new y("connectOptions must be an object");return t}function cE(t,i,n){if(void 0===n&&(n=kS.Bg),YS(t))return{sources:[eT()]};var r=Lw(t);if(r.sources=function(t,i,n){if(iT(t))return[tE(t,i,n)];if(Hi(t)&&iT(t[0])){for(var r,e=[],s=Lt(t);!(r=s()).done;){var u=r.value;e.push(tE(u,i,n))}return e}return[eT()]}(r.sources,r,i),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,i){if(!Hi(t))return[];for(var n,r=[],e=Lt(t);!(n=e()).done;){var s=n.value;(s=hE(s,i))&&r.push(s)}return r}(r.ads,n);0===e.length?delete r.ads:r.ads=e}var s=!nT(r.sources),u=r.ads&&r.ads.length>0;if(s&&!u?delete r.ads:u&&!s&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Hi(t))return[];for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value;""!==(e=oE(e)).src&&n.push(e)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Gw(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var i=t||{};return i.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(i.stereoMode),{panoramaMode:GS(i.panoramaMode,Boolean(i[360])),stereoMode:i.stereoMode?qS(i.stereoMode):zS.NONE,nativeVR:Boolean(i.nativeVR)}}(r.vr)),"analytics"in r||(null==i?void 0:i.analytics)){var h=uT(r.analytics),a=i&&i.analytics||[];r.analytics=function(t,i){for(var n,r=function(){var i=n.value,r=!t.some(function(t){return t.integration===i.integration});r&&i.integration!==WS&&e.push(i)},e=Lw(t),s=Lt(i);!(n=s()).done;)r();return e}(h,a)}return"mutedAutoplay"in r&&(r.mutedAutoplay=AT(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=Xw(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}U(),Et(),U(),Et(),U(),Et();var fE=function(){function t(t){this.cj=t}return t.prototype.dj=function(t){var i,n,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.cj.charAt(64);for(i=0;i<t.length;i+=4)n=(o=this.cj.indexOf(t.charAt(i))<<18|this.cj.indexOf(t.charAt(i+1))<<12|(s=this.cj.indexOf(t.charAt(i+2)))<<6|(u=this.cj.indexOf(t.charAt(i+3))))>>>16&255,r=o>>>8&255,e=255&o,h[i/4]=String.fromCharCode(n,r,e),64===u&&(h[i/4]=String.fromCharCode(n,r)),64===s&&(h[i/4]=String.fromCharCode(n));return h.join("")},t.prototype.lj=function(t,i){var n,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.cj.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=n>>12&63,s=n>>6&63,u=63&n,a[o/3]=this.cj.charAt(r)+this.cj.charAt(e)+this.cj.charAt(s)+this.cj.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),i||(h+=c),h},t.bh=new t(function(){var t,i,n,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(i=s[t],n=0;n<i.length;n+=1)r=i.charAt(n),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.vj=new t(function(t){return t.dj("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.bh)),t}();function vE(t){return"string"==typeof t}function dE(t){return"number"==typeof t}U(),Et(),U(),Et(),U(),Et(),ct();var lE={}.toString;var wE,gE=Array.isArray||function(t){return"[object Array]"===lE.call(t)};function _E(t,i){return gE(t)&&t.every(i)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(wE||(wE={}));var mE,yE=k.keys(wE).map(function(t){return wE[t]});function pE(t){return-1!==yE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(mE||(mE={}));var kE,bE=k.keys(mE).map(function(t){return mE[t]});function AE(t){return-1!==bE.indexOf(t)}function TE(t){try{var i=fE.vj.dj(t),n=JSON.parse(i);if(!function(t,i){var n,r=function(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}(t),e=vE(t.key),s=vE(t.customer_id),u=dE(t.generation_date),o=dE(t.expiration_date),h=_E(t.domains_page,vE),a=_E(t.domains_source,vE),c=_E(t.sdks,i?pE:vE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?n=_E(t.features,i?AE:vE):(n=!0,t.features=[]);if(!(r&&e&&s&&u&&o&&h&&a&&c&&f&&n))return!1;return!0}(n,!1))throw new y("The provided license could not be decoded correctly.");return n}catch(t){throw new y("The provided license could not be decoded correctly.")}}function SE(){return kE||(kE={Yu:f.location.href,_j:f.parent&&f.parent!==f,gj:IE()}),kE}var EE=["http:","https:","ftp:","ws:","wss:"];function IE(){var t,i;try{var n;if(null==(n=f)?void 0:n.top)return f.top.location.href}catch(t){}return null==(i=f)||null==(t=i.document)?void 0:t.referrer}var RE=function(t){return t[t.pj=0]="pj",t[t.mj=1]="mj",t[t.wj=2]="wj",t}({}),CE=function(t,i,n,r,e,s,u,o,h){void 0===e&&(e=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===h&&(h=!0),this.yj=void 0,this.bj=void 0,this.Aj=void 0,this.Sj=void 0,this.Tj=void 0,this.Ej=void 0,this.xj=void 0,this.Pj=void 0,this.Ij=void 0,this.yj=t,this.bj=i,this.Aj=n,this.Sj=r,this.Tj=e,this.Ej=s,this.xj=u,this.Pj=o,this.Ij=h},PE=function(t){return t.mj="expired",t.Cj="invaliddomain",t.Rj="invalidsource",t.Dj="invalidfeature",t.ma="error",t}({}),DE=function(){function t(t,i,n){this.Qj=void 0,this.Zj=void 0,this.Gb=void 0,this.Gj=void 0,this.Qj=t,this.Zj=i,this.Gb=n,this.Gj=VE(this.Gb)}var i=t.prototype;return i.Nj=function(t,i){var n=[];iT(t.sources)?n=[t.sources]:Hi(t.sources)&&(n=t.sources),this.Bj(t,n,i),this.Mj(n,i)},i.Bj=function(t,i,n){var r=this;if(!YS(t)&&0!==n.Aj.length&&!LE(n.Aj)&&!i.every(function(t){return r.Lj(t,n)})){var e="invalidsource",s=HE.Oj(e);throw new ld(xE(e),s)}},i.Mj=function(t,i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;$A(e)&&tT(e)&&!e.bypassLicense&&this.Fj([mE.HESP],i)}},i.Uj=function(i){return this.Vj(i.Pj)&&this.Hj(i)?t.Wj(i.Sj)?0:1:2},i.Fj=function(t,i){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;if(!jn(i.Tj,e)){var s="invalidfeature",u=HE.qj(s,e);throw new ld(xE(s),u)}}},i.Vj=function(t){var i=this;return 0===t.length||t.some(function(t){return i.zj(t)})},i.zj=function(t){return"web"===function(t){switch(t){case wE.ANDROID:return pi.Tv;case wE.ANDROIDTV:case wE.FIRETV:return pi.Ev;case wE.IOS:return pi.xv;case wE.TVOS:return pi.Pv;case wE.CHROMECAST:case wE.CHROMECASTCAF:return pi.Iv;case wE.THEOLIVEWEB:return pi.Cv;default:return pi.Sv}}(t)},i.Hj=function(t){return!(this.Gj&&0!==t.bj.length&&!LE(t.bj))||!!(this.Gj&&this.Xj(t.bj)&&this.jj(t.bj))},i.Xj=function(t){return FE(this.Gb.Yu,t)},i.jj=function(t){if(!this.Gb._j)return!0;if(this.Qj)return!0;var i=this.Kj();return!!i&&FE(i,t)},i.Kj=function(){if(this.Gb._j){var t=d.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Gb.gj?this.Gb.gj:void 0}},i.Lj=function(i,n){return!!t.Yj(i,n.Aj)},t.Wj=function(t){var i=Number(new Date);return!!t&&i<=t},t.Yj=function(t,i){return FE(this.Jj(t),i)},t.Jj=function(t){return Xi(t)?t:$A(t)&&t.src||""},t}(),NE=function(){function t(){}var i=t.prototype;return i.Uj=function(t){return 0},i.Nj=function(t,i){},i.Fj=function(t,i){},t}();function xE(t){switch(t){case"invaliddomain":return vd.LICENSE_INVALID_DOMAIN;case"invalidsource":return vd.LICENSE_INVALID_SOURCE;case"expired":return vd.LICENSE_EXPIRED;case"invalidfeature":return vd.LICENSE_INVALID_FEATURE;case"error":return vd.LICENSE_ERROR}}var BE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",OE=_n(function(){var t="\\.",i="(\\*|"+BE+")";return new RegExp("ip-range\\("+i+t+i+t+i+t+i+"\\)")});function ME(t,i){var n=t,r=i;if(!n)return!1;if("*"===(r=r.trim()))return!0;if(r===(n=n.replace(/\.+$/,"")))return!0;if(Fo(r,"ip-range(")){var e="\\.",s=r.match(OE()),u=function(t){return"*"===t?"("+BE+")":t};if(null!==s&&5===s.length){var o=new RegExp("^"+s[1]+e+u(s[2])+e+u(s[3])+e+u(s[4])+"$");return null!==n.match(o)}}return r="."+r,-1!==n.indexOf(r,n.length-r.length)}function LE(t){return t.some(function(t){return"*"===t})}function FE(t,i){var n=Ui.Dh(t);if(!UE(n))return!0;for(var r,e=Lt(i);!(r=e()).done;){var s=r.value;if(ME(n.hostname,s))return!0;if(ME(Pl(t),s))return!0}return!1}function UE(t){return-1!==EE.indexOf(t.protocol)}function VE(t){var i=Ui.Dh(t.Yu);return UE(i)&&!function(t){return ME(t.hostname,"localhost")}(i)&&!function(t){return ME(t.hostname,"theoplayer.doubleclick.net")}(i)}var HE=function(){function t(){}return t.qj=function(t,i){return"The requested feature '"+i+"' is not available with the license for this player."},t.Oj=function(t){return"invaliddomain"===t?this.$j:"invalidsource"===t?this.tQ:"expired"===t?this.iQ:"invalidfeature"===t?this.eQ:this.sQ},t}();HE.sQ="The license for this player is invalid.",HE.iQ="The usage license for this video player has expired.",HE.$j="The current domain is incompatible with the license for this player.",HE.tQ="The provided video source is incompatible with the license for this player.",HE.eQ="The requested feature is not available with the license for this player.",U(),Et(),Wt(),xt(),Qt(),U(),Et();var WE=function(t){return t[t.nQ=1]="nQ",t[t.rQ=4]="rQ",t[t.hQ=5]="hQ",t[t.oQ=9]="oQ",t}({});function zE(t){var i=[t.zB,t.aQ,t.uQ];switch(t.aQ){case 1:i.push(t.rC);break;case 4:i.push(t.zx),i.push(t.lt);break;case 5:i.push(t.lt);break;case 9:i.push(t.Km)}return i}U(),Et();var XE,qE=new Array(256);for(XE=0;XE<256;XE+=1)qE[XE]=(XE<16?"0":"")+XE.toString(16);function GE(){var t=ae(),i=(4294967296*b.random()|0)+t&3029421624,n=(4294967296*b.random()|0)+t&3595553209,r=(4294967296*b.random()|0)+t&1130486254,e=(4294967296*b.random()|0)+t&1284287105;return qE[255&i]+qE[i>>>8&255]+qE[i>>>16&255]+qE[i>>>24&255]+"-"+qE[255&n]+qE[n>>>8&255]+"-"+qE[n>>>16&15|64]+qE[n>>>24&255]+"-"+qE[63&r|128]+qE[r>>>8&255]+"-"+qE[r>>>16&255]+qE[r>>>24&255]+qE[255&e]+qE[e>>>8&255]+qE[e>>>16&255]+qE[e>>>24&255]}function jE(t){return Sa(t.replace(/-/g,""))}function QE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=16*b.random()|0;return("x"===t?i:3&i|8).toString(16)})}function YE(){return Ui.Mg()}U(),Et(),U(),Et(),U(),Et();var KE,JE="theoplayer-session-id";function ZE(){if(!KE){var t=Bd.zy(JE);t?KE=t:(KE=GE(),Bd.Gy(JE,KE))}return KE}U(),Et(),U(),Et();var $E=/[^\x00-\x7E]/g;function tI(t){return"\\u"+Wo(t.charCodeAt(0).toString(16),4,"0")}var iI="https://license.theoplayer.com";function nI(t){var i=function(t){var i=[];return function(t,i,n){return JSON.stringify(t,i,n).replace($E,tI)}(t,function(t,n){if(Wi(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n})}(function(t){return[t.cQ,t.fS,t.yj,t.ED,t.dQ,t.lQ,t.fQ.map(zE)]}(t));return fE.vj.lj(i)}var rI=function(){function t(t,i,n,r,e,s){var u=this;void 0===r&&(r=fE.bh),void 0===e&&(e=0),void 0===s&&(s=1),this.XA=void 0,this.aV=void 0,this.mQ=void 0,this.AQ=void 0,this.TQ=void 0,this.CQ=void 0,this.Zf=void 0,this._Q=void 0,this.DQ=void 0,this.IQ=void 0,this.AA=void 0,this.BQ=void 0,this.MQ=void 0,this.NQ=void 0,this.XA=t,this.aV=i,this.mQ=n,this.AQ=r,this.TQ=e,this.CQ=s,this.Zf=[],this._Q=null,this.DQ=0,this.IQ="unknown",this.AA=0,this.MQ=function(){YE()-u.DQ>6e4&&u.EQ()},this.NQ=function(){u.EQ(!0)},f.addEventListener("beforeunload",this.NQ),this.BQ=_(this.MQ,6e4)}var i=t.prototype;return i.vQ=function(){return Boolean(this.dQ)},i.gQ=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.mQ.pQ()];case 1:return n.sent().Ij?(i={aQ:WE.nQ,uQ:ae(),rC:t},[4,this.hX(i)]):[2];case 2:return n.sent(),[2]}})}).call(this)},i.wQ=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.mQ.pQ()];case 1:return n.sent().Ij?(i={aQ:WE.oQ,uQ:ae(),Km:t},[4,this.hX(i)]):[2];case 2:return n.sent(),[2]}})}).call(this)},i.yQ=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return n={aQ:WE.rQ,uQ:ae(),zx:i,lt:t},[4,this.hX(n)];case 1:return r.sent(),[2]}})}).call(this)},i.bQ=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return i={aQ:WE.hQ,uQ:ae(),lt:t},[4,this.hX(i)];case 1:return n.sent(),[2]}})}).call(this)},i.hX=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.mQ.pQ()];case 1:return i=n.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===this.AQ.lj(i.yj)&&t.aQ!==WE.hQ?[2]:(t.aQ===WE.nQ?this.SQ():this.vQ()||this.SQ(),t.zB=this.AA++,this.Zf.push(t),function(t){return t===WE.nQ||t===WE.hQ}(t.aQ)?[4,this.EQ()]:[3,3]);case 2:case 4:return n.sent(),[3,5];case 3:return this.Zf.length>this.TQ?[4,this.kQ()]:[3,5];case 5:return[2]}})}).call(this)},i.EQ=function(t){return void 0===t&&(t=!1),Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Zf.length>0?[4,this.kQ(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}})}).call(this)},i.xQ=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.mQ.pQ()];case 1:return i=n.sent(),[2,{cQ:ae(),fS:ZE(),yj:this.AQ.lj(i.yj)||"dev",ED:this.XA,dQ:this._Q,lQ:this.IQ,fQ:t}]}})}).call(this)},i.kQ=function(t){return void 0===t&&(t=!1),Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return i=this.Zf.splice(0,this.CQ),[4,this.xQ(i)];case 1:return n=r.sent(),t?this.Jk(n):this.RQ(n),this.DQ=YE(),[2]}})}).call(this)},i.RQ=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:i=nI(t),n=new Al({Yu:iI,XT:i,Xk:!1,fk:Ud.LT,_k:{"Content-Type":fk.NH},Wk:4e3,Hk:ml.POST}),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this.aV.vk(n)];case 2:return[4,r.sent().qT()];case 3:return r.sent(),[3,5];case 4:return r.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}})}).call(this)},i.Jk=function(t){var i=nI(t);this.aV.Jk({Yu:iI,XT:i,GT:fk.NH})},i.SQ=function(){this.vQ()&&this.EQ(),this._Q=GE(),this.AA=0},i.kn=function(){f.removeEventListener("beforeunload",this.NQ),m(this.BQ),this.EQ()},Nt(t,[{key:"fQ",get:function(){return this.Zf}},{key:"dQ",get:function(){return this._Q}}]),t}();U(),Et(),xt(),H(),U(),Et(),U(),Et();var eI=0;var sI=g,uI=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,oI=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;uI&&oI||(uI=function(t){var i=YE(),n=b.max(0,16-(i-eI)),r=w(function(){return t(i+n)},n);return eI=i+n,r},oI=sI),uI=uI.bind(self),oI=oI.bind(self);var hI=Bi.L_||Bi.ru&&Bi.Q_<13;function aI(t,i,n){var r=t.getImageData(i,n,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var cI=function(){function t(t){var i=this;this.t=void 0,this.VQ=void 0,this.hu=void 0,this.KQ=void 0,this.zQ=Zu(),this.WQ=1,this.QQ=!0,this.JQ=function(){i.QQ=!0},this.YQ=function(){i.VQ=i.t.zP(),i.zQ.forEach(function(t,n){t.XQ(),t.XQ=i.qQ(t.GQ,n)})},this.t=t,this.t.wn(eh.Lw,this.YQ),this.t.wn(eh.Zw,this.JQ),this.YQ()}var i=t.prototype;return i.LQ=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var e,s=this.VQ;return void 0!==s&&((e=t).drawImage.apply(e,[].concat([s],n)),!0)},i.OQ=function(t,i,n,r,e,s){var u=this.VQ;return void 0!==u&&(hI&&(u=this.HQ(u)),t.texImage2D(i,n,r,e,s,u),!0)},i.FQ=function(t){var i=this.WQ++,n=this.qQ(t,i);return this.zQ.set(i,{GQ:t,XQ:n}),i},i.UQ=function(t){var i=this.zQ.get(t);void 0!==i&&(this.zQ.delete(t),i.XQ())},i.qQ=function(t,i){var n=this,r=this.VQ;if(void 0===r)return dn;if(V(r,HTMLVideoElement)&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback(function(r,e){n.zQ.delete(i),t(r,e)});return function(){return r.cancelVideoFrameCallback(e)}}var s,u=function(r){n.jQ()?(n.zQ.delete(i),n.QQ=!1,t(r,void 0)):s=uI(u)};return s=uI(u),function(){return oI(s)}},i.jQ=function(){return(!this.t.lP||this.QQ)&&!this.t.xP&&this.t.AP>=Dy.GL},i.HQ=function(t){var i=this.KQ;void 0===i&&(i=v.createElement("canvas"),this.KQ=i);var n=i.getContext("2d"),r=this.t,e=r.MP,s=r.DP,u=i.width,o=i.height;n.clearRect(0,0,i.width,i.height),u===e&&o===s||(i.width=e,i.height=s),n.drawImage(t,0,0,e,s);var h=!1;return e>0&&aI(n,e-1,0)&&(i.width=u,h=!0),s>0&&aI(n,0,s-1)&&(i.height=o,h=!0),h&&n.drawImage(t,0,0,e,s),i},i.kn=function(){this.zQ.forEach(function(t){return t.XQ()}),this.zQ.clear(),this.t.mn(eh.Lw,this.YQ),this.t.mn(eh.Zw,this.JQ),this.VQ=void 0,this.KQ=void 0},Nt(t,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{drawImage:function(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];var s;return(s=t).LQ.apply(s,[].concat([i],r))},texImage2D:function(i,n,r,e,s,u){return t.OQ(i,n,r,e,s,u)},requestVideoFrameCallback:function(i){return t.FQ(i)},cancelVideoFrameCallback:function(i){return t.UQ(i)}}}(this)}}]),t}();U(),Et(),xt(),Pt(),U(),Et(),Pt(),U(),Et();var fI=function(t){return t.yn="dimensionchange",t}({}),vI=function(t){function i(i,n){var r;return(r=t.call(this,fI.yn)||this).width=void 0,r.height=void 0,r.width=i,r.height=n,r}return Ct(i,t),i}(rh);U(),Et(),xt(),Pt(),U(),Et();var dI,lI=function(t,i){this.xe=void 0,this.GQ=void 0,this.xe=t,this.GQ=i},wI=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).tK=void 0,r.ZQ=0,r.$Q=0,r.iK=function(t){if(t.length>0){var i=t[t.length-1].contentRect;r.$Q=i.width,r.ZQ=i.height,r.GQ(r.$Q,r.ZQ)}},r.tK=new f.ResizeObserver(r.iK),r.tK.observe(r.xe),r}return Ct(i,t),i.prototype.kn=function(){this.tK.disconnect()},Nt(i,[{key:"Iu",get:function(){return this.ZQ}},{key:"Eu",get:function(){return this.$Q}}]),i}(lI);U(),Et(),xt(),Pt(),U(),Et(),Ft();var gI=["Webkit","Moz","O","ms"],_I=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var i=k.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",dn,i),f.removeEventListener("testPassiveEventSupport",dn,i)}}catch(t){}return t}(),mI=Ju();function yI(t){return mI.has(t)||mI.set(t,function(t){var i=(dI||(dI=f&&f.document&&f.document.createElement("span")),dI);if(!i||!i.style)return t;if(void 0!==i.style[t])return t;for(var n,r=t.charAt(0).toUpperCase()+t.slice(1),e=Lt(gI);!(n=e()).done;){var s=n.value+r;if(void 0!==i.style[s])return s}return t}(t)),mI.get(t)}function pI(t){var i=t.style;i.position="absolute",i.left="0",i.right="0",i.bottom="0",i.top="0",i.overflow="scroll",i.zIndex="-1",i.visibility="hidden"}function kI(t){var i=t.style;i.position="absolute",i.left="0",i.top="0",i[yI("transition")]="0s"}var bI=function(t){function i(i,n,r){var e;(e=t.call(this,i,n)||this).hK=void 0,e.eK=0,e.$Q=NaN,e.ZQ=NaN,e.sK=void 0,e.aK=void 0,e.rK=void 0,e.uK=void 0,e.cK=void 0,e.hr=function(){var t=1e5;e.aK.style.width=t+"px",e.aK.style.height=t+"px",e.sK.scrollLeft=t,e.sK.scrollTop=t,e.rK.scrollLeft=t,e.rK.scrollTop=t,0===e.rK.scrollTop&&uI(e.hr)},e.dK=function(){var t=e.Eu,i=e.Iu;e.GQ(t,i),e.$Q=t,e.ZQ=i,e.hr(),e.eK=0},e.nK=function(){if(!e.eK){var t=e.Eu,i=e.Iu;t===e.$Q&&i===e.ZQ||(e.eK=uI(e.dK))}},e.oK=function(){e.cK||(e.cK=w(e.lK,66))},e.lK=function(){e.cK=void 0,e.fK()},e.fK=function(){e.nK()};var s=function(t,i){return f.getComputedStyle(t,void 0).getPropertyValue(i)||t.style[i]}(i,"position");r||"static"!==s||(i.style.position="relative");var u=v.createElement("div");return e.hK=u,e.sK=v.createElement("div"),e.aK=v.createElement("div"),e.rK=v.createElement("div"),e.uK=v.createElement("div"),pI(e.sK),pI(e.rK),kI(e.aK),function(t){kI(t),t.style.width="200%",t.style.height="200%"}(e.uK),u.appendChild(e.sK),u.appendChild(e.rK),e.sK.appendChild(e.aK),e.rK.appendChild(e.uK),i.appendChild(u),e.sK.addEventListener("scroll",e.nK),e.rK.addEventListener("scroll",e.nK),f&&f.addEventListener("resize",e.oK),e.nK(),e}return Ct(i,t),i.prototype.kn=function(){oI(this.eK),this.eK=0,this.sK.removeEventListener("scroll",this.nK),this.rK.removeEventListener("scroll",this.nK),Zi(this.hK),f&&f.removeEventListener("resize",this.oK)},Nt(i,[{key:"Iu",get:function(){return this.xe.getBoundingClientRect().height||this.ZQ||0}},{key:"Eu",get:function(){return this.xe.getBoundingClientRect().width||this.$Q||0}}]),i}(lI),AI=function(t){function i(i){var n;return(n=t.call(this)||this).xe=void 0,n.tK=void 0,n.iK=function(t,i){n.So(new vI(t,i))},n.xe=i,n}Ct(i,t);var n=i.prototype;return n._n=function(t){this.tK||("function"==typeof f.ResizeObserver?this.tK=new wI(this.xe,this.iK):this.tK=new bI(this.xe,this.iK,t))},n.kn=function(){this.Vo(),this.tK&&(this.tK.kn(),this.tK=void 0)},Nt(i,[{key:"Iu",get:function(){return this.tK?this.tK.Iu:0}},{key:"Eu",get:function(){return this.tK?this.tK.Eu:0}}]),i}(th);U(),Et(),xt(),Pt(),Ft(),U(),Et(),Pt();var TI=function(t){function i(){return t.call(this,ZT.pa)||this}return Ct(i,t),i}(rh);U(),Et(),Ft();var SI=function(){if(v)for(var t,i=Lt([["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]]);!(t=i()).done;){var n=t.value;if(n[1]in v)return{vK:n[0],sa:n[1],_K:n[2],gK:n[3],Ze:n[4],pK:n[5]}}}();U(),Et(),Pt();var EI=function(t){function i(){return t.call(this,ZT.ka)||this}return Ct(i,t),i}(rh),II=function(t){function i(n){var r;return(r=t.call(this)||this).xe=void 0,r.ca=void 0,r.ds=!1,r.mK=function(){return r.yK()},r.wK=function(){return r.bK()},r.xe=n,r.ca=i.la(n),v.addEventListener(SI.Ze,r.mK),r.yK(),r}Ct(i,t);var n=i.prototype;return n.yo=function(){var t=this.xe[SI.vK]();t&&t.then?t.then(this.mK,this.wK):(v.removeEventListener(SI.pK,this.wK),v.addEventListener(SI.pK,this.wK))},n.jo=function(){var t=v[SI.sa]();t&&t.then?t.then(this.mK,this.wK):(v.removeEventListener(SI.pK,this.wK),v.addEventListener(SI.pK,this.wK))},n.yK=function(){var t=this.ds,i=this.xe===v[SI._K];this.ds=i,t!==i&&this.So(new TI)},n.bK=function(){this.So(new $T)},n.kn=function(){this.Vo(),v.removeEventListener(SI.Ze,this.mK),v.removeEventListener(SI.pK,this.wK)},i.la=function(t){return Boolean(SI&&v[SI.gK]&&SI.vK in t)},i}(th),RI=function(t){function i(n){var r;return(r=t.call(this)||this).xe=void 0,r.ca=void 0,r.ds=!1,r.mK=function(){return r.yK()},r.xe=n,r.ca=i.la(n),r.xe.addEventListener("webkitbeginfullscreen",r.mK),r.xe.addEventListener("webkitendfullscreen",r.mK),r.xe.addEventListener("webkitpresentationmodechanged",r.mK),r.yK(),r}Ct(i,t);var n=i.prototype;return n.yo=function(){var t=this;this.xe.webkitSupportsPresentationMode&&this.xe.webkitSupportsPresentationMode("fullscreen")?Bi.ru?requestAnimationFrame(function(){return t.xe.webkitSetPresentationMode("fullscreen")}):this.xe.webkitSetPresentationMode("fullscreen"):this.xe.webkitEnterFullscreen()},n.jo=function(){this.xe.webkitSupportsPresentationMode&&this.xe.webkitSupportsPresentationMode("inline")?this.xe.webkitSetPresentationMode("inline"):this.xe.webkitExitFullscreen()},n.yK=function(){var t,i=this.ds;t=this.xe.webkitPresentationMode?"fullscreen"===this.xe.webkitPresentationMode:Boolean(this.xe.webkitDisplayingFullscreen),this.ds=t,i!==t&&this.So(new TI)},n.kn=function(){this.Vo(),this.xe.removeEventListener("webkitbeginfullscreen",this.mK),this.xe.removeEventListener("webkitendfullscreen",this.mK),this.xe.removeEventListener("webkitpresentationmodechanged",this.mK)},i.la=function(t){return Bi.ru&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},i}(th),CI=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).TK=[],i.AK=void 0,i.SK=!1,i.yK=function(){var t=i.SK,n=i.PK();t!==n&&(i.SK=n,i.So(new TI))},i}Ct(i,t);var n=i.prototype;return n.yo=function(){this.AK?this.AK.yo():this.So(new $T)},n.jo=function(){for(var t,i=Lt(this.TK);!(t=i()).done;){var n=t.value;n.ds&&n.jo()}},n.kK=function(t){this.AK=t},n.EK=function(t){this.TK.push(t),t.wn(ZT.pa,this.yK),t.wn(ZT.ma,this.Rs),this.yK()},n.xK=function(t){Xn(this.TK,t),t.mn(ZT.pa,this.yK),t.mn(ZT.ma,this.Rs)},n.PK=function(){for(var t,i=Lt(this.TK);!(t=i()).done;){if(t.value.ds)return!0}return!1},n.hr=function(){this.AK=void 0,this.SK=!1;for(var t,i=Lt(this.TK.slice());!(t=i()).done;){var n=t.value;this.xK(n),n.kn()}this.yK()},n.kn=function(){this.Vo(),this.hr()},Nt(i,[{key:"ca",get:function(){return!!this.AK&&this.AK.ca}},{key:"ds",get:function(){return this.SK}}]),i}(th),PI=function(t){function i(i,n){var r;return(r=t.call(this)||this).t=void 0,r.IK=void 0,r.CK=void 0,r.ga=!1,r.NK=function(){return r.er()},r.yK=function(t){r.ga||r.So(t)},r.t=i,r.IK=n,r.CK=new tS,r.RK(),r.t.wn(eh.Bw,r.NK),r.er(),r}Ct(i,t);var n=i.prototype;return n.yo=function(){this.IK&&this.CK.yo()},n.jo=function(){this.CK.jo()},n.RK=function(){this.CK.wn([ZT.pa,ZT.ka],this.yK),this.CK.wn(ZT.ma,this.Rs)},n.DK=function(){this.CK.mn([ZT.pa,ZT.ka],this.yK),this.CK.mn(ZT.ma,this.Rs)},n.er=function(){var t=this.CK,i=this.t.qP();if(t!==i){this.ga=!0;var n=this.ds,r=this.ca;n&&this.jo(),this.DK(),this.CK=i,this.RK(),n&&!this.ds&&this.ca?this.yo():this.jo(),this.ga=!1,r!==this.ca&&this.So(new EI),n!==this.ds&&this.So(new TI)}},n.kn=function(){this.Vo(),this.DK(),this.t.mn(eh.Bw,this.NK)},Nt(i,[{key:"ca",get:function(){return!!this.IK&&this.CK.ca}},{key:"ds",get:function(){return this.CK.ds}}]),i}(th);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Pt(),U(),Et();var DI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),NI=function(t){function i(i){var n;return(n=t.call(this,DI.MODE_CHANGE)||this).presentationMode=void 0,n.presentationMode=i,n}return Ct(i,t),i}(rh);U(),Et(),U(),Et(),Pt(),Ft();var xI=function(t){function i(i,n){var r;return void 0===n&&(n=!1),(r=t.call(this,i)||this).MK=[],r.UK=void 0,r.FK=function(t){pr(function(){r.Rs(t)})},r.UK=n?r.FK:r.Rs,r}Ct(i,t);var n=i.prototype;return n.au=function(t){t.lw(this.UK),this.MK.push(t)},n.LK=function(t){t.mw(this.UK),Xn(this.MK,t)},n.kn=function(){this.Vo();for(var t,i=Lt(this.MK);!(t=i()).done;){t.value.mw(this.UK)}Yn(this.MK)},i}(nh);U(),Et(),xt(),Pt();var BI=function(t){function i(i){var n;return(n=t.call(this,DI.ERROR)||this).errorObject=void 0,n.errorObject=i,n}return Ct(i,t),i.prototype.xa=function(){return this},Nt(i,[{key:"error",get:function(){return this.errorObject.message}}]),i}(Aw);U(),Et(),Pt();var OI=function(t){function i(i,n,r){return t.call(this,i,n,r)||this}return Ct(i,t),i}(ld),MI=function(t){function i(i,n){var r;return(r=t.call(this)||this).Yo=kT.INLINE,r.ra=!1,r.ha=void 0,r.ea=void 0,r.ta=new bd,r.hu=void 0,r.yK=function(){r._i()},r.bK=function(){r.ra||(r.So(new yb(new ld(vd.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r._i())},r.zK=function(){r.ra||(r.Yo!==kT.NATIVE_PICTURE_IN_PICTURE||r.ea.YL?r.Yo!==kT.NATIVE_PICTURE_IN_PICTURE&&r.ea.YL&&r.Jo(kT.NATIVE_PICTURE_IN_PICTURE):r.Jo(kT.INLINE))},r.GK=function(){r.ra||(r.So(new BI(new OI(vd.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.zK())},r.ha=i,r.ea=n,r.ha.wn(ZT.pa,r.yK),r.ha.wn(ZT.ma,r.bK),r.ea.wn(NT.QL,r.zK),r.ea.wn(NT.KL,r.zK),r.ea.wn(NT.ma,r.GK),r}Ct(i,t);var n=i.prototype;return n.xa=function(){return function(t){var i,n={get currentMode(){return t.Wo()},requestMode:function(i){var n=RT(i);n&&t.Jo(n)},supportsMode:function(i){var n=RT(i);return!!n&&t.Xo(n)},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return(i=new xI(n,!0)).au(t),n}(this)},n.Jo=function(t){this.Yo!==t&&(this.Yo=t,this.ra=!0,this.Ko(t))},n.Wo=function(){return this.Yo},n.Xo=function(t){switch(t){case kT.NATIVE_PICTURE_IN_PICTURE:return this.ea.JL;case kT.FULLSCREEN:return this.ha.ca;case kT.INLINE:return!0}return!1},n.Ko=function(t){var i=this;switch(this.ta.Zg(),t){case kT.FULLSCREEN:kr(this.ta.Zo(function(t){return i.VK(t)}));break;case kT.NATIVE_PICTURE_IN_PICTURE:kr(this.ta.Zo(function(t){return i.HK(t)}));break;case kT.INLINE:kr(this.ta.Zo(function(t){return i.WK(t)}))}},n.VK=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.ea.jo().catch(dn)];case 1:n.sent(),dr(t),n.label=2;case 2:return n.trys.push([2,4,5,6]),[4,this.qK()];case 3:return n.sent(),this.So(new NI(this.Yo)),[3,6];case 4:throw n.sent(),i=new OI(vd.FULLSCREEN_ERROR,"Failed to enter fullscreen."),this.So(new BI(i)),dr(t),this.Jo(kT.INLINE),i;case 5:return this.ra=!1,[7];case 6:return[2]}})}).call(this)},n.HK=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.sa().catch(dn)];case 1:n.sent(),dr(t),n.label=2;case 2:return n.trys.push([2,4,5,6]),[4,this.ea.yo()];case 3:return n.sent(),this.So(new NI(this.Yo)),[3,6];case 4:throw n.sent(),i=new OI(vd.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),this.So(new BI(i)),dr(t),this.Jo(kT.INLINE),i;case 5:return this.ra=!1,[7];case 6:return[2]}})}).call(this)},n.WK=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.sa().catch(dn)];case 1:return i.sent(),dr(t),[4,this.ea.jo().catch(dn)];case 2:return i.sent(),this.So(new NI(this.Yo)),this.ra=!1,[2]}})}).call(this)},n.qK=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.ha.ds?[2]:(t=this.ha.ww([ZT.pa,ZT.ma]),this.ha.yo(),[4,t]);case 1:if(i.sent(),!this.ha.ds)throw new y("Failed to enter fullscreen.");return[2]}})}).call(this)},n.sa=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.ha.ds?(t=this.ha.ww([ZT.pa,ZT.ma]),this.ha.jo(),[4,t]):[2];case 1:if(i.sent(),this.ha.ds)throw new y("Failed to exit fullscreen.");return[2]}})}).call(this)},n._i=function(){this.ra||(this.Yo!==kT.FULLSCREEN||this.ha.ds?this.Yo!==kT.FULLSCREEN&&this.ha.ds&&this.Jo(kT.FULLSCREEN):this.Jo(kT.INLINE))},n.kn=function(){this.ha.mn(ZT.pa,this.yK),this.ha.mn(ZT.ma,this.bK),this.ea.mn(NT.QL,this.zK),this.ea.mn(NT.KL,this.zK),this.ea.mn(NT.ma,this.GK),this.Vo()},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(nh);U(),Et(),Wt(),Qt();var LI=function(){function t(t){this.Bz=void 0,this.jK=void 0,this.Bz=t,this.jK=new bd}var i=t.prototype;return i.XK=function(t){var i=this;return this.jK.Zo(function(){return i.QK(t)})},i.GP=function(){this.Bz.Nz()},i.QK=function(i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return n=this.Bz.Yq(eg.Mk),r=n.hq,[4,t.KK(r,i)];case 1:return e=s.sent(),[4,this.Bz.Dq(n)];case 2:return s.sent(),[2,e]}})}).call(this)},i.kn=function(){this.jK.kn()},t.KK=function(i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return Bi.S_||Bi.w_?[2,"all"]:(i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.YK()]);case 1:return e.sent(),(r=!n)?[4,t.JK(i,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.JK(i,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}})})()},t.JK=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:t.muted=i,n=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),Gi(n)?(r=Ar(250),[4,ut.race([n,r])]):[2,!Bi.Ks];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}})})()},t.YK=function(){return new ut(function(t){if("function"==typeof MessageChannel){var i=new MessageChannel;i.port1.onmessage=function(){return t()},i.port2.postMessage("")}else w(t,0)})},t}(),FI=LI;function UI(t){FI=t}function VI(t){var i;return{get url(){return t.Yu},get method(){return t.Hk},get headers(){return i||(i=t._k.OT()),i},get body(){return t.XT},get useCredentials(){return t.Xk},get type(){return t.Km},get subType(){return t.zk},get mediaType(){return t.Gk},get responseType(){return t.fk}}}function HI(t){switch(t.toLowerCase()){case"arraybuffer":return Ud.NT;case"json":return Ud.BT;case"stream":return Ud.MT;default:return Ud.LT}}function WI(t){switch(t.toUpperCase()){case"POST":return ml.POST;case"PUT":return ml.PUT;case"DELETE":return ml.DELETE;case"HEAD":return ml.HEAD;case"OPTIONS":return ml.OPTIONS;default:return ml.GET}}function zI(t){switch(t.toLowerCase()){case"manifest":return yl.bk;case"segment":return yl.Ak;case"preload-hint":return yl.Sk;case"content-protection":return yl.Tk;default:return yl.yk}}function XI(t){switch(t.toLowerCase()){case"initialization-segment":return pl.Ek;case"fairplay-license":return pl.xk;case"fairplay-certificate":return pl.Pk;case"widevine-license":return pl.Ik;case"widevine-certificate":return pl.Ck;case"playready-license":return pl.Rk;case"clearkey-license":return pl.Dk;case"aes128-key":return pl.Nk;default:return pl.yk}}function qI(t){switch(t.toLowerCase()){case"audio":return kl.Bk;case"video":return kl.Mk;case"text":return kl.LT;case"image":return kl.Lk;default:return kl.yk}}U(),Et(),Wt(),Pt(),H(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),U(),Et(),Wt(),xt(),Qt();var GI=function(){function t(t,i){this.vY=void 0,this.dY=void 0,this.$K=void 0,this.oY=void 0,this.hu=void 0,this.eY=void 0,this.cE=void 0,this.rY=void 0,this.vY=t,this.dY=i,this.$K=new Va,this.oY=[],this.hu=void 0,this.eY=!1,this.cE=void 0,this.rY=0}var i=t.prototype;return i.vD=function(){this.eY=!0,this.$K.Qy(null)},i.hY=function(){this.$K.Ky(new Xd(this.oY))},i.aY=function(t){if(!this.sY)throw new p("Cannot respond more than once");if(!Wi(t))throw new p("Expected valid response");this.cE=this.uY(t),this.vD()},i.cY=function(){try{var t=this.dY(this.Ca);t?this.lY(t):this.nY||this.iY||this.vD()}catch(t){this.oY.push(t),this.hY()}},i.lY=function(t){if(this.iY)throw new y("Request has been redirected or a response already exists");if(Gi(t))this.fY(t);else{if("function"!=typeof t)throw new p("Expected promise or function");var i=new Va;try{var n=t(function(t){t?i.Ky(t):i.Qy(void 0)});Gi(n)&&i.$g(n)}catch(t){i.Ky(t)}this.fY(i.Yy)}},i.fY=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.rY++,[4,t];case 1:return n.sent(),this.rY--,this.nY||this.iY||(this.oY.length?this.hY():this.vD()),[3,3];case 2:return i=n.sent(),this.rY--,this.oY.push(i),this.nY||this.iY||this.hY(),[3,3];case 3:return[2]}})}).call(this)},Nt(t,[{key:"ZK",get:function(){return this.$K.Yy}},{key:"Ca",get:function(){return this.hu||(this.hu=this.tY()),this.hu}},{key:"iY",get:function(){return this.eY}},{key:"sY",get:function(){return!this.eY}},{key:"nY",get:function(){return this.rY>0}},{key:"uE",get:function(){return this.cE}}]),t}(),jI=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n)||this)._Y=void 0,e._Y=r,e.cY(),e}Ct(i,t);var n=i.prototype;return n.tY=function(){return function(t){var i,n=VI(t.vk);return{get closed(){return!t.sY},get request(){return n},get url(){return t.Yu},get status(){return t.dk},get statusText(){return t.gk},get headers(){return i||(i=t._k.OT()),i},get body(){return t.XT},respondWith:function(i){return t.aY(i)},waitUntil:function(i){return t.lY(i)}}}(this)},n.uY=function(t){return i.gY(t,this.vY,this._Y)},i.gY=function(t,i,n){var r=void 0===t.body?n:t.body;return new _l({lk:r,vk:i.vk,fk:i.vk.fk,_k:t.headers,dk:t.status,gk:t.statusText,wk:t.url,pk:!0},i)},Nt(i,[{key:"XT",get:function(){return this._Y}},{key:"_k",get:function(){return this.vY._k}},{key:"vk",get:function(){return this.vY.vk}},{key:"uE",get:function(){return this.cE}},{key:"dk",get:function(){return this.vY.dk}},{key:"gk",get:function(){return this.vY.gk}},{key:"Yu",get:function(){return this.vY.wk}}]),i}(GI);U(),Et(),xt(),Pt();var QI=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n)||this).wY=void 0,e.pY=void 0,e.pY=r,e.cY(),e}Ct(i,t);var n=i.prototype;return n.tY=function(){return function(t){var i;return{get url(){return t.Yu},get method(){return t.Hk},get headers(){return i||(i=t._k.OT()),i},get body(){return t.XT},get closed(){return!t.sY},get useCredentials(){return t.Xk},get type(){return t.Km},get subType(){return t.zk},get mediaType(){return t.Gk},get responseType(){return t.fk},redirect:function(i){return t.yY(i)},respondWith:function(i){return t.aY(i)},waitUntil:function(i){return t.lY(i)}}}(this)},n.uY=function(t){var i=this.vY.XT,n=new _l({lk:i,_k:{},vk:this.vY,wk:this.vY.Yu,fk:this.vY.fk,dk:200,gk:"OK"});return jI.gY(t,n,i)},n.yY=function(t){if(!this.sY)throw new p("Cannot redirect, already redirected or has a response");var i;i=Xi(t)?{url:t}:t,this.wY=function(t,i){return new Al({Yu:void 0===t.url?i.Yu:t.url,Hk:void 0!==t.method?WI(t.method):void 0,_k:t.headers,XT:t.body,Xk:t.useCredentials,Km:void 0!==t.type?zI(t.type):void 0,zk:void 0!==t.subType?XI(t.subType):void 0,Gk:void 0!==t.mediaType?qI(t.mediaType):void 0,fk:void 0!==t.responseType?HI(t.responseType):void 0},i)}(i,this.vY),this.vD()},Nt(i,[{key:"XT",get:function(){return this.vY.XT}},{key:"sY",get:function(){return this.pY&&!this.eY}},{key:"_k",get:function(){return this.vY._k}},{key:"Hk",get:function(){return this.vY.Hk}},{key:"mY",get:function(){return this.wY}},{key:"uE",get:function(){return this.cE}},{key:"fk",get:function(){return this.vY.fk}},{key:"Wk",get:function(){return this.vY.Wk}},{key:"qk",get:function(){return this.vY.qk}},{key:"Yg",get:function(){return this.vY.Yg}},{key:"Km",get:function(){return this.vY.Km}},{key:"zk",get:function(){return this.vY.zk}},{key:"Gk",get:function(){return this.vY.Gk}},{key:"Yu",get:function(){return this.vY.Yu}},{key:"Xk",get:function(){return this.vY.Xk}},{key:"Kk",get:function(){return this.vY.Kk}},{key:"jk",get:function(){return this.vY.jk}},{key:"Qk",get:function(){return this.vY.Qk}},{key:"Yk",get:function(){return this.vY.Yk}}]),i}(GI);var YI=function(t){function i(i,n){var r;void 0===n&&(n=!0);var e=new KI(i);return(r=t.call(this,e,n)||this).AY=void 0,r.AY=e,r}Ct(i,t);var n=i.prototype;return n.bY=function(t){this.AY.bY(t)},n.SY=function(t){this.AY.SY(t)},n.TY=function(t){this.AY.TY(t)},n.dX=function(t){this.AY.dX(t)},n._X=function(t){this.AY._X(t)},i}(Sl),KI=function(){function t(t){this.iE=void 0,this.PY=[],this.IY=[],this.iE=t}var i=t.prototype;return i.vk=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,this.kY(t,t.Yg)];case 1:return i=r.sent(),[3,5];case 2:return V(n=r.sent(),xl)?[4,this.EY(n,t.Yg)]:[3,4];case 3:return[2,r.sent()];case 4:throw n;case 5:return[4,this.xY(i,t.Yg)];case 6:if(gl(i=r.sent()))return[2,i];throw new Ol(i)}})}).call(this)},i.Jk=function(t){return this.iE.Jk(t)},i.kY=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:dr(i),n=t,e=Lt(this.PY.slice()),h.label=1;case 1:if((s=e()).done)return[3,7];if(u=s.value,dr(i),(o=new QI(n,u,!r)).iY)return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,o.ZK];case 3:return h.sent(),[3,5];case 4:return h.sent(),[3,6];case 5:o.mY&&!r?n=o.mY:o.uE&&!r&&(r=o.uE),h.label=6;case 6:return[3,1];case 7:return r?[2,r]:[2,this.iE.vk(n)]}})}).call(this)},i.EY=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return V(t,Ol)?n=t.uE:(r=t.vk,n=new _l({lk:null,vk:r,fk:r.fk,dk:0,gk:""})),[4,this.xY(n,i)];case 1:if((e=s.sent())===n)throw t;if(gl(e))return[2,e];throw new Ol(e)}})}).call(this)},i.xY=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:n=t,r=Lt(this.IY.slice()),h.label=1;case 1:return(e=r()).done?[3,8]:(s=e.value,dr(i),[4,ut.resolve(n.Fy().lk(i))]);case 2:if(u=h.sent(),(o=new jI(n,s,u)).iY)return[3,6];h.label=3;case 3:return h.trys.push([3,5,,6]),[4,o.ZK];case 4:return h.sent(),[3,6];case 5:return h.sent(),[3,7];case 6:n=o.uE||n,h.label=7;case 7:return[3,1];case 8:return[2,n]}})}).call(this)},i.bY=function(t){this.PY.unshift(t)},i.SY=function(t){this.PY.push(t)},i.TY=function(t){Xn(this.PY,t)},i.dX=function(t){this.IY.unshift(t)},i._X=function(t){Xn(this.IY,t)},i.kn=function(){this.iE.kn(),Yn(this.PY),Yn(this.IY)},t}();U(),Et(),xt(),Pt();var JI=function(){function t(t){this.aV=void 0,this.hu=void 0,this.aV=t}var i=t.prototype;return i.bY=function(t){this.aV.bY(t)},i.TY=function(t){this.aV.TY(t)},i.dX=function(t){this.aV.dX(t)},i._X=function(t){this.aV._X(t)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{addRequestInterceptor:function(i){t.bY(i)},removeRequestInterceptor:function(i){t.TY(i)},addResponseInterceptor:function(i){t.dX(i)},removeResponseInterceptor:function(i){t._X(i)}}}(this)),this.hu}}]),t}(),ZI=function(t){function i(i,n,r){var e;return(e=t.call(this,n)||this).LY=void 0,e.aV=void 0,e.Mz=void 0,e.hu=void 0,e.OY=void 0,e.FY=void 0,e.LY=i,e.aV=n,e.Mz=r,e.OY=function(t){e.So(t)},e.FY=function(t){e.So(t)},e.LY.wn(eh.Xw,e.OY),e.LY.wn(eh.Gw,e.FY),e}Ct(i,t);var n=i.prototype;return n.RY=function(t){this.Mz.RY(t)},n.bY=function(t){this.aV.bY(t)},n.TY=function(t){this.aV.TY(t)},n.dX=function(t){this.aV.dX(t)},n._X=function(t){this.aV._X(t)},n.kn=function(){this.Vo(),this.LY.mn(eh.Xw,this.OY),this.LY.mn(eh.Gw,this.FY)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get online(){return t.cP},get estimator(){return function(t){return{get bandwidth(){return t.IW},get roundTripTime(){return t.RW}}}(t.CY)},setEstimator:function(i){t.RY(function(t){if(!t)return;return{get IW(){return qw(t.bandwidth)},get RW(){return qw(t.roundTripTime)},DW:function(i){return function(t){if(!t)return;return{DY:function(i){t.markRequestStart(i)},NY:function(i){t.markResponseStart(i)},BY:function(i,n){t.markResponseData(i,n)},MY:function(i){t.markResponseEnd(i)}}}(t.createMeasurer(VI(i)))}}}(i))},addRequestInterceptor:function(i){t.bY(i)},removeRequestInterceptor:function(i){t.TY(i)},addResponseInterceptor:function(i){t.dX(i)},removeResponseInterceptor:function(i){t._X(i)},addEventListener:function(i,n){t.wn(i,n)},removeEventListener:function(i,n){t.mn(i,n)}}}(this)),this.hu}},{key:"cP",get:function(){return this.LY.cP}},{key:"CY",get:function(){return this.Mz.CY}}]),i}(th);U(),Et(),xt(),Pt(),U(),Et(),U(),Et();var $I=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});U(),Et(),H();function tR(t,i,n,r,e,s){var u=[],o=t-b.max(s,1),h=t+e;if(i&&n){var a=Tn(n,1,5),c=i-a;o=b.min(o,c);var f=i+n+a;h=b.max(h,f)}return 0!==o&&r.jM(0,o)&&u.push([0,o]),r.jM(h,1/0)&&u.push([h,1/0]),u}function iR(t){return V(t,y)&&"QuotaExceededError"===t.name}U(),Et();var nR={type:$I.BANDWIDTH};function rR(t){var i=Lw(nR);return Xi(t)?i.type=eR(t):Wi(t)&&function(t){switch(t){case $I.PERFORMANCE:case $I.QUALITY:case $I.BANDWIDTH:return!0;default:return!1}}(t.type)&&(i.type=eR(t.type)),Wi(t)&&Wi(t.metadata)&&(i.metadata=function(t){var i={},n=Xw(t.bitrate);return S(n)||(i.bitrate=n),i}(t.metadata)),i}function eR(t){switch(t){case"bandwidth":return $I.BANDWIDTH;case"performance":return $I.PERFORMANCE;case"quality":return $I.QUALITY}}U(),Et(),Pt();var sR=function(t){function i(i){var n;return(n=t.call(this,"UY")||this).VY=void 0,n.VY=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var uR=function(t){function i(i){var n;return(n=t.call(this,"HY")||this).WY=void 0,n.WY=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var oR=function(t){function i(i){var n;return(n=t.call(this,"qY")||this).zY=void 0,n.zY=i,n}return Ct(i,t),i}(rh),hR=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).hu=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.WY)},set strategy(i){t.WY=rR(i)},get targetBuffer(){return t.VY},set targetBuffer(i){var n=Xw(i);S(n)||(t.VY=n)},get bufferLookbackWindow(){return t.zY},set bufferLookbackWindow(i){var n=Xw(i);S(n)||(t.zY=n<=0?30:n)},get maxBufferLength(){return t.$Y},get clearBufferWhenSettingTargetQuality(){return t.eJ},set clearBufferWhenSettingTargetQuality(i){t.eJ=Ww(i)}}}(i),i.QY=nR,i.KY=20,i.ZY=30,i.JY=1/0,i.sJ=!1,i.tJ=void 0,i.XY=void 0,i}Ct(i,t);var n=i.prototype;return n.GY=function(t){this.XY=t},n.RY=function(t){this.tJ=t},n.iJ=function(t){var i=b.min(t,.8*this.JY);if(i=b.max(10,i),this.JY===i)return!1;var n=this.YY;this.JY=i;var r=this.YY;return r!==n&&this.So(new sR(r)),!0},Nt(i,[{key:"jY",get:function(){switch(this.QY.type){case $I.PERFORMANCE:return 0;case $I.QUALITY:return 1/0;case $I.BANDWIDTH:return this.QY.metadata&&void 0!==this.QY.metadata.bitrate?this.QY.metadata.bitrate:bb.Bg.pW();default:return bb.Bg.pW()}}},{key:"Ca",get:function(){return this.hu}},{key:"WY",get:function(){return this.QY},set:function(t){this.QY=t,this.So(new uR(t))}},{key:"VY",get:function(){return this.KY},set:function(t){this.KY=t,this.So(new sR(t))}},{key:"YY",get:function(){return b.min(this.KY,this.JY)}},{key:"zY",get:function(){return this.ZY},set:function(t){this.ZY=t,this.So(new oR(t))}},{key:"$Y",get:function(){return this.JY}},{key:"CY",get:function(){var t;return null!=(t=this.tJ)?t:this.XY.dq}},{key:"eJ",get:function(){return this.sJ},set:function(t){this.sJ=t}}]),i}(th);U(),Et(),xt(),Pt(),U(),Et(),Pt();var aR=function(t){function i(){return t.call(this,"bI")||this}return Ct(i,t),i.prototype.xa=function(){return new cR},i}(Aw),cR=function(t){function i(){return t.call(this,"change")||this}return Ct(i,t),i}(rh);U(),Et(),U(),Et(),Pt(),Ft();var fR=function(t){function i(i,n,r){var e;(e=t.call(this,r)||this).nJ=void 0,e.Zf=void 0,e.rJ=function(t){Tw(t)&&pr(function(){e.So(t.Ca)})},e.nJ=i,e.Zf=n;for(var s,u=Lt(e.Zf);!(s=u()).done;){var o=s.value;e.nJ.wn(o,e.rJ)}return e}return Ct(i,t),i.prototype.kn=function(){this.Vo();for(var t,i=Lt(this.Zf);!(t=i()).done;){var n=t.value;this.nJ.mn(n,this.rJ)}},i}(th),vR=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).nJ=void 0,r.rJ=function(t){Tw(t)&&pr(function(){r.So(t.Ca)})},r.nJ=i,r.nJ.lw(r.rJ),r}return Ct(i,t),i.prototype.kn=function(){this.Vo(),this.nJ.mw(this.rJ)},i}(nh);var dR=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).HO=0,i.zO=1/0,i.hu=void 0,i}Ct(i,t);var n=i.prototype;return n.hr=function(){0===this.HO&&this.zO===1/0||(this.HO=0,this.zO=1/0,this.So(new aR))},n.hJ=function(){return new EA([this.CO,this.RO],[!0,!0])},Nt(i,[{key:"CO",get:function(){return this.HO},set:function(t){if(this.RO<=t)throw new y("Start time of a clip should be smaller than the end time.");this.HO!==t&&(this.HO=t,this.So(new aR))}},{key:"RO",get:function(){return this.zO},set:function(t){if(t<=this.CO)throw new y("End time of a clip should be larger than the start time.");this.zO!==t&&(this.zO=t,this.So(new aR))}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i,n={get startTime(){return t.CO},set startTime(i){t.CO=i},get endTime(){return t.RO},set endTime(i){t.RO=i},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new vR(t,n),n}(this)),this.hu}}]),i}(nh);U(),Et(),Wt(),xt(),Pt(),Qt();var lR=function(t){function i(n,r){var e;return(e=t.call(this,n)||this).oJ=void 0,e.uJ=!1,e.pJ=void 0,e.mJ=!1,e.lJ=function(){e.dJ(),e.aJ()},e.Nc=function(){e.fJ(),e.aJ(),e.gJ&&e.zx>=e.oJ.RO-i.wJ&&!e.Qx&&(e.pJ=uI(e.Nc))},e.vJ=function(){e.mJ=!0},e._J=function(){e.mJ&&(e.mJ=!1,e.aJ())},e.oJ=r,e.oJ.wn("bI",e.lJ),e.Lx.wn(eh.py,e.Nc),e}Ct(i,t);var n=i.prototype;return n.Xx=function(i,n){var r=this.oJ.hJ().LM(i);t.prototype.Xx.call(this,r,n),this.aJ()},n.Kx=function(){return t.prototype.Kx.call(this)||this.uJ},n.EP=function(){return EA.jn(t.prototype.EP.call(this)).Mn(this.oJ.hJ())._s()},n.QP=function(){this.Kx()?this.Xx(this.cJ.start(0)):this.dJ(),t.prototype.QP.call(this),this.aJ()},n.Ta=function(i,n){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return dr(n),this.uJ=!1,this.oJ.hr(),[4,t.prototype.Ta.call(r,i,n)];case 1:return e.sent(),[2]}})}).call(this)},n.kn=function(){return this.oJ.mn("bI",this.lJ),this.Lx.mn(eh.py,this.Nc),this.fJ(),t.prototype.kn.call(this)},n.eI=function(i){switch(i.type){case eh.$w:return this.So(i),this.vJ(),!0;case eh.Zw:case eh.Rw:return this.So(i),this._J(),!0;case eh.Nw:if(this.gJ)return!0}return t.prototype.eI.call(this,i)},n.fJ=function(){this.pJ&&(oI(this.pJ),this.pJ=void 0)},n.aJ=function(){var t=this.zx,n=this.gJ&&t>=this.oJ.RO-i.fd;this.uJ&&!n?(this.uJ=!1,this.lP&&this.QP()):this.uJ||!n||this.xP||this.mJ||(this.uJ=!0,this.So(new lT(t)),this.jP())},n.dJ=function(){if(this.ct!==1/0){var t=this.cJ,n=EA.jn(t).LM(this.zx);Sn(this.zx,n,i.fd)||this.Xx(n)}},Nt(i,[{key:"cJ",get:function(){return this.EP().length?this.EP():this.oJ.hJ()._s()}},{key:"gJ",get:function(){return this.oJ.RO<this.ct}}]),i}(Jb);lR.wJ=1,lR.fd=.001,U(),Et(),xt();var wR=function(){function t(){this.bJ=void 0,this.bJ=!1}return Nt(t,[{key:"yJ",get:function(){return this.bJ},set:function(t){this.bJ=t}}]),t}();U(),Et(),Pt();var gR=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).bJ=void 0,r.SJ=!1,r.AJ=!1,r.bJ=n,r}Ct(i,t);var n=i.prototype;return n.Kx=function(){return!this.bJ.yJ&&t.prototype.Kx.call(this)},n.jP=function(){this.AJ=!0,t.prototype.jP.call(this)},n.QP=function(){this.AJ=!1,t.prototype.QP.call(this)},n.eI=function(i){if(this.bJ.yJ)switch(i.type){case eh.Nw:return this.zx=0,this.AJ||(this.xP?this.SJ=!0:this.QP()),!0;case eh.Zw:this.SJ&&(this.SJ=!1,this.QP());break;case eh.jw:if(this.SJ||t.prototype.Kx.call(this))return!0}return t.prototype.eI.call(this,i)},i}(Jb);U(),Et(),xt(),U(),Et();var _R=function(){function t(t){this.oa=void 0,this.hu=void 0,this.oa=t,this.hu=function(t){return{get currentBandwidthEstimate(){return t.aO},get corruptedVideoFrames(){return t.hO},get droppedVideoFrames(){return t.rO},get totalVideoFrames(){return t.oO},get totalBytesLoaded(){return t.uO},get bufferedSegments(){return t.cO}}}(this)}return Nt(t,[{key:"Ca",get:function(){return this.hu}},{key:"hO",get:function(){return this.oa.rP.hO}},{key:"aO",get:function(){return this.oa.rP.aO}},{key:"rO",get:function(){return this.oa.rP.rO}},{key:"TJ",get:function(){throw new y("Not implemented")}},{key:"kJ",get:function(){throw new y("Not implemented")}},{key:"uO",get:function(){return this.oa.rP.uO}},{key:"oO",get:function(){return this.oa.rP.oO}},{key:"cO",get:function(){return this.oa.rP.cO}}]),t}();function mR(t){if(!t||!Sr(t))return{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var i=t.getVideoPlaybackQuality();return{rO:i.droppedVideoFrames,hO:i.corruptedVideoFrames||0,oO:i.totalVideoFrames}}return{rO:t.webkitDroppedFrameCount||0,hO:0,oO:t.webkitDecodedFrameCount||0}}U(),Et(),xt(),Pt(),U(),Et(),Pt();var yR=function(t){function i(){return t.call(this,"EJ")||this}return Ct(i,t),i.prototype.xa=function(){return new pR},i}(Aw),pR=function(t){function i(){return t.call(this,"castingchange")||this}return Ct(i,t),i}(rh);U(),Et();var kR=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).PJ=void 0,i.IJ=void 0,i.OJ=!1,i.hu=void 0,i.MJ=function(){var t=i.OJ,n=i.xJ;t!==n&&(i.OJ=n,i.So(new yR))},i}Ct(i,t);var n=i.prototype;return n.DJ=function(t){this.PJ=t,this.NJ(t)},n.BJ=function(t){this.IJ=t,this.NJ(t)},n.NJ=function(t){t.wn("statechange",this.MJ)},n.LJ=function(t){t.mn("statechange",this.MJ)},n.kn=function(){this.Vo(),this.PJ&&(this.LJ(this.PJ),this.PJ=void 0),this.IJ&&(this.LJ(this.IJ),this.IJ=void 0)},Nt(i,[{key:"xJ",get:function(){var t,i;return(null==(t=this.PJ)?void 0:t.xJ)||(null==(i=this.IJ)?void 0:i.xJ)||!1}},{key:"CJ",get:function(){return this.PJ}},{key:"RJ",get:function(){return this.IJ}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i,n={get casting(){return t.xJ},get airplay(){var i;return null==(i=t.CJ)?void 0:i.Ca},get chromecast(){var i;return null==(i=t.RJ)?void 0:i.Ca},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new fR(t,["EJ"],n),n}(this)),this.hu}}]),i}(th);U(),Et(),Wt(),Qt(),U(),Et(),Wt(),Qt();var bR=function(){function t(){}return t.FJ=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=new Al({Yu:t,fk:Ud.LT,Hk:ml.GET}),[4,i.vk(n)];case 1:return[4,r.sent().lk()];case 2:return[2,r.sent().trim()];case 3:return vr(r.sent()),[2,void 0];case 4:return[2]}})})()},t.UJ=function(t){try{var i=TE(t);return new CE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new ld(vd.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.VJ=function(t){void 0===t&&(t=fE.bh),Ui.um("The baked-in license is used. Please update the configuration with your license.");var i=t.dj("F2b-iL'[FL[S"),n=JSON.parse('["F$(:_L50F|aY"]').map(function(i){return t.dj(i)}),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map(function(i){return t.dj(i)}),e=Number(new Date(Number(t.dj('COD|aHpHa:p3Ceo3Co""')))),s=JSON.parse("[]").map(function(i){return t.dj(i)});return new CE(i,n,r,e,s)},t.convertLicenseToDummyLicense=function(t){return new CE(t.yj,t.bj,t.Aj,864e13,t.Tj,t.Ej,Date.now(),t.Pj,t.Ij)},t}(),AR="https://validate.theoplayer.com/1/",TR=72e5,SR=b.floor(14399999*b.random()-TR),ER="THEOplayer.license",IR=function(){function t(t,i,n,r,e,s){this.aV=void 0,this.QJ=void 0,this.$J=void 0,this.mQ=void 0,this.GJ=void 0,this.Gb=void 0,this.Gj=void 0,this.aV=t,this.QJ=i,this.$J=n,this.mQ=r,this.GJ=e,this.Gb=s,this.Gj=VE(s)}var i=t.prototype;return i.qJ=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,this.zJ(this.GJ.license,this.GJ.licenseUrl)];case 1:return t=i.sent(),this.mQ.XJ(t),[2]}})}).call(this)},i.zJ=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:return n=i,t?r=bR.UJ(t):n||(r=bR.VJ()),n||(n=AR+r.yj),e=this.jJ(),r?(s=this.QJ.Uj(r))!==RE.pj?[3,3]:this.KJ(r.Sj)&&this.KJ(null==e?void 0:e.Sj)?[4,this.YJ(n)]:[3,2]:[3,3];case 1:if(u=c.sent())return[2,u];c.label=2;case 2:return[2,r];case 3:return e?this.QJ.Uj(e)!==RE.pj?[3,6]:this.KJ(null==e?void 0:e.Sj)?[4,this.YJ(n)]:[3,5]:[3,7];case 4:if(o=c.sent())return[2,o];c.label=5;case 5:return[2,e];case 6:jb.jy(ER),c.label=7;case 7:return[4,bR.FJ(n,this.aV)];case 8:if(h=c.sent()){if(a=bR.UJ(h),this.QJ.Uj(a)===RE.pj)return jb.Gy(ER,h),[2,a];jb.jy(ER)}else if(!this.Gj&&r&&s===RE.mj&&n===AR+r.yj)return[2,bR.convertLicenseToDummyLicense(r)];if(!r&&!a)throw new ld(vd.LICENSE_ERROR,"The given license is invalid!");return this.JJ(null!=r?r:a,new ld(vd.LICENSE_ERROR,"The given license is invalid!")),[2]}})}).call(this)},i.Nj=function(t){return Vt(function(){var i,n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,this.mQ.pQ()];case 1:return i=h.sent(),this.KJ(i.Sj)?(r=null!=(n=this.GJ.licenseUrl)?n:AR+i.yj,[4,this.YJ(r)]):[3,3];case 2:(e=h.sent())&&(this.mQ.XJ(e),i=e),h.label=3;case 3:try{if((s=this.QJ.Uj(i))===RE.wj)throw u=PE.Cj,new ld(xE(u),HE.Oj(u));if(s===RE.mj)throw o=PE.mj,new ld(xE(o),HE.Oj(o));this.QJ.Nj(t,i)}catch(t){this.ZJ(t)}return[2]}})}).call(this)},i.Fj=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.mQ.pQ()];case 1:i=n.sent();try{this.QJ.Fj(t,i)}catch(t){this.ZJ(t)}return[2]}})}).call(this)},i.YJ=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,bR.FJ(t,this.aV)];case 1:return void 0===(i=r.sent())?[2,void 0]:(n=bR.UJ(i),this.QJ.Uj(n)===RE.pj?(jb.Gy(ER,i),[2,n]):[2,void 0]);case 2:return r.sent(),[2,void 0];case 3:return[2]}})}).call(this)},i.KJ=function(t){return!t||Number(new Date)+2592e5+SR>=t},i.jJ=function(){var t=jb.zy(ER);if(t)return bR.UJ(t)},i.JJ=function(t,i){this.mQ.XJ(t),this.ZJ(i)},i.ZJ=function(t){throw ze(t.message),this.$J.bQ(t.message),t},t}();U(),Et(),Wt(),xt(),Qt();var RR=function(){function t(){this.tZ=void 0,this.iZ=new Va}var i=t.prototype;return i.XJ=function(t){this.tZ=t,this.iZ.Qy()},i.pQ=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.tZ?[2,ut.resolve(this.tZ)]:[4,this.iZ.Yy];case 1:return t.sent(),[2,this.tZ]}})}).call(this)},Nt(t,[{key:"eZ",get:function(){return this.tZ}}]),t}();U(),Et(),xt(),Pt(),U(),Et(),Pt();var CR=function(t){function i(){return t.call(this,"bI")||this}return Ct(i,t),i.prototype.xa=function(){return new PR},i}(Aw),PR=function(t){function i(){return t.call(this,"change")||this}return Ct(i,t),i}(rh);function DR(t){var i,n={get fontFamily(){return t.sZ},set fontFamily(i){t.sZ=i},get fontColor(){return t.nZ},set fontColor(i){t.nZ=i},get fontSize(){return t.rZ},set fontSize(i){t.rZ=i},get backgroundColor(){return t.hZ},set backgroundColor(i){t.hZ=i},get windowColor(){return t.oZ},set windowColor(i){t.oZ=i},get edgeStyle(){return t.aZ},set edgeStyle(i){t.aZ=i},get marginTop(){return t.uZ},set marginTop(i){t.uZ=i},get marginBottom(){return t.cZ},set marginBottom(i){t.cZ=i},get marginLeft(){return t.dZ},set marginLeft(i){t.dZ=i},get marginRight(){return t.lZ},set marginRight(i){t.lZ=i},addEventListener:function(t,n){var r=Qw(t,Gw);i.wn(r,n)},removeEventListener:function(t,n){var r=Qw(t,Gw);i.mn(r,n)}};return i=new ih(n),t.wn(["bI"],function(t){return i.So(t.Ca)}),n}U(),Et();var NR={sZ:void 0,nZ:void 0,rZ:void 0,hZ:void 0,oZ:void 0,aZ:void 0,uZ:void 0,cZ:void 0,dZ:void 0,lZ:void 0},xR="THEOplayer.textTrackStyle.",BR=function(t){function i(){var n;return(n=t.call(this)||this).vZ=void 0,n.hu=void 0,n.vZ=i.gZ(),n}Ct(i,t);var n=i.prototype;return n.hr=function(){this.er(NR)},n.er=function(t){this.vZ=Yu({},this.vZ,t),i._Z(this.vZ),this.So(new CR)},i.gZ=function(){var t=Yu({},NR);return t.sZ=jb.zy(xR+"fontFamily")||t.sZ,t.nZ=jb.zy(xR+"fontColor")||t.nZ,t.rZ=jb.zy(xR+"fontSize")||t.rZ,t.hZ=jb.zy(xR+"backgroundColor")||t.hZ,t.oZ=jb.zy(xR+"windowColor")||t.oZ,t.aZ=jb.zy(xR+"edgeStyle")||t.aZ,t},i._Z=function(t){jb.Gy(xR+"fontFamily",t.sZ||""),jb.Gy(xR+"fontColor",t.nZ||""),jb.Gy(xR+"fontSize",t.rZ||""),jb.Gy(xR+"backgroundColor",t.hZ||""),jb.Gy(xR+"windowColor",t.oZ||""),jb.Gy(xR+"edgeStyle",t.aZ||"")},Nt(i,[{key:"fZ",get:function(){return this.vZ}},{key:"sZ",get:function(){return this.vZ.sZ},set:function(t){this.er({sZ:t})}},{key:"nZ",get:function(){return this.vZ.nZ},set:function(t){this.er({nZ:t})}},{key:"rZ",get:function(){return this.vZ.rZ},set:function(t){this.er({rZ:t})}},{key:"hZ",get:function(){return this.vZ.hZ},set:function(t){this.er({hZ:t})}},{key:"oZ",get:function(){return this.vZ.oZ},set:function(t){this.er({oZ:t})}},{key:"aZ",get:function(){return this.vZ.aZ},set:function(t){this.er({aZ:t})}},{key:"uZ",get:function(){return this.vZ.uZ},set:function(t){this.er({uZ:t})}},{key:"cZ",get:function(){return this.vZ.cZ},set:function(t){this.er({cZ:t})}},{key:"lZ",get:function(){return this.vZ.lZ},set:function(t){this.er({lZ:t})}},{key:"dZ",get:function(){return this.vZ.dZ},set:function(t){this.er({dZ:t})}},{key:"Ca",get:function(){return this.hu||(this.hu=DR(this)),this.hu}}]),i}(th);function OR(t,i){var n,r;t.style.marginLeft=(null!=(n=i.dZ)?n:0)+"px",t.style.marginRight=(null!=(r=i.lZ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}function MR(t){return(null==t?void 0:t.Cd.Km)===Iy.SV}U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),Wt(),xt(),Pt(),H(),Ft(),Qt(),U(),Et(),U(),Et();var LR=[eh.uo,eh.jw,Ry.PM,eh.py,eh.Qw,eh.Ww,eh.$w,eh.Zw,eh.Nw,eh.Kw,eh.wy,eh.Cw,Ry.AI,eh.Jw,qm.ma,fh.Dw,fh.By,eh.xw,eh.Ew,eh.yy,eh.Ay,eh.LICENSE_REQUEST_GENERATED,eh.Fw,eh.Vw,eh.Lw,eh.Bw],FR={BL:!1};function UR(t){return void 0!==t.DP}function VR(t){return t.Cd.Km===Iy.SV}U(),Et();var HR=function(t){return t.pZ="mZ",t}({}),WR=["mZ"],zR=function(t){return t[t.wZ=0]="wZ",t[t.MT=1]="MT",t[t.yZ=2]="yZ",t}({});U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),H(),Ft(),Qt();var XR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],qR=function(t){return t.bZ="AZ",t.SZ="TZ",t.kZ="EZ",t}({}),GR=function(t){function i(i,n,r,e,s){var u;(u=t.call(this)||this).ZS=void 0,u.PL=void 0,u.pT=void 0,u.VZ=!1,u.HZ=new Va,u.CZ=!1,u.ta=new bd,u.DZ=void 0,u.hw=void 0,u.GJ=void 0,u.ES=void 0,u.MZ=function(){u.CZ=!0},u.LZ=function(){u.UZ(!0)},u.ZS=i,u.PL=n,u.pT=n.hq,u.DZ=r,u.hw=e,u.GJ=s,u.pT.addEventListener("loadedmetadata",u.MZ);for(var o,h=Lt(XR);!(o=h()).done;){var a=o.value;u.pT.addEventListener(a,u.LZ)}return u}Ct(i,t);var n=i.prototype;return n.xZ=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,this.hw.nw(t.Ym,i)];case 1:return[4,r.sent().RS()];case 2:return n=r.sent(),[4,this.PZ(n)];case 3:return r.sent(),[2,n]}})}).call(this)},n.IZ=function(t){var i=this,n=this.ES;return n?0!==t.fq.length&&t.fq.some(function(t){return t.xS.Ym===n.xS}):0!==this.ZS.fq.length?t.fq.some(function(t){return i.ZS.fq.some(function(i){return t.xS===i.xS})}):0===t.fq.length||!this.CZ},n.RZ=function(t){return this.DZ.RZ(t),this.ZS=t,ut.resolve()},n.NZ=function(t){this.DZ.NZ(t)},n.BZ=function(){if(!Bi.vg)return"";var t=this.GJ.ps5;return"; pass_through="+t.passThrough+'; playmode="'+t.playMode+'";'},n.zg=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:for(this.Vo(),this.pT.removeEventListener("loadedmetadata",this.MZ),t=Lt(XR);!(i=t()).done;)n=i.value,this.pT.removeEventListener(n,this.LZ);return[4,this.ta.kn()];case 1:return r.sent(),this.OZ(),[4,this.DZ.hr()];case 2:return r.sent(),[4,this.FZ(void 0)];case 3:return r.sent(),[2]}})}).call(this)},n.UZ=function(t){t!==this.VZ&&(this.VZ=t,t?this.HZ.Qy(void 0):this.HZ=new Va)},n.PZ=function(t){var i=this;return this.ta.Zo(function(){return i.FZ(t)})},n.FZ=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:if(t&&!this.pT.src&&!this.pT.srcObject)throw new ug(vd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(this.pT.src||this.pT.srcObject))throw new ug(vd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||this.VZ?[3,2]:[4,this.HZ.Yy];case 1:n.sent(),n.label=2;case 2:return(i=this.ES)?[4,i.IS(this.pT)]:[3,4];case 3:n.sent(),this.ES=void 0,n.label=4;case 4:return t?[4,t._n(this.pT)]:[3,6];case 5:n.sent(),this.ES=t,n.label=6;case 6:return[2]}})}).call(this)},n.Ta=function(t,i){var n=this;return this.ta.Zo(function(){return n.WZ(t,i)})},n.WZ=function(t,i){this.UZ(!1);var n=this.PL.vP;if(Xi(t)&&i){var r=this.qZ(t,i);this.pT.appendChild(r)}else if(Xi(t))this.pT.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&V(t,f.ManagedMediaSource))return!0;if("undefined"!=typeof MediaSource&&V(t,MediaSource))return!0;return!1}(t))if(function(t){return"srcObject"in t&&Bi.ru&&Bi.Q_>=17}(this.pT))try{this.pT.srcObject=t}catch(i){this.pT.src=URL.createObjectURL(t)}else this.pT.src=URL.createObjectURL(t);else jR(t)&&(this.pT.srcObject=t);this.PL.vP=n},n.qZ=function(t,i){var n=v.createElement("source");return n.src=t,n.type=i+this.BZ(),n},n.zZ=function(t){var i=this;return this.ta.Zo(function(){return i.GZ(t)})},n.GZ=function(t){this.WZ(t),this.pT.load()},n.OZ=function(){this.UZ(!1),Er(this.pT)},n.XZ=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.ES?[4,this.ES.hr()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})}).call(this)},Nt(i,[{key:"Cd",get:function(){return this.ZS}},{key:"hq",get:function(){return this.pT}}]),i}(th);function jR(t){return!("undefined"==typeof MediaStream||!V(t,MediaStream))}var QR=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.GY=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:switch((t=this.Cd)._q){case aA.lC:case aA.fC:this.pT.setAttribute("crossorigin",t._q);break;case aA.Fk:default:this.pT.removeAttribute("crossorigin")}return void 0!==t.wP?this.pT.preload=t.wP:this.pT.preload=YT.PW,void 0!==t.gq?this.pT.title=t.gq:fn(this.pT),t.YZ?[4,this.zZ(t.YZ)]:[3,2];case 1:return i.sent(),[3,6];case 2:return Bi.vg?[4,this.Ta(t.rC,t.GT)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,this.Ta(t.rC)];case 5:i.sent(),i.label=6;case 6:return this.DZ.Un(this,t),[2]}})}).call(this)},n.IZ=function(t){return!1},n.RZ=function(t){return ut.resolve(void 0)},n.JZ=function(t){return!1},n.ZZ=function(){return!jR(this.ZS.YZ)},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return fn(this.pT),[4,t.prototype.zg.call(i)];case 1:return n.sent(),[2]}})}).call(this)},i.$Z=function(t,i){return!!i.canPlayType&&Boolean(i.canPlayType(t.GT))},Nt(i,[{key:"Fx",get:function(){return EA.jn(this.pT.buffered)}},{key:"ct",get:function(){return this.pT.duration}},{key:"jZ",get:function(){var t=this.ct;if(!isFinite(t))return!1;var i=this.Fx;return 0!==i.V&&t-i.An(i.V-1)<ve}},{key:"wP",get:function(){return this.pT.preload},set:function(t){this.pT.preload=t}},{key:"kP",get:function(){return EA.jn(this.pT.seekable)}},{key:"QZ",get:function(){return this.Fx}},{key:"KZ",get:function(){if(Sr(this.pT)&&(this.pT.videoWidth>0||this.pT.videoHeight>0))return this.Fx}}]),i}(GR);U(),Et(),Pt();var YR=function(t){function i(i){var n;return(n=t.call(this,eh.Qw)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var KR=function(t){function i(){return t.call(this,eh.Ww)||this}return Ct(i,t),i}(rh);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt();var JR=function(t){return t.t$="i$",t}({}),ZR=function(t){function i(i){var n;return(n=t.call(this,"i$")||this).e$=void 0,n.e$=i,n}return Ct(i,t),i}(rh),$R=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).n$=EA.rL(),i}Ct(i,t);var n=i.prototype;return n.r$=function(t,i){if(!Sn(t,i,1e-5)){var n=new EA([t,i]);this.n$=this.n$.HM(n),this.So(new ZR(n))}},n.h$=function(t,i){this.n$=this.n$.qM(new EA([t,i]))},n.hr=function(){this.n$=EA.rL()},n.kn=function(){this.Vo()},Nt(i,[{key:"s$",get:function(){return this.n$}}]),i}(th);function tC(t,i){return void 0===i&&(i=new Yd({highWaterMark:1/0})),new jd(new iC(t,i),{highWaterMark:0})}U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var iC=function(){function t(t,i){var n=this,r=i.size,e=void 0===r?function(){return 1}:r,s=i.highWaterMark,u=void 0===s?1:s;this.Wd=void 0,this.v$=void 0,this.d$=void 0,this.tf=[],this.if=0,this.iZ=void 0,this.c$=!1,this.l$=void 0,this.f$=function(t){return t.done?(n.u$(),void n.iZ.close()):(n.tf.push(t.value),n.if+=n.v$(t.value),n.c$&&n.u$(),n.o$()?n.Wd.read().then(n.f$):void 0)},this.PE=function(t){n.u$(),n.iZ.error(t)},this.Wd=t.getReader(),this.v$=e,this.d$=u}var i=t.prototype;return i.start=function(t){this.iZ=t,this.o$()&&this.a$()},i.pull=function(){this.tf.length>0?this.u$():this.c$=!0,this.o$()&&this.a$()},i.cancel=function(t){return Yn(this.tf),this.if=0,this.c$=!1,this.Wd.cancel(t)},i.u$=function(){if(0!==this.tf.length){var t=this.tf;this.tf=[],this.if=0,this.c$=!1,this.iZ.enqueue(t)}},i.o$=function(){return!!this.c$||this.d$-this.if>0},i.a$=function(){var t=this;if(!this.l$){var i=this.Wd.read().then(this.f$).catch(this.PE);this.l$=i;var n=function(){t.l$===i&&(t.l$=void 0)};i.then(n,n)}},t}();U(),Et(),U(),Et(),xt(),Pt(),H(),Ft(),U(),Et(),Ft(),U(),Et();var nC=function(){function t(){this.g$=[],this.Wy=0}var i=t.prototype;return i._$=function(t){this.g$.push(t),this.Wy+=t.byteLength},i.p$=function(t){if(this.Wy<=t)return this.m$();for(var i=this.g$,n=0,r=0;r<i.length&&n+i[r].byteLength<=t;)n+=i[r].byteLength,r++;var e=i.slice(0,r);if(r<i.length&&n<t){var s=t-n;0,e.push(wa(i[r],0,s)),n+=s}return{g$:e,Wy:n}},i.w$=function(t){var i=this.p$(t);return 1===i.g$.length?i.g$[0]:xa(i.g$,i.Wy)},i.m$=function(){return{g$:this.g$,Wy:this.Wy}},i.y$=function(t){if(this.Wy<=t)return this.b$();for(var i=this.g$,n=0,r=0;r<i.length&&n+i[r].byteLength<=t;)n+=i[r].byteLength,r++;var e=i.splice(0,r);if(i.length>0&&n<t){var s=t-n;0,e.push(wa(i[0],0,s)),i[0]=wa(i[0],s),n+=s}return this.Wy-=n,{g$:e,Wy:n}},i.A$=function(t){var i=this.y$(t);return 1===i.g$.length?i.g$[0]:xa(i.g$,i.Wy)},i.b$=function(){var t=this.m$();return this.g$=[],this.Wy=0,t},i.S$=function(){var t=1===this.g$.length?this.g$[0]:xa(this.g$,this.Wy);return this.g$=[],this.Wy=0,t},t}(),rC=function(){function t(){this.tf=new nC,this.Ra=0,this.C$=0,this.U$=0,this.B$()}var i=t.prototype;return i.T$=function(t,i){},i.k$=function(){},i.E$=function(t){this.tf._$(t),this.x$(!1)},i.P$=function(){this.x$(!0)},i.I$=function(){return 0!==this.Ra||0!==this.tf.Wy},i.x$=function(t){for(;0!==this.tf.Wy;){if(!t&&this.C$>this.tf.Wy)return;switch(this.Ra){case 0:this.R$(t);break;case 1:this.D$(t);break;case 2:this.N$(t)}}},i.B$=function(){this.Ra=0,this.C$=8},i.R$=function(t){var i=_a(this.tf.w$(this.C$)),n=new Ta,r=gm.wD(i,n);if(!r.vD)return this.C$=r.bD,void(t&&this.C$>this.tf.Wy&&this.M$(this.tf.Wy));var e=r.yD.Km,s=r.yD.Wy;0===s&&(s=1/0),this.T$(e,s),this.L$(e)?this.O$(s):this.M$(s)},i.O$=function(t){this.Ra=1,this.C$=t},i.D$=function(t){var i=_a(this.tf.A$(this.C$)),n=new Ta,r=gm._D(i,n,!t);if(!r.vD)throw new wm(n.ac);this.k$(),this.F$(r.gD),this.B$()},i.M$=function(t){this.Ra=2,this.C$=0,this.U$=t},i.N$=function(t){var i=this.tf.y$(this.U$);this.U$-=i.Wy;for(var n,r=Lt(i.g$);!(n=r()).done;){var e=n.value;this.V$(e)}(0===this.U$||t&&this.U$===1/0)&&(this.k$(),this.B$())},t}();function eC(t){return V(t,zf)}function sC(t){return V(t,Hf)}function uC(t){return V(t,Ff)||V(t,Uf)}function oC(t){return V(t,af)}function hC(t){return V(t,Fc)}function aC(t){return V(t,Df)}function cC(t){return V(t,Cf)}function fC(t){return V(t,nv)}function vC(t){return V(t,$f)}function dC(t){return V(t,Yf)}function lC(t){return V(t,Jf)}function wC(t,i){var n=Fn(t.boxes,dC);if(n&&n.flags.baseDataOffsetPresent)n.baseDataOffset=n.baseDataOffset.add(i);else for(var r,e=Lt(t.boxes);!(r=e()).done;){var s=r.value;V(s,Jf)&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+i)}}U(),Et(),H(),Ft();var gC=function(t){function i(i){var n;return(n=t.call(this)||this).iZ=void 0,n.t0=void 0,n.X$=void 0,n.Q$=Zu(),n.t0=i,n}Ct(i,t);var n=i.prototype;return n.start=function(t){this.iZ=t},n.transform=function(t){this.E$(t)},n.flush=function(){this.P$()},n.L$=function(t){return t===hm.HC||t===hm.NR||t===hm.GR},n.F$=function(t){var i=this.H$(t);this.iZ.enqueue(i)},n.V$=function(t){this.iZ.enqueue(t)},n.H$=function(t){var i=ma(t.lk.lk);switch(t.Km){case"moov":return this.W$(i);case"sidx":return this.q$(i);case"moof":return this.z$(i)}return i},n.j$=function(t){var i=this.Q$.get(t);if(void 0===i)throw new y("Expected to have found a media header timescale for track ID "+t+".");return i},n.W$=function(t){for(var i=pv(t),n=0;n<i.boxes.length;n++){var r=i.boxes[n];V(r,Bf)?i.boxes[n]=this.K$(r):V(r,Of)?i.boxes[n]=this.Y$(r):V(r,Hf)&&this.J$(r)}for(var e,s=Lt(i.boxes);!(e=s()).done;){var u=e.value;V(u,Df)&&this.Z$(u)}return i.serialize().join()},n.K$=function(t){this.X$=t.timescale;var i=yC(ue.fromNumber(t.duration,!0),this.G$,this.t0);return 0!==i.getHighBits()?this.Y$(function(t){return new Of({creation:ue.fromNumber(t.creationTime,!0),modification:ue.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ue.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.t0,t.duration=i.toInt(),t)},n.Y$=function(t){return this.X$=t.timescale,t.timescale=this.t0,t.duration=yC(t.duration,this.G$,this.t0),t},n.J$=function(t){for(var i,n=0;n<t.boxes.length;n++){var r=t.boxes[n];V(r,Ff)?(i=r.trackId,t.boxes[n]=this.i0(r)):V(r,Uf)?(i=r.trackId,t.boxes[n]=this.e0(r)):V(r,af)?this.s0(r,i):V(r,Jc)&&this.n0(r)}},n.i0=function(t){var i=yC(ue.fromNumber(t.duration,!0),this.G$,this.t0);return 0!==i.getHighBits()?this.e0(function(t){return new Uf({creation:ue.fromNumber(t.creationTime,!0),modification:ue.fromNumber(t.modificationTime,!0),duration:ue.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=i.toInt(),t)},n.e0=function(t){return t.duration=yC(t.duration,this.G$,this.t0),t},n.s0=function(t,i){for(var n=0;n<t.boxes.length;n++){var r=t.boxes[n];V(r,sf)?t.boxes[n]=this.r0(r,i):V(r,uf)&&(t.boxes[n]=this.h0(r,i))}},n.r0=function(t,i){this.Q$.set(i,t.timescale);var n=yC(ue.fromNumber(t.duration,!0),t.timescale,this.t0);return 0!==n.getHighBits()?this.h0(function(t){return new uf({creation:ue.fromNumber(t.creationTime,!0),modification:ue.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ue.fromNumber(t.duration,!0)},t.language,t.flags)}(t),i):(t.timescale=this.t0,t.duration=n.toInt(),t)},n.h0=function(t,i){return this.Q$.set(i,t.timescale),t.timescale=this.t0,t.duration=yC(t.duration,t.timescale,this.t0),t},n.n0=function(t){for(var i,n=Lt(t.boxes);!(i=n()).done;){var r=i.value;V(r,Qc)?this.o0(r):V(r,Yc)&&this.a0(r)}},n.o0=function(t){for(var i,n=Lt(t.entries);!(i=n()).done;){var r=i.value;r.mediaTime=mC(r.mediaTime,this.G$,this.t0),r.segmentDuration=mC(r.segmentDuration,this.G$,this.t0)}},n.a0=function(t){for(var i,n=Lt(t.entries);!(i=n()).done;){var r=i.value;r.mediaTime=yC(r.mediaTime,this.G$,this.t0),r.segmentDuration=yC(r.segmentDuration,this.G$,this.t0)}},n.Z$=function(t){for(var i=0;i<t.boxes.length;i++){var n=t.boxes[i];V(n,Cf)?this.u0(n):V(n,Ef)?t.boxes[i]=this.c0(n):V(n,If)&&(t.boxes[i]=this.d0(n))}},n.u0=function(t){var i=this.j$(t.trackId);t.defaultSampleDuration=mC(t.defaultSampleDuration,i,this.t0)},n.c0=function(t){var i=yC(ue.fromNumber(t.fragmentDuration,!0),this.G$,this.t0);return 0!==i.getHighBits()?this.d0(function(t){return new If(ue.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=i.toInt(),t)},n.d0=function(t){return t.fragmentDuration=yC(t.fragmentDuration,this.G$,this.t0),t},n.q$=function(t){var i=kv(t);return(i=V(i,hv)?this.f0(i):this.v0(i)).serialize().join()},n.f0=function(t){var i=t.timescale,n=yC(ue.fromNumber(t.earliestPresentationTime,!0),i,this.t0);if(0!==n.getHighBits())return this.v0(function(t){return new av(t.referenceId,t.timescale,ue.fromNumber(t.earliestPresentationTime,!0),ue.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.t0,t.earliestPresentationTime=n.toInt();for(var r,e=Lt(t.references);!(r=e()).done;){var s=r.value;s.subsegmentDuration=mC(s.subsegmentDuration,i,this.t0)}return t},n.v0=function(t){var i=t.timescale;t.timescale=this.t0,t.earliestPresentationTime=yC(t.earliestPresentationTime,i,this.t0);for(var n,r=Lt(t.references);!(n=r()).done;){var e=n.value;e.subsegmentDuration=mC(e.subsegmentDuration,i,this.t0)}return t},n.z$=function(t){for(var i,n=bv(t),r=n.getSize(),e=Lt(n.boxes);!(i=e()).done;){var s=i.value;V(s,$f)&&this._0(s)}var u=n.getSize();if(u!==r)for(var o,h=u-r,a=Lt(n.boxes);!(o=a()).done;){var c=o.value;V(c,$f)&&wC(c,h)}return n.serialize().join()},n._0=function(t){for(var i,n=0;n<t.boxes.length;n++){var r=t.boxes[n];V(r,Yf)?(i=this.j$(r.trackId),this.g0(r,i)):V(r,Gf)?t.boxes[n]=this.p0(r,i):V(r,jf)?t.boxes[n]=this.m0(r,i):V(r,Jf)&&this.w0(r,i)}},n.g0=function(t,i){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=mC(t.defaultSampleDuration,i,this.t0))},n.p0=function(t,i){var n=yC(ue.fromNumber(t.baseMediaDecodeTime,!0),i,this.t0);return 0!==n.getHighBits()?this.m0(function(t){return new jf(ue.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),i):(t.baseMediaDecodeTime=n.toInt(),t)},n.m0=function(t,i){return t.baseMediaDecodeTime=yC(t.baseMediaDecodeTime,i,this.t0),t},n.w0=function(t,i){for(var n,r=0,e=0,s=Lt(t.samples);!(n=s()).done;){var u=n.value;if(void 0!==u.duration){var o=mC(e+=u.duration,i,this.t0);u.duration=o-r,r=o}void 0!==u.compositionTimeOffset&&(u.compositionTimeOffset=_C(u.compositionTimeOffset,i,this.t0))}},Nt(i,[{key:"G$",get:function(){if(void 0===this.X$)throw new y("Expected to have found a movie header timescale.");return this.X$}}]),i}(rC);function _C(t,i,n){return ue.fromInt(t,!1).multiply(n).divide(i).toNumber()}function mC(t,i,n){return ue.fromInt(t,!0).multiply(n).divide(i).toNumber()}function yC(t,i,n){return d_.yF(t).zF(d_.bF(n,!0)).QF(d_.bF(i,!0)).NF()}var pC=function(){function t(t){this.b0=void 0,this.b0=new gC(t)}return t.prototype.y0=function(t){return t.pipeThrough(new Qd(this.b0))},t}();U(),Et(),Ft(),U(),Et();var kC=function(t){return t[t.A0=64]="A0",t[t.S0=103]="S0",t[t.T0=107]="T0",t}({});function bC(t,i,n){var r=Mh(t,i);if(r!==n)throw new p("Expected descriptor with tag "+n+", but found "+r)}function AC(t,i){bC(t,i,3);var n,r,e,s=TC(t,i),u=i.ac+s,o=zh(t,i),h=Mh(t,i),a=!!(64&h),c=!!(32&h),f=31&h;(!!(128&h)&&(n=zh(t,i)),a)&&(r=Kh(t,i,Mh(t,i)));c&&(e=Kh(t,i,2));var v=function(t,i){bC(t,i,4);var n,r=TC(t,i),e=i.ac+r,s=Mh(t,i),u=Mh(t,i),o=u>>2,h=!!(2&u),a=Hh(t,i,3),c=qh(t,i),f=qh(t,i);if(i.ac<e){var v=function(t,i){return t.getUint8(i.ac)}(t,i);5===v&&(n=function(t,i){bC(t,i,5);var n=TC(t,i),r=Fh(t,i,n);return{k0:5,E0:r}}(t,i))}return i.Oy(e),{k0:4,x0:s,P0:o,I0:h,C0:a,R0:c,D0:f,N0:n}}(t,i);return i.Oy(u),{k0:3,o:o,B0:n,Yu:r,M0:f,L0:e,O0:v}}function TC(t,i){for(var n=0,r=0;r<4;r++){var e=Mh(t,i);if(n=n<<7|127&e,!(128&e))break}return n}function SC(t,i){for(var n=Mh(t,i),r=Mh(t,i),e=Mh(t,i),s=Mh(t,i),u=3&Mh(t,i),o=31&Mh(t,i),h=[],a=0;a<o;a++){var c=zh(t,i);h.push(Fh(t,i,c))}for(var f=Mh(t,i),v=[],d=0;d<f;d++){var l=zh(t,i);v.push(Fh(t,i,l))}return{F0:n,U0:r,V0:e,H0:s,W0:u,q0:h,z0:v}}function EC(t,i,n){if(!(n&&i.byte>=n)){var r=t.zy(i.byte);return i.byte+=1,r}}function IC(t,i){return function(t,i,n){for(var r=0,e=n;e>0;)e-=1,r=256*r+EC(t,i);return r}(t,i,2)}U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et(),xt(),Ft();var RC=function(){function t(){this.j0=0,this.X0=[],this.LU={}}var i=t.prototype;return i.G0=function(t){this.X0=this.X0.concat(t.X0),this.j0+=t.V},i.Q0=function(t,i,n){var r=this.j0,e=n-i;e>0&&(this.X0.push({K0:i,Y0:n,J0:e,Z0:r,$0:t}),this.j0+=e)},i.zy=function(t){for(var i,n=Lt(this.X0);!(i=n()).done;){var r=i.value;if(r.Z0<=t&&t<r.Z0+r.J0)return r.$0[t+r.K0-r.Z0]}},i.t1=function(t,i){for(var n,r=i,e=Lt(this.X0);!(n=e()).done;)for(var s=n.value,u=s.Y0,o=s.K0;o<u;o+=1,r+=1)t[r]=s.$0[o];return r},i.i1=function(){for(var t,i=new E(this.j0),n=0,r=Lt(this.X0);!(t=r()).done;)for(var e=t.value,s=e.Y0,u=e.K0;u<s;u+=1,n+=1)i[n]=e.$0[u];return i},i.Fy=function(i){for(var n,r=new t,e=Lt(this.X0);!(n=e()).done;){var s=n.value;r.Q0(s.$0,s.K0,s.Y0)}return r.LU=i||Yu({},this.LU),r},Nt(t,[{key:"V",get:function(){return this.j0},set:function(t){var i=this.X0,n=this.j0-t;if(!(t>=this.j0))if(this.j0=t,0!==t)for(var r=i.length-1;r>=0;r-=1){var e=i[r];if(n<=e.J0)return e.Y0-=n,e.J0-=n,void(i.length!==r+1&&(i.length=r+1));n-=e.J0}else i.length=0}},{key:"lk",get:function(){for(var t,i=new Array(this.j0),n=0,r=Lt(this.X0);!(t=r()).done;)for(var e=t.value,s=e.Y0,u=e.K0;u<s;u+=1,n+=1)i[n]=e.$0[u];return i}}]),t}();U(),Et(),Ft();var CC=[128,64,32,16,8,4,2,1];function PC(t,i){var n=b.floor(i.bit/8),r=0===(t.zy(n)&CC[i.bit%8])?0:1;return i.bit+=1,r}function DC(t,i,n){for(var r=0,e=n;e>0;)e-=1,r=2*r+PC(t,i);return r}function NC(t,i){for(var n=0;0===PC(t,i)&&n<32;)n+=1;return DC(t,i,n)+b.pow(2,n)-1}function xC(t,i){var n=NC(t,i);return 1&n?b.floor((n+1)/2):-b.floor(n/2)}function BC(t,i){var n,r=[],e={byte:1};do{r.push(MC(t,i,e)),n=i.zy(e.byte)}while(void 0!==n&&128!==n);return r}function OC(t,i){var n,r=0;do{r+=n=EC(t,i)}while(255===n);return r}function MC(t,i,n){var r=OC(i,n),e=OC(i,n),s=n.byte,u=s+e;return n.byte=u,{e1:t,s1:r,n1:e,h1:s,o1:u,a1:i}}var LC=function(t){return t[t.u1=1]="u1",t[t.c1=2]="c1",t[t.d1=3]="d1",t[t.v1=4]="v1",t[t._1=5]="_1",t[t.g1=6]="g1",t[t.m1=7]="m1",t[t.w1=8]="w1",t[t.b1=9]="b1",t}({}),FC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function UC(t,i,n){for(var r=8,e=8,s=0;s<n;s+=1){if(0!==e)e=(r+xC(t,i)+256)%256;r=0===e?r:e}}var VC=function(){function t(t){this.E1=void 0,this.S1=[],this.T1=0,this.E1=t}var i=t.prototype;return i.A1=function(){for(var t=this.S1,i=b.max(0,this.T1+t.length-2),n=this.E1,r=n.V,e=0;i<r;i+=1){var s=n.zy(i);0===s?e+=1:(3===s&&e>=2&&t.push(i),e=0)}this.T1=i-t.length},i.P1=function(t){for(var i,n=t,r=Lt(this.S1);!(i=r()).done;){if(!(i.value<=n))return n;n+=1}return n},i.zy=function(t){if(!(t>this.E1.V))return t>this.T1&&this.A1(),this.E1.zy(this.P1(t))},t}();function HC(t){var i,n,r,e,s,u,o=new VC(t),h=0,a=0,c=0,f=0,v=o.zy(1),d={bit:32};if(NC(o,d),100===v||110===v||122===v||144===v){var l=NC(o,d);if(3===l&&(i=PC(o,d)),NC(o,d),NC(o,d),PC(o,d),1===PC(o,d))for(var w=0;w<(3!==l?8:12);w+=1){1===PC(o,d)&&UC(o,d,w<6?16:64)}}var g=NC(o,d),_=NC(o,d);if(0===_)NC(o,d);else if(1===_){PC(o,d),xC(o,d),xC(o,d);for(var m=NC(o,d),y=0;y<m;y+=1)xC(o,d)}NC(o,d),PC(o,d);var p=NC(o,d),k=NC(o,d),A=PC(o,d);if(0===A&&PC(o,d),PC(o,d),1===PC(o,d)&&(h=NC(o,d),a=NC(o,d),c=NC(o,d),f=NC(o,d)),1===PC(o,d)){if(1===PC(o,d)){var T=DC(o,d,8);if(255===T)n=DC(o,d,16),r=DC(o,d,16);else{var S=FC[T];S&&(n=S[0],r=S[1])}}if(1===PC(o,d)&&PC(o,d),1===PC(o,d))DC(o,d,3),PC(o,d),1===PC(o,d)&&(DC(o,d,8),DC(o,d,8),DC(o,d,8));1===PC(o,d)&&(NC(o,d),NC(o,d)),1===(e=PC(o,d))&&(s=DC(o,d,32),u=DC(o,d,32),PC(o,d))}return{width:b.floor(16*(p+1)-2*h-2*a),height:b.floor((2-A)*(k+1)*16-2*c-2*f),BB:n,MB:r,I1:e?u/(2*s):void 0,C1:i,R1:g}}function WC(t){var i=lm(km.PD(t),hm.HC);if(i){for(var n,r=i.yD.jD,e=[],s=Lt(i.Z);!(n=s()).done;){for(var u,o=n.value,h=o.yD.sN,a=o.$D.yD.jD,c=void 0,f=void 0,v=void 0,d=Lt(o.$D.cN.fN._N.pN);!(u=d()).done;){var l,w,g,_=zC(u.value);if(_)c=null!=(l=_.D1)?l:c,f=null!=(w=_.N1)?w:f,v=null!=(g=_.B1)?g:v}e.push({sN:h,jD:a,D1:c,N1:f,B1:v})}return{jD:r,Z:e}}}function zC(t){var i,n,r;if(t.Km===hm.tR){var e,s=SC(_a(t.ZN.lk),new Ta);i=function(t){return"avc1."+XC(t.U0,2)+XC(t.V0,2)+XC(t.H0,2)}(s),r=null==(e=function(t){if(0===t.q0.length)return;var i=t.q0[0],n=new RC;return n.Q0(i,0,i.byteLength),HC(n)}(s))?void 0:e.I1}else if(t.Km===hm.eR||t.Km===hm.sR){var u=function(t,i){for(var n=i.Hy(),r=Th(t,n,8),e=Th(t,n,2),s=Th(t,n,1),u=Th(t,n,5),o=Th(t,n,32),h=[],a=0;a<6;a++)h.push(Th(t,n,8));var c=Th(t,n,8);n.Ly(4);var f=Th(t,n,12);n.Ly(6);var v=Th(t,n,2);n.Ly(6);var d=Th(t,n,2);n.Ly(5);var l=Th(t,n,3);n.Ly(5);for(var w=Th(t,n,3),g=Th(t,n,16),_=Th(t,n,2),m=Th(t,n,3),y=Th(t,n,1),p=Th(t,n,2),k=Th(t,n,8),b=[],A=0;A<k;A++){var T=Th(t,n,1);n.Ly(1);for(var S=Th(t,n,6),E=Th(t,n,16),I=[],R=0;R<E;R++){var C=Th(t,n,16),P=Fh(t,new Ta(n.ac>>3),C);n.Ly(8*C),I.push({M1:C,L1:P})}b.push({O1:T,F1:S,U1:E,V1:I})}return{F0:r,H1:e,W1:s,q1:u,z1:h,G1:c,X1:f,j1:v,Q1:o,K1:d,Y1:l,J1:w,Z1:g,t2:m,i2:y,e2:_,W0:p,s2:k,n2:b}}(_a(t.eB.lk),new Ta);i=function(t,i){var n=t.toString()+".";switch(i.H1){case 0:break;case 1:n+="A";break;case 2:n+="B";break;case 3:n+="C";break;default:return}switch(n+=i.q1.toString()+".",n+=function(t){var i=t;return i=i>>>1&1431655765|(1431655765&i)<<1,i=i>>>2&858993459|(858993459&i)<<2,i=i>>>4&252645135|(252645135&i)<<4,i=i>>>8&16711935|(16711935&i)<<8,i=i>>>16|i<<16,i}(i.Q1).toString(16)+".",i.W1){case 0:n+="L";break;case 1:n+="H";break;default:return}n+=i.G1.toString();for(var r=i.z1.reduce(function(t,i){return 0===t?i:i+1},0),e=0;e<r;e++)n+="."+i.z1[e].toString(16).toUpperCase();return n}(t.Km,u)}else if(t.Km===hm.vR||t.Km===hm._R||t.Km===hm.gR||t.Km===hm.pR){var o=function(t,i){var n=i.Hy(),r=Th(t,n,8),e=Th(t,n,8),s=Th(t,n,7),u=Th(t,n,6),o=Boolean(Th(t,n,1)),h=Boolean(Th(t,n,1)),a=Boolean(Th(t,n,1)),c=Th(t,n,4);return Th(t,n,28),Th(t,n,32),Th(t,n,32),Th(t,n,32),Th(t,n,32),{h2:r,o2:e,a2:s,u2:u,c2:o,d2:h,l2:a,f2:c}}(_a(t._B.lk),new Ta);i=function(t,i){var n=t.toString(),r=Wo(i.a2.toString(),2,"0"),e=Wo(i.u2.toString(),2,"0");return n+"."+r+"."+e}(t.Km,o)}else if(t.Km===hm.rR){var h=function(t,i){var n=i.Hy(),r=Th(t,n,8);n.Ly(24);for(var e=Th(t,n,8),s=Th(t,n,8),u=Th(t,n,4),o=Th(t,n,3),h=Ah(t,n),a=Th(t,n,8),c=Th(t,n,8),f=Th(t,n,8),v=Th(t,n,16),d=new Array(8),l=0;l<v;l++)d[l]=Th(t,n,8);return{F0:r,a2:e,u2:s,_2:u,g2:o,m2:h,CB:a,RB:c,DB:f,w2:v,b2:d}}(_a(t.nB.lk),new Ta);i=function(t,i){var n=t.toString()+".";return n+="0"+i.a2+".",n+=Wo(""+i.u2,2,"0")+".",n+=Wo(""+i._2,2,"0")+".",n+=Wo(""+i.g2,2,"0")+".",n+=Wo(""+i.CB,2,"0")+".",n+=Wo(""+i.RB,2,"0")+".",n+=Wo(""+i.DB,2,"0")+".",n+="0"+i.m2,n}(t.Km,h)}else if(t.Km===hm.oR){var a=function(t,i){var n=i.Hy();n.Ly(1);var r=Th(t,n,7),e=Th(t,n,3),s=Th(t,n,5),u=Ah(t,n),o=Ah(t,n),h=Ah(t,n),a=Ah(t,n),c=Ah(t,n),f=Ah(t,n),v=Th(t,n,2);n.Ly(3);var d,l=Ah(t,n);return l?d=Th(t,n,4):n.Ly(4),{ED:r,A2:e,S2:s,T2:u,E2:o,P2:h,I2:a,C2:c,R2:f,D2:v,N2:l,B2:d}}(_a(t.oB.lk),new Ta);i=function(t,i,n){var r=t.toString()+".";if(r+=i.A2+".",r+=""+Wo(""+i.S2,2,"0"),r+=(0===i.T2?"M":"H")+".",r+=(1===i.P2?12:10)+".",r+=(1===i.A2?0:i.I2)+".",r+=""+i.C2+i.R2+(1===i.C2&&1===i.R2?i.D2:"0"),n&&n.IB===am.ON_SCREEN_COLOURS){var e=n;r+="."+Wo(""+e.CB,2,"0")+"."+Wo(""+e.RB,2,"0")+"."+Wo(""+e.DB,2,"0")+"."+(e.NB?1:0)}return r}(t.Km,a,t.aB)}else if(t.Km===hm.AR){n=function(t){var i=t.O0;switch(i.x0){case kC.A0:return function(t){var i;if(!(null==(i=t.N0)?void 0:i.E0))return"mp4a.40";var n=function(t,i){var n=Th(t,i,5);31===n&&(n=32+Th(t,i,6));var r,e=Th(t,i,4);return 15===e&&(r=Th(t,i,24)),{M2:n,L2:e,O2:r,F2:Th(t,i,4)}}(_a(t.N0.E0),new Sh);return"mp4a.40."+n.M2}(i);case kC.S0:return"mp4a.40.2";case kC.T0:return"mp4a.40.34"}}(AC(_a(t.zN.lk),new Ta))}else if(t.Km===hm.kR)n="fLaC";else if(t.Km===hm.mR)n="ac-3";else{if(t.Km!==hm.wR)return(t.Km===hm.DR||t.Km===hm.RR)&&t.dB?zC(t.dB):void 0;n="ec-3"}return{D1:i,N1:n,B1:r}}function XC(t,i){var n=t.toString(16);return Wo(n,i,"0")}function qC(t,i){var n=km.PD(_a(t)),r=function(t,i){for(var n,r,e=function(){var t,e=r.value,s=null==(t=e.KB)?void 0:t.KB;if(s){var u=e.yD.sN,o=Fn(i.Z,function(t){return t.sN===u}),h=m_.yF(s,o.jD);n&&!h.lF(n)||(n=h)}},s=Lt(t.Z);!(r=s()).done;)e();return n}(lm(n,hm.NR),i),e=lm(n,hm.WR);return{CO:r.rF(),U2:e.lk}}function GC(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:switch(t.Km){case zR.wZ:return[3,1];case zR.MT:return[3,2];case zR.yZ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Zd(t.lk,i)];case 3:return n=r.sent(),dr(i),[2,{Km:zR.wZ,lk:new E(n)}];case 4:throw new y("Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}})})()}function jC(t){var i=t.MS("codecs");return i?i.split(",").map(function(t){return t.trim()}):[]}function QC(t,i){return sr(t,i,$C)}function YC(t,i){return!("opus"===t)&&!("opus"===i)||t===i}function KC(t,i){var n=JC(t),r=JC(i);if((n||r)&&Ui.Zs.Cp)return!0;var e=n||ZC(t),s=r||ZC(i);return!e&&!s||t.split(".")[0]===i.split(".")[0]}function JC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function ZC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function $C(t,i){if(t===i)return!0;var n=t.split("."),r=i.split("."),e=n[0];if(e!==r[0])return!1;if("mp4a"===e){var s=n[1],u=n[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}U(),Et(),U(),Et(),Wt(),Qt(),U(),Et(),xt(),Pt(),H();var tP=function(t){function i(i,n,r,e){var s;return(s=t.call(this,r)||this).W2=void 0,s.z2=void 0,s.G2=void 0,s.W2=i,s.z2=n,s.G2=r,s}return Ct(i,t),Nt(i,[{key:"H2",get:function(){return this.W2}},{key:"q2",get:function(){return this.z2}}]),i}(cr);var iP=Bi.X_,nP=function(t){function i(i,n,r,e,s){var u,o;if((u=t.call(this)||this).w3=void 0,u.u3=void 0,u.j2=void 0,u.T3=void 0,u.x3=void 0,u.KY=20,u.ZY=30,u.X2=!1,u._3=!1,u.C3=void 0,u.D3=new hr,u.h3=void 0,u.s3=!1,u.n3=void 0,u.t3=!1,u.i3=void 0,u.N3=function(){u.X2=!1},u.B3=function(t){t.removedRanges&&u.So(new rh(HR.pZ))},u.w3=n,u.u3=i,u.j2=r,u.j2.addEventListener("updateend",u.N3),u.j2.addEventListener("bufferedchange",u.B3),u.T3=e,u.x3=s,u.t3=rP(e.GT,s),null==(o=n.Cd)?void 0:o.kp){var h,a=null!=(h=n.Cd.M3)?h:1e5;u.h3=new pC(a)}return u}Ct(i,t);var n=i.prototype;return n.Q2=function(t,i,n){var r=this;switch(t.Km){case zR.wZ:case zR.MT:return this.K2(function(n){return r.Y2(t,i,n)},n);case zR.yZ:throw new y("Opaque segments are not supported on web.")}},n.J2=function(t,i){var n=this;switch(t.Km){case zR.wZ:return this.K2(function(i){return n.Z2(t,i)},i);case zR.MT:throw new y("Streaming initialization segments are not supported on web.");case zR.yZ:throw new y("Opaque initialization segments are not supported on web.")}},n.Z2=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.t3?(this.i3=WC(_a(t.lk)),[2]):[4,this.e3(t,void 0,i)];case 1:return n.sent(),iP&&(this.s3=!1,this.n3=t),[2]}})}).call(this)},n.Y2=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return iP&&this.s3&&this.n3?[4,this.Z2(this.n3,n)]:[3,2];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,,6,7]),dr(n),this.t3&&this.i3?[4,GC(t,n)]:[3,4];case 3:r=u.sent(),e=qC(r.lk,this.i3),t={Km:zR.wZ,lk:e.U2},i=Yu({},i,{EU:e.CO+(null!=(s=i.EU)?s:0)}),u.label=4;case 4:return[4,this.e3(t,i,n)];case 5:return u.sent(),this.So(new rh(HR.pZ)),[3,7];case 6:return t.Km===zR.MT&&t.lk.cancel(new fr).catch(dn),[7];case 7:return[2]}})}).call(this)},n.e3=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return dr(n),i?[4,this.r3(i)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Km){case zR.wZ:return[3,3];case zR.MT:return[3,7]}return[3,11];case 3:return this.h3?(r=this.h3.y0(Kd(t.lk)),[4,this.o3(r,n)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,this.a3(t.lk)];case 6:return[2,s.sent()];case 7:return this.h3?(e=this.h3.y0(t.lk),[4,this.o3(e,n)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,this.o3(t.lk,n)];case 10:return[2,s.sent()];case 11:return[2]}})}).call(this)},n.o3=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:n=this.u3.Fx,r=tC(t),e=r.getReader(),s=!1,f.label=1;case 1:f.trys.push([1,6,,12]),f.label=2;case 2:return[4,gr(e.read(),i)];case 3:return(u=f.sent()).done?(s=!1,[3,5]):(dr(i),o=Na(u.value),s=!0,[4,this.a3(o)]);case 4:return f.sent(),[3,2];case 5:return[3,12];case 6:return h=f.sent(),e.cancel(h).catch(dn),s?[4,this.d3()]:[3,11];case 7:f.sent(),a=this.u3.Fx.Mn(n.OM()),c=0,f.label=8;case 8:return c<a.V?[4,this.l3(a.Tn(c),a.An(c))]:[3,11];case 9:f.sent(),f.label=10;case 10:return c++,[3,8];case 11:throw h;case 12:return[2]}})}).call(this)},n.f3=function(t,i){var n=this;return this.K2(function(){return n.v3(t,i)})},n.v3=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.j2.appendWindowStart===t&&this.j2.appendWindowEnd===i?[3,2]:[4,this.d3()];case 1:n.sent(),this.j2.appendWindowStart=0,this.j2.appendWindowEnd=i,this.j2.appendWindowStart=t,n.label=2;case 2:return[2]}})}).call(this)},n.r3=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:if(Sn(this.j2.timestampOffset,t.EU,.001))return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),this.j2.timestampOffset=t.EU,[3,4];case 2:return i.sent(),[4,this.d3()];case 3:return i.sent(),this.j2.timestampOffset=t.EU,[3,4];case 4:return[2]}})}).call(this)},n.a3=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.j2.appendBuffer(t),this._3=!0,[4,this.g3()];case 1:return i.sent(),[2]}})}).call(this)},n.m3=function(t,i,n){var r=this;return this.K2(function(n){return r.l3(t,i,n)},n)},n.l3=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return dr(n),this.j2.remove(t,i),[4,this.g3()];case 1:return r.sent(),[2]}})}).call(this)},n.g3=function(){var t=this,i=this.u3.Fx;return new ut(function(n,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){s=!1,e="sourceclose",c()},c=function(){f(),s&&!e?(i.KM(t.u3.Fx)||t.So(new rh(HR.pZ)),n()):r(new y(e))},f=function(){t.j2.removeEventListener("update",u),t.j2.removeEventListener("error",o),t.j2.removeEventListener("abort",h),t.j2.removeEventListener("updateend",c),t.w3.mn(qR.SZ,a)};t.j2.addEventListener("update",u),t.j2.addEventListener("error",o),t.j2.addEventListener("abort",h),t.j2.addEventListener("updateend",c),Bi.w_&&Bi.b_<3&&t.w3.wn(qR.SZ,a)})},n.y3=function(){var t=this;return this.K2(function(){return t.d3()})},n.d3=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(this.w3.AP!==_P.rE)return[2];iP&&(this.s3=!0),this.j2.updating&&(this.X2=!0);try{this.j2.abort()}catch(t){0,this.X2=!1}return this.ga?[4,this.g3().catch(dn)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})}).call(this)},n.b3=function(){return"function"==typeof this.j2.changeType&&!Bi.g_},n.RZ=function(t){if(this.A3(),this.w3.AP!==_P.S3){var i;this.T3=t;var n=null!=(i=this.w3.E3(t.GT))?i:t.GT;if(this.t3=rP(t.GT,this.x3),this.b3()&&this.P3(n)){this.x3=n;var r=this.w3.BZ();this.j2.changeType(""+n+r)}}},n.P3=function(t){if(Vo(this.x3,t))return!1;var i=jv(this.x3),n=jv(t);return i.Km!==n.Km||(!QC(jC(i),jC(n))||!(Bi.Bv&&Bi.v_))},n.I3=function(){this.w3.AP!==_P.Nw||this.C3||this.ga||(this.j2.timestampOffset=this.j2.timestampOffset,this.w3.R3())},n.K2=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:this.A3(),(n=new hr).$g(this.D3.Yg),i&&n.$g(i),r.label=1;case 1:return r.trys.push([1,,5,6]),this.C3=t(n.Yg),[4,this.C3];case 2:return r.sent(),this.w3.R3(),this.ga?[4,this.g3()]:[3,4];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return this.C3=void 0,n.zg(),[7];case 6:return[2]}})}).call(this)},n.A3=function(){if(this.C3)throw new y("Internal error")},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.D3.Zg(),this.C3?[4,this.C3.catch(dn)]:[3,2];case 1:t.sent(),this.C3=void 0,t.label=2;case 2:return this.j2.removeEventListener("updateend",this.N3),this.j2.removeEventListener("bufferedchange",this.B3),[2]}})}).call(this)},Nt(i,[{key:"VY",get:function(){return this.KY},set:function(t){this.KY=t}},{key:"zY",get:function(){return this.ZY},set:function(t){this.ZY=t}},{key:"ga",get:function(){return this.X2||this.j2.updating}}]),i}(th);function rP(t,i){return Fo(t,"audio/mp4")&&Fo(i,"audio/mpeg")}U(),Et(),xt();var eP=function(){function t(t,i){this.L3=void 0,this.j2=void 0,this.O3=void 0,this.L3=i,this.j2=t}var i=t.prototype;return i.jZ=function(){return!!this.O3&&this.Fx.MM().Cr(this.O3)},i.F3=function(){var t=this.Fx;this.O3=t.V>0?t.An(t.V-1):0,this.L3.U3()},i.I3=function(){this.O3=void 0},Nt(t,[{key:"Fx",get:function(){if(this.L3.AP===_P.S3)return EA.rL();var t=EA.jn(this.j2.buffered).Mn(EA.hL()),i=this.O3;return void 0!==i&&t.V>0&&t.An(t.V-1)===i&&(t=t.HM(EA.sL(i))),t}}]),t}();function sP(t,i,n,r,e,s,u){var o=new eP(e,t),h=new nP(o,t,e,n,s);return new uP(t,i,n,r,o,h,u)}var uP=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this)||this).w3=void 0,h.ZS=void 0,h.H3=void 0,h.PL=void 0,h.jS=void 0,h.q3=void 0,h.u3=void 0,h.z3=void 0,h.Q3=Ju(),h.w3=i,h.ZS=r,h.jS=r.GT,h.H3=e,h.PL=n,h.u3=s,h.z3=u,h.q3=o,h.z3.wn(HR.pZ,h.Rs),h}Ct(i,t);var n=i.prototype;return n.jZ=function(){return this.u3.jZ()},n.F3=function(){this.u3.F3()},n.I3=function(){this.u3.I3(),this.z3.I3()},n.G3=function(t,i){this.q3.r$(t,i)},n.X3=function(t,i){this.q3.h$(t,i)},n.j3=function(){return this.z3.y3()},n.Q2=function(t,i,n){return this.z3.Q2(t,i,n)},n.J2=function(t,i,n){return this.z3.J2(t,n)},n.f3=function(t,i){return Bi.w_&&Bi.b_<3?this.z3.f3(t,1/0):this.z3.f3(t,i)},n.pS=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return this.X3(t,i),r=this.Fx,[4,this.z3.m3(t,i,n)];case 1:return s.sent(),e=0!==r.V&&0===this.Fx.V,(Bi.rg||Bi.S_)&&e&&this.PL.Oy(this.PL.zx),[2]}})}).call(this)},n.IZ=function(t){var i=t.GT;if(this.jS===i)return!0;var n=this.Q3.get(i);if(void 0!==n)return n;var r=this.K3(t);return this.Q3.set(i,r),r},n.K3=function(t){var i=this.w3.E3(t.GT);if(void 0===i)return!1;var n=jv(this.jS),r=jv(i),e=jC(n),s=jC(r);if(this.z3.b3()){if(!function(t,i){return sr(t,i,KC)}(e,s))return!1;if(Bi.og&&!function(t,i){return sr(t,i,YC)}(e,s))return!1}else{if(n.Km!==r.Km)return!1;if(!QC(e,s))return!1}return!0},n.RZ=function(t){return Vt(function(){var i;return zt(this,function(n){return i=t.GT,this.jS!==i&&(this.Q3.clear(),this.z3.RZ(t),this.jS=i),this.ZS=t,this.w3.Y3(),[2]})}).call(this)},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:this.Q3.clear(),this.Vo(),this.q3.kn(),t.label=1;case 1:return t.trys.push([1,3,,4]),this.z3.mn(HR.pZ,this.Rs),[4,this.z3.zg()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})}).call(this)},Nt(i,[{key:"Fx",get:function(){return this.u3.Fx}},{key:"Cd",get:function(){return this.ZS}},{key:"GT",get:function(){return this.jS}},{key:"V3",get:function(){return this.H3}},{key:"W3",get:function(){return this.q3.s$}},{key:"VY",get:function(){return this.z3.VY},set:function(t){this.z3.VY=t}},{key:"zY",get:function(){return this.z3.zY},set:function(t){this.z3.zY=t}},{key:"ga",get:function(){return this.z3.ga}}]),i}(th);U(),Et();var oP=function(){function t(t,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.Tn=void 0,this.An=void 0,this.Z3=void 0,this.t4=void 0,this.i4=void 0,this.Tn=t,this.An=i,this.Z3=n,this.t4=r,this.i4=Ui.Mg()}return t.prototype.J3=function(){var t=this.Tn,i=this.An;if(this.Z3||this.t4){var n=.001*(Ui.Mg()-this.i4);this.Z3&&(t+=n),this.t4&&(i+=n)}return EA.nL(t,i)},t}();function hP(t){var i=[];if(t.e4&&i.push(t.e4.Fx),t.s4&&i.push(t.s4.Fx),0===i.length)return EA.rL();for(var n,r=0,e=Lt(i);!(n=e()).done;){var s=n.value;s.V>0&&(r=b.max(r,s.An(s.V-1)))}for(var u,o=t.jZ,h=new EA([0,r],[!0,o]),a=Lt(i);!(u=a()).done;){var c=u.value;o&&c.V>0&&(c=c.HM(new EA([c.An(c.V-1),r],[!0,!0]))),h=h.Mn(c)}return h}function aP(t,i,n){var r,e=t.Fx,s=e.zM(i);if(s>=0){if(!(s+1<e.V))return ut.resolve();r=e.Tn(s+1)}else{if(!((s=e.$M(i))>=0))return ut.resolve();r=e.Tn(s)}return t.pS(r,1/0,n)}function cP(t,i,n){if(!t.Cr(i)){var r=t.zM(i,n);if(r>=0){var e=t.Tn(r);if(i<e)return e}}return i}U(),Et(),Ft(),U(),Et(),Pt(),U(),Et(),xt(),U(),Et();var fP=.5,vP=[eh.uo,eh.jw,eh.$w,eh.Zw,eh.Fw,eh.Vw,eh.Nw,eh.Kw,Ry.AI,qm.ma],dP=function(){function t(t,i,n,r){var e=this;this.u3=void 0,this.a4=void 0,this.PL=void 0,this.l4=void 0,this.r4=void 0,this.f4=void 0,this.y4=void 0,this.C4=void 0,this.g4=void 0,this.T4=void 0,this.A4=void 0,this.R4=void 0,this.D4=void 0,this.N4=void 0,this.h4=void 0,this.u4=void 0,this.ad=void 0,this.m4=void 0,this.c4=void 0,this.S4=void 0,this.u3=t,this.a4=i,this.PL=n,this.l4=!1,this.r4=[],this.f4=0,this.y4=0,this.C4=0,this.g4=0,this.T4=0,this.A4=0,this.R4=1,this.h4=function(t){var i=e.PL.zx,n=t.e$.Cr(i),r=t.e$.Cr(i,fP)&&e.PL.AP<=Dy.GL;(n||r)&&e.JZ(i)},this.u4=gn(function(t){if(!e.l4)if(e.a4.AP<=Dy.GL){var i=e.PL.zx;e.JZ(i)||e.S4()}else e.d4()},100),this.ad=gn(function(t){e.b4()},100),this.m4=function(t){t.currentTime!==e.g4&&e.d4()},this.c4=function(){e.E4()?0===e.A4&&(e.PL.wn(eh.py,e.ad),e.y4=Ui.Og(function(){e.b4()},3500)):e.o4()},this.S4=function(){var t=e.C4,i=e.T4,n=e.PL.zx,r=Ui.Mg(),s=e.u3.Fx;if(t!==n)return e.C4=n,e.T4=r,e.R4=1,void(e.D4=Ui.Tx?5e3:1e3);if(e.E4()&&0!==s.V&&i>0&&r>i+e.D4){var u,o,h=e.s$.MM().qM(s),a=h.ZM(n);if(-1!==a){var c=h.Tn(a);if(c-n<1||e.x4()){var f=h.An(a);0,u=f}}if(!u)(u=null==(o=e.N4)?void 0:o.determineStallJumpTarget())&&u!==n||(u=n+.01*e.R4,s.Cr(u)||(u=e.I4(n,s)));0,e.C4=u,e.R4++,e.D4=b.min(2*e.D4,1e4),e._4(u)}},this.a4.wn(Ry.AI,this.u4),this.PL.wn(eh.Qw,this.u4),this.PL.wn(vP,this.c4),this.N4=r,this.D4=Ui.Tx?5e3:1e3}var i=t.prototype;return i.n4=function(t){this.r4.push(t),t.wn(JR.t$,this.h4)},i.kn=function(){var t=this;this.o4(),this.a4.mn(Ry.AI,this.u4),this.PL.mn(eh.Qw,this.u4),this.PL.mn(vP,this.c4),this.r4.forEach(function(i){return i.mn(JR.t$,t.h4)}),this.d4(),this.l4=!0},i.JZ=function(t){if(this.PL.Qx)return!1;if(0!==this.f4)return!1;var i=this.u3.Fx,n=i.zM(t);if(n>=0&&t+fP<i.An(n))return!1;var r=n>=0?n+1:i.$M(t);if(r<0||r>=i.V)return!1;var e=i.Tn(r);return!(EA.nL(t,e).qM(this.s$).eL>1)&&(0!==t||this.PL.xP?Ui.Ax?(this.v4(t,e,250),!0):!(b.abs(e-t)<=.001)&&(this._4(e),!0):(this.v4(t,e,2e3),!0))},i.v4=function(t,i,n){var r=this;this.d4(),this.g4=t,this.PL.wn(eh.$w,this.m4),this.f4=Ui.Og(function(){r.g4===r.PL.zx&&r._4(i),r.d4()},n)},i.d4=function(){0!==this.f4&&(this.PL.mn(eh.$w,this.m4),Ui.Lg(this.f4),this.f4=0)},i._4=function(t){this.PL.Oy(t,!1,!0)},i.w4=function(){0!==this.y4&&(Ui.Lg(this.y4),this.y4=0),this.PL.mn(eh.py,this.ad)},i.b4=function(){this.l4||0===this.A4&&(this.w4(),this.A4=Ui.fm(this.S4,250))},i.o4=function(){0!==this.A4&&(Ui.vm(this.A4),this.A4=0),this.w4(),this.PL.xP||(this.T4=0)},i.E4=function(){return!this.PL.lP&&(!this.PL.xP||this.x4())&&0!==this.PL.vP&&!this.PL.Qx&&!this.PL.lt&&(this.P4()||this.a4.AP>=Dy.XL)},i.x4=function(){return!1},i.P4=function(){var t=this.PL.zx,i=this.u3.Fx,n=i.zM(t);return-1!==n&&i.An(n)>t+fP},i.I4=function(t,i){var n=i.zM(t);return n>-1?i.An(n):t},Nt(t,[{key:"s$",get:function(){return this.r4.reduce(function(t,i){return t.HM(i.s$)},EA.rL())}}]),t}(),lP=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.x4=function(){if(!Bi.S_||!this.PL.xP)return!1;var t=this.PL.zx,i=this.u3.Fx,n=this.s$.MM().qM(i),r=n.ZM(t);return-1!==r&&n.Tn(r)-t<=3e3},i}(dP),wP=Bi.B_||Bi.L_,gP=Bi.W_||Bi.X_||Bi.ru,_P=function(t){return t.S3="closed",t.rE="open",t.Nw="ended",t}({}),mP=function(t){function i(i,n,r,e,s,u,o,h){var a;return void 0===u&&(u=new Ce(i.t5)),(a=t.call(this,i,n,e,s,h)||this).Z4=void 0,a.B4=void 0,a.X4=void 0,a.M4=void 0,a.j4=void 0,a.H4=new oP(0,1/0),a.aq=void 0,a.L4=void 0,a.O4=void 0,a.G4=void 0,a.Q4=!1,a.Y4=function(){a.So(new rh(qR.SZ))},a.i5=function(){a.So(new rh(qR.kZ))},a.bd=function(){a.K4()},a.B3=function(){a.PL.B3()},a.Z4=u,a.aq=a.Z4.Lp(),a.aq.addEventListener("sourceclose",a.Y4),a.aq.addEventListener("sourceopen",a.i5),a.PL.wn([eh.py,eh.$w,eh.Fw],a.bd),a.G4=new lP(a,r,a.PL,o),a}Ct(i,t);var n=i.prototype;return n.F4=function(t){if(t<0)throw new y("Invalid duration");this.U4()?this.V4(t):this.L4=t},n.V4=function(t){var i=t===1/0;if(i&&this.aq.setLiveSeekableRange){var n=b.pow(2,39);this.aq.setLiveSeekableRange(0,n)}S(t)?(this.aq.duration=bn,this.O4=NaN):(this.aq.duration=i?gP?1/0:bn:t,this.O4=void 0),this.L4=void 0},n.W4=function(t,i,n,r){this.H4=new oP(t,i,Boolean(n),Boolean(r))},n.GY=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:return t=this.ZS,i=Fn(t.q4,function(t){return Wv(t.GT)}),n=Fn(t.q4,function(t){return zv(t.GT)}),this.pT.disableRemotePlayback=!0,[4,this.z4()];case 1:return c.sent(),r=this.BZ(),i&&(e=new $R,this.G4.n4(e),u=null!=(s=this.E3(i.GT))?s:i.GT,this.X4=this.aq.addSourceBuffer(""+u+r),this.B4=sP(this,this.PL,i,eg.Bk,this.X4,u,e),this.B4.wn(HR.pZ,this.B3)),n&&(o=new $R,this.G4.n4(o),a=null!=(h=this.E3(n.GT))?h:n.GT,this.j4=this.aq.addSourceBuffer(""+a+r),this.M4=sP(this,this.PL,n,eg.Mk,this.j4,a,o),this.M4.wn(HR.pZ,this.B3)),this.DZ.Un(this,t),[2]}})}).call(this)},n.z4=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.zZ.call(i,this.aq)];case 1:return n.sent(),"open"===this.AP?[3,3]:[4,ew(this.aq,"sourceopen")];case 2:n.sent(),n.label=3;case 3:return[2]}})}).call(this)},n.U4=function(){if("open"!==this.AP)return!1;var t=this.B4&&this.B4.ga,i=this.M4&&this.M4.ga;return!(t||i)},n.F3=function(){this.Q4=!0,this.B4&&this.B4.F3(),this.M4&&this.M4.F3(),this.Q4=!1,this.K4()},n.I3=function(){this.B4&&this.B4.I3(),this.M4&&this.M4.I3()},n.IZ=function(i){var n=Fn(i.q4,function(t){return Wv(t.GT)}),r=Fn(i.q4,function(t){return zv(t.GT)});if(this.B4){if(!n)return!1;if(!this.B4.IZ(n))return!1}else if(n)return!1;if(this.M4){if(!r)return!1;if(!this.M4.IZ(r))return!1}else if(r)return!1;return!!t.prototype.IZ.call(this,i)},n.RZ=function(i){var n=this;return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=Fn(i.q4,function(t){return Wv(t.GT)}),e=Fn(i.q4,function(t){return zv(t.GT)}),s=[],this.B4&&s.push(this.B4.RZ(r)),this.M4&&s.push(this.M4.RZ(e)),[4,ut.all(s)];case 1:return u.sent(),[4,t.prototype.RZ.call(n,i)];case 2:return u.sent(),[2]}})}).call(this)},n.NZ=function(i){t.prototype.NZ.call(this,i)},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.aq.removeEventListener("sourceclose",this.Y4),Bi.S_?[4,this.XZ()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.B4?[4,this.B4.zg()]:[3,4];case 3:if(n.sent(),this.B4=void 0,Jo()&&(Bi.S_||Bi.w_))try{this.aq.removeSourceBuffer(this.X4)}catch(t){}this.X4=void 0,n.label=4;case 4:return this.M4?[4,this.M4.zg()]:[3,6];case 5:if(n.sent(),this.M4=void 0,Jo()&&(Bi.S_||Bi.w_))try{this.aq.removeSourceBuffer(this.j4)}catch(t){}this.j4=void 0,n.label=6;case 6:return this.pT.src&&URL.revokeObjectURL(this.pT.src),this.pT.disableRemotePlayback=!1,this.PL.mn([eh.py,eh.$w,eh.Fw],this.bd),this.G4.kn(),Bi.w_?[4,this.XZ()]:[3,8];case 7:n.sent(),n.label=8;case 8:return[4,t.prototype.zg.call(i)];case 9:return n.sent(),[2]}})}).call(this)},n.Y3=function(){var t=this,i=this.ZS,n=i.q4.map(function(i){return Wv(i.GT)&&t.B4?t.B4.Cd:zv(i.GT)&&t.M4?t.M4.Cd:i});this.ZS=Yu({},i,{q4:n})},n.U3=function(){this.Q4||this.K4()},n.K4=function(){this.J4&&this.U4()&&(this.aq.endOfStream(),this.L4=void 0,this.O4=void 0,this.So(new rh(qR.bZ)),this.PL.B3())},n.R3=function(){this.U4()&&(this.jZ?this.K4():void 0!==this.L4&&this.V4(this.L4))},n.JZ=function(t){return this.G4.JZ(t)},n.ZZ=function(){return!0},n.E3=function(t){return yP(this.Z4,t)},i.$Z=function(t){var i=Pe(t.t5);if(void 0===i)return!1;if("function"!=typeof i.isTypeSupported)return!1;for(var n,r=new Ce(t.t5),e=Lt(t.q4);!(n=e()).done;){if(void 0===yP(r,n.value.GT))return!1}return!0},Nt(i,[{key:"e4",get:function(){return this.B4}},{key:"s4",get:function(){return this.M4}},{key:"ct",get:function(){if(void 0!==this.L4)return this.L4;if(void 0!==this.O4)return this.O4;var t=this.aq.duration;return t===bn?1/0:t}},{key:"Fx",get:function(){return wP?hP(this):function(t,i){var n=i;return n.V>0&&t.jZ&&(n=n.HM(EA.sL(n.An(n.V-1)))),n}(this,EA.jn(this.pT.buffered))}},{key:"QZ",get:function(){var t;return null==(t=this.B4)?void 0:t.Fx}},{key:"KZ",get:function(){var t;return null==(t=this.M4)?void 0:t.Fx}},{key:"kP",get:function(){return this.H4.J3().Mn(new EA([0,this.ct],[!0,!0]))}},{key:"jZ",get:function(){return(!this.B4||this.B4.jZ())&&(!this.M4||this.M4.jZ())}},{key:"AP",get:function(){return this.aq.readyState}},{key:"J4",get:function(){if(!this.jZ)return!1;var t=this.Fx;return 0!==t.V&&t.Tn(t.V-1)<=this.PL.zx}}]),i}(GR);function yP(t,i){var n=jv(i),r=jC(n),e="audio/mp4"===n.Km,s=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.Fp(i)&&(!s||!Bi.X_))return i;if(s)for(var u,o=Lt(['audio/mp4; codecs="mp3"',"audio/mpeg"]);!(u=o()).done;){var h=u.value;if(t.Fp(h))return h}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var a,c=Lt(["flac","fLaC","FLAC"]);!(a=c()).done;){var f='audio/mp4; codecs="'+a.value+'"';if(t.Fp(i))return f}}U(),Et(),xt(),Pt(),U(),Et(),Pt();var pP=function(t){function i(i){var n;return(n=t.call(this,eh.Fw)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh),kP=[eh.wy,eh.Kw,eh.$w,eh.Fw,eh.uo,eh.jw],bP=function(t){function i(i,n,r,e,s,u,o,h,a,c,f){var v;return(v=t.call(this)||this).xz=void 0,v.Zb=void 0,v.h5=void 0,v.Cz=void 0,v.Pz=void 0,v.Iz=void 0,v.Rz=void 0,v.cA=void 0,v.o5=void 0,v.s5=void 0,v.r5=void 0,v.xz=i,v.Zb=n,v.h5=r,v.Cz=e,v.Pz=s,v.Iz=u,v.Rz=o,v.cA=h,v.o5=a,v.s5=c,v.r5=f,v}Ct(i,t);var n=i.prototype;return n.Oy=function(t,i,n){this.xz!==t&&(this.xz=t,this.s5=i,n&&!this.Pz?(this.r5=!0,this.So(new pP(this.zx))):(this.r5=!1,this.Pz=!0,this.So(new wT(this.zx))))},n.jP=function(){this.Cz||(this.Cz=!0,this.So(new cT(this.zx)))},n.QP=function(){this.Cz&&(this.Cz=!1,this.So(new fT(this.zx)))},n.zg=function(){this.Vo()},Nt(i,[{key:"zx",get:function(){return this.xz}},{key:"e5",get:function(){return this.s5}},{key:"n5",get:function(){return this.r5}},{key:"ct",get:function(){return this.Zb}},{key:"Qx",get:function(){return this.h5}},{key:"lP",get:function(){return this.Cz}},{key:"AP",get:function(){return this.o5}},{key:"xP",get:function(){return this.Pz}},{key:"oP",get:function(){return this.Iz},set:function(t){this.oP!==t&&(this.Iz=t,this.So(new _T(this.zx,this.OP)))}},{key:"vP",get:function(){return this.Rz},set:function(t){this.vP!==t&&(this.Rz=t,this.So(new dT(this.zx,this.vP)))}},{key:"OP",get:function(){return this.cA},set:function(t){this.OP!==t&&(this.cA=t,this.So(new _T(this.zx,this.OP)))}}]),i}(th);function AP(t){return new bP(t.zx,t.ct,t.Qx,t.lP,t.xP,t.oP,t.vP,t.OP,t.AP,!1,t.n5)}function TP(t,i){i.ct===t.ct||S(i.ct)&&S(t.ct)||t.So(new vT(t.ct)),t.oP=i.oP,t.OP=i.OP,t.vP=i.vP,i.lP?t.jP():t.QP().catch(dn),i.zx!==t.zx||i.AP>Dy.zL&&t.AP===Dy.zL?t.Oy(i.zx,i.e5,i.n5):!i.xP&&t.xP?t.So(new wT(t.zx)):i.xP&&!t.xP&&t.AP>=Dy.GL&&t.So(new gT(t.zx)),!i.Qx&&t.Qx&&t.So(new lT(t.zx))}U(),Et(),Pt(),Ft(),U(),Et(),xt(),Pt();var SP=function(t){function i(i){var n;return(n=t.call(this)||this).PL=void 0,n.RV=Dy.zL,n.c5=function(){n.u5()},n.PL=i,n}Ct(i,t);var n=i.prototype;return n.a5=function(t){this.RV!==t&&(this.RV=t,this.So(new Py(this.PL.zx,t)))},n.u5=function(){this.a5(this.TP())},n.hr=function(){this.a5(Dy.zL)},n.zg=function(){this.Vo()},Nt(i,[{key:"AP",get:function(){return this.TP()}}]),i}(th);U(),Et(),Pt(),Ft();var EP=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],IP=function(t){function i(i){var n;n=t.call(this,i)||this;for(var r,e=Lt(EP);!(r=e()).done;){var s=r.value;n.PL.hq.addEventListener(s,n.c5)}return n}Ct(i,t);var n=i.prototype;return n.TP=function(){var t=this.PL.hq.readyState;return t>Dy.GL&&this.PL.d5?Dy.GL:(this.PL.hq.seeking&&t>Dy.Qn&&(t=Dy.Qn),t)},n.zg=function(){for(var i,n=Lt(EP);!(i=n()).done;){var r=i.value;this.PL.hq.removeEventListener(r,this.c5)}t.prototype.zg.call(this)},i}(SP);U(),Et();var RP=ve,CP=function(t){function i(i){var n;(n=t.call(this,i)||this).PL.wn([eh.$w,eh.Fw],n.c5);for(var r,e=Lt(EP);!(r=e()).done;){var s=r.value;n.PL.hq.addEventListener(s,n.c5)}return n}Ct(i,t);var n=i.prototype;return n.TP=function(){if(this.PL.hq.readyState===Dy.zL)return Dy.zL;var t=this.l5(),i=t?t.An-t.Tn:0;if(!t)return Dy.Qn;var n=this.PL.vP;return this.f5()||i>=3*n?Dy.jL:i>=3?Dy.XL:Dy.GL},n.l5=function(){var t=this.PL.zx,i=this.PL.Fx.VM(.04),n=i.zM(t);if(!(n<0))return{Tn:t,An:i.An(n)}},n.f5=function(){if(this.PL.Qx)return!0;var t=this.PL.ct,i=this.l5();return!!i&&t-i.An<=RP},n.zg=function(){this.PL.mn([eh.$w,eh.Fw],this.c5);for(var i,n=Lt(EP);!(i=n()).done;){var r=i.value;this.PL.hq.removeEventListener(r,this.c5)}t.prototype.zg.call(this)},i}(SP);U(),Et(),Pt(),U(),Et(),Pt();var PP=[Ry.AI,eh.uo,eh.jw,eh.$w,eh.Zw,eh.Fw,eh.Vw,eh.Nw,qm.ma],DP=function(t){function i(i){var n;return(n=t.call(this)||this).DV=void 0,n.p5=!1,n.NK=function(){n.er()},n.DV=i,n.DV.wn(PP,n.NK),n}Ct(i,t);var n=i.prototype;return n.v5=function(){return(!this.DV.n5||!this.DV._5)&&this.DV.AP<Dy.XL},n.g5=function(){return!this.DV.xP&&!(this.DV.lP||this.DV.Qx||this.DV.lt||this.v5())},n.er=function(){var t=this.p5;this.p5=this.g5(),!t&&this.p5&&this.So(new Ly(this.DV.zx))},n.hr=function(){this.p5=!1},n.zg=function(){this.Vo(),this.DV.mn(PP,this.NK)},i}(th),NP=function(t){function i(i){var n;return(n=t.call(this,i)||this).pT=void 0,n.m5=!1,n.VV=function(){n.m5=!0,n.er()},n.pT=i.hq,n.pT.addEventListener(Ry.PM,n.VV),n}Ct(i,t);var n=i.prototype;return n.g5=function(){return this.m5&&t.prototype.g5.call(this)},n.er=function(){this.m5&&(this.pT.paused||this.pT.ended||this.pT.error)&&(this.m5=!1),t.prototype.er.call(this)},n.hr=function(){t.prototype.hr.call(this),this.m5=!1},n.zg=function(){this.pT.removeEventListener(Ry.PM,this.VV),t.prototype.zg.call(this)},i}(DP);U(),Et(),Pt();var xP=function(t){function i(i){var n;return(n=t.call(this,qm.ma)||this).lt=void 0,n.lt=i,n}return Ct(i,t),i}(rh);function BP(t,i){return t.CO<=i&&t.RO>i}function OP(t,i){return function(t,i){return On(t.CO,i.CO,Yg)}(t,i)||function(t,i){return On(t.RO,i.RO,Yg)}(t,i)}function MP(t,i){return function(t,i){return On(t.UO,i.UO,Yg)}(t,i)||function(t,i){return On(t.VO,i.VO,Yg)}(t,i)}function LP(t,i,n){var r=function(t,i,n,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(n(t[a]),i);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(n(t[a-1]),i)))return a;h=a-1}}return~o}(t,i,ln,n,!0);if(r<0)return r;for(;r<t.length&&n(i,t[r])===Nn.rh;r++)if(t[r].QO(i))return r;return-(r+1)}function FP(t,i,n){var r=LP(t,i,n);return r>=0?r:-(r+1)}function UP(t){var i=t.Ht;if(!i)return-1;if(V(t,Jg))return i.w5(t);var n=i.L;if(!n)return-1;var r=LP(n.NI,t,OP);return r>=0?r:-1}function VP(t,i){var n=function(t,i,n){for(var r=t.length,e=i.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=i[u];a===c?(s++,u++):n(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(i[u]),u++;return{y5:o,b5:h}}(t,i,OP);return function(t,i){for(var n=i.length,r=0;r<n;r++)t[r]=i[r];t.length=n}(t,i),n}U(),Et(),xt(),Pt(),Ft(),U(),Et(),H(),U(),Et(),U(),Et(),xt();var HP=function(){function t(t){this.A5=void 0,this.hu=void 0,this.A5=t}var i=t.prototype;return i.xa=function(){return function(t){for(var i=[],n=0;n<t.V;n++)i[n]=t.zy(n).Ca;return i.item=function(i){var n=0|i,r=t.zy(n);return r&&r.Ca||void 0},k.defineProperty(i,"constructor",{value:zg}),i}(this)},i.pO=function(t){for(var i=this.A5,n=i.length-1;n>=0;n-=1){var r=i[n];if(t.QO(r))return!0}return!1},i.zy=function(t){return this.A5[t]},Nt(t,[{key:"NI",get:function(){return this.A5}},{key:"V",get:function(){return this.A5.length}},{key:"Ca",get:function(){if(this.hu){var t=this.A5;this.hu.length=t.length;for(var i=0;i<t.length;i++)this.hu[i]=t[i].Ca}else this.hu=this.xa();return this.hu}}]),t}();U(),Et(),Pt();var WP=function(t){function i(i,n){var r;return(r=t.call(this,Nw.AI)||this).Ht=void 0,r.AP=void 0,r.Ht=i,r.AP=n,r}return Ct(i,t),i.prototype.xa=function(){return new zP(this.Ht.Ca,this.AP)},i}(Sw),zP=function(t){function i(i,n){var r;return(r=t.call(this,"readystatechange")||this).track=void 0,r.readyState=void 0,r.track=i,r.readyState=n,r}return Ct(i,t),i}(Ew);U(),Et(),Pt();var XP=function(t){function i(i){var n;return(n=t.call(this,Nw.kI)||this).Ht=void 0,n.Ht=i,n}return Ct(i,t),i.prototype.xa=function(){return new qP(this.Ht.Ca)},i}(Sw),qP=function(t){function i(i){var n;return(n=t.call(this,"typechange")||this).track=void 0,n.track=i,n}return Ct(i,t),i}(Ew);U(),Et(),Pt();var GP=function(t){function i(i){var n;return(n=t.call(this,Nw.uI)||this).PO=void 0,n.PO=i,n}return Ct(i,t),i.prototype.xa=function(){return new jP(this.PO.Ca)},i}(Sw),jP=function(t){function i(i){var n;return(n=t.call(this,"addcue")||this).cue=void 0,n.cue=i,n}return Ct(i,t),i}(Ew);U(),Et(),Pt();var QP=function(t){function i(i){var n;return(n=t.call(this,Nw.dI)||this).PO=void 0,n.PO=i,n}return Ct(i,t),i.prototype.xa=function(){return new YP(this.PO.Ca)},i}(Sw),YP=function(t){function i(i){var n;return(n=t.call(this,"removecue")||this).cue=void 0,n.cue=i,n}return Ct(i,t),i}(Ew),KP=function(t){function i(i,n,r,e,s,u,o,h,a){var c;return(c=t.call(this)||this).hu=void 0,c.aS=void 0,c.yO=pg(),c.E5=!1,c.P5=void 0,c.I5=void 0,c.bO=void 0,c.$b=void 0,c.Yo=zm.Nh,c.o5=Dg.NONE,c.B5=void 0,c.Vp=void 0,c.x5=void 0,c.C5=void 0,c.QU=0,c.A5=[],c.M5=[],c.D5=[],c.T5=void 0,c.S5=void 0,c.V5=0,c.N5=0,c.aS=n||"",c.P5=h||"",c.I5=i,c.$b=e||"",c.E5=Boolean(s),c.x5=Boolean(o),c.Vp=u||Ng.DEFAULT,c.bO=r||"",c.C5=a||[],c.T5=new HP(c.A5),c.S5=new HP(c.D5),c}Ct(i,t);var n=i.prototype;return n.k5=function(t){return Fn(this.T5.NI,function(i){return i.o===t})},n.xa=function(){return jm(this)},n.R5=function(t){var i=Xm(t);i!==this.Qk&&(this.Yo=i,i===zm.Nh&&(this.D5.forEach(function(t){t.ro=!1}),Yn(this.D5),this.N5=0),this.So(new wg(this)))},n.nV=function(t){if(t&&!t.Ht){var i=LP(this.M5,t,MP);if(!(i>=0)){t.Ht=this;var n=-(i+1);this.M5.splice(n,0,t);var r=FP(this.L.NI,t,OP);this.L5(t,r),this.So(new GP(t))}}},n.L5=function(t,i){this.A5.splice(i,0,t),this.O5(i),t.JO=i,i<this.N5&&(this.N5=i)},n.XU=function(t){if(t&&t.Ht===this){var i=this.w5(t);if(!(i<0)){t.ro=!1;var n=this.D5,r=LP(n,t,OP);r>=0&&qn(n,r);var e=LP(this.M5,t,MP);e>=0&&qn(this.M5,e),t.Ht=void 0,this.F5(t,i),this.So(new QP(t))}}},n.F5=function(t,i){qn(this.A5,i),this.O5(i),t.JO=-1,this.N5>i&&--this.N5},n.qO=function(t){if(t&&t.Ht===this){var i=this.w5(t);if(!(i<0)){this.F5(t,i);var n=FP(this.L.NI,t,OP);this.L5(t,n);var r=Hn(this.D5,function(i){return i===t});if(r>=0){qn(this.D5,r);var e=FP(this.D5,t,OP);this.D5.splice(e,0,t)}}}},n.U5=function(t,i){var n=this.D5,r=this.A5,e=this.N5,s=!1,u=1/0;i&&(e=0);for(var o=n.length-1;o>=0;o--){var h=n[o];BP(h,t)?h.RO<u&&(u=h.RO):(s=!0,qn(n,o))}for(;e<r.length&&r[e].CO<=t;){var a=r[e];BP(a,t)&&(jn(n,a)||(s=!0,n.push(a)),a.RO<u&&(u=a.RO)),e++}return e<r.length&&r[e].CO<u&&(u=r[e].CO),s&&yn(n,OP),this.N5=e,u},n.w5=function(t){return(-1===t.JO||t.JO>=this.V5)&&this.H5(),t.JO},n.H5=function(){for(var t=this.A5,i=this.V5;i<t.length;i++)t[i].JO=i;this.V5=t.length},n.O5=function(t){t<this.V5&&(this.V5=b.max(t,0))},n.sC=function(t){this.nC||(this.Qk=t)},n.kn=function(){this.Vo();for(var t,i=Lt(this.A5.slice());!(t=i()).done;){t.value.kn()}Yn(this.A5),Yn(this.M5),Yn(this.D5)},Nt(i,[{key:"q",get:function(){return this.S5}},{key:"L",get:function(){return this.T5}},{key:"sV",get:function(){return this.E5},set:function(t){this.E5=t}},{key:"nC",get:function(){return this.x5}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"o",get:function(){return this.aS}},{key:"JI",get:function(){return this.yO}},{key:"eC",get:function(){return this.P5},set:function(t){this.P5=t}},{key:"Lt",get:function(){return this.I5}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"bs",get:function(){return this.$b}},{key:"ZI",get:function(){return this.C5}},{key:"Qk",get:function(){return this.Yo},set:function(t){this.R5(t)}},{key:"AP",get:function(){return this.o5},set:function(t){this.o5!==t&&(this.o5=t,this.So(new WP(this,this.o5)))}},{key:"rC",get:function(){return this.B5},set:function(t){this.B5=t}},{key:"Km",get:function(){return this.Vp},set:function(t){this.Vp!==t&&(this.Vp=t,this.So(new XP(this)))}},{key:"EU",get:function(){return this.QU},set:function(t){this.QU=t}}]),i}(th);U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),U(),Et(),Pt();var JP=function(t){function i(i,n){var r;return(r=t.call(this,Ug.QL,i)||this).YF=void 0,r.YF=n,r}return Ct(i,t),i.prototype.xa=function(){return new ZP(this.PO.Ca)},i}(Vg),ZP=function(t){function i(i){return t.call(this,"enter",i)||this}return Ct(i,t),i}(Hg);U(),Et(),Pt();var $P=function(t){function i(i,n){var r;return(r=t.call(this,Ug.KL,i)||this).YF=void 0,r.YF=n,r}return Ct(i,t),i.prototype.xa=function(){return new tD(this.PO.Ca)},i}(Vg),tD=function(t){function i(i){return t.call(this,"exit",i)||this}return Ct(i,t),i}(Hg);U(),Et(),Pt();var iD=function(t){function i(i){var n;return(n=t.call(this,Nw._I)||this).PO=void 0,n.PO=i,n}return Ct(i,t),i.prototype.xa=function(){return new nD(this.PO.Ca)},i}(Sw),nD=function(t){function i(i){var n;return(n=t.call(this,"entercue")||this).cue=void 0,n.cue=i,n}return Ct(i,t),i}(Ew);U(),Et(),Pt();var rD=function(t){function i(i){var n;return(n=t.call(this,Nw.pI)||this).PO=void 0,n.PO=i,n}return Ct(i,t),i.prototype.xa=function(){return new eD(this.PO.Ca)},i}(Sw),eD=function(t){function i(i){var n;return(n=t.call(this,"exitcue")||this).cue=void 0,n.cue=i,n}return Ct(i,t),i}(Ew),sD=function(t){function i(i){var n;return(n=t.call(this)||this).W5=void 0,n.GO=void 0,n.UO=void 0,n.VO=void 0,n.yO=void 0,n.WO=void 0,n.hu=void 0,n.ho=!1,n.z5=function(){n.ro=!0},n.G5=function(){n.ro=!1},n.yO=Sg(),n.W5=i,n.UO=i.startTime,n.VO=i.endTime,n.W5.addEventListener("enter",n.z5),n.W5.addEventListener("exit",n.G5),n}Ct(i,t);var n=i.prototype;return n.xa=function(){return Wg(this)},n.QO=function(t){return this===t||Uw(this,t)&&Kg(this,t)&&this.KO(t)},n.q5=function(){var t,i,n,r=null!=(i=this.W5.THEOplayerTimestampOffset)?i:0,e=null!=(n=null==(t=this.WO)?void 0:t.EU)?n:0;if(r!==e){var s=e-r;this.W5.startTime+=s,this.W5.endTime+=s,this.W5.THEOplayerTimestampOffset=e}},n.KO=function(t){return Fw(this.U,t.U)},n.kn=function(){this.Vo(),this.W5.removeEventListener("enter",this.z5),this.W5.removeEventListener("exit",this.G5)},Nt(i,[{key:"JI",get:function(){return this.yO}},{key:"CO",get:function(){var t,i;return this.W5.startTime-(null!=(i=null==(t=this.WO)?void 0:t.EU)?i:0)},set:function(t){var i,n;this.W5.startTime=t+(null!=(n=null==(i=this.WO)?void 0:i.EU)?n:0)}},{key:"RO",get:function(){var t,i;return this.W5.endTime-(null!=(i=null==(t=this.WO)?void 0:t.EU)?i:0)},set:function(t){var i,n;this.W5.endTime=t+(null!=(n=null==(i=this.WO)?void 0:i.EU)?n:0)}},{key:"U",get:function(){return this.GO},set:function(t){this.GO=t}},{key:"XO",get:function(){return Boolean(this.W5.pauseOnExit)},set:function(t){this.W5.pauseOnExit=Boolean(t)}},{key:"Ht",get:function(){return this.WO},set:function(t){this.WO=t,this.q5()}},{key:"o",get:function(){return this.W5.id||""}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"ro",get:function(){return this.ho},set:function(t){this.ro!==t&&(this.ho=t,t?(this.So(new JP(this,this.CO)),this.WO&&this.WO.So(new iD(this))):(this.So(new $P(this,this.RO)),this.WO&&this.WO.So(new rD(this))))}}]),i}(nh);U(),Et(),Pt();var uD=function(t){function i(i){var n;return(n=t.call(this,Nw.wI)||this).Ht=void 0,n.Ht=i,n}return Ct(i,t),i.prototype.xa=function(){return new oD(this.Ht.Ca)},i}(Sw),oD=function(t){function i(i){var n;return(n=t.call(this,"cuechange")||this).track=void 0,n.track=i,n}return Ct(i,t),i}(Ew);function hD(t){if(t){var i=t.THEOplayerVTTRegion;return i||(i=new aD(t),t.THEOplayerVTTRegion=i),i}}U(),Et(),xt(),Pt(),U(),Et(),xt();var aD=function(){function t(t){this.j5=void 0,this.hu=void 0,this.j5=t}return Nt(t,[{key:"X5",get:function(){return this.j5}},{key:"o",get:function(){return this.j5.id||""}},{key:"Ti",get:function(){return Number(this.j5.width)||0},set:function(t){this.j5.width=t||0}},{key:"ZO",get:function(){return Number(this.j5.lines)||0},set:function(t){this.j5.lines=t||0}},{key:"$O",get:function(){return Number(this.j5.regionAnchorX)||0},set:function(t){this.j5.regionAnchorX=t||0}},{key:"tF",get:function(){return Number(this.j5.regionAnchorY)||0},set:function(t){this.j5.regionAnchorY=t||0}},{key:"eF",get:function(){return Number(this.j5.viewportAnchorX)||0},set:function(t){this.j5.viewportAnchorX=t||0}},{key:"sF",get:function(){return Number(this.j5.viewportAnchorY)||0},set:function(t){this.j5.viewportAnchorY=t||0}},{key:"iF",get:function(){return this.j5.scroll||""}},{key:"Ca",get:function(){return this.hu||(this.hu=e_(this)),this.hu}}]),t}();var cD=function(t){function i(i){return t.call(this,i)||this}Ct(i,t);var n=i.prototype;return n.xa=function(){return Xg(this)},n.KO=function(t){return Zg(this,t)},Nt(i,[{key:"U",get:function(){return this.W5.text},set:function(t){this.W5.text=t}},{key:"Pt",get:function(){return this.W5.vertical||""},set:function(t){this.W5.vertical=t||""}},{key:"FO",get:function(){return this.W5.snapToLines},set:function(t){this.W5.snapToLines=t}},{key:"BO",get:function(){return this.W5.line},set:function(t){this.W5.line=t}},{key:"Wy",get:function(){return Number(this.W5.size)},set:function(t){this.W5.size=Tn(t,0,100)}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(sD),fD=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),Nt(i,[{key:"OO",get:function(){return hD(this.W5.region)}},{key:"MO",get:function(){return this.W5.lineAlign||"start"},set:function(t){this.W5.lineAlign=t||"start"}},{key:"mo",get:function(){return this.W5.position},set:function(t){this.W5.position=t}},{key:"LO",get:function(){return this.W5.positionAlign||"auto"},set:function(t){this.W5.positionAlign=t||"auto"}},{key:"DO",get:function(){return this.W5.align||"center"},set:function(t){this.W5.align=t||"center"}}]),i}(cD),vD=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),Nt(i,[{key:"OO",get:function(){return hD(this.X5)}},{key:"X5",get:function(){return function(t,i){if(void 0!==i){var n=t&&t.regions;return n&&n.getRegionById(i)||void 0}}(this.W5.track,this.W5.regionId)}},{key:"MO",get:function(){return function(t){return"middle"===t?"center":t}(this.W5.lineAlign||"start")},set:function(t){this.W5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"mo",get:function(){return this.W5.position},set:function(t){this.W5.position=function(t,i){return Fg(t,i)}(t,this.DO)}},{key:"LO",get:function(){return function(t){return Mg[t]}(this.W5.positionAlign||"middle")},set:function(t){this.W5.positionAlign=function(t,i){return Og[Lg(t,i)]}(t||"center",this.DO)}},{key:"DO",get:function(){return function(t){return"middle"===t?"center":t}(this.W5.align||"middle")},set:function(t){this.W5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),i}(cD);function dD(t,i){return t.U===i.U}function lD(t,i){if(0!==i.length){var n=i.length-1;if(i[n].CO<t.CO)wD(i,n,t.CO);else{var r=i[0];if(r.CO>t.CO)t.RO=r.CO;else{var e=LP(i,t,OP);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0)i[u].CO<t.CO&&wD(i,u,t.CO);if(s<i.length){var o=i[s];t.RO=o.CO}}}}}}function wD(t,i,n){for(var r=t[i].CO,e=i;e>=0&&t[e].CO===r;e--)t[e].RO=n}function gD(t){return Wg(t)}U(),Et(),H(),Ft(),U(),Et(),xt(),Pt(),U(),Et(),U(),Et();var _D=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).Q5=void 0,r.Q5=n,r}Ct(i,t);var n=i.prototype;return n.xa=function(){return gD(this)},n.KO=function(t){return dD(this,t)},Nt(i,[{key:"U",get:function(){return this.Q5}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(sD);function mD(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function yD(t){switch(t){case 0:return Zh;case 1:return na;case 2:return ra;case 3:return fa}}function pD(t,i){var n=i.ac,r=t.byteLength,e=ma(t);return i.Ly(r-n),ka(e,n,r).buffer}function kD(t,i){return{id:t||"",data:V(i,ArrayBuffer)?i:void 0}}function bD(t,i,n){var r=Mh(t,i);if(mD(r)){var e=yD(r);return{id:n,language:Kh(t,i,3),description:e(t,i),text:e(t,i)}}}function AD(t,i,n){var r=Mh(t,i);if(mD(r)){var e=yD(r);return{id:n,mimeType:Zh(t,i),fileName:e(t,i),description:e(t,i),data:pD(t,i)}}}function TD(t,i,n){var r=Mh(t,i);if(mD(r)){for(var e=yD(r),s=[];i.ac<t.byteLength;)s.push({involvement:e(t,i),involvee:e(t,i)});return{id:n,entries:s}}}function SD(t,i,n){var r=Mh(t,i);if(mD(r)){for(var e=yD(r),s=Kh(t,i,3),u=Mh(t,i),o=Mh(t,i),h=e(t,i),a=!1,c=[];i.ac<t.byteLength;){var f=void 0;if(1===r){var v=ia(t,i);void 0===v?v=a:a=v,f=ra(t,i,v)}else f=e(t,i);if(!f||i.ac+4>t.byteLength)break;c.push({text:f,timestamp:qh(t,i)})}return{id:n,language:s,format:u,contentType:o,description:h,entries:c}}}function ED(t,i,n){return{id:n,ownerIdentifier:Zh(t,i),identifier:pD(t,i)}}function ID(t,i,n){var r=Mh(t,i);if(mD(r)){var e=yD(r);return{id:n,language:Kh(t,i,3),description:e(t,i),text:e(t,i)}}}function RD(t,i,n){var r=Mh(t,i);if(mD(r))return{id:n,text:yD(r)(t,i)}}function CD(t,i,n){return{id:n,url:Zh(t,i)}}function PD(t,i,n){var r=Mh(t,i);if(mD(r)){var e=yD(r);return{id:n,description:e(t,i),text:e(t,i)}}}function DD(t,i,n){var r=Mh(t,i);if(mD(r))return{id:n,description:yD(r)(t,i),url:Zh(t,i)}}function ND(t,i,n){switch(n){case"COM":return bD(t,i,n);case"GEO":return AD(t,i,n);case"IPL":return TD(t,i,n);case"PIC":return function(t,i,n){var r=Mh(t,i);if(mD(r)){var e,s,u=yD(r),o=Kh(t,i,3),h=Mh(t,i),a=u(t,i);return"--\x3e"===o?(e=o,s=Zh(t,i)):(e="image/"+o.toLowerCase(),s=pD(t,i)),{id:n,mimeType:e,pictureType:h,description:a,data:s}}}(t,i,n);case"SLT":return SD(t,i,n);case"TXX":return PD(t,i,n);case"UFI":return ED(t,i,n);case"ULT":return ID(t,i,n);case"WXX":return DD(t,i,n);default:if("T"===n.charAt(0))return RD(t,i,n);if("W"===n.charAt(0))return CD(t,i,n)}}function xD(t,i,n){switch(n){case"APIC":return function(t,i,n){var r=Mh(t,i);if(mD(r)){var e=yD(r),s=Zh(t,i);return{id:n,mimeType:s,pictureType:Mh(t,i),description:e(t,i),data:"--\x3e"===s?Zh(t,i):pD(t,i)}}}(t,i,n);case"COMM":return bD(t,i,n);case"COMR":return function(t,i,n){var r=Mh(t,i);if(mD(r)){var e,s,u=yD(r),o=Zh(t,i),h=Kh(t,i,8),a=Zh(t,i),c=Mh(t,i),f=u(t,i),v=u(t,i);return i.ac<t.byteLength&&(e=Zh(t,i)||"image/",s=pD(t,i)),{id:n,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,i,n);case"GEOB":return AD(t,i,n);case"IPLS":return TD(t,i,n);case"PRIV":return function(t,i,n){return{id:n,ownerIdentifier:Zh(t,i),data:pD(t,i)}}(t,i,n);case"POSS":return function(t,i,n){return{id:n,format:Mh(t,i),position:qh(t,i)}}(t,i,n);case"SYLT":return SD(t,i,n);case"TXXX":return PD(t,i,n);case"UFID":return ED(t,i,n);case"USER":return function(t,i,n){var r=Mh(t,i);if(mD(r)){var e=yD(r);return{id:n,language:Kh(t,i,3),text:e(t,i)}}}(t,i,n);case"USLT":return ID(t,i,n);case"WXXX":return DD(t,i,n);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return RD(t,i,n);default:var r=n.charAt(0);if("T"===r)return RD(t,i,n);if("W"===r)return CD(t,i,n)}}U(),Et(),U(),Et(),H();function BD(t,i){return(127&Mh(t,i))<<21|(127&Mh(t,i))<<14|(127&Mh(t,i))<<7|127&Mh(t,i)}function OD(t,i){switch(t){case 4:return{K5:Oh(i,0),Y5:Oh(i,1),J5:Oh(i,2),Z5:Oh(i,3)};case 3:return{K5:Oh(i,0),Y5:Oh(i,1),J5:Oh(i,2)};case 2:return{K5:Oh(i,0),t6:Oh(i,1)}}}function MD(t,i,n){switch(n.ED){case 3:n.xD.Y5&&function(t,i){var n=i.ac,r=qh(t,i)+4,e=32768&zh(t,i);i.Oy(n+r),e&&qh(t,i)}(t,i);break;case 4:n.xD.Y5&&function(t,i){var n=i.ac,r=BD(t,i);i.Oy(n+r)}(t,i)}}function LD(t,i){if(t.byteLength-i.ac<10)return null;if(73!==Mh(t,i)||68!==Mh(t,i)||51!==Mh(t,i))return null;var n=Mh(t,i),r=Mh(t,i);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(n))return null;var e=Mh(t,i),s=BD(t,i);return{ED:n,i6:r,xD:OD(n,e),e6:s}}function FD(t,i,n){switch(n){case 2:return function(t,i){if(!(i.ac+6>t.byteLength))return{o:Kh(t,i,3),Wy:Hh(t,i,3)}}(t,i);case 3:return function(t,i){if(!(i.ac+10>t.byteLength)){var n=Kh(t,i,4),r=qh(t,i);Mh(t,i);var e=Mh(t,i);return{o:n,Wy:r,xD:{t6:Oh(e,0),s6:Oh(e,1),groupingIdentity:Oh(e,2)}}}}(t,i);case 4:return function(t,i){if(!(i.ac+10>t.byteLength)){var n=Kh(t,i,4),r=BD(t,i);Mh(t,i);var e=Mh(t,i);return{o:n,Wy:r,xD:{groupingIdentity:Oh(e,1),t6:Oh(e,4),s6:Oh(e,5),K5:Oh(e,6),n6:Oh(e,7)}}}}(t,i)}}function UD(t){for(var i=ma(t),n=new E(i.byteLength),r=0,e=0;e<i.byteLength;e++){var s=i[e];255===s&&e++,n[r]=s,r++}return _a(ka(n,0,r))}function VD(t,i){var n=i||new Ta,r=LD(t,n);if(!r)return null;var e=function(t,i,n){var r=[],e=i.ac,s=ga(t,e,e+n.e6),u=new Ta;switch(i.Ly(n.e6),n.ED){case 2:case 3:n.xD.K5&&(s=UD(s))}MD(t,i,n);for(;u.ac<s.byteLength;){var o=HD(s,u,n);if(void 0===o)break;r.push(o)}return r}(t,n,r);return{yD:r,r6:e}}function HD(t,i,n){var r=FD(t,i,n.ED);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Wy){var e,s,u=i.ac,o=ga(t,u,u+r.Wy);switch(i.Ly(r.Wy),n.ED){case 2:var h=r;e=ND(s=o,new Ta,h.o);break;case 3:var a=r,c=new Ta;!function(t,i,n){var r,e,s,u=n.xD;u.t6&&(r=qh(t,i)),u.s6&&(e=Mh(t,i)),u.groupingIdentity&&(s=Mh(t,i))}(o,c,a),e=xD(s=ga(o,c.ac,o.byteLength),new Ta,a.o);break;case 4:var f=r,v=new Ta;f.xD.K5&&(o=UD(o)),function(t,i,n){var r,e,s,u,o=n.xD;o.groupingIdentity&&(r=Mh(t,i)),o.t6&&(e=qh(t,i)),o.s6&&(s=Mh(t,i)),o.n6&&(u=BD(t,i))}(o,v,f),e=xD(s=ga(o,v.ac,o.byteLength),new Ta,f.o)}if(!e){var d=ba(ma(s));e=kD(r.o,d.buffer)}return e}}U(),Et();function WD(t){return Li(t)&&"org.id3"===t.type&&Li(t.value)}function zD(t){return function(t,i,n){return RD(t,i,n)}(new DataView(t.data),new Ta,t.key)}function XD(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return zD(t);default:var i=t.key.charAt(0);if("T"===i)return function(t){return{id:t.key,text:t.data}}(t);if("W"===i)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return kD(t.key,t.data)}(t)}U(),Et(),U(),Et();var qD=function(t){function i(i,n,r,e){var s;return void 0===e&&(e=!0),(s=t.call(this)||this).wO=void 0,s.h6=void 0,s.A5=[],s.D5=[],s.T5=void 0,s.S5=void 0,s.yO=void 0,s.aS=void 0,s.bO=void 0,s.Yo=zm.Nh,s.o5=Dg.NONE,s.hu=void 0,s.B5=void 0,s.Vp=Ng.DEFAULT,s.f6=!1,s._6=0,s.QU=0,s.l6=void 0,s.A6=function(){s.o6(),s.wO.removeEventListener("cuechange",s.A6)},s.v6=function(){s.Qk!==zm.Nh&&(s.b6(),s.U5(),s.A5.length&&s.a6(Dg.LOADING))},s.S6=function(){s.a6(Dg.LOADED)},s.T6=function(){s.a6(Dg.ERROR)},s.aS=i||GE(),s.wO=n,s.l6=e,s.wO.addEventListener("cuechange",s.A6),s.wO.addEventListener("cuechange",s.v6),s.h6=r,s.h6&&(s.B5=Rl(s.h6.src),s.h6.addEventListener("load",s.S6),s.h6.addEventListener("error",s.T6)),s.yO=pg(),s.bO=n.label||"",s.T5=new HP(s.A5),s.S5=new HP(s.D5),s.Qk=s.u6,pr(function(){s.v6(),s.a6(Dg.NONE)}),s}Ct(i,t);var n=i.prototype;return n.xa=function(){return jm(this)},n.nV=function(t){t.Ht!==this&&(t.Ht=this,this.wO.addCue(t.W5),this.v6())},n.XU=function(t){t.Ht===this&&(t.Ht=void 0,this.wO.removeCue(t.W5),this.v6())},n.k5=function(t){var i,n=null==(i=this.wO.cues)?void 0:i.getCueById(t);if(n){var r=GD(n);return r&&Hi(r)?r[0]:r}},n.jU=function(t){this._6>=t||(this._6=t,fy(this,t))},n.o6=function(){var t=this.Qk;this.d6||t!==zm.Kn?this.u6=t:this.u6=zm.iC},n.g6=function(){var t=this.Qk,i=this.u6;t!==i&&(this.d6||t!==zm.Kn||i!==zm.iC)&&("metadata"===this.Lt&&i===zm.Nh?this.Qk=t:this.f6&&i===zm.Nh&&t===zm.Kn?this.u6=t:this.Qk=i)},n.u5=function(t){this.o5!==t&&(this.o5=t,this.So(new WP(this,t)))},n.a6=function(t){var i=b.max(this.o5,this.c6,t);this.u5(i)},n.p6=function(t){var i=GD(t);if(i)return i;if(Hi(i=this.m6(t)))for(var n,r=Lt(i);!(n=r()).done;){n.value.Ht=this}else i.Ht=this;return i},n.m6=function(t){var i=this.w6(t);return t.THEOplayerTextTrackCue=i,i},n.w6=function(t){return t.endTime<this._6?[]:WD(t)?(this.Km=Ng.ID3,function(t){var i;try{i=XD(t.value)}catch(t){i=kD("")}return new _D(t,i)}(t)):function(t){return t&&V(t.data,ArrayBuffer)}(t)?(this.Km=Ng.ID3,function(t){var i=[];try{var n=VD(new DataView(t.data));if(n)for(var r,e=Lt(n.r6);!(r=e()).done;){var s=r.value;i.push(new _D(t,s))}}catch(t){}return i}(t)):function(t){return"text"in t}(t)?(this.Km=Ng.WEBVTT,function(t){return"regionId"in t}(t)?new vD(t):new fD(t)):new sD(t)},n.y6=function(t){var i=[];if(!t)return i;for(var n=t.length,r=0;r<n;r++){var e,s=this.p6(null!=(e=t[r])?e:t.item(r));if(Hi(s))for(var u,o=Lt(s);!(u=o()).done;){var h=u.value;i.push(h)}else i.push(s)}return i},n.b6=function(){for(var t,i=this.y6(this.wO.cues),n=VP(this.A5,i),r=Lt(n.b5);!(t=r()).done;){var e=t.value;e.mn(Ug.KL,this.v6),e.mn(Ug.QL,this.v6),this.So(new QP(e))}for(var s,u=Lt(n.y5);!(s=u()).done;){var o=s.value;o.wn(Ug.QL,this.v6),o.wn(Ug.KL,this.v6),this.So(new GP(o))}},n.U5=function(){for(var t,i=this.y6(this.wO.activeCues),n=VP(this.D5,i),r=Lt(n.b5);!(t=r()).done;){t.value.ro=!1}for(var e,s=Lt(n.y5);!(e=s()).done;){e.value.ro=!0}(n.y5.length||n.b5.length)&&this.So(new uD(this))},n.sC=function(t){this.Qk=t},n.kn=function(){this.Vo();for(var t,i=Lt(this.A5.slice());!(t=i()).done;){t.value.kn()}Yn(this.A5),Yn(this.D5),this.wO.removeEventListener("cuechange",this.A6),this.wO.removeEventListener("cuechange",this.v6),this.h6&&(this.h6.removeEventListener("load",this.S6),this.h6.removeEventListener("error",this.T6),Zi(this.h6))},Nt(i,[{key:"q",get:function(){return this.S5}},{key:"sV",get:function(){return this.h6?this.h6.default:void 0}},{key:"L",get:function(){return this.T5}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"o",get:function(){return this.aS||this.wO.id||this.h6&&this.h6.id||""}},{key:"JI",get:function(){return this.yO}},{key:"eC",get:function(){return this.wO.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.wO.kind||Jm.HU}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,void 0!==this.h6&&(this.h6.label=t),this.So(new _g(this)))}},{key:"bs",get:function(){return this.wO.language||""}},{key:"Qk",get:function(){return this.Yo},set:function(t){var i=this.Qk;this.Yo=Xm(t),this.o6();var n=this.Qk;i!==n&&this.So(new wg(this)),n!==zm.Nh&&this.a6(Dg.LOADING)}},{key:"u6",get:function(){return Xm(this.wO.mode)},set:function(t){this.wO.mode=t}},{key:"AO",get:function(){return this.wO}},{key:"AP",get:function(){return this.o5}},{key:"c6",get:function(){return this.h6?Number(this.h6.readyState)||Dg.NONE:Dg.LOADED}},{key:"rC",get:function(){return this.B5}},{key:"Km",get:function(){return this.Vp},set:function(t){this.Vp!==t&&(this.Vp=t,this.So(new XP(this)))}},{key:"EU",get:function(){return this.QU},set:function(t){if(this.QU!==t){this.QU=t;for(var i,n=Lt(this.A5);!(i=n()).done;){i.value.q5()}}}},{key:"d6",get:function(){return this.l6},set:function(t){var i=this;this.l6=t,t&&(this.f6=!0,w(function(){i.f6=!1},50)),this.o6()}}]),i}(th);function GD(t){return null==t?void 0:t.THEOplayerTextTrackCue}U(),Et(),Pt(),U(),Et(),Ft();function jD(t,i){return Bn(t.YF,i.YF)||function(t,i){return t.Ht===i.Ht?xn(UP(t),UP(i)):ay(t.Ht,i.Ht)}(t.PO,i.PO)||function(t,i){return t===i?Nn.rh:t===Ug.QL?Nn.Ug:Nn.Fg}(t.type,i.type)}var QD=function(){function t(t,i){var n=this;this.oa=void 0,this.q6=void 0,this.Gl=[],this.x6=0,this.En=0,this.k6=[],this.U6=[],this.P6=[],this.I6=!1,this.C6=!1,this.R6=0,this.z6=function(){n.x6=0,n.j6(),n.H6()},this.Q6=function(){n.j6(),n.H6()},this.K6=function(){n.I6=!0,n.Q6()},this.Y6=function(){n.C6=!0,n.R6=0,n.E6()},this.D6=function(){n.N6(),n.j6(),n.H6()},this.L6=function(t){var i=t.PO;jn(n.U6,i)||n.U6.push(i),n.X6(i),n.V6()},this.O6=function(t){var i=t.PO;Xn(n.k6,i),Xn(n.U6,i),n.X6(i),n.V6()},this.F6=function(t){var i=t.PO;n.X6(i),n.V6()},this.q6=i,this.oa=t,t.wn(eh.py,this.Q6),t.wn(eh.uo,this.K6),t.wn(Ry.PM,this.Q6),t.wn(eh.jw,this.Q6),t.wn(eh.$w,this.Y6),t.wn(eh.Zw,this.Q6),this.V6()}var i=t.prototype;return i.hr=function(){Yn(this.k6);for(var t,i=Lt(this.Gl.slice());!(t=i()).done;){var n=t.value;this.it(n)}this.E6(),this.x6=0,this.En=0,Yn(this.P6),this.I6=!1,this.C6=!1,this.R6=0},i.tt=function(t){jn(this.Gl,t)||(this.Gl.push(t),t.wn(Nw.pa,this.D6),t.Qk!==zm.Nh&&this.N6())},i.it=function(t){Xn(this.Gl,t)&&(t.mn(Nw.pa,this.D6),t.Qk!==zm.Nh&&this.N6())},i.N6=function(){var t=this.P6,i=this.Gl.filter(function(t){return t.Qk!==zm.Nh});this.P6=i;for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;jn(i,e)||this.B6(e)}for(var s,u=Lt(i);!(s=u()).done;){var o=s.value;jn(t,o)||this.M6(o)}this.R6=0},i.M6=function(t){if(t.wn(Nw.uI,this.L6),t.wn(Nw.dI,this.O6),t.wn(Nw.fI,this.F6),t.L.V>0){for(var i,n=Lt(t.L.NI);!(i=n()).done;){var r=i.value;this.U6.push(r)}this.V6()}},i.B6=function(t){if(t.mn(Nw.uI,this.L6),t.mn(Nw.dI,this.O6),t.mn(Nw.fI,this.F6),t.L.V>0){for(var i,n=Lt(t.L.NI);!(i=n()).done;){var r=i.value;Xn(this.k6,r),Xn(this.U6,r)}this.V6()}},i.H6=function(){this.oa.xP||this.oa.lP?this.E6():this.V6()},i.V6=function(){this.I6&&0!==this.P6.length&&(this.R6-this.oa.zx>.25*this.oa.vP||this.x6||(this.x6=this.q6.W6(this.z6)))},i.E6=function(){this.x6&&(this.q6.G6(this.x6),this.x6=0)},i.X6=function(t){var i;if(0!==this.R6){var n,r=null!=(n=null==(i=t.Ht)?void 0:i.EU)?n:0,e=t.CO+r,s=t.RO+r,u=this.oa.zx,o=e<=u&&u<s;t.ro!==o?this.R6=0:this.En<e&&e<this.R6?this.R6=e:this.En<s&&s<this.R6&&(this.R6=s)}},i.j6=function(){if(this.I6&&0!==this.P6.length&&!this.oa.xP){var t=this.P6,i=this.En,n=this.oa.zx,r=n-i<-.1,e=this.C6||r;e&&n>i&&n-i<.1&&(e=!1),this.C6=!1;for(var s,u=[],o=1/0,h=Lt(t);!(s=h()).done;){var a=s.value,c=n-a.EU,f=a.U5(c,e)+a.EU;f<o&&(o=f);for(var v,d=Lt(a.q.NI);!(v=d()).done;){var l=v.value;u.push(l)}}var w=this.k6.slice();if(e);else for(var g,_=Lt(t);!(g=_()).done;){var m=g.value;hy(m,i-m.EU-ve,n-m.EU,w)}for(var y=w.length-1;y>=0;y--)jn(u,w[y])&&qn(w,y);var p=[];if(!e)for(var k=w.length-1;k>=0;k--){var A=w[k],T=A.Ht.EU;A.CO+T>i&&A.RO+T<=n&&(p.push(A),qn(w,k))}for(var S,E=Lt(this.U6);!(S=E()).done;){var I=S.value;I.CO!==I.RO&&Xn(p,I)}Yn(this.U6);for(var R,C=[],P=[],D=Lt(p);!(R=D()).done;){var N=R.value;N.ro||C.push(new JP(N,N.CO)),C.push(new $P(N,b.max(N.CO,N.RO))),N.ro=!1}for(var x,B=Lt(w);!(x=B()).done;){var O=x.value;O.ro&&(C.push(new $P(O,b.max(O.CO,O.RO))),O.ro=!1)}for(var M,L=Lt(u);!(M=L()).done;){var F=M.value;F.ro||(C.push(new JP(F,F.CO)),F.ro=!0)}C.sort(jD);for(var U,V=Lt(C);!(U=V()).done;){var H=U.value,W=H.PO;W.So(H);var z=W.Ht;z&&(H.type===Ug.QL?z.So(new iD(W)):z.So(new rD(W)),jn(P,z)||P.push(z))}P.sort(ay);for(var X,q=Lt(P);!(X=q()).done;){var G=X.value;G.So(new uD(G))}this.En=n,this.k6=u,this.R6=o}},i.kn=function(){this.hr(),this.oa.mn(eh.py,this.Q6),this.oa.mn(eh.uo,this.K6),this.oa.mn(Ry.PM,this.Q6),this.oa.mn(eh.jw,this.Q6),this.oa.mn(eh.$w,this.Y6),this.oa.mn(eh.Zw,this.Q6)},t}();U(),Et();var YD=function(){function t(){}var i=t.prototype;return i.W6=function(t){return uI(t)},i.G6=function(t){oI(t)},t}(),KD=new YD,JD=function(t){function i(i,n){return void 0===n&&(n=KD),t.call(this,i,n)||this}return Ct(i,t),i}(QD);U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var ZD=function(t){function i(i,n,r){return t.call(this,i,1/0,n,!1,r)||this}return Ct(i,t),i.prototype.KO=function(t){return dD(this,t)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=gD(this)),this.hu}}]),i}(Jg);U(),Et(),Pt(),U(),Et(),Pt();var $D=function(t){function i(i,n,r){return void 0===r&&(r=Ng.DEFAULT),t.call(this,Jm.zU,"",n||"","",!1,r,!1,i)||this}return Ct(i,t),i}(KP),tN=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).Km=Ng.ID3,r}Ct(i,t);var n=i.prototype;return n.nV=function(i){lD(i,this.A5),t.prototype.nV.call(this,i)},n.xa=function(){return jm(this)},i}($D),iN=function(t){function i(i){var n;return(n=t.call(this,i.inBandMetadataTrackDispatchType,i.label)||this).wO=void 0,n._6=0,n.v6=function(){n.Qk!==zm.Nh&&(n.b6(),n.a6(Dg.LOADED))},n.wO=i,n.wO.addEventListener("cuechange",n.v6),n.Qk=n.u6,pr(function(){n.v6()}),n}Ct(i,t);var n=i.prototype;return n.R5=function(i){t.prototype.R5.call(this,i),this.u6=this.Qk},n.nV=function(i){t.prototype.nV.call(this,i),i.W5.track!==this.wO&&this.wO.addCue(i.W5)},n.XU=function(i){t.prototype.XU.call(this,i),i.W5.track===this.wO&&this.wO.removeCue(i.W5)},n.jU=function(t){this._6>=t||(this._6=t,fy(this,t))},n.a6=function(t){this.AP=b.max(this.AP,t)},n.b6=function(){var t=this.wO.cues;if(t){for(var i=t.length,n=[],r=[],e=0;e<i;e++){var s,u=null!=(s=t[e])?s:t.item(e);if(WD(u)&&u.endTime>=this._6){var o,h=null!=(o=null==u?void 0:u.THEOplayerTextTrackCue)?o:new nN(u);n.push(h)}else r.push(u)}yn(n,OP);for(var a,c=VP(this.L.NI.slice(),n),f=Lt(r);!(a=f()).done;){var v=a.value;this.wO.removeCue(v)}for(var d,l=Lt(c.b5);!(d=l()).done;){var w=d.value;w.kn(),this.XU(w)}for(var g,_=Lt(c.y5);!(g=_()).done;){var m=g.value;this.nV(m)}}},n.kn=function(){this.wO.removeEventListener("cuechange",this.v6),t.prototype.kn.call(this)},Nt(i,[{key:"o",get:function(){return this.wO.id||""}},{key:"eC",get:function(){return this.wO.inBandMetadataTrackDispatchType||""}},{key:"bs",get:function(){return this.wO.language||""}},{key:"u6",get:function(){return Xm(this.wO.mode)},set:function(t){this.wO.mode=t}},{key:"AO",get:function(){return this.wO}}]),i}(tN),nN=function(t){function i(i){var n,r=i.startTime,e=XD(i.value);return(n=t.call(this,r,e,i.id)||this).W5=void 0,n.W5=i,n.W5.THEOplayerTextTrackCue=n,n}return Ct(i,t),i.prototype.kn=function(){t.prototype.kn.call(this),this.W5.THEOplayerTextTrackCue=void 0},i}(ZD);U(),Et(),Wt(),xt(),Pt(),H(),ct(),Ft(),Qt(),U(),Et(),jt(),U(),Et();var rN=[eh.xw,eh.Ew,eh.yy,eh.Ay,eh.LICENSE_REQUEST_GENERATED];U(),Et(),xt(),Pt();var eN=function(t){function i(i){var n;return(n=t.call(this,eh.Ew)||this).errorObject=void 0,n.errorObject=i,n}return Ct(i,t),Nt(i,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),i}(rh);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),H(),Qt(),U(),Et(),Pt();var sN=function(t){function i(i){var n;return(n=t.call(this,eh.xw)||this).J6=void 0,n.J6=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var uN=function(t){function i(i){var n;return(n=t.call(this,"by")||this).J6=void 0,n.J6=i,n}return Ct(i,t),i}(rh),oN=new bd,hN=function(t){function i(i){var n;return(n=t.call(this,"Xs")||this).session=void 0,n.session=i,n}return Ct(i,t),i}(rh),aN=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).r8=void 0,e.s8=void 0,e.n8=void 0,e.i8=void 0,e.c8=void 0,e.hT=void 0,e.h8=void 0,e.t8=void 0,e.SS=void 0,e.a8=void 0,e.u8=void 0,e.r8=i,e.s8=n,e.n8=r,e.i8=!1,e.c8=!1,e.hT=new hr,e.t8=!1,e.SS=function(t){if(!e.hT.Yg.Hg)switch(t.Ry){case"license-request":case"license-renewal":e.hH(t.Iy,t.Dy).catch(function(t){return e.Ts(t)});break;default:e.Ts(new ug(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Ry))}},e.a8=function(t){e.r8.xy.Xy(function(t,i){switch(t){case"usable":Ui.Og(function(){e.c8=!0,e.So(new sN(i))},100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.So(new uN(i))}}),e.t8=!0,e.So(t)},e.u8=function(t){e.Ts(new ug(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.wn("Iy",e.SS),i.wn(eh.Ay,e.a8),i.wn("lt",e.u8),i.uS.then(function(){return e.o8()},function(t){return e.Ts(t)}),e}Ct(i,t);var n=i.prototype;return n.gS=function(){var t=this;return this.i8=!0,oN.Zo(function(i){return t.e8(i)},this.hT.Yg)},n.e8=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),dr(t),[4,this.s8.$V(t)];case 1:return s.sent(),[4,this.s8.tH(this.n8.Jm,this.n8.Py,t)];case 2:return i=s.sent(),[4,this.r8.gS(this.n8.Jm,this.n8.Py,i)];case 3:return s.sent(),[3,5];case 4:throw lr(n=s.sent()),r=V(n,Xa)?n.Zy:void 0,e=new ug(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",n,void 0,void 0,void 0,void 0,r),this.Ts(e),e;case 5:return[2]}})}).call(this)},n.hH=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),function(t){return Ca(t,Ha())}(t)?[4,this.s8._H(new E(t),this.hT.Yg)]:[3,2];case 1:return n=h.sent(),[3,4];case 2:return[4,this.s8.gH(new E(t),i,this.hT.Yg)];case 3:n=h.sent(),h.label=4;case 4:return[3,6];case 5:if(vr(r=h.sent()))return[2];throw r;case 6:if(this.hT.Yg.Hg)return[2];e=this.h8,s=new Va,this.h8=s,h.label=7;case 7:return h.trys.push([7,10,11,14]),[4,this.r8.er(n)];case 8:return h.sent(),[4,Ar(100)];case 9:return h.sent(),[3,14];case 10:throw u=h.sent(),o=V(u,Xa)?u.Zy:void 0,new ug(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u,void 0,void 0,void 0,void 0,o);case 11:return void 0===e?[3,13]:[4,e.Yy];case 12:h.sent(),h.label=13;case 13:return s.Qy(),this.h8===s&&(this.h8=void 0),[7];case 14:return[2]}})}).call(this)},n.Ts=function(t){var i=V(t,ug)?t:new ug(vd.CONTENT_PROTECTION_ERROR,t.message,t);this.So(new eN(i)),this.Xs()},n.o8=function(){this.r8.mn("Iy",this.SS),this.r8.mn(eh.Ay,this.a8),this.r8.mn("lt",this.u8),this.c8=!1,this.t8=!1,this.hT.Zg(),this.So(new hN(this))},n.Xs=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:this.Vo(),i.label=1;case 1:return void 0===(t=this.h8)?[3,3]:[4,t.Yy];case 2:i.sent(),i.label=3;case 3:if(this.h8!==t)return[3,1];i.label=4;case 4:return this.o8(),[4,this.r8.Xs().catch(dn)];case 5:return i.sent(),[2]}})}).call(this)},Nt(i,[{key:"Z6",get:function(){return this.t8}}]),i}(th),cN=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).yS=void 0,e.ES=void 0,e.f8=void 0,e.l8=[],e._8=void 0,e.m8=[],e.S8=void 0,e.w8=function(t){if(t.type===eh.Ay)return null!=e.S8||(e.S8=new Ua),t.xy.Xy(function(t,i){e.S8.Gy(i,t)}),void(e.d8&&e.So(new oh(e.S8)));e.Rs(t)},e.y8=function(t){t.session.mn(rN,e.Rs),t.session.mn("Xs",e.y8),Xn(e.l8,t.session),e.S8=void 0},e.yS=i,e.ES=n,e.f8=r,e}Ct(i,t);var n=i.prototype;return n.ZV=function(){return this.f8.ZV()},n.v8=function(t){return this._8||(this._8=this.g8(t)),this._8},n.g8=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.f8._H(new E(Ha()),t)];case 1:if(i=n.sent(),dr(t),!this.ES)throw new y("Invalid MediaKeys when setting ServerCertificate");return[4,this.ES.PS(i.buffer)];case 2:return n.sent(),[2]}})}).call(this)},n.p8=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:if(!this.ES)throw new y("Invalid MediaKeys when creating KeySession");r.label=1;case 1:return r.trys.push([1,,3,4]),this.m8.push(t),[4,this.ES.kS("temporary")];case 2:return i=r.sent(),n=new aN(i,this.f8,t),this.l8.push(n),n.wn(rN,this.w8),n.wn("Xs",this.y8),[2,n];case 3:return Xn(this.m8,t),[7];case 4:return[2]}})}).call(this)},n.b8=function(t){if(t.A8)return!1;for(var i,n=Lt(this.l8);!(i=n()).done;){if(fN(i.value.n8,t))return!0}for(var r,e=Lt(this.m8);!(r=e()).done;){if(fN(r.value,t))return!0}return!1},n.kn=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.ES=void 0,this.Vo(),t=this.l8.slice(),Yn(this.l8),[4,ut.all(t.map(function(t){return t.Xs()}))];case 1:return i.sent(),this.S8=void 0,this.f8.zg(),[2]}})}).call(this)},Nt(i,[{key:"xS",get:function(){return this.yS}},{key:"d8",get:function(){return this.l8.every(function(t){return t.Z6})}}]),i}(th);function fN(t,i){if(t.A8)return!1;if(t.Jm!==i.Jm)return!1;if(Ca(t.Py,i.Py))return!0;if("sinf"===t.Jm&&"sinf"===i.Jm){var n=vN(t),r=vN(t);if(n&&r)return Pa(n,r)}return!1}function vN(t){try{var i=fa(_a(new E(t.Py)),new Ta),n=JSON.parse(i).sinf[0],r=new E(Oa(n)),e=new vm(_a(r),new Ta);return km.cB(e).SB.kB.PB}catch(t){return}}var dN=function(t){function i(i){var n;return(n=t.call(this)||this).PL=void 0,n.hT=new hr,n.ta=new bd,n.ZS=void 0,n.f8=void 0,n.aq=void 0,n.yS=void 0,n.U8=function(t){n.I8(t.Jm,t.Py,n.hT.Yg).catch(function(t){return n.Ts(t)})},n.PL=i,n.PL.wn(fh.Dw,n.U8),n}Ct(i,t);var n=i.prototype;return n.Un=function(t,i){this.aq=t,this.RZ(i)},n.RZ=function(t){this.ZS=t,this.k8(this.hT.Yg).catch(wr)},n.NZ=function(t){this.E8(t,this.hT.Yg).catch(wr)},n.E8=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:if(r=function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:if(r=h.value,void 0===(null==(s=Fn(t,function(t){return t.x8===r.xS.$m}))?void 0:s.P8))return[2,"continue"];if(null==(e=r.OW)?void 0:e.some(function(t){return Ca(s.P8,t)}))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.I8(r.xS.Jm,s.P8,i)];case 2:return u.sent(),[2,{v:void 0}];case 3:return lr(u.sent()),[3,4];case 4:return[2]}})},dr(i),!(null==(e=this.ZS)?void 0:e.fq))return[2];o=Lt(null!=(u=null==(s=this.ZS)?void 0:s.fq)?u:[]),c.label=1;case 1:return(h=o()).done?[3,4]:(n=this,[5,Xt(r())]);case 2:if("object"===W(a=c.sent()))return[2,a.v];c.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},n.k8=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return Ui.Zs.gp?[4,this.C8(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return this.ZS&&this.ZS.D8?[4,this.N8(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}})}).call(this)},n.C8=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:if(!(null==(i=this.ZS)?void 0:i.fq))return[2,!1];r=!1,s=Lt(null!=(e=null==(n=this.ZS)?void 0:n.fq)?e:[]),l.label=1;case 1:if((u=s()).done)return[3,14];if(!(o=u.value).UW||0===o.UW.length)return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),h={kids:o.UW.map(function(t){return t.id})},a=da(JSON.stringify(h)).buffer,[4,this.I8(ao,a,t)];case 3:return l.sent(),r=!0,[3,5];case 4:return lr(l.sent()),[3,5];case 5:if(r)return[2,!0];l.label=6;case 6:f=Lt(null!=(c=o.OW)?c:[]),l.label=7;case 7:if((v=f()).done)return[3,12];d=v.value,l.label=8;case 8:return l.trys.push([8,10,,11]),[4,this.I8(o.xS.Jm,d,t)];case 9:return l.sent(),r=!0,[3,11];case 10:return lr(l.sent()),[3,11];case 11:return[3,7];case 12:if(r)return[2,!0];l.label=13;case 13:return[3,1];case 14:return[2,!1]}})}).call(this)},n.B8=function(t){return t===uo||t===ho||t===oo||t===ao},n.I8=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v,d,l;return zt(this,function(w){switch(w.label){case 0:if(dr(n),!i.byteLength)return[2];if(!this.ZS||!this.ZS.fq.length)throw new ug(vd.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(!this.B8(t))return[2];r=Dp(t,i),e=this.ZS.fq,u=[],o=Lt(e),w.label=1;case 1:if((h=o()).done)return[3,11];if(a=h.value,dr(n),!(c=r[a.xS.Zm])||a.xS.Jm!==t)return a.xS.Km===Eo.Xm&&u.push(!1),[3,10];w.label=2;case 2:return w.trys.push([2,9,,10]),[4,this.M8(a,n)];case 3:return(f=w.sent()).ZV()?[4,f.v8()]:[3,5];case 4:w.sent(),w.label=5;case 5:return v=this.PL.sP,d={Jm:a.xS.Jm,Py:c,A8:v},u.push(!0),this.L8(f,d)?[4,f.p8(d)]:[3,8];case 6:return[4,w.sent().gS()];case 7:w.sent(),this.So(new hh(c)),w.label=8;case 8:return[2];case 9:return lr(l=w.sent()),s=l,[3,10];case 10:return[3,1];case 11:return 0===u.length||u.some(ln)?[4,Ui._m()]:[2];case 12:throw w.sent()?new ug(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new ug(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}})}).call(this)},n.N8=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(!(n=null==(i=this.ZS)?void 0:i.fq))return[2];r=Lt(n),o.label=1;case 1:if((e=r()).done)return[3,8];s=e.value,dr(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.M8(s,t)];case 3:return(u=o.sent()).ZV()?[4,u.v8()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return lr(o.sent()),[3,7];case 7:return[3,1];case 8:return[2]}})}).call(this)},n.L8=function(t,i){return Ui.Zs._p||this.PL.ML.BL||!t.b8(i)},n.M8=function(t,i){var n=this;return this.ta.Zo(function(i){return n.O8(t,i)},i)},n.O8=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(dr(i),!this.ZS||!this.f8||!this.aq)throw new y("Not initialized");if(this.yS){if(this.yS.xS!==t.xS)throw new y("Internal key system error");return[2,this.yS]}return n=this.f8,r=Yu({},t,{Vq:t.Vq.map(function(i){var r;return Yu({},i,{persistentState:null!=(r=i.persistentState)?r:n.wH(t.xS),FS:i.FS||n.FS(t.xS)})})}),[4,this.aq.xZ(r.xS,r.Vq)];case 1:return e=o.sent(),s=n.LW(r),(u=new cN(r.xS,e,s)).wn(rN,this.Rs),this.yS=u,[2,u]}})}).call(this)},n.Ts=function(t){if(!vr(t)){var i=V(t,ug)?t:new ug(vd.CONTENT_PROTECTION_ERROR,t.message,t);this.So(new eN(i))}},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.aq=void 0,this.ZS=void 0,this.hT.Zg(),this.hT=new hr,[4,this.F8()];case 1:return t.sent(),[2]}})}).call(this)},n.F8=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,this.ta.Zg()];case 1:return i.sent(),(t=this.yS)?(t.mn(eh.yy,this.Rs),this.yS=void 0,[4,t.kn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})}).call(this)},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.PL.mn(fh.Dw,this.U8),[4,this.hr()];case 1:return t.sent(),[4,this.ta.kn()];case 2:return t.sent(),[2]}})}).call(this)},Nt(i,[{key:"T8",get:function(){var t;return null==(t=this.yS)?void 0:t.xS}},{key:"Rq",get:function(){return this.f8},set:function(t){this.f8=t}}]),i}(th);U(),Et(),Pt();var lN=function(t){function i(i){var n;return(n=t.call(this,eh.Vw)||this).currentTime=void 0,n.currentTime=i,n}return Ct(i,t),i}(rh);U(),Et(),xt(),Pt();var wN=function(t){function i(i){var n;return(n=t.call(this)||this).W8=void 0,n.V8=void 0,n.W8=i,n}Ct(i,t);var n=i.prototype;return n.u5=function(){var t;null==(t=this.V8)||t.u5()},n.hr=function(){var t;null==(t=this.V8)||t.hr()},n.zg=function(){this.Vo(),void 0!==this.V8&&(this.V8.zg(),this.V8=void 0)},n.H8=function(t){if(this.V8!==t){var i=this.AP;void 0!==this.V8&&this.V8.zg(),this.V8=t,void 0!==t&&(t.wn(Ry.AI,this.Rs),t.u5());var n=this.AP;i!==n&&this.So(new Py(this.W8.zx,n))}},Nt(i,[{key:"AP",get:function(){return void 0!==this.V8?this.V8.AP:Dy.zL}}]),i}(th);U(),Et(),xt(),Pt();var gN=function(t){function i(i,n,r){return t.call(this,i,n,"",r,void 0,Ng.WEBVTT)||this}Ct(i,t);var n=i.prototype;return n.q8=function(t,i,n){var r=new $g(t,i,n,!1);return this.nV(r),r},n.z8=function(t){this.XU(t)},Nt(i,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=_N(this)}}]),i}(KP);function _N(t){return Mw(jm(t),{get type(){return t.Km},addCue:function(i,n,r){return t.q8(i,n,r).Ca},removeCue:function(i){t.z8(i.IO)}})}U(),Et(),xt(),Pt(),Ft();var mN=function(t){function i(i,n,r){var e,s;return(e=t.call(this,i,n,r)||this).dE=!1,e.G8=[],e.X8=function(){var t;null==(t=e.h6)||t.removeEventListener("load",e.X8),e.dE=!0;for(var i,n=Lt(e.G8);!(i=n()).done;){var r=i.value;e.nV(r)}Yn(e.G8)},null==(s=e.h6)||s.addEventListener("load",e.X8),e.Km=Ng.WEBVTT,e}Ct(i,t);var n=i.prototype;return n.q8=function(t,i,n){var r=this.m6(new f.VTTCue(t,i,n));return this.dE?this.nV(r):this.G8.push(r),r},n.z8=function(t){Xn(this.G8,t),this.XU(t)},n.kn=function(){var i;t.prototype.kn.call(this),null==(i=this.h6)||i.removeEventListener("load",this.X8),Yn(this.G8)},Nt(i,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=_N(this)}}]),i}(qD);function yN(t,i){return void 0!==t.e4===i.q4.some(function(t){return Wv(t.GT)})&&void 0!==t.s4===i.q4.some(function(t){return zv(t.GT)})}function pN(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(e=t.W9,s=t.q9,"function"!=typeof(null==(r=l)||null==(n=r.mediaCapabilities)?void 0:n.decodingInfo))return[3,4];u={type:"media-source",video:e&&{contentType:e.GT,width:e.Ti,height:e.Mi,bitrate:e.z9,framerate:e.G9},audio:s&&{contentType:s.GT,channels:s.X9,bitrate:s.z9,samplerate:s.j9}},h.label=1;case 1:return h.trys.push([1,3,,4]),[4,l.mediaCapabilities.decodingInfo(u)];case 2:return[2,{H9:(o=h.sent()).supported,Q9:o.smooth,K9:o.powerEfficient}];case 3:return h.sent(),[3,4];case 4:return[2,{H9:(!s||i.isTypeSupported(s.GT))&&(!e||i.isTypeSupported(e.GT)),Q9:void 0,K9:void 0}]}})})()}U(),Et(),Wt(),Qt(),U(),Et(),Wt(),Qt();var kN=.05,bN=Bi.B_||Bi.L_,AN=Bi.Rg,TN=Bi.X_,SN=Bi.X_&&Bi.ru,EN=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).pT=void 0,u.sc=void 0,u.GJ=void 0,u.nq=void 0,u.kz=!0,u.aq=void 0,u.d7=new bd,u.K8=void 0,u.e9=void 0,u.p9=void 0,u.DZ=void 0,u.ha=new tS,u.ea=new nS,u.Gl=void 0,u.Oz=void 0,u.i7=[],u.t7=void 0,u.Y9=void 0,u.J9=void 0,u.Y8=void 0,u.P9=0,u.x9=NaN,u.Q8=void 0,u.U9=!1,u.D9=void 0,u.u7=0,u.Pz=!1,u.r5=!1,u.Z7=Dy.zL,u.s9=0,u.k9=ut.resolve(),u.T9=new hr,u.b9=[],u.Ho=EA.rL(),u.r9=void 0,u.o9=1,u.c9=!1,u.u9=1,u.Z8=!1,u.w7=!1,u.y7=!1,u.C9=!1,u.hw=void 0,u.t9=!1,u.i9=!1,u.j8=!1,u.Q7=!1,u.A7=0,u.N4=void 0,u.d9=!1,u.e7=function(t){var i=t.track,n=u.o7(i);if(!RN(u.t7,i)){if(Bi.X_){if(i.kind===Jm.zU)return void u.r7(i);if(i.kind===Jm.WU&&""===i.label&&""===i.language&&!CN(i))return void u.h7(i,n)}u.t7.tt(new qD(i.id,i,n))}},u.s7=function(t){var i=RN(u.t7,t.track);i&&u.t7.it(i)},u.n7=function(){for(var t=0;t<u.t7.V;t++){var i=u.t7.MI(t);V(i,qD)&&i.g6()}},u.f7=function(){if(void 0!==u.aq&&VR(u.aq)&&!u.lP){var t=u.aq,i=t.e4,n=t.s4;if(i&&n)if(t.jZ)u.g7();else if(t.AP!==_P.S3){var r=i.Fx,e=n.Fx;if(0!==r.V||0!==e.V){var s=u.zx;if(s<r.Tn(0)||s<e.Tn(0))u.g7();else if(r.Cr(s)!==e.Cr(s)){if(t.JZ(s))return;u._7()}else{if(u.g7(),!u.A7&&u.p9.g5())r.WM(e).jM(s,s+.5)&&(u.A7=uI(u.ttt))}}else u.g7()}}},u.ttt=function(){u.A7=0,u.f7()},u.v7=function(){if(!u.xP&&!u.n5&&!(u.e9.AP>=Dy.XL)&&void 0!==u.aq&&VR(u.aq)){var t=u.aq,i=t.e4,n=t.s4;if(i&&n){var r=u.zx,e=i.Fx,s=n.Fx;if(e.Cr(r)&&s.Cr(r))e.WM(s).jM(r-5,r)&&(u.j8?u.g7():u.p7())}}},u.E7=function(){u.So(new fT(u.zx))},u.x7=function(){u.S9(new fr),u.So(new cT(u.zx))},u.k7=function(){u.m9(),u.So(new Ly(u.zx))},u.D7=function(){u.h9()},u.B7=function(){u.So(new vT(u.ct))},u.I7=function(){u.So(new YR(u.zx))},u.C7=function(){u.So(new KR)},u.F7=function(){u.Pz||u.r5||u.U9?u.U9=!1:u.So(new gT(u.zx))},u.U7=function(){u.L9(u.zx),u.U9=!1},u.P7=function(){var t=u.zx,i=u.xP,n=u.e9.AP<Dy.XL&&!u.Qx,r=void 0!==u.D9,e=r&&u.D9!==t;u.a7(),(i||!r||e&&!n)&&u.F9()},u.R7=function(){u.aJ()},u.L7=function(){if(null!==u.pT.error){var t,i=u.pT.error;u.Qq(new hg(null!=(t=i.code)?t:og.DECODE,i.message||"Error decoding media",void 0,i.msExtendedCode))}},u.O7=function(){u.w7&&(u.T7(),u.y7=!0)},u.itt=function(t){if(Ui.Lg(u.s9),u.s9=0,t.readyState<=Dy.GL)if(u.Pz||u.r5){var i=Ui.Mg()-u.P9;if(i<250)return void(u.s9=Ui.Og(function(){return u.itt(t)},250-i))}else if(void 0!==u.aq&&u.aq.JZ(u.zx))return void(u.s9=Ui.Og(function(){return u.itt(t)},250));u.Z7!==t.readyState&&(u.Z7=t.readyState,u.So(t))},u.N7=function(){u.n9()},u.M7=function(){u.MP>0&&u.DP>0&&u.So(new Ey)},u.V7=function(t){u.So(new vh(t.initDataType,t.initData||new ArrayBuffer(0)))},u.H7=function(){u.So(new dh)},u.z7=function(t){var i=t.initData,n=i?ba(i).buffer:new ArrayBuffer(0);u.So(new vh(uo,n))},u.W7=function(t){var i=t.initData;if(i){var n=function(t){try{var i=_a(t),n=new Ta;return oa(ha(Fh(i,n,qh(i,n,!0)),!0))}catch(t){return}}(i);if(!n)return;u.So(new vh(ho,n.buffer))}else u.So(new vh(ho,new ArrayBuffer(0)))},u.q7=function(t){var i=t.initData,n=i?ba(i).buffer:new ArrayBuffer(0);u.So(new vh(uo,n))},u._9=function(){u.m9()},u.g9=function(t){u.S9(t)},u.ett=function(t){u.So(t),t.type===eh.Ew&&u.Qq(cg(t.errorObject))},u.pT=i,u.hw=n,u.sc=r,u.Oz=e,u.GJ=s,u.e9=new wN(u),u.e9.wn(Ry.AI,u.itt),u.e9.H8(new IP(u)),u.p9=new NP(u),u.p9.wn(Ry.PM,u.k7),u.DZ=new dN(u),u.DZ.wn(rN,u.ett),u.Gl=new Km,u.t7=new Km,u.Y9=new Rb([u.Gl,u.t7]),u.J9=new JD(u),u.b7(),u.Hq(),u}Ct(i,t);var n=i.prototype;return n.J8=function(){return void 0!==this.Y8&&this.ct===this.Y8},n.h9=function(){var t=this.vP;this.o9!==t&&(this.o9=t,this.So(new dT(this.zx,t)))},n.n9=function(){var t=this.OP,i=this.oP;this.u9===t&&this.c9===i||(this.u9=t,this.c9=i,this.So(new _T(this.zx,this.OP)))},n.hP=function(){return mR(this.pT)},n.QP=function(){this.d9||(this.d9=!0);var t=this.l9();return this.f9(),t},n.f9=function(){this.t9?this.i9&&(this.i9=!1,this.So(new fT(this.zx))):this.v9()},n.v9=function(){if(this.K8)this.K8.QP();else{Bi.X_&&!Bi.ru&&this.pT.preload===YT.pz&&(this.pT.preload=YT.zU);var t=this.vP,i=this.pT.play();t!==this.hq.playbackRate&&(this.vP=t),this.Z8=!1,Gi(i)?i.then(this._9,this.g9):this.p9.g5()&&this.m9()}},n.jP=function(){this.t9?this.i9||(this.i9=!0,this.So(new cT(this.zx))):this.w9()},n.w9=function(){this.K8?this.K8.jP():(this.pT.pause(),this.p9.er()),this.y9(new fr)},n.l9=function(){var t=new Va;return this.b9.push(t),t.Yy},n.A9=function(){for(var t,i=Lt(this.b9);!(t=i()).done;){t.value.Qy(void 0)}Yn(this.b9)},n.y9=function(t){for(var i,n=Lt(this.b9);!(i=n()).done;){i.value.Ky(t)}Yn(this.b9)},n.m9=function(){this.t9||this.K8||this.A9()},n.S9=function(t){this.t9||this.K8||this.y9(t)},n.Oy=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),this.K8?this.K8.Oy(t,i,n):(this.T9.Zg(),this.T9=new hr,this.k9=_r(this.E9(t,i,n,this.k9,this.T9.Yg),this.T9).catch(dn))},n.$W=function(t){var i=this.uq;if(i&&!S(i.getTime())){var n=(t.getTime()-i.getTime())/1e3;this.Oy(n)}},n.E9=function(t,i,n,r,e){return Vt(function(){var s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,A;return zt(this,function(T){switch(T.label){case 0:return T.trys.push([0,24,,25]),this.Y8=t,this.x9=t,this.P9=Ui.Mg(),n&&!this.Pz?this.r5=!0:(this.Pz=!0,this.r5=!1),this.Z8&&!this.J8()&&(this.Z8=!1),this.r5?(this.So(new pP(this.zx)),(Bi.w_||Bi.S_)&&(t+=kN)):this.So(new wT(t)),[4,r.catch(dn)];case 1:return T.sent(),dr(e),this.aq&&!this.aq.ZZ()?(this.I9(),[2]):(this.C9&&this.R9(),this.e9.AP!==Dy.zL?[3,3]:[4,this.e9.ww(Ry.AI,e)]);case 2:T.sent(),T.label=3;case 3:if(!(0===this.pT.seekable.length||Bi.X_&&this.pT.seekable.end(0)===1/0||SN&&!this.d9))return[3,9];s={stack:[],error:void 0,hasError:!1},T.label=4;case 4:return T.trys.push([4,6,7,8]),void 0!==this.D9&&0===this.pT.seekable.length?(this.I9(),[2]):(u=qt(s,hr.ep([e]),!1),[4,ut.race([ew(this.pT,"timeupdate",u.Yg),Ar(100,u.Yg)])]);case 5:return T.sent(),dr(e),[3,8];case 6:return o=T.sent(),s.error=o,s.hasError=!0,[3,8];case 7:return Gt(s),[7];case 8:return[3,3];case 9:h=cP(this.Fx,t,kN),a=this.kP,c=!0,f=!1,T.label=10;case 10:0,v={stack:[],error:void 0,hasError:!1},T.label=11;case 11:return T.trys.push([11,20,21,22]),(a=this.kP).V>0&&!a.Cr(h)&&((l=a.LM(h))===a.An(0)&&Bi.X_&&this.ct===1/0&&function(t){return(null==t?void 0:t.Cd.Km)===Iy.AV}(this.aq)&&a.Cr(l-kN)&&(l-=kN),h=l,c=!0),!i||!Ui.Zs.Dp&&this.pT.fastSeek||(w=this.Fx).Cr(h)||(g=cP(w,h,1))!==h&&(h=g,c=!0),TN&&void 0!==(_=this.N9())&&h>_&&(h=_,c=!0),f?[3,14]:void 0!==(m=this.B9())&&h>m?(f=!0,[4,this.M9(m,!1,e)]):[3,14];case 12:return T.sent(),[4,ew(this.pT,"seeked",e)];case 13:T.sent(),dr(e),c=!0,T.label=14;case 14:return c?(c=!1,[4,this.M9(h,i,e)]):[3,18];case 15:T.sent(),dr(e),y=this.zx,a=this.kP,h=a.LM(h),p=1,T.label=16;case 16:return b.abs(h-y)>=ve?(a=this.kP,h=function(t,i,n){void 0===n&&(n=0);if(!i.V)return 0;var r=i.LM(t),e=IN*n;r===i.Tn(0)?r+=e:r===i.An(i.V-1)&&(r-=e);return r}(h,a,p),[4,this.M9(h,i,e)]):[3,18];case 17:return T.sent(),dr(e),y=this.zx,p++,[3,16];case 18:return this.pT.seeking||this.e9.AP<Dy.GL?(k=qt(v,hr.ep([e]),!1),[4,ut.race([ew(this.pT,"seeked",k.Yg),this.ww([eh.Qw,eh.Cw],k.Yg),this.e9.ww(Ry.AI,k.Yg),null==(d=this.aq)?void 0:d.ww(qR.bZ,k.Yg)].filter(Li))]):[3,23];case 19:return T.sent(),dr(e),[3,22];case 20:return A=T.sent(),v.error=A,v.hasError=!0,[3,22];case 21:return Gt(v),[7];case 22:return[3,10];case 23:return this.I9(),[3,25];case 24:return vr(T.sent())?[2]:[3,25];case 25:return[2]}})}).call(this)},n.M9=function(t,i,n){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:if(dr(n),r=this.kP,t=r.LM(t),!this.C9)return[3,8];e=!0,a.label=1;case 1:if(!(e||this.e9.AP<Dy.XL))return[3,7];s={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,4,5,6]),(r=this.kP).Cr(t)||(t=r.LM(t),e=!0),e?(e=!1,this.Y8=t,this.L9(this.zx),[3,1]):(u=qt(s,hr.ep([n]),!1),[4,ut.race([this.ww(eh.Cw,u.Yg),this.e9.ww(Ry.AI,u.Yg)])]);case 3:return a.sent(),[3,6];case 4:return o=a.sent(),s.error=o,s.hasError=!0,[3,6];case 5:return Gt(s),[7];case 6:return[3,1];case 7:dr(n),a.label=8;case 8:return h=ew(this.pT,"seeking",n),i&&!Ui.Zs.Dp&&this.pT.fastSeek?this.pT.fastSeek(t):this.pT.currentTime=t,this.Y8=void 0,this.L9(this.zx),this.pT.seeking?[4,h]:[3,10];case 9:a.sent(),a.label=10;case 10:return[2]}})}).call(this)},n.N9=function(){if(this.aq&&this.aq.jZ){var t=this.aq.QZ,i=this.aq.KZ,n=t&&i?t.Mn(i):t||i;if(n&&0!==n.V){var r=n.Tn(n.V-1),e=n.An(n.V-1);return b.max(r,e-.001)}}},n.B9=function(){if(this.aq&&this.aq.jZ){var t=this.aq.KZ;if(t&&0!==t.V){var i=t.Tn(t.V-1),n=t.An(t.V-1)-.02;return n-=.001,b.max(i,n)}}},n.L9=function(t){this.x9!==t&&(this.x9=t,this.r5?this.So(new pP(t)):this.So(new wT(t)))},n.I9=function(){var t=this.r5;this.Pz=!1,this.r5=!1,this.Y8=void 0,this.P9=0,this.x9=NaN,this.C9&&this.O9(),t?(this.So(new lN(this.zx)),this.F9()):(this.So(new gT(this.zx)),this.U9=!0),this.aJ()},n.R9=function(){this.t9||(this.i9=this.lP,this.t9=!0,this.w9())},n.O9=function(){this.t9&&(this.t9=!1,this.i9||this.f9())},n.$Z=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(r.Km===Iy.AV&&QR.$Z(r,this.pT))return r;if(r.Km===Iy.SV&&mP.$Z(r))return r}},n.V9=function(t){return Vt(function(){var i;return zt(this,function(n){return t.Km!==Iy.SV?[2,{H9:!1}]:(i=Pe(!0))?[2,pN(t,i)]:[2,{H9:!1}]})})()},n.we=function(){this.kz=!1,Sr(this.pT)&&(this.pT.style.display="none")},n.be=function(){this.kz=!0,Sr(this.pT)&&(this.pT.style.display="block")},n.sI=function(t,i,n,r,e,s,u,o,h){var a=new KP(t,i,n,r,e,s,u,h,o);return this.Gl.tt(a),this.J9.tt(a),a},n.Tq=function(t){var i=t.Lt,n=t.Th,r=t.bs;if("function"==typeof this.pT.addTextTrack&&"function"==typeof f.VTTCue){var e=this.Z9("data:text/vtt,WEBVTT%0A%0A",i,n,r),s=e.track,u=new mN(s.label,s,e);return this.t7.tt(u),this.i7.push(u),u}var o=new gN(i,n,r);return this.Gl.tt(o),this.J9.tt(o),o},n.wq=function(){return!0},n.bq=function(t,i,n,r,e){var s=this.Z9(t,i,n,r,e),u=s.track,o=new qD(u.label,u,s);return this.t7.tt(o),this.i7.push(o),o},n.Z9=function(t,i,n,r,e){var s=v.createElement("track");return s.src=Rl(t),s.kind=i,s.label=null!=n?n:"",r&&(s.srclang=r),s.default=Boolean(e),this.pT.appendChild(s),s},n.rV=function(t){this.Gl.it(t),this.J9.it(t)},n.Eq=function(){for(var t,i=Lt(this.Gl.NI.slice());!(t=i()).done;){t.value.kn()}this.Gl.hr();for(var n,r=Lt(this.i7.slice());!(n=r()).done;){var e=n.value;this.t7.it(e),e.kn()}Yn(this.i7)},n.Hq=function(){var t=this.pT.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.e7),t.addEventListener("removetrack",this.s7),t.addEventListener("change",this.n7))},n.Iq=function(){var t=this.pT.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.e7),t.removeEventListener("removetrack",this.s7),t.removeEventListener("change",this.n7))},n.r7=function(t){t.mode=zm.iC;var i=new iN(t);this.t7.tt(i),this.J9.tt(i)},n.h7=function(t,i){var n=this,r=function(){CN(t)&&(t.removeEventListener("cuechange",r),n.t7.tt(new qD(t.id,t,i)))};t.addEventListener("cuechange",r),t.mode=zm.iC},n.o7=function(t){for(var i=this.pT.getElementsByTagName("track"),n=0;n<i.length;n++){var r=i[n]||i.item(n);if(r.track===t)return r}},n.a7=function(){if(0!==this.t7.V){var t=this.kP;if(0!==t.V){var i=t.Tn(0);if(this.u7!==i){for(var n,r=Lt(this.t7.NI);!(n=r()).done;){n.value.jU(i)}this.u7=i}}}},n.Un=function(t){var i=this;return this.d7.Zo(function(n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:if(dr(n),this.aq)throw new y("Already loaded a media source");if(t.Km===Iy.AV)i=new QR(t,this,this.DZ,this.hw,this.GJ),this.C9=!1,this.e9.H8(this.l7());else{if(t.Km!==Iy.SV)throw new y("Unsupported configuration");this.C9=bN,r=this.l7(),i=new mP(t,this,r,this.DZ,this.hw,void 0,this.N4,this.GJ),this.e9.H8(r),AN&&(this.wn(eh.py,this.f7),this.e9.wn(Ry.AI,this.v7))}return this.aq=i,[4,i.GY()];case 1:return e.sent(),[2,i]}})}).call(i)})},n.l7=function(){return this.C9?new CP(this):new IP(this)},n._7=function(){if(!this.j8){var t=this.vP;this.j8=!0,this.vP=t,this.pT.playbackRate=0,this.e9&&this.e9.u5()}},n.g7=function(){if(this.j8){var t=this.vP;this.j8=!1,this.vP=t,this.p7()}},n.p7=function(){this.pT.currentTime=this.pT.currentTime,this.e9&&this.e9.u5()},n.m7=function(){this.Pz=!1,this.r5=!1,this.U9=!1,Ui.Lg(this.s9),this.s9=0,this.Ho=EA.rL(),this.T9.Zg(),this.Y8=void 0,this.x9=NaN,this.Q8=void 0,this.C9=!1,this.t9=!1,this.nq=void 0,this.Z8=!1,this.D9=void 0,this.u7=0,this.w7=!1,this.d9=!1,this.y7&&(this.b7(),this.y7=!1),this.y9(new fr),this.e9.H8(new IP(this)),this.p9.hr(),this.t7.hr(),this.g7(),AN&&(oI(this.A7),this.A7=0,this.mn(eh.py,this.f7))},n.hr=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=this,this.m7(),[4,this.d7.Zg()];case 1:return i.sent(),[4,this.d7.Zo(function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.aq?[4,this.aq.zg()]:[3,2];case 1:t.sent(),this.aq=void 0,Bi.w_&&Bi.b_<3&&this.S7(),t.label=2;case 2:return[2]}})}).call(t)})];case 2:return i.sent(),[2]}})}).call(this)},n.F8=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:if(void 0===(t=this.aq)||!VR(t)||void 0!==this.nq)throw new p("Invalid state");return this.m7(),this.pT.pause(),this.pT.currentTime=0,[4,this.d7.Zo(function(){return function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return t.I3(),i=[t.e4,t.s4].filter(Li),[4,ut.all(i.map(function(t){return t.f3(0,1/0)}))];case 1:return n.sent(),t.F4(NaN),[2]}})})()}(t)})];case 1:return i.sent(),[2]}})}).call(this)},n.S7=function(){this.T7();var t=this.pT,i=t.parentElement,n=t.tagName.toLowerCase();this.pT=Pr(n),this.retainMediaElementState(t),Dr(t),null==i||i.replaceChild(this.pT,t),this.b7(),this.e9.H8(this.l7()),this.p9.mn(Ry.PM,this.k7),this.p9.zg(),this.p9=new NP(this),this.p9.wn(Ry.PM,this.k7),this.kz?this.be():this.we(),this.So(new PT),this.So(new DT)},n.retainMediaElementState=function(t){this.hq.muted=t.muted,this.hq.volume=t.volume},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.y7=!1,this.T7(),this.Iq(),[4,this.hr()];case 1:return t.sent(),[4,this.d7.kn()];case 2:return t.sent(),this.p9.zg(),this.e9.zg(),[4,this.DZ.zg()];case 3:return t.sent(),this.Eq(),this.Gl.kn(),this.t7.kn(),this.Y9.kn(),this.Vo(),[2]}})}).call(this)},n.b7=function(){this.hq.addEventListener("play",this.E7),this.hq.addEventListener("pause",this.x7),this.hq.addEventListener("timeupdate",this.P7),this.hq.addEventListener("progress",this.I7),this.hq.addEventListener("loadstart",this.C7),this.hq.addEventListener("ended",this.R7),this.hq.addEventListener("ratechange",this.D7),this.hq.addEventListener("volumechange",this.N7),this.hq.addEventListener("durationchange",this.B7),this.hq.addEventListener("resize",this.M7),this.hq.addEventListener("loadedmetadata",this.M7),this.hq.addEventListener("error",this.L7),this.hq.addEventListener("emptied",this.O7),this.hq.addEventListener("seeked",this.F7),this.hq.addEventListener("seeking",this.U7),Ko()?(this.pT.addEventListener("encrypted",this.V7),this.pT.addEventListener("waitingforkey",this.H7)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this.pT.addEventListener("webkitneedkey",this.W7):Jo()?this.pT.addEventListener("webkitneedkey",this.q7):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this.pT.addEventListener("msneedkey",this.z7)},n.T7=function(){this.hq.removeEventListener("play",this.E7),this.hq.removeEventListener("pause",this.x7),this.hq.removeEventListener("timeupdate",this.P7),this.hq.removeEventListener("progress",this.I7),this.hq.removeEventListener("loadstart",this.C7),this.hq.removeEventListener("ended",this.R7),this.hq.removeEventListener("ratechange",this.D7),this.hq.removeEventListener("volumechange",this.N7),this.hq.removeEventListener("durationchange",this.B7),this.hq.removeEventListener("resize",this.M7),this.hq.removeEventListener("loadedmetadata",this.M7),this.hq.removeEventListener("error",this.L7),this.hq.removeEventListener("encrypted",this.V7),this.hq.removeEventListener("waitingforkey",this.H7),this.hq.removeEventListener("webkitneedkey",this.W7),this.hq.removeEventListener("webkitneedkey",this.q7),this.hq.removeEventListener("msneedkey",this.z7),this.hq.removeEventListener("emptied",this.O7),this.hq.removeEventListener("seeked",this.F7),this.hq.removeEventListener("seeking",this.U7)},n.G7=function(){this.K8||(this.Ho=this.pP,this.K8=AP(this),this.T7(),this.K8.wn(kP,this.Rs))},n.X7=function(){if(this.K8){var t=this.K8;this.K8=void 0,this.e9.u5(),TP(this,t),t.zg(),this.b7()}},n.F9=function(){var t=this.zx;this.So(new bw(t,void 0)),this.D9=t},n.aJ=function(){this.Z8||!this.Qx||this.xP||(this.Z8=!0,this.So(new lT(this.zx)))},n.Qq=function(t){this.nq=t,this.y9(this.nq),this.So(new xP(this.nq))},n.K7=function(){this.Q7||(xr(this.pT,Ui.Zs),this.Q7=!0)},n.Y7=function(t){t.appendChild(this.pT)},n.B3=function(){AN&&this.f7(),this.e9.u5()},n.$P=function(){this.DZ.F8().catch(dn),this.t7.hr()},Nt(i,[{key:"d5",get:function(){return this.j8}},{key:"Fx",get:function(){return this.aq?this.aq.Fx:EA.rL()}},{key:"Vx",get:function(){var t=this.uq;if(t&&!S(t.getTime())){var i=1e3*this.zx;return new Date(t.getTime()+i)}}},{key:"uq",get:function(){if(this.hq.getStartDate)return this.Pz&&this.Q8||(this.Q8=this.hq.getStartDate()),this.Q8}},{key:"zx",get:function(){return this.K8?this.K8.zx:void 0!==this.Y8?this.Y8:this.pT.currentTime}},{key:"Wu",get:function(){return this.sc}},{key:"ct",get:function(){return this.K8?this.K8.ct:this.aq?this.aq.ct:this.pT.duration}},{key:"Qx",get:function(){return this.xP?this.J8():this.K8?this.K8.Qx:this.pT.ended||this.Z8}},{key:"lt",get:function(){return this.nq}},{key:"hq",get:function(){return this.pT}},{key:"lP",get:function(){return this.t9?this.i9:this.K8?this.K8.lP:this.pT.paused}},{key:"pP",get:function(){return this.Ho.HM(EA.jn(this.pT.played))}},{key:"Mi",get:function(){return this.pT.offsetHeight*Ui.Zs.fp}},{key:"Ti",get:function(){return this.pT.offsetWidth*Ui.Zs.fp}},{key:"Ma",get:function(){return this.ha}},{key:"Sq",get:function(){return this.ea}},{key:"AP",get:function(){return this.e9.AP}},{key:"kP",get:function(){return this.aq?this.aq.kP:EA.rL()}},{key:"xP",get:function(){return this.K8?this.K8.xP:this.Pz||this.pT.seeking&&!this.r5}},{key:"n5",get:function(){return this.K8?this.K8.n5:this.r5}},{key:"_5",get:function(){return 0!==this.s9}},{key:"oP",get:function(){return this.K8?this.K8.oP:this.pT.muted},set:function(t){this.K8?this.K8.oP=t:(this.pT.muted=t,this.n9())}},{key:"vP",get:function(){return this.K8?this.K8.vP:void 0!==this.r9?this.r9:this.pT.playbackRate},set:function(t){this.K8?this.K8.vP=t:this.lP||this.j8?(this.r9=t,this.h9()):(this.r9=void 0,this.pT.playbackRate=t,this.h9())}},{key:"a9",get:function(){return this.kz}},{key:"OP",get:function(){return this.K8?this.K8.OP:this.pT.volume},set:function(t){this.K8?this.K8.OP=t:(this.pT.volume=t,this.n9())}},{key:"nt",get:function(){return this.Y9}},{key:"Ql",get:function(){return this.Oz}},{key:"sP",get:function(){return Boolean(this.pT.webkitCurrentPlaybackTargetIsWireless)}},{key:"j7",get:function(){return this.Q7}},{key:"ML",get:function(){return Yu({},FR)}},{key:"Rq",get:function(){return this.DZ.Rq},set:function(t){this.DZ.Rq=t}},{key:"J7",get:function(){return this.N4},set:function(t){this.N4=t}},{key:"T8",get:function(){return this.DZ.T8}},{key:"WP",get:function(){return this.w7},set:function(t){this.w7=t,this.y7&&!this.w7&&(this.y7=!1,this.b7())}}]),i}(th);var IN=.01;function RN(t,i){for(var n,r=Lt(t.NI);!(n=r()).done;){var e=n.value;if(e.AO===i)return e}}function CN(t){return!!t.cues&&t.cues.length>0}U(),Et(),xt(),Pt();var PN={sZ:void 0,nZ:void 0,rZ:void 0,hZ:void 0,oZ:void 0,aZ:void 0,uZ:void 0,cZ:void 0,dZ:void 0,lZ:void 0},DN=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).hu=void 0,i}return Ct(i,t),Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=DR(this)),this.hu}},{key:"sZ",get:function(){}},{key:"nZ",get:function(){}},{key:"rZ",get:function(){}},{key:"hZ",get:function(){}},{key:"oZ",get:function(){}},{key:"aZ",get:function(){}},{key:"stt",get:function(){}},{key:"uZ",get:function(){}},{key:"cZ",get:function(){}},{key:"dZ",get:function(){}},{key:"lZ",get:function(){}}]),i}(th),NN=function(t){function i(i,n,r,e){return t.call(this,i,n,r,new DN,e)||this}return Ct(i,t),i.prototype.zP=function(){},Nt(i,[{key:"DP",get:function(){return 0}},{key:"MP",get:function(){return 0}}]),i}(EN);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt();var xN=function(){function t(t){void 0===t&&(t=5),this.ntt=void 0;var i=f.document.createElement("div");i.className="theoplayer-texttracks",i.style.position="absolute",i.style.display="none",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.width="100%",i.style.height="100%",i.style.lineHeight="1.3em",i.style.zIndex=""+t,this.ntt=i,this.be()}var i=t.prototype;return i.we=function(){this.ntt.style.display="none"},i.be=function(){this.ntt.style.display="block"},i.Y7=function(t){t.appendChild(this.ntt)},i.kn=function(){Zi(this.ntt)},Nt(t,[{key:"xe",get:function(){return this.ntt}}]),t}();function BN(t,i){return Yu({},i,Vw(function(t){return{sZ:t.sZ,nZ:t.nZ,rZ:t.rZ,hZ:t.hZ,oZ:t.oZ,aZ:t.aZ,uZ:t.uZ,cZ:t.cZ,dZ:t.dZ,lZ:t.lZ}}(t)))}function ON(t){return t.rZ&&Uo(t.rZ,"%")?Number(t.rZ.replace("%",""))/100:t.rZ&&Uo(t.rZ,"em")?Number(t.rZ.replace("em","")):1}U(),Et(),xt(),H(),Ft(),U(),Et(),Pt(),Ft(),U(),Et(),xt(),Ft(),U(),Et(),U(),Et(),xt();var MN=function(){function t(t,i,n,r){this.ott=void 0,this.utt=void 0,this.Ti=void 0,this.Mi=void 0,this.ott=t,this.utt=i,this.Ti=n,this.Mi=r}var i=t.prototype;return i.ctt=function(t){return this.ott<t.htt&&this.htt>t.ott&&this.utt<t.att&&this.att>t.utt},i.pO=function(t){return this.ott<=t.ott&&t.htt<=this.htt&&this.utt<=t.utt&&t.att<=this.att},i.Fy=function(){return new t(this.ott,this.utt,this.Ti,this.Mi)},i.dtt=function(i){return new t(this.ott+i,this.utt+i,b.max(0,this.Ti-2*i),b.max(0,this.Mi-2*i))},i.ltt=function(i){var n=b.min(this.ott,i.ott),r=b.max(this.htt,i.htt),e=b.min(this.utt,i.utt);return new t(n,e,r-n,b.max(this.att,i.att)-e)},Nt(t,[{key:"htt",get:function(){return this.ott+this.Ti},set:function(t){this.ott=t-this.Ti}},{key:"att",get:function(){return this.utt+this.Mi},set:function(t){this.utt=t-this.Mi}}]),t}(),LN=function(){function t(t,i,n,r,e){var s=this;this.Ptt=Zu(),this.qtt=!0,this.mtt=void 0,this.ytt=Yu({},PN),this.Gtt=[],this.WO=void 0,this.pT=void 0,this.sc=void 0,this.Ttt=void 0,this.Itt=function(t){return s.nV(t.PO)},this.Ctt=function(t){return s.XU(t.PO)},this.Rtt=function(){return s.Vtt()},this.Btt=function(t){return s.Ftt(t.PO)},this.Mtt=function(t){return s.Utt(t.PO)},this.Ltt=function(t){return s.ztt(t.PO)},this.Att=function(t){return s.oe(t.width,t.height)},this.WO=t,this.Ttt=this.mtt=e,this.pT=this.Ytt(n),this.sc=r,i.appendChild(this.pT)}var i=t.prototype;return i.ftt=function(t){var i=this._tt(t);if(!i)return!1;for(var n,r=Lt(i);!(n=r()).done;){Zi(n.value)}return this.gtt(t),!0},i.GY=function(){var t=this;this.btt(),this.WO.L.NI.forEach(function(i){return t.nV(i)}),this.Wu.wn(fI.yn,this.Att),this.oe(this.Wu.Eu,this.Wu.Iu)},i.Stt=function(t){this.ytt=t,this.mtt=BN(this.ytt,this.Ttt),this.mtt.sZ&&(this.hq.style.fontFamily=this.mtt.sZ),this.oe(this.Wu.Eu,this.Wu.Iu),this.ktt(!0)},i.Ett=function(){return this.mtt},i.xtt=function(t){return this.Ptt.has(t.JI)},i.btt=function(){this.WO.wn(Nw.uI,this.Itt),this.WO.wn(Nw.dI,this.Ctt),this.WO.wn(Nw.pa,this.Rtt)},i.Dtt=function(){this.WO.mn(Nw.uI,this.Itt),this.WO.mn(Nw.dI,this.Ctt),this.WO.mn(Nw.pa,this.Rtt)},i.Ntt=function(t){t.wn(Ug.QL,this.Btt),t.wn(Ug.KL,this.Mtt),t.wn(Ug.xI,this.Ltt)},i.Ott=function(t){t.mn(Ug.QL,this.Btt),t.mn(Ug.KL,this.Mtt),t.mn(Ug.xI,this.Ltt)},i.nV=function(t){this.Ntt(t),t.ro&&this.Ftt(t)},i.XU=function(t){this.Ott(t),this.Utt(t)},i.Vtt=function(){this.WO.Qk===zm.Kn?this.Htt():this.Wtt()},i.Htt=function(){if(this.qtt){this.qtt=!1;var t=this.Wu.Eu,i=this.Wu.Iu;this.oe(t,i),this.ktt(!1)}},i.Wtt=function(){this.qtt||(this.qtt=!0,this.ktt(!0))},i.Ftt=function(t){this.qtt||t.ro&&!this.xtt(t)&&this.ktt(!1)},i.Utt=function(t){this.xtt(t)&&this.ktt(!0)},i.ztt=function(t){(t.ro||this.xtt(t))&&this.ktt(!0)},i.ktt=function(t){var i=this.Gtt,n=this.qtt?[]:this.WO.q.NI.slice();this.Xtt(n,i,t),this.Gtt=n},i._tt=function(t){return this.Ptt.get(t.JI)},i.jtt=function(t,i){this.Ptt.set(t.JI,i)},i.gtt=function(t){this.Ptt.delete(t.JI)},i.Qtt=function(t){var i=[],n=this.mtt;if(void 0!==n.uZ){var r=t.Fy();r.Mi=n.uZ,i.push(r)}if(void 0!==n.cZ){var e=t.Fy();e.Mi=n.cZ,e.att=t.att,i.push(e)}return i},i.Ktt=function(){return this.Gtt.slice()},i.kn=function(){var t=this;Zi(this.hq),this.Ptt.clear(),this.Dtt(),this.WO.L.NI.forEach(function(i){return t.Ott(i)}),this.Wu.mn(fI.yn,this.Att)},Nt(t,[{key:"Ht",get:function(){return this.WO}},{key:"hq",get:function(){return this.pT}},{key:"Wu",get:function(){return this.sc}},{key:"ptt",get:function(){return this.mtt}},{key:"wtt",get:function(){return this.ytt}}]),t}();function FN(t,i,n,r,e){var s=t.Fy(),u=s,o=1,h=!1,a=T(getComputedStyle(i).lineHeight)/4;if(!S(a)&&a>0){for(var c=0;c<n.length&&!h;c++){for(;!zN(t,r,n[c],.01)&&(!r.pO(t)||UN(t,e));)WN(t,n[c],a);if(r.pO(t)){u=t.Fy(),h=!0;break}var f=XN(t,r);o>f&&(u=t.Fy(),o=f),t=s.Fy()}r.pO(t)||(u=s.Fy())}i.style.left=(u.ott-r.ott)/r.Ti*100+"%",i.style.top=(u.utt-r.utt)/r.Mi*100+"%"}function UN(t,i){return i.some(function(i){return t.ctt(i)})}function VN(t){return new MN(t.left,t.top,t.width,t.height)}var HN=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function WN(t,i,n){switch(i){case 0:t.ott+=n;break;case 1:t.ott-=n;break;case 2:t.utt+=n;break;case 3:t.utt-=n}}function zN(t,i,n,r){switch(n){case 0:return t.htt>i.htt+r;case 1:return t.ott<i.ott-r;case 2:return t.att>i.att+r;case 3:return t.utt<i.utt-r}}function XN(t,i){return b.max(0,b.min(t.htt,i.htt)-b.max(t.ott,i.ott))*b.max(0,b.min(t.att,i.att)-b.max(t.utt,i.utt))/(t.Ti*t.Mi)}U(),Et();var qN=function(t){return t.il='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.sl='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.nl='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.rl='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({}),GN=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function jN(t){return YN[t||"none"]}var QN,YN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},KN="monospace, sans-serif",JN="Arial, Helvetica, sans-serif",ZN='"Times New Roman", Times, serif',$N=$u({monospace:"monospace",sansSerif:JN,serif:ZN,monospaceSansSerif:KN,monospaceSerif:"monospace, serif",proportionalSansSerif:JN,proportionalSerif:ZN,default:KN}),tx="1.3em",ix=function(t){function i(i,n,r,e){return t.call(this,i,n,r,e,PN)||this}Ct(i,t);var n=i.prototype;return n.Ytt=function(t){var i=v.createElement("div");i.className="theoplayer-ttml-texttrack-"+t;var n=i.style;return n.position="absolute",on(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.overflow="hidden",n.pointerEvents="none",n.top="0",n.left="0",n.width="100%",n.height="100%",n.fontSize="16px",n.lineHeight=tx,i},n.oe=function(t,i){var n=16*b.min(t/640,i/360)*ON(this.ptt);this.hq.style.fontSize=n+"px"},n.Xtt=function(t,i,n){for(var r,e,s=Lt(i);!(e=s()).done;){var u=e.value;!n&&u.ro||this.ftt(u)}var o=[],h=VN(this.hq.getBoundingClientRect());(r=o).push.apply(r,[].concat(this.Qtt(h)));for(var a,c=Lt(t);!(a=c()).done;)for(var f,v=a.value,d=Lt(this.tit(v,o,h));!(f=d()).done;){var l=f.value;o.push(l.dtt(.1))}},n.tit=function(t,i,n){var r=this._tt(t);r||(r=this.iit(t),this.jtt(t,r));for(var e,s=Lt(r);!(e=s()).done;){var u=e.value;this.hq.appendChild(u)}for(var o,h=[],a=[HN.POS_Y,HN.NEG_Y,HN.POS_X,HN.NEG_X],c=Lt(r);!(o=c()).done;){var f=o.value;FN(lx(f),f,a,n,i),h.push(lx(f))}return h},n.iit=function(t){var i=[],n=t.NU,r=t.xU,e=t.LU,s=t.U,u=t.RU,o=u?b.min(640/u.width,360/u.height):1,h=this.ptt;if(0===k.keys(r).length){var a=v.createElement("div");vx(a),nx(s,n,e,a,a,o,h),rx(a,"body",h),a.firstChild&&i.push(a)}else for(var c,f=Lt(k.keys(r));!(c=f()).done;){var d=c.value,l=v.createElement("div");l.id=d,vx(l),ux(l,"region",r[d],n,o),nx(s,n,e,l,l,o,h),rx(l,"body",h),l.firstChild&&i.push(l)}return i},n.Stt=function(i){return OR(this.hq,i),t.prototype.Stt.call(this,i)},i}(LN);function nx(t,i,n,r,e,s,u){if(ow(t)&&function(t){var i=t.WE.toUpperCase();return"SPAN"===i||"P"===i||"BR"===i||"DIV"===i||"BODY"===i}(t)){var o=ex(t);if(!o||(null==e?void 0:e.id)===o){var h;if("BODY"===t.WE.toUpperCase())h=e;else{if(h=function(t){var i;switch(t.WE.toUpperCase()){case"BR":i=v.createElement("br");break;case"SPAN":dx(i=v.createElement("span")),sx(i,t);break;case"P":(function(t){dx(t);var i=t.style;i.textAlign="inherit",i.padding="0",i.margin="0"})(i=v.createElement("p")),sx(i,t);break;case"DIV":sx(i=v.createElement("div"),t)}return i}(t),!h)return;r.appendChild(h)}!function(t,i,n,r,e){var s=i.ox("style");ax(t,i.WE,s,n,r,e),function(t,i,n,r){for(var e,s=Lt(i.nx);!(e=s()).done;){var u=e.value;cx(t,i.WE,u.WE,u.XE,n,r)}}(t,i,r,e)}(h,t,i,e,s),function(t,i,n){var r=null==i?void 0:i.ox("smpte:backgroundImage");if(r){r=r.replace("#","");var e=n&&ox(n,function(t){return t.nx.some(function(t){return"id"===t.WE&&t.XE===r})});e&&hx(t,e,i,!0)}!function(t,i){var n=i.m[0];if(!n||"metadata"!==n.WE.toLowerCase())return;var r=n.m[0];hx(t,r,i)}(t,i)}(h,t,n),rx(h,t.WE,u);for(var a,c=Lt(t.KE);!(a=c()).done;){nx(a.value,i,n,h,e,s,u)}}}else if(hw(t)){var f=v.createTextNode(t.lk);if("SPAN"!==r.nodeName.toUpperCase()){var d=v.createElement("span");dx(d),rx(d,"span",u),d.appendChild(f),r.appendChild(d)}else r.appendChild(f)}}function rx(t,i,n){var r=t.style;switch(n.sZ&&(r.fontFamily=n.sZ),n.nZ&&(r.color=n.nZ),i.toLowerCase()){case"span":n.hZ&&(r.background=n.hZ);break;case"p":case"div":n.oZ&&(r.backgroundColor=n.oZ);break;case"body":n.aZ&&(r.textShadow=jN(n.aZ))}}function ex(t){var i=t.ox("region");if("p"===t.WE.toLowerCase())return i;for(var n,r,e=[],s=Lt(t.m);!(n=s()).done;){var u=n.value;e.push(ex(u))}return nr(e),0===e.length?i:1===e.length?null!=(r=e[0])?r:i:void 0}function sx(t,i){var n=i.ux(Sm,"id");n&&(t.id=n)}function ux(t,i,n,r,e){ax(t,i,n.style,r,t,e);for(var s,u=Lt(k.keys(n));!(s=u()).done;){var o=s.value;cx(t,i,o,n[o],t,e)}}function ox(t,i){if(i(t))return t;for(var n,r=Lt(t.m);!(n=r()).done;){var e=ox(n.value,i);if(e)return e}return null}function hx(t,i,n,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var i=t&&t.KE.length>0?t.KE[0]:null;return i&&hw(i)?"data:image/png;base64,"+i.lk:""}(i),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,i){var n=t.style;on(n,"flex"),n.flexDirection=n.webkitFlexDirection="column";var r=i.ox("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}n.justifyContent=n.webkitJustifyContent=e;var s=i.ox("smpte:backgroundImageHorizontal"),u="center";if(s)switch(s.toLowerCase()){case"left":u="flex-start";break;case"center":u="center";break;case"right":u="flex-end";break;case"inherit":u="inherit"}n.alignItems=n.webkitAlignItems=u}(t,n),t.appendChild(e)}function ax(t,i,n,r,e,s){if(n)for(var u,o=Lt(n.split(" "));!(u=o()).done;){var h=u.value;if(r[h])for(var a,c=Lt(k.keys(r[h]));!(a=c()).done;){var f=a.value;"style"===f.toLowerCase()?ax(t,i,r[h][f],r,e,s):cx(t,i,f,r[h][f],e,s)}}}function cx(t,i,n,r,e,s){var u=t.style;switch(n){case"backgroundColor":u.backgroundColor=r;break;case"color":u.color=r;break;case"direction":u.direction=r;break;case"display":"none"===r&&(u.display="none");break;case"fontFamily":var o;u.fontFamily=null!=(o=$N.get(r))?o:r;break;case"fontSize":var h=r;if(Uo(h,"px")){var a=Number(h.slice(0,-2));h=a*s/16+"em"}else Uo(h,"c")&&(h=h.replace("c","em"));u.fontSize=h,u.lineHeight&&"inherit"!==u.lineHeight||(u.lineHeight=tx);break;case"fontStyle":u.fontStyle=r;break;case"fontWeight":u.fontWeight=r;break;case"lineHeight":var c=r;if(Uo(c,"px")){var f=Number(c.slice(0,-2));c=f*s+"px"}u.lineHeight=c;break;case"opacity":u.opacity=r;break;case"overflow":u.overflow=r;break;case"padding":u.padding=r;break;case"textAlign":u.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":u.textDecoration="line-through";break;case"underline":case"overline":u.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":u.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":u.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":u.unicodeBidi=r}break;case"visibility":u.visibility=r;break;case"zIndex":u.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}u.justifyContent=u.webkitJustifyContent=v;break;case"extent":var d,l,w=fx(i.toLowerCase())?e:t,g=r.split(" ",2);2===g.length?(d=g[0],l=g[1]):d=l="100%",w&&(w.style.height=l,w.style.width=d);break;case"origin":var _=fx(i.toLowerCase())?e:t,m=r.split(" ",2),y=m[0],p=m[1];_&&(y||p)&&(y&&(_.style.left=y),p&&(_.style.top=p));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":u.whiteSpace="normal";break;case"noWrap":u.whiteSpace="nowrap"}break;case"writingMode":var k,b,A,T;switch(r){case"lrtb":case"lr":k="horizontal-tb";break;case"rltb":k="horizontal-tb",b="rtl",T="bidi-override";break;case"tbrl":case"tb":k="vertical-rl",A="upright";break;case"tblr":k="vertical-lr",A="upright";break;case"rl":k="horizontal-tb",b="rtl";break;default:return}u.writingMode=k,u.setProperty("-webkit-writing-mode",k),b&&(u.direction=b),A&&(u.textOrientation=A,u.setProperty("-webkit-text-orientation",A)),T&&(u.unicodeBidi=T);break;case"linePadding":if(Uo(r,"c")){var S=r.replace("c","em");u.paddingLeft=u.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?u.textAlign="":u.textAlign=r}}function fx(t){return"div"===t||"p"===t||"span"===t}function vx(t){var i=t.style;on(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.top="auto",i.left="5%",i.width="90%",i.height="100%",i.maxHeight="100%",i.maxWidth="100%",i.overflow="visible",i.position="absolute",i.fontFamily=JN,i.color=GN.WHITE,i.background=GN.TRANSPARENT,i.textShadow=jN("uniform"),i.textAlign="start",i.writingMode="horizontal-tb",i.setProperty("-webkit-writing-mode","horizontal-tb"),i.padding="0",i.margin="0",i.fontSize="inherit",i.lineHeight="inherit"}function dx(t){var i=t.style;i.fontFamily="inherit",i.color="inherit",i.fontSize="inherit",i.lineHeight="inherit",i.textShadow="inherit"}function lx(t){var i=VN(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var n=t.children,r=0;r<n.length;r++){var e=n[r];i=i.ltt(VN(e.getBoundingClientRect()))}return i}function wx(t){return QN||(QN=f.document.createElement("textarea")),QN.innerHTML=t,QN.value}function gx(t,i){for(var n="Data",r="",e=[],s=t.charAt(i.ac),u="",o={Km:"starttag",$E:"",eit:[]};i.ac<t.length+1;){switch(s=i.ac<t.length?t.charAt(i.ac):"EOF",n){case"Data":switch(s){case"&":var h=t.substring(i.ac).match(/&#?[0-9a-zA-Z]+;/);h?(r+=wx(h[0]),i.Ly(h[0].length-1)):r+="&";break;case"<":if(r)return{Km:"string",U:r};n="Tag";break;case"EOF":return{Km:"string",U:r};default:r+=s}break;case"Tag":switch(s){case"\t":case"\n":case"\f":case" ":n="StartTagAnnotation";break;case".":n="StartTagClass";break;case"/":n="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s,n="TimestampTag";break;case">":return i.Ly(1),o;case"EOF":return o;default:r=s,n="StartTag"}break;case"StartTag":switch(s){case"\t":case"\f":case" ":n="StartTagAnnotation";break;case"\n":u=s,n="StartTagAnnotation";break;case".":n="StartTagClass";break;case">":return i.Ly(1),{Km:"starttag",$E:r,eit:[]};case"EOF":return{Km:"starttag",$E:r,eit:[]};default:r+=s}break;case"StartTagClass":switch(s){case"\t":case"\f":case" ":e.push(u),u="",n="StartTagAnnotation";break;case"\n":e.push(u),u=s,n="StartTagAnnotation";break;case".":e.push(u),u="";break;case">":return i.Ly(1),e.push(u),{Km:"starttag",$E:r,eit:e};case"EOF":return e.push(u),{Km:"starttag",$E:r,eit:e};default:u+=s}break;case"StartTagAnnotation":switch(s){case"&":n="CharRefInAnnotation";break;case">":i.Ly(1);var a=u.trim();return{Km:"starttag",$E:r,eit:e,sit:a=a.replace(/\s/," ")};default:u+=s}break;case"CharRefInAnnotation":for(var c="",f=i.ac;">"===t.charAt(f);f++)c+=t.charAt(f);u+=c||"&",n="StartTagAnnotation";break;case"EndTag":switch(s){case">":return i.Ly(1),{Km:"endtag",$E:r};case"EOF":return{Km:"endtag",$E:r};default:r+=s}break;case"TimestampTag":switch(s){case">":return i.Ly(1),{Km:"timestamp",nit:r};case"EOF":return{Km:"timestamp",nit:r};default:r+=s}}i.Ly(1)}return o}U(),Et(),Pt(),Ft(),U(),Et();var _x=function(t){return t.rit="string",t.hit="starttag",t.oit="endtag",t.ait="timestamp",t}({});function mx(t,i){void 0===t.textContent?t.innerText=i:t.textContent=i}U(),Et();var yx={nZ:GN.WHITE,sZ:"sans-serif",rZ:"100%",hZ:"rgba(0,0,0,0.8)",oZ:GN.TRANSPARENT,aZ:"none",uZ:void 0,cZ:void 0,dZ:void 0,lZ:void 0},px="theoplayer-webvtt-region-",kx="theoplayer-webvtt-styling-",bx="theoplayer-webvtt-default-style",Ax=5.23,Tx=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,yx)||this).cit=Ju(),s.uit=Px(3),function(t){var i,n=function(t){var i=null==t.getRootNode?void 0:t.getRootNode.call(t);if(i&&i.host)return i}(t),r=null!=(i=null!=n?n:t.ownerDocument)?i:v;if(r.getElementById(bx))return;for(var e,s=[],u=Lt(xx);!(e=u()).done;){var o=e.value,h=o[0],a=o[1];s.push("."+kx+h+" { color: "+a+" !important; }"),s.push("."+kx+"bg"+Bx+h+" { background-color: "+a+" !important; }"),s.push("video::cue(."+h+") { color: "+a+"; }"),s.push("video::cue(.bg"+Bx+h+") { background-color: "+a+"; }")}var c=v.createElement("style");c.id=bx,c.innerHTML=s.join("\n"),n?n.appendChild(c):r.body.appendChild(c)}(n),s}Ct(i,t);var n=i.prototype;return n.Ytt=function(t){var i=v.createElement("div");i.className="theoplayer-webvtt-texttrack-"+t,an(i),i.style.overflow="hidden",i.style.pointerEvents="none";var n=this.ptt.sZ;return n&&(i.style.fontFamily=n),i.style.whiteSpace="pre-line",i},n.GY=function(){this.hq.appendChild(this.uit),t.prototype.GY.call(this)},n.oe=function(t,i){var n=this,r=b.min(t/100,i/100),e=ON(this.ptt);this.cit.forEach(function(t){var i=t.OO,s=t.dit;n.fit(s,r,e,i)}),this.fit(this.uit,r,e)},n.Stt=function(i){OR(this.hq,i),t.prototype.Stt.call(this,i)},n.Xtt=function(t,i,n){for(var r,e,s=this,u=this.hq,o=this.Wu.Iu/100,h=[],a=Lt(t);!(e=a()).done;){var c=e.value;void 0!==c.OO&&(jn(h,c.OO)||h.push(c.OO))}this.cit.forEach(function(t,i){var r=t.OO,e=t.dit;!n&&jn(h,r)||(Zi(e),s.cit.delete(i))});for(var f,v=Lt(i);!(f=v()).done;){var d=f.value;!n&&d.ro||this.ftt(d)}var l=[],w=VN(this.uit.getBoundingClientRect());(r=l).push.apply(r,[].concat(this.Qtt(w)));for(var g,_=Lt(h);!(g=_()).done;){var m=g.value,y=void 0;this.cit.has(m.o)?y=this.cit.get(m.o).dit:(y=Dx(m,o),u.appendChild(y),this.cit.set(m.o,{OO:m,dit:y})),l.push(VN(y.getBoundingClientRect()))}t.sort(Ox);for(var p,k=Lt(t);!(p=k()).done;){var b=p.value,A=this.tit(b,l,w);void 0!==A&&l.push(A.dtt(.1))}},n.tit=function(t,i,n){var r,e;t.OO?(e=this.cit.get(t.OO.o).dit,"up"===t.OO.iF&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.uit;var s=null==(r=this._tt(t))?void 0:r[0];if(s||(s=this.vit(t),this.jtt(t,[s])),e.appendChild(s),t.OO||(Sx(s,t),t.FO?function(t,i,n,r){var e=Nx(t),s=e?n.Mi:n.Ti,u=T(getComputedStyle(i).lineHeight);if(0===u||S(u))return;var o=VN(i.getBoundingClientRect()),h=b.round(t_(t));"rl"===t.Pt&&(h=-(h+1));var a=u*h;"rl"===t.Pt&&(a=a-o.Ti+u);h<0&&(a+=s,u=-u);e?o.utt+=a:o.ott+=a;var c=o.Fy(),f=!1;for(;!n.pO(o)||UN(o,r);)if(e)if(u<0&&o.utt<n.utt||u>0&&o.att>n.att){if(o.utt=c.utt,f)break;u=-u,f=!0}else o.utt+=u;else if(u<0&&o.ott<n.ott||u>0&&o.htt>n.htt){if(o.ott=c.ott,f)break;u=-u,f=!0}else o.ott+=u;e?i.style.top=(o.utt-n.utt)/n.Mi*100+"%":i.style.left=(o.ott-n.ott)/n.Ti*100+"%"}(t,s,n,i):function(t,i,n,r){var e,s=VN(i.getBoundingClientRect());if(0===s.Ti||0===s.Mi)return;Nx(t)?"center"===t.MO?s.utt-=s.Mi/2:"end"===t.MO&&(s.utt-=s.Mi):"center"===t.MO?s.ott-=s.Ti/2:"end"===t.MO&&(s.ott-=s.Ti);e=""===t.Pt?[HN.POS_Y,HN.NEG_Y,HN.POS_X,HN.NEG_X]:"lr"===t.Pt?[HN.POS_X,HN.NEG_X,HN.POS_Y,HN.NEG_Y]:[HN.NEG_X,HN.POS_X,HN.POS_Y,HN.NEG_Y];FN(s,i,e,n,r)}(t,s,n,i)),!t.OO)return VN(s.getBoundingClientRect())},n.vit=function(t){for(var i=new Ta,n=t.U,r=this._it(t),e={git:void 0,xe:r},s=e,u="",o="",h=[e],a=[],c=[];i.ac<n.length;){var f=gx(n,i);if(f.Km===_x.rit){var d=v.createElement("span");mx(d,f.U),Ex(d,h),""!==u&&(d.lang=u),this.pit(d,o),s.xe.appendChild(d)}else if(f.Km===_x.hit){var l=f.$E.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var w=v.createElement(l);s.xe.appendChild(w),s={git:f,xe:w},h.push(s);break;case"rt":var g;if("ruby"===(null==(g=s.git)?void 0:g.$E.toLowerCase())){var _=v.createElement("rt");s.xe.appendChild(_),s={git:f,xe:_},h.push(s)}break;case"c":case"v":s={git:f,xe:s.xe},h.push(s);break;case"font":var m,y=null==(m=f.sit)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(o=y[1],c.push(o),s={git:f,xe:s.xe},h.push(s));break;case"lang":var p;u=null!=(p=f.sit)?p:"",a.push(u)}}else if(f.Km===_x.oit){var k,b=f.$E.toLowerCase(),A=null==(k=s.git)?void 0:k.$E.toLowerCase();A===b?(h.pop(),s=h[h.length-1],"font"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),s=h[h.length-1]):"lang"===b&&(a.pop(),u=a.length>0?a[a.length-1]:"")}else if(f.Km===_x.ait){var T=f.nit,S=new Ta;try{X_(T,S)}catch(t){ze("ERROR collecting timestamp",t)}}}return r},n.pit=function(t,i){var n=this.ptt,r=this.wtt;n.hZ&&(t.style.background=n.hZ);var e=r.nZ||i||n.nZ;e&&(t.style.color=e)},n.fit=function(t,i,n,r){if(r){var e=Ix(r,i);t.style.height=e*n+"px",t.style.left=Rx(r)+"%",t.style.top=Cx(r,i)+"px"}t.style.fontSize=Ax*i*n+"px"},n._it=function(t){var i=v.createElement("div");i.style.position="absolute",i.style.margin="0",i.style.padding="0",i.style.unicodeBidi="plaintext",i.style.wordWrap="break-word",i.style.overflowWrap="break-word",i.style.width="auto",i.style.textAlign=t.DO,function(t,i){"rl"===i.Pt?t.style.writingMode="vertical-rl":"lr"===i.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(i,t),function(t,i){var n=r_(i);Nx(i)?(t.style.width=n+"%",t.style.height="auto"):(t.style.height=n+"%",t.style.width="auto")}(i,t),Sx(i,t);var n=this.ptt.oZ;n&&(i.style.background=n);var r=this.ptt.nZ;return r&&(i.style.color=r),i.style.textShadow=jN(this.ptt.aZ),i},i}(LN);function Sx(t,i){var n,r,e=n_(i),s=i_(i),u=r_(i);if(Nx(i)){switch(e){case"line-left":n=s;break;case"center":n=s-u/2;break;case"line-right":n=s-u}r=i.FO?0:t_(i)}else{switch(e){case"line-left":r=s;break;case"center":r=s-u/2;break;case"line-right":r=s-u}n=i.FO?0:t_(i)}t.style.left=n+"%",t.style.top=r+"%"}function Ex(t,i){for(var n,r=Lt(i);!(n=r()).done;){var e=n.value;if(e.git){for(var s,u=Lt(e.git.eit);!(s=u()).done;){var o=s.value;sn(t,kx+o)}"v"===e.git.$E.toLowerCase()&&e.git.sit&&sn(t,"theoplayer-webvtt-voice-"+e.git.sit)}}}function Ix(t,i){return t.ZO*(Ax*i)*1.14}function Rx(t){return t.eF-t.$O*t.Ti/100}function Cx(t,i){var n=t.sF,r=t.tF*Ix(t,i)/100;return b.max(0,n-r)}function Px(t){var i=v.createElement("div");return i.className=px+"default",an(i),i.style.wordWrap="break-word",i.style.writingMode="horizontal-tb",i.style.pointerEvents="none",i.style.width="auto",i.style.height="auto",i.style.maxHeight="100%",i.style.minHeight="0px",i.style.padding="0",i.style.boxSizing="border-box",i.style.fontSize=Ax*t+"px",i.style.lineHeight="1.14em",i}function Dx(t,i){var n=Px(i);n.className=px+t.o;var r=t.Ti,e=Ix(t,i);return n.style.width=r+"%",n.style.height=e+"px",n.style.left=Rx(t)+"%",n.style.right="",n.style.top=Cx(t,i)+"px",n.style.bottom="",n.style.boxSizing="border-box",n}function Nx(t){return""===t.Pt}var xx=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]],Bx=String.fromCharCode(95);function Ox(t,i){var n=t_(t),r=t_(i),e=Mx(n,t.FO),s=Mx(r,i.FO);return e&&s?n-r||OP(i,t)||i.JI-t.JI:OP(t,i)||t.JI-i.JI}function Mx(t,i){return i?t<0?t>-8:t>8:t>50}U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),U(),Et();var Lx=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),Fx={nZ:GN.WHITE,sZ:qN.nl,rZ:"100%",hZ:GN.BLACK,oZ:"transparent",aZ:"none",mit:"regular",uZ:void 0,cZ:void 0,dZ:void 0,lZ:void 0},Ux=[{wit:GN.WHITE,mit:"regular",yit:0},{wit:GN.WHITE,mit:"underline",yit:0},{wit:GN.GREEN,mit:"regular",yit:0},{wit:GN.GREEN,mit:"underline",yit:0},{wit:GN.BLUE,mit:"regular",yit:0},{wit:GN.BLUE,mit:"underline",yit:0},{wit:GN.CYAN,mit:"regular",yit:0},{wit:GN.CYAN,mit:"underline",yit:0},{wit:GN.RED,mit:"regular",yit:0},{wit:GN.RED,mit:"underline",yit:0},{wit:GN.YELLOW,mit:"regular",yit:0},{wit:GN.YELLOW,mit:"underline",yit:0},{wit:GN.MAGENTA,mit:"regular",yit:0},{wit:GN.MAGENTA,mit:"underline",yit:0},{wit:GN.WHITE,mit:"italics",yit:0},{wit:GN.WHITE,mit:"underline-italics",yit:0},{wit:GN.WHITE,mit:"regular",yit:0},{wit:GN.WHITE,mit:"underline",yit:0},{wit:GN.WHITE,mit:"regular",yit:4},{wit:GN.WHITE,mit:"underline",yit:4},{wit:GN.WHITE,mit:"regular",yit:8},{wit:GN.WHITE,mit:"underline",yit:8},{wit:GN.WHITE,mit:"regular",yit:12},{wit:GN.WHITE,mit:"underline",yit:12},{wit:GN.WHITE,mit:"regular",yit:16},{wit:GN.WHITE,mit:"underline",yit:16},{wit:GN.WHITE,mit:"regular",yit:20},{wit:GN.WHITE,mit:"underline",yit:20},{wit:GN.WHITE,mit:"regular",yit:24},{wit:GN.WHITE,mit:"underline",yit:24},{wit:GN.WHITE,mit:"regular",yit:28},{wit:GN.WHITE,mit:"underline",yit:28}],Vx=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function Hx(t,i){return y_(t.Ait,i.Ait)||xn(t.zB,i.zB)}U(),Et(),Ft();var Wx=32,zx=/CC([1-4])=(.*)/;function Xx(t){if(!t)return[];var i=[],n=t.trim().split(";");if(n.every(function(t){return t.match(zx)}))for(var r,e=Lt(n);!(r=e()).done;){var s=r.value.match(zx),u=s[1],o=s[2];i.push({Sit:Number(u),Tit:o})}else for(var h=0;h<n.length;h++)i.push({Sit:h+1,Tit:n[h]});return i}var qx=function(){function t(t,i,n){this.xit=void 0,this.Fit=void 0,this.mtt=void 0,this.Nit=void 0,this.xit=t,this.Fit=i,this.mtt=n}var i=t.prototype;return i.wr=function(){return this.Nit=this.Bit(),this.Mit(),this.Lit(),this.Nit},i.Bit=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Cit/Wx*this.Fit.Oit*100+"%",t.style.height=1.2*this.Rit+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Fit.Uit?"calc(1em - 1ch)":"";var i=this.mtt.sZ;i&&(t.style.fontFamily=i);var n=this.mtt.oZ;return n&&(t.style.backgroundColor=n),t},i.Mit=function(){if(this.Nit){var t=this.kit.Dit/15*100,i=this.kit.yit/Wx*100,n=(Wx-this.Pit.yit-1)/Wx*100,r=(15-this.Pit.Dit-1)/15*100;this.Fit.Vit||(i=n=1,this.Nit.style.width="98%"),r<t?this.Nit.style.bottom=r*this.Fit.Oit+"%":this.Nit.style.top=t*this.Fit.Oit+"%",n<i?this.Nit.style.right=n+"%":this.Nit.style.left=i+"%"}},i.Lit=function(){for(var t=this.xit.Hit.sort(Gx),i=0;i<t.length;i++)this.Wit(t[i-1],t[i]),this.qit(t[i]);this.Wit(t[t.length-1],void 0)},i.qit=function(i){var n,r=BN(this.mtt,i.zit),e=t.Git(r);mx(e,i.Xit),null==(n=this.Nit)||n.appendChild(e)},i.Wit=function(t,i){var n=t?t.Iit.Dit:this.xit.Eit.Dit,r=i?i.Eit.Dit:this.xit.Iit.Dit,e=t?t.Iit.yit:this.xit.Eit.yit,s=i?i.Eit.yit:this.xit.Iit.yit;n<r&&(!i||t&&t.Eit.Dit!==i.Eit.Dit?this.jit():this.Qit(this.xit.Iit.yit-e),e=this.xit.Eit.yit),e<s&&(i?this.Qit(s-e):this.jit())},i.jit=function(){var t,i=v.createElement("br");null==(t=this.Nit)||t.appendChild(i)},i.Qit=function(t){var i;if(!(t<=0)){var n=v.createElement("span");n.style.display="inline-block",mx(n,Ho(" ",t)),null==(i=this.Nit)||i.appendChild(n)}},t.Git=function(t){var i=v.createElement("span");i.style.display="inline-block",t.mit!==Lx.FONT_ITALICS&&t.mit!==Lx.FONT_UNDERLINE_ITALICS||(i.style.fontStyle="italic"),t.mit!==Lx.FONT_UNDERLINE&&t.mit!==Lx.FONT_UNDERLINE_ITALICS||(i.style.textDecoration="underline");var n=t.nZ;n&&(i.style.color=n);var r=t.hZ;return r&&(i.style.backgroundColor=r),i.style.textShadow=jN(t.aZ),i.style.height="1.2em",i},Nt(t,[{key:"kit",get:function(){return this.xit.Eit}},{key:"Pit",get:function(){return this.xit.Iit}},{key:"Cit",get:function(){return this.xit.Iit.yit-this.xit.Eit.yit+1}},{key:"Rit",get:function(){return this.xit.Iit.Dit-this.xit.Eit.Dit+1}}]),t}();function Gx(t,i){return function(t,i){if(t.Dit!==i.Dit)return t.Dit-i.Dit;return t.yit-i.yit}(t.Eit,i.Eit)}var jx=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r,e,Fx)||this).Jit=void 0,s.Kit=void 0,s}Ct(i,t);var n=i.prototype;return n.Ytt=function(t){var i=v.createElement("div");return i.className="theoplayer-cea608-texttrack-"+t,i.style.position="absolute",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.top="10%",i.style.bottom="10%",this.ptt.sZ&&(i.style.fontFamily=this.ptt.sZ),i},n.oe=function(t,i){this.Ml()},n.Ml=function(){var t=ON(this.ptt);this.Kit=function(t){return{Oit:t/100,Uit:t<=100,Vit:t<=150}}(100*t);var i=this.Yit/Wx;this.Jit=i*t,this.hq.style.fontSize=this.Jit+"px"},n.Xtt=function(t,i,n){for(var r,e=Lt(i);!(r=e()).done;){var s=r.value;!n&&s.ro||this.ftt(s)}for(var u,o=Lt(t);!(u=o()).done;){var h=u.value;this.tit(h)}},n.tit=function(t){this.Kit&&this.Kit.Vit?this.Zit(80):this.Zit(100),this.Ml();var i=this._tt(t);i||(i=this.iit(t),this.jtt(t,i));for(var n,r=Lt(i);!(n=r()).done;){var e=n.value;this.hq.appendChild(e)}},n.iit=function(t){var i=this;return t.U.map(function(t){return new qx(t,i.Kit,i.ptt).wr()})},n.Zit=function(t){var i=(100-t)/2;this.hq.style.left=i+"%",this.hq.style.width=t+"%"},Nt(i,[{key:"Yit",get:function(){var t=this.hq.offsetWidth;return this.Kit&&this.Kit.Vit||(t*=.8),t}}]),i}(LN),Qx=function(){function t(t,i,n,r,e,s){var u=this;this.net=void 0,this.sc=void 0,this.Gl=void 0,this.aet=void 0,this.ea=void 0,this.tet=[],this.Oz=void 0,this.cet=function(t){var i=t.Ht;i.wn(Nw.AI,u.uet),i.wn(Nw.kI,u.uet),V(i,qD)&&(i.d6=u.d6),u.oet(i)},this.uet=function(t){var i=t.Ht;u.oet(i)},this.det=function(t){var i=t.Ht;i.mn(Nw.AI,u.uet),i.mn(Nw.kI,u.uet),u.het(i)},this.let=function(){for(var t,i=u.d6,n=Lt(u.Gl.NI);!(t=n()).done;){var r=t.value;V(r,qD)&&(r.d6=i)}},this.fet=function(){for(var t,i=Lt(u.tet);!(t=i()).done;){t.value.Stt(u.Oz)}},this.net=t,this.sc=i,this.Gl=n,this.aet=e,this.ea=s,this.Oz=r,this.Gl.wn(Iw.rI,this.cet),this.Gl.wn(Iw.oI,this.det),this.Gl.wn(Nw.pa,this.uet),this.aet.wn(ZT.pa,this.let),this.ea.wn([NT.QL,NT.KL],this.let),this.Oz.wn("bI",this.fet),this.let()}var i=t.prototype;return i.$it=function(t){for(var i,n=Lt(this.tet);!(i=n()).done;){var r=i.value;if(r.Ht===t)return r}},i.eet=function(t){switch(t.Km){case Ng.TTML:return new ix(t,this.net,t.Th,this.sc);case Ng.SRT:case Ng.WEBVTT:return new Tx(t,this.net,t.Th,this.sc);case Ng.CEA608:return new jx(t,this.net,t.Th,this.sc)}},i.ret=function(t){var i=this.$it(t);i||(i=this.eet(t))&&(i.GY(),i.Stt(this.Oz),this.tet.push(i),t.Qk===zm.Kn&&i.Htt())},i.het=function(t){for(var i=this.tet,n=i.length-1;n>=0;n-=1){var r=i[n];r.Ht===t&&(r.kn(),qn(i,n))}},i.oet=function(i){(function(t){return t===Jm.HU||t===Jm.WU})(i.Lt)&&t.iet(i)&&(i.AP===Dg.ERROR?this.het(i):this.ret(i))},i.hr=function(){for(var t,i=Lt(this.tet);!(t=i()).done;){var n=t.value;n.Ht.mn(Nw.AI,this.uet),n.Ht.mn(Nw.kI,this.uet),n.kn()}Yn(this.tet)},i.kn=function(){this.hr();for(var t,i=Lt(this.tet);!(t=i()).done;){t.value.kn()}this.Gl.mn(Iw.rI,this.cet),this.Gl.mn(Iw.oI,this.det),this.Gl.mn(Nw.pa,this.uet),this.aet.mn(ZT.pa,this.let),this.ea.mn([NT.QL,NT.KL],this.let),this.Oz.mn("bI",this.fet)},t.iet=function(t){switch(t.Km){case Ng.TTML:case Ng.SRT:case Ng.WEBVTT:case Ng.CEA608:return!0}return!1},Nt(t,[{key:"d6",get:function(){return this.aet.ds||this.ea.YL}}]),t}();U(),Et(),Wt(),xt(),Pt(),Qt();var Yx=function(t){function i(i){var n;return(n=t.call(this)||this).vet=void 0,n._et=!1,n.pet=function(){n._et=!0,n.So(new xT)},n.met=function(){n._et=!1,n.So(new BT)},n.vet=i,n.vet.addEventListener("enterpictureinpicture",n.pet),n.vet.addEventListener("leavepictureinpicture",n.met),n}Ct(i,t);var n=i.prototype;return n.yo=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.JL?this.YL?[3,3]:(t=this.ww([NT.QL,NT.ma]),[4,this.vet.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,t];case 2:i.sent(),this._et||this.So(new iS),i.label=3;case 3:return[3,5];case 4:this.So(new iS),i.label=5;case 5:return[2]}})}).call(this)},n.jo=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.JL?this._et?(t=this.ww([NT.KL,NT.ma]),[4,this.vet.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,t];case 2:i.sent(),this._et&&this.So(new iS),i.label=3;case 3:return[3,5];case 4:this.So(new iS),i.label=5;case 5:return[2]}})}).call(this)},n.kn=function(){this.Vo(),this.vet.removeEventListener("enterpictureinpicture",this.pet),this.vet.removeEventListener("leavepictureinpicture",this.met)},Nt(i,[{key:"JL",get:function(){var t;return null!=(t=this.vet.ownerDocument.pictureInPictureEnabled)&&t}},{key:"YL",get:function(){return this._et}}]),i}(th);function Kx(t){var i=new CI,n=function(t){var i=[];return II.la(t)&&i.push(new II(t)),RI.la(t)&&i.push(new RI(t)),i}(t);if(n.length>0){for(var r,e=Lt(n);!(r=e()).done;){var s=r.value;i.EK(s)}i.kK(n[0])}return i}var Jx=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n,r,e,s)||this).bet=void 0,u.Aet=void 0,u.wet=void 0,u.yet=void 0,u.wet=Kx(i),u.yet=new Yx(i),u.bet=new xN,u.Aet=new Qx(u.bet.xe,u.Wu,u.nt,u.Ql,u.Ma,u.Sq),u}Ct(i,t);var n=i.prototype;return n.zP=function(){return this.pT},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.yet.kn(),this.wet.kn(),this.bet.kn(),this.Aet.kn(),[4,t.prototype.zg.call(i)];case 1:return n.sent(),[2]}})}).call(this)},n.we=function(){t.prototype.we.call(this),this.bet.we()},n.be=function(){t.prototype.be.call(this),this.bet.be()},n.Y7=function(i){t.prototype.Y7.call(this,i),this.bet.Y7(i)},Nt(i,[{key:"hq",get:function(){return this.pT}},{key:"DP",get:function(){return this.pT.videoHeight}},{key:"MP",get:function(){return this.pT.videoWidth}},{key:"Ma",get:function(){return this.wet}},{key:"Sq",get:function(){return this.yet}}]),i}(EN);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et();U(),Et(),Wt(),Qt(),U(),Et();var Zx=!1,$x=function(t){return t.Tet="HELLO",t.ket="HI_THERE",t.Eet="INITIALIZE",t.xet="APPEND_INIT",t.Pet="APPEND_DATA",t.Iet="ACK",t.Cet="REMOVE",t.Ret="DESTROY_SESSION",t}({}),tB=function(){function t(){this.im=void 0,this.yT=void 0,this.ta=new bd}var i=t.prototype;return i.Det=function(t){var i=this;return this.ta.Zo(function(t){return Vt(function(){var i,n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return dr(t),i=new MessageChannel,n=i.port1,r=i.port2,l.serviceWorker.controller?[3,2]:[4,ew(l.serviceWorker,"install",t)];case 1:h.sent(),h.label=2;case 2:return"activated"===l.serviceWorker.controller.state?[3,4]:[4,ew(l.serviceWorker.controller,"activate",t)];case 3:h.sent(),h.label=4;case 4:e={kind:"HELLO",port:r},l.serviceWorker.controller.postMessage(e,[r]),n.start(),this.im=n,h.label=5;case 5:return h.trys.push([5,7,,8]),[4,ew(n,"message",t)];case 6:if(s=h.sent(),"HI_THERE"!==(u=s.data).kind)throw new y("Could not set up message channel");return this.yT=u.sessionId,[3,8];case 7:throw vr(o=h.sent())&&this.Net(),o;case 8:return[2]}})}).call(i)},t)},i.Bet=function(t,i){var n=this;return this.im,this.ta.Zo(function(){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:if(!this.im)throw new y("MessageSession not set up yet or already closed.");return i||(i=[]),this.im.postMessage(t,i),[4,ew(this.im,"message")];case 1:return[2,n.sent().data]}})}).call(n)})},i.Met=function(){var t=this;return this.ta.Zo(function(){return t.Net()})},i.Net=function(){if(l.serviceWorker.controller&&"activated"===l.serviceWorker.controller.state&&this.im){var t={kind:"DESTROY_SESSION"};Zx,this.im.postMessage(t),this.im.close(),this.im=void 0}},t}();U(),Et(),xt();var iB=function(){function t(){this.Oet=1/0}var i=t.prototype;return i.Fet=function(t,i){var n=t-i;this.Oet=n>this.Let?this.Oet:n},i.Uet=function(t){this.Oet=t},Nt(t,[{key:"Let",get:function(){return this.Oet}}]),t}();U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var nB=function(t){return t.Bk="audio",t.Mk="video",t.zU="metadata",t}({}),rB=function(t){function i(i,n){var r;return(r=t.call(this)||this).IQ=void 0,r.Xet=void 0,r.Vet=void 0,r.Het=void 0,r.ta=void 0,r.qet=void 0,r.Wet=void 0,r.IQ=i,r.Xet=n,r.Vet=void 0,r.Het=void 0,r.ta=new bd,r.qet=!1,r.Wet=!1,r}Ct(i,t);var n=i.prototype;return n.G3=function(t,i){},n.X3=function(t,i){},n.jZ=function(){return this.Wet},n.j3=function(){return Vt(function(){return zt(this,function(t){return[2]})})()},n.f3=function(t,i){return Vt(function(){return zt(this,function(t){return[2]})})()},n.Q2=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){if(r=this,t.Km!==zR.wZ)throw new y("Streaming or opaque segments are not supported yet.");return e=t.lk,s=function(){return Vt(function(){var t,n,r;return zt(this,function(s){switch(s.label){case 0:return t=e.buffer,n={kind:$x.Pet,mediaType:eB(this.IQ),segment:e,startPts:i.Get,totalDuration:i.ct},[4,this.Xet.Bet(n,[t])];case 1:return s.sent(),void 0===this.Vet&&(r=i.Get+i.EU,this.Vet=r,this.Het=r),this.Het=this.Het+i.ct,this.So(new rh(HR.pZ)),[2]}})}).call(r)},[2,this.ta.Zo(function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:dr(t),i.label=1;case 1:return i.trys.push([1,,3,4]),this.qet=!0,[4,s()];case 2:return i.sent(),[3,4];case 3:return this.qet=!1,[7];case 4:return[2]}})}).call(r)},n)]})}).call(this)},n.J2=function(t,i,n){return Vt(function(){var i,r,e;return zt(this,function(s){if(i=this,t.Km!==zR.wZ)throw new y("Streaming or opaque initialization segments are not supported yet.");return r=t.lk,e=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t={kind:$x.xet,mediaType:eB(this.IQ),segment:r},[4,this.Xet.Bet(t,[])];case 1:return i.sent(),[2]}})}).call(i)},[2,this.ta.Zo(function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:dr(t),i.label=1;case 1:return i.trys.push([1,,3,4]),this.qet=!0,[4,e()];case 2:return i.sent(),[3,4];case 3:return this.qet=!1,[7];case 4:return[2]}})}).call(i)},n)]})}).call(this)},n.F3=function(){this.Wet=!0},n.I3=function(){this.Wet=!1},n.pS=function(t,i,n){return Vt(function(){var t,r;return zt(this,function(e){return t=this,r=function(){return Vt(function(){var t;return zt(this,function(n){switch(n.label){case 0:return t={kind:$x.Cet,mediaType:eB(this.IQ),endTime:i},[4,this.Xet.Bet(t)];case 1:return n.sent(),this.Vet=void 0,this.Het=void 0,this.So(new rh(HR.pZ)),[2]}})}).call(t)},[2,this.ta.Zo(function(i){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:dr(i),t.label=1;case 1:return t.trys.push([1,,3,4]),this.qet=!0,[4,r()];case 2:return t.sent(),[3,4];case 3:return this.qet=!1,[7];case 4:return[2]}})}).call(t)},n)]})}).call(this)},n.IZ=function(t){return this.IQ===t.GT},n.RZ=function(t){return this.IQ=t.GT,ut.resolve()},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.ta.kn()];case 1:return t.sent(),[2]}})}).call(this)},Nt(i,[{key:"Fx",get:function(){return void 0===this.Vet||void 0===this.Het?EA.rL():new EA([this.Vet,this.Het])}},{key:"Cd",get:function(){return{GT:this.IQ}}},{key:"V3",get:function(){return Wv(this.IQ)?eg.Bk:zv(this.IQ)?eg.Mk:eg.yk}},{key:"lQ",get:function(){return this.IQ}},{key:"W3",get:function(){return EA.rL()}},{key:"VY",get:function(){return 30},set:function(t){}},{key:"zY",get:function(){return 30},set:function(t){}},{key:"ga",get:function(){return this.qet}},{key:"zet",get:function(){return this.Vet}},{key:"RO",get:function(){return this.Het}}]),i}(th);function eB(t){return t.match(/video/)?nB.Mk:nB.Bk}var sB=function(){function t(t,i,n,r){this.ZS=void 0,this.hw=void 0,this.pT=void 0,this.B4=void 0,this.M4=void 0,this.ES=void 0,this.ZS=t,this.M4=Fn(i,function(t){return Boolean(t.lQ.match(/video/))}),this.B4=Fn(i,function(t){return Boolean(t.lQ.match(/audio/))}),this.hw=n,this.pT=r,this.Qet()}var i=t.prototype;return i.Qet=function(){},i.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,ut.all([this.B4,this.M4].filter(Li).map(function(t){return t.zg()}))];case 1:return t.sent(),[2]}})}).call(this)},i.F4=function(t){},i.W4=function(t,i,n,r){},i.F3=function(){var t,i;null==(t=this.B4)||t.F3(),null==(i=this.M4)||i.F3()},i.I3=function(){var t,i;null==(t=this.B4)||t.I3(),null==(i=this.M4)||i.I3()},i.IZ=function(t){return!!yN(this,t)},i.RZ=function(t){return this.ZS=t,ut.resolve()},i.NZ=function(t){},i.xZ=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,this.hw.nw(t.Ym,i)];case 1:return[4,r.sent().RS()];case 2:return n=r.sent(),[4,this.PZ(n)];case 3:return r.sent(),[2,n]}})}).call(this)},i.PZ=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:if(t&&!this.pT.src)throw new ug(vd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&this.pT.src)throw new ug(vd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=this.ES)?[4,i.IS(this.pT)]:[3,2];case 1:n.sent(),this.ES=void 0,n.label=2;case 2:return t?[4,t._n(this.pT)]:[3,4];case 3:n.sent(),this.ES=t,n.label=4;case 4:return[2]}})}).call(this)},t.jet=function(i,n,r,e){for(var s=[],u=0;u<i.q4.length;u++){var o=i.q4[u].GT;s.push(new rB(o,n))}return new t(i,s,r,e)},Nt(t,[{key:"Ket",get:function(){return[this.B4,this.M4].filter(Li)}},{key:"e4",get:function(){return this.B4}},{key:"Fx",get:function(){return hP(this)}},{key:"Cd",get:function(){return this.ZS}},{key:"ct",get:function(){return 0}},{key:"jZ",get:function(){var t,i,n,r,e=null==(n=null==(t=this.B4)?void 0:t.jZ())||n,s=null==(r=null==(i=this.M4)?void 0:i.jZ())||r;return e&&s}},{key:"kP",get:function(){return EA.hL()}},{key:"s4",get:function(){return this.M4}}]),t}(),uB=function(t){function i(i,n,r,e){var s,u;return s=t.call(this)||this,(u=s)._st=!0,u.Xet=new tB,u.dst=new iB,u.aq=void 0,u.e9=void 0,u.pst=!0,u.wst=new Va,u.Pz=!1,u.k9=ut.resolve(),u.T9=new hr,u.mst=!0,u.Ho=EA.rL(),u.wet=void 0,u.ea=void 0,u.vet=void 0,u.Q7=!1,u.DZ=void 0,u.hw=void 0,u.Gl=void 0,u.J9=void 0,u.bet=void 0,u.Aet=void 0,u.bst=void 0,u.Oz=void 0,u.Jet=function(){u.lP||u.fst.V<=0||u.Fx.V<=0||u.dst.Fet(u.Fx.An(u.Fx.V-1),u.fst.An(u.fst.V-1))},u.Zet=function(){u.So(new lT(u.zx))},u.$et=function(){u.So(new bw(u.zx,u.Vx))},u.tst=function(){u.So(new dT(u.zx,u.vP))},u.ist=function(){u.So(new _T(u.zx,u.OP))},u.sst=function(){u.So(new vT(u.ct))},u.nst=function(){u.So(new Ly(u.zx))},u.rst=function(){u.Oy(u.zx)},u.hst=function(){return Vt(function(){return zt(this,function(t){return u.mst&&u.So(new fT(u.zx)),u.pst=!1,u.mst=!0,[2]})})()},u.ost=function(){u.pst=!0,u.So(new cT(u.zx))},u.V7=function(t){var i,n=t.initDataType,r=null!=(i=t.initData)?i:new ArrayBuffer(0);u.So(new vh(n,r))},u.vet=i,u.e9=new IP(u),u.bst=r,u.Oz=e,u.vet.playsInline=!0,u.vet.style.width="100%",u.vet.style.height="100%",u.Yet(),u.ust(),u.wet=Kx(u.vet),u.ea=new Yx(u.vet),u.DZ=new dN(u),u.hw=n,u.Gl=new Km,u.J9=new JD(u),u.bet=new xN,u.Aet=new Qx(u.bet.xe,u.Wu,u.nt,u.Ql,u.Ma,u.Sq),s}Ct(i,t);var n=i.prototype;return n.Yet=function(){this.vet.addEventListener("timeupdate",this.Jet),this.vet.addEventListener("ended",this.Zet),this.vet.addEventListener("timeupdate",this.$et),this.vet.addEventListener("ratechange",this.tst),this.vet.addEventListener("volumechange",this.ist),this.vet.addEventListener("durationchange",this.sst),this.vet.addEventListener("playing",this.nst),this.vet.addEventListener("seeking",this.rst),this.vet.addEventListener("play",this.hst),this.vet.addEventListener("pause",this.ost),this.vet.addEventListener("encrypted",this.V7)},n.ast=function(){this.vet.removeEventListener("timeupdate",this.Jet),this.vet.removeEventListener("ended",this.Zet),this.vet.removeEventListener("timeupdate",this.$et),this.vet.removeEventListener("ratechange",this.tst),this.vet.removeEventListener("volumechange",this.ist),this.vet.removeEventListener("durationchange",this.sst),this.vet.removeEventListener("playing",this.nst),this.vet.removeEventListener("seeking",this.rst),this.vet.removeEventListener("play",this.hst),this.vet.removeEventListener("pause",this.ost)},n.ust=function(){this.e9.wn(Ry.AI,this.Rs)},n.cst=function(){this.e9.mn(Ry.AI,this.Rs)},n.Oy=function(t,i,n){this.T9.Zg(),this.T9=new hr,this.k9=_r(this.E9(t,this.k9,this.T9.Yg),this.T9).catch(dn)},n.E9=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return this.Ho=this.pP,(s=null==(e=this.aq)?void 0:e.Ket)?(u=(r=b).max.apply(r,[].concat(s.map(function(t){return t.zet?t.zet:1/0}))),this.Pz=!0,this.So(new wT(t)),[4,i.catch(dn)]):[2];case 1:h.sent(),dr(n),h.label=2;case 2:return h.trys.push([2,7,8,9]),this._st||this.gst(),this.vet.load(),this.pst?[3,4]:(this.mst=!1,[4,gr(this.vet.play(),n)]);case 3:h.sent(),h.label=4;case 4:return this.AP<Dy.GL?[4,this.e9.ww(Ry.AI,n)]:[3,6];case 5:return h.sent(),[3,4];case 6:return this.wst.Qy(),this._st=!1,this.Pz=!1,this.So(new gT(this.zx)),[3,9];case 7:throw o=h.sent(),this.wst.Ky(o),o;case 8:return this.yst(),this.dst.Uet(u),[7];case 9:return[2]}})}).call(this)},n.jP=function(){this.pst=!0,this.vet.pause()},n.QP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.pst?(this.vet.src||this.K7(),[4,this.wst.Yy]):[2];case 1:return t.sent(),[4,this.vet.play()];case 2:return t.sent(),[2]}})}).call(this)},n.zg=function(){return Vt(function(){return zt(this,function(t){return this.Xet&&this.Xet.Met().catch(dn),this.T9.Zg(),this.ast(),this.cst(),this.e9.zg(),this.Vo(),this.Gl.kn(),this.bet.kn(),this.Aet.kn(),[2]})}).call(this)},n.hr=function(){return Vt(function(){return zt(this,function(t){return this.Xet&&this.Xet.Met().catch(dn),this.T9.Zg(),this.vet.removeAttribute("src"),this.vet.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.vet.removeAttribute("x-airplay-deny"),this.vet.disableRemotePlayback=!1,this.vet.load(),this.e9.hr(),this.Ho=EA.rL(),[2]})}).call(this)},n.F8=function(){return Vt(function(){return zt(this,function(t){throw new p("Not supported")})})()},n.K7=function(){this.j7||(xr(this.vet,Ui.Zs),this.Q7=!0)},n.gst=function(){var t,i=this.vet.getClientRects();if(i.length>0){var n,r,e=(t=i[0]).width,s=this.vet.videoWidth/this.vet.videoHeight,u=t.height;e/u>s?(n=u*s,r=u):(r=e/s,n=e),this.vet.style.width=n+"px",this.vet.style.height=r+"px",this.vet.style.marginLeft=(e-n)/2+"px",this.vet.style.marginTop=(u-r)/2+"px",this.vet.style.backgroundColor="black"}},n.yst=function(){this.vet.style.width="100%",this.vet.style.height="100%",this.vet.style.marginLeft="",this.vet.style.marginTop="",this.vet.style.backgroundColor=""},n.bq=function(t,i,n,r,e){},n.sI=function(t,i,n,r,e,s,u,o,h){var a=new KP(t,i,n,r,e,s,u,h,o);return this.Gl.tt(a),this.J9.tt(a),a},n.Tq=function(t){throw y("Not supported.")},n.$Z=function(t){},n.V9=function(t){return ut.resolve({H9:!1})},n.hP=function(){return mR(this.vet)},n.be=function(){this.vet.style.display="block",this.bet.be()},n.we=function(){this.vet.style.display="none",this.bet.we()},n.G7=function(){},n.Un=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:if(t.Km===Iy.AV)throw new y("Not yet implemented");return[4,this.Xet.Det()];case 1:return r.sent(),i=Fn(t.fq,function(t){return t.xS.Km===Eo.jm}),n={kind:$x.Eet,mediaBufferConfigs:t.q4.map(function(t){return t.GT}),fairPlaySdkUri:null==i?void 0:i.GH},[4,this.Xet.Bet(n)];case 2:return r.sent(),this.aq=sB.jet(t,this.Xet,this.hw,this.vet),this.DZ.Un(this.aq,t),this.vet.setAttribute("x-webkit-airplay","deny"),this.vet.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),this.vet.disableRemotePlayback=!0,this.vet.preload="none",this.vet.src="https://theo.proxy/"+this.Xet.yT+"/master.m3u8",[2,this.aq]}})}).call(this)},n.X7=function(){},n.rV=function(t){this.Gl.it(t),this.J9.it(t)},n.Eq=function(){for(var t,i=Lt(this.Gl.NI.slice());!(t=i()).done;){t.value.kn()}this.Gl.hr()},n.$W=function(t){},n.wq=function(){return!1},n.Y7=function(t){t.appendChild(this.vet),this.bet.Y7(t)},n.zP=function(){return this.vet},n.$P=function(){},Nt(i,[{key:"hq",get:function(){return this.vet}},{key:"d5",get:function(){return!1}},{key:"zx",get:function(){return this.vet.currentTime+this.dst.Let}},{key:"lP",get:function(){return this.vet.paused}},{key:"OP",get:function(){return this.vet.volume},set:function(t){this.vet.volume=t}},{key:"vP",get:function(){return this.vet.playbackRate},set:function(t){this.vet.playbackRate=t}},{key:"lst",get:function(){return this.vet.defaultPlaybackRate}},{key:"Fx",get:function(){var t,i;return null!=(i=null==(t=this.aq)?void 0:t.Fx)?i:EA.rL()}},{key:"fst",get:function(){return EA.jn(this.vet.buffered)}},{key:"pP",get:function(){var t=this.vst;return this.Ho.HM(t.Ly(this.dst.Let))}},{key:"vst",get:function(){return EA.jn(this.vet.played)}},{key:"xP",get:function(){return this.Pz}},{key:"n5",get:function(){return!1}},{key:"_5",get:function(){return!1}},{key:"ct",get:function(){return this.vet.duration}},{key:"oP",get:function(){return this.vet.muted},set:function(t){this.vet.muted=t}},{key:"zit",get:function(){return this.vet.style}},{key:"ML",get:function(){return Yu({},FR,{BL:!0})}},{key:"AP",get:function(){return this.e9.AP}},{key:"DP",get:function(){return this.vet.videoHeight}},{key:"MP",get:function(){return this.vet.videoWidth}},{key:"Qx",get:function(){return this.vet.ended}},{key:"Mi",get:function(){return this.vet.offsetHeight*Ui.Zs.fp}},{key:"Ti",get:function(){return this.vet.offsetWidth*Ui.Zs.fp}},{key:"sP",get:function(){return!1}},{key:"j7",get:function(){return this.Q7}},{key:"Vx",get:function(){}},{key:"Wu",get:function(){return this.bst}},{key:"lt",get:function(){}},{key:"Ma",get:function(){return this.wet}},{key:"Sq",get:function(){return this.ea}},{key:"kP",get:function(){return this.aq?this.aq.kP:EA.rL()}},{key:"uq",get:function(){}},{key:"nt",get:function(){return this.Gl}},{key:"Ql",get:function(){return this.Oz}},{key:"WP",get:function(){return!1},set:function(t){}},{key:"a9",get:function(){return"block"===this.vet.style.display}},{key:"Rq",get:function(){return this.DZ.Rq},set:function(t){this.DZ.Rq=t}},{key:"J7",get:function(){},set:function(t){}},{key:"T8",get:function(){}}]),i}(th),oB=[eg.Bk,eg.Mk],hB=function(){function t(t,i,n,r,e,s){void 0===r&&(r=2),void 0===e&&(e=oB),void 0===s&&(s=Nd()),this.Cst=void 0,this.Ast=void 0,this.hw=void 0,this.Sst=void 0,this.sc=void 0,this.Oz=void 0,this.GJ=void 0,this.kst=void 0,this.Cst=r,this.Ast=[].concat(e),this.hw=s,this.sc=t,this.Oz=i,this.GJ=n,this.Sst=Ju(),this.Ist()}var i=t.prototype;return i.Est=function(t){for(var i,n=Lt(this.Fz);!(i=n()).done;){i.value.Y7(t)}},i.Yq=function(t){var i=this.Sst.get(t);if(i){var n=Fn(i,function(t){return t.xst});return n?(n.xst=!1,n.Tst):void 0}},i.Pst=function(t){if(!this.kst){var i,n=null==(i=this.Sst.get(eg.Mk))?void 0:i[0].Tst.hq;if(!n)throw new y("Error creating iOS Safari MediaController");this.kst=new uB(n,this.hw,this.sc,this.Oz),n.parentElement&&this.kst.Y7(n.parentElement)}return this.kst},i.Dq=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return i=t.hq,n=i.tagName.toLowerCase(),[4,t.hr()];case 1:return e.sent(),Nr(i),(r=Fn(this.Sst.get(n)||[],function(i){return t===i.Tst}))&&(r.xst=!0),[2]}})}).call(this)},i.Nz=function(){for(var t,i=Lt(this.Fz);!(t=i()).done;){t.value.K7()}},i.kn=function(){for(var t,i=Lt(this.Fz);!(t=i()).done;){var n=t.value,r=n.hq;n.zg(),Dr(r),Zi(r)}this.Sst.clear(),this.kst=void 0},i.Ist=function(){for(var t,i=Lt(this.Ast);!(t=i()).done;){var n=t.value,r=[];this.Sst.set(n,r);for(var e=0;e<this.Cst;e++){var s=Pr(n),u=n===eg.Bk?new NN(s,this.hw,this.sc,this.GJ):new Jx(s,this.hw,this.sc,this.Oz,this.GJ);r.push({Tst:u,xst:!0})}}},Nt(t,[{key:"Fz",get:function(){for(var t,i=[],n=Lt(this.Ast);!(t=n()).done;){var r=t.value,e=this.Sst.get(r);if(e){var s,u=e.map(function(t){return t.Tst});(s=i).push.apply(s,[].concat(u))}}return this.kst&&i.push(this.kst),i}}]),t}();U(),Et(),Wt(),Pt(),Qt(),U(),Et();var aB=function(){function t(t){this.aV=void 0,this.aV=t}var i=t.prototype;return i.vk=function(t){return this.aV.vk(t)},i.Jk=function(t){this.aV.Jk(t)},i.kn=function(){this.aV.kn()},t}(),cB=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).Mz=void 0,r.Mz=n,r}Ct(i,t);var n=i.prototype;return n.vk=function(t){var i=new Al(t),n=this.Mz.CY.DW(i);return n?this.Rst(i,n):this.aV.vk(i)},n.Rst=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return i.DY(Ui.Mg()/1e3),[4,this.aV.vk(t)];case 1:return n=s.sent(),i.NY(Ui.Mg()/1e3),r=n.YT?n.zT().pipeThrough(new Qd(new fB(i))):n.qT().then(function(t){var n=Ui.Mg()/1e3;return i.BY(n,new E(t)),i.MY(n),t}),e={lk:r,vk:n.vk},[2,new _l(e,n)]}})}).call(this)},i}(aB),fB=function(){function t(t){this.Dst=void 0,this.iZ=void 0,this.Dst=t}var i=t.prototype;return i.start=function(t){this.iZ=t},i.transform=function(t){this.Dst.BY(Ui.Mg()/1e3,t),this.iZ.enqueue(t)},i.flush=function(){this.Dst.MY(Ui.Mg()/1e3)},t}();function vB(t){return{get ratio(){return t.qo},get thresholds(){return t.Nst.slice()}}}function dB(t){var i=[],n=b.floor(1/t);if(S(n))return[];for(var r=0;r<=n;r++){var e=Tn(r*t,0,1);i.push(e)}return i}U(),Et(),xt(),Ft(),U(),Et(),xt(),Pt(),U(),Et();var lB=function(){function t(t,i,n){this.Bst=1,this.Mst=void 0,this.Ost=void 0,this.hu=void 0,this.Mst=dB(i);var r=this.Lst(n);this.Ost=new f.IntersectionObserver(r,{root:null,threshold:this.Mst}),this.Ost.observe(t)}var i=t.prototype;return i.Lst=function(t){var i=this;return function(n){var r=n[n.length-1];i.Bst=r.intersectionRatio,t(r.intersectionRatio)}},i.KP=function(){this.Ost.disconnect()},Nt(t,[{key:"qo",get:function(){return this.Bst}},{key:"Nst",get:function(){return this.Mst}},{key:"Ca",get:function(){return this.hu||(this.hu=vB(this)),this.hu}}]),t}(),wB=function(){function t(t,i){this.Mst=void 0,this.Vst=void 0,this.Bst=1,this.Ust=-1,this.hu=void 0,this.Mst=dB(t),this.Vst=i}return t.prototype.Fst=function(t){this.Bst=t;var i=this.Mst,n=0;if(t>0)for(;n<i.length&&i[n]<=t;)++n;this.Ust!==n&&(this.Ust=n,this.Vst(t))},Nt(t,[{key:"qo",get:function(){return this.Bst}},{key:"Nst",get:function(){return this.Mst}},{key:"Ca",get:function(){return this.hu||(this.hu=vB(this)),this.hu}}]),t}(),gB=function(t){function i(i,n,r){var e;return(e=t.call(this,n,r)||this).bo=void 0,e.Wst=wn(function(){return e.Fst(e.Hst())},50),e.bo=i,f.addEventListener("scroll",e.Wst,!!_I&&{passive:!0}),pr(function(){return e.Fst(e.Hst())}),e}Ct(i,t);var n=i.prototype;return n.Hst=function(){var t=this.bo.getBoundingClientRect();return Tn(b.max(0,b.min(f.innerWidth,t.right)-b.max(0,t.left))*b.max(0,b.min(f.innerHeight,t.bottom)-b.max(0,t.top))/(t.width*t.height),0,1)},n.KP=function(){f.removeEventListener("scroll",this.Wst)},i}(wB),_B=function(){function t(t){this.bo=void 0,this.zst=1,this.Gst=0,this.Qst=[],this.hu=void 0,this.bo=t,this.Do(.1,this.jst())}var i=t.prototype;return i.jst=function(t){var i=this;return function(n){i.zst=n,null==t||t(i.zst)}},i.Do=function(t,i){if(S(t))throw new p("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var n;return n="function"==typeof f.IntersectionObserver?new lB(this.bo,t,this.jst(i)):new gB(this.bo,t,this.jst(i)),this.Qst.push(n),n},i.Uo=function(t){t.KP(),Xn(this.Qst,t)},i.Xst=function(t){for(var i,n=Lt(this.Qst);!(i=n()).done;){var r=i.value;if(r.Ca===t)return r}},i.kn=function(){for(var t,i=Lt(this.Qst);!(t=i()).done;){t.value.KP()}Yn(this.Qst)},Nt(t,[{key:"qst",get:function(){return this.zst}},{key:"Lo",get:function(){return this.Gst},set:function(t){if(S(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.Gst=t}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get ratio(){return t.qst},get visible(){return t.qst>t.Lo},get visibleThreshold(){return t.Lo},set visibleThreshold(i){i=Xw(i),t.Lo=i},addObserver:function(i,n){return i=Xw(i),t.Do(i,n).Ca},removeObserver:function(i){var n=t.Xst(i);n&&t.Uo(n)}}}(this)),this.hu}}]),t}();U(),Et(),Pt();var mB=function(t){function i(){return t.call(this,eh.Iw)||this}return Ct(i,t),i}(rh),yB=function(t){function i(i,n,r,e){var s;(s=t.call(this)||this).dnt=void 0,s.Cd=void 0,s.Pa=void 0,s.cnt=void 0,s.Dx=void 0,s.oJ=void 0,s.bJ=void 0,s.ant=void 0,s.ont=void 0,s.Mz=void 0,s.Lz=void 0,s.rnt=void 0,s.QJ=void 0,s.tnt=void 0,s.unt=void 0,s.Oz=void 0,s.Yst=!1,s.ko=!1,s.yO=void 0,s.bz=void 0,s.lnt=!1,s.Bz=void 0,s.Zst=void 0,s.ent=void 0,s.$st=void 0,s.Jc=void 0,s.Io=void 0,s.int=void 0,s.Na=void 0,s.hnt=function(t){if(!s.lnt){s.lnt=!0;var i=s.dnt,n=cg(t);s.Pa.OI=new uS(s.xe,n,t),kr(i.kn())}},s.fnt=function(t){t.type!==eh.Xw&&t.type!==eh.Gw&&s.So(t)};var u=Xw(n.uid);S(u)?s.yO=kg++:s.yO=u,s.Cd=n;var o=Ui.Dx,h=new RR;s.cnt=new rI("10.3.0",o,h),s.Mz=new hR,s.Lz=new Db;var a=new cB(o,s.Mz);s.Dx=new YI(a,n.allowMixedContent),s.QJ=null!=r?r:new DE(n.isEmbeddable,"10.3.0",SE()),s.rnt=new IR(o,s.QJ,s.cnt,h,n,SE()),s.rnt.qJ().catch(s.hnt),s.tnt=new AI(i),s.tnt.wn(fI.yn,s.Rs),s.Oz=new BR;var c=new(null!=e?e:hB)(s.tnt,s.Oz,n);c.Est(i),s.oJ=new dR,s.bJ=new wR;var f=new sS(i,n,s.Dx,s.Mz,s.Lz,c,s.Oz);s.Mz.GY(f);var v=f;return v=new lR(v,s.snt),v=new gR(v,s.yJ),s.dnt=v,s.Pa=new WT(s.dnt),s.Pa.lw(s.fnt),s.int=new _R(s.Pa),s.ent=new ZI(s.Pa,s.Dx,s.Mz),s.ant=new cI(s),s.unt=new PI(s.Pa,n.allowNativeFullscreen),s.ont=new MI(s.unt,s.Pa.Aa()),s.tnt._n(),s.Io=new _B(i),s.Bz=new hB(s.tnt,s.Oz,n,1,[eg.Mk]),s.Zst=new FI(s.Bz),s.$st=new kR,s}Ct(i,t);var n=i.prototype;return n.Ux=function(){return this.Pa.Fx},n.Gx=function(){return this.Pa.zx},n.Xx=function(t,i){this.Pa.Xx(t,i)},n.nnt=function(){return this.Gx()},n.Nd=function(){return this.Pa.ct},n.Yx=function(){return this.Pa.lt},n.Zx=function(){return this.Pa.Jx},n.uP=function(t){this.Pa.oP=t,t||this.lP||this.GP()},n._P=function(){return this.Pa.vP},n.gP=function(t){this.Pa.vP=t},n.mP=function(){return this.Pa.pP},n.EP=function(){return this.Pa.kP},n.UP=function(t){this.Pa.OP=t},n.Ea=function(){IT(this,yS,this)},n.QP=function(){this.Pa.QP()},n.jP=function(){this.Pa.jP()},n.nu=function(){return this.bz},n.Ta=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.bz=t,t?(this.rnt.Nj(t).catch(this.hnt),n=function(t){t.sources;var i=t.sources.filter(function(t){return Fi(t.integration)});return t.sources=i,t}(t),[4,this.Pa.Ta(n,i)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})}).call(this)},n.IP=function(t,i,n){return this.Pa.IP(t,i,n)},n.CP=function(){return this.Pa.CP()},n.GP=function(){if(!this.ko){this.Pa.GP(),this.Zst.GP();for(var t=this.xe.getElementsByTagName("video"),i=0;i<t.length;i++){var n=t[i];"Advertisement"===n.title&&xr(n,Ui.Zs)}this.ko=!0}},n.ds=function(){return this.ont.Wo()===kT.FULLSCREEN},n.be=function(){this.Pa.be()},n.we=function(){this.Pa.we()},n.zP=function(){return this.Pa.zP()},n.$P=function(){this.Pa.$P()},n.tI=function(){this.Pa.tI()},n.sI=function(t){return this.Pa.sI(t)},n.KP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.bz=void 0,[4,this.Pa.KP()];case 1:return t.sent(),[4,this.Pa.hr()];case 2:return t.sent(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.So(new mB),this.Vo(),this.$st.kn(),this.Dx.kn(),this.ent.kn(),this.ant.kn(),this.unt.kn(),this.ont.kn(),this.tnt.kn(),this.cnt.kn(),this.Zst.kn(),this.Bz.kn(),[4,this.Pa.kn()];case 1:return t.sent(),[2]}})}).call(this)},Nt(i,[{key:"Kst",get:function(){return this.Mz}},{key:"vO",get:function(){return this.Yst},set:function(t){this.Yst=t,this.Pa.vO=t}},{key:"Jst",get:function(){return this.Zst}},{key:"ht",get:function(){return this.Pa.ht}},{key:"GX",get:function(){return this.$st}},{key:"Wu",get:function(){return this.tnt}},{key:"$x",get:function(){return this.Pa.$x}},{key:"iP",get:function(){return this.Pa.iP}},{key:"rP",get:function(){return this.int}},{key:"lX",get:function(){return this.ent}},{key:"nt",get:function(){return this.Pa.nt}},{key:"Ql",get:function(){return this.Oz}},{key:"rt",get:function(){return this.Pa.rt}},{key:"Fx",get:function(){return this.Ux()}},{key:"snt",get:function(){return this.oJ}},{key:"yJ",get:function(){return this.bJ}},{key:"zx",get:function(){return this.Gx()},set:function(t){this.Xx(t)}},{key:"Vx",get:function(){return this.Pa.Vx},set:function(t){this.Pa.Vx=t}},{key:"bt",get:function(){return this.Pa.bt}},{key:"ct",get:function(){return this.Nd()}},{key:"xe",get:function(){return this.Pa.xe}},{key:"Qx",get:function(){return this.Pa.Qx}},{key:"lt",get:function(){return this.Yx()}},{key:"Jx",get:function(){return this.Zx()}},{key:"Ma",get:function(){return this.Pa.qP()}},{key:"Sq",get:function(){return this.Pa.Aa()}},{key:"WP",get:function(){return this.Pa.WP},set:function(t){this.Pa.WP=t}},{key:"oP",get:function(){return this.Pa.oP},set:function(t){var i=Boolean(t);this.uP(i)}},{key:"lP",get:function(){return this.Pa.lP}},{key:"vP",get:function(){return this._P()},set:function(t){this.gP(t)}},{key:"pP",get:function(){return this.mP()}},{key:"wP",get:function(){return this.Pa.wP},set:function(t){this.Pa.wP=t}},{key:"AP",get:function(){return this.Pa.AP}},{key:"kP",get:function(){return this.EP()}},{key:"xP",get:function(){return this.Pa.xP}},{key:"JI",get:function(){return this.yO}},{key:"DP",get:function(){return this.Pa.DP}},{key:"MP",get:function(){return this.Pa.MP}},{key:"OP",get:function(){return this.Pa.OP},set:function(t){var i=Tn(Number(t),0,1)||0;this.UP(i)}},{key:"VP",get:function(){return this.Lz}}]),i}(nh);U(),Et();var pB=self.CustomEvent;var kB=function(){try{var t=new pB("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,i){return new CustomEvent(t,i)}:function(t,i){var n=v.createEvent("CustomEvent");return n.initCustomEvent(t,(null==i?void 0:i.bubbles)||!1,(null==i?void 0:i.cancelable)||!1,null==i?void 0:i.detail),n};U(),Et(),xt(),Ft();var bB=function(){function t(){this.dO=[],this.hu=void 0}var i=t.prototype;return i.MI=function(t){return this.dO[t]},i._$=function(t){this.dO.push(t),this.Ca.push(t.Ca)},i.pS=function(t){var i=this.dO.indexOf(t);i<0||(qn(this.dO,i),this.hu&&qn(this.hu,i))},i.xnt=function(t){for(var i,n=Lt(this.dO);!(i=n()).done;){var r=i.value;if(r.JI===t)return r}},Nt(t,[{key:"V",get:function(){return this.dO.length}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){for(var i=[],n=0;n<t.V;n++)i[n]=t.MI(n).Ca;return i.getPlayerByUID=function(i){var n=t.xnt(i);return n&&n.Ca},i}(this)}}]),t}();var AB=new bB;function TB(t){var i,n,r=function(i){n=i;var r=cE(i,t.Cd);t.Ta(r)},e={get abr(){return t.Kst.Ca},get ads(){var i;return null==(i=t.Jc)?void 0:i.Ca},get audioTracks(){return t.ht.Ca},get autoplay(){return t.vO},set autoplay(i){t.vO=Boolean(i)},get buffered(){return t.Ux()},get canvas(){return t.ant.Ca},get cast(){var i;return null==(i=t.GX)?void 0:i.Ca},get clip(){return t.snt.Ca},get currentProgramDateTime(){var i;return null!=(i=t.Vx)?i:null},set currentProgramDateTime(i){t.Vx=null!=i?i:void 0},get currentTime(){return t.Gx()},set currentTime(i){t.Xx(Number(i))},get duration(){return t.Nd()},get element(){return t.xe},get ended(){return t.Qx},get error(){return t.Yx()},get errorObject(){return t.Zx()},get loop(){return t.yJ.yJ},set loop(i){t.yJ.yJ=Boolean(i)},get metrics(){return t.rP.Ca},get muted(){return t.oP},set muted(i){t.uP(i)},get network(){return t.lX.Ca},get paused(){return t.lP},get playbackRate(){return t.vP},set playbackRate(i){var n=Number(i);if(n<0)throw new RangeError("playbackRate must be a positive number");t.vP=n},get played(){return t.mP()},get poster(){return t.gi},set poster(i){t.gi=Gw(i)},get preload(){return t.wP},set preload(i){t.wP=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(i)},get presentation(){return t.ont.Ca},get readyState(){return t.AP},get seekable(){return t.EP()},get seeking(){return t.xP},get source(){return n},set source(t){r(t)},get src(){return ZS(t.nu())},set src(t){r({sources:t})},get textTracks(){return t.nt.Ca},get textTrackStyle(){return t.Ql.Ca},get theoLive(){return t.pnt},get uid(){return t.JI},get videoHeight(){return t.DP},get videoTracks(){return t.rt.Ca},get videoWidth(){return t.MP},get visibility(){return t.Io.Ca},get volume(){return t.OP},set volume(i){t.UP(Number(i))},get latency(){return t.VP.Ca},get theoads(){return t.wnt},get millicast(){return t.iP.Ca},destroy:function(){t.kn(),t=null,n=void 0},play:function(){t.Pnt()},pause:function(){t.jP()},stop:function(){n=void 0,t.KP()},prepareWithUserAction:function(){t.GP()},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)},setSource:function(t){r(t)},addTextTrack:function(i){return t.sI(function(t){return{Lt:Gw(t.kind),Th:Gw(t.label),bs:Gw(t.language),Km:Gw(t.type)}}(i)).Ca}};return(i=new xI(e,!0)).au(t),i.wn("destroy",function(){i.kn()}),e}U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),U(),Et(),U(),Et(),Pt();var SB=function(t){function i(i){var n;return(n=t.call(this,eh.do)||this).source=void 0,n.source=i,n}return Ct(i,t),i}(rh);U(),Et(),xt(),Pt();var EB=function(t){function i(){var i;return(i=t.call(this)||this).xz=void 0,i.Cz=void 0,i.Pz=void 0,i.Rz=void 0,i.xz=0,i.Cz=!0,i.Pz=!1,i.Rz=1,i}Ct(i,t);var n=i.prototype;return n.Gx=function(){return this.xz},n.nnt=function(){return this.Gx()},n.Xx=function(t,i){this.Pz&&this.xz===t||(this.xz=t,this.Pz=!0,this.So(new wT(this.xz)))},n.QP=function(){this.Cz&&(this.Cz=!1,this.So(new fT(this.xz)),this.So(new By(this.xz)))},n.jP=function(){this.Cz||(this.Cz=!0,this.So(new bw(this.xz,this.Vx)),this.So(new cT(this.xz)))},n.hr=function(){this.xz=0,this.Pz=!1,this.Rz=1,this.jP()},n.kn=function(){this.Vo()},n.we=function(){},n.be=function(){},Nt(i,[{key:"Vx",get:function(){},set:function(t){}},{key:"zx",get:function(){return this.Gx()},set:function(t){this.Xx(t)}},{key:"lP",get:function(){return this.Cz}},{key:"vP",get:function(){return this.Rz},set:function(t){this.Rz!==t&&(this.Rz=t,this.So(new dT(this.xz,this.vP)))}},{key:"AP",get:function(){return Dy.zL}},{key:"xP",get:function(){return this.Pz}}]),i}(nh);U(),Et(),xt();var IB={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},RB={visibility:"hidden"},CB={visibility:"visible"},PB=function(){function t(t){var i=this;this.Ls=void 0,this.oa=void 0,this.Dnt=!1,this.Int=void 0,this.Cnt=void 0,this.Nnt=function(t){var n;i.Dnt=!i.oa.lP,i.Int=null==(n=t.source)?void 0:n.poster,i.er()},this.HV=function(){i.Dnt=!0,i.we()},this.oa=t,this.wz(),this.Ls=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",hn(IB,t),t}(),t.xe.appendChild(this.Ls)}var i=t.prototype;return i.er=function(){var t=this.oa.lP,i=this.Dnt;this.Yu?this.Ls.style.backgroundImage='url("'+jo(this.Yu)+'")':this.Ls.style.backgroundImage="",t&&this.Yu&&!i?this.be():this.we()},i.be=function(){hn(RB,this.oa.xe),hn(CB,this.Ls)},i.we=function(){hn(RB,this.Ls),hn(CB,this.oa.xe)},i.wz=function(){this.oa.wn(eh.do,this.Nnt),this.oa.wn(eh.uo,this.HV)},i.kn=function(){this.oa.mn(eh.do,this.Nnt),this.oa.mn(eh.uo,this.HV),Zi(this.Ls)},Nt(t,[{key:"Yu",get:function(){return void 0!==this.Int?this.Int:void 0!==this.Cnt?this.Cnt:void 0}},{key:"Rnt",set:function(t){this.Cnt=t,this.er()}}]),t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),U(),Et();var DB=function(t){return t[t.Bnt=0]="Bnt",t[t.Mnt=1]="Mnt",t}({});function NB(t){var i,n={get playing(){return t.zc},get currentAds(){return t.Lnt.map(function(t){return t.Ont()})},get currentAdBreak(){var i,n;return null!=(n=null==(i=t.Fnt)?void 0:i.Ont())?n:null},get scheduledAds(){return t.Unt.map(function(t){return t.Ont()})},get scheduledAdBreaks(){return t.Vnt.map(function(t){return t.Ont()})},skip:function(){t.uD()},skipAdBreak:function(i){t.Hnt(null!=i?i:void 0)},schedule:function(i){var n=hE(i,kS.Bg);n?t.W6(n,DB.Bnt,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(i,n){t.Wnt(i,n)},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new vR(t,n),n}var xB=function(t){function i(i){var n,r;return(n=t.call(this)||this).qc=void 0,n.hu=void 0,n.qc=i,null==(r=n.qc)||r.lw(n.Rs),n}Ct(i,t);var n=i.prototype;return n.W6=function(t,i,n){var r;null==(r=this.qc)||r.W6(t,i,n)},n.qnt=function(t){var i;null==(i=this.qc)||i.qnt(t)},n.uD=function(){var t;null==(t=this.qc)||t.uD()},n.Hnt=function(t){var i;null==(i=this.qc)||i.Hnt(t)},n.znt=function(t){var i;null==(i=this.qc)||i.znt(t)},n.Wnt=function(t,i){var n;null==(n=this.qc)||n.Wnt(t,i)},n.kn=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Vo(),void 0===this.qc?[3,3]:(this.qc.mw(this.Rs),t?[3,2]:[4,this.qc.kn()]);case 1:i.sent(),i.label=2;case 2:this.qc=void 0,i.label=3;case 3:return[2]}})}).call(this)},Nt(i,[{key:"zc",get:function(){return!!this.qc&&this.qc.zc}},{key:"Lnt",get:function(){return this.qc?this.qc.Lnt:[]}},{key:"Fnt",get:function(){return this.qc?this.qc.Fnt:null}},{key:"Unt",get:function(){return this.qc?this.qc.Unt:[]}},{key:"Vnt",get:function(){return this.qc?this.qc.Vnt:[]}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=NB(this)}}]),i}(nh);U(),Et(),Pt(),U(),Et(),Pt();var BB=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).od=void 0,r.od=n,r}return Ct(i,t),i}(Aw),OB=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).adBreak=void 0,r.adBreak=n,r}return Ct(i,t),i}(rh),MB=function(t){function i(i){return t.call(this,"Gnt",i)||this}return Ct(i,t),i.prototype.xa=function(){return new LB(this.od.Ont())},i}(BB),LB=function(t){function i(i){return t.call(this,"removeadbreak",i)||this}return Ct(i,t),i}(OB);U(),Et(),Pt();var FB=function(t){function i(i){return t.call(this,"Xnt",i)||this}return Ct(i,t),i.prototype.xa=function(){return new UB(this.od.Ont())},i}(BB),UB=function(t){function i(i){return t.call(this,"addadbreak",i)||this}return Ct(i,t),i}(OB);U(),Et(),Pt(),U(),Et(),Pt();var VB=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).jnt=void 0,r.jnt=n,r}return Ct(i,t),i}(Aw),HB=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).ad=void 0,r.ad=n,r}return Ct(i,t),i}(rh),WB=function(t){function i(i){return t.call(this,"Qnt",i)||this}return Ct(i,t),i.prototype.xa=function(){return new zB(this.jnt.Ont())},i}(VB),zB=function(t){function i(i){return t.call(this,"addad",i)||this}return Ct(i,t),i}(HB);U(),Et(),Pt();var XB=function(t){function i(i){return t.call(this,"Knt",i)||this}return Ct(i,t),i.prototype.xa=function(){return new qB(this.od.Ont())},i}(BB),qB=function(t){function i(i){return t.call(this,"adbreakend",i)||this}return Ct(i,t),i}(OB);U(),Et(),Pt();var GB=function(t){function i(i){return t.call(this,"Ynt",i)||this}return Ct(i,t),i.prototype.xa=function(){return new jB(this.od.Ont())},i}(BB),jB=function(t){function i(i){return t.call(this,"adbreakbegin",i)||this}return Ct(i,t),i}(OB);U(),Et(),Pt();var QB=function(t){function i(i,n){var r;return(r=t.call(this,"Jnt",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i.prototype.xa=function(){return new YB(this.jnt.Ont(),this.currentTime)},i}(VB),YB=function(t){function i(i,n){var r;return(r=t.call(this,"adbegin",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i}(HB);U(),Et(),Pt();var KB=function(t){function i(i,n){var r;return(r=t.call(this,"Znt",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i.prototype.xa=function(){return new JB(this.jnt.Ont(),this.currentTime)},i}(VB),JB=function(t){function i(i,n){var r;return(r=t.call(this,"adend",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i}(HB);U(),Et(),Pt();var ZB=function(t){function i(){return t.call(this,"$nt")||this}return Ct(i,t),i.prototype.xa=function(){return new $B},i}(Aw),$B=function(t){function i(){return t.call(this,"adadded")||this}return Ct(i,t),i}(rh),tO=function(t){function i(i){var n;return(n=t.call(this,void 0)||this).oa=void 0,n.oa=i,n}return Ct(i,t),Nt(i,[{key:"OI",get:function(){return this.qc},set:function(t){var i=this.qc;if(i!==t){var n=this.Lnt,r=this.Fnt,e=this.Unt,s=this.Vnt;null==i||i.mw(this.Rs),this.qc=t,null==t||t.lw(this.Rs);for(var u,o=this.Lnt,h=this.Fnt,a=this.Unt,c=this.Vnt,f=[],v=!1,d=Lt(s);!(u=d()).done;){var l=u.value;jn(c,l)||f.push(new MB(l))}for(var w,g=Lt(c);!(w=g()).done;){var _=w.value;jn(s,_)||f.push(new FB(_))}for(var m,y=Lt(a);!(m=y()).done;){var p=m.value;jn(e,p)||(f.push(new WB(p)),v=!0)}v&&f.push(new ZB),r!==h&&(r&&f.push(new XB(r)),h&&f.push(new GB(h)));for(var k,b=Lt(n);!(k=b()).done;){var A=k.value;jn(o,A)||f.push(new KB(A,this.oa.Gx()))}for(var T,S=Lt(o);!(T=S()).done;){var E=T.value;jn(n,E)||f.push(new QB(E,this.oa.Gx()))}for(var I,R=Lt(f);!(I=R()).done;){var C=I.value;this.So(C)}}}}]),i}(xB);U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt();var iO=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).zc=!1,i.Fnt=null,i.Lnt=[],i.Vnt=[],i.Unt=[],i.hu=void 0,i}Ct(i,t);var n=i.prototype;return n.znt=function(t){},n.Wnt=function(t,i){},n.W6=function(t,i,n){},n.uD=function(){},n.Hnt=function(t){},n.qnt=function(t){},n.kn=function(){return this.Vo(),ut.resolve()},Nt(i,[{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=NB(this)}}]),i}(nh),nO=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).rrt=[],i.trt=[],i}Ct(i,t);var n=i.prototype;return n.W6=function(t,i,n){this.trt.push({irt:t,ert:i,nrt:n})},n.uD=function(){},n.znt=function(t){},n.Wnt=function(t,i){this.rrt.push({IC:t,hrt:i})},n.qnt=function(t){var i=this.rrt.slice(),n=this.trt.slice();this.hr();for(var r,e=Lt(i);!(r=e()).done;){var s=r.value;t.Wnt(s.IC,s.hrt)}for(var u,o=Lt(n);!(u=o()).done;){var h=u.value;t.W6(h.irt,h.ert,h.nrt)}},n.ort=function(){var t=this.trt.map(function(t){return t.irt});return this.hr(),t},n.hr=function(){Yn(this.rrt),Yn(this.trt)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.hr(),[4,t.prototype.kn.call(i)];case 1:return n.sent(),[2]}})}).call(this)},i}(iO);U(),Et(),Pt();var rO=function(t){function i(i){var n;return(n=t.call(this,"tizen2retry")||this).originalErrorEvent=void 0,n.originalErrorEvent=i,n}return Ct(i,t),i}(rh);var eO=_n(function(){var t=yB;t=function(t){return function(i){function n(n,r){for(var e,s=new t(n,r),u=Lt(Xb);!(e=u()).done;)for(var o,h=Lt(e.value);!(o=h()).done;)s=(0,o.value)(s);return i.call(this,s)||this}return Ct(n,i),n}(Ub)}(t);var i=function(t){return function(i){function n(n,r){var e;return(e=i.call(this)||this).oa=void 0,e.art=void 0,e.wrt=void 0,e.crt=void 0,e.grt=void 0,e.ta=void 0,e.mrt=void 0,e.yrt=!0,e.Z7=Dy.zL,e.kz=void 0,e.prt=!1,e.bz=void 0,e.nq=void 0,e.Wz=void 0,e.qc=void 0,e.Art=void 0,e.hu=void 0,e.lrt=function(t){t.type!==eh.Kw&&e.mrt.push(t)},e.brt=function(t){(t.type!==eh.uo||e.oa.lP)&&(t.type===eh.jw&&e.oa.lP||t.type===eh.$w&&e.oa.xP&&e.oa.Gx()===t.currentTime||t.type===eh.Kw&&e.oa.vP===t.playbackRate||e.So(t))},e.iI=function(t){if(e.prt){if(t.type===Ry.xM)return;t.type!==Ry.SM&&t.type!==Ry.PM||(e.prt=!1)}if(t.type===eh.uo){if(!e.yrt)return;e.yrt=!1}else if(t.type===eh.jw){if(e.yrt)return;e.yrt=!0}else if(t.type===Ry.AI){if(e.Z7===t.readyState)return;e.Z7=t.readyState}else if(t.type===eh.Iw)return;e.So(t)},e.art=new t(n,r),e.wrt=new EB,e.oa=e.art,e.crt=new PB(e),e.art.Jc&&(e.qc=new tO(e),e.qc.OI=e.art.Jc,e.Art=new nO),e.ta=new bd,e.mrt=[],e.kz=!0,e.wz(),e}Ct(n,i);var r=n.prototype;return r._P=function(){return this.art.vP},r.gP=function(t){this.oa.vP=t},r.Zo=function(t,i){return Vt(function(){return zt(this,function(n){return[2,this.ta.Zo(t,i).catch(wr)]})}).call(this)},r.drt=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:dr(i),this.art.lw(this.lrt),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.art.Ta(t,i)];case 2:return n.sent(),[3,4];case 3:return this.art.mw(this.lrt),[7];case 4:return[2]}})}).call(this)},r.urt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,this.frt()];case 1:return t=i.sent(),this.vrt(t),[2]}})}).call(this)},r.frt=function(){return Vt(function(){var t;return zt(this,function(i){return(t=this.nu())&&!YS(t)&&this.vO&&this.lP?[2,this.Jst.XK(this.oP)]:[2,"none"]})}).call(this)},r.vrt=function(t){var i,n=(null==(i=this.nu())?void 0:i.mutedAutoplay)||this.Cd.mutedAutoplay;switch(t){case"all":this.Pnt();break;case"muted":(this.oP||n===bT.ALL)&&(this.oP=!0,this.QP())}},r.Ta=function(t){var i=this;YS(this.bz)||this.So(new aT(0,Dy.zL)),this.hr(),this.bz=t,kr(this.Zo(function(n){return Vt(function(){var i,r;return zt(this,function(e){switch(e.label){case 0:dr(n),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,this.drt(t,n)];case 2:return e.sent(),[3,5];case 3:return lr(i=e.sent()),this.bz=void 0,this.Qq(wd(i,vd.SOURCE_NOT_SUPPORTED)),[2];case 4:return this._rt(this.art),[7];case 5:return[4,this.frt()];case 6:return r=e.sent(),this.So(new SB(this.nu())),this.vrt(r),[2]}})}).call(i)}))},r.Xx=function(t,i){this.oa.Xx(t,i)},r.Yx=function(){var t;return null!=(t=this.Wz)?t:this.art.Yx()},r.Zx=function(){var t;return null!=(t=this.nq)?t:this.art.Zx()},r.Qq=function(t){void 0===this.Zx()&&(this.nq=t,this.Wz=cg(t),this.So(new yb(t)))},r.QP=function(){this.oa.QP()},r.Pnt=function(){this.oP||this.GP(),this.QP()},r.GP=function(){this.art.GP()},r.jP=function(){this.oa.jP()},r.KP=function(){this.Ta(void 0)},r.be=function(){this.kz=!0,this.oa.be()},r.we=function(){this.kz=!1,this.oa.we()},r.Ea=function(){this.art.Ea()},r.UP=function(t){this.art.UP(t)},r.uP=function(t){this.art.uP(t)},r.Ba=function(t){this.grt=t,t._$(this)},r.ds=function(){return this.art.ds()},r.nu=function(){return this.bz},r.zP=function(){return this.art.zP()},r.Gx=function(){return this.oa.Gx()},r.nnt=function(){return this.oa.nnt()},r.Nd=function(){return this.art.Nd()},r.Ux=function(){return this.art.Ux()},r.mP=function(){return this.art.mP()},r.EP=function(){return this.art.EP()},r.$P=function(){this.art.$P()},r.tI=function(){this.art.tI()},r.sI=function(t){return this.art.sI(t)},r.hr=function(){var t=this;this.bz=void 0,this.nq=void 0,this.Wz=void 0,this.prt=!0,Yn(this.mrt),this.wrt.hr(),this._rt(this.wrt),this.ta.Zg(),kr(this.ta.Zo(function(i){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return dr(i),[4,this.art.KP()];case 1:return t.sent(),[2]}})}).call(t)}))},r.kn=function(){var t=this;this.So(new mB),this.crt.kn(),this.yz(),this.hr(),kr(this.Zo(function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.art.kn()];case 1:return t.sent(),this.grt&&(this.grt.pS(this),this.grt=void 0),this.ta.kn(),[2]}})}).call(t)})),this.Vo()},r._rt=function(t){if(this.oa!==t){var i=this.oa.lP,n=this.oa.Gx(),r=this.oa.vP,e=this.oa.AP,s=this.oa.xP;this.yrt=i,this.Z7=e,this.yz(),t.lw(this.brt),t===this.art?(void 0!==this.qc&&(this.qc.OI=t.Jc,this.Art.qnt(this.qc)),(s||t.Gx()!==n)&&t.Xx(n),t.vP!==r&&(t.vP=r),i?t.jP():t.QP()):(void 0!==this.qc&&(this.qc.OI=this.Art,this.Art.hr()),this.Cd.retainPlaybackRateOnSourceChange?t.vP=r:1!==r&&this.So(new dT(this.Gx(),1))),t.mw(this.brt),this.oa=t,this.wz();for(var u,o=Lt(this.mrt);!(u=o()).done;){var h=u.value;this.So(h)}Yn(this.mrt),this.kz?t.be():t.we()}},r.wz=function(){this.oa.lw(this.iI)},r.yz=function(){this.oa.mw(this.iI)},r.xa=function(){return TB(this)},Nt(n,[{key:"cnt",get:function(){return this.art.cnt}},{key:"Jc",get:function(){return this.qc}},{key:"ant",get:function(){return this.art.ant}},{key:"Cd",get:function(){return this.art.Cd}},{key:"Dx",get:function(){return this.art.Dx}},{key:"Ma",get:function(){return this.art.Ma}},{key:"Sq",get:function(){return this.art.Sq}},{key:"ont",get:function(){return this.art.ont}},{key:"tnt",get:function(){return this.art.tnt}},{key:"Pa",get:function(){return this.art.Pa}},{key:"Kst",get:function(){return this.art.Kst}},{key:"vO",get:function(){return this.art.vO},set:function(t){this.art.vO=t,this.urt()}},{key:"Jst",get:function(){return this.art.Jst}},{key:"ht",get:function(){return this.art.ht}},{key:"GX",get:function(){return this.art.GX}},{key:"Wu",get:function(){return this.art.tnt}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}},{key:"$x",get:function(){return this.art.$x}},{key:"iP",get:function(){return this.art.iP}},{key:"WP",get:function(){return this.art.WP},set:function(t){this.art.WP=t}},{key:"rP",get:function(){return this.art.rP}},{key:"lX",get:function(){return this.art.lX}},{key:"nt",get:function(){return this.art.nt}},{key:"Ql",get:function(){return this.art.Ql}},{key:"rt",get:function(){return this.art.rt}},{key:"snt",get:function(){return this.art.snt}},{key:"yJ",get:function(){return this.art.yJ}},{key:"Vx",get:function(){return this.oa.Vx},set:function(t){this.oa.Vx=t}},{key:"bt",get:function(){return this.art.bt}},{key:"xe",get:function(){return this.art.xe}},{key:"Qx",get:function(){return this.art.Qx}},{key:"oP",get:function(){return this.art.oP},set:function(t){this.uP(t)}},{key:"lP",get:function(){return this.oa.lP}},{key:"gi",get:function(){return this.crt.Yu||""},set:function(t){this.crt.Rnt=t}},{key:"vP",get:function(){return this._P()},set:function(t){this.gP(t)}},{key:"wP",get:function(){return this.art.wP},set:function(t){this.art.wP=t}},{key:"AP",get:function(){return this.oa.AP}},{key:"Na",get:function(){return this.art.Na},set:function(t){this.art.Na=t}},{key:"xP",get:function(){return this.oa.xP}},{key:"pnt",get:function(){return this.art.pnt}},{key:"wnt",get:function(){return this.art.wnt}},{key:"JI",get:function(){return this.art.JI}},{key:"DP",get:function(){return this.art.DP}},{key:"MP",get:function(){return this.art.MP}},{key:"OP",get:function(){return this.art.OP},set:function(t){this.UP(t)}},{key:"VP",get:function(){return this.art.VP}},{key:"rnt",get:function(){return this.art.rnt}},{key:"Io",get:function(){return this.art.Io}}]),n}(nh)}(t);return Bi.w_&&Bi.b_<3&&(i=function(t){return function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Srt=0,i}Ct(i,t);var n=i.prototype;return n.Ta=function(i){this.Srt=0,t.prototype.Ta.call(this,i)},n.So=function(i){if(i.type===qm.ma&&this.Srt<3)return this.Srt++,t.prototype.So.call(this,new rO(i)),void t.prototype.Ta.call(this,this.nu());t.prototype.So.call(this,i)},i}(t)}(i)),i=function(t){for(var i,n=t,r=Lt(Hb);!(i=r()).done;)for(var e,s=Lt(i.value);!(e=s()).done;)n=(0,e.value)(n);return n}(i),i});function sO(t,i){var n=TT(i),r=new(eO())(t,n);r.Na=r;var e=r.Ca;return r.Ea(),r.Ba(AB),k.defineProperty(e,"constructor",{value:sO}),e=function(t){return Bw(t)}(e),function(t){for(var i,n=Lt(Gb);!(i=n()).done;)(0,i.value)(t)}(r),e}pr(function(){self.dispatchEvent&&self.dispatchEvent(kB("theoplayerready"))}),U(),Et();var uO=function(){function t(){}var i=t.prototype;return i.encode=function(t){return kh(t)},i.decode=function(t){return mh(t)},t}(),oO={base64:new uO};U(),Et();var hO=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor"]'),aO="10.3.0",cO=AB.Ca,fO=dp.VC.registerContentProtectionIntegration.bind(dp.VC);U(),Et(),U(),Et();var vO=function(){function t(){}var i=t.prototype;return i.XK=function(t){return ut.resolve("all")},i.GP=function(){},i.kn=function(){},t}();Bi.k_&&Bi.x_?UI(vO):UI(LI),U(),Et(),U(),Et(),Pt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Qt();var dO=function(){function t(){}var i=t.prototype;return i.Jq=function(t){return Vt(function(){return zt(this,function(i){return[2,qA(t.type)]})})()},i.Zq=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,Np(t,!0)];case 1:return i.sent()?[2,!0]:[2,!1]}})})()},t}(),lO=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Jq=function(i){var n=this;return Vt(function(){return zt(this,function(r){return Pe(i.useManagedMediaSource)?[2,t.prototype.Jq.call(n,i)]:[2,!1]})})()},i}(dO);function wO(t){return UR(t)}function gO(t){var i=Bi.S_||Bi.w_,n=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some(function(t){return"ac-3"===t||"ec-3"===t}),r=i&&!n,e=new Ce(!0);return function(t){return Vt(function(){var i,n,s;return zt(this,function(u){switch(u.label){case 0:return i=t.GT,e.Fp(i)||function(t,i){return!!t&&(Xv(t)?ny(i)||ey(i):Lo(t,Uv)||Lo(t,Hv)||Lo(t,Fv))}(t.lQ,t.Rrt)?(n=t.Rrt.some(function(t){return"ac-3"===t||"ec-3"===t}),r&&n?[2,!1]:t.NW?(s=t.NW,[4,er(Jn(s,function(t){return Oo(t.x8)}).filter(Li),function(t){return Ui.Sm(t,i)})]):[3,2]):[2,!1];case 1:if(!u.sent())return[2,!1];u.label=2;case 2:return[2,!0]}})})()}}U(),Et(),Wt(),Pt(),Qt(),U(),Et(),U(),Et(),Wt(),Qt(),U(),Et(),xt();var _O=function(){function t(t){this.Drt=void 0,this.Drt=t}return Nt(t,[{key:"Mi",get:function(){return this.Drt.offsetHeight*Ui.Zs.fp}},{key:"Ti",get:function(){return this.Drt.offsetWidth*Ui.Zs.fp}}]),t}();U(),Et(),Wt(),Pt(),Qt(),U(),Et();var mO=function(){function t(t){this.MW=void 0,this.MW=t}var i=t.prototype;return i.Yq=function(t){return this.MW.Yq(t)},i.Pst=function(t){return this.MW.Pst(t)},i.Dq=function(t){return this.MW.Dq(t)},t}();function yO(t){var i=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),Nt(i,[{key:"hq",get:function(){return this.PL.hq}}]),i}(t);return i}U(),Et(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),xt();var pO=function(){function t(t){this.aq=void 0,this.aq=t}var i=t.prototype;return i.NS=function(){return this.aq.Cd},i.EP=function(){return this.aq.kP},i.IZ=function(t){return this.aq.IZ(t)},i.RZ=function(t){return this.aq.RZ(t)},i.zg=function(){return ut.resolve()},Nt(t,[{key:"Cd",get:function(){return this.NS()}},{key:"kP",get:function(){return this.EP()}}]),t}(),kO=function(t){function i(i){var n;return(n=t.call(this,i)||this).B4=void 0,n.M4=void 0,n.Ort=function(t){return n.Frt(t)},n}Ct(i,t);var n=i.prototype;return n.Ux=function(){return this.aq.Fx},n.Nd=function(){return this.aq.ct},n.Nrt=function(){return this.aq.jZ},n.F4=function(t){this.aq.F4(t)},n.W4=function(t,i,n,r){this.aq.W4(t,i,n,r)},n.F3=function(){this.aq.F3()},n.I3=function(){this.aq.I3()},n.zg=function(){return this.B4&&(this.B4.zg(),this.B4=void 0),this.M4&&(this.M4.zg(),this.M4=void 0),t.prototype.zg.call(this)},n.Brt=function(t){this.aq=t,this.B4?t.e4?this.B4.Mrt(t.e4):(this.B4.zg(),this.B4=void 0):t.e4&&(this.B4=this.Lrt(t.e4),this.B4.wn(WR,this.Ort)),this.M4?t.s4?this.M4.Mrt(t.s4):(this.M4.zg(),this.M4=void 0):t.s4&&(this.M4=this.Lrt(t.s4),this.M4.wn(WR,this.Ort))},n.NZ=function(t){this.aq.NZ(t)},n.Frt=function(t){},Nt(i,[{key:"e4",get:function(){return this.B4}},{key:"s4",get:function(){return this.M4}},{key:"Fx",get:function(){return this.Ux()}},{key:"ct",get:function(){return this.Nd()}},{key:"jZ",get:function(){return this.Nrt()}}]),i}(pO);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var bO=function(t){function i(i){var n;return(n=t.call(this)||this).ZS=void 0,n.KY=0,n.ZY=0,n.ZS=i,n}Ct(i,t);var n=i.prototype;return n.Q2=function(t,i,n){return ut.reject(new y("Invalid media buffer"))},n.j3=function(){return ut.reject(new y("Invalid media buffer"))},n.J2=function(t,i,n){return ut.reject(new y("Invalid media buffer"))},n.jZ=function(){return!1},n.F3=function(){},n.G3=function(t,i){},n.X3=function(t,i){},n.pS=function(t,i,n){return ut.resolve()},n.f3=function(t,i){return ut.reject(new y("Invalid media buffer"))},n.SO=function(t,i){return ut.reject(new y("Invalid media buffer"))},n.IZ=function(t){return!1},n.RZ=function(t){return ut.reject(new y("Invalid media buffer"))},n.zg=function(){this.Vo()},Nt(i,[{key:"zY",get:function(){return this.ZY},set:function(t){this.ZY=t}},{key:"Fx",get:function(){return EA.rL()}},{key:"Cd",get:function(){return this.ZS}},{key:"V3",get:function(){return eg.yk}},{key:"W3",get:function(){return EA.rL()}},{key:"Urt",get:function(){return!1}},{key:"VY",get:function(){return this.KY},set:function(t){this.KY=t}}]),i}(th),AO=function(t){function i(i){var n;return(n=t.call(this)||this).Wrt=void 0,n.Xrt=function(t){return n.iI(t)},n.Wrt=i,n.Wrt.wn(WR,n.Xrt),n}Ct(i,t);var n=i.prototype;return n.Vrt=function(){return this.Wrt.zY},n.Hrt=function(t){this.Wrt.zY=t},n.Ux=function(){return this.Wrt.Fx},n.NS=function(){return this.Wrt.Cd},n.qrt=function(){return this.Wrt.W3},n.zrt=function(){return this.Wrt.VY},n.Grt=function(t){this.Wrt.VY=t},n.Q2=function(t,i,n){return this.Wrt.Q2(t,i,n)},n.j3=function(){return this.Wrt.j3()},n.J2=function(t,i,n){return this.Wrt.J2(t,i,n)},n.G3=function(t,i){this.Wrt.G3(t,i)},n.X3=function(t,i){this.Wrt.X3(t,i)},n.pS=function(t,i,n){return this.Wrt.pS(t,i,n)},n.f3=function(t,i){return this.Wrt.f3(t,i)},n.IZ=function(t){return this.Wrt.IZ(t)},n.RZ=function(t){return this.Wrt.RZ(t)},n.iI=function(t){this.So(t)},n.zg=function(){this.Vo(),this.Mrt(new bO(this.Cd))},n.Mrt=function(t){this.Wrt.mn(WR,this.Xrt),this.Wrt=t,this.Wrt.wn(WR,this.Xrt)},Nt(i,[{key:"zY",get:function(){return this.Vrt()},set:function(t){this.Hrt(t)}},{key:"Fx",get:function(){return this.Ux()}},{key:"Cd",get:function(){return this.NS()}},{key:"V3",get:function(){return this.Wrt.V3}},{key:"W3",get:function(){return this.qrt()}},{key:"VY",get:function(){return this.zrt()},set:function(t){this.Grt(t)}}]),i}(th),TO=function(t){function i(i){var n;return(n=t.call(this,i)||this).PL=void 0,n}Ct(i,t);var n=i.prototype;return n.Q2=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return dr(n),[4,this.jrt(this.PL.zx,null==i?void 0:i.Get,null==i?void 0:i.ct)];case 1:return r.sent(),dr(n),t.Km!==zR.MT?[3,3]:[4,this.Qrt(t,i,n)];case 2:case 4:return[2,r.sent()];case 3:return[4,this.Krt(t,i,n)];case 5:return[2]}})}).call(this)},n.Qrt=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:r=t,h.label=1;case 1:0,e=tl(r.lk),s=e[0],u=e[1],r={Km:zR.MT,lk:s},h.label=2;case 2:return h.trys.push([2,4,,7]),[4,this.Yrt(r,i,n)];case 3:return h.sent(),u.cancel(new fr).catch(dn),[2];case 4:return iR(o=h.sent())?[4,this.jrt(this.PL.zx,i.Get,i.ct,n)]:[3,6];case 5:if(h.sent())return r={Km:zR.MT,lk:u},[3,1];h.label=6;case 6:throw u.cancel(o).catch(dn),o;case 7:return[3,1];case 8:return[2]}})}).call(this)},n.Krt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,3,,6]),dr(n),[4,this.Yrt(t,i,n)];case 2:return[2,e.sent()];case 3:return iR(r=e.sent())?[4,this.jrt(this.PL.zx,i.Get,i.ct,n)]:[3,5];case 4:if(e.sent())return[3,0];e.label=5;case 5:throw r;case 6:return[3,0];case 7:return[2]}})}).call(this)},n.jrt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:e=tR(t,i,n,this.Fx,this.VY,this.zY),s=Lt(e),c.label=1;case 1:return(u=s()).done?[3,4]:(o=u.value,h=o[0],a=o[1],[4,this.Jrt(h,a,r)]);case 2:c.sent(),c.label=3;case 3:return[3,1];case 4:return[2,e.length>0]}})}).call(this)},n.Yrt=function(i,n,r){return t.prototype.Q2.call(this,i,n,r)},n.Jrt=function(i,n,r){return t.prototype.pS.call(this,i,n,r)},Nt(i,[{key:"Tst",get:function(){return this.PL},set:function(t){this.PL=t}}]),i}(AO),SO=function(t){function i(i){var n;return(n=t.call(this,i)||this).PL=void 0,n.Brt(i),n}return Ct(i,t),i.prototype.Lrt=function(t){var i=new TO(t);return i.Tst=this.PL,i},Nt(i,[{key:"Tst",get:function(){return this.PL},set:function(t){this.PL=t,this.B4&&(this.B4.Tst=t),this.M4&&(this.M4.Tst=t)}}]),i}(kO);U(),Et(),xt(),Pt();var EO=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),Nt(i,[{key:"wP",get:function(){return this.aq.wP},set:function(t){this.aq.wP=t}}]),i}(pO);function IO(t){var i=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.zP=function(){return this.PL.zP()},Nt(i,[{key:"hq",get:function(){return this.PL.hq}},{key:"MP",get:function(){return this.PL.MP}},{key:"DP",get:function(){return this.PL.DP}}]),i}(t);return i}U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),Wt(),xt(),Pt(),Qt();var RO=function(t){function i(i){var n;return(n=t.call(this)||this).PL=void 0,n.aq=void 0,n.nht=new tA,n.dht=function(t){return n.iI(t)},n.PL=i,n.nht.OI=i.nt,n.PL.wn(LR,n.dht),n}Ct(i,t);var n=i.prototype;return n.Ux=function(){return this.PL.Fx},n.Hx=function(){return this.PL.Vx},n.Gx=function(){return this.PL.zx},n.Nd=function(){return this.PL.ct},n.$rt=function(){return this.PL.uq},n.tht=function(){return this.PL.Qx},n.qP=function(){return this.PL.Ma},n.Aa=function(){return this.PL.Sq},n.iht=function(){return this.PL.lP},n.mP=function(){return this.PL.pP},n.TP=function(){return this.PL.AP},n.EP=function(){return this.PL.kP},n.PP=function(){return this.PL.xP},n.eht=function(){return this.PL.n5},n.sht=function(){return this.PL._5},n.RP=function(){return this.nht},n.Ett=function(){return this.PL.Ql},n.rht=function(){return this.PL.Rq},n.hht=function(t){this.PL.Rq=t},n.oht=function(t){this.PL.J7=t},n.aht=function(){return this.PL.T8},n.hP=function(){return this.PL.hP()},n.QP=function(){return this.PL.QP()},n.jP=function(){this.PL.jP()},n.Oy=function(t,i,n){this.PL.Oy(t,i,n)},n.$W=function(t){this.PL.$W(t)},n.be=function(){this.PL.be()},n.we=function(){this.PL.we()},n.sI=function(t,i,n,r,e,s,u,o){return this.PL.sI(t,i,n,r,e,s,u,o)},n.Tq=function(t){return this.PL.Tq(t)},n.wq=function(){return this.PL.wq()},n.bq=function(t,i,n,r,e){return this.PL.bq(t,i,n,r,e)},n.rV=function(t){this.PL.rV(t)},n.Eq=function(){this.PL.Eq()},n.$Z=function(t){return this.PL.$Z(t)},n.V9=function(t){return this.PL.V9(t)},n.Un=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return[4,this.PL.Un(t)];case 1:return i=r.sent(),n=t.Km===Iy.AV?this.uht(i):this.cht(i),this.aq=n,[2,n]}})}).call(this)},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.aq?[4,this.aq.zg()]:[3,2];case 1:t.sent(),this.aq=void 0,t.label=2;case 2:return[4,this.PL.hr()];case 3:return t.sent(),[2]}})}).call(this)},n.F8=function(){return this.PL.F8()},n.G7=function(){this.PL.G7()},n.X7=function(){this.PL.X7()},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.PL.mn(LR,this.dht),this.nht.OI=void 0,this.nht.kn(),this.aq?[4,this.aq.zg()]:[3,2];case 1:t.sent(),this.aq=void 0,t.label=2;case 2:return[2]}})}).call(this)},n.K7=function(){this.PL.K7()},n.fht=function(t){this.PL.mn(LR,this.dht),this.PL=t,this.nht.OI=t.nt,this.PL.wn(LR,this.dht)},n.iI=function(t){this.So(t)},Nt(i,[{key:"Zrt",get:function(){return this.PL}},{key:"Fx",get:function(){return this.Ux()}},{key:"Vx",get:function(){return this.Hx()}},{key:"zx",get:function(){return this.Gx()}},{key:"Wu",get:function(){return this.PL.Wu}},{key:"ct",get:function(){return this.Nd()}},{key:"uq",get:function(){return this.$rt()}},{key:"Qx",get:function(){return this.tht()}},{key:"lt",get:function(){return this.PL.lt}},{key:"Mi",get:function(){return this.PL.Mi}},{key:"Ti",get:function(){return this.PL.Ti}},{key:"Ma",get:function(){return this.qP()}},{key:"Sq",get:function(){return this.Aa()}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"lP",get:function(){return this.iht()}},{key:"vP",get:function(){return this.PL.vP},set:function(t){this.PL.vP=t}},{key:"pP",get:function(){return this.mP()}},{key:"AP",get:function(){return this.TP()}},{key:"kP",get:function(){return this.EP()}},{key:"xP",get:function(){return this.PP()}},{key:"n5",get:function(){return this.eht()}},{key:"_5",get:function(){return this.sht()}},{key:"nt",get:function(){return this.RP()}},{key:"Ql",get:function(){return this.Ett()}},{key:"a9",get:function(){return this.PL.a9}},{key:"OP",get:function(){return this.PL.OP},set:function(t){this.PL.OP=t}},{key:"j7",get:function(){return this.PL.j7}},{key:"sP",get:function(){return this.PL.sP}},{key:"ML",get:function(){return this.PL.ML}},{key:"Rq",get:function(){return this.rht()},set:function(t){this.hht(t)}},{key:"J7",get:function(){return this.PL.J7},set:function(t){this.oht(t)}},{key:"T8",get:function(){return this.aht()}}]),i}(th),CO=function(t){function i(i){return t.call(this,i)||this}Ct(i,t);var n=i.prototype;return n.Y7=function(t){this.PL.Y7(t)},n.$P=function(){this.PL.$P()},Nt(i,[{key:"Zrt",get:function(){return this.PL}},{key:"hq",get:function(){return this.PL.hq}},{key:"d5",get:function(){return this.PL.d5}},{key:"WP",get:function(){return this.PL.WP},set:function(t){this.PL.WP=t}}]),i}(RO),PO=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.cht=function(t){var i=new SO(t);return i.Tst=this,i},n.uht=function(t){return new EO(t)},i}(CO),DO=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(yO(PO)),NO=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(IO(PO)),xO=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Yq=function(i){return i===eg.Mk?new NO(t.prototype.Yq.call(this,i)):i===eg.Bk?new DO(t.prototype.Yq.call(this,i)):void 0},n.Dq=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,(r=i).zg()];case 1:return e.sent(),[4,t.prototype.Dq.call(n,r.Zrt)];case 2:return e.sent(),[2]}})})()},i}(mO);U(),Et();var BO=function(){function t(t){var i=this;this.oa=void 0,this._ht=function(t){t.persisted&&i.vht()},this.oa=t,f.addEventListener("pageshow",this._ht)}var i=t.prototype;return i.vht=function(){this.oa.tI()},i.kn=function(){f.removeEventListener("pageshow",this._ht)},t}();U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et(),U(),Et();var OO=function(){function t(t){this.wht=void 0,this.wht=t}var i=t.prototype;return i.ght=function(t,i,n){return ut.resolve()},i.pht=function(t,i,n,r){var e=[];if(r){var s={TU:i.CO,kU:i.RO,EU:n.mht.EU};r.Km===Ng.TTML?e=Dm(t,r,s,n.lQ):r.Km===Ng.WEBVTT&&(e=N_(t,s,this.wht).L)}return e},i.hr=function(){},t}();U(),Et(),Ft(),U(),Et(),Ft(),U(),Et();var MO,LO=function(t){return t.PR="vttc",t.yht="vsid",t.bht="iden",t.Aht="ctim",t.Sht="sttg",t.Tht="payl",t.kht="vtte",t.Eht="vtta",t}({}),FO=function(){function t(){}return t.xht=function(i){return Boolean(t.Pht[i])},t.PD=function(i){for(var n,r=[],e=Lt(gm.lD(new vm(i,new Ta)));!(n=e()).done;){var s=n.value;t.xht(s.Km)&&r.push(t.Pht[s.Km](s.lk))}return r},t.Iht=function(i){var n=gm.lD(i),r=mm(n,LO.yht),e=mm(n,LO.bht),s=mm(n,LO.Aht),u=mm(n,LO.Sht),o=mm(n,LO.Tht);return{Km:LO.PR,Cht:r?t.Rht(r):void 0,Dht:e?t.Nht(e):void 0,Bht:s?t.Mht(s):void 0,Lht:u?t.Oht(u):void 0,Fht:o?t.Uht(o):void 0}},t.Rht=function(t){return{Km:LO.yht,Vht:t.sD()}},t.Nht=function(t){return{Km:LO.bht,Dht:t.aD()}},t.Mht=function(t){return{Km:LO.Aht,Hht:t.aD()}},t.Oht=function(t){return{Km:LO.Sht,Wht:t.aD()}},t.Uht=function(t){return{Km:LO.Tht,qht:t.aD()}},t.zht=function(t){return{Km:LO.kht}},t.Ght=function(t){return{Km:LO.Eht,Xht:t.aD()}},t}();FO.Pht=((MO={})[LO.PR]=FO.Iht,MO[LO.kht]=FO.zht,MO[LO.Eht]=FO.Ght,MO);var UO=function(){function t(){this.Qht=NaN}var i=t.prototype;return i.ght=function(t,i,n){var r=new DataView(t.jht),e=km.PD(r),s=Fn(e,function(t){return t.Km===hm.HC});return s&&(this.Qht=s.Z[0].$D.yD.jD),ut.resolve()},i.pht=function(t,i,n){if(S(this.Qht))return[];var r=_a(t),e=km.PD(r),s=lm(e,hm.NR),u=lm(e,hm.WR);if(!s||0===s.Z.length||!u)return[];var o=function(t,i,n){for(var r,e=t.Z[0],s=e.KB?e.KB.KB.toNumber()/n:i.CO,u=[],o=Lt(e.QB);!(r=o()).done;){var h,a=r.value;(h=u).push.apply(h,[].concat(a.iM))}return{Kht:s,iM:u}}(s,i,this.Qht),h=n.mht.EU;return function(t,i,n,r){for(var e=FO.PD(_a(i.lk)),s=t.iM,u=t.Kht+r,o=[],h=0,a=0;a<s.length;a++){var c,f=s[a],v=e[a],d=(null!=(c=f.ct)?c:0)/n,l=void 0;v.Km===LO.PR&&(l=VO(v,h,d,u)),l&&o.push(l),h+=d}return o}(o,u,this.Qht,h)},i.hr=function(){this.Qht=NaN},t}();function VO(t,i,n,r){if(t.Fht){var e=t.Bht?function(t){return X_(t.Hht,new Ta(0))}(t.Bht):i,s=r+e,u=s+n,o=t.Fht.qht;return new $g(s,u,o,!1)}}U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et();var HO,WO=function(t){return t[t.$z=0]="$z",t[t.Yht=1]="Yht",t[t.Jht=10]="Jht",t[t.Zht=11]="Zht",t[t.$ht=12]="$ht",t[t.tot=13]="tot",t[t.iot=14]="iot",t[t.eot=15]="eot",t[t.rot=20]="rot",t[t.hot=21]="hot",t[t.oot=22]="oot",t[t.aot=23]="aot",t[t.uot=24]="uot",t[t.cot=30]="cot",t[t.dot=31]="dot",t[t.lot=32]="lot",t[t.fot=33]="fot",t[t.vot=34]="vot",t[t._ot=35]="_ot",t[t.got=40]="got",t[t.pot=41]="pot",t[t.mot=42]="mot",t[t.wot=43]="wot",t[t.yot=44]="yot",t[t.bot=50]="bot",t[t.Aot=51]="Aot",t[t.Sot=52]="Sot",t[t.Tot=60]="Tot",t[t.kot=61]="kot",t[t.Eot=62]="Eot",t[t.xot=63]="xot",t[t.Pot=70]="Pot",t[t.Iot=71]="Iot",t[t.Cot=72]="Cot",t[t.Rot=73]="Rot",t[t.Dot=74]="Dot",t[t.Not=75]="Not",t[t.Bot=76]="Bot",t[t.Mot=77]="Mot",t[t.Lot=90]="Lot",t[t.Oot=91]="Oot",t}({});(HO={})[0]="Failed because",HO[1]="Created",HO[10]="Starting because unknown reason",HO[11]="Starting because new track loading",HO[12]="Starting because manifest changed",HO[13]="Starting because seek",HO[14]="Starting because timeupdate",HO[15]="Starting because buffering is being resumed",HO[20]="Interrupting because unknown reason",HO[21]="Interrupting because segment has a gap",HO[22]="Interrupting because segment is missing",HO[23]="Interrupting because seeking",HO[24]="Interrupting because buffer is full",HO[30]="Pausing because unknown reason",HO[31]="Pausing because target buffer reached",HO[32]="Pausing because no target time",HO[33]="Pausing because no segment selected",HO[34]="Pausing because end of stream is reached",HO[35]="Pausing because initialization segment is missing",HO[40]="Stopping because unknown reason",HO[41]="Stopping because manifest went offline",HO[42]="Stopping because seeking",HO[43]="Stopping because buffering is being paused",HO[44]="Stopping because unload",HO[50]="Resetting because unknown reason",HO[51]="Resetting because player was reset",HO[52]="Resetting because disallowed segment was added",HO[63]="Marking gap at",HO[60]="Target time is",HO[70]="[Selection 1] Select nothing if the target time has already been appended.",HO[71]="[Selection 2] Select nothing if the time-based lookup failed.",HO[72]="[Selection 3] If the segment has not been appended, select time-based lookup.",HO[73]="[Selection 4A] Select the first unappended segment that occurs before the segment.",HO[74]="[Selection 4B] Notify gap if no previous segment is available.",HO[75]="[Selection 5A] Select the first unappended segment that occurs after the segment.",HO[76]="[Selection 5B] Select nothing if no next segment is available.",HO[77]="[Selection 6] Unreachable",HO[61]="Selected segment is",HO[62]="Appended segment is",HO[90]="Test setup",HO[91]="Test";function zO(t,i){var n=i.YM(function(i,n){return t.jM(i,n,!1,!1)});return t.HM(n)}function XO(t,i){var n=i.Mn(t.OM()).YM(function(i,n){return t.Cr(n)});return t.HM(n)}U(),Et(),U(),Et(),U(),Et(),Wt(),xt(),Pt(),H(),Ft(),Qt(),U(),Et();var qO=function(t){return t.Fot="Uot",t.Vot="Hot",t}({});U(),Et(),Pt();var GO=function(t){function i(i,n,r){var e;return(e=t.call(this,"Wot")||this).Tn=void 0,e.An=void 0,e.qot=void 0,e.Tn=i,e.An=n,e.qot=r,e}return Ct(i,t),i}(cr),jO=function(t){function i(){return t.call(this,"zot")||this}return Ct(i,t),i}(rh),QO=[eh.ly,eh._y,eh.ey,eh.iy,eh.Sw],YO=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).Dat=void 0,u.mat=void 0,u.Yot=void 0,u.jot=void 0,u.W8=void 0,u.Zot=void 0,u.nq=void 0,u.oat=void 0,u.yat=void 0,u.nat=void 0,u.Je=void 0,u.bd=void 0,u.Dat=i,u.mat=n,u.Yot=r,u.jot=e,u.W8=s,u.Zot="aat",u.nq=void 0,u.oat=new Va,u.yat=new hr,u.nat=new hr,u.Je=function(t){u.eat||u.vat||(!Ui.Ex&&u.jot.Nat(t.currentTime)||(u.yat.Zg(),u.yat=new hr,_r(u.Rat(u.yat.Yg),u.yat).catch(wr)))},u.bd=wn(function(){if(u.sat){try{if(u.jot.Bat(),u.jot.Mat())return}catch(t){if(!V(t,GO))throw t}u.Tn(WO.iot)}},250),u.gat(),u}Ct(i,t);var n=i.prototype;return n.$ot=function(t){this.Zot!==t&&(this.Zot=t,this.So(new jO))},n.Tn=function(t){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.eat||this.sat?(t=this.ww("zot"),this.eat?(this.nat.Zg(),this.nat=new hr,_r(this.rat(this.nat.Yg),this.nat)):(this.oat.Qy(void 0),this.oat=new Va),[4,t]):[2];case 1:return i.sent(),[2]}})}).call(this)},n.KP=function(t){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(!this.dat&&!this.sat)return[2];0,this.nat.Zg(),t.label=1;case 1:return this.eat||this.vat?[3,3]:[4,this.ww("zot")];case 2:return t.sent(),[3,1];case 3:return[2]}})}).call(this)},n.hr=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.vat?(this.nq=void 0,this.$ot("aat"),[3,3]):[3,1];case 1:return[4,this.KP(t)];case 2:i.sent(),i.label=3;case 3:return this.jot.hr(),this.Yot.hr(),[2]}})}).call(this)},n.Qq=function(t){this.nq=t,this.$ot("_at"),this.So(new yb(t))},n.gat=function(){this.pat(),this.W8.wn(eh.py,this.bd),this.W8.wn([eh.$w,eh.Fw],this.Je),this.jot.wn(QO,this.Rs),this.mat.wn(qO.Fot,this.bd)},n.pat=function(){this.W8.mn(eh.py,this.bd),this.W8.mn([eh.$w,eh.Fw],this.Je),this.jot.mn(QO,this.Rs),this.mat.mn(qO.Fot,this.bd)},n.wat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.pat(),this.yat.Zg(),[4,this.KP(null!=t?t:WO.wot)];case 1:return i.sent(),this.jot.hr(),[2]}})}).call(this)},n.bat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.gat(),[4,this.Tn(null!=t?t:WO.eot)];case 1:return i.sent(),[2]}})}).call(this)},n.Aat=function(t,i,n){var r,e=function(){var t=s.value;t.Tat<=n&&i<=t.Eat&&r.mat.xat.some(function(i){return i.o===t.Pat})&&r.Yot.Iat(t)};if(this.eat)for(var s,u=Lt(t.Yot.Sat());!(s=u()).done;)r=this,e()},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.pat(),this.yat.Zg(),[4,this.KP(WO.yot)];case 1:return t.sent(),this.jot.kn(),[2]}})}).call(this)},n.rat=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,4,,5]),dr(t),this.$ot("fat"),[4,this.jot.Cat(t)];case 2:return r.sent(),dr(t),this.$ot("uat"),[4,gr(this.oat.Yy,t)];case 3:return r.sent(),[3,5];case 4:return vr(i=r.sent())?this.$ot("aat"):(n=V(i,ld)?i:new ld(vd.MEDIA_LOAD_ERROR,i.message,i),this.Qq(n)),[3,6];case 5:return[3,0];case 6:return[2]}})}).call(this)},n.Rat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.KP(WO.mot)];case 1:return i.sent(),this.jot.hr(),dr(t),[4,this.Tn(WO.tot)];case 2:return i.sent(),[2]}})}).call(this)},Nt(i,[{key:"Got",get:function(){var t,i;return(null==(t=this.jot.Xot)?void 0:t.qot)||(null==(i=this.jot.Qot)?void 0:i.qot)}},{key:"Kot",get:function(){return this.Yot}},{key:"Jot",get:function(){return this.jot.Jot},set:function(t){this.jot.Jot=t}},{key:"dk",get:function(){return this.Zot}},{key:"iat",get:function(){return this.Yot.Ht.iat}},{key:"lt",get:function(){return this.nq}},{key:"eat",get:function(){return"aat"===this.Zot}},{key:"sat",get:function(){return"uat"===this.Zot}},{key:"dat",get:function(){return"fat"===this.Zot}},{key:"vat",get:function(){return"_at"===this.Zot}}]),i}(th);U(),Et(),Wt(),Qt(),U(),Et();var KO=function(){function t(t,i){this.aV=void 0,this.qat=void 0,this.aV=t,this.qat=i}var i=t.prototype;return i.Lat=function(t,i){return this.Oat(t,!1,i)},i.Fat=function(t,i){return this.Oat(t,!0,i)},i.Oat=function(i,n,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return dr(r.Yg),[4,this.Uat(i,n,r)];case 1:return(e=s.sent()).YT?[2,t.Vat(e)]:[2,this.Hat(e)]}})}).call(this)},i.Hat=function(t){return t},i.Uat=function(t,i,n){var r,e=new Al({Yu:t.Yu,fk:Ud.NT,_k:t.Wat?{Range:"bytes="+t.Wat[0]+"-"+(null!=(r=t.Wat[1])?r:"")}:void 0,Xk:t.Xk,Hk:ml.GET,Km:yl.Ak,zk:i?pl.Ek:pl.yk,Gk:this.qat,Wk:n.zat,qk:n.qk,Yg:n.Yg,Kk:n.Kk});return this.aV.vk(e)},t.Vat=function(t){return t},t}();U(),Et(),xt(),U(),Et();var JO=function(){function t(t){this.Xat=void 0,this.Fet=0,this.jat=0,this.Xat=b.exp(b.log(.5)/t)}var i=t.prototype;return i.Gat=function(t,i){var n=b.pow(this.Xat,t),r=i*(1-n)+n*this.Fet;S(r)||(this.Fet=r,this.jat+=t)},i.Qat=function(){var t=1-b.pow(this.Xat,this.jat);return this.Fet/t},t}(),ZO=function(){function t(t,i,n){void 0===t&&(t=2),void 0===i&&(i=5),void 0===n&&(n=128e3),this.Yat=void 0,this.Jat=void 0,this.Kat=0,this.tut=void 0,this.$at=kb,this.Yat=new JO(t),this.Jat=new JO(i),this.tut=n}var i=t.prototype;return i.Gat=function(t,i){var n=8e3*i/t,r=t/1e3;this.Kat+=i,this.Yat.Gat(r,n),this.Jat.Gat(r,n)},i.Qat=function(){return this.Zat()?b.min(this.Yat.Qat(),this.Jat.Qat()):this.$at},i.Zat=function(){return this.Kat>=this.tut},t}(),$O=function(){function t(t,i){this.rut=void 0,this.eut=void 0,this.lut=void 0,this.rut=i,i&&sg(t)?t===eg.Mk?(this.lut=5e3,this.eut=new ZO(.05,1,0)):(this.lut=0,this.eut=new ZO(.005,.1,0)):(this.lut=16e3,this.eut=new ZO)}return t.prototype.sut=function(t){var i=t.nut,n=this.rut?t.hut-t.aut:t.hut-t.uut,r=t.cut;!r&&i<this.lut||(r?this.eut.Gat(2*n,i):this.eut.Gat(n,i))},Nt(t,[{key:"iut",get:function(){return this.eut.Qat()}},{key:"Zat",get:function(){return this.eut.Zat()}}]),t}();U(),Et(),Wt(),Pt(),Qt(),U(),Et(),xt(),U(),Et();var tM=function(){function t(t){this.ef=void 0,this.ef=t}var i=t.prototype;return i.transform=function(t,i){this.ef.write(t).catch(dn),i.enqueue(t)},i.flush=function(){this.ef.close().catch(dn)},t}(),iM=function(){function t(t,i,n){this.jht=void 0,this.vut=void 0,this._ut=void 0,this.jht=t,this.vut=i,this._ut=n}return t.prototype.fut=function(){return new nM(Jd(this.jht),this.vut,this._ut)},t}(),nM=function(){function t(t,i,n){this.gut=void 0,this.vut=void 0,this._ut=void 0,this.gut=t,this.vut=i,this._ut=n}var i=t.prototype;return i.qT=function(t){return Zd(this.gut,t)},i.Fy=function(){var i=tl(this.gut),n=i[0],r=i[1];return this.gut=n,new t(r,this.vut,this._ut)},i.mut=function(){var i=function(t){var i=new Qd,n=i.writable.getWriter(),r=new Qd(new tM(n));return t.pipeTo(r.writable).catch(function(t){n.abort(t).catch(dn)}),[r.readable,i.readable]}(this.gut),n=i[0],r=i[1];return this.gut=n,new t(r,this.vut,this._ut)},i.wut=function(t){var i=this;return this.qT(t).then(function(t){return new iM(t,i.vut,i._ut)})},Nt(t,[{key:"zT",get:function(){return this.gut}}]),t}();U(),Et(),Pt();var rM=function(t){function i(i,n,r){var e;return(e=t.call(this,n,r)||this).yut=void 0,e.yut=i,e}return Ct(i,t),i}(cr),eM="Cache lookup failed.",sM=function(t){function i(i){var n;return(n=t.call(this)||this).Sut=void 0,n.Sut=i,n}Ct(i,t);var n=i.prototype;return n.but=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),[4,this.Sut.Aut(t.Yu.Yu,t.Yu.Wat)];case 1:if(n=e.sent(),dr(i),!n)throw new rM(t,eM);return r=new iM(n.buffer,n.byteLength,n.reference),[2,{yut:t.yut,Tut:{Km:zR.wZ,lk:r},qot:t.qot,Yu:t.Yu}]}})}).call(this)},n.kut=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),[4,this.Sut.Aut(t.Yu,t.Wat)];case 1:if(n=e.sent(),dr(i),!n)throw new rM(t,eM);return r=new iM(n.buffer,n.byteLength,n.reference),[2,{Km:zR.wZ,lk:r}]}})}).call(this)},n.kn=function(){this.Vo()},i}(th);U(),Et(),Wt(),Pt(),Ft(),Qt();var uM=["vy","gy"],oM=function(t){function i(i){var n;(n=t.call(this)||this).Eut=void 0,n.Eut=i;for(var r,e=Lt(n.Eut);!(r=e()).done;){r.value.wn(uM,n.Rs)}return n}Ct(i,t);var n=i.prototype;return n.but=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(this.Eut),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.but(t,i)];case 3:return[2,o.sent()];case 4:return lr(u=o.sent()),n=u,[3,5];case 5:return[3,1];case 6:throw n}})}).call(this)},n.kut=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(this.Eut),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.kut(t,i)];case 3:return[2,o.sent()];case 4:return lr(u=o.sent()),n=u,[3,5];case 5:return[3,1];case 6:throw n}})}).call(this)},n.kn=function(){for(var t,i=Lt(this.Eut);!(t=i()).done;){var n=t.value;n.mn(uM,this.Rs),n.kn()}},i}(th);function hM(t){return Qi(t.xut)}function aM(t){return hM(t)?t.xut:t.Put}U(),Et(),Wt(),Pt(),Qt(),U(),Et(),U(),Et(),Pt(),U(),Et(),Pt();var cM=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i)||this).Iut=void 0,o.FX=void 0,o.zB=void 0,o.sN=void 0,o.Gk=void 0,o.Iut=n,o.FX=r,o.zB=e,o.sN=s,o.Gk=u,o}return Ct(i,t),i}(rh),fM=function(t){function i(i,n,r,e,s){return t.call(this,eh.ly,i,n,r,e,s)||this}return Ct(i,t),i}(cM);U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var vM=function(t,i){this.Cut=void 0,this.Rut=void 0,this.Cut=t,this.Rut=i},dM=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Dut=0,i}Ct(i,t);var n=i.prototype;return n.start=function(){},n.transform=function(t,i){this.Dut+=t.byteLength,i.enqueue(t)},n.flush=function(){this.Nut(!1)},n.Zg=function(){this.Nut(!0)},n.Nut=function(t){this.Cut(this.Rut,Ui.Mg(),this.nut,t)},Nt(i,[{key:"nut",get:function(){return this.Dut}}]),i}(vM),lM=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Dut=0,i.But=!1,i.Fut=void 0,i.Uut=void 0,i}Ct(i,t);var n=i.prototype;return n.start=function(){this.Rut=Ui.Mg()},n.transform=function(t,i){this.Dut+=t.byteLength,this.But||this.Mut(t)&&this.Nut(!1),i.enqueue(t)},n.flush=function(){},n.Zg=function(){this.Nut(!0)},n.Mut=function(t){var i=this.Lut(t),n=this.Out(i);return Boolean(Fn(n,wM))},n.Lut=function(t){return this.Fut&&void 0!==this.Uut?(this.Fut=Na([this.Fut,t]),new vm(_a(this.Fut),new Ta(this.Uut))):(this.Fut=t,new vm(_a(t),new Ta))},n.Out=function(t){var i=gm.fD(t.lk,t.$R,!0);return i.vD?(this.Fut=void 0,this.Uut=void 0):this.Uut=t.$R.ac,i.m},n.Nut=function(t){this.But||(this.Cut(this.Rut,Ui.Mg(),this.nut,t),this.But=!0)},Nt(i,[{key:"nut",get:function(){return this.Dut}}]),i}(vM);function wM(t){return t.Km===hm.WR}var gM=function(){function t(t){var i=this;this.Xut=void 0,this.qut=void 0,this.Hut=void 0,this.sut=void 0,this.Xut=t,this.qut=new Va,this.sut=function(t,n,r,e){var s={uut:i.Hut,aut:t,hut:n,nut:r,cut:e};i.Xut.sut(s),i.Xut.Zat&&bb.Bg.vW(i.Xut.iut)},this.qut.Yy.catch(dn),this.Hut=Ui.Mg()}var i=t.prototype;return i.Vut=function(t){var i=t.pk?this.Hut:Ui.Mg(),n=this.Wut(i),r=new Qd(n),e=t.zT().pipeTo(r.writable).then(function(){return{rP:{nut:n.nut}}},function(t){throw n.Zg(),t});return this.qut.$g(e),r.readable},i.zut=function(t){var i=this,n=t.pk?this.Hut:Ui.Mg(),r=t.qT(),e=r.then(function(t){var r=Ui.Mg();return i.sut(n,r,t.byteLength,!1),{rP:{nut:t.byteLength}}},function(t){var r=Ui.Mg();throw i.sut(n,r,0,!0),t});return this.qut.$g(e),r},Nt(t,[{key:"Gut",get:function(){return this.qut.Yy}}]),t}(),_M=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Wut=function(t){return new dM(this.sut,t)},i}(gM),mM=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Wut=function(t){return new lM(this.sut,t)},i}(gM);U(),Et(),Pt();var yM=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this,eh._y,i,n,r,e,s)||this).jut=void 0,h.uO=void 0,h.jut=u,h.uO=o,h}return Ct(i,t),i}(cM);U(),Et(),Pt();var pM=function(t){function i(i,n,r){var e;return(e=t.call(this,"Error downloading segment "+aM(n),i)||this).Qut=void 0,e.Kut=void 0,e.Yut=void 0,e.Qut=n.CO,e.Kut=n.RO,e.Yut=r,e}return Ct(i,t),i}(cr),kM=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).$ut=void 0,e.Xut=void 0,e.rut=void 0,e.$ut=i,e.Xut=n,e.rut=r,e}Ct(i,t);var n=i.prototype;return n.Jut=function(){return this.rut?new mM(this.Xut):new _M(this.Xut)},n.but=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:dr(i),n=t.qot,r=t.Yu,e=t.yut,s=aM(e),u=n.qot?n.qot.JI:-1,o=function(t){var i,n=t.qot;i=n===function(t){return t.xat.reduce(function(t,i){return t.IW<i.IW?t:i})}(n.Zut)?fe(5*t.yut.ct):fe(1.2*t.yut.ct);return Tn(i,1e3,18e3)}(t),this.So(new fM(r,n.IW,s,u,n.Km)),v.label=1;case 1:return v.trys.push([1,4,,5]),h=this.Jut(),[4,this.$ut.Lat(r,{Kk:this.rut,zat:o,Yg:i})];case 2:return a=v.sent(),[4,this.tct(a,a.YT,i,h)];case 3:return c=v.sent(),kr(this.ict(h.Gut,n,r,s,u,a)),[2,{Tut:c,qot:n,yut:e,Yu:r}];case 4:throw lr(f=v.sent()),new pM(f,e,n);case 5:return[2]}})}).call(this)},n.kut=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),n=!1,[4,this.$ut.Fat(t,{Kk:n,zat:1e4,Yg:i})];case 1:return r=e.sent(),[4,this.tct(r,n,i)];case 2:return[2,e.sent()]}})}).call(this)},n.tct=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return i?(e=r?r.Vut(t):t.zT(),[2,{Km:zR.MT,lk:new nM(e)}]):[3,1];case 1:return r?[4,r.zut(t)]:[3,3];case 2:return u=o.sent(),[3,5];case 3:return[4,t.qT(n)];case 4:u=o.sent(),o.label=5;case 5:return s=u,[2,{Km:zR.wZ,lk:new iM(s)}];case 6:return[2]}})})()},n.ict=function(t,i,n,r,e,s){return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t];case 1:return u=o.sent(),this.So(new yM(n,i.IW,r,e,i.Km,s.dk,u.rP.nut)),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}})}).call(this)},n.kn=function(){this.Vo()},i}(th);U(),Et(),xt();var bM=.001,AM=function(){function t(t,i,n,r){this.ect=void 0,this.W8=void 0,this.a4=void 0,this.Mz=void 0,this.ect=t,this.W8=i,this.a4=n,this.Mz=r}return Nt(t,[{key:"Fx",get:function(){return this.ect.Fx}},{key:"sct",get:function(){return this.ect.sct}},{key:"s$",get:function(){return this.ect.s$}},{key:"nct",get:function(){if(this.a4.AP<Dy.Qn)return!1;if(this.ect.An<=this.rct&&this.ect.hct())return!0;var t=this.ect.ZW;if(!t||0===t.V)return!1;var i=EA.nL(this.W8.zx,1/0);return t.Mn(i).qM(this.ect.s$).eL>=this.Mz.YY}},{key:"rct",get:function(){var t,i=this.ect.ZW;if(i&&i.V>0)t=i.An(0);else{t=this.W8.zx;var n=this.ect.s$,r=n.zM(t);r>=0&&(t=n.An(r))}var e=this.ect.kP.Tn(0);if(e>t){if(this.ect.Tn<=t&&this.ect.An>=t&&e>t+bM)throw new GO(t,e);t=e}return t=this.ect.act.LM(t)}}]),t}();U(),Et(),xt(),Ft();var TM=function(){function t(){this.Wm=void 0,this.cct=void 0,this.Wm=Ju(),this.cct=EA.rL()}var i=t.prototype;return i.dct=function(t){return this.Wm.get(t.o)},i.lct=function(){var t=this.cct;return this.Wm.forEach(function(i){t=t.HM(i)}),t},i.fct=function(t){if(this.cct.Cr(t))return!0;var i=!1;return this.Wm.forEach(function(n){i=i||n.Cr(t)}),i},i.vct=function(t,i){var n=this.Wm.get(i.o);return!!n&&n.Cr(t)},i.GM=function(t,i){if(this.cct.GM(t,i))return!0;var n=!1;return this.Wm.forEach(function(r){n=n||r.GM(t,i)}),n},i._ct=function(t,i){var n=this.Wm.get(i),r=n?n.HM(t):t;this.Wm.set(i,r),this.cct=this.cct.HM(t)},i.gct=function(t){var i=this;this.Wm.forEach(function(n,r){i.Wm.set(r,n.HM(t))}),this.cct=this.cct.HM(t)},i.pct=function(t){var i=this;this.Wm.forEach(function(n,r){i.Wm.set(r,n.Mn(t))}),this.cct=this.cct.Mn(t)},i.hr=function(){var t=this;this.Wm.forEach(function(i,n){t.Wm.set(n,EA.rL())}),this.cct=EA.rL()},Nt(t,[{key:"uct",get:function(){if(0===this.Wm.size)return this.cct;var t=EA.nL(0,1/0);return t=t.Mn(this.cct),this.Wm.forEach(function(i){t=t.Mn(i)}),t}}]),t}(),SM=function(){function t(t){this.Ht=void 0,this.wct=void 0,this.n$=void 0,this.bct=[],this.Ht=t,this.wct=new TM,this.n$=new TM}var i=t.prototype;return i.yct=function(t){for(var i,n=Lt(this.bct);!(i=n()).done;){var r=i.value;if(r.Tat>t)break;if(r.Eat>t)return r}},i.Act=function(t){for(var i,n=Lt(this.bct);!(i=n()).done;){var r=i.value;if(r.Sct>t)break;if(r.Tct>=t)return r}},i.kct=function(t,i){for(var n,r=[],e=Lt(this.bct);!(n=e()).done;){var s=n.value;if(s.Tat>t)break;s.Eat>=i&&r.push(s)}return r},i.Sat=function(){return this.bct},i.Iat=function(t){var i=EA.nL(t.Sct,t.Tct),n=i.OM();this.wct.pct(n),this.wct._ct(i,t.Pat),this.Ect(n);var r=Hn(this.bct,function(i){return t.Tat<=i.Tat});r<0?this.bct.push(t):this.bct[r].Eat<=t.Eat?this.bct.splice(r,1,t):this.bct.splice(r,0,t)},i.r$=function(t,i){this.n$._ct(t,i)},i.xct=function(t){this.n$.gct(t)},i.pct=function(t){this.wct.pct(t),this.n$.pct(t);var i=this.wct.lct();this.Ect(i)},i.Ect=function(t){this.bct=this.bct.filter(function(i){return t.jM(i.Sct,i.Tct)}).map(function(i){return i.Pct&&!t.GM(i.Sct,i.Tct)?function(t,i){return{Pat:t.Pat,Tat:t.Tat,Eat:t.Eat,Sct:t.Sct,Tct:t.Tct,Pct:i}}(i,!1):i})},i.hr=function(){this.wct.hr(),this.n$.hr(),this.bct=[]},i.kn=function(){this.hr()},Nt(t,[{key:"mct",get:function(){return this.wct}},{key:"s$",get:function(){return this.n$}}]),t}();U(),Et(),U(),Et(),Wt(),xt(),Ft(),Qt();var EM=function(){function t(t,i,n){this.Dat=void 0,this.Yot=void 0,this.jp=void 0,this.Ict=void 0,this.Dat=t,this.Yot=i,this.jp=n}var i=t.prototype;return i.Cct=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:return dr(n),e=this.Yot.Act(t),r=e&&Sn(e.Tct,t,1e-5)?e.Eat:t,s=this.Rct(r),u=function(t){return IM.bind(void 0,t)}(r),[4,this.jp.Dct(u,s,i,n)];case 1:o=f.sent(),dr(n),f.label=2;case 2:return o&&this.Nct(o.yut)?(h=PM(o.yut),a=o.qot,[4,this.jp.Dct(h,[a],i,n)]):[3,4];case 3:return o=f.sent(),dr(n),[3,2];case 4:return o?this.Bct(o.yut)?(c=this.Mct(o.yut),t<c.Tn?[4,this.findFirstNonAppendedSegmentBeforeSegment(o,i,n,c)]:[3,6]):[2,o]:[2,void 0];case 5:return[2,f.sent()];case 6:return t>=c.An?[4,this.findFirstNonAppendedSegmentAfterSegment(o,i,n)]:[3,8];case 7:return[2,f.sent()];case 8:if(o.qot.Lct(o.yut))return[2,void 0];throw new y("Fatal buffering error")}})}).call(this)},i.findFirstNonAppendedSegmentAfterSegment=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:r=t,u.label=1;case 1:return e=PM(r.yut),s=t.qot,[4,this.jp.Dct(e,[s],i,n)];case 2:r=u.sent(),dr(n),u.label=3;case 3:if(r&&this.Bct(r.yut))return[3,1];u.label=4;case 4:return r?[2,r]:[2,void 0]}})}).call(this)},i.findFirstNonAppendedSegmentBeforeSegment=function(t,i,n,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:e=t,h.label=1;case 1:return s=function(t){return RM.bind(void 0,t)}(e.yut),u=t.qot,[4,this.jp.Dct(s,[u],i,n)];case 2:e=h.sent(),dr(n),h.label=3;case 3:if(e&&this.Bct(e.yut))return[3,1];h.label=4;case 4:if(!e)throw o=t.qot.Oct.Tn,new GO(o,r.Tn,t.qot);return[2,e]}})}).call(this)},i.Fct=function(t){return this.Yot.mct.fct(t)},i.Uct=function(t){return this.Yot.kct(t.CO,t.RO)},i.Bct=function(t){var i=this.Uct(t);return i.length>0&&function(t,i){return function(t){for(var i,n=EA.rL(),r=Lt(t);!(i=r()).done;){var e=i.value;n=n.HM(EA.nL(e.Tat,e.Eat))}return n}(t).GM(i.CO,i.RO)}(i,t)&&i.every(DM)},i.Nct=function(t){return this.Yot.s$.GM(t.CO,t.RO)},i.Mct=function(t){var i=this.Uct(t);return{Tn:i[0].Sct,An:i[i.length-1].Tct}},i.Rct=function(t){var i=this.Vct(t);if(0===i.length){var n=this.Ict?this.Ict:this.Yot.Ht.xat;return[n[n.length-1]]}var r=i.filter(function(t){var i;return(null==(i=t.qot)?void 0:i.xst)&&!t.Hct});return r.length>0?r:[i[i.length-1]]},i.Vct=function(t){var i=this;return(this.Ict?this.Ict:this.Yot.Ht.xat).filter(function(n){return!i.Yot.s$.vct(t,n)})},Nt(t,[{key:"Jot",get:function(){return this.Ict},set:function(t){this.Ict=t}},{key:"iat",get:function(){return this.Yot.Ht.iat}}]),t}();function IM(t,i,n,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=i.mht,(s=e.Wct(t))?i.qct(s)?[4,i.Gct(s,n,r)]:[3,2]:[2,void 0];case 1:return[2,u.sent().zct(t)];case 2:return[2,s]}})})()}function RM(t,i,n,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return hM(t)?0===t.xut?[2,void 0]:(e=i.mht.Xct(t))?[4,i.Gct(e,n,r)]:[2,void 0]:[3,2];case 1:return[2,s.sent().jct(t.xut-1)];case 2:return[2,i.mht.Qct(t)];case 3:return[2]}})})()}function CM(t,i,n,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return hM(t)?(e=i.mht.Xct(t))?[4,i.Gct(e,n,r)]:[2,void 0]:[3,2];case 1:return s=u.sent(),t.xut+1===s.V?[2,void 0]:[2,s.jct(t.xut+1)];case 2:return[2,i.mht.Kct(t)];case 3:return[2]}})})()}function PM(t){return CM.bind(void 0,t)}function DM(t){return t.Pct}U(),Et(),Wt(),Qt();var NM=function(){function t(t,i,n,r){this.tdt=void 0,this.ect=void 0,this.Mz=void 0,this.Jct=void 0,this.idt=void 0,this.tdt=t,this.ect=i,this.Mz=n,this.Jct=r,this.idt=!1}var i=t.prototype;return i.Dct=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return dr(r),(e=this.Yct(i,n))?[4,t(e,this.Jct,r)]:[2,void 0];case 1:return(s=o.sent())?(u=e.Zct(s),[2,{qot:e,yut:s,Yu:u}]):[2,void 0]}})}).call(this)},i.Yct=function(t,i){if(0!==t.length){var n=this.tdt.$ct(t,this.idt?i:void 0,this.ect,this.Mz.jY);return this.idt||(this.idt=!0),n}},t}();U(),Et(),Wt(),Ft(),Qt();var xM=function(){function t(t,i,n,r){this.tdt=void 0,this.ect=void 0,this.Sut=void 0,this.Jct=void 0,this.tdt=t,this.ect=i,this.Sut=n,this.Jct=r}return t.prototype.Dct=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:if(dr(r),!(e=this.tdt.edt(i,n,this.ect)).length)return[2,void 0];u=Lt(e),v.label=1;case 1:if((o=u()).done)return[3,8];h=o.value,v.label=2;case 2:return v.trys.push([2,6,,7]),dr(r),[4,t(h,this.Jct,r)];case 3:return(a=v.sent())?(c=h.Zct(a),[4,this.Sut.sdt(c.Yu,c.Wat)]):[3,5];case 4:if(v.sent())return[2,{yut:a,qot:h,Yu:c}];v.label=5;case 5:return[3,7];case 6:return lr(f=v.sent()),s=f,[3,7];case 7:return[3,1];case 8:if(s)throw s;return[2,void 0]}})}).call(this)},t}();function BM(t){return void 0!==t.vP}function OM(t,i){var n=t.Ti&&i.Ti,r=t.Mi&&i.Mi;return n||r?n&&r?t.Ti*t.Mi-i.Ti*i.Mi:n?t.Ti-i.Ti:r?t.Mi-i.Mi:(t.Ti||1)*(t.Mi||1)-(i.Ti||1)*(i.Mi||1):0}function MM(t,i){return OM(t,i)||function(t,i){return t.IW-i.IW}(t,i)}U(),Et(),ct(),Ft(),U(),Et();var LM=function(){function t(t,i,n,r,e,s){this.hdt=void 0,this.ddt=void 0,this.Cm=void 0,this.cdt=void 0,this.ndt=void 0,this.ldt=void 0,this.ddt=t,this.hdt=i,this.Cm=n,this.cdt=r,this.ndt=e,this.ldt=s}var i=t.prototype;return i.$ct=function(i,n,r,e){var s=t.sortByQuality(i);if(void 0!==this.ndt&&void 0===n&&i.length>1){var u=t.rdt(s,this.ndt);u&&(s=u)}var o=this.edt(s,n,r,e);return o.length?o[o.length-1]:s[0]},i.edt=function(i,n,r,e){for(var s,u,o=t.sortByQuality(i),h={iut:void 0===e||this.hdt.Zat?this.hdt.iut:e,vP:BM(r)&&r.vP?r.vP:1,odt:r.Ti,adt:r.Mi,udt:null==(s=this.cdt)?void 0:s.restrictToPlayerSize},a=o,c=Lt(this.ddt);!(u=c()).done;){a=(0,u.value)(a,n,h,this.Cm,this.ldt)}return a},t.fdt=function(i){return t.sortByQuality(i)[0]},t.vdt=function(i,n){var r;return n?t.fdt(null!=(r=t.rdt(i,n))?r:i):t.fdt(i)},t.rdt=function(t,i){for(var n,r=function(){var i=n.value,r=t.filter(function(t){return $C(t.Bp,i)});if(r.length>0)return{v:r}},e=Lt(i);!(n=e()).done;){var s=r();if("object"===W(s))return s.v}},t.sortByQuality=function(t){var i=[].concat(t);return i.sort(MM),i},t}();U(),Et();var FM=function(t,i,n,r,e){return t.filter(function(t){return e.IZ(t)&&r.Pp(i,t)})};U(),Et();var UM=function(t,i,n,r){return void 0===i&&r.Rp?[t[t.length-1]]:t.filter(function(t){return function(t,i,n){var r=n.iut;if(r<=0)return!1;return.8*r>t.IW*n.vP}(t,0,n)})};U(),Et();var VM=function(t,i,n,r,e){var s=n.udt;if(void 0===s&&!r.Ks)return t;if(!1===s)return t;if(t.length>0&&t[0].Km!==eg.Mk)return t;for(var u=t.length-1;u>=0;u--){var o=t[u];if(o.Mi===n.adt&&o.Ti===n.odt)return t.slice(0,u+1);if(o.Mi<n.adt||o.Ti<n.odt)return t.slice(0,u+2)}return[]};U(),Et(),Wt(),Ft(),Qt();var HM=function(){function t(t){this._dt=void 0,this._dt=t}return t.prototype.Dct=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:s=Lt(this._dt),c.label=1;case 1:if((u=s()).done)return[3,6];o=u.value,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.Dct(t,i,n,r)];case 3:return(h=c.sent())?[2,h]:[3,5];case 4:return a=c.sent(),e=a,[3,5];case 5:return[3,1];case 6:if(e)throw e;return[2,void 0]}})}).call(this)},t}();U(),Et(),U(),Et(),Wt(),Ft(),Qt();var WM=function(){function t(t){this.pdt=void 0,this.pdt=t}return t.prototype.gdt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:s=Lt(this.pdt),a.label=1;case 1:if((u=s()).done)return[3,6];o=u.value,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o.gdt(t,i,n,r)];case 3:return[2,a.sent()];case 4:return lr(h=a.sent()),e=h,[3,5];case 5:return[3,1];case 6:throw e}})}).call(this)},t}();U(),Et(),Wt(),Qt();var zM=function(){function t(t){this.aV=void 0,this.aV=t}return t.prototype.gdt=function(t,i,n,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.aV.vk({Yu:t,fk:Ud.NT,_k:i?{Range:"bytes="+i[0]+"-"+(null!=(e=i[1])?e:"")}:void 0,Xk:n,Hk:ml.GET,Km:yl.yk,Yg:r})];case 1:return[4,s.sent().qT()];case 2:return[2,s.sent()]}})}).call(this)},t}();U(),Et(),Wt(),Qt();var XM=function(){function t(t){this.Sut=void 0,this.Sut=t}return t.prototype.gdt=function(t,i,n,r){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return[4,this.Sut.Aut(t,i)];case 1:return(n=e.sent())?[2,n.buffer]:i?[4,this.Sut.Aut(t)]:[3,3];case 2:if(r=e.sent())return[2,ka(new E(r.buffer),i[0],i[1]).buffer];e.label=3;case 3:throw new rM({Yu:t,Wat:i,Xk:!1})}})}).call(this)},t}();U(),Et();var qM=1.05,GM=function(t,i,n,r){if(!1===n.udt)return t;if(r.dp)return t;for(var e,s,u=r.lp,o=(null!=(e=null==u?void 0:u.width)?e:n.odt)*qM,h=(null!=(s=null==u?void 0:u.height)?s:n.adt)*qM,a=t.length-1;a>=0;a--){var c=t[a];if(c.Mi<=h&&c.Ti<=o)return t.slice(0,a+1)}return[]},jM=function(){function t(){}return t.jet=function(t,i,n,r,e,s,u,o,h,a){var c=function(t,i){return new WM([new XM(i),new zM(t)])}(s,u),f=new LM([FM],e,Ui.Zs,o,h,a),v=new xM(f,i,u,c),d=new LM([UM,FM,VM,GM],e,Ui.Zs,o,h,a),l=new NM(d,i,r,c),w=new HM([v,l]);return new EM(t,n,w)},t}();U(),Et(),Wt(),xt(),Pt(),H(),Ft(),Qt(),U(),Et(),Pt();var QM=function(t){function i(i,n,r,e,s,u){var o;return void 0===u&&(u=0),(o=t.call(this,eh.ey)||this).segmentStartTime=void 0,o.error=void 0,o.trackType=void 0,o.track=void 0,o.quality=void 0,o.retryCount=void 0,o.segmentStartTime=i,o.error=n,o.trackType=r,o.track=e,o.quality=s,o.retryCount=u,o}return Ct(i,t),i}(rh);U(),Et(),Pt();var YM=function(t){function i(i,n){var r;return(r=t.call(this,eh.Sw)||this).track=void 0,r.segments=void 0,r.track=i,r.segments=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var KM=function(t){function i(i,n,r,e,s,u,o){var h;return void 0===u&&(u=0),void 0===o&&(o=void 0),(h=t.call(this,eh.iy)||this).segmentStartTime=void 0,h.error=void 0,h.trackType=void 0,h.track=void 0,h.quality=void 0,h.retryCount=void 0,h.statusCode=void 0,h.segmentStartTime=i,h.error=n,h.trackType=r,h.track=e,h.quality=s,h.retryCount=u,h.statusCode=o,h}return Ct(i,t),i}(rh),JM=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).mdt=void 0,r.mdt=i,r}return Ct(i,t),i}(cr),ZM=[eh.ly,eh._y],$M=function(t){function i(i,n,r,e,s,u,o,h,a){var c;return(c=t.call(this)||this).Dat=void 0,c.Yot=void 0,c.Sdt=void 0,c.bdt=void 0,c.Zdt=void 0,c.Udt=void 0,c.ldt=void 0,c.Ndt=void 0,c.pq=void 0,c.wdt=void 0,c.n3=void 0,c.ydt=void 0,c.Hdt=void 0,c.Cdt=void 0,c.Rdt=void 0,c.Bdt=void 0,c.Dat=i,c.Yot=n,c.Sdt=r,c.bdt=e,c.Zdt=s,c.Udt=u,c.ldt=o,c.Ndt=h,c.pq=a,c.wdt=void 0,c.n3=void 0,c.ydt=void 0,c.Hdt=void 0,c.Cdt=0,c.Rdt=0,c.Bdt=EA.rL(),c.Zdt.wn(ZM,c.Rs),c}Ct(i,t);var n=i.prototype;return n.Adt=function(t){return!this.n3||!t||!Ca(this.n3.jht,t.jht)},n.Nat=function(t){if(!this.wdt)return!1;var i=this.wdt.yut,n=EA.nL(i.CO,i.RO),r=this.Sdt.sct,e=r.zM(t);return e<0?n.Cr(t,bM):n.jM(t,r.An(e),!0,!0,bM)},n.Cat=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:i=this.Yot.Ht.xat,g.label=1;case 1:0,n=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),dr(t),this.Bat(),this.Mat()?[3,18]:(n=this.Tdt(),[4,this.Dct(n,t)]);case 3:return void 0===(e=g.sent())?[3,18]:(this.wdt=e,function(t){var i=t.qot,n=i.mht,r=hM(t.yut)?n.Xct(t.yut):t.yut;return n.nlt(r,i.jdt.Xdt())}(this.wdt)?[3,5]:[4,this.kdt(this.wdt,t)]);case 4:return g.sent(),[3,1];case 5:return!this.ydt||QC(this.ydt.qot.Rrt,this.wdt.qot.Rrt)?[3,7]:[4,this.ldt.RZ(this.wdt.qot)];case 6:g.sent(),g.label=7;case 7:return!this.wdt.qot.NW||this.Qot&&(null==(r=this.ydt)?void 0:r.qot)===this.wdt.qot||null==(s=this.pq)||s.VW(this.wdt.qot.NW),[4,this.Edt(n,this.wdt.yut,t)];case 8:return g.sent(),u=this,[4,this.xdt(this.wdt.qot,t)];case 9:return u.n3=g.sent(),[4,this.but(this.wdt,t)];case 10:return o=g.sent(),h=this.Sdt.Fx,a=this.ydt,c=this,[4,this.Pdt(o,t)];case 11:return c.ydt=g.sent(),f=this.Sdt.Fx,this.Idt(a,this.wdt,h,f,n),i.forEach(function(t){return t.Hct=!1}),this.Cdt=0,this.Rdt=0,[3,17];case 12:return V(v=g.sent(),GO)?(this.G3(v.Tn,v.An,v.qot),[3,1]):[3,13];case 13:if(!V(v,JM))return[3,15];if(d=500,i.every(function(t){return t.Hct})){if(2===this.Cdt){if(l=this.Sdt.Fx,this.Ddt(this.wdt),this.Idt(this.ydt,this.wdt,l,l,n),i.forEach(function(t){return t.Hct=!1}),this.Rdt+=1,this.Cdt=0,this.Rdt===this.Ndt.maxRetries)throw new ld(vd.MEDIA_LOAD_ERROR,"The segments could not be loaded.",v);return[3,1]}this.Cdt++,w=this.Ndt.minimumBackoff*b.pow(2,this.Cdt-1),d=b.min(w,this.Ndt.maximumBackoff)}return[4,Ar(d,t)];case 14:return g.sent(),[3,1];case 15:throw this.Bdt=EA.rL(),v;case 16:return this.wdt=void 0,[7];case 17:return[3,1];case 18:return[2]}})}).call(this)},n.Idt=function(t,i,n,r,e){var s=r.qM(n),u=i.qot,o=u.Mdt(i.yut),h=u.Lct(i.yut),a=i.yut.CO,c=i.yut.RO;o&&(a=b.min(a,b.max(0,u.Oct.Tn-.05))),h&&(c=b.max(c,u.Oct.An));var f=EA.nL(a,c).qM(r);if(0!==s.V){if(o||this.Bdt.V>0){var v=f.Mn(EA.nL(a,s.Tn(0)));this.Odt(v)}var d=s.OM().Mn(EA.nL(s.Tn(0),s.An(s.V-1)));if(this.Odt(d),h){var l=f.Mn(EA.nL(s.An(s.V-1),c));this.Odt(l)}if(this.Bdt.V>0){var w=this.Bdt.qM(s);this.Odt(w),this.Bdt=EA.rL()}var g,_=u.mht,m=hM(i.yut)?void 0:_.Qct(i.yut),y=null!=(g=null==t?void 0:t.yut)?g:this.Fdt(m)?m:void 0;if(y){var p=this.Yot.kct(y.CO,y.RO);if(p.length>0){var k=EA.nL(p[p.length-1].Tct,s.Tn(0));this.Odt(k)}}var A=hM(i.yut)?void 0:_.Kct(i.yut);if(A&&this.Fdt(A)){var T=this.Yot.kct(A.CO,A.RO);if(T.length>0){var S=EA.nL(s.An(s.V-1),T[0].Sct);this.Odt(S)}}}else this.Ldt(n,f,a,e)},n.Ldt=function(t,i,n,r){var e=i;0===this.Bdt.V&&(this.Bdt=EA.nL(t.An(t.V-1),n)),0===e.V&&void 0!==r&&(e=EA.sL(r)),this.Bdt=this.Bdt.HM(e),this.Yot.xct(this.Bdt)},n.Fdt=function(t){return!!t&&this.Yot.kct(t.CO,t.RO).length>0},n.Odt=function(t){for(var i=t.qM(this.Sdt.Fx),n=0;n<i.V;n++)i.Tn(n)!==i.An(n)&&this.Udt.r$(i.Tn(n),i.An(n))},n.Vdt=function(t,i){throw new JM(t,i)},n.Bat=function(){if(!(this.Bdt.V>0)){var t,i=this.Sdt.sct.HM(null!=(t=this.Sdt.s$.MM().iL(this.Sdt.rct))?t:EA.rL());this.Yot.pct(i),this.Hdt&&!this.Wdt(this.Hdt)&&(this.Hdt=void 0),this.So(new YM(this.Yot.Ht.iat,this.Yot.Sat()))}},n.Mat=function(){return this.ydt&&this.ydt.qot.Lct(this.ydt.yut)?(this.Udt.F3(),!0):(this.Hdt&&this.Hdt.qot.Lct(this.Hdt.yut)&&this.Wdt(this.Hdt)&&this.Udt.F3(),!!this.Sdt.nct)},n.Wdt=function(t){return this.Yot.mct.GM(t.qdt,t.zdt)},n.Gdt=function(t,i,n){(!this.Hdt||this.Hdt.yut.RO<t.yut.RO)&&(this.Hdt=Yu({},t,{qdt:i,zdt:n}))},n.Tdt=function(){var t=this.Sdt.rct;return t},n.Dct=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),n=this.ydt?this.ydt.qot:void 0,[4,this.bdt.Cct(t,n,i)];case 1:return(r=e.sent())?[2,r]:[2,void 0]}})}).call(this)},n.kdt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:n={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,3,4,5]),r=t.qot,e=r.mht,s=hM(t.yut)?e.Xct(t.yut):t.yut,u=r.jdt.Xdt(),(o=e.Qdt(s))&&o.getTime()<=u.getTime()?[2,this.Vdt(WO.oot,"Segment is not available.")]:(h=e.Kdt(s).getTime()-u.getTime(),a=qt(n,hr.ep([i]),!1),[4,ut.race([Ar(h,a.Yg),r.ww(qO.Fot,a.Yg)])]);case 2:return f.sent(),[3,5];case 3:return c=f.sent(),n.error=c,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})}).call(this)},n.xdt=function(t,i,n){return void 0===n&&(n=0),Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(dr(i),!(r=t.Ydt))return[2,this.n3];o.label=1;case 1:return o.trys.push([1,4,,7]),t.Jdt?[3,3]:[4,this.Zdt.kut(r,i)];case 2:e=o.sent(),t.Jdt=e.lk,o.label=3;case 3:return[3,7];case 4:return lr(s=o.sent()),Ql(s)?2===n?(t.Hct=!0,[2,this.Vdt(WO._ot,"Could not fetch the initializer.")]):[4,Ar(b.min(this.Ndt.minimumBackoff*b.pow(2,n),this.Ndt.maximumBackoff),i)]:[3,6];case 5:return o.sent(),[2,this.xdt(t,i,n+1)];case 6:throw new ld(vd.MEDIA_LOAD_ERROR,s.message,s);case 7:dr(i),o.label=8;case 8:return o.trys.push([8,11,,12]),this.Adt(t.Jdt)?[4,this.Udt.ght(t.Jdt,t,i)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,12];case 11:if(lr(u=o.sent()),Ql(u))return[2,this.Vdt(WO._ot,"Could not append the initializer.")];throw new ld(vd.MEDIA_DECODE_ERROR,u.message,u);case 12:return[2,t.Jdt]}})}).call(this)},n.but=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=0,s.label=1;case 1:0,s.label=2;case 2:return s.trys.push([2,4,,7]),dr(i),[4,this.Zdt.but(t,i)];case 3:return[2,s.sent()];case 4:return lr(r=s.sent()),V(r,pM)?function(t){return V(t,Ml)}(r.cause)?(e=new pM(r,t.yut,t.qot),this.$dt(e,n),this.tlt(e,n),[2,this.Vdt(WO.oot,"Timeout while fetching the segment.")]):Yl(r.cause)&&n>=2?(t.qot.Hct=!0,this.$dt(r,n),this.tlt(r,n),[2,this.Vdt(WO.oot,"Could not fetch the segment.")]):(this.tlt(r,n),[4,Ar(b.min(this.Ndt.minimumBackoff*b.pow(2,n),this.Ndt.maximumBackoff),i)]):[3,6];case 5:return s.sent(),[3,7];case 6:throw new ld(vd.MEDIA_LOAD_ERROR,r.message,r);case 7:return n++,[3,1];case 8:return[2]}})}).call(this)},n.Edt=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:for(r=this.Yot.kct(i.CO,i.RO),e=this.Sdt.sct.iL(t),s=EA.rL(),u=Lt(r);!(o=u()).done;)h=o.value,dr(n),a=h.Sct,c=h.Tct,(f=e&&e.jM(a,c)?b.max(a,e.An(0)):a)<(v=c)&&(s=s.HM(EA.nL(f,v)));d=0,l.label=1;case 1:return d<s.V?[4,this.Udt.ilt(s.Tn(d),s.An(d),n)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return this.Bat(),[2]}})}).call(this)},n.Pdt=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),dr(i),[4,this.Udt.elt(t.Tut,t.yut,t.qot,i)];case 1:return n=e.sent(),this.slt(t,n.qdt,n.zdt),this.Gdt(t,n.qdt,n.zdt),[2,t];case 2:if(lr(r=e.sent()),Ql(r))return this.$dt(new pM(r,t.yut,t.qot),0),[2,this.Vdt(WO.oot,"Could not append the segment.")];if(iR(r)&&this.Udt.iJ())return[2,this.Vdt(WO.uot,"Buffer is full. Could not reduce the buffer.")];throw new ld(vd.MEDIA_DECODE_ERROR,r.message,r);case 3:return[2]}})}).call(this)},n.slt=function(t,i,n){var r=t.qot,e=t.yut;this.Iat(e,r,i,n)},n.Iat=function(t,i,n,r){this.Yot.Iat({Pat:i.o,Tat:t.CO,Eat:t.RO,Sct:n,Tct:r,Pct:!0}),this.Udt.h$(n,r)},n.G3=function(t,i,n){var r=EA.nL(t,i);n?this.Yot.r$(r,n.o):this.Yot.xct(r),this.Udt.r$(t,i)},n.Ddt=function(t){var i=EA.nL(t.yut.CO,t.yut.RO);t.qot?this.Yot.r$(i,t.qot.o):this.Yot.xct(i)},n.$dt=function(t,i){var n=t.Qut,r=this.Yot.Ht.iat,e=this.Yot.Ht.Ca,s=t.Yut.qot&&t.Yut.qot.Ca,u=new QM(n,t.message,r,e,s,i);this.So(u)},n.tlt=function(t,i){var n=t.Qut,r=this.Yot.Ht.iat,e=this.Yot.Ht.Ca,s=t.Yut.qot&&t.Yut.qot.Ca,u=Yl(t.cause)?t.cause.uE.dk:void 0,o=new ld(vd.NETWORK_ERROR,t.message,t.cause),h=new KM(n,o,r,e,s,i,u);this.So(h)},n.hr=function(){this.n3=void 0,this.ydt=void 0},n.kn=function(){this.hr(),this.Hdt=void 0,this.Zdt.mn(ZM,this.Rs),this.Zdt.kn()},Nt(i,[{key:"Xot",get:function(){return this.wdt}},{key:"Qot",get:function(){return this.ydt}},{key:"Jot",get:function(){return this.bdt.Jot},set:function(t){this.bdt.Jot=t}},{key:"iat",get:function(){return this.Yot.Ht.iat}}]),i}(th);var tL=0,iL=function(){function t(t,i,n,r,e,s,u,o,h,a,c,f){this.ect=void 0,this.W8=void 0,this.a4=void 0,this.aV=void 0,this.Mz=void 0,this.rlt=void 0,this.Sut=void 0,this.cdt=void 0,this.ndt=void 0,this.ldt=void 0,this.Ndt=void 0,this.pq=void 0,this.ect=t,this.W8=i,this.a4=n,this.aV=r,this.Mz=e,this.rlt=s,this.Sut=u,this.cdt=o,this.ndt=h,this.ldt=a,this.Ndt=c,this.pq=f}var i=t.prototype;return i.jet=function(t){var i=tL++,n=this.ect.V3,r=new SM(t),e=this.rlt&&sg(n),s=new $O(n,e),u=new AM(this.ect,this.W8,this.a4,this.Mz),o=jM.jet(i,this.ect,r,this.Mz,s,this.aV,this.Sut,this.cdt,this.ndt,this.ldt),h=function(t){switch(t){case eg.Bk:return kl.Bk;case eg.Mk:return kl.Mk;case eg.LT:return kl.LT;case eg.Lk:return kl.Lk;default:return kl.yk}}(n),a=function(t,i,n,r){var e=new sM(r),s=new kM(t,i,n);return new oM([e,s])}(new KO(this.aV,h),s,e,this.Sut),c=new $M(i,r,u,o,a,this.ect,this.ldt,this.Ndt,this.pq);return new YO(i,t.Zut,r,c,this.W8)},i.hlt=function(t,i){var n={iat:eg.LT,Zut:i,xat:i.xat,Ca:t.Ca};return this.jet(n)},t}();U(),Et();var nL=function(){function t(t){this.Wrt=void 0,this.Wrt=t}var i=t.prototype;return i.IZ=function(t){return this.Wrt.IZ(t)},i.RZ=function(t){return this.Wrt.RZ(t)},t}(),rL=function(){function t(){}var i=t.prototype;return i.IZ=function(t){return!0},i.RZ=function(t){return ut.resolve(void 0)},t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),Pt();var eL=function(t){function i(i,n){var r;return(r=t.call(this,Nw.RI)||this).$I=void 0,r.Ht=void 0,r.$I=i||[],r.Ht=n,r}return Ct(i,t),i.prototype.xa=function(){return new sL(this.$I.map(function(t){return t.Ca}))},i}(Aw),sL=function(t){function i(i){var n;return(n=t.call(this,"targetqualitychanged")||this).qualities=void 0,n.quality=void 0,n.qualities=i,n.quality=n.qualities.length>0?n.qualities[0]:void 0,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var uL=function(t){function i(i){var n;return(n=t.call(this,Nw.QUALITY_UNAVAILABLE)||this).quality=void 0,n.quality=i,n}return Ct(i,t),i.prototype.xa=function(){return new oL(this.quality.Ca)},i}(Sw),oL=function(t){function i(i){var n;return(n=t.call(this,"qualityunavailable")||this).quality=void 0,n.quality=i,n}return Ct(i,t),i}(Ew);U(),Et(),Pt();var hL=function(t){function i(){return t.call(this,Nw.NO_QUALITY)||this}return Ct(i,t),i}(rh);function aL(t){return{IW:t.IW,Bp:t.Rrt,Mi:cL(t)?t.Mi:0,Km:cL(t)?eg.Mk:eg.Bk,Ti:cL(t)?t.Ti:0}}function cL(t){var i=t;return void 0!==i.Mi&&void 0!==i.Ti}U(),Et();var fL=0,vL=function(t){function i(i,n,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this)._lt=void 0,e.mat=void 0,e.We=!1,e.hu=void 0,e.wlt=void 0,e.aS="",e.yO=void 0,e.I5=void 0,e.bO=void 0,e.$b=void 0,e.Clt=!1,e._O=new lg,e.Slt=[],e.flt=void 0,e.ylt=void 0,e.Elt=void 0,e.clt=function(){return e.So(new _g(e))},e.klt=[],e.mat=i,e.aS=String(fL++),e.yO=pg(),e.I5=r,e.$b=i.Tit,e.bO=i.Th,e.Elt=i.Km,e.Slt=i.xat.slice(),e.ult(n),e}Ct(i,t);var n=i.prototype;return n.ult=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;r.wn("update",this.clt),this._O.gO(r)}},n.dlt=function(t){if(this._O.pO(t)){t.ZU();var i=this.llt();if(this.flt&&jn(this.flt,t)){var n=this.flt.filter(function(t){return t.xst});0===n.length&&i.length>0?this.tC=i:this.tC=n}else this.tC=i;this.So(new uL(t))}},n.vlt=function(t){if(this._O.pO(t)){var i=this.llt();t.JU(),this.flt&&!function(t,i){return Qn(t,i,function(t,i){return t===i})}(this.flt,i)||(this.tC=this.llt())}},n.llt=function(){return this._O.NI.filter(function(t){return t.xst})},n.glt=function(t){this._lt=t.qot,this.So(t)},n.blt=function(t){if(t&&0!==t.length){for(var i,n=[],r=Lt(this.xat);!(i=r()).done;)for(var e,s=i.value,u=Lt(t);!(e=u()).done;){var o=e.value;o===s.qot&&o.xst&&n.push(s)}return n}},n.Tlt=function(t){var i;this.klt.push(t),(i=this.Slt).push.apply(i,[].concat(t.xat));var n=t.xat.map(function(t){return t.qot});this.ult(n)},n.SO=function(t){this.We=t,this.wlt&&(t?this.wlt.JU(this):this.wlt.ZU(this))},n.Ilt=function(t){this.We=t,this.Clt!==t&&(this.Clt=t,this.So(new wg(this)))},n.kn=function(){for(var t,i=Lt(this._O.NI);!(t=i()).done;){t.value.mn("update",this.clt)}this._O.hr()},Nt(i,[{key:"ZI",get:function(){return this.mat.olt.map(dL).filter(Li)}},{key:"YI",get:function(){return this._lt}},{key:"Zut",get:function(){return this.mat}},{key:"Rt",get:function(){return this.We},set:function(t){this.SO(t)}},{key:"Ca",get:function(){return this.hu||(this.hu=tg(this)),this.hu}},{key:"plt",get:function(){return this.wlt},set:function(t){this.wlt=t}},{key:"o",get:function(){return this.aS}},{key:"JI",get:function(){return this.yO}},{key:"Lt",get:function(){return this.I5}},{key:"bs",get:function(){return this.$b}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"tC",get:function(){return this.flt},set:function(t){var i;if(t){var n=this.YI?aL(this.YI):void 0;i=t.filter(function(t){return t.xst&&Ui.Zs.Pp(n,aL(t))})}else i=this.llt();0!==i.length?(this.flt=t&&this._O.pO(t)?t:void 0,this.ylt=this.blt(this.flt),this.So(new eL(t,this))):this.So(new hL)}},{key:"Alt",get:function(){return this.ylt}},{key:"$I",get:function(){return this._O}},{key:"xat",get:function(){return this.Slt}},{key:"iat",get:function(){return this.Elt}},{key:"xlt",get:function(){return this.klt}},{key:"Plt",get:function(){return this.xat.every(function(t){return t.Plt})}}]),i}(th);function dL(t){if("urn:mpeg:dash:role:2011"===t.x8)return lL(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.x8){if("1"===t.XE)return Jw.GI;if("2"===t.XE)return Jw.jI}}function lL(t){if(void 0!==(null==t?void 0:t.XE))switch(t.XE){case"caption":return Jw.zI;case"sign":return Jw.XI;case"description":return Jw.GI;case"enhanced-audio-intelligibility":return Jw.jI;default:return}}var wL=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,u)||this).Rz=1,o.Nlt=void 0,o.Dlt=Zu(),o.Rlt=void 0,o.Mlt=void 0,o.Qlt=Zu(),o.aV=void 0,o.Sut=void 0,o.W8=void 0,o.Mz=void 0,o.Hlt=void 0,o.Wlt=function(t){0},o.W8=i,o.aV=n,o.Mz=r,o.Hlt=e,o.Sut=s,o}Ct(i,t);var n=i.prototype;return n.F3=function(){},n.hct=function(){return this.sct.Cr(this.An)},n.elt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:return t.Km!==zR.wZ?[3,1]:(s=t.lk.jht,[3,3]);case 1:return[4,t.lk.qT(r)];case 2:s=g.sent(),g.label=3;case 3:for(e=s,u=this.findTrackForRepresentation(n),o=i.CO,h=i.RO,a=new EA([o,h]),this.jrt(r),c=this.pht(new E(e),i,n,u),f=Lt(c);!(v=f()).done;)d=v.value,u.nV(d);return w=null!=(l=this.Dlt.get(u.JI))?l:EA.rL(),this.Dlt.set(u.JI,w.HM(a)),[2,{qdt:o,zdt:h}]}})}).call(this)},n.jrt=function(t){for(var i,n=Lt(tR(this.W8.zx,void 0,void 0,this.Fx,this.Mz.YY,this.Mz.zY));!(i=n()).done;){var r=i.value,e=r[0],s=r[1];kr(this.ilt(e,s,t))}},n.ght=function(t,i,n){return this.Hlt.ght(t,i,n)},n.pht=function(t,i,n,r){return this.Hlt.pht(t,i,n,r)},n.ilt=function(t,i,n){dr(n);for(var r,e=t,s=i,u=new EA([t,i]),o=Lt(this.Z.NI);!(r=o()).done;){for(var h,a=r.value,c=[],f=Lt(a.L.NI);!(h=f()).done;){var v=h.value;v.CO>=e&&v.RO<=s?c.push(v):u=u.qM(new EA([v.CO,v.RO]))}for(var d,l=Lt(c);!(d=l()).done;){var w=d.value;a.XU(w)}var g=this.Dlt.get(a.JI);g&&this.Dlt.set(a.JI,g.qM(u))}return ut.resolve()},n.r$=function(t,i){},n.h$=function(t,i){},n.iJ=function(){return!1},n.JU=function(t){if(t&&this.Rlt!==t){this.Rlt=t;for(var i,n=Lt(this.Z.NI);!(i=n()).done;){var r=i.value;r!==t&&(r.Qk=zm.Nh)}if(this.Hlt.hr(),this.Nlt&&(this.Nlt.kn(),this.Nlt=void 0),this.Rlt){var e=this.Flt(this.Rlt);this.Nlt=new iL(this,this.W8,this.W8,this.aV,this.Mz,!1,this.Sut,void 0,void 0,new rL,pT,void 0).hlt(this.Rlt,e),this.Nlt.wn(qm.ma,this.Wlt),this.Nlt.Tn(WO.Zht)}}},n.ZU=function(t){this.Rlt===t&&(t&&this.Rlt===t&&(this.Rlt=void 0),this.Nlt&&(this.Nlt.kn(),this.Nlt=void 0))},n.Un=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.hr()];case 1:return i.sent(),this.Mlt=t,this.qlt(t),[2]}})}).call(this)},n.zlt=function(t){var i=function(t){var i=t.xat&&t.xat.length>0&&t.xat[0],n=i&&ny(i.Rrt),r=ny(t.Rrt),e=t.lQ===Uv;return n||r||e?Ng.TTML:t.lQ===Hv||uy(t.lQ,t.Rrt)?Ng.WEBVTT:Ng.DEFAULT}(t);if(!i)throw new y("Unknown TextTrack type for Representation");var n=t.Glt.concat(t.olt);return this.Xlt(function(t){return jn(t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.x8}).map(function(t){return t.XE}).filter(Li),"caption")?Jm.WU:Jm.HU}(n),t.Th,t.Tit,!1,i,t,function(t){return t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.x8}).some(function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.XE)})}(t.Glt),t.olt.map(lL).filter(Li))},n.qlt=function(t){for(var i,n=Lt(t.jlt);!(i=n()).done;){var r=i.value,e=this.zlt(r);this.Qlt.set(e.JI,r),e.AP=Dg.LOADED,this.tt(e)}},n.it=function(i){this.Qlt.delete(i.JI),t.prototype.it.call(this,i)},n.Xlt=function(t,i,n,r,e,s,u,o){var h,a,c,f=Fn(s.xat,function(t){return""!==t.o}),v=null!=(c=null!=(a=null==f?void 0:f.o)?a:null==(h=s.o)?void 0:h.toString())?c:"";return this.iV.sI(t,v,i,n,r,e,u,o)},n.eV=function(t,i,n){var r=ly(t,i,n),e=this.Qlt.get(t.JI);void 0!==e&&(this.Qlt.set(r.JI,e),this.Qlt.delete(t.JI));var s=this.Dlt.get(t.JI);return void 0!==s&&(this.Dlt.set(r.JI,s),this.Dlt.delete(t.JI)),r},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),this.Nlt?[4,this.Nlt.hr(WO.Aot)]:[3,3];case 2:n.sent(),this.Nlt.mn(qm.ma,this.Wlt),this.Nlt=void 0,n.label=3;case 3:return this.Mlt=void 0,this.Dlt.clear(),[2]}})}).call(this)},n.findTrackForRepresentation=function(t){for(var n,r=Lt(this.Z.NI);!(n=r()).done;){var e=n.value,s=this.Flt(e);if(s&&i.Klt(s)===t)return e}},n.Flt=function(t){return this.Qlt.get(t.JI)},n.Llt=function(){if(this.Rlt){var t=this.Flt(this.Rlt);if(t)return i.Klt(t)}},n.kn=function(){for(var i,n=Lt(this.Z.NI);!(i=n()).done;){var r=i.value;this.iV.rV(r)}return t.prototype.kn.call(this)},i.Klt=function(t){return t.xat&&t.xat.length>0?t.xat[0]:void 0},Nt(i,[{key:"Rt",get:function(){for(var t,i=Lt(this.Z.NI);!(t=i()).done;){if(t.value.Qk!==zm.Nh)return!0}return!1}},{key:"ZW",get:function(){var t=this.W8.zx;return this.sct.iL(t,.01)}},{key:"act",get:function(){return EA.hL()}},{key:"Fx",get:function(){var t;return null!=(t=this.Rlt&&this.Dlt.get(this.Rlt.JI))?t:EA.rL()}},{key:"s$",get:function(){return this.Nlt?this.Nlt.Kot.s$.uct:EA.rL()}},{key:"sct",get:function(){return zO(this.Fx,this.s$).VM(2*this.Blt)}},{key:"Tn",get:function(){return this.Mlt?this.Mlt.Oct.Tn:NaN}},{key:"An",get:function(){return this.Mlt?this.Mlt.Oct.An:NaN}},{key:"Qx",get:function(){var t=this.An;return!!t&&this.W8.zx>=t}},{key:"Blt",get:function(){var t,i,n=this.Llt();return n?1/(null!=(i=this.Rlt&&(null==n||null==(t=n.Olt)?void 0:t.rF()))?i:25):.04}},{key:"Mi",get:function(){return 0}},{key:"V3",get:function(){return eg.LT}},{key:"vP",get:function(){return this.Rz},set:function(t){this.Rz=t}},{key:"kP",get:function(){if(!this.Rlt)return EA.sL(0);var t=this.Flt(this.Rlt),i=null==t?void 0:t.Ult,n=null==t?void 0:t.Vlt;if(void 0===n||void 0===i)return EA.sL(0);var r=b.max(i,this.W8.zx);return new EA([n,r]).MM()}},{key:"Ti",get:function(){return 0}}]),i}(dy),gL=function(){function t(t,i,n,r,e,s){this.Zlt=[],this.Gl=new Rb([]),this.iV=void 0,this.wht=void 0,this.W8=void 0,this.aV=void 0,this.Mz=void 0,this.Sut=void 0,this.W8=t,this.aV=i,this.Mz=n,this.Sut=r,this.iV=e,this.wht=s}var i=t.prototype;return i.oV=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return t.Km!==eg.LT?[2]:(i=function(t,i,n){return ny(i)||t===Uv||t===Hv?new OO(n):uy(t,i)?new UO:void 0}(t.lQ,t.Rrt,this.wht),i?(n=this.Ylt(i),this.Jlt(n),[4,n.Un(t)]):[3,2]);case 1:return r.sent(),[2,n];case 2:return[2]}})}).call(this)},i.Ylt=function(t){return new wL(this.W8,this.aV,this.Mz,t,this.Sut,this.iV)},i.Jlt=function(t){this.Zlt.push(t),this.Gl.qW(t.Z)},i.hr=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:t=Lt(this.Zlt.slice()),n.label=1;case 1:return(i=t()).done?[3,4]:[4,i.value.hr()];case 2:n.sent(),n.label=3;case 3:return[3,1];case 4:return Yn(this.Zlt),this.Gl.hr(),[2]}})}).call(this)},i.kn=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:t=Lt(this.Zlt),n.label=1;case 1:return(i=t()).done?[3,4]:[4,i.value.kn()];case 2:n.sent(),n.label=3;case 3:return[3,1];case 4:return Yn(this.Zlt),this.Gl.kn(),[2]}})}).call(this)},Nt(t,[{key:"nt",get:function(){return this.Gl}}]),t}();U(),Et(),Pt();var _L=function(t){function i(i){var n;return(n=t.call(this,eh.zw)||this).error=void 0,n.error=i,n}return Ct(i,t),i}(rh);U(),Et();var mL=function(t){return t.AV="static",t.SV="dynamic",t}({});U(),Et(),Pt(),U(),Et();var yL=function(t){return t.$lt="tft",t}({}),pL=function(t){function i(){return t.call(this,yL.$lt)||this}return Ct(i,t),i}(rh);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var kL=function(t){function i(i,n){var r;return(r=t.call(this,eh.Yw)||this).representation=void 0,r.previousRepresentation=void 0,r.representation=i,r.previousRepresentation=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt(),Ft(),U(),Et(),Ft(),U(),Et();var bL=function(t){return t[t.ift=0]="ift",t[t.eft=1]="eft",t[t.sft=2]="sft",t[t.nft=3]="nft",t[t.rft=4]="rft",t[t.hft=5]="hft",t}({}),AL=function(t){return t[t.oft=0]="oft",t[t.aft=1]="aft",t[t.uft=2]="uft",t[t.cft=3]="cft",t}({});function TL(t,i,n){return n===bL.ift?n:i!==AL.oft&&i!==AL.aft||n!==bL.eft&&n!==bL.sft?t?i===AL.uft?bL.rft:i===AL.cft?bL.nft:bL.ift:bL.hft:bL.sft}function SL(t,i,n,r){var e={byte:n},s=bL.eft,u=[],o=31&EC(i,e,r);e.byte+=1;for(var h=0;h<o;h+=1){var a=EC(i,e,r),c=4&a,f=3&a;s=TL(Boolean(c),f,s);var v=EC(i,e,r),d=EC(i,e,r);u.push({dft:t,zB:-1,lft:!h,fft:Boolean(c),Km:f,vft:s,_ft:v,gft:d})}return u}function EL(t,i,n){var r=EC(t,i,n);if(!S(r))return String.fromCharCode(r)}function IL(t){var i=t.a1,n={byte:t.h1},r=t.o1,e=EC(i,n,r);if(255===e&&(n.byte+=1),181===e){var s=IC(i,n);if(47===s||49===s){if(49===s){var u=function(t,i,n){for(var r="",e=n;e>0;)e-=1,r+=EL(t,i);return r}(i,n,4);if("GA94"!==u)return}if(3===EC(i,n,r)){47===s&&(n.byte+=1);var o=t;return o.pft=n.byte,o}}}}function RL(t){return 4===t.s1}function CL(t){for(var i,n=[],r=Lt(t.filter(RL).map(IL).filter(Li));!(i=r()).done;){var e,s=i.value;(e=n).push.apply(e,[].concat(SL(s.e1,s.a1,s.pft,s.o1)))}return n}U(),Et(),Ft();var PL="und";var DL=[{l:"Abkhaz",bh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",bh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",bh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",bh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",bh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",bh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",bh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",bh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",bh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",bh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",bh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",bh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",bh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",bh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",bh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",bh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",bh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",bh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",bh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",bh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",bh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",bh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",bh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",bh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",bh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",bh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",bh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",bh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",bh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",bh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",bh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",bh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",bh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",bh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",bh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",bh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",bh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",bh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",bh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",bh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",bh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",bh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",bh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",bh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",bh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",bh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",bh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",bh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",bh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",bh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",bh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",bh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",bh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",bh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",bh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",bh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",bh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",bh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",bh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",bh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",bh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",bh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",bh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",bh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",bh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",bh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",bh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",bh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",bh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",bh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",bh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",bh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",bh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",bh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",bh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",bh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",bh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",bh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",bh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",bh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",bh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",bh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",bh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",bh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",bh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",bh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",bh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",bh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",bh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",bh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",bh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",bh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",bh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",bh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",bh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",bh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",bh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",bh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",bh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",bh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",bh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",bh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",bh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",bh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",bh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",bh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",bh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",bh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",bh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",bh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",bh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",bh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",bh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",bh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",bh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",bh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",bh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",bh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",bh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",bh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",bh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",bh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",bh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",bh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",bh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",bh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",bh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",bh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",bh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",bh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",bh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",bh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",bh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",bh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",bh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",bh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",bh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",bh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",bh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",bh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",bh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",bh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",bh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",bh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",bh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",bh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",bh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",bh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",bh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",bh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",bh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",bh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",bh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",bh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",bh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",bh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",bh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",bh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",bh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",bh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",bh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",bh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",bh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",bh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",bh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",bh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",bh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",bh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",bh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",bh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",bh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",bh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",bh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",bh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",bh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",bh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",bh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",bh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",bh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",bh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",bh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",bh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",bh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",bh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];U(),Et(),Ft();function NL(t){var i,n=null!=(i=function(t){var i=t.q0,n=new RC;return n.Q0(i,0,i.byteLength),HC(n).I1}(t))?i:24;return t.mft/n}function xL(t){return t.Km===hm.NR}function BL(t,i,n,r,e){for(var s,u=function(t,i,n,r){var e=n.mft,s=ue.fromNumber(t.eM||0),u=r.gO(m_.yF(s,e));return{wft:r.rF(),yft:r,bft:u,Aft:r}}(t,0,n,r),o=m_.bF(t.ct||0,n.mft),h=t.xD||0,a=!(65536&h)&&1!==(h>>24&3),c=_a(e),f=new Ta;f.ac<c.byteLength;){var v=qh(c,f);if((31&Hh(c,f,1))===LC.g1){var d,l=new RC;l.Q0(e,f.ac-1,f.ac+v-1);var w=new VC(l),g=BC(u.bft,w);(d=s=s||[]).push.apply(d,[].concat(CL(g)))}f.Ly(v-1)}return Yu({},u,{ct:o.rF(),Sft:o,Tft:u.bft.rF(),kft:u.wft,Eft:a,xft:s,Pft:!1,Ift:!1})}function OL(t){return{sN:t.yD.sN,mft:t.$D.yD.jD}}function ML(t){return t.Km===hm.HC}U(),Et(),Pt(),U(),Et(),Pt(),Ft(),U(),Et(),H(),Ft(),U(),Et(),U(),Et(),U(),Et(),Pt(),U(),Et(),U(),Et();var LL=function(){function t(t,i){this.Dit=void 0,this.yit=void 0,this.Dit=t,this.yit=i}return t.prototype.QO=function(t){return this.Dit===t.Dit&&this.yit===t.yit},t}();U(),Et(),xt(),Ft();var FL=function(){function t(t,i){this.vZ=void 0,this.Rft=void 0,this.Cft=void 0,this.vZ=t,this.Rft=i,this.Cft=""}var i=t.prototype;return i.Dft=function(t){this.Cft+=t},i.Nft=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;this.Dft(r)}},Nt(t,[{key:"Xit",get:function(){return this.Cft}},{key:"Hit",get:function(){return[this]}},{key:"zit",get:function(){return this.vZ}},{key:"Eit",get:function(){return this.Rft}},{key:"Iit",get:function(){return new LL(this.Eit.Dit,this.Eit.yit+this.Xit.length-1)}}]),t}();function UL(t,i){return t===i||t.Xit===i.Xit&&t.Eit.QO(i.Eit)&&Fw(t.zit,i.zit)}function VL(t,i){return t===i||t.Eit.QO(i.Eit)&&t.Iit.QO(i.Iit)&&Qn(t.Hit,i.Hit,UL)}var HL=function(t){function i(i,n,r){return t.call(this,i,n,r,!1)||this}return Ct(i,t),i.prototype.KO=function(t){return Qn(this.U,t.U,VL)},i}(Jg);U(),Et(),xt();var WL=function(){function t(){}var i=t.prototype;return i.Bft=function(t){return t.mU(this)},i.Mft=function(t){var i=this;return Jn(t,function(t,n){return t.mU(i,n)})},i.Lft=function(t,i){return new zL(t,i).Oft()},t}(),zL=function(){function t(t,i){this.Dit=void 0,this.zft=void 0,this.Hft=void 0,this.qft=void 0,this.Dit=t,this.zft=i,this.Hft=[],this.qft=null}var i=t.prototype;return i.Oft=function(){if(this.Fft)return[];for(var t=0;t<this.Dit.length;t++)this.Uft(t);return this.Vft(),this.Hft},i.Wft=function(t){this.qft=new FL(Fx,new LL(this.zft,t))},i.Vft=function(){this.qft&&(this.Hft.push(this.qft),this.qft=null)},i.Uft=function(t){var i=this.Dit[t];XL(i)?this.qft&&this.Vft():(this.qft||this.Wft(t),this.qft.Dft(i))},Nt(t,[{key:"Fft",get:function(){return this.Dit.every(XL)}}]),t}();function XL(t){return null==t}var qL=function(){function t(){}return t.Gft=function(t,i,n){if(!(i>=n)){var r=Jn(t,function(t,i){return new zL(t.map(function(t){return t?t.Xft():null}),i).Oft()});if(0!==r.length)return new HL(i,n,r)}},t}(),GL="black",jL="white";U(),Et(),U(),Et();var QL=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,i){return t[i[0]]=i[1],t},{}),YL=function(){function t(){this.Qft=[],this.Jft=0,this.tvt=void 0;for(var t=0;t<Wx;t++)this.Qft.push(null);this.tvt=!1}var i=t.prototype;return i.jft=function(t){for(var i=0;i<Wx;i++)t&&(this.Qft[i]=t.Qft[i])},i.QO=function(t){for(var i=0;i<Wx;i++)if(this.Qft[i]!==t.Qft[i])return!1;return!0},i.Kft=function(){for(var t=0;t<Wx;t++)if(null!==this.Qft[t])return!1;return!0},i.Yft=function(t){this.Jft!==t&&(this.Jft=t),this.Jft<0?this.Jft=0:this.Jft>Wx&&(this.Jft=31)},i.Zft=function(t){var i=this.Jft+t;this.Yft(i)},i.$ft=function(){this.Zft(-1),this.Qft[this.Jft]=null},i.Dft=function(t){t>=144&&this.$ft();var i=function(t){return QL[t]?String.fromCharCode(QL[t]):String.fromCharCode(t)}(t);this.addParsedChar(i)},i.addParsedChar=function(t){this.Jft>=Wx||(32===Number(t)?(this.Qft[this.Jft]=this.tvt?"</i>":"<i>",this.tvt=!this.tvt):this.Qft[this.Jft]=t,this.Zft(1))},i.ivt=function(t){for(var i=t;i<Wx;i++)this.Qft[i]=null},i.jy=function(){this.ivt(0),this.Jft=0},i.evt=function(){this.ivt(this.Jft)},i.svt=function(t,i){for(var n=this.Qft,r=null,e=0;e<Wx;e++){var s=n[e];null===s?r=null:(r||(r={Gh:e,Xh:t,Ti:0,Mi:1,Qft:[[]]},i.push(r)),r.Qft[0].push(s),r.Ti++)}},i.mU=function(t,i){return t.Lft(this.Qft,i)},t}();var KL=function(){function t(t,i){this.avt=void 0,this.dvt=void 0,this._vt=void 0,this.rvt=void 0,this.ovt=void 0,this.Avt=void 0,this.Tvt=void 0,this.Evt=void 0,this.Pvt=void 0,this.avt=new Array(JL+1);for(var n=0;n<=JL;n++)this.avt[n]=new YL;this.dvt=1,this._vt=0,this.rvt=t,this.ovt=i,this.Avt=!1,this.Tvt=!1,this.Evt=jL,this.Pvt=GL,this.hr()}var i=t.prototype;return i.nvt=function(t,i){var n="CC"+(this.rvt<<1|this.ovt+1);if(t>=i)return null;var r=(new WL).Mft(this.avt.slice(1));return 0===r.length?null:{PO:new HL(t,i,r),zT:n,uvt:this.rvt<<1|this.ovt+1}},i.hr=function(){this.cvt(),this.dvt=1},i.lvt=function(){return this.dvt},i.fvt=function(t){this.dvt=t},i.Yft=function(t){this.avt[this.dvt].Yft(t)},i.Zft=function(t){this.avt[this.dvt].Zft(t)},i.vvt=function(){return this._vt},i.gvt=function(t){this._vt=t},i.Dft=function(t,i){if(!(i<32||i>127)){var n="";switch(t){case 0:n=void 0!==$L[i]?$L[i]:String.fromCharCode(i);break;case 1:n=tF[i];break;case 2:this.pvt(),n=iF[i];break;case 3:this.pvt(),n=nF[i]}n&&this.avt[this.dvt].addParsedChar(n)}},i.pvt=function(){this.avt[this.dvt].$ft()},i.mvt=function(t,i,n){if(t>=i)for(var r=n-1;r>=0;r--)this.avt[t+r]=this.avt[i+r];else for(var e=0;e<n;e++)this.avt[t+e]=this.avt[i+e]},i.wvt=function(t,i){for(var n=0;n<=i;n++)this.avt[t+n]=new YL},i.cvt=function(){this.wvt(0,JL)},i.yvt=function(){this.dvt=this._vt>0?this._vt:0,this.cvt()},i.bvt=function(t){this.Avt=t},i.Svt=function(t){this.Tvt=t},i.kvt=function(t){this.Evt=t},i.xvt=function(t){this.Pvt=t},t}(),JL=15,ZL=function(t){return t[t.Ivt=0]="Ivt",t[t.Cvt=1]="Cvt",t[t.Rvt=2]="Rvt",t[t.Dvt=3]="Dvt",t}({}),$L={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},tF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},iF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},nF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},rF=function(){function t(t,i){this.Vp=void 0,this.Uvt=void 0,this.Lvt=void 0,this.Fvt=void 0,this.Mvt=void 0,this.Bvt=void 0,this.Ovt=void 0,this.Nvt=void 0,this.Vp=0,this.Uvt=new KL(t,i),this.Lvt=new KL(t,i),this.Fvt=new KL(t,i),this.Mvt=this.Lvt,this.Bvt=0,this.Ovt=void 0,this.Nvt=!1}var i=t.prototype;return i.hr=function(){this.Nvt=!0,this.Bvt=0,this.Vp=0,this.Mvt=this.Lvt,this.Ovt=void 0,this.Lvt.hr(),this.Fvt.hr(),this.Uvt.hr()},i.Vvt=function(t,i){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|i>>5&1]},i.Hvt=function(t,i){var n=this.Vvt(t,i),r=(30&i)>>1,e=jL,s=!1;r<7?e=uF[r]:7===r&&(s=!0);var u=!(1&~i);if(4!==this.Vp){var o=this.Mvt;if(3===this.Vp&&n!==o.lvt()){var h=1+o.lvt()-o.vvt(),a=1+n-o.vvt();o.mvt(a,h,o.vvt()),o.wvt(0,a-1),o.wvt(n+1,JL-n)}o.fvt(n);var c=Vx[t<<1&14|i>>5&1]-1;if(!(c<0)){var f=function(t,i){var n=i>95?i-96:i-64;return{wit:Ux[n].wit,mit:Ux[n].mit,yit:Ux[n].yit,Dit:t}}(c,i);o.Yft(f.yit),this.Mvt.bvt(u),this.Mvt.Svt(s),this.Mvt.kvt(e),this.Mvt.xvt(GL)}}},i.Wvt=function(t,i){this.Mvt.bvt(!1),this.Mvt.Svt(!1),this.Mvt.kvt(jL);var n=this.qvt(t,ZL.Ivt," ".charCodeAt(0)),r=jL,e=!1,s=!(1&~i);return"white_italics"===(r=uF[(14&i)>>1])&&(r="white",e=!0),this.Mvt.bvt(s),this.Mvt.Svt(e),this.Mvt.kvt(r),n},i.qvt=function(t,i,n){if(this.Mvt.Dft(i,n),2===this.Vp||3===this.Vp){var r=this.zvt(this.Mvt,this.Bvt,t);return this.Bvt=t,r}return null},i.zvt=function(t,i,n){return this.Nvt?null:2===this.Vp||3===this.Vp?t.nvt(n,n+10):t.nvt(i,n)},i.Gvt=function(t,i){var n=GL;7&t||(n=sF[(14&i)>>1]),this.Mvt.xvt(n)},i.Xvt=function(t){var i=eF,n=t.jvt,r=t.Qvt,e=null;switch(n){case i.RCL:this.Kvt();break;case i.BS:this.Yvt();break;case i.AOD:case i.AON:case i.DER:break;case i.RU2:e=this.Jvt(2,r);break;case i.RU3:e=this.Jvt(3,r);break;case i.RU4:e=this.Jvt(4,r);break;case i.FON:e=this.Zvt(r);break;case i.RDC:this.$vt(r);break;case i.TR:this.t_t();break;case i.RTD:this.i_t();break;case i.EDM:e=this.e_t(r);break;case i.CR:e=this.s_t(r);break;case i.ENM:this.n_t();break;case i.EOC:e=this.r_t(r)}return e},i.s_t=function(t){var i=this.Mvt;if(3!==this.Vp)return null;var n=this.zvt(i,this.Bvt,t),r=i.lvt()-i.vvt()+1;return i.mvt(r-1,r,i.vvt()),i.wvt(0,r-1),i.wvt(i.lvt(),JL-i.lvt()),this.Bvt=t,n},i.Jvt=function(t,i){this.Mvt=this.Lvt;var n=this.Mvt,r=null;return 3!==this.Vp&&4!==this.Vp&&(r=this.zvt(n,this.Bvt,i),this.Lvt.yvt(),this.Fvt.yvt(),this.Nvt=!1,n.fvt(JL)),this.Vp=3,n.gvt(t),r},i.Zvt=function(t){return this.qvt(t,ZL.Ivt," ".charCodeAt(0))},i.e_t=function(t){var i=this.Lvt,n=null;return 4!==this.Vp&&(n=this.zvt(i,this.Bvt,t)),i.cvt(),this.Nvt=!1,n},i.$vt=function(t){this.Vp=2,this.Mvt=this.Lvt,this.Mvt.gvt(0),this.Bvt=t},i.n_t=function(){this.Fvt.cvt()},i.r_t=function(t){var i=null;4!==this.Vp&&(i=this.zvt(this.Lvt,this.Bvt,t));var n=this.Fvt;return this.Fvt=this.Lvt,this.Lvt=n,this.Kvt(),this.Bvt=t,i},i.Kvt=function(){this.Vp=1,this.Mvt=this.Fvt,this.Mvt.gvt(0)},i.Yvt=function(){this.Mvt.pvt()},i.t_t=function(){this.Uvt.hr(),this.Nvt=!1,this.i_t()},i.i_t=function(){this.Mvt=this.Uvt,this.Vp=4},i.h_t=function(t,i,n){return this.Mvt.Dft(ZL.Ivt,i),this.qvt(t,ZL.Ivt,n)},i.o_t=function(t,i,n){var r=1&i?ZL.Dvt:ZL.Rvt;return this.qvt(t,r,n)},i.a_t=function(t){var i=t.u_t,n=t.jvt,r=t.Qvt;if(this.Ovt===(i<<8|n))return this.Ovt=void 0,null;if(this.Ovt=i<<8|n,this.c_t(i,n))this.Hvt(i,n);else{if(this.d_t(i,n))return this.Wvt(r,n);if(this.l_t(i,n))this.Gvt(i,n);else{if(this.f_t(i,n))return this.qvt(r,ZL.Cvt,n);if(this.v_t(i,n))return this.o_t(r,i,n);if(this.__t(i,n))return this.Xvt(t);this.isTabOffset(i)&&this.Mvt.Zft(n-32)}}return null},i.isTabOffset=function(t){return 23===t||31===t},i.__t=function(t,i){return 20==(246&t)&&32==(240&i)},i.c_t=function(t,i){return 16==(240&t)&&64==(192&i)},i.d_t=function(t,i){return 17==(247&t)&&32==(240&i)},i.l_t=function(t,i){return 16==(247&t)&&32==(240&i)||23==(247&t)&&45==(255&i)},i.f_t=function(t,i){return 17==(247&t)&&48==(240&i)},i.v_t=function(t,i){return 18==(246&t)&&32==(224&i)},t.g_t=function(t){return 16==(112&t)},t}(),eF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},sF=["black","green","blue","cyan","red","yellow","magenta","black"],uF=["white","green","blue","cyan","red","yellow","magenta","white_italics"];U(),Et(),Ft(),Qt(),U(),Et(),U(),Et();var oF=function(){function t(t,i,n,r,e){this.p_t=void 0,this.Avt=void 0,this.Tvt=void 0,this.Pvt=void 0,this.Evt=void 0,this.p_t=t,this.Avt=i,this.Tvt=n,this.Pvt=r,this.Evt=e}var i=t.prototype;return i.Xft=function(){return this.p_t},i.m_t=function(){return this.Avt},i.w_t=function(){return this.Tvt},i.y_t=function(){return this.Pvt},i.b_t=function(){return this.Evt},t}(),hF=function(){function t(t){this.K_t=void 0,this.kz=void 0,this.E_t=void 0,this.T_t=void 0,this.S_t=void 0,this.k_t=void 0,this.x_t=void 0,this.P_t=void 0,this.j_t=void 0,this.C_t=void 0,this.HO=void 0,this.dvt=void 0,this.B_t=void 0,this.Tvt=void 0,this.Avt=void 0,this.Evt=void 0,this.Pvt=void 0,this.K_t=t,this.kz=!1,this.E_t=!1,this.T_t=0,this.S_t=0,this.k_t=0,this.x_t=0,this.P_t=0,this.j_t=2,this.C_t=[],this.HO=0,this.dvt=0,this.B_t=0,this.Tvt=!1,this.Avt=!1,this.Evt=jL,this.Pvt=GL,this.I_t()}var i=t.prototype;return i.A_t=function(t,i,n,r,e,s,u){this.kz=t,this.S_t=i,this.T_t=n,this.k_t=r,this.E_t=e,this.x_t=s,this.P_t=u},i.I_t=function(){this.C_t=[];for(var t=0;t<cF;t++)this.C_t.push(this.R_t())},i.R_t=function(){for(var t=[],i=0;i<aF;i++)t.push(null);return t},i.D_t=function(t){this.N_t()&&(this.C_t[this.dvt][this.B_t]=new oF(t,this.Avt,this.Tvt,this.Pvt,this.Evt),this.B_t++)},i.M_t=function(){this.N_t()&&(this.B_t<=0&&this.dvt<=0||(this.B_t<=0?(this.B_t=this.P_t-1,this.dvt--):this.B_t--,this.C_t[this.dvt][this.B_t]=null))},i.N_t=function(){var t=this.dvt<this.x_t&&this.dvt>=0,i=this.B_t<this.P_t&&this.B_t>=0;return t&&i},i.Re=function(){return this.kz},i.L_t=function(t){for(var i=0,n=t;n<cF;n++,i++)this.C_t[i]=this.C_t[n];for(var r=0;r<t;r++,i++)this.C_t[i]=this.R_t()},i.O_t=function(){if(this.dvt+1>=this.x_t)return this.L_t(1),void(this.B_t=0);this.dvt++,this.B_t=0},i.F_t=function(){this.C_t[this.dvt]=this.R_t(),this.B_t=0},i.nvt=function(t,i){if(this.HO>=t)return null;var n=qL.Gft(this.C_t,this.HO,t);return n?(this.U_t(t),{PO:n,zT:"svc"+i,uvt:i}):null},i.V_t=function(t,i){this.dvt=t,this.B_t=i},i.H_t=function(t){this.Pvt=t},i.W_t=function(t){this.Evt=t},i.q_t=function(t){this.Avt=t},i.z_t=function(t){this.Tvt=t},i.G_t=function(){this.dvt=0,this.B_t=0,this.Avt=!1,this.Tvt=!1,this.Evt=jL,this.Pvt=GL},i.X_t=function(t){this.j_t=t},i.Q_t=function(){this.kz=!0},i.we=function(){this.kz=!1},i.Mh=function(){this.kz=!this.kz},i.U_t=function(t){this.HO=t},t}(),aF=42,cF=15,fF=function(){function t(t){this.ogt=void 0,this.pgt=void 0,this.hgt=void 0,this.ogt=t,this.pgt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.hgt=void 0}var i=t.prototype;return i.Y_t=function(t){var i=t.J_t(),n=i.XE,r=i.Qvt;n===gF&&(n=n<<16|t.J_t().XE);return n>=0&&n<=31?this.Z_t(n,r):n>=128&&n<=159?this.$_t(t,n,r):(n>=4096&&n<=4127?this.tgt(t,255&n):n>=4224&&n<=4255?this.igt(t,255&n):n>=32&&n<=127?this.egt(n):n>=160&&n<=255?this.sgt(n):n>=4128&&n<=4223?this.ngt(255&n):n>=4256&&n<=4351&&this.rgt(255&n),null)},i.egt=function(t){this.hgt&&(127!==t?this.hgt.D_t(String.fromCharCode(t)):this.hgt.D_t("\u266a"))},i.sgt=function(t){this.hgt&&this.hgt.D_t(String.fromCharCode(t))},i.ngt=function(t){if(this.hgt)if(void 0!==_F[t]){var i=_F[t];this.hgt.D_t(i)}else this.hgt.D_t("_")},i.rgt=function(t){this.hgt&&(160===t?this.hgt.D_t("[CC]"):this.hgt.D_t("_"))},i.Z_t=function(t,i){if(!this.hgt)return null;var n=this.hgt,r=null;switch(t){case vF:n.M_t();break;case lF:n.Re()&&(r=n.nvt(i,this.ogt)),n.O_t();break;case wF:n.Re()&&(r=n.nvt(i,this.ogt)),n.F_t();break;case dF:n.Re()&&(r=n.nvt(i,this.ogt)),n.I_t(),n.V_t(0,0)}return r},i.$_t=function(t,i,n){if(i>=128&&i<=135){var r=7&i;this.agt(r)}else{if(136===i){var e=t.J_t().XE;return this.ugt(e,n)}if(137===i){var s=t.J_t().XE;this.cgt(s,n)}else{if(138===i){var u=t.J_t().XE;return this.dgt(u,n)}if(139===i){var o=t.J_t().XE;return this.lgt(o,n)}if(140===i){var h=t.J_t().XE;return this.fgt(h,n)}if(143===i)return this.hr(n);if(144===i)this.vgt(t);else if(145===i)this._gt(t);else if(146===i)this.V_t(t);else if(151===i)this.ggt(t);else if(i>=152&&i<=159){var a=(15&i)-8;this.A_t(t,a,n)}}}return null},i.tgt=function(t,i){i>=8&&i<=15?t.uD(1):i>=16&&i<=23?t.uD(2):i>=24&&i<=31&&t.uD(3)},i.igt=function(t,i){i>=128&&i<=135?t.uD(4):i>=136&&i<=143&&t.uD(5)},i.agt=function(t){this.pgt[t]&&(this.hgt=this.pgt[t])},i.mgt=function(t){var i;return zt(this,function(n){switch(n.label){case 0:i=0,n.label=1;case 1:return i<8?!(1&~t)&&this.pgt[i]?[4,i]:[3,3]:[3,5];case 2:n.sent(),n.label=3;case 3:t>>=1,n.label=4;case 4:return i++,[3,1];case 5:return[2]}})},i.ugt=function(t,i){for(var n,r=null,e=Lt(this.mgt(t));!(n=e()).done;){var s=n.value,u=this.pgt[s];u.Re()&&(r=u.nvt(i,this.ogt)),u.I_t()}return r},i.cgt=function(t,i){for(var n,r=Lt(this.mgt(t));!(n=r()).done;){var e=n.value,s=this.pgt[e];s.Re()||s.U_t(i),s.Q_t()}},i.dgt=function(t,i){for(var n,r=null,e=Lt(this.mgt(t));!(n=e()).done;){var s=n.value,u=this.pgt[s];u.Re()&&(r=u.nvt(i,this.ogt)),u.we()}return r},i.lgt=function(t,i){for(var n,r=null,e=Lt(this.mgt(t));!(n=e()).done;){var s=n.value,u=this.pgt[s];u.Re()?r=u.nvt(i,this.ogt):u.U_t(i),u.Mh()}return r},i.fgt=function(t,i){for(var n,r=null,e=Lt(this.mgt(t));!(n=e()).done;){var s=n.value,u=this.pgt[s];u.Re()&&(r=u.nvt(i,this.ogt)),this.pgt[s]=void 0}return r},i.hr=function(t){var i=this.fgt(255,t);return this.jy(),i},i.jy=function(){this.hgt=void 0,this.pgt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},i.vgt=function(t){t.uD(1);var i=t.J_t().XE;if(this.hgt){var n=(128&i)>0,r=(64&i)>0;this.hgt.z_t(n),this.hgt.q_t(r)}},i._gt=function(t){var i=t.J_t().XE,n=t.J_t().XE;if(t.uD(1),this.hgt){var r=3&i,e=(12&i)>>2,s=(48&i)>>4,u=3&n,o=(12&n)>>2,h=(48&n)>>4,a=this.wgt(s,e,r),c=this.wgt(h,o,u);this.hgt.W_t(a),this.hgt.H_t(c)}},i.V_t=function(t){var i=t.J_t().XE,n=t.J_t().XE;if(this.hgt){var r=15&i,e=63&n;this.hgt.V_t(r,e)}},i.ggt=function(t){t.uD(1),t.uD(1);var i=t.J_t().XE;if(t.uD(1),this.hgt){var n=3&i;this.hgt.X_t(n)}},i.A_t=function(t,i,n){var r=void 0!==this.pgt[i];if(!r){var e=new hF(i);e.U_t(n),this.pgt[i]=e}var s=t.J_t().XE,u=t.J_t().XE,o=t.J_t().XE,h=t.J_t().XE,a=t.J_t().XE,c=t.J_t().XE,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,w=1+(15&h),g=(240&h)>>4,_=1+(63&a);r&&0===(7&c)||this.pgt[i].G_t(),this.pgt[i].A_t(f,v,l,g,d,w,_),this.hgt=this.pgt[i]},i.wgt=function(t,i,n){var r={0:0,1:0,2:1,3:1};return mF[r[t]<<2|r[i]<<1|r[n]]},t}(),vF=8,dF=12,lF=13,wF=14,gF=16,_F={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},mF=["black","blue","green","cyan","red","magenta","yellow","white"];U(),Et();var yF=function(){function t(){this.Sgt=void 0,this.Agt=void 0,this.bgt=void 0,this.Sgt=[],this.Agt=null,this.bgt=0}var i=t.prototype;return i.ygt=function(t){if(t.Km===AL.cft){var i=63&t.XE;return this.bgt=2*i-1,void(this.Agt=[])}if(this.Agt&&(this.bgt>0&&(this.Agt.push(t),this.bgt--),0===this.bgt)){var n=new pF(this.Agt);this.Sgt.push(n),this.Agt=null,this.bgt=0}},i.Tgt=function(){return this.Sgt},i.kgt=function(){this.Sgt=[]},i.jy=function(){this.Sgt=[],this.Agt=[],this.bgt=0},t}(),pF=function(){function t(t){this.xgt=void 0,this.Pgt=void 0,this.xgt=0,this.Pgt=t}var i=t.prototype;return i.Egt=function(){return this.xgt<this.Pgt.length},i.Igt=function(){return this.xgt},i.J_t=function(){if(!this.Egt())throw new ld(vd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Pgt[this.xgt++]},i.uD=function(t){if(this.xgt+t>this.Pgt.length)throw new ld(vd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.xgt+=t},t}(),kF=function(){function t(){this.Rgt=void 0,this.Dgt=void 0,this.Ngt=void 0,this.Cgt=void 0,this.Ogt=void 0,this.Mgt=void 0,this.Lgt=void 0,this.Bgt=void 0,this.Vgt=!1,this.Rgt=[],this.Dgt=[],this.Ngt=new yF,this.Cgt=0,this.Ogt=$u({CC1:new rF(0,0),CC2:new rF(0,1),CC3:new rF(1,0),CC4:new rF(1,1)}),this.Mgt=0,this.Lgt=0,this.Bgt=Zu(),this.hr()}var i=t.prototype;return i.jy=function(){this.Cgt=0,this.Rgt=[],this.Dgt=[],this.Ngt.jy(),this.hr(),this.Bgt.forEach(function(t){t.jy()})},i.hr=function(){this.Mgt=0,this.Lgt=0,this.Ogt.forEach(function(t){t.hr()})},i.Fgt=function(t,i){if(t.fft){var n=t._ft,r=t.gft,e=t.Km;e===AL.oft||e===AL.aft?this.Rgt.push({Qvt:i,Km:e,u_t:n,jvt:r,Ugt:this.Rgt.length}):this.Vgt&&(this.Dgt.push({Qvt:i,Km:e,XE:n,Ugt:this.Dgt.length}),this.Dgt.push({Qvt:i,Km:AL.uft,XE:r,Ugt:this.Dgt.length}))}},i.dj=function(){var t=[];this.Rgt.sort(function(t,i){return t.Qvt-i.Qvt||t.Ugt-i.Ugt}),this.Dgt.sort(function(t,i){return t.Qvt-i.Qvt||t.Ugt-i.Ugt});for(var i,n=Lt(this.Rgt);!(i=n()).done;){var r=i.value,e=this.Hgt(r);e&&t.push(e)}for(var s,u=Lt(this.Dgt);!(s=u()).done;){var o=s.value;this.Ngt.ygt(o)}for(var h,a=Lt(this.Ngt.Tgt());!(h=a()).done;){var c,f=h.value,v=this.Wgt(f);(c=t).push.apply(c,[].concat(v))}return this.Ngt.kgt(),this.Rgt=[],this.Dgt=[],t},i.Hgt=function(t){var i=t.Km;if(rF.g_t(t.u_t)){var n=t.u_t>>3&1;0===i?this.Mgt=n:this.Lgt=n}var r="CC"+(i<<1|(i?this.Lgt:this.Mgt)+1),e=this.Ogt.get(r);return 255===t.u_t&&255===t.jvt||!t.u_t&&!t.jvt||!this.qgt(t.u_t)||!this.qgt(t.jvt)?(++this.Cgt>=45&&this.hr(),null):(this.Cgt=0,t.u_t&=127,t.jvt&=127,t.u_t||t.jvt?rF.g_t(t.u_t)?e.a_t(t):e.h_t(t.Qvt,t.u_t,t.jvt):null)},i.Wgt=function(t){var i=[];try{for(;t.Egt();){var n=t.J_t().XE,r=(224&n)>>5,e=31&n;if(7===r&&0!==e)r=63&t.J_t().XE;if(0!==r){if(!this.Bgt.has(r)){var s=new fF(r);this.Bgt.set(r,s)}for(var u=this.Bgt.get(r),o=t.Igt();t.Igt()-o<e;){var h=u.Y_t(t);h&&i.push(h)}}}}catch(t){if(!V(t,ld)||t.code!==vd.SUBTITLE_PARSE_ERROR)throw t}return i},i.qgt=function(t){for(var i=0;t;)i^=1&t,t>>=1;return 1===i},t}();U(),Et(),Pt();var bF=function(t){function i(i,n){var r;return(r=t.call(this,"zgt")||this).uvt=void 0,r.PO=void 0,r.uvt=i,r.PO=n,r}return Ct(i,t),i}(rh),AF=m_.hU(.1),TF=function(t){function i(){var i;return(i=t.call(this)||this).Xgt=void 0,i.Xgt=new kF,i}Ct(i,t);var n=i.prototype;return n.Ggt=function(t,i){this.Xgt.Fgt(t,i)},n.dj=function(){for(var t,i=Lt(this.Xgt.dj());!(t=i()).done;){var n=t.value;this.So(new bF(n.uvt,n.PO))}},n.hr=function(){this.Xgt.jy()},n.kn=function(){this.Vo(),this.Xgt.jy()},i}(th),SF=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Ygt=[],i}Ct(i,t);var n=i.prototype;return n.jgt=function(t,i,n,r){var e=this.Qgt(t,r);this.Kgt(e,i,n),this.dj()},n.Qgt=function(t,i){var n,r=t.slice().sort(Hx),e=this.Ygt;if(0===e.length)return r;if(0===r.length)return e;var s=e[0].Ait,u=e[e.length-1].Ait,o=r[0].Ait,h=e[0].qot===r[0].qot;if(u.gF(o).fF().lF(m_.hU(2.5*i))&&h)n=e.concat(r).sort(Hx);else if(o.aF(s)){for(var a=0;a<e.length&&e[a].Ait.lF(o);)a++;for(var c=!1,f=!1,v=a,d=0;v<e.length&&d<r.length;v++,d++)EF(e[v],r[d])?c=!0:f=!0;var l=c&&!f,w=c&&f;!c&&f?n=e.concat(r).sort(Hx):l?n=e.slice(0,a).concat(r):(n=r,w&&this.hr())}else n=r,this.hr();return n},n.Kgt=function(t,i,n){for(var r=0;r<t.length;r++){var e=t[r],s=e.Ait.rF();if(!n&&i-s<AF.rF())return void(this.Ygt=t.slice(r));this.Ggt(e,s)}this.Ygt=[]},i}(TF);function EF(t,i){return t.Ait.QO(i.Ait)&&t.Km===i.Km&&t._ft===i._ft&&t.gft===i.gft}var IF=function(t){function i(i){var n;return(n=t.call(this,i)||this).opt=void 0,n.spt=void 0,n.rpt=NaN,n.hpt=NaN,n.Zgt=void 0,n.dpt=function(t){for(var i,r=n.$gt({Sit:t.uvt,Tit:""}),e=t.PO,s=Lt(r.L.NI);!(i=s()).done;){var u=i.value;e.CO<u.CO&&e.RO>u.CO?e.RO=u.CO:e.CO>u.CO&&u.RO>e.CO?u.RO=e.CO:e.CO===u.CO&&(e.RO=u.RO)}n.lpt(r,e)},n.Zgt=Zu(),n.opt=new SF,n.opt.wn("zgt",n.dpt),n}Ct(i,t);var n=i.prototype;return n.Jgt=function(t){return this.Zgt.get(t)},n.$gt=function(t){var i=this.Zgt.get(t.Sit);return i||(i=this.tpt(t),this.Zgt.set(t.Sit,i)),i},n.tpt=function(t){var i=[Jw.zI],n=function(t){if(t!==PL)for(var i,n=t.toLowerCase(),r=Lt(DL);!(i=r()).done;){var e=i.value;if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.Tit),r=n?n.l:"";t.ipt&&(r="easy "+r,i.push(Jw.QI));var e=t.Th||r||"CC"+t.Sit,s=this.ept(e,t.Tit,i);return this.tt(s),s},n.ght=function(t){var i=km.PD(_a(t));this.spt=function(t){for(var i,n=Lt(t.Z);!(i=n()).done;){var r=i.value,e=OL(r),s=r.$D.cN.fN._N.pN,u=Fn(s,function(t){return t.Km===hm.tR});if(!u){var o=s.filter(function(t){return t.Km===hm.DR}),h=Fn(o,function(t){var i;return(null==(i=t.dB)?void 0:i.Km)===hm.tR});h&&(u=h.dB)}if(u){var a=SC(_a(u.ZN.lk),new Ta),c=u.tB;return Yu({},e,{sN:r.yD.sN,ZN:Aa(u.ZN.lk),Ti:u.Ti,Mi:u.Mi,MB:c&&c.MB,BB:c&&c.BB,a2:a.U0,npt:a.V0,u2:a.H0,q0:a.q0[0],z0:a.z0[0]})}}}(Fn(i,ML))},n.elt=function(t,i,n,r,e,s){var u;if(this.spt&&(S(this.rpt)||!Sn(this.rpt,i,1e-5))){S(this.hpt)||Sn(this.hpt,i,.1)||this.opt.hr();for(var o,h,a=function(t,i,n,r,e){for(var s,u=[],o=i.filter(xL),h=r(n),a=Lt(o);!(s=a()).done;){var c=s.value,f=Fn(c.Z,function(t){return t.yD.sN===n.sN});if(f)for(var v,d,l=f.yD.FB||0,w=f.yD.UB||0,g=f.KB?f.KB.KB:ue.ZERO,_=c.qB+(null!=(v=f.yD.YB)?v:ue.ZERO).toNumber(),m=Lt(f.QB);!(d=m()).done;)for(var y,p=d.value,k=_+(p.qB||0),b=Lt(p.iM);!(y=b()).done;){var A=y.value,T=A.Wy||w,S=new RC;S.Q0(t,k,k+T);var E=m_.yF(g,n.mft);S.LU=e(A,c,n,E,ka(t,k,k+T)),u.push(S),k+=T,g=g.add(A.ct||l||h)}}return u}(t,km.PD(_a(t)),this.spt,NL,BL),c=null!=(o=null==(u=ir(a,function(t){return t.LU.ct}))?void 0:u.LU.ct)?o:0,f=function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e,s=i.value;s.LU.xft&&(e=n).push.apply(e,[].concat(s.LU.xft)),delete s.LU.xft}for(var u=0;u<n.length;u+=1)n[u].zB=u;return n}(a),v=m_.hU(r),d=[],l=Lt(f);!(h=l()).done;){var w=h.value;d.push(Yu({},w,{qot:e,Ait:w.dft.gO(v)}))}this.opt.jgt(d,n,s,c),this.rpt=i,this.hpt=n}},n.eV=function(t,i,n){var r=this,e=this.upt(t,i,n);return this.Zgt.forEach(function(i,n){i===t&&r.Zgt.set(n,e)}),e},n.hr=function(){var i=this;return this.opt.hr(),this.Zgt.forEach(function(t){t.kn(),i.it(t),i.cpt(t)}),this.Zgt.clear(),this.spt=void 0,this.rpt=NaN,this.hpt=NaN,t.prototype.hr.call(this)},n.kn=function(){return this.opt.mn("zgt",this.dpt),this.opt.kn(),t.prototype.kn.call(this)},i}(dy),RF=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.cpt=function(t){},n.lpt=function(t,i){if(t.Qk!==zm.Nh){var n=i.U.map(function(t){return t.Xit}).join("\n"),r=zn(t.L.NI,-1);r&&r.U===n&&r.CO<=i.CO&&i.CO<=r.RO?r.RO=b.max(r.RO,i.RO):t.q8(i.CO,i.RO,n)}},n.ept=function(t,i,n){return this.iV.Tq({Km:"webvtt",Lt:Jm.WU,Th:t,bs:i})},n.upt=function(t,i,n){return t},i}(IF),CF=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.cpt=function(t){this.iV.rV(t)},n.lpt=function(t,i){t.nV(i)},n.ept=function(t,i,n){return this.iV.sI(Jm.WU,t,t,i,!1,Ng.CEA608,void 0,n)},n.upt=function(t,i,n){return ly(t,i,n)},i}(IF);U(),Et(),Ft(),U(),Et(),Ft();var PF=/(.*)=(.*)/,DF=/(.*):(.*)/;function NF(t){if(!t)return[];for(var i,n=[],r=Lt(t.trim().split(";"));!(i=r()).done;){var e=i.value.match(PF);if(e){for(var s,u=e[1],o="",h=!1,a=Lt(e[2].trim().split(","));!(s=a()).done;){var c=s.value;if(c.match(DF)){var f=c.match(DF),v=f[1],d=f[2];switch(v){case"lang":o=d;break;case"er":h=Boolean(Number(d))}}}n.push({Sit:Number(u),Tit:o,ipt:h})}}return n}var xF={1:1,2:3,3:2,4:4},BF="urn:scte:dash:cc:cea-608:2015",OF="urn:scte:dash:cc:cea-708:2015";U(),Et(),Pt(),Ft(),U(),Et(),Pt();var MF=function(t){function i(i,n,r){var e;return(e=t.call(this,Nw.II)||this).qot=void 0,e.Yut=void 0,e.fpt=void 0,e.qot=i,e.Yut=n,e.fpt=r,e}return Ct(i,t),i.prototype.xa=function(){return new LF(this.qot&&this.qot.Ca)},i}(Aw),LF=function(t){function i(i){var n;return(n=t.call(this,"activequalitychanged")||this).quality=void 0,n.quality=i,n}return Ct(i,t),i}(rh),FF=[eh.uo,Ry.AI,eh.py],UF=function(t){function i(i,n){var r;return(r=t.call(this)||this).PL=void 0,r.Nlt=void 0,r.gpt=void 0,r._pt=function(t){var i=r.gpt,n=r.vpt(t.currentTime)||r.Nlt.Got;n&&i!==n&&(r.gpt=n,n.qot&&r.So(new MF(n.qot,null==n?void 0:n.Ca,null==i?void 0:i.Ca)))},r.PL=i,r.PL.wn(FF,r._pt),r.Nlt=n,r}Ct(i,t);var n=i.prototype;return n.vpt=function(t){for(var i,n=this.Nlt.Kot,r=Lt(n.Ht.xat);!(i=r()).done;){var e=i.value;if(n.mct.vct(t,e))return e}},n.kn=function(){this.Vo(),this.PL.mn(FF,this._pt)},i}(th);function VF(t,i,n){var r=new vm(_a(t),new Ta),e=gm.mD(r,hm.HC);if(e){var s=gm.lD(e.lk),u=Fn(s,function(t){return t.Km===hm.qC}),o=Fn(s,function(t){return t.Km===hm.qR});if(u){var h=gm.mD(u.lk,hm.GC);if(h){var a=gm.mD(h.lk,hm.QC);if(a){var c=gm.mD(a.lk,hm.KC);if(c){var f=gm.lD(c.lk),v=Fn(f,function(t){return t.Km===hm.YC});if(v){var d=gm.kD(v.lk,hm.YC,!1),l=new vm(_a(d.lk),new Ta);l.uD(4);for(var w,g=[],_=Lt(gm.lD(l));!(w=_()).done;){var m=w.value;if(m.Km===hm.RR||m.Km===hm.DR)return;m.Km===hm.tR?g.push({ppt:m,mpt:hm.DR}):m.Km===hm.AR&&g.push({ppt:m,mpt:hm.RR})}if(function(t,i){return void 0===t&&void 0!==i&&i.length>0}(o,i)||0!==g.length){var y=ba(t),p=Fn(s,function(t){return t.Km===hm.ZC}),k=p?gm.mD(p.lk,hm.$C):void 0,b=k?function(t){var i=t.lk.Fy();return i.uD(4),i.uD(4),i.eD()}(k):1,A=Fn(f,function(t){return t.Km===hm.JC});A&&function(t,i,n){var r=zF(_a(t),i),e=gm.pD(r,new Ta),s=e.lk;s.uD(4);for(var u=s.eD(),o=0;o<u;o++){s.uD(4),s.uD(4);var h=s.$R.Fy(),a=s.eD();Gh(s.lk,h,a+n)}}(y,A,g.length),k&&function(t,i,n){var r=zF(_a(t),i),e=gm.pD(r,new Ta),s=e.lk;s.uD(4),s.uD(4),Gh(s.lk,s.$R,n)}(y,k,1),y=function(t,i,n,r){if(n||!r)return t;for(var e,s=t,u=Lt(r);!(e=u()).done;){var o=e.value;s=HF(s,i,new E(o))}return s}(y,e,o,i);for(var T=[e,u,h,a,c,v],S=g.length-1;S>=0;S--){var I=g[S];y=WF(y,I.ppt,v,T,I.mpt,n)}return{wpt:y,ypt:{bpt:g.length,OB:b}}}}}}}}}}function HF(t,i,n){var r=Ba(t,n,i.lk.lk.byteOffset+i.lk.lk.byteLength);return XF(zF(_a(r),i),n.byteLength),r}function WF(t,i,n,r,e,s){var u=function(t,i,n){0;var r=t.lk.lk,e=YF(),s=new E(r.byteLength+e.byteLength),u=_a(s);s.set(ma(r),0),XF(u,e.byteLength),ta(u,new Ta(ZF),i),s.set(e,r.byteLength),ta(u,new Ta(r.byteLength+KF),t.Km),n&&Uh(u,new Ta(r.byteLength+JF),n);return s}(i,e,s),o=Ba(t,u,i.lk.lk.byteOffset),h=_a(o);!function(t,i){var n=gm.pD(t,new Ta),r=gm.kD(n.lk,hm.YC,!1),e=_a(r.lk),s=e.getUint32(0);e.setUint32(0,s+i)}(zF(h,n),1);for(var a,c=Lt(r);!(a=c()).done;){XF(zF(h,a.value),u.byteLength)}return o}function zF(t,i){var n=i.lk.lk.byteOffset;return ga(t,n,n+i.lk.lk.byteLength)}function XF(t,i){var n=new Ta,r=qh(t,n);if(0===r);else if(1===r){n.Ly(4);var e=jh(t,n.Fy());Qh(t,n,e.add(i))}else n.Oy(0),Gh(t,n,r+i)}U(),Et(),Pt(),Ft();var qF=function(t){function i(i){var n;return(n=t.call(this)||this).Spt=void 0,n.iZ=void 0,n.Tpt=[],n.Spt=i,n}Ct(i,t);var n=i.prototype;return n.start=function(t){this.iZ=t},n.transform=function(t){this.E$(t),this.Apt()},n.flush=function(){this.P$(),this.Apt()},n.L$=function(t){return t===hm.NR},n.F$=function(t){var i=ba(ma(t.lk.lk)),n=gm.pD(_a(i),new Ta);i=GF(i,n,this.Spt),this.Tpt.push(i)},n.V$=function(t){this.Tpt.push(t)},n.Apt=function(){for(var t,i=Lt(function(t){if(t.length<2)return t;for(var i=[],n=t[0],r=n.buffer,e=n.byteOffset,s=n.byteLength,u=1;u<t.length;u++){var o,h=t[u];r===h.buffer&&e+s===h.byteOffset?s+=h.byteLength:(i.push(new E(r,e,s)),r=(o=h).buffer,e=o.byteOffset,s=o.byteLength)}return i.push(new E(r,e,s)),i}(this.Tpt));!(t=i()).done;){var n=t.value;this.iZ.enqueue(n)}Yn(this.Tpt)},i}(rC);function GF(t,i,n){for(var r=t,e=gm.lD(i.lk),s=e.length-1;s>=0;s--){var u=e[s];u.Km===hm.LR&&(r=jF(r,u,i,n))}return r}function jF(t,i,n,r){var e=zF(_a(t),i),s=gm.pD(e,new Ta),u=gm.lD(s.lk),o=Fn(u,function(t){return t.Km===hm.OR});if(!o)return t;var h=o.lk,a=h.$R.Fy(),c=h.eD(),f=pm(c).flags;h.uD(4),f.Uy(cm.BASE_DATA_OFFSET_PRESENT)&&h.uD(8);var v=h.$R.Fy();if(f.Uy(cm.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=qh(h.lk,v);return Gh(h.lk,h.$R,d+r.bpt),t}Gh(h.lk,a,c|cm.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new E(4);_a(l).setUint32(0,r.OB+r.bpt);for(var w,g=h.lk.byteOffset+v.ac,_=Lt(u.filter(function(t){return t.Km===hm.FR}));!(w=_()).done;){QF(w.value,l.byteLength)}for(var m=0,y=[o,i,n];m<y.length;m++){var p=y[m];XF(zF(_a(t),p),l.byteLength)}return Ba(t,l,g)}function QF(t,i){var n=t.lk,r=pm(n.eD()).flags;if(n.uD(4),r.Uy(fm.DATA_OFFSET_PRESENT)){var e=n.Fy().eD();Gh(n.lk,n.$R,e+i)}}var YF=_n(function(){return new E([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}),KF=16,JF=64,ZF=4,$F=[qm.ma,eh.ey,eh.iy,eh.ly,eh._y,eh.Sw],tU=function(t){function i(i,n,r,e,s,u,o,h,a,c,f,v,d){var l;return(l=t.call(this)||this).aS=void 0,l.H3=void 0,l.Rlt=void 0,l.Nlt=void 0,l.cdt=void 0,l.ndt=void 0,l.$pt=!1,l.uV=new hr,l.Ypt=void 0,l.emt=void 0,l.Ipt=void 0,l.Wrt=void 0,l.ldt=new rL,l.Upt=void 0,l.Rpt=void 0,l.PL=void 0,l.aV=void 0,l.Mz=void 0,l.Opt=void 0,l.Fpt=void 0,l.Ept=new Rb([]),l.iV=void 0,l.Sut=void 0,l.Ndt=void 0,l.Zpt=void 0,l.rlt=void 0,l.pq=void 0,l.Bpt=function(){!l.dat()&&l.hct()&&l.Rpt.Bpt()},l.glt=function(t){l.Rlt.glt(t),l.So(new kL(t.Yut,t.fpt))},l.imt=function(t){l.hmt(t)},l.aS=function(){var t=nU;return nU+=1,t}(),l.H3=i,l.aV=e,l.Mz=s,l.Rpt=n,l.PL=r,l.Sut=u,l.iV=o,l.Opt=h,l.cdt=a,l.ndt=a?AA(i,a):void 0,l.Ndt=c,l.Zpt=f,l.rlt=v,l.pq=d,l}Ct(i,t);var n=i.prototype;return n.Dpt=function(){var t;return null==(t=this.Rlt)?void 0:t.Zut.Oct.An},n.dat=function(){return void 0!==this.Nlt&&this.Nlt.dat},n.hct=function(){if(void 0===this.Ipt)return!1;var t=this.Ppt().MM(),i=t.zM(this.Ipt);return!(i<0)&&t.Tn(i)!==this.Ipt},n.F3=function(){var t=this.Rpt.act,i=this.Ppt().Mn(t);this.Ipt=i.V>0?i.An(i.V-1):0;var n=t.An(0);isFinite(n)&&this.Ipt<n&&this.r$(this.Ipt,n),this.Bpt()},n.elt=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=n.mht.EU,s=this.Mpt(t,i,n,e,r),[4,br([this.Lpt(t,i,n,e,r),s])];case 1:return u=o.sent(),[2,u[0]]}})}).call(this)},n.Mpt=function(t,i,n,r,e){return Vt(function(){var s,u,o,h;return zt(this,function(a){switch(a.label){case 0:return Xv(n.lQ)?t.Km!==zR.MT?[3,2]:[4,t.lk.mut().qT(e)]:[2];case 1:return u=a.sent(),s=new E(u),[3,3];case 2:s=new E(t.lk.jht),a.label=3;case 3:return o=[],void 0!==this.Opt&&(this.Opt.elt(s,i.CO,r),o.push(this.Opt)),void 0!==this.Fpt&&(h=n.Lct(i),this.Fpt.elt(s,i.CO,i.RO,r,n.qot,h),o.push(this.Fpt)),vy(this.Fx,o),[2]}})}).call(this)},n.Lpt=function(t,i,n,r,e){return Vt(function(){var s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:return dr(e),t.Km===zR.MT?(o=t.lk.zT,this.Upt&&(o=function(t,i){return t.pipeThrough(new Qd(new qF(i)))}(o,this.Upt)),u={Km:zR.MT,lk:o}):(h=new E(t.lk.jht),this.Upt&&(h=function(t,i){for(var n=ba(t),r=new vm(_a(n),new Ta),e=gm.lD(r),s=e.length-1;s>=0;s--){var u=e[s];u.Km===hm.NR&&(n=GF(n,u,i))}return n}(h,this.Upt)),u={Km:zR.wZ,lk:h}),a={Get:i.CO,ct:i.ct,EU:r,u2:null==(s=n.qot)?void 0:s.JI},c=this.Wrt.Fx,[4,this.Vpt()];case 1:return d.sent(),[4,this.Wrt.Q2(u,a,e)];case 2:return d.sent(),f=this.Wrt.Fx,v=this.Wrt.W3,[2,iU(c,f,v,i)]}})}).call(this)},n.ght=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:return dr(n),this.Fpt&&this.Fpt.ght(new E(t.jht)),s=new E(t.jht),this.Hpt(i)&&(u=this.Rpt.Wpt,o=[],u&&(o=Jn(u.qpt,function(t){return t.OW}),h=u.zpt.fH?jE(u.zpt.fH):void 0),(a=VF(s,o,h))?(this.Upt=a.ypt,s=a.wpt):this.Upt=void 0),(null==(r=this.Wrt)?void 0:r.Cd)&&this.Wrt.Cd.GT!==i.GT?(c={GT:i.GT},this.Wrt.IZ(c)?[4,this.Wrt.RZ(c)]:[3,2]):[3,2];case 1:v.sent(),dr(n),v.label=2;case 2:return f={Km:zR.wZ,lk:s},[4,this.Vpt()];case 3:return v.sent(),[4,this.Wrt.J2(f,{u2:null==(e=i.qot)?void 0:e.JI},n)];case 4:return v.sent(),[2]}})}).call(this)},n.ilt=function(t,i,n){return this.Wrt.pS(t,i,n)},n.r$=function(t,i){this.Wrt.G3(t,i)},n.h$=function(t,i){this.Wrt.X3(t,i)},n.Ppt=function(){return this.Wrt?this.Wrt.Fx:EA.rL()},n.xpt=function(){return this.Wrt?this.Wrt.W3:EA.rL()},n.Gpt=function(){return this.Wrt?this.Wrt.pS(0,1/0):ut.resolve()},n.Xpt=function(){return this.Wrt&&(this.Wrt.mn(HR.pZ,this.Rs),this.Wrt=void 0),ut.resolve()},n.jpt=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return n=LM.vdt(null!=(i=t.Alt)?i:t.xat,this.ndt),r=n.lQ,this.Wrt||(this.Wrt=this.Rpt.Qpt(r),this.Wrt.wn(HR.pZ,this.Rs),this.ldt=new nL(this.Wrt)),[4,this.Vpt()];case 1:return e.sent(),[2]}})}).call(this)},n.Un=function(t,i){var n=hr.ep([i]);this.uV.Zg(),this.uV=n;var r=this.Kpt(t,this.Ypt,n.Yg);return this.Ypt=r,r},n.Jpt=function(t){if(!jn(this.Zpt,Ng.CEA608)){var i=t.Zut.olt;if(function(t){return t.some(function(t){return t.x8===BF||t.x8===OF})}(i)){this.Fpt=new CF(this.iV);for(var n,r=function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value;if(e.x8===BF)for(var s,u=Lt(Xx(e.XE));!(s=u()).done;){var o=s.value;n.push(o)}else if(e.x8===OF)for(var h,a=Lt(NF(e.XE));!(h=a()).done;){var c=h.value;if(c.Sit<=4){var f=xF[c.Sit];n.push(Yu({},c,{Sit:f}))}}}return n}(i),e=Lt(r);!(n=e()).done;){var s=n.value;this.Fpt.$gt(s)}this.Ept.qW(this.Fpt.Z)}}},n.Kpt=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return dr(n),i?[4,i.catch(dn)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Rlt===t&&this.$pt?[2]:[4,this.tmt()];case 3:return r.sent(),dr(n),[4,this.Gpt()];case 4:return r.sent(),dr(n),t?[4,this.oV(t)]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2]}})}).call(this)},n.tmt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=this.Rlt,this.Rlt=void 0,this.$pt=!1,this.Ipt=void 0,t&&(t.mn(Nw.RI,this.imt),t.Ilt(!1),t.mn(Nw.NO_QUALITY,this.Rs)),this.emt&&(this.emt.kn(),this.emt=void 0),this.Nlt?[4,this.Nlt.kn()]:[3,2];case 1:i.sent(),this.Nlt=void 0,i.label=2;case 2:return this.Fpt?(this.Ept.XW(this.Fpt.Z),[4,this.Fpt.kn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}})}).call(this)},n.oV=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Rlt=t,this.Jpt(t),t.wn(Nw.RI,this.imt),t.wn(Nw.NO_QUALITY,this.Rs),[4,this.jpt(t)];case 1:return i.sent(),this.Nlt=this.smt(t),this.Nlt.wn($F,this.Rs),this.Nlt.wn("zot",this.Bpt),this.Nlt.Jot=t.Alt,this.emt=new UF(this.PL,this.Nlt),this.emt.wn(Nw.II,this.glt),t.Ilt(!0),this.$pt=!0,[2]}})}).call(this)},n.smt=function(t){return new iL(this,this.PL,this.PL,this.aV,this.Mz,this.rlt,this.Sut,this.cdt,this.ndt,this.ldt,this.Ndt,this.pq).jet(t)},n.hr=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.uV.Zg(),this.Ypt?[4,this.Ypt.catch(dn)]:[3,2];case 1:i.sent(),this.Ypt=void 0,i.label=2;case 2:return[4,this.tmt()];case 3:return i.sent(),t?[3,5]:[4,this.Gpt()];case 4:i.sent(),i.label=5;case 5:return[4,this.Xpt()];case 6:return i.sent(),[2]}})}).call(this)},n.nmt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.tmt()];case 1:return t.sent(),[2]}})}).call(this)},n.vlt=function(t){var i;null==(i=this.kpt)||i.vlt(t)},n.dlt=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.wat()];case 1:if(o.sent(),null==(n=this.kpt)||n.dlt(i),!((e=null==(r=this.Nlt)?void 0:r.Kot.mct.dct(t))&&e.V>0))return[3,5];s=0,o.label=2;case 2:return s<e.V?[4,null==(u=this.Wrt)?void 0:u.pS(e.Tn(s),e.An(s))]:[3,5];case 3:o.sent(),o.label=4;case 4:return s++,[3,2];case 5:return[4,this.bat()];case 6:return o.sent(),[2]}})}).call(this)},n.hmt=function(t){var i=this,n=t.Ht.Alt;return void 0===n||n.some(function(t){return i.ldt.IZ(t)})?this.omt(t):void this.So(new rh("amt"))},n.omt=function(t){this.Nlt&&this.Rlt&&this.Rlt===t.Ht&&(this.Nlt.Jot=this.Rlt.Alt)},n.wat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Nlt?[4,this.Nlt.wat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},n.bat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Nlt?[4,this.Nlt.bat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},n.iJ=function(){var t=this.Fx.eL;return this.Mz.iJ(t)},n.Vpt=function(){var t=this.Rpt.act,i=b.max(0,t.Tn(0)-.1),n=t.An(0)+.01;return this.Wrt.f3(i,n)},n.Hpt=function(t){return!!Xv(t.lQ)&&(!!this.Rpt.T8||void 0!==this.Rpt.Wpt)},n.Aat=function(t){if(sg(this.H3)){var i=this.Nlt,n=t.Nlt;void 0!==i&&void 0!==n&&i.Aat(n,this.Tn,this.An)}},n.kn=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:this.Vo(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.hr(t)];case 2:return i.sent(),[4,this.nmt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}})}).call(this)},Nt(i,[{key:"kpt",get:function(){return this.Rlt}},{key:"o",get:function(){return this.aS}},{key:"V3",get:function(){return this.H3}},{key:"nt",get:function(){return this.Ept}},{key:"Olt",get:function(){return function(t){var i=29.97,n=1024,r=44100;return t===eg.Bk?r/n:i}(this.H3)}},{key:"Blt",get:function(){return 1/this.Olt}},{key:"Rt",get:function(){return Boolean(this.Rlt&&this.Rlt.Rt)}},{key:"s$",get:function(){var t=this.Nlt?this.Nlt.Kot.s$.uct:EA.rL();return this.xpt().HM(t)}},{key:"Fx",get:function(){var t=this.Ppt(),i=this.Ipt;return void 0!==i&&t.MM().Cr(i)&&(t=t.HM(EA.sL(i))),t}},{key:"sct",get:function(){return zO(this.Ppt(),this.s$.HM(this.Cpt)).VM(2*this.Blt)}},{key:"Cpt",get:function(){var t=this.Ipt;if(t&&isFinite(t)){var i=this.Rpt.An;if(isFinite(i)&&t<i)return new EA([t,i],[!1,!0])}return EA.rL()}},{key:"kP",get:function(){var t=this.Rlt;if(!t)return EA.sL(0);var i=t.Zut.Ult,n=t.Zut.Vlt;if(void 0===n||void 0===i)return EA.sL(0);var r=n,e=i>=t.Zut.Oct.An?b.max(i,this.An):i;return e=b.max(r,e),EA.nL(r,e).MM()}},{key:"ZW",get:function(){return this.sct.iL(this.zx)}},{key:"act",get:function(){return this.Rpt.act}},{key:"zx",get:function(){return this.PL.zx}},{key:"Tn",get:function(){return this.Rlt?this.Rlt.Zut.Oct.Tn:NaN}},{key:"An",get:function(){var t=this.Dpt(),i=this.Ipt;return void 0===t?NaN:void 0!==i?i:t}},{key:"Mi",get:function(){return this.Rpt.Mi}},{key:"Ti",get:function(){return this.Rpt.Ti}},{key:"Npt",get:function(){return this.Ipt}}]),i}(th);function iU(t,i,n,r){var e,s,u=i.qM(t.MM());return 0===(u=u.qM(n.qM(i))).V?s=e=r.RO:(e=u.Tn(0),s=u.An(0)),{qdt:e,zdt:s}}var nU=0;var rU=function(t){function i(i,n,r,e,s,u,o,h,a,c,f,v,d,l){var w,g,_;return(w=t.call(this)||this).yO=void 0,w.tO=new rg,w.sO=new rg,w.Gl=void 0,w.iV=void 0,w.fmt=void 0,w.aV=void 0,w.Mz=void 0,w.Sut=void 0,w.PL=void 0,w.lmt=void 0,w.Cmt=[],w.Pmt=new hr,w.Tmt=!0,w.Zlt=[],w.ymt=void 0,w.pq=void 0,w.Ypt=void 0,w.Ndt=void 0,w.Zpt=void 0,w.w3=void 0,w.rlt=void 0,w.ju=void 0,w.Opt=void 0,w._mt=void 0,w.mmt=wn(function(){w.So(new YR(w.zx))},350),w.Dmt=function(t){var i=t.zmt.kpt;if(i)for(var n,r=Lt(w.Cmt);!(n=r()).done;){var e,s=n.value;s.kpt&&s.kpt!==i&&s.Km===(null==(e=i.plt)?void 0:e.Km)&&(s.mn("Rmt",w.Dmt),s.kpt.Rt=!1,s.wn("Rmt",w.Dmt))}w.Rs(t)},w.Lmt=function(t){vr(t)||w.So(new yb(wd(t,vd.MEDIA_LOAD_ERROR)))},w.kmt=function(t){var i=t.J6;i&&w.Omt(i).catch(w.Lmt)},w.Gmt=function(t){w.Fmt(t).catch(w.Lmt)},w.xmt=function(t){for(var i,n=Lt(w.Zlt);!(i=n()).done;){var r=function(){var i=s.value,n=i.NW;if(void 0===n||0===n.length)return"continue";var r=t.Py;n.filter(function(t){return t.P8&&Pa(new E(r),new E(t.P8))}).forEach(function(t){i.Xmt(t)})},e=i.value.kpt;if(void 0!==e)for(var s,u=Lt(e.xat);!(s=u()).done;)r()}},w.Emt=function(t){var i=t.J6;if(i)for(var n,r=Lt(w.Mmt);!(n=r()).done;)for(var e,s=n.value,u=Lt(s.Zut.xat);!(e=u()).done;){var o=e.value,h=(o.NW||[]).some(function(t){return t.fH&&Pa(pa(i),jE(t.fH))});o.Plt&&h&&(o.Plt=!1,o.qot&&s.vlt(o.qot))}},w.aV=r,w.Mz=e,w.Sut=s,w.PL=i,w.yO=pg(),w.Cmt=[],w.lmt=o,w.ymt=h,w.pq=l,w.iV=c,w.fmt=new gL(i,r,e,s,c,null==(_=null==u||null==(g=u.dash)?void 0:g.segmentRelativeVttTiming)||_),w.Gl=new Rb([w.fmt.nt]),w.Ndt=v,w.Zpt=d,w.lmt.wn(qO.Vot,w.Rs),w.ju=a,w.w3=n,w.rlt=u.lowLatency,w.Opt=f,w._mt=u.abr,w.PL.wn(eh.yy,w.kmt),w.PL.wn(eh.xw,w.Emt),w.PL.wn(eh.LICENSE_REQUEST_GENERATED,w.xmt),w}Ct(i,t);var n=i.prototype;return n.GY=function(t,i){return this.umt(t,i)},n.umt=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(n=Lt(t);!(r=n()).done;)e=r.value,this.cmt(e);return[4,this.Un(i)];case 1:h.sent(),s=Lt(this.lmt.dmt),h.label=2;case 2:return(u=s()).done?[3,6]:(o=u.value).Km!==eg.LT?[3,5]:o.xat&&0!==o.xat.length?[3,3]:(this.So(new _L("No supported representation found in the AdaptationSet with mimetype : "+o.Km)),[3,5]);case 3:return[4,this.fmt.oV(o)];case 4:h.sent(),h.label=5;case 5:return[3,2];case 6:return[2]}})}).call(this)},n.vmt=function(t){return new tU(t,this,this.PL,this.aV,this.Mz,this.Sut,this.iV,this.Opt,this._mt,this.Ndt,this.Zpt,this.rlt,this.pq)},n.dat=function(){return this.Zlt.some(function(t){return t.dat()})},n.hct=function(){return 0!==this.Zlt.length&&this.Zlt.every(function(t){return t.hct()})},n.Bpt=function(){this.gmt()&&this.So(new pL)},n.Qpt=function(t){if(Wv(t)){if(this.w3.e4)return this.w3.e4}else if(zv(t)&&this.w3.s4)return this.w3.s4;throw new y("Cannot allocate source buffer for mime type "+t)},n.pmt=function(t){t.wn([qm.ma,eh.Yw,eh.ey,eh.iy,eh.ly,eh._y,eh.Sw],this.Rs),t.wn(HR.pZ,this.mmt),t.wn("amt",this.Rs)},n.wmt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,ut.all(this.Zlt.map(function(i){return i.kn(t)}))];case 1:return i.sent(),Yn(this.Zlt),[2]}})}).call(this)},n.gmt=function(){if(this.dat())return!1;if(!this.hct())return!1;var t=this.Fx;if(0===t.V)return!1;var i=this.zx;if(this.bmt)return t.Tn(t.V-1)<=i;var n=t.Mn(this.act);if(0===n.V)return!0;var r=n.Tn(n.V-1),e=n.An(n.V-1)+.1;return r<=i&&i<=e},n.wat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Tmt?[2]:(this.Tmt=!0,[4,ut.all(this.Zlt.map(function(i){return i.wat(t)}))]);case 1:return i.sent(),[2]}})}).call(this)},n.bat=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Tmt?(this.Tmt=!1,[4,ut.all(this.Zlt.map(function(i){return i.bat(t)}))]):[2];case 1:return i.sent(),[2]}})}).call(this)},n.kn=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.PL.mn(eh.yy,this.kmt),this.PL.mn(eh.xw,this.Emt),this.PL.mn(eh.LICENSE_REQUEST_GENERATED,this.xmt),this.Vo(),this.lmt.mn(qO.Vot,this.Rs),this.Pmt.Zg(),this.Ypt?[4,this.Ypt.catch(dn)]:[3,2];case 1:i.sent(),this.Ypt=void 0,i.label=2;case 2:return[4,this.wmt(t)];case 3:return i.sent(),[4,this.fmt.kn()];case 4:return i.sent(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.Imt(),[2]}})}).call(this)},n.cmt=function(t){this.Cmt.push(t),t.wn("Rmt",this.Dmt);for(var i,n=t.Km===eg.Bk?this.tO:this.sO,r=Lt(t.Z);!(i=r()).done;){var e=i.value;n.tt(e)}},n.Nmt=function(t){for(var i,n=t.Km===eg.Bk?this.tO:this.sO,r=Lt(t.Z);!(i=r()).done;){var e=i.value;n.it(e),e.kn()}t.kn(),Xn(this.Cmt,t)},n.Imt=function(){for(var t=this.Cmt.length-1;t>=0;t--)this.Nmt(this.Cmt[t])},n.Un=function(t,i){return this.Pmt.Zg(),this.Pmt=hr.ep([i]),this.Ypt=_r(this.vE(t,this.Ypt,this.Pmt.Yg),this.Pmt).catch(this.Lmt),this.Ypt},n.vE=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:return i?[4,i.catch(dn)]:[3,2];case 1:l.sent(),l.label=2;case 2:dr(n),r=[],e=this.Zlt.slice(),s=t.slice(),Yn(this.Zlt),u=Lt(e),l.label=3;case 3:return(o=u()).done?[3,7]:(h=o.value,(a=h.kpt)&&jn(s,a)?(this.Zlt.push(h),r.push(h.Un(a,n)),Xn(s,a),[3,6]):[3,4]);case 4:return this.Gl.XW(h.nt),[4,h.kn()];case 5:l.sent(),dr(n),l.label=6;case 6:return[3,3];case 7:for(c=Lt(s);!(f=c()).done;)v=f.value,d=this.vmt(v.iat),this.Gl.qW(d.nt),this.Zlt.push(d),this.pmt(d),r.push(d.Un(v,n));return[4,ut.all(r)];case 8:return l.sent(),[2]}})}).call(this)},n.RZ=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return this.w3===n?[3,2]:(this.w3=n,[4,this.wmt(!1)]);case 1:r.sent(),r.label=2;case 2:return[4,this.Un(t)];case 3:return r.sent(),this.ymt=i,[2]}})}).call(this)},n.Omt=function(t){return Vt(function(){var i,n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:i=Lt(this.Zlt),a.label=1;case 1:if((n=i()).done)return[3,6];if(r=n.value,void 0===(e=r.kpt))return[3,5];s=Lt(e.Zut.xat),a.label=2;case 2:return(u=s()).done?[3,5]:(o=u.value,h=o.NW||[],!h.some(function(i){return i.fH&&Pa(pa(t),jE(i.fH))})||o.Plt?[3,4]:(o.Plt=!0,[4,r.dlt(o,o.qot)]));case 3:a.sent(),this.So(new eN(new ug(vd.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),a.label=4;case 4:return[3,2];case 5:return[3,1];case 6:return[2]}})}).call(this)},n.Fmt=function(t){return Vt(function(){var i,n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:i=Lt(this.Zlt),a.label=1;case 1:if((n=i()).done)return[3,6];if(e=function(){var i,n,e,u;return zt(this,function(o){switch(o.label){case 0:return i=h.value,n=i.NW,e=i.qot,void 0===n||0===n.length||void 0===e?[2,"continue"]:n.some(function(t){return jn(i.Umt,t)})?(u=r.Vmt(n,t.xy),e.xst===u?[3,3]:u?(s.vlt(e),[3,3]):[3,1]):[2,"continue"];case 1:return[4,s.dlt(i,e)];case 2:o.sent(),o.label=3;case 3:return[2]}})},s=n.value,void 0===(u=s.kpt))return[3,5];o=Lt(u.xat),a.label=2;case 2:return(h=o()).done?[3,5]:(r=this,[5,Xt(e())]);case 3:a.sent(),a.label=4;case 4:return[3,2];case 5:return[3,1];case 6:return[2]}})}).call(this)},n.Vmt=function(t,i){var n=!1,r=t.reduce(function(t,i){return!i.fH||jn(t,i.fH)?t:[].concat(t,[i.fH])},[]);return 0===r.length||(i.Xy(function(e,s){"usable"===e&&((t.some(function(t){return t.fH&&Pa(pa(s),jE(t.fH))})||Da(s,Fa)&&1===r.length&&1===i.Wy)&&(n=!0))}),n)},n.Aat=function(t){var i=function(){var i=r.value,n=Fn(t.Zlt,function(t){return t.V3===i.V3});void 0!==n&&i.Aat(n)};if(void 0!==t){var n=t.lmt;if(this.lmt.Hmt===n||this.lmt.Wmt===n)for(var r,e=Lt(this.Zlt);!(r=e()).done;)i()}},Nt(i,[{key:"JI",get:function(){return this.yO}},{key:"ct",get:function(){return this.PL.ct}},{key:"Rt",get:function(){return this.Zlt.some(function(t){return t.Rt})}},{key:"ht",get:function(){return this.tO}},{key:"Fx",get:function(){if(0===this.Zlt.length)return EA.rL();for(var t,i=this.Zlt.map(function(t){return t.Fx}),n=EA.nL(0,1/0),r=Lt(i);!(t=r()).done;){var e=t.value;n=n.Mn(e)}if(0===n.V)return n;if(this.hct()){var s=n.Mn(this.act);if(0===s.V)return n;for(var u,o=s.An(s.V-1),h=0,a=Lt(this.Zlt);!(u=a()).done;){var c=u.value;h=b.max(h,c.Npt)}o<=h&&(n=n.HM(new EA([o,h],[!0,!0])))}return n}},{key:"T8",get:function(){return this.PL.T8}},{key:"zx",get:function(){return this.PL.zx}},{key:"Wpt",get:function(){return this.ymt}},{key:"An",get:function(){if(this.bmt){var t=this.ct;if(!S(t)&&t!==bn)return t}if(!this.Zlt.length)return NaN;for(var i,n=0,r=Lt(this.Zlt);!(i=r()).done;){var e=i.value;n=b.max(n,e.An)}return n}},{key:"bmt",get:function(){var t=this.lmt.jdt;if(t.Km===mL.SV)return!1;var i=t.Amt;return 0!==i.length&&this.lmt===i[i.length-1]}},{key:"kP",get:function(){if(!this.Zlt.length)return EA.rL();for(var t,i=EA.hL(),n=Lt(this.Zlt);!(t=n()).done;){var r=t.value;i=i.Mn(r.kP)}if(i.V>0&&this.bmt&&isFinite(this.ct)){var e=this.ct,s=i.An(i.V-1);e>s&&(i=i.HM(EA.nL(s,e).MM()))}return i}},{key:"Mc",get:function(){return this.lmt}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.sO}},{key:"Ti",get:function(){return this.ju.Ti}},{key:"Mi",get:function(){return this.ju.Mi}},{key:"ZW",get:function(){var t=this.zx,i=this.Fx,n=i.zM(t);if(-1!==n)return{Tn:i.Tn(n),An:i.An(n)}}},{key:"act",get:function(){var t=this.lmt.Tn,i=this.bmt?1/0:this.lmt.An;return EA.nL(t,i)}},{key:"Smt",get:function(){return this.Tmt}},{key:"Bmt",get:function(){return this.Cmt.map(function(t){return t.kpt}).filter(Li)}},{key:"Mmt",get:function(){return this.Zlt.map(function(t){return t.kpt}).filter(Li)}},{key:"qmt",get:function(){return this.Cmt}}]),i}(th);U(),Et(),Wt(),xt(),Qt(),U(),Et(),Ft(),U(),Et(),xt();var eU=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,sU=function(){function t(t){this.jmt=void 0,this.jmt=t}var i=t.prototype;return i.Qmt=function(){return this.jmt},i.Kmt=function(){return 1e3*this.jmt},t.PD=function(i){var n=i.match(eU);if(!n)throw new y("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(n[1])||0)+2592e3*(Number(n[2])||0)+86400*(Number(n[3])||0)+3600*(Number(n[4])||0)+60*(Number(n[5])||0)+(Number(n[6])||0))},Nt(t,[{key:"wft",get:function(){return m_.hU(this.jmt,1e3)}}]),t}();U(),Et();var uU=function(t){return t.Ymt="progressive",t.Jmt="interlaced",t.yk="unknown",t}({});U(),Et();var oU=function(){function t(t,i){this.Zmt=void 0,this.$mt=void 0,this.Zmt=t,this.$mt=i}return t.prototype.rF=function(){return this.Zmt/this.$mt},t}();U(),Et();var hU=1886614376;function aU(t){var i=jE(co),n=t.byteLength,r=12+i.length+4+n,e=new E(r),s=_a(e),u=new Ta;return Gh(s,u,r),Gh(s,u,hU),Gh(s,u,0),Uh(s,u,i),Gh(s,u,n),Uh(s,u,new E(t)),e.buffer}var cU=/^(?:true|false)$/i,fU=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function vU(t){if(void 0!==t)return sU.PD(t)}function dU(t){if(void 0!==t){var i=t.match(fU);if(!i)throw new y("The given value could not be parsed as a valid Date");var n=i[1],r=i[2],e=i[3],s=i[4],u=i[5],o=i[6],h=i[7],a=i[8],c=i[9],f=i[10],v=i[11],d=("-"===n?-1:1)*Number(r),l=Number(e)-1,w=Number(s),g=Number(u),_=Number(o),m=Number(h),p=Number("0."+(a||"")),k=b.round(1e3*p);if(c)_-=("-"===c?-1:1)*(60*Number(f)+Number(v));var A=new Date(Date.UTC(d,l,w,g,_,m,k));if(S(A.getTime()))throw new y("The given value could not be parsed as a valid Date");return A}}function lU(t){if(t){var i=/(\d+)-(\d+)/.exec(t);if(i)return[gU(i[1]),gU(i[2])]}}function wU(t){if(void 0!==t){if(!S(Number(t)))try{return ue.fromString(t,!0)}catch(t){}throw new y("The given value could not be parsed as a valid unsigned long")}}function gU(t){if(void 0!==t){var i=Number(t);if(!S(i))return i;throw new y("The given value could not be parsed as a valid Number")}}function _U(t){if(void 0!==t){var i=t.split("/"),n=Number(i[0]),r=Number(i[1]||1);if(!S(n)&&!S(r))return new oU(n,r);throw new y("The given value could not be parsed as a valid frame rate")}}function mU(t){if(void 0!==t){if(cU.test(t))return"true"===t.toLowerCase();if(!S(A(t)))return Boolean(A(t));throw new y("The given value could not be parsed as a valid Boolean.")}}function yU(t){return{Yu:t.hx,twt:mU(t.ox("availabilityTimeComplete")),iwt:gU(t.ox("availabilityTimeOffset"))}}function pU(t){return t.map(yU)}function kU(t){var i,n=DU(t),r=function(t,i,n,r){var e=t.ux(n,i);return void 0===e&&(e=t.ox(r+":"+i)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=Em(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(i=Oa(e.hx)),!i){var s=Em(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==s&&(i=function(t){var i=Oa(t.hx);return aU(i)}(s))}return{fH:r,P8:i,x8:n.x8,XE:n.XE}}function bU(t){return{ewt:t.ox("sourceURL"),Wat:lU(t.ox("range"))}}function AU(t,i){var n=t.ox("d"),r=t.ox("t"),e=gU(t.ox("r"));i.push({ct:n,CO:r,swt:e})}function TU(t){return{Put:t.ox("index"),nwt:lU(t.ox("indexRange")),$D:t.ox("media"),rwt:lU(t.ox("mediaRange"))}}function SU(t){var i=IU(t),n=function(t){var i=t.map(TU);return i.length>0?i:void 0}(t.ZE("SegmentURL"));return Yu({},i,{hwt:n,owt:t.ox("xlink:href"),awt:t.ox("xlink:actuate")})}function EU(t){var i=mU(t.ox("availabilityTimeComplete")),n=gU(t.ox("availabilityTimeOffset")),r=lU(t.ox("indexRange")),e=mU(t.ox("indexRangeExact")),s=t.ZE("Initialization");if(s.length>1)throw new y("The provided MPEG-DASH document's "+t.$E+" element can not have more than one Initialization element.");var u=1===s.length?bU(s[0]):void 0,o=wU(t.ox("presentationTimeOffset")),h=t.ZE("RepresentationIndex");if(h.length>1)throw new y("The provided MPEG-DASH document's "+t.$E+" element can not have more than one RepresentationIndex element.");return{twt:i,iwt:n,nwt:r,uwt:e,cwt:u,dwt:o,lwt:1===h.length?bU(h[0]):void 0,fwt:vU(t.ox("timeShiftBufferDepth")),jD:gU(t.ox("timescale"))}}function IU(t){var i=EU(t),n=t.ZE("BitstreamSwitching"),r=n.length>0?bU(n[0]):void 0,e=gU(t.ox("duration")),s=t.ZE("SegmentTimeline");if(s.length>1)throw new y("The provided MPEG-DASH document's "+t.$E+" element can not have more than one SegmentTimeline element.");var u=1===s.length?function(t){for(var i,n=[],r=Lt(t.ZE("S"));!(i=r()).done;)AU(i.value,n);return n}(s[0]):void 0;return Yu({},i,{vwt:r,ct:e,mht:u,_wt:gU(t.ox("startNumber")),gwt:gU(t.ox("endNumber"))})}function RU(t){return{mwt:function(t){if(t){var i=t.split(/\s/);return i.length>1?(i.length=2,i.map(gU)):1===i.length?i.map(gU)[0]:void 0}}(t.ox("audioSamplingRate")),Rrt:t.ox("codecs"),wwt:mU(t.ox("codingDependency")),NW:function(t){if(0!==t.length)return t.map(kU)}(t.ZE("ContentProtection")),ywt:function(t){return t.map(NU)}(t.ZE("EssentialProperty")),bwt:function(t){return t.map(xU)}(t.ZE("SupplementalProperty")),Olt:_U(t.ox("frameRate")),Mi:gU(t.ox("height")),Awt:gU(t.ox("maxPlayoutRate")),Swt:gU(t.ox("maximumSAPPeriod")),lQ:t.ox("mimeType"),Twt:t.ox("profiles"),kwt:t.ox("sar"),Ewt:function(t){switch(t){case uU.Ymt:case uU.Jmt:case uU.yk:return t;default:return}}(t.ox("scanType")),xwt:t.ox("segmentProfiles"),Pwt:gU(t.ox("startWithSAP")),Ti:gU(t.ox("width"))}}function CU(t){var i=pU(t.ZE("BaseURL")),n=t.ZE("SegmentBase");if(n.length>1)throw new y("The provided MPEG-DASH document's "+t.WE+" element can not have more than one SegmentBase element.");var r=1===n.length?EU(n[0]):void 0,e=function(t){var i=t.map(SU);return i.length>0?i:void 0}(t.ZE("SegmentList")),s=t.ZE("SegmentTemplate");if(s.length>1)throw new y("The provided MPEG-DASH document's "+t.WE+" element can not have more than one SegmentTemplate element.");var u=1===s.length?function(t){return Yu({},IU(t),{Iwt:t.ox("bitstreamSwitching"),Cwt:t.ox("index"),Rwt:t.ox("initialization"),Dwt:t.ox("media")})}(s[0]):void 0;return{Nwt:i,Bwt:r,Mwt:e,Lwt:u}}function PU(t){var i=RU(t),n=CU(t),r=gU(t.ox("bandwidth")),e=t.ox("dependencyId"),s=t.ox("id"),u=t.ox("mediaStreamStructureId"),o=gU(t.ox("qualityRanking"));if(t.ZE("SegmentBase").length>1)throw new y("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return Yu({},i,n,{IW:r,Owt:e,o:s,Fwt:u,Uwt:o})}function DU(t){return{x8:t.ox("schemeIdUri"),XE:t.ox("value")}}function NU(t){return DU(t)}function xU(t){return DU(t)}function BU(t){return DU(t)}function OU(t){return DU(t)}function MU(t){var i,n=RU(t),r=CU(t),e=function(t){return t.map(OU)}(t.ZE("Accessibility")),s=mU(t.ox("bitstreamSwitching")),u=t.ox("contentType"),o=gU(t.ox("group")),h=gU(t.ox("id")),a=(null==(i=t.ZE("Label")[0])?void 0:i.hx)||"",c=t.ox("lang"),f=gU(t.ox("maxBandwidth")),v=_U(t.ox("maxFrameRate")),d=gU(t.ox("maxHeight")),l=gU(t.ox("maxWidth")),w=gU(t.ox("minBandwidth")),g=_U(t.ox("minFrameRate")),_=gU(t.ox("minHeight")),m=gU(t.ox("minWidth")),p=t.ox("par"),k=function(t){return t.map(PU)}(t.ZE("Representation"));if(0===k.length)throw new y("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b,A=function(t){return t.map(BU)}(t.ZE("Role")),T=mU(t.ox("segmentAlignment"))||!1,S=gU(t.ox("selectionPriority")),E=S||1,I=mU(t.ox("subsegmentAlignment"))||!1;try{b=gU(t.ox("subsegmentStartsWithSAP"))}catch(t){}return Yu({},n,r,{olt:e,vwt:s,GT:u,plt:o,o:h,Th:a,bs:c,Vwt:f,Hwt:v,Wwt:d,qwt:l,zwt:w,Gwt:g,Xwt:_,Qwt:m,Kwt:p,xat:k,Glt:A,Ywt:T,tz:E,Jwt:I,Zwt:b,$wt:t.ox("xlink:actuate")||"onRequest",tyt:t.ox("xlink:href")})}function LU(t){var i=wU(t.ox("presentationTime"))||ue.ZERO,n=wU(t.ox("duration")),r=gU(t.ox("id")),e=function(t){for(var i=t.nx,n={},r=0;r<i.length;r++)n[i[r].l]=i[r].XE;return n}(t),s=t.hx;return{nM:i,ct:n,o:r,nx:e,lk:""!==s.trim()?s:t.ox("messageData")||""}}function FU(t){return{tyt:t.ox("xlink:href"),$wt:t.ox("xlink:actuate"),x8:t.ox("schemeIdUri"),XE:t.ox("value"),jD:gU(t.ox("timescale")),dwt:wU(t.ox("presentationTimeOffset")),fQ:t.ZE("Event").map(LU)}}function UU(t){var i=CU(t),n=t.ZE("AssetIdentifier");if(n.length>1)throw new y("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===n.length?function(t){return DU(t)}(n[0]):void 0,e=function(t){return t.map(MU)}(t.ZE("AdaptationSet")),s=mU(t.ox("bitstreamSwitching")),u=vU(t.ox("duration")),o=function(t){return t.map(FU)}(t.ZE("EventStream")),h=t.ox("id"),a=vU(t.ox("start")),c=(t.ZE("Subset"),t.ox("xlink:href"));return Yu({},i,{jlt:e,iyt:r,vwt:s,ct:u,eyt:o,o:h,Tn:a,$wt:t.ox("xlink:actuate"),tyt:c})}function VU(t){var i=t.ox("schemeIdUri");if(i)return{x8:i,XE:t.ox("value")}}function HU(t,i){var n=dU(t.ox("availabilityEndTime")),r=dU(t.ox("availabilityStartTime")),e=pU(t.ZE("BaseURL")),s=t.ox("id"),u=function(t){return t.map(function(t){return""+t.hx})}(t.ZE("Location")),o=vU(t.ox("maxSegmentDuration")),h=vU(t.ox("maxSubsegmentDuration")),a=vU(t.ox("mediaPresentationDuration")),c=(t.ZE("Metrics"),vU(t.ox("minBufferTime")));if(!c)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=vU(t.ox("minimumUpdatePeriod")),v=function(t){return t.map(function(t){return UU(t)})}(t.ZE("Period"));if(!v.length)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.ox("profiles");if(!d)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var l=dU(t.ox("publishTime")),w=vU(t.ox("suggestedPresentationDelay")),g=vU(t.ox("timeShiftBufferDepth")),_=function(t){switch(t){case mL.AV:case mL.SV:return t;default:return}}(t.ox("type")),m=function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=VU(i.value);e&&n.push(e)}return n}(t.ZE("UTCTiming")),p=function(t){if(0===t.length)return;var i=t[0],n=i.ZE("Latency");if(0===n.length)return;var r=function(t){var i=t[0],n=gU(i.ox("target"));if(void 0===n)return;var r=gU(i.ox("min")),e=gU(i.ox("max"));return{syt:n,iU:r,tU:e}}(n);if(void 0===r)return;var e=function(t){if(0===t.length)return;var i=t[0],n=gU(i.ox("max")),r=gU(i.ox("min"));return{iU:r,tU:n}}(i.ZE("PlaybackRate"));return{nyt:r,vP:e}}(t.ZE("ServiceDescription"));return{ryt:n,hyt:r,Nwt:e,o:s,oyt:u,ayt:i,uyt:o,cyt:h,dyt:a,lyt:c,fyt:f,Amt:v,Twt:d,vyt:l,_yt:w,fwt:g,Km:_,gyt:m,pyt:p}}var WU=function(){function t(){}return t.prototype.myt=function(t,i){return function(t,i){if(!t)throw new y("The provided MPEG-DASH document does not contain a valid MPD root element.");return HU(t,i)}(Ui.HE(t).mx,i)},t}();function zU(t){return{get bandwidth(){return t.IW},get codecs(){return t.Rrt},get id(){return t.o},get uid(){return t.JI},get name(){return t.Th},get averageBandwidth(){return t.wyt},get label(){return t.Th},set label(i){t.Th=Gw(i)},get available(){return t.xst},get score(){return t.yyt},addEventListener:function(i,n){t.wn(i,n)},removeEventListener:function(i,n){t.mn(i,n)}}}function XU(t){return Mw(zU(t),{get height(){return t.Mi},get width(){return t.Ti},get frameRate(){return t.Olt},get firstFrame(){return t.byt}})}function qU(t){return Mw(zU(t),{get audioSamplingRate(){return t.mwt}})}U(),Et(),xt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),U(),Et(),Pt();var GU=function(t){function i(i){var n;return(n=t.call(this,"update")||this).quality=void 0,n.quality=i,n}return Ct(i,t),i}(rh),jU=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).o=void 0,u.IW=void 0,u.Rrt=void 0,u.Syt=void 0,u.JI=void 0,u.bO=void 0,u.Ayt=void 0,u.o=i,u.IW=n,u.Rrt=r,u.Syt=s,u.JI=Ag(),u.bO=e||"",u.Ayt=!0,u}Ct(i,t);var n=i.prototype;return n.ZU=function(){this.Ayt=!1,this.So(new GU(this.Ca))},n.JU=function(){this.Ayt=!0,this.So(new GU(this.Ca))},Nt(i,[{key:"Th",get:function(){return this.bO},set:function(t){this.bO!==t&&(this.bO=t,this.So(new GU(this.Ca)))}},{key:"wyt",get:function(){}},{key:"xst",get:function(){return this.Ayt}},{key:"yyt",get:function(){}}]),i}(th),QU=function(t){function i(i,n,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,i,n,r,e,s)||this).Olt=void 0,c.Ti=void 0,c.Mi=void 0,c.byt=void 0,c.hu=void 0,c.Olt=u,c.Ti=o,c.Mi=h,c.byt=a,c.hu=void 0,c}return Ct(i,t),Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=XU(this)),this.hu}}]),i}(jU),YU=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,r,e,s)||this).mwt=void 0,o.hu=void 0,o.mwt=u,o.hu=void 0,o}return Ct(i,t),Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=qU(this)),this.hu}}]),i}(jU);U(),Et(),U(),Et(),xt(),Pt();var KU=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).xyt=function(t){i.So(t)},i}return Ct(i,t),Nt(i,[{key:"Tyt",get:function(){var t=this.kyt();return null==t?void 0:t.Tn}},{key:"Eyt",get:function(){var t=this.kyt();return null==t?void 0:t.An}}]),i}(th),JU=function(t){function i(i,n){var r;if((r=t.call(this)||this).mat=void 0,r.hu=void 0,r.Pyt=void 0,r.Nyt=void 0,r.Ryt=void 0,r.Myt=!1,r.Lyt=!1,r.Cyt=[],r.mat=i,r.Pyt=n,r.Pyt.wn(qO.Fot,r.xyt),r.Km===eg.Mk){var e,s,u=null!=(s=null==(e=r.Olt)?void 0:e.rF())?s:NaN;r.Nyt=new QU(r.o,r.IW,r.Bp,"","",u,r.Ti,r.Mi)}else r.Km===eg.Bk?r.Nyt=new YU(r.o,r.IW,r.Bp,"","",r.mwt):r.Nyt=void 0;return r}Ct(i,t);var n=i.prototype;return n.Zct=function(t){var i=hM(t)?this.Pyt.Oyt(t):this.Pyt.Zct(t);return{Yu:i.Yu,Wat:i.Wat,Xk:this.jdt.Xk}},n.Fyt=function(){return this.Pyt.Fyt()},n.kyt=function(){return this.Pyt.kyt()},n.Uyt=function(){return this.Pyt.Uyt()},n.qct=function(t){return this.Pyt.qct(t)},n.Gct=function(t,i,n){return this.Pyt.Gct(t,this.jdt.Xk,i,n)},n.Mdt=function(t){return hM(t)?this.mht.Vyt(t,this.Pyt):this.mht.Mdt(t)},n.Lct=function(t){return hM(t)?this.mht.Hyt(t,this.Pyt):this.mht.Lct(t)},n.Xmt=function(t){jn(this.Cyt,t)||this.Cyt.push(t)},n.kn=function(){this.Pyt.mn(qO.Fot,this.xyt),this.Cyt=[]},Nt(i,[{key:"Zut",get:function(){return this.mat}},{key:"mwt",get:function(){var t;return null!=(t=this.Pyt.lk.mwt)?t:this.Zut.mwt}},{key:"IW",get:function(){return this.Pyt.lk.IW||0}},{key:"Rrt",get:function(){var t=this.Pyt.lk;return t.Rrt?[t.Rrt]:this.Zut.Rrt}},{key:"Iyt",get:function(){var t=this.Pyt.lk;return t.Rrt?[t.Rrt]:[]}},{key:"Bp",get:function(){return this.Pyt.lk.Rrt||this.Zut.Bp}},{key:"wwt",get:function(){return this.Pyt.lk.wwt||this.Zut.wwt}},{key:"NW",get:function(){return this.Pyt.lk.NW||this.Zut.NW}},{key:"Umt",get:function(){return this.Cyt}},{key:"GT",get:function(){return this.lQ+'; codecs="'+this.Bp+'"'}},{key:"ywt",get:function(){var t=this.Pyt.lk;return t.ywt.length?t.ywt:this.Zut.ywt}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get id(){return t.o},get type(){return t.Km},get bandwidth(){return t.IW},get width(){return t.Ti},get height(){return t.Mi},get frameRate(){var i,n;return null!=(n=null==(i=t.Olt)?void 0:i.rF())?n:NaN},get audioSamplingRate(){return t.mwt}}}(this))}},{key:"Olt",get:function(){var t;return null!=(t=this.Pyt.lk.Olt)?t:this.Zut.Olt}},{key:"Mi",get:function(){return this.Pyt.lk.Mi||this.Zut.Mi}},{key:"o",get:function(){return this.Pyt.lk.o||""}},{key:"Jdt",get:function(){return this.Ryt},set:function(t){this.Ryt=t}},{key:"Ydt",get:function(){var t=this.Pyt.Dyt();if(t)return{Yu:t.Yu,Wat:t.Wat,Xk:this.jdt.Xk}}},{key:"Awt",get:function(){return this.Pyt.lk.Awt||this.Zut.Awt||1}},{key:"Swt",get:function(){return this.Pyt.lk.Swt||this.Zut.Swt}},{key:"jdt",get:function(){return this.Oct.jdt}},{key:"lQ",get:function(){return this.Pyt.lk.lQ||this.Zut.lQ}},{key:"Oct",get:function(){return this.Zut.Oct}},{key:"Twt",get:function(){return this.Pyt.lk.Twt||this.Zut.Twt}},{key:"qot",get:function(){return this.Nyt}},{key:"kwt",get:function(){return this.Pyt.lk.kwt||this.Zut.kwt}},{key:"Ewt",get:function(){return this.Pyt.lk.Ewt||this.Zut.Ewt}},{key:"Byt",get:function(){return this.Pyt.Byt}},{key:"xwt",get:function(){return this.Pyt.lk.xwt||this.Zut.xwt}},{key:"mht",get:function(){return this.Pyt.mht}},{key:"Pwt",get:function(){return this.Pyt.lk.Pwt||this.Zut.Pwt}},{key:"Km",get:function(){var t=this.lQ.split("/")[0];return"application"===t||"text"===t||uy(this.lQ,this.Rrt)?eg.LT:"video"===t?eg.Mk:"audio"===t?eg.Bk:"image"===t?eg.Lk:eg.yk}},{key:"Ti",get:function(){return this.Pyt.lk.Ti||this.Zut.Ti}},{key:"Hct",get:function(){return this.Myt},set:function(t){this.Myt=t}},{key:"Plt",get:function(){return this.Lyt},set:function(t){this.Lyt=t}}]),i}(KU),ZU=function(t){function i(i,n){var r;return(r=t.call(this)||this).Pyt=void 0,r.lmt=void 0,r.Slt=[],r.lmt=i,r.Pyt=n,r.Pyt.wn(qO.Fot,r.xyt),r}Ct(i,t);var n=i.prototype;return n.er=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return n=this,0!==this.Slt.length?[3,2]:(r=this.Pyt.xat.map(function(r){return n.qyt(r,t,i)}),e=this,[4,ut.all(r)]);case 1:e.Slt=s.sent().filter(Li),s.label=2;case 2:return this.zyt(),[2]}})}).call(this)},n.qyt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return r=new JU(this,t),[4,i(r)];case 1:return e=s.sent(),dr(n),e?[2,r]:[2,void 0]}})}).call(this)},n.zyt=function(){if(!this.Slt.length)throw new y("Detected an AdaptationSet without any supported Representations.")},n.kyt=function(){return this.Pyt.kyt()},n.Uyt=function(){return this.Pyt.Uyt()},n.kn=function(){this.Pyt.mn(qO.Fot,this.xyt);for(var t,i=Lt(this.Slt);!(t=i()).done;){t.value.kn()}Yn(this.Slt)},Nt(i,[{key:"olt",get:function(){return this.Pyt.lk.olt}},{key:"mwt",get:function(){var t;return null!=(t=this.Pyt.lk.mwt)?t:-1}},{key:"Rrt",get:function(){if(this.Pyt.lk.Rrt)return[this.Pyt.lk.Rrt];for(var t,i=[],n=Lt(this.xat);!(t=n()).done;){var r=t.value;r.Iyt.length&&-1===i.indexOf(r.Bp)&&i.push(r.Bp)}return i}},{key:"Bp",get:function(){return this.Rrt.join()}},{key:"wwt",get:function(){return this.Pyt.lk.wwt}},{key:"NW",get:function(){return this.Pyt.lk.NW}},{key:"GT",get:function(){return this.lQ+'; codecs="'+this.Bp+'"'}},{key:"ywt",get:function(){return this.Pyt.ywt}},{key:"bwt",get:function(){return this.Pyt.bwt}},{key:"Olt",get:function(){return this.Pyt.lk.Olt}},{key:"plt",get:function(){return this.Pyt.lk.plt}},{key:"Mi",get:function(){return this.Pyt.lk.Mi||0}},{key:"o",get:function(){return this.Pyt.lk.o}},{key:"Th",get:function(){return this.Pyt.lk.Th||""}},{key:"Awt",get:function(){return this.Pyt.lk.Awt}},{key:"Swt",get:function(){return this.Pyt.lk.Swt}},{key:"jdt",get:function(){return this.Oct.jdt}},{key:"lQ",get:function(){return this.Pyt.lk.lQ||this.Slt[0].lQ}},{key:"Oct",get:function(){return this.lmt}},{key:"Twt",get:function(){return this.Pyt.lk.Twt}},{key:"xat",get:function(){return this.Slt}},{key:"Glt",get:function(){return this.Pyt.lk.Glt||[]}},{key:"kwt",get:function(){return this.Pyt.lk.kwt}},{key:"Ewt",get:function(){return this.Pyt.lk.Ewt}},{key:"xwt",get:function(){return this.Pyt.lk.xwt}},{key:"tz",get:function(){return this.Pyt.lk.tz}},{key:"Pwt",get:function(){return this.Pyt.lk.Pwt}},{key:"Km",get:function(){var t=(this.Pyt.lk.GT||this.lQ).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||uy(this.lQ,this.Rrt)?eg.LT:"video"===t?eg.Mk:"audio"===t?eg.Bk:"image"===t?eg.Lk:eg.yk}},{key:"Ti",get:function(){return this.Pyt.lk.Ti||0}},{key:"Tit",get:function(){return this.Pyt.lk.bs||""}},{key:"Vlt",get:function(){return this.Tyt}},{key:"Ult",get:function(){var t=this.Vlt,i=this.Eyt;if(void 0!==t&&void 0!==i){var n=b.min(i,this.jdt.Wyt);return b.max(t,n)}}}]),i}(KU);function $U(t,i){for(var n,r=[],e=Lt(i);!(n=e()).done;)for(var s,u=n.value,o=Lt(t);!(s=o()).done;){var h=s.value;r.push(Ui.Dh(h,u))}return r}U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),Ft(),U(),Et(),Ft(),U(),Et(),xt(),Pt(),H(),U(),Et(),xt(),Pt(),H(),U(),Et(),Pt(),U(),Et(),xt();var tV=function(){function t(t,i){this.lmt=void 0,this.ubt=void 0,this.Jb=void 0,this.obt=void 0,this._bt=void 0,this.lmt=t,this.ubt=i,this.Jb=i.jD,this.obt=i.iwt,this._bt=i.dwt}var i=t.prototype;return i.Gyt=function(t){var i=t-this.lmt.Tn;if(!(i<0||i>=this.lmt.ct)){var n=this.Xyt();return void 0!==n&&Sn(n,i,1e-5)?this.jyt():this.Qyt(i)}},i.Wct=function(t){var i=t-this.lmt.Tn;if(!(i<0))return this.Kyt(b.min(i,this.lmt.ct))},i.jyt=function(){return this.Yyt(0)},i.Jyt=function(){var t=this.lmt.ct;if(isFinite(t))return this.Kyt(t)},i.Fyt=function(t){if(this.lmt.tbt.Km===mL.SV){if(this.Zyt){var i=this.jyt(),n=this.ibt();if(void 0===i||void 0===n)return;return{ebt:t,sbt:i,nbt:n}}var r=this.rbt(t);if(!r)return;return{ebt:t,sbt:this.hbt(t),nbt:r}}var e=this.jyt();if(e)return{ebt:t,sbt:e,nbt:this.Jyt()}},i.Uyt=function(t,i){if(i){var n=this.Qdt(i.sbt),r=this.Kct(i.nbt);if(r){var e=this.Kdt(r);(!n||e.getTime()<n.getTime())&&(n=e)}return n}var s=this.jyt();if(s){var u=this.Kdt(s);if(t.getTime()<u.getTime())return u}var o=this.lmt.tbt.hyt;return t.getTime()<o.getTime()?o:void 0},i.rbt=function(t){var i=(t.getTime()-this.lmt.tbt.hyt.getTime())/1e3-this.lmt.Tn+this.obt,n=this.Kyt(Tn(i,0,this.lmt.ct));if(n&&(n=this.abt(n,t))){for(var r=this.Kct(n);r&&this.nlt(r,t);)n=r,r=this.Kct(n);return n}},i.hbt=function(t){var i,n=this.ubt.fwt;if(n){var r=(t.getTime()-this.lmt.tbt.hyt.getTime())/1e3-this.lmt.Tn-n.Qmt();(i=this.Kyt(Tn(r,0,this.lmt.ct)))||(i=this.jyt())}else i=this.jyt();if(i&&(i=this.abt(i,t))){for(var e=this.Qct(i);e&&this.nlt(e,t);)i=e,e=this.Qct(i);return i}},i.abt=function(t,i){for(var n=t;n&&this.Kdt(n).getTime()>i.getTime();)n=this.Qct(n);if(n){var r=this.Qdt(n);if(r&&r.getTime()<=i.getTime()){var e=this.Qct(n);for(e&&this.nlt(e,i)&&(n=e);n;){if(this.Kdt(n).getTime()>i.getTime())return;if(this.nlt(n,i))break;n=this.Kct(n)}if(!n)return}return n}},i.nlt=function(t,i){if(this.Zyt)return!0;if(this.Kdt(t).getTime()>i.getTime())return!1;var n=this.Qdt(t);return!(n&&i.getTime()>=n.getTime())},i.cbt=function(t,i){if(this.Zyt)return!0;if(this.dbt(t).getTime()>i.getTime())return!1;var n=this.Qdt(t);return!(n&&i.getTime()>=n.getTime())},i.lbt=function(t,i,n){var r=le(i,this.Jb)+this.lmt.Tn;return{Put:t,fbt:i,CO:r,ct:n,RO:r+n}},i.dbt=function(t){return this.lmt.tbt.Km===mL.SV?new Date(this.lmt.tbt.hyt.getTime()+1e3*(t.CO+t.ct)):this.lmt.tbt.hyt},i.Kdt=function(t){var i=this.dbt(t);return this.lmt.tbt.Km===mL.SV?new Date(i.getTime()-1e3*this.obt):i},i.Qdt=function(t){var i=1/0;if(this.lmt.tbt.Km===mL.SV){var n=this.ubt.fwt;n&&(i=this.dbt(t).getTime()+1e3*t.ct+n.Kmt())}var r=this.lmt.tbt.ryt;return r&&(i=b.min(i,r.getTime())),i===1/0?void 0:new Date(i)},i.vbt=function(t,i){return t.Put+i},i.qct=function(t){return!1},i.Gct=function(t,i,n,r,e){var s=this.gbt(t);if(!s)return ut.reject(new y("Invalid segment"));var u=this.pbt(s.Put,i);return u?ut.resolve(u):gr(this.mbt(s.Put,i,n,r),e)},i.pbt=function(t,i){},i.mbt=function(t,i,n,r){return ut.reject(new y("Not supported"))},i.Qct=function(t){var i=this.gbt(t);if(i)return this.Yyt(i.Put-1)},i.Kct=function(t){var i=this.gbt(t);if(i)return this.Yyt(i.Put+1)},i.gbt=function(t){var i=this.Yyt(t.Put);if(i&&i.CO===t.CO)return i;var n=this.Gyt(t.CO);return n&&n.CO===t.CO?n:void 0},i.wbt=function(t,i){var n=this.Xct(t);if(n&&this.qct(n.Put)){var r=this.pbt(n.Put,i);if(r)return r.wbt(t)}},i.Xct=function(t){return this.Yyt(t.ybt)},i.Mdt=function(t){var i=this.gbt(t);return!!i&&0===i.Put},i.Vyt=function(t,i){var n=this.wbt(t,i);return!!n&&0===n.xut},i.Lct=function(t){var i=this.gbt(t);if(!i)return!1;var n=this.Jyt();return!!n&&i.Put===n.Put},i.Hyt=function(t,i){var n=this.wbt(t,i);if(!n)return!1;var r=this.Jyt();if(!r||n.ybt!==r.Put)return!1;var e=this.pbt(n.ybt,i);return n.xut+1===e.V},i.zg=function(){},Nt(t,[{key:"Zyt",get:function(){return this.lmt.tbt.$yt&&void 0!==this.ibt()}},{key:"EU",get:function(){return this.lmt.Tn-le(this._bt,this.Jb)}},{key:"dwt",get:function(){return le(this._bt,this.Jb)}}]),t}(),iV=function(t){function i(i,n){var r;(r=t.call(this,n,i)||this).Sbt=void 0,r.bbt=void 0;var e=i.Ebt,s=i.ct;if(void 0===e||void 0===s)throw new y("MultipleSegmentBase does not have a segment duration specified.");return r.bbt=e,r.Sbt=s,r}Ct(i,t);var n=i.prototype;return n.Yyt=function(t){if(!(t<0)){var i=this.bbt.multiply(t),n=le(i,this.Jb),r=this.lmt.ct;if(!(n>=r)){var e=this.Abt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.lbt(t,i,r-n)}return isFinite(r)&&n+this.Sbt>r?this.lbt(t,i,r-n):this.lbt(t,i,this.Sbt)}}},n.Xyt=function(){return 0},n.Qyt=function(t){var i=b.floor(t/this.Sbt),n=this.Abt();return void 0!==n&&i>=n?this.Yyt(n):this.Yyt(i)},n.Kyt=function(t){if(t>=this.lmt.ct){var i=b.ceil(this.lmt.ct/this.Sbt)-1,n=this.Abt();return void 0!==n&&i>=n?this.Yyt(n):this.Yyt(i)}return this.Qyt(t)},n.Abt=function(){var t,i=this.ubt.gwt;if(void 0!==i)return i-(null!=(t=this.ubt._wt)?t:1);var n=this.ubt.Tbt;return void 0!==n&&n>0?n-1:void 0},n.ibt=function(){if(isFinite(this.lmt.ct))return this.Jyt()},n.kbt=function(t,i){return this.bbt.multiply(t.Put+(i-1))},n.er=function(){},i}(tV);function nV(t,i,n){var r=i.length;if(0===r)return-1;for(var e=0,s=r-1,u=t.xbt(i[e]),o=t.Pbt(i[s]);e<=s&&t.Ibt(u,n)<=0&&t.Ibt(n,o)<0;){var h=e+b.floor(t.Cbt(n,u,o)*(s-e)),a=i[h],c=t.xbt(a),f=h+1<r?t.xbt(i[h+1]):t.Pbt(a);if(t.Ibt(f,n)<=0)e=h+1,u=f;else{if(!(t.Ibt(n,c)<0))return h;s=h-1,o=c}}return-1}function rV(t,i){return nV(eV.Bg,t,i)}U(),Et(),Pt(),U(),Et(),xt(),U(),Et();var eV=function(){function t(){}var i=t.prototype;return i.xbt=function(t){return t.CO},i.Pbt=function(t){return t.RO},i.Ibt=function(t,i){return t.compare(i)},i.Cbt=function(t,i,n){return t.subtract(i).toNumber()/n.subtract(i).toNumber()},Nt(t,null,[{key:"Bg",get:function(){return null!=this.Rbt||(this.Rbt=new t),this.Rbt}}]),t}();eV.Rbt=void 0;var sV=.01,uV=function(t){function i(i,n){var r;return(r=t.call(this,n,i)||this).Dbt=[],r.Bbt=void 0,r.rpt=ue.ZERO,r.er(),r}Ct(i,t);var n=i.prototype;return n.Yyt=function(t){if(!(t<0))return t<this.Dbt.length?this.Dbt[t].yut:this.Nbt(t-this.Dbt.length)},n.Xyt=function(){if(this.Dbt.length>0)return le(this.Dbt[0].CO,this.Jb)},n.Qyt=function(t){if(this.Bbt&&le(this.Bbt.CO,this.Jb)<=t){var i=le(this.Bbt.CO,this.Jb),n=le(this.Bbt.ct,this.Jb),r=b.floor((t-i)/n);return this.Nbt(r)}if(this.Dbt.length>0&&Sn(t,le(this.Dbt[0].CO,this.Jb),1e-5))return this.Dbt[0].yut;var e=rV(this.Dbt,ue.fromNumber(t*this.Jb));return e<0?void 0:this.Dbt[e].yut},n.Kyt=function(t){if(!this.Bbt&&this.Dbt.length>0){var i=this.Dbt[this.Dbt.length-1];if(function(t,i,n){return On(t,i,n)>=0}(t,le(i.RO,this.Jb),1e-5))return i.yut}var n=this.Xyt();return n&&t<n?this.Dbt[0].yut:this.Qyt(t)},n.ibt=function(){return isFinite(this.lmt.ct)?this.Jyt():this.Yyt(this.Dbt.length-1)},n.kbt=function(t){return this.Mbt(t)},n.Nbt=function(t){if(this.Bbt){var i=this.Bbt.CO,n=this.Bbt.ct,r=i.add(n.multiply(t)),e=le(r,this.Jb),s=this.lmt.ct;if(!(e>=s)){var u=this.Dbt.length+t,o=b.min(le(n,this.Jb),e+s);return this.lbt(u,r,o)}}},n.Mbt=function(t){return t.fbt.add(this._bt)},n.er=function(){var t=this.ubt.lk.mht;if(!t)throw new y("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Lbt(t)},n.Lbt=function(t){var i=this._bt;this.Obt(t,i);var n=this.Fbt(t);this.Ubt(t,i,n.Vbt,n.ybt)},n.Obt=function(t,i){var n=this.Dbt;if(0===t.length)Yn(n);else{for(var r=t[0],e=0,s=le(r.CO?ue.fromString(r.CO,!1).subtract(i):ue.ZERO,this.Jb);e<n.length&&le(n[e].CO,this.Jb)<s-sV;)e++;e>0&&n.splice(0,e)}},n.Fbt=function(t){for(var i=this.Dbt,n=this.rpt,r=0,e=0;r<t.length&&e<i.length;){var s=t[r].swt||0;if(s<0)break;var u=e+s;if(u>=i.length)break;if(i[u].CO.greaterThanOrEqual(n))break;if(i[e].yut.Put===e)e=u+1;else for(;e<=u;)i[e].yut.Put=e,e++;0,r++}return{Vbt:r,ybt:e}},n.Ubt=function(t,i,n,r){for(var e,s=this.Dbt,u=n,o=r;u<t.length;){var h=t[u],a=ue.fromString(h.ct,!1),c=h.swt||0,f=void 0;if(h.CO){if(f=ue.fromString(h.CO,!1).subtract(i),o>0){var v=s[o-1];v.RO.greaterThan(f)&&(v.ct=f.subtract(v.CO),v.RO=v.CO.add(v.ct))}}else f=o>0?s[o-1].RO:ue.ZERO;if(c<0){if(u+1===t.length){e={CO:f,ct:a};break}for(var d=ue.fromString(t[u+1].CO,!1).subtract(i);f.lessThan(d);){var l=f.add(a);this.Hbt(s,o,f,a,l),f=l,o++}}else for(var w=o+c;o<=w;){var g=f.add(a);this.Hbt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.rpt=s[s.length-1].CO),this.Bbt=e},n.Hbt=function(t,i,n,r,e){if(i<t.length){var s=t[i];s.ct.equals(r)?s.yut.Put=i:t[i]={CO:n,ct:r,RO:e,yut:this.lbt(i,n,le(r,this.Jb))}}else t.push({CO:n,ct:r,RO:e,yut:this.lbt(i,n,le(r,this.Jb))})},i}(tV);U(),Et(),xt();var oV=function(){function t(t,i,n){this.Oct=void 0,this.Wbt=void 0,this.Wp=void 0,this.qbt=void 0,this.Gbt=void 0,this.Oct=t,this.Wbt=i,this.Wp=n}var i=t.prototype;return i.zbt=function(){if(this.Gbt=this.Xbt(),this.Gbt)return this.Gbt;if(this.Wbt)return this.Wbt.mht;throw new y("Missing media segment information.")},i.Dyt=function(t){var i=this.cwt;if(i)return{Yu:(void 0!==i.ewt?Ui.Dh(i.ewt,t.Nwt[0]):t.Nwt[0]).href,Wat:i.Wat};var n=this.nwt;return n?{Yu:t.Nwt[0].href,Wat:[0,n[0]-1]}:void 0},i.er=function(t){this.Wp=t,this.Gbt&&this.Gbt.er()},i.zg=function(){this.Gbt&&(this.Gbt.zg(),this.Gbt=void 0)},Nt(t,[{key:"lk",get:function(){return this.Wp}},{key:"iwt",get:function(){return this.Wp&&void 0!==this.Wp.iwt?this.Wp.iwt:this.Wbt?this.Wbt.iwt:0}},{key:"dwt",get:function(){return this.Wp&&void 0!==this.Wp.dwt?this.Wp.dwt:this.Wbt?this.Wbt.dwt:ue.ZERO}},{key:"fwt",get:function(){return this.Wp&&void 0!==this.Wp.fwt?this.Wp.fwt:this.Wbt?this.Wbt.fwt:this.Oct.tbt.fwt}},{key:"jD",get:function(){return this.Wp&&void 0!==this.Wp.jD?this.Wp.jD:this.Wbt&&this.Wbt.jD?this.Wbt.jD:1}},{key:"nwt",get:function(){return this.Wp&&void 0!==this.Wp.nwt?this.Wp.nwt:this.Wbt?this.Wbt.nwt:void 0}},{key:"cwt",get:function(){return this.Wp&&void 0!==this.Wp.cwt?this.Wp.cwt:this.Wbt?this.Wbt.cwt:void 0}},{key:"mht",get:function(){return this.qbt||(this.qbt=this.zbt()),this.qbt}}]),t}(),hV=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Xbt=function(){return void 0!==this.Wp.mht?new uV(this,this.Oct):void 0!==this.Wp.ct?new iV(this,this.Oct):void 0},Nt(i,[{key:"ct",get:function(){return void 0!==this.Wp.ct?this.Wp.ct/this.jD:this.Wbt&&aV(this.Wbt)?this.Wbt.ct:void 0}},{key:"Ebt",get:function(){return void 0!==this.Wp.ct?ue.fromNumber(this.Wp.ct):this.Wbt&&aV(this.Wbt)?this.Wbt.Ebt:void 0}},{key:"_wt",get:function(){return void 0!==this.Wp._wt?this.Wp._wt:this.Wbt&&aV(this.Wbt)?this.Wbt._wt:void 0}},{key:"gwt",get:function(){return void 0!==this.Wp.gwt?this.Wp.gwt:this.Wbt&&aV(this.Wbt)?this.Wbt.gwt:void 0}}]),i}(oV);function aV(t){return V(t,hV)}U(),Et();var cV=function(){function t(t){this.jbt=void 0,this.jbt=t}return t.prototype.Qy=function(t){return this.jbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(i,n,r,e){if("$$"===i)return"$";var s=t[n];if(void 0===s)return i;if(void 0===r)return s.toString();var u=function(t,i){switch(i){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?i:u=Wo(u,Number(r),"0")})},t}();var fV=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).Qbt=void 0,e.Kbt=void 0,e.Qbt=r.Rwt?new cV(r.Rwt):void 0,e.Kbt=r.Dwt?new cV(r.Dwt):void 0,e}Ct(i,t);var n=i.prototype;return n.Dyt=function(i){var n=this.Rwt;if(!n)return t.prototype.Dyt.call(this,i);var r=n.Qy({Bandwidth:i.lk.IW,RepresentationID:i.lk.o});return{Yu:Ui.Pm(r,i.Nwt[0])}},n.Zct=function(t,i){var n,r=null!=(n=i.Byt._wt)?n:1,e=this.Dwt.Qy({Bandwidth:i.lk.IW,Number:i.mht.vbt(t,r),RepresentationID:i.lk.o,Time:i.mht.kbt(t,r)});return{Yu:Ui.Pm(e,i.Nwt[0])}},n.Oyt=function(t,i){},Nt(i,[{key:"Rwt",get:function(){return this.Qbt?this.Qbt:this.Wbt&&V(this.Wbt,i)?this.Wbt.Rwt:void 0}},{key:"Dwt",get:function(){return this.Kbt?this.Kbt:this.Wbt&&V(this.Wbt,i)?this.Wbt.Dwt:void 0}},{key:"Tbt",get:function(){}}]),i}(hV);U(),Et(),xt(),Pt(),H();var vV=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Zct=function(t,i){var n=this.hwt[t.Put],r=i.Nwt[0];return{Yu:(n.$D?Ui.Dh(n.$D,r):r).href,Wat:n.rwt}},n.Oyt=function(t,i){},Nt(i,[{key:"hwt",get:function(){return void 0!==this.Wp.hwt?this.Wp.hwt:this.Wbt&&V(this.Wbt,i)?this.Wbt.hwt:void 0}},{key:"Tbt",get:function(){var t;return null==(t=this.hwt)?void 0:t.length}}]),i}(hV);U(),Et(),xt(),Pt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),xt(),Pt(),U(),Et();var dV=function(){function t(){}return t.prototype.wbt=function(t){var i=this.jct(t.xut);if(i&&i.CO===t.CO)return i;var n=this.Ybt(t.CO);return n&&n.CO===t.CO?n:void 0},t}(),lV=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).ybt=void 0,u.jD=void 0,u.tAt=void 0,u.dwt=void 0,u.Jbt=void 0,u.ybt=i,u.jD=n,u.tAt=r,u.dwt=e,u.Jbt=s,u}Ct(i,t);var n=i.prototype;return n.jct=function(t){if(t>=0&&t<this.V)return this.Zbt(this.Jbt[t])},n.Ybt=function(t){var i=this.$bt(t);if(this.Jbt.length>0){var n=this.Jbt[0];if(i<=le(n.CO,this.jD))return this.Zbt(n)}var r=rV(this.Jbt,ue.fromNumber(i*this.jD));if(!(r<0))return this.Zbt(this.Jbt[r])},n.zct=function(t){var i=this.$bt(t),n=zn(this.Jbt,-1);return void 0!==n&&i>=le(n.RO,this.jD)?this.Zbt(n):this.Ybt(t)},n.Zbt=function(t){var i=le(t.CO,this.jD)-this.dwt,n=i+this.tAt,r=le(t.ct,this.jD);return{ybt:this.ybt,xut:t.Put,CO:n,fbt:ue.fromNumber(i*this.jD),ct:r,RO:n+r,iAt:[t.eAt,t.sAt]}},n.$bt=function(t){return t-this.tAt+this.dwt},Nt(i,[{key:"V",get:function(){return this.Jbt.length}}]),i}(dV);U(),Et(),Ft(),U(),Et(),U(),Et(),Ft();var wV=function(){function t(t){this.lk=void 0,this.$R=void 0,this.lk=t,this.$R=new Ta}var i=t.prototype;return i.Egt=function(){return this.$R.ac<this.lk.byteLength},i.nAt=function(){var i,n=this.rAt(),r=this.hAt(),e=this.$R.ac,s=this.lk.byteLength,u=e+(i=t.oAt(r)?s-e:t.aAt(r))<=s?i:s-e,o=Fh(this.lk,this.$R,u);return new _V(n,_a(o))},i.rAt=function(){var t=this.hAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var i=0,n=0;n<t.length;n++)i=256*i+t[n];return i},i.hAt=function(){var t=Mh(this.lk,this.$R.Fy());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var i=8-(31-Eh(t));return Ui.lm(i<=8&&i>=1,"Incorrect log2 value"),Fh(this.lk,this.$R,i)},t.aAt=function(t){if(8===t.length&&224&t[1])throw new p("EBML variable sized integer is too large");for(var i=0,n=0;n<t.length;n++){var r=t[n];if(0===n)i=r&(1<<8-t.length)-1;else i=256*i+r}return i},t.oAt=function(t){for(var i,n=Lt(gV);!(i=n()).done;){var r=i.value;if(Pa(t,new E(r)))return!0}return!1},t}(),gV=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],_V=function(){function t(t,i){this.id=void 0,this.cAt=void 0,this.id=t,this.cAt=i}var i=t.prototype;return i.uAt=function(){return this.cAt.byteOffset},i.dAt=function(){return new wV(this.cAt)},i.lAt=function(){var t=this.cAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.cAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var i=0,n=0;n<t;n++){i=256*i+this.cAt.getUint8(n)}return i},i.HJ=function(){if(4===this.cAt.byteLength)return this.cAt.getFloat32(0);if(8===this.cAt.byteLength)return this.cAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function mV(t,i){var n=function(t){var i=new wV(_a(t)),n=i.nAt();if(n.id!==pV)throw new p("Missing WebM EBML header");var r=i.nAt();if(r.id!==kV)throw new p("Missing WebM SegmentElement");var e=r.uAt(),s=function(t){var i,n=t.dAt();for(;n.Egt();){var r=n.nAt();if(r.id===bV){i=r;break}}if(!i)throw new p("Missing WebM InfoElement");return function(t){var i,n=t.dAt(),r=1e6;for(;n.Egt();){var e=n.nAt();e.id===AV?r=e.lAt():e.id===TV&&(i=e.HJ())}if(void 0===i)throw new p("Missing Duration in WebM InfoElement");var s=r/1e9,u=i*s;return{timecodeScale:s,duration:u}}(i)}(r);return{segmentOffset:e,timecodeScale:s.timecodeScale,duration:s.duration}}(i),r=new wV(_a(t)).nAt();if(r.id!==SV)throw new p("Missing WebM CuesElement");var e=function(t,i,n,r){var e,s,u=[],o=t.dAt();for(;o.Egt();){var h=o.nAt();if(h.id===EV){var a=yV(h);if(a){var c=a.unscaledTime,f=i+a.relativeOffset;void 0!==e&&u.push({Put:u.length,CO:e,ct:c.subtract(e),RO:c,eAt:s,sAt:f-1}),e=c,s=f}}}if(void 0!==e){0;var v=ue.fromNumber(r/n);u.push({Put:u.length,CO:e,ct:v.subtract(e),RO:v,eAt:s,sAt:void 0})}return u}(r,n.segmentOffset,n.timecodeScale,n.duration);return{jD:b.round(1/n.timecodeScale),fAt:e}}function yV(t){var i=t.dAt(),n=i.nAt();if(n.id!==IV)throw new p("Missing CueTime in WebM CuePointElement");var r=ue.fromNumber(n.lAt()),e=i.nAt();if(e.id!==RV)throw new p("Missing CueTrackPositions in WebM CuePointElement");for(var s=e.dAt(),u=0;s.Egt();){var o=s.nAt();if(o.id===CV){u=o.lAt();break}}return{unscaledTime:r,relativeOffset:u}}var pV=440786851,kV=408125543,bV=357149030,AV=2807729,TV=17545,SV=475249515,EV=187,IV=179,RV=183,CV=241,PV=function(t){function i(i,n){var r;return(r=t.call(this,n,i)||this).gAt=void 0,r.vAt=void 0,r.pAt=Ju(),r.mAt=Ju(),r.wAt=new hr,r.gAt=i.nwt,r.vAt=r.lbt(0,ue.ZERO,r.lmt.ct),r}Ct(i,t);var n=i.prototype;return n.Yyt=function(t){if(0===t)return this.vAt},n.Xyt=function(){return 0},n.Qyt=function(t){return this.vAt},n.Kyt=function(t){return this.Qyt(t)},n.ibt=function(){return this.vAt},n.kbt=function(t,i){return ue.ZERO},n.Fyt=function(t){var i=this._At(t);return i&&{ebt:t,sbt:i,nbt:i}},n._At=function(t){var i=this.vAt;return this.nlt(i,t)?i:void 0},n.rbt=function(t){return this._At(t)},n.hbt=function(t){return this._At(t)},n.er=function(){},n.qct=function(t){return 0===t&&void 0!==this.gAt},n.pbt=function(t,i){var n=i.Nwt[0].href;return this.pAt.get(n)},n.mbt=function(t,i,n,r){var e=i.Nwt[0].href,s=this.mAt.get(e);if(void 0===s){var u=i.lQ,o=this.wAt.Yg;if(Xv(u))s=this.yAt(t,e,n,r,o);else{if(!qv(u))throw new ld(vd.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+u);s=this.bAt(t,e,i,n,r,o)}this.mAt.set(e,s)}return s},n.yAt=function(t,i,n,r,e){return Vt(function(){var s,u,o;return zt(this,function(h){switch(h.label){case 0:return s=this.gAt,[4,r.gdt(i,s,n,e)];case 1:return u=h.sent(),o=this.AAt(t,u),this.pAt.set(i,o),[2,o]}})}).call(this)},n.AAt=function(t,i){var n=this.gAt,r=gm.pD(new DataView(i),new Ta);if(r.Km!==hm.GR)throw new y("Invalid segment index");var e=km.UD(r.lk),s=function(t,i){for(var n,r=[],e=t.wM,s=i+t.yM.toNumber(),u=0,o=Lt(t.AM);!(n=o()).done;){var h=n.value,a=h.vM,c=ue.fromNumber(h.ct),f=e.add(c);0===h.fM&&r.push({Put:u++,CO:e,ct:c,RO:f,eAt:s,sAt:s+a-1}),s+=a,e=f}return r}(e,n[1]+1);return new lV(t,e.jD,this.lmt.Tn,le(this._bt,this.Jb),s)},n.bAt=function(t,i,n,r,e,s){return Vt(function(){var u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:return u=n.Dyt(),o=this.gAt,h=e.gdt(u.Yu,u.Wat,r,s),a=e.gdt(i,o,r,s),[4,ut.all([h,a])];case 1:return c=l.sent(),f=c[0],v=c[1],d=this.SAt(t,v,f),this.pAt.set(i,d),[2,d]}})}).call(this)},n.SAt=function(t,i,n){var r=mV(new E(i),new E(n));return new lV(t,r.jD,this.lmt.Tn,le(this._bt,this.Jb),r.fAt)},n.zg=function(){t.prototype.zg.call(this),this.wAt.Zg()},i}(tV),DV=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Zct=function(t,i){return{Yu:i.Nwt[0].href}},n.Oyt=function(t,i){return{Yu:i.Nwt[0].href,Wat:t.iAt}},n.Xbt=function(){return new PV(this,this.Oct)},Nt(i,[{key:"_wt",get:function(){}}]),i}(oV);U(),Et(),Pt();var NV=function(t){function i(){return t.call(this,qO.Fot)||this}return Ct(i,t),i}(rh);U(),Et();var xV=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).wE=void 0,e.Wp=void 0,e.TAt=void 0,e.ubt=void 0,e.DAt=1/0,e.PAt=void 0,e.wE=n,e.xAt(i,r),e}Ct(i,t);var n=i.prototype;return n.kAt=function(){var t,i;return null!=(i=this.ubt)?i:null==(t=this.wE)?void 0:t.kAt()},n.EAt=function(t){var i=this.Oct,n=this.wE&&this.wE.kAt();this.Wp.Lwt?this.ubt=new fV(i,n,this.Wp.Lwt):this.Wp.Mwt?this.ubt=new vV(i,n,this.Wp.Mwt[0]):this.Wp.Bwt?this.ubt=new DV(i,n,this.Wp.Bwt):t&&!n&&(this.ubt=new DV(i,n,void 0))},n.xAt=function(t,i){this.Wp=t,this.TAt=t.Nwt&&t.Nwt.length>0?$U(t.Nwt.map(function(t){return t.Yu}),i):i.slice(),this.ubt&&(t.Lwt?this.ubt.er(t.Lwt):t.Mwt?this.ubt.er(t.Mwt[0]):t.Bwt&&this.ubt.er(t.Bwt))},n.kyt=function(){var t;return null==(t=this.PAt)?void 0:t.IAt},n.Uyt=function(){var t;return null==(t=this.PAt)?void 0:t.CAt},n.RAt=function(t){var i=this.DAt,n=this.Oct.ct,r=this.PAt,e=this.NAt(t);r&&Sn(n,i,1e-5)&&LV(r,e)||(this.DAt=n,this.PAt=e,this.So(new NV))},n.zg=function(){this.Vo(),this.ubt&&(this.ubt.zg(),this.ubt=void 0)},Nt(i,[{key:"lk",get:function(){return this.Wp}},{key:"Nwt",get:function(){return this.TAt}}]),i}(th);function BV(t){for(var i,n,r=Lt(t);!(n=r()).done;){var e=n.value.kyt();if(e){i=e.Tn;break}}if(void 0!==i){for(var s,u=t.length-1;u>=0;u--){var o=t[u].kyt();if(o){s=o.An;break}}if(void 0!==s)return{Tn:i,An:s}}}function OV(t){if(0!==t.length){for(var i,n=0,r=1/0,e=Lt(t);!(i=e()).done;){var s=i.value.kyt();if(!s)return;if((n=b.max(n,s.Tn))>=(r=b.min(r,s.An)))return}return{Tn:n,An:r}}}function MV(t){for(var i,n,r=Lt(t);!(n=r()).done;){var e=n.value.Uyt();e&&(!i||e.getTime()<i.getTime())&&(i=e)}return i}function LV(t,i){return function(t,i){return t&&i?t.getTime()===i.getTime():t===i}(t.CAt,i.CAt)&&function(t,i){return t&&i?Sn(t.Tn,i.Tn,1e-5)&&Sn(t.An,i.An,1e-5):t===i}(t.IAt,i.IAt)}var FV=function(t){function i(i,n,r){var e;(e=t.call(this)||this).lmt=void 0,e.aS=void 0,e.BAt=void 0,e.lmt=i,e.aS=n,e.BAt=r.slice();for(var s,u=Lt(r);!(s=u()).done;){s.value.wn(qO.Fot,e.xyt)}return e}Ct(i,t);var n=i.prototype;return n.kyt=function(){return OV(this.BAt)},n.Uyt=function(){for(var t,i,n=Lt(this.BAt);!(i=n()).done;){var r=i.value.Uyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},n.kn=function(){this.Vo();for(var t,i=Lt(this.BAt);!(t=i()).done;){t.value.mn(qO.Fot,this.xyt)}},Nt(i,[{key:"jlt",get:function(){return this.BAt}},{key:"Rrt",get:function(){return this.jlt.reduce(function(t,i){for(var n,r=Lt(i.Rrt);!(n=r()).done;){var e=n.value;jn(t,e)||t.push(e)}return t},[])}},{key:"Bp",get:function(){return this.Rrt.length>0?this.Rrt[0]:""}},{key:"Km",get:function(){return this.BAt[0].Km}},{key:"o",get:function(){return this.aS}},{key:"jdt",get:function(){return this.lmt.jdt}},{key:"lQ",get:function(){return this.BAt[0].lQ}},{key:"Oct",get:function(){return this.lmt}},{key:"xat",get:function(){return Jn(this.jlt,function(t){return t.xat})}}]),i}(KU);U(),Et(),Pt();var UV=function(t){function i(){return t.call(this,qO.Vot)||this}return Ct(i,t),i}(rh);function VV(t){for(var i,n=function(){var t=i.value,n=void 0,e=t.plt;void 0===e||(n=Fn(r,function(t){return t.o===e})),n||(n={o:e,jlt:[]},r.push(n)),n.jlt.push(t)},r=[],e=Lt(t);!(i=e()).done;)n();return r}U(),Et(),Ft();var HV=function(t){function i(i,n){var r;return(r=t.call(this)||this).Pyt=void 0,r.BAt=[],r.MAt=[],r.OAt=void 0,r.LAt=!1,r.OAt=i,r.Pyt=n,r.Pyt.wn(qO.Fot,r.xyt),r}Ct(i,t);var n=i.prototype;return n.HAt=function(t,i){if(0!==this.MAt.length){for(var n,r=t,e=Lt(this.MAt);!(n=e()).done;){var s=n.value;if(sg(s.Km)){var u=s.Eyt;if(void 0===u)return;r=i(r,u)}}return r}},n.qAt=function(){this.LAt||(this.LAt=!0,this.So(new UV),this.kn())},n.er=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return 0!==this.BAt.length?[3,2]:[4,this.zAt(this.Pyt.jlt,t,i)];case 1:return n.sent(),this.GAt(this.BAt),dr(i),[3,4];case 2:return[4,this.XAt(t,i)];case 3:n.sent(),n.label=4;case 4:return[2]}})}).call(this)},n.zAt=function(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(t),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,u=new ZU(this,s),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,u.er(i,n)];case 3:return o.sent(),this.BAt.push(u),[3,5];case 4:return lr(o.sent()),[3,5];case 5:return[3,1];case 6:return[2]}})}).call(this)},n.GAt=function(t){for(var i,n=Lt(VV(t));!(i=n()).done;){var r=i.value,e=new FV(this,r.o,r.jlt);this.MAt.push(e)}},n.XAt=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:n=Lt(this.BAt),e.label=1;case 1:return(r=n()).done?[3,4]:[4,r.value.er(t,i)];case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},n.kyt=function(){return this.Pyt.kyt()},n.Uyt=function(){return this.Pyt.Uyt()},n.kn=function(){this.Vo(),this.Pyt.mn(qO.Fot,this.xyt);for(var t,i=Lt(this.MAt);!(t=i()).done;){t.value.kn()}for(var n,r=Lt(this.BAt);!(n=r()).done;){n.value.kn()}Yn(this.BAt),Yn(this.MAt)},Nt(i,[{key:"jlt",get:function(){return this.BAt}},{key:"dmt",get:function(){return this.MAt}},{key:"iyt",get:function(){return this.Pyt.lk.iyt}},{key:"ct",get:function(){return this.Pyt.ct}},{key:"An",get:function(){return this.Tn+this.ct}},{key:"eyt",get:function(){return this.Pyt.lk.eyt||[]}},{key:"o",get:function(){return this.Pyt.o}},{key:"Hot",get:function(){return this.LAt}},{key:"jdt",get:function(){return this.OAt}},{key:"Wmt",get:function(){return this.OAt.FAt(this)}},{key:"Oct",get:function(){return this}},{key:"Hmt",get:function(){return this.OAt.UAt(this)}},{key:"VAt",get:function(){return this.HAt(1/0,b.min)}},{key:"WAt",get:function(){return this.HAt(0,b.max)}},{key:"Tn",get:function(){return this.Pyt.Tn}},{key:"Xk",get:function(){return this.jdt.Xk}}]),i}(KU);U(),Et(),Pt();var WV=function(t){function i(){return t.call(this,eh.qw)||this}return Ct(i,t),i}(rh);U(),Et(),Pt(),U(),Et();var zV=function(t){return t.jAt="QAt",t}({}),XV=function(t){function i(){return t.call(this,zV.jAt)||this}return Ct(i,t),i}(rh);U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var qV=function(t){function i(i,n){var r;return(r=t.call(this,i,n,n.Nwt)||this).mat=void 0,r.KAt=void 0,r.mat=n,r.EAt(!0),r}Ct(i,t);var n=i.prototype;return n.qct=function(t){var i=this.lQ;return!(!Xv(i)&&!qv(i))&&this.mht.qct(t.Put)},n.Gct=function(t,i,n,r){return this.mht.Gct(t,this,i,n,r)},n.Dyt=function(){return this.Byt.Dyt(this)},n.Zct=function(t){return this.Byt.Zct(t,this)},n.Oyt=function(t){return this.Byt.Oyt(t,this)},n.Fyt=function(){return this.KAt},n.NAt=function(t){var i=this.mht,n=i.Fyt(t),r=n&&function(t,i){var n,r=t.sbt,e=t.nbt,s=t.ebt,u=r.CO,o=i.dbt(e);if(o.getTime()<=s.getTime())n=e.RO;else{var h=(o.getTime()-s.getTime())/1e3,a=b.max(e.ct-h,0);n=e.CO+a}return{Tn:u,An:n}}(n,i),e=this.mht.Uyt(t,n);return this.KAt=n,{ebt:t,IAt:r,CAt:e}},n.er=function(t){this.xAt(t,this.mat.Nwt)},Nt(i,[{key:"Zut",get:function(){return this.mat}},{key:"Oct",get:function(){return this.mat.Oct}},{key:"tbt",get:function(){return this.mat.tbt}},{key:"lQ",get:function(){return this.Wp.lQ||this.mat.lQ}},{key:"Byt",get:function(){return this.kAt()}},{key:"mht",get:function(){return this.Byt.mht}}]),i}(xV),GV=function(t){function i(i,n){var r;return(r=t.call(this,i,n,n.Nwt)||this).lmt=void 0,r.Slt=void 0,r.lmt=n,r.EAt(!1),r.Slt=i.xat.map(function(t){return new qV(t,r)}),r}Ct(i,t);var n=i.prototype;return n.er=function(t){this.xAt(t,this.lmt.Nwt);var i=t.xat||[];if(this.Slt.length!==i.length)throw new y("Expected "+this.Slt.length+' representations in adaptation set "'+t.o+'", found '+i.length);for(var n=0;n<i.length;n++)this.Slt[n].er(i[n])},n.RAt=function(i){for(var n,r=Lt(this.Slt);!(n=r()).done;){n.value.RAt(i)}t.prototype.RAt.call(this,i)},n.NAt=function(t){return{ebt:t,IAt:OV(this.Slt),CAt:MV(this.Slt)}},n.zg=function(){for(var i,n=Lt(this.Slt);!(i=n()).done;){i.value.zg()}t.prototype.zg.call(this)},Nt(i,[{key:"xat",get:function(){return this.Slt}},{key:"Oct",get:function(){return this.lmt}},{key:"tbt",get:function(){return this.lmt.tbt}},{key:"plt",get:function(){return this.Wp.plt}},{key:"lQ",get:function(){var t;return this.Wp.lQ||(null==(t=this.Slt[0])?void 0:t.lk.lQ)||""}},{key:"ywt",get:function(){return this.lk.ywt}},{key:"bwt",get:function(){return this.lk.bwt}}]),i}(xV),jV=function(t){function i(i,n,r,e){var s;return(s=t.call(this,n,void 0,i.Nwt)||this).YAt=void 0,s.UU=void 0,s.Zb=void 0,s.BAt=void 0,s.MAt=[],s.YAt=i,s.UU=r,s.Zb=e,s.EAt(!1),s.BAt=(n.jlt||[]).map(function(t){return new GV(t,s)}),s.MAt=VV(s.BAt),s}Ct(i,t);var n=i.prototype;return n.er=function(t,i){this.xAt(t,this.YAt.Nwt),this.Zb=i;var n=t.jlt||[];if(this.BAt.length!==n.length)throw new y("Expected "+this.BAt.length+' adaptation sets in period "'+t.o+'", found '+n.length);for(var r=0;r<n.length;r++)this.BAt[r].er(n[r])},n.RAt=function(i){for(var n,r=Lt(this.BAt);!(n=r()).done;){n.value.RAt(i)}t.prototype.RAt.call(this,i)},n.NAt=function(t){return{ebt:t,IAt:OV(this.BAt),CAt:MV(this.BAt)}},n.zg=function(){for(var i,n=Lt(this.BAt);!(i=n()).done;){i.value.zg()}t.prototype.zg.call(this)},Nt(i,[{key:"jlt",get:function(){return this.BAt}},{key:"dmt",get:function(){return this.MAt}},{key:"Oct",get:function(){return this}},{key:"tbt",get:function(){return this.YAt}},{key:"o",get:function(){return this.Wp.o}},{key:"Tn",get:function(){return this.UU}},{key:"ct",get:function(){return this.Zb}}]),i}(xV);U(),Et(),xt();var QV=function(){function t(t){this.ZAt=void 0,this.ZAt=t}return Nt(t,[{key:"JAt",get:function(){return this.ZAt.nyt.iU}},{key:"$At",get:function(){return this.ZAt.nyt.tU}},{key:"tSt",get:function(){return this.ZAt.nyt.syt}},{key:"iSt",get:function(){var t;return null==(t=this.ZAt.vP)?void 0:t.iU}},{key:"eSt",get:function(){var t;return null==(t=this.ZAt.vP)?void 0:t.iU}}]),t}(),YV=new Date("2000-01-01"),KV=function(t){function i(i,n,r,e,s){var u;if((u=t.call(this)||this).Wp=void 0,u.dSt=void 0,u.En=void 0,u.uSt=void 0,u.PAt=void 0,u.TAt=void 0,u.hSt=void 0,u.rSt=void 0,u.sSt=void 0,u.oSt=[],u.nSt=void 0,u.ZAt=void 0,u.dSt=n,u.nSt=s,u.er(i,r,e),i.Km===mL.SV){var o=u.ibt();o&&o.ryt&&o.ryt.getTime()<YV.getTime()&&(u.sSt=new Date(u.vyt.getTime()-1e3*(o.yut.CO+o.yut.ct)),u.RAt(e))}return u}Ct(i,t);var n=i.prototype;return n.kyt=function(){var t;return null==(t=this.PAt)?void 0:t.IAt},n.Uyt=function(){var t;return null==(t=this.PAt)?void 0:t.CAt},n.er=function(t,i,n,r){var e,s=void 0!==this.Wp&&this.Wp.Km===mL.SV;this.Wp=t,this.uSt=null!=r?r:n,this.En=n;var u=[Dl(i)];this.TAt=t.Nwt&&t.Nwt.length>0?$U(t.Nwt.map(function(t){return t.Yu}),u):u,this.hSt=t.oyt&&t.oyt.length>0?$U(t.oyt,this.TAt):[];var o=this.hSt.map(function(t){return t.href}),h=i.href;jn(o,h)||(this.hSt.push(i),o.push(h));var a=this.dSt.href;jn(o,a)||(this.hSt.push(this.dSt),o.push(a)),this.rSt=null==(e=t.dyt)?void 0:e.Qmt(),t.pyt&&(this.ZAt=new QV(t.pyt));var c=t.Km===mL.SV,f=function(t,i,n){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.Tn)u=s.Tn.Qmt();else if(e>0&&t[e-1].ct){u=r[e-1]+t[e-1].ct.Qmt()}else{if(0!==e||i)break;u=0}r.push(u)}for(var o=[],h=0;h<r.length-1;h++)o.push({lk:t[h],Tn:r[h],ct:r[h+1]-r[h]});if(r.length>0){var a=r.length-1,c=t[a],f=r[a],v=1/0;i||(v=c.ct?c.ct.Qmt():n-f),o.push({lk:c,Tn:f,ct:v})}return o}(t.Amt,c,this.rSt);this.lSt(f,s,c),this.RAt(n)},n.lSt=function(t,i,n){var r=this.oSt;if(0!==t.length){for(var e=t[0].lk.o,s=0;s<r.length&&r[s].o!==e;)s++;for(var u,o=Lt(r.splice(0,s));!(u=o()).done;){u.value.zg()}if(i&&!n&&r.length>0&&t.length>0){var h,a,c=null!=(h=JV(r[0].lk))?h:m_.SF,f=null!=(a=JV(t[0].lk))?a:m_.SF;if(f.hF(c)){var v=f.gF(c);void 0!==this.rSt&&(this.rSt+=v.rF());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var w=r[d];l.Tn=w.Tn,nH(l.lk,w.lk)}d===t.length-1&&(l.ct+=v.rF())}}}for(var g=0;g<t.length;g++){var _=t[g];if(g<r.length){var m=r[g];0,m.er(_.lk,_.ct)}else r.push(new jV(this,_.lk,_.Tn,_.ct))}}else Yn(r)},n.RAt=function(t){for(var i,n=Lt(this.oSt);!(i=n()).done;){i.value.RAt(t)}var r=this.PAt,e=this.NAt(t);r&&LV(r,e)||(this.PAt=e,this.So(new NV))},n.NAt=function(t){return{ebt:t,IAt:BV(this.oSt),CAt:MV(this.oSt)}},n.ibt=function(){var t=zn(this.oSt,-1);if(void 0!==t&&!isFinite(t.ct)&&0!==t.jlt.length){var i=t.jlt[0];if(0!==i.xat.length){var n=i.xat[0].mht,r=n.ibt();if(r)return{yut:r,ryt:n.Qdt(r)}}}},n.zg=function(){this.Vo();for(var t,i=Lt(this.oSt);!(t=i()).done;){t.value.zg()}},Nt(i,[{key:"lk",get:function(){return this.Wp}},{key:"Km",get:function(){return this.Wp.Km||mL.AV}},{key:"hyt",get:function(){return this.sSt||this.Wp.hyt||this.vyt}},{key:"ryt",get:function(){return this.Wp.ryt}},{key:"$yt",get:function(){var t,i;return null!=(i=null==(t=this.nSt)?void 0:t.ignoreAvailabilityWindow)&&i}},{key:"dyt",get:function(){return this.rSt}},{key:"Nwt",get:function(){return this.TAt}},{key:"oyt",get:function(){return this.hSt}},{key:"Amt",get:function(){return this.oSt}},{key:"vyt",get:function(){return this.Wp.vyt||this.En}},{key:"fwt",get:function(){return this.Wp.fwt}},{key:"aSt",get:function(){return this.uSt}},{key:"cSt",get:function(){return this.En}},{key:"pyt",get:function(){return this.ZAt}}]),i}(th);function JV(t){for(var i,n,r,e=tH(t),s=Lt(null!=(i=t.jlt)?i:[]);!(n=s()).done;){e=p_(e,ZV(n.value))}for(var u,o=Lt(null!=(r=t.eyt)?r:[]);!(u=o()).done;){e=p_(e,iH(u.value))}return e}function ZV(t){for(var i,n=tH(t),r=Lt(t.xat);!(i=r()).done;){n=p_(n,$V(i.value))}return n}function $V(t){return tH(t)}function tH(t){var i;if(void 0!==t.Lwt&&(i=p_(i,iH(t.Lwt))),void 0!==t.Bwt&&(i=p_(i,iH(t.Bwt))),void 0!==t.Mwt)for(var n,r=Lt(t.Mwt);!(n=r()).done;){i=p_(i,iH(n.value))}return i}function iH(t){var i,n;return m_.yF(null!=(i=t.dwt)?i:ue.ZERO,null!=(n=t.jD)?n:1)}function nH(t,i){if(sH(t,i),t.Tn=i.Tn,void 0!==t.jlt&&void 0!==i.jlt&&t.jlt.length===i.jlt.length)for(var n=0;n<t.jlt.length;n++)rH(t.jlt[n],i.jlt[n]);if(void 0!==t.eyt&&void 0!==i.eyt&&t.eyt.length===i.eyt.length)for(var r=0;r<t.eyt.length;r++)uH(t.eyt[r],i.eyt[r])}function rH(t,i){if(sH(t,i),void 0!==t.xat&&void 0!==i.xat&&t.xat.length===i.xat.length)for(var n=0;n<t.xat.length;n++)eH(t.xat[n],i.xat[n])}function eH(t,i){sH(t,i)}function sH(t,i){if(void 0!==t.Lwt&&void 0!==i.Lwt&&uH(t.Lwt,i.Lwt),void 0!==t.Bwt&&void 0!==i.Bwt&&uH(t.Bwt,i.Bwt),void 0!==t.Mwt&&void 0!==i.Mwt&&t.Mwt.length===i.Mwt.length)for(var n=0;n<t.Mwt.length;n++)uH(t.Mwt[n],i.Mwt[n])}function uH(t,i){t.jD=i.jD,t.dwt=i.dwt}U(),Et(),Wt(),Ft(),Qt();var oH=function(){function t(t,i,n){this.aV=void 0,this.vSt=void 0,this._St=void 0,this.gSt=void 0,this.aV=t,this.vSt=i,this._St=n,this.gSt=0}var i=t.prototype;return i.GY=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.fSt(t,this.aV,this.vSt,this._St).catch(wr)];case 1:return i.sent(),[2]}})}).call(this)},i.Xdt=function(){return new Date(ae()+this.gSt)},i.fSt=function(t,i,n,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return r?[4,this.pSt(i,r,n)]:[3,2];case 1:e=h.sent(),h.label=2;case 2:if(void 0!==e)return[3,6];dr(n),s=Lt(t),h.label=3;case 3:return(u=s()).done?[3,6]:(o=u.value,[4,this.mSt(i,o,n)]);case 4:if(void 0!==(e=h.sent()))return[3,6];h.label=5;case 5:return[3,3];case 6:return this.gSt=void 0===e?0:e-ae(),[2]}})}).call(this)},i.mSt=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:switch(i.x8){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(r=i.XE)?[4,this.pSt(t,r,n)]:[3,3];case 2:return[2,u.sent()];case 3:return[3,6];case 4:return(e=i.XE)&&(s=new Date(e).getTime(),!S(s))?[2,s]:[3,6];case 5:case 6:return[2]}})}).call(this)},i.pSt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,t.vk({Yu:i,Hk:ml.GET,fk:Ud.LT,Yg:n})];case 1:return[4,s.sent().HT()];case 2:return r=s.sent(),e=new Date(r).getTime(),S(e)?[3,4]:[2,e];case 3:return lr(s.sent()),[3,4];case 4:return[2]}})})()},t}(),hH=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).NSt=void 0,u.Pyt=void 0,u.bSt=void 0,u.ASt=!0,u.oSt=[],u.PSt=void 0,u.RSt=void 0,u.DSt=void 0,u.aV=void 0,u.CSt=void 0,u.nSt=void 0,u.PSt=i,u.bSt=i.rC,u.RSt=n,u.aV=r,u.NSt=e,u.CSt=new oH(u.aV,u.NSt,u.PSt.BSt),u.nSt=s,u}Ct(i,t);var n=i.prototype;return n.SSt=function(t){var i=this.cP;this.ASt=t,i!==this.cP&&this.So(new XV)},n.er=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:return e=[],s=[],u=t.ayt?Ui.Dh(t.ayt,this.bSt):this.bSt,void 0!==this.Pyt?[3,2]:[4,this.CSt.GY(t.gyt)];case 1:return g.sent(),this.Pyt=new KV(t,this.bSt,u,this.Xdt(),this.nSt),this.Pyt.wn(qO.Fot,this.Rs),[3,3];case 2:this.Pyt.er(t,u,this.Xdt(),i),g.label=3;case 3:if(0===(o=this.Pyt.Amt).length)h=this.oSt.slice(),Yn(this.oSt);else{for(a=o[0].o,c=0;c<this.oSt.length&&this.oSt[c].o!==a;)c++;for(h=this.oSt.splice(0,c),f=0;f<o.length;f++)v=o[f],d=void 0,f<this.oSt.length?d=this.oSt[f]:(d=new HV(this,v),e.push(d)),s.push(d.er(this.RSt,n))}return[4,ut.all(s)];case 4:for(g.sent(),(r=this.oSt).push.apply(r,[].concat(e)),l=Lt(h);!(w=l()).done;)w.value.qAt();return this.So(new WV),[2]}})}).call(this)},n.Xdt=function(){return this.CSt.Xdt()},n.UAt=function(t){var i=this.oSt.indexOf(t);if(i>0)return this.oSt[i-1]},n.FAt=function(t){var i=this.oSt.indexOf(t);if(i>=0&&i+1<this.oSt.length)return this.oSt[i+1]},n.kyt=function(){return this.Pyt?this.Pyt.kyt():void 0},n.Uyt=function(){return this.Pyt&&this.Pyt.Uyt()},n.RAt=function(t){this.Pyt&&this.Pyt.RAt(t)},n.kn=function(){this.Vo(),this.DSt=void 0,this.SSt(!1);for(var t,i=Lt(this.oSt);!(t=i()).done;){t.value.kn()}Yn(this.oSt),this.Pyt&&this.Pyt.zg()},Nt(i,[{key:"ryt",get:function(){return this.Pyt&&this.Pyt.ryt}},{key:"hyt",get:function(){return this.Pyt&&this.Pyt.hyt}},{key:"$yt",get:function(){return this.Pyt&&this.Pyt.$yt}},{key:"o",get:function(){return this.Pyt&&this.Pyt.lk.o}},{key:"aSt",get:function(){var t;return null==(t=this.Pyt)?void 0:t.aSt}},{key:"wSt",get:function(){var t;return null==(t=this.Pyt)?void 0:t.cSt}},{key:"oyt",get:function(){return this.Pyt?this.Pyt.oyt.map(function(t){return t.href}):[this.ySt]}},{key:"ySt",get:function(){return this.bSt.href}},{key:"uyt",get:function(){return this.Pyt&&this.Pyt.lk.uyt}},{key:"cyt",get:function(){return this.Pyt&&this.Pyt.lk.cyt}},{key:"dyt",get:function(){return this.Pyt&&this.Pyt.lk.dyt}},{key:"lyt",get:function(){return this.Pyt&&this.Pyt.lk.lyt}},{key:"fyt",get:function(){var t,i,n=(null==(i=this.Pyt)||null==(t=i.lk.fyt)?void 0:t.Kmt())||0;return b.max(n,fH)}},{key:"cP",get:function(){return this.ASt}},{key:"Amt",get:function(){return this.oSt}},{key:"TSt",get:function(){return this.Km===mL.SV?this.Wyt:this.kSt}},{key:"ESt",get:function(){var t=this.TSt;if(void 0!==t)for(var i,n=Lt(this.Amt);!(i=n()).done;){var r=i.value;if(r.Tn<=t&&r.An>t)return r}}},{key:"Twt",get:function(){return this.Pyt&&this.Pyt.lk.Twt}},{key:"vyt",get:function(){return this.Pyt&&this.Pyt.vyt}},{key:"VAt",get:function(){for(var t=this.oSt.length-1;t>=0;t-=1){var i=this.oSt[t].VAt;if(i)return i}}},{key:"Wyt",get:function(){var t=this.VAt;if(void 0!==t){var i=t-this.xSt;return b.max(i,this.kSt)}}},{key:"kSt",get:function(){for(var t,i=Lt(this.oSt);!(t=i()).done;){var n=t.value.Tyt;if(void 0!==n)return n}}},{key:"Xk",get:function(){return Boolean(this.PSt.Xk)}},{key:"xSt",get:function(){var t,i;if(this.PSt.ISt&&this.Km===mL.SV)return this.PSt.ISt;var n=null==(i=this.Pyt)||null==(t=i.lk._yt)?void 0:t.Qmt();return void 0!==n?n:this.Km===mL.SV?1.5*this.lyt.Qmt():0}},{key:"fwt",get:function(){return this.Pyt&&this.Pyt.fwt}},{key:"Km",get:function(){return this.Pyt?this.Pyt.Km:void 0}},{key:"pyt",get:function(){var t;return null==(t=this.Pyt)?void 0:t.pyt}}]),i}(th),aH=function(){function t(t,i,n,r,e){this.OAt=void 0,this.OAt=new hH(t,i,n,r,e)}return Nt(t,[{key:"jdt",get:function(){return this.OAt}}]),t}();U(),Et(),Pt();var cH=function(t){function i(){return t.call(this,eh.oy)||this}return Ct(i,t),i}(rh),fH=1e3,vH=b.pow(2,31)-1,dH=function(){function t(t,i,n,r,e){var s=this;this.YSt=void 0,this.Pyt=void 0,this.FSt=void 0,this.MSt=void 0,this.zSt=void 0,this.LSt=new hr,this.OSt=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),i=this.Pyt.jdt.Xdt(),[4,this.QSt(this.Pyt.jdt.oyt,t)];case 1:return n=e.sent(),[4,this.Pyt.jdt.er(n,i,t)];case 2:return e.sent(),[3,4];case 3:throw Ql(r=e.sent())&&(this.Pyt.jdt.SSt(!1),this.Pyt.jdt.So(new cH)),r;case 4:return[2]}})}).call(s)},this.YSt=r,this.Pyt=new aH(t,i,n,this.LSt.Yg,e)}var i=t.prototype;return i.vE=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:this.Pyt.jdt.So(new KR),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.OSt(t)];case 2:return n.sent(),this.Pyt.jdt.SSt(!0),[3,4];case 3:throw lr(i=n.sent()),this.MSt=void 0,this.Pyt.jdt.SSt(!1),new y("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return this.FSt=this.USt(this.LSt.Yg),[2]}})}).call(this)},i.USt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return this.Pyt.jdt.Km!==mL.SV?[3,3]:[4,gr(this.VSt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}})}).call(this)},i.WSt=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return dr(t),(i=this.qSt())>0?[4,Ar(b.min(i,vH),t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,this.OSt(t)];case 3:return r.sent(),this.Pyt.jdt.SSt(!0),[3,6];case 4:throw n=r.sent(),new y("The provided MPEG-DASH manifest could not be loaded - "+n.message);case 5:return this.zSt=void 0,[7];case 6:return[2]}})}).call(this)},i.qSt=function(){var t=this.Pyt.jdt.Xdt().getTime()-this.Pyt.jdt.aSt.getTime();return this.Pyt.jdt.fyt-t},i.GSt=function(t){var i=this.Pyt.jdt.Uyt();if(i){var n=i.getTime()-t.getTime();if(n>0)return n}this.Pyt.jdt.RAt(t);var r=this.Pyt.jdt.Uyt();return r?r.getTime()-t.getTime():NaN},i.HSt=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=this.zSt||(this.zSt=this.WSt(t)),n=qt(i,hr.ep([t]),!1),r=[this.zSt,this.XSt(n.Yg)].filter(Li),[4,ut.race(r).catch(wr)];case 2:return s.sent(),[3,5];case 3:return e=s.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})}).call(this)},i.XSt=function(t){var i=this.Pyt.jdt.Xdt(),n=this.GSt(i);if(!S(n)&&!this.Br.jdt.$yt)return this.jSt(n,t)},i.jSt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,Ar(t,i)];case 1:return r.sent(),n=this.Pyt.jdt.Xdt(),this.Pyt.jdt.RAt(n),[2]}})}).call(this)},i.QSt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,this.YSt.KSt(t,{},i)];case 1:return n=r.sent(),[2,(new WU).myt(n.JSt,n.wk)]}})}).call(this)},i.kn=function(){return this.LSt.Zg(),this.FSt=void 0,this.MSt=void 0,this.zSt=void 0,this.Pyt.jdt.kn(),ut.resolve()},Nt(t,[{key:"Br",get:function(){return this.Pyt}},{key:"W",get:function(){return this.MSt||(this.MSt=this.vE(this.LSt.Yg),kr(this.MSt)),this.MSt}},{key:"VSt",get:function(){return this.Pyt.jdt.wSt&&this.Pyt.jdt.Km===mL.SV?this.HSt(this.LSt.Yg):this.W}}]),t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),Pt();var lH=function(t){function i(i,n){var r;return(r=t.call(this,"Rmt")||this).zmt=void 0,r.kpt=void 0,r.zmt=i,r.kpt=n,r}return Ct(i,t),i}(rh),wH=function(t){function i(i,n){var r;(r=t.call(this)||this).Rlt=void 0,r.BI=void 0,r.Vp=void 0,r.Vp=i,r.BI=n;for(var e,s=Lt(r.BI);!(e=s()).done;){e.value.plt=r}return r}Ct(i,t);var n=i.prototype;return n.JU=function(t){t&&this.Rlt!==t&&this.ZSt(t)},n.ZU=function(t){this.Rlt===t&&this.ZSt(void 0)},n.ZSt=function(t){this.Rlt=t,this.So(new lH(this,this.Rlt))},n.kn=function(){this.Vo();for(var t,i=Lt(this.BI);!(t=i()).done;){t.value.plt=void 0}Yn(this.BI)},Nt(i,[{key:"kpt",get:function(){return this.Rlt}},{key:"Km",get:function(){return this.Vp}},{key:"Z",get:function(){return this.BI.slice()}}]),i}(th);U(),Et(),U(),Et(),U(),Et(),Pt();var gH=function(t){function i(i,n,r){var e;return(e=t.call(this,eh.Dw)||this).currentTime=void 0,e.initDataType=void 0,e.initData=void 0,e.currentTime=i,e.initDataType=n,e.initData=r,e}return Ct(i,t),i}(rh);function _H(t,i,n,r,e){for(var s,u=[],o=[],h=Lt(i);!(s=h()).done;){var a=s.value;a.Km===eg.Bk?u=u.concat(a.Z):a.Km===eg.Mk&&(o=o.concat(a.Z))}return[mH(t,u,n,r,null==e?void 0:e.preferredAudioCodecs),yH(t,o,n,r,null==e?void 0:e.preferredVideoCodecs)].filter(Li)}function mH(t,i,n,r,e){var s=Fn(r||[],function(t){return t.iat===eg.Bk&&t.Rt}),u=[kH(s,n,t),bH(s),AH(s),TH(s,e),SH(),function(t){var i=t.filter(function(t){return"main"===t.Lt});return i.length>0?i:t}];return pH(i,u)}function yH(t,i,n,r,e){var s=Fn(r||[],function(t){return t.iat===eg.Mk&&t.Rt}),u=[kH(s,n,t),TH(s,e),SH(),function(t){var i=t.filter(function(t){return"main"===t.Lt});return i.length>0?i:t}];return pH(i,u)}function pH(t,i){if(0!==t.length){for(var n,r=t,e=Lt(i);!(n=e()).done;){var s=n.value;if(1===r.length)return r[0];r=s(r)}return r[0]}}function kH(t,i,n){return function(r){var e=t?t.Zut.o:void 0;if(!Li(e))return r;var s=null==i?void 0:i.iyt,u=n.iyt,o=s&&u&&s.XE===u.XE,h=Fn(r,function(t){return t.Zut.o===e});return o&&h?[h]:r}}function bH(t){return function(i){var n=t?t.bs:"",r=i.some(function(t){return""!==t.bs})?i.filter(function(t){return""!==t.bs}):i;if(""===n)return r;var e=r.filter(function(t){return t.bs===n});return e.length>0?e:r}}function AH(t){return function(i){var n=t?t.Lt:"";if(""===n)return i;var r=i.filter(function(t){return t.Lt===n});return r.length>0?r:i}}function TH(t,i){return function(t){if(i&&i.length>0)for(var n,r=function(){var i=n.value,r=t.filter(function(t){return t.$I.NI.some(function(t){return $C(t.Rrt,i)})});if(r.length>0)return{v:r}},e=Lt(i);!(n=e()).done;){var s=r();if("object"===W(s))return s.v}return t}}function SH(){return function(t){for(var i,n=[],r=-1/0,e=Lt(t);!(i=e()).done;){var s=i.value,u=s.Zut.tz;u>r?(r=u,n=[s]):u===r&&n.push(s)}return n}}U(),Et(),ct(),Ft(),U(),Et();var EH=function(t){return t.$St="api",t.tTt="start",t}({});U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var IH=function(t){function i(i,n,r){var e;return void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===r&&(r=void 0),(e=t.call(this,eh.sy)||this).retryCount=void 0,e.statusCode=void 0,e.statusMessage=void 0,e.retryCount=i,e.statusCode=n,e.statusMessage=r,e}return Ct(i,t),i}(rh),RH={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},CH=function(t){function i(i,n,r){var e;return void 0===r&&(r=RH),(e=t.call(this)||this).aV=void 0,e.sTt=void 0,e.Ndt=void 0,e.aV=i,e.sTt=n,e.Ndt=r,e}Ct(i,t);var n=i.prototype;return n.iTt=function(t,i,n){var r=this,e=this.Ndt.maxRetries===1/0?RH:this.Ndt;return mT(function(n,e){return r.eTt(t,i,e,n)},n,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.eTt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:s=Lt(t),v.label=1;case 1:if((u=s()).done)return[3,7];o=u.value,v.label=2;case 2:return v.trys.push([2,5,,6]),h=new Al({Yu:o,fk:Ud.LT,_k:i,Xk:this.sTt,Hk:ml.GET,Km:yl.bk,zk:pl.yk,Yg:n,Wk:15e3,qk:5e3}),[4,this.aV.vk(h)];case 3:return[4,(a=v.sent()).HT(n)];case 4:return[2,{JSt:v.sent(),nTt:o,wk:a.wk}];case 5:return c=v.sent(),e=c,f=Yl(c)?c.uE.dk:void 0,this.So(new IH(r,f,c.message)),[3,6];case 6:return[3,1];case 7:throw e}})}).call(this)},i}(th);function PH(t){return Rl(t)}function DH(t,i){var n=Rl(t);return i?""+n+i:""+n}U(),Et(),Wt(),Ft(),Qt(),U(),Et();var NH=function(){function t(t){this.rTt=void 0,this.rTt=t}return t.prototype.KSt=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:e=Lt(this.rTt),h.label=1;case 1:if((s=e()).done)return[3,6];u=s.value,h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.KSt(t,i,n)];case 3:return[2,h.sent()];case 4:return lr(o=h.sent()),r=o,[3,5];case 5:return[3,1];case 6:throw r}})}).call(this)},t}(),xH=function(){function t(t){this.Sut=void 0,this.Sut=t}return t.prototype.KSt=function(t,i,n){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.Sut.hTt(t)];case 1:if(i=n.sent())return[2,{JSt:i.data,nTt:i.locationURL,wk:i.responseURL}];throw new y("Manifest fetch from cache unsuccesful")}})}).call(this)},t}(),BH=function(){function t(t){this.oTt=void 0,this.oTt=t}return t.prototype.KSt=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.oTt.iTt(t,i,n)];case 1:return[2,r.sent()]}})}).call(this)},t}();function OH(t,i){return new NH([new xH(i),new BH(t)])}var MH=function(){function t(t,i,n){this.YSt=void 0,this.cTt=void 0,this.dTt=void 0,this.YSt=t,this.cTt=i,this.dTt=n}var i=t.prototype;return i.KSt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,this.YSt.KSt(t,i,n)];case 1:return r=e.sent(),[4,this.aTt(r)];case 2:return e.sent(),[2,r]}})}).call(this)},i.aTt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.cTt.uTt({key:PH(t.nTt),locationURL:Rl(t.nTt),responseURL:Rl(t.wk),data:t.JSt,references:[this.dTt.o]})];case 1:return i.sent(),[2]}})}).call(this)},t}();U(),Et(),Pt();var LH=function(t){function i(){return t.call(this,eh.Xw)||this}return Ct(i,t),i}(rh);U(),Et(),Pt();var FH=function(t){function i(){return t.call(this,eh.Gw)||this}return Ct(i,t),i}(rh);U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),Pt(),Ft();var UH=function(t){function i(i){return t.call(this,i)||this}Ct(i,t);var n=i.prototype;return n.lTt=function(t){return t.AP=Dg.LOADED,this.tt(t),t},n.fTt=function(t){for(var i,n=Lt(this.Z.NI);!(i=n()).done;){var r=i.value;if(r.eC===t)return r}},i}(dy);function VH(t,i){return""===i?t:t+" "+i}U(),Et(),U(),Et(),xt(),Pt(),U(),Et();var HH=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n,r,!1,null==s?void 0:s.toString())||this).nx=void 0,u.vTt=void 0,u.nx=e,u.vTt=s,u}return Ct(i,t),i.prototype.KO=function(t){return this.U===t.U},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return Mw(Wg(t),{get attributes(){return t.nx},get eventID(){var i;return""+(null!=(i=t.vTt)?i:"")}})}(this)),this.hu}}]),i}(Jg),WH=function(t){function i(i){var n;return(n=t.call(this,i)||this).YAt=void 0,n.pTt=function(){var t,i,r=null!=(i=null==(t=n.YAt.kyt())?void 0:t.Tn)?i:0;if(r>0)for(var e,s=Lt(n.Z.NI);!(e=s()).done;){fy(e.value,r)}for(var u,o=Lt(n.YAt.Amt);!(u=o()).done;){var h=u.value;if(h.An>r)for(var a,c=Lt(h.eyt);!(a=c()).done;){var f=a.value;n.gTt(f,h,r)}}},n}Ct(i,t);var n=i.prototype;return n._Tt=function(t){var i=this.iV.sI(Jm.zU,"","","",void 0,Ng.EVENT_STREAM);return i.eC=t,this.lTt(i),i},n.gTt=function(t,i,n){var r,e,s,u=t.x8,o=null!=(r=t.XE)?r:"",h=null!=(e=t.jD)?e:1,a=null!=(s=t.dwt)?s:ue.ZERO,c=VH(u,o),f=this.fTt(c);f||(f=this._Tt(c));for(var v,d=Lt(t.fQ);!(v=d()).done;){var l=v.value;if(!zH(l,f)){var w=XH(l,h,a,i);w.RO>n&&f.nV(w)}}},n.Un=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.hr()];case 1:return i.sent(),this.YAt=t,this.YAt.wn(eh.qw,this.pTt),this.pTt(),[2]}})}).call(this)},n.hr=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:for(this.YAt&&(this.YAt.mn(eh.qw,this.pTt),this.YAt=void 0),n=Lt(this.Z.NI);!(r=n()).done;)e=r.value,this.iV.rV(e);return[4,t.prototype.hr.call(i)];case 1:return s.sent(),[2]}})}).call(this)},n.eV=function(t,i,n){return ly(t,i,n)},i}(UH);function zH(t,i){var n=t.o;if(void 0!==n&&Fn(i.L.NI,function(i){return i.vTt===n&&i.U===t.lk}))return!0;return!1}function XH(t,i,n,r){var e=t.o,s=t.nM.toSigned().subtract(n),u=t.ct,o=t.lk,h=t.nx,a=s.toNumber()/i+r.Tn,c=u?u.toNumber()/i:void 0,f=void 0!==c?a+c:r.WAt;return new HH(a,f,o,h,e)}function qH(t,i,n,r,e){var s=[],u=Fn(n,function(t){return t.x8===so});if(void 0!==u){var o=u.XE?function(t){var i=t.split(":",1)[0];switch(i){case"cbcs":case"cenc":return i;default:return}}(u.XE.toLowerCase()):"cenc";if(void 0!==o){for(var h,a=Lt(n);!(h=a()).done;){var c=h.value;if(c.x8!==so)for(var f,v=Lt(Oo(c.x8));!(f=v()).done;){var d,l,w=f.value,g=e&&c.P8?[c.P8]:[],_=null!=(l=null==(d=t.clearkey)?void 0:d.keys)?l:[];s.push({xS:w,OW:g,FW:void 0,GH:void 0,UW:_})}}if(s.length)return{lH:t,zpt:{mTt:o,fH:u.fH},qpt:s,wTt:i===eg.Bk?r.slice():[],yTt:i===eg.Mk?r.slice():[],D8:!1}}}}function GH(t,i){if(!t)return i;if(!i)return t;var n,r=[],e=Ju();return jH(r,e,t.qpt),jH(r,e,i.qpt),{lH:t.lH,zpt:{mTt:t.zpt.mTt,fH:null!=(n=t.zpt.fH)?n:i.zpt.fH},qpt:r,wTt:QH(t.wTt,i.wTt,jn),yTt:QH(t.yTt,i.yTt,jn),D8:t.D8||i.D8||!1}}function jH(t,i,n){for(var r,e=Lt(n);!(r=e()).done;){var s=r.value,u=s.xS.$m,o=void 0;i.has(u)?(o=i.get(u)).OW=QH(o.OW,s.OW,YH):(o=Yu({},s),t.push(o),i.set(u,o))}}function QH(t,i,n){for(var r,e=t.slice(),s=Lt(i);!(r=s()).done;){var u=r.value;n(e,u)||e.push(u)}return e}function YH(t,i){for(var n,r=Lt(t);!(n=r()).done;){if(Ca(n.value,i))return!0}return!1}function KH(t,i,n){var r,e=t.NW;if(e){for(var s,u=t.lQ,o=[],h=Lt(t.Rrt);!(s=h()).done;){var a=s.value;o.push(u+'; codecs="'+a+'"')}r=qH(i||{},t.Km,e,o,n)}for(var c,f=Lt(t.xat);!(c=f()).done;){r=GH(r,JH(c.value,i,n))}return r}function JH(t,i,n){return qH(i||{},t.Km,t.NW||[],[t.GT],n)}function ZH(t){return t?t.qpt.map(function(i){var n=$H(t.lH,i.xS),r=t.zpt.mTt;return{xS:i.xS,OW:i.OW,GH:i.GH,Vq:[{initDataTypes:[i.xS.Jm],audioCapabilities:tW(t.wTt,r,null==n?void 0:n.audioRobustness),videoCapabilities:tW(t.yTt,r,null==n?void 0:n.videoRobustness),persistentState:null==n?void 0:n.persistentState,distinctiveIdentifier:null==n?void 0:n.distinctiveIdentifier}],UW:i.UW}}):[]}function $H(t,i){switch(i.Km){case Eo.zm:return t.widevine;case Eo.qm:return t.playready;case Eo.jm:return t.fairplay;case Eo.Gm:case Eo.Xm:return t.clearkey}}function tW(t,i,n){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:i,robustness:n}})}function iW(t,i){var n=function(t){var n=i.indexOf(t.xS.$m);return n>=0?n:i.length};return mn(t,function(t,i){return n(t)-n(i)})}U(),Et(),Ft(),U(),Et(),Wt(),Pt(),Ft(),Qt();var nW=function(t){function i(i){var n;(n=t.call(this,i)||this).Slt=[],n.kTt=void 0,n.YAt=void 0,n.er=function(){for(var t,i=[],r=Lt(n.YAt.Amt);!(t=r()).done;)for(var e,s=Lt(t.value.jlt);!(e=s()).done;){var u=e.value;if(u.Km===eg.Lk&&u.xat.length>0){var o=u.xat[0];i.push(o),n.xTt(o)||n._Tt(o),-1===n.Slt.indexOf(o)&&(n.Slt.push(o),o.wn(qO.Fot,n.kTt)),n.ITt(o)}}n.bTt(i)},n.ITt=function(t){var i=n.PTt(t);i&&t&&i.Qk!==zm.Nh&&(n.ETt(),function(t,i){var n=t.mht,r=t.Fyt();if(!r)return;var e=r.sbt,s=r.nbt,u=t.Ti,o=t.Mi,h=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(Vo(r.x8,eW)||Vo(r.x8,sW)){var e=r.XE.match(rW);if(e){var s=e[1],u=e[2];return[Number(s),Number(u)]}}}return[1,1]}(t.ywt),a=h[0],c=h[1],f=e;for(;f&&f.Put<=s.Put;){for(var v,d=t.Byt.ct||f.ct,l=Lt(uW(i,f,t.Zct(f).Yu,u,o,a,c,d));!(v=l()).done;){var w=v.value;i.nV(w)}f=n.Kct(f)}}(t,i))};var r=n;return n.kTt=function(){r.ITt(this)},n}Ct(i,t);var n=i.prototype;return n._Tt=function(t){var i=this.iV.sI(Jm.zU,t.o,"thumbnails","",!1,Ng.DEFAULT);return i.Qk=zm.Kn,this.lTt(i),i},n.Un=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.hr()];case 1:return i.sent(),this.YAt=t,this.YAt.wn(eh.qw,this.er),this.er(),[2]}})}).call(this)},n.bTt=function(t){this.ATt(t),this.STt()},n.STt=function(){for(var t,i=[],n=Lt(this.Z.NI);!(t=n()).done;){var r=t.value;this.TTt(r)||i.push(r)}for(var e,s=Lt(i);!(e=s()).done;){var u=e.value;this.it(u)}},n.ATt=function(t){for(var i,n=[],r=Lt(this.Slt);!(i=r()).done;){var e=i.value;-1===t.indexOf(e)&&n.push(e)}for(var s,u=Lt(n);!(s=u()).done;){var o=s.value;Xn(this.Slt,o)}},n.hr=function(){var i=this;return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:for(this.YAt&&(this.YAt.mn(eh.qw,this.er),this.YAt=void 0),n=Lt(this.Slt);!(r=n()).done;)r.value.mn(qO.Fot,this.kTt);for(this.Slt.length=0,e=Lt(this.Z.NI);!(s=e()).done;)u=s.value,this.iV.rV(u);return[4,t.prototype.hr.call(i)];case 1:return o.sent(),[2]}})}).call(this)},n.eV=function(t,i,n){return ly(t,i,n)},n.kn=function(){return this.kTt=void 0,t.prototype.kn.call(this)},n.ETt=function(){var t,i,n=null!=(i=null==(t=this.YAt.kyt())?void 0:t.Tn)?i:0;if(n>0)for(var r,e=Lt(this.Z.NI);!(r=e()).done;){fy(r.value,n)}},n.xTt=function(t){return this.Z.NI.some(function(i){return i.o===t.o})},n.PTt=function(t){return Fn(this.Z.NI,function(i){return i.o===t.o})},n.TTt=function(t){return this.Slt.some(function(i){return t.o===i.o})},i}(UH),rW=/^(\d+)x(\d+)$/,eW="http://dashif.org/guidelines/thumbnail_tile",sW="http://dashif.org/thumbnail_tile";function uW(t,i,n,r,e,s,u,o){var h=[],a=i.CO,c=s*u,f=r/s,v=e/u,d=b.round(f),l=b.round(v),w=o/c;if(1===c){var g=a+w;return oW(t,a,g,n)?h:[new Jg(a,g,n,!1)]}for(var _=0;_<u;_++)for(var m=0;m<s;m++){var y=a+(_*s+m)*w,p=y+w,k=n+"#xywh="+b.round(m*f)+","+b.round(_*v)+","+d+","+l;if(oW(t,y,p,k)||h.push(new Jg(y,p,k,!1)),p>=i.RO)return h}return h}function oW(t,i,n,r){return t.L.NI.some(function(t){return t.CO===i&&t.RO===n&&t.U===r})}U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et();var hW=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,u,!1)||this).CTt=void 0,o.RTt=void 0,o.NTt=void 0,o.CTt=r,o.RTt=e,o.NTt=s,o}return Ct(i,t),i.prototype.KO=function(t){return Pa(this.U,t.U)},Nt(i,[{key:"sM",get:function(){return this.CTt}},{key:"XE",get:function(){return this.RTt}},{key:"DTt",get:function(){return this.NTt}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return Mw(Wg(t),{get schemeIDURI(){return t.sM},get value(){return t.XE},get emsgID(){return t.DTt}})}(this)),this.hu}}]),i}(Jg),aW=function(t){function i(i){return t.call(this,i)||this}Ct(i,t);var n=i.prototype;return n.elt=function(t,n,r){var e=km.PD(_a(t));if(e){var s=function(t,i){for(var n,r=[],e=Lt(t);!(n=e()).done;){var s=n.value;dm(s,i)&&r.push(s)}return r}(e,hm.zR);if(s.length){var u=i.BTt(e,n,r);this.MTt(s,u,r)}}},n.MTt=function(t,i,n){for(var r,e=Lt(t);!(r=e()).done;){var s=r.value,u=void 0,o=(u=1===s.ED?s.nM.toNumber()/s.jD+n:i+s.oM/s.jD)+s.rM/s.jD;"https://aomedia.org/emsg/ID3"===s.sM||"https://developer.apple.com/streaming/emsg-id3"===s.sM?this.LTt(s,u):this.OTt(s,u,o)}},n.OTt=function(t,i,n){var r=VH(t.sM,t.XE),e=this.fTt(r);e||(e=this.FTt(r),this.lTt(e)),e.nV(new hW(i,n,t.sM,t.XE,t.o,t.hM))},n.LTt=function(t,i){var n=VD(_a(t.hM));if(n){var r=VH(t.sM,t.XE),e=this.fTt(r);e||(e=this.UTt(r),this.lTt(e));for(var s,u=Lt(n.r6);!(s=u()).done;){var o=s.value,h=new ZD(i,o);lD(h,e.L.NI),e.nV(h)}}},n.FTt=function(t){var i=this.iV.sI(Jm.zU,"","","",void 0,Ng.EMSG);return i.eC=t,i.Qk=zm.iC,i},n.UTt=function(t){var i=this.iV.sI(Jm.zU,"","","",void 0,Ng.ID3);return i.eC=t,i.Qk=zm.iC,i},n.eV=function(t,i,n){return ly(t,i,n)},n.hr=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:for(n=Lt(this.Z.NI);!(r=n()).done;)e=r.value,this.iV.rV(e);return[4,t.prototype.hr.call(i)];case 1:return s.sent(),[2]}})}).call(this)},i.BTt=function(t,i,n){var r=lm(t,hm.GR);return r?le(r.wM,r.jD)+n:i},i}(UH),cW=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).YAt=void 0,i.pTt=function(){var t,n,r=null!=(n=null==(t=i.YAt.kyt())?void 0:t.Tn)?n:0;i.jU(r)},i}Ct(i,t);var n=i.prototype;return n.Un=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.hr()];case 1:return i.sent(),this.YAt=t,this.YAt.wn(eh.qw,this.pTt),this.pTt(),[2]}})}).call(this)},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.YAt&&(this.YAt.mn(eh.qw,this.pTt),this.YAt=void 0),[4,t.prototype.hr.call(i)];case 1:return n.sent(),[2]}})}).call(this)},i}(aW);U(),Et(),U(),Et(),Wt(),Qt();var fW=function(){function t(t){this.Sut=void 0,this.VTt=!1,this.Sut=t}var i=t.prototype;return i.sdt=function(t,i){return this.VTt?this.Sut.sdt(t,i):ut.resolve(!1)},i.Aut=function(t,i){return this.VTt?this.Sut.Aut(t,i):ut.resolve(void 0)},i.hTt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.Sut.hTt(t)];case 1:return i=n.sent(),this.VTt=void 0!==i,[2,i]}})}).call(this)},i.jJ=function(t){return this.Sut.jJ(t)},t}();U(),Et(),Pt();var vW=function(t){function i(i,n,r){return t.call(this,i,n,r)||this}Ct(i,t);var n=i.prototype;return n.FL=function(){var t;return null!=(t=this.LL)?t:0},n.dC=function(){this.oa.zx=1/0},n.UL=function(t,i,n){return!1},n.VL=function(){return!0},i}(NA),dW=[eh.Qw,eh.Yw,eh.ey,eh.iy,eh.zw,eh.ly],lW=[eh.Kw,eh.wy,eh.Lw,eh.Bw],wW=function(t){function i(i,n,r,e,s,u,o){var h,a;return(h=t.call(this)||this).aV=void 0,h.Mz=void 0,h.Ndt=void 0,h.Sut=void 0,h.PL=void 0,h.Cq=void 0,h.xq=void 0,h.akt=void 0,h.bkt=void 0,h.d9=!1,h.nxt=NaN,h.nq=void 0,h.rq=void 0,h.t9=!1,h.Akt=void 0,h.Y8=void 0,h.oxt=!1,h.rxt=0,h.hxt=0,h.Mkt=!1,h.uV=new hr,h.okt=new Va,h.ixt=void 0,h.$Et=!1,h.Pyt=void 0,h.nEt=void 0,h.UEt=void 0,h.ASt=!0,h.Ckt=!0,h.xEt=void 0,h.Ho=EA.rL(),h.oq=YT.pz,h.KEt=void 0,h.FV=!0,h.Ac=void 0,h.FEt=void 0,h._mt=void 0,h.Zpt=[],h.Pz=!1,h.cq=void 0,h.ekt=new hr,h.hkt=ut.resolve(),h.T9=new hr,h.k9=ut.resolve(),h.$kt=!1,h.IEt=!1,h.skt=new hr,h.nkt=ut.resolve(),h._kt=void 0,h.fEt=void 0,h.Ikt=!1,h.tO=void 0,h.sO=void 0,h.Gl=void 0,h.wEt=void 0,h.gEt=void 0,h.Opt=void 0,h.zEt=void 0,h.GEt=void 0,h.Aq=void 0,h.axt=void 0,h.Ekt=0,h.xkt=0,h.Pkt=0,h.lq=new Tb,h.mEt=void 0,h.jTt={rO:0,hO:0,oO:0},h.aq=void 0,h.JTt=void 0,h.pq=void 0,h.JW=void 0,h.jkt=function(t){var i,n,r,e;"Rmt"===(null==t?void 0:t.type)&&(e=t.kpt),e&&(null==(i=e.plt)?void 0:i.Km)===eg.Bk&&(null==(r=h.bt)||null==(n=r.dash)?void 0:n.forceRecreateMediaSourceOnAudioSwitch)?h.ikt(!0):h.ikt()},h.Gmt=function(t){var i;null==(i=h.akt)||i.Gmt(t)},h.xmt=function(t){var i;null==(i=h.akt)||i.xmt(t)},h.Nc=function(){h.So(new bw(h.zx,h.Vx))},h.U8=function(t){h.So(new gH(h.zx,t.Jm,t.Py))},h.Wkt=function(t){h.Ekt+=t.uO,h.So(t)},h.qkt=function(t){var i=t.segments.filter(function(t){return t.Pct});t.track===eg.Bk?h.xkt=i.length:t.track===eg.Mk&&(h.Pkt=i.length)},h.B7=function(){var t=h.ct;S(t)||t===h.nxt||(h.nxt=t,h.So(new vT(h.nxt)))},h.cxt=function(){h.tkt(),h.EEt()},h.uxt=function(t){h.IEt||!h.Qx||h.xP||(h.IEt=!0,h.So(null!=t?t:new lT(h.zx)))},h.WEt=function(t){h.Rs(t),h.Mkt||(h.Mkt=!0,h.Cq.zV())},h.HEt=function(){h.Pyt.jdt.mn(eh.Ww,h.HEt),h.So(new KR)},h.Gkt=function(t){var i;if(t.errorObject.code===vd.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(i=h.akt)?void 0:i.Mmt.every(function(t){return!t.Plt})))return;h.Qq(t.errorObject),h.So(t)},h.zkt=function(t){h.Qq(t.errorObject)},h.Lmt=function(t){vr(t)||h.Qq(new ld(vd.MEDIA_DECODE_ERROR,t.message,t))},h.tkt=function(){if(!h.lP)if(h.Skt())if(h.kkt()){var t=h.Pyt.jdt.TSt;h.Oy(t,!0)}else;else{var i=h.Pyt.jdt.TSt;h.Oy(i,!0)}},h.REt=function(t){h.oxt=h.xP,h.So(t)},h.BEt=function(t){var i=h.oxt,n=h.xP;h.oxt=n,i&&!n&&h.So(t),h.uxt()},h.Xkt=function(){var t=h.MP,i=h.DP;h.rxt===t&&h.hxt===i||(h.rxt=t,h.hxt=i,h.So(new Ey))},h.yEt=function(t){var i=t.Ht;i.Qk===zm.Kn?(h.dEt(i),h.fEt=i):i===h.fEt&&i.Qk===zm.Nh&&(h.fEt=void 0,h.vEt())},h.CEt=function(){h.t9||h.xEt&&(h.xEt.Qy(),h.xEt=void 0)},h.TEt=function(t){h.t9||h.xEt&&(h.xEt.Ky(t),h.xEt=void 0)},h.qEt=function(){h.XEt().catch(h.Lmt)},h.jEt=function(){h.QEt().catch(h.Lmt),h.xq.mn(Ry.xM,h.jEt)},h.fxt=function(t){h.Qq(fg(t.lt))},h.dxt=function(){h.WTt()},h.lxt=function(){h.qTt()},h.vxt=function(t){h.GTt(t.NW)},h.aV=i,h.Sut=new fW(s),h.PL=u,h.JTt=o,h.Mz=r,h.Mz.wn("UY",h.dxt),h.Mz.wn("qY",h.lxt),h.cq=e,h.Ndt=Yu({},n.retryConfiguration,{maxRetries:null!=(a=n.retryConfiguration.maxRetries)?a:1/0}),h.tO=new $b,h.sO=new $b,h.pq=new Eb(i),h.pq.wn("contentProtectionsTracked",h.vxt),h.PL.wn(eh.Cw,h.B7),h.PL.wn(fh.Dw,h.U8),h.PL.wn(eh.Nw,h.uxt),h.PL.wn(eh.$w,h.REt),h.PL.wn(eh.Zw,h.BEt),h.PL.wn(eh.Jw,h.Xkt),h.PL.wn(eh.py,h.Nc),h.PL.wn([eh.uo,eh.jw],h.cxt),h.PL.wn(lW,h.Rs),h.PL.wn(qm.ma,h.fxt),h.PL.Rq=h.pq,h.PL.J7=h,h.PL.wn([eh.xw,eh.Ew],h.Rs),h.PL.wn(eh.Ay,h.Gmt),h.PL.wn(eh.LICENSE_REQUEST_GENERATED,h.xmt),h.Cq=new Vy(h,h.PL),h.xq=new Uy(h.Cq,!0),h.xq.wn(Ry.xM,h.tkt),h.xq.wn(Cy,h.Rs),h.wEt=new tA,h.wEt.wn(Nw.pa,h.yEt),h.gEt=new tA,h.zEt=new WH(h.PL),h.GEt=new nW(h.PL),h.Aq=new gy(h.PL,h.aV),h.axt=new Km,h.Gl=new Rb([h.wEt,h.zEt.Z,h.GEt.Z,h.Aq.Z,h.axt]),h}Ct(i,t);var n=i.prototype;return n.HTt=function(t){return!!this.aq&&this.aq.IZ(t)},n.Lp=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return i=this,[4,this.PL.Un(t)];case 1:return i.aq=n.sent(),this.WTt(),this.qTt(),this.aq.F4(this.ct),[2]}})}).call(this)},n.zTt=function(t){return this.aq.RZ(t)},n.GTt=function(t){return this.aq.NZ(t)},n.XTt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.jTt=this.QTt,this.aq?[4,this.PL.hr()]:[3,2];case 1:t.sent(),this.aq=void 0,t.label=2;case 2:return[2]}})}).call(this)},n.F3=function(){this.aq.F3()},n.I3=function(){var t=this.ct;this.aq.ct<t&&this.aq.F4(t),this.aq.I3()},n.KTt=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return i=this.aq,n=[],i.e4&&n.push(aP(i.e4,t)),i.s4&&n.push(aP(i.s4,t)),[4,ut.all(n)];case 1:return r.sent(),[2]}})}).call(this)},n.YTt=function(t,i,n,r,e,s){var u=this.PL,o=this.aq;return new rU(u,o,t,i,n,r,e,s,this.JTt,u,this.Opt,this.Ndt,this.Zpt,this.pq)},n.ZTt=function(t,i,n){return t.RZ(i,n,this.aq)},n.$Tt=function(t,i,n,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return(e=this.YTt(this.aV,this.Mz,this.Sut,this.Ac,t,r)).wn(qO.Vot,this.tkt),e.wn(eh.zw,this.Rs),[4,e.GY(i,n)];case 1:return s.sent(),[2,e]}})}).call(this)},n.ikt=function(t){void 0===t&&(t=!1),this.ekt.Zg(),this.T9.Zg(),this.skt.Zg(),this.skt=new hr,this.nkt=_r(this.rkt(this.hkt,this.k9,this.nkt,t,this.skt.Yg),this.skt).catch(this.Lmt)},n.rkt=function(t,i,n,r,e){return Vt(function(){var s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:return[4,ut.all([t,i,n])];case 1:return f.sent(),dr(e),[4,gr(this.okt.Yy,e)];case 2:return f.sent(),[4,(s=this.akt).wat()];case 3:return f.sent(),this.I3(),dr(e),u=s.Mc,o=s.Mmt,h=s.Bmt,a=this.ukt(u,h,u,o,!1),c=this.ckt(h,a),r||!this.HTt(c)?[3,5]:[4,this.dkt(h,a,c)];case 4:return f.sent(),[3,7];case 5:return a=this.ukt(u,h,u,o,!0),c=this.ckt(h,a),[4,this.lkt(h,a,c,e)];case 6:f.sent(),f.label=7;case 7:return dr(e),this.xP?this.Oy(this.zx):this.fkt(),this.vkt(),[2]}})}).call(this)},n.dkt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return r=this.akt,[4,this.zTt(n)];case 1:return e.sent(),this._kt=n,[4,this.ZTt(r,t,i)];case 2:return e.sent(),[4,r.bat(WO.Zht)];case 3:return e.sent(),[2]}})}).call(this)},n.lkt=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=this.akt,this.R9(),this.gkt(),s=this.pkt,[4,this.XTt()];case 1:return o.sent(),[4,this.Lp(n)];case 2:return o.sent(),this._kt=n,[4,this.ZTt(e,t,i)];case 3:o.sent(),o.label=4;case 4:return o.trys.push([4,,7,8]),kr(u=this.mkt(s,!1,!0,r)),[4,e.bat(WO.Zht)];case 5:return o.sent(),[4,u];case 6:return o.sent(),[3,8];case 7:return this.O9(),this.wkt(),[7];case 8:return[2]}})}).call(this)},n.Xx=function(t,i){this.Oy(t,t===1/0)},n.J8=function(){return!!this.xP&&(!(!this.akt||!this.akt.bmt)&&this.pkt===this.akt.An)},n.Skt=function(){var t,i,n=this.Tkt;if(0===n.V)return!0;var r=null!=(i=null==(t=this.ZW)?void 0:t.An)?i:this.pkt,e=n.Tn(0);return r>=e||Sn(r,e,.001)},n.kkt=function(){var t;if(!this.Pyt)return!1;if(this.Pyt.jdt.Km!==mL.SV)return!1;var i=null==(t=this.akt)?void 0:t.Mc;if(i&&i.Hot)return!0;for(var n,r=[],e=Lt(this.Pyt.jdt.Amt);!(n=e()).done;){var s=n.value,u=s.Tyt,o=s.WAt;void 0!==u&&void 0!==o&&r.push(u,o)}var h=new EA(r).VM();return function(t,i,n){if(!i.V||!n.V)return EA.rL();var r=i.Tn(0),e=i.An(i.V-1),s=t.Mn(n).OM().Mn(t).HM(i);return EA.nL(s.Tn(0),s.An(s.V-1)).WM(s).YM(function(t,i){return t<r&&i<=e&&i-t>ve})}(this.ykt,this.Tkt,h).V>0},n.Nkt=function(t){this.Ho=this.Ho.HM(t)},n.Hkt=function(t){t.wn(dW,this.Rs),t.wn(eh._y,this.Wkt),t.wn(eh.Sw,this.qkt),t.wn(qm.ma,this.zkt),t.wn(eh.Ew,this.Gkt),t.wn(eh.Yw,this.Xkt),t.wn("Rmt",this.jkt),t.wn("amt",this.jkt)},n.Qkt=function(t){t.mn(dW,this.Rs),t.mn(eh._y,this.Wkt),t.mn(eh.Sw,this.qkt),t.mn(qm.ma,this.zkt),t.mn(eh.Ew,this.Gkt),t.mn(eh.Yw,this.Xkt),t.mn("Rmt",this.jkt),t.mn("amt",this.jkt)},n.Kkt=function(t){t.wn(eh.Qw,this.Rs)},n.Ykt=function(t){t.mn(eh.Qw,this.Rs)},n.Vkt=function(){if(this.akt){var t=Fn(this.akt.Bmt,function(t){return t.iat===eg.Mk});if(t)return t.YI}},n.Lkt=function(t){var i,n=null==(i=this.Pyt)?void 0:i.jdt;if(!n)return EA.rL();var r=n.kSt,e=t?n.VAt:n.Wyt;if(void 0===r||void 0===e)return EA.rL();if(!t){var s=this.Dkt;s.V>0&&s.An(s.V-1)>e&&(e=b.min(s.An(s.V-1),n.VAt))}var u=this.ct;return isFinite(u)&&u>e&&(e=u),EA.nL(r,e).MM()},n.Un=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:dr(i),e=this.Pyt.jdt;try{n=e.ESt,r=e.TSt}catch(t){throw new y("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!n)throw new y("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===r)throw new y("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&this.Jkt(t.textTracks),this.R9(),s=this.qlt(n),u=_H(n,s,void 0,void 0,this._mt),o=this.ukt(n,u,n,u,!0),u.forEach(function(t){return t.Rt=!0}),h=this.ckt(u,o),[4,this.Lp(h)];case 1:return c.sent(),this._kt=h,dr(i),[4,this.$Tt(n,s,u,o)];case 2:return a=c.sent(),dr(i),this.Zkt(a),this.O9(),dr(i),[4,a.bat()];case 3:return c.sent(),dr(i),!this.$kt&&r>0&&this.Oy(r,!0,EH.tTt),this.Pz||(this.fkt(),this.tEt()),[2]}})}).call(this)},n.fkt=function(){this.ekt.Zg(),this.ekt=new hr,this.hkt=_r(this.iEt(this.hkt,this.nkt,this.ekt.Yg),this.ekt).catch(this.Lmt)},n.eEt=function(){this.ekt.Zg()},n.iEt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,ut.all([t,i])];case 1:s.sent(),dr(n),s.label=2;case 2:return(e=null==(r=this.akt)?void 0:r.Mc)?[4,this.sEt(e,n)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}})}).call(this)},n.sEt=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:dr(i),r=this.akt,u.label=1;case 1:if(this.Pyt.jdt.Km!==mL.SV||void 0!==(null==(n=this.FAt(t))?void 0:n.Tyt))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,gr(this.nEt.VSt,i)];case 3:return u.sent(),[3,5];case 4:if(lr(e=u.sent()),this.rEt())return[2,!0];throw e;case 5:return[4,this.hEt()];case 6:return u.sent(),[3,1];case 7:return dr(i),[4,this.hEt()];case 8:u.sent(),dr(i),u.label=9;case 9:return r.gmt()?[3,12]:[4,r.ww(yL.$lt,i)];case 10:return u.sent(),[4,this.hEt()];case 11:return u.sent(),[3,9];case 12:return dr(i),[4,this.hEt()];case 13:return u.sent(),dr(i),(s=this.FAt(t))?this.oEt(s)?[4,this.aEt(s,i)]:[3,15]:(this.F3(),[2,!1]);case 14:return u.sent(),[3,17];case 15:return[4,this.uEt(s,i)];case 16:u.sent(),u.label=17;case 17:return[2,!0]}})}).call(this)},n.rEt=function(){var t=this.ZW;return Li(t)&&t.An>this.zx},n.oEt=function(t){var i,n,r,e,s,u=null!=(s=null==(i=this.Ac)?void 0:i.seamlessSwitchStrategy)?s:LA.HL;if(u===LA.WL)return!0;if(u===LA.qL)return!1;var o=this.akt,h=null==o?void 0:o.Mc,a=null==o?void 0:o.Bmt,c=_H(t,this.qlt(t),h,a,this._mt),f=this.ukt(t,c,h,a,!1);if(u===LA.CLEAR_ONLY&&((null==(n=this.akt)?void 0:n.Wpt)||f)||u===LA.SAME_DRM_ONLY&&!((null==(r=this.akt)?void 0:r.Wpt)&&f||!(null==(e=this.akt)?void 0:e.Wpt)&&!f))return!1;var v=this.ckt(c,f);return this.HTt(v)},n.cEt=function(){return!0},n.dEt=function(t){for(var i,n=Lt(this.lEt());!(i=n()).done;){var r=i.value;r!==t&&(r.Qk=zm.Nh)}},n.vkt=function(){if(void 0!==this.fEt){if(this.fEt.nC){var t=Fn(this.ht.NI,function(t){return t.Rt});void 0!==t&&this.fEt.bs===t.bs||(this.fEt.Qk=zm.Nh)}}else this.vEt()},n.vEt=function(){if(!this.lEt().length){var t=Fn(this.ht.NI,function(t){return t.Rt});if(void 0!==t)for(var i,n=Lt(this.nt.NI.filter(function(t){return t.nC}));!(i=n()).done;){var r=i.value;if(r.bs===t.bs)return r.Qk=zm.Kn,void(this.fEt=r)}}},n.lEt=function(){return this.nt.NI.filter(function(t){return t.Qk===zm.Kn&&(t.Lt===Jm.WU||t.Lt===Jm.HU)})},n._Et=function(t){if(t&&this.fEt){var i=function(t,i){if(""!==t.bs)return i.filter(function(i){return i.bs===t.bs})[0]}(this.fEt,t.nt.NI);i&&(i.Qk=zm.Kn)}},n.aEt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:e=this.akt,s=this.bkt,u=this._kt,l.label=1;case 1:return l.trys.push([1,16,,22]),dr(i),o=e.Mc,h=e.Bmt,a=this.qlt(t),mW(e.qmt,a),c=_H(t,a,o,h,this._mt),f=this.ukt(t,c,o,h,!1),c.forEach(function(t){return t.Rt=!0}),v=this.ckt(c,f),[4,e.wat()];case 2:return l.sent(),this.I3(),dr(i),s&&s.Mc===t?this.HTt(v)?[4,this.zTt(v)]:[3,4]:[3,5];case 3:l.sent(),l.label=4;case 4:return this._kt=v,[3,11];case 5:return s?[4,s.kn(!0)]:[3,7];case 6:l.sent(),l.label=7;case 7:return this.HTt(v)?[4,this.zTt(v)]:[3,9];case 8:l.sent(),l.label=9;case 9:return this._kt=v,[4,this.$Tt(t,a,c,f)];case 10:s=l.sent(),this.bkt=s,this.Kkt(s),this.gEt.OI=s.nt,s.Aat(e),l.label=11;case 11:return[4,s.bat()];case 12:l.sent(),dr(i),l.label=13;case 13:return this.pkt<t.Tn?[4,this.PL.ww(eh.py,i)]:[3,15];case 14:return l.sent(),[3,13];case 15:return dr(i),this.Zkt(s),[3,22];case 16:return vr(d=l.sent())?s?[4,s.wat()]:[3,18]:[3,21];case 17:l.sent(),l.label=18;case 18:return u&&this._kt!==u?this.HTt(u)?[4,this.zTt(u)]:[3,20]:[3,21];case 19:l.sent(),l.label=20;case 20:this._kt=u,l.label=21;case 21:throw d;case 22:return(null==(r=this.Ac)||null==(n=r.dash)?void 0:n.forceSeekToSynchronize)?[4,this.pEt(t,i)]:[3,24];case 23:l.sent(),l.label=24;case 24:return[2]}})}).call(this)},n.pEt=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return n=Date.now()/1e3,void 0!==this.mEt?[3,1]:(this.mEt=n,[3,5]);case 1:if(!(n-this.mEt>900))return[3,5];this.mEt=n,this.gkt(),r=b.max(this.pkt,t.Tn),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,this.mkt(r,!1,!0,i)];case 3:return e.sent(),[3,5];case 4:return this.wkt(),[7];case 5:return[2]}})}).call(this)},n.uEt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v,d,l;return zt(this,function(w){switch(w.label){case 0:return dr(i),[4,this.akt.wat()];case 1:return w.sent(),this.I3(),[4,this.KTt(t.Tn)];case 2:w.sent(),dr(i),w.label=3;case 3:w.trys.push([3,7,8,9]),this.F3(),this.Ikt=!0,w.label=4;case 4:return!this.PL.Qx&&this.pkt<t.Tn?[4,this.PL.ww([eh.py,eh.Nw],i)]:[3,6];case 5:return w.sent(),[3,4];case 6:return[3,9];case 7:throw n=w.sent(),this.I3(),n;case 8:return this.Ikt=!1,[7];case 9:return dr(i),r=this.akt.Mc,e=this.akt.Bmt,s=this.qlt(t),mW(this.akt.qmt,s),u=_H(t,s,r,e,this._mt),o=this.ukt(t,u,r,e,!0),u.forEach(function(t){return t.Rt=!0}),h=this.ckt(u,o),this.akt?(this.wEt.mn(Nw.pa,this.yEt),[4,this.akt.kn()]):[3,11];case 10:w.sent(),this.wEt.wn(Nw.pa,this.yEt),this.akt=void 0,w.label=11;case 11:return this.bkt?[4,this.bkt.kn()]:[3,13];case 12:w.sent(),this.bkt=void 0,w.label=13;case 13:return this.gkt(),this.R9(),a=b.max(this.pkt,t.Tn),[4,this.XTt()];case 14:return w.sent(),[4,this.Lp(h)];case 15:return w.sent(),this._kt=h,[4,this.$Tt(t,s,u,o)];case 16:c=w.sent(),this.Zkt(c),w.label=17;case 17:w.trys.push([17,,24,25]),f={stack:[],error:void 0,hasError:!1},w.label=18;case 18:return w.trys.push([18,21,22,23]),kr(v=this.mkt(a,!1,!0,i)),[4,c.bat()];case 19:return w.sent(),d=qt(f,hr.ep([i]),!1),[4,ut.race([v,c.ww([yL.$lt],d.Yg)])];case 20:return w.sent(),[3,23];case 21:return l=w.sent(),f.error=l,f.hasError=!0,[3,23];case 22:return Gt(f),[7];case 23:return[3,25];case 24:return this.O9(),this.wkt(),[7];case 25:return[2]}})}).call(this)},n.hEt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return(t=this.bkt)?t.Mc.Hot?[4,t.kn(!0)]:[3,2]:[2];case 1:i.sent(),this.bkt=void 0,i.label=2;case 2:return[2]}})}).call(this)},n.qlt=function(t){for(var n,r=[],e=[],s=Lt(t.dmt);!(n=s()).done;){var u=n.value;if(sg(u.Km))if(0===u.xat.length)this.So(new _L("No supported representation found in the AdaptationSet with mimetype : "+u.Km));else if(u.Km===eg.Bk){var o;(o=r).push.apply(o,[].concat(u.jlt))}else{var h;(h=e).push.apply(h,[].concat(u.jlt))}}var a=[];return r.length>0&&a.push(i.bEt(eg.Bk,r)),e.length>0&&a.push(i.bEt(eg.Mk,e)),a},n.ckt=function(t,i){var n,r,e,s,u,o,h,a,c,f=this,v=t.map(function(t){var i;return LM.vdt(null!=(i=t.Alt)?i:t.xat,AA(t.iat,f._mt))}).map(function(t){return{GT:t.GT}}),d=null==(r=this.Ac)||null==(n=r.dash)?void 0:n.desiredTimescale,l=(null==(e=this.Ac)?void 0:e.seamlessSwitchStrategy)!==LA.qL&&(null==(s=this.Ac)?void 0:s.seamlessSwitchStrategy)!==LA.CLEAR_ONLY&&(null==(u=this.Ac)?void 0:u.seamlessSwitchStrategy)!==LA.SAME_DRM_ONLY&&(null!=(c=null==(h=this.Ac)||null==(o=h.dash)?void 0:o.needsTimescaleShifting)?c:Ui.Zs.kp),w=null==(a=this.Ac)?void 0:a.useManagedMediaSource;return{Km:Iy.SV,q4:v,fq:ZH(i),D8:null==i?void 0:i.D8,kp:l,M3:d,t5:w}},n.ukt=function(t,n,r,e,s){var u,o,h,a=this.Ac.contentProtection,c=i.AEt(n,a);if(void 0!==c)return c;var f=null!=(h=null==(u=this.Ac)?void 0:u.seamlessSwitchStrategy)?h:LA.HL;if(f!==LA.qL&&f!==LA.CLEAR_ONLY&&f!==LA.SAME_DRM_ONLY){var v=null==(o=this.akt)?void 0:o.Wpt;if(!s&&void 0!==v){var d=!v.D8;if(f===LA.HL&&d&&!this.cEt())return;return v}var l=!s&&f===LA.HL;if(void 0!==(c=this.SEt(t,a,r,e,l)))return c.D8=!0,c}},n.SEt=function(t,n,r,e,s){for(var u=t,o=!1;;)if(void 0!==(u=o?this.UAt(u):this.FAt(u))){var h=_H(u,this.qlt(u),r,e,this._mt),a=i.AEt(h,n);if(s){var c=this.ckt(h,a);if(!this.HTt(c))return}if(void 0!==a)return a}else{if(o)return;o=!0,u=t}},n.Jkt=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;r.src&&this.Aq.hV(r)}Sy(this.Aq.Z)},n.jP=function(){var t,i=this.lP;this.Ckt=!0,i||(this.t9||(this.TEt(new fr),this.kEt()),(null==(t=this.JW)?void 0:t.oL)&&this.JW.KP(),this.EEt())},n.QP=function(){this.xEt||(this.xEt=new Va),this.PEt();var t=this.xEt.Yy;return kr(t),t},n.PEt=function(){if(this.Ckt=!1,this.d9=!0,this.IEt=!1,this.Bkt(),this.Qx){var t=this.Tkt;t.V>0&&this.Oy(t.Tn(0))}this.t9||this.f9().then(this.CEt,this.TEt),this.tkt(),this.EEt()},n.f9=function(){return this.PL.QP()},n.kEt=function(){this.PL.jP()},n.R9=function(){this.t9||(this.Ckt=this.lP,this.t9=!0,this.kEt())},n.O9=function(){this.t9&&(this.t9=!1,this.Ckt||this.f9().then(this.CEt,this.TEt),this.tkt(),this.EEt())},n.EEt=function(){var t=this.FV,i=this.lP;t!==i&&(this.FV=i,this.Ckt=i,i?this.So(new cT(this.zx)):this.So(new fT(this.zx)))},n.Oy=function(t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=EH.$St),this.$kt=!0,this.ekt.Zg(),this.T9.Zg(),this.Pz=!0,this.Y8=t,this.IEt=this.IEt&&this.J8(),this.Nkt(this.Dkt),this.REt(new wT(this.zx)),this.T9=new hr,this.k9=_r(this.E9(t,this.hkt,this.k9,this.nkt,this.T9.Yg,i,n),this.T9).catch(this.Lmt),this.k9},n.DEt=function(){this.T9.Zg()},n.E9=function(){return Vt(function(t,i,n,r,e,s,u,o){var h,a,c,f,v,d,l,w,g,_,m,y,p,k,b,A,T,S;return zt(this,function(E){switch(E.label){case 0:void 0===s&&(s=!1),void 0===u&&(u=EH.$St),void 0===o&&(o=!1),null==(h=this.JW)||h.KP(),E.label=1;case 1:return E.trys.push([1,30,,31]),[4,ut.all([i,n,r])];case 2:return E.sent(),dr(e),[4,gr(this.okt.Yy,e)];case 3:return E.sent(),f=this.Tkt.LM(t),this.Y8=f,v=o||(null==(c=this.Ac)||null==(a=c.dash)?void 0:a.forceHardSwitchWhenSeekingBackwards)&&f<=this.zx,d=this.NEt(f),l=this.akt,v||!l||!l.kP.Cr(f)&&u!==EH.tTt&&l.Mc!==d?[3,8]:!(w=this.bkt)||w.Smt?[3,7]:[4,w.wat()];case 4:return E.sent(),this.I3(),g=this.ckt(l.Mmt,l.Wpt),this.HTt(g)?[4,this.zTt(g)]:[3,6];case 5:E.sent(),E.label=6;case 6:this._kt=g,E.label=7;case 7:return[3,27];case 8:return d?(_=this.bkt,this.R9(),l?[4,l.wat()]:[3,10]):[3,27];case 9:E.sent(),E.label=10;case 10:return!_||_.Mc!==d||v?[3,13]:(m=this.ckt(_.Mmt,_.Wpt),this.I3(),this.HTt(m)?[4,this.zTt(m)]:[3,12]);case 11:E.sent(),E.label=12;case 12:return this._kt=m,[3,25];case 13:return _?[4,_.kn(!0)]:[3,15];case 14:E.sent(),E.label=15;case 15:return y=this.qlt(d),l&&mW(l.qmt,y),p=null==l?void 0:l.Mc,k=null==l?void 0:l.Bmt,b=_H(d,y,p,k,this._mt),A=this.ukt(d,b,p,k,!1),b.forEach(function(t){return t.Rt=!0}),T=this.ckt(b,A),!this.oEt(d)||v?[3,18]:(this.I3(),this.HTt(T)?[4,this.zTt(T)]:[3,17]);case 16:E.sent(),E.label=17;case 17:return[3,23];case 18:return A=this.ukt(d,b,p,k,!0),T=this.ckt(b,A),l?(this.wEt.mn(Nw.pa,this.yEt),[4,l.kn()]):[3,20];case 19:E.sent(),this.wEt.wn(Nw.pa,this.yEt),this.akt=void 0,E.label=20;case 20:return[4,this.XTt()];case 21:return E.sent(),[4,this.Lp(T)];case 22:E.sent(),E.label=23;case 23:return this._kt=T,[4,this.$Tt(d,y,b,A)];case 24:_=E.sent(),this.bkt=_,this.gEt.OI=_.nt,this.Kkt(_),_.Aat(this.akt),E.label=25;case 25:return[4,_.bat(WO.tot)];case 26:return E.sent(),this.Zkt(_),[3,27];case 27:return kr(S=this.mkt(f,s,!1,e)),this.Y8=void 0,[4,this.akt.bat(WO.tot)];case 28:return E.sent(),dr(e),this.fkt(),[4,S];case 29:return E.sent(),dr(e),this.O9(),this.Pz=!1,this.BEt(new gT(this.zx)),this.tEt(),[3,31];case 30:return vr(E.sent())?[2]:[3,31];case 31:return[2]}})}).apply(this,arguments)},n.tEt=function(){if(!this.lP&&!this.xP&&void 0!==this.OL){var t,i,n=this.zx;if(this.zx+this.OL-this.VP.Cd.maximumOffset<n)null==(t=this.JW)||t.Tn();else null==(i=this.JW)||i.KP()}},n.mkt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:e=!0,s=t,d.label=1;case 1:0,h={stack:[],error:void 0,hasError:!1},d.label=2;case 2:if(d.trys.push([2,4,5,6]),(a=this.Okt).V>0&&(c=a.LM(t),s!==c&&(a.Cr(s)&&this.Pyt.jdt.Km===mL.SV||(s=c,e=!0))),e)e=!1,null==o||o.Zg(),(o=new hr).$g(r),kr(u=_r(this.MEt(s,i,n,o.Yg),o));else if(!this.Fkt&&!this.n5)return[3,7];return f=qt(h,hr.ep([r]),!1),[4,ut.race([u,this.ww([eh.ey,eh.iy,eh.Cw],f.Yg),this.Pyt.jdt.ww(qO.Fot,f.Yg)])];case 3:return d.sent(),[3,6];case 4:return v=d.sent(),h.error=v,h.hasError=!0,[3,6];case 5:return Gt(h),[7];case 6:return[3,1];case 7:return[2]}})}).call(this)},n.MEt=function(t,i,n,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:this.PL.Oy(t,i,n),e.label=1;case 1:return this.Fkt||this.n5?[4,this.PL.ww([eh.Zw,eh.Vw],r)]:[3,3];case 2:return e.sent(),[3,1];case 3:return[2]}})}).call(this)},n.gkt=function(){void 0===this.Akt&&(this.Akt=this.pkt,this.PL.mn(eh.$w,this.REt),this.PL.mn(eh.Zw,this.BEt))},n.wkt=function(){if(void 0!==this.Akt){var t=this.pkt;this.Akt=void 0,this.PL.wn(eh.$w,this.REt),this.PL.wn(eh.Zw,this.BEt),this.pkt!==t&&this.Nc()}},n.LEt=function(t){this.Ho=this.Ho.HM(t)},n.NEt=function(t){var i=this.Pyt.jdt,n=i.Amt.filter(function(t){return t.ct>=.2});if(0!==n.length){var r=n[0];if(t<=r.Tn)return r;for(var e,s=Lt(n);!(e=s()).done;){var u=e.value;if(u.An>t)return u}return i.Km!==mL.SV?n[n.length-1]:void 0}},n.UAt=function(t){for(var i=t.Hmt;i&&i.ct<.2;)i=i.Hmt;return i},n.FAt=function(t){for(var i=t.Wmt;i&&i.ct<.2;)i=i.Wmt;return i},n.Ta=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:r={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,8,9,10]),this.pq.BW(t.contentProtection),this.OEt(),!this.Ac||ZA(this.Ac)?[3,3]:[4,this.hr()];case 2:c.sent(),c.label=3;case 3:return!t||ZA(t)?[2]:(s=qt(r,hr.ep([n]),!1),this.uV=hr.ep([s.Yg]),this.Ac=t,this.FEt=i,this._mt=t.abr,this.Zpt=t.ignoreEmbeddedTextTrackTypes,this.UEt=new CH(this.aV,Boolean(this.Ac.useCredentials),this.Ndt),this.UEt.wn(eh.sy,this.Rs),u=OH(this.UEt,this.Sut),this.SSt(!0),this.nEt=new dH({rC:Ui.Dh(this.Ac.src),ISt:null!=(o=null==(e=this.Ac.latencyConfiguration)?void 0:e.targetOffset)?o:this.Ac.liveOffset,BSt:this.Ac.timeServer,Xk:this.Ac.useCredentials},this.VEt(this._mt),this.aV,u,this.Ac.dash),this.Pyt=this.nEt.Br,this.Pyt.jdt.wn(eh.Ww,this.HEt),this.Pyt.jdt.wn(eh.qw,this.WEt),this.Pyt.jdt.wn(zV.jAt,this.qEt),this.Pyt.jdt.wn(qO.Fot,this.tkt),this.Pyt.jdt.wn(eh.oy,this.Rs),[4,this.zEt.Un(this.Pyt.jdt)]);case 4:return c.sent(),[4,this.GEt.Un(this.Pyt.jdt)];case 5:return c.sent(),jn(this.Zpt,Ng.EMSG)?[3,7]:(this.Opt=new cW(this.PL),this.Gl.qW(this.Opt.Z),[4,this.Opt.Un(this.Pyt.jdt)]);case 6:c.sent(),c.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,this.JW=new vW(this,this.PL,h),this.JW.Rt=!0,this.cq.Ea(this.JW)),this.Bkt(),s.zg(),[3,10];case 8:return a=c.sent(),r.error=a,r.hasError=!0,[3,10];case 9:return Gt(r),[7];case 10:return[2]}})}).call(this)},n.IP=function(t,i,n,r){return ut.resolve()},n.CP=function(){return ut.resolve()},n.XEt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=this.Pyt.jdt.cP,this.SSt(t),t?(this.jkt(),this.xq.mn(Ry.xM,this.jEt),[2]):this.rEt()?(this.xq.wn(Ry.xM,this.jEt),[2]):[4,this.QEt()];case 1:return i.sent(),[2]}})}).call(this)},n.QEt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return[4,ut.all([null==(t=this.akt)?void 0:t.wat(WO.pot),null==(i=this.bkt)?void 0:i.wat(WO.pot)].filter(Li))];case 1:throw n.sent(),this.eEt(),this.DEt(),this.skt.Zg(),new y("The provided MPEG-DASH manifest could not be loaded")}})}).call(this)},n.SSt=function(t){this.ASt!==t&&(this.ASt=t,this.So(t?new LH:new FH))},n.Bkt=function(){this.Pyt&&(this.KEt=this.YEt(this.KEt,this.uV.Yg).catch(this.Lmt))},n.YEt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return t?[4,t]:[3,2];case 1:r.sent(),dr(i),r.label=2;case 2:return r.trys.push([2,7,,8]),this.wP===YT.HL||this.d9?[4,this.JEt(i)]:[3,4];case 3:return r.sent(),[3,6];case 4:return this.wP!==YT.zU?[3,6]:[4,this.ZEt(i)];case 5:return r.sent(),[3,6];case 6:return[3,8];case 7:throw lr(n=r.sent()),this.Qq(new ld(vd.MANIFEST_LOAD_ERROR,n.message,n)),n;case 8:return[2]}})}).call(this)},n.JEt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.ZEt(t)];case 1:n.sent(),this.$Et||(this.$Et=!0,this.okt.$g(this.Un(this.FEt,t))),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.okt.Yy];case 3:return n.sent(),[3,5];case 4:return lr(i=n.sent()),this.Qq(new ld(vd.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}})}).call(this)},n.ZEt=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,gr(this.nEt.W,t)];case 1:return o.sent(),i=this.Pyt.jdt,void 0===this.JW&&i.Km===mL.SV&&(n=i.pyt,r=(null==n?void 0:n.tSt)?(null==n?void 0:n.tSt)/1e3:i.xSt,e=(null==n?void 0:n.JAt)?(null==n?void 0:n.JAt)/1e3:.5*r,s=(null==n?void 0:n.$At)?(null==n?void 0:n.$At)/1e3:1.5*r,u={minimumOffset:e,maximumOffset:s,targetOffset:r,forceSeekOffset:2.5*r,minimumPlaybackRate:CA,maximumPlaybackRate:PA},this.JW=new vW(this,this.PL,u),this.cq.Ea(this.JW)),[2]}})}).call(this)},n.Zkt=function(t){var n=this.akt;t!==n&&(this.akt&&this.Qkt(this.akt),this.bkt&&this.Ykt(this.bkt),n&&this.Nkt(this.Dkt),this.akt=t,this.bkt=n,this.Hkt(this.akt),this.bkt&&this.Kkt(this.bkt),this.tO.OI=t.ht,this.sO.OI=t.rt,this._Et(t),this.wEt.mn(Nw.pa,this.yEt),i.txt(this.wEt),this.wEt.wn(Nw.pa,this.yEt),this.wEt.OI=t.nt,this.gEt.OI=void 0,this.vEt())},n.be=function(){this.PL.be()},n.we=function(){this.PL.we()},n.Qq=function(t){this.nq||(kr(this.hr()),this.nq=cg(t),this.rq=t,this.So(new yb(t)))},n.OEt=function(){this.nq=void 0,this.rq=void 0},n.WTt=function(){var t=this.aq;t&&(t.s4&&(t.s4.VY=this.Mz.YY),t.e4&&(t.e4.VY=this.Mz.YY))},n.qTt=function(){var t=this.aq;t&&(t.s4&&(t.s4.zY=this.Mz.zY),t.e4&&(t.e4.zY=this.Mz.zY))},n.determineStallJumpTarget=function(){if(this.akt)return this.akt.gmt()&&this.zx>this.akt.An-fP&&!this.akt.bmt?this.akt.An:void 0},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(this.ixt)return[2,this.ixt];t.label=1;case 1:return t.trys.push([1,,3,4]),this.ixt=this.sxt(),[4,this.ixt];case 2:return t.sent(),[3,4];case 3:return this.ixt=void 0,[7];case 4:return[2]}})}).call(this)},n.sxt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.vP=1,this.uV.Zg(),this.DEt(),this.eEt(),this.skt.Zg(),this.okt.Zg(),this.$kt=!1,this.jP(),this.d9=!1,this.IEt=!1,this.tO.OI=void 0,this.sO.OI=void 0,this.wEt.OI=void 0,this.gEt.OI=void 0,this.KEt?[4,this.KEt.catch(dn)]:[3,2];case 1:t.sent(),this.KEt=void 0,t.label=2;case 2:return[4,ut.all([this.hkt,this.k9,this.nkt,this.okt.Yy.catch(dn)])];case 3:return t.sent(),this.akt?[4,this.akt.kn(!0)]:[3,5];case 4:t.sent(),this.akt=void 0,t.label=5;case 5:return this.bkt?(this.Ykt(this.bkt),[4,this.bkt.kn(!0)]):[3,7];case 6:t.sent(),this.bkt=void 0,t.label=7;case 7:return[4,this.XTt()];case 8:return t.sent(),this._kt=void 0,this.fEt=void 0,this.xq.mn(Ry.xM,this.jEt),this.xq.hr(),[4,this.zEt.hr()];case 9:return t.sent(),[4,this.GEt.hr()];case 10:return t.sent(),void 0===this.Opt?[3,12]:(this.Gl.XW(this.Opt.Z),[4,this.Opt.kn()]);case 11:t.sent(),this.Opt=void 0,t.label=12;case 12:return this.UEt&&(this.UEt.mn(eh.sy,this.Rs),this.UEt=void 0),this.Pyt?(this.Pyt.jdt.mn(eh.Ww,this.HEt),this.Pyt.jdt.mn(eh.qw,this.WEt),this.Pyt.jdt.mn(zV.jAt,this.qEt),this.Pyt.jdt.mn(qO.Fot,this.tkt),this.Pyt.jdt.mn(eh.oy,this.Rs),[4,this.nEt.kn()]):[3,14];case 13:t.sent(),this.Pyt=void 0,t.label=14;case 14:return this.Mkt=!1,this.nxt=NaN,this.rxt=0,this.hxt=0,this.Akt=void 0,this.t9=!1,this.Ho=EA.rL(),this.FV=!0,this.Y8=void 0,this.oxt=!1,this.Pz=!1,this.$Et=!1,this.okt=new Va,this.Ekt=0,this.xkt=0,this.Pkt=0,this.Ac=void 0,this.FEt=void 0,this.Zpt=[],this.mEt=void 0,this.cq.hr(),this.JW=void 0,this.jTt={rO:0,hO:0,oO:0},[4,this.Aq.hr()];case 15:return t.sent(),this.PL.Eq(),this.axt.hr(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.OEt(),[4,this.hr()];case 1:return t.sent(),this.Vo(),this.tO.kn(),this.sO.kn(),this.wEt.kn(),this.gEt.kn(),this.Gl.kn(),this.xq.kn(),this.Cq.zg(),[4,this.zEt.kn()];case 2:return t.sent(),[4,this.GEt.kn()];case 3:return t.sent(),this.axt.kn(),this.PL.mn(eh.Cw,this.B7),this.PL.mn(fh.Dw,this.U8),this.PL.mn(eh.Nw,this.uxt),this.PL.mn(eh.$w,this.REt),this.PL.mn(eh.Zw,this.BEt),this.PL.mn(eh.Jw,this.Xkt),this.PL.mn(eh.py,this.Nc),this.PL.mn([eh.uo,eh.jw],this.cxt),this.PL.mn(lW,this.Rs),[4,this.Aq.kn()];case 4:return t.sent(),this.Gl.kn(),this.Mz.mn("UY",this.dxt),this.Mz.mn("qY",this.lxt),this.PL.mn(qm.ma,this.fxt),this.PL.mn([eh.xw,eh.Ew],this.Rs),this.PL.mn(eh.Ay,this.Gmt),this.PL.mn(eh.LICENSE_REQUEST_GENERATED,this.xmt),this.PL.Rq=void 0,this.pq.mn("contentProtectionsTracked",this.vxt),this.PL.J7=void 0,[2]}})}).call(this)},n.qP=function(){return this.PL.Ma},n.Aa=function(){return this.PL.Sq},n.YP=function(){return!1},n.JP=function(){},n.ZP=function(){},n.$P=function(){},n.tI=function(){this.ikt(!0)},n.sI=function(t){var i=this.PL.Tq(t);return this.axt.tt(i),i},i.bEt=function(t,i){for(var n,r=[],e=[],s=!i.some(function(t){return t.Glt.some(function(t){return"main"===t.XE})}),u=Lt(i);!(n=u()).done;){var o=n.value;if(-1===r.indexOf(o)){var h=gW(o.olt.concat(o.Glt),s);s=!1;for(var a,c=o.xat.map(function(t){return t.qot}),f=new vL(o,c,h),v=Lt(_W(o,i));!(a=v()).done;){var d=a.value;f.Tlt(d),r.push(d)}e.push(f)}}return new wH(t,e)},i.AEt=function(t,i){if(t.length){for(var n,r,e=Lt(t);!(r=e()).done;){var s=r.value,u=0===s.xlt.length;n=GH(n,KH(s.Zut,i,u))}return(null==i?void 0:i.preferredKeySystems)&&n&&(n.qpt=iW(n.qpt,i.preferredKeySystems)),n}},i.txt=function(t){for(var i,n=Lt(t.NI);!(i=n()).done;){i.value.Qk=zm.Nh}},Nt(i,[{key:"ht",get:function(){return this.tO}},{key:"ZW",get:function(){var t=this.pkt,i=this.ykt,n=i.zM(t);if(-1!==n)return{Tn:i.Tn(n),An:i.An(n)}}},{key:"ykt",get:function(){var t,i,n,r,e=null!=(n=null==(t=this.akt)?void 0:t.Fx)?n:EA.rL(),s=null!=(r=null==(i=this.bkt)?void 0:i.Fx)?r:EA.rL();return e.HM(s)}},{key:"Fx",get:function(){return this.ykt._s()}},{key:"Vx",get:function(){var t,i=null==(t=this.Pyt)?void 0:t.jdt,n=null==i?void 0:i.hyt;if(i&&n){var r=n.getTime(),e=1e3*this.zx;return new Date(e+r)}},set:function(t){var i,n=null==(i=this.Pyt)?void 0:i.jdt,r=null==n?void 0:n.hyt;if(t&&n&&r){var e=r.getTime()/1e3,s=t.getTime()/1e3;this.Oy(s-e)}}},{key:"bt",get:function(){return this.Ac}},{key:"pkt",get:function(){return void 0!==this.Y8?this.Y8:void 0!==this.Akt?this.Akt:this.PL.zx}},{key:"zx",get:function(){return this.pkt},set:function(t){this.Xx(t)}},{key:"ct",get:function(){var t=NaN;return this.akt&&this.akt.bmt?t=this.akt.An:this.Pyt&&void 0!==this.Pyt.jdt.Km&&(t=this.Pyt.jdt.dyt?this.Pyt.jdt.dyt.Qmt():1/0),t}},{key:"An",get:function(){return this.ct}},{key:"Qx",get:function(){return this.xP?this.J8():!(!this.akt||!this.akt.bmt)&&this.PL.Qx}},{key:"lt",get:function(){return this.nq}},{key:"Jx",get:function(){return this.rq}},{key:"$x",get:function(){}},{key:"iP",get:function(){}},{key:"rP",get:function(){return Yu({},this.QTt,{aO:bb.Bg.pW(),uO:this.Ekt,cO:{amountOfBufferedAudioSegments:this.xkt,amountOfBufferedVideoSegments:this.Pkt}})}},{key:"QTt",get:function(){return function(t,i){return{rO:t.rO+i.rO,hO:t.hO+i.hO,oO:t.oO+i.oO}}(this.jTt,this.PL.hP())}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"lP",get:function(){return this.t9||this.Ikt&&this.PL.Qx?this.Ckt:this.Rkt}},{key:"vP",get:function(){return this.PL.vP},set:function(t){this.PL.vP=t}},{key:"pP",get:function(){var t=this.Ho;return this.akt&&(t=t.HM(this.Dkt)),t.VM(.1)._s()}},{key:"Dkt",get:function(){return this.PL.pP}},{key:"wP",get:function(){return this.oq},set:function(t){this.oq=t,this.Bkt()}},{key:"AP",get:function(){var t=this.PL.AP;return this.Mkt&&(t=b.max(Dy.Qn,t)),t}},{key:"Tkt",get:function(){return this.Lkt(!1)}},{key:"Okt",get:function(){return this.Lkt(!0)}},{key:"kP",get:function(){return this.Tkt._s()}},{key:"xP",get:function(){return this.Pz||this.Fkt}},{key:"Fkt",get:function(){return this.PL.xP}},{key:"n5",get:function(){return this.PL.n5}},{key:"uq",get:function(){}},{key:"Ukt",get:function(){var t,i;return null!=(i=null==(t=this.Pyt)?void 0:t.jdt.Km)?i:mL.AV}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.sO}},{key:"DP",get:function(){var t;return UR(this.PL)&&(this.PL.DP||(null==(t=this.Vkt())?void 0:t.Mi))||0}},{key:"MP",get:function(){var t;return UR(this.PL)&&(this.PL.MP||(null==(t=this.Vkt())?void 0:t.Ti))||0}},{key:"OP",get:function(){return this.PL.OP},set:function(t){this.PL.OP=Tn(t,0,1)}},{key:"VP",get:function(){return this.cq}},{key:"WP",get:function(){return!1},set:function(t){}},{key:"dq",get:function(){return this.lq}},{key:"Rkt",get:function(){return this.PL.lP}},{key:"cP",get:function(){return this.ASt}},{key:"sP",get:function(){return!1}},{key:"OL",get:function(){var t,i=null==(t=this.Pyt)?void 0:t.jdt;if(i&&i.Km===mL.SV&&i.hyt)return i.Xdt().getTime()/1e3-i.hyt.getTime()/1e3-this.zx}}]),i}(th);function gW(t,i){var n=t.filter(function(t){return"urn:mpeg:dash:role:2011"===t.x8}).map(function(t){return t.XE}).filter(Li);return i||jn(n,"main")?jn(n,"caption")?"captions":jn(n,"subtitle")?"subtitles":jn(n,"dub")?"translation":"main":jn(n,"sign")?"sign":jn(n,"description")?"descriptions":jn(n,"commentary")?"commentary":"alternative"}function _W(t,i){for(var n,r,e,s=function(){var t=e.value,n=Number(t),r=Fn(i,function(t){return t.o===n});r&&h.push(r)},u=Fn([].concat(t.ywt,t.bwt),function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.x8}),o=null!=(r=null==u||null==(n=u.XE)?void 0:n.split(","))?r:[],h=[],a=Lt(o);!(e=a()).done;)s();return h}function mW(t,i){for(var n,r=function(){var t=function(){var t=s.value,i=t.tC;if(!i)return"continue";var n=t.xat.map(function(t){return t.o}),r=Fn(o,function(t){var i=t.xat.map(function(t){return t.o});return Kn(n,i)});if(!r)return"continue";var e=i.map(function(t){return t.o});r.tC=r.$I.NI.filter(function(t){return jn(e,t.o)})},r=n.value,e=Fn(i,function(t){return t.Km===r.Km});if(!e)return"continue";for(var s,u=r.Z,o=e.Z,h=Lt(u);!(s=h()).done;)t()},e=Lt(t);!(n=e()).done;)r()}U(),Et(),Wt(),Qt();var yW=function(){function t(t,i,n,r){this.gxt=void 0,this.pxt=void 0,this.mxt=void 0,this.wxt=void 0,this.gxt=t,this.pxt=i,this.mxt=n,this.wxt=r}var i=t.prototype;return i.hTt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.gxt._xt(t.map(PH))];case 1:return[2,i.sent().shift()]}})}).call(this)},i.sdt=function(t,i){var n=DH(t,i);return this.pxt.qy(n)},i.Aut=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return r=DH(t,i),[4,this.mxt.zy(r)];case 1:return[2,null==(n=e.sent())?void 0:n.data]}})}).call(this)},i.jJ=function(t){return this.wxt.zy(t)},t}();U(),Et(),xt(),U(),Et(),U(),Et();var pW=function(){function t(){}var i=t.prototype;return i.yxt=function(t){return ut.resolve(!1)},i.uTt=function(t){return ut.reject(kW)},i.bxt=function(t){return ut.reject(kW)},i.qy=function(t){return ut.resolve(!1)},i.zy=function(t){return ut.resolve(void 0)},i.Axt=function(t,i){return ut.resolve(void 0)},i._xt=function(t){return ut.resolve([])},i.Sxt=function(){return ut.resolve([])},i.Txt=function(t){return ut.resolve([])},i.kxt=function(t,i){return ut.resolve([])},i.pS=function(t){return ut.reject(kW)},i.Ext=function(t){return ut.reject(kW)},i.xxt=function(){return ut.reject(kW)},t}(),kW="Storage disabled",bW=function(){function t(){this.Nxt=void 0,this.bct=void 0,this.Bxt=void 0,this.Mxt=void 0,this.Lxt=void 0,this.Nxt=new pW,this.bct=new pW,this.Bxt=new pW,this.Mxt=new pW,this.Lxt=new pW}return t.prototype.Rxt=function(t){return ut.reject(AW)},t.jet=function(){return ut.resolve(new t)},t}(),AW="Storage disabled";U(),Et(),Wt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),xt(),Qt();var TW=function(){function t(t){var i=this;this.Jg=new Va,this.Ixt=void 0,this.Jg.$g(t),this.Jg.Yy.then(function(t){i.Ixt=t})}var i=t.prototype;return i.yxt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i.yxt(t)]}})}).call(this)},i.uTt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return(n=this.Ixt)?[3,2]:[4,this.Pxt];case 1:n=r.sent(),r.label=2;case 2:return[2,n.uTt(t,i)]}})}).call(this)},i.bxt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return(n=this.Ixt)?[3,2]:[4,this.Pxt];case 1:n=r.sent(),r.label=2;case 2:return[2,n.bxt(t,i)]}})}).call(this)},i.qy=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i.qy(t)]}})}).call(this)},i.zy=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i.zy(t)]}})}).call(this)},i.Axt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return(n=this.Ixt)?[3,2]:[4,this.Pxt];case 1:n=r.sent(),r.label=2;case 2:return[2,n.Axt(t,i)]}})}).call(this)},i._xt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i._xt(t)]}})}).call(this)},i.Sxt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return(t=this.Ixt)?[3,2]:[4,this.Pxt];case 1:t=i.sent(),i.label=2;case 2:return[2,t.Sxt()]}})}).call(this)},i.Txt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i.Txt(t)]}})}).call(this)},i.kxt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return(n=this.Ixt)?[3,2]:[4,this.Pxt];case 1:n=r.sent(),r.label=2;case 2:return[2,n.kxt(t,i)]}})}).call(this)},i.pS=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i.pS(t)]}})}).call(this)},i.Ext=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Ixt)?[3,2]:[4,this.Pxt];case 1:i=n.sent(),n.label=2;case 2:return[2,i.Ext(t)]}})}).call(this)},i.xxt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return(t=this.Ixt)?[3,2]:[4,this.Pxt];case 1:t=i.sent(),i.label=2;case 2:return[2,t.xxt()]}})}).call(this)},Nt(t,[{key:"Pxt",get:function(){return this.Jg.Yy}}]),t}(),SW=function(){function t(t){var i=this;this.Jg=new Va,this.Dxt=void 0,this.bct=void 0,this.Nxt=void 0,this.Bxt=void 0,this.Mxt=void 0,this.Lxt=void 0,this.Jg.$g(t);var n=this.Jg.Yy;n.then(function(t){i.Dxt=t}),this.bct=new TW(n.then(function(t){return t.bct})),this.Nxt=new TW(n.then(function(t){return t.Nxt})),this.Bxt=new TW(n.then(function(t){return t.Bxt})),this.Mxt=new TW(n.then(function(t){return t.Mxt})),this.Lxt=new TW(n.then(function(t){return t.Lxt}))}return t.prototype.Rxt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return(i=this.Dxt)?[3,2]:[4,this.Cxt];case 1:i=n.sent(),n.label=2;case 2:return[4,i.Rxt(t)];case 3:return[2,n.sent()]}})}).call(this)},Nt(t,[{key:"Cxt",get:function(){return this.Jg.Yy}}]),t}();function EW(t){return new y("This storage cannot handle persistency type "+t)}U(),Et(),U(),Et(),Ft(),U(),Et();var IW=function(t){return t.Oxt="readonly",t.Fxt="readwrite",t}({}),RW=function(){function t(){this.Lb=[]}var i=t.prototype;return i.yxt=function(t){return ut.resolve("temporary"===t)},i.uTt=function(t,i){return void 0===i&&(i="temporary"),"temporary"!==i?ut.reject(EW(i)):(this.Uxt(t.key),this.Lb.push(t),ut.resolve())},i.bxt=function(t,i){if(void 0===i&&(i="temporary"),"temporary"!==i)return ut.reject(EW(i));for(var n,r=Lt(t);!(n=r()).done;){var e=n.value;this.Uxt(e.key)}for(var s,u=Lt(t);!(s=u()).done;){var o=s.value;this.Lb.push(o)}return ut.resolve()},i.qy=function(t){return ut.resolve(Boolean(this.Vxt(t)))},i.zy=function(t){return ut.resolve(this.Vxt(t))},i.Axt=function(t,i){return ut.resolve(this.Hxt(t,i))},i._xt=function(t){var i=this,n=t?t.map(function(t){return i.Vxt(t)}):this.Lb;return ut.resolve(n.filter(Li))},i.Sxt=function(){return ut.resolve([].concat(this.Lb))},i.Txt=function(t){return this.kxt(t,"key")},i.kxt=function(t,i){var n=this.Lb.filter(function(n){return n[i]===t});return ut.resolve(n)},i.pS=function(t){return this.Uxt(t),ut.resolve()},i.Ext=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;this.Uxt(r)}return ut.resolve()},i.xxt=function(){return Yn(this.Lb),ut.resolve()},i.Vxt=function(t){return this.Hxt(t,"key")},i.Hxt=function(t,i){for(var n,r=Lt(this.Lb);!(n=r()).done;){var e=n.value;if(e[i]===t)return e}},i.Uxt=function(t){var i=this.Vxt(t);i&&Xn(this.Lb,i)},t}(),CW=function(){function t(){this.Nxt=void 0,this.bct=void 0,this.Bxt=void 0,this.Mxt=void 0,this.Lxt=void 0,this.Nxt=new RW,this.bct=new RW,this.Bxt=new RW,this.Mxt=new RW,this.Lxt=new RW}return t.prototype.Rxt=function(t){return t(this)},t.jet=function(){return ut.resolve(new t)},t}();U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),Ft(),Qt();var PW=function(){function t(t){this.Wxt=void 0,this.Wxt=t}var i=t.prototype;return i.yxt=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:i=Lt(this.Wxt),r.label=1;case 1:return(n=i()).done?[3,4]:[4,n.value.yxt(t)];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return[3,1];case 4:return[2,!1]}})}).call(this)},i.uTt=function(t,i){return void 0===i&&(i="persistent"),Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=Lt(this.Wxt),s.label=1;case 1:return(r=n()).done?[3,4]:[4,(e=r.value).yxt(i)];case 2:if(s.sent())return[2,e.uTt(t)];s.label=3;case 3:return[3,1];case 4:throw EW(i)}})}).call(this)},i.bxt=function(t,i){return void 0===i&&(i="persistent"),Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=Lt(this.Wxt),s.label=1;case 1:return(r=n()).done?[3,4]:[4,(e=r.value).yxt(i)];case 2:if(s.sent())return[2,e.bxt(t)];s.label=3;case 3:return[3,1];case 4:throw EW(i)}})}).call(this)},i.qy=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:i=Lt(this.Wxt),r.label=1;case 1:return(n=i()).done?[3,4]:[4,n.value.qy(t)];case 2:if(r.sent())return[2,!0];r.label=3;case 3:return[3,1];case 4:return[2,!1]}})}).call(this)},i.zy=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:i=Lt(this.Wxt),e.label=1;case 1:return(n=i()).done?[3,4]:[4,n.value.zy(t)];case 2:if(r=e.sent())return[2,r];e.label=3;case 3:return[3,1];case 4:return[2,void 0]}})}).call(this)},i.Axt=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=Lt(this.Wxt),s.label=1;case 1:return(r=n()).done?[3,4]:[4,r.value.Axt(t,i)];case 2:if(e=s.sent())return[2,e];s.label=3;case 3:return[3,1];case 4:return[2,void 0]}})}).call(this)},i._xt=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:i=[],n=Lt(this.Wxt),f.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,o=(u=(s=i).push).apply,h=[s],c=(a=[]).concat,[4,e._xt(t)]);case 2:o.apply(u,h.concat([c.apply(a,[f.sent()])])),f.label=3;case 3:return[3,1];case 4:return[2,i]}})}).call(this)},i.Sxt=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:t=[],i=Lt(this.Wxt),c.label=1;case 1:return(n=i()).done?[3,4]:(r=n.value,u=(s=(e=t).push).apply,o=[e],a=(h=[]).concat,[4,r.Sxt()]);case 2:u.apply(s,o.concat([a.apply(h,[c.sent()])])),c.label=3;case 3:return[3,1];case 4:return[2,t]}})}).call(this)},i.Txt=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:i=[],n=Lt(this.Wxt),f.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,o=(u=(s=i).push).apply,h=[s],c=(a=[]).concat,[4,e.Txt(t)]);case 2:o.apply(u,h.concat([c.apply(a,[f.sent()])])),f.label=3;case 3:return[3,1];case 4:return[2,i]}})}).call(this)},i.kxt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:n=[],r=Lt(this.Wxt),v.label=1;case 1:return(e=r()).done?[3,4]:(s=e.value,h=(o=(u=n).push).apply,a=[u],f=(c=[]).concat,[4,s.kxt(t,i)]);case 2:h.apply(o,a.concat([f.apply(c,[v.sent()])])),v.label=3;case 3:return[3,1];case 4:return[2,n]}})}).call(this)},i.pS=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:i=Lt(this.Wxt),r.label=1;case 1:return(n=i()).done?[3,4]:[4,n.value.pS(t)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},i.Ext=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:i=Lt(this.Wxt),r.label=1;case 1:return(n=i()).done?[3,4]:[4,n.value.Ext(t)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},i.xxt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:t=Lt(this.Wxt),n.label=1;case 1:return(i=t()).done?[3,4]:[4,i.value.xxt()];case 2:n.sent(),n.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},t}();function DW(t){return function(){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,ut.all(t.map(function(t){return t()}))];case 1:return i=n.sent(),[2,NW.jet(i)]}})})()}}var NW=function(){function t(t){this.Qxt=void 0,this.qxt=void 0,this.zxt=void 0,this.Gxt=void 0,this.Xxt=void 0,this.jxt=void 0,this.Qxt=t,this.qxt=new PW(t.map(function(t){return t.Mxt})),this.zxt=new PW(t.map(function(t){return t.Lxt})),this.Gxt=new PW(t.map(function(t){return t.Bxt})),this.Xxt=new PW(t.map(function(t){return t.Nxt})),this.jxt=new PW(t.map(function(t){return t.bct}))}return t.prototype.Rxt=function(i){var n=this;if(0===this.Qxt.length)return i(this);var r=[],e=0,s=function(u){return r.push(u),++e<n.Qxt.length?n.Qxt[e].Rxt(s):i(new t(r))};return this.Qxt[e].Rxt(s)},t.jet=function(i){return ut.resolve(new t(i))},Nt(t,[{key:"Mxt",get:function(){return this.qxt}},{key:"Lxt",get:function(){return this.zxt}},{key:"Bxt",get:function(){return this.Gxt}},{key:"Nxt",get:function(){return this.Xxt}},{key:"bct",get:function(){return this.jxt}}]),t}(),xW=function(){function t(t){this.Zxt=void 0,this.Jxt=[],this.Yxt=!0,this.Zxt=t}var i=t.prototype;return i.jet=function(){return new SW(this.Kxt())},i.Kxt=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:return this.Yxt?[4,ut.resolve()]:[3,2];case 1:r.sent(),this.Yxt=!1,r.label=2;case 2:t=Lt(this.Jxt),r.label=3;case 3:if((i=t()).done)return[3,8];n=i.value,r.label=4;case 4:return r.trys.push([4,6,,7]),[4,DW([CW.jet,n])()];case 5:return[2,r.sent()];case 6:return r.sent(),[3,7];case 7:return[3,3];case 8:return[4,DW([CW.jet,this.Zxt])()];case 9:return[2,r.sent()]}})}).call(this)},i.Ba=function(t){if(!this.Yxt)throw new y("Registration overdue");this.Jxt.push(t)},t}(),BW=function(){function t(){}return t.Ba=function(i){t.MW.Ba(i)},Nt(t,null,[{key:"Bg",get:function(){var i,n;return null!=(n=(i=t).Rbt)?n:i.Rbt=t.MW.jet()}}]),t}();BW.MW=new xW(bW.jet),BW.Rbt=void 0;var OW=function(t){function i(i,n,r,e,s,u){var o,h=new yW(BW.Bg.Bxt,BW.Bg.Nxt,BW.Bg.bct,BW.Bg.Lxt);return(o=t.call(this,i,n,r,e,h,s,new _O(u))||this).Drt=void 0,o.$xt=void 0,o.Drt=u,Bi.X_&&(o.$xt=new BO(o)),o}Ct(i,t);var n=i.prototype;return n.zP=function(){if(wO(this.PL))return this.PL.zP()},n.kn=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return r.sent(),null==(n=this.$xt)||n.kn(),[2]}})}).call(this)},n.oEt=function(i){var n,r;return((null!=(r=null==(n=this.Ac)?void 0:n.seamlessSwitchStrategy)?r:LA.HL)!==LA.HL||!Bi.gg)&&t.prototype.oEt.call(this,i)},n.cEt=function(){return!(Bi.w_&&Bi.b_<3)&&t.prototype.cEt.call(this)},n.VEt=function(t){return gO(t)},i}(wW),MW=function(t){function i(i,n,r,e,s,u,o){var h,a=new xO(s),c=a.Yq(u);return(h=t.call(this,i,n,r,e,c,o)||this).Nq=void 0,h.Nq=a,h}return Ct(i,t),i.prototype.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),[4,this.Nq.Dq(this.PL)];case 2:return n.sent(),[2]}})}).call(this)},i}(OW);function LW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var FW=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).wE=void 0,r.wE=i,r}Ct(i,t);var n=i.prototype;return n.Ux=function(){return t.prototype.Ux.call(this).Ly(this.tPt)},n.qrt=function(){return t.prototype.qrt.call(this).Ly(this.tPt)},n.Q2=function(i,n,r){var e=this.tPt;return t.prototype.Q2.call(this,i,{Get:n.Get-e,ct:n.ct,EU:n.EU-e},r)},n.f3=function(i,n){var r=this.tPt;return t.prototype.f3.call(this,b.max(0,i-r),b.max(0,n-r))},n.pS=function(i,n,r){var e=this.tPt;return t.prototype.pS.call(this,b.max(0,i-e),b.max(0,n-e),r)},n.G3=function(i,n){var r=this.tPt;t.prototype.G3.call(this,b.max(0,i-r),b.max(0,n-r))},n.X3=function(i,n){var r=this.tPt;t.prototype.X3.call(this,b.max(0,i-r),b.max(0,n-r))},Nt(i,[{key:"tPt",get:function(){return this.wE.tPt}}]),i}(AO),UW=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).wE=void 0,r.Brt(n),r.wE=i,r}Ct(i,t);var n=i.prototype;return n.Nd=function(){return t.prototype.Nd.call(this)+this.tPt},n.F4=function(i){t.prototype.F4.call(this,i-this.tPt)},n.EP=function(){return t.prototype.EP.call(this).Ly(this.tPt)},n.W4=function(i,n,r,e){var s=this.tPt;t.prototype.W4.call(this,i-s,n-s,r,e)},n.Lrt=function(t){return new FW(this,t)},Nt(i,[{key:"tPt",get:function(){return this.wE.tPt}}]),i}(kO);U(),Et(),Pt(),U(),Et(),xt(),Ft();var VW=function(){function t(){this.Gl=new Km}var i=t.prototype;return i.sI=function(t,i,n,r,e,s,u,o){var h=new KP(t,i,n,r,e,s,u,void 0,o);return this.Gl.tt(h),h},i.Tq=function(t){var i=new gN(t.Lt,t.Th,t.bs);return this.Gl.tt(i),i},i.rV=function(t){this.Gl.it(t)},i.hr=function(){this.Gl.hr()},i.kn=function(){for(var t,i=Lt(this.Gl.NI.slice());!(t=i()).done;){t.value.kn()}this.Gl.kn()},Nt(t,[{key:"nt",get:function(){return this.Gl}}]),t}(),HW=function(t){function i(i,n){var r;return(r=t.call(this)||this).J9=void 0,r.J9=new QD(i,n),r}Ct(i,t);var n=i.prototype;return n.sI=function(i,n,r,e,s,u,o,h){var a=t.prototype.sI.call(this,i,n,r,e,s,u,o,h);return this.J9.tt(a),a},n.rV=function(i){t.prototype.rV.call(this,i),this.J9.it(i),i.kn()},n.Tq=function(i){var n=t.prototype.Tq.call(this,i);return this.J9.tt(n),n},n.hr=function(){t.prototype.hr.call(this),this.J9.hr()},n.kn=function(){t.prototype.kn.call(this),this.J9.kn()},i}(VW),WW=function(t){function i(i){var n;return(n=t.call(this,i)||this).iPt=0,n.Gl=void 0,n.iV=void 0,n.bet=void 0,n.Aet=void 0,n.iV=new HW(n,new YD),n.Gl=new Rb([n.iV.nt,t.prototype.RP.call(LW(n))]),n.bet=new xN,n.bet.Y7(n.hq.parentElement),n.Aet=new Qx(n.bet.xe,n.Wu,n.Gl,n.Ql,n.Ma,n.Sq),n}Ct(i,t);var n=i.prototype;return n.Ux=function(){return t.prototype.Ux.call(this).Ly(this.iPt)},n.Hx=function(){return qW(t.prototype.Hx.call(this),this.iPt)},n.Gx=function(){return t.prototype.Gx.call(this)+this.iPt},n.Nd=function(){return t.prototype.Nd.call(this)+this.iPt},n.mP=function(){return t.prototype.mP.call(this).Ly(this.iPt)},n.EP=function(){return t.prototype.EP.call(this).Ly(this.iPt)},n.Oy=function(i,n,r){var e=b.max(0,i-this.iPt);t.prototype.Oy.call(this,e,n,r)},n.$W=function(i){t.prototype.$W.call(this,qW(i,-this.iPt))},n.RP=function(){return this.Gl},n.sI=function(t,i,n,r,e,s,u,o){return this.iV.sI(t,i,n,r,e,s,u,o)},n.Tq=function(t){return this.iV.Tq(t)},n.rV=function(t){this.iV.rV(t)},n.Eq=function(){this.iV.hr(),t.prototype.Eq.call(this)},n.wq=function(){return!1},n.bq=function(t,i,n,r,e){throw new y("Not supported")},n.zg=function(){return this.Aet.kn(),this.bet.kn(),this.iV.kn(),this.Gl.kn(),t.prototype.zg.call(this)},n.cht=function(t){return new UW(this,t)},n.uht=function(t){return new EO(t)},n.iI=function(i){var n;switch(i.type){case eh.uo:n=new fT(i.currentTime+this.iPt);break;case eh.jw:n=new cT(i.currentTime+this.iPt);break;case Ry.PM:n=new Ly(i.currentTime+this.iPt);break;case eh.py:n=new bw(i.currentTime+this.iPt,qW(i.currentProgramDateTime,this.iPt));break;case eh.Qw:n=new YR(i.currentTime+this.iPt);break;case eh.$w:n=new wT(i.currentTime+this.iPt);break;case eh.Zw:n=new gT(i.currentTime+this.iPt);break;case eh.Fw:n=new pP(i.currentTime+this.iPt);break;case eh.Vw:n=new lN(i.currentTime+this.iPt);break;case eh.Nw:n=new lT(i.currentTime+this.iPt);break;case eh.Kw:n=new dT(i.currentTime+this.iPt,i.playbackRate);break;case eh.wy:n=new _T(i.currentTime+this.iPt,i.volume);break;case eh.Cw:n=new vT(i.duration+this.iPt);break;case Ry.AI:n=new Py(i.currentTime+this.iPt,i.readyState);break;default:n=i}t.prototype.iI.call(this,n)},n.we=function(){t.prototype.we.call(this),this.bet.we()},n.be=function(){t.prototype.be.call(this),this.bet.be()},Nt(i,[{key:"tPt",get:function(){return this.iPt},set:function(t){this.iPt=t}}]),i}(CO),zW=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(yO(WW)),XW=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(IO(WW));function qW(t,i){return t?new Date(t.getTime()+1e3*i):void 0}var GW=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Yq=function(i){return i===eg.Mk?new XW(t.prototype.Yq.call(this,i)):i===eg.Bk?new zW(t.prototype.Yq.call(this,i)):void 0},n.Dq=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,(r=i).zg()];case 1:return e.sent(),[4,t.prototype.Dq.call(n,r.Zrt)];case 2:return e.sent(),[2]}})})()},i}(mO),jW=function(t){function i(i,n,r,e,s,u,o){var h,a=new GW(new xO(s)),c=a.Yq(u);return(h=t.call(this,i,n,r,e,c,o)||this).Nq=void 0,h.ePt=void 0,h.Nq=a,h.ePt=void 0,h}Ct(i,t);var n=i.prototype;return n.Lp=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.Lp.call(n,i)];case 1:return r.sent(),void 0===this.ePt&&(this.ePt=this.sPt(),this.PL.tPt=this.ePt),[2]}})}).call(this)},n.sPt=function(){if(this.ct===1/0){var t=this.Tkt;if(t.V>0)return b.max(0,t.Tn(0)-300)}return 0},n.E9=function(i,n,r,e,s,u,o,h){return void 0===u&&(u=!1),void 0===o&&(o=EH.$St),void 0===h&&(h=!1),h||(h=this.ct===1/0&&Bi.w_&&Bi.b_<3&&i<=this.zx),t.prototype.E9.call(this,i,n,r,e,s,u,o,h)},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),this.ePt=void 0,this.PL.tPt=0,[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),[4,this.PL.zg()];case 2:return n.sent(),[4,this.Nq.Dq(this.PL)];case 3:return n.sent(),[2]}})}).call(this)},i.US=function(t){var i;return(!t||"google-dai"!==(null==t||null==(i=t.ssai)?void 0:i.integration))&&(Bi.w_&&Bi.b_<4)},i}(OW);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),H(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),xt(),Pt();var QW=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),Nt(i,[{key:"Zrt",get:function(){return this.PL}},{key:"DP",get:function(){return this.PL.DP}},{key:"MP",get:function(){return this.PL.MP}}]),i}(RO);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Ft(),Qt();var YW=function(t){function i(i){var n;return(n=t.call(this,i)||this).C3=void 0,n.nPt=void 0,n.ZY=0,n.rPt=EA.rL(),n.ZS=void 0,n.hPt=EA.rL(),n.cPt=[],n.yPt=!1,n.KY=0,n.ZS=i.Cd,n}Ct(i,t);var n=i.prototype;return n.Vrt=function(){return this.nPt?this.ZY:t.prototype.Vrt.call(this)},n.Hrt=function(i){this.nPt?this.ZY=i:t.prototype.Hrt.call(this,i)},n.Ux=function(){return this.nPt?this.rPt:t.prototype.Ux.call(this)},n.NS=function(){return this.nPt?this.ZS:t.prototype.NS.call(this)},n.qrt=function(){return this.nPt?this.hPt:t.prototype.qrt.call(this)},n.zrt=function(){return this.nPt?this.KY:t.prototype.zrt.call(this)},n.Grt=function(i){this.nPt?this.KY=i:t.prototype.Grt.call(this,i)},n.Q2=function(t,i,n){var r=this;return this.K2(function(n){return r.oPt(t,i,n)},n)},n.oPt=function(i,n,r){return t.prototype.Q2.call(this,i,n,r)},n.j3=function(){var t=this;return this.K2(function(){return t.aPt()})},n.aPt=function(){return t.prototype.j3.call(this)},n.J2=function(t,i,n){var r=this;return this.K2(function(n){return r.uPt(t,i,n)},n)},n.uPt=function(i,n,r){return t.prototype.J2.call(this,i,n,r)},n.G3=function(t,i){this.nPt?(this.hPt=this.hPt.HM(new EA([t,i])),this.cPt.push({Km:"_ct",CO:t,RO:i})):this.dPt(t,i)},n.dPt=function(i,n){t.prototype.G3.call(this,i,n)},n.f3=function(t,i){var n=this;return this.K2(function(){return n.lPt(t,i)})},n.lPt=function(i,n){return t.prototype.f3.call(this,i,n)},n.X3=function(t,i){this.nPt?(this.hPt=this.hPt.qM(new EA([t,i])),this.cPt.push({Km:"pS",CO:t,RO:i})):this.fPt(t,i)},n.fPt=function(i,n){t.prototype.X3.call(this,i,n)},n.pS=function(t,i,n){var r=this;return this.K2(function(n){return r.vPt(t,i,n)},n)},n.vPt=function(i,n,r){return t.prototype.pS.call(this,i,n,r)},n.RZ=function(t){var i=this;return this.K2(function(){return i._Pt(t)})},n._Pt=function(i){return t.prototype.RZ.call(this,i)},n.K2=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:this.A3(),n.label=1;case 1:return this.nPt?[4,gr(this.nPt.Yy,i)]:[3,3];case 2:return n.sent(),this.A3(),[3,1];case 3:dr(i),n.label=4;case 4:return n.trys.push([4,,6,7]),this.C3=t(i),[4,this.C3];case 5:return n.sent(),[3,7];case 6:return this.C3=void 0,[7];case 7:return[2]}})}).call(this)},n.A3=function(){if(this.C3)throw new y("Internal error")},n.gPt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(this.nPt)throw new p("Already locked");return this.nPt=new Va,this.pPt(),this.C3?[4,this.C3.catch(dn)]:[3,2];case 1:t.sent(),this.pPt(),t.label=2;case 2:return[2]}})}).call(this)},n.mPt=function(){var t=this.nPt;void 0!==t&&(t.Qy(),this.nPt=void 0,this.wPt())},n.pPt=function(){this.ZS=t.prototype.NS.call(this),this.ZY=t.prototype.Vrt.call(this),this.KY=t.prototype.zrt.call(this),this.rPt=t.prototype.Ux.call(this),this.hPt=t.prototype.qrt.call(this),this.yPt=!1},n.wPt=function(){this.A3(),t.prototype.Hrt.call(this,this.ZY),t.prototype.Grt.call(this,this.KY);var i=this.cPt.slice();Yn(this.cPt);for(var n,r=Lt(i);!(n=r()).done;){var e=n.value;"_ct"===e.Km?this.dPt(e.CO,e.RO):this.fPt(e.CO,e.RO)}this.rPt.KM(t.prototype.Ux.call(this))||this.So(new rh(HR.pZ))},n.zg=function(){var i;null==(i=this.nPt)||i.Zg(),this.nPt=void 0,t.prototype.zg.call(this)},i}(AO),KW=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).wE=void 0,r.bPt=void 0,r.wE=i,r}Ct(i,t);var n=i.prototype;return n.Ux=function(){var i,n;return t.prototype.Ux.call(this).HM(null!=(n=null==(i=this.bPt)?void 0:i.Fx)?n:EA.rL())},n.qrt=function(){var i,n;return t.prototype.qrt.call(this).HM(null!=(n=null==(i=this.bPt)?void 0:i.W3)?n:EA.rL())},n.Hrt=function(i){t.prototype.Hrt.call(this,i),this.bPt&&(this.bPt.zY=i)},n.Grt=function(i){t.prototype.Grt.call(this,i),this.bPt&&(this.bPt.VY=i)},n.dPt=function(i,n){t.prototype.dPt.call(this,i,n),this.bPt&&this.bPt.G3(i,n)},n.fPt=function(i,n){t.prototype.fPt.call(this,i,n),this.bPt&&this.bPt.X3(i,n)},n.vPt=function(i,n,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return dr(r),(s=[]).push(t.prototype.vPt.call(e,i,n,r)),this.bPt&&s.push(this.bPt.pS(i,n,r)),[4,ut.all(s)];case 1:return u.sent(),[2]}})}).call(this)},n.IZ=function(i){return!!t.prototype.IZ.call(this,i)||this.wE.APt(i)},n._Pt=function(i){return t.prototype.IZ.call(this,i)?t.prototype._Pt.call(this,i):this.wE.SPt(i)},n.TPt=function(t){var i,n;null==(i=this.bPt)||i.mn(WR,this.Xrt),this.bPt=t,null==(n=this.bPt)||n.wn(WR,this.Xrt)},i}(YW),JW=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).wE=void 0,r.kPt=void 0,r.Zb=NaN,r.RPt=!1,r.DPt=!1,r.NPt=void 0,r.Brt(n),r.wE=i,r}Ct(i,t);var n=i.prototype;return n.IZ=function(i){return!!yN(this,i)&&(!!t.prototype.IZ.call(this,i)||(!(!this.kPt||!this.kPt.IZ(i))||this.wE.EPt(i)))},n.RZ=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return t.prototype.IZ.call(n,i)?[4,t.prototype.RZ.call(n,i)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return this.kPt&&this.kPt.IZ(i)?(this.xPt(),[4,this.RZ(i)]):[3,4];case 4:return[4,this.wE.PPt(i)];case 5:return r.sent(),[4,this.RZ(i)];case 7:return[2]}})}).call(this)},n.APt=function(t){return this.IZ(this.IPt(t))},n.SPt=function(t){return this.RZ(this.IPt(t))},n.IPt=function(t){var i=this.Cd,n=i.q4.map(function(i){return Wv(t.GT)&&Wv(i.GT)||zv(t.GT)&&zv(i.GT)?t:i});return Yu({},i,{q4:n})},n.W4=function(i,n,r,e){t.prototype.W4.call(this,i,n,r,e),this.kPt&&this.kPt.W4(i,n,r,e)},n.CPt=function(){return!this.RPt&&this.DPt},n.Nd=function(){return void 0!==this.NPt?this.NPt:this.CPt()?this.Zb:t.prototype.Nd.call(this)},n.F4=function(i){this.Zb=i,this.NPt=void 0,this.CPt()||t.prototype.F4.call(this,i)},n.Nrt=function(){return!this.CPt()&&t.prototype.Nrt.call(this)},n.F3=function(){this.NPt=b.max(ZW(this.aq.e4),ZW(this.aq.s4)),this.CPt()||t.prototype.F3.call(this)},n.I3=function(){this.NPt=void 0,this.CPt()||t.prototype.I3.call(this)},n.Lrt=function(t){return new KW(this,t)},n.BPt=function(){this.RPt=!this.RPt},n.xPt=function(){var t=this.aq,i=this.kPt;i&&(this.RPt=!this.RPt,this.Brt(i),this.MPt(t),this.CPt()&&this.LPt())},n.MPt=function(t){var i,n;this.kPt=t,null==(i=this.B4)||i.TPt(null==t?void 0:t.e4),null==(n=this.M4)||n.TPt(null==t?void 0:t.s4)},n.OPt=function(t){var i=this.aq,n=this.kPt;if(n){var r=this.RPt,e=r?i:n,s=(r?n:i).Fx.iL(t);if(s){var u=XO(e.Fx,this.qrt()).iL(s.An(0),ve);if(u&&!(s.An(0)+ve>=u.An(0)))return b.max(s.An(0),u.Tn(0))}}},n.FPt=function(t,i){var n=this;if(this.DPt)return ut.resolve();var r=this.RPt?this.kPt:this.aq;return r?(this.DPt=!0,this.UPt(function(i){if(dr(i),n.DPt)return function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return dr(n),r=[],t.e4&&r.push(aP(t.e4,i,n)),t.s4&&r.push(aP(t.s4,i,n)),[4,ut.all(r)];case 1:return e.sent(),t.F3(),[2]}})})()}(r,t,i)},i)):ut.resolve()},n.LPt=function(){if(this.DPt){var t=this.RPt?this.kPt:this.aq;if(t){var i;0,this.DPt=!1;var n=null!=(i=this.NPt)?i:this.Zb;t.ct<n&&t.F4(n),t.I3()}}},n.VPt=function(t){var i,n=null!=(i=this.NPt)?i:this.Zb;t.F4(n),this.RPt?this.Brt(t):this.MPt(t)},n.qrt=function(){var t,i,n,r,e=null!=(n=null==(t=this.B4)?void 0:t.W3)?n:EA.rL(),s=null!=(r=null==(i=this.M4)?void 0:i.W3)?r:EA.rL();return e.HM(s)},n.UPt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:n=[],this.B4&&n.push(this.B4.gPt()),this.M4&&n.push(this.M4.gPt()),r.label=1;case 1:return r.trys.push([1,,4,5]),[4,ut.all(n)];case 2:return r.sent(),[4,t(i)];case 3:return r.sent(),[3,5];case 4:return this.B4&&this.B4.mPt(),this.M4&&this.M4.mPt(),[7];case 5:return[2]}})}).call(this)},n.Frt=function(i){i.type===HR.pZ&&this.wE.B3(),t.prototype.Frt.call(this,i)},i}(kO);function ZW(t){if(!t)return 0;var i=t.Fx;return i.V>0?i.An(i.V-1):0}var $W=function(t){function i(i,n,r){var e;return(e=t.call(this,i)||this).WPt=void 0,e.Gl=void 0,e.iV=void 0,e.qPt=!1,e.Y8=void 0,e.x9=NaN,e.Ho=EA.rL(),e.Cz=!0,e.tIt=!1,e.kz=!0,e.jPt=void 0,e.KPt=void 0,e.GPt=void 0,e.zPt=new hr,e.T9=new hr,e.WPt=n,e.jPt=i,e.PL.be(),e.WPt.we(),e.iV=new HW(e,r),e.Gl=new Rb([e.iV.nt,t.prototype.RP.call(LW(e))]),e}Ct(i,t);var n=i.prototype;return n.Ux=function(){return t.prototype.Ux.call(this).HM(this.WPt.Fx)},n.Nd=function(){if(!this.qPt){var i=this.aq;if(i&&MR(i))return i.ct}return t.prototype.Nd.call(this)},n.tht=function(){return!!t.prototype.tht.call(this)&&!(!this.qPt&&!this.jZ())},n.iht=function(){return!!t.prototype.iht.call(this)&&!(!this.qPt&&t.prototype.tht.call(this)&&!this.jZ())},n.jZ=function(){var t=this.aq;return!(!t||!MR(t))&&t.jZ},n.mP=function(){return this.Ho.HM(this.PL.pP)},n.EP=function(){return t.prototype.EP.call(this).HM(this.WPt.kP)},n.TP=function(){return t.prototype.TP.call(this)},n.$rt=function(){var i;return null!=(i=t.prototype.$rt.call(this))?i:this.WPt.uq},n.QP=function(){return this.Cz=!1,t.prototype.QP.call(this)},n.jP=function(){this.Cz=!0,t.prototype.jP.call(this)},n.G7=function(){this.qPt=!0,t.prototype.G7.call(this),this.WPt.G7()},n.X7=function(){this.qPt=!1,t.prototype.X7.call(this),this.WPt.G7()},n.Gx=function(){var i;return null!=(i=this.Y8)?i:t.prototype.Gx.call(this)},n.PP=function(){return void 0!==this.Y8||t.prototype.PP.call(this)},n.Oy=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),this.zPt.Zg(),this.T9.Zg(),this.T9=new hr,this.GPt=_r(this.E9(t,i,n,this.GPt,this.T9.Yg),this.T9).catch(dn)},n.E9=function(i,n,r,e,s){var u=this;return Vt(function(){return zt(this,function(o){switch(o.label){case 0:return this.Y8=i,this.x9=i,this.So(new wT(i)),e?[4,e.catch(dn)]:[3,2];case 1:o.sent(),o.label=2;case 2:return dr(s),this.aq&&MR(this.aq)&&this.aq.LPt(),this.Y8=void 0,t.prototype.Oy.call(u,i,n,r),this.WPt.Oy(i,n,r),this.XPt(),[2]}})}).call(this)},n.$W=function(t){var i=this.uq;if(i&&!S(i.getTime())){var n=(t.getTime()-i.getTime())/1e3;this.Oy(n)}},n.K7=function(){t.prototype.K7.call(this),this.WPt.K7()},n.we=function(){this.kz&&(this.kz=!1,this.jPt.we())},n.be=function(){this.kz||(this.kz=!0,this.jPt.be())},n.QPt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.Y8=void 0,this.x9=NaN,this.Ho=EA.rL(),null==(t=this.KPt)||t.Zg(),this.zPt.Zg(),this.T9.Zg(),this.GPt?[4,this.GPt.catch(dn)]:[3,2];case 1:i.sent(),this.GPt=void 0,i.label=2;case 2:return[2]}})}).call(this)},n.hht=function(i){t.prototype.hht.call(this,i),this.WPt.Rq=i},n.oht=function(i){t.prototype.oht.call(this,i),this.WPt.J7=i},n.RP=function(){return this.Gl},n.sI=function(t,i,n,r,e,s,u,o){return this.iV.sI(t,i,n,r,e,s,u,o)},n.Tq=function(t){return this.iV.Tq(t)},n.bq=function(t,i,n,r,e){throw new y("Not implemented yet")},n.wq=function(){return!1},n.rV=function(t){this.iV.rV(t)},n.Eq=function(){this.iV.hr(),t.prototype.Eq.call(this)},n.Un=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Un.call(n,i)];case 1:return MR(r=e.sent())&&this.XPt(),[2,r]}})}).call(this)},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.QPt()];case 1:return n.sent(),[4,t.prototype.hr.call(i)];case 2:return n.sent(),[4,this.WPt.hr()];case 3:return n.sent(),[2]}})}).call(this)},n.F8=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.QPt()];case 1:return n.sent(),[4,t.prototype.F8.call(i)];case 2:return n.sent(),[4,this.WPt.F8()];case 3:return n.sent(),[2]}})}).call(this)},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.QPt()];case 1:return n.sent(),this.iV.kn(),this.Gl.kn(),[4,t.prototype.zg.call(i)];case 2:return n.sent(),[2]}})}).call(this)},n.cht=function(t){return new JW(this,t)},n.uht=function(t){return new EO(t)},n.XPt=function(){this.zPt.Zg(),this.zPt=new hr,this.GPt=_r(this.YPt(this.GPt,this.zPt.Yg),this.zPt).catch(dn)},n.YPt=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return t?[4,t.catch(dn)]:[3,2];case 1:u.sent(),u.label=2;case 2:if(!this.aq||!MR(this.aq))return[2];u.label=3;case 3:0,dr(i),this.JPt()&&this.BPt(),n=void 0,this.aq.LPt(),dr(i),u.label=4;case 4:0,r={stack:[],error:void 0,hasError:!1},u.label=5;case 5:return u.trys.push([5,9,10,11]),dr(i),this.JPt()?[3,12]:void 0===(n=this.aq.OPt(this.Gx()))?[3,7]:(this.ZPt(),[4,this.aq.FPt(n,i)]);case 6:return u.sent(),dr(i),this.WPt.Oy(n),[3,12];case 7:return e=qt(r,hr.ep([i]),!1),[4,ut.race([this.ww(eh.py,e.Yg),this.$Pt(e.Yg)])];case 8:return u.sent(),[3,11];case 9:return s=u.sent(),r.error=s,r.hasError=!0,[3,11];case 10:return Gt(r),[7];case 11:return[3,4];case 12:dr(i),u.label=13;case 13:return this.JPt()?[3,15]:[4,this.PL.ww([eh.py,eh.Nw,Ry.AI],i)];case 14:return u.sent(),[3,13];case 15:return[3,3];case 16:return[2]}})}).call(this)},n.JPt=function(){var t=this.aq;if(void 0===t||!MR(t))return!1;var i=this.Gx(),n=this.PL.Fx;return!(!this.PL.Qx&&n.Cr(i))&&!!XO(this.WPt.Fx,t.qrt()).jM(i,i+ve)},n.BPt=function(){if(!this.tIt){0,this.tIt=!0,this.Ho=this.mP();var t=AP(this),i=this.PP(),n=this.TP(),r=this.PL,e=this.WPt,s=this.aq;s.LPt(),s.BPt(),TP(e,t),this.fht(e),this.WPt=r,r.jP(),r.oP=!0,this.tIt=!1;var u=this.PP();i!==u&&(u?this.So(new wT(this.zx)):this.So(new gT(this.zx)));var o=this.TP();n!==o&&this.So(new Py(this.zx,o)),u||this.ZPt()}},n.ZPt=function(){var t=this.PL,i=this.jPt;if(i!==t){0;var n=this.MP,r=this.DP;this.jPt=t,this.kz&&(i.we(),t.be());var e=this.MP,s=this.DP;e>0&&s>0&&(n!==e||r!==s)&&this.So(new Ey)}},n.EPt=function(t){return void 0!==this.WPt.$Z([t])},n.PPt=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return this.ZPt(),i=this.aq,[4,(n=this.WPt).hr()];case 1:return e.sent(),[4,n.Un(t)];case 2:return r=e.sent(),i.VPt(r),[2]}})}).call(this)},n.$Pt=function(t){return this.KPt=new Va,gr(this.KPt.Yy,t)},n.B3=function(){var t;null==(t=this.KPt)||t.Qy()},n.iI=function(i){i.type===eh.$w&&this.x9===i.currentTime||(i.type===eh.Zw&&(this.x9=NaN,this.ZPt()),i.type!==Ry.AI&&i.type!==eh.jw&&i.type!==eh.Nw||this.tIt||!this.JPt()?(i.type!==eh.Nw||this.Qx)&&t.prototype.iI.call(this,i):this.XPt())},Nt(i,[{key:"HPt",get:function(){return this.WPt}},{key:"DP",get:function(){return this.jPt.DP}},{key:"MP",get:function(){return this.jPt.MP}}]),i}(QW),tz=function(t){function i(i,n){var r;return(r=t.call(this,i,n,new YD)||this).bet=void 0,r.Aet=void 0,r.$L=void 0,r.$L=new OT(i.Sq),r.bet=new xN,r.bet.Y7(i.hq.parentElement),r.Aet=new Qx(r.bet.xe,r.Wu,r.nt,r.Ql,r.Ma,r.Sq),r}Ct(i,t);var n=i.prototype;return n.we=function(){t.prototype.we.call(this),this.bet.we()},n.be=function(){t.prototype.be.call(this),this.bet.be()},n.Y7=function(t){this.PL.Y7(t),this.WPt.Y7(t)},n.$P=function(){this.PL.$P(),this.WPt.$P()},n.zP=function(){return this.PL.zP()},n.Aa=function(){return this.$L},n.fht=function(i){var n=this.qP(),r=this.zP();t.prototype.fht.call(this,i),this.$L.OI=i.Sq,this.qP()!==n&&this.So(new PT),this.zP()!==r&&this.So(new DT)},n.zg=function(){return this.$L.kn(),this.Aet.kn(),this.bet.kn(),t.prototype.zg.call(this)},Nt(i,[{key:"Zrt",get:function(){return this.PL}},{key:"HPt",get:function(){return this.WPt}},{key:"hq",get:function(){return this.PL.hq}},{key:"d5",get:function(){return this.PL.d5}},{key:"WP",get:function(){return this.PL.WP},set:function(t){this.PL.WP=t}}]),i}($W),iz=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Yq=function(i){if(i===eg.Mk){var n=t.prototype.Yq.call(this,i),r=t.prototype.Yq.call(this,i);return new tz(n,r)}return t.prototype.Yq.call(this,i)},n.Dq=function(i){var n=this,r=function(){return t.prototype.Dq};return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return V(i,tz)?[4,i.zg()]:[3,4];case 1:return t.sent(),[4,r().call(n,i.Zrt)];case 2:return t.sent(),[4,r().call(n,i.HPt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(n,i)];case 5:t.sent(),t.label=6;case 6:return[2]}})})()},i}(mO),nz=function(t){function i(i,n,r,e,s,u,o){var h,a=new xO(new iz(s)),c=a.Yq(u);return(h=t.call(this,i,n,r,e,c,o)||this).Nq=void 0,h.Nq=a,h}return Ct(i,t),i.prototype.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),[4,this.Nq.Dq(this.PL)];case 2:return n.sent(),[2]}})}).call(this)},i.US=function(t){var i;return!Bi.Ks&&!Bi.og&&!(t&&"google-dai"===(null==(i=t.ssai)?void 0:i.integration))},i}(OW);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Qt();var rz=function(t){function i(i){var n;return(n=t.call(this,i)||this).iIt=!1,n.rPt=EA.rL(),n.ZS=void 0,n.Zb=0,n.eIt=!1,n.Wet=!1,n.yPt=void 0,n.H4=EA.rL(),n.sIt=void 0,n.Brt(i),n.ZS=i.Cd,n}Ct(i,t);var n=i.prototype;return n.Lrt=function(t){return new YW(t)},n.NS=function(){return this.iIt?this.ZS:t.prototype.NS.call(this)},n.Ux=function(){return this.iIt?this.rPt:t.prototype.Ux.call(this)},n.Nd=function(){return this.iIt?this.Zb:t.prototype.Nd.call(this)},n.F4=function(i){this.iIt?(this.Zb=i,this.eIt=!0):t.prototype.F4.call(this,i)},n.EP=function(){return this.iIt?this.sIt?this.sIt.J3():this.H4:t.prototype.EP.call(this)},n.W4=function(i,n,r,e){this.iIt?this.sIt=new oP(i,n,r,e):t.prototype.W4.call(this,i,n,r,e)},n.Nrt=function(){return this.iIt?this.Wet&&!1!==this.yPt:t.prototype.Nrt.call(this)},n.F3=function(){this.iIt?this.yPt=!0:t.prototype.F3.call(this)},n.I3=function(){this.iIt?this.yPt=!1:t.prototype.I3.call(this)},n.IZ=function(i){return!this.iIt&&t.prototype.IZ.call(this,i)},n.RZ=function(i){return this.iIt?ut.reject(new p("Not supported")):t.prototype.RZ.call(this,i)},n.gPt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:if(this.iIt)throw new p("Already locked");return this.iIt=!0,this.pPt(),t=[],this.B4&&t.push(this.B4.gPt()),this.M4&&t.push(this.M4.gPt()),[4,ut.all(t)];case 1:return i.sent(),[2]}})}).call(this)},n.mPt=function(){this.iIt=!1,this.B4&&this.B4.mPt(),this.M4&&this.M4.mPt(),this.wPt()},n.pPt=function(){this.ZS=t.prototype.NS.call(this),this.rPt=t.prototype.Ux.call(this),this.Zb=t.prototype.Nd.call(this),this.H4=t.prototype.EP.call(this),this.eIt=!1,this.yPt=void 0,this.sIt=void 0},n.wPt=function(){if(this.eIt&&(t.prototype.F4.call(this,this.Zb),this.eIt=!1),void 0!==this.sIt){var i=this.sIt;t.prototype.W4.call(this,i.Tn,i.An,i.Z3,i.t4),this.sIt=void 0}void 0!==this.yPt&&(this.yPt?t.prototype.F3.call(this):t.prototype.I3.call(this),this.yPt=void 0)},i}(kO),ez=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).rIt=!1,i.oIt=!1,i.lIt=void 0,i.dIt=void 0,i.cIt=new hr,i}Ct(i,t);var n=i.prototype;return n.QP=function(){return void 0!==this.aq&&MR(this.aq)&&this.Qx&&this.Oy(0),t.prototype.QP.call(this)},n.Oy=function(i,n,r){void 0!==this.aq&&MR(this.aq)&&this.Qx&&i<this.ct&&this.nIt(),t.prototype.Oy.call(this,i,n,r)},n.G7=function(){this.rIt=!0,t.prototype.G7.call(this)},n.X7=function(){this.rIt=!1,this.hIt()||t.prototype.X7.call(this)},n.hIt=function(){return this.rIt||this.oIt},n.aIt=function(){this.oIt||(this.oIt=!0,t.prototype.G7.call(this))},n.uIt=function(){this.oIt&&(this.oIt=!1,this.hIt()||t.prototype.X7.call(this))},n.Un=function(t){this.cIt.Zg();var i=this.vE(t,this.dIt);return this.lIt=i,i},n.vE=function(i,n){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return n?[4,n.catch(dn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.uIt(),[4,t.prototype.Un.call(r,i)];case 3:return[2,e.sent()]}})}).call(this)},n.cht=function(t){return new rz(t)},n.uht=function(t){return new EO(t)},n.hr=function(){this.cIt.Zg();var t=this.sxt(this.dIt);return this.lIt=t,t},n.sxt=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return i?[4,i.catch(dn)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.uIt(),[4,t.prototype.hr.call(n)];case 3:return[2,r.sent()]}})}).call(this)},n.F8=function(){this.cIt.Zg();var t=this.fIt(this.dIt);return this.lIt=t,t},n.fIt=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return i?[4,i.catch(dn)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.uIt(),[4,t.prototype.F8.call(n)];case 3:return[2,r.sent()]}})}).call(this)},n.nIt=function(){this.aIt(),this.cIt.Zg(),this.cIt=new hr,this.dIt=_r(this.vIt(this.lIt,this.dIt,this.cIt.Yg),this.cIt).catch(wr)},n.vIt=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return t?[4,t.catch(dn)]:[3,2];case 1:u.sent(),u.label=2;case 2:return i?[4,i.catch(dn)]:[3,4];case 3:u.sent(),u.label=4;case 4:return dr(n),(r=this.aq)&&MR(r)?(e=r.Cd,[4,r.gPt()]):[2];case 5:return u.sent(),[4,this.PL.hr()];case 6:return u.sent(),[4,this.PL.Un(e)];case 7:return(s=u.sent()).F4(r.ct),r.Brt(s),r.mPt(),this.uIt(),[2]}})}).call(this)},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.cIt.Zg(),this.dIt?[4,this.dIt.catch(dn)]:[3,2];case 1:n.sent(),this.dIt=void 0,n.label=2;case 2:return this.hIt()&&t.prototype.X7.call(i),[4,t.prototype.zg.call(i)];case 3:return n.sent(),[2]}})}).call(this)},i}(CO),sz=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(yO(ez)),uz=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(IO(ez)),oz=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Yq=function(i){return i===eg.Mk?new uz(t.prototype.Yq.call(this,i)):i===eg.Bk?new sz(t.prototype.Yq.call(this,i)):void 0},n.Dq=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,(r=i).zg()];case 1:return e.sent(),[4,t.prototype.Dq.call(n,r.Zrt)];case 2:return e.sent(),[2]}})})()},i.US=function(){return Bi.cg},i}(mO),hz=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).tz=Ab.AW,i}Ct(i,t);var n=i.prototype;return n.DC=function(t,i,n,r,e,s,u,o){var h;h=jW.US(o)?jW:nz.US(o)?nz:MW;var a=i;return oz.US()&&(a=new oz(a)),new h(n,r,e,s,a,eg.Mk,t)},n.$q=function(){return!0},i}(lO);GT(new hz),U(),Et(),U(),Et(),Pt(),Wb(function(t){return function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.xa=function(){var i=this.$x.Ca;return Mw(t.prototype.xa.call(this),{get hesp(){return i}})},i}(t)},Vb.lu),U(),Et(),Pt(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),Qt(),U(),Et(),Ft();var az=0;function cz(t,i){if(void 0===i&&(i=!0),t){var n=t;return"/"===n.charAt(0)&&(n=n.substring(1)),i&&"/"!==n.charAt(n.length-1)&&(n+="/"),n}}function fz(t){var i,n,r;return Yu({},t,{baseUrl:cz(t.baseUrl),id:null!=(i=t.id)?i:String(az++),timeBounds:Yu({},t.timeBounds,{scale:null!=(n=t.timeBounds.timescale)?n:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(_z),video:t.video.map(yz),metadata:t.metadata.map(kz),events:t.events.map(Ez)})}var vz=0;function dz(t){var i,n=cz(t.initPattern,!1),r=cz(t.contPattern,!1);return Yu({},t,{id:null!=(i=t.id)?i:String(vz++),continuationPattern:r?Mo(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:n?Mo(n,"${initId}","{initId}"):void 0})}function lz(t){var i,n=cz(t.initPattern,!1),r=cz(t.contPattern,!1);return Yu({},t,{continuationPattern:r?Mo(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:n?Mo(n,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(wz),activeSegment:null==(i=Fn(t.segments,function(t){return t.active}))?void 0:i.id})}function wz(t){var i;return Yu({},t,{timeBounds:Yu({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(i=t.timeBounds.timescale)?i:1e3})})}function gz(t){return t&&"-"===t.charAt(0)}function _z(t){var i;try{var n;i=A(null!=(n=t.channels)?n:"2")}catch(t){i=2}return gz(t.contPattern)||gz(t.initPattern)?function(t,i){var n=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,Yu({},dz(t),{baseUrl:cz(t.baseUrl),language:"eng",channels:i,sampleRate:t.samplerate,tracks:t.tracks.map(function(t){var i,e;return t.initPattern=null!=(i=t.initPattern)?i:n,t.contPattern=null!=(e=t.contPattern)?e:r,mz(t)})})}(t,i):Yu({},dz(t),{baseUrl:cz(t.baseUrl),language:"eng",channels:i,sampleRate:t.samplerate,tracks:t.tracks.map(mz)})}function mz(t){var i;try{var n;i=A(null!=(n=t.channels)?n:"2")}catch(t){i=2}return gz(t.contPattern)||gz(t.initPattern)?function(t,i){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,Yu({},lz(t),{baseUrl:"./",channels:i,sampleRate:t.samplerate})}(t,i):Yu({},lz(t),{baseUrl:cz(t.baseUrl),channels:i,sampleRate:t.samplerate})}function yz(t){return gz(t.contPattern)||gz(t.initPattern)?function(t){var i=t.initPattern,n=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,Yu({},dz(t),{baseUrl:cz(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(function(t){return t.initPattern=i,t.contPattern=n,pz(t)})})}(t):Yu({},dz(t),{baseUrl:cz(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(pz)})}function pz(t){var i,n;return gz(t.contPattern)||gz(t.initPattern)?function(t){var i,n;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,Yu({},lz(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:Yu({},t.resolution,{sarWidth:null==(i=t.resolution.sar)?void 0:i.width,sarHeight:null==(n=t.resolution.sar)?void 0:n.height})})}(t):Yu({},lz(t),{baseUrl:cz(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:Yu({},t.resolution,{sarWidth:null==(i=t.resolution.sar)?void 0:i.width,sarHeight:null==(n=t.resolution.sar)?void 0:n.height})})}function kz(t){var i;return Yu({},t,{id:null!=(i=t.id)?i:String(vz++),schemeId:"",tracks:t.tracks.map(bz)})}function bz(t){return Yu({},t,{segments:t.segments.map(Tz)})}var Az=0;function Tz(t){return{id:Az++,timeBounds:Yu({},t.timeBounds,{scale:t.timeBounds.timescale})}}var Sz=0;function Ez(t){var i,n;return Yu({},t,{id:null!=(i=t.id)?i:String(Sz++),timeBounds:Yu({},t.timestamp,{scale:null!=(n=t.timestamp.timescale)?n:1e3})})}var Iz=function(){function t(t){this.Dx=void 0,this.Dx=t}return t.prototype._It=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return n={Yu:t,Km:yl.bk,Yg:i},[4,this.Dx.vk(n)];case 1:return[4,s.sent().VT(i)];case 2:return r=s.sent(),function(t){var i,n,r=t;if(Xi(r.manifestVersion)&&Lo(r.manifestVersion,"alpha"))return!0;for(var e,s=Lt(r.presentations);!(e=s()).done;){for(var u,o=e.value,h=Lt([].concat(o.video,o.audio));!(u=h()).done;){var a=u.value;if(a.tracks.length>0){i=a.tracks[0],n=a;break}}if(Li(i))break}return(Xi(null==n?void 0:n.initPattern)||Xi(null==i?void 0:i.initPattern))&&!Xi(null==i?void 0:i.initializationPattern)&&!Xi(null==n?void 0:n.initializationPattern)}(e=r)&&(e=function(t){return Yu({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(fz),contentBaseUrl:t.contentBaseUrl||"./"})}(e)),[2,e]}})}).call(this)},t}();U(),Et(),xt(),Pt();var Rz=function(t){function i(i){var n;return(n=t.call(this)||this).hu=void 0,n.gIt=void 0,n.gIt=i,n}Ct(i,t);var n=i.prototype;return n.dC=function(){return this.gIt.dC()},n.wn=function(t,i){this.gIt.wn(t,i)},n.mn=function(t,i){this.gIt.mn(t,i)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=nA(this)),this.hu}},{key:"hC",get:function(){return this.gIt.hC}},{key:"oC",get:function(){return this.gIt.oC}},{key:"aC",get:function(){return this.gIt.aC}},{key:"uC",get:function(){return this.gIt.uC}},{key:"cC",get:function(){return this.gIt.cC}}]),i}(th);U(),Et(),xt(),Ft(),U(),Et(),xt(),U(),Et(),xt();var Cz=function(){function t(t){this.pIt=void 0,this.wIt=0,this.mIt=0,this.pIt=b.exp(b.log(.5)/t)}var i=t.prototype;return i.Gat=function(t,i){var n=b.pow(this.pIt,t),r=i*(1-n)+n*this.wIt;S(r)||(this.wIt=r,this.mIt+=t)},i.RZ=function(t){var i=b.exp(b.log(.5)/t);if(i!==this.pIt)if(0!==this.mIt){var n=this.Fet,r=1-b.pow(i,this.mIt);this.wIt=n*r,this.pIt=i}else this.pIt=i},Nt(t,[{key:"Fet",get:function(){var t=1-b.pow(this.pIt,this.mIt);return this.wIt/t}}]),t}(),Pz=function(){function t(i,n,r,e){void 0===i&&(i=t.RIt),void 0===n&&(n=t.DIt),void 0===r&&(r=t.$at),void 0===e&&(e=!1),this.yIt=void 0,this.bIt=void 0,this.EIt=0,this.xIt=[],this.TIt=void 0,this.kIt=6e4,this.PIt=10,this.IIt=void 0,this.CIt=void 0,this.AIt=void 0,this.SIt=void 0,this.IIt=i,this.CIt=n,this.AIt=r,this.SIt=e,this.yIt=new Cz(i),this.bIt=new Cz(n)}var i=t.prototype;return i.Gat=function(t){var i=Ui.Mg(),n=t;this.SIt&&void 0!==this.TIt&&i-this.TIt>=this.kIt&&this.hr(),this.EIt+=1,this.yIt.Gat(1,n),this.bIt.Gat(1,n),this.xIt.push(n),this.xIt.length>this.PIt&&this.xIt.shift(),this.TIt=i},i.Zat=function(){return void 0!==this.TIt&&Ui.Mg()-this.TIt<=this.kIt},i.hr=function(){this.yIt=new Cz(this.IIt),this.bIt=new Cz(this.CIt),this.EIt=0,this.xIt=[],this.TIt=void 0},Nt(t,[{key:"Fet",get:function(){return this.Zat()?b.max(this.yIt.Fet,this.bIt.Fet):this.AIt}}]),t}();Pz.RIt=2,Pz.DIt=5,Pz.$at=.1,U(),Et(),Ft();var Dz=function(){function t(t){this.NIt=void 0,this.NIt=t}var i=t.prototype;return i.DY=function(t){for(var i,n=Lt(this.NIt);!(i=n()).done;){i.value.DY(t)}},i.NY=function(t){for(var i,n=Lt(this.NIt);!(i=n()).done;){i.value.NY(t)}},i.BY=function(t,i){for(var n,r=Lt(this.NIt);!(n=r()).done;){n.value.BY(t,i)}},i.MY=function(t){for(var i,n=Lt(this.NIt);!(i=n()).done;){i.value.MY(t)}},t}();U(),Et();var Nz=function(){function t(t){this.MIt=void 0,this.BIt=0,this.MIt=t}var i=t.prototype;return i.DY=function(t){this.BIt=t},i.NY=function(t){this.MIt.Gat(t-this.BIt)},i.BY=function(t){},i.MY=function(t){},t}();U(),Et();var xz=function(){function t(t){this.eut=void 0,this.LIt=0,this.eut=t}var i=t.prototype;return i.NY=function(t){this.LIt=t},i.BY=function(t,i){this.eut.Gat(t-this.LIt,i.byteLength),this.LIt=t},i.MY=function(t){},i.DY=function(t){},t}();U(),Et(),Pt();var Bz=function(){function t(t,i){void 0===i&&(i=0),this.eut=void 0,this.VIt=void 0,this.FIt=new Oz,this.En=0,this.OIt=0,this.eut=t,this.VIt=i}var i=t.prototype;return i.DY=function(t){},i.BY=function(t,i){var n=i.byteLength,r=this.OIt;this.OIt=n;var e=t-this.En;this.En=t,this.FIt.E$(i);var s=!this.FIt.UIt(),u=n>=this.VIt;r!==Ui.Zs.Sp&&s&&u&&this.eut.Gat(e,n)},i.NY=function(t){this.En=t},i.MY=function(t){},t}(),Oz=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).WIt=void 0,i.HIt=!1,i}Ct(i,t);var n=i.prototype;return n.UIt=function(){return this.HIt},n.E$=function(i){this.HIt=!1,t.prototype.E$.call(this,i)},n.T$=function(i,n){this.WIt&&this.WIt!==hm.WR||(this.HIt=!0),t.prototype.T$.call(this,i,n),this.WIt=i},n.L$=function(t){return!1},n.F$=function(t){},n.V$=function(t){},i}(rC);U(),Et(),Pt();var Mz=function(t){return t.qIt="sample",t}({}),Lz=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).zIt=0,i}return Ct(i,t),i.prototype.vW=function(){if(this.Zat()){var t=Ui.Mg();t-this.zIt>1e3&&(this.zIt=t,bb.Bg.vW(this.Fet))}},i}(th);U(),Et(),xt(),Pt();var Fz=function(t){function i(i){var n;return(n=t.call(this)||this).GIt=void 0,n.bA=[],n.wIt=void 0,n.jIt=0,n.GIt=i,n.wIt=i,n}Ct(i,t);var n=i.prototype;return n.Zat=function(){return this.bA.length>=3},n.Gat=function(t,i){if(0!==t){var n={IW:8*i/t,XIt:i};if(this.bA.push(n),this.jIt+=n.XIt,this.bA.length>30){var r=this.bA.shift();this.jIt-=r.XIt}for(var e=this.bA.slice().sort(function(t,i){return t.IW-i.IW}),s=0,u=0;u<e.length;u++){var o=e[u];if(s+=o.XIt/this.jIt,this.wIt=o.IW,s>=.5)break}this.vW(),this.So(new rh(Mz.qIt))}},Nt(i,[{key:"Fet",get:function(){return this.Zat()?this.wIt:this.GIt}}]),i}(Lz);U(),Et(),xt(),Pt();var Uz=function(t){function i(n,r,e,s){var u;return void 0===n&&(n=i.RIt),void 0===r&&(r=i.DIt),void 0===e&&(e=i.YIt),void 0===s&&(s=i.$at),(u=t.call(this)||this).yIt=void 0,u.bIt=void 0,u.QIt=0,u.AIt=void 0,u.KIt=void 0,u.KIt=e,u.yIt=new Cz(n),u.bIt=new Cz(r),u.AIt=s,u}Ct(i,t);var n=i.prototype;return n.Gat=function(t,i){var n=8*i/t;this.yIt.Gat(t,n),this.bIt.Gat(t,n),this.QIt+=i,this.vW(),this.So(new rh(Mz.qIt))},n.Zat=function(){return this.QIt>=this.KIt},Nt(i,[{key:"Fet",get:function(){return this.Zat()?b.min(this.yIt.Fet,this.bIt.Fet):this.AIt}}]),i}(Lz);Uz.YIt=128e3,Uz.$at=kb,Uz.RIt=.5,Uz.DIt=5;var Vz=function(){function t(t,i){var n=this;this.eut=void 0,this.tCt=[],this.sCt=void 0,this.eCt=void 0,this.ZIt=function(){for(var t,i=Lt(n.tCt);!(t=i()).done;){(0,t.value)()}},this.eCt=t>0?t:Uz.$at,this.sCt=new Pz(Pz.RIt,Pz.DIt,i>0?i:Pz.$at),this.JIt(this.eCt)}var i=t.prototype;return i.JIt=function(t){var i;null==(i=this.eut)||i.mn(Mz.qIt,this.ZIt),this.eut=new Fz(t),this.eut.wn(Mz.qIt,this.ZIt)},i.$It=function(t){this.tCt.push(t)},i.iCt=function(t){Xn(this.tCt,t)},i.DW=function(t){if("segment"===t.Km&&"video"===t.Gk){var i=[new Nz(this.sCt)];return this.eut&&("stream"===t.fk&&"initialization-segment"!==t.zk?i.push(new Bz(this.eut,1e3)):i.push(new xz(this.eut))),new Dz(i)}},Nt(t,[{key:"IW",get:function(){var t,i;return null!=(i=null==(t=this.eut)?void 0:t.Fet)?i:this.eCt}},{key:"RW",get:function(){return this.sCt.Fet}}]),t}();U(),Et(),xt();var Hz=function(){function t(){this.rCt=void 0,this.oCt=void 0,this.dCt=void 0,this.uCt=void 0}var i=t.prototype;return i.nCt=function(t,i){var n=i-t;(!this.rCt||n<this.rCt)&&(this.rCt=n)},i.hCt=function(t,i){this.oCt=i-t},i.aCt=function(t,i){this.uCt=i-t},i.cCt=function(t,i){this.dCt=i-t},i.fCt=function(t){var i=this.lCt;if(void 0!==i)return i-t},i.hr=function(){this.rCt=void 0,this.oCt=void 0,this.dCt=void 0,this.uCt=void 0},Nt(t,[{key:"lCt",get:function(){var t=Zn([this.uCt,this.dCt].filter(Li),ln);return void 0!==t?Ui.Mg()/1e3+t:void 0!==this.oCt?Ui.Mg()/1e3+this.oCt:void 0!==this.rCt?Ui.Mg()/1e3+this.rCt:void 0}}]),t}();U(),Et();var Wz=.25,zz={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:CA,maximumPlaybackRate:PA},Xz={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:CA,maximumPlaybackRate:PA},qz={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:CA,maximumPlaybackRate:PA},Gz={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:CA,maximumPlaybackRate:PA},jz={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:CA,maximumPlaybackRate:PA};function Qz(t){if(Ui.Rm.Nm){var i=b.max(.65,t.minimumOffset),n=b.max(i+Wz,t.targetOffset),r=b.max(n+Wz,t.maximumOffset);return{minimumOffset:i,targetOffset:n,maximumOffset:r,forceSeekOffset:b.max(r+Wz,t.forceSeekOffset),minimumPlaybackRate:CA,maximumPlaybackRate:PA}}return t}function Yz(){var t;return t=Ui.Zs.pp?Gz:Ui.Zs.Ap?Xz:Ui.Zs.bp?"Android"===Ui.Rm.Dm?qz:zz:jz,Ui.Rm.Nm?Qz(t):t}U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Ft();var Kz=function(){function t(){this.rPt=[]}var i=t.prototype;return i.vCt=function(t){for(var i,n=Lt(this.rPt);!(i=n()).done;){var r=i.value;r[1]=r[1].Mn(t)}},i._Ct=function(t,i){for(var n,r=!0,e=Lt(this.rPt);!(n=e()).done;){var s=n.value,u=s[1];u=u.qM(i),t===s[0]&&(u=u.HM(i),r=!1),s[1]=u.VM(1e-5)}r&&this.rPt.push([t,i])},i.gCt=function(t){for(var i,n=Lt(this.rPt);!(i=n()).done;){var r=i.value;r[1]=r[1].qM(t)}},i.pCt=function(t){for(var i=0;i<this.rPt.length;i++)if(this.rPt[i][1].Cr(t))return this.rPt[i][0]},t}(),Jz=function(t){function i(i,n,r,e){var s;return(s=t.call(this)||this).Wrt=void 0,s.wCt=void 0,s.PL=void 0,s.mCt=[],s.Nyt=void 0,s.ECt=void 0,s.bCt=void 0,s.D3=new hr,s.PL=n,s.Wrt=i,s.Nyt=r,s.ECt=e,s.wCt=new Kz,s.Wrt.wn(HR.pZ,s.Rs),s}Ct(i,t);var n=i.prototype;return n.pCt=function(t){return this.wCt.pCt(t)},n.appendStream=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v,d,l,w,g;return zt(this,function(_){switch(_.label){case 0:if(this.yCt)throw new y("Concurrent appends are not supported.");_.label=1;case 1:_.trys.push([1,10,11,12]),r={stack:[],error:void 0,hasError:!1},_.label=2;case 2:_.trys.push([2,7,8,9]),e=qt(r,hr.ep([n,this.D3.Yg]),!1),s=e.Yg,this.wCt.vCt(this.Fx),this.bCt=new Va,u=tC(t),o=u.getReader(),_.label=3;case 3:return[4,gr(o.read(),s)];case 4:return(h=_.sent()).done?[3,6]:(a=h.value,c=Na(a.map(function(t){return t.yut})),f={ct:Dn(a,function(t){return t.ct}),Get:a[0].Qvt,EU:-i.qot.SCt},[4,this.Y2(c,f,s)]);case 5:return _.sent(),v=f.Get+f.EU,d=v+f.ct,this.wCt._Ct(i.qot,EA.nL(v,d)),[3,3];case 6:return[3,9];case 7:return l=_.sent(),r.error=l,r.hasError=!0,[3,9];case 8:return Gt(r),[7];case 9:return[3,12];case 10:throw w=_.sent(),i.TCt(),w;case 11:return i.kCt(),g=this.bCt,this.bCt=void 0,null==g||g.Qy(),[7];case 12:return[2]}})}).call(this)},n.Q2=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:if(this.yCt)throw new y("Concurrent appends are not supported.");f.label=1;case 1:f.trys.push([1,,7,8]),e={stack:[],error:void 0,hasError:!1},f.label=2;case 2:return f.trys.push([2,4,5,6]),s=qt(e,hr.ep([r,this.D3.Yg]),!1),u=s.Yg,this.bCt=new Va,[4,this.Y2(t,i,u)];case 3:return f.sent(),o=i.Get+i.EU,h=o+i.ct,this.wCt.vCt(this.Fx),this.wCt._Ct(n,EA.nL(o,h)),[3,6];case 4:return a=f.sent(),e.error=a,e.hasError=!0,[3,6];case 5:return Gt(e),[7];case 6:return[3,8];case 7:return c=this.bCt,this.bCt=void 0,null==c||c.Qy(),[7];case 8:return[2]}})}).call(this)},n.Y2=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return this.Wrt.V3===eg.Mk&&this.ECt.elt(t,i.Get,i.Get+i.ct,i.EU,this.Nyt,!1),r=this.PL.ML.BL,e=this.Wrt.Fx.Cr(this.PL.zx),r||e?[4,this.xCt(n)]:[3,3];case 1:return u.sent(),[4,this.Wrt.Q2({Km:zR.wZ,lk:t},i,n)];case 2:case 4:return[2,u.sent()];case 3:return this.mCt.push([t,i]),s=this.mCt[0][1].Get,this.mCt[this.mCt.length-1][1].Get-s>=.4?[4,this.xCt(n)]:[3,5];case 5:return[2]}})}).call(this)},n.J2=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(this.yCt)throw new y("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,8,9]),n={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,5,6,7]),r=qt(n,hr.ep([i,this.D3.Yg]),!1),e=r.Yg,this.bCt=new Va,[4,this.xCt(e)];case 3:return o.sent(),[4,this.Wrt.J2({Km:zR.wZ,lk:t},{},e)];case 4:return o.sent(),this.Wrt.V3===eg.Mk&&this.ECt.ght(t),[3,7];case 5:return s=o.sent(),n.error=s,n.hasError=!0,[3,7];case 6:return Gt(n),[7];case 7:return[3,9];case 8:return u=this.bCt,this.bCt=void 0,null==u||u.Qy(),[7];case 9:return[2]}})}).call(this)},n.pS=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(this.yCt)throw new y("Concurrent appends are not supported.");h.label=1;case 1:h.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,5,6,7]),e=qt(r,hr.ep([n,this.D3.Yg]),!1),s=e.Yg,this.bCt=new Va,[4,this.xCt(s)];case 3:return h.sent(),[4,this.Wrt.pS(t,i,s)];case 4:return h.sent(),this.wCt.gCt(EA.nL(t,i)),[3,7];case 5:return u=h.sent(),r.error=u,r.hasError=!0,[3,7];case 6:return Gt(r),[7];case 7:return[3,9];case 8:return o=this.bCt,this.bCt=void 0,null==o||o.Qy(),[7];case 9:return[2]}})}).call(this)},n.EQ=function(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(this.yCt)throw new y("Concurrent appends are not supported.");u.label=1;case 1:u.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},u.label=2;case 2:return u.trys.push([2,4,5,6]),n=qt(i,hr.ep([t,this.D3.Yg]),!1),r=n.Yg,this.bCt=new Va,[4,this.xCt(r)];case 3:return u.sent(),[3,6];case 4:return e=u.sent(),i.error=e,i.hasError=!0,[3,6];case 5:return Gt(i),[7];case 6:return[3,8];case 7:return s=this.bCt,this.bCt=void 0,null==s||s.Qy(),[7];case 8:return[2]}})}).call(this)},n.xCt=function(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:i=Lt(this.mCt),u.label=1;case 1:return(n=i()).done?[3,4]:(r=n.value,e=r[0],s=r[1],[4,this.Wrt.Q2({Km:zR.wZ,lk:e},s,t)]);case 2:u.sent(),u.label=3;case 3:return[3,1];case 4:return Yn(this.mCt),[2]}})}).call(this)},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:this.D3.zg(),t.label=1;case 1:return this.yCt?[4,this.ACt]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})}).call(this)},Nt(i,[{key:"Fx",get:function(){for(var t,i=EA.rL(),n=Lt(this.mCt);!(t=n()).done;){var r=t.value[1],e=r.Get+r.EU,s=e+r.ct;i=i.HM(EA.nL(e,s))}return this.Wrt.Fx.HM(i)}},{key:"yCt",get:function(){return void 0!==this.bCt}},{key:"ACt",get:function(){return this.bCt?this.bCt.Yy:ut.resolve()}}]),i}(th);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),Qt();var Zz=function(){function t(t){this.ICt=0,this.CCt=void 0,this.CCt=t}var i=t.prototype;return i.PCt=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:if(this.ICt>=this.CCt.maxRetries)throw t;return[4,Ar(this.RCt(this.ICt++),i)];case 1:return n.sent(),[2]}})}).call(this)},i.RCt=function(t){var i=0;return 0!==t&&(i+=b.min(this.CCt.maximumBackoff,this.CCt.minimumBackoff*b.pow(2,t-1))),i},t}();U(),Et(),Pt(),U(),Et(),Pt();var $z=function(t){return t.DCt="emsgdata",t}({}),tX=function(t){function i(i,n){var r;return(r=t.call(this,"emsgdata")||this).value=void 0,r.data=void 0,r.value=i,r.data=n,r}return Ct(i,t),i}(rh);U(),Et();var iX=function(){function t(){this.iZ=void 0}var i=t.prototype;return i.start=function(t){this.iZ=t},i.NCt=function(t){this.iZ.enqueue(t)},t}();U(),Et(),U(),Et();var nX=function(t){return t.BCt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.MCt="timestamps:v1",t}({});function rX(t){if("urn:theo:hesp:2020"===t.sM){var i=t.XE;if(i===nX.BCt)return function(t){if(t&&Wi(t)){var i=t;if(Qi(i.index)&&Qi(i.offset)&&!(i.index<0&&i.offset<0))return{Km:"initdata",index:i.index,offset:i.offset}}}(JSON.parse(fa(_a(t.hM),new Ta)));if(i===nX.MANIFEST_UPDATE)return function(t){if(t&&Wi(t)){var i=t;if(!Li(i.url)||Xi(i.url))return{Km:"manifestupdate",url:i.url}}}(JSON.parse(fa(_a(t.hM),new Ta)));if(i===nX.MCt){var n,r=_a(t.hM),e=new Ta,s=jh(r,e).toNumber()/t.jD,u=jh(r,e).toNumber()/1e3,o=qh(r,e)/1e3;return e.ac+8<=r.byteLength&&(n={hours:qh(r,e),minutes:Wh(r,e),seconds:Wh(r,e),frames:zh(r,e)}),{Km:nX.MCt,LCt:s,OCt:u,FCt:o,UCt:n}}}}var eX=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).VCt=new th,i}Ct(i,t);var n=i.prototype;return n.transform=function(t){if(t.Km===hm.zR)try{var i=rX(km.VD(t.lk));i&&this.VCt.So(new tX(i.Km,i))}catch(t){false}this.NCt(t)},n.zg=function(){this.VCt.Vo()},i}(iX);U(),Et(),Pt();var sX=function(){function t(){this.HCt=void 0}var i=t.prototype;return i.start=function(t){this.HCt=new uX(t)},i.transform=function(t){this.HCt.E$(t)},i.flush=function(){this.HCt.P$()},t}(),uX=function(t){function i(i){var n;return(n=t.call(this)||this).iZ=void 0,n.iZ=i,n}Ct(i,t);var n=i.prototype;return n.L$=function(t){return!0},n.F$=function(t){this.iZ.enqueue(t)},n.V$=function(t){},i}(rC);U(),Et(),Wt(),Pt(),Qt(),U(),Et();var oX=ue.fromNumber(bn);var hX=function(t){function i(i,n){var r;return(r=t.call(this)||this).aV=void 0,r.WCt=void 0,r.aV=i,r.WCt=n,r}return Ct(i,t),i.prototype.vk=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:0,n.label=1;case 1:return n.trys.push([1,3,,5]),[4,this.aV.vk(t)];case 2:return[2,n.sent()];case 3:if(vr(i=n.sent()))throw i;return[4,this.WCt.PCt(i,t.Yg)];case 4:return n.sent(),[3,5];case 5:return[3,0];case 6:return[2]}})}).call(this)},i}(th);function aX(t,i,n,r,e,s,u,o){var h=new Vd;return e&&h.UT(function(t,i){return void 0===i&&(i=oX),new Vd({Range:"bytes="+t.toString()+"-"+i.toString()})}(e.start,e.end)),{Yu:t,_k:h,Xk:!1,Yg:o,Km:yl.Ak,zk:n,Gk:r,Wk:s,qk:u,fk:i,Kk:i===Ud.MT}}U(),Et(),U(),Et(),Pt(),Ft(),U(),Et();var cX,fX,vX=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({});U(),Et(),U(),Et(),function(t){t[t.NON_IDR_PICTURE=1]="NON_IDR_PICTURE",t[t.PARTITION_A_DATA=2]="PARTITION_A_DATA",t[t.PARTITION_B_DATA=3]="PARTITION_B_DATA",t[t.PARTITION_C_DATA=4]="PARTITION_C_DATA",t[t.IDR_PICTURE=5]="IDR_PICTURE",t[t.SUPPLEMENTAL_ENHANCEMENT_INFORMATION=6]="SUPPLEMENTAL_ENHANCEMENT_INFORMATION",t[t.SEQUENCE_PARAMETER_SET=7]="SEQUENCE_PARAMETER_SET",t[t.PICTURE_PARAMETER_SET=8]="PICTURE_PARAMETER_SET",t[t.ACCESS_UNIT_DELIMITER=9]="ACCESS_UNIT_DELIMITER",t[t.END_OF_SEQUENCE=10]="END_OF_SEQUENCE",t[t.END_OF_STREAM=11]="END_OF_STREAM",t[t.FILTER_DATA=12]="FILTER_DATA",t[t.SEQUENCE_PARAMETER_EXTENSION_SET=13]="SEQUENCE_PARAMETER_EXTENSION_SET",t[t.PREFIX_NAL_UNIT=14]="PREFIX_NAL_UNIT",t[t.SUBSET_SEQUENCE_PARAMETER_SET=15]="SUBSET_SEQUENCE_PARAMETER_SET",t[t.DEPTH_PARAMETER_SET=16]="DEPTH_PARAMETER_SET",t[t.CODED_SLICE_WITHOUT_PARITIONING=19]="CODED_SLICE_WITHOUT_PARITIONING",t[t.CODED_SLICE_EXTENSION=20]="CODED_SLICE_EXTENSION",t[t.CODED_SLICE_FOR_DEPTH_VIEW=21]="CODED_SLICE_FOR_DEPTH_VIEW"}(cX||(cX={})),U(),Et(),U(),Et(),U(),Et(),function(t){t[t.P=0]="P",t[t.B=1]="B",t[t.I=2]="I",t[t.SP=3]="SP",t[t.SI=4]="SI"}(fX||(fX={})),U(),Et();var dX=255,lX=[44,83,86,100,110,118,122,128,134,135,138,139,244],wX=[44,86,100,110,122,244];function gX(t){return t.separateColourPlaneFlag?0:t.chromaFormatIDC}function _X(t){return t.parsed&&t.header.type===cX.SEQUENCE_PARAMETER_SET}U(),Et(),U(),Et(),U(),Et(),U(),Et();var mX=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.emulationTracker=0,i.emulationsSkipped=0,i}return Ga(i,t),k.defineProperty(i.prototype,"skippedEmulationBytes",{get:function(){return this.emulationsSkipped},enumerable:!0,configurable:!0}),i.prototype.peekBit=function(){var i=t.prototype.peekBit.call(this);return 1===i||0===this.emulationTracker&&0!==this.location.bit?this.emulationTracker=0:22===++this.emulationTracker&&(t.prototype.skipBits.call(this,8),this.emulationsSkipped++,this.emulationTracker=0),i},i.prototype.readByte=function(){for(var t=0,i=7;i>=0;i--)t+=this.readBit()<<i;return t},i}(tc);function yX(t,i,n,r,e){for(var s=[],u=[],o=[],h=[],a=[],c=[],f=0;f<=n;f++){var v=t.readBool();if(s.push(v),v?(u.push(t.readSignedExponentialGolombCode()),o.push(t.readSignedExponentialGolombCode())):(u.push(b.pow(2,r)),o.push(0)),0!==i){var d=t.readBool();h.push(d);for(var l=[],w=[],g=0;g<2;g++)d?(l.push(t.readSignedExponentialGolombCode()),w.push(t.readSignedExponentialGolombCode())):(l.push(b.pow(2,e)),w.push(0));a.push(l),c.push(w)}}return{lumaWeightFlags:s,lumaWeight:u,lumaOffset:o,chromaWeightFlags:h,chromaWeight:a,chromaOffset:c}}function pX(t,i,n){var r,e;return void 0===n&&(n=!1),i!==fX.I&&i!==fX.SI&&t.readBool()&&(r=kX(t,n)),i===fX.B&&t.readBool()&&(e=kX(t,n)),{l0:r,l1:e}}function kX(t,i){var n,r,e=[],s=[],u=[];i&&(n=[]);var o=-1;do{o++,r=t.readExponentialGolombCode(),e.push(r),u.push(0),s.push(0),i&&n.push(0),0===r||1===r?s[o]=t.readExponentialGolombCode():2===r?u[o]=t.readExponentialGolombCode():!i||4!==r&&5!==r||(n[o]=t.readExponentialGolombCode())}while(3!==r);return{modificationOfPicNumsIdc:e,absDiffPicNumMinus1:s,longTermPicNum:u,absDiffViewIdxMinus1:n}}function bX(t,i,n){var r,e,s,u=new mX(t.data),o=0,h=!1,a=!1,c=0,f=0,v=0,d=[],l=0,w=!1,g=!1,_=n.numRefIdxL0DefaultActiveMinus1,m=n.numRefIdxL1DefaultActiveMinus1,p=0,k=!1,b=0,A=0,T=0,S=0,E=0,I=u.readExponentialGolombCode(),R=u.readExponentialGolombCode(),C=function(t){if(!(t<0||t>9))return t%5}(R),P=u.readExponentialGolombCode();if(void 0===C)throw new y("Could not read the slice header slice type.");i.separateColourPlaneFlag&&(o=u.readUInt(2));var D=u.readUInt(i.log2MaxFrameNumMinus4+4);(i.frameMbsOnlyFlag||(h=u.readBool())&&(a=u.readBool()),t.header.type===cX.IDR_PICTURE&&(c=u.readExponentialGolombCode()),0===i.picOrderCntType?(f=u.readUInt(i.log2MaxPicOrderCntLsbMinus4+4),n.bottomFieldPicOrderInFramePresentFlag&&(v=u.readSignedExponentialGolombCode())):1!==i.picOrderCntType||i.deltaPicOrderAlwaysZeroFlag||(d.push(u.readSignedExponentialGolombCode()),n.bottomFieldPicOrderInFramePresentFlag?d.push(u.readSignedExponentialGolombCode()):d.push(0)),n.redundantPicCntPresentFlag&&(l=u.readExponentialGolombCode()),C===fX.B&&(w=u.readBool()),[fX.B,fX.P,fX.SP].includes(C)&&(g=u.readBool())&&(_=u.readExponentialGolombCode(),C===fX.B&&(m=u.readExponentialGolombCode())),r=t.header.type===cX.CODED_SLICE_EXTENSION||t.header.type===cX.CODED_SLICE_FOR_DEPTH_VIEW?pX(u,C,!0):pX(u,C),(n.weightedPredFlag&&(C===fX.P||C===fX.SP)||1===n.weightedBipredIdc&&C===fX.B)&&(e=function(t,i,n,r,e){var s,u=0,o=t.readExponentialGolombCode();0!==n&&(u=t.readExponentialGolombCode());var h=yX(t,n,r,o,u);return i===fX.B&&(s=yX(t,n,e,o,u)),{chromaLog2WeightDenom:u,lumaLog2WeightDenom:o,l0:h,l1:s}}(u,C,gX(i),_,m)),0!==t.header.refIdc)&&(s=function(t,i){var n=!1,r=!1,e=!1,s=[],u=[],o=[],h=[],a=[];if(i)n=t.readBool(),r=t.readBool();else if(e=t.readBool()){var c=-1,f=void 0;do{u.push(0),o.push(0),h.push(0),a.push(0),c++,f=t.readExponentialGolombCode(),s.push(f),1!==f&&3!==f||(u[c]=t.readExponentialGolombCode()),2===f&&(o[c]=t.readExponentialGolombCode()),3!==f&&6!==f||(h[c]=t.readExponentialGolombCode()),4===f&&(a[c]=t.readExponentialGolombCode())}while(0!==f)}return{noOutputOfPriorPicsFlag:n,longTermReferenceFlag:r,adaptiveRefPicMarkingModeFlag:e,memoryManagementControlOperation:s,differenceOfPicNumsMinus1:u,longTermPicNum:o,longTermFrameIdx:h,maxLongTermFrameIdxPlus1:a}}(u,t.header.type===cX.IDR_PICTURE));n.entropyCodingModeFlag&&C!==fX.I&&C!==fX.SI&&(p=u.readExponentialGolombCode());var N=u.readSignedExponentialGolombCode();return C!==fX.SP&&C!==fX.SI||(C===fX.SP&&(k=u.readBool()),b=u.readSignedExponentialGolombCode()),n.deblockingFilterControlPresentFlag&&1!==(A=u.readExponentialGolombCode())&&(T=u.readSignedExponentialGolombCode(),S=u.readSignedExponentialGolombCode()),n.numSliceGroupsMinus1>0&&n.sliceGroupMapType>=3&&n.sliceGroupMapType<=5&&(E=u.readUInt(Ja(n.picSizeInMapUnitsMinus1+n.sliceGroupChangeRateMinus1+1))),n.entropyCodingModeFlag&&u.location.bit>0&&u.skipBits(8-u.location.bit),{header:ja(ja({},t.header),{firstMbInSlice:I,sliceType:C,origSliceType:R,picParameterSetID:P,colourPlaneID:o,frameNum:D,fieldPicFlag:h,bottomFieldFlag:a,idrPicID:c,picOrderCntLsb:f,deltaPicOrderCntBottom:v,deltaPicOrderCnt:d,redundantPicCnt:l,directSpatialMvPredFlag:w,numRefIdxActiveOverrideFlag:g,numRefIdxL0ActiveMinus1:_,numRefIdxL1ActiveMinus1:m,cabacInitIdc:p,sliceQpDelta:N,spForSwitchFlag:k,sliceQsDelta:b,disableDeblockingFilterIdc:A,sliceAlphaC0OffsetDiv2:T,sliceBetaOffsetDiv2:S,sliceGroupChangeCycle:E,rplm:r,pwt:e,drpm:s}),parsed:!0,data:new Ya(t.data.slice(u.location.byte,t.data.length),u.location.bit)}}function AX(t){var i=function(t,i){return 11===t&&i[3]?TX["1b"]:TX[(t/10).toFixed(1)]}(t.levelIDC,t.constraintFlags),n=(t.frameMbsOnlyFlag?1:2)*(t.picHeightInMapUnitsMinus1+1);return b.min(16,i.maxDpbMbs/((t.picWidthInMbsMinus1+1)*n))}U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et();var TX={"1.0":{maxMbps:1485,maxFs:99,maxDpbMbs:396,maxBr:64,maxCpb:175},"1b":{maxMbps:1485,maxFs:99,maxDpbMbs:396,maxBr:128,maxCpb:350},1.1:{maxMbps:3e3,maxFs:396,maxDpbMbs:900,maxBr:192,maxCpb:500},1.2:{maxMbps:6e3,maxFs:396,maxDpbMbs:2376,maxBr:384,maxCpb:1e3},1.3:{maxMbps:11880,maxFs:396,maxDpbMbs:2376,maxBr:384,maxCpb:2e3},"2.0":{maxMbps:11880,maxFs:396,maxDpbMbs:2376,maxBr:768,maxCpb:2e3},2.1:{maxMbps:19800,maxFs:792,maxDpbMbs:4752,maxBr:4e3,maxCpb:4e3},2.2:{maxMbps:20250,maxFs:1620,maxDpbMbs:8100,maxBr:4e3,maxCpb:4e3},"3.0":{maxMbps:40500,maxFs:1620,maxDpbMbs:8100,maxBr:1e4,maxCpb:1e4},3.1:{maxMbps:108e3,maxFs:3600,maxDpbMbs:18e3,maxBr:14e3,maxCpb:14e3},3.2:{maxMbps:216e3,maxFs:5120,maxDpbMbs:20480,maxBr:2e4,maxCpb:2e4},"4.0":{maxMbps:245760,maxFs:8192,maxDpbMbs:32768,maxBr:2e4,maxCpb:25e3},4.1:{maxMbps:245760,maxFs:8192,maxDpbMbs:32768,maxBr:5e4,maxCpb:62500},4.2:{maxMbps:522240,maxFs:8704,maxDpbMbs:34816,maxBr:5e4,maxCpb:62500},"5.0":{maxMbps:589824,maxFs:22080,maxDpbMbs:110400,maxBr:135e3,maxCpb:135e3},5.1:{maxMbps:983040,maxFs:36864,maxDpbMbs:184320,maxBr:24e4,maxCpb:24e4},5.2:{maxMbps:2073600,maxFs:36864,maxDpbMbs:184320,maxBr:24e4,maxCpb:24e4},"6.0":{maxMbps:4177920,maxFs:139264,maxDpbMbs:696320,maxBr:24e4,maxCpb:24e4},6.1:{maxMbps:8355840,maxFs:139264,maxDpbMbs:696320,maxBr:48e4,maxCpb:48e4},6.2:{maxMbps:16711680,maxFs:139264,maxDpbMbs:696320,maxBr:8e5,maxCpb:8e5}};function SX(t,i){for(var n,r=!1,e=[],s=8,u=8,o=0;o<i;o++)0!==u&&(u=(s+(n=t.readSignedExponentialGolombCode())+256)%256,r=0===o&&0===u),s=0===u?s:u,void 0!==n&&e.push(n);return{useDefaultScalingMatrixFlag:r,scalingList:e}}function EX(t){for(var i=new mX(t.data),n=i.readByte(),r=[],e=2;e<8;e++)r[e-2]=i.readBool();var s=i.readUInt(2),u=i.readByte(),o=i.readExponentialGolombCode(),h=1,a=!1,c=0,f=0,v=!1,d=!1,l=[],w=[],g=[],_=[],m=[];if(lX.includes(n)&&(3===(h=i.readExponentialGolombCode())&&(a=i.readBool()),c=i.readExponentialGolombCode(),f=i.readExponentialGolombCode(),v=i.readBool(),d=i.readBool()))for(var y=void 0,p=0;p<(3!==h?8:12);p++){var k=i.readBool();l.push(k),k&&(p<6?(y=SX(i,16),w.push(y.scalingList),g.push(y.useDefaultScalingMatrixFlag)):(y=SX(i,64),_.push(y.scalingList),m.push(y.useDefaultScalingMatrixFlag)))}var A,T=0,S=!1,E=0,I=0,R=0,C=[],P=!1,D=0,N=0,x=0,B=0,O=i.readExponentialGolombCode(),M=i.readExponentialGolombCode();if(0===M)T=i.readExponentialGolombCode();else if(1===M){S=i.readBool(),E=i.readSignedExponentialGolombCode(),I=i.readSignedExponentialGolombCode(),R=i.readExponentialGolombCode();for(p=0;p<R;p+=1)C.push(i.readSignedExponentialGolombCode())}var L=i.readExponentialGolombCode(),F=i.readBool(),U=i.readExponentialGolombCode(),V=i.readExponentialGolombCode(),H=i.readBool();H||(P=i.readBool());var W=i.readBool(),z=i.readBool();z&&(D=i.readExponentialGolombCode(),x=i.readExponentialGolombCode(),N=i.readExponentialGolombCode(),B=i.readExponentialGolombCode());var X=ja(ja({},t.header),{profileIDC:n,constraintFlags:r,reservedZero2Bits:s,levelIDC:u,seqParameterSetId:o,chromaFormatIDC:h,separateColourPlaneFlag:a,bitDepthLumaMinus8:c,bitDepthChromaMinus8:f,qpprimeYZeroTransformBypassFlag:v,seqScalingMatrixPresentFlag:d,seqScalingListPresentFlags:l,scalingList4x4:w,useDefaultScalingMatrix4x4Flag:g,scalingList8x8:_,useDefaultScalingMatrix8x8Flag:m,log2MaxFrameNumMinus4:O,picOrderCntType:M,log2MaxPicOrderCntLsbMinus4:T,deltaPicOrderAlwaysZeroFlag:S,offsetForNonRefPic:E,offsetForTopToBottomField:I,numRefFramesInPicOrderCntCycle:R,offsetForRefFrame:C,maxNumRefFrames:L,gapsInFrameNumValueAllowedFlag:F,picWidthInMbsMinus1:U,picHeightInMapUnitsMinus1:V,frameMbsOnlyFlag:H,mbAdaptiveFrameFieldFlag:P,direct8x8InferenceFlag:W,frameCroppingFlag:z,frameCropLeftOffset:D,frameCropRightOffset:x,frameCropTopOffset:N,frameCropBottomOffset:B,width:b.floor(16*(U+1)-2*D-2*x),height:b.floor((2-(H?1:0))*(V+1)*16-2*N-2*B)});return i.readBool()&&(A=function(t,i){var n,r,e,s=0,u=0,o=0,h=!1,a=5,c=!1,f=!1,v=2,d=2,l=2,w=0,g=0,_=0,m=0,y=!1,p=!0,k=2,b=1,A=15,T=15,S=wX.includes(i.profileIDC)&&i.constraintFlags[3]?0:AX(i),E=wX.includes(i.profileIDC)&&i.constraintFlags[3]?0:AX(i),I=t.readBool();I&&255===(s=t.readUInt(8))&&(u=t.readUInt(16),o=t.readUInt(16));var R=t.readBool();R&&(h=t.readBool());var C=t.readBool();C&&(a=t.readUInt(3),c=t.readBool(),(f=t.readBool())&&(v=t.readUInt(8),d=t.readUInt(8),l=t.readUInt(8)));var P=t.readBool();P&&(w=t.readExponentialGolombCode(),g=t.readExponentialGolombCode());var D=t.readBool();D&&(_=t.readUInt(32),m=t.readUInt(32),y=t.readBool());var N=t.readBool();N&&(r=IX(t,0));var x=t.readBool();x&&(e=IX(t,0));(N||x)&&(n=t.readBool());var B=t.readBool(),O=t.readBool();O&&(p=t.readBool(),k=t.readExponentialGolombCode(),b=t.readExponentialGolombCode(),A=t.readExponentialGolombCode(),T=t.readExponentialGolombCode(),S=t.readExponentialGolombCode(),E=t.readExponentialGolombCode());return{aspectRatioInfoPresentFlag:I,aspectRatioIdc:s,sarWidth:u,sarHeight:o,overscanInfoPresentFlag:R,overscanAppropriateFlag:h,videoSignalTypePresentFlag:C,videoFormat:a,videoFullRangeFlag:c,colourDescriptionPresentFlag:f,colourPrimaries:v,transferCharacteristics:d,matrixCoefficients:l,chromaLocInfoPresentFlag:P,chromaSampleLocTypeTopField:w,chromaSampleLocTypeBottomField:g,timingInfoPresentFlag:D,numUnitsInTick:_,timeScale:m,fixedFrameRateFlag:y,nalHrdParameters:r,vclHrdParameters:e,lowDelayHrdFlag:null!=n?n:!y,picStructPresentFlag:B,bitstreamRestrictionFlag:O,motionVectorsOverPicBoundariesFlag:p,maxBytesPerPicDenom:k,maxBitsPerMbDenom:b,log2MaxMvLengthHorizontal:A,log2MaxMvLengthVertical:T,maxNumReorderFrames:S,maxDecFrameBuffering:E}}(i,X)),{header:ja(ja({},X),{vui:A}),parsed:!0,data:t.data.slice(i.location.byte+(0===i.location.bit?0:1))}}function IX(t,i){for(var n=![0,5].includes(i),r=n?0:t.readExponentialGolombCode(),e=n?void 0:t.readUInt(4),s=n?void 0:t.readUInt(4),u=[],o=[],h=[],a=0;a<=r;a++)if(n)h.push(!1);else{var c=t.readExponentialGolombCode(),f=t.readExponentialGolombCode();u.push(c),o.push(f),h.push(t.readBool())}return{cpbCntMinus1:r,bitRateScale:e,cpbSizeScale:s,bitRateValueMinus1:u,cpbSizeValueMinus1:o,cbrFlag:h,initialCpbRemovalDelayLengthMinus1:n?23:t.readUInt(5),cpbRemovalDelayLengthMinus1:n?23:t.readUInt(5),dpbOutputDelayLengthMinus1:n?23:t.readUInt(5),timeOffsetLength:n?24:t.readUInt(5)}}U(),Et(),U(),Et();var RX=function(){function t(){}return t.prototype.setSps=function(t){this.sps=t},t.prototype.setPps=function(t){this.pps=t},t.prototype.parseNal=function(t){switch(t.header.type){case cX.SEQUENCE_PARAMETER_SET:var i=EX(t);return this.setSps(i.header),i;case cX.PICTURE_PARAMETER_SET:if(void 0===this.sps)throw new y("SPS data is missing, even though a PPS NAL was given.");var n=function(t,i){var n=new mX(t.data),r=0,e=[],s=[],u=[],o=!1,h=0,a=0,c=[],f=!1,v=!1,d=[],l=[],w=[],g=[],_=[],m=n.readExponentialGolombCode(),y=n.readExponentialGolombCode(),p=n.readBool(),k=n.readBool(),b=n.readExponentialGolombCode();if(b>0)if(0===(r=n.readExponentialGolombCode()))for(var A=0;A<=b;A++)e.push(n.readExponentialGolombCode());else if(2===r)for(A=0;A<b;A++)s.push(n.readExponentialGolombCode()),u.push(n.readExponentialGolombCode());else if([3,4,5].includes(r))o=n.readBool(),h=n.readExponentialGolombCode();else if(6===r)for(a=n.readExponentialGolombCode(),A=0;A<=a;A++)c.push(n.readUInt(Ja(b+1)));var T=n.readExponentialGolombCode(),S=n.readExponentialGolombCode(),E=n.readBool(),I=n.readUInt(2),R=n.readSignedExponentialGolombCode(),C=n.readSignedExponentialGolombCode(),P=n.readSignedExponentialGolombCode(),D=n.readBool(),N=n.readBool(),x=n.readBool(),B=P,O=function(t){if(t.done)return!1;if(0===t.peekBit())return!0;var i=t.copy();for(i.skipBits(1);!i.done;)if(i.readBool())return!0;return t.skipBits(8-t.location.bit),!1}(n);if(O){if(f=n.readBool(),v=n.readBool()){var M=6;f&&(M+=3!==i.chromaFormatIDC?2:6);var L=void 0;for(A=0;A<M;A++){var F=n.readBool();d.push(F),F&&(A<6?(L=SX(n,16),l.push(L.scalingList),w.push(L.useDefaultScalingMatrixFlag)):(L=SX(n,64),g.push(L.scalingList),_.push(L.useDefaultScalingMatrixFlag)))}}B=n.readSignedExponentialGolombCode()}return{header:ja(ja({},t.header),{picParameterSetId:m,seqParameterSetId:y,entropyCodingModeFlag:p,bottomFieldPicOrderInFramePresentFlag:k,numSliceGroupsMinus1:b,sliceGroupMapType:r,runLengthMinus1:e,topLeft:s,bottomRight:u,sliceGroupChangeDirectionFlag:o,sliceGroupChangeRateMinus1:h,picSizeInMapUnitsMinus1:a,sliceGroupId:c,numRefIdxL0DefaultActiveMinus1:T,numRefIdxL1DefaultActiveMinus1:S,weightedPredFlag:E,weightedBipredIdc:I,picInitQpMinus26:R,picInitQsMinus26:C,chromaQpIndexOffset:P,deblockingFilterControlPresentFlag:D,constrainedIntraPredFlag:N,redundantPicCntPresentFlag:x,hasMoreRbsp:O,transform8x8ModeFlag:f,picScalingMatrixPresentFlag:v,picScalingListPresentFlags:d,scalingList4x4:l,useDefaultScalingMatrix4x4Flag:w,scalingList8x8:g,useDefaultScalingMatrix8x8Flag:_,secondChromaQpIndexOffset:B}),parsed:!0,data:t.data.slice(n.location.byte+(0===n.location.bit?0:1),t.data.length)}}(t,this.sps);return this.setPps(n.header),n;case cX.NON_IDR_PICTURE:case cX.IDR_PICTURE:if(void 0===this.pps)throw new y("PPS data is missing, even though an IDR_PIC NAL was given.");if(void 0===this.sps)throw new y("SPS data is missing, even though an IDR_PIC NAL was given.");return bX(t,this.sps,this.pps);default:return{header:t.header,parsed:!0,data:t.data}}},t.prototype.parseNals=function(t){var i=this;return t.map(function(t){return i.parseNal(t)})},t.prototype.calculateHeaderLength=function(t){var i=t.data.bitLength-this.parseNal(t).data.bitLength;return b.ceil(i/8)},t}();function CX(t){if(0===t.length)throw new y("NALU should be at least a byte long.");var i=new tc(t);if(0!==i.readBit())throw new y("Forbidden zero bit is NOT zero. NAL parsing failed.");return{header:{refIdc:i.readUInt(2),type:i.readUInt(5)},parsed:!1,data:t.slice(1).trim()}}function PX(t){return V(t,E)?nc.from(t):t}U(),Et(),U(),Et(),U(),Et(),H();var DX=function(){function t(t){if(t<1)throw new y("Expected lengthSize to be at least 1, but was "+t+".");this.currentBuffer=new nc,this.lengthSize=t}return t.prototype.extractNals=function(t){this.currentBuffer=this.currentBuffer.concat(PX(t));for(var i=[];this.currentBuffer.length>=this.lengthSize;){var n=this.currentBuffer.readUIntBE(0,this.lengthSize);if(this.lengthSize+n>this.currentBuffer.length)break;var r=this.currentBuffer.slice(this.lengthSize,this.lengthSize+n);i.push(CX(r)),this.currentBuffer=this.currentBuffer.slice(this.lengthSize+n)}return i},t}();U(),Et(),U(),Et();var NX=new E([0,0,1]),xX=new E([0,0,0,1]);function BX(t){return!1===t.parsed}var OX=function(){function t(){this.currentData=new nc,this.startFound=!1}return t.prototype.extractNals=function(i){this.currentData=this.currentData.concat(PX(i));var n=[];if(!this.startFound){var r=this.currentData.indexOf(xX);if(-1===r)return n;this.currentData=this.currentData.slice(r+4),this.startFound=!0}for(;this.currentData.length>0;){var e=t.findNextIndex(this.currentData);if(void 0===e)break;var s=e[0],u=e[1];n.push(CX(this.currentData.slice(0,s))),this.currentData=this.currentData.slice(s+u)}return n},t.findNextIndex=function(t){var i=t.indexOf(xX),n=t.indexOf(NX);if(-1!==i||-1!==n)return-1===i||i>n?[n,3]:[i,4]},t}(),MX=function(){function t(){}return t.createStreamingAnnexBExtractor=function(){return new OX},t.createStreamingAvccExtractor=function(t){return new DX(t)},t.extractAnnexB=function(t){var i=new OX,n=PX(t);return n.pushRange(new E([0,0,0,1])),i.extractNals(n)},t.extractAvcc=function(t,i){return new DX(i).extractNals(PX(t))},t.extractParsedAnnexB=function(t){return(new RX).parseNals(this.extractAnnexB(t))},t.extractParsedAvcc=function(t,i){return(new RX).parseNals(this.extractAvcc(t,i))},t}();U(),Et(),U(),Et(),U(),Et(),U(),Et();var LX=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.emulationTracker=0,i}return Ga(i,t),i.prototype.writeBit=function(i){if(22===this.emulationTracker){for(var n=0,r=[1,1,0,0,0,0,0,0];n<r.length;n++){var e=r[n];t.prototype.writeBit.call(this,e)}this.emulationTracker=0}1===i?this.emulationTracker=0:(this.isWritingStartBit||this.emulationTracker>0)&&(this.emulationTracker+=1),t.prototype.writeBit.call(this,i)},i.prototype.writeByte=function(t){for(var i=7;i>=0;i--)this.writeBool((t&1<<i)>0)},i.prototype.writeBuffer=function(i){var n;for(n=0;n<i.length-1;n++)t.prototype.writeByte.call(this,i.get(n));for(var r=8*n;r<i.bitLength;r++)t.prototype.writeBit.call(this,i.getBit(r))},i.prototype.writeTrailingBits=function(){this.writeBit(1),this.padByte(0)},i}(rc);function FX(t,i,n,r){void 0===r&&(r=!1),i!==fX.I&&i!==fX.SI&&(n.writeBool(void 0!==t.l0),void 0!==t.l0&&UX(t.l0,n,r)),i===fX.B&&(n.writeBool(void 0!==t.l1),void 0!==t.l1&&UX(t.l1,n,r))}function UX(t,i,n){for(var r=0;r<t.modificationOfPicNumsIdc.length;r++){var e=t.modificationOfPicNumsIdc[r];i.writeExponentialGolombCode(e),0===e||1===e?i.writeExponentialGolombCode(t.absDiffPicNumMinus1[r]):2===e?i.writeExponentialGolombCode(t.longTermPicNum[r]):!n||4!==e&&5!==e||i.writeExponentialGolombCode(t.absDiffViewIdxMinus1[r])}}function VX(t,i,n,r){for(var e=0;e<=n;e++)if(r.writeBool(t.lumaWeightFlags[e]),t.lumaWeightFlags[e]&&(r.writeSignedExponentialGolombCode(t.lumaWeight[e]),r.writeSignedExponentialGolombCode(t.lumaOffset[e])),0!==i&&(r.writeBool(t.chromaWeightFlags[e]),t.chromaWeightFlags[e]))for(var s=0;s<2;s++)r.writeSignedExponentialGolombCode(t.chromaWeight[e][s]),r.writeSignedExponentialGolombCode(t.chromaOffset[e][s])}function HX(t,i,n){var r=t.header,e=new LX;if(e.writeExponentialGolombCode(r.firstMbInSlice),e.writeExponentialGolombCode(r.origSliceType),e.writeExponentialGolombCode(r.picParameterSetID),i.separateColourPlaneFlag&&e.writeUInt(r.colourPlaneID,2),e.writeUInt(r.frameNum,i.log2MaxFrameNumMinus4+4),i.frameMbsOnlyFlag||(e.writeBool(r.fieldPicFlag),r.fieldPicFlag&&e.writeBool(r.bottomFieldFlag)),r.type===cX.IDR_PICTURE&&e.writeExponentialGolombCode(r.idrPicID),0===i.picOrderCntType?(e.writeUInt(r.picOrderCntLsb,i.log2MaxPicOrderCntLsbMinus4+4),n.bottomFieldPicOrderInFramePresentFlag&&!r.fieldPicFlag&&e.writeSignedExponentialGolombCode(r.deltaPicOrderCntBottom)):1!==i.picOrderCntType||i.deltaPicOrderAlwaysZeroFlag||(e.writeSignedExponentialGolombCode(r.deltaPicOrderCnt[0]),n.bottomFieldPicOrderInFramePresentFlag&&!r.fieldPicFlag&&e.writeSignedExponentialGolombCode(r.deltaPicOrderCnt[1])),n.redundantPicCntPresentFlag&&e.writeExponentialGolombCode(r.redundantPicCnt),r.sliceType===fX.B&&e.writeBool(r.directSpatialMvPredFlag),[fX.P,fX.SP,fX.B].includes(r.sliceType)&&(e.writeBool(r.numRefIdxActiveOverrideFlag),r.numRefIdxActiveOverrideFlag&&(e.writeExponentialGolombCode(r.numRefIdxL0ActiveMinus1),r.sliceType===fX.B&&e.writeExponentialGolombCode(r.numRefIdxL1ActiveMinus1))),r.type===cX.CODED_SLICE_EXTENSION||r.type===cX.CODED_SLICE_FOR_DEPTH_VIEW?FX(r.rplm,r.sliceType,e,!0):FX(r.rplm,r.sliceType,e),(n.weightedPredFlag&&(r.sliceType===fX.P||r.sliceType===fX.SP)||1===n.weightedBipredIdc&&r.sliceType===fX.B)&&function(t,i,n,r,e,s){s.writeExponentialGolombCode(t.lumaLog2WeightDenom),0!==n&&s.writeExponentialGolombCode(t.chromaLog2WeightDenom),VX(t.l0,n,r,s),i===fX.B&&VX(t.l1,n,e,s)}(r.pwt,r.sliceType,gX(i),r.numRefIdxL0ActiveMinus1,r.numRefIdxL1ActiveMinus1,e),r.refIdc){var s=r.type===cX.IDR_PICTURE;!function(t,i,n){if(n)i.writeBool(t.noOutputOfPriorPicsFlag),i.writeBool(t.longTermReferenceFlag);else if(i.writeBool(t.adaptiveRefPicMarkingModeFlag),t.adaptiveRefPicMarkingModeFlag)for(var r=0;r<t.memoryManagementControlOperation.length;r++){var e=t.memoryManagementControlOperation[r];i.writeExponentialGolombCode(e),1!==e&&3!==e||i.writeExponentialGolombCode(t.differenceOfPicNumsMinus1[r]),2===e&&i.writeExponentialGolombCode(t.longTermPicNum[r]),3!==e&&6!==e||i.writeExponentialGolombCode(t.longTermFrameIdx[r]),4===e&&i.writeExponentialGolombCode(t.maxLongTermFrameIdxPlus1[r])}}(r.drpm,e,s)}return n.entropyCodingModeFlag&&r.sliceType!==fX.I&&r.sliceType!==fX.SI&&e.writeExponentialGolombCode(r.cabacInitIdc),e.writeSignedExponentialGolombCode(r.sliceQpDelta),[fX.SP,fX.SI].includes(r.sliceType)&&(r.sliceType===fX.SP&&e.writeBool(r.spForSwitchFlag),e.writeSignedExponentialGolombCode(r.sliceQsDelta)),n.deblockingFilterControlPresentFlag&&(e.writeExponentialGolombCode(r.disableDeblockingFilterIdc),1!==r.disableDeblockingFilterIdc&&(e.writeSignedExponentialGolombCode(r.sliceAlphaC0OffsetDiv2),e.writeSignedExponentialGolombCode(r.sliceBetaOffsetDiv2))),n.numSliceGroupsMinus1>0&&n.sliceGroupMapType>=3&&n.sliceGroupMapType<=5&&e.writeUInt(r.sliceGroupChangeCycle,Ja(n.picSizeInMapUnitsMinus1+n.sliceGroupChangeRateMinus1+1)),n.entropyCodingModeFlag&&e.padByte(1),e.writeBuffer(t.data),{header:{refIdc:r.refIdc,type:r.type},parsed:!1,data:e.close()}}function WX(t){var i=t.header,n=new LX;n.writeByte(i.profileIDC);for(var r=0,e=i.constraintFlags;r<e.length;r++){var s=e[r];n.writeBool(s)}if(n.writeBits([0,0]),n.writeByte(i.levelIDC),n.writeExponentialGolombCode(i.seqParameterSetId),lX.includes(i.profileIDC)&&(n.writeExponentialGolombCode(i.chromaFormatIDC),3===i.chromaFormatIDC&&n.writeBool(i.separateColourPlaneFlag),n.writeExponentialGolombCode(i.bitDepthLumaMinus8),n.writeExponentialGolombCode(i.bitDepthChromaMinus8),n.writeBool(i.qpprimeYZeroTransformBypassFlag),n.writeBool(i.seqScalingMatrixPresentFlag),i.seqScalingMatrixPresentFlag))for(var u=0;u<(3!==i.chromaFormatIDC?8:12);u++)if(n.writeBool(i.seqScalingListPresentFlags[u]),u<6)for(var o=0,h=i.scalingList4x4[u];o<h.length;o++){var a=h[o];n.writeSignedExponentialGolombCode(a)}else for(var c=0,f=i.scalingList8x8[u-6];c<f.length;c++){a=f[c];n.writeSignedExponentialGolombCode(a)}if(n.writeExponentialGolombCode(i.log2MaxFrameNumMinus4),n.writeExponentialGolombCode(i.picOrderCntType),0===i.picOrderCntType)n.writeExponentialGolombCode(i.log2MaxPicOrderCntLsbMinus4);else if(1===i.picOrderCntType){n.writeBool(i.deltaPicOrderAlwaysZeroFlag),n.writeSignedExponentialGolombCode(i.offsetForNonRefPic),n.writeSignedExponentialGolombCode(i.offsetForTopToBottomField),n.writeExponentialGolombCode(i.numRefFramesInPicOrderCntCycle);for(var v=0,d=i.offsetForRefFrame;v<d.length;v++){var l=d[v];n.writeSignedExponentialGolombCode(l)}}return n.writeExponentialGolombCode(i.maxNumRefFrames),n.writeBool(i.gapsInFrameNumValueAllowedFlag),n.writeExponentialGolombCode(i.picWidthInMbsMinus1),n.writeExponentialGolombCode(i.picHeightInMapUnitsMinus1),n.writeBool(i.frameMbsOnlyFlag),i.frameMbsOnlyFlag||n.writeBool(i.mbAdaptiveFrameFieldFlag),n.writeBool(i.direct8x8InferenceFlag),n.writeBool(i.frameCroppingFlag),i.frameCroppingFlag&&(n.writeExponentialGolombCode(i.frameCropLeftOffset),n.writeExponentialGolombCode(i.frameCropRightOffset),n.writeExponentialGolombCode(i.frameCropTopOffset),n.writeExponentialGolombCode(i.frameCropBottomOffset)),n.writeBool(void 0!==i.vui),void 0!==i.vui&&function(t,i){i.writeBool(t.aspectRatioInfoPresentFlag),t.aspectRatioInfoPresentFlag&&(i.writeByte(t.aspectRatioIdc),t.aspectRatioIdc===dX&&(i.writeUInt(t.sarWidth,16),i.writeUInt(t.sarHeight,16)));i.writeBool(t.overscanInfoPresentFlag),t.overscanInfoPresentFlag&&i.writeBool(t.overscanAppropriateFlag);i.writeBool(t.videoSignalTypePresentFlag),t.videoSignalTypePresentFlag&&(i.writeUInt(t.videoFormat,3),i.writeBool(t.videoFullRangeFlag),i.writeBool(t.colourDescriptionPresentFlag),t.colourDescriptionPresentFlag&&(i.writeByte(t.colourPrimaries),i.writeByte(t.transferCharacteristics),i.writeByte(t.matrixCoefficients)));i.writeBool(t.chromaLocInfoPresentFlag),t.chromaLocInfoPresentFlag&&(i.writeExponentialGolombCode(t.chromaSampleLocTypeTopField),i.writeExponentialGolombCode(t.chromaSampleLocTypeBottomField));i.writeBool(t.timingInfoPresentFlag),t.timingInfoPresentFlag&&(i.writeUInt(t.numUnitsInTick,32),i.writeUInt(t.timeScale,32),i.writeBool(t.fixedFrameRateFlag));var n=void 0!==t.nalHrdParameters;i.writeBool(n),n&&zX(t.nalHrdParameters,0,i);var r=void 0!==t.vclHrdParameters;i.writeBool(r),r&&zX(t.vclHrdParameters,0,i);(n||r)&&i.writeBool(t.lowDelayHrdFlag);i.writeBool(t.picStructPresentFlag),i.writeBool(t.bitstreamRestrictionFlag),t.bitstreamRestrictionFlag&&(i.writeBool(t.motionVectorsOverPicBoundariesFlag),i.writeExponentialGolombCode(t.maxBytesPerPicDenom),i.writeExponentialGolombCode(t.maxBitsPerMbDenom),i.writeExponentialGolombCode(t.log2MaxMvLengthHorizontal),i.writeExponentialGolombCode(t.log2MaxMvLengthVertical),i.writeExponentialGolombCode(t.maxNumReorderFrames),i.writeExponentialGolombCode(t.maxDecFrameBuffering))}(i.vui,n),n.writeTrailingBits(),{header:{refIdc:i.refIdc,type:i.type},parsed:!1,data:n.close()}}function zX(t,i,n){if([0,5].includes(i)){n.writeExponentialGolombCode(t.cpbCntMinus1),n.writeUInt(t.bitRateScale,4),n.writeUInt(t.cpbSizeScale,4);for(var r=0;r<=t.cpbCntMinus1;r++)n.writeExponentialGolombCode(t.bitRateValueMinus1[r]),n.writeExponentialGolombCode(t.cpbSizeValueMinus1[r]),n.writeBool(t.cbrFlag[r]);n.writeUInt(t.initialCpbRemovalDelayLengthMinus1,5),n.writeUInt(t.cpbRemovalDelayLengthMinus1,5),n.writeUInt(t.dpbOutputDelayLengthMinus1,5),n.writeUInt(t.timeOffsetLength,5)}}U(),Et(),U(),Et(),U(),Et(),U(),Et(),U(),Et();var XX=function(){function t(){}return t.prototype.setSps=function(t){this.sps=t},t.prototype.setPps=function(t){this.pps=t},t.prototype.writeNal=function(t){if(_X(t))return this.setSps(t.header),WX(t);if(function(t){return t.parsed&&t.header.type===cX.PICTURE_PARAMETER_SET}(t)){if(void 0===this.sps)throw new y("SPS data is missing, even though a PPS NAL was given.");return this.setPps(t.header),function(t,i){var n=t.header,r=new LX;if(r.writeExponentialGolombCode(n.picParameterSetId),r.writeExponentialGolombCode(n.seqParameterSetId),r.writeBool(n.entropyCodingModeFlag),r.writeBool(n.bottomFieldPicOrderInFramePresentFlag),r.writeExponentialGolombCode(n.numSliceGroupsMinus1),n.numSliceGroupsMinus1>0)if(r.writeExponentialGolombCode(n.sliceGroupMapType),0===n.sliceGroupMapType)for(var e=0,s=n.runLengthMinus1;e<s.length;e++){var u=s[e];r.writeExponentialGolombCode(u)}else if(2===n.sliceGroupMapType)for(var o=0;o<n.numSliceGroupsMinus1;o++)r.writeExponentialGolombCode(n.topLeft[o]),r.writeExponentialGolombCode(n.bottomRight[o]);else if([3,4,5].includes(n.sliceGroupMapType))r.writeBool(n.sliceGroupChangeDirectionFlag),r.writeExponentialGolombCode(n.sliceGroupChangeRateMinus1);else if(6===n.sliceGroupMapType){r.writeExponentialGolombCode(n.picSizeInMapUnitsMinus1);for(var h=0,a=n.sliceGroupId;h<a.length;h++){var c=a[h];r.writeUInt(c,Ja(n.numSliceGroupsMinus1+1))}}if(r.writeExponentialGolombCode(n.numRefIdxL0DefaultActiveMinus1),r.writeExponentialGolombCode(n.numRefIdxL1DefaultActiveMinus1),r.writeBool(n.weightedPredFlag),r.writeUInt(n.weightedBipredIdc,2),r.writeSignedExponentialGolombCode(n.picInitQpMinus26),r.writeSignedExponentialGolombCode(n.picInitQsMinus26),r.writeSignedExponentialGolombCode(n.chromaQpIndexOffset),r.writeBool(n.deblockingFilterControlPresentFlag),r.writeBool(n.constrainedIntraPredFlag),r.writeBool(n.redundantPicCntPresentFlag),n.hasMoreRbsp){if(r.writeBool(n.transform8x8ModeFlag),r.writeBool(n.picScalingMatrixPresentFlag),n.picScalingMatrixPresentFlag){var f=6;for(n.transform8x8ModeFlag&&(f+=3!==i.chromaFormatIDC?2:6),o=0;o<f;o++)if(r.writeBool(n.picScalingListPresentFlags[o]),n.picScalingListPresentFlags[o])if(o<6)for(var v=0,d=n.scalingList4x4[o];v<d.length;v++){var l=d[v];r.writeSignedExponentialGolombCode(l)}else for(var w=0,g=n.scalingList8x8[o-6];w<g.length;w++)l=g[w],r.writeSignedExponentialGolombCode(l)}r.writeSignedExponentialGolombCode(n.secondChromaQpIndexOffset)}return r.writeTrailingBits(),{header:{refIdc:n.refIdc,type:n.type},parsed:!1,data:r.close()}}(t,this.sps)}if(function(t){return t.parsed&&(t.header.type===cX.IDR_PICTURE||t.header.type===cX.NON_IDR_PICTURE)}(t)){if(void 0===this.pps)throw new y("PPS data is missing, even though a NON_IDR_PIC NAL was given.");if(void 0===this.sps)throw new y("SPS data is missing, even though a NON_IDR_PIC NAL was given.");return HX(t,this.sps,this.pps)}return{header:t.header,parsed:!1,data:t.data}},t.prototype.writeNals=function(t){var i=this;return t.map(function(t){return i.writeNal(t)})},t}();function qX(t){var i=t.header.refIdc<<5&96|31&t.header.type;return nc.from(new E([i])).concat(t.data)}U(),Et(),U(),Et(),U(),Et();var GX=function(){function t(){}return t.serializeNal=function(t){return qX(t).join()},t.serializeAnnexB=function(i){return 0===i.length?new E(0):BX(i[0])?function(t){for(var i=nc.from(new E([0,0,0,1])),n=0,r=t;n<r.length;n++){var e=qX(r[n]);(i=i.concat(e)).pushRange(new E([0,0,1]))}return i}(i).join():t.serializeAnnexB((new XX).writeNals(i))},t.serializeAvcc=function(i,n){return 0===i.length?new E(0):BX(i[0])?function(t,i){for(var n=new nc,r=0,e=t;r<e.length;r++){var s=qX(e[r]),u=s.length;if(u>=b.pow(2,8*i))throw new y("NAL length size "+i+" is too small, serialized NAL is "+u+"B long.");var o=new rc;o.writeUInt(u,i),n.pushRange(o.close().join()),n=n.concat(s)}return n}(i,n).join():t.serializeAvcc((new XX).writeNals(i),n)},t}();U(),Et();!function(){function t(){}t.createAvccDecoderConfig=function(t,i){var n=t.header,r=new XX,e=GX.serializeNal(r.writeNal(t)),s=GX.serializeNal(r.writeNal(i)),u=e.length,o=s.length,h=new rc;return h.writeUInt(1,8),h.writeUInt(n.profileIDC,8),h.writeUInt(this.toNumber(n.constraintFlags),8),h.writeUInt(n.levelIDC,8),h.writeUInt(255,8),h.writeUInt(225,8),h.writeUInt((65280&u)>>8,8),h.writeUInt(255&u,8),h.writeBytes(e),h.writeUInt(1,8),h.writeUInt((65280&o)>>8,8),h.writeUInt(255&o,8),h.writeBytes(s),h.close().join()},t.createCodecInformation=function(t){var i=this.toHex(t.header.profileIDC),n=this.toHex(this.toNumber(function(){for(var t=0,i=0,n=arguments.length;i<n;i++)t+=arguments[i].length;var r=Array(t),e=0;for(i=0;i<n;i++)for(var s=arguments[i],u=0,o=s.length;u<o;u++,e++)r[e]=s[u];return r}(t.header.constraintFlags,[!1,!1])));return"avc1."+i+n+this.toHex(t.header.levelIDC)},t.toNumber=function(t){return t.reduce(function(t,i){return 2*t+(i?1:0)},0)},t.toHex=function(t){var i=Number(t).toString(16);return i.length%2!=0?"0"+i:i}}();U(),Et(),Pt();var jX=function(t){function i(i,n){var r;return(r=t.call(this)||this).IQ=void 0,r.qat=void 0,r.Jb=void 0,r.qCt=[],r.IQ=i,r.qat=r.IQ.match(/video/)?nB.Mk:nB.Bk,r.Jb=n,r}Ct(i,t);var n=i.prototype;return n.transform=function(t){this.qCt.push(t),t.Km===hm.WR&&this.zCt(this.qCt.splice(0),vX.FRAMES)},n.zCt=function(t,i){var n={jD:this.Jb,lQ:this.IQ},r=Na(t.map(function(t){return ma(t.lk.lk)})),e=Fn(t,QX),s=km.PD(e.lk.lk)[0],u={Gk:this.qat,Py:n,yut:r,Km:i,ct:this.Nd(s)/this.Jb,Qvt:le(this.GCt(s),this.Jb)};this.NCt(u)},n.Nd=function(t){var i,n=t.Z[0];if(!n||0===n.QB.length)return 0;var r=null!=(i=n.yD.FB)?i:0;return Dn(n.QB[0].iM,function(t){var i;return null!=(i=t.ct)?i:r})},n.GCt=function(t){var i,n;return null!=(n=null==(i=t.Z[0].KB)?void 0:i.KB)?n:ue.UZERO},i}(iX);function QX(t){return t.Km===hm.NR}var YX=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.zCt=function(i,n){var r=i;n===vX.FRAMES&&(r=KX(r)),t.prototype.zCt.call(this,r,n)},i}(jX);function KX(t){var i=Fn(t,function(t){return t.Km===hm.NR}),n=function(t){for(var i,n=ma(t.lk.lk),r=MX.extractAvcc(wa(n,t.lk.$R.ac),4),e=[],s=Lt(r);!(i=s()).done;){var u=i.value;if(u.header.type===cX.SEQUENCE_PARAMETER_SET){var o=(new RX).parseNal(u);if(_X(o)){o.header.maxNumRefFrames=b.pow(2,o.header.log2MaxFrameNumMinus4+4),e.push((new XX).writeNal(o));continue}}e.push(u)}var h=GX.serializeAvcc(e,32),a=new DataView(new ArrayBuffer(8+h.byteLength)),c=new Ta;return Gh(a,c,h.byteLength+8),ta(a,c,"mdat"),Uh(a,c,h),gm.pD(_a(a),new Ta)}(Fn(t,function(t){return t.Km===hm.WR})),r=function(t,i){var n=bv(ma(t.lk.lk)),r=Fn(n.boxes,function(t){return t.boxType===hm.LR}),e=Fn(r.boxes,function(t){return t.boxType===hm.HR});if(e)throw new y("HESP DRM streams are unsupported on Windows Chrome < 100");var s=Fn(r.boxes,function(t){return t.boxType===hm.FR}),u=s.samples[0];return u.size=i.lk.lk.byteLength-i.lk.$R.ac,s.samples=[u],gm.pD(_a(n.serialize().join()),new Ta)}(i,n);return t.map(function(t){return t.Km===hm.NR?r:t.Km===hm.WR?n:t})}var JX=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).XCt=void 0,e.nRt=void 0,e.aV=void 0,e.WCt=void 0,e.qat=void 0,e.cRt=void 0,e.KCt="now",e.YCt=void 0,e.JCt=void 0,e.Jb=void 0,e.sRt=new hr,e.bCt=void 0,e.XCt=i,e.WCt=new Zz(r),e.cRt=new eX,e.cRt.VCt.wn($z.DCt,e.Rs),e.aV=n,e.qat=function(t){switch(t){case nB.Bk:return kl.Bk;case nB.Mk:return kl.Mk;default:return kl.yk}}(i.Km),e.nRt=new hX(e.aV,e.WCt),e}Ct(i,t);var n=i.prototype;return n.Kct=function(t){return t+1},n.Oy=function(t){this.KCt=t,this.YCt=void 0,this.JCt=void 0},n.ZCt=function(){return void 0!==this.YCt},n.$Ct=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:if(this.yCt)throw new y("Concurrent downloads are not supported.");l.label=1;case 1:return l.trys.push([1,,6,7]),this.bCt=new Va,"now"===this.KCt?t=Ui.Pm(this.XCt.tRt("now"),this.XCt.iRt):(i=this.KCt,n=0===i?1:this.XCt.eRt(i),t=Ui.Pm(this.XCt.tRt(n),this.XCt.iRt)),r=aX(t,Ud.NT,pl.Ek,this.qat,void 0,3e3,1e3,this.sRt.Yg),[4,this.nRt.vk(r)];case 2:return[4,l.sent().qT(this.sRt.Yg)];case 3:return e=l.sent(),s=function(t){var i=gm.lD(new vm(_a(t),new Ta)),n=Fn(i,function(t){return t.Km===hm.XR||t.Km===hm.NR});if(void 0===n)return{rRt:t,$D:void 0};var r=wa(t,0,n.ac),e=wa(t,n.ac);return{rRt:r,$D:0===e.byteLength?void 0:e}}(new E(e)),u=s.rRt,o=s.$D,h=km.PD(_a(u)),this.Jb=function(t){var i=Fn(t,function(t){return t.Km===hm.HC});return i.Z[0].$D.yD.jD}(h),a=function(t){var i=t.filter(function(t){return t.Km===hm.zR}),n=i.map(function(t){return rX(t)}),r=Fn(n,function(t){return(null==t?void 0:t.Km)===nX.BCt});if(!r)throw new y("No init data in init response");return r}(h),this.YCt=a.index,this.JCt=a.offset,o?[4,this.hRt()]:[3,5];case 4:l.sent()&&(f=KX(f=gm.lD(new vm(_a(o),new Ta))),o=Na(f.map(function(t){return ma(t.lk.lk)}))),v=km.PD(_a(o)),c=function(t,i,n){var r,e,s,u=Fn(t,function(t){return t.Km===hm.NR}),o=le(null!=(e=null==(r=u.Z[0].KB)?void 0:r.KB)?e:ue.UZERO,n),h=u.Z[0],a=null!=(s=h.yD.FB)?s:0,c=h.QB[0],f=Dn(c.iM,function(t){var i;return null!=(i=t.ct)?i:a})/n;return{Get:o,ct:f,EU:i}}(v,-this.qot.SCt,this.Jb),l.label=5;case 5:return[2,{initialization:u,data:o,metadata:c}];case 6:return d=this.bCt,this.bCt=void 0,null==d||d.Qy(),[7];case 7:return[2]}})}).call(this)},n.oRt=function(){if(this.yCt)throw new y("Concurrent downloads are not supported.");this.bCt=new Va;var t=void 0!==this.JCt?ue.fromNumber(this.JCt):void 0;return $d(this.aRt(this.YCt,t,this.sRt.Yg)).pipeThrough(new Qd(new tq(this.sRt.Yg)))},n.aRt=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=this.uRt(t,i,n),[4,this.nRt.vk(r)];case 1:return e=u.sent(),[4,this.hRt()];case 2:return s=u.sent(),[2,e.zT().pipeThrough(new Qd(new sX)).pipeThrough(new Qd(this.cRt)).pipeThrough(new Qd(s?new YX(this.qot.lQ,this.Jb):new jX(this.qot.lQ,this.Jb)))]}})}).call(this)},n.uRt=function(t,i,n){var r=this.XCt.dRt(t),e=void 0!==i?{start:i,end:void 0}:void 0;return aX(Ui.Pm(r,this.XCt.iRt),Ud.MT,pl.yk,this.qat,e,25e3,1e3,n)},n.TCt=function(){this.YCt=void 0,this.JCt=void 0},n.kCt=function(){void 0!==this.YCt&&(this.YCt=this.Kct(this.YCt)),this.JCt=void 0;var t=this.bCt;this.bCt=void 0,null==t||t.Qy()},n.cancelDownload=function(){var t;this.sRt.Zg(),this.sRt=new hr,this.bCt=null!=(t=this.bCt)?t:new Va,this.TCt();var i=this.bCt;this.bCt=void 0,null==i||i.Qy()},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.cRt.zg(),this.sRt.Zg(),[4,this.ACt];case 1:return t.sent(),this.YCt=void 0,this.JCt=void 0,[2]}})}).call(this)},Nt(i,[{key:"qot",get:function(){return this.XCt}},{key:"jCt",get:function(){return!1}},{key:"QCt",get:function(){return this.KCt}},{key:"yCt",get:function(){return void 0!==this.bCt}},{key:"ACt",get:function(){return this.bCt?this.bCt.Yy:ut.resolve()}}]),i}(th),ZX=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.hRt=function(){return ut.resolve(!1)},i}(JX),$X=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n,r)||this).PL=void 0,s.lRt=void 0,s.PL=e,s}return Ct(i,t),i.prototype.hRt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return Ui.Zs.Tp?[2,!1]:(void 0===this.lRt&&(t=this.XCt,this.lRt=this.PL.V9({Km:Iy.SV,W9:{GT:t.lQ,z9:t.IW,G9:t.Olt,Ti:t.Ti,Mi:t.Mi}}).then(function(t){return t.H9&&!0!==t.K9})),[4,this.lRt]);case 1:return[2,i.sent()]}})}).call(this)},i}(JX);var tq=function(){function t(t){var i=this;this.iZ=void 0,this.Jg=void 0,this.fRt=function(){i.iZ.error(new fr)},this.Jg=t}var i=t.prototype;return i.start=function(t){this.iZ=t,this.Jg.Xg(this.fRt)},i.flush=function(){this.Jg.jg(this.fRt)},t}();function iq(t){var i;return t.value/(null!=(i=t.scale)?i:1)}U(),Et(),xt(),Ft(),U(),Et(),xt(),Ft(),U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),U(),Et();var nq="{initId}",rq=/{initId(?::0(?:\d+)d)?}/,eq=/{segmentId(?::0(?:\d+)d)?}/,sq=function(){function t(t,i,n){var r,e,s,u;this.WO=void 0,this.PRt=void 0,this.aS=void 0,this._W=void 0,this.vRt=void 0,this.wRt=void 0,this.bRt=void 0,this.SRt=void 0,this.kRt=void 0,this.bO=void 0,this.ERt=void 0,this.Sbt=void 0,this.gRt=void 0,this.mRt=void 0,this.Dbt=[],this.WO=t,this.PRt=n,this.aS=t.id,this._W=t.bandwidth,this.vRt=t.averageBandwidth,this.wRt=null!=(r=t.baseUrl)?r:"",this.bRt=null!=(e=t.codecs)?e:i.codecs,this.SRt=null!=(s=t.continuationPattern)?s:i.continuationPattern,this.kRt=null!=(u=t.initializationPattern)?u:i.initializationPattern,this.bO=t.label,this.ERt=t.mediaTimeOffset?iq(t.mediaTimeOffset):0,this.Sbt=t.segmentDuration?iq(t.segmentDuration):0,this.er(t)}return t.prototype.er=function(t){this.gRt=t.activeSegment,this.mRt=t.activeSequenceNumber,this.Dbt=t.segments},Nt(t,[{key:"o",get:function(){return this.aS}},{key:"IW",get:function(){return this._W}},{key:"wyt",get:function(){return this.vRt}},{key:"bct",get:function(){return this.Dbt}},{key:"_Rt",get:function(){return this.gRt}},{key:"pRt",get:function(){return this.mRt}},{key:"iRt",get:function(){return Ui.Pm(this.wRt,this.yRt.iRt)}},{key:"Rrt",get:function(){return this.bRt}},{key:"Th",get:function(){return this.bO}},{key:"ARt",get:function(){return this.SRt}},{key:"TRt",get:function(){return this.kRt}},{key:"SCt",get:function(){return this.ERt}},{key:"xRt",get:function(){return this.Sbt}}]),t}(),uq=function(t){function i(i,n,r){var e,s,u,o,h;return(e=t.call(this,i,n,r)||this).IRt=void 0,e.CRt=void 0,e.Mb=void 0,e.IRt=null!=(s=i.channels)?s:1,e.CRt=null!=(o=null!=(u=i.frameRate)?u:n.frameRate)?o:1024,e.Mb=null!=(h=i.sampleRate)?h:n.sampleRate,e}return Ct(i,t),Nt(i,[{key:"Km",get:function(){return nB.Bk}},{key:"yRt",get:function(){return this.PRt}},{key:"X9",get:function(){return this.IRt}},{key:"Olt",get:function(){return this.CRt}},{key:"FN",get:function(){return this.Mb}},{key:"lQ",get:function(){return'audio/mp4; codecs="'+this.Rrt+'"'}}]),i}(sq),oq=function(t){function i(i,n,r){var e,s;return(e=t.call(this,i,n,r)||this).Up=void 0,e.CRt=void 0,e.Up=i.resolution,e.CRt=iq(null!=(s=i.frameRate)?s:n.frameRate),e}return Ct(i,t),Nt(i,[{key:"Km",get:function(){return nB.Mk}},{key:"yRt",get:function(){return this.PRt}},{key:"RRt",get:function(){return this.Up}},{key:"Olt",get:function(){return this.CRt}},{key:"lQ",get:function(){return'video/mp4; codecs="'+this.Rrt+'"'}}]),i}(sq);function hq(t,i){var n=String(i);if(t===nq||"now"===i)return n;var r=A(t.substring(9,t.lastIndexOf("d")));return Wo(n,r,"0")}function aq(t,i){var n=String(i);if(t===nq)return n;var r=A(t.substring(12,t.lastIndexOf("d")));return Wo(n,r,"0")}var cq=function(){function t(t,i,n){var r;this.PRt=void 0,this.BI=void 0,this.DRt=void 0,this.aS=void 0,this.BRt=void 0,this.wRt=void 0,this.bO=void 0,this.ERt=void 0,this.LRt=void 0,this.PRt=t,this.BI=n,this.DRt=i,this.aS=t.id,this.BRt=t.alignId,this.wRt=null!=(r=t.baseUrl)?r:"",this.bO=t.label,this.ERt=t.mediaTimeOffset?iq(t.mediaTimeOffset):0,this.LRt=t.protection,this.er(t)}return t.prototype.er=function(t){for(var i,n=function(){var n=i.value,r=Fn(t.tracks,function(t){return n.o===t.id});r&&n.er(r)},r=Lt(this.BI);!(i=r()).done;)n()},Nt(t,[{key:"ont",get:function(){return this.DRt}},{key:"o",get:function(){return this.aS}},{key:"NRt",get:function(){return this.BRt}},{key:"iRt",get:function(){return Ui.Pm(this.wRt,this.ont.iRt)}},{key:"Th",get:function(){return this.bO}},{key:"SCt",get:function(){return this.ERt}},{key:"MRt",get:function(){return this.LRt}}]),t}(),fq=function(t){function i(i,n){var r,e=[];(r=t.call(this,i,n,e)||this).$b=void 0,r.IRt=void 0,r.IQ=void 0;for(var s,u=Lt(i.tracks);!(s=u()).done;){var o=s.value;e.push(new uq(o,i,r))}return r}return Ct(i,t),i.prototype.er=function(i){var n,r;t.prototype.er.call(this,i),this.$b=i.language,this.IRt=null!=(n=i.channels)?n:1,this.IQ=null!=(r=i.mimeType)?r:"audio/mp4"},Nt(i,[{key:"yRt",get:function(){return this.PRt}},{key:"Z",get:function(){return this.BI}},{key:"bs",get:function(){return this.$b}},{key:"X9",get:function(){return this.IRt}}]),i}(cq),vq=function(t){function i(i,n){var r,e=[];(r=t.call(this,i,n,e)||this).IQ=void 0;for(var s,u=Lt(i.tracks);!(s=u()).done;){var o=s.value;e.push(new oq(o,i,r))}return r}return Ct(i,t),i.prototype.er=function(i){var n;t.prototype.er.call(this,i),this.IQ=null!=(n=i.mimeType)?n:"video/mp4"},Nt(i,[{key:"yRt",get:function(){return this.PRt}},{key:"Z",get:function(){return this.BI}},{key:"ORt",get:function(){return this.PRt.captions}}]),i}(cq),dq=function(){function t(t,i){var n,r,e;this.WRt=[],this.qRt=[],this.URt=void 0,this.aS=void 0,this.wRt=void 0,this.HRt=void 0,this.xz=void 0,this.Zf=void 0,this.URt=t,this.aS=i.id,this.wRt=null!=(n=i.baseUrl)?n:"";for(var s,u=Lt(null!=(r=i.audio)?r:[]);!(s=u()).done;){var o=s.value;this.WRt.push(new fq(o,this))}for(var h,a=Lt(null!=(e=i.video)?e:[]);!(h=a()).done;){var c=h.value;this.qRt.push(new vq(c,this))}this.er(i)}return t.prototype.er=function(t){var i;this.HRt=t.timeBounds,this.Zf=null!=(i=t.events)?i:[],this.xz=t.currentTime?iq(t.currentTime):void 0},Nt(t,[{key:"o",get:function(){return this.aS}},{key:"iRt",get:function(){return Ui.Pm(this.wRt,this.URt.FRt)}},{key:"VRt",get:function(){return this.HRt}},{key:"zx",get:function(){return this.xz}},{key:"fQ",get:function(){return this.Zf}},{key:"q9",get:function(){return this.WRt}},{key:"W9",get:function(){return this.qRt}}]),t}(),lq=function(){function t(t,i){this.sDt=void 0,this.URt=void 0,this.GRt=void 0,this.jRt=void 0,this.KRt=void 0,this.JRt=void 0,this.$Rt=[],this.Tb=void 0,this.iDt=void 0,this.eDt=void 0,this.rDt=void 0,this.sDt=t,this.URt=i,this.er(i)}return t.prototype.er=function(t){var i,n,r=function(){var t=e.value,n=Fn(i.$Rt,function(i){return i.o===t.id});n?n.er(t):i.$Rt.push(new dq(i,t))};this.GRt=iq(t.availabilityDuration),this.jRt=t.creationDate,this.KRt=t.fallbackPollRate,this.JRt=t.manifestVersion,this.Tb=t.streamType,this.iDt=t.activePresentation,this.eDt=t.contentBaseUrl,this.rDt=null==(n=t.timeSource)?void 0:n.url,this.URt=t;for(var e,s=Lt(t.presentations);!(e=s()).done;)i=this,r();this.$Rt=this.$Rt.filter(function(i){return t.presentations.some(function(t){return t.id===i.o})})},Nt(t,[{key:"cC",get:function(){return this.URt}},{key:"zRt",get:function(){return this.GRt}},{key:"XRt",get:function(){return this.jRt}},{key:"QRt",get:function(){return this.KRt}},{key:"YRt",get:function(){return this.JRt}},{key:"ZRt",get:function(){return this.$Rt}},{key:"P0",get:function(){return this.Tb}},{key:"tDt",get:function(){return this.iDt}},{key:"FRt",get:function(){var t;return Ui.Pm(null!=(t=this.eDt)?t:"",this.sDt)}},{key:"nDt",get:function(){return this.rDt}}]),t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var wq=0,gq=function(t){function i(i){var n;return(n=t.call(this)||this).hDt=void 0,n.yO=wq++,n.hDt=i,n}Ct(i,t);var n=i.prototype;return n.eRt=function(t){var i=(t-this.hDt.yRt.ont.zx)*this.framesPerSecond();return b.round(this.hDt.pRt+i)},n.oDt=function(t){return t+1},n.tRt=function(t){for(var i,n,r=this.hDt.TRt;n=null==(i=r.match(rq))?void 0:i.pop();)r=r.split(n).join(hq(n,t));return r+("now"===t?"?uuid="+QE():"")},n.dRt=function(t){for(var i,n,r=this.hDt.ARt;n=null==(i=r.match(eq))?void 0:i.pop();)r=r.split(n).join(aq(n,t));return r},n.ZU=function(){},n.JU=function(){},Nt(i,[{key:"xst",get:function(){return!0}},{key:"wyt",get:function(){return this.hDt.wyt}},{key:"IW",get:function(){return this.hDt.IW}},{key:"Rrt",get:function(){return this.hDt.Rrt}},{key:"o",get:function(){return this.hDt.o}},{key:"Th",get:function(){var t;return null!=(t=this.hDt.Th)?t:""}},{key:"JI",get:function(){return this.yO}},{key:"Syt",get:function(){return this.hDt.iRt}},{key:"yyt",get:function(){}},{key:"lQ",get:function(){return this.hDt.lQ}},{key:"SCt",get:function(){return this.hDt.SCt}},{key:"iRt",get:function(){return this.hDt.iRt}},{key:"Km",get:function(){return this.hDt.Km}}]),i}(th),_q=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).WO=void 0,r.hu=void 0,r.WO=n,r}return Ct(i,t),i.prototype.framesPerSecond=function(){return this.hDt.FN/this.hDt.Olt},Nt(i,[{key:"aDt",get:function(){return this.hDt}},{key:"mwt",get:function(){return this.hDt.FN}},{key:"Ht",get:function(){return this.WO}},{key:"Ca",get:function(){return this.hu||(this.hu=qU(this)),this.hu}}]),i}(gq),mq=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).WO=void 0,r.hu=void 0,r.WO=n,r}return Ct(i,t),i.prototype.framesPerSecond=function(){return this.hDt.Olt},Nt(i,[{key:"aDt",get:function(){return this.hDt}},{key:"byt",get:function(){return 0}},{key:"Olt",get:function(){return this.hDt.Olt}},{key:"Mi",get:function(){return this.hDt.RRt.height}},{key:"Ti",get:function(){return this.hDt.RRt.width}},{key:"RRt",get:function(){return this.hDt.RRt}},{key:"Ht",get:function(){return this.WO}},{key:"Ca",get:function(){return this.hu||(this.hu=XU(this)),this.hu}}]),i}(gq);U(),Et();var yq=function(t){return t.uDt="alternative",t.cDt="main",t.dDt="commentary",t.lDt="",t.qU="descriptions",t.fDt="main-desc",t.vDt="translation",t}({}),pq=function(t){return t.uDt="alternative",t.cDt="main",t.dDt="commentary",t.lDt="",t.WU="captions",t.XI="sign",t.HU="subtitles",t}({}),kq=0,bq=function(t){function i(i,n,r){var e;(e=t.call(this)||this).PRt=void 0,e.mDt=void 0,e._O=new lg,e.wDt=void 0,e.yO=kq++,e.We=!1,e.Ict=void 0,e.hu=void 0,e.PRt=n,e.mDt=r,e.wDt=new wH(i,[]);for(var s,u=Lt(n.Z);!(s=u()).done;){var o=s.value;e._O.gO(e.createQuality(o))}return e}Ct(i,t);var n=i.prototype;return n.SO=function(t){this.Rt=t},n.yDt=function(t){for(var i,n=Lt(this._O.NI);!(i=n()).done;){var r=i.value;r===t&&this.So(new MF(r))}},Nt(i,[{key:"YI",get:function(){return this._Dt()}},{key:"Rt",get:function(){return this.We},set:function(t){this.Rt!==t&&(this.We=t,t&&this.gDt(),this.mDt.pDt(),this.So(new wg(this)))}},{key:"Ca",get:function(){return this.hu||(this.hu=tg(this)),this.hu}},{key:"plt",get:function(){return this.wDt}},{key:"o",get:function(){return this.PRt.o}},{key:"JI",get:function(){return this.yO}},{key:"Th",get:function(){var t;return null!=(t=this.PRt.Th)?t:""}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"$I",get:function(){return this._O}},{key:"tC",get:function(){return this.Ict},set:function(t){this.Ict=t,this.mDt.pDt(),this.So(new eL(t,this))}}]),i}(th),Aq=function(t){function i(i,n){return t.call(this,eg.Bk,i,n)||this}Ct(i,t);var n=i.prototype;return n.gDt=function(){this.mDt.bDt(this)},n._Dt=function(){var t=this.mDt.ADt;return(null==t?void 0:t.Ht)===this?t:void 0},n.createQuality=function(t){return new _q(t,this)},Nt(i,[{key:"Km",get:function(){return nB.Bk}},{key:"Lt",get:function(){return yq.cDt}},{key:"bs",get:function(){return this.PRt.bs}},{key:"yRt",get:function(){return this.PRt}}]),i}(bq),Tq=function(t){function i(i,n){return t.call(this,eg.Mk,i,n)||this}Ct(i,t);var n=i.prototype;return n.gDt=function(){this.mDt.SDt(this)},n._Dt=function(){var t=this.mDt.TDt;return(null==t?void 0:t.Ht)===this?t:void 0},n.createQuality=function(t){return new mq(t,this)},Nt(i,[{key:"Km",get:function(){return nB.Mk}},{key:"Lt",get:function(){return pq.cDt}},{key:"bs",get:function(){return""}},{key:"yRt",get:function(){return this.PRt}},{key:"ORt",get:function(){return this.PRt.ORt}}]),i}(bq);function Sq(t,i,n,r){if(t){var e=function(t,i,n){for(var r,e=[],s=Lt(i);!(r=s()).done;){var u,o,h=r.value,a=null!=(u=h.mimeType)?u:"audio/mp4",c=null!=(o=h.codecs)?o:h.tracks.map(function(t){return t.codecs})[0];e.push(a+'; codecs="'+c+'"')}return Eq(t,i,e,[],n)}(t,i?[i]:[],!r),s=function(t,i,n){for(var r,e=[],s=Lt(i);!(r=s()).done;){var u,o,h=r.value,a=null!=(u=h.mimeType)?u:"video/mp4",c=null!=(o=h.codecs)?o:h.tracks.map(function(t){return t.codecs})[0];e.push(a+'; codecs="'+c+'"')}return Eq(t,i,[],e,n)}(t,n?[n]:[],!r),u=GH(e,s);return t.preferredKeySystems&&(null==u?void 0:u.qpt)&&(u.qpt=iW(u.qpt,t.preferredKeySystems)),u}}function Eq(t,i,n,r,e){var s=i.map(function(t){return t.protection}).filter(Li);if(s.length){var u=s[0].type,o=Jn(s,function(t){return t.systems}),h=Jn(o,function(t){return function(t,i){void 0===i&&(i=!0);for(var n,r=[],e=Lt(i?function(t){return Bo.filter(function(i){return i.Zm===t.toLowerCase()})}(t.schemeId):function(t){return xo.filter(function(i){return i.Zm===t.toLowerCase()})}(t.schemeId));!(n=e()).done;){var s=n.value;r.push({GH:Iq(t)?t.uri:void 0,xS:s,FW:void 0,OW:t.pssh?[mh(t.pssh).buffer]:[],UW:[]})}return r}(t,e)});return{lH:t,zpt:{mTt:u},qpt:h,wTt:n,yTt:r}}}function Iq(t){return t.schemeId===eo.jm&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}U(),Et(),Ft(),U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et();var Rq;function Cq(t){var i=t.zx,n=t.Fx.iL(i);return n?n.An(0)-i:0}Rq="Android"===Ui.Rm.Dm?200:300;var Pq=Ui.Zs.Ap?1:.5,Dq=function(){function t(t,i,n,r,e,s){var u=this;this.PL=void 0,this.JW=void 0,this.BDt=void 0,this.KDt=void 0,this.xDt=void 0,this.UDt=void 0,this.IDt=void 0,this.Ra=void 0,this.MDt=void 0,this.kDt=void 0,this.DDt=void 0,this.qDt=void 0,this.zDt=void 0,this.RDt=void 0,this.CDt=void 0,this.PDt=void 0,this.PL=t,this.JW=i,this.BDt=n,this.KDt=r,this.xDt=e,this.UDt=s,this.Ra=0,this.MDt=ut.resolve(),this.qDt=[],this.zDt=void 0,this.RDt=function(){var t,i;if(!u.KDt.xP){var n=null==(t=u.BDt.ADt)?void 0:t.Ht,r=null==(i=u.BDt.TDt)?void 0:i.Ht,e=Zn(u.FDt(n,r),function(t){return t.VDt});e&&(kr(u.HDt(e,!0)),u.PL.ML.BL&&u.KDt.dC())}},this.CDt=function(){u.IDt.wn(Ry.xM,u.RDt),u.IDt.mn(Ry.PM,u.CDt)},this.PDt=function(){if(u.qDt.unshift(u.xDt.IW),u.qDt=u.qDt.slice(0,3),u.DDt){var t=u.DDt.WDt.VDt;u.xDt.IW<t&&(u.DDt=void 0,u.fL())}},this.IDt=new Uy(this.PL)}var i=t.prototype;return i.Tn=function(){var t=this;1!==this.Ra&&(this.Ra=1,this.kDt=Ui.fm(function(){t.EDt()},Rq),this.xDt.$It(this.PDt),this.PL.lP?this.IDt.wn(Ry.PM,this.CDt):this.CDt())},i.KP=function(){0!==this.Ra&&(this.Ra=0,void 0!==this.kDt&&Ui.vm(this.kDt),this.xDt.iCt(this.PDt),this.IDt.mn(Ry.xM,this.RDt),this.IDt.mn(Ry.PM,this.CDt),this.DDt=void 0,this.fL())},i.EDt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.MDt];case 1:return t.sent(),this.MDt=this.LDt(),[4,this.MDt];case 2:return t.sent(),[2]}})}).call(this)},i.ODt=function(t,i){var n,r,e=this.FDt(t,i),s=this.UDt.WY;if(s.type===$I.PERFORMANCE)return e[e.length-1];if(s.type===$I.QUALITY)return e[0];for(var u,o=(null==(n=s.metadata)?void 0:n.bitrate)?1.3*(null==(r=s.metadata)?void 0:r.bitrate):this.xDt.IW,h=Lt(e);!(u=h()).done;){var a=u.value;if(a.VDt<=o)return a}return e[e.length-1]},i.LDt=function(){return Vt(function(){var t,i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=null==(t=this.BDt.ADt)?void 0:t.Ht,r=null==(i=this.BDt.TDt)?void 0:i.Ht,0===(e=this.FDt(n,r)).length?[2]:(s=this.maybeSwitchToTargetQuality(e))?[4,this.HDt(s)]:[3,2];case 1:case 3:return o.sent(),[2];case 2:return(u=this.maybeGetUpSwitch(e))?[4,this.HDt(u)]:[3,4];case 4:return[2]}})}).call(this)},i.maybeSwitchToTargetQuality=function(t){var i=this.NDt;if(!t.some(function(t){return xq(t,i)})){for(var n,r=this.xDt.IW,e=Lt(t);!(n=e()).done;){var s=n.value;if(s.VDt<=r)return s}return t[t.length-1]}},i.maybeGetUpSwitch=function(t){for(var i,n,r,e,s,u,o=this.xDt.IW,h=1.3*((null!=(r=null==(i=this.BDt.ADt)?void 0:i.IW)?r:0)+(null!=(e=null==(n=this.BDt.TDt)?void 0:n.IW)?e:0)),a=Lt(t);!(u=a()).done;){var c=u.value;if(c.VDt<o&&c.VDt>h){s={WDt:c,wft:Ui.Mg()};break}}if(this.DDt&&xq(this.DDt.WDt,null==s?void 0:s.WDt)){var f=Ui.Mg()-this.DDt.wft,v=this.DDt.WDt.VDt,d=this.qDt.length>=3&&this.qDt.every(function(t){return t>v});if(f>1e3&&d){if(this.PL.ML.BL||Ui.Zs.pp){var l=2*this.xDt.RW;if(!(Cq(this.PL)>l))return}else{var w=b.max(2*this.xDt.RW+Pq,this.JW.aL.minimumOffset);if(!(Cq(this.PL)>w))return void(this.zDt&&this.zDt.minimumOffset===w||(this.fL(),this.zDt={minimumOffset:w},this.JW.cL(this.zDt)))}return this.DDt.WDt}}else this.DDt=s},i.HDt=function(t,i){return void 0===i&&(i=!1),Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return this.DDt=void 0,this.fL(),(n=this.NDt).GDt===t.GDt&&n.XDt===t.XDt?[2]:(r=t.GDt,e=t.XDt,n.XDt&&e&&n.XDt.IW>e.IW&&i&&(this.xDt.JIt(t.VDt),this.qDt=[]),[4,this.BDt.jDt(e,r)]);case 1:return s.sent(),[2]}})}).call(this)},i.fL=function(){this.zDt&&(this.JW.fL(this.zDt),this.zDt=void 0)},i.FDt=function(t,i){var n,r=[],e=[];t&&(r=(null==(n=t.tC)?void 0:n.length)?t.tC:t.$I.NI);if(i){var s,u=(null==(s=i.tC)?void 0:s.length)?i.tC:i.$I.NI,o=u.slice().sort(function(t,i){return t.IW-i.IW}),h=this.QDt(o);0===h.length&&u.length>0&&h.push(Zn(u,function(t){return t.IW})),e=h}for(var a,c=[],f=r.length>0?r:[void 0],v=e.length>0?e:[void 0],d=Lt(f);!(a=d()).done;)for(var l,w=a.value,g=Lt(v);!(l=g()).done;){var _=l.value;c.push(Nq(w,_))}return function(t){return t.sort(function(t,i){return i.VDt-t.VDt})}(c)},i.QDt=function(t){var i=this,n=Fn(t,function(t){return t.Mi>=i.PL.Mi&&t.Ti>=i.PL.Ti});return n?t.filter(function(t){return t.Mi<=n.Mi&&t.Ti<=n.Ti}):t.slice()},i.zg=function(){this.DDt=void 0,this.IDt.hr(),this.fL()},Nt(t,[{key:"NDt",get:function(){return Nq(this.BDt.ADt,this.BDt.TDt)}}]),t}();function Nq(t,i){var n,r;return{GDt:t,XDt:i,VDt:1.3*((null!=(n=null==t?void 0:t.IW)?n:0)+(null!=(r=null==i?void 0:i.IW)?r:0))}}function xq(t,i){var n,r,e,s;return void 0===t||void 0===i?t===i:(null==(n=t.GDt)?void 0:n.o)===(null==(r=i.GDt)?void 0:r.o)&&(null==(e=t.XDt)?void 0:e.o)===(null==(s=i.XDt)?void 0:s.o)&&t.VDt===i.VDt}U(),Et(),Wt(),xt(),Qt();var Bq=function(){function t(t,i,n){this.YDt=void 0,this.hT=new hr,this.YDt=t,this.YPt(i,n,this.hT.Yg).catch(dn)}var i=t.prototype;return i.YPt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return n.Hg?[3,6]:[4,Ar(6e5,n)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),r=this,[4,Oq(t,i,n)];case 3:return r.YDt=e.sent(),[3,5];case 4:return lr(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}})}).call(this)},i.zg=function(){this.hT.Zg()},t.create=function(i,n,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,Oq(i,n,r)];case 1:return[2,new t(e.sent(),i,n)]}})})()},Nt(t,[{key:"ebt",get:function(){return(this.YDt.serverTimeMs+(Ui.Mg()-this.YDt.localTimeMs))/1e3}},{key:"JDt",get:function(){return(this.YDt.localTimeMs-this.YDt.serverTimeMs)/1e3}}]),t}();function Oq(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,Mq(t,i,n)];case 1:return r=h.sent(),e=r[0],s=r[1],u=r[2],s>20?[4,Mq(t,i,n)]:[3,3];case 2:o=h.sent(),e=o[0],s=o[1],u=o[2],h.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:u-s/2}]}})})()}function Mq(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return r=Ui.Mg(),[4,i.vk({Hk:ml.GET,Yu:t,Yg:n})];case 1:return e=h.sent(),s=Ui.Mg()-r,[4,e.HT(n)];case 2:return u=h.sent(),o=1e3*Number(u),[2,[r,s,o]]}})})()}var Lq=function(t){function i(){return t.call(this,"seek")||this}return Ct(i,t),i}(rh),Fq=function(t){return t.Jz="seek",t}({}),Uq=[eh.uo,Ry.AI,eh.py],Vq=function(t){function i(i,n,r,e,s,u,o,h,a,c,f){var v;return(v=t.call(this)||this).Ac=void 0,v.aV=void 0,v.oNt=void 0,v.PL=void 0,v.rNt=void 0,v.Ndt=void 0,v.ENt=void 0,v.fNt=!1,v.DNt=!1,v.Mz=void 0,v.tO=new rg,v.sO=new rg,v.NNt=void 0,v.tNt=void 0,v.iNt=void 0,v.URt=void 0,v.sNt=new Va,v.aNt=void 0,v.dNt=void 0,v.cNt=void 0,v.JW=void 0,v.aq=void 0,v.Ypt=void 0,v.nNt=new Va,v.uV=new hr,v.ANt=void 0,v.bNt=new hr,v.k9=void 0,v.T9=new hr,v.mNt=void 0,v.ZDt=void 0,v.INt=void 0,v.wNt=void 0,v.$Dt=void 0,v.PNt=void 0,v.CNt=void 0,v.NL=function(){v.DNt=!0},v.updateActiveQualities=function(){var t,i,n=v.PL.zx,r=null==(t=v.ZDt)?void 0:t.pCt(n),e=null==(i=v.$Dt)?void 0:i.pCt(n);if(v.tNt!==r&&(v.tNt=r,r))for(var s,u=Lt(v.tO.NI);!(s=u()).done;){s.value.yDt(r)}if(v.iNt!==e&&(v.iNt=e,e))for(var o,h=Lt(v.sO.NI);!(o=h()).done;){o.value.yDt(e)}},v.xNt=function(t,i){var n=i.data;if(n.Km===nX.MCt){var r,e=n.OCt,s=n.FCt,u=n.LCt,o=n.UCt;if(v.aNt){var h=v.aNt.ebt,a=v.PL.zx;if(v.DNt&&0!==a){var c={theolive:h-e+u-a,engine:s,distribution:b.max(h-(e+s),0),player:b.min(u-a,v.JW.aL.forceSeekOffset)};t===eg.Bk?(v.dNt=c,v.rNt.cCt(v.aNt.JDt+e,u)):(v.cNt=c,v.rNt.aCt(v.aNt.JDt+e,u))}}if(o)null!=v.NNt||(v.NNt=v.PL.sI(Jm.zU,"timecode","timecode",void 0,!1,Ng.DEFAULT,!1,void 0)),v.NNt.nV(new Jg(u,u,o,!1,void 0)),fy(v.NNt,null!=(r=v.PL.Fx.Tn(0))?r:-1)}v.So(i)},v.u8=function(t){vr(t)||(v.KP(),v.So(new yb(new ld(vd.MEDIA_LOAD_ERROR,t.message))))},v.Ac=i,v.oNt=n,v.PL=r,v.aV=s,v.rNt=u,v.Mz=new Dq(r,o,v,a,e,f),v.Ndt=h,v.ENt=c,v.JW=o,v.PL.wn(Ry.PM,v.NL),v.PL.wn(Uq,v.updateActiveQualities),v}Ct(i,t);var n=i.prototype;return n.hNt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.ZDt?[4,this.ZDt.pS(0,1/0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.$Dt?[4,this.$Dt.pS(0,1/0)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}})}).call(this)},n.Un=function(){if(!this.Ac.src)throw new ld(vd.SOURCE_INVALID,"No src property found in given source.");this.Ypt||(this.Ypt=this.vE(this.uV.Yg).catch(this.u8))},n.vE=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return this.So(new KR),i=this.Ac.src,[4,this.oNt._It(i,t)];case 1:return n=s.sent(),this.URt=new lq(i,n),this.URt.nDt?(r=this,[4,Bq.create(this.URt.nDt,this.aV,t)]):[3,3];case 2:r.aNt=s.sent(),s.label=3;case 3:return this.uNt(),e=zn(this.URt.ZRt,-1),this.createTracksForPresentation(e),this.sNt.Qy(),this.pDt(),[2]}})}).call(this)},n.bDt=function(t){for(var i,n=Lt(this.tO.NI);!(i=n()).done;){var r=i.value;r.SO(r===t)}},n.SDt=function(t){for(var i,n=Lt(this.sO.NI);!(i=n()).done;){var r=i.value;r.SO(r===t)}},n.pDt=function(){var t=Fn(this.tO.NI,function(t){return t.Rt}),i=Fn(this.sO.NI,function(t){return t.Rt}),n=this.Mz.ODt(t,i);kr(this.jDt(n.XDt,n.GDt))},n.uNt=function(){var t=this;if(this.URt&&"live"===this.URt.P0&&this.aNt){var i=this.URt.ZRt.filter(function(i){return i.o===t.URt.tDt})[0].zx,n=this.aNt.JDt+new Date(this.URt.XRt).getTime()/1e3;this.rNt.hCt(n,i)}},n.createTracksForPresentation=function(t){for(var i,n,r,e,s,u=Lt(null!=(r=t.q9)?r:[]);!(e=u()).done;){var o=e.value;this.tO.tt(new Aq(o,this))}for(var h,a=Lt(null!=(s=t.W9)?s:[]);!(h=a()).done;){var c=h.value;this.sO.tt(new Tq(c,this))}null==(i=this.tO.MI(0))||i.SO(!0),null==(n=this.sO.MI(0))||n.SO(!0)},n.Tn=function(){this.fNt=!0,this.vNt()},n.KP=function(){var t;this.fNt=!1,this._Nt().catch(this.u8),"live"===(null==(t=this.cC)?void 0:t.P0)&&(this.gNt(),this.pNt())},n.gNt=function(){this.mNt&&this.mNt.cancelDownload()},n.pNt=function(){this.wNt&&this.wNt.cancelDownload()},n.dC=function(t){var i=this;this.T9.Zg(),this.T9=new hr,this.k9=mr(function(n){return i.yNt(t,i.k9,n)},this.T9).catch(this.u8)},n.yNt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return i?[4,i]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,gr(this.W,n)];case 3:if(s.sent(),"live"!==this.URt.P0)throw new y("The current video source does not support Live playback.");return dr(n),[4,this._Nt()];case 4:if(s.sent(),dr(n),!this.mNt||!this.mNt.ZCt()&&this.mNt.QCt===(null!=t?t:"now"))return[3,10];if(this.gNt(),!this.ZDt)return[3,9];s.label=5;case 5:return this.ZDt.yCt?[4,gr(this.ZDt.ACt,n)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,this.ZDt.pS(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(r=this.mNt)||r.Oy(null!=t?t:"now"),s.label=10;case 10:if(!this.wNt||!this.wNt.ZCt()&&this.wNt.QCt===(null!=t?t:"now"))return[3,16];if(this.pNt(),!this.$Dt)return[3,15];s.label=11;case 11:return this.$Dt.yCt?[4,gr(this.$Dt.ACt,n)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,this.$Dt.pS(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(e=this.wNt)||e.Oy(null!=t?t:"now"),s.label=16;case 16:return this.So(new Lq),dr(n),this.k9=void 0,this.vNt(),[2]}})}).call(this)},n.Oy=function(t){var i=this;this.T9.Zg(),this.T9=new hr,this.k9=mr(function(n){return i.E9(t,i.k9,n)},this.T9).catch(this.u8)},n.E9=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return i?[4,i]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,gr(this.W,n)];case 3:return s.sent(),dr(n),[4,this._Nt()];case 4:return s.sent(),dr(n),this.mNt&&(this.mNt.ZCt()||this.mNt.QCt!==t)&&this.gNt(),this.wNt&&(this.wNt.ZCt()||this.wNt.QCt!==t)&&this.pNt(),this.So(new Lq),dr(n),null==(r=this.mNt)||r.Oy(t),null==(e=this.wNt)||e.Oy(t),this.k9=void 0,this.vNt(),[2]}})}).call(this)},n.jDt=function(t,i){var n,r,e=this;return(null==(n=this.mNt)?void 0:n.qot)===i&&(null==(r=this.wNt)?void 0:r.qot)===t?ut.resolve():(this.bNt.Zg(),this.bNt=new hr,this.ANt=mr(function(n){return e.SNt(t,i,e.ANt,n)},this.bNt).catch(this.u8),this.ANt)},n.SNt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:return n?[4,n]:[3,2];case 1:a.sent(),a.label=2;case 2:return[4,gr(this.sNt.Yy,r)];case 3:return a.sent(),dr(r),[4,this._Nt()];case 4:return a.sent(),dr(r),[4,this.TNt(t,i)];case 5:return a.sent(),[4,this.kNt(t,i)];case 6:for(a.sent(),dr(r),u=Lt(null!=(s=null==t||null==(e=t.Ht)?void 0:e.ORt)?s:[]);!(o=u()).done;)h=o.value,this.ENt.$gt({Sit:h.channel,Tit:h.language,Th:h.label});return this.ANt=void 0,this.vNt(),[2]}})}).call(this)},n.TNt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p;return zt(this,function(k){switch(k.label){case 0:return n=this,u=null!=(s=this.lNt)?s:"now",(null==(r=this.mNt)?void 0:r.qot)===i?[3,5]:(h=this.mNt&&!this.mNt.ZCt(),a=null==(o=this.mNt)?void 0:o.QCt,this.mNt?[4,this.mNt.zg()]:[3,2]);case 1:k.sent(),this.mNt=void 0,k.label=2;case 2:return this.ZDt?[4,this.ZDt.ACt]:[3,4];case 3:k.sent(),k.label=4;case 4:i&&(v=null!=(f=null==(c=this.ZDt)?void 0:c.Fx)?f:EA.rL(),d=h?a:v.An(v.V-1),this.mNt=new ZX(i,this.aV,this.Ndt),this.mNt.wn($z.DCt,function(t){return n.xNt(eg.Bk,t)}),this.mNt.Oy(null!=d?d:u)),k.label=5;case 5:return(null==(e=this.wNt)?void 0:e.qot)===t?[3,10]:(w=this.wNt&&!this.wNt.ZCt(),g=null==(l=this.wNt)?void 0:l.QCt,this.wNt?[4,this.wNt.zg()]:[3,7]);case 6:k.sent(),this.wNt=void 0,k.label=7;case 7:return this.$Dt?[4,this.$Dt.ACt]:[3,9];case 8:k.sent(),k.label=9;case 9:t&&(y=null!=(m=null==(_=this.$Dt)?void 0:_.Fx)?m:EA.rL(),p=w?g:y.An(y.V-1),this.wNt=new $X(t,this.aV,this.Ndt,this.PL),this.wNt.wn($z.DCt,function(t){return n.xNt(eg.Mk,t)}),this.wNt.Oy(null!=p?p:u)),k.label=10;case 10:return[2]}})}).call(this)},n.kNt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:if(n=function(t,i,n,r,e){var s=Sq(t,null==i?void 0:i.Ht.yRt.yRt,null==n?void 0:n.Ht.yRt.yRt,r),u=ZH(s),o=[];i&&o.push({GT:i.lQ});n&&o.push({GT:n.lQ});return{Km:Iy.SV,q4:o,fq:u,t5:e&&!r}}(this.Ac.contentProtection,i,t,this.PL.ML.BL,this.Ac.useManagedMediaSource),!this.aq||!this.aq.IZ(n))return[3,12];if(s=!(null==(r=this.mNt)?void 0:r.ZCt()),!this.ZDt||!s)return[3,5];c.label=1;case 1:return this.ZDt.yCt?[4,this.ZDt.ACt]:[3,3];case 2:return c.sent(),[3,1];case 3:return[4,this.ZDt.EQ()];case 4:c.sent(),c.label=5;case 5:if(u=!(null==(e=this.wNt)?void 0:e.ZCt()),!this.$Dt||!u)return[3,10];c.label=6;case 6:return(null==(o=this.$Dt)?void 0:o.yCt)?[4,this.$Dt.ACt]:[3,8];case 7:return c.sent(),[3,6];case 8:return[4,null==(h=this.$Dt)?void 0:h.EQ()];case 9:c.sent(),c.label=10;case 10:return[4,this.aq.RZ(n)];case 11:return c.sent(),[3,21];case 12:return this.gNt(),this.pNt(),this.ZDt?[4,this.ZDt.zg()]:[3,14];case 13:c.sent(),this.ZDt=void 0,c.label=14;case 14:return this.$Dt?[4,this.$Dt.zg()]:[3,16];case 15:c.sent(),this.$Dt=void 0,c.label=16;case 16:this.PL.G7(),c.label=17;case 17:return c.trys.push([17,,20,21]),[4,this.PL.hr()];case 18:return c.sent(),a=this,[4,this.PL.Un(n)];case 19:return a.aq=c.sent(),this.nNt.Qy(),this.aq.e4&&this.mNt&&(this.aq.e4.wn(HR.pZ,this.Rs),this.ZDt=new Jz(this.aq.e4,this.PL,i,this.ENt)),this.aq.s4&&this.wNt&&(this.aq.s4.wn(HR.pZ,this.Rs),this.$Dt=new Jz(this.aq.s4,this.PL,t,this.ENt)),"live"===this.URt.P0&&this.aq.F4(1/0),[3,21];case 20:return this.PL.X7(),[7];case 21:return[2]}})}).call(this)},n.vNt=function(){!this.fNt||this.k9||this.ANt||this.PNt||this.INt||(this.Mz.Tn(),this.CNt=new hr,this.wNt&&this.$Dt&&(this.PNt=this.RNt(this.wNt,this.$Dt,this.CNt.Yg).catch(this.u8)),this.mNt&&this.ZDt&&(this.INt=this.RNt(this.mNt,this.ZDt,this.CNt.Yg).catch(this.u8)))},n._Nt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Mz.KP(),this.CNt&&(this.CNt.Zg(),this.CNt=void 0),this.PNt?[4,this.PNt]:[3,2];case 1:t.sent(),this.PNt=void 0,t.label=2;case 2:return this.INt?[4,this.INt]:[3,4];case 3:t.sent(),this.INt=void 0,t.label=4;case 4:return[2]}})}).call(this)},n.RNt=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:return[4,this.W];case 1:v.sent(),v.label=2;case 2:return t.yCt?[4,gr(t.ACt,n)]:[3,4];case 3:return v.sent(),[3,2];case 4:return i.yCt?[4,gr(i.ACt,n)]:[3,6];case 5:return v.sent(),[3,4];case 6:return t.ZCt()?[3,13]:(r=Ui.Mg()/1e3,e="now"===t.QCt,[4,t.$Ct()]);case 7:return s=v.sent(),u=s.initialization,o=s.data,h=s.metadata,a=i.Fx,!Ui.Zs.wp&&!this.PL.ML.BL&&h&&a.An(a.V-1)>h.Get?[4,i.pS(h.Get,1/0)]:[3,9];case 8:v.sent(),v.label=9;case 9:return[4,i.J2(u)];case 10:return v.sent(),o?[4,i.Q2(o,h,t.qot)]:[3,12];case 11:v.sent(),v.label=12;case 12:c=i.Fx.qM(a),e&&c.V>0&&this.rNt.nCt(r,c.An(c.V-1)),v.label=13;case 13:return t.jCt?[3,15]:(dr(n),f=t.oRt(),[4,gr(i.appendStream(f,t),n)]);case 14:return v.sent(),[3,13];case 15:return[2]}})}).call(this)},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.uV.Zg(),this.Ypt?[4,this.Ypt.catch(dn)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.k9?(this.T9.Zg(),this.gNt(),this.pNt(),[4,this.k9.catch(dn)]):[3,4];case 3:t.sent(),t.label=4;case 4:return this.ANt?(this.bNt.Zg(),this.gNt(),this.pNt(),[4,this.ANt.catch(dn)]):[3,6];case 5:t.sent(),t.label=6;case 6:return[4,this._Nt()];case 7:return t.sent(),this.mNt?[4,this.mNt.zg()]:[3,9];case 8:t.sent(),t.label=9;case 9:return this.wNt?[4,this.wNt.zg()]:[3,11];case 10:t.sent(),t.label=11;case 11:return this.mNt=void 0,this.wNt=void 0,this.nNt.Zg(),this.sNt.Zg(),this.aq?[4,this.PL.hr()]:[3,13];case 12:t.sent(),this.aq=void 0,t.label=13;case 13:return this.ZDt=void 0,this.$Dt=void 0,this.PL.mn(Ry.PM,this.NL),this.PL.mn(Uq,this.updateActiveQualities),this.tO.hr(),this.tNt=void 0,this.sO.hr(),this.iNt=void 0,this.URt=void 0,this.aNt&&(this.aNt.zg(),this.aNt=void 0),this.fNt=!1,[2]}})}).call(this)},Nt(i,[{key:"cC",get:function(){return this.URt}},{key:"Fx",get:function(){return this.ZDt&&this.$Dt?this.ZDt.Fx.Mn(this.$Dt.Fx):this.ZDt?this.ZDt.Fx:this.$Dt?this.$Dt.Fx:EA.rL()}},{key:"ADt",get:function(){return this.tNt}},{key:"TDt",get:function(){return this.iNt}},{key:"ht",get:function(){return this.tO}},{key:"rt",get:function(){return this.sO}},{key:"eNt",get:function(){return this.sNt.Yy}},{key:"W",get:function(){return this.nNt.Yy}},{key:"kP",get:function(){return this.URt?function(t,i,n){var r,e=null==(r=t.ZRt[0])?void 0:r.zx,s=t.zRt;if(void 0===e||void 0===s)return n>0&&n<bn?new EA([0,n],[!0,!0]):EA.rL();var u=i.lCt;if(!u){var o=dU(t.XRt).getTime()/1e3;u=e+(Date.now()/1e3-o)}return new EA([u-s,u],[!0,!0])}(this.URt,this.rNt,this.PL.ct):EA.rL()}},{key:"hC",get:function(){return Zn([this.cNt,this.dNt].filter(Li),function(t){return t.theolive})}},{key:"oC",get:function(){return this.cNt}},{key:"aC",get:function(){return this.dNt}},{key:"lNt",get:function(){var t=this.rNt.lCt;if(void 0!==t)return t}}]),i}(th);U(),Et(),Pt();var Hq=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n,r)||this).lastAmountToSeekForward=0,e}Ct(i,t);var n=i.prototype;return n.FL=function(){var t=this.PL.Fx;return 0===t.V?0:t.An(t.V-1)-this.PL.zx},n.dC=function(){this.oa.dC()},n.UL=function(t,i,n){if(t>n+2){var r=t-i;if(r<=this.lastAmountToSeekForward&&!this.oa.xP)return this.oa.zx+=r,this.lastAmountToSeekForward=0,!0;this.lastAmountToSeekForward=r}else this.lastAmountToSeekForward=0;return!1},n.vL=function(){return Qz(t.prototype.vL.call(this))},n.VL=function(){return!Ui.Zs.pp},i}(NA),Wq=[eh.Jw,eh.Qw,eh.Nw,eh.Kw,eh.wy,eh.Cw,eh.Lw,eh.Bw,eh.xw,eh.Ew],zq=function(t){function i(i,n,r,e,s){var u,o;return(u=t.call(this)||this).PL=void 0,u.aV=void 0,u.lq=void 0,u.Cq=void 0,u.xq=void 0,u.JW=void 0,u.pq=void 0,u.rNt=void 0,u.Lz=void 0,u.FNt=void 0,u.Ndt=void 0,u.Mz=void 0,u.Ac=void 0,u.FEt=void 0,u.BDt=void 0,u.Pz=!1,u.LNt=void 0,u.T9=new hr,u.k9=void 0,u.ixt=void 0,u.YNt=new hr,u.pst=!0,u.DNt=!1,u.tO=new $b,u.sO=new $b,u.Gl=void 0,u.ENt=void 0,u.rq=void 0,u.nq=void 0,u.UNt=YT.pz,u.WNt=void 0,u.bd=function(t){var i=u.Fx;i.length>0&&u.ENt.jU(i.start(0)),u.So(new bw(t.currentTime,u.Vx))},u.BNt=function(){u.PL.lP!==u.pst&&(u.PL.lP?u.jP():u.QP().catch(dn))},u.YG=function(){u.DNt=!0},u.zNt=function(t){u.rq=t.errorObject,u.nq=cg(u.rq),u.HNt(u.rq)},u.MNt=function(t){u.rq=fg(t.lt),u.nq=t.lt,u.HNt(u.rq)},u.PL=i,u.Cq=new Vy(u,u.PL),u.xq=new Uy(u.Cq,!0),u.aV=n,u.Mz=r,u.lq=new Vz(r.jY,r.CY.RW),u.pq=new Eb(n),u.PL.Rq=u.pq,s.allowNativeFullscreen?u.ENt=new RF(u.PL):u.ENt=new CF(u.PL),u.Gl=new Rb([u.ENt.Z]),u.rNt=new Hz,u.FNt=new Rz(u),u.Lz=e,u.Ndt=Yu({},s.retryConfiguration,{maxRetries:null!=(o=s.retryConfiguration.maxRetries)?o:3}),u.HI(),u}Ct(i,t);var n=i.prototype;return n.HI=function(){this.PL.wn(Wq,this.Rs),this.PL.wn(Ry.PM,this.YG),this.PL.wn([eh.uo,eh.jw],this.BNt),this.PL.wn(qm.ma,this.MNt),this.PL.wn(eh.py,this.bd),this.xq.wn(Cy,this.Rs)},n.UI=function(){this.PL.mn(Wq,this.Rs),this.PL.mn(Ry.PM,this.YG),this.PL.mn([eh.uo,eh.jw],this.BNt),this.PL.mn(qm.ma,this.MNt),this.PL.mn(eh.py,this.bd),this.xq.mn(Cy,this.Rs)},n.YP=function(){return!1},n.qP=function(){return this.PL.Ma},n.Aa=function(){return this.PL.Sq},n.sI=function(t){return this.PL.Tq(t)},n.we=function(){this.PL.we()},n.be=function(){return this.PL.be()},n.$P=function(){},n.tI=function(){},n.JP=function(){},n.ZP=function(){},n.Xx=function(t,i){var n=this;this.T9.Zg(),this.T9=new hr,this.k9=mr(function(i){return n.E9(t,i,n.k9)},this.T9)},n.ONt=function(){var t=this.cC;if(t){for(var i,n=new Date(t.creationDate).getTime(),r=NaN,e=Lt(t.presentations);!(i=e()).done;){var s=i.value;s.currentTime&&(r=s.currentTime.value/(s.currentTime.scale||1)*1e3)}if(!S(r))return new Date(n-r)}},n.VNt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.UNt!==YT.pz&&this.BDt?(this.BDt.Un(),this.UNt!==YT.HL&&this.UNt!==YT.PW?[3,2]:[4,this.BDt.eNt]):[2];case 1:t.sent(),"vod"===this.BDt.cC.P0&&this.BDt.Tn(),t.label=2;case 2:return[2]}})}).call(this)},n.Ta=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return dr(n),[4,this.hr()];case 1:return s.sent(),dr(n),tT(t)?(r=t,this.Ac=r,this.FEt=i,e=new Iz(this.aV),this.WNt=this.qNt(t),this.JW=new Hq(this,this.PL,this.WNt),this.JW.Rt=!0,this.JW.wn("latencyrecoveryseek",this.Rs),this.VP.Ea(this.JW),this.BDt=new Vq(r,e,this.PL,this.lq,this.aV,this.rNt,this.JW,this.Ndt,this,this.ENt,this.Mz),this.BDt.wn(eh.Ww,this.Rs),this.BDt.wn(qm.ma,this.zNt),this.tO.OI=this.BDt.ht,this.sO.OI=this.BDt.rt,this.pq.BW(t.contentProtection),kr(this.VNt()),[2]):(this.rq=new ld(vd.SOURCE_INVALID,"HESP source incorrectly configured"),this.nq=cg(this.rq),this.HNt(this.rq),[2,ut.resolve()])}})}).call(this)},n.IP=function(t,i,n,r){return ut.resolve()},n.CP=function(){return ut.resolve()},n.qNt=function(t){return t.latencyConfiguration?t.latencyConfiguration:Yz()},n.QP=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return this.BDt?(this.pst=!1,this.BDt.Un(),[4,this.BDt.W]):[2];case 1:return n.sent(),this.So(new fT(this.zx)),i=this.BDt.ww(Fq.Jz),this.dC(),[4,i];case 2:return n.sent(),this.BDt.Tn(),[4,this.PL.QP()];case 3:return n.sent(),null==(t=this.JW)||t.Tn(),[2]}})}).call(this)},n.jP=function(){var t;this.BDt&&(this.pst=!0,this.So(new cT(this.zx)),this.BDt.KP(),null==(t=this.JW)||t.KP(),this.PL.jP())},n.dC=function(){var t=this;if(this.ixt)throw new y("Cannot seek while resetting");this.T9.Zg(),this.T9=new hr,this.k9=mr(function(i){return t.yNt(t.k9,i)},this.T9)},n.E9=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:if(this.ixt)throw new y("Cannot seek while resetting");return r=t,this.GNt(r),this.kP.length>0&&(r=EA.jn(this.kP).LM(r),this.GNt(r)),this.BDt?n?[4,n.catch(dn)]:[3,2]:[2];case 1:u.sent(),dr(i),u.label=2;case 2:return u.trys.push([2,4,,5]),e=this.PL.ww(eh.Zw,i),this.PL.Oy(r),this.BDt.Oy(r),[4,e];case 3:return u.sent(),[3,5];case 4:throw lr(s=u.sent()),this.BDt.KP(),this.XNt(),s;case 5:return this.jNt(),[2]}})}).call(this)},n.yNt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:return this.So(new rh("golive")),n=this.lNt,this.GNt(n),this.BDt?t?[4,t.catch(dn)]:[3,2]:[2];case 1:c.sent(),dr(i),c.label=2;case 2:return c.trys.push([2,11,,13]),r=this.JW.aL.targetOffset,[4,this.BDt.eNt];case 3:c.sent(),n&&r>=1?(this.JW.VL()||(s=b.min(1,.5*r),r-=s),e=n-r):e=this.lNt?this.lNt-.2:void 0,this.BDt.dC(e),c.label=4;case 4:return this.ykt.V>0?[4,this.BDt.ww(HR.pZ,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:u=this.ykt,c.label=7;case 7:return 0!==this.ykt.qM(u).V?[3,9]:[4,this.BDt.ww(HR.pZ,i)];case 8:return c.sent(),[3,7];case 9:return e=this.ykt.Tn(this.ykt.V-1),e=this.QNt(e),this.GNt(e),o=this.PL.ww(eh.Zw,i),this.PL.Oy(e,!0),[4,o];case 10:return c.sent(),[3,13];case 11:if(vr(h=c.sent()))throw null==(a=this.JW)||a.Tn(),h;return this.BDt.KP(),[4,this.BDt.hNt()];case 12:throw c.sent(),this.XNt(),h;case 13:return this.jNt(),[2]}})}).call(this)},n.GNt=function(t){this.Pz=!0,this.LNt=t,this.So(new wT(this.zx))},n.jNt=function(){this.Pz&&(this.LNt=void 0,this.Pz=!1,this.So(new gT(this.zx)))},n.XNt=function(){this.LNt=void 0,this.Pz=!1},n.QNt=function(t){return t},n.KNt=function(){var t;null==(t=this.BDt)||t.KP()},n.HNt=function(t){this.So(new yb(t)),this.KNt()},n.sxt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return dr(n),null==(r=this.JW)||r.KP(),t?[4,t.catch(dn)]:[3,2];case 1:e.sent(),e.label=2;case 2:return i?[4,i.catch(dn)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[4,this.ENt.hr()];case 5:return e.sent(),this.BDt?[4,this.BDt.zg()]:[3,7];case 6:e.sent(),this.BDt=void 0,e.label=7;case 7:return dr(n),[4,this.PL.hr()];case 8:return e.sent(),dr(n),this.PL.Eq(),this.sO.hr(),this.tO.hr(),this.XNt(),this.xq.hr(),this.rNt.hr(),this.rq=void 0,this.nq=void 0,this.pst=!0,this.DNt=!1,this.Ac=void 0,this.ixt=void 0,this.WNt=void 0,[2]}})}).call(this)},n.hr=function(){return this.T9.Zg(),this.T9=new hr,this.YNt.Zg(),this.YNt=new hr,this.ixt=this.sxt(this.k9,this.ixt,this.YNt.Yg).catch(function(t){return wr(t)}),this.ixt},n.kn=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return this.UI(),this.xq.kn(),this.Cq.zg(),this.Ac?[4,this.hr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.Vo(),this.PL.Rq=void 0,null==(t=this.JW)||t.mn("latencyrecoveryseek",this.Rs),null==(i=this.JW)||i.zg(),[4,this.ENt.kn()];case 3:return n.sent(),this.Gl.kn(),this.tO.kn(),this.sO.kn(),[2]}})}).call(this)},Nt(i,[{key:"ht",get:function(){return this.tO}},{key:"rt",get:function(){return this.sO}},{key:"cC",get:function(){var t,i;return null==(i=this.BDt)||null==(t=i.cC)?void 0:t.cC}},{key:"OP",get:function(){return this.PL.OP},set:function(t){this.PL.OP=t}},{key:"WP",get:function(){return!1},set:function(t){}},{key:"dq",get:function(){return this.lq}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"zx",get:function(){var t;return null!=(t=this.LNt)?t:this.PL.zx},set:function(t){this.Xx(t)}},{key:"Vx",get:function(){var t=this.ONt();if(t)return new Date(t.getTime()+1e3*this.zx)},set:function(t){var i=this.ONt();t&&i&&(this.zx=i.getTime()-t.getTime())}},{key:"bt",get:function(){return this.Ac}},{key:"vP",get:function(){return this.PL.vP},set:function(t){this.PL.vP=t}},{key:"ct",get:function(){var t=this.PL.ct;return t===bn?1/0:t}},{key:"Qx",get:function(){return!1}},{key:"Jx",get:function(){return this.rq}},{key:"lt",get:function(){return this.nq}},{key:"$x",get:function(){return this.FNt}},{key:"iP",get:function(){}},{key:"sP",get:function(){return!1}},{key:"rP",get:function(){return Yu({},{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PL.hP())}},{key:"cP",get:function(){return!0}},{key:"xP",get:function(){return this.Pz}},{key:"uq",get:function(){}},{key:"nt",get:function(){return this.Gl}},{key:"DP",get:function(){return this.PL.DP}},{key:"MP",get:function(){return this.PL.MP}},{key:"Fx",get:function(){return this.ykt._s()}},{key:"ykt",get:function(){return this.BDt?this.BDt.Fx:EA.rL()}},{key:"pP",get:function(){return this.PL.pP._s()}},{key:"kP",get:function(){var t,i;return null!=(i=null==(t=this.BDt)?void 0:t.kP._s())?i:EA.rL()._s()}},{key:"lP",get:function(){return this.pst}},{key:"uC",get:function(){return!0}},{key:"VP",get:function(){return this.Lz}},{key:"lNt",get:function(){var t;return null==(t=this.BDt)?void 0:t.lNt}},{key:"OL",get:function(){if(!this.lP&&this.DNt){var t=this.zx,i=this.rNt.fCt(t);if(void 0!==i){var n=this.ykt,r=0;if(n.V>0){var e=n.An(n.V-1);r=b.max(e-t,0)}return b.max(i,r)}}}},{key:"hC",get:function(){var t;return null==(t=this.BDt)?void 0:t.hC}},{key:"oC",get:function(){var t;return null==(t=this.BDt)?void 0:t.oC}},{key:"aC",get:function(){var t;return null==(t=this.BDt)?void 0:t.aC}},{key:"AP",get:function(){return this.PL.AP}},{key:"wP",get:function(){return this.UNt},set:function(t){this.UNt=t,this.VNt()}}]),i}(th),Xq=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,r,e,u)||this).Nq=void 0,o.sBt=void 0,o.iBt=!1,o.JNt=!1,o.$Nt=[],o.tBt=void 0,o.eBt=function(){var i=o.oP||0===o.OP;"hidden"!==v.visibilityState||o.lP||!i||o.Aa().YL?"visible"===v.visibilityState&&o.iBt&&(o.JNt=!0,o.tBt=Ui.Og(function(){for(var i,n=Lt(o.$Nt);!(i=n()).done;){var r=i.value;t.prototype.So.call(LW(o),r)}o.tBt=void 0,o.JNt=!1},2e3),kr(o.QP()),o.iBt=!1):(o.jP(),o.iBt=!0)},o.Nq=s,o.sBt=i,Bi.Rg&&v.addEventListener("visibilitychange",o.eBt),o}Ct(i,t);var n=i.prototype;return n.So=function(i){if(this.JNt){if(i.type===eh.Zw)return void this.ZNt();if(i.type===Ry.xM||i.type===eh.$w||i.type===Ry.PM)return void this.$Nt.push(i)}t.prototype.So.call(this,i)},n.ZNt=function(){this.JNt=!1,void 0!==this.tBt&&Ui.Lg(this.tBt);var i=Fn(this.$Nt,function(t){return t.type===Ry.PM});i&&t.prototype.So.call(this,i),Yn(this.$Nt)},n.zP=function(){if(wO(this.PL))return this.PL.zP()},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.iBt=!1,this.ZNt(),[4,t.prototype.hr.call(i)];case 1:return n.sent(),[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return v.removeEventListener("visibilitychange",this.eBt),this.ZNt(),[4,t.prototype.kn.call(i)];case 1:return n.sent(),[4,this.PL.zg()];case 2:return n.sent(),[4,this.Nq.Dq(this.sBt)];case 3:return n.sent(),[2]}})}).call(this)},n.QNt=function(t){return Bi.X_&&Bi.Q_>=15&&Bi.Kv?t+.25:t},i}(zq);U(),Et(),Wt(),xt(),Qt();var qq=function(){function t(){}var i=t.prototype;return i.Jq=function(t,i){return Vt(function(){return zt(this,function(i){return[2,Gq(t.type)]})})()},i.Zq=function(t){return Vt(function(){return zt(this,function(i){return[2,Np(t)]})})()},Nt(t,[{key:"tz",get:function(){return Ab.wC}}]),t}();function Gq(t){if(!t)return!1;var i=t.toLowerCase();return Fo(i,cA.mC)||Fo(i,cA.wC)}var jq=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.DC=function(t,i,n,r,e,s,u){var o=new xO(i),h=o.Yq(eg.Mk);return new Xq(h,n,e,s,o,r)},n.Jq=function(i,n){return Ui.yx&&Gd?Bi.w_||Bi.S_||Bi.D_?ut.resolve(!1):Pe(i.useManagedMediaSource)?t.prototype.Jq.call(this,i,n):ut.resolve(!1):ut.resolve(!1)},n.$q=function(){return!1},i}(qq);GT(new jq),U(),Et(),Wt(),xt(),Pt(),H(),Qt(),U(),Et(),Wt(),Pt(),Qt();var Qq=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,r,e,u)||this).Nq=void 0,o.Nq=s,o}Ct(i,t);var n=i.prototype;return n.zP=function(){if(wO(this.PL))return this.PL.zP()},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),[4,this.Nq.Dq(this.PL)];case 2:return n.sent(),[2]}})}).call(this)},i}(zq),Yq=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Jq=function(i,n){var r=this;return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return Bi.IS_IOS_CHROME?[2,!1]:[4,t.prototype.Jq.call(r,i,n)];case 1:if(u=h.sent(),!(null!=(o=null==(s=Rr())||null==(e=s.canPlayType)?void 0:e.call(s,cA._C))?o:"")||!u||!("serviceWorker"in l))return[2,!1];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,Tr(l.serviceWorker.ready,1e3)];case 3:return h.sent(),[2,!0];case 4:return h.sent(),[2,!1];case 5:return[2]}})})()},n.Zq=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return i.fairplay?[4,t.prototype.Zq.call(n,i)]:[2,!1];case 1:return[2,r.sent()]}})})()},n.DC=function(t,i,n,r,e,s,u){if(V(t,HTMLDivElement)){var o=i.Pst(eg.Mk);return new Qq(o,n,e,s,i,r)}throw new ld(vd.CONFIGURATION_ERROR,"Container Div element expected.")},n.$q=function(){return!1},Nt(i,[{key:"tz",get:function(){return Ab.xW}}]),i}(qq);Bi.X_&&Bi.ru&&GT(new Yq),U(),Et(),U(),Et(),U(),Et(),Wt(),xt(),Pt(),H(),ct(),Ft(),Qt(),U(),Et(),xt();var Kq="theo_live_user_id",Jq=function(){function t(t){this.externalId=void 0,this.id=void 0,this.userId=void 0,this.AA=void 0,this.externalId=t,this.id=QE(),this.userId=Zq(),this.AA=0}return t.prototype.incrementSequenceNumber=function(){this.AA+=1},Nt(t,[{key:"sequenceNumber",get:function(){return this.AA}}]),t}();function Zq(){try{var t=localStorage.getItem(Kq);if(t)return t;var i=QE();return localStorage.setItem(Kq,i),i}catch(t){return QE()}}function $q(t){var i;return{hespSrc:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,maxMobileBitrate:t.maxMobileBitrate,targetLatency:null==(i=t.metadata.customization)?void 0:i.targetLatency,contentProtection:t.drmConfig?t.drmConfig:void 0}}function tG(t){var i=t.integration,n=t.widevine,r=t.playready,e=t.fairplay;return Yu({integration:i},n&&{widevine:{licenseAcquisitionURL:n.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function iG(t,i){return{id:t.id,name:t.name,deleted:"deleted"===t.status,targetLatency:t.source.targetLatency,maxMobileBitrate:t.source.maxMobileBitrate,endpoints:[{hespSrc:t.source.hespSrc,hlsSrc:t.source.hlsSrc,weight:1,priority:1,contentProtection:t.source.contentProtection},t.fallback&&i?{hespSrc:t.fallback.hespSrc,hlsSrc:t.fallback.hlsSrc,weight:1,priority:2,contentProtection:t.fallback.contentProtection}:void 0].filter(Li)}}U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),U(),Et(),Wt(),ct(),Qt(),U(),Et();var nG=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),rG=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function eG(t){return 100*b.round(t/100)}function sG(t){for(var i=t.Gx(),n=t.Ux(),r=0;r<n.length;r++)if(n.start(r)<=i&&i<=n.end(r))return 1e3*(n.end(r)-i);return 0}function uG(t){return Fn(t.NI,function(t){return t.Rt})}function oG(t){return Zn(t.$I.NI,function(t){return t.IW})}function hG(t){return $n(t.$I.NI,function(t){return t.IW})}U(),Et(),xt(),U(),Et();var aG=function(){function t(t,i,n,r){var e,s,u,o;this.Vp=void 0,this.nBt=Date.now(),this.oBt=0,this.uBt=0,this.dBt=void 0,this.lBt=void 0,this.cq=0,this.cBt=0,this.hBt=0,this._f=void 0,this.nq=void 0,this.oa=void 0,this.Vp=t,this.oa=i,this.dBt=null==(s=uG(this.oa.rt))||null==(e=s.YI)?void 0:e.o,this.lBt=null==(o=uG(this.oa.ht))||null==(u=o.YI)?void 0:u.o,this._f=n,this.nq=r}var i=t.prototype;return i.rBt=function(){var t=this.oa.lX.CY.IW,i=this.oa.VP.OL,n=sG(this.oa);t>0&&void 0!==n&&void 0!==i&&(this.hBt+=1,this.oBt=this.aBt(this.oBt,n),this.uBt=this.aBt(this.uBt,1e3*this.oa.VP.Cd.targetOffset),this.cq=this.aBt(this.cq,1e3*i),this.cBt=this.aBt(this.cBt,t/1e3))},i.aBt=function(t,i){return t+(i-t)/this.hBt},i.DC=function(){var t={sta:this.Vp,ts:this.nBt,"theo-vt":this.dBt,"theo-at":this.lBt,"theo-d":this.ct,"theo-r":this._f,"theo-e":this.nq};return this.hBt>0?Yu({},t,{bl:eG(this.oBt),tbl:eG(this.uBt),ltc:eG(this.cq),mtp:eG(this.cBt),"theo-w":this.hBt}):t},i.fBt=function(){return new t(this.Vp,this.oa,this._f)},t.starting=function(i,n,r){return new t(nG.STARTING,i,n,r)},t.playing=function(i){return new t(nG.PLAYING,i)},t.seeking=function(i,n){return new t(nG.SEEKING,i,n)},t.rebuffering=function(i,n){return new t(nG.REBUFFERING,i,n)},t.paused=function(i){return new t(nG.PAUSED,i)},t.ended=function(i){return new t(nG.ENDED,i)},t.quit=function(i){return new t(nG.QUIT,i)},Nt(t,[{key:"ct",get:function(){return Date.now()-this.nBt}}]),t}(),cG=function(){function t(t,i,n){var r=this;this.oa=void 0,this.yBt=void 0,this.kBt=void 0,this.BBt=void 0,this.gBt=void 0,this.ABt=[],this._Bt=void 0,this.DNt=!1,this.uX=!1,this.CBt=function(t){var i,n,e;r.SBt(aG.starting(r.oa,"fallback",null!=(e=null==(i=t.reason)?void 0:i.message)?e:null==(n=r.oa.Zx())?void 0:n.message))},this.RBt=function(){r.SBt(aG.starting(r.oa,"loadChannel"))},this.DBt=function(){r.SBt(aG.ended(r.oa))},this.KW=function(t){t.Ht.wn(Nw.II,r.ih)},this.ih=function(){var t,i,n,e,s=null==(i=uG(r.oa.rt))||null==(t=i.YI)?void 0:t.o,u=null==(e=uG(r.oa.ht))||null==(n=e.YI)?void 0:n.o;s&&u&&(r._Bt&&r._Bt.Vp===nG.PLAYING&&r._Bt.dBt===s&&r._Bt.lBt===u||r.SBt(aG.playing(r.oa)))},this.NL=function(){r.DNt=!0,r.uX=!1,r.SBt(aG.playing(r.oa))},this.PBt=function(){r.DNt&&!r.uX&&(r.uX=!0,r.SBt(aG.seeking(r.oa,"latencyRecovery")))},this.IBt=function(){r.DNt&&!r.uX&&(r.uX=!0,r.SBt(aG.seeking(r.oa,"goLive")))},this.DL=function(){r.oa.xP||r.SBt(aG.rebuffering(r.oa,"visible"===v.visibilityState?void 0:"invisible"))},this.xBt=function(){r.SBt(aG.paused(r.oa))},this.NBt=function(t){var i=Ui.Dh(t.url),n=function(t){var i=t.pathname;if(Uo(i,"manifest.json"))return rG.MANIFEST;if(Lo(i,"/video/"))return rG.VIDEO;if(Lo(i,"/audio/"))return rG.AUDIO;return rG.OTHER}(i);if(n!==rG.OTHER){r.gBt.incrementSequenceNumber();var e=Yu({},t.headers,{"CMCD-Request":r.vBt(),"CMCD-Object":r.pBt(n),"CMCD-Status":r.mBt(),"CMCD-Session":r.wBt()});n===rG.VIDEO&&!Uo(i.pathname,".hspi")&&r._Bt&&(r.SBt(r._Bt.fBt()),e=Yu({},e,r.bBt())),t.redirect(Yu({},t,{headers:e}))}},this.EBt=function(){kr(r.TBt())},this.oa=t,this.yBt=i,this.gBt=n;var e=i.endpoints[0],s=(null==e?void 0:e.hespSrc)||(null==e?void 0:e.hlsSrc)||"";this.kBt=Ui.Dh("bye",s).href,f.addEventListener("beforeunload",this.EBt),this.oa.wn(Ry.PM,this.NL),this.oa.wn(Ry.xM,this.DL),this.oa.wn(eh.jw,this.xBt),this.oa.$x.wn("latencyrecoveryseek",this.PBt),this.oa.$x.wn("golive",this.IBt),this.oa.lX.bY(this.NBt),this.oa.rt.wn(Iw.rI,this.KW),this.oa.ht.wn(Iw.rI,this.KW),this.oa.pnt.addEventListener("intenttofallback",this.CBt),this.oa.pnt.addEventListener("distributionloadstart",this.RBt),this.oa.pnt.addEventListener("distributionoffline",this.DBt),this._Bt=aG.starting(this.oa,"loadchannel"),this.BBt=Ui.fm(function(){var t;null==(t=r._Bt)||t.rBt()},1e3)}var i=t.prototype;return i.vBt=function(){var t,i=this.oa.VP.OL,n=sG(this.oa),r=this.oa.lX.CY.IW;return fG({bl:void 0!==n?eG(n):void 0,tbl:eG(1e3*this.oa.VP.Cd.targetOffset),ltc:void 0!==i?eG(1e3*i):void 0,mtp:void 0!==r?eG(r/1e3):void 0,sta:null==(t=this._Bt)?void 0:t.Vp,su:!this.DNt||void 0,"theo-sq":this.gBt.sequenceNumber})},i.pBt=function(t){var i,n,r=function(t,i){switch(i){case rG.VIDEO:return uG(t.rt);case rG.AUDIO:return uG(t.ht)}}(this.oa,t);return fG({br:(null==r||null==(i=r.YI)?void 0:i.IW)?eG((null==r||null==(n=r.YI)?void 0:n.IW)/1e3):void 0,ot:t,tb:r?eG(hG(r).IW/1e3):void 0,lb:r?eG(oG(r).IW/1e3):void 0})},i.mBt=function(){return fG({"theo-cw":this.oa.xe.clientWidth,"theo-ch":this.oa.xe.clientHeight,"theo-m":this.oa.oP,"theo-vo":b.ceil(100*this.oa.OP)})},i.wBt=function(){var t;return fG({sf:vG(this.oa.bt),sid:this.gBt.id,st:"l",v:2,"theo-eid":null==(t=this.gBt.externalId)?void 0:t.substring(0,128),"theo-cn":this.yBt.name.substring(0,128),"theo-v":"10.3.0","theo-t":"web","theo-u":this.gBt.userId})},i.bBt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.ABt))};return this.ABt=[],t},i.SBt=function(t){this._Bt&&this.ABt.push(this._Bt.DC()),this._Bt=t},i.TBt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this._Bt&&(this.ABt.push(this._Bt.DC()),this._Bt=void 0),this.ABt.push(aG.quit(this.oa).DC()),t=Yu({},this.bBt(),{"CMCD-Session":this.wBt()}),[4,this.oa.Dx.vk({Yu:this.kBt,_k:t,Yk:!0})];case 1:return[4,i.sent().lk()];case 2:return i.sent(),[2]}})}).call(this)},i.destroy=function(){var t=this;this.EBt(),f.removeEventListener("beforeunload",this.EBt),this.oa.mn(Ry.PM,this.NL),this.oa.mn(Ry.xM,this.DL),this.oa.mn(eh.jw,this.xBt),this.oa.$x.mn("latencyrecoveryseek",this.PBt),this.oa.$x.mn("golive",this.IBt),this.oa.rt.mn(Iw.rI,this.KW),this.oa.ht.mn(Iw.rI,this.KW),this.oa.rt.NI.forEach(function(i){return i.mn(Nw.II,t.ih)}),this.oa.ht.NI.forEach(function(i){return i.mn(Nw.II,t.ih)}),this.oa.pnt.removeEventListener("intenttofallback",this.CBt),this.oa.pnt.removeEventListener("distributionloadstart",this.RBt),this.oa.pnt.removeEventListener("distributionoffline",this.DBt),this.oa.lX.TY(this.NBt),Ui.vm(this.BBt)},t}();function fG(t){return k.keys(t).map(function(i){return function(t,i){switch(void 0===i?"undefined":W(i)){case"boolean":return i?t:t+"=false";case"number":return t+"="+i;case"string":return t+'="'+i+'"';default:return}}(i,t[i])}).filter(Boolean).sort().join(",")}function vG(t){if(t)return t.type===cA._C||t.type===cA.gC?"h":t.type===cA.wC?"e":void 0}var dG=function(t){function i(i,n,r){var e;return(e=t.call(this,i,"Could not load channel with id "+n+": "+r)||this).channelId=void 0,e.reason=void 0,e.channelId=n,e.reason=r,e}return Ct(i,t),i}(ld),lG=function(t){function i(i){return t.call(this,vd.THEO_LIVE_CHANNEL_NOT_FOUND,i,"The channel could not be found")||this}return Ct(i,t),i}(dG),wG=function(t){function i(i){return t.call(this,vd.THEO_LIVE_CHANNEL_NOT_FOUND,i,"This account has been locked")||this}return Ct(i,t),i}(dG),gG=function(t){function i(i){return t.call(this,vd.THEO_LIVE_CHANNEL_NOT_FOUND,i,"The channel got deleted")||this}return Ct(i,t),i}(dG),_G=function(){function t(t,i){this.aV=void 0,this.LBt=void 0,this.MBt=void 0,this.aV=t,this.LBt=i,this.MBt=new Map}return t.prototype.Jgt=function(t){var i=this.MBt.get(t);if(i)return i;var n=new mG(t,this.aV,this.LBt);return this.MBt.set(t,n),n},t}(),mG=function(){function t(t,i,n){var r;this.aS=void 0,this.aV=void 0,this.LBt=void 0,this.FBt=void 0,this.VBt=void 0,this.UBt=void 0,this.WBt=void 0,this.aS=t,this.aV=i,this.LBt=n,this.WBt=new Vd,this.LBt.discoveryHeader&&this.WBt.append("x-theolive-discovery",this.LBt.discoveryHeader),this.WBt.set("CMCD-Session",fG({sid:this.LBt.sessionId,st:"l",v:2,"theo-eid":null==(r=this.LBt.externalSessionId)?void 0:r.substring(0,128),"theo-v":"10.3.0","theo-t":"web","theo-u":this.LBt.userId})),this.er()}var i=t.prototype;return i.er=function(){var t=this;this.UBt=!1,this.FBt=ae(),this.VBt=this.KSt(),this.VBt.catch(function(){return t.UBt=!0})},i.KSt=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:t=Lt(this.LBt.discoveryUrls),f.label=1;case 1:return(i=t()).done?[3,8]:(n=i.value,[4,this.HBt(this.aS,n,this.WBt)]);case 2:if(!(r=f.sent()))return[3,7];if(!function(t){return void 0!==t.mode}(r))return[3,6];if(e=r.mode,s=r.status,u=r.fallback,o=r.metadata,"locked"===e)throw new wG(this.aS);if("deleted"===s)throw new gG(this.aS);return a={id:this.aS,name:o.name,mode:e,status:s,source:$q(r)},u?[4,this.qBt(u,n,this.WBt)]:[3,4];case 3:return c=f.sent(),[3,5];case 4:c=void 0,f.label=5;case 5:return[2,iG.apply(void 0,[(a.fallback=c,a.insights=null==o?void 0:o.insights,a.enhancedLogging=null==o?void 0:o.enhancedLogging,a.customization=null==o?void 0:o.customization,a.sseEndpoint=r.sseEndpoint,a),null==(h=this.LBt.fallbackEnabled)||h])];case 6:return[2,r];case 7:return[3,1];case 8:throw new lG(this.aS)}})}).call(this)},i.qBt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return"hls"===t.type?[2,{hlsSrc:t.src,type:"hls"}]:[4,this.HBt(t.src,i,n)];case 1:return(r=e.sent())?[2,$q(r)]:[2,void 0]}})}).call(this)},i.HBt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),(r=Ui.Dh(t,i)).searchParams.set("osName",function(){var t=Ui.Zs.ap;if("ios"===t||"macos"===t)return"apple";return t}()),r.searchParams.set("deviceType",Ui.Zs.cp),r.searchParams.set("sdkType","web"),[4,this.aV.vk({Yu:r.toString(),_k:n})];case 1:return[4,e.sent().VT()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})}).call(this)},Nt(t,[{key:"OBt",get:function(){return ae()-this.FBt>36e5}},{key:"zBt",get:function(){return(this.UBt||this.OBt)&&this.er(),this.VBt}}]),t}();U(),Et(),Wt(),xt(),Pt(),Qt();var yG=function(t){function i(i){var n;return(n=t.call(this,"distributionloadstart")||this).distributionId=void 0,n.distributionId=i,n}return Ct(i,t),i}(rh),pG=function(t){function i(i){var n;return(n=t.call(this,"distributionoffline")||this).distributionId=void 0,n.distributionId=i,n}return Ct(i,t),i}(rh),kG=function(t){function i(i){var n;return(n=t.call(this,"endpointloaded")||this).endpoint=void 0,n.endpoint=i,n}return Ct(i,t),i}(rh),bG=function(t){function i(i){var n;return(n=t.call(this,"intenttofallback")||this).reason=void 0,n.reason=i,n}return Ct(i,t),i}(rh),AG=function(t){function i(){return t.call(this,"enterbadnetworkmode")||this}return Ct(i,t),i}(rh),TG=function(t){function i(){return t.call(this,"exitbadnetworkmode")||this}return Ct(i,t),i}(rh),SG=function(t){function i(i){var n;return(n=t.call(this)||this).oa=void 0,n.hu=void 0,n.oa=i,n}return Ct(i,t),i.prototype.jBt=function(t){return this.oa.jBt(t)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{addEventListener:function(i,n){t.wn(i,n)},removeEventListener:function(i,n){t.mn(i,n)},get badNetworkMode(){return t.GBt},set badNetworkMode(i){t.GBt=i},get authToken(){return t.XBt},set authToken(i){t.XBt=i},preloadPublications:function(i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.jBt(i)];case 1:return[2,n.sent().map(function(t){return{name:t.name}})]}})})()}}}(this)),this.hu}},{key:"GBt",get:function(){return this.oa.GBt},set:function(t){this.oa.GBt=t}},{key:"XBt",get:function(){return this.oa.XBt},set:function(t){this.oa.XBt=t}}]),i}(th);var EG=["https://discovery.theo.live/channels/"],IG=8e5,RG=function(t){function i(i,n){var r,e;(r=t.call(this,i,n)||this).ZBt=void 0,r.gBt=void 0,r.uMt=void 0,r.dMt=void 0,r.lMt=void 0,r.Ac=void 0,r.mz=void 0,r.cMt=void 0,r.yBt=void 0,r.pMt=void 0,r.fNt=!1,r.Wz=void 0,r.nq=void 0,r.hT=new hr,r.YBt=void 0,r.DNt=!1,r.d9=!1,r._Mt=void 0,r.mMt=void 0,r.iMt=void 0,r.tMt=void 0,r.wMt=[],r.nMt=!1,r.oMt=void 0,r.eMt=!0,r.JBt=0,r.sMt=void 0,r.KW=function(t){var i,n,e=t.Ht,s=null==(i=r.yBt)?void 0:i.maxMobileBitrate;void 0!==s&&Ui.Zs.Ks&&e.$I.NI.filter(function(t){return t.IW>s}).forEach(function(t){return e.$I.pS(t)});e.wn(Nw.II,r.ih);var u=CG(null!=(n=e.tC)?n:e.$I.NI);e.tC=u.length>0?u:CG(e.$I.NI)},r.ih=function(t){var i,n=t.qot;(!n||(null!=(i=n.wyt)?i:n.IW)>=IG)&&r.hMt()},r.PBt=function(){r.rMt(),r.wMt.push(Ui.Mg()),r.wMt=r.wMt.filter(function(t){return Ui.Mg()-t<=3e5}),r.wMt.length>=3&&(r.wMt=[],r.ZBt.So(new bG(new ld(vd.THEO_LIVE_UNKNOWN_ERROR,"Unstable playback detected."))),kr(r.$Bt()))},r.aMt=function(t){r.fNt&&r.oMt&&("manifest"!==t.type&&"segment"!==t.type||(t.headers.Authorization="Bearer "+r.oMt,t.redirect(t)))},r.ZBt=new SG(r);var s,u,o,h=i.Cd.theoLive;return r.dMt={sessionId:null!=(s=null==h?void 0:h.sessionId)?s:QE(),userId:null!=(u=null==h?void 0:h.userId)?u:Zq(),externalSessionId:null==h?void 0:h.externalSessionId,analyticsEnabled:!1!==(null==h?void 0:h.analyticsEnabled),fallbackEnabled:!1!==(null==h?void 0:h.fallbackEnabled),discoveryUrls:[].concat([null==h?void 0:h.discoveryUrl],null!=(o=null==h?void 0:h.discoveryUrls)?o:[],EG).filter(Li).map(function(t){return t.lastIndexOf("/")===t.length-1?t:t+"/"})},r.gBt=new Jq(null==(e=r.dMt)?void 0:e.externalSessionId),r.uMt=new _G(i.Dx,r.dMt),r.oa.$x.wn("latencyrecoveryseek",r.PBt),r}Ct(i,t);var n=i.prototype;return n.QBt=function(){this.oa.$x.wn("latencyrecoveryseek",this.PBt),this.oa.rt.wn(Iw.rI,this.KW)},n.KBt=function(){this.oa.$x.mn("latencyrecoveryseek",this.PBt),this.oa.rt.mn(Iw.rI,this.KW)},n.eI=function(i){var n=this;if(!this.fNt||this.nq||this.Wz)return t.prototype.eI.call(this,i);if(i.type===Ry.PM)return void 0!==this.YBt?(Ui.Lg(this.YBt),this.YBt=void 0,this.DNt||this.So(new Ly(this.Gx()))):this.So(new Ly(this.Gx())),this.JBt=0,this.DNt=!0,!0;if(i.type===Ry.xM)return this.YBt||(this.YBt=Ui.Og(function(){n.So(new By(n.Gx())),n.YBt=void 0},100)),!0;if(i.type===qm.ma){var r;this.JBt++;var e=(null==(r=this.mz)?void 0:r.src)&&NG(this.mz.src),s=this.JBt>5;return e||s?(this.dispatchErrorEvent(i.errorObject),!0):(this.ZBt.So(new bG(i.errorObject)),kr(this.$Bt()),!0)}if(i.type===eh.uo){if(this.tMt=Ui.Mg(),void 0===this.iMt&&void 0!==this.oa.bt&&(this.iMt=Ui.fm(function(){var t;Ui.Mg()-(null!=(t=n.tMt)?t:0)>15e3&&(n.ZBt.So(new bG(new ld(vd.THEO_LIVE_UNKNOWN_ERROR,"Indefinite stall detected"))),kr(n.$Bt()))},1e3)),this.oa.bt&&(this.eMt=!1),this.eMt)return!0}else if(i.type===eh.jw){if(void 0!==this.iMt&&(Ui.vm(this.iMt),this.iMt=void 0),this.oa.bt&&(this.eMt=!0),!this.eMt)return!0}else i.type===eh.py?this.tMt=Ui.Mg():i.type===Ry.EM?this.sMt&&(!function(t,i){if(t.rt.V>0){var n,r=t.rt.MI(0);if(r.Rt=i.enabledVideo,r.Rt)r.tC=null==(n=i.targetVideoQualities)?void 0:n.map(function(t){return Fn(r.$I.NI,function(i){return i.IW===t})}).filter(Li)}for(var e,s=Fn(t.ht.NI,function(t){return t.bs===i.enabledAudioLanguage}),u=Lt(t.ht.NI);!(e=u()).done;){var o=e.value;o.Rt=o===s}for(var h,a=Lt(t.nt.NI);!(h=a()).done;){var c,f=h.value,v=null!=(c=i.textTrackModes.get(f.o))?c:zm.Nh;f.Qk!==v&&(f.Qk=v)}}(this.oa,this.sMt),this.sMt=void 0):i.type===eh.sy&&(this.ZBt.So(new bG(new ld(vd.THEO_LIVE_UNKNOWN_ERROR,"manifest not found"))),kr(this.$Bt()));return t.prototype.eI.call(this,i)},n.mnt=function(){return this.ZBt.Ca},n.Yx=function(){return this.fNt?this.Wz:t.prototype.Yx.call(this)},n.Zx=function(){return this.fNt?this.nq:t.prototype.Zx.call(this)},n.rMt=function(){if(!this.nMt&&(this.nMt=!0,this.ZBt.So(new AG),0!==this.oa.rt.V)){var t,i=this.rt.MI(0),n=tr(i.$I.NI,function(t){return t.IW});(null!=(t=n.wyt)?t:n.IW)<IG?(i.tC=[n],ut.resolve().then(function(){return i.tC=i.$I.NI.slice()})):this.hMt()}},n.hMt=function(){if(this.nMt&&(this.nMt=!1,this.ZBt.So(new TG),0!==this.oa.rt.V)){var t,i=this.oa.rt.MI(0),n=CG(null!=(t=i.tC)?t:i.$I.NI);i.tC=n.length>0?n:CG(i.$I.NI)}},n.jBt=function(t){var i=this;return ut.all(t.map(function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,gr(this.uMt.Jgt(t).zBt,this.hT.Yg)];case 1:return[2,i.sent()]}})}).call(i)}))},n.nu=function(){var i;return null!=(i=this.Ac)?i:t.prototype.nu.call(this)},n.Ta=function(i,n){var r=this,e=function(){return t.prototype.Ta};return Vt(function(){var t,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:this.fNt=!1,s=Lt(null!=(t=null==i?void 0:i.sources)?t:[]),f.label=1;case 1:return(u=s()).done?[3,8]:oT(o=u.value)&&o.type===cA.bC&&o.src?(this.fNt=!0,this.Ac=i,this.mz=o,this.ZBt.So(new yG(o.src)),this.QBt(),NG(o.src)?(h=Yu({},i,{sources:[Yu({},o,{type:cA.wC,useManagedMediaSource:!0})]}),[4,e().call(r,h,n)]):[3,3]):[3,7];case 2:return f.sent(),[2];case 3:this.cMt=this.uMt.Jgt(o.src),f.label=4;case 4:return f.trys.push([4,6,,7]),[4,this.cMt.zBt];case 5:return a=f.sent(),this.yBt=a,this.dMt.analyticsEnabled&&(this.lMt=new cG(this,a,this.gBt)),[2];case 6:throw lr(c=f.sent()),this.fMt(),c;case 7:return[3,1];case 8:return[4,e().call(r,i,n)];case 9:return[2,f.sent()]}})}).call(this)},n.fP=function(){return this.fNt?this.eMt:t.prototype.fP.call(this)},n.QP=function(){this.d9||(this.d9=!0,this.vMt(!1)),this.eMt=!1,t.prototype.QP.call(this)},n.jP=function(){this.eMt=!0,t.prototype.jP.call(this)},n.$Bt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return void 0!==this.oa.bt&&(null!=this.sMt||(this.sMt=function(t){var i,n,r=Fn(t.rt.NI,function(t){return t.Rt}),e=null==r||null==(i=r.tC)?void 0:i.map(function(t){return t.IW}),s=null==(n=Fn(t.ht.NI,function(t){return t.Rt}))?void 0:n.bs,u=Ju();return t.nt.NI.forEach(function(t){return u.set(t.o,t.Qk)}),{enabledVideo:Boolean(r),targetVideoQualities:e,enabledAudioLanguage:s,textTrackModes:u}}(this.oa))),[4,this.oa.KP().catch(dn)];case 1:return t.sent(),this.vMt(!0),[2]}})}).call(this)},n.vMt=function(t){var i=this;if(this.cMt&&!this._Mt){this.fMt();var n=function(){i._Mt=void 0};this._Mt=this.gMt(this.cMt,t).then(n).catch(n)}},n.gMt=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=this,i&&t.er(),[4,t.zBt];case 1:return r=o.sent(),this.yBt=r,[4,this.selectEndpoint(r,this.pMt)];case 2:if(e=o.sent(),this.pMt=e,!e)return[3,7];s=this.convertEndpointToSource(r,e),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.oa.Ta(s,(new hr).Yg)];case 4:return o.sent(),[3,6];case 5:return u=o.sent(),this.dispatchErrorEvent(u),this.fMt(),[2];case 6:return this.ZBt.So(new kG(e)),this.eMt||this.oa.QP(),[3,8];case 7:this.ZBt.So(new pG(r.id)),this.mMt=Ui.Og(function(){return n.vMt(!0)},15e3),o.label=8;case 8:return[2]}})}).call(this)},n.convertEndpointToSource=function(t,i){var n,r,e={sources:[this.getHespSource(t,i),this.getMillicastSource(i),this.getHlsSource(i)].filter(Li),ads:this.DNt?[]:null==(n=this.Ac)?void 0:n.ads,blockContentIfAdError:null==(r=this.Ac)?void 0:r.blockContentIfAdError,streamType:"live"};if(i.adSrc||i.daiAssetKey){var s,u=null!=(s=e.ads)?s:[],o=u.filter(function(t){return"theoads"===t.integration});o.length>0?o.forEach(function(t){var n,r,e=t;e.sseEndpoint=null!=(n=i.adSrc)?n:e.sseEndpoint,e.daiAssetKey=null!=(r=i.daiAssetKey)?r:e.daiAssetKey}):u.push({integration:"theoads",sseEndpoint:i.adSrc,daiAssetKey:i.daiAssetKey}),e.ads=u}i.dvrWindow&&(e.dvr=Yu({},e.dvr,{windowLength:i.dvrWindow}));var h=cE(e);return h.sources[0].bypassLicense=!0,h},n.getHespSource=function(t,i){var n,r;if(i.hespSrc)return{type:cA.wC,src:i.hespSrc,contentProtection:i.contentProtection?tG(i.contentProtection):void 0,useManagedMediaSource:!0,latencyConfiguration:null!=(r=null==(n=this.mz)?void 0:n.latencyConfiguration)?r:PG(t.targetLatency),hesp:{maxMobileBitrate:t.maxMobileBitrate}}},n.getHlsSource=function(t){if(t.hlsSrc)return{type:cA.gC,src:t.hlsSrc,contentProtection:t.contentProtection?tG(t.contentProtection):void 0}},n.getMillicastSource=function(t){if(t.millicastSrc)return{type:cA.yC,src:t.millicastSrc.name,streamAccountId:t.millicastSrc.accountId,subscriberToken:t.millicastSrc.subscriberToken}},n.dispatchErrorEvent=function(t){var i=V(t,ld)?t:new ld(vd.THEO_LIVE_UNKNOWN_ERROR,t.message,t);this.Wz=cg(i),this.nq=i,this.fMt(),this.So(new yb(i))},n.fMt=function(){void 0!==this.YBt&&(Ui.Lg(this.YBt),this.YBt=void 0),void 0!==this.mMt&&(Ui.Lg(this.mMt),this.mMt=void 0),void 0!==this.iMt&&(Ui.vm(this.iMt),this.iMt=void 0)},n.KP=function(){var i;return this.hT.Zg(),this.hT=new hr,this.KBt(),this.fMt(),this.tMt=void 0,this.fNt=!1,this.d9=!1,this.DNt=!1,null==(i=this.lMt)||i.destroy(),this.lMt=void 0,this.Ac=void 0,this.mz=void 0,this.cMt=void 0,this.yBt=void 0,this.pMt=void 0,this.nq=void 0,this.Wz=void 0,this.JBt=0,this.wMt=[],this.eMt=!0,this.sMt=void 0,this.nMt&&this.hMt(),t.prototype.KP.call(this)},n.kn=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return this.hT.Zg(),this.oa.lX.TY(this.aMt),void 0!==this.YBt&&(Ui.Lg(this.YBt),this.YBt=void 0),this.Vo(),this.KBt(),null==(r=this.lMt)||r.destroy(),this.oa.$x.mn("latencyrecoveryseek",this.PBt),[4,t.prototype.kn.call(n,i)];case 1:return e.sent(),[2]}})}).call(this)},n.selectEndpoint=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:r=function(){var t,i,r,u;return zt(this,function(o){switch(o.label){case 0:t=a.value,i=s.filter(function(i){return i.priority===t}),o.label=1;case 1:return i.length>0?(r=function(t){var i=t.reduce(function(t,i){return t+i.weight},0);if(0===i){return t[b.floor(b.random()*t.length)]}for(var n,r=b.random()*i,e=0,s=Lt(t);!(n=s()).done;){var u=n.value;if(r<=(e+=u.weight))return u}return t[t.length-1]}(i),[4,DG(r,n.oa.Dx)]):[3,3];case 2:return"online"===(u=o.sent())?[2,{v:r}]:("invalid-security"===u&&(e=!0),Xn(i,r),[3,1]);case 3:return[2]}})},e=!1,s=t.endpoints.slice().filter(function(t){return!i||!function(t,i){return t.hespSrc===i.hespSrc&&t.hlsSrc===i.hlsSrc&&t.adSrc===i.adSrc}(t,i)}),u=nr(s.map(function(t){return t.priority})),o=u.sort(),h=Lt(o),d.label=1;case 1:return(a=h()).done?[3,4]:(n=this,[5,Xt(r())]);case 2:if("object"===W(c=d.sent()))return[2,c.v];d.label=3;case 3:return[3,1];case 4:return i?[4,DG(i,this.oa.Dx)]:[3,6];case 5:if("online"===(f=d.sent()))return[2,i];"invalid-security"===f&&(e=!0),d.label=6;case 6:if(e)throw v=new ld(vd.MEDIA_LOAD_ERROR,"Trying to play a stream without the correct authorization."),this.dispatchErrorEvent(v),v;return[2,void 0]}})}).call(this)},Nt(i,[{key:"GBt",get:function(){return this.nMt},set:function(t){this.fNt&&(t?this.rMt():this.hMt())}},{key:"XBt",get:function(){return this.oMt},set:function(t){this.oMt=t,this.oa.lX.TY(this.aMt),this.oMt&&this.oa.lX.bY(this.aMt)}}]),i}(Ub);function CG(t){return t.filter(function(t){var i;return(null!=(i=t.wyt)?i:t.IW)>=IG})}function PG(t){return void 0===t?Yu({},Yz(),{forceSeekOffset:20}):{minimumOffset:t-DA,targetOffset:t,maximumOffset:t+DA,forceSeekOffset:20,minimumPlaybackRate:CA,maximumPlaybackRate:PA}}function DG(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n=t.hespSrc||t.hlsSrc,[4,i.vk({Yu:n,Km:yl.bk,Wk:3e3})];case 1:return(r=s.sent()).dk>=200&&r.dk<300?[2,"online"]:[3,3];case 2:return V(e=s.sent(),Ol)&&403===e.uE.dk?[2,"invalid-security"]:[3,3];case 3:return[2,"offline"]}})})()}function NG(t){try{return Uo(Ui.Dh(t).pathname,"manifest.json")}catch(t){return!1}}qb(function(t){return new RG(t)},zb.bC),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var xG=function(t){function i(i){var n;return(n=t.call(this,i)||this).Ac=void 0,n.yMt=void 0,n.AMt=void 0,n.SMt=void 0,n.Yo=0,n.k9=void 0,n.T9=void 0,n}Ct(i,t);var n=i.prototype;return n.Ta=function(i,n){if(this.Ac=i,Li(null==i?void 0:i.dvr)&&i.dvr.windowLength>=60&&i.sources.length>=2){var r=Fn(i.sources,function(t){return tT(t)||JA(t)}),e=Fn(i.sources,function(t){return $A(t)&&(GA(t.type)||qA(t.type))});Li(r)&&Li(e)&&(this.Yo=1,this.yMt=this.bMt(i,r),this.AMt=this.bMt(i,e),this.SMt=i.dvr.windowLength)}return t.prototype.Ta.call(this,i,n)},n.nu=function(){return this.Ac},n.KP=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return null==(n=this.T9)||n.Zg(),this.T9=void 0,void 0===this.k9?[3,2]:[4,this.k9.catch(dn)];case 1:r.sent(),this.k9=void 0,r.label=2;case 2:return this.Ac=void 0,this.Yo=0,this.yMt=void 0,this.AMt=void 0,this.SMt=void 0,[4,t.prototype.KP.call(i)];case 3:return r.sent(),[2]}})}).call(this)},n.EP=function(){var i,n=t.prototype.EP.call(this);if(!this.oL||this.GX.xJ)return n;if(0===n.length||1===this.Yo){var r=Date.now()/1e3,e=this.SMt;i=new EA([r-e,r])}else i=EA.jn(n).Ly(this.uAt());return i._s()},n.Xx=function(i,n){var r;if(!this.oL)return t.prototype.Xx.call(this,i,n);null==(r=this.T9)||r.Zg(),this.T9=new hr,this.k9=_r(this.E9(i,this.k9,this.T9.Yg),this.T9),this.k9.catch(dn)},n.eI=function(i){return this.oL?i.type===eh.py?(this.So(new bw(this.Gx(),this.Hx())),!0):i.type===eh.Zw?(this.So(new gT(this.Gx())),!0):t.prototype.eI.call(this,i):t.prototype.eI.call(this,i)},n.E9=function(i,n,r){var e=this;return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return void 0===n?[3,2]:[4,n.catch(dn)];case 1:o.sent(),o.label=2;case 2:return dr(r),i!==1/0?[3,6]:1===this.Yo?[3,4]:(this.So(new wT(i)),[4,this.kMt(this.yMt,r)]);case 3:return o.sent(),[3,5];case 4:t.prototype.Xx.call(e,i),o.label=5;case 5:return[2];case 6:return s=!1,2===this.Yo?[3,8]:(this.So(new wT(i)),s=!0,[4,this.TMt(this.AMt,r)]);case 7:o.sent(),o.label=8;case 8:if(!S(this.Nd()))return[3,12];s||this.So(new wT(i)),o.label=9;case 9:return[4,this.ww(eh.Cw,r)];case 10:o.sent(),o.label=11;case 11:if(S(this.Nd()))return[3,9];o.label=12;case 12:u=new Date(1e3*i),t.prototype.Wx.call(e,u),o.label=13;case 13:return[2]}})}).call(this)},n.Gx=function(){var i,n;return this.oL&&this.EP().length?this.oa.bt?(null!=(n=null==(i=this.Vx)?void 0:i.getTime())?n:ae())/1e3:this.EP().end(0):t.prototype.Gx.call(this)},n.mP=function(){var i=t.prototype.mP.call(this);if(!this.oL||!this.bt||!i.length)return i;var n=EA.jn(i);return(n=n.Ly(this.uAt()))._s()},n.Ux=function(){var i=t.prototype.Ux.call(this);if(!this.oL||!this.bt||!i.length)return i;var n=EA.jn(i);return(n=n.Ly(this.uAt()))._s()},n.Hx=function(){var i=t.prototype.Hx.call(this);return i&&he(i)?i:new Date},n.Wx=function(i){return this.oL?i&&he(i)?this.Xx(i.getTime()/1e3):void 0:t.prototype.Wx.call(this,i)},n.uAt=function(){if(!this.oL)return 0;var i=t.prototype.Gx.call(this);return this.EMt-i},n.kMt=function(i,n){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Ta.call(r,i,n)];case 1:return e.sent(),this.Yo=1,this.QP(),[2]}})}).call(this)},n.TMt=function(i,n){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Ta.call(r,i,n)];case 1:return e.sent(),this.Yo=2,this.QP(),[2]}})}).call(this)},n.bMt=function(t,i){var n=i.type===cA.yC?nE(i):iE(i);return n.bypassLicense=!0,Yu({},t,{sources:[n]})},Nt(i,[{key:"oL",get:function(){return 0!==this.Yo}},{key:"EMt",get:function(){var t,i;return(null!=(i=null==(t=this.Vx)?void 0:t.getTime())?i:ae())/1e3}}]),i}(Ub);qb(function(t){return new xG(t)},zb.Tnt),U(),Et(),U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt();var BG=F(hi());U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var OG=function(t){function i(i,n){var r;return(r=t.call(this)||this).yO=Ag(),r.vA=void 0,r.xMt=void 0,r.hu=void 0,r.vA=i,r.xMt=n,r}Ct(i,t);var n=i.prototype;return n.er=function(t,i){this.vA=t,this.xMt=i,this.hu&&this.So(new GU(this.hu))},n.JU=function(){throw new y("Method not implemented.")},n.ZU=function(){throw new y("Method not implemented.")},n.kn=function(){this.Vo()},Nt(i,[{key:"nN",get:function(){return this.xMt}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()}},{key:"o",get:function(){return this.vA.id}},{key:"JI",get:function(){return this.yO}},{key:"IW",get:function(){return this.vA.bitrate}},{key:"wyt",get:function(){}},{key:"Rrt",get:function(){return""}},{key:"Th",get:function(){return""}},{key:"Syt",get:function(){return""}},{key:"xst",get:function(){return!0}},{key:"yyt",get:function(){}}]),i}(th),MG=function(t){function i(i,n){return t.call(this,i,n)||this}return Ct(i,t),i.prototype.xa=function(){return XU(this)},Nt(i,[{key:"Olt",get:function(){return 0}},{key:"Ti",get:function(){return this.vA.width}},{key:"Mi",get:function(){return this.vA.height}},{key:"byt",get:function(){return 0}}]),i}(OG);U(),Et(),xt(),Pt(),Ft();var LG=function(t){function i(i,n){var r;return(r=t.call(this)||this).yO=pg(),r._O=new lg,r.PMt=void 0,r.aS=void 0,r.I5=void 0,r.hu=void 0,r.aS=i,r.I5=n,r}Ct(i,t);var n=i.prototype;return n.SO=function(t){this.Rt=t},n.kn=function(){this.Vo();for(var t,i=Lt(this._O.NI);!(t=i()).done;){t.value.kn()}this._O.hr()},Nt(i,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=tg(this)}},{key:"plt",get:function(){}},{key:"Lt",get:function(){return this.I5}},{key:"o",get:function(){return this.aS||"millitrack"}},{key:"JI",get:function(){return this.yO}},{key:"Th",get:function(){return""}},{key:"bs",get:function(){return""}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.SO("enabled"===t)}},{key:"YI",get:function(){}},{key:"$I",get:function(){return this._O}},{key:"tC",get:function(){return this.PMt},set:function(t){if(this.PMt=t,this.Rt){var i=1===(null==t?void 0:t.length)?t[0].nN:void 0;this.IMt(i)}this.So(new eL(this._O.NI.slice(),this)),((null==t?void 0:t.length)||this._O.V)&&this.So(new MF((null==t?void 0:t[0])||this._O.MI(0)))}},{key:"ZI",get:function(){}}]),i}(th),FG=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n)||this).CMt=void 0,e.CMt=r,e}Ct(i,t);var n=i.prototype;return n.er=function(t){for(var i,n,r=function(){var r=n.value,e=Fn(t.layers,function(t){return t.encodingId===r.id}),s=Fn(i._O.NI,function(t){return t.o===r.id});s?s.er(r,e):i._O.gO(new MG(r,e))},e=Lt(t.active);!(n=e()).done;)i=this,r();this.So(new _g(this))},n.IMt=function(t){var i;null==(i=this.CMt)||i.RMt(t)},n.kn=function(){this.CMt=void 0,t.prototype.kn.call(this)},Nt(i,[{key:"Km",get:function(){return eg.Mk}}]),i}(LG);U(),Et(),xt();var UG=function(){function t(){this.DMt=void 0}var i=t.prototype;return i.er=function(t){this.DMt=t},i.DW=function(t){},Nt(t,[{key:"IW",get:function(){var t,i,n,r,e,s;return(null!=(e=null==(i=this.DMt)||null==(t=i.video.inbounds)?void 0:t.reduce(function(t,i){return t+i.bitrateBitsPerSecond},0))?e:0)+(null!=(s=null==(r=this.DMt)||null==(n=r.audio.inbounds)?void 0:n.reduce(function(t,i){return t+i.bitrateBitsPerSecond},0))?s:0)}},{key:"RW",get:function(){var t,i;return null!=(i=null==(t=this.DMt)?void 0:t.currentRoundTripTime)?i:0}}]),t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var VG=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).NMt=0,r}return Ct(i,t),i.prototype.xa=function(){return qU(this)},Nt(i,[{key:"mwt",get:function(){return this.NMt}}]),i}(OG),HG=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n)||this).CMt=void 0,e.CMt=r,e}Ct(i,t);var n=i.prototype;return n.er=function(t){for(var i,n,r=function(){var r=n.value,e=Fn(t.layers,function(t){return t.encodingId===r.id}),s=Fn(i._O.NI,function(t){return t.o===r.id});s?s.er(r,e):i._O.gO(new VG(r,e))},e=Lt(t.active);!(n=e()).done;)i=this,r();this.So(new _g(this))},n.IMt=function(t){var i;null==(i=this.CMt)||i.BMt(t)},n.kn=function(){this.CMt=void 0,t.prototype.kn.call(this)},Nt(i,[{key:"Km",get:function(){return eg.Bk}}]),i}(LG);U(),Et(),Pt();var WG=function(t){function i(i,n){var r;return(r=t.call(this,i,i,void 0,!1)||this).LU=void 0,r.LU=n,r}return Ct(i,t),i.prototype.xa=function(){return function(t){return Mw(Wg(t),{get mid(){return t.LU.mid},get uuid(){return t.LU.uuid},get timecode(){return t.LU.timecode},get unregistered(){return t.LU.unregistered}})}(this)},i}(Jg);U(),Et(),U(),Et(),xt(),Pt();var zG=F(hi()),XG=function(t){function i(i){var n;return(n=t.call(this)||this).hu=void 0,n.MMt=void 0,n.MMt=i,n}Ct(i,t);var n=i.prototype;return n.ZL=function(t){return zG.Logger.diagnose(t)},n.wn=function(t,i){this.MMt.wn(t,i)},n.mn=function(t,i){this.MMt.mn(t,i)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=LT(this)),this.hu}}]),i}(th),qG=[eh.uo,eh.jw,Ry.PM,eh.Qw,eh.Ww,eh.$w,eh.Zw,eh.Nw,eh.Kw,eh.wy,eh.Cw,eh.Jw,eh.xw,eh.Ew,eh.Lw,eh.Bw],GG=["active","inactive","stopped","vad","layers","migrate","viewercount"],jG=1e3,QG=function(t){function i(i){var n;return(n=t.call(this,"stats")||this).DMt=void 0,n.DMt=i,n}return Ct(i,t),Nt(i,[{key:"stats",get:function(){return this.DMt}}]),i}(rh),YG=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).Bz=void 0,e.Mz=void 0,e.Lz=void 0,e.PL=void 0,e.Lf=void 0,e.zMt=void 0,e.Ac=void 0,e.hT=void 0,e.Ypt=void 0,e.VMt=void 0,e.sO=void 0,e.tO=void 0,e.HMt=void 0,e.nq=void 0,e.rq=void 0,e.FMt=void 0,e.WMt=void 0,e.lq=void 0,e.Cq=void 0,e.xq=void 0,e.OMt=void 0,e.JMt=void 0,e.LMt=void 0,e.C6=void 0,e.Ts=void 0,e.bd=void 0,e.Lmt=void 0,e.Bz=i,e.Mz=n,e.Lz=r,e.hT=new hr,e.Ypt=void 0,e.VMt=void 0,e.sO=new rg,e.tO=new rg,e.WMt=0,e.lq=new UG,e.C6=!1,e.Ts=function(t){e.Qq(fg(t.lt))},e.bd=function(t){e.C6||(e.C6=!0,e.So(new gT(t.currentTime))),e.So(new bw(t.currentTime,e.Vx))},e.Lmt=function(t){vr(t)||e.Qq(new ld(vd.MEDIA_DECODE_ERROR,t.message,t))},e.PL=e.Bz.Yq(eg.Mk),e.Cq=new Vy(e,e.PL),e.xq=new Uy(e.Cq,!0),e.PL.wn(qG,e.Rs),e.PL.wn(qm.ma,e.Ts),e.PL.wn(eh.py,e.bd),e.xq.wn(Cy,e.Rs),e.OMt=new XG(e),e}Ct(i,t);var n=i.prototype;return n.RMt=function(t){var i;null==(i=this.Lf)||i.select(t).catch(this.Lmt)},n.BMt=function(t){var i;null==(i=this.Lf)||i.select(t).catch(this.Lmt)},n.zP=function(){return this.PL.zP()},n.Xx=function(t,i){},n.be=function(){this.PL.be()},n.we=function(){this.PL.we()},n.QP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.LMt=void 0,this.Un(),[4,this.PL.QP()];case 1:return t.sent(),[2]}})}).call(this)},n.jP=function(){this.LMt=new Date,this.PL.jP()},n.hr=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:return this.UMt(),this.Ac=void 0,this.C6=!1,this.hT.Zg(),null==(t=this.Lf)||t.stop(),this.Lf=void 0,this.Ypt?[4,this.Ypt.catch(dn)]:[3,2];case 1:r.sent(),this.Ypt=void 0,r.label=2;case 2:return this.VMt=void 0,[4,this.PL.hr()];case 3:for(r.sent(),this.HMt=void 0,this.WMt=0,this.PL.Eq(),i=Lt(this.sO.NI);!(n=i()).done;)n.value.kn();return this.tO.hr(),this.sO.hr(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.UMt(),this.Vo(),[4,this.hr()];case 1:return t.sent(),this.tO.kn(),this.sO.kn(),this.xq.kn(),this.Cq.zg(),this.PL.mn(qG,this.Rs),this.PL.mn(qm.ma,this.Ts),this.PL.mn(eh.py,this.bd),[4,this.Bz.Dq(this.PL)];case 2:return t.sent(),[2]}})}).call(this)},n.Ta=function(t,i,n){return Vt(function(){var i,r,e,s;return zt(this,function(u){return dr(n),this.OEt(),this.UMt(),r=t,this.Ac=r,this.hT=new hr,r.apiUrl&&BG.Director.setEndpoint(r.apiUrl),e=function(){return BG.Director.getSubscriber({streamName:r.src,streamAccountId:r.streamAccountId,subscriberToken:r.subscriberToken})},s=this.qMt(this.Mz.WY.type),this.Lf=new BG.View(void 0,e,void 0,!0),this.zMt=Yu({},r.connectOptions,{events:GG,abrConfiguration:{strategy:s,metadata:{bitrate:null==(i=this.Mz.WY.metadata)?void 0:i.bitrate}}}),this.GMt(),[2]})}).call(this)},n.qMt=function(t){switch(t){case $I.PERFORMANCE:return"performance";case $I.BANDWIDTH:return"bandwidth";case $I.QUALITY:return"quality";default:return}},n.IP=function(t,i,n,r){return ut.resolve()},n.CP=function(){return ut.resolve()},n.Un=function(){if(void 0===this.Ypt){var t=this.Lf;void 0!==t&&(this.Ypt=this.vE(t,this.zMt,this.hT.Yg).catch(this.Lmt))}},n.vE=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:dr(n),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,gr(t.connect(i),n)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:b.min(null!=(e=null==(r=this.Ac)?void 0:r.statsIntervalMs)?e:jG,jG)}),[3,6];case 3:return lr(s=u.sent()),function(t){return Wi(t)&&"FetchError"===t.name}(s)&&400===s.status?(Ui.um("[THEOplayer] Millicast connect error, reconnecting.",s),[4,gr(t.reconnect(),n)]):[3,5];case 4:u.sent(),u.label=5;case 5:return this.Qq(new ld(vd.NETWORK_ERROR,s.message,s)),[3,6];case 6:return[2]}})}).call(this)},n.XMt=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:dr(i),n.label=1;case 1:return n.trys.push([1,,4,5]),this.PL.G7(),this.VMt=t,[4,this.PL.hr()];case 2:return n.sent(),[4,this.PL.Un({Km:Iy.AV,rC:"",YZ:t,GT:cA.yC,fq:[]})];case 3:return n.sent(),[3,5];case 4:return this.PL.X7(),[7];case 5:return[2]}})}).call(this)},n.GMt=function(){var t,i=this,n=this.Lf;n.on("track",function(t){return i.jMt(t)}),n.on("broadcastEvent",function(t){return i.QMt(t)}),n.webRTCPeer.on("stats",function(t){i.FMt=t,i.lq.er(t),i.KMt()}),(null==(t=this.zMt)?void 0:t.metadata)&&n.on("metadata",function(t){return i.YMt(t)})},n.KMt=function(){var t,i,n=this;void 0===this.JMt&&(this.So(new QG(this.FMt)),this.JMt=Ui.fm(function(){n.So(new QG(n.FMt))},null!=(i=null==(t=this.Ac)?void 0:t.statsIntervalMs)?i:jG))},n.UMt=function(){void 0!==this.JMt&&(Ui.vm(this.JMt),this.JMt=void 0)},n.jMt=function(t){var i=this.tO.V>0,n=this.sO.V>0,r=i&&!n,e=t.streams[0];if(r)for(var s,u=Lt(e.getVideoTracks().slice());!(s=u()).done;){var o=s.value;e.removeTrack(o)}e!==this.VMt&&this.XMt(e,this.hT.Yg).catch(this.Lmt)},n.QMt=function(t){switch(t.name){case"active":var i,n=function(){var t=r.value;if(t.media!==eg.Mk||s.disableVideo||i.sO.NI.some(function(i){return i.o===t.trackId})){if(t.media===eg.Bk&&!s.disableAudio&&!i.tO.NI.some(function(i){return i.o===t.trackId})){var n=i.tO.V>0?yq.uDt:yq.cDt;i.tO.tt(new HG(t.trackId,n,i))}}else{var e=i.sO.V>0?pq.uDt:pq.cDt;i.sO.tt(new FG(t.trackId,e,i))}};this.So(new LH);for(var r,e=t.data,s=this.zMt,u=Lt(e.tracks);!(r=u()).done;)i=this,n();break;case"inactive":this.So(new FH),this.sO.hr(),this.tO.hr();break;case"stopped":this.So(new FH);break;case"viewercount":default:break;case"layers":var o=t.data;if(0===this.sO.V){var h=new FG("",pq.cDt,this);h.er(o.medias[0]),this.sO.tt(h)}else{var a=Fn(this.sO.NI,function(t){return t.Lt===pq.cDt});null==a||a.er(o.medias[0])}}},n.YMt=function(t){var i=this.HMt;void 0===i&&((i=this.PL.sI(Jm.zU,void 0,void 0,void 0,void 0,Ng.MILLICAST)).Qk=zm.iC,this.HMt=i);var n=this.zx,r=b.max(0,n-10);this.WMt<r&&(fy(i,r),this.WMt=r);var e=new WG(n+.001,t);i.nV(e)},n.Qq=function(t){this.nq||(kr(this.hr()),this.nq=cg(t),this.rq=t,this.So(new yb(t)))},n.OEt=function(){this.nq=void 0,this.rq=void 0},n.YP=function(){return!1},n.JP=function(){},n.ZP=function(){},n.$P=function(){this.PL.$P()},n.tI=function(){var t=this.VMt;void 0!==t&&this.XMt(t,this.hT.Yg).catch(this.Lmt)},n.qP=function(){return this.PL.Ma},n.Aa=function(){return this.PL.Sq},n.sI=function(t){return this.PL.Tq(t)},Nt(i,[{key:"WP",get:function(){return!1}},{key:"ht",get:function(){return this.tO}},{key:"Fx",get:function(){return this.PL.Fx._s()}},{key:"Vx",get:function(){var t,i;return null!=(i=null!=(t=this.PL.Vx)?t:this.LMt)?i:new Date},set:function(t){}},{key:"bt",get:function(){return this.Ac}},{key:"zx",get:function(){return this.PL.zx},set:function(t){this.Xx(t)}},{key:"ct",get:function(){return this.PL.ct}},{key:"Qx",get:function(){return this.PL.Qx}},{key:"lt",get:function(){return this.nq}},{key:"Jx",get:function(){return this.rq}},{key:"$x",get:function(){}},{key:"iP",get:function(){return this.OMt}},{key:"sP",get:function(){return this.PL.sP}},{key:"rP",get:function(){var t,i,n,r,e,s,u=this.FMt,o=null==u||null==(t=u.video.inbounds)?void 0:t[0],h=null==u||null==(i=u.audio.inbounds)?void 0:i[0];return{aO:this.Mz.CY.IW,rO:null!=(n=null==o?void 0:o.framesDropped)?n:0,hO:0,oO:null!=(r=null==o?void 0:o.framesReceived)?r:0,uO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(s=null==h?void 0:h.totalBytesReceived)?s:0),cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"cP",get:function(){var t,i;return null!=(i=null==(t=this.Lf)?void 0:t.isActive())&&i}},{key:"lP",get:function(){return this.PL.lP}},{key:"vP",get:function(){return 1},set:function(t){}},{key:"pP",get:function(){return this.PL.pP._s()}},{key:"wP",get:function(){return YT.pz},set:function(t){}},{key:"AP",get:function(){return this.PL.AP}},{key:"kP",get:function(){return this.PL.kP._s()}},{key:"xP",get:function(){return this.PL.xP}},{key:"uq",get:function(){return this.PL.uq}},{key:"nt",get:function(){return this.PL.nt}},{key:"DP",get:function(){return this.PL.DP}},{key:"rt",get:function(){return this.sO}},{key:"MP",get:function(){return this.PL.MP}},{key:"OP",get:function(){return this.PL.OP},set:function(t){this.PL.OP=t}},{key:"VP",get:function(){return this.Lz}},{key:"dq",get:function(){return this.lq}},{key:"OL",get:function(){return this.Lz.OL}}]),i}(th),KG=function(){function t(){}var i=t.prototype;return i.DC=function(t,i,n,r,e,s,u,o){return new YG(i,e,s)},i.Jq=function(t,i){return t.type===cA.yC},i.Zq=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,Np(t)];case 1:return(i=n.sent())&&(i=Boolean(t.widevine||t.fairplay)),[2,i&&!1]}})})()},i.$q=function(){return!1},Nt(t,[{key:"tz",get:function(){return Ab.yC}}]),t}();GT(new KG),U(),Et(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),H(),ct(),Ft(),Qt(),U(),Et();var JG=function(t){return t.ZMt="currentbufferingrenditionchange",t.$Mt="tLt",t.iLt="eLt",t}({});U(),Et(),xt(),Pt(),Ft(),U(),Et(),Ft();var ZG=function(t,i){var n,r;this.JI=void 0,this.sLt=void 0,this.Km=void 0,this.nLt=void 0,this.rLt=void 0,this.hLt=void 0,this.l=void 0,this.bs=void 0,this.oLt=void 0,this.aLt=void 0,this.uLt=void 0,this.cLt=void 0,this.Rrt=void 0,this.JI=Ag(),this.sLt=i,this.Km=t.Km,this.nLt=t.nLt,this.rLt=t.rLt,this.hLt=t.hLt,this.l=t.l,this.bs=t.bs,this.oLt=t.oLt,this.aLt=t.aLt,this.uLt=void 0===t.Syt,this.cLt=null!=(r=null==(n=t.cLt)?void 0:n.split(","))?r:[]};function $G(t,i){return t.Km===i.Km&&(t.l===i.l||!(!t.nLt||!i.nLt))}function tj(t,i){return void 0!==t&&void 0!==i&&ij(t,i)}function ij(t,i){return t.sLt===i.sLt}function nj(t,i){return ij(t,i)&&t.oLt===i.oLt}function rj(t,i){for(var n,r=Lt(t);!(n=r()).done;){if(nj(n.value,i))return!0}return!1}var ej=function(t){function i(i,n,r,e,s){var u,o;(u=t.call(this)||this).Vp=void 0,u._Lt=void 0,u.Mz=void 0,u.wh=void 0,u.$I=void 0,u.bO=void 0,u.$b=void 0,u.dLt=void 0,u.Ict=void 0,u.xLt=void 0,u.PLt=void 0,u.hu=void 0,u.yO=void 0,u.ILt=void 0,u.kLt=void 0,u.ELt=void 0,u.Vp=i,u._Lt=n,u.Mz=r,u.wh=e,u.$I=s,u.Ict=void 0,u.xLt=void 0,u.ILt=function(){return u.So(new _g(u))},u.kLt=function(){var t=u.YI;t&&u.xLt!==t&&(u.xLt=t,u.So(new MF(t)))},u.ELt=function(){var t=u.Rt;u.PLt!==t&&(u.PLt=t,u.wh.So(new wg(u)),u.So(new wg(u)))},u.xLt=u.YI,u.PLt=u.Rt;var h,a,c=s.MI(0);u.bO=null!=(h=null==c?void 0:c.fLt.l)?h:"",u.$b=null!=(a=null==c?void 0:c.fLt.bs)?a:"",u.dLt=null==c||null==(o=c.fLt)?void 0:o.cLt.map(cj).filter(Li),u.yO=pg(),u._Lt.wn(JG.ZMt,u.kLt),u._Lt.wn(JG.$Mt,u.ELt);for(var f=0;f<u.$I.V;f++){u.$I.MI(f).wn("update",u.ILt)}return u}Ct(i,t);var n=i.prototype;return n.SO=function(t){this.Rt=t},n.TLt=function(t){return Fn(this.$I.NI,function(i){return i.fLt===t})},n.kn=function(){this.Vo(),this._Lt.mn(JG.ZMt,this.kLt),this._Lt.mn(JG.$Mt,this.ELt);for(var t,i=Lt(this.$I.NI);!(t=i()).done;){t.value.kn()}this.$I.hr()},Nt(i,[{key:"ZI",get:function(){return this.dLt}},{key:"Rt",get:function(){var t=this.lLt();if(!t)return!1;for(var i,n=Lt(this.$I.NI);!(i=n()).done;){if(i.value.fLt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var i,n,r=null==(i=this.$I.MI(0))?void 0:i.fLt,e=this._Lt.vLt,s=Lt(this.$I.NI);!(n=s()).done;){var u=n.value;if(u.gLt===e){r=u.fLt;break}}this.pLt(r)}else this.pLt(void 0)}},{key:"YI",get:function(){if(this.Rt)for(var t,i=this._Lt.mLt,n=Lt(this.$I.NI);!(t=n()).done;){var r=t.value;if(rj(i,r.fLt))return r}}},{key:"Ca",get:function(){return this.hu||(this.hu=tg(this)),this.hu}},{key:"o",get:function(){return this.yO.toString()}},{key:"JI",get:function(){return this.yO}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"bs",get:function(){return this.$b}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"}},{key:"tC",get:function(){return this.Ict},set:function(t){var i=this,n=[];t?n=t.filter(function(t){var n=i.YI?aL(i.YI):void 0;return Ui.Zs.Pp(n,aL(t))}).filter(function(n){return i.$I.pO(t)&&n.xst}):n=this.$I.NI.filter(function(t){return t.xst});if(0!==n.length){if(!(t===this.Ict||this.Ict&&Kn(this.Ict,n))){if(this.Ict=t?n:void 0,this._Lt.wLt(n.map(function(t){return t.gLt})),1===n.length){var r=n[0].gLt,e=this.Vp===eg.Mk,s=this.Mz.eJ;kr(this._Lt.yLt(r,{bLt:!0,ALt:s&&e,SLt:s&&!e}))}this.So(new eL(n,this))}}else this.So(new hL)}}]),i}(th),sj=function(t){function i(i,n,r,e){return t.call(this,eg.Bk,i,n,r,e)||this}Ct(i,t);var n=i.prototype;return n.lLt=function(){return this._Lt.CLt},n.pLt=function(t){kr(this._Lt.RLt(t))},Nt(i,[{key:"Lt",get:function(){return yq.cDt}}]),i}(ej),uj=function(t){function i(i,n,r,e){return t.call(this,eg.Mk,i,n,r,e)||this}Ct(i,t);var n=i.prototype;return n.lLt=function(){return this._Lt.DLt},n.pLt=function(t){kr(this._Lt.NLt(t))},Nt(i,[{key:"Lt",get:function(){return pq.cDt}}]),i}(ej),oj=function(t){function i(i,n){var r;return(r=t.call(this)||this).gLt=void 0,r.fLt=void 0,r.bO=void 0,r.xst=void 0,r.gLt=i,r.fLt=n,r.bO="",r.xst=!0,r}Ct(i,t);var n=i.prototype;return n.ZU=function(){},n.JU=function(){},n.kn=function(){this.Vo()},Nt(i,[{key:"o",get:function(){return String(this.gLt.o)}},{key:"JI",get:function(){return this.gLt.o}},{key:"IW",get:function(){return this.gLt.IW}},{key:"wyt",get:function(){return this.gLt.wyt}},{key:"Th",get:function(){var t;return null!=(t=this.bO)?t:this.fLt.l},set:function(t){this.Th!==t&&(this.bO=t,this.So(new GU(this.Ca)))}},{key:"Syt",get:function(){return this.fLt.sLt.BLt()}},{key:"yyt",get:function(){return this.gLt.yyt}}]),i}(th),hj=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).hu=void 0,r}return Ct(i,t),i.prototype.xa=function(){return qU(this)},Nt(i,[{key:"mwt",get:function(){return 0}},{key:"Rrt",get:function(){var t;return(null==(t=this.gLt.Rrt)?void 0:t.q9)||""}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(oj),aj=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).hu=void 0,r.MLt=0,r.CRt=void 0,r}return Ct(i,t),i.prototype.xa=function(){return XU(this)},Nt(i,[{key:"Rrt",get:function(){var t;return(null==(t=this.gLt.Rrt)?void 0:t.W9)||""}},{key:"byt",get:function(){return this.MLt},set:function(t){this.MLt!==t&&(this.MLt=t,this.So(new GU(this.Ca)))}},{key:"Olt",get:function(){var t,i;return null!=(i=null!=(t=this.CRt)?t:this.gLt.Olt)?i:0},set:function(t){this.Olt!==t&&(this.CRt=t,this.So(new GU(this.Ca)))}},{key:"Mi",get:function(){var t,i;return null!=(i=null==(t=this.gLt.RRt)?void 0:t.Mi)?i:0}},{key:"Ti",get:function(){var t,i;return null!=(i=null==(t=this.gLt.RRt)?void 0:t.Ti)?i:0}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(oj);function cj(t){return"public.accessibility.describes-video"===t?Jw.KI:"public.accessibility.transcribes-spoken-dialog"===t?Jw.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?Jw.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?Jw.QI:void 0}U(),Et();var fj=function(){function t(){this.Rt=function(){return!1}}var i=t.prototype;return i.LLt=function(t){if(!this.Rt())return!1;var i=[];return!(i.length>0)||i.some(function(i){return i.toLowerCase()===t.toLowerCase()})},i.OLt=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var e;this.LLt(t)&&(e=Ui).hm.apply(e,[].concat(["DEBUG "+t+" -"],n))},i.cN=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var e;this.LLt(t)&&(e=Ui).hm.apply(e,[].concat(["INFO "+t+" -"],n))},i.FLt=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var e;this.LLt(t)&&(e=Ui).um.apply(e,[].concat(["WARNING "+t+" -"],n))},i.lt=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var e;this.LLt(t)&&(e=Ui).dm.apply(e,[].concat(["ERROR "+t+" -"],n))},i.ULt=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var e;this.LLt(t)&&(e=Ui).dm.apply(e,[].concat(["FATAL "+t+" -"],n))},t}(),vj=new fj,dj="HLSPlaylistParser",lj="Discontinuity",wj="Buffering";U(),Et(),xt();var gj=function(){function t(t){this.eut=void 0,this.sCt=void 0;var i=t.IW>0?t.IW:Uz.$at,n=t.RW>0?t.RW:Pz.$at;this.eut=new Uz(Uz.RIt,Uz.DIt,1,i),this.sCt=new Pz(Pz.RIt,Pz.DIt,n)}var i=t.prototype;return i.DW=function(t){if("segment"===t.Km||"preload-hint"===t.Km){var i=[new Nz(this.sCt)];return"stream"!==t.fk||!function(t){return"segment"===t.Km&&"initialization-segment"!==t.zk}(t)&&"preload-hint"!==t.Km?i.push(new xz(this.eut)):i.push(new Bz(this.eut,1e3)),new Dz(i)}},i.JIt=function(t){this.eut=new Uz(Uz.RIt,Uz.DIt,1,t)},Nt(t,[{key:"IW",get:function(){return this.eut.Fet}},{key:"RW",get:function(){return this.sCt.Fet}}]),t}();U(),Et();var _j=function(){function t(t){this.Tst=void 0,this.Tst=t}return t.prototype.$Z=function(t,i){var n={Km:Iy.SV,fq:[],q4:t.map(function(t){return{GT:t}}),t5:i};return ut.resolve(void 0!==this.Tst.$Z([n]))},t}();U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et(),Ft();var mj=function(t,i,n,r,e){return t.filter(function(t){return!!jn(r,t)||1.1*t.IW<=n.IW})},yj=function(t,i,n,r,e){return t.filter(function(t){if(jn(r,t))return!0;for(var s,u=1/0,o=Lt(t.VLt);!(s=o()).done;){var h,a,c=s.value;u=b.min(u,null!=(a=null!=(h=c.sLt.HLt)?h:c.sLt.WLt)?a:1/0)}u===1/0&&(u=1);var f=2*n.RW+t.IW*u/n.IW;return t.IW<=i.IW||e.qLt>f})},pj=function(t,i,n,r,e){return mn(t,function(t,i){return i.IW-t.IW})},kj=function(t,i,n,r,e){return t.every(function(t){return t.yyt&&!S(t.yyt)})?mn(t,function(t,i){return i.yyt-t.yyt}):t},bj=function(t,i,n,r,e){return 0===r.length?t:mn(t,function(t,i){var n=jn(r,t)?1:0;return(jn(r,i)?1:0)-n})},Aj=function(t,i,n,r,e,s){return t.filter(function(t){return!t.Rrt||!i.Rrt||!(void 0!==i.Rrt.W9&&void 0!==t.Rrt.W9&&!$C(i.Rrt.W9,t.Rrt.W9)&&!s.zLt({GT:'video/mp4; codecs="'+t.Rrt.W9+'"'}))&&!(void 0!==i.Rrt.q9&&void 0!==t.Rrt.q9&&!$C(i.Rrt.q9,t.Rrt.q9)&&!s.GLt({GT:'audio/mp4; codecs="'+t.Rrt.q9+'"'}))})},Tj=function(t,i,n,r,e){if(!1===e.udt)return t;if(Ui.Zs.dp)return t;for(var s,u,o=Ui.Zs.lp,h=(null!=(s=null==o?void 0:o.width)?s:e.Ti)*qM,a=(null!=(u=null==o?void 0:o.height)?u:e.Mi)*qM,c=0;c<t.length;c++){var f=t[c];if(void 0===f.RRt)return t;var v=f.RRt.Mi,d=f.RRt.Ti;if(v<=a&&d<=h)return t.slice(c,t.length)}return[]},Sj=function(t,i,n,r,e){return function(t,i){var n=i.udt;if(void 0===n&&!Ui.Zs.Ks)return t;if(!1===n)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.RRt)return t;var s=e.RRt.Mi,u=e.RRt.Ti;if(s===i.Mi&&u===i.Ti)return t.slice(r,t.length);if(s<i.Mi||u<i.Ti)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var Ej="AbrEvaluator",Ij=function(){function t(t){this.Mz=void 0,this.ddt=void 0,this.Mz=t,this.ddt=[Aj,mj,yj,pj,Tj,Sj,kj,bj]}var i=t.prototype;return i.jLt=function(t){this.ddt=t},i.QLt=function(t,i,n,r,e){return Vt(function(){return zt(this,function(s){switch(s.label){case 0:return[4,this.KLt(t,i,n,r,e)];case 1:return[2,s.sent()[0]]}})}).call(this)},i.KLt=function(t,i,n,r,e){return Vt(function(){var s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:if(0===t.length)throw new y("AbrEvaluator - Unable to select optimal variant stream from an empty list.");vj.OLt(Ej,"Performing optimal variant stream selection."),s=this.XLt,u=t,o=Lt(this.ddt),f.label=1;case 1:return(h=o()).done?[3,5]:(a=h.value,c=a(u,i,s,n,r,e),Vi(c)?(u=c,[3,4]):[3,2]);case 2:return[4,c];case 3:u=f.sent(),f.label=4;case 4:return[3,1];case 5:return 0===u.length?(vj.FLt(Ej,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[Zn(t,function(t){return t.IW})]]):[2,u]}})}).call(this)},Nt(t,[{key:"XLt",get:function(){return this.Mz.CY}}]),t}();function Rj(t,i){return[t,void 0!==i?t+i-1:bn]}function Cj(t){return Boolean(t.$D)}function Pj(t){return Boolean(t.bct)}U(),Et(),Pt(),U(),Et(),Wt(),xt(),Pt(),H(),Ft(),Qt(),U(),Et(),U(),Et(),U(),Et();var Dj=function(t){return t[t.Bk=0]="Bk",t[t.Mk=1]="Mk",t[t.HU=2]="HU",t[t.YLt=3]="YLt",t}({}),Nj=function(t){return t[t.JLt=0]="JLt",t[t.ZLt=1]="ZLt",t}({}),xj=function(t){return t[t.pz=0]="pz",t[t.$Lt=1]="$Lt",t[t.tOt=2]="tOt",t}({}),Bj=function(t){return t[t.yk=0]="yk",t[t.iOt=1]="iOt",t[t.eOt=2]="eOt",t}({});function Oj(t){return t?t.iAt?t.XE+"@"+t.iAt.Tn+"-"+(null!=(i=t.iAt.V)?i:""):""+t.XE:"";var i}function Mj(t,i){if(i===t)return!0;if(i.XE!==t.XE)return!1;if(!t.iAt)return!0;if(i.iAt){var n=Rj(t.iAt.Tn,t.iAt.V),r=Rj(i.iAt.Tn,i.iAt.V);if(n[0]<=r[0])return void 0===n[1]||void 0!==r[1]&&n[1]>=r[1]}return!1}function Lj(t,i){return t===i||t.XE===i.XE&&(t.iAt&&i.iAt?t.iAt.Tn===i.iAt.Tn&&t.iAt.V===i.iAt.V:t.iAt===i.iAt)}function Fj(t){var i=!!t.sOt||void 0;return{o:t.o,nOt:t.nOt,uq:t.uq,rOt:t.rOt,ct:t.ct,hOt:t.hOt,sOt:i,oOt:t.aOt,uOt:t.cOt,dOt:t.dOt,lOt:t.lOt}}function Uj(t,i){var n,r,e;return{q9:null!=(n=i.q9)?n:null==t?void 0:t.q9,W9:null!=(r=i.W9)?r:null==t?void 0:t.W9,fOt:null!=(e=i.fOt)?e:null==t?void 0:t.fOt}}function Vj(t,i,n,r,e){return Vt(function(){var s,u,o,h,a,c,f,v,d,l,w,g;return zt(this,function(_){switch(_.label){case 0:return s=i.filter(function(t){return Lo(t,"audio")}),u=i.filter(function(t){return Lo(t,"video")}),o=[],h=n.map(function(t){return function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return t.Syt&&t.vOt?t.Hk!==xj.tOt?[2]:(r=Hj(t.vOt))?r.$m!==Ao?[3,1]:[2,{xS:r,OW:[],FW:void 0,GH:t.Syt,UW:[]}]:[2]:[2];case 1:return r.$m!==mo||t.vOt!==So?[3,2]:[2,{xS:r,OW:[],FW:t.Syt,GH:void 0,UW:[]}];case 2:return vj.cN("HLSDrmUtils","Fetching key uri "+t.Syt+"."),[4,i.vk({Yu:t.Syt,Xk:n})];case 3:return[4,s.sent().qT()];case 4:return e=s.sent(),r.$m===fo&&(e=function(t){var i=new DataView(t);return i.byteLength>=8&&i.getUint32(4)===hU?t:aU(t)}(e)),[2,{xS:r,OW:[e],FW:void 0,GH:void 0,UW:[]}];case 5:return[2]}})})()}(t,r,e)}),[4,ut.all(h)];case 1:for(a=_.sent().filter(Li),f=function(t,i){if(0===i.length)return t;var n=function(t){var n=i.indexOf(t.xS.$m);return n>=0?n:i.length};return mn(t,function(t,i){return n(t)-n(i)})}(a,null!=(c=null==t?void 0:t.preferredKeySystems)?c:[]),v=Lt(f);!(d=v()).done;)l=d.value,w=$H(null!=t?t:{},l.xS),g="cbcs",o.push({xS:l.xS,OW:l.OW,FW:l.FW,GH:l.GH,Vq:[{initDataTypes:[l.xS.Jm],audioCapabilities:tW(s,g,null==w?void 0:w.audioRobustness),videoCapabilities:tW(u,g,null==w?void 0:w.videoRobustness),persistentState:null==w?void 0:w.persistentState,distinctiveIdentifier:null==w?void 0:w.distinctiveIdentifier}],UW:l.UW});return[2,o]}})})()}function Hj(t){return t===wo?Ro:t===vo?Io:"com.apple.streamingkeydelivery"===t?Po:t===So?Do:void 0}function Wj(t){if("#"!==t[0])throw new y("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function zj(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Xj(t){var i=t.indexOf(":");if(-1===i||t.length<i+1)throw new y("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(i+1)}function qj(t){var i=Kj(Xj(t));if(void 0===i)throw new y("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return i}function Gj(t){for(var i={},n=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=n.exec(t);null!==r;){var e=r[1],s=void 0;s=void 0!==r[3]?r[3]:r[2],null!==e?i[e]=s:vj.FLt(dj,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=n.exec(t)}return i}function jj(t,i){var n,r,e=Gj(t);try{n=e.URI?Ui.Pm(e.URI,i):void 0,r=function(t){switch(t){case"AUDIO":return Dj.Bk;case"VIDEO":return Dj.Mk;case"SUBTITLES":return Dj.HU;case"CLOSED-CAPTIONS":return Dj.YLt}throw new y("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(i){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var s=e["GROUP-ID"],u=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],h=e.NAME,a="YES"===e.DEFAULT,c="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,l=e.CHANNELS;if(s||vj.FLt(dj,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),u||vj.FLt(dj,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||vj.FLt(dj,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===Dj.YLt?(n&&vj.FLt(dj,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||vj.FLt(dj,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):vj.FLt(dj,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&vj.FLt(dj,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),a&&!c&&(c=!0,e.AUTOSELECT&&vj.FLt(dj,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==Dj.HU&&vj.FLt(dj,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===s||void 0===h)throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{_Ot:o,X9:l,cLt:d,oLt:s,rLt:c,nLt:a,hLt:f,aLt:v,bs:u,l:h,Km:r,Syt:n}}function Qj(t,i,n){var r,e,s,u=Gj(t);try{r=Ui.Pm(n,i),s=function(t){if(void 0===t)return;var i=t.split("x"),n=Number(i[0]),r=Number(i[1]);if(S(n)||S(r))throw new y("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Ti:n,Mi:r}}(u.RESOLUTION),e=function(t){if(!t)return;for(var i,n,r,e,s=Lt(t.split(","));!(e=s()).done;){var u=e.value.trim();Fo(u,"mp4a")?i="mp4a.40.05"===u?"mp4a.40.5":"mp4a.40.02"===u?"mp4a.40.2":u:"ac-3"===u||"ec-3"===u||"flac"===u.toLowerCase()?i=u:Fo(u,"avc")||Fo(u,"hvc1")||Fo(u,"hev1")||Fo(u,"dvh")||Fo(u,"vp09")||Fo(u,"av01")?n=u:r=r?r+","+u:u}return{q9:i,W9:n,fOt:r}}(u.CODECS)}catch(i){throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=Kj(u.BANDWIDTH),h=Kj(u["AVERAGE-BANDWIDTH"]),a=Kj(u.SCORE),c=Kj(u["FRAME-RATE"]),f=u["HDCP-LEVEL"],v=[];if(void 0!==u["ALLOWED-CPC"]){var d,l=u["ALLOWED-CPC"].split(",");(d=v).push.apply(d,[].concat(l.map(function(t){var i=t.split(":");return{keysystem:i[0],label:i[1]}})))}var w=u["VIDEO-RANGE"],g=u.AUDIO,_=u.VIDEO,m=u.SUBTITLES,p=u["CLOSED-CAPTIONS"];if(void 0===o?vj.FLt(dj,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>o&&vj.FLt(dj,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||vj.cN(dj,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.W9&&void 0===s&&vj.cN(dj,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||jn(["TYPE-0","TYPE-1","NONE"],f)||vj.FLt(dj,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===w||jn(["SDR","PQ","HLG"],w)||vj.FLt(dj,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{gOt:v,pOt:g,wyt:h,IW:o,mOt:p,Rrt:e,Olt:c,wOt:f,RRt:s,yyt:a,yOt:m,Syt:r,bOt:_,AOt:w}}function Yj(t,i){var n=Gj(t);if(!n.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return Qj(t,i,n.URI)}catch(i){throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Kj(t){var i=Number(t);return S(i)?void 0:i}function Jj(t,i){var n,r,e=Gj(t);try{n=function(t){switch(t){case"NONE":return xj.pz;case"AES-128":return xj.$Lt;case"SAMPLE-AES":return xj.tOt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new y("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?sQ(e.URI,i):void 0}catch(i){throw new y("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,h,a,c=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(n!==xj.pz){if(o=c||So,"SAMPLE-AES-CENC"===n||"SAMPLE-AES-CTR"===n){if(Hj(o)!==Ro)throw new y("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+n+" is only compatible with Widevine.");s=xj.tOt}else s=n;u=r,h=f?Sa(f):void 0,a=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=xj.pz,(r||c||v||f)&&vj.FLt(dj,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Hk:s,Syt:u,SOt:h,vOt:o,TOt:a}}function Zj(t){var i=Xj(t);if(!i)return[void 0,""];var n=i.split(","),r=n[0],e=n[1];return[Kj(r),e]}function $j(t,i){var n=t.split("@"),r=Kj(n[0]),e=n.length>1?Kj(n[1]):i;if(void 0===r||void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Tn:e,V:r}}function tQ(t){if(void 0!==t)return $j(t,void 0)}function iQ(t,i){return $j(Xj(t),i)}function nQ(t,i){var n=Gj(t);try{return{XE:sQ(n.URI,i),iAt:tQ(n.BYTERANGE)}}catch(i){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function rQ(t){var i=Xj(t);if(!i)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var n=new Date(i.trim());if(!he(n))throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return n}function eQ(t){var i,n,r,e=Gj(t),s=e["START-DATE"],u=e["END-DATE"],o=Kj(e["PLANNED-DURATION"]),h=Kj(e.DURATION);void 0!==e["SCTE35-CMD"]&&(i=Sa(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(n=Sa(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Sa(e["SCTE35-OUT"]).buffer);var a,c,f="YES"===e["END-ON-NEXT"],v=function(t){for(var i,n={},r=Lt(k.keys(t));!(i=r()).done;){var e=i.value,s=t[e];void 0!==s&&Fo(e,"X-")&&(n[e]=s)}return n}(e),d=e.ID,l=e.CLASS;if(void 0===s)vj.FLt(dj,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(a=new Date(s),c=void 0!==u?new Date(u):void 0,he(a)||vj.FLt(dj,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+a+"."),void 0!==h){var w=new Date(a.getTime()+1e3*h);c?c.getTime()!==w.getTime()&&(vj.FLt(dj,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=w):c=w}else c&&(h=(a.getTime()-c.getTime())/1e3);if(f&&(e.CLASS||vj.FLt(dj,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&vj.FLt(dj,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&vj.FLt(dj,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&vj.FLt(dj,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===a)throw new y("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,nOt:l,uq:a,rOt:c,ct:h,hOt:o,cOt:i,lOt:n,dOt:r,sOt:f,aOt:v}}function sQ(t,i){if(void 0===t)throw new y("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Ui.Pm(t,i)}function uQ(t,i){var n=Gj(t),r=Kj(n.DURATION),e=sQ(n.URI,i),s=tQ(n.BYTERANGE),u="YES"===n.INDEPENDENT,o="YES"===n.GAP;if(void 0===r)throw new y("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Syt:{XE:e,iAt:s},kOt:u,EOt:o}}function oQ(t){var i=Gj(t);return{xOt:"YES"===i["CAN-BLOCK-RELOAD"],POt:Kj(i["CAN-SKIP-UNTIL"]),IOt:"YES"===i["CAN-SKIP-DATERANGES"],COt:Kj(i["HOLD-BACK"]),ROt:Kj(i["PART-HOLD-BACK"])}}function hQ(t,i){var n=Gj(t);if(void 0===n.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=sQ(n.URI,i),e=Kj(n["LAST-MSN"]),s=Kj(n["LAST-PART"]);if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Syt:r,DOt:e,NOt:s}}function aQ(t,i){var n,r=Gj(t),e=Kj(r["SKIPPED-SEGMENTS"]),s=null==(n=r["RECENTLY-REMOVED-DATERANGES"])?void 0:n.split("\t");if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{BOt:e,MOt:s,LOt:i}}function cQ(t){var i=Kj(Gj(t)["PART-TARGET"]);if(void 0===i)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return i}function fQ(t){switch(Xj(t)){case"VOD":return Bj.iOt;case"EVENT":return Bj.eOt;default:return vj.FLt(dj,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),Bj.yk}}function vQ(t,i){var n,r,e=Gj(t);try{n=function(t){if(void 0===t)throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return Nj.JLt;if("PART"===t)return Nj.ZLt;throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=sQ(e.URI,i)}catch(i){throw new y("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=Kj(e["BYTERANGE-START"]),o=Kj(e["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={Tn:u||0,V:o}),{Km:n,Syt:{XE:r,iAt:s}}}U(),Et(),Ft(),U(),Et(),Wt(),Ft(),Qt(),U(),Et();var dQ=function(){function t(i){this.UOt=0,this.FOt=void 0,this.FOt=t.HOt(i)}var i=t.prototype;return i.OOt=function(){var t=this.FOt[this.UOt];return this.UOt+=1,t},i.VOt=function(){return this.FOt[this.UOt]},i.Fy=function(){var i=new t("");return i.UOt=0,i.FOt=this.FOt.slice(this.UOt),i},t.HOt=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function lQ(t,i,n){var r=t.Syt,e=t.ED,s=t.WOt,u=t.Tn;switch(n){case"#EXT-X-VERSION":e=function(t){var i=qj(t);return S(i)?(vj.FLt(dj,"Playlist version is NaN: "+t+"."),1):i}(i);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var i=Gj(t),n=Kj(i["TIME-OFFSET"]);if(void 0===n)throw new y("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{qOt:n,zOt:"YES"===i.PRECISE}}(i);break;case"#EXT-X-DEFINE":vj.FLt(dj,"Ignoring unsupported #EXT-X-DEFINE: "+i+".");break;default:vj.cN(dj,"Ignoring unrecognized line or comment: "+i+".")}return{Syt:r,ED:e,WOt:s,Tn:u}}function wQ(t,i){return t.map(function(t){return t.Hk===xj.pz||t.SOt?t:Yu({},t,{SOt:gQ(i)})})}function gQ(t){var i=new DataView(new ArrayBuffer(16)),n=new Ta;return n.Ly(8),Qh(i,n,ue.fromNumber(t)),new E(i.buffer)}function _Q(t,i,n){vj.cN(dj,"Parsing M3U8 playlist at "+t+".");var r=new dQ(n);if("#EXTM3U"!==r.OOt())throw new y("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(n)?function(t,i){var n;try{n=Ui.Pm(t)}catch(i){throw vj.FLt(dj,"The master playlist has no valid base URI: "+t+"."),new y("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Syt:n,WOt:void 0,Tn:void 0,ED:void 0},e=[],s=[],u=[],o=[];;){var h=i.OOt();if(!h)break;try{var a=Wj(h);switch(a){case"#EXT-X-MEDIA":var c=jj(h,n);e.push(c);break;case"#EXT-X-STREAM-INF":var f=Qj(h,n,i.OOt());s.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=Yj(h,n);u.push(v);break;case"#EXT-X-SESSION-DATA":vj.FLt(dj,"Ignoring unsupported #EXT-X-SESSION-DATA: "+h+".");break;case"#EXT-X-SESSION-KEY":var d=Jj(h,n);o.push(d);break;default:r=lQ(r,h,a)}}catch(t){vj.FLt(dj,"Ignoring unparsable line: "+h,t)}}var l,w=r.ED,g=null!=(l=r.WOt)&&l,_=r.Tn;return void 0===w&&(vj.FLt(dj,"The playlist has no #EXT-X-VERSION, assuming version is 2."),w=2),w>=8&&(s.some(function(t){return void 0!==t.yyt})||u.some(function(t){return void 0!==t.yyt}))&&(s.some(function(t){return void 0===t.yyt})||u.some(function(t){return void 0===t.yyt}))&&vj.FLt(dj,"If one master playlist variant stream has a SCORE, all variants should have it."),{Syt:n,ED:w,WOt:g,Tn:_,GOt:u,UW:o,$D:e,XOt:s}}(t,r):function(t,i,n){var r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,p,k,b={Syt:t,WOt:void 0,Tn:void 0,ED:void 0},A=[],T=!1,S=!1,E=[],I=Ju(),R=[],C=[],P=!1,D=!1,N=[],x=[],B=0,O=!1,M=Bj.yk,L=!1,F=0;try{k=Ui.Pm(t)}catch(i){throw vj.FLt(dj,"The media playlist has no valid base URI: "+t+".",i),new y("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var U=n.Fy();void 0===_||void 0===m;){var V=U.OOt();if(!V)break;try{switch(zj(V)){case"#EXT-X-MEDIA-SEQUENCE":_=qj(V);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":m=qj(V)}}catch(t){vj.FLt(dj,"Ignoring unparsable line: "+V,t)}}void 0===_&&(vj.cN(dj,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),_=0),void 0===m&&(vj.cN(dj,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),m=0);for(var H=_,W=m;;){var z=n.OOt();if(!z)break;var X=!1;try{var q=zj(z);switch(q){case"#EXTINF":var G;X=!0,o=(G=Zj(z))[0],h=G[1];break;case"#EXT-X-BYTERANGE":X=!0,(a=iQ(z,B))&&(B=a.Tn+a.V);break;case"#EXT-X-DISCONTINUITY":X=!0,P=!0,W++;break;case"#EXT-X-KEY":var j;X=!0;var Q,Y=Jj(z,k);if(Y.Hk===xj.pz){I.clear(),w=void 0;break}var K=null!=(Q=null==(j=Y.vOt)?void 0:j.toString())?Q:"identity";I.set(K,Y),Y.Hk===xj.$Lt&&(w=Y);break;case"#EXT-X-MAP":X=!0,f=nQ(z,k),v=w;break;case"#EXT-X-PROGRAM-DATE-TIME":X=!0,d=rQ(z);break;case"#EXT-X-GAP":X=!0,D=!0;break;case"#EXT-X-BITRATE":X=!0,l=qj(z);break;case"#EXT-X-TARGETDURATION":r=qj(z);break;case"#EXT-X-DATERANGE":var J=eQ(z);A.push(J);break;case"#EXT-X-PART":X=!0;var Z=uQ(z,k);C.push(Z);break;case"#EXT-X-PRELOAD-HINT":var $=vQ(z,k);N.push($);break;case"#EXT-X-SKIP":E.length>0&&vj.FLt(dj,"#EXT-X-SKIP must appear before any #EXTINF tags."),X=!0;var tt=aQ(z,H);F=tt.BOt,p=tt.MOt,H+=tt.BOt;break;case"#EXT-X-SERVER-CONTROL":var it=oQ(z);T=it.xOt,e=it.POt,S=it.IOt,s=it.COt,u=it.ROt;break;case"#EXT-X-RENDITION-REPORT":var nt=hQ(z,k);x.push(nt);break;case"#EXT-X-PART-INF":g=cQ(z);break;case"#EXT-X-MEDIA-SEQUENCE":X&&vj.FLt(dj,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":X&&vj.FLt(dj,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":O=!0;break;case"#EXT-X-PLAYLIST-TYPE":M=fQ(z);break;case"#EXT-X-I-FRAMES-ONLY":L=!0;break;default:if(Fo(q,"#"))b=lQ(b,z,q);else{c=Ui.Pm(z,k);var rt=f?{Syt:f,jOt:v}:void 0,et={UW:wQ(to(I),H),LU:R,QOt:C,ct:o,gq:h,KOt:P,Syt:{iAt:a,XE:c},YOt:rt,JOt:d,EOt:D,ZOt:l,LOt:H,$Ot:W};E.push(et),H++,R=[],C=[],o=void 0,h=void 0,P=!1,a=void 0,c=void 0,d=void 0,D=!1,l=void 0}}}catch(t){vj.FLt(dj,"Ignoring unparsable line: "+z,t)}}if(C.length){var st=f?{Syt:f,jOt:w}:void 0,ut={UW:wQ(to(I),H),LU:R,QOt:C,ct:o,gq:h,KOt:P,Syt:void 0,YOt:st,JOt:d,EOt:D,ZOt:l,LOt:H,$Ot:W};E.push(ut)}var ot,ht=b.ED,at=null!=(ot=b.WOt)&&ot,ct=b.Tn;void 0===ht&&(vj.FLt(dj,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===r&&vj.FLt(dj,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||vj.FLt(dj,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].QOt.length>0;return dt&&void 0===g&&vj.FLt(dj,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===u&&vj.FLt(dj,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{xOt:T,POt:e,IOt:S,tFt:A,$Ot:m,iFt:O,WOt:at,COt:s,eFt:L,LOt:_,BOt:F,ROt:u,HLt:g,sFt:M,nFt:N,MOt:p,rFt:x,hFt:r,bct:E,Tn:ct,Syt:k,oFt:i,ED:ht}}(t,i,r)}U(),Et(),xt(),Ft(),U(),Et(),xt(),Ft();var mQ=function(){function t(t,i,n){var r,e,s,u;this.o=yQ++,this.sLt=void 0,this.IW=void 0,this.yyt=void 0,this.RRt=void 0,this.Olt=void 0,this.pOt=void 0,this.bOt=void 0,this.yOt=void 0,this.mOt=void 0,this.wyt=void 0,this.uFt=void 0,this.bRt=void 0,this.aFt=!1,this.dFt=[],this.sLt=i,this.IW=t.IW,this.wyt=t.wyt,this.yyt=t.yyt,this.uFt=t.Rrt?pQ(t.Rrt):void 0,this.bRt=this.uFt,this.RRt=t.RRt,this.Olt=t.Olt,this.pOt=null!=(r=t.pOt)?r:"wFt"+this.o,this.bOt=null!=(e=t.bOt)?e:"yFt"+this.o,this.yOt=null!=(s=t.yOt)?s:"bFt"+this.o,this.mOt=null!=(u=t.mOt)?u:"AFt"+this.o,this.dFt=n}var i=t.prototype;return i.gFt=function(t){for(var i,n=Lt(this.dFt);!(i=n()).done;){var r=i.value.sLt.gFt(t);if(void 0!==r)return r}},i.pFt=function(t){for(var i,n=Lt(this.dFt);!(i=n()).done;){var r=i.value.sLt.pFt(t);if(void 0!==r)return r}},i.mFt=function(t){Xn(this.dFt,t)},Nt(t,[{key:"Syt",get:function(){return this.sLt.Syt}},{key:"Rrt",get:function(){return this.bRt},set:function(t){this.bRt=t?pQ(t):void 0,this.aFt=function(t,i){return!(void 0!==(null==t?void 0:t.q9)&&void 0===(null==i?void 0:i.q9)||void 0!==(null==t?void 0:t.W9)&&void 0===(null==i?void 0:i.W9))}(this.uFt,this.bRt)}},{key:"cFt",get:function(){return this.aFt}},{key:"VLt",get:function(){return this.dFt}},{key:"lFt",get:function(){return this.dFt.filter(function(t){return t.Km===Dj.Bk})}},{key:"fFt",get:function(){return this.dFt.filter(function(t){return t.Km===Dj.Mk})}},{key:"vFt",get:function(){return this.dFt.filter(function(t){return t.Km===Dj.HU})}},{key:"_Ft",get:function(){return this.dFt.filter(function(t){return t.Km===Dj.YLt})}}]),t}(),yQ=0;function pQ(t){return Yu({},t,{W9:t.W9?Kv(t.W9):void 0})}U(),Et(),xt(),Ft(),U(),Et(),xt(),Ft(),U(),Et(),xt();var kQ=function(){function t(t,i,n,r,e,s){this.PFt=void 0,this.CFt=void 0,this.ct=void 0,this.Syt=void 0,this.kOt=void 0,this.EOt=void 0,this.kFt=void 0,this.xFt=void 0,this.HO=void 0,this.Get=void 0,this.SFt=void 0,this.PFt=t,this.CFt=i,this.HO=n,this.kFt=r,this.xFt=e,this.ct=s.ct,this.Syt=s.Syt,this.kOt=s.kOt,this.EOt=s.EOt}return t.prototype.IFt=function(t,i,n){this.HO=t,this.kFt=i,this.xFt=n},Nt(t,[{key:"CO",get:function(){var t;return this.HO+(null!=(t=this.SFt)?t:0)}},{key:"TFt",get:function(){return this.kFt}},{key:"EFt",get:function(){return this.xFt}},{key:"UW",get:function(){return this.PFt.UW}}]),t}(),bQ=function(){function t(t,i,n,r,e){this.Zb=void 0,this.JOt=void 0,this.NFt=void 0,this.YOt=void 0,this.EOt=void 0,this.kFt=void 0,this.xFt=void 0,this.LOt=void 0,this.KOt=void 0,this.$Ot=void 0,this.UW=void 0,this.HO=void 0,this.Get=void 0,this.BFt=[],this.LFt=0,this.RFt=void 0,this.HO=t,this.YOt=e.YOt,this.kFt=n,this.xFt=r,this.Zb=e.ct,this.JOt=e.JOt,this.NFt=e.Syt,this.EOt=e.EOt,this.LOt=e.LOt,this.KOt=e.KOt,this.$Ot=i,this.UW=e.UW,this.HFt(e.QOt)}var i=t.prototype;return i.OFt=function(t){return this.BFt[t]},i.FFt=function(t){for(var i=0;i<this.BFt.length;i++){var n=this.BFt[i],r=n.CO,e=r+n.ct;if(r<=t&&t<=e)return t===e&&i+1<this.BFt.length?this.BFt[i+1]:n}},i.UFt=function(t){for(var i=this.BFt.length-1;i>=0;i--){var n=this.BFt[i];if(n.CO<=t)return n}},i.VFt=function(t){for(var i=this.UFt(t);i&&!i.kOt&&i.CFt>0;)i=this.OFt(i.CFt-1);return i},i.IFt=function(t,i,n){var r=t.QOt.length!==this.BFt.length||n!==this.xFt;this.kFt=i,this.xFt=n,this.Zb=t.ct,null!=this.JOt||(this.JOt=t.JOt),void 0===this.NFt&&(this.NFt=t.Syt),r&&this.HFt(t.QOt)},i.HFt=function(t){this.BFt.length>t.length&&(this.BFt.length=t.length);for(var i=0,n=0;n<t.length;n++){var r=t[n],e=this.kFt&&0===n,s=this.xFt&&n===t.length-1,u=this.HO+i;if(n<this.BFt.length)this.BFt[n].IFt(u,e,s);else{var o=new kQ(this,n,u,e,s,r);o.SFt=this.RFt,this.BFt.push(o)}i+=r.ct}this.LFt=i},i.WFt=function(){Yn(this.BFt),this.LFt=0},Nt(t,[{key:"CO",get:function(){var t;return this.HO+(null!=(t=this.RFt)?t:0)}},{key:"DFt",get:function(){return this.HO}},{key:"ct",get:function(){return this.Zb}},{key:"Syt",get:function(){return this.NFt}},{key:"TFt",get:function(){return this.kFt}},{key:"EFt",get:function(){return this.xFt}},{key:"QOt",get:function(){return this.BFt}},{key:"MFt",get:function(){return this.LFt}},{key:"RO",get:function(){var t;return this.CO+(null!=(t=this.Zb)?t:this.LFt)}},{key:"SFt",get:function(){return this.RFt},set:function(t){this.RFt=t;for(var i,n=Lt(this.BFt);!(i=n()).done;){i.value.SFt=t}}}]),t}();U(),Et();var AQ=function(t){return t.qFt="YES",t.zFt="v2",t}({});U(),Et(),Pt();var TQ=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i}(cr);U(),Et(),Pt(),Ft(),U(),Et(),xt(),Pt(),Ft(),U(),Et();var SQ=function(t){function i(i,n){var r,e=EQ(n,i.ct,i.uq,i.rOt);return(r=t.call(this,n,e,void 0,!1,i.o)||this).GFt=void 0,r.XFt=void 0,r.jFt=void 0,r.Zb=void 0,r.QFt=void 0,r.KFt=void 0,r.$Ft=void 0,r.YFt=void 0,r.JFt=void 0,r.ZFt=void 0,r.GFt=i.nOt,r.XFt=i.uq,r.jFt=i.rOt,r.Zb=i.ct,r.QFt=i.hOt,r.KFt=Boolean(i.sOt),r.$Ft=i.oOt||{},r.YFt=i.uOt,r.JFt=i.dOt,r.ZFt=i.lOt,r.tUt(),r.iUt(),r}Ct(i,t);var n=i.prototype;return n.er=function(t){var i,n=!1;(void 0===this.GFt&&void 0!==t.nOt&&(n=!0,this.GFt=t.nOt),void 0===this.jFt&&void 0!==t.rOt&&(n=!0,this.jFt=t.rOt),void 0===this.Zb&&void 0!==t.ct&&(n=!0,this.Zb=t.ct),void 0===this.QFt&&void 0!==t.hOt&&(n=!0,this.QFt=t.hOt),!this.KFt&&t.sOt&&(n=!0,this.KFt=t.sOt),n=this.updateCustomAttributes(t,n),void 0===this.YFt&&void 0!==t.uOt&&(n=!0,this.YFt=t.uOt),void 0===this.JFt&&void 0!==t.dOt&&(n=!0,this.JFt=t.dOt),void 0===this.ZFt&&void 0!==t.lOt&&(n=!0,this.ZFt=t.lOt),this.tUt(),this.iUt(),this.eUt(),n)&&(this.So(new qg(this)),null==(i=this.WO)||i.So(new jg(this)))},n.updateCustomAttributes=function(t,i){var n=i;if(t.oOt)for(var r,e=Lt(k.keys(t.oOt));!(r=e()).done;){var s=r.value;void 0===this.$Ft[s]&&(n=!0,this.$Ft[s]=t.oOt[s])}return n},n.tUt=function(){this.Zb&&!this.jFt&&(this.jFt=new Date(this.XFt.getTime()+fe(this.Zb)))},n.iUt=function(){this.jFt&&!this.Zb&&(this.Zb=ce(this.jFt.getTime()-this.XFt.getTime()))},n.eUt=function(){this.zO===1/0&&(this.jFt||this.Zb)&&(this.zO=EQ(this.HO,this.Zb,this.XFt,this.jFt))},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return Mw(Wg(t),{get content(){return t.U},get class(){return t.nOt},get startDate(){return t.uq},get endDate(){return t.rOt},get duration(){return t.ct},get plannedDuration(){return t.hOt},get endOnNext(){return t.sOt},get scte35Cmd(){return t.uOt},get scte35Out(){return t.dOt},get scte35In(){return t.lOt},get customAttributes(){return t.oOt}})}(this)),this.hu}},{key:"nOt",get:function(){return this.GFt}},{key:"uq",get:function(){return this.XFt}},{key:"rOt",get:function(){return this.jFt}},{key:"ct",get:function(){return this.Zb}},{key:"hOt",get:function(){return this.QFt}},{key:"sOt",get:function(){return this.KFt}},{key:"uOt",get:function(){return this.YFt}},{key:"dOt",get:function(){return this.JFt}},{key:"lOt",get:function(){return this.ZFt}},{key:"oOt",get:function(){return this.$Ft}}]),i}(Jg);function EQ(t,i,n,r){return Li(i)?t+i:r?t+(ce(r.getTime())-ce(n.getTime())):1/0}var IQ=function(t){function i(){return t.call(this,void 0,void 0,Ng.DATE_RANGE)||this}Ct(i,t);var n=i.prototype;return n.er=function(t,i){RQ(this,CQ(t),i)},n.nV=function(i){PQ(this.L.NI,i),t.prototype.nV.call(this,i)},i}($D);function RQ(t,i,n){for(var r=function(n){var r=e[n],s=Fn(i,function(t){return t.o===r.o});s?r.er(s):t.XU(r)},e=t.L.NI,s=e.length-1;s>=0;s--)r(s);for(var u,o=Lt(i);!(u=o()).done;){var h=u.value,a=h.uq;if(void 0!==a&&!t.k5(h.o)){var c=n(a),f=new SQ(h,c);PQ(t.L.NI,f),t.nV(f)}}}function CQ(t){for(var i,n=Ju(),r=[],e=Lt(t);!(i=e()).done;){var s=i.value;if(n.has(s.o)){var u=n.get(s.o),o=Yu({},u,Vw(s),{oOt:Yu({},u.oOt,s.oOt)});n.set(s.o,o)}else n.set(s.o,s),r.push(s.o)}return r.map(function(t){return n.get(t)})}function PQ(t,i){var n=Vn(t,function(t){return t.nOt===i.nOt});n&&n.sOt&&n.er({o:n.o,rOt:i.uq})}var DQ=String.fromCharCode(95),NQ=DQ+"HLS_msn",xQ=DQ+"HLS_part",BQ=DQ+"HLS_skip",OQ="HLSMediaPlaylist",MQ=function(){function t(t,i,n){this.Syt=void 0,this.pUt=void 0,this.wUt=void 0,this.CUt=void 0,this.RUt=void 0,this.rUt=void 0,this.hUt=void 0,this.oUt=void 0,this.aUt=void 0,this.Dbt=[],this.yUt=[],this.RFt=void 0,this.uUt=!1,this.cUt=void 0,this.dUt=!1,this.lUt=Bj.yk,this.H4=EA.rL(),this.nUt=EA.rL(),this.Zb=void 0,this.AUt=-1/0,this.UU=void 0,this.FUt=void 0,this.TUt=void 0,this.Syt=t,this.UU=i,this.FUt=n}var i=t.prototype;return i.BLt=function(t){if(!t)return this.Syt;var i=Ui.Dh(this.Syt);return void 0!==t.LOt&&i.searchParams.append(NQ,String(t.LOt)),void 0!==t.kUt&&i.searchParams.append(xQ,String(t.kUt)),void 0!==t.uD&&i.searchParams.append(BQ,t.uD),i.href},i.Oat=function(t){var i=this.EUt(t);return i<0?void 0:this.Dbt[i]},i.EUt=function(t){var i=this.Dbt;if(0===i.length)return-1;var n=t-i[0].LOt;return n<0||n>=i.length?-1:n},i.xUt=function(t){if(0!==this.Dbt.length){var i=nV(LQ.Bg,this.Dbt,t);if(!(i<0)){var n=this.Dbt[i];return t===n.RO&&i+1<this.Dbt.length?this.Dbt[i+1]:n}var r=this.Dbt[this.Dbt.length-1];return t===r.RO?r:void 0}},i.PUt=function(t){if(0!==this.Dbt.length){var i=this.Dbt[0];if(t<i.RO)return i;var n=this.Dbt[this.Dbt.length-1];return t>=n.CO?n:this.xUt(t)}},i.gFt=function(t){var i=this.PUt(t);if(void 0!==i)for(var n=i.LOt-this.Dbt[0].LOt;n>=0;n--){var r=this.Dbt[n];if(void 0!==r.JOt)return new Date(r.JOt.getTime()+1e3*(t-r.CO))}},i.pFt=function(t){for(var i,n,r=Lt(this.Dbt);!(n=r()).done;){var e=n.value;if(FQ(e))if(void 0===i)i=e;else{if(!(e.JOt.getTime()<=t.getTime()))break;i=e}}if(void 0!==i)return i.CO+(t.getTime()-i.JOt.getTime())/1e3},i.IUt=function(t){switch(t){case Nj.JLt:return this.CUt;case Nj.ZLt:return this.RUt;default:return}},i.IFt=function(t){var i;void 0===this.rUt&&(this.rUt=null!=(i=t.hFt)?i:this.DUt(t));void 0===this.oUt&&void 0!==t.COt&&(this.oUt=t.COt),void 0===this.hUt&&void 0!==t.HLt&&(this.hUt=t.HLt),void 0===this.aUt&&void 0!==t.ROt&&(this.aUt=t.ROt),this.uUt=t.xOt,this.cUt=t.POt,this.dUt=t.IOt,this.lUt=t.sFt,this.Lbt(t),this.NUt(t);var n=Fn(t.nFt,function(t){return t.Km===Nj.JLt}),r=Fn(t.nFt,function(t){return t.Km===Nj.ZLt});this.CUt=n?{Syt:n.Syt,Km:n.Km,$Ot:t.$Ot}:void 0,this.RUt=r?{Syt:r.Syt,Km:r.Km,$Ot:t.$Ot}:void 0,this.pUt=Ui.Mg()/1e3;var e=this.H4.An(this.H4.V-1);this.BUt();var s=this.H4.An(this.H4.V-1);(!this.wUt||s-e>0)&&(this.wUt=this.pUt),null!=this.UU||(this.UU=t.Tn)},i.BUt=function(){this.nUt=this.MUt(),this.H4=this.LUt(this.nUt),this.Zb=this.OUt()},i.MUt=function(){var t=this.bct;if(0===t.length)return EA.rL();var i=t[0].CO,n=t[t.length-1].RO;return new EA([i,n])},i.LUt=function(t){if(0===t.V||this.iFt)return t;var i=t.Tn(0),n=t.An(0)-this.ISt;return n<i?EA.sL(i):new EA([i,n])},i.OUt=function(){return 0===this.Dbt.length?0:this.iFt?Dn(this.Dbt,function(t){var i;return null!=(i=t.ct)?i:t.MFt}):1/0},i.DUt=function(t){for(var i,n,r=Lt(t.bct);!(n=r()).done;){var e=n.value;if(void 0!==e.ct){var s=b.max(1,b.round(e.ct));(void 0===i||i<s)&&(i=s)}}if(void 0===i)throw new y("HLSModel - Could not determine required segment target duration.");return i},i.Lbt=function(t){if(0===t.bct.length)return Yn(this.Dbt),void this.UUt();var i=this.VUt(t);if(i){var n,r,e;i.HUt>0&&this.Dbt.splice(0,i.HUt);var s=t.BOt;if(s>0){if(s>this.Dbt.length)throw new TQ("New playlist skips over missing segments.");var u=this.Dbt[s-1];if(void 0===u.ct)throw new TQ("New playlist skips over an incomplete segment.");n=u.DFt+u.ct,e=u.$Ot-t.$Ot,r=s;for(var o=0;o<s;o++)this.Dbt[o].WFt()}else n=i.WUt,e=0,r=0;for(var h=0;h<t.bct.length;h++,r++){var a=t.bct[h],c=0===h,f=t.iFt&&h===t.bct.length-1,v=a.ct,d=a.$Ot+e;if(r<this.Dbt.length){var l=this.Dbt[r];0,l.IFt(a,c,f)}else{var w=a;if(this.Dbt.length>0&&void 0===w.YOt)w=Yu({},w,{YOt:this.Dbt[this.Dbt.length-1].YOt});var g=new bQ(n,d,c,f,w);g.SFt=this.RFt,this.Dbt.push(g)}void 0!==v&&(n+=v)}}},i.VUt=function(t){if(0===this.Dbt.length)return{HUt:0,WUt:0};var i=this.Dbt[0].LOt,n=this.Dbt[this.Dbt.length-1].LOt,r=t.bct[0].LOt-t.BOt,e=t.bct[t.bct.length-1].LOt,s=0,u=0;if(r<i){var o=this.bct[0].JOt,h=t.bct[0].JOt;if(!(o&&h&&o<h))return void vj.FLt(OQ,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+i+")");s=this.Dbt.length,this.UUt()}else{if(e<n)return void vj.FLt(OQ,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+n+")");if(n<r){var a;u=null!=(a=function(t,i){var n=Vn(t,function(t){return void 0!==t.JOt});if(void 0===n)return;var r=function(t){for(var i,n=0,r=Lt(t);!(i=r()).done;){var e,s=i.value;if(s.KOt)return;if(s.JOt)return[s,n];n+=null!=(e=s.ct)?e:0}return}(i.bct);if(void 0===r)return;var e=r[0],s=r[1];if(n.$Ot!==e.$Ot)return;var u=(e.JOt.getTime()-n.JOt.getTime())/1e3;return n.DFt+u-s}(this.Dbt,t))?a:function(t,i,n){var r,e=t[t.length-1],s=null!=(r=e.ct)?r:b.max(n,e.MFt),u=n*(i-e.LOt-1);return e.DFt+s+u}(this.Dbt,r,this.rUt),vj.OLt(OQ,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+n+"), resetting playlist and restarting at "+u+"s"),s=this.Dbt.length,this.UUt()}else{0;var c=Hn(this.Dbt,function(t){return t.LOt===r});0,u=this.Dbt[c].DFt,c>0&&(s=c)}}return{HUt:s,WUt:u}},i.NUt=function(t){var i=t.tFt.map(Fj);if(t.IOt&&t.oFt.uD===AQ.zFt&&(i=this.yUt.concat(i)),this.yUt=CQ(i),t.MOt)for(var n,r,e=function(){var t=r.value,i=Hn(n.yUt,function(i){return i.o===t});i>=0&&qn(n.yUt,i)},s=Lt(t.MOt);!(r=s()).done;)n=this,e()},i.qUt=function(t,i){if(this.RFt!==t){this.RFt=t;for(var n,r=Lt(this.Dbt);!(n=r()).done;){n.value.SFt=this.RFt}this.BUt()}this.TUt=i},i.UUt=function(){this.RFt=void 0,this.TUt=void 0},Nt(t,[{key:"iFt",get:function(){return 0!==this.Dbt.length&&this.Dbt[this.Dbt.length-1].EFt}},{key:"ct",get:function(){return this.Zb}},{key:"kP",get:function(){return this.H4}},{key:"sUt",get:function(){return this.nUt}},{key:"WLt",get:function(){return this.rUt}},{key:"HLt",get:function(){return this.hUt}},{key:"COt",get:function(){return this.iFt?0:this.oUt?this.oUt:this.rUt?3*this.rUt:void 0}},{key:"ROt",get:function(){var t;return null!=(t=this.aUt)?t:this.hUt?3*this.hUt:void 0}},{key:"xOt",get:function(){return this.uUt}},{key:"POt",get:function(){return this.cUt}},{key:"IOt",get:function(){return this.dUt}},{key:"sFt",get:function(){return this.lUt}},{key:"fUt",get:function(){return void 0!==this.HLt}},{key:"vUt",get:function(){if(this.iFt)return!0;var t=Ui.Mg()/1e3,i=this._Ut,n=this.gUt;return void 0!==i&&t-i<n}},{key:"_Ut",get:function(){return this.pUt}},{key:"mUt",get:function(){if(this.wUt)return Ui.Mg()/1e3-this.wUt}},{key:"SFt",get:function(){return this.RFt}},{key:"gUt",get:function(){var t;return null!=(t=this.rUt)?t:void 0===this.pUt?5:1}},{key:"bct",get:function(){return this.Dbt}},{key:"tFt",get:function(){return this.yUt}},{key:"bUt",get:function(){return this.AUt},set:function(t){this.AUt=t}},{key:"Tn",get:function(){return this.UU}},{key:"SUt",get:function(){return this.TUt}},{key:"ISt",get:function(){return this.iFt?0:null!=(n=null!=(i=null!=(t=this.FUt)?t:this.ROt)?i:this.COt)?n:0;var t,i,n}}]),t}(),LQ=function(){function t(){}var i=t.prototype;return i.xbt=function(t){return t.CO},i.Pbt=function(t){return t.RO},i.Ibt=function(t,i){return Bn(t,i)},i.Cbt=function(t,i,n){return(t-i)/(n-i)},Nt(t,null,[{key:"Bg",get:function(){return null!=this.Rbt||(this.Rbt=new t),this.Rbt}}]),t}();function FQ(t){return void 0!==t.JOt}function UQ(t){return void 0!==t.QOt}function VQ(t){return UQ(t)?t.TFt:0===t.CFt&&t.PFt.TFt}function HQ(t,i){return UQ(t)?UQ(i)?t.LOt+1===i.LOt:0===i.CFt&&HQ(t,i.PFt):t.CFt===t.PFt.QOt.length-1?HQ(t.PFt,i):!UQ(i)&&t.PFt===i.PFt&&t.CFt+1===i.CFt}LQ.Rbt=void 0,U(),Et(),Ft(),U(),Et(),U(),Et(),xt(),Pt(),H();var WQ=function(t){function i(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),i}(cr);var zQ=function(){function t(){this.cVt=[],this.GUt=Zu(),this.QUt=[],this.eVt=-1}var i=t.prototype;return i.zUt=function(t){var i=this.GUt.get(t);return void 0!==i&&XQ(i)},i.XUt=function(t){if(this.jUt()>t)return ut.reject(new WQ);for(var i,n=[],r=Lt(this.QUt);!(i=r()).done;){var e,s=i.value;if(s<t)null==(e=this.GUt.get(s))||e.KUt.Ky(new WQ),this.GUt.delete(s);else n.push(s)}return this.QUt=n,-1===this.QUt.indexOf(t)&&this.QUt.push(t),this.YUt(t).KUt.Yy},i.JUt=function(t){var i=this.GUt.get(t);if(!i||!XQ(i))throw new y("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return i},i.ZUt=function(t){return this.JUt(t).EU},i.$Ut=function(t,i){var n=UQ(i)?i:i.PFt,r=this.JUt(n.$Ot),e=t.gO(r.EU),s=m_.hU(i.CO).gF(e);if(s.fF().hF(A_())){var u=b.round(s.rF()/b_().rF());e=e.gO(b_().zF(u))}return e},i.tVt=function(t,i){return this.$Ut(t,i).gF(t)},i.iVt=function(t,i,n,r,e,s){this.eVt<t&&(this.eVt=t);var u=this.YUt(t);void 0===u.EU&&(u.sVt.some(function(t){return t.iat===i})||(u.sVt.push({iat:i,nVt:n,rVt:r.eU(n.jD),hVt:e,oVt:s}),this.aVt(u,t)))},i.aVt=function(t,i){if(!t.EU&&this.uVt(t)){var n=function(t){return ir(t,qQ)}(t.sVt);t.EU=n.rVt.gF(n.nVt),t.KUt.Qy(),Yn(t.sVt),Xn(this.QUt,i)}},i.uVt=function(t){return this.cVt.length>0&&this.cVt.every(function(i){return t.sVt.some(function(t){return t.iat===i})})},i.YUt=function(t){if(this.GUt.has(t))return this.GUt.get(t);var i={EU:void 0,KUt:new Va,sVt:[]};return this.GUt.set(t,i),i},i.dVt=function(t){var i=this;this.cVt=t,this.GUt.forEach(function(t,n){return i.aVt(t,n)})},i.lVt=function(){this.eVt=-1},i.jUt=function(){return this.eVt},i.zg=function(){this.GUt.forEach(function(t){return t.KUt.Zg()}),this.GUt.clear()},t}();function XQ(t){return void 0!==t.EU}function qQ(t,i){return-function(t,i){if(t.oVt||i.oVt)return function(t,i){var n=t.gF(i);return t.mF()||i.mF()||(n.aF(A_())?n=n.gF(b_()):n.lF(A_()._F())&&(n=n.gO(b_()))),n}(t.nVt,i.nVt).oF(m_.SF);return t.nVt.oF(i.nVt)}(t,i)||function(t,i){return t.hVt===i.hVt?Nn.rh:t.hVt?Nn.Fg:Nn.Ug}(t,i)||function(t,i){return t.rVt.oF(i.rVt)}(t,i)}var GQ=function(){function t(t,i){this.gVt=[],this.vVt=[],this.TVt=Ju(),this.pVt=new zQ,this.FUt=void 0,this.PVt=void 0,this.PVt=t,this.FUt=i}var i=t.prototype;return i.IFt=function(t,i){if(Pj(t))if(0===this.gVt.length)this.mVt(t);else{if(!i)return void vj.FLt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");i.sLt.IFt(t)}else{if(0!==this.gVt.length)return void vj.FLt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.wVt(t)}},i.mVt=function(t){var i=this.yVt(t.Syt);i.IFt(t);var n=this.bVt(Dj.Bk,i),r=this.bVt(Dj.Mk,i),e=new mQ({Syt:i.Syt,IW:0,wyt:0,yyt:NaN,Rrt:void 0,RRt:void 0,Olt:0,gOt:[],wOt:void 0,AOt:void 0,pOt:void 0,bOt:void 0,yOt:void 0,mOt:void 0},i,[n,r]);this.gVt.push(e)},i.wVt=function(t){var i,n,r=function(){var n=e.value,r=s.filter(function(t){return function(t,i){return jQ(t.Km,t.oLt,i)&&(!t.uLt||t.sLt.Syt===i.Syt)}(t,n)});i.SVt(n,r);var u=new mQ(n,i.yVt(n.Syt,t.Tn),r);i.gVt.push(u)};(n=this.vVt).push.apply(n,[].concat(t.UW));for(var e,s=this.AVt(t),u=Lt(t.XOt);!(e=u()).done;)i=this,r()},i.yVt=function(t,i){var n=this.TVt.get(t);return void 0===n&&(n=new MQ(t,i,this.FUt),this.TVt.set(t,n)),n},i.AVt=function(t){for(var i,n=[],r=Lt(t.$D);!(i=r()).done;){var e=i.value;if(void 0===e.Syt)for(var s,u=Lt(t.XOt);!(s=u()).done;){var o=s.value;if(jQ(e.Km,e.oLt,o)){var h=new ZG(e,this.yVt(o.Syt));n.push(h)}}else{var a=new ZG(e,this.yVt(e.Syt));n.push(a)}}return n},i.bVt=function(t,i){return new ZG({Km:t,Syt:void 0,oLt:"",bs:void 0,_Ot:void 0,l:"",nLt:!0,rLt:!1,hLt:!1,cLt:void 0,aLt:void 0,X9:void 0},i)},i.SVt=function(t,i){var n=i.filter(function(t){return t.Km===Dj.Bk}),r=i.filter(function(t){return t.Km===Dj.Mk}),e=t.Rrt&&(t.Rrt.W9||t.Rrt.q9);if((!e||t.Rrt.W9)&&0===r.length){var s=this.bVt(Dj.Mk,this.yVt(t.Syt));i.push(s)}if((!e||t.Rrt.q9)&&0===n.length){var u=this.bVt(Dj.Bk,this.yVt(t.Syt));i.push(u)}t.Rrt&&t.Rrt.fOt},i.kVt=function(t){for(var i,n=Lt(this.gVt);!(i=n()).done;)for(var r,e=Lt(i.value.VLt);!(r=e()).done;){var s=r.value;if(s===t)return s}},i.EVt=function(t){for(var i,n=Lt(this.gVt);!(i=n()).done;){var r=i.value;if(r===t)return r}},i.xVt=function(t){for(var i,n=Lt(this.gVt);!(i=n()).done;){var r=i.value;if(jn(r.VLt,t))return r}},i.zg=function(){Yn(this.gVt),Yn(this.vVt),this.TVt.clear(),this.pVt.zg()},Nt(t,[{key:"fVt",get:function(){return this.vVt}},{key:"_Vt",get:function(){return this.gVt}},{key:"AM",get:function(){return this.pVt}}]),t}();function jQ(t,i,n){switch(t){case Dj.Bk:return n.pOt===i;case Dj.Mk:return n.bOt===i;case Dj.HU:return n.yOt===i;case Dj.YLt:return n.mOt===i}return!1}U(),Et(),Pt();var QQ=function(t){function i(i){var n;return(n=t.call(this,JQ.IVt)||this).fLt=void 0,n.fLt=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var YQ=function(t){function i(i){var n;return(n=t.call(this,JQ.CVt)||this).fLt=void 0,n.fLt=i,n}return Ct(i,t),i}(rh),KQ="HlsModelUpdater",JQ=function(t){return t.IVt="RVt",t.CVt="DVt",t}({}),ZQ=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).aV=void 0,u.Sut=void 0,u.sTt=void 0,u.Pyt=void 0,u.BVt=void 0,u.LVt=void 0,u.YVt=void 0,u.FVt=void 0,u.KVt=void 0,u.aV=i,u.Sut=n,u.sTt=r,u.BVt=!1,u.LVt=!1,u.YVt=void 0,u.FVt=void 0,u.KVt=Zu(),u.Pyt=new GQ(e,s),u}Ct(i,t);var n=i.prototype;return n.UVt=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:if(!(i=this.Pyt.PVt))throw new y("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return this.So(new KR),[4,this.VVt(i,{},2,!0,t)];case 1:if(n=e.sent(),!Cj(r=n.sLt)&&!Pj(r))throw new y("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return Cj(r)||vj.cN(KQ,"Detected media playlist only HLS stream."),this.HVt(r),n.WVt?(this.LVt=!0,[4,this.qVt(t)]):[3,3];case 2:e.sent(),e.label=3;case 3:return this.BVt=!0,[2]}})}).call(this)},n.zVt=function(t,i,n,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(!(e=this.Pyt.kVt(t)))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={LOt:i,kUt:n,uD:nY(e)},u=fe(b.max(1,3*t.sLt.gUt)),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.GVt(e,s,r,u)];case 2:return h.sent(),[3,4];case 3:throw lr(o=h.sent()),this.XVt(e),o;case 4:return[2]}})}).call(this)},n.jVt=function(t,i){var n=this.Pyt.kVt(t);if(!n)throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={LOt:void 0,kUt:void 0,uD:nY(n)},e=fe(b.max(1,3*t.sLt.gUt));return this.GVt(n,r,i,e)},n.QVt=function(t,i){return this.KVt.has(t.JI)||this.KVt.set(t.JI,new Va),gr(this.KVt.get(t.JI).Yy,i)},n.XVt=function(t){this.So(new YQ(t))},n.GVt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:e=t.sLt.BLt(i),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.VVt(e,i,0,this.LVt,n,r)];case 2:return u=a.sent(),s=u.sLt,[3,4];case 3:throw lr(o=a.sent()),t.sLt.bUt=Ui.Mg(),o;case 4:if(!Pj(s))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!this.YVt||t===this.YVt||this.YVt.sLt.vUt)return[3,8];a.label=5;case 5:return a.trys.push([5,7,,8]),[4,this.jVt(this.YVt,n)];case 6:return a.sent(),[3,8];case 7:return lr(a.sent()),this.YVt=t,this.JVt(),[3,8];case 8:try{this.HVt(s,t)}catch(e){if(V(e,TQ)&&void 0!==i.uD)return h=Yu({},i,{uD:void 0}),[2,this.GVt(t,h,n,r)];throw e}return this.YVt=t,[2]}})}).call(this)},n.VVt=function(t,i,n,r,e,s){return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return vj.cN(KQ,"Loading HLS playlist at "+t+"."),r?[4,this.ZVt(t,e)]:[3,2];case 1:if(void 0!==(u=o.sent()))return[2,{sLt:u,WVt:!0}];o.label=2;case 2:return[4,this.$Vt(t,i,n,e,s)];case 3:return[2,{sLt:o.sent(),WVt:!1}]}})}).call(this)},n.ZVt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.Sut.hTt([t])];case 1:return n=r.sent(),dr(i),void 0!==n?[2,_Q(n.responseURL,{},n.data)]:[3,3];case 2:return lr(r.sent()),[3,3];case 3:return[2]}})}).call(this)},n.$Vt=function(t,i,n,r,e){return Vt(function(){var s,u,o;return zt(this,function(h){switch(h.label){case 0:return s=this,u={Yu:t,fk:Ud.LT,Xk:this.sTt,Hk:ml.GET,Km:yl.bk,Yg:r,Wk:e},[4,mT(function(t){return s.tHt(u,t)},r,n)];case 1:return[2,_Q((o=h.sent()).wk,i,o.lk)]}})}).call(this)},n.tHt=function(t,i){return void 0===i&&(i=0),Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this.aV.vk(t)];case 1:return[4,(n=s.sent()).HT()];case 2:return[2,{lk:s.sent(),wk:n.wk}];case 3:throw vr(r=s.sent())||(e=Yl(r)?r.uE.dk:void 0,this.So(new cH),this.So(new IH(i,e,r.message))),r;case 4:return[2]}})}).call(this)},n.qVt=function(t){return Vt(function(){var i,n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(dr(t),i=[],n=Lt(this.Pyt._Vt);!(r=n()).done;)for(e=r.value,s=Lt(e.VLt);!(u=s()).done;)o=u.value,i.push(this.iHt(o,t));return[4,ut.all(i)];case 1:return h.sent(),[2]}})}).call(this)},n.iHt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.Sut.hTt([t.sLt.Syt])];case 1:return n=r.sent(),dr(i),void 0===n||t.sLt.vUt?[3,3]:[4,this.jVt(t,i)];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:return lr(r.sent()),[3,5];case 5:return[2]}})}).call(this)},n.JVt=function(){for(var t,i=Lt(this.Pyt._Vt);!(t=i()).done;)for(var n,r=Lt(t.value.VLt);!(n=r()).done;){var e=n.value;e!==this.YVt&&(void 0!==e.sLt.SFt&&(e.sLt.vUt?this.eHt(e):e.sLt.UUt()))}},n.eHt=function(t){if(0!==t.sLt.bct.length){if(!this.YVt)return this.YVt=t,void this.YVt.sLt.qUt(0,void 0);if(this.sHt(this.YVt),!this.sHt(t)&&void 0===t.sLt.SFt){var i=this.nHt(t,this.YVt);vj.OLt(KQ,"Assuming global timeline offset of "+i+"s for rendition "+t.sLt.Syt+"."),t.sLt.qUt(i,void 0)}}},n.nHt=function(t,i){if($Q(t)){var n=t.sLt.bct[0],r=i.sLt.bct[0];return vj.OLt(KQ,"Synchronizing by start of VOD: "+r.CO+" vs "+n.CO),r.CO-n.DFt}var e=function(t,i){var n=t.length-1,r=i.length-1;for(;n>=0&&r>=0;){var e=t[n],s=i[r];if(e.$Ot>s.$Ot)n--;else if(e.$Ot<s.$Ot)r--;else if(e.KOt){if(s.KOt)return{segment:e,referenceSegment:s};r--}else n--}return}(t.sLt.bct,i.sLt.bct);if(void 0!==e){var s=e.segment,u=e.referenceSegment;return vj.OLt(KQ,"Synchronizing by start of discontinuity #"+u.$Ot+": "+u.CO+" vs "+s.CO),u.CO-s.DFt}var o=iY(t.sLt.bct);if(void 0!==o){var h=iY(i.sLt.bct);if(void 0!==h)return vj.OLt(KQ,"Synchronizing by PDT:",h.JOt.toISOString()+" vs "+o.JOt.getTime()),h.CO-o.DFt-(h.JOt.getTime()-o.JOt.getTime())/1e3}var a,c=tY(i),f=tY(t),v=null!=(a=t.sLt.SFt)?a:0;return vj.OLt(KQ,"Synchronizing by last segment:",c+" vs "+f),c-f+v},n.sHt=function(t){var i=this.Pyt.kVt(t);if(!i)return!1;if($Q(i))return!1;var n=function(t,i){return Vn(t,function(t){return void 0!==t.Get&&i.zUt(t.$Ot)})}(i.sLt.bct,this.Pyt.AM);if(void 0===n)return!1;if(i.sLt.SUt===n.$Ot)return!0;var r=this.Pyt.AM.$Ut(n.Get,n).rF()-n.DFt;return vj.OLt(KQ,"Synchronize by media timestamp: "+r+"s for rendition "+t.sLt.Syt+"."),i.sLt.qUt(r,n.$Ot),(void 0===this.YVt||void 0===this.YVt.sLt.SUt||this.YVt.sLt.SUt<n.$Ot)&&(this.YVt=i),!0},n.HVt=function(t,i){var n;(this.Pyt.IFt(t,i),Pj(t)&&i)&&(this.FVt=i,this.eHt(i),this.So(new QQ(i)),null==(n=this.KVt.get(i.JI))||n.Qy(),this.KVt.delete(i.JI));this.So(new WV)},n.rHt=function(t,i){for(var n,r=Lt(this.Pyt._Vt);!(n=r()).done;){var e=n.value,s=Fn(e.fFt,function(t){return t.sLt===i});void 0!==s&&void 0!==t.W9&&(s.Rrt=Uj(s.Rrt,t));var u=Fn(e.lFt,function(t){return t.sLt===i});void 0!==u&&void 0!==t.q9&&(u.Rrt=Uj(u.Rrt,t)),e.cFt||void 0===s&&void 0===u||(e.Rrt=Uj(e.Rrt,t))}},n.hHt=function(t,i){for(var n,r=Lt(this.Pyt._Vt);!(n=r()).done;){var e=n.value,s=Fn(e.fFt,function(t){return t.sLt===i});void 0!==s&&void 0===t.W9&&e.mFt(s);var u=Fn(e.lFt,function(t){return t.sLt===i});void 0!==u&&void 0===t.q9&&e.mFt(u)}},n.zg=function(){this.Vo(),this.Pyt.zg(),this.KVt.forEach(function(t){return t.Zg()}),this.KVt.clear()},Nt(i,[{key:"NVt",get:function(){return this.BVt}},{key:"MVt",get:function(){return this.LVt}},{key:"Br",get:function(){return this.Pyt}},{key:"OVt",get:function(){return this.FVt}}]),i}(th);function $Q(t){return t.sLt.iFt||t.sLt.sFt===Bj.eOt}function tY(t){var i=t.sLt.bct;return i[i.length-1].RO}function iY(t){return Vn(t,function(t){return void 0!==t.JOt})}function nY(t){if(void 0!==t.sLt.POt&&!t.sLt.iFt&&!(void 0===t.sLt._Ut||Ui.Mg()/1e3-t.sLt._Ut>=t.sLt.POt/2))return t.sLt.IOt?AQ.zFt:AQ.qFt}var rY=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).nEt=void 0,r.oHt=void 0,r.aHt=function(t){r.NUt(t.fLt)},r.nEt=i,r.nEt.wn(JQ.IVt,r.aHt),r}Ct(i,t);var n=i.prototype;return n.NUt=function(t){if(0!==t.sLt.tFt.length){this.oHt||(this.oHt=this.iV.sI(Jm.zU,void 0,void 0,void 0,void 0,Ng.DATE_RANGE),this.tt(this.oHt));RQ(this.oHt,t.sLt.tFt,function(i){var n;return null!=(n=t.sLt.pFt(i))?n:NaN})}},n.eV=function(t,i,n){var r=ly(t,i,n);return this.oHt===t&&(this.oHt=r),r},i}(dy);U(),Et(),Pt();var eY=function(t){function i(){return t.call(this,JG.ZMt)||this}return Ct(i,t),i}(rh);U(),Et(),xt(),Ft(),U(),Et(),Wt(),xt(),Qt(),U(),Et(),xt();var sY=function(){function t(t){this.Wrt=void 0,this.Dbt=void 0,this.n3=void 0,this.Ipt=void 0,this.Wrt=t,this.Dbt=[],this.n3=void 0,this.Ipt=void 0}var i=t.prototype;return i.cHt=function(t){var i;return null==(i=this.dHt(t))?void 0:i.fLt},i.lHt=function(t){this.n3=t,this.fHt()},i.elt=function(t,i,n,r,e,s){this.Dbt.push({fLt:t,yut:i,vHt:EA.nL(e,s),_Ht:EA.nL(n,r)}),this.fHt()},i.dHt=function(t){return Fn(this.Dbt,function(i){return i._Ht.Cr(t)})},i.Oat=function(t){return Fn(this.Dbt,function(i){return i.yut===t})},i.Qct=function(t,i){return Fn(this.Dbt,function(n){return n.fLt===t&&HQ(n.yut,i)})},i.F3=function(){var t=this.Fx;t.V>0&&(this.Ipt=t.An(t.V-1))},i.fHt=function(){var t=this.Wrt.Fx;this.Dbt=this.Dbt.filter(function(i){return 0!==t.Mn(i._Ht).V})},Nt(t,[{key:"uHt",get:function(){return this.n3}},{key:"Fx",get:function(){return zO(this.Wrt.Fx,this.Wrt.W3)}},{key:"bct",get:function(){return this.Dbt}},{key:"Npt",get:function(){return this.Ipt}}]),t}();U(),Et();var uY=188,oY=function(t){return t[t.yk=0]="yk",t[t.pC=1]="pC",t[t.gHt=2]="gHt",t[t.pHt=3]="pHt",t}({});function hY(t){return aY(t)?1:function(t){return function(t){if(t.length<376)return-1;for(var i=t.length<564?2:3,n=b.min(1e3,t.length-i*uY),r=0;r<=n;r++){for(var e=!0,s=0;s<i;s++)if(71!==t[r+s*uY]){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==LD(_a(t),new Ta)}(t)?3:0}function aY(t){var i=wa(t,0,b.min(t.length,16384));return km.RD(_a(i))}var cY=function(){function t(t,i,n,r,e,s,u){var o=this;this.eb=void 0,this.Yot=void 0,this.DHt=void 0,this.Vp=void 0,this.Opt=void 0,this.ENt=void 0,this.WHt=void 0,this.bHt=void 0,this.hT=new hr,this.yHt=EA.rL(),this.qHt=void 0,this.spt=void 0,this.CHt=!0,this.SHt=!1,this.NHt=function(t){o.bHt&&(t?iR(t)&&fY(o)?o.WHt.iJ(o.eb.Fx.eL)?o.bHt.Qy():o.bHt.Ky(t):vr(t)?o.bHt.Qy():(o.SHt=!0,o.bHt.Ky(t)):o.bHt.Qy(),o.bHt=void 0)},this.Vp=t,this.DHt=n,this.eb=i,this.Yot=r,this.WHt=e,this.Opt=s,this.ENt=u}var i=t.prototype;return i.THt=function(){if(this.yCt)throw new y("Cannot perform new operation while BufferAppender is still busy")},i.kHt=function(t){this.eb!==t&&(this.THt(),this.eb=t,this.Yot=new sY(t))},i.EHt=function(){return this.bHt?this.bHt.Yy:ut.resolve()},i.xHt=function(t){var i=this.Yot.Npt;return void 0!==i&&this.PHt(t,i)},i.PHt=function(t,i){var n,r,e=b.min(t,i);return null!=(r=null==(n=this.Yot.Fx.MM().qM(this.wHt).iL(e))?void 0:n.Cr(i))&&r},i.IHt=function(t){return this.Yot.cHt(t)},i.Zg=function(){this.hT.Zg(),this.hT=new hr,this.CHt=!0},i.J2=function(t){var i=this;this.THt(),this.bHt=new Va;var n=function(n){i.DHt.RHt(t),i.NHt(n)};this.Z2(t,this.hT.Yg).then(n,n)},i.Z2=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return vj.OLt(wj,"Appending initializer",Oj(t.BHt.Syt)),this.spt=t,[4,this.eb.J2(t,i)];case 1:return n.sent(),void 0!==this.ENt&&this.Vp===eg.Mk&&aY(t.lk.lk)&&this.ENt.ght(t.lk.lk),vj.OLt(wj,"Appended initializer",Oj(t.BHt.Syt)),this.CHt=!1,this.Yot.lHt(t),[2]}})}).call(this)},i.Pdt=function(t){var i=this;this.THt(),this.bHt=new Va;var n=function(n){i.DHt.RHt(t),i.NHt(n)};this.MHt(t,this.hT.Yg).then(n,n)},i.MHt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:if(void 0===(n=t.fLt).sLt.WLt)throw new y("HlsBufferAppender: Cannot append HLSAsset to "+this.Vp+" buffer for a HLSRendition with an undefined targetDuration.");return this.CHt&&void 0!==this.spt?[4,this.Z2(this.spt,i)]:[3,2];case 1:f.sent(),f.label=2;case 2:return r=this.Yot.Fx.IM,e=this.eb.Fx,vj.OLt(wj,"Appending",Oj(t.BHt.Syt)),[4,this.eb.Q2(t,i)];case 3:return f.sent(),void 0!==t.lk&&this.LHt(t.lk,t),vj.OLt(wj,"Appended",Oj(t.BHt.Syt),r,this.Yot.Fx.IM),s=t.CO,u=s+t.ct,o=t.BHt,h=o.CO,c=o.CO+(null!=(a=o.ct)?a:0),this.Yot.elt(n,o,s,u,h,c),this.OHt(n,o,s,u,e),t.BHt.EFt&&this.Yot.F3(),[2]}})}).call(this)},i.OHt=function(t,i,n,r,e){if(this.Km===eg.Mk){var s=this.eb.Fx.qM(e),u=this.Yot.Qct(t,i);if(u)if(this.FHt(u))if(0===s.V){if(void 0===this.Yot.Oat(i)){var o=this.eb.W3.Mn(new EA([n,r]));this.yHt=this.yHt.HM(o)}}else{var h=s.Tn(0),a=new EA([h,r]);if(this.yHt=this.yHt.qM(a),h>n){var c=this.eb.W3.Mn(new EA([n,h]));this.yHt=this.yHt.HM(c)}}else{var f=s.V>0&&s.Tn(0)<n?s.Tn(0):n;this.yHt=this.yHt.qM(new EA([f,r]))}else if(0===s.V){var v=this.eb.W3.Mn(new EA([n,r]));this.yHt=this.yHt.HM(v)}else{var d;if(i.TFt)return;var l=s.Tn(0),w=null==(d=e.iL(n))?void 0:d.An(0),g=w&&w>n?w:n;if(l>g){var _=this.eb.W3.Mn(new EA([g,s.Tn(0)]));this.yHt=this.yHt.HM(_)}}}},i.FHt=function(t){var i=t._Ht,n=i.Tn(0),r=i.An(i.V-1),e=i.RM(0),s=i.NM(i.V-1);return this.yHt.GM(n,r,e,s)},i.LHt=function(t,i){var n;if(aY(t.lk)){var r=i.CO,e=r+i.ct,s=i.EU;if(null==(n=this.Opt)||n.elt(t.lk,r,s),void 0!==this.ENt&&this.Vp===eg.Mk){var u=i.BHt.EFt;this.ENt.elt(t.lk,r,e,s,i.fLt,u)}var o=[];void 0!==this.Opt&&o.push(this.Opt),void 0!==this.ENt&&o.push(this.ENt),vy(this.eb.Fx,o)}},i.UHt=function(t){this.THt(),this.bHt=new Va;try{vj.OLt(wj,"Appending gap from "+t.VHt+" to "+t.HHt,Oj(t.yut.Syt)),this.G3(t.VHt,t.HHt)}finally{this.DHt.RHt(t),this.NHt()}},i.G3=function(t,i){this.eb.G3(t,i)},Nt(t,[{key:"Km",get:function(){return this.Vp}},{key:"mHt",get:function(){return this.Yot}},{key:"wHt",get:function(){return this.yHt}},{key:"yCt",get:function(){return void 0!==this.bHt}},{key:"AHt",get:function(){return this.SHt}}]),t}();function fY(t){return sg(t.Km)}U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),Qt();var vY=function(){function t(t,i,n){this.XHt=void 0,this.aV=void 0,this.sTt=void 0,this.jHt=void 0,this.XHt=t,this.aV=i,this.sTt=n,this.jHt=void 0}var i=t.prototype;return i.zHt=function(t,i,n,r){return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.GHt(i,r)];case 1:return e=s.sent(),[4,this.XHt.zHt(t,e,n)];case 2:return[2,s.sent()]}})}).call(this)},i.GHt=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return(null==(n=this.jHt)?void 0:n.Yu)===t?[3,3]:(vj.OLt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,this.aV.vk({Yu:t,fk:Ud.NT,Hk:ml.GET,Yg:i,Km:yl.Tk,zk:pl.Nk,Xk:this.sTt})]);case 1:return[4,s.sent().qT()];case 2:r=s.sent(),e=new E(r),this.jHt={Yu:t,lk:e},s.label=3;case 3:return[2,this.jHt.lk]}})}).call(this)},t}();U(),Et(),Wt(),Qt();var dY=function(){function t(t,i,n,r,e){void 0===e&&(e=2),this.aV=void 0,this.Sut=void 0,this.qat=void 0,this.sTt=void 0,this.Srt=void 0,this.aV=t,this.Sut=i,this.qat=n,this.sTt=r,this.Srt=e}var i=t.prototype;return i.vk=function(t,i,n,r,e){return Vt(function(){var s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.QHt(t,i,n,Ud.NT,r,e)];case 1:return[4,(s=o.sent()).qT(e)];case 2:return u=o.sent(),[2,{httpStatusCode:s.dk,response:new E(u)}]}})}).call(this)},i.KHt=function(t,i,n,r,e){return Vt(function(){return zt(this,function(s){switch(s.label){case 0:return[4,this.QHt(t,i,n,Ud.MT,r,e)];case 1:return[2,s.sent().zT(e)]}})}).call(this)},i.QHt=function(t,i,n,r,e,s){return Vt(function(){var u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:u=this,t.iAt&&0===(o=Rj(t.iAt.Tn,t.iAt.V))[0]&&o[1]===bn&&(o=void 0),h=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,a=new Al({Yu:t.XE,fk:r,_k:h,Xk:this.sTt,Hk:ml.GET,Km:i,zk:n,Gk:this.qat,Kk:r===Ud.MT,jk:e,Yg:s}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.Sut.Aut(t.XE,o)];case 2:return c=f.sent(),dr(s),void 0!==c?(null==e||e(c.buffer.byteLength,c.buffer.byteLength),[2,new _l({vk:a,fk:a.fk,lk:c.buffer})]):[3,4];case 3:return lr(f.sent()),[3,4];case 4:return[4,mT(function(){return gr(u.aV.vk(a),a.Yg)},s,this.Srt)];case 5:return[2,f.sent()]}})}).call(this)},t}();U(),Et(),Wt(),Qt();var lY=function(){function t(t,i){this.nEt=void 0,this.JHt=void 0,this.sWt=void 0,this.hWt=new hr,this.En=-1/0,this.$Ht=void 0,this.nWt=!1,this.nEt=t,this.JHt=i,this.iWt()}var i=t.prototype;return i.YHt=function(){return this.JHt.sLt.xOt},i.ZHt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:if(!this.YHt())throw new y("Could not perform blocking playlist update.");return r=this.$Ht,e={LOt:t,kUt:i},void 0!==r&&function(t,i,n){if(t.LOt===i.LOt){if(t.kUt===i.kUt)return!0;if(0===t.kUt&&void 0===i.kUt)return!0}if(t.LOt===i.LOt+1&&0===t.kUt&&void 0!==i.kUt){var r=n.Oat(i.LOt);if(r&&r.Syt&&i.kUt>=r.QOt.length)return!0}return!1}(r,e,this.JHt.sLt)?[3,2]:[4,this.tWt()];case 1:s.sent(),this.iWt(e),s.label=2;case 2:return[2,this.nEt.QVt(this.JHt,n)]}})}).call(this)},i.eWt=function(t){return this.iWt(),this.nEt.QVt(this.JHt,t)},i.iWt=function(t){var i=this;if(!this.sWt&&!this.nWt){var n=function(){i.sWt=void 0};this.sWt=this.rWt(t,this.hWt.Yg).then(n,n)}},i.tWt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.sWt?(this.hWt.Zg(),this.hWt=new hr,[4,this.sWt.catch(dn)]):[3,2];case 1:t.sent(),this.sWt=void 0,t.label=2;case 2:return[2]}})}).call(this)},i.rWt=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:n=t,u.label=1;case 1:if(dr(i),this.JHt.sLt.iFt&&this.JHt.sLt.vUt)return[2];null!=n||(n=this.oWt()),this.$Ht=n,u.label=2;case 2:return u.trys.push([2,9,,10]),n?[4,this.nEt.zVt(this.JHt,n.LOt,n.kUt,i)]:[3,4];case 3:return u.sent(),[3,8];case 4:return r=Ui.Mg()-this.En,e=1e3*this.JHt.sLt.gUt,r<e?[4,Ar(e-r,i)]:[3,6];case 5:u.sent(),u.label=6;case 6:return[4,this.nEt.jVt(this.JHt,i)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:throw s=u.sent(),this.$Ht=void 0,lr(s),this.nEt.XVt(this.JHt),s;case 10:return n=void 0,this.En=Ui.Mg(),[3,1];case 11:return[2]}})}).call(this)},i.oWt=function(){var t=this.JHt.sLt;if(t.xOt&&!t.iFt&&0!==t.bct.length){var i=t.bct[t.bct.length-1];return i.Syt?{LOt:i.LOt+1,kUt:t.fUt?0:void 0}:{LOt:i.LOt,kUt:i.QOt.length}}},i.zg=function(){this.nWt=!0,kr(this.tWt())},t}();U(),Et();var wY=function(t){return t[t.JLt=0]="JLt",t[t.ZLt=1]="ZLt",t[t.Ak=2]="Ak",t[t.Sk=3]="Sk",t}({});U(),Et(),Wt(),Qt(),U(),Et(),Wt(),xt(),Ft(),Qt();var gY="AssetExtractor",_Y=function(){function t(){this.uWt=[]}var i=t.prototype;return i.aWt=function(t,i,n){for(var r,e=i,s=Lt(this.uWt);!(r=s()).done;){var u=r.value;if(e>=t)return!0;if(e<u.Tn)return!1;if(e<u.An){if(n<=u.An)return!0;e=u.An}}return e>=t},i.cWt=function(t,i){for(var n=[],r=0;r<this.uWt.length;r+=1){var e=this.uWt[r],s=t-e.Tn,u=e.lk.length,o=b.min(u,b.max(s,0)),h=b.max(0,i+s),a=ka(e.lk,o,h);a.length&&(r=this.dWt(r,e,t,o,h),n.push(a))}return n},i.lWt=function(t,i){this.uWt.push({Tn:t,An:t+i.length,lk:i})},i.dWt=function(t,i,n,r,e){var s=t;this.uWt.splice(s,1),s-=1,i.Tn<n&&(s+=1,this.uWt.splice(s,0,{Tn:i.Tn,An:n,lk:ka(i.lk,0,r)}));var u=n+e-r;return u<i.An&&(s+=1,this.uWt.splice(s,0,{Tn:u,An:i.An,lk:ka(i.lk,e)})),s},t}(),mY=function(){function t(t,i){this.vWt=void 0,this.Wd=void 0,this.vWt=i,this.Wd=t.getReader()}var i=t.prototype;return i._Wt=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,this.Wd.read()];case 1:if((t=i.sent()).done)throw this.vWt=1/0,new y("No more data can be read from the given stream.");return this.vWt+=t.value.length,[2,t.value]}})}).call(this)},i.gWt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.Wd.cancel(t)];case 1:return i.sent(),[2]}})}).call(this)},Nt(t,[{key:"fWt",get:function(){return this.vWt}}]),t}(),yY=function(){function t(t,i,n,r){this.NFt=void 0,this.Wd=void 0,this.yWt=void 0,this.SWt=void 0,this.bWt=void 0,this.mWt=void 0,this.TWt=new Va,this.NFt=t,this.Wd=i,this.yWt=n,this.SWt=r,this.bWt=new Va,this.mWt=new Va}var i=t.prototype;return i.pWt=function(){this.mWt.Qy(),this.mWt=new Va},i.wWt=function(t){var i=kY(this.NFt.iAt),n=i.eAt,r=i.sAt,e=this.yWt.cWt(n,r-n);vj.OLt(gY,"Collected "+e.length+" chunks.");for(var s,u=Lt(e);!(s=u()).done;){var o=s.value;t.enqueue(o)}},i.readAndSliceOutAssetBytes=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:return[4,this.bWt.Yy];case 1:l.sent(),i=kY(this.NFt.iAt),n=i.eAt,r=i.sAt,l.label=2;case 2:l.trys.push([2,11,,12]),l.label=3;case 3:return e=this.Wd.fWt,[4,this.Wd._Wt()];case 4:return s=l.sent(),u=s.length,vj.OLt(gY,"Read "+u+" at "+e+" for extraction of "+Oj(this.NFt)),o=b.min(e+u,n),(h=o-e)>0?(a=ka(s,0,h),c=ka(s,h),vj.OLt(gY,"Of the read "+u+" bytes, the first "+h+" will be stored locally for extraction of "+Oj(this.NFt)),this.yWt.lWt(e,a),c.length>0?(vj.OLt(gY,"Extracting "+c.length+" bytes for extraction of "+Oj(this.NFt)),t.enqueue(c),this.pWt(),[2,kr(this.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return e+u<=r?(vj.OLt(gY,"Extracting the read data range for extraction of "+Oj(this.NFt)),t.enqueue(s),this.pWt(),[2,kr(this.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return v=ka(s,0,f=r-e),d=ka(s,f),v.length>0&&(vj.OLt(gY,"Extracting "+v.length+" bytes for extraction of "+Oj(this.NFt)),t.enqueue(v)),vj.OLt(gY,"Of the read "+u+" bytes, the last "+d.length+" will be stored locally for extraction of "+Oj(this.NFt)),this.yWt.lWt(e+f,d),vj.OLt(gY,"Extraction of "+Oj(this.NFt)+" completed as the entire request has been fulfilled."),this.AWt(t),this.SWt?(vj.OLt(gY,"Aborting stream upstream as no more bytes are needed from "+Oj(this.NFt)+"."),[4,this.Wd.gWt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return l.sent(),vj.OLt(gY,"Extraction of "+Oj(this.NFt)+" completed as the entire source stream has been read."),this.AWt(t),[3,12];case 12:return[2]}})}).call(this)},i.AWt=function(t){t.close(),this.pWt(),this.TWt.Qy()},i.start=function(t){vj.OLt(gY,"Preparing to push all collected data to controller for extraction of "+Oj(this.NFt)),this.wWt(t),vj.OLt(gY,"Collected data pushed to controller for extraction of "+Oj(this.NFt));var i=kY(this.NFt.iAt).sAt;this.Wd.fWt>=i?(vj.OLt(gY,"Extraction of "+Oj(this.NFt)+" completed as the entire request has been fulfilled."),this.AWt(t)):(vj.OLt(gY,"Continuing read from original stream for extraction of "+Oj(this.NFt)),kr(this.readAndSliceOutAssetBytes(t)))},i.pull=function(){return this.bWt.Qy(),this.bWt=new Va,this.mWt.Yy},Nt(t,[{key:"kWt",get:function(){return this.TWt.Yy}}]),t}(),pY=function(){function t(t,i){this.NFt=void 0,this.yWt=void 0,this.EWt=void 0,this.xWt=void 0,this.NFt=i;var n=kY(this.NFt.iAt).eAt;this.EWt=new mY(t,n),this.yWt=new _Y}var i=t.prototype;return i.pO=function(t){if(!Mj(this.NFt,t))return!1;var i=kY(t.iAt),n=i.eAt,r=i.sAt;return this.yWt.aWt(this.EWt.fWt,n,r)},i.Fgt=function(t,i){return void 0===i&&(i=!1),Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return n=this.EWt,r=this.yWt,vj.cN(gY,"Extracting data from "+Oj(t)+" out of "+Oj(this.NFt)),this.xWt?(vj.OLt(gY,"Awaiting previous extraction before extracting "+Oj(t)+" out of "+Oj(this.NFt)),[4,this.xWt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!this.pO(t))throw new y("The extractor does not contain the data requested");return e=new yY(t,n,r,i),this.xWt=e.kWt,[2,new jd(e)]}})}).call(this)},t}();function kY(t){if(t){var i=t.Tn;return{eAt:i,sAt:void 0!==t.V?i+t.V:bn}}return{eAt:0,sAt:bn}}var bY=function(){function t(t,i){this.NFt=void 0,this.PWt=void 0,this.hT=void 0,this.Ypt=void 0,this.NFt=t,this.PWt=i,this.hT=new hr,this.Ypt=this.Un()}var i=t.prototype;return i.Un=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,this.PWt.KHt(this.NFt,yl.Sk,pl.yk,void 0,this.hT.Yg)];case 1:return t=i.sent(),[2,new pY(t,this.NFt)]}})}).call(this)},i.pO=function(t){return Mj(this.NFt,t)},i.Fgt=function(t,i){return void 0===i&&(i=!1),Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.Ypt];case 1:return[4,gr(n.sent().Fgt(t,i),this.hT.Yg)];case 2:return[2,n.sent()]}})}).call(this)},i.Zg=function(){this.Ypt.catch(dn),this.hT.Zg()},t}();U(),Et(),Pt();var AY=function(t){function i(i){var n;return(n=t.call(this,PY.IWt)||this).Gk=void 0,n.Gk=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var TY=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this,PY.CWt)||this).uri=void 0,h.RWt=void 0,h.Gk=void 0,h.mediaSequenceNumeber=void 0,h.mediaTrackId=void 0,h.DWt=void 0,h.httpStatusCode=void 0,h.uri=i,h.RWt=n,h.Gk=r,h.mediaSequenceNumeber=e,h.mediaTrackId=s,h.DWt=u,h.httpStatusCode=o,h}return Ct(i,t),i}(rh);function SY(t,i,n){var r=UQ(n)?n:n.PFt;if(i.zUt(r.$Ot)){if(void 0!==n.Get)return i.$Ut(n.Get,n).rF();if(n!==r&&void 0!==r.Get){var e=i.$Ut(r.Get,r).rF();return n.CO+(e-r.CO)}}var s=t.sLt.Oat(r.LOt-1);if(void 0!==s&&i.zUt(s.$Ot)){if(s.QOt.length>0){var u=s.OFt(s.QOt.length-1);if(void 0!==u.Get){var o=i.$Ut(u.Get,u).rF();return n.CO+(o-u.CO)}}if(void 0!==s.Get){var h=i.$Ut(s.Get,s).rF();return n.CO+(h-s.CO)}}var a=t.sLt.Oat(r.LOt+1);if(void 0!==a&&i.zUt(a.$Ot)){if(a.QOt.length>0){var c=a.OFt(0);if(void 0!==c.Get){var f=i.$Ut(c.Get,c).rF();return n.CO+(f-c.CO)}}if(void 0!==a.Get){var v=i.$Ut(a.Get,a).rF();return n.CO+(v-a.CO)}}return n.CO}function EY(t){return void 0!==t.Get}function IY(t,i,n,r){for(var e=i;e<t.length;e++){var s=t[e];if(s.$Ot!==n)break;if(EY(s))if(r(s,e))break}}function RY(t,i,n,r){for(var e=i;e>=0;e--){var s=t[e];if(s.$Ot!==n)break;if(EY(s))if(r(s,e))break}}U(),Et();var CY="HlsPlaylistDownloader",PY=function(t){return t.IWt="NWt",t.CWt="BWt",t}({}),DY=function(t){function i(i,n,r,e,s,u,o,h){var a;return(a=t.call(this)||this).Vp=void 0,a.nEt=void 0,a.DHt=void 0,a.PWt=void 0,a.Sqt=void 0,a.JHt=void 0,a.LWt=void 0,a.OWt=void 0,a.WWt=void 0,a.Tqt=void 0,a.kqt=0,a.Eqt=0,a.xqt=0,a.Pqt=0,a.GWt=new hr,a.XWt=void 0,a.FWt=0,a.UWt=void 0,a.VWt=void 0,a.HWt=!1,a.QWt=void 0,a.jWt=void 0,a.uqt=0,a.iqt=function(t){a.OWt&&(a.JHt=a.OWt,a.OWt=void 0,a.FWt=0,a.UWt=void 0,a.VWt=void 0,a.HWt=!1),a.WWt&&(t&&!vr(t)?a.WWt.Ky(t):(a.uqt=0,a.WWt.Qy()),a.WWt=void 0)},a.bqt=function(t,i){a.xqt=t,t>0&&0===a.kqt&&(a.kqt=Ui.Mg()),void 0!==i&&(a.Pqt=i),a.So(new AY(a.Vp))},a.Vp=i,a.nEt=r,a.DHt=e,a.JHt=n,a.LWt=new lY(r,n),a.Sqt=new vY(o,s,h),a.PWt=new dY(s,u,function(t){switch(t){case Dj.Mk:return kl.Mk;case Dj.Bk:return kl.Bk;case Dj.HU:case Dj.YLt:return kl.LT;default:return kl.yk}}(n.Km),h),a}Ct(i,t);var n=i.prototype;return n.MWt=function(t){this.LWt.zg(),this.LWt=new lY(this.nEt,t),this.yCt?this.OWt=t:(this.JHt=t,this.FWt=0,this.UWt=void 0,this.VWt=void 0,this.HWt=!1)},n.EHt=function(){return this.WWt?this.WWt.Yy:ut.resolve()},n.zWt=function(){return this.DHt.zWt()},n.Zg=function(){var t,i,n;this.GWt.Zg(),this.GWt=new hr,null==(t=this.XWt)||t.Zg(),this.XWt=void 0,null==(i=this.jWt)||i.Zg(),null==(n=this.QWt)||n.Zg(),this.jWt=void 0,this.QWt=void 0,this.FWt=0,this.UWt=void 0,this.VWt=void 0,this.HWt=!1},n.zg=function(){this.LWt.zg(),this.Vo()},n.KWt=function(t){var i=this.JHt.sLt.xUt(t);if(!i)return!1;if(void 0!==this.UWt){var n=i.LOt===this.UWt;return void 0!==this.VWt?i.FFt(t)===i.OFt(this.VWt)&&n:n}return!1},n.YWt=function(t){var i,n;if(!this.qWt&&(void 0===this.UWt||t<this.FWt-1e-6))i=this.JWt(t);else if(void 0!==(i=this.ZWt(null!=(n=this.UWt)?n:0,this.VWt))){var r=i[0],e=i[1],s=SY(this.JHt,this.nEt.Br.AM,null!=e?e:r),u=3*this.JHt.sLt.WLt;b.abs(s-t)>=u&&(i=this.JWt(t))}else if(this.JHt.sLt.iFt&&void 0!==this.UWt){if(this.JHt.sLt.Oat(this.UWt).EFt&&void 0!==(i=this.JWt(t))&&i[0].LOt===this.UWt)return}if(i){this.FWt=t;var o=i[0],h=i[1];return 0===(null==h?void 0:h.CFt)&&void 0!==o.ct?[o,void 0]:[o,h]}},n.JWt=function(t){var i,n,r=this.JHt.sLt.bct;if(0!==r.length){var e,s=this.nEt.Br.AM,u=m_.hU(t),o=function(t,i,n){var r=t.sLt.bct;if(0!==r.length){var e=t.sLt.PUt(n.rF());if(i.zUt(e.$Ot)){var s,u,o,h=e.LOt-r[0].LOt,a=e.$Ot,c=0;if(!(RY(r,h,a,function(t,i){return s=t,c=i,!0}),void 0===s&&(IY(r,h+1,a,function(t,i){return s=t,c=i,!0}),void 0===s)||(i.$Ut(s.Get,s).cF(n)?(u=s,IY(r,c+1,a,function(t){return i.$Ut(t.Get,t).hF(n)?(o=t,!0):(u=t,!1)})):(o=s,RY(r,c-1,a,function(t){return i.$Ut(t.Get,t).cF(n)?(u=t,!0):(o=t,!1)})),void 0===u||void 0===o)))return[u,o]}}}(this.JHt,s,u);if(void 0!==o){var h=o[0],a=o[1],c=s.$Ut(h.Get,h),f=s.$Ut(a.Get,a),v=u.gF(c).rF()/f.gF(c).rF()*(a.CO-h.CO);e=h.CO+v}else e=t;var d=r[r.length-1];return d.RO<=e?(i=d,n=d.VFt(e)):n=r[0].CO>e?(i=r[0]).OFt(0):null==(i=this.JHt.sLt.xUt(e))?void 0:i.VFt(e),i?[i,n]:void 0}},n.ZWt=function(t,i){var n,r;if((n=this.JHt.sLt.Oat(t))&&void 0!==i){if(0===n.QOt.length)return[n,void 0];r=n.OFt(i+1)}return void 0!==n&&void 0!==r||(r=null==(n=this.JHt.sLt.Oat(t+1))?void 0:n.OFt(0)),n?[n,r]:void 0},n.THt=function(){if(this.yCt)throw new y("Cannot perform new operation while PlaylistDownloader is still busy")},n.$Wt=function(t,i){this.THt(),this.WWt=new Va;var n=hr.ep([i,this.GWt.Yg]);this.tqt(t,n.Yg).then(this.iqt,this.iqt)},n.eqt=function(){this.LWt.iWt()},n.tqt=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return this.JHt.sLt.iFt?[2]:(n=this.YWt(t))||!this.LWt.YHt()||void 0===this.UWt?[3,2]:[4,this.LWt.ZHt(void 0===this.VWt?this.UWt+1:this.UWt,void 0!==this.VWt?this.VWt+1:void 0,i)];case 1:e.sent(),n=this.YWt(t),e.label=2;case 2:return n||!this.LWt.YHt()||void 0===this.UWt?[3,4]:[4,this.LWt.ZHt(this.UWt+1,0,i)];case 3:e.sent(),n=this.YWt(t),e.label=4;case 4:return n?[3,6]:(vj.cN(CY,"No next segment / part available, need to update playlist before continuing."),[4,this.LWt.eWt(i)]);case 5:return e.sent(),r=this.fLt.sLt.bct,r[0].CO>t&&(this.VWt=void 0,this.UWt=void 0,this.HWt=!1),r[r.length-1].LOt<this.UWt&&(this.VWt=void 0,this.UWt=void 0,this.HWt=!1),n=this.YWt(t),[3,4];case 6:return[2]}})}).call(this)},n.sqt=function(){return this.DHt.nqt()},n.rqt=function(){this.THt();try{var t=this.JHt.sLt.IUt(Nj.JLt);t&&this.hqt(t);var i=this.JHt.sLt.IUt(Nj.ZLt);i&&this.oqt(i)}catch(t){throw lr(t),this.JHt.sLt.bUt=Ui.Mg(),this.nEt.XVt(this.JHt),t}},n.hqt=function(t){this.QWt&&!this.QWt.pO(t.Syt)&&(this.QWt.Zg(),this.QWt=void 0),this.QWt||(this.QWt=new bY(t.Syt,this.PWt))},n.oqt=function(t){this.jWt&&!this.jWt.pO(t.Syt)&&(this.jWt.Zg(),this.jWt=void 0),this.jWt||(this.jWt=new bY(t.Syt,this.PWt))},n.Lat=function(t,i,n){var r=this;this.THt(),vj.cN(CY,"Starting download of segment "+Oj(t.Syt)+" and part "+(null==i?void 0:i.CFt)),this.WWt=new Va,this.aqt(t,i,n,this.GWt.Yg).catch(function(i){lr(i),r.JHt.sLt.bUt=Ui.Mg(),r.nEt.XVt(r.JHt);var n=Yl(i)?i.uE.dk:void 0,e=new ld(vd.NETWORK_ERROR,i.message,i.cause),s=new KM(t.CO,e,r.Vp,void 0,void 0,r.uqt++,n);throw r.So(s),i}).then(this.iqt,this.iqt)},n.aqt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:return e=this,t.YOt&&(n&&Lj(n.BHt.Syt,null==(u=t.YOt)?void 0:u.Syt)&&t.$Ot===n.$Ot||(null==(h=this.XWt)||h.Zg(),this.XWt=new Va,a=this.cqt(t.YOt,t,r).then(function(){e.XWt=void 0}),this.XWt.$g(a)),s=null==(o=this.XWt)?void 0:o.Yy),t.EOt||i&&i.EOt?[4,this.dqt(t,i,s,r)]:[3,2];case 1:return c.sent(),[3,4];case 2:return[4,this.lqt(t,i,s,r)];case 3:c.sent(),c.label=4;case 4:return[2]}})}).call(this)},n.cqt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.fqt(t,i,n)];case 1:return r=s.sent(),e=r.YOt.lk.lk.byteLength,this.DHt.vqt(r),this.So(new TY(r.YOt.BHt.Syt,r.Km,this.Vp,i.LOt,r.fLt.JI,e,r.YOt.jut)),vj.OLt(wj,"Download initializer complete",Oj(t.Syt)),[2]}})}).call(this)},n.lqt=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this._qt(t,i,r)];case 1:return e=o.sent(),s=e.yut.lk.lk.byteLength,n?[4,gr(n,r)]:[3,3];case 2:o.sent(),o.label=3;case 3:return this.DHt.vqt(e),this.So(new TY(e.yut.BHt.Syt,e.Km,this.Vp,t.LOt,e.fLt.JI,s,e.yut.jut)),vj.OLt(wj,"Download complete",Oj(null!=(u=null==i?void 0:i.Syt)?u:t.Syt)),[2]}})}).call(this)},n.dqt=function(t,i,n,r){return Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=this.gqt(t,i),n?[4,gr(n,r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.DHt.vqt(e),vj.OLt(wj,"Download gap complete",Oj(null!=(s=null==i?void 0:i.Syt)?s:t.Syt)),[2]}})}).call(this)},n._qt=function(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i?this.jWt?this.jWt.pO(i.Syt)?[4,this.jWt.Fgt(i.Syt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Zd(o.sent(),n)];case 2:return e=o.sent(),s=new E(e),[4,this.zHt(s,i.UW,n)];case 3:return u=o.sent(),r=BY(i,u,200),[3,5];case 4:this.jWt.Zg(),this.jWt=void 0,o.label=5;case 5:return r?[3,7]:(vj.OLt(wj,"Start download",Oj(i.Syt)),[4,this.pqt(i,n)]);case 6:r=o.sent(),o.label=7;case 7:return[3,10];case 8:return vj.OLt(wj,"Start download",Oj(t.Syt)),[4,this.Uat(t,n)];case 9:r=o.sent(),o.label=10;case 10:return this.UWt=t.LOt,this.VWt=null==i?void 0:i.CFt,this.HWt=!1,[2,{Km:"yut",yut:r,fLt:this.JHt,$Ot:t.$Ot}]}})}).call(this)},n.fqt=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return this.QWt?this.QWt.pO(t.Syt)?[4,gr(this.QWt.Fgt(t.Syt),n)]:[3,4]:[3,5];case 1:return[4,Zd(h.sent(),n)];case 2:return s=h.sent(),u=new E(s),[4,this.zHt(u,t.jOt?[t.jOt]:[],n)];case 3:o=h.sent(),r=NY(t,i,o,200),h.label=4;case 4:vj.cN(CY,"MAP is required for segment, downloading MAP data."),null==(e=this.QWt)||e.Zg(),this.QWt=void 0,h.label=5;case 5:return r?[3,7]:(vj.OLt(wj,"Start download",Oj(t.Syt)),[4,this.mqt(t,i,n)]);case 6:r=h.sent(),h.label=7;case 7:return[2,{Km:"YOt",YOt:r,fLt:this.JHt,CO:i.CO,$Ot:i.$Ot,UW:i.UW}]}})}).call(this)},n.gqt=function(t,i){var n=null!=i?i:t;return this.UWt=t.LOt,this.VWt=null==i?void 0:i.CFt,this.HWt=!0,{Km:"wqt",VHt:n.CO,HHt:n.CO+n.ct,fLt:this.JHt,yut:n,$Ot:t.$Ot}},n.mqt=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return[4,this.PWt.vk(t.Syt,yl.Ak,pl.Ek,void 0,n)];case 1:return r=h.sent(),e=r.response,s=r.httpStatusCode,u=t.jOt?[t.jOt]:[],[4,this.zHt(e,u,n)];case 2:return o=h.sent(),[2,NY(t,i,o,s)]}})}).call(this)},n.Uat=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(!t.Syt)throw new y("Internal error: attempted to download an incomplete segment");u.label=1;case 1:return u.trys.push([1,,3,4]),this.yqt(t),[4,this.PWt.vk(t.Syt,yl.Ak,pl.yk,this.bqt,i)];case 2:return e=u.sent(),n=e.response,r=e.httpStatusCode,[3,4];case 3:return this.Aqt(),[7];case 4:return[4,this.zHt(n,t.UW,i)];case 5:return s=u.sent(),[2,xY(t,s,r)]}})}).call(this)},n.pqt=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return u.trys.push([0,,2,3]),this.yqt(t),[4,this.PWt.vk(t.Syt,yl.Ak,pl.yk,this.bqt,i)];case 1:return e=u.sent(),n=e.response,r=e.httpStatusCode,[3,3];case 2:return this.Aqt(),[7];case 3:return[4,this.zHt(n,t.UW,i)];case 4:return s=u.sent(),[2,BY(t,s,r)]}})}).call(this)},n.zHt=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return(r=Fn(i,function(t){return t.Hk===xj.$Lt}))?r.Syt&&r.SOt?[4,this.Sqt.zHt(t,r.Syt,r.SOt,n)]:(vj.lt(CY,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,e.sent()]}})}).call(this)},n.yqt=function(t){var i,n,r;this.Tqt=t,this.kqt=0,this.Eqt=Ui.Mg(),this.xqt=0,this.Pqt=null!=(r=null==(n=t.Syt)||null==(i=n.iAt)?void 0:i.V)?r:0},n.Aqt=function(){this.Tqt=void 0,this.kqt=0,this.Eqt=0,this.xqt=0,this.Pqt=0},n.Iqt=function(){if(void 0!==this.Tqt)return{yut:this.Tqt,Cqt:this.xqt,Rqt:this.Pqt,Dqt:Ui.Mg()-this.Eqt}},n.Nqt=function(t){return void 0!==this.Tqt&&(0!==this.kqt&&(!(this.Pqt>0&&this.xqt>=this.Pqt)&&!(t-this.kqt<500)))},Nt(i,[{key:"yCt",get:function(){return void 0!==this.WWt}},{key:"qWt",get:function(){return this.HWt}},{key:"fLt",get:function(){var t;return null!=(t=this.OWt)?t:this.JHt}},{key:"jCt",get:function(){if(!this.JHt.sLt.iFt||void 0===this.UWt)return!1;var t=this.JHt.sLt.Oat(this.UWt);if(!t.EFt)return!1;if(void 0!==this.VWt&&!t.OFt(this.VWt).EFt)return!1;return!0}}]),i}(th);function NY(t,i,n,r){return{lk:{lk:n,Km:zR.wZ},Km:wY.JLt,jut:r,BHt:t,$Ot:i.$Ot}}function xY(t,i,n){return{lk:{lk:i,Km:zR.wZ},Km:wY.Ak,jut:n,BHt:t,$Ot:t.$Ot}}function BY(t,i,n){return{lk:{lk:i,Km:zR.wZ},jut:n,Km:wY.ZLt,BHt:t,$Ot:t.PFt.$Ot}}U(),Et(),xt(),Ft();var OY=function(){function t(t){this.Lqt=[],this.Fqt=Ju(),this.pVt=void 0,this.Vqt=void 0,this.Bqt=void 0,this.pVt=t}var i=t.prototype;return i.vqt=function(t){"YOt"===t.Km&&(this.Bqt=t.YOt),this.Lqt.push(t),this.Vqt&&(this.Vqt.Qy(),this.Vqt=void 0)},i.zWt=function(){return this.Lqt[0]},i.Hqt=function(t){Xn(this.Lqt,t)},i.nqt=function(){return null!=this.Vqt||(this.Vqt=new Va),this.Vqt.Yy},i.Wqt=function(t){this.qqt(t.iat).Wqt(t)},i.zqt=function(t){return this.qqt(t).zqt()},i.RHt=function(t){this.qqt(t.iat).RHt(t)},i.Gqt=function(t){var i;null==(i=this.Fqt.get(t))||i.zg()},i.Xqt=function(t){return this.qqt(t).Xqt()},i.qqt=function(t){if(this.Fqt.has(t))return this.Fqt.get(t);var i=new MY;return this.Fqt.set(t,i),i},i.jy=function(){this.jqt(),this.Qqt()},i.jqt=function(){this.Bqt=void 0,Yn(this.Lqt)},i.Qqt=function(){this.Fqt.forEach(function(t){return t.jy()})},i.zg=function(){this.Fqt.forEach(function(t){return t.zg()}),this.Fqt.clear(),this.jy(),this.Vqt&&(this.Vqt.Zg(),this.Vqt=void 0)},Nt(t,[{key:"uHt",get:function(){return this.Bqt}},{key:"Mqt",get:function(){for(var t,i=[],n=Lt(this.Lqt);!(t=n()).done;){var r=t.value;if("yut"===r.Km){var e,s=r.yut.BHt,u=SY(r.fLt,this.pVt,s);i.push({yut:s,fLt:r.fLt,CO:u,RO:u+(null!=(e=s.ct)?e:0)})}else"wqt"===r.Km&&i.push({yut:r.yut,fLt:r.fLt,CO:r.VHt,RO:r.HHt})}return i}},{key:"Oqt",get:function(){var t=[];return this.Fqt.forEach(function(i){for(var n,r=Lt(i.Uqt);!(n=r()).done;){var e=n.value;"yut"===e.Km?t.push({yut:e.BHt,fLt:e.fLt,CO:e.CO,RO:e.CO+e.ct}):"wqt"===e.Km&&t.push({yut:e.yut,fLt:e.fLt,CO:e.VHt,RO:e.HHt})}}),t}}]),t}(),MY=function(){function t(){this.Kqt=[],this.Yqt=void 0}var i=t.prototype;return i.Wqt=function(t){this.Kqt.push(t),this.Yqt&&(this.Yqt.Qy(),this.Yqt=void 0)},i.zqt=function(){return this.Kqt[0]},i.RHt=function(t){Xn(this.Kqt,t)},i.Xqt=function(){return null!=this.Yqt||(this.Yqt=new Va),this.Yqt.Yy},i.jy=function(){Yn(this.Kqt)},i.zg=function(){this.jy(),this.Yqt&&(this.Yqt.Zg(),this.Yqt=void 0)},Nt(t,[{key:"Uqt",get:function(){return this.Kqt}}]),t}();U(),Et(),Wt(),Pt(),Qt(),U(),Et(),xt(),Pt(),Ft(),U(),Et(),Pt();var LY=function(t){function i(i,n){var r;return(r=t.call(this,WY.Jqt)||this).fLt=void 0,r.Rrt=void 0,r.fLt=i,r.Rrt=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var FY=function(t){function i(i){var n;return(n=t.call(this,WY.Zqt)||this).fLt=void 0,n.fLt=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var UY=function(t){function i(i,n){var r;return(r=t.call(this,WY.$qt)||this).fLt=void 0,r.Olt=void 0,r.fLt=i,r.Olt=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var VY=function(t){function i(i,n){var r;return(r=t.call(this,WY.tzt)||this).fLt=void 0,r.izt=void 0,r.fLt=i,r.izt=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var HY=function(t){function i(){return t.call(this,WY.ezt)||this}return Ct(i,t),i}(rh),WY=function(t){return t.Jqt="szt",t.$qt="nzt",t.tzt="rzt",t.Zqt="hzt",t.ezt="ozt",t}({}),zY=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).DHt=void 0,e.pVt=void 0,e.uzt=void 0,e.dzt=void 0,e.hT=new hr,e.DHt=i,e.pVt=n,e.uzt=r,e}Ct(i,t);var n=i.prototype;return n.czt=function(t){for(var i,n=Lt(this.uzt);!(i=n()).done;){var r=i.value;jn(t,r)||this.DHt.Gqt(r)}this.uzt=t},n.EHt=function(){var t,i;return null!=(i=null==(t=this.dzt)?void 0:t.Yy)?i:ut.resolve()},n.THt=function(){if(this.yCt)throw new y("Cannot perform new operation while transmuxer is still busy")},n.lzt=function(t,i){},n.fzt=function(t){var i=this;this.THt(),this.dzt=new Va;var n=function(n){i.vzt(t,n)};this._zt(t,this.hT.Yg).then(n,n)},n.gzt=function(t){var i=this;this.THt(),this.dzt=new Va;var n=function(n){i.vzt(t,n)};this.pzt(t,this.hT.Yg).then(n,n)},n.mzt=function(t){this.THt(),this.dzt=new Va;try{for(var i,n=Lt(this.azt);!(i=n()).done;){var r={Km:"wqt",iat:i.value,VHt:t.VHt,HHt:t.HHt,$Ot:t.$Ot,fLt:t.fLt,yut:t.yut};this.Wqt(r)}}finally{this.vzt(t)}},n.vzt=function(t,i){this.dzt&&(!i||vr(i)||function(t){return V(t,WQ)}(i)?(vr(i)||this.DHt.Hqt(t),this.dzt.Qy(),this.dzt=void 0):this.dzt.Ky(i),this.So(new HY))},n.wzt=function(t,i){this.So(new LY(t,i))},n.yzt=function(t,i){this.So(new UY(t,i))},n.bzt=function(t,i,n){VQ(i)&&this.So(new VY(t,n))},n.Azt=function(t){this.So(new FY(t))},n.Wqt=function(t){jn(this.uzt,t.iat)&&this.DHt.Wqt(t)},n.Szt=function(t){return this.DHt.zqt(t)},n.RHt=function(t){this.DHt.RHt(t)},n.Tzt=function(t){return this.DHt.Xqt(t)},n.Zg=function(){this.hT.Zg(),this.hT=new hr},Nt(i,[{key:"azt",get:function(){return this.uzt}},{key:"yCt",get:function(){return void 0!==this.dzt}}]),i}(th);function XY(t,i){return VQ(t)?0:b.min(t.CO,i)}function qY(t,i){var n;return b.max(t.CO,i)+(null!=(n=t.ct)?n:0)}var GY=function(t){function i(i,n,r){return t.call(this,i,n,[r])||this}Ct(i,t);var n=i.prototype;return n._zt=function(t,i){dr(i);var n={Km:"rRt",lk:t.YOt.lk,iat:this.azt[0],$Ot:t.$Ot,kzt:{Rrt:"",UW:t.UW},CO:t.CO,fLt:t.fLt,BHt:t.YOt.BHt};return this.Wqt(n),ut.resolve()},n.pzt=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return dr(i),void 0===(n=t.yut.BHt).Get?[3,3]:this.pVt.zUt(t.$Ot)?[3,2]:[4,gr(this.pVt.XUt(t.$Ot),i)];case 1:h.sent(),h.label=2;case 2:return r=this.pVt.$Ut(n.Get,n).rF(),[3,4];case 3:r=n.CO,h.label=4;case 4:return e=XY(n,r),s=qY(n,e),o={Km:"yut",lk:t.yut.lk,iat:this.azt[0],VHt:e,HHt:s,CO:r,ct:null!=(u=n.ct)?u:0,EU:0,$Ot:t.$Ot,fLt:t.fLt,BHt:t.yut.BHt},this.Wqt(o),[2]}})}).call(this)},i}(zY);function jY(t,i){for(var n,r=function(){var r=n.value,s=r.CO;if(r.fLt.sLt.iFt&&VQ(r.yut))s=0;else{var u=function(t){return r.fLt===t.fLt&&HQ(t.yut,r.yut)},o=Fn(t,u);if(void 0!==o)s=b.min(s,o.RO);else{var h=Fn(i,u);void 0!==h&&(s=b.min(s,h._Ht.An(0)))}}e=e.HM(EA.nL(s,r.RO))},e=EA.rL(),s=Lt(t);!(n=s()).done;)r();return e}U(),Et(),Ft();var QY=.001,YY=function(){function t(t,i,n,r,e,s){this.Pzt=void 0,this.Rzt=void 0,this.Izt=void 0,this.Dzt=void 0,this.Nzt=void 0,this.Mz=void 0,this.xzt=void 0,this.Pzt=t,this.Rzt=i,this.Izt=n,this.Dzt=r,this.Nzt=e,this.Mz=s,this.xzt=[]}var i=t.prototype;return i.MWt=function(t){this.Pzt.MWt(t)},i.Czt=function(t){for(var i,n=function(t){var n=i.xzt[t];if(!fY(n))throw new y("Invalid state");var r=Hn(e,function(t){return t.Km===n.Km});r>=0&&!n.AHt?(n.kHt(e[r]),qn(e,r)):qn(i.xzt,t)},r=this.xzt.length>0,e=t.slice(),s=this.xzt.length-1;s>=0;s--)i=this,n(s);for(var u,o=Lt(e);!(u=o()).done;){var h=u.value,a=new sY(h);this.xzt.push(new cY(h.Km,h,this.Rzt,a,this,this.Dzt,this.Nzt))}r&&e.length>0&&this.Rzt.jy();var c=t.map(function(t){return t.Km});this.Izt.czt(c)},i.iJ=function(t){var i,n=(null==(i=this.Mz)?void 0:i.iJ(t))||!1;return n&&(this.Zg(),this.Rzt.jy()),n},i.Bzt=function(t){var i=this.xzt[0];if(void 0!==i){if(i.Km!==eg.LT||i.yCt)throw new y("Invalid state");if(!i.AHt)return void i.kHt(t)}var n=new sY(t),r=new cY(eg.LT,t,this.Rzt,n,this,void 0,void 0);this.xzt=[r]},i.Bat=function(){for(var t,i=Lt(this.xzt);!(t=i()).done;){t.value.mHt.fHt()}},i.Tdt=function(t){var i=this.Mzt.iL(t,QY);return i?i.An(i.V-1):t},i.KWt=function(t){return!!this.Mzt.iL(t,QY)||this.Pzt.KWt(t)},i.Ozt=function(t){return this.Lzt.Cr(t,QY)},i.Fzt=function(t,i,n){for(var r,e=Lt(this.xzt);!(r=e()).done;){var s=r.value.mHt,u=s.Npt;if(void 0!==u&&i>=u&&!s.Fx.MM().Cr(u))return!0}return i-t<n},i.Zg=function(){this.Uzt(),this.Vzt()},i.Uzt=function(){this.Pzt.Zg()},i.Vzt=function(){this.Izt.Zg(),this.Ezt.forEach(function(t){return t.Zg()})},i.zg=function(){this.Zg(),this.Pzt.zg()},Nt(t,[{key:"Ezt",get:function(){return this.xzt}},{key:"fLt",get:function(){return this.Pzt.fLt}},{key:"yCt",get:function(){return this.Pzt.yCt||this.Izt.yCt||this.xzt.some(function(t){return t.yCt})}},{key:"uHt",get:function(){var t=this.Rzt.uHt;if(t)return t;if(this.xzt.length>0){var i=this.xzt[0].mHt.uHt;if(i&&this.xzt.every(function(t){return t.mHt.uHt===i}))return i}}},{key:"Mzt",get:function(){var t,i=jY(this.Rzt.Mqt.concat(this.Rzt.Oqt),Jn(this.xzt,function(t){return t.mHt.bct})).MM();if(0===this.xzt.length)t=i;else{t=EA.hL();for(var n,r=Lt(this.xzt);!(n=r()).done;){var e=n.value;t=t.Mn(e.mHt.Fx)}for(var s,u=Lt(this.xzt);!(s=u()).done;){var o=s.value;t=t.qM(o.wHt)}t=t.HM(i)}return t.VM(QY)}},{key:"Lzt",get:function(){var t,i=jY(this.Rzt.Oqt,Jn(this.xzt,function(t){return t.mHt.bct})).MM();if(0===this.xzt.length)t=i;else{t=EA.hL();for(var n,r=Lt(this.xzt);!(n=r()).done;){var e=n.value;t=t.Mn(e.mHt.Fx)}t=t.HM(i)}return t}}]),t}();U(),Et(),Pt();var KY=function(t){function i(){return t.call(this,JG.iLt)||this}return Ct(i,t),i}(rh);U(),Et(),Pt();var JY=function(t){function i(){return t.call(this,JG.$Mt)||this}return Ct(i,t),i}(rh);U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt();var ZY="LazyMediaBuffer",$Y=function(t){function i(i,n){var r;return(r=t.call(this)||this).Vp=void 0,r.zzt=void 0,r.jS=void 0,r.Wrt=void 0,r.Wzt=void 0,r.KY=void 0,r.ZY=void 0,r.q3=void 0,r.Vp=i,r.zzt=n,r.jS=void 0,r.Wrt=void 0,r.Wzt=new Va,r.KY=20,r.ZY=30,r.q3=new $R,r}Ct(i,t);var n=i.prototype;return n.G3=function(t,i){vj.OLt(ZY,"Marking gap from "+t+" to "+i+"."),this.q3.r$(t,i),this.Wrt&&this.Wrt.G3(t,i)},n.X3=function(t,i){vj.OLt(ZY,"Removing gap from "+t+" to "+i+"."),this.q3.h$(t,i),this.Wrt&&this.Wrt.X3(t,i)},n.Hzt=function(t){this.Wrt=t,this.Wrt.zY=this.ZY,this.Wrt.VY=this.KY;for(var i=this.q3.s$,n=0;n<i.V;n++)this.Wrt.G3(i.Tn(n),i.An(n));this.Wrt.wn(HR.pZ,this.Rs),this.Wzt.Qy(t)},n.qzt=function(t){return gr(this.Wzt.Yy,t)},n.Q2=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.qzt(n)];case 1:return[4,r.sent().Q2(t,i,n)];case 2:return r.sent(),[2]}})}).call(this)},n.j3=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.qzt()];case 1:return[4,t.sent().j3()];case 2:return t.sent(),[2]}})}).call(this)},n.J2=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.qzt(n)];case 1:return[4,r.sent().J2(t,i,n)];case 2:return r.sent(),[2]}})}).call(this)},n.pS=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,this.qzt(n)];case 1:return[4,r.sent().pS(t,i,n)];case 2:return r.sent(),[2]}})}).call(this)},n.f3=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.qzt()];case 1:return[4,n.sent().f3(t,i)];case 2:return n.sent(),[2]}})}).call(this)},n.IZ=function(t){return!!this.Wrt&&this.Wrt.IZ(t)},n.RZ=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.qzt()];case 1:return[4,i.sent().RZ(t)];case 2:return i.sent(),[2]}})}).call(this)},n.kn=function(){var t;this.Vo(),null==(t=this.Wrt)||t.mn(HR.pZ,this.Rs),this.Wrt=void 0},Nt(i,[{key:"GT",get:function(){return this.jS}},{key:"V3",get:function(){return this.Vp}},{key:"Cd",get:function(){if(!this.Wrt)throw new ld(vd.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Wrt.Cd}},{key:"VY",get:function(){return this.KY},set:function(t){this.KY=t,this.Wrt&&(this.Wrt.VY=t)}},{key:"Fx",get:function(){return this.Wrt?this.Wrt.Fx:EA.rL()}},{key:"W3",get:function(){return this.Wrt?this.Wrt.W3:this.q3.s$}},{key:"zY",get:function(){return this.ZY},set:function(t){this.ZY=t,this.Wrt&&(this.Wrt.zY=t)}}]),i}(th),tK="LazyMediaSource",iK=function(){function t(t,i,n){this.PL=void 0,this.Gzt=void 0,this.Xzt=void 0,this.Zzt=void 0,this.aq=void 0,this.Jzt=void 0,this.Zb=void 0,this.Wet=void 0,this.jzt=void 0,this.Qzt=void 0,this.Kzt=void 0,this.Yzt=void 0,this.PL=t,this.Gzt=void 0,this.Xzt=void 0,this.Zzt=new Va,this.aq=void 0,this.Jzt=!1,this.Zb=NaN,this.Wet=!1,this.jzt=0,this.Qzt=1/0,this.Kzt=!1,this.Yzt=!1,i&&(vj.OLt(tK,"Created lazy media buffer for audio."),this.Gzt=new $Y(eg.Bk,this)),n&&(vj.OLt(tK,"Created lazy media buffer for video."),this.Xzt=new $Y(eg.Mk,this))}var i=t.prototype;return i.F4=function(t){this.Zb=t,this.aq&&this.aq.F4(t)},i.F3=function(){this.Wet=!0,this.aq&&this.aq.F3()},i.I3=function(){this.Wet=!1,this.aq&&this.aq.I3()},i.W4=function(t,i,n,r){this.jzt=t,this.Qzt=i,this.Kzt=Boolean(n),this.Yzt=Boolean(r),this.aq&&this.aq.W4(t,i,n,r)},i.IZ=function(t){return this.aq?this.aq.IZ(t):yN(this,t)},i.RZ=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:if(!this.IZ(t))throw new y("LazyMediaSource - Unable to reconfigure MediaSource.");return this.aq?[3,2]:(this.PL.G7(),[4,this.PL.Un(t)]);case 1:return r=e.sent(),S(this.Zb)||r.F4(this.Zb),this.Wet&&r.F3(),r.W4(this.jzt,this.Qzt,this.Kzt,this.Yzt),vj.OLt(tK,"The MediaSource has been loaded."),this.Jzt=!0,this.aq=r,null==(i=this.Gzt)||i.Hzt(this.aq.e4),null==(n=this.Xzt)||n.Hzt(this.aq.s4),this.Zzt.Qy(r),this.PL.X7(),[3,4];case 2:return[4,this.aq.RZ(t)];case 3:e.sent(),e.label=4;case 4:return[2]}})}).call(this)},i.NZ=function(t){this.aq.NZ(t)},i.zg=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return null==(t=this.Gzt)||t.kn(),null==(i=this.Xzt)||i.kn(),this.aq?[4,this.aq.zg()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},Nt(t,[{key:"Cd",get:function(){return{Km:Iy.SV,q4:[],fq:[]}}},{key:"e4",get:function(){return this.Gzt}},{key:"s4",get:function(){return this.Xzt}},{key:"Fx",get:function(){return this.aq?this.aq.Fx:EA.rL()}},{key:"ct",get:function(){return this.aq?this.aq.ct:this.Zb}},{key:"jZ",get:function(){return!!this.aq&&this.aq.jZ}},{key:"kP",get:function(){return this.aq?this.aq.kP:EA.hL()}}]),t}();U(),Et(),Wt(),xt(),Qt();var nK=function(){function t(t,i,n){this.Vp=void 0,this.Wrt=void 0,this.QU=void 0,this.Vp=t,this.Wrt=i,this.QU=n}var i=t.prototype;return i.$zt=function(t,i){return this.Wrt===t&&this.QU===i},i.J2=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.Wrt.Cd.GT===t.kzt.Rrt?[3,3]:(n={GT:t.kzt.Rrt},this.Wrt.IZ(n)?[4,this.Wrt.RZ(n)]:[3,2]);case 1:return r.sent(),dr(i),[3,3];case 2:throw new tP(this.Wrt.Cd.GT,t.kzt.Rrt);case 3:return[4,this.Wrt.J2(t.lk,{u2:t.fLt.JI},i)];case 4:return r.sent(),[2]}})}).call(this)},i.Q2=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return dr(i),vj.cN("HlsMediaBuffer","Got media data, appending to "+this.Vp+" MediaBuffer: "+Oj(t.BHt.Syt)),n=t.VHt+this.QU,r=t.HHt+this.QU,e={Get:t.CO+this.QU,ct:t.ct,EU:t.EU+this.QU,u2:t.fLt.JI},void 0===t.lk?[3,2]:[4,this.Wrt.Q2(t.lk,e,i)];case 1:s.sent(),s.label=2;case 2:return this.tGt(n,r),[2]}})}).call(this)},i.tGt=function(t,i){for(var n=this.Wrt.Fx,r=new EA([t,i]).qM(n),e=0;e<r.V;e++)this.Wrt.G3(r.Tn(e),r.An(e));for(var s=0;s<n.V;s++)this.Wrt.X3(n.Tn(s),n.An(s))},i.G3=function(t,i){this.Wrt.G3(t+this.QU,i+this.QU)},i.X3=function(t,i){this.Wrt.X3(t+this.QU,i+this.QU)},Nt(t,[{key:"Km",get:function(){return this.Vp}},{key:"Fx",get:function(){return this.Wrt.Fx.Ly(-this.QU).Mn(EA.hL())}},{key:"W3",get:function(){return this.Wrt.W3.Ly(-this.QU).Mn(EA.hL())}}]),t}();U(),Et(),Wt(),xt(),Ft(),Qt();var rK=1e-6,eK=function(){function t(t,i){this.iGt=void 0,this.pVt=void 0,this.rPt=EA.rL(),this.hPt=EA.rL(),this.iGt=t,this.pVt=i}var i=t.prototype;return i.$zt=function(t){return this.iGt===t},i.J2=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=t.lk.lk,this.eGt(n),this.iGt.Km!==Ng.TTML?[3,3]:this.pVt.zUt(t.$Ot)?[3,2]:[4,gr(this.pVt.XUt(t.$Ot),i)];case 1:o.sent(),o.label=2;case 2:for(r=this.sGt(n,t.$Ot),e=Lt(r);!(s=e()).done;)u=s.value,this.iGt.nV(u);o.label=3;case 3:return[2]}})}).call(this)},i.Q2=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return void 0===t.lk?[2]:(n=t.CO,r=n+t.ct,this.rPt=this.rPt.HM(EA.nL(n,r)).VM(rK),this.G3(t.VHt,t.HHt),this.X3(n,r),this.pVt.zUt(t.$Ot)?[3,2]:[4,gr(this.pVt.XUt(t.$Ot),i)]);case 1:e.sent(),e.label=2;case 2:return this.Y2(t.lk.lk,t.$Ot,t.BHt),[2]}})}).call(this)},i.Y2=function(t,i,n){this.eGt(t);for(var r,e=Lt(this.iGt.Km===Ng.WEBVTT?this.nGt(t,n):this.sGt(t,i));!(r=e()).done;){var s=r.value;this.iGt.nV(s)}},i.nGt=function(t,i){for(var n,r,e=N_(t),s=e.L,u=null!=(n=e.IU)?n:{CU:m_.SF,bh:m_.SF},o=Lt(s);!(r=o()).done;){var h=r.value,a=m_.hU(h.CO).gF(u.bh).gO(u.CU),c=this.pVt.$Ut(a,i).rF(),f=c+(h.RO-h.CO);h.YO(c,f)}return s},i.sGt=function(t,i){var n=this.pVt.ZUt(i).rF();return Dm(t,this.iGt,{TU:0,kU:1/0,EU:n},Vv)},i.eGt=function(t){this.iGt.Km===Ng.DEFAULT&&(this.iGt.Km=this.rGt(t)?Ng.WEBVTT:Ng.TTML)},i.rGt=function(t){return q_(la(ga(_a(t),0,b.min(t.byteLength,16)),new Ta))},i.G3=function(t,i){this.hPt=this.hPt.HM(EA.nL(t,i)).VM(rK)},i.X3=function(t,i){this.hPt=this.hPt.qM(EA.nL(t,i))},Nt(t,[{key:"Fx",get:function(){return this.rPt}},{key:"W3",get:function(){return this.hPt}}]),t}();function sK(t){if(t.Km===Dj.YLt&&void 0!==t.aLt){var i=t.aLt.match(/^CC([1-4])$/);if(i)return Number(i[1]);var n=t.aLt.match(/^SERVICE([\d+])$/);return n?Number(n[1]):void 0}}U(),Et(),Ft(),U(),Et(),U(),Et();var uK=function(){function t(t){this.aq=void 0,this.aq=t}var i=t.prototype;return i.zLt=function(t){var i,n,r;return null==(r=null==(n=this.aq)||null==(i=n.s4)?void 0:i.IZ(t))||r},i.GLt=function(t){var i,n,r;return null==(r=null==(n=this.aq)||null==(i=n.e4)?void 0:i.IZ(t))||r},t}();U(),Et(),ct(),Ft();function oK(t,i,n,r){void 0===r&&(r=pT.maximumBackoff);var e=function(t,i){if(void 0===i)return t;var n=i.preferredVideoCodecs,r=i.preferredAudioCodecs;if(void 0!==n){for(var e,s,u=function(){var i=s.value,n=t.filter(function(t){return t.Rrt&&t.Rrt.W9&&$C(t.Rrt.W9,i)});if(0===n.length)return"continue";if(void 0===r)return{v:n};void 0===e&&(e=n);var u=hK(n,r);return void 0!==u?{v:u}:void 0},o=Lt(n);!(s=o()).done;){var h=u();if("object"===W(h))return h.v}if(void 0!==e)return e}if(void 0!==r){var a=hK(t,r);if(void 0!==a)return a}return t}(t,i),s=aK(e,r),u=s.length>0?s:e;switch(n.WY.type){case $I.BANDWIDTH:var o=n.jY,h=u.filter(function(t){return t.IW<=o});if(h.length>0)return $n(h,function(t){return t.IW});case $I.PERFORMANCE:return Zn(u,function(t){return t.IW});case $I.QUALITY:return $n(u,function(t){return t.IW})}}function hK(t,i){for(var n,r=function(){var i=n.value,r=t.filter(function(t){return t.Rrt&&t.Rrt.q9&&$C(t.Rrt.q9,i)});return 0===r.length?"continue":{v:r}},e=Lt(i);!(n=e()).done;){var s=r();if("object"===W(s))return s.v}}function aK(t,i){return t.filter(function(t){return cK(t,i)})}function cK(t,i){var n=i+2e3,r=0===t.fFt.length||t.fFt.some(function(t){return t.sLt.bUt<Ui.Mg()-n}),e=0===t.lFt.length||t.lFt.some(function(t){return t.sLt.bUt<Ui.Mg()-n});return r&&e}function fK(t,i){return void 0===i&&(i=!1),function(n,r){void 0===r&&(r="*");var e,s,u,o=dK(n,"tag"),h=dK(null==r?"*":r,"range"),a=[],c=-1;for(;++c<h.length;)if(e=h[c].toLowerCase(),i||"*"!==e){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),e)){if(!i)return o[s];a.push(o[s])}else u.push(o[s]);o=u}return i?a:void 0}}U(),Et(),U(),Et(),ct();fK(function(t,i){return"*"===i||t===i||Lo(t,i+"-")},!0),fK(function(t,i){var n=t.split("-"),r=i.split("-"),e=0,s=0;if("*"!==r[s]&&n[e]!==r[s])return!1;for(e++,s++;s<r.length;)if("*"!==r[s]){if(!n[e])return!1;if(n[e]!==r[s]){if(1===n[e].length)return!1;e++}else e++,s++}else s++;return!0},!0);var vK=fK(function(t,i){for(var n,r=i;;){if("*"===r||t===r)return!0;if((n=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(n-2)&&(n-=2),r=r.slice(0,n)}});function dK(t,i){var n=t&&"string"==typeof t?[t]:t;if(!n||"object"!==(void 0===n?"undefined":W(n))||!("length"in n))throw new y("Invalid "+i+" `"+n+"`, expected non-empty string");return n}function lK(t){var i=Fn(t,function(t){return t.nLt}),n=t.filter(function(t){return t.rLt}),r=Ui.Mm,e=n.map(function(t){return t.bs}).filter(Li),s=vK(e,r);return s?Fn(n,function(t){return t.bs===s}):i}function wK(t){var i;return null!=(i=lK(t))?i:t[0]}U(),Et(),Wt(),Pt(),Qt();var gK=function(t){function i(i,n){var r;return(r=t.call(this,n)||this)._Lt=void 0,r.oGt=Zu(),r._Lt=i,r}Ct(i,t);var n=i.prototype;return n.hGt=function(t){var i=this.iV.sI(Jm.HU,t.l,t.l,t.bs,t.nLt,void 0,void 0,t.cLt.map(cj).filter(Li));this.oGt.set(t.JI,i),this.tt(i)},n.mFt=function(t){var i=this.oGt.get(t.JI);i&&(this.oGt.delete(t.JI),this.iV.rV(i))},n.JU=function(t){var i=this.aGt(t);i&&(kr(this._Lt.uGt(i)),this.oGt.forEach(function(i){i!==t&&(i.Qk=zm.Nh)}))},n.ZU=function(t){var i=this.aGt(t);i&&this._Lt.cGt&&this._Lt.cGt===i&&kr(this._Lt.uGt(void 0))},n.dGt=function(t){return this.oGt.get(t.JI)},n.aGt=function(t){var i=this,n=this._Lt.vLt;if(n)return Fn(n.vFt,function(n){return t===i.dGt(n)})},n.eV=function(t,i,n){var r=this,e=ly(t,i,n);return this.oGt.forEach(function(i,n){i===t&&r.oGt.set(n,e)}),e},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),this.oGt.clear(),[2]}})}).call(this)},i}(dy),_K="LLHLSPlayer",mK=[Ry.TM,Ry.kM,Ry.EM,Ry.AI],yK=[eh.Kw,eh.xw,eh.Lw,eh.Bw],pK=[eh.Ww,eh.qw,eh.Gw,eh.Xw,eh._y,eh.iy,eh.ey,eh.sy,eh.oy],kK=[eh.Ww,eh.qw,eh.sy,eh.oy],bK=function(t){function i(i,n,r,e,s,u,o,h){var a,c;return(a=t.call(this)||this).Mz=void 0,a.Lz=void 0,a.XHt=void 0,a.JGt=void 0,a.PL=void 0,a.aV=void 0,a.lq=void 0,a.pq=void 0,a.Cq=void 0,a.YXt=void 0,a.$Gt=void 0,a.ZGt=void 0,a.Sut=void 0,a.Ndt=void 0,a.tO=void 0,a.sO=void 0,a.XGt=void 0,a.axt=void 0,a.Gl=void 0,a.bGt=void 0,a._Lt=void 0,a.EGt=void 0,a.VGt=void 0,a.HGt=void 0,a.aq=void 0,a.Ypt=void 0,a.uV=void 0,a.FGt=void 0,a.UGt=void 0,a.OGt=void 0,a.YGt=void 0,a.dXt=void 0,a.TGt=void 0,a.T9=void 0,a.k9=void 0,a._Gt=void 0,a.MXt=void 0,a.UXt=void 0,a.WXt=void 0,a.BXt=void 0,a.FXt=void 0,a.HXt=void 0,a.oq=void 0,a.nq=void 0,a.rq=void 0,a.pGt=void 0,a.wGt=void 0,a.$kt=void 0,a.d9=void 0,a.nxt=void 0,a.rxt=void 0,a.hxt=void 0,a.yGt=void 0,a.AGt=void 0,a.JXt=void 0,a.KGt=void 0,a.ojt=void 0,a.JW=void 0,a.Gkt=void 0,a.fxt=void 0,a.ejt=void 0,a.Eh=void 0,a.xBt=void 0,a.sjt=void 0,a.NL=void 0,a.njt=void 0,a.qV=void 0,a.Q6=void 0,a.Je=void 0,a.Mq=void 0,a.rjt=void 0,a.hjt=void 0,a.tjt=void 0,a.ijt=void 0,a.kGt=void 0,a.Lmt=void 0,a.LGt=void 0,a.dxt=void 0,a.lxt=void 0,a.GGt=void 0,a.Mz=r,a.Lz=e,a.XHt=s,a.JGt=u,a.axt=new Km,a.bGt=!1,a._Lt=void 0,a.EGt=void 0,a.VGt=!1,a.HGt=void 0,a.aq=void 0,a.Ypt=void 0,a.uV=new hr,a.FGt=void 0,a.UGt=void 0,a.OGt=new hr,a.YGt=void 0,a.dXt=new hr,a.TGt=void 0,a.T9=new hr,a.k9=void 0,a._Gt=-1,a.MXt=void 0,a.UXt=void 0,a.WXt=void 0,a.BXt=void 0,a.FXt=void 0,a.HXt=void 0,a.oq=YT.pz,a.nq=void 0,a.rq=void 0,a.pGt=void 0,a.wGt=void 0,a.$kt=!1,a.d9=!1,a.nxt=void 0,a.rxt=0,a.hxt=0,a.yGt=void 0,a.AGt=0,a.JXt=!1,a.KGt=[],a.ojt=void 0,a.Gkt=function(t){a.nq=cg(t.errorObject),a.rq=t.errorObject,a.Rs(t)},a.fxt=function(t){a.Qq(fg(t.lt))},a.ejt=function(){var t;null==(t=a._Lt)||t.BUt();var i=a.ct;i!==a.nxt&&(a.nxt=i,a.So(new vT(a.nxt)))},a.Eh=function(){a.Qx&&a.So(new lT(a.zx))},a.xBt=function(){a.So(new cT(a.zx))},a.sjt=function(){a.tkt(),a.So(new fT(a.zx))},a.NL=function(){void 0!==a.ojt&&(Ui.Lg(a.ojt),a.ojt=void 0),a.So(new Ly(a.zx))},a.njt=function(){a.So(new YR(a.zx))},a.qV=function(){a.So(new Py(a.zx,a.AP))},a.Q6=function(){var t,i=a.zx,n=a.Vx;null==(t=a._Lt)||t.ajt(i),a.So(new bw(i,n)),!a.lP&&a.IGt()&&(a.jP(),a.Eh())},a.Je=function(){a.So(new wT(a.zx))},a.Mq=function(){a.So(new gT(a.zx))},a.rjt=function(){a.Xkt()},a.hjt=function(){a.So(new _T(a.zx,a.OP))},a.tjt=function(){a.PL.xP?a.So(new By(a.zx)):(null!=a.ojt||(a.ojt=Ui.Og(function(){a._Lt&&a.JXt&&kr(a._Lt.ujt())},2500)),a.tkt(),a.So(new By(a.zx)))},a.ijt=function(){a.JXt=!0,a.So(new Oy(a.zx,a.AP))},a.kGt=function(t){vr(t)||Ql(t)||Yl(t)||(a._Xt(),kr(a.vXt()),!function(t){return V(t,tP)}(t)?a.Qq(new ld(vd.MEDIA_LOAD_ERROR,t.message,t)):kr(a.MGt({tI:!0})))},a.Lmt=function(t){if(!vr(t)){var i=V(t,ld)?t:new ld(vd.MEDIA_DECODE_ERROR,t.message,t);a.Qq(i)}},a.LGt=function(t){a.KGt.push(t)},a.dxt=function(){a.WTt()},a.lxt=function(){a.qTt()},a.GGt=function(){a.Xkt()},a.Sut=new fW(o),a.PL=i,a.aV=n,a.lq=new gj(a.Mz.CY),a.$Gt=new _j(a.PL),a.ZGt=new Ij(a.Mz),a.Ndt=Yu({},h.retryConfiguration,{maxRetries:null!=(c=h.retryConfiguration.maxRetries)?c:1/0}),a.tO=new $b,a.sO=new $b,a.XGt=new tA,a.Gl=new Rb([a.XGt,a.axt]),a.pq=new Eb(a.aV),a.PL.Rq=a.pq,a.Cq=new Vy(a,a.PL),a.YXt=new Uy(a.Cq,!0),a.$Xt(),a}Ct(i,t);var n=i.prototype;return n.Xx=function(t,i){var n,r,e,s,u=this;vj.cN(_K,"Seeking to "+t+" s.");var o={iq:null!=(r=null==i?void 0:i.iq)?r:t===1/0,gGt:null==(e=null==i?void 0:i.gGt)||e,zOt:null!=(s=null==i?void 0:i.zOt)&&s};this.pGt=t,this.wGt=o,this.yGt=!0,this.$kt=!0,null==(n=this.JW)||n.KP(),this.So(new wT(t)),this.T9.Zg(),this.bGt&&(Ui.Lg(this.AGt),o.gGt?this.AGt=Ui.Og(function(){return u.SGt(t,o)},50):this.SGt(t,o))},n.SGt=function(t,i){Ui.Lg(this.AGt);var n=[this.Ypt,this.TGt,this.k9].filter(Li);this.T9=new hr,this.T9.$g(this.uV.Yg),this.k9=_r(this.E9(n,t,i,this.T9.Yg),this.T9).catch(this.kGt)},n.YP=function(){return!1},n.qP=function(){return this.PL.Ma},n.Aa=function(){return this.PL.Sq},n.sI=function(t){var i,n,r=this.PL.Tq(t);return r.EU=null!=(n=null==(i=this._Lt)?void 0:i.EU)?n:0,this.axt.tt(r),r},n.we=function(){vj.cN(_K,"Hiding the player."),this.PL.we()},n.jP=function(){var t;vj.cN(_K,"Pausing the player."),this.PL.jP(),(null==(t=this.JW)?void 0:t.oL)&&this.JW.KP()},n.QP=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return this.d9=!0,t=this.PL.QP(),this.Qx&&(i=this.Tkt).V>0&&this.Xx(i.Tn(0),{gGt:!1}),this.bGt?[3,2]:[4,this.RGt()];case 1:n.sent(),n.label=2;case 2:return this.tkt(),[4,t];case 3:return n.sent(),this.tEt(),[2]}})}).call(this)},n.tkt=function(){if(this.bGt&&this.$kt){if(!this.Skt()){var t,i=null==(t=this.vLt)?void 0:t.sLt;if(null==i?void 0:i.iFt){var n=!0,r=0,e=i.Tn;if(!this.$kt&&e&&(n=!e.zOt,(r=e.qOt)<0)){var s=i.sUt;r+=s.An(s.V-1)}this.SGt(r,{iq:n})}else this.SGt(1/0,{iq:!0})}this.NGt()&&this.SGt(1/0,{iq:!0})}},n.Skt=function(){var t,i=this.Tkt;if(0===i.V)return!0;var n=this.zx,r=null==(t=this._Lt)?void 0:t.BGt,e=null==r?void 0:r.zM(n);return(e&&e>0?r.An(e):n)>=i.Tn(0)},n.NGt=function(){var t=this.zx;return TK(t,this.CLt)||TK(t,this.DLt)},n.OEt=function(){this.nq=void 0,this.rq=void 0},n.Qq=function(t){this.nq||(kr(this.hr()),this.nq=cg(t),this.rq=t,this.So(new yb(t)))},n.be=function(){vj.cN(_K,"Showing the player."),this.PL.be()},n.JP=function(){throw new y("Not implemented")},n.ZP=function(){throw new y("Not implemented")},n.$P=function(){},n.tI=function(){this.bGt&&kr(this.MGt({tI:!0}))},n.Ta=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:r={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,9,10,11]),vj.cN(_K,"Setting the player source to "+t.src+"."),this.OEt(),this._Lt?[4,this.hr()]:[3,3];case 2:h.sent(),dr(n),h.label=3;case 3:return ZA(t)?[2]:(e=qt(r,hr.ep([n]),!1),this.pq.BW(t.contentProtection),void 0===this.EGt||this.EGt.Mc!==t?[3,4]:(this._Lt=this.EGt,this._Lt.mn(pK,this.LGt),this.uV=this.OGt,this.uV.$g(e.Yg),this.OGt=new hr,this.FGt=void 0,null==(s=this.UGt)||s.Zg(),this.UGt=void 0,this.EGt=void 0,this.VGt=!1,this.HGt!==this._Lt&&(this.HGt=void 0),this._Lt.WGt(this.PL),[3,8]));case 4:return void 0===this.EGt?[3,7]:[4,this.CP()];case 5:return h.sent(),[4,this.qGt()];case 6:h.sent(),h.label=7;case 7:this.uV=hr.ep([e.Yg]),this._Lt=this.zGt(t,i,void 0,this.PL),h.label=8;case 8:return this._Lt.wn(pK,this.Rs),this._Lt.wn(JG.iLt,this.GGt),this.tO.OI=this._Lt.ht,this.sO.OI=this._Lt.rt,this.XGt.OI=this._Lt.nt,(u=this._Lt.jGt)&&(this.JW=new vW(this,this.PL,u),this.JW.Rt=!0,this.Lz.Ea(this.JW)),Sy(this.Gl),this.QGt(),this.Xkt(),this.KGt.forEach(this.Rs),this.KGt=[],this.RGt(),e.zg(),[3,11];case 9:return o=h.sent(),r.error=o,r.hasError=!0,[3,11];case 10:return Gt(r),[7];case 11:return[2]}})}).call(this)},n.IP=function(t,i,n,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return dr(r),void 0===this.EGt?[3,2]:[4,this.CP()];case 1:e.sent(),e.label=2;case 2:return dr(r),this.EGt=this.zGt(t,i,n,void 0),this.EGt.wn(pK,this.LGt),[2]}})}).call(this)},n.CP=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return void 0===this.EGt?[2]:(this.OGt.Zg(),null==(t=this.UGt)||t.Zg(),this.UGt=void 0,void 0===this.FGt?[3,2]:[4,this.FGt.catch(dn)]);case 1:i.sent(),this.FGt=void 0,i.label=2;case 2:return[4,this.EGt.zg()];case 3:return i.sent(),this.OGt=new hr,this.HGt===this.EGt&&(this.HGt=void 0),this.EGt=void 0,this.VGt=!1,this.KGt=[],[2]}})}).call(this)},n.zGt=function(t,i,n,r){return null!=this.YGt||(this.YGt=this.JGt.jet()),new AK(this,t,i,this.aV,this.Mz,this.ZGt,this.Sut,this.$Gt,this.XHt,this.YGt,this.Ndt,n,r)},n.RGt=function(){return this.Ypt=this.tXt(this.Ypt,this.uV.Yg).catch(this.Lmt),this.Ypt},n.tXt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return t?[4,t]:[3,2];case 1:r.sent(),dr(i),r.label=2;case 2:return this._Lt?(n=this.oq)===YT.HL||this.d9?[4,this.iXt(i)]:[3,5]:[2];case 3:return r.sent(),[4,this.eXt(i)];case 4:return r.sent(),[3,7];case 5:return n!==YT.zU?[3,7]:[4,this.iXt(i)];case 6:r.sent(),r.label=7;case 7:return[2]}})}).call(this)},n.iXt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return dr(t),void 0===this._Lt||this._Lt.DGt?[2]:[4,this._Lt.iXt(t)];case 1:return i.sent(),this.Cq.zV(),this.QGt(),[2]}})}).call(this)},n.QGt=function(){var t;if(!this.JW){var i=null==(t=this._Lt)?void 0:t.jGt;i&&(this.JW=new vW(this,this.PL,i),this.Lz.Ea(this.JW))}},n.eXt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return dr(t),this.bGt?[2]:(this.bGt=!0,[4,this._Lt.MGt(this.CLt,this.DLt,this.cGt,{nXt:!0})]);case 1:return i.sent(),[2]}})}).call(this)},n.rXt=function(){var t=this.EGt;return void 0===t?ut.resolve():(0===t.EU&&(t.EU=this._Lt.EU+this._Lt.ct),null!=this.UGt||(this.UGt=new Va),void 0===this.FGt&&(this.FGt=t.iXt(this.OGt.Yg),this.UGt.$g(this.FGt)),this.UGt.Yy)},n.hXt=function(){var t;return(null!=(t=this.UGt)?t:this.UGt=new Va).Yy},n.mGt=function(t){return this.xGt(t,this.PL.zx)},n.xGt=function(t,i){var n=i;return t===this._Lt&&void 0!==this.EGt&&this.EGt.EU>0&&(n=b.min(n,this.EGt.EU)),void 0!==t&&(n=b.max(0,n-t.EU)),n},n.IGt=function(){return void 0!==this.EGt&&0!==this.EGt.EU&&(!!this.VGt&&this.PL.zx+.25>=this.EGt.EU)},n.uXt=function(){var t,i;return{Ti:this.PL.Ti,Mi:this.PL.Mi,qLt:Cq(this.PL),udt:null==(i=this.bt)||null==(t=i.abr)?void 0:t.restrictToPlayerSize}},n.cXt=function(){return new uK(this.aq)},n.MGt=function(t){void 0===t&&(t={});var i={bLt:t.bLt||!1,SLt:t.SLt||!1,ALt:t.ALt||!1,tI:t.tI||!1,nXt:t.nXt||!1},n=[this.TGt,this.k9].filter(Li);return this.T9.Zg(),this.T9=new hr,this.T9.$g(this.uV.Yg),this.dXt.Zg(),this.dXt=new hr,this.dXt.$g(this.uV.Yg),this.TGt=_r(this.lXt(n,i,this.dXt.Yg),this.dXt).catch(this.kGt),this.TGt},n.lXt=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:return this.bGt?[3,2]:[4,this._Lt.fXt(n)];case 1:return d.sent(),[2];case 2:return[4,ut.all(t.map(function(t){return t.catch(dn)}))];case 3:return d.sent(),[4,this.vXt()];case 4:return d.sent(),this._Xt(),[4,this.gXt(n)];case 5:return d.sent(),[4,this.pXt(i.SLt,i.ALt)];case 6:return d.sent(),dr(n),[4,this._Lt.mXt()];case 7:return u=d.sent(),dr(n),[4,this.wXt(u,i.tI,n)];case 8:return o=d.sent(),h=null==(r=this.aq)?void 0:r.e4,a=null==(e=this.aq)?void 0:e.s4,this._Lt.yXt(void 0!==h,void 0!==a,i.bLt||o,i.SLt,i.ALt),this._Lt.bXt(i.bLt),void 0!==this.EGt&&(this.EGt.yXt(void 0!==h,void 0!==a,i.bLt||o,i.SLt,i.ALt),this.EGt.bXt(i.bLt)),this._Lt.Czt(h,a),void 0===this.EGt?[3,10]:[4,this.EGt.mXt()];case 9:(c=d.sent())&&this.aq&&this.aq.IZ(c)?(this.EGt.Czt(h,a),this.VGt=!0):(this.EGt.Czt(void 0,void 0),this.VGt=!1),d.label=10;case 10:this.AXt(),dr(n),d.label=11;case 11:return d.trys.push([11,13,,14]),[4,ut.all([this._Lt.SXt(n),null==(f=this.EGt)?void 0:f.SXt(n)].filter(Li))];case 12:return d.sent(),[3,14];case 13:return lr(d.sent()),[3,14];case 14:if(dr(n),this.V4(),this._Lt.BUt(),null==(s=this.EGt)||s.BUt(),void 0!==this.pGt)return this.SGt(this.pGt,this.wGt),[2];if(!this.$kt){if(v=this._Lt.TXt)return this.SGt(v.YF,{iq:v.iq}),[2];if(this._Lt.EU>0)return this.SGt(0,{iq:!1}),[2]}return this.oXt.length>0&&this.kXt(),[2]}})}).call(this)},n.wXt=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return i||!this.aq?[3,3]:t?this.aq.IZ(t)?[4,this.gXt(n)]:[3,3]:[2,!1];case 1:return h.sent(),[4,this.aq.RZ(t)];case 2:return h.sent(),[2,!1];case 3:for(r=Lt(this._Lt.aXt);!(e=r()).done;)e.value.Ezt.forEach(function(t){return t.Zg()});this.PL.G7(),h.label=4;case 4:return h.trys.push([4,,10,11]),this.aq?[4,this.PL.hr()]:[3,6];case 5:h.sent(),h.label=6;case 6:return t?[4,this.PL.Un(t)]:[3,8];case 7:return s=h.sent(),[3,9];case 8:u=void 0!==this.CLt,o=void 0!==this.DLt,s=new iK(this.PL,u,o),h.label=9;case 9:return this.EXt(s),[3,11];case 10:return this.PL.X7(),[7];case 11:return[2,!0]}})}).call(this)},n.EXt=function(t){this.aq=t,this.V4(),this.WTt(),this.qTt()},n.V4=function(){var t,i,n=this.aq,r=void 0!==this.EGt&&this.VGt?this.EGt:this._Lt;if(n&&void 0!==r&&(r!==this.HGt||S(n.ct))){var e;r!==this.HGt&&n.I3();var s=(null!=(e=r.xXt)?e:NaN)+r.EU;s>0&&n.F4(s),this.HGt=r}null==(t=this._Lt)||t.BUt(),null==(i=this.EGt)||i.BUt()},n.pXt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.aq?(n=[],t&&this.aq.e4&&n.push(this.aq.e4.pS(0,1/0)),i&&this.aq.s4&&n.push(this.aq.s4.pS(0,1/0)),[4,ut.all(n)]):[2];case 1:return r.sent(),[2]}})}).call(this)},n.WTt=function(){var t=this.aq;t&&(t.s4&&(t.s4.VY=this.Mz.YY),t.e4&&(t.e4.VY=this.Mz.YY))},n.qTt=function(){var t=this.aq;t&&(t.s4&&(t.s4.zY=this.Mz.zY),t.e4&&(t.e4.zY=this.Mz.zY))},n.AXt=function(){var t,i,n,r,e=void 0!==(null==(t=this.aq)?void 0:t.e4),s=void 0!==(null==(i=this.aq)?void 0:i.s4);null==(n=this._Lt)||n.AXt(e,s),null==(r=this.EGt)||r.AXt(e,s)},n.E9=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,ut.all(t.map(function(t){return t.catch(dn)}))];case 1:return o.sent(),dr(r),[4,this.vXt()];case 2:return o.sent(),dr(r),this.pGt=void 0,this.yGt=void 0,this.$kt=!0,e=n.zOt?this.sUt:this.Tkt,s=e.LM(i)+this._Lt.EU,u=this.PL.ww(eh.Zw,r),this.PL.Oy(s,n.iq),this.bGt&&this._Lt.aXt.length>0&&(this.Br.AM.lVt(),this.PXt(this.zx),this.kXt()),[4,u];case 3:return o.sent(),this.tEt(),[2]}})}).call(this)},n.tEt=function(){var t=this.JW;if(void 0!==t){var i=this.OL;if(!this.lP&&!this.xP&&void 0!==i)i<this.Lz.Cd.maximumOffset?t.Tn():t.KP()}},n.PXt=function(t){for(var i,n,r,e=!1,s=Lt(null!=(n=null==(i=this._Lt)?void 0:i.aXt)?n:[]);!(r=s()).done;){var u=r.value;u.KWt(t)||(u.Uzt(),u.Rzt.jqt(),e=!0),u.Ozt(t)||(u.Vzt(),u.Rzt.Qqt(),e=!0)}if(void 0!==this.EGt&&e)for(var o,h=Lt(this.EGt.aXt);!(o=h()).done;){o.value.Zg()}},n._Xt=function(){for(var t,i=Lt(this.oXt);!(t=i()).done;){t.value.Zg()}},n.vXt=function(){return ut.all([this._Nt(),this.IXt(),this.CXt()])},n.kXt=function(){this.vNt(),this.RXt(),this.DXt()},n.NXt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.bGt&&this.oXt.length>0?(this.oXt.forEach(function(t){return t.Uzt()}),[4,this._Nt()]):[3,2];case 1:t.sent(),this.vNt(),this.oXt.forEach(function(t){return t.Pzt.eqt()}),t.label=2;case 2:return[2]}})}).call(this)},n.vNt=function(){var t=this;if(!this.BXt){var i=function(){t.BXt=void 0};this.MXt=new hr,this.MXt.$g(this.uV.Yg),this.BXt=_r(this.LXt(this.MXt.Yg),this.MXt).catch(this.kGt).then(i,i)}},n._Nt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return null==(t=this.MXt)||t.Zg(),i=this.BXt,this.BXt=void 0,i?[4,i]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},n.LXt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return dr(t),[4,this.OXt(this._Lt,t)];case 1:return i.sent(),dr(t),void 0===this.EGt?[3,4]:[4,gr(this.rXt(),t)];case 2:return i.sent(),dr(t),[4,this.OXt(this.EGt,t)];case 3:i.sent(),i.label=4;case 4:return[2]}})}).call(this)},n.OXt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p;return zt(this,function(k){switch(k.label){case 0:dr(i),n=t.aXt,k.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},k.label=2;case 2:for(k.trys.push([2,4,5,6]),e=[],s=b.max(0,this.PL.zx-t.EU),u=Lt(n);!(o=u()).done;)if(h=o.value,a=h.Pzt,c=h.Tdt(s),a.yCt)e.push(a.EHt());else if(h.Fzt(s,c,this.Mz.YY)||a.qWt){if(f=a.fLt.sLt,void 0===(v=a.YWt(c))){if(f.iFt)continue;(d=f.bct).length&&d[0].CO>c&&(this.zx=1/0),a.rqt(),a.$Wt(c,i)}else l=v[0],w=v[1],a.Lat(l,w,h.uHt),h.Izt.lzt(l,w);e.push(a.EHt())}if(g=qt(r,hr.ep([i]),!1),0===e.length){for(n.every(function(t){return t.Pzt.jCt})||e.push(this.PL.ww(eh.py,g.Yg)),_=Lt(n);!(m=_()).done;)void 0!==(y=m.value).Pzt.zWt()&&e.push(y.Izt.ww([WY.Zqt,WY.ezt],g.Yg));if(0===e.length)return[3,7]}return[4,gr(ut.race(e),g.Yg)];case 3:return k.sent(),[3,6];case 4:return p=k.sent(),r.error=p,r.hasError=!0,[3,6];case 5:return Gt(r),[7];case 6:return[3,1];case 7:return[2]}})}).call(this)},n.RXt=function(){var t=this;if(!this.FXt){var i=function(){t.FXt=void 0};this.UXt=new hr,this.UXt.$g(this.uV.Yg),this.FXt=_r(this.VXt(this.UXt.Yg),this.UXt).catch(this.kGt).then(i,i)}},n.IXt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return null==(t=this.UXt)||t.Zg(),i=this.FXt,this.FXt=void 0,i?[4,i]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},n.VXt=function(t){return Vt(function(){var i,n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:dr(t),i=this.oXt,a.label=1;case 1:for(n=[],r=Lt(i);!(e=r()).done;)s=e.value,u=s.Pzt,(o=s.Izt).yCt?n.push(o.EHt()):(h=u.zWt())?"yut"===h.Km?(o.gzt(h),n.push(o.EHt())):"YOt"===h.Km?(o.fzt(h),n.push(o.EHt())):"wqt"===h.Km&&(o.mzt(h),n.push(o.EHt())):n.push(u.sqt());return 0!==n.length?[3,2]:[3,5];case 2:return[4,gr(ut.race(n),t)];case 3:a.sent(),a.label=4;case 4:return[3,1];case 5:return[2]}})}).call(this)},n.DXt=function(){var t=this;if(!this.HXt){this.WXt=new hr,this.WXt.$g(this.uV.Yg);var i=function(){t.HXt=void 0};this.HXt=_r(this.qXt(this.WXt.Yg),this.WXt).catch(this.kGt).then(i,i)}},n.CXt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return null==(t=this.WXt)||t.Zg(),i=this.HXt,this.HXt=void 0,i?[4,i]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},n.qXt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return dr(t),[4,this.zXt(this._Lt,t)];case 1:return i=n.sent(),void 0!==this.EGt&&this.VGt&&i?(dr(t),[4,gr(this.hXt(),t)]):[3,4];case 2:return n.sent(),dr(t),this.V4(),[4,this.zXt(this.EGt,t)];case 3:i=n.sent(),n.label=4;case 4:return i?this.aq.F3():this.aq.I3(),[2]}})}).call(this)},n.zXt=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:r=function(){var r,e,s,u,o,h,a,c,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:for((r=t.aXt).forEach(function(t){return t.Bat()}),e=b.max(0,n.PL.zx-t.EU),s=[],u=[],o=Lt(r);!(h=o()).done;)for(a=h.value,c=a.Izt,f=Lt(a.Ezt);!(v=f()).done;)d=v.value,l=fY(d)?s:u,d.yCt?l.push(d.EHt()):d.xHt(e)||((w=c.Szt(d.Km))?"yut"===w.Km&&w.$Ot===n._Gt?(d.Pdt(w),l.push(d.EHt())):"rRt"===w.Km&&w.$Ot===n._Gt?(d.J2(w),l.push(d.EHt())):"wqt"===w.Km&&(d.UHt(w),l.push(d.EHt())):u.push(c.Tzt(d.Km)));return 0!==s.length?[3,2]:[4,n.GXt(t,r,e,i)];case 1:if(g.sent())return[2,"continue"];g.label=2;case 2:return 0===s.length&&0===u.length?[2,{v:r.every(function(t){return t.Ezt.length>0&&t.Ezt.every(function(t){return t.xHt(e)})})}]:[4,gr(ut.race([].concat(s,u)),i)];case 3:return g.sent(),[2]}})},s.label=1;case 1:return n=this,[5,Xt(r())];case 2:return"object"===W(e=s.sent())?[2,e.v]:[3,1];case 3:return[2]}})}).call(this)},n.GXt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,b,A,T,S;return zt(this,function(E){switch(E.label){case 0:for(e=[],s=[],u=Lt(i);!(o=u()).done;)for(h=o.value,a=h.Tdt(n),c=Lt(h.Ezt);!(f=c()).done;)if(fY(v=f.value))if(void 0!==(d=h.Izt.Szt(v.Km))){if(d.$Ot===this._Gt)return[2,!1];e.push(d)}else{if(h.yCt||h.Fzt(n,a,this.Mz.YY)||!v.PHt(n,a))return[2,!1];void 0!==(l=v.mHt.uHt)&&s.push(l)}return 0===e.length?[2,!1]:(w=$n(e,function(t){return t.$Ot}).$Ot,e.every(function(t){return"rRt"===t.Km&&t.$Ot===w})?(g=Zn(e,function(t){return t.CO}).CO+t.EU,_=[].concat(e,s),[4,this.XXt(_)]):[3,6]);case 1:return m=E.sent(),this.jXt(m)?(vj.OLt(lj,"Seamless switch from",this.aq.Cd,"to",m),[4,this.aq.RZ(m)]):[3,3];case 2:return E.sent(),vj.OLt(lj,"Seamless switch complete."),[3,5];case 3:return[4,this.QXt(t,g,m,r)];case 4:E.sent(),E.label=5;case 5:return this._Gt=e[0].$Ot,[3,7];case 6:for(y=Lt(i);!(p=y()).done;)for(k=p.value,b=Lt(k.Ezt);!(A=b()).done;)for(T=A.value,S=k.Izt.Szt(T.Km);void 0!==S&&("rRt"!==S.Km||S.$Ot!==w);)vj.OLt(lj,"Removing append for other discontinuity, expecting "+w,S),k.Izt.RHt(S),S=k.Izt.Szt(T.Km);E.label=7;case 7:return[2,!0]}})}).call(this)},n.jXt=function(t){var i,n;switch(null!=(n=null==(i=this.bt)?void 0:i.seamlessSwitchStrategy)?n:LA.HL){case LA.WL:return!0;case LA.qL:return!1;default:return this.aq.IZ(t)}},n.XXt=function(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return i=t.map(function(t){return t.kzt.Rrt}),n=i.map(function(t){return{GT:t}}),r=[].concat(Jn(t,function(t){return t.kzt.UW}),this.Br.fVt),[4,Vj((e=this.bt).contentProtection,i,r,this.aV,e.useCredentials)];case 1:return 0===(s=u.sent()).length&&this.aq&&this.aq.Cd.fq.length>0&&(s=this.aq.Cd.fq),[2,{Km:Iy.SV,q4:n,fq:s,t5:e.useManagedMediaSource}]}})}).call(this)},n.QXt=function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f,v,d;return zt(this,function(l){switch(l.label){case 0:if(o=this.aq,h=o.ct,!(a=this.PL.Fx.V>0&&this.PL.zx<i))return[3,6];l.label=1;case 1:l.trys.push([1,5,,6]),vj.OLt(lj,"Marking end of stream and waiting for ended to switch discontinuity."),o.F3(),l.label=2;case 2:return!this.PL.Qx&&this.PL.zx<i?[4,this.PL.ww([eh.py,eh.Nw],r)]:[3,4];case 3:return l.sent(),[3,2];case 4:return[3,6];case 5:throw c=l.sent(),o.I3(),o.F4(h),c;case 6:vj.OLt(lj,"Perform hard switch from",null==(e=this.aq)?void 0:e.Cd,"to",n),l.label=7;case 7:return l.trys.push([7,,10,11]),this.PL.G7(),this.PL.zx<i&&this.PL.Oy(i,!0,!0),this.AXt(),[4,this.PL.hr()];case 8:return l.sent(),[4,this.PL.Un(n)];case 9:return d=l.sent(),this.EXt(d),null==(f=d.s4)||f.G3(i-1,i),null==(v=d.e4)||v.G3(i-1,i),this.AXt(),[3,11];case 10:return a&&kr(this.PL.QP()),this.PL.X7(),[7];case 11:return t.Czt(null==(s=this.aq)?void 0:s.e4,null==(u=this.aq)?void 0:u.s4),vj.OLt(lj,"Hard switch complete."),[2]}})}).call(this)},n.gXt=function(t){return gr(br(Jn(this.oXt,function(t){return t.Ezt.map(function(t){return t.EHt()})})),t)},n.Xkt=function(){var t=this.MP,i=this.DP;this.rxt===t&&this.hxt===i||(this.rxt=t,this.hxt=i,this.So(new Ey))},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return vj.cN(_K,"Unloading the player."),this.KXt(),this.OEt(),void 0===this.EGt?[3,2]:[4,this.CP()];case 1:t.sent(),t.label=2;case 2:return[4,this.hr()];case 3:return t.sent(),this.PL.Rq=void 0,this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.axt.kn(),this.YXt.kn(),this.Cq.zg(),this.XHt.zg(),this.YGt&&(this.YGt.zg(),this.YGt=void 0),[2]}})}).call(this)},n.hr=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return vj.cN(_K,"Resetting the player."),this._Gt=-1,this.uV.Zg(),this.T9.Zg(),this.T9=new hr,this.T9.$g(this.uV.Yg),this.dXt.Zg(),this.dXt=new hr,this.dXt.$g(this.uV.Yg),t=[this.Ypt,this.k9,this.TGt].filter(Li),[4,ut.all(t.map(function(t){return t.catch(dn)}))];case 1:return i.sent(),this.Ypt=void 0,this.k9=void 0,this.TGt=void 0,this._Xt(),[4,this.vXt()];case 2:return i.sent(),this._Lt?(this.tO.OI=void 0,this.sO.OI=void 0,this.XGt.OI=void 0,[4,this._Lt.zg()]):[3,4];case 3:i.sent(),this.HGt===this._Lt&&(this.HGt=void 0),this._Lt=void 0,i.label=4;case 4:return this.JW=void 0,this.Lz.hr(),this.PL.Eq(),void 0===this.EGt||void 0===this.aq||void 0!==this.PL.lt?[3,6]:[4,this.PL.F8()];case 5:return i.sent(),[3,8];case 6:return[4,this.qGt()];case 7:i.sent(),i.label=8;case 8:return this.bGt=!1,this.pGt=void 0,this.nxt=void 0,this.rxt=0,this.hxt=0,this.yGt=void 0,this.$kt=!1,this.d9=!1,Ui.Lg(this.AGt),this.JXt=!1,this.YXt.hr(),this.ZXt(),this.So(new aT(this.zx,this.AP)),[2]}})}).call(this)},n.qGt=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.aq=void 0,[4,this.PL.hr()];case 1:return t.sent(),[2]}})}).call(this)},n.ZXt=function(){for(var t,i=Lt(this.Gl.NI);!(t=i()).done;){t.value.kn()}this.XGt.hr(),this.axt.hr(),this.Gl.hr()},n.$Xt=function(){this.YXt.wn(mK,this.Rs),this.YXt.wn(Ry.PM,this.NL),this.YXt.wn(Ry.xM,this.tjt),this.YXt.wn(Ry.SM,this.ijt),this.Mz.wn("UY",this.dxt),this.Mz.wn("qY",this.lxt),this.PL.wn(yK,this.Rs),this.PL.wn(qm.ma,this.fxt),this.PL.wn(eh.Ew,this.Gkt),this.PL.wn(eh.Cw,this.ejt),this.PL.wn(eh.Nw,this.Eh),this.PL.wn(eh.jw,this.xBt),this.PL.wn(eh.uo,this.sjt),this.PL.wn(eh.Qw,this.njt),this.PL.wn(Ry.AI,this.qV),this.PL.wn(eh.py,this.Q6),this.PL.wn(eh.$w,this.Je),this.PL.wn(eh.Zw,this.Mq),this.PL.wn(eh.Jw,this.rjt),this.PL.wn(eh.wy,this.hjt)},n.KXt=function(){this.YXt.mn(mK,this.Rs),this.YXt.mn(Ry.PM,this.NL),this.YXt.mn(Ry.xM,this.tjt),this.YXt.mn(Ry.SM,this.ijt),this.Mz.mn("UY",this.dxt),this.Mz.mn("qY",this.lxt),this.PL.mn(yK,this.Rs),this.PL.mn(qm.ma,this.fxt),this.PL.mn(eh.Ew,this.Gkt),this.PL.mn(eh.Cw,this.ejt),this.PL.mn(eh.Nw,this.Eh),this.PL.mn(eh.jw,this.xBt),this.PL.mn(eh.uo,this.sjt),this.PL.mn(eh.Qw,this.njt),this.PL.mn(Ry.AI,this.qV),this.PL.mn(eh.py,this.Q6),this.PL.mn(eh.$w,this.Je),this.PL.mn(eh.Zw,this.Mq),this.PL.mn(eh.Jw,this.rjt),this.PL.mn(eh.wy,this.hjt)},Nt(i,[{key:"OL",get:function(){var t;if(this.ct===1/0){var i=this.Vx;if(i)return(Date.now()-i.getTime())/1e3;var n=null==(t=this._Lt)?void 0:t.lGt;return n?n-this.zx:void 0}}},{key:"fGt",get:function(){for(var t,i=Lt(this.vGt);!(t=i()).done;){var n=t.value;if(!n.sLt.iFt)return!1;var r=zn(n.sLt.bct,-1);if(r&&r.$Ot!==this._Gt)return!1}return!0}},{key:"vLt",get:function(){var t;return null==(t=this._Lt)?void 0:t.vLt}},{key:"CLt",get:function(){var t;return null==(t=this._Lt)?void 0:t.CLt}},{key:"DLt",get:function(){var t;return null==(t=this._Lt)?void 0:t.DLt}},{key:"cGt",get:function(){var t;return null==(t=this._Lt)?void 0:t.cGt}},{key:"vGt",get:function(){return this._Lt?this._Lt.vGt:[]}},{key:"ht",get:function(){return this.tO}},{key:"Fx",get:function(){var t=this.PL.Fx;return void 0!==this._Lt&&(t=t.Ly(-this._Lt.EU).Mn(EA.hL())),t._s()}},{key:"Vx",get:function(){if(this.vLt){var t=this.zx;return this.vLt.gFt(t)}},set:function(t){if(t&&this.vLt){var i=this.vLt.pFt(t);void 0!==i&&this.Xx(i,{iq:!1,gGt:!0})}}},{key:"bt",get:function(){var t;return null==(t=this._Lt)?void 0:t.Mc}},{key:"zx",get:function(){var t;return null!=(t=this.pGt)?t:this.mGt(this._Lt)},set:function(t){this.Xx(t)}},{key:"ct",get:function(){var t,i;if(void 0===this.EGt&&this.fGt){var n=this.PL.ct;if(!S(n))return this.xGt(this._Lt,n)}return null!=(i=null==(t=this._Lt)?void 0:t.ct)?i:NaN}},{key:"Qx",get:function(){if(!this.fGt)return!1;if(this.xP&&void 0!==this._Lt&&this.bGt){var t=this.zx,i=this._Lt.PGt;return isFinite(i)&&t>=i}return this.PL.Qx||this.IGt()}},{key:"lt",get:function(){return this.nq}},{key:"Jx",get:function(){return this.rq}},{key:"$x",get:function(){}},{key:"iP",get:function(){}},{key:"sP",get:function(){return!1}},{key:"rP",get:function(){var t,i;return Yu({},{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PL.hP(),{uO:null!=(i=null==(t=this._Lt)?void 0:t.uO)?i:0,aO:this.Mz.CY.IW})}},{key:"Br",get:function(){var t;return null==(t=this._Lt)?void 0:t.Br}},{key:"CGt",get:function(){var t;return null==(t=this._Lt)?void 0:t.CGt}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"cP",get:function(){var t,i;return null==(i=null==(t=this._Lt)?void 0:t.cP)||i}},{key:"lP",get:function(){return this.PL.lP}},{key:"vP",get:function(){return this.PL.vP},set:function(t){vj.cN(_K,"Setting playback rate to "+t+"."),this.PL.vP=t}},{key:"pP",get:function(){return this.Dkt._s()}},{key:"Dkt",get:function(){var t=this.PL.pP;return void 0!==this._Lt&&(t=t.Ly(-this._Lt.EU).Mn(EA.hL())),t}},{key:"wP",get:function(){return this.oq},set:function(t){this.oq!==t&&(this.oq=t,this.RGt())}},{key:"AP",get:function(){var t,i=this.PL.AP;return(null==(t=this._Lt)?void 0:t.DGt)&&(i=b.max(Dy.Qn,i)),i}},{key:"sUt",get:function(){var t,i;return null!=(i=null==(t=this._Lt)?void 0:t.sUt)?i:EA.rL()}},{key:"kP",get:function(){return this.Tkt._s()}},{key:"Tkt",get:function(){var t,i,n=null!=(i=null==(t=this._Lt)?void 0:t.kP)?i:EA.rL();if(0===n.V)return n;if(this.aq&&this.fGt&&this.aq.ct!==1/0&&(n=new EA([n.Tn(0),this.xGt(this._Lt,this.aq.ct)])),this._Lt&&!this._Lt.iFt){var r=this.Dkt,e=n.An(n.V-1);if(r.V>0&&r.An(r.V-1)>e){var s=r.An(r.V-1),u=this._Lt.sUt;u&&u.V>0&&(s=b.min(s,u.An(u.V-1))),n=n.HM(new EA([e,s]))}}return n}},{key:"xP",get:function(){var t;return null!=(t=this.yGt)?t:this.PL.xP}},{key:"uq",get:function(){}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.sO}},{key:"DP",get:function(){var t,i;return this.PL.DP||(null==(i=this.vLt)||null==(t=i.RRt)?void 0:t.Mi)||0}},{key:"MP",get:function(){var t,i;return this.PL.MP||(null==(i=this.vLt)||null==(t=i.RRt)?void 0:t.Ti)||0}},{key:"OP",get:function(){return this.PL.OP},set:function(t){vj.cN(_K,"Setting volume to "+t+"."),this.PL.OP=t}},{key:"VP",get:function(){return this.Lz}},{key:"WP",get:function(){return!1},set:function(t){}},{key:"dq",get:function(){return this.lq}},{key:"sXt",get:function(){return this.bGt}},{key:"oXt",get:function(){return void 0===this._Lt?[]:void 0===this.EGt?this._Lt.aXt:this._Lt.aXt.concat(this.EGt.aXt)}}]),i}(th),AK=function(t){function i(i,n,r,e,s,u,o,h,a,c,f,v,d){var l,w,g,_;l=t.call(this)||this,(w=l).oa=void 0,w.Mc=void 0,w.aV=void 0,w.ZGt=void 0,w.Mz=void 0,w.Sut=void 0,w.$Gt=void 0,w.XHt=void 0,w.YGt=void 0,w.Ndt=void 0,w.wjt=void 0,w.iV=void 0,w.tO=new rg,w.sO=new rg,w.Gl=new Rb([]),w.Sjt=void 0,w.Aq=void 0,w.Opt=void 0,w.kq=void 0,w.ENt=void 0,w.nEt=void 0,w.Ajt=void 0,w.uV=void 0,w.Bjt=void 0,w.Ljt=void 0,w.Ojt=void 0,w.Rjt=void 0,w.Kjt=[],w.cjt=void 0,w.djt=void 0,w.ljt=void 0,w.fjt=void 0,w.B4=void 0,w.M4=void 0,w.cQt=void 0,w._jt=void 0,w.gjt=void 0,w.tQt=void 0,w.ASt=!0,w.Hjt=0,w.Vjt=!1,w.H4=EA.rL(),w.Mkt=!1,w.Ekt=0,w.DDt=void 0,w.vjt=[],w.QU=0,w.aHt=function(){w.BUt()},w.fQt=function(t){kr(w.jjt(t.fLt,w.uV.Yg))},w.retryOfflineRenditionsCallback=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return w.fjt!==t&&w.djt!==t&&w.ljt!==t?[2]:[4,w.nEt.jVt(t,i)];case 1:return n.sent(),t.sLt.bUt=-1/0,[2]}})})()},w.hQt=function(t){var i=w.cjt,n=null==i?void 0:i.cFt;if(w.nEt.rHt(t.Rrt,t.fLt.sLt),!n&&(w.nEt.hHt(t.Rrt,t.fLt.sLt),w.Zjt(),i)){var r=void 0!==w.djt&&!jn(i.lFt,w.djt),e=void 0!==w.ljt&&!jn(i.fFt,w.ljt);(r||e)&&w.MGt(r?void 0:w.djt,e?void 0:w.ljt,w.fjt).catch(dn)}},w.oQt=function(t){var i=w.vQt(t.fLt);void 0!==i&&(i.Olt=t.Olt)},w.aQt=function(t){var i=w.vQt(t.fLt);void 0!==i&&(i.byt=t.izt.rF())},w.vQt=function(t){for(var i,n=Lt(w.sO.NI);!(i=n()).done;){var r=i.value.TLt(t);if(void 0!==r)return r}},w.uQt=function(t){w.nEt.sHt(t.fLt)},w.nQt=wn(function(t){t.Gk===eg.Mk&&w.dQt()&&kr(w.lQt())},200),w.rQt=function(t){var i;w.Ekt+=t.DWt;var n=w.sO.V>0?t.Gk===eg.Mk:t.Gk===eg.Bk;"yut"===t.RWt&&n&&kr(w.qjt()),w.So(new yM(function(t){if(t){if(void 0!==t.iAt){var i,n,r=t.iAt.Tn+(null!=(n=t.iAt.V)?n:0);return{Yu:t.XE,Wat:[null==(i=t.iAt)?void 0:i.Tn,r],Xk:!0}}return{Yu:t.XE.toString()||"",Xk:!0}}return{Yu:"",Xk:!0}}(t.uri),(null==(i=w.cjt)?void 0:i.IW)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.Gk,t.httpStatusCode,t.DWt))},w.oa=i,w.Mc=n,w.aV=e,w.Mz=s,w.ZGt=u,w.Sut=o,w.$Gt=h,w.XHt=a,w.YGt=c,w.Ndt=f,w.wjt=v,w.iV=null!=d?d:new VW,w.uV=new hr;var m=null!=(_=null==(g=n.latencyConfiguration)?void 0:g.targetOffset)?_:n.liveOffset;return w.nEt=new ZQ(w.aV,w.Sut,n.useCredentials,Ui.Pm(n.src),m),w.nEt.wn(JQ.IVt,w.aHt),w.nEt.wn(JQ.CVt,w.fQt),w.nEt.wn(kK,w.Rs),w.Sjt=new gK(w,w.iV),w.Gl.qW(w.Sjt.Z),n.hlsDateRange&&(w.Ajt=new rY(w.nEt,w.iV),w.Gl.qW(w.Ajt.Z)),r.textTracks&&(w.Aq=new gy(w.iV,w.aV),w.Gl.qW(w.Aq.Z),w.mq(r.textTracks)),!jn(n.ignoreEmbeddedTextTrackTypes,Ng.CEA608)&&(w.ENt=new CF(w.iV),w.Gl.qW(w.ENt.Z)),!jn(n.ignoreEmbeddedTextTrackTypes,Ng.EMSG)&&(w.Opt=new aW(w.iV),w.kq=new my(w.iV,w.Opt.Z),w.Gl.qW(w.Opt.Z),w.Gl.qW(w.kq.Z)),l}Ct(i,t);var n=i.prototype;return n.BUt=function(){var t,i,n=function(t){if(0===t.length)return EA.rL();for(var i,n,r=0,e=Lt(t);!(n=e()).done;){var s=n.value.sLt.kP;s.V>0&&(i=i?i.Mn(s):s,r=b.max(r,s.Tn(0)))}if(!i)return EA.rL();if(i.V>0)return i;return EA.sL(r)}(this.vGt);0!==n.V&&(this.H4=n,null==(t=this.Opt)||t.jU(n.Tn(0)),null==(i=this.ENt)||i.jU(n.Tn(0)))},n.ajt=function(t){var i=[];if(this.cjt)for(var n,r=Lt(this.aXt);!(n=r()).done;)for(var e,s=Lt(n.value.Ezt);!(e=s()).done;){var u=e.value.IHt(t);u&&!jn(i,u)&&i.push(u)}Kn(this.vjt,i)||(this.vjt=i,this.So(new eY))},n.mq=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;r.src&&this.Aq.hV(r)}},n.qlt=function(){var t,i,n=function(){var i=u.value,n=new lg,r=[];n.gO(new hj(o,i)),r.push(i);for(var e,s=Lt(h);!(e=s()).done;){var a=e.value,c=Fn(a.lFt,function(t){return $G(t,i)&&!rj(r,t)});c&&(n.gO(new hj(a,c)),r.push(c))}t.tO.tt(new sj(t,t.Mz,t.tO,n))},r=function(){var t=c.value,n=new lg,r=[];n.gO(new aj(o,t)),r.push(t);for(var e,s=Lt(h);!(e=s()).done;){var u=e.value,a=Fn(u.fFt,function(i){return $G(i,t)&&!rj(r,i)});a&&(n.gO(new aj(u,a)),r.push(a))}i.sO.tt(new uj(i,i.Mz,i.sO,n))},e=this.Br._Vt;if(0!==e.length){for(var s,u,o=null!=(s=Fn(e,function(t){return 0!==t.lFt.length&&0!==t.fFt.length}))?s:e[0],h=e.filter(function(t){return t!==o}),a=Lt(o.lFt);!(u=a()).done;)t=this,n();for(var c,f=Lt(o.fFt);!(c=f()).done;)i=this,r()}else vj.FLt(_K,"The HLSModel contains no variant streams.")},n.iXt=function(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(this.Mkt)return[2];if(this.nEt.NVt)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.nEt.UVt(t)];case 2:return u.sent(),[3,4];case 3:throw lr(i=u.sent()),this.cP=!1,new ld(vd.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:this.qlt(),u.label=5;case 5:return[4,this.Tjt()];case 6:return n=u.sent(),this.kjt(n),this.Ejt(n),r=this.xjt(n.lFt),e=this.Pjt(n.fFt),(s=this.Ijt(n.vFt))||this.Cjt(n._Ft),[4,this.MGt(r,e,s,{nXt:!0})];case 7:return u.sent(),this.Mkt=!0,[2]}})}).call(this)},n.Ejt=function(t){var i=this.ENt;if(i)for(var n,r=function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value,s=sK(e);void 0!==s&&n.push({Sit:s,Tit:e.bs||"",Th:e.l})}return n}(t._Ft),e=Lt(r);!(n=e()).done;){var s=n.value;i.$gt(s)}},n.Tjt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:if(this.Rjt=this.Br._Vt,!this.Rjt.length)throw new ld(vd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,this.Djt(this.Rjt)];case 1:if(0===(t=n.sent()).length)throw new ld(vd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,this.Njt(t)];case 2:return(i=n.sent()).length>0&&(t=i),vj.cN(_K,"Selecting initial active variant stream."),[2,oK(t,this.Mc.abr,this.Mz,this.Ndt.maximumBackoff)]}})}).call(this)},n.xjt=function(t){if(this.Bjt){var i=this.Mjt(this.Bjt);if(i)return i}return wK(t)},n.Pjt=function(t){if(this.Ljt){var i=this.Mjt(this.Ljt);if(i)return i}return wK(t)},n.Ijt=function(t){for(var i,n=Lt(this.Gl.NI);!(i=n()).done;){var r=i.value;r.Qk===zm.Kn&&(this.Ojt=this.Sjt.aGt(r))}if(this.Ojt){var e=this.Mjt(this.Ojt);if(e)return e}return lK(t)},n.Cjt=function(t){var i=this.ENt;if(i){var n=lK(t);if(void 0!==n){var r=sK(n);i.Jgt(r).Qk=zm.Kn}}},n.wLt=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(!this.Fjt(r))throw new y("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Rjt=t},n.Fjt=function(t){var i=this.Br;return!!i&&jn(i._Vt,t)},n.Mjt=function(t){if(t&&this.cjt)return Fn(this.cjt.VLt,function(i){return i===t})},n.Ujt=function(){return Vt(function(){var t,i,n,r;return zt(this,function(e){switch(e.label){case 0:return 0!==(i=null!=(t=this.Rjt)?t:this.Br._Vt).length||this.Rjt?1!==i.length||this.Rjt?[4,this.Djt(i)]:(vj.cN(_K,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(vj.cN(_K,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(n=e.sent()).length?(vj.FLt(_K,"No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(r=aK(n,this.Ndt.maximumBackoff)).length?[3,3]:this.Vjt?[2,[]]:(vj.FLt(_K,"No variant streams with online renditions available to perform ABR selection on."),this.Hjt++,[4,this.Wjt(n)]);case 2:return e.sent(),[2,[]];case 3:return[2,r]}})}).call(this)},n.qjt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return[4,this.QLt()];case 1:return void 0===(t=n.sent())?[2]:(i=!!this.cjt&&t.IW<this.cjt.IW,[4,this.yLt(t,{bLt:i})]);case 2:return n.sent(),[2]}})}).call(this)},n.QLt=function(){return Vt(function(){var t,i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.Ujt()];case 1:return 0===(t=s.sent()).length?[2,void 0]:[4,this.Njt(t)];case 2:return i=s.sent(),n=this.oa.uXt(),[4,this.ZGt.QLt(t,this.cjt,i,n,this.oa.cXt())];case 3:return r=s.sent(),e=!!this.cjt&&r.IW<this.cjt.IW,[2,e||this.zjt(r,n.qLt)?r:void 0]}})}).call(this)},n.zjt=function(t,i){var n;if(t===this.cjt)return!1;var r=this.cjt&&cK(this.cjt,this.Ndt.maximumBackoff),e=cK(t,this.Ndt.maximumBackoff);if(!r&&e)return!0;(!this.DDt||this.DDt.gLt.IW>t.IW)&&(this.DDt={gLt:t,wft:Ui.Mg()});var s,u=Ui.Mg()-this.DDt.wft,o=null!=(s=null==(n=this.ljt)?void 0:n.sLt.WLt)?s:1/0;return i>=b.max(o-1,5)||u>1e3},n.Gjt=function(t){return Zn(t,function(t){return t.IW})},n.ujt=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:return this.DDt=void 0,[4,this.Ujt()];case 1:return 0===(t=r.sent()).length?[2]:[4,this.Njt(t)];case 2:return(i=r.sent()).length>0&&(t=i),void 0===(n=this.Gjt(t))?[3,4]:[4,this.yLt(n,{bLt:!0})];case 3:r.sent(),this.oa.dq.JIt(n.IW),r.label=4;case 4:return[2]}})}).call(this)},n.Wjt=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:i=this,this.Vjt=!0,n=!1,r=Lt(t),o.label=1;case 1:if((e=r()).done)return[3,6];s=e.value,o.label=2;case 2:return o.trys.push([2,4,,5]),void 0===(u=this.ljt?Fn(s.fFt,function(t){return $G(t,i.ljt)}):void 0)?[3,5]:[4,this.jVt(u)];case 3:return o.sent(),u.sLt.bUt=-1/0,n=!0,[3,5];case 4:return o.sent(),[3,5];case 5:return[3,1];case 6:return n?(this.Hjt=0,[4,this.oa.NXt()]):[3,8];case 7:return o.sent(),[3,10];case 8:return this.Hjt>=this.Ndt.maxRetries?(this.oa.Qq(new ld(vd.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Ar(b.min(this.Ndt.minimumBackoff*b.pow(2,this.Hjt-1),this.Ndt.maximumBackoff))];case 9:o.sent(),o.label=10;case 10:return this.Vjt=!1,[4,this.qjt()];case 11:return o.sent(),[2]}})}).call(this)},n.Djt=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return i=this,[4,rr(t,function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return 0===(r=[(null==(i=t.Rrt)?void 0:i.q9)?'audio/mp4; codecs="'+t.Rrt.q9+'"':void 0,(null==(n=t.Rrt)?void 0:n.W9)?'video/mp4; codecs="'+t.Rrt.W9+'"':void 0].filter(Li)).length?[2,!0]:[4,this.$Gt.$Z(r,this.Mc.useManagedMediaSource)];case 1:return[2,e.sent()]}})}).call(i)})];case 1:return(n=r.sent()).some(function(t){var i;return null==(i=t.Rrt)?void 0:i.W9})&&(n=n.filter(function(t){return!t.Rrt||t.Rrt.W9||0!==t.fFt.length})),n.some(function(t){var i;return null==(i=t.Rrt)?void 0:i.q9})&&(n=n.filter(function(t){return!t.Rrt||t.Rrt.q9||0!==t.lFt.length})),[2,n]}})}).call(this)},n.Njt=function(t){var i=this;return this.nEt.MVt?rr(t,function(t){return function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=Lt(t),s.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,[4,i(e)]);case 2:if(!s.sent())return[2,!1];s.label=3;case 3:return[3,1];case 4:return[2,!0]}})})()}([wK(t.lFt),wK(t.fFt),lK(t.vFt),lK(t._Ft)].filter(Li),function(t){return i.Xjt(t)})}):ut.resolve([])},n.Xjt=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:if(0===t.sLt.bct.length)return[2,!1];if(!(i=t.sLt.bct[0]).Syt)return[2,!1];n=i.Syt,r=n.iAt?Rj(n.iAt.Tn,n.iAt.V):void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.Sut.sdt(n.XE,r)];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})}).call(this)},n.RLt=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return this.cjt?(i=this.Mjt(t),t&&!i?(vj.lt(_K,"Trying to set an invalid rendition as the active audio rendition."),[2]):this.djt===i?[2]:(n=Li(i)!==Li(this.djt),vj.cN(_K,"Switching audio rendition"),[4,this.MGt(i,this.ljt,this.fjt,{SLt:!0,bLt:n})])):(this.Bjt=t,[2]);case 1:return r.sent(),[2]}})}).call(this)},n.NLt=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return this.cjt?(i=this.Mjt(t),t&&!i?(vj.lt(_K,"Trying to set an invalid rendition as the active video rendition."),[2]):this.ljt===i?[2]:(n=Li(i)!==Li(this.ljt),vj.cN(_K,"Switching video rendition"),[4,this.MGt(this.djt,i,this.fjt,{ALt:!0,bLt:n})])):(this.Ljt=t,[2]);case 1:return r.sent(),[2]}})}).call(this)},n.uGt=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return this.cjt?(i=this.Mjt(t),t&&!i?(vj.lt(_K,"Trying to set an invalid rendition as the active subtitle rendition."),[2]):(vj.cN(_K,"Switching subtitle rendition"),[4,this.MGt(this.djt,this.ljt,i)])):(this.Ojt=t,[2]);case 1:return n.sent(),[2]}})}).call(this)},n.jjt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.Vjt?[2]:(n=0===this.sO.V,t.Km===Dj.Mk||t.Km===Dj.Bk&&n?[3,2]:[4,this.Qjt(t,i)]);case 1:return r.sent(),[3,10];case 2:return this.Rjt&&this.Rjt.length<=1?t.Km!==Dj.Mk||this.ljt===t?[3,4]:[4,this.MGt(this.djt,t,this.fjt)]:[3,8];case 3:return r.sent(),[3,6];case 4:return t.Km===Dj.Bk&&n&&this.djt!==t?[4,this.MGt(t,this.ljt,this.fjt)]:[3,6];case 5:r.sent(),r.label=6;case 6:return[4,this.Qjt(t,i)];case 7:return r.sent(),[3,10];case 8:return[4,this.qjt()];case 9:r.sent(),r.label=10;case 10:return[2]}})}).call(this)},n.jVt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,this.nEt.jVt(t,i)];case 1:return r.sent(),[3,5];case 2:return lr(n=r.sent()),Ql(n)||Yl(n)?[4,this.jjt(t,i)]:[3,4];case 3:r.sent(),r.label=4;case 4:throw n;case 5:return[2]}})}).call(this)},n.Qjt=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:if(n=this,jn(this.Kjt,t))return[2];this.Kjt.push(t),s.label=1;case 1:return s.trys.push([1,3,4,7]),r=t.Km===Dj.HU||t.Km===Dj.YLt?1/0:this.Ndt.maxRetries,[4,mT(function(){return n.retryOfflineRenditionsCallback(t,i)},i,r,this.Ndt.minimumBackoff,this.Ndt.maximumBackoff)];case 2:return s.sent(),[3,7];case 3:return e=s.sent(),this.oa.Qq(new ld(vd.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return Xn(this.Kjt,t),t.sLt.bUt!==-1/0?[3,6]:[4,this.oa.NXt()];case 5:s.sent(),s.label=6;case 6:return[7];case 7:return[2]}})}).call(this)},n.fXt=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return n=this.djt,r=this.ljt,(e=[]).push(this.Yjt(r,t)),tj(n,r)||e.push(this.Yjt(n,t)),s=this.fjt,(null==(i=this.Mc.hls)?void 0:i.delaySubtitlePreload)?[4,ut.all(e)]:[3,3];case 1:return o.sent(),[4,this.Yjt(s,t)];case 2:return o.sent(),[3,5];case 3:return u=this.Yjt(s,t),[4,ut.all([].concat(e,[u]))];case 4:o.sent(),o.label=5;case 5:return[2]}})}).call(this)},n.Yjt=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:if(!t)return[2];r.label=1;case 1:return r.trys.push([1,3,,6]),[4,this.nEt.jVt(t,i)];case 2:return r.sent(),[3,6];case 3:return lr(n=r.sent()),Ql(n)||Yl(n)?[4,this.Jjt(t,i)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[3,6];case 6:return[2]}})}).call(this)},n.Jjt=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return this.Vjt?[2]:(n=0===this.sO.V,t.Km===Dj.Mk||t.Km===Dj.Bk&&n?[3,2]:[4,this.Qjt(t,i)]);case 1:return o.sent(),[3,7];case 2:return this.Rjt&&this.Rjt.length<=1?[4,this.Qjt(t,i)]:[3,4];case 3:return o.sent(),[3,7];case 4:return[4,this.Tjt()];case 5:return r=o.sent(),this.kjt(r),e=this.xjt(r.lFt),s=this.Pjt(r.fFt),u=this.Ijt(r.vFt),[4,this.MGt(e,s,u)];case 6:o.sent(),o.label=7;case 7:return[2]}})}).call(this)},n.MGt=function(t,i,n,r){void 0===r&&(r={});var e={bLt:r.bLt||!1,SLt:r.SLt||!1,ALt:r.ALt||!1,tI:r.tI||!1,nXt:r.nXt||!1};return e.nXt||e.tI||this.djt!==t||this.ljt!==i||this.fjt!==n?void 0===t&&void 0===i?ut.reject(new y("Trying to buffer no media renditions.")):(this.djt=t,this.ljt=i,this.fjt=n,this.BUt(),this.So(new JY),this.oa.MGt(e)):ut.resolve()},n.yLt=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return n=this,this.oa.sXt?t?this.Fjt(t)?t===this.cjt?(vj.cN(_K,"Trying to set the already active variant stream, ignoring."),[2]):(r=this.djt?Fn(t.lFt,function(t){return $G(t,n.djt)}):void 0,e=this.ljt?Fn(t.fFt,function(t){return $G(t,n.ljt)}):void 0,s=this.fjt?Fn(t.vFt,function(t){return $G(t,n.fjt)}):void 0,this.kjt(t),this.DDt=void 0,[4,this.MGt(r,e,s,i)]):(vj.lt(_K,"Trying to set an active variant stream that does not exists on the internal model."),[2]):(vj.lt(_K,"Cannot explicitly set the active variant stream to undefined."),[2]):(vj.lt(_K,"The LLHLSPlayer is not loaded."),[2]);case 1:return u.sent(),[2]}})}).call(this)},n.kjt=function(t){var i;if(vj.cN(_K,"Setting active variant stream."),this.cjt!==t){var n=(null==(i=this.cjt)?void 0:i.yOt)!==(null==t?void 0:t.yOt);if(this.cjt&&n)for(var r,e=Lt(this.cjt.vFt);!(r=e()).done;){var s=r.value;this.Sjt.mFt(s)}if(this.cjt=t,this.So(new KY),t&&n)for(var u,o=Lt(t.vFt);!(u=o()).done;){var h=u.value;this.Sjt.hGt(h)}}},n.Zjt=function(){this.$jt(this.tO),this.$jt(this.sO)},n.$jt=function(t){for(var i,n=[],r=Lt(t.NI);!(i=r()).done;){for(var e,s=i.value,u=[],o=Lt(s.$I.NI);!(e=o()).done;){var h=e.value;jn(h.gLt.VLt,h.fLt)||u.push(h)}for(var a,c=Lt(u);!(a=c()).done;){var f=a.value;s.$I.pS(f),f.kn()}0===s.$I.V&&n.push(s)}for(var v,d=Lt(n);!(v=d()).done;){var l=v.value;t.it(l),l.kn()}},n.SXt=function(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:i=this,n={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=qt(n,hr.ep([t]),!1),e=[this.ljt,tj(this.djt,this.ljt)?void 0:this.ljt,this.fjt].filter(Li),[4,ut.all(e.filter(function(t){return!t.sLt.vUt}).map(function(t){return i.nEt.QVt(t,r.Yg)}))];case 2:return u.sent(),[3,5];case 3:return s=u.sent(),n.error=s,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})}).call(this)},n.mXt=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k;return zt(this,function(b){switch(b.label){case 0:if(r=this.djt,e=this.ljt,s=null==(t=this.cjt)?void 0:t.Rrt,u=[],void 0!==r){if(!(a=null!=(h=null==(o=r.Rrt)?void 0:o.q9)?h:null==s?void 0:s.q9))return[2,void 0];c='audio/mp4; codecs="'+a+'"',vj.cN(_K,"Configuring MediaSource for initial audio rendition with codec: "+c+"."),u.push(c)}if(void 0!==e){if(!(d=null!=(v=null==(f=e.Rrt)?void 0:f.W9)?v:null==s?void 0:s.W9))return[2,void 0];l='video/mp4; codecs="'+d+'"',vj.cN(_K,"Configuring MediaSource for initial video rendition with codec: "+l+"."),u.push(l)}return 0===u.length?(vj.FLt(_K,"No codecs found on the active variant stream."),[2,void 0]):(g=null!=(w=null==e||null==(i=e.sLt.bct[0])?void 0:i.UW)?w:[],m=null!=(_=null==r||null==(n=r.sLt.bct[0])?void 0:n.UW)?_:[],y=this.Mc,p=this.Br,[4,Vj(y.contentProtection,u,[].concat(p.fVt,m,g),this.aV,y.useCredentials)]);case 1:return k=b.sent(),[2,{Km:Iy.SV,q4:u.map(function(t){return{GT:t}}),fq:k,t5:y.useManagedMediaSource}]}})}).call(this)},n.yXt=function(t,i,n,r,e){var s,u,o=this.djt,h=this.ljt,a=t&&tj(o,h);if(i&&h)if(this.gjt)(n||e||a&&r)&&(this.gjt.Zg(),this.gjt.Rzt.jy()),this.gjt.fLt!==h&&this.gjt.MWt(h);else{var c=a?[eg.Mk,eg.Bk]:[eg.Mk];this.gjt=this.iQt(h,c)}else null==(s=this.gjt)||s.zg(),this.gjt=void 0;t&&o&&!a?this._jt?((n||r)&&(this._jt.Zg(),this._jt.Rzt.jy()),this._jt.fLt!==o&&this._jt.MWt(o)):this._jt=this.eQt(o):(null==(u=this._jt)||u.zg(),this._jt=void 0)},n.bXt=function(t){var i=this.fjt;this.tQt&&(this.tQt.fLt===i?t&&(this.tQt.Zg(),this.tQt.Rzt.jy()):(this.tQt.zg(),this.tQt=void 0));if(!this.tQt&&i&&(this.tQt=this.sQt(i)),i){var n=this.Sjt.dGt(i);n.Qk=zm.Kn,this.Bzt(n)}},n.iQt=function(t,i){var n=function(t,i,n,r,e,s,u,o,h,a,c){var f=n.Br.AM,v=new OY(f),d=new DY(eg.Mk,t,n,v,r,e,s,c),l=u._Tt(v,f,i);return new YY(d,v,l,o,h,a)}(t,i,this.nEt,this.aV,this.Sut,this.XHt,this.YGt,this.Opt,this.ENt,this.Mz,this.Mc.useCredentials);return n.Pzt.wn(PY.IWt,this.nQt),n.Pzt.wn(PY.CWt,this.rQt),n.Pzt.wn(eh.iy,this.Rs),n.Izt.wn(WY.Jqt,this.hQt),n.Izt.wn(WY.$qt,this.oQt),n.Izt.wn(WY.tzt,this.aQt),n.Izt.wn(WY.Zqt,this.uQt),n},n.eQt=function(t){var i=function(t,i,n,r,e,s,u,o,h){var a=i.Br.AM,c=new OY(a),f=new DY(eg.Bk,t,i,c,n,r,e,h),v=s._Tt(c,a,[eg.Bk]);return new YY(f,c,v,u,void 0,o)}(t,this.nEt,this.aV,this.Sut,this.XHt,this.YGt,this.Opt,this.Mz,this.Mc.useCredentials);return i.Pzt.wn(PY.CWt,this.rQt),i.Izt.wn(WY.Jqt,this.hQt),i.Izt.wn(WY.Zqt,this.uQt),i},n.sQt=function(t){return function(t,i,n,r,e,s){var u=i.Br.AM,o=new OY(u),h=new DY(eg.LT,t,i,o,n,r,e,s),a=new GY(o,u,eg.LT);return new YY(h,o,a)}(t,this.nEt,this.aV,this.Sut,this.XHt,this.Mc.useCredentials)},n.Czt=function(t,i){if(t?this.B4&&this.B4.$zt(t,this.QU)||(this.B4=new nK(eg.Bk,t,this.QU)):this.B4=void 0,i?this.M4&&this.M4.$zt(i,this.QU)||(this.M4=new nK(eg.Mk,i,this.QU)):this.M4=void 0,void 0!==this.gjt){var n=void 0!==t&&void 0===this._jt,r=[this.M4,n?this.B4:void 0].filter(Li);this.gjt.Czt(r)}if(void 0!==this._jt){var e=this.B4?[this.B4]:[];this._jt.Czt(e)}},n.Bzt=function(t){t?this.cQt&&this.cQt.$zt(t)||(this.cQt=new eK(t,this.Br.AM)):this.cQt=void 0,void 0!==this.tQt&&void 0!==this.cQt&&this.tQt.Bzt(this.cQt)},n.WGt=function(t){if(this.iV!==t){this.iV=t;for(var i,n=Lt(this.bjt);!(i=n()).done;){i.value.tV(t)}var r=this.fjt;if(void 0!==r){var e=this.Sjt.dGt(r);this.Bzt(e)}}},n.AXt=function(t,i){var n=[];t&&n.push(eg.Bk),i&&n.push(eg.Mk),this.Br.AM.dVt(n)},n.dQt=function(){if(void 0===this.gjt)return!1;var t=Ui.Mg();if(!this.gjt.Pzt.Nqt(t))return!1;var i=this.gjt.Pzt.Iqt();if(void 0===i||void 0===i.yut.ct)return!1;var n=this.zx,r=this.oa.vP,e=this.gjt.Mzt.iL(n);return!((void 0!==e?e.An(0)-n:0)>=2*i.yut.ct*r)&&(i.Cqt>0&&0===i.Rqt?i.Dqt>1e3*i.yut.ct*.8:8*i.Rqt/this.Mz.CY.IW>=1.8*i.yut.ct)},n.lQt=function(){return Vt(function(){var t,i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return[4,this.QLt()];case 1:return void 0===(i=o.sent())||void 0===(n=null==(t=this.gjt)?void 0:t.Pzt.Iqt())?[2]:(r=this.cjt,n.Rqt>0&&(e=b.max(0,n.Rqt-n.Cqt),s=n.Rqt*(i.IW/r.IW),e<=s)?[2]:(u=i.IW<r.IW,[4,this.yLt(i,{bLt:u})]));case 2:return o.sent(),[2]}})}).call(this)},n.ZXt=function(){for(var t,i=Lt(this.tO.NI);!(t=i()).done;){t.value.kn()}for(var n,r=Lt(this.sO.NI);!(n=r()).done;){n.value.kn()}for(var e,s=Lt(this.Gl.NI);!(e=s()).done;){e.value.kn()}this.tO.hr(),this.sO.hr(),this.Gl.hr()},n.zg=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:this.Vo(),this.uV.Zg(),this.nEt.zg(),this._jt&&(this._jt.zg(),this._jt=void 0),this.gjt&&(this.gjt.zg(),this.gjt=void 0),this.tQt&&(this.tQt.zg(),this.tQt=void 0),t=Lt(this.bjt),r.label=1;case 1:return(i=t()).done?[3,4]:[4,(n=i.value).kn()];case 2:r.sent(),this.Gl.XW(n.Z),r.label=3;case 3:return[3,1];case 4:return this.ZXt(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.Kjt=[],this.kjt(void 0),[2]}})}).call(this)},Nt(i,[{key:"vLt",get:function(){return this.cjt}},{key:"CLt",get:function(){return this.djt}},{key:"DLt",get:function(){return this.ljt}},{key:"cGt",get:function(){return this.fjt}},{key:"vGt",get:function(){return[this.djt,this.ljt].filter(Li)}},{key:"ht",get:function(){return this.tO}},{key:"Br",get:function(){return this.nEt.Br}},{key:"CGt",get:function(){return this.nEt}},{key:"sUt",get:function(){var t=this.vGt;return 0===t.length?EA.rL():t.reduce(function(t,i){return t.Mn(i.sLt.sUt)},EA.hL())}},{key:"mLt",get:function(){return this.vjt}},{key:"zx",get:function(){return this.oa.mGt(this)}},{key:"BGt",get:function(){var t,i,n=null==(t=this._jt)?void 0:t.Mzt,r=null==(i=this.gjt)?void 0:i.Mzt;return n&&r?r.Mn(n):null!=r?r:n}},{key:"kP",get:function(){return this.H4}},{key:"nt",get:function(){return this.Gl}},{key:"rt",get:function(){return this.sO}},{key:"iFt",get:function(){var t,i;return(null==(t=this.djt)?void 0:t.sLt.iFt)||(null==(i=this.ljt)?void 0:i.sLt.iFt)||!1}},{key:"xXt",get:function(){var t,i,n;return null!=(n=null==(t=this.djt)?void 0:t.sLt.ct)?n:null==(i=this.ljt)?void 0:i.sLt.ct}},{key:"pjt",get:function(){var t,i,n=null==(t=this.djt)?void 0:t.sLt.ct,r=null==(i=this.djt)?void 0:i.sLt.ct;return void 0!==n&&void 0!==r?b.min(n,r):null!=n?n:r}},{key:"mjt",get:function(){var t,i=null==(t=this.nEt.OVt)?void 0:t.sLt.ct;if(void 0!==i)return i;var n=this.vGt;return n.length>0&&n.every(function(t){return function(t){return t.sLt.bct.length>0&&!t.sLt.iFt}(t)})?1/0:NaN}},{key:"ct",get:function(){var t;return null!=(t=this.xXt)?t:this.mjt}},{key:"PGt",get:function(){var t;return null!=(t=this.pjt)?t:this.mjt}},{key:"lGt",get:function(){var t=this.vGt;if(0!==t.length&&this.ct===1/0){for(var i,n,r=Lt(t);!(n=r()).done;){var e=n.value,s=e.sLt.kP;if(0!==s.V){var u=s.An(s.V-1)+e.sLt.ISt,o=e.sLt.mUt,h=u+(null!=o?o:0);(!i||i<h)&&(i=h)}}return i}}},{key:"TXt",get:function(){var t,i,n;if(void 0!==(null==(t=this.wjt)?void 0:t.CO))return{YF:this.wjt.CO,iq:!1};if(void 0!==(null==(i=this.wjt)?void 0:i.yjt)){var r,e=null==(r=this.cjt)?void 0:r.pFt(this.wjt.yjt);if(void 0!==e)return{YF:e,iq:!1}}if(null==(n=this.cjt)?void 0:n.sLt.Tn){var s=this.cjt.sLt,u=s.Tn,o=u.qOt;if(u.qOt<0){var h=s.sUt;o+=h.An(h.V-1)}return{YF:o,iq:!u.zOt}}return this.iFt?void 0:{YF:1/0,iq:!0}}},{key:"jGt",get:function(){var t;if(this.Mc.latencyConfiguration)return this.Mc.latencyConfiguration;var i=this.vGt;if(0!==i.length&&!this.iFt){var n=(t=b).max.apply(t,[].concat(i.map(function(t){var i;return null!=(i=t.sLt.ISt)?i:0})));return{minimumOffset:.66*n,maximumOffset:2*n,targetOffset:1*n,forceSeekOffset:3*n,minimumPlaybackRate:CA,maximumPlaybackRate:PA}}}},{key:"DGt",get:function(){return this.Mkt}},{key:"cP",get:function(){return this.ASt},set:function(t){this.ASt!==t&&(this.ASt=t,this.So(t?new LH:new FH))}},{key:"uO",get:function(){return this.Ekt}},{key:"EU",get:function(){return this.QU},set:function(t){this.QU=t;for(var i,n=Lt(this.bjt);!(i=n()).done;){i.value.EU=t}}},{key:"bjt",get:function(){return[this.Ajt,this.Sjt,this.Aq,this.Opt,this.kq,this.ENt].filter(Li)}},{key:"aXt",get:function(){return[this._jt,this.gjt,this.tQt].filter(Li)}}]),i}(th);function TK(t,i){if(!i||i.sLt.iFt)return!1;var n=i.sLt.bct;return 0!==n.length&&n[0].CO>t}U(),Et(),Wt(),Qt();var SK=function(){function t(){}var i=t.prototype;return i.Jq=function(t,i){return!!GA(t.type)&&!t.useNativePlayback},i.Zq=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return t.aes128?[2,!0]:[4,Np(t,!0)];case 1:return[2,i.sent()]}})})()},t}();U(),Et(),U(),Et(),Wt(),Qt();var EK=function(){function t(){}var i=t.prototype;return i.zHt=function(t,i,n){return Vt(function(){var r,e;return zt(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=s.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:n},r,t)];case 2:return e=s.sent(),[2,new E(e)];case 3:throw s.sent(),new ld(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}})})()},i.zg=function(){},t.US=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();U(),Et(),U(),Et(),Wt(),Qt(),U(),Et(),xt(),Pt(),H(),Ft(),U(),Et(),Pt();var IK=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).data=void 0,r.data=n,r}return Ct(i,t),i}(rh),RK=["message","messageerror","error"];U(),Et(),Pt();var CK=function(t){function i(i){var n;return(n=t.call(this,qm.ma)||this).error=void 0,n.error=i,n}return Ct(i,t),i}(rh),PK=function(t){function i(i){var n;return(n=t.call(this)||this).mQt=void 0,n.gQt=void 0,n.wQt=[],n.AQt=function(t){if(n._Qt)t.bQt();else{n.mQt=t,n.mQt.wn(RK,n.Rs);for(var i,r=Lt(n.wQt);!(i=r()).done;){var e=i.value;t.pQt(e.Iy,e.yQt)}Yn(n.wQt)}},n.SQt=function(t){if(!n._Qt){var i=V(t,y)?t:new y("Could not create Worker.");n.So(new CK(i)),n.bQt()}},n.gQt=new hr,i(n.gQt.Yg).then(n.AQt,n.SQt),n}Ct(i,t);var n=i.prototype;return n.pQt=function(t,i){this._Qt||(void 0!==this.mQt?this.mQt.pQt(t,i):this.wQt.push({Iy:t,yQt:i}))},n.bQt=function(){this._Qt||(this.gQt.Zg(),Yn(this.wQt),void 0!==this.mQt&&this.mQt.bQt())},Nt(i,[{key:"_Qt",get:function(){return this.gQt.Yg.Hg}}]),i}(th);U(),Et(),U(),Et(),Pt(),H();var DK=function(t){function i(i,n){var r;return(r=t.call(this)||this).mQt=void 0,r.TQt=function(t){r.So(new IK("message",t.data))},r.kQt=function(t){r.So(new IK("messageerror",t.data))},r.L7=function(t){null==t.preventDefault||t.preventDefault.call(t);var i=V(t.error,y)?t.error:new y(t.message);r.So(new CK(i)),r.bQt()},r.mQt=new I(i,n),r.mQt.addEventListener("message",r.TQt),r.mQt.addEventListener("messageerror",r.kQt),r.mQt.addEventListener("error",r.L7),r}Ct(i,t);var n=i.prototype;return n.pQt=function(t,i){i?this.mQt.postMessage(t,i):this.mQt.postMessage(t)},n.bQt=function(){this.Vo(),this.mQt.removeEventListener("message",this.TQt),this.mQt.removeEventListener("messageerror",this.kQt),this.mQt.removeEventListener("error",this.L7),this.mQt.terminate()},i}(th);U(),Et(),Pt();var NK=0,xK=function(t){function i(i,n){var r;(r=t.call(this)||this).aS=void 0,r.IQt=void 0,r.EQt=void 0,r.CQt=void 0,r.xQt=function(){r.EQt.removeEventListener("load",r.xQt),r.EQt.contentWindow.postMessage({type:"initialize",id:r.aS,script:r.IQt},"*")},r.PQt=function(t){t.origin===r.CQt&&t.data.id===r.aS&&("initialized"===t.data.type||("error"===t.data.type?(r.So(new CK(new y(t.data.data.message))),r.bQt()):r.So(new IK("message",t.data.data))))},r.aS=NK++,r.IQt=i;var e=Ui.Dh("iframe.html",n);return r.EQt=function(t){var i=v.createElement("iframe");return i.width="0",i.height="0",i.style.display="none",i.role="",i.src=t,v.body.appendChild(i),i}(e.href),r.CQt=e.origin,r.EQt.addEventListener("load",r.xQt),self.addEventListener("message",r.PQt),r}Ct(i,t);var n=i.prototype;return n.pQt=function(t,i){i?this.EQt.contentWindow.postMessage({type:"message",data:t},"*",i):this.EQt.contentWindow.postMessage({type:"message",data:t},"*")},n.bQt=function(){var t;this.EQt.removeEventListener("load",this.xQt),self.removeEventListener("message",this.PQt),null==(t=this.EQt.contentWindow)||t.postMessage({type:"terminate"},"*"),Zi(this.EQt)},i}(th);function BK(t,i,n){var r=Ui.Pm(t,i);return new PK(function(t){return function(t,i,n,r){return Vt(function(){var e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,MK(e=new DK(t,n),r)];case 1:return f.sent(),[2,e];case 2:return s=f.sent(),null==e||e.bQt(),lr(s),[3,3];case 3:if(!OK||!Md)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Ui.Dx.vk({Yu:t,Hk:ml.GET,fk:Ud.LT,Yg:r})];case 5:return[4,f.sent().HT(r)];case 6:return u=f.sent(),[3,8];case 7:return lr(f.sent()),[3,8];case 8:if(!u)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),h=Md([u],{type:"application/javascript"}),o=URL.createObjectURL(h),[4,MK(e=new DK(o,n),r)];case 10:return f.sent(),[2,e];case 11:return a=f.sent(),null==e||e.bQt(),lr(a),OK=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,MK(e=new xK(t,i),r)];case 14:return f.sent(),[2,e];case 15:throw c=f.sent(),null==e||e.bQt(),c;case 16:return[2]}})})()}(r,i,n,t)})}var OK=!0;function MK(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,t.ww(["message","error"],i)];case 1:if("error"===(n=r.sent()).type)throw function(t){return new ld(vd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(n.error);if(!function(t){return zi(t)&&"10.3.0"===t.RQt}(n.data))throw new ld(vd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (10.3.0).");return[2,n]}})})()}U(),Et();var LK=function(t){return t.DQt="zHt",t.NQt="gWt",t}({}),FK=function(t){return t.BQt="MQt",t.LQt="OQt",t}({}),UK=function(){function t(t){var i=this;this.VQt=void 0,this.UQt=void 0,this.mQt=void 0,this.qQt=0,this.KQt=Ju(),this.HQt=function(t){var n=t.data,r=n.YQt,e=i.KQt.get(r);if(e)if(i.KQt.delete(r),n.JQt===FK.BQt)e.Qy(n.ZQt);else if(n.JQt===FK.LQt){var s=n.$Qt,u=n.tKt?new y(n.tKt):void 0,o=new ld(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+s+")",u);e.Ky(o)}},this.WQt=function(t){var n=new ld(vd.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);i.zg(n)},this.VQt=t;try{this.UQt=Ui.Pm("theoplayer.d.js",t)}catch(t){throw new ld(vd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var i=t.prototype;return i.FQt=function(){var t=BK(this.UQt,this.VQt,{name:"THEOplayer decrypt worker"});return t.wn("message",this.HQt),t.wn("error",this.WQt),t},i.zHt=function(t,i,n){var r=""+ ++this.qQt,e={zQt:LK.DQt,GQt:r,XQt:t,jQt:i,QQt:n},s=new Va;return this.KQt.set(r,s),null!=this.mQt||(this.mQt=this.FQt()),this.mQt.pQt(e),s.Yy},i.zg=function(t){void 0===t&&(t=new fr),this.KQt.forEach(function(i){return i.Ky(t)}),this.KQt.clear(),this.mQt&&(this.mQt.bQt(),this.mQt=void 0)},t}();function VK(t){var i=Fn(t.boxes,oC);if(i){var n=Fn(i.boxes,hC);if(n)return n.handlerType}}function HK(t){var i,n=new mv;return(i=n.boxes).push.apply(i,[].concat(t.boxes)),n}function WK(t){var i,n=new Df;return(i=n.boxes).push.apply(i,[].concat(t.boxes)),n}U(),Et(),Pt(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),H();var zK=8;function XK(t,i){for(var n=function(t){var i,n=new zf;return(i=n.boxes).push.apply(i,[].concat(t.boxes)),n}(t),r=GK(i),e=0;e<n.boxes.length;e++){var s=n.boxes[e];if(s===i)n.boxes[e]=new rf(new E(i.getSize()-zK));else if(aC(s)){var u=s,o=Hn(u.boxes,function(t){return V(t,Cf)&&t.trackId===r});if(o>=0){var h=u.boxes[o],a=WK(u);a.boxes[o]=new rf(new E(h.getSize()-zK)),n.boxes[e]=a}}}return n}function qK(t,i){for(var n=function(t){var i,n=new nv;return(i=n.boxes).push.apply(i,[].concat(t.boxes)),n}(t),r=0;r<n.boxes.length;r++){var e=n.boxes[r];if(vC(e)){var s=Fn(e.boxes,dC);s&&s.trackId===i&&(n.boxes[r]=new rf(new E(e.getSize()-zK)))}}return n}function GK(t){return Fn(t.boxes,uC).trackId}function jK(t,i,n,r){for(var e,s=Fn(t.boxes,dC),u=n.eU(i).NF(),o=ue.ZERO,h=Lt(t.boxes);!(e=h()).done;){var a=e.value;if(V(a,jf)){o=oe(a.baseMediaDecodeTime,u),a.baseMediaDecodeTime=a.baseMediaDecodeTime.subtract(o);break}if(V(a,Gf)){o=oe(ue.fromNumber(a.baseMediaDecodeTime),u),a.baseMediaDecodeTime-=o.toNumber();break}}if(!o.isZero()){var c=Fn(t.boxes,lC);if(void 0!==c&&c.samples.length>0){var f=c.samples;if(!c.flags.sampleDurationPresent){c.flags.sampleDurationPresent=!0;for(var v,d=null!=r?r:s.defaultSampleDuration,l=Lt(f);!(v=l()).done;){v.value.duration=d}}f[0].duration+=o.toNumber(),c.samples=f}}}U(),Et(),H(),Ft();var QK="Mp4Transmuxer",YK=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).i3=void 0,i.iKt=void 0,i.rKt=void 0,i.hKt=void 0,i.nKt=void 0,i}Ct(i,t);var n=i.prototype;return n._zt=function(t,i){dr(i);var n=t.fLt,r=WC(_a(t.YOt.lk.lk));if(!r)throw new y("Mp4Transmuxer - Unable to parse "+n.Km+" MP4 initializer.");this.i3=r;var e=function(t){for(var i,n,r,e=Lt(t.Z);!(r=e()).done;){var s=r.value;i||(i=s.N1),n||(n=s.D1)}if(i||n)return{q9:i,W9:n,fOt:void 0};return}(r);e&&this.wzt(n,e);var s=function(t){for(var i,n=Lt(t.Z);!(i=n()).done;){var r=i.value;if(void 0!==r.B1)return r.B1}return}(r);void 0!==s&&this.yzt(n,s);var u=function(t){var i,n,r,e,s,u=Tv(t),o=Fn(u.boxes,eC),h=o.boxes.filter(sC),a=Fn(h,function(t){return VK(t)===df.AUDIO}),c=Fn(h,function(t){return VK(t)===df.VIDEO}),f={q9:{sN:a?GK(a):void 0},W9:{sN:c?GK(c):void 0}},v=null==(i=Fn(o.boxes,aC))?void 0:i.boxes.filter(cC),d=v?{q9:null!=(n=Fn(v,function(t){return t.trackId===f.q9.sN}))?n:void 0,W9:null!=(r=Fn(v,function(t){return t.trackId===f.W9.sN}))?r:void 0}:void 0;if(d&&(f.q9.FB=null==(e=d.q9)?void 0:e.defaultSampleDuration,f.W9.FB=null==(s=d.W9)?void 0:s.defaultSampleDuration),!a||!c)return{q9:a?t:void 0,W9:c?t:void 0,LU:f};var l=HK(u),w=HK(u),g=u.boxes.indexOf(o);l.boxes[g]=XK(o,c),w.boxes[g]=XK(o,a);var _=l.serialize().join(),m=w.serialize().join();return{q9:_,W9:m,LU:f}}(t.YOt.lk.lk);if(this.iKt=u.LU,u.W9){var o=Fn(r.Z,function(t){return t.sN===u.LU.W9.sN}),h={Km:"rRt",lk:{Km:zR.wZ,lk:u.W9},iat:eg.Mk,$Ot:t.$Ot,kzt:{Rrt:'video/mp4; codecs="'+o.D1+'"',UW:t.UW},CO:t.CO,fLt:t.fLt,BHt:t.YOt.BHt};this.Wqt(h)}if(u.q9){var a=Fn(r.Z,function(t){return t.sN===u.LU.q9.sN}),c={Km:"rRt",lk:{Km:zR.wZ,lk:u.q9},iat:eg.Bk,$Ot:t.$Ot,kzt:{Rrt:'audio/mp4; codecs="'+a.N1+'"',UW:t.UW},CO:t.CO,fLt:t.fLt,BHt:t.YOt.BHt};this.Wqt(c)}return ut.resolve()},n.pzt=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,b,A,T;return zt(this,function(S){switch(S.label){case 0:if(dr(i),n=t.yut.BHt,vj.cN(QK,"Transmuxing fMP4: "+Oj(n.Syt)),r=t.yut.lk,e=KK(r.lk,this.i3),void 0!==(s=tr(e.map(function(t){return t.zet}),y_))&&(n.Get=s,this.Azt(t.fLt)),this.pVt.zUt(t.$Ot))return[3,2];if(u=m_.hU(n.CO),e.length>0){for(o=tr(e.map(function(t){return t.eKt}),y_),h=Lt(this.azt);!(a=h()).done;)c=a.value,this.pVt.iVt(t.$Ot,c,o,u,JK(n),!1);this.Azt(t.fLt)}return this.pVt.zUt(t.$Ot)?[3,2]:[4,gr(this.pVt.XUt(t.$Ot),i)];case 1:S.sent(),S.label=2;case 2:return f=this.pVt.ZUt(t.$Ot),v=n.Get?this.pVt.$Ut(n.Get,n).rF():n.CO,d=XY(n,v),l=qY(n,d),g={VHt:d,HHt:l,CO:v,ct:null!=(w=n.ct)?w:0,EU:f.rF(),$Ot:t.$Ot,fLt:t.fLt,BHt:t.yut.BHt},_=function(t,i){if(void 0===i.q9.sN)return{q9:void 0,W9:t};if(void 0===i.W9.sN)return{q9:t,W9:void 0};for(var n=Tv(t),r=HK(n),e=HK(n),s=0;s<n.boxes.length;s++){var u=n.boxes[s];fC(u)&&(r.boxes[s]=qK(u,i.W9.sN),e.boxes[s]=qK(u,i.q9.sN))}var o=r.serialize().join(),h=e.serialize().join();return{q9:o,W9:h}}(r.lk,this.iKt),_.W9&&(y=this.iKt.W9.sN,p=Fn(this.i3.Z,function(t){return t.sN===y}),k=Fn(e,function(t){return t.sN===y}),b=this.sKt(_.W9,p,k,null==(m=this.iKt)?void 0:m.W9.FB,n),this.nKt=p,this.bzt(t.fLt,n,k.zet.gF(s)),A=Yu({Km:"yut",lk:{Km:zR.wZ,lk:b},iat:eg.Mk},g),this.Wqt(A)),_.q9&&(T=Yu({Km:"yut",lk:{Km:zR.wZ,lk:_.q9},iat:eg.Bk},g),this.Wqt(T)),this.rKt=n,this.hKt=e,[2]}})}).call(this)},n.sKt=function(t,i,n,r,e){if(!JK(e))return t;if(!this.rKt||!this.nKt||!this.hKt)return t;var s=this.nKt.sN,u=Fn(this.hKt,function(t){return t.sN===s}),o=this.pVt.$Ut(u.oKt,this.rKt),h=this.pVt.$Ut(n.zet,e).gF(o).eU(i.jD);if(h.cF(m_.SF))return t;if(h.hF(m_.hU(.5)))return t;var a=UQ(e)?e:e.PFt;return vj.OLt(QK,"Stretching first video frame of segment #"+a.LOt+" to fill gap of "+h.rF()+"s"),function(t,i,n,r){var e=Tv(t),s=Fn(e.boxes,fC);if(s){for(var u,o=s.getSize(),h=Lt(s.boxes);!(u=h()).done;){var a=u.value;V(a,$f)&&jK(a,i,n,r)}var c=s.getSize();if(c!==o)for(var f,v=c-o,d=Lt(s.boxes);!(f=d()).done;){var l=f.value;V(l,$f)&&wC(l,v)}}return e.serialize().join()}(t,i.jD,h,r)},i}(zY);function KK(t,i){var n=lm(km.PD(_a(t)),hm.NR);if(!n)throw new y("Mp4Transmuxer - Unable to parse segment or part.");return function(t,i){for(var n,r=function(){var t=n.value;if(!t.KB||0===t.QB.length||0===t.QB[0].iM.length)return"continue";for(var r,s=t.yD.sN,u=Fn(i.Z,function(t){return t.sN===s}),o=0,h=1/0,a=0,c=t.yD.FB||0,f=Lt(t.QB);!(r=f()).done;)for(var v,d=Lt(r.value.iM);!(v=d()).done;){var l,w=v.value,g=w.eM||0,_=o+g,m=(o+=null!=(l=w.ct)?l:c)+g;_<h&&(h=_),m>a&&(a=m)}var y=m_.yF(t.KB.KB,u.jD);e.push({sN:s,eKt:y,zet:y.gO(m_.bF(h,u.jD)),aKt:y.gO(m_.bF(o,u.jD)),oKt:y.gO(m_.bF(a,u.jD))})},e=[],s=Lt(t.Z);!(n=s()).done;)r();return e}(n,i)}function JK(t){return UQ(t)?t.KOt:0===t.CFt&&t.PFt.KOt}var ZK="MpegtsTransmuxer",$K=function(t){function i(i,n,r,e){var s;return(s=t.call(this,n,r,e)||this).wE=void 0,s._Kt=void 0,s.pKt=void 0,s.wKt=void 0,s.bKt=void 0,s.mKt=-1,s.yKt=-1,s.lKt=void 0,s.fKt=Zu(),s.wE=i,s}Ct(i,t);var n=i.prototype;return n._zt=function(i,n){return t.prototype._zt.call(this,i,n)},n.lzt=function(i,n){if(t.prototype.lzt.call(this,i,n),!this.wE.uKt()){var r,e=null!=(r=null==n?void 0:n.Syt)?r:i.Syt;if(e)/\.(ts|aac|mp3)/i.test(e.XE)&&this.wE.cKt()}},n.dKt=function(t){var i;return t.fLt===this.lKt&&this.fKt.has(t.$Ot)?i=this.fKt.get(t.$Ot):(i=hY(t.yut.lk.lk),this.lKt=t.fLt,this.fKt.set(t.$Ot,i)),i},n.pzt=function(i,n){var r=this;return Vt(function(){var e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,b,A,T,S,E,I,R,C,P,D,N,x,B,O,M;return zt(this,function(L){switch(L.label){case 0:if(dr(n),e=this.dKt(i),s=i.yut,e!==oY.gHt&&e!==oY.pHt)return[2,t.prototype.pzt.call(r,i,n)];if(s.BHt.UW.some(iJ))throw new ld(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return u=this.wE.cKt(),e!==oY.gHt?[3,2]:(vj.cN(ZK,"Transmuxing MPEG-TS: "+Oj(s.BHt.Syt)),[4,u.vKt({data:s.lk.lk,metadata:this._Kt})]);case 1:return o=L.sent(),[3,4];case 2:return vj.cN(ZK,"Transmuxing raw audio: "+Oj(s.BHt.Syt)),[4,u.gKt({data:s.lk.lk,metadata:this._Kt})];case 3:o=L.sent(),L.label=4;case 4:if(dr(n),this.wzt(i.fLt,{q9:o.metadata.audio_codec,W9:o.metadata.video_codec,fOt:void 0}),o.metadata.video_frame_rate&&this.yzt(i.fLt,o.metadata.video_frame_rate),h=nJ(o.metadata.first_decode_timestamp),a=nJ(o.metadata.first_presentation_timestamp),c=void 0!==o.metadata.first_video_presentation_timestamp?nJ(o.metadata.first_video_presentation_timestamp):void 0,s.BHt.Get=a,this.Azt(i.fLt),void 0!==c&&this.bzt(i.fLt,s.BHt,function(t,i){var n=t.gF(i);return n.lF(m_.SF)&&(n=n.gO(b_())),n}(c,a)),this.pVt.zUt(i.$Ot))return[3,6];for(f=m_.hU(s.BHt.CO),v=Lt(this.azt);!(d=v()).done;)l=d.value,this.pVt.iVt(i.$Ot,l,h,f,JK(s.BHt),!0);return this.Azt(i.fLt),this.pVt.zUt(i.$Ot)?[3,6]:[4,gr(this.pVt.XUt(i.$Ot),n)];case 5:L.sent(),L.label=6;case 6:if(w=this.pVt.tVt(h,s.BHt),this._Kt=o.metadata,g=this.pVt.$Ut(a,s.BHt).rF(),_=XY(s.BHt,g),m=qY(s.BHt,_),p={VHt:_,HHt:m,CO:g,ct:null!=(y=s.BHt.ct)?y:0,EU:w.rF(),$Ot:i.$Ot,fLt:i.fLt,BHt:s.BHt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(k=Lt(this.azt);!(b=k()).done;)A=b.value,T=Yu({Km:"yut",lk:void 0,iat:A},p),this.Wqt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||this.pKt&&this.mKt===i.$Ot&&Pa(this.pKt,o.data.audio_init)||(E=this.pVt.$Ut(s.BHt.Get,s.BHt).rF(),I={Km:"rRt",lk:{Km:zR.wZ,lk:o.data.audio_init},iat:eg.Bk,$Ot:i.$Ot,kzt:{Rrt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',UW:s.BHt.UW},CO:E,fLt:i.fLt,BHt:s.BHt},this.pKt=o.data.audio_init,this.mKt=i.$Ot,this.Wqt(I)),R=Yu({Km:"yut",lk:{Km:zR.wZ,lk:o.data.audio_media},iat:eg.Bk},p),this.Wqt(R)):i.yut.BHt.EFt&&jn(this.azt,eg.Bk)&&(C=Yu({Km:"yut",lk:void 0,iat:eg.Bk},p),this.Wqt(C)),void 0!==o.data.video_media?(!o.data.video_init||this.wKt&&this.yKt===i.$Ot&&Pa(this.wKt,o.data.video_init)||(P=this.pVt.$Ut(s.BHt.Get,s.BHt).rF(),D={Km:"rRt",lk:{Km:zR.wZ,lk:o.data.video_init},iat:eg.Mk,$Ot:i.$Ot,kzt:{Rrt:'video/mp4; codecs="'+o.metadata.video_codec+'"',UW:s.BHt.UW},CO:P,fLt:i.fLt,BHt:s.BHt},this.wKt=o.data.video_init,this.yKt=i.$Ot,this.bKt=WC(_a(o.data.video_init)),this.Wqt(D)),N=this.bKt.Z[0],x=KK(o.data.video_media,this.bKt)[0],B=this.sKt(o.data.video_media,N,x,void 0,s.BHt),this.nKt=N,O=Yu({Km:"yut",lk:{Km:zR.wZ,lk:B},iat:eg.Mk},p),this.Wqt(O),S.push(x)):i.yut.BHt.EFt&&jn(this.azt,eg.Mk)&&(M=Yu({Km:"yut",lk:void 0,iat:eg.Mk},p),this.Wqt(M)),this.rKt=s.BHt,this.hKt=S,[2]}})}).call(this)},n.Zg=function(){this.pKt=void 0,this.wKt=void 0,this.mKt=-1,this.yKt=-1,t.prototype.Zg.call(this)},i}(YK),tJ=function(){function t(){}return t.prototype._Tt=function(t,i,n){return new $K(this,t,i,n)},t}();function iJ(t){return t.Hk===xj.tOt}function nJ(t){return m_.yF(ue.fromBits(t.low,t.high),t.base)}U(),Et(),U(),Et();var rJ=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),eJ=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Bi.d_;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(mh("AGFzbQEAAAA="))}catch(t){return!1}}();return eJ=function(){return t},t};var sJ=function(){function t(t){var i=this;this.VQt=void 0,this.UQt=void 0,this.mQt=void 0,this.qQt=0,this.KQt=Zu(),this.HQt=function(t){var n=t.data;if(void 0!==n.requestId){var r=i.KQt.get(n.requestId);if(!r)return;i.KQt.delete(n.requestId),n.success?r.Qy(n.output):r.Ky(new ld(n.errorCode,n.error))}else n.success||i.zg(new ld(n.errorCode,n.error))},this.WQt=function(t){var n=new ld(vd.MEDIA_DECODE_ERROR,t.error.message,t.error);i.zg(n)},this.VQt=t;var n=eJ()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.UQt=Ui.Pm(n,t)}catch(t){throw new ld(vd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.mQt=this.FQt()}var i=t.prototype;return i.vKt=function(t){return this.AKt(rJ.MPEGTS_TO_FMP4,t)},i.gKt=function(t){return this.AKt(rJ.RAW_AUDIO_TO_FMP4,t)},i.FQt=function(){var t=BK(this.UQt,this.VQt,{name:"THEOplayer transmux worker"});return t.wn("message",this.HQt),t.wn("error",this.WQt),t},i.AKt=function(t,i){var n=++this.qQt,r={type:t,id:n,input:i},e=new Va;return this.KQt.set(n,e),this.mQt.pQt(r),e.Yy},i.zg=function(t){void 0===t&&(t=new fr),this.KQt.forEach(function(i){return i.Ky(t)}),this.KQt.clear(),this.mQt.bQt()},t}(),uJ=function(t){function i(i){var n;return(n=t.call(this)||this).SKt=void 0,n.mQt=void 0,n.SKt=i,n.mQt=void 0,n}Ct(i,t);var n=i.prototype;return n.uKt=function(){return void 0!==this.mQt},n.cKt=function(){var t;return null!=(t=this.mQt)?t:this.mQt=new sJ(this.SKt)},n.zg=function(){this.mQt&&(this.mQt.zg(),this.mQt=void 0)},i}(tJ),oJ=function(){function t(t){this.SKt=void 0,this.SKt=t}return t.prototype.jet=function(){return new uJ(this.SKt)},t}(),hJ=function(t){function i(i,n,r,e,s){var u,o=function(t){return EK.US()?new EK:new UK(t)}(s.libraryLocation),h=new oJ(s.libraryLocation),a=new yW(BW.Bg.Bxt,BW.Bg.Nxt,BW.Bg.bct,BW.Bg.Lxt);return(u=t.call(this,i,n,r,e,o,h,a,s)||this).$xt=void 0,Bi.X_&&(u.$xt=new BO(u)),u}Ct(i,t);var n=i.prototype;return n.zP=function(){return this.PL.zP()},n.kn=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return r.sent(),null==(n=this.$xt)||n.kn(),[2]}})}).call(this)},Nt(i,[{key:"WP",get:function(){return this.PL.WP},set:function(t){this.PL.WP=t}}]),i}(bK),aJ=function(t){function i(i,n,r,e,s){var u,o=new xO(i),h=o.Yq(eg.Mk);return(u=t.call(this,h,n,r,e,s)||this).Nq=void 0,u.Nq=o,u}return Ct(i,t),i.prototype.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),[4,this.Nq.Dq(this.PL)];case 2:return n.sent(),[2]}})}).call(this)},i}(hJ),cJ=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.Jq=function(i,n){return!!Pe(i.useManagedMediaSource)&&(!(!i.useManagedMediaSource&&(Bi.ru||Bi.Tg))&&t.prototype.Jq.call(this,i,n))},n.Zq=function(i){var n=this;return Vt(function(){return zt(this,function(r){return i.clearkey&&!i.fairplay&&Bi.X_?[2,!1]:[2,t.prototype.Zq.call(n,i)]})})()},i}(SK),fJ=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).tz=Ab._C,i}Ct(i,t);var n=i.prototype;return n.DC=function(t,i,n,r,e,s,u){return new aJ(i,n,e,s,r)},n.$q=function(){return!0},i}(cJ);GT(new fJ),vj.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},U(),Et(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Pt(),Qt(),U(),Et();var vJ=function(){function t(){}var i=t.prototype;return i.sdt=function(t,i){return ut.resolve(!1)},i.Aut=function(t,i){return ut.resolve(void 0)},i.hTt=function(t){return ut.resolve(void 0)},i.jJ=function(t){return ut.resolve(void 0)},t}(),dJ=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).Ac=void 0,e.nEt=void 0,e.kKt=void 0,e.DKt=void 0,e.i8=void 0,e.xKt=void 0,e.hT=new hr,e.Ac=i,e.nEt=new ZQ(r,new vJ,i.useCredentials,i.src,i.liveOffset),e.nEt.wn(eh.qw,e.Rs),e.i8=!1,e}Ct(i,t);var n=i.prototype;return n.TKt=function(){var t;return null==(t=this.kKt)?void 0:t.sLt},n.Tn=function(){var t=this;kr(mT(function(){return t.EKt(t.hT.Yg)},this.hT.Yg))},n.EKt=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.nEt.UVt(t)];case 1:return i.sent(),this.xKt&&(this.PKt(this.xKt.Ti,this.xKt.Mi),this.xKt=void 0),this.i8=!0,[2]}})}).call(this)},n.IKt=function(t,i){this.i8?this.PKt(t,i):this.xKt={Ti:t,Mi:i}},n.PKt=function(t,i){var n=this.CKt(t,i),r=null==n?void 0:n.fFt[0];r!==this.kKt&&(this.RKt(),void 0!==r&&(this.kKt=r,this.DKt=new lY(this.nEt,r),this.DKt.iWt()))},n.RKt=function(){this.kKt=void 0,this.DKt&&(this.DKt.zg(),this.DKt=void 0)},n.CKt=function(t,i){var n=Fn(this.nEt.Br._Vt,function(n){return void 0!==n.RRt&&n.RRt.Ti===t&&n.RRt.Mi===i});return null!=n?n:this.nEt.Br._Vt[0]},n.kn=function(){this.Vo(),this.hT.Zg(),this.hT.zg(),this.RKt(),this.nEt.zg()},i}(th);U(),Et(),xt(),Pt(),Ft();var lJ=function(t){function i(i){var n;(n=t.call(this)||this).V8=void 0,n.V8=i;for(var r,e=Lt(KT);!(r=e()).done;){var s=r.value;n.V8.wn(s,n.Rs)}return n}Ct(i,t);var n=i.prototype;return n.Xx=function(t,i){this.zx=t},n.YP=function(){return this.V8.YP()},n.qP=function(){return this.V8.qP()},n.Aa=function(){return this.V8.Aa()},n.sI=function(t){return this.V8.sI(t)},n.zP=function(){return this.V8.zP()},n.we=function(){return this.V8.we()},n.$P=function(){return this.V8.$P()},n.tI=function(){return this.V8.tI()},n.jP=function(){return this.V8.jP()},n.QP=function(){return this.V8.QP()},n.hr=function(){return this.V8.hr()},n.Ta=function(t,i,n){return this.V8.Ta(t,i,n)},n.IP=function(t,i,n,r){return this.V8.IP(t,i,n,r)},n.CP=function(){return this.V8.CP()},n.be=function(){return this.V8.be()},n.JP=function(){return this.V8.JP()},n.ZP=function(){return this.V8.ZP()},n.kn=function(){this.Vo();for(var t,i=Lt(KT);!(t=i()).done;){var n=t.value;this.V8.mn(n,this.Rs)}return this.V8.kn()},Nt(i,[{key:"ht",get:function(){return this.V8.ht}},{key:"Fx",get:function(){return this.V8.Fx}},{key:"Vx",get:function(){return this.V8.Vx},set:function(t){this.V8.Vx=t}},{key:"bt",get:function(){return this.V8.bt}},{key:"zx",get:function(){return this.V8.zx},set:function(t){this.V8.zx=t}},{key:"ct",get:function(){return this.V8.ct}},{key:"Qx",get:function(){return this.V8.Qx}},{key:"Jx",get:function(){return this.V8.Jx}},{key:"$x",get:function(){return this.V8.$x}},{key:"iP",get:function(){return this.V8.iP}},{key:"lt",get:function(){return this.V8.lt}},{key:"sP",get:function(){return this.V8.sP}},{key:"rP",get:function(){return this.V8.rP}},{key:"oP",get:function(){return this.V8.oP},set:function(t){this.V8.oP=t}},{key:"cP",get:function(){return this.V8.cP}},{key:"lP",get:function(){return this.V8.lP}},{key:"vP",get:function(){return this.V8.vP},set:function(t){this.V8.vP=t}},{key:"pP",get:function(){return this.V8.pP}},{key:"wP",get:function(){return this.V8.wP},set:function(t){this.V8.wP=t}},{key:"AP",get:function(){return this.V8.AP}},{key:"kP",get:function(){return this.V8.kP}},{key:"xP",get:function(){return this.V8.xP}},{key:"uq",get:function(){return this.V8.uq}},{key:"nt",get:function(){return this.V8.nt}},{key:"DP",get:function(){return this.V8.DP}},{key:"rt",get:function(){return this.V8.rt}},{key:"MP",get:function(){return this.V8.MP}},{key:"OP",get:function(){return this.V8.OP},set:function(t){this.V8.OP=t}},{key:"VP",get:function(){return this.V8.VP}},{key:"WP",get:function(){return this.V8.WP},set:function(t){this.V8.WP=t}},{key:"dq",get:function(){return this.V8.dq}},{key:"OL",get:function(){}}]),i}(nh),wJ=function(t){function i(i,n,r){var e;return(e=t.call(this,i)||this).NKt=void 0,e.BKt=void 0,e.MKt=!1,e.oHt=void 0,e.J9=void 0,e.handleManifestUpdate=function(t){e.So(t);var i=e.NKt.TKt();if(i){var n=e.uq;if(n){var r=n.getTime(),s=e.oHt;s||(s=new IQ,e.oHt=s),s.er(i.tFt,function(t){return(t.getTime()-r)/1e3}),!e.MKt&&s.L.V>0&&(e.nt.tt(s),e.J9.tt(s),e.MKt=!0)}}},e.rjt=function(){e.NKt&&e.NKt.IKt(e.MP,e.DP)},e.BKt=n,e.J9=new JD(e),e.wn(eh.Jw,e.rjt),e}Ct(i,t);var n=i.prototype;return n.Ta=function(i,n,r){var e=this;return Vt(function(){return zt(this,function(s){switch(s.label){case 0:return[4,t.prototype.Ta.call(e,i,n,r)];case 1:return s.sent(),i.hlsDateRange&&this.myt(i,n),[2]}})}).call(this)},n.myt=function(t,i){this.NKt=new dJ(t,i,this.BKt),this.NKt.wn(eh.qw,this.handleManifestUpdate),this.NKt.Tn()},n.hr=function(){return this.oHt&&(this.nt.it(this.oHt),this.J9.it(this.oHt),this.oHt.kn(),this.oHt=void 0,this.MKt=!1),this.NKt&&(this.NKt.kn(),this.NKt=void 0),this.J9.hr(),t.prototype.hr.call(this)},n.kn=function(){return this.mn(eh.Jw,this.rjt),this.NKt&&(this.NKt.kn(),this.NKt=void 0),this.J9.kn(),t.prototype.kn.call(this)},i}(lJ);!function(t){zT.iz().ez(t)}(function(t,i,n){return new wJ(t,i,n)}),U(),Et(),U(),Et(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),Qt(),U(),Et(),xt(),Pt();var gJ=function(t){function i(i,n){var r;return void 0===n&&(n=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=void 0,r.description=void 0,r.errorCode=i,r.description=n,r}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"CastError"}}]),i}(cr);function _J(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return kJ()?[3,2]:[4,mJ(t)];case 1:i.sent(),i.label=2;case 2:return pJ()?[3,4]:[4,Ar(100,t)];case 3:i.sent(),i.label=4;case 4:return pJ()?[3,6]:(Ui.um('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,yJ()]);case 5:i.sent(),i.label=6;case 6:return[2]}})})()}function mJ(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){return(null==t?void 0:t.Hg)?[2,ut.reject(new fr)]:(i=function(){var t,i;return{Yy:new ut(function(n,r){t=n,i=r}),Qy:t,Ky:i}}(),n=i.Yy,r=i.Qy,e=i.Ky,s=f.__onGCastApiAvailable,u=function(){f.__onGCastApiAvailable=s,e(new fr)},f.__onGCastApiAvailable=function(i,n){i?r():e(new y(n)),null==t||t.jg(u),f.__onGCastApiAvailable=s,s&&s(i,n)},null==t||t.Xg(u),[2,n])})})()}var yJ=_n(function(){return function(t){return new ut(function(i,n){var r=v.createElement("script");r.onload=function(){return i()},r.onerror=function(t){return n((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)})}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch(function(){throw new gJ("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")})});function pJ(){return Boolean("undefined"!=typeof cast&&cast.framework)}function kJ(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function bJ(t,i,n,r){if(Li(i))for(var e,s=Lt(k.keys(i));!(e=s()).done;){var u=e.value;if("type"!==u&&"images"!==u){var o=i[u];Li(o)&&(t[u]=o)}}!function(t,i,n,r){if(!Li(n)&&!Li(null==i?void 0:i.images))return;t.images=[],n&&t.images.push(new r.Image(n));if(null==i?void 0:i.images)if(Xi(i.images))t.images.push(new r.Image(i.images));else if(Vi(i.images))for(var e,s=Lt(i.images);!(e=s()).done;){var u,o,h=e.value,a=void 0;if(Xi(h))a=new r.Image(h);else(a=new r.Image(h.src)).height=null!=(u=h.height)?u:null,a.width=null!=(o=h.width)?o:null;t.images.push(a)}}(t,i,n,r)}function AJ(t,i,n){return void 0===n&&(n=chrome),function(t,i,n){switch(null==t?void 0:t.type){case"movie":var r=new n.MovieMediaMetadata;return bJ(r,t,i,n),r;case"audio":var e=new n.MusicTrackMediaMetadata;return bJ(e,t,i,n),!Li(e.artist)&&Li(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var s=new n.TvShowMediaMetadata;return bJ(s,t,i,n),!Li(s.title)&&Li(t.episodeTitle)&&(s.title=t.episodeTitle),!Li(s.season)&&Li(t.seasonNumber)&&(s.season=t.seasonNumber),!Li(s.episode)&&Li(t.episodeNumber)&&(s.episode=t.episodeNumber),s;default:var u=new n.GenericMediaMetadata;return bJ(u,t,i,n),u}}(t,i,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(n))}function TJ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function SJ(t){if(t.items&&t.items.length>0&&Li(t.currentItemId)&&t.currentItemId>=0)return Fn(t.items,function(i){return i.itemId===t.currentItemId})}U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),U(),Et(),Ft(),U(),Et();var EJ="urn:x-cast:com.theoplayer.cast";U(),Et(),U(),Et();var IJ=function(t){return t.LKt="theoplayer_receiver_info",t.OKt="theoplayer_trackpropertychange",t.FKt="theoplayer_propertychange",t}({});U(),Et();var RJ=function(t){return t.SKIP_AD="SKIP_AD",t}({});U(),Et();function CJ(t){v.createElement("img").src=t}U(),Et(),Ft(),U(),Et(),Wt(),xt(),Qt(),U(),Et();var PJ=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function DJ(t){if(Xi(t)){var i=t.match(PJ);if(i)return 3600*A(i[1],10)+60*A(i[2],10)+Number(i[3])+(Number(i[4])||0)/1e3}}function NJ(t){if(void 0!==t){var i=t.match(/^([1-9]?\d|100)%$/);if(i)return A(i[1])/100}}function xJ(t,i){return"vmap"===t.type||!Li(t.type)&&!Li(i)}function BJ(t,i){return"vast"===t.type||!Li(t.type)&&Li(i)}U(),Et(),Wt(),H(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et();var OJ=function(){},MJ=function(t){function i(i){var n;return(n=t.call(this)||this).qc=void 0,n.HKt=void 0,n.qc=i.sort(function(t,i){return t.zB-i.zB}),n}return Ct(i,t),i.prototype.VKt=function(){return null!=this.HKt||(this.HKt=Jn(this.qc,function(t){return t.VKt()})),this.HKt},Nt(i,[{key:"UKt",get:function(){return this.qc}}]),i}(OJ);U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var LJ=function(t){function i(i,n){var r;return(r=t.call(this)||this).WKt=void 0,r.qKt=void 0,r.GKt=void 0,r.WKt=i,r.qKt=n,r.GKt=!1,r}return Ct(i,t),Nt(i,[{key:"o",get:function(){return this.WKt}},{key:"zB",get:function(){return this.qKt}},{key:"zKt",get:function(){return this.GKt}}]),i}(OJ),FJ=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this,i,n)||this).KKt=void 0,h.JKt=void 0,h.$Kt=void 0,h.jKt=void 0,h.nq=void 0,h.tYt=void 0,h.KKt=r,h.JKt=e,h.$Kt=s,h.jKt=u,h.nq=o,h}return Ct(i,t),i.prototype.VKt=function(){if(void 0===this.tYt){for(var t,i,n,r,e=[],s=Lt(this.jKt);!(r=s()).done;){var u=r.value;u.iYt&&(t=u.iYt),u.eYt&&(i=u.eYt),u.sYt&&(n=u.sYt),e=e.concat(u.universalAdIds)}this.tYt={ZKt:this.ZKt,iYt:t,nYt:i,sYt:n,lt:this.lt,rYt:e}}return[this.tYt]},Nt(i,[{key:"XKt",get:function(){return this.jKt}},{key:"QKt",get:function(){return this.KKt}},{key:"YKt",get:function(){return this.JKt}},{key:"ZKt",get:function(){return this.$Kt}},{key:"lt",get:function(){return this.nq}}]),i}(LJ);U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt();var UJ=function(){function t(t,i){this.oYt=void 0,this.uYt=void 0,this.oYt=t,this.uYt=i}return Nt(t,[{key:"hYt",get:function(){return this.oYt}},{key:"aYt",get:function(){return this.uYt}}]),t}(),VJ=function(){function t(t,i,n,r,e,s){this.dYt=void 0,this.fYt=void 0,this._Yt=void 0,this.pYt=void 0,this.AYt=void 0,this.yYt=void 0,this.mYt=void 0,this.KKt=void 0,this.dYt=t,this.fYt=i,this._Yt=n,this.pYt=r,this.AYt=!1,this.yYt=e,this.KKt=s}return t.prototype.SYt=function(){this.AYt=!0},Nt(t,[{key:"cYt",get:function(){return this.dYt}},{key:"lYt",get:function(){return this.fYt}},{key:"vYt",get:function(){return this._Yt}},{key:"gYt",get:function(){return this.pYt}},{key:"od",get:function(){return this.mYt},set:function(t){this.mYt=t}},{key:"wYt",get:function(){return this.yYt}},{key:"bYt",get:function(){return this.AYt}},{key:"QKt",get:function(){return this.KKt}}]),t}();U(),Et(),xt();var HJ=function(t){return t.TYt="all",t.kYt="any",t.pz="none",t}({});var WJ=function(){function t(t,i){this.xYt=void 0,this.IYt=void 0,this.xYt=t,this.IYt=i}return Nt(t,[{key:"EYt",get:function(){return this.xYt}},{key:"PYt",get:function(){return this.IYt}}]),t}(),zJ=function(){function t(t,i,n,r,e,s,u,o,h,a,c,f,v,d,l,w){this.lA=void 0,this.fA=void 0,this.aS=void 0,this.RYt=void 0,this.NYt=void 0,this.MYt=void 0,this.OYt=void 0,this.UYt=void 0,this.HYt=void 0,this.qYt=void 0,this.dYt=void 0,this.fYt=void 0,this._Yt=void 0,this.GYt=void 0,this.XYt=void 0,this.QYt=void 0,this.lA=t,this.fA=i,this.aS=n,this.RYt=r,this.NYt=e,this.MYt=s,this.OYt=u,this.UYt=o,this.HYt=h,this.qYt=a,this.dYt=c,this.fYt=f,this._Yt=v,this.GYt=d,this.XYt=l,this.QYt=w}return Nt(t,[{key:"o",get:function(){return this.aS}},{key:"Ti",get:function(){return this.lA}},{key:"Mi",get:function(){return this.fA}},{key:"CYt",get:function(){return this.RYt}},{key:"DYt",get:function(){return this.NYt}},{key:"BYt",get:function(){return this.MYt}},{key:"LYt",get:function(){return this.OYt}},{key:"FYt",get:function(){return this.UYt}},{key:"VYt",get:function(){return this.HYt}},{key:"WYt",get:function(){return this.qYt}},{key:"cYt",get:function(){return this.dYt}},{key:"lYt",get:function(){return this.fYt}},{key:"vYt",get:function(){return this._Yt}},{key:"zYt",get:function(){return this.GYt}},{key:"aYt",get:function(){return this.XYt}},{key:"jYt",get:function(){return this.QYt}}]),t}();U(),Et(),xt();var XJ=function(){function t(t,i){this.aS=void 0,this.NFt=void 0,this.aS=t,this.NFt=i}return Nt(t,[{key:"id",get:function(){return this.aS}},{key:"uri",get:function(){return this.NFt}}]),t}(),qJ=function(){function t(t,i,n,r){this.YYt=void 0,this.ZYt=void 0,this.tJt=void 0,this.eJt=void 0,this.YYt=t,this.ZYt=i,this.tJt=n,this.eJt=r}return Nt(t,[{key:"KYt",get:function(){return this.YYt}},{key:"JYt",get:function(){return this.ZYt}},{key:"$Yt",get:function(){return this.tJt}},{key:"iJt",get:function(){return this.eJt}}]),t}(),GJ=function(t){function i(i,n,r,e,s,u,o,h,a){var c;return(c=t.call(this,i,n)||this).$Kt=void 0,c.nJt=void 0,c.hJt=void 0,c.aJt=void 0,c.cJt=void 0,c.jKt=void 0,c.nq=void 0,c.HKt=void 0,c.$Kt=r,c.nJt=e,c.hJt=s,c.jKt=u,c.aJt=o,c.cJt=h,c.nq=a,c}Ct(i,t);var n=i.prototype;return n.VKt=function(){var t=this;return void 0===this.nJt?[]:(null!=this.HKt||(this.HKt=this.nJt.VKt().map(function(i){return t.dJt(i)})),this.HKt)},n.dJt=function(t){for(var i,n,r,e,s=Lt(this.XKt);!(e=s()).done;){var u=e.value;u.iYt&&(i=u.iYt),u.eYt&&(n=u.eYt),u.sYt&&(r=u.sYt)}var o=t.ZKt.concat(this.ZKt),h=t.iYt;if(i&&t.iYt){var a=new qJ(t.iYt.lJt.KYt,t.iYt.lJt.JYt,t.iYt.lJt.$Yt.concat(i.lJt.$Yt),t.iYt.lJt.iJt.concat(i.lJt.iJt));(h=t.iYt).lJt=a,h.aYt=h.aYt.concat(i.aYt)}var c=t.nYt;if(n&&n.hYt){for(var f,v,d,l=[],w=Lt(n.hYt);!(d=w()).done;){var g=d.value;l.concat(g.gYt.$Yt)}for(var _,m,y,p=[],k=Lt(null!=(_=null==(f=t.nYt)?void 0:f.hYt)?_:[]);!(m=k()).done;){var b,A,T,S=m.value,E=new qJ(S.gYt.KYt,S.gYt.JYt,S.gYt.$Yt.concat(l),(null!=(A=null==(b=t.iYt)?void 0:b.lJt.iJt)?A:[]).concat(null!=(T=null==i?void 0:i.lJt.iJt)?T:[]));p.push(new VJ(S.cYt,S.lYt,S.vYt,E,S.wYt,S.QKt))}c=new UJ(p,(null!=(y=null==(v=t.nYt)?void 0:v.aYt)?y:[]).concat(n.aYt))}var I=t.sYt;if(I){var R,C,P,D=I.EYt;r&&r.EYt&&(D=r.EYt),I=new WJ(D,(null!=(C=null==(R=t.sYt)?void 0:R.PYt)?C:[]).concat(null!=(P=null==r?void 0:r.PYt)?P:[]))}var N=t.lt;return this.lt&&(N=this.lt),{ZKt:o,iYt:h,nYt:c,sYt:I,lt:N,rYt:t.rYt}},Nt(i,[{key:"ZKt",get:function(){return this.$Kt}},{key:"sJt",get:function(){return this.nJt}},{key:"rJt",get:function(){return this.hJt}},{key:"XKt",get:function(){return this.jKt}},{key:"oJt",get:function(){return this.aJt}},{key:"uJt",get:function(){return this.cJt}},{key:"lt",get:function(){return this.nq}}]),i}(LJ);U(),Et(),xt();var jJ=function(){function t(t,i,n,r,e,s,u,o){this.aS=void 0,this.vJt=void 0,this.gJt=void 0,this.UYt=void 0,this.pJt=void 0,this.mJt=void 0,this.wJt=void 0,this.yJt=void 0,this.aS=t,this.vJt=i,this.gJt=n,this.UYt=r,this.pJt=e,this.mJt=s,this.wJt=u,this.yJt=o}return Nt(t,[{key:"o",get:function(){return this.aS}},{key:"fJt",get:function(){return this.vJt}},{key:"_Jt",get:function(){return this.gJt}},{key:"FYt",get:function(){return this.UYt}},{key:"iYt",get:function(){return this.pJt}},{key:"eYt",get:function(){return this.mJt}},{key:"sYt",get:function(){return this.wJt}},{key:"universalAdIds",get:function(){return this.yJt}}]),t}();U(),Et(),xt();var QJ=function(){function t(t,i,n,r,e,s,u,o,h){this.bJt=void 0,this.SJt=void 0,this.IJt=void 0,this.uYt=void 0,this.TJt=void 0,this.EJt=void 0,this.AYt=void 0,this.yYt=void 0,this.mYt=void 0,this.KKt=void 0,this.RJt=void 0,this.NJt=void 0,this.bJt=t,this.SJt=i,this.uYt=n,this.TJt=r,this.EJt=e,this.AYt=!1,this.yYt=s,this.KKt=u,this.RJt=o,this.NJt=h}return t.prototype.SYt=function(){this.AYt=!0},Nt(t,[{key:"ct",get:function(){return this.bJt}},{key:"AJt",get:function(){return this.SJt}},{key:"aYt",get:function(){return this.uYt},set:function(t){this.uYt=t}},{key:"lJt",get:function(){return this.TJt},set:function(t){this.TJt=t}},{key:"kJt",get:function(){return this.EJt},set:function(t){this.EJt=t}},{key:"xJt",get:function(){return this.AYt}},{key:"od",get:function(){return this.mYt},set:function(t){this.mYt=t}},{key:"wYt",get:function(){return this.yYt}},{key:"QKt",get:function(){return this.KKt}},{key:"PJt",get:function(){return this.IJt},set:function(t){this.IJt=t}},{key:"CJt",get:function(){return this.RJt}},{key:"DJt",get:function(){return this.NJt}}]),t}();function YJ(t,i){return $J(t)&&t.getAttribute(i)||void 0}function KJ(t,i){return JJ(t,i,void 0,!1)}function JJ(t,i,n,r){return i===(t.localName?t.localName:t.nodeName)&&(r&&n?n===t.namespaceURI:!n||!t.namespaceURI||n===t.namespaceURI)}function ZJ(t,i){for(var n=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);$J(e)&&KJ(e,i)&&n.push(e)}return n}function $J(t){return t&&1===t.nodeType}function tZ(t,i){var n=(new DOMParser).parseFromString(t,i);if(!n||n.getElementsByTagName("parsererror").length>0)throw new y('Invalid document for MIME type "'+i+'"');return n}function iZ(t){return tZ(t,"text/xml")}function nZ(t){return t.replace(/[<>&'"]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}})}function rZ(t){return"data:application/xml,"+encodeURIComponent(t)}U(),Et(),U(),Et(),xt();var eZ=function(t){return t.BJt="mute",t.MJt="unmute",t.jw="pause",t.LJt="resume",t.OJt="rewind",t.FJt="skip",t.UJt="playerExpand",t.VJt="playerCollapse",t.HJt="fullscreen",t.WJt="exitFullscreen",t.qJt="expand",t.COLLAPSE="collapse",t.tTt="start",t.zJt="firstQuartile",t.GJt="thirdQuartile",t.XJt="midpoint",t.jJt="complete",t.QJt="acceptInvitationLinear",t.KJt="acceptInvitation",t.YJt="timeSpentViewing",t.JJt="otherAdInteraction",t.Qw="progress",t.ZJt="creativeView",t.$Jt="adExpand",t.tZt="adCollapse",t.iZt="minimize",t.eZt="close",t.sZt="closeLinear",t.nZt="overlayViewDuration",t.rZt="breakStart",t.hZt="breakEnd",t.ma="error",t}({});function sZ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var uZ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function oZ(t){return void 0!==t&&-1!==uZ.indexOf(t)}var hZ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function aZ(t){return void 0!==t&&-1!==hZ.indexOf(t)}var cZ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function fZ(t){return void 0!==t&&-1!==cZ.indexOf(t)}function vZ(t,i){if(void 0!==t&&""!==t&&void 0!==i){var n=t.match(/^(\d+):(\d+):(\d+)$/);return n?T(n[1]||"0")+60*T(n[2]||"0")+T(n[3]||"0"):(n=t.match(/^(100|[1-9]\d|\d)%$/))?T(n[1]||"0")*i/100:void 0}}var dZ=function(){function t(t,i,n){this.oZt=void 0,this.aZt=void 0,this.uZt=void 0,this.oZt=t,this.aZt=i,this.uZt=n}return Nt(t,[{key:"oX",get:function(){return this.oZt}},{key:"ac",get:function(){return this.aZt}},{key:"eventURL",get:function(){return this.uZt}}]),t}();U(),Et(),xt(),Pt();var lZ=function(){function t(t){this.dZt=void 0,this.dZt=t}return Nt(t,[{key:"cZt",get:function(){return this.dZt}}]),t}(),wZ=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i)||this).fZt=void 0,s.QYt=void 0,s.YYt=void 0,s.fZt=n,s.YYt=r,s.QYt=e,s}return Ct(i,t),Nt(i,[{key:"KYt",get:function(){return this.YYt}},{key:"jYt",get:function(){return this.QYt}},{key:"lZt",get:function(){return this.fZt}}]),i}(lZ),gZ=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(lZ),_Z=function(t){function i(i){return t.call(this,i)||this}return Ct(i,t),i}(lZ);U(),Et(),xt();var mZ={vZt:{Jy:100,Iy:"XML parsing error."},_Zt:{Jy:303,Iy:"Empty or invalid VAST error."},gZt:{Jy:400,Iy:"General linear error"},pZt:{Jy:403,Iy:"Unsupported MIME-type or missing mediafiles error"},mZt:{Jy:500,Iy:"General nonlinear error"},BG:{Jy:900,Iy:"Network error"}},yZ=function(){function t(t){this.yZt=void 0,this.yZt=t}return t.prototype.bZt=function(t){if(this.wZt){var i=this.wZt.replace(/\[ERRORCODE]/,""+t.Jy);CJ(i)}},Nt(t,[{key:"wZt",get:function(){return this.yZt}}]),t}();U(),Et(),xt(),Pt();var pZ=function(t){function i(i,n,r,e){var s;return(s=t.call(this,r||n&&AZ[n]||i,e)||this).SZt=void 0,s.kZt=void 0,s.G2=void 0,s.SZt=i,s.kZt=n,s.G2=r,s}return Ct(i,t),Nt(i,[{key:"AZt",get:function(){return this.SZt}},{key:"TZt",get:function(){var t;return null!=(t=this.kZt)?t:900}}]),i}(cr),kZ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),bZ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),AZ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function TZ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case cA._C:case cA.gC:case cA.vC:return!0;default:return!1}}function SZ(t){var i=Rr();return!!(TZ(t)||t&&i&&(null==i?void 0:i.canPlayType)&&i.canPlayType(t))||(IZ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function EZ(t,i){for(var n,r=Lt(i);!(n=r()).done;){var e=n.value;new yZ(e).bZt(t)}}function IZ(t){0}U(),Et(),Ft(),U(),Et(),xt();var RZ=function(){function t(t,i){this.xZt=void 0,this.IZt=void 0,this.xZt=t,this.IZt=i}return Nt(t,[{key:"EZt",get:function(){return this.xZt}},{key:"PZt",get:function(){return this.IZt}}]),t}(),CZ=function(){function t(){}var i=t.prototype;return i.CZt=function(i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return xJ(i.sources,i.timeOffset)?[4,t.RZt(i.sources.src,n)]:[3,7];case 1:if(r=o.sent(),!(e=r&&r.documentElement))throw new pZ(kZ.NETWORK,bZ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return KJ(e,"VMAP")?[4,this.DZt(e,i,n)]:[3,3];case 2:return[2,o.sent()];case 3:return KJ(e,"VAST")?[4,this.NZt(e,n,!1)]:[3,5];case 4:return(s=o.sent())?(u=new BZ("",!0,!0,s),[2,[new NZ("start",u,PZ.BZt,"",[],!1,!0,i)]]):[2,[]];case 5:throw new pZ(kZ.GENERAL,bZ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(BJ(i.sources,i.timeOffset))return[2,[new xZ(String(i.timeOffset),i,n)]];throw new pZ(kZ.GENERAL,bZ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}})}).call(this)},i.MZt=function(){return Vt(function(i,n,r,e){var s,u,o;return zt(this,function(h){switch(h.label){case 0:void 0===e&&(e=[]),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,t.RZt(i,n)];case 2:return s=h.sent(),[3,4];case 3:throw u=h.sent(),EZ(V(u,pZ)&&u.TZt===bZ.VAST_MALFORMED_RESPONSE?mZ._Zt:mZ.BG,e),u;case 4:return(o=s&&s.documentElement)&&KJ(o,"VAST")?[4,this.NZt(o,n,r,e)]:[3,6];case 5:return[2,h.sent()];case 6:o&&KJ(o,"VMAP")&&Ui.um("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),h.label=7;case 7:return[2,void 0]}})}).apply(this,arguments)},i.LZt=function(t,i,n,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(!(null==(e=t.sources)?void 0:e.src))throw new pZ(kZ.GENERAL,bZ.MALFORMED_URI,"Property src on adSource is missing.");return[4,this.MZt(t.sources.src,r,!1)];case 1:return s=h.sent(),u=new BZ("",!0,!0,s),(o=new NZ(i,u,PZ.BZt,"",[],!1,!0,t)).OZt=n,[2,o]}})}).call(this)},i.NZt=function(){return Vt(function(t,i,n,r){var e,s,u,o,h,a,c,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:if(void 0===r&&(r=[]),e=[],s=[],u=[],!t||!KJ(t,"VAST")){if(EZ(mZ._Zt,r),n)throw new pZ(kZ.PARSING,bZ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new pZ(kZ.PARSING,bZ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===ZJ(t,"Ad").length)return[3,7];o=Lt(ZJ(t,"Ad")),g.label=1;case 1:if((h=o()).done)return[3,6];a=h.value,g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.FZt(a,i,r)];case 3:return 0===(c=g.sent()).zB?e.push(c):s.push(c),[3,5];case 4:return f=g.sent(),u.push(f),[3,5];case 5:return[3,1];case 6:if(0===e.length&&0===s.length&&u.length>0)throw u[0];if(1===e.length&&0===s.length)return[2,e[0]];if(0===e.length&&0!==s.length)return[2,new MJ(s)];if(e.length>0||s.length>0)return[2,new MJ(s.concat(e))];g.label=7;case 7:if(0!==ZJ(t,"Error").length)for(v=Lt(ZJ(t,"Error"));!(d=v()).done;)l=d.value,IZ(mZ._Zt.Iy),(w=l.textContent)&&r.push(w.trim());if(EZ(mZ._Zt,r),n)throw new pZ(kZ.PARSING,bZ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new pZ(kZ.PARSING,bZ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}})}).apply(this,arguments)},i.DZt=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:if(r=[],0===(e=ZJ(t,"AdBreak")).length)throw new pZ(kZ.PARSING,bZ.VAST_EMPTY_RESPONSE,"The VMAP element was empty.");s=Lt(e),c.label=1;case 1:if((u=s()).done)return[3,6];o=u.value,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.UZt(o,i,n)];case 3:return(h=c.sent())&&r.push(h),[3,5];case 4:return a=c.sent(),Ui.hm(a),[3,5];case 5:return[3,1];case 6:return[2,r]}})}).call(this)},i.FZt=function(i,n,r){return Vt(function(){var e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return e=YJ(i,"id")||"",(s=gU(YJ(i,"sequence")))||(s=0),u=ZJ(i,"InLine"),0===(o=ZJ(i,"Wrapper")).length?[3,2]:[4,this.VZt(o[0],e,s,n,r)];case 1:return[2,h.sent()];case 2:if(0!==u.length)return[2,t.HZt(u[0],e,s,r)];h.label=3;case 3:throw new pZ(kZ.PARSING,bZ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}})}).call(this)},i.VZt=function(i,n,r,e,s){return Vt(function(){var u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,b;return zt(this,function(A){switch(A.label){case 0:for(u=ZJ(i,"Error")[0],o="",u&&u.textContent&&(o=u.textContent,s.push(o)),h=ZJ(i,"AdSystem")[0],a="",h&&(a=h.textContent||a),c=[],f=Lt(ZJ(i,"Impression"));!(v=f()).done;)(d=v.value).textContent&&c.push(d.textContent);return l=ZJ(i,"VASTAdTagURI")[0],w="",l&&l.textContent&&(w=l.textContent),[4,this.MZt(w,e,!0,s)];case 1:return g=A.sent(),_=t.WZt(ZJ(i,"Extensions")[0]),m=ZJ(i,"Creatives")[0],y=[],m&&(y=t.zZt(m,a,_,s)),(p=mU(YJ(i,"followAdditionalWrappers")))||(p=!0),(k=mU(YJ(i,"allowMultipleAds")))||(k=!0),(b=mU(YJ(i,"fallbackOnNoAd")))||(b=!1),[2,new GJ(n,r,c,g,p,y,k,b,new yZ(o))]}})}).call(this)},i.UZt=function(i,n,r){return Vt(function(){var e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p;return zt(this,function(k){switch(k.label){case 0:if(e=YJ(i,"timeOffset")||"0",s=YJ(i,"breakType")||PZ.yk,u=YJ(i,"breakId"),o=mU(YJ(i,"repeatAfter")),h=void 0!==DZ.$Zt(e),void 0===u&&(u=""),void 0===o&&(o=!1),!h)throw new pZ(kZ.PARSING,bZ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(a=ZJ(i,"AdSource")[0],c=ZJ(i,"TrackingEvents")[0],f=[],c&&(f=t.QZt(c,sZ,"vmap")),(v=YJ(a,"id"))||(v=""),void 0===(d=mU(YJ(a,"allowMultipleAds")))&&(d=!0),(l=mU(YJ(a,"followRedirects")))||(l=!0),w=ZJ(a,"AdTagURI")[0],g="",_=ZJ(a,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return g=w.textContent,(m=Lw(n)).sources.src=g,[2,new xZ(e,m,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return _?_.firstElementChild&&JJ(_.firstElementChild,"VAST")?[4,this.NZt(_.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(y=k.sent())?(p=new BZ(v,d,l,y),[2,new NZ(e,p,s,u,f,o,!1,n)]):[2,void 0];case 3:throw new pZ(kZ.PARSING,bZ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new pZ(kZ.PARSING,bZ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}})}).call(this)},t.requestSuccessOnly=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.vk(t)];case 1:return n=e.sent(),[3,3];case 2:throw r=e.sent(),new pZ(kZ.NETWORK,bZ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!gl(n))throw new pZ(kZ.NETWORK,bZ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,n]}})})()},t.RZt=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return n=new Al({Yu:t,fk:Ud.LT,Hk:ml.GET}),[4,this.requestSuccessOnly(n,i)];case 1:r=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,r.lk()];case 3:return[2,iZ.apply(void 0,[e.sent()])];case 4:throw e.sent(),new pZ(kZ.NETWORK,bZ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}})}).call(this)},t.HZt=function(i,n,r,e){var s,u=ZJ(i,"Error")[0];u&&u.textContent&&(s=u.textContent,e.push(s));var o,h=t.WZt(ZJ(i,"Extensions")[0]),a=ZJ(i,"AdSystem")[0],c="";a&&(c=a.textContent||c);var f=ZJ(i,"AdTitle")[0];f&&(o=f.textContent||void 0);for(var v,d=[],l=Lt(ZJ(i,"Impression"));!(v=l()).done;){var w=v.value;w.textContent&&d.push(w.textContent)}var g=t.qZt(ZJ(i,"Creatives")[0],c,h,e);return new FJ(n,r,c,o,d,g,new yZ(s))},t.zZt=function(i,n,r,e){for(var s,u=[],o=Lt(ZJ(i,"Creative"));!(s=o()).done;){var h=s.value,a=YJ(h,"id");a||(a="");var c=gU(YJ(h,"sequence"));c||(c=0);var f=YJ(h,"adId");f||(f="");var v=ZJ(h,"Linear")[0],d=void 0;v&&(d=t.GZt(v,"wrapper",a,n,r,e));var l=ZJ(h,"NonLinearAds")[0],w=void 0;if(l)try{w=t.XZt(l,a,n)}catch(t){}var g=ZJ(h,"CompanionAds")[0],_=void 0;g&&(_=t.jZt(g)),u.push(new jJ(a,f,c,"",d,w,_,[]))}return u},t.qZt=function(i,n,r,e){for(var s,u=[],o=Lt(ZJ(i,"Creative"));!(s=o()).done;){var h=s.value,a=YJ(h,"id");a||(a="");var c=gU(YJ(h,"sequence"));c||(c=0);var f=YJ(h,"adId");f||(f="");var v=YJ(h,"apiFramework");v||(v="");var d=ZJ(h,"Linear")[0],l=void 0;if(d)try{l=t.GZt(d,"inline",a,n,r,e)}catch(t){}if(0===(null==l?void 0:l.ct))throw new pZ(kZ.PARSING,bZ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var w=ZJ(h,"NonLinearAds")[0],g=void 0;if(w)try{g=t.XZt(w,a,n)}catch(t){}var _=ZJ(h,"CompanionAds")[0],m=void 0;_&&(m=t.jZt(_));var y=ZJ(h,"UniversalAdId"),p=t.parseUniversalAdIds(y);u.push(new jJ(a,f,c,v,l,g,m,p))}return u},t.WZt=function(t){var i=[];if(!t)return i;for(var n,r=Lt(ZJ(t,"Extension"));!(n=r()).done;){var e,s=n.value,u=null!=(e=YJ(s,"type"))?e:"",o=s.outerHTML;i.push({type:u,xml:o})}return i},t.GZt=function(i,n,r,e,s,u){var o=ZJ(i,"Duration")[0],h=0;if(o)h=DJ(o.textContent)||0;else if(!o&&"inline"===n)throw new pZ(kZ.PARSING,bZ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=YJ(i,"skipoffset"),c=-1;if(a){var f=DJ(a);if(void 0===f&&a.indexOf("%")>-1){var v=b.abs(Number(a.replace(/(?![0-9])./g,"")))/100;S(v)||(f=h*v)}void 0!==f&&(c=f)}var d=ZJ(i,"MediaFiles")[0],l=[],w=[];if(d&&(l=function(t,i){for(var n,r=[],e=Lt(ZJ(t,"MediaFile"));!(n=e()).done;){var s=n.value,u=YJ(s,"delivery"),o=YJ(s,"type");if(o){if(i(o)){var h=gU(YJ(s,"width")),a=gU(YJ(s,"height"));h||(IZ(),h=0),a||(IZ(),a=0);var c={delivery:u,type:o,width:h,height:a,contentURL:""+s.textContent};r.push(c)}}else IZ()}return r}(d,SZ),w=function(t){var i=ZJ(t,"ClosedCaptionFiles");if(0===i.length)return[];for(var n,r=[],e=Lt(ZJ(i[0],"ClosedCaptionFile"));!(n=e()).done;){var s=n.value,u=YJ(s,"type");u||IZ();var o=YJ(s,"language");o||IZ();var h={type:null!=u?u:"",language:null!=o?o:"",contentURL:(""+s.textContent).trim()};r.push(h)}return r}(d)),"inline"===n&&(!d||0===l.length))throw EZ(mZ.pZt,u),new pZ(kZ.PARSING,bZ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=ZJ(i,"TrackingEvents")[0],_=[];g&&(_=t.QZt(g,oZ,"linear"));var m=ZJ(i,"VideoClicks")[0],y=t.KZt(m);return new QJ(h,l,_,y,c,r,e,w,s)},t.KZt=function(i){if(!i)return new qJ("","",[],[]);var n,r=ZJ(i,"ClickThrough")[0],e="";r&&(n=r.textContent||void 0,e=YJ(r,"id")||"");var s=t.YZt(ZJ(i,"ClickTracking")),u=t.YZt(ZJ(i,"CustomClick"));return new qJ(n,e,s,u)},t.YZt=function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e=i.value,s=e.textContent;if(s){var u=YJ(e,"id")||"";n.push(new XJ(u,s))}}return n},t.QZt=function(t,i,n){for(var r,e=[],s=Lt(ZJ(t,"Tracking"));!(r=s()).done;){var u=r.value,o=YJ(u,"event");if(i(o)){var h="";"linear"===n&&(h=YJ(t,"offset")||"0");var a=u.textContent;a&&e.push(new dZ(o,h,a))}else IZ()}return e},t.XZt=function(i,n,r){for(var e,s=[],u=Lt(ZJ(i,"NonLinear"));!(e=u()).done;){var o=e.value,h=ZJ(o,"NonLinearClickThrough")[0],a=void 0;h&&(a=h.textContent||void 0);var c=t.YZt(ZJ(o,"NonLinearClickTracking")),f=ZJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=YJ(f,"creativeType"),l=f.textContent||"",w=ZJ(f.parentNode,"NonLinearClickThrough")[0],g="";w&&(g=w.textContent||""),v=new wZ(l,d,g,"")}var _=t.JZt(o),m=t.parseHtmlResource(o);if(v||_||m){var y=new qJ(a,"",c,[]);s.push(new VJ(v,_,m,y,n,r))}else IZ()}if(0===s.length)throw new pZ(kZ.PARSING,bZ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var p=ZJ(i,"TrackingEvents")[0],k=[];return p&&(k=t.QZt(p,aZ,"nonlinear")),new UJ(s,k)},t.parseUniversalAdIds=function(t){for(var i,n=[],r=Lt(t);!(i=r()).done;){var e,s,u,o=i.value,h=null!=(e=YJ(o,"idRegistry"))?e:"",a=null!=(u=null!=(s=YJ(o,"idValue"))?s:o.textContent)?u:"";n.push(new RZ(h,a))}return n},t.jZt=function(i){var n=YJ(i,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(n)||(n=HJ.pz);for(var r,e=[],s=Lt(ZJ(i,"Companion"));!(r=s()).done;){var u=r.value,o=gU(YJ(u,"width")),h=gU(YJ(u,"height")),a=YJ(u,"id"),c=gU(YJ(u,"assetWidth")),f=gU(YJ(u,"assetHeight")),v=gU(YJ(u,"expandedWidth")),d=gU(YJ(u,"rxpandedHeight")),l=YJ(u,"apiFramework"),w=YJ(u,"adSlotId"),g=gU(YJ(u,"pxratio")),_=ZJ(u,"AltText")[0],m=_?_.textContent:"";o||(IZ(),o=0),h||(IZ(),h=0),a||(a=""),c||(c=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),w||(w=""),g||(g=1),m||(m="");var y=t.ZZt(u),p=t.JZt(u),k=t.parseHtmlResource(u),b=ZJ(u,"TrackingEvents")[0],A=[];b&&(A=t.QZt(b,fZ,"companion"));var T=ZJ(u,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.YZt(ZJ(u,"CompanionClickTracking"));(y||p||k)&&e.push(new zJ(o,h,a,c,f,v,d,l,w,g,y,p,k,new qJ(S,"",E,[]),A,m))}return new WJ(n,e)},t.ZZt=function(t){var i,n=ZJ(t,"StaticResource")[0];if(n&&n.parentNode){var r=YJ(n,"creativeType");r||(r="");var e,s=n.textContent,u=ZJ(n.parentNode,"AltText")[0],o=ZJ(n.parentNode,"CompanionClickThrough")[0],h="";u&&(h=u.textContent||""),o&&(e=o.textContent||void 0),s&&(i=new wZ(s,r,e,h))}return i},t.JZt=function(t){var i,n=ZJ(t,"IFrameResource")[0];if(n){var r=n.textContent||"";i=new gZ(r)}return i},t.parseHtmlResource=function(t){var i,n=ZJ(t,"HTMLResource")[0];if(n){var r=n.textContent||"";i=new _Z(r)}return i},t}(),PZ=function(t){return t.yk="",t.BZt="linear",t.t$t="nonlinear",t.i$t="display",t}({}),DZ=function(){function t(){}return t.e$t=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.s$t=function(t){},t.n$t=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.r$t=function(t){var i=t.split(":"),n=0;return n+=3600*Number(i[0]),n+=60*Number(i[1]),n+=Number(i[2])},t.h$t=function(t){if(t<=0)return"00:00:00.000";var i=b.floor(t),n=t-i;return this.o$t(i/3600,2)+":"+this.o$t(i/60%60,2)+":"+this.o$t(i%60,2)+"."+this.o$t(1e3*n,3)},t.o$t=function(t,i){return("00"+b.floor(t)).slice(-i)},t.a$t=function(t,i){var n=this.$Zt(t);if(0===n)switch(t){case"start":return 0;case"end":return-1}else{if(2===n)return NJ(t)*i;if(1===n)return DJ(t);if(3===n)return this.n$t(t);if(4===n){var r=Number(t);if(!S(r)&&r>=-1)return r}}},t.$Zt=function(t){return"start"===t||"end"===t?0:void 0!==DJ(t.toString())?1:void 0!==NJ(t.toString())?2:void 0!==this.s$t(t.toString())?3:S(Number(t))?void 0:4},t}(),NZ=function(){function t(t,i,n,r,e,s,u,o){this.l$t=void 0,this.XYt=void 0,this.f$t=void 0,this.EJt=-1,this.y$t=void 0,this._$t=void 0,this.p$t=void 0,this.b$t=void 0,this.c$t=void 0,this.w$t=void 0,this.l$t=i,this.f$t=t,this.y$t=n,this._$t=r,this.p$t=s,this.XYt=e,this.b$t=u,this.c$t=o}return t.prototype.Un=function(){return ut.resolve()},Nt(t,[{key:"u$t",get:function(){return this.c$t.integration}},{key:"d$t",get:function(){return this.l$t}},{key:"qOt",get:function(){return this.f$t}},{key:"kJt",get:function(){return this.EJt},set:function(t){this.EJt=t}},{key:"aYt",get:function(){return this.XYt}},{key:"v$t",get:function(){return this._$t}},{key:"g$t",get:function(){return this.p$t}},{key:"irt",get:function(){return this.c$t}},{key:"m$t",get:function(){return this.OZt.dd}},{key:"W",get:function(){return!0}},{key:"OZt",get:function(){return this.w$t},set:function(t){this.w$t=t}}]),t}(),xZ=function(){function t(t,i,n){this.mYt=void 0,this.A$t=void 0,this.dE=!1,this.aV=void 0,this.aV=n,this.mYt=new NZ(t,void 0,"","",[],!1,!1,i)}var i=t.prototype;return i.Un=function(){var t;return null!=(t=this.A$t)?t:this.A$t=this.vE()},i.vE=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return t=new CZ,i=this,[4,t.LZt(this.irt,this.qOt,this.OZt,this.aV)];case 1:return i.mYt=n.sent(),this.dE=!0,[2]}})}).call(this)},Nt(t,[{key:"u$t",get:function(){return this.mYt.u$t}},{key:"d$t",get:function(){return this.mYt.d$t}},{key:"qOt",get:function(){return this.mYt.qOt}},{key:"kJt",get:function(){return this.mYt.kJt},set:function(t){this.mYt.kJt=t}},{key:"aYt",get:function(){return this.mYt.aYt}},{key:"v$t",get:function(){return this.mYt.v$t}},{key:"g$t",get:function(){return this.mYt.g$t}},{key:"irt",get:function(){return this.mYt.irt}},{key:"m$t",get:function(){return this.mYt.m$t}},{key:"W",get:function(){return this.dE}},{key:"OZt",get:function(){return this.mYt.OZt},set:function(t){this.mYt.OZt=t}}]),t}(),BZ=function(){function t(t,i,n,r){this.aS=void 0,this.S$t=void 0,this.k$t=void 0,this.E$t=void 0,this.aS=t,this.S$t=i,this.E$t=r,this.k$t=n}return Nt(t,[{key:"o",get:function(){return this.aS}},{key:"oJt",get:function(){return this.S$t}},{key:"T$t",get:function(){return this.k$t}},{key:"UKt",get:function(){return this.E$t}}]),t}();function OZ(t,i){var n;if(t.vastAdsRequest&&(n=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return rZ(t.adsResponse);return}(t.vastAdsRequest)),!n){var r=function(t){var i=t.contentUrl||t.contentId;if(!i)return;var n=t.contentType||"video/mp4",r=qA(n)||GA(n)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+DZ.h$t(t.duration)+"</Duration>":"",s=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+DZ.h$t(t.whenSkippable)+'"':"",u='<MediaFile delivery="'+r+'" type="'+n+'">'+nZ(i)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+nZ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",h="<Linear"+s+">"+e+"<MediaFiles>"+u+"</MediaFiles>"+o+"</Linear>",a=t.title?"<AdTitle>"+nZ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+a+"<InLine><Creatives><Creative>"+h+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(n=rZ(r))}var e=t.customData;if(n){var s={integration:null==e?void 0:e.integration,sources:{src:n,type:"vast"},timeOffset:i};return s.integration&&"csai"!==s.integration&&"theo"!==s.integration||(s.skipOffset=t.whenSkippable),s}}var MZ=function(t){return t.x$t="error",t.P$t="sourceupdate",t}({}),LZ=function(t){function i(i){var n;return(n=t.call(this,"error")||this).lt=void 0,n.lt=i,n}return Ct(i,t),i}(rh),FZ=function(t){function i(i,n){var r;return(r=t.call(this,"sourceupdate")||this).bt=void 0,r.Mc=void 0,r.bt=i,r.Mc=n,r}return Ct(i,t),i}(rh),UZ=function(t){function i(i,n,r){var e;return(e=t.call(this,n)||this).gBt=void 0,e.R$t=void 0,e.I$t=void 0,e.X$t=0,e.V$t=function(t){e.So(new LZ(t))},e.U$t=function(t){var i,n=new gJ(TJ(t.code),null!=(i=t.description)?i:void 0);e.V$t(n)},e.gBt=i,e.R$t=n,e.I$t=r,e}Ct(i,t);var n=i.prototype;return n.C$t=function(t){this.R$t.C$t(t)},n.D$t=function(t){this.R$t.D$t(t)},n.N$t=function(t){this.R$t.N$t(t)},n.B$t=function(t){this.R$t.B$t(t)},n.M$t=function(t){this.I$t.addUpdateListener(t)},n.L$t=function(t){this.I$t.removeUpdateListener(t)},n.O$t=function(){var t=this,i=new Va,n=new chrome.cast.media.GetStatusRequest;return this.I$t.getStatus(n,function(){i.Qy({bt:t.qx(),Mc:t.nu()})},function(t){return i.Ky(t)}),i.Yy},n.qx=function(){var t;return null==(t=this.I$t.customData)?void 0:t.currentSource},n.nu=function(){var t,i;if(null==(t=this.gBt.F$t())?void 0:t.version){var n;i=null==(n=this.I$t.customData)?void 0:n.sourceDescription}else{var r,e=null==(r=SJ(this.I$t))?void 0:r.customData;(function(t){return Wi(t)&&t.theoplayer_version>=1&&Li(t.streamStart)&&Li(t.isLive)&&Li(t.sourceDescription)})(e)&&(i=e.sourceDescription),i||(i=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:VZ(t)}}(this.I$t.media))}return i},n.jP=function(){var t=new chrome.cast.media.PauseRequest;this.I$t.pause(t,dn,this.U$t)},n.KP=function(){var t=new chrome.cast.media.StopRequest;this.I$t.stop(t,dn,this.U$t)},n.QP=function(){var t=new chrome.cast.media.PlayRequest;this.I$t.play(t,dn,this.U$t)},n.Oy=function(t,i){var n=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t===1/0?Number.MAX_VALUE:t,r.resumeState=i?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new ut(function(t,i){n.I$t.seek(r,t,function(t){var n;i(new gJ(TJ(t.code),null!=(n=t.description)?n:void 0))})})},n.gP=function(t){this.R$t.Bet(EJ,function(t){return{type:IJ.FKt,properties:{playbackRate:t}}}(t)).catch(this.V$t)},n.H$t=function(t){var i=new chrome.cast.media.EditTracksInfoRequest(t);this.I$t.editTracksInfo(i,dn,this.U$t)},n.W$t=function(){return this.I$t.getEstimatedTime()},n.q$t=function(){return this.I$t.getEstimatedBreakClipTime()},n.z$t=function(){return this.I$t.getEstimatedBreakTime()},n.G$t=function(){this.R$t.Bet("urn:x-cast:com.google.cast.media",{type:RJ.SKIP_AD,requestId:this.X$t++,mediaSessionId:this.I$t.mediaSessionId}).catch(this.V$t)},n.kn=function(){this.Vo()},Nt(i,[{key:"$D",get:function(){return this.I$t}}]),i}(th);function VZ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Jn(t.breaks,function(i){return function(t,i){var n=function(){var n=e.value,s=Fn(i,function(t){return t.id===n});if(s){var u=OZ(s,t.position);u&&r.push(u)}},r=[];if(t.isWatched)return r;for(var e,s=Lt(t.breakClipIds);!(e=s()).done;)n();return r}(i,t.breakClips)}):[]}U(),Et();var HZ=function(){function t(t){this.gBt=void 0,this.gBt=t}var i=t.prototype;return i.j$t=function(t,i){this.gBt.addMessageListener(t,i)},i.Q$t=function(t,i){this.gBt.removeMessageListener(t,i)},i.Bet=function(t,i){var n=this;return new ut(function(r,e){n.gBt.sendMessage(t,i,r,function(t){var i;e(new gJ(TJ(t.code),null!=(i=t.description)?i:void 0))})})},i.kn=function(){},t}();function WZ(t){return"vmap"===t||"adrule"===t}function zZ(t){if(t)return Xi(t)&&""!==t?{src:Gw(t),type:void 0}:function(t){return Wi(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Gw(t.src),type:XZ(t.type)}:void 0}function XZ(t){if(Xi(t)){var i=t.toLowerCase();switch(i){case"vast":case"vmap":case"adrule":return i;default:return void We("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||We("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function qZ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return PJ.test(t)}(t))return DZ.r$t(t);if(GZ(t))return t}return Number(t)>=0?Number(t):void 0}}function GZ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function jZ(t){for(var i,n=[],r=function(t,i){if(Vi(i))for(var e=0,s=i.length;e<s;e++){var u=Wi(i[e])&&i[e]?String(e):"";r(t+"["+encodeURIComponent(u)+"]",i[e])}else if(Wi(i))for(var o,h=Lt(k.keys(i));!(o=h()).done;){var a=o.value;r(t+"["+encodeURIComponent(a)+"]",i[a])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(i))},e=Lt(k.keys(t));!(i=e()).done;){var s=i.value;r(encodeURIComponent(s),t[s])}return n.join("&")}U(),Et(),Ft(),U(),Et(),Ft(),U(),Et();var QZ=function(t){return t.LKt="receiver_info",t.eOt="event",t.K$t="propertychange",t.OKt="trackevent",t}({}),YZ=function(){function t(t){var i=this;this.i0t=void 0,this.J$t=[],this.Z$t=[],this.t0t=void 0,this.e0t=function(t,n){var r=i.Y$t(n);if(r)if(r.type===QZ.K$t)for(var e,s=Lt(i.J$t);!(e=s()).done;)for(var u,o=e.value,h=Lt(k.keys(r.properties));!(u=h()).done;){var a=u.value;o(a,r.properties[a])}else if(r.type===QZ.eOt)for(var c,f=Lt(i.Z$t);!(c=f()).done;){(0,c.value)(r.event)}else r.type===QZ.OKt&&i.t0t&&r.event.trackState&&i.t0t(r.event.trackId,r.event.trackState.targetQualityIds)},this.i0t=t,this.i0t.j$t(EJ,this.e0t)}var i=t.prototype;return i.Y$t=function(t){var i;try{i=JSON.parse(t)}catch(t){0}return i},i.C$t=function(t){this.J$t.push(t)},i.D$t=function(t){Xn(this.J$t,t)},i.N$t=function(t){this.Z$t.push(t)},i.B$t=function(t){Xn(this.Z$t,t)},i.$$t=function(t){this.t0t=t},i.Bet=function(t,i){return this.i0t.Bet(t,i)},i.kn=function(){this.i0t.Q$t(EJ,this.e0t),Yn(this.Z$t),Yn(this.J$t),this.t0t=void 0},t}();U(),Et(),U(),Et();var KZ=function(t){return t.s0t="medialoadedchange",t.wy="volumechange",t.x$t="casterror",t.n0t="playererror",t.r0t="targetqualitychanged",t.h0t="receiverinfochanged",t}({}),JZ=function(t){function i(){return t.call(this,"medialoadedchange")||this}return Ct(i,t),i}(rh),ZZ=function(t){function i(i,n){var r;return(r=t.call(this,"volumechange")||this).OP=void 0,r.oP=void 0,r.OP=i,r.oP=n,r}return Ct(i,t),i}(rh),$Z=function(t){function i(i){var n;return(n=t.call(this,"casterror")||this).lt=void 0,n.lt=i,n}return Ct(i,t),i}(rh),t$=function(t){function i(i){var n;return(n=t.call(this,"playererror")||this).lt=void 0,n.lt=i,n}return Ct(i,t),i}(rh),i$=function(t){function i(i,n){var r;return(r=t.call(this,"targetqualitychanged")||this).sN=void 0,r.o0t=void 0,r.sN=i,r.o0t=n,r}return Ct(i,t),i}(rh),n$=function(t){function i(){return t.call(this,"receiverinfochanged")||this}return Ct(i,t),i}(rh),r$=function(t){function i(i){var n;(n=t.call(this)||this).gBt=void 0,n.i0t=void 0,n.R$t=void 0,n.d0t=void 0,n.v0t=void 0,n.V$t=function(t){n.So(new $Z(t))},n.T0t=function(t,i){"error"===t&&n.So(new t$(i))},n.k0t=function(t,i){n.So(new i$(t,i))},n.c0t=function(t,i){var r=JSON.parse(i);r.type===QZ.LKt&&(n.d0t=r.info,n.So(new n$))},n._0t=function(){var t=n.l0t().receiver.volume,i=t.level,r=t.muted;n.So(new ZZ(null!=i?i:void 0,null!=r?r:void 0))},n.S0t=function(){return n.f0t(n.gBt.getMediaSession())},n.g0t=function(t){var i;t||(null==(i=n.v0t)||i.L$t(n.g0t),n.v0t=void 0,n.So(new JZ))},n.b0t=function(t){var i,r=new gJ(TJ(t.code),null!=(i=t.description)?i:void 0);n.V$t(r)},n.gBt=i,n.gBt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,n.S0t),n.i0t=new HZ(i.getSessionObj()),n.R$t=new YZ(n.i0t),n.R$t.C$t(n.T0t),n.R$t.$$t(n.k0t),n.l0t().addUpdateListener(n._0t),n._0t(),n.u0t();var r=n.gBt.getMediaSession();return r&&n.f0t(r),n}Ct(i,t);var n=i.prototype;return n.a0t=function(t,i,n){this.R$t.Bet(EJ,function(t,i,n){return{type:IJ.OKt,trackID:t,trackType:i,properties:{targetQuality:n}}}(t,i,n)).catch(this.V$t)},n.u0t=function(){this.i0t.j$t(EJ,this.c0t),this.R$t.Bet(EJ,{type:IJ.LKt}).catch(dn)},n.F$t=function(){return this.d0t},n.l0t=function(){return this.gBt.getSessionObj()},n.f0t=function(t){!this.v0t&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.v0t=new UZ(this,this.R$t,t),this._0t(),this.So(new JZ),this.v0t.M$t(this.g0t))},n.p0t=function(){return this.v0t},n.m0t=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:i=function(t){var i=function(t,i,n,r){var e=function(t){for(var i,n=Lt(t.sources);!(i=n()).done;){var r=i.value;if($A(r)){var e=r.src;if(e){var s,u=null!=(s=r.type)?s:zA(e);if(e$(u))return[e,u]}}}var o,h;return[null!=(o=ZS(t))?o:"",null!=(h=KS(t))?h:""]}(t),s=e[0],u=e[1],o=new chrome.cast.media.MediaInfo(s,u);return o.metadata=AJ(t.metadata,t.poster),o.streamType=r,function(t,i,n){for(var r,e,s=function(){var t=e.value,i=zZ(t.sources);if(i)if(xJ(i,t.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=i.src;else if(BJ(i,t.timeOffset)){var s,c,f=null!=(s=t.timeOffset)?s:0,v=t.skipOffset,d=null!=(c=DZ.a$t(f,n))?c:0,l=void 0!==v?DZ.a$t(v,n):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=i.src,w.whenSkippable=l,w.customData={integration:t.integration};var g=Fn(o,function(t){return t.position===d});void 0===g&&(g=new chrome.cast.media.Break("b"+h++,[],d),o.push(g)),g.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],o=[],h=0,a=0,c=Lt(i);!(e=c()).done;)s();t.breakClips=u,t.breaks=o,t.vmapAdsRequest=r}(o,i,n),o}(t.w0t,t.Jc,t.ct,t.P0),n=new chrome.cast.media.LoadRequest(i);n.autoplay=!0,t.zx&&(n.currentTime=t.zx);return n.customData=t.y0t,n}(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.gBt.loadMedia(i)];case 2:return n=e.sent(),[3,4];case 3:return r=e.sent(),n=r,[3,4];case 4:if(n)throw new gJ(TJ(n));return[2]}})}).call(this)},n.uP=function(t){this.l0t().setReceiverMuted(t,dn,this.b0t)},n.UP=function(t){this.l0t().setReceiverVolumeLevel(t,dn,this.b0t)},n.A0t=function(){return this.l0t().receiver.friendlyName},n.kn=function(){this.Vo(),this.gBt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.S0t),this.l0t().removeUpdateListener(this._0t),this.i0t.Q$t(EJ,this.c0t),this.R$t.kn(),this.i0t.kn()},i}(th);function e$(t){switch(t){case cA._C:case cA.vC:case cA.gC:case cA.pC:return!0}return!1}var s$=function(t){return t.E0t="statechange",t}({}),u$=function(t){function i(i){var n;return(n=t.call(this,"statechange")||this).vft=void 0,n.vft=i,n}return Ct(i,t),i}(rh),o$=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).K3t=void 0,i.Q3t=void 0,i.j3t=void 0,i.MJ=function(){var t=i.N3t();i.Q3t=t===VS.CONNECTED?new r$(i.K3t.getCurrentSession()):void 0,i.So(new u$(t))},i}Ct(i,t);var n=i.prototype;return n.c3t=function(t){this.j3t=t},n.d3t=function(){return this.j3t},n.f3t=function(){return this.Q3t},n.N3t=function(){switch(this.K3t.getCastState()){case cast.framework.CastState.CONNECTED:return VS.CONNECTED;case cast.framework.CastState.CONNECTING:return VS.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return VS.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return VS.UNAVAILABLE}},n.GY=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,_J(i)];case 1:return n.sent(),this.K3t=cast.framework.CastContext.getInstance(),this.K3t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.MJ),this.K3t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}})}).call(this)},n.m3t=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.K3t.requestSession()];case 1:if(t=n.sent())throw t;return[3,3];case 2:throw i=n.sent(),new gJ(TJ(i));case 3:return[2]}})}).call(this)},n.y3t=function(t){var i;return null==(i=this.j3t)?void 0:i.onStart(t)},n.P3t=function(t){var i;return null==(i=this.j3t)?void 0:i.onStop(t)},n.A3t=function(t){var i;return null==(i=this.j3t)?void 0:i.onJoin(t)},n.x3t=function(t){var i;return null==(i=this.j3t)?void 0:i.onLeave(t)},n.C3t=function(t){this.K3t.endCurrentSession(t)},i}(th);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),H(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var h$=function(t){function i(i,n,r,e,s,u,o,h,a){var c;return(c=t.call(this)||this).oa=void 0,c.xz=void 0,c.Zb=void 0,c.h5=void 0,c.Cz=void 0,c.Rz=void 0,c.x0t=void 0,c.I0t=void 0,c.C0t=void 0,c.tO=void 0,c.sO=void 0,c.Gl=void 0,c.qc=void 0,c.oa=i,c.x0t=0,c.tO=new rg,c.sO=new rg,c.Gl=new Km,c.qc=new nO,c.x0t=n,c.xz=r-n,c.Zb=e,c.h5=s,c.Cz=u,c.Rz=o,c.I0t=h,c.C0t=a,c}Ct(i,t);var n=i.prototype;return n._nt=function(){return this.qc},n.Ux=function(){return EA.rL()},n.Gx=function(){return this.xz+this.x0t},n.nnt=function(){return this.Gx()},n.Hx=function(){},n.Nd=function(){return this.Zb},n.Kx=function(){return this.h5},n.Yx=function(){},n.fP=function(){return this.Cz},n.P0t=function(){},n._P=function(){return this.Rz},n.gP=function(t){this.Rz!==t&&(this.Rz=t,this.So(new dT(this.oa.zx,t)))},n.TP=function(){return Dy.zL},n.mP=function(){return EA.rL()},n.EP=function(){return EA.rL()},n.PP=function(){return!1},n.Mx=function(){return this.tO},n.BP=function(){return this.sO},n.RP=function(){return this.Gl},n.H$t=function(t){},n.LP=function(){return this.I0t},n.NP=function(){return this.C0t},n.QP=function(){this.Cz=!1},n.jP=function(){this.Cz=!0},n.Oy=function(t){this.xz=t-this.x0t},n.R0t=function(){return this.x0t},n.D0t=function(t){this.x0t=t},n.qnt=function(t){this.qc.qnt(t)},n.KP=function(){},n.kn=function(){this.Vo(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.qc.kn()},i}(th);U(),Et(),Pt(),Ft(),U(),Et(),xt(),Pt(),U(),Et(),Pt(),U(),Et();var a$=function(t){return t.N0t="ccmodechangerequest",t.B0t="cctargetqualitychangerequest",t.M0t="cctrackchangerequest",t}({}),c$=function(t){function i(i,n,r){var e;return(e=t.call(this,a$.N0t)||this).track=void 0,e.trackId=void 0,e.mode=void 0,e.track=i,e.trackId=n,e.mode=r,e}return Ct(i,t),i}(rh);U(),Et();var f$=function(t){return t.LT="TEXT",t.Bk="AUDIO",t.Mk="VIDEO",t}({}),v$=function(t){return t.HU="SUBTITLES",t.WU="CAPTIONS",t.qU="DESCRIPTIONS",t.Yn="CHAPTERS",t.zU="METADATA",t}({});function d$(t){return"AUDIO"===t.type}function l$(t){return"VIDEO"===t.type}function w$(t){return"TEXT"===t.type}var g$=function(t){function i(i){var n;(n=t.call(this)||this).o=void 0,n.JI=void 0,n.eC=void 0,n.Lt=void 0,n.bs=void 0,n.AP=void 0,n.Km=void 0,n.bO=void 0,n.A5=void 0,n.D5=void 0,n.T5=void 0,n.S5=void 0,n.Yo=void 0,n.L0t=void 0,n.hu=void 0;var r=i.customData;return n.JI=Number(i.trackId)||0,n.o=""+(r&&r.id||n.JI),n.bO=r&&r.label||i.name||"",n.bs=r&&r.language||i.language||"",n.eC=r&&r.inBandMetadataTrackDispatchType||"",n.Lt=r&&r.kind||function(t){switch(t){case v$.HU:return Jm.HU;case v$.WU:return Jm.WU;case v$.qU:return Jm.qU;case v$.Yn:return Jm.Yn;case v$.zU:return Jm.zU}return}(i.subtype)||"subtitles",n.AP=Dg.NONE,n.Km=r&&void 0!==r.type?function(t){return xg(t)?t:Ng.DEFAULT}(r.type):Ng.WEBVTT,n.A5=[],n.T5=new HP(n.A5),n.D5=[],n.S5=new HP(n.D5),n.Yo=Xm(r&&r.mode||zm.Nh),n.L0t=n.Yo,n}Ct(i,t);var n=i.prototype;return n.k5=function(t){return Fn(this.T5.NI,function(i){return i.o===t})},n.sC=function(t){this.Qk=t},n.F0t=function(t){},n.kn=function(){},n.hr=function(){},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=jm(this)),this.hu}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"q",get:function(){return this.S5}},{key:"L",get:function(){return this.T5}},{key:"Qk",get:function(){return this.Yo},set:function(t){var i=Xm(t);this.Yo!==i&&(this.Yo=i,this.L0t!==i&&this.So(new c$(this,this.JI,i)),this.So(new wg(this)))}},{key:"O0t",get:function(){return this.L0t},set:function(t){var i=Xm(t),n=this.Yo!==i;this.Yo=i,this.L0t=i,n&&this.So(new wg(this))}}]),i}(th);U(),Et(),xt(),Pt(),Ft(),U(),Et(),Pt();var _$=function(t){function i(i,n){var r;return(r=t.call(this,a$.M0t)||this).trackId=void 0,r.enabled=void 0,r.trackId=i,r.enabled=n,r}return Ct(i,t),i}(rh);U(),Et(),Pt();var m$=function(t){function i(i,n){var r;return(r=t.call(this,a$.B0t)||this).track=void 0,r.targetQuality=void 0,r.track=i,r.targetQuality=n,r}return Ct(i,t),i}(rh);U(),Et();var y$=function(t){return t.Bk="audio",t.Mk="video",t.LT="text",t}({}),p$=function(t){function i(i){var n;(n=t.call(this)||this).o=void 0,n.JI=void 0,n.Lt=void 0,n.bs=void 0,n.V3=void 0,n.bO=void 0,n._lt=void 0,n._O=new lg,n.flt=void 0,n.We=void 0,n.V0t=void 0,n.hu=void 0,n.ILt=function(){return n.So(new _g(n))};var r=i.customData;if(n.JI=Number(i.trackId)||0,n.o=""+(r&&r.id||n.JI),n.bO=r&&r.label||i.name||"",n.bs=r&&r.language||i.language||"",n.Lt=r&&r.kind||"main",n.We=r&&r.enabled,n.V0t=n.We,d$(i)){n.V3=y$.Bk;var e=i.customData&&i.customData.qualities;if(e)for(var s,u=Lt(e);!(s=u()).done;){var o=s.value,h=new YU(o.id,o.bandwidth,o.codecs,o.name,"",o.audioSamplingRate);h.wn("update",n.ILt),n._O.gO(h)}}else{n.V3=y$.Mk;var a=i.customData&&i.customData.qualities;if(a)for(var c,f=Lt(a);!(c=f()).done;){var v=c.value,d=new QU(v.id,v.bandwidth,v.codecs,v.name,"",v.frameRate,v.width,v.height);d.wn("update",n.ILt),n._O.gO(d)}}return n}Ct(i,t);var n=i.prototype;return n.SO=function(t){this.Rt=t},n.F0t=function(t){if(t.targetQualityIds){for(var i,n=[],r=Lt(this._O.NI);!(i=r()).done;){var e=i.value;t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var s=n.length?n:void 0;this.U0t(s)}},n.U0t=function(t){(function(t,i){return!t&&i||t&&!i||t&&i&&!Kn(t,i)})(this.flt,t)&&(this.flt=t&&this._O.pO(t)?t:void 0,this.So(new eL(this.flt,this)))},n.unload=function(){for(var t,i=Lt(this._O.NI);!(t=i()).done;){t.value.mn("update",this.ILt)}this._O.hr()},Nt(i,[{key:"YI",get:function(){return this._lt}},{key:"tC",get:function(){return this.flt},set:function(t){this.U0t(t),this.So(new m$(this,t))}},{key:"$I",get:function(){return this._O}},{key:"Th",get:function(){return this.bO},set:function(t){t!==this.bO&&(this.bO=t,this.So(new _g(this)))}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.V0t!==t&&this.So(new _$(this.JI,t)),this.So(new wg(this)))}},{key:"H0t",get:function(){return this.V0t},set:function(t){var i=this.We!==t;this.We=t,this.V0t=t,i&&this.So(new wg(this))}},{key:"Ca",get:function(){return this.hu||(this.hu=tg(this)),this.hu}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"}}]),i}(th);U(),Et();var k$=function(t){return t.W0t="legacy",t.q0t="caf",t}({});U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt(),H(),Ft(),U(),Et(),U(),Et();var b$=function(){function t(t){this.qc=void 0,this.z0t=0,this.qc=t}var i=t.prototype;return i.Rc=function(){if(!(this.z0t>=this.qc.length)){var t=this.qc[this.z0t];return this.z0t+=1,t}},i.lt=function(){return this.Rc()},t}();function A$(t){var i,n,r;return null!=(r=null==(n=t.d$t)||null==(i=n.UKt)?void 0:i.VKt())?r:[]}var T$=function(){},S$=function(){function t(){this.hu=void 0}return t.prototype.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get ads(){return t.Jc.map(function(t){return t.Ont()})},get integration(){return t.u$t},get maxDuration(){return t.G0t},get maxRemainingDuration(){return t.X0t},get timeOffset(){return t.qOt},get customData(){return t.y0t}}}(this)},t}(),E$=function(){function t(t,i){this.Q0t=void 0,this.oa=void 0,this.Q0t=t,this.oa=i}return Nt(t,[{key:"j0t",get:function(){return this.Q0t}},{key:"t",get:function(){return this.oa}}]),t}(),I$=function(t){function i(i,n){var r;return(r=t.call(this)||this).w$t=void 0,r.$0t=void 0,r.Z0t=[],r.t1t=[],r.w$t=i,r.$0t=n,r}Ct(i,t);var n=i.prototype;return n.Y0t=function(t,i,n,r){var e=Fn(this.Z0t,function(i){return i.iYt===t});if(void 0!==e)return e;var s=new D$(t,i,this,this.$0t,n,r);return this.Z0t.push(s),s},n.J0t=function(t,i,n,r,e){var s=Fn(this.t1t,function(i){return i.nYt===t});if(void 0!==s)return s;var u=new P$(t,i,n,this,this.$0t,r,e);return this.t1t.push(u),u},Nt(i,[{key:"OZt",get:function(){return this.w$t}},{key:"Jc",get:function(){for(var t,i=[],n=Lt(this.w$t.K0t);!(t=n()).done;)for(var r,e=t.value,s=Lt(A$(e));!(r=s()).done;){var u,o,h=r.value,a=null!=(o=null==(u=h.sYt)?void 0:u.PYt)?o:[];if(h.iYt&&i.push(this.Y0t(h.iYt,a,h.rYt,e.irt)),h.nYt)for(var c,f=Lt(h.nYt.hYt);!(c=f()).done;){var v=c.value;i.push(this.J0t(v,a,h.nYt,h.rYt,e.irt))}}return i}},{key:"u$t",get:function(){return pS.CSAI}},{key:"qOt",get:function(){var t=this.w$t.dd;return t>=0?t:this.$0t.t.Nd()}},{key:"X0t",get:function(){for(var t,i=0,n=Lt(this.w$t.K0t);!(t=n()).done;)for(var r,e=Lt(A$(t.value));!(r=e()).done;){var s=r.value;s.iYt&&!s.iYt.xJt&&(i+=s.iYt.ct)}return this.$0t&&this.$0t.j0t&&(i+=this.$0t.j0t.ct-this.$0t.j0t.zx),i}},{key:"G0t",get:function(){for(var t,i=0,n=Lt(this.w$t.K0t);!(t=n()).done;)for(var r,e=Lt(A$(t.value));!(r=e()).done;){var s=r.value;s.iYt&&(i+=s.iYt.ct)}return i}},{key:"y0t",get:function(){}}]),i}(S$),R$={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},C$=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this)||this).u1t=void 0,o.IYt=void 0,o.mYt=void 0,o.$0t=void 0,o.yJt=void 0,o.c$t=void 0,o.e1t=!1,o.u1t=i,o.IYt=n,o.mYt=r,o.$0t=e,o.yJt=s,o.c$t=u,o}Ct(i,t);var n=i.prototype;return n.i1t=function(){return this.e1t},n.s1t=function(){this.e1t=!0},n.n1t=function(t){return Yu({},R$,{resourceURI:t.cZt||""})},n.r1t=function(t){return Yu({},R$,{contentHTML:t.cZt.trim(),type:"HTMLResource"})},n.h1t=function(t){var i,n;return Yu({},R$,{clickThrough:(null==(i=t.KYt)?void 0:i.trim())||"",resourceURI:(null==(n=t.cZt)?void 0:n.trim())||"",altText:t.jYt||"",type:"StaticResource"})},n.o1t=function(t,i,n){if(t&&i){var r="<img "+(n?"title='"+n+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(i)+"' target='_blank' rel='noopener'>"+r+"</a>"}},n.sYt=function(t){var i=this;return t?t.map(function(t){var n,r={adSlotId:t.VYt||"",height:t.Mi||0,width:t.Ti||0};if(t.cYt){var e,s=i.h1t(t.cYt),u=s.clickThrough||(null==(e=t.zYt)?void 0:e.KYt);n=Yu({},s,{contentHTML:i.o1t(s.resourceURI,u,s.altText)||""})}else if(t.vYt)n=i.r1t(t.vYt);else{if(!t.lYt)return;n=i.n1t(t.lYt)}return Mw(n,r)}).filter(function(t){return void 0!==t}):[]},n.a1t=function(){return this.u1t.QKt},Nt(i,[{key:"od",get:function(){return this.mYt}},{key:"irt",get:function(){return this.c$t}},{key:"rYt",get:function(){return this.yJt}}]),i}(T$),P$=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this,i,n,e,s,u,o)||this).c1t=void 0,h.hu=void 0,h.c1t=r,h}Ct(i,t);var n=i.prototype;return n.xa=function(){var t=this.mYt,i={companions:this.sYt(this.IYt),type:"nonlinear",id:this.u1t.wYt,skipOffset:this.kJt,integration:this.c$t.integration,adSystem:this.u1t.QKt,get adBreak(){return t.Ont()},creativeId:this.u1t.wYt,universalAdIds:this.yJt.map(function(t){return{adIdRegistry:t.EZt,adIdValue:t.PZt}})};return this.u1t.lYt?Mw(this.n1t(this.u1t.lYt),i):this.u1t.vYt?Mw(this.r1t(this.u1t.vYt),i):this.u1t.cYt?Mw(this.h1t(this.u1t.cYt),i):i},n.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},n.d1t=function(){var t,i;return null!=(i=null==(t=this.u1t.cYt)?void 0:t.cZt)?i:""},n.l1t=function(){var t,i,n;return null!=(n=null==(i=this.u1t)||null==(t=i.cYt)?void 0:t.lZt)?n:""},Nt(i,[{key:"nYt",get:function(){return this.u1t}},{key:"eYt",get:function(){return this.c1t}},{key:"kJt",get:function(){var t,i=this.u1t.od;return i&&i.irt&&void 0!==i.irt.skipOffset?DZ.a$t(i.irt.skipOffset,this.$0t.j0t.ct):(null==(t=this.u1t.od)?void 0:t.kJt)||-1}}]),i}(C$),D$=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,r,e,s,u)||this).hu=void 0,o}Ct(i,t);var n=i.prototype;return n.xa=function(){var t,i=this.mYt,n=this.u1t;return{companions:this.sYt(this.IYt),duration:n.ct,id:n.wYt,mediaFiles:n.AJt,get mediaUrl(){return n.PJt},skipOffset:this.kJt,type:"linear",integration:this.c$t.integration,adSystem:n.QKt,width:void 0,height:void 0,get adBreak(){return i.Ont()},clickThrough:null==(t=n.lJt)?void 0:t.KYt,creativeId:n.wYt,universalAdIds:this.yJt.map(function(t){return{adIdRegistry:t.EZt,adIdValue:t.PZt}}),closedCaptionFiles:n.CJt,extensions:n.DJt}},n.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},n.d1t=function(){return this.u1t.AJt.length>0?this.u1t.AJt[0].contentURL:""},n.l1t=function(){return this.u1t.AJt.length>0?this.u1t.AJt[0].type:""},Nt(i,[{key:"iYt",get:function(){return this.u1t}},{key:"kJt",get:function(){var t=this.u1t.od;return t&&t.irt&&void 0!==t.irt.skipOffset?DZ.a$t(t.irt.skipOffset,this.$0t.j0t.ct):this.u1t.kJt||-1}}]),i}(C$);function N$(t){return V(t,D$)}U(),Et();var x$=function(t){return t.f1t="csai",t.v1t="google-ima",t.so="google-dai",t._1t="freewheel",t.g1t="mediatailor",t.Iv="chromecast",t.knt="theoads",t}({});U(),Et(),Pt();var B$=function(t){function i(i){return t.call(this,"p1t",i)||this}return Ct(i,t),i.prototype.xa=function(){return new O$(this.jnt.Ont())},i}(VB),O$=function(t){function i(i){return t.call(this,"updatead",i)||this}return Ct(i,t),i}(HB);U(),Et(),Pt();var M$=function(t){function i(i){return t.call(this,"m1t",i)||this}return Ct(i,t),i.prototype.xa=function(){return new L$(this.jnt.Ont())},i}(VB),L$=function(t){function i(i){return t.call(this,"adloaded",i)||this}return Ct(i,t),i}(HB),F$=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).oa=void 0,e.I$t=void 0,e.A1t=void 0,e.y1t=[],e.w1t=void 0,e.u1t=void 0,e.hu=void 0,e.eh=function(t){var i;if(t){var n=e.I$t.$D,r=n.breakStatus,s=n.media,u=s.breakClips,o=s.breaks,h=null==(i=SJ(n))?void 0:i.media,a=[];o&&u&&e.T1t(o,u,h,a),e.P1t(r,a);for(var c,f=Lt(a);!(c=f()).done;){var v=c.value;e.So(v)}}},e.oa=i,e.I$t=n,e.A1t=r,e.I$t.M$t(e.eh),e}Ct(i,t);var n=i.prototype;return n.W6=function(t,i,n){throw new p("Scheduling ads while casting is not supported.")},n.uD=function(){this.I$t.G$t()},n.znt=function(t){var i;null==(i=this.A1t)||i.znt(t)},n.Wnt=function(t,i){var n;null==(n=this.A1t)||n.Wnt(t,i)},n.S1t=function(t){return Fn(this.y1t,function(i){return i.o===t})},n.T1t=function(t,i,n,r){for(var e,s=this.y1t,u=[],o=!1,h=Lt(t);!(e=h()).done;){var a=e.value,c=this.S1t(a.id);void 0===c&&(c=new U$(a),r.push(new FB(c))),!Li(c.k1t)&&Li(n)&&(c.k1t=this.E1t(c.x1t,n));var f=c.Jc;c.er(a,i,n,r);for(var v,d=Lt(c.Jc);!(v=d()).done;){var l=v.value;jn(f,l)||(r.push(new WB(l)),o=!0)}u.push(c)}this.y1t=u,o&&r.push(new ZB);for(var w,g=Lt(s);!(w=g()).done;){var _=w.value;jn(u,_)||r.push(new MB(_))}},n.P1t=function(t,i){var n,r,e=this.w1t,s=this.u1t;if(t){var u,o=t.breakId,h=t.breakClipId;n=o?this.S1t(o):void 0,r=h?null==(u=this.w1t)?void 0:u.I1t(h):void 0}if(this.w1t=n,this.u1t=r,n!==e&&(void 0!==e&&(e.C1t=void 0,i.push(new XB(e))),void 0!==n&&(n.C1t=this.I$t,i.push(new GB(n)))),r!==s){var a=this.oa.Gx();void 0!==s&&i.push(new KB(s,a)),void 0!==r&&i.push(new QB(r,a))}},n.E1t=function(t,i){if(i&&i.breaks){var n=Fn(i.breaks,function(i){return i.id===t.id});return n}},n.qnt=function(t){for(var i,n=[],r=Lt(this.y1t);!(i=r()).done;){var e=i.value,s=e.Jc;if(e===this.w1t&&void 0!==this.u1t){var u=s.indexOf(this.u1t);u>=0&&(s=s.slice(u))}else if(e.b1t())continue;for(var o,h=Lt(s);!(o=h()).done;){var a=o.value.R1t();a&&n.push(a)}}for(var c,f=Lt(n);!(c=f()).done;){var v=c.value;t.W6(v,DB.Bnt,!1)}},n.kn=function(){return this.Vo(),this.I$t.L$t(this.eh),void 0!==this.w1t&&(this.w1t.C1t=void 0,this.w1t=void 0),this.u1t=void 0,Yn(this.y1t),ut.resolve(void 0)},n.Hnt=function(t){},Nt(i,[{key:"zc",get:function(){return void 0!==this.w1t}},{key:"Lnt",get:function(){return this.u1t?[this.u1t]:[]}},{key:"Fnt",get:function(){var t;return null!=(t=this.w1t)?t:null}},{key:"Unt",get:function(){var t=this;return Jn(this.y1t,function(i){var n=i.Jc;if(i===t.w1t&&void 0!==t.u1t){var r=n.indexOf(t.u1t);if(r>=0)return n.slice(r+1)}return i.b1t()?[]:n})}},{key:"Vnt",get:function(){var t=this;return this.y1t.filter(function(i){return i===t.w1t||!i.b1t()})}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=NB(this)}}]),i}(nh),U$=function(t){function i(i){var n;return(n=t.call(this)||this).D1t=void 0,n.k1t=void 0,n.qc=[],n.C1t=void 0,n.D1t=i,n}Ct(i,t);var n=i.prototype;return n.b1t=function(){return this.D1t.isWatched},n.I1t=function(t){return Fn(this.qc,function(i){return i.o===t})},n.er=function(t,i,n,r){for(var e,s=function(s){var o=t.breakClipIds[s],h=Fn(i,function(t){return t.id===o});if(void 0===h)return"continue";var a=s<e.qc.length?e.qc[s]:new V$(h,e);!Li(a.N1t)&&Li(n)&&(a.N1t=e.B1t(n,o,s)),a.er(h,r),u.push(a)},u=[],o=0;o<t.breakClipIds.length;o++)e=this,s(o);this.D1t=t,this.qc=u},n.B1t=function(t,i,n){if(t&&t.breakClips){var r=Fn(t.breakClips,function(t){return t.id===i});if(!r){var e,s=null==(e=this.k1t)?void 0:e.breakClipIds[n];s&&(r=Fn(t.breakClips,function(t){return t.id===s}))}return r}},Nt(i,[{key:"x1t",get:function(){return this.D1t}},{key:"o",get:function(){return this.D1t.id}},{key:"Jc",get:function(){return this.qc}},{key:"u$t",get:function(){return x$.Iv}},{key:"G0t",get:function(){var t=this.D1t.duration;return void 0===t&&this.qc.length>0&&(t=Dn(this.qc,function(t){return t.ct}),S(t)&&(t=void 0)),t}},{key:"X0t",get:function(){var t=this.G0t;if(void 0!==t&&void 0!==this.C1t){var i=this.C1t.z$t();if(void 0!==i)return b.max(0,t-i)}return t}},{key:"qOt",get:function(){return this.D1t.position}},{key:"y0t",get:function(){}}]),i}(S$),V$=function(){function t(t,i){this.L1t=void 0,this.N1t=void 0,this.od=void 0,this.hu=void 0,this.L1t=t,this.od=i}var i=t.prototype;return i.a1t=function(){return""},i.l1t=function(){var t;return null!=(t=this.L1t.contentType)?t:""},i.d1t=function(){var t,i;return null!=(i=null!=(t=this.L1t.contentUrl)?t:this.L1t.contentId)?i:""},i.er=function(t,i){var n=this.o,r=this.ct,e=this.L1t.contentUrl;this.L1t=t;var s=this.o,u=this.ct,o=this.L1t.contentUrl;n===s&&(r===u||S(r)&&S(u))&&e===o||i.push(new B$(this)),S(r)&&!S(u)&&i.push(new M$(this))},i.R1t=function(){var t;return this.N1t&&(t=OZ(this.N1t,this.od.qOt)),t||(t=OZ(this.L1t,this.od.qOt)),t},i.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},i.xa=function(){var t=this;return{get extensions(){return[]},get companions(){return t.PYt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.AJt},get mediaUrl(){return t.PJt},get closedCaptionFiles(){return[]},get skipOffset(){return t.kJt},type:"linear",integration:x$.Iv,get adSystem(){return t.a1t()},width:void 0,height:void 0,get adBreak(){return t.od.Ont()},get resourceURI(){return t.d1t()},get clickThrough(){return t.KYt},get creativeId(){return t.wYt},get customData(){return t.y0t},get isSlate(){return!1},get universalAdIds(){return t.rYt.map(function(t){return{adIdRegistry:t.EZt,adIdValue:t.PZt}})}}},Nt(t,[{key:"M1t",get:function(){return this.L1t}},{key:"o",get:function(){return this.L1t.id}},{key:"PYt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.L1t.duration)?t:NaN}},{key:"AJt",get:function(){var t=this.d1t();return t?[{contentURL:t,delivery:"progressive",type:this.l1t(),width:0,height:0}]:[]}},{key:"PJt",get:function(){return this.d1t()}},{key:"kJt",get:function(){var t=this.L1t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"KYt",get:function(){return this.L1t.clickThroughUrl}},{key:"wYt",get:function(){}},{key:"rYt",get:function(){return[]}},{key:"y0t",get:function(){}}]),t}();U(),Et(),xt(),Pt();var H$=function(t){function i(i,n){var r;return void 0===n&&(n=Ui.Zs.Ke),(r=t.call(this)||this).wE=void 0,r.Ls=void 0,r.U1t=void 0,r.F1t=void 0,r.We=!1,r.V1t=function(t){t.stopPropagation(),r.So(new rh("clickstart"))},r.H1t=function(t){t.stopPropagation(),r.So(new rh("click"))},r.wE=i,r.U1t=n,r.Ls=v.createElement("a"),r.Ls.style.position="absolute",r.Ls.style.zIndex="11",r.Ls.target="Xu",r.U1t?(mx(r.Ls,"learn more"),r.Ls.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Ls.setAttribute("rel","noopener")):an(r.Ls),r.wE.appendChild(r.Ls),r.ZU(),r}Ct(i,t);var n=i.prototype;return n.JU=function(){if(!this.We){this.We=!0,this.Ls.style.display="",this.U1t||(this.wE.style.cursor="pointer");var t=this.U1t?this.Ls:this.wE;Ui.Zs.Ke?(t.addEventListener("touchstart",this.V1t),t.addEventListener("touchend",this.H1t)):(t.addEventListener("mousedown",this.V1t),t.addEventListener("click",this.H1t))}},n.ZU=function(){if(this.We){this.We=!1,this.Ls.style.display="none",this.U1t||(this.wE.style.cursor="");var t=this.U1t?this.Ls:this.wE;Ui.Zs.Ke?(t.removeEventListener("touchstart",this.V1t),t.removeEventListener("touchend",this.H1t)):(t.removeEventListener("mousedown",this.V1t),t.removeEventListener("click",this.H1t))}},n.zg=function(){this.Vo(),this.ZU(),this.wE.removeChild(this.Ls)},Nt(i,[{key:"O1t",get:function(){return this.F1t},set:function(t){this.F1t!==t&&(this.F1t=t,this.Ls.href=null!=t?t:"",t?this.JU():this.ZU())}}]),i}(th);U(),Et(),xt(),Pt(),U(),Et(),Ft();var W$=[1200,992,768,576],z$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},X$=function(){function t(t,i){var n=this;this.Ls=void 0,this.sc=void 0,this.q1t=void 0,this.bn=void 0,this.Ls=t,this.sc=i,this.bn=function(t){n.W1t(t.width)},this.q1t=q$(i.Eu),sn(this.Ls,this.q1t),i.wn(fI.yn,this.bn)}var i=t.prototype;return i.W1t=function(t){var i=q$(t);i!==this.q1t&&(sn(this.Ls,i),function(t,i){if(void 0!==t.classList)t.classList.remove(i);else if(void 0!==t.className){for(var n=" "+rn(t)+" ",r=" "+i+" ";-1!==n.indexOf(r);)n=n.replace(r," ");en(t,n.trim())}}(this.Ls,this.q1t),this.q1t=i)},i.kn=function(){this.sc.mn(fI.yn,this.bn)},t}();function q$(t){for(var i,n=Lt(W$);!(i=n()).done;){var r=i.value;if(t>r)return z$[r]}return"theo-size-xs"}var G$=function(t){function i(i,n){var r;return(r=t.call(this)||this).Ls=void 0,r.K1t=void 0,r.ud=void 0,r.tc=void 0,r.Yo=void 0,r.Q1t=function(){r.So(new rh("uD"))},r.Ls=v.createElement("div"),r.xe.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.xe.style.position="absolute",r.ud=v.createElement("span"),r.xe.appendChild(r.ud),n&&(r.K1t=v.createElement("div"),r.K1t.className="theoplayer-ad-skip-poster",r.K1t.style.backgroundImage='url("'+jo(n)+'")',r.xe.appendChild(r.K1t)),r.Yo="countdown",r.tc=new X$(r.xe,i),r}Ct(i,t);var n=i.prototype;return n.z1t=function(t){"countdown"!==this.Yo&&(this.Yo="countdown",this.G1t(),this.xe.classList.remove("theoplayer-ad-skip-button"),this.xe.classList.add("theoplayer-ad-skip-countdown")),this.HT="You can skip in "+b.round(t)+" seconds"},n.X1t=function(){"skip"!==this.Yo&&(this.Yo="skip",this.HT="Skip Ad",this.j1t(),this.xe.classList.remove("theoplayer-ad-skip-countdown"),this.xe.classList.add("theoplayer-ad-skip-button"))},n.j1t=function(){this.xe.addEventListener("mouseup",this.Q1t),this.xe.addEventListener("touchend",this.Q1t)},n.G1t=function(){this.xe.removeEventListener("mouseup",this.Q1t),this.xe.removeEventListener("touchend",this.Q1t)},n.kn=function(){this.Vo(),this.G1t(),this.tc.kn(),Zi(this.Ls),Zi(this.ud),this.K1t&&Zi(this.K1t)},Nt(i,[{key:"xe",get:function(){return this.Ls}},{key:"Qk",get:function(){return this.Yo}},{key:"HT",get:function(){return this.ud.textContent||""},set:function(t){mx(this.ud,t)}}]),i}(th),j$=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).oa=void 0,u.gBt=void 0,u.I$t=void 0,u.rPt=EA.rL(),u.p2t=void 0,u.Zb=void 0,u.h5=!1,u.nq=void 0,u.Cz=void 0,u.Rz=void 0,u.u2t=void 0,u.o5=Dy.zL,u.y2t=!1,u.Ho=EA.rL(),u.H4=void 0,u.Pz=!1,u.x0t=void 0,u.I0t=void 0,u.C0t=void 0,u.tO=new rg,u.sO=new rg,u.Gl=new Km,u.qc=void 0,u.A2t=void 0,u.T2t=void 0,u.x2t=void 0,u.nxt=NaN,u.g2t=void 0,u.a2t=!1,u._2t=NaN,u.f2t=void 0,u.e2t=0,u.I2t=function(t,i){switch(t){case"buffered":u.rPt=new EA(i),u.So(new YR(u.Gx()));break;case"currentProgramDateTime":u.p2t=new Date(i).getTime()-u.Gx();break;case"played":u.Ho=new EA(i);break;case"seekable":u.r2t();break;case"videoHeight":u.l2t(void 0,i);break;case"videoWidth":u.l2t(i,void 0)}},u.u4=function(t){switch(t.type){case eh.$w:u.Je(t.currentTime);break;case eh.Zw:u.Mq();break;case eh.Yw:u.So(new kL(t.representation,t.previousRepresentation));break;case eh.ey:u.So(new QM(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case eh.Dw:u.So(new gH(t.currentTime,t.initDataType,t.initData));break;case eh.Ew:u.So(new eN(new ug(vd.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case eh.xw:u.So(new sN)}},u.g0t=function(t){u.r2t(),u.o2t(),u.hh(),u.c2t(),u.v2t(),u.n2t(),u.Z1t(),u.Y1t(),u.b2t(),u.S2t(),u.E2t(),t||Q$(u.I$t.$D)&&u.Eh()},u.bd=function(){u.v2t(),u.E2t()},u.C2t=function(t){u.So(t)},u.m2t=gn(function(t){return u.E9(t)},50),u.V$t=function(t){u.g2t=void 0,u.So(new LZ(t))},u.k2t=function(){u.jP()},u.P2t=function(){u.qc.uD()},u.oa=i,u.gBt=r,u.I$t=e,u.qc=new F$(i,e,n.Jc),u.x0t=s.R0t(),u.Zb=s.Nd()-u.x0t,u.Cz=s.fP(),u.Rz=s._P(),u.I0t=s.LP(),u.C0t=s.NP(),u.I$t.N$t(u.u4),u.I$t.C$t(u.I2t),u.I$t.M$t(u.g0t),u.I$t.wn(MZ.x$t,u.C2t),u.I$t.O$t().then(function(t){u.So(new FZ(t.bt,t.Mc))},u.V$t),u}Ct(i,t);var n=i.prototype;return n.Y1t=function(){var t=this.I$t.$D.activeTrackIds;if(t){if(this.J1t()){var i=this.sO.NI.map(function(t){return t.o}),n=this.tO.NI.map(function(t){return t.o});jn(i.concat(n),"0")&&t.push(0)}Z$(t,this.tO),Z$(t,this.sO),function(t,i){for(var n,r=!1,e=Lt(i.NI);!(n=e()).done;){var s=n.value;s.O0t=jn(t,s.JI)?zm.Kn:zm.Nh}}(t,this.Gl)}},n.Z1t=function(){var t,i=null==(t=this.I$t.$D.media)?void 0:t.tracks;if(i){var n=i.filter(d$),r=i.filter(l$),e=i.filter(w$);if(this.J1t()&&0===r.length&&0!==this.LP()){var s=this.$1t();r.push(s)}if(this.J1t()&&0===n.length){var u=this.t2t();n.push(u)}K$(this.tO,n.map(function(t){return t.trackId})),K$(this.sO,r.map(function(t){return t.trackId})),K$(this.Gl,e.map(function(t){return t.trackId})),J$(n,this.tO),J$(r,this.sO),function(t,i){for(var n,r=!1,e=Lt(t);!(n=e()).done;){var s=n.value,u=Y$(i,s.trackId);u||(u=new g$(s),i.tt(u),r=!0)}}(e,this.Gl)}},n.i2t=function(){this.Cz||(this.e2t=_(this.bd,250))},n.s2t=function(){m(this.e2t)},n.n2t=function(){this.s2t(),this.i2t()},n.r2t=function(){var t,i,n=this.I$t.$D,r=n.media,e=null!=(i=null==r?void 0:r.duration)?i:NaN,s=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,u=s?1/0:e;this.Zb=u,this.h2t();var o=n.getEstimatedLiveSeekableRange(),h=null==(t=n.customData)?void 0:t.buffers;if(Li(o)){var a=o.start,c=o.end,f=o.isMovingWindow,v=void 0===f?s:f,d=o.isLiveDone,l=void 0!==d&&d;this.BUt(a,c,v,l)}else if(Li(h)){var w=h.seekable,g=w[0],_=w[1];this.BUt(g,_,s,!1)}else s?this.BUt(void 0,void 0,!0,!1):this.BUt(0,u,!1,!1)},n.o2t=function(){var t=this.I$t.$D,i=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||Q$(t);this.a2t=i,this.Cz!==i&&(this.Cz=i,this.Cz?this.So(new cT(this.Gx())):this.So(new fT(this.Gx())))},n.hh=function(){var t=this.I$t.$D.playbackRate;this.u2t!==t&&(this.u2t=void 0,this.Rz!==t&&(this.Rz=t,this.So(new dT(this.Gx(),t))))},n.c2t=function(){var t;switch(this.I$t.$D.playerState){case chrome.cast.media.PlayerState.IDLE:t=Dy.zL;break;case chrome.cast.media.PlayerState.BUFFERING:t=Dy.Qn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=Dy.XL}this.u5(t),this.d2t()},n.BUt=function(t,i,n,r){Li(t)&&Li(i)?this.H4=new oP(t,i,n,n&&!r):this.H4=void 0},n.l2t=function(t,i){this.C0t=null!=i?i:this.C0t,this.I0t=null!=t?t:this.I0t,this.So(new Ey)},n.Je=function(t){this.f2t!==t?(this.Pz=!0,this.So(new wT(this.Gx()))):this.f2t=void 0},n.Mq=function(){if(this.Pz){this.Pz=!1;var t=this.Gx();this.So(new bw(t,this.Hx())),this.So(new gT(t))}},n.Eh=function(){this.h5=!0,this.Kx()&&this.So(new lT(this.Gx()))},n.h2t=function(){var t=this.nxt,i=this.Nd();t===i||S(t)&&S(i)||(this.nxt=i,this.So(new vT(i)))},n.v2t=function(){var t=this.Gx();this.Pz||this._2t===t||(this._2t=t,this.So(new bw(t,this.Hx())))},n.P0t=function(){this.Cz&&(this.Cz=!1,this.So(new fT(this.Gx())),this.u5(Dy.zL))},n._nt=function(){return this.qc},n.Ux=function(){return this.rPt.Ly(this.x0t)},n.Gx=function(){if(this.qc.zc){var t=this.I$t.q$t();if(void 0!==t)return t}return this.nnt()},n.nnt=function(){return void 0!==this.g2t?this.x0t+this.g2t:this.h5?this.Nd():this.x0t+this.I$t.W$t()},n.Hx=function(){if(this.p2t)return new Date(this.nnt()+this.p2t)},n.Nd=function(){if(this.qc.zc){var t,i=null==(t=this.qc.Lnt[0])?void 0:t.ct;if(void 0!==i&&!S(i))return i}return this.x0t+this.Zb},n.Yx=function(){return this.nq},n.Kx=function(){return!this.qc.zc&&this.h5},n.fP=function(){return this.Cz},n._P=function(){return this.Rz},n.gP=function(t){this.Rz!==t&&(this.u2t=this.Rz,this.Rz=t,this.So(new dT(this.Gx(),t)),this.I$t.gP(t))},n.TP=function(){return this.o5},n.mP=function(){return this.qc.zc?EA.nL(0,this.Gx()):this.Ho.Ly(this.x0t)},n.EP=function(){var t,i;if(this.qc.zc)return EA.rL();var n=null!=(i=null==(t=this.H4)?void 0:t.J3().Ly(this.x0t))?i:EA.rL();if(n.V>0){var r=n.An(n.V-1);n=n.HM(EA.nL(r,this.Gx()))}return n},n.PP=function(){return this.Pz},n.Mx=function(){return this.tO},n.BP=function(){return this.sO},n.RP=function(){return this.Gl},n.$1t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.NP(),id:"0",name:"",width:this.LP()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:f$.Mk}},n.t2t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:f$.Bk}},n.J1t=function(){var t,i;return!(void 0!==(null==(t=this.gBt.F$t())?void 0:t.version))||(null==(i=this.gBt.F$t())?void 0:i.sdkType)===k$.q0t},n.H$t=function(t){this.J1t()&&Xn(t,0),this.I$t.H$t(t)},n.LP=function(){return this.I0t},n.NP=function(){return this.C0t},n.QP=function(){this.Cz&&(this.Cz=!1,this.a2t=!1,this.So(new fT(this.Gx()))),this.I$t.QP()},n.jP=function(){this.Cz||(this.Cz=!0,this.a2t=!0,this.So(new cT(this.Gx()))),this.I$t.jP()},n.Oy=function(t){if(!this.qc.zc){var i=b.max(0,t-this.x0t);i=b.round(1e6*i)/1e6;var n=this.g2t;this.g2t=i,this.a2t=this.fP(),this.f2t=i,this.Pz=!0,this.So(new wT(this.Gx())),void 0===n&&(this.J1t()?this.m2t(i):this.E9(i))}},n.E9=function(t){this.I$t.Oy(t,this.a2t).then(this.w2t(t)).catch(this.V$t)},n.w2t=function(t){var i=this;return function(){void 0!==i.g2t&&(i.g2t===t?i.g2t=void 0:i.E9(i.g2t))}},n.u5=function(t){this.o5!==t&&(this.o5=t,this.So(new Py(this.Gx(),t))),void 0===this.g2t&&this.Pz&&t>=Dy.GL&&this.Mq(),this.d2t()},n.d2t=function(){if(this.Cz)this.y2t=!1;else{var t=this.o5>=Dy.XL;this.y2t!==t&&(this.y2t=t,t?this.So(new Ly(this.Gx())):this.So(new By(this.Gx())))}},n.b2t=function(){this.A2t||(this.A2t=v.createElement("div"),this.oa.xe.appendChild(this.A2t),this.A2t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.A2t.style.zIndex="10",an(this.A2t)),this.A2t.style.display=this.qc.zc?"":"none"},n.S2t=function(){var t,i=null==(t=this.qc.Lnt[0])?void 0:t.KYt;i&&!this.T2t?(this.T2t=new H$(this.A2t,!0),this.T2t.O1t=i,this.T2t.wn("clickstart",this.k2t)):this.T2t&&(this.T2t.O1t=i)},n.E2t=function(){var t,i=null==(t=this.qc.Lnt[0])?void 0:t.kJt;if(void 0===i||i<0)this.x2t&&(this.x2t.kn(),this.x2t=void 0);else{if(!this.x2t){var n,r=null==(n=this.oa.Na)?void 0:n.gi;this.x2t=new G$(this.oa.Wu,r),this.A2t.appendChild(this.x2t.xe),this.x2t.wn("uD",this.P2t)}var e=this.I$t.q$t();void 0!==e&&(e<i?this.x2t.z1t(i-e):this.x2t.X1t())}},n.R0t=function(){return this.x0t},n.D0t=function(t){this.x0t=t},n.qnt=function(t){},n.KP=function(){this.I$t.KP()},n.kn=function(){this.Vo(),this.qc.kn(),this.T2t&&(this.T2t.zg(),this.T2t=void 0),this.x2t&&(this.x2t.kn(),this.x2t=void 0),this.A2t&&(Zi(this.A2t),this.A2t=void 0),this.I$t.B$t(this.u4),this.I$t.D$t(this.I2t),this.I$t.L$t(this.g0t),this.I$t.mn(MZ.x$t,this.C2t),this.I$t.kn()},i}(th);function Q$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function Y$(t,i){for(var n,r=Lt(t.NI);!(n=r()).done;){var e=n.value;if(e.JI===i)return e}}function K$(t,i){for(var n=!1,r=0;r<t.V;r++){var e=t.MI(r);-1===i.indexOf(e.JI)&&(t.it(e),r--,n=!0)}return n}function J$(t,i){for(var n,r=!1,e=Lt(t);!(n=e()).done;){var s=n.value,u=Y$(i,s.trackId);u||(u=new p$(s),i.tt(u),r=!0)}return r}function Z$(t,i){for(var n,r=Lt(i.NI);!(n=r()).done;){var e=n.value;e.H0t=jn(t,e.JI)}return!1}U(),Et();var $$=function(){function t(){}var i=t.prototype;return i.XK=function(t){return ut.resolve("all")},i.GP=function(){},i.kn=function(){},t}(),t0=[eh.Nw,eh.Cw,eh.Kw,eh.Jw,eh.jw,eh.uo,eh.Qw,eh.py,eh.$w,eh.Zw,Ry.xM,Ry.PM,eh.Yw,eh.ey,eh.Dw,eh.Ew,eh.xw],i0=function(t){function i(i,n){var r;return(r=t.call(this,i,!0)||this).ho=!1,r.i3t=dn,r.RV=Dy.zL,r.kV=!1,r.xV=!1,r.O2t=!1,r.M2t=void 0,r.gBt=void 0,r.cA=void 0,r.Iz=void 0,r.Ra=void 0,r.mz=void 0,r.Ac=void 0,r.nq=void 0,r.rq=void 0,r.tO=new $b,r.sO=new $b,r.Gl=new tA,r.qc=void 0,r.ha=new tS,r.eO=new iA,r.Zst=new $$,r.Y2t=void 0,r.J2t=void 0,r.Z2t=void 0,r.n3t=function(t){var i,n;(Li(t.OP)&&!Sn(t.OP,r.cA,1e-5)||Li(t.oP)&&t.oP!==r.Iz)&&(r.cA=null!=(i=t.OP)?i:r.cA,r.Iz=null!=(n=t.oP)?n:r.Iz,r.So(new _T(r.zx,r.cA)))},r.r3t=function(){var t=r.gBt.p0t();r.vft=t?new j$(r,r.oa,r.gBt,t,r.Ra):r.e3t()},r.N2t=function(t){r.Ez(t.bt),r.R2t(t.Mc)},r.h3t=function(t){var i=r.D2t(t.sN);if(i){var n={targetQualityIds:t.o0t};i.F0t(n)}},r.C2t=function(t){r.U2t(t.lt)},r.U2t=function(t){r.i3t&&r.i3t(t)},r.s3t=function(t){r.nq=t.lt,r.rq=fg(r.nq),r.So(new yb(r.rq))},r.X2t=function(t){if(t.enabled)for(var i,n=Lt((r.rt.NI.some(function(i){return i.JI===t.trackId})?r.rt:r.ht).NI);!(i=n()).done;){var e=i.value;e.Rt&&e.JI!==t.trackId&&(e.Rt=!1)}},r.j2t=function(t){if(t.mode===zm.Kn)for(var i,n=Lt(r.nt.NI);!(i=n()).done;){var e=i.value;e.Qk===zm.Kn&&e.JI!==t.trackId&&ty(e.Lt,t.track.Lt)&&(e.Qk=zm.Nh)}},r.Y1t=gn(function(){r.Q2t()},50),r.z2t=function(){var t,i,n=[],e=null!=(t=Fn(r.ht.NI,function(t){return _0(t,r.Y2t)}))?t:Fn(r.ht.NI,function(t){return t.Rt});e&&n.push(e.JI);var s,u=null!=(i=Fn(r.nt.NI,function(t){return _0(t,r.J2t)}))?i:Fn(r.nt.NI,function(t){return t.Qk===zm.Kn});u&&n.push(u.JI);var o=null!=(s=Fn(r.rt.NI,function(t){return _0(t,r.Z2t)}))?s:Fn(r.rt.NI,function(t){return t.Rt});o&&n.push(o.JI),0!==n.length&&r.Ra.H$t(n)},r.imt=function(t){var i=r.$2t(t.targetQuality),n=t.track;r.gBt.a0t(n.JI,n.V3,i)},r.qV=function(t){r.So(t);var i=t.readyState;!r.kV&&r.RV===Dy.zL&&i>=Dy.Qn&&(r.kV=!0,r.So(new Ny(t.currentTime))),!r.xV&&r.RV<=Dy.Qn&&i>=Dy.GL&&(r.xV=!0,r.So(new xy(t.currentTime))),r.RV<=Dy.GL&&i>=Dy.XL&&r.So(new Oy(t.currentTime)),r.RV<=Dy.XL&&i===Dy.jL&&r.So(new My(t.currentTime)),r.RV=i},r.cA=r.oa.OP,r.Iz=r.oa.oP,r.gBt=n,r.gBt.wn(KZ.x$t,r.C2t),r.gBt.wn(KZ.n0t,r.s3t),r.gBt.wn(KZ.wy,r.n3t),r.gBt.wn(KZ.s0t,r.r3t),r.gBt.wn(KZ.r0t,r.h3t),r.qc=new tO(r),r.mz=r.oa.bt,r.Ac=r.oa.nu(),r.vft=new h$(r,0,r.oa.nnt(),r.oa.Nd(),r.oa.Qx,r.oa.lP,r.oa.vP,r.oa.MP,r.oa.DP),r.V2t(),r}Ct(i,t);var n=i.prototype;return n.Ez=function(t){t&&(Fw(this.mz&&Hw(this.mz),t&&Hw(t))||(this.mz=t,this.So(new CT(t))))},n.R2t=function(t){if(t){var i=cE(t,this.oa.Cd);Fw(this.Ac&&Hw(this.Ac),i&&Hw(i))||(this.Ra.D0t(0),this.Ac=i,this.So(new SB(i)),this.Ra.P0t())}},n.D2t=function(t){for(var i,n=Lt(this.rt.NI);!(i=n()).done;){var r=i.value;if(r.JI===t)return r}for(var e,s=Lt(this.ht.NI);!(e=s()).done;){var u=e.value;if(u.JI===t)return u}},n._nt=function(){return this.qc},n.gnt=function(){return this.Zst},n.Mx=function(){return this.tO},n.Ux=function(){return this.Ra.Ux()._s()},n.Un=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return t?[4,this.m0t(t,null!=(n=t.ads)?n:[],t.streamType,NaN,0,null!=i?i:0)]:[2];case 1:return r.sent(),[2]}})}).call(this)},n.L2t=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:return(n=null!=(i=this.M2t)?i:this.Ac)?(e=this.M2t?null!=(r=this.M2t.ads)?r:[]:this.ort(),s=this.oa.Nd(),u=this.oa.EP(),o=function(t,i,n){var r=null==n?void 0:n.streamType;if(!S(t))return t===1/0?"live"===r||"dvr"===r?r:i&&i.length>0&&i.end(i.length-1)-i.start(0)>60?"dvr":"live":"vod";if(r)return r;if(null==n?void 0:n.dvr)return"dvr";switch(KS(n)){case cA.bC:case cA.yC:case cA.wC:case cA.mC:return"live"}}(s,u,n),h=u.length>0?u.start(0):0,a=null!=t?t:this.nnt(),[4,this.m0t(n,e,o,s,h,a)]):[2];case 1:return c.sent(),[2]}})}).call(this)},n.ort=function(){var t=new nO;return this.qc.qnt(t),t.ort()},n.Hx=function(){return this.Ra.Hx()},n.qx=function(){return this.mz},n.Gx=function(){return this.Ra.Gx()},n.nnt=function(){return this.Ra.nnt()},n.Xx=function(t,i){this.O2t||(this.gBt.p0t()||this.O2t||!this.Ac?this.Ra.Oy(t):this.Un(this.Ac,t))},n.Nd=function(){return this.Ra.Nd()},n.Kx=function(){return this.Ra.Kx()},n.Yx=function(){return this.nq},n.Zx=function(){return this.rq},n.tP=function(){return this.eO},n.hP=function(){return this.oa.rP},n.aP=function(){return this.Iz},n.uP=function(t){this.Iz=t,this.So(new _T(this.zx,this.OP)),this.gBt.uP(t)},n.fP=function(){return this.Ra.fP()},n._P=function(){return this.Ra._P()},n.gP=function(t){this.Ra.gP(t)},n.mP=function(){return this.Ra.mP()._s()},n.yP=function(){return YT.HL},n.bP=function(t){},n.TP=function(){return this.Ra.TP()},n.EP=function(){return this.Ra.EP()._s()},n.PP=function(){return this.Ra.PP()},n.nu=function(){return this.Ac},n.Ta=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Ac=t,[4,this.Un(t)];case 1:return i.sent(),this.M2t=void 0,this.Ra.P0t(),[2]}})}).call(this)},n.RP=function(){return this.Gl},n.NP=function(){return this.Ra.NP()},n.LP=function(){return this.Ra.LP()},n.BP=function(){return this.sO},n.FP=function(){return this.cA},n.UP=function(t){this.cA=t,this.So(new _T(this.zx,this.OP)),this.gBt.UP(t)},n.zP=function(){},n.qP=function(){return this.ha},n.GP=function(){},n.QP=function(){this.gBt.p0t()||this.O2t||!this.Ac?this.Ra.QP():this.Un(this.Ac)},n.jP=function(){this.Ra.jP()},n.gr=function(){this.ho=!0},n.mr=function(){this.mz=void 0,this.ho=!1},n.be=function(){},n.we=function(){},n.m0t=function(t,i,n,r,e,s){return Vt(function(){var u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:this.O2t=!0,this.F2t(),this.Ra.D0t(e),o="vod"===n,h=function(t,i,n,r){return{theoplayer_version:1,streamStart:t,isLive:i,sourceDescription:n,configuration:r}}(e,u="live"===n||"dvr"===n,t,this.Cd),a={w0t:t,Jc:i,zx:s>=0&&s!==1/0&&(o||0!==s)?b.max(0,s-e):void 0,ct:r,P0:u?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,y0t:h},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.gBt.m0t(a)];case 2:return f.sent(),[3,5];case 3:return c=f.sent(),this.U2t(c),[3,5];case 4:return this.O2t=!1,[7];case 5:return[2]}})}).call(this)},n.V2t=function(){this.H2t(this.tO),this.H2t(this.sO),this.W2t(this.Gl)},n.H2t=function(t){for(var i,n=this,r=Lt(t.NI);!(i=r()).done;){var e=i.value;this.q2t(e)}t.wn(Iw.rI,function(t){n.q2t(t.Ht),n.z2t()})},n.W2t=function(t){for(var i,n=this,r=Lt(t.NI);!(i=r()).done;){var e=i.value;this.G2t(e)}t.wn(Iw.rI,function(t){n.G2t(t.Ht),n.z2t()})},n.q2t=function(t){t.wn(a$.B0t,this.imt),t.wn(a$.M0t,this.X2t),t.wn(a$.M0t,this.Y1t)},n.G2t=function(t){t.wn(a$.N0t,this.j2t),t.wn(a$.N0t,this.Y1t)},n.Q2t=function(){for(var t,i=[],n=Lt(this.rt.NI);!(t=n()).done;){var r=t.value;r.Rt&&i.push(r.JI)}for(var e,s=Lt(this.ht.NI);!(e=s()).done;){var u=e.value;u.Rt&&i.push(u.JI)}for(var o,h=Lt(this.nt.NI);!(o=h()).done;){var a=o.value;a.Qk===zm.Kn&&i.push(a.JI)}this.Ra.H$t(i)},n.K2t=function(t,i,n){this.Y2t=t,this.J2t=i,this.Z2t=n},n.$2t=function(t){var i,n;return!!t&&((null!=(n=null==(i=this.gBt.F$t())?void 0:i.version)?n:-1)>=2?t.map(function(t){return t.o}):[t[0].o])},n.t3t=function(t){this.i3t=t},n.$P=function(){},n.tI=function(){},n.sI=function(t){throw new y("Can't add a track while casting.")},n.KP=function(){return Vt(function(){return zt(this,function(t){return this.Ra.KP(),this.F2t(),[2]})}).call(this)},n.F2t=function(){this.RV=Dy.zL,this.kV=!1,this.xV=!1,this.nq=void 0,this.rq=void 0},n.kn=function(){return Vt(function(){return zt(this,function(t){return this.F2t(),this.Vo(),this.vft=this.e3t(),this.gBt.mn(KZ.x$t,this.C2t),this.gBt.mn(KZ.n0t,this.s3t),this.gBt.mn(KZ.wy,this.n3t),this.gBt.mn(KZ.s0t,this.r3t),this.gBt.mn(KZ.r0t,this.h3t),this.gBt.kn(),[2]})}).call(this)},n.e3t=function(){return new h$(this,this.Ra.R0t(),this.Ra.Gx(),this.Ra.Nd(),this.Ra.Kx(),this.Ra.fP(),this.Ra._P(),this.Ra.LP(),this.Ra.NP())},Nt(i,[{key:"vft",get:function(){return this.Ra},set:function(t){var i=this.Ra;i&&(i.mn(MZ.x$t,this.C2t),i.mn(MZ.P$t,this.N2t),i.mn(t0,this.Rs),i.mn(Ry.AI,this.qV),t.D0t(i.R0t()),i.qnt(t._nt())),this.Ra=t,this.tO.OI=t.Mx(),this.sO.OI=t.BP(),this.Gl.OI=t.RP(),this.qc.OI=t._nt(),i&&i.kn(),t.wn(MZ.x$t,this.C2t),t.wn(MZ.P$t,this.N2t),t.wn(t0,this.Rs),t.wn(Ry.AI,this.qV)}},{key:"ro",get:function(){return this.ho}},{key:"Jc",get:function(){return this._nt()}},{key:"B2t",get:function(){return this.M2t||this.Ac},set:function(t){this.M2t=t}},{key:"zx",get:function(){return this.Gx()},set:function(t){this.Xx(t)}},{key:"WP",get:function(){return!1},set:function(t){}}]),i}(Ub);U(),Et(),Pt();var n0=function(t){function i(i){var n;return(n=t.call(this,"error")||this).lt=void 0,n.lt=i,n}return Ct(i,t),i.prototype.xa=function(){return new r0(this.lt)},i}(Aw),r0=function(t){function i(i){var n;return(n=t.call(this,"error")||this).error=void 0,n.error=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var e0=function(t){function i(i){var n;return(n=t.call(this,"statechange")||this).state=void 0,n.state=i,n}return Ct(i,t),i}(rh);function s0(t,i){var n;return{get casting(){return t.xJ},get error(){return t.lt},get receiverName(){return t.o3t},get state(){return t.vft},start:function(){t.Tn()},stop:function(){t.KP()},join:function(){t.a3t()},leave:function(){t.u3t()},set connectionCallback(t){null==i||i.c3t(t)},get connectionCallback(){return null==i?void 0:i.d3t()},get source(){return n||t.Mc},set source(i){n=i,t.Mc=i},addEventListener:function(i,n){var r=Qw(i,Gw);t.wn(r,n)},removeEventListener:function(i,n){var r=Qw(i,Gw);t.mn(r,n)}}}U(),Et();var u0=function(t){function i(i,n,r,e){var s;return(s=t.call(this)||this).ZS=void 0,s.nq=void 0,s.hu=void 0,s.v3t=void 0,s.oa=void 0,s.Ra=VS.UNAVAILABLE,s.p3t=void 0,s.LY=void 0,s.l3t=void 0,s._3t=!1,s.uV=new hr,s.D3t=function(){s.l3t.wn(s$.E0t,s.R3t),s.vft=s.l3t.N3t()},s.R3t=function(t){var i=t.vft;s.vft=i,i!==VS.UNAVAILABLE&&i!==VS.AVAILABLE||s.b3t(!1).catch(s.u8)},s.M2t=void 0,s.u8=function(t){vr(t)||V(t,gJ)&&(s.nq=t,s.So(new n0(t).Ca))},s.LY=i,s.v3t=n,s.l3t=e,s.ZS=r.chromecast,s.p3t=_r(s.l3t.GY(s.ZS,s.uV.Yg),s.uV),s.p3t.then(s.D3t).catch(s.u8),s}Ct(i,t);var n=i.prototype;return n.g3t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(!this.p3t)throw new y("Chromecast must be initialized before starting a session");return[4,this.p3t];case 1:return t.sent(),this.l3t.f3t()?[3,3]:[4,this.l3t.m3t()];case 2:t.sent(),t.label=3;case 3:return[2]}})}).call(this)},n.Tn=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:this._3t=!0,r.label=1;case 1:return r.trys.push([1,5,,6]),this.vft=VS.CONNECTING,[4,this.g3t()];case 2:return r.sent(),[4,this.w3t()];case 3:return r.sent(),this.oa&&(t=this.v3t.nu(),i=this.l3t.y3t(t),this.oa.B2t=i?cE(i,this.v3t.Cd):this.M2t,this.oa.L2t()),this.vft=VS.CONNECTED,[4,this.v3t.KP()];case 4:return r.sent(),[3,6];case 5:return n=r.sent(),this.b3t(!1).catch(dn),this.vft=VS.AVAILABLE,vr(n)||this.u8(n),[3,6];case 6:return[2]}})}).call(this)},n.a3t=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:this._3t=!0,r.label=1;case 1:return r.trys.push([1,5,,7]),this.vft=VS.CONNECTING,[4,this.g3t()];case 2:return r.sent(),[4,this.w3t()];case 3:return r.sent(),this.oa&&(t=this.v3t.nu(),(i=this.l3t.A3t(t))&&(this.oa.B2t=cE(i,this.v3t.Cd))),this.vft=VS.CONNECTED,[4,this.v3t.KP()];case 4:return r.sent(),[3,7];case 5:return n=r.sent(),[4,this.b3t(!0).catch(dn)];case 6:return r.sent(),this.vft=VS.AVAILABLE,vr(n)||this.u8(n),[3,7];case 7:return[2]}})}).call(this)},n.S3t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.l3t.f3t()?[4,this.Tn()]:[2];case 1:return t.sent(),[2]}})}).call(this)},n.w3t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return null!=this.oa||(this.oa=this.T3t()),this.nq=void 0,this.v3t.jP(),[4,this.LY.k3t(this.oa)];case 1:return t.sent(),[2]}})}).call(this)},n.T3t=function(){var t=new i0(this.v3t,this.l3t.f3t());return t.t3t(this.u8),t},n.E3t=function(){this.oa&&(this.oa.kn(),this.oa=void 0)},n.b3t=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:if(this._3t=!1,!this.oa)return[2];i=this.oa.ro,n=this.oa.nu(),r=this.oa.nnt(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(e=t?this.l3t.x3t(n):this.l3t.P3t(n))||(e=n),[4,this.LY.I3t(e,e===n)]):[3,3];case 2:s.sent(),this.v3t.Xx(r),this.v3t.QP(),s.label=3;case 3:return[3,5];case 4:return this.E3t(),[7];case 5:return[2]}})}).call(this)},n.u3t=function(){this.xJ&&(this.l3t.C3t(!1),this.b3t(!0).catch(this.u8))},n.KP=function(){this.xJ&&(this.l3t.C3t(!0),this.b3t(!1).catch(this.u8))},n.kn=function(){this.uV.Zg(),this.l3t.mn(s$.E0t,this.R3t),this.Vo(),this.E3t()},Nt(i,[{key:"xJ",get:function(){return this.vft===VS.CONNECTING||this.vft===VS.CONNECTED}},{key:"lt",get:function(){return this.nq}},{key:"Ca",get:function(){return this.hu||(this.hu=s0(this,this.l3t)),this.hu}},{key:"o3t",get:function(){var t;return null==(t=this.l3t.f3t())?void 0:t.A0t()}},{key:"Mc",get:function(){return this.oa?this.oa.B2t:this.M2t},set:function(t){this.M2t=t?cE(t,this.v3t.Cd):void 0,this.oa&&(this.oa.B2t=this.M2t,this.M2t&&this.oa.Un(this.M2t))}},{key:"vft",get:function(){return this.Ra},set:function(t){var i=t;this._3t||i!==VS.CONNECTING&&i!==VS.CONNECTED||(i=VS.AVAILABLE),this.Ra!==i&&(this.Ra=i,this.So(new e0(this.vft)))}}]),i}(nh);U(),Et(),xt(),Pt();var o0=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).hu=void 0,i}Ct(i,t);var n=i.prototype;return n.a3t=function(){Ui.um("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},n.u3t=function(){Ui.um("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},n.Tn=function(){Ui.um("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},n.KP=function(){Ui.um("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},n.S3t=function(){return ut.resolve()},n.kn=function(){},Nt(i,[{key:"xJ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"o3t",get:function(){}},{key:"Mc",get:function(){},set:function(t){}},{key:"vft",get:function(){return VS.UNAVAILABLE}},{key:"Ca",get:function(){return this.hu||(this.hu=s0(this)),this.hu}}]),i}(nh);function h0(t){return{bt:t.bt,zx:t.Gx(),ct:t.Nd(),Qx:t.Qx,lt:t.Yx(),Jx:t.Zx(),oP:t.oP,lP:t.lP,vP:t.vP,AP:t.AP,xP:t.xP,DP:t.DP,MP:t.MP,OP:t.OP}}U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var a0=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).tO=new $b,r.sO=new $b,r.Gl=new tA,r.$L=void 0,r.eO=new sA,r.iO=new VT,r.qc=void 0,r.$L=new OT(i.Sq),r.tO.OI=i.ht,r.sO.OI=i.rt,r.Gl.OI=i.nt,r.eO.OI=i.$x,r.iO.OI=i.iP,r.qc=new tO(r),r.qc.OI=i.Jc,r}Ct(i,t);var n=i.prototype;return n._nt=function(){return this.qc},n.Mx=function(){return this.tO},n.tP=function(){return this.eO},n.eP=function(){return this.iO},n.Aa=function(){return this.$L},n.RP=function(){return this.Gl},n.BP=function(){return this.sO},n.switchContexts=function(t){this.oa=t,this.tO.OI=t.ht,this.sO.OI=t.rt,this.Gl.OI=t.nt,this.$L.OI=t.Sq,this.eO.OI=t.$x,this.iO.OI=t.iP,this.qc.OI=t.Jc},n.B3t=function(t){this.oa!==t&&(this.yz(),this.switchContexts(t),this.wz())},n.nO=function(t){if(this.oa!==t){var i;this.yz(),this.bnt&&(i=h0(this));var n=this.qx(),r=this.qP(),e=this.zP();if(this.switchContexts(t),void 0!==i)IT(this,i,h0(this));var s=this.qx();s!==n&&this.So(new CT(s)),this.qP()!==r&&this.So(new PT),this.zP()!==e&&this.So(new DT),this.wz()}},n.kn=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(n,i)];case 1:return r.sent(),this.$L.kn(i),this.tO.kn(i),this.sO.kn(i),this.Gl.kn(i),this.eO.kn(),this.iO.kn(),[4,this.qc.kn(i)];case 2:return r.sent(),[2]}})}).call(this)},Nt(i,[{key:"$x",get:function(){return this.tP()}},{key:"iP",get:function(){return this.eP()}}]),i}(Ub);U(),Et();function c0(t){var i=v.createElement("div");return sn(i,"theo-ads-sgai-ima-container"),function(t){t.style.boxSizing="border-box",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(i),t.appendChild(i),i}function f0(t){var i=t.style;i.boxSizing="border-box",i.position="absolute",i.display="none",i.border="0 solid transparent",i.borderWidth="0px",i.width="100%",i.height="100%"}function v0(t){var i=t.style;i.display="",i.backgroundColor="",i.backgroundRepeat="",i.backgroundAttachment="",i.border="",i.borderWidth="",i.flex="",i.transform="",i.transition="",i.backgroundImage="",i.backgroundSize="",i.backgroundPosition="",i.alignItems="",i.position=""}function d0(t,i,n,r,e){var s=i/n,u=1,o=0,h=0;if(s>=r/e){var a=r/s;o=(e-a)/2,u=a/n}else{var c=e*s;h=(r-c)/2,u=c/i}t.style.left=h/r*100+"%",t.style.top=o/e*100+"%",t.style.width=i*u/r*100+"%",t.style.height=n*u/e*100+"%"}function l0(t){return Fo(t,"theo-ads://dai.break")}function w0(t){return t&&t.integration===pS.THEOADS}var g0=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).M3t=void 0,r.U3t=void 0,r.q3t=void 0,r.ta=new bd,r.L3t=void 0,r.H3t=void 0,r.fEt=void 0,r.W3t=void 0,r.z3t=function(t){var i=t.Ht;_0(r.H3t,i)&&(i.Rt=!0)},r.G3t=function(t){var i=t.Ht;_0(r.fEt,i)&&(i.Qk=zm.Kn)},r.X3t=function(t){var i=t.Ht;_0(r.W3t,i)&&(i.Rt=!0)},r.V3t=function(){r.U3t.ht.mn(Iw.rI,r.z3t),r.U3t.nt.mn(Iw.rI,r.G3t),r.U3t.rt.mn(Iw.rI,r.X3t)},r.U3t=i,r.Cd.cast.strategy!==oA.DISABLED?r.M3t=new u0(r,i,r.Cd.cast,n):r.M3t=new o0,r.GX.BJ(r.M3t),r}Ct(i,t);var n=i.prototype;return n.nu=function(){var i=t.prototype.nu.call(this);return!i&&this.M3t.xJ&&this.M3t.Mc?this.M3t.Mc:i},n.Ta=function(i,n){var r=this;return this.ta.Zo(function(n){return r.L3t=new hr,r.L3t.$g(n),_r(t.prototype.Ta.call(r,i,r.L3t.Yg),r.L3t)},n)},n.QP=function(){t.prototype.QP.call(this),this.Cd.cast.strategy!==oA.AUTO||this.M3t.xJ||this.M3t.S3t()},n.k3t=function(t){var i=this;return this.ta.Zo(function(n){return i.O3t(t,n)})},n.I3t=function(t,i){var n=this;return void 0===t&&(t=void 0),void 0===i&&(i=!1),this.ta.Zo(function(r){return n.F3t(t,i,r)})},n.O3t=function(t,i){dr(i),this.U3t.Jc&&this.U3t.Jc.qnt(t.Jc),this.V3t(),this.H3t=Fn(this.U3t.ht.NI,function(t){return t.Rt}),this.fEt=Fn(this.U3t.nt.NI,function(t){return"showing"===t.Qk}),this.W3t=Fn(this.U3t.rt.NI,function(t){return t.Rt}),this.q3t=t,this.q3t.K2t(this.H3t,this.fEt,this.W3t),this.nO(t),this.q3t.gr()},n.F3t=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:if(dr(n),void 0===(r=this.q3t))return[2];u.label=1;case 1:return u.trys.push([1,5,6,7]),t?[4,this.U3t.KP()]:[3,4];case 2:return u.sent(),dr(n),(e=cE(t,this.U3t.Cd)).sources.forEach(function(t){t&&(t.bypassLicense=!0)}),i&&(e.ads=null==(s=e.ads)?void 0:s.filter(w0)),this.L3t=new hr,this.L3t.$g(n),[4,_r(this.U3t.Ta(e,this.L3t.Yg),this.L3t)];case 3:u.sent(),u.label=4;case 4:return i&&this.U3t.Jc&&r.Jc.qnt(this.U3t.Jc),[3,7];case 5:return wr(u.sent()),[3,7];case 6:return r.mr(),this.nO(this.U3t),this.H3t=Fn(this.q3t.ht.NI,function(t){return t.Rt}),this.fEt=Fn(this.q3t.nt.NI,function(t){return"showing"===t.Qk}),this.W3t=Fn(this.q3t.rt.NI,function(t){return t.Rt}),this.U3t.ht.wn(Iw.rI,this.z3t),this.U3t.nt.wn(Iw.rI,this.G3t),this.U3t.rt.wn(Iw.rI,this.X3t),this.U3t.wn(Ry.EM,this.V3t),this.q3t===r&&(this.q3t=void 0),[7];case 7:return[2]}})}).call(this)},n.KP=function(){var i,n=this;return this.H3t=void 0,this.fEt=void 0,this.W3t=void 0,this.V3t(),null==(i=this.L3t)||i.Zg(),this.ta.Zo(function(){return t.prototype.KP.call(n)})},n.kn=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return null==(n=this.L3t)||n.Zg(),this.M3t.kn(),[4,this.I3t()];case 1:return r.sent(),[4,this.ta.kn()];case 2:return r.sent(),[4,t.prototype.kn.call(i)];case 3:return r.sent(),[2]}})}).call(this)},i}(a0);function _0(t,i){return void 0!==t&&void 0!==i&&(t.bs===i.bs&&i.Th===t.Th)}U(),Et(),Wt(),xt(),Qt();var m0=function(){function t(t){this.p3t=void 0,this.hu=void 0,this.l3t=void 0,this.l3t=t}var i=t.prototype;return i.GY=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.p3t||(this.p3t=this.J3t(t)),[4,this.p3t];case 1:return i.sent(),[2]}})}).call(this)},i.J3t=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.l3t.GY(t)];case 1:return i.sent(),[2]}})}).call(this)},i.m3t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:if(!this.p3t)throw new y("Chromecast must be initialized before starting a session");return[4,this.p3t];case 1:return t.sent(),this.l3t.f3t()?[3,3]:[4,this.l3t.m3t()];case 2:t.sent(),t.label=3;case 3:return[2]}})}).call(this)},i.Z3t=function(){this.l3t.C3t(!1)},i.Y3t=function(){this.l3t.C3t(!0)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{initialize:function(i){var n=t.GY(hA(i));return n.catch(dn),n},startSession:function(){var i=t.m3t();return i.catch(dn),i},endSession:function(){t.Y3t()}}}(this)),this.hu}}]),t}();var y0=new o$,p0=new m0(y0),k0={get chromecast(){return p0.Ca}};qb(function(t){return new g0(t,y0)},zb.Ent),U(),Et(),U(),Et(),U(),Et(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),Qt();var b0=function(){function t(t){this.a4t=void 0,this.n4t=void 0,this.h4t=void 0,this.a4t=t,this.n4t=Ju(),this.h4t=Ju()}var i=t.prototype;return i.$3t=function(t,i,n,r){var e=this;t.Gz.forEach(function(t){if(!e.t4t(t.i4t)){var s=t.e4t(i,n,r);s&&e.s4t(s)}})},i.t4t=function(t){return this.n4t.get(t)},i.s4t=function(t){this.n4t.set(t.r4t,t),this.h4t.set(t.r4t,t.o4t),this.a4t.au(t.u4t)},i.znt=function(t){this.h4t.has(t.r4t)||(this.h4t.set(t.r4t,t),this.a4t.au(t.u4t))},i.c4t=function(t){return this.h4t.forEach(t)},i.d4t=function(t){return this.n4t.forEach(t)},i.l4t=function(t){var i=!1;return this.n4t.forEach(function(n){i=n.l4t(t)||i}),i},i.kn=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=[],this.n4t.forEach(function(i){return t.push(i.kn())}),this.h4t.forEach(function(i){return t.push(i.kn())}),[4,ut.all(t)];case 1:return i.sent(),this.n4t.clear(),this.h4t.clear(),[2]}})}).call(this)},t}();U(),Et(),Pt();var A0=function(t){function i(i,n,r,e){var s;return(s=t.call(this,"_4t")||this).AZt=void 0,s.Iy=void 0,s.Jy=void 0,s.Mc=void 0,s.AZt=i,s.Iy=n,s.Jy=r,s.Mc=e,s}return Ct(i,t),i.prototype.xa=function(){return new T0(this.AZt,this.Iy,this.Jy,this.Mc)},i.f4t=function(t){return new i(kZ.GENERAL,t.Iy,t.TZt)},i.v4t=function(t,n){return new i(t.AZt,t.message,t.TZt,n)},i}(Aw),T0=function(t){function i(i,n,r,e){var s;return(s=t.call(this,"aderror")||this).problemType=void 0,s.message=void 0,s.errorCode=void 0,s.source=void 0,s.problemType=i,s.message=n,s.errorCode=r,s.source=e,s}return Ct(i,t),i}(rh),S0=function(t){function i(i){var n;return(n=t.call(this)||this).A4t=void 0,n.p4t=void 0,n.y4t=!1,n.d9=!1,n.hu=void 0,n.T4t=function(t){if(n.y4t&&t.Jy!==bZ.VAST_NO_ADS_AFTER_WRAPPER&&t.Jy!==bZ.VAST_EMPTY_RESPONSE){var i=new hg(og.ADVERTISEMENT_ERROR,t.Iy),r=new ld(vd.AD_BLOCKER_DETECTED,t.Iy+" Turn off your AdBlocker and try again.",i);n.A4t.Qq(r)}},n.hst=function(){n.d9=!0},n.A4t=i,n.p4t=new b0(n),n.wn("_4t",n.T4t),i.wn(eh.uo,n.hst),n}Ct(i,t);var n=i.prototype;return n.qnt=function(t){this.m4t(function(i){i.qnt(t)})},n.W6=function(t,i,n){try{this.y4t=n;var r=kS.Bg.jz(t);if(r.i4t===x$.knt)return;var e=this.p4t.t4t(r.i4t);if(!e)throw new pZ(kZ.ADBLOCK,void 0,"Ads could not be loaded.");i!==DB.Mnt&&this.d9||this.A4t.b4t(e),r.W6(t,i,e,this.y4t)}catch(i){0,this.So(A0.v4t(i,t.sources))}},n.uD=function(){this.m4t(function(t){t.uD()})},n.Hnt=function(t){this.m4t(function(i){i.Hnt(t)})},n.znt=function(t){this.p4t.znt(t)},n.Wnt=function(t,i){return this.A4t.Wnt(t,i)},n.S4t=function(t){this.p4t.d4t(function(i){i.S4t(t)})},n.l4t=function(t){return this.p4t.l4t(t)},n.m4t=function(t){return this.p4t.c4t(t)},n.GP=function(){this.p4t.d4t(function(t){return t.GP()})},n.hr=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.d9=!1,t=[],this.p4t.d4t(function(i){return t.push(i.KP())}),[4,ut.all(t)];case 1:return i.sent(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),[4,this.p4t.kn()];case 1:return t.sent(),this.A4t.mn(eh.uo,this.hst),this.mn("_4t",this.T4t),[2]}})}).call(this)},Nt(i,[{key:"g4t",get:function(){return this.p4t}},{key:"zc",get:function(){var t=!1;return this.m4t(function(i){t=t||i.w4t}),t}},{key:"Lnt",get:function(){var t=[];return this.m4t(function(i){var n,r=i.Lnt;r.length&&(n=t).push.apply(n,[].concat(r))}),t}},{key:"Fnt",get:function(){var t=null;return this.m4t(function(i){null!=t||(t=i.Fnt)}),t}},{key:"Unt",get:function(){var t=[];return this.m4t(function(i){var n;(n=t).push.apply(n,[].concat(i.Unt))}),t}},{key:"Vnt",get:function(){var t=[];return this.m4t(function(i){var n;(n=t).push.apply(n,[].concat(i.Vnt))}),t}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=NB(this)}}]),i}(xI);U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var E0=function(t){function i(i){var n;return(n=t.call(this)||this).f$t=void 0,n.qc=void 0,n.k4t=void 0,n.E4t=void 0,n.x4t=void 0,n.I4t=void 0,n.f$t=i,n.qc=[],n.k4t=-1,n.E4t=-1,n.x4t=void 0,n.I4t=!1,n}Ct(i,t);var n=i.prototype;return n.P4t=function(){this.I4t=!0},n.C4t=function(t){this.qc.push(t),this.I4t=!1},n.R4t=function(t){Xn(this.qc,t)},Nt(i,[{key:"Jc",get:function(){return this.qc}},{key:"G0t",get:function(){return this.k4t},set:function(t){this.k4t=t}},{key:"X0t",get:function(){return this.E4t},set:function(t){this.E4t=t}},{key:"qOt",get:function(){return this.f$t},set:function(t){this.f$t=t}},{key:"y0t",get:function(){return this.x4t}},{key:"pP",get:function(){return this.I4t}}]),i}(S$),I0=function(t){function i(i,n){var r;return(r=t.call(this,n.timeOffset)||this).D4t=void 0,r.N4t=[],r.D4t=i,r.er(n),r}Ct(i,t);var n=i.prototype;return n.er=function(t){void 0!==t.maxDuration&&(this.k4t=t.maxDuration),void 0!==t.customData&&(this.x4t=t.customData)},n.B4t=function(t){var i=this.qc.indexOf(t);return i>=0&&i<this.qc.length-1},n.C4t=function(i){t.prototype.C4t.call(this,i),this.N4t.push(i)},n.M4t=function(t){Xn(this.N4t,t)},n.R4t=function(i){t.prototype.R4t.call(this,i),Xn(this.N4t,i)},Nt(i,[{key:"u$t",get:function(){return this.D4t}},{key:"Unt",get:function(){return this.N4t}}]),i}(E0);U(),Et(),xt(),Pt(),U(),Et(),xt(),Pt();var R0=function(t){return t.BZt="linear",t.L4t="nonlinear",t.yk="unknown",t}({}),C0=function(t){return t.NONE="none",t.READY="ready",t}({}),P0=function(t){function i(i,n){var r;return(r=t.call(this)||this).H4t=void 0,r.od=void 0,r.hu=void 0,r.aS=void 0,r.EJt=void 0,r.lA=void 0,r.fA=void 0,r.Zb=void 0,r.z4t=void 0,r.YYt=void 0,r.yYt=void 0,r.yJt=void 0,r.IYt=void 0,r.F4t=void 0,r.x4t=void 0,r.q4t=void 0,r.H4t=n,r.aS=void 0,r.EJt=void 0,r.lA=void 0,r.fA=void 0,r.Zb=void 0,r.yJt=[],r.IYt=[],r.F4t="none",r.x4t=void 0,r.q4t=!1,r.od=i,r}Ct(i,t);var n=i.prototype;return n.O4t=function(t,i,n,r,e,s){this.aS=t,this.lA=i,this.fA=n,this.Zb=r,this.IYt=e,this.EJt=s,this.F4t="ready"},n.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=this.xa()},n.a1t=function(){},n.l1t=function(){return""},n.d1t=function(){return this.z4t},Nt(i,[{key:"U4t",get:function(){return this.F4t}},{key:"PYt",get:function(){return this.IYt}},{key:"ct",get:function(){return this.Zb}},{key:"Mi",get:function(){return this.fA}},{key:"o",get:function(){return this.aS}},{key:"kJt",get:function(){return this.EJt}},{key:"Ti",get:function(){return this.lA}},{key:"V4t",get:function(){return this.H4t}},{key:"KYt",get:function(){return this.YYt}},{key:"wYt",get:function(){return this.yYt}},{key:"rYt",get:function(){return this.yJt}},{key:"y0t",get:function(){return this.x4t}},{key:"W4t",get:function(){return this.q4t}}]),i}(T$);function D0(t){return{get adSystem(){return t.a1t()},get readyState(){return t.U4t},get adBreak(){return t.od.Ont()},get duration(){return t.ct},get companions(){return t.PYt.map(function(t){return t.Ca})},get resourceURI(){return t.d1t()},get clickThrough(){return t.KYt},get width(){return t.Ti},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.V4t)},get height(){return t.Mi},get id(){return t.o},get skipOffset(){return t.kJt},get integration(){return t.u$t},get creativeId(){return t.wYt},get universalAdIds(){return t.rYt},get customData(){return t.y0t},get isSlate(){return t.W4t}}}U(),Et(),xt();var N0=function(){function t(t){var i;this.hu=void 0,this.lA=void 0,this.fA=void 0,this.X4t=void 0,this.HYt=void 0,this.YYt=void 0,this.z4t=void 0,this.QYt=void 0,this.HYt=t.VYt,this.lA=t.Ti,this.fA=t.Mi,this.X4t=t.G4t,this.YYt=t.KYt,this.z4t=t.cZt,this.QYt=null!=(i=t.jYt)?i:"",this.j4t(t)}return t.prototype.j4t=function(t){if(!t.KYt||!t.cZt){var i=function(t){try{return tZ(t,"text/html")}catch(t){return}}(t.G4t);i&&(this.YYt=x0(i,"a","href"),this.z4t=x0(i,"img","src"))}},Nt(t,[{key:"VYt",get:function(){return this.HYt}},{key:"jYt",get:function(){return this.QYt}},{key:"G4t",get:function(){return this.X4t}},{key:"KYt",get:function(){return this.YYt}},{key:"Mi",get:function(){return this.fA}},{key:"cZt",get:function(){return this.z4t}},{key:"Ti",get:function(){return this.lA}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get adSlotId(){return t.VYt},get altText(){return t.jYt},get contentHTML(){return t.G4t},get clickThrough(){return t.KYt},get height(){return t.Mi},get resourceURI(){return t.cZt},get width(){return t.Ti}}}(this)}}]),t}();function x0(t,i,n){var r=t.querySelector(i);return r&&r.getAttribute(n)||""}var B0=function(t){function i(i,n,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?R0.BZt:"nonlinear"===t?R0.L4t:R0.yk}(n.type))||this).D4t=void 0,e.K4t=0,e.D4t=i,e.er(n),e}Ct(i,t);var n=i.prototype;return n.xa=function(){return D0(this)},n.er=function(t){t.id&&(this.aS=t.id),void 0!==t.skipOffset&&(this.EJt=t.skipOffset),void 0!==t.width&&(this.lA=t.width),void 0!==t.height&&(this.fA=t.height),void 0!==t.duration&&(this.Zb=t.duration),void 0!==t.readyState&&(this.F4t=function(t){return"ready"===t?C0.READY:C0.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.z4t=t.resourceURI),void 0!==t.clickThrough&&(this.YYt=t.clickThrough),void 0!==t.companions&&(this.IYt=[].concat(t.companions).map(O0)),void 0!==t.creativeId&&(this.yYt=t.creativeId),void 0!==t.universalAdIds&&(this.yJt=t.universalAdIds),void 0!==t.customData&&(this.x4t=t.customData)},Nt(i,[{key:"u$t",get:function(){return this.D4t}},{key:"Q4t",get:function(){return this.K4t},set:function(t){this.K4t=t}}]),i}(P0);function O0(t){var i={VYt:t.adSlotId,jYt:t.altText,G4t:t.contentHTML,GT:void 0,KYt:t.clickThrough,Mi:t.height,cZt:t.resourceURI,Ti:t.width};return new N0(i)}U(),Et(),xt(),Pt();var M0=function(t){function i(i,n){var r;return(r=t.call(this,"Z4t",i)||this).J4t=void 0,r.J4t=n,r}return Ct(i,t),i.prototype.xa=function(){return new L0(this.jnt.Ont(),this.Y4t)},Nt(i,[{key:"Y4t",get:function(){return this.J4t}}]),i}(VB),L0=function(t){function i(i,n){var r;return(r=t.call(this,"adskip",i)||this).playedPercentage=void 0,r.playedPercentage=n,r}return Ct(i,t),i}(HB);U(),Et(),Pt();var F0=function(t){function i(i){return t.call(this,"$4t",i)||this}return Ct(i,t),i.prototype.xa=function(){return new U0(this.od.Ont())},i}(BB),U0=function(t){function i(i){return t.call(this,"updateadbreak",i)||this}return Ct(i,t),i}(OB);U(),Et(),Pt();var V0=function(t){function i(i){return t.call(this,"t5t",i)||this}return Ct(i,t),i.prototype.xa=function(){return new H0(this.od.Ont())},i}(BB),H0=function(t){function i(i){return t.call(this,"adbreakchange",i)||this}return Ct(i,t),i}(OB);U(),Et(),Pt();var W0=function(t){function i(i,n){var r;return(r=t.call(this,"i5t",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i.prototype.xa=function(){return new z0(this.jnt.Ont(),this.currentTime)},i}(VB),z0=function(t){function i(i,n){var r;return(r=t.call(this,"adfirstquartile",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i}(HB);U(),Et(),Pt();var X0=function(t){function i(i,n){var r;return(r=t.call(this,"e5t",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i.prototype.xa=function(){return new q0(this.jnt.Ont(),this.currentTime)},i}(VB),q0=function(t){function i(i,n){var r;return(r=t.call(this,"admidpoint",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i}(HB);U(),Et(),Pt();var G0=function(t){function i(i,n){var r;return(r=t.call(this,"s5t",i)||this).currentTime=void 0,r.currentTime=n,r}return Ct(i,t),i.prototype.xa=function(){return new j0(this.jnt.Ont(),this.currentTime)},i}(VB),j0=function(t){function i(i,n){var r;return(r=t.call(this,"adthirdquartile",i)||this).ad=void 0,r.currentTime=void 0,r.ad=i,r.currentTime=n,r}return Ct(i,t),i}(HB),Q0=function(){function t(t,i){this.u$t=void 0,this.A4t=void 0,this.f8=void 0,this.u4t=new xI,this.qc=[],this.y1t=[],this.g5t=[],this.w1t=void 0,this.hu=void 0,this.u$t=t,this.A4t=i}var i=t.prototype;return i.uD=function(){var t;if(0!==this.g5t.length){var i=this.g5t[0];(null==(t=this.f8)?void 0:t.skipAd)?this.f8.skipAd(i.Ont()):this.G$t(i)}},i.Hnt=function(t){},i.qnt=function(t){},i.n5t=function(t,i){var n,r=null!=i?i:this.p5t({timeOffset:null!=(n=t.timeOffset)?n:0}),e=new B0(this.u$t,t,r);return r.C4t(e),this.qc.push(e),this.u4t.So(new WB(e)),e},i.h5t=function(t,i){t.er(i),this.u4t.So(new B$(t))},i.a5t=function(t,i){if(!jn(this.g5t,t))throw new y("Cannot update ad progress on a non-started ad");var n=t.Q4t,r=b.max(n,i);t.Q4t=r;var e=this.A4t.Gx();n<.25&&r>=.25&&this.u4t.So(new W0(t,e)),n<.5&&r>=.5&&this.u4t.So(new X0(t,e)),n<.75&&r>=.75&&this.u4t.So(new G0(t,e))},i.M4t=function(t){jn(this.g5t,t)||(this.g5t.push(t),t.od.M4t(t),this.m5t(t.od),this.u4t.So(new QB(t,this.A4t.Gx())))},i.G$t=function(t){if(jn(this.g5t,t)){var i=t.od.B4t(t);this.u4t.So(new M0(t,t.Q4t)),this.w5t(t,i)}},i.u5t=function(t){if(jn(this.g5t,t)){var i=t.od.B4t(t);this.u4t.So(new KB(t,this.A4t.Gx())),this.w5t(t,i)}},i.R4t=function(t){if(jn(this.qc,t)){var i=t.od.B4t(t);Xn(this.qc,t),t.od.R4t(t),this.u4t.So(new V0(t.od)),this.w5t(t,i)}},i.c5t=function(t){var i=new I0(this.u$t,t);return this.y1t.push(i),this.u4t.So(new FB(i)),i},i.d5t=function(t,i){t.er(i),this.u4t.So(new F0(t))},i.l5t=function(t){if(jn(this.y1t,t)){for(var i,n=Lt(t.Jc.slice());!(i=n()).done;){var r=i.value;this.R4t(r)}Xn(this.y1t,t),this.u4t.So(new MB(t))}},i.f5t=function(){for(var t,i=Lt(this.y1t.slice());!(t=i()).done;){var n=t.value;this.l5t(n)}},i.v5t=function(t){this.u4t.So(new A0(kZ.GENERAL,t.message))},i._5t=function(t,i){var n=new ld(null!=i?i:vd.AD_ERROR,t.message,t);this.A4t.Qq(n)},i.y5t=function(t){return Fn(this.y1t,function(i){return i.qOt===t})},i.p5t=function(t){var i;return null!=(i=this.y5t(t.timeOffset))?i:this.c5t(t)},i.w5t=function(t,i){Xn(this.g5t,t);var n=t.od;0!==this.g5t.length||this.w1t!==n||i||(n.P4t(),this.m5t(void 0))},i.m5t=function(t){this.w1t!==t&&(void 0!==this.w1t&&this.u4t.So(new XB(this.w1t)),this.w1t=t,void 0!==t&&this.u4t.So(new GB(t)))},i.o5t=function(t){var i=Fn(this.qc,function(i){return i.Ont()===t});if(void 0===i)throw new y('Invalid ad for integration "'+this.u$t+'"');return i},i.r5t=function(t){var i=Fn(this.y1t,function(i){return i.Ont()===t});if(void 0===i)throw new y('Invalid ad break for integration "'+this.u$t+'"');return i},i.Ta=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),(null==(n=this.f8)?void 0:n.setSource)?[4,ut.resolve(this.f8.setSource(t))]:[3,2];case 1:return YS(r=e.sent())&&(r=t),[2,cE(r,this.A4t.Cd)];case 2:return[2,t];case 3:return[2]}})}).call(this)},i.b5t=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return(null==(t=this.f8)?void 0:t.resetSource)?[4,ut.resolve(this.f8.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:this.f5t(),i.label=3;case 3:return[2]}})}).call(this)},i.kn=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return(null==(t=this.f8)?void 0:t.destroy)?[4,ut.resolve(this.f8.destroy()).catch(dn)]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.f5t(),this.m5t(void 0),this.f8=void 0,this.u4t.kn(),[2]}})}).call(this)},Nt(t,[{key:"Jc",get:function(){return this.qc}},{key:"K0t",get:function(){return this.y1t}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get integration(){return t.u$t},get ads(){return t.Jc.map(function(t){return t.Ont()})},get adBreaks(){return t.K0t.map(function(t){return t.Ont()})},createAd:function(i,n){return t.n5t(i,n?t.r5t(n):void 0).Ont()},updateAd:function(i,n){t.h5t(t.o5t(i),n)},updateAdProgress:function(i,n){var r=Tn(Number(n),0,1);t.a5t(t.o5t(i),r)},beginAd:function(i){t.M4t(t.o5t(i))},endAd:function(i){t.u5t(t.o5t(i))},skipAd:function(i){t.G$t(t.o5t(i))},removeAd:function(i){t.R4t(t.o5t(i))},createAdBreak:function(i){return t.c5t(i).Ont()},updateAdBreak:function(i,n){t.d5t(t.r5t(i),n)},removeAdBreak:function(i){t.l5t(t.r5t(i))},removeAllAds:function(){t.f5t()},error:function(i){t.v5t(i)},fatalError:function(i,n){var r=n?Number(n):void 0;t._5t(i,r)}}}(this)}},{key:"uN",get:function(){return this.f8},set:function(t){this.f8=t}},{key:"w4t",get:function(){return this.g5t.some(function(t){return t.V4t===R0.BZt})}},{key:"r4t",get:function(){return this.u$t}},{key:"Lnt",get:function(){return this.g5t}},{key:"Fnt",get:function(){var t;return null!=(t=this.w1t)?t:null}},{key:"Unt",get:function(){return Jn(this.y1t,function(t){return t.Unt})}},{key:"Vnt",get:function(){return this.y1t.filter(function(t){return!t.pP})}}]),t}();U(),Et(),xt();var Y0=function(){function t(t){var i=this;this.oa=void 0,this.r9=void 0,this.A5t=!1,this.Ed=function(t){1!==i.oa.vP&&(i.r9=i.oa.vP,i.oa.vP=1),i.A5t=!0},this.Bd=function(t){i.A5t=!1,void 0!==i.r9&&(i.oa.vP=i.r9,i.r9=void 0)},this.oa=t,this.addAdListeners()}var i=t.prototype;return i.destroy=function(){this.removeAdListeners()},i.addAdListeners=function(){var t,i;null==(t=this.oa.Jc)||t.wn("Ynt",this.Ed),null==(i=this.oa.Jc)||i.wn("Knt",this.Bd)},i.removeAdListeners=function(){var t,i;null==(t=this.oa.Jc)||t.mn("Ynt",this.Ed),null==(i=this.oa.Jc)||i.mn("Knt",this.Bd)},Nt(t,[{key:"player",get:function(){return this.oa},set:function(t){this.oa&&this.removeAdListeners(),this.oa=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.A5t}}]),t}(),K0=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).S5t=void 0,r.U3t=void 0,r.P5t=[],r.k5t=void 0,r.E5t=void 0,r.nq=void 0,r.Wz=void 0,r.C5t=void 0,r.I5t=1,r.U3t=i,r.S5t=new S0(r),r.S5t.g4t.$3t(n,i,r,i.Cd),r}Ct(i,t);var n=i.prototype;return n._nt=function(){return this.S5t},n.GP=function(){this.U3t.GP(),this.S5t.GP()},n.QP=function(){void 0===this.nq?(void 0!==this.E5t&&this.x5t(this.E5t),t.prototype.QP.call(this)):this.So(new yb(this.nq))},n.Ta=function(i,n){var r=this;return Vt(function(){var e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:if(dr(n),!(e=i))return[3,4];s=Lt(this.P5t),f.label=1;case 1:return(u=s()).done?[3,4]:[4,u.value.Ta(e,n)];case 2:e=f.sent(),f.label=3;case 3:return[3,1];case 4:return[4,t.prototype.Ta.call(r,e,n)];case 5:if(f.sent(),dr(n),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),this.S5t.S4t(e.playAdsAfterTime),h=Lt(e.ads);!(a=h()).done;)c=a.value,this.S5t.W6(c,DB.Mnt,o);return[2]}})}).call(this)},n.KP=function(){var i=this;return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return this.nq=void 0,this.Wz=void 0,[4,this.S5t.hr()];case 1:return e.sent(),this.I3t(),[4,t.prototype.KP.call(i)];case 2:e.sent(),n=Lt(this.P5t),e.label=3;case 3:return(r=n()).done?[3,6]:[4,r.value.b5t()];case 4:e.sent(),e.label=5;case 5:return[3,3];case 6:return[2]}})}).call(this)},n.x5t=function(t){this.I5t=this.oa.vP;var i=this.oa.OP,n=this.oa.oP;t.UP(i),t.uP(n),this.k5t=t,this.E5t=void 0,this.nO(t)},n.b4t=function(t){void 0===this.k5t&&(this.E5t=t)},n.I3t=function(){this.E5t=void 0,void 0!==this.k5t&&(this.U3t.vP=this.I5t,this.U3t.OP=this.OP,this.U3t.oP=this.oP,this.nO(this.U3t),this.k5t=void 0)},n.Yx=function(){var i;return null!=(i=this.Wz)?i:t.prototype.Yx.call(this)},n.Zx=function(){var i;return null!=(i=this.nq)?i:t.prototype.Zx.call(this)},n.Qq=function(t){void 0===this.Zx()&&(this.nq=t,this.Wz=cg(t),this.So(new yb(t)))},n.eI=function(t){return void 0===this.k5t&&this.S5t.l4t(t)},n.Wnt=function(t,i){try{var n=new Q0(t,this);n.uN=i(n.Ca),this.S5t.znt(n),this.P5t.push(n),t!==pS.UPLYNK&&(this.C5t=new Y0(this))}catch(i){this.S5t.So(new A0(kZ.GENERAL,'Error while constructing ad integration "'+t+'": '+i+'"'))}},n.gP=function(i){var n;(null==(n=this.C5t)?void 0:n.inAdBreak)||t.prototype.gP.call(this,i)},n.kn=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:r=Lt(this.P5t),s.label=1;case 1:return(e=r()).done?[3,4]:[4,e.value.kn().catch(dn)];case 2:s.sent(),s.label=3;case 3:return[3,1];case 4:return[4,this.S5t.kn()];case 5:return s.sent(),this.I3t(),null==(n=this.C5t)||n.destroy(),this.C5t=void 0,[4,t.prototype.kn.call(i)];case 6:return s.sent(),[2]}})}).call(this)},Nt(i,[{key:"T5t",get:function(){return this.k5t}}]),i}(a0);qb(function(t){return new K0(t,kS.Bg)},zb.Ant),U(),Et(),xt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt();var J0=Bi.ru&&Bi.Q_<12,Z0=function(t){function i(i,n){var r;return(r=t.call(this,i,!0)||this).A4t=void 0,r.M5t=void 0,r.sO=void 0,r.tO=void 0,r.Gl=void 0,r.eO=void 0,r.iO=void 0,r.R5t=void 0,r.ha=void 0,r.cq=void 0,r.L5t=void 0,r.O5t=void 0,r.A4t=n,r.M5t=!1,r.sO=new rg,r.tO=new rg,r.Gl=new Km,r.eO=new iA,r.iO=new MT,r.R5t=new xI,r.ha=new tS,r.cq=new Db,r.L5t=function(){r.oa.be()},r.O5t=function(){r.F5t()},r.oa.wn(eh.Pw,r.Rs),r}Ct(i,t);var n=i.prototype;return n.nnt=function(){return this.oa.nnt()},n.Ux=function(){return EA.rL()._s()},n.Hx=function(){},n.Wx=function(t){},n._P=function(){return 1},n.gP=function(t){},n.mP=function(){return new EA([0,this.zx])._s()},n.PP=function(){return!1},n.RP=function(){return this.Gl},n.BP=function(){return this.sO},n.ds=function(){return this.qP().ds},n.qP=function(){return this.ha},n.Ea=function(){},n.kn=function(){return Vt(function(){return zt(this,function(t){return this.Vo(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),this.R5t.kn(),this.oa.mn(eh.Pw,this.Rs),[2]})}).call(this)},n.D5t=function(){J0&&this.N5t(),this.w4t||this.A4t.x5t(this)},n.I3t=function(){this.w4t&&(J0&&this.B5t(),Bi.Tg&&this.xe.querySelectorAll("video[src]").forEach(function(t){t.src=""}),Ui.Zs.Ep&&this.oa.tI(),this.A4t.I3t())},n.N5t=function(){this.M5t||(f.addEventListener("blur",this.L5t),f.addEventListener("focus",this.O5t),this.M5t=!0)},n.B5t=function(){f.removeEventListener("blur",this.L5t),f.removeEventListener("focus",this.O5t),this.M5t=!1},n.F5t=function(){var t=this;requestAnimationFrame(function(){return t.oa.we()})},Nt(i,[{key:"zx",get:function(){return this.Gx()},set:function(t){this.Xx(t)}},{key:"ct",get:function(){return this.Nd()}},{key:"$x",get:function(){return this.eO}},{key:"iP",get:function(){return this.iO}},{key:"kP",get:function(){return this.EP()}},{key:"VP",get:function(){return this.cq}},{key:"u4t",get:function(){return this.R5t}},{key:"ht",get:function(){return this.tO}},{key:"w4t",get:function(){return this.A4t.T5t===this}}]),i}(Ub);U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et(),xt(),Ft();var $0=0,t1="theoplayer-wrapper",i1=function(){function t(i,n,r,e){this.V5t=void 0,this.oa=void 0,this.G5t=void 0,this.Z5t=void 0,this.Q5t=void 0,this.$5t=void 0,this.e6t=void 0,this.n6t=void 0,this.r6t=void 0,this.Y5t=void 0,this.o6t=void 0,this.Yst=void 0,this.Iz=void 0,this.W5t=void 0,this.c6t=void 0,this.JI=void 0,this.V5t=n,this.oa=r,this.G5t=e,this.$5t=NaN,this.e6t=!1,this.n6t=!1,this.Y5t=!1,this.o6t=[],this.Yst=!1,this.Iz=!1,this.W5t=[],this.JI=++$0,this.c6t=i.timeOffset,this.Z5t=t.E6t(this.c6t),this.t6t(),this.W5t.push(i)}var i=t.prototype;return i.X5t=function(t){var i=this.j5t===t.timeOffset;return!this.Q5t&&i},i.t6t=function(){if(S(this.$5t)){var t=this.j5t;if(void 0===t)return void(this.$5t=0);if("string"==typeof t&&GZ(t)){var i=this.oa.Nd();S(i)||i===1/0||(t=NJ(t)*i)}S(t)||(this.$5t=t)}},i.a6t=function(t){this.o6t.push(t)},i.u6t=function(){if(!this.Q5t){var t,i,n=this.V5t===DB.Mnt&&void 0===this.c6t&&1===this.W5t.length,r=this.W5t[0];if(!n&&1===this.W5t.length){var e=Ui.Dh(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(n=!0,void 0!==this.c6t&&We("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(WZ(r.sources.type)||n)t=r.sources.src;else{if(S(this.oa.Nd())&&"end"===this.d6t())return;i=this.l6t()}var s=this.oa.Nd();(S(s)||s===1/0)&&(s=-3),this.Q5t={f6t:this.oa.xe.offsetWidth,v6t:this.oa.xe.offsetHeight,_6t:this.oa.xe.offsetWidth,g6t:this.oa.xe.offsetHeight,p6t:this.Yst,m6t:this.Iz,w6t:t,y6t:i,b6t:r.omidAccessModeRules,A6t:s}}return this.Q5t},i.l6t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.W5t.map(function(i,n){return t.S6t(i.sources,n)}).join("\n")+"</vmap:VMAP>"},i.S6t=function(t,i){var n=this.d6t(),r=t.src;return'<vmap:AdBreak timeOffset="'+n+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.JI+"-"+i+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+t1+"-"+this.JI+"-"+i+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},i.d6t=function(){if(0===this.j5t)return"start";if(this.j5t===1/0)return"end";var t=this.j5t;if("string"==typeof t&&GZ(t)){var i=NJ(t)*this.oa.Nd();return DZ.h$t(i)}return DZ.h$t(this.j5t||0)},i.T6t=function(t){this.W5t.push(t)},i.k6t=function(t){for(var i,n=t1+"-"+this.JI+"-",r=Lt(t);!(i=r()).done;){var e=i.value;if(Fo(e,n)){var s=Number(e.slice(n.length));if(!S(s)&&s>=0&&s<this.W5t.length)return s}}return-1},i.x6t=function(){this.Y5t=!0},t.E6t=function(t){if(void 0!==t)return-1===t?1/0:t},Nt(t,[{key:"U5t",get:function(){return this.V5t}},{key:"H5t",get:function(){return this.W5t}},{key:"q5t",get:function(){return 1===this.W5t.length&&WZ(this.W5t[0].sources.type)}},{key:"z5t",get:function(){return this.G5t}},{key:"K5t",get:function(){return this.Y5t}},{key:"J5t",get:function(){return GZ(this.Z5t)&&!this.Q5t}},{key:"j5t",get:function(){return this.Z5t}},{key:"dd",get:function(){return this.$5t}},{key:"i6t",get:function(){return this.e6t},set:function(t){this.e6t=t}},{key:"s6t",get:function(){return this.n6t},set:function(t){this.n6t=t,this.r6t=!1}},{key:"h6t",get:function(){return this.o6t}},{key:"vO",get:function(){return this.Yst},set:function(t){this.Yst=t}},{key:"oP",get:function(){return this.Iz},set:function(t){this.Iz=t}}]),t}();U(),Et(),xt();var n1=function(){function t(t){this.I6t=void 0,this.R6t=void 0,this.O6t=!1,this.I6t=t,this.R6t=void 0}var i=t.prototype;return i.S4t=function(t){this.R6t=t},i.D6t=function(t){return!(this.P6t&&!this.P6t.K5t&&"nonlinear"!==this.C6t.V4t)||this.P6t.dd>t.dd&&this.P6t.dd!==t.dd},i.N6t=function(t){if(t.length)return t.sort(function(t,i){return t.dd-i.dd})[0]},i.B6t=function(){if(this.Unt.length)return this.N6t(this.M6t(this.t.Gx()))},i.L6t=function(){var t=this;if(!(void 0!==this.R6t&&this.R6t>=0))return this.Unt.filter(function(i){return!i.i6t&&0===i.dd&&i!==t.P6t})[0]},i.M6t=function(t){var i=this;if(!this.O6t&&(this.O6t=!this.Unt.some(function(t){return S(t.dd)}),!this.O6t))return[];var n=this.Unt.filter(function(i){return!i.i6t&&(i.q5t||!S(i.dd)&&t<=i.dd)});return void 0===this.R6t?n:n.filter(function(t){return t.q5t||void 0===t.j5t||t.dd>i.R6t})},Nt(t,[{key:"P6t",get:function(){return this.I6t.P6t}},{key:"C6t",get:function(){return this.I6t.C6t}},{key:"Unt",get:function(){return this.I6t.Unt}},{key:"t",get:function(){return this.I6t.t}}]),t}(),r1=function(t){return t[t.F6t=0]="F6t",t[t.U6t=1]="U6t",t[t.V6t=2]="V6t",t}({}),e1=function(){function t(t,i,n,r,e){var s=this;this.Q6t=void 0,this.N4t=void 0,this.H6t=void 0,this.ko=void 0,this.oa=void 0,this.A4t=void 0,this.u8t=void 0,this.e8t=void 0,this.a8t=void 0,this.Zst=void 0,this.K6t=0,this.Ypt=void 0,this.X6t=void 0,this.c8t=!1,this.vX=function(){for(var t,i=Lt(s.N4t.filter(function(t){return t.J5t}));!(t=i()).done;){var n=t.value;n.t6t();var r=n.j5t;s.X6t.f8t(r,n.dd)}s.ko&&s.d8t&&s.W6t()},this.N4t=[],this.Q6t=t,this.ko=!1,this.H6t=!1,this.oa=i,this.A4t=n,this.P6t=void 0,this.e8t=0,this.a8t=new n1(this),this.Zst=r,this.X6t=e,this.oa.wn(eh.Cw,this.vX)}var i=t.prototype;return i.GP=function(){this.ko=!0,this.H6t&&this.W6t()},i.q6t=function(t,i){this.z6t(t,i);var n=Fn(this.Unt,function(i){return i.X5t(t)});if(n)n.T6t(t);else{var r,e=new i1(t,i,this.oa,null==(r=t.replaceContent)||r);this.N4t.push(e),2===this.G6t&&this.X6t.c5t(e.dd,e,e.j5t),this.j6t(i,e)}},i.Y6t=function(){if(Xn(this.Unt,this.P6t),this.P6t){for(var t,i=Lt(this.P6t.h6t);!(t=i()).done;){t.value;this.X6t.J6t()}this.P6t=void 0}},i.Z6t=function(){for(var t,i=Lt(this.N4t);!(t=i()).done;)for(var n,r=Lt(t.value.h6t);!(n=r()).done;){var e=n.value;this.X6t.$6t(e,!0)}Yn(this.N4t)},i.t8t=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Y6t(),this.i8t=!0,this.P6t=t,this.e8t=t.dd,this.Ypt=this.s8t(t),[4,this.Ypt];case 1:return i.sent(),this.Ypt=void 0,[2]}})}).call(this)},i.s8t=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return[4,this.n8t(t)];case 1:if(r.sent(),!(i=t.u6t()))return this.i8t=!1,this.P6t=void 0,[2];n=this.Q6t.r8t(i),t.i6t=!0,r.label=2;case 2:return r.trys.push([2,4,,6]),[4,n];case 3:return r.sent(),t.U5t===DB.Bnt&&this.Q6t.h8t(),[3,6];case 4:return r.sent(),this.P6t=void 0,[4,this.W6t()];case 5:return r.sent(),[3,6];case 6:return[2]}})}).call(this)},i.n8t=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return t.oP=this.A4t.oP,this.A4t.vO?[4,this.Zst.XK(this.A4t.oP)]:(t.vO=!1,[2]);case 1:switch(i.sent()){case"all":case"muted":t.vO=!0;break;case"none":t.vO=!1}return[2]}})}).call(this)},i.o8t=function(){var t;return null!=(t=this.a8t.L6t())?t:this.a8t.B6t()},i.W6t=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.P6t&&!this.P6t.K5t?[2,this.Ypt]:(t=this.o8t())?[4,this.t8t(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},i.hr=function(){this.Y6t(),Yn(this.N4t),this.e8t=0,this.P6t=void 0,this.Ypt=void 0,this.i8t=!1},i.s6t=function(){this.i8t=!1,this.P6t&&(this.P6t.s6t=!0)},i.j6t=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return t===DB.Bnt&&this.ko&&this.a8t.D6t(i)?this.nXt||"linear"===this.Q6t.V4t||!(!this.P6t||this.P6t&&this.P6t.i6t)?[3,3]:[4,ut.resolve()]:[3,3];case 1:return n.sent(),[4,this.t8t(i)];case 2:n.sent(),n.label=3;case 3:return[2]}})}).call(this)},i.x6t=function(){this.P6t&&this.P6t.x6t()},i.l8t=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.d8t?(t=this.o8t())?[4,this.t8t(t)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(this)},i.z6t=function(t,i){var n=t.sources.type,r=i===DB.Mnt&&void 0===t.timeOffset,e=WZ(n)||r?1:2;e!==this.K6t&&(this.K6t=e,this.Z6t(),this.Q6t.j0t&&!this.nXt&&"linear"!==this.Q6t.V4t&&(this.Q6t.j0t.zg(),this.P6t=void 0,this.Ypt=void 0),this.e8t=0,this.H6t=!0)},i.S4t=function(t){this.a8t.S4t(t)},i.kn=function(){this.oa.mn(eh.Cw,this.vX)},Nt(t,[{key:"C6t",get:function(){return this.Q6t}},{key:"Unt",get:function(){return this.N4t}},{key:"t",get:function(){return this.oa}},{key:"nXt",get:function(){return Boolean(this.Ypt)}},{key:"G6t",get:function(){return this.K6t}},{key:"P6t",get:function(){return this.u8t},set:function(t){this.u8t=t}},{key:"i8t",get:function(){return this.c8t},set:function(t){this.c8t=t}},{key:"d8t",get:function(){var t=this;return!this.nXt&&!this.i8t&&(!(this.P6t&&!this.P6t.K5t)&&(!!this.N4t.filter(function(i){return t.P6t!==i}).length&&Boolean(this.o8t())))}}]),t}();U(),Et(),Wt(),Pt(),Qt(),U(),Et();var s1=function(t){return t.v8t="contentResumeRequested",t._8t="contentPauseRequested",t.g8t="click",t.Cw="durationChange",t.p8t="expandedChanged",t.m8t="start",t.w8t="impression",t.Yz="pause",t.y8t="resume",t.b8t="adProgress",t.A8t="adBuffering",t.S8t="firstQuartile",t.XJt="midpoint",t.T8t="thirdQuartile",t.jJt="complete",t.k8t="userClose",t.E8t="linearChanged",t.x8t="loaded",t.P8t="adCanPlay",t.I8t="adMetadata",t.C8t="adBreakReady",t.R8t="interaction",t.D8t="allAdsCompleted",t.N8t="skip",t.B8t="skippableStateChanged",t.M8t="log",t.L8t="viewableImpression",t.O8t="volumeChange",t.F8t="mute",t}({});U(),Et();var u1=function(t){return t.U8t="adError",t}({});U(),Et();var o1=function(t){return t[t.V8t=-1]="V8t",t[t.H8t=-1]="H8t",t[t.W8t=-1]="W8t",t[t.q8t=101]="q8t",t[t.z8t=102]="z8t",t[t.G8t=200]="G8t",t[t.X8t=201]="X8t",t[t.j8t=202]="j8t",t[t.Q8t=300]="Q8t",t[t.K8t=301]="K8t",t[t.Y8t=302]="Y8t",t[t.J8t=303]="J8t",t[t.Z8t=400]="Z8t",t[t.$8t=402]="$8t",t[t.t9t=403]="t9t",t[t.i9t=405]="i9t",t[t.e9t=500]="e9t",t[t.s9t=501]="s9t",t[t.n9t=-1]="n9t",t[t.r9t=503]="r9t",t[t.h9t=602]="h9t",t[t.o9t=900]="o9t",t[t.a9t=901]="a9t",t[t.u9t=1005]="u9t",t[t.c9t=1007]="c9t",t[t.d9t=1009]="d9t",t[t.l9t=1010]="l9t",t[t.f9t=1011]="f9t",t[t.v9t=1012]="v9t",t[t._9t=1013]="_9t",t[t.g9t=1020]="g9t",t[t.p9t=1021]="p9t",t[t.m9t=1101]="m9t",t[t.w9t=1204]="w9t",t[t.y9t=1205]="y9t",t[t.b9t=1300]="b9t",t[t.A9t=-1]="A9t",t[t.S9t=-1]="S9t",t[t.T9t=-1]="T9t",t[t.k9t=-1]="k9t",t}({}),h1=function(t){return t.E9t="adLoadError",t.x9t="adPlayError",t}({});function a1(t,i){if(t===s1.b8t){var n=i;return{P9t:n.adBreakDuration,I9t:n.adPosition,zx:n.currentTime,ct:n.duration,C9t:n.totalAds}}return i}function c1(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return h1.E9t;case google.ima.AdError.Type.AD_PLAY:return h1.x9t}}function f1(t){return Wi(t)&&Yi(t.getVastErrorCode)}function v1(t){var i=t.getInnerError(),n=i&&f1(i)?v1(i):void 0;return{Iy:t.getMessage(),TZt:t.getErrorCode(),R9t:t.getVastErrorCode(),Km:c1(t.getType()),D9t:n}}function d1(t){if(Li(t))return t}U(),Et(),U(),Et();var l1=function(t){function i(i,n,r){var e,s;return e=t.call(this)||this,(s=e).Q6t=void 0,s.oa=void 0,s.K9t=void 0,s.R7t=void 0,s.x7t=void 0,s.P7t=void 0,s.Q0t=void 0,s.r7t=void 0,s.u7t=void 0,s.c7t=void 0,s.M9t=void 0,s.F9t=void 0,s.U9t=void 0,s.V9t=void 0,s.H9t=void 0,s.W9t=void 0,s.q9t=void 0,s.z9t=void 0,s.L9t=void 0,s.O9t=void 0,s.Q6t=i,s.oa=n,s.K9t=r,s.R7t=!1,s.x7t=void 0,s.P7t=void 0,s.r7t=0,s.u7t=function(t){if(t.jnt&&t.jnt.v7t){var i=t.jnt.v7t;s.K9t.d5t(i.qOt,i.C9t,i.G0t)}},s.c7t=function(t){var i,n,r;if(!(s.r7t>=5)){s.r7t++;var e=t.J9t;if(function(t){return Wi(t)&&void 0!==t.P9t&&void 0!==t.C9t}(e)){var u=null==(r=s.Q0t)||null==(n=r.d7t())||null==(i=n.v7t)?void 0:i.qOt;void 0!==u&&s.K9t.d5t(u,e.C9t,e.P9t)}}},s.M9t=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return t.J9t.D7t?[4,s.i7t(t.J9t.D7t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})()},s.F9t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return s.R7t=!0,s.Q6t.x6t(),[4,s.O9t()];case 1:return t.sent(),[2]}})})()},s.U9t=function(t){if(t.jnt){0;var i=t.jnt;s.Q6t.w7t(i),s.Q6t.be(),s.Q6t.N7t(),s.Q6t.B7t=!0,s.K9t.M7t(i);var n=i.ct;if(s.Y9t(n),i.h7t){var r=s.Q6t.zx,e=s.Q6t.AP;s.Q6t.a5(Dy.XL),s.N9t(new xy(r,e)),s.N9t(new Oy(r,e)),s.N9t(new My(r,e)),s.Q6t.lP||s.N9t(new Ly(s.Q6t.zx)),s.setCountdownTimer(),s.X9t(!0)}else s.Q6t.I3t(),s.oa.be(),s.Q6t.lP||s.oa.QP()}},s.V9t=function(t){var i;if(t.jnt){0;var n=t.jnt;if(s.vm(),s.K9t.m7t(s.Q6t.ct,n.h7t),s.Q6t.AP!==Dy.zL){var r=Dy.zL;s.Q6t.a5(r);var e=s.Q6t.zx;s.N9t(new aT(e,r))}s.Y9t(NaN),s.Q6t.B7t=!1,null==(i=s.Q0t)||i.UP(s.Q6t.o7t())}},s.H9t=function(t){t.jnt&&(s.V9t(t),s.K9t.H9t(t.jnt,s.Q6t.zx,s.Q6t.ct))},s.W9t=function(t){t.jnt&&(s.K9t.m7t(-1,t.jnt.h7t),s.Q6t.x6t(),!t.jnt.h7t&&s.Q6t.d8t()&&s.Q6t.l8t())},s.q9t=function(t){t.jnt&&(t.jnt.h7t?s.Q6t.jP():s.oa.jP())},s.z9t=function(){var t;(s.Q6t.B7t=!0,s.Q6t.L7t)&&(null==(t=s.Q0t)||t.jP(),s.Q6t.L7t=!1)},s.L9t=function(t){var i;if(t.jnt){0,s.Q6t.E7t&&(s.P7t=s.oa.Gx(),s.oa.$P(),s.oa.WP=!0),s.Q6t.O7t=!0;var n=t.jnt;s.K9t.Ed(n);var r=n.ct;s.Q6t.w7t(n),s.Y9t(r),s.Q6t.G9t(!1),s.Q6t.be(),s.Q6t.D5t(),s.Q6t.E7t||s.oa.we(),s.oa.jP(),s.Q6t.F7t(n),0===(null==(i=n.v7t)?void 0:i.qOt)||s.Q6t.So(new By(s.Q6t.zx))}},s.O9t=function(t){return Vt(function(){var i,n,r,e,u;return zt(this,function(o){switch(o.label){case 0:return i=null==t?void 0:t.jnt,s.Q6t.O7t=!1,"linear"===s.Q6t.V4t&&s.K9t.Bd(),i&&i.ct>=0&&s.Y9t(i.ct),s.oa.Nd()===1/0&&s.Q6t.U7t(),s.Q6t.B7t=!1,s.R7t?[4,s.p7t()]:[3,2];case 1:o.sent(),o.label=2;case 2:s.Q6t.G9t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,s.k7t()];case 4:return o.sent(),[3,6];case 5:return vr(n=o.sent())||s.So(new CK(n)),[2];case 6:return s.Q6t.I3t(),s.Q6t.we(),s.oa.Qx||s.oa.QP(),i&&s.Q6t.w7t(i),s.Q6t.A7t&&(s.Q6t.E7t&&(e=s.oa.zP(),u=null==(r=s.oa.bt)?void 0:r.src,e&&u&&(e.src=u)),s.Q6t.S7t=!0),s.oa.WP=!1,s.Q6t.d8t()?[4,s.Q6t.l8t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}})})()},e}Ct(i,t);var n=i.prototype;return n.N9t=function(t){this.Q6t.So(t)},n.B9t=function(t){var i=this;this.Q0t=t,this.Q0t.wn(u1.U8t,this.M9t),this.Q0t.wn(s1._8t,this.L9t),this.Q0t.wn(s1.v8t,this.O9t),this.Q0t.wn(s1.D8t,this.F9t),this.Q0t.wn(s1.m8t,this.U9t),this.Q0t.wn(s1.jJt,this.V9t),this.Q0t.wn(s1.N8t,this.H9t),this.Q0t.wn(s1.k8t,this.W9t),this.Q0t.wn(s1.g8t,this.q9t),this.Q0t.wn(s1.P8t,this.z9t),this.Q0t.wn(s1.Yz,function(){i.Q6t.lP||(i.Q6t.G9t(!0),i.Q6t.So(new cT(i.Q6t.zx))),i.X9t(!0)}),this.Q0t.wn(s1.y8t,function(){i.Q6t.lP&&(i.Q6t.G9t(!1),i.Q6t.So(new fT(i.Q6t.zx)))}),this.Q0t.wn(s1.F8t,function(){var n=t.FP();n>=0&&i.j9t(n)}),this.Q0t.wn(s1.O8t,function(){var n=t.FP();n>=0&&i.j9t(n)}),this.Q0t.wn(s1.I8t,function(t){i.K9t.Q9t(t.type)}),this.Q0t.wn(s1.Cw,function(t){t.jnt&&i.Y9t(t.jnt.ct)}),this.Q0t.wn(s1.M8t,function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return i=t.J9t.adError,(n=f1(i)?v1(i):void 0)?this.Z9t(n)?[4,this.$9t(t)]:[3,2]:[2];case 1:return r.sent(),[3,5];case 2:return this.t7t(n)?[4,this.i7t(n)]:[3,4];case 3:return r.sent(),[3,5];case 4:this.e7t(n)&&this.s7t(n),r.label=5;case 5:return[2]}})}).call(i)}),this.Q0t.wn(s1.x8t,function(t){if(t.jnt&&(i.Q6t.s6t(),i.K9t.n7t(t.jnt),i.r7t=0,t.jnt.h7t)){var n,r=i.Q6t.AP,e=Dy.zL;i.Q6t.a5(e);var s=i.Q6t.zx,u=i.Q6t.AP;u!==r&&i.N9t(new aT(s,u)),null==(n=i.Q0t)||n.UP(i.Q6t.o7t()),i.N9t(new Ny(s,e))}}),this.Q0t.wn([s1.A8t,s1.w8t,s1.S8t,s1.XJt,s1.T8t],function(t){t.jnt&&i.K9t.a7t(t.jnt,t.type,i.Q6t.zx)}),this.Q0t.wn(s1.S8t,this.u7t),this.Q0t.wn(s1.b8t,this.c7t)},n.switchToPlayerIfNoNextAd=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return this.Q0t?(t=this.Q0t.d7t())&&this.l7t(t)?[3,3]:this.Q6t.d8t()?[4,this.Q6t.l8t()]:[3,2]:[3,4];case 1:return n.sent(),[3,3];case 2:this.Q6t.f7t(),this.oa.lP&&!this.oa.Qx&&this.oa.QP(),n.label=3;case 3:return[3,7];case 4:return this.Q6t.d8t()?[4,this.Q6t.l8t()]:[3,6];case 5:return n.sent(),[3,7];case 6:i=this.Q6t.lP,this.Q6t.f7t(),i||this.oa.QP(),n.label=7;case 7:return[2]}})}).call(this)},n.l7t=function(t){var i=t.v7t,n=null==i?void 0:i.C9t;return(null==i?void 0:i.I9t)!==n},n.vm=function(){this.Q6t.Dc&&(m(this.Q6t.Dc),this.Q6t.Dc=null)},n.e7t=function(t){return t.Km===h1.E9t},n.t7t=function(t){return t.Km===h1.x9t},n.Z9t=function(t){return t.TZt===o1.d9t},n.i7t=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return this.s7t(t),this._7t(t)?(this.Q6t.g7t.i8t=!1,null==(i=this.Q6t.g7t.P6t)||i.x6t(),[4,this.switchToPlayerIfNoNextAd()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)},n._7t=function(t){var i;if(w1(t))return!0;if(this.Q6t.nrt)return!1;var n=[o1.Z8t,o1.a9t,o1.p9t,o1.y9t];return!(jn(n,t.TZt)||jn(n,null==(i=t.D9t)?void 0:i.TZt))},n.s7t=function(t){this.Q6t.v5t(t)},n.p7t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.K9t.J6t(),this.Q6t.x6t(),"nonlinear"===this.Q6t.V4t&&(this.K9t.m7t(-1,!1),this.Q6t.w7t(void 0)),"nonlinear"!==this.Q6t.V4t&&"none"!==this.Q6t.V4t?[3,2]:this.Q6t.d8t()?[4,this.Q6t.l8t()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.Q6t.y7t(),this.Q6t.w4t?this.Q6t.I3t():this.b7t()&&this.oa.So(new lT(this.oa.Gx())),[2]}})}).call(this)},n.b7t=function(){return this.Q6t.A7t&&!this.Q6t.S7t&&this.oa.Qx},n.setCountdownTimer=function(){var t=this;this.vm(),this.Q6t.Dc=_(function(){return t.X9t()},250)},n.$9t=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return void 0===t.jnt?[2]:(this.Q6t.g7t.i8t=!1,this.Q6t.x6t(),this.Q6t.d8t()?[4,this.Q6t.l8t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:this.Q6t.G9t(!0),i.label=3;case 3:return[2]}})}).call(this)},n.Y9t=function(t){this.Q6t.ct!==t&&t>=0&&(this.Q6t.F4(t),this.N9t(new vT(this.Q6t.ct)))},n.j9t=function(t){this.Q6t.o7t()!==t&&(0===t?this.Q6t.T7t(t,!0,!1):this.Q6t.T7t(t,!1,!1))},n.k7t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Q6t.E7t&&void 0!==this.oa.Yx()?(this.x7t=new hr,[4,_r(this.oa.Ta(this.oa.nu(),this.x7t.Yg),this.x7t)]):[3,2];case 1:t.sent(),this.P7t&&this.oa.Xx(this.P7t),this.P7t=void 0,t.label=2;case 2:return[2]}})}).call(this)},n.X9t=function(t){if(this.Q0t){var i=this.Q0t.I7t();i>this.Q6t.ct&&this.Y9t(b.round(i))}var n=this.Q6t.zx;(t||!this.Q6t.lP&&n!==this.Q6t.C7t)&&(this.Q6t.So(new bw(n,void 0)),this.Q6t.C7t=n)},n.hr=function(){this.x7t&&(this.x7t.Zg(),this.x7t=void 0),this.R7t=!1,this.r7t=0},n.kn=function(){this.hr(),this.Vo()},i}(th);function w1(t){var i,n;return t.R9t===o1.J8t||(null==(i=t.D9t)?void 0:i.R9t)===o1.J8t||t.TZt===o1.d9t||(null==(n=t.D9t)?void 0:n.TZt)===o1.d9t}U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var g1=function(t){function i(i,n,r){var e;return(e=t.call(this,i)||this).V7t=void 0,e.H7t=void 0,e.V7t=n,e.H7t=r,e}return Ct(i,t),Nt(i,[{key:"u$t",get:function(){return x$.v1t}}]),i}(E0);U(),Et(),xt(),Pt(),U(),Et(),U(),Et(),xt(),Pt();var _1=function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).q7t=0,r.z7t=void 0,r}Ct(i,t);var n=i.prototype;return n.a1t=function(){var t;return null==(t=this.z7t)?void 0:t.QKt},n.xa=function(){return function(t,i){return Mw(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return i._N},get apiFramework(){return i.G7t},get creativeId(){return i.wYt},get title(){return i.gq},get wrapperAdIds(){return i.X7t},get wrapperAdSystems(){return i.j7t},get wrapperCreativeIds(){return i.Q7t}})}(D0(this),this)},n.K7t=function(t){this.z7t=t;var i=m1(t);this.O4t(t.fJt,t.Y7t,t.J7t,t.ct,i,-1)},Nt(i,[{key:"W7t",get:function(){return this.q7t},set:function(t){this.q7t=t}},{key:"u$t",get:function(){return x$.so}},{key:"G7t",get:function(){var t;return null==(t=this.z7t)?void 0:t.FYt}},{key:"wYt",get:function(){var t;return null==(t=this.z7t)?void 0:t.wYt}},{key:"_N",get:function(){var t;return null==(t=this.z7t)?void 0:t._N}},{key:"gq",get:function(){var t;return null==(t=this.z7t)?void 0:t.gq}},{key:"X7t",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.X7t)?i:[]}},{key:"j7t",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.j7t)?i:[]}},{key:"Q7t",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.Q7t)?i:[]}}]),i}(P0);function m1(t){return t.sYt.map(function(t){return new N0(t)})}var y1=function(t){function i(i){var n;return(n=t.call(this,i,R0.yk)||this).z7t=void 0,n.IJt=void 0,n}Ct(i,t);var n=i.prototype;return n.xa=function(){return function(t,i){return Mw(t,{get adSystem(){return i.a1t()},get apiFramework(){return i.G7t},get bitrate(){return i.z9},get contentType(){return i.GT},get creativeId(){return i.wYt},get description(){return i._N},get mediaUrl(){return i.PJt},get title(){return i.gq},get traffickingParameters(){return i.Z7t},get traffickingParametersString(){return i.$7t},get wrapperAdIds(){return i.X7t},get wrapperAdSystems(){return i.j7t},get wrapperCreativeIds(){return i.Q7t},get universalAdIds(){return i.rYt}})}(D0(this),this)},n.K7t=function(t){this.z7t=t,this.O4t(t.fJt,t.Y7t,t.J7t,t.ct,m1(t),t.tti),this.H4t=t.h7t?R0.BZt:R0.L4t},n.a1t=function(){return this.z7t?p1(this.z7t.QKt):void 0},Nt(i,[{key:"u$t",get:function(){return x$.v1t}},{key:"G7t",get:function(){return this.z7t?p1(this.z7t.FYt):void 0}},{key:"z9",get:function(){return this.z7t?this.z7t.iti:0}},{key:"GT",get:function(){return this.z7t?p1(this.z7t.GT):void 0}},{key:"wYt",get:function(){return this.z7t?p1(this.z7t.wYt):void 0}},{key:"eti",get:function(){return this.z7t?p1(this.z7t.eti):void 0}},{key:"_N",get:function(){var t;return null==(t=this.z7t)?void 0:t._N}},{key:"PJt",get:function(){var t,i=null==(t=this.z7t)?void 0:t.PJt;return Li(i)?i:this.IJt},set:function(t){this.IJt=t}},{key:"gq",get:function(){var t;return null==(t=this.z7t)?void 0:t.gq}},{key:"Z7t",get:function(){return this.z7t?p1(this.z7t.Z7t):void 0}},{key:"$7t",get:function(){return this.z7t?p1(this.z7t.$7t):void 0}},{key:"X7t",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.X7t)?i:[]}},{key:"j7t",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.j7t)?i:[]}},{key:"Q7t",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.Q7t)?i:[]}},{key:"rYt",get:function(){var t,i;return null!=(i=null==(t=this.z7t)?void 0:t.rYt.map(function(t){return{adIdRegistry:t.sti,adIdValue:t.nti}}))?i:[]}}]),i}(P0);function p1(t){return null===t?void 0:t}U(),Et(),xt(),U(),Et(),xt();var k1=function(){function t(t,i){this.K9t=void 0,this.rti=void 0,this.K9t=t,this.rti=i}var i=t.prototype;return i.qnt=function(t){this.K9t.qnt(t)},i.uD=function(){this.K9t.uD()},i.Hnt=function(t){this.K9t.Hnt(t)},i.kn=function(){return ut.resolve()},Nt(t,[{key:"u4t",get:function(){return this.K9t.u4t}},{key:"r4t",get:function(){return this.rti}},{key:"w4t",get:function(){return this.K9t.w4t}},{key:"Fnt",get:function(){var t;return null!=(t=this.K9t.Fnt)?t:null}},{key:"Lnt",get:function(){var t=this.K9t.hti;return t?[t]:[]}},{key:"Unt",get:function(){return this.K9t.Unt}},{key:"Vnt",get:function(){return this.K9t.Vnt}}]),t}(),b1=function(){function t(t,i){this.R5t=void 0,this.y1t=void 0,this.u1t=void 0,this.w1t=void 0,this.uti=void 0,this.ati=void 0,this.R5t=t,this.y1t=[],this.uti=!1,this.ati=new k1(this,i)}return Nt(t,[{key:"oti",get:function(){return this.ati}},{key:"u4t",get:function(){return this.R5t}},{key:"w4t",get:function(){return this.uti}},{key:"hti",get:function(){return this.u1t}},{key:"Fnt",get:function(){return this.w1t}},{key:"Unt",get:function(){var t=this;return Jn(this.y1t,function(i){if(i.pP)return[];var n=i.Jc;if(i===t.w1t&&void 0!==t.u1t){var r=n.indexOf(t.u1t);if(r>=0)return n.slice(r+1)}return n})}},{key:"Vnt",get:function(){return this.y1t.filter(function(t){return!t.pP})}}]),t}();U(),Et(),Pt();var A1=function(t){function i(i){return t.call(this,"cti",i)||this}return Ct(i,t),i.prototype.xa=function(){return new T1(this.jnt.Ont())},i}(VB),T1=function(t){function i(i){return t.call(this,"adimpression",i)||this}return Ct(i,t),i}(HB);U(),Et(),Pt();var S1=function(t){function i(i){var n;return(n=t.call(this,"dti")||this).jnt=void 0,n.jnt=i,n}return Ct(i,t),i.prototype.xa=function(){return new E1(this.jnt.Ont())},i}(Aw),E1=function(t){function i(i){var n;return(n=t.call(this,"adbuffering")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var I1=function(t){function i(){return t.call(this,"lti")||this}return Ct(i,t),i.prototype.xa=function(){return new R1},i}(Aw),R1=function(t){function i(){return t.call(this,"admetadata")||this}return Ct(i,t),i}(rh),C1=function(t){function i(i,n){var r;return(r=t.call(this,i,x$.v1t)||this)._ti=void 0,r.mti=void 0,r.pti=void 0,r._ti=n,r.mti=[],r.pti=[],r}Ct(i,t);var n=i.prototype;return n.fti=function(t,i){for(var n=0;n<t;n++){var r=new y1(i);i.C4t(r),this.u4t.So(new WB(r))}},n.c5t=function(t,i,n){var r=t;r===1/0&&(r=-1);var e=new g1(r,n,i);this.y1t.push(e),i.a6t(e),this.u4t.So(new FB(e))},n.f8t=function(t,i){for(var n,r=Lt(this.y1t);!(n=r()).done;){var e=n.value;S(e.qOt)&&e.V7t===t&&(e.qOt=i,this.u4t.So(new F0(e)))}},n.$6t=function(t,i){void 0===i&&(i=!1),i&&Xn(this.y1t,t),this.u4t.So(new MB(t))},n.J6t=function(){if(this.Fnt){this.$6t(this.Fnt,!0);var t=Boolean(this.u1t&&this.u1t.V4t===R0.BZt);this.vti(void 0,t)}},n.h5t=function(t,i){var n=i.v7t;if(n){var r=n.I9t-1,e=t.Jc[r];return e.K7t(i),this.u4t.So(new B$(e)),e.od.G0t=n.G0t,e}},n.gti=function(t){if(!jn(this.pti,t)){if(t){if(this.u1t===t)return;this.u1t=t;for(var i,n=Lt(this.mti);!(i=n()).done;){var r=i.value;0,this.Q9t(r,t,this._ti.zx)}}else{if(!this.u1t)return;var e=new KB(this.u1t,this.u1t.od.qOt);this.pti.push(this.u1t),this.u1t=void 0,this.R5t.So(e)}Yn(this.mti)}},n.vti=function(t,i){if(t){var n;if((null==(n=this.Fnt)?void 0:n.qOt)===t.qOt)return;this.w1t=t,i&&this.u4t.So(new GB(this.w1t))}else{if(!this.w1t)return;var r=new XB(this.w1t);this.w1t=void 0,Yn(this.pti),i&&this.R5t.So(r)}},n.wti=function(t){return this.y1t.filter(function(i){return Sn(i.qOt,t,.01)})[0]},n.Ed=function(t){if(t.v7t){var i=t.v7t,n=this.wti(i.qOt);n&&(Yn(this.mti),this.vti(n,t.h7t))}},n.Bd=function(){this.Fnt&&this.u4t.So(new XB(this.Fnt)),Yn(this.mti),this.J6t()},n.M7t=function(t){if(!this.w1t&&t.v7t){var n=this.wti(t.v7t.qOt);this.vti(n,t.h7t)}if(this.w1t){var r=i.yti(this.w1t,t);if(!r)return;this.h5t(this.w1t,t);var e=t.PJt;Li(e)&&!Li(r.PJt)&&(r.PJt=e,this.u4t.So(new B$(r))),this.gti(r),this.u4t.So(new QB(this.u1t,r.od.qOt))}else 0},n.m7t=function(t,i){if(this.gti(void 0),!i&&this.Fnt){var n=this.Fnt;this.vti(void 0,!1),this.$6t(n)}},n.n7t=function(t){var i=t.v7t;if(i){var n=this.wti(i.qOt);if(n){this.d5t(i.qOt,i.C9t,i.G0t);var r=this.h5t(n,t);r&&this.u4t.So(new M$(r))}}},n.d5t=function(t,i,n){var r=this.wti(t);if(r){var e=r.Jc.length;if(i>e){var s=i-e;this.fti(s,r),r.G0t=n,this.u4t.So(new F0(r))}}},n.H9t=function(t,n,r){if(this.w1t){var e=i.yti(this.w1t,t);if(e){var s=n/r;this.u4t.So(new M0(e,s))}}},n.a7t=function(t,n,r){if(this.w1t){var e=this.u1t;if(!e){var s=i.yti(this.w1t,t);if(!s||jn(this.pti,s))return void this.mti.push(n);e=s,this.h5t(this.w1t,t),this.gti(e)}this.Q9t(n,e,r)}},n.Q9t=function(t,i,n){t===s1.I8t?this.u4t.So(new I1):t===s1.w8t&&i?this.u4t.So(new A1(i)):t===s1.A8t&&i?this.u4t.So(new S1(i)):t===s1.S8t&&i&&n?this.u4t.So(new W0(i,n)):t===s1.XJt&&i&&n?this.u4t.So(new X0(i,n)):t===s1.T8t&&i&&n&&this.u4t.So(new G0(i,n))},n.uD=function(){this._ti.uD()},n.qnt=function(t){this._ti.qnt(t)},n.hr=function(){var t=Boolean(this.u1t&&this.u1t.V4t===R0.BZt);this.gti(void 0),this.vti(void 0,t);for(var i,n=Lt(this.y1t);!(i=n()).done;){var r=i.value;this.$6t(r)}Yn(this.y1t),Yn(this.mti),Yn(this.pti)},n.kn=function(){this.hr()},n.Hnt=function(t){},i.yti=function(t,i){if(i.v7t)return t.Jc[i.v7t.I9t-1]},Nt(i,[{key:"w4t",get:function(){return this._ti.w4t}}]),i}(b1);function P1(t){var i=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var i=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case VA.ENABLED:return i.ENABLED;case VA.INSECURE:return i.INSECURE;case VA.DISABLED:default:return i.DISABLED}}(t.ads.vpaidMode)),i.setPlayerVersion("10.3.0"),i.setPlayerType("THEOplayer"),i.setAutoPlayAdBreaks(!0),i.setDisableCustomPlaybackForIOS10Plus(!D1(t));var n=function(t){var i,n,r,e=null==(n=t.ads)||null==(i=n.googleIma)?void 0:i.language;if(void 0!==e)return e;var s=null==(r=t.ui)?void 0:r.language;if(Xi(s))return s;return}(t);n&&i.setLocale(n)}function D1(t){return Bi.ru&&t.allowNativeFullscreen}U(),Et(),U(),Et(),Wt(),xt(),Qt();var N1=function(){function t(t,i,n){this.bti=void 0,this.Ati=void 0,this.Sti=void 0,this.Q0t=void 0,this.bti=t,this.Ati=n,this.Sti=i}var i=t.prototype;return i.r8t=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.y7t(),this.bti.GY(),n=this,[4,this.Ati.r8t(t,this.Sti,i)];case 1:return n.Q0t=r.sent(),[2]}})}).call(this)},i.Tti=function(){var t;null==(t=this.Q0t)||t.Tn()},i.kti=function(){var t;null==(t=this.Q0t)||t.kti()},i.jP=function(){var t;null==(t=this.Q0t)||t.jP()},i.uD=function(){var t;null==(t=this.Q0t)||t.uD()},i.UP=function(t){var i;null==(i=this.Q0t)||i.UP(t)},i.Eti=function(t){var i;null==(i=this.Q0t)||i.Eti(t)},i.xti=function(){return Boolean(this.Q0t&&this.Q0t.d7t())},i.d7t=function(){var t;return null==(t=this.Q0t)?void 0:t.d7t()},i.I7t=function(){var t;return null==(t=this.Q0t)?void 0:t.I7t()},i.y7t=function(){this.Q0t&&(this.Ati.Pti(),this.Q0t.KP(),this.Q0t.zg(),this.Q0t=void 0)},i.kn=function(){this.y7t()},Nt(t,[{key:"j0t",get:function(){return this.Q0t},set:function(t){this.Q0t=t}}]),t}(),x1=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this,i,n)||this).ko=!1,h.Sti=void 0,h.Cz=void 0,h.o5=void 0,h.Ati=void 0,h.bti=void 0,h.Dc=void 0,h.Zb=void 0,h.Lti=void 0,h.Fti=void 0,h.y4t=!1,h.Uti=void 0,h.Vti=void 0,h.I6t=void 0,h.Kti=void 0,h.eii=-1,h.H4t="none",h.GJ=void 0,h.qti=void 0,h.Hti=!1,h.X6t=void 0,h.Bti=!1,h.zti=new hr,h.R6t=void 0,h.Mti=!1,h.Oti=!1,h.Nti=void 0,h.rii=function(t){h.u4t.So(t)},h.sii=function(t){h.Uti=new hg(og.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),h.Vti=fg(h.Uti)},h.C7t=NaN,h.Wti=function(){h.ko||h.GP()},h.GJ=r,h.Cz=!0,h.Zb=NaN,h.o5=Dy.zL,h.Lti=!1,h.Fti=!1,h.X6t=new C1(h.u4t,h),h.Kti=new l1(h,h.oa,h.X6t),h.Kti.wn(qm.ma,h.sii),h.oa.wn(eh.uo,h.Wti),h.I6t=new e1(h,h.oa,h.A4t,e,h.X6t),h.Sti=o,h.Ati=u,h.bti=s,h.Nti=new N1(s,o,u),h.we(),h.Ati.wn("nii",h.rii),h}Ct(i,t);var n=i.prototype;return n.Cti=function(t,i,n){i===DB.Mnt&&void 0!==n&&(this.y4t=n),this.I6t.q6t(t,i)},n.qnt=function(t){for(var i,n=Lt(this.Dti());!(i=n()).done;){var r=i.value;xJ(r.sources,r.timeOffset)||t.W6(r,DB.Bnt,!1)}},n.Dti=function(){for(var t,i=[],n=this.o4t,r=n.Lnt,e=n.Unt,s=[],u=Lt(r.concat(e));!(t=u()).done;){var o=t.value,h=o.od.H7t;if(!jn(s,h.JI)){var a,c,f=h.k6t(o.X7t);if(f>=0)(a=i).push.apply(a,[].concat(h.H5t.slice(f)));else(c=i).push.apply(c,[].concat(h.H5t));s.push(h.JI)}}for(var v,d=Lt(this.I6t.Unt);!(v=d()).done;){var l,w=v.value;if(!w.i6t)(l=i).push.apply(l,[].concat(w.H5t))}return nr(i)},n.Gx=function(){var t=this.Nti.I7t();return t?S(this.ct)||t<0?0:this.ct-t:0},n.Xx=function(t,i){},n.Nd=function(){return this.Zb||NaN},n.F4=function(t){this.Zb=t},n.aP=function(){return this.oa.oP},n.uP=function(t){this.T7t(this.OP,t,!0)},n.fP=function(){return this.Cz},n.G9t=function(t){this.Cz=t},n.NP=function(){var t,i;return null!=(i=null==(t=this.Nti.d7t())?void 0:t.J7t)?i:0},n.LP=function(){var t,i;return null!=(i=null==(t=this.Nti.d7t())?void 0:t.Y7t)?i:0},n.Ox=function(){return[]},n.S4t=function(t){this.R6t=t,this.I6t.S4t(t)},n.h8t=function(){!this.Bti&&this.j0t&&(this.Nti.Tti(),this.Bti=!0)},n.w7t=function(t){this.V4t=t?t.h7t?"linear":"nonlinear":"none"},n.EP=function(){return EA.rL()._s()},n.FP=function(){return this.oa.OP},n.UP=function(t){this.T7t(t,this.oP,!0)},n.o7t=function(){return this.oa.oP?0:this.oa.OP},n.T7t=function(t,i,n){var r=this.oa.OP!==t||this.oa.oP!==i;r&&(this.oa.OP=t,this.oa.oP=i),n&&this.Nti.UP(this.o7t()),r&&this.So(new _T(this.zx,this.OP))},n.Kx=function(){return!1},n.Yx=function(){if(this.Uti&&this.y4t)return this.Uti},n.Zx=function(){if(this.Vti&&this.y4t)return this.Vti},n.TP=function(){return this.o5},n.a5=function(t){this.o5=t,this.So(new Py(this.zx,t))},n.GP=function(){this.oa.mn(eh.uo,this.Wti),this.ko||(this.ko=!0,this.I6t.GP(),this.N7t())},n.QP=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:if(this.qti)return[2];this.zti.Zg(),this.zti=new hr,t=this.lP,this.G9t(!1),this.So(new fT(this.zx)),this.Nti.xti()||(this.E7t||this.oa.we(),this.So(new By(this.zx))),this.B7t||(this.L7t=!1),i=Boolean(this.j0t),this.qti=this.I6t.W6t(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.qti];case 2:return n.sent(),[3,4];case 3:return this.qti=void 0,[7];case 4:try{dr(this.zti.Yg)}catch(t){return[2]}if(this.ko||this.Wti(),this.Uti&&this.y4t)return[2];if(this.j0t){if(t)if(i)try{dr(this.zti.Yg),this.Nti.kti(),this.So(new Ly(this.zx))}catch(t){return[2]}else this.h8t()}else this.y4t||(this.I3t(),this.A4t.QP());return[2]}})}).call(this)},n.jP=function(){this.lP||(this.G9t(!0),this.So(new cT(this.zx))),this.zti.Zg(),this.B7t?this.Nti.jP():this.L7t=!0},n.uD=function(){this.Nti.uD()},n.y7t=function(){this.j0t&&(this.Nti.y7t(),this.V4t="none",this.Bti=!1)},n.KP=function(){return Vt(function(){var t;return zt(this,function(i){return this.C7t=0,this.I6t.hr(),this.zti.Zg(),this.G9t(!0),this.Lti=!1,this.Fti=!1,this.B7t=!1,this.X6t.hr(),this.y7t(),this.f7t(),null==(t=this.Sti)||t.hr(),this.L7t=!1,this.Ati.zg(),[2]})}).call(this)},n.be=function(){this.bti.be(),this.E7t&&this.oa.be()},n.we=function(){this.bti.we()},n.Gti=function(){return Boolean(this.j0t)&&jn(this.j0t.Xti(),-1)&&!this.Lti},n.s6t=function(){this.I6t.s6t()},n.d8t=function(){return this.I6t.d8t},n.x6t=function(){this.I6t.x6t()},n.l8t=function(){return this.I6t.l8t()},n.l4t=function(t){if(this.Gti()){if(t.type===eh.jw&&this.oa.Qx)return!0;if(t.type===eh.Nw)return this.Lti=!0,this.Ati.Pti(),!0}return!1},n.r8t=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.y7t(),i=this.jti(),[4,this.Nti.r8t(t,i)];case 1:return r.sent(),this.Bti=!1,this.Qti(this.j0t),[3,3];case 2:return n=r.sent(),this.Kti.i7t(n),[3,3];case 3:return[2]}})}).call(this)},n.Qti=function(t){if(t.UP(this.o7t()),this.I6t.G6t===r1.U6t){var i=t.Xti();if(i.length)for(var n,r=Lt(i);!(n=r()).done;){var e=n.value;this.X6t.c5t(e,this.I6t.P6t)}else this.X6t.c5t(this.I6t.P6t.dd,this.I6t.P6t)}this.Kti.hr(),this.Kti.B9t(t)},n.zP=function(){if(this.j0t&&this.E7t&&this.Nti.xti())return this.oa.zP()},n.qP=function(){return this.E7t&&this.w4t?this.oa.Ma:t.prototype.qP.call(this)},n.jti=function(){var t,i,n=!!(this.I6t.G6t===r1.U6t)&&this.Rti;return void 0!==this.GJ.ads.googleIma.uiElements?t=this.GJ.ads.googleIma.uiElements:this.GJ.ads.showCountdown||(t=[]),void 0!==this.GJ.ads.allowedMimeTypes&&(i=this.GJ.ads.allowedMimeTypes),{Yti:i,Jti:t,Zti:n,z9:this.GJ.ads.googleIma.bitrate,$ti:void 0,tii:this.R6t}},n.N7t=function(){if(this.j0t){var t=this.jti();this.Nti.Eti(t)}},n.v5t=function(t){w1(t)||(this.Uti=new hg(og.ADVERTISEMENT_ERROR,t.Iy),this.Vti=new ld(vd.AD_ERROR,"There was a problem playing ads.",this.Uti)),this.u4t.So(A0.f4t(t))},n.f7t=function(){this.w4t&&(this.oa.be(),this.I3t(),this.we())},n.U7t=function(){var t;this.oa.Gx()!==1/0&&0!==this.oa.EP().length&&((null==(t=this.I6t.P6t)?void 0:t.z5t)&&-1!==this.eii&&(this.oa.Xx(this.oa.Gx()+this.eii),this.eii=-1))},n.F7t=function(t){var i,n;this.eii=null!=(n=null==(i=t.v7t)?void 0:i.G0t)?n:-1},n.I3t=function(){t.prototype.I3t.call(this),this.oa.be(),this.E7t&&!this.oa.Qx&&this.oa.QP()},n.F5t=function(){this.E7t||t.prototype.F5t.call(this)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Kti.mn(qm.ma,this.sii),[4,t.prototype.kn.call(i)];case 1:return n.sent(),this.y7t(),this.Nti.kn(),this.Ati.mn("nii",this.rii),this.Ati.zg(),this.bti.zg(),this.I6t.kn(),this.Kti.kn(),[2]}})}).call(this)},Nt(i,[{key:"o4t",get:function(){return this.X6t.oti}},{key:"Iti",get:function(){return this.X6t}},{key:"g7t",get:function(){return this.I6t}},{key:"E7t",get:function(){return D1(this.GJ)}},{key:"r4t",get:function(){return i.r4t}},{key:"Rti",get:function(){return this.GJ.ads.preload===WA.MIDROLL_AND_POSTROLL}},{key:"V4t",get:function(){return this.H4t},set:function(t){this.H4t=t}},{key:"j0t",get:function(){return this.Nti.j0t},set:function(t){this.Nti.j0t=t,this.Bti=!1}},{key:"B7t",get:function(){return this.Mti},set:function(t){this.Mti=t}},{key:"nrt",get:function(){return this.y4t}},{key:"A7t",get:function(){return this.Lti}},{key:"L7t",get:function(){return this.Oti},set:function(t){this.Oti=t}},{key:"S7t",get:function(){return this.Fti},set:function(t){this.Fti=t}},{key:"O7t",get:function(){return this.Hti},set:function(t){this.Hti=t}}],[{key:"r4t",get:function(){return x$.v1t}}]),i}(Z0);U(),Et();var B1=function(){function t(){this.hii=void 0}var i=t.prototype;return i.registerWebImaAdPlayerConstructor=function(t){this.hii=t},i.createAdPlayer=function(t,i,n){return O1()&&this.hii?this.hii(t,i,n):void 0},t}();function O1(){return!!Boolean(f.google&&f.google.ima)&&!(1===k.keys(f.google.ima).length&&Boolean(f.google.ima.dai))}B1.Bg=new B1;var M1=function(){function t(){}var i=t.prototype;return i.Qz=function(t){return t&&t.integration===pS.GOOGLE_IMA},i.e4t=function(t,i,n){return B1.Bg.createAdPlayer(t,i,n)},i.W6=function(t,i,n,r){n.Cti(t,i,r)},i.uj=function(t){var i=zZ(t.sources);if(i){var n={integration:pS.GOOGLE_IMA,sources:i,omidAccessModeRules:d1(t.omidAccessModeRules)},r=qZ(t.timeOffset);return void 0!==r&&(n.timeOffset=r),n}},Nt(t,[{key:"i4t",get:function(){return x1.r4t}}]),t}();kS.Bg.Kz(new M1),U(),Et(),xt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var L1=function(t){function i(){return t.call(this,"m1t")||this}return Ct(i,t),i.prototype.xa=function(){return new F1},i}(Aw),F1=function(t){function i(){return t.call(this,"adloaded")||this}return Ct(i,t),i}(rh),U1=-1,V1=function(){function t(t,i){this.y1t=void 0,this.Z5t=void 0,this.aii=void 0,this.e1t=void 0,this.Xp=void 0,this.$0t=void 0,this.lii=void 0,this.dii=void 0,this.y1t=[],this.e1t=!1,this.Z5t=t,this.Xp=0,this.$0t=i,this.lii=NaN,this.dii=!1,this.aii=new I$(this,this.$0t)}var i=t.prototype;return i.fii=function(){return this.Xp<this.y1t.length},i.Rc=function(){var t;return this.Xp<this.y1t.length&&(t=this.y1t[this.Xp],this.Xp++),t},i.vii=function(t){t.OZt=this,this.y1t.push(t)},i._ii=function(t){return Vt(function(){var i,n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:i=!1,n=Lt(this.y1t),h.label=1;case 1:if((r=n()).done)return[3,6];e=r.value,h.label=2;case 2:return h.trys.push([2,4,,5]),[4,e.Un()];case 3:return h.sent(),i=!0,[3,5];case 4:return s=h.sent(),Xn(this.y1t,e),u=e.irt.sources,o="string"==typeof u?u:u.src,t.So(A0.v4t(s,o)),[3,5];case 5:return[3,1];case 6:return this.dii=!0,[2,i]}})}).call(this)},i.s1t=function(){this.e1t=!0},i.i1t=function(){return this.e1t},i.gii=function(){return this.y1t.some(function(t){return A$(t).some(function(t){return t.iYt})})},Nt(t,[{key:"K0t",get:function(){return this.y1t}},{key:"oii",get:function(){return this.aii}},{key:"Put",get:function(){return this.Xp}},{key:"uii",get:function(){return this.Z5t}},{key:"cii",get:function(){return this.dii}},{key:"dd",get:function(){if(S(this.lii)){var t=DZ.a$t(this.Z5t,this.$0t.t.Nd());void 0===t||S(t)||(this.lii=t)}return this.lii}}]),t}(),H1=function(t){function i(i,n,r,e){var s,u;return s=t.call(this)||this,(u=s).mii=void 0,u.oa=void 0,u.Uii=void 0,u.HO=void 0,u.Aii=void 0,u.C4=void 0,u.k5t=void 0,u.bii=void 0,u.Tii=void 0,u.R6t=void 0,u.Nii=!1,u.kii=function(t){return kr(u.xii(t))},u.xii=function(t){return Vt(function(){var i,n,r,e,s,o,h;return zt(this,function(a){switch(a.label){case 0:return u.Dii(),i=t.currentTime,n=t.currentTime!==U1?u.Cii(u.C4,t.currentTime):u.Iii(t.currentTime,0,0)[0],s=u.oa.Nd()-10,(e=u.Pii(U1)&&b.ceil(i)===b.ceil(s)?u.Iii(U1,10,0).filter(function(t){return!t.cii}):u.Iii(i,10,0).filter(function(t){return!t.cii})).length?[4,ut.all(e.map(function(t){return t._ii(u.Aii)}))]:[3,2];case 1:o=a.sent(),(h=o.some(function(t){return!0===t}))&&u.So(new L1),(!h||!u.bii.Hii||e[0].dd<u.bii.Hii.dd)&&(r=e[0]),a.label=2;case 2:return n&&(n!==u.bii.Hii&&(r=n),u.Bii([n])),r?(u.bii.Sii(),u.bii.Hii=r,[4,u.bii.yii()]):[3,4];case 3:a.sent(),a.label=4;case 4:return S(u.oa.Nd())||(u.C4=t.currentTime),[2]}})})()},u.oa=i,u.k5t=n,u.Uii=new E$(u.k5t,u.oa),u.R6t=void 0,u.Nii=!1,i.Nd()!==1/0?u.HO=0:u.HO=i.Gx(),u.C4=u.HO,u.mii=[],u.Aii=r,u.bii=e,u.Tii=!1,s}Ct(i,t);var n=i.prototype;return n.wii=function(){this.bii.yii()},n.Tn=function(){this.No(),this.Aii.wn("Znt",this.bii.Sii)},n.An=function(){this.Ro(),this.Aii.mn("Znt",this.bii.Sii),this.C4=this.HO,this.bii.hr();for(var t,i=Lt(this.mii);!(t=i()).done;){t.value.s1t()}Yn(this.mii)},n.No=function(){this.Tii||(this.oa.wn(eh.py,this.kii),this.Tii=!0)},n.Ro=function(){this.Tii&&(this.oa.mn(eh.py,this.kii),this.Tii=!1)},n.Eii=function(){return this.xii(new bw(U1,void 0))},n.Pii=function(t){return this.Iii(t,0,0).length>0},n.Cii=function(t,i){for(var n,r,e=0,s=Lt(this.mii);!(r=s()).done;){var u=r.value;if(!u.i1t()){var o=u.dd;o>=t&&o<=i&&o>=e&&!S(o)&&(e=(n=u).dd)}}return n},n.Rii=function(t){return this.xii(new bw(t,void 0))},n.Dii=function(){if(!this.Nii&&void 0!==this.R6t){this.Nii=!this.mii.some(function(t){return S(t.dd)});for(var t,i=Lt(this.mii);!(t=i()).done;){var n=t.value;n.dd!==U1&&n.dd<=this.R6t&&!n.i1t()&&n.s1t()}}},n.Bii=function(t){for(var i,n=Lt(t);!(i=n()).done;){i.value.s1t()}this.k5t.Mii(t),0===this.pii&&this.Ro()},n.Iii=function(t,i,n){var r=this;return this.mii.filter(function(e){if(e.i1t())return!1;var s=e.dd;return r.Lii(s,t)||r.Oii(s,t,i,n)})},n.Lii=function(t,i){switch(i){case 0:return 0===t;case U1:return t===U1;default:return!1}},n.Oii=function(t,i,n,r){if(t<0)return!1;var e=t-i;return-1!==e&&e<=n&&e>=-r},n.Fii=function(t){if(t&&t.length>0){for(var n,r=Lt(t);!(n=r()).done;){var e=n.value,s=i.E6t(e.qOt),u=this.Igt(e);-1===u&&(this.Nii=void 0===this.R6t,this.mii.push(new V1(s,this.Uii)),u=this.mii.length-1),this.mii[u].vii(e)}this.No()}},n.Igt=function(t){var n=i.E6t(t.qOt);return Hn(this.mii,function(t){return n===i.E6t(t.uii)})},n.Vii=function(t){Xn(this.mii,t)},n.S4t=function(t){this.R6t=t,this.Nii=void 0===t},i.E6t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},Nt(i,[{key:"pii",get:function(){for(var t,i=0,n=Lt(this.mii);!(t=n()).done;){t.value.i1t()||(i+=1)}return i}},{key:"Unt",get:function(){return this.mii}}]),i}(nh);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt(),Ft();var W1,z1=function(t){function i(i,n){var r;return(r=t.call(this)||this).A2t=void 0,r.Kii=[],r.jii=[],r.nq=void 0,r.Jii=void 0,r.Zii=void 0,r.R5t=new nh,r.$ii=function(t){t.stopPropagation(),r.tei()},r.tei=function(){for(var t,i=Lt(r.Kii);!(t=i()).done;)for(var n,e=Lt(t.value.$Yt);!(n=e()).done;){var s=n.value;CJ(s.uri)}},r.A2t=v.createElement("div"),r.A2t.style.display="none",r.Jii=i,r.Zii=n,r}Ct(i,t);var n=i.prototype;return n.qii=function(){this.zii(),this.Gii(),this.nq=void 0},n.Xii=function(t){this.jii=this.jii.concat(t)},n.Qii=function(t){this.Kii=this.Kii.concat(t)},n.Gii=function(){this.jii=[]},n.zii=function(){this.Kii=[]},n.Yii=function(t){for(var i,n=Lt(this.jii);!(i=n()).done;){var r=i.value;r.oX===t&&CJ(r.eventURL)}},n.be=function(){this.Wii.style.display=""},n.we=function(){this.Wii.style.display="none"},n.kn=function(){this.Vo(),this.R5t.Vo(),Zi(this.A2t)},Nt(i,[{key:"Wii",get:function(){return this.A2t}},{key:"u4t",get:function(){return this.R5t}}]),i}(nh);function X1(t,i){var n=i;if(!function(t){return"ui"in t}(t))return n;var r,e=t.ui.language;if(Xi(e)){var s=t.ui.languages;if(!s)return n;r=s[e]}else r=e;return r&&r[i]&&(n=r[i]),n}U(),Et(),U(),Et(),Ft();var q1=((W1={})[cA.vC]=1,W1[cA._C]=2,W1[cA.gC]=2,W1);function G1(t,i){var n=i?i.map(function(t){return t.toLowerCase()}):i;return mn(t.filter(function(t){var i=t.type.toLowerCase();return!!Vi(n)&&-1!==n.indexOf(i)&&TZ(i)}),function(t,i){return q1[t.type]-q1[i.type]}).map(j1)}function j1(t){return lA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function Q1(t,i){return OM(Y1(t),Y1(i))}function Y1(t){return{Mi:t.height,Ti:t.width}}function K1(t,i,n,r){var e,s=function(t,i,n,r){var e,s=1/0,u=t.filter(function(t){return!TZ(t.type)}).filter(function(t){return void 0===r||-1!==r.indexOf(t.type)});if(u.length){for(var o,h=Lt(u);!(o=h()).done;){var a=o.value,c=(b.abs(a.width/i-1)+b.abs(a.height/n-1))/2;c<s&&(s=c,e=a)}return e||u.sort(Q1)[0]}}(t.AJt,i.width,i.height,n),u=G1(t.AJt,n);if(s){var o=j1(s);o&&u.push(o)}u.length>0&&(t.PJt=null==(e=u[0].src)?void 0:e.trim());return cE({sources:u},r)}var J1=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this,i,n)||this).Rei=void 0,h.ZS=void 0,h.k5t=void 0,h.sc=void 0,h.sei=void 0,h.rei=void 0,h.pJt=void 0,h.pei=void 0,h.eei=void 0,h.Iei=void 0,h.C4=void 0,h.Cei=void 0,h.Dei=void 0,h.x2t=void 0,h.T2t=void 0,h.hT=void 0,h.hei=void 0,h.Sei=void 0,h.kei=void 0,h.Tei=void 0,h.Aei=void 0,h.wei=void 0,h.yei=void 0,h.bei=void 0,h.vei=void 0,h.lei=void 0,h.Rei=r,h.ZS=e,h.k5t=s,h.sc=u,h.sei=o,h.eei=!1,h.Iei=0,h.C4=-1,h.hT=new hr,h.hei=!0,h.Sei=function(){h.cei()},h.kei=function(){h.hT=void 0,h.eei||(h.xei(),h.eei=!0),h.hei&&(h.hei=!1,h.k5t.wii()),h.Wii.style.display="block",h.sei.mn(Ry.PM,h.kei),h.eei=!0},h.Tei=function(){var t=h.zx,i=h.ct,n=t/i;(0===h.Iei&&n>=.25?(h.Yii(eZ.zJt),h.Iei=1):1===h.Iei&&n>=.5?(h.Yii(eZ.XJt),h.Iei=2):2===h.Iei&&n>=.75&&(h.Yii(eZ.GJt),h.Iei=3),h._ei(t,i),h.Bei(),h.C4=t,h.pJt)&&(-1!==h.pJt.kJt&&h.pJt.kJt<h.pJt.ct&&(null!=h.x2t||(h.x2t=h.dei()),h.zx<h.pJt.kJt?h.x2t.z1t(h.pJt.kJt-h.zx):h.x2t.X1t()))},h.Aei=function(){var t,i;h.hT=void 0,h.sei.mn(qm.ma,h.Aei),h.hei=!0,null==(t=h.nq)||t.bZt(mZ.gZt),h.eei=!1,h.sei.we();var n=(null==(i=h.sei.bt)?void 0:i.src)||"";h.Jii(n)},h.wei=function(){h.Rs(new bw(h.zx,void 0))},h.yei=function(){h.Rs(new vT(h.ct))},h.bei=function(){h.Rs(new _T(h.zx,h.OP))},h.vei=function(){h.k5t.jP()},h.lei=function(){h.rei&&(h.Yii(eZ.FJt),h.u4t.So(new M0(h.rei,h.zx/h.ct)),h.cei(!1))},h.Wii.className="theoplayer-ad-linear",h.Wii.style.zIndex="10",an(h.Wii),h.sei.we(),h.Cei=!1,h}Ct(i,t);var n=i.prototype;return n.QP=function(){this.sei.lP&&(this.sei.QP(),this.So(new fT(this.zx)),this.eei&&this.Yii(eZ.LJt),this.eei=!0)},n.jP=function(){this.sei.lP||(this.sei.jP(),this.So(new cT(this.zx)),this.Yii(eZ.jw))},n.KP=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return null==(t=this.hT)||t.Zg(),this.hT=void 0,this.we(),this.eei=!1,this.hei=!0,this.oei(),this.aei(),[4,this.uei()];case 1:return i.sent(),[2]}})}).call(this)},n.cei=function(t){void 0===t&&(t=!0),this.eei=!1,t&&this.Yii(eZ.jJt),this.we(),this.Zii()},n.dei=function(){var t,i=null==(t=this.k5t.Na)?void 0:t.gi,n=new G$(this.sc,i);return this.Wii.appendChild(n.xe),n.wn("uD",this.lei),n},n.fei=function(){this.pJt&&this.pJt.lJt.KYt&&(this.T2t=new H$(this.Wii),this.T2t.O1t=this.pJt.lJt.KYt,this.T2t.wn("clickstart",this.vei),this.T2t.wn("click",this.tei))},n._ei=function(t,i){for(var n,r=Lt(this.jii);!(n=r()).done;){var e=n.value;if(e.oX===eZ.Qw){var s=vZ(e.ac,i);void 0!==s&&this.C4<s&&s<=t&&CJ(e.eventURL)}}},n.gei=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.pJt&&this.pei?(t=K1(this.pJt,this.pei,this.ZS.ads.allowedMimeTypes,this.ZS)).sources.length?(this.hT=new hr,this.hei=!0,[4,_r(this.sei.Ta(t,this.hT.Yg),this.hT)]):[3,2]:[2];case 1:return i.sent(),this.sei.be(),this.pJt.SYt(),[3,4];case 2:return[4,this.sei.hr()];case 3:return i.sent(),this.Jii(""),this.pJt.SYt(),[2];case 4:return this.fei(),[2]}})}).call(this)},n.mei=function(t,i,n){return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return this.rei=t,this.pJt=t.iYt,this.sei.wn(eh.py,this.wei),this.sei.wn(eh.Cw,this.yei),this.sei.wn(eh.wy,this.bei),this.sei.wn(Cy,this.Rs),this.pJt.aYt&&0!==this.pJt.aYt.length&&this.Xii(this.pJt.aYt),this.pJt.lJt&&this.Qii(this.pJt.lJt),this.nq=i,this.pei=n,0===this.pJt.AJt.length?[3,2]:(this.sei.wn(qm.ma,this.Aei),[4,this.gei()]);case 1:r.sent(),this.sei.wn(eh.Nw,this.Sei),this.sei.wn(eh.py,this.Tei),this.sei.wn(Ry.PM,this.kei),this.sei.wn(eh.Jw,this.Rs),r.label=2;case 2:return[2]}})}).call(this)},n.G$t=function(){this.iei&&this.Eei&&this.lei()},n.xei=function(){this.Yii(eZ.tTt),this.rei&&this.u4t.So(new QB(this.rei,this.zx))},n.uei=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.sei.mn(qm.ma,this.Aei),this.sei.mn(eh.Nw,this.Sei),this.sei.mn(eh.py,this.Tei),this.sei.mn(Ry.PM,this.Rs),this.sei.mn(Ry.PM,this.kei),this.sei.mn(eh.Jw,this.Rs),this.sei.mn(eh.py,this.wei),this.sei.mn(eh.Cw,this.yei),this.sei.mn(eh.wy,this.bei),this.sei.mn(Cy,this.Rs),this.rei&&(this.rei.s1t(),this.u4t.So(new KB(this.rei,this.zx))),this.Pei(),this.qii(),this.oei(),this.aei(),this.rei=void 0,this.pJt=void 0,this.pei=void 0,[4,this.sei.hr()];case 1:return t.sent(),this.sei.we(),this.Wii.style.cursor="",this.Iei=0,this.C4=-1,this.Cei&&(this.Rei.uei(),this.Cei=!1),[2]}})}).call(this)},n.Pei=function(){this.T2t&&(this.T2t.zg(),this.T2t=void 0)},n.aei=function(){this.Dei&&(Zi(this.Dei),this.Dei=void 0)},n.oei=function(){this.x2t&&(this.x2t.kn(),this.x2t=void 0)},n.Nei=function(){this.Cei=!0},n.Bei=function(){var t;this.Dei||(this.Dei=v.createElement("div"),this.Dei.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.Wii.appendChild(this.Dei));var i=null==(t=this.rei)?void 0:t.od;if(i){var n=i.Jc.filter(N$),r=X1(this.ZS,"The content will play in")+" "+b.round(i.X0t)+" "+X1(this.ZS,"seconds");if(n.length>1){var e=n.filter(function(t){return t.i1t()}).length;r+=". "+X1(this.ZS,"Ad")+" "+(e+1)+"/"+n.length}mx(this.Dei,r)}},Nt(i,[{key:"iei",get:function(){return this.eei}},{key:"zx",get:function(){return this.sei.zx}},{key:"ct",get:function(){var t=this.sei.ct;return S(t)&&this.pJt&&(t=this.pJt.ct||0),t}},{key:"Qx",get:function(){return this.sei.Qx}},{key:"oP",get:function(){return this.sei.oP},set:function(t){this.sei.oP=t,t?this.Yii(eZ.BJt):this.Yii(eZ.MJt)}},{key:"lP",get:function(){return this.sei.lP}},{key:"AP",get:function(){return this.sei.AP}},{key:"OP",get:function(){return this.sei.OP},set:function(t){this.sei.OP=t}},{key:"DP",get:function(){return this.sei.DP}},{key:"MP",get:function(){return this.sei.MP}},{key:"nei",get:function(){return this.rei}},{key:"Eei",get:function(){return this.pJt&&-1!==this.pJt.kJt&&this.sei.zx>=this.pJt.kJt}}]),i}(z1);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),xt(),Pt();var Z1=function(t){function i(){var n;return(n=t.call(this)||this).Ls=void 0,n.Q1t=function(t){n.So(new rh("uD")),n.Mei(t)},n.Mei=function(t){t.stopPropagation()},n.Ls=i.yr(),n.j1t(),n}Ct(i,t);var n=i.prototype;return n.j1t=function(){this.xe.addEventListener("mouseup",this.Q1t),this.xe.addEventListener("touchend",this.Q1t),this.xe.addEventListener("mousedown",this.Mei)},n.G1t=function(){this.xe.removeEventListener("mouseup",this.Q1t),this.xe.removeEventListener("touchend",this.Q1t),this.xe.removeEventListener("mousedown",this.Mei)},n.kn=function(){this.G1t(),Zi(this.Ls)},i.yr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},Nt(i,[{key:"xe",get:function(){return this.Ls}}]),i}(th),$1=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n)||this).Oei=void 0,e.c1t=void 0,e.k5t=void 0,e.yu=void 0,e.Wei=void 0,e.Vei=function(){e.zei(),e.Yii(eZ.ZJt),e.Zii()},e.Uei=function(t){var i,n;e.zei(),null==(i=e.nq)||i.bZt(mZ.mZt);var r,s,u,o=null==(n=e.c1t)?void 0:n.hYt[0],h=null!=(s=null!=(r=null==o?void 0:o.lYt)?r:null==o?void 0:o.cYt)?s:null==o?void 0:o.vYt;e.Jii(null!=(u=null==h?void 0:h.cZt)?u:"")},e.qei=function(){e.we(),$i(e.Wii),e.Zii(),e.Oei=void 0,e.c1t=void 0},e.Xei=function(){e.yu||(e.Wei=void 0,e.yu=new Z1,e.Wii.children[0].appendChild(e.yu.xe),e.yu.wn("uD",e.jei))},e.jei=function(){e.Yii(eZ.FJt),e.G$t()},e.Wii.className="theoplayer-ad-nonlinear",e.Wii.style.position="absolute",e.Wii.style.width="100%",e.Wii.style.bottom="3em",e.Wii.style.zIndex="10",e.Wii.style.textAlign="center",e.k5t=r,e}Ct(i,t);var n=i.prototype;return n.qii=function(){t.prototype.qii.call(this),this.Wii&&$i(this.Wii)},n.mei=function(t,i,n){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.c1t&&this.uei(),this.Oei=t,this.c1t=t.eYt,0!==this.c1t.aYt.length&&this.Xii(this.c1t.aYt),this.nq=i,0===this.c1t.hYt.length?[3,2]:(this.Qii(this.c1t.hYt[0].gYt),this.Wii.addEventListener("error",this.Uei),this.Wii.addEventListener("load",this.Vei),[4,this.gei()]);case 1:n.sent(),this.Hei(),n.label=2;case 2:return[2]}})}).call(this)},n.G$t=function(){var t;if(void 0===this.Wei){var i=null==(t=this.c1t)?void 0:t.hYt[0];i&&i.od&&-1!==i.od.kJt&&(this.Yii(eZ.FJt),this.u4t.So(new M0(this.Oei,0)),this.qei())}},n.xei=function(){void 0!==this.Oei&&this.u4t.So(new QB(this.Oei,this.k5t.zx))},n.KP=function(){this.uei(),this.Oei=void 0,this.c1t=void 0},n.uei=function(){this.zei(),void 0!==this.Oei&&(this.Oei.s1t(),this.u4t.So(new KB(this.Oei,this.k5t.zx))),this.qii(),this.Gei(),void 0!==this.Wei&&(g(this.Wei),this.Wei=void 0)},n.zei=function(){this.Wii.removeEventListener("load",this.Vei),this.Wii.removeEventListener("error",this.Uei)},n.gei=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h;return zt(this,function(a){return(t=v.createElement("div")).className="theoplayer-ad-nonlinear-content",t.style.position="relative",t.style.display="inline-block",i=this.c1t.hYt[0],n=v.createElement("a"),i.gYt.KYt&&(n.href=i.gYt.KYt,n.target="Xu",n.setAttribute("rel","noopener")),i.lYt?(r=i.lYt,(e=v.createElement("iframe")).src=r.cZt,n.appendChild(e)):i.cYt?(s=i.cYt,(u=v.createElement("img")).src=s.cZt,n.appendChild(u)):i.vYt&&(o=i.vYt,(h=v.createElement("iframe")).src=o.cZt,n.appendChild(h)),i.SYt(),n.addEventListener("mousedown",this.$ii),n.addEventListener("touchend",this.$ii),this.Wii.firstChild&&($i(this.Wii),this.uei()),t.appendChild(n),this.Wii.appendChild(t),this.be(),[2]})}).call(this)},n.Hei=function(){var t;if(this.c1t){var i=null==(t=this.c1t.hYt[0].od)?void 0:t.kJt;void 0!==i&&-1!==i&&(this.Wei=f.setTimeout(this.Xei,1e3*i))}},n.Gei=function(){this.yu&&(this.yu.mn("uD",this.jei),this.yu.kn()),this.yu=void 0},Nt(i,[{key:"Lei",get:function(){return this.Oei}},{key:"Fei",get:function(){return this.yu}},{key:"Qei",get:function(){return this.k5t.Kei()}}]),i}(z1);U(),Et(),Wt(),Qt();var t2=function(){function t(){}return t.Yei=function(t,i,n){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:r=[],e=t.shift(),s=[],a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new CZ).CZt(e,i)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return o=a.sent(),h=A0.v4t(o,e.sources.src),n.So(h),s.push(h.Jy),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,[r,s]]}})})()},t}();U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var i2=function(t){function i(){return t.call(this,"zot")||this}return Ct(i,t),i.prototype.xa=function(){return new n2},i}(Aw),n2=function(t){function i(){return t.call(this,"statechange")||this}return Ct(i,t),i}(rh);U(),Et();var r2=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});U(),Et(),Pt(),U(),Et(),xt(),Pt(),Ft();var e2=function(){function t(){this.nc=[],this.hu=void 0}var i=t.prototype;return i.MI=function(t){return this.nc[t]},i.gO=function(t){this.nc.push(t),this.hu&&this.hu.push(t.Ca),this.Jei(t)},i.Zei=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;this.gO(r)}},i.$ei=function(t,i){i>=0&&i<=this.nc.length&&(this.nc.splice(i,0,t),this.hu&&this.hu.splice(i,0,t.Ca),this.Jei(t))},i.pO=function(t){return jn(this.nc,t)},i.pS=function(t){this.tsi(this.nc.indexOf(t))},i.tsi=function(t){if(t>=0&&t<this.nc.length){var i=this.nc[t];qn(this.nc,t),this.hu&&qn(this.hu,t),this.isi(i)}},i.jy=function(){var t=this.nc.slice();Yn(this.nc),this.hu&&Yn(this.hu);for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;this.isi(r)}},Nt(t,[{key:"ec",get:function(){return this.nc}},{key:"V",get:function(){return this.nc.length}},{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),t}(),s2=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).esi=new nh,i.Rs=function(t){i.So(t)},i}Ct(i,t);var n=i.prototype;return n.xa=function(){return function(t){var i=function(t){var i=t.ec.map(function(t){return t.Ca});return i.item=function(i){var n=0|i,r=t.MI(n);return r&&r.Ca||void 0},i}(t),n=new vR(t,i);return i.addEventListener=function(t,i){n.wn(t,i)},i.removeEventListener=function(t,i){n.mn(t,i)},i}(this)},n.wn=function(t,i){this.esi.wn(t,i)},n.lw=function(t){this.esi.lw(t)},n.Vo=function(){this.esi.Vo()},n.So=function(t){this.esi.So(t)},n.mn=function(t,i){this.esi.mn(t,i)},n.pw=function(t){this.esi.pw(t)},n.mw=function(t){this.esi.mw(t)},n.ww=function(t,i){return this.esi.ww(t,i)},i}(e2);U(),Et(),Pt();var u2=function(t){function i(i){var n;return(n=t.call(this,"addtask")||this).task=void 0,n.task=i,n}return Ct(i,t),i}(rh),o2=function(t){function i(i){var n;return(n=t.call(this,"nsi")||this).ssi=void 0,n.ssi=i,n}return Ct(i,t),i.prototype.xa=function(){return new u2(this.ssi.Ca)},i}(Aw);U(),Et(),Pt();var h2=function(t){function i(i){var n;return(n=t.call(this,"removetask")||this).task=void 0,n.task=i,n}return Ct(i,t),i}(rh),a2=function(t){function i(i){var n;return(n=t.call(this,"rsi")||this).task=void 0,n.task=i,n}return Ct(i,t),i.prototype.xa=function(){return new h2(this.task.Ca)},i}(Aw),c2=function(t){function i(){return t.call(this)||this}Ct(i,t);var n=i.prototype;return n.Jei=function(t){this.So(new o2(t))},n.isi=function(t){this.So(new a2(t))},i}(s2),f2=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).Zot="uninitialised",e.oT=new c2,e.cTt=void 0,e.dsi=void 0,e.usi=void 0,e.usi=n,e.dsi=r,e.cTt=i,e.GP(),e}Ct(i,t);var n=i.prototype;return n.GP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hsi()];case 1:return t.sent(),this.$ot("initialised"),[2]}})}).call(this)},n.hsi=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.osi()];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})}).call(this)},n.osi=function(){return Vt(function(){var t,i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return[4,this.cTt.Sxt()];case 1:t=s.sent(),i=Lt(t),s.label=2;case 2:return(n=i()).done?[3,5]:(r=n.value,e=this.usi.asi(r.id,r.sourceDescription,r.parameters,this.dsi),this.lsi(e),this.oT.gO(e),[4,e.fsi]);case 3:s.sent(),s.label=4;case 4:return[3,2];case 5:return[2]}})}).call(this)},n.$ot=function(t){this.Zot=t,this.So(new i2)},n.asi=function(t,i,n){void 0===n&&(n="persistent");var r=this.usi._si(t,i,n);return this.gsi(r,n),this.oT.gO(r),this.lsi(r),r},n.gsi=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.psi(t,i)];case 1:return r.sent(),[3,3];case 2:throw n=r.sent(),y("Unable to persist task - "+n);case 3:return[2]}})}).call(this)},n.psi=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.cTt.uTt({key:t.o,id:t.o,sourceDescription:t.Mc,parameters:t.LS},i)];case 1:return n.sent(),[2]}})}).call(this)},n.lsi=function(t){var i=this;t.wn("zot",function(){t.dk===r2.EVICTED&&i.oT.pS(t)})},Nt(i,[{key:"dk",get:function(){return this.Zot}},{key:"vsi",get:function(){return this.oT}}]),i}(th);U(),Et(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),U(),Et(),xt();var v2=function(){function t(t,i,n){if(this.ysi=void 0,this._O=void 0,this.msi=void 0,this.Tsi=void 0,this.ysi=t,this._O=i,this.msi=n,0===this._O.size)this.Tsi=EA.rL();else{var r=new EA([-1/0,1/0]);this._O.forEach(function(t){r=r.Mn(t.timeRanges)}),this.Tsi=r}}return t.prototype.QO=function(t){return!!Fw(this._O,t._O)&&(!!Cn(this.ysi,t.ysi)&&(!!Cn(this.eL,t.eL)&&(!!Cn(this.bsi,t.bsi)&&this.Asi.KM(t.Asi))))},Nt(t,[{key:"eL",get:function(){return this.msi}},{key:"wsi",get:function(){return this.ysi}},{key:"bsi",get:function(){return this.Asi.eL}},{key:"Ssi",get:function(){var t=0,i=0;return this._O.forEach(function(n){t+=n.timeRanges.eL,i+=n.totalQualityDurationToCache}),0===i?0:b.min(1,t/i)}},{key:"Asi",get:function(){return this.Tsi}}]),t}();v2.QUALITY_TIME_RANGES_NULL_OBJECT=Ju(),v2.CACHE_PROGRESSION_NULL_OBJECT=new v2(0,v2.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),v2.ksi=v2.CACHE_PROGRESSION_NULL_OBJECT,U(),Et(),U(),Et(),Wt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt();var d2=function(t){function i(){return t.call(this,"progress")||this}return Ct(i,t),i}(rh),l2=function(t){function i(){return t.call(this,"Q4t")||this}return Ct(i,t),i.prototype.xa=function(){return new d2},i}(Aw);U(),Et(),U(),Et(),xt(),Pt();var w2=function(t){function i(i,n){return t.call(this,i,n)||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return"Esi"}}]),i}(cr);U(),Et(),Wt(),Qt(),U(),Et(),Wt(),Ft(),Qt(),U(),Et();var g2=function(t){return t[t.vC=0]="vC",t[t._C=1]="_C",t}({});function _2(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:for(r=[],e=Lt(t.Amt);!(s=e()).done;)u=s.value,r.push(m2(u,i,n));return[4,ut.all(r)];case 1:return o=h.sent(),[2,{ct:t.dyt.Qmt(),Psi:[t.ySt],Amt:o}]}})})()}function m2(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:for(r=[],e=Lt(t.dmt);!(s=e()).done;)u=s.value,r.push(y2(u,i,n));return[4,ut.all(r)];case 1:return[2,{qmt:o.sent()}]}})})()}function y2(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:for(r=[],e=Lt(t.jlt);!(s=e()).done;)p2(u=s.value)||r.push(A2(u,i,n));return[4,ut.all(r)];case 1:return[2,{Z:o.sent(),Km:t.Km}]}})})()}function p2(t){return t.xat.every(b2)}var k2=1;function b2(t){return t.Awt!==k2&&Boolean(t.Awt)}function A2(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:for(r=[],e=Lt(t.xat);!(s=e()).done;)b2(u=s.value)||r.push(T2(u,n));return[4,ut.all(r)];case 1:return o=v.sent(),h=t.Rrt[0],a=t.NW,c=a?function(t,i){for(var n,r=[],e=function(t){return t?Lo(t,"avc")?Cv:Lo(t,"hev")||Lo(t,"hvc")||Lo(t,"hvt")||Lo(t,"lhv")||Lo(t,"lhe")||Lo(t,"lht")?Pv:Lo(t,"mp4")?Dv:Lo(t,"mpeg2")?xv:Lo(t,"mpeg")?Nv:Ov:Ov}(t),s=Lt(i);!(n=s()).done;){var u=n.value,o=u.x8.split(":").pop(),h=u.P8;r.push({mimeType:e,uuid:o,data:h})}var a=g2.vC,c=uo;return{type:a,schemeType:c,schemeDatas:r}}(h,a):void 0,f=KH(t,i,!0),[2,{$I:o,bs:t.Tit,Km:t.Km,fq:c,Wpt:f}]}})})()}function T2(t,i){return Vt(function(){var n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:n={stack:[],error:void 0,hasError:!1},a.label=1;case 1:return a.trys.push([1,3,4,5]),r=qt(n,new hr,!1),[4,S2(t,i,r.Yg)];case 2:switch(e=a.sent(),s={o:I2(t),AM:e,IW:t.IW,Bp:t.Bp,Mi:t.Mi,Km:t.Km,Ti:t.Ti},t.Km){case eg.LT:break;case eg.Mk:s.Olt=null!=(o=null==(u=t.Olt)?void 0:u.rF())?o:NaN;break;case eg.Bk:s.audioSamplingRate=t.mwt}return[2,s];case 3:return h=a.sent(),n.error=h,n.hasError=!0,[3,5];case 4:return Gt(n),[7];case 5:return[2]}})})()}function S2(t,i,n){return Vt(function(){var r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:r=[],e=t.mht,t.Ydt&&r.push({CO:0,ct:0,xsi:t.Ydt}),s=e.jyt(),u=s,c.label=1;case 1:return u?t.qct(u)?[4,t.Gct(u,i,n)]:[3,3]:[3,5];case 2:for(o=c.sent(),h=0;h<o.V;h++)r.push(E2(o.jct(h),t));return[3,4];case 3:r.push(E2(u,t)),c.label=4;case 4:return u=e.Kct(u),[3,1];case 5:return a=e.Jyt(),[2,{ct:a.RO-s.CO,bct:r}]}})})()}function E2(t,i){return{CO:t.CO,ct:t.ct,xsi:i.Zct(t)}}function I2(t){return t.Oct.Tn+"-"+(""+t.o)}function R2(t,i){var n=function(t){var i=function(t){for(var i,n=Ju(),r=Lt(t);!(i=r()).done;){var e=i.value,s=n.get(e.oLt);s||(s={Km:e.Km,$D:[]},n.set(e.oLt,s)),s.$D.push(e)}return n}(t),n=Zu();return i.forEach(function(t){for(var i,r=Lt(t.$D);!(i=r()).done;){var e=i.value,s=n.get(t.Km);s||(s=Ju(),n.set(t.Km,s));var u=s.get(e.l);u||(u=[],s.set(e.l,u)),u.push(e)}}),n}(t);return function(t,i){var n=Zu();return t.forEach(function(t,r){var e=Ju();t.forEach(function(t,n){for(var s,u=[],o=Lt(t);!(s=o()).done;){var h=C2(s.value,r,i);u.push(h)}e.set(n,u)}),n.set(r,e)}),n}(n,i)}function C2(t,i,n){for(var r,e=t.oLt,s={fLt:t,_Vt:[]},u=Lt(n);!(r=u()).done;){var o=r.value;jQ(i,e,o)&&s._Vt.push(o)}return s}function P2(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,i.KSt([t],{})];case 1:return[2,_Q((n=r.sent()).wk,{},n.JSt)]}})})()}function D2(t,i){return Vt(function(){return zt(this,function(n){return Cj(t)?[2,N2(t,i)]:[2,H2(t)]})})()}function N2(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return[4,O2(R2(t.$D,t.XOt),i)];case 1:return n=e.sent(),[4,B2(t.XOt,i)];case 2:return r=e.sent(),n.push(r),[2,{ct:x2(n),Psi:[t.Syt],Amt:[{qmt:n}]}]}})})()}function x2(t){for(var i,n=-1/0,r=Lt(t);!(i=r()).done;)for(var e,s=Lt(i.value.Z);!(e=s()).done;){var u,o=e.value;n=(u=b).max.apply(u,[].concat([n],o.$I.map(function(t){return t.AM.ct})))}return n}function B2(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:n=[],r=Lt(t),f.label=1;case 1:return(e=r()).done?[3,4]:[4,V2((s=e.value).Syt,i)];case 2:(h=f.sent()).IW=s.IW,h.Bp=s.Rrt?function(t){return[t.q9,t.W9,t.fOt].filter(Li).join(",")}(s.Rrt):"",h.Mi=null!=(a=null==(u=s.RRt)?void 0:u.Mi)?a:0,h.Ti=null!=(c=null==(o=s.RRt)?void 0:o.Ti)?c:0,n.push(h),f.label=3;case 3:return[3,1];case 4:return[2,{Km:eg.yk,Z:[{bs:PL,Km:eg.yk,$I:n}]}]}})})()}function O2(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:n=[],r=t.entries(),e=r.next(),h.label=1;case 1:return e.done?[3,4]:(s=e.value,u=s[0],[4,M2(s[1],u,i)]);case 2:o=h.sent(),n.push(o),h.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,n]}})})()}function M2(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:r=[],e=t.entries(),s=e.next(),h.label=1;case 1:return s.done?[3,4]:(u=s.value,[4,L2(u[1],n)]);case 2:o=h.sent(),r.push(o),h.label=3;case 3:return s=e.next(),[3,1];case 4:return[2,{Km:F2(i),Z:r}]}})})()}function L2(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:n=[],r=t[0].fLt,e=Lt(t),o.label=1;case 1:return(s=e()).done?[3,4]:[4,U2(s.value,i)];case 2:u=o.sent(),n.push(u),o.label=3;case 3:return[3,1];case 4:return[2,{bs:r.bs||PL,Km:F2(r.Km),$I:n}]}})})()}function F2(t){switch(t){case Dj.Bk:return eg.Bk;case Dj.Mk:return eg.Mk;case Dj.HU:case Dj.YLt:return eg.LT;default:return eg.yk}}function U2(t,i){var n=function(t){var i=t.fLt.Syt,n=t._Vt.map(function(t){return t.Syt});return i||(n.length?n[0]:void 0)}(t);return V2(n,i)}function V2(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return n={ct:0,bct:[]},t?[4,P2(t,i)]:[3,2];case 1:Pj(r=e.sent())&&(n=W2(r)),e.label=2;case 2:return[2,{o:t||"default",Isi:t,AM:n,IW:0,Bp:"",Mi:0,Km:eg.yk,Ti:0}]}})})()}function H2(t){var i=W2(t);return{ct:i.ct,Psi:[t.Syt],Amt:[{qmt:[{Km:eg.yk,Z:[{Km:eg.yk,bs:PL,$I:[{o:t.Syt,AM:i,IW:0,Bp:"",Mi:0,Km:eg.yk,Ti:0}]}]}]}]}}function W2(t){for(var i,n,r=[],e=0,s=Lt(t.bct);!(n=s()).done;){var u=n.value,o=e;!u.YOt||void 0!==i&&Lj(u.YOt.Syt,i)||(r.push(z2(u.YOt,o)),i=u.YOt.Syt),r.push(X2(u,o)),e+=u.ct}return{ct:e,bct:r}}function z2(t,i){return{CO:i,ct:0,xsi:q2(t.Syt)}}function X2(t,i){return{CO:i,ct:t.ct,xsi:q2(t.Syt)}}function q2(t){return{Yu:t.XE,Wat:t.iAt?[t.iAt.Tn,t.iAt.Tn+t.iAt.V]:void 0,Xk:!1}}U(),Et(),Wt(),Ft(),Qt(),U(),Et(),Ft();var G2=function(){function t(t,i,n){this.YSt=void 0,this.Jct=void 0,this.Nsi=void 0,this.YSt=t,this.Jct=i,this.Nsi=n}var i=t.prototype;return i.Csi=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:if(!t.src)throw new y("Invalid typed source");return GA(i=t.type)?[4,this.Rsi(t)]:[3,2];case 1:case 3:return[2,n.sent()];case 2:return qA(i)?[4,this.Dsi(t)]:[3,4];case 4:throw new y("Unexpected source type");case 5:return[2]}})}).call(this)},i.Rsi=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,P2(t.src,this.YSt)];case 1:return[4,D2(i.sent(),this.YSt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new y("Unable to fetch HLS manifest");case 4:return[2]}})}).call(this)},i.Dsi=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,(i=new dH({rC:Ui.Dh(t.src),ISt:t.liveOffset,BSt:t.timeServer,Xk:t.useCredentials},this.Nsi,Sl.Zk,this.YSt,t.dash)).W];case 1:return n.sent(),[4,_2(i.Br.jdt,t.contentProtection,this.Jct)];case 2:return[2,n.sent()];case 3:throw n.sent(),new y("Unable to fetch DASH manifest");case 4:return[2]}})}).call(this)},t}();U(),Et(),Wt(),Qt();var j2=function(){function t(t){this.Usi=void 0,this.Msi=[],this.Fsi=0,this.Usi=t}var i=t.prototype;return i.Bsi=function(){var t=new Va;return this.Msi.push(t),this.Lsi(),t.Yy},i.Osi=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,,2,3]),[4,t];case 1:return n.sent(),[3,3];case 2:return this.Fsi-=1,this.Lsi(),0===this.Msi.length&&0===this.Fsi&&i.Qy(!0),[7];case 3:return[2]}})}).call(this)},i.Lsi=function(){this.Msi.length>0&&this.Fsi<this.Usi&&(this.Msi.shift().Qy(),this.Fsi+=1)},t}();var Q2=function(t){function i(i,n,r,e,s,u,o,h){var a;(a=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,a.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,a.dTt=void 0,a.Dxt=void 0,a.dsi=void 0,a.URt=void 0,a.$si=void 0,a.ini=new Va,a.Vsi=void 0,a.Qsi=void 0,a.YSt=void 0,a.$ut=void 0,a.Jct=void 0,a.Nsi=void 0,a.ko=void 0,a.msi=void 0,a.Hsi=void 0,a.zsi=v2.ksi,a.dTt=i,a.Dxt=n,a.YSt=r,a.Qsi=e,a.$ut=s,a.Jct=u,a.Nsi=h,a.dsi=o,a.Hsi=-1;var c=a.dTt.Mc.sources[0];return a.Vsi=c,a.ko=a.GP(),a.$si=new j2(a.dTt.LS.parallelTasksThreshold),a}Ct(i,t);var n=i.prototype;return n.GP=function(){return Vt(function(){var t,i,n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,p,k,A,S,E,I,R,C,P,D,N,x,B;return zt(this,function(O){switch(O.label){case 0:return t=this,i=new G2(this.YSt,this.Jct,this.Nsi),n=this,[4,i.Csi(this.Vsi)];case 1:return n.URt=O.sent(),r=this.dTt.LS.amount,e=this.URt.ct,s=function(t,i){if(Xi(t)){if(Lo(t,"%"))return T(t)/100*i;throw new y("Unexpected - Invalid string supplied as amount to cache.")}return i<t?i:t}(r,e),this.msi=s,o=PH(this.URt.Psi[0]),[4,this.Dxt.Nxt.kxt(o,"manifestURL")];case 2:for(h=O.sent().filter(function(i){return jn(i.references,t.dTt.o)}),a=[],c=this.dTt.LS.bandwidth,f=Lt(this.URt.Amt);!(v=f()).done;)for(d=v.value,l=Lt(d.qmt);!(w=l()).done;)for(g=w.value,_=Lt(K2(g,this.dTt.LS.preferredTrackSelection));!(m=_()).done;)for(p=m.value,k=Lt(Z2(p.$I,c));!(A=k()).done;)S=A.value,a.push(S);if(this.Hsi=b.ceil(a.map(function(t){return t.IW*function(t,i){for(var n,r=0,e=Lt(t.AM.bct.map(function(t){return t.ct}));!(n=e()).done;)if((r+=n.value)>=i)return r;return r}(t,s)/8}).reduce(function(t,i){return t+i},0)),E=Ju(),h&&0!==h.length){for(R=function(){var t=D.value,i=t.qualityId,n=new EA(t.startsAndEnds);if(E.has(i))E.get(i).timeRanges=E.get(i).timeRanges.HM(n).VM(5e-4);else{var r,e=Fn(a,function(t){return t.o===i}),s=b.min(I.msi,null!=(r=null==e?void 0:e.AM.ct)?r:1/0);E.set(i,{timeRanges:n,totalQualityDurationToCache:s})}},C=h.reduce(function(t,i){return t+i.byteSize},0),P=Lt(h);!(D=P()).done;)I=this,R();u=new v2(C,E,this.msi)}else{for(N=Lt(a);!(x=N()).done;)B=x.value,E.set(B.o,{timeRanges:EA.rL(),totalQualityDurationToCache:b.min(B.AM.ct,this.msi)});u=new v2(0,E,this.msi)}return this.Wsi=u,[2]}})}).call(this)},n.mi=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.ko];case 1:return i.sent(),[4,this.Gsi(this.URt,t)];case 2:return i.sent(),[2]}})}).call(this)},n.Gsi=function(t,i){return Vt(function(){var n,r,e,s;return zt(this,function(u){switch(u.label){case 0:if(!t.Psi)throw new y("Unexpected - manifest is missing locations");return[4,this.Xsi()];case 1:for(u.sent(),n=[],r=Lt(t.Amt);!(e=r()).done;)s=e.value,n.push(this.jsi(s,t.Psi[0],i));return[2,br(n)]}})}).call(this)},n.Xsi=function(){return Vt(function(){var t,i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return[4,this.Qsi.Sxt()];case 1:t=u.sent(),i=Lt(t),u.label=2;case 2:return(n=i()).done?[3,9]:(r=n.value,[4,this.Dxt.Bxt.zy(r.key)]);case 3:return(e=u.sent())?[4,Y2(e,this.dTt.o,this.Dxt.Bxt,this.dsi)]:[3,5];case 4:return u.sent(),[3,8];case 5:return u.trys.push([5,7,,8]),[4,this.Dxt.Bxt.uTt(r,this.dsi)];case 6:return u.sent(),[3,8];case 7:throw s=u.sent(),new w2("Unable to store manifest with url: "+r.locationURL,s);case 8:return[3,2];case 9:return[4,this.Qsi.xxt()];case 10:return u.sent(),[2]}})}).call(this)},n.jsi=function(t,i,n){for(var r,e=[],s=Lt(t.qmt);!(r=s()).done;)for(var u,o=Lt(K2(r.value,this.dTt.LS.preferredTrackSelection));!(u=o()).done;){var h=u.value;e.push(this.Ksi(h,i,n))}return br(e)},n.Ksi=function(t,i,n){return Vt(function(){var r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:return r=this.dTt.LS.bandwidth,e=Z2(t.$I,r),t.Km===eg.Mk&&t.Wpt&&t.Wpt.lH.widevine&&"persistent"===t.Wpt.lH.widevine.licenseType?[4,this.Ysi(t.Wpt)]:[3,2];case 1:a.sent(),dr(n),a.label=2;case 2:for(s=[],u=Lt(e);!(o=u()).done;)h=o.value,s.push(this.Jsi(h,i,n));return[2,br(s)]}})}).call(this)},n.Jsi=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:dr(n),r=t.AM.bct[0].CO,e=r+this.msi,s=[],u=!1,o=Lt(t.AM.bct),c.label=1;case 1:return(h=o()).done||((a=h.value).CO>=e||this.stopIfFailed(u))?[3,5]:[4,this.Zsi(n)];case 2:return c.sent(),[4,this.$si.Bsi()];case 3:c.sent(),s.push(this.$si.Osi(this.tni(a,t,i),this.ini).catch(function(t){return u=!0,ut.reject(t)})),c.label=4;case 4:return[3,1];case 5:return[2,br(s)]}})}).call(this)},n.Zsi=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return(null==t?void 0:t.Hg)?[4,this.ini.Yy]:[3,2];case 1:throw i.sent(),new fr;case 2:return[2]}})}).call(this)},n.eni=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.ko.catch(dn)];case 1:return t.sent(),[2,this.URt]}})}).call(this)},n.Ysi=function(t){return ut.resolve()},n.sni=function(){return Ui.um("License renewal unsupported in this SDK."),ut.resolve()},n.tni=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:return r=this,e=this.Dxt.Nxt,s=DH(t.xsi.Yu,t.xsi.Wat),[4,e.zy(s)];case 1:return(u=v.sent())?[4,Y2(u,this.dTt.o,e,this.dsi)]:[3,3];case 2:return v.sent(),this.nni(u,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,this.rni(t.xsi)];case 4:return o=v.sent(),h=this.hni(t,i,n,o),a=h.segmentMetadataEntry,c=h.segmentEntry,[4,this.Dxt.Rxt(function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.Nxt.uTt(a,this.dsi)];case 1:return i.sent(),[4,t.bct.uTt(c,this.dsi)];case 2:return i.sent(),[2]}})}).call(r)})];case 5:return v.sent(),this.nni(a,!0),[3,7];case 6:throw f=v.sent(),new w2("Unable to store segment with url: "+t.xsi.Yu,f);case 7:return[2]}})}).call(this)},n.rni=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.$ut.Lat(t,{zat:this.DEFAULT_CACHING_SEGMENT_TIMEOUT,qk:this.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=n.sent(),[4,this.tct(i)];case 2:return[2,n.sent()]}})}).call(this)},n.tct=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.qT()];case 1:return[2,{buffer:i.sent()}]}})})()},n.hni=function(t,i,n,r){var e=DH(t.xsi.Yu,t.xsi.Wat),s=t.CO,u=t.ct,o=this.oni(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:PH(n),qualityId:i.o,byteSize:o,startsAndEnds:new EA([s,s+u]).IM,references:[this.dTt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:PH(n),data:r,references:[this.dTt.o]}}},n.oni=function(t){return t.buffer.byteLength},n.nni=function(t,i){var n=t.qualityId,r=this.zsi,e=r._O;e.get(n).timeRanges=e.get(n).timeRanges.HM(new EA(t.startsAndEnds)).VM(5e-4),this.Wsi=new v2(i?r.wsi+t.byteSize:r.wsi,e,this.msi)},n.stopIfFailed=function(t){return!1},Nt(i,[{key:"fsi",get:function(){return this.GP()}},{key:"qsi",get:function(){return this.Hsi}},{key:"Wsi",get:function(){return this.zsi},set:function(t){this.zsi.QO(t)||(this.zsi=t,t.QO(v2.ksi)||this.So(new l2))}}]),i}(th);function Y2(t,i,n,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return jn(t.references,i)?[3,2]:(t.references.push(i),[4,n.uTt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})()}function K2(t,i){switch(t.Km){case eg.Bk:return J2(t.Z,i.audioTrackSelection);case eg.LT:return J2(t.Z,i.textTrackSelection);default:return J2(t.Z,[])}}function J2(t,i){if(0===i.length)return t.length?[t[0]]:[];for(var n,r=[],e=Lt(t);!(n=e()).done;){var s=n.value;i.indexOf(s.bs)>-1&&r.push(s)}return r}function Z2(t,i){if(!t.length)return[];var n=[].concat(t).sort(MM),r=n.filter(function(t){return t.IW<=i});return r.length>0?[r.pop()]:[n.shift()]}var $2=function(){function t(t,i,n){this.dTt=void 0,this.Dxt=void 0,this.URt=void 0,this.dTt=t,this.Dxt=i,this.URt=n}var i=t.prototype;return i.ani=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=this,[4,this.Dxt.Rxt(function(i){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.uni(i)];case 1:return t.sent(),[4,this.cni(i)];case 2:return t.sent(),[4,this.dni(i)];case 3:return t.sent(),[4,this.lni(i)];case 4:return t.sent(),[2]}})}).call(t)})];case 1:return i.sent(),[2]}})}).call(this)},i.uni=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return i=t.Mxt,n=this.dTt.o,[4,i.pS(n)];case 1:return r.sent(),[2]}})}).call(this)},i.cni=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:return i=this,n=t.Nxt,r=t.bct,$A(e=this.dTt.Mc.sources[0])?(s=PH(e.src),[4,n.kxt(s,"manifestURL")]):[2];case 1:u=c.sent().filter(function(t){return jn(t.references,i.dTt.o)}),o=Lt(u),c.label=2;case 2:return(h=o()).done?[3,8]:(Xn((a=h.value).references,this.dTt.o),0!==a.references.length?[3,5]:[4,n.pS(a.key)]);case 3:return c.sent(),[4,r.pS(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,n.uTt(a)];case 6:c.sent(),c.label=7;case 7:return[3,2];case 8:return[2]}})}).call(this)},i.dni=function(t){return Vt(function(){var i,n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return i=this,n=t.Bxt,r=this.fni(),[4,n._xt(r)];case 1:e=h.sent().filter(function(t){return jn(t.references,i.dTt.o)}),s=Lt(e),h.label=2;case 2:return(u=s()).done?[3,7]:(Xn((o=u.value).references,this.dTt.o),0!==o.references.length?[3,4]:[4,n.pS(o.key)]);case 3:return h.sent(),[3,6];case 4:return[4,n.uTt(o)];case 5:h.sent(),h.label=6;case 6:return[3,2];case 7:return[2]}})}).call(this)},i.fni=function(){if(!this.URt)return[];var t=this.dTt.Mc.sources[0];if(!$A(t))return[];var i=PH(t.src),n=function(t){if(!t)return[];for(var i,n=[],r=Lt(t.Amt);!(i=r()).done;)for(var e,s=Lt(i.value.qmt);!(e=s()).done;)for(var u,o=Lt(e.value.Z);!(u=o()).done;)for(var h,a=Lt(u.value.$I);!(h=a()).done;){var c=h.value;c.Isi&&n.push(c.Isi)}return function(t){return t.reduce(function(t,i){return t.indexOf(i)<0&&t.push(i),t},[])}(n)}(this.URt).map(function(t){return{src:t}}).map(function(t){return PH(t.src)});return[].concat([i],n)},i.lni=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=this,[4,(n=t.Lxt).Sxt()];case 1:r=o.sent().filter(function(t){return jn(t.references,i.dTt.o)}),e=Lt(r),o.label=2;case 2:return(s=e()).done?[3,7]:(Xn((u=s.value).references,this.dTt.o),0!==u.references.length?[3,4]:[4,n.pS(u.key)]);case 3:return o.sent(),this.vni(u),[3,6];case 4:return[4,n.uTt(u)];case 5:o.sent(),o.label=6;case 6:return[3,2];case 7:return[2]}})}).call(this)},i.vni=function(t){},t}(),t3=function(){function t(){}return t.prototype.jet=function(t,i,n){return new $2(t,i,n)},t}(),i3=new t3;U(),Et(),Wt(),xt(),Qt(),U(),Et();var n3=function(){function t(t,i){this.wE=void 0,this.pni=void 0,this.hu=void 0,this.wE=t,this.pni=i}var i=t.prototype;return i._ni=function(t){this.gni(t)},i.gni=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.pni.sni(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),this.wE.$ot(r2.ERROR),[3,3];case 3:return[2]}})}).call(this)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{renew:function(i){t._ni(i)}}}(this)),this.hu}}]),t}(),r3=function(t){function i(i,n,r,e,s,u){var o;(o=t.call(this)||this).aS=void 0,o.Zot=void 0,o.hu=void 0,o.Ac=void 0,o.Tni=void 0,o.Dxt=void 0,o.pni=void 0,o.Eni=new hr,o.Sni=void 0,o.evictOnLoading=function(){o.mn("zot",o.evictOnLoading),o.xni()},o.aS=i,o.Ac=n,o.Tni=r,o.Dxt=e,o.pni=s.jet(o,o.Dxt,u),o.Sni=new n3(o,o.pni),o.Zot=1===o.pni.Wsi.Ssi?r2.DONE:r2.IDLE,o.pni.wn("Q4t",function(t){o.Rs(t),1===o.yni&&o.$ot(r2.DONE)});var h=new Date,a=o.Tni.expirationDate.getTime()-h.getTime();return function(t){return t<2147483647}(a)&&w(function(){return o.xni()},a),o}Ct(i,t);var n=i.prototype;return n.$ot=function(t){this.Zot!==t&&(this.Zot=t,this.So(new i2))},n.Tn=function(){this.Zot===r2.EVICTED||this.Zot===r2.DONE||this.kni()},n.kni=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),this.$ot(r2.LOADING),t=new hr,this.Eni=t,[4,this.pni.mi(t.Yg)];case 1:return i.sent(),this.$ot(r2.DONE),[3,4];case 2:return vr(i.sent())?this.$ot(r2.IDLE):this.$ot(r2.ERROR),[3,4];case 3:return this.Eni.zg(),[7];case 4:return[2]}})}).call(this)},n.jP=function(){this.Eni.Zg()},n.pS=function(){this.dk===r2.LOADING?(this.wn("zot",this.evictOnLoading),this.jP()):this.xni()},n.xni=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.pni.eni()];case 1:return t=i.sent(),[4,i3.jet(this,this.Dxt,t).ani()];case 2:return i.sent(),this.pni.Wsi=v2.ksi,this.$ot(r2.EVICTED),[3,4];case 3:return i.sent(),this.$ot(r2.ERROR),[3,4];case 4:return[2]}})}).call(this)},Nt(i,[{key:"fsi",get:function(){return this.pni.fsi}},{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i,n={get id(){return t.o},get status(){return t.dk},get source(){return t.Mc},get parameters(){return t.LS},get duration(){return t.ct},get cached(){return t.mni._s()},get secondsCached(){return t.wni},get percentageCached(){return t.yni},get bytes(){return t.bni},get bytesCached(){return t.Ani},get license(){return t.pQ.Ca},start:function(){t.Tn()},pause:function(){t.jP()},remove:function(){t.pS()},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new fR(t,["Q4t","zot"],n),n}(this)),this.hu}},{key:"o",get:function(){return this.aS}},{key:"pQ",get:function(){return this.Sni}},{key:"dk",get:function(){return this.Zot}},{key:"Mc",get:function(){return this.Ac}},{key:"LS",get:function(){return this.Tni}},{key:"ct",get:function(){return this.pni.Wsi.eL}},{key:"mni",get:function(){return this.pni.Wsi.Asi}},{key:"wni",get:function(){return this.pni.Wsi.bsi}},{key:"yni",get:function(){return this.pni.Wsi.Ssi}},{key:"bni",get:function(){return this.pni.qsi}},{key:"Ani",get:function(){return this.pni.Wsi.wsi}}]),i}(nh);var e3=function(){function t(t,i){this.Dxt=void 0,this.Pni=void 0,this.Dxt=t,this.Pni=i}var i=t.prototype;return i._si=function(t,i,n){var r=GE();return this.asi(r,t,i,n)},i.asi=function(t,i,n,r){return new r3(t,i,n,this.Dxt,this.Pni,r)},t}();U(),Et();function s3(t){if(!t)throw new y("Unexpected - The cache parameters are undefined");var i=function(t){if(Xi(t)&&!Lo(t,"%"))return A(t);return t}(t.amount);!function(t){if(function(t){return Xi(t)&&Lo(t,"%")}(t)){var i=T(t);if(S(i)||i<0||i>100)throw new y("The amount as percentage must be between 0 and 100 percent.")}if(!Xi(t)&&S(t))throw new y("The amount must be a number or a string")}(i);var n=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+30),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ji(t)&&t>new Date}(t))throw new y("Invalid expiration date for the cache parameters")}(n);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(S(t)||t<0)throw new y("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return 5;if(S(t))throw new y("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:i,expirationDate:n,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var u3=function(){function t(t,i,n,r){var e=this;this.Dxt=void 0,this.pni=void 0,this.Ini=void 0,this.GJ=void 0,this.Nni=[],this.Cni=0,this.Rni=0,this.Dni=void 0,this.hT=void 0,this.aV=void 0,this.Pni=void 0,this.Mz=void 0,this.yii=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return(t=this.o8t())?[4,this.tXt(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})}).call(e)},this.Sii=function(){var t=e.Nni.shift();null==t||t.pS()},this.Mni=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:n=!1,r.label=1;case 1:return n?[3,3]:[4,t.ww("Q4t")];case 2:return r.sent(),n=1===t.Wsi.Ssi,[3,1];case 3:return i.ct<5&&this.yii(),[2]}})}).call(e)},this.GJ=t,this.aV=i,this.hT=new hr,this.Pni=n,this.Mz=r,this.Dxt=new CW}var i=t.prototype;return i.o8t=function(){if(this.Ini)for(var t=this.Ini.K0t;this.Cni<t.length;){var i=t[this.Cni];for(void 0===this.Dni&&(this.Dni=A$(i),this.Rni=0);this.Rni<this.Dni.length;){var n=this.Dni[this.Rni];if(this.Rni++,void 0!==n.iYt)return n.iYt}this.Cni++,this.Dni=void 0}},i.hr=function(){for(this.Hii=void 0,this.hT.Zg(),this.hT=new hr;this.Nni.length;)this.Sii()},i.Bni=function(t){return new f2(this.Dxt.Mxt,t,"temporary")},i.tXt=function(t){return Vt(function(){var i,n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return(i=G1(t.AJt,this.GJ.ads.allowedMimeTypes)).length?[4,jT.Bg.gz(i,cE({sources:i}))]:[2];case 1:return(n=h.sent()).t.$q()?(this.pni||(this.pni=new this.Pni(this.aV)),r=this.Dxt,e=new e3(r,this.pni),s=this.Bni(e),u=s.asi(cE({sources:n.Mc}),s3({amount:10,bandwidth:bb.Bg.pW()||this.Mz.jY}),"temporary"),this.Nni.push(u),o=this.pni.jet(u,r,"temporary"),this.hT.Zg(),this.hT=new hr,_r(o.mi(this.hT.Yg),this.hT).then(dn),this.Mni(o,t),[2]):[2]}})}).call(this)},Nt(t,[{key:"Hii",get:function(){return this.Ini},set:function(t){this.Ini=t,this.Cni=0,this.Rni=0,this.Dni=void 0}}]),t}();U(),Et(),Pt(),U(),Et(),Wt(),Pt(),Qt();var o3={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new EA([0,0]).IM,references:[]},h3={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},a3=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i)||this).Lni=void 0,u.Fni=void 0,u.Dxt=void 0,u.dsi=void 0,u.Lni=new zM(n),u.Dxt=r,u.Fni=e,u.dsi=s,u}Ct(i,t);var n=i.prototype;return n.gdt=function(i,n,r,e){var s=this;return Vt(function(){var u;return zt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.gdt.call(s,i,n,r,e)];case 1:return[2,o.sent()];case 2:return lr(o.sent()),[3,3];case 3:return[4,this.Lni.gdt(i,n,r,e)];case 4:return u=o.sent(),[4,this.Oni(i,n,u)];case 5:return o.sent(),[2,u]}})}).call(this)},n.Oni=function(t,n,r){return Vt(function(){var e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:return e=this,void 0===this.Fni?[2]:(s=this.Dxt.Nxt,u=DH(t,n),[4,s.zy(u)]);case 1:return(o=d.sent())?[4,Y2(o,this.Fni,s,this.dsi)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),h={buffer:r},a=i.hni(u,h,this.Fni),c=a.segmentMetadataEntry,f=a.segmentEntry,[4,this.Dxt.Rxt(function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,t.Nxt.uTt(c,this.dsi)];case 1:return i.sent(),[4,t.bct.uTt(f,this.dsi)];case 2:return i.sent(),[2]}})}).call(e)})];case 5:throw v=d.sent(),new w2("Unable to store segment with url: "+t,v);case 6:return[2]}})}).call(this)},i.hni=function(t,i,n){return{segmentMetadataEntry:Yu({},o3,{key:t,segmentURLsegmentByteRange:t,references:[n]}),segmentEntry:Yu({},h3,{key:t,segmentURLsegmentByteRange:t,data:i,references:[n]})}},i}(XM);var c3=function(){function t(t,i){void 0===i&&(i=gO()),this.aV=void 0,this.Nsi=void 0,this.aV=t,this.Nsi=i}return t.prototype.jet=function(t,i,n){void 0===n&&(n="persistent");var r=t.Mc.sources[0];if(YA(r))throw new y("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),s=new KO(this.aV,kl.yk),u=new CH(this.aV,e),o=new yW(i.Bxt,i.Nxt,i.bct,i.Lxt),h=function(t,i,n,r,e){return new a3(i,t,n,r,e)}(this.aV,o,i,t.o,n),a=new RW,c=new MH(OH(u,o),a,t);return this.Uni(t,i,c,a,s,h,n)},t}(),f3=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Uni=function(t,i,n,r,e,s,u){return new Q2(t,i,n,r,e,s,u,this.Nsi)},i}(c3),v3=f3,d3=function(t){function i(i,n,r,e,s,u){var o,h;o=t.call(this,i,n)||this,(h=o).Wni=void 0,h.Hni=void 0,h.Rei=void 0,h.zni=void 0,h.Xni=[],h.Gni=0,h.w1t=void 0,h.rri=void 0,h.vri=[],h.gri=void 0,h.$ni=!1,h.d9=!1,h.Qni=!0,h.sei=void 0,h.Yni=!1,h.Jni=void 0,h.Vni=[],h.aV=void 0,h.pri=function(t){t.type===eh.uo&&h.Qni?h.Qni=!1:h.So(t)},h.qni=function(){h.d9=!0},h.wri=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return h.Gni=1,[4,h.Hni.uei()];case 1:return t.sent(),[2,h.mei(h.rri.Rc())]}})})()},h.yri=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return i=new pZ(kZ.PLAYBACK,bZ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),h.u4t.So(A0.v4t(i,t)),[4,h.Hni.uei()];case 1:return n.sent(),[2,h.mei(h.rri.Rc())]}})})()},h.bri=function(){return h.Rei.uei(),h.mei(h.rri.Rc())},h.Ari=function(t){var i=new pZ(kZ.PLAYBACK,bZ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return h.u4t.So(A0.v4t(i,t)),h.Rei.uei(),h.mei(h.rri.Rc())},h.aV=u,h.sei=r,h.Rei=new $1(h.Ari,h.bri,h),h.Hni=new J1(h.yri,h.wri,h.Rei,e,h,i.Wu,r),h._ri(h.Rei.Wii),h._ri(h.Hni.Wii);var a=new u3(e,u,f3,s);return h.zni=new H1(h.oa,h,h.u4t,a),h.Hni.lw(h.pri),h.Rei.lw(h.Rs),h.u4t.au(h.Hni.u4t),h.u4t.au(h.Rei.u4t),h.u4t.au(h.zni),h.gri=new E$(h,h.oa),h.Wu.wn(fI.yn,h.Rs),h.oa.wn(eh.uo,h.qni),o}Ct(i,t);var n=i.prototype;return n.Cti=function(t,i,n){i===DB.Bnt&&this.d9?kr(this.r8t([t])):this.Vni.push(t)},n.Gx=function(){return this.Hni.iei?this.Hni.zx:this.nnt()},n.Xx=function(t,i){},n.Nd=function(){return this.Hni.ct},n.Kx=function(){return this.Hni.Qx},n.Yx=function(){},n.Zx=function(){},n.aP=function(){return this.Hni.oP},n.uP=function(t){this.oP!==t&&(this.Hni.oP=t,this.So(new _T(this.zx,this.OP)))},n.fP=function(){return this.Hni.lP},n.TP=function(){return this.Hni.AP},n.EP=function(){return EA.rL()._s()},n.NP=function(){return this.Hni.DP},n.LP=function(){return this.Hni.MP},n.FP=function(){return this.Hni.OP},n.UP=function(t){this.OP!==t&&(this.Hni.OP=t,this.So(new _T(this.zx,this.OP)))},n.QP=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.Wni?[2]:(this.So(new fT(this.zx)),this.qni(),this.Vni.length?(this.Wni=this.r8t(this.Vni),[4,this.Wni]):[3,2]);case 1:i.sent(),this.Wni=void 0,i.label=2;case 2:return[4,this.zni.Rii(this.oa.Gx())];case 3:return i.sent(),4!==(t=this.Gni)&&1!==t&&5!==t||(!this.w1t&&this.Xni.length?this.jni():this.w1t?(this.Qni=!0,this.Hni.QP()):(this.I3t(),this.oa.QP()),this.Gni=3),[2]}})}).call(this)},n.jP=function(){3===this.Gni&&(this.Hni.jP(),this.Gni=4)},n.wii=function(){this.zni.wii()},n.Tn=function(){this.Gni=1,this.zni.Tn()},n.KP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.zni&&(this.zni.An(),this.Kni(!1),this.Rei.KP(),this.Gni=5,this.w1t&&(this.zni.Vii(this.w1t.OZt),this.w1t=void 0)),this.d9=!1,this.Qni=!1,Yn(this.Xni),this.w4t&&(this.I3t(),this.oa.be()),Yn(this.Vni),[4,this.Hni.KP()];case 1:return t.sent(),[4,this.sei.hr()];case 2:return t.sent(),[2]}})}).call(this)},n.uD=function(){this.Hni.G$t(),this.Rei.G$t()},n.Hnt=function(t){this.Cd.ads.allowSkipAdBreak&&(this.Yni=!0,this.Jni=t,this.uD())},n.GP=function(){this.sei.GP(),this.qni()},n.l4t=function(t){return!(t.type!==eh.Nw||!this.zni||!this.zni.Pii(-1))&&(this.zni.Eii().then(dn),!0)},n.be=function(){void 0!==this.Hni.nei&&(this.sei.be(),this.Hni.be()),void 0!==this.Rei.Lei&&this.Rei.be()},n.we=function(){this.sei.we(),this.Hni.we(),this.Rei.we()},n.r8t=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return[4,t2.Yei(t,this.aV,this.u4t)];case 1:return i=e.sent(),n=i[0],r=i[1],n.length?(this.zni.Fii(n),this.u4t.So(new ZB),this.w4t||this.oa.lP?[3,3]:[4,this.zni.Rii(this.oa.Gx())]):((0===r.length||r.some(function(t){return t!==bZ.VAST_EMPTY_RESPONSE&&t!==bZ.VAST_NO_ADS_AFTER_WRAPPER}))&&this.u4t.So(A0.v4t(new pZ(kZ.ADBLOCK,bZ.FILE_NOT_FOUND),"Ads could not be loaded.")),this.d9&&!this.w1t&&0===this.Xni.length&&this.Zni(),[2]);case 2:e.sent(),e.label=3;case 3:return 0!==this.Gni&&5!==this.Gni||this.Tn(),[2]}})}).call(this)},n.Mii=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;jn(this.Xni,r)||this.Xni.push(r)}for(var e,s=Lt(t);!(e=s()).done;){e.value;this.d9&&!this.w4t&&this.jni()}},n.jni=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return 2===this.Gni?[2]:this.$ni?[3,4]:(this.$ni=!0,this.Gni=2,t=this.w1t,this.tri(),this.w1t?[4,this.w1t.OZt._ii(this.u4t)]:[3,3]);case 1:return i.sent(),this.iri()||(this.$ni=!1),this.u4t.So(new V0(this.eri(this.w1t))),[4,this.sri()];case 2:return i.sent(),[3,4];case 3:(null==t?void 0:t.OZt.gii())&&this.u4t.So(new XB(this.eri(t))),this.$ni=!1,this.Gni=1,this.Zni(),i.label=4;case 4:return[2]}})}).call(this)},n.Zni=function(){this.I3t(),this.oa.be(),this.oa.Qx?this.oa.So(new lT(this.oa.Gx())):this.oa.QP()},n.tri=function(){var t;if(this.w1t&&this.iri())t=this.w1t.OZt;else{if(0===this.Xni.length)return;t=this.Xni.shift()}if(t){var i=t.Rc();i?this.w1t=i:(this.w1t&&(this.zni.Vii(this.w1t.OZt),this.w1t=void 0),this.w1t=void 0)}},n.sri=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return t=this.w1t?function(t){var i,n,r=null==(n=t.d$t)||null==(i=n.UKt)?void 0:i.VKt();return void 0===r?void 0:new b$(r)}(this.w1t):void 0,t?this.w1t?(this.rri=t,this.hri(this.w1t.aYt),this.ari(eZ.rZt),i=this.rri.Rc(),this.w1t.OZt.gii()&&(this.Rei.uei(),1===this.w1t.OZt.Put&&this.u4t.So(new GB(this.eri(this.w1t)))),[4,this.mei(i)]):[2]:[3,2];case 1:return n.sent(),[3,3];case 2:this.Gni=1,this.$ni=!1,this.w1t=void 0,this.jni(),n.label=3;case 3:return[2]}})}).call(this)},n.mei=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c,f,v,d,l,w;return zt(this,function(g){switch(g.label){case 0:return t?(n=Li(t.iYt),r=Li(t.nYt),s=null!=(e=null==(i=t.sYt)?void 0:i.PYt)?e:[],u=s.length>0,o=this.w1t,h=this.eri(o),t.iYt?(t.iYt.od=o,void 0!==o.irt.skipOffset&&void 0!==(a=DZ.a$t(o.irt.skipOffset,t.iYt.ct))&&a<t.iYt.ct&&(t.iYt.kJt=a),c=h.Y0t(t.iYt,s,t.rYt,o.irt),this.Rei.uei(),this.D5t(),[4,this.Hni.mei(c,t.lt,{width:this.oa.xe.offsetWidth,height:this.oa.xe.offsetHeight})]):[3,2]):[3,7];case 1:g.sent(),n=!0,g.label=2;case 2:return t.nYt?((f=t.nYt.hYt[0]).od=o,void 0!==o.irt.skipOffset&&(v=DZ.a$t(o.irt.skipOffset,this.oa.Nd()))&&(f.od.kJt=v),d=n?[]:s,l=h.J0t(f,d,t.nYt,t.rYt,o.irt),n&&this.Hni.Nei(),[4,this.Rei.mei(l,t.lt,{width:this.oa.xe.offsetWidth,height:this.oa.xe.offsetHeight})]):[3,4];case 3:g.sent(),r=!0,g.label=4;case 4:return n&&(this.Gni=3,this.Hni.be(),w=0===h.qOt,this.Qni=w,this.sei.jP(),this.Hni.QP(),this.oa.jP(),this.oa.we(),this.D5t(),this.Hni.xei()),r&&(this.Gni=3,this.Rei.be(),this.Rei.xei()),(n||r||u)&&this.cri(t.ZKt),n||r?[3,6]:[4,this.dri()];case 5:g.sent(),g.label=6;case 6:return!n&&r&&(this.iri()||this.Xni.length>0?this.jni():(this.Zni(),this.w1t=o)),[3,10];case 7:return null!==t?[3,9]:[4,this.dri()];case 8:return g.sent(),[3,10];case 9:this.Kni(!0),g.label=10;case 10:return[2]}})}).call(this)},n.dri=function(){var t=this.rri;return this.mei(t&&t.Rc())},n.Kni=function(t){this.ari(eZ.hZt),this.lri(),this.Gni=1;var i=void 0!==this.w1t&&this.w1t.OZt.fii();if(this.$ni=!1,!i||this.Yni){if(!this.w4t)return;this.oa.be(),!this.oa.Qx&&t&&this.oa.QP(),void 0!==this.Jni&&this.oa.Xx(this.Jni),this.I3t(),this.Yni=!1,this.Jni=void 0}else t&&(this.Gni=1,this.jni())},n.I3t=function(){this.fri(),t.prototype.I3t.call(this)},n.fri=function(){if(this.oa.Qx&&(this.Gni=5),this.w1t){var t=this.w1t.OZt;t.gii()&&this.u4t.So(new XB(this.eri(this.w1t))),this.zni.Vii(t),this.w1t=void 0}},n.hri=function(t){this.vri=this.vri.concat(t)},n.lri=function(){this.vri=[]},n._ri=function(t){this.oa.xe.appendChild(t)},n.ari=function(t){for(var i,n=Lt(this.vri);!(i=n()).done;){var r=i.value;r.oX===t&&CJ(r.eventURL)}},n.cri=function(t){this.Hni.Yii(eZ.ZJt);for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;CJ(r)}},n.qnt=function(t){for(var i,n=Lt(this.Dti());!(i=n()).done;){var r=i.value;xJ(r.sources,r.timeOffset)||t.W6(r,DB.Bnt,!1)}},n.Dti=function(){for(var t,i,n=[],r=Lt(this.Lnt.concat(this.Unt));!(i=r()).done;){var e=i.value;n.push(e.irt)}for(var s,u=Lt(this.Xni.concat(this.zni.Unt.filter(function(t){return!t.i1t()})));!(s=u()).done;)for(var o,h=Lt(s.value.K0t);!(o=h()).done;){var a=o.value;a.W||n.push(a.irt)}return(t=n).push.apply(t,[].concat(this.Vni)),nr(n)},n.iri=function(){return!!this.w1t&&A$(this.w1t).some(function(t){return t.iYt})},n.eri=function(t){return t.OZt.oii},n.Kei=function(){return this.gri},n.zP=function(){return this.sei.zP()},n.Ox=function(){return this.sei.Ox()},n.S4t=function(t){this.zni.S4t(t)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return n.sent(),this.oa.mn(eh.uo,this.qni),this.u4t.LK(this.Hni.u4t),this.u4t.LK(this.Rei.u4t),this.u4t.LK(this.zni),this.Hni.kn(),this.Rei.kn(),[4,this.sei.kn()];case 2:return n.sent(),[2]}})}).call(this)},Nt(i,[{key:"o4t",get:function(){return this}},{key:"r4t",get:function(){return i.r4t}},{key:"Fnt",get:function(){return this.w1t?this.eri(this.w1t):null}},{key:"Lnt",get:function(){return this.w1t?[this.Hni.nei,this.Rei.Lei].filter(Li):[]}},{key:"Unt",get:function(){var t=this.Xni.concat(this.zni.Unt.filter(function(t){return!t.i1t()}));return Jn(t,function(t){return t.oii.Jc.filter(function(t){return!t.i1t()})})}},{key:"Vnt",get:function(){return this.zni.Unt.map(function(t){return t.oii})}}],[{key:"r4t",get:function(){return x$.f1t}}]),i}(Z0),l3=function(){function t(){}var i=t.prototype;return i.Qz=function(t){return t&&("string"!=typeof t.integration||t.integration===pS.DEFAULT||t.integration===pS.CSAI||t.integration===pS.THEO)},i.e4t=function(t,i,n){var r=new hB(t.tnt,t.Ql,n);r.Est(t.xe);var e=new sS(t.xe,n,t.Dx,t.Kst,t.VP,r,t.Ql);return new d3(t,i,e,n,t.Kst,t.Dx)},i.W6=function(t,i,n,r){n.Cti(t,i,r)},i.uj=function(t){var i=zZ(t.sources);if(i){var n={integration:pS.CSAI,sources:i};"vast"===n.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===n.sources.type&&void 0!==t.timeOffset&&We("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=qZ(t.timeOffset);void 0!==r&&(n.timeOffset=r);var e=qZ(t.skipOffset);return void 0!==e&&(n.skipOffset=e),n}},Nt(t,[{key:"i4t",get:function(){return d3.r4t}}]),t}();kS.Bg.Kz(new l3),U(),Et(),U(),Et(),xt();var w3=function(){function t(t,i){this.bti=void 0,this.A2t=void 0,this.vet=void 0,this.Tri=void 0,this.i8=!1,this.vet=t;var n=v.createElement("div");n.className="theoplayer-ima-wrapper",an(n),n.style.zIndex="10",Bi.Ks&&function(t,i){t.addEventListener(i,un)}(n,"mousedown"),i.appendChild(n);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.Tri=r,n.appendChild(r),this.A2t=n,this.bti=new google.ima.AdDisplayContainer(this.Tri,this.vet)}var i=t.prototype;return i.GY=function(){var t;this.i8||(null==(t=this.bti)||t.initialize(),this.i8=!0)},i.xri=function(t){"linear"===t?this.A2t.style.marginTop="0px":"nonlinear"===t&&(this.A2t.style.marginTop="-45px")},i.be=function(){this.A2t.style.opacity="1",this.A2t.style.pointerEvents=""},i.we=function(){this.A2t.style.opacity="0",this.A2t.style.pointerEvents="none"},i.zg=function(){var t;null==(t=this.bti)||t.destroy(),this.bti=void 0},Nt(t,[{key:"Wii",get:function(){return this.A2t}},{key:"Sri",get:function(){return this.Tri.offsetHeight}},{key:"kri",get:function(){return this.Tri.offsetWidth}},{key:"Eri",get:function(){return this.bti}}]),t}();U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Pt(),Ft(),U(),Et(),xt();var g3=function(){function t(t){this.Pri=void 0,this.IYt=void 0,this.Pri=t;var i=new google.ima.CompanionAdSelectionSettings;i.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,i.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,i.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.IYt=t.getCompanionAds(0,0,i)}return Nt(t,[{key:"fJt",get:function(){return this.Pri.getAdId()}},{key:"v7t",get:function(){var t=this.Pri.getAdPodInfo();if(void 0!==t)try{return{I9t:t.getAdPosition(),G0t:t.getMaxDuration(),Iri:t.getPodIndex(),qOt:t.getTimeOffset(),C9t:t.getTotalAds(),Cri:t.getIsBumper()}}catch(t){return}}},{key:"QKt",get:function(){return this.Pri.getAdSystem()}},{key:"Rri",get:function(){return this.Pri.getAdvertiserName()}},{key:"FYt",get:function(){var t;return null!=(t=this.Pri.getApiFramework())?t:void 0}},{key:"sYt",get:function(){return this.IYt.map(function(t){return{VYt:t.getAdSlotId(),GT:t.getContentType(),G4t:t.getContent(),Mi:t.getHeight(),Ti:t.getWidth()}})}},{key:"GT",get:function(){var t;return null!=(t=this.Pri.getContentType())?t:void 0}},{key:"wYt",get:function(){return this.Pri.getCreativeId()}},{key:"eti",get:function(){return this.Pri.getCreativeAdId()}},{key:"Dri",get:function(){return this.Pri.getDealId()}},{key:"_N",get:function(){return this.Pri.getDescription()}},{key:"ct",get:function(){return this.Pri.getDuration()}},{key:"Ti",get:function(){return this.Pri.getWidth()}},{key:"Mi",get:function(){return this.Pri.getHeight()}},{key:"PJt",get:function(){var t;return null!=(t=this.Pri.getMediaUrl())?t:void 0}},{key:"Nri",get:function(){return this.Pri.getMinSuggestedDuration()}},{key:"tti",get:function(){return this.Pri.getSkipTimeOffset()}},{key:"Bri",get:function(){return this.Pri.getSurveyUrl()}},{key:"gq",get:function(){return this.Pri.getTitle()}},{key:"Z7t",get:function(){return this.Pri.getTraffickingParameters()}},{key:"$7t",get:function(){return this.Pri.getTraffickingParametersString()}},{key:"rYt",get:function(){return this.Pri.getUniversalAdIds().map(function(t){return{sti:t.getAdIdRegistry(),nti:t.getAdIdValue()}})}},{key:"Jti",get:function(){return this.Pri.getUiElements()}},{key:"iti",get:function(){return this.Pri.getVastMediaBitrate()}},{key:"J7t",get:function(){return this.Pri.getVastMediaHeight()}},{key:"Y7t",get:function(){return this.Pri.getVastMediaWidth()}},{key:"X7t",get:function(){return this.Pri.getWrapperAdIds()}},{key:"j7t",get:function(){return this.Pri.getWrapperAdSystems()}},{key:"Q7t",get:function(){return this.Pri.getWrapperCreativeIds()}},{key:"h7t",get:function(){return this.Pri.isLinear()}}]),t}();function _3(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var m3=function(t){function i(i,n,r){var e;(e=t.call(this)||this).Q0t=void 0,e.bti=void 0,e.sc=void 0,e.qc=[],e.Lri=function(t){t.getAd().isLinear()?e.bti.xri("linear"):e.bti.xri("nonlinear")},e.Mri=function(){e.Q0t.resize(e.bti.kri,e.bti.Sri,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var i=t.getAd(),n=function(t){var i;return((i={})[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]=s1.v8t,i[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]=s1._8t,i[google.ima.AdEvent.Type.CLICK]=s1.g8t,i[google.ima.AdEvent.Type.DURATION_CHANGE]=s1.Cw,i[google.ima.AdEvent.Type.EXPANDED_CHANGED]=s1.p8t,i[google.ima.AdEvent.Type.STARTED]=s1.m8t,i[google.ima.AdEvent.Type.IMPRESSION]=s1.w8t,i[google.ima.AdEvent.Type.PAUSED]=s1.Yz,i[google.ima.AdEvent.Type.RESUMED]=s1.y8t,i[google.ima.AdEvent.Type.AD_PROGRESS]=s1.b8t,i[google.ima.AdEvent.Type.AD_BUFFERING]=s1.A8t,i[google.ima.AdEvent.Type.FIRST_QUARTILE]=s1.S8t,i[google.ima.AdEvent.Type.MIDPOINT]=s1.XJt,i[google.ima.AdEvent.Type.THIRD_QUARTILE]=s1.T8t,i[google.ima.AdEvent.Type.COMPLETE]=s1.jJt,i[google.ima.AdEvent.Type.USER_CLOSE]=s1.k8t,i[google.ima.AdEvent.Type.LINEAR_CHANGED]=s1.E8t,i[google.ima.AdEvent.Type.LOADED]=s1.x8t,i[google.ima.AdEvent.Type.AD_CAN_PLAY]=s1.P8t,i[google.ima.AdEvent.Type.AD_METADATA]=s1.I8t,i[google.ima.AdEvent.Type.AD_BREAK_READY]=s1.C8t,i[google.ima.AdEvent.Type.INTERACTION]=s1.R8t,i[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]=s1.D8t,i[google.ima.AdEvent.Type.SKIPPED]=s1.N8t,i[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]=s1.B8t,i[google.ima.AdEvent.Type.LOG]=s1.M8t,i[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]=s1.L8t,i[google.ima.AdEvent.Type.VOLUME_CHANGED]=s1.O8t,i[google.ima.AdEvent.Type.VOLUME_MUTED]=s1.F8t,i)[t]}(t.type),r={type:n,date:new Date,jnt:i?e.Ori(i):void 0,J9t:a1(n,t.getAdData())};e.So(r)},e.forwardAdErrorEventListener=function(t){e.So({date:new Date,jnt:void 0,type:u1.U8t,J9t:{D7t:v1(t.getError())}})},e.Q0t=i,e.bti=n,e.sc=r,e.sc.wn(fI.yn,e.Mri),e.Q0t.init(e.bti.kri,e.bti.Sri,google.ima.ViewMode.NORMAL),e.Q0t.addEventListener(google.ima.AdEvent.Type.LOADED,e.Lri),e.Q0t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener);for(var s,u=Lt(_3());!(s=u()).done;){var o=s.value;e.Q0t.addEventListener(o,e.forwardAdEventListener)}return e}Ct(i,t);var n=i.prototype;return n.UP=function(t){var i;null==(i=this.Q0t)||i.setVolume(t)},n.FP=function(){return this.Q0t.getVolume()},n.I7t=function(){return this.Q0t.getRemainingTime()},n.zg=function(){Yn(this.qc),this.sc.mn(fI.yn,this.Mri),this.Q0t.removeEventListener(google.ima.AdEvent.Type.LOADED,this.Lri),this.Q0t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener);for(var t,i=Lt(_3());!(t=i()).done;){var n=t.value;this.Q0t.removeEventListener(n,this.forwardAdEventListener)}this.Q0t.destroy()},n.Tn=function(){this.Q0t.start()},n.kti=function(){this.Q0t.resume()},n.jP=function(){this.Q0t.pause()},n.uD=function(){this.Q0t.skip()},n.KP=function(){this.Q0t.stop()},n.d7t=function(){var t=this.Q0t.getCurrentAd();if(t)return this.Ori(t)},n.Xti=function(){return this.Q0t.getCuePoints()},n.Ori=function(t){var i=Fn(this.qc,function(i){return i.Pri===t});return i||(i=new g3(t),this.qc.push(i)),i},n.Eti=function(t){this.Q0t.updateAdsRenderingSettings(b3(t))},i}(th);U(),Et(),xt(),Pt();var y3=function(t){function i(i,n){var r;return(r=t.call(this,"nii")||this).Uri=void 0,r.A2t=void 0,r.Uri=i,r.A2t=n,r}return Ct(i,t),i.prototype.xa=function(){return new p3(this.Uri)},Nt(i,[{key:"Fri",get:function(){return this.Uri}},{key:"Wii",get:function(){return this.A2t}}]),i}(Aw),p3=function(t){function i(i){var n;return(n=t.call(this,"adsmanagerloaded")||this).Uri=void 0,n.Uri=i,n}return Ct(i,t),Nt(i,[{key:"adsManager",get:function(){return this.Uri}}]),i}(rh),k3=function(t){function i(i,n){var r;return(r=t.call(this)||this).Ati=void 0,r.sc=void 0,r.Hri=void 0,r.Vri=void 0,r.Wri=void 0,r.qri=void 0,r.onAdsManagerLoadedListener=function(t){if(r.Wri&&r.qri&&r.Vri){var i,n=b3(r.qri),e=r.Wri,s=t.getAdsManager({get currentTime(){return e.zx},get duration(){return e.ct}},n),u=new m3(s,r.Hri,r.sc);r.So(new y3(s,r.Hri.Wii)),null==(i=r.Vri)||i.Qy(u),r.Vri=void 0}},r.onAdsManagerErrorListener=function(t){var i,n={Iy:t.getError().getMessage(),R9t:t.getError().getVastErrorCode(),TZt:t.getError().getErrorCode(),Km:c1(t.getError().getType()),D9t:void 0};null==(i=r.Vri)||i.Ky(n),r.Vri=void 0},r.sc=n,r.Hri=i,r}Ct(i,t);var n=i.prototype;return n.Pti=function(){var t;null==(t=this.Ati)||t.contentComplete()},n.r8t=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){if(this.Vri)throw new y("Only one ImaAdsRequest can be made at a time.");if(!this.Hri.Eri)throw new y("AdDisplayContainer is not initialized.");return this.Ati=new google.ima.AdsLoader(this.Hri.Eri),this.Ati.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.Ati.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.Vri=new Va,this.Wri=i,this.qri=n,r=new google.ima.AdsRequest,t.w6t?r.adTagUrl=t.w6t:t.y6t&&(r.adsResponse=t.y6t),r.linearAdSlotWidth=t.f6t,r.linearAdSlotHeight=t.v6t,r.nonLinearAdSlotWidth=t._6t,r.nonLinearAdSlotHeight=t.g6t,r.contentDuration=t.A6t,r.setAdWillAutoPlay(t.p6t),r.setAdWillPlayMuted(t.m6t),t.b6t&&(r.omidAccessModeRules=t.b6t),this.Ati.requestAds(r),[2,this.Vri.Yy]})}).call(this)},n.zg=function(){var t;void 0!==this.Ati&&(this.Ati.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.Ati.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.Ati.destroy(),this.Ati=void 0),null==(t=this.Vri)||t.Ky("AdsLoader destroyed"),this.Vri=void 0},i}(th);function b3(t){var i=new google.ima.AdsRenderingSettings;return i.enablePreloading=t.Zti,t.Jti&&(i.uiElements=t.Jti),i.mimeTypes=t.Yti,void 0!==t.tii&&(i.playAdsAfterTime=t.tii),void 0!==t.$ti&&(i.loadVideoTimeout=t.$ti),void 0!==t.z9&&(i.bitrate=t.z9),void 0!==t.tii&&(i.playAdsAfterTime=t.tii),i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i}U(),Et(),xt(),Pt();var A3=function(t){function i(i){var n;return(n=t.call(this)||this).zri=void 0,n.oa=void 0,n.oa=i,n.zri=n.oa.Gx(),n.oa.wn(eh.py,function(){n.oa.xP||(n.zri=n.oa.Gx()),n.So(new bw(n.zx,void 0))}),n}return Ct(i,t),i.prototype.hr=function(){this.zri=0},Nt(i,[{key:"zx",get:function(){return this.oa.xP?this.zri:this.oa.Gx()}},{key:"ct",get:function(){return this.oa.Nd()}},{key:"oP",get:function(){return this.oa.oP}},{key:"OP",get:function(){return this.oa.OP}}]),i}(th);B1.Bg.registerWebImaAdPlayerConstructor(function(t,i,n){P1(n);var r=D1(n)?t.zP():void 0,e=new w3(r,t.xe),s=new k3(e,t.Wu),u=new A3(t);return new x1(t,i,n,t.Jst,e,s,u)}),U(),Et(),U(),Et(),Wt(),xt(),Pt(),H(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt();var T3=function(t){function i(i,n,r){var e;return(e=t.call(this,r)||this).dnt=void 0,e.k5t=void 0,e.ehi=!0,e.dnt=i,e.k5t=n,e}Ct(i,t);var n=i.prototype;return n.gr=function(t,i,n,r,e){(e||!r.lP||r.Qx)&&this.oa.lP&&this.oa.QP()},n.Xx=function(t,i){},n.Wx=function(t){},n.Xri=function(i,n){var r=i-this.k5t.jri;return t.prototype.Xx.call(this,r,n)},n.Qri=function(i){return t.prototype.Wx.call(this,i)},n.qx=function(){return this.dnt.bt},n.nu=function(){return this.dnt.nu()},n.Nd=function(){return this.dnt.Nd()},n.EP=function(){var t=EA.jn(this.dnt.EP()).Ly(this.k5t.jri);if(this.Kri())return t._s();var i=EA.jn(this.k5t.EP()),n=i;return a5(this.dnt)||(n=t.HM(i)),(n=n.Mn(EA.nL(0,this.Gx())))._s()},n.Gx=function(){return this.Yri(t.prototype.Gx.call(this))},n.Yri=function(t){return this.k5t.Jri?this.k5t.Jri:this.oa===this.k5t?this.k5t.Zri+t:this.k5t.jri+t},n.Hx=function(){return this.$ri(t.prototype.Gx.call(this))},n.$ri=function(t){return this.k5t.thi?this.k5t.thi:this.oa===this.k5t&&this.k5t.ihi?new Date(this.k5t.ihi.getTime()+1e3*t):this.dnt.Vx},n.Ux=function(){var t=EA.jn(this.dnt.Ux()).Ly(this.k5t.jri);if(this.Kri())return t._s();var i=EA.jn(this.k5t.Ux());return t.An(t.V-1)<i.Tn(0)?i._s():t.HM(i)._s()},n.eI=function(i){switch(i.type){case eh.py:return this.So(new bw(this.Yri(i.currentTime),i.currentProgramDateTime)),!0;case eh.Qw:return this.So(new YR(this.Yri(i.currentTime))),!0;case eh.uo:return this.So(new fT(this.Yri(i.currentTime))),!0;case eh.jw:return this.So(new cT(this.Yri(i.currentTime))),!0;case eh.Nw:return this.So(new lT(this.Yri(i.currentTime))),!0;case eh.$w:return this.So(new wT(this.Yri(i.currentTime))),!0;case eh.Zw:return this.So(new gT(this.Yri(i.currentTime))),!0;case eh.Kw:return this.So(new dT(this.Yri(i.currentTime),i.playbackRate)),!0;case eh.wy:return this.ehi?(this.So(new _T(this.Yri(i.currentTime),i.volume)),!0):(this.ehi=!0,!0);case eh.Rw:return this.So(new aT(this.Yri(i.currentTime),i.readyState)),!0;case Ry.SM:return this.So(new Oy(this.Yri(i.currentTime),i.readyState)),!0;case Ry.TM:return this.So(new My(this.Yri(i.currentTime),i.readyState)),!0;case Ry.kM:return this.So(new xy(this.Yri(i.currentTime),i.readyState)),!0;case Ry.EM:return this.So(new Ny(this.Yri(i.currentTime),i.readyState)),!0;case Ry.AI:return this.So(new Py(this.Yri(i.currentTime),i.readyState)),!0;case Ry.xM:return this.So(new By(this.Yri(i.currentTime))),!0;case Ry.PM:return this.So(new Ly(this.Yri(i.currentTime))),!0;case eh.Dw:return this.So(new gH(this.Yri(i.currentTime),i.initDataType,i.initData)),!0}return t.prototype.eI.call(this,i)},n.jP=function(){this.dnt.jP(),this.k5t.jP()},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.kn.call(i,!0)];case 1:return n.sent(),[2]}})})()},Nt(i,[{key:"Gri",get:function(){return this.oa===this.dnt?this.k5t:this.dnt}}]),i}(Ub);function S3(t,i){i.oP=t.oP,i.OP=t.OP}U(),Et(),Pt(),H();var E3=function(t){function i(i,n,r){return t.call(this,i,n,r)||this}Ct(i,t);var n=i.prototype;return n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s),this.Gri.jP(),this.shi(n,r).style.display="block"},n.mr=function(t,i,n){this.shi(i,n).style.display="none"},i}(T3),I3=function(t){function i(i,n){return t.call(this,i,n,i)||this}Ct(i,t);var n=i.prototype;return n.Kri=function(){return!0},n.shi=function(t,i){return t},n.nhi=function(t,i){return i},n.Xx=function(i,n){return t.prototype.Xri.call(this,i,n)},n.Wx=function(i){return t.prototype.Qri.call(this,i)},i}(E3),R3=function(t){function i(i,n){return t.call(this,i,n,n)||this}Ct(i,t);var n=i.prototype;return n.Kri=function(){return!1},n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s),this.ehi=!1,this.oa.rhi(),n.style.display="block"},n.mr=function(t,i,n){this.oa.hhi(),i.style.display="none"},n.Nd=function(){return this.oa.Nd()},i}(T3),C3=function(t){function i(i,n){return t.call(this,i,n,n)||this}Ct(i,t);var n=i.prototype;return n.Kri=function(){return!1},n.shi=function(t,i){return i},n.nhi=function(t,i){return t},n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s);for(var u=0,o=[n,r];u<o.length;u++){o[u].style.transition=""}},n.mr=function(i,n,r){t.prototype.mr.call(this,i,n,r)},n.QP=function(){t.prototype.QP.call(this),Bi.X_&&(this.Gri.oP=!0,this.Gri.QP())},i}(E3);function P3(t){return V(t,R3)}U(),Et(),xt(),Pt(),U(),Et(),Pt();var D3=function(t){function i(i){var n;return(n=t.call(this,"ohi")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i.prototype.xa=function(){return new N3(this.interstitial.Ont())},i}(Aw),N3=function(t){function i(i){var n;return(n=t.call(this,"interstitialupdate")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i}(rh),x3=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),B3=function(t){function i(i){var n;return(n=t.call(this)||this).o=void 0,n.CO=void 0,n.Qvt=void 0,n.ghi=void 0,n.phi={},n.QFt=void 0,n.zO=void 0,n.Zb=void 0,n.uhi=void 0,n.K4t=void 0,n.lhi=0,n.pP=!1,n.o=i.o,n.CO=i.CO,n.zO=i.RO,n.QFt=i.hOt,n.Zb=i.ct,n.uhi=i.fhi,n.Qvt=i.Qvt,n.ghi=i.ghi,n._hi(),n}Ct(i,t);var n=i.prototype;return n.dhi=function(t){if(this.ct){var i=(t-(this.CO+this.lhi))/this.ct;i<this.Q4t||(this.K4t=b.min(i,1),1===this.K4t&&(this.pP=!0))}},n.er=function(t){var i,n,r,e;this.Zb=null!=(i=t.ct)?i:this.Zb,this.zO=null!=(n=t.RO)?n:this.zO,this.uhi=null!=(r=t.fhi)?r:this.uhi,this.lhi=null!=(e=t.vhi)?e:this.lhi,this._hi(),this.So(new D3(this))},n._hi=function(){void 0===this.Zb&&void 0!==this.zO?this.Zb=this.zO-this.CO:void 0===this.zO&&void 0!==this.Zb&&(this.zO=this.CO+this.Zb)},Nt(i,[{key:"ahi",get:function(){var t,i,n=null!=(i=null!=(t=this.uhi)?t:this.Zb)?i:this.QFt;return void 0!==n?this.CO+n:this.zO?this.zO:void 0}},{key:"ct",get:function(){var t=this.ahi;return void 0===t?void 0:t-this.CO}},{key:"Q4t",get:function(){var t;return null!=(t=this.K4t)?t:0}}]),i}(th);U(),Et(),Pt(),Ft(),U(),Et(),Pt();var O3=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,r)||this).yhi=void 0,o.whi=void 0,o.bhi=void 0,o.Ahi=void 0,o.Shi=function(t){var i;t.target.removeEventListener("transitionend",o.Shi);var n=null==(i=o.yhi)?void 0:i.parentElement;void 0!==o.yhi&&n&&(n.removeChild(o.yhi),o.yhi=void 0)},o.whi=e,o.bhi=s,o.Ahi=u,o}Ct(i,t);var n=i.prototype;return n.mhi=function(t){this.whi=t,this.yhi&&(this.yhi.style.backgroundImage="url('"+this.whi+"')")},n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s);var u=v.createElement("a");if(u.style.backgroundImage="url('"+this.whi+"')",u.style.backgroundSize="contain",u.style.backgroundPosition="center",u.style.backgroundRepeat="no-repeat",this.bhi&&(u.href=this.bhi,u.target="Xu",u.setAttribute("rel","noopener")),this.Ahi){var o=v.createElement("img");o.src=this.Ahi,o.style.visibility="hidden",u.appendChild(o)}an(u),this.yhi=u,function(t,i){t.insertBefore(i,t.firstChild)}(i,this.yhi)},n.mr=function(t,i,n){i.addEventListener("transitionend",this.Shi)},i}(T3),M3=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n,n,r,e,s)||this).Thi=void 0,u.khi=function(t){var i=t.target;i.removeEventListener("transitionend",u.khi),i.style.transform="",i.style.transition="",i.style.transformOrigin=""},u.Ehi=function(t){var i=t.target;i.removeEventListener("transitionend",u.Ehi),i.style.display="none",i.style.width="100%",i.style.height="100%",i.style.right="",i.style.top="",i.style.transition="",i.style.transform="",i.style.transformOrigin=""},u}Ct(i,t);var n=i.prototype;return n.Kri=function(){return!0},n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s),S3(this.oa,this.Gri),this.Gri.oP=!0,this.Thi=this.dnt.nt.NI.filter(function(t){return t.Qk===zm.Kn});for(var u,o=Lt(this.Thi);!(u=o()).done;){u.value.Qk=zm.Nh}n.style.display="block",n.style.width="45%",n.style.height="45%",n.style.top="27.5%",n.style.transform="scale("+100/45+")",n.style.transformOrigin="left center",r.style.right="0",r.style.top="27.5%",r.style.display="block",r.style.width="45%",r.style.height="45%",r.style.transformOrigin="right center",r.style.transform="scale(0)",r.getBoundingClientRect(),r.style.transition="transform 1s ease-in-out",r.style.transform="scale(1) translateX(-"+2.5/45*100+"%)",n.style.transition="transform 1s ease-in-out",n.style.transform="scale(1) translateX("+2.5/45*100+"%)"},n.mr=function(i,n,r){var e;t.prototype.mr.call(this,i,n,r),n.style.width="100%",n.style.height="100%",n.style.top="",n.style.transform="scale(0.45) translateX("+2.5/45*100+"%)",n.style.transformOrigin="left center",n.style.transition="",n.getBoundingClientRect(),n.style.transform="",n.style.transition="transform 1s ease-in-out",n.addEventListener("transitionend",this.khi),r.style.transform="scale(0)",r.addEventListener("transitionend",this.Ehi);for(var s,u=Lt(null!=(e=this.Thi)?e:[]);!(s=u()).done;){s.value.Qk=zm.Kn}this.Thi=void 0},n.Yx=function(){return this.dnt.Yx()||this.k5t.Yx()},n.Zx=function(){return this.dnt.Zx()||this.k5t.Zx()},n.TP=function(){return b.min(this.dnt.AP,this.k5t.AP)},n.QP=function(){this.dnt.QP(),this.k5t.QP()},i}(O3);U(),Et(),Pt(),H();var L3=function(t){function i(i,n,r,e,s,u){var o;return(o=t.call(this,i,n,r,e,s,u)||this).xhi=function(t){var i=t.target;i.removeEventListener("transitionend",o.xhi),i.style.transition=""},o}return Ct(i,t),i.prototype.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s),this.Gri.jP();var u=this.shi(n,r);u.style.display="block",u.getBoundingClientRect()},i}(O3),F3=function(t){function i(i,n,r,e,s){return t.call(this,i,n,i,r,e,s)||this}Ct(i,t);var n=i.prototype;return n.Kri=function(){return!0},n.shi=function(t,i){return t},n.nhi=function(t,i){return i},n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s);var u=this.shi(n,r);u.style.transform="\n            translate(-50%, -50%)\n            scale(calc(43/60))\n            translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ",u.style.transition="transform 1s ease-in-out"},n.mr=function(i,n,r){t.prototype.mr.call(this,i,n,r);var e=this.shi(n,r);e.style.display="",e.style.transform="",e.addEventListener("transitionend",this.xhi)},i}(L3),U3=function(t){function i(i,n,r,e,s){return t.call(this,i,n,n,r,e,s)||this}Ct(i,t);var n=i.prototype;return n.Kri=function(){return!1},n.shi=function(t,i){return i},n.nhi=function(t,i){return t},n.gr=function(i,n,r,e,s){t.prototype.gr.call(this,i,n,r,e,s);for(var u=0,o=[n,r];u<o.length;u++){var h=o[u];h.style.transform="\n                translate(-50%, -50%)\n                scale(calc(43/60))\n                translate(calc(50% + 100%/30), calc(50% + 100%/30))\n            ",h.style.transition="transform 1s ease-in-out"}},n.mr=function(i,n,r){t.prototype.mr.call(this,i,n,r);var e=this.shi(n,r);e.style.display="none",e.style.transform="",e.style.transition="";var s=this.nhi(n,r);s.style.display="",s.getBoundingClientRect(),s.style.transform="",s.addEventListener("transitionend",this.xhi)},n.QP=function(){t.prototype.QP.call(this),Bi.X_&&(this.Gri.oP=!0,this.Gri.QP())},i}(L3);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Pt(),U(),Et(),Pt();var V3=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.gr=function(t,i){},n.mr=function(t){},i}(Ub),H3=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Xx=function(t,i){},i}(V3),W3=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).whi=void 0,r.xhi=function(t){var i=t.target;i.removeEventListener("transitionend",r.xhi),i.style.transition="transform 1s ease-in-out"},r.whi=n,r}Ct(i,t);var n=i.prototype;return n.Xx=function(t,i){},n.gr=function(t,i){i.style.backgroundImage="url('"+this.whi+"')",i.style.backgroundSize="contain",i.style.backgroundPosition="center",t.style.transition="transform 1s ease-in-out",t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},n.mr=function(t){t.style.transform="",t.addEventListener("transitionend",this.xhi)},i}(V3);U(),Et(),Pt();var z3=function(t){function i(i){var n;return(n=t.call(this,"Phi")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i.prototype.xa=function(){return new X3(this.interstitial.Ont())},i}(Aw),X3=function(t){function i(i){var n;return(n=t.call(this,"interstitialbegin")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i}(rh);function q3(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.CO},get type(){return"adbreak"},get layout(){return function(t){switch(t){case x3.SINGLE:return"single";case x3.DOUBLE:return"double";case x3.LSHAPE_CONTENT:case x3.LSHAPE_AD:return"l-shape"}}(t.Ihi)},get ads(){return t.Jc.map(function(t){return t.Ont()})},get backdropUri(){return t.Chi},get adTagParameters(){return t.phi},set adTagParameters(i){Ji(i)?t.phi=i:Ui.dm("Incorrect ad tag parameters type, expecting a Record.")}}}U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Ft(),U(),Et(),xt(),Pt(),U(),Et();var G3=function(t){return t.image="image",t}({}),j3=function(t){return t.png="png",t.svg="svg",t}({}),Q3=function(t){function i(i){var n;return(n=t.call(this,i)||this).hu=void 0,n.Bhi=void 0,n.mo=void 0,n.Wy=void 0,n.Mhi=void 0,n.Lhi=void 0,n.cZt=void 0,n.Rhi=void 0,n.Nhi=void 0,n.Bhi=i.Km,n.mo=i.mo,n.Wy=i.Wy,n.Mhi=i.Mhi,n.Lhi=i.Lhi,n.cZt=i.cZt,n.Rhi=i.Ohi,n}Ct(i,t);var n=i.prototype;return n.er=function(i){var n,r;this.Nhi=null!=(n=i.imageUrl)?n:this.Nhi,this.Rhi=null!=(r=i.clickThrough)?r:this.Rhi,t.prototype.er.call(this,i)},n.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.CO},get clickThrough(){return t.KYt},get imageUrl(){return t.Dhi},get position(){return function(t){return{get top(){return t.utt},get bottom(){return t.att},get left(){return t.ott},get right(){return t.htt}}}(t.mo)},get size(){return function(t){return{get width(){return t.Ti},get height(){return t.Mi}}}(t.Wy)},get adTagParameters(){return t.phi},set adTagParameters(i){Ji(i)?t.phi=i:Ui.dm("Incorrect ad tag parameters type, expecting a Record.")}}}(this)},Nt(i,[{key:"Km",get:function(){return"overlay"}},{key:"KYt",get:function(){return this.Rhi}},{key:"Dhi",get:function(){return this.Nhi}}]),i}(B3);U(),Et(),xt(),Pt();var Y3=function(t){function i(i){var n;return(n=t.call(this,i)||this).hu=void 0,n.qc=[],n.Syt=void 0,n.Vhi=void 0,n.Ihi=void 0,n.Hhi=void 0,n.Whi=void 0,n.qhi=void 0,n.zhi=void 0,n.Chi=void 0,n.Fhi=void 0,n.Uhi=void 0,n.Syt=i.Syt,n.Vhi=i.Vhi,n.Ihi=i.Ihi||x3.SINGLE,n.Hhi=i.Hhi,n.Whi=i.Whi,n.zhi=i.Ghi,n.Chi=i.Xhi,n.qhi=i.qhi,n}Ct(i,t);var n=i.prototype;return n.er=function(i){var n;i.ad&&this.qc.push(i.ad),this.Chi=null!=(n=i.backdropUri)?n:this.Chi,this.Fhi=i.backdropClickThrough,this.Uhi=i.backdropImpressionUrl,t.prototype.er.call(this,i)},n.Ont=function(){var t;return null!=(t=this.hu)?t:this.hu=q3(this)},Nt(i,[{key:"Km",get:function(){return"adbreak"}},{key:"Jc",get:function(){return this.qc}}]),i}(B3);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),xt(),Pt();var K3=function(t){function i(i){var n,r;return(n=t.call(this,i.CO)||this).Qhi=void 0,n.Qhi=i,n.X0t=null!=(r=n.Qhi.ct)?r:-1,n}return Ct(i,t),i.prototype.jhi=function(t){this.qc.push(t)},Nt(i,[{key:"pP",get:function(){return this.Qhi.pP}},{key:"u$t",get:function(){return x$.knt}},{key:"G0t",get:function(){var t;return null!=(t=this.Qhi.ct)?t:-1}},{key:"qOt",get:function(){return this.Qhi.CO}},{key:"y0t",get:function(){}},{key:"Khi",get:function(){return this.Qhi}}]),i}(E0);U(),Et(),Pt(),U(),Et(),xt(),Pt();var J3=function(t){function i(i){var n;return n=t.call(this,i,function(t){return t===x3.LSHAPE_CONTENT?R0.L4t:R0.BZt}(i.Khi.Ihi))||this,i.jhi(n),n}return Ct(i,t),i.prototype.xa=function(){return D0(this)},Nt(i,[{key:"u$t",get:function(){return x$.knt}}]),i}(P0);var Z3=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).Zb=b.min(n,r.od.G0t),r}return Ct(i,t),i}(J3);U(),Et(),Wt(),Qt();var $3="ott_placement",t4=function(){function t(t){this.$hi=(new Date).getTime(),this.aV=void 0,this.aV=t}var i=t.prototype;return i.Yhi=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return r=Yu({},t.phi,i),(e=new gu(r)).set("iu",t.Jhi),e.set("sz",t.Zhi),e.set("c",String(this.$hi)),s="https://securepubads.g.doubleclick.net/gampad/adx?"+e.toString(),[4,this.toi(s,n)];case 1:return[2,u.sent()]}})}).call(this)},i.toi=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:n=new Al({Yu:t,fk:Ud.BT,Hk:ml.GET,Yg:i}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.aV.vk(n)];case 2:return[4,e.sent().lk()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new pZ(kZ.NETWORK,bZ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}})}).call(this)},t}(),i4=function(t){return t.ioi="0",t.jw="1",t.eoi="2",t.PICTURE_IN_PICTURE="3",t.soi="4",t.noi="5",t.roi="99",t}({});function n4(t){switch(t){case x3.DOUBLE:return"3";case x3.SINGLE:return"0";case x3.LSHAPE_AD:case x3.LSHAPE_CONTENT:return"4"}}var r4=function(t){return t.AD_PAUSED="adpaused",t.AD_ERROR="aderror",t.AD_ENDED="adended",t}({}),e4=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t[t.COMPANION=2]="COMPANION",t[t.CSAI=3]="CSAI",t}({}),s4=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).k5t=void 0,u.Poi=void 0,u.R5t=new xI,u.woi=void 0,u.y1t=[],u.w1t=void 0,u.u1t=void 0,u.ooi=void 0,u.xoi=void 0,u.loi=void 0,u.voi=!0,u.uV=void 0,u.Q6=function(t){u.bd(t)},u.Toi=function(t){u.Bd(u.Yri(u.k5t.Gx()))},u.WQt=function(){u.So(new A0(kZ.GENERAL))},u.k5t=i,u.Poi=n,u.y1t=r,u.woi=e,u.Poi.Ioi(u),u.R5t=n.u4t,u.loi=u.foi(s),u.voi=!s[$3],u}Ct(i,t);var n=i.prototype;return n.aoi=function(){return Boolean(this.ooi)},n.uoi=function(t){},n.QP=function(){},n.jP=function(){},n.coi=function(t){},n.doi=function(t){this.loi=this.foi(t),this.voi=!t[$3]},n.foi=function(t){var i=Lw(t);return t[$3]||(i[$3]=n4(x3.SINGLE)),i},n._oi=function(t){if(this.voi){var i=this.loi[$3],n=n4(t);i!==n&&(this.loi[$3]=n)}},n.goi=function(t,i,n,r){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,this.poi(t,i,n)];case 1:return r=e.sent(),[4,this.k5t.IP(r,{},n)];case 2:return e.sent(),[2,r]}})}).call(this)},n.moi=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:if(!t.zhi)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),n=Yu({},this.loi,{ott_placement:i4.soi}),[4,this.woi.Yhi(t.zhi,n,i)];case 2:return r=e.sent(),t.er({backdropUri:null==r?void 0:r.image,backdropClickThrough:null==r?void 0:r.clickThrough,backdropImpressionUrl:null==r?void 0:r.impression}),[3,4];case 3:throw e.sent(),new y("Could not load the backdrop");case 4:return[2]}})}).call(this)},n.yoi=function(t,i){var n;if(t.CO<i){var r=b.min(t.ct,t.ahi-i);n=t.ct-r,t.er({ct:r,vhi:n})}return n},n.boi=function(t){var i=new K3(t);this.y1t.push(i)},n.Aoi=function(t){var i=this.y5t(t);Xn(this.y1t,i)},n.y5t=function(t){return Fn(this.y1t,function(i){return i.Khi===t})},n.Soi=function(){this.k5t.wn(eh.py,this.Q6),this.k5t.wn(eh.Nw,this.Toi),this.k5t.wn(qm.ma,this.WQt)},n.koi=function(){this.k5t.mn(eh.py,this.Q6),this.k5t.mn(eh.Nw,this.Toi),this.k5t.mn(qm.ma,this.WQt)},n.bd=function(t){var i;null==(i=this.ooi)||i.dhi(this.Yri(t.currentTime))},n.Eoi=function(t,i,n,r,e){return Vt(function(){var i,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:i={stack:[],error:void 0,hasError:!1},a.label=1;case 1:return a.trys.push([1,3,4,5]),null==(s=this.uV)||s.Zg(),u=qt(i,hr.ep([n]),!1),this.uV=u,dr(o=u.Yg),[4,this.k5t.Eoi(t,r,e,o)];case 2:return[2,a.sent()];case 3:return h=a.sent(),i.error=h,i.hasError=!0,[3,5];case 4:return Gt(i),[7];case 5:return[2]}})}).call(this)},n.U9t=function(t){void 0!==this.xoi?(this.ooi=this.xoi,this.xoi=void 0,this.w1t=this.y5t(this.ooi),this.u1t=new Z3(this.w1t,this.k5t.Nd()),this.ooi.er({ad:this.hti}),this.R5t.So(new GB(this.w1t)),this.R5t.So(new QB(this.u1t,t))):Ui.um("Expected an ad to start.")},n.Bd=function(t){this.ooi&&(this.ooi.dhi(t),this.ooi.pP=!0,this.Aoi(this.ooi),this.ooi=void 0),this.u1t&&(this.R5t.So(new KB(this.u1t,t)),this.u1t=void 0),this.w1t?(this.R5t.So(new XB(this.w1t)),this.w1t=void 0):(Ui.um("An ad break has ended without realizing we are in an ad break."),this.So(new rh("adended")))},n.Yri=function(t){var i,n;return(null!=(n=null==(i=this.ooi)?void 0:i.CO)?n:0)+t},n.hr=function(){return Vt(function(){var t;return zt(this,function(i){return null==(t=this.uV)||t.Zg(),this.uV=void 0,this.koi(),this.y1t=[],this.u1t=void 0,this.w1t=void 0,this.ooi=void 0,this.xoi=void 0,[2]})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),[4,this.Poi.kn()];case 2:return t.sent(),[2]}})}).call(this)},Nt(i,[{key:"K0t",get:function(){return this.y1t}},{key:"hoi",get:function(){return this.ooi}},{key:"Fnt",get:function(){return this.w1t}},{key:"hti",get:function(){return this.u1t}}]),i}(th),u4="com.theoplayer.theoads.interstitial",o4="com.theoplayer.theoads.overlay",h4="X-ASSET-URI",a4="X-ASSET-URI-VAST",c4=function(){function t(t){var i=this;this.nai=void 0,this.Woi=!1,this.vai=void 0,this.Roi=[],this.yai=[],this.gai=Zu(),this.fai=void 0,this.Foi=[],this.qoi=void 0,this.Goi=void 0,this.Noi=void 0,this.Wn=function(t){i.Uoi(t.Ht)},this.Gn=function(t){i.Hoi(t.Ht)},this.Qoi=function(t){i.Zoi(t.PO)},this.$oi=function(t){i.tai(t.PO)},this.Yoi=function(t){i._ai(t.PO)},this.Joi=function(t){i.joi(t.PO)},this.Koi=function(t){i.bai(t.PO)},this.Boi=function(t){i.rai(t)},this.Moi=function(t){i.aai(t)},this.Loi=function(t){i.iai(t)},this.nai=t}var i=t.prototype;return i.Doi=function(t){this.Noi=new EventSource(t),this.Noi.addEventListener("adbreak",this.Boi),this.Noi.addEventListener("overlay",this.Moi),this.Noi.addEventListener("streaminfo",this.Loi)},i.Ooi=function(t){if(!jn(this.Foi,t)){this.Foi.push(t);for(var i,n=Lt(t.NI);!(i=n()).done;){var r=i.value;this.Uoi(r)}t.wn(Iw.rI,this.Wn),t.wn(Iw.oI,this.Gn)}},i.Voi=function(t){if(jn(this.Foi,t)){Xn(this.Foi,t),t.mn(Iw.rI,this.Wn),t.mn(Iw.oI,this.Gn);for(var i,n=Lt(t.NI);!(i=n()).done;){var r=i.value;this.Hoi(r)}}},i.Uoi=function(t){!this.Woi&&function(t){return t.Lt===Jm.zU&&t.Km===Ng.DATE_RANGE}(t)&&this.qoi!==t?this.zoi(t):this.Woi&&function(t){return t.Lt===Jm.zU&&t.Km===Ng.ID3}(t)&&this.Goi!==t&&this.Xoi(t)},i.Hoi=function(t){this.qoi===t?this.zoi(void 0):this.Goi===t&&this.Xoi(void 0)},i.zoi=function(t){var i=this.qoi;if(void 0!==i){if(i.L)for(var n,r=Lt(i.L.NI);!(n=r()).done;){var e=n.value;this.joi(e)}i.mn(Nw.uI,this.Qoi),i.mn(Nw.fI,this.Koi),i.mn(Nw._I,this.Yoi),i.mn(Nw.dI,this.Joi),i.Qk=zm.iC}if(this.qoi=t,void 0!==t){if(t.L)for(var s,u=Lt(t.L.NI);!(s=u()).done;){var o=s.value;this.Zoi(o)}t.wn(Nw.uI,this.Qoi),t.wn(Nw.fI,this.Koi),t.wn(Nw._I,this.Yoi),t.wn(Nw.dI,this.Joi),t.Qk=zm.iC}},i.Xoi=function(t){var i=this.Goi;if(void 0!==i){if(i.L)for(var n,r=Lt(i.L.NI);!(n=r()).done;){var e=n.value;this.joi(e)}i.mn(Nw.uI,this.$oi),i.mn(Nw._I,this.Yoi),i.mn(Nw.dI,this.Joi),i.Qk=zm.iC}if(this.Goi=t,void 0!==t){if(t.L)for(var s,u=Lt(t.L.NI);!(s=u()).done;){var o=s.value;this.tai(o)}t.wn(Nw.uI,this.$oi),t.wn(Nw._I,this.Yoi),t.wn(Nw.dI,this.Joi),t.Qk=zm.iC}},i.iai=function(t){try{var i,n,r=JSON.parse(t.data),e=r.networkCode,s=null==(i=r.assetKeys)?void 0:i[0];this.nai.eai(e,s),null==(n=this.Noi)||n.removeEventListener("streaminfo",this.Loi)}catch(t){Ui.dm("Error parsing the Server sent stream info",t)}},i.rai=function(t){var i=this.nai.Vx;if(void 0!==i)try{var n,r=JSON.parse(t.data),e=null!=(n=r.podDuration)?n:r.adBreakDuration;if(void 0===e)return void Ui.dm("Tried to schedule an ad break without knowing the duration");var s=(Date.parse(r.startDate)-i.getTime())/1e3;if(s<=-e)return;var u,o=this.nai.Gx()+s,h=r.networkCode,a=r.assetKey,c=r.podId?A(r.podId):void 0,f=this.hai(x3[r.layout]),v=r.assetURIVAST,d=void 0!==a&&void 0!==h||c,l=!d&&void 0!==v,w=null!=(u=r.assetURI)?u:"";d?w="theo-ads://dai.break/?d="+e:l&&(w=v);var g=this.oai(f,w,l),_=new Y3({o:r.id,CO:o,Syt:w,Vhi:g,Ihi:f,Hhi:h,Whi:a,hOt:e,ghi:c,Xhi:r.backdropURI,Ghi:f4(r.backdropURIGamProperties),Qvt:r.startPTS,qhi:r.eabnVersion});this.boi(_,void 0)}catch(t){Ui.dm("Error parsing the Server sent event",t)}else Ui.dm("Tried to schedule an ad break without knowing the Program Date Time of the player")},i.aai=function(t){var i=this.nai.Vx;if(void 0!==i)try{var n,r=JSON.parse(t.data),e=r.duration;if(void 0===e)return void Ui.dm("Tried to schedule an overlay without knowing the duration");var s=(Date.parse(r.startDate)-i.getTime())/1e3;if(s<=-e)return;var u=this.nai.Gx()+s,o=G3[r.type],h=new Q3({o:r.id,Km:o||G3.image,CO:u,hOt:e,mo:d4(r.position),Wy:l4(r.size),Mhi:r.opacity,Lhi:f4(r.gamProperties),cZt:null==(n=r.resourceURI)?void 0:n.map(function(t){return v4(t)}),Ohi:r.clickThroughURI});this.boi(h,void 0)}catch(t){Ui.dm(t)}else Ui.dm("Tried to schedule an overlay without knowing the Program Date Time of the player")},i.Zoi=function(t){if((t.nOt===u4||t.nOt===o4)&&(t.oOt[h4]||t.oOt[a4]))switch(t.nOt){case o4:this.uai(t);break;case u4:this.cai(t)}},i.uai=function(t){try{var i;if(void 0===t.ct&&void 0===t.hOt)return;var n=atob(t.oOt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(n),e=G3[r.type],s=this.nai.lai(t.CO),u=isFinite(t.RO)?this.nai.lai(t.RO):void 0,o=new Q3({o:t.o,Km:e||G3.image,CO:s,RO:u,ct:t.ct,hOt:t.hOt,mo:d4(r.position),Wy:l4(r.size),Mhi:r.opacity,Lhi:f4(r.gamProperties),cZt:null==(i=r.resourceURI)?void 0:i.map(function(t){return v4(t)}),Ohi:r.clickThroughURI});this.boi(o,t)}catch(t){Ui.dm(t)}},i.cai=function(t){var i=t.oOt["X-RESUME-OFFSET"];if(void 0!==t.ct||void 0!==t.hOt||void 0!==i){var n=t.oOt[h4],r=t.oOt[a4],e=l0(n)?function(t){var i=t.split("?")[1],n={},r=new URLSearchParams(i);return n.d=Number(r.get("d"))||void 0,n.k=r.get("k")||void 0,n.n=r.get("n")||void 0,n.p=Number(r.get("p"))||void 0,n}(n):void 0,s=null==e?void 0:e.n,u=null==e?void 0:e.k,o=this.nai.lai(t.CO),h=isFinite(t.RO)?this.nai.lai(t.RO):void 0,a=this.hai(x3[t.oOt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]),c=t.oOt["X-COM-THEOPLAYER-THEOADS-BACKDROP-GAMPROPERTIES"],f=c?JSON.parse(atob(c)):void 0,v=null==e?void 0:e.p,d=!(void 0!==s&&void 0!==u||v)&&void 0!==t.oOt[a4],l=d?r:n,w=this.oai(a,l,d),g=new Y3({o:t.o,CO:o,Syt:l,Vhi:w,Ihi:a,Hhi:s,Whi:u,Xhi:t.oOt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],Ghi:f4(f),RO:h,ct:t.ct,hOt:t.hOt,ghi:v,fhi:void 0!==i?Number(i):void 0});this.boi(g,t),this.fai=g}},i.hai=function(t){return t===x3.LSHAPE_CONTENT?t:this.vai||t},i.oai=function(t,i,n){return t===x3.LSHAPE_CONTENT?e4.COMPANION:n?e4.CSAI:l0(i)?e4.GOOGLE:e4.DEFAULT},i.tai=function(t){var i=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(i)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(i)){var n=fa(new DataView(i.data),new Ta),r=new gu(n),e=r.get("type");if("cue"===e){var s=Number(r.get("duration"))/1e3||void 0,u=new gu(r.get("payload")),o=Number(u.get("dur"))||void 0,h=Number(u.get("s_bd"))||void 0;if(void 0!==o?s=o:void 0!==h&&(s=h/10),!s)return void 0;var a="theo-ads://dai.break/?d="+s,c=Number(r.get("pts"))||void 0,f=this.nai.lai(t.CO),v=this.hai(x3.SINGLE),d=new Y3({o:t.o,CO:f,Syt:a,Vhi:e4.GOOGLE,Ihi:v,hOt:s,Qvt:c});this.boi(d,t)}else if("cue_end"===e){var l=this.fai;l&&l.er({ct:this.nai.lai(t.CO)-l.CO})}}},i._ai=function(t){var i=this.gai.get(t.JI);i&&this.nai.pai(i.CO)},i.mai=function(t){for(var i,n=Lt(this.Roi);!(i=n()).done;){var r=i.value;if(t.o===r.o&&t.Km===r.Km)return!0}return!1},i.wai=function(t){var i=[];if(0===this.nai.EP().length)return Ui.um("Seekable is undefined."),!1;for(var n,r=this.nai.EP().start(0),e=Lt(this.yai);!(n=e()).done;){var s=n.value;if(s.ahi<r)i.push(s);else if(t.o===s.o&&t.Km===s.Km)return!0}for(var u,o=Lt(i);!(u=o()).done;){var h=u.value;Xn(this.yai,h)}return!1},i.boi=function(t,i){var n,r=t.CO+(null!=(n=t.ct)?n:1/0);this.mai(t)||this.wai(t)||this.nai.Gx()>=r||(this.Roi.push(t),i?this.gai.set(i.JI,t):this.yai.push(t),this.nai.boi(t))},i.bai=function(t){var i=this.gai.get(t.JI);if(void 0!==i){var n=t.oOt["X-RESUME-OFFSET"],r=isFinite(t.RO)?this.nai.lai(t.RO):void 0;i.er({ct:t.ct,RO:r,fhi:void 0!==n?Number(n):void 0})}},i.joi=function(t){this.Aai(t)},i.Aai=function(t){void 0!==this.gai.get(t.JI)&&this.gai.delete(t.JI)},i.Sai=function(t){var i=this;t.forEach(function(t){return i.Aoi(t)})},i.Aoi=function(t){Xn(this.Roi,t)},i.hr=function(){var t,i,n,r;this.fai=void 0,this.zoi(void 0),this.Xoi(void 0);for(var e,s=Lt(this.Foi.slice());!(e=s()).done;){var u=e.value;this.Voi(u)}Yn(this.Foi),Yn(this.Roi),Yn(this.yai),this.gai.clear(),null==(t=this.Noi)||t.removeEventListener("adbreak",this.Boi),null==(i=this.Noi)||i.removeEventListener("overlay",this.Moi),null==(n=this.Noi)||n.removeEventListener("streaminfo",this.Loi),null==(r=this.Noi)||r.close(),this.Noi=void 0},i.kn=function(){this.hr()},Nt(t,[{key:"Coi",get:function(){return this.Roi}}]),t}();function f4(t){if(t){var i=t.sz.default;return Bi.Ks&&t.sz.phone?i=t.sz.phone:Bi.og&&t.sz.tv&&(i=t.sz.tv),{Jhi:t.iu,Zhi:i,phi:t.adTagParameters}}}function v4(t){var i=j3[t.type],n=t.default;return Bi.Ks&&t.phone?n=t.phone:Bi.og&&t.tv&&(n=t.tv),{Km:i,Syt:n}}function d4(t){var i,n,r,e;return t.top&&t.top>=0&&t.top<=100?i=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?n=t.bottom:i=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{utt:i,att:n,ott:r,htt:e}}function l4(t){return{Ti:t.width&&t.width>=0&&t.width<=100?t.width:10,Mi:t.height&&t.height>=0&&t.height<=100?t.height:10}}U(),Et(),xt(),Pt();var w4=function(t){function i(i){var n;return(n=t.call(this)||this).oa=void 0,n.hu=void 0,n.oa=i,n}return Ct(i,t),i.prototype.doi=function(t){Ji(t)?this.oa.doi(t):Ui.dm("Incorrect ad tag parameters type, expecting a Record.")},Nt(i,[{key:"Tai",get:function(){return this.oa.Tai.map(function(t){return t.Ont()})}},{key:"kai",get:function(){return this.oa.kai.map(function(t){return t.Ont()})}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=function(t){return{get currentInterstitials(){return t.Tai},get scheduledInterstitials(){return t.kai},replaceAdTagParameters:function(i){t.doi(i)},addEventListener:function(i,n){t.wn(i,n)},removeEventListener:function(i,n){t.mn(i,n)}}}(this)}}]),i}(th);U(),Et(),xt();var g4=function(){function t(){this.R5t=new xI,this.Eai=void 0}var i=t.prototype;return i.Ioi=function(t){this.Eai=t},i.uD=function(){},i.Hnt=function(t){},i.qnt=function(t){},i.kn=function(){return this.Eai=void 0,ut.resolve()},Nt(t,[{key:"u4t",get:function(){return this.R5t}},{key:"w4t",get:function(){var t;return void 0!==(null==(t=this.Eai)?void 0:t.Fnt)}},{key:"r4t",get:function(){return x$.knt}},{key:"Lnt",get:function(){var t;return(null==(t=this.Eai)?void 0:t.hti)?[this.Eai.hti]:[]}},{key:"Fnt",get:function(){var t,i;return null!=(i=null==(t=this.Eai)?void 0:t.Fnt)?i:null}},{key:"Unt",get:function(){var t=this;return this.Eai?Jn(this.Eai.K0t,function(i){var n,r=i.Jc;if(i===(null==(n=t.Eai)?void 0:n.Fnt)&&void 0!==t.Eai.hti){var e=r.indexOf(t.Eai.hti);if(e>=0)return r.slice(e+1)}return i.pP?[]:r}):[]}},{key:"Vnt",get:function(){var t=this;return this.Eai?this.Eai.K0t.filter(function(i){var n;return i===(null==(n=t.Eai)?void 0:n.Fnt)||!i.pP}):[]}}]),t}();U(),Et(),Wt(),xt(),Qt();var _4=function(){function t(t,i,n){var r=this;this.oa=void 0,this.loi=void 0,this.xai=[],this.Iai=void 0,this.Cai=Ju(),this.Bai=void 0,this.gn=void 0,this.Att=function(t){d0(r.Iai,r.oa.MP,r.oa.DP,t.width,t.height)},this.rjt=function(){d0(r.Iai,r.oa.MP,r.oa.DP,r.gn.Eu,r.gn.Iu)},this.$ii=function(t){t.stopPropagation()},this.oa=t,this.Bai=n;var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",an(e),i.appendChild(e),this.Iai=e,this.gn=new AI(i),this.gn._n(),this.gn.wn(fI.yn,this.Att),this.oa.wn(eh.Jw,this.rjt)}var i=t.prototype;return i.Pai=function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){switch(s.label){case 0:return this.Iai.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",this.Cai.set(t.o,i),n=v.createElement("a"),[4,this.Rai(t)];case 1:return(r=s.sent()).clickThroughURI&&(this.Iai.style.zIndex="11",n.href=r.clickThroughURI,n.target="Xu",n.setAttribute("rel","noopener"),n.addEventListener("mousedown",this.$ii),n.addEventListener("touchend",this.$ii)),t.Bhi===G3.image&&(n.style.backgroundImage="url("+r.resourceURI+")",n.style.backgroundSize="contain",n.style.backgroundPosition="center",n.style.backgroundRepeat="no-repeat",r.impressionURI&&((e=v.createElement("img")).src=r.impressionURI,e.style.display="none",n.appendChild(e))),an(n),function(t,i){t.style.position="absolute";var n=i.mo;n.ott&&(t.style.left=n.ott+"%");n.htt&&(t.style.right=n.htt+"%");n.utt&&(t.style.top=n.utt+"%");n.att&&(t.style.bottom=n.att+"%");var r=i.Wy;r.Ti&&(t.style.width=r.Ti+"%");r.Mi&&(t.style.height=r.Mi+"%");i.Mhi&&i.Mhi>0&&i.Mhi<=100&&(t.style.opacity=""+i.Mhi/100)}(i,t),i.appendChild(n),this.Iai.appendChild(i),this.xai.push(t),[2]}})}).call(this)},i.Dai=function(t){var i=this.Cai.get(t.o);i&&(this.Iai.contains(i)&&this.Iai.removeChild(i),this.Cai.delete(t.o),0===this.Cai.size&&(this.Iai.style.display="none"),Xn(this.xai,t))},i.Nai=function(){var t=this;this.Cai.forEach(function(i){t.Iai.contains(i)&&t.Iai.removeChild(i)}),this.Cai.clear(),this.xai=[]},i.Rai=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i={resourceURI:""},t.Lhi?((r=Yu({},this.loi,t.phi))&&!r[$3]&&(r[$3]=i4.noi),[4,this.Bai.Yhi(t.Lhi,r)]):[3,2];case 1:n=o.sent(),o.label=2;case 2:return n?(i.resourceURI=n.image,i.impressionURI=n.impression):t.cZt&&((e=Fn(t.cZt,function(t){return t.Km===j3.svg}))&&(i.resourceURI=e.Syt),(s=Fn(t.cZt,function(t){return t.Km===j3.png}))&&(i.resourceURI=s.Syt)),i.clickThroughURI=null!=(u=null==n?void 0:n.clickThrough)?u:t.KYt,t.er({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}})}).call(this)},i.hr=function(){this.Nai(),this.Iai.style.display="none"},Nt(t,[{key:"Tai",get:function(){return this.xai}},{key:"phi",get:function(){return this.loi},set:function(t){this.loi=t}}]),t}();U(),Et(),Pt();var m4=function(t){function i(i){var n;return(n=t.call(this,"addinterstitial")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var y4=function(t){function i(i){var n;return(n=t.call(this,"Mai")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i.prototype.xa=function(){return new p4(this.interstitial.Ont())},i}(Aw),p4=function(t){function i(i){var n;return(n=t.call(this,"interstitialend")||this).interstitial=void 0,n.interstitial=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var k4=function(t){function i(i,n){var r;return(r=t.call(this,"Lai")||this).interstitial=void 0,r.Iy=void 0,r.interstitial=i,r.Iy=n,r}return Ct(i,t),i.prototype.xa=function(){return new b4(this.interstitial.Ont(),this.Iy)},i}(Aw),b4=function(t){function i(i,n){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=void 0,r.message=void 0,r.interstitial=i,r.message=n,r}return Ct(i,t),i}(rh);U(),Et(),Wt(),xt(),Pt(),Qt();var A4=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).d9=!1,i.Uai=function(t){!i.d9&&i.xoi&&(i.d9=!0,i.U9t(i.Yri(t.currentTime)))},i.Toi=function(t){i.Bd(i.Yri(t.currentTime))},i}Ct(i,t);var n=i.prototype;return n.Oai=function(){return!1},n.BW=function(t,i,n){return ut.resolve()},n.Fai=function(t,i,n,r){return void 0===r&&(r=!1),Vt(function(){var e,s;return zt(this,function(u){switch(u.label){case 0:return e=this.yoi(t,i),[4,this.poi(t,i,n)];case 1:return s=u.sent(),[2,this.Eoi(s,t,n,e,r)]}})}).call(this)},n.poi=function(t,i,n){return Vt(function(){return zt(this,function(i){return this.xoi=t,[2,cE({sources:{src:t.Syt}})]})}).call(this)},n.Soi=function(){t.prototype.Soi.call(this),this.k5t.wn(Ry.PM,this.Uai)},n.koi=function(){this.k5t.mn(Ry.PM,this.Uai),t.prototype.koi.call(this)},n.bd=function(t){if(this.ooi){var i=this.Yri(t.currentTime),n=this.ooi.Q4t;this.ooi.dhi(i);var r=this.ooi.Q4t;n<.25&&r>=.25?this.R5t.So(new W0(this.u1t,i)):n<.5&&r>.5?this.R5t.So(new X0(this.u1t,i)):n<.75&&r>=.75?this.R5t.So(new G0(this.u1t,i)):this.ooi.pP&&this.Bd(i)}else Ui.um("Got timeupdate without a current interstitial")},n.Bd=function(i){t.prototype.Bd.call(this,i),this.d9=!1},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),this.d9=!1,[2]}})}).call(this)},Nt(i,[{key:"Vhi",get:function(){return e4.DEFAULT}}]),i}(s4);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Pt(),H(),U(),Et(),Pt();var T4=function(t){function i(i,n,r){var e;return(e=t.call(this,i,new Date)||this).Vai=void 0,e.jnt=void 0,e.Vai=n,e.jnt=r,e}return Ct(i,t),i}(rh),S4=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),E4=function(t){function i(i,n){return t.call(this,"DAILoaded",i,n)||this}return Ct(i,t),i}(T4),I4=function(t){function i(i,n){return t.call(this,"DAIAdBreakStarted",i,n)||this}return Ct(i,t),i}(T4),R4=function(t){function i(i,n){return t.call(this,"DAIAdBreakEnded",i,n)||this}return Ct(i,t),i}(T4),C4=function(t){function i(i,n){return t.call(this,"DAIAdProgress",i,n)||this}return Ct(i,t),i}(T4),P4=function(t){function i(i,n){return t.call(this,"DAICuePointsChanged",i,n)||this}return Ct(i,t),i}(T4),D4=function(t){function i(i,n){return t.call(this,"DAIClick",i,n)||this}return Ct(i,t),i}(T4),N4=function(t){function i(i,n){return t.call(this,"DAIError",i,n)||this}return Ct(i,t),i}(T4),x4=function(t){function i(i,n){return t.call(this,"DAIStarted",i,n)||this}return Ct(i,t),i}(T4),B4=function(t){function i(i,n){return t.call(this,"DAIFirstQuartile",i,n)||this}return Ct(i,t),i}(T4),O4=function(t){function i(i,n){return t.call(this,"DAIMidpoint",i,n)||this}return Ct(i,t),i}(T4),M4=function(t){function i(i,n){return t.call(this,"DAIStreamInitialized",i,n)||this}return Ct(i,t),i}(T4),L4=function(t){function i(i,n){return t.call(this,"DAIThirdQuartile",i,n)||this}return Ct(i,t),i}(T4),F4=function(t){function i(i,n){return t.call(this,"DAIComplete",i,n)||this}return Ct(i,t),i}(T4);var U4=function(t){function i(i,n,r){var e;(e=t.call(this)||this).Hai=void 0,e.T2t=void 0,e.eui=void 0,e.Gai=void 0,e.iui=void 0,e.Xai=void 0,e.Q1t=void 0,e.jai=void 0,e.Qai=void 0,e.Ts=void 0,e.Kai=void 0,e.Yai=void 0,e.Jai=void 0,e.Zai=void 0,e.$ai=void 0,e.tui=void 0,e.Hai=i,e.T2t=n,e.eui=r,e.Gai=function(t){e.zai(!0);var i=H4(t),n=z4(t);e.So(new I4(i,n))},e.iui=function(t){e.zai(!1);var i=H4(t),n=z4(t);e.So(new R4(i,n))},e.Xai=function(t){var i=H4(t),n=z4(t);e.So(new C4(i,n))},e.Q1t=function(t){var i=H4(t),n=z4(t);e.So(new D4(i,n))},e.jai=function(t){var i=H4(t),n=z4(t);e.So(new F4(i,n))},e.Qai=function(t){var i=H4(t),n=z4(t);e.So(new P4(i,n))},e.Ts=function(t){var i=H4(t),n=z4(t);e.So(new N4(i,n))},e.Kai=function(t){var i=H4(t),n=z4(t);e.So(new B4(i,n))},e.Yai=function(t){var i=H4(t),n=z4(t);e.So(new E4(i,n))},e.Jai=function(t){var i=H4(t),n=z4(t);e.So(new O4(i,n))},e.Zai=function(t){var i=H4(t),n=z4(t);e.So(new x4(i,n))},e.$ai=function(t){var i=H4(t),n=z4(t);e.So(new M4(i,n))},e.tui=function(t){var i=H4(t),n=z4(t);e.So(new L4(i,n))},e.T2t&&(e.T2t.style.display="none",e.Hai.setClickElement(e.T2t));var s=google.ima.dai.api.StreamEvent.Type;return e.Hai.addEventListener(s.AD_BREAK_STARTED,e.Gai),e.Hai.addEventListener(s.AD_PROGRESS,e.Xai),e.Hai.addEventListener(s.CLICK,e.Q1t),e.Hai.addEventListener(s.COMPLETE,e.jai),e.Hai.addEventListener(s.CUEPOINTS_CHANGED,e.Qai),e.Hai.addEventListener(s.ERROR,e.Ts),e.Hai.addEventListener(s.FIRST_QUARTILE,e.Kai),e.Hai.addEventListener(s.LOADED,e.Yai),e.Hai.addEventListener(s.MIDPOINT,e.Jai),e.Hai.addEventListener(s.STARTED,e.Zai),e.Hai.addEventListener(s.STREAM_INITIALIZED,e.$ai),e.Hai.addEventListener(s.THIRD_QUARTILE,e.tui),e.Hai.addEventListener(s.AD_BREAK_ENDED,e.iui),e}Ct(i,t);var n=i.prototype;return n.replaceAdTagParameters=function(t){return this.Hai.replaceAdTagParameters(null!=t?t:null)},n.Wai=function(t){return this.Hai.contentTimeForStreamTime(t)},n.qai=function(t){return this.Hai.streamTimeForContentTime(t)},n.KHt=function(t,i){var n=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(Yu({},V4(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(Yu({},V4(t),{assetKey:t.assetKey}))}(t);t.enableNonce&&(n.enableNonce=!0),this.Hai.requestStream(n)},n.hr=function(){this.zai(!1),this.Hai.reset()},n.kn=function(){this.Vo();var t=google.ima.dai.api.StreamEvent.Type;this.Hai.removeEventListener(t.AD_BREAK_STARTED,this.Gai),this.Hai.removeEventListener(t.AD_PROGRESS,this.Xai),this.Hai.removeEventListener(t.CLICK,this.Q1t),this.Hai.removeEventListener(t.COMPLETE,this.jai),this.Hai.removeEventListener(t.CUEPOINTS_CHANGED,this.Qai),this.Hai.removeEventListener(t.ERROR,this.Ts),this.Hai.removeEventListener(t.FIRST_QUARTILE,this.Kai),this.Hai.removeEventListener(t.LOADED,this.Yai),this.Hai.removeEventListener(t.MIDPOINT,this.Jai),this.Hai.removeEventListener(t.STARTED,this.Zai),this.Hai.removeEventListener(t.STREAM_INITIALIZED,this.$ai),this.Hai.removeEventListener(t.THIRD_QUARTILE,this.tui),this.Hai.removeEventListener(t.AD_BREAK_ENDED,this.iui),this.hr(),this.eui&&Zi(this.eui)},n.sui=function(t){this.Hai.onTimedMetadata(t)},n.nui=function(t,i,n){this.Hai.processMetadata(t,i,n)},n.rui=function(t){var i=this.Hai.previousCuePointForStreamTime(t);if(i)return{RO:i.end,CO:i.start,pP:i.played}},n.hui=function(t,i){var n=this.rui(t);if(n){var r=t>i&&n.RO>i,e=n.RO>t&&n.CO<=t;return n.pP||!r&&!e?void 0:n.CO}},n.zai=function(t){this.T2t&&(this.T2t.style.display=t?"block":"none")},i}(th);function V4(t){var i,n=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?n.DASH:n.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(i=d1(t.omidAccessModeRules))?i:{}}}function H4(t){var i,n=t.getStreamData(),r=n.adProgressData;return r&&(i={P9t:r.adBreakDuration,oui:r.duration,I9t:r.adPosition,zx:r.currentTime,ct:r.duration,C9t:r.totalAds}),{aui:i,uui:(n.cuepoints||[]).map(function(t){return{CO:t.start,RO:t.end,pP:t.played}}),cui:n.errorMessage||void 0,dui:n.manifestFormat||void 0,lui:n.streamId||void 0,fui:(n.subtitles||[]).map(function(t){return{_ui:t.webvtt,gui:t.ttml,bs:t.language}}),Yu:n.url}}function W4(t){return{VYt:t.getAdSlotId(),G4t:t.getContent(),GT:t.getContentType(),Mi:t.getHeight(),Ti:t.getWidth()}}function z4(t){var i=t.getAd();if(i){var n=i.getAdPodInfo(),r=i.getCompanionAds().map(W4);return{fJt:i.getAdId(),v7t:{I9t:n.getAdPosition(),G0t:n.getMaxDuration(),Iri:n.getPodIndex(),qOt:n.getTimeOffset(),C9t:n.getTotalAds()},QKt:i.getAdSystem(),Rri:i.getAdvertiserName(),FYt:i.getApiFramework(),sYt:r,wYt:i.getCreativeId(),eti:i.getCreativeAdId(),Dri:i.getDealId(),_N:i.getDescription(),ct:i.getDuration(),gq:i.getTitle(),pui:i.getUniversalAdIdRegistry(),mui:i.getUniversalAdIdValue(),J7t:i.getVastMediaHeight(),Y7t:i.getVastMediaWidth(),X7t:i.getWrapperAdIds(),j7t:i.getWrapperAdSystems(),Q7t:i.getWrapperCreativeIds()}}}function X4(){var t=v.body.lastElementChild;if(V(t,HTMLIFrameElement)&&"Advertisement"===t.title)return t}U(),Et(),Pt();var q4=function(t){function i(i){var n;return(n=t.call(this,i)||this).q4t=!0,n.Zb=i.X0t,n}return Ct(i,t),i}(J3);U(),Et(),xt(),Pt();var G4=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).wui=void 0,r.wui=n,r}Ct(i,t);var n=i.prototype;return n.a1t=function(){return this.wui.getAdSystem()},n.d1t=function(){return this.od.Khi.Syt},Nt(i,[{key:"o",get:function(){return this.wui.getAdId()}},{key:"ct",get:function(){return this.wui.getDuration()}},{key:"KYt",get:function(){var t,i;return null==(i=this.wui)||null==(t=i.ad)?void 0:t.clickThroughUrl}},{key:"wYt",get:function(){return this.wui.getCreativeId()}},{key:"kJt",get:function(){return this.wui.getSkipTimeOffset()}}]),i}(J3),j4="urn:google:dai:2018",Q4=function(t){function i(i,n,r,e,s,u,o,h){var a;return void 0===u&&(u={}),(a=t.call(this,i,n,e,s,u)||this).Hai=void 0,a.Pui=void 0,a.Sui=void 0,a.Lui=void 0,a.yui=void 0,a.bui=void 0,a.Eui=void 0,a.Dui=void 0,a.Aui=void 0,a.Fui=-1,a.Uui=void 0,a.Vui=void 0,a.Wn=function(t){var i=t.Ht;a.Bui(i)},a.Mui=function(t){t.PO.wn(Ug.QL,a.Hui)},a.Joi=function(t){t.PO.mn(Ug.QL,a.Hui)},a.Hui=function(t){var i,n;if(a.Pui)if((null==(i=a.Lui)?void 0:i.Km)===Ng.ID3){var r,e=t.PO.U;if(_y(e))if(a.Fui<=t.PO.CO&&a.Uui!==e.text)a.Fui=t.PO.CO,a.Uui=e.text,null==(r=a.Hai)||r.onTimedMetadata({TXXX:e.text})}else if((null==(n=a.Lui)?void 0:n.Km)===Ng.EVENT_STREAM){var s,u,o=t.PO.U;null==(s=a.Hai)||s.onTimedMetadata(((u={})[j4]=o,u))}},a.Oui=function(t){switch(a.w1t&&(a.w1t.X0t=a.k5t.Nd()-a.k5t.Gx()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.R5t.So(new A0(kZ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:if(a.ooi)break;a.Ed(),a.Vui=Ui.Og(a.Wui,250),a.Cui(a.loi);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:a.Vui&&Ui.Lg(a.Vui),a.ooi||a.Ed();break;case google.ima.dai.api.StreamEvent.Type.STARTED:var i,n=t.getAd();a.u1t=new G4(a.w1t,n),null==(i=a.ooi)||i.er({ad:a.u1t}),a.R5t.So(new QB(a.u1t,a.Yri(a.k5t.Gx())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a.R5t.So(new W0(a.u1t,a.Yri(a.k5t.Gx())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a.R5t.So(new X0(a.u1t,a.Yri(a.k5t.Gx())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a.R5t.So(new G0(a.u1t,a.Yri(a.k5t.Gx())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a.R5t.So(new KB(a.u1t,a.Yri(a.k5t.Gx()))),a.u1t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.w1t)break;a.w1t.X0t>1.5&&a.Wui()}},a.Wui=function(){var t;a.u1t=new q4(a.w1t),null==(t=a.ooi)||t.er({ad:a.u1t}),a.R5t.So(new QB(a.u1t,a.Yri(a.k5t.Gx())))},a.Aui=r,a.Eui=o,a.Dui=h,a}Ct(i,t);var n=i.prototype;return n.Oai=function(){return!1},n.BW=function(t,i,n){return Vt(function(){var n,r;return zt(this,function(e){if(!t||!i||t===this.yui&&i===this.bui)return[2];if(void 0===this.Hai){if(void 0===(null==(r=f.google)||null==(n=r.ima)?void 0:n.dai))throw new y("IMA DAI SDK missing for THEOads");this.Hai=new google.ima.dai.api.StreamManager(this.k5t.xe.querySelector("video"),this.Aui)}return this.yui=t,this.bui=i,this.Sui=this.Tui(),[2,this.Sui]})}).call(this)},n.Tui=function(){var t=this,i=this.Hai;if(!i)return ut.resolve();this.kui(i),i.reset();var n=new google.ima.dai.api.PodStreamRequest;n.networkCode=this.yui,n.customAssetKey=this.bui,n.adTagParameters=this.loi,this.Eui&&(n.streamActivityMonitorId=this.Eui),n.format="hls";var r=this.xui(i,[google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then(function(n){if(n.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new y("DAI stream request failed");t.Pui=n.getStreamData(),t.Iui(i)});return i.requestStream(n),r},n.xui=function(t,i,n){return new ut(function(r,e){if(n&&n.Hg)return e(new fr);for(var s,u=function(t){h(),r(t)},o=function(){h(),e(new fr)},h=function(){for(var r,e=Lt(i);!(r=e()).done;){var s=r.value;t.removeEventListener(s,u)}n&&n.jg(o)},a=Lt(i);!(s=a()).done;){var c=s.value;t.addEventListener(c,u)}n&&n.Xg(o)})},n.doi=function(i){void 0===i&&(i={}),t.prototype.doi.call(this,i),this.Cui(this.loi)},n.Cui=function(t){var i;void 0===t&&(t={}),null==(i=this.Hai)||i.replaceAdTagParameters(t)},n.Rui=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return i=this,(null==(n=this.xoi)?void 0:n.ghi)&&!S(this.xoi.ghi)?[2,this.xoi.ghi]:this.Dui&&(null==(r=this.xoi)?void 0:r.Qvt)?[4,mT(function(){return i.Nui()},t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}})}).call(this)},n.Nui=function(){return Vt(function(){var t,i,n,r;return zt(this,function(e){switch(e.label){case 0:t=this.Dui+"/"+this.yui+"/"+this.bui+"/"+this.xoi.Qvt+".json",i=new Al({Yu:t,fk:Ud.BT,Hk:ml.GET,Wk:1e3}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.k5t.Dx.vk(i)];case 2:return n=e.sent(),[3,4];case 3:throw e.sent(),new pZ(kZ.NETWORK,bZ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!gl(n))throw new pZ(kZ.NETWORK,bZ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,n.lk()];case 5:return(r=e.sent())?[2,r.podid]:[2,void 0]}})}).call(this)},n.Fai=function(t,i,n,r){return void 0===r&&(r=!1),Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.poi(t,i,n)];case 1:return e=s.sent(),[4,this.Eoi(e,t,n,void 0,r)];case 2:return s.sent(),[2]}})}).call(this)},n.poi=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:return this.xoi=t,e=t.Hhi,s=t.Whi,this._oi(t.Ihi),u=Yu({},this.loi,t.phi),this.Cui(u),[4,this.BW(e,s,n)];case 1:return d.sent(),o=Ui.Dh(t.Syt),h=Number(o.searchParams.get("d")),a=b.floor(1e3*b.min(h,t.ahi-i)),[4,this.Rui(n)];case 2:if(!(c=d.sent()))throw new y("Something went wrong with retrieving the PodID from the server.");return(null==(r=this.Pui)?void 0:r.streamId)?[3,4]:[4,this.Sui];case 3:d.sent(),d.label=4;case 4:return f=Ui.Dh("https://dai.google.com/linear/pods/v1/hls/network/"+this.yui+"/custom_asset/"+this.bui),"V2"===t.qhi?f.pathname+="/ad_break_id/"+c+".m3u8":f.pathname+="/pod/"+c+".m3u8",v=this.Pui.streamId,f.searchParams.set("stream_id",v),f.searchParams.set("pd",String(a)),[2,cE({sources:{src:f.toString()}})]}})}).call(this)},n.Soi=function(){var i=this;this.k5t.nt.NI.forEach(function(t){return i.Wn(new Rw(t))}),this.k5t.nt.wn(Iw.rI,this.Wn),t.prototype.Soi.call(this)},n.koi=function(){t.prototype.koi.call(this),this.k5t.nt.mn(Iw.rI,this.Wn)},n.Bui=function(t){if(t.Lt===Jm.zU&&!(t.Km!==Ng.ID3&&t.Km!==Ng.EVENT_STREAM||t.Km===Ng.EVENT_STREAM&&t.eC!==j4)){if(t.wn(Nw.uI,this.Mui),t.wn(Nw.dI,this.Joi),t.L)for(var i,n=Lt(t.L.NI);!(i=n()).done;){var r=i.value;this.Mui(new GP(r))}t.Qk=zm.iC,this.Lui=t}},n.Iui=function(t){t&&(t.addEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Oui),t.addEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Oui))},n.kui=function(t){t&&(t.removeEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Oui),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Oui))},n.Ed=function(){this.ooi=this.xoi,this.xoi=void 0,this.w1t=this.y5t(this.ooi),this.w1t?this.R5t.So(new GB(this.w1t)):Ui.dm("Started an ad break without having a current adbreak to our knowledge")},n.Bd=function(i){t.prototype.Bd.call(this,i),this.Fui=-1,this.Uui=void 0},n.hr=function(){var i=this;return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return e.sent(),this.kui(this.Hai),null==(n=this.Hai)||n.reset(),this.Hai=void 0,this.Pui=void 0,this.Sui=void 0,this.Eui=void 0,this.bui=void 0,this.yui=void 0,this.voi=!0,this.Fui=-1,this.Uui=void 0,void 0!==(r=X4())&&Zi(r),[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,t.prototype.kn.call(i)];case 1:return r.sent(),null==(n=this.Lui)||n.kn(),[2]}})}).call(this)},Nt(i,[{key:"Vhi",get:function(){return e4.GOOGLE}}]),i}(s4);U(),Et(),Wt(),Pt(),Qt();var Y4=function(t){function i(i){return t.call(this,i)||this}Ct(i,t);var n=i.prototype;return n.qui=function(){},n.Eoi=function(t,i,n,r){return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,this.oa.Ta(t,r)];case 1:return e.sent(),this.zui(this.oa,i,n),[2]}})}).call(this)},n.zui=function(t,i,n){i&&t.Xx(i),n&&t.QP()},n.Gui=function(t){},i}(a0);U(),Et(),Wt(),xt(),Pt(),Qt(),St();var K4=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).ePt=0,i.Toi=function(t){i.Bd(i.Yri(t.currentTime))},i}Ct(i,t);var n=i.prototype;return n.Oai=function(){return!0},n.BW=function(t,i,n){return ut.resolve()},n.Fai=function(t,i,n,r){return void 0===r&&(r=!1),this.xoi=t,this.yoi(t,i),ut.resolve()},n.Eoi=function(t,i,n,r,e){return Vt(function(){return zt(this,function(t){return[2,ut.resolve()]})})()},n.poi=function(t,i,n){return Vt(function(){return zt(this,function(i){return this.xoi=t,[2,cE({sources:{src:t.Syt}})]})}).call(this)},n.uoi=function(t){this.ePt=t-this.k5t.Gx(),this.U9t(t)},n.bd=function(t){if(this.ooi){var i=this.Yri(t.currentTime);this.ooi.dhi(i),this.ooi.pP&&this.Bd(i)}else Ui.um("Got timeupdate without a current interstitial")},n.Yri=function(t){return this.ePt+t},Nt(i,[{key:"Vhi",get:function(){return e4.COMPANION}}]),i}(s4);U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),St(),U(),Et(),xt(),Pt();var J4=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).Xui=void 0,r.Xui=n,r}Ct(i,t);var n=i.prototype;return n.a1t=function(){return this.Xui.QKt},n.d1t=function(){return this.od.Khi.Syt},Nt(i,[{key:"o",get:function(){return this.Xui.fJt}},{key:"ct",get:function(){return this.Xui.ct}},{key:"KYt",get:function(){}},{key:"wYt",get:function(){return this.Xui.wYt}},{key:"kJt",get:function(){return this.Xui.tti}}]),i}(J3),Z4=function(t){function i(i,n,r,e,s,u){var o,h;void 0===u&&(u={}),o=t.call(this,n,r,e,s,u)||this,(h=o).Nti=void 0,h.rci=void 0,h.dnt=void 0,h.uci=0,h.M9t=function(t){return Vt(function(){var i;return zt(this,function(n){return h.R5t.So(new A0(kZ.GENERAL,null==(i=t.J9t.D7t)?void 0:i.Iy)),[2]})})()},h.Kui=function(){h.L9t()},h.Yui=function(){h.O9t()},h.F9t=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,h.O9t()];case 1:return t.sent(),[2]}})})()},h.Jui=function(t){var i=t.jnt;i&&h.w1t&&(h.u1t=new J4(h.w1t,i),h.aci())},h.Zui=function(){h.R5t.So(new W0(h.u1t,h.Yri(h.k5t.Gx())))},h.$ui=function(){h.R5t.So(new X0(h.u1t,h.Yri(h.k5t.Gx())))},h.tci=function(){h.R5t.So(new G0(h.u1t,h.Yri(h.k5t.Gx())))},h.ici=function(){h.cci()},h.eci=function(){h.k5t.So(new fT(h.Yri(h.k5t.Gx()))),h.k5t.So(new Ly(h.Yri(h.k5t.Gx())))},h.sci=function(){h.k5t.So(new cT(h.Yri(h.k5t.Gx())))},h.nci=function(){h.Xai()},h.hci=function(){h.xoi?(h.ooi=h.xoi,h.xoi=void 0,h.w1t=h.y5t(h.ooi),h.R5t.So(new GB(h.w1t))):Ui.um("Started an ad break without having a current ad break to our knowledge")},h.Toi=function(t){h.Bd(h.Yri(t.currentTime))},h.dnt=i,h.rci=D1(h.k5t.Cd)?h.k5t.zP():void 0;var a=new w3(h.rci,h.k5t.xe),c=new k3(a,h.k5t.Wu),f=new A3(h.k5t);return h.Nti=new N1(a,f,c),o}Ct(i,t);var n=i.prototype;return n.BW=function(t,i,n){return ut.resolve()},n.QP=function(){this.hoi&&this.Nti.kti()},n.jP=function(){this.hoi&&this.Nti.jP()},n.coi=function(t){this.hoi&&this.Nti.UP(t)},n.Fai=function(t,i,n,r){return void 0===r&&(r=!1),Vt(function(){return zt(this,function(i){return this.xoi=t,[2,this.jui(t)]})}).call(this)},n.jui=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return i=this.u6t(this.Qui(t)),n={Yti:void 0,Jti:void 0,Zti:!0,z9:void 0,$ti:void 0,tii:void 0},[4,this.Nti.r8t(i,n)];case 1:return e.sent(),this.Nti.xti()||(r=this.dnt.oP?0:this.dnt.OP,this.Nti.UP(r)),[2]}})}).call(this)},n.u6t=function(t){return{f6t:this.k5t.xe.offsetWidth,v6t:this.k5t.xe.offsetHeight,_6t:this.k5t.xe.offsetWidth,g6t:this.k5t.xe.offsetHeight,p6t:!0,m6t:this.dnt.oP,w6t:t,y6t:void 0,b6t:void 0,A6t:0}},n.poi=function(t,i,n){return Vt(function(){return zt(this,function(i){return this.xoi=t,[2,cE({ads:[{integration:"google-ima",sources:this.Qui(t)}]})]})}).call(this)},n.Qui=function(t){var i=new URL(t.Syt),n=i.searchParams;this._oi(t.Ihi);for(var r,e=Yu({},this.loi,t.phi),s=Lt(k.keys(e));!(r=s()).done;){var u=r.value;n.set(u,e[u])}return i.toString()},n.Soi=function(){t.prototype.Soi.call(this);var i=this.Nti.j0t;null==i||i.wn(u1.U8t,this.M9t),null==i||i.wn(s1._8t,this.Kui),null==i||i.wn(s1.v8t,this.Yui),null==i||i.wn(s1.D8t,this.F9t),null==i||i.wn(s1.m8t,this.Jui),null==i||i.wn(s1.S8t,this.Zui),null==i||i.wn(s1.XJt,this.$ui),null==i||i.wn(s1.T8t,this.tci),null==i||i.wn(s1.jJt,this.ici),null==i||i.wn(s1.y8t,this.eci),null==i||i.wn(s1.Yz,this.sci),null==i||i.wn(s1.b8t,this.nci)},n.koi=function(){var i=this.Nti.j0t;null==i||i.mn(u1.U8t,this.M9t),null==i||i.mn(s1._8t,this.Kui),null==i||i.mn(s1.v8t,this.Yui),null==i||i.mn(s1.D8t,this.F9t),null==i||i.mn(s1.m8t,this.Jui),null==i||i.mn(s1.S8t,this.Zui),null==i||i.mn(s1.XJt,this.$ui),null==i||i.mn(s1.T8t,this.tci),null==i||i.mn(s1.jJt,this.ici),null==i||i.mn(s1.y8t,this.eci),null==i||i.mn(s1.Yz,this.sci),null==i||i.mn(s1.b8t,this.nci),t.prototype.koi.call(this)},n.L9t=function(){if(this.rci&&(this.rci.style.display="block"),!this.hoi){var t=this.dnt.oP?0:this.dnt.OP;this.Nti.UP(t)}this.hci()},n.O9t=function(){return Vt(function(){return zt(this,function(t){return this.w1t?(this.Bd(this.Yri(this.w1t.G0t)),[2]):[2]})}).call(this)},n.aci=function(){var t,i;null==(t=this.ooi)||t.er({ad:this.u1t}),this.uci=this.Yri(null==(i=this.k5t)?void 0:i.Gx()),this.R5t.So(new QB(this.u1t,this.uci))},n.cci=function(){var t=this.uci+this.u1t.ct;this.R5t.So(new KB(this.u1t,t)),this.u1t=void 0},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),this.Nti.kn(),this.uci=0,[2]}})}).call(this)},Nt(i,[{key:"Vhi",get:function(){return e4.CSAI}}]),i}(s4),$4=function(t){function i(i,n,r,e,s,u){var o;return void 0===u&&(u={}),(o=t.call(this,i,n,r,e,s,u)||this).dci=function(){o.ooi||o.Nti.Tti()},o.k5t.wn(eh.uo,o.dci),o}Ct(i,t);var n=i.prototype;return n.Oai=function(){return!1},n.Xai=function(){var t=this.Nti.I7t();if(this.w1t&&void 0!==t){var i=this.w1t.G0t-t;this.k5t.Xx(i);var n=this.k5t.ihi?new Date(this.k5t.ihi.getTime()+1e3*i):void 0;this.k5t.So(new bw(i,n))}},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),this.k5t.mn(eh.uo,this.dci),[2]}})}).call(this)},i}(Z4);U(),Et(),Wt(),Pt(),Qt();var t5=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).lci=void 0,i.fci=void 0,i}Ct(i,t);var n=i.prototype;return n.Oai=function(){return!0},n.Eoi=function(t,i,n,r,e){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.Fai(i,this.dnt.Gx(),n)];case 1:return t.sent(),this.Nti.Tti(),[2]}})}).call(this)},n.Xai=function(){var t=this.Nti.I7t();if(this.w1t&&void 0!==t){var i,n=null!=(i=this.lci)?i:0;n+=this.w1t.G0t-t,this.dnt.Xx(n);var r=this.fci?new Date(this.fci.getTime()+1e3*n):void 0;this.dnt.So(new bw(n,r))}},n.L9t=function(){t.prototype.L9t.call(this),this.lci=this.dnt.Gx(),this.fci=this.dnt.Vx,this.dnt.jP()},n.O9t=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.O9t.call(i)];case 1:return n.sent(),this.dnt.QP(),[2]}})}).call(this)},n.Yri=function(t){return t},i}(Z4),i5=function(t){function i(i){var n,r,e;return n=t.call(this,i)||this,(r=n).dnt=void 0,r.Eci=void 0,r.Ls=void 0,r.kci=void 0,r.Aui=void 0,r.nq=void 0,r.Wz=void 0,r.pci=void 0,r.bci=void 0,r.gci=void 0,r.Eai=void 0,r.Pci=void 0,r.loi=void 0,r.Wci=void 0,r.Ici=void 0,r.Gci=void 0,r.sdi=void 0,r.Xci=void 0,r.Oci=void 0,r.qci=void 0,r._ci=void 0,r.Bai=void 0,r.vci=void 0,r.Yci=Ju(),r.adi=!0,r.udi=NaN,r.Qci=NaN,r.jci=NaN,r.cdi=void 0,r.odi=!1,r.ldi=!0,r.YG=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return r.dnt.mn(Ry.PM,r.YG),r.pci?r.pci.initializationDelay?(r.cdi=Ui.Og(function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return r.pci?[4,r.Sci(r.pci)]:[2];case 1:return t.sent(),[2]}})})()},1e3*r.pci.initializationDelay),[3,3]):[3,1]:[2];case 1:return[4,r.Sci(r.pci)];case 2:t.sent(),t.label=3;case 3:return[2]}})})()},r.Kq=function(){r.dnt.mn(Ry.EM,r.Kq),r._ci.Ooi(r.oa.nt)},r.mci=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,r.rnt.Fj([mE.THEOADS])];case 1:return i.sent(),[3,4];case 2:return t=i.sent(),[4,r.KP().catch(dn)];case 3:return i.sent(),r.Qq(wd(t,vd.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}})})()},r.Att=function(t){d0(r.Eci,r.oa.MP,r.oa.DP,t.width,t.height)},r.rjt=function(){d0(r.Eci,r.oa.MP,r.oa.DP,r.Wu.Eu,r.Wu.Iu)},r.Cci=function(){r.Jci(r.Gx()),r.Zci()},r.JG=function(){r.Jci(r.Gx()),r.Zci()},r.Nci=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return r.rdi()?r.Xci?[2]:(r.Xci=r.Gci,[4,r.Xci]):[3,2];case 1:return t.sent(),r.Lci(function(){return r.Hci()}),[3,3];case 2:r.Lci(function(){return r.I3t()}),t.label=3;case 3:return[2]}})})()},r.Bci=function(t){return r.Fci(r.Wci,"Error playing the current adbreak: "+t.error),r.Lci(function(){return r.I3t()})},r.Kci=function(t){r.gci.So(t.Ca)},r.dnt=new Y4(i),r.Ls=i.xe,r.Eci=function(){var t=v.createElement("div");return sn(t,"theo-ads-sgai-container"),t}(),r.kci=function(){var t=v.createElement("div");return sn(t,"theo-ads-sgai-content-player"),t}(),r.gci=new w4(r),r.Pci=new g4,null==(e=r.dnt.Jc)||e.znt(r.Pci),r.Bai=new t4(i.Dx),r._ci=new c4(r),r.vci=new _4(r.dnt,r.kci,r.Bai),n}Ct(i,t);var n=i.prototype;return n._nt=function(){return this.dnt.Jc},n.ynt=function(){return this.gci.Ca},n.jx=function(){return this.Ls},n.vnt=function(){return this.dnt.Kst},n.Yx=function(){var i;return null!=(i=this.Wz)?i:t.prototype.Yx.call(this)},n.Zx=function(){var i;return null!=(i=this.nq)?i:t.prototype.Zx.call(this)},n.GP=function(){this.dnt.GP()},n.lai=function(t){return t},n.QP=function(){var i;t.prototype.QP.call(this),null==(i=this.Eai)||i.QP()},n.jP=function(){var i;t.prototype.jP.call(this),null==(i=this.Eai)||i.jP()},n.UP=function(i){var n;t.prototype.UP.call(this,i),null==(n=this.Eai)||n.coi(i)},n.uP=function(i){var n;t.prototype.uP.call(this,i);var r=i?0:this.oa.OP;null==(n=this.Eai)||n.coi(r)},n.Ta=function(i,n){var r=this;return Vt(function(){var e;return zt(this,function(s){switch(s.label){case 0:return[4,this.Xpt()];case 1:return s.sent(),[4,t.prototype.Ta.call(r,i,n)];case 2:return s.sent(),void 0===i||void 0===i.ads?[2]:void 0===(e=Fn(i.ads,w0))?[2]:(this.mci(),this.wci(),this.yci(),this.pci=e,this.bci=e.backdropLShape,this.vci.phi=e.adTagParameters,this._ci.vai=function(t){switch(t){case"single":return x3.SINGLE;case"l-shape":return x3.LSHAPE_AD;case"double":return x3.DOUBLE;case"single-if-mobile":return Bi.Ks?x3.SINGLE:void 0;default:return}}(this.pci.overrideLayout),this._ci.Woi=this.pci.useId3,this.dnt.wn(Ry.EM,this.Kq),this.Wu.wn(fI.yn,this.Att),this.wn(eh.Jw,this.rjt),[4,this.Aci(e4.DEFAULT,void 0,void 0)]);case 3:return s.sent(),this.dnt.wn(Ry.PM,this.YG),[2]}})}).call(this)},n.Sci=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return this.Tci(),i=void 0===t.networkCode||void 0===t.customAssetKey?e4.DEFAULT:e4.GOOGLE,[4,this.Aci(i,t.networkCode,t.customAssetKey)];case 1:return n.sent(),t.sseEndpoint&&this._ci.Doi(t.sseEndpoint),[2]}})}).call(this)},n.wci=function(){tn(this.Ls,this.kci),an(this.Eci),an(this.kci),this.Eci.appendChild(this.kci),this.Ls.appendChild(this.Eci)},n.xci=function(){tn(this.kci,this.Ls),cn(this.kci),cn(this.Eci),Zi(this.kci),Zi(this.Eci)},n.Aci=function(t,i,n){return Vt(function(){var r,e,s,u,o,h,a,c,f,v;return zt(this,function(d){switch(d.label){case 0:return u=this.t4t(),o=this.Aui,u&&o?t===(null==(r=this.Eai)?void 0:r.Vhi)?[2]:(a=null!=(h=null==(e=this.Eai)?void 0:e.K0t)?h:[],[4,null==(s=this.Eai)?void 0:s.hr()]):[2];case 1:switch(d.sent(),t){case e4.GOOGLE:return[3,2];case e4.COMPANION:return[3,4];case e4.CSAI:return[3,5];case e4.DEFAULT:return[3,6]}return[3,6];case 2:return this.Eai=new Q4(u,this.Pci,o,a,this.Bai,this.phi,null==(c=this.pci)?void 0:c.streamActivityMonitorId,null==(f=this.pci)?void 0:f.retrievePodIdURI),[4,null==(v=this.Eai)?void 0:v.BW(i,n)];case 3:return d.sent(),[3,7];case 4:return this.Eai=new K4(this.dnt,this.Pci,a,this.Bai,this.phi),[3,7];case 5:return u===this.dnt?(this.Eai=new t5(this.dnt,u,this.Pci,a,this.Bai,this.phi),[3,7]):(this.Eai=new $4(this.dnt,u,this.Pci,a,this.Bai,this.phi),[3,7]);case 6:this.Eai=new A4(u,this.Pci,a,this.Bai,this.phi),d.label=7;case 7:return[2]}})}).call(this)},n.eai=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.Ici||void 0===t||void 0===i?[2]:(null==(n=this.Eai)?void 0:n.Vhi)===e4.GOOGLE?[3,2]:[4,this.Aci(e4.GOOGLE,t,i)];case 1:r.sent(),r.label=2;case 2:return[2]}})}).call(this)},n.Qq=function(t){void 0===this.Zx()&&(this.nq=t,this.Wz=cg(t),this.So(new yb(t)))},n.Tci=function(){this.dnt.wn(eh.py,this.Cci),this.dnt.wn(eh.$w,this.JG)},n.Rci=function(){this.dnt.mn(eh.py,this.Cci),this.dnt.mn(eh.$w,this.JG)},n.Dci=function(){var t,i;this.Pci.u4t.wn("Knt",this.Nci),null==(t=this.Eai)||t.wn(r4.AD_ENDED,this.Nci),null==(i=this.t4t())||i.wn(qm.ma,this.Bci)},n.Mci=function(){var t,i;this.Pci.u4t.mn("Knt",this.Nci),null==(t=this.Eai)||t.wn(r4.AD_ENDED,this.Nci),null==(i=this.t4t())||i.mn(qm.ma,this.Bci)},n.Lci=function(t){var i=this,n=function(){i.Oci=void 0};this.Oci=t().then(n).catch(n)},n.Fci=function(t,i){this.gci.So(new k4(t,i).Ca),t.pP=!0,n5(t)&&this.Oci&&(this.Ici=void 0)},n.Uci=function(){return Vt(function(){var t;return zt(this,function(i){return null==(t=this.Eai)||t.Soi(),this.Vci(),[2]})}).call(this)},n.Hci=function(){return Vt(function(){var t,i,n,r;return zt(this,function(e){switch(e.label){case 0:return this.Aoi(this.Wci),void 0===(i=this.Ici)?[2,this.I3t()]:i.Ihi===x3.LSHAPE_CONTENT?[3,2]:[4,null==(n=this.t4t())?void 0:n.Ta(this.qci,(new hr).Yg)];case 1:e.sent(),null==(r=this.t4t())||r.QP(),e.label=2;case 2:return null==(t=this.Eai)||t.uoi(this.Gx()),this.gci.So(new z3(i).Ca),this.Vci(),[2]}})}).call(this)},n.I3t=function(){return Vt(function(){var t;return zt(this,function(i){return this.zci(),null==(t=this.Eai)||t.koi(),this.Aoi(this.Wci),this.Wci=void 0,[2]})}).call(this)},n.Vci=function(){this.zci(),this.Wci=this.Ici,this.Ici=void 0,this.Gci=void 0,this.Xci=void 0},n.zci=function(){var t=this.oa.DP,i=this.oa.MP;t===this.jci&&i===this.Qci||(this.jci=t,this.Qci=i,this.So(new Ey))},n.boi=function(t){var i;n5(t)&&(null==(i=this.Eai)||i.boi(t),this.pai(this.Gx()));t.wn("ohi",this.Kci),this.gci.So(new m4(t.Ont()))},n.Aoi=function(t){if(jn(this._ci.Coi,t)){var i;if(this._ci.Aoi(t),n5(t))null==(i=this.Eai)||i.Aoi(t);else r5(t)&&(this.vci.Dai(t),this.Yci.delete(t.o));t.mn("ohi",this.Kci),this.gci.So(new y4(t).Ca)}},n.pai=function(t){this.Jci(t),this.Zci()},n.Jci=function(t){this.$ci(t),this.tdi(t),this.idi(t)},n.$ci=function(t){if(void 0===this.Oci){for(var i,n,r=[],e=Lt(this._ci.Coi.filter(n5));!(n=e()).done;){var s=n.value;s.pP?r.push(s):s!==this.Wci&&(t>=s.CO+5||this.Wci&&s.CO+5<this.Wci.ahi?(s.pP=!0,r.push(s)):void 0!==i&&i.CO<s.CO||(i=s))}for(var u,o=Lt(r);!(u=o()).done;){var h=u.value;this.Aoi(h)}this.Ici!==i&&(this.edi(),this.Ici=i)}},n.edi=function(){var t;if(void 0!==this.Ici){var i,n=void 0!==this.Wci;null==(i=this.t4t())||i.Gui(n)}null==(t=this.sdi)||t.Zg(),this.Gci=void 0,this.Xci=void 0},n.ndi=function(t,i){var n;if(this.rdi())return!!(null==(n=this.Eai)?void 0:n.aoi());var r=!1,e=EA.jn(this.Ux()).iL(i,5);void 0!==e&&(r=e.An(0)>=t.CO);var s=t.ahi,u=i>=t.CO&&(void 0===s||i<s);return r&&!u},n.tdi=function(t){var i=this;if(void 0!==this.Ici&&void 0===this.Gci){var n=this.Ici;n5(n)&&void 0===this.Oci&&this.ndi(n,t)&&(this.sdi=new hr,this.Gci=_r(this.Fai(n,t,this.sdi.Yg),this.sdi).catch(function(t){vr(t)||i.Fci(n,"Could not load the ad break: "+t.message)}))}},n.Fai=function(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return r=this,[4,this.Aci(t.Vhi,t.Hhi,t.Whi)];case 1:return o.sent(),[4,null==(e=this.Eai)?void 0:e.moi(t,n).catch(function(){r.gci.So(new k4(t,"Could not load the backdrop.").Ca)})];case 2:return o.sent(),this.Wci&&t.Ihi!==x3.LSHAPE_CONTENT?(u=this,[4,null==(s=this.Eai)?void 0:s.goi(t,i,n)]):[3,4];case 3:return u.qci=o.sent(),[3,6];case 4:return[4,this.hdi(t,i,n)];case 5:o.sent(),o.label=6;case 6:return[2]}})}).call(this)},n.hdi=function(t,i,n){return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return[4,null==(r=this.Eai)?void 0:r.Fai(t,i,n)];case 1:return e.sent(),[2]}})}).call(this)},n.idi=function(t){var i=this;if(void 0!==this.Ici&&void 0===this.Xci&&void 0===this.Wci){var n,r=this.Ici.ahi;if(t>=this.Ici.CO&&(void 0===r||t<r))this.Xci=null==(n=this.Gci)?void 0:n.then(function(){i.Lci(function(){return i.Uci()})})}},n.doi=function(t){var i,n,r;this.loi=t,null==(n=this.Eai)||n.doi(null!=(r=null!=t?t:null==(i=this.pci)?void 0:i.adTagParameters)?r:{}),this.vci.phi=t},n.Zci=function(){var t,i=function(){var i=s.value,e=i.ahi;if(void 0!==e&&r>=e||i.pP)return"continue";var u=i.CO,o=i.CO+i.ct;r>=u&&r<=o&&!t.Yci.has(i.o)&&t.Pai(i).catch(function(){n.Fci(i,"Could not load the overlay."),n.Aoi(i)})},n=this,r=this.Gx(),e=[];this.Yci.forEach(function(t){r>=t.CO&&(void 0===t.ahi||r<t.ahi)&&!t.pP||e.push(t)}),e.forEach(function(t){n.vci.Dai(t),n.Yci.delete(t.o),n.Aoi(t)});for(var s,u=Lt(this._ci.Coi.filter(r5));!(s=u()).done;)t=this,i()},n.Pai=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.vci.Pai(t)];case 1:return i.sent(),this.Yci.set(t.o,t),this.gci.So(new z3(t).Ca),[2]}})}).call(this)},n.rdi=function(){return void 0!==this.Wci&&void 0!==this.Ici&&Sn(this.Wci.ahi,this.Ici.CO,5)},n.Xpt=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return this.nq=void 0,this.Wz=void 0,this.pci=void 0,this.odi=!1,this.adi=!0,this.udi=NaN,this.Qci=NaN,this.jci=NaN,this.Wci=void 0,null==(t=this.sdi)||t.Zg(),this.Gci=void 0,this.Xci=void 0,this.Ici=void 0,this.Oci=void 0,[4,null==(i=this.Eai)?void 0:i.hr()];case 1:return n.sent(),this.Eai=void 0,this._ci.hr(),this.vci.hr(),this.Yci.clear(),this.Wu.mn(fI.yn,this.Att),this.oa.mn(eh.Jw,this.rjt),this.dnt.mn(Ry.EM,this.Kq),this.dnt.mn(Ry.PM,this.YG),this.Rci(),this.Mci(),this.xci(),this.cdi&&Ui.Lg(this.cdi),this.cdi=void 0,[2]}})}).call(this)},n.KP=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.Xpt()];case 1:return n.sent(),[4,t.prototype.KP.call(i)];case 2:return n.sent(),[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return[4,this.KP().catch(dn)];case 1:return r.sent(),this._ci.kn(),[4,null==(n=this.Eai)?void 0:n.kn()];case 2:return r.sent(),[4,t.prototype.kn.call(i)];case 3:return r.sent(),[2]}})}).call(this)},n.ddi=function(){return void 0!==this.Wci},n.eI=function(i){if(!this.pci)return t.prototype.eI.call(this,i);switch(i.type){case eh.Ww:case eh.Pw:case Ry.EM:return!this.adi;case Ry.kM:return!this.adi||(this.adi=!1,!1);case eh.Cw:var n=this.Nd();return n!==this.udi&&(this.udi=n,this.So(new vT(n))),!0;case Ry.xM:var r;return void 0!==this.Wci&&(null==(r=this.Eai)?void 0:r.Vhi)===e4.CSAI;case eh.Jw:return this.zci(),!0;case qm.ma:return void 0!==this.Wci}return t.prototype.eI.call(this,i)},Nt(i,[{key:"Tai",get:function(){var t;return[].concat([null==(t=this.Eai)?void 0:t.hoi],this.vci.Tai).filter(Li)}},{key:"kai",get:function(){return this._ci.Coi}},{key:"phi",get:function(){var t,i,n;return null!=(n=null!=(i=this.loi)?i:null==(t=this.pci)?void 0:t.adTagParameters)?n:{}}}]),i}(a0);function n5(t){return"adbreak"===t.Km}function r5(t){return"overlay"===t.Km}var e5=function(t){function i(i){var n;return(n=t.call(this,i)||this).Ac=void 0,n.Zb=void 0,n.l$t=void 0,n.Rz=void 0,n._di=void 0,n.vdi=0,n.mdi=!1,n.fdi=void 0,n.Dxt=void 0,n.ydi=void 0,n.Adi=new hr,n.bdi=void 0,n.wdi=!0,n.kdi=!0,n.ehi=!0,n.ejt=function(t){n.Zb=t.duration},n.VV=function(){n.dnt.mn(Ry.PM,n.VV),n.odi=!1},n.Edi=function(){n.dnt.mn(Ry.kM,n.Edi),n.fdi&&(n.dnt.Vx=n.fdi,n.fdi=void 0),n.dnt.Gx()>0&&(n.vdi-=n.dnt.Gx())},n.Dxt=BW.Bg,n.ydi=new f3(Ui.Dx),n}Ct(i,t);var n=i.prototype;return n.Nd=function(){var i;return null!=(i=this.Zb)?i:t.prototype.Nd.call(this)},n.nu=function(){var i;return null!=(i=this.Ac)?i:t.prototype.nu.call(this)},n.Gx=function(){return this.lai(t.prototype.Gx.call(this))},n.Hx=function(){return this.fdi?new Date(this.fdi.getTime()+fe(this.dnt.Gx())):t.prototype.Hx.call(this)},n.Ux=function(){var i=t.prototype.Ux.call(this);return EA.jn(i).Ly(this.vdi)._s()},n.EP=function(){var i=t.prototype.EP.call(this);return EA.jn(i).Ly(this.vdi)._s()},n.lai=function(t){return t+this.vdi},n.Ta=function(i,n){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Ta.call(r,i,n)];case 1:return e.sent(),this.pci?(this.Ac=i,this._di=new V3(this.dnt),this._di.gr(this.kci,this.Eci),this.nO(this._di),[2]):[2]}})}).call(this)},n.yci=function(){},n.wci=function(){t.prototype.wci.call(this),this.Aui=c0(this.Eci)},n.Tci=function(){t.prototype.Tci.call(this),this.gdi()},n.Rci=function(){t.prototype.Rci.call(this),this.pdi()},n.gdi=function(){this.dnt.wn(eh.Cw,this.ejt),this.dnt.wn(Ry.PM,this.VV)},n.pdi=function(){this.dnt.mn(eh.Cw,this.ejt),this.dnt.mn(Ry.PM,this.VV)},n.t4t=function(){return this.dnt},n.Xx=function(i,n){this.mdi=!0,t.prototype.Xx.call(this,i,n)},n.QP=function(){t.prototype.QP.call(this),this.So(new fT(this.Gx())),this.ldi=!0,this.wdi=!1},n.jP=function(){this.wdi=!0,t.prototype.jP.call(this)},n.hdi=function(t,i,n){return Vt(function(){var r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:return s=this,[4,null==(r=this.Eai)?void 0:r.poi(t,i,n)];case 1:return s.l$t=h.sent(),(null==(e=this.Eai)?void 0:e.Oai())?[2]:(u=new e3(this.Dxt,this.ydi),o=new f2(this.Dxt.Mxt,u,"temporary"),this.bdi=o.asi(this.l$t,s3({amount:30,bandwidth:bb.Bg.pW()||this.Kst.jY}),"temporary"),this.Adi.Zg(),this.Adi=new hr,this.ydi.jet(this.bdi,this.Dxt,"temporary").mi(this.Adi.Yg).catch(dn),[2])}})}).call(this)},n.Sdi=function(t,i){switch(t){case x3.LSHAPE_CONTENT:case x3.LSHAPE_AD:return new W3(this.dnt,i);case x3.SINGLE:default:return new H3(this.dnt)}},n.Tdi=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return null==(i=this.sdi)||i.Zg(),this.sdi=new hr,[4,this.Aci(t.Vhi,t.Hhi,t.Whi)];case 1:return o.sent(),null==(n=this._di)||n.mr(this.kci),(null==(r=this.Eai)?void 0:r.Oai())||(this.odi=!0,this.vdi=this.Gx(),this.fdi=this.Hx(),this.dnt.wn(Ry.PM,this.VV)),this.gci.So(new z3(t).Ca),[4,null==(e=this.Eai)?void 0:e.Eoi(this.l$t,t,this.sdi.Yg,void 0,!0)];case 2:return o.sent(),this._di=this.Sdi(t.Ihi,null!=(u=t.Chi)?u:this.bci),this.B3t(this._di),this._di.gr(this.kci,this.Eci),null==(s=this.Eai)||s.uoi(this.Gx()),[2]}})}).call(this)},n.Uci=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return void 0===this.Ici||void 0===this.l$t?[2]:(this.pdi(),this.Rz=this.vP,[4,this.Tdi(this.Ici)]);case 1:return r.sent(),this.Dci(),(null==(n=this.Eai)?void 0:n.Oai())||(this.kdi=!1),[2,t.prototype.Uci.call(i)]}})}).call(this)},n.Hci=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){return(null==(n=this.Eai)?void 0:n.Vhi)!==e4.COMPANION&&(this.odi=!0,this.ehi=!1,this.vdi=this.Gx(),this.fdi=this.Hx(),this._ci.Voi(this.dnt.nt),this.dnt.wn(Ry.kM,this.Edi),this.dnt.wn(Ry.EM,this.Kq),this.dnt.wn(Ry.PM,this.VV)),[2,t.prototype.Hci.call(i)]})}).call(this)},n.I3t=function(){var i=this;return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return this.Wci?(null==(n=this.bdi)||n.pS(),this.bdi=void 0,this.Mci(),(null==(r=this.Eai)?void 0:r.Oai())?[3,2]:(this.odi=!0,this.ehi=!1,this.vdi=this.Gx(),this.fdi=this.Hx(),this._ci.Voi(this.dnt.nt),this.dnt.wn(Ry.kM,this.Edi),this.dnt.wn(Ry.EM,this.Kq),this.dnt.wn(Ry.PM,this.VV),[4,this.dnt.Ta(this.Ac,(new hr).Yg)])):[2];case 1:o.sent(),o.label=2;case 2:return null==(e=this._di)||e.mr(this.kci),this._di=new V3(this.dnt),this._di.gr(this.kci,this.Eci),this.B3t(this._di),(null==(s=this.Eai)?void 0:s.Oai())||(this.vP=null!=(u=this.Rz)?u:1,this.dnt.QP()),this.kdi=!0,this.gdi(),[2,t.prototype.I3t.call(i)]}})}).call(this)},n.Xpt=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this._di=void 0,this.Zb=void 0,this.vdi=0,this.l$t=void 0,this.Rz=void 0,this.fdi=void 0,this.kdi=!0,this.odi=!1,this.ldi=!0,this.wdi=!0,this.Adi.Zg(),this.Adi=new hr,null==(n=this.bdi)||n.pS(),this.bdi=void 0,this.dnt.mn(Ry.kM,this.Edi),[4,t.prototype.Xpt.call(i)];case 1:return r.sent(),[2]}})}).call(this)},n.ddi=function(){return t.prototype.ddi.call(this)||this.odi&&!this.mdi},n.eI=function(i){if(void 0!==this._di)switch(i.type){case eh.uo:return!0;case eh.jw:return!this.wdi||(this.wdi=!1,this.So(new cT(this.lai(i.currentTime))),!0);case Ry.PM:return!this.ldi||(this.ldi=!1,this.So(new Ly(this.lai(i.currentTime))),!0);case Ry.xM:return this.odi||(this.ldi=!0,this.So(new By(this.lai(i.currentTime)))),!0;case eh.Zw:return this.ddi()||(this.mdi=!1,this.So(new gT(this.lai(i.currentTime)))),!0;case eh.$w:return this.ddi()||this.So(new wT(this.lai(i.currentTime))),!0;case eh.Nw:return!this.kdi||(this.So(new lT(this.lai(i.currentTime))),!0);case eh.py:return this.So(new bw(this.lai(i.currentTime),i.currentProgramDateTime)),!0;case eh.Qw:return this.So(new YR(this.lai(i.currentTime))),!0;case eh.Kw:return this.So(new dT(this.lai(i.currentTime),i.playbackRate)),!0;case eh.wy:return this.ehi?(this.So(new _T(this.lai(i.currentTime),i.volume)),!0):(this.ehi=!0,!0);case eh.Rw:return this.So(new aT(this.lai(i.currentTime),i.readyState)),!0;case Ry.SM:return this.So(new Oy(this.lai(i.currentTime),i.readyState)),!0;case Ry.TM:return this.So(new My(this.lai(i.currentTime),i.readyState)),!0;case Ry.kM:return this.So(new xy(this.lai(i.currentTime),i.readyState)),!0;case Ry.EM:return this.So(new Ny(this.lai(i.currentTime),i.readyState)),!0;case Ry.AI:return this.So(new Py(this.lai(i.currentTime),i.readyState)),!0;case eh.Dw:return this.So(new gH(this.lai(i.currentTime),i.initDataType,i.initData)),!0}return t.prototype.eI.call(this,i)},i}(i5);U(),Et(),Wt(),xt(),Pt(),Qt();var s5=function(t){function i(i,n){var r;return(r=t.call(this,n)||this).dnt=void 0,r.k5t=void 0,r.Ndi=void 0,r.Ldi=void 0,r.Mdi=void 0,r.Bdi=void 0,r.Vdi=void 0,r.xdi=0,r.Pdi=void 0,r.Idi=0,r.pGt=void 0,r.Cdi=void 0,r.qdi=0,r.Ddi=0,r.zdi=function(){if(r.dnt.mn(Ry.EM,r.zdi),r.Pdi){var t=r.Pdi;t.setSeconds(r.Pdi.getSeconds()+r.qdi),r.dnt.Vx=t,r.Pdi=void 0}r.Idi-=r.dnt.Gx(),r.pGt=void 0,r.Cdi=void 0},r.HV=function(){r.k5t.QP()},r.WV=function(){r.k5t.jP()},r.dnt=i,r.k5t=n,r}Ct(i,t);var n=i.prototype;return n.Eoi=function(t,i,n,r){return this.k5t.Eoi(t,i,n,r)},n.Rdi=function(t,i,n,r){var e,s;this.xdi=t,r?this.Ddi=0:this.Ddi+=n,this.Pdi=i,null==(s=this.Pdi)||s.setSeconds((null==(e=this.Pdi)?void 0:e.getSeconds())+this.Ddi)},n.rhi=function(){var t;if(void 0===this.Ndi){this.pGt=void 0,this.Cdi=void 0;var i=this.Bdi;this.Bdi=void 0,null==(t=this.Mdi)||t.Zg(),a5(this.dnt)&&(this.Ldi=new hr,this.Ndi=_r(this.Odi(i,this.Ldi.Yg),this.Ldi).catch(wr))}},n.hhi=function(){var t;this.pGt=this.xdi+this.oa.Gx(),this.ihi&&(this.Cdi=new Date(this.ihi.getTime()+1e3*this.oa.Gx()));var i=this.Ndi;this.Ndi=void 0,null==(t=this.Ldi)||t.Zg(),this.Mdi=new hr,this.Bdi=_r(this.Fdi(i,this.Mdi.Yg),this.Mdi).catch(wr)},n.Aa=function(){return this.dnt.Sq},n.Udi=function(){this.Vdi||(this.Vdi={source:this.dnt.nu(),duration:this.dnt.Nd(),currentTime:this.dnt.Gx(),preload:this.dnt.wP,autoplay:this.dnt.vO,playbackRate:this.dnt.vP})},n.Hdi=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return this.dnt.wP=YT.HL,this.dnt.vO=!1,this.k5t.oP=!0,i=this.k5t.nu(),[4,this.dnt.Ta(i,t)];case 1:return n.sent(),this.dnt.Xx(this.k5t.Gx()),this.dnt.wn(eh.uo,this.HV),this.dnt.wn(eh.jw,this.WV),[2]}})}).call(this)},n.Wdi=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return this.Vdi?(this.dnt.wP=this.Vdi.preload,this.dnt.vO=this.Vdi.autoplay,this.dnt.vP=this.Vdi.playbackRate,[4,this.dnt.Ta(this.Vdi.source,t)]):[2];case 1:return i.sent(),this.Vdi=void 0,[2]}})}).call(this)},n.Odi=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,null==t?void 0:t.catch(dn)];case 1:return n.sent(),this.Udi(),[4,this.dnt.KP()];case 2:return n.sent(),[4,this.Hdi(i)];case 3:return n.sent(),this.B3t(this.dnt),this.dnt.QP(),[2]}})}).call(this)},n.Fdi=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,null==t?void 0:t.catch(dn)];case 1:return n.sent(),this.qdi=this.k5t.Gx(),this.Idi=this.qdi+this.Zri,[4,this.dnt.KP()];case 2:return n.sent(),this.dnt.mn(eh.uo,this.HV),this.dnt.mn(eh.jw,this.WV),[4,this.Wdi(i)];case 3:return n.sent(),this.B3t(this.k5t),this.dnt.wn(Ry.EM,this.zdi),this.dnt.QP(),[2]}})}).call(this)},n.nu=function(){return this.Vdi?this.Vdi.source:t.prototype.nu.call(this)},n.Nd=function(){return this.Vdi?this.Vdi.duration:t.prototype.Nd.call(this)},n.Gdi=function(){return t.prototype.Nd.call(this)},n.EP=function(){var i=t.prototype.EP.call(this);return EA.jn(i).Ly(this.Zri)._s()},n.Ux=function(){var i=t.prototype.Ux.call(this);return EA.jn(i).Ly(this.Zri)._s()},n.KP=function(){return this.k5t.KP()},n.Gui=function(t){return Vt(function(){return zt(this,function(i){return this.k5t.Gui(t),[2]})}).call(this)},n.hr=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return null==(t=this.Ldi)||t.Zg(),this.Ldi=void 0,this.Ndi=void 0,null==(i=this.Mdi)||i.Zg(),this.Mdi=void 0,this.Bdi=void 0,this.Vdi=void 0,this.xdi=0,this.Pdi=void 0,this.Idi=0,this.pGt=void 0,this.Cdi=void 0,this.qdi=0,this.Ddi=0,this.dnt.mn(Ry.EM,this.zdi),this.dnt.mn(eh.uo,this.HV),this.dnt.mn(eh.jw,this.WV),[4,this.k5t.KP()];case 1:return n.sent(),[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,this.hr()];case 1:return n.sent(),[4,t.prototype.kn.call(i)];case 2:return n.sent(),[2]}})}).call(this)},Nt(i,[{key:"Zri",get:function(){return this.xdi}},{key:"ihi",get:function(){return this.Pdi}},{key:"jri",get:function(){return this.Idi}},{key:"Jri",get:function(){return this.pGt}},{key:"thi",get:function(){return this.Cdi}}]),i}(Y4);U(),Et(),Pt();var u5=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),i.prototype.Ta=function(i,n){var r;return void 0!==Fn(null!=(r=null==i?void 0:i.ads)?r:[],w0)?ut.reject(new ld(vd.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.Ta.call(this,i,n)},i}(Ub),o5=1/60,h5=function(t){function i(i){var n;return(n=t.call(this,i)||this).$di=void 0,n.k5t=void 0,n.Ydi=void 0,n.Zdi=void 0,n.ali=!0,n.eli=!0,n.lli=void 0,n.jdi=function(t){switch(t.presentationMode){case"native-picture-in-picture":n.Kdi();break;case"fullscreen":D1(n.Cd)&&n.Kdi()}},n.sli=function(t){n.rli()},n.nli=function(t){n.rli()},n.fli=function(){var t=n.Wci;void 0!==t?(!t.ahi||n.Gx()>=t.ahi)&&(n.dnt.mn(eh.py,n.fli),n.Lci(function(){return n.I3t()})):n.dnt.mn(eh.py,n.fli)},n.cli=function(){n.oa.mn(Ry.PM,n.cli),n.odi=!1,n.ldi=!1},n.Xdi(),n}Ct(i,t);var n=i.prototype;return n.Xdi=function(){this.dnt.ont.wn("presentationmodechange",this.jdi)},n.Qdi=function(){this.dnt.ont.mn("presentationmodechange",this.jdi)},n.Kdi=function(){var t=this;if(this.Ydi&&!P3(this.Ydi)&&this.k5t&&this.Wci)return function(t){return V(t,F3)}(this.Ydi)?(this.Fci(this.Wci,"Cannot play L-shape content ad breaks in this representation"),void this.Lci(function(){return t.I3t()})):void this.Jdi(new R3(this.dnt,this.k5t),!1,!1)},n.uP=function(i){i||this.lP||this.GP(),t.prototype.uP.call(this,i)},n.Ta=function(i,n){var r=this;return Vt(function(){return zt(this,function(e){switch(e.label){case 0:return[4,t.prototype.Ta.call(r,i,n)];case 1:return e.sent(),this.pci?(this.Zdi=this.pci.backdropDoubleBox,this.Jdi(new I3(this.dnt,this.k5t),!1,!0),[2]):[2]}})}).call(this)},n.yci=function(){var t=new Y4(function(t,i,n){var r=t.lastElementChild;t.insertBefore(i,r),f0(i);var e=new K0(new yB(i,n,new NE),kS.Bg);return e.wP=YT.HL,e.vO=!1,e}(this.Eci,this.$di,this.oa.Cd));this.k5t=new s5(this.dnt,t)},n.wci=function(){t.prototype.wci.call(this),this.$di=function(){var t=v.createElement("div");return sn(t,"theo-ads-sgai-ad-player"),t}(),this.Eci.appendChild(this.$di),this.Aui=c0(this.$di),this.tli()},n.tli=function(){cn(this.kci),function(t){var i=t.style;i.boxSizing="border-box",i.position="relative",i.alignItems="center",i.border="0 solid transparent",i.borderWidth="0px",i.backgroundColor="transparent",i.backgroundRepeat="no-repeat",i.backgroundAttachment="scroll"}(this.Eci),f0(this.kci),f0(this.$di)},n.xci=function(){this.ili(),t.prototype.xci.call(this),this.$di&&(Zi(this.$di),this.$di=void 0)},n.ili=function(){v0(this.Ls),v0(this.kci)},n.Jdi=function(t,i,n){var r,e=null!=(r=this.Ydi)?r:this,s=null!=t?t:this.dnt;S3(e,s),void 0!==this.Ydi&&(this.Ydi.mr(this.Eci,this.kci,this.$di),this.Ydi.kn()),null==t||t.gr(this.Eci,this.kci,this.$di,e,i),this.Ydi=t,n?this.nO(s):this.B3t(s)},n.t4t=function(){return this.k5t},n.GP=function(){var i;t.prototype.GP.call(this),null==(i=this.k5t)||i.GP()},n.Xx=function(i,n){this.eli=!0,t.prototype.Xx.call(this,i,n)},n.lai=function(t){var i,n;return t+(null!=(n=null==(i=this.k5t)?void 0:i.jri)?n:0)},n.Dci=function(){var i;t.prototype.Dci.call(this),null==(i=this.k5t)||i.wn(eh.py,this.sli),this.dnt.wn(eh.qw,this.nli)},n.Mci=function(){var i;t.prototype.Mci.call(this),null==(i=this.k5t)||i.mn(eh.py,this.sli),this.dnt.mn(eh.qw,this.nli)},n.rli=function(){this.Jci(this.Gx()),this.hli()},n.hli=function(){var t;if(!(this.rdi()||P3(this.Ydi)||(null==(t=this.Ydi)?void 0:t.Kri()))){var i=b.min(this.k5t.Nd(),this.Wci.ct)-this.k5t.Gx(),n=this.oli(i);if(void 0!==n&&!(this.dnt.Gx()>n-.75)){var r=EA.jn(this.k5t.Ux()),e=this.k5t.EP();if(0!==e.length){var s=b.min(e.end(e.length-1),this.Wci.ahi);r.MM().Cr(s)&&!this.dnt.xP&&(this.dnt.lP&&(this.dnt.QP(),this.dnt.oP=!0),this.dnt.Xx(n,{zOt:!0}))}}}},n.oli=function(t){var i,n=this.dnt.EP(),r=null==(i=this.Wci)?void 0:i.ahi;if(0!==n.length&&void 0!==r){var e=n.start(0),s=n.end(n.length-1),u=r-t;if((u<e||s<u)&&(u=s),!Sn(u,this.dnt.Gx(),o5))return u}},n.Sdi=function(t,i){if(a5(this.dnt)&&i.Ihi!==x3.LSHAPE_CONTENT)return new R3(this.dnt,this.k5t);var n=i.Chi,r=i.Fhi,e=i.Uhi;switch(t){case x3.DOUBLE:return n||i.er({backdropUri:this.Zdi}),new M3(this.dnt,this.k5t,n,r,e);case x3.LSHAPE_AD:return i.Chi||i.er({backdropUri:this.bci}),new U3(this.dnt,this.k5t,n,r,e);case x3.LSHAPE_CONTENT:return i.Chi||i.er({backdropUri:this.bci}),new F3(this.dnt,this.k5t,n,r,e);case x3.SINGLE:default:return new C3(this.dnt,this.k5t)}},n.zui=function(t){var i,n,r,e,s,u,o=t.Ihi,h=this.Sdi(o,t);Bi.X_&&Bi.Q_>=16&&Bi.Q_<18&&(null==(i=this.Eai)?void 0:i.Vhi)!==e4.COMPANION&&(null==(u=this.k5t)||u.Xx(this.k5t.Gx()));this.Jdi(h,this.ldi,!1),Bi.zv&&!h.Kri()&&(null==(n=this.Eai)?void 0:n.Vhi)!==e4.COMPANION&&(v0(this.kci),an(this.kci)),this.gci.So(new z3(t).Ca),this.ali=(null==(r=this.Eai)?void 0:r.Vhi)===e4.COMPANION||(null==(e=this.Eai)?void 0:e.Vhi)===e4.CSAI,null==(s=this.Eai)||s.uoi(this.Gx())},n.uli=function(){var t;a5(this.oa)&&(null==(t=this.Eai)?void 0:t.Vhi)!==e4.COMPANION&&(this.odi=!0,this.oa.wn(Ry.PM,this.cli))},n.Uci=function(){var i=this;return Vt(function(){var n,r,e,s,u,o,h;return zt(this,function(a){return void 0===(s=this.Ici)?[2]:s.Ihi===x3.LSHAPE_CONTENT&&a5(this.dnt)?(this.Fci(s,"Cannot play L-shape content ad breaks in this representation."),[2,this.I3t()]):(null==(n=this.k5t)?void 0:n.Zx())?(this.Fci(s,"Could not load the ad break: "+(null==(o=this.k5t)||null==(u=o.Zx())?void 0:u.message)),[2,this.dli()]):(this.Rci(),this.uli(),(null==(r=this.Eai)?void 0:r.Vhi)!==e4.COMPANION&&(this.lli=this.dnt.Vx,null==(h=this.k5t)||h.Rdi(this.Gx(),this.lli,0,!0)),this.oa.xP&&this.So(new gT(this.Gx())),this.zui(s),!Bi.X_||this.oa.lP||(null==(e=this.Ydi)?void 0:e.Kri())||(this.dnt.oP=!0,this.dnt.QP()),this.Dci(),[2,t.prototype.Uci.call(i)])})}).call(this)},n.Hci=function(){var i=this;return Vt(function(){var n,r,e,s;return zt(this,function(u){return(null==(n=this.Eai)?void 0:n.Vhi)!==e4.COMPANION&&(this.lli=this.lli?new Date(this.lli.getTime()+1e3*this.dnt.Nd()):void 0,null==(r=this.k5t)||r.Rdi(this.Gx(),this.lli,0,!0)),e=this.Ici,this.Wci.Ihi===e.Ihi?function(t){return V(t,O3)}(this.Ydi)&&this.Ydi.mhi(e.Chi):(s=this.Sdi(e.Ihi,e),this.Jdi(s,this.ldi,!1)),[2,t.prototype.Hci.call(i)]})}).call(this)},n.I3t=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:return void 0===this.Wci?[2]:(this.Mci(),function(t){return V(t,R3)}(this.Ydi)&&(this._ci.Voi(this.dnt.nt),this.dnt.wn(Ry.EM,this.Kq)),r=null==(n=this.Ydi)?void 0:n.Kri(),this.Jdi(new I3(this.dnt,this.k5t),!0,!1),r||(this.eli=!1,(e=this.oli(0))&&this.dnt.Gx()<e+.75&&this.dnt.Xx(e,{zOt:!0})),a5(this.oa)&&(this.odi=!0,this.oa.wn(Ry.PM,this.cli)),[4,this.dli()]);case 1:return s.sent(),this.Tci(),[2,t.prototype.I3t.call(i)]}})}).call(this)},n.dli=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return[4,null==(t=this.k5t)?void 0:t.KP()];case 1:return i.sent(),[2]}})}).call(this)},n.Xpt=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.ldi=!0,this.eli=!0,this.ali=!0,this.Jdi(void 0,!1,!0),[4,null==(n=this.k5t)?void 0:n.kn()];case 1:return r.sent(),this.lli=void 0,this.k5t=void 0,this.Aui=void 0,this.oa.mn(Ry.PM,this.cli),[4,t.prototype.Xpt.call(i)];case 2:return r.sent(),[2]}})}).call(this)},n.kn=function(){var i=this;return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return this.Qdi(),[4,null==(n=this.k5t)?void 0:n.kn()];case 1:return r.sent(),[4,t.prototype.kn.call(i)];case 2:return r.sent(),[2]}})}).call(this)},n.ddi=function(){return t.prototype.ddi.call(this)||!this.eli||this.odi},n.eI=function(i){if(void 0!==this.Ydi)switch(i.type){case eh.uo:if(!this.ali)return this.ali=!0,!0;this.ldi=!0;break;case eh.jw:if(this.Qx&&void 0!==this.Wci)return!0;break;case Ry.PM:if(!this.ldi||this.odi)return!0;this.ldi=!1;break;case Ry.xM:if(this.odi)return!0;this.ldi=!0;break;case eh.$w:if(this.ddi())return!0;break;case eh.Zw:if(this.ddi())return this.eli=!0,!0;break;case eh.Nw:if(void 0!==this.Wci)return!0}return t.prototype.eI.call(this,i)},Nt(i,[{key:"ont",get:function(){return this.dnt.ont}}]),i}(i5);function a5(t){var i=t.ont.Wo()===kT.FULLSCREEN&&D1(t.Cd);return t.Sq.YL||i}qb(function(t){return t.Cd.ads.theoads?Bi.w_||Bi.S_||Bi.D_?new e5(t):new h5(t):new u5(t)},zb.knt),U(),Et(),xt();var c5=function(){function t(){}var i=t.prototype;return i.Qz=function(t){return w0(t)},i.e4t=function(t,i,n){},i.W6=function(t,i,n,r){},i.uj=function(t){var i={integration:pS.THEOADS,adTagParameters:Wi(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return Xi(t.networkCode)&&(i.networkCode=Gw(t.networkCode)),Xi(t.customAssetKey)&&(i.customAssetKey=Gw(t.customAssetKey)),Xi(t.backdropDoubleBox)&&(i.backdropDoubleBox=Gw(t.backdropDoubleBox)),Xi(t.backdropLShape)&&(i.backdropLShape=Gw(t.backdropLShape)),Xi(t.overrideLayout)&&(i.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),Xi(t.retrievePodIdURI)&&(i.retrievePodIdURI=Gw(t.retrievePodIdURI)),Xi(t.sseEndpoint)&&(i.sseEndpoint=Gw(t.sseEndpoint)),Xi(t.streamActivityMonitorId)&&(i.streamActivityMonitorId=Gw(t.streamActivityMonitorId)),Qi(t.initializationDelay)&&(i.initializationDelay=Xw(t.initializationDelay)),Xi(t.daiAssetKey)&&(i.daiAssetKey=Gw(t.daiAssetKey)),i},Nt(t,[{key:"i4t",get:function(){return x$.knt}}]),t}();kS.Bg.Kz(new c5),U(),Et(),U(),Et(),Wt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),xt(),Pt(),U(),Et();var f5=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).hu=void 0,i}return Ct(i,t),Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get casting(){return t.xJ},get state(){return t.vft},start:function(){t.JP()},stop:function(){t.ZP()},addEventListener:function(i,n){var r=Qw(i,Gw);t.wn(r,n)},removeEventListener:function(i,n){var r=Qw(i,Gw);t.mn(r,n)}}}(this)),this.hu}}]),i}(th),v5=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).Rpt=void 0,e.oa=void 0,e.LY=void 0,e.Ra=VS.UNAVAILABLE,e.bli=new hr,e.wli=void 0,e.Ali=void 0,e.Sli=void 0,e.Tli=void 0,e.gli=function(){var t,i=null==(t=e.LY.nu())?void 0:t.sources.filter(oT);(null==i?void 0:i.some(Bb))?e.Ua(VS.AVAILABLE):e.Ua(VS.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.oa&&e.oa.sP?e.yli():e.vft===VS.CONNECTED&&e.kli()},e.handleAirplayPlayerTimeUpdate=function(t){e.Ali=t.currentTime,e.Sli=e.LY.Vx},e.Rpt=i,e.LY=n,e.wli=r,e.wli.we(),n.lO(r),e.vli(),e}Ct(i,t);var n=i.prototype;return n.vli=function(){this._li(),this.Rpt.wn(eh.do,this.gli),this.Ua(VS.AVAILABLE)},n._li=function(){this.oa&&this.oa.mn(eh.yw,this.handleAirplayChangedEvent),this.mli?this.oa=this.LY:this.oa=this.wli,this.oa.wn(eh.yw,this.handleAirplayChangedEvent)},n.yli=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:return this.oa?this.mli?[3,2]:(this.Ali=this.LY.zx,this.Sli=this.LY.Vx,this.wli.wn(eh.py,this.handleAirplayPlayerTimeUpdate),this.Tli=this.LY.OI,this.LY.OI=this.wli,this.Tli.jP(),this.Tli.we(),this.wli.be(),this.wli.oP=this.Tli.oP,this.wli.vP=this.Tli.vP,this.wli.OP=this.Tli.OP,t=this.wli.ww(eh.Zw),this.wli.zx=this.Tli.zx,[4,t]):[2];case 1:return r.sent(),this.wli.QP(),this.wli.oP=this.Tli.oP,this.wli.vP=this.Tli.vP,this.wli.OP=this.Tli.OP,[3,5];case 2:return this.oa.lP?[3,4]:(i=Ar(800,this.bli.Yg),n=this.oa.ww(eh.jw,this.bli.Yg),[4,ut.race([n,i]).catch(dn)]);case 3:r.sent(),r.label=4;case 4:this.oa.QP(),r.label=5;case 5:return this.Ua(VS.CONNECTED),[2]}})}).call(this)},n.kli=function(){this.Tli?(this.wli.mn(eh.py,this.handleAirplayPlayerTimeUpdate),this.Tli.oP=this.wli.oP,this.Tli.vP=this.wli.vP,this.Tli.OP=this.wli.OP,Bi.X_&&!Bi.ru&&this.LY.ct===1/0?this.Sli?this.Tli.Vx=this.Sli:this.Tli.zx=1/0:this.Tli.zx=this.Ali,this.Sli=void 0,this.Ali=void 0,this.Tli.be(),this.wli.we(),this.wli.lP||this.Tli.QP(),this.LY.OI=this.Tli,this.wli.hr(),this.Tli=void 0):this.oa&&(this.oa.zx=this.oa.zx+1e-4);this.Ua(VS.AVAILABLE)},n.preloadPlayer=function(t){if(dr(t),this.oa.AP<Dy.Qn){var i=this.oa.ww(Ry.EM,t);return this.oa.wP=YT.zU,i}return ut.resolve()},n.Ua=function(t){t!==this.Ra&&(this.Ra=t,this.So(new e0(this.Ra)))},n.JP=function(){this.Rpt.GP(),this.bli.Zg(),this.bli=new hr,kr(_r(this.mli?this.Eli(this.bli.Yg):this.xli(this.bli.Yg),this.bli))},n.Eli=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.preloadPlayer(t)];case 1:return i.sent(),this.LY.JP(),[2]}})}).call(this)},n.xli=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.wli.hr()];case 1:if(r.sent(),void 0===(i=this.LY.nu()))throw new y("Not possible to start Airplay without a source");return[4,this.wli.Ta(i,t)];case 2:return r.sent(),n=this.wli.ww(Ry.PM,t),this.wli.QP(),[4,Tr(n,3e3)];case 3:return r.sent(),this.wli.jP(),dr(t),this.wli.JP(),[3,5];case 4:return vr(r.sent())?[2]:[3,5];case 5:return[2]}})}).call(this)},n.ZP=function(){this.oa.ZP()},n.kn=function(){var t;this.Vo(),this.Rpt.mn(eh.do,this.gli),this.bli.Zg(),this.LY.fO(this.wli),null==(t=this.wli)||t.kn()},Nt(i,[{key:"xJ",get:function(){return this.vft===VS.CONNECTED}},{key:"vft",get:function(){return this.Ra}},{key:"mli",get:function(){return this.LY.YP()}}]),i}(f5);U(),Et(),xt(),Pt();var d5=function(t){function i(){return t.apply(this,arguments)||this}Ct(i,t);var n=i.prototype;return n.JP=function(){},n.ZP=function(){},Nt(i,[{key:"xJ",get:function(){return!1}},{key:"vft",get:function(){return VS.UNAVAILABLE}}]),i}(f5);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt();var l5=function(t){function i(i,n,r,e,s,u,o){var h;return(h=t.call(this)||this).Ls=void 0,h.Ili=void 0,h.Pli=void 0,h.mz=void 0,h.Ac=void 0,h.tO=new $b,h.sO=new $b,h.Gl=new tA,h.Ls=i,h.Ili=new hB(u,o,r,1,[eg.Mk]),h.Ili.Est(i),h.Pli=new xb(i,h.Ili,n,r,e,s),h.Pli.lw(h.Rs),h.tO.OI=h.Pli.ht,h.sO.OI=h.Pli.rt,h.Gl.OI=h.Pli.nt,h}Ct(i,t);var n=i.prototype;return n.tI=function(){this.Pli.tI()},n.sI=function(t){throw new y("Can't add a track while using AirPlay.")},n.Xx=function(t,i){this.Pli.Xx(t,i)},n.YP=function(){return this.Pli.YP()},n.JP=function(){this.Pli.JP()},n.ZP=function(){this.Pli.ZP()},n.QP=function(){kr(this.Pli.QP())},n.jP=function(){this.Pli.jP()},n.KP=function(){return Vt(function(){return zt(this,function(t){return[2]})})()},n.nu=function(){return this.Ac},n.Ta=function(t,i){return Vt(function(){var n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:if(dr(i),this.Ac=t,nT(t.sources))n=lA({src:""});else for(r=t.sources.filter(oT),e=Lt(r);!(s=e()).done;)if(Bb(u=s.value)){n=u;break}if(!n)throw new y("Unsupported source.");return[4,this.Pli.Ta(n,t,i)];case 1:return o.sent(),this.Ez(n),[2]}})}).call(this)},n.IP=function(t,i,n){return ut.resolve()},n.CP=function(){return ut.resolve()},n.Ez=function(t){this.mz!==t&&(this.mz=t,this.So(new CT(t)))},n.zP=function(){return this.Pli.zP()},n.Ox=function(){return[]},n.GP=function(){this.Ili.Nz()},n.gr=function(t){ET(this,t)},n.mr=function(){},n.iI=function(t){return!1},n.$P=function(){this.Pli.$P()},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.mz=void 0,this.Ac=void 0,[4,this.Pli.hr()];case 1:return t.sent(),[2]}})}).call(this)},n.be=function(){this.Pli.be()},n.we=function(){this.Pli.we()},n.qP=function(){return this.Pli.qP()},n.Aa=function(){return this.Pli.Aa()},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Vo(),this.Ili.kn(),[4,this.Pli.kn()];case 1:return t.sent(),this.tO.kn(),this.sO.kn(),this.Gl.kn(),[2]}})}).call(this)},Nt(i,[{key:"ht",get:function(){return this.Pli.ht}},{key:"Fx",get:function(){return this.Pli.Fx}},{key:"bt",get:function(){return this.mz}},{key:"zx",get:function(){return this.Pli.zx},set:function(t){this.Xx(t)}},{key:"Vx",get:function(){return this.Pli.Vx}},{key:"ct",get:function(){return this.Pli.ct}},{key:"xe",get:function(){return this.Ls}},{key:"Qx",get:function(){return this.Pli.Qx}},{key:"lt",get:function(){return this.Pli.lt}},{key:"Jx",get:function(){return this.Pli.Jx}},{key:"$x",get:function(){return this.Pli.$x}},{key:"iP",get:function(){return this.Pli.iP}},{key:"sP",get:function(){return this.Pli.sP}},{key:"WP",get:function(){return this.Pli.WP}},{key:"VP",get:function(){return this.Pli.VP}},{key:"rP",get:function(){return this.Pli.rP}},{key:"oP",get:function(){return this.Pli.oP},set:function(t){this.Pli.oP=t}},{key:"cP",get:function(){return this.Pli.cP}},{key:"lP",get:function(){return this.Pli.lP}},{key:"vP",get:function(){return this.Pli.vP},set:function(t){this.Pli.vP=t}},{key:"pP",get:function(){return this.Pli.pP}},{key:"wP",get:function(){return this.Pli.wP},set:function(t){this.Pli.wP=t}},{key:"AP",get:function(){return this.Pli.AP}},{key:"kP",get:function(){return this.Pli.kP}},{key:"xP",get:function(){return this.Pli.xP}},{key:"nt",get:function(){return this.Pli.nt}},{key:"DP",get:function(){return this.Pli.DP}},{key:"MP",get:function(){return this.Pli.MP}},{key:"rt",get:function(){return this.Pli.rt}},{key:"OP",get:function(){return this.Pli.OP},set:function(t){this.Pli.OP=t}}]),i}(nh),w5=function(t){function i(i){var n;(n=t.call(this,i)||this).Cli=void 0;var r=new l5(n.Pa.xe,n.Dx,n.Cd,n.Kst,n.VP,n.tnt,n.Ql);return n.Cli=new v5(n,n.Pa,r),n.GX.DJ(n.Cli),n.wn(eh.Pw,function(){n.Cli._li()}),n}return Ct(i,t),i.prototype.kn=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Cli.kn(),[4,t.prototype.kn.call(i)];case 1:return n.sent(),[2]}})}).call(this)},i}(Ub);qb(function(t){return Ui.Zs.vp?new w5(t):(t.GX.DJ(new d5),t)},zb.Ent),U(),Et(),U(),Et(),xt();var g5="VPAID",_5=function(){function t(){this.Rli=new M1}var i=t.prototype;return i.Qz=function(t){return m5(t)},i.e4t=function(i,n,r){return r.ads||(r.ads=sT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.Dli(),this.Rli.e4t(i,n,r)},i.W6=function(i,n,r,e){!function(t){if(!m5(t))throw new y("Unknown ad integration: "+t.integration)}(i);var s=t.Nli(i,r.xe);this.Rli.W6(s,n,r,e)},i.uj=function(t){var i=Lw(t);if(!S(i.id))return i.queryParameters||(i.queryParameters={}),i.custom&&(i.queryParameters.custom?We('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(i.queryParameters.custom=i.custom,delete i.custom)),i.app&&(i.queryParameters.app?We('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(i.queryParameters.app=i.app,delete i.app)),i.device&&(i.queryParameters.device?We('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(i.queryParameters.device=i.device,delete i.device)),i.user&&(i.queryParameters.user?We('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(i.queryParameters.user=i.user,delete i.user)),i.ipAddress&&(i.queryParameters.ip_addr?We('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(i.queryParameters.ip_addr=i.ipAddress,delete i.ipAddress)),i.maximumAdDuration&&(i.queryParameters.VMaxd?We('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(i.queryParameters.VMaxd=i.maximumAdDuration,delete i.maximumAdDuration)),i},t.Nli=function(i,n){return{integration:pS.SPOTX,sources:{src:t.Bli(i,f.location.href,n.offsetWidth,n.offsetHeight,Bi.Tg)}}},t.Bli=function(i,n,r,e,s){if(i.sources)return i.sources;var u=e,o=r;s&&0===o&&(o=320,u=180);var h={custom_skin:1,player_width:o,player_height:u};i.cacheBuster&&(h.cb=b.random()),t.Mli(n)&&(h.content_page_url=n);var a=Yu({},h,i.queryParameters);return a[g5]||a.VPI||(a[g5]="js"),"https://search.spotxchange.com/vast/2.0/"+i.id+"?"+t.Lli(a)},t.Mli=function(t){return Fo(t,"http://")||Fo(t,"https://")},t.Lli=function(t){return jZ(t)},t.Dli=function(){return Bi.B_?VA.ENABLED:VA.INSECURE},Nt(t,[{key:"i4t",get:function(){return this.Rli.i4t}}]),t}();function m5(t){return"spotx"===t.integration}kS.Bg.Kz(new _5),U(),Et(),U(),Et(),Pt(),U(),Et(),Wt(),xt(),Pt(),H(),Ft(),Qt(),U(),Et();var y5=b.PI/180,p5=180/b.PI,k5=function(){function t(t,i){this.x=void 0,this.y=void 0,this.x=t||0,this.y=i||0}var i=t.prototype;return i.Gy=function(t,i){return this.x=t,this.y=i,this},i.jft=function(t){return this.x=t.x,this.y=t.y,this},i.Oli=function(t){return this.Gy(t[0],t[1])},i.Fli=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},i.Uli=function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this},t}(),b5=function(){function t(t,i,n){this.x=void 0,this.y=void 0,this.z=void 0,this.x=t||0,this.y=i||0,this.z=n||0}var i=t.prototype;return i.Gy=function(t,i,n){return this.x=t,this.y=i,this.z=n,this},i.jft=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},i.Oli=function(t){return this.Gy(t[0],t[1],t[2])},i.Fli=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},i.V=function(){return b.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},i.Vli=function(){var t=this.V();if(0!==t){var i=1/t;this.Hli(i)}else this.x=0,this.y=0,this.z=0;return this},i.Hli=function(t){this.x*=t,this.y*=t,this.z*=t},i.Wli=function(t){var i=this.x,n=this.y,r=this.z,e=t.x,s=t.y,u=t.z,o=t.w,h=o*i+s*r-u*n,a=o*n+u*i-e*r,c=o*r+e*n-s*i,f=-e*i-s*n-u*r;return this.x=h*o+f*-e+a*-u-c*-s,this.y=a*o+f*-s+c*-e-h*-u,this.z=c*o+f*-u+h*-s-a*-e,this},i.qli=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},i.zli=function(t,i){var n=t.x,r=t.y,e=t.z,s=i.x,u=i.y,o=i.z;return this.x=r*o-e*u,this.y=e*s-n*o,this.z=n*u-r*s,this},t}(),A5=function(){function t(t,i,n,r){this.x=void 0,this.y=void 0,this.z=void 0,this.w=void 0,this.x=t||0,this.y=i||0,this.z=n||0,this.w=void 0!==r?r:1}var i=t.prototype;return i.Gy=function(t,i,n,r){return this.x=t,this.y=i,this.z=n,this.w=r,this},i.jft=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},i.Oli=function(t){return this.Gy(t[0],t[1],t[2],t[3])},i.Fli=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},i.qli=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},i.zF=function(t){return this.Gli(this,t)},i.Gli=function(t,i){var n=t.x,r=t.y,e=t.z,s=t.w,u=i.x,o=i.y,h=i.z,a=i.w;return this.x=n*a+s*u+r*h-e*o,this.y=r*a+s*o+e*u-n*h,this.z=e*a+s*h+n*o-r*u,this.w=s*a-n*u-r*o-e*h,this},i.Xli=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.Vli(),this},i.jli=function(){var t,i,n,r=this.x,e=this.y,s=this.z,u=this.w,o=r*e+s*u;if(o>.499)t=2*b.atan2(r,u),i=b.PI/2,n=0;else if(o<-.499)t=-2*b.atan2(r,u),i=-b.PI/2,n=0;else{var h=r*r,a=e*e,c=s*s;t=b.atan2(2*e*u-2*r*s,1-2*a-2*c),i=b.asin(2*o),n=b.atan2(2*r*u-2*e*s,1-2*h-2*c)}return new T5(t,n,i)},i.Vli=function(){var t=b.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),T5=function(){function t(t,i,n){this.Qli=void 0,this.Kli=void 0,this.Yli=void 0,this.Qli=t||0,this.Kli=i||0,this.Yli=n||0}var i=t.prototype;return i.Gy=function(t,i,n){return this.Qli=t,this.Kli=i,this.Yli=n,this},i.jft=function(t){return this.Gy(t.Qli,t.Kli,t.Yli)},i.gO=function(t){return this.Qli+=t.Qli,this.Kli+=t.Kli,this.Yli+=t.Yli,this},i.gF=function(t){return this.Qli-=t.Qli,this.Kli-=t.Kli,this.Yli-=t.Yli,this},i.Jli=function(){var t=this.Qli,i=this.Yli,n=this.Kli,r=b.cos(t/2),e=b.cos(i/2),s=b.cos(n/2),u=b.sin(t/2),o=b.sin(i/2),h=b.sin(n/2),a=r*e,c=u*o;return new A5(a*h+c*s,u*e*s+r*o*h,r*o*s-u*e*h,a*s-c*h)},t}();U(),Et();var S5=["Zli","zot","$li","error"];U(),Et();var E5=function(t){return t.Os="unavailable",t.tfi="available",t.Ya="presenting",t}({});U(),Et();var I5=function(){function t(t,i){var n=this;this.ffi=void 0,this.Ls=void 0,this.We=!1,this.gfi=new k5,this.pfi=new k5,this.vfi=new k5,this.cfi=!1,this.ifi=function(t){n.gfi.Gy(t.clientX,t.clientY),n.cfi=!0,t.preventDefault(),t.stopPropagation()},this.efi=function(t){t.touches&&1===t.touches.length&&(n.gfi.Gy(t.touches[0].pageX,t.touches[0].pageY),n.cfi=!0,t.preventDefault())},this.cr=function(t){if(n.cfi||n._fi()){if(n._fi()){var i=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;n.pfi.Gy(n.gfi.x-i,n.gfi.y-r)}else n.pfi.Gy(t.clientX,t.clientY);n.vfi.Uli(n.pfi,n.gfi),n.gfi.jft(n.pfi),n.dfi()}},this.sfi=function(t){n.cfi&&(n.pfi.Gy(t.touches[0].pageX,t.touches[0].pageY),n.vfi.Uli(n.pfi,n.gfi),n.gfi.jft(n.pfi),n.dfi())},this.nfi=function(){n.ufi()},this.rfi=function(){n.ufi()},this.afi=function(){n.ufi()},this.ffi=t,this.Ls=i}var i=t.prototype;return i.JU=function(){this.We||(this.We=!0,this.Ls.addEventListener("mousedown",this.ifi),this.Ls.addEventListener("touchstart",this.efi),f.addEventListener("mousemove",this.cr),f.addEventListener("touchmove",this.sfi),f.addEventListener("mouseup",this.nfi),f.addEventListener("touchend",this.rfi),this.hfi(f))},i.ZU=function(){this.We&&(this.We=!1,this.Ls.removeEventListener("mousedown",this.ifi),this.Ls.removeEventListener("touchstart",this.efi),f.removeEventListener("mousemove",this.cr),f.removeEventListener("touchmove",this.sfi),f.removeEventListener("mouseup",this.nfi),f.removeEventListener("touchend",this.rfi),this.ofi(f))},i.hfi=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(vn(t))try{t.parent.addEventListener("mouseup",this.nfi),this.hfi(t.parent)}catch(i){t.document.documentElement.addEventListener("mouseleave",this.afi)}},i.ofi=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.afi),vn(t))try{t.parent.removeEventListener("mouseup",this.nfi),this.ofi(t.parent)}catch(t){}},i.ufi=function(){this.cfi=!1},i.dfi=function(){var t=this.ffi.lfi;t.yaw+=2*b.PI*this.vfi.x*.4/this.Ls.clientWidth,t.pitch+=2*b.PI*this.vfi.y*.5/this.Ls.clientHeight,t.pitch=Tn(t.pitch,-b.PI/2,b.PI/2),this.ffi.lfi=t},i._fi=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Ls},i.kn=function(){this.ZU()},t}();U(),Et(),Pt();var R5=function(t){function i(){return t.call(this,"$li")||this}return Ct(i,t),i.prototype.xa=function(){return new C5},i}(Aw),C5=function(t){function i(){return t.call(this,"stereochange")||this}return Ct(i,t),i}(rh);U(),Et();var P5=function(){function t(){this.hZ=[0,0,0,1],this.yfi=[]}var i=t.prototype;return i.mfi=function(t){var i;(i=t).clearColor.apply(i,[].concat(this.hZ)),t.clear(t.COLOR_BUFFER_BIT)},i.wfi=function(t,i){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.yfi.forEach(function(n){n.wfi(t,i)})},i.bfi=function(t){this.yfi.push(t)},i.Afi=function(){this.yfi=[]},t}();U(),Et(),Pt(),U(),Et(),U(),Et(),Pt();var D5=function(){function t(t,i,n,r,e){this.Tfi=void 0,this.eb=void 0,this.kfi=void 0,this.Vp=void 0,this.Efi=void 0,this.xfi=void 0,this.uc=void 0,this.Tfi=t,this.eb=this.Sfi(t,i,n),this.kfi=r,this.Vp=e,this.Efi=!1,this.xfi=0,this.uc=0}return t.prototype.Sfi=function(t,i,n){var r=t.createBuffer();return null===r?(We("Failed to create buffer."),null):(t.bindBuffer(i,r),t.bufferData(i,n,t.STATIC_DRAW),r)},t}(),N5=function(t){function i(i,n,r){return t.call(this,i,i.ARRAY_BUFFER,n,r,i.FLOAT)||this}Ct(i,t);var n=i.prototype;return n.JU=function(t){if(null!==this.eb)if(null!==t){var i=this.Tfi;i.bindBuffer(i.ARRAY_BUFFER,this.eb),i.vertexAttribPointer(t,this.kfi,this.Vp,this.Efi,this.xfi,this.uc),i.enableVertexAttribArray(t)}else We("Attempted to enable attribute without location.");else We("Attempted to enable buffer that failed to initialize.")},n.ZU=function(t){t&&this.Tfi.disableVertexAttribArray(t)},i}(D5);var x5=function(t){function i(i,n){var r;return(r=t.call(this,i,i.ELEMENT_ARRAY_BUFFER,n,1,i.UNSIGNED_SHORT)||this).Ifi=void 0,r.Ifi=n.length,r}return Ct(i,t),i.prototype.Pfi=function(){var t=this.Tfi;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.eb),t.drawElements(t.TRIANGLES,this.Ifi,this.Vp,this.uc)},i}(D5);U(),Et();var B5=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),O5=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),M5=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),L5=function(){function t(t,i,n){this.Nfi=void 0,this.Tfi=void 0,this.Tfi=t,this.Nfi=this.Cfi(this.Tfi,i,n)}var i=t.prototype;return i.Cfi=function(t,i,n){var r=this.Rfi(t,t.VERTEX_SHADER,i),e=this.Rfi(t,t.FRAGMENT_SHADER,n);if(null===r||null===e)return We("Failed to create vertex or fragment shader."),null;var s=t.createProgram();return null===s?(We("Failed to create shader program"),null):(t.attachShader(s,r),t.attachShader(s,e),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(We("Failed to initialize shader program"),null))},i.Rfi=function(t,i,n){var r=t.createShader(i);if(null===r)return We("failed to create shader."),null;if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return We("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},i.Dfi=function(){return this.Nfi},i.Bfi=function(t){var i=this.Nfi;if(null===i)return We("Attempted to retrieve attribute location when shader program was not initialized"),null;var n=this.Tfi.getAttribLocation(i,t);return-1===n?null:n},i.Mfi=function(t){var i=this.Nfi;if(null===i)return We("Attempted to retrieve uniform location when shader program was not initialized"),null;var n=this.Tfi.getUniformLocation(i,t);return null===n&&ze("Attempted to retrieve nonexistent uniform: "+t),n},t}(),F5=function(){function t(t,i,n){this.Ofi=void 0,this.Ffi=void 0,this.Ufi=void 0,this.Ofi=t,this.Ffi=i,this.Ufi=n}var i=t.prototype;return i.Lfi=function(){var t,i=this.Ofi.length,n=(t=b).max.apply(t,[].concat(this.Ffi));return n>=i?(ze("Created geometry where largest index ("+n+") is larger than/equal to attribute array size ("+i+")"),!1):(n<i-1&&We("Created geometry where largest index ("+n+") is smaller than attribute buffer - 1 ("+(i-1)+") resulting in unused vertices"),!this.Ufi||this.Ufi.length===i||(ze("Created geometry where position ("+i+") and uv ("+this.Ufi.length+") buffers have different length."),!1))},i.Vfi=function(t,i){if(!this.Lfi())throw new y("Failed to validate buffers for WebGLGeometry.");var n=function(t,i){var n=[];return i.forEach(function(t){n.push(t.x,t.y,t.z)}),new N5(t,new Float32Array(n),3)}(t,this.Ofi),r=function(t,i){return new x5(t,new Uint16Array(i))}(t,this.Ffi),e=function(t,i){var n=[];return i.forEach(function(t){n.push(t.x,t.y)}),new N5(t,new Float32Array(n),2)}(t,this.Ufi);return new U5(n,r,e,i)},t}(),U5=function(){function t(t,i,n,r){this.Ofi=void 0,this.Wfi=void 0,this.Ufi=void 0,this.qfi=void 0,this.Ffi=void 0,this.Ofi=t;var e=r.Bfi(B5.VertexPos);if(null===e)throw new y("Failed to get position attribute location.");this.Wfi=e,this.Ufi=n,this.qfi=r.Bfi(B5.VertexUV),this.Ffi=i}var i=t.prototype;return i.Hfi=function(){this.Ofi.JU(this.Wfi),null!==this.qfi&&this.Ufi.JU(this.qfi)},i.zfi=function(){this.Ofi.ZU(this.Wfi),null!==this.qfi&&this.Ufi.ZU(this.qfi)},i.wfi=function(){this.Ffi.Pfi()},t}(),V5=function(t){function i(i,n,r,e,s,u,o){void 0===i&&(i=1),void 0===n&&(n=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===s&&(s=2*b.PI),void 0===u&&(u=0),void 0===o&&(o=b.PI);for(var h=0,a=b.min(u+o,b.PI),c=[],f=[],v=[],d=[],l=0;l<=r;l++){var w=[],g=l/r,_=0;0===l&&0===u?_=.5/n:l===r&&a===b.PI&&(_=-.5/n);for(var m=0;m<=n;m++){var y=m/n,p=-i*b.cos(e+y*s)*b.sin(u+g*o),k=i*b.cos(u+g*o),A=i*b.sin(e+y*s)*b.sin(u+g*o);f.push(new b5(p,k,A)),v.push(new k5(y+_,1-g)),w.push(h++)}d.push(w)}for(var T=0;T<r;T++)for(var S=0;S<n;S++){var E=d[T][S+1],I=d[T][S],R=d[T+1][S],C=d[T+1][S+1];(0!==T||u>0)&&c.push(E,I,C),(T!==r-1||a<b.PI)&&c.push(I,R,C)}return t.call(this,f,c,v)||this}return Ct(i,t),i}(F5);U(),Et(),U(),Et();var H5=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],W5=function(){function t(t,i){if(this.Tfi=void 0,this.jfi=void 0,this.Qfi=void 0,this.u2=void 0,this.Yfi=void 0,this.Jfi=void 0,this.Zfi=void 0,this.Xfi=void 0,this.Tfi=t,this.jfi=t.createTexture(),null===this.jfi)throw new y("Failed to create texture");var n=i.Mfi(O5.Texture);if(null===n)throw new y("Failed to get texture location.");this.Qfi=n,t.bindTexture(t.TEXTURE_2D,this.jfi),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Xfi=t.TEXTURE0,this.u2=0,this.Yfi=t.RGBA,this.Jfi=t.RGBA,this.Zfi=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.u2,this.Yfi,2,2,0,this.Jfi,this.Zfi,new E(H5))}var i=t.prototype;return i.Gfi=function(){var t=this.Tfi;t.activeTexture(this.Xfi),t.bindTexture(t.TEXTURE_2D,this.jfi)},i.gr=function(){var t=this.Tfi;t.activeTexture(this.Xfi),t.bindTexture(t.TEXTURE_2D,this.jfi),t.uniform1i(this.Qfi,0)},i.Kfi=function(t){var i=this.Tfi;i.bindTexture(i.TEXTURE_2D,this.jfi),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,this.u2,this.Yfi,this.Jfi,this.Zfi,t),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1)},i.$fi=function(t){var i=this.Tfi;i.bindTexture(i.TEXTURE_2D,this.jfi),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),t.ant.OQ(i,i.TEXTURE_2D,this.u2,this.Yfi,this.Jfi,this.Zfi),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1)},t}(),z5="\n    attribute vec4 "+B5.VertexPos+";\n    attribute vec2 "+B5.VertexUV+";\n\n    uniform mat4 "+O5.ModelViewMat+";\n    uniform mat4 "+O5.ProjectionMat+";\n    \n    varying mediump vec2 "+M5.UV+";\n    \n    void main() {\n      gl_Position = "+O5.ProjectionMat+" * "+O5.ModelViewMat+" * "+B5.VertexPos+";\n      "+M5.UV+" = "+B5.VertexUV+";\n    }\n",X5="\n    varying mediump vec2 "+M5.UV+";\n    \n    uniform sampler2D "+O5.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+O5.Texture+", "+M5.UV+");\n    }\n",q5=function(){function t(t){this.Tfi=void 0,this.Nfi=void 0,this.jfi=void 0,this.Tfi=t,this.Nfi=new L5(t,z5,X5),this.jfi=new W5(t,this.Nfi)}var i=t.prototype;return i.Dfi=function(){return this.Nfi},i.JU=function(){this.Tfi.useProgram(this.Nfi.Dfi()),this.jfi.gr()},i.tvi=function(t){this.jfi.Kfi(t)},i.ivi=function(t){this.jfi.$fi(t)},t}();U(),Et(),xt(),U(),Et();var G5=F(ai()),j5=F(ci()),Q5=(F(fi()),F(vi())),Y5=(F(di()),F(li())),K5=F(wi()),J5=F(gi()),Z5=F(_i()),$5=F(mi()),t6=function(){function t(t,i,n,r){this.rvi=void 0,this.hvi=void 0,this.uvi=void 0,this.fvi=void 0,this.mo=new b5,this.vvi=new b5,this.nvi="none",this.hvi=n;var e=n.Dfi();this.rvi=i.Vfi(t,e),r&&(this.nvi=r);var s=e.Mfi(O5.ModelViewMat);if(null===s)throw new y("Failed to get model view matrix location.");this.uvi=s;var u=e.Mfi(O5.ProjectionMat);if(null===u)throw new y("Failed to get projection matrix location.");this.fvi=u}var i=t.prototype;return i.wfi=function(t,i){if(this.evi(i.nvi)){this.rvi.Hfi(),this.hvi.JU();var n=this.ovi,r=i.avi,e=(0,K5.default)(r,r,n);t.uniformMatrix4fv(this.uvi,!1,e);var s=i.cvi;t.uniformMatrix4fv(this.fvi,!1,s),this.rvi.wfi(),this.rvi.zfi()}},i.evi=function(t){return"none"===this.nvi||"right"!==t&&"left"===this.nvi||"right"===t&&"right"===this.nvi},Nt(t,[{key:"ovi",get:function(){var t=(0,G5.default)(),i=this.mo;return(0,$5.default)(t,t,i.Fli()),(0,Z5.default)(t,t,this.vvi.x,new Float32Array([1,0,0])),(0,Z5.default)(t,t,this.vvi.y,new Float32Array([0,1,0])),(0,Z5.default)(t,t,this.vvi.z,new Float32Array([0,0,1])),t}}]),t}();U(),Et(),xt();var i6=function(){function t(t){this.gvi=72*b.PI/180,this.pvi=1.77,this.mvi=.1,this.wvi=100,this.nvi="none",this.Svi=void 0,this.Tvi=void 0,this.bvi=void 0,this.Evi=void 0,this.Svi=new b5,this.Tvi=new A5,this.bvi=this._vi(),this.Evi=this.Avi(),t&&(this.nvi=t)}var i=t.prototype;return i._vi=function(){var t=(0,G5.default)();return(0,J5.default)(t,this.gvi,this.pvi,this.mvi,this.wvi)},i.yvi=function(){this.bvi=this._vi()},i.Avi=function(){var t=(0,G5.default)(),i=(0,Q5.default)((0,G5.default)(),this.Svi.Fli()),n=(0,j5.default)((0,G5.default)(),this.Tvi.Fli());return(0,K5.default)(t,i,n),(0,Y5.default)(t,t),t},i.kvi=function(){this.Evi=this.Avi()},i.xvi=function(){this.kvi(),this.yvi()},i.hr=function(){this.Svi=new b5,this.vvi=new A5,this.xvi()},i.Pvi=function(t){var i=this.Tvi.jli();i.gO(t),this.vvi=i.Jli()},i.Ivi=function(t){this.vvi=t.Jli()},Nt(t,[{key:"cvi",get:function(){return new Float32Array(this.bvi)},set:function(t){this.bvi=t}},{key:"avi",get:function(){return new Float32Array(this.Evi)}},{key:"Cvi",get:function(){return this.gvi},set:function(t){this.gvi=t,this.yvi()}},{key:"Rvi",get:function(){return this.pvi},set:function(t){this.pvi=t,this.yvi()}},{key:"mo",get:function(){return(new b5).jft(this.Svi)},set:function(t){this.Svi=t,this.kvi()}},{key:"vvi",get:function(){return(new A5).jft(this.Tvi)},set:function(t){this.Tvi=t,this.kvi()}}]),t}();U(),Et(),Pt();var n6=function(t){function i(){return t.call(this,"Zli")||this}return Ct(i,t),i.prototype.xa=function(){return new r6},i}(Aw),r6=function(t){function i(){return t.call(this,"directionchange")||this}return Ct(i,t),i}(rh),e6=1e-4,s6=function(t){function i(i){var n;return(n=t.call(this)||this).oa=void 0,n.Ca=void 0,n.uV=new hr,n.Uvi=!1,n.P_i=!1,n.D_i=new A5,n.F_i=new A5,n.N_i=new A5,n.gvi=74,n.w_i=!1,n.ZS=void 0,n.Gvi=zS.NONE,n.E_i=!1,n.x_i=XS.NONE,n.Lvi=void 0,n.Qvi=void 0,n.Tfi=void 0,n.jvi=new P5,n.Ovi=void 0,n.e_i=null,n.m_i=null,n.s_i=null,n.o_i=null,n.u_i=!1,n.c_i=null,n.g_i=null,n.__i=null,n.S_i=0,n.y_i=!1,n.Nvi=function(){var t=n.Uvi;n.Fvi().then(function(){n.Uvi?t||n.e_i||n.m_i||n.Hvi():n.HNt("Inline session not available. Panorama functionality will not work.",vd.VR_PRESENTATION_ERROR)})},n.fo=function(){var t;n.Yvi(),n.Zvi(),null==(t=l.xr)||t.removeEventListener("devicechange",n.Nvi);var i=n.O_i();n.ZS=i,n.k_i=Li(i),n.Gvi=(null==i?void 0:i.stereoMode)||zS.NONE,n.zvi=(null==i?void 0:i.panoramaMode)||XS.NONE,i&&(n.Mvi(),n.Hvi(),n.Dvi())},n.dci=function(){n.i_i()},n.t_i=function(){n.h_i&&(n.Jvi(),n.h_i.removeEventListener("end",n.t_i),n.h_i.end().catch(dn),n.h_i=null,n.o_i=null,n.u_i=!1,n.e_i?n.n_i():n.i_i())},n.bn=function(){n.Kvi()},n.f_i=function(t,i){if(n.Tfi){var r=n.Tfi,e=n.l_i;if(null===n.__i&&n.A_i()&&(n.Qvi.ivi(n.oa),n.S_i>0&&(n.S_i-=1)),null!==e&&void 0!==i){n.c_i=e.requestAnimationFrame(n.f_i);var s=e.renderState.baseLayer,u=i.getViewerPose(n.C_i);if(void 0!==s&&void 0!==u){r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer);for(var o,h=new T5,a=0,c=Lt(u.views);!(o=c()).done;){var f=o.value,v=new i6(f.eye);if(v.cvi=f.projectionMatrix,n.p_i()){var d=void 0;if(Bi.Ks&&Bi.u_&&null===n.m_i){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v.vvi=new A5(d.x,d.y,d.z,d.w)}n.e_i&&v.Pvi(n.N_i.jli()),h=h.gO(v.vvi.jli()),a+=1;var l=s.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),n.jvi.wfi(r,v)}var w=new T5(h.Qli/a,h.Kli/a,h.Yli);n.D_i=w.Jli(),function(t,i){var n=t.qli(i);return 1-n*n<e6}(n.D_i,n.F_i)||(n.F_i.jft(n.D_i),n.So(new n6))}}}},n.ZG=function(){n.S_i=5},n.oa=i,n.Ca=function(t){var i,n={get stereo(){return t.B_i},set stereo(i){t.B_i=i},get useDeviceMotionControls(){return t.M_i},set useDeviceMotionControls(i){t.M_i=i},get direction(){return t.R_i},set direction(i){t.R_i=i},get verticalFOV(){return t.L_i},set verticalFOV(i){t.L_i=i},get canPresentVR(){return t.I_i},get state(){return t.vft},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new fR(t,S5,n),n}(n),n.Bvi(),n}Ct(i,t);var n=i.prototype;return n.Dvi=function(){l.xr?(l.xr.addEventListener("devicechange",this.Nvi),this.Nvi()):this.HNt("Your browser does not support WebXR",vd.VR_PLATFORM_UNSUPPORTED)},n.Bvi=function(){this.oa.Ma.wn(ZT.pa,this.bn),this.oa.wn(fI.yn,this.bn),this.oa.wn(eh.do,this.fo),this.oa.wn(eh.Zw,this.ZG)},n.Mvi=function(){var t;this.Lvi||(this.Lvi=v.createElement("canvas"),this.Lvi.className="theoplayer-vr",this.Lvi.style.zIndex="2",this.Lvi.style.background="black",this.Lvi.style.display="none",this.oa.xe.appendChild(this.Lvi),an(this.Lvi));var i=null!=(t=this.Lvi.getContext("webgl2"))?t:this.Lvi.getContext("webgl");i?(this.Tfi=i,this.Ovi=new I5(this,this.Lvi)):this.HNt("Your browser does not support WebGL",vd.VR_PLATFORM_UNSUPPORTED)},n.Fvi=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=this,l.xr?[4,ut.all([l.xr.isSessionSupported("inline").then(function(i){t.Uvi=i}).catch(function(i){t.Uvi=!1,t.HNt("exception when calling xr.isSessionSupported for inline session: "+i,vd.VR_PRESENTATION_ERROR)}),l.xr.isSessionSupported("immersive-vr").then(function(i){t.Vvi=i}).catch(function(i){t.Vvi=!1,t.HNt("exception when calling xr.isSessionSupported for immersive-vr session: "+i,vd.VR_PRESENTATION_ERROR)})])]:(this.Uvi=!1,this.Vvi=!1,[2]);case 1:return i.sent(),[2]}})}).call(this)},n.Hvi=function(){this.Wvi&&(this.qvi(this.zvi,this.Gvi),this.Xvi())},n.qvi=function(t,i){var n=this.Tfi;if(n&&t!==XS.NONE){var r,e;this.jvi.Afi(),t===XS.PM360?(r=2*b.PI,e=-b.PI/2):(r=b.PI,e=-b.PI);for(var s=new V5(16,60,40,0,r),u=[],o=[],h=0;h<s.Ufi.length;h++){var a=s.Ufi[h];switch(i){case zS.NONE:u.push(a),o.push(a);break;case zS.VERTICAL:u.push(new k5(a.x,.5*a.y)),o.push(new k5(a.x,.5*a.y+.5));break;case zS.HORIZONTAL:u.push(new k5(.5*a.x,a.y)),o.push(new k5(.5*a.x+.5,a.y))}}s.Ofi.forEach(function(t){t.x*=-1});var c=new F5(s.Ofi,s.Ffi,u),f=new F5(s.Ofi,s.Ffi,o);this.Qvi=new q5(n);var v=new t6(n,c,this.Qvi,"left");v.vvi.y=e,this.jvi.bfi(v);var d=new t6(n,f,this.Qvi,"right");d.vvi.y=e,this.jvi.bfi(d)}},n.Xvi=function(){this.Tfi&&(this.Lvi.style.display="block",this.Kvi(),this.oa.mn(eh.uo,this.dci),this.Uvi&&(this.oa.lP?this.oa.wn(eh.uo,this.dci):this.dci()))},n.Yvi=function(){this.Jvi(),this.oa.mn(eh.uo,this.dci),this.Lvi&&(this.Lvi.style.display="none")},n.Zvi=function(){this.$vi(),this.t_i()},n.i_i=function(){return Vt(function(){var t,i,n,r;return zt(this,function(e){switch(e.label){case 0:if(this.e_i||!this.Uvi)return[2];e.label=1;case 1:return e.trys.push([1,5,,6]),[4,gr(l.xr.requestSession("inline"),this.uV.Yg)];case 2:return t=e.sent(),i=Bi.Ks?Bi.u_?"viewer":"local":"viewer",[4,t.requestReferenceSpace(i)];case 3:return n=e.sent(),t.addEventListener("end",this.$vi),this.s_i=n,this.e_i=t,this.Ovi.JU(),this.n_i(),[4,t.updateRenderState({baseLayer:new XRWebGLLayer(t,this.Tfi),inlineVerticalFieldOfView:this.gvi*y5})];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),this.$vi(),this.HNt(r,vd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}})}).call(this)},n.$vi=function(){this.e_i&&(this.Jvi(),this.Ovi.ZU(),this.e_i.removeEventListener("end",this.$vi),this.e_i.end().catch(dn),this.e_i=null,this.Kvi())},n.r_i=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:if(this.h_i||!this.Vvi)return[2];this.Jvi(),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,gr(l.xr.requestSession("immersive-vr"),this.uV.Yg)];case 2:return[4,(t=r.sent()).requestReferenceSpace("local")];case 3:return i=r.sent(),t.addEventListener("end",this.t_i),this.o_i=i,this.h_i=t,[4,this.a_i()];case 4:return r.sent(),this.n_i(),[3,6];case 5:return n=r.sent(),this.t_i(),this.HNt(n,vd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}})}).call(this)},n.a_i=function(){return Vt(function(){var t,i,n;return zt(this,function(r){switch(r.label){case 0:return t=this,i=this.Tfi,n=this.h_i,this.Lvi&&i&&n&&!this.u_i?(this.Lvi.addEventListener("webglcontextlost",function(t){t.preventDefault()}),this.Lvi.addEventListener("webglcontextrestored",function(){t.qvi(t.zvi,t.Gvi)}),this.u_i=!0,[4,i.makeXRCompatible()]):[2];case 1:return r.sent(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,i)})];case 2:return r.sent(),[2]}})}).call(this)},n.Kvi=function(){if(!this.h_i&&this.Tfi){var t=this.Tfi,i=this.Lvi.clientWidth,n=this.Lvi.clientHeight;if(0===i||0===n)return;var r=Ui.Zs.fp;this.Lvi.width=i*r,this.Lvi.height=n*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},n.n_i=function(){null===this.c_i&&(this.d_i(),this.l_i?this.c_i=this.l_i.requestAnimationFrame(this.f_i):this.v_i())},n.Jvi=function(){null!==this.c_i&&(this.v_i(),this.l_i&&this.l_i.cancelAnimationFrame(this.c_i),this.c_i=null)},n.d_i=function(){var t=this;if(null===this.__i){var i=this.oa.zP();if(void 0!==i&&V(i,HTMLVideoElement)&&"function"==typeof i.requestVideoFrameCallback){var n=function(){t.Qvi.ivi(t.oa),t.__i=i.requestVideoFrameCallback(n)};this.g_i=i,this.__i=i.requestVideoFrameCallback(n)}}},n.v_i=function(){var t,i;null!==this.__i&&(null==(i=this.g_i)||null==(t=i.cancelVideoFrameCallback)||t.call(i,this.__i),this.g_i=null,this.__i=null)},n.p_i=function(){return!!this.m_i||(Bi.ru?this.w_i&&this.y_i:this.w_i)},n.b_i=function(){var t=this,i=DeviceMotionEvent.requestPermission;"function"==typeof i&&i().then(function(i){t.y_i="granted"===i})},n.A_i=function(){return(!this.lP()||Boolean(this.S_i))&&this.T_i()},n.lP=function(){return this.oa.lP},n.T_i=function(){return this.oa.AP>=2},n.HNt=function(t,i){this.So(new yb(new ld(i,t)))},n.O_i=function(){var t=this.oa.nu();return t&&t.vr},n.kn=function(){this.uV.Zg(),this.Zvi(),this.Vo(),this.Lvi&&(Zi(this.Lvi),this.Lvi=void 0),this.Tfi=void 0,this.Ovi&&(this.Ovi.kn(),this.Ovi=void 0),this.oa=void 0},Nt(i,[{key:"k_i",get:function(){return this.E_i},set:function(t){var i=this.vft;this.E_i=t,this.vft!==i&&this.So(new i2)}},{key:"Wvi",get:function(){return this.zvi!==XS.NONE}},{key:"zvi",get:function(){return this.x_i},set:function(t){var i=this.vft;this.x_i=t,this.vft!==i&&this.So(new i2)}},{key:"Vvi",get:function(){return this.P_i},set:function(t){var i=this.P_i;this.P_i=t,this.P_i!==i&&this.So(new i2)}},{key:"I_i",get:function(){return this.Vvi}},{key:"l_i",get:function(){return this.h_i||this.e_i}},{key:"h_i",get:function(){return this.m_i},set:function(t){var i=this.vft;this.m_i=t,this.vft!==i&&this.So(new i2)}},{key:"C_i",get:function(){return this.o_i||this.s_i}},{key:"R_i",get:function(){var t=this.D_i.jli();return{yaw:t.Qli*p5,pitch:t.Kli*p5,roll:t.Yli*p5}},set:function(t){var i=u6(t&&t.pitch||0)*y5,n=u6(t&&t.roll||0)*y5,r=u6(t&&t.yaw||0)*y5,e=new T5(r,i,n),s=this.D_i.jli(),u=this.N_i.jli();this.D_i=e.Jli(),this.N_i=e.gF(s).gO(u).Jli()}},{key:"lfi",get:function(){var t=this.N_i.jli();return{yaw:t.Qli,pitch:t.Kli,roll:t.Yli}},set:function(t){var i=o6(t&&t.pitch||0),n=o6(t&&t.roll||0),r=o6(t&&t.yaw||0),e=new T5(r,i,n);this.N_i=e.Jli()}},{key:"vft",get:function(){return this.k_i?this.h_i?E5.Ya:E5.tfi:E5.Os}},{key:"B_i",get:function(){return null!==this.h_i},set:function(t){var i=this.B_i;t&&this.Vvi?this.r_i():this.t_i(),this.B_i!==i&&this.So(new R5)}},{key:"M_i",get:function(){return this.w_i},set:function(t){null===this.m_i&&(this.w_i=t,t&&Bi.ru&&this.b_i())}},{key:"L_i",get:function(){return this.gvi},set:function(t){t&&t>=0&&t<=180&&(this.gvi=t,null!==this.e_i&&this.e_i.updateRenderState({inlineVerticalFieldOfView:this.gvi*y5}))}}]),i}(th);function u6(t){return In(t+180,360)-180}function o6(t){return In(t+b.PI,2*b.PI)-b.PI}function h6(t,i){return"function"==typeof t.getAll?a6(void 0===i?t.getAll():t.getAll(i)):function(t){var i=new Va,n=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(n.push(r.value),r.continue()):i.Qy(n),ot()},t.onerror=function(){i.Ky(t.error),ot()},i.Yy}(void 0===i?t.openCursor():t.openCursor(i))}function a6(t){return new ut(function(i,n){t.onsuccess=function(){i(t.result),ot()},t.onerror=function(){n(t.error),ot()}})}Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).ffi=void 0,r.ffi=new s6(r),r}Ct(i,t);var n=i.prototype;return n.xa=function(){return Mw(t.prototype.xa.call(this),{vr:this.ffi.Ca})},n.kn=function(){this.ffi.kn(),t.prototype.kn.call(this)},i}(t)},Vb.lu),U(),Et(),U(),Et(),U(),Et(),Wt(),xt(),Qt(),U(),Et(),Wt(),Qt(),U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et(),Wt(),Qt(),St();var c6=function(){function t(t){var i=this;this.Rxt=void 0,this.Yy=void 0,this.ro=void 0,this.Rxt=t,this.ro=!0,this.Yy=new ut(function(t,n){i.Rxt.oncomplete=function(){i.ro=!1,t(),ot()},i.Rxt.onerror=function(){i.ro&&(i.ro=!1,n(i.Rxt.error||new y("Transaction error")),ot())},i.Rxt.onabort=function(){i.ro=!1,n(new y("Transaction aborted")),ot()}})}return t.prototype.Zg=function(){if(this.ro)try{this.Rxt.abort(),this.ro=!1}catch(t){}},t}();function f6(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:r=new c6(t),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,ut.all([i(n),r.Yy])];case 2:return e=u.sent(),[2,e[0]];case 3:if(s=u.sent(),!r.ro)throw new w2("IDBTransaction committed prematurely",s);throw s;case 4:return r.Zg(),[7];case 5:return[2]}})})()}var v6=function(){function t(t,i){this.wE=void 0,this.W_i=void 0,this.wE=t,this.W_i=i}var i=t.prototype;return i.yxt=function(t){return ut.resolve("persistent"===t)},i.uTt=function(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?ut.reject(EW(i)):a6(this.H_i(IW.Fxt).put(t))},i.bxt=function(t,i){return void 0===i&&(i="persistent"),Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:if("persistent"!==i)return[2,ut.reject(EW(i))];n=Lt(t),s.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,[4,this.uTt(e,i)]);case 2:s.sent(),s.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},i.qy=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.zy(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}})}).call(this)},i.zy=function(t){return a6(this.H_i(IW.Oxt).get(t))},i.Axt=function(t,i){return a6(this.H_i(IW.Oxt).index(i).get(t))},i._xt=function(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:i=[],n=Lt(t),u.label=1;case 1:return(r=n()).done?[3,4]:(e=r.value,[4,this.zy(e)]);case 2:(s=u.sent())&&i.push(s),u.label=3;case 3:return[3,1];case 4:return[2,i]}})}).call(this)},i.Sxt=function(){return h6(this.H_i(IW.Oxt))},i.Txt=function(t){return h6(this.H_i(IW.Oxt),t)},i.kxt=function(t,i){return h6(this.H_i(IW.Oxt).index(i),t)},i.pS=function(t){return a6(this.H_i(IW.Fxt).delete(t))},i.Ext=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:i=Lt(t),e.label=1;case 1:return(n=i()).done?[3,4]:(r=n.value,[4,this.pS(r)]);case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},i.xxt=function(){return a6(this.H_i(IW.Fxt).clear())},i.H_i=function(t){if(!this.W_i)throw new y("Lock was released");if(!function(t,i){return t===IW.Oxt&&i===IW.Oxt||i===IW.Fxt}(t,this.W_i.mode))throw new y("Incompatible transaction mode: "+this.W_i.mode+", expected "+t);return this.W_i.objectStore(this.l)},i.q_i=function(){this.wE.z_i(this),this.W_i=void 0},Nt(t,[{key:"l",get:function(){return this.wE.l}}]),t}();var d6=function(){function t(t,i){this.j_i=void 0,this.l=void 0,this.nPt=void 0,this.ta=new bd,this.j_i=t,this.l=i}var i=t.prototype;return i.yxt=function(t){return ut.resolve("persistent"===t)},i.uTt=function(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?ut.reject(EW(i)):this.Rxt(IW.Fxt,function(i){return i.uTt(t)})},i.bxt=function(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?ut.reject(EW(i)):this.Rxt(IW.Fxt,function(i){return i.bxt(t)})},i.qy=function(t){return this.Rxt(IW.Oxt,function(i){return i.qy(t)})},i.zy=function(t){return this.Rxt(IW.Oxt,function(i){return i.zy(t)})},i.Axt=function(t,i){return this.Rxt(IW.Oxt,function(n){return n.Axt(t,i)})},i._xt=function(t){return this.Rxt(IW.Oxt,function(i){return i._xt(t)})},i.Sxt=function(){return this.Rxt(IW.Oxt,function(t){return t.Sxt()})},i.Txt=function(t){return this.Rxt(IW.Oxt,function(i){return i.Txt(t)})},i.kxt=function(t,i){return this.Rxt(IW.Oxt,function(n){return n.kxt(t,i)})},i.pS=function(t){return this.Rxt(IW.Fxt,function(i){return i.pS(t)})},i.Ext=function(t){return this.Rxt(IW.Fxt,function(i){return i.Ext(t)})},i.xxt=function(){return this.Rxt(IW.Fxt,function(t){return t.xxt()})},i.gPt=function(t){return this.G_i(),this.nPt=new v6(this,t),this.nPt},i.G_i=function(){if(void 0!==this.nPt)throw new y("Already locked")},i.z_i=function(t){if(this.nPt!==t)throw new y("Incorrect lock");this.nPt=void 0},i.Zo=function(t){return this.ta.Zo(t)},i.Rxt=function(t,i){var n=this;return this.Zo(function(){return n.X_i(t,i)})},i.X_i=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:this.G_i(),n=this.j_i.transaction(this.l,t),r=this.gPt(n),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,f6(n,i,r)];case 2:return[2,e.sent()];case 3:return r.q_i(),[7];case 4:return[2]}})}).call(this)},i.Q_i=function(t){this.G_i();var i=this.j_i.transaction(this.l,t);return this.gPt(i)},t.K_i=function(t,i){var n,r=new ut(function(t){n=t}),e=t.reduce(function(t,i){return t.then(function(){var t,n=new ut(function(i){t=i});return i.Zo(function(){return t(),r}).catch(dn),n})},ut.resolve());return n(e.then(i)),r},t}();U(),Et(),xt(),U(),Et(),Wt(),Qt(),U(),Et(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),Qt();var l6={ED:17,Y_i:function(t){return Vt(function(){var i,n,r,e;return zt(this,function(s){if(i=t.transaction,n=t.database,(r=i.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)n.deleteObjectStore(r[e]);return n.createObjectStore(y6,{keyPath:"id"}),n.createObjectStore(p6,{keyPath:"key"}),n.createObjectStore(k6,{keyPath:"key"}),n.createObjectStore(b6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),n.createObjectStore(A6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]})})()}},w6=function(){function t(t){this.$_i=void 0,this.$_i=t}return t.prototype.J_i=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:i=Lt(this.Z_i),e.label=1;case 1:return(n=i()).done?[3,4]:(r=n.value,this.$_i<r.ED?[4,r.Y_i(t)]:[3,3]);case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}})}).call(this)},t}(),g6=function(t){function i(){return t.apply(this,arguments)||this}return Ct(i,t),Nt(i,[{key:"Z_i",get:function(){return[l6]}}]),i}(w6),_6=function(){function t(){this.igi=function(t){return new g6(t)}}var i=t.prototype;return i.tgi=function(t){this.igi=t},i.jet=function(t){return this.igi(t)},t}(),m6=new _6,y6="cachingTask",p6="licences",k6="manifest",b6="segment",A6="segmentMetadata";function T6(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new y("Indexed database unavailable")}(),(t=indexedDB.open("theoplayer-cache-database",18)).addEventListener("upgradeneeded",S6),[4,a6(t)];case 1:return[2,i.sent()]}})})()}function S6(t){return Vt(function(){var i,n,r,e,s;return zt(this,function(u){switch(u.label){case 0:return i=t.oldVersion<=18?t.oldVersion:-1,n=t.target,r=n.result,e=n.transaction,s=m6.jet(i),[4,f6(e,function(t){return s.J_i(t)},{database:r,transaction:e})];case 1:return u.sent(),[2]}})})()}var E6=function(){function t(){}return Nt(t,null,[{key:"Bg",get:function(){return this.Rbt||(this.Rbt=T6()),this.Rbt}}]),t}();E6.Rbt=void 0,U(),Et();var I6=function(){function t(t,i){this.Nxt=void 0,this.bct=void 0,this.Bxt=void 0,this.Mxt=void 0,this.Lxt=void 0,this.Nxt=t.Nxt.gPt(i),this.bct=t.bct.gPt(i),this.Bxt=t.Bxt.gPt(i),this.Mxt=t.Mxt.gPt(i),this.Lxt=t.Lxt.gPt(i)}var i=t.prototype;return i.Rxt=function(t){return t(this)},i.q_i=function(){this.Nxt.q_i(),this.bct.q_i(),this.Bxt.q_i(),this.Mxt.q_i(),this.Lxt.q_i()},t}(),R6=function(){function t(t){this.j_i=void 0,this.Nxt=void 0,this.bct=void 0,this.Bxt=void 0,this.Mxt=void 0,this.Lxt=void 0,this.j_i=t,this.Nxt=new d6(t,A6),this.bct=new d6(t,b6),this.Bxt=new d6(t,k6),this.Mxt=new d6(t,y6),this.Lxt=new d6(t,p6)}var i=t.prototype;return i.Rxt=function(t){var i=this,n=this.allCollections;return d6.K_i(n,function(){return i.X_i(n,t)})},i.X_i=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:n=t.map(function(t){return t.l}),r=this.j_i.transaction(n,IW.Fxt),e=new I6(this,r),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,f6(r,i,e)];case 2:return[2,s.sent()];case 3:return e.q_i(),[7];case 4:return[2]}})}).call(this)},t.jet=function(){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,E6.Bg];case 1:return[2,new t(i.sent())]}})})()},Nt(t,[{key:"allCollections",get:function(){return[this.bct,this.Nxt,this.Bxt,this.Mxt,this.Lxt]}}]),t}();BW.Ba(R6.jet),U(),Et(),xt(),Pt(),U(),Et();var C6=function(t){function i(i,n){var r;return(r=t.call(this)||this).V_i=void 0,r.ent=void 0,r.hu=void 0,r.V_i=i,r.ent=n,r.V_i.wn("zot",r.Rs),r}return Ct(i,t),i.prototype.U_i=function(t,i,n){var r,e;if(void 0===n&&(n="persistent"),!t)throw new y("Unexpected - The source description is undefined");if(r=cE(t),e=s3(i),YS(r))throw new y("Invalid source description");return this.V_i.asi(r,e).Ca},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i,n={get status(){return t.dk},get tasks(){return t.vsi},get network(){return t.lX.Ca},createTask:function(i,n){return t.U_i(i,n)},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new vR(t,n),n}(this)),this.hu}},{key:"dk",get:function(){return this.V_i.dk}},{key:"vsi",get:function(){return this.V_i.vsi.Ca}},{key:"lX",get:function(){return this.ent}}]),i}(nh);var P6=function(){var t=new YI(Ui.Dx,!1),i=BW.Bg,n=new v3(t),r=new e3(i,n),e=new JI(t),s=new f2(i.Mxt,r,"persistent");return new C6(s,e)}().Ca;U(),Et(),U(),Et(),Pt(),U(),Et(),xt(),Ft();var D6=function(){function t(t){this.LY=void 0,this.hu=void 0,this.LY=t}var i=t.prototype;return i.egi=function(t){for(var i,n=this.LY.Ox(),r=t.createGain(),e=Lt(n);!(i=e()).done;){var s=i.value;t.createMediaElementSource(s).connect(r)}return r},i.xa=function(){var t=this;return{createAudioSourceNode:function(i){return t.egi(i)}}},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),t}();Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).sgi=void 0,r.sgi=new D6(r.Pa),r}return Ct(i,t),i.prototype.xa=function(){var i=this.sgi.Ca;return Mw(t.prototype.xa.call(this),{get audio(){return i}})},i}(t)},Vb.lu),U(),Et(),U(),Et(),Pt();Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).hgi=void 0,r}Ct(i,t);var n=i.prototype;return n.Ta=function(n){var r=i.ngi(this.Cd.analytics),e=i.ngi(n?n.analytics:void 0);r||e?this.rgi(Yu({},r,e)):this.hgi&&this.hgi.disable(),t.prototype.Ta.call(this,n)},n.rgi=function(t){if(this.hgi)this.hgi.enable(),this.hgi.setOptions(t);else{var i=f.youbora;if(!i)throw new y("Youbora JavaScript library not loaded.");if(!i.adapters.TheoPlayer2)throw new y("TheoPlayer2 adapter not available on Youbora JavasScript library");var n=new i.Plugin(t);n.setAdapter(new i.adapters.TheoPlayer2(this.Ca)),this.Jc&&i.adapters.TheoPlayer2.NativeAdsAdapter&&n.setAdsAdapter(new i.adapters.TheoPlayer2.NativeAdsAdapter(this.Ca)),this.hgi=n}},n.kn=function(){this.hgi&&this.hgi.disable(),t.prototype.kn.call(this)},i.ngi=function(t){if(t){var i=t.filter(function(t){return"youbora"===t.integration});if(0===i.length)return;if(i.length>1)throw new y("Only one youbora analytics configuration expected");var n=i[0];n.integration;return op(n,["integration"])}},i}(t)},Vb.Snt),U(),Et(),U(),Et(),Pt(),Ft(),U(),Et(),xt(),Pt();var N6=1,x6=0,B6=1e3,O6=function(t){function i(i,n,r,e,s,u){var o;return void 0===e&&(e=MMPlayerState),void 0===s&&(s=MMAdState),void 0===u&&(u=MMPresentationInfo),(o=t.call(this)||this).oa=void 0,o.ZS=void 0,o.ugi=void 0,o.Igi=void 0,o.Cgi=void 0,o.cgi=void 0,o.Rgi=void 0,o.fgi=void 0,o.pgi=void 0,o._gi=void 0,o.Dgi=void 0,o.Pgi=void 0,o.Agi=void 0,o.Sgi=void 0,o.Bci=void 0,o.Tgi=void 0,o.xgi=void 0,o.kgi=void 0,o.u8=void 0,o.Egi=void 0,o.dci=void 0,o.YG=void 0,o.iK=void 0,o.ZG=void 0,o.QG=void 0,o.ygi=void 0,o.wgi=void 0,o.oa=i,o.ZS=n,o.ugi=r,o.Igi=e,o.Cgi=s,o.cgi=u,o.Rgi=!0,o.fgi=!1,o.pgi=void 0,o._gi=void 0,o.Dgi=void 0,o.Agi=function(t){var i,n=t.jnt,r=(n.d1t(),i=n.Ont().duration,"linear"===n.Ont().type);n.l1t(),n.a1t();r&&(o.fgi=!0),o.ggi=o.Cgi.AD_IMPRESSION,o.ggi=o.Cgi.AD_STARTED},o.Sgi=function(t){o.fgi=!1,o.ggi=o.Cgi.AD_COMPLETED},o.Bci=function(t){t.AZt===kZ.ADBLOCK?o.ggi=o.Cgi.AD_BLOCKED:o.ggi=o.Cgi.AD_ERROR},o.Tgi=function(){o.ggi=o.Cgi.AD_SKIPPED},o.xgi=function(t){var i,n,r,e;t.Gk===eg.Mk&&(o.Dgi&&t.FX!==o.Dgi&&o.ugi.reportABRSwitch(o.Dgi,t.FX),o.Dgi=t.FX,o.ugi.reportChunkRequest(new MMChunkInformation(t.sN,t.FX,t.zB,t.Iut.Yu,void 0,void 0,null!=(r=null==(i=t.Iut.Wat)?void 0:i[0])?r:0,null!=(e=null==(n=t.Iut.Wat)?void 0:n[1])?e:-1)))},o.kgi=function(t){o.vgi=o.Igi.STOPPED,o.So(t)},o.u8=function(t){o.vgi=o.Igi.ERROR,o.ugi.reportError(t.error,o.dgi())},o.Egi=function(){o.lgi?o.ggi=o.Cgi.AD_PAUSED:o.vgi=o.Igi.PAUSED},o.dci=function(){o.lgi&&(o.ggi=o.Cgi.AD_PLAY)},o.YG=function(){o.lgi?(o.pgi===o.Cgi.AD_PAUSED&&(o.ggi=o.Cgi.AD_RESUMED),o.ggi=o.Cgi.AD_PLAYING):(o.Rgi&&(o.Rgi=!1,o.ogi(),o.vgi=o.Igi.STARTED),o.vgi!==o.Igi.PAUSED&&o.vgi!==o.Igi.BUFFERING||(o.vgi=o.Igi.RESUMED))},o.iK=function(){o.ugi.reportPresentationSize(o.oa.MP,o.oa.DP)},o.ZG=function(t){o.lgi||o.vgi!==o.Igi.PAUSED||o.ugi.reportPlayerSeekCompleted(t.currentTime*B6)},o.QG=function(){o.lgi||(o.vgi=o.Igi.BUFFERING)},o.ygi=function(){o.ugi.reportDownloadRate(b.floor(bb.Bg.pW()))},o.wgi=function(){o.lgi||o.ugi.reportPlaybackPosition(o.dgi())},o.vgi=o.Igi.INITIALIZED,o.QBt(),o.Pgi=o.mgi(),o}Ct(i,t);var n=i.prototype;return n.ogi=function(){var t=this.ct===1/0,i=t?N6:x6,n=t?-1:this.ct,r=Jn(this.oa.rt.NI,this.agi);this.ugi.setPresentationInformation(new this.cgi(i,n,r))},n.agi=function(t){for(var i=t.$I.NI,n=[],r=0;r<i.length;r++){var e=i[r];e.Ti&&e.Mi&&n.push({trackIdx:r,bitrate:e.IW,width:e.Ti,height:e.Mi,codecIdentifier:e.Rrt})}return n},n.dgi=function(){return this.oa.Gx()*B6},n.mgi=function(){var t=this;return _(function(){t.wgi(),t.ygi()},i.bgi)},n.QBt=function(){this.oa.Jc&&(this.oa.Jc.wn("Jnt",this.Agi),this.oa.Jc.wn("Znt",this.Sgi),this.oa.Jc.wn("_4t",this.Bci),this.oa.Jc.wn("Z4t",this.Tgi)),this.oa.wn(eh.Nw,this.kgi),this.oa.wn(qm.ma,this.u8),this.oa.wn(eh.jw,this.Egi),this.oa.wn(eh.uo,this.dci),this.oa.wn(Ry.PM,this.YG),this.oa.wn(eh.Jw,this.iK),this.oa.wn(eh.Zw,this.ZG),this.oa.wn(Ry.xM,this.QG),this.oa.wn(eh.ly,this.xgi)},n.KBt=function(){this.oa.Jc&&(this.oa.Jc.mn("Jnt",this.Agi),this.oa.Jc.mn("Znt",this.Sgi),this.oa.Jc.mn("_4t",this.Bci),this.oa.Jc.mn("Z4t",this.Tgi)),this.oa.mn(eh.Nw,this.kgi),this.oa.mn(qm.ma,this.u8),this.oa.mn(eh.jw,this.Egi),this.oa.mn(eh.uo,this.dci),this.oa.mn(Ry.PM,this.YG),this.oa.mn(eh.Jw,this.iK),this.oa.mn(eh.Zw,this.ZG),this.oa.mn(Ry.xM,this.QG),this.oa.mn(eh.ly,this.xgi)},n.kn=function(){m(this.Pgi),this.KBt()},Nt(i,[{key:"ct",get:function(){return this.oa.Nd()*B6}},{key:"lgi",get:function(){return this.fgi}},{key:"vgi",get:function(){return this._gi},set:function(t){this._gi=t,t&&this.ugi.reportPlayerState(t)}},{key:"ggi",set:function(t){this.pgi=t}}]),i}(dg);O6.bgi=2e3,Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).Bgi=void 0,r.Mgi=void 0,r.Lgi=function(){r.Mgi=void 0,r.Ngi();var i=t.prototype.nu.call(LW(r));i&&(r.Mgi=function(t,i){var n=function(t,i){if(t&&t.analytics)for(var n,r=Lt(t.analytics);!(n=r()).done;){var e=n.value;if("smartsight"===e.integration)return e}if(i&&i.analytics)for(var s,u=Lt(i.analytics);!(s=u()).done;){var o=s.value;if("smartsight"===o.integration)return o}return}(t,i);if(!n)return;return n}(i,r.Cd)),r.Ogi()},r.Ogi=function(){if(!r.Bgi&&r.Mgi&&r.bt&&r.bt.src&&!r.lP){var t=MMSmartStreaming.getInstance();!function(t,i,n){t.registerMMSmartStreaming(n.playerName,n.customerID,n.subscriberID,n.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","10.3.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",i,n.metaURL,n.assetID)}(t,r.bt.src,r.Mgi),r.Bgi=new O6(r,r.Mgi,t),r.Bgi.wn("ended",r.Ngi)}},r.Ngi=function(){r.Bgi&&(r.Bgi.kn(),r.Bgi=void 0)},r.wn(eh.do,r.Lgi),r.wn(eh.Pw,r.Ogi),r.wn(eh.uo,r.Ogi),r}return Ct(i,t),i.prototype.kn=function(){t.prototype.kn.call(this),this.Ngi()},i}(t)},Vb.Snt),U(),Et(),U(),Et(),xt(),Pt(),Ft();var M6=String.fromCharCode(95);var L6=function(){function t(i,n,r,e){var s=this;this.hu=void 0,this.aS=void 0,this.Uri=void 0,this.Fgi=void 0,this.A2t=void 0,this.Vgi=void 0,this.Ugi=void 0,this.Zf=void 0,this.qgi=function(i){s.Ggi({type:t.Xgi(i.type)})},this.aS=i,this.Uri=n,this.Fgi=r,this.A2t=e,this.Vgi=[],this.Zf=[]}var i=t.prototype;return i.Wgi=function(){for(var t in google.ima.AdEvent.Type){var i=google.ima.AdEvent.Type[t];this.Uri.addEventListener(i,this.qgi),this.Vgi.push({type:i,listener:this.qgi})}},i.zgi=function(){for(var t in Yn(this.Vgi),google.ima.AdEvent.Type){var i=google.ima.AdEvent.Type[t];this.Uri.removeEventListener(i,this.qgi)}},i.Ggi=function(t){this.Zf.push({type:t.type,adVolume:this.adsManager.getVolume()})},i.Hgi=function(){null==this.Ugi||this.Ugi.call(this,this.Zf),this.Zf=[]},t.Xgi=function(i){return t.jgi[i]||i},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(i){t.sendEvent=i}}}(this)),this.hu}},{key:"id",get:function(){return this.aS}},{key:"adsManager",get:function(){return this.Uri}},{key:"ids",get:function(){return this.Fgi}},{key:"adContainer",get:function(){return this.A2t}},{key:"sendEvent",get:function(){return this.Ugi},set:function(t){for(var i,n=Lt(this.Vgi);!(i=n()).done;){var r=i.value;this.Uri.removeEventListener(r.type,r.listener)}this.Vgi=[],this.Ugi=t,this.Hgi()}},{key:"imaSDK",get:function(){return!0}}]),t}();L6.jgi={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var F6=function(){function t(){this.Kgi=void 0,this.Ygi=void 0}var i=t.prototype;return i.Qgi=function(t,i){this.Kgi=v.createElement("script"),this.Kgi.id=t.id,this.Kgi.type="text/javascript",t.adContainer.appendChild(this.Kgi),this.Kgi.src="https://z.moatads.com/"+i+"/moatvideo.js#"+t.id,this.Ygi=t.id,f[this.Ygi]=t.Ca},i.Jgi=function(){this.Kgi&&Zi(this.Kgi),this.Ygi&&(f[this.Ygi]=void 0)},t}();Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).opi=void 0,r.epi=void 0,r.hpi=void 0,r.$gi=void 0,r.A2t=void 0,r.ipi=function(){r.rpi(r.$gi,{partnerCode:r.epi.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.A2t)},r.rii=function(t){r.$gi=t.Fri,r.A2t=t.Wii,r.Zgi(),r.$gi.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.tpi),r.$gi.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.Zgi),r.$gi.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.ipi)},r.tpi=function(t){var i=t.getAd().getAdPodInfo();i.getAdPosition()<i.getTotalAds()&&(r.Zgi(),r.ipi())},r.Zgi=function(){r.hpi&&(r.hpi.zgi(),r.hpi=void 0),r.opi.Jgi()},r.opi=new F6,r}Ct(i,t);var n=i.prototype;return n.Ta=function(n){var r,e,s;this.Zgi(),null==(r=this.$gi)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.tpi),null==(e=this.$gi)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Zgi),null==(s=this.$gi)||s.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.ipi),this.$gi=void 0,this.A2t=void 0,t.prototype.Ta.call(this,n);var u=n&&n.analytics;this.epi=i.spi(u),this.Jc&&this.epi&&O1()&&this.npi()},n.kn=function(){var i,n,r;this.Zgi(),null==(i=this.$gi)||i.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.tpi),null==(n=this.$gi)||n.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Zgi),null==(r=this.$gi)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.ipi),this.$gi=void 0,this.A2t=void 0,this.Jc&&this.Jc.mn("nii",this.rii),t.prototype.kn.call(this)},n.npi=function(){this.Jc&&this.Jc.wn("nii",this.rii)},n.rpi=function(t,i,n){var r=M6+"moatApi"+b.floor(1e8*b.random());this.hpi=new L6(r,t,i,n),this.hpi.Wgi(),this.opi.Qgi(this.hpi,this.epi.partnerCode)},i.spi=function(t){if(t){var i=t.filter(function(t){return"moat"===t.integration});if(0===i.length)return;if(i.length>1)throw new y("Only one Moat analytics configuration expected");return i[0]}},i}(t)},Vb.Snt),U(),Et(),U(),Et(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Ft(),Qt();var U6="urn:google:dai:2018",V6=function(){function t(t,i,n,r,e){var s=this;this.oa=void 0,this.upi=void 0,this.Hai=void 0,this.fpi=void 0,this._pi=void 0,this.Lui=void 0,this.nq=void 0,this.rq=void 0,this.T9=new hr,this.ypi=!1,this.cpi=!0,this.mpi=function(t){var i=t.Ht;i.Lt===Jm.zU&&(i.Km===Ng.ID3||i.Km===Ng.EVENT_STREAM&&i.eC===U6)&&(i.Qk=zm.iC,s.Lui=i,i.wn(Nw.uI,s.bpi))},this.bpi=function(t){t.PO.wn(Ug.QL,s.Api)},this.Api=function(t){var i,n;if(s.Hai)if((null==(i=s.Lui)?void 0:i.Km)===Ng.ID3){var r=t.PO.U;"TXXX"===r.id&&s.Hai.sui({TXXX:r.text})}else if((null==(n=s.Lui)?void 0:n.Km)===Ng.EVENT_STREAM){var e=t.PO.U;s.Hai.nui(U6,e,t.YF)}},this.oa=t,this.Hai=i,this.fpi=n,this.upi=r,this._pi=e,n&&i&&this.oa.Jc&&this.oa.Jc.znt(n.oti)}var i=t.prototype;return i.Xx=function(t){this.T9.Zg(),this.T9=new hr,kr(_r(this.Xri(t,this.T9.Yg),this.T9))},i.Xri=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return dr(i),this.fpi&&this.Hai?this.fpi.Fnt&&!this._pi?[2]:(n=this.oa.Gx(),this.cpi&&(r=this.Hai.hui(t,n))?(this.oa.vpi(r),[4,this.Hai.ww(S4.AD_BREAK_ENDED,i)]):[3,2]):[2,this.oa.vpi(t)];case 1:if(e.sent(),this.Hai.rui(t).RO>t)return[2];e.label=2;case 2:return this.oa.vpi(t),[2]}})}).call(this)},i.EP=function(){var t=this.fpi&&this.fpi.Fnt;if(t){var i=EA.jn(this.oa.gpi()),n=t.qOt,r=n+t.G0t,e=new EA([n,r]);return i.Mn(e)._s()}return this.oa.gpi()},i.drt=function(t,i){return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:if(!t)return[2,this.oa.ppi(t,i)];n=t,s.label=1;case 1:return s.trys.push([1,3,,4]),this.oa.nt.wn(Iw.rI,this.mpi),[4,this.upi.wpi(t,i)];case 2:return n=s.sent(),this.fpi&&this.Hai&&(this.ypi=!0),[3,4];case 3:if(lr(r=s.sent()),r.code===og.LICENSE_INVALID)return[2];throw e=new ld(vd.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",r),this.nq=cg(e),this.rq=e,this.oa.So(new yb(e)),e;case 4:return[4,this.oa.ppi(n,i)];case 5:return s.sent(),[2]}})}).call(this)},i.hr=function(){if(this.ypi){if(this.oa.nt.mn(Iw.rI,this.mpi),this.Lui){this.Lui.mn(Nw.uI,this.bpi);for(var t,i=Lt(this.Lui.L.NI);!(t=i()).done;){t.value.mn(Ug.QL,this.Api)}this.Lui=void 0}this.nq=void 0,this.rq=void 0,this.T9.Zg(),this.fpi&&this.fpi.hr(),this.Hai&&this.Hai.hr(),this.ypi=!1}},i.kn=function(){this.hr(),this.oa.kpi(),this.Hai&&this.Hai.kn()},Nt(t,[{key:"Ca",get:function(){var t=this,i=this.upi;return{contentTimeForStreamTime:function(i){return t.Hai?t.Hai.Wai(i):i},streamTimeForContentTime:function(i){return t.Hai?t.Hai.qai(i):i},replaceAdTagParameters:function(i){t.Hai&&t.Hai.replaceAdTagParameters(i)},get snapback(){return t.cpi},set snapback(i){t.cpi=i},get sourceTransformer(){return i.lpi},set sourceTransformer(t){i.lpi=t}}}},{key:"lt",get:function(){return this.nq||this.oa.Spi()}},{key:"Jx",get:function(){return this.rq||this.oa.Tpi()}}]),t}();U(),Et(),xt(),Pt(),Ft(),U(),Et(),xt(),Pt();var H6=function(t){function i(i,n,r,e){var s;return void 0===e&&(e=!0),(s=t.call(this,r)||this).xpi=void 0,s.xpi=e,s.k4t=i,s.E4t=n,s}return Ct(i,t),Nt(i,[{key:"Epi",get:function(){return this.xpi}},{key:"u$t",get:function(){return x$.so}}]),i}(E0),W6=function(t){function i(i,n){var r;return(r=t.call(this,new xI,x$.so)||this).Hai=void 0,r.oa=void 0,r.Xai=void 0,r.Qai=void 0,r.Ipi=void 0,r.iui=void 0,r.Hai=i,r.oa=n,r.Xai=function(t){var i=r.w1t;if(i&&r.u1t){var n=t.Vai.aui;r.u1t.W7t=n.zx,function(t,i){var n=i.I9t,r=i.P9t,e=i.zx,s=Dn(t.Jc.slice(0,n-1),function(t){var i;return null!=(i=t.ct)?i:0});t.X0t=r-e-s}(i,n)}},r.Qai=function(t){var i=t.Vai.uui;if(i)for(var n,e=Lt(i);!(n=e()).done;){var s=n.value;if(!r.Bpi(s.CO)){var u=s.RO-s.CO,o=new H6(u,u,s.CO,!0);r.y1t.push(o)}}},r.Ipi=function(t){r.Rpi(t.type),r.Npi(t)},r.iui=function(t){r.uti=!1,r.u1t=void 0;var i=r.Fnt;i&&(i.X0t=0,r.Dpi(t.type,!1,!1),r.w1t=void 0)},r.Ppi(),r}Ct(i,t);var n=i.prototype;return n.Ppi=function(){var t=[S4.STARTED,S4.FIRST_QUARTILE,S4.MIDPOINT,S4.THIRD_QUARTILE,S4.COMPLETE];this.Hai.wn(t,this.Ipi),this.Hai.wn(S4.AD_BREAK_ENDED,this.iui),this.Hai.wn(S4.AD_PROGRESS,this.Xai),this.Hai.wn(S4.CUEPOINTS_CHANGED,this.Qai)},n.Cpi=function(t){var i=t.v7t.qOt,n=this.w1t||this.findAdBreakWithPredicate(i,function(t){return!t.pP});if(!n){var r=t.v7t.G0t;i=this.oa.Gx(),(n=new H6(r,r,i,!1)).P4t(),this.y1t.push(n)}return n},n.Rpi=function(t){switch(t){case S4.STARTED:this.uti=!0;break;case S4.AD_BREAK_ENDED:this.uti=!1}},n.Dpi=function(t,i,n){if(i)switch(t){case S4.STARTED:case S4.FIRST_QUARTILE:case S4.MIDPOINT:case S4.THIRD_QUARTILE:case S4.COMPLETE:this.u4t.So(new GB(this.w1t))}if(n)switch(t){case S4.STARTED:case S4.FIRST_QUARTILE:case S4.MIDPOINT:case S4.THIRD_QUARTILE:case S4.COMPLETE:this.u4t.So(new QB(this.u1t,this.u1t.W7t))}switch(t){case S4.COMPLETE:this.u4t.So(new KB(this.u1t,this.hti.W7t));break;case S4.AD_BREAK_ENDED:this.u4t.So(new XB(this.Fnt))}switch(t){case S4.FIRST_QUARTILE:this.u4t.So(new W0(this.u1t,this.hti.W7t));break;case S4.MIDPOINT:this.u4t.So(new X0(this.u1t,this.hti.W7t));break;case S4.THIRD_QUARTILE:this.u4t.So(new G0(this.u1t,this.hti.W7t))}},n.Npi=function(t){var i=t.jnt,n=this.Cpi(i),r=function(t,i){if(t.Jc.length)return!1;for(var n=0;n<i;n++){var r=new _1(t,R0.BZt);t.C4t(r)}return!0}(n,i.v7t.C9t),e=function(t,i){var n=i.v7t.I9t-1;return t.Jc[n]}(n,i),s=function(t,i){return t.U4t!==C0.READY&&(t.K7t(i),!0)}(e,i);this.u1t=e,this.w1t=n,n.P4t(),this.Dpi(t.type,r,s)},n.Bpi=function(t){for(var i,n=Lt(this.y1t);!(i=n()).done;){var r=i.value;if(En(t,r.qOt))return r}},n.findAdBreakWithPredicate=function(t,i){for(var n,r=Lt(this.y1t);!(n=r()).done;){var e=n.value;if(En(e.qOt,t)&&i(e))return e}},n.Lpi=function(t,i){for(var n,r,e=Lt(this.y1t);!(r=e()).done;){var s=r.value;s.qOt>=t&&s.qOt<=i&&!s.pP&&(!n||s.qOt>=n.qOt)&&(n=s)}return n},n.uD=function(){},n.qnt=function(t){},n.hr=function(){this.u1t&&(this.u4t.So(new KB(this.u1t,this.u1t.W7t)),this.u1t=void 0),this.w1t&&(this.u4t.So(new XB(this.w1t)),this.w1t=void 0),this.uti=!1,Yn(this.y1t)},n.kn=function(){this.hr(),this.u4t.kn()},n.Hnt=function(t){},Nt(i,[{key:"w4t",get:function(){return this.uti}},{key:"u4t",get:function(){return this.R5t}},{key:"Mpi",get:function(){var t=this.findAdBreakWithPredicate(0,function(t){return t.Epi}),i=0;return t&&(i=t.G0t),i}}]),i}(b1);U(),Et(),Wt(),Ft(),Qt();var z6=function(){function t(t){this.Hai=void 0,this.lpi=void 0,this.Hai=t,this.lpi=function(t){return t}}var i=t.prototype;return i.wpi=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:for(n=[],r=[],e=Lt(t.sources);!(s=e()).done;)if(jA(u=s.value)){if(!this.Hai)continue;n.push(u)}else r.push(u);if(0===n.length)return[2,t];v.label=1;case 1:return void 0!==o||0===n.length?[3,7]:[4,jT.Bg.gz(n,t)];case 2:a=v.sent().Mc,c=a,dr(i),v.label=3;case 3:return v.trys.push([3,5,,6]),[4,this.Opi(c,i)];case 4:return o=v.sent(),r.push(o),[3,6];case 5:return lr(f=v.sent()),h=f,Xn(n,c),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===r.length)throw new y("Fatal: unable to play DAI streams.");return h&&We(h.message),[2,Yu({},t,{sources:r})]}})}).call(this)},i.Opi=function(t,i){return Vt(function(){var n,r,e,s,u,o;return zt(this,function(h){switch(h.label){case 0:if(!this.Hai)throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return n=this.Hai.ww(S4.LOADED,i),r=this.Hai.ww(S4.ERROR,i),e=t.type===cA.vC?"dash":"hls",this.Hai.KHt(Yu({},t.ssai,{format:e})),[4,ut.race([n,r])];case 1:return(s=h.sent()).type!==S4.LOADED?[3,5]:(u=t.type===cA.vC?cA.vC:cA.gC,this.lpi?[4,this.lpi(s.Vai.Yu||"")]:[3,3]);case 2:return o=h.sent(),[3,4];case 3:o=s.Vai.Yu,h.label=4;case 4:return[2,lA(Yu({},t,{src:o,type:u}))];case 5:throw y(s.Vai.cui);case 6:return[2]}})}).call(this)},t}();Wb(function(t){return function(i){return function(i){function n(n,r){var e;(e=i.call(this,n,r)||this).Fpi=void 0,e.Upi=!1,e.T2t=void 0,e.Hpi=void 0,e.Vpi=function(t){13===t.which&&e.T2t.click(),e.jP()};var s,u,o,h=e.zP(),a=r.ads.googleIma.useAdUiElementForSsai,c=null!=(s=r.ads.googleIma.allowSeekingForGoogleDai)&&s;try{var f;a?(e.Hpi=v.createElement("div"),an(e.Hpi),e.Hpi.className="theo-dai-ad-ui"):(e.T2t=v.createElement("button"),e.T2t.className="theo-dai-clickthrough"),u=t(h,e.T2t,e.Hpi),o=new W6(u,e);var d=null!=(f=e.T2t)?f:e.Hpi;d&&e.xe.appendChild(d),e.Upi=!0}catch(t){e.T2t=void 0,e.Hpi=void 0}var l=new z6(u);return e.Fpi=new V6(e,u,o,l,c),e.T2t&&(e.T2t.addEventListener("keydown",e.Vpi),e.T2t.addEventListener("click",e.Vpi)),e}Ct(n,i);var r=n.prototype;return r.xa=function(){var t=i.prototype.xa.call(this),n=t.ads;if(n){var r=this.Fpi.Ca;Mw(n,{get dai(){return r}})}return t},r.vpi=function(t){i.prototype.Xx.call(this,t)},r.Xx=function(t,i){this.Fpi.Xx(t)},r.gpi=function(){return i.prototype.EP.call(this)},r.EP=function(){return this.Fpi.EP()},r.Ta=function(t){return this.Fpi.hr(),i.prototype.Ta.call(this,t)},r.ppi=function(t,n){var r=this;return Vt(function(){return zt(this,function(e){return[2,i.prototype.drt.call(r,t,n)]})})()},r.drt=function(t,i){return Vt(function(){return zt(this,function(n){return[2,this.Fpi.drt(t,i)]})}).call(this)},r.Spi=function(){return i.prototype.Yx.call(this)},r.Tpi=function(){return i.prototype.Zx.call(this)},r.Yx=function(){return this.Fpi.lt},r.Zx=function(){return this.Fpi.Jx},r.kpi=function(){i.prototype.kn.call(this)},r.kn=function(){this.Fpi.kn(),this.T2t&&(Zi(this.T2t),this.T2t.removeEventListener("keydown",this.Vpi),this.T2t.removeEventListener("click",this.Vpi),this.T2t=void 0),this.Hpi&&(Zi(this.Hpi),this.Hpi=void 0)},Nt(n,[{key:"Kl",get:function(){return this.Upi}}]),n}(i)}}(function(t,i,n){if(!(f.google&&f.google.ima&&Wi(f.google.ima.dai)))throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=X4(),e=new google.ima.dai.api.StreamManager(t,n),s=X4();return new U4(e,i,s&&s!==r?s:void 0)}),Vb.Ant),U(),Et(),U(),Et(),Pt(),Ft(),U(),Et(),xt();var X6=function(){function t(t,i){var n=this;this.oa=void 0,this.jpi=void 0,this.Gpi=void 0,this.nmi=void 0,this.Zpi=void 0,this.rmi=void 0,this.tmi=void 0,this.fmi=void 0,this.emi=void 0,this.ami=void 0,this.qpi=void 0,this.dci=void 0,this.kgi=void 0,this.Cci=void 0,this.Qpi=void 0,this.Kpi=void 0,this.u8=void 0,this.Ypi=void 0,this.EBt=void 0,this.umi=void 0,this.oa=t,this.jpi=i,this.nmi=!1,this.Zpi=!1,this.rmi=[],this.tmi=-1/0,this.emi=!1,this.dci=function(){n.nmi||(n.jpi.vmi(),n.emi&&n.jpi.omi(),n.nmi=!0)},this.kgi=function(){n.jpi._mi(),n.Zpi=!0},this.Cci=function(){n.tmi<n.oa.Gx()&&(n.tmi=n.oa.Gx()),n.dmi()},this.Qpi=function(){n.nmi&&(n.fmi=performance.now(),n.jpi.gmi(n.oa.Gx()))},this.Kpi=function(){n.fmi&&(n.jpi.pmi((performance.now()-n.fmi)/1e3),n.fmi=void 0)},this.u8=function(){n.tmi<n.oa.Gx()&&(n.tmi=n.oa.Gx()),n.jpi.xrt(n.oa.Yx().message)},this.Ypi=function(){var t=n.oa.Nd()===1/0;t&&!n.emi&&(n.emi=t,n.hmi())},this.EBt=function(){n.jpi.$pi(n.tmi),n.jpi.mmi()},this.umi=function(){void 0!==n.qpi&&n.jpi.wmi(n.Wpi)}}var i=t.prototype;return i.zpi=function(t){this.Gpi=t,this.jpi.Xpi(t),this.oa.wn(eh.uo,this.dci),this.oa.wn(eh.Nw,this.kgi),this.oa.wn(eh.py,this.Cci),this.oa.wn(qm.ma,this.u8),this.oa.wn(Ry.xM,this.Qpi),this.oa.wn([Ry.SM,Ry.TM,Ry.PM],this.Kpi),this.oa.wn(eh.Cw,this.Ypi),f.addEventListener("beforeunload",this.EBt)},i.Jpi=function(){this.oa.mn(eh.uo,this.dci),this.oa.mn(eh.Nw,this.kgi),this.oa.mn(eh.py,this.Cci),this.oa.mn(qm.ma,this.u8),this.oa.mn(Ry.xM,this.Qpi),this.oa.mn([Ry.SM,Ry.TM,Ry.PM],this.Kpi),this.oa.mn(eh.Cw,this.Ypi),f.removeEventListener("beforeunload",this.EBt),this.Zpi||(this.jpi.$pi(this.tmi),this.jpi.imi()),this.emi&&this.smi(),this.Gpi=void 0,this.nmi=!1,this.Zpi=!1,this.tmi=-1/0,Yn(this.rmi)},i.hmi=function(){this.nmi&&this.jpi.omi(),this.qpi=performance.now(),this.ami=_(this.umi,6e4)},i.smi=function(){this.jpi.cmi(this.Wpi),this.emi=!1,this.qpi=void 0,this.ami&&(m(this.ami),this.ami=void 0)},i.dmi=function(){if(!S(this.oa.Nd())){var t=10*function(t,i){return b.floor(t/i)}(this.oa.Gx()/this.oa.Nd()*100,10);jn(this.rmi,t)||(this.rmi.push(t),this.jpi.lmi(t))}},Nt(t,[{key:"Wpi",get:function(){return void 0===this.qpi?0:(performance.now()-this.qpi)/1e3}}]),t}();U(),Et();var q6=function(){function t(){}var i=t.prototype;return i.Xpi=function(t){this.ymi(["setDocumentTitle",t.itemTitle]),this.ymi(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.ymi(["trackPageView"])},i.vmi=function(){this.bmi("item first play","viewing","1")},i.imi=function(){this.bmi("item skipped","skipped","1")},i.lmi=function(t){this.bmi("item progress","percent",""+t)},i.mmi=function(){this.bmi("item abandoned","window closed","1")},i.$pi=function(t){this.bmi("item time","watched",""+t)},i._mi=function(){this.bmi("item finished","ended","1")},i.gmi=function(t){this.bmi("buffering started","timestamp",""+t)},i.pmi=function(t){this.bmi("buffering ended","duration",""+t)},i.xrt=function(t){this.bmi("error","message",""+t)},i.omi=function(){this.bmi("livestream first play","viewing","1")},i.wmi=function(t){this.bmi("livestream progress","duration",""+t)},i.cmi=function(t){this.bmi("livestream time","watched",""+t)},i.bmi=function(t,i,n){this.ymi(["trackEvent","Video",t,i,n])},i.ymi=function(t){var i="undefined"!=typeof _paq?_paq:void 0;i?i.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();U(),Et(),xt();var G6=function(){function t(t,i,n){var r=this;this.oa=void 0,this.qc=void 0,this.jpi=void 0,this.Smi=void 0,this.kmi=void 0,this.Agi=void 0,this.Sgi=void 0,this.Tgi=void 0,this.Bci=void 0,this.Cci=void 0,this.EBt=void 0,this.oa=t,this.qc=i,this.jpi=n,this.kmi=[],this.Agi=function(){r.Smi=r.oa.Nd(),r.jpi.Emi(r.Smi)},this.Sgi=function(){r.Smi&&(r.jpi.xmi(r.Smi),Yn(r.kmi),r.Smi=void 0)},this.Tgi=function(t){if(r.Smi){var i=r.Smi-r.Smi*t.Y4t;r.jpi.Pmi(i),r.Smi=void 0}},this.Bci=function(){r.Smi=r.oa.Nd(),r.jpi.Imi()},this.Cci=function(){var t=r.Ami;if(r.Tmi&&t&&!jn(r.kmi,t)){switch(t){case 1:r.jpi.Cmi();break;case 2:r.jpi.Rmi();break;case 3:r.jpi.Dmi();break;case 4:r.jpi.Nmi()}r.kmi.push(t)}},this.EBt=function(){r.jpi.Bmi()}}var i=t.prototype;return i.zpi=function(){this.qc.wn("Jnt",this.Agi),this.qc.wn("Znt",this.Sgi),this.qc.wn("Z4t",this.Tgi),this.qc.wn("_4t",this.Bci),this.oa.wn(eh.py,this.Cci),f.addEventListener("beforeunload",this.EBt)},i.Jpi=function(){this.qc.mn("Jnt",this.Agi),this.qc.mn("Znt",this.Sgi),this.qc.mn("Z4t",this.Tgi),this.qc.mn("_4t",this.Bci),this.oa.mn(eh.py,this.Cci),Yn(this.kmi),f.removeEventListener("beforeunload",this.EBt),this.Smi=void 0},Nt(t,[{key:"Ami",get:function(){if(this.Smi){var t=this.oa.Gx()/this.Smi;return b.floor(4*t)+1}}},{key:"Tmi",get:function(){return void 0!==this.Smi}}]),t}();U(),Et();var j6=function(){function t(t){this.jpi=void 0,this.jpi=t}var i=t.prototype;return i.Emi=function(t){this.jpi.bmi("ad start","duration",""+t)},i.xmi=function(t){this.jpi.bmi("ad finished","duration",""+t)},i.Pmi=function(t){this.jpi.bmi("ad skipped","remaining time",""+t)},i.Imi=function(){this.jpi.bmi("ad blocker","detected","1")},i.Cmi=function(){this.jpi.bmi("ad progress","firstQuartile","")},i.Rmi=function(){this.jpi.bmi("ad progress","secondQuartile","")},i.Dmi=function(){this.jpi.bmi("ad progress","thirdQuartile","")},i.Nmi=function(){this.jpi.bmi("ad progress","fourthQuartile","")},i.Bmi=function(){this.jpi.bmi("ad abandoned","window closed","1")},t}();function Q6(t){return t&&"streamone"===t.integration}Wb(function(t){return function(t){function i(i,n){var r;(r=t.call(this,i,n)||this).Lmi=void 0,r.Omi=void 0,r.Mmi=!1,r.fo=function(){r.Mmi&&(r.Lmi.Jpi(),r.Omi&&r.Omi.Jpi());var t=r.nu();if(r.Mmi=!1,t){var i=function(t){if(t.analytics)for(var i,n=Lt(t.analytics);!(i=n()).done;){var r=i.value;if(Q6(r))return r}}(t);i&&(r.Mmi=!0,r.Lmi.zpi(i),r.Omi&&r.Omi.zpi())}};var e=new q6;if(r.Lmi=new X6(r,e),r.Jc){var s=new j6(e);r.Omi=new G6(r,r.Jc,s)}return r.wn(eh.do,r.fo),r}return Ct(i,t),i.prototype.kn=function(){this.mn(eh.do,this.fo),this.Mmi&&(this.Lmi&&this.Lmi.Jpi(),this.Omi&&this.Omi.Jpi(),this.Mmi=!1),t.prototype.kn.call(this)},i}(t)},Vb.Snt),U(),Et(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),H(),Qt(),U(),Et(),xt(),Pt(),U(),Et(),Pt(),U(),Et(),Wt(),Pt(),Qt();var Y6=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).Vmi=void 0,r.Hmi=void 0,r.Vmi=n,r.Hmi=void 0,r}Ct(i,t);var n=i.prototype;return n.J2=function(i,n,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return[4,K6(i)];case 1:return s=u.sent(),[4,t.prototype.J2.call(e,s,n,r)];case 2:return u.sent(),this.Fmi(s,n),[2]}})}).call(this)},n.Q2=function(i,n,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return[4,K6(i)];case 1:return s=u.sent(),[4,t.prototype.Q2.call(e,s,n,r)];case 2:return u.sent(),this.Fmi(s,n),[2]}})}).call(this)},n.Fmi=function(t,i){var n=this.Vmi.Umi;if(void 0!==n){var r,e=i.u2;if(this.Hmi!==e&&(this.Hmi=e,n.setLevelSwitching(e),n.setContainerFormat(2)),function(t){return Oi.call(t,"Get")}(i)){var s=i.Get,u=i.Get+i.ct;r=i.EU,n.newPts(s,u,"video",e)}else 0;n.appendBuffer(t.lk,"video",e,r)}},n.pS=function(i,n,r){var e=this;return Vt(function(){var s;return zt(this,function(u){switch(u.label){case 0:return[4,t.prototype.pS.call(e,i,n,r)];case 1:return u.sent(),null==(s=this.Vmi.Umi)||s.flushBuffer(i,n),[2]}})}).call(this)},i}(AO);function K6(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:switch(t.Km){case zR.wZ:return[3,1];case zR.MT:return[3,2];case zR.yZ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Zd(t.lk)];case 3:return i=n.sent(),[2,{Km:zR.wZ,lk:new E(i)}];case 4:throw new y("Opaque initialization segments are not supported on web.");case 5:return[2]}})})()}var J6=function(t){function i(i,n){var r;return(r=t.call(this,i)||this).Vmi=void 0,r.Vmi=n,r.Brt(i),r}return Ct(i,t),i.prototype.Lrt=function(t){return t.V3===eg.Mk?new Y6(t,this.Vmi):new AO(t)},i}(kO),Z6=function(t){function i(i){var n;(n=t.call(this,i)||this).zmi=void 0,n.Wmi=void 0,n.Xmi=!1,n.jmi=function(t){n.Xmi||(t||n.Qq("LCEVC SDK failed to initialize."),n.qmi())},n.Qmi=function(){n.Xmi||n.Qq("LCEVC SDK failed to initialize.")},n.zmi=v.createElement("canvas"),an(n.zmi),n.zmi.style.display="none";var r,e=i.hq;return e.parentElement.insertBefore(n.zmi,null!=(r=e.nextSibling)?r:null),LCEVCdec.ready.then(n.jmi,n.Qmi),n}Ct(i,t);var n=i.prototype;return n.qmi=function(){this.Wmi=new LCEVCdec.LCEVCdec(this.hq,this.zmi,{})},n.be=function(){t.prototype.be.call(this),this.Gmi()},n.we=function(){t.prototype.we.call(this),this.zmi.style.display="none"},n.hr=function(){return this.zmi.style.display="none",void 0!==this.Wmi&&(this.Wmi.close(),this.qmi()),t.prototype.hr.call(this)},n.zg=function(){return this.Xmi=!0,void 0!==this.Wmi&&(this.Wmi.close(),this.Wmi=void 0),Zi(this.zmi),t.prototype.zg.call(this)},n.Qq=function(t){this.So(new xP(new hg(og.ABORTED,t)))},n.Gmi=function(){this.PL.hq.style.display="none",this.zmi.style.display="block"},n.cht=function(t){return new J6(t,this)},n.uht=function(t){return new EO(t)},Nt(i,[{key:"Umi",get:function(){return this.Wmi}}]),i}(IO(CO)),$6=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).Kmi=void 0,i}Ct(i,t);var n=i.prototype;return n.Yq=function(i){return i===eg.Mk?(this.Kmi=new Z6(t.prototype.Yq.call(this,i)),this.Kmi):t.prototype.Yq.call(this,i)},n.Dq=function(i){var n=this,r=function(){return t.prototype.Dq};return Vt(function(){var t;return zt(this,function(e){switch(e.label){case 0:return V(i,Z6)?(this.Kmi=void 0,[4,(t=i).zg()]):[3,3];case 1:return e.sent(),[4,r().call(n,t.Zrt)];case 2:return e.sent(),[3,5];case 3:return[4,r().call(n,i)];case 4:e.sent(),e.label=5;case 5:return[2]}})}).call(this)},Nt(i,[{key:"Ymi",get:function(){return this.Kmi}}]),i}(mO),t8=function(t){function i(i,n,r,e,s,u,o){var h,a=new $6(s),c=new xO(a),f=c.Yq(u);return(h=t.call(this,i,n,r,e,f,o)||this).Nq=void 0,h.iwi=void 0,h.Zmi=function(t){t.Ht.wn(Nw.II,h.Jmi)},h.$mi=function(t){t.Ht.mn(Nw.II,h.Jmi)},h.Jmi=function(t){var i,n=null==(i=h.iwi.Ymi)?void 0:i.Umi,r=t.qot.JI;null==n||n.setCurrentLevel(r)},h.Nq=c,h.iwi=a,h.sO.wn(Iw.rI,h.Zmi),h.sO.wn(Iw.oI,h.$mi),h}return Ct(i,t),i.prototype.kn=function(){var i=this;return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:for(n=Lt(this.sO.NI);!(r=n()).done;)r.value.mn(Nw.II,this.Jmi);return this.rt.mn(Iw.rI,this.Zmi),this.rt.mn(Iw.oI,this.$mi),[4,t.prototype.kn.call(i)];case 1:return e.sent(),[4,this.PL.zg()];case 2:return e.sent(),[4,this.Nq.Dq(this.PL)];case 3:return e.sent(),[2]}})}).call(this)},i}(OW),i8=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).tz=Ab.wW,i}Ct(i,t);var n=i.prototype;return n.DC=function(t,i,n,r,e,s,u){var o=i;return oz.US()&&(o=new oz(o)),new t8(n,r,e,s,o,eg.Mk,t)},n.Jq=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return i.lcevc?[4,t.prototype.Jq.call(n,i)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new ld(vd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}})})()},n.$q=function(){return!1},i}(lO);GT(new i8),U(),Et(),Wt(),Pt(),Ft(),Qt();var n8=function(t){function i(i,n,r,e,s){var u,o=new $6(i),h=new xO(o),a=h.Yq(eg.Mk);(u=t.call(this,a,n,r,e,s)||this).Nq=void 0,u.iwi=void 0,u.Zmi=function(t){t.Ht.wn(Nw.II,u.Jmi)},u.$mi=function(t){t.Ht.mn(Nw.II,u.Jmi)},u.Jmi=function(t){var i,n=null==(i=u.iwi.Ymi)?void 0:i.Umi,r=t.qot.fLt.JI;null==n||n.setCurrentLevel(r)},u.Nq=h,u.iwi=o;var c=u.rt;return c.wn(Iw.rI,u.Zmi),c.wn(Iw.oI,u.$mi),u}return Ct(i,t),i.prototype.kn=function(){var i=this;return Vt(function(){var n,r,e;return zt(this,function(s){switch(s.label){case 0:for(n=this.rt,r=Lt(n.NI);!(e=r()).done;)e.value.mn(Nw.II,this.Jmi);return n.mn(Iw.rI,this.Zmi),n.mn(Iw.oI,this.$mi),[4,t.prototype.kn.call(i)];case 1:return s.sent(),[4,this.Nq.Dq(this.PL)];case 2:return s.sent(),[2]}})}).call(this)},i}(hJ),r8=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).tz=Ab.TW,i}Ct(i,t);var n=i.prototype;return n.DC=function(t,i,n,r,e,s,u){return new n8(i,n,e,s,r)},n.Jq=function(i,n){if(!i.lcevc)return!1;if(!t.prototype.Jq.call(this,i,n))return!1;if(void 0===f.LCEVCdec)throw new ld(vd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0},n.$q=function(){return!1},i}(cJ);GT(new r8),U(),Et(),U(),Et(),xt(),Ft(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var e8=function(t){return t.ewi="hr",t.swi="nwi",t}({}),s8="freewheel-nonlinear-ad",u8=[eh.Cw,eh.py,eh.wy,eh.jw,Ry.PM,eh.uo],o8=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this,i,n)||this).hwi=void 0,u.nq=void 0,u.rq=void 0,u.vet=void 0,u.Nq=void 0,u.PL=void 0,u.awi=function(t){var i=t.jnt,n="Jnt"===t.type;if(i.V4t===R0.L4t){var r=u.oa.xe.classList;n?r.add(s8):r.remove(s8)}n?u.be():u.we()},u.owi=function(){u.D5t(),u.oa.jP(),u.oa.we()},u.Zni=function(){u.hwi.wwi&&(u.oa.Qx||u.oa.QP(),u.we(),u.oa.be(),u.I3t())},u.hwi=e,u.Nq=r,u.PL=s,u.vet=s.hq,u.vet.controls=!1,u.rwi(),u.cwi(),u.lwi(),u}Ct(i,t);var n=i.prototype;return n.GP=function(){this.Nq.Nz()},n.rwi=function(){this.hwi.wn("Ynt",this.owi),this.hwi.wn(["Jnt","Znt"],this.awi),this.hwi.wn("Knt",this.Zni)},n.uwi=function(){this.hwi.mn("Ynt",this.owi),this.hwi.mn(["Jnt","Znt"],this.awi),this.hwi.mn("Knt",this.Zni)},n.cwi=function(){this.u4t.au(this.hwi.dwi)},n.lwi=function(){this.hwi.fwi.wn(u8,this.Rs)},n.vwi=function(){this.hwi.fwi.mn(u8,this.Rs)},n.qnt=function(t){},n.Gx=function(){return this.hwi.fwi.zx},n.Xx=function(t,i){},n.Nd=function(){return this.hwi.fwi.ct},n.Kx=function(){return this.hwi.fwi.Qx},n.Yx=function(){return this.nq},n.Zx=function(){return this.rq},n.NP=function(){return 0},n.LP=function(){return 0},n.FP=function(){return this.hwi.fwi.OP},n.UP=function(t){this.hwi.fwi.OP=t},n.aP=function(){return this.hwi.fwi.oP},n.uP=function(t){this.hwi.fwi.oP=t},n.TP=function(){return this.hwi.fwi.AP},n.EP=function(){return this.hwi.fwi.kP},n.fP=function(){return this.hwi.fwi.lP},n.l4t=function(t){if(this.w4t||this.hwi.l4t(t),this.hwi._wi){if(t.type===eh.jw&&this.oa.Qx)return!0;if(t.type===eh.Nw)return this.hwi.pwi.gwi(),!0}return!1},n.we=function(){this.hwi.we()},n.jP=function(){this.lP||this.hwi.fwi.jP()},n.mwi=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:if(this.hwi.wwi)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.hwi.r8t()];case 2:return i.sent(),[3,4];case 3:return t=i.sent(),this.ywi(t,kZ.GENERAL),[3,4];case 4:return[2]}})}).call(this)},n.bwi=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.hwi.fwi.aoi?(this.hwi.fwi.QP(),[2,!1]):[3,1];case 1:if(!this.hwi.Awi)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.hwi.pwi.Swi()];case 3:return i.sent(),[3,5];case 4:return t=i.sent(),this.ywi(t,kZ.PLAYBACK),[3,5];case 5:return[2,!0]}})}).call(this)},n.ywi=function(t,i){t.name!==e8.ewi&&this.u4t.So(new A0(i,"Ads could not be loaded."))},n.QP=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return this.lP&&this.So(new fT(this.zx)),[4,this.mwi()];case 1:return i.sent(),this.kwi?[2]:[4,this.bwi()];case 2:return t=i.sent(),!this.kwi&&t&&this.Zni(),[2]}})}).call(this)},n.Cti=function(t,i,n){i===DB.Mnt&&this.hwi.Cti(t)},n.be=function(){this.hwi.be()},n.uD=function(){this.hwi.fwi.uD()},n.Hnt=function(t){},n.zP=function(){return this.vet},n.Ox=function(){return this.Nq.Fz.map(function(t){return t.hq})},n.S4t=function(t){},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.KP()];case 1:return t.sent(),this.hwi.kn(),[4,this.Nq.Dq(this.PL)];case 2:return t.sent(),this.uwi(),this.vwi(),this.u4t.LK(this.hwi.dwi),[2]}})}).call(this)},n.KP=function(){return Vt(function(){return zt(this,function(t){return this.hwi.hr(),this.w4t&&(this.oa.be(),this.I3t(),this.we()),[2]})}).call(this)},Nt(i,[{key:"o4t",get:function(){return this}},{key:"r4t",get:function(){return i.r4t}},{key:"Fnt",get:function(){var t;return null!=(t=this.hwi.dwi.Fnt)?t:null}},{key:"Lnt",get:function(){var t=this.hwi.dwi.hti;return t?[t]:[]}},{key:"Unt",get:function(){return this.hwi.dwi.Unt}},{key:"Vnt",get:function(){return this.hwi.dwi.Vnt}},{key:"kwi",get:function(){return Li(this.Yx())}}],[{key:"r4t",get:function(){return x$._1t}}]),i}(Z0);U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),xt(),Pt();var h8=function(t){function i(i,n,r,e){var s;return(s=t.call(this,r)||this).xwi=void 0,s.Iwi=void 0,s.H4t=void 0,s.xwi=e,s.Iwi=0,s.H4t=c8(e),s.k4t=i,s.E4t=n,s}return Ct(i,t),Nt(i,[{key:"Ewi",get:function(){return this.xwi}},{key:"Pwi",get:function(){return this.Jc[this.Iwi]}},{key:"Cwi",get:function(){return this.Iwi},set:function(t){this.Iwi=t}},{key:"V4t",get:function(){return this.H4t}},{key:"u$t",get:function(){return x$._1t}}]),i}(E0);U(),Et(),xt(),Pt();var a8=function(t){function i(i,n,r){var e;return(e=t.call(this,i,n)||this).Dwi=void 0,e.Dwi=r,e}return Ct(i,t),i.prototype.xa=function(){return D0(this)},Nt(i,[{key:"Rwi",get:function(){return this.Dwi},set:function(t){this.Dwi!==t&&(this.Dwi=t)}},{key:"Mi",get:function(){return this.od.Ewi.getHeight()}},{key:"Ti",get:function(){return this.od.Ewi.getWidth()}},{key:"KYt",get:function(){return this.Rwi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"u$t",get:function(){return x$._1t}}]),i}(P0);function c8(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?R0.L4t:R0.BZt}var f8=function(t){function i(n,r){var e;return(e=t.call(this)||this).Ls=void 0,e.pT=void 0,e.$wi=void 0,e.tyi=void 0,e.eyi=void 0,e.iyi=void 0,e.Uwi=void 0,e.Hwi=void 0,e.qwi=void 0,e.zwi=void 0,e.w1t=void 0,e.u1t=void 0,e.Bwi=void 0,e.Mwi=void 0,e.Xwi=void 0,e.jwi=void 0,e.Qwi=void 0,e.Kwi=void 0,e.lyi=void 0,e.Ywi=void 0,e.Ls=n,e.pT=r,e.$wi=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.tyi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.eyi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.iyi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.Uwi=[],e.Hwi=[],e.qwi=[],e.zwi=[],e.Xwi=function(t){var n=t.slot,r=e.ryi(n);r&&(i.oyi(n,r),e.w1t=r,r.P4t(),e.dyi(r),r.V4t===R0.BZt&&e.So(new GB(r)))},e.jwi=function(){var t=e.Fnt;t&&t.V4t===R0.BZt&&(e.So(new XB(t)),e.pT.src=""),e.w1t=void 0},e.Qwi=function(t){var i=e.nyi(t.adInstance);i&&(e.So(new QB(i,i.Rwi.getPlayheadTime())),e.u1t=i),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Ls.style.cursor="pointer",e.Ls.addEventListener("click",e.lyi))},e.Kwi=function(){e.Ls.style.cursor="",e.Ls.removeEventListener("click",e.lyi)},e.lyi=function(){e.hti&&e.hti.Rwi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.Ywi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.uyi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.P2t(),e.uyi()}},e}Ct(i,t);var n=i.prototype;return n.Nwi=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return this.Bwi=t,this.Mwi=i,this.Lwi(t),[4,i];case 1:return n.sent(),this.Owi(),[2]}})}).call(this)},n.Owi=function(){this.Gwi()},n.Lwi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xwi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.jwi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Qwi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Kwi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Ywi)},n.Jwi=function(){this.Bwi&&(this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xwi),this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.jwi),this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Qwi),this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Kwi),this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Ywi))},n.Gwi=function(){this.Uwi=this.Zwi(this.$wi),this.Hwi=this.Zwi(this.tyi).concat(this.Zwi(this.iyi)),this.qwi=this.Zwi(this.eyi),this.zwi=this.Uwi.concat(this.Hwi).concat(this.qwi)},n.Zwi=function(t){if(!this.Bwi)return[];var i=this.Bwi.getSlotsByTimePositionClass(t);return this.syi(i)},n.nyi=function(t){if(this.w1t){var i=t.getSlot().getAdInstances().indexOf(t);-1!==i&&(this.w1t.Cwi=i);var n=this.w1t.Pwi;return n&&(n.Rwi=t),n}},n.ryi=function(t){return Fn(this.zwi,function(i){return i.Ewi===t})},n.syi=function(t){return t.map(function(t){var n=t.getTotalDuration(),r=i.hyi(t);return new h8(n,n,r,t)})},n.P2t=function(){var t=this.hti;t&&this.So(new M0(t,this.ayi()))},n.uyi=function(){var t=this.hti;t&&(this.So(new KB(t,t.Rwi.getPlayheadTime())),this.u1t=void 0)},n.cyi=function(t){var i=this.Fnt;i&&(i.X0t=function(t,i,n){void 0===n&&(n=0);for(var r=0,e=t.Jc.length,s=i;s<e;s++){var u=t.Jc[s],o=u.ct;if(u){var h=o;s===i&&(h=Tn(o-n,0,o)),r+=h}}return r}(i,i.Cwi,t))},n.ayi=function(){var t=this.hti;if(!t)return 0;var i=t.Rwi;return i.getPlayheadTime()/i.getDuration()},n.dyi=function(t){Xn(this.zwi,t),Xn(this.Uwi,t),Xn(this.Hwi,t),Xn(this.qwi,t)},n.hr=function(){this.Jwi(),this.Uwi.length=0,this.Hwi.length=0,this.qwi.length=0,this.zwi.length=0,this.u1t=void 0,this.w1t=void 0,this.Bwi=void 0,this.Mwi=void 0},n.kn=function(){this.hr(),this.Vo()},i.oyi=function(t,i){for(var n,r=[],e=Lt(t.getAdInstances());!(n=e()).done;){var s=n.value,u=c8(s.getSlot()),o=new a8(i,u,s);o.O4t(s.getAdId(),s.getSlot().getWidth(),s.getSlot().getHeight(),s.getDuration(),[],0),i.C4t(o),r.push(o)}return r},i.hyi=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},Nt(i,[{key:"Fwi",get:function(){return this.Uwi}},{key:"Vwi",get:function(){return this.Hwi}},{key:"Wwi",get:function(){return this.qwi}},{key:"Fnt",get:function(){return this.w1t}},{key:"hti",get:function(){return this.u1t}},{key:"Unt",get:function(){var t=[];if(this.w1t){var i,n=this.w1t.Cwi;if(n>=0)(i=t).push.apply(i,[].concat(this.w1t.Jc.slice(n+1)))}for(var r,e=Lt(this.zwi);!(r=e()).done;){var s,u=r.value;(s=t).push.apply(s,[].concat(u.Jc))}return t}},{key:"Vnt",get:function(){return this.zwi}}]),i}(nh);U(),Et(),xt(),Pt(),Ft();var v8=function(t){function i(i,n,r,e){var s;return(s=t.call(this)||this).oa=void 0,s.sc=void 0,s.Pyt=void 0,s.A2t=void 0,s.H4=void 0,s.Spt=void 0,s.Cz=void 0,s.cA=void 0,s.Zb=void 0,s.Ayi=void 0,s.h5=void 0,s.o5=void 0,s.xz=void 0,s.Eyi=void 0,s.kyi=void 0,s._yi=void 0,s.pyi=void 0,s.xyi=void 0,s.vm=void 0,s.myi=void 0,s.wyi=void 0,s.yyi=void 0,s.Ed=void 0,s.gyi=void 0,s.oa=i,s.sc=n,s.Pyt=r,s.A2t=e,s.H4=EA.rL()._s(),s.Cz=!0,s.Zb=NaN,s.Ayi=!1,s.h5=!1,s.o5=Dy.zL,s.xz=0,s.kyi=0,s._yi=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var i=t.Rwi,n=i.getPlayheadTime(),r=i.getDuration();return n>=r||En(r,n)})(s.Pyt.hti)||(s.lP=!0,s.So(new cT(s.zx)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:s.lP=!1,s.So(new Ly(s.zx));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(s.Spt){var i=s.Spt.getAdVolume();0===i?s.Ayi=!0:s.cA=i,s.So(new _T(s.zx,s.OP))}}},s.pyi=function(){s.Qx=!1;var t=s.lP;if(s.lP=!1,t&&(s.So(new fT(s.zx)),s.So(new Ly(s.zx))),s.o5=Dy.XL,s.zx=0,s.Pyt.hti){var i=s.Pyt.hti.Rwi;s.Zb=i.getDuration(),s.So(new vT(s.Zb)),s.Eyi=_(function(){if(s.aoi){s.Pyt.cyi(s.zx);var t=i.getPlayheadTime();Sn(t,s.kyi,.001)||s.So(new bw(t,void 0)),s.kyi=t}else s.vm()},250),s.Spt&&s.Spt.setAdVolume(d8(s.oP,s.OP))}},s.xyi=function(){var t=s.Pyt.hti;t&&(t.V4t===R0.L4t?s.oa.jP():s.lP||s.jP())},s.vm=function(){m(s.Eyi),s.Eyi=void 0},s.myi=function(){s.vm(),s.Qx=!0},s.wyi=function(){s.Tyi("pause")},s.yyi=function(){s.Tyi("playing")},s.Ed=function(t){t.od.V4t===R0.BZt&&(s.lP=!1)},s.gyi=function(){s.Spt&&s.Spt.resize(s.sc.Eu,s.sc.Iu)},s.cA=i.OP,r.wn("Ynt",s.Ed),s.sc.wn(fI.yn,s.gyi),s.A2t.addEventListener("click",s.xyi),s}Ct(i,t);var n=i.prototype;return n.fyi=function(){this.Spt&&this.Spt.setAdVolume(d8(this.oP,this.OP))},n.vyi=function(t){this.Spt=t,this.Lwi(t)},n.Lwi=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this._yi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.gyi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.pyi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.myi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.wyi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.yyi)},n.byi=function(){var t=this.Spt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this._yi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.gyi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.pyi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.myi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.wyi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.yyi))},n.QP=function(){this.Pyt.Fnt&&(this.Pyt.Fnt.Ewi.resume(),this.lP=!1)},n.jP=function(){this.Pyt.Fnt&&(this.Pyt.Fnt.Ewi.pause(),this.lP=!0)},n.Tyi=function(t){var n=i.Syi(t);this.Spt&&n&&this.Spt.setVideoState(n)},n.uD=function(){var t=this.Pyt.hti;t&&t.Rwi.skip()},n.hr=function(){if(this.byi(),this.Spt){this.Tyi("stop"),this.Spt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t,i=Lt(this.Spt.getTemporalSlots());!(t=i()).done;){t.value.stop()}this.Spt.dispose(),this.Spt=void 0}this.Zb=NaN,this.Qx=!1,this.o5=Dy.zL,this.zx=0,this.kyi=0,this.lP=!0,void 0!==this.Eyi&&(m(this.Eyi),this.Eyi=void 0)},n.kn=function(){this.hr(),this.Vo(),this.Pyt.mn("Ynt",this.Ed),this.sc.mn(fI.yn,this.gyi),this.A2t.removeEventListener("click",this.xyi)},i.Syi=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},Nt(i,[{key:"zx",get:function(){var t=this.Pyt.hti;return t&&(this.zx=t.Rwi.getPlayheadTime()),this.xz},set:function(t){this.xz=t}},{key:"ct",get:function(){return this.Zb}},{key:"aoi",get:function(){return!!this.Pyt&&void 0!==this.Pyt.Fnt}},{key:"lP",get:function(){return this.Cz},set:function(t){this.Cz=t}},{key:"OP",get:function(){return this.cA},set:function(t){this.Spt&&this.Spt.setAdVolume(t),this.cA=t}},{key:"oP",get:function(){return this.Spt&&(this.Ayi=0===this.Spt.getAdVolume()),this.Ayi},set:function(t){this.Spt&&this.Spt.setAdVolume(d8(t,this.OP)),this.Ayi=t}},{key:"kP",get:function(){return this.H4}},{key:"Qx",get:function(){return this.h5},set:function(t){this.h5=t}},{key:"AP",get:function(){return this.o5}}]),i}(nh);function d8(t,i){return t?0:i}U(),Et(),Wt(),Ft(),Qt(),U(),Et(),xt(),Pt();var l8=function(t){function i(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return e8.swi}}]),i}(cr);U(),Et(),xt(),Pt();var w8=function(t){function i(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return Ct(i,t),Nt(i,[{key:"name",get:function(){return e8.ewi}}]),i}(cr),g8=0;function _8(){return"cue-"+ ++g8}var m8=function(){function t(t,i,n,r){var e=this;this.Spt=void 0,this.Cyi=void 0,this.Ryi=void 0,this.Spt=i,this.Ryi=function(t){e.Spt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.Ryi),t.success?e.Cyi.Qy(void 0):e.Cyi.Ky(new l8)},this.Pyi(t,n,r),i.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Ryi),this.Cyi=new Va}var i=t.prototype;return i.Pyi=function(t,i,n){t.setNetwork(i.networkId),t.setServer(i.adServerUrl);var r=this.Spt;if(r.setProfile(i.profile),i.assetId&&i.assetDuration&&r.setVideoAsset(i.assetId,i.assetDuration),i.siteSectionId&&r.setSiteSection(i.siteSectionId),r.registerVideoDisplayBase(n),i.cuePoints&&i.cuePoints.length)for(var e,s=Lt(i.cuePoints);!(e=s()).done;){var u=e.value;r.addTemporalSlot(_8(),u.adUnit,u.timeOffset)}var o=i.customData;if(Wi(o))for(var h,a=Lt(k.keys(o));!(h=a()).done;){var c=h.value,f=o[c];r.addKeyValue(c,f)}},i.Iyi=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Spt.submitRequest(),[4,this.Cyi.Yy];case 1:return t.sent(),[2]}})}).call(this)},i.hr=function(){this.Spt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Ryi),this.Cyi.Ky(new w8)},t}();U(),Et(),Wt(),Ft(),Qt(),U(),Et(),xt();var y8=function(){function t(t){var i=this;this.Bwi=void 0,this.Jg=void 0,this.jwi=void 0,this.i7t=void 0,this.Bwi=t,this.jwi=function(t){i.Dyi(),i.Jg.Qy(void 0)},this.i7t=function(t){i.Dyi(),i.Jg.Ky(new l8)},this.Jg=new Va,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.jwi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.i7t)}var i=t.prototype;return i.Dyi=function(){this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.jwi),this.Bwi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.jwi)},i.gWt=function(){this.Dyi(),this.Jg.Ky(new w8)},Nt(t,[{key:"Nyi",get:function(){return this.Jg.Yy}}]),t}(),p8=function(){function t(t,i){var n=this;this.oa=void 0,this.Myi=void 0,this.tMt=void 0,this.Lyi=void 0,this.Bwi=void 0,this.Oyi=void 0,this.oa=t,this.Myi=i,this.tMt=0,this.Oyi=function(){for(var t,i=n.oa.Gx(),r=Lt(n.Myi.Vwi);!(t=r()).done;){var e=t.value,s=new EA([n.tMt,i],[!0,!0]),u=e.Ewi.getTimePosition();if(s.Cr(u))switch(e.Ewi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:n.Byi([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.Ewi.play(),e.Ewi.setVisible(!0)}}n.tMt=i},t.wn(eh.py,this.Oyi)}var i=t.prototype;return i.lO=function(t){this.Bwi=t},i.Swi=function(){return this.Byi(this.Myi.Fwi)},i.gwi=function(){this.Byi(this.Myi.Wwi)},i.Byi=function(t){return Vt(function(){var i,n;return zt(this,function(r){switch(r.label){case 0:if(!this.Bwi)return[2];r.label=1;case 1:if(!(t.length>0))return[3,6];this.Lyi=new y8(this.Bwi),i=this.Lyi.Nyi,(n=this.Myi.Fnt)&&n.V4t===R0.L4t&&n.Ewi.stop(),t.shift().Ewi.play(),r.label=2;case 2:return r.trys.push([2,,4,5]),[4,i];case 3:return r.sent(),[3,5];case 4:return this.Lyi=void 0,[7];case 5:return[3,1];case 6:return[2]}})}).call(this)},i.hr=function(){this.Lyi&&(this.Lyi.gWt(),this.Lyi=void 0),this.tMt=0},i.kn=function(){this.oa.mn(eh.py,this.Oyi)},t}(),k8=0,b8=function(t){function i(n,r,e){var s;return(s=t.call(this)||this).oa=void 0,s.pT=void 0,s.Fyi=void 0,s.Uyi=void 0,s.qyi=void 0,s.A2t=void 0,s.K9t=void 0,s.Hyi=void 0,s.Vyi=void 0,s.c$t=void 0,s.Wyi=void 0,s.oa=n,s.pT=r,s.Wyi=!1,s.Uyi=i.createUniqueDisplayBaseId(),s.A2t=i.zyi(n.xe,r,s.Uyi),s.Fyi=new f.tv.freewheel.SDK.AdManager,s.qyi=new f8(s.A2t,s.pT),s.Vyi=new p8(s.oa,s.dwi),s.au(s.dwi),s.K9t=new v8(n,e,s.dwi,s.A2t),s}Ct(i,t);var n=i.prototype;return n.r8t=function(){return Vt(function(){var t,i,n,r;return zt(this,function(e){switch(e.label){case 0:if(!this.c$t)throw new y("Invalid state");t=this.Fyi,(i=t.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),n=new m8(t,i,this.c$t,this.Uyi),r=this.dwi.Nwi(i,n.Iyi()),this.Vyi.lO(i),this.fwi.vyi(i),this.Hyi=n,e.label=1;case 1:return e.trys.push([1,,3,4]),[4,r];case 2:return e.sent(),[3,4];case 3:return this.fwi.fyi(),this.Wyi=!0,[7];case 4:return[2]}})}).call(this)},n.l4t=function(t){this.fwi.Tyi(t.type)},n.be=function(){this.A2t.style.display="block",this.pT.style.display="block"},n.we=function(){this.A2t.style.display="none",this.pT.style.display="none"},n.Cti=function(t){this.c$t=t},n.hr=function(){this.Wyi=!1,this.c$t=void 0,this.dwi.hr(),this.Vyi.hr(),this.Hyi&&(this.Hyi.hr(),this.Hyi=void 0),this.fwi.hr(),this.pT.src=""},n.kn=function(){this.hr(),this.K9t.kn(),this.Vyi.kn(),this.dwi.kn(),this.A2t.remove(),Zi(this.A2t)},i.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++k8},i.zyi=function(t,i,n){var r=v.createElement("div");return r.id=n,r.className="theo-freewheel",i.classList.add("theo-freewheel-video"),r.appendChild(i),t.appendChild(r),r},Nt(i,[{key:"_wi",get:function(){return 0!==this.dwi.Wwi.length}},{key:"Awi",get:function(){return 0!==this.dwi.Fwi.length}},{key:"fwi",get:function(){return this.K9t}},{key:"dwi",get:function(){return this.qyi}},{key:"wwi",get:function(){return this.Wyi}},{key:"pwi",get:function(){return this.Vyi}}]),i}(xI);function A8(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function T8(t,i,n){if(void 0!==i&&S(i)||i<0||i===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return n}return qZ(i)}var S8=function(){function t(){}var i=t.prototype;return i.Qz=function(t){return t.integration===pS.FREEWHEEL},i.e4t=function(t,i,n){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new hB(t.Wu,t.Ql,n,1,[eg.Mk]);r.Est(t.xe);var e=r.Yq(eg.Mk),s=new b8(t,e.hq,t.Wu);return new o8(t,i,r,s,e)}},i.uj=function(t){var i=Lw(t);Vi(i.cuePoints)||(i.cuePoints=[]);for(var n,r=[],e=t.assetDuration||0,s=Lt(i.cuePoints);!(n=s()).done;){var u=n.value,o=T8(u.adUnit,u.timeOffset,e),h=A8(u.adUnit);!S(o)&&Xi(h)?(u.adUnit=h,u.timeOffset=o,r.push(u)):Ui.um("Invalid adUnit/timeOffset combination. Cue was removed.")}return i.cuePoints=r,i},i.W6=function(t,i,n,r){n.Cti(t,i,r)},Nt(t,[{key:"i4t",get:function(){return x$._1t}}]),t}();kS.Bg.Kz(new S8),U(),Et(),U(),Et(),U(),Et(),Pt(),U(),Et(),U(),Et();var E8,I8=self.theoplayerDeviceMetadata;function R8(t){return t.navigator&&t.navigator.userAgent||""}U(),Et(),U(),Et(),U(),Et(),U(),Et();var C8=((E8={})["Windows 10"]=/(Windows 10.0|Windows NT 10.0)/i,E8["Windows 8.1"]=/(Windows 8.1|Windows NT 6.3)/i,E8["Windows 8"]=/(Windows 8|Windows NT 6.2)/i,E8["Windows 7"]=/(Windows 7|Windows NT 6.1)/i,E8["Windows Vista"]=/Windows NT 6.0/i,E8["Windows Server 2003"]=/Windows NT 5.2/i,E8["Windows XP"]=/(Windows NT 5.1|Windows XP)/i,E8["Windows Phone"]=/Windows Phone/i,E8.Android=/Android/i,E8.Linux=/(Linux(?!.*Ubuntu)|X11)/,E8.Ubuntu=/Ubuntu/i,E8.iOS=/(iPhone|iPad|iPod)/i,E8["Mac OS X"]=/Mac OS X/i,E8["Mac OS"]=/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i,E8["Chrome OS"]=/CrOS/i,E8);function P8(t,i){var n=C8[i];return!!n&&Boolean(R8(t).match(n))}function D8(t){return P8(t,"Android")}function N8(t){return P8(t,"Windows Phone")}function x8(t){return P8(t,"iOS")&&!N8(t)}function B8(t){return P8(t,"Ubuntu")}var O8,M8,L8=/Windows (NT|Phone) ([0-9.]+)/i,F8=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,U8=((O8={})["Windows 10"]=L8,O8["Windows 8.1"]=L8,O8["Windows 8"]=L8,O8["Windows 7"]=L8,O8["Windows Vista"]=L8,O8["Windows Server 2003"]=L8,O8["Windows XP"]=L8,O8["Windows Phone"]=/Windows Phone ([0-9.]+)/i,O8.Android=/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i,O8.Linux=void 0,O8.Ubuntu=void 0,O8.iOS=/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i,O8["Mac OS X"]=F8,O8["Mac OS"]=F8,O8["Chrome OS"]=void 0,O8);function V8(t,i){var n=U8[i];return n?R8(t).match(n):null}function H8(t){return t.split(/[_.]/).map(function(t){return A(t,10)})}function W8(t){if(function(t){return Boolean(R8(t).match(/Windows/i))}(t)){if(function(t){return P8(t,"Windows 10")}(t))return"Windows 10";if(N8(t))return"Windows Phone";if(function(t){return P8(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return P8(t,"Windows 8")}(t))return"Windows 8";if(function(t){return P8(t,"Windows 7")}(t))return"Windows 7";if(function(t){return P8(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return P8(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return P8(t,"Windows XP")}(t))return"Windows XP"}else{if(D8(t))return"Android";if(x8(t))return"iOS";if(function(t){return P8(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return P8(t,"Mac OS")}(t))return"Mac OS";if(B8(t))return"Ubuntu";if(function(t){return P8(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return P8(t,"Linux")&&!B8(t)}(t))return"Linux"}}function z8(t,i){var n=function(t){var i=V8(t,"Windows 10");return i&&i.length>2?H8(i[2]):void 0}(t),r=function(t){var i=V8(t,"Mac OS X");return i&&i.length>2?H8(i[2]):void 0}(t),e=function(t){var i=V8(t,"Android");return i&&i.length>1?H8(i[1]):void 0}(t),s=function(t){var i=V8(t,"iOS");return i&&i.length>3?H8(i[3]):void 0}(t),u=function(t){var i=V8(t,"Chrome OS");return i&&i.length>0?H8(i[0]):void 0}(t);return n?n.length>i?n[i]:void 0:r?r.length>i?r[i]:void 0:e?e.length>i?e[i]:void 0:s?s.length>i?s[i]:void 0:u&&u.length>i?u[i]:void 0}function X8(t){var i=function(t){return z8(t,0)}(t),n=function(t){return z8(t,1)}(t),r=function(t){return z8(t,2)}(t);if(void 0!==i)return void 0===n?""+i:void 0===r?i+"."+n:i+"."+n+"."+r}var q8=((M8={}).Chrome=/Chrome/i,M8["Chrome Mobile"]=void 0,M8["Chrome iOS"]=/CriOS/i,M8.Chromium=/Chromium/i,M8.HeadlessChrome=/HeadlessChrome/i,M8.Firefox=/Firefox/i,M8.Seamonkey=/Seamonkey/i,M8["Firefox iOS"]=/FxiOS/i,M8.Safari=/Safari/i,M8.Edge=/Edge\/\d+/i,M8["Edge Chromium"]=/Edg\/\d+/i,M8.IE=/Trident/i,M8.Opera=/Opera|OPR/i,M8.Vivaldi=/Vivaldi/i,M8["Android Browser"]=void 0,M8);function G8(t,i){var n=q8[i];return!!n&&Boolean(R8(t).match(n))}function j8(t){return Boolean(R8(t).match(/Mobi/i))}function Q8(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||Y8(t)}function Y8(t){return G8(t,"Chrome iOS")}function K8(t){return G8(t,"Firefox")&&!Z8(t)}function J8(t){return G8(t,"Firefox Mobile")&&!Z8(t)&&j8(t)}function Z8(t){return G8(t,"Seamonkey")}function $8(t){return G8(t,"Firefox iOS")&&!Z8(t)}function t7(t){return G8(t,"Safari")&&!G8(t,"Chrome")&&!Bi.Wv}function i7(t){return Boolean(c7(t))}function n7(t){return G8(t,"Edge")}function r7(t){return G8(t,"Edge Chromium")}function e7(t){return G8(t,"IE")}function s7(t){return G8(t,"Vivaldi")}var u7,o7=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,h7=((u7={}).Chrome=o7,u7["Chrome Mobile"]=o7,u7["Chrome iOS"]=/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,u7.Chromium=o7,u7.HeadlessChrome=o7,u7.Firefox=/Firefox\/([0-9.]+)/i,u7["Firefox iOS"]=/FxiOS\/([0-9.]+)/i,u7.Safari=/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/,u7["Safari Mobile"]=void 0,u7.Edge=/Edge\/(\d+)/i,u7["Edge Chromium"]=/Edg\/(\d+)/i,u7["Edge Mobile"]=void 0,u7.IE=/(MSIE |Trident.*?rv:)(\d+)/i,u7.Opera=/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i,u7["Opera Mobile"]=void 0,u7.Vivaldi=/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i,u7["Android Browser"]=void 0,u7);function a7(t,i){var n=h7[i];return n?R8(t).match(n):null}function c7(t){return a7(t,"Opera")}function f7(t){var i=function(t){return a7(t,"Firefox")}(t);return i?T(i[1]):0}function v7(t){var i=function(t){return a7(t,"Firefox iOS")}(t);return i?T(i[1].split(".")[0]):0}function d7(t){var i=function(t){return a7(t,"Safari")}(t);return i?T(i[2].split(".")[0]):0}function l7(t){var i=function(t){return a7(t,"Edge")}(t);return i?T(i[1]):0}function w7(t){var i=function(t){return a7(t,"Edge Chromium")}(t);return i?T(i[1]):0}function g7(t){var i=function(t){return a7(t,"IE")}(t);return i?T(i[2]):0}function _7(t){var i=function(t){return a7(t,"Vivaldi")}(t);return i?T(i[1]):0}function m7(t){if(D8(t))return Q8(t)?"Chrome Mobile":K8(t)||J8(t)?"Firefox Mobile":n7(t)?"Edge Mobile":i7(t)?"Opera Mobile":"Android Browser";if(x8(t)){if(Q8(t)||Y8(t))return"Chrome iOS";if(K8(t)||$8(t))return"Firefox iOS";if(n7(t))return"Edge Mobile";if(t7(t)||function(t){return t7(t)&&j8(t)}(t))return"Safari Mobile";if(i7(t))return"Opera Mobile"}return function(t){return G8(t,"Chromium")}(t)?"Chromium":function(t){return G8(t,"HeadlessChrome")}(t)?"HeadlessChrome":Q8(t)?"Chrome":K8(t)?"Firefox":t7(t)?"Safari":n7(t)?"Edge":r7(t)?"Edge Chromium":e7(t)?"IE":i7(t)?"Opera":s7(t)?"Vivaldi":void 0}function y7(t){return s7(t)?_7(t):Y8(t)?Number(function(t){var i=h7["Chrome iOS"];return i&&i.exec(R8(t))||[]}(t)[1]):Q8(t)?Number(function(t){var i=h7.Chrome;return i&&i.exec(R8(t))||[]}(t)[1]):K8(t)||J8(t)?f7(t):$8(t)?v7(t):t7(t)?d7(t):n7(t)?l7(t):r7(t)?w7(t):e7(t)?g7(t):i7(t)?function(t){var i=c7(t);return i&&i[0].indexOf("Opera")>-1?T(i[5]):i?T(i[2].split(".")[0]):0}(t):void 0}var p7=function(t){return t.Gyi="pc",t.Xyi="console",t.jyi="settop",t.Qyi="mobile",t.Kyi="tablet",t.Yyi="smarttv",t.Jyi="searchbot",t}({});function k7(t){var i=R8(t);return i.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":i.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(i)?"tablet":/Mobi/.test(i)?"mobile":i.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":i.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(m7(t))}(t)?"pc":void 0}var b7=function(){function t(t,i){var n=this;this.empClient=void 0,this.agama=void 0,this.ibi=void 0,this.empClient=t,this.agama=i,this.ibi=function(){var t=Ui.Rx;switch(t){case"wifi":n.empClient.setDeviceMetadata(n.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":n.empClient.setDeviceMetadata(n.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var i=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(Ui.Cx);i&&n.empClient.setDeviceMetadata(n.agama.DeviceMetadata.DATA_CONNECTION_TYPE,i)}}}var i=t.prototype;return i.aj=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=Bd.zy("deviceId");if(t)return t;var i=FS();return Bd.Gy("deviceId",i),i}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"10.3.0"),this.Zyi(t),this.$yi(),this.tbi(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var i=t.connectionType;i?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,i):(this.ibi(),l.connection&&l.connection.addEventListener&&l.connection.addEventListener("change",this.ibi))},i.Zyi=function(t){this.ebi(t);var i=t.deviceManufacturer||I8&&I8.manufacturer;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,i);var n=t.deviceModel||I8&&I8.model;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,n)},i.ebi=function(t){var i=t.deviceType||function(){var t=k7(self);switch(t){case p7.Xyi:return"game-console";case p7.Yyi:return"tv";case p7.jyi:return"media-streamer";default:return t}}();i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,i)},i.$yi=function(){var t=m7(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var i=y7(self);void 0!==i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,i.toString())},i.tbi=function(t){var i=t.deviceOs||W8(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,i);var n=t.deviceOsVersion||X8(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,n.toString())},i.kn=function(){l.connection&&l.connection.removeEventListener&&l.connection.removeEventListener("change",this.ibi)},t}();var A7=function(t){function i(){var i;return(i=t.call(this)||this).rbi=void 0,i.WG=void 0,i.ko=!1,i.obi=!1,i.nbi=void 0,i.hbi=void 0,i.rbi=f.Agama,i}Ct(i,t);var n=i.prototype;return n.GP=function(t){this.nbi=t,this.rbi&&(this.WG=function(t,i){var n=function(t,i){switch(i){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(i,t.logLevel);i.setLogLevel(n);var r=new i.EMPClient(t.config);return function(t,i){return t.setExternalConfig(i.config),t}(r,t)}(t,this.rbi),this.WG&&(this.hbi=new b7(this.WG,this.rbi),this.ko=!0))},n.hj=function(){return this.rbi||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),Boolean(this.rbi)},n.nj=function(){return this.ko},n.OX=function(t,i){if(this.WG&&this.rbi)switch(t){case AS.oG:this.WG.setMeasurement(this.rbi.Measurement.BUFFER_LENGTH,i);break;case AS.aG:this.WG.setMeasurement(this.rbi.Measurement.BYTES_RECEIVED,i);break;case AS.cG:this.WG.setMeasurement(this.rbi.Measurement.SEGMENT_PROFILE_BITRATE,i);break;case AS.dG:this.WG.setMeasurement(this.rbi.Measurement.VIDEO_PROFILE_BITRATE,i);break;case AS.uG:this.WG.setMeasurement(this.rbi.Measurement.SEGMENT_READ_BITRATE,i);break;case AS.eG:this.WG.setMeasurement(this.rbi.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,i);break;case AS.sG:this.WG.setMeasurement(this.rbi.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,i);break;case AS.nG:this.WG.setMeasurement(this.rbi.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,i);break;case AS.rG:this.WG.setMeasurement(this.rbi.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,i);break;case AS.hG:this.WG.setMeasurement(this.rbi.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,i);break;case AS.fG:this.WG.setMeasurement(this.rbi.Measurement.PLAYBACK_POSITION,i);break;case AS.vG:this.WG.setMeasurement(this.rbi.Measurement.NUMBER_OF_FRAMES_DECODED,i);break;case AS.lG:this.WG.setMeasurement(this.rbi.Measurement.NUMBER_OF_FRAMES_DROPPED,i)}},n.mX=function(t,i){if(this.WG&&this.rbi)switch(t){case TS.wG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.ASSET_DURATION,i);break;case TS.mG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.MANIFEST_URI,i);break;case TS.yG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,i);break;case TS.SG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.SERVICE_NAME,i);break;case TS.bG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.CDN,i);break;case TS.AG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.CONTENT_TITLE,i);break;case TS.TG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.CONTENT_TYPE,i);break;case TS.kG:this.WG.setSessionMetadata(this.rbi.SessionMetadata.CONTENT_DESCRIPTION,i)}},n.aj=function(){this.hbi&&this.nbi&&this.hbi.aj(this.nbi)},n.rj=function(t,i){this.rbi&&this.WG&&(this.qX(),function(t,i,n,r){var e=US(t,n,r);i.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.rbi,this.WG,t,i),this.obi=!0)},n.kn=function(){this.hbi&&this.hbi.kn(),this.abi(SS.EG),this.WG=void 0},n.nX=function(t){this.ubi(t)},n.oX=function(t,i){this.WG&&this.WG.event(t.code,i)},n.qX=function(){this.WG&&this.obi&&(this.WG.exitSession(),this.obi=!1)},n.abi=function(t){if(this.WG&&this.rbi&&(this.qX(),t===SS.EG))this.WG.shutdown(this.rbi.ShutdownType.NORMAL_SHUTDOWN)},n.rX=function(t,i,n){this.ubi(t,i,n)},n.ubi=function(t,i,n){if(this.WG&&this.rbi)switch(t){case bS.PM:this.cbi(this.rbi.ViewState.PLAYING,i,n);break;case bS.$z:this.cbi(this.rbi.ViewState.FAILED,i,n);break;case bS.tG:this.cbi(this.rbi.ViewState.INITIAL_BUFFERING,i,n);break;case bS.Yz:this.cbi(this.rbi.ViewState.PAUSED,i,n);break;case bS.Jz:this.cbi(this.rbi.ViewState.SEEK,i,n);break;case bS.Zz:this.cbi(this.rbi.ViewState.STALLED,i,n);break;case bS.iG:this.cbi(this.rbi.ViewState.NO_ACCESS,i,n)}},n.cbi=function(t,i,n){if(this.WG)if(i){var r=function(t){return t||""}(n);this.WG.viewStateExtended(t,i.code,r)}else this.WG.viewStateChanged(t)},i}(RS);Wb(function(t){return function(i){return function(i){function n(n,r){var e;return(e=i.call(this,n,r)||this).WG=new t,e.sbi=void 0,e.sbi=new HS(e,e.WG,r),e}Ct(n,i);var r=n.prototype;return r.Xx=function(t,n){this.sbi&&this.sbi.$G(),i.prototype.Xx.call(this,t)},r.kn=function(){this.sbi&&this.sbi.kn(),i.prototype.kn.call(this)},n}(i)}}(A7),Vb.Snt),U(),Et(),U(),Et(),Pt(),U(),Et(),U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et();var T7=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});U(),Et();var S7=function(t){return t.VOD="vod",t.LIVE="live",t}({}),E7=function(){function t(t,i,n,r,e,s,u){var o=this;this.oa=void 0,this.pbi=void 0,this.ybi=void 0,this.fbi=void 0,this.dbi=void 0,this.Pbi=void 0,this.vbi=void 0,this.wbi=void 0,this.nq=void 0,this.rq=void 0,this.T9=void 0,this.bbi=void 0,this.zbi=void 0,this._bi=void 0,this.T2t=void 0,this.Abi=void 0,this.dci=void 0,this.Cci=void 0,this.kgi=void 0,this.Pd=void 0,this.Tbi=void 0,this.hci=void 0,this.kbi=void 0,this.Ebi=void 0,this.xbi=void 0,this.qbi=void 0,this.oa=t,this.pbi=i,this.ybi=n,this.fbi=r,this.dbi=e,this.Pbi=s,this.vbi=u,this.nq=void 0,this.rq=void 0,this.T9=new hr,this.bbi=new hr,this.zbi=void 0,this._bi=!1,this.T2t=void 0,this.Abi=function(t){var i=t.currentSource;if(i&&i.integrationData){var n=i.integrationData,r=n.preplayResponse,e=n.source;o.dbi.Gbi(r),r&&r.type===S7.VOD&&r.ads&&o.fbi.Cbi(r.ads),o.pbi.Xbi=i.integrationData,e.assetInfo&&kr(o.fetchAssetInfo(i))}},this.dci=function(){o._bi=!0},this.Cci=function(){o._bi&&o.Rbi(o.oa.Gx())},this.kgi=function(){o._bi&&(o.Rbi(1/0),o._bi=!1)},this.Pd=function(){kr(o.pbi.Tn())},this.Tbi=function(t){o.T9.Zg(),o.T9=new hr,kr(_r(o.Xri(t.od.RO,o.T9.Yg),o.T9))},this.hci=function(){1!==o.oa.vP&&(o.zbi=o.oa.vP,o.oa.vP=1)},this.kbi=function(){void 0!==o.zbi&&(o.oa.vP=o.zbi,o.zbi=void 0)},this.Ebi=function(t){t.od.wn("Sbi",o.Tbi),t.od.wn("Ynt",o.hci),t.od.wn("Knt",o.kbi)},this.xbi=function(t){t.od.mn("Sbi",o.Tbi),t.od.mn("Ynt",o.hci),t.od.mn("Knt",o.kbi)},this.qbi=function(){o.oa.jP()},this.oa.wn(eh.Pw,this.Abi),this.oa.wn(eh.uo,this.dci),this.oa.wn(eh.py,this.Cci),this.oa.wn(eh.Nw,this.kgi),this.oa.wn(Ry.kM,this.Pd),this.fbi.K0t.wn("Xnt",this.Ebi),this.fbi.K0t.wn("Gnt",this.xbi)}var i=t.prototype;return i.lbi=function(t){this.nq=cg(t),this.rq=t,this.oa.So(new yb(t))},i.Ta=function(t){this.fbi.resetSource(),this.vbi.jy(),this._bi=!1,this.oa.gbi(t)},i.drt=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return this.pbi.hr(),this._bi=!1,t&&function(t){return t.sources.some(function(t){return t.integration===FA.UPLYNK})}(t)?[3,2]:[4,this.oa.mbi(t,i)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),n=this,[4,this.ybi.wpi(t)];case 3:return n.wbi=e.sent(),[4,this.oa.mbi(this.wbi,i)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),this.lbi(new ld(vd.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}})}).call(this)},i.kn=function(){this.T9.Zg(),this.bbi.Zg(),this.oa.mn(eh.Pw,this.Abi),this.oa.mn(eh.uo,this.dci),this.oa.mn(eh.py,this.Cci),this.oa.mn(eh.Nw,this.kgi),this.oa.mn(Ry.kM,this.Pd);for(var t,i=Lt(this.fbi.K0t.ec);!(t=i()).done;){var n=t.value;n.mn("Sbi",this.Tbi),n.mn("Ynt",this.hci),n.mn("Knt",this.kbi)}this.fbi.K0t.mn("Xnt",this.Ebi),this.fbi.K0t.mn("Gnt",this.xbi),this.fbi.destroy(),this.T2t&&(this.T2t.zg(),this.T2t=void 0),this._bi=!1},i.fetchAssetInfo=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:if(!t||!t.integrationData)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pbi.KSt(t.integrationData.source.prefix,t.integrationData.source.id,this.bbi.Yg,t.integrationData.preplayResponse.sid)];case 2:return i=n.sent(),this.dbi.Ibi(i),this.vbi.Cbi(i,this.fbi.K0t.ec),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}})}).call(this)},i.Rbi=function(t){this.fbi.Dbi(t),this.fbi.Lnt.forEach(function(i){return i.Nbi(t)}),this.fbi.Bbi(this.oa.EP()),this.S2t()},i.Xx=function(t){this.fbi.Fnt||(this.T9.Zg(),this.T9=new hr,kr(_r(this.Xri(t,this.T9.Yg),this.T9)))},i.Xri=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:if(dr(i),t<this.oa.Gx())return this.Mbi(t),[2];switch(n=[],this.fbi.Lbi){case T7.PLAY_ALL:return[3,1];case T7.PLAY_LAST:return[3,3];case T7.PLAY_NONE:return[3,5]}return[3,6];case 1:return n=this.fbi.Obi(this.oa.Gx(),t),[4,this.Fbi(t,n,i)];case 2:case 4:return e.sent(),[3,6];case 3:return r=this.fbi.Obi(this.oa.Gx(),t).pop(),n=r?[r]:[],[4,this.Fbi(t,n,i)];case 5:return this.Ubi(t),[3,6];case 6:return[2]}})}).call(this)},i.Mbi=function(t){var i=Fn(this.fbi.K0t.ec,function(i){return i.Wat.Cr(t)});i?this.oa.Vbi(i.CO):this.oa.Vbi(t)},i.Ubi=function(t){var i=this.fbi.Obi(this.oa.Gx(),t).pop();i&&i.Wat.Cr(t)?this.oa.Vbi(i.RO):this.oa.Vbi(t)},i.Fbi=function(t,i,n){return Vt(function(){var r,e,s,u;return zt(this,function(o){switch(o.label){case 0:r=Lt(i),o.label=1;case 1:return(e=r()).done?[3,4]:(s=e.value,[4,this.Hbi(s,n)]);case 2:o.sent(),o.label=3;case 3:return[3,1];case 4:return(u=zn(i,-1))&&u.Wat.Cr(t)?(this.oa.Gx()<t&&this.oa.Vbi(u.RO),[2]):(this.oa.Vbi(t),[2])}})}).call(this)},i.Hbi=function(t,i){return Vt(function(){var n;return zt(this,function(r){switch(r.label){case 0:return t.mn("Sbi",this.Tbi),n=ut.race([t.ww("Knt",i),t.ww("Sbi",i)]),this.Rbi(this.oa.Gx()),t.ro||this.oa.Vbi(t.CO),[4,n];case 1:return r.sent(),t.wn("Sbi",this.Tbi),[2]}})}).call(this)},i.S2t=function(){var t=Fn(this.fbi.Lnt,function(t){return t.Wbi.length>0});if(t){var i=t.Wbi[0];this.T2t||(this.T2t=new H$(this.oa.xe),this.T2t.wn("clickstart",this.qbi)),this.T2t.O1t=i}else this.T2t&&(this.T2t.zg(),this.T2t=void 0)},Nt(t,[{key:"Ca",get:function(){return this.dbi.Ca}},{key:"lt",get:function(){return this.nq}},{key:"Jx",get:function(){return this.rq}}]),t}();U(),Et(),Wt(),Qt(),U(),Et();var I7=Fk({breaksIndex:Pk,adsIndex:Pk,startTime:Pk,endTime:Pk}),R7=Fk({index:Pk,timeOffset:Pk}),C7=Fk({duration:Pk,apiFramework:zk(Dk,Ok),creative:Dk,mimeType:Dk,width:Pk,height:Pk,companions:qk(function(t){return new Qk(t)}(function(){return C7})),extensions:zk(xk,qk(Bk)),fw_parameters:zk(xk,jk(Dk)),events:jk(qk(Dk))}),P7=Fk({type:Hk(["linear","nonlinear"]),position:Hk(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Pk,duration:Pk,ads:qk(C7),events:jk(qk(Dk))}),D7=Fk({breaks:qk(P7),breakOffsets:zk(xk,qk(R7)),placeholderOffsets:zk(xk,qk(I7))}),N7=Fk({required:zk(xk,Nk),fairplayCertificateURL:zk(xk,Dk),widevineLicenseURL:zk(xk,Dk),playreadyLicenseURL:zk(xk,Dk)}),x7={type:Hk(Uk(S7)),playURL:Dk,prefix:Dk,sid:Dk,drm:zk(xk,N7)},B7=Fk(Yu({},x7,{type:Hk([S7.VOD]),ads:D7,interstitialURL:zk(Dk,Ok,xk)})),O7=zk(B7,Fk(Yu({},x7,{type:Hk([S7.LIVE])})));U(),Et();var M7,L7=Dk,F7=Fk({userId:Dk,externalId:zk(Dk,qk(Dk))}),U7=function(){function t(t){this.aV=void 0,this.aV=t}var i=t.prototype;return i.KSt=function(t){return Vt(function(){return zt(this,function(i){try{return[2,this.jbi(t)]}catch(t){throw t}return[2]})}).call(this)},i.jbi=function(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return[4,H7(t)];case 1:return i=e.sent(),[4,this.aV.vk({Hk:ml.GET,Yu:i,fk:Ud.BT})];case 2:return[4,e.sent().lk()];case 3:return n=e.sent(),r=Yu({},n,{type:t.assetType===jS.ASSET?S7.VOD:S7.LIVE}),O7.jH(r)||O7.KH(r,"PreplayResponse"),[2,r]}})}).call(this)},t}(),V7=((M7={})[jS.ASSET]="",M7[jS.CHANNEL]="channel/",M7[jS.EVENT]="event/",M7);function H7(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:return i=t.prefix,n=V7[t.assetType],r=function(t){if(qk(L7).jH(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(L7.jH(t))return t;if(F7.jH(t)&&Vi(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(F7.jH(t))return"ext/"+t.userId+"/"+t.externalId;throw new p("Invalid asset id")}(t.id),[4,W7(t.contentProtected)];case 1:return e=o.sent(),s=function(t,i){var n=z7(t,i);return n?{"ad.cping":"1","ad.pingf":String(n)}:{}}(t.assetType,t.ping),u={},Vi(t.preplayParameters)?t.preplayParameters.forEach(function(t){u[t[0]]=t[1]}):u=t.preplayParameters,[2,El(i+"/preplay/"+n+r+".json",Yu({v:"2"},u,e,s,u))]}})})()}function W7(t){return Vt(function(){var i,n,r;return zt(this,function(e){switch(e.label){case 0:return(i=t)?[4,Ui.wm()]:[3,2];case 1:i=e.sent(),e.label=2;case 2:return i?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(n=t)?[4,Ui.Am()]:[3,5];case 4:n=e.sent(),e.label=5;case 5:return n?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,Ui.ym()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}})})()}function z7(t,i){var n=t!==jS.ASSET;return(!n&&i.adImpressions?1:0)+(!n&&i.freeWheelVideoViews?2:0)+(n&&i.linearAdData?4:0)}U(),Et(),Wt(),Qt(),U(),Et();var X7=Fk({ad_id:Dk,apiFramework:zk(Ok,Dk),companions:qk(Bk),creative:Dk,duration:Pk,mimeType:Dk,height:Pk,width:Pk,extensions:zk(xk,qk(Bk)),fw_parameters:zk(xk,jk(Dk))}),q7=Fk({breakId:Dk,ads:qk(X7),type:Hk(["linear","nonlinear"]),position:Hk(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Pk,duration:Pk,height:zk(xk,Pk),width:zk(xk,Pk),events:jk(qk(Dk))}),G7=Fk({breaks:qk(q7)}),j7=Fk({next_time:Pk,ads:zk(xk,G7),extensions:zk(xk,qk(Bk)),error:zk(xk,Dk),currentBreakEnd:zk(xk,Pk)}),Q7=function(t){return t.tTt="start",t.Jz="seek",t}({}),Y7=function(){function t(t){this.aV=void 0,this.aV=t}var i=t.prototype;return i.KSt=function(t,i){return Vt(function(){return zt(this,function(n){try{return[2,this.jbi(t,i)]}catch(t){throw t}return[2]})}).call(this)},i.jbi=function(t,i){return Vt(function(){var n,r;return zt(this,function(e){switch(e.label){case 0:return n=function(t){var i={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(i.ft=String(t.seekTime));t.event&&(i.ev=t.event);return El(t.zonePrefix+"/session/ping/"+t.sessionId+".json",Yu({},i))}(t),[4,this.aV.vk({Hk:ml.GET,Yu:n,fk:Ud.BT,Yg:i})];case 1:return[4,e.sent().lk()];case 2:return r=e.sent(),j7.jH(r)||j7.KH(r,"PingResponse"),[2,r]}})}).call(this)},t}();U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et(),xt(),Pt();var K7=function(t){function i(i){var n;return(n=t.call(this,"Qbi")||this).cE=void 0,n.cE=i,n}return Ct(i,t),i.prototype.xa=function(){return new J7(this.cE)},Nt(i,[{key:"uE",get:function(){return this.cE}}]),i}(Aw),J7=function(t){function i(i){var n;return(n=t.call(this,"pingresponse")||this).response=void 0,n.response=i,n}return Ct(i,t),i}(rh);U(),Et(),xt(),Pt();var Z7=function(t){function i(i){var n;return(n=t.call(this,"Kbi")||this).nq=void 0,n.nq=i,n}return Ct(i,t),i.prototype.xa=function(){return new $7(this.nq)},Nt(i,[{key:"lt",get:function(){return this.nq}}]),i}(Aw),$7=function(t){function i(i){var n;return(n=t.call(this,"pingerror")||this).error=void 0,n.error=i,n}return Ct(i,t),i}(rh),t9=function(t){function i(i,n){var r,e;return r=t.call(this)||this,(e=r).nAi=void 0,e.oa=void 0,e.Ybi=void 0,e.Zbi=void 0,e.sAi=void 0,e.rAi=void 0,e.hAi=void 0,e.hT=void 0,e.eAi=void 0,e.tAi=void 0,e.iAi=void 0,e.nAi=i,e.oa=n,e.Zbi=NaN,e.sAi=void 0,e.rAi=!1,e.hAi=NaN,e.hT=new hr,e.eAi=void 0,e.tAi=function(){return Vt(function(){var t;return zt(this,function(i){switch(i.label){case 0:return t=e.oa.Gx(),e.hAi=t,e.rAi||Fi(e.sAi)||S(e.Zbi)?[2]:e.Zbi+e.sAi<=t?(e.rAi=!0,[4,e.$bi()]):[3,2];case 1:i.sent(),e.rAi=!1,i.label=2;case 2:return[2]}})})()},e.iAi=function(){if(e.oa.Gx()!==e.Zbi){e.rAi&&e.oAi(),e.hAi=e.oa.Gx();var t=e.hAi-(e.Zbi||0);S(t)?kr(e.$bi(Q7.Jz,0)):kr(e.$bi(Q7.Jz,t))}},r}Ct(i,t);var n=i.prototype;return n.Tn=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:return(t=this.Ybi)?(i=z7(t.source.assetType,t.source.ping),0!==i?(this.Zbi=this.oa.EP().start(0),[4,this.$bi(Q7.tTt)]):[2]):[2];case 1:return n.sent(),this.oa.wn("timeupdate",this.tAi),this.oa.wn("seeking",this.iAi),[2]}})}).call(this)},n.$bi=function(t,i){return Vt(function(){var n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:if(n=this.Ybi.preplayResponse,r={},S(this.Zbi))return[2];if(Li(this.eAi)&&En(this.eAi,this.oa.Gx()-this.Zbi))return[2];void 0!==i&&(r.seekTime=i),void 0!==t&&(r.event=t),e=this.oa.Gx()-this.Zbi,t===Q7.tTt?e=0:t!==Q7.Jz&&this.sAi&&(e=b.min(e,this.sAi)),this.eAi=e,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.nAi.KSt(Yu({zonePrefix:n.prefix,sessionId:n.sid,currentTime:e,hasFreeWheelVideoViews:null==(u=this.Ybi)?void 0:u.source.ping.freeWheelVideoViews},r),this.hT.Yg)];case 2:return o=a.sent(),this.So(new K7(o)),this.sAi=-1!==o.next_time?o.next_time:void 0,s=o.error,[3,5];case 3:return vr(h=a.sent())||(s=h.message),[3,5];case 4:return s&&this.So(new Z7(s)),[7];case 5:return[2]}})}).call(this)},n.hr=function(){this.sAi=void 0,this.Ybi=void 0,this.Zbi=NaN,this.rAi=!1,this.hAi=NaN,this.eAi=void 0,this.oa.mn("seeking",this.iAi),this.oa.mn("timeupdate",this.tAi),this.oAi()},n.oAi=function(){this.hT.Zg(),this.hT=new hr},n.kn=function(){this.hr()},Nt(i,[{key:"Xbi",set:function(t){this.Ybi=t}},{key:"Jbi",get:function(){return this.Zbi}}]),i}(th);U(),Et(),Wt(),Ft(),Qt();var i9=function(){function t(t,i){this.aAi=void 0,this.GJ=void 0,this.aAi=t,this.GJ=i}return t.prototype.wpi=function(t){return Vt(function(){var i,n,r,e,s,u;return zt(this,function(o){switch(o.label){case 0:i=[],n=Lt(t.sources),o.label=1;case 1:return(r=n()).done?[3,6]:QA(e=r.value)?[3,2]:(i.push(e),[3,5]);case 2:return o.trys.push([2,4,,5]),[4,this.aAi.KSt(e)];case 3:return s=o.sent(),u=function(t,i,n){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var s=lA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},i,n);return s.integrationData=t,s}({source:e,preplayResponse:s},t,this.GJ),u.src&&(u.src=El(u.src,e.playbackUrlParameters)),i.push(u),[3,5];case 4:return o.sent(),[3,5];case 5:return[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new y("Fatal: unable to play UplynkSources.");return[2,Yu({},t,{sources:i})]}})}).call(this)},t}();U(),Et(),xt(),Ft(),U(),Et(),xt(),Pt(),Ft(),U(),Et(),Pt();var n9=function(t){function i(i,n){var r;return(r=t.call(this,"Ynt")||this).od=void 0,r.YF=void 0,r.od=i,r.YF=n,r}return Ct(i,t),i.prototype.xa=function(){return new r9(this.od.Ca)},i}(Aw),r9=function(t){function i(i){var n;return(n=t.call(this,"adbreakbegin")||this).adBreak=void 0,n.adBreak=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var e9=function(t){function i(i,n){var r;return(r=t.call(this,"Knt")||this).od=void 0,r.YF=void 0,r.od=i,r.YF=n,r}return Ct(i,t),i.prototype.xa=function(){return new s9(this.od.Ca)},i}(Aw),s9=function(t){function i(i){var n;return(n=t.call(this,"adbreakend")||this).adBreak=void 0,n.adBreak=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var u9=function(t){function i(i){var n;return(n=t.call(this,"Sbi")||this).od=void 0,n.od=i,n}return Ct(i,t),i.prototype.xa=function(){return new o9(this.od.Ca)},i}(Aw),o9=function(t){function i(i){var n;return(n=t.call(this,"adbreakskip")||this).adBreak=void 0,n.adBreak=i,n}return Ct(i,t),i}(rh);U(),Et(),U(),Et(),Pt();var h9=function(t){function i(i){var n;return(n=t.call(this,"$4t")||this).od=void 0,n.od=i,n}return Ct(i,t),i.prototype.xa=function(){return new a9(this.od.Ca)},i}(Aw),a9=function(t){function i(i){var n;return(n=t.call(this,"updateadbreak")||this).adBreak=void 0,n.adBreak=i,n}return Ct(i,t),i}(rh),c9=function(t){function i(i,n,r,e,s){var u;return(u=t.call(this)||this).HO=void 0,u.Zb=void 0,u.qc=void 0,u.emi=void 0,u.hu=void 0,u.ho=void 0,u.EJt=void 0,u.dAi=void 0,u.HO=i,u.Zb=n,u.qc=r,u.emi=e,u.ho=!1,u.dAi=!1,u.EJt=s,u}Ct(i,t);var n=i.prototype;return n.uAi=function(t){this.Zb=t-this.CO;for(var i,n=Lt(this.Jc.ec);!(i=n()).done;){var r=i.value;r.CO>t&&this.Jc.pS(r)}this.So(new h9(this))},n.fct=function(t){return t>=this.CO&&(Fi(this.ct)||t<=this.CO+this.ct)},n.lAi=function(t){return-1!==this.kJt&&(!!Li(this.RO)&&t-this.CO>=this.kJt)},n.uD=function(){this.qc.ec.forEach(function(t){return t.uD()}),this.So(new u9(this))},n.fAi=function(t){var i=Li(this.RO)&&t>=this.RO,n=this.CO<=t&&!i&&!this.ro,r=this.ro&&this.RO&&t>=this.RO;n&&(this.ho=!0,this.So(new n9(this,this.CO))),this.qc.ec.forEach(function(i){return i.fAi(t)}),r&&(this.dAi=!0,this.ho=!1,this.So(new e9(this,this.RO)))},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i,n={get startTime(){return t.CO},get endTime(){return t.RO},get duration(){return t.ct},get ads(){return t.Jc.Ca},get skipOffset(){return t.kJt},set skipOffset(i){t.kJt=i},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new vR(t,n),n}(this)),this.hu}},{key:"CO",get:function(){return this.HO}},{key:"RO",get:function(){return this.Zb?this.HO+this.Zb:void 0}},{key:"ct",get:function(){return this.Zb}},{key:"Wat",get:function(){var t=this.RO;return Li(t)?new EA([this.CO,t]):EA.rL()}},{key:"Jc",get:function(){return this.qc}},{key:"cAi",get:function(){return this.dAi}},{key:"ro",get:function(){return this.ho}},{key:"kJt",get:function(){return this.emi?-1:this.EJt},set:function(t){this.emi||(this.EJt=t)}}]),i}(nh);U(),Et(),xt(),Pt(),U(),Et(),Pt();var f9=function(t){function i(i,n){var r;return(r=t.call(this,"Jnt")||this).jnt=void 0,r.YF=void 0,r.jnt=i,r.YF=n,r}return Ct(i,t),i.prototype.xa=function(){return new v9(this.jnt.Ca)},i}(Aw),v9=function(t){function i(i){var n;return(n=t.call(this,"adbegin")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var d9=function(t){function i(i,n){var r;return(r=t.call(this,"Znt")||this).jnt=void 0,r.YF=void 0,r.jnt=i,r.YF=n,r}return Ct(i,t),i.prototype.xa=function(){return new l9(this.jnt.Ca)},i}(Aw),l9=function(t){function i(i){var n;return(n=t.call(this,"adend")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt(),U(),Et(),Pt();var w9=function(t){function i(i){var n;return(n=t.call(this,"vAi")||this).jnt=void 0,n.jnt=i,n}return Ct(i,t),i.prototype.xa=function(){return new g9(this.jnt.Ca)},i}(Aw),g9=function(t){function i(i){var n;return(n=t.call(this,"removead")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh),_9=function(t){function i(){return t.call(this)||this}Ct(i,t);var n=i.prototype;return n.Jei=function(t){},n.isi=function(t){this.So(new w9(t))},i}(s2);U(),Et(),Pt();var m9=function(t){function i(i){var n;return(n=t.call(this,"i5t")||this).jnt=void 0,n.jnt=i,n}return Ct(i,t),i.prototype.xa=function(){return new y9(this.jnt.Ca)},i}(Aw),y9=function(t){function i(i){var n;return(n=t.call(this,"adfirstquartile")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh),p9=function(t){function i(i){var n;return(n=t.call(this,"e5t")||this).jnt=void 0,n.jnt=i,n}return Ct(i,t),i.prototype.xa=function(){return new k9(this.jnt.Ca)},i}(Aw),k9=function(t){function i(i){var n;return(n=t.call(this,"admidpoint")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh),b9=function(t){function i(i){var n;return(n=t.call(this,"s5t")||this).jnt=void 0,n.jnt=i,n}return Ct(i,t),i.prototype.xa=function(){return new A9(this.jnt.Ca)},i}(Aw),A9=function(t){function i(i){var n;return(n=t.call(this,"adthirdquartile")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh),T9=function(t){function i(i){var n;return(n=t.call(this,"_Ai")||this).jnt=void 0,n.jnt=i,n}return Ct(i,t),i.prototype.xa=function(){return new S9(this.jnt.Ca)},i}(Aw),S9=function(t){function i(i){var n;return(n=t.call(this,"adcomplete")||this).ad=void 0,n.ad=i,n}return Ct(i,t),i}(rh);U(),Et();var E9=function(t){function i(i,n,r,e,s,u,o,h,a,c,f,v){var d;return void 0===a&&(a=[]),void 0===c&&(c={}),void 0===f&&(f={}),(d=t.call(this)||this).HO=void 0,d.Zb=void 0,d.UYt=void 0,d.yAi=void 0,d.IQ=void 0,d.lA=void 0,d.fA=void 0,d.NJt=void 0,d.bAi=void 0,d.Zf=void 0,d.vJt=void 0,d.IYt=void 0,d.hu=void 0,d.ho=void 0,d.AAi=void 0,d.SAi=void 0,d.TAi=void 0,d.kAi=void 0,d.EAi=void 0,d.xAi=void 0,d.HO=i,d.Zb=n,d.UYt=r,d.yAi=e,d.IQ=s,d.lA=u,d.fA=o,d.NJt=a,d.bAi=c,d.Zf=f,d.vJt=v,d.IYt=new _9,d.ho=!1,d.AAi=!1,d.SAi=!1,d.TAi=!1,d.kAi=!1,d.EAi=function(){return d.Nbi(d.HO)},d.xAi=function(){return d.Nbi(d.RO)},d.IYt.Zei(h),d.wn("Jnt",d.EAi),d.wn("Znt",d.xAi),d}Ct(i,t);var n=i.prototype;return n.fAi=function(t){var i=this.CO<=t&&t<this.RO,n=i&&!this.ro,r=!i&&this.ro;n&&(this.AAi=!1,this.SAi=!1,this.TAi=!1,this.kAi=!1,this.ho=!0,this.So(new f9(this,this.CO))),r&&(this.ho=!1,this.So(new d9(this,this.RO)))},n.Nbi=function(t){var i=(t-this.CO)/this.ct;!this.AAi&&i>=.25&&(this.AAi=!0,this.So(new m9(this))),!this.SAi&&i>=.5&&(this.SAi=!0,this.So(new p9(this))),!this.TAi&&i>=.75&&(this.TAi=!0,this.So(new b9(this))),!this.kAi&&i>=.9999&&(this.kAi=!0,this.So(new T9(this)))},n.uD=function(){this.AAi=!0,this.SAi=!0,this.TAi=!0,this.kAi=!0},n.kn=function(){this.mn("Jnt",this.EAi),this.mn("Znt",this.xAi)},i.gAi=function(t,n){return new i(t,n.duration,n.apiFramework||"",n.creative,n.mimeType,n.width,n.height,n.companions.map(function(n){return i.gAi(t,n)}),n.extensions,n.fw_parameters,n.events,void 0)},i.pAi=function(t,n){return new i(t,n.duration,n.apiFramework||"",n.creative,n.mimeType,n.width,n.height,n.companions.map(function(n){return i.pAi(t,n)}),n.extensions,n.fw_parameters,void 0,n.ad_id)},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){var i,n={get apiFramework(){return t.FYt},get companions(){return t.PYt.Ca},get creative(){return t.mAi},get duration(){return t.ct},get endTime(){return t.RO},get events(){return t.fQ},get extensions(){return t.DJt},get freeWheelParameters(){return t.wAi},get height(){return t.Mi},get mimeType(){return t.lQ},get startTime(){return t.CO},get width(){return t.Ti},addEventListener:function(t,n){i.wn(t,n)},removeEventListener:function(t,n){i.mn(t,n)}};return i=new vR(t,n),n}(this)),this.hu}},{key:"CO",get:function(){return this.HO}},{key:"RO",get:function(){return this.HO+this.Zb}},{key:"ct",get:function(){return this.Zb}},{key:"FYt",get:function(){return this.UYt}},{key:"mAi",get:function(){return this.yAi}},{key:"lQ",get:function(){return this.IQ}},{key:"Ti",get:function(){return this.lA}},{key:"Mi",get:function(){return this.fA}},{key:"fQ",get:function(){return this.Zf}},{key:"PYt",get:function(){return this.IYt}},{key:"DJt",get:function(){return this.NJt}},{key:"wAi",get:function(){return this.bAi}},{key:"ro",get:function(){return this.ho}},{key:"Wbi",get:function(){var t;return null!=(t=this.Zf.clickthroughs)?t:[]}}]),i}(nh);U(),Et(),Pt(),U(),Et(),Pt();var I9=function(t){function i(i){var n;return(n=t.call(this,"Xnt")||this).od=void 0,n.od=i,n}return Ct(i,t),i.prototype.xa=function(){return new R9(this.od.Ca)},i}(Aw),R9=function(t){function i(i){var n;return(n=t.call(this,"addadbreak")||this).adBreak=void 0,n.adBreak=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var C9=function(t){function i(i){var n;return(n=t.call(this,"Gnt")||this).od=void 0,n.od=i,n}return Ct(i,t),i.prototype.xa=function(){return new P9(this.od.Ca)},i}(Aw),P9=function(t){function i(i){var n;return(n=t.call(this,"removeadbreak")||this).adBreak=void 0,n.adBreak=i,n}return Ct(i,t),i}(rh),D9=function(t){function i(){return t.call(this)||this}Ct(i,t);var n=i.prototype;return n.Jei=function(t){this.So(new I9(t))},n.isi=function(t){this.So(new C9(t))},i}(s2),N9=function(){function t(t,i,n,r){var e,s=this;this.oa=void 0,this.pbi=void 0,this.y1t=void 0,this.CAi=void 0,this.IAi=void 0,this.hu=void 0,this.NAi=void 0,this.RAi=[],this.LAi=void 0,this.FAi=function(t){return s.LAi=t,s},this.MAi=function(t){t.uE.ads&&s.Cbi(t.uE.ads),t.uE.currentBreakEnd&&s.DAi(t.uE.currentBreakEnd)},this.BAi=function(t){if(0!==s.RAi.length&&0!==s.oa.EP().length)for(var i,n=s.oa.EP().end(s.oa.EP().length-1),r=Lt(s.RAi.slice());!(i=r()).done;){var e=i.value;Li(e.mYt.ct)?Xn(s.RAi,e):e.wIt<n&&(e.mYt.uAi(e.wIt),Xn(s.RAi,e))}},this.jd=function(t){var i,n=null==(i=s.LAi)?void 0:i.createAdBreak({timeOffset:t.od.CO,maxDuration:t.od.ct,customData:t.od});t.od.wn("Sbi",s.UAi);for(var r,e=Lt(t.od.Jc.ec);!(r=e()).done;){var u,o,h=r.value,a={type:"linear",timeOffset:h.CO,duration:h.ct,creativeId:h.mAi,skipOffset:t.od.kJt,clickThrough:null==(u=h.Wbi)?void 0:u[0],customData:h};null==(o=s.LAi)||o.createAd(a,n),h.wn("Jnt",s.M7t),h.wn("Znt",s.VAi),h.wn("i5t",s.HAi),h.wn("e5t",s.WAi),h.wn("s5t",s.qAi),h.wn("_Ai",s.uyi)}},this.UAi=function(t){for(var i,n=Lt(t.od.Jc.ec);!(i=n()).done;){var r,e,u=i.value,o=s.OAi(u);if(o)null==(r=s.LAi)||r.beginAd(o),null==(e=s.LAi)||e.skipAd(o)}},this.Td=function(t){for(var i,n=Lt(t.od.Jc.ec);!(i=n()).done;){i.value.Vo()}t.od.Vo()},this.M7t=function(t){var i,n=s.OAi(t.jnt);n&&(null==(i=s.LAi)||i.beginAd(n))},this.VAi=function(t){var i,n=s.OAi(t.jnt);n&&(null==(i=s.LAi)||i.endAd(n))},this.HAi=function(t){var i,n=s.OAi(t.jnt);n&&(null==(i=s.LAi)||i.updateAdProgress(n,.25))},this.WAi=function(t){var i,n=s.OAi(t.jnt);n&&(null==(i=s.LAi)||i.updateAdProgress(n,.5))},this.qAi=function(t){var i,n=s.OAi(t.jnt);n&&(null==(i=s.LAi)||i.updateAdProgress(n,.75))},this.uyi=function(t){var i,n=s.OAi(t.jnt);n&&(null==(i=s.LAi)||i.updateAdProgress(n,1))},this.oa=t,this.pbi=i,this.y1t=new D9,this.y1t.wn("Xnt",this.jd),this.y1t.wn("Gnt",this.Td),this.CAi=n,this.IAi=r,t.wn("timeupdate",this.BAi),this.pbi.wn("Qbi",this.MAi),null==(e=this.oa.Jc)||e.Wnt(pS.UPLYNK,this.FAi)}var i=t.prototype;return i.Bbi=function(t){if(0!==t.length)for(var i,n=EA.jn(t),r=Lt(this.y1t.ec.slice());!(i=r()).done;){var e=i.value;Li(e.RO)&&n.Tn(0)>e.RO&&this.y1t.pS(e)}},i.Cbi=function(t){for(var i,n=!function(t){return Li(t.breakOffsets)}(t),r=n?this.pbi.Jbi:0,e=Lt(t.breaks);!(i=e()).done;){var s=i.value;if(0!==s.ads.length){for(var u,o=s.timeOffset+r,h=new _9,a=0,c=Lt(s.ads);!(u=c()).done;){var f=u.value,v=n?E9.pAi(o,f):E9.gAi(o,f);h.gO(v),o+=v.ct,a+=v.ct}var d=s.timeOffset+r,l=n?void 0:s.duration,w=new c9(d,l,h,n,this.CAi);n&&this.RAi.push({mYt:w,wIt:d+a}),this.y1t.gO(w)}}},i.DAi=function(t){var i=this.PAi;i&&i.uAi(t+this.pbi.Jbi)},i.Dbi=function(t){this.NAi=t,this.y1t.ec.forEach(function(i){return i.fAi(t)})},i.uD=function(){var t=this.NAi,i=this.Fnt;t&&i&&i.lAi(t)&&i.uD()},i.skipAd=function(t){this.uD()},i.Obi=function(t,i){for(var n,r=[],e=Lt(this.K0t.ec);!(n=e()).done;){var s=n.value;!s.cAi&&s.CO>=t&&s.CO<i&&r.push(s)}return r},i.destroy=function(){this.oa.mn("timeupdate",this.BAi),this.pbi.mn("Qbi",this.MAi)},i.resetSource=function(){for(var t,i,n=Lt(this.K0t.ec);!(i=n()).done;){for(var r,e=i.value,s=Lt(e.Jc.ec);!(r=s()).done;){r.value.Vo()}e.Vo()}this.K0t.jy(),null==(t=this.LAi)||t.removeAllAds(),this.NAi=void 0,this.RAi=[]},i.OAi=function(t){return Fn(this.LAi.ads,function(i){return i.creativeId===t.mAi})},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{get adBreaks(){return t.K0t.Ca},get currentAdBreak(){if(t.Fnt)return t.Fnt.Ca},get currentAds(){return t.Fnt?t.Fnt.Jc.Ca:(new _9).Ca},skip:function(){t.uD()}}}(this)),this.hu}},{key:"K0t",get:function(){return this.y1t}},{key:"Fnt",get:function(){return Fn(this.y1t.ec,function(t){return t.ro})}},{key:"Lnt",get:function(){return this.Fnt?this.Fnt.Jc.ec.filter(function(t){return t.ro}):[]}},{key:"PAi",get:function(){if(0!==this.K0t.V&&0!==this.oa.EP().length){var t=this.oa.EP().end(this.oa.EP().length-1);return Fn(this.K0t.ec,function(i){return i.fct(t)})}}},{key:"Lbi",get:function(){return this.IAi}}]),t}();U(),Et(),Wt(),Qt(),U(),Et(),U(),Et(),xt();var x9=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),B9=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),O9=function(){function t(t,i,n,r,e,s,u,o,h,a,c,f,v,d,l,w,g,_,m,y,p,k,b,A,T){this.CO=void 0,this.RO=void 0,this.ct=void 0,this.GAi=void 0,this.XAi=void 0,this.lt=void 0,this.jAi=void 0,this.QAi=void 0,this.KAi=void 0,this.YAi=void 0,this.JAi=void 0,this.ZAi=void 0,this.LU=void 0,this.$Ai=void 0,this.tSi=void 0,this.iSi=void 0,this.eSi=void 0,this._N=void 0,this.sSi=void 0,this.nSi=void 0,this.rSi=void 0,this.hSi=void 0,this.oSi=void 0,this.aSi=void 0,this.uSi=void 0,this.hu=void 0,this.CO=t,this.RO=i,this.ct=n,this.GAi=r,this.XAi=e,this.lt=s,this.jAi=u,this.QAi=o,this.KAi=h,this.YAi=a,this.JAi=c,this.ZAi=f,this.LU=v,this.$Ai=d,this.tSi=l,this.iSi=w,this.eSi=g,this._N=_,this.sSi=m,this.nSi=y,this.rSi=p,this.hSi=k,this.oSi=b,this.aSi=A,this.uSi=T}return t.zAi=function(i,n,r){var e=new xh(i.rating_flags);return new t(n,r,i.duration,Boolean(i.audio_only),i.boundary_details,Boolean(i.error),i.tv_rating,i.max_slice,i.thumb_prefix,i.slice_dur,i.movie_rating,i.owner,i.meta,i.rates,i.thumbs,i.poster_url,i.default_poster_url,i.desc,e.Uy(1),e.Uy(2),e.Uy(4),e.Uy(8),i.external_id,Boolean(i.is_ad),i.asset)},Nt(t,[{key:"Ca",get:function(){return this.hu||(this.hu=function(t){return{startTime:t.CO,endTime:t.RO,duration:t.ct,audioOnly:t.GAi,boundaryDetails:t.XAi,error:t.lt,tvRating:t.jAi,maxSlice:t.QAi,thumbPrefix:t.KAi,sliceDuration:t.YAi,movieRating:t.JAi,ownerId:t.ZAi,metadata:t.LU,rates:t.$Ai,thumbnailResolutions:t.tSi,posterUrl:t.iSi,defaultPosterUrl:t.eSi,description:t._N,hasAdultLanguage:t.sSi,hasSexualSituations:t.nSi,hasViolence:t.rSi,hasDrugSituations:t.hSi,externalId:t.oSi,isAd:t.aSi,assetId:t.uSi}}(this)),this.hu}}]),t}();var M9=Fk({duration:Pk,offset:Pk}),L9=Fk({c3:M9}),F9=Fk({c7:M9}),U9=Fk({halftime:M9}),V9=Hk(Uk(B9)),H9=Hk(Uk(x9)),W9=Fk({width:zk(xk,Pk),prefix:Dk,bw:Pk,bh:Pk,height:zk(xk,Pk)}),z9=Fk({audio_only:Pk,boundary_details:zk(xk,qk(zk(L9,F9,U9))),error:Pk,tv_rating:V9,max_slice:Pk,thumb_prefix:Dk,slice_dur:Pk,movie_rating:H9,owner:Dk,meta:Bk,rates:qk(Pk),thumbs:qk(W9),poster_url:Dk,duration:Pk,default_poster_url:Dk,desc:Dk,rating_flags:Pk,external_id:Dk,is_ad:Pk,asset:Dk}),X9=function(){function t(t){this.aV=void 0,this.aV=t}var i=t.prototype;return i.KSt=function(t,i,n,r){return Vt(function(){var e,s,u;return zt(this,function(o){switch(o.label){case 0:return e=this,s=function(t,i,n){if(L7.jH(i))return[q9(t,i,n)];if(qk(L7).jH(i))return i.map(function(i){return q9(t,i,n)});if(F7.jH(i)){return(Vi(i.externalId)?i.externalId:[i.externalId]).map(function(r){return q9(t,"ext/"+i.userId+"/"+r,n)})}throw new p("Invalid asset id")}(t,i,r),u=s.map(function(t){return mT(function(){return e.jbi(t)},n)}),[4,ut.all(u)];case 1:return[2,o.sent().filter(Li)]}})}).call(this)},i.jbi=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return[4,this.aV.vk({Hk:ml.GET,Yu:t,fk:Ud.BT})];case 1:return[4,n.sent().lk()];case 2:return i=n.sent(),z9.jH(i)||z9.KH(i,"AssetInfoResponse"),[2,i]}})}).call(this)},t}();function q9(t,i,n){return n?t+"/player/assetinfo/"+i+".json?pbs="+n:t+"/player/assetinfo/"+i+".json"}U(),Et(),Pt(),Ft(),U(),Et(),Pt();var G9=function(t){function i(i){var n;return(n=t.call(this,"cSi")||this).pd=void 0,n.pd=i,n}return Ct(i,t),i.prototype.xa=function(){return new j9(this.pd.Ca)},i}(Aw),j9=function(t){function i(i){var n;return(n=t.call(this,"removeasset")||this).asset=void 0,n.asset=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var Q9=function(t){function i(i){var n;return(n=t.call(this,"dSi")||this).pd=void 0,n.pd=i,n}return Ct(i,t),i.prototype.xa=function(){return new Y9(this.pd.Ca)},i}(Aw),Y9=function(t){function i(i){var n;return(n=t.call(this,"addasset")||this).asset=void 0,n.asset=i,n}return Ct(i,t),i}(rh),K9=function(t){function i(){return t.call(this)||this}Ct(i,t);var n=i.prototype;return n.Cbi=function(t,i){for(var n,r,e=0,s=Lt(t);!(r=s()).done;){var u=r.value;n=e+u.duration;for(var o,h=Lt(i);!(o=h()).done;){var a=o.value;e<=a.CO&&a.CO<n&&(n+=a.ct||0)}this.gO(O9.zAi(u,e,n)),e=n}},n.Jei=function(t){this.So(new Q9(t))},n.isi=function(t){this.So(new G9(t))},i}(s2);U(),Et(),xt(),Pt(),U(),Et(),Pt();var J9=function(t){function i(i){var n;return(n=t.call(this,"lSi")||this).uE=void 0,n.uE=i,n}return Ct(i,t),i.prototype.xa=function(){return new Z9(this.uE)},i}(Aw),Z9=function(t){function i(i){var n;return(n=t.call(this,"preplayresponse")||this).response=void 0,n.response=i,n}return Ct(i,t),i}(rh);U(),Et(),Pt();var $9=function(t){function i(i){var n;return(n=t.call(this,"fSi")||this).uE=void 0,n.uE=i,n}return Ct(i,t),i.prototype.xa=function(){return new ttt(this.uE)},i}(Aw),ttt=function(t){function i(i){var n;return(n=t.call(this,"assetinforesponse")||this).response=void 0,n.response=i,n}return Ct(i,t),i}(rh),itt=function(t){function i(i,n,r){var e;return(e=t.call(this)||this).hu=void 0,e.fbi=void 0,e.vbi=void 0,e.pbi=void 0,e.fbi=i,e.vbi=n,e.pbi=r,r.wn("Qbi",e.Rs),r.wn("Kbi",e.Rs),e}Ct(i,t);var n=i.prototype;return n.Gbi=function(t){t&&this.So(new J9(Lw(t)))},n.Ibi=function(t){var i=this;t.forEach(function(t){return i.So(new $9(t))})},n.xa=function(){var t,i=this,n={get ads(){return i.fbi.Ca},get assets(){return i.vbi.Ca},addEventListener:function(i,n){t.wn(i,n)},removeEventListener:function(i,n){t.mn(i,n)}};return t=new vR(i,n),n},Nt(i,[{key:"Ca",get:function(){return this.hu||(this.hu=this.xa()),this.hu}}]),i}(nh),ntt=function(){function t(){}return t.prototype.vSi=function(t,i){var n=new U7(t.Dx),r=new Y7(t.Dx),e=function(t){if(t.uplynk&&Li(t.uplynk.defaultSkipOffset))return function(t){return Qi(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(i),s=function(t){var i,n,r=null!=(n=null==(i=t.uplynk)?void 0:i.onSeekOverAd)?n:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(i),u=new t9(r,t),o=new i9(n,i),h=new N9(t,u,e,s),a=new X9(t.Dx),c=new K9,f=new itt(h,c,u);return new E7(t,u,o,h,f,a,c)},t}();Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this)._Si=void 0,r._Si=(new ntt).vSi(r,n),r}Ct(i,t);var n=i.prototype;return n.gbi=function(i){t.prototype.Ta.call(this,i)},n.mbi=function(i,n){return t.prototype.drt.call(this,i,n)},n.Vbi=function(i){t.prototype.Xx.call(this,i)},n.Yx=function(){var i;return null!=(i=this._Si.lt)?i:t.prototype.Yx.call(this)},n.Zx=function(){var i;return null!=(i=this._Si.Jx)?i:t.prototype.Zx.call(this)},n.Xx=function(t,i){this._Si.Xx(t)},n.Ta=function(t){this._Si.Ta(t)},n.drt=function(t,i){return this._Si.drt(t,i)},n.xa=function(){var i=this._Si.Ca;return Mw(t.prototype.xa.call(this),{get uplynk(){return i}})},n.kn=function(){this._Si.kn(),t.prototype.kn.call(this)},i}(t)},Vb.Ant),U(),Et(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Ft(),Qt(),U(),Et();var rtt=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});U(),Et(),xt(),Pt();var ett=function(t){function i(i,n,r,e){var s;return(s=t.call(this,i,n)||this).XYt=void 0,s.HO=void 0,s.XYt=e,s.HO=r,s}return Ct(i,t),i.prototype.xa=function(){return D0(this)},Nt(i,[{key:"u$t",get:function(){return x$.g1t}},{key:"CO",get:function(){return this.HO}},{key:"aYt",get:function(){return this.XYt}}]),i}(P0);U(),Et(),xt(),Pt();var stt=function(t){function i(i,n,r){var e;if((e=t.call(this,n)||this).gSi=void 0,e.k4t=i,e.E4t=i,r){var s=new Date(r);he(s)&&(e.gSi=s)}return e}return Ct(i,t),Nt(i,[{key:"JOt",get:function(){return this.gSi}},{key:"u$t",get:function(){return x$.g1t}}]),i}(E0),utt=function(){function t(t,i,n){var r=this;this.oa=void 0,this.NSi=void 0,this.CSi=-1/0,this.wSi=void 0,this.bSi=0,this.TSi=[],this.DSi=void 0,this.Ayi=!1,this.SK=!1,this.tMt=-1,this.ESi=void 0,this.SSi=void 0,this.ISi=0,this.NL=function(){r.ASi()},this.sjt=function(){r.USi(rtt.RESUME)},this.xBt=function(){r.BSi(),r.USi(rtt.PAUSE)},this.Je=function(){r.BSi(),r.tMt=-1},this.Eh=function(){r.BSi()},this.bd=function(){-1===r.tMt&&(r.tMt=r.ySi()),r.MSi(),r.LSi(),r.tMt=r.ySi()},this.n3t=function(){if(r.Ayi!==r.oa.oP){r.Ayi=r.oa.oP;var t=r.Ayi?rtt.MUTE:rtt.UNMUTE;r.USi(t)}},this.pSi=function(){if(r.SK!==r.oa.ds()){r.SK=r.oa.ds();var t=r.SK?rtt.FULL_SCREEN:rtt.EXIT_FULL_SCREEN;r.USi(t)}},this.u8=function(t){vr(t)||(r.USi(rtt.ERROR),kr(r.PSi()))},this.OSi=[rtt.START,rtt.FIRST_QUARTILE,rtt.MID_POINT,rtt.THIRD_QUARTILE,rtt.COMPLETE,rtt.IMPRESSION,rtt.CREATIVE_VIEW],this.oa=t,this.NSi=i,this.DSi=n,this.HI()}var i=t.prototype;return i.HI=function(){this.oa.wn(Ry.PM,this.NL),this.oa.wn(eh.jw,this.xBt),this.oa.wn(eh.uo,this.sjt),this.oa.wn(eh.$w,this.Je),this.oa.wn(eh.Nw,this.Eh),this.oa.wn(eh.py,this.bd),this.oa.wn(eh.wy,this.n3t),this.oa.wn(DI.MODE_CHANGE,this.pSi)},i.UI=function(){this.oa.mn(Ry.PM,this.NL),this.oa.mn(eh.jw,this.xBt),this.oa.mn(eh.uo,this.sjt),this.oa.mn(eh.$w,this.Je),this.oa.mn(eh.Nw,this.Eh),this.oa.mn(eh.py,this.bd),this.oa.mn(eh.wy,this.n3t),this.oa.mn(DI.MODE_CHANGE,this.pSi)},i.ySi=function(){return this.oa.Gx()-this.bSi},i.ASi=function(){var t=this;if(!this.SSi)if(this.oa.Nd()===1/0){var i=function(){var i;null==(i=t.ESi)||i.zg(),t.ESi=void 0,t.SSi=void 0};this.ESi=new hr,this.SSi=this.xSi(this.ESi.Yg).catch(this.u8).then(i,i)}else 0===this.TSi.length&&(this.SSi=this.kSi())},i.PSi=function(){return Vt(function(){var t,i;return zt(this,function(n){switch(n.label){case 0:t=b.min(1e3*b.pow(2,this.ISi),3e4),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ar(t,null==(i=this.ESi)?void 0:i.Yg)];case 2:return n.sent(),this.ISi++,[3,4];case 3:return vr(n.sent())?(this.ISi=0,[2]):[3,4];case 4:return this.ASi(),[2]}})}).call(this)},i.xSi=function(t){return Vt(function(){var i;return zt(this,function(n){switch(n.label){case 0:return dr(t),this.oa.lP?[3,5]:(i=Ui.Mg()-this.CSi)>1e4?[4,this.kSi(t)]:[3,2];case 1:return n.sent(),this.CSi=Ui.Mg(),this.ISi=0,[3,4];case 2:return[4,Ar(1e4-i,t)];case 3:n.sent(),n.label=4;case 4:return[3,0];case 5:return[2]}})}).call(this)},i.RSi=function(t){var i=t.JOt;if(i&&this.oa.Vx&&0===this.bSi&&!this.DSi&&0!==b.floor(this.oa.EP().start(0))){var n=(this.oa.Vx.getTime()-i.getTime())/1e3,r=this.oa.Gx()-t.qOt;this.bSi=r-n}},i.kSi=function(t){return Vt(function(){var i,n,r,e,s,u,o,h,a,c;return zt(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,this.oa.Dx.vk({Yu:this.NSi})];case 1:return[4,f.sent().VT(t)];case 2:if(0===(i=f.sent()).avails.length)return 0!==this.TSi.length&&(this.TSi=[]),[2];if(i.avails.length===this.TSi.length&&i.avails[0].startTimeInSeconds===this.TSi[0].qOt)return this.RSi(this.TSi[0]),[2];for(n=[],r=Lt(i.avails);!(e=r()).done;){for(s=e.value,u=new stt(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),o=Lt(s.ads);!(h=o()).done;)a=h.value,(c=new ett(u,R0.BZt,a.startTimeInSeconds,a.trackingEvents)).O4t(a.adId,a.width,a.height,a.durationInSeconds,[],a.skipoffset),u.C4t(c);n.push(u),this.RSi(u)}return this.TSi=mn(n,function(t,i){return t.qOt-i.qOt}),[3,4];case 3:throw lr(f.sent()),new y("Failed to poll MediaTailor tracking events");case 4:return[2]}})}).call(this)},i.BSi=function(){var t;null==(t=this.ESi)||t.Zg(),this.ESi=void 0,this.SSi=void 0,this.CSi=-1/0},i.MSi=function(){if(0!==this.TSi.length){var t=this.TSi[this.TSi.length-1],i=this.ySi();if(t.qOt+t.G0t<this.tMt){var n;this.wSi&&(null==(n=this.oa.Jc)||n.So(new XB(this.wSi)),this.wSi=void 0)}else{for(var r,e=Lt(this.TSi);!(r=e()).done;){var s=r.value,u=s.qOt;if(!(u+s.G0t<this.tMt)&&(u<=i&&u+s.G0t>this.tMt)){var o;if(this.mSi===s)return;return this.wSi=s,void(null==(o=this.oa.Jc)||o.So(new GB(this.wSi)))}}var h;if(this.wSi)null==(h=this.oa.Jc)||h.So(new XB(this.wSi)),this.wSi=void 0}}},i.LSi=function(){var t=this,i=this.Lnt;if(0!==i.length){for(var n,r=[],e=Lt(i);!(n=e()).done;){var s=n.value.aYt.filter(function(i){return jn(t.OSi,i.eventType)});r=r.concat(s)}for(var u,o=Lt(r);!(u=o()).done;){var h=u.value;this.FSi(h.startTimeInSeconds)&&(h.eventType===rtt.COMPLETE&&this.USi(rtt.ENGAGED_VIEW),this.VSi(h))}}},i.HSi=function(t,i){return i.aYt.filter(function(i){return Vo(i.eventType,t)})[0]},i.USi=function(t){var i=this.Lnt;if(0!==i.length){var n=this.HSi(t,i[0]);n&&this.VSi(n)}},i.VSi=function(t){this.Dpi(t.eventType);for(var i,n=Lt(t.beaconUrls);!(i=n()).done;){var r=i.value,e={Hk:ml.GET,Yu:r,XT:"",fk:Ud.BT};0,kr(this.WSi(e))}},i.Dpi=function(t){var i,n,r=this.Lnt;switch(t){case rtt.START:i=new QB(r[r.length-1],this.oa.Gx());break;case rtt.COMPLETE:i=new KB(r[0],this.oa.Gx());break;case rtt.FIRST_QUARTILE:i=new W0(r[0],this.oa.Gx());break;case rtt.MID_POINT:i=new X0(r[0],this.oa.Gx());break;case rtt.THIRD_QUARTILE:i=new G0(r[0],this.oa.Gx())}void 0!==i&&(null==(n=this.oa.Jc)||n.So(i))},i.WSi=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,this.oa.Dx.vk(t)];case 1:return i.sent().dk,[2]}})}).call(this)},i.FSi=function(t){var i=this.ySi();return t>=this.tMt&&t<i},i.kn=function(){this.UI(),this.BSi(),this.tMt=-1},Nt(t,[{key:"mSi",get:function(){return this.wSi}},{key:"Lnt",get:function(){var t=this.mSi;if(!t)return[];for(var i,n=[],r=this.ySi(),e=Lt(t.Jc);!(i=e()).done;){var s=i.value;r>=s.CO&&this.tMt<=s.CO+s.ct&&n.push(s)}return n}}]),t}();Wb(function(t){return function(t){function i(i,n){var r;return(r=t.call(this,i,n)||this).qSi=void 0,r.nq=void 0,r.rq=void 0,r.GSi=void 0,r}Ct(i,t);var n=i.prototype;return n.Ta=function(i){return this.qSi&&(this.qSi.kn(),this.qSi=void 0,this.OEt()),t.prototype.Ta.call(this,i)},n.drt=function(i,n){var r=this,e=function(){return t.prototype.drt};return Vt(function(){var t,s;return zt(this,function(u){switch(u.label){case 0:if(!i||!function(t){return t.sources.some(function(t){return t.integration===FA.MEDIATAILOR})}(i))return[2,e().call(r,i,n)];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,this.zSi(i,n)];case 2:return t=u.sent(),this.GSi=new Y0(this),[4,e().call(r,t,n)];case 3:return u.sent(),[3,5];case 4:return s=u.sent(),this.Qq(new ld(vd.MANIFEST_LOAD_ERROR,s.message,s)),[3,5];case 5:return[2]}})}).call(this)},n.gP=function(i){var n;(null==(n=this.GSi)?void 0:n.inAdBreak)||t.prototype.gP.call(this,i)},n.Xx=function(i,n){var r;(null==(r=this.qSi)?void 0:r.mSi)||t.prototype.Xx.call(this,i,n)},n.Yx=function(){var i;return null!=(i=this.nq)?i:t.prototype.Yx.call(this)},n.Zx=function(){var i;return null!=(i=this.rq)?i:t.prototype.Zx.call(this)},n.Qq=function(t){this.nq=cg(t),this.rq=t,this.So(new yb(t))},n.OEt=function(){this.nq=void 0,this.rq=void 0},n.zSi=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a;return zt(this,function(c){switch(c.label){case 0:n=[],r=Lt(t.sources),c.label=1;case 1:return(e=r()).done?[3,4]:KA(s=e.value)&&(u=s).src?[4,this.XSi(u,i)]:(n.push(s),[3,3]);case 2:o=c.sent(),dr(i),h=Yu({},u,{integration:void 0,src:o}),n.push(h),c.label=3;case 3:return[3,1];case 4:return(a=Lw(t)).sources=n,[2,a]}})}).call(this)},n.XSi=function(t,i){return Vt(function(){var n,r,e,s,u,o,h,a,c,f;return zt(this,function(v){switch(v.label){case 0:if(n=this,r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new y("Could not find MediaTailor session initialization url");return s=e[0],u=Lo(r,"?ads."),o=u?{Yu:r,fk:Ud.BT}:{Yu:r,Hk:ml.POST,XT:JSON.stringify({adsParams:t.adsParams}),fk:Ud.BT},[4,mT(function(){return n.jSi(o,i)},i)];case 1:h=v.sent();try{a=s+h.manifestUrl,u||(c=s+h.trackingUrl,f=function(t){return!!t&&/\bmpd\b/i.test(t)}(a),this.qSi=new utt(this,c,f))}catch(t){throw new y("Something went wrong parsing the MediaTailor session initialization response")}return[2,a]}})}).call(this)},n.jSi=function(t,i){return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.Dx.vk(t)];case 1:return[4,n.sent().VT(i)];case 2:return[2,n.sent()];case 3:throw lr(n.sent()),new y("Failed to initialize MediaTailor session manifest");case 4:return[2]}})}).call(this)},n.kn=function(){var i;this.qSi&&(this.qSi.kn(),this.qSi=void 0),this.OEt(),null==(i=this.GSi)||i.destroy(),this.GSi=void 0,t.prototype.kn.call(this)},i}(t)},Vb.Snt),U(),Et(),U(),Et(),Wt(),Qt(),U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),xt(),Pt(),Qt(),U(),Et();var ott=function(t){return t[t.QSi=0]="QSi",t[t.PM=1]="PM",t[t.Yz=2]="Yz",t[t.KSi=3]="KSi",t[t.YSi=4]="YSi",t[t.JSi=5]="JSi",t[t.ma=6]="ma",t}({});U(),Et(),xt(),Pt();var htt=function(t){function i(i,n,r,e,s){var u;return void 0===s&&(s=!1),(u=t.call(this)||this).yO=pg(),u._O=new lg,u.vu=void 0,u.bO=void 0,u.I5=void 0,u.hu=void 0,u.CMt=void 0,u.We=void 0,u.vu=i,u.bO=n,u.I5=r,u.We=s,u.CMt=e,u}return Ct(i,t),i.prototype.SO=function(t){this.We=t,t?this.CMt.ZSi(this.vu):this.CMt.$Si(this.vu)},Nt(i,[{key:"YI",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.SO(t)}},{key:"Ca",get:function(){var t;return null!=(t=this.hu)?t:this.hu=tg(this)}},{key:"o",get:function(){return String(this.vu.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.I5}},{key:"Th",get:function(){return this.bO}},{key:"bs",get:function(){return""}},{key:"Qk",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.SO("enabled"===t)}},{key:"$I",get:function(){return this._O}},{key:"tC",get:function(){},set:function(t){}},{key:"JI",get:function(){return this.yO}}]),i}(th);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt(),U(),Et(),Wt(),Pt(),Ft(),Qt(),U(),Et();var att=function(t){return t.qm="urn:dvb:casystemid:19219",t.zm="urn:dvb:casystemid:19156",t}({}),ctt=function(t){return t.qm="application/vnd.ms-playready.initiator+xml",t.zm="application/widevine+xml",t}({});function ftt(t,i,n){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(i);case"urn:dvb:casystemid:19156":if(!n)throw new y("Content URL is needed for Widevine license request");return function(t,i){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+nZ(null!=i?i:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+nZ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(i,n);default:throw new y("DRM key system is not supported")}}var vtt=function(t){function i(){var i;return(i=t.apply(this,arguments)||this).sTi=void 0,i.hTi=void 0,i.Tu=void 0,i.aTi=void 0,i.oTi=void 0,i.nTi=function(t,n,r){var e,s;if(0!==r){var u=i.uTi(r),o=i.cTi(r),h=new ug(u,o);null==(s=i.oTi)||null==(e=s.Ky)||e.call(s,h)}else{var a,c;null==(c=i.oTi)||null==(a=c.Qy)||a.call(c,t)}},i.rTi=function(t,n,r,e){var s=i.dTi(t),u=i.lTi(t),o=new ug(s,u);i.So(new eN(o))},i}Ct(i,t);var n=i.prototype;return n.tTi=function(t){this.iTi(),this.Tu=t},n.eTi=function(t){return Vt(function(){var i,n,r,e,s,u,o,h;return zt(this,function(a){switch(a.label){case 0:if(!t.fq.length)return this.iTi(),[2];if(!this.Tu)throw new y("The OIPF DRM agent has to be attached to the DOM");this.sTi||(this.sTi=v.createElement("object"),this.sTi.type="application/oipfDrmAgent",this.Tu.appendChild(this.sTi),this.sTi.onDRMMessageResult=this.nTi,this.sTi.onDRMRightsError=this.rTi,this.hTi=v.createElement("object"),this.hTi.type="application/oipfCapabilities",this.Tu.appendChild(this.hTi)),n=Lt(t.fq),a.label=1;case 1:if((r=n()).done)return[3,6];if(e=r.value,s=void 0,u=void 0,o=void 0,e.xS===Io)s=att.qm,u=ctt.qm,o=ftt(att.qm,e.FW);else{if(e.xS!==Ro)return[3,5];s=att.zm,u=ctt.zm,o=ftt(att.zm,e.FW,t.rC)}a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.Bet(u,o,s)];case 3:return a.sent(),this.So(new sN),[2];case 4:return h=a.sent(),i=h,[3,5];case 5:return[3,1];case 6:return i&&this.So(new eN(i)),[2]}})}).call(this)},n.zg=function(){return this.oTi=void 0,this.Tu=void 0,t.prototype.zg.call(this)},n.Bet=function(t,i,n){var r,e;return this.oTi=new Va,this.aTi=null==(e=this.sTi)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,i,n),this.aTi||null==this.oTi.Ky||this.oTi.Ky.call(this.oTi,new ug(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.oTi.Yy},n.uTi=function(t){switch(t){case 5:return vd.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return vd.CONTENT_PROTECTION_INTERNAL_ERROR;default:return vd.CONTENT_PROTECTION_ERROR}},n.cTi=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},n.dTi=function(t){return 0===t?vd.CONTENT_PROTECTION_LICENSE_ERROR:1===t?vd.CONTENT_PROTECTION_LICENSE_INVALID:vd.CONTENT_PROTECTION_ERROR},n.lTi=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},n.iTi=function(){this.sTi&&(Zi(this.sTi),this.sTi=void 0),this.hTi&&(Zi(this.hTi),this.hTi=void 0)},n.I8=function(t,i,n){return Vt(function(){return zt(this,function(t){return[2]})})()},i}(dN);U(),Et(),Wt(),xt(),Qt(),U(),Et();var dtt=ut,ltt=function(){function t(t,i,n){this.ZS=void 0,this.PL=void 0,this.DZ=void 0,this.ZS=t,this.PL=i,this.DZ=n}var i=t.prototype;return i.IZ=function(t){return!1},i.RZ=function(t){return dtt.resolve(void 0)},i.eTi=function(t){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.DZ.eTi(this.ZS)];case 1:return t.sent(),[2]}})}).call(this)},i.zg=function(){return dtt.resolve(void 0)},Nt(t,[{key:"kP",get:function(){return EA.nL(0,this.PL.ct)}},{key:"wP",get:function(){return YT.pz},set:function(t){}},{key:"Cd",get:function(){return this.ZS}}]),t}(),wtt=function(t){function i(i,n){var r;return(r=t.call(this)||this).sc=void 0,r.Oz=void 0,r.DZ=void 0,r.ha=void 0,r.ea=void 0,r.mTi=void 0,r.Gl=void 0,r.Y9=void 0,r.J9=void 0,r.bet=void 0,r.Aet=void 0,r.aq=void 0,r.Pz=void 0,r.nq=void 0,r.RV=void 0,r.kz=void 0,r._Ti=void 0,r.pTi=void 0,r.sc=i,r.Oz=n,r.ha=new tS,r.ea=new nS,r.Gl=new Km,r.aq=void 0,r.Pz=!1,r.nq=void 0,r.RV=Dy.zL,r.kz=!0,r._Ti=void 0,r.pTi=function(){var t,i,n,e;(null==(t=r.mTi)?void 0:t.playState)&&((null==(i=r._Ti)?void 0:i.Yy)||2!==r.mTi.playState||r.vTi().catch(dn),3===r.mTi.playState&&(null==(e=r._Ti)||null==(n=e.Qy)||n.call(e,String(r.mTi.playState)),r._Ti=void 0))},r.DZ=new vtt(r),r.DZ.wn(rN,r.Rs),r.Y9=new Rb([r.Gl]),r.J9=new JD(r),r.bet=new xN,r.Aet=new Qx(r.bet.xe,r.Wu,r.nt,r.Ql,r.Ma,r.Sq),r.mTi=r.gTi(),r.vTi().catch(dn),r}Ct(i,t);var n=i.prototype;return n.Y7=function(t){this.DZ.tTi(t),this.bet.Y7(t)},n.$Z=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;if(r.Km===Iy.AV)return r}},n.V9=function(t){return ut.resolve({H9:!1})},n.Un=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:if(this.aq)throw new y("Already loaded a media source");return t.Km!==Iy.AV?[3,2]:(this.aq=new ltt(t,this,this.DZ),[4,this.aq.eTi(t)]);case 1:return i.sent(),[2,this.aq];case 2:throw new y("Unsupported media source configuration for HbbTV");case 3:return[2]}})}).call(this)},n.fTi=function(t){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.vTi()];case 1:return t.sent(),[2]}})}).call(this)},n.QP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.vTi()];case 1:return t.sent(),[2]}})}).call(this)},n.$W=function(t){},n.hr=function(){return Vt(function(){return zt(this,function(t){return this.aq=void 0,this._Ti=void 0,[2]})}).call(this)},n.F8=function(){return Vt(function(){return zt(this,function(t){throw new p("Not supported")})})()},n.zg=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),this.Gl.kn(),this.Y9.kn(),this.bet.kn(),this.Aet.kn(),this.DZ.mn(rN,this.Rs),[4,this.DZ.zg()];case 2:return t.sent(),[2]}})}).call(this)},n.be=function(){this.kz=!0,this.bet.be()},n.we=function(){this.kz=!1,this.bet.we()},n.wq=function(){return!1},n.bq=function(t,i,n,r,e){throw new y("Adding native sideloaded text tracks is not supported on HbbTV")},n.G7=function(){},n.X7=function(){},n.K7=function(){},n.hP=function(){return{rO:0,hO:0,oO:0}},n.$P=function(){},n.Tq=function(t){throw new y("Adding custom text tracks is not supported on HbbTV")},n.zP=function(){},n.sI=function(t,i,n,r,e,s,u,o,h){var a=new KP(t,i,n,r,e,s,u,h,o);return this.Gl.tt(a),this.J9.tt(a),a},n.Eq=function(){for(var t,i=Lt(this.Gl.NI.slice());!(t=i()).done;){t.value.kn()}this.Gl.hr()},n.rV=function(t){this.Gl.it(t),this.J9.it(t)},n.gTi=function(){for(var t=v.getElementsByTagName("object"),i=0;i<t.length;i++){var n=t.item(i);if("video/broadcast"===n.type){var r=n;return r.onPlayStateChange=this.pTi,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},n.vTi=function(){var t,i;if(!this.mTi||3===this.mTi.playState||0===this.mTi.playState)return ut.resolve("");if(null==(t=this._Ti)?void 0:t.Yy)return null==(i=this._Ti)?void 0:i.Yy;this._Ti=new Va;try{null==this.mTi.stop||this.mTi.stop.call(this.mTi)}catch(t){Ui.dm("Unable to stop broadcast for HbbTV",t),this._Ti.Ky(new y("Unable to stop broadcast for HbbTV"))}return this._Ti.Yy},Nt(i,[{key:"Fx",get:function(){return EA.rL()}},{key:"Vx",get:function(){}},{key:"uq",get:function(){}},{key:"Wu",get:function(){return this.sc}},{key:"kP",get:function(){var t,i;return null!=(i=null==(t=this.aq)?void 0:t.kP)?i:EA.rL()}},{key:"xP",get:function(){return this.Pz}},{key:"_5",get:function(){return!1}},{key:"sP",get:function(){return!1}},{key:"ML",get:function(){return Yu({},FR)}},{key:"lt",get:function(){return this.nq}},{key:"d5",get:function(){return!1}},{key:"Ma",get:function(){return this.ha}},{key:"j7",get:function(){return!0}},{key:"n5",get:function(){return!1}},{key:"WP",get:function(){return!0},set:function(t){}},{key:"Ql",get:function(){return this.Oz}},{key:"nt",get:function(){return this.Y9}},{key:"a9",get:function(){return this.kz}},{key:"Sq",get:function(){return this.ea}}]),i}(th),gtt=function(t){function i(i,n,r){var e;return(e=t.call(this,n,r)||this).wTi=void 0,e.Rz=void 0,e.CTi=void 0,e.RTi=void 0,e.tO=void 0,e.sO=void 0,e.o5=void 0,e.DTi=void 0,e.bTi=void 0,e.yTi=void 0,e.NTi=void 0,e.wTi=i,e.Rz=1,e.tO=new rg,e.sO=new rg,e.o5=Dy.zL,e.DTi=void 0,e.bTi=void 0,e.yTi=function(){if(e.wTi.playState){e.RV=e.o5,e.CTi=e.RTi,e.RTi=e.wTi.playState;var t=e.ct;switch(t!==e.DTi&&(e.So(new vT(t)),e.DTi=t),e.bTi&&e.RTi!==ott.PM&&(Ui.vm(e.bTi),e.bTi=void 0),e.RTi){case ott.KSi:e.o5=Dy.zL;break;case ott.YSi:if(e.CTi===ott.KSi){var i,n,r=null!=(i=null==e.wTi.getComponents?void 0:e.wTi.getComponents.call(e.wTi,1))?i:e.STi(),s=null!=(n=null==e.wTi.getComponents?void 0:e.wTi.getComponents.call(e.wTi,0))?n:e.STi();if(0===r.length&&0===s.length)break;e.kTi(r),e.xTi(s)}e.o5=Dy.Qn;break;case ott.PM:e.Pz&&(e.Pz=!1,e.So(new gT(e.zx))),e.So(new Ly(e.zx)),e.o5=Dy.XL,e.bTi=Ui.fm(e.NTi,250);break;case ott.ma:e.o5=Dy.zL,e.So(new xP(new hg(e.ITi(e.wTi.error))));break;case ott.JSi:e.So(new lT(e.zx));case ott.Yz:case ott.QSi:}e.o5!==e.RV&&e.So(new Py(e.zx,e.o5))}},e.NTi=function(){e.So(new bw(e.zx,void 0))},e}Ct(i,t);var n=i.prototype;return n.Y7=function(i){t.prototype.Y7.call(this,i),i.appendChild(this.wTi)},n.Un=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return i.Km!==Iy.AV?[3,3]:[4,t.prototype.Un.call(n,i)];case 1:return r=e.sent(),[4,this.fTi(i)];case 2:return e.sent(),this.wTi.onPlayStateChange=this.yTi,[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}})}).call(this)},n.fTi=function(i){var n=this;return Vt(function(){return zt(this,function(r){switch(r.label){case 0:return this.wTi.type=zA(i.rC),this.wTi.data=i.rC,[4,t.prototype.fTi.call(n,i)];case 1:return r.sent(),[2]}})}).call(this)},n.QP=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.QP.call(i)];case 1:return n.sent(),this.wTi.play(this.Rz),this.So(new fT(this.zx)),[2]}})}).call(this)},n.jP=function(){this.wTi.play(0),this.So(new cT(this.zx))},n.Oy=function(t,i,n){this.wTi.seek(1e3*t),this.Pz=!0,this.So(new wT(this.zx))},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return void 0!==this.aq&&this.wTi.stop(),this.bTi&&(Ui.vm(this.bTi),this.bTi=void 0),[4,t.prototype.hr.call(i)];case 1:return n.sent(),$i(this.wTi),this.wTi.data&&this.wTi.removeAttribute("data"),this.tO.hr(),this.sO.hr(),[2]}})}).call(this)},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.zg.call(i)];case 1:return n.sent(),Zi(this.wTi),[2]}})}).call(this)},n.be=function(){t.prototype.be.call(this),this.wTi.style.display="block"},n.we=function(){t.prototype.we.call(this),this.wTi.style.display="none"},n.ZSi=function(t){var i=this.ATi(t);if(!i)throw new y("Selected track does not exist on HbbTV");null==this.wTi.selectComponent||this.wTi.selectComponent.call(this.wTi,i)},n.$Si=function(t){var i=this.ATi(t);if(!i)throw new y("Selected track does not exist on HbbTV");null==this.wTi.unselectComponent||this.wTi.unselectComponent.call(this.wTi,i)},n.ATi=function(t){var i,n=null!=(i=null==this.wTi.getComponents?void 0:this.wTi.getComponents.call(this.wTi,t.type))?i:this.STi();return this.TTi(n,t)},n.kTi=function(t){var i,n=null!=(i=null==this.wTi.getCurrentActiveComponents?void 0:this.wTi.getCurrentActiveComponents.call(this.wTi,1))?i:this.STi();this.tO.hr();for(var r=0;r<t.length;r++){var e=t.item(r);this.tO.tt(new htt(e,e.language,this.tO.V?yq.uDt:yq.cDt,this,this.ETi(n,e)))}},n.xTi=function(t){var i,n=null!=(i=null==this.wTi.getCurrentActiveComponents?void 0:this.wTi.getCurrentActiveComponents.call(this.wTi,0))?i:this.STi();this.sO.hr();for(var r=0;r<t.length;r++){var e=t.item(r);this.sO.tt(new htt(e,String(e.aspectRatio),this.sO.V?pq.uDt:pq.cDt,this,this.ETi(n,e)))}},n.STi=function(){return{length:0,item:function(t){}}},n.ETi=function(t,i){return void 0!==this.TTi(t,i)},n.TTi=function(t,i){for(var n=0;n<t.length;n++){var r=t.item(n);if(this.PTi(r,i))return r}},n.PTi=function(t,i){return t.pid===i.pid&&t.componentTag===i.componentTag&&t.type===i.type&&t.encoding===i.encoding&&t.encrypted===i.encrypted},n.ITi=function(t){switch(t){case 0:return og.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return og.NETWORK;default:return og.DECODE}},Nt(i,[{key:"hq",get:function(){}},{key:"ht",get:function(){return this.tO}},{key:"rt",get:function(){return this.sO}},{key:"vP",get:function(){return this.Rz},set:function(t){this.Rz=t,this.lP||this.wTi.play(t)}},{key:"oP",get:function(){return this.wTi.muted},set:function(t){this.wTi.muted=t}},{key:"OP",get:function(){var t,i;return(null!=(i=null!=(t=this.wTi.volume)?t:null==this.wTi.getVolume?void 0:this.wTi.getVolume.call(this.wTi))?i:100)/100},set:function(t){null==this.wTi.setVolume||this.wTi.setVolume.call(this.wTi,100*t)}},{key:"zx",get:function(){return this.wTi.playPosition?this.wTi.playPosition/1e3:0}},{key:"ct",get:function(){return!this.wTi.playTime||this.wTi.playTime<0?1/0:this.wTi.playTime/1e3}},{key:"Qx",get:function(){return this.wTi.playState===ott.JSi}},{key:"Mi",get:function(){return this.wTi.offsetHeight*Ui.Zs.fp}},{key:"Ti",get:function(){return this.wTi.offsetWidth*Ui.Zs.fp}},{key:"lP",get:function(){return this.wTi.playState===ott.Yz}},{key:"pP",get:function(){return EA.rL()}},{key:"AP",get:function(){return this.o5}},{key:"DP",get:function(){return 0}},{key:"MP",get:function(){return 0}}]),i}(wtt);U(),Et(),Wt(),xt(),Pt(),Ft(),Qt();var _tt=function(t){function i(i,n,r){var e;return(e=t.call(this,n,r)||this).pT=void 0,e.tO=void 0,e.sO=void 0,e.e9=void 0,e.p9=void 0,e.jTi=void 0,e.HV=void 0,e.WV=void 0,e.Nc=void 0,e.BTi=void 0,e.As=void 0,e.Ec=void 0,e.MTi=void 0,e.hjt=void 0,e.ejt=void 0,e.LTi=void 0,e.OTi=void 0,e.FTi=void 0,e.UTi=void 0,e.qV=void 0,e.VV=void 0,e.VTi=void 0,e.U8=void 0,e.zTi=void 0,e.GTi=void 0,e.XTi=void 0,e.HTi=void 0,e.WTi=void 0,e.qTi=void 0,e.pT=i,e.tO=new rg,e.sO=new rg,e.jTi=void 0,e.HV=function(){e.So(new fT(e.zx))},e.WV=function(){e.So(new cT(e.zx))},e.Nc=function(){var t=e.zx,i=e.xP,n=void 0!==e.jTi,r=n&&e.jTi!==t;(i||!n||r)&&(e.So(new bw(t,void 0)),e.jTi=t)},e.BTi=function(){e.So(new YR(e.zx))},e.As=function(){e.So(new KR)},e.Ec=function(){e.So(new lT(e.zx))},e.MTi=function(){e.So(new dT(e.zx,e.vP))},e.hjt=function(){e.So(new _T(e.zx,e.OP))},e.ejt=function(){e.So(new vT(e.ct))},e.LTi=function(){},e.OTi=function(){},e.FTi=function(){e.Pz&&(e.Pz=!1),e.So(new gT(e.zx))},e.UTi=function(){e.So(new wT(e.zx))},e.qV=function(t){e.RV!==t.readyState&&(e.RV=t.readyState,e.So(t))},e.VV=function(){e.So(new Ly(e.zx))},e.VTi=function(){if(null!==e.pT.error){var t,i=e.pT.error;e.Qq(new hg(null!=(t=i.code)?t:og.DECODE,i.message||"Error decoding media",void 0,i.msExtendedCode))}},e.U8=function(t){e.So(new vh(t.initDataType,t.initData||new ArrayBuffer(0)))},e.zTi=function(t){var i=e.pT.videoTracks;if(i)for(var n=0;n<i.length;n++){var r=i[n];Mb(e.sO,r)||e.sO.tt(new Cg(r))}},e.GTi=function(t){var i=[],n=e.pT.videoTracks;if(n){for(var r,s=Lt(e.sO.NI);!(r=s()).done;){var u=r.value;Lb(n,u.AO)||i.push(u)}for(var o,h=Lt(i);!(o=h()).done;){var a=o.value;e.sO.it(a)}}},e.XTi=function(t){e.dh(e.sO)},e.HTi=function(t){var i=e.pT.audioTracks;if(i)for(var n=0;n<i.length;n++){var r=i[n];Mb(e.tO,r)||e.tO.tt(new Ig(r))}},e.WTi=function(t){var i=[],n=e.pT.audioTracks;if(n){for(var r,s=Lt(e.tO.NI);!(r=s()).done;){var u=r.value;Lb(n,u.AO)||i.push(u)}for(var o,h=Lt(i);!(o=h()).done;){var a=o.value;e.tO.it(a)}}},e.qTi=function(t){e.dh(e.tO)},e.e9=new wN(e),e.e9.wn(Ry.AI,e.qV),e.e9.H8(new IP(e)),e.p9=new NP(e),e.p9.wn(Ry.PM,e.VV),e.b7(),e.Hq(),e}Ct(i,t);var n=i.prototype;return n.Y7=function(i){t.prototype.Y7.call(this,i),i.appendChild(this.pT)},n.Un=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:return i.Km!==Iy.AV?[3,3]:[4,t.prototype.Un.call(n,i)];case 1:return r=e.sent(),[4,this.fTi(i)];case 2:return e.sent(),[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}})}).call(this)},n.fTi=function(i){var n=this;return Vt(function(){var r;return zt(this,function(e){switch(e.label){case 0:switch(i._q){case aA.lC:case aA.fC:this.pT.setAttribute("crossorigin",i._q);break;case aA.Fk:default:this.pT.removeAttribute("crossorigin")}return void 0!==i.wP?this.pT.preload=i.wP:this.pT.preload=YT.PW,void 0!==i.gq?this.pT.title=i.gq:fn(this.pT),r=this.vP,this.pT.src=i.rC,this.vP=r,[4,t.prototype.fTi.call(n,i)];case 1:return e.sent(),[2]}})}).call(this)},n.QP=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.QP.call(i)];case 1:return n.sent(),[4,this.pT.play()];case 2:return n.sent(),[2]}})}).call(this)},n.jP=function(){this.pT.pause()},n.Oy=function(t,i,n){i&&this.pT.fastSeek&&!Ui.Zs.Dp?this.pT.fastSeek(t):this.pT.currentTime=t,this.Pz=!0,this.So(new wT(this.zx))},n.hr=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.hr.call(i)];case 1:return n.sent(),$i(this.pT),this.pT.src&&this.pT.removeAttribute("src"),this.tO.hr(),this.sO.hr(),[2]}})}).call(this)},n.zg=function(){var i=this;return Vt(function(){return zt(this,function(n){switch(n.label){case 0:return[4,t.prototype.zg.call(i)];case 1:return n.sent(),this.p9.zg(),this.e9.zg(),this.T7(),this.Iq(),Zi(this.pT),[2]}})}).call(this)},n.be=function(){t.prototype.be.call(this),this.pT.style.display="block",this.pT.style.height="100%",this.pT.style.width="100%"},n.we=function(){t.prototype.we.call(this),this.pT.style.display="none"},n.b7=function(){this.hq.addEventListener("play",this.HV),this.hq.addEventListener("pause",this.WV),this.hq.addEventListener("timeupdate",this.Nc),this.hq.addEventListener("progress",this.BTi),this.hq.addEventListener("loadstart",this.As),this.hq.addEventListener("ended",this.Ec),this.hq.addEventListener("ratechange",this.MTi),this.hq.addEventListener("volumechange",this.hjt),this.hq.addEventListener("durationchange",this.ejt),this.hq.addEventListener("loadedmetadata",this.LTi),this.hq.addEventListener("emptied",this.OTi),this.hq.addEventListener("seeked",this.FTi),this.hq.addEventListener("seeking",this.UTi),this.hq.addEventListener("error",this.VTi),Ko()&&this.hq.addEventListener("encrypted",this.U8)},n.T7=function(){this.hq.removeEventListener("play",this.HV),this.hq.removeEventListener("pause",this.WV),this.hq.removeEventListener("timeupdate",this.Nc),this.hq.removeEventListener("progress",this.BTi),this.hq.removeEventListener("loadstart",this.As),this.hq.removeEventListener("ended",this.Ec),this.hq.removeEventListener("ratechange",this.MTi),this.hq.removeEventListener("volumechange",this.hjt),this.hq.removeEventListener("durationchange",this.ejt),this.hq.removeEventListener("loadedmetadata",this.LTi),this.hq.removeEventListener("emptied",this.OTi),this.hq.removeEventListener("seeked",this.FTi),this.hq.removeEventListener("seeking",this.UTi),this.hq.removeEventListener("error",this.VTi),this.hq.removeEventListener("encrypted",this.U8)},n.Qq=function(t){this.nq=t,this.So(new xP(this.nq))},n.Hq=function(){var t=this.pT.audioTracks,i=this.pT.videoTracks;t&&(t.addEventListener("addtrack",this.HTi),t.addEventListener("removetrack",this.WTi),t.addEventListener("change",this.qTi)),i&&(i.addEventListener("addtrack",this.zTi),i.addEventListener("removetrack",this.GTi),i.addEventListener("change",this.XTi))},n.Iq=function(){var t=this.pT.audioTracks,i=this.pT.videoTracks;t&&(t.removeEventListener("addtrack",this.HTi),t.removeEventListener("removetrack",this.WTi),t.removeEventListener("change",this.qTi)),i&&(i.removeEventListener("addtrack",this.zTi),i.removeEventListener("removetrack",this.GTi),i.removeEventListener("change",this.XTi))},n.dh=function(t){for(var i=0;i<t.V;i++){t.MI(i).TO()}},Nt(i,[{key:"hq",get:function(){return this.pT}},{key:"ht",get:function(){return this.tO}},{key:"rt",get:function(){return this.sO}},{key:"vP",get:function(){return this.pT.playbackRate},set:function(t){this.pT.playbackRate=t}},{key:"oP",get:function(){return this.pT.muted},set:function(t){this.pT.muted=t}},{key:"OP",get:function(){return this.pT.volume},set:function(t){this.pT.volume=t}},{key:"zx",get:function(){return this.pT.currentTime}},{key:"ct",get:function(){return this.pT.duration}},{key:"Qx",get:function(){return this.pT.ended}},{key:"Mi",get:function(){return this.pT.offsetHeight*Ui.Zs.fp}},{key:"Ti",get:function(){return this.pT.offsetWidth*Ui.Zs.fp}},{key:"lP",get:function(){return this.pT.paused}},{key:"pP",get:function(){return EA.jn(this.pT.played)}},{key:"AP",get:function(){return this.e9.AP}},{key:"DP",get:function(){return this.pT.videoHeight}},{key:"MP",get:function(){return this.pT.videoWidth}}]),i}(wtt),mtt=[eh.uo,eh.jw,Ry.PM,eh.$w,eh.Zw,eh.Nw,eh.Cw,eh.xw,eh.Ew,eh.py,eh.Qw,eh.Ww,eh.Kw,eh.wy,eh.Jw,eh.Lw,eh.Bw],ytt=function(t){function i(i,n,r,e){var s;return(s=t.call(this)||this).gn=void 0,s.PL=void 0,s.aq=void 0,s.Gl=void 0,s.lq=new Tb,s.Lz=void 0,s.Cq=void 0,s.xq=void 0,s.Aq=void 0,s.Ac=void 0,s.nq=void 0,s.rq=void 0,s.oq=YT.pz,s.Oq=function(t){var i=t.lt,n=i.code,r=new ld(vg(n),"Something went wrong during HbbTV playback.",i),e=cg(r);s.Qq(r,e)},s.gn=new AI(i),s.gn._n(),s.PL=Cr()?new _tt(v.createElement(eg.Mk),s.gn,e):new gtt(v.createElement("object"),s.gn,e),s.PL.Y7(i),s.PL.wn(mtt,s.Rs),s.PL.wn(qm.ma,s.Oq),s.Cq=new Vy(s,s.PL),s.xq=new Uy(s.Cq,!0),s.xq.wn(Cy,s.Rs),s.Aq=new gy(s.PL,n),s.Gl=new Rb([s.PL.nt,s.Aq.Z]),s.Lz=r,s}Ct(i,t);var n=i.prototype;return n.sI=function(t){return this.PL.Tq(t)},n.YP=function(){return!1},n.qP=function(){return this.PL.Ma},n.zP=function(){},n.we=function(){this.PL.we()},n.$P=function(){this.PL.$P()},n.jP=function(){this.PL.jP()},n.QP=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.PL.QP()];case 1:return t.sent(),[2]}})}).call(this)},n.tI=function(){throw new y("Recreate media source is not supported on HbbTV")},n.Xx=function(t,i){this.PL.Oy(t)},n.Ta=function(t,i,n){return Vt(function(){var r,e,s;return zt(this,function(u){switch(u.label){case 0:return dr(n),this.Ac=t,e={Km:Iy.AV,rC:t.src,GT:t.type,fq:this.vq(t),wP:this.oq,_q:t.crossOrigin,gq:null==(r=i.metadata)?void 0:r.title},s=this,[4,this.PL.Un(e)];case 1:return s.aq=u.sent(),i.textTracks&&this.mq(i.textTracks),Sy(this.nt),[2]}})}).call(this)},n.IP=function(t,i,n,r){return ut.resolve()},n.CP=function(){return ut.resolve()},n.be=function(){this.PL.be()},n.JP=function(){},n.ZP=function(){},n.Aa=function(){return this.PL.Sq},n.hr=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return this.Ac=void 0,this.nq=void 0,this.rq=void 0,this.aq=void 0,[4,this.Aq.hr()];case 1:return t.sent(),this.PL.Eq(),[4,this.PL.hr()];case 2:return t.sent(),[2]}})}).call(this)},n.kn=function(){return Vt(function(){return zt(this,function(t){switch(t.label){case 0:return[4,this.hr()];case 1:return t.sent(),this.xq.kn(),this.Cq.zg(),this.PL.mn(mtt,this.Rs),this.PL.mn(qm.ma,this.Oq),[4,this.PL.zg()];case 2:return t.sent(),this.gn.kn(),this.Gl.kn(),[4,this.Aq.kn()];case 3:return t.sent(),[2]}})}).call(this)},n.Qq=function(t,i){this.nq||(this.nq=i,this.rq=t,this.So(new yb(t)))},n.mq=function(t){for(var i,n=Lt(t);!(i=n()).done;){var r=i.value;void 0!==r.src&&this.Aq.hV(r)}},n.vq=function(t){if(!t.contentProtection)return[];var i=[];return t.contentProtection.widevine&&i.push({xS:Ro,FW:t.contentProtection.widevine.licenseAcquisitionURL,Vq:[]}),t.contentProtection.playready&&i.push({xS:Io,FW:t.contentProtection.playready.licenseAcquisitionURL,Vq:[]}),this.QTi(i,t.contentProtection.preferredKeySystems)},n.QTi=function(t,i){if(void 0===i||0===i.length)return t;var n=function(t){var n=i.indexOf(t.xS.$m);return n>=0?n:i.length};return mn(t,function(t,i){return n(t)-n(i)})},Nt(i,[{key:"ht",get:function(){return this.PL.ht}},{key:"Fx",get:function(){return this.PL.Fx._s()}},{key:"OL",get:function(){}},{key:"Vx",get:function(){return this.PL.Vx},set:function(t){t&&this.PL.$W(t)}},{key:"bt",get:function(){return this.Ac}},{key:"zx",get:function(){return this.PL.zx},set:function(t){this.PL.Oy(t)}},{key:"dq",get:function(){return this.lq}},{key:"ct",get:function(){return this.PL.ct}},{key:"Qx",get:function(){return this.PL.Qx}},{key:"Jx",get:function(){return this.rq}},{key:"lt",get:function(){return this.nq}},{key:"$x",get:function(){}},{key:"iP",get:function(){}},{key:"sP",get:function(){return!1}},{key:"WP",get:function(){return this.PL.WP},set:function(t){this.PL.WP=t}},{key:"VP",get:function(){return this.Lz}},{key:"rP",get:function(){return Yu({},{rO:0,hO:0,oO:0,aO:0,uO:0,cO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.PL.hP())}},{key:"oP",get:function(){return this.PL.oP},set:function(t){this.PL.oP=t}},{key:"cP",get:function(){return!0}},{key:"lP",get:function(){return this.PL.lP}},{key:"vP",get:function(){return this.PL.vP},set:function(t){this.PL.vP=t}},{key:"pP",get:function(){return this.PL.pP._s()}},{key:"wP",get:function(){return this.oq},set:function(t){this.oq=t,this.aq&&(this.aq.wP=t)}},{key:"AP",get:function(){return this.PL.AP}},{key:"kP",get:function(){return this.PL.kP._s()}},{key:"xP",get:function(){return this.PL.xP}},{key:"uq",get:function(){return this.PL.uq}},{key:"nt",get:function(){return this.Gl}},{key:"DP",get:function(){return this.PL.DP}},{key:"rt",get:function(){return this.PL.rt}},{key:"MP",get:function(){return this.PL.MP}},{key:"OP",get:function(){return this.PL.OP},set:function(t){this.PL.OP=t}}]),i}(th),ptt=function(){function t(){this.tz=Ab.mW}var i=t.prototype;return i.DC=function(t,i,n,r,e,s,u,o){return new ytt(t,n,s,u)},i.Jq=function(t,i){var n;return!(!Bi.k_||t.type!==cA.pC&&!qA(t.type)&&!GA(t.type))&&!(Cr()&&!(null==(n=t.contentProtection)?void 0:n.useOipfDrmAgent)&&(!t.contentProtection||Ko()))},i.Zq=function(t){return Vt(function(){return zt(this,function(i){switch(i.label){case 0:return[4,Np(t,!0)];case 1:return i.sent()?[2,!0]:[2,!1]}})})()},i.$q=function(){return!1},t}();return GT(new ptt),U(),Et(),c.exports});
//# sourceMappingURL=THEOplayer.chromeless.js.map
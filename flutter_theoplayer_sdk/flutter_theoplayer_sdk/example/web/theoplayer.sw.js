/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com



 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 8.14.0
 Created: 2025-03-26T14:31:55.252Z
 */
!function(t){"use strict";var n,i,e,r,o,u,s,f,h,c=t.window,a=t.document,v=(t.location,t.navigator),d=t.setTimeout,l=t.clearTimeout,w=t.setInterval,b=t.clearInterval,g=t.Error,m=t.TypeError,p=(t.SyntaxError,t.Object),y=t.Math,_=t.parseInt,S=t.parseFloat,T=t.isNaN,E=t.Uint8Array,I=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),k=p.create,R=p.defineProperty,O=p.getOwnPropertyDescriptor,N=p.getOwnPropertyNames,P=p.getPrototypeOf,A=p.prototype.hasOwnProperty,D=function(t,n){return function(){return t&&(n=t(t=0)),n}},C=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},x=D((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(u=Symbol.for)?u:Symbol,e=Symbol.iterator,r=null!=(s=Symbol.dispose)?s:i("Symbol.dispose"),o=null!=(f=Symbol.asyncDispose)?f:i("Symbol.asyncDispose")):(h=0,n=function(t){return"ul"+t+"_"+ ++h},e=(i=function(t){return"ul"+t})("Symbol.iterator"),r=i("Symbol.dispose"),o=i("Symbol.asyncDispose"),n.for=i,n.iterator=e,n.dispose=r,n.asyncDispose=o)}));function B(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var M,L,U,F,z,W,H,V,q,X,j,Y,K,G,$,Z,J,Q,tt,nt=D((function(){x(),gt()}));function it(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function et(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new m((void 0===t?"undefined":B(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function o(t,i){if(i&&("object"===(void 0===i?"undefined":B(i))||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,(function(n){o(t,n)}),(function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)}))}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)o(u,e[u])}))}function rt(t){return Boolean(t&&void 0!==t.length)}function ot(){}function ut(t){if(!(this instanceof ut))throw new m("Promises must be constructed via new");if("function"!=typeof t)throw new m("not a function");this.Ea=0,this.ttn=!1,this.JSt=void 0,this.ntn=[],vt(t,this)}function st(t,n){for(;3===t.Ea;)t=t.JSt;0!==t.Ea?(t.ttn=!0,ut.itn((function(){var i=1===t.Ea?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.JSt)}catch(t){return void ht(n.promise,t)}ft(n.promise,e)}else(1===t.Ea?ft:ht)(n.promise,t.JSt)}))):t.ntn.push(n)}function ft(t,n){try{if(n===t)throw new m("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":B(n))||"function"==typeof n)){var i=n.then;if(n instanceof ut)return t.Ea=3,t.JSt=n,void ct(t);if("function"==typeof i)return void vt(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Ea=1,t.JSt=n,ct(t)}catch(n){ht(t,n)}}function ht(t,n){t.Ea=2,t.JSt=n,ct(t)}function ct(t){2===t.Ea&&0===t.ntn.length&&ut.itn((function(){t.ttn||ut.rtn(t.JSt)}));for(var n=0,i=t.ntn.length;n<i;n++)st(t,t.ntn[n]);t.ntn=null}function at(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function vt(t,n){var i=!1;try{t((function(t){i||(i=!0,ft(n,t))}),(function(t){i||(i=!0,ht(n,t))}))}catch(t){if(i)return;i=!0,ht(n,t)}}function dt(t){return new Y(j,{reason:t,promise:L.reject(t).catch((function(){})),cancelable:!0})}function lt(t){var n=new K(j,{detail:{reason:t},cancelable:!0});return p.defineProperty(n,"reason",{value:t}),n}function wt(t){var n=a.createEvent("CustomEvent");return n.initCustomEvent(j,!1,!0,{reason:t}),n}var bt=D((function(){var t,n,i,e;x(),gt(),nt(),M=d,ut.prototype.catch=function(t){return this.then(null,t)},ut.prototype.then=function(t,n){var i=new this.constructor(ot);return st(this,new at(t,n,i)),i},ut.prototype.finally=it,ut.all=function(t){return new ut((function(n,i){if(!rt(t))return i(new m("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function o(t,u){try{if(u&&("object"===(void 0===u?"undefined":B(u))||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,(function(n){o(t,n)}),i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)o(u,e[u])}))},ut.allSettled=et,ut.resolve=function(t){return t&&"object"===(void 0===t?"undefined":B(t))&&t.constructor===ut?t:new ut((function(n){n(t)}))},ut.reject=function(t){return new ut((function(n,i){i(t)}))},ut.race=function(t){return new ut((function(n,i){if(!rt(t))return i(new m("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)ut.resolve(t[e]).then(n,i)}))},ut.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){M(t,0)},ut.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},L=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),U=v?v.userAgent:"",F=U.match(/Firefox\/([0-9]+)/i),z=null!=F,W=F?Number(F[1]):0,H=U.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),V=null!=H,q=H?Number(H[3]):0,X=function(){function t(t){this._M=0,this.Ug=0,this.Xp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Ug+n&this.etn-1;this.Xp[i]=t,this._M=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Ug+n-1,e=this.etn-1;this.Xp[i&e]=t,this._M=n}},t.prototype.shift=function(){var t=this.Ug,n=this.Xp[t];return this.Xp[t]=void 0,this.Ug=t+1&this.etn-1,this._M--,n},t.prototype.length=function(){return this._M},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Ug+this._M&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Xp,0,n,i)},t}(),j="unhandledrejection",Y=self.PromiseRejectionEvent,K=self.CustomEvent,G=function(t){return G=function(){try{var t=L.resolve(),n="error",i=new Y(j,{reason:n,promise:t});return j===i.type&&n===i.reason}catch(t){}return!1}()?dt:function(){try{var t="error",n=new K(j,{detail:{reason:t}});return j===n.type&&t===n.detail.reason}catch(t){}return!1}()?lt:wt,G(t)},Z=z&&W<60||V&&q<15,L&&!Z?(J=L,function(){}):(J=ut,Q=null!==($=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=L;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==$?$:ut.itn,t=Q,n=new X(16),i=!1,(tt={I9:function(r){n.push(r),i||(i=!0,t(e))},DX:e=function(){for(;n.length()>0;)n.shift()();i=!1}}).DX,ut.itn=tt.I9,ut.rtn=function(t){try{var n=G(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}d((function(){throw new g("Unhandled promise rejection: ".concat(t))}),0)})})),gt=D((function(){bt()})),mt=C((function(t,i){var r,o;x(),gt(),nt(),r=t,o=function(t){var i="function"==typeof n&&"symbol"===B(e)?n:function(t){return"Symbol("+t+")"};function r(){}var o=Number.isNaN||function(t){return t!=t},u=r;function s(t){return"object"===(void 0===t?"undefined":B(t))&&null!==t||"function"==typeof t}function f(t){return t.slice()}function h(t,n,i,e,r){new E(t).set(new E(i,e,r),n)}function c(t){return!1!==function(t){return"number"==typeof t&&(!o(t)&&!(t<0))}(t)&&t!==1/0}function a(t,n,i){if("function"!=typeof t)throw new m("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new m(r+" is not a method");switch(i){case 0:return function(){return l(r,t,e)};case 1:return function(n){var i=[n].concat(e);return l(r,t,i)}}}return function(){return R(void 0)}}function d(t,n,i){var e=t[n];if(void 0!==e)return a(e,t,i)}function l(t,n,i){try{return R(a(t,n,i))}catch(t){return O(t)}}function w(t){if(t=Number(t),o(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function b(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new m("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _=J,S=J.prototype.then,T=J.resolve.bind(_),I=J.reject.bind(_);function k(t){return new _(t)}function R(t){return T(t)}function O(t){return I(t)}function N(t,n,i){return S.call(t,n,i)}function P(t,n,i){N(N(t,n,i),void 0,u)}function A(t,n){P(t,n)}function D(t,n){P(t,void 0,n)}function C(t,n,i){return N(t,n,i)}function x(t){N(t,void 0,u)}var M=function(){function t(){this.zg=0,this.Bg=0,this.Ug={Qg:[],Fg:void 0},this.Yg=this.Ug,this.zg=0,this.Bg=0}return p.defineProperty(t.prototype,"length",{get:function(){return this.Bg},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Yg,i=n;16383===n.Qg.length&&(i={Qg:[],Fg:void 0}),n.Qg.push(t),i!==n&&(this.Yg=i,n.Fg=i),++this.Bg},t.prototype.shift=function(){var t=this.Ug,n=t,i=this.zg,e=i+1,r=t.Qg,o=r[i];return 16384===e&&(n=t.Fg,e=0),--this.Bg,this.zg=e,t!==n&&(this.Ug=n),r[i]=void 0,o},t.prototype.forEach=function(t){for(var n=this.zg,i=this.Ug,e=i.Qg;!(n===e.length&&void 0===i.Fg||n===e.length&&(n=0,0===(e=(i=i.Fg).Qg).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ug,n=this.zg;return t.Qg[n]},t}();function L(t,n,i){var e=null;!0===i&&(e=p.prototype);var r=p.create(e);return r.value=t,r.done=n,r}function U(t,n){t.Vg=!0,t.Gg=n,n.Wg=t,"readable"===n.Ea?H(t):"closed"===n.Ea?function(t){H(t),X(t)}(t):V(t,n.Zg)}function F(t,n){return Zn(t.Gg,n)}function z(t){"readable"===t.Gg.Ea?q(t,new m("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){V(t,n)}(t,new m("Reader was released and can no longer be used to monitor the stream's closedness")),t.Gg.Wg=void 0,t.Gg=void 0}function W(t){return new m("Cannot "+t+" a stream using a released reader")}function H(t){t.Hg=k((function(n,i){t.Xg=n,t.qg=i}))}function V(t,n){H(t),q(t,n)}function q(t,n){x(t.Hg),t.qg(n),t.Xg=void 0,t.qg=void 0}function X(t){t.Xg(void 0),t.Xg=void 0,t.qg=void 0}var j=i("[[CancelSteps]]"),Y=i("[[PullSteps]]");function K(t,n){void 0===n&&(n=!1);var i=new it(t);return i.Vg=n,i}function G(t){return k((function(n,i){var e={Kg:n,Jg:i};t.Wg.$g.push(e)}))}function $(t,n,i){var e=t.Wg;e.$g.shift().Kg(L(n,i,e.Vg))}function Z(t){return t.Wg.$g.length}function Q(t){var n=t.Wg;return void 0!==n&&!!et(n)}var tt,nt,it=function(){function t(t){if(!1===Gn(t))throw new m("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===$n(t))throw new m("This stream has already been locked for exclusive reading by another reader");U(this,t),this.$g=new M}return p.defineProperty(t.prototype,"closed",{get:function(){return et(this)?this.Hg:O(ot("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return et(this)?void 0===this.Gg?O(W("cancel")):F(this,t):O(ot("cancel"))},t.prototype.read=function(){return et(this)?void 0===this.Gg?O(W("read from")):rt(this):O(ot("read"))},t.prototype.releaseLock=function(){if(!et(this))throw ot("releaseLock");if(void 0!==this.Gg){if(this.$g.length>0)throw new m("Tried to release a reader lock when that reader has pending read() calls un-settled");z(this)}},t}();function et(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"$g")}function rt(t){var n=t.Gg;return n.t_=!0,"closed"===n.Ea?R(L(void 0,!0,t.Vg)):"errored"===n.Ea?O(n.Zg):n.i_[Y]()}function ot(t){return new m("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===B(i.asyncIterator)&&((tt={})[i.asyncIterator]=function(){return this},nt=tt,p.defineProperty(nt,i.asyncIterator,{enumerable:!1}));var ut={next:function(){if(!1===st(this))return O(ft("next"));var t=this.e_;return void 0===t.Gg?O(W("iterate")):C(rt(t),(function(n){var i=n.done;return i&&z(t),L(n.value,i,!0)}))},return:function(t){if(!1===st(this))return O(ft("next"));var n=this.e_;if(void 0===n.Gg)return O(W("finish iterating"));if(n.$g.length>0)return O(new m("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.s_){var i=F(n,t);return z(n),C(i,(function(){return L(t,!0,!0)}))}return z(n),R(L(t,!0,!0))}};function st(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"e_")}function ft(t){return new m("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ht(t){var n=t.n_.shift();return t.r_-=n.size,t.r_<0&&(t.r_=0),n.value}function ct(t,n,i){if(!c(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.n_.push({value:n,size:i}),t.r_+=i}function at(t){t.n_=new M,t.r_=0}void 0!==nt&&p.setPrototypeOf(ut,nt),p.defineProperty(ut,"next",{enumerable:!1}),p.defineProperty(ut,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),dt=i("[[ErrorSteps]]"),lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),bt(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=b(i);void 0===e&&(e=1),function(t,n,i,e){var r=p.create(xt.prototype);function o(){return d(n,"start",[r])}var u=v(n,"write",1,[r]),s=v(n,"close",0,[]),f=v(n,"abort",1,[]);Bt(t,r,o,u,s,f,i,e)}(this,t,e=w(e),r)}return p.defineProperty(t.prototype,"locked",{get:function(){if(!1===gt(this))throw Ht("locked");return mt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===gt(this)?O(Ht("abort")):!0===mt(this)?O(new m("Cannot abort a stream that already has a writer")):pt(this,t)},t.prototype.close=function(){return!1===gt(this)?O(Ht("close")):!0===mt(this)?O(new m("Cannot close a stream that already has a writer")):!0===Et(this)?O(new m("Cannot close an already-closing stream")):yt(this)},t.prototype.getWriter=function(){if(!1===gt(this))throw Ht("getWriter");return wt(this)},t}();function wt(t){return new Rt(t)}function bt(t){t.Ea="writable",t.Zg=void 0,t.o_=void 0,t.h_=void 0,t.a_=new M,t.u_=void 0,t.c_=void 0,t.l_=void 0,t.d_=void 0,t.f_=!1}function gt(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"h_")}function mt(t){return void 0!==t.o_}function pt(t,n){var i=t.Ea;if("closed"===i||"errored"===i)return R(void 0);if(void 0!==t.d_)return t.d_.g_;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=k((function(i,r){t.d_={g_:void 0,Kg:i,Jg:r,__:n,v_:e}}));return t.d_.g_=r,!1===e&&St(t,n),r}function yt(t){var n=t.Ea;if("closed"===n||"errored"===n)return O(new m("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=k((function(n,i){var e={Kg:n,Jg:i};t.c_=e})),e=t.o_;return void 0!==e&&!0===t.f_&&"writable"===n&&Qt(e),function(t){ct(t,"close",0),Ut(t)}(t.h_),i}function _t(t,n){"writable"!==t.Ea?Tt(t):St(t,n)}function St(t,n){var i=t.h_;t.Ea="erroring",t.Zg=n;var e=t.o_;void 0!==e&&At(e,n),!1===function(t){return void 0!==t.u_||void 0!==t.l_}(t)&&!0===i.w_&&Tt(t)}function Tt(t){t.Ea="errored",t.h_[dt]();var n=t.Zg;if(t.a_.forEach((function(t){t.Jg(n)})),t.a_=new M,void 0!==t.d_){var i=t.d_;if(t.d_=void 0,!0===i.v_)return i.Jg(n),void It(t);P(t.h_[vt](i.__),(function(){i.Kg(),It(t)}),(function(n){i.Jg(n),It(t)}))}else It(t)}function Et(t){return void 0!==t.c_||void 0!==t.l_}function It(t){void 0!==t.c_&&(t.c_.Jg(t.Zg),t.c_=void 0);var n=t.o_;void 0!==n&&Yt(n,t.Zg)}function kt(t,n){var i=t.o_;void 0!==i&&n!==t.f_&&(!0===n?function(t){Gt(t)}(i):Qt(i)),t.f_=n}var Rt=function(){function t(t){if(!1===gt(t))throw new m("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===mt(t))throw new m("This stream has already been locked for exclusive writing by another writer");this.m_=t,t.o_=this;var n=t.Ea;if("writable"===n)!1===Et(t)&&!0===t.f_?Gt(this):Zt(this),Xt(this);else if("erroring"===n)$t(this,t.Zg),Xt(this);else if("closed"===n)Zt(this),function(t){Xt(t),Kt(t)}(this);else{var i=t.Zg;$t(this,i),jt(this,i)}}return p.defineProperty(t.prototype,"closed",{get:function(){return!1===Ot(this)?O(Vt("closed")):this.Hg},enumerable:!0,configurable:!0}),p.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ot(this))throw Vt("desiredSize");if(void 0===this.m_)throw qt("desiredSize");return function(t){var n=t.m_,i=n.Ea;return"errored"===i||"erroring"===i?null:"closed"===i?0:Lt(n.h_)}(this)},enumerable:!0,configurable:!0}),p.defineProperty(t.prototype,"ready",{get:function(){return!1===Ot(this)?O(Vt("ready")):this.p_},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ot(this)?O(Vt("abort")):void 0===this.m_?O(qt("abort")):function(t,n){var i=t.m_;return pt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Ot(this))return O(Vt("close"));var t=this.m_;return void 0===t?O(qt("close")):!0===Et(t)?O(new m("Cannot close an already-closing stream")):Nt(this)},t.prototype.releaseLock=function(){if(!1===Ot(this))throw Vt("releaseLock");void 0!==this.m_&&Dt(this)},t.prototype.write=function(t){return!1===Ot(this)?O(Vt("write")):void 0===this.m_?O(qt("write to")):Ct(this,t)},t}();function Ot(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"m_")}function Nt(t){return yt(t.m_)}function Pt(t,n){"pending"===t.A_?Yt(t,n):function(t,n){jt(t,n)}(t,n)}function At(t,n){"pending"===t.y_?Jt(t,n):function(t,n){$t(t,n)}(t,n)}function Dt(t){var n=t.m_,i=new m("Writer was released and can no longer be used to monitor the stream's closedness");At(t,i),Pt(t,i),n.o_=void 0,t.m_=void 0}function Ct(t,n){var i=t.m_,e=i.h_,r=function(t,n){try{return t.b_(n)}catch(n){return Ft(t,n),1}}(e,n);if(i!==t.m_)return O(qt("write to"));var o=i.Ea;if("errored"===o)return O(i.Zg);if(!0===Et(i)||"closed"===o)return O(new m("The stream is closing or closed and cannot be written to"));if("erroring"===o)return O(i.Zg);var u=function(t){return k((function(n,i){var e={Kg:n,Jg:i};t.a_.push(e)}))}(i);return function(t,n,i){var e={chunk:n};try{ct(t,e,i)}catch(n){return void Ft(t,n)}var r=t.M_;!1===Et(r)&&"writable"===r.Ea&&kt(r,zt(t)),Ut(t)}(e,n,r),u}var xt=function(){function t(){throw new m("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"M_")}(this))throw new m("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.M_.Ea&&Wt(this,t)},t.prototype[vt]=function(t){var n=this.T_(t);return Mt(this),n},t.prototype[dt]=function(){at(this)},t}();function Bt(t,n,i,e,r,o,u,s){n.M_=t,t.h_=n,n.n_=void 0,n.r_=void 0,at(n),n.w_=!1,n.b_=s,n.S_=u,n.N_=e,n.I_=r,n.T_=o;var f=zt(n);kt(t,f),P(R(i()),(function(){n.w_=!0,Ut(n)}),(function(i){n.w_=!0,_t(t,i)}))}function Mt(t){t.N_=void 0,t.I_=void 0,t.T_=void 0,t.b_=void 0}function Lt(t){return t.S_-t.r_}function Ut(t){var n=t.M_;if(!1!==t.w_&&void 0===n.u_)if("erroring"!==n.Ea){if(0!==t.n_.length){var i=function(t){return t.n_.peek().value}(t);"close"===i?function(t){var n=t.M_;(function(t){t.l_=t.c_,t.c_=void 0})(n),ht(t);var i=t.I_();Mt(t),P(i,(function(){!function(t){t.l_.Kg(void 0),t.l_=void 0,"erroring"===t.Ea&&(t.Zg=void 0,void 0!==t.d_&&(t.d_.Kg(),t.d_=void 0)),t.Ea="closed";var n=t.o_;void 0!==n&&Kt(n)}(n)}),(function(t){!function(t,n){t.l_.Jg(n),t.l_=void 0,void 0!==t.d_&&(t.d_.Jg(n),t.d_=void 0),_t(t,n)}(n,t)}))}(t):function(t,n){var i=t.M_;!function(t){t.u_=t.a_.shift()}(i);var e=t.N_(n);P(e,(function(){!function(t){t.u_.Kg(void 0),t.u_=void 0}(i);var n=i.Ea;if(ht(t),!1===Et(i)&&"writable"===n){var e=zt(t);kt(i,e)}Ut(t)}),(function(n){"writable"===i.Ea&&Mt(t),function(t,n){t.u_.Jg(n),t.u_=void 0,_t(t,n)}(i,n)}))}(t,i.chunk)}}else Tt(n)}function Ft(t,n){"writable"===t.M_.Ea&&Wt(t,n)}function zt(t){return Lt(t)<=0}function Wt(t,n){var i=t.M_;Mt(t),St(i,n)}function Ht(t){return new m("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Vt(t){return new m("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function qt(t){return new m("Cannot "+t+" a stream using a released writer")}function Xt(t){t.Hg=k((function(n,i){t.Xg=n,t.qg=i,t.A_="pending"}))}function jt(t,n){Xt(t),Yt(t,n)}function Yt(t,n){x(t.Hg),t.qg(n),t.Xg=void 0,t.qg=void 0,t.A_="rejected"}function Kt(t){t.Xg(void 0),t.Xg=void 0,t.qg=void 0,t.A_="resolved"}function Gt(t){t.p_=k((function(n,i){t.D_=n,t.E_=i})),t.y_="pending"}function $t(t,n){Gt(t),Jt(t,n)}function Zt(t){Gt(t),Qt(t)}function Jt(t,n){x(t.p_),t.E_(n),t.D_=void 0,t.E_=void 0,t.y_="rejected"}function Qt(t){t.D_(void 0),t.D_=void 0,t.E_=void 0,t.y_="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":B(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,en="undefined"!=typeof DOMException?DOMException:void 0,rn=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":B(t)))return!1;try{return new t,!0}catch(t){return!1}}(en)?en:((nn=function(t,n){this.message=t||"",this.name=n||"Error",g.captureStackTrace&&g.captureStackTrace(this,this.constructor)}).prototype=p.create(g.prototype),p.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function on(t,n,i,e,o,u){var s=K(t),f=wt(n);t.t_=!0;var h=!1,c=R(void 0);return k((function(a,v){var d,l,w,b;if(void 0!==u){if(d=function(){var i=new rn("Aborted","AbortError"),r=[];!1===e&&r.push((function(){return"writable"===n.Ea?pt(n,i):R(void 0)})),!1===o&&r.push((function(){return"readable"===t.Ea?Zn(t,i):R(void 0)})),_((function(){return J.all(r.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(y(t,s.Hg,(function(t){!1===e?_((function(){return pt(n,t)}),!0,t):S(!0,t)})),y(n,f.Hg,(function(n){!1===o?_((function(){return Zn(t,n)}),!0,n):S(!0,n)})),l=t,w=s.Hg,b=function(){!1===i?_((function(){return function(t){var n=t.m_,i=n.Ea;return!0===Et(n)||"closed"===i?R(void 0):"errored"===i?O(n.Zg):Nt(t)}(f)})):S()},"closed"===l.Ea?b():A(w,b),!0===Et(n)||"closed"===n.Ea){var g=new m("the destination writable stream closed before all data could be piped to it");!1===o?_((function(){return Zn(t,g)}),!0,g):S(!0,g)}function p(){var t=c;return N(c,(function(){return t!==c?p():void 0}))}function y(t,n,i){"errored"===t.Ea?i(t.Zg):D(n,i)}function _(t,i,e){function r(){P(t(),(function(){return T(i,e)}),(function(t){return T(!0,t)}))}!0!==h&&(h=!0,"writable"===n.Ea&&!1===Et(n)?A(p(),r):r())}function S(t,i){!0!==h&&(h=!0,"writable"===n.Ea&&!1===Et(n)?A(p(),(function(){return T(t,i)})):T(t,i))}function T(t,n){Dt(f),z(s),void 0!==u&&u.removeEventListener("abort",d),t?v(n):a(void 0)}x(k((function(t,n){!function i(e){e?t():N(!0===h?R(!0):N(f.p_,(function(){return N(rt(s),(function(t){return!0===t.done||(c=N(Ct(f,t.value),void 0,r),!1)}))})),i,n)}(!1)})))}))}var un=function(){function t(){throw new m}return p.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===sn(this))throw gn("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===sn(this))throw gn("close");if(!1===wn(this))throw new m("The stream is not in a state that permits close");an(this)},t.prototype.enqueue=function(t){if(!1===sn(this))throw gn("enqueue");if(!1===wn(this))throw new m("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===sn(this))throw gn("error");dn(this,t)},t.prototype[j]=function(t){at(this);var n=this.k_(t);return cn(this),n},t.prototype[Y]=function(){var t=this.L_;if(this.n_.length>0){var n=ht(this);return!0===this.x_&&0===this.n_.length?(cn(this),Jn(t)):fn(this),R(L(n,!1,t.Wg.Vg))}var i=G(t);return fn(this),i},t}();function sn(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"L_")}function fn(t){!1!==hn(t)&&(!0!==t.C_?(t.C_=!0,P(t.j_(),(function(){t.C_=!1,!0===t.O_&&(t.O_=!1,fn(t))}),(function(n){dn(t,n)}))):t.O_=!0)}function hn(t){var n=t.L_;return!1!==wn(t)&&!1!==t.w_&&(!0===$n(n)&&Z(n)>0||ln(t)>0)}function cn(t){t.j_=void 0,t.k_=void 0,t.b_=void 0}function an(t){var n=t.L_;t.x_=!0,0===t.n_.length&&(cn(t),Jn(n))}function vn(t,n){var i=t.L_;if(!0===$n(i)&&Z(i)>0)$(i,n,!1);else{var e=void 0;try{e=t.b_(n)}catch(n){throw dn(t,n),n}try{ct(t,n,e)}catch(n){throw dn(t,n),n}}fn(t)}function dn(t,n){var i=t.L_;"readable"===i.Ea&&(at(t),cn(t),Qn(i,n))}function ln(t){var n=t.L_.Ea;return"errored"===n?null:"closed"===n?0:t.S_-t.r_}function wn(t){var n=t.L_.Ea;return!1===t.x_&&"readable"===n}function bn(t,n,i,e,r,o,u){n.L_=t,n.n_=void 0,n.r_=void 0,at(n),n.w_=!1,n.x_=!1,n.O_=!1,n.C_=!1,n.b_=u,n.S_=o,n.j_=e,n.k_=r,t.i_=n,P(R(i()),(function(){n.w_=!0,fn(n)}),(function(t){dn(n,t)}))}function gn(t){return new m("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var mn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&y.floor(t)===t},pn=function(){function t(){throw new m("ReadableStreamBYOBRequest cannot be used directly")}return p.defineProperty(t.prototype,"view",{get:function(){if(!1===Sn(this))throw Un("view");return this.R_},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Sn(this))throw Un("respond");if(void 0===this.P_)throw new m("This BYOB request has been invalidated");this.R_.buffer,function(t,n){if(!1===c(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Dn(t,n)}(this.P_,t)},t.prototype.respondWithNewView=function(t){if(!1===Sn(this))throw Un("respond");if(void 0===this.P_)throw new m("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new m("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.z_.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Dn(t,n.byteLength)}(this.P_,t)},t}(),yn=function(){function t(){throw new m("ReadableByteStreamController constructor cannot be used directly")}return p.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===_n(this))throw Fn("byobRequest");if(void 0===this.B_&&this.z_.length>0){var t=this.z_.peek(),n=new E(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=p.create(pn.prototype);!function(t,n,i){t.P_=n,t.R_=i}(i,this,n),this.B_=i}return this.B_},enumerable:!0,configurable:!0}),p.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_n(this))throw Fn("desiredSize");return Mn(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_n(this))throw Fn("close");if(!0===this.x_)throw new m("The stream has already been closed; do not close it again!");var t=this.U_.Ea;if("readable"!==t)throw new m("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.U_;if(t.r_>0)t.x_=!0;else{if(t.z_.length>0&&t.z_.peek().bytesFilled>0){var i=new m("Insufficient bytes to fill elements in the given buffer");throw Bn(t,i),i}xn(t),Jn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===_n(this))throw Fn("enqueue");if(!0===this.x_)throw new m("stream is closed or draining");var n=this.U_.Ea;if("readable"!==n)throw new m("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new m("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.U_,e=n.buffer,r=n.byteOffset,o=n.byteLength,u=e;!0===Q(i)?0===Z(i)?kn(t,u,r,o):$(i,new E(u,r,o),!1):!0===Hn(i)?(kn(t,u,r,o),An(t)):kn(t,u,r,o),Tn(t)}(this,t)},t.prototype.error=function(t){if(!1===_n(this))throw Fn("error");Bn(this,t)},t.prototype[j]=function(t){this.z_.length>0&&(this.z_.peek().bytesFilled=0),at(this);var n=this.k_(t);return xn(this),n},t.prototype[Y]=function(){var t=this.U_;if(this.r_>0){var n=this.n_.shift();this.r_-=n.byteLength,Nn(this);var i=void 0;try{i=new E(n.buffer,n.byteOffset,n.byteLength)}catch(t){return O(t)}return R(L(i,!1,t.Wg.Vg))}var e=this.Q_;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return O(t)}var o={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:E,readerType:"default"};this.z_.push(o)}var u=G(t);return Tn(this),u},t}();function _n(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"U_")}function Sn(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"P_")}function Tn(t){var n=function(t){var n=t.U_;if("readable"!==n.Ea)return!1;if(!0===t.x_)return!1;if(!1===t.w_)return!1;if(!0===Q(n)&&Z(n)>0)return!0;if(!0===Hn(n)&&Wn(n)>0)return!0;var i=Mn(t);return i>0}(t);!1!==n&&(!0!==t.C_?(t.C_=!0,P(t.j_(),(function(){t.C_=!1,!0===t.O_&&(t.O_=!1,Tn(t))}),(function(n){Bn(t,n)}))):t.O_=!0)}function En(t,n){var i=!1;"closed"===t.Ea&&(i=!0);var e=In(n);"default"===n.readerType?$(t,e,i):function(t,n,i){var e=t.Wg,r=e.F_.shift();r.Kg(L(n,i,e.Vg))}(t,e,i)}function In(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function kn(t,n,i,e){t.n_.push({buffer:n,byteOffset:i,byteLength:e}),t.r_+=e}function Rn(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=y.min(t.r_,n.byteLength-n.bytesFilled),o=n.bytesFilled+r,u=o-o%i,s=r,f=!1;u>e&&(s=u-n.bytesFilled,f=!0);for(var c=t.n_;s>0;){var a=c.peek(),v=y.min(s,a.byteLength),d=n.byteOffset+n.bytesFilled;h(n.buffer,d,a.buffer,a.byteOffset,v),a.byteLength===v?c.shift():(a.byteOffset+=v,a.byteLength-=v),t.r_-=v,On(t,v,n),s-=v}return f}function On(t,n,i){Pn(t),i.bytesFilled+=n}function Nn(t){0===t.r_&&!0===t.x_?(xn(t),Jn(t.U_)):Tn(t)}function Pn(t){void 0!==t.B_&&(t.B_.P_=void 0,t.B_.R_=void 0,t.B_=void 0)}function An(t){for(;t.z_.length>0;){if(0===t.r_)return;var n=t.z_.peek();!0===Rn(t,n)&&(Cn(t),En(t.U_,n))}}function Dn(t,n){var i=t.z_.peek();if("closed"===t.U_.Ea){if(0!==n)throw new m("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.U_;if(!0===Hn(i))for(;Wn(i)>0;)En(i,Cn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(On(t,n,i),!(i.bytesFilled<i.elementSize)){Cn(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,o=i.buffer.slice(r-e,r);kn(t,o,0,o.byteLength)}i.buffer=i.buffer,i.bytesFilled-=e,En(t.U_,i),An(t)}}(t,n,i);Tn(t)}function Cn(t){var n=t.z_.shift();return Pn(t),n}function xn(t){t.j_=void 0,t.k_=void 0}function Bn(t,n){var i=t.U_;"readable"===i.Ea&&(function(t){Pn(t),t.z_=new M}(t),at(t),xn(t),Qn(i,n))}function Mn(t){var n=t.U_.Ea;return"errored"===n?null:"closed"===n?0:t.S_-t.r_}function Ln(t,n,i){var e=p.create(yn.prototype),r=v(n,"pull",0,[e]),o=v(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===mn(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,o,u){n.U_=t,n.O_=!1,n.C_=!1,n.B_=void 0,n.n_=n.r_=void 0,at(n),n.x_=!1,n.w_=!1,n.S_=w(o),n.j_=e,n.k_=r,n.Q_=u,n.z_=new M,t.i_=n,P(R(i()),(function(){n.w_=!0,Tn(n)}),(function(t){Bn(n,t)}))}(t,e,(function(){return d(n,"start",[e])}),r,o,i,u)}function Un(t){return new m("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fn(t){return new m("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function zn(t){return k((function(n,i){var e={Kg:n,Jg:i};t.Wg.F_.push(e)}))}function Wn(t){return t.Wg.F_.length}function Hn(t){var n=t.Wg;return void 0!==n&&!!qn(n)}var Vn=function(){function t(t){if(!Gn(t))throw new m("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===_n(t.i_))throw new m("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if($n(t))throw new m("This stream has already been locked for exclusive reading by another reader");U(this,t),this.F_=new M}return p.defineProperty(t.prototype,"closed",{get:function(){return qn(this)?this.Hg:O(Xn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return qn(this)?void 0===this.Gg?O(W("cancel")):F(this,t):O(Xn("cancel"))},t.prototype.read=function(t){return qn(this)?void 0===this.Gg?O(W("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?O(new m("view must have non-zero byteLength")):function(t,n){var i=t.Gg;return i.t_=!0,"errored"===i.Ea?O(i.Zg):function(t,n){var i=t.U_,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,o={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.z_.length>0)return t.z_.push(o),zn(i);if("closed"===i.Ea)return R(L(new r(o.buffer,o.byteOffset,0),!0,i.Wg.Vg));if(t.r_>0){if(!0===Rn(t,o)){var u=In(o);return Nn(t),R(L(u,!1,i.Wg.Vg))}if(!0===t.x_){var s=new m("Insufficient bytes to fill elements in the given buffer");return Bn(t,s),O(s)}}t.z_.push(o);var f=zn(i);return Tn(t),f}(i.i_,n)}(this,t)):O(new m("view must be an array buffer view")):O(Xn("read"))},t.prototype.releaseLock=function(){if(!qn(this))throw Xn("releaseLock");if(void 0!==this.Gg){if(this.F_.length>0)throw new m("Tried to release a reader lock when that reader has pending read() calls un-settled");z(this)}},t}();function qn(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"F_")}function Xn(t){return new m("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var jn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Kn(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Ln(this,t,e=w(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var o=b(i);void 0===e&&(e=1),function(t,n,i,e){var r=p.create(un.prototype),o=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]);bn(t,r,(function(){return d(n,"start",[r])}),o,u,i,e)}(this,t,e=w(e),o)}}return p.defineProperty(t.prototype,"locked",{get:function(){if(!1===Gn(this))throw ti("locked");return $n(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Gn(this)?O(ti("cancel")):!0===$n(this)?O(new m("Cannot cancel a stream that already has a reader")):Zn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Gn(this))throw ti("getReader");if(void 0===n)return K(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Vn(t);return i.Vg=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,o=r.preventClose,u=r.preventAbort,s=r.preventCancel,f=r.signal;if(!1===Gn(this))throw ti("pipeThrough");if(!1===gt(i))throw new m("writable argument to pipeThrough must be a WritableStream");if(!1===Gn(e))throw new m("readable argument to pipeThrough must be a ReadableStream");if(o=Boolean(o),u=Boolean(u),s=Boolean(s),void 0!==f&&!tn(f))throw new m("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===$n(this))throw new m("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===mt(i))throw new m("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return x(on(this,i,o,u,s,f)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,o=i.preventCancel,u=i.signal;return!1===Gn(this)?O(ti("pipeTo")):!1===gt(t)?O(new m("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),o=Boolean(o),void 0===u||tn(u)?!0===$n(this)?O(new m("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===mt(t)?O(new m("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):on(this,t,e,r,o,u):O(new m("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Gn(this))throw ti("tee");var t=function(t,n){var i,e,r,o,u,s=K(t),h=!1,c=!1,a=!1,v=k((function(t){u=t}));function d(){return!0===h||(h=!0,x(C(rt(s),(function(t){if(h=!1,!0===t.done)return!1===c&&an(r.i_),void(!1===a&&an(o.i_));var n=t.value,i=n,e=n;!1===c&&vn(r.i_,i),!1===a&&vn(o.i_,e)})))),R(void 0)}function l(){}return r=Yn(l,d,(function(n){if(c=!0,i=n,!0===a){var r=f([i,e]),o=Zn(t,r);u(o)}return v})),o=Yn(l,d,(function(n){if(a=!0,e=n,!0===c){var r=f([i,e]),o=Zn(t,r);u(o)}return v})),D(s.Hg,(function(t){dn(r.i_,t),dn(o.i_,t)})),[r,o]}(this);return f(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Gn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=K(t),e=p.create(ut);return e.e_=i,e.s_=Boolean(n),e}(this,i)},t}();function Yn(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var o=p.create(jn.prototype);return Kn(o),bn(o,p.create(un.prototype),t,n,i,e,r),o}function Kn(t){t.Ea="readable",t.Wg=void 0,t.Zg=void 0,t.t_=!1}function Gn(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"i_")}function $n(t){return void 0!==t.Wg}function Zn(t,n){return t.t_=!0,"closed"===t.Ea?R(void 0):"errored"===t.Ea?O(t.Zg):(Jn(t),C(t.i_[j](n),r))}function Jn(t){t.Ea="closed";var n=t.Wg;void 0!==n&&(et(n)&&(n.$g.forEach((function(t){t.Kg(L(void 0,!0,n.Vg))})),n.$g=new M),X(n))}function Qn(t,n){t.Ea="errored",t.Zg=n;var i=t.Wg;void 0!==i&&(et(i)?(i.$g.forEach((function(t){t.Jg(n)})),i.$g=new M):(i.F_.forEach((function(t){t.Jg(n)})),i.F_=new M),q(i,n))}function ti(t){return new m("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===B(i.asyncIterator)&&p.defineProperty(jn.prototype,i.asyncIterator,{value:jn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ei=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,o=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=b(e);if(void 0===r&&(r=1),r=w(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var f,h=b(o);void 0===u&&(u=0),u=w(u),function(t,n,i,e,r,o){function u(){return n}function s(n){return function(t,n){var i=t.Y_;return!0===t.f_?C(t.V_,(function(){var e=t.G_;if("erroring"===e.Ea)throw e.Zg;return vi(i,n)})):vi(i,n)}(t,n)}function f(n){return function(t,n){return oi(t,n),R(void 0)}(t,n)}function h(){return function(t){var n=t.W_,i=t.Y_,e=i.Z_();return ci(i),C(e,(function(){if("errored"===n.Ea)throw n.Zg;var t=n.i_;!0===wn(t)&&an(t)}),(function(i){throw oi(t,i),n.Zg}))}(t)}function c(){return function(t){return si(t,!1),t.V_}(t)}function a(n){return ui(t,n),R(void 0)}t.G_=function(t,n,i,e,r,o){void 0===r&&(r=1),void 0===o&&(o=function(){return 1});var u=p.create(lt.prototype);return bt(u),Bt(u,p.create(xt.prototype),t,n,i,e,r,o),u}(u,s,h,f,i,e),t.W_=Yn(u,c,a,r,o),t.f_=void 0,t.V_=void 0,t.H_=void 0,si(t,!0),t.Y_=void 0}(this,k((function(t){f=t})),r,s,u,h),function(t,n){var i=p.create(fi.prototype),e=function(t){try{return ai(i,t),R(void 0)}catch(t){return O(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new m("transform is not a method");e=function(t){return l(r,n,[t,i])}}var o=v(n,"flush",0,[i]);!function(t,n,i,e){n.X_=t,t.Y_=n,n.q_=i,n.Z_=e}(t,i,e,o)}(this,t);var c=d(t,"start",[this.Y_]);f(c)}return p.defineProperty(t.prototype,"readable",{get:function(){if(!1===ri(this))throw li("readable");return this.W_},enumerable:!0,configurable:!0}),p.defineProperty(t.prototype,"writable",{get:function(){if(!1===ri(this))throw li("writable");return this.G_},enumerable:!0,configurable:!0}),t}();function ri(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"Y_")}function oi(t,n){dn(t.W_.i_,n),ui(t,n)}function ui(t,n){ci(t.Y_),Ft(t.G_.h_,n),!0===t.f_&&si(t,!1)}function si(t,n){void 0!==t.V_&&t.H_(),t.V_=k((function(n){t.H_=n})),t.f_=n}var fi=function(){function t(){throw new m("TransformStreamDefaultController instances cannot be created directly")}return p.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===hi(this))throw di("desiredSize");return ln(this.X_.W_.i_)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===hi(this))throw di("enqueue");ai(this,t)},t.prototype.error=function(t){if(!1===hi(this))throw di("error");!function(t,n){oi(t.X_,n)}(this,t)},t.prototype.terminate=function(){if(!1===hi(this))throw di("terminate");!function(t){var n=t.X_,i=n.W_.i_;!0===wn(i)&&an(i);var e=new m("TransformStream terminated");ui(n,e)}(this)},t}();function hi(t){return!!s(t)&&!!p.prototype.hasOwnProperty.call(t,"X_")}function ci(t){t.q_=void 0,t.Z_=void 0}function ai(t,n){var i=t.X_,e=i.W_.i_;if(!1===wn(e))throw new m("Readable side is not in a state that permits enqueue");try{vn(e,n)}catch(t){throw ui(i,t),i.W_.Zg}var r=function(t){return!0!==hn(t)}(e);r!==i.f_&&si(i,!0)}function vi(t,n){return C(t.q_(n),void 0,(function(n){throw oi(t.X_,n),n}))}function di(t){return new m("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new m("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=jn,t.TransformStream=ei,t.WritableStream=lt,p.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":B(t))&&void 0!==i?o(t):"function"==typeof define&&define.amd?define(["exports"],o):o((r=r||self).WebStreamsPolyfill={})})),pt=C((function(t){function n(){var t=mt();return n=function(){return t},t}x(),gt(),p.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)p.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function yt(t,n){return(yt=p.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _t(t,n){if("function"!=typeof n&&null!==n)throw new m("Super expression must either be null or a function");t.prototype=p.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&yt(t,n)}function St(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),p.defineProperty(t,e.key,e)}}function Tt(t,n,i){return n&&St(t.prototype,n),i&&St(t,i),t}x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var Et,It=((Et={}).hd="web",Et.Md="android",Et.Td="android-tv",Et.Nd="ios",Et.Id="tvos",Et.Dd="chromecast",Et.Ed="theoliveweb",Et);var kt=v?v.userAgent:"",Rt=kt.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ot=kt.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Nt=kt.match(/Android ([0-9\.]+)/i),Pt=kt.match(/Windows NT ([0-9\.]+)/i),At=kt.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Dt=kt.match(/Firefox\/([0-9\.]+)/i),Ct=kt.match(/OPR\/(\d+\.\d+)/i),xt=kt.match(/Tizen ([0-9\.]+)/i),Bt=kt.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Mt=kt.match(/HbbTV\/([0-9.]+)/i),Lt=function(){function t(){this.jd=Boolean("ontouchstart"in self||self.DocumentTouch&&a instanceof self.DocumentTouch||v&&v.msMaxTouchPoints),this.Rd=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(kt)||/(macintosh|mac(?=_powerpc)\s)/i.test(kt),this.zd=/Windows NT/i.test(kt),this.Ud=Pt?S(Pt[1]):0,this.Fd=/Android/i.test(kt),this.Vd=Nt?S(Nt[1]):0,this.Wd=/windows phone (8|8\.1)/i.test(kt),this.Hd=/iPhone/i.test(kt),this.qd=/iPad/i.test(kt),this.Jd=this.Rd&&this.jd&&!this.qd,this.tf=/iPod/i.test(kt),this.lf=/Mobile Safari/i.test(kt),this.uf=/EOS\d*STB/i.test(kt),this.cf=/APP\d*STB/i.test(kt),this.ef=(this.Hd||this.qd||this.Jd||this.tf)&&!this.Wd,this.rf=Bt?S(Bt[2]):0,this.df=this.Wd||this.ef||this.Fd||this.lf,this._f=/CriOS/i.test(kt),this.wf=Boolean(self.chrome&&/google/i.test(v.vendor))||this._f,this.bf=this.wf&&/Edg\//i.test(v.userAgent),this.Tf=Ot?_(Ot[1],10):0,this.jg=Boolean(/CriOS/i.test(kt)),this.Cg=Boolean(self.chrome||/Chrome/i.test(kt)||this.jg),this.Af=Rt?_(Rt[1],10):0,this.If=/SMART-TV.*Tizen/i.test(kt),this.Ef=xt?S(xt[1]):0,this.pf=this.Ef>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Ef):void 0,this.Lf=/webos|web0s/i.test(kt),this.Cf=/HbbTV/i.test(kt),this.Of=!!Mt&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Mt[1]),this.Pf=/VIZIO/i.test(kt),this.Bf=/Edge\/\d+/i.test(kt),this.Qf=/Trident/i.test(kt),this.Yf=this.Qf&&!self.ActiveXObject&&"ActiveXObject"in self,this.Gf=/Vivaldi/i.test(kt),this.Zf=/Firefox/i.test(kt)&&!/Seamonkey/i.test(kt),this.Xf=Dt?S(Dt[1]):0,this.Kf=/Safari/i.test(kt)&&!/Chrome/i.test(kt)&&!this.Wd&&!this.If,this.$f=At?S(At[2]):0,this.rg=Boolean(Ct),this.hg=Ct?S(Ct[1]):0,this.cg=/CrKey/.test(kt),this.fg=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(kt),this.vg=/PlayStation 4/i.test(kt),this.pg="web"===It.Td,this.yg="web"===It.Md,this.Tg=this.yg||this.pg,this.Ng="web"===It.Nd,this.Dg="web"===It.Id,this.Lg="web"===It.Dd}return Tt(t,[{key:"Je",get:function(){return this.jd}},{key:"Od",get:function(){return this.Rd}},{key:"Pd",get:function(){return this.zd}},{key:"Bd",get:function(){return this.Ud}},{key:"Qd",get:function(){return this.Fd}},{key:"Yd",get:function(){return this.Vd}},{key:"Gd",get:function(){return this.Wd}},{key:"Zd",get:function(){return this.Hd}},{key:"Xd",get:function(){return this.qd}},{key:"Kd",get:function(){return this.Jd}},{key:"$d",get:function(){return this.tf}},{key:"Ka",get:function(){return this.ef}},{key:"nf",get:function(){return this.rf}},{key:"hf",get:function(){return this.uf||this.cf}},{key:"nd",get:function(){return this.lf}},{key:"Qs",get:function(){return this.df}},{key:"gf",get:function(){return this._f}},{key:"vf",get:function(){return this.wf}},{key:"mf",get:function(){var t;return null!=(t=this.pf)?t:this.Af}},{key:"yf",get:function(){return this.bf}},{key:"Mf",get:function(){var t;return(null==(t=c.chrome)?void 0:t.webview)&&this.Tf>0}},{key:"Sf",get:function(){return this.Tf}},{key:"Nf",get:function(){return this.If}},{key:"Df",get:function(){return this.Ef}},{key:"kf",get:function(){return this.Lf}},{key:"xf",get:function(){return this.Cf}},{key:"jf",get:function(){return this.Of}},{key:"Rf",get:function(){return this.Pf}},{key:"zf",get:function(){return this.Bf}},{key:"Uf",get:function(){return this.Qf}},{key:"Ff",get:function(){return this.Yf}},{key:"Vf",get:function(){return this.Gf}},{key:"Wf",get:function(){return this.Zf}},{key:"Hf",get:function(){return this.Xf}},{key:"qf",get:function(){return this.Kf}},{key:"Jf",get:function(){return this.$f}},{key:"eg",get:function(){return this.rg}},{key:"og",get:function(){return this.hg}},{key:"ag",get:function(){return this.cg}},{key:"dg",get:function(){return this.fg}},{key:"gg",get:function(){return!(!this.kf&&!this.Nf)&&this.mf<=56}},{key:"_g",get:function(){return this.vg}},{key:"wg",get:function(){return this.pg}},{key:"Ag",get:function(){return this.yg}},{key:"Mg",get:function(){return this.Tg}},{key:"Sg",get:function(){return this.Ng}},{key:"Ig",get:function(){return this.Dg}},{key:"Eg",get:function(){return this.Lg}},{key:"xg",get:function(){return this.Cg}},{key:"IS_IOS_CHROME",get:function(){return this.jg}}]),t}();Lt.Ld=new Lt;var Ut=Lt.Ld;x(),gt(),nt();var Ft={}.toString;function zt(t){return null!=t}var Wt,Ht=Array.isArray||function(t){return"[object Array]"===Ft.call(t)};function Vt(t){return"object"===(void 0===t?"undefined":B(t))&&null!==t}function qt(t){return"function"==typeof t}function Xt(t){return qt(t)||Vt(t)}function jt(t){Wt=t}x(),gt(),x(),gt();var Yt=function(){};function Kt(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function Gt(){return void 0!==a?a.createElement("video"):void 0}var $t=Kt(Gt);Kt((function(){return"undefined"!=typeof HTMLVideoElement&&$t()instanceof HTMLVideoElement}));x(),gt(),x(),gt(),x(),gt();var Zt=null;try{Zt=new WebAssembly.Instance(new WebAssembly.Module(new E([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Et){}function Jt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Qt(t){return!0===(t&&t.vp)}function tn(t){var n=y.clz32(t&-t);return t?31-n:n}Jt.prototype.vp,p.defineProperty(Jt.prototype,"vp",{value:!0}),Jt.isLong=Qt;var nn={},en={};function rn(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=en[t])?e:(i=un(t,0,!0),r&&(en[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=nn[t])?e:(i=un(t,t<0?-1:0,!1),r&&(nn[t]=i),i)}function on(t,n){if(T(t))return n?wn:ln;if(n){if(t<0)return wn;if(t>=an)return yn}else{if(t<=-vn)return _n;if(t+1>=vn)return pn}return t<0?on(-t,n).neg():un(t%cn|0,t/cn|0,n)}function un(t,n,i){return new Jt(t,n,i)}Jt.fromInt=rn,Jt.fromNumber=on,Jt.fromBits=un;var sn=y.pow;function fn(t,n,i){if(0===t.length)throw g("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?wn:ln;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw g("interior hyphen");if(0===e)return fn(t.substring(1),n,i).neg();for(var r=on(sn(i,8)),o=ln,u=0;u<t.length;u+=8){var s=y.min(8,t.length-u),f=_(t.substring(u,u+s),i);if(s<8){var h=on(sn(i,s));o=o.mul(h).add(on(f))}else o=(o=o.mul(r)).add(on(f))}return o.unsigned=n,o}function hn(t,n){return"number"==typeof t?on(t,n):"string"==typeof t?fn(t,n):un(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Jt.fromString=fn,Jt.fromValue=hn;var cn=4294967296,an=cn*cn,vn=an/2,dn=rn(1<<24),ln=rn(0);Jt.ZERO=ln;var wn=rn(0,!0);Jt.UZERO=wn;var bn=rn(1);Jt.ONE=bn;var gn=rn(1,!0);Jt.UONE=gn;var mn=rn(-1);Jt.NEG_ONE=mn;var pn=un(-1,2147483647,!1);Jt.MAX_VALUE=pn;var yn=un(-1,-1,!0);Jt.MAX_UNSIGNED_VALUE=yn;var _n=un(0,-2147483648,!1);Jt.MIN_VALUE=_n;var Sn=Jt.prototype;Sn.toInt=function(){return this.unsigned?this.low>>>0:this.low},Sn.toNumber=function(){return this.unsigned?(this.high>>>0)*cn+(this.low>>>0):this.high*cn+(this.low>>>0)},Sn.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_n)){var n=on(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=on(sn(t,6),this.unsigned),o=this,u="";;){var s=o.div(r),f=(o.sub(s.mul(r)).toInt()>>>0).toString(t);if((o=s).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},Sn.getHighBits=function(){return this.high},Sn.getHighBitsUnsigned=function(){return this.high>>>0},Sn.getLowBits=function(){return this.low},Sn.getLowBitsUnsigned=function(){return this.low>>>0},Sn.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_n)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Sn.isZero=function(){return 0===this.high&&0===this.low},Sn.eqz=Sn.isZero,Sn.isNegative=function(){return!this.unsigned&&this.high<0},Sn.isPositive=function(){return this.unsigned||this.high>=0},Sn.isOdd=function(){return 1==(1&this.low)},Sn.isEven=function(){return 0==(1&this.low)},Sn.equals=function(t){return Qt(t)||(t=hn(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Sn.eq=Sn.equals,Sn.notEquals=function(t){return!this.eq(t)},Sn.neq=Sn.notEquals,Sn.ne=Sn.notEquals,Sn.lessThan=function(t){return this.comp(t)<0},Sn.lt=Sn.lessThan,Sn.lessThanOrEqual=function(t){return this.comp(t)<=0},Sn.lte=Sn.lessThanOrEqual,Sn.le=Sn.lessThanOrEqual,Sn.greaterThan=function(t){return this.comp(t)>0},Sn.gt=Sn.greaterThan,Sn.greaterThanOrEqual=function(t){return this.comp(t)>=0},Sn.gte=Sn.greaterThanOrEqual,Sn.ge=Sn.greaterThanOrEqual,Sn.compare=function(t){if(Qt(t)||(t=hn(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Sn.comp=Sn.compare,Sn.negate=function(){return!this.unsigned&&this.eq(_n)?_n:this.not().add(bn)},Sn.neg=Sn.negate,Sn.add=function(t){Qt(t)||(t=hn(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,o=t.high>>>16,u=65535&t.high,s=t.low>>>16,f=0,h=0,c=0,a=0;return c+=(a+=r+(65535&t.low))>>>16,h+=(c+=e+s)>>>16,f+=(h+=i+u)>>>16,f+=n+o,un((c&=65535)<<16|(a&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},Sn.subtract=function(t){return Qt(t)||(t=hn(t)),this.add(t.neg())},Sn.sub=Sn.subtract,Sn.multiply=function(t){if(this.isZero())return this;if(Qt(t)||(t=hn(t)),Zt)return un(Zt.mul(this.low,this.high,t.low,t.high),Zt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?wn:ln;if(this.eq(_n))return t.isOdd()?_n:ln;if(t.eq(_n))return this.isOdd()?_n:ln;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(dn)&&t.lt(dn))return on(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,o=t.high>>>16,u=65535&t.high,s=t.low>>>16,f=65535&t.low,h=0,c=0,a=0,v=0;return a+=(v+=r*f)>>>16,c+=(a+=e*f)>>>16,a&=65535,c+=(a+=r*s)>>>16,h+=(c+=i*f)>>>16,c&=65535,h+=(c+=e*s)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*f+i*s+e*u+r*o,un((a&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Sn.mul=Sn.multiply,Sn.divide=function(t){if(Qt(t)||(t=hn(t)),t.isZero())throw g("division by zero");var n,i,e;if(Zt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?un((this.unsigned?Zt.div_u:Zt.div_s)(this.low,this.high,t.low,t.high),Zt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?wn:ln;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return wn;if(t.gt(this.shru(1)))return gn;e=wn}else{if(this.eq(_n))return t.eq(bn)||t.eq(mn)?_n:t.eq(_n)?bn:(n=this.shr(1).div(t).shl(1)).eq(ln)?t.isNegative()?bn:mn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(_n))return this.unsigned?wn:ln;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=ln}for(i=this;i.gte(t);){n=y.max(1,y.floor(i.toNumber()/t.toNumber()));for(var r=y.ceil(y.log(n)/y.LN2),o=r<=48?1:sn(2,r-48),u=on(n),s=u.mul(t);s.isNegative()||s.gt(i);)s=(u=on(n-=o,this.unsigned)).mul(t);u.isZero()&&(u=bn),e=e.add(u),i=i.sub(s)}return e},Sn.div=Sn.divide,Sn.modulo=function(t){return Qt(t)||(t=hn(t)),Zt?un((this.unsigned?Zt.rem_u:Zt.rem_s)(this.low,this.high,t.low,t.high),Zt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Sn.mod=Sn.modulo,Sn.rem=Sn.modulo,Sn.not=function(){return un(~this.low,~this.high,this.unsigned)},Sn.countLeadingZeros=function(){return this.high?y.clz32(this.high):y.clz32(this.low)+32},Sn.clz=Sn.countLeadingZeros,Sn.countTrailingZeros=function(){return this.low?tn(this.low):tn(this.high)+32},Sn.ctz=Sn.countTrailingZeros,Sn.and=function(t){return Qt(t)||(t=hn(t)),un(this.low&t.low,this.high&t.high,this.unsigned)},Sn.or=function(t){return Qt(t)||(t=hn(t)),un(this.low|t.low,this.high|t.high,this.unsigned)},Sn.xor=function(t){return Qt(t)||(t=hn(t)),un(this.low^t.low,this.high^t.high,this.unsigned)},Sn.shiftLeft=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):un(0,this.low<<t-32,this.unsigned)},Sn.shl=Sn.shiftLeft,Sn.shiftRight=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):un(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Sn.shr=Sn.shiftRight,Sn.shiftRightUnsigned=function(t){return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?un(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):un(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Sn.shru=Sn.shiftRightUnsigned,Sn.shr_u=Sn.shiftRightUnsigned,Sn.rotateLeft=function(t){var n;return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),un(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Sn.rotl=Sn.rotateLeft,Sn.rotateRight=function(t){var n;return Qt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?un(this.high,this.low,this.unsigned):t<32?(n=32-t,un(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),un(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Sn.rotr=Sn.rotateRight,Sn.toSigned=function(){return this.unsigned?un(this.low,this.high,!1):this},Sn.toUnsigned=function(){return this.unsigned?this:un(this.low,this.high,!0)},Sn.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Sn.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Sn.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Jt.fromBytes=function(t,n,i){return i?Jt.fromBytesLE(t,n):Jt.fromBytesBE(t,n)},Jt.fromBytesLE=function(t,n){return new Jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Jt.fromBytesBE=function(t,n){return new Jt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Tn=Jt;x(),gt();var En=9007199254740991;y.pow(2,-52);function In(){return Date.now()||(new Date).getTime()}Tn.fromNumber(En);var kn=!!("ontouchstart"in self||self.DocumentTouch&&a instanceof self.DocumentTouch)||!(!v||!v.msMaxTouchPoints),Rn=$t(),On=!(!Rn||!Rn.webkitShowPlaybackTargetPicker),Nn=function(){function t(){this.mp=void 0,this.Bp=!1,this.Je=kn,this.Qs=!1,this.Up=!0}var n=t.prototype;return n.pp=function(){return 0},n.Pp=function(t,n){return!0},n.zp=function(t){return t>=.3333333333333333},Tt(t,[{key:"wp",get:function(){return void 0===this.mp&&(this.mp=this.pp()),this.mp}},{key:"Ap",get:function(){return!Ut.dg}},{key:"yp",get:function(){if(c.screen)return{width:c.screen.width,height:c.screen.height}}},{key:"bp",get:function(){return c.devicePixelRatio||1}},{key:"Mp",get:function(){return On}},{key:"Tp",get:function(){return!1}},{key:"Sp",get:function(){return!0}},{key:"Np",get:function(){return!(!Ut.qf&&!Ut.Ka)||!!Ut.Rf}},{key:"Ip",get:function(){return Ut.Rf}},{key:"Dp",get:function(){return!Ut.Ka}},{key:"Ep",get:function(){return!0}},{key:"kp",get:function(){return!0}},{key:"Lp",get:function(){return!1}},{key:"xp",get:function(){}},{key:"Cp",get:function(){return!0}},{key:"jp",get:function(){return!1}},{key:"Op",get:function(){return Ut.Rf}},{key:"Rp",get:function(){return!1}}]),t}(),Pn=function(t){function n(){return t.call(this)||this}return _t(n,t),n}(Nn);x(),gt();var An=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),n.prototype.Pp=function(t,n){if(t&&t.Qp&&n&&n.Qp){var i=Dn(t.Qp,"mp4a.40.2")&&Dn(n.Qp,"mp4a.40.5"),e=Dn(t.Qp,"mp4a.40.5")&&Dn(n.Qp,"mp4a.40.2"),r=Dn(t.Qp,"mp4a.40.2")&&Dn(n.Qp,"mp4a.40.34"),o=Dn(t.Qp,"mp4a.40.34")&&Dn(n.Qp,"mp4a.40.2"),u=Dn(t.Qp,"mp4a.40.5")&&Dn(n.Qp,"mp4a.40.34"),s=Dn(t.Qp,"mp4a.40.34")&&Dn(n.Qp,"mp4a.40.5");return!(i||e||r||o||u||s)}return!0},Tt(n,[{key:"xp",get:function(){if(Ut.Od)return 4096}}]),n}(Pn);function Dn(t,n){return t.indexOf(n)>-1}x(),gt();var Cn=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),n.prototype.zp=function(t){return t>=2},n}(Pn);x(),gt();var xn=function(t){function n(){var n;return(n=t.call(this)||this).Bp=Ut.Jf>=11,n.Up=Ut.qf&&!(Ut.Ka&&Ut.Jf<10),n}return _t(n,t),Tt(n,[{key:"Rp",get:function(){return Ut.Jf<17}}]),n}(Pn);x(),gt();var Bn,Mn=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),Tt(n,[{key:"Cp",get:function(){return!Ut.Pd||(Ut.yf?92!==Ut.Sf:Ut.mf>=100)}}]),n}(Pn);x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var Ln=function(){var t=Gt();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Ut.Kd)return!1;var t=Gt();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Un,Fn=function(t){function n(n){var i;return(i=t.call(this)||this).Fp=n,i.Bp=i.Fp.Bp,i.Je=i.Fp.Je,i.Up=Ln&&i.Fp.Up,i}_t(n,t);var i=n.prototype;return i.pp=function(){return this.Fp.wp},i.Pp=function(t,n){return this.Fp.Pp(t,n)},i.zp=function(t){return this.Fp.zp(t)},Tt(n,[{key:"xp",get:function(){return this.Fp.xp}},{key:"Cp",get:function(){return this.Fp.Cp}},{key:"Rp",get:function(){return this.Fp.Rp}}]),n}(Nn),zn=function(t){function n(n){var i;return(i=t.call(this,n)||this).Bp=!0,i.Qs=!0,i}return _t(n,t),Tt(n,[{key:"Lp",get:function(){return Ut.Ka}}]),n}(Fn);x(),gt(),x(),gt();var Wn=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),n.prototype.pp=function(){return function(t){return t&&Xt(Un.ManagedMediaSource)?Un.ManagedMediaSource:Xt(Un.MediaSource)?Un.MediaSource:void 0}(!0)?t.prototype.pp.call(this):1},Tt(n,[{key:"Lp",get:function(){return!0}}]),n}(zn);x(),gt();var Hn=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),n.prototype.Pp=function(n,i){return t.prototype.Pp.call(this,n,i)},Tt(n,[{key:"Tp",get:function(){return Ut.Df<3}},{key:"Sp",get:function(){return Ut.Df>=3}},{key:"yp",get:function(){var t=this;return c.tizen&&!this.Wp&&c.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.Wp={width:i,height:e})})),this.Wp}},{key:"jp",get:function(){return Ut.Df<3}}]),n}(Fn);x(),gt();var Vn=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),Tt(n,[{key:"yp",get:function(){var t=this;return c.webOS&&!this.Wp&&c.webOS.deviceInfo((function(n){t.Wp={width:n.screenWidth,height:n.screenHeight}})),this.Wp}},{key:"Ep",get:function(){return!1}}]),n}(Fn);x(),gt();var qn=function(t){function n(){return t.apply(this,arguments)||this}return _t(n,t),Tt(n,[{key:"Lp",get:function(){return!0}}]),n}(Fn);function Xn(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}function jn(t,n){if(t){if("string"==typeof t)return Xn(t,n);var i=p.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Xn(t,n):void 0}}function Yn(t){return function(t){if(Array.isArray(t))return Xn(t)}(t)||function(t){if(void 0!==n&&null!=t[e]||null!=t["@@iterator"])return Array.from(t)}(t)||jn(t)||function(){throw new m("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){Bn=t}(function(){var t=function(){if(Ut.Wf)return new An;if(Ut.zf||Ut.Uf)return new Cn;if(Ut.qf)return new xn;if(Ut.vf)return new Mn;return new Pn}();return Ut.Ka?new Wn(t):Ut.Qs?new zn(t):Ut.Nf?new Hn(t):Ut.kf?new Vn(t):Ut.Od?new qn(t):new Fn(t)}()),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),nt(),x(),gt();var Kn=!(Ut.Uf&&!Ut.Ff),Gn=self.console;function $n(t){if(Vt(t))try{return JSON.stringify(t)}catch(t){}return t}function Zn(t){return t.map($n).join(" ")}function Jn(t){var n=Gn&&Gn[t];return n?n.bind&&Kn?n.bind(Gn):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Gn[t](Zn(i))}:void 0}var Qn=Jn("log")||Yt,ti=Jn("warn")||Qn.bind(void 0,"WARNING:"),ni=Jn("error")||Qn.bind(void 0,"ERROR:"),ii=function(){var t=Gn&&Gn.assert;return t?t.bind&&Kn?t.bind(Gn):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Gn.assert(t,Zn(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];t||ni.apply(void 0,["Assertion failed:"].concat(Yn(i)))}}();function ei(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),p.defineProperty(t,e.key,e)}}function ri(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){oi(t,n,r,e);var o=t;t=e,e=o}return t}(t,n);return i!==t&&oi(i,null,t.length,t),t}function oi(t,n,i,e){var r,o,u,s,f,h=t.length,c=0,a=2*i;for(r=0;r<h;r+=a)for(u=(o=r+i)+i,o>h&&(o=h),u>h&&(u=h),s=r,f=o;;)if(s<o&&f<u)n(t[s],t[f])<=0?e[c++]=t[s++]:e[c++]=t[f++];else if(s<o)e[c++]=t[s++];else{if(!(f<u))break;e[c++]=t[f++]}}x(),gt();var ui=/[a-zA-Z]/,si=/[0-9]/,fi=/[0-9a-fA-F]/,hi=/^0x/i,ci=/^[0-9]+$/,ai=/^[0-9a-fA-F]+$/,vi=/^[0-7]+$/,di=p.prototype.toString,li=Array.isArray||function(t){return"[object Array]"===di.call(t)},wi=void 0!==n&&"symbol"==typeof e;function bi(t){return li(t)?t:Array.from(t)}function gi(t,n,i){var e=t[n];t[n]=t[i],t[i]=e}function mi(t){return t>=65&&t<=90}function pi(t){return mi(t)||function(t){return t>=97&&t<=122}(t)}function yi(t){return t>=48&&t<=57}function _i(t){return yi(t)||pi(t)}function Si(t){return yi(t)||t>=65&&t<=70||t>=97&&t<=102}function Ti(t){return mi(t)?t+32:t}function Ei(t){return yi(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ii(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var ki=y.min,Ri=String.fromCharCode,Oi=16384;function Ni(t){for(var n=t.length,i=[],e=0;e<n;e+=Oi){var r=ki(e+Oi,n);i.push(Ri.apply(null,t.slice(e,r)))}return i.join("")}var Pi=2147483647,Ai=/[^\0-\x7E]/,Di=/[\x2E\u3002\uFF0E\uFF61]/g,Ci={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},xi=y.floor,Bi=String.fromCharCode;function Mi(t){throw new RangeError(Ci[t])}function Li(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var o=t.charCodeAt(i++);56320==(64512&o)?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ui,Fi,zi,Wi=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Hi=function(t,n,i){var e=0;for(t=i?xi(t/700):t>>1,t+=xi(t/n);t>455;e+=36)t=xi(t/35);return xi(e+36*t/(t+38))},Vi=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Di,".")).split("."),n).join(".");return e+r}(t,(function(t){return Ai.test(t)?"xn--"+function(t){for(var n=[],i=(t=Li(t)).length,e=128,r=0,o=72,u=0,s=t;u<s.length;u++){var f=s[u];f<128&&n.push(Bi(f))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var a=Pi,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<a&&(a=l)}var w=c+1;a-e>xi((Pi-r)/w)&&Mi("overflow"),r+=(a-e)*w,e=a;for(var b=0,g=t;b<g.length;b++){var m=g[b];if(m<e&&++r>Pi&&Mi("overflow"),m==e){for(var p=r,y=36;;y+=36){var _=y<=o?1:y>=o+26?26:y-o;if(p<_)break;var S=p-_,T=36-_;n.push(Bi(Wi(_+S%T,0))),p=xi(S/T)}n.push(Bi(Wi(p,0))),o=Hi(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t}))};function qi(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ni(n)}function Xi(t){if(t>=55296&&t<=57343)throw new g("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ji(t,n){return t>>n&63|128}function Yi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Xi(t),n.push(t>>12&15|224),n.push(ji(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ji(t,12)),n.push(ji(t,6))),n.push(63&t|128)):n.push(t)}function Ki(t){for(var n=[],i=0;i<t.length;i++){Yi(t[i],n)}return n}function Gi(){if(zi>=Fi)throw new g("Invalid byte index");var t=255&Ui[zi];if(zi++,128==(192&t))return 63&t;throw new g("Invalid continuation byte")}function $i(){var t,n;if(zi>Fi)throw new g("Invalid byte index");if(zi===Fi)return!1;if(t=255&Ui[zi],zi++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Gi())>=128)return n;throw new g("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Gi()<<6|Gi())>=2048)return Xi(n),n;throw new g("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Gi()<<12|Gi()<<6|Gi())>=65536&&n<=1114111)return n;throw new g("Invalid UTF-8 detected")}function Zi(t){return[37,Ii(t>>4),Ii(15&t)]}function Ji(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Qi(t){return Ji(t)||32===t||34===t||60===t||62===t||96===t}function te(t){return Qi(t)||35===t||63===t||123===t||125===t}function ne(t){return te(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ie(t){return t<33||t>126||34===t||35===t||60===t||62===t}function ee(t){return ie(t)||39===t}function re(t,n){if(!n(t))return[t];for(var i=Ki([t]),e=[],r=0;r<i.length;r++){var o=i[r];e.push.apply(e,Zi(o))}return e}function oe(t,n){for(var i=[],e=0,r=Li(t);e<r.length;e++){var o=r[e];i.push.apply(i,re(o,n))}return qi(i)}function ue(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Si(t[e+1])&&Si(t[e+2])){var o=Ei(t[e+1])<<4|Ei(t[e+2]);n.push(o),e+=2}else n.push(r)}return n}(Ki(t))}function se(t){return qi(function(t){Ui=t.slice(),Fi=Ui.length,zi=0;for(var n,i=[];!1!==(n=$i());)i.push(n);return i}(ue(Li(t))))}function fe(t){var n=t.length,i=[0,0,0,0,0,0,0,0],e=0,r=null,o=0;if(o<n&&":"===t[o]){if(!(o+1<n&&":"===t[o+1]))throw new m;o+=2,r=e+=1}for(;o<n;){if(8===e)throw new m("Too many groups");if(":"!==t[o]){for(var u=0,s=0;s<4&&o<n&&fi.test(t[o]);)u=u<<4|_(t[o],16),o+=1,s+=1;if("."===t[o]){if(0===s)throw new m;if(o-=s,e>6)throw new m;for(var f=0;o<n;){var h=null;if(f>0){if(!("."===t[o]&&f<4))throw new m;o+=1}if(!si.test(t[o]))throw new m;for(;o<n&&si.test(t[o]);){var c=_(t[o],10);if(null===h)h=c;else{if(0===h)throw new m;if((h=10*h+c)>255)throw new m}o+=1}i[e]=i[e]<<8|h,2!==(f+=1)&&4!==f||(e+=1)}if(4!==f)throw new m;break}if(":"===t[o]){if((o+=1)===n)throw new m}else if(o<n)throw new m;i[e]=u,e+=1}else{if(null!==r)throw new m("Too many :: groups");o+=1,r=e+=1}}if(null!==r){var a=e-r;for(e=7;0!==e&&a>0;)gi(i,e,r+a-1),e-=1,a-=1}else if(8!==e)throw new m;return i}function he(t){var n=10,i=ci;return hi.test(t)?(t=t.slice(2),n=16,i=ai):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=vi),""===t?0:i.test(t)?_(t,n):void 0}var ce={Zp:4},ae=/[\0\t\n\r #%/:?@\[\\\]]/,ve=/[\0\t\n\r #/:?@\[\\\]]/;function de(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new m("Invalid IPv6 address");return{Zp:2,Hp:fe(t.slice(1,-1))}}if(!n)return function(t){if(ve.test(t))throw new m("Invalid code point in opaque host");var n=oe(t,Ji);return""===n?ce:{Zp:3,Xp:n}}(t);var i=function(t){var n=function(t){return Vi(t.toLowerCase())}(t);return n}(se(t));if(ae.test(i))throw new m("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var o=he(r);if(void 0===o)return;i.push(o)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new m;if(i[i.length-1]>=y.pow(256,5-i.length))throw new m;for(var s=i.pop(),f=0;f<i.length;f++)s+=i[f]*y.pow(256,3-f);return s}}(i);return void 0!==e?{Zp:1,Hp:e}:""===i?ce:{Zp:0,qp:i}}function le(t){switch(t.Zp){case 0:return t.qp;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Hp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,o=0;o<8;o++)0===t[o]?(0===r&&(e=o),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Hp)+"]";case 3:return t.Xp;case 4:return""}}var we=/\+/g;function be(t){return 42===t||45===t||46===t||95===t||_i(t)}function ge(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var o=r.indexOf("="),u=void 0,s=void 0;-1!==o?(u=r.slice(0,o),s=r.slice(o+1)):(u=r,s=""),u=u.replace(we," "),s=s.replace(we," ");var f=se(u),h=se(s);i.push([f,h])}}return i}function me(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=pe(Ki(Li(e[0])))+"="+pe(Ki(Li(e[1])))}return n}function pe(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];32===e?n.push(43):be(e)?n.push(e):n.push.apply(n,Zi(e))}return Ni(n)}var ye=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function _e(t){var n=""+t,i=ye.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var o=t.charCodeAt(r);if(Te(o))if(Ee(o)||r===i-1)e.push(Se);else{var u=t.charCodeAt(r+1);Ee(u)?(e.push(o,u),r++):e.push(Se)}else e.push(o)}return t.slice(0,n)+Ni(e)}(n,i.index):n}var Se=65533,Te=function(t){return 55296==(63488&t)},Ee=function(t){return 0!=(1024&t)};function Ie(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function ke(t){t.Xv.length=0}function Re(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Xv,ge(n))}function Oe(t){if(t.Yu){var n=me(t.Xv);""===n&&(n=null),t.Yu.Yu.Kp=n}}var Ne=function(){function t(t){if(void 0===t&&(t=void 0),this.Yu=null,null==t)this.Xv=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Ne&&!!li(t.Xv)&&(!wi||t[e]===Pe)}(t))this.Xv=t.Xv.slice();else if(function(t){return null!=t&&(!!li(t)||!!wi&&"function"==typeof t[e])}(t)){this.Xv=[];for(var n=0,i=bi(t);n<i.length;n++){var r=bi(i[n]);if(2!==r.length)throw new m("Invalid name-value pair");this.Xv.push([_e(r[0]),_e(r[1])])}}else for(var o in this.Xv=[],t)p.prototype.hasOwnProperty.call(t,o)&&this.Xv.push([_e(o),_e(t[o])]);else(t=_e(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Xv=ge(t)}var n=t.prototype;return n.append=function(t,n){t=_e(t),n=_e(n),this.Xv.push([t,n]),Oe(this)},n.delete=function(t){t=_e(t);for(var n=this.Xv,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Oe(this)},n.get=function(t){t=_e(t);for(var n=this.Xv,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=_e(t);for(var n=this.Xv,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=_e(t);for(var n=this.Xv,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=_e(t),n=_e(n);for(var i=this.Xv,e=!1,r=0;r<i.length;){var o=i[r];o[0]===t?e?i.splice(r,1):(o[1]=n,e=!0,r++):r++}e||i.push([t,n]),Oe(this)},n.sort=function(){ri(this.Xv,Ie),Oe(this)},n.toString=function(){return me(this.Xv)},n.entries=function(){return new xe(this.Xv,Ae)},n.keys=function(){return new xe(this.Xv,De)},n.values=function(){return new xe(this.Xv,Ce)},n.forEach=function(t){var n=this;this.Xv.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Pe=Ne.prototype.entries;wi&&(Ne.prototype[e]=Pe);var Ae=function(t){return[t[0],t[1]]},De=function(t){return t[0]},Ce=function(t){return t[1]},xe=function(){function t(t,n){this.Jp=0,this.Xv=t,this.$p=n}return t.prototype.next=function(){return this.Jp<this.Xv.length?{done:!1,value:this.$p(this.Xv[this.Jp++])}:{done:!0,value:void 0}},t}(),Be="null";var Me=p.create(null);Me.ftp=21,Me.file=0,Me.gopher=70,Me.http=80,Me.https=443,Me.ws=80,Me.wss=443;var Le=/^(?:\.|%2e)$/i,Ue=/^(?:\.|%2e){2}$/i;function Fe(t){return Le.test(t)}function ze(t){return Ue.test(t)}function We(t){return void 0!==Me[t]}function He(t){return We(t.tA)}function Ve(t){return""!==t.iA||""!==t.eA}function qe(t){var n=t.length;if(!(n>=2))return!1;if(!je(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Xe(t){return 2===t.length&&ui.test(t[0])&&(":"===t[1]||"|"===t[1])}function je(t){return 2===t.length&&Xe(Ni(t))}function Ye(t){return Xe(t)&&":"===t[1]}function Ke(t){var n=t.sA;0!==n.length&&("file"===t.tA&&1===n.length&&Ye(n[0])||n.pop())}function Ge(t){return null===t.nA||ce===t.nA||t.rA||"file"===t.tA}var $e=-1,Ze=/\t|\n|\r/g,Je=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Qe(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new nr,t=t.replace(Je,""));var r=null!==e?e:0;n=n||null;for(var o=[],u=!1,s=!1,f=!1,h=Li(t=t.replace(Ze,"")),c=h.length,a=0;a<=c;){var v=a<c?h[a]:$e;switch(r){case 0:if(!pi(v)){if(null===e){o.length=0,r=2;continue}throw new m("Invalid scheme")}o.push(Ti(v)),r=1;break;case 1:if(_i(v)||43===v||45===v||46===v)o.push(Ti(v));else{if(58!==v){if(null===e){o.length=0,r=2,a=0;continue}throw new m("Invalid scheme")}var d=qi(o);if(null!==e){if(We(i.tA)&&!We(d))return;if(!We(i.tA)&&We(d))return;if((Ve(i)||null!==i.oA)&&"file"===d)return;if("file"===i.tA&&(i.nA===ce||null===i.nA))return}if(i.tA=d,null!==e)return void(He(i)&&i.oA===Me[i.tA]&&(i.oA=null));o.length=0,"file"===i.tA?r=13:He(i)&&n&&n.tA===i.tA?r=3:He(i)?r=7:47===h[a+1]?(r=4,a+=1):(i.rA=!0,i.sA.push(""),r=18)}break;case 2:if(!n||n.rA&&35!==v)throw new m("Invalid scheme");n.rA&&35===v?(i.tA=n.tA,i.sA=n.sA.slice(),i.Kp=n.Kp,i.hA="",i.rA=!0,r=20):"file"!==n.tA?(r=5,a-=1):(r=13,a-=1);break;case 3:47===v&&47===h[a+1]?r=8:(r=5,a-=1);break;case 4:47===v?r=9:(r=17,a-=1);break;case 5:i.tA=n.tA,$e===v?(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.Kp=n.Kp):47===v?r=6:63===v?(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.Kp="",r=19):35===v?(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.Kp=n.Kp,i.hA="",r=20):92===v&&He(i)?r=6:(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,i.sA=n.sA.slice(),i.sA.pop(),r=17,a-=1);break;case 6:!He(i)||47!==v&&92!==v?47===v?r=9:(i.iA=n.iA,i.eA=n.eA,i.nA=n.nA,i.oA=n.oA,r=17,a-=1):r=8;break;case 7:if(47!==v||47!==h[a+1]){r=8;continue}r=8,a+=1;break;case 8:47!==v&&92!==v&&(r=9,a-=1);break;case 9:if(64===v){u&&o.unshift(37,52,48),u=!0;for(var l=0;l<o.length;l++){var w=o[l];if(58!==w||f){var b=qi(re(w,ne));f?i.eA+=b:i.iA+=b}else f=!0}o.length=0}else if($e===v||47===v||63===v||35===v||He(i)&&92===v){if(u&&0===o.length)throw new m("Invalid host");a-=o.length+1,o.length=0,r=10}else o.push(v);break;case 10:case 11:if(null!==e&&"file"===i.tA)a-=1,r=15;else if(58!==v||s)if($e===v||47===v||63===v||35===v||He(i)&&92===v){if(a-=1,He(i)&&0===o.length)throw new m("Invalid host");if(null!==e&&0===o.length&&(Ve(i)||null!==i.oA))return;var g=de(qi(o),He(i));if(i.nA=g,o.length=0,r=16,null!==e)return}else 91===v?s=!0:93===v&&(s=!1),o.push(v);else{if(0===o.length)throw new m("Invalid host");var p=de(qi(o),He(i));if(i.nA=p,o.length=0,r=12,11===e)return}break;case 12:if(yi(v))o.push(v);else{if(!($e===v||47===v||63===v||35===v||He(i)&&92===v||null!==e))throw new m("Invalid port");if(0!==o.length){var y=_(qi(o),10);if(y>65535)throw new m("Invalid port");i.oA=y===Me[i.tA]?null:y,o.length=0}if(null!==e)return;r=16,a-=1}break;case 13:i.tA="file",47===v||92===v?r=14:n&&"file"===n.tA?$e===v?(i.nA=n.nA,i.sA=n.sA.slice(),i.Kp=n.Kp):63===v?(i.nA=n.nA,i.sA=n.sA.slice(),i.Kp="",r=19):35===v?(i.nA=n.nA,i.sA=n.sA.slice(),i.Kp=n.Kp,i.hA="",r=20):(qe(h.slice(a))||(i.nA=n.nA,i.sA=n.sA.slice(),Ke(i)),r=17,a-=1):(r=17,a-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.tA&&!qe(h.slice(a))&&(Ye(n.sA[0])?i.sA.push(n.sA[0]):i.nA=n.nA),r=17,a-=1);break;case 15:if($e===v||47===v||92===v||63===v||35===v)if(a-=1,null===e&&je(o))r=17;else if(0===o.length){if(i.nA=ce,null!==e)return;r=16}else{var S=de(qi(o),He(i));if(0===S.Zp&&"localhost"===S.qp&&(S=ce),i.nA=S,null!==e)return;o.length=0,r=16}else o.push(v);break;case 16:He(i)?(r=17,47!==v&&92!==v&&(a-=1)):null===e&&63===v?(i.Kp="",r=19):null===e&&35===v?(i.hA="",r=20):$e!==v&&(r=17,47!==v&&(a-=1));break;case 17:if($e===v||47===v||He(i)&&92===v||null===e&&(63===v||35===v)){var T=qi(o);if(ze(T)?(Ke(i),47===v||He(i)&&92===v||i.sA.push("")):!Fe(T)||47===v||He(i)&&92===v?Fe(T)||("file"===i.tA&&0===i.sA.length&&je(o)&&(ce!==i.nA&&null!==i.nA&&(i.nA=ce),o[1]=58,T=qi(o)),i.sA.push(T)):i.sA.push(""),o.length=0,"file"===i.tA&&($e===v||63===v||35===v))for(;i.sA.length>1&&""===i.sA[0];)i.sA.shift();63===v?(i.Kp="",r=19):35===v&&(i.hA="",r=20)}else o.push.apply(o,re(v,te));break;case 18:63===v?(i.Kp="",r=19):35===v?(i.hA="",r=20):$e!==v&&(i.sA[0]+=qi(re(v,Ji)));break;case 19:null===e&&35===v?(i.hA="",r=20):$e!==v&&(i.Kp+=qi(re(v,He(i)?ee:ie)));break;case 20:$e===v||0===v||(i.hA+=qi(re(v,Qi)))}a++}return i}function tr(t,n,i,e){try{Qe(t,n,i,e)}catch(t){}}var nr=function(){this.tA="",this.iA="",this.eA="",this.nA=null,this.oA=null,this.sA=[],this.Kp=null,this.hA=null,this.rA=!1};function ir(t){switch(t.tA){case"blob":var n;try{n=Qe(t.sA[0],null)}catch(t){return Be}return ir(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+le(n)+(null===i?"":":"+i)}(t.tA,t.nA,t.oA);default:return Be}}var er=function(){function t(t,n){var i,e=null;if(null!=n)if(function(t){return null!=t&&t instanceof er&&"object"==typeof t.Yu}(n))e=n.Yu;else try{e=Qe(String(n),null)}catch(t){throw new m("Invalid base URL: "+t.message)}try{i=Qe(String(t),e)}catch(t){throw new m("Invalid URL: "+t.message)}var r=i.Kp;this.Yu=i,this.Kp=function(t){var n=new Ne;return null!==t&&Re(n,t),n}(r),this.Kp.Yu=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&ei(t.prototype,n),i&&ei(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.tA+":";if(null!==t.nA?(i+="//",Ve(t)&&(i+=t.iA,""!==t.eA&&(i+=":"+t.eA),i+="@"),i+=le(t.nA),null!==t.oA&&(i+=":"+t.oA)):null===t.nA&&"file"===t.tA&&(i+="//"),t.rA)i+=t.sA[0];else for(var e=0,r=t.sA;e<r.length;e++)i+="/"+r[e];return null!==t.Kp&&(i+="?"+t.Kp),n||null===t.hA||(i+="#"+t.hA),i}(this.Yu)},set:function(t){var n;try{n=Qe(String(t),null)}catch(t){throw new m("Invalid URL: "+t.message)}this.Yu=n,ke(this.Kp);var i=this.Yu.Kp;null!==i&&Re(this.Kp,i)}},{key:"origin",get:function(){return ir(this.Yu)}},{key:"protocol",get:function(){return this.Yu.tA+":"},set:function(t){tr(t+":",null,this.Yu,0)}},{key:"username",get:function(){return this.Yu.iA},set:function(t){Ge(this.Yu)||(this.Yu.iA=oe(t,ne))}},{key:"password",get:function(){return this.Yu.eA},set:function(t){Ge(this.Yu)||(this.Yu.eA=oe(t,ne))}},{key:"host",get:function(){var t=this.Yu,n=t.nA;if(null===n)return"";var i=t.oA,e=le(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Yu.rA||tr(t,null,this.Yu,10)}},{key:"hostname",get:function(){var t=this.Yu.nA;return null===t?"":le(t)},set:function(t){this.Yu.rA||tr(t,null,this.Yu,11)}},{key:"port",get:function(){var t=this.Yu.oA;return null===t?"":""+t},set:function(t){Ge(this.Yu)||(""===t?this.Yu.oA=null:tr(t,null,this.Yu,12))}},{key:"pathname",get:function(){var t=this.Yu.sA;return this.Yu.rA?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Yu.rA||(this.Yu.sA.length=0,tr(t,null,this.Yu,16))}},{key:"search",get:function(){var t=this.Yu.Kp;return null===t||""===t?"":"?"+t},set:function(t){t=_e(t);var n=this.Yu;if(""===t)return n.Kp=null,void ke(this.Kp);"?"===t[0]&&(t=t.slice(1)),n.Kp="",tr(t,null,n,19),Re(this.Kp,t)}},{key:"searchParams",get:function(){return this.Kp}},{key:"hash",get:function(){var t=this.Yu.hA;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Yu.hA="",tr(t,null,this.Yu,20)):this.Yu.hA=null}}]),t}();function rr(t){return t.document&&t.document.baseURI||t.location.href||""}x(),gt();var or=function(){function t(){this.MA=new ur,this.NA=Bn,this.SA=sr(),self.performance&&self.performance.now?this.Og=function(){return self.performance.now()}:this.Og=In}var n=t.prototype;return n.aA=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Qn.apply(void 0,Yn(n))},n.uA=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ti.apply(void 0,Yn(n))},n.cA=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];ni.apply(void 0,Yn(n))},n.lA=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ii.apply(void 0,[t].concat(Yn(i)))},n.Pg=function(t,n){return d(t,n)},n.dA=function(t,n){return w(t,n)},n.Rg=function(t){l(t)},n.fA=function(t){b(t)},n.gA=function(){return this._A.gA()},n.vA=function(){return this._A.vA()},n.wA=function(){return this._A.wA()},n.mA=function(){return this._A.mA()},n.pA=function(){return this._A.pA()},n.AA=function(t,n){return this._A.AA(t,n)},n.yA=function(t){return this._A.yA(t)},n.Ah=function(t,n){var i;return void 0===n&&(n=rr(Un)),i="object"!==(void 0===n?"undefined":B(n))||n instanceof er?n:n.href,new er(t,i)},n.TA=function(t,n){if(void 0===n&&(n=rr(Un)),this.SA){var i=function(t){return"string"==typeof t}(n)?n:n.toString();return new self.URL(t,i).href}return this.Ah(t,n).href},Tt(t,[{key:"bA",get:function(){return this.MA}},{key:"Ys",get:function(){return this.NA}},{key:"IA",get:function(){return{DA:v&&v.userAgent.match(/Android /i)?"Android":"other",EA:Boolean(v&&v.userAgent.match(/Android 8.0.0/i))}}},{key:"kA",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"LA",get:function(){return"languages"in v?v.languages.slice():[v.language]}}]),t}(),ur=function(){function t(){}return Tt(t,[{key:"xA",get:function(){return v.oscpu}},{key:"Ys",get:function(){return v.platform}},{key:"CA",get:function(){return v.vendor}},{key:"jA",get:function(){return v.vendorSub}}]),t}();function sr(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}x(),gt();var fr=function(){function t(){}var n=t.prototype;return n.pA=function(){return J.resolve(!1)},n.vA=function(){return J.resolve(!1)},n.mA=function(){return J.resolve(!1)},n.wA=function(){return J.resolve(!1)},n.yA=function(t){return J.resolve(!1)},n.AA=function(t,n){return J.resolve(!1)},n.gA=function(){return J.resolve(!1)},t}();x(),gt();var hr=function(){function t(){}var n=t.prototype;return n.kN=function(){},n.eM=function(t){},n.$b=function(t){},n.tM=function(t,n){},t}();x(),gt();var cr="default",ar="unknown";x(),gt(),x(),gt(),x(),gt();var vr=function(t){return t.xN="arraybuffer",t.CN="json",t.jN="stream",t.ON="text",t}({});function dr(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var r=null==t?null:void 0!==n&&t[e]||t["@@iterator"];if(null!=r){var o,u,s=[],f=!0,h=!1;try{for(r=r.call(t);!(f=(o=r.next()).done)&&(s.push(o.value),!i||s.length!==i);f=!0);}catch(t){h=!0,u=t}finally{try{f||null==r.return||r.return()}finally{if(h)throw u}}return s}}(t,i)||jn(t,i)||function(){throw new m("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var lr=function(){function t(n){var i=this;this.Hv={},n instanceof t?n.asList().forEach((function(t){var n=dr(t,2),e=n[0],r=n[1];i.append(e,r)})):Array.isArray(n)?n.forEach((function(t){var n=dr(t,2),e=n[0],r=n[1];i.append(e,r)})):n&&p.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=wr(i),e=br(e);var r=i.toLowerCase();if(this.Hv.hasOwnProperty(r)){var o=this.Hv[r],u=o[1];o[1]=u?u+", "+e:e}else this.Hv[r]=[i,e]},n.delete=function(t){var n=wr(t).toLowerCase();delete this.Hv[n]},n.get=function(t){var n=wr(t).toLowerCase();return this.Hv.hasOwnProperty(n)?this.Hv[n][1]:null},n.has=function(t){var n=wr(t).toLowerCase();return this.Hv.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=wr(i)).toLowerCase();this.Hv[e]=[i,br(n)]},n.forEach=function(t,n){for(var i in this.Hv)this.Hv.hasOwnProperty(i)&&t.call(n,this.Hv[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Hv)if(this.Hv.hasOwnProperty(n)){var i=dr(this.Hv[n],2),e=i[0],r=i[1];t.push([e,r])}return t},n.RN=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.PN=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.zN=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function wr(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new m("Invalid character in header field name");return n}function br(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}function gr(t,n,i,e,r,o,u){try{var s=t[o](u),f=s.value}catch(t){return void i(t)}s.done?n(f):J.resolve(f).then(e,r)}function mr(t){return function(){var n=this,i=arguments;return new J((function(e,r){var o=t.apply(n,i);function u(t){gr(o,e,r,u,s,"next",t)}function s(t){gr(o,e,r,u,s,"throw",t)}u(void 0)}))}}function pr(t,i){var r,o,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},f=p.create(("function"==typeof Iterator?Iterator:p).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),"function"==typeof n&&(f[e]=function(){return this}),f;function h(n){return function(e){return function(n){if(r)throw new m("Generator is already executing.");for(;f&&(f=0,n[0]&&(s=0)),s;)try{if(r=1,o&&(u=2&n[0]?o.return:n[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(u=s.trys,(u=u.length>0&&u[u.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){s.label=n[1];break}if(6===n[0]&&s.label<u[1]){s.label=u[1],u=n;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(n);break}u[2]&&s.ops.pop(),s.trys.pop();continue}n=i.call(t,s)}catch(t){n=[6,t],o=0}finally{r=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}}x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var yr="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var e=new g(i);return e.name="SuppressedError",e.error=t,e.suppressed=n,e};x(),gt(),x(),gt();Array.prototype.find,Array.prototype.findLast;var _r="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},Sr="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function Tr(t,n){var i=t.indexOf(n);return-1!==i&&(function(t,n){0===n?t.shift():t.splice(n,1)}(t,i),!0)}function Er(t,n){for(var i=new Array(t.length),e=0,r=0;r<t.length;){if(t[r]===n){r++,i.length-=1;break}i[e++]=t[r++]}for(;r<t.length;)i[e++]=t[r++];return i}function Ir(t,n){return-1!==t.indexOf(n)}function kr(t){t.length=0}Array.prototype.flat,Array.prototype.flatMap;var Rr=function(){function t(){this.sy=!1,this._y=!1,this.vy=[],this.py=[]}var n=t.prototype;return n.gy=function(){if(!this.sy&&!this._y){this.sy=!0;for(var t=0,n=this.vy.slice();t<n.length;t++){(0,n[t])()}this.wy()}},n.wy=function(){if(!this._y){this._y=!0;for(var t=0,n=this.py.slice();t<n.length;t++){(0,n[t])()}kr(this.vy),kr(this.py)}},n.uy=function(t){this._y||this.vy.push(t)},n.oy=function(t){this._y||Tr(this.vy,t)},n.Ay=function(t){this._y||this.py.push(t)},n.yy=function(t){this._y||Tr(this.py,t)},t}(),Or=function(){function t(){this.My=new Rr}var n=t.prototype;return n.Ty=function(){this.My.gy()},n.wy=function(){this.My.wy()},n.Sy=function(t){var n=this.My;if(!n.sy)if(t.sy)n.gy();else if(!n._y&&!t._y){var i=function(){e(),n.gy()},e=function(){t.oy(i),t.yy(e),n.oy(i),n.yy(e)};t.uy(i),t.Ay(e),n.uy(i),n.Ay(e)}},n.Ny=function(){var n=new t,i=new t,e=n.ly,r=i.ly,o=this.My,u=function(){e.sy&&r._y||r.sy&&e._y?o.gy():e._y&&r._y&&o.wy()};e.uy(u),r.uy(u),e.Ay(u),r.Ay(u),n.Sy(o),i.Sy(o);return o.Ay((function(){e.oy(u),r.oy(u),e.yy(u),r.yy(u)})),[n,i]},n[r]=function(){this.Ty()},t.Iy=function(n){for(var i=new t,e=0;e<n.length;e++){var r=n[e];void 0!==r&&i.Sy(r)}return i},Tt(t,[{key:"ly",get:function(){return this.My}}]),t}(),Nr=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),Pr=function(t){return t.DI="same-origin",t.EI="no-cors",t.kI="cors",t.LI="navigate",t}({}),Ar=function(t,n){var i,e,r,o,u,s,f,h,c,a,v,d,l,w,b,g,m,p,y=t.zu;n?(i=n.GN,e=n.aI,r=n.xI,o=n.oI,u=n.CI,s=n.jI,f=n.ly,h=n.YA,c=n.OI,a=n.RI,v=n.zI,d=n.BI,l=n.UI,w=n.QI,b=n.FI):(i=null,e={},r="GET",o=vr.ON,u=0,s=0,h="",c="",a="",v=!1,l=void 0,w=!1,b=void 0),this.zu=y,this.GN=t.GN||i,this.aI=new lr(t.aI||e),this.xI=t.xI||r,this.oI=t.oI||o,this.CI=void 0!==t.CI?Number(t.CI)||0:u,this.jI=void 0!==t.jI?Number(t.jI)||0:s,this.ly=t.ly||f||(new Or).ly,this.YA=t.YA||h,this.OI=t.OI||c,this.RI=t.RI||a,this.zI=void 0!==t.zI?Boolean(t.zI):v,this.BI=t.BI||d,this.UI=null!=(g=t.UI)?g:l,this.QI=null!=(m=t.QI)?m:w,this.FI=null!=(p=t.FI)?p:b};x(),gt(),x(),gt(),x(),gt();var Dr=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];g.apply(this,n)};(Dr.prototype=p.create(g.prototype)).constructor=Dr;var Cr=function(t){function n(n,i){var e;return(e=t.call(this)||this).message=n||"Unknown error",e.cause=i,g.captureStackTrace&&g.captureStackTrace(e,e.constructor),e}return _t(n,t),Tt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Dr),xr=function(t){return t.KI="HttpOpenError",t.JI="HttpResponseError",t.$I="HttpTimeoutError",t}({}),Br=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).tD=n,r}return _t(n,t),Tt(n,[{key:"hI",get:function(){return this.tD}}]),n}(Cr);var Mr=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.zu),i)||this}return _t(n,t),Tt(n,[{key:"name",get:function(){return xr.KI}}]),n}(Br),Lr=function(){function t(){}var n=t.prototype;return n.hI=function(t){return J.reject(new Mr(new Ar(t)))},n.YI=function(t){},n.gn=function(){},t}();x(),gt();var Ur=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return _t(n,t),n}(Cr),Fr=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nE=new fr,n.OQ=new Lr,n.i=new hr,n}return _t(n,t),n.prototype.CD=function(t){throw new Ur},Tt(n,[{key:"_A",get:function(){return this.nE}},{key:"rE",get:function(){return!1}},{key:"hE",get:function(){return!1}},{key:"lE",get:function(){return!1}},{key:"uE",get:function(){return!1}},{key:"dE",get:function(){return this.i}},{key:"fE",get:function(){return{gE:Yt}}},{key:"_E",get:function(){return cr}},{key:"vE",get:function(){return ar}},{key:"wE",get:function(){return this.OQ}}]),n}(or);function zr(){return zr=p.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)p.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},zr.apply(this,arguments)}function Wr(){var t=p.create(null);return t.OA=void 0,delete t.OA,t}function Hr(){return new qr}jt(new Fr),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var Vr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,qr=Vr||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=p.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=Wr(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=Wr(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();Vr||function(){var t=function(){function t(t,n){this.RA=t,this.PA=n}return t.prototype.next=function(){var t=this.RA.next();return t.done?t:{value:this.PA(t.value),done:!1}},t}();(function(){function n(){this.Hv=Hr()}var i=n.prototype;i.get=function(t){return this.Hv.get(""+t)},i.set=function(t,n){return this.Hv.set(""+t,n),this},i.has=function(t){return this.Hv.has(""+t)},i.delete=function(t){return this.Hv.delete(""+t)},i.clear=function(){this.Hv.clear()},i.keys=function(){return new t(this.Hv.keys(),(function(t){return Number(t)}))},i.values=function(){return this.Hv.values()},i.entries=function(){return new t(this.Hv.entries(),(function(t){var n=dr(t,2),i=n[0],e=n[1];return[Number(i),e]}))},i.forEach=function(t){this.Hv.forEach((function(n,i){t(n,Number(i))}))},Tt(n,[{key:"size",get:function(){return this.Hv.size}}])})()}();x(),gt(),x(),gt();var Xr="9a04f079-9840-4286-ab92-e65be0885f95",jr="urn:uuid:"+Xr,Yr="com.microsoft.playready",Kr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Gr="urn:uuid:"+Kr,$r="com.widevine.alpha",Zr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Jr="urn:uuid:"+Zr,Qr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",to="urn:uuid:"+Qr,no="com.apple.fps.1_0";x(),gt();var io=function(t){return t.zA="playready",t.BA="widevine",t.QA="fairplay",t.UA="clearkey",t.FA="aes128",t}({}),eo={YA:io.zA,VA:Yr,GA:"cenc",WA:Xr,ZA:jr,HA:"PlayReady"},ro={YA:io.BA,VA:$r,GA:"cenc",WA:Kr,ZA:Gr,HA:"Widevine"},oo={YA:io.QA,VA:no,GA:"skd",WA:Qr,ZA:to,HA:"FairPlay"},uo=(io.QA,{YA:io.UA,VA:"org.w3.clearkey",GA:"cenc",WA:Zr,ZA:Jr,HA:"ClearKey"});x(),gt();String.prototype.replaceAll;var so="function"==typeof String.prototype.startsWith?function(t,n){return zt(t)&&t.startsWith(n)}:function(t,n){return zt(t)&&t.substr(0,n.length)===n},fo=(String.prototype.endsWith,"function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}),ho=(String.prototype.padStart,String.prototype.padEnd,16384),co="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=ho?(n=String).fromCodePoint.apply(n,Yn(t)):vo(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ao(n)};function ao(t){var n;return t.length<=ho?(n=String).fromCharCode.apply(n,Yn(t)):vo(t,String.fromCharCode)}function vo(t,n){for(var i=[],e=0;e<t.length;e+=ho)i.push(n.apply(void 0,Yn(t.slice(e,e+ho))));return i.join("")}var lo=Ut.vf&&Ut.mf>=42||Ut.Wf&&Ut.Hf>=38||Ut.zf||Ut.Ff||Ut.eg&&Ut.og>=29;function wo(t,n){return function(t,n){return zt(t)&&-1!==t.indexOf(n)}(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[zr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[zr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var bo=function(){function t(t){this.XA=Hr(),this.JA=void 0,this.KA=t}var n=t.prototype;return n.pA=function(){return this.yA(ro)},n.vA=function(){return this.yA(uo)},n.mA=function(){return this.yA(eo)},n.wA=function(){return this.yA(oo)},n.yA=function(t){var n=t.ZA,i=this.XA.get(n);if(i)return i;var e=this.AA(t,'video/mp4; codecs="avc1.42000a"');return this.XA.set(n,e),e},n.AA=function(t,n){var i=this;return mr((function(){return pr(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,i.KA.qA(t.VA,[wo(n,!0)])];case 1:return e.sent(),[2,!0];case 2:e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,i.KA.qA(t.VA,[wo(n,!1)])];case 4:return e.sent(),[2,!0];case 5:return e.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.gA=function(){return this.JA||(this.JA=this.$A()),this.JA},n.$A=function(){var t=this;return mr((function(){return pr(this,(function(n){switch(n.label){case 0:return"https:"===undefined.protocol?[2,!1]:lo?[4,t.vA()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var go=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return _t(n,t),Tt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Cr);function mo(t){return t instanceof g&&"AbortError"===t.name}function po(t,n){return n?new J((function(i,e){if(n.sy)return t.catch(Yt),e(new go);var r=function(){n.oy(r),e(new go)};n.uy(r),t.then((function(t){n.oy(r),i(t)}),(function(t){n.oy(r),e(t)}))})):t}function yo(t,n){return _o.apply(this,arguments)}function _o(){return _o=mr((function(t,n){var i,e;return pr(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),function(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new m("Object expected.");var e,u;if(i){if(!o)throw new m("Symbol.asyncDispose is not defined.");e=n[o]}if(void 0===e){if(!r)throw new m("Symbol.dispose is not defined.");e=n[r],i&&(u=e)}if("function"!=typeof e)throw new m("Object not disposable.");u&&(e=function(){try{u.call(this)}catch(t){return J.reject(t)}}),t.stack.push({value:n,dispose:e,async:i})}else i&&t.stack.push({async:!0});return n}(i,n,!1),[4,t];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return function(t){function n(n){t.error=t.hasError?new yr(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,e=0;(function r(){for(;i=t.stack.pop();)try{if(!i.async&&1===e)return e=0,t.stack.push(i),J.resolve().then(r);if(i.dispose){var o=i.dispose.call(i.value);if(i.async)return e|=2,J.resolve(o).then(r,(function(t){return n(t),r()}))}else e|=1}catch(t){n(t)}if(1===e)return t.hasError?J.reject(t.error):J.resolve();if(t.hasError)throw t.error})()}(i),[7];case 5:return[2]}}))})),_o.apply(this,arguments)}x(),gt();J.resolve();function So(t,n){return new J((function(i,e){if(void 0!==n&&n.sy)e(new go);else{var r=Wt.Pg((function(){void 0!==n&&n.oy(o),i()}),t),o=function(){Wt.Rg(r),e(new go)};void 0!==n&&n.uy(o)}}))}function To(t,n,i){if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Eo=function(){function t(t){var n=this;this.Ey=Wr(),this.Cy=void 0,this.Ly=0,this.Ds=function(t){n.yo(t)},this.jy=null!=t?t:this}var n=t.prototype;return n.yn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Dy(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Dy(e,n)}},n.Dy=function(t,n){var i=this.Ey[t];void 0===i?this.Ey[t]=n:"function"==typeof i?this.Ey[t]=[i,n]:0===this.Ly?i.push(n):this.Ey[t]=i.concat(n)},n.xy=function(t){if("function"==typeof t){var n=this.Cy;void 0===n?this.Cy=t:"function"==typeof n?this.Cy=[n,t]:0===this.Ly?n.push(t):this.Cy=n.concat(t)}},n.Bo=function(){this.Ey=Wr(),this.Cy=void 0},n.yo=function(t){this.Ly++;var n=this.Ey[t.type],i=this.Cy;void 0!==n&&To(this.jy,t,n),void 0!==i&&To(this.jy,t,i),this.Ly--},n.fn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Oy(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Oy(e,n)}},n.Oy=function(t,n){var i=this.Ey[t];void 0!==i&&("function"==typeof i?i===n&&(this.Ey[t]=void 0):0===this.Ly?Tr(i,n):this.Ey[t]=Er(i,n))},n.Ry=function(t){if("string"==typeof t)this.Ey[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ey[i]=void 0}},n.Py=function(t){var n=this.Cy;void 0!==n&&("function"==typeof n?n===t&&(this.Cy=void 0):0===this.Ly?Tr(n,t):this.Cy=Er(n,t))},n.zy=function(t,n){var i=this;return new J((function(e,r){if(n&&n.sy)return r(new go);var o=function(t){s(),e(t)},u=function(){s(),r(new go)},s=function(){i.fn(t,o),n&&n.oy(u)};i.yn(t,o),n&&n.uy(u)}))},t}();x(),gt(),x(),gt();var Io=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};x(),gt();var ko=function(t){return t.By="Uy",t.Qy="Fy",t.Yy="contentprotectionerror",t.Vy="contentprotectionsuccess",t.Gy="currentsourcechange",t.Wy="destroy",t.Zy="durationchange",t.Hy="emptied",t.Xy="encrypted",t.qy="ended",t.Ky="Jy",t.$y="ib",t.eb="sb",t.ob="hb",t.ub="loadstart",t.fb="manifestupdate",t.gb="nosupportedrepresentationfound",t._b="offline",t.vb="online",t.wb="pause",t.so="play",t.mb="progress",t.pb="ratechange",t.Ab="representationchange",t.yb="resize",t.bb="seeked",t.Mb="seeking",t.Tb="segmentnotfound",t.Sb="Nb",t.Ib="Db",t.ro="sourcechange",t.Eb="timeupdate",t.kb="volumechange",t.Lb="xb",t.Cb="jb",t.Ob="metricschange",t}({}),Ro=["cenc"],Oo=["cbcs","cbcs-1-9"],No=function(t){function n(n){var i;return(i=t.call(this,ko.Cb)||this).Rb=n,i}return _t(n,t),n}(Io),Po=function(t){function n(n,i,e,r){var o;return(o=t.call(this,"Pb")||this).zb=n,o.Bb=i,o.Pb=e,o.Ub=r,o}return _t(n,t),n}(Io),Ao=function(t){function n(){return t.call(this,"lt")||this}return _t(n,t),n}(Io);x(),gt(),x(),gt(),x(),gt();var Do="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Co=16383;function xo(t,n,i){return Do[t>>2]+Do[(3&t)<<4|n>>4]+Do[(15&n)<<2|i>>6]+Do[63&i]}function Bo(t,n,i){for(var e=[],r=n;r<i;r+=3)e.push(xo(t[r],t[r+1],t[r+2]));return e.join("")}x(),gt(),x(),gt();var Mo=function(){function t(t){void 0===t&&(t=0),this.ic=t}var n=t.prototype;return n.Gb=function(t){this.ic+=t},n.Wb=function(t){this.ic=t},n.Zb=function(){return new t(this.tc)},Tt(t,[{key:"tc",get:function(){return this.ic}}]),t}();function Lo(t){if(t>=55296&&t<=57343)throw new g("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Uo(t,n){return t>>n&63|128}function Fo(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Lo(t),n.push(t>>12&15|224),n.push(Uo(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Uo(t,12)),n.push(Uo(t,6))),n.push(63&t|128)):n.push(t)}function zo(t,n){if(n.tc>=t.length)throw new g("Invalid byte index");var i=255&t[n.tc];if(n.Gb(1),128==(192&i))return 63&i;throw new g("Invalid continuation byte")}function Wo(t,n){var i=n.tc;if(i>t.length)throw new g("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Gb(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|zo(t,n);if(r>=128)return r;throw new g("Invalid continuation byte")}if(224==(240&e)){var o=(15&e)<<12|zo(t,n)<<6|zo(t,n);if(o>=2048)return Lo(o),o;throw new g("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|zo(t,n)<<12|zo(t,n)<<6|zo(t,n);if(u>=65536&&u<=1114111)return u}throw new g("Invalid UTF-8 detected")}x(),gt(),x(),gt();var Ho=65279;function Vo(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.tc,i);return n.Gb(2),e}function qo(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.tc,i,e),n.Gb(2)}function Xo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.tc,i,e),n.Gb(4)}function jo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,o=0;o<r;o+=1){qo(t,n,i.charCodeAt(o),e)}}function Yo(t,n){return void 0===n&&(n=!1),function(t,n,i,e){for(var r=[];n.tc+2<=t.byteLength;){var o=Vo(t,n,i);if(e&&!o)break;r.push(o)}return ao(r)}($o(t),new tu,n,!1)}function Ko(t){return function(t){return co(t)}(function(t,n){var i,e=[],r=new tu;if(!n){if(!1===(i=Wo(t,r)))return e;i===Ho||e.push(i)}for(;!1!==(i=Wo(t,r));)e.push(i);return e}(Zo(t)))}function Go(t){return new E(function(t){for(var n=[],i=0;i<t.length;i++)Fo(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var o=t.charCodeAt(i++);56320==(64512&o)?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function $o(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zo(t){return new E(t.buffer,t.byteOffset,t.byteLength)}function Jo(t){return t instanceof ArrayBuffer?new E(t):Zo(t)}function Qo(t){if(t.slice)return t.slice(0);var n=new E(t.byteLength);return n.set(t,0),n}var tu=function(){function t(t){void 0===t&&(t=0),this.ic=t}var n=t.prototype;return n.Gb=function(t){this.ic+=t},n.Wb=function(t){this.ic=t},n.Zb=function(){return new t(this.tc)},n.qb=function(){return new Mo(this.tc<<3)},Tt(t,[{key:"tc",get:function(){return this.ic}}]),t}(),nu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],iu=ArrayBuffer.isView||function(t){return t&&Ir(nu,Ft.call(t))};function eu(t,n){return t===n||function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(Jo(t),Jo(n))}function ru(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return function(t,n){for(var i=new E(n),e=0,r=0;r<t.length;r++){var o=t[r];i.set(o,e),e+=o.byteLength}return i}(t,n)}function ou(t){return function(t){for(var n=t.length,i=n%3,e=[],r=n-i,o=0;o<r;o+=Co)e.push(Bo(t,o,y.min(r,o+Co)));if(1===i){var u=t[n-1];e.push(Do[u>>2]+Do[(3&u)<<4]+"==")}else if(2===i){var s=t[n-2],f=t[n-1];e.push(Do[s>>2]+Do[(3&s)<<4|f>>4]+Do[(15&f)<<2]+"=")}return e.join("")}(new E(t))}var uu=new E([0]).buffer,su=function(){function t(){this.Qu=[]}var n=t.prototype;return n.Jb=function(t){for(var n=0,i=this.Qu;n<i.length;n++){if(eu(i[n][0],t))return!0}return!1},n.$b=function(t){for(var n=0,i=this.Qu;n<i.length;n++){var e=i[n];if(eu(e[0],t))return e[1]}},n.tM=function(t,n){for(var i=0,e=this.Qu;i<e.length;i++){var r=e[i];if(eu(r[0],t))return void(r[1]=n)}this.Qu.push([t,n])},n.iM=function(t,n){this.Qu.forEach((function(n){return t(n[1],n[0])}),n)},n.eM=function(){kr(this.Qu)},Tt(t,[{key:"Kb",get:function(){return this.Qu.length}}]),t}();x(),gt();var fu=function(){function t(){var t=this;this.rM=new J((function(n,i){t.Kg=n,t.Jg=i}))}var n=t.prototype;return n.sM=function(t){this.Kg&&(this.Kg(t),this.wy())},n.nM=function(t){this.Jg&&(this.Jg(t),this.wy())},n.Ty=function(){this.rM.catch(Yt),this.nM(new go)},n.Sy=function(t){var n=this;t.then((function(t){return n.sM(t)}),(function(t){return n.nM(t)}))},n.wy=function(){this.Kg=void 0,this.Jg=void 0},t}();function hu(t,n){return t===Yr?function(t){if(t.byteLength<2*cu.length)return t;var n=new DataView(t,0,2*cu.length),i=Yo(n,!0);if(i===cu)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',e=""+n+ou(t)+i;return function(t,n){void 0===n&&(n=!1);var i=new E(2*t.length);return jo($o(i),new tu,t,n),i}(e,!0).buffer}(t)}(n):n}x(),gt();var cu="<PlayReady";x(),gt(),x(),gt();var au=function(t){function n(n,i,e,r){var o;return(o=t.call(this,n,r)||this).oM=i,o.hM=e,o}return _t(n,t),n}(Cr);x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var vu=function(t,n){return(vu=p.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)p.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function du(t,n){if("function"!=typeof n&&null!==n)throw new m("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}vu(t,n),t.prototype=null===n?p.create(n):(i.prototype=n.prototype,new i)}function lu(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();!function(){function t(t,n){this.aM=t,this.uM=n}t.prototype.get=function(t){var n=this.aM.get(t);if(0===this.uM||void 0===n)return n;var i=this.aM.get(t+1)||0,e=n&(1<<8-this.uM)-1,r=i>>8-this.uM;return(e<<this.uM)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.aM.get(y.floor((t+this.uM)/8));if(void 0!==n)return(n&1<<7-this.uM-t%8)>0?1:0}},p.defineProperty(t.prototype,"bitLength",{get:function(){return this.aM.bitLength-this.uM},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"length",{get:function(){return this.aM.length},enumerable:!1,configurable:!0})}();x(),gt(),x(),gt();y.pow(2,-52);function wu(t,n,i){return y.min(y.max(t,n),i)}function bu(t,n){return t>>8-n}function gu(t,n){return t&(1<<n)-1}var mu=function(){function t(t){this.cM=t,this.lM=0,this.dM=0}return p.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.lM+this.dM},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"done",{get:function(){return this.lM===this.cM.length&&0===this.dM},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"location",{get:function(){return{byte:this.lM,bit:this.dM}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.cM);return n.seek(this.lM,this.dM),n},t.prototype.canReadBits=function(t){return 8*this.lM+t+this.dM<=8*this.cM.length},t.prototype.canReadBytes=function(t){return 0===this.dM?this.lM+t<=this.cM.length:this.lM+t<this.cM.length},t.prototype.incBit=function(){this.dM++,this.dM>7&&(this.lM++,this.dM=0)},t.prototype.seek=function(t,n){this.lM=t,this.dM=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new g("Cannot read past end of buffer.");return this.cM.get(this.lM)>>7-this.dM&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new g("Cannot read past end of buffer.");if(0===this.dM)return this.cM.get(this.lM++);var t=gu(this.cM.get(this.lM),8-this.dM),n=bu(this.cM.get(this.lM+1),this.dM);return this.lM++,t<<this.dM|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new g("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new g("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new g("Cannot read past end of buffer.");var n=0;if(0===this.dM&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new g("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new g("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-y.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new g("Skipping over the buffer edge is not allowed.");var n=this.dM+t;this.lM+=n>>3,this.dM=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new g("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();x(),gt(),x(),gt(),x(),gt();var pu=function(t,n){return t===n?0:t<n?-1:t>n?1:T(t)?T(n)?0:1:-1},yu=function(){function t(){this.fM=[],this.gM=[],this._M=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,o=n;r<o.length;r++){var u=o[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new g("The buffer length must be positive.");if(0!==i){if(0===this.gM.length)this.gM.push(0);else{var e=this.gM[this.gM.length-1]+this.fM[this.fM.length-1].length;this.gM.push(e)}this.fM.push(t.subarray(n,n+i)),this._M+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,o=this.fM;r<o.length;r++){var u=o[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.fM=[],this.gM=[],this._M=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.gM[n];return this.fM[n][i]}},p.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.fM.length<1)return-1;if(this.fM.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.fM[0];return"number"==typeof t?lu(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,o=0;o<=r&&!((o=lu(t,i,o))<0||o>r);o++){for(var u=o+1,s=o+e,f=1;u<s&&t[u]===n[f];u++,f++);if(u===s)return o}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var o=y.ceil((e+r)/2);i(t[o],n)<=0?e=o:r=o-1}return e}}}(this.gM,t,pu)},t.prototype.join=function(){if(1===this.fM.length)return this.fM[0];var t=new E(this.length);return this.copyInternal(t,0),t},p.defineProperty(t.prototype,"length",{get:function(){return this._M},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new g("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new g("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*y.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=wu(n,0,this.length),r=wu(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var o=new t,u=this.findContainingBufferIndex(e),s=this.fM[u],f=e,h=f-this.gM[u];f+s.length-h<r;)o.pushRange(s,h,s.length-h),u+=1,h=(f+=s.length-h)-this.gM[u],s=this.fM[u];var c=r-f;return o.pushRange(s,h,c),o},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.fM.length-1,e=this.fM[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.fM[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),_u=function(){function t(n){this.vM=n||t.BUFFER_CHUNK_SIZE,this.wM=!1,this.mM=new yu,this.cM=new E(this.vM),this.pM=0,this.AM=0,this.dM=7}return t.prototype.closeByte=function(){this.cM[this.pM++]=this.AM,this.pM>=this.vM&&this.closeBuffer(),this.AM=0,this.dM=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.pM&&(this.mM.pushRange(this.cM,0,this.pM),t&&(this.cM=new E(this.vM)),this.pM=0)},p.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.dM},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.wM)throw new g("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.wM=!0,this.mM},t.prototype.writeBit=function(t){if(this.wM)throw new g("Cannot write to a closed BitWriter.");this.AM|=t<<this.dM,0===this.dM?this.closeByte():this.dM--},t.prototype.writeByte=function(t){if(this.wM)throw new g("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.AM=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.dM;this.AM|=bu(t,n+1),this.closeByte(),this.AM=gu(t,8-n)<<n+1,this.dM=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.wM)throw new g("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.pM+t.length<=this.vM?(this.cM.set(t,this.pM),this.pM+=t.length,this.pM===this.vM&&this.closeBuffer()):(this.closeBuffer(),this.mM.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.dM;this.AM|=bu(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=gu(t[i-1],8-n),r=bu(t[i],n+1);this.AM=e<<n+1|r,this.closeByte()}this.AM=gu(t[t.length-1],8-n)<<n+1,this.dM=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new g("Received a negative number.");if(n>32)throw new g("The max bitlength that can be provided is 32.");if(t>=y.pow(2,n))throw new g("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new g("The max bitlength that can be provided is 32.");if(y.abs(t)>=y.pow(2,n-1))throw new g("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+y.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new g("Received a negative number.");for(var n=y.floor(y.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new E(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();x(),gt();var Su=function(){function t(t){this.rb=new yu,this.o_=t}return t.prototype.closeWriter=function(){void 0!==this.o_&&(this.rb=this.rb.concat(this.o_.close()),this.o_=void 0)},p.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.o_&&(this.o_=new _u),this.o_},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Tu=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new g("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(y.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Su;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=y.pow(2,32),t}();function Eu(t,n){return t instanceof Tn?64===n:t<y.pow(2,n)}function Iu(t,n){return y.round(t*y.pow(2,n))}function ku(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Ru(t,n){return t/y.pow(2,n)}x(),gt();var Ou=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Eu(i,8))throw new g("the provided version cannot fit in 8 bits.");return r.flags=e,r}return du(n,t),p.defineProperty(n.prototype,"flags",{get:function(){return this.Lv},set:function(t){this.Lv=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new g("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Tu);x(),gt(),x(),gt();var Nu=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return du(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(yu.from(this.data))},n}(Tu);x(),gt(),x(),gt();var Pu=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();x(),gt();var Au=16384;function Du(t){var n=t.length;if(n<=Au)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Au)i.push(String.fromCharCode.apply(String,t.slice(e,e+Au)));return i.join("")}var Cu=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function xu(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Bu(t,n,i){var e=Hu(qu(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Mu(t,n,i){return n.offset+i<=t.byteLength}function Lu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Uu(t,n,i){void 0===i&&(i=!1);var e=Lu(t,n,i),r=Lu(t,n,i),o=i?r:e,u=i?e:r;return Tn.fromBits(u,o,!0)}function Fu(t,n,i){return Du(function(t){return[].slice.call(t)}(Bu(t,n,i)))}function zu(t,n){var i,e=xu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&xu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&xu(t,n))+(63&xu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&xu(t,n))+64*(63&xu(t,n))+(63&xu(t,n))),i}function Wu(t,n){return function(t,n,i){var e=[],r=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);r&&n.shift(3);for(;n.offset<t.byteLength;){var o=zu(t,n);if(void 0===o)break;if(i&&0===o)break;e.push(o)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Du(n)}(e)}(t,n,!0)}function Hu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function Vu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function qu(t){return new E(t.buffer,t.byteOffset,t.byteLength)}var Xu=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Pu(this.offset<<3)},t}();x(),gt();var ju=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return xu(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Lu(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Lu(t,n,i),r=Lu(t,n,i),o=i?r:e,u=i?e:r;return Tn.fromBits(u,o,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Uu(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Bu(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Lu(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Fu(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Wu(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Yu(t,n){return t.type===n}var Ku=8;function Gu(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=$u(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new g("Data incomplete");return n.boxes}function $u(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Mu(t,n,Ku)){return{complete:!1,neededOffset:o=n.offset+Ku}}var e=Lu(t,n),r=Fu(t,n,4);if(1===e){if(!Mu(t,n,8)){var o=n.offset+8;return n.seek(i),{complete:!1,neededOffset:o}}e=Uu(t,n).toNumber()}if("uuid"===r){if(!Mu(t,n,16)){o=n.offset+16;return n.seek(i),{complete:!1,neededOffset:o}}r=Fu(t,n,16)}var u=n.offset,s={type:r,size:e,headerSize:u-i};return{complete:!0,header:s}}(t,n);if(!e.complete)return e;var r=e.header,o=r.size;0===o&&(o=t.byteLength-i);var u=i+o;if(u>t.byteLength){var s=u;return n.seek(i),{complete:!1,neededOffset:s}}var f={type:r.type,offset:i,data:new ju(Vu(t,i,u),new Xu(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function Zu(t){return{version:t>>24,flags:new Cu(16777215&t)}}function Ju(t,n){var i,e,r,o;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),o=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),o=t.nextUint32()),{creation:i,modification:e,scale:r,duration:o}}function Qu(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function ts(t){var n=t.nextUint32Array(9);return{a:Ru(n[0],16),b:Ru(n[1],16),u:Ru(n[2],30),c:Ru(n[3],16),d:Ru(n[4],16),v:Ru(n[5],30),x:Ru(n[6],16),y:Ru(n[7],16),w:Ru(n[8],30)}}function ns(t){return new Nu(t.type,Hu(qu(t.data.data),t.data.cursor.offset))}var is=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=t.call(this,"hdlr",e,r)||this;return o.name=i,o.handlerType=n,o}return du(n,t),p.defineProperty(n.prototype,"handlerType",{get:function(){return this.yM},set:function(t){this.yM=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Ou);function es(t){var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var o=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new is(o,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}du(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(is);x(),gt(),x(),gt(),x(),gt();var rs=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},p.defineProperty(t.prototype,"tag",{get:function(){return this.bM},set:function(t){if(!Eu(t,8))throw new g("Provided tag does not fit in 8 bits.");this.bM=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();x(),gt();!function(t){function n(n,i,e,r,o,u,s){void 0===s&&(s={});var f=t.call(this,4,s.fixed28BitMode)||this;return f.upStream=e,f.decoderSpecificInfo=u,f.objectTypeIndication=n,f.streamType=i,f.bufferSizeDb=r,f.maxBitrate=o.max,f.avgBitrate=o.avg,f}du(n,t),p.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.MM},set:function(t){if(!Eu(t,8))throw new g("Provided objectTypeIndication does not fit in 8 bits.");this.MM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"streamType",{get:function(){return this.TM},set:function(t){if(!Eu(t,6))throw new g("Provided streamType does not fit in 6 bits.");this.TM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.SM},set:function(t){if(!Eu(t,24))throw new g("Provided bufferSizeDb does not fit in 24 bits.");this.SM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.NM},set:function(t){if(!Eu(t,32))throw new g("Provided maxBitrate does not fit in 32 bits.");this.NM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.IM},set:function(t){if(!Eu(t,32))throw new g("Provided avgBitrate does not fit in 32 bits.");this.IM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(rs);x(),gt();!function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}du(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(yu.from(this.data))}}(rs);x(),gt(),x(),gt();var os=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return du(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(rs);!function(t){function n(n,i,e,r){void 0===r&&(r={});var o=t.call(this,3,r.fixed28BitMode)||this;return o.decoderConfigDescriptor=e,o.esId=n,o.streamPriority=i,o.dependsOnEsId=null==r?void 0:r.dependsOnEsId,o.urlString=null==r?void 0:r.url,o.ocrEsId=null==r?void 0:r.ocrEsId,o.slConfigDescriptor=new os(r.fixed28BitMode),o}du(n,t),p.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"esId",{get:function(){return this.DM},set:function(t){if(!Eu(t,16))throw new g("Provided esId does not fit in 16 bits.");this.DM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"streamPriority",{get:function(){return this.EM},set:function(t){if(!Eu(t,5))throw new g("Provided streamPriority does not fit in 5 bits.");this.EM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.kM},set:function(t){if(t&&!Eu(t,16))throw new g("Provided dependsOnEsId does not fit in 16 bits.");this.kM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.LM},set:function(t){if(t&&!Eu(t,16))throw new g("Provided ocrEsId does not fit in 16 bits.");this.LM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(rs);x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var us=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return du(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Tu),ss=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return du(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(us),fs=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return du(n,t),p.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.xM},set:function(t){if(!Eu(t,16))throw new g("Provided dataReferenceIndex does not fit in 16 bits.");this.xM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ss),hs=function(t){function n(n,i,e,r){var o,u,s=this;return(s=t.call(this,n,i)||this).extra=r,s.channelCount=null!==(o=e.channelCount)&&void 0!==o?o:2,s.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,s.sampleRate=e.sampleRate,s}return du(n,t),p.defineProperty(n.prototype,"channelCount",{get:function(){return this.CM},set:function(t){if(!Eu(t,16))throw new g("Provided channelCount does not fit in 16 bits.");this.CM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"sampleSize",{get:function(){return this.jM},set:function(t){if(!Eu(t,16))throw new g("Provided sampleSize does not fit in 16 bits.");this.jM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"sampleRate",{get:function(){return this.OM},set:function(t){if(!Eu(Iu(t,16),32))throw new g("Provided rate does not fit in 32 bits (fixed 16.16).");this.OM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Iu(this.sampleRate,16),32),this.extra&&ku(n.writer,this.extra)},n}(fs);x(),gt();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}du(n,t),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Eu(t.length,32))throw new g("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Eu(t,32)})))throw new g("Not all entries can be represented in 32 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Ou);x(),gt();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}du(n,t),p.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.PM},set:function(t){if(!Eu(t,32))throw new g("Provided cleanApertureWidthN does not fit in 32 bits.");this.PM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zM},set:function(t){if(!Eu(t,32))throw new g("Provided cleanApertureWidthD does not fit in 32 bits.");this.zM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.BM},set:function(t){if(!Eu(t,32))throw new g("Provided cleanApertureHeightN does not fit in 32 bits.");this.BM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.UM},set:function(t){if(!Eu(t,32))throw new g("Provided cleanApertureHeightD does not fit in 32 bits.");this.UM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"horizOffN",{get:function(){return this.QM},set:function(t){if(!Eu(t,32))throw new g("Provided horizOffN does not fit in 32 bits.");this.QM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"horizOffD",{get:function(){return this.FM},set:function(t){if(!Eu(t,32))throw new g("Provided horizOffD does not fit in 32 bits.");this.FM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"vertOffN",{get:function(){return this.YM},set:function(t){if(!Eu(t,32))throw new g("Provided vertOffN does not fit in 32 bits.");this.YM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"vertOffD",{get:function(){return this.VM},set:function(t){if(!Eu(t,32))throw new g("Provided vertOffD does not fit in 32 bits.");this.VM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Tu);x(),gt();!function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}du(n,t),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Eu(t.length,32))throw new g("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Eu(t.sampleCount,32)||!Eu(t.sampleOffset,32)})))throw new g("Not all entries can be represented in 64 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Ou);x(),gt();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}du(n,t),p.defineProperty(n.prototype,"location",{get:function(){return this.GM},set:function(t){this.flags=void 0===t?1:0,this.GM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Ou);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}du(n,t),p.defineProperty(n.prototype,"location",{get:function(){return this.GM},set:function(t){if(1&this.flags)throw new g("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.GM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Ou);x(),gt();!function(t){function n(){return t.call(this,"dinf")||this}du(n,t)}(ss);x(),gt(),x(),gt();var cs=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Eu(i,8))throw new g("the provided version cannot fit in 8 bits.");return r.flags=e,r}return du(n,t),p.defineProperty(n.prototype,"flags",{get:function(){return this.Lv},set:function(t){this.Lv=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new g("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(us);!function(t){function n(){return t.call(this,"dref",0,0)||this}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(cs);x(),gt(),x(),gt();var as=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Eu(e.segmentDuration,this.bitSize))throw new g("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Eu(e.mediaTime,this.bitSize))throw new g("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Eu(e.mediaRateInteger,16))throw new g("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!Eu(e.mediaRateFraction,16))throw new g("Provided mediaRateFraction does not fit in 16 bits.")}this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Ou),vs=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return du(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(as),ds=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return du(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(as);function ls(t){for(var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags,o=n.nextUint32(),u=[],s=0;s<o;s++){var f=void 0,h=void 0;0===e?(f=n.nextUint32(),h=n.nextInt32()):(f=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),a=n.nextInt16();u.push({segmentDuration:f,mediaTime:h,mediaRateFraction:a,mediaRateInteger:c})}return 0===e?new vs(u,r.raw):new ds(u,r.raw)}var ws=function(t){function n(){return t.call(this,"edts")||this}return du(n,t),n}(ss);function bs(t){for(var n=new ws,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"elst")?n.boxes.push(ls(r)):n.boxes.push(ns(r))}return n}x(),gt(),x(),gt();var gs=function(t){function n(n,i,e,r){var o=t.call(this,n)||this;return o.majorBrand=i,o.minorVersion=e,o.compatibleBrands=r,o}return du(n,t),p.defineProperty(n.prototype,"majorBrand",{get:function(){return this.WM},set:function(t){if(4!==t.length)throw new g("the provided major brand does not conform to the 4 character requirement");this.WM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ZM},set:function(t){if(!Eu(t,32))throw new g("the provided minor version does not fit in 32 bits.");this.ZM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.HM},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new g("Some of the compatible brands do not conform to the 4 character requirement");this.HM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Tu);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}du(n,t)}(gs);x(),gt();!function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}du(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(yu.from(this.data))}}(Tu);x(),gt(),x(),gt();var ms=function(t){function n(n,i,e,r){void 0===r&&(r=0);var o=t.call(this,"mdhd",e,r)||this;return o.creationTime=n.creation,o.modificationTime=n.modification,o.timescale=n.scale,o.duration=n.duration,o.language=i,o}return du(n,t),p.defineProperty(n.prototype,"creationTime",{get:function(){return this.XM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.XM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"modificationTime",{get:function(){return this.qM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.qM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Eu(t,32))throw new g("Provided sequence number does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"duration",{get:function(){return this.JM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.JM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"language",{get:function(){return this.$M},set:function(t){if(!Ss(t))throw new g("Expected an ISO-639-2/T language code");this.$M=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Ou),ps=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return du(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(ms),ys=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return du(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ms);function _s(t){var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags,o=Ju(n,e),u=new mu(yu.from(n.nextUint8Array(2)));u.skipBits(1);for(var s=[],f=0;f<3;f++)s.push(u.readUInt(5));var h=s.map((function(t){return String.fromCharCode(t+96)})).join("");return Ss(h)||(h="und"),n.skip(2),0===e?new ps(o,h,r.raw):new ys(o,h,r.raw)}function Ss(t){return/^[a-z]{3}$/.test(t)}var Ts=function(t){function n(){return t.call(this,"mdia")||this}return du(n,t),n}(ss);function Es(t){for(var n=new Ts,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"mdhd")?n.boxes.push(_s(r)):Yu(r,"hdlr")?n.boxes.push(es(r)):n.boxes.push(ns(r))}return n}x(),gt();!function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new yu,n}du(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Tu);x(),gt();!function(t){function n(){return t.call(this,"minf")||this}du(n,t)}(ss);x(),gt();var Is;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(cs);x(),gt(),x(),gt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Is||(Is={})),x(),gt();var ks,Rs,Os={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Ns(t,n){n.writer.writeUInt(Iu(t.a,16),32),n.writer.writeUInt(Iu(t.b,16),32),n.writer.writeUInt(Iu(0,30),32),n.writer.writeUInt(Iu(t.c,16),32),n.writer.writeUInt(Iu(t.d,16),32),n.writer.writeUInt(Iu(0,30),32),n.writer.writeUInt(Iu(t.x,16),32),n.writer.writeUInt(Iu(t.y,16),32),n.writer.writeUInt(Iu(1,30),32)}function Ps(t,n){var i,e,r,o;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:ks.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Rs.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Rs.UNKNOWN,2),n.writer.writeUInt(null!==(o=t.sampleHasRedundancy)&&void 0!==o?o:Rs.UNKNOWN,2)}function As(t,n){var i,e,r;n.writer.writeUInt(0,4),Ps(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}x(),gt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(ks||(ks={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Rs||(Rs={})),x(),gt(),x(),gt();var Ds=function(){};x(),gt(),x(),gt(),x(),gt();var Cs=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return du(n,t),p.defineProperty(n.prototype,"systemId",{get:function(){return this.tT},set:function(t){if(16!==t.length)throw new g("Provided systemId length is not 16.");this.tT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"data",{get:function(){return this.Xp},set:function(t){if(!Eu(t.length,32))throw new g("Provided data length does not fit in 32 bits.");this.Xp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(yu.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(yu.from(this.data))},n}(Ou),xs=function(t){function n(n,i){return t.call(this,0,n,i)||this}return du(n,t),n}(Cs),Bs=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return du(n,t),p.defineProperty(n.prototype,"kIds",{get:function(){return this.iT},set:function(t){if(!Eu(t.length,32))throw new g("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new g("Not all provided key ids are 16 bytes long.");this.iT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(yu.from(e))}},n}(Cs);function Ms(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),o=0;o<r;o++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),s=t.data.nextUint8Array(u);return 1===n?new Bs(i,s,e):new xs(i,s)}x(),gt(),x(),gt();var Ls=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.eT},set:function(t){if(!Eu(t,this.bitSize))throw new g("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.eT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Ou),Us=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return du(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ls),Fs=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return du(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ls);function zs(t){var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Us(n.nextUint32(),r.raw):new Fs(n.nextUint64(),r.raw)}x(),gt();var Ws=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var o,u,s,f=this;return(f=t.call(this,"trex",e,r)||this).trackId=n,f.defaultSampleDescriptionIndex=null!==(o=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==o?o:0,f.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,f.defaultSampleSize=null!==(s=i.sampleSize)&&void 0!==s?s:0,f.defaultSampleFlags=i.sampleFlags,f}return du(n,t),p.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(!Eu(t,32))throw new g("Provided track id does not fit in 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.nT},set:function(t){if(!Eu(t,32))throw new g("Provided default sample description index does not fit in 32 bits.");this.nT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.rT},set:function(t){if(!Eu(t,32))throw new g("Provided default sample duration does not fit in 32 bits.");this.rT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.oT},set:function(t){if(!Eu(t,32))throw new g("Provided default sample size does not fit in 32 bits.");this.oT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.hT},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Eu(t.samplePaddingValue,3))throw new g("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Eu(t.sampleDegradationPriority,16))throw new g("Provided sample degradation priority does not fit in 16 bits.");this.hT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),As(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Ou);function Hs(t){var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags,o=n.nextUint32(),u=n.nextUint32(),s=n.nextUint32(),f=n.nextUint32(),h=Qu(new mu(yu.from(n.nextUint8Array(4))));return new Ws(o,{sampleDescriptionIndex:u,sampleDuration:s,sampleSize:f,sampleFlags:h},e,r.raw)}var Vs=function(t){function n(){return t.call(this,"mvex")||this}return du(n,t),n}(ss);function qs(t){for(var n=new Vs,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"mehd")?n.boxes.push(zs(r)):Yu(r,"trex")?n.boxes.push(Hs(r)):n.boxes.push(ns(r))}return n}x(),gt();var Xs=function(t){function n(i,e,r,o,u){void 0===u&&(u=0);var s,f,h,c=this;return(c=t.call(this,"mvhd",o,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,c.volume=null!==(f=r.volume)&&void 0!==f?f:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Os,c.aT=e,c}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"creationTime",{get:function(){return this.XM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.XM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"modificationTime",{get:function(){return this.qM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.qM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Eu(t,32))throw new g("Provided sequence number does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"duration",{get:function(){return this.JM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.JM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"rate",{get:function(){return this.uT},set:function(t){if(!Eu(Iu(t,16),32))throw new g("Provided rate does not fit in 32 bits (fixed 16.16).");this.uT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"volume",{get:function(){return this.cT},set:function(t){if(!Eu(Iu(t,8),16))throw new g("Provided volume does not fit in 16 bits (fixed 8.8).");this.cT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"matrix",{get:function(){return this.lT},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new g("(u, v, w) does not match the required (0, 0, 1)");this.lT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.aT},set:function(t){if(0===t)throw new g("NextTrackId cannot be 0.");if(!Eu(t,32))throw new g("NextTrackId cannot exceed 32 bits.");this.aT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Iu(this.rate,16),32),n.writer.writeUInt(Iu(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Ns(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Ou),js=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return du(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Xs),Ys=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return du(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xs);function Ks(t){var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags,o=Ju(n,e),u=Ru(n.nextUint32(),16),s=Ru(n.nextUint16(),8);n.skip(2),n.skip(8);var f=ts(n);n.skip(24);var h=n.nextUint32();return 0===e?new js(o,h,{rate:u,volume:s,matrix:f},r.raw):new Ys(o,h,{rate:u,volume:s,matrix:f},r.raw)}x(),gt(),x(),gt();var Gs=function(t){function n(n,i,e,r,o,u,s){void 0===s&&(s={});var f,h,c,a=this;return a=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this,a.creationTime=i.creation,a.modificationTime=i.modification,a.trackId=e,a.duration=i.duration,a.volume=r,a.width=o,a.height=u,a.layer=null!==(f=s.layer)&&void 0!==f?f:0,a.alternateGroup=null!==(h=s.alternateGroup)&&void 0!==h?h:0,a.matrix=null!==(c=s.matrix)&&void 0!==c?c:Os,a}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"creationTime",{get:function(){return this.XM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.XM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"modificationTime",{get:function(){return this.qM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.qM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(0===t)throw new g("trackId cannot be 0.");if(!Eu(t,32))throw new g("trackId cannot exceed 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"duration",{get:function(){return this.JM},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.JM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"volume",{get:function(){return this.cT},set:function(t){if(!Eu(Iu(t,8),16))throw new g("Provided volume does not fit in 16 bits (fixed 8.8).");this.cT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"width",{get:function(){return this.dT},set:function(t){if(!Eu(Iu(t,16),32))throw new g("Provided width does not fit in 32 bits (fixed 16.16).");this.dT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"height",{get:function(){return this.fT},set:function(t){if(!Eu(Iu(t,16),32))throw new g("Provided height does not fit in 32 bits (fixed 16.16).");this.fT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"layer",{get:function(){return this.gT},set:function(t){if(!Eu(t,16))throw new g("Provided layer does not fit in 16 bits.");this.gT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"alternateGroup",{get:function(){return this._T},set:function(t){if(!Eu(t,16))throw new g("Provided alternateGroup does not fit in 16 bits.");this._T=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"matrix",{get:function(){return this.lT},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new g("(u, v, w) does not match the required (0, 0, 1)");this.lT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Iu(this.volume,8),16),n.writer.writeUInt(0,16),Ns(this.matrix,n),n.writer.writeUInt(Iu(this.width,16),32),n.writer.writeUInt(Iu(this.height,16),32)},n}(Ou),$s=function(t){function n(n,i,e,r,o,u){return t.call(this,0,n,i,e,r,o,u)||this}return du(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Gs),Zs=function(t){function n(n,i,e,r,o,u){return t.call(this,1,n,i,e,r,o,u)||this}return du(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Gs);function Js(t){var n,i,e,r,o=t.data,u=Zu(o.nextUint32()),s=u.version,f=u.flags,h=f.isSet(8),c=f.isSet(4),a=f.isSet(2),v=f.isSet(1);0===s?(n=o.nextUint32(),i=o.nextUint32(),e=o.nextUint32(),o.skip(4),r=o.nextUint32()):(n=o.nextUint64(),i=o.nextUint64(),e=o.nextUint32(),o.skip(4),r=o.nextUint64()),o.skip(8);var d=o.nextInt16(),l=o.nextInt16(),w=Ru(o.nextInt16(),8);o.skip(2);var b=ts(o),g=Ru(o.nextUint32(),16),m=Ru(o.nextUint32(),16);return 0===s?new $s({creation:n,modification:i,duration:r},e,w,g,m,{layer:d,matrix:b,alternateGroup:l,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:a}):new Zs({creation:n,modification:i,duration:r},e,w,g,m,{layer:d,matrix:b,alternateGroup:l,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:a})}var Qs=function(t){function n(){return t.call(this,"trak")||this}return du(n,t),n}(ss);function tf(t){for(var n=new Qs,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"tkhd")?n.boxes.push(Js(r)):Yu(r,"mdia")?n.boxes.push(Es(r)):Yu(r,"edts")?n.boxes.push(bs(r)):n.boxes.push(ns(r))}return n}var nf=function(t){function n(){return t.call(this,"moov")||this}return du(n,t),n}(ss);x(),gt(),x(),gt(),x(),gt();var ef=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.vT},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.vT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Ou),rf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return du(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ef),of=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return du(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ef);function uf(t){var n=t.data,i=Zu(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new rf(n.nextUint32(),r.raw):new of(n.nextUint64(),r.raw)}x(),gt();var sf=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return du(n,t),p.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(!Eu(t,32))throw new g("Provided track id does not fit in 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.wT},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new g("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new g("The base data offset present flag is not set.");if(t&&!Eu(t,64))throw new g("Provided baseDataOffset does not fit in 32 bits.");this.wT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.mT},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new g("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new g("The sample description index flag is not set.");if(t&&!Eu(t,32))throw new g("Provided sampleDescriptionIndex does not fit in 32 bits.");this.mT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.rT},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new g("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new g("The default sample duration present flag is not set.");if(t&&!Eu(t,32))throw new g("Provided defaultSampleDuration does not fit in 32 bits.");this.rT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.oT},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new g("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new g("The default sample size present flag is not set.");if(t&&!Eu(t,32))throw new g("Provided defaultSampleSize does not fit in 32 bits.");this.oT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.hT},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new g("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new g("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Eu(t.samplePaddingValue,3))throw new g("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Eu(t.sampleDegradationPriority,16))throw new g("Provided sample degradation priority does not fit in 16 bits.");this.hT=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&As(this.defaultSampleFlags,n)},n}(Ou);function ff(t){var n=t.data,i=n.nextUint8(),e=new mu(yu.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),s=Boolean(e.readBit()),f=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),a=n.nextUint32(),v=c?n.nextUint64():void 0,d=h?n.nextUint32():void 0,l=f?n.nextUint32():void 0,w=s?n.nextUint32():void 0,b=u?Qu(new mu(yu.from(n.nextUint8Array(4)))):void 0;return new sf({trackId:a,defaultBaseIsMoof:r,durationIsEmpty:o,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:w,defaultSampleFlags:b},i)}x(),gt();var hf=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return du(n,t),p.defineProperty(n.prototype,"dataOffset",{get:function(){return this.pT},set:function(t){if(t&&!Eu(t,32))throw new g("Provided data offset does not fit in 32 bits.");this.pT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.AT},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Eu(t.samplePaddingValue,3))throw new g("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Eu(t.sampleDegradationPriority,16))throw new g("Provided sample degradation priority does not fit in 16 bits.");this.AT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"samples",{get:function(){return this.yT},set:function(t){var n,i;if(!Eu(t.length,32))throw new g("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var o=r[e];if(void 0===o.duration&&this.flags.sampleDurationPresent)throw new g("The sample duration present flag is set.");if(void 0!==o.duration&&!this.flags.sampleDurationPresent)throw new g("The sample duration present flag is not set.");if(o.duration&&!Eu(o.duration,32))throw new g("Provided sample duration does not fit in 32 bits.");if(void 0===o.size&&this.flags.sampleSizePresent)throw new g("The sample size present flag is set.");if(void 0!==o.size&&!this.flags.sampleSizePresent)throw new g("The sample size present flag is not set.");if(o.size&&!Eu(o.size,32))throw new g("Provided sample size does not fit in 32 bits.");if(void 0===o.flags&&this.flags.sampleFlagsPresent)throw new g("The sample flags present flag is set.");if(void 0!==o.flags&&!this.flags.sampleFlagsPresent)throw new g("The sample flags present flag is not set.");if((null===(n=o.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Eu(o.flags.samplePaddingValue,3))throw new g("Provided sample padding value does not fit in 3 bits.");if((null===(i=o.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Eu(o.flags.sampleDegradationPriority,16))throw new g("Provided sample degradation priority does not fit in 16 bits.");if(void 0===o.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new g("The sample compositionTimeOffset present flag is set.");if(void 0!==o.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new g("The sample compositionTimeOffset present flag is not set.");if(o.compositionTimeOffset&&!Eu(o.compositionTimeOffset,32))throw new g("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.yT=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&As(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&As(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Ou);function cf(t){var n=t.data,i=n.nextUint8(),e=new mu(yu.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),o=Boolean(e.readBit()),u=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(5);var f=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),a={sampleDurationPresent:s,sampleSizePresent:u,sampleFlagsPresent:o,sampleCompositionTimeOffsetsPresent:r};h&&(a.dataOffset=n.nextInt32()),f&&(a.firstSampleFlags=Qu(new mu(yu.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};s&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),o&&(l.flags=Qu(new mu(yu.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new hf(i,a,v)}var af=function(t){function n(){return t.call(this,"traf")||this}return du(n,t),n}(ss);function vf(t){for(var n=new af,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"tfhd")?n.boxes.push(ff(r)):Yu(r,"tfdt")?n.boxes.push(uf(r)):Yu(r,"trun")?n.boxes.push(cf(r)):n.boxes.push(ns(r))}return n}var df=function(t){function n(){return t.call(this,"moof")||this}return du(n,t),n}(ss);x(),gt();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}du(n,t),p.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.bT},set:function(t){if(!Eu(t,32))throw new g("Provided sequence number does not fit in 32 bits.");this.bT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Ou);x(),gt();var lf=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return du(n,t),p.defineProperty(n.prototype,"codingName",{get:function(){return this.MT},set:function(t){if(4!==t.length)throw new g("Provided coding name was not 4 characters long.");this.MT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Tu);x(),gt();!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}du(n,t),p.defineProperty(n.prototype,"hSpacing",{get:function(){return this.TT},set:function(t){if(!Eu(t,32))throw new g("Provided hSpacing does not fit in 32 bits.");this.TT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"vSpacing",{get:function(){return this.ST},set:function(t){if(!Eu(t,32))throw new g("Provided vSpacing does not fit in 32 bits.");this.ST=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Tu);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}du(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ss);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new lf(n),r}du(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Tu);x(),gt();var wf=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){var n=this;if(!Eu(t.length,32))throw new g("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Eu(t,n.bitSize)})))throw new g("Not all provided entries fit in ".concat(this.bitSize," bits."));this.RM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.NT},set:function(t){if(void 0===t)this.flags=0;else{if(!Eu(t.auxInfoType,32))throw new g("Provided auxInfoType does not fit in 32 bits.");if(!Eu(t.auxInfoTypeParameter,32))throw new g("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.NT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Ou);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}du(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}})(wf),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}du(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(wf);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}du(n,t),p.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.IT},set:function(t){if(!Eu(t,8))throw new g("Provided defaultSampleInfoSize does not fit in a single byte.");this.IT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.DT},set:function(t){if(!Eu(t.length,32))throw new g("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Eu(t,8)})))throw new g("Not all provided sampleInfoSizes fit in a byte.");this.DT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.NT},set:function(t){if(void 0===t)this.flags=0;else{if(!Eu(t.auxInfoType,32))throw new g("Provided auxInfoType does not fit in 32 bits.");if(!Eu(t.auxInfoTypeParameter,32))throw new g("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.NT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new g("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Ou);x(),gt();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Ps(e[i],n)}}}(Ou);x(),gt();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(cs);x(),gt();var bf=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return du(n,t),p.defineProperty(n.prototype,"groupingType",{get:function(){return this.ET},set:function(t){if(4!==t.length)throw new g("The provided groupingType does not equal 4 characters.");this.ET=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Ou);(function(t){function n(n,i){return t.call(this,0,n,i)||this}du(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(bf),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}du(n,t),p.defineProperty(n.prototype,"defaultLength",{get:function(){return this.kT},set:function(t){if(!Eu(t,32))throw new g("The provided defaultLength does not fit in 32 bits.");this.kT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(bf),function(t){function n(n,i,e,r){void 0===r&&(r=0);var o=this;if(n<2)throw new g("This constructor is only meant for versions 2 and up.");return(o=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,o}du(n,t),p.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.nT},set:function(t){if(!Eu(t,32))throw new g("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.nT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(bf);x(),gt();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}du(n,t),p.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.LT},set:function(t){if(!Eu(t.length,32))throw new g("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Eu(t,32)})))throw new g("Not all sampleSizes can be represented in 32 bits.");this.LT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}})(Ou),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}du(n,t),p.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.oT},set:function(t){if(!Eu(t,32))throw new g("Provided defaultSampleSize does not fit in 32 bits.");this.oT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"samples",{get:function(){return this.yT},set:function(t){if(!Eu(t,32))throw new g("Number of allowed samples cannot fit in 32 bits.");this.yT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Ou);x(),gt();!function(t){function n(){return t.call(this,"stbl")||this}du(n,t)}(ss);x(),gt();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}du(n,t),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Eu(t.length,32))throw new g("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Eu(t.firstChunk,32)||!Eu(t.sampleDescriptionIndex,32)||!Eu(t.samplesPerChunk,32)})))throw new g("Not all entries can be represented in 96 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Ou);x(),gt();!function(t){function n(){return t.call(this,"schi")||this}du(n,t)}(ss);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}du(n,t),p.defineProperty(n.prototype,"schemeType",{get:function(){return this.xT},set:function(t){if(4!==t.length)throw new g("The provided schemeType does not have a length of 4.");this.xT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.CT},set:function(t){if(!Eu(t,32))throw new g("The provided schemeVersion does not fit in 23 bits.");this.CT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"schemeUri",{get:function(){return this.jT},set:function(t){if(t&&4!==t.length)throw new g("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.jT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Ou);x(),gt();var gf=function(t){function n(n,i,e,r,o,u,s){void 0===s&&(s=0);var f=t.call(this,"sidx",n,s)||this;return f.referenceId=i,f.timescale=e,f.earliestPresentationTime=r,f.firstOffset=o,f.references=u,f}return du(n,t),p.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"referenceId",{get:function(){return this.OT},set:function(t){if(!Eu(t,32))throw new g("Provided referenceId does not fit in 32 bits.");this.OT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Eu(t,32))throw new g("Provided timescale does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.PT},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.PT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"firstOffset",{get:function(){return this.zT},set:function(t){if(!Eu(t,this.bitSize))throw new g("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.zT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"references",{get:function(){return this.BT},set:function(t){if(!Eu(t.length,16))throw new g("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Eu(e.referencedSize,31))throw new g("Provided referenced size does not fit in 31 bits.");if(!Eu(e.subsegmentDuration,32))throw new g("Provided subsegment duration does not fit in 31 bits.");if(!Eu(e.sapType,3))throw new g("Provided SAP type does not fit in 3 bits.");if(!Eu(e.sapDeltaTime,28))throw new g("Provided SAP delta time does not fit in 28 bits.")}this.BT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Ou),mf=function(t){function n(n,i,e,r,o,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,o,u)||this}return du(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(gf),pf=function(t){function n(n,i,e,r,o,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,o,u)||this}return du(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(gf);x(),gt();!function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}du(n,t)}(gs);x(),gt();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}du(n,t),p.defineProperty(n.prototype,"balance",{get:function(){return this.UT},set:function(t){if(t<-1||t>1)throw new g("Provided balance does not fit in the allowed range [-1, 1].");if(!Eu(Iu(t,8),16))throw new g("Provided balance does not fit in 16 bits (fixed 8.8).");this.UT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Iu(this.balance,8),16),n.writer.writeUInt(0,16)}}(Ou);x(),gt();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}du(n,t),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Eu(t.length,32))throw new g("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Eu(t,32)})))throw new g("Not all entries can be represented in 32 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Ou);x(),gt();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}du(n,t),p.defineProperty(n.prototype,"entries",{get:function(){return this.RM},set:function(t){if(!Eu(t.length,32))throw new g("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Eu(t.sampleCount,32)||!Eu(t.sampleDelta,32)})))throw new g("Not all entries can be represented in 64 bits.");this.RM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Ou);x(),gt();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}du(n,t),p.defineProperty(n.prototype,"trackId",{get:function(){return this.sT},set:function(t){if(!Eu(t,32))throw new g("The provided trackId does not fit in 32 bits.");this.sT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(cs);x(),gt();!function(t){function n(){return t.call(this,"udta")||this}du(n,t)}(ss);x(),gt();var yf={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=yf);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}du(n,t),p.defineProperty(n.prototype,"opColor",{get:function(){return this.QT},set:function(t){if(!Eu(t.red,16)||!Eu(t.green,16)||!Eu(t.blue,16))throw new g("Not all colors could be represented in 16 bits.");this.QT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Ou);x(),gt();var _f=function(t){function n(n,i,e,r,o){void 0===r&&(r={}),void 0===o&&(o=void 0);var u,s,f,h,c,a=this;return(a=t.call(this,n,i)||this).width=e.width,a.height=e.height,a.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,a.verticalResolution=null!==(s=e.vertical)&&void 0!==s?s:72,a.compressorName=null!==(f=r.compressorName)&&void 0!==f?f:"",a.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,a.depth=null!==(c=r.depth)&&void 0!==c?c:24,a.clap=r.clap,a.pasp=r.pasp,a.extra=o,a}return du(n,t),p.defineProperty(n.prototype,"width",{get:function(){return this.dT},set:function(t){if(!Eu(t,16))throw new g("Provided width does not fit in 16 bits.");this.dT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"height",{get:function(){return this.fT},set:function(t){if(!Eu(t,16))throw new g("Provided height does not fit in 16 bits.");this.fT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.FT},set:function(t){if(!Eu(Iu(t,16),32))throw new g("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.FT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.YT},set:function(t){if(!Eu(Iu(t,16),32))throw new g("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.YT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"compressorName",{get:function(){return this.VT},set:function(t){if(t.length>31)throw new g("The provided compressorName should at most be 31 characters long.");this.VT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"frameCount",{get:function(){return this.GT},set:function(t){if(!Eu(t,16))throw new g("Provided frameCount does not fit in 16 bits.");this.GT=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"depth",{get:function(){return this.WT},set:function(t){if(!Eu(t,16))throw new g("Provided depth does not fit in 16 bits.");this.WT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,o,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(o=this.extra)||void 0===o?void 0:o.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Iu(this.horizontalResolution,16),32),n.writer.writeUInt(Iu(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ku(n.writer,this.extra)},n}(fs);x(),gt(),x(),gt();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof E?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof E?n.concat(yu.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Ou);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(hs);x(),gt();!function(t){function n(n,i,e,r){void 0===r&&(r={});var o=t.call(this,"mp4v",n,i,r)||this;return o.esDescriptor=e,o}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(_f);x(),gt();!function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}du(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(fs);x(),gt(),x(),gt();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}du(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Tu);x(),gt();!function(){function t(t,n,i,e,r,o){void 0===o&&(o=1),this.lengthSizeMinusOne=i,this.version=o,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}p.defineProperty(t.prototype,"version",{get:function(){return this.ZT},set:function(t){if(!Eu(t,8))throw new g("Provided version does not fit in 8 bits.");this.ZT=t},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"profileIndication",{get:function(){return this.HT},set:function(t){if(!Eu(t,8))throw new g("Provided profileIndication does not fit in 8 bits.");this.HT=t},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.XT},set:function(t){if(!Eu(t,8))throw new g("Provided profileCompatibility does not fit in 8 bits.");this.XT=t},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"levelIndication",{get:function(){return this.qT},set:function(t){if(!Eu(t,8))throw new g("Provided levelIndication does not fit in 8 bits.");this.qT=t},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"spsSets",{get:function(){return this.KT},set:function(t){if(!Eu(t.length,5))throw new g("Provided number of spsSets exceeds the max (32)");this.KT=t},enumerable:!1,configurable:!0}),p.defineProperty(t.prototype,"ppsSets",{get:function(){return this.JT},set:function(t){if(!Eu(t.length,8))throw new g("Provided number of ppsSets exceeds the max (256)");this.JT=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(yu.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,o=this.ppsSets;r<o.length;r++){var u=o[r];t.writer.writeUInt(u.length,16),t.concat(yu.from(u))}}}();x(),gt();!function(t){function n(n,i,e,r,o){void 0===r&&(r={}),void 0===o&&(o=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=o,u}du(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(_f);x(),gt();!function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}du(n,t),p.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.SM},set:function(t){if(!Eu(t,32))throw new g("Provided bufferSizeDb does not fit in 32 bits.");this.SM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"max",{get:function(){return this.Kv},set:function(t){if(!Eu(t,32))throw new g("Provided max does not fit in 32 bits.");this.Kv=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"avg",{get:function(){return this.$T},set:function(t){if(!Eu(t,32))throw new g("Provided avg does not fit in 32 bits.");this.$T=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Tu);x(),gt(),x(),gt(),x(),gt();var Sf=function(t){function n(n,i){var e,r,o,u,s=this;if(s=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new g("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=i.kId,s.isProtected=null!==(o=i.isProtected)&&void 0!==o?o:1,i.perSampleIvSize>0?s.perSampleIvSize=i.perSampleIvSize:s.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new E(0),s}return du(n,t),p.defineProperty(n.prototype,"isProtected",{get:function(){return this.tS},set:function(t){if(!Eu(t,8))throw new g("Provided isProtected does not fit in 1 byte.");this.tS=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.iS},set:function(t){if(![8,16].includes(t))throw new g("Provided perSampleIvSize does not match any allowed value [8, 16].");this.iS=t,this.eS=new E(0)},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"kId",{get:function(){return this.sS},set:function(t){if(16!==t.length)throw new g("Provided kId length is not 16.");this.sS=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"constantIv",{get:function(){return this.eS},set:function(t){if(![8,16].includes(t.length))throw new g("Provided constant IV length does not match any allowed value [8, 16].");this.eS=t,this.iS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ku(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ku(t.writer,this.constantIv))},n}(Ou),Tf=(function(t){function n(n){return t.call(this,0,n)||this}du(n,t)}(Sf),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return du(n,t),p.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.nS},set:function(t){if(!Eu(t,4))throw new g("Provided cryptByteBlocks does not fit in 4 bits.");this.nS=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.rS},set:function(t){if(!Eu(t,4))throw new g("Provided skipByteBlocks does not fit in 4 bits.");this.rS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Sf));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Tf(n),i}du(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ds);function Ef(t){return void 0!==t.iv}function If(t){return void 0!==t.subsamples}x(),gt();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}du(n,t),p.defineProperty(n.prototype,"samples",{get:function(){return this.yT},set:function(t){var n;if(!Eu(t.length,32))throw new g("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ef(r)&&![8,16].includes(r.iv.length))throw new g("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=If(r)),!0===n&&!If(r)||!1===n&&If(r))throw new g("Mix of samples with and without subsamples detected.");if(If(r)){if(!Eu(r.subsamples.length,16))throw new g("Subsample length of one of the provided samples does not fit in 16 bits.");for(var o=0,u=r.subsamples;o<u.length;o++){var s=u[o];if(!Eu(s.clearData,16))throw new g("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Eu(s.protectedData,23))throw new g("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.yT=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ef(r)&&(n+=r.iv.length),If(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ef(r)&&ku(n.writer,r.iv),If(r)){n.writer.writeUInt(r.subsamples.length,16);for(var o=0,u=r.subsamples;o<u.length;o++){var s=u[o];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Ou);x(),gt(),x(),gt();!function(t){function n(n,i,e,r,o){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=o,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}du(n,t),p.defineProperty(n.prototype,"timescale",{get:function(){return this.KM},set:function(t){if(!Eu(t,32))throw new g("The provided timescale does not fit in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.oS},set:function(t){if(!Eu(t,32))throw new g("The provided presentationTimeDelta does not fit in 32 bits.");this.oS=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"eventDuration",{get:function(){return this.hS},set:function(t){if(!Eu(t,32))throw new g("The provided eventDuration does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),p.defineProperty(n.prototype,"id",{get:function(){return this.aS},set:function(t){if(!Eu(t,32))throw new g("The provided id does not fit in 32 bits.");this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(yu.from(this.data))}}(Ou);x(),gt(),x(),gt(),x(),gt();!function(){function t(){this.boxes=[]}t.prototype.serialize=function(){for(var t=new Su,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()}}();function kf(t,n){return function(i){var e=new ju(function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}(i),new Xu),r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=$u(i,e);if(!r.complete)return;if(Yu(r.box,n))return r.box}}(e,t);if(!r)throw new g("".concat(t," box not found"));return n(r)}}kf("moov",(function(t){for(var n=new nf,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"mvhd")?n.boxes.push(Ks(r)):Yu(r,"trak")?n.boxes.push(tf(r)):Yu(r,"mvex")?n.boxes.push(qs(r)):Yu(r,"pssh")?n.boxes.push(Ms(r)):n.boxes.push(ns(r))}return n})),kf("sidx",(function(t){var n,i,e=t.data,r=Zu(e.nextUint32()),o=r.version,u=r.flags,s=e.nextUint32(),f=e.nextUint32();0===o?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],a=0;a<h;a++){var v=new mu(yu.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),w=v.readUInt(32),b=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:w,startsWithSap:b,sapType:g,sapDeltaTime:m})}return 0===o?new mf(s,f,n,i,c,u.raw):new pf(s,f,n,i,c,u.raw)})),kf("moof",(function(t){for(var n=new df,i=0,e=Gu(t.data);i<e.length;i++){var r=e[i];Yu(r,"traf")?n.boxes.push(vf(r)):Yu(r,"pssh")?n.boxes.push(Ms(r)):n.boxes.push(ns(r))}return n}));var Rf=kf("pssh",Ms),Of=function(t){function n(n,i){var e;(e=t.call(this)||this).lS=n,e.yS=i,e.gS=!1,e.bS=function(){e.mS()},e.um=function(t){e.yo(new Po(e,t.messageType,hu(e.yS,t.message)))},e.MS=function(){e.gS=!0,e.dS.Kb>0&&(e.dS.eM(),e.yo(new No(e.dS))),e.lS.removeEventListener("keystatuseschange",e.bS),e.lS.removeEventListener("message",e.um)},e.lS.addEventListener("keystatuseschange",e.bS),e.lS.addEventListener("message",e.um),e.dS=new su;var r=[];return e.lS.closed&&r.push(J.resolve(e.lS.closed)),e._S=new fu,r.push(e._S.rM),e.Hg=J.race(r).then(e.MS,e.MS),e.mS(),e}_t(n,t);var i=n.prototype;return i.Ws=function(){if(this.gS)return this.Hg;var t=[];return t.push(J.resolve(this.lS.close())),t.push(So(1e3)),this._S.Sy(J.race(t).catch(Nf)),this.gS=!0,this.Hg},i.vS=function(t,n,i){if(Ut.hf){var e=Rf(Jo(n));if(1===e.version)n=new xs(e.systemId,e.data).serialize().join()}return J.resolve(this.lS.generateRequest(t,n)).catch(Nf)},i.$n=function(t){return J.resolve(this.lS.load(t)).catch(Nf)},i.wS=function(){return J.resolve(this.lS.remove()).catch(Nf)},i.Yn=function(t){return J.resolve(this.lS.update(t)).catch(Nf)},i.mS=function(){var t=this;this.dS.eM(),this.lS.keyStatuses.forEach((function(n,i){t.pS(i,n)})),this.yo(new No(this.dS))},i.pS=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Jo(t);if(this.yS===Yr&&16===e.byteLength&&(Ut.yf||Ut._g)){var r=$o(e),o=r.getUint32(0,!0),u=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,o,!1),r.setUint16(4,u,!1),r.setUint16(6,s,!1)}this.yS===Yr&&"status-pending"===n&&(n="usable"),this.dS.tM(e,n)},Tt(n,[{key:"uS",get:function(){return this.Hg}},{key:"cS",get:function(){return this.lS.expiration}},{key:"Rb",get:function(){return this.dS}},{key:"fS",get:function(){return this.lS.sessionId}}]),n}(Eo);function Nf(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new au(t.message,void 0,n,t)}var Pf=function(){function t(t,n,i){this.SS=t,this.NS=n,this.md=i}var n=t.prototype;return n.TS=function(t){var n=this;return mr((function(){return pr(this,(function(i){return[2,new Of(n.SS.createSession(t),n.NS)]}))}))()},n.IS=function(t){return J.resolve(this.SS.setServerCertificate(t))},n.bn=function(t){return J.resolve(t.setMediaKeys(this.SS))},n.DS=function(t){return J.resolve(t.setMediaKeys(null))},n.tr=function(){return J.resolve()},t}(),Af=function(){function t(t,n,i){this.ES=t,this.yS=n,this.LS=i}var n=t.prototype;return n.kS=function(){var t=this;return mr((function(){var n;return pr(this,(function(i){switch(i.label){case 0:return[4,t.ES.createMediaKeys()];case 1:return n=i.sent(),[2,new Pf(n,t.yS,t.LS)]}}))}))()},n.xS=function(){return this.LS},Tt(t,[{key:"NS",get:function(){return this.ES.keySystem}}]),t}();function Df(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Cf(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var o={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,RS:e.RS},u=!1;if(e.audioCapabilities){var s=e.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));s.length&&(o.audioCapabilities=s.filter((function(e){return xf(t,n,i,e)})),u=!0,o.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var f=e.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));f.length&&(o.videoCapabilities=f.filter((function(e){return xf(t,n,i,e)})),u=!0,o.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?o:void 0}}function xf(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Ir(n,e.encryptionScheme))&&(!e.robustness&&t(i,Df(e.contentType))))}function Bf(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,o=t.audioCapabilities;r<o.length;r++){var u=o[r];if(u.contentType)return u.contentType}}function Mf(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Lf(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Uf))||!(!t.videoCapabilities||!t.videoCapabilities.some(Uf))}function Uf(t){return!t.robustness}function Ff(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(zr({},r,{robustness:n}))}return i}x(),gt(),x(),gt();var zf=function(){function t(){}return t.prototype.qA=function(t,n){return mr((function(){var i,e,r,o,u,s,f;return pr(this,(function(h){switch(h.label){case 0:for(n=n.filter((function(t){return!t.RS})),i=0;i<n.length;i++)(e=n[i]).audioCapabilities&&(e.audioCapabilities=Mf(e.audioCapabilities)),e.videoCapabilities&&(e.videoCapabilities=Mf(e.videoCapabilities));if(t!==$r||!n.some(Lf))return[3,4];r=n.map((function(t){return function(t,n){return zr({},t,{videoCapabilities:t.videoCapabilities?Ff(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Ff(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,v.requestMediaKeySystemAccess(t,r)];case 2:return o=h.sent(),u=o.getConfiguration(),[2,new Af(o,t,u)];case 3:return h.sent(),[3,4];case 4:return[4,v.requestMediaKeySystemAccess(t,n)];case 5:return s=h.sent(),f=s.getConfiguration(),[2,new Af(s,t,f)]}}))}))()},t.PS=function(){return void 0!==v&&"function"==typeof v.requestMediaKeySystemAccess},t}();x(),gt(),x(),gt(),x(),gt(),x(),gt();var Wf=function(t){function n(n,i){var e;return(e=t.call(this)||this).GS=n,e.WS=i,e.gS=!1,e.qS=void 0,e.YS=void 0,e.zS=void 0,e.MS=function(){e.gS=!0,e.US.sM(void 0),e.zS&&(e.zS.removeEventListener("mskeyclose",e.MS),e.zS.removeEventListener("mskeymessage",e.ZS),e.zS.removeEventListener("mskeyerror",e.Ss),e.zS.removeEventListener("mskeyadded",e.HS))},e.ZS=function(t){e.YS&&(e.YS.sM(void 0),e.YS=void 0),e.yo(new Po(e,"license-request",Qo(t.message).buffer,t.destinationURL||void 0))},e.Ss=function(){var t=e.zS&&e.zS.error;if(t){var n=new au("Unknown CDM error",t.code,t.systemCode);if(e.YS)e.YS.nM(n),e.YS=void 0;else if(e.qS)e.qS.nM(n),e.qS=void 0;else switch(n.oM){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.XS("output-not-allowed");break;default:e.XS("internal-error")}}},e.HS=function(){e.YS&&(e.XS("usable"),e.YS.sM(void 0),e.YS=void 0),e.qS&&(e.XS("usable"),e.qS.sM(void 0),e.qS=void 0)},e.US=new fu,e.QS=new su,e}_t(n,t);var i=n.prototype;return i.vS=function(t,n,i){var e=this;return mr((function(){return pr(this,(function(t){switch(t.label){case 0:return e.FS(),e.YS=new fu,e.TS(Jo(n),i),[4,e.YS.rM];case 1:return t.sent(),[2]}}))}))()},i.TS=function(t,n){if(!t)throw new m("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.VS;return(i=n?this.GS.createSession(this.WS,t,e):this.GS.createSession(this.WS,t)).addEventListener("mskeyclose",this.MS),i.addEventListener("mskeymessage",this.ZS),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.HS),this.zS=i,this.XS("status-pending"),i},i.$n=function(t){var n=this;return mr((function(){return pr(this,(function(t){return n.FS(),[2,!0]}))}))()},i.Yn=function(t){var n=this;return mr((function(){var i;return pr(this,(function(e){switch(e.label){case 0:if(n.qS=new fu,n.FS(),!n.zS)return[2,J.resolve()];if(0===(i=Jo(t)).byteLength)throw new m("Cannot call update with an empty response.");return n.zS.update(i),[4,n.qS.rM];case 1:return e.sent(),[2]}}))}))()},i.Ws=function(){return!this.gS&&this.zS&&(this.gS=!0,this.zS.close()),this.US.rM},i.wS=function(){var t=this;return mr((function(){return pr(this,(function(n){return t.FS(),[2]}))}))()},i.FS=function(){if(this.gS)throw new m("Already closing or closed.")},i.XS=function(t){this.QS.eM(),this.QS.tM(uu,t),this.yo(new No(this.QS))},Tt(n,[{key:"fS",get:function(){return this.zS&&this.zS.sessionId||""}},{key:"cS",get:function(){return NaN}},{key:"uS",get:function(){return this.US.rM}},{key:"Rb",get:function(){return this.QS}}]),n}(Eo),Hf=function(){function t(t,n,i){this.GS=t,this.NS=n,this.md=i;var e=Bf(i)||"video/mp4";this.WS=Df(e)}var n=t.prototype;return n.TS=function(t){var n=this;return mr((function(){return pr(this,(function(t){return[2,new Wf(n.GS,n.WS)]}))}))()},n.IS=function(t){return J.resolve(!1)},n.bn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.GS),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.GS):t.addEventListener("loadedmetadata",i),J.resolve()},n.DS=function(t){return J.resolve()},n.tr=function(){return J.resolve()},t}(),Vf=function(){function t(t,n){this.yS=t,this.KS=n}var n=t.prototype;return n.xS=function(){return this.KS},n.kS=function(){var t=new Un.MSMediaKeys(this.yS);return J.resolve(new Hf(t,this.yS,this.KS))},Tt(t,[{key:"NS",get:function(){return this.yS}}]),t}(),qf=function(){function t(){}return t.prototype.qA=function(t,n){try{return J.resolve(function(t,n){if(!Xf())throw new m("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Cf(jf,Ro,t,e);if(r)return new Vf(t,r)}throw new m("Unsupported key system configuration for "+t)}(t,n))}catch(t){return J.reject(t)}},t.PS=function(){return Xf()},t}();function Xf(){return void 0!==Un.MSMediaKeys&&"function"==typeof Un.MSMediaKeys.isTypeSupported}function jf(t,n){return Un.MSMediaKeys.isTypeSupported(t,n)}x(),gt(),x(),gt(),x(),gt(),x(),gt();var Yf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).iN=n,r.WS=i,r.tN=e,r.US=new fu,r.sN=void 0,r.QS=new su,r.JS=void 0,r.eN=new fu,r.Ss=function(){var t=r.JS&&r.JS.error;if(t){var n=new au("Unknown CDM error",t.code,t.systemCode);r.sN?(r.sN.nM(n),r.sN=void 0):n.oM===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.XS("output-not-allowed"):r.XS("internal-error"),r.yo(new Ao)}},r.ZS=function(t){r.yo(new Po(r,"license-request",Qo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.HS=function(){r.sN&&(r.sN.sM(void 0),r.sN=void 0),r.XS("usable")},r}_t(n,t);var i=n.prototype;return i.vS=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.$S;if(!e)throw new m("Expected FairPlay contentId to be defined but was "+e+".");var r=function(t,n,i){var e=Ko(t),r=2*e.length,o=2*n.length,u=new ArrayBuffer(4+r+4+o+4+i.byteLength),s=new DataView(u),f=new tu;return Xo(s,f,r,!0),jo(s,f,e,!0),Xo(s,f,o,!0),jo(s,f,n,!0),Xo(s,f,i.byteLength,!0),function(t,n,i){Zo(t).set(Zo(i),n.tc),n.Gb(i.byteLength)}(s,f,i),new E(u)}(Jo(n),e,this.tN);return this.JS=this.iN.createSession(this.WS,r),this.JS.addEventListener("webkitkeymessage",this.ZS,!1),this.JS.addEventListener("webkitkeyadded",this.HS,!1),this.JS.addEventListener("webkitkeyerror",this.Ss,!1),this.XS("status-pending"),this.eN.sM(this.JS),this.eN=new fu,J.resolve()},i.$n=function(t){return J.resolve(!0)},i.Yn=function(t){var n=this;return mr((function(){var i,e;return pr(this,(function(r){switch(r.label){case 0:if(0===(i=Jo(t)).byteLength)throw new m("Cannot call update with an empty response.");return n.sN=new fu,(e=n.JS)?[3,2]:[4,n.eN.rM];case 1:e=r.sent(),r.label=2;case 2:return e.update(i),[4,n.sN.rM];case 3:return r.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.JS;return n&&(n.removeEventListener("webkitkeymessage",this.ZS,!1),n.removeEventListener("webkitkeyadded",this.HS,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.eN.Ty(),null==(t=this.sN)||t.Ty(),this.US.sM(void 0),this.US.rM},i.wS=function(){return J.resolve(void 0)},i.XS=function(t){this.QS.eM(),this.QS.tM(uu,t),this.yo(new No(this.QS))},Tt(n,[{key:"fS",get:function(){return this.JS?this.JS.sessionId:""}},{key:"cS",get:function(){return NaN}},{key:"uS",get:function(){return this.US.rM}},{key:"Rb",get:function(){return this.QS}}]),n}(Eo);x(),gt(),x(),gt();var Kf=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),Gf=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=y.floor(n/1e3);if(i in t)return i;throw new m("Invalid error code: "+n)}}(Gf||(Gf={}));var $f=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).code=n,r}return _t(n,t),Tt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return Gf.fromCode(this.code)}}]),n}(Cr),Zf=function(){function t(t,n,i){this.iN=t,this.NS=n,this.md=i,this.tN=void 0;var e=Bf(i)||"video/mp4";this.WS=Df(e)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.iN},n.TS=function(t){var n=this;return mr((function(){return pr(this,(function(t){if(!n.tN)throw new $f(Kf.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Yf(n.iN,n.WS,n.tN)]}))}))()},n.IS=function(t){return this.tN=Jo(t),J.resolve(!0)},n.bn=function(t){return t.webkitSetMediaKeys(this.iN),J.resolve()},n.DS=function(t){return t.webkitSetMediaKeys(null),J.resolve()},n.tr=function(){return J.resolve()},t}(),Jf=function(){function t(t,n){this.yS=t,this.KS=n}var n=t.prototype;return n.xS=function(){return this.KS},n.kS=function(){var t=new Un.WebKitMediaKeys(this.yS);return J.resolve(new Zf(t,this.yS,this.KS))},Tt(t,[{key:"NS",get:function(){return this.yS}}]),t}(),Qf=function(){function t(){}return t.prototype.qA=function(t,n){try{return J.resolve(function(t,n){if(t!==no)throw new m(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!th())throw new m("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Cf(nh,Oo,t,e);if(r)return new Jf(t,r)}throw new m("Unsupported key system configuration for "+t)}(t,n))}catch(t){return J.reject(t)}},t.PS=function(){return th()},t}();function th(){return void 0!==Un.WebKitMediaKeys&&"function"==typeof Un.WebKitMediaKeys.isTypeSupported}function nh(t,n){return Un.WebKitMediaKeys.isTypeSupported(t,n)}x(),gt();var ih=function(){function t(t){this.nN=t}return t.prototype.qA=function(t,n){var i=this;return mr((function(){var e,r,o;return pr(this,(function(u){switch(u.label){case 0:e=0,r=i.nN,u.label=1;case 1:if(!(e<r.length))return[3,6];o=r[e],u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.qA(t,n)];case 3:return[2,u.sent()];case 4:return u.sent(),[3,5];case 5:return e++,[3,1];case 6:throw new m("Unsupported key system configuration for "+t)}}))}))()},t}();x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var eh=function(){function t(t){var n=this;this.oN=[],this.hN=void 0,this.rN=new Or,this.aN=function(){return 0===n.oN.length?n.cN?rh(n.cN,n.rN.ly).then(n.lN,n.lN):n.lN():n.oN.shift()().then(n.aN)},this.lN=function(){if(0!==n.oN.length)return n.aN();n.hN=void 0},this.cN=t}var n=t.prototype;return n.Wo=function(t,n){var i=this;return new J((function(e){var r=Or.Iy([i.rN.ly,n]),o=function(){r.wy()};i.oN.push((function(){var n=rh(t,r.ly);return e(n),n.then(o,o)})),i.hN||(i.hN=i.aN())}))},n.Ty=function(){return this.uN(!0)},n.gn=function(){return this.cN=void 0,this.uN(!1)},n.uN=function(t){var n=this.hN;return this.rN.Ty(),t&&(this.rN=new Or),J.resolve(n)},t}();function rh(t,n){return new J((function(i){return i(t(n))}))}var oh=new eh,uh=function(t){function n(n){var i;return(i=t.call(this)||this).yS=n,i.YS=void 0,i.sN=void 0,i.wM=!1,i.AN=void 0,i.vN=void 0,i.US=new fu,i.pN="",i.wN=new fu,i.mN=new su,i}_t(n,t);var i=n.prototype;return i.dN=function(){this.sN&&(this.XS("usable"),this.sN.sM(void 0),this.sN=void 0)},i.fN=function(t){var n=new au("Unknown CDM error",t.errorCode,t.systemCode);this.sN?(this.sN.nM(n),this.sN=void 0):this.YS?(this.YS.nM(n),this.YS=void 0):n.oM===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.XS("output-restricted"):1===n.hM?this.XS("expired"):this.XS("internal-error")},i.gN=function(t){0!==t.message.byteLength?(this.YS&&(this.YS.sM(void 0),this.YS=void 0),this.yo(new Po(this,"license-request",hu(this.yS,Qo(t.message).buffer),t.defaultURL||void 0))):this.YS&&(this.YS.nM("Empty key message"),this.YS=void 0)},i._N=function(t){this.vN||(this.vN=t,this.wN.sM(t))},i.Ws=function(){var t=this;return mr((function(){return pr(this,(function(n){return t.throwIfClosed(),t.sN&&(t.sN.nM(void 0),t.sN=void 0),t.wM=!0,t.US.sM(void 0),[2]}))}))()},i.vS=function(t,n){var i=this;return mr((function(){var t;return pr(this,(function(e){switch(e.label){case 0:return i.throwIfClosed(),i.YS=new fu,i.AN=Jo(n),(t=i.vN)?[3,2]:[4,i.wN.rM];case 1:t=e.sent(),e.label=2;case 2:return t.webkitGenerateKeyRequest(i.yS,i.AN),[4,i.YS.rM];case 3:return e.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return mr((function(){return pr(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.wS=function(){var t=this;return mr((function(){return pr(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Yn=function(t){var n=this;return mr((function(){return pr(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.sN=new fu,Ut.kf||Ut.Nf?[2,oh.Wo(mr((function(){return pr(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return mr((function(){var i;return pr(this,(function(e){switch(e.label){case 0:return void 0===n.sN?[2]:(i=n.vN)?[3,2]:[4,n.wN.rM];case 1:i=e.sent(),e.label=2;case 2:return i.webkitAddKey(n.yS,Jo(t),n.AN,n.fS),[4,n.sN.rM];case 3:return e.sent(),Ut.Nf?[4,So(500)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.wM)throw new m("Already closing or closed.")},i.XS=function(t){this.mN.eM(),this.mN.tM(uu,t),this.yo(new No(this.mN))},i.yN=function(){var t=this;return mr((function(){var n,i;return pr(this,(function(e){switch(e.label){case 0:return(i=t.vN)?[3,2]:[4,t.wN.rM];case 1:i=e.sent(),e.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];e.label=3;case 3:return e.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.yS,t.pN),[3,7];case 4:return e.sent(),[3,7];case 5:return[4,So(500)];case 6:return e.sent(),[7];case 7:return[2]}}))}))()},Tt(n,[{key:"Rb",get:function(){return this.mN}},{key:"fS",get:function(){return this.pN},set:function(t){this.pN=t}},{key:"uS",get:function(){return this.US.rM}},{key:"cS",get:function(){return NaN}}]),n}(Eo),sh=function(){function t(t,n){var i=this;this.NS=t,this.md=n,this.vN=void 0,this.TN=Hr(),this.SN=[],this.HS=function(t){var n=i.NN(t.sessionId);n&&n.dN()},this.bN=function(t){var n=i.NN(t.sessionId);n&&n.fN(t)},this.MN=function(t){var n=i.NN(t.sessionId);n&&n.gN(t)}}var n=t.prototype;return n.bn=function(t){return this.vN=t,this.vN.addEventListener("webkitkeyadded",this.HS),this.vN.addEventListener("webkitkeyerror",this.bN),this.vN.addEventListener("webkitkeymessage",this.MN),this.TN.forEach((function(n,i){return n._N(t)})),this.SN.forEach((function(n){return n._N(t)})),J.resolve()},n.DS=function(t){return t.removeEventListener("webkitkeyadded",this.HS),t.removeEventListener("webkitkeyerror",this.bN),t.removeEventListener("webkitkeymessage",this.MN),this.vN=void 0,J.resolve()},n.tr=function(){var t=this;return mr((function(){var n,i;return pr(this,(function(e){switch(e.label){case 0:n=t.TN.entries(),i=n.next(),e.label=1;case 1:return i.done?[3,3]:[4,i.value[1].yN()];case 2:return e.sent(),i=n.next(),[3,1];case 3:return t.TN.clear(),[2]}}))}))()},n.TS=function(t,n,i){var e=this;return mr((function(){var t;return pr(this,(function(n){return t=new uh(e.NS),e.vN&&t._N(e.vN),e.SN.push(t),[2,t]}))}))()},n.IS=function(t){return J.resolve(!1)},n.NN=function(t){if(t){var n=this.TN.get(t);return n||((n=this.SN.shift())?(n.fS=t,this.TN.set(t,n),n):void 0)}},t}(),fh=function(){function t(t,n){this.NS=t,this.DN=n}var n=t.prototype;return n.kS=function(){return J.resolve(new sh(this.NS,this.DN))},n.xS=function(){return this.DN},t}(),hh=function(){function t(){}return t.prototype.qA=function(t,n){try{return J.resolve(function(t,n){if(!hh.PS())throw new m("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Cf(ch,Ro,t,e);if(r)return new fh(t,r)}throw new m("Unsupported key system configuration for "+t)}(t,n))}catch(t){return J.reject(t)}},t.PS=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function ch(t,n){var i=$t();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}x(),gt();var ah,vh=function(){function t(){}return t.prototype.qA=function(t,n){return t===$r||t===Yr?J.resolve(void 0):J.reject(new g("DRM configuration not supported"))},t}();function dh(){return ah||(ah=function(){var t=[];Qf.PS()&&t.push(new Qf);zf.PS()&&t.push(new zf);qf.PS()&&t.push(new qf);hh.PS()&&t.push(new hh);Ut.xf&&t.push(new vh);return new ih(t)}()),ah}x(),gt(),x(),gt();var lh=function(){function t(){this.EN=Hr()}var n=t.prototype;return n.eM=function(t){this.EN.delete(t)},n.kN=function(){this.EN.clear()},n.$b=function(t){return this.EN.get(t)},n.tM=function(t,n){this.EN.set(t,n)},t}(),wh=function(){function t(){}return t.LN=function(){return t.Ld||(t.Ld=bh.PS()?new bh:new lh),t.Ld},t.eM=function(n){t.LN().eM(n)},t.kN=function(){t.LN().kN()},t.$b=function(n){return t.LN().$b(n)},t.tM=function(n,i){t.LN().tM(n,i)},t}();wh.Ld=void 0;var bh=function(t){function n(){return t.apply(this,arguments)||this}_t(n,t);var i=n.prototype;return i.eM=function(t){self.sessionStorage.removeItem(t)},i.kN=function(){self.sessionStorage.clear()},i.$b=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.tM=function(t,n){self.sessionStorage.setItem(t,n)},n.PS=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(wh);x(),gt(),x(),gt();var gh=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var e=new t;if(n)for(var r=0;r<n.length;r++){var o=n[r];e.append(o)}return e.getBlob(i&&i.type||"")}}(n)}();function mh(t,n,i){var e=gh([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),o=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),u=a.createElement("a");u.href=r,u.download=o,a.body.appendChild(u),u.click(),a.body.removeChild(u),URL.revokeObjectURL(r)}x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt(),x(),gt();var ph=function(t,n,i){return i=null!=t?k(P(t)):{},function(t,n,i,e){if(n&&"object"==typeof n||"function"==typeof n)for(var r,o=N(n),u=0,s=o.length;u<s;u++)r=o[u],A.call(t,r)||r===i||R(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(e=O(n,r))||e.enumerable});return t}(!n&&t&&t.__esModule?i:R(i,"default",{value:t,enumerable:!0}),t)}(pt());x(),gt();var yh=t,_h=Xt(yh.ReadableStream)&&Xt(yh.WritableStream)&&Xt(yh.TransformStream)&&qt(yh.ReadableStream.prototype.pipeThrough)&&!Bn.Rp,Sh=_h?yh.ReadableStream:ph.ReadableStream,Th=(_h?yh.WritableStream:ph.WritableStream,_h?yh.TransformStream:ph.TransformStream);_h&&yh.ByteLengthQueuingStrategy?yh.ByteLengthQueuingStrategy:ph.ByteLengthQueuingStrategy,_h&&yh.CountQueuingStrategy?yh.CountQueuingStrategy:ph.CountQueuingStrategy;function Eh(t){return function(t){return new Sh({start:function(n){for(var i=0;i<t.length;i++){var e=t[i];n.enqueue(e)}n.close()}})}([t])}function Ih(t){return Eh(function(t){return new E(t)}(t))}function kh(t,n){return function(t,n){var i=n,e=t.getReader(),r=new fu,o=function(){u();var t=new go;e.cancel(t).catch(Yt),r.nM(t)},u=function(){i&&(i.oy(o),i=void 0)};i&&(i.sy?o():i.uy(o));var s=[],f=function(t){return t.done?(u(),J.resolve(s)):(s.push(t.value),J.resolve(e.read()).then(f))};return J.resolve(e.read()).then(f).then((function(t){u(),r.sM(t)}),(function(t){u(),r.nM(t)})),r.rM}(t,n).then((function(t){return ru(t).buffer}))}function Rh(t,n){var i=n,e=new Th,r=e.readable,o=e.writable,u=o.getWriter(),s=function(){i&&i.Ty()};return u.closed.then(s,s),t.then((function(t){return i=void 0,u.releaseLock(),t.pipeTo(o).catch(Yt)}),(function(t){return i=void 0,u.releaseLock(),o.abort(t).catch(Yt)})),r}function Oh(t){return Ko(new E(t))}function Nh(t){return Go(t).buffer}x(),gt();var Ph="content-type",Ah="text/plain;charset=UTF-8",Dh=function(){function t(){}var n=t.prototype;return n.BN=function(t){return this.UN(t).then(JSON.parse)},n.QN=function(t,n){switch(t){case vr.xN:return this.FN(n);case vr.CN:return this.BN(n);case vr.jN:return this.YN();case vr.ON:return this.UN(n);default:throw new m}},t}();function Ch(t,n,i){if(t instanceof Dh)return t;if(t instanceof Sh)return function(t,n){return new Bh({YA:0,YN:t,VN:xh(n)})}(t,i);var e=xh(i),r=J.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{YA:vr.ON,GN:t,VN:n||Ah};if(t instanceof ArrayBuffer||iu(t))return{YA:vr.xN,GN:Hh(t),VN:n};if(function(t){return Vt(t)&&t.constructor&&t.constructor===p}(t)||Ht(t))return{YA:vr.CN,GN:t,VN:n};throw new m("Unsupported BodyInit type")}return{YA:vr.ON,GN:null,VN:n}}(t,e)}));return new Bh({YA:1,rM:r,WN:n})}function xh(t){return(t.get(Ph)||"").toLowerCase()}var Bh=function(t){function n(n){var i;return(i=t.call(this)||this).HN=!1,i.JN=new fu,i.JN.rM.catch(Yt),i.iI(n),i}_t(n,t);var i=n.prototype;return i.KN=function(){return this.JN.rM},i.UN=function(t){return this.$N(Mh,t)},i.BN=function(t){return this.$N(Uh,t)},i.FN=function(t){return this.$N(zh,t)},i.YN=function(){return this.tI(function(t){return 0===t.YA?t.YN:Rh(t.rM.then(Wh).then(Ih),t.WN)}(this.qN))},i.$N=function(t,n){if(this.HN)return J.reject(new m("Already used"));this.HN=!0;var i=t(this.qN,n);return this.JN.Sy(i.then(Yt)),i},i.tI=function(t){if(this.HN)throw new m("Already used");if(t.locked)throw new m("Body stream is locked");this.HN=!0;var n=new Th,i=J.resolve(t.pipeTo(n.writable));return this.JN.Sy(i),n.readable},i.iI=function(t){this.qN=t,1===t.YA&&t.rM.catch(Yt)},i.eI=function(){if(this.HN)throw new m("Already used");var t=function(t){if(0===t.YA){var n=dr(t.YN.tee(),2),i=n[0],e=n[1];return[{YA:t.YA,YN:i,VN:t.VN},{YA:t.YA,YN:e,VN:t.VN}]}var r=dr(t.WN.Ny(),2),o=r[0],u=r[1];return[{YA:t.YA,rM:t.rM,WN:o},{YA:t.YA,rM:t.rM,WN:u}]}(this.qN),i=t[0],e=t[1];return this.iI(i),new n(e)},Tt(n,[{key:"ZN",get:function(){return this.HN}},{key:"XN",get:function(){return 0===this.qN.YA}}]),n}(Dh);function Mh(t,n){return 0===t.YA?kh(t.YN,n).then(Oh):(n&&t.WN.Sy(n),yo(t.rM.then(Lh),t.WN))}function Lh(t){switch(t.YA){case vr.ON:return J.resolve(t.GN||"");case vr.xN:return J.resolve(t.GN).then(Oh);case vr.CN:return J.resolve(t.GN).then(JSON.stringify)}}function Uh(t,n){return 0===t.YA?Mh(t,n).then(JSON.parse):(n&&t.WN.Sy(n),yo(t.rM.then(Fh),t.WN))}function Fh(t){return t.YA===vr.CN?J.resolve(t.GN):Lh(t).then(JSON.parse)}function zh(t,n){return 0===t.YA?kh(t.YN,n):(n&&t.WN.Sy(n),yo(t.rM.then(Wh),t.WN))}function Wh(t){switch(t.YA){case vr.xN:return J.resolve(t.GN);case vr.ON:case vr.CN:return Lh(t).then(Nh)}}function Hh(t){return t instanceof ArrayBuffer?t:Qo(Zo(t)).buffer}var Vh=function(t){function n(n){var i;return(i=t.call(this)||this).sI=n,i}_t(n,t);var i=n.prototype;return i.KN=function(){return this.sI.KN()},i.UN=function(t){return this.sI.UN(t)},i.BN=function(t){return this.sI.BN(t)},i.FN=function(t){return this.sI.FN(t)},i.YN=function(t){return this.sI.YN(t)},i.eI=function(){return this.sI.eI()},Tt(n,[{key:"ZN",get:function(){return this.sI.ZN}},{key:"XN",get:function(){return this.sI.XN}}]),n}(Dh);var qh=function(t){function n(n,i){var e,r,o,u,s,f;i?(r=i.aI,o=i.oI,u=i.nI,s=i.uI,f=i.cI):(r=[],o=vr.ON,u=200,s="OK",f=!1);var h=n.hI,c=new lr(n.aI||r),a=n.oI||o,v=n.lI||(i&&i.hI===h?i.lI:h.zu),d=i?i.sI:null,l=Ch(void 0!==n.rI?n.rI:d,n.WN||new Or,c);return(e=t.call(this,l)||this).aI=c,e.hI=h,e.lI=v,e.oI=a,e.nI=void 0!==n.nI?n.nI:u,e.uI=void 0!==n.uI?String(n.uI):s,e.cI=n.cI||f,e}_t(n,t);var i=n.prototype;return i.rI=function(t){return this.QN(this.oI,t)},i.Zb=function(){return new n({rI:this.eI(),hI:this.hI},this)},n}(Vh),Xh=function(){function t(){}var n=t.prototype;return n.hI=function(t){var n=function(t){return new qh({rI:null,aI:{},hI:t,lI:t.zu,oI:t.oI,nI:0,uI:ko._b})}(new Ar(t));return J.resolve(n)},n.YI=function(t){},n.gn=function(){},t}();var jh=function(){function t(t,n){void 0===n&&(n=!0),this.ZI=t,this.XI=n}var n=t.prototype;return n.hI=function(t){var n=this.WI(t);return this.ZI.hI(n)},n.YI=function(t){return this.ZI.YI(this.HI(t))},n.WI=function(n){var i=new Ar(n);if(!this.XI){var e=t.qI(i.zu);i=new Ar({zu:e},i)}return i},n.HI=function(n){var i=n.zu;return this.XI||(i=t.qI(i)),{zu:i,GN:n.GN}},n.gn=function(){this.ZI.gn()},t.qI=function(t){return Wt.kA&&so(t,"http://")?t.replace(":","s:"):t},Tt(t,null,[{key:"VI",get:function(){return t.GI||(t.GI=new t(new Xh)),t.GI}}]),t}();jh.GI=void 0,x(),gt(),x(),gt(),x(),gt(),x(),gt();var Yh=function(t){function n(n,i,e){var r;return(r=t.call(this,n.hI,null!=e?e:function(t){return"Error while loading "+t.hI.zu+", status code "+t.nI}(n),i)||this).eD=n,r}return _t(n,t),Tt(n,[{key:"name",get:function(){return xr.JI}},{key:"iD",get:function(){return this.eD}}]),n}(Br);x(),gt();var Kh=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.zu+" timed out after "+t.CI+" seconds."}(n),i)||this}return _t(n,t),Tt(n,[{key:"name",get:function(){return xr.$I}}]),n}(Br);x(),gt();var Gh=self.fetch,$h=self.Request,Zh=self.Response,Jh=self.Headers,Qh=self.ReadableStream,tc=self.AbortSignal,nc=self.AbortController,ic=Kt((function(){try{return qt(Gh)&&Xt($h)&&Xt(Zh)&&Xt(Jh)&&"forEach"in Jh.prototype&&sr()}catch(t){return!1}})),ec=["http:","https:"];var rc=Kt((function(){try{return ic()&&Xt(tc)&&Xt(nc)&&"signal"in $h.prototype}catch(t){return!1}})),oc=Kt((function(){try{return ic()&&Xt(Qh)&&"body"in Zh.prototype&&!Ut.hf}catch(t){return!1}}));function uc(t,n){var i,e=t.aI.has("content-length")?Number(t.aI.get("content-length")):void 0;return i=t.XN?function(t,n,i){return t.pipeThrough(new Th(new sc(n,i)))}(t.YN(),n,e):function(t,n,i){return fc.apply(this,arguments)}(t.FN(),n,e),new qh({rI:i,hI:t.hI},t)}x(),gt(),x(),gt();var sc=function(){function t(t,n){this.nD=t,this.rD=n,this.sD=0}var n=t.prototype;return n.transform=function(t,n){this.sD+=t.byteLength,this.nD(this.sD,this.rD),n.enqueue(t)},n.flush=function(t){var n;this.nD(this.sD,null!=(n=this.rD)?n:this.sD)},t}();function fc(){return fc=mr((function(t,n,i){var e,r;return pr(this,(function(o){switch(o.label){case 0:return[4,J.resolve()];case 1:return o.sent(),n(0,i),[4,t];case 2:return e=o.sent(),r=e.byteLength,n(r,null!=i?i:r),[2,e]}}))})),fc.apply(this,arguments)}var hc=function(){function t(t){this.rN=new Or,this.eD=void 0,this.hD=0,this.aD=!1,this.tD=t,this.rN.Sy(t.ly),this.iD=this.oD()}var n=t.prototype;return n.oD=function(){var t=this;return mr((function(){var n,i,e,r,o,u,s,f,h;return pr(this,(function(c){switch(c.label){case 0:(n=t.tD).CI&&(t.hD=d((function(){t.aD=!0,t.rN.Ty()}),n.CI),t.rN.ly.Ay((function(){l(t.hD)})));try{i=Gh(n.zu,{method:n.xI,headers:n.aI.RN(),body:n.GN,credentials:n.zI?"include":"same-origin",signal:vc(t.rN.ly),mode:n.UI,keepalive:n.FI})}catch(t){throw new Mr(n,t)}c.label=1;case 1:return c.trys.push([1,3,,4]),[4,i];case 2:return e=c.sent(),[3,4];case 3:throw r=c.sent(),mo(o=t.uD(r))&&t.rN.Ty(),o;case 4:if(u=e.url||n.zu,s=0===e.status&&"file:"===function(t){return Wt.Ah(t).protocol}(u)?200:e.status,f=new cc(t,e,t.rN),!function(t){return t.nI>=200&&t.nI<=299||304===t.nI}(h=new qh({rI:f,hI:n,oI:n.oI,aI:dc(e.headers),nI:s,uI:e.statusText,lI:u})))throw new Yh(h);return n.BI&&(h=uc(h,n.BI)),[2,h]}}))}))()},n.uD=function(t){return function(t){return t instanceof Br}(t)?t:mo(t)?this.aD?new Kh(this.tD):new go(t.message,t):this.eD?new Yh(this.eD,t):new Mr(this.tD,t)},t}(),cc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).JN=new fu,r.lD=n,r.cD=i,r.rN=e,r.JN.rM.catch(Yt),r}_t(n,t);var i=n.prototype;return i.KN=function(){return this.JN.rM},i.UN=function(t){return this.$N(this.cD.text(),t)},i.FN=function(t){return this.$N(this.cD.arrayBuffer(),t)},i.YN=function(){var t=this.cD.body;return t?this.tI(t):Rh(this.FN().then(Ih),this.rN)},i.eI=function(){var t=this.cD.clone(),i=dr(this.rN.Ny(),2),e=i[0],r=i[1];return this.rN=e,new n(this.lD,t,r)},i.$N=function(t,n){var i=this;n&&this.rN.Sy(n);var e=po(J.resolve(t),this.rN.ly).catch((function(t){throw i.lD.uD(t)}));return e=yo(e,this.rN),this.JN.Sy(e.then(Yt)),e},i.tI=function(t){var n=this;return new Sh(new lc(t,(function(t){return n.lD.uD(t)}),this.rN,this.JN),{highWaterMark:0})},Tt(n,[{key:"ZN",get:function(){return this.cD.bodyUsed}},{key:"XN",get:function(){return zt(this.cD.body)}}]),n}(Dh),ac="abort";function vc(t){if(rc()){var n=new nc;if(t.sy)n.abort();else if(!t._y){var i=function(){e(),n.abort()},e=function(){n.signal.removeEventListener(ac,i),t.oy(i),t.yy(e)};n.signal.addEventListener(ac,i),t.uy(i),t.Ay(e)}return n.signal}}function dc(t){if(function(t){return Vt(t)&&"function"==typeof t.forEach}(t)){var n=new lr;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new lr(t)}var lc=function(){function t(t,n,i,e){this.dD=t,this.fD=n,this.rN=i,this.JN=e}var n=t.prototype;return n.start=function(t){this.Wg=this.dD.getReader()},n.pull=function(t){var n=this;return mr((function(){var i,e,r;return pr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,po(n.Wg.read(),n.rN.ly)];case 1:return i=o.sent(),[3,3];case 2:return e=o.sent(),r=n.fD(e),n.JN.nM(r),n.rN.Ty(),n.Wg.cancel(r).catch(Yt),t.error(r),[2];case 3:return i.done?(n.JN.sM(),n.rN.Ty(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.rN.Ty(),this.JN.nM(t),this.Wg.cancel(t)},t}();x(),gt();var wc=function(){function t(t){var n=this;this.rN=new Or,this.eD=void 0,this.gD=new fu,this.TD=!1,this.MD=function(){var t;n.vD(),null==(t=n._D)||t.abort()},this.tD=t,this.rN.Sy(t.ly),this._D=new I,this.oD()}var n=t.prototype;return n.oD=function(){var t=this,n=this._D,i=this.tD;if(i.ly.sy)return this.vD();n.onreadystatechange=function(){return t.wD()},n.onprogress=function(n){return t.nD(n)},n.onload=function(){return t.mD()},n.onloadend=function(){return t.pD()},n.onerror=function(){return t.yD()},n.ontimeout=function(){return t.bD()},n.onabort=function(){return t.vD()},n.open(i.xI,i.zu,!0),n.withCredentials=Boolean(i.zI),"responseType"in n&&i.oI&&(i.oI===vr.ON?n.responseType="text":n.responseType="arraybuffer"),i.aI.forEach((function(t,i){n.setRequestHeader(i,t)})),i.CI&&(n.timeout=i.CI),this.rN.ly.uy(this.MD);var e=i.GN;e?n.send(e):n.send()},n.wD=function(){var t=this._D;void 0!==t&&t.readyState>=2&&!this.TD&&(this.TD=!0,this.SD())},n.SD=function(){var t,n,i=this._D,e=function(t){var n=new lr,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}})),n}(i.getAllResponseHeaders()||""),r=this.tD;this.ND=new fu,this.eD=new qh({hI:r,oI:r.oI,rI:this.ND.rM,nI:i.status,uI:i.statusText,aI:e,lI:null!=(n=i.responseURL)?n:e.get("X-Request-URL")}),null==(t=this.gD)||t.sM(this.eD)},n.mD=function(){var t,n=this._D;if(void 0!==n){var i=n.response;if(!zt(i)){var e=this.tD.oI;i=e===vr.ON?n.responseText:e===vr.xN?new ArrayBuffer(0):{}}null==(t=this.ND)||t.sM(i)}},n.pD=function(){this.gn()},n.nD=function(t){void 0!==this._D&&(null==this.tD.BI||this.tD.BI.call(this.tD,t.loaded,t.lengthComputable?t.total:void 0))},n.yD=function(){var t=new g("Network request failed");this.eD?this.Ss(new Yh(this.eD,t)):this.Ss(new Mr(this.tD,t))},n.bD=function(){this.Ss(new Kh(this.tD))},n.vD=function(){this.Ss(new go),this.gn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.ND)?i:this.gD)||n.nM(t)},n.gn=function(){this._D=void 0,this.eD=void 0,this.gD=void 0,this.ND=void 0,this.rN.wy()},Tt(t,[{key:"iD",get:function(){return this.gD.rM}}]),t}();x(),gt();var bc=function(){function t(){}var n=t.prototype;return n.hI=function(t){return function(t){if(!ic()||!function(t){try{return ec.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.zu))return!1;if(!oc()&&t.BI)return!1;if(!t.QI&&t.xI!==Nr.POST){if(Ut.kf&&Ut.mf<=68)return!1;if(Ut.Nf)return!1}return!0}(t)?new hc(t).iD:new wc(t).iD},n.YI=function(t){var n=t.VN?{"Content-type":t.VN}:void 0;this.hI(new Ar({xI:Nr.POST,zu:t.zu,GN:t.GN,aI:n,UI:Pr.EI})).then((function(t){!function(t){t.then(Yt,Yt)}(t.FN())}),Yt)},n.gn=function(){},t}();x(),gt(),x(),gt();var gc=function(t){return t[t.DD=1]="DD",t[t.ED=2]="ED",t[t.ON=3]="ON",t[t.kD=4]="kD",t[t.LD=9]="LD",t}({});var mc=function(){function t(){}return t.prototype.CD=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Ur(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Ur;return new Ic(n)},t}(),pc=function(){function t(t){this.OD=t}var n=t.prototype;return n.BD=function(t){return this.OD.isEqualNode(t.OD)},n.UD=function(n){return new t(this.OD.cloneNode(n))},Tt(t,[{key:"xD",get:function(){return gc.ED}},{key:"jD",get:function(){var t;return null!=(t=this.OD.localName)?t:Oc(this.OD.nodeName)}},{key:"l",get:function(){return this.OD.nodeName}},{key:"RD",get:function(){var t;return null!=(t=this.OD.namespaceURI)?t:void 0}},{key:"PD",get:function(){var t;return null!=(t=this.OD.prefix)?t:void 0}},{key:"zD",get:function(){return this.OD.nodeValue}}]),t}(),yc=function(){function t(t){this.FD=void 0,this.YD=t}var n=t.prototype;return n.VD=function(t){return this.QD.filter((function(n){return kc(n)&&n.GD===t}))},n.WD=function(t,n){return this.QD.filter((function(i){return kc(i)&&i.jD===n&&i.RD===t}))},n.HD=function(t){this.YD.appendChild(t.ZD),this.FD&&this.FD.push(t)},n.BD=function(t){return this.YD.isEqualNode(t.ZD)},Tt(t,[{key:"QD",get:function(){return void 0===this.FD&&(this.FD=function(t){for(var n=[],i=0;i<t.length;i++){var e=Rc(t.item(i));e&&n.push(e)}return n}(this.YD.childNodes)),this.FD}},{key:"m",get:function(){return this.QD.filter(kc)}},{key:"ZD",get:function(){return this.YD}}]),t}(),_c=function(t){function n(n){return t.call(this,n)||this}_t(n,t);var i=n.prototype;return i.KD=function(t){if(this.YD.hasAttribute(t))return this.YD.getAttribute(t)},i.JD=function(t,n){if(this.YD.hasAttributeNS(t,n))return this.YD.getAttributeNS(t,n)},i.$D=function(t){this.YD.removeAttribute(t)},i.tE=function(t,n){this.YD.removeAttributeNS(t,n)},i.iE=function(t,n){this.YD.setAttribute(t,n)},i.eE=function(t,n,i){this.YD.setAttributeNS(t,n,i)},i.UD=function(t){return new n(this.YD.cloneNode(t))},Tt(n,[{key:"xD",get:function(){return gc.DD}},{key:"jD",get:function(){var t;return null!=(t=this.YD.localName)?t:Oc(this.YD.nodeName)}},{key:"RD",get:function(){var t;return null!=(t=this.YD.namespaceURI)?t:void 0}},{key:"PD",get:function(){var t;return null!=(t=this.YD.prefix)?t:void 0}},{key:"GD",get:function(){return this.YD.nodeName}},{key:"XD",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new pc(t.item(i)));return n}(this.YD.attributes)}},{key:"qD",get:function(){return this.YD.textContent}}]),n}(yc),Sc=function(){function t(t){this.YD=t}return t.prototype.BD=function(t){return this.rI===t.rI},Tt(t,[{key:"rI",get:function(){return this.YD.nodeValue}},{key:"ZD",get:function(){return this.YD}}]),t}(),Tc=function(t){function n(n){return t.call(this,n)||this}return _t(n,t),n.prototype.UD=function(t){return new n(this.YD.cloneNode(t))},Tt(n,[{key:"xD",get:function(){return gc.ON}}]),n}(Sc),Ec=function(t){function n(n){return t.call(this,n)||this}return _t(n,t),n.prototype.UD=function(t){return new n(this.YD.cloneNode(t))},Tt(n,[{key:"xD",get:function(){return gc.kD}}]),n}(Sc),Ic=function(t){function n(n){return t.call(this,n)||this}return _t(n,t),n.prototype.UD=function(t){return new n(this.YD.cloneNode(t))},Tt(n,[{key:"xD",get:function(){return gc.LD}},{key:"sE",get:function(){return new _c(this.YD.documentElement)}}]),n}(yc);function kc(t){return function(t){return 1===t.xD}(t)}function Rc(t){switch(t.nodeType){case gc.DD:return new _c(t);case gc.ON:return new Tc(t);case gc.kD:return new Ec(t)}}function Oc(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Nc=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nE=void 0,n.oE=oc(),n.aE=Ut.gg||Ut.hf,n.cE=(Ut.gg||Ut.kf&&Ut.mf<=68||Ut.hf)&&!(Ut.Nf&&Ut.Df<3),n.mE=void 0,n.pE=new mc,n}return _t(n,t),n.prototype.CD=function(t){return this.pE.CD(t)},Tt(n,[{key:"_A",get:function(){return this.nE||(this.nE=new bo(dh())),this.nE}},{key:"rE",get:function(){return this.oE}},{key:"hE",get:function(){return this.aE}},{key:"uE",get:function(){return this.cE}},{key:"lE",get:function(){return!1}},{key:"dE",get:function(){return wh.LN()}},{key:"fE",get:function(){return{gE:mh}}},{key:"_E",get:function(){return v.connection&&v.connection.effectiveType||cr}},{key:"vE",get:function(){return v.connection&&v.connection.type||ar}},{key:"wE",get:function(){return this.mE||(this.mE=new jh(new bc)),this.mE}}]),n}(or);jt(new Nc),x(),gt(),x(),gt();x(),gt(),x(),gt(),x(),gt();var Pc=function(t){return t.SI="audio",t.NI="video",t.MQ="metadata",t}({});x(),gt(),x(),gt();var Ac=function(t){return t.gI="#EXTINF",t.pPt="#EXT-X-MAP",t.p="#EXTM3U",t.en="#EXT-X-VERSION",t.ui="#EXT-X-TARGETDURATION",t.TSt="#EXT-X-START",t.li="#EXT-X-INDEPENDENT-SEGMENTS",t.jN="#EXT-X-STREAM-INF",t.vr="#EXT-X-MEDIA-SEQUENCE",t.if="#EXT-X-ENDLIST",t.sf="#EXT-X-MEDIA",t.ff="#EXT-X-DISCONTINUITY",t.af="#EXT-X-DISCONTINUITY-SEQUENCE",t.tv="#EXT-X-PLAYLIST-TYPE",t.nv="#EXT-X-KEY",t}({}),Dc=function(){function t(t,n){this.YA="#EXTINF",this.ev=t,this.sv=n}return t.prototype.bx=function(){return this.YA+":"+this.ev+",\n"+this.sv},t}(),Cc=function(){function t(t){this.YA="#EXT-X-MAP",this.sv=t}return t.prototype.bx=function(){return this.YA+':URI="'+this.sv+'"'},t}(),xc=function(){function t(){this.YA="#EXTM3U"}return t.prototype.bx=function(){return this.YA},t}(),Bc=function(){function t(t){this.YA="#EXT-X-VERSION",this.cj=t}return t.prototype.bx=function(){return this.YA+":"+this.cj},t}(),Mc=function(){function t(t){this.YA="#EXT-X-TARGETDURATION",this.cPt=t}return t.prototype.bx=function(){return this.YA+":"+this.cPt},t}(),Lc=function(){function t(t){this.YA="#EXT-X-START",this.lzt=t}return t.prototype.bx=function(){return this.YA+":TIME-OFFSET="+this.lzt},t}(),Uc=function(){function t(t,n,i){this.uri=t,this.keyFormat=n,this.keyFormatVersions=i,this.YA="#EXT-X-KEY"}return t.prototype.bx=function(){return this.YA+':METHOD=SAMPLE-AES,URI="'+this.uri+'",KEYFORMAT="'+this.keyFormat+'",KEYFORMATVERSIONS="'+this.keyFormatVersions+'"'},t}(),Fc=function(){function t(t){this.YA="#EXT-X-STREAM-INF",this.FY=1,this.sv=t}return t.prototype.bx=function(){return this.YA+":BANDWIDTH="+this.FY+',AUDIO="audio"\n'+this.sv},t}(),zc=function(){function t(t){this.YA="#EXT-X-MEDIA-SEQUENCE",this.mR=t}return t.prototype.bx=function(){return this.YA+":"+this.mR},t}(),Wc=function(){function t(t){this.YA="#EXT-X-MEDIA",this.sv=t}return t.prototype.bx=function(){var t=Hr();t.set("TYPE","AUDIO"),t.set("GROUP-ID",'"audio"'),t.set("NAME",'"audio"'),t.set("AUTOSELECT","YES"),t.set("DEFAULT","YES"),t.set("CHANNELS",'"2"'),t.set("URI",'"'+this.sv+'"');var n=[];return t.forEach((function(t,i){return n.push(i+"="+t)})),this.YA+":"+n.join(",")},t}();x(),gt();var Hc=function(){function t(t){this.RM=[],this.RM=t}var n=t.prototype;return n.iO=function(){return this.RM},n.cv=function(t){this.RM.push(t)},n.zUt=function(){for(var t="",n=0,i=this.iO();n<i.length;n++){t+=i[n].bx()+"\n"}return t},n.wy=function(){this.RM.length=0},t}(),Vc=function(t){function n(n,i){var e;return e=t.call(this,[new xc,new Bc(8)])||this,i&&e.cv(new Fc("video/index.m3u8")),n&&e.cv(new Wc("audio/index.m3u8")),e}return _t(n,t),n}(Hc);x(),gt(),x(),gt(),x(),gt();var qc=function(t){return t.ust="HELLO",t.cst="HI_THERE",t.lst="INITIALIZE",t.dst="APPEND_INIT",t.fst="APPEND_DATA",t.gst="ACK",t._st="REMOVE",t.vst="DESTROY_SESSION",t}({});x(),gt(),x(),gt();var Xc,jc=new Array(256);for(Xc=0;Xc<256;Xc+=1)jc[Xc]=(Xc<16?"0":"")+Xc.toString(16);function Yc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*y.random()|0;return("x"===t?n:3&n|8).toString(16)}))}x(),gt();var Kc=function(t){function n(n){var i;return(i=t.call(this,"append")||this).rI=n,i}return _t(n,t),n}(Io),Gc=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).QDt=0,n.Xp=new E(0),n.wM=!1,n.av=!1,n}_t(n,t);var i=n.prototype;return i.B4=function(t,n){this.QDt+=n,this.Xp=ru([this.Xp,t]),this.yo(new Kc(t))},i.Ws=function(){this.uS||(this.yo(new Io("close")),this.wM=!0)},Tt(n,[{key:"TE",get:function(){return this.QDt}},{key:"rI",get:function(){return this.Xp}},{key:"uS",get:function(){return this.wM}},{key:"dv",get:function(){return this.av},set:function(t){this.av=t}}]),n}(Eo),$c="sync-seg-",Zc=function(){function t(t,n){this.lv=!1,this.wv=!1,this.o=$c+Yc(),this.gv=n?new Gc:void 0,this.kv=t?new Gc:void 0}return t.prototype.Ws=function(){this.gv&&this.gv.Ws(),this.kv&&this.kv.Ws()},Tt(t,[{key:"jv",get:function(){return this.lv},set:function(t){this.lv=t}},{key:"Ad",get:function(){return this.wv},set:function(t){this.wv=t}}]),t}();x(),gt();var Jc=1.1,Qc=function(t){function n(n,i,e){var r;return(r=t.call(this,[new xc,new Bc(8),new Mc(1),new Lc(0)])||this).tw=[],r.eMt=Hr(),r.rw=0,r.sw=function(t){if(t.dB>=En)for(;r.tw.length>0;)r.bw()},e&&r.cv(new Uc(e,"com.apple.streamingkeydelivery","1")),r.Ict=n,r.Qht=i,r.Qht.yn("remove",r.sw),r.kw=new zc(0),r.cv(r.kw),r}_t(n,t);var i=n.prototype;return i.xLt=function(){return this.Ict===Pc.NI?this.Qht.tb:this.Ict===Pc.SI?this.Qht.nb:void 0},i.Mct=function(t){return this.eMt.get(t)},i.wy=function(){this.tw.length=0,this.kw.mR=0,this.eMt.clear(),this.rw=0},i.iO=function(){return this.cb(),Yn(t.prototype.iO.call(this)).concat(Yn(this.tw))},i.cb=function(){for(var t=this.Qht.ab(),n=0;n<t.length;n++){var i=t[n];if(!this.eMt.has(i.o)){var e=void 0;if(this.Ict===Pc.NI?(e=i.gv,i.Ad=!0):(e=i.kv,i.jv=!0),!e)return;this.eMt.set(i.o,e),e.dv&&this.tw.push(new Cc(i.o+"-init")),this.tw.push(new Dc(Jc,i.o)),this.rw+=Jc}}this.lb()},i.lb=function(){for(;this.rw>60;)this.bw()},i.bw=function(){var t=this.tw.shift();void 0!==t&&function(t){return t.YA===Ac.gI}(t)&&(this.eMt.delete(t.sv),this.rw-=t.ev,this.kw.mR++)},n}(Hc);var ta=function(t){function n(n){var i;return(i=t.call(this,"remove")||this).dB=n,i}return _t(n,t),n}(Io),na=function(t){function n(n,i){var e;return(e=t.call(this)||this).tg=n,e.ng=i,e.ig=[],e.ug=[],e.sg=Hr(),e.lg=Hr(),e.bg=Hr(),e.mg=0,e}_t(n,t);var i=n.prototype;return i.ab=function(){return this.kg?(this.ig=this.ig.filter((function(t){return!(t.Ad&&t.jv)})),Yn(this.ig).concat([this.kg],Yn(this.ug))):[]},i.F4=function(t){this.tm(t)},i.B4=function(t){this.tm(t),this.rm(t),this.om(t)},i.wS=function(t){this.tm(t),this.om(t)},i.wy=function(){var t;null==(t=this.kg)||t.Ws(),this.kg=void 0,this.ug.forEach((function(t){return t.Ws()})),this.ug.length=0,this.ig.length=0,this.bg=Hr(),this.mg=0},i.rm=function(t){var n=t.startPts,i=t.totalDuration;this.lg.set(t.mediaType,n+i)},i.sm=function(){if(this.kg){this.kg.Ws(),this.ig.push(this.kg);var t=this.ug.shift(),n=new Zc(this.tg,this.ng);t?(this.kg=t,this.ug.push(n)):this.kg=n}},i.am=function(t){if(this.kg){var n=!this.kg.kv||0===this.kg.kv.TE,i=!this.kg.gv||0===this.kg.gv.TE,e=this.kg.kv&&this.kg.kv.dv,r=this.kg.gv&&this.kg.gv.dv,o=i&&(n&&!(this.kg.jv||this.kg.Ad)||e),u=n&&(i&&!(this.kg.jv||this.kg.Ad)||r);(t===Pc.SI&&!u||t===Pc.NI&&!o)&&(this.sm(),this.sm())}},i.tm=function(t){var n=t.mediaType,i=t.kind,e=this.sg.get(n);if(void 0===e){if(i===qc.dst||i===qc.fst){var r=[t];this.sg.set(n,r)}}else e.push(t)},i.om=function(t){var n=this.bm(t);for(var i=0;i<n.length;i++){var e=n[i];switch(e.kind){case qc.dst:this.km(e),this.bg=Hr(),this.mg=0;break;case qc._st:this.ip(e);break;case qc.fst:this.up(e)}}},i.km=function(t){var n=t.mediaType;void 0===this.kg?(this.kg=new Zc(this.tg,this.ng),this.ug.push(new Zc(this.tg,this.ng))):this.am(n),n===Pc.NI?(this.ty=t.segment,this.kg.gv.dv=!0):n===Pc.SI&&(this.ny=t.segment,this.kg.kv.dv=!0)},i.up=function(t){var n,i,e=t.mediaType===Pc.SI,r=t.totalDuration,o=null!=(n=this.bg.get(t.mediaType))?n:0;e?(this.kg.kv.B4(t.segment,r),i=o+this.kg.kv.TE):(this.kg.gv.B4(t.segment,r),i=o+this.kg.gv.TE),i>=this.mg+Jc&&(this.bg.set(t.mediaType,i),this.mg+=Jc,this.sm())},i.ip=function(t){this.lg.set(t.mediaType,void 0),this.am(t.mediaType),this.ig.length=0,this.yo(new ta(t.endTime))},i.bm=function(t){var n=this;if(t.kind===qc._st)return this.hy(t);var i=[];return this.sg.forEach((function(t){if(t&&t.length>0){var e=_r(t,(function(t){return t.kind===qc._st}));-1===e&&(e=t.length);for(var r=t.slice(0,e),o=0;o<r.length;o++){var u=r[o];if(!Ir(i,u)){var s,f=n.hy(u);if(f.length>0)(s=i).push.apply(s,Yn(f));else if(u.kind===qc.fst)break}}}})),i},i.hy=function(t){var n=this.sg.get(t.mediaType),i=function(t){return t===Pc.NI?Pc.SI:Pc.NI}(t.mediaType);if(!(i===Pc.NI?this.ng:this.tg))return n.splice(0,n.indexOf(t)+1);if(t.kind===qc.dst)return[];var e=this.lg.get(i);if(void 0===e)return[];if(t.kind===qc._st){var r=this.by(i);if(r.length>0){var o=n.splice(0,n.indexOf(t));return n.splice(0,1),Yn(o).concat(Yn(r),[t])}return[]}if(t.startPts<=e){var u=n.splice(0,n.indexOf(t));n.splice(0,1);var s=this.my(t,u,i);return Yn(u).concat(Yn(s),[t])}return[]},i.my=function(t,n,i){var e=this.sg.get(i);if(!e)return[];var r=t.startPts+t.totalDuration,o=_r(e,(function(t){return t.kind===qc._st})),u=o-1;-1===o&&(u=e.length-1);for(var s=u+1,f=0;f<=u&&s===u+1;f++){var h=e[f];h.kind===qc.fst&&h.startPts>r&&(s=f)}var c=-1;return-1!==_r(n,(function(t){return t.kind===qc.dst}))&&(c=_r(e,(function(t){return t.kind===qc.dst}))),c>s&&(s=c+1),s>0?(e[s-1].kind===qc.dst&&(s-=1),e.splice(0,s)):[]},i.by=function(t){var n=this.sg.get(t);if(n){var i=_r(n,(function(t){return t.kind===qc._st}));if(i>=0)return n.splice(0,i+1)}return[]},i.ky=function(){var t="[MEDIABUFFER] endPTS: ";this.lg.forEach((function(n,i){t=t.concat(i+" = "+n+" ")})),Wt.aA(t)},i.OS=function(t,n){var i=t+": [";null==n||n.forEach((function(t){i=i.concat(" "+t.kind+"("+t.mediaType+")")})),i=i.concat(" ]"),Wt.aA(i)},Tt(n,[{key:"nb",get:function(){var t;return null==(t=this.ny)?void 0:t.slice()}},{key:"tb",get:function(){var t;return null==(t=this.ty)?void 0:t.slice()}}]),n}(Eo);var ia=function(){function t(t,n){var i=t.some((function(t){return t.match("audio")})),e=t.some((function(t){return t.match("video")}));this.AS=new na(i,e),this.BS=new Vc(i,e),i&&(this.RT=new Qc(Pc.SI,this.AS,n)),e&&(this.IE=new Qc(Pc.NI,this.AS,n))}var n=t.prototype;return n.ME=function(t){var n,i,e=ea(t);return e===Pc.NI?null==(n=this.IE)?void 0:n.xLt():e===Pc.SI?null==(i=this.RT)?void 0:i.xLt():void 0},n.Mct=function(t){var n,i,e=t.split("/")[1],r=ea(t);return r===Pc.NI?null==(n=this.IE)?void 0:n.Mct(e):r===Pc.SI?null==(i=this.RT)?void 0:i.Mct(e):void 0},n.F4=function(t){this.AS.F4(t)},n.B4=function(t){this.AS.B4(t)},n.xft=function(t){this.AS.wS(t)},n.wy=function(){var t,n;this.AS.wy(),this.BS.wy(),null==(t=this.RT)||t.wy(),null==(n=this.IE)||n.wy()},Tt(t,[{key:"tk",get:function(){return this.BS}},{key:"ik",get:function(){return this.RT}},{key:"uk",get:function(){return this.IE}}]),t}();function ea(t){return t.match(/video/)?Pc.NI:Pc.SI}var ra=function(){function t(t,n){var i=this;this.sk=t,this.ak=n,this.Jct=void 0,this.qZt=mr((function(t){var n,e;return pr(this,(function(r){switch((n=t.data).kind){case qc.lst:i.Jct=new ia(n.mediaBufferConfigs,n.fairPlaySdkUri);break;case qc.dst:i.Jct.F4(n);break;case qc.fst:i.Jct.B4(n);break;case qc._st:i.Jct.xft(n)}return e={kind:qc.gst},i.sk.postMessage(e),[2]}))})),this.sk.onmessage=this.qZt}var n=t.prototype;return n.zUt=function(t){return"master.m3u8"===t?this.Jct.tk:"video/index.m3u8"===t?this.Jct.uk:"audio/index.m3u8"===t?this.Jct.ik:void 0},n.mk=function(t){if(t.match(/m3u8/)){var n,i=null==(n=this.zUt(t))?void 0:n.zUt();return new Response(i,{headers:{"Content-Type":"application/x-mpegurl; charset=utf-8"}})}if(t.match($c)){var e={"Content-Type":t.match(/video/)?"video/mp4":"audio/mp4"};if(t.match(/init/)){var r,o=null==(r=this.Jct)?void 0:r.ME(t);return new Response(o,{headers:e})}var u=this.yct(t);if(!u)return new Response(void 0,{status:404,statusText:"Not Found"});var s=function(t){var n,i=function(t){n.enqueue(t.rI)},e=function(){n.close(),t.fn("append",i),t.fn("close",e)};return new self.ReadableStream({start:function(r){(n=r).enqueue(t.rI),t.uS?n.close():(t.yn("append",i),t.yn("close",e))},cancel:function(){t.fn("append",i),t.fn("close",e)}})}(u);return new Response(s,{headers:e})}return new Response(void 0,{status:404,statusText:"Not Found"})},n.yct=function(t){return this.Jct.Mct(t)},n.close=function(){var t;this.sk.close(),null==(t=this.Jct)||t.wy()},t}(),oa=function(){function t(){var t=this;this.r8=Hr(),this.qZt=function(n){var i=n.data;if(i.kind===qc.ust){t.kk().catch(Yt);var e=i.port,r=Yc(),o=new ra(e,n.source.id);t.r8.set(r,o);var u=function(n){n.data.kind===qc.vst&&(t.TR(r),e.removeEventListener("message",u))};e.addEventListener("message",u);var s={kind:qc.cst,sessionId:r};e.postMessage(s)}},this.CR=function(n){if(so(n.request.url,"https://theo.proxy")){var i=new URL(n.request.url).pathname.split("/"),e=i[1],r=i.slice(2).join("/"),o=t.r8.get(e);if(void 0===o){var u=new Response(void 0,{headers:{message:"Given session ["+e+"] not found."},status:404,statusText:"Not Found"});return void n.respondWith(u)}if(void 0===r){var s=new Response(void 0,{headers:{message:"No resource ["+r+"] provided."},status:404,statusText:"Not Found"});return void n.respondWith(s)}var f=o.mk(r);n.respondWith(f)}}}var n=t.prototype;return n.ur=function(t){this.IZt=t,t.addEventListener("message",this.qZt),t.addEventListener("fetch",this.CR)},n.TR=function(t){var n=this.r8.get(t);n&&n.close(),this.r8.delete(t)},n.kk=function(){var t=this;return mr((function(){var n,i;return pr(this,(function(e){switch(e.label){case 0:return[4,t.IZt.clients.matchAll()];case 1:return n=e.sent(),i=n.map((function(t){return t.id})),t.r8.forEach((function(n,e){Ir(i,n.ak)||t.TR(e)})),[2]}}))}))()},t}();oa.BR=new oa;var ua=self;ua.addEventListener("install",(function(t){t.waitUntil(ua.skipWaiting())})),ua.addEventListener("activate",(function(t){t.waitUntil(ua.clients.claim())})),oa.BR.ur(ua)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this);
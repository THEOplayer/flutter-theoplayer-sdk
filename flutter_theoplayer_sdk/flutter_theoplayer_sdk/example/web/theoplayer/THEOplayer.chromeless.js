/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 9.7.0
 Created: 2025-07-03T08:11:54.377Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r,e,u,s,o,a,c,h={exports:{}},f=(h.exports,t.window),v=t.document,d=t.location,l=t.navigator,g=t.setTimeout,w=t.clearTimeout,m=t.setInterval,y=t.clearInterval,p=t.Error,_=t.TypeError,b=(t.SyntaxError,t.Object),k=t.Math,A=t.parseInt,T=t.parseFloat,S=t.isNaN,E=t.Uint8Array,I=t.Worker,R=(t.WorkerGlobalScope,t.XMLHttpRequest),C=b.create,N=b.defineProperty,D=b.getOwnPropertyDescriptor,x=b.getOwnPropertyNames,P=b.getPrototypeOf,L=b.prototype.hasOwnProperty,M=function(t,n){return function(){return t&&(n=t(t=0)),n}},O=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},B=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=x(n),s=0,o=u.length;s<o;s++)e=u[s],L.call(t,e)||e===i||N(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=D(n,e))||r.enumerable});return t},V=function(t,n,i){return i=null!=t?C(P(t)):{},B(!n&&t&&t.__esModule?i:N(i,"default",{value:t,enumerable:!0}),t)},F=M((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(s=Symbol.for)?s:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),u=null!=(a=Symbol.asyncDispose)?a:i("Symbol.asyncDispose")):(c=0,n=function(t){return"ul"+t+"_"+ ++c},r=(i=function(t){return"ul"+t})("Symbol.iterator"),e=i("Symbol.dispose"),u=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=u)}));function U(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var W,Z,X,G,H,z,Y,j,K,q,J,Q,tt,nt,it,rt,et,ut,st,ot,at=M((function(){F(),Tt()}));function ct(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function ht(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new _((void 0===t?"undefined":U(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"===(void 0===i?"undefined":U(i))||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function ft(t){return Boolean(t&&void 0!==t.length)}function vt(){}function dt(t){if(!(this instanceof dt))throw new _("Promises must be constructed via new");if("function"!=typeof t)throw new _("not a function");this.Fa=0,this.ttn=!1,this.LTt=void 0,this.ntn=[],pt(t,this)}function lt(t,n){for(;3===t.Fa;)t=t.LTt;0!==t.Fa?(t.ttn=!0,dt.itn((function(){var i=1===t.Fa?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.LTt)}catch(t){return void wt(n.promise,t)}gt(n.promise,r)}else(1===t.Fa?gt:wt)(n.promise,t.LTt)}))):t.ntn.push(n)}function gt(t,n){try{if(n===t)throw new _("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":U(n))||"function"==typeof n)){var i=n.then;if(n instanceof dt)return t.Fa=3,t.LTt=n,void mt(t);if("function"==typeof i)return void pt(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Fa=1,t.LTt=n,mt(t)}catch(n){wt(t,n)}}function wt(t,n){t.Fa=2,t.LTt=n,mt(t)}function mt(t){2===t.Fa&&0===t.ntn.length&&dt.itn((function(){t.ttn||dt.rtn(t.LTt)}));for(var n=0,i=t.ntn.length;n<i;n++)lt(t,t.ntn[n]);t.ntn=null}function yt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function pt(t,n){var i=!1;try{t((function(t){i||(i=!0,gt(n,t))}),(function(t){i||(i=!0,wt(n,t))}))}catch(t){if(i)return;i=!0,wt(n,t)}}function _t(t){return new Q(J,{reason:t,promise:Z.reject(t).catch((function(){})),cancelable:!0})}function bt(t){var n=new tt(J,{detail:{reason:t},cancelable:!0});return b.defineProperty(n,"reason",{value:t}),n}function kt(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(J,!1,!0,{reason:t}),n}var At=M((function(){var t,n,i,r;F(),Tt(),at(),W=g,dt.prototype.catch=function(t){return this.then(null,t)},dt.prototype.then=function(t,n){var i=new this.constructor(vt);return lt(this,new yt(t,n,i)),i},dt.prototype.finally=ct,dt.all=function(t){return new dt((function(n,i){if(!ft(t))return i(new _("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"===(void 0===s?"undefined":U(s))||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},dt.allSettled=ht,dt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":U(t))&&t.constructor===dt?t:new dt((function(n){n(t)}))},dt.reject=function(t){return new dt((function(n,i){i(t)}))},dt.race=function(t){return new dt((function(n,i){if(!ft(t))return i(new _("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)dt.resolve(t[r]).then(n,i)}))},dt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){W(t,0)},dt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},Z=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),X=l?l.userAgent:"",G=X.match(/Firefox\/([0-9]+)/i),H=null!=G,z=G?Number(G[1]):0,Y=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),j=null!=Y,K=Y?Number(Y[3]):0,q=function(){function t(t){this.eA=0,this.Id=0,this.Xp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Id+n&this.etn-1;this.Xp[i]=t,this.eA=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Id+n-1,r=this.etn-1;this.Xp[i&r]=t,this.eA=n}},t.prototype.shift=function(){var t=this.Id,n=this.Xp[t];return this.Xp[t]=void 0,this.Id=t+1&this.etn-1,this.eA--,n},t.prototype.length=function(){return this.eA},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Id+this.eA&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.Xp,0,n,i)},t}(),J="unhandledrejection",Q=self.PromiseRejectionEvent,tt=self.CustomEvent,nt=function(t){return nt=function(){try{var t=Z.resolve(),n="error",i=new Q(J,{reason:n,promise:t});return J===i.type&&n===i.reason}catch(t){}return!1}()?_t:function(){try{var t="error",n=new tt(J,{detail:{reason:t}});return J===n.type&&t===n.detail.reason}catch(t){}return!1}()?bt:kt,nt(t)},rt=H&&z<60||j&&K<15,Z&&!rt?(et=Z,ut=function(){}):(et=dt,st=null!==(it=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=Z;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==it?it:dt.itn,t=st,n=new q(16),i=!1,ut=(ot={K6:function(e){n.push(e),i||(i=!0,t(r))},OY:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).OY,dt.itn=ot.K6,dt.rtn=function(t){try{var n=nt(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}g((function(){throw new p("Unhandled promise rejection: ".concat(t))}),0)})})),Tt=M((function(){At()}));function St(t,n){return(St=b.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var Et=M((function(){F(),Tt()}));function It(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function");t.prototype=b.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&St(t,n)}var Rt=M((function(){F(),Tt(),Et()}));function Ct(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b.defineProperty(t,r.key,r)}}function Nt(t,n,i){return n&&Ct(t.prototype,n),i&&Ct(t,i),t}var Dt=M((function(){F(),Tt()}));function xt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):et.resolve(a).then(r,e)}function Pt(t){return function(){var n=this,i=arguments;return new et((function(r,e){var u=t.apply(n,i);function s(t){xt(u,r,e,s,o,"next",t)}function o(t){xt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var Lt,Mt=M((function(){F(),Tt()}));function Ot(t,i){var e,u,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=b.create(("function"==typeof Iterator?Iterator:b).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof n&&(a[r]=function(){return this}),a;function c(n){return function(r){return function(n){if(e)throw new _("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,u&&(s=2&n[0]?u.return:n[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,n[1])).done)return s;switch(u=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,u=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],u=0}finally{e=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function Bt(t){var i="function"==typeof n&&r,e=i&&t[i],u=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&u>=t.length&&(t=void 0),{value:t&&t[u++],done:!t}}};throw new _(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new _("Object expected.");var r,s;if(i){if(!u)throw new _("Symbol.asyncDispose is not defined.");r=n[u]}if(void 0===r){if(!e)throw new _("Symbol.dispose is not defined.");r=n[e],i&&(s=r)}if("function"!=typeof r)throw new _("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(t){return et.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function Ft(t){function n(n){t.error=t.hasError?new Lt(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),et.resolve().then(e);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,et.resolve(u).then(e,(function(t){return n(t),e()}))}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?et.reject(t.error):et.resolve();if(t.hasError)throw t.error}()}var Ut=M((function(){F(),Tt(),Lt="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new p(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}})),Wt=M((function(){F(),Tt(),Ut()}));function Zt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Xt=M((function(){F(),Tt()}));var Gt=M((function(){F(),Tt(),Xt()}));var Ht=M((function(){F(),Tt()}));var zt=M((function(){F(),Tt()}));function Yt(t,n){if(t){if("string"==typeof t)return Zt(t,n);var i=b.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Zt(t,n):void 0}}var jt=M((function(){F(),Tt(),Xt()}));function Kt(t){return function(t){if(Array.isArray(t))return Zt(t)}(t)||function(t){if(void 0!==n&&null!=t[r]||null!=t["@@iterator"])return Array.from(t)}(t)||Yt(t)||function(){throw new _("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qt=M((function(){F(),Tt(),Gt(),Ht(),zt(),jt()}));var Jt=M((function(){F(),Tt()}));var Qt=M((function(){F(),Tt()}));var $t=M((function(){F(),Tt()}));function tn(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==n&&t[r]||t["@@iterator"];if(null!=e){var u,s,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(u=e.next()).done)&&(o.push(u.value),!i||o.length!==i);a=!0);}catch(t){c=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw s}}return o}}(t,i)||Yt(t,i)||function(){throw new _("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nn=M((function(){F(),Tt(),Jt(),Qt(),$t(),jt()})),rn=O((function(t,i){var e,u;F(),Tt(),at(),e=t,u=function(t){var i="function"==typeof n&&"symbol"===U(r)?n:function(t){return"Symbol("+t+")"};function e(){}var u=Number.isNaN||function(t){return t!=t},s=e;function o(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t||"function"==typeof t}function a(t){return t.slice()}function c(t,n,i,r,e){new E(t).set(new E(i,r,e),n)}function h(t){return!1!==function(t){return"number"==typeof t&&(!u(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new _("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new _(e+" is not a method");switch(i){case 0:return function(){return l(e,t,r)};case 1:return function(n){var i=[n].concat(r);return l(e,t,i)}}}return function(){return I(void 0)}}function d(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function l(t,n,i){try{return I(f(t,n,i))}catch(t){return R(t)}}function g(t){if(t=Number(t),u(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function w(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new _("size property of a queuing strategy must be a function");return function(n){return t(n)}}var m=et,y=et.prototype.then,A=et.resolve.bind(m),T=et.reject.bind(m);function S(t){return new m(t)}function I(t){return A(t)}function R(t){return T(t)}function C(t,n,i){return y.call(t,n,i)}function N(t,n,i){C(C(t,n,i),void 0,s)}function D(t,n){N(t,n)}function x(t,n){N(t,void 0,n)}function P(t,n,i){return C(t,n,i)}function L(t){C(t,void 0,s)}var M=function(){function t(){this.hd=0,this.Ed=0,this.Id={Rd:[],Dd:void 0},this.Nd=this.Id,this.hd=0,this.Ed=0}return b.defineProperty(t.prototype,"length",{get:function(){return this.Ed},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Nd,i=n;16383===n.Rd.length&&(i={Rd:[],Dd:void 0}),n.Rd.push(t),i!==n&&(this.Nd=i,n.Dd=i),++this.Ed},t.prototype.shift=function(){var t=this.Id,n=t,i=this.hd,r=i+1,e=t.Rd,u=e[i];return 16384===r&&(n=t.Dd,r=0),--this.Ed,this.hd=r,t!==n&&(this.Id=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.hd,i=this.Id,r=i.Rd;!(n===r.length&&void 0===i.Dd||n===r.length&&(n=0,0===(r=(i=i.Dd).Rd).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Id,n=this.hd;return t.Rd[n]},t}();function O(t,n,i){var r=null;!0===i&&(r=b.prototype);var e=b.create(r);return e.value=t,e.done=n,e}function B(t,n){t.Ld=!0,t.Bd=n,n.Od=t,"readable"===n.Fa?Z(t):"closed"===n.Fa?function(t){Z(t),H(t)}(t):X(t,n.Fd)}function V(t,n){return Jn(t.Bd,n)}function F(t){"readable"===t.Bd.Fa?G(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){X(t,n)}(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")),t.Bd.Od=void 0,t.Bd=void 0}function W(t){return new _("Cannot "+t+" a stream using a released reader")}function Z(t){t.Vd=S((function(n,i){t.Wd=n,t.Ud=i}))}function X(t,n){Z(t),G(t,n)}function G(t,n){L(t.Vd),t.Ud(n),t.Wd=void 0,t.Ud=void 0}function H(t){t.Wd(void 0),t.Wd=void 0,t.Ud=void 0}var z=i("[[CancelSteps]]"),Y=i("[[PullSteps]]");function j(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Ld=n,i}function K(t){return S((function(n,i){var r={Gd:n,Zd:i};t.Od.Hd.push(r)}))}function q(t,n,i){var r=t.Od;r.Hd.shift().Gd(O(n,i,r.Ld))}function J(t){return t.Od.Hd.length}function Q(t){var n=t.Od;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Kn(t))throw new _("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");B(this,t),this.Hd=new M}return b.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.Vd:R(ut("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Bd?R(W("cancel")):V(this,t):R(ut("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Bd?R(W("read from")):rt(this):R(ut("read"))},t.prototype.releaseLock=function(){if(!it(this))throw ut("releaseLock");if(void 0!==this.Bd){if(this.Hd.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function it(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Hd")}function rt(t){var n=t.Bd;return n.Xd=!0,"closed"===n.Fa?I(O(void 0,!0,t.Ld)):"errored"===n.Fa?R(n.Fd):n.zd[Y]()}function ut(t){return new _("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===U(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,b.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(at("next"));var t=this.qd;return void 0===t.Bd?R(W("iterate")):P(rt(t),(function(n){var i=n.done;return i&&F(t),O(n.value,i,!0)}))},return:function(t){if(!1===ot(this))return R(at("next"));var n=this.qd;if(void 0===n.Bd)return R(W("finish iterating"));if(n.Hd.length>0)return R(new _("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Yd){var i=V(n,t);return F(n),P(i,(function(){return O(t,!0,!0)}))}return F(n),I(O(t,!0,!0))}};function ot(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"qd")}function at(t){return new _("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.Kd.shift();return t.Qd-=n.size,t.Qd<0&&(t.Qd=0),n.value}function ht(t,n,i){if(!h(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Kd.push({value:n,size:i}),t.Qd+=i}function ft(t){t.Kd=new M,t.Qd=0}void 0!==tt&&b.setPrototypeOf(st,tt),b.defineProperty(st,"next",{enumerable:!1}),b.defineProperty(st,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),dt=i("[[ErrorSteps]]"),lt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),wt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=b.create(Lt.prototype);function u(){return d(n,"start",[e])}var s=v(n,"write",1,[e]),o=v(n,"close",0,[]),a=v(n,"abort",1,[]);Mt(t,e,u,s,o,a,i,r)}(this,t,r=g(r),e)}return b.defineProperty(t.prototype,"locked",{get:function(){if(!1===mt(this))throw Zt("locked");return yt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===mt(this)?R(Zt("abort")):!0===yt(this)?R(new _("Cannot abort a stream that already has a writer")):pt(this,t)},t.prototype.close=function(){return!1===mt(this)?R(Zt("close")):!0===yt(this)?R(new _("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new _("Cannot close an already-closing stream")):_t(this)},t.prototype.getWriter=function(){if(!1===mt(this))throw Zt("getWriter");return gt(this)},t}();function gt(t){return new It(t)}function wt(t){t.Fa="writable",t.Fd=void 0,t.Jd=void 0,t.$d=void 0,t.tf=new M,t.ef=void 0,t.nf=void 0,t.rf=void 0,t.hf=void 0,t.uf=!1}function mt(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"$d")}function yt(t){return void 0!==t.Jd}function pt(t,n){var i=t.Fa;if("closed"===i||"errored"===i)return I(void 0);if(void 0!==t.hf)return t.hf.cf;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=S((function(i,e){t.hf={cf:void 0,Gd:i,Zd:e,lf:n,df:r}}));return t.hf.cf=e,!1===r&&kt(t,n),e}function _t(t){var n=t.Fa;if("closed"===n||"errored"===n)return R(new _("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=S((function(n,i){var r={Gd:n,Zd:i};t.nf=r})),r=t.Jd;return void 0!==r&&!0===t.uf&&"writable"===n&&$t(r),function(t){ht(t,"close",0),Vt(t)}(t.$d),i}function bt(t,n){"writable"!==t.Fa?At(t):kt(t,n)}function kt(t,n){var i=t.$d;t.Fa="erroring",t.Fd=n;var r=t.Jd;void 0!==r&&Dt(r,n),!1===function(t){return void 0!==t.ef||void 0!==t.rf}(t)&&!0===i._f&&At(t)}function At(t){t.Fa="errored",t.$d[dt]();var n=t.Fd;if(t.tf.forEach((function(t){t.Zd(n)})),t.tf=new M,void 0!==t.hf){var i=t.hf;if(t.hf=void 0,!0===i.df)return i.Zd(n),void St(t);N(t.$d[vt](i.lf),(function(){i.Gd(),St(t)}),(function(n){i.Zd(n),St(t)}))}else St(t)}function Tt(t){return void 0!==t.nf||void 0!==t.rf}function St(t){void 0!==t.nf&&(t.nf.Zd(t.Fd),t.nf=void 0);var n=t.Jd;void 0!==n&&Yt(n,t.Fd)}function Et(t,n){var i=t.Jd;void 0!==i&&n!==t.uf&&(!0===n?function(t){Kt(t)}(i):$t(i)),t.uf=n}var It=function(){function t(t){if(!1===mt(t))throw new _("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===yt(t))throw new _("This stream has already been locked for exclusive writing by another writer");this.vf=t,t.Jd=this;var n=t.Fa;if("writable"===n)!1===Tt(t)&&!0===t.uf?Kt(this):Jt(this),Ht(this);else if("erroring"===n)qt(this,t.Fd),Ht(this);else if("closed"===n)Jt(this),function(t){Ht(t),jt(t)}(this);else{var i=t.Fd;qt(this,i),zt(this,i)}}return b.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(Xt("closed")):this.Vd},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw Xt("desiredSize");if(void 0===this.vf)throw Gt("desiredSize");return function(t){var n=t.vf,i=n.Fa;return"errored"===i||"erroring"===i?null:"closed"===i?0:Bt(n.$d)}(this)},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(Xt("ready")):this.gf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(Xt("abort")):void 0===this.vf?R(Gt("abort")):function(t,n){var i=t.vf;return pt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(Xt("close"));var t=this.vf;return void 0===t?R(Gt("close")):!0===Tt(t)?R(new _("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw Xt("releaseLock");void 0!==this.vf&&xt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(Xt("write")):void 0===this.vf?R(Gt("write to")):Pt(this,t)},t}();function Rt(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"vf")}function Ct(t){return _t(t.vf)}function Nt(t,n){"pending"===t.mf?Yt(t,n):function(t,n){zt(t,n)}(t,n)}function Dt(t,n){"pending"===t.pf?Qt(t,n):function(t,n){qt(t,n)}(t,n)}function xt(t){var n=t.vf,i=new _("Writer was released and can no longer be used to monitor the stream's closedness");Dt(t,i),Nt(t,i),n.Jd=void 0,t.vf=void 0}function Pt(t,n){var i=t.vf,r=i.$d,e=function(t,n){try{return t.wf(n)}catch(n){return Ft(t,n),1}}(r,n);if(i!==t.vf)return R(Gt("write to"));var u=i.Fa;if("errored"===u)return R(i.Fd);if(!0===Tt(i)||"closed"===u)return R(new _("The stream is closing or closed and cannot be written to"));if("erroring"===u)return R(i.Fd);var s=function(t){return S((function(n,i){var r={Gd:n,Zd:i};t.tf.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ht(t,r,i)}catch(n){return void Ft(t,n)}var e=t.yf;!1===Tt(e)&&"writable"===e.Fa&&Et(e,Ut(t)),Vt(t)}(r,n,e),s}var Lt=function(){function t(){throw new _("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"yf")}(this))throw new _("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.yf.Fa&&Wt(this,t)},t.prototype[vt]=function(t){var n=this.bf(t);return Ot(this),n},t.prototype[dt]=function(){ft(this)},t}();function Mt(t,n,i,r,e,u,s,o){n.yf=t,t.$d=n,n.Kd=void 0,n.Qd=void 0,ft(n),n._f=!1,n.wf=o,n.Af=s,n.Sf=r,n.Tf=e,n.bf=u;var a=Ut(n);Et(t,a),N(I(i()),(function(){n._f=!0,Vt(n)}),(function(i){n._f=!0,bt(t,i)}))}function Ot(t){t.Sf=void 0,t.Tf=void 0,t.bf=void 0,t.wf=void 0}function Bt(t){return t.Af-t.Qd}function Vt(t){var n=t.yf;if(!1!==t._f&&void 0===n.ef)if("erroring"!==n.Fa){if(0!==t.Kd.length){var i=function(t){return t.Kd.peek().value}(t);"close"===i?function(t){var n=t.yf;(function(t){t.rf=t.nf,t.nf=void 0})(n),ct(t);var i=t.Tf();Ot(t),N(i,(function(){!function(t){t.rf.Gd(void 0),t.rf=void 0,"erroring"===t.Fa&&(t.Fd=void 0,void 0!==t.hf&&(t.hf.Gd(),t.hf=void 0)),t.Fa="closed";var n=t.Jd;void 0!==n&&jt(n)}(n)}),(function(t){!function(t,n){t.rf.Zd(n),t.rf=void 0,void 0!==t.hf&&(t.hf.Zd(n),t.hf=void 0),bt(t,n)}(n,t)}))}(t):function(t,n){var i=t.yf;!function(t){t.ef=t.tf.shift()}(i);var r=t.Sf(n);N(r,(function(){!function(t){t.ef.Gd(void 0),t.ef=void 0}(i);var n=i.Fa;if(ct(t),!1===Tt(i)&&"writable"===n){var r=Ut(t);Et(i,r)}Vt(t)}),(function(n){"writable"===i.Fa&&Ot(t),function(t,n){t.ef.Zd(n),t.ef=void 0,bt(t,n)}(i,n)}))}(t,i.chunk)}}else At(n)}function Ft(t,n){"writable"===t.yf.Fa&&Wt(t,n)}function Ut(t){return Bt(t)<=0}function Wt(t,n){var i=t.yf;Ot(t),kt(i,n)}function Zt(t){return new _("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Xt(t){return new _("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Gt(t){return new _("Cannot "+t+" a stream using a released writer")}function Ht(t){t.Vd=S((function(n,i){t.Wd=n,t.Ud=i,t.mf="pending"}))}function zt(t,n){Ht(t),Yt(t,n)}function Yt(t,n){L(t.Vd),t.Ud(n),t.Wd=void 0,t.Ud=void 0,t.mf="rejected"}function jt(t){t.Wd(void 0),t.Wd=void 0,t.Ud=void 0,t.mf="resolved"}function Kt(t){t.gf=S((function(n,i){t.kf=n,t.Ef=i})),t.pf="pending"}function qt(t,n){Kt(t),Qt(t,n)}function Jt(t){Kt(t),$t(t)}function Qt(t,n){L(t.gf),t.Ef(n),t.kf=void 0,t.Ef=void 0,t.pf="rejected"}function $t(t){t.kf(void 0),t.kf=void 0,t.Ef=void 0,t.pf="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":U(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":U(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",p.captureStackTrace&&p.captureStackTrace(this,this.constructor)}).prototype=b.create(p.prototype),b.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function un(t,n,i,r,u,s){var o=j(t),a=gt(n);t.Xd=!0;var c=!1,h=I(void 0);return S((function(f,v){var d,l,g,w;if(void 0!==s){if(d=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push((function(){return"writable"===n.Fa?pt(n,i):I(void 0)})),!1===u&&e.push((function(){return"readable"===t.Fa?Jn(t,i):I(void 0)})),b((function(){return et.all(e.map((function(t){return t()})))}),!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(p(t,o.Vd,(function(t){!1===r?b((function(){return pt(n,t)}),!0,t):k(!0,t)})),p(n,a.Vd,(function(n){!1===u?b((function(){return Jn(t,n)}),!0,n):k(!0,n)})),l=t,g=o.Vd,w=function(){!1===i?b((function(){return function(t){var n=t.vf,i=n.Fa;return!0===Tt(n)||"closed"===i?I(void 0):"errored"===i?R(n.Fd):Ct(t)}(a)})):k()},"closed"===l.Fa?w():D(g,w),!0===Tt(n)||"closed"===n.Fa){var m=new _("the destination writable stream closed before all data could be piped to it");!1===u?b((function(){return Jn(t,m)}),!0,m):k(!0,m)}function y(){var t=h;return C(h,(function(){return t!==h?y():void 0}))}function p(t,n,i){"errored"===t.Fa?i(t.Fd):x(n,i)}function b(t,i,r){function e(){N(t(),(function(){return A(i,r)}),(function(t){return A(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Fa&&!1===Tt(n)?D(y(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Fa&&!1===Tt(n)?D(y(),(function(){return A(t,i)})):A(t,i))}function A(t,n){xt(a),F(o),void 0!==s&&s.removeEventListener("abort",d),t?v(n):f(void 0)}L(S((function(t,n){!function i(r){r?t():C(!0===c?I(!0):C(a.gf,(function(){return C(rt(o),(function(t){return!0===t.done||(h=C(Pt(a,t.value),void 0,e),!1)}))})),i,n)}(!1)})))}))}var sn=function(){function t(){throw new _}return b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw mn("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw mn("close");if(!1===gn(this))throw new _("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw mn("enqueue");if(!1===gn(this))throw new _("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw mn("error");dn(this,t)},t.prototype[z]=function(t){ft(this);var n=this.xf(t);return hn(this),n},t.prototype[Y]=function(){var t=this.If;if(this.Kd.length>0){var n=ct(this);return!0===this.Rf&&0===this.Kd.length?(hn(this),Qn(t)):an(this),I(O(n,!1,t.Od.Ld))}var i=K(t);return an(this),i},t}();function on(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"If")}function an(t){!1!==cn(t)&&(!0!==t.Cf?(t.Cf=!0,N(t.Pf(),(function(){t.Cf=!1,!0===t.Df&&(t.Df=!1,an(t))}),(function(n){dn(t,n)}))):t.Df=!0)}function cn(t){var n=t.If;return!1!==gn(t)&&!1!==t._f&&(!0===qn(n)&&J(n)>0||ln(t)>0)}function hn(t){t.Pf=void 0,t.xf=void 0,t.wf=void 0}function fn(t){var n=t.If;t.Rf=!0,0===t.Kd.length&&(hn(t),Qn(n))}function vn(t,n){var i=t.If;if(!0===qn(i)&&J(i)>0)q(i,n,!1);else{var r=void 0;try{r=t.wf(n)}catch(n){throw dn(t,n),n}try{ht(t,n,r)}catch(n){throw dn(t,n),n}}an(t)}function dn(t,n){var i=t.If;"readable"===i.Fa&&(ft(t),hn(t),$n(i,n))}function ln(t){var n=t.If.Fa;return"errored"===n?null:"closed"===n?0:t.Af-t.Qd}function gn(t){var n=t.If.Fa;return!1===t.Rf&&"readable"===n}function wn(t,n,i,r,e,u,s){n.If=t,n.Kd=void 0,n.Qd=void 0,ft(n),n._f=!1,n.Rf=!1,n.Df=!1,n.Cf=!1,n.wf=s,n.Af=u,n.Pf=r,n.xf=e,t.zd=n,N(I(i()),(function(){n._f=!0,an(n)}),(function(t){dn(n,t)}))}function mn(t){return new _("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var yn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&k.floor(t)===t},pn=function(){function t(){throw new _("ReadableStreamBYOBRequest cannot be used directly")}return b.defineProperty(t.prototype,"view",{get:function(){if(!1===kn(this))throw Vn("view");return this.Nf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kn(this))throw Vn("respond");if(void 0===this.Mf)throw new _("This BYOB request has been invalidated");this.Nf.buffer,function(t,n){if(!1===h(n=Number(n)))throw new RangeError("bytesWritten must be a finite");xn(t,n)}(this.Mf,t)},t.prototype.respondWithNewView=function(t){if(!1===kn(this))throw Vn("respond");if(void 0===this.Mf)throw new _("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new _("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Lf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,xn(t,n.byteLength)}(this.Mf,t)},t}(),_n=function(){function t(){throw new _("ReadableByteStreamController constructor cannot be used directly")}return b.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===bn(this))throw Fn("byobRequest");if(void 0===this.Bf&&this.Lf.length>0){var t=this.Lf.peek(),n=new E(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=b.create(pn.prototype);!function(t,n,i){t.Mf=n,t.Nf=i}(i,this,n),this.Bf=i}return this.Bf},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bn(this))throw Fn("desiredSize");return On(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===bn(this))throw Fn("close");if(!0===this.Rf)throw new _("The stream has already been closed; do not close it again!");var t=this.Of.Fa;if("readable"!==t)throw new _("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Of;if(t.Qd>0)t.Rf=!0;else{if(t.Lf.length>0&&t.Lf.peek().bytesFilled>0){var i=new _("Insufficient bytes to fill elements in the given buffer");throw Mn(t,i),i}Ln(t),Qn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===bn(this))throw Fn("enqueue");if(!0===this.Rf)throw new _("stream is closed or draining");var n=this.Of.Fa;if("readable"!==n)throw new _("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new _("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Of,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===Q(i)?0===J(i)?En(t,s,e,u):q(i,new E(s,e,u),!1):!0===Zn(i)?(En(t,s,e,u),Dn(t)):En(t,s,e,u),An(t)}(this,t)},t.prototype.error=function(t){if(!1===bn(this))throw Fn("error");Mn(this,t)},t.prototype[z]=function(t){this.Lf.length>0&&(this.Lf.peek().bytesFilled=0),ft(this);var n=this.xf(t);return Ln(this),n},t.prototype[Y]=function(){var t=this.Of;if(this.Qd>0){var n=this.Kd.shift();this.Qd-=n.byteLength,Cn(this);var i=void 0;try{i=new E(n.buffer,n.byteOffset,n.byteLength)}catch(t){return R(t)}return I(O(i,!1,t.Od.Ld))}var r=this.Ff;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:E,readerType:"default"};this.Lf.push(u)}var s=K(t);return An(this),s},t}();function bn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Of")}function kn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Mf")}function An(t){var n=function(t){var n=t.Of;if("readable"!==n.Fa)return!1;if(!0===t.Rf)return!1;if(!1===t._f)return!1;if(!0===Q(n)&&J(n)>0)return!0;if(!0===Zn(n)&&Wn(n)>0)return!0;var i=On(t);return i>0}(t);!1!==n&&(!0!==t.Cf?(t.Cf=!0,N(t.Pf(),(function(){t.Cf=!1,!0===t.Df&&(t.Df=!1,An(t))}),(function(n){Mn(t,n)}))):t.Df=!0)}function Tn(t,n){var i=!1;"closed"===t.Fa&&(i=!0);var r=Sn(n);"default"===n.readerType?q(t,r,i):function(t,n,i){var r=t.Od,e=r.Vf.shift();e.Gd(O(n,i,r.Ld))}(t,r,i)}function Sn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function En(t,n,i,r){t.Kd.push({buffer:n,byteOffset:i,byteLength:r}),t.Qd+=r}function In(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=k.min(t.Qd,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var h=t.Kd;o>0;){var f=h.peek(),v=k.min(o,f.byteLength),d=n.byteOffset+n.bytesFilled;c(n.buffer,d,f.buffer,f.byteOffset,v),f.byteLength===v?h.shift():(f.byteOffset+=v,f.byteLength-=v),t.Qd-=v,Rn(t,v,n),o-=v}return a}function Rn(t,n,i){Nn(t),i.bytesFilled+=n}function Cn(t){0===t.Qd&&!0===t.Rf?(Ln(t),Qn(t.Of)):An(t)}function Nn(t){void 0!==t.Bf&&(t.Bf.Mf=void 0,t.Bf.Nf=void 0,t.Bf=void 0)}function Dn(t){for(;t.Lf.length>0;){if(0===t.Qd)return;var n=t.Lf.peek();!0===In(t,n)&&(Pn(t),Tn(t.Of,n))}}function xn(t,n){var i=t.Lf.peek();if("closed"===t.Of.Fa){if(0!==n)throw new _("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.Of;if(!0===Zn(i))for(;Wn(i)>0;)Tn(i,Pn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Rn(t,n,i),!(i.bytesFilled<i.elementSize)){Pn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);En(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Tn(t.Of,i),Dn(t)}}(t,n,i);An(t)}function Pn(t){var n=t.Lf.shift();return Nn(t),n}function Ln(t){t.Pf=void 0,t.xf=void 0}function Mn(t,n){var i=t.Of;"readable"===i.Fa&&(function(t){Nn(t),t.Lf=new M}(t),ft(t),Ln(t),$n(i,n))}function On(t){var n=t.Of.Fa;return"errored"===n?null:"closed"===n?0:t.Af-t.Qd}function Bn(t,n,i){var r=b.create(_n.prototype),e=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===yn(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Of=t,n.Df=!1,n.Cf=!1,n.Bf=void 0,n.Kd=n.Qd=void 0,ft(n),n.Rf=!1,n._f=!1,n.Af=g(u),n.Pf=r,n.xf=e,n.Ff=s,n.Lf=new M,t.zd=n,N(I(i()),(function(){n._f=!0,An(n)}),(function(t){Mn(n,t)}))}(t,r,(function(){return d(n,"start",[r])}),e,u,i,s)}function Vn(t){return new _("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fn(t){return new _("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Un(t){return S((function(n,i){var r={Gd:n,Zd:i};t.Od.Vf.push(r)}))}function Wn(t){return t.Od.Vf.length}function Zn(t){var n=t.Od;return void 0!==n&&!!Gn(n)}var Xn=function(){function t(t){if(!Kn(t))throw new _("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===bn(t.zd))throw new _("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");B(this,t),this.Vf=new M}return b.defineProperty(t.prototype,"closed",{get:function(){return Gn(this)?this.Vd:R(Hn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Gn(this)?void 0===this.Bd?R(W("cancel")):V(this,t):R(Hn("cancel"))},t.prototype.read=function(t){return Gn(this)?void 0===this.Bd?R(W("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new _("view must have non-zero byteLength")):function(t,n){var i=t.Bd;return i.Xd=!0,"errored"===i.Fa?R(i.Fd):function(t,n){var i=t.Of,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Lf.length>0)return t.Lf.push(u),Un(i);if("closed"===i.Fa)return I(O(new e(u.buffer,u.byteOffset,0),!0,i.Od.Ld));if(t.Qd>0){if(!0===In(t,u)){var s=Sn(u);return Cn(t),I(O(s,!1,i.Od.Ld))}if(!0===t.Rf){var o=new _("Insufficient bytes to fill elements in the given buffer");return Mn(t,o),R(o)}}t.Lf.push(u);var a=Un(i);return An(t),a}(i.zd,n)}(this,t)):R(new _("view must be an array buffer view")):R(Hn("read"))},t.prototype.releaseLock=function(){if(!Gn(this))throw Hn("releaseLock");if(void 0!==this.Bd){if(this.Vf.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},t}();function Gn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Vf")}function Hn(t){return new _("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var zn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),jn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Bn(this,t,r=g(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=w(i);void 0===r&&(r=1),function(t,n,i,r){var e=b.create(sn.prototype),u=v(n,"pull",0,[e]),s=v(n,"cancel",1,[]);wn(t,e,(function(){return d(n,"start",[e])}),u,s,i,r)}(this,t,r=g(r),u)}}return b.defineProperty(t.prototype,"locked",{get:function(){if(!1===Kn(this))throw ti("locked");return qn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Kn(this)?R(ti("cancel")):!0===qn(this)?R(new _("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Kn(this))throw ti("getReader");if(void 0===n)return j(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Xn(t);return i.Ld=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Kn(this))throw ti("pipeThrough");if(!1===mt(i))throw new _("writable argument to pipeThrough must be a WritableStream");if(!1===Kn(r))throw new _("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!tn(a))throw new _("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===qn(this))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===yt(i))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return L(un(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Kn(this)?R(ti("pipeTo")):!1===mt(t)?R(new _("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||tn(s)?!0===qn(this)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===yt(t)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,t,r,e,u,s):R(new _("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Kn(this))throw ti("tee");var t=function(t,n){var i,r,e,u,s,o=j(t),c=!1,h=!1,f=!1,v=S((function(t){s=t}));function d(){return!0===c||(c=!0,L(P(rt(o),(function(t){if(c=!1,!0===t.done)return!1===h&&fn(e.zd),void(!1===f&&fn(u.zd));var n=t.value,i=n,r=n;!1===h&&vn(e.zd,i),!1===f&&vn(u.zd,r)})))),I(void 0)}function l(){}return e=Yn(l,d,(function(n){if(h=!0,i=n,!0===f){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),u=Yn(l,d,(function(n){if(f=!0,r=n,!0===h){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),x(o.Vd,(function(t){dn(e.zd,t),dn(u.zd,t)})),[e,u]}(this);return a(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Kn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=j(t),r=b.create(st);return r.qd=i,r.Yd=Boolean(n),r}(this,i)},t}();function Yn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=b.create(zn.prototype);return jn(u),wn(u,b.create(sn.prototype),t,n,i,r,e),u}function jn(t){t.Fa="readable",t.Od=void 0,t.Fd=void 0,t.Xd=!1}function Kn(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"zd")}function qn(t){return void 0!==t.Od}function Jn(t,n){return t.Xd=!0,"closed"===t.Fa?I(void 0):"errored"===t.Fa?R(t.Fd):(Qn(t),P(t.zd[z](n),e))}function Qn(t){t.Fa="closed";var n=t.Od;void 0!==n&&(it(n)&&(n.Hd.forEach((function(t){t.Gd(O(void 0,!0,n.Ld))})),n.Hd=new M),H(n))}function $n(t,n){t.Fa="errored",t.Fd=n;var i=t.Od;void 0!==i&&(it(i)?(i.Hd.forEach((function(t){t.Zd(n)})),i.Hd=new M):(i.Vf.forEach((function(t){t.Zd(n)})),i.Vf=new M),G(i,n))}function ti(t){return new _("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===U(i.asyncIterator)&&b.defineProperty(zn.prototype,i.asyncIterator,{value:zn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=w(r);if(void 0===e&&(e=1),e=g(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=w(u);void 0===s&&(s=0),s=g(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.Wf;return!0===t.uf?P(t.Uf,(function(){var r=t.Gf;if("erroring"===r.Fa)throw r.Fd;return vi(i,n)})):vi(i,n)}(t,n)}function a(n){return function(t,n){return ui(t,n),I(void 0)}(t,n)}function c(){return function(t){var n=t.Zf,i=t.Wf,r=i.Hf();return hi(i),P(r,(function(){if("errored"===n.Fa)throw n.Fd;var t=n.zd;!0===gn(t)&&fn(t)}),(function(i){throw ui(t,i),n.Fd}))}(t)}function h(){return function(t){return oi(t,!1),t.Uf}(t)}function f(n){return si(t,n),I(void 0)}t.Gf=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=b.create(lt.prototype);return wt(s),Mt(s,b.create(Lt.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.Zf=Yn(s,h,f,e,u),t.uf=void 0,t.Uf=void 0,t.Xf=void 0,oi(t,!0),t.Wf=void 0}(this,S((function(t){a=t})),e,o,s,c),function(t,n){var i=b.create(ai.prototype),r=function(t){try{return fi(i,t),I(void 0)}catch(t){return R(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new _("transform is not a method");r=function(t){return l(e,n,[t,i])}}var u=v(n,"flush",0,[i]);!function(t,n,i,r){n.zf=t,t.Wf=n,n.qf=i,n.Hf=r}(t,i,r,u)}(this,t);var h=d(t,"start",[this.Wf]);a(h)}return b.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw li("readable");return this.Zf},enumerable:!0,configurable:!0}),b.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw li("writable");return this.Gf},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"Wf")}function ui(t,n){dn(t.Zf.zd,n),si(t,n)}function si(t,n){hi(t.Wf),Ft(t.Gf.$d,n),!0===t.uf&&oi(t,!1)}function oi(t,n){void 0!==t.Uf&&t.Xf(),t.Uf=S((function(n){t.Xf=n})),t.uf=n}var ai=function(){function t(){throw new _("TransformStreamDefaultController instances cannot be created directly")}return b.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw di("desiredSize");return ln(this.zf.Zf.zd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw di("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw di("error");!function(t,n){ui(t.zf,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw di("terminate");!function(t){var n=t.zf,i=n.Zf.zd;!0===gn(i)&&fn(i);var r=new _("TransformStream terminated");si(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!b.prototype.hasOwnProperty.call(t,"zf")}function hi(t){t.qf=void 0,t.Hf=void 0}function fi(t,n){var i=t.zf,r=i.Zf.zd;if(!1===gn(r))throw new _("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw si(i,t),i.Zf.Fd}var e=function(t){return!0!==cn(t)}(r);e!==i.uf&&oi(i,!0)}function vi(t,n){return P(t.qf(n),void 0,(function(n){throw ui(t.zf,n),n}))}function di(t){return new _("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function li(t){return new _("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=zn,t.TransformStream=ri,t.WritableStream=lt,b.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":U(t))&&void 0!==i?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((e=e||self).WebStreamsPolyfill={})})),en=O((function(t){function n(){var t=rn();return n=function(){return t},t}F(),Tt(),b.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)b.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function un(t,n,i){return n in t?b.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var sn=M((function(){F(),Tt()})),on=M((function(){F(),Tt(),Ut()}));function an(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(an=function(){return!!t})()}var cn=M((function(){F(),Tt()}));function hn(t,n,i){return(hn=an()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&St(e,i.prototype),e}).apply(null,arguments)}var fn=M((function(){F(),Tt(),cn(),Et()}));function vn(t){return(vn=b.setPrototypeOf?b.getPrototypeOf:function(t){return t.__proto__||b.getPrototypeOf(t)})(t)}var dn=M((function(){F(),Tt()}));var ln=M((function(){F(),Tt()}));function gn(t){var n="function"==typeof Map?new Map:void 0;return gn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new _("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return hn(t,arguments,vn(this).constructor)}return i.prototype=b.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),St(i,t)},gn(t)}var wn,mn=M((function(){F(),Tt(),fn(),dn(),ln(),Et()})),yn=O((function(t,e){var u,s;F(),Tt(),Mt(),fn(),Dt(),sn(),Rt(),nn(),qt(),at(),mn(),Wt(),on(),u=t,s=function(t){var e,u=b.defineProperty,s=b.defineProperties,o=b.getOwnPropertyDescriptors,a=b.getOwnPropertySymbols,c=b.prototype.hasOwnProperty,h=b.prototype.propertyIsEnumerable,d=function(t,n,i){return n in t?u(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},w=function(t,n){for(var i in n||(n={}))c.call(n,i)&&d(t,i,n[i]);if(a)for(var r=0,e=a(n);r<e.length;r++)i=e[r],h.call(n,i)&&d(t,i,n[i]);return t},R=function(t,n){return s(t,o(n))},C=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&a)for(var e=0,u=a(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&h.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":U(globalThis))<"u"?globalThis:(void 0===f?"undefined":U(f))<"u"?f:("undefined"==typeof global?"undefined":U(global))<"u"?global:("undefined"==typeof self?"undefined":U(self))<"u"?self:{};function D(t){return t&&t.__esModule&&b.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x,P={exports:{}};x=P,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":U(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,x.exports?x.exports=i:(i.Yf=t.Logger,i.noConflict=function(){return t.Logger=i.Yf,i},t.Logger=i)}(N);var L=D(P.exports),M="0.3.2",O=(null==(e=null==f?void 0:f.navigator)?void 0:e.userAgent)||"No user agent available",B="",V="",F="",W="",Z="",X="",G="",H=0,z=[],Y=function(t){B=""===B?t:B},j=function(t){V=""===V?t:V},K=function(t){F=""===F?t:F},q=function(t){W=""===W?t:W},J=function(t){Z=""===Z?t:Z},Q=function(t){H=0===H?t:H},tt=function(t){X=t},nt=function(t){G=""===G?t:G},it=function(t){60===z.length&&z.shift(),z.push(t)},rt=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:M,timestamp:(new Date).toISOString(),userAgent:O,clusterId:G,accountId:B,streamName:V,subscriberId:F,connection:X,stats:z.slice(-i),connectionDurationMs:(new Date).getTime()-H};return""!==Z?r.feedId=Z:""!==W&&(r.streamViewId=W),"CMCD"===n?function(t){function n(t,n){return{ts:k.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:k.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(Kt(r).concat(Kt(e)))}),[]),t}(r):r};L.useDefaults({defaultLevel:L.TRACE});var ut=["TRACE","DEBUG","INFO","WARN","ERROR"],st=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ot=function(t,n){return n?t.value>=dt[n].value:t.value>=vt.value},at=L.createDefaultHandler({formatter:st});L.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==(void 0===t?"undefined":U(t))?JSON.stringify(t):t})),st(t,n),0!==ht?(ft.push(t.join(" ")),ft.length>=ht&&(ft=ft.slice(-ht))):ft=[]})(t,n),ot(n.level,n.name)&&at(t,n);for(var i=0;i<lt.length;i++){var r=lt[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var ct,ht=1e4,ft=[],vt=L.OFF,dt={},lt=[],gt=R(w({},L),{enabledFor:ot,getHistory:function(){return ft},getHistoryMaxSize:function(){return ht},setHistoryMaxSize:function(t){ht=t},setLevel:function(t){for(var n in vt=t,dt)dt[n]=t},getLevel:function(){return vt},get:function(t){dt[t]||(dt[t]=vt);var n=L.get(t);return n.setLevel=function(n){dt[t]=n},n.getLevel=function(){return dt[t]},n},setHandler:function(t,n){lt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=w(w({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=rt(r,s),a=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new p("Invalid Argument Exception : historySize must be a positive integer.");if(!ut.includes(u.toUpperCase()))throw new p('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(ut.includes(u.toUpperCase())){var c=ut.slice(ut.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:M}),wt={exports:{}},mt="object"==("undefined"==typeof Reflect?"undefined":U(Reflect))?Reflect:null,yt=mt&&"function"==typeof mt.apply?mt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};ct=mt&&"function"==typeof mt.ownKeys?mt.ownKeys:b.getOwnPropertySymbols?function(t){return b.getOwnPropertyNames(t).concat(b.getOwnPropertySymbols(t))}:function(t){return b.getOwnPropertyNames(t)};var pt=Number.isNaN||function(t){return t!=t};function _t(){_t.init.call(this)}wt.exports=_t,wt.exports.once=function(t,n){return new et((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}xt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&xt(t,"error",n,i)}(t,e,{once:!0})}))},_t.EventEmitter=_t,_t.prototype.Kf=void 0,_t.prototype.jf=0,_t.prototype.Qf=void 0;var bt=10;function kt(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":U(t)))}function At(t){return void 0===t.Qf?_t.defaultMaxListeners:t.Qf}function Tt(t,n,i,r){var e,u,s;if(kt(i),void 0===(u=t.Kf)?(u=t.Kf=b.create(null),t.jf=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.Kf),s=u[n]),void 0===s)s=u[n]=i,++t.jf;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=At(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new p("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function St(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Et(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=St.bind(r);return e.listener=i,r.wrapFn=e,e}function Rt(t,n,i){var r=t.Kf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Dt(e,e.length)}function Ct(t){var n=this.Kf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Dt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function xt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":U(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}b.defineProperty(_t,"defaultMaxListeners",{enumerable:!0,get:function(){return bt},set:function(t){if("number"!=typeof t||t<0||pt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bt=t}}),_t.init=function(){(void 0===this.Kf||this.Kf===b.getPrototypeOf(this).Kf)&&(this.Kf=b.create(null),this.jf=0),this.Qf=this.Qf||void 0},_t.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||pt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Qf=t,this},_t.prototype.getMaxListeners=function(){return At(this)},_t.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Kf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof p)throw u;var s=new p("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)yt(o,this,n);else{var a=o.length,c=Dt(o,a);for(i=0;i<a;++i)yt(c[i],this,n)}return!0},_t.prototype.addListener=function(t,n){return Tt(this,t,n,!1)},_t.prototype.on=_t.prototype.addListener,_t.prototype.prependListener=function(t,n){return Tt(this,t,n,!0)},_t.prototype.once=function(t,n){return kt(n),this.on(t,Et(this,t,n)),this},_t.prototype.prependOnceListener=function(t,n){return kt(n),this.prependListener(t,Et(this,t,n)),this},_t.prototype.removeListener=function(t,n){var i,r,e,u,s;if(kt(n),void 0===(r=this.Kf))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.jf?this.Kf=b.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},_t.prototype.off=_t.prototype.removeListener,_t.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Kf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Kf=b.create(null),this.jf=0):void 0!==i[t]&&(0==--this.jf?this.Kf=b.create(null):delete i[t]),this;if(0===arguments.length){var e,u=b.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Kf=b.create(null),this.jf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},_t.prototype.listeners=function(t){return Rt(this,t,!0)},_t.prototype.rawListeners=function(t){return Rt(this,t,!1)},_t.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Ct.call(t,n)},_t.prototype.listenerCount=Ct,_t.prototype.eventNames=function(){return this.jf>0?ct(this.Kf):[]};var Lt=wt.exports,Mt=D(Lt),Vt={exports:{}};Vt.exports=Ut,Vt.exports.filter=function(t,n){var i=new Ft;return Ut(t,i,n),i};var Ft=Lt.EventEmitter;function Ut(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Wt=D(Vt.exports),Zt={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":U(t)))},r=function(t){return void 0===t.Qf?l.defaultMaxListeners:t.Qf},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.Kf)?(o=t.Kf=b.create(null),t.jf=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.Kf),a=o[n]),void 0===a)a=o[n]=e,++t.jf;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new p("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.Kf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.Kf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":U(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==("undefined"==typeof Reflect?"undefined":U(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:b.getOwnPropertySymbols?function(t){return b.getOwnPropertyNames(t).concat(b.getOwnPropertySymbols(t))}:function(t){return b.getOwnPropertyNames(t)};var d=Number.isNaN||function(t){return t!=t};function l(){l.init.call(this)}t.exports=l,t.exports.once=function(t,n){return new et((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},l.EventEmitter=l,l.prototype.Kf=void 0,l.prototype.jf=0,l.prototype.Qf=void 0;var g=10;b.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),l.init=function(){void 0!==this.Kf&&this.Kf!==b.getPrototypeOf(this).Kf||(this.Kf=b.create(null),this.jf=0),this.Qf=this.Qf||void 0},l.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||d(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Qf=t,this},l.prototype.getMaxListeners=function(){return r(this)},l.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Kf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof p)throw u;var s=new p("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)v(h[i],this,n)}return!0},l.prototype.addListener=function(t,n){return e(this,t,n,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(t,n){return e(this,t,n,!0)},l.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},l.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},l.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.Kf))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.jf?this.Kf=b.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Kf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Kf=b.create(null),this.jf=0):void 0!==i[t]&&(0==--this.jf?this.Kf=b.create(null):delete i[t]),this;if(0===arguments.length){var e,u=b.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Kf=b.create(null),this.jf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},l.prototype.listeners=function(t){return o(this,t,!0)},l.prototype.rawListeners=function(t){return o(this,t,!1)},l.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},l.prototype.listenerCount=a,l.prototype.eventNames=function(){return this.jf>0?n(this.Kf):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var d,l=new v({filterLevel:o.OFF});(d=o).enabledFor=c(l,l.enabledFor),d.trace=c(l,l.trace),d.debug=c(l,l.debug),d.time=c(l,l.time),d.timeEnd=c(l,l.timeEnd),d.info=c(l,l.info),d.warn=c(l,l.warn),d.error=c(l,l.error),d.log=d.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in l.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return l.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},l.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":U(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Jf||(b.create?function(t,n,i,r){void 0===r&&(r=i);var e=b.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),b.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.$f||function(t,n){for(var i in t)"default"===i||b.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.t_||function(t){return t&&t.__esModule?t:{default:t}};b.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);b.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;b.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){b.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){b.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){b.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,p,k,A=this&&this.e_||function(t,n,i,r){return new(i||(i=et))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},T=this&&this.i_||function(t,n,i,r,e){if("m"===r)throw new _("Private method is not writable");if("a"===r&&!e)throw new _("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new _("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},S=this&&this.s_||function(t,n,i,r){if("a"===i&&!r)throw new _("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new _("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},E=this&&this.t_||function(t){return t&&t.__esModule?t:{default:t}};b.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var I=i(7),R=E(i(586)),C=i(738),N=i(185),D=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),u.set(i,void 0),s.set(i,void 0),o.set(i,null),a.set(i,void 0),c.set(i,null),i.start=function(){S(i,a,"f").info("WebRTC statistics collection is starting..."),T(i,c,null,"f"),T(i,o,m(S(i,h,"f"),S(i,u,"f")),"f")},i.stop=function(){S(i,o,"f")&&(y(S(i,o,"f")),T(i,o,null,"f"),S(i,a,"f").info("WebRTC statistics collection has stopped."))},h.set(i,(function(){return A(i,void 0,void 0,(function(){var t,n,i,u,o,h,f,v,g,m,y,_;return Ot(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,a,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=A.sent(),[2,(S(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,s,"f")&&(o.rawStats=t),h=0,A.label=4;case 4:if(!(h<b.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(g=(0,N.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",d).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===g?[4,S(this,r,"m",l).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return m=f,"audio"!==(y=(0,N.getMediaKind)(m))?[3,13]:[4,S(this,r,"m",w).call(this,t,m,o)];case 12:return A.sent(),[3,16];case 13:return"video"===y?[4,S(this,r,"m",p).call(this,t,m,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(_=f).nominated&&S(this,r,"m",k).call(this,_,o),A.label=18;case 18:return h++,[3,4];case 19:return T(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),T(i,a,R.default.get("WebRTCStats"),"f"),T(i,e,n.getStats,"f"),T(i,u,n.getStatsInterval||1e3,"f"),T(i,s,!!n.includeRawStats,"f"),i}return It(n,t),n}(I.EventEmitter);n.WebRTCStats=D,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ot(this,(function(v){return a=(0,N.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,N.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=S(this,r,"m",f).call(this,t,n.codecId),[2,b.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},d=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=a.sent(),o=b.assign({},s),i.output.audio.push(o),[2]}}))}))},l=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a;return Ot(this,(function(h){switch(h.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=h.sent(),o=C.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=b.assign(b.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},g=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ot(this,(function(v){return s=(0,N.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,N.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,N.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=S(this,r,"m",f).call(this,t,n.codecId),[2,b.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},w=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},p=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=a.sent(),o=b.assign(b.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},k=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Zt);var Xt=Zt.exports,Gt=gt.get("PeerConnectionStats"),Ht="stats",zt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}It(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)Gt.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{Gt.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Xt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,C(n,["input","output","rawStats"]));return R(w({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return w({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);it(i),n.emit(Ht,i)})),this.collection.start(),this.initialized=!0}catch(t){Gt.error(t)}}},i.parseStats=function(t){return Gt.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){Gt.info("Stopping peer connection stats"),this.collection.stop()},n}(Mt),Yt={},jt={},qt={},Jt={exports:{}},Qt=Jt.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};b.keys(Qt).forEach((function(t){Qt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var $t=Jt.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=$t,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(qt);var nn=$t,rn=/%[sdv%]/g,en=function(t){var n=1,i=arguments,r=i.length;return t.replace(rn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},sn=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return en.apply(null,r)},on=["v","o","s","i","u","e","p","c","b","t","r","z","a"],an=["i","c","b","a"],cn=qt,fn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||on,r=n.innerOrder||an,e=[];return i.forEach((function(n){nn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(sn(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(sn(n,i,t))}))}))})),t.media.forEach((function(t){e.push(sn("m",nn.m[0],t)),r.forEach((function(n){nn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(sn(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(sn(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};jt.write=fn,jt.parse=cn.parse,jt.parseParams=cn.parseParams,jt.parseFmtpConfig=cn.parseFmtpConfig,jt.parsePayloads=cn.parsePayloads,jt.parseRemoteCandidates=cn.parseRemoteCandidates,jt.parseImageAttributes=cn.parseImageAttributes,jt.parseSimulcastStreamList=cn.parseSimulcastStreamList;var vn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();vn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new vn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},vn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():vn.expand(t)};var dn=vn,ln=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();ln.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new ln(t.id,t.params)},ln.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():ln.expand(t)};var wn=ln,mn=wn,yn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),b.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return b.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new p("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();yn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new yn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=mn.expand(e);n.addRTCPFeedback(u)}return n},yn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():yn.expand(t)},yn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new yn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var d=v[f];h.addRTCPFeedback(new mn(d.id,d.params))}for(var l=0;l<a.length;l++){var g=a[l].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var pn=yn,_n=function t(){var n=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){n[t]=i("n_"+t)}))},bn=_n("ACTIVE","PASSIVE","ACTPASS","INACTIVE");bn.byValue=function(t){switch(t){case bn.ACTIVE:case bn.PASSIVE:case bn.ACTPASS:case bn.INACTIVE:return t}return bn[t.toUpperCase()]},bn.toString=function(t){switch(t){case bn.ACTIVE:return"active";case bn.PASSIVE:return"passive";case bn.ACTPASS:return"actpass";case bn.INACTIVE:return"inactive"}},bn.reverse=function(t,n){switch(t){case bn.ACTIVE:return bn.PASSIVE;case bn.PASSIVE:return bn.ACTIVE;case bn.ACTPASS:return n?bn.ACTIVE:bn.PASSIVE;case bn.INACTIVE:return bn.INACTIVE}};var kn=bn,An=kn,Tn=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:An.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();Tn.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new Tn(t.setup?An.byValue(t.setup):An.ACTPASS,t.hash,t.fingerprint)},Tn.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():Tn.expand(t)};var Sn=Tn,En=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();En.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new En(t.tag,t.suite,t.keyParams,t.sessionParams)},En.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():En.expand(t)};for(var In=En,Rn={exports:{}},Cn={exports:{}},Nn={},Dn={byteLength:function(t){var n=Bn(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=Bn(t),e=r[0],u=r[1],s=new Ln(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=Pn[t.charCodeAt(i)]<<18|Pn[t.charCodeAt(i+1)]<<12|Pn[t.charCodeAt(i+2)]<<6|Pn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=Pn[t.charCodeAt(i)]<<2|Pn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=Pn[t.charCodeAt(i)]<<10|Pn[t.charCodeAt(i+1)]<<4|Pn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(Fn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(xn[n>>2]+xn[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(xn[n>>10]+xn[n>>4&63]+xn[n<<2&63]+"=")),e.join("")}},xn=[],Pn=[],Ln=(void 0===E?"undefined":U(E))<"u"?E:Array,Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",On=0;On<64;++On)xn[On]=Mn[On],Pn[Mn.charCodeAt(On)]=On;function Bn(t){var n=t.length;if(n%4>0)throw new p("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function Vn(t){return xn[t>>18&63]+xn[t>>12&63]+xn[t>>6&63]+xn[63&t]}function Fn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(Vn(r));return e.join("")}Pn[45]=62,Pn[95]=63;var Un={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,d=t[n+f];for(f+=v,u=d&(1<<-h)-1,d>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(d?-1:1);s+=k.pow(2,r),u-=c}return(d?-1:1)*s*k.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?k.pow(2,-24)-k.pow(2,-77):0,d=r?0:u-1,l=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=k.abs(n),S(n)||n===1/0?(o=S(n)?1:0,s=h):(s=k.floor(k.log(n)/k.LN2),n*(a=k.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*k.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*k.pow(2,e),s+=f):(o=n*k.pow(2,f-1)*k.pow(2,e),s=0));e>=8;t[i+d]=255&o,d+=l,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+d]=255&s,d+=l,s/=256,c-=8);t[i+d-l]|=128*g}};(function(t){var r=Dn,e=Un,u="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new E(t);return b.setPrototypeOf(n,a.prototype),n}function a(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new _('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new _("Unknown encoding: "+n);var i=0|g(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(it(t,E)){var n=new E(t);return d(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":U(t)));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":U(SharedArrayBuffer))<"u"&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return d(t,i,r);if("number"==typeof t)throw new _('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return a.from(e,i,r);var u=function(t){if(a.isBuffer(t)){var n=0|l(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":U(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return a.from(t[n.toPrimitive]("string"),i,r);throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":U(t)))}function h(t){if("number"!=typeof t)throw new _('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),o(t<0?0:0|l(t))}function v(t){for(var n=t.length<0?0:0|l(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function d(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new E(t):void 0===i?new E(t,n):new E(t,n,i),b.setPrototypeOf(r,a.prototype),r}function l(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,n){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new _('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":U(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(e)return r?-1:$(t).length;n=(""+n).toLowerCase(),e=!0}}function w(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,n,i);case"utf8":case"utf-8":return x(this,n,i);case"ascii":return L(this,n,i);case"latin1":case"binary":return M(this,n,i);case"base64":return D(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,n,i);default:if(r)throw new _("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function y(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=a.from(n,r)),a.isBuffer(n))return 0===n.length?-1:T(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof E.prototype.indexOf?e?E.prototype.indexOf.call(t,n,i):E.prototype.lastIndexOf.call(t,n,i):T(t,[n],i,r,e);throw new _("val must be string, number or Buffer")}function T(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function S(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u,s=n.length;for(r>s/2&&(r=s/2),u=0;u<r;++u){var o=A(n.substr(2*u,2),16);if(rt(o))return u;t[i+u]=o}return u}function I(t,n,i,r){return nt($(n,t.length-i),t,i,r)}function R(t,n,i,r){return nt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function C(t,n,i,r){return nt(tt(n),t,i,r)}function N(t,n,i,r){return nt(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function D(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function x(t,n,i){i=k.min(t.length,i);for(var r=[],e=n;e<i;){var u=t[e],s=null,o=u>239?4:u>223?3:u>191?2:1;if(e+o<=i){var a=void 0,c=void 0,h=void 0,f=void 0;switch(o){case 1:u<128&&(s=u);break;case 2:128==(192&(a=t[e+1]))&&(f=(31&u)<<6|63&a)>127&&(s=f);break;case 3:a=t[e+1],c=t[e+2],128==(192&a)&&128==(192&c)&&(f=(15&u)<<12|(63&a)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:a=t[e+1],c=t[e+2],h=t[e+3],128==(192&a)&&128==(192&c)&&128==(192&h)&&(f=(15&u)<<18|(63&a)<<12|(63&c)<<6|63&h)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),e+=o}return function(t){var n=t.length;if(n<=P)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=P));return i}(r)}t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new E(1),n={foo:function(){return 42}};return b.setPrototypeOf(n,E.prototype),b.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":U(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),b.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),b.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,n,i){return c(t,n,i)},b.setPrototypeOf(a.prototype,E.prototype),b.setPrototypeOf(a,E),a.alloc=function(t,n,i){return function(t,n,i){return h(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t.r_&&t!==a.prototype},a.compare=function(t,n){if(it(t,E)&&(t=a.from(t,t.offset,t.byteLength)),it(n,E)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(t)||!a.isBuffer(n))throw new _('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=k.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!Array.isArray(t))throw new _('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=a.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(it(u,E))e+u.length>r.length?(a.isBuffer(u)||(u=a.from(u)),u.copy(r,e)):E.prototype.set.call(r,u,e);else{if(!a.isBuffer(u))throw new _('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},a.byteLength=g,a.prototype.r_=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)m(this,n,n+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)m(this,n,n+3),m(this,n+1,n+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)m(this,n,n+7),m(this,n+1,n+6),m(this,n+2,n+5),m(this,n+3,n+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new _("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,n,i,r,e){if(it(t,E)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new _('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":U(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),o=k.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<o;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},a.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},a.prototype.indexOf=function(t,n,i){return y(this,t,n,i,!0)},a.prototype.lastIndexOf=function(t,n,i){return y(this,t,n,i,!1)},a.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new p("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return S(this,t,n,i);case"utf8":case"utf-8":return I(this,t,n,i);case"ascii":case"latin1":case"binary":return R(this,t,n,i);case"base64":return C(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,i);default:if(u)throw new _("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.o_||this,0)}};var P=4096;function L(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function M(t,n,i){var r="";i=k.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function O(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=et[t[u]];return e}function B(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function V(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function F(t,n,i,r,e,u){if(!a.isBuffer(t))throw new _('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function W(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function Z(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i+7]=u,u>>=8,t[i+6]=u,u>>=8,t[i+5]=u,u>>=8,t[i+4]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function X(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function G(t,n,i,r,u){return n=+n,i>>>=0,u||X(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function H(t,n,i,r,u){return n=+n,i>>>=0,u||X(t,0,i,8),e.write(t,n,i,r,52,8),i+8}a.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return b.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,n){return t>>>=0,n||V(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,n){return t>>>=0,n||V(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,n){return t>>>=0,n||V(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,n){return t>>>=0,n||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,n){return t>>>=0,n||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24),e=this[++t]+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+i*k.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))})),a.prototype.readBigUInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t],e=this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)})),a.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=k.pow(2,8*n)),r},a.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||V(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=k.pow(2,8*n)),u},a.prototype.readInt8=function(t,n){return t>>>=0,n||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,n){t>>>=0,n||V(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,n){t>>>=0,n||V(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,n){return t>>>=0,n||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return t>>>=0,n||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=this[t+4]+this[t+5]*k.pow(2,8)+this[t+6]*k.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*k.pow(2,8)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,24))})),a.prototype.readBigInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=(n<<24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*k.pow(2,24)+this[++t]*k.pow(2,16)+this[++t]*k.pow(2,8)+i)})),a.prototype.readFloatLE=function(t,n){return t>>>=0,n||V(t,4,this.length),e.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return t>>>=0,n||V(t,4,this.length),e.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return t>>>=0,n||V(t,8,this.length),e.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return t>>>=0,n||V(t,8,this.length),e.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||F(this,t,n,i,k.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||F(this,t,n,i,k.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,1,255,0),this[n]=255&t,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigUInt64LE=ut((function(t,n){return void 0===n&&(n=0),W(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ut((function(t,n){return void 0===n&&(n=0),Z(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);F(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=k.pow(2,8*i-1);F(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},a.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},a.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||F(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigInt64LE=ut((function(t,n){return void 0===n&&(n=0),W(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ut((function(t,n){return void 0===n&&(n=0),Z(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,n,i){return G(this,t,n,!0,i)},a.prototype.writeFloatBE=function(t,n,i){return G(this,t,n,!1,i)},a.prototype.writeDoubleLE=function(t,n,i){return H(this,t,n,!0,i)},a.prototype.writeDoubleBE=function(t,n,i){return H(this,t,n,!1,i)},a.prototype.copy=function(t,n,i,r){if(!a.isBuffer(t))throw new _("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof E.prototype.copyWithin?this.copyWithin(n,i,r):E.prototype.set.call(t,this.subarray(i,r),n),e},a.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new _("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new _("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),o=s.length;if(0===o)throw new _('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%o]}return this};var z={};function Y(t,n,i){z[t]=function(i){function r(){var r;return r=i.call(this)||this,b.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return It(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},Nt(r,[{key:"code",get:function(){return t},set:function(t){b.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function j(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function K(t,n,i,r,e,u){if(t>i||t<n){var s,o="bigint"==(void 0===n?"undefined":U(n))?"n":"";throw s=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(u+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(u+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(u+1)-1).concat(o),new z.ERR_OUT_OF_RANGE("value",s,t)}!function(t,n,i){q(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&J(n,t.length-(i+1))}(r,e,u)}function q(t,n){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(n,"number",t)}function J(t,n,i){throw k.floor(t)!==t?(q(t,i),new z.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new z.ERR_BUFFER_OUT_OF_BOUNDS:new z.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":U(n))}),_),Y("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&k.abs(i)>k.pow(2,32)?e=j(String(i)):"bigint"==(void 0===i?"undefined":U(i))&&(e=String(i),(i>k.pow(BigInt(2),BigInt(32))||i<-k.pow(BigInt(2),BigInt(32)))&&(e=j(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function $(t,n){var i;n=n||1/0;for(var r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new p("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function tt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function it(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function rt(t){return t!=t}var et=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ut(t){return("undefined"==typeof BigInt?"undefined":U(BigInt))>"u"?st:t}function st(){throw new p("BigInt not supported")}})(Nn),function(t,n){var i=Nn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=b.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new _("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new _("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return i.SlowBuffer(t)}}(Cn,Cn.exports);var Wn=65536,Zn=Cn.exports.Buffer,Xn=N.crypto||N.msCrypto;Xn&&Xn.getRandomValues?Rn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=Zn.allocUnsafe(t);if(t>0)if(t>Wn)for(var r=0;r<t;r+=Wn)Xn.getRandomValues(i.slice(r,r+Wn));else Xn.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Rn.exports=function(){throw new p("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Gn=Rn.exports,Hn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Hn.generate=function(t){var n=new Hn,i=Gn(8),r=Gn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Hn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Hn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Hn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Hn.expand(t)};var zn=Hn,Yn=_n("SEND","RECV");Yn.byValue=function(t){return Yn[t.toUpperCase()]},Yn.toString=function(t){switch(t){case Yn.SEND:return"send";case Yn.RECV:return"recv"}},Yn.reverse=function(t){switch(t){case Yn.SEND:return Yn.RECV;case Yn.RECV:return Yn.SEND}};var jn=Yn,Kn=jn,qn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Kn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(A(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();qn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new qn(t.id,Kn.byValue(t.direction)),i=0,r=b.entries(t.params||{});i<r.length;i++){var e=tn(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},qn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():qn.expand(t)};var Jn=qn,Qn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Qn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Qn(t.id,t.paused)},Qn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Qn.expand(t)};var $n=Qn,ti=$n,ni=jn,ii=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===ni.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===ni.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===ni.SEND?this.send:this.recv},t}();ii.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new ii,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map(ti.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map(ti.expand))}return n},ii.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():ii.expand(t)};var ri=ii,ei=_n("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ei.byValue=function(t){return ei[t.toUpperCase()]},ei.toString=function(t){switch(t){case ei.SENDRECV:return"sendrecv";case ei.SENDONLY:return"sendonly";case ei.RECVONLY:return"recvonly";case ei.INACTIVE:return"inactive"}},ei.reverse=function(t){switch(t){case ei.SENDRECV:return ei.SENDRECV;case ei.SENDONLY:return ei.RECVONLY;case ei.RECVONLY:return ei.SENDONLY;case ei.INACTIVE:return ei.INACTIVE}};var ui=ei,si=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();si.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new si(t.port,t.maxMessageSize)},si.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():si.expand(t)};var oi=si,ai=pn,ci=Jn,hi=ri,fi=ui,vi=jn,di=oi,li=function(){function t(t,n){this.id=t,this.type=n,this.direction=fi.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=tn(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:fi.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=tn(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(fi.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ai.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var d=new Set(n.extensions),l=0,g=this.extensions;l<g.length;l++){var w=tn(g[l],2),m=w[0],y=w[1];d.has(y)&&i.addExtension(m,y)}if(n.simulcast&&this.simulcast){var p=new hi,_=this.simulcast.getSimulcastStreams(vi.SEND);if(_)for(var b=0;b<_.length;b++){var k=_[b].map((function(t){return t.clone()}));p.addSimulcastAlternativeStreams(vi.RECV,k)}var A=this.simulcast.getSimulcastStreams(vi.RECV);if(A)for(var T=0;T<A.length;T++){var S=A[T].map((function(t){return t.clone()}));p.addSimulcastAlternativeStreams(vi.SEND,S)}for(var E=0,I=this.rids.values();E<I.length;E++){var R=I[E],C=R.clone();C.setDirection(vi.reverse(R.getDirection())),i.addRID(C)}i.setSimulcast(p)}if(e&&this.dataChannel){var N=new di(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(N)}}else i.setDirection(fi.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function gi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new p("invalid integer ".concat(n));return A(n)}li.create=function(t,n,i){!i&&"string"!=typeof n&&(i=n,n=t);var r=new li(t,n);if(i){var e=i.codecs;e&&(Array.isArray(e)?r.setCodecs(ai.MapFromNames(e,i.rtx,i.rtcpfbs)):r.setCodecs(e))}else r.setDirection(fi.INACTIVE);return r},li.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new li(t.id,t.type);if(t.direction&&n.setDirection(fi.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=di.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=b.entries(t.extensions);r<e.length;r++){var u=tn(e[r],2),s=u[0],o=u[1];n.addExtension(gi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ai.expand(h);f&&n.addCodec(f)}for(var v=0,d=t.rids||[];v<d.length;v++){var l=d[v],g=ci.expand(l);n.addRID(g)}return t.simulcast&&n.setSimulcast(hi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},li.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():li.expand(t)};var wi=li,mi=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(A(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();mi.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new mi(t.semantics,t.ssrcs)},mi.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():mi.expand(t)};var yi=mi,pi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();pi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new pi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},pi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():pi.expand(t)};var _i=pi,bi=pn,ki=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=tn(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();ki.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new ki(t.id,t.paused),i=0,r=b.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(bi.expand(e))}for(var u=0,s=b.entries(t.params||{});u<s.length;u++){var o=tn(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},ki.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():ki.expand(t)};var Ai=ki,Ti=yi,Si=Ai,Ei=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter((function(n){return n.getSSRCs()[0]===t}))},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n=0,i=this.encodings;n<i.length;n++)for(var r=i[n],e=0;e<r.length;e++){var u=r[e],s={id:u.getId(),rid:u.getId()},o=u.getParams(),a=null==o?void 0:o.get("ssrc");if(void 0!==a){s.media=A(a);for(var c=0,h=this.getSourceGroupsForMediaSSRC(s.media);c<h.length;c++){var f=h[c];switch(f.getSemantics()){case"FID":s.rtx=f.getSSRCs()[1];break;case"FEC-FR":s.fec=f.getSSRCs()[1]}}}t.push(s)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var d=0;d<v.length;d++){for(var l=v[d],g={id:String(l),media:l},w=0,m=this.getSourceGroupsForMediaSSRC(g.media);w<m.length;w++){var y=m[w];switch(y.getSemantics()){case"FID":g.rtx=y.getSSRCs()[1];break;case"FEC-FR":g.fec=y.getSSRCs()[1]}}t.push(g)}}else{var p={id:""};if(this.ssrcs.length){p.media=this.ssrcs[0];for(var _=0,b=this.getSourceGroupsForMediaSSRC(p.media);_<b.length;_++){var k=b[_];switch(k.getSemantics()){case"FID":p.rtx=k.getSSRCs()[1];break;case"FEC-FR":p.fec=k.getSSRCs()[1]}}}t.push(p)}return t},t}();Ei.expand=function(t){var n,i;if("TrackInfo"===t.constructor.name)return t;var r=new Ei(t.media,t.id);if(t.mediaId&&r.setMediaId(t.mediaId),Array.isArray(t.ssrcs))for(var e=0,u=t.ssrcs;e<u.length;e++){var s=u[e];r.addSSRC(s)}else if(void 0!==(null===(n=t.ssrcs)||void 0===n?void 0:n.media)){var o=t.ssrcs.media;if(r.addSSRC(o),void 0!==t.ssrcs.rtx){var a=t.ssrcs.rtx;r.addSSRC(a),r.addSourceGroup(new Ti("FID",[o,a]))}if(void 0!==t.ssrcs.fec){var c=t.ssrcs.fec;r.addSSRC(c),r.addSourceGroup(new Ti("FEC-FR",[o,c]))}}if(t.rid){var h=new Si(t.rid);void 0!==(null===(i=t.ssrcs)||void 0===i?void 0:i.media)&&h.addParam("ssrc",t.ssrcs.media),r.addAlternativeEncodings([h])}for(var f=0,v=t.groups||[];f<v.length;f++){var d=v[f];r.addSourceGroup(Ti.expand(d))}for(var l=0,g=t.encodings||[];l<g.length;l++){for(var w=g[l],m=[],y=0;y<w.length;y++){var p=w[y];m.push(Si.expand(p))}r.addAlternativeEncodings(m)}return r},Ei.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Ei.expand(t)};var Ii=Ei,Ri=Ii,Ci=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ci.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ci(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ri.expand(e);u&&n.addTrack(u)}return n},Ci.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ci.expand(t)};var Ni,Di,xi=Ci,Pi=jt,Li=(Ni="en-US",Di=new Intl.Collator(Ni,{sensitivity:"base"}),function(t,n){return 0==Di.compare(t,n)}),Mi=dn,Oi=pn,Bi=wn,Vi=Sn,Fi=In,Ui=zn,Wi=wi,Zi=kn,Xi=ui,Gi=jn,Hi=yi,zi=_i,Yi=xi,ji=Ii,Ki=Ai,qi=ri,Ji=$n,Qi=Jn,$i=oi,tr=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var d=0,l=this.candidates;d<l.length;d++){var g=l[d];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Li(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Li(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Li(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTracksByMediaType=function(t){for(var n=[],i=0,r=this.streams.values();i<r.length;i++)for(var e=0,u=r[i].getTracks();e<u.length;e++){var s=tn(u[e],2),o=(s[0],s[1]);Li(o.getMedia(),t)&&n.push(o)}return n},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=tn(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=tn(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ui?i.setICE(n.ice.clone()):i.setICE(Ui.expand(n.ice))),n.dtls&&(n.dtls instanceof Vi?i.setDTLS(n.dtls):i.setDTLS(Vi.expand(n.dtls))),n.crypto&&(n.crypto instanceof Fi?i.setCrypto(n.crypto):i.setCrypto(Fi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Mi?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Mi.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Xi.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Li("audio",e.getType())||Li("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=Zi.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Li("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Li("opus",f.getCodec())||Li("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,d=f.getRTCPFeedbacks();v<d.length;v++){var l=d[v];u.rtcpFb.push({payload:f.getType(),type:l.getId(),subtype:l.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var g=f.getParams();if(b.keys(g).length){var w={payload:f.getType(),config:""};for(var m in g)w.config.length&&(w.config+=";"),b.hasOwnProperty.call(g,m)?w.config+=m+"="+g[m]:w.config+=m;u.fmtp.push(w)}}for(var y=[],p=0,_=u.rtp;p<_.length;p++){var k=_[p];y.push(k.payload)}u.payloads=y.join(" ");for(var A=0,T=e.getExtensions().entries();A<T.length;A++){var S=tn(T[A],2),E=S[0],I=S[1];u.ext.push({value:E,uri:I})}for(var R=0,C=e.getRIDs().values();R<C.length;R++){var N=C[R],D={id:N.getId(),direction:Gi.toString(N.getDirection()),params:""};N.getFormats().length&&(D.params="pt="+N.getFormats().join(","));for(var x=0,P=N.getParams().entries();x<P.length;x++){var L=tn(P[x],2),M=L[0],O=L[1];D.params+=(D.params.length?";":"")+M+"="+O}u.rids.push(D)}var B=e.getSimulcast();if(B){var V=1;u.simulcast={};var F=B.getSimulcastStreams(Gi.SEND),U=B.getSimulcastStreams(Gi.RECV);if(F&&F.length){for(var W="",Z=0;Z<F.length;Z++){for(var X=F[Z],G="",H=0;H<X.length;H++){var z=X[H];G+=(G.length?",":"")+(z.isPaused()?"~":"")+z.getId()}W+=(W.length?";":"")+G}u.simulcast["dir"+V]="send",u.simulcast["list"+V]=W,V++}if(U&&U.length){for(var Y="",j=0;j<U.length;j++){for(var K=U[j],q="",J=0;J<K.length;J++){var Q=K[J];q+=(q.length?",":"")+(Q.isPaused()?"~":"")+Q.getId()}Y+=(Y.length?";":"")+q}u.simulcast["dir"+V]="recv",u.simulcast["list"+V]=Y,V++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Li(ot.type,ut.getMedia())){var dt=ut.getSourceGroups();for(var lt in dt){var gt=dt[lt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var wt=ut.getSSRCs();for(var mt in wt)ot.ssrcs.push({id:wt[mt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:wt[mt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var yt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(yt),Pi.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return Pi.write(t).slice(10)},t}();tr.create=function(t){var n,i=new tr;if(t.streams)for(var r=0,e=t.streams;r<e.length;r++){var u=e[r];i.addStream(Yi.expand(u))}t.ice&&(t.ice instanceof Ui?i.setICE(t.ice.clone()):i.setICE(Ui.expand(t.ice))),t.dtls&&(t.dtls instanceof Vi?i.setDTLS(t.dtls):i.setDTLS(Vi.expand(t.dtls))),t.crypto&&(t.crypto instanceof Fi?i.setCrypto(t.crypto):i.setCrypto(Fi.expand(t.crypto)));for(var s=0,o=t.candidates||[];s<o.length;s++){var a=o[s];a instanceof Mi?i.addCandidate(a.clone()):i.addCandidate(Mi.expand(a))}for(var c=96,h=1,f=0,v=0,d=b.entries(t.capabilities||{});v<d.length;v++){var l=tn(d[v],2),g=l[0],w=l[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var m=0,y=i.getTracksByMediaType(g);m<y.length;m++){for(var p=y[m],_=Wi.create(p.getMediaId(),g,w),k=0,A=_.getCodecs();k<A.length;k++){var T=tn(A[k],2),S=(T[0],T[1]);S.getType()>=96&&S.setType(c++),S.getRTX()&&S.setRTX(c++)}if(w.extensions)for(var E=0,I=w.extensions;E<I.length;E++){var R=I[E];15===h&&h++,_.addExtension(h++,R)}i.addMedia(_)}else{for(var C=Wi.create(t.unified?String(f++):g,g,w),N=0,D=C.getCodecs();N<D.length;N++){var x=tn(D[N],2),P=(x[0],x[1]);P.getType()>=96&&P.setType(c++),P.getRTX()&&P.setRTX(c++)}if(w.extensions)for(var L=0,M=w.extensions;L<M.length;L++){var O=M[L];15===h&&h++,C.addExtension(h++,O)}i.addMedia(C)}}return i},tr.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new tr(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Wi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=Yi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],d=Mi.expand(v);d&&n.addCandidate(d)}return t.ice&&n.setICE(Ui.expand(t.ice)),t.dtls&&n.setDTLS(Vi.expand(t.dtls)),t.crypto&&n.setCrypto(Fi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},tr.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():tr.expand(t)},tr.process=function(t){return tr.parse(t)},tr.parse=function(t){var n=Pi.parse(t),i=new tr;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ui(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Wi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),d=new Ui(f,v);d.setLite("ice-lite"==n.icelite),d.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(d)}for(var l=0;o.candidates&&l<o.candidates.length;++l){var g=o.candidates[l],w=new Mi(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(w)}var m=o.fingerprint||n.fingerprint;if(m){var y=m.type,p=m.hash,_=Zi.ACTPASS;o.setup&&(_=Zi.byValue(o.setup)),i.setDTLS(new Vi(_,y,p))}if(o.crypto){var b=o.crypto[0];i.setCrypto(new Fi(b.id,b.suite,b.config,b.sessionConfig))}var k=Xi.SENDRECV;o.direction&&(k=Xi.byValue(o.direction),h.setDirection(k)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var T=new Map;for(var S in o.rtp){var E=o.rtp[S],I=E.payload,R=E.codec;if("RED"!==R.toUpperCase()&&"ULPFEC"!==R.toUpperCase()){var C={};for(var N in o.fmtp){var D=o.fmtp[N];if(D.payload===I){var x=D.config.split(";");for(var P in x){var L=x[P].split("="),M=L[0].trim(),O=L.splice(1).join("=").trim();C[M]=O}}}if("RTX"===R.toUpperCase())T.set(A(C.apt),I);else{var B=new Oi(R,I,C);E.encoding>1&&B.setChannels(E.encoding),h.addCodec(B)}}}for(var V=0,F=T.entries();V<F.length;V++){var U=F[V],W=h.getCodecForType(U[0]);W&&W.setRTX(U[1])}for(var Z=0;o.rtcpFb&&Z<o.rtcpFb.length;++Z){var X=h.getCodecForType(o.rtcpFb[Z].payload);if(X){var G=o.rtcpFb[Z].type,H=o.rtcpFb[Z].subtype?o.rtcpFb[Z].subtype.split(" "):null;X.addRTCPFeedback(new Bi(G,H))}}var z=o.ext;for(var Y in z){var j=z[Y];h.addExtension(j.value,j.uri)}var K=o.rids;for(var q in K){var J=K[q],Q=new Qi(J.id,Gi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=Pi.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);Q.setFormats($),Q.setParams(tt)}h.addRID(Q)}var rt=[];if(o.simulcast){var et=new qi;if(o.simulcast.dir1)for(var ut=Gi.byValue(o.simulcast.dir1),st=Pi.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Ji(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Gi.byValue(o.simulcast.dir2),ft=Pi.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var dt=[],lt=0;lt<ft[vt].length;++lt)dt.push(new Ji(ft[vt][lt].scid,ft[vt][lt].paused));et.addSimulcastAlternativeStreams(ht,dt)}for(var gt=0,wt=et.getSimulcastStreams(Gi.SEND);gt<wt.length;gt++){for(var mt=wt[gt],yt=[],pt=0;pt<mt.length;pt++){var _t=new Ki(mt[pt].getId(),mt[pt].isPaused()),bt=h.getRID(_t.getId());if(bt){for(var kt=bt.getFormats(),At=0;kt&&At<kt.length;++At){var Tt=h.getCodecForType(kt[At]);Tt&&_t.addCodec(Tt)}_t.setParams(bt.getParams()),yt.push(_t)}}yt.length&&rt.push(yt)}h.setSimulcast(et)}var St=new Map;if(o.ssrcs)for(var Et in o.ssrcs){var It=o.ssrcs[Et],Rt=It.id,Ct=It.attribute,Nt=It.value,Dt=St.get(Rt);if(Dt||(Dt=new zi(Rt),St.set(Dt.getSSRC(),Dt)),Li("cname",Ct))Dt.setCName(Nt);else if(Li("msid",Ct)){var xt=Nt.split(" "),Pt=xt[0],Lt=xt[1];Dt.setStreamId(Pt),Dt.setTrackId(Lt);var Mt=i.getStream(Pt);Mt||(Mt=new Yi(Pt),i.addStream(Mt));var Ot=Mt.getTrack(Lt);Ot||((Ot=new ji(a,Lt)).setMediaId(c),Ot.setEncodings(rt),Mt.addTrack(Ot)),Ot.addSSRC(Rt)}}if(o.msid){var Bt=o.msid.split(" "),Vt=Bt[0],Ft=Bt[1],Ut=i.getStream(Vt);Ut||(Ut=new Yi(Vt),i.addStream(Ut));var Wt=Ut.getTrack(Ft);Wt||((Wt=new ji(a,Ft)).setMediaId(c),Wt.setEncodings(rt),Ut.addTrack(Wt));for(var Zt=0,Xt=St.entries();Zt<Xt.length;Zt++){var Gt=tn(Xt[Zt],2),Ht=Gt[0],zt=Gt[1];zt.getStreamId()||(zt.setStreamId(Vt),zt.setTrackId(Ft),Wt.addSSRC(Ht))}}for(var Yt=0,jt=St.entries();Yt<jt.length;Yt++){var Kt=tn(jt[Yt],2),qt=Kt[0],Jt=Kt[1];if(!Jt.getStreamId()){var Qt=Jt.getCName(),$t=c;Jt.setStreamId(Qt),Jt.setTrackId($t);var nn=i.getStream(Qt);nn||(nn=new Yi(Qt),i.addStream(nn));var rn=nn.getTrack($t);rn||((rn=new ji(a,$t)).setMediaId(c),rn.setEncodings(rt),nn.addTrack(rn)),rn.addSSRC(qt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Hi(un.semantics,sn),an=St.get(A(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new $i(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var nr=tr;b.defineProperty(Yt,"__esModule",{value:!0});var ir=Yt.SDPInfo=nr;Yt.CandidateInfo=dn,Yt.CodecInfo=pn,Yt.DTLSInfo=Sn,Yt.CryptoInfo=In,Yt.ICEInfo=zn;var rr=Yt.MediaInfo=wi;Yt.Setup=kn,Yt.SourceGroupInfo=yi,Yt.SourceInfo=_i,Yt.StreamInfo=xi,Yt.TrackInfo=Ii,Yt.RTCPFeedbackInfo=wn,Yt.TrackEncodingInfo=Ai,Yt.RIDInfo=Jn,Yt.SimulcastInfo=ri,Yt.SimulcastStreamInfo=$n,Yt.DataChannelInfo=oi;var er=Yt.Direction=ui,ur={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",d="version",l="architecture",g="console",w="mobile",m="tablet",y="smarttv",p="wearable",_="embedded",b="Amazon",k="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",N="LG",D="Microsoft",x="Motorola",P="Opera",L="Samsung",M="Sharp",O="Sony",B="Xiaomi",V="Zebra",F="Facebook",W="Chromium OS",Z="Mac OS",X=" Browser",G=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},H=function(t,n){return(void 0===t?"undefined":U(t))===o&&-1!==z(n).indexOf(z(t))},z=function(t){return t.toLowerCase()},Y=function(t,n){if((void 0===t?"undefined":U(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":U(n))===u?t:t.substring(0,500)},j=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],d=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<d.length;o++)h=c[++u],(void 0===(a=d[o])?"undefined":U(a))===s&&a.length>0?2===a.length?U(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?U(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},K=function(t,n){for(var i in n)if(U(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(H(n[i][e],t))return"?"===i?r:i}else if(H(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,d],[/opios[\/ ]+([\w\.]+)/i],[d,[h,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[d,[h,P+" GX"]],[/\bopr\/([\w\.]+)/i],[d,[h,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,d],[/quark(?:pc)?\/([-\w\.]+)/i],[d,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[d,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[h,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[h,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],d],[/\bfocus\/([\w\.]+)/i],[d,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[h,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[h,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[h,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[d,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+X]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],d],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+X],d],[/samsungbrowser\/([\w\.]+)/i],[d,[h,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,d],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[h,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,E+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[d,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],d],[/(wolvic)\/([\w\.]+)/i],[h,d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[d,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,z]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows (ce|mobile); ppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[l,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,L],[f,m]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,L],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,m]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,M],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,C],[f,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,C],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,B],[f,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,w]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,x],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,x],[f,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,N],[f,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,N],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,w]],[/(pixel c)\b/i],[c,[v,R],[f,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,R],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,O],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,O],[f,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,b],[f,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,b],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,T],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,A],[f,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,A],[f,w]],[/(nexus 9)/i],[c,[v,"HTC"],[f,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,m]],[/(itel) ((\w+))/i],[[v,z],c,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,m]],[/(surface duo)/i],[c,[v,D],[f,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,w]],[/(u304aa)/i],[c,[v,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,m]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,m]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,m]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,m]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,m]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,m]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,m]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,w]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,m]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,m]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,m]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,m]],[/(sprint) (\w+)/i],[v,c,[f,w]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,D],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,V],[f,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,V],[f,w]],[/smart-tv.+(samsung)/i],[v,[f,y]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,L],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,N],[f,y]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,y]],[/crkey/i],[[c,E+"cast"],[v,R],[f,y]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,b],[f,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,M],[f,y]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,O],[f,y]],[/(mitv-\w{5}) bui/i],[c,[v,B],[f,y]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Y],[c,Y],[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,O],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,D],[f,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,L],[f,p]],[/((pebble))app/i],[v,c,[f,p]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,p]],[/droid.+; (glass) \d/i],[c,[v,R],[f,p]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,V],[f,p]],[/(quest( \d| pro)?)/i],[c,[v,F],[f,p]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,_]],[/(aeobc)\b/i],[c,[v,b],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[d,K,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,K,q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Z],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,d],[/\(bb(10);/i],[d,[h,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[h,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,W],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,d],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,d]]},Q=function(t,n){if((void 0===t?"undefined":U(t))===s&&(n=t,t=r),!(this instanceof Q))return new Q(t,n).getResult();var g=(void 0===i?"undefined":U(i))!==u&&i.navigator?i.navigator:r,y=t||(g&&g.userAgent?g.userAgent:""),p=g&&g.userAgentData?g.userAgentData:r,_=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(J,n):J,b=g&&g.userAgent==y;return this.getBrowser=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.browser),t[a]=function(t){return(void 0===t?"undefined":U(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[d]),b&&g&&g.brave&&U(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[l]=r,j.call(t,y,_.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,j.call(t,y,_.device),b&&!t[f]&&p&&p.mobile&&(t[f]=w),b&&"Macintosh"==t[c]&&g&&U(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=m),t},this.getEngine=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.engine),t},this.getOS=function(){var t={};return t[h]=r,t[d]=r,j.call(t,y,_.os),b&&!t[h]&&p&&p.platform&&"Unknown"!=p.platform&&(t[h]=p.platform.replace(/chrome os/i,W).replace(/macos/i,Z)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(t){return y=(void 0===t?"undefined":U(t))===o&&t.length>500?Y(t,500):t,this},this.setUA(y),this};Q.VERSION="0.7.39",Q.BROWSER=G([h,d,a]),Q.CPU=G([l]),Q.DEVICE=G([c,v,f,g,w,y,m,p,_]),Q.ENGINE=Q.OS=G([h,d]),t.exports&&(n=t.exports=Q),n.UAParser=Q;var $=(void 0===i?"undefined":U(i))!==u&&(i.jQuery||i.Zepto);if($&&!$.ua){var tt=new Q;$.ua=tt.getResult(),$.ua.get=function(){return tt.getUA()},$.ua.set=function(t){tt.setUA(t);var n=tt.getResult();for(var i in n)$.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":U(f))?f:N)}(ur,ur.exports);var sr=D(ur.exports),or=["iOS"],ar=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}It(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(or.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(sr),cr=gt.get("SdpParser"),hr=Array.from({length:31},(function(t,n){return n+35})),fr=Array.from({length:32},(function(t,n){return n+96})),vr=Array.from({length:14},(function(t,n){return n+1})),dr=Array.from({length:240},(function(t,n){return n+16})),lr={setSimulcast:function(t,n){if(cr.info("Setting simulcast. Codec: ",n),!(new ar).isChromium())return cr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return cr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return cr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",cr.info("Simulcast setted"),cr.debug("Simulcast SDP: ",t),t}catch(t){throw cr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return cr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),cr.info("Replaced SDP response for support stereo"),cr.debug("New SDP value: ",t),t},setDTX:function(t){return cr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),cr.info("Replaced SDP response for support dtx"),cr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting absolute capture time"),cr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+lr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting depency descriptor"),cr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)cr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=ir.parse(t),r=i.getMedia("video");cr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return cr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),cr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ar).isFirefox()&&(!n||gr(n)))if(t.includes("multiopus/48000/6"))cr.info("Multiopus already setted");else{cr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=lr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),cr.info("Multiopus offer created"),cr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return A(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=fr.concat(hr),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return A(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=vr.concat(dr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=ir.parse(t),r=ir.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new rr(s.getId(),s.getType())).setDirection(er.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=tn(h[c],2),v=f[0],d=f[1];o.addExtension(v,d)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=ir.parse(t),e=null==(i=ir.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},gr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},wr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},mr={OPUS:"opus",MULTIOPUS:"multiopus"},yr=gt.get("PeerConnection"),pr="Publisher",_r="Viewer",br={track:"track",connectionStateChange:"connectionStateChange"},kr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Ar=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}It(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=_r);var i=this;return Pt((function(){return Ot(this,(function(r){return yr.info("Creating new RTCPeerConnection"),yr.debug("RTC configuration provided by user: ",t),i.peer=Er(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return yr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return yr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(br.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:yr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),yr.info("RTC Remote SDP was set successfully."),yr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),yr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=kr);var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return yr.info("Getting RTC Local SDP"),t=w(w({},kr),t),yr.debug("Options: ",t),(i=Sr(t.mediaStream))?Nr(n.peer,i,t):Dr(n.peer,t),yr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),yr.info("Peer offer created"),yr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=lr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=lr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=lr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=lr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=lr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=lr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),yr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){return[2,new et((function(r,e){try{var u=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(u,r)}catch(t){e(t)}}))]}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===_r)throw yr.error("Viewer attempting to update bitrate, this is not allowed"),new p("It is not possible for a viewer to update the bitrate.");return yr.info("Updating bandwidth restriction, bitrate value: ",n),yr.debug("SDP value: ",t),lr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(n.mode===_r)throw yr.error("Viewer attempting to update bitrate, this is not allowed"),new p("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw yr.error("Cannot update bitrate. No peer found."),new p("Cannot update bitrate. No peer found.");return yr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),yr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(yr.info("Getting RTC peer status"),!this.peer)return null;var t=xr(this.peer);return yr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):yr.error("There is no ".concat(t.kind," track in active broadcast."))}else yr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?yr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new zt(this.peer,t),Wt(this.peerConnectionStats,this,[Ht])):yr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ar,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(b.values(wr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(b.values(mr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=R(w({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=Kt(h).concat(Kt(o.scalabilityModes)),r[c].scalabilityModes=Kt(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=b.keys(r).map((function(t){return w({codec:t},r[t])}))}return i},n}(Mt),Tr=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},Sr=function(t){if(!t)return null;if(t instanceof MediaStream&&Tr(t))return t;if(!(t instanceof MediaStream)){yr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(Tr(n))return n}throw yr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new p("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Er=function(t,n){var i=new RTCPeerConnection(n);return Cr(t,i),i};function Ir(t){return Rr.apply(this,arguments)}function Rr(){return Rr=Pt((function(t){return Ot(this,(function(n){return[2,new et((function(n){return g(n,t)}))]}))})),Rr.apply(this,arguments)}var Cr=function(t,n){n.ontrack=Pt((function(n){var i;return Ot(this,(function(r){switch(r.label){case 0:if(yr.info("New track from peer."),yr.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,Ir(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return g((function(){t.emit(br.track,n)}),0),[2]}}))})),n.connectionState?n.onconnectionstatechange=function(i){yr.info("Peer connection state change: ",n.connectionState),t.emit(br.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){yr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(br.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=Pt((function(t){var i,r;return Ot(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(yr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),yr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=lr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=lr.renegotiate(i.sdp,n.remoteDescription.sdp),yr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),yr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Nr=function(t,n,i){yr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ar).isChrome()?(yr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&yr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),yr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},Dr=function(t,n){var i=new ar;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},xr=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},Pr={};b.defineProperty(Pr,"__esModule",{value:!0}),Pr.TypedEmitter=Lt.EventEmitter;var Lr=Pr.TypedEmitter,Mr=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}It(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Lr),Or=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.h_({type:"response",transId:r,data:t})},reject:function(t){i.h_({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}It(n,t);var i=n.prototype;return i.h_=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new et((function(e,u){if(!t||0===t.length)throw new p("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,R(w({},s),{resolve:e,reject:u}));try{r.h_(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new p("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.h_(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Mr(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Lr),Br=D(Or),Vr=gt.get("Signaling"),Fr="wsConnectionSuccess",Ur="wsConnectionError",Wr="wsConnectionClose",Zr="broadcastEvent",Xr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}It(n,t);var i=n.prototype;return i.connect=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return[2,(Vr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(Vr.info("Connected to server: ",t.webSocket.url),Vr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Fr,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new et((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Br(t.webSocket),t.webSocket.onopen=function(){Vr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(Zr,n)})),Vr.info("Connected to server: ",t.webSocket.url),Vr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Fr,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){Vr.error("WebSocket not connected: ",t.webSocket.url),t.emit(Ur,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,Vr.info("Connection closed with Signaling Server."),t.emit(Wr)}})))]}))}))()},i.close=function(){var t;Vr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:Vr.info("Starting subscription to streamName: ",e.streamName),Vr.debug("Subcription local description: ",t),c=Gr(n,i,r),t=lr.adaptCodecName(t,"AV1X",wr.AV1),h=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:h},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),g.label=1;case 1:if(g.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new p("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return g.sent(),Vr.info("Sending view command"),[4,e.transactionManager.cmd("view",f)];case 3:return v=g.sent(),d=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(v.sdp=d?lr.adaptCodecName(v.sdp,wr.AV1,"AV1X"):v.sdp,Vr.info("Command sent, subscriberId: ",v.subscriberId),Vr.debug("Command result: ",v),e.serverId=v.subscriberId,e.clusterId=v.clusterId,e.streamViewId=v.streamViewId,j(e.streamName),K(e.serverId),q(v.streamViewId),nt(e.clusterId),v.sdp)];case 4:throw l=g.sent(),Vr.error("Error sending view command, error: ",l),l;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,m,y,_;return Ot(this,(function(k){switch(k.label){case 0:if(d=Hr(n,i,r),Vr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(d.codec)),Vr.debug("Publishing local description: ",t),l=null!=(a=null==(o=null==(s=null==(u=Ar.getCapabilities)?void 0:u.call(Ar,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(g=b.values(wr)).indexOf(d.codec))throw Vr.error("Invalid codec ".concat(d.codec,". Possible values are: "),g),new p("Invalid codec ".concat(d.codec,". Possible values are: ").concat(g));if(l.length>0&&-1===l.indexOf(d.codec))throw Vr.error("Unsupported codec ".concat(d.codec,". Possible values are: "),l),new p("Unsupported codec ".concat(d.codec,". Possible values are: ").concat(l));if(d.codec===wr.AV1&&(t=lr.adaptCodecName(t,"AV1X",wr.AV1)),w={name:e.streamName,sdp:t,codec:d.codec,sourceId:d.sourceId},d.priority){if(!(Number.isInteger(d.priority)&&d.priority>=-2147483648&&d.priority<=2147483647))throw new p("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");w.priority=d.priority}null!==d.record&&(w.record=d.record),Array.isArray(d.events)&&(w.events=d.events),k.label=1;case 1:if(k.trys.push([1,4,,5]),d.disableVideo&&d.disableAudio)throw new p("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return k.sent(),Vr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",w)];case 3:return m=k.sent(),d.codec===wr.AV1&&(y=null==(v=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:v.call(f,(function(t){return"video/AV1X"===t.mimeType})),m.sdp=y?lr.adaptCodecName(m.sdp,wr.AV1,"AV1X"):m.sdp),[2,(Vr.info("Command sent, publisherId: ",m.publisherId),Vr.debug("Command result: ",m),e.serverId=m.publisherId,e.clusterId=m.clusterId,j(e.streamName),K(e.serverId),J(m.feedId),nt(e.clusterId),m.sdp)];case 4:throw _=k.sent(),Vr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){return[2,(Vr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Mt),Gr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Hr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={codec:null!=t?t:wr.H264,record:n,sourceId:i}),r},zr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return It(n,t),n}(gn(p)),Yr=gt.get("Director"),jr="WebRtc",Kr="",qr="https://director.millicast.com",Jr={setEndpoint:function(t){qr=t.replace(/\/$/,"")},getEndpoint:function(){return qr},setLiveDomain:function(t){Kr=t.replace(/\/$/,"")},getLiveDomain:function(){return Kr},getPublisher:Pt((function(t,n,i){var r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=jr),r=Qr(t,n,i),Yr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Jr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new zr(a.data.message,o.status);return[2,(a=te(a),Yr.debug("Getting publisher response: ",a),Y(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),Yr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:Pt((function(t,n,i){var r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=$r(t,n,i),Y(r.streamAccountId),Yr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=R(w({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Jr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new zr(a.data.message,o.status);return[2,(a=te(a),Yr.debug("Getting subscriber response: ",a),r.subscriberToken&&(a.data.subscriberToken=r.subscriberToken),a.data)];case 4:throw c=h.sent(),Yr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Qr=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},$r=function(t,n,i){var r="object"==(void 0===t?"undefined":U(t))?t:{};return 0===b.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},te=function(t){if(Jr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Jr.getLiveDomain())}));t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(Jr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(Jr.getEndpoint()).concat(e));var u=t.data.drmObject.fairPlayUrl;u&&(t.data.drmObject.fairPlayUrl="".concat(Jr.getEndpoint()).concat(u));var s=t.data.drmObject.fairPlayCertUrl;s&&(t.data.drmObject.fairPlayCertUrl="".concat(Jr.getEndpoint()).concat(s))}return t};function ne(t){this.message=t}ne.prototype=new p,ne.prototype.name="InvalidCharacterError";var ie=(void 0===f?"undefined":U(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ne("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function re(t){this.message=t}function ee(t,n){if("string"!=typeof t)throw new re("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(ie(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return ie(n)}}(t.split(".")[i]))}catch(t){throw new re("Invalid token specified: "+t.message)}}re.prototype=new p,re.prototype.name="InvalidTokenError";var ue={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":U(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new p,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ue,ue.exports);var se=ue.exports,oe={exports:{}};!function(t,e){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),v=i(9708),d=i(6914),l=i(2294),g=i(6133),w=i(1152),m=i(8863),y=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.y_={},this.a_()}var n=t.prototype;return n.a_=function(){this.u_=new l.Ids,this.c_=null,this.l_=new g.Manager,this.d_=null,this.f_=null,this.__=null,this.v_={},this.g_=[],this.m_=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof v.describe,"Manifest functionality disabled"),v.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.p_(n,"f_")},n.alter=function(t){r(t&&"object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Invalid targets argument"),r(!this.w_(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.d_,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.y_.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.b_("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof p||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.A_("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==(void 0===t?"undefined":U(t))&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.A_("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.b_("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.p_(n,"__")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.A_("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.A_("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.c_=a.preferences(n.c_,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.c_=a.preferences(n.c_,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.A_("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,Kt(n));return r.$_setFlag("only",!!r.f_,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.w_(),"Cannot set caching inside a ruleset"),r(!this.d_,"Cannot override schema cache"),r(void 0===this.v_.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.d_=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=b.create(b.getPrototypeOf(this));return this.S_(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.m_.has(r)&&(i.g_=i.g_.filter((function(t){return t.keep||t.name!==r})),i.m_.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.w_(),"Cannot concatenate onto a schema with open ruleset"),r(!t.w_(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=b.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.u_.concat(t.u_),i.l_.register(t,g.toSibling),i.c_=i.c_?a.preferences(i.c_,t.c_):t.c_,i.f_=y.merge(i.f_,t.f_,t.__),i.__=y.merge(i.__,t.__,t.f_);for(var h=0,f=t.m_.keys();h<f.length;h++)n(h,f);for(var v=0,d=t.g_;v<d.length;v++){var l=d[v];t.y_.rules[l.method].multi||i.m_.set(l.name,l),i.g_.push(l)}if(i.v_.empty&&t.v_.empty){i.v_.empty=i.v_.empty.concat(t.v_.empty);var w=b.assign({},t.v_);delete w.empty,s(i.v_,w)}else if(t.v_.empty){i.v_.empty=t.v_.empty;var m=b.assign({},t.v_);delete m.empty,s(i.v_,m)}else s(i.v_,t.v_);for(var p in t.$_terms){var _=t.$_terms[p];_?i.$_terms[p]?i.$_terms[p]=i.$_terms[p].concat(_):i.$_terms[p]=_.slice():i.$_terms[p]||(i.$_terms[p]=_)}return this.$_root.T_&&this.$_root.T_.k_(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.u_.reach(t)},n.fork=function(t,n){r(!this.w_(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.u_.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.y_;a.assertOptions(t,b.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.g_.length-1:this.$_temp.ruleset;r(i>=0&&i<this.g_.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.g_.length;++s){var o=u.g_[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.g_[s]=c,u.m_.get(c.name)===o&&u.m_.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.w_(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return w.location?w.location(this):this},n.validate=function(t,n){return m.entry(t,this,n)},n.validateAsync=function(t,n){return m.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=b.assign({},t);i.Gd=[],i.method=i.method||i.name;var e=this.y_.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===b.keys(u).length||b.keys(u).length===this.y_.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.Gd.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.E_(i.name,{clone:!1}),s.m_.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.g_.unshift(i):s.g_.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.v_:{},o=u.messages?d.merge(this.y_.messages,u.messages):this.y_.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.v_[t]},n.$_getRule=function(t){return this.m_.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.u_.labels(t)},n.$_match=function(t,n,i,r){(i=b.assign({},i)).abortEarly=!0,i.x_=!1,n.snapshot();var e=!m.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),l.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.w_(),"Cannot add this rule inside a ruleset"),this.l_.reset(),this.u_.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.y_[r][e]&&t.y_[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.y_.rebuild&&this.y_.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.l_.register(t,r),this.u_.register(t,{key:e})},n.$_property=function(t){return this.y_.properties[t]},n.$_reach=function(t){return this.u_.reach(t)},n.$_rootReferences=function(){return this.l_.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.w_(),"Cannot set flag inside a ruleset");var e=this.y_.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.v_[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.v_[t]=n,s.$_mutateRegister(n)):delete s.v_[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(Kt(i)))},n.$_validate=function(t,n,i){return m.validate(t,this,n,i)},n.S_=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=b.assign({},this.$_temp),t.$_temp.whens={},t.u_=this.u_.clone(),t.c_=this.c_,t.f_=this.f_&&this.f_.clone(),t.__=this.__&&this.__.clone(),t.g_=this.g_.slice(),t.m_=e(this.m_,{shallow:!0}),t.l_=this.l_.clone(),t.v_=b.assign({},this.v_),t.d_=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.I_[i].bind(t);return t},n.R_=function(){var t=this.clone();t.a_();var n=t.y_.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.b_=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(un(e={},a.symbols.literal,!0),un(e,"literal",n),n=e),this.$_setFlag(t,n)},n.C_=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,d=f.then,l=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(d){var w=n.localize(Kt(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),m=d.C_(t,w,i),y=m.schema,p=m.id;r.push(y),e.push("".concat(g,".then").concat(p?"(".concat(p,")"):""));break}}else if(l){var _=n.localize(Kt(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),b=l.C_(t,_,i),k=b.schema,A=b.id;r.push(k),e.push("".concat(g,".otherwise").concat(A?"(".concat(A,")"):""));break}}if(s.break&&e.length>c)break}}var T=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",T),!T)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[T])return{schema:this.$_temp.whens[T],id:T};var S=this;this.y_.generate&&(S=this.y_.generate(this,t,n,i));for(var E=0;E<r.length;E++){var I=r[E];S=S.concat(I)}return this.$_root.T_&&this.$_root.T_.k_(S,[this].concat(Kt(r))),this.$_temp.whens[T]=S,{schema:S,id:T}},n.A_=function(t,n,i){var e;void 0===i&&(i={}),r(!this.w_(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,Kt(n)),u.$_temp.ruleset=!1,u},n.w_=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.E_=function(t,n){if(void 0===n&&(n={}),!this.m_.has(t))return this;var i=!1!==n.clone?this.clone():this;i.m_.delete(t);for(var r=[],e=0;e<i.g_.length;++e){var u=i.g_[e];u.name!==t||u.keep?r.push(u):i.w_()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.g_=r,i},n.p_=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new y:e&&(i[n]=t.length?new y:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="__"===n?"f_":"__";i[o]&&(i[o].remove(s),i[o].length||(r("f_"===n||!i.v_.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.l_)}return i},Nt(t,[{key:"ruleset",get:function(){r(!this.w_(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.g_.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.M_=t.max||s.max,this.P_=new Map,this.D_=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":U(t))){var i=this.P_.get(t);if(i)return i.value=n,void this.D_.first(i);i=this.D_.unshift({key:t,value:n}),this.P_.set(t,i),this.N_()}},n.get=function(t){var n=this.P_.get(t);if(n)return this.D_.first(n),e(n.value)},n.N_=function(){if(this.P_.size>this.M_){var t=this.D_.pop();this.P_.delete(t.key)}},Nt(t,[{key:"length",get:function(){return this.P_.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.L_(t),this.unshift(t))},n.pop=function(){return this.L_(this.tail)},n.L_=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,r,e){var u,s,o=e(375),a=e(7916),c=e(5934),h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.version=c.version,r.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},r.symbols={any:i("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},r.assertOptions=function(t,n,i){void 0===i&&(i="Options"),o(t&&"object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Options must be of type object");var r=b.keys(t).filter((function(t){return!n.includes(t)}));o(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},r.checkPreferences=function(t){var n=(s=s||e(3378)).preferences.validate(t);if(n.error)throw new a([n.error.details[0].message])},r.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},r.default=function(t,n){return void 0===t?n:t},r.isIsoDate=function(t){return h.isoDate.test(t)},r.isNumber=function(t){return"number"==typeof t&&!S(t)},r.isResolvable=function(t){return!!t&&(t[r.symbols.ref]||t[r.symbols.template])},r.isSchema=function(t,n){void 0===n&&(n={});var i=t&&t[r.symbols.any];return!!i&&(o(n.legacy||i.version===r.version,"Cannot mix different versions of joi schemas"),!0)},r.isValues=function(t){return t[r.symbols.values]},r.limit=function(t){return Number.isSafeInteger(t)&&t>=0},r.preferences=function(t,n){u=u||e(6914),t=t||{},n=n||{};var i=b.assign({},t,n);return n.errors&&t.errors&&(i.errors=b.assign({},t.errors,n.errors),i.errors.wrap=b.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=u.compile(n.messages,t.messages)),delete i[r.symbols.prefs],i},r.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},r.validateArg=function(t,n,i){var e=i.assert,u=i.message;if(r.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},r.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];o(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(Kt(e))):(o=n).valid.apply(o,Kt(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==(void 0===n?"undefined":U(n)),"Invalid schema content:",void 0===n?"undefined":U(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,Kt(n))}return a.apply(void 0,[t].concat(Kt(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(b.getPrototypeOf(n)===b.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=(void 0===i?"undefined":U(i))||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=(void 0===t?"undefined":U(t)))return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(b.getPrototypeOf(t)===b.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":U(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==(void 0===i?"undefined":U(i)),"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],d=f===o.switch.length-1;e.assertOptions(v,d?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var l={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(l.is=l.is.required()),d){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),l.otherwise=t.$_compile(g))}h.switch.push(l)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=(void 0===a?"undefined":U(a))&&(this.local.key=a)}}var i=t.prototype;return i.B_=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.O_(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.O_(this.template)||this.O_(this.prefs.messages)||this.O_(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.O_=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=(void 0===r?"undefined":U(r))&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(!r.errors.label)return"";if(t.label)return t.label;var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=p.stackTraceLimit;p.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return p.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof p){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=(void 0===t?"undefined":U(t))})),type:u.code,context:u.local})}}return i.length>1&&(i=Kt(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).F_=r,e.details=i,e}return It(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(gn(p)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==(void 0===n?"undefined":U(n)),"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!m[t],"Rule conflict in",v.type,t),m[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(un({},t,n))};h[t]=i,p[t]=n},c=b.getPrototypeOf(t),h=e(c),f=t.S_(b.create(h)),v=b.assign({},n);delete v.base,h.y_=v;var d=c.y_||{};v.messages=s.merge(d.messages,v.messages),v.properties=b.assign({},d.properties,v.properties),f.type=v.type,v.flags=b.assign({},d.flags,v.flags);var l=b.assign({},d.terms);if(v.terms)for(var g in v.terms){var w=v.terms[g];r(void 0===f.$_terms[g],"Invalid term override for",v.type,g),f.$_terms[g]=w.init,l[g]=w}v.terms=l,v.args||(v.args=d.args),v.prepare=o.prepare(v.prepare,d.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,d.coerce),v.validate=o.validate(v.validate,d.validate);var m=b.assign({},d.rules);if(v.rules)for(var y in v.rules)i(y);v.rules=m;var p=b.assign({},d.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=p,v.overrides){for(var k in h.I_=c,f.$_super={},v.overrides)r(c[k],"Cannot override missing",k),v.overrides[k][u.symbols.parent]=c[k],f.$_super[k]=c[k].bind(f);b.assign(h,v.overrides)}v.cast=b.assign({},d.cast,v.cast);var A=b.assign({},d.manifest,v.manifest);return A.build=o.build(v.manifest&&v.manifest.build,d.manifest&&d.manifest.build),v.manifest=A,v.rebuild=o.rebuild(v.rebuild,d.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?Kt(new Set(Kt(t.from).concat(Kt(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":U(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":U(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),v=i(8901),d=i(9708),l=i(6133),g=i(3328),w=i(1152),m={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,Kt(n))}},i={V_:new Set(b.keys(m.types))},r=0,e=i.V_;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in b.assign(i,m.methods),m.aliases){var c=m.aliases[a];i[a]=i[c]}return i.x=i.expression,w.setup&&w.setup(i),i}};m.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];m.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return m.assert(t,n,!1,r)},build:function(t){return s("function"==typeof d.build,"Manifest functionality disabled"),d.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=b.assign({},this),r=0,e=i.V_;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return hn(g,Kt(n))},extend:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.verifyFlat(n,"extend"),u=u||i(3378),s(n.length,"You need to provide at least one extension"),this.assert(n,u.extensions);var e=b.assign({},this);e.V_=new Set(e.V_);for(var o=0;o<n.length;o++){var a,h=function(t){var n=d[t];s(void 0===e[n.type]||e.V_.has(n.type),"Cannot override name",n.type);var i=n.base||a.any(),r=v.type(i,n);e.V_.add(n.type),e[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return m.generate(this,r,n)}},f=n[o];"function"==typeof f&&(f=f(e)),this.assert(f,u.extension);for(var d=m.expandExtension(f,e),l=0;l<d.length;l++)a=this,h(l)}return e},isError:f.ValidationError.isError,isExpression:g.isTemplate,isRef:l.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=l).in.apply(r,Kt(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=l).create.apply(e,Kt(n))},types:function(){for(var t={},n=0,i=this.V_;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in m.aliases)t[e]=this[e]();return t}},m.assert=function(t,n,i,r){var e=r[0]instanceof p||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof p)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},m.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.y_.args&&i.length?(r=n.y_).args.apply(r,[n].concat(Kt(i))):n},m.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.V_;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=b.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=m.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){var i=function(i){var e=t[i];if("root"===i||u.isTemplate(e))return n[i]=e,"continue";if("string"==typeof e)return n[i]=new u(e),"continue";r("object"==(void 0===e?"undefined":U(e))&&!Array.isArray(e),"Invalid message for",i);var s=i;for(i in n[s]=n[s]||{},e){var o=e[i];"root"===i||u.isTemplate(o)?n[s][i]=o:(r("string"==typeof o,"Invalid message for",i,"in",s),n[s][i]=new u(o))}};if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var s in r("object"==(void 0===t?"undefined":U(t))&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t)i(s);return n},n.decompile=function(t){var n=function(n){var r=t[n];if("root"===n)return i.root=r,"continue";if(u.isTemplate(r))return i[n]=r.describe({compact:!0}),"continue";var e=n;for(n in i[e]={},r){var s=r[n];"root"!==n?i[e][n]=s.describe({compact:!0}):i[e].root=s}},i={};for(var r in t)n(r);return i},n.merge=function(t,i){var s=function(t){var n=i[t];if("root"===t||u.isTemplate(n))return o[t]=n,"continue";if("string"==typeof n)return o[t]=new u(n),"continue";r("object"==(void 0===n?"undefined":U(n))&&!Array.isArray(n),"Invalid message for",t);var e=t;for(t in o[e]=o[e]||{},n){var s=n[t];"root"===t||u.isTemplate(s)?o[e][t]=s:(r("string"==typeof s,"Invalid message for",t,"in",e),o[e][t]=new u(s))}};if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var o=e(t);for(var a in i)s(a);return o}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.W_=new Map,this.U_=new Map,this.G_=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.W_=new Map(this.W_),t.U_=new Map(this.U_),t.G_=this.G_,t},n.concat=function(t){t.G_&&(this.G_=!0);for(var n=0,i=t.W_.entries();n<i.length;n++){var e=tn(i[n],2),u=e[0],s=e[1];r(!this.U_.has(u),"Schema id conflicts with existing key:",u),this.W_.set(u,s)}for(var o=0,a=t.U_.entries();o<a.length;o++){var c=tn(a[o],2),h=c[0],f=c[1];r(!this.W_.has(h),"Schema key conflicts with existing id:",h),this.U_.set(h,f)}},n.fork=function(t,n,i){var u=this.Z_(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.H_(i);if(!r)return Kt(n).concat(Kt(t)).join(".");var e=t.slice(1);return n=Kt(n).concat([r.schema.v_.label||i]),e.length?r.schema.u_.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.H_(i);r(e,"Schema does not contain path",Kt(n).concat(Kt(t)).join("."));var u=t.slice(1);return u.length?e.schema.u_.reach(u,Kt(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.u_.G_)&&(this.G_=!0);var u=t.v_.id;if(u){var s=this.W_.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.U_.has(u),"Schema id conflicts with existing key:",u),this.W_.set(u,{schema:t,id:u})}i&&(r(!this.U_.has(i),"Schema already contains key:",i),r(!this.W_.has(i),"Schema key conflicts with existing id:",i),this.U_.set(i,{schema:t,id:i}))}},n.reset=function(){this.W_=new Map,this.U_=new Map,this.G_=!1},n.Z_=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.H_(e);r(u,"Schema does not contain path",Kt(n).concat(Kt(t)).join(".")),i=[u].concat(Kt(i));var s=t.slice(1);return s.length?u.schema.u_.Z_(s,Kt(n).concat([e]),i):i},n.H_=function(t){return this.W_.get(t)||this.U_.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.v_.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.v_)if("_"!==r[0]){var e=s.scan(t.v_[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).v_[r]=e)}for(var u=0;u<t.g_.length;++u){var o=t.g_[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=b.assign({},o);c.args=a,i.g_[u]=c,i.m_.get(o.name)===o&&i.m_.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==(void 0===t?"undefined":U(t))){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(Kt(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var d=i.each(t,R(w({},n),{path:a,key:o}));return d===t?void 0:d}for(var l in t)if("_"!==l[0]){var g=s.scan(t[l],n,i,[l].concat(Kt(a)),o);void 0!==g&&((c=c||b.assign({},t))[l]=g)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==U(n.prefix),"options.prefix must be of type object");var i=b.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=tn(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,R(w({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==(void 0===t?"undefined":U(t)),"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),b.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.Gd(i.context,n,e):"local"===this.type?this.Gd(r,n,e):this.ancestor?"root"===this.ancestor?this.Gd(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.Gd(n.ancestors[this.ancestor-1],n,e)):this.Gd(t,n,e)},n.Gd=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return Kt(t.path.slice(0,-this.ancestor)).concat(Kt(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=Kt(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=b.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.l_.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},Nt(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(Kt(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(Kt(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.X_=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.X_),this.X_=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.X_),this.X_=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.p_=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.p_=this.p_||new Map;for(var r=this.p_,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.p_)return u(this.p_,t,{iterables:!0})},n.override=function(t,n){if(this.p_){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.p_,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.O_=null,n){var i=n,r=i.functions,s=C(i,["functions"]);this.Y_=b.keys(s).length?u(s):void 0,this.K_=r,this.K_&&(e(b.keys(this.K_).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(b.values(this.K_).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.Y_=void 0,this.K_=void 0;this.z_()}var n=t.prototype;return n.z_=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var d=this.q_(f.decode(h),{raw:o,wrapped:v});r.push(d),"string"!=typeof d&&(i=!0);var l=s.slice(c+a.length);l&&r.push(f.decode(l))}else r.push("{".concat(f.decode(s)))}i?this.O_=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.Y_&&t.compact)return this.source;var n={template:this.source};return this.Y_&&(n.options=this.Y_),this.K_&&(n.functions=this.K_),n},n.isDynamic=function(){return!!this.O_},n.refs=function(){var t;if(this.O_){for(var n=[],i=0,r=this.O_;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,Kt(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.O_&&1===this.O_.length?this.j_(this.O_[0],t,n,i,r,{}):this.render(t,n,i,r)},n.j_=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,Kt(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.O_;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.j_(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var d=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(d,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.q_=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.Y_);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,Kt(t));return void 0!==r?r:null}};try{var a=this.K_?w(w({},f.functions),this.K_):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?R(w({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":U(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,w({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,d=t.entries();v<d.length;v++){var l=tn(d[v],2),g=l[0],m=l[1];c.push("".concat(g.toString()," -> ").concat(m.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var y=[],p=0;p<t.length;p++){var _=t[p];y.push(f.stringify(_,n,i,r,e,w({arrayItems:!0},u)))}return f.wrap(y.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==(void 0===t?"undefined":U(t))?Array.isArray(t)?t.length:b.keys(t).length:null},msg:function(t){var n=tn(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?T(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,Kt(i[0])):(e=t).try.apply(e,Kt(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.v_.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],d=e.nest(f.schema,"match.".concat(c));d.snapshot();var l=f.schema.$_validate(t,d,u);l.errors?(a.push(l.errors),d.restore()):(o.push(l.value),d.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.v_.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var w=[],m=0;m<i.$_terms.matches.length;++m){var y=i.$_terms.matches[m];if(y.schema){var p=e.nest(y.schema,"match.".concat(m));p.snapshot();var _=y.schema.$_validate(t,p,u);if(!_.errors)return p.commit(),_;p.restore(),w.push({schema:y.schema,reports:_.errors})}else for(var b=y.ref?y.ref.resolve(t,e,u):t,k=y.is?[y]:y.switch,A=0;A<k.length;++A){var T=k[A],S=T.is,E=T.then,I=T.otherwise,R="match.".concat(m).concat(y.switch?"."+A:"");if(S.$_match(b,e.nest(S,"".concat(R,".is")),u)){if(E)return E.$_validate(t,e.nest(E,"".concat(R,".then")),u)}else if(I)return I.$_validate(t,e.nest(I,"".concat(R,".otherwise")),u)}}return v.errors(w,n)},rules:{conditional:{method:function(t,n){u(!this.v_.Q_,"Unreachable condition"),u(!this.v_.match,"Cannot combine match mode",this.v_.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("Q_",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.v_.Q_,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.v_.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("J_",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var d=tn(f.code.split("."),2),l=d[0];"base"!==d[1]?u.push({type:c.type,report:f}):"object.base"===f.code?e.add(f.local.type):e.add(l)}else for(var g=0,w=f.local.valids;g<w.length;g++){var m=w[g];e.add(m)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:Kt(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,Kt(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.v_.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,d=c.then,l=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:d,otherwise:l,switch:c.switch,break:c.break}):t.when(f,{then:d,otherwise:l,break:c.break})}else{for(var w={},m=0;m<r.length;m++){var y=r[m],p=y.target,_=y.adjuster;w[p]=_}t=t.alter(w)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},rv:{init:[]},ov:{init:[]},hv:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.v_.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(Kt(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(Kt(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.v_.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.hv.slice(),a=i.$_terms.ordered.slice(),h=Kt(i.$_terms.ov).concat(Kt(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var d=s(),l=t.length,g=0;g<l;++g){var w=t[g],m=!1,y=!1,p=v?g:new Number(g),_=Kt(e.path).concat([p]);if(i.v_.sparse||void 0!==w){for(var b=[t].concat(Kt(e.ancestors)),k=0,A=i.$_terms.rv;k<A.length;k++){var T=A[k];if(T.$_match(w,e.localize(_,b,T),u,{presence:"ignore"})){if(d.push(r("array.excludes",{pos:g,value:w},e.localize(_))),u.abortEarly)return d;m=!0,a.shift();break}}if(!m){if(i.$_terms.ordered.length){if(a.length){var S,E=a.shift(),I=E.$_validate(w,e.localize(_,b,E),u);if(I.errors){if((S=d).push.apply(S,Kt(I.errors)),u.abortEarly)return d}else if("strip"===E.v_.result)f.fastSplice(t,g),--g,--l;else{if(!i.v_.sparse&&void 0===I.value){if(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return d;continue}t[g]=I.value}continue}if(!i.$_terms.items.length){if(d.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return d;break}}for(var R=[],C=o.length,N=0;N<C;++N){var D=e.localize(_,b,o[N]);D.snapshot();var x=o[N].$_validate(w,D,u);if(R[N]=x,!x.errors){if(D.commit(),t[g]=x.value,y=!0,f.fastSplice(o,N),--N,--C,!i.v_.sparse&&void 0===x.value&&(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly))return d;break}D.restore()}if(!y){var P=u.stripUnknown&&!!u.stripUnknown.arrays||!1;C=h.length;for(var L=0;L<h.length;L++){var M=h[L],O=void 0,B=o.indexOf(M);if(-1!==B)O=R[B];else{var V=e.localize(_,b,M);if(V.snapshot(),!(O=M.$_validate(w,V,u)).errors){V.commit(),"strip"===M.v_.result?(f.fastSplice(t,g),--g,--l):i.v_.sparse||void 0!==O.value?t[g]=O.value:(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),m=!0),y=!0;break}V.restore()}if(1===C){var F;if(P){f.fastSplice(t,g),--g,--l,y=!0;break}if((F=d).push.apply(F,Kt(O.errors)),u.abortEarly)return d;m=!0;break}}if(!m&&(i.$_terms.ov.length||i.$_terms.hv.length)&&!y){if(P){f.fastSplice(t,g),--g,--l;continue}if(d.push(r("array.includes",{pos:g,value:w},e.localize(_))),u.abortEarly)return d}}}}else{if(d.push(r("array.sparse",{key:p,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return d;a.shift()}}return o.length&&f.fillMissedErrors(i,d,o,t,e,u),a.length&&(f.fillOrderedErrors(i,d,a,t,e,u),d.length||f.fillDefault(a,t,e,u)),d.length?d:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.v_.J_,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.v_.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,d={string:b.create(null),number:b.create(null),undefined:b.create(null),boolean:b.create(null),bigint:b.create(null),object:new Map,function:new Map,custom:new Map},l=f||s,g=h.ignoreUndefined,w=0;w<t.length;++w){var m=v?o(t[w],v):t[w],y=f?d.custom:d[void 0===m?"undefined":U(m)];if(u(y,"Failed to find unique map container for type",void 0===m?"undefined":U(m)),y instanceof Map){for(var p=y.entries(),_=void 0;!(_=p.next()).done;)if(l(_.value[0],m)){var k=e.localize(Kt(e.path).concat([w]),[t].concat(Kt(e.ancestors))),A={pos:w,value:t[w],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(A.path=c),a("array.unique",A,k)}y.set(m,w)}else{if((!g||void 0!==m)&&void 0!==y[m]){var T={pos:w,value:t[w],dupePos:y[m],dupeValue:t[y[m]]};return v&&(T.path=c),a("array.unique",T,e.localize(Kt(e.path).concat([w]),[t].concat(Kt(e.ancestors))))}y[m]=w}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.ov=[],t.$_terms.rv=[],t.$_terms.hv=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.v_.presence?t.$_terms.hv.push(r):"forbidden"===r.v_.presence?t.$_terms.rv.push(r):t.$_terms.ov.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,Kt(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,Kt(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].v_.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.v_.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(Kt(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,Kt(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.v_.J_)&&(u(!n.v_.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("J_",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":U(a);if(v!==(void 0===c?"undefined":U(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.v_.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.v_.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.v_.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,Kt(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,Kt(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.v_.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||S(t.getTime())){var u=i.v_.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(S(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=T(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return S(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),d={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"uv",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":U(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=d.clone(t,u);var s=[];if(i.$_terms.renames&&!d.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(b.keys(t));if(i.$_terms.keys)for(var a=[t].concat(Kt(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,l=t[v];o.delete(v);var g=e.localize(Kt(e.path).concat([v]),a,f),w=f.schema.$_validate(l,g,u);if(w.errors){var m;if(u.abortEarly)return{value:t,errors:w.errors};void 0!==w.value&&(t[v]=w.value),(m=s).push.apply(m,Kt(w.errors))}else"strip"===f.schema.v_.result||void 0===w.value&&void 0!==l?delete t[v]:void 0!==w.value&&(t[v]=w.value)}if(o.size||i.v_.fv){var y=d.unknown(i,t,o,s,e,u);if(y)return y}if(i.$_terms.dependencies)for(var p=0,_=i.$_terms.dependencies;p<_.length;p++){var k=_[p];if(null===k.key||!1!==d.isPresent(k.options)(k.key.resolve(t,e,u,null,{shadow:!1}))){var A=d.dependencies[k.rel](i,k,t,e,u);if(A){var T=i.$_createError(A.code,t,A.context,e,u);if(u.abortEarly)return{value:t,errors:T};s.push(T)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),d.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===b.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(Kt(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==(void 0===t?"undefined":U(t)),"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(b.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new d.Keys,t)r(u)}else i.$_terms.keys=new d.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(b.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),d.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),d.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return d.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(un(u={},r?"regex":"schema",t),un(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("fv",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(d.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),d.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),d.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=hn(d.Keys,Kt(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=d.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],l=v.regex,g=v.schema,w=v.rule,m=v.fallthrough,y=v.matches;t=t.pattern(l||g,w,{fallthrough:m,matches:y})}if(n.renames)for(var p=0,_=n.renames;p<_.length;p++){var b=_[p],k=b.from,A=b.to,T=b.options;t=t.rename(k,A,T)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),d.clone=function(t,n){if("object"==(void 0===t?"undefined":U(t))){if(n.nonEnumerables)return u(t,{shallow:!0});var i=b.create(b.getPrototypeOf(t));return b.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),b.defineProperty(r,"name",{value:t.name,writable:!1}),b.defineProperty(r,"length",{value:t.length,writable:!1}),b.assign(r,t),r},d.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==U(r[r.length-1])?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new d.Dependency(n,i,o,r,u)),v},d.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=d.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:d.keysToLabels(t,s),missing:u,missingWithLabels:d.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:d.keysToLabels(t,h),peers:f,peersWithLabels:d.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=d.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:d.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:d.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=d.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:d.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=d.keysToLabels(t,u),{code:"object.xor",context:h})}}},d.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},d.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},d.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var d=a.from.exec(f);d&&c.push({from:f,to:a.to,match:d})}}else!b.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var l=0;l<c.length;l++){var g=c[l],w=g.from,m=g.to;if(m instanceof v&&(m=m.render(n,i,r,g.match)),w!==m){if(!a.options.multiple&&u[m]&&(e.push(t.$_createError("object.rename.multiple",n,{from:w,to:m,pattern:h},i,r)),r.abortEarly)||b.prototype.hasOwnProperty.call(n,m)&&!a.options.override&&!u[m]&&(e.push(t.$_createError("object.rename.override",n,{from:w,to:m,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[w]?delete n[m]:n[m]=n[w],u[m]=!0,a.options.alias||delete n[w]}}}return!0},d.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(Kt(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],d=n[v],l=Kt(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var w=t.$_terms.patterns[g];if(w.regex){var m=w.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),m?"pass":"error"),!m)continue}else if(!w.schema.$_match(v,e.nest(w.schema,"pattern.".concat(g)),u))continue;i.delete(v);var y=e.localize(l,c,{schema:w.rule,key:v}),p=w.rule.$_validate(d,y,u);if(p.errors){var _;if(u.abortEarly)return{value:n,errors:p.errors};(_=r).push.apply(_,Kt(p.errors))}if(w.matches&&o[g].push(v),n[v]=p.value,!w.fallthrough)break}if(s)for(var b=0;b<o.length;++b){var k=o[b];if(k){var A=t.$_terms.patterns[b].matches,T=e.localize(e.path,c,A),S=A.$_validate(k,T,u);if(S.errors){var E=h.details(S.errors,{override:!1});E.matches=k;var I=t.$_createError("object.pattern.match",n,E,e,u);if(u.abortEarly)return{value:n,errors:I};r.push(I)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&void 0===t.v_.unknown||u.skipFunctions)for(var R=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),C=0;C<i.length;C++){var N=i[C];R?(delete n[N],i.delete(N)):"function"==typeof n[N]&&i.delete(N)}if(!a.default(t.v_.unknown,u.allowUnknown))for(var D=0;D<i.length;D++){var x=i[D],P=e.localize(Kt(e.path).concat([x]),[]),L=t.$_createError("object.unknown",n[x],{child:x},P,u,{flags:!1});if(u.abortEarly)return{value:n,errors:L};r.push(L)}}},d.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=R(w({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=R(w({},t.options),{isPresent:this.options.isPresent})),t},t}(),d.Keys=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(gn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.C_(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.v_.relative||i.mainstay.links.set(t,e),e.C_(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.v_.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.v_.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.v_,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:k.max(0,-A(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:T(t)};if(0===e.value&&(e.value=0),!i.v_.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=k.pow(10,o.args.limit);s.value=k.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.v_.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return k.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=k.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):k.round(o*t)%k.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return k.max((e[1]?e[1].length:0)-(e[2]?A(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==(void 0===t?"undefined":U(t))},to:function(t,n){return new Map(b.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var d=i.$_getRule("hex");if(d&&d.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var l=v.isoDate(t);l&&(t=l)}if(i.v_.truncate){var g=i.$_getRule("max");if(g){var w=g.args.limit;if(f.isResolvable(w)&&(w=w.resolve(t,r,e),!f.limit(w)))return{value:t,errors:i.$_createError("any.ref",w,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,w)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=w({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=w({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+b.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=w({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),b.assign({},t,v.tlds);r("object"==U(t.tlds),"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=b.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),b.assign({},t,v.tlds)):(Array.isArray(i)&&(t=b.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return S(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,n,i){var e=i(375),u=i(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(gn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.v_.only&&"symbol"!=(void 0===t?"undefined":U(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":U(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var n;t&&!t[r]&&"object"==(void 0===t?"undefined":U(t))&&(t=b.entries(t)),e(t&&t[r],"Iterable must be an iterable or object");for(var i=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[r],"Entry must be an iterable");var a=tn(o,2),c=a[0],h=a[1];e("object"!=(void 0===c?"undefined":U(c))&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":U(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":U(h)),"Value must be a Symbol"),i.$_terms.map.set(c,h),u.push(h)}return(n=i).valid.apply(n,Kt(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=Pt((function(t,n,i){var r,e,u,s,h,v,d,l,g;return Ot(this,(function(w){switch(w.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,d,l,g,w,m,y,p,_,b,k,A,T,S,E,I;return Ot(this,(function(R){switch(R.label){case 0:if(s=e[n],d=s.state.path,l="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,w=void 0,m=h,y=d.length?[h]:[],p=d.length?o(t,d):t,d.length){for(g=d[d.length-1],_=h,b=0,k=d.slice(0,-1);b<k.length;b++)A=k[b],_=_[A],y.unshift(_);w=y[0],m=w[g]}R.label=1;case 1:return R.trys.push([1,3,,4]),T=function(t,n){return(l||s.schema).$_createError(t,m,n,s.state,r)},[4,s.method(m,{schema:s.schema,linked:l,state:s.state,prefs:i,original:p,error:T,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((l||s.schema).$_createError(t,m,n,s.state,r))},message:function(t,n){return(l||s.schema).$_createError("external",m,n,s.state,r,{messages:t})}})];case 2:return void 0===(S=R.sent())||S===m?[2,"continue"]:S instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(S),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(S)&&S[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(E=v).push.apply(E,Kt(S)),r.abortEarly?[2,"break"]:[2,"continue"]):(w?(u.tracer.value(s.state,"rule",m,S,"external"),w[g]=S):(u.tracer.value(s.state,"rule",h,S,"external"),h=S),[3,4]);case 3:throw I=R.sent(),r.errors.label&&(I.message+=" (".concat(s.label,")")),I;case 4:return[2]}}))},h=e.value,v=[],d=0,l=u.externals,w.label=1;case 1:return d<l.length?[5,Bt(s(d,l))]:[3,4];case 2:if("break"===w.sent())return[3,4];w.label=3;case 3:return d++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;w.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this._v=[]}var n=t.prototype;return n.snapshot=function(){this._v.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this._v.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this._v.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.u_.G_?new Map:null,v=new f.Mainstay(u,o,a),d=n.u_.G_?[{schema:n}]:null,l=new h([],[],{mainstay:v,schemas:d}),g=i.validate(t,n,l,r);s&&n.$_root.untrace();var w=c.process(g.errors,t,r);return{value:g.value,error:w,mainstay:v}},f.tracer=function(t,n){return t.$_root.T_?{tracer:t.$_root.T_.vv(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().vv(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.C_(t,i,r).schema),n.c_&&(r=f.prefs(n,r)),n.d_&&r.cache){var u=n.d_.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.y_;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":U(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var d=n.v_.empty;d&&d.$_match(f.trim(t,n),i.nest(d),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var l=e.presence||n.v_.presence||(n.v_.Q_?null:r.presence);if(void 0===t){if("forbidden"===l)return f.finalize(t,null,o);if("required"===l)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===l){if(n.v_.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===l)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.f_){var w=n.f_.get(t,i,r,n.v_.insensitive);if(w)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,w.value),t=w.value),i.mainstay.tracer.filter(n,i,"valid",w),f.finalize(t,null,o);if(n.v_.only){var m=n.$_createError("any.only",t,{valids:n.f_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[m],o);g.push(m)}}if(n.__){var y=n.__.get(t,i,r,n.v_.insensitive);if(y){i.mainstay.tracer.filter(n,i,"invalid",y);var p=n.$_createError("any.invalid",t,{invalids:n.__.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[p],o);g.push(p)}}if(c.validate){var _=c.validate(t,o);if(_&&(i.mainstay.tracer.value(i,"base",t,_.value),t=_.value,_.errors)){var b;if(!Array.isArray(_.errors))return g.push(_.errors),f.finalize(t,g,o);if(_.errors.length)return(b=g).push.apply(b,Kt(_.errors)),f.finalize(t,g,o)}}return n.g_.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.g_;s<o.length;s++){var c=o[s],h=r.y_.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,d=c.args;if(c.Gd.length){d=b.assign({},d);for(var l=0,g=c.Gd;l<g.length;l++){var w=g[l],m=h.argsByName.get(w),y=d[w].resolve(t,e,u),p=m.normalize?m.normalize(y):y,_=a.validateArg(p,null,m);if(_){v=r.$_createError("any.ref",y,{arg:w,ref:d[w],reason:_},e,u);break}d[w]=p}}v=v||h.validate(t,i,d,c);var k=f.rule(v,c);if(k.errors){var A;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var T;(T=e.mainstay.warnings).push.apply(T,Kt(k.errors));continue}if(u.abortEarly)return f.finalize(t,k.errors,i);(A=n).push.apply(A,Kt(k.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,k.value,c.name),t=k.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.B_(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.v_.error)if("function"==typeof r.v_.error){n=r.v_.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof p||h instanceof c.Report,"error() must return an Error object")}}else n=[r.v_.error];if(void 0===t){var v=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,v),t=v}if(r.v_.cast&&void 0!==t){var d=r.y_.cast[r.v_.cast];if(d.from(t)){var l=d.to(t,i);u.mainstay.tracer.value(u,"cast",t,l,r.v_.cast),t=l}}if(r.$_terms.externals&&s.externals&&!1!==s.x_)for(var g=0,w=r.$_terms.externals;g<w.length;g++){var m=w[g].method;u.mainstay.externals.push({method:m,schema:r,state:u,label:c.label(r.v_,u,s)})}var y={value:t,errors:n.length?n:null};return r.v_.result&&(y.value="strip"===r.v_.result?void 0:i.original,u.mainstay.tracer.value(u,r.v_.result,t,y.value),u.shadow(t,r.v_.result)),r.d_&&!1!==s.cache&&!r.l_.length&&r.d_.set(i.original,y),void 0===t||y.errors||void 0===r.v_.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.v_.artifact)||u.mainstay.artifacts.set(r.v_.artifact,[]),u.mainstay.artifacts.get(r.v_.artifact).push(u.path)),y},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.c_[a.symbols.prefs]?t.c_[a.symbols.prefs]:(n=a.preferences(n,t.c_),i&&(t.c_[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.v_[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,Kt(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=(void 0===c?"undefined":U(c))?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.p_=new Set(t),this.l_=new Set(n),this.mv=s.lowercases(t),this.pv=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.l_.has(t)||(this.l_.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.p_.add(t),"string"==typeof t&&this.mv.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.l_.delete(t):(this.p_.delete(t),"string"==typeof t&&this.mv.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.p_.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.mv.get(t.toLowerCase());if(u)return{value:u}}if(!this.l_.size&&"object"!=(void 0===t?"undefined":U(t)))return!1;if("object"==(void 0===t?"undefined":U(t)))for(var s=0,o=this.p_;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.l_;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var d=f.in&&"object"==(void 0===v?"undefined":U(v))?Array.isArray(v)?v:b.keys(v):[v],l=0;l<d.length;l++){var g=d[l];if((void 0===g?"undefined":U(g))==(void 0===t?"undefined":U(t)))if(r&&t&&"string"==typeof t){if(g.toLowerCase()===t.toLowerCase())return{value:g,ref:f}}else if(e(g,t))return{value:g,ref:f}}}return!1},n.override=function(){this.pv=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=Kt(this.p_).concat(Kt(this.l_));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(Kt(this.p_).concat(Kt(this.l_)))},n.clone=function(){var t=new s.Values(this.p_,this.l_);return t.pv=this.pv,t},n.concat=function(t){r(!t.pv,"Cannot concat override set of values");var n=new s.Values(Kt(this.p_).concat(Kt(t.p_)),Kt(this.l_).concat(Kt(t.l_)));return n.pv=this.pv,n},n.describe=function(){var t=[];this.pv&&t.push({override:!0});for(var n=0,i=this.p_.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==(void 0===r?"undefined":U(r))?{value:r}:r)}for(var e=0,u=this.l_.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.pv)return n.clone();for(var r=0,e=Kt(n.p_).concat(Kt(n.l_));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=Kt(i.p_).concat(Kt(i.l_));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},Nt(t,[{key:"length",get:function(){return this.p_.size+this.l_.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==(void 0===n?"undefined":U(n)),"Invalid source value: must be true, falsy or an object"),r("object"==(void 0===i?"undefined":U(i)),"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var d=s(t,v);d&&"object"==(void 0===d?"undefined":U(d))?c.set(d,h&&s(n,v)||d):h&&h.add(v)}var l=e(t,{},c);if(!h)return l;for(var g=0;g<h.length;g++){var w=h[g];o.reachCopy(l,n,w)}var m=void 0!==i.nullOverride&&i.nullOverride;return u(l,n,{nullOverride:m,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=(void 0===u?"undefined":U(u))||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=U(o[c])&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof p?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=(void 0===t?"undefined":U(t))||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var d=0;d<t.length;d++){var l=tn(t[d],2),g=l[0],w=l[1];h.set(g,r(w,n,o))}for(var m=u.keys(t,n),y=0;y<m.length;y++){var p=m[y];if("__proto__"!==p)if(c!==e.array||"length"!==p){var _=b.getOwnPropertyDescriptor(t,p);_?_.get||_.set?b.defineProperty(h,p,_):_.enumerable?h[p]=r(t[p],n,o):b.defineProperty(h,p,{enumerable:!1,writable:!0,configurable:!0,value:r(t[p],n,o)}):b.defineProperty(h,p,{enumerable:!0,writable:!0,configurable:!0,value:r(t[p],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=b.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=(void 0===a?"undefined":U(a))&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=b.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&b.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&b.setPrototypeOf(o,r),o}return b.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=b.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":U(t);if(s!==(void 0===n?"undefined":U(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return b.getPrototypeOf(t)!==b.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return b.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=b.keys,f=b.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var d=0;d<n.length;d++)for(var l=n[d],g=0;g<i.length;g++)if(o(l,i[g],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var w=new Set(Set.prototype.values.call(i)),m=0,y=Set.prototype.values.call(n);m<y.length;m++){var p=y[m];if(!w.delete(p)){for(var _=!1,k=0;k<w.length;k++){var A=w[k];if(o(p,A,u,s)){w.delete(A),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var T=0,S=Map.prototype.entries.call(n);T<S.length;T++){var E=tn(S[T],2),I=E[0],R=E[1];if(void 0===R&&!Map.prototype.has.call(i,I)||!o(R,Map.prototype.get.call(i,I),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var C=a(n),N=a(i);if((n!==C||i!==N)&&!o(C,N,u,s))return!1;var D=h(n);if(!u.part&&D.length!==h(i).length&&!u.skip)return!1;for(var x=0,P=0;P<D.length;P++){var L=D[P];if(u.skip&&u.skip.includes(L))void 0===i[L]&&++x;else if(!c(i,L)||!o(n[L],i[L],u,s))return!1}if(!u.part&&D.length-x!==h(i).length)return!1;if(!1!==u.symbols){for(var M=f(n),O=new Set(f(i)),B=0;B<M.length;B++){var V=M[B];if(!u.skip||!u.skip.includes(V))if(c(n,V)){if(!c(i,V)||!o(n[V],i[V],u,s))return!1}else if(c(i,V))return!1;O.delete(V)}for(var F=0;F<O.length;F++)if(c(i,O[F]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof p?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof p.captureStackTrace&&p.captureStackTrace(e,n.assert),e}return It(i,t),i}(gn(p))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==(void 0===t?"undefined":U(t)),"Invalid target value: must be an object"),r(null==n||"object"==(void 0===n?"undefined":U(n)),"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=b.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&b.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==(void 0===f?"undefined":U(f))){if(t[h]===f)continue;!t[h]||"object"!=U(t[h])||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==(void 0===o?"undefined":U(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?Kt(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,Kt(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:p.prototype,generic:b.prototype,map:Map.prototype,promise:et.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof p)return n.error;var r=b.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):b.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.tc=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.tc.length,sort:s,before:i,after:e,group:u,node:a};this.tc.push(c)}if(!n.manual){var h=this.yv();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.tc;u<s.length;u++){var o=s[u];this.tc.push(b.assign({},o))}}this.tc.sort(e.mergeSort);for(var a=0;a<this.tc.length;++a)this.tc[a].seq=a;var c=this.yv();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.yv();return r(t,"sort created a dependencies error"),this.nodes},n.yv=function(){for(var t,n={},i=b.create(null),r=b.create(null),e=0,u=this.tc;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var d=[];for(var l in n[v]){var g,w=n[v][l];r[w]=r[w]||[],(g=d).push.apply(g,Kt(r[w]))}n[v]=d}for(var m in i)if(r[m])for(var y=0,p=r[m];y<p.length;y++)(t=n[p[y]]).push.apply(t,Kt(i[m]));var _={};for(var k in n)for(var A=n[k],T=0;T<A.length;T++){var S=A[T];_[S]=_[S]||[],_[S].push(k)}for(var E={},I=[],R=0;R<this.tc.length;++R){var C=R;if(_[R]){C=null;for(var N=0;N<this.tc.length;++N)if(!0!==E[N]){_[N]||(_[N]=[]);for(var D=_[N].length,x=0,P=0;P<D;++P)E[_[N][P]]&&++x;if(x===D){C=N;break}}}null!==C&&(E[C]=!0,I.push(C))}if(I.length!==this.tc.length)return!1;for(var L={},M=0,O=this.tc;M<O.length;M++){var B=O[M];L[B.seq]=B}this.tc=[],this.nodes=[];for(var V=0;V<I.length;V++){var F=L[I[V]];this.nodes.push(F.node),this.tc.push(F)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new p("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new p("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=tn(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,d="(?:"+c+")?::(?:"+c+":){4}"+h,l="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,w="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,m="(?:(?:"+c+":){0,4}"+c+")?::"+h,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,p="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+d+"|"+l+"|"+g+"|"+w+"|"+m+"|"+y+"|"+p+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var _="["+r+u+e+":]*",b="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+b+")",A="(?:"+_+"@)?"+k+"(?::\\d*)?",T="(?:"+_+"@)?("+k+")(?::\\d*)?",S=o+"*",E=o+"+",I="(?:\\/"+S+")*",R="\\/(?:"+E+I+")?",C=E+I,N="["+r+u+e+"@]+"+I,D="(?:\\/\\/\\/"+S+I+")";return t.hierPart="(?:(?:\\/\\/"+A+I+")|"+R+"|"+C+"|"+D+")",t.hierPartCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+C+")",t.relativeRef="(?:(?:\\/\\/"+A+I+")|"+R+"|"+N+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+N+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",d=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(d+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":U(e)))throw new p("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":U(e)," value type"))}var u;this.settings=n[r.settings]?n:b.assign((un(u={},r.settings,!0),un(u,"constants",{}),un(u,"functions",{}),u),n),this.single=null,this.Av=null,this.z_(t)}var n=t.prototype;return n.z_=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new p("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.bv(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:T(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new p("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,v=0;v<e.length;v++){var d=e[v];if("operator"===d.type){if(r.operatorsPrefix.includes(d.value))continue;if(!f)throw new p("Formula contains an operator in invalid position");if(!r.operators.includes(d.value))throw new p("Formula contains an unknown operator ".concat(d.value))}else if(f)throw new p("Formula missing expected operator");f=!f}if(!f)throw new p("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.Av=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new p("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.bv=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new p("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new p("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var v=t[f];c?(o+=v,v===c&&(c=!1)):v in r.literals&&!a?(o+=v,c=r.literals[v]):","!==v||a?(o+=v,"("===v?++a:")"===v&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(Kt(i)))}},n.evaluate=function(t){for(var n=this.Av.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return k.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.3"}')}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var u=e[i]={exports:{}};return t[i](u,u.exports,n),u.exports}(5107);var t,e}()}(oe);var ae,ce=D(oe.exports),he=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ae=r,!i)throw ae.error("Token generator is required to construct this module."),new p("Token generator is required to construct this module.");return u.webRTCPeer=new Ar,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,u}It(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ae.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Ar},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ae.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Ur,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new p("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(br.connectionStateChange,(function(n){tt(n),"connected"===n&&Q(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new p("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,g((function(){return t.reconnect({error:new p("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ae.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:fe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new p("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=fe(n.reconnectionInterval),ae.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),g((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Mt),fe=function(t){return t<32e3?2*t:t},ve=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,de="RTCRtpScriptTransform"in f,le="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBGPXR5cGVvZiBnbG9iYWxUaGlzPCJ1Ij9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPCJ1Ij9nbG9iYWw6dHlwZW9mIHNlbGY8InUiP3NlbGY6e307ZnVuY3Rpb24gVyhuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBCPXtleHBvcnRzOnt9fTsvKiEKICoganMtbG9nZ2VyIC0gaHR0cDovL2dpdGh1Yi5jb20vam9ubnlyZWV2ZXMvanMtbG9nZ2VyCiAqIEpvbm55IFJlZXZlcywgaHR0cDovL2pvbm55cmVldmVzLmNvLnVrLwogKiBqcy1sb2dnZXIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqLyhmdW5jdGlvbihuKXsoZnVuY3Rpb24odCl7dmFyIGU9e307ZS5WRVJTSU9OPSIxLjYuMSI7dmFyIHMscj17fSxvPWZ1bmN0aW9uKGksdSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkoaSxhcmd1bWVudHMpfX0sYT1mdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cyx1PWlbMF0saCxjO2ZvcihjPTE7YzxpLmxlbmd0aDtjKyspZm9yKGggaW4gaVtjXSkhKGggaW4gdSkmJmlbY10uaGFzT3duUHJvcGVydHkoaCkmJih1W2hdPWlbY11baF0pO3JldHVybiB1fSxkPWZ1bmN0aW9uKGksdSl7cmV0dXJue3ZhbHVlOmksbmFtZTp1fX07ZS5UUkFDRT1kKDEsIlRSQUNFIiksZS5ERUJVRz1kKDIsIkRFQlVHIiksZS5JTkZPPWQoMywiSU5GTyIpLGUuVElNRT1kKDQsIlRJTUUiKSxlLldBUk49ZCg1LCJXQVJOIiksZS5FUlJPUj1kKDgsIkVSUk9SIiksZS5PRkY9ZCg5OSwiT0ZGIik7dmFyIGw9ZnVuY3Rpb24oaSl7dGhpcy5jb250ZXh0PWksdGhpcy5zZXRMZXZlbChpLmZpbHRlckxldmVsKSx0aGlzLmxvZz10aGlzLmluZm99O2wucHJvdG90eXBlPXtzZXRMZXZlbDpmdW5jdGlvbihpKXtpJiYidmFsdWUiaW4gaSYmKHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbD1pKX0sZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsfSxlbmFibGVkRm9yOmZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMuY29udGV4dC5maWx0ZXJMZXZlbDtyZXR1cm4gaS52YWx1ZT49dS52YWx1ZX0sdHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLlRSQUNFLGFyZ3VtZW50cyl9LGRlYnVnOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5ERUJVRyxhcmd1bWVudHMpfSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5JTkZPLGFyZ3VtZW50cyl9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLldBUk4sYXJndW1lbnRzKX0sZXJyb3I6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLkVSUk9SLGFyZ3VtZW50cyl9LHRpbWU6ZnVuY3Rpb24oaSl7dHlwZW9mIGk9PSJzdHJpbmciJiZpLmxlbmd0aD4wJiZ0aGlzLmludm9rZShlLlRJTUUsW2ksInN0YXJ0Il0pfSx0aW1lRW5kOmZ1bmN0aW9uKGkpe3R5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg+MCYmdGhpcy5pbnZva2UoZS5USU1FLFtpLCJlbmQiXSl9LGludm9rZTpmdW5jdGlvbihpLHUpe3MmJnRoaXMuZW5hYmxlZEZvcihpKSYmcyh1LGEoe2xldmVsOml9LHRoaXMuY29udGV4dCkpfX07dmFyIGY9bmV3IGwoe2ZpbHRlckxldmVsOmUuT0ZGfSk7KGZ1bmN0aW9uKCl7dmFyIGk9ZTtpLmVuYWJsZWRGb3I9byhmLGYuZW5hYmxlZEZvciksaS50cmFjZT1vKGYsZi50cmFjZSksaS5kZWJ1Zz1vKGYsZi5kZWJ1ZyksaS50aW1lPW8oZixmLnRpbWUpLGkudGltZUVuZD1vKGYsZi50aW1lRW5kKSxpLmluZm89byhmLGYuaW5mbyksaS53YXJuPW8oZixmLndhcm4pLGkuZXJyb3I9byhmLGYuZXJyb3IpLGkubG9nPWkuaW5mb30pKCksZS5zZXRIYW5kbGVyPWZ1bmN0aW9uKGkpe3M9aX0sZS5zZXRMZXZlbD1mdW5jdGlvbihpKXtmLnNldExldmVsKGkpO2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJnJbdV0uc2V0TGV2ZWwoaSl9LGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRMZXZlbCgpfSxlLmdldD1mdW5jdGlvbihpKXtyZXR1cm4gcltpXXx8KHJbaV09bmV3IGwoYSh7bmFtZTppfSxmLmNvbnRleHQpKSl9LGUuY3JlYXRlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oaSl7aT1pfHx7fSxpLmZvcm1hdHRlcj1pLmZvcm1hdHRlcnx8ZnVuY3Rpb24ocCxfKXtfLm5hbWUmJnAudW5zaGlmdCgiWyIrXy5uYW1lKyJdIil9O3ZhciB1PXt9LGg9ZnVuY3Rpb24oYyxwKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjLGNvbnNvbGUscCl9O3JldHVybiB0eXBlb2YgY29uc29sZT4idSI/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGMscCl7Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTt2YXIgXz1jb25zb2xlLmxvZyxnO3AubGV2ZWw9PT1lLlRJTUU/KGc9KHAubmFtZT8iWyIrcC5uYW1lKyJdICI6IiIpK2NbMF0sY1sxXT09PSJzdGFydCI/Y29uc29sZS50aW1lP2NvbnNvbGUudGltZShnKTp1W2ddPW5ldyBEYXRlKCkuZ2V0VGltZSgpOmNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQoZyk6aChfLFtnKyI6ICIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXVbZ10pKyJtcyJdKSk6KHAubGV2ZWw9PT1lLldBUk4mJmNvbnNvbGUud2Fybj9fPWNvbnNvbGUud2FybjpwLmxldmVsPT09ZS5FUlJPUiYmY29uc29sZS5lcnJvcj9fPWNvbnNvbGUuZXJyb3I6cC5sZXZlbD09PWUuSU5GTyYmY29uc29sZS5pbmZvP189Y29uc29sZS5pbmZvOnAubGV2ZWw9PT1lLkRFQlVHJiZjb25zb2xlLmRlYnVnP189Y29uc29sZS5kZWJ1ZzpwLmxldmVsPT09ZS5UUkFDRSYmY29uc29sZS50cmFjZSYmKF89Y29uc29sZS50cmFjZSksaS5mb3JtYXR0ZXIoYyxwKSxoKF8sYykpfX0sZS51c2VEZWZhdWx0cz1mdW5jdGlvbihpKXtlLnNldExldmVsKGkmJmkuZGVmYXVsdExldmVsfHxlLkRFQlVHKSxlLnNldEhhbmRsZXIoZS5jcmVhdGVEZWZhdWx0SGFuZGxlcihpKSl9LGUuc2V0RGVmYXVsdHM9ZS51c2VEZWZhdWx0cyxuLmV4cG9ydHM/bi5leHBvcnRzPWU6KGUuX3ByZXZMb2dnZXI9dC5Mb2dnZXIsZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTG9nZ2VyPWUuX3ByZXZMb2dnZXIsZX0sdC5Mb2dnZXI9ZSl9KShGKX0pKEIpO3ZhciB6PUIuZXhwb3J0cyxEPVcoeik7Y2xhc3Mgd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9dCx0aGlzLmJpdE9mZnNldD0wfXJlYWRCaXRzKHQpe2lmKHRoaXMuYml0T2Zmc2V0K3Q+dGhpcy5kYXRhLmxlbmd0aCo4KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCB0aGUgZW5kIG9mIHRoZSBiaXRzdHJlYW0iKTtsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9TWF0aC5mbG9vcih0aGlzLmJpdE9mZnNldC84KSxvPTctdGhpcy5iaXRPZmZzZXQlOCxhPXRoaXMuZGF0YVtyXT4+byYxO2V8PWE8PHQtMS1zLHRoaXMuYml0T2Zmc2V0Kyt9cmV0dXJuIGV9c2tpcCh0KXt0aGlzLmJpdE9mZnNldCs9dH1yZWFkRXhwR29sb21iVW5zaWduZWQoKXtsZXQgdD0tMTtmb3IobGV0IGU9MDtlPT09MDt0KyspZT10aGlzLnJlYWRCaXRzKDEpO3JldHVybigxPDx0KS0xK3RoaXMucmVhZEJpdHModCl9cmVhZEV4cEdvbG9tYlNpZ25lZCgpe2NvbnN0IHQ9dGhpcy5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtyZXR1cm4gdCUyPT09MD8tKHQvMik6KHQrMSkvMn19Y29uc3QgbT17U0xJQ0VfTk9OX0lEUjoxLFNMSUNFX1BBUlRJVElPTl9BOjIsU0xJQ0VfSURSOjUsU0VJX0gyNjQ6NixTRUlfSDI2NV9QUkVGSVg6MzksU0VJX0gyNjVfU1VGRklYOjQwLFNQU19IMjY0OjcsU1BTX0gyNjU6MzMsUFBTX0gyNjQ6OCxQUFNfSDI2NTozNH0sUj17UElDX1RJTUlORzoxLFVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6NX0sRT17TEVHQUNZOjEsTkVXOjIsVElNRUNPREU6MyxPVEhFUjo0fSxqPSI2ZTljZmQyYS01OTA3LTQ5ZmYtYjM2My04OTc4YTZlODM0MGUiLHE9IjlhMjFmM2JlLTMxZjAtNGI3OC1iMGJlLWM3ZjdkYmI5NzI1MCIsTD0iZDQwZTM4ZWEtZDQxOS00YzYyLTk0ZWQtMjBhYzM3YjRlNGZhIjtjbGFzcyBWe2NvbnN0cnVjdG9yKHQ9IkgyNjQiKXt0aGlzLnNwcz1uZXcgTWFwLHRoaXMucHBzPW5ldyBNYXAsdGhpcy5hY3RpdmVTUFM9bnVsbCx0aGlzLmNvZGVjPXR9Y29sbGVjdFBQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRQUFModCk6dGhpcy5jb2xsZWN0SDI2NVBQUyh0KX1jb2xsZWN0U1BTKHQpe3RoaXMuY29kZWM9PT0iSDI2NCI/dGhpcy5jb2xsZWN0SDI2NFNQUyh0KTp0aGlzLmNvbGxlY3RIMjY1U1BTKHQpfWNvbGxlY3RIMjY0U1BTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRCaXRzKDgpLHI9WzEwMCwxMTAsMTIyLDI0NCw0NCw4Myw4NiwxMTgsMTI4LDEzOCwxMzksMTM0LDEzNV07ZS5za2lwKDgpLGUuc2tpcCg4KTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz4zMXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXFfcGFyYW1ldGVyX3NldF9pZCIpO2lmKHIuaW5jbHVkZXMocykpe2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihsPT09MyYmZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSl7Y29uc3QgaT1sIT09Mz84OjEyO2ZvcihsZXQgdT0wO3U8aTt1KyspaWYoZS5yZWFkQml0cygxKSl7Y29uc3QgaD11PDY/MTY6NjQ7bGV0IGM9OCxwPTg7Zm9yKGxldCBfPTA7XzxoO18rKyl7aWYocCE9PTApe2NvbnN0IGc9ZS5yZWFkRXhwR29sb21iU2lnbmVkKCk7cD0oYytnKzI1NiklMjU2fWM9cD09PTA/YzpwfX19fWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE9PT0wKWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7ZWxzZSBpZihhPT09MSl7ZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtmb3IobGV0IGY9MDtmPGw7ZisrKWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpfWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRCaXRzKDEpPT09MCYmZS5za2lwKDEpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7bGV0IGQ7aWYoZS5yZWFkQml0cygxKSl7bGV0IGY9ZnVuY3Rpb24oYyl7Y29uc3QgcD1jLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Muc2tpcCg0KSxjLnNraXAoNCk7Zm9yKGxldCB4PTA7eDw9cDt4KyspYy5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxjLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGMuc2tpcCgxKTtjLnNraXAoNSk7Y29uc3QgXz1jLnJlYWRCaXRzKDUpLGc9Yy5yZWFkQml0cyg1KSxBPWMucmVhZEJpdHMoNSk7cmV0dXJue2NwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6XyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6Zyx0aW1lX29mZnNldF9sZW5ndGg6QX19O2UucmVhZEJpdHMoMSkmJmUucmVhZEJpdHMoOCk9PT0yNTUmJihlLnNraXAoMTYpLGUuc2tpcCgxNikpLGUucmVhZEJpdHMoMSkmJmUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5za2lwKDMpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMjQpKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpKTtjb25zdCBsPWUucmVhZEJpdHMoMSk/e251bV91bml0c19pbl90aWNrOmUucmVhZEJpdHMoMzIpLHRpbWVfc2NhbGU6ZS5yZWFkQml0cygzMiksZml4ZWRfZnJhbWVfcmF0ZV9mbGFnOmUucmVhZEJpdHMoMSl9OnZvaWQgMCxpPWUucmVhZEJpdHMoMSk/ZihlKTp2b2lkIDAsdT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwOyhpfHx1KSYmZS5za2lwKDEpO2NvbnN0IGg9ZS5yZWFkQml0cygxKTtkPXt0aW1pbmdfaW5mbzpsLG5hbF9ocmRfcGFyYW1ldGVyczppLHZjbF9ocmRfcGFyYW1ldGVyczp1LHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOmh9fXRoaXMuc3BzLnNldChvLHt2dWlfcGFyYW1ldGVyczpkfSl9Y29sbGVjdEgyNjVTUFModCl7fWNvbGxlY3RIMjY0UFBTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKHM+MjU1fHxzPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBpY19wYXJhbWV0ZXJfc2V0X2lkIik7Y29uc3Qgcj1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO3RoaXMucHBzLnNldChzLHtzZXFfcGFyYW1ldGVyX3NldF9pZDpyfSl9Y29sbGVjdEgyNjVQUFModCl7fWZpbmRBY3RpdmVTUFModCl7Y29uc3QgZT1uZXcgdyh0KTtlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3Qgcz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLHI9dGhpcy5wcHMuZ2V0KHMpO2lmKHIpe2NvbnN0IG89dGhpcy5zcHMuZ2V0KHIuc2VxX3BhcmFtZXRlcl9zZXRfaWQpO2lmKG8pe3RoaXMuYWN0aXZlU1BTPW87cmV0dXJufX10aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHRoZSBhY3RpdmUgU1BTIil9fWNvbnN0IFM9bmV3IFY7ZnVuY3Rpb24gRyhuLHQpe2Zvcig7dDxuLmJ5dGVMZW5ndGgtNDspe2lmKG5bdF09PT0wJiZuW3QrMV09PT0wJiYoblt0KzJdPT09MXx8blt0KzJdPT09MCYmblt0KzNdPT09MSkpcmV0dXJuIHQ7dCs9MX1yZXR1cm4tMX1mdW5jdGlvbiBVKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtsZXQgZT0wLHM9MDtmb3IobGV0IHI9MjtyPG4uYnl0ZUxlbmd0aDtyKyspbltyXT09PTMmJm5bci0xXT09PTAmJm5bci0yXT09PTAmJih0LnNldChuLnN1YmFycmF5KHMsciksZSksZSs9ci1zLHM9cisxKTtyZXR1cm4gczxuLmJ5dGVMZW5ndGgmJnQuc2V0KG4uc3ViYXJyYXkocyksZSksdH1mdW5jdGlvbiBZKG4sdCl7bGV0IGU9MDtjb25zdCBzPXQ9PT0iSDI2NCI/MToyLHI9W107Zm9yKDtlPG4uYnl0ZUxlbmd0aC00Oyl7Y29uc3Qgbz1HKG4sZSk7aWYobz49ZSl7Y29uc3QgYT1uW28rMl09PT0xPzM6NCxkPUcobixvK2Ercyk7aWYoZD5vKXIucHVzaChuLnN1YmFycmF5KG8sZCkpLGU9ZDtlbHNle3IucHVzaChuLnN1YmFycmF5KG8pKTticmVha319ZWxzZSBicmVha31yZXR1cm4gcn1mdW5jdGlvbiBYKG4sdCl7bGV0IGU9ITA7cmV0dXJuIFkobix0KS5maWx0ZXIocz0+e2NvbnN0IHI9c1syXT09PTE/Mzo0LG89dD09PSJIMjY0Ij8xOjIsYT1zW3JdLGQ9dD09PSJIMjY0Ij9hJjMxOmE+PjEmNjM7aWYoZSlzd2l0Y2goZCl7Y2FzZSBtLlBQU19IMjY0OmNhc2UgbS5QUFNfSDI2NTpTLmNvbGxlY3RQUFMoVShzLnN1YmFycmF5KHIrbykpKTticmVhaztjYXNlIG0uU1BTX0gyNjQ6Y2FzZSBtLlNQU19IMjY1OlMuY29sbGVjdFNQUyhVKHMuc3ViYXJyYXkocitvKSkpO2JyZWFrO2Nhc2UgbS5TTElDRV9JRFI6Y2FzZSBtLlNMSUNFX05PTl9JRFI6Y2FzZSBtLlNMSUNFX1BBUlRJVElPTl9BOnRyeXtTLmZpbmRBY3RpdmVTUFMoVShzLnN1YmFycmF5KHIrbykpKSxlPSExfWNhdGNoKGwpe2NvbnNvbGUuaW5mbygiRmFpbGVkIHRvIGZpbmQgYWN0aXZlIFNQUy4gV2lsbCBub3QgYmUgYWJsZSB0byBleHRyYWN0IFBJQyB0aW1pbmcgbWV0YWRhdGEiKX1icmVha31yZXR1cm5bbS5TRUlfSDI2NCxtLlNFSV9IMjY1X1BSRUZJWCxtLlNFSV9IMjY1X1NVRkZJWF0uaW5jbHVkZXMoZCl9KX1mdW5jdGlvbiAkKG4pe2xldCB0PTAsZT0wO2Zvcig7bltlXT09PTI1NTspdCs9MjU1LGUrKzt0Kz1uW2VdLGUrKztsZXQgcz0wO2Zvcig7bltlXT09PTI1NTspcys9MjU1LGUrKztyZXR1cm4gcys9bltlXSxlKysse3R5cGU6dCxjb250ZW50Om4uc3ViYXJyYXkoZSxlK3MpfX1mdW5jdGlvbiBKKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoVChxKSksZT1uZXcgVWludDhBcnJheShUKGopKSxzPW5ldyBVaW50OEFycmF5KFQoTCkpO3JldHVybiB0LmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5USU1FQ09ERTplLmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5MRUdBQ1k6cy5ldmVyeSgocixvKT0+cj09PW5bb10pP0UuTkVXOkUuT1RIRVJ9ZnVuY3Rpb24gSyhuLHQpe2xldCBlPTA7bi51dWlkPXQuc3ViYXJyYXkoZSxlKzE2KSxlKz0xNjtjb25zdCBzPUoobi51dWlkKSxyPXQuc3ViYXJyYXkoZSk7c3dpdGNoKHMpe2Nhc2UgRS5MRUdBQ1k6Y2FzZSBFLk9USEVSOm4udW5yZWdpc3RlcmVkPXI7YnJlYWs7Y2FzZSBFLlRJTUVDT0RFOm4udGltZWNvZGU9TyhyKTticmVhaztjYXNlIEUuTkVXOntsZXQgbz0wO2NvbnN0IGE9QyhEYXRlLm5vdygpKS5sZW5ndGgsZD1yLnN1YmFycmF5KG8sYSk7bys9YTtjb25zdCBsPXIuc3ViYXJyYXkobyk7bi50aW1lY29kZT1PKGQpLG4udW5yZWdpc3RlcmVkPWw7YnJlYWt9fX1mdW5jdGlvbiBPKG4pe2NvbnN0IHQ9bi5yZWR1Y2UoKG8sYSk9PihvPDxCaWdJbnQoOCkpK0JpZ0ludChhKSxCaWdJbnQoMCkpLGU9TnVtYmVyKHQpLHM9bmV3IERhdGUoZSk7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzLnRvSVNPU3RyaW5nKCkpfWZ1bmN0aW9uIFoobix0KXt2YXIgZixpLHUsaCxjO2lmKCFTLmFjdGl2ZVNQUyl7Y29uc29sZS53YXJuKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpO3JldHVybn1jb25zdCBlPShmPVMuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLm5hbF9ocmRfcGFyYW1ldGVycykhPW51bGw/ZjpTLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy52Y2xfaHJkX3BhcmFtZXRlcnMscz17Y3BiX2RwYl9kZWxheXNfcHJlc2VudF9mbGFnOmU/MTowLGNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6KGk9ZT09bnVsbD92b2lkIDA6ZS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKSE9bnVsbD9pOjIzLGRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMToodT1lPT1udWxsP3ZvaWQgMDplLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/dToyMyx0aW1lX29mZnNldF9sZW5ndGg6ZT8oaD1lLnRpbWVfb2Zmc2V0X2xlbmd0aCkhPW51bGw/aDoyNDp2b2lkIDAscGljX3N0cnVjdF9wcmVzZW50X2ZsYWc6KGM9Uy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpIT1udWxsP2M6MH07aWYoIXMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpe2NvbnNvbGUud2FybigicGljX3N0cnVjdF9wcmVzZW50X2ZsYWcgaXMgbm90IHByZXNlbnQiKTtyZXR1cm59Y29uc3Qgcj1uZXcgdyh0KTtzLmNwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZyYmKHIuc2tpcChzLmNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czErMSksci5za2lwKHMuZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxKzEpKTtjb25zdCBvPVsxLDEsMSwyLDIsMywzLDIsM10sYT1yLnJlYWRCaXRzKDQpO2lmKGE+PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfc3RydWN0Iik7Y29uc3QgZD1vW2FdLGw9W107Zm9yKGxldCBwPTA7cDxkO3ArKylpZihyLnJlYWRCaXRzKDEpKXtjb25zdCBnPXt9O3Iuc2tpcCgyKSxyLnNraXAoMSksci5za2lwKDUpO2NvbnN0IEE9ci5yZWFkQml0cygxKTtpZihyLnNraXAoMiksZy5uX2ZyYW1lcz1yLnJlYWRCaXRzKDgpLEE/KGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcubWludXRlc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcuaG91cnNfdmFsdWU9ci5yZWFkQml0cyg1KSk6ci5yZWFkQml0cygxKSYmKGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLHIucmVhZEJpdHMoMSkmJihnLm1pbnV0ZXNfdmFsdWU9ci5yZWFkQml0cyg2KSxyLnJlYWRCaXRzKDEpJiYoZy5ob3Vyc192YWx1ZT1yLnJlYWRCaXRzKDUpKSkpLHMudGltZV9vZmZzZXRfbGVuZ3RoKXRyeXtnLnRpbWVfb2Zmc2V0PXIucmVhZEJpdHMocy50aW1lX29mZnNldF9sZW5ndGgpfWNhdGNoKHgpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZWFkIHRpbWVfb2Zmc2V0Iix4KSxnLnRpbWVfb2Zmc2V0PTB9ZWxzZSBnLnRpbWVfb2Zmc2V0PTA7bC5wdXNoKGcpfW4uc2VpUGljVGltaW5nVGltZUNvZGVBcnJheT1sfWZ1bmN0aW9uIFEobix0KXtpZih0IT09IkgyNjQiJiZ0IT09IkgyNjUiKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29kZWMgIi5jb25jYXQodCkpO2NvbnN0IGU9e307cmV0dXJuIFMuY29kZWM9dCxYKG5ldyBVaW50OEFycmF5KG4uZGF0YSksdCkuZm9yRWFjaChzPT57Y29uc3Qgcj1zWzJdPT09MT8zOjQsbz10PT09IkgyNjQiPzE6MixhPVUocy5zdWJhcnJheShyK28pKSxkPSQoYSk7c3dpdGNoKGQudHlwZSl7Y2FzZSBSLlBJQ19USU1JTkc6WihlLGQuY29udGVudCk7YnJlYWs7Y2FzZSBSLlVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6SyhlLGQuY29udGVudCk7YnJlYWt9fSksZX1mdW5jdGlvbiBlZShuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiB0ZShuLHQsZSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShUKG4pKSxyPUMoZSksbz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrci5sZW5ndGgrby5sZW5ndGgpO3JldHVybiBhLnNldChzKSxhLnNldChyLHMubGVuZ3RoKSxhLnNldChvLHIubGVuZ3RoK3MubGVuZ3RoKSxhfWZ1bmN0aW9uIG5lKG4pe2NvbnN0IHQ9W10sZT1NYXRoLmZsb29yKG4uYnl0ZUxlbmd0aC8yNTUpLHM9bi5ieXRlTGVuZ3RoJTI1NTtmb3IobGV0IHI9MDtyPGU7cisrKXQucHVzaCgyNTUpO3JldHVybiB0LnB1c2gocyksbmV3IFVpbnQ4QXJyYXkoWzUsLi4udF0pfWZ1bmN0aW9uIHJlKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEMobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgcz0wO3M8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO3MrKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCpzKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSl7Y29uc3Qgcz1bMCwwLDAsMV0scj1bMTAyXSxvPXRlKG4sdCxlKSxhPW5lKG8pLGQ9cmUobyksbD1uZXcgVWludDhBcnJheShzLmxlbmd0aCtyLmxlbmd0aCthLmxlbmd0aCtkLmxlbmd0aCk7cmV0dXJuIGwuc2V0KHMpLGwuc2V0KHIscy5sZW5ndGgpLGwuc2V0KGEscy5sZW5ndGgrci5sZW5ndGgpLGwuc2V0KGQscy5sZW5ndGgrci5sZW5ndGgrYS5sZW5ndGgpLGx9ZnVuY3Rpb24gaWUoe3V1aWQ6bixwYXlsb2FkOnQsdGltZWNvZGU6ZX0scyl7aWYobj09PSIifHx0PT09IiIpdGhyb3cgbmV3IEVycm9yKCJ1dWlkIGFuZCBwYXlsb2FkIGNhbm5vdCBiZSBlbXB0eSIpO2VlKG4pfHwoY29uc29sZS53YXJuKCJJbnZhbGlkIFVVSUQuIFVzaW5nIGRlZmF1bHQgVVVJRC4iKSxuPUwsZT1EYXRlLm5vdygpKTtjb25zdCByPXNlKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxvPW5ldyBEYXRhVmlldyhzLmRhdGEpLGE9bmV3IEFycmF5QnVmZmVyKHMuZGF0YS5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYSk7Zm9yKGxldCBsPTA7bDxzLmRhdGEuYnl0ZUxlbmd0aDtsKyspZC5zZXRVaW50OChsLG8uZ2V0VWludDgobCkpO2ZvcihsZXQgbD0wO2w8ci5ieXRlTGVuZ3RoO2wrKylkLnNldFVpbnQ4KHMuZGF0YS5ieXRlTGVuZ3RoK2wscltsXSk7cy5kYXRhPWF9RC5nZXQoIlRyYW5zZm9ybVdvcmtlciIpLnNldExldmVsKEQuREVCVUcpO2NvbnN0IG9lPTJlMyxiPVtdO2xldCB5PSIiLFA9e307Y29uc3Qgdj17fTtsZXQgST1bXTtmdW5jdGlvbiBIKG4pe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybSh0LGUpe3ZhciBzLHI7aWYodCBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCBvPSgocz1QW3QuZ2V0TWV0YWRhdGEoKS5wYXlsb2FkVHlwZV0pPT1udWxsP3ZvaWQgMDpzLnRvVXBwZXJDYXNlKCkpfHwoeT09bnVsbD92b2lkIDA6eS50b1VwcGVyQ2FzZSgpKTtpZihvPT09IkgyNjQiKXtjb25zdCBhPVEodCxvKTsoYS50aW1lY29kZXx8YS51bnJlZ2lzdGVyZWR8fCgocj1hLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXkpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MCkmJnNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJtZXRhZGF0YSIsbWlkOm4sbWV0YWRhdGE6YX0pfXNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJjb21wbGV0ZSIsZnJhbWU6e3R5cGU6dC50eXBlLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCxkYXRhOnQuZGF0YX19KX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTSgpe09iamVjdC5rZXlzKHYpLnNvcnQoKS5qb2luKCk9PT1JLnNvcnQoKS5qb2luKCkmJihiLnNoaWZ0KCksST1bXSl9ZnVuY3Rpb24gYWUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTt2W25dPXQsT2JqZWN0LmtleXModikuZmlsdGVyKHM9PnQtdltzXT5vZSkuZm9yRWFjaChzPT57ZGVsZXRlIHZbc10sZGVsZXRlIElbc119KSxNKCl9ZnVuY3Rpb24gTigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3Qgcz1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKGFlKHMpLCFJLmluY2x1ZGVzKHMpJiZiLmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdCh5KSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7YlswXS51dWlkPT09TCYmKGJbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksaWUoYlswXSxuKSxJLnB1c2gocyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1maW5hbGx5e00oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIGsoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIil5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU4oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilQPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSx5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD1IKG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO2sobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOnk9bi5kYXRhLmNvZGVjLGsobi5kYXRhLE4oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOlA9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LHk9bi5kYXRhLmNvZGVjfHwiIixrKG4uZGF0YSxIKG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjpiLnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ge=("undefined"==typeof self?"undefined":U(self))<"u"&&self.Blob&&new Blob([function(t){return E.from(atob(t),(function(t){return t.charCodeAt(0)}))}(le)],{type:"text/javascript;charset=utf-8"});function we(t){var n;try{if(!(n=ge&&(self.URL||self.webkitURL).createObjectURL(ge)))throw"";var i=new I(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(self.URL||self.webkitURL).revokeObjectURL(n)})),i}catch(n){return new I("data:text/javascript;base64,"+le,{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var me=gt.get("Publish"),ye={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:wr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},pe=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&me.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,me,r)||this}It(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=ye);var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return r=ce.object({sourceId:ce.string(),stereo:ce.boolean(),dtx:ce.boolean(),absCaptureTime:ce.boolean(),dependencyDescriptor:ce.boolean(),mediaStream:ce.alternatives().try(ce.array().items(ce.object()),ce.object()),bandwidth:ce.number(),metadata:ce.boolean(),disableVideo:ce.boolean(),disableAudio:ce.boolean(),codec:(i=ce.string()).valid.apply(i,Kt(b.values(wr))),simulcast:ce.boolean(),scalabilityMode:ce.string(),peerConfig:ce.object(),record:ce.boolean(),events:ce.array().items(ce.string().valid("active","inactive","viewercount")),priority:ce.number()}),e=r.validate(t),u=e.error,s=e.value,u&&me.warn(u,s),n.options=R(w(w({},ye),t),{peerConfig:w(w({},ye.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===wr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return me.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),me.info("Broadcaster start recording"),[3,3];case 2:me.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),me.info("Broadcaster stop recording"),[3,3];case 2:me.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ot(this,(function(y){switch(y.label){case 0:if(me.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw me.error("Error while broadcasting. MediaStream required"),new p("MediaStream required");if(!t.migrate&&n.isActive())throw me.warn("Broadcast currently working"),new p("Broadcast currently working");y.label=1;case 1:return y.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=y.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=y.sent(),me.error("Error generating token."),s instanceof zr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw me.error("Error while broadcasting. Publisher data required"),new p("Publisher data required");if(o=ee(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[se.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw me.error("Error while broadcasting. Record option detected but recording is not available"),new p("Record option detected but recording is not available");return a=new Xr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig,pr)];case 5:return y.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Wt(c,n,[br.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Wt(a,n,[Zr]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,et.all([h,f])];case 6:return e=y.sent(),v=e[0],n.options.metadata&&(n.worker||(n.worker=new we),n.getRTCPeerConnection().getSenders().forEach((function(t){if(de)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ve){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),d=n.signaling,n.signaling=a,l=n.signaling.publish(v,n.options),g=c.peer.setLocalDescription(c.sessionDescription),[4,et.all([l,g])];case 7:return e=y.sent(),w=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(w=c.updateBandwidthRestriction(w,n.options.bandwidth)),[4,c.setRTCRemoteSDP(w)];case 8:return y.sent(),me.info("Broadcasting to streamName: ",n.streamName),m=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==d?void 0:d.close)||n.call(d),null==(i=null==m?void 0:m.closeRTCPeer)||i.call(m),d=m=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==wr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",me.warn(r)}},n}(he);function _e(t){if(!t)return new E;for(var n=t.length,i=new E(n/2),r=0;r<n;r+=2)i[r/2]=A(t.substr(r,2),16);return i}function be(t,n,i){if(b.prototype.hasOwnProperty.call(t,i)&&b.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function ke(t,n,i,r){return new(i||(i=et))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))}var Ae,Te=Se;function Se(t,n){var i=Le();return(Se=function(t,n){return i[t-=257]})(t,n)}!function(){for(var t=Se,n=Le();;)try{if(A(t(266))/1*(-A(t(261))/2)+A(t(258))/3*(-A(t(264))/4)+-A(t(267))/5*(A(t(274))/6)+A(t(260))/7*(A(t(268))/8)+A(t(270))/9+-A(t(277))/10+A(t(263))/11==303379)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ee=l&&l[Te(276)]||"",Ie=l&&l.vendor||"",Re=!(null==f||!f[Te(273)]),Ce=Ee[Te(278)](Te(257)),Ne=!Ce&&Ie[Te(278)](Te(259)),De=!Ce&&!Ne&&Ee.includes(Te(272)),xe=!Ce&&!Ne&&!De&&Ee[Te(278)](Te(275)),Pe=(null===(Ae=null==l?void 0:l[Te(262)])||void 0===Ae?void 0:Ae[Te(271)])||(null==l?void 0:l[Te(271)])||"";function Le(){var t=["2403660vsbxKa","includes","Firefox","653511krAkNS","Apple","63eEorAu","2iQvmqu","userAgentData","13393182jRLBxS","4fTXBZP","Win32","74923SyWRbn","1345hVdNEb","21688LwGppn","Windows","132498ZoOcLo","platform","Edg","RTCRtpScriptTransform","9372dNMWWf","Chrome","userAgent"];return(Le=function(){return t})()}var Me={supportsRtpScriptTransform:Re,isFirefox:Ce,isSafari:Ne,isEdge:De,isChrome:xe,platform:Pe,isWindows:Pe===Te(269)||Pe===Te(265)},Oe=Be;function Be(t,n){var i=We();return(Be=function(t,n){return i[t-=185]})(t,n)}!function(){for(var t=Be,n=We();;)try{if(-A(t(380))/1+-A(t(354))/2+-A(t(464))/3*(A(t(486))/4)+-A(t(253))/5+A(t(377))/6+A(t(321))/7*(-A(t(285))/8)+-A(t(444))/9*(-A(t(279))/10)==657542)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ve=Me[Oe(496)];function Fe(t,n){var i=Oe,r=new E((0|t.byteLength)+(0|n[i(442)]));return r[i(311)](t,0),r[i(311)](n,0|t.byteLength),r}var Ue=function(t,n,i,r){var e=Oe,u=r[e(203)]||1;n*=u,i*=u;var s,o=(s=t)instanceof ArrayBuffer?s:s[Oe(492)],a=(t[e(447)]||0)+t[e(442)],c=(t[e(447)]||0)+n,h=k[e(389)](0,k[e(487)](c,a)),f=k[e(487)](h+k[e(389)](i,0),a);return new r(o,h/=u,(f/=u)-h)};function We(){var t=["[MSE] source buffer error","ManagedMediaSource","BYTES_PER_ELEMENT","types","ready","valid","Num frames in chunk: ","readBits","getTrackID","mvhd","parsePPS","encrypted","dependsOn","payload","len","moov","VMHD","mse","volume","h264","setUint16","tfdt","nextDts","avc1.","audioSampleAuxInfo","message","endMSE","width","hdlr","warn","traf","readBoolean","shift","mseReady","revokeObjectURL","smhd","dts","indexOf","<PROTECTINFO>","webkitsourceclose","onMSEClose","[H264Parser] IDR without SPS/PPS, not suitable for recovery",'VALUE="',"createObjectURL","</KID>","mdhd","SMHD","getFramePayload","tkhd","flush","clRtcDrmDebugLog","getBits","2598770DahMdb","dbgQueue","dispatch","DINF","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","isReady","sps","nalus","endOfStream","toString","UNKNOWN","Opus","minf","onError","stco","STSC","buffered","</KIDS>","initSegment","dinf","org.w3.clearkey","mp4track","keyFrame","units","mseEnded","videoSampleAuxInfo","41695210Plpuuo","splice","ended","bitLength","seq","url","8YyaFaO","com.apple.fps","[MSE] error: ","bitsAvailable","</WRMHEADER>","trex","setData","buffer error","slice","length","readUByte","mp4a","Unsupported DRM type ","mdia","fromCharCode",'<WRMHEADER xmlns="',"index","string","both","NDR","dOps","cenc","getPayload","bind","PPS","sourceBuffer","set","Checking codec","releaseBuffer","tenc","trak","flags",'/mp4; codecs="',"[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","clRtcDrmCreateMediaDump","STSD","6352549TgZLxu","initBrowser","IDR","trun"," - ","start","mediaSource","startsWith","stype","readSPS","addEventListener","schi","encv","createElement","getVideoFrames","onReady","href","sourceopen","setUint32","vmhd","FTYP","schm","getData","toISOString","remuxer","track","skipScalingList","STSZ","getSize","addSourceBuffer","[MSE] buffer error:","appendBufferError","off","2392886zJoPkf","destroy","sdtp","audiosamplerate",": NRI: ","reportDiscontinuity","extractNALUs","No A/V data","pps","senc","saio","concat","config","ftyp","parseNAL","esds","error","feed","Browser does not support codec","4.3.0.0","skipUEG","mp4","end","2232924PKvVOf","updating","options","227868XbMqAn","prototype","createBuffer","info","MediaSource","timestamp","mvex","isfmb","opus","max","stsz","POSITIVE_INFINITY","saiz","timescale","call","encryption","height","jmuxer","bufferControllers","open","patchSampleAuxinfo","queue","stsd","onBufferError","frameCounter","ntype","remux","getPayloadSize","isSupported","</LA_URL>","waitingForIdr","box","idr"," samples - expected 1","tracks","stbl","getNri",'<KID ALGID="AESCTR" ',"download","readUInt","join","com.microsoft.playready.recommendation",'" version="',"remuxController","Received ","frma","resetTrack","disableRemotePlayback","</DATA>","mfhd","pssh","charCodeAt","drm","mediaDuration","video","readyToDecode","from","SPS","skipLZ","data","keySystem","[MSE] sourceclose","byteLength","STTS","9mESMVl","Buffered range ","samples","byteOffset","parseHeader","codec","node","audio","Failure: Browser doesn't support MSE/MMS","subarray","replaceAll","downloadToFile","onBuffer","skipBits","mdat","isKeyframe","moof","mode","push","STCO","9ffcUcC","listener","isReset","map","enca","type","<LA_URL>","parseSPS","getElementById","no video element were found to render, provide a valid video element","sinf","doAppend","HDLR_TYPES","videoElement","stts","keyId","trackTypes","TYPES","remove","size","AUD","src","1376748eVkTXq","min","tfhd","initialized","offAll","appendBuffer","buffer","nri","skipEG","isvcl","isSafari","isTypeSupported","readyState","abort","apply","reduce","assign","calculateExpectedSizeFromSai","duration","generatePlayReadyHeader","readUEG","onMSEOpen","sampleAuxInfo","SEI","irrecoverableError","channelCount","saiIvSize","stsc"];return(We=function(){return t})()}function Ze(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),Ue(t,n,i,E)}function Xe(t){var n=Oe,i=Array[n(436)](t)[n(467)]((function(t){return t[n(431)](0)}));return new E(i)}f[Oe(455)]=function(t,n,i){void 0===i&&(i="application/octet-stream");var r=Oe,e=v[r(334)]("a"),u=new Blob([t],{type:i});e[r(337)]=URL[r(244)](u),e[r(418)]=n,e.click(),URL[r(235)](e[r(337)])};var Ge=function(t,n,i,r,e,u,s,o,a,c){function h(t){var n=Oe;this.payload=t,this[n(493)]=(96&this.payload[0])>>5,this[n(405)]=31&this[n(214)][0],this[n(495)]=1==this.ntype||5==this[n(405)],this[n(329)]="",this[n(387)]=!1}var f=h.prototype;return f.toString=function(){var t=Oe;return h[t(469)](this)+t(358)+this[t(416)]()},f.getNri=function(){return this[Oe(493)]},f[u]=function(){return this[Oe(405)]},f[s]=function(){var t=Oe;return this[t(405)]===h[t(323)]},f[o]=function(){return this[Oe(214)]},f[a]=function(){var t=Oe;return this[t(214)][t(442)]},f.getSize=function(){return 4+this[Oe(407)]()},f[c]=function(){var t=Oe,n=new E(this.getSize());return new DataView(n.buffer)[t(339)](0,this.getSize()-4),n[t(311)](this[t(307)](),4),n},h.type=function(t){var n=Oe;return t[n(405)]in h[n(481)]?h[n(481)][t[n(405)]]:n(263)},Nt(h,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:i,get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:r,get:function(){return 9}},{key:e,get:function(){var t,n=Oe;return un(t={},h[n(323)],n(323)),un(t,h.SEI,n(196)),un(t,h.SPS,n(437)),un(t,h[n(309)],n(309)),un(t,h[n(304)],n(304)),un(t,h[n(484)],n(484)),t}}]),h}(Oe(304),Oe(323),Oe(196),Oe(484),Oe(481),Oe(469),Oe(459),Oe(307),Oe(407),Oe(343)),He=function(){function t(t){var n=Oe;this[n(439)]=t,this[n(301)]=0,this.bitLength=8*t[n(442)]}var n=t.prototype;return n[Oe(291)]=function(t){var n=Oe;this.data=t,this[n(301)]=0,this[n(282)]=8*t[n(442)]},n.skipBits=function(t){if(this[Oe(288)]<t)return!1;this.index+=t},n[Oe(208)]=function(t,n){return void 0===n&&(n=!0),this.getBits(t,this.index,n)},n[Oe(252)]=function(t,n,i){void 0===i&&(i=!0);var r=Oe;if(this.bitsAvailable<t)return 0;var e=n%8,u=this[r(439)][n/8|0]&255>>>e,s=8-e;if(s>=t)return i&&(this.index+=t),u>>s-t;i&&(this.index+=s);var o=t-s;return u<<o|this[r(252)](o,n+s,i)},n[Oe(438)]=function(){var t,n=Oe;for(t=0;t<this.bitLength-this[n(301)];++t)if(0!==this.getBits(1,this[n(301)]+t,!1))return this.index+=t,t;return t},n[Oe(374)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n[Oe(494)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n.readUEG=function(){var t=Oe,n=this[t(438)]();return this[t(208)](n+1)-1},n.readEG=function(){var t=this[Oe(193)]();return 1&t?1+t>>>1:-1*(t>>>1)},n.readBoolean=function(){return 1===this[Oe(208)](1)},n[Oe(295)]=function(t){return void 0===t&&(t=1),this[Oe(208)](8*t)},n.readUShort=function(){return this[Oe(208)](16)},n[Oe(419)]=function(){return this[Oe(208)](32)},Nt(t,[{key:Oe(288),get:function(){var t=Oe;return this[t(282)]-this[t(301)]}}]),t}(),ze=function(t,n,i,r,e,u){function s(t){var n=Oe;this.remuxer=t,this[n(346)]=t[n(274)]}var o=s.prototype;return o[r]=function(t){var n=Oe,i=s[n(330)](new E(t));this[n(346)][n(228)]=i[n(228)],this[n(346)][n(396)]=i[n(396)],this[n(346)].sps=[new E(t)],this[n(346)][n(449)]=n(224);for(var r=new DataView(t.buffer,t[n(447)]+1,4),e=0;e<3;++e){var u=r.getUint8(e)[n(262)](16);u.length<2&&(u="0"+u),this.track[n(449)]+=u}},o[e]=function(t){this[Oe(346)].pps=[new E(t)]},o[u]=function(t){var n=Oe;if(!t)return!1;var i=!1;switch(t.type()){case Ge[n(323)]:case Ge[n(304)]:i=!0;break;case Ge[n(309)]:!this[n(346)][n(362)]&&(this.parsePPS(t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this[n(346)][n(259)]&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ge[n(437)]:!this[n(346)][n(259)]&&(this[n(471)](t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this.track.sps&&(this[n(345)][n(435)]=!0)),i=!0;break;case Ge[n(484)]:break;case Ge[n(196)]:i=!0}return i},s[t]=function(t,n){for(var i=Oe,r=[],e=!1,u=!1,s=!1,o=!1,a=0,c=0,h=0,f=[];a<=t.byteLength;){if(a<t.byteLength){var v=t[a++];0!==v?(1===v&&c>1&&(h=c>2?4:3,f.push(a)),c=0):++c}else h=0,f.push(a++);if(f.length>1){var d=f.shift(),l=f[0]-h;if(d<l){var g=!1,w=31&t[d];if(w===Ge.NDR?u=!0:w===Ge.IDR?e=!0:w===Ge.SPS?(g=s,s=!0):w===Ge.PPS&&(g=o,o=!0),!g)if(!n||w!==Ge.NDR&&w!==Ge.IDR)r.push(t.subarray(d,l));else{var m=new E(l-d),y=0;for(a=d,c=0;a<l;){var p=t[a++];c>1&&3===p&&(c=0,p=t[a++]),0!==p?c=0:++c,m[y++]=p}r.push(m.subarray(0,y))}}}}var _=!0,b=!1;return u||e?u&&e&&(console[i(230)](i(318)),_=!1):(console[i(230)]("[H264Parser] No VCL NALUs found"),_=!1),e&&(s&&o?b=!0:console[i(230)](i(242))),{valid:_,idr:b,nalus:r}},s.skipScalingList=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},s[n]=function(t){var n,i,r,e,u,o,a=Oe,c=new He(t),h=0,f=0,v=0,d=0,l=1;if(c[a(295)](),n=c.readUByte(),c[a(208)](5),c[a(457)](3),c.readUByte(),c[a(374)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var g=c[a(193)]();if(3===g&&c[a(457)](1),c.skipUEG(),c[a(374)](),c[a(457)](1),c[a(232)]()){o=3!==g?8:12;for(var w=0;w<o;++w)c[a(232)]()&&(w<6?s[a(347)](c,16):s[a(347)](c,64))}}c[a(374)]();var m=c.readUEG();if(0===m)c[a(193)]();else if(1===m){c.skipBits(1),c[a(494)](),c[a(494)](),i=c[a(193)]();for(var y=0;y<i;++y)c.skipEG()}if(c.skipUEG(),c[a(457)](1),r=c[a(193)](),e=c.readUEG(),0===(u=c[a(208)](1))&&c[a(457)](1),c[a(457)](1),c[a(232)]()&&(h=c[a(193)](),f=c[a(193)](),v=c[a(193)](),d=c.readUEG()),c.readBoolean()){if(c[a(232)]()){var p;switch(c[a(295)]()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[c[a(295)]()<<8|c.readUByte(),c[a(295)]()<<8|c[a(295)]()]}p&&p[0]>0&&p[1]>0&&(l=p[0]/p[1])}c.readBoolean()&&c[a(457)](1),c[a(232)]()&&(c.skipBits(4),c[a(232)]()&&c[a(457)](24)),c.readBoolean()&&(c.skipUEG(),c[a(374)]()),c.readBoolean()&&(c[a(419)](),c[a(419)](),c.readBoolean())}return{width:k.ceil((16*(r+1)-2*h-2*f)*l),height:(2-u)*(e+1)*16-(u?2:4)*(v+d)}},s[i]=function(t){var n=Oe,i=new He(t[n(307)]());i.readUByte(),t.isfmb=0===i[n(193)](),t.stype=i[n(193)]()},s}(Oe(360),Oe(330),Oe(448),Oe(471),Oe(211),Oe(368)),Ye=function(){function t(t){var n=Oe;this[n(465)]={},this[n(469)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=Oe;return!this[i(465)][t]&&(this[i(465)][t]=[]),this[i(465)][t][i(462)](n),!0},n[Oe(353)]=function(t,n){var i=Oe;if(this[i(465)][t]){var r=this.listener[t][i(238)](n);return r>-1&&this[i(465)][t][i(280)](r,1),!0}return!1},n[Oe(490)]=function(){this[Oe(465)]={}},n[Oe(255)]=function(t,n){var i=Oe;return!!this.listener[t]&&(this[i(465)][t][i(467)]((function(t){t[i(187)](null,[n])})),!0)},t}(),je=function(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T){function S(t){var n,i,r=Oe;for(var e in this[r(432)]=t,this[r(199)]={video:(null==(n=t[r(366)][r(434)])?void 0:n.encryption)===r(306)?16:0,audio:(null==(i=t[r(366)][r(451)])?void 0:i.encryption)===r(306)?16:0},S.types={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},S[r(204)])S[r(204)][e]=[e[r(431)](0),e[r(431)](1),e.charCodeAt(2),e[r(431)](3)];var u=new E([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new E([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);S[r(476)]={video:u,audio:s};var o=new E([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new E([0,0,0,0,0,0,0,0]);S[r(443)]=S[r(268)]=S[r(463)]=a,S[r(348)]=new E([0,0,0,0,0,0,0,0,0,0,0,0]),S[r(217)]=new E([0,0,0,1,0,0,0,0,0,0,0,0]),S.SMHD=new E([0,0,0,0,0,0,0,0]),S[r(320)]=new E([0,0,0,0,0,0,0,1]);var c=new E([105,115,111,109]),h=new E([97,118,99,49]),f=new E([0,0,0,1]);S[r(341)]=S[r(411)](S[r(204)][r(367)],c,f,c,h),S.DINF=S[r(411)](S[r(204)][r(272)],S[r(411)](S[r(204)].dref,o))}var I=S.prototype;return I.hdlr=function(t){var n=Oe;return S[n(411)](S[n(204)][n(229)],S[n(476)][t])},I.mdat=function(t){var n=Oe;return S.box(S.types[n(458)],t)},I[n]=function(t,n){var i=Oe;return S.box(S[i(204)][i(246)],new E([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,0,0,0,0,85,196,0,0]))},I[i]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(298)],this[n(246)](t[n(393)],t.duration),this[n(229)](t[n(469)]),this[n(265)](t))},I[r]=function(t){var n=Oe;return S[n(411)](S.types[n(429)],new E([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]))},I[e]=function(t){var n=Oe;return t[n(469)]===n(451)?S[n(411)](S[n(204)][n(265)],S.box(S[n(204)][n(236)],S[n(247)]),S.DINF,this[n(415)](t)):S[n(411)](S[n(204)][n(265)],S[n(256)],this[n(415)](t),S[n(411)](S[n(204)][n(340)],S[n(217)]))},I[u]=function(t,n,i){var r=Oe;return S[r(411)](S[r(204)][r(460)],this[r(429)](t),this.traf(i,n))},I.moov=function(t,n,i){for(var r=Oe,e=t[r(294)],u=[];e--;)u[e]=this[r(315)](t[e]);return S[r(411)][r(187)](null,[S[r(204)].moov,this[r(210)](i,n),this[r(430)](t)].concat(u)[r(365)](this[r(386)](t)))},I.mvex=function(t){for(var n=Oe,i=t[n(294)],r=[];i--;)r[i]=this[n(290)](t[i]);return S.box[n(187)](null,[S[n(204)].mvex].concat(r))},I[s]=function(t,n){var i=Oe,r=new E([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return S[i(411)](S[i(204)].mvhd,r)},I[o]=function(t){for(var n=Oe,i=t[n(446)]||[],r=new E(4+i.length),e=0;e<i.length;e++){var u=i[e][n(316)];r[e+4]=u[n(213)]<<4|u.isDependedOn<<2|u.hasRedundancy}return S.box(S.types.sdtp,r)},I[a]=function(t){var n=Oe;return S[n(411)](S.types[n(415)],this[n(402)](t),S.box(S.types[n(478)],S[n(443)]),S.box(S.types[n(200)],S[n(268)]),S[n(411)](S[n(204)][n(390)],S[n(348)]),S[n(411)](S[n(204)][n(267)],S[n(463)]))},I[c]=function(t){var n,i,r,e=Oe,u=[],s=[];for(n=0;n<t[e(259)][e(294)];n++)r=(i=t[e(259)][n])[e(442)],u.push(r>>>8&255),u[e(462)](255&r),u=u[e(365)](Array[e(381)].slice.call(i));for(n=0;n<t.pps.length;n++)r=(i=t.pps[n])[e(442)],s.push(r>>>8&255),s[e(462)](255&r),s=s[e(365)](Array[e(381)][e(293)][e(394)](i));var o=S[e(411)](S[e(204)].avcC,new E([1,u[3],u[4],u[5],255,224|t[e(259)][e(294)]][e(365)](u)[e(365)]([t[e(362)].length]).concat(s))),a=t[e(228)],c=t[e(396)],h=S[e(411)](S[e(204)][e(474)],S[e(411)](S.types[e(425)],new E([97,118,99,49])),S[e(411)](S[e(204)][e(342)],new E([0,0,0,0].concat(Kt(Xe(this[e(432)][e(366)].video[e(395)])),[0,1,0,0]))),S[e(411)](S[e(204)].schi,this[e(314)]("video")));return S[e(411)](S[e(204)][e(333)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),o,h)},I[h]=function(t){var n=Oe,i=t.config[n(442)],r=new E(26+i+3);return r[n(311)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(311)](t[n(366)],26),r[n(311)]([6,1,2],26+i),r},I[f]=function(t){var n=Oe,i=t.audiosamplerate;return S[n(411)](S[n(204)][n(296)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S[n(204)][n(369)],this.esds(t)))},I.dOps=function(t){var n=Oe,i=t[n(357)];return new E([0,t[n(198)],1,56,0,0,i>>>8&255,255&i,0,0,0])},I[v]=function(t){var n=Oe,i=t[n(357)];return S[n(411)](S[n(204)].Opus,new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S.types[n(305)],this[n(305)](t)))},I[d]=function(t){var n=Oe,i=S[n(411)](S[n(204)].dOps,this[n(305)](t)),r=S[n(411)](S[n(204)].sinf,S[n(411)](S[n(204)].frma,new E([79,112,117,115])),S[n(411)](S[n(204)][n(342)],new E([0,0,0,0].concat(Kt(Xe(this.drm[n(366)].audio[n(395)])),[0,1,0,0]))),S[n(411)](S[n(204)][n(332)],this[n(314)](n(451)))),e=t[n(357)];return S[n(411)](S[n(204)][n(468)],new E([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,e>>>8&255,255&e,0,0]),i,r)},I[l]=function(t){var n=Oe;return t[n(469)]===n(451)?S.box(S[n(204)][n(402)],S[n(320)],t[n(212)]?this[n(468)](t):this[n(264)](t)):S.box(S[n(204)][n(402)],S[n(320)],this.encv(t))},I[g]=function(t){var n=Oe,i=t.id,r=t[n(191)],e=t.width,u=t[n(396)],s=t[n(219)];return S[n(411)](S[n(204)][n(249)],new E([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,255&s,s%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>>8&255,255&e,0,0,u>>>8&255,255&u,0,0]))},I[w]=function(t,n){var i,r=Oe,e=t.id,u=t[r(446)][0][r(483)],s=t[r(446)][0][r(191)],o=t[r(446)][0].flags,a=S[r(411)](S[r(204)][r(488)],new E([0,2,0,58,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,1,s>>>24,e>>>16&255,s>>>8&255,255&s,u>>>24,u>>>16&255,u>>>8&255,255&u,0,o.isNonSync,0,0])),c=S[r(411)](S[r(204)][r(222)],new E([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(t[r(212)]){var h,f;if(t[r(469)]===r(434)?(h=!0,f=this[r(199)][r(434)]+(null==(i=t[r(446)][0].sampleAuxInfo)?void 0:i.byteLength)):(h=!1,f=this[r(199)][r(451)]),f>0){var v=this[r(392)](f),d=this[r(363)](t[r(446)],h),l=v.length+20+d.length+a[r(294)]+c[r(294)]+8+16+8+8,g=this[r(324)](t,l);return S[r(411)](S[r(204)][r(231)],a,c,g,v,this[r(364)](l-d[r(294)]+g[r(294)]+8),d)}var w=this[r(363)](null,!1),m=w[r(294)]+a[r(294)]+c.length+8+16+8+8,y=this[r(324)](t,m);return S[r(411)](S[r(204)][r(231)],a,c,y,w)}return S.box(S.types.traf,a,c,this[r(324)](t,a[r(294)]+c[r(294)]+8+16+8+8))},I[m]=function(t){var n=Oe;return t[n(191)]=t[n(191)]||4294967295,S.box(S[n(204)][n(315)],this[n(249)](t),this[n(298)](t))},I.trex=function(t){var n=Oe,i=t.id;return S[n(411)](S[n(204)][n(290)],new E([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},I.trun=function(t,n){var i=Oe,r=(t.samples||[]).length,e=new E(12);return n+=20,e[i(311)]([0,0,0,1,r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n],0),S.box(S.types[i(324)],e)},I[y]=function(t,n){var i,r,e,u=Oe,s=u(373),o=u(257),a=function(t){var n=function(t){for(var n=Oe,i="",r=0;r<t.length;r+=16e3){var e=t[n(453)](r,r+16e3);i+=String[n(299)][n(187)](null,e)}return i}(Ze(t));return btoa(n)}((i=t,(e=[])[(r=Oe)(462)](i[3]),e[r(462)](i[2]),e[r(462)](i[1]),e[r(462)](i[0]),e.push(i[5]),e.push(i[4]),e.push(i[7]),e.push(i[6]),(i=Ze(i))[r(311)](e,0),i));return Ze(function(t,n){for(var i=Oe,r=new E(2*t.length),e=new DataView(r[i(492)]),u=0;u<t[i(294)];++u){var s=t[i(431)](u);e[i(221)](2*u,s,!0)}return r[i(492)]}([u(300)+o+u(422)+s+'">',"<DATA>",u(239),"<KIDS>",u(417),u(243)+a+'"',">",u(245),u(270),"</PROTECTINFO>",n?u(470)+n+u(409):"",u(428),u(289)][u(420)]("")))},I[p]=function(t){var n=Oe;if(this[n(432)][n(440)][n(328)]("com.widevine"))return S[n(411)](S[n(204)][n(430)],new E([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16].concat(Kt(this[n(432)][n(366)][t[0][n(469)]][n(479)]))));if(this[n(432)].keySystem===n(421)){var i=this[n(192)](this[n(432)][n(366)][t[0].type][n(479)],this.drm.licenseUrl),r=i[n(442)];return S[n(411)](S[n(204)][n(430)],new E([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,r>>>24,r>>>16&255,r>>>8&255,255&r].concat(Kt(i))))}return this[n(432)][n(440)]===n(273)?S[n(411)](S[n(204)][n(430)],new E([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1].concat(Kt(this.drm.config[t[0][n(469)]][n(479)]),[0,0,0,0]))):this[n(432)][n(440)]===n(286)?null:void console[n(370)](n(297)+this[n(432)].keySystem)},I[_]=function(t){var n,i,r=Oe,e=this[r(432)][r(366)][t];return"cbcs"===e.encryption?(n=new E([16].concat(Kt(e.iv))),i=25):(n=new E([]),i=0),S[r(411)](S[r(204)].tenc,new E([1,0,0,0,0,i,1,this[r(199)][t]].concat(Kt(e[r(479)]),Kt(n))))},I[b]=function(t){return S[Oe(411)](S.types.saiz,new E([0,0,0,0,t,0,0,0,1]))},I[k]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(364)],new E([0,0,0,0,0,0,0,1,t>>>24,t>>>16&255,t>>>8&255,255&t]))},I[A]=function(t,n){var i=Oe,r=null;return t&&(1!==t[i(294)]&&console[i(370)](i(424)+t[i(294)]+i(413)),r=t[0][i(195)]),r&&r[i(442)]?S[i(411)](S[i(204)][i(363)],new E([0,0,0,n?2:0,0,0,0,1].concat(Kt(r)))):S[i(411)](S[i(204)][i(363)],new E([0,0,0,0,0,0,0,1]))},I[T]=function(t,n,i){var r=Oe,e=this[r(216)](t,n,i),u=new E(S[r(341)][r(442)]+e.byteLength);return u.set(S[r(341)]),u[r(311)](e,S[r(341)].byteLength),u},S[t]=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,u=Oe,s=8,o=i.length,a=o;o--;)i[o]&&(s+=i[o].byteLength);for((e=new E(s))[0]=s>>>24,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=255&s,e[u(311)](t,4),o=0,s=8;o<a;++o)i[o]&&(e[u(311)](i[o],s),s+=i[o][u(442)]);return e},S}(Oe(411),Oe(246),Oe(298),Oe(429),Oe(265),Oe(460),Oe(210),Oe(356),Oe(415),Oe(333),Oe(369),Oe(296),Oe(264),Oe(468),Oe(402),Oe(249),Oe(231),Oe(315),Oe(192),Oe(430),Oe(314),Oe(392),Oe(364),Oe(363),Oe(271)),Ke=1,qe=function(t,n,i){function r(){this[Oe(283)]=1}var e=r.prototype;return e[n]=function(){var t=Oe;this[t(274)][t(215)]=0,this.mp4track[t(446)]=[]},e[i]=function(){var t=Oe;return!(!this.readyToDecode||!this[t(446)][t(294)])},r[t]=function(){return Ke++},r}(Oe(209),Oe(250),Oe(258)),Je=function(t){function n(n){var i,r=Oe;return(i=t.call(this)||this)[r(435)]=!0,i[r(223)]=0,i[r(237)]=0,i[r(274)]={id:qe[r(209)](),type:"audio",channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(388),encrypted:!0},i[r(446)]=[],i}It(n,t);var i=n.prototype;return i.resetTrack=function(){var t=Oe;this[t(283)]=1,this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){var r=Oe;if(t.length>0)for(var e=0;e<t[r(294)];e++){var u=t[e],s=u[r(276)],o=s[r(442)];this.samples.push({units:s,size:o,duration:u.duration,sampleAuxInfo:n,timestamp:i}),this[r(274)][r(215)]+=o}},i[Oe(248)]=function(){var t=Oe;if(!this[t(446)])return null;for(var n,i=this[t(274)][t(446)];this.samples[t(294)];){var r=this[t(446)][t(233)](),e=(1e3*r[t(385)]|0)-this.nextDts|0;e<5&&(e=5),this.dts=this.nextDts,this[t(223)]+=e,n={size:r.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(195)]};var u=new E(r.size);return u[t(311)](r.units,0),i.push(n),new E(u.buffer,0,r[t(483)])}return null},n}(qe),Qe=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this)||this)[e(435)]=!1,r.nextDts=0,r[e(237)]=0,r[e(477)]=i,r.mp4track={id:qe[e(209)](),type:e(434),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(446)]=[],r[e(220)]=new ze(r),r}It(n,t);var i=n.prototype;return i[Oe(426)]=function(){var t=Oe;this[t(283)]=1,this.readyToDecode=!1,this[t(274)].sps="",this[t(274)][t(362)]="",this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){for(var r=Oe,e=0;e<t.length;e++){for(var u=t[e],s=[],o=0,a=0,c=u[r(276)];a<c.length;a++){var h=c[a];this.h264[r(368)](h)&&(s[r(462)](h),o+=h.getSize())}s[r(294)]>0&&this[r(435)]&&(this[r(274)][r(215)]+=o,this[r(446)][r(462)]({units:s,size:o,keyFrame:u.keyFrame,duration:u[r(191)],sampleAuxInfo:n,timestamp:i}))}},i[Oe(248)]=function(){var t=Oe;if(!this[t(258)]()||!this.samples)return null;var n,i=this[t(274)][t(446)],r=this.samples[t(233)](),e=r[t(276)],u=(1e3*r.timestamp|0)-this[t(223)]|0;u<5&&(u=5),f[t(251)]&&u>5e3&&console[t(383)]("timestamp gap: "+(u/1e3|0)+" s"),this[t(237)]=this[t(223)],this.nextDts+=u,n={size:r[t(483)],duration:u,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(275)]?0:1,dependsOn:r.keyFrame?2:1},sampleAuxInfo:r[t(195)]};for(var s=0,o=0;o<e.length;o++)s+=e[o][t(349)]();for(var a=0,c=new E(s),h=0;h<e.length;h++){var v=e[h];c[t(311)](v[t(343)](),a),a+=v[t(349)]()}return i[t(462)](n),new E(c[t(492)],0,s)},n}(qe),$e=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this,e(345))||this).initialized=!1,r.trackTypes=[],r[e(414)]={},r[e(393)]=1e3,r.mediaDuration=0,r[e(477)]=n,r[e(375)]=i,r}It(n,t);var i=n.prototype;return i.addTrack=function(t){var n=Oe;(t===n(434)||"both"===t)&&(this[n(414)][n(434)]=new Qe(this[n(393)],this.videoElement),this[n(480)][n(462)](n(434))),(t===n(451)||t===n(303))&&(this[n(414)][n(451)]=new Je(this.timescale),this[n(480)][n(462)](n(451)))},i.reset=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n];this[t(414)][r][t(426)]()}this[t(489)]=!1},i[Oe(355)]=function(){var t=Oe;this[t(414)]={},this[t(490)]()},i[Oe(250)]=function(){var t=Oe;if(this[t(489)])for(var n=0,i=this[t(480)];n<i.length;n++)for(var r=i[n],e=this[t(414)][r];;){var u=e.getFramePayload();if(!u||!u[t(442)])break;var s={type:r,payload:Fe(this[t(375)][t(460)](e[t(283)]++,e[t(237)],e[t(274)]),this[t(375)][t(458)](u)),dts:e[t(237)]};this[t(255)](t(492),s),e[t(250)]()}else this[t(258)]()&&(this[t(255)](t(205)),this[t(271)](),this[t(489)]=!0,this[t(250)]())},i.initSegment=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n],e=this[t(414)][r],u={type:r,payload:this[t(375)][t(271)]([e[t(274)]],this[t(433)],this[t(393)])};this.dispatch(t(492),u)}},i.isReady=function(){for(var t=Oe,n=0,i=this.trackTypes;n<i.length;n++){var r=i[n];if(!this[t(414)][r][t(435)]||!this[t(414)][r].samples[t(294)])return!1}return!0},i[Oe(406)]=function(t){for(var n=Oe,i=0,r=this[n(480)];i<r.length;i++){var e=r[i],u=t[e];u.length>0&&this[n(414)][e][n(406)](u,e===n(451)?t[n(225)]:t.videoSampleAuxInfo,t[n(385)])}this.flush()},n}(Ye),tu=function(t){function n(n,i,r){var e,u=Oe;return(e=t.call(this,u(492))||this)[u(469)]=i,e.queue=new E,f[u(319)]&&(e[u(254)]=new E,e[u(404)]=0),e.sourceBuffer=n,e[u(218)]=r,e[u(197)]=!1,e[u(310)].addEventListener(u(370),(function(t){var n=u;console.warn(n(201),t,e.type),e[n(197)]=!0,e[n(255)](n(370),{type:e[n(469)],name:"buffer",error:n(292)})})),e}It(n,t);var i=n.prototype;return i[Oe(355)]=function(){var t=Oe;this[t(401)]=null,this[t(254)]=null;try{this.sourceBuffer&&(this[t(310)][t(186)](),this[t(218)].removeSourceBuffer(this[t(310)]),this[t(310)]=null)}catch(t){}this.offAll()},i[Oe(475)]=function(){var t=Oe;if(this.queue[t(294)]&&this[t(310)]&&!this[t(310)].updating){if(this[t(310)].buffered[t(294)]>1){for(var n=0;n<this[t(310)].buffered[t(294)];++n){var i=n<this[t(310)].buffered[t(294)]-1;f[t(251)]&&console[t(383)](t(445)+n+(i?" (remove)":"")+": "+this[t(310)][t(269)][t(326)](n)+t(325)+this[t(310)][t(269)][t(376)](n)),i&&this.sourceBuffer[t(482)](this[t(310)][t(269)].start(n),this[t(310)].buffered[t(376)](n))}if(this.sourceBuffer[t(378)])return}try{this[t(310)][t(491)](this[t(401)]),this.queue=new E}catch(n){this[t(255)](t(370),{type:this[t(469)],name:t(352),error:n})}}},i[Oe(371)]=function(t){var n=Oe;if(this[n(254)]&&(this.dbgQueue=Fe(this[n(254)],t),100==++this[n(404)])){var i=(new Date)[n(344)]().substring(0,19)[n(454)](":","-"),r=this.type+"-"+i+".mp4";f.downloadToFile(this[n(254)],r),this[n(254)]=null}this[n(197)]||(this[n(401)]=Fe(this[n(401)],t)),this.doAppend()},n}(Ye),nu=function(t){function n(n){var i,r=Oe;return(i=t.call(this,r(397))||this)[r(197)]=!1,i[r(410)]=!0,i[r(466)]=!1,i[r(234)]=!1,i.mseEnded=!1,i[r(379)]=b[r(189)]({},{node:"",mode:"video",debug:!1,onReady:function(){},onError:function(t){}},n),i[r(450)]=U(i.options[r(450)])===r(302)?v[r(472)](i.options.node):i[r(379)].node,i[r(432)]=n.drm,i.mp4=new je(i.drm),i[r(423)]=new $e(i.node,i[r(375)]),i[r(423)].addTrack(i[r(379)][r(461)]),i[r(423)].on(r(492),i[r(456)].bind(i)),i[r(423)].on(r(205),i[r(382)][r(308)](i)),i.initBrowser(),i}It(n,t);var i=n.prototype;return i[Oe(322)]=function(){var t=Oe;U(this.options.node)===t(302)&&""==this.options[t(450)]&&console[t(370)](t(473)),this[t(234)]=!1,this.setupMSE()},i.setupMSE=function(){var t=Oe;if(!f[t(202)]&&!f[t(384)])throw t(452);f.ManagedMediaSource?(this.node[t(427)]=!0,this[t(327)]=new ManagedMediaSource):this[t(327)]=new MediaSource,this[t(284)]=URL[t(244)](this[t(327)]),this.node[t(485)]=this[t(284)],this[t(277)]=!1,this[t(327)][t(331)](t(338),this.onMSEOpen[t(308)](this)),this.mediaSource.addEventListener("sourceclose",this[t(241)][t(308)](this)),this[t(327)][t(331)]("webkitsourceopen",this[t(194)][t(308)](this)),this.mediaSource[t(331)](t(240),this[t(241)].bind(this)),this[t(327)][t(331)]("error",(function(n){var i=t;console[i(370)](i(287),n[i(226)])}))},i[Oe(227)]=function(){var t=Oe;if(!this[t(277)])try{this.mseEnded=!0,this[t(327)][t(185)]===t(399)&&this[t(327)][t(261)]()}catch(n){console[t(370)]("mediasource is not available to end: ",n)}},i[Oe(359)]=function(){this[Oe(410)]=!0},i[Oe(371)]=function(t){var n=Oe,i={video:[],audio:[]};if(this[n(197)]||this[n(277)]||!t||!this[n(423)])return-1;if(t[n(434)]){i.timestamp=t.timestamp;var r=this[n(190)](t.videoSampleAuxInfo,this.mp4[n(199)][n(434)]),e=r!=t[n(434)][n(442)],u=ze[n(360)](t[n(434)],e);if(!u[n(206)]||u[n(260)].length<1)return 0;if(this.waitingForIdr){if(!u[n(412)])return 0;this[n(410)]=!1}if(!Ve&&t[n(278)]){var s=u[n(260)][n(188)]((function(t,i){return t+4+i[n(442)]}),0);s!==r&&this[n(400)](t[n(278)],this.mp4[n(199)][n(434)],s-r)}i[n(434)]=this[n(335)](u[n(260)]),i[n(278)]=t[n(278)]}return t[n(451)]&&(i[n(385)]=t[n(385)],i[n(451)]=[{units:t.audio}],i.audioSampleAuxInfo=t[n(225)]),t[n(434)]||t[n(451)]?(this[n(423)][n(406)](i),0):(console.error(n(361)),0)},i[Oe(335)]=function(t){for(var n=Oe,i=[],r=[],e=!1,u=!1,s=0;s<t.length;s++){var o=t[s],a=new Ge(o);a.type()!==Ge.IDR&&a[n(469)]()!==Ge.NDR||ze[n(448)](a),i[n(294)]&&u&&(a[n(387)]||!a[n(495)])&&(r[n(462)]({units:i,keyFrame:e}),i=[],e=!1,u=!1),i[n(462)](a),e=e||a[n(459)](),u=u||a[n(495)]}if(i[n(294)])if(u)r[n(462)]({units:i,keyFrame:e});else{var c=r[n(294)]-1;c>=0&&(r[c].units=r[c][n(276)].concat(i))}return 1!==r[n(294)]&&console[n(230)](n(207)+r[n(294)]),r},i[Oe(190)]=function(t,n){var i=Oe;if(!t)return 0;for(var r=(t[0]<<8)+t[1],e=n+2+4,u=0,s=2;0<r&&s+e<=t[i(442)];){var o=(t[s+=n]<<8)+t[s+1],a=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,u+=o+a}return u},i.patchSampleAuxinfo=function(t,n,i){var r=Oe,e=2;if(0<(t[0]<<8)+t[1]&&e+(n+2+4)<=t[r(442)]){var u=(t[e+=n]<<8)+t[e+1];(u+=i)>=0&&(t[e]=u>>>8&255,t[e+1]=255&u)}return 0},i[Oe(382)]=function(){var t=Oe;if(this[t(234)]&&this[t(423)]&&this[t(423)].isReady()&&!this.bufferControllers)for(var i in this.bufferControllers={},this[t(423)][t(414)]){var r=this[t(423)][t(414)][i],e="".concat(i,t(317))[t(365)](r[t(274)][t(449)],'"');if(f.clRtcDrmDebugLog&&console[t(383)](t(312),e),!n[t(408)](e))return console[t(370)](t(372)),!1;var u=this[t(327)][t(350)](e);this[t(398)][i]=new tu(u,i,this[t(327)]),this.bufferControllers[i].on(t(370),this[t(403)][t(308)](this))}},i[Oe(313)]=function(){var t=Oe;for(var n in this[t(398)])this[t(398)][n].doAppend()},i.onBuffer=function(t){var n=Oe;this[n(234)]&&this[n(398)]&&this[n(398)][t.type]&&this[n(398)][t[n(469)]][n(371)](t[n(214)])},i[Oe(194)]=function(){var t=Oe;f[t(251)]&&console.info("[MSE] sourceopen"),this[t(327)][t(185)]!==t(281)&&(this.mediaSource.duration=Number[t(391)],this[t(234)]=!0,"function"==typeof this[t(379)][t(336)]&&this[t(379)].onReady[t(394)](null,this[t(466)]),URL[t(235)](this.url),this[t(382)]())},i[Oe(241)]=function(){var t=Oe;f.clRtcDrmDebugLog&&console[t(383)](t(441)),this.mseReady=!1,this[t(227)]()},i[Oe(403)]=function(t){var n=Oe;console.warn(n(351),t),this.irrecoverableError=!0,this[n(227)](),"function"==typeof this[n(379)][n(266)]&&this[n(379)][n(266)][n(394)](null,t)},n.isSupported=function(t){var n=Oe;return f[n(202)]?f.ManagedMediaSource[n(497)](t):!!f[n(384)]&&f.MediaSource[n(497)](t)},n}(Ye);function iu(t,n){var i=ru();return(iu=function(t,n){return i[t-=222]})(t,n)}function ru(){var t=["Sv","1634635aeNfVS","4rWkceo","1051qHPzyB","314juHkBI","7752096GfpyFE","1023208nKrJjX","2137269uUqtNM","303058KNxeBb","1097196nHglzA"];return(ru=function(){return t})()}!function(){for(var t=iu,n=ru();;)try{if(A(t(228))/1*(-A(t(229))/2)+-A(t(222))/3*(A(t(227))/4)+A(t(226))/5+A(t(224))/6+A(t(223))/7+-A(t(231))/8+A(t(230))/9==409100)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var eu=uu;function uu(t,n){var i=cu();return(uu=function(t,n){return i[t-=460]})(t,n)}!function(){for(var t=uu,n=cu();;)try{if(-A(t(471))/1*(-A(t(474))/2)+A(t(479))/3+A(t(473))/4*(A(t(461))/5)+A(t(487))/6+-A(t(467))/7+-A(t(482))/8+-A(t(464))/9==139726)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var su="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8"+eu(462)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+eu(460)+eu(476)+eu(480)+eu(484)+eu(485)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A"+eu(475)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+eu(477),ou=E[eu(478)](f[eu(470)](su),(function(t){return t.charCodeAt(0)})),au=function(){function t(t){this[eu(488)]=t}var n=t.prototype;return n[eu(469)]=function(){return this[eu(488)]},n[eu(483)]=function(){var t=eu;switch(this[t(488)]){case t(489):return"https://lic.staging.drmtoday.com";case t(465):return t(481);default:return t(466)}},n.certificate=function(){return ou},t}();function cu(){var t=["development","https://lic.drmtoday.com","462553oMrSQp","Staging","toString","atob","20047HjYCpd","Development","52chMPdC","6mbMcSk","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","from","146355HhTpSB","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","https://lic.test.drmtoday.com","501688OkVRMl","baseUrl","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Production","1063410zFUyaf","name","staging","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","93365ZJpndd","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","production","2343546YgIYCY"];return(cu=function(){return t})()}function hu(t,n){var i=fu();return(hu=function(t,n){return i[t-=325]})(t,n)}function fu(){var t=["1052499bnJBHn","cenc","4222tSxFth","Unsupported SampleAuxInfo version","12980Tusgux","3160ZwXFcU","40030ewyARR","16lkTHRT","1199124lbwxEr","data","105TSrukA","getUint8","12bBEpge","SampleAuxInfo corrupted (postfix not found)","getUint16","error","85265ZYYyUv","buffer","3616548TKdsLX","subarray","byteLength","SampleAuxInfo corrupted"];return(fu=function(){return t})()}function vu(t,n){var i=wu();return(vu=function(t,n){return i[t-=295]})(t,n)}au[eu(468)]=new au(eu(489)),au[eu(486)]=new au(eu(463)),au[eu(472)]=new au(eu(465)),function(){for(var t=hu,n=fu();;)try{if(A(t(328))/1+-A(t(332))/2*(-A(t(336))/3)+-A(t(338))/4*(-A(t(342))/5)+-A(t(344))/6+-A(t(326))/7*(A(t(333))/8)+A(t(334))/9+A(t(331))/10*(A(t(330))/11)==358550)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(),function(){for(var t=vu,n=wu();;)try{if(A(t(305))/1*(-A(t(297))/2)+-A(t(295))/3+A(t(310))/4*(A(t(309))/5)+-A(t(304))/6*(A(t(296))/7)+A(t(307))/8*(-A(t(298))/9)+-A(t(301))/10*(A(t(302))/11)+-A(t(300))/12*(-A(t(308))/13)==178039)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var du=[],lu=null,gu=0;function wu(){var t=["31476hbBsvr","850RxzAPl","4180KczaCN","push","156MUFuvQ","96571jvhWaB","buffer","26232BkewNd","4303YGAqiP","5yhGpFn","1137036pzCnTd","1035942NcoZLh","94073eTaQjy","2bXtEms","414snfiTE","slice"];return(wu=function(){return t})()}var mu=ku;function yu(){var t=["Data does not seem to be UTF-16 encoded!","No init data available!","getElementsByTagName","min","14BFNrBA","keystatuseschange","catch","childNodes","internal-error","Failed to reuse previous EME session: ","output-downscaled","expired","bind","5576688EKOFOG","has","length","License acquisition failed with error ","arrayBuffer","apply","CDM error generating license request: ","<Challenge","No PR challenge data!","then","license","createSession","warn","[PR] License fetched:","text/xml","clRtcDrmDebugLog","push","encode","max","json"," is not ","replace","target","rtcdrmerror","update","fromCharCode","subarray","2993694njpqat","4002692oINhTV","Content-Type","1347492MkzfDC","Data has an incorrect length, must be even.","addEventListener","buffer","onFetch","generateRequest","initData","dispatchEvent","atob","No clear key test key provided!","Challenge","New lic will be requested","oct","BYTES_PER_ELEMENT","sessionId","usable for decryption (status: ","[WV] License fetched:","Key ","5MtuOVr","byteLength","744563CKOUzg","load","floor","error","decode","indexOf","info","isSafari","edef8ba979d64acea3c827dcd51d21ed","mediaKeys","Previous lic will be reused","charCodeAt","licenseUrl","status","Failed to update the session: ","log","keyStatuses","temporary","9a04f07998404286ab92e65be0885f95","output-restricted","nodeValue","btoa","message","EME createSession() failed - no DRM available","5977680uUTwUr","getUint16","[PR] Challenge node not found","A128KW","3974463jrELhf","Failed to update the session","stringify","[EME]","delete","No media keys for media element!","set","2nMQfRz"];return(yu=function(){return t})()}!function(){for(var t=ku,n=yu();;)try{if(-A(t(419))/1*(A(t(454))/2)+A(t(495))/3+A(t(496))/4*(-A(t(417))/5)+-A(t(498))/6*(-A(t(459))/7)+A(t(468))/8+-A(t(447))/9+A(t(443))/10==555073)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var pu={licenseUrl:"",onFetch:void 0},_u={},bu=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=ku,e=E[r(511)];n*=e,i*=e;var u,s=(u=t)instanceof ArrayBuffer?u:u[ku(501)],o=t[r(418)],a=n,c=k[r(486)](0,k[r(458)](a,o)),h=k[r(458)](c+k[r(486)](i,0),o);return new E(s,c/=e,(h/=e)-c)}(t,n,i)};function ku(t,n){var i=yu();return(ku=function(t,n){return i[t-=417]})(t,n)}var Au=function(t){for(var n=ku,i="",r=0;r<t.length;r++){var e=t[r].toString(16);1==e[n(470)]&&(e="0"+e),i+=e}return i},Tu=null,Su=function(t){var n=ku;return f[n(440)](String[n(493)][n(473)](null,t))[n(489)](/\+/g,"-")[n(489)](/\//g,"_")[n(489)](/=*$/,"")},Eu=function(t,n){var i=ku,r=function(t){var n=ku,i=JSON.parse((new TextDecoder)[n(423)](t));if(console[n(434)]("CK license request:",i),null===Tu)throw new p(n(507));for(var r=[],e=0,u=i.kids;e<u.length;e++){var s=u[e],o={kty:n(510),alg:n(446),kid:s,k:Su(Tu)};r[n(484)](o)}return(new TextEncoder)[n(485)](JSON[n(449)]({keys:r}))}(n.message);n[i(490)][i(492)](r)[i(461)]((function(t){var n=i;console[n(422)](n(448),t)}))},Iu=function(t){for(var n=ku,i=f[n(506)](t[n(489)](/-/g,"+")[n(489)](/_/g,"/")),r=new E(i[n(470)]),e=0;e<i.length;++e)r[e]=i[n(430)](e);return r},Ru=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return ke(void 0,[t,n].concat(Kt(r)),void 0,(function(t,n,i){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=ku,e=new Headers(_u),i&&e.append(r(497),r(482)),u={method:"POST",headers:e,body:n},[4,pu[r(502)]?pu[r(502)](t,u):fetch(t,u)];case 1:if(!(s=o.sent()).ok)throw new p(r(471)+s[r(432)]);return[2,s]}}))}))},Cu=function(t,n){var i=ku;Ru(pu[i(431)],n[i(441)])[i(477)]((function(t){return t[i(487)]()}))[i(477)]((function(t){var r=i;f[r(483)]&&console.info(r(514),t.license);var e=Iu(t[r(478)])[r(501)];n[r(490)][r(492)](e)[r(461)]((function(t){console[r(422)]("Failed to update the session",t)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Nu=function(t,n){var i=ku,r=function(t,n){var i=ku,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=ku;if(!t)return"";var e=t;if(!i&&e.byteLength%2!=0)throw console[r(422)](r(499)),new p(r(455));var u,s=bu(e);if((255===s[0]&&254===s[1]||254===s[0]&&255===s[1])&&(e=s[r(494)](2)),e instanceof ArrayBuffer)u=e;else{var o=new E(e[r(418)]);o[r(453)](bu(e)),u=o[r(501)]}for(var a=k[r(421)](e.byteLength/2),c=new Uint16Array(a),h=new DataView(u),f=0;f<a;f++)c[f]=h[r(444)](2*f,n);return function(t){for(var n=ku,i="",r=0;r<t[n(470)];r+=16e3){var e=t[n(494)](r,r+16e3);i+=String[n(493)].apply(null,e)}return i}(c)}(n,!0);if(e[i(424)](i(475))>-1){var u=r.parseFromString(e,i(482))[i(457)](i(508))[0][i(462)][0][i(439)];if(null===u)throw new p("No PR challenge data!");return Iu(u)}console[i(480)](i(445))}catch(n){t.dispatchEvent(new CustomEvent(i(491),{detail:{message:""+n}})),console.error(n)}return null}(t,n.message);if(null===r)return t[i(505)](new CustomEvent("rtcdrmerror",{detail:{message:"No PR challenge data!"}})),void console.error(i(476));Ru(pu[i(431)],r[i(501)],!0)[i(477)]((function(t){return t[i(472)]()}))[i(477)]((function(r){var e=i;f[e(483)]&&console[e(425)](e(481),r),n[e(490)].update(r)[e(461)]((function(n){var i=e;t[i(505)](new CustomEvent(i(491),{detail:{message:i(433)+n}})),console[i(422)](i(448),n)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent("rtcdrmerror",{detail:{message:""+n}})),console[r(422)](n)}))},Du=function(t,n){var i=ku;Ru(pu[i(431)],n[i(441)])[i(477)]((function(t){var n=i,r=t.text();return f[n(483)]&&console.info("[FPS] License fetched:",t,r),r}))[i(477)]((function(t){var r=i;n[r(490)][r(492)](Iu(t))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},xu=function(t,n){_u[t]=n},Pu=Me[mu(426)],Lu=!Pu,Mu=new Map;function Ou(t){return ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:if(null===t[(n=ku)(504)])throw new p(n(456));if(null===(i=t[n(490)]))throw new p("No media element available!");if(null===(r=i[n(428)]))throw new p(n(452));e=Au(new E(t[n(504)])),u=e+i.id,s=null,Mu[n(469)](u)&&(null!=(s=Mu.get(u))&&s.close(),Mu[n(451)](u)),f[n(483)]&&console[n(425)](n(450),n(s?429:509)),o=null;try{o=r[n(479)](Lu?"persistent-license":"temporary")}catch(t){console[n(434)]("EME createSession(persistent) failed:",t)}if(!o&&Lu){Lu=!1;try{o=r[n(479)](n(436))}catch(t){console[n(422)]("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o[n(500)](n(460),(function(t){var r=n;t[r(490)][r(435)].forEach((function(t,n){var e=r;(t===e(466)||t===e(438)||t===e(465)||t===e(463))&&i[e(505)](new CustomEvent(e(491),{detail:{message:e(515)+Au(new E(n))+e(488)+(e(513)+t+")"),keyId:n}}))}))})),Pu?o.addEventListener(n(441),Du[n(467)](null,i),!1):-1!==e[n(424)](n(427))?o.addEventListener(n(441),Cu[n(467)](null,i),!1):-1!==e[n(424)](n(437))?o[n(500)](n(441),Nu[n(467)](null,i),!1):o.addEventListener("message",Eu[n(467)](null,i),!1),!s)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o[n(420)](s[n(512)])];case 2:return c.sent()?Mu[n(453)](u,o):i.dispatchEvent(new CustomEvent(n(491),{detail:{message:"Failed to load previous EME session"}})),[3,4];case 3:return a=c.sent(),i[n(505)](new CustomEvent(n(491),{detail:{message:n(464)+a}})),[3,4];case 4:return[3,6];case 5:o[n(503)](t.initDataType,t[n(504)]).then((function(){Lu&&Mu[n(453)](u,o)}))[n(461)]((function(t){var r=n;i[r(505)](new CustomEvent(r(491),{detail:{message:r(474)+t}}))})),c.label=6;case 6:return[3,8];case 7:i[n(505)](new CustomEvent(n(491),{detail:{message:n(442)}})),c.label=8;case 8:return[2]}}))}))}var Bu=us;function Vu(){var t=[" too close to seek, ","fpsCertificateUrl","9880640TWxZrg","H264","ignoreAudio","Unable to create Worker!","createMediaKeys(",", restart required: ","/license-proxy-headerauth/drmtoday/RightsManager.asmx","6236Nwzlef","worker","serverCertificateUrl","serverCertificate","seq",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","ClearKey","No valid DRM config found, call rtcDrmConfigure first.","sessionId","toISOString","indexOf","robustness","isInteger","info","includes","Development","slice","16niaptx"," frame","video/mp4","isArray","Android","end","PlayReady","streamType","1772WtcYWF","]: ","Frame gap: ","nextKeyFrameAllowedTime","use rtcDrmFeedFrame to push frames manually","Error recovery attempted","merchant","FairPlay","requestMediaKeySystemAccess(","pipeThrough","/license-server-fairplay/","isChrome","type","MSE (re)init","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","DRM config env value must be one of: ","length","GOP is getting too long, requesting a new key frame","Worker","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","srcObject","RTCRtpScriptTransform","),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=","now"," to ","join","setServerCertificate","audioCapabilities","lastKeyFrameTime","prevSeqNum"," seeking from ",".experiment","clRtcDrmDebugLog","Server certificate fetch failed with error ","isFirefox","org.w3.clearkey","x-dt-custom-data","jitterBufferTarget","playbackRate","enabled","keyFrameNeeded","createEncodedStreams","wvCertificateUrl","key","sai","Discarding corrupted video frame (too small)",'gle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.',"H264 is the only supported video codec.","com.microsoft.playready.recommendation"," will be used","DRM config iv must be an instance of 16-byte long Uint8Array.","encryption","0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdTog","toString","message","status","bytesSinceKey","currentTime","supportsRtpScriptTransform","1585647fRskxG","audioElement","track","sinf","createObjectURL","enqueue","Invalid videoElement, it must be an instance of HTMLVideoElement.","7302558TqFWae","pipeTo","SampleAuxInfo extraction failed (video)","isEdge","keys","not-allowed","rtcdrmerror","btoa","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr",", a1d1f1 is recommended).","reportDiscontinuity","onFetch","keyId","sessionTypes","). Edge only supports PlayReady, Widevine and ClearKey.","audioEncrypted","audioStartTimestamp","frame","videoStartTimestamp","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer","Duplicate/reordered frame, prev seq: ","ClearKey is not supported by Safari.","bind",") not found in [","DRM config robustness can only be one of: ","persistent-license","postMessage","receiver","get","both","jmuxer","Production","Blob","timestamp","cenc","emeConfig","clear","cbcs-1-9","5iKPdqC","isWindows","PlayReady license acquisition might fail without output protection enabled (sessionId is ","). Chrome only supports Widevine and ClearKey.","mediaBufferMs should be an integer.","size","certificate","prLicenseUrl","fpsLicenseUrl","/license-proxy-widevine/cenc/","4572770OAoUlm","BYTES_PER_ELEMENT","then","SW_SECURE_CRYPTO","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","splice","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","videoElement","rtcDrmConfigure did not specify audioElement, audio will be dropped",'audio/mp4; codecs="opus"',"object","Invalid audioElement, it must be an instance of HTMLMediaElement.","keyFrameNeededPosted","debugCreateMediaDump","next","play","6591266VeIbXo","userId","jitterBufferDelayHint",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"dispatchEvent","reduce"," bytes, playback at ","offset","arrayBuffer","waitingForIdr","Widevine","DRM config mediaBufferMs should be an integer.","hwSecurity","authToken","audio"," bytes)","push","licenseUrl","Default transform mode enabled, ","RTCRtpScriptTransform/TransformStream will not be created, ","GET","baseUrl","video","trim","7377TdQrIK","3000","playoutDelayHint","catch","fpsCertificate","POSITIVE_INFINITY","/license-server-fairplay/cert/","DRM config:","streams","mediaBufferMs","log","codec","onmessage","Target video element (","Applying pre-configured certificate (","webkitURL","Discarding corrupted video frame (no Annex B startcode)"," requesting a new key frame (latency ","PlayReady might not support '","No target media element!","URL","set","warn","data","config","isSafari","forEach","setMediaKeys","buffered"," - ","keySystem",'data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f',"paused","wvCertificate","a1d1f1","2000","keyFrameRequestInterval","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","error","238HZxcdH","HW_SECURE_ALL","Invalid DRM type (","buffer","x-dt-auth-token","clRtcDrmCreateMediaDump",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"addEventListener",") failed","keyFrameLogCntr","feed","byteLength","kind","purchase","environment","videoCapabilities","requestMediaKeySystemAccess","temporary","). It has to be a string containing a JWT.","value",".. ","string"];return(Vu=function(){return t})()}!function(){for(var t=us,n=Vu();;)try{if(A(t(543))/1*(A(t(512))/2)+A(t(473))/3*(A(t(568))/4)+-A(t(672))/5*(-A(t(634))/6)+-A(t(536))/7+A(t(560))/8*(A(t(627))/9)+-A(t(682))/10+-A(t(449))/11==932877)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Fu=Me[Bu(626)],Uu=Me[Bu(602)],Wu=Me[Bu(498)],Zu=Me[Bu(637)],Xu=Me[Bu(579)],Gu=Me.platform,Hu=Me[Bu(673)],zu=Zu||Xu&&Gu===Bu(564),Yu=1e6*(Uu?82:Wu?220:120),ju=Uu?5e3:2e3,Ku=Uu?1.5:.5;function qu(t){var n=Bu;return(void 0===t?"undefined":U(t))!==n(692)||null===t||t instanceof Element||t instanceof au?t:function(t){var n=Bu;return!!((null==t?void 0:t[n(515)])instanceof ArrayBuffer&&null!=t&&t[n(683)])}(t)?t[n(559)]():Array[n(563)](t)?t[n(454)]((function(t,n,i){return t[i]=qu(n),t}),[]):t instanceof b?b[n(638)](t)[n(454)]((function(n,i){return n[i]=qu(t[i]),n}),{}):t}var Ju=function(t){var n=Bu;this[n(545)]="",this.licenseUrl="",this[n(503)]="",this[n(669)]=[],this[n(497)]=qu(t),this[n(664)]=null,this[n(521)]=0,this[n(571)]=Date.now(),this.videoStartTimestamp=0,this.audioStartTimestamp=0,this.prevSeqNum=-1,this[n(596)]=0,this[n(624)]=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=ju,this.worker=null},Qu=new Map,$u=new E([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),ts=new E([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),ns=new E([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function is(t){var n=Bu,i=!1;if((t[n(497)].video&&"clear"!==t[n(497)].video[n(619)]&&"HW"===t.config[n(471)][n(554)]||t[n(497)][n(463)]&&t[n(497)][n(463)].encryption!==n(670)&&"HW"===t[n(497)][n(463)][n(554)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Bu;void 0!==n&&(t[i(497)][i(482)]=n),(void 0===t[i(497)][i(482)]||t[i(497)].mediaBufferMs<0)&&(t.config[i(482)]=100,Uu?t[i(497)][i(482)]=350:!Wu&&Hu&&(t[i(497)][i(580)]===i(566)||t[i(461)])&&(t[i(497)][i(482)]=1400))}(t,t[n(497)][n(482)]),void 0===t.config.authToken){void 0===t.config[n(450)]&&(t[n(497)][n(450)]=n(525)),void 0===t[n(497)][n(551)]&&(t.config[n(551)]=n(507));var r=f[n(641)](JSON.stringify({userId:t.config[n(450)],sessionId:t[n(497)][n(551)],merchant:t.config[n(574)]}));xu(n(604),r)}else xu(n(516),t.config[n(462)]);for(var e=0,u=[t[n(497)].audio,t[n(497)][n(471)]];e<u.length;e++){var s=u[e];s&&s[n(619)]!==n(670)&&(s[n(646)]||(s[n(646)]=ts),s.iv||(s.iv=ns))}t[n(546)]=void 0,t[n(545)]="",t[n(466)]="";var o,a=t.config[n(526)][n(470)]();if(t[n(497)][n(580)]===n(549)?(t.keySystem=n(603),Tu=$u):t.config.type===n(459)?(t[n(503)]="com.widevine.alpha",Hu&&i&&(t[n(503)]+=n(599)),t.config.wvCertificate?t[n(546)]=t[n(497)][n(506)]:t[n(497)][n(610)]?t[n(545)]=t[n(497)][n(610)]:t[n(546)]=t.config[n(526)][n(678)](),t.config.wvLicenseUrl?t[n(466)]=t[n(497)].wvLicenseUrl:t[n(466)]=a+n(681)):t[n(497)][n(580)]===n(566)?(t[n(503)]=n(616),t[n(497)][n(679)]?t.licenseUrl=t[n(497)][n(679)]:t[n(466)]=a+n(542)):t[n(497)].type===n(575)&&(t.keySystem="com.apple.fps",t.config[n(477)]?t[n(546)]=t[n(497)][n(477)]:t[n(497)][n(535)]?t.serverCertificateUrl=t.config[n(535)]:t[n(545)]=a+n(479)+t[n(497)].merchant,t[n(497)][n(680)]?t[n(466)]=t.config.fpsLicenseUrl:t.licenseUrl=a+n(578)),o={licenseUrl:t[n(466)],onFetch:t.config[n(645)]},pu=o,t[n(669)]=[],t.config[n(580)]!==n(575)){t[n(669)][n(465)]({initDataTypes:[n(668)],sessionTypes:["persistent-license",n(529)]});for(var c=0,h=[t[n(497)][n(471)],t[n(497)][n(463)]];c<h.length;c++){var v=h[c];if(v&&v.encryption!==n(670)){var d=v==t[n(497)][n(471)]?n(471):n(463),l=void 0;t[n(497)][n(580)]===n(459)?l="HW"===v[n(554)]?n(513):n(685):"PlayReady"===t[n(497)][n(580)]&&(l="HW"===v.robustness?n(474):n(508)),d===n(471)?t[n(669)][0][n(527)]=[{contentType:'video/mp4; codecs="avc1.640032"',encryptionScheme:"cenc"===v[n(619)]?n(668):"cbcs-1-9",robustness:l||void 0}]:t[n(669)][0][n(595)]=[{contentType:n(691),encryptionScheme:v[n(619)]===n(668)?"cenc":n(671),robustness:l||void 0}]}}}else t[n(669)]=[{initDataTypes:[n(630)],videoCapabilities:[{contentType:n(562),robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:n(639),sessionTypes:["temporary"]}];f[n(600)]&&console.info(n(480),t)}function rs(t){var n=Bu;f[n(600)]&&console[n(556)](n(581));var i=t[n(497)].videoElement;(!t[n(497)][n(471)]||t.config[n(471)][n(619)]===n(670))&&(i=t.config.audioElement),t[n(664)]=null;var r=!t.ignoreAudio&&t[n(497)][n(463)]&&"clear"!==t[n(497)].audio[n(619)],e=t[n(497)][n(471)]&&t.config.video[n(619)]!==n(670);t[n(624)]=0,t[n(608)]=!0,t.keyFrameNeededPosted=!1,t[n(509)]=ju,t[n(652)]=0,t[n(650)]=0,t[n(597)]=-1,t[n(596)]=0,t.jmuxer=new nu({node:i,mode:r?n(e?663:463):"video",fps:60,drm:t}),Wu&&t[n(497)].videoElement&&t[n(497)][n(689)][n(448)]()[n(684)]((function(){}))[n(476)]((function(){}))}function es(t,n,i){var r=Bu;if(t[r(497)][r(471)]&&"clear"===t.config[r(471)][r(619)])return null==i||i[r(632)](n),!1;var e=Date[r(591)]();if(n.type===r(611)){var u=f[r(600)];++t[r(521)]<(u?Number[r(478)]:5)&&(console[r(556)]((new Date)[r(552)]().slice(11,-1)+" "+n[r(580)]+", "+(n[r(496)].byteLength+r(455)+t[r(497)][r(689)][r(625)])),u&&1===t[r(521)]&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Bu,e=new E(t[r(496)]),u="",s=0,o=0;o<n&&o<e[r(584)];++o)u+=(e[o]<16?"0":"")+e[o].toString(16)+" ";if(s<e[r(584)])for(s<e[r(584)]-i&&(u+=r(532),s=e[r(584)]-i);s<e[r(584)];s++)u+=(e[s]<16?"0":"")+e[s][r(621)](16)+" ";console.info("["+((t[r(580)]||r(463))+r(561))+r(569)+u[r(472)]())}(n,128,8)),t[r(608)]=!1,t[r(624)]=0,t[r(571)]=e+t[r(509)]}return t[r(624)]+=n.data[r(523)],!t[r(608)]&&t[r(624)]>Yu&&(console[r(556)](r(585)),t[r(608)]=!0),t.jmuxer&&(function(t,n){var i=Bu;0===t[i(652)]&&(t[i(652)]=n[i(667)],t[i(509)]=ju,t[i(571)]=Date[i(591)]()+2e3);var r=null,e=!1;if(n.data[i(523)]<=4)console[i(495)](i(613)),e=!0;else{var u=new E(n[i(496)],0,4);0!=u[0]||0!=u[1]||0!=u[2]||1!=u[3]?(console[i(495)](i(489)),e=!0):!(r=function(t,n){var i=hu,r=new DataView(t[i(335)]),e=t.data[i(346)]-2,u=r[i(340)](e);if(u<e){var s=e-u;if(69!==r[i(337)](e-1))return console[i(341)](i(339)),null;if(r.getUint8(s++)>>>4!=1)return console[i(341)](i(329)),null;for(var o=new E(u-2),a=0,c=0;s<e-1;){var h=r.getUint8(s++);c>1&&3===h&&(c=0,h=r.getUint8(s++)),0!==h?c=0:++c,o[a++]=h}var f=new DataView(o[i(343)]),v=n===i(327)?16:0,d=v+2+6*f.getUint16(v);return d+2>a?(console.error(i(325)),null):{sai:o[i(345)](0,d),offset:e-u,seq:f.getUint16(d)}}return null}(n,t[i(497)][i(471)][i(619)]))&&(console.warn(i(636)),e=!0)}if(r)if(-1===t[i(597)]){if(n[i(580)]!==i(611))return 0;t[i(597)]=r[i(547)]}else{var s=r.seq-t[i(597)];if(s<-32767&&(s+=65536),s<=0)return f[i(600)]&&console[i(495)](i(654)+t[i(597)]+", curr: "+r[i(547)]),0;s>1&&(e=n[i(580)]!==i(611),console[i(495)](i(570)+t[i(597)]+i(502)+r[i(547)]+i(541)+e)),t.prevSeqNum=r[i(547)]}var o=0;e&&!t[i(664)][i(458)]&&(o=-1,t[i(664)][i(644)]());var a=(n[i(667)]-t[i(652)])/9e4;return r&&t[i(664)][i(522)]({video:new E(n.data,0,r[i(456)]),videoSampleAuxInfo:r[i(612)],timestamp:a})<0&&(o=-1,console[i(495)](i(573)),rs(t)),o>=0&&"key"===n[i(580)]&&(t[i(596)]=a,console[i(483)]((new Date)[i(552)]()[i(559)](11,-1)+" kf at "+a+", playback at "+t[i(497)].videoElement[i(625)])),o}(t,n)<0?t[r(608)]=!0:function(t){var n=Bu,i=t.config[n(689)];if(!(!i||i[n(501)][n(584)]<1||i[n(505)]||i[n(625)]<Ku)){var r=t[n(497)].mediaBufferMs;if(void 0===r||r<0)throw new p("targetLatency not set!");var e,u,s,o,a,c=i[n(501)][n(565)](i[n(501)][n(584)]-1),h=1e3*(c-i[n(625)])|0;if(!t[n(649)]&&(a=Bu,(o=(u=h)<3*(s=r)>>>2?.875:u<=s?1:u<7*s>>>2?1.125:u<9*s>>>2?1.25:u<11*s>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[a(606)]=o)),!(h<r+50||h<5*r>>>2))if(t.lastKeyFrameTime>i[n(625)]+.1){var v=1e3*(c-t[n(596)])|0;v>40&&v>r-100?(f[n(600)]&&console.info((new Date).toISOString().slice(11,-1)+n(598)+(i[n(625)]+n(592)+t[n(596)]+" (")+(t.lastKeyFrameTime-i[n(625)])+")"),i[n(625)]=t[n(596)]):console[n(483)]((new Date)[n(552)]().slice(11,-1)+n(534)+v)}else!t[n(608)]&&Date[n(591)]()>t[n(571)]&&h>r+100&&h>3*r>>>1&&(f[n(600)]&&console[n(556)]((new Date).toISOString()[n(559)](11,-1)+n(490)+h+" ms)"),t[n(608)]=!0,t[n(509)]<16e3&&(t[n(509)]<<=1))}}(t)),i?(!t[r(608)]||!zu)&&(n[r(496)]=function(t){return!lu&&function(){var t=vu;lu=new E([0,0,0,1,65,154,255,255]).buffer,du[t(303)](new E([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[t(306)]),du[t(303)](du[0][t(299)](0)),new E(du[1]).set([16,0,50],27)}(),t?lu:du[gu^=1]}(t[r(608)]),i[r(632)](n)):t[r(608)]!=t[r(445)]&&(t.worker&&t[r(544)][r(660)](t[r(608)]),t[r(445)]=t[r(608)]),t[r(608)]}function us(t,n){var i=Vu();return(us=function(t,n){return i[t-=445]})(t,n)}function ss(t,n,i){var r=Bu;return t[r(497)][r(463)]&&t[r(497)].audio[r(619)]!==r(670)?n[r(496)][r(523)]>0&&function(t,n){var i,r=Bu;if(!t.jmuxer||t[r(538)])return 0;0===t[r(650)]&&(t[r(650)]=n[r(667)]);var e=(n[r(667)]-t.audioStartTimestamp)/48e3;if("cbcs"===(null===(i=t.config[r(463)])||void 0===i?void 0:i[r(619)]))return t[r(664)][r(522)]({audio:new E(n[r(496)]),timestamp:e});var u=function(t){var n=hu,i=new DataView(t.data),r=t.data[n(346)]-2,e=i.getUint16(r);if(e<r){var u=r-e;if(69!==i[n(337)](r-1))return console[n(341)](n(339)),null;if(i[n(337)](u++)>>>4!=1)return console[n(341)](n(329)),null;for(var s=new E(e-2),o=0;u<r-1;){var a=i[n(337)](u++);if(s[o++]=a,o>=16)break}return{sai:s,offset:r-e}}return null}(n);u?t[r(664)][r(522)]({audio:new E(n[r(496)],0,u[r(456)]),audioSampleAuxInfo:u[r(612)],timestamp:e}):console[r(511)]("SampleAuxInfo extraction failed (audio)")}(t,n):i&&i[r(632)](n),!1}function os(t){var n=Bu;if(!t||(void 0===t?"undefined":U(t))!==n(692))throw new _("Invalid config argument type, DRM config must be an object.");if(!(t[n(689)]instanceof HTMLVideoElement))throw new _(n(633));if(t[n(628)]&&!(t.audioElement instanceof HTMLMediaElement))throw new _(n(693));if(void 0!==t[n(482)]&&!Number[n(555)](t[n(482)]))throw new _(n(460));for(var i=!1,r=!1,e=!1,u=["cbcs",n(668),n(670)],s=["SW","HW"],o=0,a=[t[n(471)],t[n(463)]];o<a.length;o++){var c=a[o];if(c){if(!u[n(557)](c[n(619)]))throw new RangeError("DRM config encryption value must be one of: "+u[n(593)](", "));if(Wu&&"cenc"===c.encryption)throw new RangeError(n(688));if(c[n(619)]!==n(670)){if(r=!0,c.keyId){if(!(c[n(646)]instanceof E)||16!==c.keyId[n(584)])throw new _("DRM config keyId must be an instance of 16-byte long Uint8Array.");e=!0}else if(Wu)throw new ReferenceError(n(655));if(c.iv&&(!(c.iv instanceof E)||16!==c.iv.length))throw new _(n(618));if(c[n(554)]&&!s[n(557)](c.robustness))throw new RangeError(n(658)+s[n(593)](", "));if(c===t[n(471)]&&c[n(484)]!==n(537))throw new RangeError(n(615));Wu&&c===t.audio&&"opus"===c.codec&&(i=!0,console.warn("Safari does not support Opus, audio will not be rendered.")),"PlayReady"===t[n(580)]&&(c[n(619)]!==n(668)&&console[n(495)](n(491)+c[n(619)]+"', it's safer to use 'cbcs' instead."),void 0===t.sessionId||t.sessionId[n(557)]("f1")||console.warn(n(674)+t.sessionId+n(643)))}}}if(r){var h=[au[n(558)],au.Staging,au[n(665)]];if(!h.includes(t[n(526)]))throw new RangeError(n(583)+h.join(", "));if(t[n(462)]&&U(t[n(462)])!==n(533))throw new _("Invalid authToken type ("+U(t[n(462)])+n(530));if(t.type)if(Wu){if(t[n(580)]!==n(575))throw new RangeError(n(514)+t[n(580)]+"). Safari only supports FairPlay.")}else if(Xu){if(t.type!==n(459)&&"ClearKey"!==t[n(580)])throw new RangeError("Invalid DRM type ("+t.type+n(675))}else if(Zu&&t[n(580)]!==n(566)&&"Widevine"!==t[n(580)]&&"ClearKey"!==t[n(580)])throw new RangeError(n(514)+t.type+n(648))}void 0!==t.debugLog&&(f[n(600)]=t.debugLog),void 0!==t[n(446)]&&(f[n(517)]=t[n(446)]);var v=Qu.get(t[n(689)]);!v&&(v=new Ju(t),Qu[n(494)](t[n(689)],v)),v.enabled=r,v[n(538)]=i,v[n(649)]=!i&&v[n(497)][n(463)]&&v[n(497)].audio.encryption!==n(670),r&&(v[n(497)].type||(v[n(497)][n(580)]=n(Wu?575:459)),e||v[n(497)][n(580)]===n(549)||(v[n(497)][n(580)]=n(549)),is(v),function(t){ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a,c,h,v,d,g,w,m,y;return Ot(this,(function(_){switch(_.label){case 0:if(e=t[(n=us)(497)][n(689)],(!t[n(497)][n(471)]||t[n(497)][n(471)].encryption===n(670))&&(e=t[n(497)][n(628)]),!e)throw new p(n(492));return e.src="",e[n(588)]=null,[4,e.setMediaKeys(null)];case 1:_.sent(),u=null,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,l[n(528)](t[n(503)],t.emeConfig)];case 3:return u=_.sent(),[3,5];case 4:return _.sent(),[3,5];case 5:if(u||!t[n(669)][0])return[3,9];if(!(void 0!==(s=null===(i=t[n(669)][0][n(647)])||void 0===i?void 0:i[n(553)](n(659)))&&s>=0))return[3,9];null===(r=t.emeConfig[0].sessionTypes)||void 0===r||r[n(687)](s,1),_.label=6;case 6:return _.trys.push([6,8,,9]),[4,l[n(528)](t[n(503)],t[n(669)])];case 7:return u=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:if(!u)return o=n(576)+t[n(503)]+n(520),[2,(e.dispatchEvent(new CustomEvent(n(640),{detail:{message:o}})),void console[n(511)](o))];a=null,_.label=10;case 10:return _.trys.push([10,12,,13]),[4,u.createMediaKeys()];case 11:return a=_.sent(),[3,13];case 12:return _.sent(),[3,13];case 13:return a?t.serverCertificate?(f.clRtcDrmDebugLog&&console[n(556)](n(487)+t[n(546)][n(523)]+n(464)),[4,a[n(594)](t[n(546)])]):[3,15]:(c=n(540)+t[n(503)]+n(520),[2,(e[n(453)](new CustomEvent("rtcdrmerror",{detail:{message:c}})),void console[n(511)](c))]);case 14:return _.sent(),[3,21];case 15:if(!t.serverCertificateUrl)return[3,21];h={method:n(469)},v=t.serverCertificateUrl,_.label=16;case 16:return _.trys.push([16,20,,21]),[4,t[n(497)].onFetch?t.config[n(645)](v,h):fetch(v,h)];case 17:return(d=_.sent()).ok?[4,d[n(457)]()]:(g=n(601)+d[n(623)],[2,void e[n(453)](new CustomEvent(n(640),{detail:{message:g}}))]);case 18:return w=_.sent(),f.clRtcDrmDebugLog&&console[n(556)]("Fetched certificate from "+v+", "+w[n(523)]+" bytes"),[4,a[n(594)](w)];case 19:return _.sent(),[3,21];case 20:return m=_.sent(),y=m.name+": "+m[n(622)],[2,(console.error(y),void e[n(453)](new CustomEvent(n(640),{detail:{message:y}})))];case 21:return[4,e[n(500)](a)];case 22:return _.sent(),e[n(519)]("encrypted",Ou),rs(t),[2]}}))}))}(v)),v[n(497)][n(689)][n(519)](n(448),(function(){var t=n;v[t(497)][t(689)][t(625)]>.5&&(v[t(571)]=Date.now())}))}var as=Bu(582)+Bu(587)+Bu(548)+Bu(653)+Bu(590)+Bu(620)+Bu(614)+Bu(504)+Bu(518)+Bu(452)+Bu(642)+Bu(686)+"meNeeded=$.data};";function cs(t){var n,i=Bu;if(0===Qu[i(677)])throw new _(i(550));if(t&&t[i(689)])n=t[i(689)];else{if(1!==Qu.size)throw new _(i(510));n=Qu[i(638)]()[i(447)]()[i(531)]}var r=Qu[i(662)](n);if(!r){var e="";throw Qu[i(499)]((function(t,n){e+=n.id+", "})),e=e.slice(0,-2),new _(i(486)+n.id+i(657)+e+"]")}return r}function hs(t,n){var i=Bu;if(t&&t[i(497)][i(689)]){var r=t[i(497)][i(689)];if(r[i(501)].length>0){var e=r.buffered[i(565)](r[i(501)][i(584)]-1)-r[i(625)];n.playoutDelayHint=n.jitterBufferDelayHint=n.jitterBufferTarget=e}g(hs,1e3,t,n)}}var fs=gt.get("View");fs.setLevel(gt.DEBUG);var vs={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ds=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&fs.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,fs,e)||this).payloadTypeCodec={},u.tracksMidValues={},u.drmOptionsMap=null,u.eventQueue=[],u.isMainStreamActive=!1,r&&(u.on(br.track,(function(t){r.srcObject=t.streams[0]})),fs.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),u}It(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=vs);var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.options=R(w(w({},vs),t),{peerConfig:w(w({},vs.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.eventQueue.length=0,[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),fs.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return fs.info("Viewer adding remote track",t),[4,i.webRTCPeer.addRemoteTrack(t,n)];case 1:for(r=u.sent(),e=0;e<n.length;e++)n[e].addTrack(r.receiver.track);return[2,r]}}))}))()},i.project=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw fs.error("Error in projection mapping, trackId or mediaId must be set"),new p("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw fs.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new p("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return fs.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),fs.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),fs.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return fs.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,m,y;return Ot(this,(function(_){switch(_.label){case 0:if(fs.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw fs.warn("Viewer currently subscribed"),new p("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return e=_.sent(),n.options.peerConfig.iceServers=null==e?void 0:e.iceServers,n.options.peerConfig.encodedInsertableStreams=ve&&(n.options.enableDRM||n.options.metadata),[3,4];case 3:throw u=_.sent(),fs.error("Error generating token."),u instanceof zr&&(401!==u.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),u;case 4:if(!e)throw fs.error("Error while subscribing. Subscriber data required"),new p("Subscriber data required");return s=ee(e.jwt),n.streamName=s.millicast.streamName,o=new Xr({streamName:n.streamName,url:"".concat(e.urls[0],"?token=").concat(e.jwt)}),e.subscriberToken&&(n.subscriberToken=e.subscriberToken),[4,(a=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Wt(a,n,b.values(br).filter((function(t){return t!==br.track}))),n.options.metadata&&(n.worker||(n.worker=new we),n.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){fs.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}}),a.on(br.track,(function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)})),o.on(Zr,Pt((function(t){var i;return Ot(this,(function(r){switch(r.label){case 0:return n.isMainStreamActive||"active"!==t.name?[3,3]:(n.mainSourceId=t.data.sourceId,n.DRMProfile||!t.data.encryption?[3,2]:[4,n.tokenGenerator()]);case 1:(i=r.sent()).drmObject&&(n.DRMProfile=i.drmObject),r.label=2;case 2:for(n.emit(Zr,t),n.isMainStreamActive=!0;n.eventQueue.length>0;)n.onTrackEvent(n.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&n.isMainStreamActive&&n.mainSourceId===t.data.sourceId&&(n.isMainStreamActive=!1),n.emit(Zr,t),[2]}}))}))),c=a.getRTCLocalSDP(R(w({},n.options),{stereo:!0})),h=o.connect(),[4,et.all([c,h])];case 6:return r=_.sent(),f=r[0],v=n.signaling,n.signaling=o,d=n.signaling.subscribe(f,R(w({},n.options),{vad:n.options.multiplexedAudioTracks>0})),l=a.peer.setLocalDescription(a.sessionDescription),[4,et.all([d,l])];case 7:return r=_.sent(),m=r[0],n.payloadTypeCodec=lr.getCodecPayloadType(m),[4,a.setRTCRemoteSDP(m)];case 8:return _.sent(),fs.info("Connected to streamName: ",n.streamName),y=n.webRTCPeer,n.webRTCPeer=a,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;"connected"===t?g((function(){var t,n;null==(t=null==v?void 0:v.close)||t.call(v),null==(n=null==y?void 0:y.closeRTCPeer)||n.call(y),v=y=null,fs.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==v?void 0:v.close)||n.call(v),null==(i=null==y?void 0:y.closeRTCPeer)||i.call(y),v=y=null)})),[2]}}))}))()},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,u=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Bu,u=t[e(629)][e(524)];"video"===u&&(t[e(661)][e(475)]=t[e(661)][e(451)]=t[e(661)][e(605)]=0);var s=cs(n),o=s[e(497)].videoElement,a=s[e(497)][e(628)];if(s[e(607)]){if(s[e(497)].customTransform)f.clRtcDrmDebugLog&&console[e(556)](e(468)+e(572));else if(f[e(600)]&&console[e(556)](e(467)+(e(Fu?589:609)+e(617))),Fu){if(s[e(544)]=function(t){var n=Bu,i=f[n(493)]||f[n(488)],r=f[n(666)],e=f[n(586)];if(!(i&&r&&e&&t))return null;var u=new r([t]);return new e(i[n(631)](u))}(as),null==s[e(544)])throw new p(e(539));s[e(544)][e(485)]=function(t){var n=e;t[n(496)][n(567)]===n(471)?es(s,t[n(496)].frame,null):ss(s,t[n(496)][n(651)],null)},t[e(661)].transform=new RTCRtpScriptTransform(s.worker,{operation:u})}else{var c=u===e(471)?es:ss,h={drm:s,transform:function(t,n){c(s,t,n)}},v=t.receiver.createEncodedStreams(),d=new TransformStream({transform:h.transform[e(656)](h)}),l=v.readable,g=v.writable;l[e(577)](d)[e(635)](g)}if("audio"===u&&(null===(i=s[e(497)][e(463)])||void 0===i?void 0:i.encryption)===e(670)){if(!a)return void console.warn(e(690));a[e(588)]!==t[e(481)][0]&&(a[e(588)]=t[e(481)][0]),s[e(497)].videoElement&&(t[e(661)][e(475)]=t[e(661)].jitterBufferDelayHint=t[e(661)][e(605)]=s[e(497)][e(482)],hs(s,t[e(661)]))}else"video"===u&&"clear"===(null===(r=s.config[e(471)])||void 0===r?void 0:r[e(619)])&&o[e(588)]!==t[e(481)][0]&&(o.srcObject=t.streams[0])}else o[e(588)]!==t[e(481)][0]&&(o.srcObject=t[e(481)][0])}(t,u)}catch(t){fs.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new p("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new we),this.worker.addEventListener("message",(function(t){"complete"===t.data.event&&function(t,n,i){var r=Bu,e=cs(i);t[r(580)]?es(e,t,n):ss(e,t,n)}(t.data.frame,null,u)}))}if(this.options.metadata)if(de)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(ve){var s=t.receiver.createEncodedStreams(),o=s.readable,a=s.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:w({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:a},[o,a])}this.emit(br.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),i.subscriberToken?n.headers.append("Authorization","Bearer ".concat(i.subscriberToken)):fs.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]}))}))()},i.configureDRM=function(t){var n=this;if(!t)throw new p("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:au.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:_e(t.videoEncryptionParams.keyId),iv:_e(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{os(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",(function(t){fs.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new p(t.detail.message))}))}catch(n){fs.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new p("No DRM configuration found for "+t);if(null===r)throw new p("No DRM configuration found for "+n);be(i.video,r.video,"keyId"),be(i.video,r.video,"iv");try{os(i)}catch(t){fs.error("Failed to configure DRM with options:",i,"error is:",t)}try{os(r)}catch(t){fs.error("Failed to configure DRM with options:",r,"error is:",t)}},Nt(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(he);t.Director=Jr,t.Logger=gt,t.PeerConnection=Ar,t.Publish=pe,t.Signaling=Xr,t.View=ds,b.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":U(t))&&(void 0===e?"undefined":U(e))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((u=("undefined"==typeof globalThis?"undefined":U(globalThis))<"u"?globalThis:u||self).millicast={})})),pn=O((function(t){function n(){var t=yn();return n=function(){return t},t}F(),Tt(),b.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)b.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{Director:function(){return n().Director},Logger:function(){return n().Logger},View:function(){return n().View}})})),_n=O((function(t,n){F(),Tt(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),bn=O((function(t,n){F(),Tt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,d=e*o,l=e*a,g=u*s,w=u*o,m=u*a;return t[0]=1-f-l,t[1]=h+m,t[2]=v-w,t[3]=0,t[4]=h-m,t[5]=1-c-l,t[6]=d+g,t[7]=0,t[8]=v+w,t[9]=d-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),kn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=k.sqrt(s*s+o*o+a*a);if(k.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=k.sin(n),e=k.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),An=O((function(t,n){F(),Tt(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),Tn=O((function(t,n){F(),Tt(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Sn=O((function(t,n){F(),Tt(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],d=n[11],l=n[12],g=n[13],w=n[14],m=n[15],y=i*o-r*s,p=i*a-e*s,_=i*c-u*s,b=r*a-e*o,k=r*c-u*o,A=e*c-u*a,T=h*g-f*l,S=h*w-v*l,E=h*m-d*l,I=f*w-v*g,R=f*m-d*g,C=v*m-d*w,N=y*C-p*R+_*I+b*E-k*S+A*T;if(!N)return null;return N=1/N,t[0]=(o*C-a*R+c*I)*N,t[1]=(e*R-r*C-u*I)*N,t[2]=(g*A-w*k+m*b)*N,t[3]=(v*k-f*A-d*b)*N,t[4]=(a*E-s*C-c*S)*N,t[5]=(i*C-e*E+u*S)*N,t[6]=(w*_-l*A-m*p)*N,t[7]=(h*A-v*_+d*p)*N,t[8]=(s*R-o*E+c*T)*N,t[9]=(r*E-i*R-u*T)*N,t[10]=(l*k-g*_+m*y)*N,t[11]=(f*_-h*k-d*y)*N,t[12]=(o*S-s*I-a*T)*N,t[13]=(i*I-r*S+e*T)*N,t[14]=(g*p-l*b-w*y)*N,t[15]=(h*b-f*p+v*y)*N,t}})),En=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],g=n[12],w=n[13],m=n[14],y=n[15],p=i[0],_=i[1],b=i[2],k=i[3];return t[0]=p*r+_*o+b*f+k*g,t[1]=p*e+_*a+b*v+k*w,t[2]=p*u+_*c+b*d+k*m,t[3]=p*s+_*h+b*l+k*y,p=i[4],_=i[5],b=i[6],k=i[7],t[4]=p*r+_*o+b*f+k*g,t[5]=p*e+_*a+b*v+k*w,t[6]=p*u+_*c+b*d+k*m,t[7]=p*s+_*h+b*l+k*y,p=i[8],_=i[9],b=i[10],k=i[11],t[8]=p*r+_*o+b*f+k*g,t[9]=p*e+_*a+b*v+k*w,t[10]=p*u+_*c+b*d+k*m,t[11]=p*s+_*h+b*l+k*y,p=i[12],_=i[13],b=i[14],k=i[15],t[12]=p*r+_*o+b*f+k*g,t[13]=p*e+_*a+b*v+k*w,t[14]=p*u+_*c+b*d+k*m,t[15]=p*s+_*h+b*l+k*y,t}})),In=O((function(t,n){F(),Tt(),n.exports=function(t,n,i,r,e){var u=1/k.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),Rn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,A,T,S,E,I,R,C=r[0],N=r[1],D=r[2],x=k.sqrt(C*C+N*N+D*D);if(k.abs(x)<1e-6)return null;C*=x=1/x,N*=x,D*=x,e=k.sin(i),u=k.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],d=n[6],l=n[7],g=n[8],w=n[9],m=n[10],y=n[11],p=C*C*s+u,_=N*C*s+D*e,b=D*C*s-N*e,A=C*N*s-D*e,T=N*N*s+u,S=D*N*s+C*e,E=C*D*s+N*e,I=N*D*s-C*e,R=D*D*s+u,t[0]=o*p+f*_+g*b,t[1]=a*p+v*_+w*b,t[2]=c*p+d*_+m*b,t[3]=h*p+l*_+y*b,t[4]=o*A+f*T+g*S,t[5]=a*A+v*T+w*S,t[6]=c*A+d*T+m*S,t[7]=h*A+l*T+y*S,t[8]=o*E+f*I+g*R,t[9]=a*E+v*I+w*R,t[10]=c*E+d*I+m*R,t[11]=h*E+l*I+y*R,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),Cn=O((function(t,n){F(),Tt(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g=i[0],w=i[1],m=i[2];n===t?(t[12]=n[0]*g+n[4]*w+n[8]*m+n[12],t[13]=n[1]*g+n[5]*w+n[9]*m+n[13],t[14]=n[2]*g+n[6]*w+n[10]*m+n[14],t[15]=n[3]*g+n[7]*w+n[11]*m+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],d=n[10],l=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=d,t[11]=l,t[12]=r*g+o*w+f*m+n[12],t[13]=e*g+a*w+v*m+n[13],t[14]=u*g+c*w+d*m+n[14],t[15]=s*g+h*w+l*m+n[15]);return t}})),Nn={};!function(t,n){for(var i in n)N(t,i,{get:n[i],enumerable:!0})}(Nn,{ChromelessPlayer:function(){return _M},ErrorCategory:function(){return dd},ErrorCode:function(){return vd},Player:function(){return _M},cache:function(){return P6},cast:function(){return c0},features:function(){return AM},players:function(){return SM},registerContentProtectionIntegration:function(){return EM},utils:function(){return kM},version:function(){return TM}}),h.exports=(wn=Nn,B(N({},"__esModule",{value:!0}),wn)),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt(),F(),Tt();var Dn=function(t){return t.Tv="web",t.Ev="android",t.xv="android-tv",t.Iv="ios",t.Rv="tvos",t.Cv="chromecast",t.Pv="theoliveweb",t}({});var xn=l?l.userAgent:"",Pn=xn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ln=xn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Mn=xn.match(/Android ([0-9\.]+)/i),On=xn.match(/Windows NT ([0-9\.]+)/i),Bn=xn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Vn=xn.match(/Firefox\/([0-9\.]+)/i),Fn=xn.match(/OPR\/(\d+\.\d+)/i),Un=xn.match(/Tizen ([0-9\.]+)/i),Wn=xn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Zn=xn.match(/HbbTV\/([0-9.]+)/i),Xn=function(){function t(){this.Dv=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch||l&&l.msMaxTouchPoints),this.Mv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(xn)||/(macintosh|mac(?=_powerpc)\s)/i.test(xn),this.Bv=/Windows NT/i.test(xn),this.Fv=On?T(On[1]):0,this.Wv=/Android/i.test(xn),this.Gv=Mn?T(Mn[1]):0,this.Hv=/windows phone (8|8\.1)/i.test(xn),this.zv=/iPhone/i.test(xn),this.Yv=/iPad/i.test(xn),this.Qv=this.Mv&&this.Dv&&!this.Yv,this.$v=/iPod/i.test(xn),this.dg=/Mobile Safari/i.test(xn),this.ag=/EOS\d*STB/i.test(xn),this.cg=/APP\d*STB/i.test(xn),this.eg=(this.zv||this.Yv||this.Qv||this.$v)&&!this.Hv,this.og=Wn?T(Wn[2]):0,this.fg=this.Hv||this.eg||this.Wv||this.dg,this.vg=/CriOS/i.test(xn),this.pg=Boolean(self.chrome&&/google/i.test(l.vendor))||this.vg,this.Tg=this.pg&&/Edg\//i.test(l.userAgent),this.xg=Ln?A(Ln[1],10):0,this.Fm=Boolean(/CriOS/i.test(xn)),this.Om=Boolean(self.chrome||/Chrome/i.test(xn)||this.Fm),this.Ag=Pn?A(Pn[1],10):0,this.Cg=/SMART-TV.*Tizen/i.test(xn),this.Dg=Un?T(Un[1]):0,this.yg=this.Dg>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Dg):void 0,this.Mg=/webos|web0s/i.test(xn),this.Bg=/HbbTV/i.test(xn),this.Fg=!!Zn&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Zn[1]),this.Wg=/VIZIO/i.test(xn),this.Gg=/Edge\/\d+/i.test(xn),this.Hg=/Trident/i.test(xn),this.zg=this.Hg&&!self.ActiveXObject&&"ActiveXObject"in self,this.Yg=/Vivaldi/i.test(xn),this.jg=/Firefox/i.test(xn)&&!/Seamonkey/i.test(xn),this.Jg=Vn?T(Vn[1]):0,this.im=/Safari/i.test(xn)&&!/Chrome/i.test(xn)&&!this.Hv&&!this.Cg,this.hm=Bn?T(Bn[2]):0,this.lm=Boolean(Fn),this.fm=Fn?T(Fn[1]):0,this.vm=/CrKey/.test(xn),this.pm=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(xn),this.Am=/PlayStation 4/i.test(xn),this.Tm="web"===Dn.xv,this.xm="web"===Dn.Ev,this.Rm=this.xm||this.Tm,this.Pm="web"===Dn.Iv,this.Nm="web"===Dn.Rv,this.Lm="web"===Dn.Cv}return Nt(t,[{key:"Qe",get:function(){return this.Dv}},{key:"Nv",get:function(){return this.Mv}},{key:"Lv",get:function(){return this.Bv}},{key:"Ov",get:function(){return this.Fv}},{key:"Vv",get:function(){return this.Wv}},{key:"Uv",get:function(){return this.Gv}},{key:"Zv",get:function(){return this.Hv}},{key:"Xv",get:function(){return this.zv}},{key:"qv",get:function(){return this.Yv}},{key:"Kv",get:function(){return this.Qv}},{key:"Jv",get:function(){return this.$v}},{key:"su",get:function(){return this.eg}},{key:"rg",get:function(){return this.og}},{key:"hg",get:function(){return this.ag||this.cg}},{key:"ud",get:function(){return this.dg}},{key:"Qs",get:function(){return this.fg}},{key:"_g",get:function(){return this.vg}},{key:"gg",get:function(){return this.pg}},{key:"wg",get:function(){var t;return null!=(t=this.yg)?t:this.Ag}},{key:"Sg",get:function(){return this.Tg}},{key:"Eg",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.xg>0}},{key:"Ig",get:function(){return this.xg}},{key:"Rg",get:function(){return this.Cg}},{key:"Pg",get:function(){return this.Dg}},{key:"Ng",get:function(){return this.Mg}},{key:"Lg",get:function(){return this.Bg}},{key:"Og",get:function(){return this.Fg}},{key:"Vg",get:function(){return this.Wg}},{key:"Ug",get:function(){return this.Gg}},{key:"Zg",get:function(){return this.Hg}},{key:"Xg",get:function(){return this.zg}},{key:"qg",get:function(){return this.Yg}},{key:"Kg",get:function(){return this.jg}},{key:"Qg",get:function(){return this.Jg}},{key:"$g",get:function(){return this.im}},{key:"nm",get:function(){return 0===this.hm&&Gn.su?this.og:this.hm}},{key:"um",get:function(){return this.lm}},{key:"dm",get:function(){return this.fm}},{key:"_m",get:function(){return this.vm}},{key:"gm",get:function(){return this.pm}},{key:"wm",get:function(){return!(!this.Ng&&!this.Rg)&&this.wg<=56}},{key:"ym",get:function(){return this.Am}},{key:"Sm",get:function(){return this.Tm}},{key:"Em",get:function(){return this.xm}},{key:"Im",get:function(){return this.Rm}},{key:"Cm",get:function(){return this.Pm}},{key:"Dm",get:function(){return this.Nm}},{key:"Mm",get:function(){return this.Lm}},{key:"Bm",get:function(){return this.Om}},{key:"IS_IOS_CHROME",get:function(){return this.Fm}}]),t}();Xn.Vm=new Xn;var Gn=Xn.Vm;F(),Tt(),at();var Hn={}.hasOwnProperty,zn={}.toString;function Yn(t){return null!=t}function jn(t){return void 0===t}var Kn,qn=Array.isArray||function(t){return"[object Array]"===zn.call(t)};function Jn(t){return Qn(t)&&Hn.call(t,"length")&&ei(t.length)}function Qn(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t}function $n(t){return Qn(t)&&t.constructor&&t.constructor===b}function ti(t){return"string"==typeof t}function ni(t){return"boolean"==typeof t}function ii(t){return Yn(t)&&"function"==typeof t.then}function ri(t){return"[object Date]"===zn.call(t)}function ei(t){return"number"==typeof t}function ui(t){return"function"==typeof t}function si(t){return ui(t)||Qn(t)}function oi(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ai(t){for(var n;Yn(n=t.firstChild);)t.removeChild(n)}function ci(t,n){for(var i;Yn(i=t.firstChild);)n.appendChild(i)}function hi(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function fi(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function vi(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=hi(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&fi(t,(i+" "+n).trim())}}function di(t){t.stopPropagation()}function li(t,n){Gn.Rg&&Gn.Pg<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function gi(t,n){var i=n.style;if(i)for(var r=0,e=b.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function wi(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function mi(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function yi(t){t.removeAttribute("title")}function pi(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}F(),Tt(),F(),Tt();var _i=function(){},bi=function(t){return t};function ki(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=Kn.Wm();s-i>=n&&(t.apply(this,e),i=s)}}function Ai(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&Kn.Um(i),i=Kn.Gm((function(){i=0,t.apply(s,e)}),n)}}function Ti(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function Si(t,n){return Ii(t.slice(),n)}function Ei(t,n){var i=Ii(t,n);return i!==t&&Ri(i,void 0,t.length,t),t}function Ii(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Ri(i,n,u,e);var s=i;i=e,e=s}return i}function Ri(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}F(),Tt(),Mt(),Wt(),F(),Tt(),Ut(),F(),Tt(),Ut(),F(),Tt(),Dt(),F(),Tt(),Mt(),qt(),Wt(),F(),Tt(),F(),Tt(),F(),Tt();var Ci=9007199254740991,Ni=k.pow(2,-52);function Di(t,n,i){return k.min(k.max(t,n),i)}function xi(t,n,i){return t===n||k.abs(t-n)<=i}function Pi(t,n){if(t===n)return!0;var i=k.abs(t-n);return i<Ni||i<k.max(k.abs(t),k.abs(n))*Ni}function Li(t,n){return t%n+(t<0?n:0)}function Mi(t){return t!=t}function Oi(t,n){return t===n||Mi(t)&&Mi(n)}function Bi(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Vi(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}var Fi=function(t){return t[t.eh=0]="eh",t[t.Zm=1]="Zm",t[t.Hm=-1]="Hm",t}({}),Ui=function(t,n){return(0|t)-(0|n)},Wi=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1};function Zi(t,n,i){return xi(t,n,i)?0:Wi(t,n)}var Xi=function(t,n){return Pi(t,n)?0:Wi(t,n)};var Gi="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=ji(t,n);return-1===i?void 0:t[i]},Hi=Gi,zi="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=Ki(t,n);return-1===i?void 0:t[i]},Yi=zi,ji="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},Ki="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1},qi="function"==typeof Array.prototype.at?function(t,n){return t.at(n)}:function(t,n){var i=t.length,r=n>=0?n:i+n;return r<0||r>=i?void 0:t[r]};function Ji(t,n){var i=t.indexOf(n);return-1!==i&&(Qi(t,i),!0)}function Qi(t,n){0===n?t.shift():t.splice(n,1)}function $i(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function tr(t,n){return-1!==t.indexOf(n)}function nr(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function ir(t){t.length=0}function rr(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!tr(n,t[i]))return!1}return!0}Array.prototype.flat;var er="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Kt(n(t[r],r)))}return i};function ur(t,n){return or(t,(function(t,i){return Wi(n(t),n(i))}))}function sr(t,n){return ar(t,(function(t,i){return Wi(n(t),n(i))}))}function or(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function ar(t,n){return or(t,(function(t,i){return n(i,t)}))}function cr(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function hr(t,n){return et.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function fr(t,n){return vr.apply(this,arguments)}function vr(){return vr=Pt((function(t,n){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),vr.apply(this,arguments)}function dr(){return dr=Pt((function(t,n){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),dr.apply(this,arguments)}function lr(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}function gr(t,n){return function(t,n){for(var i=new Array(t),r=0;r<t;r++)i[r]=n(r);return i}(t,n)}var wr=function(){function t(){this.zm=!1,this.qm=!1,this.Ym=[],this.jm=[]}var n=t.prototype;return n.Xm=function(){if(!this.zm&&!this.qm){this.zm=!0;for(var t=0,n=this.Ym.slice();t<n.length;t++){(0,n[t])()}this.Km()}},n.Km=function(){if(!this.qm){this.qm=!0;for(var t=0,n=this.jm.slice();t<n.length;t++){(0,n[t])()}ir(this.Ym),ir(this.jm)}},n.Qm=function(t){this.qm||this.Ym.push(t)},n.Jm=function(t){this.qm||Ji(this.Ym,t)},n.$m=function(t){this.qm||this.jm.push(t)},n.tp=function(t){this.qm||Ji(this.jm,t)},t}(),mr=function(){function t(){this.sp=new wr}var n=t.prototype;return n.np=function(){this.sp.Xm()},n.Km=function(){this.sp.Km()},n.rp=function(t){var n=this.sp;if(!n.zm)if(t.zm)n.Xm();else if(!n.qm&&!t.qm){var i=function(){r(),n.Xm()},r=function(){t.Jm(i),t.tp(r),n.Jm(i),n.tp(r)};t.Qm(i),t.$m(r),n.Qm(i),n.$m(r)}},n.op=function(){var n=new t,i=new t,r=n.ep,e=i.ep,u=this.sp,s=function(){r.zm&&e.qm||e.zm&&r.qm?u.Xm():r.qm&&e.qm&&u.Km()};r.Qm(s),e.Qm(s),r.$m(s),e.$m(s),n.rp(u),i.rp(u);return u.$m((function(){r.Jm(s),e.Jm(s),r.tp(s),e.tp(s)})),[n,i]},n[e]=function(){this.np()},t.hp=function(n){for(var i=new t,r=0;r<n.length;r++){var e=n[r];void 0!==e&&i.rp(e)}return i},Nt(t,[{key:"ep",get:function(){return this.sp}}]),t}();F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var yr=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];p.apply(this,n)};(yr.prototype=b.create(p.prototype)).constructor=yr;var pr=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,p.captureStackTrace&&p.captureStackTrace(r,r.constructor),r}return It(n,t),Nt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(yr),_r=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(pr);function br(t){return t instanceof p&&"AbortError"===t.name}function kr(t){if(t&&t.zm)throw new _r}function Ar(t){if(br(t))throw t}function Tr(t){if(!br(t))throw t}function Sr(t,n){return n?new et((function(i,r){if(n.zm)return t.catch(_i),r(new _r);var e=function(){n.Jm(e),r(new _r)};n.Qm(e),t.then((function(t){n.Jm(e),i(t)}),(function(t){n.Jm(e),r(t)}))})):t}function Er(t,n){return Ir.apply(this,arguments)}function Ir(){return Ir=Pt((function(t,n){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Vt(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Ft(i),[7];case 5:return[2]}}))})),Ir.apply(this,arguments)}function Rr(t,n){return Cr.apply(this,arguments)}function Cr(){return Cr=Pt((function(t,n){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Vt(i,n,!1),[4,t(n.ep)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Ft(i),[7];case 5:return[2]}}))})),Cr.apply(this,arguments)}var Nr=et.resolve(),Dr="function"==typeof queueMicrotask?queueMicrotask:function(t){Nr.then(t)};function xr(t){t.then(_i,_i)}function Pr(t){return Lr.apply(this,arguments)}function Lr(){return Lr=Pt((function(t){var n;return Ot(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,et.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,et.all(t.map((function(t){return t.catch(_i)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),Lr.apply(this,arguments)}function Mr(t,n){return new et((function(i,r){if(void 0!==n&&n.zm)r(new _r);else{var e=Kn.Gm((function(){void 0!==n&&n.Jm(u),i()}),t),u=function(){Kn.Um(e),r(new _r)};void 0!==n&&n.Qm(u)}}))}function Or(t,n){return Br.apply(this,arguments)}function Br(){return Br=Pt((function(t,n){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=Vt(i,new mr,!1),[4,et.race([t,Mr(n,r.ep).then((function(){throw new p("Timeout")}))])];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return Ft(i),[7];case 5:return[2]}}))})),Br.apply(this,arguments)}function Vr(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function Fr(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Ur(){return void 0!==v?v.createElement("video"):void 0}var Wr=Ti(Ur),Zr=Ti((function(){return"undefined"!=typeof HTMLVideoElement&&Wr()instanceof HTMLVideoElement}));function Xr(t){var n=v.createElement(t);return Vr(n)&&n.addEventListener("contextmenu",Yr),Hr(n),n}function Gr(t){Hr(t),t.removeEventListener("contextmenu",Yr)}function Hr(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ai(t),Fr(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload="auto",t.controls=!1,t.style.display="none",Vr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function zr(t,n){if(n.ap){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();ii(r)&&xr(r),t.pause()}}function Yr(t){t.preventDefault()}F(),Tt(),F(),Tt(),F(),Tt();var jr=null;try{jr=new WebAssembly.Instance(new WebAssembly.Module(new E([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(wn){}function Kr(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function qr(t){return!0===(t&&t.cp)}function Jr(t){var n=k.clz32(t&-t);return t?31-n:n}Kr.prototype.cp,b.defineProperty(Kr.prototype,"cp",{value:!0}),Kr.isLong=qr;var Qr={},$r={};function te(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=$r[t])?r:(i=ie(t,0,!0),e&&($r[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Qr[t])?r:(i=ie(t,t<0?-1:0,!1),e&&(Qr[t]=i),i)}function ne(t,n){if(S(t))return n?fe:he;if(n){if(t<0)return fe;if(t>=oe)return we}else{if(t<=-ae)return me;if(t+1>=ae)return ge}return t<0?ne(-t,n).neg():ie(t%se|0,t/se|0,n)}function ie(t,n,i){return new Kr(t,n,i)}Kr.fromInt=te,Kr.fromNumber=ne,Kr.fromBits=ie;var re=k.pow;function ee(t,n,i){if(0===t.length)throw p("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?fe:he;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw p("interior hyphen");if(0===r)return ee(t.substring(1),n,i).neg();for(var e=ne(re(i,8)),u=he,s=0;s<t.length;s+=8){var o=k.min(8,t.length-s),a=A(t.substring(s,s+o),i);if(o<8){var c=ne(re(i,o));u=u.mul(c).add(ne(a))}else u=(u=u.mul(e)).add(ne(a))}return u.unsigned=n,u}function ue(t,n){return"number"==typeof t?ne(t,n):"string"==typeof t?ee(t,n):ie(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Kr.fromString=ee,Kr.fromValue=ue;var se=4294967296,oe=se*se,ae=oe/2,ce=te(1<<24),he=te(0);Kr.ZERO=he;var fe=te(0,!0);Kr.UZERO=fe;var ve=te(1);Kr.ONE=ve;var de=te(1,!0);Kr.UONE=de;var le=te(-1);Kr.NEG_ONE=le;var ge=ie(-1,2147483647,!1);Kr.MAX_VALUE=ge;var we=ie(-1,-1,!0);Kr.MAX_UNSIGNED_VALUE=we;var me=ie(0,-2147483648,!1);Kr.MIN_VALUE=me;var ye=Kr.prototype;ye.toInt=function(){return this.unsigned?this.low>>>0:this.low},ye.toNumber=function(){return this.unsigned?(this.high>>>0)*se+(this.low>>>0):this.high*se+(this.low>>>0)},ye.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(me)){var n=ne(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=ne(re(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},ye.getHighBits=function(){return this.high},ye.getHighBitsUnsigned=function(){return this.high>>>0},ye.getLowBits=function(){return this.low},ye.getLowBitsUnsigned=function(){return this.low>>>0},ye.getNumBitsAbs=function(){if(this.isNegative())return this.eq(me)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},ye.isZero=function(){return 0===this.high&&0===this.low},ye.eqz=ye.isZero,ye.isNegative=function(){return!this.unsigned&&this.high<0},ye.isPositive=function(){return this.unsigned||this.high>=0},ye.isOdd=function(){return 1==(1&this.low)},ye.isEven=function(){return 0==(1&this.low)},ye.equals=function(t){return qr(t)||(t=ue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},ye.eq=ye.equals,ye.notEquals=function(t){return!this.eq(t)},ye.neq=ye.notEquals,ye.ne=ye.notEquals,ye.lessThan=function(t){return this.comp(t)<0},ye.lt=ye.lessThan,ye.lessThanOrEqual=function(t){return this.comp(t)<=0},ye.lte=ye.lessThanOrEqual,ye.le=ye.lessThanOrEqual,ye.greaterThan=function(t){return this.comp(t)>0},ye.gt=ye.greaterThan,ye.greaterThanOrEqual=function(t){return this.comp(t)>=0},ye.gte=ye.greaterThanOrEqual,ye.ge=ye.greaterThanOrEqual,ye.compare=function(t){if(qr(t)||(t=ue(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},ye.comp=ye.compare,ye.negate=function(){return!this.unsigned&&this.eq(me)?me:this.not().add(ve)},ye.neg=ye.negate,ye.add=function(t){qr(t)||(t=ue(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,ie((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},ye.subtract=function(t){return qr(t)||(t=ue(t)),this.add(t.neg())},ye.sub=ye.subtract,ye.multiply=function(t){if(this.isZero())return this;if(qr(t)||(t=ue(t)),jr)return ie(jr.mul(this.low,this.high,t.low,t.high),jr.get_high(),this.unsigned);if(t.isZero())return this.unsigned?fe:he;if(this.eq(me))return t.isOdd()?me:he;if(t.eq(me))return this.isOdd()?me:he;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(ce)&&t.lt(ce))return ne(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,ie((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},ye.mul=ye.multiply,ye.divide=function(t){if(qr(t)||(t=ue(t)),t.isZero())throw p("division by zero");var n,i,r;if(jr)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?ie((this.unsigned?jr.div_u:jr.div_s)(this.low,this.high,t.low,t.high),jr.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?fe:he;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return fe;if(t.gt(this.shru(1)))return de;r=fe}else{if(this.eq(me))return t.eq(ve)||t.eq(le)?me:t.eq(me)?ve:(n=this.shr(1).div(t).shl(1)).eq(he)?t.isNegative()?ve:le:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(me))return this.unsigned?fe:he;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=he}for(i=this;i.gte(t);){n=k.max(1,k.floor(i.toNumber()/t.toNumber()));for(var e=k.ceil(k.log(n)/k.LN2),u=e<=48?1:re(2,e-48),s=ne(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=ne(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=ve),r=r.add(s),i=i.sub(o)}return r},ye.div=ye.divide,ye.modulo=function(t){return qr(t)||(t=ue(t)),jr?ie((this.unsigned?jr.rem_u:jr.rem_s)(this.low,this.high,t.low,t.high),jr.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},ye.mod=ye.modulo,ye.rem=ye.modulo,ye.not=function(){return ie(~this.low,~this.high,this.unsigned)},ye.countLeadingZeros=function(){return this.high?k.clz32(this.high):k.clz32(this.low)+32},ye.clz=ye.countLeadingZeros,ye.countTrailingZeros=function(){return this.low?Jr(this.low):Jr(this.high)+32},ye.ctz=ye.countTrailingZeros,ye.and=function(t){return qr(t)||(t=ue(t)),ie(this.low&t.low,this.high&t.high,this.unsigned)},ye.or=function(t){return qr(t)||(t=ue(t)),ie(this.low|t.low,this.high|t.high,this.unsigned)},ye.xor=function(t){return qr(t)||(t=ue(t)),ie(this.low^t.low,this.high^t.high,this.unsigned)},ye.shiftLeft=function(t){return qr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ie(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):ie(0,this.low<<t-32,this.unsigned)},ye.shl=ye.shiftLeft,ye.shiftRight=function(t){return qr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ie(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):ie(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},ye.shr=ye.shiftRight,ye.shiftRightUnsigned=function(t){return qr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ie(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):ie(32===t?this.high:this.high>>>t-32,0,this.unsigned)},ye.shru=ye.shiftRightUnsigned,ye.shr_u=ye.shiftRightUnsigned,ye.rotateLeft=function(t){var n;return qr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?ie(this.high,this.low,this.unsigned):t<32?(n=32-t,ie(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),ie(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},ye.rotl=ye.rotateLeft,ye.rotateRight=function(t){var n;return qr(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?ie(this.high,this.low,this.unsigned):t<32?(n=32-t,ie(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),ie(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},ye.rotr=ye.rotateRight,ye.toSigned=function(){return this.unsigned?ie(this.low,this.high,!1):this},ye.toUnsigned=function(){return this.unsigned?this:ie(this.low,this.high,!0)},ye.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},ye.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},ye.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Kr.fromBytes=function(t,n,i){return i?Kr.fromBytesLE(t,n):Kr.fromBytesBE(t,n)},Kr.fromBytesLE=function(t,n){return new Kr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Kr.fromBytesBE=function(t,n){return new Kr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var pe=Kr;function _e(t,n){return t.lessThan(n)?t:n}function be(t){return!S(t.getTime())}function ke(){return Date.now()||(new Date).getTime()}function Ae(t){return t/1e3}function Te(t){return 1e3*t}var Se=1/6,Ee=pe.fromNumber(Ci);function Ie(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Ee))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var Re=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch)||Boolean(l&&l.msMaxTouchPoints),Ce=Wr(),Ne=Boolean(Ce&&Ce.webkitShowPlaybackTargetPicker),De=function(){function t(){this.dp=void 0,this.Bp=!1,this.Qe=Re,this.Qs=!1,this.ap=!0}var n=t.prototype;return n.fp=function(){return 0},n.Np=function(t,n){return!0},n.Mp=function(t){return t>=2*Se},Nt(t,[{key:"lp",get:function(){return void 0===this.dp&&(this.dp=this.fp()),this.dp}},{key:"_p",get:function(){return Gn.Vv?"android":Gn.Nv?"macos":Gn.su?"ios":Gn.Lv?"windows":"other"}},{key:"vp",get:function(){return Gn.gm?"tv":Gn.Qs?"mobile":"desktop"}},{key:"gp",get:function(){return!Gn.gm}},{key:"mp",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"pp",get:function(){return f.devicePixelRatio||1}},{key:"wp",get:function(){return Ne}},{key:"yp",get:function(){return!1}},{key:"bp",get:function(){return!0}},{key:"Ap",get:function(){return!!(Gn.$g||Gn.su||Gn.Eg)||!!Gn.Vg}},{key:"Sp",get:function(){return Gn.Vg}},{key:"Tp",get:function(){return!Gn.su}},{key:"kp",get:function(){return!0}},{key:"Ep",get:function(){return!0}},{key:"xp",get:function(){return!1}},{key:"Ip",get:function(){}},{key:"Rp",get:function(){return!0}},{key:"Cp",get:function(){return!1}},{key:"Pp",get:function(){return Gn.Vg}},{key:"Dp",get:function(){return!1}},{key:"Lp",get:function(){return!1}}]),t}(),xe=function(t){function n(){return t.call(this)||this}return It(n,t),n}(De);F(),Tt(),Dt(),Rt();var Pe=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Np=function(t,n){if(t&&t.Op&&n&&n.Op){var i=Le(t.Op,"mp4a.40.2")&&Le(n.Op,"mp4a.40.5"),r=Le(t.Op,"mp4a.40.5")&&Le(n.Op,"mp4a.40.2"),e=Le(t.Op,"mp4a.40.2")&&Le(n.Op,"mp4a.40.34"),u=Le(t.Op,"mp4a.40.34")&&Le(n.Op,"mp4a.40.2"),s=Le(t.Op,"mp4a.40.5")&&Le(n.Op,"mp4a.40.34"),o=Le(t.Op,"mp4a.40.34")&&Le(n.Op,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},Nt(n,[{key:"Ip",get:function(){if(Gn.Nv)return 4096}}]),n}(xe);function Le(t,n){return t.indexOf(n)>-1}F(),Tt(),Rt();var Me=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Mp=function(t){return t>=2},n}(xe);F(),Tt(),Dt(),Rt();var Oe=function(t){function n(){var n;return(n=t.call(this)||this).Bp=Gn.nm>=11,n.ap=Gn.$g&&!(Gn.su&&Gn.nm<10),n}return It(n,t),Nt(n,[{key:"Dp",get:function(){return Gn.nm<17}},{key:"Lp",get:function(){return!0}}]),n}(xe);F(),Tt(),Dt(),Rt();var Be,Ve=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"Rp",get:function(){return!Gn.Lv||(Gn.Sg?92!==Gn.Ig:Gn.wg>=100)}}]),n}(xe);F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var Fe=function(){var t=Ur();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Gn.Kv)return!1;var t=Ur();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ue=function(t){function n(n){var i;return(i=t.call(this)||this).Fp=n,i.Bp=i.Fp.Bp,i.Qe=i.Fp.Qe,i.ap=Fe&&i.Fp.ap,i}It(n,t);var i=n.prototype;return i.fp=function(){return this.Fp.lp},i.Np=function(t,n){return this.Fp.Np(t,n)},i.Mp=function(t){return this.Fp.Mp(t)},Nt(n,[{key:"Ip",get:function(){return this.Fp.Ip}},{key:"Rp",get:function(){return this.Fp.Rp}},{key:"Dp",get:function(){return this.Fp.Dp}}]),n}(De),We=function(t){function n(n){var i;return(i=t.call(this,n)||this).Bp=!0,i.Qs=!0,i}return It(n,t),Nt(n,[{key:"xp",get:function(){return Gn.su}}]),n}(Ue);F(),Tt();var Ze=function(){function t(t){this.Wp=Xe(t)}var n=t.prototype;return n.Vp=function(){return new this.Wp},n.Up=function(t){return this.Wp.isTypeSupported(t)},t}();function Xe(t){return t&&si(f.ManagedMediaSource)?f.ManagedMediaSource:si(f.MediaSource)?f.MediaSource:void 0}var Ge=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.fp=function(){return Xe(!0)?t.prototype.fp.call(this):1},Nt(n,[{key:"xp",get:function(){return!0}}]),n}(We);F(),Tt(),Dt(),Rt();var He=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Np=function(n,i){return t.prototype.Np.call(this,n,i)},Nt(n,[{key:"yp",get:function(){return Gn.Pg<3}},{key:"bp",get:function(){return Gn.Pg>=3}},{key:"mp",get:function(){var t=this;return f.tizen&&!this.Gp&&f.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Gp={width:i,height:r})})),this.Gp}},{key:"Cp",get:function(){return Gn.Pg<3}}]),n}(Ue);F(),Tt(),Dt(),Rt();var ze=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"mp",get:function(){var t=this;return f.webOS&&!this.Gp&&f.webOS.deviceInfo((function(n){t.Gp={width:n.screenWidth,height:n.screenHeight}})),this.Gp}},{key:"kp",get:function(){return!1}}]),n}(Ue);F(),Tt(),Dt(),Rt();var Ye=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"xp",get:function(){return!0}},{key:"Lp",get:function(){return this.Fp.Lp}}]),n}(Ue);!function(t){Be=t}(function(){var t=function(){if(Gn.Kg)return new Pe;if(Gn.Ug||Gn.Zg)return new Me;if(Gn.$g)return new Oe;if(Gn.gg)return new Ve;return new xe}();return Gn.su?new Ge(t):Gn.Qs?new We(t):Gn.Rg?new He(t):Gn.Ng?new ze(t):Gn.Nv?new Ye(t):new Ue(t)}()),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),qt(),at(),F(),Tt(),qt();var je=!(Gn.Zg&&!Gn.Xg),Ke=self.console;function qe(t){if(Qn(t))try{return JSON.stringify(t)}catch(t){}return t}function Je(t){return t.map(qe).join(" ")}function Qe(t){var n=Ke&&Ke[t];return n?n.bind&&je?n.bind(Ke):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Ke[t](Je(i))}:void 0}var $e=Qe("log")||_i,tu=Qe("warn")||$e.bind(void 0,"WARNING:"),nu=Qe("error")||$e.bind(void 0,"ERROR:"),iu=function(){var t=Ke&&Ke.assert;return t?t.bind&&je?t.bind(Ke):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Ke.assert(t,Je(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||nu.apply(void 0,["Assertion failed:"].concat(Kt(i)))}}();function ru(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b.defineProperty(t,r.key,r)}}function eu(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){uu(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&uu(i,null,t.length,t),t}function uu(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}F(),Tt();var su=/[a-zA-Z]/,ou=/[0-9]/,au=/[0-9a-fA-F]/,cu=/^0x/i,hu=/^[0-9]+$/,fu=/^[0-9a-fA-F]+$/,vu=/^[0-7]+$/,du=b.prototype.toString,lu=Array.isArray||function(t){return"[object Array]"===du.call(t)},gu=void 0!==n&&"symbol"==typeof r;function wu(t){return lu(t)?t:Array.from(t)}function mu(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function yu(t){return t>=65&&t<=90}function pu(t){return yu(t)||function(t){return t>=97&&t<=122}(t)}function _u(t){return t>=48&&t<=57}function bu(t){return _u(t)||pu(t)}function ku(t){return _u(t)||t>=65&&t<=70||t>=97&&t<=102}function Au(t){return yu(t)?t+32:t}function Tu(t){return _u(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Su(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Eu=k.min,Iu=String.fromCharCode,Ru=16384;function Cu(t){for(var n=t.length,i=[],r=0;r<n;r+=Ru){var e=Eu(r+Ru,n);i.push(Iu.apply(null,t.slice(r,e)))}return i.join("")}var Nu=2147483647,Du=/[^\0-\x7E]/,xu=/[\x2E\u3002\uFF0E\uFF61]/g,Pu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Lu=k.floor,Mu=String.fromCharCode;function Ou(t){throw new RangeError(Pu[t])}function Bu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Vu,Fu,Uu,Wu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zu=function(t,n,i){var r=0;for(t=i?Lu(t/700):t>>1,t+=Lu(t/n);t>455;r+=36)t=Lu(t/35);return Lu(r+36*t/(t+38))},Xu=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(xu,".")).split("."),n).join(".");return r+e}(t,(function(t){return Du.test(t)?"xn--"+function(t){for(var n=[],i=(t=Bu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Mu(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Nu,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var g=h+1;f-r>Lu((Nu-e)/g)&&Ou("overflow"),e+=(f-r)*g,r=f;for(var w=0,m=t;w<m.length;w++){var y=m[w];if(y<r&&++e>Nu&&Ou("overflow"),y==r){for(var p=e,_=36;;_+=36){var b=_<=u?1:_>=u+26?26:_-u;if(p<b)break;var k=p-b,A=36-b;n.push(Mu(Wu(b+k%A,0))),p=Lu(k/A)}n.push(Mu(Wu(p,0))),u=Zu(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function Gu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Cu(n)}function Hu(t){if(t>=55296&&t<=57343)throw new p("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function zu(t,n){return t>>n&63|128}function Yu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Hu(t),n.push(t>>12&15|224),n.push(zu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(zu(t,12)),n.push(zu(t,6))),n.push(63&t|128)):n.push(t)}function ju(t){for(var n=[],i=0;i<t.length;i++){Yu(t[i],n)}return n}function Ku(){if(Uu>=Fu)throw new p("Invalid byte index");var t=255&Vu[Uu];if(Uu++,128==(192&t))return 63&t;throw new p("Invalid continuation byte")}function qu(){var t,n;if(Uu>Fu)throw new p("Invalid byte index");if(Uu===Fu)return!1;if(t=255&Vu[Uu],Uu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ku())>=128)return n;throw new p("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ku()<<6|Ku())>=2048)return Hu(n),n;throw new p("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ku()<<12|Ku()<<6|Ku())>=65536&&n<=1114111)return n;throw new p("Invalid UTF-8 detected")}function Ju(t){return[37,Su(t>>4),Su(15&t)]}function Qu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function $u(t){return Qu(t)||32===t||34===t||60===t||62===t||96===t}function ts(t){return $u(t)||35===t||63===t||123===t||125===t}function ns(t){return ts(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function is(t){return t<33||t>126||34===t||35===t||60===t||62===t}function rs(t){return is(t)||39===t}function es(t,n){if(!n(t))return[t];for(var i=ju([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Ju(u))}return r}function us(t,n){for(var i=[],r=0,e=Bu(t);r<e.length;r++){var u=e[r];i.push.apply(i,es(u,n))}return Gu(i)}function ss(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&ku(t[r+1])&&ku(t[r+2])){var u=Tu(t[r+1])<<4|Tu(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ju(t))}function os(t){return Gu(function(t){Vu=t.slice(),Fu=Vu.length,Uu=0;for(var n,i=[];!1!==(n=qu());)i.push(n);return i}(ss(Bu(t))))}function as(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new _;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new _("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&au.test(t[u]);)s=s<<4|A(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new _;if(u-=o,r>6)throw new _;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new _;u+=1}if(!ou.test(t[u]))throw new _;for(;u<n&&ou.test(t[u]);){var h=A(t[u],10);if(null===c)c=h;else{if(0===c)throw new _;if((c=10*c+h)>255)throw new _}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new _;break}if(":"===t[u]){if((u+=1)===n)throw new _}else if(u<n)throw new _;i[r]=s,r+=1}else{if(null!==e)throw new _("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)mu(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new _;return i}function cs(t){var n=10,i=hu;return cu.test(t)?(t=t.slice(2),n=16,i=fu):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=vu),""===t?0:i.test(t)?A(t,n):void 0}var hs={Zp:4},fs=/[\0\t\n\r #%/:?@\[\\\]]/,vs=/[\0\t\n\r #/:?@\[\\\]]/;function ds(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new _("Invalid IPv6 address");return{Zp:2,Hp:as(t.slice(1,-1))}}if(!n)return function(t){if(vs.test(t))throw new _("Invalid code point in opaque host");var n=us(t,Qu);return""===n?hs:{Zp:3,Xp:n}}(t);var i=function(t){var n=function(t){return Xu(t.toLowerCase())}(t);return n}(os(t));if(fs.test(i))throw new _("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=cs(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new _;if(i[i.length-1]>=k.pow(256,5-i.length))throw new _;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*k.pow(256,3-a);return o}}(i);return void 0!==r?{Zp:1,Hp:r}:""===i?hs:{Zp:0,zp:i}}function ls(t){switch(t.Zp){case 0:return t.zp;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Hp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Hp)+"]";case 3:return t.Xp;case 4:return""}}var gs=/\+/g;function ws(t){return 42===t||45===t||46===t||95===t||bu(t)}function ms(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(gs," "),o=o.replace(gs," ");var a=os(s),c=os(o);i.push([a,c])}}return i}function ys(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=ps(ju(Bu(r[0])))+"="+ps(ju(Bu(r[1])))}return n}function ps(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):ws(r)?n.push(r):n.push.apply(n,Ju(r))}return Cu(n)}var _s=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function bs(t){var n=""+t,i=_s.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(As(u))if(Ts(u)||e===i-1)r.push(ks);else{var s=t.charCodeAt(e+1);Ts(s)?(r.push(u,s),e++):r.push(ks)}else r.push(u)}return t.slice(0,n)+Cu(r)}(n,i.index):n}var ks=65533,As=function(t){return 55296==(63488&t)},Ts=function(t){return 0!=(1024&t)};function Ss(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Es(t){t.D_.length=0}function Is(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.D_,ms(n))}function Rs(t){if(t.ic){var n=ys(t.D_);""===n&&(n=null),t.ic.ic.qp=n}}var Cs=function(){function t(t){if(void 0===t&&(t=void 0),this.ic=null,null==t)this.D_=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Cs&&!!lu(t.D_)&&(!gu||t[r]===Ns)}(t))this.D_=t.D_.slice();else if(function(t){return null!=t&&(!!lu(t)||!!gu&&"function"==typeof t[r])}(t)){this.D_=[];for(var n=0,i=wu(t);n<i.length;n++){var e=wu(i[n]);if(2!==e.length)throw new _("Invalid name-value pair");this.D_.push([bs(e[0]),bs(e[1])])}}else for(var u in this.D_=[],t)b.prototype.hasOwnProperty.call(t,u)&&this.D_.push([bs(u),bs(t[u])]);else(t=bs(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.D_=ms(t)}var n=t.prototype;return n.append=function(t,n){t=bs(t),n=bs(n),this.D_.push([t,n]),Rs(this)},n.delete=function(t){t=bs(t);for(var n=this.D_,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Rs(this)},n.get=function(t){t=bs(t);for(var n=this.D_,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=bs(t);for(var n=this.D_,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=bs(t);for(var n=this.D_,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=bs(t),n=bs(n);for(var i=this.D_,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Rs(this)},n.sort=function(){eu(this.D_,Ss),Rs(this)},n.toString=function(){return ys(this.D_)},n.entries=function(){return new Ls(this.D_,Ds)},n.keys=function(){return new Ls(this.D_,xs)},n.values=function(){return new Ls(this.D_,Ps)},n.forEach=function(t){var n=this;this.D_.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Ns=Cs.prototype.entries;gu&&(Cs.prototype[r]=Ns);var Ds=function(t){return[t[0],t[1]]},xs=function(t){return t[0]},Ps=function(t){return t[1]},Ls=function(){function t(t,n){this.Yp=0,this.D_=t,this.Kp=n}return t.prototype.next=function(){return this.Yp<this.D_.length?{done:!1,value:this.Kp(this.D_[this.Yp++])}:{done:!0,value:void 0}},t}(),Ms="null";var Os=b.create(null);Os.ftp=21,Os.file=0,Os.gopher=70,Os.http=80,Os.https=443,Os.ws=80,Os.wss=443;var Bs=/^(?:\.|%2e)$/i,Vs=/^(?:\.|%2e){2}$/i;function Fs(t){return Bs.test(t)}function Us(t){return Vs.test(t)}function Ws(t){return void 0!==Os[t]}function Zs(t){return Ws(t.jp)}function Xs(t){return""!==t.Qp||""!==t.Jp}function Gs(t){var n=t.length;if(!(n>=2))return!1;if(!zs(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Hs(t){return 2===t.length&&su.test(t[0])&&(":"===t[1]||"|"===t[1])}function zs(t){return 2===t.length&&Hs(Cu(t))}function Ys(t){return Hs(t)&&":"===t[1]}function js(t){var n=t.$p;0!==n.length&&("file"===t.jp&&1===n.length&&Ys(n[0])||n.pop())}function Ks(t){return null===t.ew||hs===t.ew||t.iw||"file"===t.jp}var qs=-1,Js=/\t|\n|\r/g,Qs=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function $s(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new no,t=t.replace(Qs,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Bu(t=t.replace(Js,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:qs;switch(e){case 0:if(!pu(v)){if(null===r){u.length=0,e=2;continue}throw new _("Invalid scheme")}u.push(Au(v)),e=1;break;case 1:if(bu(v)||43===v||45===v||46===v)u.push(Au(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new _("Invalid scheme")}var d=Gu(u);if(null!==r){if(Ws(i.jp)&&!Ws(d))return;if(!Ws(i.jp)&&Ws(d))return;if((Xs(i)||null!==i.nw)&&"file"===d)return;if("file"===i.jp&&(i.ew===hs||null===i.ew))return}if(i.jp=d,null!==r)return void(Zs(i)&&i.nw===Os[i.jp]&&(i.nw=null));u.length=0,"file"===i.jp?e=13:Zs(i)&&n&&n.jp===i.jp?e=3:Zs(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.iw=!0,i.$p.push(""),e=18)}break;case 2:if(!n||n.iw&&35!==v)throw new _("Invalid scheme");n.iw&&35===v?(i.jp=n.jp,i.$p=n.$p.slice(),i.qp=n.qp,i.ow="",i.iw=!0,e=20):"file"!==n.jp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.jp=n.jp,qs===v?(i.Qp=n.Qp,i.Jp=n.Jp,i.ew=n.ew,i.nw=n.nw,i.$p=n.$p.slice(),i.qp=n.qp):47===v?e=6:63===v?(i.Qp=n.Qp,i.Jp=n.Jp,i.ew=n.ew,i.nw=n.nw,i.$p=n.$p.slice(),i.qp="",e=19):35===v?(i.Qp=n.Qp,i.Jp=n.Jp,i.ew=n.ew,i.nw=n.nw,i.$p=n.$p.slice(),i.qp=n.qp,i.ow="",e=20):92===v&&Zs(i)?e=6:(i.Qp=n.Qp,i.Jp=n.Jp,i.ew=n.ew,i.nw=n.nw,i.$p=n.$p.slice(),i.$p.pop(),e=17,f-=1);break;case 6:!Zs(i)||47!==v&&92!==v?47===v?e=9:(i.Qp=n.Qp,i.Jp=n.Jp,i.ew=n.ew,i.nw=n.nw,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var l=0;l<u.length;l++){var g=u[l];if(58!==g||a){var w=Gu(es(g,ns));a?i.Jp+=w:i.Qp+=w}else a=!0}u.length=0}else if(qs===v||47===v||63===v||35===v||Zs(i)&&92===v){if(s&&0===u.length)throw new _("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.jp)f-=1,e=15;else if(58!==v||o)if(qs===v||47===v||63===v||35===v||Zs(i)&&92===v){if(f-=1,Zs(i)&&0===u.length)throw new _("Invalid host");if(null!==r&&0===u.length&&(Xs(i)||null!==i.nw))return;var m=ds(Gu(u),Zs(i));if(i.ew=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new _("Invalid host");var y=ds(Gu(u),Zs(i));if(i.ew=y,u.length=0,e=12,11===r)return}break;case 12:if(_u(v))u.push(v);else{if(!(qs===v||47===v||63===v||35===v||Zs(i)&&92===v||null!==r))throw new _("Invalid port");if(0!==u.length){var p=A(Gu(u),10);if(p>65535)throw new _("Invalid port");i.nw=p===Os[i.jp]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.jp="file",47===v||92===v?e=14:n&&"file"===n.jp?qs===v?(i.ew=n.ew,i.$p=n.$p.slice(),i.qp=n.qp):63===v?(i.ew=n.ew,i.$p=n.$p.slice(),i.qp="",e=19):35===v?(i.ew=n.ew,i.$p=n.$p.slice(),i.qp=n.qp,i.ow="",e=20):(Gs(c.slice(f))||(i.ew=n.ew,i.$p=n.$p.slice(),js(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.jp&&!Gs(c.slice(f))&&(Ys(n.$p[0])?i.$p.push(n.$p[0]):i.ew=n.ew),e=17,f-=1);break;case 15:if(qs===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&zs(u))e=17;else if(0===u.length){if(i.ew=hs,null!==r)return;e=16}else{var b=ds(Gu(u),Zs(i));if(0===b.Zp&&"localhost"===b.zp&&(b=hs),i.ew=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Zs(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.qp="",e=19):null===r&&35===v?(i.ow="",e=20):qs!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(qs===v||47===v||Zs(i)&&92===v||null===r&&(63===v||35===v)){var k=Gu(u);if(Us(k)?(js(i),47===v||Zs(i)&&92===v||i.$p.push("")):!Fs(k)||47===v||Zs(i)&&92===v?Fs(k)||("file"===i.jp&&0===i.$p.length&&zs(u)&&(hs!==i.ew&&null!==i.ew&&(i.ew=hs),u[1]=58,k=Gu(u)),i.$p.push(k)):i.$p.push(""),u.length=0,"file"===i.jp&&(qs===v||63===v||35===v))for(;i.$p.length>1&&""===i.$p[0];)i.$p.shift();63===v?(i.qp="",e=19):35===v&&(i.ow="",e=20)}else u.push.apply(u,es(v,ts));break;case 18:63===v?(i.qp="",e=19):35===v?(i.ow="",e=20):qs!==v&&(i.$p[0]+=Gu(es(v,Qu)));break;case 19:null===r&&35===v?(i.ow="",e=20):qs!==v&&(i.qp+=Gu(es(v,Zs(i)?rs:is)));break;case 20:qs===v||0===v||(i.ow+=Gu(es(v,$u)))}f++}return i}function to(t,n,i,r){try{$s(t,n,i,r)}catch(t){}}var no=function(){this.jp="",this.Qp="",this.Jp="",this.ew=null,this.nw=null,this.$p=[],this.qp=null,this.ow=null,this.iw=!1};function io(t){switch(t.jp){case"blob":var n;try{n=$s(t.$p[0],null)}catch(t){return Ms}return io(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+ls(n)+(null===i?"":":"+i)}(t.jp,t.ew,t.nw);default:return Ms}}var ro=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof ro&&"object"==typeof t.ic}(n))r=n.ic;else try{r=$s(String(n),null)}catch(t){throw new _("Invalid base URL: "+t.message)}try{i=$s(String(t),r)}catch(t){throw new _("Invalid URL: "+t.message)}var e=i.qp;this.ic=i,this.qp=function(t){var n=new Cs;return null!==t&&Is(n,t),n}(e),this.qp.ic=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&ru(t.prototype,n),i&&ru(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.jp+":";if(null!==t.ew?(i+="//",Xs(t)&&(i+=t.Qp,""!==t.Jp&&(i+=":"+t.Jp),i+="@"),i+=ls(t.ew),null!==t.nw&&(i+=":"+t.nw)):null===t.ew&&"file"===t.jp&&(i+="//"),t.iw)i+=t.$p[0];else for(var r=0,e=t.$p;r<e.length;r++)i+="/"+e[r];return null!==t.qp&&(i+="?"+t.qp),n||null===t.ow||(i+="#"+t.ow),i}(this.ic)},set:function(t){var n;try{n=$s(String(t),null)}catch(t){throw new _("Invalid URL: "+t.message)}this.ic=n,Es(this.qp);var i=this.ic.qp;null!==i&&Is(this.qp,i)}},{key:"origin",get:function(){return io(this.ic)}},{key:"protocol",get:function(){return this.ic.jp+":"},set:function(t){to(t+":",null,this.ic,0)}},{key:"username",get:function(){return this.ic.Qp},set:function(t){Ks(this.ic)||(this.ic.Qp=us(t,ns))}},{key:"password",get:function(){return this.ic.Jp},set:function(t){Ks(this.ic)||(this.ic.Jp=us(t,ns))}},{key:"host",get:function(){var t=this.ic,n=t.ew;if(null===n)return"";var i=t.nw,r=ls(n);return null!==i&&(r+=":"+i),r},set:function(t){this.ic.iw||to(t,null,this.ic,10)}},{key:"hostname",get:function(){var t=this.ic.ew;return null===t?"":ls(t)},set:function(t){this.ic.iw||to(t,null,this.ic,11)}},{key:"port",get:function(){var t=this.ic.nw;return null===t?"":""+t},set:function(t){Ks(this.ic)||(""===t?this.ic.nw=null:to(t,null,this.ic,12))}},{key:"pathname",get:function(){var t=this.ic.$p;return this.ic.iw?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ic.iw||(this.ic.$p.length=0,to(t,null,this.ic,16))}},{key:"search",get:function(){var t=this.ic.qp;return null===t||""===t?"":"?"+t},set:function(t){t=bs(t);var n=this.ic;if(""===t)return n.qp=null,void Es(this.qp);"?"===t[0]&&(t=t.slice(1)),n.qp="",to(t,null,n,19),Is(this.qp,t)}},{key:"searchParams",get:function(){return this.qp}},{key:"hash",get:function(){var t=this.ic.ow;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ic.ow="",to(t,null,this.ic,20)):this.ic.ow=null}}]),t}();function eo(t){return t.document&&t.document.baseURI||t.location.href||""}F(),Tt();var uo=function(){function t(){this.Tw=new so,this.Iw=Be,this.xw=oo(),self.performance&&self.performance.now?this.Wm=function(){return self.performance.now()}:this.Wm=ke}var n=t.prototype;return n.hw=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];$e.apply(void 0,Kt(n))},n.aw=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];tu.apply(void 0,Kt(n))},n.uw=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];nu.apply(void 0,Kt(n))},n.cw=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];iu.apply(void 0,[t].concat(Kt(i)))},n.Gm=function(t,n){return g(t,n)},n.lw=function(t,n){return m(t,n)},n.Um=function(t){w(t)},n.dw=function(t){y(t)},n.fw=function(){return this._w.fw()},n.gw=function(){return this._w.gw()},n.mw=function(){return this._w.mw()},n.pw=function(){return this._w.pw()},n.ww=function(){return this._w.ww()},n.yw=function(t,n){return this._w.yw(t,n)},n.Aw=function(t){return this._w.Aw(t)},n.Bh=function(t,n){var i;return void 0===n&&(n=eo(f)),i="object"!==(void 0===n?"undefined":U(n))||n instanceof ro?n:n.href,new ro(t,i)},n.Ew=function(t,n){if(void 0===n&&(n=eo(f)),this.xw){var i=ti(n)?n:n.toString();return new self.URL(t,i).href}return this.Bh(t,n).href},Nt(t,[{key:"Sw",get:function(){return this.Tw}},{key:"Ys",get:function(){return this.Iw}},{key:"Rw",get:function(){return{Cw:l&&l.userAgent.match(/Android /i)?"Android":"other",Pw:Boolean(l&&l.userAgent.match(/Android 8.0.0/i))}}},{key:"Dw",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"Nw",get:function(){return"languages"in l?l.languages.slice():[l.language]}}]),t}(),so=function(){function t(){}return Nt(t,[{key:"Mw",get:function(){return l.oscpu}},{key:"Ys",get:function(){return l.platform}},{key:"Lw",get:function(){return l.vendor}},{key:"Bw",get:function(){return l.vendorSub}}]),t}();function oo(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function ao(){return ao=b.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)b.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ao.apply(this,arguments)}function co(){var t=b.create(null);return t.Ow=void 0,delete t.Ow,t}function ho(){return new wo}function fo(){return new mo}function vo(t){var n=ho();for(var i in t)Hn.call(t,i)&&n.set(i,t[i]);return n}function lo(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}F(),Tt(),Mt(),F(),Tt(),Wt(),F(),Tt(),Dt(),nn();var go="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,wo=go||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=b.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=co(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=co(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var mo=go||function(){var t=function(){function t(t,n){this.Fw=t,this.Vw=n}return t.prototype.next=function(){var t=this.Fw.next();return t.done?t:{value:this.Vw(t.value),done:!1}},t}();return function(){function n(){this.P_=ho()}var i=n.prototype;return i.get=function(t){return this.P_.get(""+t)},i.set=function(t,n){return this.P_.set(""+t,n),this},i.has=function(t){return this.P_.has(""+t)},i.delete=function(t){return this.P_.delete(""+t)},i.clear=function(){this.P_.clear()},i.keys=function(){return new t(this.P_.keys(),(function(t){return Number(t)}))},i.values=function(){return this.P_.values()},i.entries=function(){return new t(this.P_.entries(),(function(t){var n=tn(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.P_.forEach((function(n,i){t(n,Number(i))}))},Nt(n,[{key:"size",get:function(){return this.P_.size}}]),n}()}();F(),Tt(),F(),Tt();var yo=function(t){return t.Ww="9a04f079-9840-4286-ab92-e65be0885f95",t.Uw="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Gw="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Zw="e2719d58-a985-b3c9-781a-b030af78d30e",t.Hw="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),po="urn:mpeg:dash:mp4protection:2011",_o="cenc",bo="sinf",ko="skd",Ao="keyids",To="9a04f079-9840-4286-ab92-e65be0885f95",So="urn:uuid:"+To,Eo="com.microsoft.playready",Io="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ro="urn:uuid:"+Io,Co="com.widevine.alpha",No="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Do="urn:uuid:"+No,xo="org.w3.clearkey",Po="e2719d58-a985-b3c9-781a-b030af78d30e",Lo="urn:uuid:"+Po,Mo="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Oo="urn:uuid:"+Mo,Bo="com.apple.fps.1_0",Vo="com.apple.streamingkeydelivery",Fo="identity";F(),Tt();var Uo=function(t){return t.Ww="playready",t.Uw="widevine",t.Hw="fairplay",t.Gw="clearkey",t.Zw="clearkey_dash_if",t.Xw="aes128",t}({}),Wo={zw:Uo.Ww,qw:Eo,Yw:"cenc",Kw:To,jw:So,Qw:"PlayReady"},Zo={zw:Uo.Uw,qw:Co,Yw:"cenc",Kw:Io,jw:Ro,Qw:"Widevine"},Xo={zw:Uo.Hw,qw:Bo,Yw:"skd",Kw:Mo,jw:Oo,Qw:"FairPlay"},Go={zw:Uo.Hw,qw:"com.apple.fps",Yw:"sinf",Kw:Mo,jw:Oo,Qw:"FairPlay"},Ho={zw:Uo.Gw,qw:xo,Yw:"cenc",Kw:No,jw:Do,Qw:"ClearKey"},zo={zw:Uo.Zw,qw:xo,Yw:"keyids",Kw:Po,jw:Lo,Qw:"ClearKey DASH-IF"},Yo=[Wo,Zo,Xo,Ho,zo],jo=[Wo,Zo,Go,Ho,zo];function Ko(t){return Yo.filter((function(n){return n.jw===t.toLowerCase()}))}F(),Tt(),qt();var qo="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Jo(t,n){return Yn(t)&&-1!==t.indexOf(n)}var Qo="function"==typeof String.prototype.startsWith?function(t,n){return Yn(t)&&t.startsWith(n)}:function(t,n){return Yn(t)&&t.substr(0,n.length)===n},$o="function"==typeof String.prototype.endsWith?function(t,n){return Yn(t)&&t.endsWith(n)}:function(t,n){return Yn(t)&&t.substr(t.length-n.length,n.length)===n};function ta(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var na="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},ia="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=na(r,e/r.length)),r.slice(0,e)+t)},ra=(String.prototype.padEnd,16384),ea="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=ra?(n=String).fromCodePoint.apply(n,Kt(t)):sa(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ua(n)};function ua(t){var n;return t.length<=ra?(n=String).fromCharCode.apply(n,Kt(t)):sa(t,String.fromCharCode)}function sa(t,n){for(var i=[],r=0;r<t.length;r+=ra)i.push(n.apply(void 0,Kt(t.slice(r,r+ra))));return i.join("")}function oa(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var aa=Gn.gg&&Gn.wg>=42||Gn.Kg&&Gn.Qg>=38||Gn.Ug||Gn.Xg||Gn.um&&Gn.dm>=29;function ca(t,n){return Jo(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ao({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ao({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ha(){return void 0!==l&&"function"==typeof l.requestMediaKeySystemAccess}function fa(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var va=function(){function t(t){this.Jw=ho(),this.iy=void 0,this.ey=t}var n=t.prototype;return n.ww=function(){return this.Aw(Zo)},n.gw=function(){return this.Aw(Ho)},n.pw=function(){return this.Aw(Wo)},n.mw=function(){return this.Aw(Xo)},n.Aw=function(t){var n=t.jw,i=this.Jw.get(n);if(i)return i;var r=this.yw(t,'video/mp4; codecs="avc1.42000a"');return this.Jw.set(n,r),r},n.yw=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.ey.$w(t.qw,[ca(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.ey.$w(t.qw,[ca(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.fw=function(){return this.iy||(this.iy=this.sy()),this.iy},n.sy=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return"https:"===f.location.protocol?[2,!1]:aa?[4,t.gw()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function da(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}F(),Tt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var la=function(){function t(t){var n=this;this.uy=co(),this.vy=void 0,this.ly=0,this.Ds=function(t){n._o(t)},this.gy=null!=t?t:this}var n=t.prototype;return n.bn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.oy(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.oy(r,n)}},n.oy=function(t,n){var i=this.uy[t];void 0===i?this.uy[t]=n:"function"==typeof i?this.uy[t]=[i,n]:0===this.ly?i.push(n):this.uy[t]=i.concat(n)},n._y=function(t){if("function"==typeof t){var n=this.vy;void 0===n?this.vy=t:"function"==typeof n?this.vy=[n,t]:0===this.ly?n.push(t):this.vy=n.concat(t)}},n.Ro=function(){this.uy=co(),this.vy=void 0},n._o=function(t){this.ly++;var n=this.uy[t.type],i=this.vy;void 0!==n&&da(this.gy,t,n),void 0!==i&&da(this.gy,t,i),this.ly--},n.vn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.py(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.py(r,n)}},n.py=function(t,n){var i=this.uy[t];void 0!==i&&("function"==typeof i?i===n&&(this.uy[t]=void 0):0===this.ly?Ji(i,n):this.uy[t]=$i(i,n))},n.wy=function(t){if("string"==typeof t)this.uy[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.uy[i]=void 0}},n.yy=function(t){var n=this.vy;void 0!==n&&("function"==typeof n?n===t&&(this.vy=void 0):0===this.ly?Ji(n,t):this.vy=$i(n,t))},n.Ay=function(t,n){var i=this;return new et((function(r,e){if(n&&n.zm)return e(new _r);var u=function(t){o(),r(t)},s=function(){o(),e(new _r)},o=function(){i.vn(t,u),n&&n.Jm(s)};i.bn(t,u),n&&n.Qm(s)}))},t}(),ga=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype._o=function(n){var i=this;Dr((function(){t.prototype._o.call(i,n)}))},n}(la),wa=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i._y=function(n){t.prototype._y.call(this,n)},i.yy=function(n){t.prototype.yy.call(this,n)},n}(la);F(),Tt(),Rt(),F(),Tt();var ma=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};F(),Tt();var ya=function(t){return t.Sy="Ty",t.Ey="xy",t.Iy="contentprotectionerror",t.Ry="contentprotectionsuccess",t.Cy="currentsourcechange",t.Py="destroy",t.Dy="durationchange",t.Ny="emptied",t.My="encrypted",t.Ly="ended",t.By="Oy",t.Fy="Vy",t.Wy="Uy",t.Gy="Zy",t.Hy="loadstart",t.Xy="manifestupdate",t.zy="nosupportedrepresentationfound",t.qy="offline",t.Yy="online",t.Ky="pause",t.ho="play",t.jy="progress",t.Qy="ratechange",t.Jy="representationchange",t.$y="resize",t.eb="seeked",t.ib="seeking",t.sb="segmentnotfound",t.ob="hb",t.ub="fb",t.uo="sourcechange",t._b="timeupdate",t.vb="volumechange",t.gb="mb",t.pb="wb",t.LICENSE_REQUEST_GENERATED="yb",t.bb="metricschange",t}({}),pa=["cenc"],_a=["cbcs","cbcs-1-9"],ba=function(t){function n(n){var i;return(i=t.call(this,ya.pb)||this).Ab=n,i}return It(n,t),n}(ma),ka=function(t){function n(n){var i;return(i=t.call(this,ya.LICENSE_REQUEST_GENERATED)||this).Sb=n,i}return It(n,t),n}(ma),Aa=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Tb")||this).kb=n,u.Eb=i,u.Tb=r,u.xb=e,u}return It(n,t),n}(ma),Ta=function(t){function n(){return t.call(this,"lt")||this}return It(n,t),n}(ma),Sa=function(t){return t.My="Ib",t.Rb="Cb",t}({}),Ea=function(t){function n(n,i){var r;return(r=t.call(this,"Ib")||this).Yw=n,r.Sb=i,r}return It(n,t),n}(ma),Ia=function(t){function n(){return t.call(this,"Cb")||this}return It(n,t),n}(ma);F(),Tt(),Dt(),F(),Tt(),F(),Tt();var Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ca=16383,Na=/[\t\n\f\r ]/g;function Da(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:xa()}function xa(){throw new p("Invalid base64 input")}function Pa(t){var n=t;Na.test(n)&&(n=n.replace(Na,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return xa();for(var e,u=0===r?0:4-r,s=new E(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Da(n.charCodeAt(a))<<18|Da(n.charCodeAt(a+1))<<12|Da(n.charCodeAt(a+2))<<6|Da(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Da(n.charCodeAt(a))<<2|Da(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Da(n.charCodeAt(a))<<10|Da(n.charCodeAt(a+1))<<4|Da(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function La(t,n,i){return Ra[t>>2]+Ra[(3&t)<<4|n>>4]+Ra[(15&n)<<2|i>>6]+Ra[63&i]}function Ma(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(La(t[e],t[e+1],t[e+2]));return r.join("")}function Oa(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Ca)r.push(Ma(t,u,k.min(e,u+Ca)));if(1===i){var s=t[n-1];r.push(Ra[s>>2]+Ra[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(Ra[o>>2]+Ra[(3&o)<<4|a>>4]+Ra[(15&a)<<2]+"=")}return r.join("")}function Ba(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Va(t,n){var i=n.nc,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.Pb(1),(r&e)===e?1:0}function Fa(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Va(t,n);return r}F(),Tt(),Dt(),F(),Tt(),Dt();var Ua=function(){function t(t){void 0===t&&(t=0),this.rc=t}var n=t.prototype;return n.Pb=function(t){this.rc+=t},n.Db=function(t){this.rc=t},n.Nb=function(){return new t(this.nc)},Nt(t,[{key:"nc",get:function(){return this.rc}}]),t}();var Wa=k.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Za(t){if(t>=55296&&t<=57343)throw new p("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Xa(t,n){return t>>n&63|128}function Ga(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Za(t),n.push(t>>12&15|224),n.push(Xa(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Xa(t,12)),n.push(Xa(t,6))),n.push(63&t|128)):n.push(t)}function Ha(t,n){if(n.nc>=t.length)throw new p("Invalid byte index");var i=255&t[n.nc];if(n.Pb(1),128==(192&i))return 63&i;throw new p("Invalid continuation byte")}function za(t,n){var i=n.nc;if(i>t.length)throw new p("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Pb(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Ha(t,n);if(e>=128)return e;throw new p("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Ha(t,n)<<6|Ha(t,n);if(u>=2048)return Za(u),u;throw new p("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Ha(t,n)<<12|Ha(t,n)<<6|Ha(t,n);if(s>=65536&&s<=1114111)return s}throw new p("Invalid UTF-8 detected")}F(),Tt(),F(),Tt();var Ya=65279;var ja=[128,64,32,16,8,4,2,1],Ka=function(){function t(t){this.Lb=t}return t.prototype.Mb=function(t){return qa(this.Lb,t)},t}();function qa(t,n){return(t&n)===n}function Ja(t,n){return qa(t,ja[n])}function Qa(t,n){var i=t.getUint8(n.nc);return n.Pb(1),i}function $a(t,n,i){t.setUint8(n.nc,i),n.Pb(1)}function tc(t,n,i){var r=Dc(Lc(t),n.nc,n.nc+i);return n.Pb(r.byteLength),r}function nc(t,n,i){Lc(t).set(Lc(i),n.nc),n.Pb(i.byteLength)}function ic(t,n,i){return n.nc+i<=t.byteLength}function rc(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Qa(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Qa(t,n);return r}(t,n,i)}function ec(t,n){var i=t.getUint8(n.nc);return n.Pb(1),i}function uc(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.nc,i);return n.Pb(2),r}function sc(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.nc,i,r),n.Pb(2)}function oc(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.nc,i);return n.Pb(4),r}function ac(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.nc,i,r),n.Pb(4)}function cc(t,n,i){void 0===i&&(i=!1);var r=oc(t,n,i),e=oc(t,n,i),u=i?e:r,s=i?r:e;return pe.fromBits(s,u,!0)}function hc(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;ac(t,n,r?u:e,r),ac(t,n,s,r)}function fc(t,n){return lc(t,n)}function vc(t,n,i){return ua(Fc(tc(t,n,i)))}function dc(t,n){var i,r=Qa(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Qa(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Qa(t,n))+(63&Qa(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Qa(t,n))+64*(63&Qa(t,n))+(63&Qa(t,n))),i}function lc(t,n){return gc(t,n,!0)}function gc(t,n,i){for(var r=[];n.nc<t.byteLength;){var e=Qa(t,n);if(i&&!e)break;r.push(e)}return ua(r)}function wc(t,n,i){for(var r=i.length,e=0;e<r;e+=1){$a(t,n,i.charCodeAt(e))}}function mc(t,n){if(n.nc+2<=t.byteLength){var i=t.getUint8(n.nc),r=t.getUint8(n.nc+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function yc(t,n){var i=mc(t,n);return void 0!==i&&n.Pb(2),pc(t,n,!0===i)}function pc(t,n,i){return void 0===i&&(i=!1),_c(t,n,i,!0)}function _c(t,n,i,r){for(var e=[];n.nc+2<=t.byteLength;){var u=uc(t,n,i);if(r&&!u)break;e.push(u)}return ua(e)}function bc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){sc(t,n,i.charCodeAt(u),r)}}function kc(t){return gc(Pc(t),new Uc,!1)}function Ac(t){var n=new E(t.length);return wc(Pc(n),new Uc,t),n}function Tc(t,n){return void 0===n&&(n=!1),_c(Pc(t),new Uc,n,!1)}function Sc(t,n){void 0===n&&(n=!1);var i=new E(2*t.length);return bc(Pc(i),new Uc,t,n),i}function Ec(t,n){return n.nc+3<=t.byteLength&&(239===t.getUint8(n.nc)&&187===t.getUint8(n.nc+1)&&191===t.getUint8(n.nc+2))}function Ic(t,n){return function(t,n,i){var r=[],e=Ec(t,n);e&&n.Pb(3);for(;n.nc<t.byteLength;){var u=dc(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return ea(r)}(t,n,!0)}function Rc(t){return function(t){return ea(t)}(function(t,n){var i,r=[],e=new Uc;if(!n){if(!1===(i=za(t,e)))return r;i===Ya||r.push(i)}for(;!1!==(i=za(t,e));)r.push(i);return r}(Lc(t)))}function Cc(t){return new E(function(t){for(var n=[],i=0;i<t.length;i++)Ga(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Nc(t,n){if(Ec(t,n))return Ic(t,n);if(void 0!==mc(t,n))return yc(t,n);if(n.nc+4<=t.byteLength){if(0===t.getUint8(n.nc)&&0===t.getUint8(n.nc+2))return pc(t,n,!1);if(0===t.getUint8(n.nc+1)&&0===t.getUint8(n.nc+3))return pc(t,n,!0)}return Ic(t,n)}function Dc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function xc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Pc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lc(t){return new E(t.buffer,t.byteOffset,t.byteLength)}function Mc(t){return t instanceof ArrayBuffer||Gc(t)}function Oc(t){return t instanceof ArrayBuffer?new E(t):Lc(t)}function Bc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Vc(Dc(t,n,i))}function Vc(t){if(t.slice)return t.slice(0);var n=new E(t.byteLength);return n.set(t,0),n}function Fc(t){return[].slice.call(t)}var Uc=function(){function t(t){void 0===t&&(t=0),this.rc=t}var n=t.prototype;return n.Pb=function(t){this.rc+=t},n.Db=function(t){this.rc=t},n.Nb=function(){return new t(this.nc)},n.Bb=function(){return new Ua(this.nc<<3)},Nt(t,[{key:"nc",get:function(){return this.rc}}]),t}();function Wc(t){var n=t.toLowerCase(),i=0,r=0;Qo(n,"0x")&&(n=n.substring(2));var e=new E(k.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=A(n[0],16));i<n.length;i+=2)e[r++]=A(n.substr(i,2),16);return e}function Zc(t){return.001*t}var Xc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Gc=ArrayBuffer.isView||function(t){return t&&tr(Xc,zn.call(t))};function Hc(t,n){return t===n||t.byteLength===n.byteLength&&zc(new E(t),new E(n))}function zc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Yc(t,n){return t===n||zc(Oc(t),Oc(n))}function jc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return Kc(t,n)}function Kc(t,n){for(var i=new E(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function qc(t,n,i){var r=new E(t.byteLength+n.byteLength),e=Dc(t,0,i),u=Dc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function Jc(t){return Pa(t).buffer}function Qc(t){return Oa(new E(t))}function $c(t){return Oa(Ac(t))}var th=new E([0]).buffer,nh=function(){function t(){this.tc=[]}var n=t.prototype;return n.Fb=function(t){for(var n=0,i=this.tc;n<i.length;n++){if(Yc(i[n][0],t))return!0}return!1},n.Vb=function(t){for(var n=0,i=this.tc;n<i.length;n++){var r=i[n];if(Yc(r[0],t))return r[1]}},n.Wb=function(t,n){for(var i=0,r=this.tc;i<r.length;i++){var e=r[i];if(Yc(e[0],t))return void(e[1]=n)}this.tc.push([t,n])},n.Ub=function(t,n){this.tc.forEach((function(n){return t(n[1],n[0])}),n)},n.Gb=function(){ir(this.tc)},Nt(t,[{key:"Ob",get:function(){return this.tc.length}}]),t}();F(),Tt();var ih=function(){function t(){var t=this;this.Xb=new et((function(n,i){t.Gd=n,t.Zd=i}))}var n=t.prototype;return n.Zb=function(t){this.Gd&&(this.Gd(t),this.Km())},n.Hb=function(t){this.Zd&&(this.Zd(t),this.Km())},n.np=function(){this.Xb.catch(_i),this.Hb(new _r)},n.rp=function(t){var n=this;t.then((function(t){return n.Zb(t)}),(function(t){return n.Hb(t)}))},n.Km=function(){this.Gd=void 0,this.Zd=void 0},t}();function rh(){return new E([8,4]).buffer}function eh(t,n){return t===Eo?function(t){if(t.byteLength<2*uh.length)return t;var n=new DataView(t,0,2*uh.length),i=Tc(n,!0);if(i===uh)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Qc(t)+i;return Sc(r,!0).buffer}(t)}(n):n}F(),Tt();var uh="<PlayReady";F(),Tt(),F(),Tt(),Rt();var sh=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).zb=i,u.qb=r,u}return It(n,t),n}(pr);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var oh=function(t,n){return(oh=b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)b.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function ah(t,n){if("function"!=typeof n&&null!==n)throw new _("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}oh(t,n),t.prototype=null===n?b.create(n):(i.prototype=n.prototype,new i)}function ch(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();!function(){function t(t,n){this.Yb=t,this.Kb=n}t.prototype.get=function(t){var n=this.Yb.get(t);if(0===this.Kb||void 0===n)return n;var i=this.Yb.get(t+1)||0,r=n&(1<<8-this.Kb)-1,e=i>>8-this.Kb;return(r<<this.Kb)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Yb.get(k.floor((t+this.Kb)/8));if(void 0!==n)return(n&1<<7-this.Kb-t%8)>0?1:0}},b.defineProperty(t.prototype,"bitLength",{get:function(){return this.Yb.bitLength-this.Kb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"length",{get:function(){return this.Yb.length},enumerable:!1,configurable:!0})}();F(),Tt(),F(),Tt();k.pow(2,-52);function hh(t,n,i){return k.min(k.max(t,n),i)}function fh(t,n){return t>>8-n}function vh(t,n){return t&(1<<n)-1}var dh=function(){function t(t){this.jb=t,this.Qb=0,this.Jb=0}return b.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Qb+this.Jb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"done",{get:function(){return this.Qb===this.jb.length&&0===this.Jb},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Qb,bit:this.Jb}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.jb);return n.seek(this.Qb,this.Jb),n},t.prototype.canReadBits=function(t){return 8*this.Qb+t+this.Jb<=8*this.jb.length},t.prototype.canReadBytes=function(t){return 0===this.Jb?this.Qb+t<=this.jb.length:this.Qb+t<this.jb.length},t.prototype.incBit=function(){this.Jb++,this.Jb>7&&(this.Qb++,this.Jb=0)},t.prototype.seek=function(t,n){this.Qb=t,this.Jb=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new p("Cannot read past end of buffer.");return this.jb.get(this.Qb)>>7-this.Jb&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new p("Cannot read past end of buffer.");if(0===this.Jb)return this.jb.get(this.Qb++);var t=vh(this.jb.get(this.Qb),8-this.Jb),n=fh(this.jb.get(this.Qb+1),this.Jb);return this.Qb++,t<<this.Jb|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new p("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");var n=0;if(0===this.Jb&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new p("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new p("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-k.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new p("Skipping over the buffer edge is not allowed.");var n=this.Jb+t;this.Qb+=n>>3,this.Jb=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new p("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();F(),Tt(),F(),Tt(),F(),Tt();var lh=function(t,n){return t===n?0:t<n?-1:t>n?1:S(t)?S(n)?0:1:-1},gh=function(){function t(){this.$b=[],this.tA=[],this.eA=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new p("The buffer length must be positive.");if(0!==i){if(0===this.tA.length)this.tA.push(0);else{var r=this.tA[this.tA.length-1]+this.$b[this.$b.length-1].length;this.tA.push(r)}this.$b.push(t.subarray(n,n+i)),this.eA+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.$b;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.$b=[],this.tA=[],this.eA=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.tA[n];return this.$b[n][i]}},b.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.$b.length<1)return-1;if(this.$b.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.$b[0];return"number"==typeof t?ch(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=ch(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=k.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.tA,t,lh)},t.prototype.join=function(){if(1===this.$b.length)return this.$b[0];var t=new E(this.length);return this.copyInternal(t,0),t},b.defineProperty(t.prototype,"length",{get:function(){return this.eA},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new p("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new p("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*k.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=hh(n,0,this.length),e=hh(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.$b[s],a=r,c=a-this.tA[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.tA[s],o=this.$b[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.$b.length-1,r=this.$b[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.$b[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),wh=function(){function t(n){this.iA=n||t.BUFFER_CHUNK_SIZE,this.sA=!1,this.nA=new gh,this.jb=new E(this.iA),this.rA=0,this.oA=0,this.Jb=7}return t.prototype.closeByte=function(){this.jb[this.rA++]=this.oA,this.rA>=this.iA&&this.closeBuffer(),this.oA=0,this.Jb=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.rA&&(this.nA.pushRange(this.jb,0,this.rA),t&&(this.jb=new E(this.iA)),this.rA=0)},b.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Jb},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.sA)throw new p("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.sA=!0,this.nA},t.prototype.writeBit=function(t){if(this.sA)throw new p("Cannot write to a closed BitWriter.");this.oA|=t<<this.Jb,0===this.Jb?this.closeByte():this.Jb--},t.prototype.writeByte=function(t){if(this.sA)throw new p("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.oA=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Jb;this.oA|=fh(t,n+1),this.closeByte(),this.oA=vh(t,8-n)<<n+1,this.Jb=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.sA)throw new p("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.rA+t.length<=this.iA?(this.jb.set(t,this.rA),this.rA+=t.length,this.rA===this.iA&&this.closeBuffer()):(this.closeBuffer(),this.nA.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Jb;this.oA|=fh(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=vh(t[i-1],8-n),e=fh(t[i],n+1);this.oA=r<<n+1|e,this.closeByte()}this.oA=vh(t[t.length-1],8-n)<<n+1,this.Jb=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new p("Received a negative number.");if(n>32)throw new p("The max bitlength that can be provided is 32.");if(t>=k.pow(2,n))throw new p("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new p("The max bitlength that can be provided is 32.");if(k.abs(t)>=k.pow(2,n-1))throw new p("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+k.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new p("Received a negative number.");for(var n=k.floor(k.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new E(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();F(),Tt();var mh=function(){function t(t){this.rb=new gh,this.Jd=t}return t.prototype.closeWriter=function(){void 0!==this.Jd&&(this.rb=this.rb.concat(this.Jd.close()),this.Jd=void 0)},b.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Jd&&(this.Jd=new wh),this.Jd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),yh=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new p("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(k.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new mh;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=k.pow(2,32),t}();function ph(t,n){return t instanceof pe?64===n:t<k.pow(2,n)}function _h(t,n){return k.round(t*k.pow(2,n))}function bh(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function kh(t,n){return t/k.pow(2,n)}F(),Tt();var Ah=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!ph(i,8))throw new p("the provided version cannot fit in 8 bits.");return e.flags=r,e}return ah(n,t),b.defineProperty(n.prototype,"flags",{get:function(){return this.v_},set:function(t){this.v_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new p("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(yh);F(),Tt(),F(),Tt();var Th=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return ah(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(gh.from(this.data))},n}(yh);F(),Tt(),F(),Tt();var Sh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();F(),Tt();var Eh=16384;function Ih(t){var n=t.length;if(n<=Eh)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Eh)i.push(String.fromCharCode.apply(String,t.slice(r,r+Eh)));return i.join("")}var Rh=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ch(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Nh(t,n,i){var r=Bh(Uh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Dh(t,n,i){return n.offset+i<=t.byteLength}function xh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function Ph(t,n,i){void 0===i&&(i=!1);var r=xh(t,n,i),e=xh(t,n,i),u=i?e:r,s=i?r:e;return pe.fromBits(s,u,!0)}function Lh(t,n,i){return Ih(function(t){return[].slice.call(t)}(Nh(t,n,i)))}function Mh(t,n){var i,r=Ch(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Ch(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Ch(t,n))+(63&Ch(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Ch(t,n))+64*(63&Ch(t,n))+(63&Ch(t,n))),i}function Oh(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=Mh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ih(n)}(r)}(t,n,!0)}function Bh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new E(t.buffer,t.byteOffset+n,i-n)}function Vh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Fh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Uh(t){return new E(t.buffer,t.byteOffset,t.byteLength)}var Wh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Sh(this.offset<<3)},t}();F(),Tt();var Zh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ch(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return xh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=xh(t,n,i),e=xh(t,n,i),u=i?e:r,s=i?r:e;return pe.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Ph(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Nh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(xh(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Lh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Oh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Xh(t,n){return t.type===n}var Gh=8;function Hh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=zh(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new p("Data incomplete");return n.boxes}function zh(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!Dh(t,n,Gh)){return{complete:!1,neededOffset:u=n.offset+Gh}}var r=xh(t,n),e=Lh(t,n,4);if(1===r){if(!Dh(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=Ph(t,n).toNumber()}if("uuid"===e){if(!Dh(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=Lh(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Zh(Vh(t,i,s),new Wh(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Yh(t){return{version:t>>24,flags:new Rh(16777215&t)}}function jh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function Kh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function qh(t){var n=t.nextUint32Array(9);return{a:kh(n[0],16),b:kh(n[1],16),u:kh(n[2],30),c:kh(n[3],16),d:kh(n[4],16),v:kh(n[5],30),x:kh(n[6],16),y:kh(n[7],16),w:kh(n[8],30)}}function Jh(t){return new Th(t.type,Bh(Uh(t.data.data),t.data.cursor.offset))}var Qh=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return ah(n,t),b.defineProperty(n.prototype,"handlerType",{get:function(){return this.hA},set:function(t){this.hA=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Ah);function $h(t){var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new Qh(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}ah(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Qh);F(),Tt(),F(),Tt(),F(),Tt();var tf=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},b.defineProperty(t.prototype,"tag",{get:function(){return this.aA},set:function(t){if(!ph(t,8))throw new p("Provided tag does not fit in 8 bits.");this.aA=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();F(),Tt();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}ah(n,t),b.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.uA},set:function(t){if(!ph(t,8))throw new p("Provided objectTypeIndication does not fit in 8 bits.");this.uA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"streamType",{get:function(){return this.cA},set:function(t){if(!ph(t,6))throw new p("Provided streamType does not fit in 6 bits.");this.cA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.lA},set:function(t){if(!ph(t,24))throw new p("Provided bufferSizeDb does not fit in 24 bits.");this.lA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.dA},set:function(t){if(!ph(t,32))throw new p("Provided maxBitrate does not fit in 32 bits.");this.dA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.fA},set:function(t){if(!ph(t,32))throw new p("Provided avgBitrate does not fit in 32 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(tf);F(),Tt();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}ah(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(gh.from(this.data))}}(tf);F(),Tt(),F(),Tt();var nf=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return ah(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(tf);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new nf(e.fixed28BitMode),u}ah(n,t),b.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"esId",{get:function(){return this._A},set:function(t){if(!ph(t,16))throw new p("Provided esId does not fit in 16 bits.");this._A=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"streamPriority",{get:function(){return this.vA},set:function(t){if(!ph(t,5))throw new p("Provided streamPriority does not fit in 5 bits.");this.vA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.gA},set:function(t){if(t&&!ph(t,16))throw new p("Provided dependsOnEsId does not fit in 16 bits.");this.gA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.mA},set:function(t){if(t&&!ph(t,16))throw new p("Provided ocrEsId does not fit in 16 bits.");this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(tf);F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var rf=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return ah(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(yh),ef=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ah(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(rf),uf=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return ah(n,t),b.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.pA},set:function(t){if(!ph(t,16))throw new p("Provided dataReferenceIndex does not fit in 16 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ef),sf=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return ah(n,t),b.defineProperty(n.prototype,"channelCount",{get:function(){return this.wA},set:function(t){if(!ph(t,16))throw new p("Provided channelCount does not fit in 16 bits.");this.wA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleSize",{get:function(){return this.yA},set:function(t){if(!ph(t,16))throw new p("Provided sampleSize does not fit in 16 bits.");this.yA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleRate",{get:function(){return this.bA},set:function(t){if(!ph(_h(t,16),32))throw new p("Provided rate does not fit in 32 bits (fixed 16.16).");this.bA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(_h(this.sampleRate,16),32),this.extra&&bh(n.writer,this.extra)},n}(uf);F(),Tt();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}ah(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){if(!ph(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!ph(t,32)})))throw new p("Not all entries can be represented in 32 bits.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Ah);F(),Tt();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}ah(n,t),b.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.SA},set:function(t){if(!ph(t,32))throw new p("Provided cleanApertureWidthN does not fit in 32 bits.");this.SA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.TA},set:function(t){if(!ph(t,32))throw new p("Provided cleanApertureWidthD does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.kA},set:function(t){if(!ph(t,32))throw new p("Provided cleanApertureHeightN does not fit in 32 bits.");this.kA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.EA},set:function(t){if(!ph(t,32))throw new p("Provided cleanApertureHeightD does not fit in 32 bits.");this.EA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizOffN",{get:function(){return this.xA},set:function(t){if(!ph(t,32))throw new p("Provided horizOffN does not fit in 32 bits.");this.xA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizOffD",{get:function(){return this.IA},set:function(t){if(!ph(t,32))throw new p("Provided horizOffD does not fit in 32 bits.");this.IA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vertOffN",{get:function(){return this.RA},set:function(t){if(!ph(t,32))throw new p("Provided vertOffN does not fit in 32 bits.");this.RA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vertOffD",{get:function(){return this.CA},set:function(t){if(!ph(t,32))throw new p("Provided vertOffD does not fit in 32 bits.");this.CA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(yh);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}ah(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){if(!ph(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!ph(t.sampleCount,32)||!ph(t.sampleOffset,32)})))throw new p("Not all entries can be represented in 64 bits.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(Ah);F(),Tt();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}ah(n,t),b.defineProperty(n.prototype,"location",{get:function(){return this.PA},set:function(t){this.flags=void 0===t?1:0,this.PA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Ah);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}ah(n,t),b.defineProperty(n.prototype,"location",{get:function(){return this.PA},set:function(t){if(1&this.flags)throw new p("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.PA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Ah);F(),Tt();!function(t){function n(){return t.call(this,"dinf")||this}ah(n,t)}(ef);F(),Tt(),F(),Tt();var of=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!ph(i,8))throw new p("the provided version cannot fit in 8 bits.");return e.flags=r,e}return ah(n,t),b.defineProperty(n.prototype,"flags",{get:function(){return this.v_},set:function(t){this.v_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new p("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(rf);!function(t){function n(){return t.call(this,"dref",0,0)||this}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(of);F(),Tt(),F(),Tt();var af=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!ph(r.segmentDuration,this.bitSize))throw new p("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ph(r.mediaTime,this.bitSize))throw new p("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ph(r.mediaRateInteger,16))throw new p("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!ph(r.mediaRateFraction,16))throw new p("Provided mediaRateFraction does not fit in 16 bits.")}this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Ah),cf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ah(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(af),hf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ah(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(af);function ff(t){for(var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new cf(s,e.raw):new hf(s,e.raw)}var vf=function(t){function n(){return t.call(this,"edts")||this}return ah(n,t),n}(ef);function df(t){for(var n=new vf,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"elst")?n.boxes.push(ff(e)):n.boxes.push(Jh(e))}return n}F(),Tt(),F(),Tt();var lf=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return ah(n,t),b.defineProperty(n.prototype,"majorBrand",{get:function(){return this.DA},set:function(t){if(4!==t.length)throw new p("the provided major brand does not conform to the 4 character requirement");this.DA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"minorVersion",{get:function(){return this.NA},set:function(t){if(!ph(t,32))throw new p("the provided minor version does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.MA},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new p("Some of the compatible brands do not conform to the 4 character requirement");this.MA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(yh),gf=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return ah(n,t),n}(lf);function wf(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new gf(i,r,e)}F(),Tt();var mf=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return ah(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(gh.from(this.data))},n}(yh);F(),Tt(),F(),Tt();var yf=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return ah(n,t),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.LA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.LA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.BA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.BA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.OA},set:function(t){if(!ph(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.FA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.FA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"language",{get:function(){return this.VA},set:function(t){if(!kf(t))throw new p("Expected an ISO-639-2/T language code");this.VA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Ah),pf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return ah(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(yf),_f=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return ah(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(yf);function bf(t){var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags,u=jh(n,r),s=new dh(gh.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return kf(c)||(c="und"),n.skip(2),0===r?new pf(u,c,e.raw):new _f(u,c,e.raw)}function kf(t){return/^[a-z]{3}$/.test(t)}var Af=function(t){function n(){return t.call(this,"mdia")||this}return ah(n,t),n}(ef);function Tf(t){for(var n=new Af,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"mdhd")?n.boxes.push(bf(e)):Xh(e,"hdlr")?n.boxes.push($h(e)):n.boxes.push(Jh(e))}return n}F(),Tt();var Sf=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new gh,n}return ah(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(yh);function Ef(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new Sf;return r.data.pushRange(i),r}F(),Tt();!function(t){function n(){return t.call(this,"minf")||this}ah(n,t)}(ef);F(),Tt();var If;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(of);F(),Tt(),F(),Tt(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(If||(If={})),F(),Tt();var Rf,Cf,Nf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Df(t,n){n.writer.writeUInt(_h(t.a,16),32),n.writer.writeUInt(_h(t.b,16),32),n.writer.writeUInt(_h(0,30),32),n.writer.writeUInt(_h(t.c,16),32),n.writer.writeUInt(_h(t.d,16),32),n.writer.writeUInt(_h(0,30),32),n.writer.writeUInt(_h(t.x,16),32),n.writer.writeUInt(_h(t.y,16),32),n.writer.writeUInt(_h(1,30),32)}function xf(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Rf.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:Cf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:Cf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Cf.UNKNOWN,2)}function Pf(t,n){var i,r,e;n.writer.writeUInt(0,4),xf(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}F(),Tt(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Rf||(Rf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Cf||(Cf={})),F(),Tt(),F(),Tt();var Lf=function(){};F(),Tt(),F(),Tt(),F(),Tt();var Mf=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return ah(n,t),b.defineProperty(n.prototype,"systemId",{get:function(){return this.WA},set:function(t){if(16!==t.length)throw new p("Provided systemId length is not 16.");this.WA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"data",{get:function(){return this.Xp},set:function(t){if(!ph(t.length,32))throw new p("Provided data length does not fit in 32 bits.");this.Xp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(gh.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(gh.from(this.data))},n}(Ah),Of=function(t){function n(n,i){return t.call(this,0,n,i)||this}return ah(n,t),n}(Mf),Bf=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return ah(n,t),b.defineProperty(n.prototype,"kIds",{get:function(){return this.UA},set:function(t){if(!ph(t.length,32))throw new p("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new p("Not all provided key ids are 16 bytes long.");this.UA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(gh.from(r))}},n}(Mf);function Vf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Bf(i,o,r):new Of(i,o)}F(),Tt(),F(),Tt();var Ff=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.GA},set:function(t){if(!ph(t,this.bitSize))throw new p("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.GA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Ah),Uf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ah(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ff),Wf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ah(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ff);function Zf(t){var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Uf(n.nextUint32(),e.raw):new Wf(n.nextUint64(),e.raw)}F(),Tt();var Xf=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return ah(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.ZA},set:function(t){if(!ph(t,32))throw new p("Provided track id does not fit in 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.HA},set:function(t){if(!ph(t,32))throw new p("Provided default sample description index does not fit in 32 bits.");this.HA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.XA},set:function(t){if(!ph(t,32))throw new p("Provided default sample duration does not fit in 32 bits.");this.XA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.zA},set:function(t){if(!ph(t,32))throw new p("Provided default sample size does not fit in 32 bits.");this.zA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.qA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ph(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ph(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.qA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Pf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Ah);function Gf(t){var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Kh(new dh(gh.from(n.nextUint8Array(4))));return new Xf(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var Hf=function(t){function n(){return t.call(this,"mvex")||this}return ah(n,t),n}(ef);function zf(t){for(var n=new Hf,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"mehd")?n.boxes.push(Zf(e)):Xh(e,"trex")?n.boxes.push(Gf(e)):n.boxes.push(Jh(e))}return n}F(),Tt();var Yf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:Nf,h.YA=r,h}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.LA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.LA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.BA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.BA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.OA},set:function(t){if(!ph(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.FA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.FA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"rate",{get:function(){return this.KA},set:function(t){if(!ph(_h(t,16),32))throw new p("Provided rate does not fit in 32 bits (fixed 16.16).");this.KA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"volume",{get:function(){return this.jA},set:function(t){if(!ph(_h(t,8),16))throw new p("Provided volume does not fit in 16 bits (fixed 8.8).");this.jA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"matrix",{get:function(){return this.QA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new p("(u, v, w) does not match the required (0, 0, 1)");this.QA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.YA},set:function(t){if(0===t)throw new p("NextTrackId cannot be 0.");if(!ph(t,32))throw new p("NextTrackId cannot exceed 32 bits.");this.YA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(_h(this.rate,16),32),n.writer.writeUInt(_h(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Df(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Ah),jf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return ah(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Yf),Kf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return ah(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Yf);function qf(t){var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags,u=jh(n,r),s=kh(n.nextUint32(),16),o=kh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=qh(n);n.skip(24);var c=n.nextUint32();return 0===r?new jf(u,c,{rate:s,volume:o,matrix:a},e.raw):new Kf(u,c,{rate:s,volume:o,matrix:a},e.raw)}F(),Tt(),F(),Tt();var Jf=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:Nf,f}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"creationTime",{get:function(){return this.LA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.LA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"modificationTime",{get:function(){return this.BA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.BA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"trackId",{get:function(){return this.ZA},set:function(t){if(0===t)throw new p("trackId cannot be 0.");if(!ph(t,32))throw new p("trackId cannot exceed 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"duration",{get:function(){return this.FA},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.FA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"volume",{get:function(){return this.jA},set:function(t){if(!ph(_h(t,8),16))throw new p("Provided volume does not fit in 16 bits (fixed 8.8).");this.jA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"width",{get:function(){return this.JA},set:function(t){if(!ph(_h(t,16),32))throw new p("Provided width does not fit in 32 bits (fixed 16.16).");this.JA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"height",{get:function(){return this.$A},set:function(t){if(!ph(_h(t,16),32))throw new p("Provided height does not fit in 32 bits (fixed 16.16).");this.$A=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"layer",{get:function(){return this.tS},set:function(t){if(!ph(t,16))throw new p("Provided layer does not fit in 16 bits.");this.tS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.eS},set:function(t){if(!ph(t,16))throw new p("Provided alternateGroup does not fit in 16 bits.");this.eS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"matrix",{get:function(){return this.QA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new p("(u, v, w) does not match the required (0, 0, 1)");this.QA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(_h(this.volume,8),16),n.writer.writeUInt(0,16),Df(this.matrix,n),n.writer.writeUInt(_h(this.width,16),32),n.writer.writeUInt(_h(this.height,16),32)},n}(Ah),Qf=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return ah(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Jf),$f=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return ah(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Jf);function nv(t){var n,i,r,e,u=t.data,s=Yh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),g=kh(u.nextInt16(),8);u.skip(2);var w=qh(u),m=kh(u.nextUint32(),16),y=kh(u.nextUint32(),16);return 0===o?new Qf({creation:n,modification:i,duration:e},r,g,m,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new $f({creation:n,modification:i,duration:e},r,g,m,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var iv=function(t){function n(){return t.call(this,"trak")||this}return ah(n,t),n}(ef);function rv(t){for(var n=new iv,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"tkhd")?n.boxes.push(nv(e)):Xh(e,"mdia")?n.boxes.push(Tf(e)):Xh(e,"edts")?n.boxes.push(df(e)):n.boxes.push(Jh(e))}return n}var ev=function(t){function n(){return t.call(this,"moov")||this}return ah(n,t),n}(ef);function uv(t){for(var n=new ev,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"mvhd")?n.boxes.push(qf(e)):Xh(e,"trak")?n.boxes.push(rv(e)):Xh(e,"mvex")?n.boxes.push(zf(e)):Xh(e,"pssh")?n.boxes.push(Vf(e)):n.boxes.push(Jh(e))}return n}F(),Tt(),F(),Tt(),F(),Tt();var sv=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.iS},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.iS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Ah),ov=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ah(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(sv),av=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ah(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(sv);function cv(t){var n=t.data,i=Yh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new ov(n.nextUint32(),e.raw):new av(n.nextUint64(),e.raw)}F(),Tt();var hv=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return ah(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.ZA},set:function(t){if(!ph(t,32))throw new p("Provided track id does not fit in 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.sS},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new p("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new p("The base data offset present flag is not set.");if(t&&!ph(t,64))throw new p("Provided baseDataOffset does not fit in 32 bits.");this.sS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.nS},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new p("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new p("The sample description index flag is not set.");if(t&&!ph(t,32))throw new p("Provided sampleDescriptionIndex does not fit in 32 bits.");this.nS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.XA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new p("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new p("The default sample duration present flag is not set.");if(t&&!ph(t,32))throw new p("Provided defaultSampleDuration does not fit in 32 bits.");this.XA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.zA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new p("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new p("The default sample size present flag is not set.");if(t&&!ph(t,32))throw new p("Provided defaultSampleSize does not fit in 32 bits.");this.zA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.qA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new p("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new p("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ph(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ph(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.qA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Pf(this.defaultSampleFlags,n)},n}(Ah);function fv(t){var n=t.data,i=n.nextUint8(),r=new dh(gh.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=c?n.nextUint32():void 0,l=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,w=s?Kh(new dh(gh.from(n.nextUint8Array(4)))):void 0;return new hv({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:g,defaultSampleFlags:w},i)}F(),Tt();var vv=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return ah(n,t),b.defineProperty(n.prototype,"dataOffset",{get:function(){return this.rS},set:function(t){if(t&&!ph(t,32))throw new p("Provided data offset does not fit in 32 bits.");this.rS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.oS},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ph(t.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ph(t.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");this.oS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"samples",{get:function(){return this.hS},set:function(t){var n,i;if(!ph(t.length,32))throw new p("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new p("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new p("The sample duration present flag is not set.");if(u.duration&&!ph(u.duration,32))throw new p("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new p("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new p("The sample size present flag is not set.");if(u.size&&!ph(u.size,32))throw new p("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new p("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new p("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ph(u.flags.samplePaddingValue,3))throw new p("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ph(u.flags.sampleDegradationPriority,16))throw new p("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new p("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new p("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!ph(u.compositionTimeOffset,32))throw new p("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.hS=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Pf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&Pf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(Ah);function dv(t){var n=t.data,i=n.nextUint8(),r=new dh(gh.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Kh(new dh(gh.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=Kh(new dh(gh.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new vv(i,f,v)}var lv=function(t){function n(){return t.call(this,"traf")||this}return ah(n,t),n}(ef);function gv(t){for(var n=new lv,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"tfhd")?n.boxes.push(fv(e)):Xh(e,"tfdt")?n.boxes.push(cv(e)):Xh(e,"trun")?n.boxes.push(dv(e)):n.boxes.push(Jh(e))}return n}var wv=function(t){function n(){return t.call(this,"moof")||this}return ah(n,t),n}(ef);function mv(t){for(var n=new wv,i=0,r=Hh(t.data);i<r.length;i++){var e=r[i];Xh(e,"traf")?n.boxes.push(gv(e)):Xh(e,"pssh")?n.boxes.push(Vf(e)):n.boxes.push(Jh(e))}return n}F(),Tt();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}ah(n,t),b.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.aS},set:function(t){if(!ph(t,32))throw new p("Provided sequence number does not fit in 32 bits.");this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Ah);F(),Tt();var yv=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return ah(n,t),b.defineProperty(n.prototype,"codingName",{get:function(){return this.uS},set:function(t){if(4!==t.length)throw new p("Provided coding name was not 4 characters long.");this.uS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(yh);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}ah(n,t),b.defineProperty(n.prototype,"hSpacing",{get:function(){return this.cS},set:function(t){if(!ph(t,32))throw new p("Provided hSpacing does not fit in 32 bits.");this.cS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"vSpacing",{get:function(){return this.lS},set:function(t){if(!ph(t,32))throw new p("Provided vSpacing does not fit in 32 bits.");this.lS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(yh);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}ah(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ef);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new yv(n),e}ah(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(yh);F(),Tt();var pv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){var n=this;if(!ph(t.length,32))throw new p("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!ph(t,n.bitSize)})))throw new p("Not all provided entries fit in ".concat(this.bitSize," bits."));this.AA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.dS},set:function(t){if(void 0===t)this.flags=0;else{if(!ph(t.auxInfoType,32))throw new p("Provided auxInfoType does not fit in 32 bits.");if(!ph(t.auxInfoTypeParameter,32))throw new p("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.dS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Ah);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ah(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(pv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ah(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(pv);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}ah(n,t),b.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.fS},set:function(t){if(!ph(t,8))throw new p("Provided defaultSampleInfoSize does not fit in a single byte.");this.fS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this._S},set:function(t){if(!ph(t.length,32))throw new p("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!ph(t,8)})))throw new p("Not all provided sampleInfoSizes fit in a byte.");this._S=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.dS},set:function(t){if(void 0===t)this.flags=0;else{if(!ph(t.auxInfoType,32))throw new p("Provided auxInfoType does not fit in 32 bits.");if(!ph(t.auxInfoTypeParameter,32))throw new p("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.dS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new p("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(Ah);F(),Tt();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){xf(r[i],n)}}}(Ah);F(),Tt();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(of);F(),Tt();var _v=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return ah(n,t),b.defineProperty(n.prototype,"groupingType",{get:function(){return this.vS},set:function(t){if(4!==t.length)throw new p("The provided groupingType does not equal 4 characters.");this.vS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Ah);(function(t){function n(n,i){return t.call(this,0,n,i)||this}ah(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(_v),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}ah(n,t),b.defineProperty(n.prototype,"defaultLength",{get:function(){return this.gS},set:function(t){if(!ph(t,32))throw new p("The provided defaultLength does not fit in 32 bits.");this.gS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(_v),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new p("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}ah(n,t),b.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.HA},set:function(t){if(!ph(t,32))throw new p("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.HA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(_v);F(),Tt();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}ah(n,t),b.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.mS},set:function(t){if(!ph(t.length,32))throw new p("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!ph(t,32)})))throw new p("Not all sampleSizes can be represented in 32 bits.");this.mS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(Ah),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}ah(n,t),b.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.zA},set:function(t){if(!ph(t,32))throw new p("Provided defaultSampleSize does not fit in 32 bits.");this.zA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"samples",{get:function(){return this.hS},set:function(t){if(!ph(t,32))throw new p("Number of allowed samples cannot fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Ah);F(),Tt();!function(t){function n(){return t.call(this,"stbl")||this}ah(n,t)}(ef);F(),Tt();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}ah(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){if(!ph(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!ph(t.firstChunk,32)||!ph(t.sampleDescriptionIndex,32)||!ph(t.samplesPerChunk,32)})))throw new p("Not all entries can be represented in 96 bits.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(Ah);F(),Tt();!function(t){function n(){return t.call(this,"schi")||this}ah(n,t)}(ef);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}ah(n,t),b.defineProperty(n.prototype,"schemeType",{get:function(){return this.pS},set:function(t){if(4!==t.length)throw new p("The provided schemeType does not have a length of 4.");this.pS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.wS},set:function(t){if(!ph(t,32))throw new p("The provided schemeVersion does not fit in 23 bits.");this.wS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"schemeUri",{get:function(){return this.yS},set:function(t){if(t&&4!==t.length)throw new p("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.yS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Ah);F(),Tt();var bv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return ah(n,t),b.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"referenceId",{get:function(){return this.bS},set:function(t){if(!ph(t,32))throw new p("Provided referenceId does not fit in 32 bits.");this.bS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"timescale",{get:function(){return this.OA},set:function(t){if(!ph(t,32))throw new p("Provided timescale does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.SS},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.SS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"firstOffset",{get:function(){return this.TS},set:function(t){if(!ph(t,this.bitSize))throw new p("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.TS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"references",{get:function(){return this.kS},set:function(t){if(!ph(t.length,16))throw new p("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!ph(r.referencedSize,31))throw new p("Provided referenced size does not fit in 31 bits.");if(!ph(r.subsegmentDuration,32))throw new p("Provided subsegment duration does not fit in 31 bits.");if(!ph(r.sapType,3))throw new p("Provided SAP type does not fit in 3 bits.");if(!ph(r.sapDeltaTime,28))throw new p("Provided SAP delta time does not fit in 28 bits.")}this.kS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(Ah),kv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return ah(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(bv),Av=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return ah(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(bv);F(),Tt();var Tv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return ah(n,t),n}(lf);function Sv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Tv(i,r,e)}F(),Tt();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}ah(n,t),b.defineProperty(n.prototype,"balance",{get:function(){return this.ES},set:function(t){if(t<-1||t>1)throw new p("Provided balance does not fit in the allowed range [-1, 1].");if(!ph(_h(t,8),16))throw new p("Provided balance does not fit in 16 bits (fixed 8.8).");this.ES=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(_h(this.balance,8),16),n.writer.writeUInt(0,16)}}(Ah);F(),Tt();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}ah(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){if(!ph(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!ph(t,32)})))throw new p("Not all entries can be represented in 32 bits.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Ah);F(),Tt();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}ah(n,t),b.defineProperty(n.prototype,"entries",{get:function(){return this.AA},set:function(t){if(!ph(t.length,32))throw new p("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!ph(t.sampleCount,32)||!ph(t.sampleDelta,32)})))throw new p("Not all entries can be represented in 64 bits.");this.AA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(Ah);F(),Tt();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}ah(n,t),b.defineProperty(n.prototype,"trackId",{get:function(){return this.ZA},set:function(t){if(!ph(t,32))throw new p("The provided trackId does not fit in 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(of);F(),Tt();!function(t){function n(){return t.call(this,"udta")||this}ah(n,t)}(ef);F(),Tt();var Ev={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Ev);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}ah(n,t),b.defineProperty(n.prototype,"opColor",{get:function(){return this.xS},set:function(t){if(!ph(t.red,16)||!ph(t.green,16)||!ph(t.blue,16))throw new p("Not all colors could be represented in 16 bits.");this.xS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Ah);F(),Tt();var Iv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return ah(n,t),b.defineProperty(n.prototype,"width",{get:function(){return this.JA},set:function(t){if(!ph(t,16))throw new p("Provided width does not fit in 16 bits.");this.JA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"height",{get:function(){return this.$A},set:function(t){if(!ph(t,16))throw new p("Provided height does not fit in 16 bits.");this.$A=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.IS},set:function(t){if(!ph(_h(t,16),32))throw new p("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.IS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.RS},set:function(t){if(!ph(_h(t,16),32))throw new p("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.RS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"compressorName",{get:function(){return this.CS},set:function(t){if(t.length>31)throw new p("The provided compressorName should at most be 31 characters long.");this.CS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"frameCount",{get:function(){return this.PS},set:function(t){if(!ph(t,16))throw new p("Provided frameCount does not fit in 16 bits.");this.PS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"depth",{get:function(){return this.DS},set:function(t){if(!ph(t,16))throw new p("Provided depth does not fit in 16 bits.");this.DS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(_h(this.horizontalResolution,16),32),n.writer.writeUInt(_h(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&bh(n.writer,this.extra)},n}(uf);F(),Tt(),F(),Tt();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof E?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof E?n.concat(gh.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Ah);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(sf);F(),Tt();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Iv);F(),Tt();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}ah(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(uf);F(),Tt(),F(),Tt();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}ah(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(yh);F(),Tt();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}b.defineProperty(t.prototype,"version",{get:function(){return this.NS},set:function(t){if(!ph(t,8))throw new p("Provided version does not fit in 8 bits.");this.NS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"profileIndication",{get:function(){return this.MS},set:function(t){if(!ph(t,8))throw new p("Provided profileIndication does not fit in 8 bits.");this.MS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.LS},set:function(t){if(!ph(t,8))throw new p("Provided profileCompatibility does not fit in 8 bits.");this.LS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"levelIndication",{get:function(){return this.FS},set:function(t){if(!ph(t,8))throw new p("Provided levelIndication does not fit in 8 bits.");this.FS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"spsSets",{get:function(){return this.VS},set:function(t){if(!ph(t.length,5))throw new p("Provided number of spsSets exceeds the max (32)");this.VS=t},enumerable:!1,configurable:!0}),b.defineProperty(t.prototype,"ppsSets",{get:function(){return this.WS},set:function(t){if(!ph(t.length,8))throw new p("Provided number of ppsSets exceeds the max (256)");this.WS=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(gh.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(gh.from(s))}}}();F(),Tt();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}ah(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Iv);F(),Tt();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}ah(n,t),b.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.lA},set:function(t){if(!ph(t,32))throw new p("Provided bufferSizeDb does not fit in 32 bits.");this.lA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"max",{get:function(){return this.M_},set:function(t){if(!ph(t,32))throw new p("Provided max does not fit in 32 bits.");this.M_=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"avg",{get:function(){return this.US},set:function(t){if(!ph(t,32))throw new p("Provided avg does not fit in 32 bits.");this.US=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(yh);F(),Tt(),F(),Tt(),F(),Tt();var Rv=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new p("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new E(0),o}return ah(n,t),b.defineProperty(n.prototype,"isProtected",{get:function(){return this.GS},set:function(t){if(!ph(t,8))throw new p("Provided isProtected does not fit in 1 byte.");this.GS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.ZS},set:function(t){if(![8,16].includes(t))throw new p("Provided perSampleIvSize does not match any allowed value [8, 16].");this.ZS=t,this.HS=new E(0)},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"kId",{get:function(){return this.XS},set:function(t){if(16!==t.length)throw new p("Provided kId length is not 16.");this.XS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"constantIv",{get:function(){return this.HS},set:function(t){if(![8,16].includes(t.length))throw new p("Provided constant IV length does not match any allowed value [8, 16].");this.HS=t,this.ZS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),bh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),bh(t.writer,this.constantIv))},n}(Ah),Cv=(function(t){function n(n){return t.call(this,0,n)||this}ah(n,t)}(Rv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return ah(n,t),b.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.zS},set:function(t){if(!ph(t,4))throw new p("Provided cryptByteBlocks does not fit in 4 bits.");this.zS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.qS},set:function(t){if(!ph(t,4))throw new p("Provided skipByteBlocks does not fit in 4 bits.");this.qS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Rv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Cv(n),i}ah(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Lf);function Nv(t){return void 0!==t.iv}function Dv(t){return void 0!==t.subsamples}F(),Tt();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}ah(n,t),b.defineProperty(n.prototype,"samples",{get:function(){return this.hS},set:function(t){var n;if(!ph(t.length,32))throw new p("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(Nv(e)&&![8,16].includes(e.iv.length))throw new p("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Dv(e)),!0===n&&!Dv(e)||!1===n&&Dv(e))throw new p("Mix of samples with and without subsamples detected.");if(Dv(e)){if(!ph(e.subsamples.length,16))throw new p("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!ph(o.clearData,16))throw new p("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ph(o.protectedData,23))throw new p("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.hS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];Nv(e)&&(n+=e.iv.length),Dv(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(Nv(e)&&bh(n.writer,e.iv),Dv(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Ah);F(),Tt(),F(),Tt();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}ah(n,t),b.defineProperty(n.prototype,"timescale",{get:function(){return this.OA},set:function(t){if(!ph(t,32))throw new p("The provided timescale does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.YS},set:function(t){if(!ph(t,32))throw new p("The provided presentationTimeDelta does not fit in 32 bits.");this.YS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"eventDuration",{get:function(){return this.KS},set:function(t){if(!ph(t,32))throw new p("The provided eventDuration does not fit in 32 bits.");this.KS=t},enumerable:!1,configurable:!0}),b.defineProperty(n.prototype,"id",{get:function(){return this.jS},set:function(t){if(!ph(t,32))throw new p("The provided id does not fit in 32 bits.");this.jS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(gh.from(this.data))}}(Ah);F(),Tt(),F(),Tt(),F(),Tt();var xv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new mh,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function Pv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=zh(i,r);if(!e.complete)return;if(Xh(e.box,n))return e.box}}(new Zh(Fh(i),new Wh),t);if(!r)throw new p("".concat(t," box not found"));return n(r)}}var Lv=Pv("moov",uv),Mv=Pv("sidx",(function(t){var n,i,r=t.data,e=Yh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new dh(gh.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),g=v.readUInt(32),w=Boolean(v.readBit()),m=v.readUInt(3),y=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:g,startsWithSap:w,sapType:m,sapDeltaTime:y})}return 0===u?new kv(o,a,n,i,h,s.raw):new Av(o,a,n,i,h,s.raw)})),Ov=Pv("moof",mv),Bv=Pv("pssh",Vf);function Vv(t){return function(t){for(var n=new xv,i=0,r=Hh(t);i<r.length;i++){var e=r[i];Xh(e,"ftyp")?n.boxes.push(wf(e)):Xh(e,"styp")?n.boxes.push(Sv(e)):Xh(e,"moov")?n.boxes.push(uv(e)):Xh(e,"moof")?n.boxes.push(mv(e)):Xh(e,"mdat")?n.boxes.push(Ef(e)):n.boxes.push(Jh(e))}return n}(new Zh(Fh(t),new Wh))}var Fv=function(t){function n(n,i){var r;(r=t.call(this)||this).$S=n,r.aT=i,r.iT=!1,r.uT=function(){r.oT()},r.cT=function(t){r._o(new Aa(r,t.messageType,eh(r.aT,t.message)))},r.lT=function(){r.iT=!0,r.tT.Ob>0&&(r.tT.Gb(),r._o(new ba(r.tT))),r.$S.removeEventListener("keystatuseschange",r.uT),r.$S.removeEventListener("message",r.cT)},r.$S.addEventListener("keystatuseschange",r.uT),r.$S.addEventListener("message",r.cT),r.tT=new nh;var e=[];return r.$S.closed&&e.push(et.resolve(r.$S.closed)),r.sT=new ih,e.push(r.sT.Xb),r.Vd=et.race(e).then(r.lT,r.lT),r.oT(),r}It(n,t);var i=n.prototype;return i.Ws=function(){if(this.iT)return this.Vd;var t=[];return t.push(et.resolve(this.$S.close())),t.push(Mr(1e3)),this.sT.rp(et.race(t).catch(Uv)),this.iT=!0,this.Vd},i.nT=function(t,n,i){if(Gn.hg){var r=Bv(Oc(n));if(1===r.version)n=new Of(r.systemId,r.data).serialize().join()}return et.resolve(this.$S.generateRequest(t,n)).catch(Uv)},i.$n=function(t){return et.resolve(this.$S.load(t)).catch(Uv)},i.rT=function(){return et.resolve(this.$S.remove()).catch(Uv)},i.ir=function(t){return et.resolve(this.$S.update(t)).catch(Uv)},i.oT=function(){var t=this;this.tT.Gb(),this.$S.keyStatuses.forEach((function(n,i){t.hT(i,n)})),this._o(new ba(this.tT))},i.hT=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Oc(t);if(this.aT===Eo&&16===r.byteLength&&(Gn.Sg||Gn.ym)){var e=Pc(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.aT===Eo&&"status-pending"===n&&(n="usable"),this.tT.Wb(r,n)},Nt(n,[{key:"QS",get:function(){return this.Vd}},{key:"JS",get:function(){return this.$S.expiration}},{key:"Ab",get:function(){return this.tT}},{key:"eT",get:function(){return this.$S.sessionId}}]),n}(la);function Uv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|A(i[1],16))}throw new sh(t.message,void 0,n,t)}var Wv=function(){function t(t,n,i){this.fT=t,this._T=n,this.kd=i}var n=t.prototype;return n.dT=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){return[2,new Fv(n.fT.createSession(t),n._T)]}))}))()},n.vT=function(t){return et.resolve(this.fT.setServerCertificate(t))},n.kn=function(t){return et.resolve(t.setMediaKeys(this.fT))},n.gT=function(t){return et.resolve(t.setMediaKeys(null))},n.nr=function(){return et.resolve()},t}(),Zv=function(){function t(t,n,i){this.mT=t,this.aT=n,this.wT=i}var n=t.prototype;return n.pT=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,t.mT.createMediaKeys()];case 1:return n=i.sent(),[2,new Wv(n,t.aT,t.wT)]}}))}))()},n.yT=function(){return this.wT},Nt(t,[{key:"_T",get:function(){return this.mT.keySystem}}]),t}();F(),Tt(),F(),Tt(),nn();var Xv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Gv(t){return Jo(t,Xv.APPLICATION_MP4)||Jo(t,Xv.VIDEO_MP4)||Jo(t,Xv.AUDIO_MP4)}function Hv(t){return Jo(t,Xv.VIDEO_WEBM)||Jo(t,Xv.AUDIO_WEBM)}var zv=function(){function t(t,n){this.zw=t,this.AT=n}return t.prototype.bT=function(t){for(var n=0,i=this.AT;n<i.length;n++){var r=tn(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Yv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new zv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=jv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=jv(e.substr(s));f&&u.push(f)}return new zv(r,u)}function jv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Kv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function qv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+ia((r<<16|e).toString(16),6,"0")}return n}function Jv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ST:r.ST},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Qv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Qv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Qv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!tr(n,r.encryptionScheme))&&(!r.robustness&&t(i,Kv(r.contentType))))}function $v(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function td(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function nd(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(id))||!(!t.videoCapabilities||!t.videoCapabilities.some(id))}function id(t){return!t.robustness}function rd(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(ao({},e,{robustness:n}))}return i}var ed=function(){function t(){}return t.prototype.$w=function(t,n){return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:for(n=n.filter((function(t){return!t.ST})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=td(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=td(r.videoCapabilities));if(t!==Co||!n.some(nd))return[3,4];e=n.map((function(t){return function(t,n){return ao({},t,{videoCapabilities:t.videoCapabilities?rd(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?rd(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,l.requestMediaKeySystemAccess(t,e)];case 2:return u=c.sent(),s=u.getConfiguration(),[2,new Zv(u,t,s)];case 3:return c.sent(),[3,4];case 4:return[4,l.requestMediaKeySystemAccess(t,n)];case 5:return o=c.sent(),a=o.getConfiguration(),[2,new Zv(o,t,a)]}}))}))()},t.TT=function(){return ha()},t}();F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var ud=function(t){function n(n,i){var r;return(r=t.call(this)||this).DT=n,r.NT=i,r.iT=!1,r.OT=void 0,r.CT=void 0,r.kT=void 0,r.lT=function(){r.iT=!0,r.ET.Zb(void 0),r.kT&&(r.kT.removeEventListener("mskeyclose",r.lT),r.kT.removeEventListener("mskeymessage",r.MT),r.kT.removeEventListener("mskeyerror",r.Ss),r.kT.removeEventListener("mskeyadded",r.LT))},r.MT=function(t){r.CT&&(r.CT.Zb(void 0),r.CT=void 0),r._o(new Aa(r,"license-request",Vc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.kT&&r.kT.error;if(t){var n=new sh("Unknown CDM error",t.code,t.systemCode);if(r.CT)r.CT.Hb(n),r.CT=void 0;else if(r.OT)r.OT.Hb(n),r.OT=void 0;else switch(n.zb){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.BT("output-not-allowed");break;default:r.BT("internal-error")}}},r.LT=function(){r.CT&&(r.BT("usable"),r.CT.Zb(void 0),r.CT=void 0),r.OT&&(r.BT("usable"),r.OT.Zb(void 0),r.OT=void 0)},r.ET=new ih,r.xT=new nh,r}It(n,t);var i=n.prototype;return i.nT=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return r.IT(),r.CT=new ih,r.dT(Oc(n),i),[4,r.CT.Xb];case 1:return t.sent(),[2]}}))}))()},i.dT=function(t,n){if(!t)throw new _("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.PT;return(i=n?this.DT.createSession(this.NT,t,r):this.DT.createSession(this.NT,t)).addEventListener("mskeyclose",this.lT),i.addEventListener("mskeymessage",this.MT),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.LT),this.kT=i,this.BT("status-pending"),i},i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){return n.IT(),[2,!0]}))}))()},i.ir=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(n.OT=new ih,n.IT(),!n.kT)return[2,et.resolve()];if(0===(i=Oc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.kT.update(i),[4,n.OT.Xb];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.iT&&this.kT&&(this.iT=!0,this.kT.close()),this.ET.Xb},i.rT=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.IT(),[2]}))}))()},i.IT=function(){if(this.iT)throw new _("Already closing or closed.")},i.BT=function(t){this.xT.Gb(),this.xT.Wb(th,t),this._o(new ba(this.xT))},Nt(n,[{key:"eT",get:function(){return this.kT&&this.kT.sessionId||""}},{key:"JS",get:function(){return NaN}},{key:"QS",get:function(){return this.ET.Xb}},{key:"Ab",get:function(){return this.xT}}]),n}(la),sd=function(){function t(t,n,i){this.DT=t,this._T=n,this.kd=i;var r=$v(i)||"video/mp4";this.NT=Kv(r)}var n=t.prototype;return n.dT=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){return[2,new ud(n.DT,n.NT)]}))}))()},n.vT=function(t){return et.resolve(!1)},n.kn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.DT),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.DT):t.addEventListener("loadedmetadata",i),et.resolve()},n.gT=function(t){return et.resolve()},n.nr=function(){return et.resolve()},t}(),od=function(){function t(t,n){this.aT=t,this.FT=n}var n=t.prototype;return n.yT=function(){return this.FT},n.pT=function(){var t=new f.MSMediaKeys(this.aT);return et.resolve(new sd(t,this.aT,this.FT))},Nt(t,[{key:"_T",get:function(){return this.aT}}]),t}(),ad=function(){function t(){}return t.prototype.$w=function(t,n){try{return et.resolve(function(t,n){if(!cd())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Jv(hd,pa,t,r);if(e)return new od(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.TT=function(){return cd()},t}();function cd(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function hd(t,n){return f.MSMediaKeys.isTypeSupported(t,n)}F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var fd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).GT=n,e.NT=i,e.UT=r,e.ET=new ih,e.HT=void 0,e.xT=new nh,e.VT=void 0,e.ZT=new ih,e.Ss=function(){var t=e.VT&&e.VT.error;if(t){var n=new sh("Unknown CDM error",t.code,t.systemCode);e.HT?(e.HT.Hb(n),e.HT=void 0):n.zb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.BT("output-not-allowed"):e.BT("internal-error"),e._o(new Ta)}},e.MT=function(t){e._o(new Aa(e,"license-request",Vc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.LT=function(){e.HT&&(e.HT.Zb(void 0),e.HT=void 0),e.BT("usable")},e}It(n,t);var i=n.prototype;return i.nT=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.WT;if(!r)throw new _("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=Rc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Uc;return ac(o,a,e,!0),bc(o,a,r,!0),ac(o,a,u,!0),bc(o,a,n,!0),ac(o,a,i.byteLength,!0),nc(o,a,i),new E(s)}(Oc(n),r,this.UT);return this.VT=this.GT.createSession(this.NT,e),this.VT.addEventListener("webkitkeymessage",this.MT,!1),this.VT.addEventListener("webkitkeyadded",this.LT,!1),this.VT.addEventListener("webkitkeyerror",this.Ss,!1),this.BT("status-pending"),this.ZT.Zb(this.VT),this.ZT=new ih,et.resolve()},i.$n=function(t){return et.resolve(!0)},i.ir=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:if(0===(i=Oc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.HT=new ih,(r=n.VT)?[3,2]:[4,n.ZT.Xb];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.HT.Xb];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.VT;return n&&(n.removeEventListener("webkitkeymessage",this.MT,!1),n.removeEventListener("webkitkeyadded",this.LT,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.ZT.np(),null==(t=this.HT)||t.np(),this.ET.Zb(void 0),this.ET.Xb},i.rT=function(){return et.resolve(void 0)},i.BT=function(t){this.xT.Gb(),this.xT.Wb(th,t),this._o(new ba(this.xT))},Nt(n,[{key:"eT",get:function(){return this.VT?this.VT.sessionId:""}},{key:"JS",get:function(){return NaN}},{key:"QS",get:function(){return this.ET.Xb}},{key:"Ab",get:function(){return this.xT}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt();var vd=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),dd=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=k.floor(n/1e3);if(i in t)return i;throw new _("Invalid error code: "+n)}}(dd||(dd={}));var ld=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return It(n,t),Nt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return dd.fromCode(this.code)}}]),n}(pr);function gd(t,n){return t instanceof ld?t:t instanceof p?new ld(n,t.message,t):new ld(n,String(t))}var wd=function(){function t(t,n,i){this.GT=t,this._T=n,this.kd=i,this.UT=void 0;var r=$v(i)||"video/mp4";this.NT=Kv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.GT},n.dT=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){if(!n.UT)throw new ld(vd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new fd(n.GT,n.NT,n.UT)]}))}))()},n.vT=function(t){return this.UT=Oc(t),et.resolve(!0)},n.kn=function(t){return t.webkitSetMediaKeys(this.GT),et.resolve()},n.gT=function(t){return t.webkitSetMediaKeys(null),et.resolve()},n.nr=function(){return et.resolve()},t}(),md=function(){function t(t,n){this.aT=t,this.FT=n}var n=t.prototype;return n.yT=function(){return this.FT},n.pT=function(){var t=new f.WebKitMediaKeys(this.aT);return et.resolve(new wd(t,this.aT,this.FT))},Nt(t,[{key:"_T",get:function(){return this.aT}}]),t}(),yd=function(){function t(){}return t.prototype.$w=function(t,n){try{return et.resolve(function(t,n){if(t!==Bo)throw new _(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!pd())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Jv(_d,_a,t,r);if(e)return new md(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.TT=function(){return pd()},t}();function pd(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function _d(t,n){return f.WebKitMediaKeys.isTypeSupported(t,n)}F(),Tt(),Mt(),Wt();var bd=function(){function t(t){this.XT=t}return t.prototype.$w=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:r=0,e=i.XT,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.$w(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new _("Unsupported key system configuration for "+t)}}))}))()},t}();F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var kd=function(){function t(t){var n=this;this.qT=[],this.YT=void 0,this.zT=new mr,this.KT=function(){return 0===n.qT.length?n.QT?Ad(n.QT,n.zT.ep).then(n.JT,n.JT):n.JT():n.qT.shift()().then(n.KT)},this.JT=function(){if(0!==n.qT.length)return n.KT();n.YT=void 0},this.QT=t}var n=t.prototype;return n.Qo=function(t,n){var i=this;return new et((function(r){var e=mr.hp([i.zT.ep,n]),u=function(){e.Km()};i.qT.push((function(){var n=Ad(t,e.ep);return r(n),n.then(u,u)})),i.YT||(i.YT=i.KT())}))},n.np=function(){return this.jT(!0)},n.yn=function(){return this.QT=void 0,this.jT(!1)},n.jT=function(t){var n=this.YT;return this.zT.np(),t&&(this.zT=new mr),et.resolve(n)},t}();function Ad(t,n){return new et((function(i){return i(t(n))}))}var Td=new kd,Sd=function(t){function n(n){var i;return(i=t.call(this)||this).aT=n,i.CT=void 0,i.HT=void 0,i.sA=!1,i.fk=void 0,i.hk=void 0,i.ET=new ih,i.dk="",i.ck=new ih,i.lk=new nh,i}It(n,t);var i=n.prototype;return i.$T=function(){this.HT&&(this.BT("usable"),this.HT.Zb(void 0),this.HT=void 0)},i.ek=function(t){var n=new sh("Unknown CDM error",t.errorCode,t.systemCode);this.HT?(this.HT.Hb(n),this.HT=void 0):this.CT?(this.CT.Hb(n),this.CT=void 0):n.zb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.BT("output-restricted"):1===n.qb?this.BT("expired"):this.BT("internal-error")},i.nk=function(t){0!==t.message.byteLength?(this.CT&&(this.CT.Zb(void 0),this.CT=void 0),this._o(new Aa(this,"license-request",eh(this.aT,Vc(t.message).buffer),t.defaultURL||void 0))):this.CT&&(this.CT.Hb("Empty key message"),this.CT=void 0)},i.rk=function(t){this.hk||(this.hk=t,this.ck.Zb(t))},i.Ws=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.throwIfClosed(),t.HT&&(t.HT.Hb(void 0),t.HT=void 0),t.sA=!0,t.ET.Zb(void 0),[2]}))}))()},i.nT=function(t,n){var i=this;return Pt((function(){var t;return Ot(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.CT=new ih,i.fk=Oc(n),(t=i.hk)?[3,2]:[4,i.ck.Xb];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.aT,i.fk),[4,i.CT.Xb];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.rT=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.ir=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.HT=new ih,Gn.Ng||Gn.Rg?[2,Td.Qo(Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return void 0===n.HT?[2]:(i=n.hk)?[3,2]:[4,n.ck.Xb];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.aT,Oc(t),n.fk,n.eT),[4,n.HT.Xb];case 3:return r.sent(),Gn.Rg?[4,Mr(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.sA)throw new _("Already closing or closed.")},i.BT=function(t){this.lk.Gb(),this.lk.Wb(th,t),this._o(new ba(this.lk))},i._k=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return(i=t.hk)?[3,2]:[4,t.ck.Xb];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.aT,t.dk),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,Mr(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},Nt(n,[{key:"Ab",get:function(){return this.lk}},{key:"eT",get:function(){return this.dk},set:function(t){this.dk=t}},{key:"QS",get:function(){return this.ET.Xb}},{key:"JS",get:function(){return NaN}}]),n}(la),Ed=function(){function t(t,n){var i=this;this._T=t,this.kd=n,this.hk=void 0,this.pk=ho(),this.wk=[],this.LT=function(t){var n=i.yk(t.sessionId);n&&n.$T()},this.vk=function(t){var n=i.yk(t.sessionId);n&&n.ek(t)},this.gk=function(t){var n=i.yk(t.sessionId);n&&n.nk(t)}}var n=t.prototype;return n.kn=function(t){return this.hk=t,this.hk.addEventListener("webkitkeyadded",this.LT),this.hk.addEventListener("webkitkeyerror",this.vk),this.hk.addEventListener("webkitkeymessage",this.gk),this.pk.forEach((function(n,i){return n.rk(t)})),this.wk.forEach((function(n){return n.rk(t)})),et.resolve()},n.gT=function(t){return t.removeEventListener("webkitkeyadded",this.LT),t.removeEventListener("webkitkeyerror",this.vk),t.removeEventListener("webkitkeymessage",this.gk),this.hk=void 0,et.resolve()},n.nr=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:n=t.pk.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1]._k()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.pk.clear(),[2]}}))}))()},n.dT=function(t,n,i){var r=this;return Pt((function(){var t;return Ot(this,(function(n){return t=new Sd(r._T),r.hk&&t.rk(r.hk),r.wk.push(t),[2,t]}))}))()},n.vT=function(t){return et.resolve(!1)},n.yk=function(t){if(t){var n=this.pk.get(t);return n||((n=this.wk.shift())?(n.eT=t,this.pk.set(t,n),n):void 0)}},t}(),Id=function(){function t(t,n){this._T=t,this.bk=n}var n=t.prototype;return n.pT=function(){return et.resolve(new Ed(this._T,this.bk))},n.yT=function(){return this.bk},t}(),Rd=function(){function t(){}return t.prototype.$w=function(t,n){try{return et.resolve(function(t,n){if(!Rd.TT())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Jv(Cd,pa,t,r);if(e)return new Id(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return et.reject(t)}},t.TT=function(){return fa()},t}();function Cd(t,n){var i=Wr();return Boolean(i&&i.canPlayType&&""!==i.canPlayType(n,t))}F(),Tt();var Nd,Dd=function(){function t(){}return t.prototype.$w=function(t,n){return t===Co||t===Eo?et.resolve(void 0):et.reject(new p("DRM configuration not supported"))},t}();function xd(){return Nd||(Nd=function(){var t=[];yd.TT()&&t.push(new yd);ed.TT()&&t.push(new ed);ad.TT()&&t.push(new ad);Rd.TT()&&t.push(new Rd);Gn.Lg&&t.push(new Dd);return new bd(t)}()),Nd}F(),Tt(),Rt(),F(),Tt();var Pd=function(){function t(){this.Ak=ho()}var n=t.prototype;return n.Gb=function(t){this.Ak.delete(t)},n.Sk=function(){this.Ak.clear()},n.Vb=function(t){return this.Ak.get(t)},n.Wb=function(t,n){this.Ak.set(t,n)},t}(),Ld=function(){function t(){}return t.Tk=function(){return t.Vm||(t.Vm=Md.TT()?new Md:new Pd),t.Vm},t.Gb=function(n){t.Tk().Gb(n)},t.Sk=function(){t.Tk().Sk()},t.Vb=function(n){return t.Tk().Vb(n)},t.Wb=function(n,i){t.Tk().Wb(n,i)},t}();Ld.Vm=void 0;var Md=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Gb=function(t){self.sessionStorage.removeItem(t)},i.Sk=function(){self.sessionStorage.clear()},i.Vb=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.Wb=function(t,n){self.sessionStorage.setItem(t,n)},n.TT=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(Ld);F(),Tt(),F(),Tt();var Od=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Bd(t,n,i){var r=Od([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=v.createElement("a");s.href=e,s.download=u,v.body.appendChild(s),s.click(),v.body.removeChild(s),URL.revokeObjectURL(e)}F(),Tt();var Vd="default";F(),Tt(),Dt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt();var Fd=function(t){return t.Ek="arraybuffer",t.xk="json",t.Ik="stream",t.Rk="text",t}({});F(),Tt(),nn();var Ud=function(){function t(n){var i=this;this.P_={},n instanceof t?n.asList().forEach((function(t){var n=tn(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=tn(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&b.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Wd(i),r=Zd(r);var e=i.toLowerCase();if(this.P_.hasOwnProperty(e)){var u=this.P_[e],s=u[1];u[1]=s?s+", "+r:r}else this.P_[e]=[i,r]},n.delete=function(t){var n=Wd(t).toLowerCase();delete this.P_[n]},n.get=function(t){var n=Wd(t).toLowerCase();return this.P_.hasOwnProperty(n)?this.P_[n][1]:null},n.has=function(t){var n=Wd(t).toLowerCase();return this.P_.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Wd(i)).toLowerCase();this.P_[r]=[i,Zd(n)]},n.forEach=function(t,n){for(var i in this.P_)this.P_.hasOwnProperty(i)&&t.call(n,this.P_[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.P_)if(this.P_.hasOwnProperty(n)){var i=tn(this.P_[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.Ck=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.Pk=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.Dk=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Wd(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new _("Invalid character in header field name");return n}function Zd(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),nn(),F(),Tt();var Xd=V(en());F(),Tt(),Dt(),Rt();var Gd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return It(n,t),Nt(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(pr),Hd=t,zd=si(Hd.ReadableStream)&&si(Hd.WritableStream)&&si(Hd.TransformStream)&&ui(Hd.ReadableStream.prototype.pipeThrough)&&!Be.Dp,Yd=zd?Hd.ReadableStream:Xd.ReadableStream,jd=(zd?Hd.WritableStream:Xd.WritableStream,zd?Hd.TransformStream:Xd.TransformStream),Kd=(zd&&Hd.ByteLengthQueuingStrategy?Hd.ByteLengthQueuingStrategy:Xd.ByteLengthQueuingStrategy,zd&&Hd.CountQueuingStrategy?Hd.CountQueuingStrategy:Xd.CountQueuingStrategy);function qd(t){return function(t){return new Yd({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Jd(t){return qd(function(t){return new E(t)}(t))}function Qd(t,n){return function(t,n){var i=n,r=t.getReader(),e=new ih,u=function(){s();var t=new _r;r.cancel(t).catch(_i),e.Hb(t)},s=function(){i&&(i.Jm(u),i=void 0)};i&&(i.zm?u():i.Qm(u));var o=[],a=function(t){return t.done?(s(),et.resolve(o)):(o.push(t.value),et.resolve(r.read()).then(a))};return et.resolve(r.read()).then(a).then((function(t){s(),e.Zb(t)}),(function(t){s(),e.Hb(t)})),e.Xb}(t,n).then((function(t){return jc(t).buffer}))}function $d(t,n){var i=n,r=new jd,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.np()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(_i)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(_i)})),e}function tl(t){var n=new jd,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=qn(n)?n[0]===n[1]||br(n[0])&&br(n[1])?n[0]:new Gd(n):n,t.cancel(i).catch(_i)})),i.tee()}function nl(t){return Rc(new E(t))}function il(t){return Cc(t).buffer}F(),Tt();var rl="content-type",el="text/plain;charset=UTF-8",ul=function(){function t(){}var n=t.prototype;return n.Nk=function(t){return this.Mk(t).then(JSON.parse)},n.Lk=function(t,n){switch(t){case Fd.Ek:return this.Bk(n);case Fd.xk:return this.Nk(n);case Fd.Ik:return this.Ok();case Fd.Rk:return this.Mk(n);default:throw new _}},t}();function sl(t,n,i){if(t instanceof ul)return t;if(t instanceof Yd)return function(t,n){return new al({zw:0,Ok:t,Fk:ol(n)})}(t,i);var r=ol(i),e=et.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{zw:Fd.Rk,Vk:t,Fk:n||el};if(t instanceof ArrayBuffer||Gc(t))return{zw:Fd.Ek,Vk:gl(t),Fk:n};if($n(t)||qn(t))return{zw:Fd.xk,Vk:t,Fk:n};throw new _("Unsupported BodyInit type")}return{zw:Fd.Rk,Vk:null,Fk:n}}(t,r)}));return new al({zw:1,Xb:e,Wk:n})}function ol(t){return(t.get(rl)||"").toLowerCase()}var al=function(t){function n(n){var i;return(i=t.call(this)||this).Gk=!1,i.zk=new ih,i.zk.Xb.catch(_i),i.Kk(n),i}It(n,t);var i=n.prototype;return i.Xk=function(){return this.zk.Xb},i.Mk=function(t){return this.qk(cl,t)},i.Nk=function(t){return this.qk(fl,t)},i.Bk=function(t){return this.qk(dl,t)},i.Ok=function(){return this.Yk(function(t){return 0===t.zw?t.Ok:$d(t.Xb.then(ll).then(Jd),t.Wk)}(this.Hk))},i.qk=function(t,n){if(this.Gk)return et.reject(new _("Already used"));this.Gk=!0;var i=t(this.Hk,n);return this.zk.rp(i.then(_i)),i},i.Yk=function(t){if(this.Gk)throw new _("Already used");if(t.locked)throw new _("Body stream is locked");this.Gk=!0;var n=new jd,i=et.resolve(t.pipeTo(n.writable));return this.zk.rp(i),n.readable},i.Kk=function(t){this.Hk=t,1===t.zw&&t.Xb.catch(_i)},i.jk=function(){if(this.Gk)throw new _("Already used");var t=function(t){if(0===t.zw){var n=tn(t.Ok.tee(),2),i=n[0],r=n[1];return[{zw:t.zw,Ok:i,Fk:t.Fk},{zw:t.zw,Ok:r,Fk:t.Fk}]}var e=tn(t.Wk.op(),2),u=e[0],s=e[1];return[{zw:t.zw,Xb:t.Xb,Wk:u},{zw:t.zw,Xb:t.Xb,Wk:s}]}(this.Hk),i=t[0],r=t[1];return this.Kk(i),new n(r)},Nt(n,[{key:"Uk",get:function(){return this.Gk}},{key:"Zk",get:function(){return 0===this.Hk.zw}}]),n}(ul);function cl(t,n){return 0===t.zw?Qd(t.Ok,n).then(nl):(n&&t.Wk.rp(n),Er(t.Xb.then(hl),t.Wk))}function hl(t){switch(t.zw){case Fd.Rk:return et.resolve(t.Vk||"");case Fd.Ek:return et.resolve(t.Vk).then(nl);case Fd.xk:return et.resolve(t.Vk).then(JSON.stringify)}}function fl(t,n){return 0===t.zw?cl(t,n).then(JSON.parse):(n&&t.Wk.rp(n),Er(t.Xb.then(vl),t.Wk))}function vl(t){return t.zw===Fd.xk?et.resolve(t.Vk):hl(t).then(JSON.parse)}function dl(t,n){return 0===t.zw?Qd(t.Ok,n):(n&&t.Wk.rp(n),Er(t.Xb.then(ll),t.Wk))}function ll(t){switch(t.zw){case Fd.Ek:return et.resolve(t.Vk);case Fd.Rk:case Fd.xk:return hl(t).then(il)}}function gl(t){return t instanceof ArrayBuffer?t:Vc(Lc(t)).buffer}var wl=function(t){function n(n){var i;return(i=t.call(this)||this).Qk=n,i}It(n,t);var i=n.prototype;return i.Xk=function(){return this.Qk.Xk()},i.Mk=function(t){return this.Qk.Mk(t)},i.Nk=function(t){return this.Qk.Nk(t)},i.Bk=function(t){return this.Qk.Bk(t)},i.Ok=function(t){return this.Qk.Ok(t)},i.jk=function(){return this.Qk.jk()},Nt(n,[{key:"Uk",get:function(){return this.Qk.Uk}},{key:"Zk",get:function(){return this.Qk.Zk}}]),n}(ul);function ml(t){return t.Jk>=200&&t.Jk<=299||304===t.Jk}var yl=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.iE,u=i.tE,s=i.Jk,o=i.sE,a=i.nE):(e=[],u=Fd.Rk,s=200,o="OK",a=!1);var c=n.eE,h=new Ud(n.iE||e),f=n.tE||u,v=n.rE||(i&&i.eE===c?i.rE:c.Xu),d=i?i.Qk:null,l=sl(void 0!==n.$k?n.$k:d,n.Wk||new mr,h);return(r=t.call(this,l)||this).iE=h,r.eE=c,r.rE=v,r.tE=f,r.Jk=void 0!==n.Jk?n.Jk:s,r.sE=void 0!==n.sE?String(n.sE):o,r.nE=n.nE||a,r}It(n,t);var i=n.prototype;return i.$k=function(t){return this.Lk(this.tE,t)},i.Nb=function(){return new n({$k:this.jk(),eE:this.eE},this)},n}(wl);F(),Tt();var pl=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),_l=function(t){return t.oE="",t.hE="manifest",t.aE="segment",t.uE="preload-hint",t.cE="content-protection",t}({}),bl=function(t){return t.oE="",t.lE="initialization-segment",t.dE="fairplay-license",t.fE="fairplay-certificate",t._E="widevine-license",t.vE="widevine-certificate",t.gE="playready-license",t.mE="clearkey-license",t.pE="aes128-key",t}({}),kl=function(t){return t.oE="",t.wE="audio",t.yE="video",t.Rk="text",t.bE="image",t}({}),Al=function(t){return t.AE="same-origin",t.SE="no-cors",t.TE="cors",t.kE="navigate",t}({}),Tl=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_=t.Xu;n?(i=n.Vk,r=n.iE,e=n.EE,u=n.tE,s=n.xE,o=n.RE,a=n.ep,c=n.zw,h=n.CE,f=n.PE,v=n.DE,d=n.NE,l=n.LE,g=n.BE,w=n.OE):(i=null,r={},e="GET",u=Fd.Rk,s=0,o=0,c="",h="",f="",v=!1,l=void 0,g=!1,w=void 0),this.Xu=_,this.Vk=t.Vk||i,this.iE=new Ud(t.iE||r),this.EE=t.EE||e,this.tE=t.tE||u,this.xE=void 0!==t.xE?Number(t.xE)||0:s,this.RE=void 0!==t.RE?Number(t.RE)||0:o,this.ep=t.ep||a||(new mr).ep,this.zw=t.zw||c,this.CE=t.CE||h,this.PE=t.PE||f,this.DE=void 0!==t.DE?Boolean(t.DE):v,this.NE=t.NE||d,this.LE=null!=(m=t.LE)?m:l,this.BE=null!=(y=t.BE)?y:g,this.OE=null!=(p=t.OE)?p:w},Sl=function(){function t(){}var n=t.prototype;return n.eE=function(t){var n=function(t){return new yl({$k:null,iE:{},eE:t,rE:t.Xu,tE:t.tE,Jk:0,sE:ya.qy})}(new Tl(t));return et.resolve(n)},n.FE=function(t){},n.yn=function(){},t}();var El=function(){function t(t,n){void 0===n&&(n=!0),this.GE=t,this.HE=n}var n=t.prototype;return n.eE=function(t){var n=this.UE(t);return this.GE.eE(n)},n.FE=function(t){return this.GE.FE(this.ZE(t))},n.UE=function(n){var i=new Tl(n);if(!this.HE){var r=t.XE(i.Xu);i=new Tl({Xu:r},i)}return i},n.ZE=function(n){var i=n.Xu;return this.HE||(i=t.XE(i)),{Xu:i,Vk:n.Vk}},n.yn=function(){this.GE.yn()},t.XE=function(t){return Kn.Dw&&Qo(t,"http://")?t.replace(":","s:"):t},Nt(t,null,[{key:"VE",get:function(){return t.WE||(t.WE=new t(new Sl)),t.WE}}]),t}();function Il(t,n){var i=Kn.Bh(t);return Rl(i,n),i.toString()}function Rl(t,n){for(var i=0,r=b.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Cl(t,n){var i=Kn.Ew(t);return n&&!$o(i,"/")&&(i+="/"),i}El.WE=void 0,F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),nn(),Wt(),F(),Tt();var Nl=/cache:(.+)?(?=&|$)/,Dl="http://webcache.googleusercontent.com/search?q=cache:";function xl(t){if(!Qo(t,Dl))return"";var n=Kn.Bh(t).search.match(Nl);return n&&n.length>1?n[1]:""}function Pl(t){return Kn.Bh(".",t)}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var Ll=function(t){return t.zE="HttpOpenError",t.qE="HttpResponseError",t.YE="HttpTimeoutError",t}({}),Ml=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).KE=n,e}return It(n,t),Nt(n,[{key:"eE",get:function(){return this.KE}}]),n}(pr);var Ol=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.Xu),i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return Ll.zE}}]),n}(Ml);F(),Tt(),Dt(),Rt();var Bl=function(t){function n(n,i,r){var e;return(e=t.call(this,n.eE,null!=r?r:function(t){return"Error while loading "+t.eE.Xu+", status code "+t.Jk}(n),i)||this).QE=n,e}return It(n,t),Nt(n,[{key:"name",get:function(){return Ll.qE}},{key:"jE",get:function(){return this.QE}}]),n}(Ml);F(),Tt(),Dt(),Rt();var Vl=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Xu+" timed out after "+t.xE+" seconds."}(n),i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return Ll.YE}}]),n}(Ml);F(),Tt();var Fl=self.fetch,Ul=self.Request,Wl=self.Response,Zl=self.Headers,Xl=self.ReadableStream,Gl=self.AbortSignal,Hl=self.AbortController,zl=Ti((function(){try{return ui(Fl)&&si(Ul)&&si(Wl)&&si(Zl)&&"forEach"in Zl.prototype&&oo()}catch(t){return!1}})),Yl=["http:","https:"];var jl=Ti((function(){try{return zl()&&si(Gl)&&si(Hl)&&"signal"in Ul.prototype}catch(t){return!1}})),Kl=Ti((function(){try{return zl()&&si(Xl)&&"body"in Wl.prototype&&!Gn.hg}catch(t){return!1}}));function ql(t){return t instanceof Ml}function Jl(t){return t instanceof Bl}function Ql(t,n){var i,r=t.iE.has("content-length")?Number(t.iE.get("content-length")):void 0;return i=t.Zk?function(t,n,i){return t.pipeThrough(new jd(new $l(n,i)))}(t.Ok(),n,r):function(t,n,i){return tg.apply(this,arguments)}(t.Bk(),n,r),new yl({$k:i,eE:t.eE},t)}F(),Tt(),F(),Tt(),Mt(),Wt();var $l=function(){function t(t,n){this.$E=t,this.tx=n,this.JE=0}var n=t.prototype;return n.transform=function(t,n){this.JE+=t.byteLength,this.$E(this.JE,this.tx),n.enqueue(t)},n.flush=function(t){var n;this.$E(this.JE,null!=(n=this.tx)?n:this.JE)},t}();function tg(){return tg=Pt((function(t,n,i){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return[4,et.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),tg.apply(this,arguments)}var ng=function(){function t(t){this.zT=new mr,this.QE=void 0,this.sx=0,this.nx=!1,this.KE=t,this.zT.rp(t.ep),this.jE=this.ix()}var n=t.prototype;return n.ix=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:(n=t.KE).xE&&(t.sx=g((function(){t.nx=!0,t.zT.np()}),n.xE),t.zT.ep.$m((function(){w(t.sx)})));try{i=Fl(n.Xu,{method:n.EE,headers:n.iE.Ck(),body:n.Vk,credentials:n.DE?"include":"same-origin",signal:eg(t.zT.ep),mode:n.LE,keepalive:n.OE})}catch(t){throw new Ol(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),br(u=t.ox(e))&&t.zT.np(),u;case 4:if(s=r.url||n.Xu,o=0===r.status&&"file:"===function(t){return Kn.Bh(t).protocol}(s)?200:r.status,a=new ig(t,r,t.zT),!ml(c=new yl({$k:a,eE:n,tE:n.tE,iE:ug(r.headers),Jk:o,sE:r.statusText,rE:s})))throw new Bl(c);return n.NE&&(c=Ql(c,n.NE)),[2,c]}}))}))()},n.ox=function(t){return ql(t)?t:br(t)?this.nx?new Vl(this.KE):new _r(t.message,t):this.QE?new Bl(this.QE,t):new Ol(this.KE,t)},t}(),ig=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).zk=new ih,e.ux=n,e.hx=i,e.zT=r,e.zk.Xb.catch(_i),e}It(n,t);var i=n.prototype;return i.Xk=function(){return this.zk.Xb},i.Mk=function(t){return this.qk(this.hx.text(),t)},i.Bk=function(t){return this.qk(this.hx.arrayBuffer(),t)},i.Ok=function(){var t=this.hx.body;return t?this.Yk(t):$d(this.Bk().then(Jd),this.zT)},i.jk=function(){var t=this.hx.clone(),i=tn(this.zT.op(),2),r=i[0],e=i[1];return this.zT=r,new n(this.ux,t,e)},i.qk=function(t,n){var i=this;n&&this.zT.rp(n);var r=Sr(et.resolve(t),this.zT.ep).catch((function(t){throw i.ux.ox(t)}));return r=Er(r,this.zT),this.zk.rp(r.then(_i)),r},i.Yk=function(t){var n=this;return new Yd(new sg(t,(function(t){return n.ux.ox(t)}),this.zT,this.zk),{highWaterMark:0})},Nt(n,[{key:"Uk",get:function(){return this.hx.bodyUsed}},{key:"Zk",get:function(){return Yn(this.hx.body)}}]),n}(ul),rg="abort";function eg(t){if(jl()){var n=new Hl;if(t.zm)n.abort();else if(!t.qm){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(rg,i),t.Jm(i),t.tp(r)};n.signal.addEventListener(rg,i),t.Qm(i),t.$m(r)}return n.signal}}function ug(t){if(function(t){return Qn(t)&&"function"==typeof t.forEach}(t)){var n=new Ud;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new Ud(t)}var sg=function(){function t(t,n,i,r){this.lx=t,this._x=n,this.zT=i,this.zk=r}var n=t.prototype;return n.start=function(t){this.Od=this.lx.getReader()},n.pull=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Sr(n.Od.read(),n.zT.ep)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n._x(r),n.zk.Hb(e),n.zT.np(),n.Od.cancel(e).catch(_i),t.error(e),[2];case 3:return i.done?(n.zk.Zb(),n.zT.np(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.zT.np(),this.zk.Hb(t),this.Od.cancel(t)},t}();F(),Tt(),Dt();var og=function(){function t(t){var n=this;this.zT=new mr,this.QE=void 0,this.vx=new ih,this.kx=!1,this.Tx=function(){var t;n.mx(),null==(t=n.gx)||t.abort()},this.KE=t,this.zT.rp(t.ep),this.gx=new R,this.ix()}var n=t.prototype;return n.ix=function(){var t=this,n=this.gx,i=this.KE;if(i.ep.zm)return this.mx();n.onreadystatechange=function(){return t.wx()},n.onprogress=function(n){return t.$E(n)},n.onload=function(){return t.yx()},n.onloadend=function(){return t.bx()},n.onerror=function(){return t.Ax()},n.ontimeout=function(){return t.Sx()},n.onabort=function(){return t.mx()},n.open(i.EE,i.Xu,!0),n.withCredentials=Boolean(i.DE),"responseType"in n&&i.tE&&(i.tE===Fd.Rk?n.responseType="text":n.responseType="arraybuffer"),i.iE.forEach((function(t,i){n.setRequestHeader(i,t)})),i.xE&&(n.timeout=i.xE),this.zT.ep.Qm(this.Tx);var r=i.Vk;r?n.send(r):n.send()},n.wx=function(){var t=this.gx;void 0!==t&&t.readyState>=2&&!this.kx&&(this.kx=!0,this.Ex())},n.Ex=function(){var t,n,i=this.gx,r=function(t){var n=new Ud,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.KE;this.xx=new ih,this.QE=new yl({eE:e,tE:e.tE,$k:this.xx.Xb,Jk:i.status,sE:i.statusText,iE:r,rE:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.vx)||t.Zb(this.QE)},n.yx=function(){var t,n=this.gx;if(void 0!==n){var i=n.response;if(!Yn(i)){var r=this.KE.tE;i=r===Fd.Rk?n.responseText:r===Fd.Ek?new ArrayBuffer(0):{}}null==(t=this.xx)||t.Zb(i)}},n.bx=function(){this.yn()},n.$E=function(t){void 0!==this.gx&&(null==this.KE.NE||this.KE.NE.call(this.KE,t.loaded,t.lengthComputable?t.total:void 0))},n.Ax=function(){var t=new p("Network request failed");this.QE?this.Ss(new Bl(this.QE,t)):this.Ss(new Ol(this.KE,t))},n.Sx=function(){this.Ss(new Vl(this.KE))},n.mx=function(){this.Ss(new _r),this.yn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.xx)?i:this.vx)||n.Hb(t)},n.yn=function(){this.gx=void 0,this.QE=void 0,this.vx=void 0,this.xx=void 0,this.zT.Km()},Nt(t,[{key:"jE",get:function(){return this.vx.Xb}}]),t}();function ag(t,n,i){return new et((function(r,e){if(i&&i.zm)return e(new _r);var u=function(t){o(),r(t)},s=function(){o(),e(new _r)},o=function(){t.removeEventListener(n,u),i&&i.Jm(s)};t.addEventListener(n,u),i&&i.Qm(s)}))}F(),Tt();var cg=function(){function t(){}var n=t.prototype;return n.eE=function(t){return function(t){if(!zl()||!function(t){try{return Yl.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.Xu))return!1;if(!Kl()&&t.NE)return!1;if(!t.BE&&t.EE!==pl.POST){if(Gn.Ng&&Gn.wg<=68)return!1;if(Gn.Rg)return!1}return!0}(t)?new ng(t).jE:new og(t).jE},n.FE=function(t){var n=f.navigator;if(n&&n.sendBeacon)n.sendBeacon(t.Xu,Od([t.Vk],{type:t.Fk}));else{var i=t.Fk?{"Content-type":t.Fk}:void 0;this.eE(new Tl({EE:pl.POST,Xu:t.Xu,Vk:t.Vk,iE:i,LE:Al.SE})).then((function(t){xr(t.Bk())}),_i)}},n.yn=function(){},t}();F(),Tt(),Dt(),Rt(),F(),Tt();var hg=function(t){return t[t.Ix=1]="Ix",t[t.Rx=2]="Rx",t[t.Rk=3]="Rk",t[t.Cx=4]="Cx",t[t.Px=9]="Px",t}({});function fg(t){return 1===t.Dx}function vg(t){return 3===t.Dx}F(),Tt(),Rt();var dg=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return It(n,t),n}(pr),lg=function(){function t(){}return t.prototype.Nx=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new dg(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new dg;return new bg(n)},t}(),gg=function(){function t(t){this.Lx=t}var n=t.prototype;return n.Vx=function(t){return this.Lx.isEqualNode(t.Lx)},n.Wx=function(n){return new t(this.Lx.cloneNode(n))},Nt(t,[{key:"Dx",get:function(){return hg.Rx}},{key:"Mx",get:function(){var t;return null!=(t=this.Lx.localName)?t:Tg(this.Lx.nodeName)}},{key:"l",get:function(){return this.Lx.nodeName}},{key:"Bx",get:function(){var t;return null!=(t=this.Lx.namespaceURI)?t:void 0}},{key:"Ox",get:function(){var t;return null!=(t=this.Lx.prefix)?t:void 0}},{key:"Fx",get:function(){return this.Lx.nodeValue}}]),t}(),wg=function(){function t(t){this.Gx=void 0,this.Zx=t}var n=t.prototype;return n.Hx=function(t){return this.Ux.filter((function(n){return kg(n)&&n.Xx===t}))},n.zx=function(t,n){return this.Ux.filter((function(i){return kg(i)&&i.Mx===n&&i.Bx===t}))},n.Yx=function(t){this.Zx.appendChild(t.qx),this.Gx&&this.Gx.push(t)},n.Vx=function(t){return this.Zx.isEqualNode(t.qx)},Nt(t,[{key:"Ux",get:function(){return void 0===this.Gx&&(this.Gx=function(t){for(var n=[],i=0;i<t.length;i++){var r=Ag(t.item(i));r&&n.push(r)}return n}(this.Zx.childNodes)),this.Gx}},{key:"m",get:function(){return this.Ux.filter(kg)}},{key:"qx",get:function(){return this.Zx}}]),t}(),mg=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.Qx=function(t){if(this.Zx.hasAttribute(t))return this.Zx.getAttribute(t)},i.Jx=function(t,n){if(this.Zx.hasAttributeNS(t,n))return this.Zx.getAttributeNS(t,n)},i.$x=function(t){this.Zx.removeAttribute(t)},i.tI=function(t,n){this.Zx.removeAttributeNS(t,n)},i.eI=function(t,n){this.Zx.setAttribute(t,n)},i.iI=function(t,n,i){this.Zx.setAttributeNS(t,n,i)},i.Wx=function(t){return new n(this.Zx.cloneNode(t))},Nt(n,[{key:"Dx",get:function(){return hg.Ix}},{key:"Mx",get:function(){var t;return null!=(t=this.Zx.localName)?t:Tg(this.Zx.nodeName)}},{key:"Bx",get:function(){var t;return null!=(t=this.Zx.namespaceURI)?t:void 0}},{key:"Ox",get:function(){var t;return null!=(t=this.Zx.prefix)?t:void 0}},{key:"Xx",get:function(){return this.Zx.nodeName}},{key:"Kx",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new gg(t.item(i)));return n}(this.Zx.attributes)}},{key:"jx",get:function(){return this.Zx.textContent}}]),n}(wg),yg=function(){function t(t){this.Zx=t}return t.prototype.Vx=function(t){return this.$k===t.$k},Nt(t,[{key:"$k",get:function(){return this.Zx.nodeValue}},{key:"qx",get:function(){return this.Zx}}]),t}(),pg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Wx=function(t){return new n(this.Zx.cloneNode(t))},Nt(n,[{key:"Dx",get:function(){return hg.Rk}}]),n}(yg),_g=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Wx=function(t){return new n(this.Zx.cloneNode(t))},Nt(n,[{key:"Dx",get:function(){return hg.Cx}}]),n}(yg),bg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n.prototype.Wx=function(t){return new n(this.Zx.cloneNode(t))},Nt(n,[{key:"Dx",get:function(){return hg.Px}},{key:"sI",get:function(){return new mg(this.Zx.documentElement)}}]),n}(wg);function kg(t){return fg(t)}function Ag(t){switch(t.nodeType){case hg.Ix:return new mg(t);case hg.Rk:return new pg(t);case hg.Cx:return new _g(t)}}function Tg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Sg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nI=void 0,n.oI=Kl(),n.aI=Gn.wm||Gn.hg,n.cI=(Gn.wm||Gn.Ng&&Gn.wg<=68||Gn.hg)&&!(Gn.Rg&&Gn.Pg<3),n.pI=void 0,n.wI=new lg,n}return It(n,t),n.prototype.Nx=function(t){return this.wI.Nx(t)},Nt(n,[{key:"_w",get:function(){return this.nI||(this.nI=new va(xd())),this.nI}},{key:"rI",get:function(){return this.oI}},{key:"hI",get:function(){return this.aI}},{key:"uI",get:function(){return this.cI}},{key:"lI",get:function(){return!1}},{key:"dI",get:function(){return Ld.Tk()}},{key:"fI",get:function(){return{_I:Bd}}},{key:"vI",get:function(){return l.connection&&l.connection.effectiveType||Vd}},{key:"gI",get:function(){return l.connection&&l.connection.type||"unknown"}},{key:"mI",get:function(){return this.pI||(this.pI=new El(new cg)),this.pI}}]),n}(uo);!function(t){Kn=t}(new Sg),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var Eg=function(t){function n(n,i){var r;return(r=t.call(this,ya._b)||this).currentTime=n,r.currentProgramDateTime=i,r}return It(n,t),n}(ma);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var Ig=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(ma);function Rg(t){return Boolean(t&&t.wa)}var Cg=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(Ig),Ng=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(ma);F(),Tt();var Dg=function(t){return t.XR="zR",t.qR="YR",t}({}),xg=function(t){function n(n){var i;return(i=t.call(this,Dg.XR)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new Pg(this.Ht.wa)},n}(Cg),Pg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return It(n,t),n}(Ng);F(),Tt(),Rt();var Lg=function(t){function n(n){var i;return(i=t.call(this,Dg.qR)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new Mg(this.Ht.wa)},n}(Cg),Mg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return It(n,t),n}(Ng);F(),Tt();var Og=function(t){return t.KR="jR",t.QR="JR",t.$R="tC",t.eC="iC",t.sC="nC",t.rC="oC",t.da="hC",t.aC="uC",t.cC="lC",t.dC="ir",t.fC="_C",t.vC="gC",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Bg=function(t){function n(){var n;return(n=t.call(this)||this).pC=[],n.eu=void 0,n}It(n,t);var i=n.prototype;return i.wC=function(t){return this.pC[t]},i.tt=function(t){return!(!t||tr(this.pC,t))&&(this.pC.push(t),this.eu&&this.eu.push(t.wa),t.bn(Og.da,this.Ds),this._o(new xg(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.pC.indexOf(t);return!(n<0)&&(Qi(this.pC,n),this.eu&&Qi(this.eu,n),t.vn(Og.da,this.Ds),this._o(new Lg(t)),!0)},i.yC=function(t){return tr(this.pC,t)},i.nr=function(){for(var t=this.pC,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.yn=function(){this.nr(),this.Ro()},Nt(n,[{key:"mC",get:function(){return this.pC}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"V",get:function(){return this.pC.length}}]),n}(la);F(),Tt(),F(),Tt(),F(),Tt();var Vg=b.freeze||bi;function Fg(t,n,i){b.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ug(t,n){for(var i=0,r=b.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];b.defineProperty(t,e,b.getOwnPropertyDescriptor(n,e))}return t}function Wg(t){if($n(t)){var n={};for(var i in t)Hn.call(t,i)&&(n[i]=Wg(t[i]));return n}if(qn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Wg(t[e]));return r}return t}function Zg(t,n){return t===n||!(!t||!n)&&(!(!Qn(t)||!Qn(n))&&(Jn(t)?!!Jn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Zg(t[e],n[e]))return!1;return!0}(t,n):!Jn(n)&&function(t,n){var i=b.keys(t),r=b.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Hn.call(n,u)||!Zg(t[u],n[u]))return!1}return!0}(t,n)))}function Xg(t,n){return t.constructor===n.constructor}function Gg(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Hg(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Jn(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=Qn(a)?Hg(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=Qn(u)?Hg(u):u)}return n}function zg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Yg(t){return Yn(t)?zg(t):void 0}function jg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Kg(t){var n=jg(t);if(S(n))throw new p("Expected a valid number.");return n}function qg(t){return"string"==typeof t?t:""}function Jg(t,n){if(!Jn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Qg(t,n){return Jn(t)?Jg(t,n):n(t)}F(),Tt();var $g=[Dg.XR,Dg.qR,Og.da];function tw(t){var n,i=t.mC.map((function(t){return t.wa}));return i.item=function(n){var i=0|n,r=t.wC(i);return r&&r.wa||void 0},i.addEventListener=function(t,i){n.bn(t,i)},i.removeEventListener=function(t,i){n.vn(t,i)},n=new ga(i),t.bn($g,(function(t){return n._o(t.wa)})),i}F(),Tt();var nw=function(t){return t[t.IC=0]="IC",t[t.RC=1]="RC",t[t.DC=2]="DC",t[t.NC=3]="NC",t[t.MC=4]="MC",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.LC=7]="LC",t}({});function iw(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function rw(){}function ew(t){var n,i=[Og.dC,Og.da,Og.fC,Og.vC,Og.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.BC&&t.BC.wa},get enabled(){return t.Rt},set enabled(n){t.Rt=zg(n)},get id(){return t.o},get uid(){return t.OC},get kind(){return t.Lt},get label(){return t.Ch},set label(n){t.Ch=qg(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.FC)?void 0:n.map(iw))?i:[]},get language(){return t.gs},get qualities(){return t.VC.wa},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.VC.mC;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.wa===o&&i.push(u)}return i}(t,qn(n)?n:[n]):[],i.length>0?t.WC=i:t.WC=void 0},get targetQuality(){if(t.WC)return 1===t.WC.length?t.WC[0].wa:t.WC.map((function(t){return t.wa}))},addEventListener:function(t,i){var r=Qg(t,qg);n.bn(r,i)},removeEventListener:function(t,i){var r=Qg(t,qg);n.vn(r,i)}};return n=new ga(r),t.bn(i,(function(t){return n._o(t.wa)})),b.defineProperty(r,"constructor",{value:rw}),r}function uw(){}function sw(t){var n=tw(t);return b.defineProperty(n,"constructor",{value:uw}),n}var ow=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.ka=function(){return sw(this)},n}(Bg);F(),Tt(),F(),Tt();var aw=function(t){return t.wE="audio",t.yE="video",t.Rk="text",t.bE="image",t.oE="unknown",t}({});function cw(t){return"audio"===t||"video"===t}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var hw=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return It(n,t),Nt(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(ld);var fw=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),vw=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,p.captureStackTrace&&p.captureStackTrace(u,u.constructor),u}return It(n,t),Nt(n,[{key:"name",get:function(){return"MediaError"}}]),n}(yr);function dw(t){Fg(t,"MEDIA_ERR_ABORTED",1),Fg(t,"MEDIA_ERR_NETWORK",2),Fg(t,"MEDIA_ERR_DECODE",3),Fg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Fg(t,"MEDIA_ERR_ENCRYPTED",5)}function lw(t){var n,i;return function(t){return t.category===dd.CONTENT_PROTECTION}(t)?new vw(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new vw(function(t){if(t===vd.MEDIA_ABORTED)return 1;if(t===vd.MANIFEST_LOAD_ERROR||t===vd.MEDIA_LOAD_ERROR||t===vd.SUBTITLE_LOAD_ERROR)return 2;if(t===vd.MEDIA_DECODE_ERROR)return 3;if(t===vd.MEDIA_NOT_SUPPORTED)return 4;var n=dd.fromCode(t);if(n===dd.NETWORK)return 2;if(n===dd.SOURCE)return 4;if(n===dd.LICENSE)return 6;if(n===dd.CONTENT_PROTECTION)return 5;if(n===dd.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function gw(t){return new ld(ww(t.code),t.message,t)}function ww(t){switch(t){case 1:return vd.MEDIA_ABORTED;case 2:return vd.NETWORK_ERROR;case 3:return vd.MEDIA_DECODE_ERROR;case 4:return vd.SOURCE_NOT_SUPPORTED;case 5:return vd.CONTENT_PROTECTION_ERROR;case 6:return vd.LICENSE_ERROR;case 7:return vd.AD_ERROR}}dw(vw),dw(vw.prototype),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var mw=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(wa);F(),Tt(),Dt(),F(),Tt();var yw=function(){function t(){this.jO=[],this.eu=void 0}var n=t.prototype;return n.QO=function(t){this.jO.push(t),this.eu&&this.eu.push(t.wa)},n.rT=function(t){Ji(this.jO,t),this.eu&&Ji(this.eu,t.wa)},n.wC=function(t){return this.jO[t]},n.JO=function(t){return qn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!tr(t,n[i]))return!1;return!0}(this.jO,t):tr(this.jO,t)},n.nr=function(){ir(this.jO),this.eu&&ir(this.eu)},Nt(t,[{key:"mC",get:function(){return this.jO}},{key:"V",get:function(){return this.jO.length}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n=t.mC.map((function(t){return t.wa}));return n.item=function(n){var i=0|n,r=t.wC(i);return r&&r.wa||void 0},n}(this)),this.eu}}]),t}();F(),Tt(),Rt();var pw=function(t){function n(n){var i;return(i=t.call(this,Og.da)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new _w(this.Ht.wa)},n}(Cg),_w=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return It(n,t),n}(Ng);F(),Tt(),Rt();var bw=function(t){function n(n){var i;return(i=t.call(this,Og.dC)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new kw(this.Ht.wa)},n}(Cg),kw=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return It(n,t),n}(Ng);F(),Tt();var Aw=0;function Tw(){return Aw++}var Sw=0;var Ew=0;function Iw(){return Ew++}var Rw=0;function Cw(){return Rw++}var Nw=0;var Dw=function(t){function n(n){var i;return(i=t.call(this)||this).zw=aw.wE,i.qe=!1,i.eu=void 0,i.tF=n,i.eF=Tw(),i.jS=""+Nw++,i.iF=n.label,i.jO=new yw,i.rF(),i}It(n,t);var i=n.prototype;return i.nF=function(t){this.Rt=t},i.rF=function(){this.Rt=this.$O},Nt(n,[{key:"BC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.$O=t,this._o(new pw(this)))}},{key:"$O",get:function(){return this.tF.enabled},set:function(t){this.tF.enabled=t}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"o",get:function(){return this.jS}},{key:"OC",get:function(){return this.eF}},{key:"Lt",get:function(){return this.tF.kind}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"gs",get:function(){return this.tF.language}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"sF",get:function(){return this.tF}},{key:"VC",get:function(){return this.jO}},{key:"WC",get:function(){},set:function(t){}}]),n}(la);F(),Tt(),Dt(),Rt();var xw=0;var Pw=function(t){function n(n){var i;return(i=t.call(this)||this).zw=aw.yE,i.qe=!1,i.eu=void 0,i.tF=n,i.eF=Tw(),i.jS=""+xw++,i.jO=new yw,i.iF=n.label,i.rF(),i}It(n,t);var i=n.prototype;return i.rF=function(){this.Rt=this.$O},i.nF=function(t){this.Rt=t},Nt(n,[{key:"BC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.$O=t,this._o(new pw(this)))}},{key:"$O",get:function(){return Boolean(this.tF.selected)},set:function(t){this.tF.selected=t}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"o",get:function(){return this.jS}},{key:"OC",get:function(){return this.eF}},{key:"Lt",get:function(){return"main"}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"gs",get:function(){return this.tF.language}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"sF",get:function(){return this.tF}},{key:"VC",get:function(){return this.jO}},{key:"WC",get:function(){},set:function(t){}}]),n}(la);F(),Tt(),Rt();var Lw=function(t){function n(n){var i;return(i=t.call(this,ya.Sy)||this).ZI=n,i}return It(n,t),n}(ma);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var Mw=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});F(),Tt();var Ow=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Bw(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}F(),Tt(),F(),Tt();var Vw=function(t){return t.oF="cue",t.hF="region",t.aF="stylesheet",t}({});F(),Tt(),Dt(),Rt(),F(),Tt();var Fw={"line-left":"start",center:"middle","line-right":"end"},Uw={start:"line-left",middle:"center",end:"line-right"};function Ww(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Zw(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:T(t);return S(i)?n:i}(t,50)}F(),Tt(),F(),Tt(),F(),Tt(),Rt();var Xw=function(t){return t.IO="vo",t.RO="xo",t.dC="ir",t}({}),Gw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).uF=i,r}return It(n,t),n}(Cg),Hw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return It(n,t),n}(Ng);function zw(t){var n,i=[Xw.IO,Xw.RO,Xw.dC],r={get cF(){return t},get track(){return t.Ht.wa},get id(){return t.o},get uid(){return t.OC},get startTime(){return t.lF},set startTime(n){t.lF=n},get endTime(){return t.dF},set endTime(n){t.dF=n},get content(){return t.U},addEventListener:function(t,i){var r=Qg(t,qg);n.bn(r,i)},removeEventListener:function(t,i){var r=Qg(t,qg);n.vn(r,i)}};return n=new ga(r),t.bn(i,(function(t){return n._o(t.wa)})),r}function Yw(){}function jw(t){return Ug(zw(t),{get align(){return t.fF},get line(){return t._F},get lineAlign(){return t.vF},get position(){return t.fo},get positionAlign(){return t.gF},get region(){return t.mF?t.mF.wa:null},get size(){return t.Ob},get snapToLines(){return t.pF},get text(){return t.U},get vertical(){return t.Pt}})}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var Kw=function(t){function n(n){return t.call(this,Xw.dC,n)||this}return It(n,t),n.prototype.ka=function(){return new qw(this.uF.wa)},n}(Gw),qw=function(t){function n(n){return t.call(this,"update",n)||this}return It(n,t),n}(Hw);F(),Tt(),Rt();var Jw=function(t){function n(n){var i;return(i=t.call(this,Og.$R)||this).uF=n,i}return It(n,t),n.prototype.ka=function(){return new Qw(this.uF.wa)},n}(Cg),Qw=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return It(n,t),n}(Ng),$w=.02;function tm(t,n){return xi(t.wF,n.wF,$w)&&xi(t.yF,n.yF,$w)&&t.o===n.o}var nm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).eu=void 0,s.AF=void 0,s.eo=!1,s.PF=-1,s.eF=Cw(),s.bF=n,s.TF=i,s.wF=n,s.yF=i,s.kF=r,s.xF=Boolean(e),s.jS=null!=u?u:"",s}It(n,t);var i=n.prototype;return i.ka=function(){return zw(this)},i.IF=function(t){return this===t||Xg(this,t)&&tm(this,t)&&this.RF(t)},i.RF=function(t){return Zg(this.U,t.U)},i.CF=function(t,n){this.bF=t,this.TF=n,this.wF=t,this.yF=n},i.yn=function(){this.Ro()},Nt(n,[{key:"lF",get:function(){return this.bF},set:function(t){var n,i;this.bF!==t&&(this.bF=t,null==(n=this.AF)||n.SF(this),this._o(new Kw(this)),null==(i=this.AF)||i._o(new Jw(this)))}},{key:"dF",get:function(){return this.TF},set:function(t){var n,i;this.TF!==t&&(this.TF=t,null==(n=this.AF)||n.SF(this),this._o(new Kw(this)),null==(i=this.AF)||i._o(new Jw(this)))}},{key:"o",get:function(){return this.jS}},{key:"OC",get:function(){return this.eF}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"so",get:function(){return this.eo},set:function(t){this.eo=t}},{key:"Ht",get:function(){return this.AF},set:function(t){this.AF=t}},{key:"U",get:function(){return this.kF},set:function(t){var n;this.kF!==t&&(this.kF=t,this._o(new Kw(this)),null==(n=this.AF)||n._o(new Jw(this)))}},{key:"EF",get:function(){return this.xF},set:function(t){this.xF=t}}]),n}(la);function im(t,n){return t.U===n.U&&t._F===n._F&&t.vF===n.vF&&t.fo===n.fo&&t.gF===n.gF&&t.mF===n.mF&&t.pF===n.pF&&t.Ob===n.Ob&&t.fF===n.fF&&t.Pt===n.Pt}var rm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this)._F="auto",s.vF="start",s.fo="auto",s.gF="auto",s.mF=void 0,s.pF=!0,s.Ob=100,s.fF="center",s.Pt="",s}return It(n,t),n.prototype.RF=function(t){return im(this,t)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=jw(this)),this.eu}},{key:"zw",get:function(){return Vw.oF}}]),n}(nm);function em(t){var n=t._F,i=ei(n);return i&&!t.pF&&(n<0||n>100)?100:i?Number(n):t.pF?-1:100}function um(t){return Zw(t.fo,t.fF)}function sm(t){return Ww(t.gF,t.fF)}function om(t){var n,i=sm(t),r=um(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return k.min(t.Ob,n)}function am(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.DF},get regionAnchorX(){return t.NF},get regionAnchorY(){return t.MF},get scrollValue(){return t.LF},get viewportAnchorX(){return t.BF},get viewportAnchorY(){return t.OF},get width(){return t.ji}}}F(),Tt(),Dt(),F(),Tt();var cm=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.DF=i,this.NF=r,this.MF=e,this.BF=u,this.OF=s,this.LF=o}return Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=am(this)),this.eu}},{key:"zw",get:function(){return Vw.hF}}]),t}();F(),Tt(),F(),Tt();var hm=1e6,fm=function(){function t(){}var n=t.prototype;return n.FF=function(t){return this.VF()*t},n.WF=function(t){return this.UF(t)>0},n.GF=function(t){return this.UF(t)>=0},n.ZF=function(t,n){return this.XF(t).HF(n)},n.IF=function(t){return 0===this.UF(t)},n.zF=function(t){return this.UF(t)<0},n.HF=function(t){return this.UF(t)<=0},n.qF=function(){return this.YF()?this.KF():this},n.jF=function(t){return this.QO(t.KF())},n.XF=function(t){return this.jF(t).qF()},t}();function vm(t,n){return t.QF()?n.QF()?Fi.eh:Fi.Zm:n.QF()?Fi.Hm:t.JF()?n.JF()&&t.YF()===n.YF()?Fi.eh:t.YF()?Fi.Hm:Fi.Zm:n.YF()?Fi.Zm:Fi.Hm}F(),Tt(),Rt(),nn(),F(),Tt(),nn();var dm=4294967296,lm=dm*dm,gm=lm*lm,wm=gm/2,mm=function(){function t(t,n){this.lV=t,this.uV=n}var n=t.prototype;return n.aV=function(){return this.uV.unsigned},n.cV=function(){return this.lV.isZero()&&this.uV.isZero()},n.YF=function(){return this.uV.isNegative()},n.dV=function(){return this.aV()?t.tV(this.lV,this.uV,!1):this},n.fV=function(){return this.aV()?this:t.tV(this.lV,this.uV,!0)},n._V=function(){return this.lV},n.VF=function(){return this.YF()?-this.KF().VF():this.uV.toNumber()*lm+this.lV.toUnsigned().toNumber()},n.vV=function(){return this.lV.toInt()},n.IF=function(t){return(this.aV()===t.aV()||this.uV.getHighBits()>>>31!=1||t.uV.getHighBits()>>>31!=1)&&(this.uV.toUnsigned().eq(t.uV.toUnsigned())&&this.lV.toUnsigned().eq(t.lV.toUnsigned()))},n.UF=function(t){if(this.IF(t))return Fi.eh;var n=this.YF(),i=t.YF();if(n&&!i)return Fi.Hm;if(!n&&i)return Fi.Zm;if(!this.aV())return this.jF(t).YF()?Fi.Hm:Fi.Zm;var r=this.fV(),e=t.fV(),u=e.uV.comp(r.uV);return u>0||0===u&&e.lV.gt(r.lV)?Fi.Hm:Fi.Zm},n.zF=function(t){return this.UF(t)<0},n.HF=function(t){return this.UF(t)<=0},n.gV=function(t){return this.UF(t)>0},n.mV=function(t){return this.UF(t)>=0},n.pV=function(){return new t(this.lV.not(),this.uV.not())},n.wV=function(n){return new t(this.lV.and(n.lV),this.uV.and(n.uV))},n.yV=function(n){return new t(this.lV.or(n.lV),this.uV.or(n.uV))},n.bV=function(n){var i=127&n;return 0===i?this:i<64?t.tV(this.lV.shl(i),this.uV.shl(i).or(this.lV.shru(64-i)),this.aV()):t.tV(pe.ZERO,this.lV.shl(i-64),this.aV())},n.AV=function(n){var i=127&n;return 0===i?this:i<64?t.tV(this.lV.shru(i).or(this.uV.shl(64-i)),this.uV.shr(i),this.aV()):t.tV(this.uV.shr(i-64),this.uV.isNegative()?pe.NEG_ONE:pe.ZERO,this.aV())},n.SV=function(n){var i=127&n;return 0===i?this:i<64?t.tV(this.lV.shru(i).or(this.uV.shl(64-i)),this.uV.shru(i),this.aV()):64===i?t.tV(this.uV,pe.ZERO,this.aV()):t.tV(this.uV.shru(i-64),pe.ZERO,this.aV())},n.QO=function(n){var i=this.uV.high>>>16,r=65535&this.uV.high,e=this.uV.low>>>16,u=65535&this.uV.low,s=this.lV.high>>>16,o=65535&this.lV.high,a=this.lV.low>>>16,c=65535&this.lV.low,h=n.uV.high>>>16,f=65535&n.uV.high,v=n.uV.low>>>16,d=65535&n.uV.low,l=n.lV.high>>>16,g=65535&n.lV.high,w=n.lV.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=c+(65535&n.lV.low))>>>16,T&=65535,k+=(A+=a+w)>>>16,A&=65535,b+=(k+=o+g)>>>16,k&=65535,_+=(b+=s+l)>>>16,b&=65535,p+=(_+=u+d)>>>16,_&=65535,y+=(p+=e+v)>>>16,p&=65535,m+=(y+=r+f)>>>16,y&=65535,m+=i+h,m&=65535;var S=this.aV(),E=pe.fromBits(p<<16|_,m<<16|y,S),I=pe.fromBits(A<<16|T,b<<16|k,S);return t.tV(I,E,S)},n.jF=function(t){return this.QO(t.KF())},n.KF=function(){return this.pV().QO(t.TV)},n.kV=function(n){if(this.cV()||n.cV())return this.aV()?t.sV:t.nV;if(this.YF())return n.YF()?this.KF().kV(n.KF()):this.KF().kV(n).KF();if(n.YF())return this.kV(n.KF()).KF();if(this.uV.isZero()&&0===this.lV.high&&n.uV.isZero()&&0===n.lV.high)return t.eV(this.lV.multiply(n.lV));var i=pe.fromBits(4294967295,0,!0),r=this.lV.and(i),e=this.lV.shru(32),u=this.uV.and(i),s=this.uV.shru(32),o=n.lV.and(i),a=n.lV.shru(32),c=n.uV.and(i),h=n.uV.shru(32),f=pe.UZERO,v=pe.UZERO,d=pe.UZERO,l=pe.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=pe.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=pe.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.tV(g,w,this.aV())},n.EV=function(n){var i,r,e=n;if(e.cV())throw new RangeError("division by zero");if(this.cV())return this.aV()?[t.sV,t.sV]:[t.nV,t.nV];if(this.aV()){if(e.aV()||(e=e.fV()),e.gV(this))return[t.sV,this];if(e.gV(this.SV(1)))return[r=t.xV,i=this.jF(e)];r=t.sV}else{if(this.IF(t.oV)){if(e.IF(t.TV)||e.IF(t.RV))return[t.oV,t.nV];if(e.IF(t.oV))return[t.TV,t.nV];var u=this.AV(1).CV(e).bV(1);return u.IF(t.nV)?r=e.YF()?t.TV:t.RV:(i=this.jF(e.kV(u)),r=u.QO(i.CV(e))),[r,i=this.jF(e.kV(r))]}if(e.IF(t.oV))return this.aV()?[t.sV,this]:[t.nV,this];var s,o;if(this.YF())return e.YF()?this.KF().EV(e.KF()):(r=(s=tn(this.KF().EV(e),2))[0],i=s[1],[r.KF(),i.KF()]);if(e.YF())return r=(o=tn(this.EV(e.KF()),2))[0],i=o[1],[r.KF(),i.KF()];r=t.nV}for(i=this;i.mV(e);){for(var a=k.max(1,k.floor(i.VF()/e.VF())),c=k.ceil(k.log(a)/k.LN2),h=c<=48?1:k.pow(2,c-48),f=t.iV(a),v=f.kV(e);v.YF()||v.gV(i);)a-=h,v=(f=t.iV(a,this.aV())).kV(e);f.cV()&&(f=t.TV),r=r.QO(f),i=i.jF(v)}return[r,i]},n.CV=function(t){return this.EV(t)[0]},n.PV=function(t){return this.EV(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cV())return"0";if(this.YF()){if(this.IF(t.oV)){var r=t.iV(i),e=this.CV(r),u=e.kV(r).jF(this);return e.toString(i)+u.vV().toString(i)}return"-"+this.KF().toString(i)}for(var s=t.iV(k.pow(i,6),this.aV()),o=this,a="";;){var c=o.CV(s),h=(o.jF(c.kV(s)).vV()>>>0).toString(i);if((o=c).cV())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.tV=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.eV=function(n){return n.unsigned?new t(n,pe.UZERO):new t(n,n.isNegative()?pe.NEG_ONE:pe.ZERO)},t.iV=function(n,i){if(S(n))return i?t.sV:t.nV;if(i){if(n<0)return t.sV;if(n>=gm)return t.rV}else{if(n<=-wm)return t.oV;if(n+1>=wm)return t.hV}return n<0?t.iV(-n,i).KF():t.tV(pe.fromNumber(n%lm),pe.fromNumber(n/lm),i)},t}();mm.nV=mm.eV(pe.ZERO),mm.sV=mm.eV(pe.UZERO),mm.TV=mm.eV(pe.ONE),mm.xV=mm.eV(pe.UONE),mm.RV=mm.eV(pe.NEG_ONE),mm.hV=mm.tV(pe.NEG_ONE,pe.MAX_VALUE,!1),mm.rV=mm.tV(pe.MAX_UNSIGNED_VALUE,pe.MAX_UNSIGNED_VALUE,!0),mm.oV=mm.tV(pe.ZERO,pe.MIN_VALUE,!1),F(),Tt(),Dt();var ym=function(){function t(t,n){void 0===n&&(n=1),this.DV=t,this.RN=n}var n=t.prototype;return n.QO=function(n){return this.RN>=n.RN?new t(this.DV+n.OV(this.RN).DV,this.RN):new t(this.OV(n.RN).DV+n.DV,n.RN)},n.WF=function(t){return t.zF(this)},n.GF=function(t){return t.HF(this)},n.XF=function(n){return this.RN>=n.RN?new t(k.abs(this.DV-n.OV(this.RN).DV),this.RN):n.XF(this)},n.ZF=function(t,n){return this.XF(t).HF(n)},n.UF=function(t){return function(t,n){return t.RN>=n.RN?Xi(t.DV,n.OV(t.RN).DV):Xi(t.OV(n.RN).DV,n.DV)}(this,t)},n.IF=function(t){return 0===this.UF(t)},n.zF=function(t){return this.UF(t)<0},n.HF=function(t){return this.UF(t)<=0},n.OV=function(n){return new t(this.DV*(n/this.RN),n)},n.jF=function(n){return this.RN>=n.RN?new t(this.DV-n.OV(this.RN).DV,this.RN):new t(this.OV(n.RN).DV-n.DV,n.RN)},n.FV=function(n){return new t(this.DV*n,this.RN)},t.NV=function(n){return new t(k.ceil(n.DV),n.RN)},t.MV=function(n){return new t(k.floor(n.DV),n.RN)},t.LV=function(t,n){return t.GF(n)?t:n},t.BV=function(t,n){return t.HF(n)?t:n},Nt(t,[{key:"JF",get:function(){return!isFinite(this.DV)}},{key:"od",get:function(){return this.DV/this.RN}}]),t}();ym.ad=new ym(1/6,1),ym.nV=new ym(0),ym.VV=new ym(1/0),ym.WV=1e6;var pm=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fx=n.toSigned(),r.RN=i>>>0,r}It(n,t);var i=n.prototype;return i.YF=function(){return this.Fx.isNegative()},i.cV=function(){return 0!==this.RN&&this.Fx.isZero()},i.JF=function(){return 0===this.RN&&!this.Fx.isZero()},i.QF=function(){return 0===this.RN&&this.Fx.isZero()},i.VF=function(){if(0===this.RN)return this.Fx.isZero()?NaN:this.Fx.isNegative()?-1/0:1/0;var t=this.Fx.divide(this.RN),n=this.Fx.subtract(t.multiply(this.RN));return t.toNumber()+n.toNumber()/this.RN},i._V=function(){if(0===this.RN)throw new p("Failed to convert timestamp");return this.Fx},i.KV=function(){return new Date(0===this.RN?NaN:this.OV(1e3).Fx.toNumber())},i.jV=function(){return new ym(0===this.RN?this.VF():this.Fx.toNumber(),this.RN)},i.OV=function(t,i){void 0===i&&(i=bm.QV);var r=this.RN;if(r===t)return this;if(0===r)return this;var e=Bi(r,t),u=function(t,n,i){var r=tn(t.EV(n),2),e=r[0],u=r[1];if(u.cV())return e;if(i===bm.QV)return u.YF()?e.jF(mm.TV):e;if(i===bm.JV)return u.YF()?e:e.QO(mm.TV);var s=u.kV(mm.iV(2));return s.YF()?s.KF().zF(n)?e:e.jF(mm.TV):s.zF(n)?e:e.QO(mm.TV)}(mm.eV(this.Fx).kV(mm.iV(t/e)),mm.iV(r/e),i);return new n(u._V(),t)},i.UF=function(t){if(this===t)return Fi.eh;if(0===this.RN||0===t.RN)return vm(this,t);if(this.cV())return t.cV()?Fi.eh:t.YF()?Fi.Zm:Fi.Hm;if(t.cV())return this.YF()?Fi.Hm:Fi.Zm;var n=k.min(this.RN,t.RN),i=this.OV(n,bm.$V).Fx,r=t.OV(n,bm.$V).Fx;return i.compare(r)},i.KF=function(){return 0===this.RN?function(t){0;return t.QF()?t:t.YF()?pm.HV:pm.XV}(this):new n(this.Fx.negate(),this.RN)},i.QO=function(t){if(0===this.RN||0===t.RN)return function(t,n){0;if(t.QF()||n.QF())return pm.ZV;if(t.JF()&&n.JF())return t.YF()===n.YF()?t:pm.ZV;return t.JF()?t:n}(this,t);if(this.cV())return t;if(t.cV())return this;var i=k.max(this.RN,t.RN),r=this.OV(i,bm.$V),e=t.OV(i,bm.$V);return new n(r.Fx.add(e.Fx),i)},i.kV=function(t){if(this.QF()||S(t))return n.ZV;if(this.JF()||!isFinite(t)){if(this.cV()||0===t)return n.ZV;var i=this.YF()?n.XV:n.HV;return t<0?i.KF():i}return this.cV()?this:new n(0===t?pe.ZERO:this.Fx.multiply(t),this.RN)},i.CV=function(t){if(this.QF()||S(t))return n.ZV;if(this.JF())return isFinite(t)?0===t?1/t<0?this.KF():this:t<0?this.KF():this:n.ZV;if(!isFinite(t))return new n(pe.ZERO,this.RN);if(this.cV())return 0===t?n.ZV:new n(pe.ZERO,this.RN);if(0===t){var i=this.YF()?n.XV:n.HV;return 1/t<0?i.KF():i}return new n(this.Fx.divide(t),this.RN)},i.tW=function(){return[this.Fx.low,this.Fx.high,this.RN]},n.GV=function(t,i){return void 0===i&&(i=hm),n.iV(t*i,i)},n.iV=function(t,i){return S(t)?n.ZV:t===1/0?n.HV:t===-1/0?n.XV:new n(pe.fromNumber(t),i)},n.eV=function(t,i){return new n(t,i)},n.zV=function(t){return n.GV(t.od,hm)},n.qV=function(t){return new n(pe.fromNumber(t.getTime()),1e3)},n.LV=function(t,n){return t.GF(n)?t:n},n.BV=function(t,n){return t.HF(n)?t:n},n.YV=function(t,i,r){return n.LV(i,n.BV(r,t))},n}(fm);pm.nV=new pm(pe.ZERO,hm),pm.ZV=new pm(pe.ZERO,0),pm.HV=new pm(pe.ONE,0),pm.XV=new pm(pe.NEG_ONE,0),F(),Tt(),Dt(),Rt(),at();var _m=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fx=BigInt.asIntN(64,n),r.RN=i>>>0,r}It(n,t);var i=n.prototype;return i.YF=function(){return this.Fx<BigInt(0)},i.cV=function(){return 0!==this.RN&&this.Fx===BigInt(0)},i.JF=function(){return 0===this.RN&&this.Fx!==BigInt(0)},i.QF=function(){return 0===this.RN&&this.Fx===BigInt(0)},i.VF=function(){if(0===this.RN)return this.Fx===BigInt(0)?NaN:this.Fx<BigInt(0)?-1/0:1/0;var t=this.Fx/BigInt(this.RN),n=this.Fx-t*BigInt(this.RN);return Number(t)+Number(n)/this.RN},i._V=function(){if(0===this.RN)throw new p("Failed to convert timestamp");return this.rW()},i.rW=function(){var t=this.Fx&BigInt(4294967295),n=this.Fx>>BigInt(32)&BigInt(4294967295);return pe.fromBits(Number(t),Number(n))},i.KV=function(){return new Date(0===this.RN?NaN:Number(this.OV(1e3).Fx))},i.jV=function(){return new ym(0===this.RN?this.VF():Number(this.Fx),this.RN)},i.OV=function(t,i){void 0===i&&(i=bm.QV);var r=this.RN;if(r===t)return this;if(0===r)return this;var e=Bi(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===bm.QV)return e<BigInt(0)?r-BigInt(1):r;if(i===bm.JV)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Fx*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.UF=function(t){if(this===t)return Fi.eh;if(0===this.RN||0===t.RN)return vm(this,t);if(this.cV())return t.cV()?Fi.eh:t.YF()?Fi.Zm:Fi.Hm;if(t.cV())return this.YF()?Fi.Hm:Fi.Zm;var n=k.min(this.RN,t.RN),i=this.OV(n,bm.$V).Fx,r=t.OV(n,bm.$V).Fx;return i>r?Fi.Zm:i<r?Fi.Hm:Fi.eh},i.KF=function(){return 0===this.RN?function(t){0;return t.QF()?t:t.YF()?_m.HV:_m.XV}(this):new n(-this.Fx,this.RN)},i.QO=function(t){if(0===this.RN||0===t.RN)return function(t,n){0;if(t.QF()||n.QF())return _m.ZV;if(t.JF()&&n.JF())return t.YF()===n.YF()?t:_m.ZV;return t.JF()?t:n}(this,t);if(this.cV())return t;if(t.cV())return this;var i=k.max(this.RN,t.RN),r=this.OV(i,bm.$V),e=t.OV(i,bm.$V);return new n(r.Fx+e.Fx,i)},i.kV=function(t){if(this.QF()||S(t))return n.ZV;if(this.JF()||!isFinite(t)){if(this.cV()||0===t)return n.ZV;var i=this.YF()?n.XV:n.HV;return t<0?i.KF():i}return this.cV()?this:new n(0===t?BigInt(0):this.Fx*BigInt(t),this.RN)},i.CV=function(t){if(this.QF()||S(t))return n.ZV;if(this.JF())return isFinite(t)?0===t?1/t<0?this.KF():this:t<0?this.KF():this:n.ZV;if(!isFinite(t))return new n(BigInt(0),this.RN);if(this.cV())return 0===t?n.ZV:new n(BigInt(0),this.RN);if(0===t){var i=this.YF()?n.XV:n.HV;return 1/t<0?i.KF():i}return new n(this.Fx/BigInt(t),this.RN)},i.tW=function(){var t=this.rW();return[t.low,t.high,this.RN]},n.GV=function(t,i){return void 0===i&&(i=hm),n.iV(t*i,i)},n.iV=function(t,i){return S(t)?n.ZV:t===1/0?n.HV:t===-1/0?n.XV:new n(BigInt(k.floor(t)),i)},n.eV=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.zV=function(t){return n.GV(t.od,hm)},n.qV=function(t){return n.iV(t.getTime(),1e3)},n.LV=function(t,n){return t.GF(n)?t:n},n.BV=function(t,n){return t.HF(n)?t:n},n.YV=function(t,i,r){return n.LV(i,n.BV(r,t))},Nt(n,null,[{key:"nV",get:function(){return n.eW||(n.eW=new n(BigInt(0),hm)),n.eW}},{key:"ZV",get:function(){return n.iW||(n.iW=new n(BigInt(0),0)),n.iW}},{key:"HV",get:function(){return n.sW||(n.sW=new n(BigInt(1),0)),n.sW}},{key:"XV",get:function(){return n.nW||(n.nW=new n(BigInt(-1),0)),n.nW}}]),n}(fm);_m.eW=void 0,_m.iW=void 0,_m.sW=void 0,_m.nW=void 0;var bm=function(t){return t[t.QV=0]="QV",t[t.JV=1]="JV",t[t.$V=2]="$V",t}({}),km=function(){try{return"function"==typeof BigInt&&"bigint"===U(BigInt(0))}catch(t){return!1}}()?_m:pm;function Am(t,n){return t.UF(n)}function Tm(t,n){return void 0!==t?void 0!==n?km.BV(t,n):t:n}F(),Tt();var Sm=9e4,Em=k.pow(2,33),Im=Ti((function(){return km.iV(Em,Sm)})),Rm=Ti((function(){return Im().CV(2)}));F(),Tt();var Cm={oW:0,hW:1/0,aW:0},Nm=6,Dm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],xm=[" ","\t","\n","\f","\r"],Pm=/^\d*$/,Lm=/.*[0-9]+.*/,Mm=/^[\d.-]+$/,Om=/(^\.|\.$)/,Bm=/(\D\.|\.\D)/;function Vm(t,n,i){return void 0===n&&(n=Cm),void 0===i&&(i=!0),Fm(Nc(Pc(t),new Uc),n,i)}function Fm(t,n,i){void 0===n&&(n=Cm),void 0===i&&(i=!0);var r={L:[],uW:[],cW:[]},e=Um(t),u=new Uc;if(Qm(e),Wm(e,(function(t){return"\n"!==t}),u),u.nc>=e.length)return r;(u.Pb(1),"\n"!==e.charAt(u.nc))?zm(Zm(e,u,false,!0,r,n,i),r):u.Pb(1);for(Wm(e,(function(t){return"\n"===t}),u);u.nc<e.length;){zm(Zm(e,u,false,!1,r,n,i),r),Wm(e,(function(t){return"\n"===t}),u)}return r}function Um(t){var n=qo(t,"\0"," "),i=qo(n,"\r\n","\n");return qo(i,"\r","\n")}function Wm(t,n,i){for(var r=i.nc;i.nc<t.length&&n(t.charAt(i.nc));)i.Pb(1);return t.substring(r,i.nc)}function Zm(t,n,i,r,e,u,s){for(var o,a=0,c=n.nc,h="",f=!1,v=!1,d=null,l=null,g=null;!f;)if(o=Wm(t,(function(t){return"\n"!==t}),n),a++,n.nc>=t.length?f=!0:n.Pb(1),Jo(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Db(c);break}v=!0,c=n.nc,d=new rm(0,0,"",!1,h);try{Ym(o,e.uW,d,u,s),h=""}catch(t){Kn.aw(t),d=null}}else{if(""===o)break;r&&Qo(o,"X-TIMESTAMP-MAP")&&(e.lW=Xm(o)),r||2!==a||i||(ta("STYLE",h.replace(/ /g,""))?(l={zw:Vw.aF},h=""):ta("REGION",h.replace(/ /g,""))&&(g=new cm("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.nc}if(d)return d.U=h,d;if(l);else if(g)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Jo(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":hy(a,n);break;case"WIDTH":dy(a,n);break;case"LINES":vy(a,n);break;case"REGIONANCHOR":var c=cy(a);c&&(n.NF=c[0],n.MF=c[1]);break;case"VIEWPORTANCHOR":var h=cy(a);h&&(n.BF=h[0],n.OF=h[1]);break;case"SCROLL":fy(a,n)}}}}(h,g),g;return null}function Xm(t){var n,i=t.split("=")[1].trim().split(","),r=Hm(i[0].trim(),"MPEGTS")?i[0]:i[1],e=Hm(i[0].trim(),"LOCAL")?i[0]:i[1];return{dW:Gm(Number(r.split(/:(.*)/)[1].trim())||0),mh:km.GV(null!=(n=qm(e.split(/:(.*)/)[1].trim(),new Uc))?n:0)}}function Gm(t){return km.iV(t,Sm)}function Hm(t,n){return Qo(t,n)}function zm(t,n){t&&function(t){return"cue"===t.zw}(t)?n.L.push(t):t&&function(t){return"region"===t.zw}(t)?n.uW.push(t):t&&function(t){return"stylesheet"===t.zw}(t)&&n.cW.push(t)}function Ym(t,n,i,r,e){var u=new Uc;ty(t,u);var s=jm(qm(t,u),r,e);if(ty(t,u),"--\x3e"!==t.substring(u.nc,u.nc+3))throw p("Something went wrong with parsing a WebVTT Cue");u.Pb(3),ty(t,u);var o=jm(qm(t,u),r,e);i.CF(s,o),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Jo(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":uy(c,n,i);break;case"VERTICAL":oy(c,n);break;case"D":ay(c,n);break;case"LINE":case"L":ry(c,n);break;case"POSITION":case"T":ey(c,n);break;case"SIZE":case"S":sy(c,n);break;case"ALIGN":case"A":iy(c,n)}}}}(t.substring(u.nc,t.length),i,n)}function jm(t,n,i){return i?t+n.oW:t}function Km(t){return/^[0-9]$/.test(t)}function qm(t,n){var i,r,e,u=qo(t,",","."),s=!1;if(n.nc>=u.length||!Km(u.charAt(n.nc)))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");var o=Wm(u,Km,n),a=A(o,10);if((o.length>2||a>59)&&(s=!0),n.nc>=u.length||":"!==u.charAt(n.nc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.Pb(1);var c=Wm(u,Km,n);if(2!==c.length)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");var h=A(c,10);if(s||n.nc<u.length&&":"===u.charAt(n.nc)){if(n.nc>=u.length||":"!==u.charAt(n.nc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.Pb(1);var f=Wm(u,Km,n);if(2!==c.length)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=A(f,10)}else i=0,r=a,e=h;if(n.nc>=u.length||"."!==u.charAt(n.nc))throw new p("Something went wrong with parsing a WebVTT Cue timestamp");n.Pb(1);var v=Wm(u,Km,n),d=A(v,10);if(h>59||e>59)throw new p("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+d/1e3}function Jm(t){return Qm(Um(t))}function Qm(t){if(t.length<Nm)return!1;for(var n=0;n<Dm.length;n++){var i=Dm[n];if(Qo(t,i))return!0}return!1}function $m(t){return tr(xm,t)}function ty(t,n){for(;n.nc<t.length&&$m(t.charAt(n.nc));)n.Pb(1)}function ny(t){var n=t.lastIndexOf("%");if(n>-1){var i=T(t.substring(0,n));if(!S(i)&&i>=0&&i<=100)return i}return null}function iy(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.fF=i;break;case"middle":n.fF="center"}}function ry(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),Lm.test(i)){var u,s;if($o(i,"%")){var o=ny(i);if(null===o)return;u=o,s=!1}else{if(!Mm.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Bm.test(i)||Om.test(i)))return;if(u=T(i),S(u))return;s=!0}switch(n._F=u,n.pF=s,r=r.toLowerCase()){case"start":case"center":case"end":n.vF=r;break;case"middle":n.vF="center"}}}function ey(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=ny(i);if(null!==u)switch(n.fo=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.gF=r;break;case"start":n.gF="line-left";break;case"middle":n.gF="center";break;case"end":n.gF="line-right"}}function uy(t,n,i){var r=Yi(i,(function(n){return n.o===t}));void 0!==r&&(n.mF=r)}function sy(t,n){var i=ny(t);null!==i&&(n.Ob=i)}function oy(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function ay(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function cy(t){if(t.indexOf(",")>=0){var n=ny(t.substring(0,t.indexOf(","))),i=ny(t.substring(t.indexOf(",")+1,t.length));return[Di(n||0,0,100),Di(i||100,0,100)]}return null}function hy(t,n){n.o=t}function fy(t,n){"up"===t.toLowerCase()&&(n.LF="up")}function vy(t,n){Pm.test(t)&&(n.DF=A(t))}function dy(t,n){var i=ny(t);null!==i&&(n.ji=i)}F(),Tt(),nn(),F(),Tt(),F(),Tt();var ly=function(t){return t.kP="moov",t.EP="mvhd",t.xP="trak",t.IP="tkhd",t.RP="mdia",t.CP="mdhd",t.PP="hdlr",t.DP="minf",t.NP="stbl",t.MP="stsd",t.LP="stsc",t.BP="mvex",t.OP="trex",t.FP="avc1",t.VP="avcC",t.WP="hev1",t.UP="hvc1",t.GP="hvcC",t.ZP="vp09",t.HP="vpcC",t.zP="av01",t.qP="av1C",t.YP="dvcC",t.KP="dvvC",t.jP="dvwC",t.QP="dac3",t.JP="dec3",t.$P="dvav",t.tD="dva1",t.eD="dvhe",t.iD="dvh1",t.sD="ac-3",t.nD="ec-3",t.rD="colr",t.oD="pasp",t.hD="mp4a",t.aD="esds",t.uD="fLaC",t.cD="dfLa",t.lD="wvtt",t.dD="vttC",t.fD="vlab",t._D="enca",t.vD="encv",t.gD="moof",t.mD="mfhd",t.pD="traf",t.wD="tfhd",t.yD="trun",t.bD="tfdt",t.SD="senc",t.TD="mdat",t.kD="pssh",t.ED="emsg",t.xD="sidx",t.RD="styp",t.CD="ftyp",t.PD="sinf",t.DD="frma",t.ND="schi",t.MD="tenc",t}({}),gy=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),wy=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),my=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});F(),Tt();var yy=function(){function t(t,n){this.$k=t,this.BD=n}var n=t.prototype;return n.LD=function(){return Qa(this.$k,this.BD)},n.OD=function(){return uc(this.$k,this.BD)},n.FD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.nc,i);return n.Pb(2),r}(this.$k,this.BD)},n.VD=function(){return oc(this.$k,this.BD)},n.WD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.nc,i);return n.Pb(4),r}(this.$k,this.BD)},n.UD=function(){return cc(this.$k,this.BD)},n.GD=function(t){return tc(this.$k,this.BD,t)},n.ZD=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(oc(t,n));return r}(this.$k,this.BD,t)},n.HD=function(t){return vc(this.$k,this.BD,t)},n.XD=function(){return Ic(this.$k,this.BD)},n.zD=function(t){this.BD.Pb(t)},n.Nb=function(){return new t(this.$k,this.BD.Nb())},t}();F(),Tt(),Dt(),Rt(),F(),Tt();function py(t,n){return t.zw===n}function _y(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(py(r,n))return r}}var by=function(t){function n(n,i){var r;return(r=t.call(this)||this).qD=n,r.YD=i,r}return It(n,t),Nt(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(pr),ky=function(){function t(){}return t.KD=function(n){var i=n.$k,r=n.BD,e=t.jD(i,r,!1);if(!e.QD)throw new by(r.nc,e.m);return e.m},t.jD=function(n,i,r){for(var e=[];i.nc<n.byteLength;){var u=t.JD(n,i,r);if(!u.QD)return{QD:!1,m:e};e.push(u.$D)}return{QD:!0,m:e}},t.tN=function(n,i){var r=t.JD(n,i,!1);if(!r.QD)throw new by(i.nc);return r.$D},t.eN=function(n,i){for(var r=n.$k,e=n.BD;e.nc<r.byteLength;){var u=t.JD(r,e,!1);if(!u.QD)return;if(u.$D.zw===i)return u.$D}},t.JD=function(n,i,r){var e=i.nc,u=t.iN(n,i);if(!u.QD)return u;var s=u.sN,o=s.Ob;if(0===o){if(r)return i.Db(e),{QD:!1,nN:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Db(e),{QD:!1,nN:c}}var h={zw:s.zw,nc:e,$k:new yy(xc(n,e,a),new Uc(s.rN))};return i.Db(a),{QD:!0,$D:h}},t.iN=function(t,n){var i=n.nc;if(!ic(t,n,8))return{QD:!1,nN:n.nc+8};var r=oc(t,n),e=vc(t,n,4);if(1===r){if(!ic(t,n,8)){var u=n.nc+8;return n.Db(i),{QD:!1,nN:u}}r=cc(t,n).toNumber()}if("uuid"===e){if(!ic(t,n,16)){var s=n.nc+16;return n.Db(i),{QD:!1,nN:s}}e=vc(t,n,16)}return{QD:!0,sN:{zw:e,Ob:r,rN:n.nc-i}}},t.oN=function(t,n,i){var r=t.$k,e=t.BD,u=Dc(Lc(r),e.nc,r.byteLength);return i&&(u=Vc(u)),e.Pb(u.byteLength),{zw:n,$k:u}},t.hN=function(n,i,r){var e=Ey(n.VD());return{zw:i,aN:e.version,uN:e.flags,$k:t.oN(n,i,r).$k}},t}();function Ay(t,n){var i=Ty(t,n);if(!i)throw new p("Missing "+n+" atom");return i}function Ty(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.zw===n)return r.$k}}function Sy(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.zw===n&&i.push(e.$k)}return i}function Ey(t){return{version:t>>24,flags:new Ka(16777215&t)}}var Iy=function(){function t(){}return t.cN=function(n){for(var i=[],r=ky.KD(new yy(n,new Uc)),e=0;e<r.length;e++){var u=r[e],s=t.lN(u);s&&i.push(s)}return i},t.dN=function(t){return ky.jD(t,new Uc,!1).m.some(this.fN)},t._N=function(n){return Sy(ky.KD(new yy(n,new Uc)),ly.kD).map(t.vN)},t.gN=function(n){return Sy(ky.KD(n.$k),ly.kD).map(t.vN)},t.fN=function(t){return t.zw===ly.CD||t.zw===ly.RD||t.zw===ly.kP||t.zw===ly.gD||t.zw===ly.TD||t.zw===ly.xD||t.zw===ly.ED},t.lN=function(n){switch(n.zw){case ly.kP:return t.mN(n.$k);case ly.gD:return t.pN(n.$k,n.nc);case ly.TD:return t.wN(n.$k);case ly.xD:return t.yN(n.$k);case ly.ED:return t.bN(n.$k)}},t.mN=function(n){var i=ky.KD(n),r=Ay(i,ly.EP),e=Sy(i,ly.xP),u=Ty(i,ly.BP),s=t.AN(r),o=e.map(t.SN),a=u?t.TN(u):void 0;return{zw:ly.kP,sN:s,Z:o,kN:a}},t.AN=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags,e=1===i?t.UD():t.VD(),u=1===i?t.UD():t.VD(),s=t.VD(),o=1===i?t.UD():t.VD(),a=t.VD(),c=t.OD()>>8;t.zD(2),t.zD(8);var h=t.ZD(9);t.zD(24);var f=t.VD();return{zw:ly.EP,aN:i,uN:r,EN:e,xN:u,RN:s,ct:o,CN:a,yR:c,PN:h,DN:f}},t.SN=function(n){var i=ky.KD(n),r=Ay(i,ly.IP),e=Ay(i,ly.RP),u=t.NN(r),s=t.MN(e);return{zw:ly.xP,sN:u,LN:s}},t.NN=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags,e=1===i?t.UD():t.VD(),u=1===i?t.UD():t.VD(),s=t.VD();t.zD(4);var o=1===i?t.UD():t.VD();t.zD(8);var a=t.FD(),c=t.FD(),h=t.FD()/k.pow(2,8);t.zD(2);var f=t.ZD(9),v=t.VD()/k.pow(2,16),d=t.VD()/k.pow(2,16);return{zw:ly.IP,BN:r.Mb(1),ON:r.Mb(2),FN:r.Mb(4),EN:e,xN:u,VN:s,ct:o,WN:a,UN:c,yR:h,PN:f,ji:v,Ti:d}},t.MN=function(n){var i=ky.KD(n),r=Ay(i,ly.CP),e=Ay(i,ly.PP),u=Ay(i,ly.DP),s=t.GN(r),o=t.ZN(e),a=t.HN(u);return{zw:ly.RP,sN:s,XN:o,zN:a}},t.GN=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags,e=1===i?t.UD():t.VD(),u=1===i?t.UD():t.VD(),s=t.VD(),o=1===i?t.UD():t.VD();t.OD();return t.zD(2),{zw:ly.CP,aN:i,uN:r,EN:e,xN:u,RN:s,ct:o}},t.ZN=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags;t.zD(4);var e=t.HD(4);t.zD(12);var u=t.XD();return{zw:ly.PP,aN:i,uN:r,qN:e,l:u}},t.HN=function(n){var i=Ay(ky.KD(n),ly.NP),r=t.YN(i);return{zw:ly.DP,KN:r}},t.YN=function(n){var i=Ay(ky.KD(n),ly.MP),r=t.jN(i);return{zw:ly.NP,QN:r}},t.jN=function(n){for(var i=Ey(n.VD()),r=i.version,e=i.flags,u=(n.VD(),[]),s=ky.KD(n),o=0;o<s.length;o++){var a=s[o],c=t.JN(a.$k,a.zw);c&&u.push(c)}return{zw:ly.MP,aN:r,uN:e,$N:u}},t.JN=function(n,i){var r=t.tM(n,i);return r||((r=t.eM(n,i))||(i===ly.lD?t.iM(n):void 0))},t.tM=function(n,i){return i===ly.hD?t.sM(n):i===ly.uD||i===ly.uD.toLowerCase()||i===ly.uD.toUpperCase()?t.nM(n):i===ly._D?t.rM(n):i===ly.sD?t.oM(n):i===ly.nD?t.hM(n):void 0},t.eM=function(n,i){return i===ly.FP?t.aM(n):i===ly.WP||i===ly.UP?t.uM(n,i):i===ly.ZP?t.cM(n,i):i===ly.zP?t.lM(n,i):i===ly.vD?t.dM(n):i===ly.$P||i===ly.tD||i===ly.eD||i===ly.iD?t.fM(n,i):void 0},t._M=function(t,n){return t.zD(6),{zw:n,vM:t.OD()}},t.gM=function(n,i){var r=t._M(n,i);n.zD(8);var e=n.OD(),u=n.OD();return n.zD(2),n.zD(2),ao({},r,{mM:e,pM:u,wM:n.VD()>>>16})},t.yM=function(n,i){var r=t._M(n,i);n.zD(2),n.zD(2),n.zD(12);var e=n.OD(),u=n.OD(),s=n.VD(),o=n.VD();n.zD(4);var a=n.OD();n.zD(32);var c=n.OD();return n.zD(2),ao({},r,{ji:e,Ti:u,bM:s,AM:o,SM:a,TM:c})},t.sM=function(n){var i=t.gM(n,ly.hD),r=Ay(ky.KD(n),ly.aD);return ao({},i,{kM:t.EM(r)})},t.nM=function(n){var i=t.gM(n,ly.uD),r=Ay(ky.KD(n),ly.cD);return ao({},i,{xM:t.IM(r)})},t.iM=function(n){var i=t._M(n,ly.lD),r=ky.KD(n),e=Ay(r,ly.dD),u=t.RM(e),s=Ty(r,ly.fD);return ao({},i,{CM:u,PM:s?t.DM(s):void 0})},t.RM=function(t){return{zw:ly.dD,kd:t.XD()}},t.DM=function(t){return{zw:ly.fD,Ch:t.XD()}},t.EM=function(t){return ky.hN(t,ly.aD,!0)},t.IM=function(t){return ky.hN(t,ly.cD,!0)},t.aM=function(n){var i=t.yM(n,ly.FP),r=ky.KD(n),e=Ay(r,ly.VP),u=Ty(r,ly.oD);return ao({},i,{NM:t.MM(e),LM:u?t.BM(u):void 0})},t.uM=function(n,i){var r=t.yM(n,i),e=Ay(ky.KD(n),ly.GP);return ao({},r,{OM:t.FM(e)})},t.cM=function(n,i){var r=t.yM(n,i),e=Ay(ky.KD(n),ly.HP);return ao({},r,{VM:t.WM(e)})},t.lM=function(n,i){var r=t.yM(n,i),e=ky.KD(n),u=Ay(e,ly.qP),s=t.UM(u),o=Ty(e,ly.rD);return ao({},r,{GM:s,ZM:o?t.HM(o):void 0})},t.dM=function(n){var i=n.Nb(),r=t.yM(n,ly.vD),e=Ay(ky.KD(n),ly.PD),u=t.XM(e);return ao({},r,{zM:t.eM(i,u.YM.qM),KM:u})},t.fM=function(n,i){var r=t.yM(n,i),e=ky.KD(n);return ao({},r,{jM:t.QM(e)})},t.oM=function(n){var i=t.gM(n,ly.sD),r=Ay(ky.KD(n),ly.QP);return ao({},i,{JM:t.$M(r)})},t.hM=function(n){var i=t.gM(n,ly.nD),r=Ay(ky.KD(n),ly.JP);return ao({},i,{tL:t.eL(r)})},t.rM=function(n){var i=n.Nb(),r=t.gM(n,ly._D),e=Ay(ky.KD(n),ly.PD),u=t.XM(e);return ao({},r,{zM:t.tM(i,u.YM.qM),KM:u})},t.XM=function(n){var i=ky.KD(n),r=Ay(i,ly.DD),e=t.iL(r),u=Ay(i,ly.ND),s=t.sL(u);return{zw:ly.PD,YM:e,nL:s}},t.iL=function(t){var n=t.HD(4);return{zw:ly.DD,qM:n}},t.sL=function(n){var i=Ay(ky.KD(n),ly.MD),r=t.rL(i);return{zw:ly.ND,oL:r}},t.rL=function(t){var n=Ey(oc(t.$k,t.BD)),i=n.version,r=n.flags,e=t.LD()>0,u=t.LD(),s=t.GD(16);return{zw:ly.MD,aN:i,uN:r,hL:e,aL:u,uL:s}},t.MM=function(t){return ky.oN(t,ly.VP,!0)},t.FM=function(t){return ky.oN(t,ly.GP,!0)},t.QM=function(t){var n=Ty(t,ly.YP);if(void 0!==n)return ky.oN(n,ly.YP,!0);var i=Ty(t,ly.KP);if(void 0!==i)return ky.oN(i,ly.KP,!0);var r=Ty(t,ly.jP);if(void 0!==r)return ky.oN(r,ly.jP,!0);throw p("Error parsing Dolby Vision configuration box.")},t.$M=function(t){return ky.oN(t,ly.QP,!0)},t.eL=function(t){return ky.oN(t,ly.JP,!0)},t.WM=function(t){return ky.oN(t,ly.HP,!0)},t.UM=function(t){return ky.oN(t,ly.qP,!0)},t.HM=function(t){var n=t.HD(4);switch(n){case"nclx":return{cL:gy.ON_SCREEN_COLOURS,lL:t.OD(),dL:t.OD(),fL:t.OD(),_L:0!=(128&t.LD())};case"rICC":return{cL:gy.RESTRICTED_ICC_PROFILE};case"prof":return{cL:gy.UNRESTRICED_ICC_PROFILE};default:throw p("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.BM=function(t){var n=t.VD(),i=t.VD();return{zw:ly.oD,vL:n,gL:i}},t.TN=function(n){var i=Sy(ky.KD(n),ly.OP).map(t.mL);return{zw:ly.BP,Z:i}},t.mL=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags,e=t.VD(),u=t.VD(),s=t.VD(),o=t.VD(),a=t.VD();return{zw:ly.OP,aN:i,uN:r,VN:e,pL:u,wL:s,yL:o,bL:a}},t.pN=function(n,i){var r=ky.KD(n),e=Ay(r,ly.mD),u=Sy(r,ly.pD),s=t.AL(e),o=u.map(t.SL);return{zw:ly.gD,TL:i,sN:s,Z:o}},t.AL=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags,e=t.VD();return{zw:ly.mD,aN:i,uN:r,kL:e}},t.SL=function(n){var i=ky.KD(n),r=Ay(i,ly.wD),e=Sy(i,ly.yD),u=Ty(i,ly.bD),s=t.EL(r),o=e.map((function(n){return t.xL(n,s)})),a=u?t.IL(u):void 0;return{zw:ly.pD,sN:s,RL:o,CL:a}},t.EL=function(t){var n=Ey(t.VD()),i=n.version,r=n.flags,e=t.VD(),u=r.Mb(wy.BASE_DATA_OFFSET_PRESENT)?t.UD():void 0,s=r.Mb(wy.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.VD():void 0,o=r.Mb(wy.DEFAULT_SAMPLE_DURATION_PRESENT)?t.VD():void 0,a=r.Mb(wy.DEFAULT_SAMPLE_SIZE_PRESENT)?t.VD():void 0,c=r.Mb(wy.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.VD():void 0;return{zw:ly.wD,aN:i,uN:r,VN:e,PL:u,DL:s,wL:o,yL:a,bL:c}},t.xL=function(n,i){for(var r=Ey(n.VD()),e=r.version,u=r.flags,s=n.VD(),o=u.Mb(my.DATA_OFFSET_PRESENT)?n.WD():void 0,a=u.Mb(my.FIRST_SAMPLE_FLAGS_PRESENT)?n.VD():void 0,c=[],h=0;h<s;h++){var f=t.NL(n,u,e,i);0===h&&void 0!==a&&(f.uN=a),c.push(f)}return{zw:ly.yD,aN:e,uN:u,ML:s,TL:o,LL:a,BL:c}},t.NL=function(t,n,i,r){return{ct:n.Mb(my.SAMPLE_DURATION_PRESENT)?t.VD():r.wL,Ob:n.Mb(my.SAMPLE_SIZE_PRESENT)?t.VD():r.yL,uN:n.Mb(my.SAMPLE_FLAGS_PRESENT)?t.VD():r.bL,OL:n.Mb(my.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.VD():t.WD():void 0}},t.bN=function(t){var n=t.$k,i=t.BD,r=Ey(oc(n,i)),e=r.version,u=r.flags;if(1===e){var s=oc(n,i),o=cc(n,i),a=oc(n,i),c=oc(n,i),h=fc(n,i),f=fc(n,i),v=Bc(Lc(n),i.nc,n.byteLength);return i.Pb(v.byteLength),{zw:ly.ED,aN:e,uN:u,FL:h,Fx:f,RN:s,VL:o,WL:a,o:c,UL:v}}var d=fc(n,i),l=fc(n,i),g=oc(n,i),w=oc(n,i),m=oc(n,i),y=oc(n,i),p=Bc(Lc(n),i.nc,n.byteLength);return i.Pb(p.byteLength),{zw:ly.ED,uN:u,aN:e,FL:d,Fx:l,RN:g,GL:w,WL:m,o:y,UL:p}},t.wN=function(t){return ky.oN(t,ly.TD,!1)},t.vN=function(n){var i=n.$k,r=n.BD,e=Vc(Lc(i)).buffer,u=Ey(oc(i,r)),s=u.version,o=u.flags,a=t.ZL(i,r),c=[];if(s>0)for(var h=oc(i,r),f=0;f<h;f++){var v=tc(i,r,16);c.push(v)}var d=oc(i,r),l=new E(e,r.nc,d);return r.Pb(i.byteLength),{zw:ly.kD,aN:s,uN:o,HL:a,XL:c,zL:d,$k:l,qL:e}},t.ZL=function(t,n){for(var i="",r=0;r<4;r++){var e=Qa(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Qa(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Qa(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Qa(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Qa(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.yN=function(t){var n,i,r=t.$k,e=t.BD,u=Ey(oc(r,e)),s=u.version,o=u.flags,a=oc(r,e),c=oc(r,e);0===s?(n=pe.fromBits(oc(r,e),0,!0),i=pe.fromBits(oc(r,e),0,!0)):(n=cc(r,e),i=cc(r,e)),e.Pb(2);for(var h=uc(r,e),f=[],v=0;v<h;v+=1){var d=oc(r,e),l=d>>31&1,g=2147483647&d,w=oc(r,e),m=oc(r,e),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({YL:l,KL:g,ct:w,jL:y,QL:p,JL:_})}return{zw:ly.xD,aN:s,uN:o,$L:a,RN:c,tB:n,eB:i,iB:h,sB:f}},t.IL=function(t){var n,i=t.$k,r=t.BD,e=Ey(oc(i,r)),u=e.version,s=e.flags;return n=0===u?pe.fromBits(oc(i,r),0,!0):cc(i,r),{zw:ly.bD,aN:u,uN:s,CL:n}},t}();function Ry(t){return t&&"qx"in t?t.qx:t}F(),Tt(),Dt(),Rt(),F(),Tt();var Cy=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this)._W=u,c.gW=s,c.mW=o,c.wW=a||void 0,c}return It(n,t),n.prototype.RF=function(t){return!!Zg(this.fW,t.fW)&&(!!Zg(this.vW,t.vW)&&(!!Zg(this.uW,t.uW)&&(this.pW&&t.pW?!!this.pW.Vx(t.pW)&&(this.U&&t.U?this.U.Vx(t.U):this.U===t.U):this.pW===t.pW)))},Nt(n,[{key:"fW",get:function(){return this._W}},{key:"vW",get:function(){return this.gW}},{key:"uW",get:function(){return this.mW}},{key:"pW",get:function(){return this.wW}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Ug(zw(t),{get extent(){return t.fW},get styles(){return t.vW},get regions(){return t.uW},get metadata(){return Ry(t.pW)},get content(){return Ry(t.U)}})}(this)),this.eu}}]),n}(nm);F(),Tt(),Dt();var Ny=function(){function t(t,n,i){this.bW=t,this.AW=n,fg(i)?this.Nf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.$x(u)}return i}(0,0,i):this.Nf=i}return Nt(t,[{key:"yW",get:function(){return this.Nf.Wx(!0)}},{key:"lF",get:function(){return this.bW}},{key:"dF",get:function(){return this.AW}}]),t}();F(),Tt(),qt();var Dy="http://www.w3.org/XML/1998/namespace";function xy(t,n,i,r){var e=t.zx(i,n);return 0===e.length&&(e=t.Hx(r+":"+n)),e}function Py(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Kt(u.m))}return r}(t,(function(t){return t.Xx===n}))}function Ly(t){for(var n={},i=0,r=t.Kx;i<r.length;i++){var e=r[i];n[e.Mx]=e.Fx}return n}var My=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Oy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,By="http://www.w3.org/ns/ttml";function Vy(t,n,i,r){void 0===i&&(i=Cm),void 0===r&&(r=Xv.APPLICATION_TTML_XML);var e=[],u=Pc(t);return r===Xv.APPLICATION_MP4?e=function(t,n,i){var r=Iy.cN(t),e=_y(r,ly.TD);if(!e)return[];return Wy(Pc(e.$k),n,i)}(u,n,i):r===Xv.APPLICATION_TTML_XML&&(e=Wy(u,n,i)),e}function Fy(t,n,i){return void 0===i&&(i=Cm),Zy(t,n,i)}function Uy(t,n){for(var i=jy(n.yW),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Wy(t,n,i){return Zy(Nc(t,new Uc),n,i)}function Zy(t,n,i){var r,e=[];try{r=Kn.Nx(t)}catch(t){return e}var u=r.sI;if("tt"!==u.Mx)return e;var s=u.zx(By,"head")[0],o=u.zx(By,"body")[0];if(!o||!s)return e;for(var a=Gy(u.Qx("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.zx(By,"styling")[0],r=i&&i.zx(By,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.Jx(Dy,"id")]=Ly(u)}return n}(s),f=function(t){for(var n={},i=t.zx(By,"layout")[0],r=i&&i.zx(By,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.Jx(Dy,"id");if(s){n[s]=Ly(u);var o=Yy(u);for(var a in o)Hn.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=Wg(t),r=0,e=b.keys(i);r<e.length;r++){var u=e[r],s=Gy(i[u].extent);if(s){var o=Xy(s[0],n[0]),a=Xy(s[1],n[1]);i[u].extent=o+" "+a}var c=Gy(i[u].origin);if(c){var h=Xy(c[0],n[0]),f=Xy(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,d=s.zx(By,"metadata")[0],l=Hy(o,i.oW,i.hW,i.aW),g=0;g<l.length;g++){var w=l[g],m=Uy(v,w);e.push(new Cy(w.lF,w.dF,w.yW,!1,c,h,m,d))}return e}function Xy(t,n){return t/n*100+"%"}function Gy(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=tn(n,2),r=i[0],e=i[1];if($o(r,"px")&&$o(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function Hy(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].lF,s=i[e].dF;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],a);if(i.length<=0&&function(t){if(fg(t)){var n=t.Mx.toUpperCase(),i=Boolean(t.Qx("smpte:backgroundImage"));return"BR"===n||i}return t.Dx===hg.Rk}(t)){var r=t.Wx(!1);c.push(new Ny(l[n],l[n+1],r))}else if(i.length>0){var e=t.Wx(!1);i.forEach((function(t){return e.Yx(t.yW)})),c.push(new Ny(l[n],l[n+1],e))}},s=n,o=i,a=[],c=[];if(fg(t)){var h,f;s=null!=(h=zy(t.Qx("begin"),r))?h:s,e=zy(t.Qx("dur"),0),o=null!=(f=zy(t.Qx("end"),r))?f:void 0!==e?s+e:o;for(var v=t.Ux,d=0;d<v.length;d++)("body"===t.Mx||"div"===t.Mx)&&v[d].Dx>1||(a=a.concat(Hy(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.lF,u.dF)}r.sort(Wi);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(Qi(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<l.length-1;g++)u(g);return c}function zy(t,n){if(t){if(My.test(t)){var i=My.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*k.pow(.1,s.length):0)+n}if(Oy.test(t)){var o=Oy.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function Yy(t){for(var n={},i=t.Hx("style")||[],r=0;r<i.length;r++){var e=Ly(i[r]);for(var u in e)Hn.call(e,u)&&(n[u]=e[u])}return n}function jy(t){var n,i=[];if(fg(t)){(n=t.Qx("region"))&&i.push(n);for(var r=t.Ux,e=0;e<r.length;e++)i=i.concat(jy(r[e]))}return i}function Ky(t){var n=function(t){try{return Kn.Nx(t).sI}catch(t){}}(t);return"tt"===(null==n?void 0:n.Mx)}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var qy=function(t){return t.Mh="disabled",t.GC="hidden",t.Qn="showing",t}({});function Jy(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}F(),Tt(),Rt(),F(),Tt(),F(),Tt();var Qy=function(t){return t.fa="error",t}({});function $y(){}function tp(t){var n,i=[Og.da,Og.dC,Og.KR,Og.QR,Og.eC,Og.sC,Og.$R,Og.rC,Og.aC,Og.cC],r=[Qy.fa],e={get kind(){return t.Lt},get label(){return t.Ch},set label(n){t.Ch=qg(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.OC},get inBandMetadataTrackDispatchType(){return t.ZC},get mode(){return t.LE},set mode(n){n!==qy.Qn&&n!==qy.GC&&n!==qy.Mh||t.HC(n)},get forced(){return Boolean(t.XC)},get accessibility(){var n,i;return null!=(i=null==(n=t.FC)?void 0:n.map(iw))?i:[]},get type(){return t.zw},get readyState(){return t.aR},get cues(){return t.LE===qy.Mh?null:t.L.wa},get activeCues(){return t.LE===qy.Mh?null:t.q.wa},get src(){return t.zC||""},addEventListener:function(t,i){var r=Qg(t,qg);n.bn(r,i)},removeEventListener:function(t,i){var r=Qg(t,qg);n.vn(r,i)}};return n=new ga(t),t.bn(i,(function(t){return n._o(t.wa)})),t.bn(r,(function(t){return n._o(t)})),b.defineProperty(e,"constructor",{value:$y}),e}function np(){}function ip(t){var n=tw(t);return b.defineProperty(n,"constructor",{value:np}),n}var rp=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.LE=qy.Mh),i},i.ka=function(){return ip(this)},n}(Bg);F(),Tt(),F(),Tt();var ep=function(t){return t.TW="subtitles",t.kW="captions",t.EW="descriptions",t.Jn="chapters",t.xW="metadata",t.IW="thumbnails",t}({}),up=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function sp(t){return"string"==typeof t&&tr(up,t)}function op(t,n){return!(!sp(t)||!sp(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}F(),Tt(),Rt();var ap=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return It(n,t),n}(ld);function cp(t){return t.some(hp)}function hp(t){return Jo(t,"stpp")}function fp(t){return t.some(vp)}function vp(t){return Jo(t,"vtt")||Jo(t,"wvtt")}function dp(t,n){return Gv(t)&&fp(n)}function lp(t,n){return t===ep.IW||t===ep.xW&&n===ep.IW}function gp(t,n,i,r){for(var e=0,u=t.L.mC;e<u.length;e++){var s=u[e];if(s.lF>i)break;n<=s.dF&&!tr(r,s)&&r.push(s)}}function wp(t,n){return Ui(t.OC,n.OC)}function mp(t,n,i,r){var e=function(t){switch(t){case Ow.WEBVTT:return"WebVTT";case Ow.SRT:return"SRT";case Ow.TTML:return"TTML";default:return""}}(t);return new ap(vd.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function yp(t,n){for(var i=[],r=0,e=t.L.mC;r<e.length;r++){var u=e[r];if(u.dF<=n)i.push(u);else if(u.lF>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.RW(o)}}function pp(t,n){if(t.V>0)for(var i=t.Sn(0),r=k.max(0,i-10),e=0;e<n.length;e++){n[e].PW(r)}}var _p=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new rp,n.DW=function(t){var i=t.Ht;n.NW(i)},n}It(n,t);var i=n.prototype;return i.tt=function(t){t.bn(Og.da,this.DW),this.Z.tt(t),this.NW(t)},i.it=function(t){t.vn(Og.da,this.DW),t.LE=qy.Mh,this.Z.it(t)},i.MW=function(t){},i.LW=function(t){},i.NW=function(t){t.LE!==qy.Mh?this.MW(t):this.LW(t)},i.BW=function(){for(var t=0,n=this.Z.mC;t<n.length;t++){var i=n[t];i.vn(Og.da,this.DW),i.yn()}},i.PW=function(t){if(t>0)for(var n=0,i=this.Z.mC;n<i.length;n++){yp(i[n],t)}},i.nr=function(){return this.BW(),this.Z.nr(),et.resolve()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),t.Z.yn(),[2]}}))}))()},n}(la);F(),Tt(),Dt(),Rt();var bp=function(t){function n(n){var i;return(i=t.call(this,Qy.fa)||this).errorObject=n,i}return It(n,t),n.prototype.ka=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ig),kp=function(t){function n(n,i){var r;return(r=t.call(this)||this).GW=new mr,r.FW=n,r.WW=i,r}It(n,t);var i=n.prototype;return i.OW=function(t){if(t.src){var n=t.kind||ep.TW,i=this.FW.ZR(n,t.id,t.label,t.srclang,t.default);return i.zC=Cl(t.src),this.tt(i),i}},i.VW=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v;return Ot(this,(function(d){switch(d.label){case 0:t.aR=Mw.LOADING,r=new Tl({Xu:t.zC,tE:Fd.Rk,EE:pl.GET,ep:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.WW.eE(r)];case 2:return s=d.sent(),u=s.Jk,[4,s.Mk()];case 3:return e=d.sent(),[3,5];case 4:return Ar(o=d.sent()),t.aR=Mw.ERROR,t._o(new bp(function(t,n){var i=n,r=0;if(ql(t)&&t.name===Ll.zE)i=t.eE.Xu;else if(Jl(t)){var e=t.jE;if(i=e.rE,0===(r=e.Jk))return new ap(vd.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new ap(vd.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.zC))),[2];case 5:try{for(a=function(t){return Jm(t)?Ow.WEBVTT:Ky(t)?Ow.TTML:Ow.SRT}(e),t.zw=a,c=[],a===Ow.WEBVTT||a===Ow.SRT?(h=Fm(e),c=h.L):a===Ow.TTML&&(c=Fy(e,t)),f=0;f<c.length;f++)v=c[f],t.UW(v)}catch(n){return Ar(n),t.aR=Mw.ERROR,t._o(new bp(mp(t.zw,t.zC,u,n))),[2]}return t.aR=Mw.LOADED,[2]}}))}))()},i.MW=function(t){tr(this.Z.mC,t)&&t.aR===Mw.NONE&&this.VW(t,this.GW.ep).catch(Tr)},i.$n=function(){},i.nr=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:for(n.GW.np(),n.GW=new mr,i=0,r=n.Z.mC;i<r.length;i++)e=r[i],n.FW.ZW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(_p);function Ap(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.XW)return r}}function Tp(t,n){Sp(Ap(t.mC,n))}function Sp(t){void 0!==t&&(t.LE=qy.Qn)}function Ep(t,n){var i=Ap(t.mC,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.mC,n);Sp(i)}function Ip(t){for(var n=0;n<up.length;n++){var i=up[n];i===ep.Jn?Ep(t,i):Tp(t,i)}}F(),Tt(),F(),Tt(),Rt();var Rp=function(t){function n(){return t.call(this,ya.$y)||this}return It(n,t),n}(ma);F(),Tt(),F(),Tt();var Cp=function(t){return t[t.zW=0]="zW",t[t.qW=1]="qW",t}({});F(),Tt();var Np=function(t){return t.nB="canplay",t.rB="canplaythrough",t.oB="loadeddata",t.hB="loadedmetadata",t.aC="readystatechange",t.aB="waiting",t.uB="playing",t}({}),Dp=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var xp=function(t){function n(n,i){var r;return(r=t.call(this,Np.aC)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ma);F(),Tt();var Pp=function(t){return t[t.TO=0]="TO",t[t.Xn=1]="Xn",t[t.kO=2]="kO",t[t.EO=3]="EO",t[t.xO=4]="xO",t}({});F(),Tt(),Rt();var Lp=function(t){function n(n,i){var r;return void 0===i&&(i=Pp.Xn),(r=t.call(this,Np.hB)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var Mp=function(t){function n(n,i){var r;return void 0===i&&(i=Pp.kO),(r=t.call(this,Np.oB)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var Op=function(t){function n(n){var i;return(i=t.call(this,Np.aB)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var Bp=function(t){function n(n,i){var r;return void 0===i&&(i=Pp.EO),(r=t.call(this,Np.nB)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var Vp=function(t){function n(n,i){var r;return void 0===i&&(i=Pp.xO),(r=t.call(this,Np.rB)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var Fp=function(t){function n(n){var i;return(i=t.call(this,Np.uB)||this).currentTime=n,i}return It(n,t),n}(ma),Up=[Np.aC,Np.uB,ya.ho,ya.Ky],Wp=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).jW=n,r.tU=i,r.eU=Pp.TO,r.oU=!0,r.JW=!1,r.KW=!1,r.cU=function(t){var n=r.jW.aR;n!==r.eU&&r._o(new xp(t.currentTime,n)),n===Pp.TO&&(r.JW=!1,r.KW=!1),r.YW(n),r.QW(n),r.rU(n),r.maybeDispatchCanPlayThroughEvent(n),r.$W(n),r.sU(n),r.eU=n},r.aU=function(){r.sU(r.eU),r.$W(r.eU),r.oU=r.jW.JI},r.uU=function(){r.oU=r.jW.JI},r.hU=function(t){r._o(new Fp(t.currentTime))},r.jW.bn(Np.aC,r.cU),r.jW.bn(ya.ho,r.aU),r.jW.bn(ya.Ky,r.uU),r.tU&&r.jW.bn(Np.uB,r.hU),r}It(n,t);var i=n.prototype;return i.YW=function(t){!this.KW&&t>=Pp.Xn&&(this.KW=!0,this._o(new Lp(this.jW.RI,t)))},i.QW=function(t){!this.JW&&t>=Pp.kO&&(this.JW=!0,this._o(new Mp(this.jW.RI,t)))},i.$W=function(t){this.tU||(t>=Pp.EO&&this.eU<Pp.EO&&!this.jW.JI||this.iU&&t>=Pp.EO)&&this._o(new Fp(this.jW.RI))},i.sU=function(t){!this.nU(t)||this.jW.MI||this.jW.lt||this._o(new Op(this.jW.RI))},i.rU=function(t){this.eU<=Pp.kO&&t>=Pp.EO&&this._o(new Bp(this.jW.RI,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Pp.xO&&this._o(new Vp(this.jW.RI,t))},i.nU=function(t){var n=!this.jW.JI&&t<=Pp.kO,i=!this.oU&&this.eU<=Pp.kO;return n&&!i},i.nr=function(){this.eU=Pp.TO,this.oU=!0,this.JW=!1,this.KW=!1},i.yn=function(){this.Ro(),this.tU&&this.jW.vn(Np.uB,this.hU),this.jW.vn(ya.ho,this.aU),this.jW.vn(ya.Ky,this.uU),this.jW.vn(Np.aC,this.cU)},Nt(n,[{key:"iU",get:function(){return!this.jW.JI&&this.oU}}]),n}(la),Zp=function(t){function n(n){var i;return(i=t.call(this)||this).jW=n,i.jW.bn(Up,i.Ds),i}return It(n,t),n.prototype.Km=function(){this.Ro(),this.jW.vn(Up,this.Ds)},Nt(n,[{key:"RI",get:function(){return this.jW.RI}},{key:"MI",get:function(){return this.jW.MI}},{key:"lt",get:function(){return this.jW.lt}},{key:"JI",get:function(){return this.jW.JI}},{key:"aR",get:function(){return this.jW.aR}}]),n}(la);F(),Tt(),F(),Tt();var Xp="titanium",Gp="conax",Hp="ezdrm",zp="irdeto",Yp="vudrm",jp="verimatrix",Kp="keyos",qp="drmtoday",Jp="expressplay",Qp="azure",$p="xstream",t_="vimond",n_="axinom",i_="uplynk",r_="comcast",e_="custom";F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Wt();var u_=function(){function t(t,n,i,r,e){this.dU=void 0,this._T=t,this.DU=n,this.NU=i,this.WW=r,this.PU=e,this.gU=this.MU(n)}var n=t.prototype;return n.lU=function(){return this.dU},n.fU=function(t){this.dU=t},n.mU=function(){return this.gU.licenseAcquisitionURL||this.lU()},n.wU=function(t){return et.resolve()},n.yU=function(t,n){return et.resolve(void 0)},n.bU=function(t,n,i,r){var e=this;return Pt((function(){var u,s;return Ot(this,(function(o){switch(o.label){case 0:if(""===(u=e.AU(t,n,i,r)).Xu)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.mI.eE(u)];case 2:return[4,o.sent().Lk(n)];case 3:return[2,o.sent()];case 4:return Ar(s=o.sent()),[4,e.SU(s,u.Xu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.AU=function(t,n,i,r){var e=this.TU().Ck(),u=this.DE,s={Xu:this.kU(),tE:n,iE:e,Vk:t,DE:u,EE:pl.POST,xE:0,ep:r,zw:_l.cE,CE:i};return new Tl(s)},n.EU=function(t,n){return et.resolve(t)},n.xU=function(t,n,i,r){return et.resolve(t)},n.TU=function(){return new Ud(this.gU.headers||{})},n.SU=function(t,n,i){return Pt((function(){return Ot(this,(function(n){throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.kU=function(t,n){var i=n,r=this.gU.queryParameters;if(!i){var e=this.mU();if(!e)return"";i=e}if(r||t){var u=Kn.Bh(i);t&&Rl(u,t),r&&Rl(u,r),i=u.href}return i},n.IU=function(t,n){return s_(t)},n.RU=function(t){return new E(t)},n.CU=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,r.IU(t,i)];case 1:return e=s.sent(),[4,r.bU(e,r.PU,n,i)];case 2:return u=s.sent(),[2,r.RU(u)]}}))}))()},n.yn=function(){},Nt(t,[{key:"mI",get:function(){return this.WW}},{key:"_U",get:function(){return!1}},{key:"vU",get:function(){var t=this.gU.certificate;if(t)return ti(t)?Pa(t):Oc(t)}},{key:"pU",get:function(){return!1}},{key:"DE",get:function(){return Boolean(this.gU.useCredentials)}}]),t}();function s_(t){return et.resolve(Vc(t).buffer)}var o_,a_=function(t){function n(n,i,r,e){return t.call(this,Zo,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.MU=function(t){return t.widevine||{}},i.LU=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){return i.vU?[2,i.vU]:[2,i.BU(new E(t),n)]}))}))()},i.BU=function(n,i){return t.prototype.CU.call(this,n,bl._E,i)},n}(u_);function c_(t,n){if(null==t)return{};var i,r,e={},u=b.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function h_(t){return Yn(t.token&&t.deviceId)}function f_(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Yn(i.PreAuthorization)}function v_(t){var n=t;return h_(n)&&""!==n.token&&""!==n.deviceId&&!f_(n)}F(),Tt(),F(),Tt(),Mt(),sn(),F(),Tt(),Wt(),F(),Tt(),F(),Tt(),F(),Tt(),function(t){t.uP=!1,t.cP=!1,t.lP=!1,t.dP=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.fP=!1,t._P=!1,t.LOG_LCEVC_DETAILS=!1}(o_||(o_={})),F(),Tt(),Dt();var d_=function(){function t(t,n,i){this.gP=t,this.aT=n,this.pP=i}return t.prototype.mP=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new _("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new _("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new _("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new _("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new _("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.pP.build(t))},Nt(t,[{key:"vP",get:function(){return this.gP}},{key:"_T",get:function(){return this.aT}}]),t}();F(),Tt();var l_=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),g_=function(){function t(){this.yP=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.wP(t,n,i)){case l_.FAILED:throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case l_.OVERRIDDEN:var r=x_(n);Kn.aw("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case l_.SUCCEEDED:x_(n);0}},n.wP=function(t,n,i){var r=x_(n);if(!r)return l_.FAILED;for(var e=l_.SUCCEEDED,u=0,s=this.yP.slice();u<s.length;u++){var o=s[u];o.vP===t&&o._T===r&&(e=l_.OVERRIDDEN,Ji(this.yP,o))}return this.yP.push(new d_(t,r,i)),e},n.bP=function(t,n){return void 0!==this.AP(t,n)},n.SP=function(t,n,i){var r=this.AP(t,n);if(!r)throw p("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.mP(i)},n.AP=function(t,n){for(var i=0,r=this.yP;i<r.length;i++){var e=r[i];if(e.vP===t&&(!n||e._T===n))return e}},t}();g_.TP=new g_;var w_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function m_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function y_(t){return t&&void 0!==t.licenseAcquisitionURL}var p_=y_,__=y_;function b_(t){if(!t)return!0;if(S_(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return m_(n)&&m_(i)&&m_(r)&&void 0===e&&m_(u)}function k_(t){var n=v_(t),i=function(t){var n,i=t;return f_(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!h_(i)}(t);return(!n||!i)&&(n||i)}function A_(t){return t.integration===zp}function T_(t){var n=t;if(!n)return!1;if(b_(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(S_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!p_(r))return!1;if(e&&!__(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(g_.TP.bP(n.integration))return!0;switch(n.integration){case Xp:if(!function(t){var n=t,i=n.integration===Xp;return i&&(E_(t)||I_(t))}(t))return!1;break;case Yp:if(!R_(t))return!1;break;case jp:if(!function(t){var n=t;return n.integration===jp}(t))return!1;break;case zp:if(!A_(t))return!1;break;case Gp:if(!k_(t))return!1;break;case Hp:if(!function(t){var n=t;return n.integration===Hp}(t))return!1;break;case Kp:if(!S_(t))return!1;break;case qp:if(!function(t){var n=t;return n.integration===qp&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Jp:if(!function(t){var n=t;return n.integration===Jp}(t))return!1;break;case $p:if(!C_(t))return!1;break;case t_:if(!function(t){return t.integration===t_}(t))return!1;break;case n_:if(!N_(t))return!1;break;case Qp:if(!function(t){var n=t;return n.integration===Qp&&void 0!==n.token}(t))return!1;break;case i_:if(!function(t){var n=t;return n.integration===i_}(t))return!1;break;case r_:if(!function(t){var n=t;return n&&Yn(n.releasePid)&&Yn(n.accountId)&&Yn(n.token)}(t))return!1;break;case e_:return!0;default:return!1}}return!0}function S_(t){return t.integration===Kp}function E_(t){return void 0!==t.authToken}function I_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function R_(t){var n=t;return n.integration===Yp&&void 0!==n.token}function C_(t){var n=t;return n&&n.integration===$p&&ti(n.ticketAcquisitionURL)&&ti(n.streamId)}function N_(t){var n=t;return n.integration===n_&&void 0!==n.token}function D_(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:w_[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=ao({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return ao({},c_(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function x_(t){switch(t.toLowerCase()){case"widevine":case Ro:return Ro;case"playready":case So:return So;case"fairplay":case Oo:return Oo}}function P_(t,n){switch(t){case _o:return function(t){for(var n={},i=Iy._N(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.HL]=e.qL}return n}(n);case bo:case ko:return function(t){return un({},Mo,t)}(n);case Ao:return function(t){return un({},Po,t)}(n);default:throw new ld(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function L_(t){return M_.apply(this,arguments)}function M_(){return M_=Pt((function(t,n){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return void 0===n&&(n=!1),(i=t.widevine)?[4,Kn.ww()]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,Kn.pw()]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,Kn.gw()]:[3,6];case 5:e=s.sent(),s.label=6;case 6:return e?[2,!0]:(u=!n&&t.fairplay)?[4,Kn.mw()]:[3,8];case 7:u=s.sent(),s.label=8;case 8:return u?[2,!0]:[2,!1]}}))})),M_.apply(this,arguments)}var O_=function(t){return t.Uw="Widevine",t.OU="PlayreadyV2",t.FU="PlayreadyV3",t.Ww="PlayreadyV2",t.Hw="Fairplay",t}({}),B_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function V_(t,n){var i,r,e,u,s=B_[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=Kn.Sw)?void 0:i.Ys,OSVersion:null==(r=Kn.Sw)?void 0:r.Mw,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=Kn.Sw)?void 0:e.Lw,DeviceModel:null==(u=Kn.Sw)?void 0:u.Bw}}}function F_(t,n){if(!t.accountName)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function U_(t,n,i){var r;if(E_(t))r={AuthToken:t.authToken,Payload:n};else{if(!I_(t))throw F_(t,i);r={LatensRegistration:V_(t,i),Payload:n}}return $c(JSON.stringify(r))}function W_(t,n,i){return Z_.apply(this,arguments)}function Z_(){return Z_=Pt((function(t,n,i){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(!(r=t.jE))throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.Nk(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.eE.Xu,e.Jk,e.sE,s)}}))})),Z_.apply(this,arguments)}F(),Tt(),Mt(),Wt();var X_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Fd.xk)||this).WU=void 0,e}It(n,t);var i=n.prototype;return i.SU=function(t,n,i){return W_(t,n,i)},i.wU=function(t){return this.WU?Sr(this.WU.Xb,t):(this.WU=new ih,et.resolve())},i.IU=function(t,n){var i=this;return Pt((function(){var n,r;return Ot(this,(function(e){if(!(n=i.DU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=Oa(t),[2,U_(n,r,O_.Uw)]}))}))()},i.RU=function(t){if(!t.license)throw new hw(vd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Pa(t.license)},i.UU=function(t){return et.resolve(new E(t))},i.LU=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return i.GU(),[4,i.IU(t,n)];case 1:return r=u.sent(),[4,i.bU(r,Fd.Ek,bl.vE,n)];case 2:return e=u.sent(),[4,i.UU(e)];case 3:return[2,u.sent()]}}))}))()},i.BU=function(n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return[4,t.prototype.BU.call(r,n,i)];case 1:return e=u.sent(),r.GU(),[2,e]}}))}))()},i.GU=function(){this.WU||(this.WU=new ih),this.WU.Zb()},i.yn=function(){this.WU&&this.WU.np(),t.prototype.yn.call(this)},n.VU=function(){return Kn.Ys.kp?"required":"optional"},n}(a_);F(),Tt(),Mt(),Dt(),Rt(),Wt();var G_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Fd.Ek)||this).fU("https://widevine-proxy.drm.technology/proxy"),e}return It(n,t),n.prototype.IU=function(t,n){var i=this;return Pt((function(){var n,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,s_(t)];case 1:if(n=s.sent(),r=i.NU,e=Fc(new E(n)),void 0===(u=i.ZU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},Nt(n,[{key:"ZU",get:function(){if(R_(this.DU))return this.DU.token}}]),n}(a_);function H_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ao({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ao({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}F(),Tt(),Rt(),F(),Tt();var z_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Fd.Ek)||this).fU("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return It(n,t),n.prototype.kU=function(n,i){var r=n;return A_(this.DU)&&(r=H_(this.DU,r)),t.prototype.kU.call(this,r,i)},n}(a_);F(),Tt(),Rt(),F(),Tt();var Y_="Conax-Custom-Data";function j_(t,n,i){var r=t&&k_(t)&&t;if(r&&!i.has(Y_)){var e=v_(r)?r.token:void 0,u=v_(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Y_,s)}return i}var K_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Fd.Ek)||this).fU("https://connect.conax.com:8094/license"),e}return It(n,t),n.prototype.TU=function(){var n=t.prototype.TU.call(this);return j_(this.DU,"Widevine",n)},n}(a_);function q_(t){var n=kc(new E(t));return Pa(JSON.parse(n).license)}function J_(t){return"string"==typeof t.token?t.token:$c(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Q_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}F(),Tt(),Dt(),Rt(),F(),Tt();var $_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Fd.Ek)||this).fU("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}It(n,t);var i=n.prototype;return i.RU=function(t){return q_(t)},i.TU=function(){return Q_(t.prototype.TU.call(this),this.ZU,this.DU)},Nt(n,[{key:"ZU",get:function(){return J_(this.DU)}}]),n}(a_);F(),Tt(),Rt();var tb=function(t){function n(n,i,r){return t.call(this,n,i,r,Fd.Ek)||this}return It(n,t),n.prototype.TU=function(){var n=t.prototype.TU.call(this),i=this.DU.token;return n.set("Authorization","Bearer "+i),n},n}(a_);function nb(t,n,i,r){return ib.apply(this,arguments)}function ib(){return ib=Pt((function(t,n,i,r){var e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(!C_(t))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Ud).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={Xu:t.ticketAcquisitionURL,tE:Fd.xk,iE:e,EE:pl.POST,Vk:JSON.stringify(a),ep:r},[4,i.eE(c)];case 1:return[4,h.sent().Nk()];case 2:return[2,h.sent()]}}))})),ib.apply(this,arguments)}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Wt();var rb=function(t){function n(n,i,r){return t.call(this,n,i,r,Fd.xk)||this}It(n,t);var i=n.prototype;return i.TU=function(){var n=t.prototype.TU.call(this);return n.set("Content-Type","application/json"),n},i.IU=function(n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return e=Qc(n.buffer),[4,nb(r.DU,"widevine_modular",r.mI,i)];case 1:return u=o.sent(),r.fU(u.licenseServerUrl),s=Ac(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.IU.call(r,s,i)]}}))}))()},i.RU=function(t){return Pa(t.license)},n}(a_);F(),Tt(),Rt();var eb=function(t){function n(n,i,r){return t.call(this,n,i,r,Fd.Ek)||this}return It(n,t),n.prototype.TU=function(){if(!N_(this.DU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.TU.call(this);return n.set("X-AxDRM-Message",this.DU.token),n},n}(a_);function ub(t){for(var n=new E(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}F(),Tt(),Mt(),Rt(),Wt();var sb=function(t){function n(n,i,r){var e;return(e=t.call(this,Wo,n,i,r,Fd.Ek)||this).HU=void 0,e}It(n,t);var i=n.prototype;return i.MU=function(t){return t.playready||{}},i.TU=function(){var n=new Ud(this.HU);return n.Dk(t.prototype.TU.call(this)),n},i.XU=function(t){return t.length>=1&&t[0].Ux.length>0},i.yU=function(n){var i=this.DU.playready.customData;if(i){var r=ub(i),e=ub('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Oa(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return et.resolve({playready:{PT:e}})}return t.prototype.yU.call(this,n)},i.IU=function(t,n){var i=this;return Pt((function(){var n;return Ot(this,(function(r){switch(r.label){case 0:return[4,s_(t)];case 1:return n=r.sent(),[2,i.zU(n)]}}))}))()},i.zU=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ot(this,(function(y){e=null,u=new DataView(t),s=pc(u,new Uc,!0);try{o=Kn.Nx(s)}catch(t){return[2,e]}for(a=null==(i=o.Hx("PlayReadyKeyMessage")[0])?void 0:i.Hx("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.Hx("Challenge"))?c:[],n.XU(h)&&(e=Jc(h[0].jx)),f=new Ud,d=null!=(v=null==a||null==(r=a.Hx("HttpHeaders")[0])?void 0:r.Hx("HttpHeader"))?v:[],l=0;l<d.length;l++)g=d[l],w=g.Hx("name")[0].jx,m=g.Hx("value")[0].jx,f.append(w,m);return n.HU=f,[2,e]}))}))()},i.LU=function(t,n){return et.resolve(t)},i.BU=function(n,i){return t.prototype.CU.call(this,n,bl.gE,i)},n}(u_);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt();var ob=function(){function t(n){this.KU=n,this.NS=t.qU(n)}return t.prototype.YU=function(){var t={};if(this.NS===O_.FU){var n={LatensRegistration:V_(this.KU,O_.FU)};t["X-TITANIUM-DRM-CDATA"]=$c(JSON.stringify(n))}return t},t.qU=function(t){return"3"===t.version?O_.FU:O_.OU},Nt(t,[{key:"jU",get:function(){return this.NS}},{key:"ST",get:function(){return this.NS===O_.OU}}]),t}();var ab=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).QU=new ob(e.DU),e}It(n,t);var i=n.prototype;return i.yU=function(t){var n=this.DU;if(!this.DU)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(I_(n)){var i={};return i.playready={PT:cb(n,this.QU.jU)},et.resolve(i)}return et.reject(F_(n,O_.Ww))},i.TU=function(){var n=new Ud(this.QU.YU());return n.Dk(t.prototype.TU.call(this)),n},i.SU=function(t,n,i){return Pt((function(){var r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:if(!(r=t.jE))throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.Bk(i)];case 2:return s=f.sent(),o=kc(new E(s)),(a=Kn.Nx(o))&&(c=Py(a,"CustomData")).length>0&&(e=JSON.parse(c[0].jx),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.Jk,r.sE,u)}}))}))()},i.XU=function(t){if(1!==t.length)throw new hw(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(sb);function cb(t,n){var i=V_(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+$c('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=Sc(e,!0);return Sc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Oa(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}F(),Tt(),Dt(),Rt();var hb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fU("https://playready-license.drm.technology/rightsmanager.asmx"),e}It(n,t);var i=n.prototype;return i.XU=function(t){if(1!==t.length)throw new hw(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.kU=function(n,i){var r=ao({},n||{},{token:this.ZU});return t.prototype.kU.call(this,r,i)},Nt(n,[{key:"ZU",get:function(){if(R_(this.DU))return this.DU.token}}]),n}(sb);F(),Tt(),Rt();var fb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fU("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return It(n,t),n.prototype.kU=function(n,i){var r=n;return A_(this.DU)&&(r=H_(this.DU,r)),t.prototype.kU.call(this,r,i)},n}(sb);F(),Tt(),Rt();var vb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fU("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return It(n,t),n.prototype.TU=function(){var n=t.prototype.TU.call(this);return j_(this.DU,"PlayReady",n)},n}(sb);F(),Tt(),Dt(),Rt();var db=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fU("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}It(n,t);var i=n.prototype;return i.RU=function(n){var i=function(t){var n=kc(new E(t));return Qo(n,"<?xml")?0:1}(n);return 1===i?q_(n):t.prototype.RU.call(this,new E(n))},i.TU=function(){return Q_(t.prototype.TU.call(this),this.ZU,this.DU)},Nt(n,[{key:"ZU",get:function(){return J_(this.DU)}}]),n}(sb);F(),Tt(),Mt(),Rt(),Wt();var lb=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.TU=function(){var n=t.prototype.TU.call(this);return this.JU&&n.set("Ticket",this.JU),n.set("Content-Type","text/xml"),n},i.IU=function(n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return[4,nb(r.DU,"playready",r.mI,i)];case 1:return e=u.sent(),r.fU(e.licenseServerUrl),r.JU=e.ticket,[2,t.prototype.IU.call(r,n,i)]}}))}))()},n}(sb);F(),Tt(),Rt();var gb=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.TU=function(){if(!N_(this.DU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.TU.call(this);return n.set("X-AxDRM-Message",this.DU.token),n},n}(sb);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var wb=function(t){return t.xk="application/json",t.$U="application/x-www-form-urlencoded",t.tG="application/octet-stream",t.Rk="text/plain;charset=UTF-8",t}({}),mb=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n._T,i,r,e,u)||this).rG="",s.iG=void 0,s.aG=n.lG,s}It(n,t);var i=n.prototype;return i.eG=function(){return this.gU.certificateURL||this.iG},i.sG=function(t){this.iG=t},i.IU=function(t){return et.resolve(this.nG(t,this.rG))},i.nG=function(t,n){return"spc="+encodeURIComponent(Oa(t))+"&assetId="+encodeURIComponent(n)},i.MU=function(t){return t.fairplay||{}},i.hG=function(t){var n=t.indexOf("?");if(n>=0)return et.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return et.resolve(i)}var r=t.split("/");return et.resolve(r[r.length-1])},i.yU=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.aG)?i:Rc(new E(t)),[4,n.hG(r)];case 1:return e=s.sent(),n.rG=e,(u={}).fairplay={WT:e},[2,u]}}))}))()},i.TU=function(){var n=t.prototype.TU.call(this);return n.set("Content-Type",this.oG),n},i.LU=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return i.vU?[2,i.vU]:[4,i.uG(n)];case 1:return[2,t.sent()]}}))}))()},i.BU=function(n,i){return t.prototype.CU.call(this,n,bl.dE,i)},i.cG=function(t){var n=this.eG(),i=this.TU(),r={Xu:n,tE:Fd.Ek,iE:i,EE:pl.GET,DE:!1,Vk:null,xE:0,ep:t,zw:_l.cE,CE:bl.fE};return new Tl(r)},i.uG=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return i=n.cG(t),[4,n.mI.eE(i)];case 1:return[4,e.sent().Bk()];case 2:return r=e.sent(),[2,new E(r)]}}))}))()},i.RU=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Pa(i)}else n=new E(t);return n},i.kU=function(n,i){var r=t.prototype.kU.call(this,n,i);return Qo(r,"skd:")&&(r=r.substr(4)),r},Nt(n,[{key:"pU",get:function(){return!0}},{key:"oG",get:function(){return wb.$U}}]),n}(u_);F(),Tt(),Mt(),Dt(),Rt(),Wt();var yb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Ek)||this}It(n,t);var i=n.prototype;return i.hG=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?et.resolve(""):(i=n.split(";",2)).length>1?et.resolve(i[1]):et.resolve(t.prototype.hG.call(this,n))},i.IU=function(t){return Pt((function(){return Ot(this,(function(n){return[2,t]}))}))()},i.RU=function(t){return new E(t)},i.kU=function(n,i){var r=n||{};return r.p1=ke(),t.prototype.kU.call(this,r,i)},Nt(n,[{key:"oG",get:function(){return wb.tG}}]),n}(mb);F(),Tt(),Dt(),Rt();var pb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Fd.Ek)||this).fU("https://fairplay-license.drm.technology/license"),u.sG("https://fairplay-license.drm.technology/certificate"),u}It(n,t);var i=n.prototype;return i.nG=function(t,n){var i={token:this.ZU,contentId:n,payload:Oa(t)};return JSON.stringify(i)},i.RU=function(t){return new E(t)},i.TU=function(){var n=t.prototype.TU.call(this);return n.set("x-vudrm-token",this.ZU),n},Nt(n,[{key:"oG",get:function(){return wb.xk}},{key:"ZU",get:function(){if(!R_(this.DU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.DU.token}}]),n}(mb);F(),Tt(),Rt();var _b="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",bb="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",kb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Ek)||this}return It(n,t),n.prototype.RU=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new hw(vd.CONTENT_PROTECTION_LICENSE_INVALID,_b)}if(!n)throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,bb);return n}(kc(new DataView(n)));return t.prototype.RU.call(this,i)},n}(mb);F(),Tt(),Mt(),Dt(),Rt(),Wt();var Ab=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.xk)||this}It(n,t);var i=n.prototype;return i.IU=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){if(!(i=n.DU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=Oa(t),[2,U_(i,r,O_.Hw)]}))}))()},i.RU=function(t){try{var n;if(ti(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Jc(n.license);return new E(r)}throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new hw(vd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.SU=function(t,n,i){return W_(t,n,i)},Nt(n,[{key:"oG",get:function(){return wb.xk}}]),n}(mb);F(),Tt(),Mt(),Dt(),Rt(),Wt();var Tb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Fd.Ek)||this).fU("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.sG("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}It(n,t);var i=n.prototype;return i.eG=function(){var n=t.prototype.eG.call(this);if(!n)return n;var i=Kn.Bh(n),r=this.DU;return A_(r)&&Rl(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.hG=function(n){return A_(this.DU)?et.resolve(this.DU.contentId):t.prototype.hG.call(this,n)},i.IU=function(t){return Pt((function(){return Ot(this,(function(n){return[2,t]}))}))()},i.RU=function(t){return new E(t)},i.kU=function(n,i){var r=n;return A_(this.DU)&&(r=function(t,n){return ao({},H_(t,n),{KeyId:t.keyId})}(this.DU,r)),t.prototype.kU.call(this,r,i)},Nt(n,[{key:"oG",get:function(){return wb.tG}}]),n}(mb);F(),Tt(),Mt(),Rt(),Wt();var Sb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Fd.Rk)||this,!k_(i))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.fU("https://connect.conax.com:8097/license"),u}It(n,t);var i=n.prototype;return i.TU=function(){var n=t.prototype.TU.call(this);return j_(this.DU,"FairPlay",n)},i.uG=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return i=n.eG(),r={Xu:i,tE:Fd.Ek,iE:{},EE:pl.GET,DE:!1,Vk:null,xE:0,ep:t,zw:_l.cE,CE:bl.fE},[4,n.mI.eE(r)];case 1:return[4,u.sent().Bk()];case 2:return e=u.sent(),[2,new E(e)]}}))}))()},i.IU=function(t){return Pt((function(){return Ot(this,(function(n){return[2,t]}))}))()},i.hG=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),et.resolve(function(t){return kc(Pa(t))}(n))):et.resolve("unknown")},i.RU=function(t){try{var n=JSON.parse(t);return new E(Jc(n.CkcMessage))}catch(t){throw new p("CFLRW-66")}},n}(mb);F(),Tt(),Rt();var Eb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Fd.Rk)||this).fU(w_[Uo.Hw]),u}It(n,t);var i=n.prototype;return i.hG=function(t){return Qo(t,"skd://")?et.resolve(t.substring(6,40)):et.reject(new hw(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.nG=function(t,n){return"spc="+Oa(t)+"&assetId="+n},n}(mb);F(),Tt(),Dt(),Rt();var Ib=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Fd.Rk)||this).fU("https://lic.drmtoday.com/license-server-fairplay/"),u}It(n,t);var i=n.prototype;return i.nG=function(t,n){var i="spc="+encodeURIComponent(Oa(t))+"&"+encodeURI(n);return"persistent"===this.gU.licenseType?i+"&offline=true":i},i.TU=function(){return Q_(t.prototype.TU.call(this),this.ZU,this.DU)},Nt(n,[{key:"ZU",get:function(){return J_(this.DU)}}]),n}(mb);F(),Tt(),Mt(),Dt(),Rt(),Wt();var Rb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Ek)||this}It(n,t);var i=n.prototype;return i.hG=function(t){var n=t;return Qo(n,"skd:")&&(n="http:"+n.substring(4)),Qo(n,"http:")||Qo(n,"https:")?et.resolve(Kn.Bh(n).hostname):et.reject(new p("Could not parse ExpressPlay FairPlay content ID."))},i.IU=function(t){return Pt((function(){return Ot(this,(function(n){return[2,t]}))}))()},i.RU=function(t){return new E(t)},Nt(n,[{key:"oG",get:function(){return wb.tG}}]),n}(mb);F(),Tt(),Rt();var Cb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Rk)||this}return It(n,t),n.prototype.TU=function(){var n=t.prototype.TU.call(this),i=this.DU.token;return n.set("Authorization","Bearer "+i),n},n}(mb);F(),Tt(),Mt(),Dt(),Rt(),Wt();var Nb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Fd.xk)||this,!C_(i))throw new p("Invalid Xstream DRM configuration");return u}It(n,t);var i=n.prototype;return i.uG=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return i=n.eG(),r=n.TU(),e={Xu:i,tE:Fd.xk,iE:r,EE:pl.POST,ep:t,zw:_l.cE,CE:bl.fE},[4,n.mI.eE(e)];case 1:return[4,s.sent().Nk()];case 2:return u=s.sent(),[2,new E(Pa(u.certificate))]}}))}))()},i.BU=function(t,n,i){void 0===i&&(i=Fd.Rk);var r=this;return Pt((function(){var i,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return i=Oa(t),[4,nb(r.DU,"fairplay",r.mI,n)];case 1:return e=o.sent(),u=Ac(JSON.stringify({spc:i,ticket:e.ticket})),s={Xu:r.mU(),tE:Fd.xk,iE:r.TU(),EE:pl.POST,Vk:u,xE:0,ep:n,zw:_l.cE,CE:bl.dE},[4,r.mI.eE(s)];case 2:return[4,o.sent().Nk()];case 3:return[2,Pa(o.sent().licence)]}}))}))()},Nt(n,[{key:"oG",get:function(){return wb.xk}}]),n}(mb);F(),Tt(),Rt();var Db=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Rk)||this}It(n,t);var i=n.prototype;return i.nG=function(t,n){return Oa(t)},i.RU=function(n){if(0===n.length)throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.RU.call(this,n)},i.TU=function(){var n=t.prototype.TU.call(this);return n.set("Content-Type","text/plain"),n},n}(mb);F(),Tt(),Dt(),Rt();var xb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Ek)||this}It(n,t);var i=n.prototype;return i.nG=function(t,n){return t},i.RU=function(t){return new E(t)},i.TU=function(){if(!N_(this.DU))throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.TU.call(this);return n.set("X-AxDRM-Message",this.DU.token),n},Nt(n,[{key:"oG",get:function(){return wb.xk}}]),n}(mb);F(),Tt(),Dt(),Rt();var Pb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Fd.xk)||this).dG=void 0,u}It(n,t);var i=n.prototype;return i.nG=function(t,n){var i={spc:Oa(t)};return JSON.stringify(i)},i.hG=function(t){var n=Kn.Bh(t);return this.dG=t,n.searchParams.has("b")?et.resolve(n.searchParams.get("b")):et.reject(new hw(vd.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.kU=function(n,i){var r=this.mU();return!r&&this.dG&&(r=this.dG),r&&(r=r.replace("skd://","https://")),t.prototype.kU.call(this,n,i||r)},i.RU=function(t){try{var n;if((n=ti(t)?JSON.parse(t.trim()):t).ckc)return Pa(n.ckc)}catch(t){throw new hw(vd.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},Nt(n,[{key:"oG",get:function(){return wb.Rk}}]),n}(mb);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Wt(),F(),Tt();var Lb=function(){function t(t,n){this._G=t,this.gG=n}var n=t.prototype;return n.fG=function(t){return this._G(t)},n.vG=function(t,n){throw new _(n+" must be "+this.gG+". (Received: "+t+")")},t}(),Mb=(new Lb((function(t){return!0}),"any"),new Lb(ei,"a number")),Ob=new Lb(ti,"a string"),Bb=new Lb(ni,"a boolean"),Vb=(new Lb(ri,"a date"),new Lb(jn,"undefined")),Fb=new Lb(Qn,"an object"),Ub=new Lb((function(t){return null===t}),"null");new Lb((function(t){return null==t}),"null or undefined");function Wb(t,n){throw new _(n+" has an incorrect type")}var Zb=function(){function t(t){this.jp=t}var n=t.prototype;return n.fG=function(t){if(!Qn(t))return!1;for(var n=0,i=b.keys(this.jp);n<i.length;n++){var r=i[n];if(!this.jp[r].fG(t[r]))return!1}return!0},n.vG=function(t,n){if(!Qn(t))throw new _(n+" must be an object.");for(var i=0,r=b.keys(this.jp);i<r.length;i++){var e=r[i],u=this.jp[e];if(!u.fG(t[e]))return u.vG(t[e],n+"."+String(e))}throw new _},t}();function Xb(t){return new Zb(t)}function Gb(t){return b.keys(t).map((function(n){return t[n]}))}var Hb=function(){function t(t){this.p_=t}var n=t.prototype;return n.fG=function(t){return tr(this.p_,t)},n.vG=function(t,n){return Wb(0,n)},t}();function zb(t){return new Hb(t)}var Yb=function(){function t(t){this.mG=t}var n=t.prototype;return n.fG=function(t){return this.mG.some((function(n){return n.fG(t)}))},n.vG=function(t,n){return Wb(0,n)},t}();function jb(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Yb(n)}var Kb=function(){function t(t){this.pG=t}var n=t.prototype;return n.fG=function(t){var n=this;return qn(t)&&t.every((function(t){return n.pG.fG(t)}))},n.vG=function(t,n){if(!qn(t))throw new _(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.pG.fG(r)||this.pG.vG(r,n+"["+i+"]")}return Wb(0,n)},t}();function qb(t){return new Kb(t)}var Jb=function(){function t(t){this.pG=t}var n=t.prototype;return n.fG=function(t){var n=this;return Qn(t)&&b.keys(t).every((function(i){return n.pG.fG(t[i])}))},n.vG=function(t,n){if(!Qn(t))throw new _(n+" must be an object.");for(var i=0,r=b.keys(t);i<r.length;i++){var e=r[i];if(!this.pG.fG(t[e]))return this.pG.vG(t[e],n+"."+e)}return Wb(0,n)},t}();function Qb(t){return new Jb(t)}var $b=function(){function t(t){this.pG=Ti(t)}var n=t.prototype;return n.fG=function(t){return this.pG().fG(t)},n.vG=function(t,n){return this.pG().vG(t,n)},t}();var tk=Xb({responseCode:Mb,isException:Bb,description:Ob,title:Ob,correlationId:Ob});function nk(t,n,i,r,e){return ik.apply(this,arguments)}function ik(){return ik=Pt((function(t,n,i,r,e){var u;return Ot(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(Il(i,e)),s=new Ud({});s.append("Content-Type","application/json");var o=Oa(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Xu:u,tE:Fd.Rk,iE:s,EE:pl.POST,Vk:JSON.stringify(a),ep:r,zw:_l.cE,CE:bl.dE}}(t,n,i,e),[4,rk(u,r)];case 1:return[2,s.sent()]}}))})),ik.apply(this,arguments)}function rk(t,n){return ek.apply(this,arguments)}function ek(){return ek=Pt((function(t,n){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.eE(t)];case 1:return[4,r.sent().Nk()];case 2:if(i=r.sent(),tk.fG(i))throw new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Xu,i.responseCode);return[2,Pa(i.getFairplayLicenseResponse.ckcResponse)]}}))})),ek.apply(this,arguments)}var uk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Fd.Ek)||this).wG=i,u}It(n,t);var i=n.prototype;return i.hG=function(n){var i=n.replace("FairPlay",this.wG.releasePid);return t.prototype.hG.call(this,i)},i.BU=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,nk(t,i.wG,i.mU(),i.mI,n)];case 1:return[2,r.sent()]}}))}))()},n}(mb);F(),Tt(),Mt(),Rt(),Wt();var sk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Fd.Ek)||this}It(n,t);var i=n.prototype;return i.MU=function(t){return t.clearkey||{}},i.bU=function(n,i,r,e){var u=this;return Pt((function(){var i,s;return Ot(this,(function(o){if(i=u.gU,u.mU())return[2,t.prototype.bU.call(u,n,u.PU,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){return{kty:"oct",kid:t.id,k:t.value}}))},[2,Cc(JSON.stringify(s)).buffer];throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.LU=function(t,n){return et.resolve(new E(0))},i.BU=function(n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return[4,t.prototype.CU.call(r,n,bl.mE,i)];case 1:if(e=c.sent(),(u=JSON.parse(Rc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=Ba(a.k)),a.kid&&(a.kid=Ba(a.kid));return[2,Cc(JSON.stringify(u))]}}))}))()},n}(u_),ok=function(t){function n(n,i,r){return t.call(this,Ho,n,i,r)||this}return It(n,t),n}(sk),ak=function(t){function n(n,i,r){return t.call(this,zo,n,i,r)||this}return It(n,t),n}(sk);F(),Tt(),Rt();var ck=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(a_);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Wt();var hk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function fk(t,n,i){return vk.apply(this,arguments)}function vk(){return vk=Pt((function(t,n,i){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return r=Ek(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Sr(et.resolve(e.call(t,r)),i)]:[2,et.resolve(n)];case 1:return Mc(u=s.sent())?[2,Oc(u)]:[2,Sk(ao({},hk,u))]}}))})),vk.apply(this,arguments)}function dk(t,n,i,r,e){return lk.apply(this,arguments)}function lk(){return lk=Pt((function(t,n,i,r,e){var u,s;return Ot(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=Tk(n,i,r),u&&"function"==typeof u?[4,Sr(et.resolve(u.call(t,s)),e)]:[2,et.resolve(n)];case 1:return[2,Oc(o.sent())]}}))})),lk.apply(this,arguments)}function gk(t,n,i,r){return wk.apply(this,arguments)}function wk(){return wk=Pt((function(t,n,i,r){var e;return Ot(this,(function(u){switch(u.label){case 0:return[4,pk(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,Sk(e)]}}))})),wk.apply(this,arguments)}function mk(t,n,i,r,e,u){return yk.apply(this,arguments)}function yk(){return yk=Pt((function(t,n,i,r,e,u){var s;return Ot(this,(function(o){switch(o.label){case 0:return s=Ak(i,e),[4,bk(t,new E(n),s,r,u)];case 1:return[2,Oc(o.sent())]}}))})),yk.apply(this,arguments)}function pk(t,n,i,r){return _k.apply(this,arguments)}function _k(){return _k=Pt((function(t,n,i,r){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=Ak(n,i),e&&"function"==typeof e?[4,Sr(et.resolve(e.call(t,u)),r)]:[2,et.resolve(u)];case 1:return Mc(s=o.sent())?[2,Oc(s).buffer]:[2,ao({fairplaySkdUrl:void 0},hk,s)]}}))})),_k.apply(this,arguments)}function bk(t,n,i,r,e){return kk.apply(this,arguments)}function kk(){return kk=Pt((function(t,n,i,r,e){var u,s;return Ot(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=Tk(n,i,r),u&&"function"==typeof u?[4,Sr(et.resolve(u.call(t,s)),e)]:[2,et.resolve(n)];case 1:return[2,Oc(o.sent())]}}))})),kk.apply(this,arguments)}function Ak(t,n){return ao({},Ek(t),{fairplaySkdUrl:n})}function Tk(t,n,i){return{url:i.rE,status:i.Jk,statusText:i.sE,headers:i.iE.Ck(),body:t,request:n}}function Sk(t){return new Tl({Xu:t.url,EE:t.method,iE:t.headers,Vk:t.body,DE:t.useCredentials,zw:_l.cE})}function Ek(t){var n;return{url:t.Xu,body:null!=(n=Ik(t.Vk))?n:null,headers:t.iE.Ck(),method:t.EE,useCredentials:t.DE}}function Ik(t){if(t)return"string"==typeof t?Cc(t):t instanceof ArrayBuffer?new E(t):Gc(t)?Lc(t):void 0}var Rk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).yG=e,u}It(n,t);var i=n.prototype;return i.LU=function(t,n){return et.resolve(t)},i.BU=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return[4,i.zU(Vc(t).buffer)];case 1:return r=c.sent(),e=i.AU(r,Fd.Ek,bl.gE,n),[4,gk(i.yG,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new E(u)];if(""===u.Xu)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.mI.eE(u)];case 4:return[4,(s=c.sent()).Bk(n)];case 5:return o=c.sent(),[4,mk(i.yG,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Ar(a=c.sent()),new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(sb);F(),Tt(),Mt(),Rt(),Wt();var Ck=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,Fd.Ek)||this).yG=e,u}It(n,t);var i=n.prototype;return i.LU=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return i.vU?[2,i.vU]:(r=i.AU(t,Fd.Ek,bl.vE,n),[4,fk(i.yG,r,n)]);case 1:if((e=c.sent())instanceof E)return[2,e];if(""===e.Xu)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.mI.eE(e)];case 3:return[4,(u=c.sent()).Bk(n)];case 4:return s=c.sent(),[3,6];case 5:throw Ar(o=c.sent()),new hw(vd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=Ak(r,void 0),[4,dk(i.yG,new E(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.BU=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return r=i.AU(t,Fd.Ek,bl._E,n),[4,gk(i.yG,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new E(e)];if(""===e.Xu)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.mI.eE(e)];case 3:return[4,(u=a.sent()).Bk(n)];case 4:return s=a.sent(),[4,mk(i.yG,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Ar(o=a.sent()),new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(ck);F(),Tt(),Mt(),Rt(),Wt();var Nk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Fd.Ek)||this).yG=u,s}It(n,t);var i=n.prototype;return i.LU=function(t,n){var i=this;return Pt((function(){var t,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return i.vU?[2,i.vU]:(t=i.cG(n),[4,fk(i.yG,t,n)]);case 1:if(r=a.sent(),Gc(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.mI.eE(r)];case 3:return[4,(e=a.sent()).Bk()];case 4:return u=a.sent(),s=Ak(t,void 0),[4,dk(i.yG,new E(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Ar(o=a.sent()),new hw(vd.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.BU=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return r=i.AU(t,Fd.Ek,bl.dE,n),[4,gk(i.yG,r,i.bG,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new E(e)];if(""===e.Xu)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.mI.eE(e)];case 3:return[4,(u=a.sent()).Bk(n)];case 4:return s=a.sent(),[4,mk(i.yG,s,r,u,i.bG,n)];case 5:return[2,a.sent()];case 6:throw Ar(o=a.sent()),new hw(vd.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.hG=function(n){var i;return this.bG=n,(null==(i=this.yG)?void 0:i.extractFairplayContentId)?et.resolve(this.yG.extractFairplayContentId(n)):t.prototype.hG.call(this,n)},n}(mb),Dk=function(){function t(){}var n=t.prototype;return n.AG=function(t,n,i,r){switch(t._T.zw){case Uo.Uw:return this.SG(n,i,r);case Uo.Ww:return this.TG(n,i,r);case Uo.Hw:return this.kG(t,n,i,r);case Uo.Zw:return this.EG(n,i,r);case Uo.Gw:default:return this.xG(n,i,r)}},n.SG=function(t,n,i){var r=function(t){return t.integration===e_&&ti(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&g_.TP.bP(r,Ro)){var e=g_.TP.SP(r,Ro,t);return new Ck(t,n,i,e)}switch(r){case Xp:return new X_(t,n,i);case Yp:return new G_(t,n,i);case zp:return new z_(t,n,i);case Gp:return new K_(t,n,i);case qp:return new $_(t,n,i);case Qp:return new tb(t,n,i);case $p:return new rb(t,n,i);case n_:return new eb(t,n,i);default:return new ck(t,n,i,Fd.Ek)}},n.TG=function(t,n,i){var r=t.integration;if(r&&g_.TP.bP(r,So)){var e=g_.TP.SP(r,So,t);return new Rk(t,n,i,e)}switch(r){case Xp:return new ab(t,n,i);case Yp:return new hb(t,n,i);case zp:return new fb(t,n,i);case Gp:return new vb(t,n,i);case qp:return new db(t,n,i);case $p:return new lb(t,n,i);case n_:return new gb(t,n,i);default:return new sb(t,n,i)}},n.kG=function(t,n,i,r){var e=n.integration;if(e&&g_.TP.bP(e,Oo)){var u=g_.TP.SP(e,Oo,n);return new Nk(t,n,i,r,u)}switch(e){case Hp:return new yb(t,n,i,r);case Yp:return new pb(t,n,i,r);case jp:return new kb(t,n,i,r);case Xp:return new Ab(t,n,i,r);case zp:return new Tb(t,n,i,r);case Gp:return new Sb(t,n,i,r);case Kp:return new Eb(t,n,i,r);case qp:return new Ib(t,n,i,r);case Jp:return new Rb(t,n,i,r);case Qp:return new Cb(t,n,i,r);case $p:return new Nb(t,n,i,r);case t_:return new Db(t,n,i,r);case n_:return new xb(t,n,i,r);case i_:return new Pb(t,n,i,r);case r_:return new uk(t,n,i,r);default:return new mb(t,n,i,r,Fd.Rk)}},n.xG=function(t,n,i){return new ok(t,n,i)},n.EG=function(t,n,i){return new ak(t,n,i)},n.IG=function(t){return t.zw===Uo.Ww||t.zw===Uo.Uw||t.zw===Uo.Hw||t.zw===Uo.Gw||t.zw===Uo.Zw},n.ST=function(t,n){var i;if(t.zw!==Uo.Ww)return!1;if(Yn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!g_.TP.bP(r,Oo))&&(r===Xp&&new ob(n).ST)},n.VU=function(t,n){if(t.zw===Uo.Uw){var i=n.integration;if(!i||!g_.TP.bP(i,Oo))return i===Xp?X_.VU():void 0}},t}();F(),Tt(),F(),Tt(),Dt(),Rt();var xk=function(t){function n(n){var i;return(i=t.call(this,Qy.fa)||this).errorObject=n,i}return It(n,t),n.prototype.ka=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ig);F(),Tt(),F(),Tt(),sn();var Pk="theoplayer-stored-network-info-v2",Lk=25e5,Mk=function(){function t(){var t=this;this.DG=Vd,this.OG=void 0,this.FG=ki((function(){var n,i=un({},t.DG,{availableBandwidth:t.OG,storedTimestamp:ke()});null==(n=Kn.dI)||n.Wb(Pk,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.CG=function(t){var n,i=null==(n=Kn.dI)?void 0:n.Vb(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.DG]){if(!this.NG(r))return r[this.DG].availableBandwidth;var e;null==(e=Kn.dI)||e.Wb(t,JSON.stringify({}))}}},n.MG=function(){var t=this.CG(Pk);if(void 0!==t)return t;var n=this.CG("theoplayer-stored-network-info");return n?8*n:void 0},n.NG=function(t){var n=t[this.DG].storedTimestamp;return!!n&&ke()-n>36e5},n.BG=function(t){this.OG=t,this.FG()},n.VG=function(){var t;return null!=this.OG||(this.OG=null!=(t=this.MG())?t:Lk),this.OG},t}();Mk.Vm=new Mk,F(),Tt();var Ok=function(t){return t[t.WG=0]="WG",t[t.UG=1]="UG",t[t.GG=2]="GG",t[t.ZG=3]="ZG",t[t.HG=4]="HG",t[t.XG=5]="XG",t[t.iP=6]="iP",t[t.zG=7]="zG",t[t.qG=8]="qG",t[t.oP=9]="oP",t[t.YG=10]="YG",t[t.hP=11]="hP",t[t.KG=12]="KG",t}({});F(),Tt(),Dt();var Bk=function(){function t(){}return t.prototype.JG=function(t){},Nt(t,[{key:"jG",get:function(){return 0}},{key:"QG",get:function(){return 0}}]),t}();F(),Tt(),Rt(),F(),Tt(),Rt();var Vk=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).$G=n,i}return It(n,t),n}(ma),Fk=function(t){function n(n,i){var r;return void 0===i&&(i=new Dk),(r=t.call(this)||this).KU=void 0,r.WW=n,r.eZ=i,r}It(n,t);var i=n.prototype;return i.tZ=function(t){this.KU=t},i.VU=function(t){var n=this.KU;if(void 0!==n)return this.eZ.VU(t,n)},i.ST=function(t){var n=this.KU;return void 0!==n&&this.eZ.ST(t,n)},i.iZ=function(t){var n={_T:t._T,sZ:t.sZ||[],nZ:t.nZ,lG:t.lG,rZ:t.rZ||[]},i=this.eZ.AG(n,this.KU||{},t.NU,this.WW);return n.nZ&&i.fU(n.nZ),new Uk(i)},i.oZ=function(t){t&&(Hi(t,(function(t){return void 0!==t.NU}))&&this._o(new Vk(t)))},n}(la),Uk=function(){function t(t){this.hZ=t}var n=t.prototype;return n.wU=function(t){return this.hZ.wU(t)},n.yU=function(t,n,i){return this.hZ.yU(n,i)},n.pU=function(){return this.hZ.pU||void 0!==this.hZ.vU},n.LU=function(t,n){return this.hZ.LU(t,n)},n.BU=function(t,n,i){return n&&this.hZ.fU(n),this.hZ.BU(t,i)},n.Km=function(){this.hZ.yn()},t}();F(),Tt(),Rt();var Wk=function(t){function n(n){var i;(i=t.call(this)||this).uZ=[],i._Z=function(t){i.tt(t.Ht)},i.vZ=function(t){var n=t.Ht;i.fZ(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.aZ(e)}return i}It(n,t);var i=n.prototype;return i.aZ=function(t){this.uZ.push(t);for(var n=0,i=t.mC;n<i.length;n++){var r=i[n];this.tt(r)}this.cZ(t)},i.lZ=function(t){Ji(this.uZ,t),this.dZ(t);for(var n=0,i=t.mC;n<i.length;n++){var r=i[n];this.fZ(r)||this.it(r)}},i.fZ=function(t){for(var n=0,i=this.uZ;n<i.length;n++){if(i[n].yC(t))return!0}return!1},i.cZ=function(t){t.bn(Dg.XR,this._Z),t.bn(Dg.qR,this.vZ)},i.dZ=function(t){t.vn(Dg.XR,this._Z),t.vn(Dg.qR,this.vZ)},i.yn=function(){for(;this.uZ.length>0;)this.lZ(this.uZ[0]);t.prototype.yn.call(this)},i.ka=function(){return ip(this)},n}(Bg);F(),Tt(),Dt(),F(),Tt();var Zk,Xk={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Gk=function(){function t(){}var n=t.prototype;return n.Aa=function(t){this.mZ=t,void 0!==this.qe&&(this.mZ.Rt=this.qe)},n.nr=function(){this.mZ=void 0,this.qe=void 0},Nt(t,[{key:"wa",get:function(){return null!=this.eu||(this.eu=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=zg(n)},get monitoringLivePlayback(){return t.gZ},get currentLatency(){return t.mO},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.kd)}}}(this)),this.eu}},{key:"Rt",get:function(){var t,n;return null!=(n=this.qe)?n:Boolean(null==(t=this.mZ)?void 0:t.Rt)},set:function(t){this.qe=t,this.mZ&&(this.mZ.Rt=t)}},{key:"gZ",get:function(){var t,n;return null!=(n=null==(t=this.mZ)?void 0:t.UB)&&n}},{key:"mO",get:function(){var t;return null==(t=this.mZ)?void 0:t.gO}},{key:"kd",get:function(){return this.mZ?this.mZ.GB:Xk}}]),t}();var Hk=Boolean(f&&f.TextTrack),zk=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new Dk),void 0===a&&(a=xd()),(c=t.call(this)||this).kZ=void 0,c.Sc=void 0,c.bZ=void 0,c.AZ=void 0,c.RZ=new Bk,c.xZ=new Gk,c.JZ=function(t){var n=t.lt,i=n.code,r=new ld(ww(i),"Something went wrong during native playback.",n),e=new vw(i,r.message,n.message);c.uH(r,e)},c.Tc=function(){c._o(new Eg(c.RI,c.kI))},c.cH=function(){!c.dR&&Gn.su&&Gn.$g&&c.ct===1/0&&c.DI(1/0)},c.jZ=function(t){c.JI||(c.yZ=void 0),c._o(t)},c.fO=function(t){c.yZ=void 0},c.tH=function(){c._o(new Lw(c.ZI))},c.QZ=function(){c.pR>0&&c.vR>0&&c._o(new Rp)},c.sH=function(t){var n=c.aO.SZ.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Kk(c.LO,r)||c.LO.tt(new Dw(r))}},c.nH=function(t){var n=[],i=c.aO.SZ.audioTracks;if(i){for(var r=0,e=c.LO.mC;r<e.length;r++){var u=e[r];qk(i,u.sF)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.LO.it(o)}}},c.rH=function(){c.ah(c.LO)},c.oH=function(t){var n=c.aO.SZ.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Kk(c.FO,r)||c.FO.tt(new Pw(r))}},c.hH=function(t){var n=[],i=c.aO.SZ.videoTracks;if(i){for(var r=0,e=c.FO.mC;r<e.length;r++){var u=e[r];qk(i,u.sF)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.FO.it(o)}}},c.aH=function(){c.ah(c.FO)},c.$Z=function(t){c._o(t),c.uH(t.errorObject,lw(t.errorObject))},c.YZ=i,c.WW=r,c.ey=a,c.aO=c.YZ.lH(aw.yE),c.TZ=c.aO.SZ.preload,c.ZZ=new Wp(c.aO,!0),c.ZZ.bn(Dp,c.Ds),c.ZZ.bn(Np.hB,c.cH),c.MZ=new Fk(r,o),c.aO.zZ=c.MZ,c.KZ(),c.LO=new ow,c.FO=new ow,c.iH(),c.VZ=new kp(c.aO,c.WW),c.Hl=new Wk([c.aO.nt]),c.ge(),c}It(n,t);var i=n.prototype;return i.DI=function(t,n){this.ZI&&(this.yZ=t),this.aO.Db(t)},i.be=function(){this.aO.be()},i.ge=function(){this.aO.ge()},i.Ca=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return kr(i),r.Sc=t,e={zw:Cp.zW,zC:t.src,Fk:t.type,CZ:r.PZ(t),rR:r.TZ,DZ:t.crossOrigin,NZ:n.metadata&&n.metadata.title},r.MZ.tZ(t.contentProtection),[4,r.aO.$n(e)];case 1:return r.kZ=u.sent(),kr(i),n.textTracks&&r.LZ(n.textTracks),Ip(r.nt),[2]}}))}))()},i.LZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.aO.BZ()&&Gn.su&&Hk&&!lp(i.kind,i.label)&&this.OZ(i)){var r,e=null!=(r=i.kind)?r:ep.TW;this.aO.FZ(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.VZ.OW(i)}}},i.OZ=function(t){return!t.format||"webvtt"===t.format},i.DR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.aO.DR()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.pZ?[3,5]:[4,t.aO.Ay(ya.jy)];case 5:return[2]}}))}))()},i.PR=function(){this.aO.PR()},i.MR=function(){return void 0!==this.aO.SZ.webkitShowPlaybackTargetPicker},i.LR=function(){this.aO.SZ.webkitShowPlaybackTargetPicker&&this.aO.SZ.webkitShowPlaybackTargetPicker()},i.OR=function(){this.aO.SZ.webkitShowPlaybackTargetPicker&&this.aO.SZ.webkitShowPlaybackTargetPicker()},i.IR=function(){return this.aO.SZ},i.xR=function(){return this.aO.Sa},i.ja=function(){return this.aO.WZ},i.ZR=function(t){return this.aO.UZ(t)},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Sc=void 0,t.bZ=void 0,t.AZ=void 0,t.kZ=void 0,[4,t.VZ.nr()];case 1:return n.sent(),t.aO.GZ(),[4,t.aO.nr()];case 2:return n.sent(),t.ZZ.nr(),t.rR=t.TZ,t.ht.nr(),t.rt.nr(),t.yZ=void 0,[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.Ro(),t.HZ(),t.XZ(),t.ZZ.yn(),t.aO.zZ=void 0,[4,t.YZ.qZ(t.aO)];case 2:return n.sent(),t.LO.yn(),t.FO.yn(),t.Hl.yn(),[4,t.VZ.yn()];case 3:return n.sent(),[2]}}))}))()},i.KZ=function(){this.aO.bn(ya.ho,this.Ds),this.aO.bn(ya.Ky,this.Ds),this.aO.bn(ya._b,this.Tc),this.aO.bn(ya.jy,this.Ds),this.aO.bn(ya.Hy,this.Ds),this.aO.bn(ya.ib,this.Ds),this.aO.bn(ya.eb,this.jZ),this.aO.bn(ya.Ly,this.Ds),this.aO.bn(ya.Qy,this.Ds),this.aO.bn(ya.vb,this.Ds),this.aO.bn(ya.Dy,this.Ds),this.aO.bn(ya.$y,this.QZ),this.aO.bn(Np.uB,this.fO),this.aO.bn(Qy.fa,this.JZ),this.aO.bn(ya.Ry,this.Ds),this.aO.bn(ya.Iy,this.$Z),this.aO.SZ.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.tH)},i.HZ=function(){this.aO.vn(ya.ho,this.Ds),this.aO.vn(ya.Ky,this.Ds),this.aO.vn(ya._b,this.Tc),this.aO.vn(ya.jy,this.Ds),this.aO.vn(ya.Hy,this.Ds),this.aO.vn(ya.ib,this.Ds),this.aO.vn(ya.eb,this.jZ),this.aO.vn(ya.Ly,this.Ds),this.aO.vn(ya.Qy,this.Ds),this.aO.vn(ya.vb,this.Ds),this.aO.vn(ya.Dy,this.Ds),this.aO.vn(ya.$y,this.QZ),this.aO.vn(Np.uB,this.fO),this.aO.vn(Qy.fa,this.JZ),this.aO.vn(ya.Ry,this.Ds),this.aO.vn(ya.Iy,this.$Z),this.aO.SZ.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.tH)},i.PZ=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{_T:Xo,eH:[{initDataTypes:[Xo.Yw],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.iH=function(){var t=this.aO.SZ.audioTracks,n=this.aO.SZ.videoTracks;t&&(t.addEventListener("addtrack",this.sH),t.addEventListener("removetrack",this.nH),t.addEventListener("change",this.rH)),n&&(n.addEventListener("addtrack",this.oH),n.addEventListener("removetrack",this.hH),n.addEventListener("change",this.aH))},i.XZ=function(){var t=this.aO.SZ.audioTracks,n=this.aO.SZ.videoTracks;t&&(t.removeEventListener("addtrack",this.sH),t.removeEventListener("removetrack",this.nH),t.removeEventListener("change",this.rH)),n&&(n.removeEventListener("addtrack",this.oH),n.removeEventListener("removetrack",this.hH),n.removeEventListener("change",this.aH))},i.ah=function(t){for(var n=0;n<t.V;n++){t.wC(n).rF()}},i.FR=function(){this.aO.FR()},i.WR=function(){},i.uH=function(t,n){this.bZ||(this.bZ=n,this.AZ=t,this._o(new xk(t)))},Nt(n,[{key:"mO",get:function(){}},{key:"pZ",get:function(){var t=this.aO.SI,n=this.RI;return t.wr(n,.01)}},{key:"ht",get:function(){return this.LO}},{key:"SI",get:function(){return this.aO.SI.ks()}},{key:"kI",get:function(){return this.aO.kI},set:function(t){t&&this.aO.wZ(t)}},{key:"bt",get:function(){return this.Sc}},{key:"RI",get:function(){return void 0!==this.yZ?this.yZ:this.aO.RI},set:function(t){this.DI(t)}},{key:"ct",get:function(){return this.aO.ct}},{key:"MI",get:function(){return this.aO.MI}},{key:"lt",get:function(){return this.bZ}},{key:"OI",get:function(){return this.AZ}},{key:"VI",get:function(){}},{key:"UI",get:function(){}},{key:"ZI",get:function(){return this.aO.ZI}},{key:"XI",get:function(){return ao({},{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.aO.zI())}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"jI",get:function(){return!0}},{key:"JI",get:function(){return this.aO.JI}},{key:"tR",get:function(){return this.aO.tR},set:function(t){this.aO.tR=t}},{key:"sR",get:function(){return this.aO.SZ.played}},{key:"rR",get:function(){return this.TZ},set:function(t){this.TZ=t,this.kZ&&(this.kZ.rR=t)}},{key:"aR",get:function(){return this.aO.aR}},{key:"cR",get:function(){return this.aO.cR.ks()}},{key:"dR",get:function(){return this.aO.dR}},{key:"EZ",get:function(){return this.aO.EZ}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.FO}},{key:"vR",get:function(){return this.aO.vR}},{key:"pR",get:function(){return this.aO.pR}},{key:"yR",get:function(){return this.aO.yR},set:function(t){this.aO.yR=t}},{key:"SR",get:function(){return this.xZ}},{key:"ER",get:function(){return this.aO.ER},set:function(t){this.aO.ER=t}},{key:"IZ",get:function(){return this.RZ}}]),n}(wa);function Yk(t){var n,i;if(!(null==(n=(Zk||(Zk=f&&f.document&&f.document.createElement("video")),i=Zk).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Gn.su||Gn.Cm;return!t.useManagedMediaSource||!r}var jk=function(){function t(){this.vH=Ok.KG}var n=t.prototype;return n.mP=function(t,n,i,r,e,u,s){return new zk(t,n,i,r,e,u)},n.dH=function(t,n){return Yk(t)},n.fH=function(t){return L_(t)},n._H=function(){return!1},t}();function Kk(t,n){for(var i=0,r=t.mC;i<r.length;i++){var e=r[i];if(e.sF===n)return e}}function qk(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}F(),Tt(),F(),Tt(),Dt();var Jk=function(){function t(t,n){var i=this;this.Drt=!1,this.Nrt=function(t){i.Mrt.PY(t.error,i.RI)},this.Lrt=function(){i.Mrt.xY(i.Prt),i.na.removeEventListener("playing",i.Lrt),i.Drt=!1},this.js=function(){var t,n,r,e,u,s;(i.Drt||(i.na.addEventListener("playing",i.Lrt),i.Drt=!0),null==(t=i.na.ads)||t.removeEventListener("adbegin",i.Brt),null==(n=i.na.theoads)||n.removeEventListener("interstitialbegin",i.Ort),null==(e=i.na.source)||null==(r=e.ads)?void 0:r.some((function(t){return"theoads"===t.integration})))&&(null==(u=i.na.ads)||u.addEventListener("adbegin",i.Brt),null==(s=i.na.theoads)||s.addEventListener("interstitialbegin",i.Ort))},this.Brt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.Mrt.CY("ad")},this.Ort=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.Mrt.CY(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.Mrt=n,this.na=t,this.na.addEventListener("error",this.Nrt),this.na.addEventListener("sourcechange",this.js),this.js()}return t.prototype.nr=function(){},Nt(t,[{key:"RI",get:function(){var t=this.na.currentTime;return isFinite(t)?t:"now"}},{key:"Prt",get:function(){return this.na.src||""}}]),t}();F(),Tt(),Rt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var Qk=function(t){function n(n,i){var r;return(r=t.call(this)||this).HR=function(t){r.GR(t)||r._o(t)},r.na=n,r.Rnt=!i,r.RH(),r}It(n,t);var i=n.prototype;return i.Ant=function(){return this.na.snt},i.Snt=function(){return this.na.zc},i.Tnt=function(){return this.na.rnt},i.xR=function(){return this.na.Sa},i.ja=function(){return this.na.WZ},i.Ent=function(){return this.na.knt},i.Int=function(){return this.na.xnt},i.yI=function(){return this.na.ht},i.TI=function(){return this.na.TI()},i.EI=function(){return this.na.kI},i.xI=function(t){this.na.kI=t},i.II=function(){return this.na.bt},i.CI=function(){return this.na.CI()},i.DI=function(t,n){this.na.DI(t,n)},i.dnt=function(){return this.na.dnt()},i.jd=function(){return this.na.jd()},i.NI=function(){return this.na.we},i.LI=function(){return this.na.MI},i.BI=function(){return this.na.BI()},i.FI=function(){return this.na.FI()},i.WI=function(){return this.na.VI},i.GI=function(){return this.na.UI},i.zI=function(){return this.na.XI},i.YI=function(){return this.na.qI},i.KI=function(t){this.na.KI(t)},i.$I=function(){return this.na.JI},i.eR=function(){return this.na.tR},i.iR=function(t){this.na.tR=t},i.nR=function(){return this.na.nR()},i.oR=function(){return this.na.rR},i.hR=function(t){this.na.rR=t},i.uR=function(){return this.na.aR},i.lR=function(){return this.na.lR()},i.fR=function(){return this.na.dR},i._R=function(){return this.na.nt},i.gR=function(){return this.na.vR},i.mR=function(){return this.na.rt},i.wR=function(){return this.na.pR},i.bR=function(){return this.na.yR},i.AR=function(t){this.na.AR(t)},i.RR=function(){this.na.RR()},i.PR=function(){this.na.PR()},i.DR=function(){this.na.DR()},i.ge=function(){this.na.ge()},i.be=function(){this.na.be()},i.cs=function(){return this.na.cs()},i.IR=function(){return this.na.IR()},i.FR=function(){this.na.FR()},i.WR=function(){this.na.WR()},i.ZR=function(t){return this.na.ZR(t)},i.Aa=function(){this.na.Aa()},i.iu=function(){return this.na.iu()},i.Ca=function(t,n){return this.na.Ca(t,n)},i.NR=function(){return this.na.NR()},i.GR=function(t){return!1},i.RH=function(){this.Rnt&&this.na._y(this.HR)},i.CH=function(){this.Rnt&&this.na.yy(this.HR)},i.yn=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Ro(),t?[3,2]:[4,n.na.yn()];case 1:i.sent(),i.label=2;case 2:return n.CH(),[2]}}))}))()},Nt(n,[{key:"snt",get:function(){return this.Ant()}},{key:"zc",get:function(){return this.Snt()}},{key:"pnt",get:function(){return this.na.pnt}},{key:"rnt",get:function(){return this.Tnt()}},{key:"KO",get:function(){return this.na.KO},set:function(t){this.na.KO=t}},{key:"gnt",get:function(){return this.na.gnt}},{key:"rq",get:function(){return this.na.rq}},{key:"lnt",get:function(){return this.na.lnt}},{key:"kd",get:function(){return this.na.kd}},{key:"Hu",get:function(){return this.na.Hu}},{key:"Sa",get:function(){return this.xR()}},{key:"WZ",get:function(){return this.ja()}},{key:"mI",get:function(){return this.na.mI}},{key:"SR",get:function(){return this.na.SR}},{key:"fnt",get:function(){return this.na.fnt}},{key:"MQ",get:function(){return this.na.MQ}},{key:"Sz",get:function(){return this.na.Sz}},{key:"vnt",get:function(){return this.na.vnt}},{key:"ant",get:function(){return this.na.ant}},{key:"Ta",get:function(){return this.na.Ta}},{key:"Wl",get:function(){return this.na.Wl}},{key:"knt",get:function(){return this.Ent()}},{key:"xnt",get:function(){return this.Int()}},{key:"OC",get:function(){return this.na.OC}},{key:"No",get:function(){return this.na.No}},{key:"ht",get:function(){return this.yI()}},{key:"kI",get:function(){return this.EI()},set:function(t){this.xI(t)}},{key:"bt",get:function(){return this.II()}},{key:"we",get:function(){return this.NI()}},{key:"MI",get:function(){return this.LI()}},{key:"VI",get:function(){return this.WI()}},{key:"UI",get:function(){return this.GI()}},{key:"ER",get:function(){return this.na.ER},set:function(t){this.na.ER=t}},{key:"XI",get:function(){return this.zI()}},{key:"qI",get:function(){return this.YI()},set:function(t){this.KI(t)}},{key:"JI",get:function(){return this.$I()}},{key:"tR",get:function(){return this.eR()},set:function(t){this.iR(t)}},{key:"rR",get:function(){return this.oR()},set:function(t){this.hR(t)}},{key:"aR",get:function(){return this.uR()}},{key:"Ma",get:function(){return this.na.Ma},set:function(t){this.na.Ma=t}},{key:"dR",get:function(){return this.fR()}},{key:"nt",get:function(){return this._R()}},{key:"vR",get:function(){return this.gR()}},{key:"rt",get:function(){return this.mR()}},{key:"pR",get:function(){return this.wR()}},{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}}]),n}(wa),$k=function(t){return t[t.au=0]="au",t[t.Cnt=1]="Cnt",t[t.Pnt=2]="Pnt",t}({}),tA=gr(3,(function(){return[]}));function nA(t,n){tA[n].push(t)}var iA=function(t){return t[t.Cnt=0]="Cnt",t[t.Dnt=1]="Dnt",t[t.Nnt=2]="Nnt",t[t.aP=3]="aP",t}({}),rA=gr(4,(function(){return[]}));function eA(t,n){rA[n].push(t)}var uA=[];!function(t){uA.push(t)}((function(t){new Jk(t.wa,t.pnt)})),F(),Tt(),Rt(),F(),Tt(),Rt();var sA=function(){function t(){}return t.Tk=function(){return t.Vm||(t.Vm=oA.TT()?new oA:new Pd),t.Vm},t.Gb=function(n){t.Tk().Gb(n)},t.Sk=function(){t.Tk().Sk()},t.Vb=function(n){return t.Tk().Vb(n)},t.Wb=function(n,i){t.Tk().Wb(n,i)},t.eJ=function(n){var i=t.Vb(n);if(void 0!==i)return T(i)},t.iJ=function(n){return"true"===t.Vb(n)},t}();sA.Vm=void 0;var oA=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.Gb=function(t){self.localStorage.removeItem(t)},i.Sk=function(){self.localStorage.clear()},i.Vb=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.Wb=function(t,n){self.localStorage.setItem(t,n)},n.TT=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(sA),aA="theoplayer-stored-volume",cA="theoplayer-stored-mutedstate";nA((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=sA.eJ(aA);(void 0===e||S(e))&&(e=1);var u=sA.iJ(cA)||!1;r.yR=e,r.qI=u}return r}It(n,t);var i=n.prototype;return i.KI=function(n){this.kd.persistVolume&&sA.Wb(cA,""+Boolean(n)),t.prototype.KI.call(this,n)},i.AR=function(n){this.kd.persistVolume&&sA.Wb(aA,""+Number(n)),t.prototype.AR.call(this,n)},n}(t)}),$k.au),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var hA=function(t){function n(n){var i;return(i=t.call(this)||this).HR=function(t){i.GR(t)||i._o(t)},i.bI=n,n._y(i.HR),i}It(n,t);var i=n.prototype;return i.yI=function(){return this.bI.ht},i.AI=function(){return this.bI.AI()},i.TI=function(){return this.bI.SI},i.EI=function(){return this.bI.kI},i.xI=function(t){this.bI.kI=t},i.II=function(){return this.bI.bt},i.CI=function(){return this.bI.RI},i.DI=function(t,n){this.bI.DI(t,n)},i.jd=function(){return this.bI.ct},i.NI=function(){return this.bI.we},i.LI=function(){return this.bI.MI},i.BI=function(){return this.bI.lt},i.FI=function(){return this.bI.OI},i.WI=function(){return this.bI.VI},i.GI=function(){return this.bI.UI},i.HI=function(){return this.bI.ZI},i.zI=function(){return this.bI.XI},i.YI=function(){return this.bI.qI},i.KI=function(t){this.bI.qI=t},i.QI=function(){return this.bI.jI},i.$I=function(){return this.bI.JI},i.eR=function(){return this.bI.tR},i.iR=function(t){this.bI.tR=t},i.nR=function(){return this.bI.sR},i.oR=function(){return this.bI.rR},i.hR=function(t){this.bI.rR=t},i.uR=function(){return this.bI.aR},i.lR=function(){return this.bI.cR},i.fR=function(){return this.bI.dR},i.iu=function(){return this.bI.iu()},i.Ca=function(t,n){return this.bI.Ca(t,n)},i._R=function(){return this.bI.nt},i.gR=function(){return this.bI.vR},i.mR=function(){return this.bI.rt},i.wR=function(){return this.bI.pR},i.kR=function(){return this.bI.SR},i.bR=function(){return this.bI.yR},i.AR=function(t){this.bI.yR=t},i.xR=function(){return this.bI.xR()},i.ja=function(){return this.bI.ja()},i.IR=function(){return this.bI.IR()},i.pr=function(t){this.bI.pr(t)},i.dr=function(){this.bI.dr()},i.be=function(){this.bI.be()},i.RR=function(){this.bI.RR()},i.PR=function(){this.bI.PR()},i.DR=function(){this.bI.DR()},i.ge=function(){this.bI.ge()},i.NR=function(){return this.bI.NR()},i.MR=function(){return this.bI.MR()},i.LR=function(){this.bI.LR()},i.OR=function(){this.bI.OR()},i.nr=function(){return this.bI.nr()},i.FR=function(){this.bI.FR()},i.WR=function(){this.bI.WR()},i.UR=function(t){return this.bI.UR(t)},i.GR=function(t){return!1},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.bI.yn()];case 1:return n.sent(),[2]}}))}))()},i.ZR=function(t){return this.bI.ZR(t)},Nt(n,[{key:"ht",get:function(){return this.yI()}},{key:"SI",get:function(){return this.TI()}},{key:"kI",get:function(){return this.EI()},set:function(t){this.xI(t)}},{key:"bt",get:function(){return this.II()}},{key:"RI",get:function(){return this.CI()},set:function(t){this.DI(t)}},{key:"ct",get:function(){return this.jd()}},{key:"we",get:function(){return this.NI()}},{key:"MI",get:function(){return this.LI()}},{key:"lt",get:function(){return this.BI()}},{key:"OI",get:function(){return this.FI()}},{key:"VI",get:function(){return this.WI()}},{key:"UI",get:function(){return this.GI()}},{key:"ZI",get:function(){return this.HI()}},{key:"XI",get:function(){return this.zI()}},{key:"qI",get:function(){return this.YI()},set:function(t){this.KI(t)}},{key:"jI",get:function(){return this.QI()}},{key:"JI",get:function(){return this.$I()}},{key:"tR",get:function(){return this.eR()},set:function(t){this.iR(t)}},{key:"sR",get:function(){return this.nR()}},{key:"rR",get:function(){return this.oR()},set:function(t){this.hR(t)}},{key:"aR",get:function(){return this.uR()}},{key:"cR",get:function(){return this.lR()}},{key:"dR",get:function(){return this.fR()}},{key:"nt",get:function(){return this._R()}},{key:"vR",get:function(){return this.gR()}},{key:"rt",get:function(){return this.mR()}},{key:"pR",get:function(){return this.wR()}},{key:"yR",get:function(){return this.bR()},set:function(t){this.AR(t)}},{key:"SR",get:function(){return this.kR()}},{key:"ER",get:function(){return this.bI.ER},set:function(t){this.bI.ER=t}}]),n}(wa);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var fA=function(t){function n(){var n;return(n=t.call(this)||this).AC=void 0,n.EC=function(t){var i=t.Ht;n.tt(i)},n.xC=function(t){var i=t.Ht;n.it(i)},n}It(n,t);var i=n.prototype;return i.kC=function(t){t.bn(Dg.XR,this.EC),t.bn(Dg.qR,this.xC)},i.SC=function(t){t.vn(Dg.XR,this.EC),t.vn(Dg.qR,this.xC)},i.yn=function(n){!n&&this.AC&&this.AC.yn(),t.prototype.yn.call(this)},Nt(n,[{key:"bC",get:function(){return this.AC},set:function(t){var n=this.AC;if(t!==n){if(n){this.SC(n);for(var i=0,r=n.mC;i<r.length;i++){var e=r[i];t&&t.yC(e)||this.it(e)}}if(this.AC=t,t){for(var u=[],s=0,o=t.mC;s<o.length;s++){var a=o[s];this.tt(a),this.TC(a)&&u.push(a)}this.kC(t);for(var c=0;c<u.length;c++){var h=u[c];h._o(new pw(h))}}}}}]),n}(Bg),vA=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.ka=function(){return sw(this)},i.TC=function(t){return t.Rt},n}(fA);F(),Tt(),Rt();var dA=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.ka=function(){return ip(this)},i.TC=function(t){return t.LE===qy.Qn},n}(fA);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var lA=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.JC=function(){},Nt(n,[{key:"qC",get:function(){}},{key:"YC",get:function(){}},{key:"KC",get:function(){}},{key:"jC",get:function(){return!1}},{key:"QC",get:function(){}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=gA(this)}}]),n}(la);function gA(t){return{goLive:function(){return t.JC()},get isLive(){return t.jC},get latencies(){return t.qC},get videoLatencies(){return t.YC},get audioLatencies(){return t.KC},get manifest(){return t.QC},addEventListener:function(n,i){t.bn(mA(n),i)},removeEventListener:function(n,i){t.vn(mA(n),i)}}}var wA=["golive","latencyrecoveryseek"];function mA(t){var n=Qg(t,qg);return(ti(n)?[n]:n).filter((function(t){return tr(wA,t)}))}var yA=function(t){function n(){var n;return(n=t.call(this)||this).AC=void 0,n.eu=void 0,n.AC=void 0,n}It(n,t);var i=n.prototype;return i.kC=function(t){t.bn(wA,this.Ds)},i.SC=function(t){t.vn(wA,this.Ds)},i.JC=function(){var t;null==(t=this.AC)||t.JC()},i.yn=function(){this.Ro(),this.AC&&this.SC(this.AC),this.AC=void 0},Nt(n,[{key:"bC",get:function(){return this.AC},set:function(t){var n=this.AC;t!==n&&(n&&this.SC(n),t&&this.kC(t),this.AC=t)}},{key:"wa",get:function(){return this.eu||(this.eu=gA(this)),this.eu}},{key:"qC",get:function(){var t;return null==(t=this.AC)?void 0:t.qC}},{key:"YC",get:function(){var t;return null==(t=this.AC)?void 0:t.YC}},{key:"KC",get:function(){var t;return null==(t=this.AC)?void 0:t.KC}},{key:"jC",get:function(){return!!this.AC&&this.AC.jC}},{key:"QC",get:function(){var t;return null==(t=this.AC)?void 0:t.QC}}]),n}(la);F(),Tt(),F(),Tt();var pA="8E80B9CE",_A=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function bA(t){return{appID:t&&t.appID?qg(t.appID):pA}}F(),Tt(),F(),Tt();var kA=function(t){return t.SE="",t.$C="anonymous",t.tP="use-credentials",t}({}),AA=function(t){return t.eP="application/dash+xml",t.iP="application/vnd.apple.mpegurl",t.sP="application/x-mpegurl",t.nP="video/mp4",t.rP="application/vnd.theoplayer.hesp+json",t.oP="application/vnd.theo.hesp+json",t.hP="millicast",t.aP="theolive",t}({});function TA(t){if(null!==t)return t}function SA(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:TA(t.streamActivityMonitorID),adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},authToken:TA(t.authToken),omidAccessModeRules:TA(t.omidAccessModeRules)};if(t.enableNonce&&(n.enableNonce=!0),"vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?ao({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void Kn.aw("A VOD DAI configuration was provided without valid contentSourceID which is required."):void Kn.aw("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?ao({},n,{availabilityType:"live",assetKey:e}):void Kn.aw("A Live DAI configuration was provided without valid assetKey which is required.")}Kn.aw("A DAI configuration was provided without a valid availabilityType which is required.")}function EA(t){return"google-dai"===t.integration?SA(t):ao({},t,{integration:String(t.integration)})}function IA(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=kA.SE;return t.useCredentials?i=kA.tP:t.crossOrigin&&(i=rT(t.crossOrigin)),i===kA.SE&&n&&n.vr&&n.vr[360]&&(i=kA.$C),{useCredentials:i===kA.tP,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Yn(o)||(o=i&&Yn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;Yn(a)||(a=n&&Yn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Yn(c)||(c=i&&Yn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),w=Yn(t.dash)?CA(t.dash):void 0,m=Yn(t.hls)?NA(t.hls):void 0,y=PA(xA(t.abr),null==i?void 0:i.abr),p=Yg(t.lcevc),_=Yn(t.ignoreEmbeddedTextTrackTypes)?bT(t.ignoreEmbeddedTextTrackTypes):[],b=JA(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=jA(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:g,dash:w,hls:m,abr:y,lcevc:p,ignoreEmbeddedTextTrackTypes:_,seamlessSwitchStrategy:b,latencyConfiguration:k}}(t,n,i),e=TA(t.src),u=t.type;u||(u=t.src?iT(t.src):void 0);var s=function(t,n){var i;i=Yn(t.contentProtection)?t.contentProtection:Yn(t.drm)?t.drm:Yn(n)&&Yn(n.contentProtection)?n.contentProtection:Yn(n)&&Yn(n.drm)?n.drm:void 0;return RA(i)}(t,n);return ao({},r,{src:e,type:u,contentProtection:s,ssai:Yn(t.ssai)?EA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function RA(t){return T_(t)&&t.integration&&t.integration===Kp?function(t){var n=D_(Uo.Uw,t),i=D_(Uo.Ww,t),r=t[Uo.Hw]&&D_(Uo.Hw,t);return ao({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function CA(t){return{useSeamlessPeriodSwitch:JA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Yg(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?jg(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Yg(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Yg(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Yg(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:Yg(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:Yg(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function NA(t){return{discontinuityAlignment:DA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:zg(null==t?void 0:t.delaySubtitlePreload)}}function DA(t){if(!t||!ti(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function xA(t){if(Yn(t))return LA(Jg(null==t?void 0:t.preferredAudioCodecs,qg),Jg(null==t?void 0:t.preferredVideoCodecs,qg),Yg(null==t?void 0:t.restrictToPlayerSize))}function PA(t,n){var i;if(Yn(t)||Yn(n))return LA(MA(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),MA(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function LA(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function MA(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function OA(t,n){if(void 0!==n)switch(t){case aw.yE:return n.preferredVideoCodecs;case aw.wE:return n.preferredAudioCodecs;default:return}}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt(),Rt(),qt(),F(),Tt();var BA=!1;function VA(t,n,i){return i?t<=n:t<n}F(),Tt(),Dt();var FA=function(){function t(t,n){this.V=t.length>>1,this.lB=t,this.fB=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Sn=function(t){return this.lB[2*t]},n.Tn=function(t){return this.lB[2*t+1]},n.dB=function(t){return this.fB[2*t]},n._B=function(t){return this.fB[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.vB(i),t.Sn(i)},end:function(n){var i=0|n;return t.vB(i),t.Tn(i)}}},n.gB=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Sn(r),n[2*r+1]=this.Tn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.vB=function(t){if(t<0)throw new p("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new p("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.mB=function(t){if(0===this.V)return 0;if(this.wr(t))return t;if(t<=this.Sn(0))return this.Sn(0);if(t>=this.Tn(this.V-1))return this.Tn(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Sn(r),u=k.abs(e-t);u<i&&(n=e,i=u);var s=this.Tn(r),o=k.abs(s-t);o<i&&(n=s,i=o)}return n},n.jn=function(n){for(var i=0,r=0,e=[],u=[];i<this.V&&r<n.V;){var s=this.Sn(i),o=this.Tn(i),a=this.dB(i),c=this._B(i),h=n.Sn(r),f=n.Tn(r),v=n.dB(r),d=n._B(r),l=k.max(s,h),g=k.min(o,f),w=void 0;w=s===h?a&&v:l===s?a:v;var m=void 0;m=o===f?c&&d:g===o?c:d,(l<g||w&&m&&l===g)&&(e.push(l,g),u.push(w,m)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.pB=function(){var n=this.wB(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Sn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.dB(0)));for(var s=0;s<i-1;s++)r.push(n.Tn(s),n.Sn(s+1)),e.push(!n._B(s),!n.dB(s+1));var o=n.Tn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n._B(i-1),!1)),new t(r,e)},n.yB=function(n){for(var i=0,r=0,e=this.V,u=n.V,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Sn(i),h=this.Tn(i),f=n.Sn(r),v=n.Tn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.dB(i),o[a+1]=this._B(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.dB(r),o[a+1]=n._B(r),r++),a+=2}for(;i<e;)s[a]=this.Sn(i),s[a+1]=this.Tn(i),o[a]=this.dB(i),o[a+1]=this._B(i),i++,a+=2;for(;r<u;)s[a]=n.Sn(r),s[a+1]=n.Tn(r),o[a]=n.dB(r),o[a+1]=n._B(r),r++,a+=2;return new t(s,o)},n.bB=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],u=this.Sn(0),s=this.Tn(0),o=this.dB(0),a=this._B(0),c=1;c<i;c++){var h=this.Sn(c),f=this.Tn(c),v=this.dB(c),d=this._B(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=d=a||d),VA(h,s+n,a||v)?(s=f,a=d):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=d))}return r.push(u,s),e.push(o,a),new t(r,e).wB()},n.wB=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Sn(r),u=this.Tn(r),s=this.dB(r),o=this._B(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.AB=function(t){return 0===this.V?t:0===t.V?this:this.yB(t).bB()},n.SB=function(t){var n=this.wB(),i=t.wB(),r=n.pB(),e=i.pB(),u=r.jn(i),s=e.jn(n);return u.AB(s)},n.Pb=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Sn(e)+n,s=this.Tn(e)+n;i.push(u,s),r.push(this.dB(e),this._B(e))}return new t(i,r)},n.TB=function(t){return 0===this.V||0===t.V?this:this.wB().jn(t.wB().pB())},n.wr=function(t,n){return this.kB(t,n)>=0},n.EB=function(t,n,i,r,e){return this.xB(t,n,i,r,e)>=0},n.IB=function(t,n,i,r,e){return this.RB(t,n,i,r,e)>=0},n.CB=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Sn(n)!==t.Sn(n)||this.Tn(n)!==t.Tn(n)||this.dB(n)!==t.dB(n)||this._B(n)!==t._B(n))return!1;return!0},n.PB=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Sn(e),s=this.Tn(e),o=this.dB(e),a=this._B(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.RB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.V;o+=1)if(VA(this.Sn(o),s,!r||this.dB(o))&&VA(u,this.Tn(o),!i||this._B(o)))return o;return-1},n.xB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.V;o+=1)if(VA(this.Sn(o),u,!i||this.dB(o))&&VA(s,this.Tn(o),!r||this._B(o)))return o;return-1},n.kB=function(t,n){return this.xB(t,t,!0,!0,n)},n.DB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(VA(this.Sn(r),i,this.dB(r)))return r;return-1},n.NB=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(VA(i,this.Tn(r),this._B(r)))return r;return-1},n.MB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Sn(r)>i)return r;return-1},n.LB=function(n){return this.vB(n),new t([this.Sn(n),this.Tn(n)],[this.dB(n),this._B(n)])},n.BB=function(t,n){var i=this.kB(t,n);return i<0?void 0:this.LB(i)},t.Cn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.FB=function(n){return new t([n,n],[!0,!0])},t.VB=function(n,i){return n<=i?new t([n,i]):t.WB()},t.WB=function(){return UA},Nt(t,[{key:"cB",get:function(){return this.lB.slice()}},{key:"OB",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.Tn(n)-this.Sn(n)}return t}}]),t}(),UA=new FA([]),WA=.92,ZA=1.08,XA=.25,GA=function(t){function n(n,i,r){var e,u;return(e=t.call(this)||this).eo=!1,e.qe=!1,e.XB=[],e.hO=!1,e.jB=0,e.sx=void 0,e.eO=0,e.tO=1/0,e.dO=function(){var t=e.aO.SI,n=e.aO.RI,i=t.BB(n);i&&(e.jB=Di(i.Tn(0)-n,e.jB,.5),e.zB())},e.fO=function(){e.hO=!0,e.na.vn(Np.uB,e.fO),e.qe&&e.Sn()},e.KB=function(){e.oO(),e.rO();var t=e.gO;if(t){var n=e.pO();if(t>e.ZB.forceSeekOffset)return e._o(new ma("latencyrecoveryseek")),void e.JC();var i=e.ZB,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.aO.tR;if(!e.wO(n,r,s))if(n>s&&e.yO()){var a=e.ZB.maximumPlaybackRate;BA,e.lO(a)}else if(n<r&&!Kn.Ys.Ap){var c=e.ZB.minimumPlaybackRate;BA,e.lO(c)}else if(o>1&&n<u){BA,e.lO(1)}else if(o<1&&n>u){BA,e.lO(1)}}},e.na=n,e.aO=i,e.QB=r,e.sO=r.targetOffset,e.nO=r.targetOffset+(null!=(u=r.leniency)?u:0),e.JB=r.targetOffset,e.ZB=e.YB(),e.na.bn(Np.aB,e.dO),e.na.bn(Np.uB,e.fO),e}It(n,t);var i=n.prototype;return i.HB=function(t){this.XB.push(t),this.zB()},i.qB=function(t){Ji(this.XB,t),this.zB()},i.zB=function(){this.ZB=this.YB(),this.eo&&this.KB()},i.YB=function(){var t=this.jB,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.QB,this.JB),i=[n].concat(Kt(this.XB)),r=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),t),e=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+XA),u=i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+XA);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return k.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+XA),minimumPlaybackRate:i.reduce((function(t,n){var i;return k.min(t,null!=(i=n.minimumPlaybackRate)?i:WA)}),WA),maximumPlaybackRate:i.reduce((function(t,n){var i;return k.max(t,null!=(i=n.maximumPlaybackRate)?i:ZA)}),ZA)}},i.$B=function(){var t,n=null==(t=FA.Cn(this.na.SI).BB(this.na.RI))?void 0:t.Tn(0),i=void 0!==n?n-this.na.RI:0;this.tO=k.min(this.tO,i),this.eO+=1},i.iO=function(){if(!(this.eO<10)){var t=.25-this.tO,n=Di(this.JB+t,this.JB-.1,this.JB+.1);this.JB=Di(n,this.sO,this.nO),this.tO=1/0,this.eO=0}},i.rO=function(){var t=this;this.oO(),this.sx=Kn.Gm((function(){return t.KB()}),500)},i.oO=function(){void 0!==this.sx&&(Kn.Um(this.sx),this.sx=void 0)},i.Sn=function(){var t=this;this.qe&&this.hO&&(this.eo||this.aO.bn(ya._b,this.KB),this.uO=Kn.lw((function(){return t.$B()}),1e3),this.cO=Kn.lw((function(){return t.iO()}),6e4),this.rO(),this.eo=!0)},i.NR=function(){this.eo&&(this.oO(),this.uO&&Kn.dw(this.uO),this.cO&&Kn.dw(this.cO),this.aO.vn(ya._b,this.KB),this.lO(1),this.eo=!1)},i.Km=function(){this.NR(),this.na.vn(Np.aB,this.dO),this.na.vn(Np.uB,this.fO),this.Ro()},i.lO=function(t){this.aO.vO._O||this.na.tR!==t&&(this.na.tR=t)},Nt(n,[{key:"UB",get:function(){return this.qe&&this.eo}},{key:"GB",get:function(){return this.ZB}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe=t,t?this.Sn():this.NR()}},{key:"gO",get:function(){return this.na.mO}}]),n}(la),HA=.66,zA=1.5,YA=3;function jA(t){if(Yn(t)){var n,i,r,e,u,s,o=Kn.Ys.Sp?10:0,a=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:a*HA,targetOffset:a,maximumOffset:null!=(i=t.maximumOffset)?i:a*zA,forceSeekOffset:k.max(null!=(r=t.forceSeekOffset)?r:a*YA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:WA,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:ZA,leniency:null!=(s=t.leniency)?s:void 0}}}var KA=function(t){return t.bO="auto",t.AO="always",t.SO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),qA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function JA(t){if(!t||!ti(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}F(),Tt(),F(),Tt();var QA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});F(),Tt();var $A=!1;F(),Tt();var tT=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function nT(t){return!!t&&Jo(t,"mpd")}function iT(t){var n=AA.nP;return nT(t)&&(n=AA.eP),function(t){return!!t&&Jo(t,"m3u8")}(t)&&(n=AA.iP),n}function rT(t){switch(t){case kA.$C:case kA.tP:return t;default:return kA.SE}}function eT(t){if(!t)return!1;var n=t.toLowerCase();return Qo(n,AA.eP)}function uT(t){if(!t)return!1;var n=t.toLowerCase();return Qo(n,AA.iP)||Qo(n,AA.sP)}function sT(t){return Qn(t)&&Qn(t.ssai)&&"google-dai"===t.ssai.integration}function oT(t){return Qn(t)&&("verizon-media"===t.integration||"uplynk"===t.integration)}function aT(t){return Qn(t)&&("theolive"===t.type||"theolive"===t.integration)}function cT(t){return Qn(t)&&"mediatailor"===t.integration}function hT(t){return Qn(t)&&"millicast"===t.type}function fT(t){if(ti(t))return!t;if(oT(t))return!t.id;if(sT(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return hT(t)?!t.src||!t.streamAccountId:!t.src}function vT(t){return Boolean(Qn(t)&&ti(t.src))}function dT(t){return t.type===AA.rP||t.type===AA.oP}function lT(t){return ti(t)||vT(t)||sT(t)||oT(t)||hT(t)}function gT(t){if(t){if(lT(t))return fT(t);for(var n=0;n<t.length;n++){if(!fT(t[n]))return!1}return!0}return!0}function wT(){return{crossOrigin:kA.SE,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:KA.bO,latencyConfiguration:void 0}}function mT(){return ao({},wT(),{src:void 0,type:AA.nP,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function yT(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:QA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1},theoads:$A,allowSkipAdBreak:!1};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?tT.NONE:tT.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=zg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return QA.INSECURE;case"disabled":return QA.DISABLED;default:return QA.ENABLED}}(t.vpaidMode)),qn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ti)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1}:{useNativeIma:zg(t.useNativeIma),useAdUiElementForSsai:zg(t.useAdUiElementForSsai),bitrate:null!=(n=t.bitrate)?n:-1,language:Yn(t.language)?qg(t.language):void 0,uiElements:t.uiElements,allowSeekingForGoogleDai:zg(t.allowSeekingForGoogleDai)};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=zg(t.theoads):n.theoads=$A,n.allowSkipAdBreak=zg(t.allowSkipAdBreak)),n}function pT(t){if(!Jn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];Qn(r)&&n.push(r)}return n}function _T(t){return ti(t.src)||hT(t)}function bT(t){return qn(t)?t.filter(Bw):[]}F(),Tt(),Rt();var kT=function(t){function n(n,i){var r;return void 0===i&&(i=Pp.TO),(r=t.call(this,ya.Ny)||this).currentTime=n,r.readyState=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var AT=function(t){function n(n){var i;return(i=t.call(this,ya.Ky)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var TT=function(t){function n(n){var i;return(i=t.call(this,ya.ho)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var ST=function(t){function n(n){var i;return(i=t.call(this,ya.Dy)||this).duration=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var ET=function(t){function n(n,i){var r;return(r=t.call(this,ya.Qy)||this).currentTime=n,r.playbackRate=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var IT=function(t){function n(n){var i;return(i=t.call(this,ya.Ly)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var RT=function(t){function n(n){var i;return(i=t.call(this,ya.ib)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var CT=function(t){function n(n){var i;return(i=t.call(this,ya.eb)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var NT=function(t){function n(n,i){var r;return(r=t.call(this,ya.vb)||this).currentTime=n,r.volume=i,r}return It(n,t),n}(ma);function DT(t,n){return xT.apply(this,arguments)}function xT(){return xT=Pt((function(t,n,i,r,e){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Ar(s=a.sent()),u<i?(o=k.min(r*k.pow(2,u),e),u++,[4,Mr(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),xT.apply(this,arguments)}F(),Tt(),Mt(),Wt();var PT={maxRetries:void 0,minimumBackoff:200,maximumBackoff:3e4},LT=ao({},PT,{maxRetries:1/0});F(),Tt();var MT=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),OT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function BT(t){switch(t){case"all":case"content":return t;default:return"none"}}function VT(t){var n,i=Wg(t||{});return i.libraryLocation&&(i.libraryLocation=Cl(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){var n=bA(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(i.cast),i.ads=yT(i.ads),i.analytics=pT(i.analytics),i.mutedAutoplay=BT(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ti(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return Cl(t)}catch(t){return void Kn.aw("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.abr=xA(i.abr),i.retryConfiguration=function(t){var n=ao({},PT);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return ao({},t,{externalSessionId:t.externalSessionId?qg(t.externalSessionId):void 0,fallbackEnabled:Yg(t.fallbackEnabled)})}(i.theoLive),null!=(n=i).uplynk||(n.uplynk=i.verizonMedia),i}function FT(t){return{bt:t.bt,RI:t.RI,ct:t.ct,MI:t.MI,lt:t.lt,OI:t.OI,qI:t.qI,JI:t.JI,tR:t.tR,aR:t.aR,dR:t.dR,vR:t.vR,pR:t.pR,yR:t.yR}}function UT(t,n){var i=n.yR,r=n.qI;t.yR=i,t.qI=r}function WT(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.RI,u=n.ct,s=n.qI,o=n.JI,a=n.tR,c=n.aR,h=n.dR,f=(n.pR,n.vR,n.yR),v=i.RI,d=i.ct,l=i.MI,g=i.OI,w=i.qI,m=i.JI,y=i.tR,p=i.aR,_=i.dR,b=(i.pR,i.vR,i.yR);(r||c>Pp.TO&&p===Pp.TO)&&t._o(new kT(v,p)),m&&!o?t._o(new AT(v)):!m&&o&&t._o(new TT(v)),p>=Pp.Xn&&(r||c<Pp.Xn)&&t._o(new Lp(v,p)),d===u||S(d)&&S(u)||t._o(new ST(d)),y!==a&&t._o(new ET(v,y)),v!==e&&t._o(new Eg(v,void 0)),l&&t._o(new IT(v)),p>=Pp.kO&&(r||c<Pp.kO)&&t._o(new Mp(v,p)),_&&!h?t._o(new RT(v)):!_&&h&&t._o(new CT(v)),b===f&&w===s||t._o(new NT(v,b)),p>=Pp.EO&&(r||c<Pp.EO)&&t._o(new Bp(v,p)),p>=Pp.xO&&(r||c<Pp.xO)&&t._o(new Vp(v,p)),p!==c&&t._o(new xp(v,p)),g&&t._o(new xk(g))}}function ZT(t){switch(t){case MT.INLINE:case MT.FULLSCREEN:case MT.PICTURE_IN_PICTURE:case MT.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}F(),Tt(),Rt();var XT=function(t){function n(n){var i;return(i=t.call(this,ya.Cy)||this).currentSource=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var GT=function(t){function n(){return t.call(this,ya.By)||this}return It(n,t),n}(ma);F(),Tt(),Rt();var HT=function(t){function n(){return t.call(this,ya.Fy)||this}return It(n,t),n}(ma);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var zT=function(t){return t.IO="enterpictureinpicture",t.RO="exitpictureinpicture",t.fa="pictureinpictureerror",t}({}),YT=function(t){function n(){return t.call(this,zT.IO)||this}return It(n,t),n}(ma);F(),Tt(),Rt();var jT=function(t){function n(){return t.call(this,zT.RO)||this}return It(n,t),n}(ma),KT=function(t){function n(n){var i;return(i=t.call(this)||this).AC=n,i.kC(i.AC),i}It(n,t);var i=n.prototype;return i.kC=function(t){t.bn(zT.IO,this.Ds),t.bn(zT.RO,this.Ds),t.bn(zT.fa,this.Ds)},i.SC=function(t){t.vn(zT.IO,this.Ds),t.vn(zT.RO,this.Ds),t.vn(zT.fa,this.Ds)},i.vo=function(){return this.AC.vo()},i.xo=function(){return this.AC.xo()},i.yn=function(t){this.Ro(),this.SC(this.AC),t||this.AC.yn()},Nt(n,[{key:"bC",get:function(){return this.AC},set:function(t){if(t!==this.AC){this.SC(this.AC);var n=this.AC.CO;this.AC=t,this.kC(t),!n&&this.AC.CO?this._o(new YT):n&&!this.AC.CO&&this._o(new jT)}}},{key:"PO",get:function(){return this.AC.PO}},{key:"CO",get:function(){return this.AC.CO}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var qT=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.DO=function(t){return{}},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=JT(this)}}]),n}(la);function JT(t){return{diagnose:function(n){return t.DO(n)},addEventListener:function(n,i){t.bn($T(n),i)},removeEventListener:function(n,i){t.vn($T(n),i)}}}var QT=["stats"];function $T(t){var n=Qg(t,qg);return(ti(n)?[n]:n).filter((function(t){return tr(QT,t)}))}var tS=function(t){function n(){var n;return(n=t.call(this)||this).AC=void 0,n.eu=void 0,n.AC=void 0,n}It(n,t);var i=n.prototype;return i.kC=function(t){t.bn(QT,this.Ds)},i.SC=function(t){t.vn(QT,this.Ds)},i.DO=function(t){var n,i;return null!=(i=null==(n=this.AC)?void 0:n.DO(t))?i:{}},i.yn=function(){this.Ro(),this.AC&&this.SC(this.AC),this.AC=void 0},Nt(n,[{key:"bC",get:function(){return this.AC},set:function(t){var n=this.AC;t!==n&&(n&&this.SC(n),t&&this.kC(t),this.AC=t)}},{key:"wa",get:function(){return this.eu||(this.eu=JT(this)),this.eu}}]),n}(la),nS=function(t){function n(n){var i;return(i=t.call(this,n)||this).LO=new vA,i.FO=new vA,i.Hl=new dA,i.OO=new yA,i.BO=new tS,i.MO=new KT(n.ja()),i.LO.bC=n.ht,i.FO.bC=n.rt,i.Hl.bC=n.nt,i.OO.bC=n.VI,i.BO.bC=n.UI,i}It(n,t);var i=n.prototype;return i.ja=function(){return this.MO},i.yI=function(){return this.LO},i.WI=function(){return this.OO},i.GI=function(){return this.BO},i._R=function(){return this.Hl},i.mR=function(){return this.FO},i.VO=function(t){var n=this.bI;if(n!==t){n.yy(this.HR);var i=FT(this),r=this.II(),e=this.xR(),u=this.IR();this.bI=t,this.LO.bC=t.ht,this.FO.bC=t.rt,this.Hl.bC=t.nt,this.MO.bC=t.ja(),this.OO.bC=t.VI,this.BO.bC=t.UI,void 0!==i&&WT(this,i,this);var s=this.II();s!==r&&this._o(new XT(s)),this.xR()!==e&&this._o(new GT),this.IR()!==u&&this._o(new HT),t._y(this.HR)}},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.MO.yn(),n.LO.yn(),n.FO.yn(),n.Hl.yn(),n.OO.yn(),n.BO.yn(),[2]}}))}))()},Nt(n,[{key:"VI",get:function(){return this.WI()}},{key:"UI",get:function(){var t;return null!=(t=this.GI())?t:this.BO}}]),n}(hA);F(),Tt();var iS=function(t){function n(n){var i;return(i=t.call(this,n)||this).zO=[],i.mo=!1,i.KO=!1,i.qO(n),i}It(n,t);var i=n.prototype;return i.zI=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c.WO,i+=c.UO,r+=c.GO,e+=c.ZO,u+=c.HO,s+=c.XO.amountOfBufferedAudioSegments,o+=c.XO.amountOfBufferedVideoSegments}return{WO:n,UO:i,GO:r,ZO:e,HO:u,XO:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.zO.map((function(t){return t.XI})))},i.NR=function(){return Pr(this.zO.map((function(t){return t.NR()}))).then(_i)},i.nr=function(){return Pr(this.zO.map((function(t){return t.nr()}))).then(_i)},i.RR=function(){if(!this.mo){for(var t=0,n=this.zO;t<n.length;t++){n[t].RR()}this.mo=!0}},i.AI=function(){for(var t=[],n=0,i=this.zO;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Kt(e.AI()))}return t},i.UR=function(t){for(var n=!1,i=0,r=this.zO;i<r.length;i++){n=r[i].UR(t)||n}return n},i._o=function(n){this.UR(n)||t.prototype._o.call(this,n)},i.qO=function(t){this.zO.push(t)},i.YO=function(t){Ji(this.zO,t)},i.VO=function(n){if(n!==this.bI){var i=this.bI;i.dr(),t.prototype.VO.call(this,n),n.pr(i)}},i.FR=function(){for(var t=0,n=this.zO;t<n.length;t++){n[t].FR()}},i.yn=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:n.Ro(),n.bI.dr(),i=0,r=n.zO,u.label=1;case 1:return i<r.length?(e=r[i],n.bI===e?[3,3]:[4,e.yn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.yn.call(n)];case 5:return u.sent(),[2]}}))}))()},Nt(n,[{key:"bC",get:function(){return this.bI},set:function(t){this.VO(t)}}]),n}(nS);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt();var rS=function(){function t(){this.wH=new jk,this.pH=[]}var n=t.prototype;return n.mH=function(t){this.pH.push(t)},n.mP=function(t,n,i,r,e,u,s){for(var o=this.wH.mP(t,n,i,r,e,u,s),a=0,c=this.pH;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.dH=function(t,n){return this.wH.dH(t,n)},n.fH=function(t){return this.wH.fH(t)},n._H=function(){return!1},t.gH=function(){return this.Vm},Nt(t,[{key:"vH",get:function(){return this.wH.vH}}]),t}();function eS(t,n){return Ui(t.vH,n.vH)}rS.Vm=new rS,F(),Tt(),Mt(),Wt(),F(),Tt();var uS=function(){function t(){this.bH=[]}var n=t.prototype;return n.yH=function(t){this.bH.push(t),this.bH.sort(eS)},n.AH=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:r=0,e=i.bH,a.label=1;case 1:return r<e.length?(u=e[r],ii(s=u.dH(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function sS(t){oS.Vm.yH(t)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var oS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).TH=rS.gH(),n}It(n,t);var i=n.prototype;return i.SH=function(t){this.TH=t},i.kH=function(){return this.TH},i.EH=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:r=i.TH,e=!1,u=0,v.label=1;case 1:return u<t.length?(s=t[u],[4,i.AH(s,n)]):[3,12];case 2:return(o=v.sent())?(a=b_(s.contentProtection))?[3,4]:[4,o.fH(s.contentProtection)]:[3,5];case 3:a=v.sent(),v.label=4;case 4:if(a)return[2,{Cc:s,t:o}];s.contentProtection&&(e=!0),v.label=5;case 5:return ii(c=r.dH(s,n))?[4,c]:[3,7];case 6:return h=v.sent(),[3,8];case 7:h=Boolean(c),v.label=8;case 8:return h?(f=b_(s.contentProtection))?[3,10]:[4,r.fH(s.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{Cc:s,t:r}];s.contentProtection&&(e=!0),v.label=11;case 11:return u++,[3,1];case 12:return e?[4,Kn.fw()]:[3,14];case 13:throw v.sent()?new ld(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new ld(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{Cc:t[0],t:r}]}}))}))()},n}(uS);oS.Vm=new oS,F(),Tt();var aS=function(){function t(t){this.Vs=f&&f.document&&f.document.createElement("div"),wi(this.Vs),t.appendChild(this.Vs)}return t.prototype.yn=function(){oi(this.Vs)},t}();F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var cS=function(t){return t.KG="",t.xH="none",t.xW="metadata",t.bO="auto",t}({});var hS=[Qy.fa,ya.Ny,ya.My,ya.bb,ya.Sy,ya.By,ya.Fy,ya.qy,ya.Yy,ya.ob,ya.ub,Np.nB,Np.rB,Np.oB,Np.hB,Np.aC,Np.aB,Np.uB,ya.Iy,ya.Ry,ya.Dy,ya.Ly,ya.Hy,ya.Xy,ya.ho,ya.jy,ya.Ky,ya.Qy,ya.$y,ya.ib,ya.eb,ya._b,ya.vb,ya.Jy,ya.zy,ya.sb],fS=function(t){function n(n,i){var r;return(r=t.call(this)||this).NH=void 0,r.IH=void 0,r.TZ=cS.xH,r.PH=void 0,r.LH=!0,r.LO=new vA,r.FO=new vA,r.Hl=new dA,r.OO=new yA,r.BO=new tS,r.DH=n,r.na=i,r.na.rR=r.rR,r.MO=new KT(i.ja()),r.RH(),r}It(n,t);var i=n.prototype;return i.PR=function(){this.na.PR()},i.DR=function(){var t=this.na.DR();ii(t)&&xr(t)},i.NR=function(){return this.Ca(void 0)},i.RR=function(){},i.RH=function(){this.MO.bC=this.na.ja(),this.LO.bC=this.na.ht,this.FO.bC=this.na.rt,this.Hl.bC=this.na.nt,this.OO.bC=this.na.VI,this.BO.bC=this.na.UI,this.na.bn(hS,this.Ds)},i.CH=function(){this.na.vn(hS,this.Ds),this.LO.bC=void 0,this.FO.bC=void 0,this.Hl.bC=void 0,this.OO.bC=void 0,this.BO.bC=void 0},i.iu=function(){return this.PH},i.Ca=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return kr(n),i.PH=t,t?gT(r=t.sources.filter(_T))?[2]:[4,i.DH.EH(r,t)]:[2];case 1:return e=c.sent(),kr(n),u=e.Cc,s=e.t,o=i.xR(),a=FT(i),i.NH!==s||i.lt?(i.CH(),[4,i.na.yn()]):[3,3];case 2:c.sent(),kr(n),i.NH=s,i.na=i.MH(s,u),function(t,n){t.qI!==n.qI&&(t.qI=n.qI);t.yR!==n.yR&&(t.yR=n.yR);t.tR!==n.tR&&(t.tR=n.tR)}(i.na,a),WT(i,a,i),i.RH(),c.label=3;case 3:return i.na.rR=i.rR,i.LH?i.na.ge():i.na.be(),[4,i.na.Ca(u,t,n)];case 4:return c.sent(),kr(n),i.BH(u),i.xR()!==o&&i._o(new GT),[2]}}))}))()},i.BH=function(t){this.IH!==t&&(this.IH=t,this._o(new XT(t)))},i.MR=function(){return this.na.MR()},i.LR=function(){this.na.LR()},i.OR=function(){this.na.OR()},i.xR=function(){return this.na.xR()},i.ja=function(){return this.MO},i.FR=function(){this.na.FR()},i.WR=function(){this.na.WR()},i.ZR=function(t){return this.na.ZR(t)},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.PH=void 0,t.BH(void 0),[4,t.na.nr()];case 1:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),[4,t.na.yn()];case 2:return n.sent(),t.LO.yn(),t.FO.yn(),t.Hl.yn(),t.MO.yn(),t.OO.yn(),t.BO.yn(),[2]}}))}))()},i.ge=function(){this.LH=!0,this.na.ge()},i.be=function(){this.LH=!1,this.na.be()},Nt(n,[{key:"ht",get:function(){return this.LO}},{key:"SI",get:function(){return this.na.SI}},{key:"lt",get:function(){return this.na.lt}},{key:"OI",get:function(){return this.na.OI}},{key:"kI",get:function(){return this.na.kI},set:function(t){this.na.kI=t}},{key:"bt",get:function(){return this.IH}},{key:"RI",get:function(){return this.na.RI},set:function(t){this.na.RI=t}},{key:"ct",get:function(){return this.na.ct}},{key:"MI",get:function(){return this.na.MI}},{key:"VI",get:function(){return this.OO}},{key:"UI",get:function(){return this.BO}},{key:"ZI",get:function(){return this.na.ZI}},{key:"XI",get:function(){return this.na.XI}},{key:"qI",get:function(){return this.na.qI},set:function(t){this.na.qI=t}},{key:"jI",get:function(){return this.na.jI}},{key:"JI",get:function(){return this.na.JI}},{key:"tR",get:function(){return this.na.tR},set:function(t){this.na.tR=t}},{key:"sR",get:function(){return this.na.sR}},{key:"rR",get:function(){return this.TZ},set:function(t){this.TZ=t,this.na&&(this.na.rR=this.TZ)}},{key:"aR",get:function(){return this.na.aR}},{key:"cR",get:function(){return this.na.cR}},{key:"dR",get:function(){return this.na.dR}},{key:"nt",get:function(){return this.Hl}},{key:"vR",get:function(){return this.na.vR}},{key:"rt",get:function(){return this.FO}},{key:"pR",get:function(){return this.na.pR}},{key:"yR",get:function(){return this.na.yR},set:function(t){this.na.yR=t}},{key:"SR",get:function(){return this.na.SR}},{key:"IZ",get:function(){return this.na.IZ}}]),n}(wa);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt();var vS=function(t){return t.da="fullscreenchange",t.ga="fullscreensupportchange",t.fa="fullscreenerror",t}({});F(),Tt(),Rt();var dS=function(t){function n(){return t.call(this,vS.fa)||this}return It(n,t),n}(ma),lS=(vS.da,vS.ga,vS.fa,function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.vo=function(){this._o(new dS)},i.xo=function(){},i.yn=function(){this.Ro()},Nt(n,[{key:"cs",get:function(){return!1}},{key:"oa",get:function(){return!1}}]),n}(la));F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var gS=function(t){function n(){return t.call(this,zT.fa)||this}return It(n,t),n}(ma),wS=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.vo=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t._o(new gS),[2]}))}))()},i.xo=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t._o(new gS),[2]}))}))()},i.yn=function(){this.Ro()},Nt(n,[{key:"PO",get:function(){return!1}},{key:"CO",get:function(){return!1}}]),n}(la),mS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).OH=0,n.VH=!1,n.WH=!0,n.UH=1,n.FH=!1,n.jA=1,n.ht=new ow,n.SI=FA.WB().ks(),n.ct=NaN,n.MI=!1,n.lt=void 0,n.OI=void 0,n.VI=void 0,n.UI=void 0,n.ZI=!1,n.jI=!0,n.sR=FA.WB().ks(),n.rR=cS.xH,n.aR=Pp.TO,n.cR=FA.WB().ks(),n.EZ=void 0,n.nt=new rp,n.vR=0,n.rt=new ow,n.pR=0,n.SR=new Gk,n.RZ=new Bk,n.ea=new lS,n.ta=new wS,n}It(n,t);var i=n.prototype;return i.DI=function(t,n){this.OH!==t&&(this.OH=t,this.FH=!0,this._o(new RT(this.RI)))},i.ge=function(){},i.be=function(){},i.DR=function(){this.WH&&(this.WH=!1,this._o(new TT(this.RI)),this._o(new Op(this.RI)))},i.PR=function(){this.WH||(this.WH=!0,this._o(new Eg(this.RI,this.kI)),this._o(new AT(this.RI)))},i.Ca=function(t,n){return et.resolve()},i.MR=function(){return!1},i.LR=function(){},i.OR=function(){},i.xR=function(){return this.ea},i.ja=function(){return this.ta},i.ZR=function(t){throw new p("Adding a CustomTextTrack is not supported without setting a source.")},i.FR=function(){},i.WR=function(){},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.OH=0,t.FH=!1,t.PR(),t._o(new kT(t.OH)),[2]}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.Ro(),t.ht.yn(),t.nt.yn(),t.rt.yn(),[2]}))}))()},Nt(n,[{key:"kI",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"RI",get:function(){return this.OH},set:function(t){this.DI(t)}},{key:"XI",get:function(){return{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"qI",get:function(){return this.VH},set:function(t){this.VH!==t&&(this.VH=t,this._o(new NT(this.RI,this.yR)))}},{key:"JI",get:function(){return this.WH}},{key:"tR",get:function(){return this.UH},set:function(t){this.UH!==t&&(this.UH=t,this._o(new ET(this.RI,this.tR)))}},{key:"dR",get:function(){return this.FH}},{key:"yR",get:function(){return this.jA},set:function(t){this.jA!==t&&(this.jA=t,this._o(new NT(this.RI,this.yR)))}},{key:"ER",get:function(){return!1},set:function(t){}},{key:"IZ",get:function(){return this.RZ}},{key:"mO",get:function(){}}]),n}(la),yS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).YZ=void 0,n.aO=void 0,n}It(n,t);var i=n.prototype;return i.IR=function(){var t;return null==(t=this.aO)?void 0:t.SZ},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.aO?[4,n.YZ.qZ(n.aO)]:[3,3];case 2:i.sent(),n.aO=void 0,i.label=3;case 3:return[2]}}))}))()},Nt(n,[{key:"GH",set:function(t){this.YZ=t,this.aO=t.lH(aw.yE)}}]),n}(mS),pS=function(t){function n(n,i,r,e,u,s,o){var a,c=new yS;return(a=t.call(this,oS.Vm,c)||this).Cu=n,a.FT=i,a.WW=r,a.XH=e,a.zH=u,a.qH=o,a.HH=s,c.GH=s,a.KH=new aS(a.Cu),a}It(n,t);var i=n.prototype;return i.RR=function(){t.prototype.RR.call(this),this.HH.ZH()},i.pr=function(t){UT(this,t)},i.dr=function(){},i.UR=function(t){return!1},i.Ca=function(n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return e=r.xR(),u=r.IR(),[4,t.prototype.Ca.call(r,n,i)];case 1:return s.sent(),r.xR()!==e&&r._o(new GT),r.IR()!==u&&r._o(new HT),[2]}}))}))()},i.DI=function(t,n){this.na.DI(t,n)},i.MH=function(t,n){return t.mP(this.Cu,this.HH,this.WW,this.FT,this.XH,this.zH,this.qH,n)},i.IR=function(){return this.na.IR()},i.AI=function(){return this.HH.YH.map((function(t){return t.SZ}))},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.HH.yn(),n.KH.yn(),[2]}}))}))()},Nt(n,[{key:"we",get:function(){return this.Cu}},{key:"ER",get:function(){return this.na.ER},set:function(t){this.na.ER=t}}]),n}(fS);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var _S=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ea=new lS,e.ta=new wS,e.xZ=new Gk,e.Cu=n,e.QH=i,e.jH=new ow,e.$H=new rp,e.JH=r,e}It(n,t);var i=n.prototype;return i.DI=function(t,n){},i.UR=function(t){return!0},i.be=function(){},i.DR=function(){throw this._o(new xk(this.JH)),this.QH},i.PR=function(){},i.iu=function(){},i.Ca=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(t){throw kr(n),i._o(new xk(i.JH)),i.QH}))}))()},i.ge=function(){},i.NR=function(){return et.resolve()},i.IR=function(){},i.xR=function(){return this.ea},i.ja=function(){return this.ta},i.AI=function(){return[]},i.RR=function(){},i.pr=function(t){},i.dr=function(){},i.MR=function(){return!1},i.LR=function(){},i.OR=function(){},i.FR=function(){},i.WR=function(){},i.ZR=function(t){},i.nr=function(){return et.resolve()},i.yn=function(){return this.Ro(),this.jH.yn(),this.$H.yn(),et.resolve()},Nt(n,[{key:"ht",get:function(){return this.jH}},{key:"SI",get:function(){return FA.WB().ks()}},{key:"kI",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"RI",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.Cu}},{key:"MI",get:function(){return!0}},{key:"lt",get:function(){return this.QH}},{key:"OI",get:function(){return this.JH}},{key:"VI",get:function(){}},{key:"UI",get:function(){}},{key:"XI",get:function(){return{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"qI",get:function(){return!1},set:function(t){}},{key:"jI",get:function(){return!0}},{key:"JI",get:function(){return!0}},{key:"tR",get:function(){return 0},set:function(t){}},{key:"sR",get:function(){return FA.WB().ks()}},{key:"rR",get:function(){return cS.xH},set:function(t){}},{key:"aR",get:function(){return Pp.TO}},{key:"cR",get:function(){return FA.WB().ks()}},{key:"dR",get:function(){return!1}},{key:"nt",get:function(){return this.$H}},{key:"vR",get:function(){return 0}},{key:"rt",get:function(){return this.jH}},{key:"pR",get:function(){return 0}},{key:"yR",get:function(){return 1},set:function(t){}},{key:"SR",get:function(){return this.xZ}},{key:"ER",get:function(){return!1},set:function(t){}},{key:"ZI",get:function(){return!1}}]),n}(wa);function bS(t){if(t&&Qn(t))return ao({},t,{integration:kS(t.integration),fairplay:RS(t.fairplay),widevine:AS(t.widevine),playready:TS(t.playready),clearkey:CS(t.clearkey),aes128:NS(t.aes128),integrationParameters:DS(t.integrationParameters),preferredKeySystems:xS(t.preferredKeySystems),useOipfDrmAgent:zg(t.useOipfDrmAgent)})}function kS(t){if(ti(t))return t}function AS(t){if(t&&Qn(t))return{persistentState:SS(t.persistentState),distinctiveIdentifier:SS(t.distinctiveIdentifier),audioRobustness:ES(t.audioRobustness),videoRobustness:ES(t.videoRobustness),licenseAcquisitionURL:ti(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:IS(t.licenseType),headers:t.headers,useCredentials:!!ni(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ti(t.certificate)||Mc(t.certificate)?t.certificate:void 0}}function TS(t){if(t){var n=AS(t);if(n)return ao({},n,{customData:ti(t.customData)?t.customData:void 0})}}function SS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function ES(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function IS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function RS(t){if(t){var n=AS(t);if(n)return ao({},n,{certificateURL:ti(t.certificateURL)?t.certificateURL:void 0})}}function CS(t){if(t){var n=AS(t);if(n){var i=qn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!Qn(t))return;var n=t.id,i=t.value;if(!ti(n)||!ti(i))return;return{id:n,value:i}}(t)})).filter(Yn):void 0;return ao({},n,{keys:i})}}}function NS(t){if(Qn(t))return{useCredentials:ni(t.useCredentials)?t.useCredentials:void 0}}function DS(t){if(Qn(t))return t}function xS(t){return t&&qn(t)?t.map((function(t){return x_(t)})).filter(Yn):[Ro,So,Oo]}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt();var PS={bt:void 0,RI:0,ct:NaN,MI:!1,lt:void 0,OI:void 0,qI:!1,JI:!0,tR:1,aR:Pp.TO,dR:!1,vR:0,pR:0,yR:1};F(),Tt(),Dt();var LS=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),MS=function(){function t(){this.eX=[]}var n=t.prototype;return n.iX=function(t){var n=this.eX.filter((function(n){return n.sX(t)}));if(n.length>1)0;else if(0===n.length)throw p("Unknown ad integration: "+t.integration);return n[0]||null},n.nX=function(t){this.eX.push(t)},Nt(t,[{key:"tX",get:function(){return this.eX}}]),t}();MS.Vm=new MS,F(),Tt(),Rt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var OS=function(t){return t.uB="PLAYING",t.rX="PAUSED",t.oX="SEEK",t.hX="STALLED",t.aX="FAILED",t.uX="INITIAL_BUFFERING",t.cX="NO_ACCESS",t}({}),BS=function(t){return t.lX="HTTP_REQUEST_STATUS_CODE_1XX",t.dX="HTTP_REQUEST_STATUS_CODE_2XX",t.fX="HTTP_REQUEST_STATUS_CODE_3XX",t._X="HTTP_REQUEST_STATUS_CODE_4XX",t.vX="HTTP_REQUEST_STATUS_CODE_5XX",t.gX="BUFFER_LENGTH",t.mX="BYTES_RECEIVED",t.pX="SEGMENT_READ_BITRATE",t.wX="SEGMENT_PROFILE_BITRATE",t.yX="VIDEO_PROFILE_BITRATE",t.bX="NUMBER_OF_FRAMES_DROPPED",t.AX="PLAYBACK_POSITION",t.SX="NUMBER_OF_FRAMES_DECODED",t.TX="PLAYBACK_DELTA_TO_ORIGIN",t.kX="STREAM_DELTA_TO_ORIGIN",t.EX="ORIGIN_TIMESTAMP",t}({}),VS=function(t){return t.xX="MANIFEST_URI",t.IX="ASSET_DURATION",t.RX="NUMBER_OF_CONTENT_PROFILES",t.CX="CDN",t.PX="CONTENT_TITLE",t.DX="SERVICE_NAME",t.NX="CONTENT_TYPE",t.MX="CONTENT_DESCRIPTION",t}({}),FS=function(t){return t.LX="shutdown_normal_shutdown",t}({}),US=function(t){return t.BX="session/",t.OX="content/",t.FX="internalError/",t.VX="drmError/",t.WX="caError/",t.UX="networkError/",t}({}),WS=function(){function t(t,n){this.category=t,this.statusCode=n}return Nt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),ZS=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(la);F(),Tt(),Rt(),F(),Tt(),F(),Tt();var XS=function(t){return t.PAUSE="GX",t.RESUME="ZX",t}({}),GS=function(t){function n(){return t.call(this,"HX")||this}return It(n,t),n}(ma),HS=function(t){function n(n,i){var r;return(r=t.call(this)||this).na=n,r.YX=i,r.zX=!1,r.KX=function(){r.qX(),r.zX=!1},r.jX=function(){r.zX=!0},r.YX.bn(XS.PAUSE,r.KX),r.YX.bn(XS.RESUME,r.jX),r}It(n,t);var i=n.prototype;return i.XX=function(){this.zX=!0},i.qX=function(){},i.yn=function(){this.zX=!1,this.YX.vn(XS.PAUSE,this.KX),this.YX.vn(XS.RESUME,this.jX)},i.QX=function(){return isFinite(this.na.jd())},n}(la),zS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cz=!1,n.wz=!1,n.yz=!1,n.tz=function(){n.wz&&!n.yz&&n._z(OS.hX)},n.iz=function(){n.na.JI||(n.wz||n.mz(new WS(US.OX,"firstFrameDisplayed"),"now"),n.wz=!0,n._z(OS.uB))},n.ez=function(){n.na.JI&&(n.wz=!0,n._z(OS.rX))},n.nz=function(){n.cz&&(n.yz=!0,n.cz=!1,n._z(OS.oX))},n.rz=function(){n.yz=!1,n.na.JI&&n._z(OS.rX)},n}It(n,t);var i=n.prototype;return i.XX=function(){t.prototype.XX.call(this),this.JX()},i.yn=function(){this.$X(),t.prototype.yn.call(this)},i.JX=function(){this.na.bn(Np.aB,this.tz),this.na.bn(ya.Ky,this.ez),this.na.bn(Np.uB,this.iz),this.na.bn(ya.ib,this.nz),this.na.bn(ya.eb,this.rz)},i.$X=function(){this.na.vn(Np.aB,this.tz),this.na.vn(ya.Ky,this.ez),this.na.vn(Np.uB,this.iz),this.na.vn(ya.ib,this.nz),this.na.vn(ya.eb,this.rz)},i.oz=function(){this.cz=!0},i.lz=function(){var t=this.na.BI(),n=new WS(US.FX,String(t.code));this.fz(OS.aX,n,t.message)},i._z=function(t){this.zX&&(this.YX.vz(t),this._o(new GS))},i.fz=function(t,n,i){this.YX.gz(t,n,i),this._o(new GS)},i.mz=function(t,n){this.YX.pz(t,n)},n}(HS);F(),Tt(),Rt();var YS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).kz=function(){n.QX()&&n.Iz(VS.IX,k.round(n.na.jd()))},n.Tz=function(t){"manifest"===t.request.type&&n.Iz(VS.xX,t.url)},n.bz=function(){var t=Hi(n.na.rt.mC,(function(t){return t.Rt}));t&&n.Iz(VS.RX,t.VC.V)},n}It(n,t);var i=n.prototype;return i.XX=function(){t.prototype.XX.call(this),this.bz(),this.JX()},i.yn=function(){this.$X(),t.prototype.yn.call(this)},i.JX=function(){this.na.rt.bn(Og.da,this.bz),this.na.Sz.Az(this.Tz),this.na.bn(ya.Dy,this.kz)},i.$X=function(){this.na.rt.vn(Og.da,this.bz),this.na.Sz.Ez(this.Tz),this.na.vn(ya.Dy,this.kz)},i.xz=function(t){t.serviceName&&this.Iz(VS.DX,t.serviceName),t.cdn&&this.Iz(VS.CX,t.cdn),t.contentTitle&&this.Iz(VS.PX,t.contentTitle),t.contentType&&this.Iz(VS.NX,t.contentType),t.contentDescription&&this.Iz(VS.MX,t.contentDescription)},i.Iz=function(t,n){this.zX&&this.YX.Rz(t,n)},n}(HS);F(),Tt(),Rt();var jS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gz=ho(),n.Vz=0,n.Cz=0,n.Pz=0,n.Dz=[],n.Nz=function(){n.Zz(),n.Xz(),n.Yz()},n.Bz=function(t){t.PE===aw.yE&&(n.Fz(t.HO),n.zz(),n.qz(t.jz),n.Mz())},n.Lz=function(t){var i=t.status.toString()[0],r=n.Gz.get(i)||0;n.Gz.set(i,r+1),n.Uz(BS.lX,"1"),n.Uz(BS.dX,"2"),n.Uz(BS.fX,"3"),n.Uz(BS._X,"4"),n.Uz(BS.vX,"5")},n}It(n,t);var i=n.prototype;return i.XX=function(){t.prototype.XX.call(this),this.Cz=this.na.XI.WO,this.Pz=this.na.XI.GO,this.JX(),this.Dz.push(m(this.Nz,1e3))},i.qX=function(){t.prototype.qX.call(this),this.Mz()},i.yn=function(){this.Mz(),this.$X(),this.Dz.forEach(y),ir(this.Dz),t.prototype.yn.call(this)},i.JX=function(){this.na.Sz.Az(this.Lz),this.na.bn(ya.ub,this.Bz)},i.$X=function(){this.na.Sz.Ez(this.Lz),this.na.vn(ya.ub,this.Bz)},i.Oz=function(){this.Mz()},i.Fz=function(t){this.Vz+=t,this.Wz(BS.mX,this.Vz)},i.Uz=function(t,n){var i=this.Gz.get(n)||0;this.Wz(t,i)},i.Zz=function(){var t=this.na.XI.WO-this.Cz;this.Wz(BS.bX,t)},i.Xz=function(){var t=this.na.XI.GO-this.Pz;this.Wz(BS.SX,t)},i.zz=function(){var t=Mk.Vm.VG();this.Wz(BS.pX,Zc(t))},i.qz=function(t){this.Wz(BS.wX,Zc(t)),this.Wz(BS.yX,Zc(t))},i.Mz=function(){if(this.QX()){var t=k.round(Te(this.na.CI()));this.Wz(BS.AX,t)}},i.Yz=function(){var t=FA.Cn(this.na.TI()),n=this.na.CI(),i=t.BB(n),r=i?Te(i.Tn(0)-n):0;this.Wz(BS.gX,r)},i.Wz=function(t,n){this.zX&&this.YX.Kz(t,n)},n}(HS);F(),Tt();function KS(t){return t&&t.integration===iE}function qS(t){if(!ti(t.asset))throw new _("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ti(t)&&("live"===t||"vod"===t)}(t.streamType))throw new _("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ti(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new _("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ti(t.cdn))throw new _("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ti(t.contentTitle))throw new _("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ti(t.contentType))throw new _("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ti(t.contentDescription))throw new _("Agama source configuration: expected 'contentDescription' to be a string");return t}function JS(t){if(!ti(t.config))throw new _("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ti(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new _("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ti(t.application))throw new _("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ti(t.applicationVersion))throw new _("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ti(t.userAccountID))throw new _("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ti(t.deviceID))throw new _("Agama player configuration: expected 'deviceID' to be a string");return t}function QS(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return k.abs(i).toString().substring(0,12)}(r+=k.floor(1e3*k.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function $S(t,n,i){var r=n,e=function(t,n){return uT(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}F(),Tt();var tE=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),nE=function(){function t(t,n,i){var r=this;this.na=t,this.YX=n,this.co=function(){r.gq(),r.uq()},this.gq=function(){var t=r.na.iu(),n=t&&t.analytics;r.mq=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(KS(i))return qS(i)}}(n)},this.uq=function(){r.Qz(),r.na.vn(ya.ho,r.aq),!r.hq()&&r.YX.pq()&&r.na.bt&&r.mq&&(r.cq(),r.na.JI||r.na.MI?r.na.bn(ya.ho,r.aq):r.aq())},this.aq=function(){r.na.bt&&r.mq&&(r.YX.wq(r.na.bt,r.mq),r.XX(),r.xz(r.mq),r.nq(),r.na.bn(Qy.fa,r.Jz),r.na.vn(ya.ho,r.aq))},this.oq=function(){r.hq()&&r.Qz()},this.Jz=function(){r.vq(),r.Qz()},this._q=function(){r.dq&&r.dq.Oz()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(KS(i))return JS(i)}}(i.analytics);e&&this.YX.yq()&&(this.YX.RR(e),this.YX.pq()?(this.YX.bq(),this.na.bn(ya.uo,this.co),this.na.bn(ya.Ly,this.uq)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.Qz=function(){this.na.vn(Qy.fa,this.Jz),this.$z(),this.tq(),this.YX.iq()},n.nq=function(){this.na.rq.wa.chromecast&&this.na.rq.wa.chromecast.addEventListener("statechange",this.oq)},n.tq=function(){this.na.rq.wa.chromecast&&this.na.rq.wa.chromecast.removeEventListener("statechange",this.oq)},n.hq=function(){return void 0!==this.na.rq.wa.chromecast&&this.na.rq.wa.chromecast.state===tE.CONNECTED},n.yn=function(){this.na.vn(ya.uo,this.co),this.na.vn(ya.ho,this.aq),this.na.vn(ya.Ly,this.uq),this.Qz(),this.YX.yn()},n.cq=function(){this.lq||(this.lq=new zS(this.na,this.YX)),this.dq||(this.dq=new jS(this.na,this.YX)),this.fq||(this.fq=new YS(this.na,this.YX))},n.XX=function(){this.lq&&(this.lq.XX(),this.lq.bn("HX",this._q)),this.dq&&this.dq.XX(),this.fq&&this.fq.XX()},n.$z=function(){this.lq&&(this.lq.vn("HX",this._q),this.lq.yn(),this.lq=void 0),this.dq&&(this.dq.yn(),this.dq=void 0),this.fq&&(this.fq.yn(),this.fq=void 0)},n.xz=function(t){this.fq&&this.fq.xz(t)},n.vq=function(){this.lq&&this.lq.lz()},n.oz=function(){this.lq&&this.lq.oz()},t}(),iE="agama";F(),Tt(),F(),Tt();var rE=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});F(),Tt();var eE=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function uE(t){switch(t){case"":return rE.NONE;case"horizontal":return rE.HORIZONTAL;case"vertical":return rE.VERTICAL;default:throw new _}}function sE(t,n){if(n)return eE.PM360;if(null==t)return eE.NONE;switch(t){case"":return eE.NONE;case"360":return eE.PM360;case"180":return eE.PM180;default:throw new _("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}F(),Tt();var oE=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});F(),Tt();var aE="https://content.uplynk.com";function cE(t){if(!t)return!0;var n=!function(t){return lT(t)||Jn(t)&&lT(t[0])}(t.sources)||gT(t.sources),i=!t.ads||function(t){return!t||qn(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function hE(t){if(t&&t.sources)return fE(t.sources)}function fE(t){return ti(t)?iT(t):vT(t)?t.type||t.src&&iT(t.src):Jn(t)&&t.length>0?fE(t[0]):void 0}function vE(t){if(t&&t.sources)return dE(t.sources)}function dE(t){return ti(t)?t:vT(t)?t.src:Jn(t)&&t.length>0?dE(t[0]):void 0}function lE(t,n,i){return oT(t)?function(t,n,i){var r=ao({},wT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:qA.UPLYNK,id:"",prefix:aE,preplayParameters:{},playbackUrlParameters:{},assetType:oE.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(ti(t))return t;if(Jn(t)&&ti(t[0]))return t;if(function(t){return Qn(t)&&ti(t.userId)&&(Jn(t.externalId)||ti(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return oE.CHANNEL;case"event":return oE.EVENT;default:return oE.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=zg(t.contentProtected));t.assetInfo?r.assetInfo=zg(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=qg(t.prefix)||aE);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!ni(n.adImpressions)&&n.adImpressions,r=!!ni(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=ni(n.linearAdData)?n.linearAdData:t!==oE.ASSET):t!==oE.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=mE(r,t),r=pE(r,n,i),r=yE(r,t,i),r}(t,n,i):cT(t)?function(t,n,i){var r,e;return ao({},gE(t,n,i),{integration:qA.MEDIATAILOR,adsParams:null!=(e=null!=(r=t.adsParams)?r:t.adParams)?e:{}})}(t,n,i):aT(t)?function(t,n,i){return ao({},gE(t,n,i),{type:"theolive"})}(t,n,i):hT(t)?function(t,n,i){return ao({},gE(t,n,i),{type:AA.hP,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:kE(t.connectOptions),apiUrl:t.apiUrl,statsIntervalMs:wE(t.statsIntervalMs)})}(t,n,i):gE(t,n,i)}function gE(t,n,i){var r=mT(),e=n&&(n.contentProtection||n.drm);if(ti(t)){if(r.src=t,r.type=iT(t),e){var u=bS(e);r.contentProtection=RA(u)}}else if(vT(t)||sT(t)||hT(t)){r.src=t.src,r.type=t.type||iT(t.src),r.isAdvertisement=t.isAdvertisement;var s=dT(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),cT(t)&&(r.integration=t.integration);var o=bS(t.contentProtection||t.drm||e);r.contentProtection=RA(o),t.ssai&&(r.ssai=EA(t.ssai)),r=mE(r,t)}return r=yE(r=pE(r,n,i),t,i)}function wE(t){if(ei(t)&&t>0)return t}function mE(t,n){var i,r;n.useCredentials?t.crossOrigin=kA.tP:n.crossOrigin&&(t.crossOrigin=rT(n.crossOrigin)),ti(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=zg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=zg(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=zg(n.useManagedMediaSource)),n.dash&&(t.dash=CA(n.dash)),n.hls&&(t.hls=NA(n.hls)),n.lcevc&&(t.lcevc=zg(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=bT(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=jA(n.latencyConfiguration)),t.seamlessSwitchStrategy=JA(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=Yg(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=Yg(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function yE(t,n,i){return t.abr=PA(ti(n)?void 0:xA(n.abr),null==i?void 0:i.abr),t}function pE(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Yn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Yn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===kA.SE&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=kA.$C),t.useCredentials=t.crossOrigin===kA.tP,ti(e)&&!t.timeServer&&(t.timeServer=e),t}function _E(t){var n={src:""};if(t&&t.src){if(n.src=qg(t.src),"default"in t&&(n.default=zg(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return sp(n)?n:n?"metadata":"subtitles"}(t.kind),Bw(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function bE(t,n){if(Qn(t))try{return n.iX(t).Aq(t)}catch(t){return}}function kE(t){if(null==t)return t;if(!Qn(t))throw new p("connectOptions must be an object");return t}function AE(t,n,i){if(void 0===i&&(i=MS.Vm),cE(t))return{sources:[mT()]};var r=Wg(t);if(r.sources=function(t,n,i){if(lT(t))return[lE(t,n,i)];if(Jn(t)&&lT(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(lE(u,n,i))}return r}return[mT()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Jn(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=bE(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!gT(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Jn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=_E(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=qg(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:sE(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?uE(n.stereoMode):rE.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=pT(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==iE&&r.push(e)},r=Wg(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=BT(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=jg(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}F(),Tt(),F(),Tt(),F(),Tt();var TE=function(){function t(t){this.Sq=t}return t.prototype.Tq=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.Sq.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.Sq.indexOf(t.charAt(n))<<18|this.Sq.indexOf(t.charAt(n+1))<<12|(u=this.Sq.indexOf(t.charAt(n+2)))<<6|(s=this.Sq.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.kq=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.Sq.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.Sq.charAt(r)+this.Sq.charAt(e)+this.Sq.charAt(u)+this.Sq.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.mh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.Eq=new t(function(t){return t.Tq("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.mh)),t}();function SE(t){return"string"==typeof t}function EE(t){return"number"==typeof t}F(),Tt(),F(),Tt(),F(),Tt(),at();var IE={}.toString;var RE,CE=Array.isArray||function(t){return"[object Array]"===IE.call(t)};function NE(t,n){return CE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(RE||(RE={}));var DE,xE=b.keys(RE).map((function(t){return RE[t]}));function PE(t){return-1!==xE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(DE||(DE={}));var LE,ME=b.keys(DE).map((function(t){return DE[t]}));function OE(t){return-1!==ME.indexOf(t)}function BE(t){try{var n=TE.Eq.Tq(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":U(t))&&null!==t}(t),e=SE(t.key),u=SE(t.customer_id),s=EE(t.generation_date),o=EE(t.expiration_date),a=NE(t.domains_page,SE),c=NE(t.domains_source,SE),h=NE(t.sdks,n?PE:SE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=NE(t.features,n?OE:SE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new p("The provided license could not be decoded correctly.");return i}catch(t){throw new p("The provided license could not be decoded correctly.")}}function VE(){return LE||(LE={Xu:f.location.href,xq:f.parent&&f.parent!==f,Iq:UE()}),LE}var FE=["http:","https:","ftp:","ws:","wss:"];function UE(){var t,n;try{var i;if(null==(i=f)?void 0:i.top)return f.top.location.href}catch(t){}return null==(n=f)||null==(t=n.document)?void 0:t.referrer}var WE=function(t){return t[t.Rq=0]="Rq",t[t.Cq=1]="Cq",t[t.Pq=2]="Pq",t}({}),ZE=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.Dq=t,this.Nq=n,this.Mq=i,this.Lq=r,this.Bq=e,this.Oq=u,this.Fq=s,this.Vq=o,this.Wq=a},XE=function(t){return t.Cq="expired",t.Uq="invaliddomain",t.Gq="invalidsource",t.Zq="invalidfeature",t.fa="error",t}({}),GE=function(){function t(t,n,i){this.rY=t,this.uY=n,this.PA=i,this.iY=$E(this.PA)}var n=t.prototype;return n.Hq=function(t,n){var i=[];lT(t.sources)?i=[t.sources]:Jn(t.sources)&&(i=t.sources),this.Xq(t,i,n),this.zq(i,n)},n.Xq=function(t,n,i){var r=this;if(!cE(t)&&0!==i.Mq.length&&!qE(i.Mq)&&!n.every((function(t){return r.qq(t,i)}))){var e="invalidsource",u=tI.Yq(e);throw new ld(zE(e),u)}},n.zq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];vT(r)&&dT(r)&&!r.bypassLicense&&this.Kq([DE.HESP],n)}},n.jq=function(n){return this.Qq(n.Vq)&&this.Jq(n)?t.$q(n.Lq)?0:1:2},n.Kq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!tr(n.Bq,r)){var e="invalidfeature",u=tI.tY(e,r);throw new ld(zE(e),u)}}},n.Qq=function(t){var n=this;return 0===t.length||t.some((function(t){return n.eY(t)}))},n.eY=function(t){return"web"===function(t){switch(t){case RE.ANDROID:return Dn.Ev;case RE.ANDROIDTV:case RE.FIRETV:return Dn.xv;case RE.IOS:return Dn.Iv;case RE.TVOS:return Dn.Rv;case RE.CHROMECAST:case RE.CHROMECASTCAF:return Dn.Cv;case RE.THEOLIVEWEB:return Dn.Pv;default:return Dn.Tv}}(t)},n.Jq=function(t){return!(this.iY&&0!==t.Nq.length&&!qE(t.Nq))||!!(this.iY&&this.sY(t.Nq)&&this.nY(t.Nq))},n.sY=function(t){return JE(this.PA.Xu,t)},n.nY=function(t){if(!this.PA.xq)return!0;if(this.rY)return!0;var n=this.oY();return!!n&&JE(n,t)},n.oY=function(){if(this.PA.xq){var t=d.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.PA.Iq?this.PA.Iq:void 0}},n.qq=function(n,i){return!!t.hY(n,i.Mq)},t.$q=function(t){var n=Number(new Date);return!!t&&n<=t},t.hY=function(t,n){return JE(this.aY(t),n)},t.aY=function(t){return ti(t)?t:vT(t)&&t.src||""},t}(),HE=function(){function t(){}var n=t.prototype;return n.jq=function(t){return 0},n.Hq=function(t,n){},n.Kq=function(t,n){},t}();function zE(t){switch(t){case"invaliddomain":return vd.LICENSE_INVALID_DOMAIN;case"invalidsource":return vd.LICENSE_INVALID_SOURCE;case"expired":return vd.LICENSE_EXPIRED;case"invalidfeature":return vd.LICENSE_INVALID_FEATURE;case"error":return vd.LICENSE_ERROR}}var YE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",jE=Ti((function(){var t="\\.",n="(\\*|"+YE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function KE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Qo(r,"ip-range(")){var e="\\.",u=r.match(jE()),s=function(t){return"*"===t?"("+YE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function qE(t){return t.some((function(t){return"*"===t}))}function JE(t,n){var i=Kn.Bh(t);if(!QE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(KE(i.hostname,e))return!0;if(KE(xl(t),e))return!0}return!1}function QE(t){return-1!==FE.indexOf(t.protocol)}function $E(t){var n=Kn.Bh(t.Xu);return QE(n)&&!function(t){return KE(t.hostname,"localhost")}(n)&&!function(t){return KE(t.hostname,"theoplayer.doubleclick.net")}(n)}var tI=function(){function t(){}return t.tY=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.Yq=function(t){return"invaliddomain"===t?this.cY:"invalidsource"===t?this.lY:"expired"===t?this.dY:"invalidfeature"===t?this.fY:this._Y},t}();tI._Y="The license for this player is invalid.",tI.dY="The usage license for this video player has expired.",tI.cY="The current domain is incompatible with the license for this player.",tI.lY="The provided video source is incompatible with the license for this player.",tI.fY="The requested feature is not available with the license for this player.",F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var nI=function(t){return t[t.vY=1]="vY",t[t.gY=4]="gY",t[t.mY=5]="mY",t[t.pY=9]="pY",t}({});function iI(t){var n=[t.kL,t.wY,t.yY];switch(t.wY){case 1:n.push(t.zC);break;case 4:n.push(t.RI),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.zw)}return n}F(),Tt();var rI,eI=new Array(256);for(rI=0;rI<256;rI+=1)eI[rI]=(rI<16?"0":"")+rI.toString(16);function uI(){var t=ke(),n=(4294967296*k.random()|0)+t&3029421624,i=(4294967296*k.random()|0)+t&3595553209,r=(4294967296*k.random()|0)+t&1130486254,e=(4294967296*k.random()|0)+t&1284287105;return eI[255&n]+eI[n>>>8&255]+eI[n>>>16&255]+eI[n>>>24&255]+"-"+eI[255&i]+eI[i>>>8&255]+"-"+eI[i>>>16&15|64]+eI[i>>>24&255]+"-"+eI[63&r|128]+eI[r>>>8&255]+"-"+eI[r>>>16&255]+eI[r>>>24&255]+eI[255&e]+eI[e>>>8&255]+eI[e>>>16&255]+eI[e>>>24&255]}function sI(t){return Wc(t.replace(/-/g,""))}function oI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*k.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function aI(){return Kn.Wm()}F(),Tt(),F(),Tt(),F(),Tt();var cI,hI="theoplayer-session-id";function fI(){if(!cI){var t=Ld.Vb(hI);t?cI=t:(cI=uI(),Ld.Wb(hI,cI))}return cI}F(),Tt(),F(),Tt();var vI=/[^\x00-\x7E]/g;function dI(t){return"\\u"+ia(t.charCodeAt(0).toString(16),4,"0")}var lI="https://license.theoplayer.com";function gI(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(vI,dI)}(t,(function(t,i){if(Qn(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.bY,t.eT,t.Dq,t.aN,t.AY,t.SY,t.TY.map(iI)]}(t));return TE.Eq.kq(n)}var wI=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=TE.mh),void 0===e&&(e=0),void 0===u&&(u=1),this.NS=t,this.WW=n,this.RY=i,this.NY=r,this.LY=e,this.WY=u,this.Kf=[],this.EY=null,this.GY=0,this.VY="unknown",this.aS=0,this.XY=function(){aI()-s.GY>6e4&&s.OY()},this.ZY=function(){s.OY(!0)},f.addEventListener("beforeunload",this.ZY),this.HY=m(this.XY,6e4)}var n=t.prototype;return n.kY=function(){return Boolean(this.AY)},n.xY=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.RY.IY()];case 1:return r.sent().Wq?(i={wY:nI.vY,yY:ke(),zC:t},[4,n.mz(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.CY=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.RY.IY()];case 1:return r.sent().Wq?(i={wY:nI.pY,yY:ke(),zw:t},[4,n.mz(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.PY=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return r={wY:nI.gY,yY:ke(),RI:n,lt:t},[4,i.mz(r)];case 1:return e.sent(),[2]}}))}))()},n.DY=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return i={wY:nI.mY,yY:ke(),lt:t},[4,n.mz(i)];case 1:return r.sent(),[2]}}))}))()},n.mz=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.RY.IY()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.NY.kq(i.Dq)&&t.wY!==nI.mY?[2]:(t.wY===nI.vY?n.MY():n.kY()||n.MY(),t.kL=n.aS++,n.Kf.push(t),function(t){return t===nI.vY||t===nI.mY}(t.wY)?[4,n.OY()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.Kf.length>n.LY?[4,n.BY()]:[3,5];case 5:return[2]}}))}))()},n.OY=function(t){void 0===t&&(t=!1);var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Kf.length>0?[4,n.BY(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.FY=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.RY.IY()];case 1:return i=r.sent(),[2,{bY:ke(),eT:fI(),Dq:n.NY.kq(i.Dq)||"dev",aN:n.NS,AY:n.EY,SY:n.VY,TY:t}]}}))}))()},n.BY=function(t){void 0===t&&(t=!1);var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return i=n.Kf.splice(0,n.WY),[4,n.FY(i)];case 1:return r=e.sent(),t?n.FE(r):n.UY(r),n.GY=aI(),[2]}}))}))()},n.UY=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=gI(t),r=new Tl({Xu:lI,Vk:i,DE:!1,tE:Fd.Rk,iE:{"Content-Type":wb.$U},xE:4e3,EE:pl.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.WW.eE(r)];case 2:return[4,e.sent().Bk()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.FE=function(t){var n=gI(t);this.WW.FE({Xu:lI,Vk:n,Fk:wb.$U})},n.MY=function(){this.kY()&&this.OY(),this.EY=uI(),this.aS=0},n.yn=function(){f.removeEventListener("beforeunload",this.ZY),y(this.HY),this.OY()},Nt(t,[{key:"TY",get:function(){return this.Kf}},{key:"AY",get:function(){return this.EY}}]),t}();F(),Tt(),Dt(),qt(),F(),Tt(),qt(),F(),Tt();var mI=0;var yI=w,pI=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,_I=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;pI&&_I||(pI=function(t){var n=aI(),i=k.max(0,16-(n-mI)),r=g((function(){return t(n+i)}),i);return mI=n+i,r},_I=yI),pI=pI.bind(self),_I=_I.bind(self);var bI=Gn.Zg||Gn.su&&Gn.nm<13;function kI(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var AI=function(){function t(t){var n=this;this.jY=void 0,this.eu=void 0,this.rK=void 0,this.tK=fo(),this.JY=1,this.nK=!0,this.hK=function(){n.nK=!0},this.oK=function(){n.jY=n.t.IR(),n.tK.forEach((function(t,i){t.iK(),t.iK=n.$Y(t.eK,i)}))},this.t=t,this.t.bn(ya.Fy,this.oK),this.t.bn(ya.eb,this.hK),this.oK()}var n=t.prototype;return n.zY=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.jY;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(Kt(i))),!0)},n.qY=function(t,n,i,r,e,u){var s=this.jY;return void 0!==s&&(bI&&(s=this.QY(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.YY=function(t){var n=this.JY++,i=this.$Y(t,n);return this.tK.set(n,{eK:t,iK:i}),n},n.KY=function(t){var n=this.tK.get(t);void 0!==n&&(this.tK.delete(t),n.iK())},n.$Y=function(t,n){var i=this,r=this.jY;if(void 0===r)return _i;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.tK.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.sK()?(i.tK.delete(n),i.nK=!1,t(r,void 0)):u=pI(s)};return u=pI(s),function(){return _I(u)}},n.sK=function(){return(!this.t.JI||this.nK)&&!this.t.dR&&this.t.aR>=Pp.kO},n.QY=function(t){var n=this.rK;void 0===n&&(n=v.createElement("canvas"),this.rK=n);var i=n.getContext("2d"),r=this.t,e=r.pR,u=r.vR,s=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),s===e&&o===u||(n.width=e,n.height=u),i.drawImage(t,0,0,e,u);var a=!1;return e>0&&kI(i,e-1,0)&&(n.width=s,a=!0),u>0&&kI(i,0,u-1)&&(n.height=o,a=!0),a&&i.drawImage(t,0,0,e,u),n},n.yn=function(){this.tK.forEach((function(t){return t.iK()})),this.tK.clear(),this.t.vn(ya.Fy,this.oK),this.t.vn(ya.eb,this.hK),this.jY=void 0,this.rK=void 0},Nt(t,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).zY.apply(u,[n].concat(Kt(r)))},texImage2D:function(n,i,r,e,u,s){return t.qY(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.YY(n)},cancelVideoFrameCallback:function(n){return t.KY(n)}}}(this)}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var TI=function(t){return t.mn="dimensionchange",t}({}),SI=function(t){function n(n,i){var r;return(r=t.call(this,TI.mn)||this).width=n,r.height=i,r}return It(n,t),n}(ma);F(),Tt(),Dt(),Rt(),F(),Tt();var EI,II=function(t,n){this.we=t,this.eK=n},RI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).aK=0,r.uK=0,r.lK=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.uK=n.width,r.aK=n.height,r.eK(r.uK,r.aK)}},r.cK=new f.ResizeObserver(r.lK),r.cK.observe(r.we),r}return It(n,t),n.prototype.yn=function(){this.cK.disconnect()},Nt(n,[{key:"Nu",get:function(){return this.aK}},{key:"Au",get:function(){return this.uK}}]),n}(II);F(),Tt(),Dt(),Rt(),F(),Tt();var CI=["Webkit","Moz","O","ms"],NI=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var n=b.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",_i,n),f.removeEventListener("testPassiveEventSupport",_i,n)}}catch(t){}return t}(),DI=ho();function xI(t){return DI.has(t)||DI.set(t,function(t){var n=(EI||(EI=f&&f.document&&f.document.createElement("span")),EI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<CI.length;r++){var e=CI[r]+i;if(void 0!==n.style[e])return e}return t}(t)),DI.get(t)}function PI(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function LI(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[xI("transition")]="0s"}var MI=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).dK=0,e.uK=NaN,e.aK=NaN,e.pK=void 0,e.nr=function(){var t=1e5;e.wK.style.width=t+"px",e.wK.style.height=t+"px",e.fK.scrollLeft=t,e.fK.scrollTop=t,e.vK.scrollLeft=t,e.vK.scrollTop=t,0===e.vK.scrollTop&&pI(e.nr)},e.yK=function(){var t=e.Au,n=e.Nu;e.eK(t,n),e.uK=t,e.aK=n,e.nr(),e.dK=0},e._K=function(){if(!e.dK){var t=e.Au,n=e.Nu;t===e.uK&&n===e.aK||(e.dK=pI(e.yK))}},e.mK=function(){e.pK||(e.pK=g(e.bK,66))},e.bK=function(){e.pK=void 0,e.AK()},e.AK=function(){e._K()};var u=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==u||(n.style.position="relative");var s=v.createElement("div");return e.gK=s,e.fK=v.createElement("div"),e.wK=v.createElement("div"),e.vK=v.createElement("div"),e.SK=v.createElement("div"),PI(e.fK),PI(e.vK),LI(e.wK),function(t){LI(t),t.style.width="200%",t.style.height="200%"}(e.SK),s.appendChild(e.fK),s.appendChild(e.vK),e.fK.appendChild(e.wK),e.vK.appendChild(e.SK),n.appendChild(s),e.fK.addEventListener("scroll",e._K),e.vK.addEventListener("scroll",e._K),f&&f.addEventListener("resize",e.mK),e._K(),e}return It(n,t),n.prototype.yn=function(){_I(this.dK),this.dK=0,this.fK.removeEventListener("scroll",this._K),this.vK.removeEventListener("scroll",this._K),oi(this.gK),f&&f.removeEventListener("resize",this.mK)},Nt(n,[{key:"Nu",get:function(){return this.we.getBoundingClientRect().height||this.aK||0}},{key:"Au",get:function(){return this.we.getBoundingClientRect().width||this.uK||0}}]),n}(II),OI=function(t){function n(n){var i;return(i=t.call(this)||this).cK=void 0,i.lK=function(t,n){i._o(new SI(t,n))},i.we=n,i}It(n,t);var i=n.prototype;return i.kn=function(t){this.cK||("function"==typeof f.ResizeObserver?this.cK=new RI(this.we,this.lK):this.cK=new MI(this.we,this.lK,t))},i.yn=function(){this.Ro(),this.cK&&(this.cK.yn(),this.cK=void 0)},Nt(n,[{key:"Nu",get:function(){return this.cK?this.cK.Nu:0}},{key:"Au",get:function(){return this.cK?this.cK.Au:0}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var BI=function(t){function n(){return t.call(this,vS.da)||this}return It(n,t),n}(ma);F(),Tt();var VI=function(){if(v)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in v)return{TK:i[0],Zo:i[1],kK:i[2],EK:i[3],Ye:i[4],xK:i[5]}}}();F(),Tt(),Rt();var FI=function(t){function n(){return t.call(this,vS.ga)||this}return It(n,t),n}(ma),UI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.IK=function(){return r.CK()},r.RK=function(){return r.PK()},r.we=i,r.oa=n.aa(i),v.addEventListener(VI.Ye,r.IK),r.CK(),r}It(n,t);var i=n.prototype;return i.vo=function(){var t=this.we[VI.TK]();t&&t.then?t.then(this.IK,this.RK):(v.removeEventListener(VI.xK,this.RK),v.addEventListener(VI.xK,this.RK))},i.xo=function(){var t=v[VI.Zo]();t&&t.then?t.then(this.IK,this.RK):(v.removeEventListener(VI.xK,this.RK),v.addEventListener(VI.xK,this.RK))},i.CK=function(){var t=this.cs,n=this.we===v[VI.kK];this.cs=n,t!==n&&this._o(new BI)},i.PK=function(){this._o(new dS)},i.yn=function(){this.Ro(),v.removeEventListener(VI.Ye,this.IK),v.removeEventListener(VI.xK,this.RK)},n.aa=function(t){return Boolean(VI&&v[VI.EK]&&VI.TK in t)},n}(la),WI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.IK=function(){return r.CK()},r.we=i,r.oa=n.aa(i),r.we.addEventListener("webkitbeginfullscreen",r.IK),r.we.addEventListener("webkitendfullscreen",r.IK),r.we.addEventListener("webkitpresentationmodechanged",r.IK),r.CK(),r}It(n,t);var i=n.prototype;return i.vo=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Gn.su?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.xo=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.CK=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this._o(new BI)},i.yn=function(){this.Ro(),this.we.removeEventListener("webkitbeginfullscreen",this.IK),this.we.removeEventListener("webkitendfullscreen",this.IK),this.we.removeEventListener("webkitpresentationmodechanged",this.IK)},n.aa=function(t){return Gn.su&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(la),ZI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).MK=[],n.DK=void 0,n.NK=!1,n.CK=function(){var t=n.NK,i=n.VK();t!==i&&(n.NK=i,n._o(new BI))},n}It(n,t);var i=n.prototype;return i.vo=function(){this.DK?this.DK.vo():this._o(new dS)},i.xo=function(){for(var t=0,n=this.MK;t<n.length;t++){var i=n[t];i.cs&&i.xo()}},i.LK=function(t){this.DK=t},i.BK=function(t){this.MK.push(t),t.bn(vS.da,this.CK),t.bn(vS.fa,this.Ds),this.CK()},i.FK=function(t){Ji(this.MK,t),t.vn(vS.da,this.CK),t.vn(vS.fa,this.Ds)},i.VK=function(){for(var t=0,n=this.MK;t<n.length;t++){if(n[t].cs)return!0}return!1},i.nr=function(){this.DK=void 0,this.NK=!1;for(var t=this.MK.slice(),n=0;n<t.length;n++){var i=t[n];this.FK(i),i.yn()}this.CK()},i.yn=function(){this.Ro(),this.nr()},Nt(n,[{key:"oa",get:function(){return!!this.DK&&this.DK.oa}},{key:"cs",get:function(){return this.NK}}]),n}(la),XI=function(t){function n(n,i){var r;return(r=t.call(this)||this).va=!1,r.HK=function(){return r.ir()},r.CK=function(t){r.va||r._o(t)},r.t=n,r.WK=i,r.UK=new lS,r.GK(),r.t.bn(ya.By,r.HK),r.ir(),r}It(n,t);var i=n.prototype;return i.vo=function(){this.WK&&this.UK.vo()},i.xo=function(){this.UK.xo()},i.GK=function(){this.UK.bn([vS.da,vS.ga],this.CK),this.UK.bn(vS.fa,this.Ds)},i.ZK=function(){this.UK.vn([vS.da,vS.ga],this.CK),this.UK.vn(vS.fa,this.Ds)},i.ir=function(){var t=this.UK,n=this.t.xR();if(t!==n){this.va=!0;var i=this.cs,r=this.oa;i&&this.xo(),this.ZK(),this.UK=n,this.GK(),i&&!this.cs&&this.oa?this.vo():this.xo(),this.va=!1,r!==this.oa&&this._o(new FI),i!==this.cs&&this._o(new BI)}},i.yn=function(){this.Ro(),this.ZK(),this.t.vn(ya.By,this.HK)},Nt(n,[{key:"oa",get:function(){return!!this.WK&&this.UK.oa}},{key:"cs",get:function(){return this.UK.cs}}]),n}(la);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt(),F(),Tt();var GI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),HI=function(t){function n(n){var i;return(i=t.call(this,GI.MODE_CHANGE)||this).presentationMode=n,i}return It(n,t),n}(ma);F(),Tt(),F(),Tt(),Rt();var zI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).zK=[],r.YK=function(t){Dr((function(){r.Ds(t)}))},r.KK=i?r.YK:r.Ds,r}It(n,t);var i=n.prototype;return i.ru=function(t){t._y(this.KK),this.zK.push(t)},i.qK=function(t){t.yy(this.KK),Ji(this.zK,t)},i.yn=function(){this.Ro();for(var t=0,n=this.zK;t<n.length;t++){n[t].yy(this.KK)}ir(this.zK)},n}(wa);F(),Tt(),Dt(),Rt();var YI=function(t){function n(n){var i;return(i=t.call(this,GI.ERROR)||this).errorObject=n,i}return It(n,t),n.prototype.ka=function(){return this},Nt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ig);F(),Tt(),Rt();var jI=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return It(n,t),n}(ld),KI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xo=MT.INLINE,r.sa=!1,r.Yo=new kd,r.eu=void 0,r.CK=function(){r.wi()},r.PK=function(){r.sa||(r._o(new xk(new ld(vd.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r.wi())},r.tj=function(){r.sa||(r.Xo!==MT.NATIVE_PICTURE_IN_PICTURE||r.ta.CO?r.Xo!==MT.NATIVE_PICTURE_IN_PICTURE&&r.ta.CO&&r.Wo(MT.NATIVE_PICTURE_IN_PICTURE):r.Wo(MT.INLINE))},r.ej=function(){r.sa||(r._o(new YI(new jI(vd.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.tj())},r.ea=n,r.ta=i,r.ea.bn(vS.da,r.CK),r.ea.bn(vS.fa,r.PK),r.ta.bn(zT.IO,r.tj),r.ta.bn(zT.RO,r.tj),r.ta.bn(zT.fa,r.ej),r}It(n,t);var i=n.prototype;return i.ka=function(){return function(t){var n,i={get currentMode(){return t.Ho()},requestMode:function(n){var i=ZT(n);i&&t.Wo(i)},supportsMode:function(n){var i=ZT(n);return!!i&&t.zo(i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return(n=new zI(i,!0)).ru(t),i}(this)},i.Wo=function(t){this.Xo!==t&&(this.Xo=t,this.sa=!0,this.Jo(t))},i.Ho=function(){return this.Xo},i.zo=function(t){switch(t){case MT.NATIVE_PICTURE_IN_PICTURE:return this.ta.PO;case MT.FULLSCREEN:return this.ea.oa;case MT.INLINE:return!0}return!1},i.Jo=function(t){var n=this;switch(this.Yo.np(),t){case MT.FULLSCREEN:xr(this.Yo.Qo((function(t){return n.jK(t)})));break;case MT.NATIVE_PICTURE_IN_PICTURE:xr(this.Yo.Qo((function(t){return n.QK(t)})));break;case MT.INLINE:xr(this.Yo.Qo((function(t){return n.JK(t)})))}},i.jK=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return kr(t),[4,n.ta.xo().catch(_i)];case 1:r.sent(),kr(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.$K()];case 3:return r.sent(),n._o(new HI(n.Xo)),[3,6];case 4:throw r.sent(),i=new jI(vd.FULLSCREEN_ERROR,"Failed to enter fullscreen."),n._o(new YI(i)),kr(t),n.Wo(MT.INLINE),i;case 5:return n.sa=!1,[7];case 6:return[2]}}))}))()},i.QK=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return kr(t),[4,n.Zo().catch(_i)];case 1:r.sent(),kr(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.ta.vo()];case 3:return r.sent(),n._o(new HI(n.Xo)),[3,6];case 4:throw r.sent(),i=new jI(vd.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),n._o(new YI(i)),kr(t),n.Wo(MT.INLINE),i;case 5:return n.sa=!1,[7];case 6:return[2]}}))}))()},i.JK=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return kr(t),[4,n.Zo().catch(_i)];case 1:return i.sent(),kr(t),[4,n.ta.xo().catch(_i)];case 2:return i.sent(),n._o(new HI(n.Xo)),n.sa=!1,[2]}}))}))()},i.$K=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.ea.cs?[2]:(n=t.ea.Ay([vS.da,vS.fa]),t.ea.vo(),[4,n]);case 1:if(i.sent(),!t.ea.cs)throw new p("Failed to enter fullscreen.");return[2]}}))}))()},i.Zo=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.ea.cs?(n=t.ea.Ay([vS.da,vS.fa]),t.ea.xo(),[4,n]):[2];case 1:if(i.sent(),t.ea.cs)throw new p("Failed to exit fullscreen.");return[2]}}))}))()},i.wi=function(){this.sa||(this.Xo!==MT.FULLSCREEN||this.ea.cs?this.Xo!==MT.FULLSCREEN&&this.ea.cs&&this.Wo(MT.FULLSCREEN):this.Wo(MT.INLINE))},i.yn=function(){this.ea.vn(vS.da,this.CK),this.ea.vn(vS.fa,this.PK),this.ta.vn(zT.IO,this.tj),this.ta.vn(zT.RO,this.tj),this.ta.vn(zT.fa,this.ej),this.Ro()},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(wa);F(),Tt(),Mt(),Wt();var qI=function(){function t(t){this.HH=t,this.sj=new kd}var n=t.prototype;return n.ij=function(t){var n=this;return this.sj.Qo((function(){return n.nj(t)}))},n.RR=function(){this.HH.ZH()},n.nj=function(n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return r=i.HH.lH(aw.yE),e=r.SZ,[4,t.rj(e,n)];case 1:return u=s.sent(),[4,i.HH.qZ(r)];case 2:return s.sent(),[2,u]}}))}))()},n.yn=function(){this.sj.yn()},t.rj=function(n,i){return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return Gn.Ng||Gn.Rg?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.hj()]);case 1:return e.sent(),(r=!i)?[4,t.aj(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.aj(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.aj=function(t,n){return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),ii(i)?(r=Mr(250),[4,et.race([i,r])]):[2,!Gn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.hj=function(){return new et((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else g(t,0)}))},t}(),JI=qI;function QI(t){JI=t}function $I(t){var n;return{get url(){return t.Xu},get method(){return t.EE},get headers(){return n||(n=t.iE.Ck()),n},get body(){return t.Vk},get useCredentials(){return t.DE},get type(){return t.zw},get subType(){return t.CE},get mediaType(){return t.PE},get responseType(){return t.tE}}}function tR(t){switch(t.toLowerCase()){case"arraybuffer":return Fd.Ek;case"json":return Fd.xk;case"stream":return Fd.Ik;default:return Fd.Rk}}function nR(t){switch(t.toUpperCase()){case"POST":return pl.POST;case"PUT":return pl.PUT;case"DELETE":return pl.DELETE;case"HEAD":return pl.HEAD;case"OPTIONS":return pl.OPTIONS;default:return pl.GET}}function iR(t){switch(t.toLowerCase()){case"manifest":return _l.hE;case"segment":return _l.aE;case"preload-hint":return _l.uE;case"content-protection":return _l.cE;default:return _l.oE}}function rR(t){switch(t.toLowerCase()){case"initialization-segment":return bl.lE;case"fairplay-license":return bl.dE;case"fairplay-certificate":return bl.fE;case"widevine-license":return bl._E;case"widevine-certificate":return bl.vE;case"playready-license":return bl.gE;case"clearkey-license":return bl.mE;case"aes128-key":return bl.pE;default:return bl.oE}}function eR(t){switch(t.toLowerCase()){case"audio":return kl.wE;case"video":return kl.yE;case"text":return kl.Rk;case"image":return kl.bE;default:return kl.oE}}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Wt();var uR=function(){function t(t,n){this.xj=t,this.Sj=n,this.cj=new ih,this.wj=[],this.eu=void 0,this._j=!1,this.QE=void 0,this.mj=0}var n=t.prototype;return n.QD=function(){this._j=!0,this.cj.Zb(null)},n.pj=function(){this.cj.Hb(new Gd(this.wj))},n.yj=function(t){if(!this.vj)throw new _("Cannot respond more than once");if(!Qn(t))throw new _("Expected valid response");this.QE=this.bj(t),this.QD()},n.Aj=function(){try{var t=this.Sj(this.wa);t?this.Tj(t):this.gj||this.dj||this.QD()}catch(t){this.wj.push(t),this.pj()}},n.Tj=function(t){if(this.dj)throw new p("Request has been redirected or a response already exists");if(ii(t))this.Ej(t);else{if("function"!=typeof t)throw new _("Expected promise or function");var n=new ih;try{var i=t((function(t){t?n.Hb(t):n.Zb(void 0)}));ii(i)&&n.rp(i)}catch(t){n.Hb(t)}this.Ej(n.Xb)}},n.Ej=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.mj++,[4,t];case 1:return r.sent(),n.mj--,n.gj||n.dj||(n.wj.length?n.pj():n.QD()),[3,3];case 2:return i=r.sent(),n.mj--,n.wj.push(i),n.gj||n.dj||n.pj(),[3,3];case 3:return[2]}}))}))()},Nt(t,[{key:"uj",get:function(){return this.cj.Xb}},{key:"wa",get:function(){return this.eu||(this.eu=this.lj()),this.eu}},{key:"dj",get:function(){return this._j}},{key:"vj",get:function(){return!this._j}},{key:"gj",get:function(){return this.mj>0}},{key:"jE",get:function(){return this.QE}}]),t}(),sR=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ij=r,e.Aj(),e}It(n,t);var i=n.prototype;return i.lj=function(){return function(t){var n,i=$I(t.eE);return{get closed(){return!t.vj},get request(){return i},get url(){return t.Xu},get status(){return t.Jk},get statusText(){return t.sE},get headers(){return n||(n=t.iE.Ck()),n},get body(){return t.Vk},respondWith:function(n){return t.yj(n)},waitUntil:function(n){return t.Tj(n)}}}(this)},i.bj=function(t){return n.Rj(t,this.xj,this.Ij)},n.Rj=function(t,n,i){var r=void 0===t.body?i:t.body;return new yl({$k:r,eE:n.eE,tE:n.eE.tE,iE:t.headers,Jk:t.status,sE:t.statusText,rE:t.url,nE:!0},n)},Nt(n,[{key:"Vk",get:function(){return this.Ij}},{key:"iE",get:function(){return this.xj.iE}},{key:"eE",get:function(){return this.xj.eE}},{key:"jE",get:function(){return this.QE}},{key:"Jk",get:function(){return this.xj.Jk}},{key:"sE",get:function(){return this.xj.sE}},{key:"Xu",get:function(){return this.xj.rE}}]),n}(uR);F(),Tt(),Dt(),Rt();var oR=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Dj=void 0,e.Cj=r,e.Aj(),e}It(n,t);var i=n.prototype;return i.lj=function(){return function(t){var n;return{get url(){return t.Xu},get method(){return t.EE},get headers(){return n||(n=t.iE.Ck()),n},get body(){return t.Vk},get closed(){return!t.vj},get useCredentials(){return t.DE},get type(){return t.zw},get subType(){return t.CE},get mediaType(){return t.PE},get responseType(){return t.tE},redirect:function(n){return t.Nj(n)},respondWith:function(n){return t.yj(n)},waitUntil:function(n){return t.Tj(n)}}}(this)},i.bj=function(t){var n=this.xj.Vk,i=new yl({$k:n,iE:{},eE:this.xj,rE:this.xj.Xu,tE:this.xj.tE,Jk:200,sE:"OK"});return sR.Rj(t,i,n)},i.Nj=function(t){if(!this.vj)throw new _("Cannot redirect, already redirected or has a response");var n;n=ti(t)?{url:t}:t,this.Dj=function(t,n){return new Tl({Xu:void 0===t.url?n.Xu:t.url,EE:void 0!==t.method?nR(t.method):void 0,iE:t.headers,Vk:t.body,DE:t.useCredentials,zw:void 0!==t.type?iR(t.type):void 0,CE:void 0!==t.subType?rR(t.subType):void 0,PE:void 0!==t.mediaType?eR(t.mediaType):void 0,tE:void 0!==t.responseType?tR(t.responseType):void 0},n)}(n,this.xj),this.QD()},Nt(n,[{key:"Vk",get:function(){return this.xj.Vk}},{key:"vj",get:function(){return this.Cj&&!this._j}},{key:"iE",get:function(){return this.xj.iE}},{key:"EE",get:function(){return this.xj.EE}},{key:"Pj",get:function(){return this.Dj}},{key:"jE",get:function(){return this.QE}},{key:"tE",get:function(){return this.xj.tE}},{key:"xE",get:function(){return this.xj.xE}},{key:"RE",get:function(){return this.xj.RE}},{key:"ep",get:function(){return this.xj.ep}},{key:"zw",get:function(){return this.xj.zw}},{key:"CE",get:function(){return this.xj.CE}},{key:"PE",get:function(){return this.xj.PE}},{key:"Xu",get:function(){return this.xj.Xu}},{key:"DE",get:function(){return this.xj.DE}},{key:"BE",get:function(){return this.xj.BE}},{key:"NE",get:function(){return this.xj.NE}},{key:"LE",get:function(){return this.xj.LE}},{key:"OE",get:function(){return this.xj.OE}}]),n}(uR);var aR=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new cR(n);return(r=t.call(this,e,i)||this).Lj=e,r}It(n,t);var i=n.prototype;return i.Mj=function(t){this.Lj.Mj(t)},i.Bj=function(t){this.Lj.Bj(t)},i.Oj=function(t){this.Lj.Oj(t)},i.Az=function(t){this.Lj.Az(t)},i.Ez=function(t){this.Lj.Ez(t)},n}(El),cR=function(){function t(t){this.Uj=[],this.Gj=[],this.GE=t}var n=t.prototype;return n.eE=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.Fj(t,t.ep)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof Ml?[4,n.Vj(r,t.ep)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.Wj(i,t.ep)];case 6:if(ml(i=e.sent()))return[2,i];throw new Bl(i)}}))}))()},n.FE=function(t){return this.GE.FE(t)},n.Fj=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:kr(n),r=t,u=0,s=i.Uj.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],kr(n),(a=new oR(r,o,!e)).dj)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.uj];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.Pj&&!e?r=a.Pj:a.jE&&!e&&(e=a.jE),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.GE.eE(r)]}}))}))()},n.Vj=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return t instanceof Bl?r=t.jE:(e=t.eE,r=new yl({$k:null,eE:e,tE:e.tE,Jk:0,sE:""})),[4,i.Wj(r,n)];case 1:if((u=s.sent())===r)throw t;if(ml(u))return[2,u];throw new Bl(u)}}))}))()},n.Wj=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.Gj.slice(),c.label=1;case 1:return e<u.length?(s=u[e],kr(n),[4,et.resolve(r.Nb().$k(n))]):[3,8];case 2:if(o=c.sent(),(a=new sR(r,s,o)).dj)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.uj];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.jE||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.Mj=function(t){this.Uj.unshift(t)},n.Bj=function(t){this.Uj.push(t)},n.Oj=function(t){Ji(this.Uj,t)},n.Az=function(t){this.Gj.unshift(t)},n.Ez=function(t){Ji(this.Gj,t)},n.yn=function(){this.GE.yn(),ir(this.Uj),ir(this.Gj)},t}();F(),Tt(),Dt(),Rt();var hR=function(){function t(t){this.WW=t}var n=t.prototype;return n.Mj=function(t){this.WW.Mj(t)},n.Oj=function(t){this.WW.Oj(t)},n.Az=function(t){this.WW.Az(t)},n.Ez=function(t){this.WW.Ez(t)},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{addRequestInterceptor:function(n){t.Mj(n)},removeRequestInterceptor:function(n){t.Oj(n)},addResponseInterceptor:function(n){t.Az(n)},removeResponseInterceptor:function(n){t.Ez(n)}}}(this)),this.eu}}]),t}(),fR=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Kj=n,e.WW=i,e.XH=r,e.jj=function(t){e._o(t)},e.Qj=function(t){e._o(t)},e.Kj.bn(ya.Yy,e.jj),e.Kj.bn(ya.qy,e.Qj),e}It(n,t);var i=n.prototype;return i.Hj=function(t){this.XH.Hj(t)},i.Mj=function(t){this.WW.Mj(t)},i.Oj=function(t){this.WW.Oj(t)},i.Az=function(t){this.WW.Az(t)},i.Ez=function(t){this.WW.Ez(t)},i.yn=function(){this.Ro(),this.Kj.vn(ya.Yy,this.jj),this.Kj.vn(ya.qy,this.Qj)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get online(){return t.jI},get estimator(){return function(t){return{get bandwidth(){return t.jG},get roundTripTime(){return t.QG}}}(t.Zj)},setEstimator:function(n){t.Hj(function(t){if(!t)return;return{get jG(){return Kg(t.bandwidth)},get QG(){return Kg(t.roundTripTime)},JG:function(n){return function(t){if(!t)return;return{Xj:function(n){t.markRequestStart(n)},zj:function(n){t.markResponseStart(n)},qj:function(n,i){t.markResponseData(n,i)},Yj:function(n){t.markResponseEnd(n)}}}(t.createMeasurer($I(n)))}}}(n))},addRequestInterceptor:function(n){t.Mj(n)},removeRequestInterceptor:function(n){t.Oj(n)},addResponseInterceptor:function(n){t.Az(n)},removeResponseInterceptor:function(n){t.Ez(n)},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}(this)),this.eu}},{key:"jI",get:function(){return this.Kj.jI}},{key:"Zj",get:function(){return this.XH.Zj}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var vR=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});F(),Tt();function dR(t,n,i,r,e,u){var s=[],o=t-k.max(u,1),a=t+e;if(n&&i){var c=Di(i,1,5),h=n-c;o=k.min(o,h);var f=n+i+c;a=k.max(a,f)}return 0!==o&&r.IB(0,o)&&s.push([0,o]),r.IB(a,1/0)&&s.push([a,1/0]),s}function lR(t){return t instanceof p&&"QuotaExceededError"===t.name}F(),Tt();var gR={type:vR.BANDWIDTH};function wR(t){var n=Wg(gR);return ti(t)?n.type=mR(t):Qn(t)&&function(t){switch(t){case vR.PERFORMANCE:case vR.QUALITY:case vR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=mR(t.type)),Qn(t)&&Qn(t.metadata)&&(n.metadata=function(t){var n={},i=jg(t.bitrate);return S(i)||(n.bitrate=i),n}(t.metadata)),n}function mR(t){switch(t){case"bandwidth":return vR.BANDWIDTH;case"performance":return vR.PERFORMANCE;case"quality":return vR.QUALITY}}F(),Tt(),Rt();var yR=function(t){function n(n){var i;return(i=t.call(this,"Jj")||this).$j=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var pR=function(t){function n(n){var i;return(i=t.call(this,"tQ")||this).eQ=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var _R=function(t){function n(n){var i;return(i=t.call(this,"iQ")||this).sQ=n,i}return It(n,t),n}(ma),bR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.eQ)},set strategy(n){t.eQ=wR(n)},get targetBuffer(){return t.$j},set targetBuffer(n){var i=jg(n);S(i)||(t.$j=i)},get bufferLookbackWindow(){return t.sQ},set bufferLookbackWindow(n){var i=jg(n);S(i)||(t.sQ=i<=0?30:i)},get maxBufferLength(){return t.dQ},get clearBufferWhenSettingTargetQuality(){return t.vQ},set clearBufferWhenSettingTargetQuality(n){t.vQ=zg(n)}}}(n),n.hQ=gR,n.aQ=20,n.lQ=30,n.cQ=1/0,n.gQ=!1,n.fQ=void 0,n}It(n,t);var i=n.prototype;return i.nQ=function(t){this.rQ=t},i.Hj=function(t){this.fQ=t},i._Q=function(t){var n=k.min(t,.8*this.cQ);if(n=k.max(10,n),this.cQ===n)return!1;var i=this.uQ;this.cQ=n;var r=this.uQ;return r!==i&&this._o(new yR(r)),!0},Nt(n,[{key:"oQ",get:function(){switch(this.hQ.type){case vR.PERFORMANCE:return 0;case vR.QUALITY:return 1/0;case vR.BANDWIDTH:return this.hQ.metadata&&void 0!==this.hQ.metadata.bitrate?this.hQ.metadata.bitrate:Mk.Vm.VG();default:return Mk.Vm.VG()}}},{key:"wa",get:function(){return this.eu}},{key:"eQ",get:function(){return this.hQ},set:function(t){this.hQ=t,this._o(new pR(t))}},{key:"$j",get:function(){return this.aQ},set:function(t){this.aQ=t,this._o(new yR(t))}},{key:"uQ",get:function(){return k.min(this.aQ,this.cQ)}},{key:"sQ",get:function(){return this.lQ},set:function(t){this.lQ=t,this._o(new _R(t))}},{key:"dQ",get:function(){return this.cQ}},{key:"Zj",get:function(){var t;return null!=(t=this.fQ)?t:this.rQ.IZ}},{key:"vQ",get:function(){return this.gQ},set:function(t){this.gQ=t}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var kR=function(t){function n(){return t.call(this,"hC")||this}return It(n,t),n.prototype.ka=function(){return new AR},n}(Ig),AR=function(t){function n(){return t.call(this,"change")||this}return It(n,t),n}(ma);F(),Tt(),F(),Tt(),Rt();var TR=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).pQ=function(t){Rg(t)&&Dr((function(){e._o(t.wa)}))},e.mQ=n,e.Kf=i;for(var u=0,s=e.Kf;u<s.length;u++){var o=s[u];e.mQ.bn(o,e.pQ)}return e}return It(n,t),n.prototype.yn=function(){this.Ro();for(var t=0,n=this.Kf;t<n.length;t++){var i=n[t];this.mQ.vn(i,this.pQ)}},n}(la),SR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).pQ=function(t){Rg(t)&&Dr((function(){r._o(t.wa)}))},r.mQ=n,r.mQ._y(r.pQ),r}return It(n,t),n.prototype.yn=function(){this.Ro(),this.mQ.yy(this.pQ)},n}(wa);var ER=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bF=0,n.TF=1/0,n}It(n,t);var i=n.prototype;return i.nr=function(){0===this.bF&&this.TF===1/0||(this.bF=0,this.TF=1/0,this._o(new kR))},i.wQ=function(){return new FA([this.lF,this.dF],[!0,!0])},Nt(n,[{key:"lF",get:function(){return this.bF},set:function(t){if(this.dF<=t)throw new p("Start time of a clip should be smaller than the end time.");this.bF!==t&&(this.bF=t,this._o(new kR))}},{key:"dF",get:function(){return this.TF},set:function(t){if(t<=this.lF)throw new p("End time of a clip should be larger than the start time.");this.TF!==t&&(this.TF=t,this._o(new kR))}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get startTime(){return t.lF},set startTime(n){t.lF=n},get endTime(){return t.dF},set endTime(n){t.dF=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new SR(t,i),i}(this)),this.eu}}]),n}(wa);F(),Tt(),Mt(),Dt(),Rt(),Wt();var IR=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).AQ=!1,e.CQ=void 0,e.DQ=!1,e.kQ=function(){e.TQ(),e.bQ()},e.Tc=function(){e.EQ(),e.bQ(),e.RQ&&e.RI>=e.yQ.dF-n.NQ&&!e.MI&&(e.CQ=pI(e.Tc))},e.xQ=function(){e.DQ=!0},e.IQ=function(){e.DQ&&(e.DQ=!1,e.bQ())},e.yQ=r,e.yQ.bn("hC",e.kQ),e.bI.bn(ya._b,e.Tc),e}It(n,t);var i=n.prototype;return i.DI=function(n,i){var r=this.yQ.wQ().mB(n);t.prototype.DI.call(this,r,i),this.bQ()},i.LI=function(){return t.prototype.LI.call(this)||this.AQ},i.lR=function(){return FA.Cn(t.prototype.lR.call(this)).jn(this.yQ.wQ()).ks()},i.DR=function(){this.LI()?this.DI(this.SQ.start(0)):this.TQ(),t.prototype.DR.call(this),this.bQ()},i.Ca=function(n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return kr(i),r.AQ=!1,r.yQ.nr(),[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.yn=function(){return this.yQ.vn("hC",this.kQ),this.bI.vn(ya._b,this.Tc),this.EQ(),t.prototype.yn.call(this)},i.GR=function(n){switch(n.type){case ya.ib:return this._o(n),this.xQ(),!0;case ya.eb:case ya.Ny:return this._o(n),this.IQ(),!0;case ya.Ly:if(this.RQ)return!0}return t.prototype.GR.call(this,n)},i.EQ=function(){this.CQ&&(_I(this.CQ),this.CQ=void 0)},i.bQ=function(){var t=this.RI,i=this.RQ&&t>=this.yQ.dF-n.ad;this.AQ&&!i?(this.AQ=!1,this.JI&&this.DR()):this.AQ||!i||this.dR||this.DQ||(this.AQ=!0,this._o(new IT(t)),this.PR())},i.TQ=function(){if(this.ct!==1/0){var t=this.SQ,i=FA.Cn(t).mB(this.RI);xi(this.RI,i,n.ad)||this.DI(i)}},Nt(n,[{key:"SQ",get:function(){return this.lR().length?this.lR():this.yQ.wQ().ks()}},{key:"RQ",get:function(){return this.yQ.dF<this.ct}}]),n}(hA);IR.NQ=1,IR.ad=.001,F(),Tt(),Dt();var RR=function(){function t(){this.LQ=!1}return Nt(t,[{key:"MQ",get:function(){return this.LQ},set:function(t){this.LQ=t}}]),t}();F(),Tt(),Rt();var CR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).OQ=!1,r.BQ=!1,r.LQ=i,r}It(n,t);var i=n.prototype;return i.LI=function(){return!this.LQ.MQ&&t.prototype.LI.call(this)},i.PR=function(){this.BQ=!0,t.prototype.PR.call(this)},i.DR=function(){this.BQ=!1,t.prototype.DR.call(this)},i.GR=function(n){if(this.LQ.MQ)switch(n.type){case ya.Ly:return this.RI=0,this.BQ||(this.dR?this.OQ=!0:this.DR()),!0;case ya.eb:this.OQ&&(this.OQ=!1,this.DR());break;case ya.Ky:if(this.OQ||t.prototype.LI.call(this))return!0}return t.prototype.GR.call(this,n)},n}(hA);F(),Tt(),Dt(),F(),Tt();var NR=function(){function t(t){this.na=t,this.eu=function(t){return{get currentBandwidthEstimate(){return t.ZO},get corruptedVideoFrames(){return t.UO},get droppedVideoFrames(){return t.WO},get totalVideoFrames(){return t.GO},get totalBytesLoaded(){return t.HO},get bufferedSegments(){return t.XO}}}(this)}return Nt(t,[{key:"wa",get:function(){return this.eu}},{key:"UO",get:function(){return this.na.XI.UO}},{key:"ZO",get:function(){return this.na.XI.ZO}},{key:"WO",get:function(){return this.na.XI.WO}},{key:"FQ",get:function(){throw new p("Not implemented")}},{key:"VQ",get:function(){throw new p("Not implemented")}},{key:"HO",get:function(){return this.na.XI.HO}},{key:"GO",get:function(){return this.na.XI.GO}},{key:"XO",get:function(){return this.na.XI.XO}}]),t}();function DR(t){if(!t||!Vr(t))return{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{WO:n.droppedVideoFrames,UO:n.corruptedVideoFrames||0,GO:n.totalVideoFrames}}return{WO:t.webkitDroppedFrameCount||0,UO:0,GO:t.webkitDecodedFrameCount||0}}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var xR=function(t){function n(){return t.call(this,"WQ")||this}return It(n,t),n.prototype.ka=function(){return new PR},n}(Ig),PR=function(t){function n(){return t.call(this,"castingchange")||this}return It(n,t),n}(ma);F(),Tt();var LR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).GQ=void 0,n.ZQ=void 0,n.QQ=!1,n.eu=void 0,n.KQ=function(){var t=n.QQ,i=n.UQ;t!==i&&(n.QQ=i,n._o(new xR))},n}It(n,t);var i=n.prototype;return i.zQ=function(t){this.GQ=t,this.qQ(t)},i.YQ=function(t){this.ZQ=t,this.qQ(t)},i.qQ=function(t){t.bn("statechange",this.KQ)},i.jQ=function(t){t.vn("statechange",this.KQ)},i.yn=function(){this.Ro(),this.GQ&&(this.jQ(this.GQ),this.GQ=void 0),this.ZQ&&(this.jQ(this.ZQ),this.ZQ=void 0)},Nt(n,[{key:"UQ",get:function(){var t,n;return(null==(t=this.GQ)?void 0:t.UQ)||(null==(n=this.ZQ)?void 0:n.UQ)||!1}},{key:"HQ",get:function(){return this.GQ}},{key:"XQ",get:function(){return this.ZQ}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get casting(){return t.UQ},get airplay(){var n;return null==(n=t.HQ)?void 0:n.wa},get chromecast(){var n;return null==(n=t.XQ)?void 0:n.wa},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new TR(t,["WQ"],i),i}(this)),this.eu}}]),n}(la);F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Wt();var MR=function(){function t(){}return t.JQ=function(t,n){return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new Tl({Xu:t,tE:Fd.Rk,EE:pl.GET}),[4,n.eE(i)];case 1:return[4,r.sent().$k()];case 2:return[2,r.sent().trim()];case 3:return br(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.$Q=function(t){try{var n=BE(t);return new ZE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new ld(vd.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.tJ=function(t){void 0===t&&(t=TE.mh),Kn.aw("The baked-in license is used. Please update the configuration with your license.");var n=t.Tq("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.Tq(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.Tq(n)})),e=Number(new Date(Number(t.Tq('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.Tq(n)}));return new ZE(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new ZE(t.Dq,t.Nq,t.Mq,864e13,t.Bq,t.Oq,Date.now(),t.Vq,t.Wq)},t}(),OR="https://validate.theoplayer.com/1/",BR=72e5,VR=k.floor(14399999*k.random()-BR),FR="THEOplayer.license",UR=function(){function t(t,n,i,r,e,u){this.WW=t,this.aJ=n,this.fJ=i,this.RY=r,this.rJ=e,this.PA=u,this.iY=$E(u)}var n=t.prototype;return n.sJ=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,t.nJ(t.rJ.license,t.rJ.licenseUrl)];case 1:return n=i.sent(),t.RY.oJ(n),[2]}}))}))()},n.nJ=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:return r=n,t?e=MR.$Q(t):r||(e=MR.tJ()),r||(r=OR+e.Dq),u=i.hJ(),e?(s=i.aJ.jq(e))!==WE.Rq?[3,3]:i.uJ(e.Lq)&&i.uJ(null==u?void 0:u.Lq)?[4,i.cJ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.aJ.jq(u)!==WE.Rq?[3,6]:i.uJ(null==u?void 0:u.Lq)?[4,i.cJ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:sA.Gb(FR),f.label=7;case 7:return[4,MR.JQ(r,i.WW)];case 8:if(c=f.sent()){if(h=MR.$Q(c),i.aJ.jq(h)===WE.Rq)return sA.Wb(FR,c),[2,h];sA.Gb(FR)}else if(!i.iY&&e&&s===WE.Cq&&r===OR+e.Dq)return[2,MR.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new ld(vd.LICENSE_ERROR,"The given license is invalid!");return i.lJ(null!=e?e:h,new ld(vd.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.Hq=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return[4,n.RY.IY()];case 1:return i=c.sent(),n.uJ(i.Lq)?(e=null!=(r=n.rJ.licenseUrl)?r:OR+i.Dq,[4,n.cJ(e)]):[3,3];case 2:(u=c.sent())&&(n.RY.oJ(u),i=u),c.label=3;case 3:try{if((s=n.aJ.jq(i))===WE.Pq)throw o=XE.Uq,new ld(zE(o),tI.Yq(o));if(s===WE.Cq)throw a=XE.Cq,new ld(zE(a),tI.Yq(a));n.aJ.Hq(t,i)}catch(t){n.dJ(t)}return[2]}}))}))()},n.Kq=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.RY.IY()];case 1:i=r.sent();try{n.aJ.Kq(t,i)}catch(t){n.dJ(t)}return[2]}}))}))()},n.cJ=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,MR.JQ(t,n.WW)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=MR.$Q(i),n.aJ.jq(r)===WE.Rq?(sA.Wb(FR,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.uJ=function(t){return!t||Number(new Date)+2592e5+VR>=t},n.hJ=function(){var t=sA.Vb(FR);if(t)return MR.$Q(t)},n.lJ=function(t,n){this.RY.oJ(t),this.dJ(n)},n.dJ=function(t){throw nu(t.message),this.fJ.DY(t.message),t},t}();F(),Tt(),Mt(),Dt(),Wt();var WR=function(){function t(){this.vJ=new ih}var n=t.prototype;return n.oJ=function(t){this._J=t,this.vJ.Zb()},n.IY=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t._J?[2,et.resolve(t._J)]:[4,t.vJ.Xb];case 1:return n.sent(),[2,t._J]}}))}))()},Nt(t,[{key:"gJ",get:function(){return this._J}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var ZR=function(t){function n(){return t.call(this,"hC")||this}return It(n,t),n.prototype.ka=function(){return new XR},n}(Ig),XR=function(t){function n(){return t.call(this,"change")||this}return It(n,t),n}(ma);function GR(t){var n,i={get fontFamily(){return t.mJ},set fontFamily(n){t.mJ=n},get fontColor(){return t.pJ},set fontColor(n){t.pJ=n},get fontSize(){return t.wJ},set fontSize(n){t.wJ=n},get backgroundColor(){return t.yJ},set backgroundColor(n){t.yJ=n},get windowColor(){return t.bJ},set windowColor(n){t.bJ=n},get edgeStyle(){return t.AJ},set edgeStyle(n){t.AJ=n},get marginTop(){return t.SJ},set marginTop(n){t.SJ=n},get marginBottom(){return t.TJ},set marginBottom(n){t.TJ=n},get marginLeft(){return t.kJ},set marginLeft(n){t.kJ=n},get marginRight(){return t.EJ},set marginRight(n){t.EJ=n},addEventListener:function(t,i){var r=Qg(t,qg);n.bn(r,i)},removeEventListener:function(t,i){var r=Qg(t,qg);n.vn(r,i)}};return n=new ga(i),t.bn(["hC"],(function(t){return n._o(t.wa)})),i}F(),Tt();var HR={mJ:void 0,pJ:void 0,wJ:void 0,yJ:void 0,bJ:void 0,AJ:void 0,SJ:void 0,TJ:void 0,kJ:void 0,EJ:void 0},zR="THEOplayer.textTrackStyle.",YR=function(t){function n(){var i;return(i=t.call(this)||this).eu=void 0,i.IJ=n.CJ(),i}return It(n,t),n.prototype.ir=function(t){this.IJ=ao({},this.IJ,t),n.RJ(this.IJ),this._o(new ZR)},n.CJ=function(){var t=ao({},HR);return t.mJ=sA.Vb(zR+"fontFamily")||t.mJ,t.pJ=sA.Vb(zR+"fontColor")||t.pJ,t.wJ=sA.Vb(zR+"fontSize")||t.wJ,t.yJ=sA.Vb(zR+"backgroundColor")||t.yJ,t.bJ=sA.Vb(zR+"windowColor")||t.bJ,t.AJ=sA.Vb(zR+"edgeStyle")||t.AJ,t},n.RJ=function(t){sA.Wb(zR+"fontFamily",t.mJ||""),sA.Wb(zR+"fontColor",t.pJ||""),sA.Wb(zR+"fontSize",t.wJ||""),sA.Wb(zR+"backgroundColor",t.yJ||""),sA.Wb(zR+"windowColor",t.bJ||""),sA.Wb(zR+"edgeStyle",t.AJ||"")},Nt(n,[{key:"xJ",get:function(){return this.IJ}},{key:"mJ",get:function(){return this.IJ.mJ},set:function(t){this.ir({mJ:t})}},{key:"pJ",get:function(){return this.IJ.pJ},set:function(t){this.ir({pJ:t})}},{key:"wJ",get:function(){return this.IJ.wJ},set:function(t){this.ir({wJ:t})}},{key:"yJ",get:function(){return this.IJ.yJ},set:function(t){this.ir({yJ:t})}},{key:"bJ",get:function(){return this.IJ.bJ},set:function(t){this.ir({bJ:t})}},{key:"AJ",get:function(){return this.IJ.AJ},set:function(t){this.ir({AJ:t})}},{key:"SJ",get:function(){return this.IJ.SJ},set:function(t){this.ir({SJ:t})}},{key:"TJ",get:function(){return this.IJ.TJ},set:function(t){this.ir({TJ:t})}},{key:"EJ",get:function(){return this.IJ.EJ},set:function(t){this.ir({EJ:t})}},{key:"kJ",get:function(){return this.IJ.kJ},set:function(t){this.ir({kJ:t})}},{key:"wa",get:function(){return this.eu||(this.eu=GR(this)),this.eu}}]),n}(la);function jR(t,n){var i,r;t.style.marginLeft=(null!=(i=n.kJ)?i:0)+"px",t.style.marginRight=(null!=(r=n.EJ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}F(),Tt(),Mt(),Dt(),qt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var KR=[ya.ho,ya.Ky,Np.uB,ya._b,ya.jy,ya.Hy,ya.ib,ya.eb,ya.Ly,ya.Qy,ya.vb,ya.Dy,Np.aC,ya.$y,Qy.fa,Sa.My,Sa.Rb,ya.Ry,ya.Iy,ya.gb,ya.pb,ya.LICENSE_REQUEST_GENERATED,ya.Wy,ya.Gy,ya.Fy,ya.By],qR={_O:!1};function JR(t){return void 0!==t.vR}function QR(t){return t.kd.zw===Cp.qW}F(),Tt();var $R=function(t){return t.PJ="DJ",t}({}),tC=["DJ"],nC=function(t){return t[t.NJ=0]="NJ",t[t.Ik=1]="Ik",t[t.MJ=2]="MJ",t}({});F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var iC=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],rC=function(t){return t.LJ="BJ",t.OJ="FJ",t.VJ="WJ",t}({}),eC=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).$J=!1,u.t$=new ih,u.HJ=!1,u.Yo=new kd,u.fT=void 0,u.YJ=function(){u.HJ=!0},u.KJ=function(){u.JJ(!0)},u.FT=n,u.aO=i,u.hk=i.SZ,u.zJ=r,u.ey=e,u.hk.addEventListener("loadedmetadata",u.YJ);for(var s=0;s<iC.length;s++){var o=iC[s];u.hk.addEventListener(o,u.KJ)}return u}It(n,t);var i=n.prototype;return i.UJ=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,i.ey.$w(t.qw,n)];case 1:return[4,e.sent().pT()];case 2:return r=e.sent(),[4,i.GJ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.ZJ=function(t){var n=this,i=this.fT;return i?0!==t.CZ.length&&t.CZ.some((function(t){return t._T.qw===i._T})):0!==this.FT.CZ.length?t.CZ.some((function(t){return n.FT.CZ.some((function(n){return t._T===n._T}))})):0===t.CZ.length||!this.HJ},i.XJ=function(t){return this.zJ.XJ(t),this.FT=t,et.resolve()},i.qJ=function(t){this.zJ.qJ(t)},i.Km=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:for(t.Ro(),t.hk.removeEventListener("loadedmetadata",t.YJ),n=0;n<iC.length;n++)i=iC[n],t.hk.removeEventListener(i,t.KJ);return[4,t.Yo.yn()];case 1:return r.sent(),t.jJ(),[4,t.zJ.nr()];case 2:return r.sent(),[4,t.QJ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.JJ=function(t){t!==this.$J&&(this.$J=t,t?this.t$.Zb(void 0):this.t$=new ih)},i.GJ=function(t){var n=this;return this.Yo.Qo((function(){return n.QJ(t)}))},i.QJ=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(t&&!n.hk.src&&!n.hk.srcObject)throw new hw(vd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.hk.src||n.hk.srcObject))throw new hw(vd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.$J?[3,2]:[4,n.t$.Xb];case 1:r.sent(),r.label=2;case 2:return(i=n.fT)?[4,i.gT(n.hk)]:[3,4];case 3:r.sent(),n.fT=void 0,r.label=4;case 4:return t?[4,t.kn(n.hk)]:[3,6];case 5:r.sent(),n.fT=t,r.label=6;case 6:return[2]}}))}))()},i.Ca=function(t){var n=this;return this.Yo.Qo((function(){return n.e$(t)}))},i.e$=function(t){this.JJ(!1);var n=this.aO.tR;if(ti(t))this.hk.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&t instanceof f.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Gn.su&&Gn.nm>=17}(this.hk))try{this.hk.srcObject=t}catch(n){this.hk.src=URL.createObjectURL(t)}else this.hk.src=URL.createObjectURL(t);else uC(t)&&(this.hk.srcObject=t);this.aO.tR=n},i.i$=function(t){var n=this;return this.Yo.Qo((function(){return n.s$(t)}))},i.s$=function(t){this.e$(t),this.hk.load()},i.jJ=function(){this.JJ(!1),Fr(this.hk)},i.n$=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.fT?[4,t.fT.nr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},Nt(n,[{key:"kd",get:function(){return this.FT}},{key:"SZ",get:function(){return this.hk}}]),n}(la);function uC(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var sC=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.nQ=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:switch((n=t.kd).DZ){case kA.$C:case kA.tP:t.hk.setAttribute("crossorigin",n.DZ);break;case kA.SE:default:t.hk.removeAttribute("crossorigin")}return void 0!==n.rR?t.hk.preload=n.rR:t.hk.preload=cS.KG,void 0!==n.NZ?t.hk.title=n.NZ:yi(t.hk),n.a$?[4,t.i$(n.a$)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Ca(n.zC)];case 3:i.sent(),i.label=4;case 4:return t.zJ.$n(t,n),[2]}}))}))()},i.ZJ=function(t){return!1},i.XJ=function(t){return et.resolve(void 0)},i.u$=function(t){return!1},i.c$=function(){return!uC(this.FT.a$)},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return yi(n.hk),[4,t.prototype.Km.call(n)];case 1:return i.sent(),[2]}}))}))()},n.l$=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Fk))},Nt(n,[{key:"SI",get:function(){return FA.Cn(this.hk.buffered)}},{key:"ct",get:function(){return this.hk.duration}},{key:"r$",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.SI;return 0!==n.V&&t-n.Tn(n.V-1)<Se}},{key:"rR",get:function(){return this.hk.preload},set:function(t){this.hk.preload=t}},{key:"cR",get:function(){return FA.Cn(this.hk.seekable)}},{key:"o$",get:function(){return this.SI}},{key:"h$",get:function(){if(Vr(this.hk)&&(this.hk.videoWidth>0||this.hk.videoHeight>0))return this.SI}}]),n}(eC);F(),Tt(),Rt();var oC=function(t){function n(n){var i;return(i=t.call(this,ya.jy)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var aC=function(t){function n(){return t.call(this,ya.Hy)||this}return It(n,t),n}(ma);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var cC=function(t){return t.d$="f$",t}({}),hC=function(t){function n(n){var i;return(i=t.call(this,"f$")||this)._$=n,i}return It(n,t),n}(ma),fC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).g$=FA.WB(),n}It(n,t);var i=n.prototype;return i.m$=function(t,n){var i=new FA([t,n]);this.g$=this.g$.AB(i),this._o(new hC(i))},i.p$=function(t,n){this.g$=this.g$.TB(new FA([t,n]))},i.nr=function(){this.g$=FA.WB()},i.yn=function(){this.Ro()},Nt(n,[{key:"v$",get:function(){return this.g$}}]),n}(la);function vC(t,n){return void 0===n&&(n=new Kd({highWaterMark:1/0})),new Yd(new dC(t,n),{highWaterMark:0})}F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var dC=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Kd=[],this.Qd=0,this.vJ=void 0,this.A$=!1,this.T$=void 0,this.k$=function(t){return t.done?(i.b$(),void i.vJ.close()):(i.Kd.push(t.value),i.Qd+=i.E$(t.value),i.A$&&i.b$(),i.w$()?i.Od.read().then(i.k$):void 0)},this.Ax=function(t){i.b$(),i.vJ.error(t)},this.Od=t.getReader(),this.E$=e,this.S$=s}var n=t.prototype;return n.start=function(t){this.vJ=t,this.w$()&&this.y$()},n.pull=function(){this.Kd.length>0?this.b$():this.A$=!0,this.w$()&&this.y$()},n.cancel=function(t){return ir(this.Kd),this.Qd=0,this.A$=!1,this.Od.cancel(t)},n.b$=function(){if(0!==this.Kd.length){var t=this.Kd;this.Kd=[],this.Qd=0,this.A$=!1,this.vJ.enqueue(t)}},n.w$=function(){return!!this.A$||this.S$-this.Qd>0},n.y$=function(){var t=this;if(!this.T$){var n=this.Od.read().then(this.k$).catch(this.Ax);this.T$=n;var i=function(){t.T$===n&&(t.T$=void 0)};n.then(i,i)}},t}();F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var lC=function(){function t(){this.I$=[],this.Ob=0}var n=t.prototype;return n.x$=function(t){this.I$.push(t),this.Ob+=t.byteLength},n.R$=function(t){if(this.Ob<=t)return this.C$();for(var n=this.I$,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(Dc(n[r],0,u)),i+=u}return{I$:e,Ob:i}},n.P$=function(t){var n=this.R$(t);return 1===n.I$.length?n.I$[0]:Kc(n.I$,n.Ob)},n.C$=function(){return{I$:this.I$,Ob:this.Ob}},n.D$=function(t){if(this.Ob<=t)return this.N$();for(var n=this.I$,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(Dc(n[0],0,u)),n[0]=Dc(n[0],u),i+=u}return this.Ob-=i,{I$:e,Ob:i}},n.M$=function(t){var n=this.D$(t);return 1===n.I$.length?n.I$[0]:Kc(n.I$,n.Ob)},n.N$=function(){var t=this.C$();return this.I$=[],this.Ob=0,t},n.L$=function(){var t=1===this.I$.length?this.I$[0]:Kc(this.I$,this.Ob);return this.I$=[],this.Ob=0,t},t}(),gC=function(){function t(){this.Kd=new lC,this.Fa=0,this.G$=0,this.Q$=0,this.z$()}var n=t.prototype;return n.B$=function(t,n){},n.O$=function(){},n.F$=function(t){this.Kd.x$(t),this.V$(!1)},n.W$=function(){this.V$(!0)},n.U$=function(){return 0!==this.Fa||0!==this.Kd.Ob},n.V$=function(t){for(;0!==this.Kd.Ob;){if(!t&&this.G$>this.Kd.Ob)return;switch(this.Fa){case 0:this.Z$(t);break;case 1:this.H$(t);break;case 2:this.X$(t)}}},n.z$=function(){this.Fa=0,this.G$=8},n.Z$=function(t){var n=Pc(this.Kd.P$(this.G$)),i=new Uc,r=ky.iN(n,i);if(!r.QD)return this.G$=r.nN,void(t&&this.G$>this.Kd.Ob&&this.q$(this.Kd.Ob));var e=r.sN.zw,u=r.sN.Ob;0===u&&(u=1/0),this.B$(e,u),this.Y$(e)?this.K$(u):this.q$(u)},n.K$=function(t){this.Fa=1,this.G$=t},n.H$=function(t){var n=Pc(this.Kd.M$(this.G$)),i=new Uc,r=ky.JD(n,i,!t);if(!r.QD)throw new by(i.nc);this.O$(),this.j$(r.$D),this.z$()},n.q$=function(t){this.Fa=2,this.G$=0,this.Q$=t},n.X$=function(t){var n=this.Kd.D$(this.Q$);this.Q$-=n.Ob;for(var i=0,r=n.I$;i<r.length;i++){var e=r[i];this.J$(e)}(0===this.Q$||t&&this.Q$===1/0)&&(this.O$(),this.z$())},t}();function wC(t){return t instanceof ev}function mC(t){return t instanceof iv}function yC(t){return t instanceof Qf||t instanceof $f}function pC(t){return t instanceof Af}function _C(t){return t instanceof Qh}function bC(t){return t instanceof Hf}function kC(t){return t instanceof Xf}function AC(t){return t instanceof wv}function TC(t){return t instanceof lv}function SC(t){return t instanceof hv}function EC(t){return t instanceof vv}function IC(t,n){var i=Hi(t.boxes,SC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof vv&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}F(),Tt();var RC=function(t){function n(n){var i;return(i=t.call(this)||this).h0=fo(),i.d0=n,i}It(n,t);var i=n.prototype;return i.start=function(t){this.vJ=t},i.transform=function(t){this.F$(t)},i.flush=function(){this.W$()},i.Y$=function(t){return t===ly.kP||t===ly.gD||t===ly.xD},i.j$=function(t){var n=this.t0(t);this.vJ.enqueue(n)},i.J$=function(t){this.vJ.enqueue(t)},i.t0=function(t){var n=Lc(t.$k.$k);switch(t.zw){case"moov":return this.e0(n);case"sidx":return this.i0(n);case"moof":return this.s0(n)}return n},i.o0=function(t){var n=this.h0.get(t);if(void 0===n)throw new p("Expected to have found a media header timescale for track ID "+t+".");return n},i.e0=function(t){for(var n=Lv(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof jf?n.boxes[i]=this.a0(r):r instanceof Kf?n.boxes[i]=this.u0(r):r instanceof iv&&this.c0(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof Hf&&this.l0(s)}return n.serialize().join()},i.a0=function(t){this.r0=t.timescale;var n=DC(pe.fromNumber(t.duration,!0),this.n0,this.d0);return 0!==n.getHighBits()?this.u0(function(t){return new Kf({creation:pe.fromNumber(t.creationTime,!0),modification:pe.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:pe.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.d0,t.duration=n.toInt(),t)},i.u0=function(t){return this.r0=t.timescale,t.timescale=this.d0,t.duration=DC(t.duration,this.n0,this.d0),t},i.c0=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Qf?(n=r.trackId,t.boxes[i]=this.f0(r)):r instanceof $f?(n=r.trackId,t.boxes[i]=this._0(r)):r instanceof Af?this.v0(r,n):r instanceof vf&&this.g0(r)}},i.f0=function(t){var n=DC(pe.fromNumber(t.duration,!0),this.n0,this.d0);return 0!==n.getHighBits()?this._0(function(t){return new $f({creation:pe.fromNumber(t.creationTime,!0),modification:pe.fromNumber(t.modificationTime,!0),duration:pe.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i._0=function(t){return t.duration=DC(t.duration,this.n0,this.d0),t},i.v0=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof pf?t.boxes[i]=this.m0(r,n):r instanceof _f&&(t.boxes[i]=this.p0(r,n))}},i.m0=function(t,n){this.h0.set(n,t.timescale);var i=DC(pe.fromNumber(t.duration,!0),t.timescale,this.d0);return 0!==i.getHighBits()?this.p0(function(t){return new _f({creation:pe.fromNumber(t.creationTime,!0),modification:pe.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:pe.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.d0,t.duration=i.toInt(),t)},i.p0=function(t,n){return this.h0.set(n,t.timescale),t.timescale=this.d0,t.duration=DC(t.duration,t.timescale,this.d0),t},i.g0=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof cf?this.w0(r):r instanceof hf&&this.y0(r)}},i.w0=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=NC(r.mediaTime,this.n0,this.d0),r.segmentDuration=NC(r.segmentDuration,this.n0,this.d0)}},i.y0=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=DC(r.mediaTime,this.n0,this.d0),r.segmentDuration=DC(r.segmentDuration,this.n0,this.d0)}},i.l0=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Xf?this.b0(i):i instanceof Uf?t.boxes[n]=this.A0(i):i instanceof Wf&&(t.boxes[n]=this.S0(i))}},i.b0=function(t){var n=this.o0(t.trackId);t.defaultSampleDuration=NC(t.defaultSampleDuration,n,this.d0)},i.A0=function(t){var n=DC(pe.fromNumber(t.fragmentDuration,!0),this.n0,this.d0);return 0!==n.getHighBits()?this.S0(function(t){return new Wf(pe.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.S0=function(t){return t.fragmentDuration=DC(t.fragmentDuration,this.n0,this.d0),t},i.i0=function(t){var n=Mv(t);return(n=n instanceof kv?this.T0(n):this.k0(n)).serialize().join()},i.T0=function(t){var n=t.timescale,i=DC(pe.fromNumber(t.earliestPresentationTime,!0),n,this.d0);if(0!==i.getHighBits())return this.k0(function(t){return new Av(t.referenceId,t.timescale,pe.fromNumber(t.earliestPresentationTime,!0),pe.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.d0,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=NC(u.subsegmentDuration,n,this.d0)}return t},i.k0=function(t){var n=t.timescale;t.timescale=this.d0,t.earliestPresentationTime=DC(t.earliestPresentationTime,n,this.d0);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=NC(e.subsegmentDuration,n,this.d0)}return t},i.s0=function(t){for(var n=Ov(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof lv&&this.E0(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof lv&&IC(h,o)}return n.serialize().join()},i.E0=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof hv?(n=this.o0(r.trackId),this.x0(r,n)):r instanceof ov?t.boxes[i]=this.I0(r,n):r instanceof av?t.boxes[i]=this.R0(r,n):r instanceof vv&&this.C0(r,n)}},i.x0=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=NC(t.defaultSampleDuration,n,this.d0))},i.I0=function(t,n){var i=DC(pe.fromNumber(t.baseMediaDecodeTime,!0),n,this.d0);return 0!==i.getHighBits()?this.R0(function(t){return new av(pe.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.R0=function(t,n){return t.baseMediaDecodeTime=DC(t.baseMediaDecodeTime,n,this.d0),t},i.C0=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=NC(r+=s.duration,n,this.d0);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=CC(s.compositionTimeOffset,n,this.d0))}},Nt(n,[{key:"n0",get:function(){if(void 0===this.r0)throw new p("Expected to have found a movie header timescale.");return this.r0}}]),n}(gC);function CC(t,n,i){return pe.fromInt(t,!1).multiply(i).divide(n).toNumber()}function NC(t,n,i){return pe.fromInt(t,!0).multiply(i).divide(n).toNumber()}function DC(t,n,i){return mm.eV(t).kV(mm.iV(i,!0)).CV(mm.iV(n,!0))._V()}var xC=function(){function t(t){this.D0=new RC(t)}return t.prototype.P0=function(t){return t.pipeThrough(new jd(this.D0))},t}();F(),Tt(),F(),Tt();var PC=function(t){return t[t.N0=64]="N0",t[t.M0=103]="M0",t[t.L0=107]="L0",t}({});function LC(t,n,i){var r=Qa(t,n);if(r!==i)throw new _("Expected descriptor with tag "+i+", but found "+r)}function MC(t,n){LC(t,n,3);var i,r,e,u=OC(t,n),s=n.nc+u,o=uc(t,n),a=Qa(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=uc(t,n)),c)&&(r=vc(t,n,Qa(t,n)));h&&(e=vc(t,n,2));var v=function(t,n){LC(t,n,4);var i,r=OC(t,n),e=n.nc+r,u=Qa(t,n),s=Qa(t,n),o=s>>2,a=0!=(2&s),c=rc(t,n,3),h=oc(t,n),f=oc(t,n);if(n.nc<e){var v=function(t,n){return t.getUint8(n.nc)}(t,n);5===v&&(i=function(t,n){LC(t,n,5);var i=OC(t,n),r=tc(t,n,i);return{B0:5,O0:r}}(t,n))}return n.Db(e),{B0:4,F0:u,V0:o,W0:a,U0:c,G0:h,Z0:f,H0:i}}(t,n);return n.Db(s),{B0:3,o:o,X0:i,Xu:r,z0:f,q0:e,Y0:v}}function OC(t,n){for(var i=0,r=0;r<4;r++){var e=Qa(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function BC(t,n){for(var i=Qa(t,n),r=Qa(t,n),e=Qa(t,n),u=Qa(t,n),s=3&Qa(t,n),o=31&Qa(t,n),a=[],c=0;c<o;c++){var h=uc(t,n);a.push(tc(t,n,h))}for(var f=Qa(t,n),v=[],d=0;d<f;d++){var l=uc(t,n);v.push(tc(t,n,l))}return{K0:i,j0:r,Q0:e,J0:u,$0:s,t1:a,e1:v}}function VC(t,n,i){if(!(i&&n.byte>=i)){var r=t.Vb(n.byte);return n.byte+=1,r}}function FC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+VC(t,n);return r}(t,n,2)}F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt();var UC=function(){function t(){this.n1=0,this.s1=[],this.pW={}}var n=t.prototype;return n.i1=function(t){this.s1=this.s1.concat(t.s1),this.n1+=t.V},n.o1=function(t,n,i){var r=this.n1,e=i-n;e>0&&(this.s1.push({h1:n,a1:i,u1:e,c1:r,l1:t}),this.n1+=e)},n.Vb=function(t){for(var n=0,i=this.s1;n<i.length;n++){var r=i[n];if(r.c1<=t&&t<r.c1+r.u1)return r.l1[t+r.h1-r.c1]}},n.d1=function(t,n){for(var i=n,r=0,e=this.s1;r<e.length;r++)for(var u=e[r],s=u.a1,o=u.h1;o<s;o+=1,i+=1)t[i]=u.l1[o];return i},n._1=function(){for(var t=new E(this.n1),n=0,i=0,r=this.s1;i<r.length;i++)for(var e=r[i],u=e.a1,s=e.h1;s<u;s+=1,n+=1)t[n]=e.l1[s];return t},n.Nb=function(n){for(var i=new t,r=0,e=this.s1;r<e.length;r++){var u=e[r];i.o1(u.l1,u.h1,u.a1)}return i.pW=n||ao({},this.pW),i},Nt(t,[{key:"V",get:function(){return this.n1},set:function(t){var n=this.s1,i=this.n1-t;if(!(t>=this.n1))if(this.n1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.u1)return e.a1-=i,e.u1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.u1}else n.length=0}},{key:"$k",get:function(){for(var t=new Array(this.n1),n=0,i=0,r=this.s1;i<r.length;i++)for(var e=r[i],u=e.a1,s=e.h1;s<u;s+=1,n+=1)t[n]=e.l1[s];return t}}]),t}();F(),Tt();var WC=[128,64,32,16,8,4,2,1];function ZC(t,n){var i=k.floor(n.bit/8),r=0==(t.Vb(i)&WC[n.bit%8])?0:1;return n.bit+=1,r}function XC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+ZC(t,n);return r}function GC(t,n){for(var i=0;0===ZC(t,n)&&i<32;)i+=1;return XC(t,n,i)+k.pow(2,i)-1}function HC(t,n){var i=GC(t,n);return 1&i?k.floor((i+1)/2):-k.floor(i/2)}function zC(t,n){var i,r=[],e={byte:1};do{r.push(jC(t,n,e)),i=n.Vb(e.byte)}while(void 0!==i&&128!==i);return r}function YC(t,n){var i,r=0;do{r+=i=VC(t,n)}while(255===i);return r}function jC(t,n,i){var r=YC(n,i),e=YC(n,i),u=i.byte,s=u+e;return i.byte=s,{v1:t,g1:r,m1:e,w1:u,b1:s,A1:n}}var KC=function(t){return t[t.S1=1]="S1",t[t.T1=2]="T1",t[t.E1=3]="E1",t[t.I1=4]="I1",t[t.R1=5]="R1",t[t.C1=6]="C1",t[t.P1=7]="P1",t[t.D1=8]="D1",t[t.N1=9]="N1",t}({}),qC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function JC(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+HC(t,n)+256)%256;r=0===e?r:e}}var QC=function(){function t(t){this.L1=[],this.B1=0,this.O1=t}var n=t.prototype;return n.M1=function(){for(var t=this.L1,n=k.max(0,this.B1+t.length-2),i=this.O1,r=i.V,e=0;n<r;n+=1){var u=i.Vb(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.B1=n-t.length},n.F1=function(t){for(var n=this.L1,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.Vb=function(t){if(!(t>this.O1.V))return t>this.B1&&this.M1(),this.O1.Vb(this.F1(t))},t}();function $C(t){var n,i,r,e,u,s,o=new QC(t),a=0,c=0,h=0,f=0,v=o.Vb(1),d={bit:32};if(GC(o,d),100===v||110===v||122===v||144===v){var l=GC(o,d);if(3===l&&(n=ZC(o,d)),GC(o,d),GC(o,d),ZC(o,d),1===ZC(o,d))for(var g=0;g<(3!==l?8:12);g+=1){1===ZC(o,d)&&JC(o,d,g<6?16:64)}}var w=GC(o,d),m=GC(o,d);if(0===m)GC(o,d);else if(1===m){ZC(o,d),HC(o,d),HC(o,d);for(var y=GC(o,d),p=0;p<y;p+=1)HC(o,d)}GC(o,d),ZC(o,d);var _=GC(o,d),b=GC(o,d),A=ZC(o,d);if(0===A&&ZC(o,d),ZC(o,d),1===ZC(o,d)&&(a=GC(o,d),c=GC(o,d),h=GC(o,d),f=GC(o,d)),1===ZC(o,d)){if(1===ZC(o,d)){var T=XC(o,d,8);if(255===T)i=XC(o,d,16),r=XC(o,d,16);else{var S=qC[T];S&&(i=S[0],r=S[1])}}if(1===ZC(o,d)&&ZC(o,d),1===ZC(o,d))XC(o,d,3),ZC(o,d),1===ZC(o,d)&&(XC(o,d,8),XC(o,d,8),XC(o,d,8));1===ZC(o,d)&&(GC(o,d),GC(o,d)),1===(e=ZC(o,d))&&(u=XC(o,d,32),s=XC(o,d,32),ZC(o,d))}return{width:k.floor(16*(_+1)-2*a-2*c),height:k.floor((2-A)*(b+1)*16-2*h-2*f),vL:i,gL:r,V1:e?s/(2*u):void 0,W1:n,U1:w}}function tN(t){var n=_y(Iy.cN(t),ly.kP);if(n){for(var i=n.sN.RN,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.sN.VN,a=s.LN.sN.RN,c=void 0,h=void 0,f=void 0,v=0,d=s.LN.zN.KN.QN.$N;v<d.length;v++){var l,g,w,m=nN(d[v]);if(m)c=null!=(l=m.G1)?l:c,h=null!=(g=m.Z1)?g:h,f=null!=(w=m.H1)?w:f}r.push({VN:o,RN:a,G1:c,Z1:h,H1:f})}return{RN:i,Z:r}}}function nN(t){var n,i,r;if(t.zw===ly.FP){var e,u=BC(Pc(t.NM.$k),new Uc);n=function(t){return"avc1."+iN(t.j0,2)+iN(t.Q0,2)+iN(t.J0,2)}(u),r=null==(e=function(t){if(0===t.t1.length)return;var n=t.t1[0],i=new UC;return i.o1(n,0,n.byteLength),$C(i)}(u))?void 0:e.V1}else if(t.zw===ly.WP||t.zw===ly.UP){var s=function(t,n){for(var i=n.Bb(),r=Fa(t,i,8),e=Fa(t,i,2),u=Fa(t,i,1),s=Fa(t,i,5),o=Fa(t,i,32),a=[],c=0;c<6;c++)a.push(Fa(t,i,8));var h=Fa(t,i,8);i.Pb(4);var f=Fa(t,i,12);i.Pb(6);var v=Fa(t,i,2);i.Pb(6);var d=Fa(t,i,2);i.Pb(5);var l=Fa(t,i,3);i.Pb(5);for(var g=Fa(t,i,3),w=Fa(t,i,16),m=Fa(t,i,2),y=Fa(t,i,3),p=Fa(t,i,1),_=Fa(t,i,2),b=Fa(t,i,8),k=[],A=0;A<b;A++){var T=Fa(t,i,1);i.Pb(1);for(var S=Fa(t,i,6),E=Fa(t,i,16),I=[],R=0;R<E;R++){var C=Fa(t,i,16),N=tc(t,new Uc(i.nc>>3),C);i.Pb(8*C),I.push({X1:C,z1:N})}k.push({q1:T,Y1:S,K1:E,j1:I})}return{K0:r,Q1:e,J1:u,t2:s,e2:a,i2:h,s2:f,n2:v,o2:o,h2:d,a2:l,u2:g,c2:w,l2:y,d2:p,f2:m,$0:_,_2:b,g2:k}}(Pc(t.OM.$k),new Uc);n=function(t,n){var i=t.toString()+".";switch(n.Q1){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.t2.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.o2).toString(16)+".",n.J1){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.i2.toString();for(var r=n.e2.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.e2[e].toString(16).toUpperCase();return i}(t.zw,s)}else if(t.zw===ly.$P||t.zw===ly.tD||t.zw===ly.eD||t.zw===ly.iD){var o=function(t,n){var i=n.Bb(),r=Fa(t,i,8),e=Fa(t,i,8),u=Fa(t,i,7),s=Fa(t,i,6),o=Boolean(Fa(t,i,1)),a=Boolean(Fa(t,i,1)),c=Boolean(Fa(t,i,1)),h=Fa(t,i,4);return Fa(t,i,28),Fa(t,i,32),Fa(t,i,32),Fa(t,i,32),Fa(t,i,32),{m2:r,w2:e,b2:u,A2:s,S2:o,T2:a,E2:c,I2:h}}(Pc(t.jM.$k),new Uc);n=function(t,n){var i=t.toString(),r=ia(n.b2.toString(),2,"0"),e=ia(n.A2.toString(),2,"0");return i+"."+r+"."+e}(t.zw,o)}else if(t.zw===ly.ZP){var a=function(t,n){var i=n.Bb(),r=Fa(t,i,8);i.Pb(24);for(var e=Fa(t,i,8),u=Fa(t,i,8),s=Fa(t,i,4),o=Fa(t,i,3),a=Va(t,i),c=Fa(t,i,8),h=Fa(t,i,8),f=Fa(t,i,8),v=Fa(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=Fa(t,i,8);return{K0:r,b2:e,A2:u,R2:s,C2:o,P2:a,lL:c,dL:h,fL:f,D2:v,N2:d}}(Pc(t.VM.$k),new Uc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.b2+".",i+=ia(""+n.A2,2,"0")+".",i+=ia(""+n.R2,2,"0")+".",i+=ia(""+n.C2,2,"0")+".",i+=ia(""+n.lL,2,"0")+".",i+=ia(""+n.dL,2,"0")+".",i+=ia(""+n.fL,2,"0")+".",i+="0"+n.P2,i}(t.zw,a)}else if(t.zw===ly.zP){var c=function(t,n){var i=n.Bb();i.Pb(1);var r=Fa(t,i,7),e=Fa(t,i,3),u=Fa(t,i,5),s=Va(t,i),o=Va(t,i),a=Va(t,i),c=Va(t,i),h=Va(t,i),f=Va(t,i),v=Fa(t,i,2);i.Pb(3);var d,l=Va(t,i);return l?d=Fa(t,i,4):i.Pb(4),{aN:r,M2:e,L2:u,B2:s,O2:o,F2:a,W2:c,U2:h,G2:f,Z2:v,H2:l,X2:d}}(Pc(t.GM.$k),new Uc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.M2+".",r+=""+ia(""+n.L2,2,"0"),r+=(0===n.B2?"M":"H")+".",r+=(1===n.F2?12:10)+".",r+=(1===n.M2?0:n.W2)+".",r+=""+n.U2+n.G2+(1===n.U2&&1===n.G2?n.Z2:"0"),i&&i.cL===gy.ON_SCREEN_COLOURS){var e=i;r+="."+ia(""+e.lL,2,"0")+"."+ia(""+e.dL,2,"0")+"."+ia(""+e.fL,2,"0")+"."+(e._L?1:0)}return r}(t.zw,c,t.ZM)}else if(t.zw===ly.hD){i=function(t){var n=t.Y0;switch(n.F0){case PC.N0:return function(t){var n;if(!(null==(n=t.H0)?void 0:n.O0))return"mp4a.40";var i=function(t,n){var i=Fa(t,n,5);31===i&&(i=32+Fa(t,n,6));var r,e=Fa(t,n,4);return 15===e&&(r=Fa(t,n,24)),{z2:i,q2:e,Y2:r,K2:Fa(t,n,4)}}(Pc(t.H0.O0),new Ua);return"mp4a.40."+i.z2}(n);case PC.M0:return"mp4a.40.2";case PC.L0:return"mp4a.40.34"}}(MC(Pc(t.kM.$k),new Uc))}else if(t.zw===ly.uD)i="fLaC";else if(t.zw===ly.sD)i="ac-3";else{if(t.zw!==ly.nD)return(t.zw===ly.vD||t.zw===ly._D)&&t.zM?nN(t.zM):void 0;i="ec-3"}return{G1:n,Z1:i,H1:r}}function iN(t,n){var i=t.toString(16);return ia(i,n,"0")}function rN(t,n){var i=Iy.cN(Pc(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.CL)?void 0:e.CL;if(s){var o=u.sN.VN,a=Hi(n.Z,(function(t){return t.VN===o})),c=km.eV(s,a.RN);i&&!c.zF(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(_y(i,ly.gD),n),e=_y(i,ly.TD);return{lF:r.VF(),j2:e.$k}}function eN(t,n){return uN.apply(this,arguments)}function uN(){return uN=Pt((function(t,n){var i;return Ot(this,(function(r){switch(r.label){case 0:switch(t.zw){case nC.NJ:return[3,1];case nC.Ik:return[3,2];case nC.MJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Qd(t.$k,n)];case 3:return i=r.sent(),kr(n),[2,{zw:nC.NJ,$k:new E(i)}];case 4:throw new p("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),uN.apply(this,arguments)}function sN(t){var n=t.bT("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function oN(t,n){return lr(t,n,vN)}function aN(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function cN(t,n){var i=hN(t),r=hN(n);if((i||r)&&Kn.Ys.Lp)return!0;var e=i||fN(t),u=r||fN(n);return!e&&!u||t.split(".")[0]===n.split(".")[0]}function hN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function fN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function vN(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=tn(i,3),s=u[1],o=u[2],a=tn(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}F(),Tt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Dt(),Rt(),nn();var dN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).J2=n,u.e3=i,u.i3=r,u}return It(n,t),Nt(n,[{key:"Q2",get:function(){return this.J2}},{key:"t3",get:function(){return this.e3}}]),n}(pr);var lN=Gn.$g,gN=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).aQ=20,s.lQ=30,s.s3=!1,s.x3=!1,s.W3=void 0,s.G3=new mr,s._3=!1,s.v3=void 0,s.l3=!1,s.d3=void 0,s.Z3=function(){s.s3=!1},s.H3=function(t){t.removedRanges&&s._o(new ma($R.PJ))},s.C3=i,s.b3=n,s.n3=r,s.n3.addEventListener("updateend",s.Z3),s.n3.addEventListener("bufferedchange",s.H3),s.L3=e,s.O3=u,s.l3=wN(e.Fk,u),null==(o=i.kd)?void 0:o.Cp){var a,c=null!=(a=i.kd.X3)?a:1e5;s.m3=new xC(c)}return s}It(n,t);var i=n.prototype;return i.r3=function(t,n,i){var r=this;switch(t.zw){case nC.NJ:case nC.Ik:return this.o3((function(i){return r.h3(t,n,i)}),i);case nC.MJ:throw new p("Opaque segments are not supported on web.")}},i.a3=function(t,n){var i=this;switch(t.zw){case nC.NJ:return this.o3((function(n){return i.u3(t,n)}),n);case nC.Ik:throw new p("Streaming initialization segments are not supported on web.");case nC.MJ:throw new p("Opaque initialization segments are not supported on web.")}},i.u3=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return i.l3?(i.d3=tN(Pc(t.$k)),[2]):[4,i.f3(t,void 0,n)];case 1:return r.sent(),lN&&(i._3=!1,i.v3=t),[2]}}))}))()},i.h3=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return lN&&r._3&&r.v3?[4,r.u3(r.v3,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),kr(i),r.l3&&r.d3?[4,eN(t,i)]:[3,4];case 3:e=o.sent(),u=rN(e.$k,r.d3),t={zw:nC.NJ,$k:u.j2},n=ao({},n,{aW:u.lF+(null!=(s=n.aW)?s:0)}),o.label=4;case 4:return[4,r.f3(t,n,i)];case 5:return o.sent(),r._o(new ma($R.PJ)),[3,7];case 6:return t.zw===nC.Ik&&t.$k.cancel(new _r).catch(_i),[7];case 7:return[2]}}))}))()},i.f3=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return kr(i),n?[4,r.g3(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.zw){case nC.NJ:return[3,3];case nC.Ik:return[3,7]}return[3,11];case 3:return r.m3?(e=r.m3.P0(qd(t.$k)),[4,r.w3(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.y3(t.$k)];case 6:return[2,s.sent()];case 7:return r.m3?(u=r.m3.P0(t.$k),[4,r.w3(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.w3(t.$k,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.w3=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:r=i.b3.SI,e=vC(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Sr(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(kr(n),a=jc(o.value),s=!0,[4,i.y3(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(_i),s?[4,i.A3()]:[3,11];case 7:v.sent(),h=i.b3.SI.jn(r.pB()),f=0,v.label=8;case 8:return f<h.V?[4,i.S3(h.Sn(f),h.Tn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.T3=function(t,n){var i=this;return this.o3((function(){return i.E3(t,n)}))},i.E3=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return i.n3.appendWindowStart===t&&i.n3.appendWindowEnd===n?[3,2]:[4,i.A3()];case 1:r.sent(),i.n3.appendWindowStart=0,i.n3.appendWindowEnd=n,i.n3.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.g3=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:if(xi(n.n3.timestampOffset,t.aW,.001))return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.n3.timestampOffset=t.aW,[3,4];case 2:return i.sent(),[4,n.A3()];case 3:return i.sent(),n.n3.timestampOffset=t.aW,[3,4];case 4:return[2]}}))}))()},i.y3=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.n3.appendBuffer(t),n.x3=!0,[4,n.I3()];case 1:return i.sent(),[2]}}))}))()},i.R3=function(t,n,i){var r=this;return this.o3((function(i){return r.S3(t,n,i)}),i)},i.S3=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return kr(i),r.n3.remove(t,n),[4,r.I3()];case 1:return e.sent(),[2]}}))}))()},i.I3=function(){var t=this,n=this.b3.SI;return new et((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.CB(t.b3.SI)||t._o(new ma($R.PJ)),i()):r(new p(e))},f=function(){t.n3.removeEventListener("update",s),t.n3.removeEventListener("error",o),t.n3.removeEventListener("abort",a),t.n3.removeEventListener("updateend",h),t.C3.vn(rC.OJ,c)};t.n3.addEventListener("update",s),t.n3.addEventListener("error",o),t.n3.addEventListener("abort",a),t.n3.addEventListener("updateend",h),Gn.Rg&&Gn.Pg<3&&t.C3.bn(rC.OJ,c)}))},i.P3=function(){var t=this;return this.o3((function(){return t.A3()}))},i.A3=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:if(t.C3.aR!==NN.zE)return[2];lN&&(t._3=!0),t.n3.updating&&(t.s3=!0);try{t.n3.abort()}catch(n){0,t.s3=!1}return t.va?[4,t.I3().catch(_i)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.D3=function(){return"function"==typeof this.n3.changeType&&!Gn.Eg},i.XJ=function(t){if(this.N3(),this.C3.aR!==NN.M3){var n;this.L3=t;var i=null!=(n=this.C3.B3(t.Fk))?n:t.Fk;this.l3=wN(t.Fk,this.O3),this.D3()&&this.F3(i)&&(this.O3=i,this.n3.changeType(this.O3))}},i.F3=function(t){if(ta(this.O3,t))return!1;var n=Yv(this.O3),i=Yv(t);return n.zw!==i.zw||(!oN(sN(n),sN(i))||!(Gn.Lv&&Gn.Sg))},i.V3=function(){this.C3.aR!==NN.Ly||this.W3||this.va||(this.n3.timestampOffset=this.n3.timestampOffset,this.C3.U3())},i.o3=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:i.N3(),(r=new mr).rp(i.G3.ep),n&&r.rp(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.W3=t(r.ep),[4,i.W3];case 2:return e.sent(),i.C3.U3(),i.va?[4,i.I3()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.W3=void 0,r.Km(),[7];case 6:return[2]}}))}))()},i.N3=function(){if(this.W3)throw new p("Internal error")},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.G3.np(),t.W3?[4,t.W3.catch(_i)]:[3,2];case 1:n.sent(),t.W3=void 0,n.label=2;case 2:return t.n3.removeEventListener("updateend",t.Z3),t.n3.removeEventListener("bufferedchange",t.H3),[2]}}))}))()},Nt(n,[{key:"$j",get:function(){return this.aQ},set:function(t){this.aQ=t}},{key:"sQ",get:function(){return this.lQ},set:function(t){this.lQ=t}},{key:"va",get:function(){return this.s3||this.n3.updating}}]),n}(la);function wN(t,n){return Qo(t,"audio/mp4")&&Qo(n,"audio/mpeg")}F(),Tt(),Dt();var mN=function(){function t(t,n){this.q3=void 0,this.z3=n,this.n3=t}var n=t.prototype;return n.r$=function(){return!!this.q3&&this.SI.gB().wr(this.q3)},n.Y3=function(){var t=this.SI;this.q3=t.V>0?t.Tn(t.V-1):0,this.z3.K3()},n.V3=function(){this.q3=void 0},Nt(t,[{key:"SI",get:function(){if(this.z3.aR===NN.M3)return FA.WB();var t=FA.Cn(this.n3.buffered).jn(new FA([0,1/0])),n=this.q3;return void 0!==n&&t.V>0&&t.Tn(t.V-1)===n&&(t=t.AB(FA.FB(n))),t}}]),t}();function yN(t,n,i,r,e,u,s){var o=new mN(e,t),a=new gN(o,t,e,i,u);return new pN(t,n,i,r,o,a,s)}var pN=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).r4=ho(),a.C3=n,a.FT=r,a.NT=r.Fk,a.Q3=e,a.aO=i,a.b3=u,a.e4=s,a.t4=o,a.e4.bn($R.PJ,a.Ds),a}It(n,t);var i=n.prototype;return i.r$=function(){return this.b3.r$()},i.Y3=function(){this.b3.Y3()},i.V3=function(){this.b3.V3(),this.e4.V3()},i.i4=function(t,n){this.t4.m$(t,n)},i.s4=function(t,n){this.t4.p$(t,n)},i.n4=function(){return this.e4.P3()},i.r3=function(t,n,i){return this.e4.r3(t,n,i)},i.a3=function(t,n,i){return this.e4.a3(t,i)},i.T3=function(t,n){return Gn.Rg&&Gn.Pg<3?this.e4.T3(t,1/0):this.e4.T3(t,n)},i.rT=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return r.s4(t,n),e=r.SI,[4,r.e4.R3(t,n,i)];case 1:return s.sent(),u=0!==e.V&&0===r.SI.V,(Gn._m||Gn.Ng)&&u&&r.aO.Db(r.aO.RI),[2]}}))}))()},i.ZJ=function(t){var n=t.Fk;if(this.NT===n)return!0;var i=this.r4.get(n);if(void 0!==i)return i;var r=this.o4(t);return this.r4.set(n,r),r},i.o4=function(t){var n=this.C3.B3(t.Fk);if(void 0===n)return!1;var i=Yv(this.NT),r=Yv(n),e=sN(i),u=sN(r);if(this.e4.D3()){if(!function(t,n){return lr(t,n,cN)}(e,u))return!1;if(Gn.gm&&!function(t,n){return lr(t,n,aN)}(e,u))return!1}else{if(i.zw!==r.zw)return!1;if(!oN(e,u))return!1}return!0},i.XJ=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){return i=t.Fk,n.NT!==i&&(n.r4.clear(),n.e4.XJ(t),n.NT=i),n.FT=t,n.C3.h4(),[2]}))}))()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:t.r4.clear(),t.Ro(),t.t4.yn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.e4.vn($R.PJ,t.Ds),[4,t.e4.Km()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},Nt(n,[{key:"SI",get:function(){return this.b3.SI}},{key:"kd",get:function(){return this.FT}},{key:"Fk",get:function(){return this.NT}},{key:"j3",get:function(){return this.Q3}},{key:"J3",get:function(){return this.t4.v$}},{key:"$j",get:function(){return this.e4.$j},set:function(t){this.e4.$j=t}},{key:"sQ",get:function(){return this.e4.sQ},set:function(t){this.e4.sQ=t}},{key:"va",get:function(){return this.e4.va}}]),n}(la);F(),Tt();var _N=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Sn=t,this.Tn=n,this.u4=i,this.c4=r,this.l4=Kn.Wm()}return t.prototype.a4=function(){var t=this.Sn,n=this.Tn;if(this.u4||this.c4){var i=.001*(Kn.Wm()-this.l4);this.u4&&(t+=i),this.c4&&(n+=i)}return FA.VB(t,n)},t}();function bN(t){var n=[];if(t.d4&&n.push(t.d4.SI),t.f4&&n.push(t.f4.SI),0===n.length)return FA.WB();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.V>0&&(i=k.max(i,e.Tn(e.V-1)))}for(var u=t.r$,s=new FA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V>0&&(a=a.AB(new FA([a.Tn(a.V-1),i],[!0,!0]))),s=s.jn(a)}return s}function kN(t,n,i){var r,e=t.SI,u=e.kB(n);if(u>=0){if(!(u+1<e.V))return et.resolve();r=e.Sn(u+1)}else{if(!((u=e.MB(n))>=0))return et.resolve();r=e.Sn(u)}return t.rT(r,1/0,i)}function AN(t,n,i){if(!t.wr(n)){var r=t.kB(n,i);if(r>=0){var e=t.Sn(r);if(n<e)return e}}return n}F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt();var TN=.5,SN=[ya.ho,ya.Ky,ya.ib,ya.eb,ya.Wy,ya.Gy,ya.Ly,ya.Qy,Np.aC,Qy.fa],EN=function(){function t(t,n,i,r){var e=this;this.b3=t,this.w4=n,this.aO=i,this.S4=!1,this.v4=[],this.T4=0,this.P4=0,this.W4=0,this.I4=0,this.L4=0,this.N4=0,this.U4=1,this.g4=function(t){var n=e.aO.RI,i=t._$.wr(n),r=t._$.wr(n,TN)&&e.aO.aR<=Pp.kO;(i||r)&&e.u$(n)},this.y4=Ai((function(t){if(!e.S4)if(e.w4.aR<=Pp.kO){var n=e.aO.RI;e.u$(n)||e.M4()}else e.A4()}),100),this.ed=Ai((function(t){e.D4()}),100),this.R4=function(t){t.currentTime!==e.I4&&e.A4()},this.b4=function(){e.B4()?0===e.N4&&(e.aO.bn(ya._b,e.ed),e.P4=Kn.Gm((function(){e.D4()}),3500)):e.m4()},this.M4=function(){var t=e.W4,n=e.L4,i=e.aO.RI,r=Kn.Wm(),u=e.b3.SI;if(t!==i)return e.W4=i,e.L4=r,e.U4=1,void(e.G4=Kn.uI?2e3:1e3);if(e.B4()&&0!==u.V&&n>0&&r>n+e.G4){var s,o,a=e.v$.gB().TB(u),c=a.NB(i);if(-1!==c){var h=a.Sn(c);if(h-i<1||e.O4()){var f=a.Tn(c);0,s=f}}if(!s)(s=null==(o=e.Z4)?void 0:o.determineStallJumpTarget())&&s!==i||(s=i+.01*e.U4,u.wr(s)||(s=e.V4(i,u)));0,e.W4=s,e.U4++,e.G4=k.min(2*e.G4,1e4),e.x4(s)}},this.w4.bn(Np.aC,this.y4),this.aO.bn(ya.jy,this.y4),this.aO.bn(SN,this.b4),this.Z4=r,this.G4=Kn.uI?2e3:1e3}var n=t.prototype;return n._4=function(t){this.v4.push(t),t.bn(cC.d$,this.g4)},n.yn=function(){var t=this;this.m4(),this.w4.vn(Np.aC,this.y4),this.aO.vn(ya.jy,this.y4),this.aO.vn(SN,this.b4),this.v4.forEach((function(n){return n.vn(cC.d$,t.g4)})),this.A4(),this.S4=!0},n.u$=function(t){if(this.aO.MI)return!1;if(0!==this.T4)return!1;var n=this.b3.SI,i=n.kB(t);if(i>=0&&t+TN<n.Tn(i))return!1;var r=i>=0?i+1:n.MB(t);if(r<0||r>=n.V)return!1;var e=n.Sn(r);return!(FA.VB(t,e).TB(this.v$).OB>1)&&(0!==t||this.aO.dR?Kn.hI?(this.E4(t,e,250),!0):!(k.abs(e-t)<=.001)&&(this.x4(e),!0):(this.E4(t,e,2e3),!0))},n.E4=function(t,n,i){var r=this;this.A4(),this.I4=t,this.aO.bn(ya.ib,this.R4),this.T4=Kn.Gm((function(){r.I4===r.aO.RI&&r.x4(n),r.A4()}),i)},n.A4=function(){0!==this.T4&&(this.aO.vn(ya.ib,this.R4),Kn.Um(this.T4),this.T4=0)},n.x4=function(t){this.aO.Db(t,!1,!0)},n.C4=function(){0!==this.P4&&(Kn.Um(this.P4),this.P4=0),this.aO.vn(ya._b,this.ed)},n.D4=function(){this.S4||0===this.N4&&(this.C4(),this.N4=Kn.lw(this.M4,250))},n.m4=function(){0!==this.N4&&(Kn.dw(this.N4),this.N4=0),this.C4(),this.aO.dR||(this.L4=0)},n.B4=function(){return!this.aO.JI&&(!this.aO.dR||this.O4())&&0!==this.aO.tR&&!this.aO.MI&&!this.aO.lt&&(this.F4()||this.w4.aR>=Pp.EO)},n.O4=function(){return!1},n.F4=function(){var t=this.aO.RI,n=this.b3.SI,i=n.kB(t);return-1!==i&&n.Tn(i)>t+TN},n.V4=function(t,n){var i=n.kB(t);return i>-1?n.Tn(i):t},Nt(t,[{key:"v$",get:function(){return this.v4.reduce((function(t,n){return t.AB(n.v$)}),FA.WB())}}]),t}(),IN=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.O4=function(){if(!Gn.Ng||!this.aO.dR)return!1;var t=this.aO.RI,n=this.b3.SI,i=this.v$.gB().TB(n),r=i.NB(t);return-1!==r&&i.Sn(r)-t<=3e3},n}(EN),RN=Gn.Ug||Gn.Zg,CN=Gn.Kg||Gn.$g||Gn.su,NN=function(t){return t.M3="closed",t.zE="open",t.Ly="ended",t}({}),DN=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Ze(n.u5)),(a=t.call(this,n,i,e,u)||this).H4=void 0,a.i5=void 0,a.X4=void 0,a.s5=void 0,a.j4=new _N(0,1/0),a.z4=void 0,a.n5=!1,a.o5=function(){a._o(new ma(rC.OJ))},a.c5=function(){a._o(new ma(rC.VJ))},a.pd=function(){a.r5()},a.H3=function(){a.aO.H3()},a.a5=s,a.kZ=a.a5.Vp(),a.kZ.addEventListener("sourceclose",a.o5),a.kZ.addEventListener("sourceopen",a.c5),a.aO.bn([ya._b,ya.ib,ya.Wy],a.pd),a.e5=new IN(a,r,a.aO,o),a}It(n,t);var i=n.prototype;return i.q4=function(t){if(S(t)||t<0)throw new p("Invalid duration");this.Y4()?this.K4(t):this.z4=t},i.K4=function(t){var n=t===1/0;if(n&&this.kZ.setLiveSeekableRange){var i=k.pow(2,39);this.kZ.setLiveSeekableRange(0,i)}this.kZ.duration=n?CN?1/0:Ci:t,this.z4=void 0},i.Q4=function(t,n,i,r){this.j4=new _N(t,n,Boolean(i),Boolean(r))},i.nQ=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:return n=t.FT,i=Hi(n.J4,(function(t){return Qo(t.Fk,"audio")})),r=Hi(n.J4,(function(t){return Qo(t.Fk,"video")})),t.hk.disableRemotePlayback=!0,[4,t.t5()];case 1:return h.sent(),i&&(e=new fC,t.e5._4(e),s=null!=(u=t.B3(i.Fk))?u:i.Fk,t.i5=t.kZ.addSourceBuffer(s),t.H4=yN(t,t.aO,i,aw.wE,t.i5,s,e),t.H4.bn($R.PJ,t.H3)),r&&(o=new fC,t.e5._4(o),c=null!=(a=t.B3(r.Fk))?a:r.Fk,t.s5=t.kZ.addSourceBuffer(c),t.X4=yN(t,t.aO,r,aw.yE,t.s5,c,o),t.X4.bn($R.PJ,t.H3)),t.zJ.$n(t,n),[2]}}))}))()},i.t5=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.i$.call(n,n.kZ)];case 1:return i.sent(),"open"===n.aR?[3,3]:[4,ag(n.kZ,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Y4=function(){if("open"!==this.aR)return!1;var t=this.H4&&this.H4.va,n=this.X4&&this.X4.va;return!(t||n)},i.Y3=function(){this.n5=!0,this.H4&&this.H4.Y3(),this.X4&&this.X4.Y3(),this.n5=!1,this.r5()},i.V3=function(){this.H4&&this.H4.V3(),this.X4&&this.X4.V3()},i.ZJ=function(n){var i=Hi(n.J4,(function(t){return Qo(t.Fk,"audio")})),r=Hi(n.J4,(function(t){return Qo(t.Fk,"video")}));if(this.H4){if(!i)return!1;if(!this.H4.ZJ(i))return!1}else if(i)return!1;if(this.X4){if(!r)return!1;if(!this.X4.ZJ(r))return!1}else if(r)return!1;return!!t.prototype.ZJ.call(this,n)},i.XJ=function(n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return r=Hi(n.J4,(function(t){return Qo(t.Fk,"audio")})),e=Hi(n.J4,(function(t){return Qo(t.Fk,"video")})),u=[],i.H4&&u.push(i.H4.XJ(r)),i.X4&&u.push(i.X4.XJ(e)),[4,et.all(u)];case 1:return s.sent(),[4,t.prototype.XJ.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.qJ=function(n){t.prototype.qJ.call(this,n)},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.kZ.removeEventListener("sourceclose",n.o5),Gn.Ng?[4,n.n$()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.H4?[4,n.H4.Km()]:[3,4];case 3:if(i.sent(),n.H4=void 0,fa()&&(Gn.Ng||Gn.Rg))try{n.kZ.removeSourceBuffer(n.i5)}catch(t){}n.i5=void 0,i.label=4;case 4:return n.X4?[4,n.X4.Km()]:[3,6];case 5:if(i.sent(),n.X4=void 0,fa()&&(Gn.Ng||Gn.Rg))try{n.kZ.removeSourceBuffer(n.s5)}catch(t){}n.s5=void 0,i.label=6;case 6:return n.hk.src&&URL.revokeObjectURL(n.hk.src),n.hk.disableRemotePlayback=!1,n.aO.vn([ya._b,ya.ib,ya.Wy],n.pd),n.e5.yn(),Gn.Rg?[4,n.n$()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Km.call(n)];case 9:return i.sent(),[2]}}))}))()},i.h4=function(){var t=this,n=this.FT,i=n.J4.map((function(n){return Qo(n.Fk,"audio")&&t.H4?t.H4.kd:Qo(n.Fk,"video")&&t.X4?t.X4.kd:n}));this.FT=ao({},n,{J4:i})},i.K3=function(){this.n5||this.r5()},i.r5=function(){this.h5&&this.Y4()&&(this.kZ.endOfStream(),this.z4=void 0,this._o(new ma(rC.LJ)),this.aO.H3())},i.U3=function(){this.Y4()&&(this.r$?this.r5():void 0!==this.z4&&this.K4(this.z4))},i.u$=function(t){return this.e5.u$(t)},i.c$=function(){return!0},i.B3=function(t){return xN(this.a5,t)},n.l$=function(t){var n=Xe(t.u5);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Ze(t.u5),r=0,e=t.J4;r<e.length;r++){if(void 0===xN(i,e[r].Fk))return!1}return!0},Nt(n,[{key:"d4",get:function(){return this.H4}},{key:"f4",get:function(){return this.X4}},{key:"ct",get:function(){if(this.z4)return this.z4;var t=this.kZ.duration;return t===Ci?1/0:t}},{key:"SI",get:function(){return RN?bN(this):function(t,n){var i=n;return i.V>0&&t.r$&&(i=i.AB(FA.FB(i.Tn(i.V-1)))),i}(this,FA.Cn(this.hk.buffered))}},{key:"o$",get:function(){var t;return null==(t=this.H4)?void 0:t.SI}},{key:"h$",get:function(){var t;return null==(t=this.X4)?void 0:t.SI}},{key:"cR",get:function(){return this.j4.a4().jn(new FA([0,this.ct],[!0,!0]))}},{key:"r$",get:function(){return(!this.H4||this.H4.r$())&&(!this.X4||this.X4.r$())}},{key:"aR",get:function(){return this.kZ.readyState}},{key:"h5",get:function(){if(!this.r$)return!1;var t=this.SI;return 0!==t.V&&t.Sn(t.V-1)<=this.aO.RI}}]),n}(eC);function xN(t,n){var i=Yv(n),r=sN(i),e="audio/mp4"===i.zw,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.Up(n)&&(!u||!Gn.$g))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.Up(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.Up(n))return f}}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var PN=function(t){function n(n){var i;return(i=t.call(this,ya.Wy)||this).currentTime=n,i}return It(n,t),n}(ma),LN=[ya.vb,ya.Qy,ya.ib,ya.Wy,ya.ho,ya.Ky],MN=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).OH=n,v.FA=i,v.v5=r,v.WH=e,v.FH=u,v.VH=s,v.UH=o,v.jA=a,v.g5=c,v.d5=h,v._5=f,v}It(n,t);var i=n.prototype;return i.Db=function(t,n,i){this.OH!==t&&(this.OH=t,this.d5=n,i&&!this.FH?(this._5=!0,this._o(new PN(this.RI))):(this._5=!1,this.FH=!0,this._o(new RT(this.RI))))},i.PR=function(){this.WH||(this.WH=!0,this._o(new AT(this.RI)))},i.DR=function(){this.WH&&(this.WH=!1,this._o(new TT(this.RI)))},i.Km=function(){this.Ro()},Nt(n,[{key:"RI",get:function(){return this.OH}},{key:"l5",get:function(){return this.d5}},{key:"f5",get:function(){return this._5}},{key:"ct",get:function(){return this.FA}},{key:"MI",get:function(){return this.v5}},{key:"JI",get:function(){return this.WH}},{key:"aR",get:function(){return this.g5}},{key:"dR",get:function(){return this.FH}},{key:"qI",get:function(){return this.VH},set:function(t){this.qI!==t&&(this.VH=t,this._o(new NT(this.RI,this.yR)))}},{key:"tR",get:function(){return this.UH},set:function(t){this.tR!==t&&(this.UH=t,this._o(new ET(this.RI,this.tR)))}},{key:"yR",get:function(){return this.jA},set:function(t){this.yR!==t&&(this.jA=t,this._o(new NT(this.RI,this.yR)))}}]),n}(la);function ON(t){return new MN(t.RI,t.ct,t.MI,t.JI,t.dR,t.qI,t.tR,t.yR,t.aR,!1,t.f5)}function BN(t,n){n.ct===t.ct||S(n.ct)&&S(t.ct)||t._o(new ST(t.ct)),t.qI=n.qI,t.yR=n.yR,t.tR=n.tR,n.JI?t.PR():t.DR().catch(_i),n.RI!==t.RI||n.aR>Pp.TO&&t.aR===Pp.TO?t.Db(n.RI,n.l5,n.f5):!n.dR&&t.dR?t._o(new RT(t.RI)):n.dR&&!t.dR&&t.aR>=Pp.kO&&t._o(new CT(t.RI)),!n.MI&&t.MI&&t._o(new IT(t.RI))}F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var VN=function(t){function n(n){var i;return(i=t.call(this)||this).eU=Pp.TO,i.w5=function(){i.p5()},i.aO=n,i}It(n,t);var i=n.prototype;return i.m5=function(t){this.eU!==t&&(this.eU=t,this._o(new xp(this.aO.RI,t)))},i.p5=function(){this.m5(this.uR())},i.nr=function(){this.m5(Pp.TO)},i.Km=function(){this.Ro()},Nt(n,[{key:"aR",get:function(){return this.uR()}}]),n}(la);F(),Tt(),Rt();var FN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],UN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<FN.length;r++){var e=FN[r];i.aO.SZ.addEventListener(e,i.w5)}return i}It(n,t);var i=n.prototype;return i.uR=function(){var t=this.aO.SZ.readyState;return t>Pp.kO&&this.aO.y5?Pp.kO:(this.aO.SZ.seeking&&t>Pp.Xn&&(t=Pp.Xn),t)},i.Km=function(){for(var n=0;n<FN.length;n++){var i=FN[n];this.aO.SZ.removeEventListener(i,this.w5)}t.prototype.Km.call(this)},n}(VN);F(),Tt();var WN=function(t){function n(n){var i;(i=t.call(this,n)||this).aO.bn([ya.ib,ya.Wy],i.w5);for(var r=0;r<FN.length;r++){var e=FN[r];i.aO.SZ.addEventListener(e,i.w5)}return i}It(n,t);var i=n.prototype;return i.uR=function(){if(this.aO.SZ.readyState===Pp.TO)return Pp.TO;var t=this.b5(),n=t?t.Tn-t.Sn:0;if(!t)return Pp.Xn;var i=this.aO.tR;return this.A5()||n>=3*i?Pp.xO:n>=3?Pp.EO:Pp.kO},i.b5=function(){var t=this.aO.RI,n=this.aO.SI.bB(.04),i=n.kB(t);if(!(i<0))return{Sn:t,Tn:n.Tn(i)}},i.A5=function(){if(this.aO.MI)return!0;var t=this.aO.ct,n=this.b5();return!!n&&t-n.Tn<=.16666666666666666},i.Km=function(){this.aO.vn([ya.ib,ya.Wy],this.w5);for(var n=0;n<FN.length;n++){var i=FN[n];this.aO.SZ.removeEventListener(i,this.w5)}t.prototype.Km.call(this)},n}(VN);F(),Tt(),Rt(),F(),Tt(),Rt();var ZN=[Np.aC,ya.ho,ya.Ky,ya.ib,ya.eb,ya.Wy,ya.Gy,ya.Ly,Qy.fa],XN=function(t){function n(n){var i;return(i=t.call(this)||this).E5=!1,i.HK=function(){i.ir()},i.jW=n,i.jW.bn(ZN,i.HK),i}It(n,t);var i=n.prototype;return i.S5=function(){return(!this.jW.f5||!this.jW.T5)&&this.jW.aR<Pp.EO},i.k5=function(){return!this.jW.dR&&!(this.jW.JI||this.jW.MI||this.jW.lt||this.S5())},i.ir=function(){var t=this.E5;this.E5=this.k5(),!t&&this.E5&&this._o(new Fp(this.jW.RI))},i.nr=function(){this.E5=!1},i.Km=function(){this.Ro(),this.jW.vn(ZN,this.HK)},n}(la),GN=function(t){function n(n){var i;return(i=t.call(this,n)||this).x5=!1,i.hU=function(){i.x5=!0,i.ir()},i.hk=n.SZ,i.hk.addEventListener(Np.uB,i.hU),i}It(n,t);var i=n.prototype;return i.k5=function(){return this.x5&&t.prototype.k5.call(this)},i.ir=function(){this.x5&&(this.hk.paused||this.hk.ended||this.hk.error)&&(this.x5=!1),t.prototype.ir.call(this)},i.nr=function(){t.prototype.nr.call(this),this.x5=!1},i.Km=function(){this.hk.removeEventListener(Np.uB,this.hU),t.prototype.Km.call(this)},n}(XN);F(),Tt(),Rt();var HN=function(t){function n(n){var i;return(i=t.call(this,Qy.fa)||this).lt=n,i}return It(n,t),n}(ma);function zN(t,n){return t.lF<=n&&t.dF>n}function YN(t,n){return function(t,n){return Zi(t.lF,n.lF,$w)}(t,n)||function(t,n){return Zi(t.dF,n.dF,$w)}(t,n)}function jN(t,n){return function(t,n){return Zi(t.wF,n.wF,$w)}(t,n)||function(t,n){return Zi(t.yF,n.yF,$w)}(t,n)}function KN(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,bi,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===Fi.eh;r++)if(t[r].IF(n))return r;return-(r+1)}function qN(t,n,i){var r=KN(t,n,i);return r>=0?r:-(r+1)}function JN(t){var n=t.Ht;if(!n)return-1;if(t instanceof nm)return n.I5(t);var i=n.L;if(!i)return-1;var r=KN(i.mC,t,YN);return r>=0?r:-1}function QN(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{R5:o,C5:a}}(t,n,YN);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),F(),Tt(),Dt();var $N=function(){function t(t){this.eu=void 0,this.P5=t}var n=t.prototype;return n.ka=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.Vb(i).wa;return n.item=function(n){var i=0|n,r=t.Vb(i);return r&&r.wa||void 0},b.defineProperty(n,"constructor",{value:Yw}),n}(this)},n.JO=function(t){for(var n=this.P5,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.IF(r))return!0}return!1},n.Vb=function(t){return this.P5[t]},Nt(t,[{key:"mC",get:function(){return this.P5}},{key:"V",get:function(){return this.P5.length}},{key:"wa",get:function(){if(this.eu){var t=this.P5;this.eu.length=t.length;for(var n=0;n<t.length;n++)this.eu[n]=t[n].wa}else this.eu=this.ka();return this.eu}}]),t}();F(),Tt(),Rt();var tD=function(t){function n(n,i){var r;return(r=t.call(this,Og.aC)||this).Ht=n,r.aR=i,r}return It(n,t),n.prototype.ka=function(){return new nD(this.Ht.wa,this.aR)},n}(Cg),nD=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return It(n,t),n}(Ng);F(),Tt(),Rt();var iD=function(t){function n(n){var i;return(i=t.call(this,Og.cC)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new rD(this.Ht.wa)},n}(Cg),rD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return It(n,t),n}(Ng);F(),Tt(),Rt();var eD=function(t){function n(n){var i;return(i=t.call(this,Og.KR)||this).uF=n,i}return It(n,t),n.prototype.ka=function(){return new uD(this.uF.wa)},n}(Cg),uD=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return It(n,t),n}(Ng);F(),Tt(),Rt();var sD=function(t){function n(n){var i;return(i=t.call(this,Og.QR)||this).uF=n,i}return It(n,t),n.prototype.ka=function(){return new oD(this.uF.wa)},n}(Cg),oD=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return It(n,t),n}(Ng),aD=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).eF=Tw(),h.b_=!1,h.Xo=qy.Mh,h.g5=Mw.NONE,h.G5=void 0,h.P5=[],h.Z5=[],h.W5=[],h.Y5=0,h.U5=0,h.jS=i||"",h.B5=a||"",h.O5=n,h.VA=e||"",h.b_=Boolean(u),h.L5=Boolean(o),h.Zp=s||Ow.DEFAULT,h.iF=r||"",h.F5=c||[],h.N5=new $N(h.P5),h.D5=new $N(h.W5),h}It(n,t);var i=n.prototype;return i.M5=function(t){return Hi(this.N5.mC,(function(n){return n.o===t}))},i.ka=function(){return tp(this)},i.V5=function(t){var n=Jy(t);n!==this.LE&&(this.Xo=n,n===qy.Mh&&(this.W5.forEach((function(t){t.so=!1})),ir(this.W5),this.U5=0),this._o(new pw(this)))},i.UW=function(t){if(t&&!t.Ht){var n=KN(this.Z5,t,jN);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.Z5.splice(i,0,t);var r=qN(this.L.mC,t,YN);this.H5(t,r),this._o(new eD(t))}}},i.H5=function(t,n){this.P5.splice(n,0,t),this.X5(n),t.PF=n,n<this.U5&&(this.U5=n)},i.RW=function(t){if(t&&t.Ht===this){var n=this.I5(t);if(!(n<0)){t.so=!1;var i=this.W5,r=KN(i,t,YN);r>=0&&Qi(i,r);var e=KN(this.Z5,t,jN);e>=0&&Qi(this.Z5,e),this.z5(t,n),this._o(new sD(t))}}},i.z5=function(t,n){Qi(this.P5,n),this.X5(n),t.PF=-1,this.U5>n&&--this.U5},i.SF=function(t){if(t&&t.Ht===this){var n=this.I5(t);if(!(n<0)){this.z5(t,n);var i=qN(this.L.mC,t,YN);this.H5(t,i);var r=ji(this.W5,(function(n){return n===t}));if(r>=0){Qi(this.W5,r);var e=qN(this.W5,t,YN);this.W5.splice(e,0,t)}}}},i.q5=function(t,n){var i=this.W5,r=this.P5,e=this.U5,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];zN(a,t)?a.dF<s&&(s=a.dF):(u=!0,Qi(i,o))}for(;e<r.length&&r[e].lF<=t;){var c=r[e];zN(c,t)&&(tr(i,c)||(u=!0,i.push(c)),c.dF<s&&(s=c.dF)),e++}return e<r.length&&r[e].lF<s&&(s=r[e].lF),u&&Ei(i,YN),this.U5=e,s},i.I5=function(t){return(-1===t.PF||t.PF>=this.Y5)&&this.K5(),t.PF},i.K5=function(){for(var t=this.P5,n=this.Y5;n<t.length;n++)t[n].PF=n;this.Y5=t.length},i.X5=function(t){t<this.Y5&&(this.Y5=k.max(t,0))},i.HC=function(t){this.XC||(this.LE=t)},i.yn=function(){this.Ro();for(var t=this.P5.slice(),n=0;n<t.length;n++){t[n].yn()}ir(this.P5),ir(this.Z5),ir(this.W5)},Nt(n,[{key:"q",get:function(){return this.D5}},{key:"L",get:function(){return this.N5}},{key:"XW",get:function(){return this.b_},set:function(t){this.b_=t}},{key:"XC",get:function(){return this.L5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"o",get:function(){return this.jS}},{key:"OC",get:function(){return this.eF}},{key:"ZC",get:function(){return this.B5},set:function(t){this.B5=t}},{key:"Lt",get:function(){return this.O5}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"gs",get:function(){return this.VA}},{key:"FC",get:function(){return this.F5}},{key:"LE",get:function(){return this.Xo},set:function(t){this.V5(t)}},{key:"aR",get:function(){return this.g5},set:function(t){this.g5!==t&&(this.g5=t,this._o(new tD(this,this.g5)))}},{key:"zC",get:function(){return this.G5},set:function(t){this.G5=t}},{key:"zw",get:function(){return this.Zp},set:function(t){this.Zp!==t&&(this.Zp=t,this._o(new iD(this)))}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var cD=function(t){function n(n,i){var r;return(r=t.call(this,Xw.IO,n)||this).DV=i,r}return It(n,t),n.prototype.ka=function(){return new hD(this.uF.wa)},n}(Gw),hD=function(t){function n(n){return t.call(this,"enter",n)||this}return It(n,t),n}(Hw);F(),Tt(),Rt();var fD=function(t){function n(n,i){var r;return(r=t.call(this,Xw.RO,n)||this).DV=i,r}return It(n,t),n.prototype.ka=function(){return new vD(this.uF.wa)},n}(Gw),vD=function(t){function n(n){return t.call(this,"exit",n)||this}return It(n,t),n}(Hw);F(),Tt(),Rt();var dD=function(t){function n(n){var i;return(i=t.call(this,Og.eC)||this).uF=n,i}return It(n,t),n.prototype.ka=function(){return new lD(this.uF.wa)},n}(Cg),lD=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return It(n,t),n}(Ng);F(),Tt(),Rt();var gD=function(t){function n(n){var i;return(i=t.call(this,Og.sC)||this).uF=n,i}return It(n,t),n.prototype.ka=function(){return new wD(this.uF.wa)},n}(Cg),wD=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return It(n,t),n}(Ng),mD=function(t){function n(n){var i;return(i=t.call(this)||this).kF=void 0,i.AF=void 0,i.eu=void 0,i.eo=!1,i.Q5=function(){i.so=!0},i.J5=function(){i.so=!1},i.eF=Cw(),i.j5=n,i.wF=n.startTime,i.yF=n.endTime,i.j5.addEventListener("enter",i.Q5),i.j5.addEventListener("exit",i.J5),i}It(n,t);var i=n.prototype;return i.ka=function(){return zw(this)},i.IF=function(t){return this===t||Xg(this,t)&&tm(this,t)&&this.RF(t)},i.RF=function(t){return Zg(this.U,t.U)},i.yn=function(){this.Ro(),this.j5.removeEventListener("enter",this.Q5),this.j5.removeEventListener("exit",this.J5)},Nt(n,[{key:"OC",get:function(){return this.eF}},{key:"lF",get:function(){return this.j5.startTime},set:function(t){this.j5.startTime=t}},{key:"dF",get:function(){return this.j5.endTime},set:function(t){this.j5.endTime=t}},{key:"U",get:function(){return this.kF},set:function(t){this.kF=t}},{key:"EF",get:function(){return Boolean(this.j5.pauseOnExit)},set:function(t){this.j5.pauseOnExit=Boolean(t)}},{key:"Ht",get:function(){return this.AF},set:function(t){this.AF=t}},{key:"o",get:function(){return this.j5.id||""}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"so",get:function(){return this.eo},set:function(t){this.so!==t&&(this.eo=t,t?(this._o(new cD(this,this.lF)),this.AF&&this.AF._o(new dD(this))):(this._o(new fD(this,this.dF)),this.AF&&this.AF._o(new gD(this))))}}]),n}(wa);F(),Tt(),Rt();var yD=function(t){function n(n){var i;return(i=t.call(this,Og.rC)||this).Ht=n,i}return It(n,t),n.prototype.ka=function(){return new pD(this.Ht.wa)},n}(Cg),pD=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return It(n,t),n}(Ng);function _D(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new bD(t),t.THEOplayerVTTRegion=n),n}}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var bD=function(){function t(t){this.eu=void 0,this.e6=t}return Nt(t,[{key:"t6",get:function(){return this.e6}},{key:"o",get:function(){return this.e6.id||""}},{key:"ji",get:function(){return Number(this.e6.width)||0},set:function(t){this.e6.width=t||0}},{key:"DF",get:function(){return Number(this.e6.lines)||0},set:function(t){this.e6.lines=t||0}},{key:"NF",get:function(){return Number(this.e6.regionAnchorX)||0},set:function(t){this.e6.regionAnchorX=t||0}},{key:"MF",get:function(){return Number(this.e6.regionAnchorY)||0},set:function(t){this.e6.regionAnchorY=t||0}},{key:"BF",get:function(){return Number(this.e6.viewportAnchorX)||0},set:function(t){this.e6.viewportAnchorX=t||0}},{key:"OF",get:function(){return Number(this.e6.viewportAnchorY)||0},set:function(t){this.e6.viewportAnchorY=t||0}},{key:"LF",get:function(){return this.e6.scroll||""}},{key:"wa",get:function(){return this.eu||(this.eu=am(this)),this.eu}}]),t}();var kD=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.ka=function(){return jw(this)},i.RF=function(t){return im(this,t)},Nt(n,[{key:"U",get:function(){return this.j5.text},set:function(t){this.j5.text=t}},{key:"Pt",get:function(){return this.j5.vertical||""},set:function(t){this.j5.vertical=t||""}},{key:"pF",get:function(){return this.j5.snapToLines},set:function(t){this.j5.snapToLines=t}},{key:"_F",get:function(){return this.j5.line},set:function(t){this.j5.line=t}},{key:"Ob",get:function(){return Number(this.j5.size)},set:function(t){this.j5.size=Di(t,0,100)}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(mD),AD=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"mF",get:function(){return _D(this.j5.region)}},{key:"vF",get:function(){return this.j5.lineAlign||"start"},set:function(t){this.j5.lineAlign=t||"start"}},{key:"fo",get:function(){return this.j5.position},set:function(t){this.j5.position=t}},{key:"gF",get:function(){return this.j5.positionAlign||"auto"},set:function(t){this.j5.positionAlign=t||"auto"}},{key:"fF",get:function(){return this.j5.align||"center"},set:function(t){this.j5.align=t||"center"}}]),n}(kD),TD=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"mF",get:function(){return _D(this.t6)}},{key:"t6",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.j5.track,this.j5.regionId)}},{key:"vF",get:function(){return function(t){return"middle"===t?"center":t}(this.j5.lineAlign||"start")},set:function(t){this.j5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"fo",get:function(){return this.j5.position},set:function(t){this.j5.position=function(t,n){return Zw(t,n)}(t,this.fF)}},{key:"gF",get:function(){return function(t){return Uw[t]}(this.j5.positionAlign||"middle")},set:function(t){this.j5.positionAlign=function(t,n){return Fw[Ww(t,n)]}(t||"center",this.fF)}},{key:"fF",get:function(){return function(t){return"middle"===t?"center":t}(this.j5.align||"middle")},set:function(t){this.j5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(kD);function SD(t,n){return t.U===n.U}function ED(t,n){if(0!==n.length){var i=n.length-1;if(n[i].lF<t.lF)ID(n,i,t.lF);else{var r=n[0];if(r.lF>t.lF)t.dF=r.lF;else{var e=KN(n,t,YN);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].lF<t.lF&&ID(n,s,t.lF);if(u<n.length){var o=n[u];t.dF=o.lF}}}}}}function ID(t,n,i){for(var r=t[n].lF,e=n;e>=0&&t[e].lF===r;e--)t[e].dF=i}function RD(t){return zw(t)}F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var CD=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).i6=i,r}It(n,t);var i=n.prototype;return i.ka=function(){return RD(this)},i.RF=function(t){return SD(this,t)},Nt(n,[{key:"U",get:function(){return this.i6}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(mD);function ND(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function DD(t){switch(t){case 0:return lc;case 1:return yc;case 2:return pc;case 3:return Ic}}function xD(t,n){var i=n.nc,r=t.byteLength,e=Lc(t);return n.Pb(r-i),Bc(e,i,r).buffer}function PD(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function LD(t,n,i){var r=Qa(t,n);if(ND(r)){var e=DD(r);return{id:i,language:vc(t,n,3),description:e(t,n),text:e(t,n)}}}function MD(t,n,i){var r=Qa(t,n);if(ND(r)){var e=DD(r);return{id:i,mimeType:lc(t,n),fileName:e(t,n),description:e(t,n),data:xD(t,n)}}}function OD(t,n,i){var r=Qa(t,n);if(ND(r)){for(var e=DD(r),u=[];n.nc<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function BD(t,n,i){var r=Qa(t,n);if(ND(r)){for(var e=DD(r),u=vc(t,n,3),s=Qa(t,n),o=Qa(t,n),a=e(t,n),c=!1,h=[];n.nc<t.byteLength;){var f=void 0;if(1===r){var v=mc(t,n);void 0===v?v=c:c=v,f=pc(t,n,v)}else f=e(t,n);if(!f||n.nc+4>t.byteLength)break;h.push({text:f,timestamp:oc(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function VD(t,n,i){return{id:i,ownerIdentifier:lc(t,n),identifier:xD(t,n)}}function FD(t,n,i){var r=Qa(t,n);if(ND(r)){var e=DD(r);return{id:i,language:vc(t,n,3),description:e(t,n),text:e(t,n)}}}function UD(t,n,i){var r=Qa(t,n);if(ND(r))return{id:i,text:DD(r)(t,n)}}function WD(t,n,i){return{id:i,url:lc(t,n)}}function ZD(t,n,i){var r=Qa(t,n);if(ND(r)){var e=DD(r);return{id:i,description:e(t,n),text:e(t,n)}}}function XD(t,n,i){var r=Qa(t,n);if(ND(r))return{id:i,description:DD(r)(t,n),url:lc(t,n)}}function GD(t,n,i){switch(i){case"COM":return LD(t,n,i);case"GEO":return MD(t,n,i);case"IPL":return OD(t,n,i);case"PIC":return function(t,n,i){var r=Qa(t,n);if(ND(r)){var e,u,s=DD(r),o=vc(t,n,3),a=Qa(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=lc(t,n)):(e="image/"+o.toLowerCase(),u=xD(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return BD(t,n,i);case"TXX":return ZD(t,n,i);case"UFI":return VD(t,n,i);case"ULT":return FD(t,n,i);case"WXX":return XD(t,n,i);default:if("T"===i.charAt(0))return UD(t,n,i);if("W"===i.charAt(0))return WD(t,n,i)}}function HD(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Qa(t,n);if(ND(r)){var e=DD(r),u=lc(t,n);return{id:i,mimeType:u,pictureType:Qa(t,n),description:e(t,n),data:"--\x3e"===u?lc(t,n):xD(t,n)}}}(t,n,i);case"COMM":return LD(t,n,i);case"COMR":return function(t,n,i){var r=Qa(t,n);if(ND(r)){var e,u,s=DD(r),o=lc(t,n),a=vc(t,n,8),c=lc(t,n),h=Qa(t,n),f=s(t,n),v=s(t,n);return n.nc<t.byteLength&&(e=lc(t,n)||"image/",u=xD(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return MD(t,n,i);case"IPLS":return OD(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:lc(t,n),data:xD(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Qa(t,n),position:oc(t,n)}}(t,n,i);case"SYLT":return BD(t,n,i);case"TXXX":return ZD(t,n,i);case"UFID":return VD(t,n,i);case"USER":return function(t,n,i){var r=Qa(t,n);if(ND(r)){var e=DD(r);return{id:i,language:vc(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return FD(t,n,i);case"WXXX":return XD(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return UD(t,n,i);default:var r=i.charAt(0);if("T"===r)return UD(t,n,i);if("W"===r)return WD(t,n,i)}}F(),Tt(),F(),Tt();var zD=10;function YD(t,n){return(127&Qa(t,n))<<21|(127&Qa(t,n))<<14|(127&Qa(t,n))<<7|127&Qa(t,n)}function jD(t,n){switch(t){case 4:return{s6:Ja(n,0),n6:Ja(n,1),r6:Ja(n,2),o6:Ja(n,3)};case 3:return{s6:Ja(n,0),n6:Ja(n,1),r6:Ja(n,2)};case 2:return{s6:Ja(n,0),h6:Ja(n,1)}}}function KD(t,n,i){switch(i.aN){case 3:i.uN.n6&&function(t,n){var i=n.nc,r=oc(t,n)+4,e=32768&uc(t,n);n.Db(i+r),e&&oc(t,n)}(t,n);break;case 4:i.uN.n6&&function(t,n){var i=n.nc,r=YD(t,n);n.Db(i+r)}(t,n)}}function qD(t,n){if(t.byteLength-n.nc<zD)return null;if(73!==Qa(t,n)||68!==Qa(t,n)||51!==Qa(t,n))return null;var i=Qa(t,n),r=Qa(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Qa(t,n),u=YD(t,n);return{aN:i,a6:r,uN:jD(i,e),u6:u}}function JD(t,n,i){switch(i){case 2:return function(t,n){if(!(n.nc+6>t.byteLength))return{o:vc(t,n,3),Ob:rc(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.nc+10>t.byteLength)){var i=vc(t,n,4),r=oc(t,n);Qa(t,n);var e=Qa(t,n);return{o:i,Ob:r,uN:{h6:Ja(e,0),c6:Ja(e,1),groupingIdentity:Ja(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.nc+10>t.byteLength)){var i=vc(t,n,4),r=YD(t,n);Qa(t,n);var e=Qa(t,n);return{o:i,Ob:r,uN:{groupingIdentity:Ja(e,1),h6:Ja(e,4),c6:Ja(e,5),s6:Ja(e,6),l6:Ja(e,7)}}}}(t,n)}}function QD(t){for(var n=Lc(t),i=new E(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return Pc(Bc(i,0,r))}function $D(t,n){var i=n||new Uc,r=qD(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.nc,u=xc(t,e,e+i.u6),s=new Uc;switch(n.Pb(i.u6),i.aN){case 2:case 3:i.uN.s6&&(u=QD(u))}KD(t,n,i);for(;s.nc<u.byteLength;){var o=tx(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{sN:r,d6:e}}function tx(t,n,i){var r=JD(t,n,i.aN);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Ob){var e,u,s=n.nc,o=xc(t,s,s+r.Ob);switch(n.Pb(r.Ob),i.aN){case 2:var a=r;e=GD(u=o,new Uc,a.o);break;case 3:var c=r,h=new Uc;!function(t,n,i){var r,e,u,s=i.uN;s.h6&&(r=oc(t,n)),s.c6&&(e=Qa(t,n)),s.groupingIdentity&&(u=Qa(t,n))}(o,h,c),e=HD(u=xc(o,h.nc,o.byteLength),new Uc,c.o);break;case 4:var f=r,v=new Uc;f.uN.s6&&(o=QD(o)),function(t,n,i){var r,e,u,s,o=i.uN;o.groupingIdentity&&(r=Qa(t,n)),o.h6&&(e=oc(t,n)),o.c6&&(u=Qa(t,n)),o.l6&&(s=YD(t,n))}(o,v,f),e=HD(u=xc(o,v.nc,o.byteLength),new Uc,f.o)}if(!e){var d=Vc(Lc(u));e=PD(r.o,d.buffer)}return e}}F(),Tt();function nx(t){return Yn(t)&&"org.id3"===t.type&&Yn(t.value)}function ix(t){return function(t,n,i){return UD(t,n,i)}(new DataView(t.data),new Uc,t.key)}function rx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return ix(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return PD(t.key,t.data)}(t)}F(),Tt(),F(),Tt();var ex=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).P5=[],e.W5=[],e.Xo=qy.Mh,e.g5=Mw.NONE,e.G5=void 0,e.Zp=Ow.DEFAULT,e.y6=!1,e.A6=0,e.R6=function(){e._6(),e.tF.removeEventListener("cuechange",e.R6)},e.b6=function(){e.LE!==qy.Mh&&(e.I6(),e.q5(),e.P5.length&&e.v6(Mw.LOADING))},e.C6=function(){e.v6(Mw.LOADED)},e.P6=function(){e.v6(Mw.ERROR)},e.tF=n,e.w6=r,e.tF.addEventListener("cuechange",e.R6),e.tF.addEventListener("cuechange",e.b6),e.f6=i,e.f6&&(e.G5=Cl(e.f6.src),e.f6.addEventListener("load",e.C6),e.f6.addEventListener("error",e.P6)),e.eF=Tw(),e.iF=n.label||"",e.N5=new $N(e.P5),e.D5=new $N(e.W5),e.LE=e.g6,Dr((function(){e.b6(),e.v6(Mw.NONE)})),e}It(n,t);var i=n.prototype;return i.ka=function(){return tp(this)},i.UW=function(t){t.Ht!==this&&(t.Ht=this,this.tF.addCue(t.j5),this.b6())},i.RW=function(t){t.Ht===this&&(t.Ht=void 0,this.tF.removeCue(t.j5),this.b6())},i.M5=function(t){var n,i=null==(n=this.tF.cues)?void 0:n.getCueById(t);if(i){var r=ux(i);return r&&Jn(r)?r[0]:r}},i.PW=function(t){this.A6>=t||(this.A6=t,yp(this,t))},i._6=function(){var t=this.LE;this.p6||t!==qy.Qn?this.g6=t:this.g6=qy.GC},i.S6=function(){var t=this.LE,n=this.g6;t!==n&&(this.p6||t!==qy.Qn||n!==qy.GC)&&("metadata"===this.Lt&&n===qy.Mh?this.LE=t:this.y6&&n===qy.Mh&&t===qy.Qn?this.g6=t:this.LE=n)},i.p5=function(t){this.g5!==t&&(this.g5=t,this._o(new tD(this,t)))},i.v6=function(t){var n=k.max(this.g5,this.m6,t);this.p5(n)},i.T6=function(t){var n=ux(t);if(n)return n;if(Jn(n=this.k6(t)))for(var i=0;i<n.length;i++){n[i].Ht=this}else n.Ht=this;return n},i.k6=function(t){var n=this.E6(t);return t.THEOplayerTextTrackCue=n,n},i.E6=function(t){return t.endTime<this.A6?[]:nx(t)?(this.zw=Ow.ID3,function(t){var n;try{n=rx(t.value)}catch(t){n=PD("")}return new CD(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.zw=Ow.ID3,function(t){var n=[];try{var i=$D(new DataView(t.data));if(i)for(var r=0,e=i.d6;r<e.length;r++){var u=e[r];n.push(new CD(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.zw=Ow.WEBVTT,function(t){return"regionId"in t}(t)?new TD(t):new AD(t)):new mD(t)},i.x6=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.T6(null!=(e=t[r])?e:t.item(r));if(Jn(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.I6=function(){for(var t=this.x6(this.tF.cues),n=QN(this.P5,t),i=0,r=n.C5;i<r.length;i++){var e=r[i];e.vn(Xw.RO,this.b6),e.vn(Xw.IO,this.b6),this._o(new sD(e))}for(var u=0,s=n.R5;u<s.length;u++){var o=s[u];o.bn(Xw.IO,this.b6),o.bn(Xw.RO,this.b6),this._o(new eD(o))}},i.q5=function(){for(var t=this.x6(this.tF.activeCues),n=QN(this.W5,t),i=0,r=n.C5;i<r.length;i++){r[i].so=!1}for(var e=0,u=n.R5;e<u.length;e++){u[e].so=!0}(n.R5.length||n.C5.length)&&this._o(new yD(this))},i.HC=function(t){this.LE=t},i.yn=function(){this.Ro();for(var t=this.P5.slice(),n=0;n<t.length;n++){t[n].yn()}ir(this.P5),ir(this.W5),this.tF.removeEventListener("cuechange",this.R6),this.tF.removeEventListener("cuechange",this.b6),this.f6&&(this.f6.removeEventListener("load",this.C6),this.f6.removeEventListener("error",this.P6),oi(this.f6))},Nt(n,[{key:"q",get:function(){return this.D5}},{key:"XW",get:function(){return this.f6?this.f6.default:void 0}},{key:"L",get:function(){return this.N5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"o",get:function(){return this.tF.id||this.f6&&this.f6.id||""}},{key:"OC",get:function(){return this.eF}},{key:"ZC",get:function(){return this.tF.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.tF.kind||ep.TW}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,void 0!==this.f6&&(this.f6.label=t),this._o(new bw(this)))}},{key:"gs",get:function(){return this.tF.language||""}},{key:"LE",get:function(){return this.Xo},set:function(t){var n=this.LE;this.Xo=Jy(t),this._6();var i=this.LE;n!==i&&this._o(new pw(this)),i!==qy.Mh&&this.v6(Mw.LOADING)}},{key:"g6",get:function(){return Jy(this.tF.mode)},set:function(t){this.tF.mode=t}},{key:"sF",get:function(){return this.tF}},{key:"aR",get:function(){return this.g5}},{key:"m6",get:function(){return this.f6?Number(this.f6.readyState)||Mw.NONE:Mw.LOADED}},{key:"zC",get:function(){return this.G5}},{key:"zw",get:function(){return this.Zp},set:function(t){this.Zp!==t&&(this.Zp=t,this._o(new iD(this)))}},{key:"p6",get:function(){return this.w6},set:function(t){var n=this;this.w6=t,t&&(this.y6=!0,g((function(){n.y6=!1}),50)),this._6()}}]),n}(la);function ux(t){return null==t?void 0:t.THEOplayerTextTrackCue}F(),Tt(),Rt(),F(),Tt();function sx(t,n){return Wi(t.DV,n.DV)||function(t,n){return t.Ht===n.Ht?Ui(JN(t),JN(n)):wp(t.Ht,n.Ht)}(t.uF,n.uF)||function(t,n){return t===n?Fi.eh:t===Xw.IO?Fi.Hm:Fi.Zm}(t.type,n.type)}var ox=function(){function t(t,n){var i=this;this.Hl=[],this.M6=0,this.Pn=0,this.D6=[],this.z6=[],this.L6=[],this.B6=!1,this.O6=!1,this.F6=0,this.Q6=function(){i.M6=0,i.e9(),i.Y6()},this.i9=function(){i.e9(),i.Y6()},this.s9=function(){i.B6=!0,i.i9()},this.n9=function(){i.O6=!0,i.F6=0,i.N6()},this.V6=function(){i.W6(),i.e9(),i.Y6()},this.Z6=function(t){var n=t.uF;tr(i.z6,n)||i.z6.push(n),i.t9(n),i.q6()},this.H6=function(t){var n=t.uF;Ji(i.D6,n),Ji(i.z6,n),i.t9(n),i.q6()},this.X6=function(t){i.t9(t.uF),i.q6()},this.j6=n,this.na=t,t.bn(ya._b,this.i9),t.bn(ya.ho,this.s9),t.bn(Np.uB,this.i9),t.bn(ya.Ky,this.i9),t.bn(ya.ib,this.n9),t.bn(ya.eb,this.i9),this.q6()}var n=t.prototype;return n.nr=function(){ir(this.D6);for(var t=0,n=this.Hl.slice();t<n.length;t++){var i=n[t];this.it(i)}this.N6(),this.M6=0,this.Pn=0,ir(this.L6),this.B6=!1,this.O6=!1,this.F6=0},n.tt=function(t){tr(this.Hl,t)||(this.Hl.push(t),t.bn(Og.da,this.V6),t.LE!==qy.Mh&&this.W6())},n.it=function(t){Ji(this.Hl,t)&&(t.vn(Og.da,this.V6),t.LE!==qy.Mh&&this.W6())},n.W6=function(){var t=this.L6,n=this.Hl.filter((function(t){return t.LE!==qy.Mh}));this.L6=n;for(var i=0;i<t.length;i++){var r=t[i];tr(n,r)||this.U6(r)}for(var e=0;e<n.length;e++){var u=n[e];tr(t,u)||this.G6(u)}this.F6=0},n.G6=function(t){if(t.bn(Og.KR,this.Z6),t.bn(Og.QR,this.H6),t.bn(Og.$R,this.X6),t.L.V>0){for(var n=0,i=t.L.mC;n<i.length;n++){var r=i[n];this.z6.push(r)}this.q6()}},n.U6=function(t){if(t.vn(Og.KR,this.Z6),t.vn(Og.QR,this.H6),t.vn(Og.$R,this.X6),t.L.V>0){for(var n=0,i=t.L.mC;n<i.length;n++){var r=i[n];Ji(this.D6,r),Ji(this.z6,r)}this.q6()}},n.Y6=function(){this.na.dR||this.na.JI?this.N6():this.q6()},n.q6=function(){this.B6&&0!==this.L6.length&&(this.F6-this.na.RI>.25*this.na.tR||this.M6||(this.M6=this.j6.K6(this.Q6)))},n.N6=function(){this.M6&&(this.j6.J6(this.M6),this.M6=0)},n.t9=function(t){0!==this.F6&&(t.so!==zN(t,this.na.RI)?this.F6=0:this.Pn<t.lF&&t.lF<this.F6?this.F6=t.lF:this.Pn<t.dF&&t.dF<this.F6&&(this.F6=t.dF))},n.e9=function(){if(this.B6&&0!==this.L6.length&&!this.na.dR){var t=this.L6,n=this.Pn,i=this.na.RI,r=i-n<-.1,e=this.O6||r;e&&i>n&&i-n<.1&&(e=!1),this.O6=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.q5(i,e);c<s&&(s=c);for(var h=0,f=a.q.mC;h<f.length;h++){var v=f[h];u.push(v)}}var d=this.D6.slice();if(e);else for(var l=0;l<t.length;l++){gp(t[l],n-Se,i,d)}for(var g=d.length-1;g>=0;g--)tr(u,d[g])&&Qi(d,g);var w=[];if(!e)for(var m=d.length-1;m>=0;m--){var y=d[m];y.lF>n&&y.dF<=i&&(w.push(y),Qi(d,m))}for(var p=0,_=this.z6;p<_.length;p++){var b=_[p];b.lF!==b.dF&&Ji(w,b)}ir(this.z6);for(var A=[],T=[],S=0;S<w.length;S++){var E=w[S];E.so||A.push(new cD(E,E.lF)),A.push(new fD(E,k.max(E.lF,E.dF))),E.so=!1}for(var I=0;I<d.length;I++){var R=d[I];R.so&&(A.push(new fD(R,k.max(R.lF,R.dF))),R.so=!1)}for(var C=0;C<u.length;C++){var N=u[C];N.so||(A.push(new cD(N,N.lF)),N.so=!0)}A.sort(sx);for(var D=0;D<A.length;D++){var x=A[D],P=x.uF;P._o(x);var L=P.Ht;L&&(x.type===Xw.IO?L._o(new dD(P)):L._o(new gD(P)),tr(T,L)||T.push(L))}T.sort(wp);for(var M=0;M<T.length;M++){var O=T[M];O._o(new yD(O))}this.Pn=i,this.D6=u,this.F6=s}},n.yn=function(){this.nr(),this.na.vn(ya._b,this.i9),this.na.vn(ya.ho,this.s9),this.na.vn(Np.uB,this.i9),this.na.vn(ya.Ky,this.i9),this.na.vn(ya.ib,this.n9),this.na.vn(ya.eb,this.i9)},t}();F(),Tt();var ax=function(){function t(){}var n=t.prototype;return n.K6=function(t){return pI(t)},n.J6=function(t){_I(t)},t}(),cx=new ax,hx=function(t){function n(n,i){return void 0===i&&(i=cx),t.call(this,n,i)||this}return It(n,t),n}(ox);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var fx=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return It(n,t),n.prototype.RF=function(t){return SD(this,t)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=RD(this)),this.eu}}]),n}(nm);F(),Tt(),Rt(),F(),Tt(),Rt();var vx=function(t){function n(n,i,r){return void 0===r&&(r=Ow.DEFAULT),t.call(this,ep.xW,"",i||"","",!1,r,!1,n)||this}return It(n,t),n}(aD),dx=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).zw=Ow.ID3,r}It(n,t);var i=n.prototype;return i.UW=function(n){ED(n,this.P5),t.prototype.UW.call(this,n)},i.ka=function(){return tp(this)},n}(vx),lx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).A6=0,i.b6=function(){i.LE!==qy.Mh&&(i.I6(),i.v6(Mw.LOADED))},i.tF=n,i.tF.addEventListener("cuechange",i.b6),i.LE=i.g6,Dr((function(){i.b6()})),i}It(n,t);var i=n.prototype;return i.V5=function(n){t.prototype.V5.call(this,n),this.g6=this.LE},i.UW=function(n){t.prototype.UW.call(this,n),n.j5.track!==this.tF&&this.tF.addCue(n.j5)},i.RW=function(n){t.prototype.RW.call(this,n),n.j5.track===this.tF&&this.tF.removeCue(n.j5)},i.PW=function(t){this.A6>=t||(this.A6=t,yp(this,t))},i.v6=function(t){this.aR=k.max(this.aR,t)},i.I6=function(){var t=this.tF.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(nx(s)&&s.endTime>=this.A6){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new gx(s);i.push(a)}else r.push(s)}Ei(i,YN);for(var c=QN(this.L.mC.slice(),i),h=0;h<r.length;h++){var f=r[h];this.tF.removeCue(f)}for(var v=0,d=c.C5;v<d.length;v++){var l=d[v];l.yn(),this.RW(l)}for(var g=0,w=c.R5;g<w.length;g++){var m=w[g];this.UW(m)}}},i.yn=function(){this.tF.removeEventListener("cuechange",this.b6),t.prototype.yn.call(this)},Nt(n,[{key:"o",get:function(){return this.tF.id||""}},{key:"ZC",get:function(){return this.tF.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.tF.language||""}},{key:"g6",get:function(){return Jy(this.tF.mode)},set:function(t){this.tF.mode=t}},{key:"sF",get:function(){return this.tF}}]),n}(dx),gx=function(t){function n(n){var i,r=n.startTime,e=rx(n.value);return(i=t.call(this,r,e,n.id)||this).j5=n,i.j5.THEOplayerTextTrackCue=i,i}return It(n,t),n.prototype.yn=function(){t.prototype.yn.call(this),this.j5.THEOplayerTextTrackCue=void 0},n}(fx);function wx(t){return"TXXX"===t.id||"TXX"===t.id}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var mx=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.FW=n,r.o9=i,r.c9=fo(),r._Z=Pt((function(t){var n;return Ot(this,(function(i){switch(i.label){case 0:return(n=t.Ht).zw?[3,2]:[4,n.Ay(Og.cC)];case 1:i.sent(),i.label=2;case 2:if(n.zw!==Ow.ID3)return[2];i.label=3;case 3:return 0!==n.L.V?[3,5]:[4,n.Ay(Og.KR)];case 4:return i.sent(),[3,3];case 5:return e.a9(n),[2]}}))})),r.vZ=function(t){var n=t.Ht;if(n.zw===Ow.ID3&&r.c9.has(n.OC)){var i=r.c9.get(n.OC);r.it(i),r.FW.ZW(i),n.vn(Og.KR,r.d9)}},r.d9=function(t){yx(t.uF)&&r.l9(t.uF)},r.r9(),r}It(n,t);var i=n.prototype;return i.r9=function(){this.o9.bn(Dg.XR,this._Z),this.o9.bn(Dg.qR,this.vZ)},i.h9=function(){this.o9.vn(Dg.XR,this._Z),this.o9.vn(Dg.qR,this.vZ)},i.a9=function(t){var n=t.L.mC[0];if(yx(n)){var i=function(t){var n=t.match(px);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.U.description),r=i.Ht,e=i.gs;if(!this.u9(r,e)){var u=this.FW.ZR(ep.TW,t.o,r,e,!1,Ow.TTML);this.tt(u),this.c9.set(t.OC,u);for(var s=0,o=t.L.mC;s<o.length;s++){var a=o[s];yx(a)&&this.l9(a)}t.bn(Og.KR,this.d9)}}},i.u9=function(t,n){return this.Z.mC.some((function(i){return i.Ch===t&&i.gs===n}))},i.l9=function(t){if(t.Ht)for(var n=this.c9.get(t.Ht.OC),i=Fy(t.U.text,n,{oW:0,hW:1/0,aW:t.lF}),r=0;r<i.length;r++){var e=i[r];n.UW(e)}},i.nr=function(){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:for(i=0,r=n.o9.mC;i<r.length;i++)r[i].vn(Og.KR,n.d9);for(e=0,u=n.Z.mC;e<u.length;e++)s=u[e],n.FW.ZW(s);return n.c9.clear(),[4,t.prototype.nr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.h9(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(_p);function yx(t){return function(t){return wx(t)&&px.test(t.description)}(t.U)}var px=/^Track:(.+),Lang:(.+)$/;F(),Tt(),Mt(),Dt(),Rt(),at(),Wt(),on(),F(),Tt();var _x=[ya.Ry,ya.Iy,ya.gb,ya.pb,ya.LICENSE_REQUEST_GENERATED];F(),Tt(),Dt(),Rt();var bx=function(t){function n(n){var i;return(i=t.call(this,ya.Iy)||this).errorObject=n,i}return It(n,t),Nt(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ma);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var kx=function(t){function n(n){var i;return(i=t.call(this,ya.Ry)||this).f9=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var Ax=function(t){function n(n){var i;return(i=t.call(this,"mb")||this).f9=n,i}return It(n,t),n}(ma),Tx=new kd,Sx=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return It(n,t),n}(ma),Ex=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).y9=n,e.p9=i,e.w9=r,e.g9=!1,e.k9=!1,e.zT=new mr,e.v9=!1,e.cT=function(t){if(!e.zT.ep.zm)switch(t.Eb){case"license-request":case"license-renewal":e.EU(t.Tb,t.xb).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new hw(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Eb))}},e.S9=function(t){e.y9.Ab.Ub((function(t,n){switch(t){case"usable":Kn.Gm((function(){e.k9=!0,e._o(new kx(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e._o(new Ax(n))}})),e.v9=!0,e._o(t)},e.T9=function(t){e.Ss(new hw(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.bn("Tb",e.cT),n.bn(ya.pb,e.S9),n.bn("lt",e.T9),n.QS.then((function(){return e.A9()}),(function(t){return e.Ss(t)})),e}It(n,t);var i=n.prototype;return i.nT=function(){var t=this;return this.g9=!0,Tx.Qo((function(n){return t.m9(n)}),this.zT.ep)},i.m9=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),kr(t),[4,n.p9.wU(t)];case 1:return s.sent(),[4,n.p9.yU(n.w9.Yw,n.w9.Sb,t)];case 2:return i=s.sent(),[4,n.y9.nT(n.w9.Yw,n.w9.Sb,i)];case 3:return s.sent(),[3,5];case 4:throw Ar(r=s.sent()),e=r instanceof sh?r.qb:void 0,u=new hw(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.EU=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Hc(t,rh())}(t)?[4,i.p9.LU(new E(t),i.zT.ep)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.p9.BU(new E(t),n,i.zT.ep)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(br(e=c.sent()))return[2];throw e;case 6:if(i.zT.ep.zm)return[2];u=i.b9,s=new ih,i.b9=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.y9.ir(r)];case 8:return c.sent(),[4,Mr(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof sh?o.qb:void 0,new hw(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Xb];case 12:c.sent(),c.label=13;case 13:return s.Zb(),i.b9===s&&(i.b9=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof hw?t:new hw(vd.CONTENT_PROTECTION_ERROR,t.message,t);this._o(new bx(n)),this.Ws()},i.A9=function(){this.y9.vn("Tb",this.cT),this.y9.vn(ya.pb,this.S9),this.y9.vn("lt",this.T9),this.k9=!1,this.v9=!1,this.zT.np(),this._o(new Sx(this))},i.Ws=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:t.Ro(),i.label=1;case 1:return void 0===(n=t.b9)?[3,3]:[4,n.Xb];case 2:i.sent(),i.label=3;case 3:if(t.b9!==n)return[3,1];i.label=4;case 4:return t.A9(),[4,t.y9.Ws().catch(_i)];case 5:return i.sent(),[2]}}))}))()},Nt(n,[{key:"_9",get:function(){return this.v9}}]),n}(la),Ix=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).x9=[],e.C9=void 0,e.N9=[],e.M9=function(t){if(t.type===ya.pb)return null!=e.F9||(e.F9=new nh),t.Ab.Ub((function(t,n){e.F9.Wb(n,t)})),void(e.E9&&e._o(new ba(e.F9)));e.Ds(t)},e.L9=function(t){t.session.vn(_x,e.Ds),t.session.vn("Ws",e.L9),Ji(e.x9,t.session),e.F9=void 0},e.aT=n,e.fT=i,e.I9=r,e}It(n,t);var i=n.prototype;return i.pU=function(){return this.I9.pU()},i.R9=function(t){return this.C9||(this.C9=this.P9(t)),this.C9},i.P9=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return kr(t),[4,n.I9.LU(new E(rh()),t)];case 1:if(i=r.sent(),kr(t),!n.fT)throw new p("Invalid MediaKeys when setting ServerCertificate");return[4,n.fT.vT(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.D9=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:if(!n.fT)throw new p("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.N9.push(t),[4,n.fT.dT("temporary")];case 2:return i=e.sent(),r=new Ex(i,n.I9,t),n.x9.push(r),r.bn(_x,n.M9),r.bn("Ws",n.L9),[2,r];case 3:return Ji(n.N9,t),[7];case 4:return[2]}}))}))()},i.B9=function(t){if(t.O9)return!1;for(var n=0,i=this.x9;n<i.length;n++){if(Rx(i[n].w9,t))return!0}for(var r=0,e=this.N9;r<e.length;r++){if(Rx(e[r],t))return!0}return!1},i.yn=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.fT=void 0,t.Ro(),n=t.x9.slice(),ir(t.x9),[4,et.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.F9=void 0,t.I9.Km(),[2]}}))}))()},Nt(n,[{key:"_T",get:function(){return this.aT}},{key:"E9",get:function(){return this.x9.every((function(t){return t._9}))}}]),n}(la);function Rx(t,n){if(t.O9)return!1;if(t.Yw!==n.Yw)return!1;if(Hc(t.Sb,n.Sb))return!0;if("sinf"===t.Yw&&"sinf"===n.Yw){var i=Cx(t),r=Cx(t);if(i&&r)return Hc(i,r)}return!1}function Cx(t){try{var n=Ic(Pc(new E(t.Sb)),new Uc),i=JSON.parse(n).sinf[0],r=new E(Jc(i)),e=new yy(Pc(r),new Uc);return Iy.XM(e).nL.oL.uL}catch(t){return}}var Nx=function(t){function n(n){var i;return(i=t.call(this)||this).zT=new mr,i.Yo=new kd,i.FT=void 0,i.I9=void 0,i.kZ=void 0,i.aT=void 0,i.t8=function(t){i.H9(t.Yw,t.Sb,i.zT.ep).catch((function(t){return i.Ss(t)}))},i.aO=n,i.aO.bn(Sa.My,i.t8),i}It(n,t);var i=n.prototype;return i.$n=function(t,n){this.kZ=t,this.XJ(n)},i.XJ=function(t){this.FT=t,this.W9(this.zT.ep).catch(Tr)},i.qJ=function(t){this.U9(t,this.zT.ep).catch(Tr)},i.U9=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(r=function(r,e){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:if(u=e[r],void 0===(null==(o=Hi(t,(function(t){return t.G9===u._T.jw})))?void 0:o.Z9))return[2,"continue"];if(null==(s=u.sZ)?void 0:s.some((function(t){return Hc(o.Z9,t)})))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.H9(u._T.Yw,o.Z9,n)];case 2:return a.sent(),[2,{v:void 0}];case 3:return Ar(a.sent()),[3,4];case 4:return[2]}}))},kr(n),!(null==(e=i.FT)?void 0:e.CZ))return[2];o=0,a=null!=(s=null==(u=i.FT)?void 0:u.CZ)?s:[],h.label=1;case 1:return o<a.length?[5,Bt(r(o,a))]:[3,4];case 2:if("object"===U(c=h.sent()))return[2,c.v];h.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},i.W9=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return Kn.Ys.bp?[4,n.X9(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.FT&&n.FT.z9?[4,n.q9(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.X9=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:if(!(null==(i=n.FT)?void 0:i.CZ))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.FT)?void 0:r.CZ)?u:[],g.label=1;case 1:if(!(s<o.length))return[3,14];if(!(a=o[s]).rZ||0===a.rZ.length)return[3,6];g.label=2;case 2:return g.trys.push([2,4,,5]),c={kids:a.rZ.map((function(t){return t.id}))},h=Cc(JSON.stringify(c)).buffer,[4,n.H9(Ao,h,t)];case 3:return g.sent(),e=!0,[3,5];case 4:return Ar(g.sent()),[3,5];case 5:if(e)return[2,!0];g.label=6;case 6:v=0,d=null!=(f=a.sZ)?f:[],g.label=7;case 7:if(!(v<d.length))return[3,12];l=d[v],g.label=8;case 8:return g.trys.push([8,10,,11]),[4,n.H9(a._T.Yw,l,t)];case 9:return g.sent(),e=!0,[3,11];case 10:return Ar(g.sent()),[3,11];case 11:return v++,[3,7];case 12:if(e)return[2,!0];g.label=13;case 13:return s++,[3,1];case 14:return[2,!1]}}))}))()},i.Y9=function(t){return t===_o||t===ko||t===bo||t===Ao},i.H9=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:if(kr(i),!n.byteLength)return[2];if(!r.FT||!r.FT.CZ.length)throw new hw(vd.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(!r.Y9(t))return[2];e=P_(t,n),u=r.FT.CZ,o=[],a=0,g.label=1;case 1:if(!(a<u.length))return[3,11];if(c=u[a],kr(i),!(h=e[c._T.Kw])||c._T.Yw!==t)return c._T.zw===Uo.Zw&&o.push(!1),[3,10];g.label=2;case 2:return g.trys.push([2,9,,10]),[4,r.K9(c,i)];case 3:return(f=g.sent()).pU()?[4,f.R9()]:[3,5];case 4:g.sent(),g.label=5;case 5:return v=r.aO.ZI,d={Yw:c._T.Yw,Sb:h,O9:v},o.push(!0),r.j9(f,d)?[4,f.D9(d)]:[3,8];case 6:return[4,g.sent().nT()];case 7:g.sent(),r._o(new ka(h)),g.label=8;case 8:return[2];case 9:return Ar(l=g.sent()),s=l,[3,10];case 10:return a++,[3,1];case 11:return 0===o.length||o.some(bi)?[4,Kn.fw()]:[2];case 12:throw g.sent()?new hw(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new hw(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.q9=function(t){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.FT)?void 0:i.CZ))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],kr(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.K9(u,t)];case 3:return(s=o.sent()).pU()?[4,s.R9()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Ar(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.j9=function(t,n){return Kn.Ys.yp||this.aO.vO._O||!t.B9(n)},i.K9=function(t,n){var i=this;return this.Yo.Qo((function(n){return i.Q9(t,n)}),n)},i.Q9=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:if(kr(n),!i.FT||!i.I9||!i.kZ)throw new p("Not initialized");if(i.aT){if(i.aT._T!==t._T)throw new p("Internal key system error");return[2,i.aT]}return r=i.I9,e=ao({},t,{eH:t.eH.map((function(n){var i;return ao({},n,{persistentState:null!=(i=n.persistentState)?i:r.VU(t._T),ST:n.ST||r.ST(t._T)})}))}),[4,i.kZ.UJ(e._T,e.eH)];case 1:return u=a.sent(),s=r.iZ(e),(o=new Ix(e._T,u,s)).bn(_x,i.Ds),i.aT=o,[2,o]}}))}))()},i.Ss=function(t){if(!br(t)){var n=t instanceof hw?t:new hw(vd.CONTENT_PROTECTION_ERROR,t.message,t);this._o(new bx(n))}},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.kZ=void 0,t.FT=void 0,t.zT.np(),t.zT=new mr,[4,t.J9()];case 1:return n.sent(),[2]}}))}))()},i.J9=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,t.Yo.np()];case 1:return i.sent(),(n=t.aT)?(n.vn(ya.gb,t.Ds),t.aT=void 0,[4,n.yn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.aO.vn(Sa.My,t.t8),[4,t.nr()];case 1:return n.sent(),[4,t.Yo.yn()];case 2:return n.sent(),[2]}}))}))()},Nt(n,[{key:"V9",get:function(){var t;return null==(t=this.aT)?void 0:t._T}},{key:"zZ",get:function(){return this.I9},set:function(t){this.I9=t}}]),n}(la);F(),Tt(),Rt();var Dx=function(t){function n(n){var i;return(i=t.call(this,ya.Gy)||this).currentTime=n,i}return It(n,t),n}(ma);F(),Tt(),Dt(),Rt();var xx=function(t){function n(n){var i;return(i=t.call(this)||this).s8=n,i}It(n,t);var i=n.prototype;return i.p5=function(){var t;null==(t=this.e8)||t.p5()},i.nr=function(){var t;null==(t=this.e8)||t.nr()},i.Km=function(){this.Ro(),void 0!==this.e8&&(this.e8.Km(),this.e8=void 0)},i.i8=function(t){if(this.e8!==t){var n=this.aR;void 0!==this.e8&&this.e8.Km(),this.e8=t,void 0!==t&&(t.bn(Np.aC,this.Ds),t.p5());var i=this.aR;n!==i&&this._o(new xp(this.s8.RI,i))}},Nt(n,[{key:"aR",get:function(){return void 0!==this.e8?this.e8.aR:Pp.TO}}]),n}(la);F(),Tt(),Dt(),Rt();var Px=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,Ow.WEBVTT)||this}It(n,t);var i=n.prototype;return i.n8=function(t,n,i){var r=new rm(t,n,i,!1);return this.UW(r),r},i.r8=function(t){this.RW(t)},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=Lx(this)}}]),n}(aD);function Lx(t){return Ug(tp(t),{get type(){return t.zw},addCue:function(n,i,r){return t.n8(n,i,r).wa},removeCue:function(n){t.r8(n.cF)}})}F(),Tt(),Dt(),Rt();var Mx=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).JE=!1,r.o8=[],r.h8=function(){var t;null==(t=r.f6)||t.removeEventListener("load",r.h8),r.JE=!0;for(var n=0,i=r.o8;n<i.length;n++){var e=i[n];r.UW(e)}ir(r.o8)},null==(e=r.f6)||e.addEventListener("load",r.h8),r.zw=Ow.WEBVTT,r}It(n,t);var i=n.prototype;return i.n8=function(t,n,i){var r=this.k6(new f.VTTCue(t,n,i));return this.JE?this.UW(r):this.o8.push(r),r},i.r8=function(t){Ji(this.o8,t),this.RW(t)},i.yn=function(){var n;t.prototype.yn.call(this),null==(n=this.f6)||n.removeEventListener("load",this.h8),ir(this.o8)},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=Lx(this)}}]),n}(ex),Ox=Gn.Ug||Gn.Zg,Bx=Gn.Bm,Vx=Gn.$g,Fx=Gn.$g&&Gn.su,Ux=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).bZ=void 0,u.LH=!0,u.kZ=void 0,u.v7=new kd,u.c8=void 0,u.ea=new lS,u.ta=new wS,u.r7=[],u.l8=void 0,u.Z8=0,u.G8=NaN,u.u8=void 0,u.t7=!1,u.A7=void 0,u._7=0,u.FH=!1,u._5=!1,u.ott=Pp.TO,u.m8=0,u.W8=et.resolve(),u.V8=new mr,u.B8=[],u.Uo=FA.WB(),u.w8=void 0,u.b8=1,u.T8=!1,u.S8=1,u.f8=!1,u.S7=!1,u.T7=!1,u.X8=!1,u._8=!1,u.v8=!1,u.a8=!1,u.ett=!1,u.E7=0,u.k8=!1,u.o7=function(t){var n=t.track,i=u.d7(n);if(!Zx(u.n7,n)){if(Gn.$g){if(n.kind===ep.xW)return void u.u7(n);if(n.kind===ep.kW&&""===n.label&&""===n.language&&!Xx(n))return void u.l7(n,i)}u.n7.tt(new ex(n,i))}},u.h7=function(t){var n=Zx(u.n7,t.track);n&&u.n7.it(n)},u.a7=function(){for(var t=0;t<u.n7.V;t++){var n=u.n7.wC(t);n instanceof ex&&n.S6()}},u.m7=function(){if(void 0!==u.kZ&&QR(u.kZ)&&!u.JI){var t=u.kZ,n=t.d4,i=t.f4;if(n&&i)if(t.r$)u.y7();else if(t.aR!==NN.M3){var r=n.SI,e=i.SI;if(0!==r.V||0!==e.V){var s=u.RI;if(s<r.Sn(0)||s<e.Sn(0))u.y7();else if(r.wr(s)!==e.wr(s)){if(t.u$(s))return;u.w7()}else{if(u.y7(),!u.E7&&u.D8.k5())r.SB(e).IB(s,s+.5)&&(u.E7=pI(u.htt))}}else u.y7()}}},u.htt=function(){u.E7=0,u.m7()},u.p7=function(){if(!u.dR&&!u.f5&&!(u.g8.aR>=Pp.EO)&&void 0!==u.kZ&&QR(u.kZ)){var t=u.kZ,n=t.d4,i=t.f4;if(n&&i){var r=u.RI,e=n.SI,s=i.SI;if(e.wr(r)&&s.wr(r))e.SB(s).IB(r-5,r)&&(u.a8?u.y7():u.b7())}}},u.D7=function(){u._o(new TT(u.RI))},u.N7=function(){u.F8(new _r),u._o(new AT(u.RI))},u.R7=function(){u.N8(),u._o(new Fp(u.RI))},u.F7=function(){u.y8()},u.W7=function(){u._o(new ST(u.ct))},u.L7=function(){u._o(new oC(u.RI))},u.B7=function(){u._o(new aC)},u.H7=function(){u.FH||u._5||u.t7?u.t7=!1:u._o(new CT(u.RI))},u.X7=function(){u.j8(u.RI),u.t7=!1},u.M7=function(){var t=u.RI,n=u.dR,i=u.g8.aR<Pp.EO&&!u.MI,r=void 0!==u.A7,e=r&&u.A7!==t;u.f7(),(n||!r||e&&!i)&&u.J8()},u.O7=function(){u.bQ()},u.G7=function(){if(null!==u.hk.error){var t,n=u.hk.error;u.uH(new vw(null!=(t=n.code)?t:fw.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.Z7=function(){u.S7&&(u.I7(),u.T7=!0)},u.att=function(t){if(Kn.Um(u.m8),u.m8=0,t.readyState<=Pp.kO)if(u.FH||u._5){var n=Kn.Wm()-u.Z8;if(n<250)return void(u.m8=Kn.Gm((function(){return u.att(t)}),250-n))}else if(void 0!==u.kZ&&u.kZ.u$(u.RI))return void(u.m8=Kn.Gm((function(){return u.att(t)}),250));u.ott!==t.readyState&&(u.ott=t.readyState,u._o(t))},u.V7=function(){u.p8()},u.U7=function(){u.pR>0&&u.vR>0&&u._o(new Rp)},u.z7=function(t){u._o(new Ea(t.initDataType,t.initData||new ArrayBuffer(0)))},u.q7=function(){u._o(new Ia)},u.j7=function(t){var n=t.initData,i=n?Vc(n).buffer:new ArrayBuffer(0);u._o(new Ea(_o,i))},u.Y7=function(t){if(t.initData){var n=function(t){try{var n=Pc(t),i=new Uc;return Ac(Tc(tc(n,i,oc(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u._o(new Ea(ko,n))}else u._o(new Ea(ko,new ArrayBuffer(0)))},u.K7=function(t){var n=t.initData,i=n?Vc(n).buffer:new ArrayBuffer(0);u._o(new Ea(_o,i))},u.C8=function(){u.N8()},u.P8=function(t){u.F8(t)},u.utt=function(t){u._o(t),t.type===ya.Iy&&u.uH(lw(t.errorObject))},u.hk=n,u.ey=i,u.Ku=r,u.qH=e,u.g8=new xx(u),u.g8.bn(Np.aC,u.att),u.g8.i8(new UN(u)),u.D8=new GN(u),u.D8.bn(Np.uB,u.R7),u.zJ=new Nx(u),u.zJ.bn(_x,u.utt),u.Hl=new rp,u.n7=new rp,u.P7=new Wk([u.Hl,u.n7]),u.C7=new mx(u,u.P7),u.e7=new Wk([u.P7,u.C7.Z]),u.i7=new hx(u),u.k7(),u.iH(),u}It(n,t);var i=n.prototype;return i.d8=function(){return void 0!==this.l8&&this.ct===this.l8},i.y8=function(){var t=this.tR;this.b8!==t&&(this.b8=t,this._o(new ET(this.RI,t)))},i.p8=function(){var t=this.yR,n=this.qI;this.S8===t&&this.T8===n||(this.S8=t,this.T8=n,this._o(new NT(this.RI,this.yR)))},i.zI=function(){return DR(this.hk)},i.DR=function(){this.k8||(this.k8=!0);var t=this.E8();return this.x8(),t},i.x8=function(){this._8?this.v8&&(this.v8=!1,this._o(new TT(this.RI))):this.I8()},i.I8=function(){if(this.c8)this.c8.DR();else{Gn.$g&&!Gn.su&&this.hk.preload===cS.xH&&(this.hk.preload=cS.xW);var t=this.tR,n=this.hk.play();t!==this.SZ.playbackRate&&(this.tR=t),this.f8=!1,ii(n)?n.then(this.C8,this.P8):this.D8.k5()&&this.N8()}},i.PR=function(){this._8?this.v8||(this.v8=!0,this._o(new AT(this.RI))):this.M8()},i.M8=function(){this.c8?this.c8.PR():(this.hk.pause(),this.D8.ir()),this.L8(new _r)},i.E8=function(){var t=new ih;return this.B8.push(t),t.Xb},i.O8=function(){for(var t=0,n=this.B8;t<n.length;t++){n[t].Zb(void 0)}ir(this.B8)},i.L8=function(t){for(var n=0,i=this.B8;n<i.length;n++){i[n].Hb(t)}ir(this.B8)},i.N8=function(){this._8||this.c8||this.O8()},i.F8=function(t){this._8||this.c8||this.L8(t)},i.Db=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.c8?this.c8.Db(t,n,i):(this.V8.np(),this.V8=new mr,this.W8=Er(this.U8(t,n,i,this.W8,this.V8.ep),this.V8).catch(_i))},i.wZ=function(t){var n=this.EZ;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Db(i)}},i.U8=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,A;return Ot(this,(function(T){switch(T.label){case 0:return T.trys.push([0,24,,25]),u.l8=t,u.G8=t,u.Z8=Kn.Wm(),i&&!u.FH?u._5=!0:(u.FH=!0,u._5=!1),u.f8&&!u.d8()&&(u.f8=!1),u._5?(u._o(new PN(u.RI)),(Gn.Rg||Gn.Ng)&&(t+=.05)):u._o(new RT(t)),[4,r.catch(_i)];case 1:return T.sent(),kr(e),u.kZ&&!u.kZ.c$()?(u.H8(),[2]):(u.X8&&u.z8(),u.g8.aR!==Pp.TO?[3,3]:[4,u.g8.Ay(Np.aC,e)]);case 2:T.sent(),T.label=3;case 3:if(0!==u.hk.seekable.length&&(!Fx||u.k8))return[3,9];s={stack:[],error:void 0,hasError:!1},T.label=4;case 4:return T.trys.push([4,6,7,8]),o=Vt(s,mr.hp([e]),!1),[4,et.race([ag(u.hk,"timeupdate",o.ep),Mr(100,o.ep)])];case 5:return T.sent(),kr(e),[3,8];case 6:return a=T.sent(),s.error=a,s.hasError=!0,[3,8];case 7:return Ft(s),[7];case 8:return[3,3];case 9:c=AN(u.SI,t,.05),h=u.cR,f=!0,v=!1,T.label=10;case 10:0,d={stack:[],error:void 0,hasError:!1},T.label=11;case 11:return T.trys.push([11,20,21,22]),(h=u.cR).V>0&&!h.wr(c)&&(c=h.mB(c),f=!0),n&&!u.hk.fastSeek&&((g=u.SI).wr(c)||(w=AN(g,c,1))!==c&&(c=w,f=!0)),Vx&&void 0!==(m=u.q8())&&c>m&&(c=m,f=!0),v?[3,14]:void 0!==(y=u.Y8())&&c>y?(v=!0,[4,u.K8(y,!1,e)]):[3,14];case 12:return T.sent(),[4,ag(u.hk,"seeked",e)];case 13:T.sent(),kr(e),f=!0,T.label=14;case 14:return f?(f=!1,[4,u.K8(c,n,e)]):[3,18];case 15:T.sent(),kr(e),p=u.RI,h=u.cR,c=h.mB(c),_=1,T.label=16;case 16:return k.abs(c-p)>=Se?(h=u.cR,c=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.mB(t),e=Wx*i;r===n.Sn(0)?r+=e:r===n.Tn(n.V-1)&&(r-=e);return r}(c,h,_),[4,u.K8(c,n,e)]):[3,18];case 17:return T.sent(),kr(e),p=u.RI,_++,[3,16];case 18:return u.hk.seeking||u.g8.aR<Pp.kO?(b=Vt(d,mr.hp([e]),!1),[4,et.race([ag(u.hk,"seeked",b.ep),u.Ay([ya.jy,ya.Dy],b.ep),u.g8.Ay(Np.aC,b.ep),null==(l=u.kZ)?void 0:l.Ay(rC.LJ,b.ep)].filter(Yn))]):[3,23];case 19:return T.sent(),kr(e),[3,22];case 20:return A=T.sent(),d.error=A,d.hasError=!0,[3,22];case 21:return Ft(d),[7];case 22:return[3,10];case 23:return u.H8(),[3,25];case 24:return br(T.sent())?[2]:[3,25];case 25:return[2]}}))}))()},i.K8=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(kr(i),e=r.cR,t=e.mB(t),!r.X8)return[3,8];u=!0,h.label=1;case 1:if(!(u||r.g8.aR<Pp.EO))return[3,7];s={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,4,5,6]),(e=r.cR).wr(t)||(t=e.mB(t),u=!0),u?(u=!1,r.l8=t,r.j8(r.RI),[3,1]):(o=Vt(s,mr.hp([i]),!1),[4,et.race([r.Ay(ya.Dy,o.ep),r.g8.Ay(Np.aC,o.ep)])]);case 3:return h.sent(),[3,6];case 4:return a=h.sent(),s.error=a,s.hasError=!0,[3,6];case 5:return Ft(s),[7];case 6:return[3,1];case 7:kr(i),h.label=8;case 8:return c=ag(r.hk,"seeking",i),n&&r.hk.fastSeek?r.hk.fastSeek(t):r.hk.currentTime=t,r.l8=void 0,r.j8(r.RI),r.hk.seeking?[4,c]:[3,10];case 9:h.sent(),h.label=10;case 10:return[2]}}))}))()},i.q8=function(){if(this.kZ&&this.kZ.r$){var t=this.kZ.o$,n=this.kZ.h$,i=t&&n?t.jn(n):t||n;if(i&&0!==i.V){var r=i.Sn(i.V-1),e=i.Tn(i.V-1);return k.max(r,e-.001)}}},i.Y8=function(){if(this.kZ&&this.kZ.r$){var t=this.kZ.h$;if(t&&0!==t.V){var n=t.Sn(t.V-1),i=t.Tn(t.V-1)-.02;return i-=.001,k.max(n,i)}}},i.j8=function(t){this.G8!==t&&(this.G8=t,this._5?this._o(new PN(t)):this._o(new RT(t)))},i.H8=function(){var t=this._5;this.FH=!1,this._5=!1,this.Z8=0,this.G8=NaN,this.X8&&this.Q8(),t?(this._o(new Dx(this.RI)),this.J8()):(this._o(new CT(this.RI)),this.t7=!0),this.bQ()},i.z8=function(){this._8||(this.v8=this.JI,this._8=!0,this.M8())},i.Q8=function(){this._8&&(this._8=!1,this.v8||this.x8())},i.l$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.zw===Cp.zW&&sC.l$(i,this.hk))return i;if(i.zw===Cp.qW&&DN.l$(i))return i}},i.be=function(){this.LH=!1,Vr(this.hk)&&(this.hk.style.display="none")},i.ge=function(){this.LH=!0,Vr(this.hk)&&(this.hk.style.display="block")},i.ZR=function(t,n,i,r,e,u,s,o,a){var c=new aD(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.i7.tt(c),c},i.UZ=function(t){var n=t.Lt,i=t.Ch,r=t.gs;if("function"==typeof this.hk.addTextTrack&&"function"==typeof f.VTTCue){var e=this.s7("data:text/vtt,WEBVTT%0A%0A",n,i,r),u=e.track,s=e.trackElement,o=new Mx(u,s);return this.n7.tt(o),this.r7.push(o),o}var a=new Px(n,i,r);return this.Hl.tt(a),this.i7.tt(a),a},i.BZ=function(){return!0},i.FZ=function(t,n,i,r,e){var u=this.s7(t,n,i,r,e),s=u.track,o=u.trackElement,a=new ex(s,o);return this.n7.tt(a),this.r7.push(a),a},i.s7=function(t,n,i,r,e){var u=v.createElement("track");return u.src=Cl(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.default=Boolean(e),u.id=uI(),this.hk.appendChild(u),{track:this.hk.textTracks.getTrackById(u.id),trackElement:u}},i.ZW=function(t){this.Hl.it(t),this.i7.it(t)},i.GZ=function(){for(var t=0,n=this.Hl.mC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr();for(var i=0,r=this.r7.slice();i<r.length;i++){var e=r[i];this.n7.it(e),e.yn()}ir(this.r7)},i.iH=function(){var t=this.hk.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.o7),t.addEventListener("removetrack",this.h7),t.addEventListener("change",this.a7))},i.XZ=function(){var t=this.hk.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.o7),t.removeEventListener("removetrack",this.h7),t.removeEventListener("change",this.a7))},i.u7=function(t){t.mode=qy.GC;var n=new lx(t);this.n7.tt(n),this.i7.tt(n)},i.l7=function(t,n){var i=this,r=function(){Xx(t)&&(t.removeEventListener("cuechange",r),i.n7.tt(new ex(t,n)))};t.addEventListener("cuechange",r),t.mode=qy.GC},i.d7=function(t){for(var n=this.hk.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.f7=function(){if(0!==this.n7.V){var t=this.cR;if(0!==t.V){var n=t.Sn(0);if(this._7!==n){for(var i=0,r=this.n7.mC;i<r.length;i++){r[i].PW(n)}this._7=n}}}},i.$n=function(t){var n=this;return this.v7.Qo(Pt((function(i){var r,e;return Ot(this,(function(u){switch(u.label){case 0:if(kr(i),n.kZ)throw new p("Already loaded a media source");if(t.zw===Cp.zW)r=new sC(t,n,n.zJ,n.ey),n.X8=!1,n.g8.i8(n.g7());else{if(t.zw!==Cp.qW)throw new p("Unsupported configuration");n.X8=Ox,e=n.g7(),r=new DN(t,n,e,n.zJ,n.ey,void 0,n.Z4),n.g8.i8(e),Bx&&(n.bn(ya._b,n.m7),n.g8.bn(Np.aC,n.p7))}return n.kZ=r,[4,r.nQ()];case 1:return u.sent(),[2,r]}}))})))},i.g7=function(){return this.X8?new WN(this):new UN(this)},i.w7=function(){if(!this.a8){var t=this.tR;this.a8=!0,this.tR=t,this.hk.playbackRate=0,this.g8&&this.g8.p5()}},i.y7=function(){if(this.a8){var t=this.tR;this.a8=!1,this.tR=t,this.b7()}},i.b7=function(){this.hk.currentTime=this.hk.currentTime,this.g8&&this.g8.p5()},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.FH=!1,t._5=!1,t.t7=!1,Kn.Um(t.m8),t.m8=0,t.Uo=FA.WB(),t.V8.np(),t.l8=void 0,t.G8=NaN,t.u8=void 0,t.X8=!1,t._8=!1,t.bZ=void 0,t.f8=!1,t.A7=void 0,t._7=0,t.S7=!1,t.k8=!1,t.T7&&(t.k7(),t.T7=!1),t.L8(new _r),t.g8.i8(new UN(t)),t.D8.nr(),t.n7.nr(),t.y7(),Bx&&(_I(t.E7),t.E7=0,t.vn(ya._b,t.m7)),[4,t.v7.np()];case 1:return n.sent(),[4,t.v7.Qo(Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.kZ?[4,t.kZ.Km()]:[3,2];case 1:n.sent(),t.kZ=void 0,Gn.Rg&&Gn.Pg<3&&t.x7(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.x7=function(){this.I7();var t=this.hk,n=t.parentElement,i=t.tagName.toLowerCase();this.hk=Xr(i),this.retainMediaElementState(t),Gr(t),null==n||n.replaceChild(this.hk,t),this.k7(),this.g8.i8(this.g7()),this.D8.vn(Np.uB,this.R7),this.D8.Km(),this.D8=new GN(this),this.D8.bn(Np.uB,this.R7),this.LH?this.ge():this.be(),this._o(new GT),this._o(new HT)},i.retainMediaElementState=function(t){this.SZ.muted=t.muted,this.SZ.volume=t.volume},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.T7=!1,t.I7(),t.XZ(),[4,t.nr()];case 1:return n.sent(),[4,t.v7.yn()];case 2:return n.sent(),t.D8.Km(),t.g8.Km(),[4,t.zJ.Km()];case 3:return n.sent(),t.GZ(),t.Hl.yn(),t.n7.yn(),[4,t.C7.yn()];case 4:return n.sent(),t.P7.yn(),t.e7.yn(),t.Ro(),[2]}}))}))()},i.k7=function(){this.SZ.addEventListener("play",this.D7),this.SZ.addEventListener("pause",this.N7),this.SZ.addEventListener("timeupdate",this.M7),this.SZ.addEventListener("progress",this.L7),this.SZ.addEventListener("loadstart",this.B7),this.SZ.addEventListener("ended",this.O7),this.SZ.addEventListener("ratechange",this.F7),this.SZ.addEventListener("volumechange",this.V7),this.SZ.addEventListener("durationchange",this.W7),this.SZ.addEventListener("resize",this.U7),this.SZ.addEventListener("loadedmetadata",this.U7),this.SZ.addEventListener("error",this.G7),this.SZ.addEventListener("emptied",this.Z7),this.SZ.addEventListener("seeked",this.H7),this.SZ.addEventListener("seeking",this.X7),ha()?(this.hk.addEventListener("encrypted",this.z7),this.hk.addEventListener("waitingforkey",this.q7)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this.hk.addEventListener("webkitneedkey",this.Y7):fa()?this.hk.addEventListener("webkitneedkey",this.K7):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this.hk.addEventListener("msneedkey",this.j7)},i.I7=function(){this.SZ.removeEventListener("play",this.D7),this.SZ.removeEventListener("pause",this.N7),this.SZ.removeEventListener("timeupdate",this.M7),this.SZ.removeEventListener("progress",this.L7),this.SZ.removeEventListener("loadstart",this.B7),this.SZ.removeEventListener("ended",this.O7),this.SZ.removeEventListener("ratechange",this.F7),this.SZ.removeEventListener("volumechange",this.V7),this.SZ.removeEventListener("durationchange",this.W7),this.SZ.removeEventListener("resize",this.U7),this.SZ.removeEventListener("loadedmetadata",this.U7),this.SZ.removeEventListener("error",this.G7),this.SZ.removeEventListener("encrypted",this.z7),this.SZ.removeEventListener("waitingforkey",this.q7),this.SZ.removeEventListener("webkitneedkey",this.Y7),this.SZ.removeEventListener("webkitneedkey",this.K7),this.SZ.removeEventListener("msneedkey",this.j7),this.SZ.removeEventListener("emptied",this.Z7),this.SZ.removeEventListener("seeked",this.H7),this.SZ.removeEventListener("seeking",this.X7)},i.Q7=function(){this.c8||(this.Uo=this.sR,this.c8=ON(this),this.I7(),this.c8.bn(LN,this.Ds))},i.J7=function(){if(this.c8){var t=this.c8;this.c8=void 0,this.g8.p5(),BN(this,t),t.Km(),this.k7()}},i.J8=function(){var t=this.RI;this._o(new Eg(t,void 0)),this.A7=t},i.bQ=function(){this.f8||!this.MI||this.dR||(this.f8=!0,this._o(new IT(this.RI)))},i.uH=function(t){this.bZ=t,this.L8(this.bZ),this._o(new HN(this.bZ))},i.itt=function(){this.ett||(zr(this.hk,Kn.Ys),this.ett=!0)},i.stt=function(t){t.appendChild(this.hk)},i.H3=function(){Bx&&this.m7(),this.g8.p5()},i.FR=function(){this.zJ.J9().catch(_i),this.n7.nr()},Nt(n,[{key:"y5",get:function(){return this.a8}},{key:"SI",get:function(){return this.kZ?this.kZ.SI:FA.WB()}},{key:"kI",get:function(){var t=this.EZ;if(t&&!S(t.getTime())){var n=1e3*this.RI;return new Date(t.getTime()+n)}}},{key:"EZ",get:function(){if(this.SZ.getStartDate)return this.FH&&this.u8||(this.u8=this.SZ.getStartDate()),this.u8}},{key:"RI",get:function(){return this.c8?this.c8.RI:void 0!==this.l8?this.l8:this.hk.currentTime}},{key:"Hu",get:function(){return this.Ku}},{key:"ct",get:function(){return this.c8?this.c8.ct:this.kZ?this.kZ.ct:this.hk.duration}},{key:"MI",get:function(){return this.dR?this.d8():this.c8?this.c8.MI:this.hk.ended||this.f8}},{key:"lt",get:function(){return this.bZ}},{key:"SZ",get:function(){return this.hk}},{key:"JI",get:function(){return this._8?this.v8:this.c8?this.c8.JI:this.hk.paused}},{key:"sR",get:function(){return this.Uo.AB(FA.Cn(this.hk.played))}},{key:"Ti",get:function(){return this.hk.offsetHeight*Kn.Ys.pp}},{key:"ji",get:function(){return this.hk.offsetWidth*Kn.Ys.pp}},{key:"Sa",get:function(){return this.ea}},{key:"WZ",get:function(){return this.ta}},{key:"aR",get:function(){return this.g8.aR}},{key:"cR",get:function(){return this.kZ?this.kZ.cR:FA.WB()}},{key:"dR",get:function(){return this.c8?this.c8.dR:this.FH||this.hk.seeking&&!this._5}},{key:"f5",get:function(){return this.c8?this.c8.f5:this._5}},{key:"T5",get:function(){return 0!==this.m8}},{key:"qI",get:function(){return this.c8?this.c8.qI:this.hk.muted},set:function(t){this.c8?this.c8.qI=t:(this.hk.muted=t,this.p8())}},{key:"tR",get:function(){return this.c8?this.c8.tR:void 0!==this.w8?this.w8:this.hk.playbackRate},set:function(t){this.c8?this.c8.tR=t:this.JI||this.a8?(this.w8=t,this.y8()):(this.w8=void 0,this.hk.playbackRate=t,this.y8())}},{key:"A8",get:function(){return this.LH}},{key:"yR",get:function(){return this.c8?this.c8.yR:this.hk.volume},set:function(t){this.c8?this.c8.yR=t:(this.hk.volume=t,this.p8())}},{key:"nt",get:function(){return this.e7}},{key:"Wl",get:function(){return this.qH}},{key:"ZI",get:function(){return Boolean(this.hk.webkitCurrentPlaybackTargetIsWireless)}},{key:"ttt",get:function(){return this.ett}},{key:"vO",get:function(){return ao({},qR)}},{key:"zZ",get:function(){return this.zJ.zZ},set:function(t){this.zJ.zZ=t}},{key:"ntt",get:function(){return this.Z4},set:function(t){this.Z4=t}},{key:"V9",get:function(){return this.zJ.V9}},{key:"ER",get:function(){return this.S7},set:function(t){this.S7=t,this.T7&&!this.S7&&(this.T7=!1,this.k7())}}]),n}(la);var Wx=.01;function Zx(t,n){for(var i=0,r=t.mC;i<r.length;i++){var e=r[i];if(e.sF===n)return e}}function Xx(t){return!!t.cues&&t.cues.length>0}F(),Tt(),Dt(),Rt();var Gx={mJ:void 0,pJ:void 0,wJ:void 0,yJ:void 0,bJ:void 0,AJ:void 0,SJ:void 0,TJ:void 0,kJ:void 0,EJ:void 0},Hx=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=void 0,n}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=GR(this)),this.eu}},{key:"mJ",get:function(){}},{key:"pJ",get:function(){}},{key:"wJ",get:function(){}},{key:"yJ",get:function(){}},{key:"bJ",get:function(){}},{key:"AJ",get:function(){}},{key:"ctt",get:function(){}},{key:"SJ",get:function(){}},{key:"TJ",get:function(){}},{key:"kJ",get:function(){}},{key:"EJ",get:function(){}}]),n}(la),zx=function(t){function n(n,i,r){return t.call(this,n,i,r,new Hx)||this}return It(n,t),n.prototype.IR=function(){},Nt(n,[{key:"vR",get:function(){return 0}},{key:"pR",get:function(){return 0}}]),n}(Ux);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt();var Yx=function(){function t(t){void 0===t&&(t=5);var n=f.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.ltt=n,this.ge()}var n=t.prototype;return n.be=function(){this.ltt.style.display="none"},n.ge=function(){this.ltt.style.display="block"},n.stt=function(t){t.appendChild(this.ltt)},n.yn=function(){oi(this.ltt)},Nt(t,[{key:"we",get:function(){return this.ltt}}]),t}();function jx(t,n){return ao({},n,Gg(function(t){return{mJ:t.mJ,pJ:t.pJ,wJ:t.wJ,yJ:t.yJ,bJ:t.bJ,AJ:t.AJ,SJ:t.SJ,TJ:t.TJ,kJ:t.kJ,EJ:t.EJ}}(t)))}function Kx(t){return t.wJ&&$o(t.wJ,"%")?Number(t.wJ.replace("%",""))/100:t.wJ&&$o(t.wJ,"em")?Number(t.wJ.replace("em","")):1}F(),Tt(),Dt(),F(),Tt(),Rt(),nn(),qt(),F(),Tt(),Dt(),F(),Tt(),F(),Tt(),Dt();var qx=function(){function t(t,n,i,r){this.ftt=t,this.gtt=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.mtt=function(t){return this.ftt<t.dtt&&this.dtt>t.ftt&&this.gtt<t._tt&&this._tt>t.gtt},n.JO=function(t){return this.ftt<=t.ftt&&t.dtt<=this.dtt&&this.gtt<=t.gtt&&t._tt<=this._tt},n.Nb=function(){return new t(this.ftt,this.gtt,this.ji,this.Ti)},n.ptt=function(n){return new t(this.ftt+n,this.gtt+n,k.max(0,this.ji-2*n),k.max(0,this.Ti-2*n))},n.wtt=function(n){var i=k.min(this.ftt,n.ftt),r=k.max(this.dtt,n.dtt),e=k.min(this.gtt,n.gtt);return new t(i,e,r-i,k.max(this._tt,n._tt)-e)},Nt(t,[{key:"dtt",get:function(){return this.ftt+this.ji},set:function(t){this.ftt=t-this.ji}},{key:"_tt",get:function(){return this.gtt+this.Ti},set:function(t){this.gtt=t-this.Ti}}]),t}(),Jx=function(){function t(t,n,i,r,e){var u=this;this.Mtt=fo(),this.Ktt=!0,this.Ett=ao({},Gx),this.Qtt=[],this.Ltt=function(t){return u.UW(t.uF)},this.Btt=function(t){return u.RW(t.uF)},this.Ott=function(){return u.ztt()},this.Wtt=function(t){return u.Htt(t.uF)},this.Utt=function(t){return u.Xtt(t.uF)},this.Gtt=function(t){return u.jtt(t.uF)},this.Itt=function(t){return u.re(t.width,t.height)},this.AF=t,this.Ctt=this.Ttt=e,this.hk=this.iet(i),this.Ku=r,n.appendChild(this.hk)}var n=t.prototype;return n.ytt=function(t){var n=this.btt(t);if(!n)return!1;for(var i=0;i<n.length;i++){oi(n[i])}return this.Att(t),!0},n.nQ=function(){var t=this;this.xtt(),this.AF.L.mC.forEach((function(n){return t.UW(n)})),this.Hu.bn(TI.mn,this.Itt),this.re(this.Hu.Au,this.Hu.Nu)},n.Rtt=function(t){this.Ett=t,this.Ttt=jx(this.Ett,this.Ctt),this.Ttt.mJ&&(this.SZ.style.fontFamily=this.Ttt.mJ),this.re(this.Hu.Au,this.Hu.Nu),this.Ptt(!0)},n.Dtt=function(){return this.Ttt},n.Ntt=function(t){return this.Mtt.has(t.OC)},n.xtt=function(){this.AF.bn(Og.KR,this.Ltt),this.AF.bn(Og.QR,this.Btt),this.AF.bn(Og.da,this.Ott)},n.Ftt=function(){this.AF.vn(Og.KR,this.Ltt),this.AF.vn(Og.QR,this.Btt),this.AF.vn(Og.da,this.Ott)},n.Vtt=function(t){t.bn(Xw.IO,this.Wtt),t.bn(Xw.RO,this.Utt),t.bn(Xw.dC,this.Gtt)},n.Ztt=function(t){t.vn(Xw.IO,this.Wtt),t.vn(Xw.RO,this.Utt),t.vn(Xw.dC,this.Gtt)},n.UW=function(t){this.Vtt(t),t.so&&this.Htt(t)},n.RW=function(t){this.Ztt(t),this.Xtt(t)},n.ztt=function(){this.AF.LE===qy.Qn?this.qtt():this.Ytt()},n.qtt=function(){if(this.Ktt){this.Ktt=!1;var t=this.Hu.Au,n=this.Hu.Nu;this.re(t,n),this.Ptt(!1)}},n.Ytt=function(){this.Ktt||(this.Ktt=!0,this.Ptt(!0))},n.Htt=function(t){this.Ktt||t.so&&!this.Ntt(t)&&this.Ptt(!1)},n.Xtt=function(t){this.Ntt(t)&&this.Ptt(!0)},n.jtt=function(t){(t.so||this.Ntt(t))&&this.Ptt(!0)},n.Ptt=function(t){var n=this.Qtt,i=this.Ktt?[]:this.AF.q.mC.slice();this.Jtt(i,n,t),this.Qtt=i},n.btt=function(t){return this.Mtt.get(t.OC)},n.$tt=function(t,n){this.Mtt.set(t.OC,n)},n.Att=function(t){this.Mtt.delete(t.OC)},n.tet=function(t){var n=[],i=this.Ttt;if(void 0!==i.SJ){var r=t.Nb();r.Ti=i.SJ,n.push(r)}if(void 0!==i.TJ){var e=t.Nb();e.Ti=i.TJ,e._tt=t._tt,n.push(e)}return n},n.eet=function(){return this.Qtt.slice()},n.yn=function(){var t=this;oi(this.SZ),this.Mtt.clear(),this.Ftt(),this.AF.L.mC.forEach((function(n){return t.Ztt(n)})),this.Hu.vn(TI.mn,this.Itt)},Nt(t,[{key:"Ht",get:function(){return this.AF}},{key:"SZ",get:function(){return this.hk}},{key:"Hu",get:function(){return this.Ku}},{key:"Stt",get:function(){return this.Ttt}},{key:"ktt",get:function(){return this.Ett}}]),t}();function Qx(t,n,i,r,e){var u=t.Nb(),s=u,o=1,a=!1,c=T(getComputedStyle(n).lineHeight)/4;if(!S(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!rP(t,r,i[h],.01)&&(!r.JO(t)||$x(t,e));)iP(t,i[h],c);if(r.JO(t)){s=t.Nb(),a=!0;break}var f=eP(t,r);o>f&&(s=t.Nb(),o=f),t=u.Nb()}r.JO(t)||(s=u.Nb())}n.style.left=(s.ftt-r.ftt)/r.ji*100+"%",n.style.top=(s.gtt-r.gtt)/r.Ti*100+"%"}function $x(t,n){return n.some((function(n){return t.mtt(n)}))}function tP(t){return new qx(t.left,t.top,t.width,t.height)}var nP=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function iP(t,n,i){switch(n){case 0:t.ftt+=i;break;case 1:t.ftt-=i;break;case 2:t.gtt+=i;break;case 3:t.gtt-=i}}function rP(t,n,i,r){switch(i){case 0:return t.dtt>n.dtt+r;case 1:return t.ftt<n.ftt-r;case 2:return t._tt>n._tt+r;case 3:return t.gtt<n.gtt-r}}function eP(t,n){return k.max(0,k.min(t.dtt,n.dtt)-k.max(t.ftt,n.ftt))*k.max(0,k.min(t._tt,n._tt)-k.max(t.gtt,n.gtt))/(t.ji*t.Ti)}F(),Tt();var uP=function(t){return t.Yc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Kc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Zc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.tl='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({}),sP=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function oP(t){return cP[t||"none"]}var aP,cP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},hP="monospace, sans-serif",fP="Arial, Helvetica, sans-serif",vP='"Times New Roman", Times, serif',dP=vo({monospace:"monospace",sansSerif:fP,serif:vP,monospaceSansSerif:hP,monospaceSerif:"monospace, serif",proportionalSansSerif:fP,proportionalSerif:vP,default:hP}),lP=16,gP="1.3em",wP=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Gx)||this}It(n,t);var i=n.prototype;return i.iet=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",li(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=lP+"px",i.lineHeight=gP,n},i.re=function(t,n){var i=k.min(t/640,n/360),r=lP*i*Kx(this.Stt);this.SZ.style.fontSize=r+"px"},i.Jtt=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.so||this.ytt(u)}var s=[],o=tP(this.SZ.getBoundingClientRect());(r=s).push.apply(r,Kt(this.tet(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.het(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.ptt(.1))}},i.het=function(t,n,i){var r=this.btt(t);r||(r=this.aet(t),this.$tt(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.SZ.appendChild(u)}for(var s=[],o=[nP.POS_Y,nP.NEG_Y,nP.POS_X,nP.NEG_X],a=0;a<r.length;a++){var c=r[a];Qx(CP(c),c,o,i,n),s.push(CP(c))}return s},i.aet=function(t){var n=[],i=t.vW,r=t.uW,e=t.pW,u=t.U,s=t.fW,o=s?k.min(640/s.width,360/s.height):1,a=this.Stt;if(0===b.keys(r).length){var c=v.createElement("div");IP(c),mP(u,i,e,c,c,o,a),yP(c,"body",a),c.firstChild&&n.push(c)}else for(var h=0,f=b.keys(r);h<f.length;h++){var d=f[h],l=v.createElement("div");l.id=d,IP(l),bP(l,"region",r[d],i,o),mP(u,i,e,l,l,o,a),yP(l,"body",a),l.firstChild&&n.push(l)}return n},i.Rtt=function(n){return jR(this.SZ,n),t.prototype.Rtt.call(this,n)},n}(Jx);function mP(t,n,i,r,e,u,s){if(fg(t)&&function(t){var n=t.Mx.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=pP(t);if(!o||(null==e?void 0:e.id)===o){var a;if("BODY"===t.Mx.toUpperCase())a=e;else{if(a=function(t){var n;switch(t.Mx.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":RP(n=v.createElement("span")),_P(n,t);break;case"P":(function(t){RP(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),_P(n,t);break;case"DIV":_P(n=v.createElement("div"),t)}return n}(t),!a)return;r.appendChild(a)}!function(t,n,i,r,e){var u=n.Qx("style");TP(t,n.Mx,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.Kx;e<u.length;e++){var s=u[e];SP(t,n.Mx,s.Mx,s.Fx,i,r)}}(t,n,r,e)}(a,t,n,e,u),function(t,n,i){var r=null==n?void 0:n.Qx("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&kP(i,(function(t){return t.Kx.some((function(t){return"id"===t.Mx&&t.Fx===r}))}));e&&AP(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.Mx.toLowerCase())return;var r=i.m[0];AP(t,r,n)}(t,n)}(a,t,i),yP(a,t.Mx,s);for(var c=0,h=t.Ux;c<h.length;c++){mP(h[c],n,i,a,e,u,s)}}}else if(vg(t)){var f=v.createTextNode(t.$k);if("SPAN"!==r.nodeName.toUpperCase()){var d=v.createElement("span");RP(d),yP(d,"span",s),d.appendChild(f),r.appendChild(d)}else r.appendChild(f)}}function yP(t,n,i){var r=t.style;switch(i.mJ&&(r.fontFamily=i.mJ),i.pJ&&(r.color=i.pJ),n.toLowerCase()){case"span":i.yJ&&(r.background=i.yJ);break;case"p":case"div":i.bJ&&(r.backgroundColor=i.bJ);break;case"body":i.AJ&&(r.textShadow=oP(i.AJ))}}function pP(t){var n=t.Qx("region");if("p"===t.Mx.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(pP(s))}return cr(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function _P(t,n){var i=n.Jx(Dy,"id");i&&(t.id=i)}function bP(t,n,i,r,e){TP(t,n,i.style,r,t,e);for(var u=0,s=b.keys(i);u<s.length;u++){var o=s[u];SP(t,n,o,i[o],t,e)}}function kP(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=kP(r[i],n);if(e)return e}return null}function AP(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.Ux.length>0?t.Ux[0]:null;return n&&vg(n)?"data:image/png;base64,"+n.$k:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;li(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.Qx("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.Qx("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function TP(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=b.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?TP(t,n,r[a][f],r,e,u):SP(t,n,f,r[a][f],e,u)}}}function SP(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=dP.get(r))?o:r;break;case"fontSize":var a=r;if($o(a,"px")){var c=Number(a.slice(0,-2));a=c*u/lP+"em"}else $o(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=gP);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if($o(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var d,l,g=EP(n.toLowerCase())?e:t,w=r.split(" ",2);2===w.length?(d=w[0],l=w[1]):d=l="100%",g&&(g.style.height=l,g.style.width=d);break;case"origin":var m=EP(n.toLowerCase())?e:t,y=tn(r.split(" ",2),2),p=y[0],_=y[1];m&&(p||_)&&(p&&(m.style.left=p),_&&(m.style.top=_));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var b,k,A,T;switch(r){case"lrtb":case"lr":b="horizontal-tb";break;case"rltb":b="horizontal-tb",k="rtl",T="bidi-override";break;case"tbrl":case"tb":b="vertical-rl",A="upright";break;case"tblr":b="vertical-lr",A="upright";break;case"rl":b="horizontal-tb",k="rtl";break;default:return}s.writingMode=b,s.setProperty("-webkit-writing-mode",b),k&&(s.direction=k),A&&(s.textOrientation=A,s.setProperty("-webkit-text-orientation",A)),T&&(s.unicodeBidi=T);break;case"linePadding":if($o(r,"c")){var S=r.replace("c","em");s.paddingLeft=s.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function EP(t){return"div"===t||"p"===t||"span"===t}function IP(t){var n=t.style;li(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=fP,n.color=sP.WHITE,n.background=sP.TRANSPARENT,n.textShadow=oP("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function RP(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function CP(t){var n=tP(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.wtt(tP(e.getBoundingClientRect()))}return n}function NP(t){return aP||(aP=f.document.createElement("textarea")),aP.innerHTML=t,aP.value}function DP(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.nc),s="",o={zw:"starttag",Xx:"",uet:[]};n.nc<t.length+1;){switch(u=n.nc<t.length?t.charAt(n.nc):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.nc).match(/&#?[0-9a-zA-Z]+;/);a?(r+=NP(a[0]),n.Pb(a[0].length-1)):r+="&";break;case"<":if(r)return{zw:"string",U:r};i="Tag";break;case"EOF":return{zw:"string",U:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.Pb(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.Pb(1),{zw:"starttag",Xx:r,uet:[]};case"EOF":return{zw:"starttag",Xx:r,uet:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.Pb(1),e.push(s),{zw:"starttag",Xx:r,uet:e};case"EOF":return e.push(s),{zw:"starttag",Xx:r,uet:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.Pb(1);var c=s.trim();return{zw:"starttag",Xx:r,uet:e,cet:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.nc;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.Pb(1),{zw:"endtag",Xx:r};case"EOF":return{zw:"endtag",Xx:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.Pb(1),{zw:"timestamp",let:r};case"EOF":return{zw:"timestamp",let:r};default:r+=u}}n.Pb(1)}return o}F(),Tt(),Rt(),nn(),qt(),F(),Tt();var xP=function(t){return t.det="string",t.fet="starttag",t._et="endtag",t.vet="timestamp",t}({});function PP(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}F(),Tt();var LP={pJ:sP.WHITE,mJ:"sans-serif",wJ:"100%",yJ:"rgba(0,0,0,0.8)",bJ:sP.TRANSPARENT,AJ:"none",SJ:void 0,TJ:void 0,kJ:void 0,EJ:void 0},MP="theoplayer-webvtt-region-",OP="theoplayer-webvtt-styling-",BP="theoplayer-webvtt-default-style",VP=5.23,FP=1.14,UP=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,LP)||this).yet=ho(),u.wet=zP(3),u}It(n,t);var i=n.prototype;return i.iet=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,wi(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.Stt.mJ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(v.getElementById(BP))return;for(var t=[],n=0;n<KP.length;n++){var i=tn(KP[n],2),r=i[0],e=i[1];t.push("."+OP+r+" { color: "+e+" !important; }"),t.push("."+OP+"met"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("pet"+r+") { background-color: "+e+"; }")}var u=v.createElement("style");u.id=BP,u.innerHTML=t.join("\n"),v.body.appendChild(u)}(),n},i.nQ=function(){this.SZ.appendChild(this.wet),t.prototype.nQ.call(this)},i.re=function(t,n){var i=this,r=k.min(t/100,n/100),e=Kx(this.Stt);this.yet.forEach((function(t){var n=t.mF,u=t.bet;i.Aet(u,r,e,n)})),this.Aet(this.wet,r,e)},i.Rtt=function(n){jR(this.SZ,n),t.prototype.Rtt.call(this,n)},i.Jtt=function(t,n,i){for(var r,e=this,u=this.SZ,s=this.Hu.Nu/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.mF&&(tr(o,c.mF)||o.push(c.mF))}this.yet.forEach((function(t,n){var r=t.mF,u=t.bet;!i&&tr(o,r)||(oi(u),e.yet.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.so||this.ytt(f)}var v=[],d=tP(this.wet.getBoundingClientRect());(r=v).push.apply(r,Kt(this.tet(d)));for(var l=0;l<o.length;l++){var g=o[l],w=void 0;this.yet.has(g.o)?w=this.yet.get(g.o).bet:(w=YP(g,s),u.appendChild(w),this.yet.set(g.o,{mF:g,bet:w})),v.push(tP(w.getBoundingClientRect()))}t.sort(qP);for(var m=0;m<t.length;m++){var y=t[m],p=this.het(y,v,d);void 0!==p&&v.push(p.ptt(.1))}},i.het=function(t,n,i){var r,e;t.mF?(e=this.yet.get(t.mF.o).bet,"up"===t.mF.LF&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.wet;var u=null==(r=this.btt(t))?void 0:r[0];if(u||(u=this.Tet(t),this.$tt(t,[u])),e.appendChild(u),t.mF||(WP(u,t),t.pF?function(t,n,i,r){var e=jP(t),u=e?i.Ti:i.ji,s=T(getComputedStyle(n).lineHeight);if(0===s||S(s))return;var o=tP(n.getBoundingClientRect()),a=k.round(em(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.gtt+=c:o.ftt+=c;var h=o.Nb(),f=!1;for(;!i.JO(o)||$x(o,r);)if(e)if(s<0&&o.gtt<i.gtt||s>0&&o._tt>i._tt){if(o.gtt=h.gtt,f)break;s=-s,f=!0}else o.gtt+=s;else if(s<0&&o.ftt<i.ftt||s>0&&o.dtt>i.dtt){if(o.ftt=h.ftt,f)break;s=-s,f=!0}else o.ftt+=s;e?n.style.top=(o.gtt-i.gtt)/i.Ti*100+"%":n.style.left=(o.ftt-i.ftt)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=tP(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;jP(t)?"center"===t.vF?u.gtt-=u.Ti/2:"end"===t.vF&&(u.gtt-=u.Ti):"center"===t.vF?u.ftt-=u.ji/2:"end"===t.vF&&(u.ftt-=u.ji);e=""===t.Pt?[nP.POS_Y,nP.NEG_Y,nP.POS_X,nP.NEG_X]:"lr"===t.Pt?[nP.POS_X,nP.NEG_X,nP.POS_Y,nP.NEG_Y]:[nP.NEG_X,nP.POS_X,nP.POS_Y,nP.NEG_Y];Qx(u,n,e,i,r)}(t,u,i,n)),!t.mF)return tP(u.getBoundingClientRect())},i.Tet=function(t){for(var n=new Uc,i=t.U,r=this.ket(t),e={Eet:void 0,we:r},u=e,s="",o="",a=[e],c=[],h=[];n.nc<i.length;){var f=DP(i,n);if(f.zw===xP.det){var d=v.createElement("span");PP(d,f.U),ZP(d,a),""!==s&&(d.lang=s),this.xet(d,o),u.we.appendChild(d)}else if(f.zw===xP.fet){var l=f.Xx.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var g=v.createElement(l);u.we.appendChild(g),u={Eet:f,we:g},a.push(u);break;case"rt":var w;if("ruby"===(null==(w=u.Eet)?void 0:w.Xx.toLowerCase())){var m=v.createElement("rt");u.we.appendChild(m),u={Eet:f,we:m},a.push(u)}break;case"c":case"v":u={Eet:f,we:u.we},a.push(u);break;case"font":var y,p=null==(y=f.cet)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(o=p[1],h.push(o),u={Eet:f,we:u.we},a.push(u));break;case"lang":var _;s=null!=(_=f.cet)?_:"",c.push(s)}}else if(f.zw===xP._et){var b,k=f.Xx.toLowerCase(),A=null==(b=u.Eet)?void 0:b.Xx.toLowerCase();A===k?(a.pop(),u=a[a.length-1],"font"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")):"rt"===A&&"ruby"===k?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===k&&(c.pop(),s=c.length>0?c[c.length-1]:"")}else if(f.zw===xP.vet){var T=f.let,S=new Uc;try{qm(T,S)}catch(t){nu("ERROR collecting timestamp",t)}}}return r},i.xet=function(t,n){var i=this.Stt,r=this.ktt;i.yJ&&(t.style.background=i.yJ);var e=r.pJ||n||i.pJ;e&&(t.style.color=e)},i.Aet=function(t,n,i,r){if(r){var e=XP(r,n);t.style.height=e*i+"px",t.style.left=GP(r)+"%",t.style.top=HP(r,n)+"px"}t.style.fontSize=VP*n*i+"px"},i.ket=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.fF,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=om(n);jP(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),WP(n,t);var i=this.Stt.bJ;i&&(n.style.background=i);var r=this.Stt.pJ;return r&&(n.style.color=r),n.style.textShadow=oP(this.Stt.AJ),n},n}(Jx);function WP(t,n){var i,r,e=sm(n),u=um(n),s=om(n);if(jP(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.pF?0:em(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.pF?0:em(n)}t.style.left=i+"%",t.style.top=r+"%"}function ZP(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.Eet){for(var e=0,u=r.Eet.uet;e<u.length;e++){var s=u[e];vi(t,OP+s)}"v"===r.Eet.Xx.toLowerCase()&&r.Eet.cet&&vi(t,"theoplayer-webvtt-voice-"+r.Eet.cet)}}}function XP(t,n){return t.DF*(VP*n)*FP}function GP(t){return t.BF-t.NF*t.ji/100}function HP(t,n){var i=t.OF,r=t.MF*XP(t,n)/100;return k.max(0,i-r)}function zP(t){var n=v.createElement("div");return n.className=MP+"default",wi(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=VP*t+"px",n.style.lineHeight=FP+"em",n}function YP(t,n){var i=zP(n);i.className=MP+t.o;var r=t.ji,e=XP(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=GP(t)+"%",i.style.right="",i.style.top=HP(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function jP(t){return""===t.Pt}var KP=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function qP(t,n){var i=em(t),r=em(n),e=JP(i,t.pF),u=JP(r,n.pF);return e&&u?i-r||YN(n,t)||n.OC-t.OC:YN(t,n)||t.OC-n.OC}function JP(t,n){return n?t<0?t>-8:t>8:t>50}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),F(),Tt();var QP=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),$P={pJ:sP.WHITE,mJ:uP.Zc,wJ:"100%",yJ:sP.BLACK,bJ:"transparent",AJ:"none",Iet:"regular",SJ:void 0,TJ:void 0,kJ:void 0,EJ:void 0},tL=[{Ret:sP.WHITE,Iet:"regular",Cet:0},{Ret:sP.WHITE,Iet:"underline",Cet:0},{Ret:sP.GREEN,Iet:"regular",Cet:0},{Ret:sP.GREEN,Iet:"underline",Cet:0},{Ret:sP.BLUE,Iet:"regular",Cet:0},{Ret:sP.BLUE,Iet:"underline",Cet:0},{Ret:sP.CYAN,Iet:"regular",Cet:0},{Ret:sP.CYAN,Iet:"underline",Cet:0},{Ret:sP.RED,Iet:"regular",Cet:0},{Ret:sP.RED,Iet:"underline",Cet:0},{Ret:sP.YELLOW,Iet:"regular",Cet:0},{Ret:sP.YELLOW,Iet:"underline",Cet:0},{Ret:sP.MAGENTA,Iet:"regular",Cet:0},{Ret:sP.MAGENTA,Iet:"underline",Cet:0},{Ret:sP.WHITE,Iet:"italics",Cet:0},{Ret:sP.WHITE,Iet:"underline-italics",Cet:0},{Ret:sP.WHITE,Iet:"regular",Cet:0},{Ret:sP.WHITE,Iet:"underline",Cet:0},{Ret:sP.WHITE,Iet:"regular",Cet:4},{Ret:sP.WHITE,Iet:"underline",Cet:4},{Ret:sP.WHITE,Iet:"regular",Cet:8},{Ret:sP.WHITE,Iet:"underline",Cet:8},{Ret:sP.WHITE,Iet:"regular",Cet:12},{Ret:sP.WHITE,Iet:"underline",Cet:12},{Ret:sP.WHITE,Iet:"regular",Cet:16},{Ret:sP.WHITE,Iet:"underline",Cet:16},{Ret:sP.WHITE,Iet:"regular",Cet:20},{Ret:sP.WHITE,Iet:"underline",Cet:20},{Ret:sP.WHITE,Iet:"regular",Cet:24},{Ret:sP.WHITE,Iet:"underline",Cet:24},{Ret:sP.WHITE,Iet:"regular",Cet:28},{Ret:sP.WHITE,Iet:"underline",Cet:28}],nL=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function iL(t,n){return Am(t.Pet,n.Pet)||Ui(t.kL,n.kL)}F(),Tt(),nn();var rL=32,eL=/CC([1-4])=(.*)/;function uL(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(eL)})))for(var r=0;r<i.length;r++){var e=tn(i[r].match(eL),3),u=e[1],s=e[2];n.push({Det:Number(u),Net:s})}else for(var o=0;o<i.length;o++)n.push({Det:o+1,Net:i[o]});return n}var sL=function(){function t(t,n,i){this.Bet=t,this.qet=n,this.Ttt=i}var n=t.prototype;return n.br=function(){return this.Get=this.Zet(),this.Het(),this.Xet(),this.Get},n.Zet=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Vet/rL*this.qet.zet*100+"%",t.style.height=1.2*this.Wet+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.qet.Yet?"calc(1em - 1ch)":"";var n=this.Ttt.mJ;n&&(t.style.fontFamily=n);var i=this.Ttt.bJ;return i&&(t.style.backgroundColor=i),t},n.Het=function(){if(this.Get){var t=this.Met.Uet/15*100,n=this.Met.Cet/rL*100,i=(rL-this.Oet.Cet-1)/rL*100,r=(15-this.Oet.Uet-1)/15*100;this.qet.Ket||(n=i=1,this.Get.style.width="98%"),r<t?this.Get.style.bottom=r*this.qet.zet+"%":this.Get.style.top=t*this.qet.zet+"%",i<n?this.Get.style.right=i+"%":this.Get.style.left=n+"%"}},n.Xet=function(){for(var t=this.Bet.jet.sort(oL),n=0;n<t.length;n++)this.Qet(t[n-1],t[n]),this.Jet(t[n]);this.Qet(t[t.length-1],void 0)},n.Jet=function(n){var i,r=jx(this.Ttt,n.$et),e=t.tit(r);PP(e,n.eit),null==(i=this.Get)||i.appendChild(e)},n.Qet=function(t,n){var i=t?t.Fet.Uet:this.Bet.Let.Uet,r=n?n.Let.Uet:this.Bet.Fet.Uet,e=t?t.Fet.Cet:this.Bet.Let.Cet,u=n?n.Let.Cet:this.Bet.Fet.Cet;i<r&&(!n||t&&t.Let.Uet!==n.Let.Uet?this.iit():this.sit(this.Bet.Fet.Cet-e),e=this.Bet.Let.Cet),e<u&&(n?this.sit(u-e):this.iit())},n.iit=function(){var t,n=v.createElement("br");null==(t=this.Get)||t.appendChild(n)},n.sit=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",PP(i,na(" ",t)),null==(n=this.Get)||n.appendChild(i)}},t.tit=function(t){var n=v.createElement("span");n.style.display="inline-block",t.Iet!==QP.FONT_ITALICS&&t.Iet!==QP.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Iet!==QP.FONT_UNDERLINE&&t.Iet!==QP.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.pJ;i&&(n.style.color=i);var r=t.yJ;return r&&(n.style.backgroundColor=r),n.style.textShadow=oP(t.AJ),n.style.height="1.2em",n},Nt(t,[{key:"Met",get:function(){return this.Bet.Let}},{key:"Oet",get:function(){return this.Bet.Fet}},{key:"Vet",get:function(){return this.Bet.Fet.Cet-this.Bet.Let.Cet+1}},{key:"Wet",get:function(){return this.Bet.Fet.Uet-this.Bet.Let.Uet+1}}]),t}();function oL(t,n){return function(t,n){if(t.Uet!==n.Uet)return t.Uet-n.Uet;return t.Cet-n.Cet}(t.Let,n.Let)}var aL=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,$P)||this}It(n,t);var i=n.prototype;return i.iet=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.Stt.mJ&&(n.style.fontFamily=this.Stt.mJ),n},i.re=function(t,n){this.yl()},i.yl=function(){var t=Kx(this.Stt);this.nit=function(t){return{zet:t/100,Yet:t<=100,Ket:t<=150}}(100*t);var n=this.rit/rL;this.oit=n*t,this.SZ.style.fontSize=this.oit+"px"},i.Jtt=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.so||this.ytt(e)}for(var u=0;u<t.length;u++){var s=t[u];this.het(s)}},i.het=function(t){this.nit&&this.nit.Ket?this.hit(80):this.hit(100),this.yl();var n=this.btt(t);n||(n=this.aet(t),this.$tt(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.SZ.appendChild(r)}},i.aet=function(t){var n=this;return t.U.map((function(t){return new sL(t,n.nit,n.Stt).br()}))},i.hit=function(t){var n=(100-t)/2;this.SZ.style.left=n+"%",this.SZ.style.width=t+"%"},Nt(n,[{key:"rit",get:function(){var t=this.SZ.offsetWidth;return this.nit&&this.nit.Ket||(t*=.8),t}}]),n}(Jx),cL=function(){function t(t,n,i,r,e,u){var s=this;this.uit=[],this.wit=function(t){var n=t.Ht;n.bn(Og.aC,s.pit),n.bn(Og.cC,s.pit),n instanceof ex&&(n.p6=s.p6),s.git(n)},this.pit=function(t){var n=t.Ht;s.git(n)},this.yit=function(t){var n=t.Ht;n.vn(Og.aC,s.pit),n.vn(Og.cC,s.pit),s.vit(n)},this.Ait=function(){for(var t=s.p6,n=0,i=s.Hl.mC;n<i.length;n++){var r=i[n];r instanceof ex&&(r.p6=t)}},this.Sit=function(){for(var t=0,n=s.uit;t<n.length;t++){n[t].Rtt(s.qH)}},this.fit=t,this.Ku=n,this.Hl=i,this.mit=e,this.ta=u,this.qH=r,this.Hl.bn(Dg.XR,this.wit),this.Hl.bn(Dg.qR,this.yit),this.Hl.bn(Og.da,this.pit),this.mit.bn(vS.da,this.Ait),this.ta.bn([zT.IO,zT.RO],this.Ait),this.qH.bn("hC",this.Sit),this.Ait()}var n=t.prototype;return n.ait=function(t){for(var n=0,i=this.uit;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.dit=function(t){switch(t.zw){case Ow.TTML:return new wP(t,this.fit,t.Ch,this.Ku);case Ow.SRT:case Ow.WEBVTT:return new UP(t,this.fit,t.Ch,this.Ku);case Ow.CEA608:return new aL(t,this.fit,t.Ch,this.Ku)}},n._it=function(t){var n=this.ait(t);n||(n=this.dit(t))&&(n.nQ(),n.Rtt(this.qH),this.uit.push(n),t.LE===qy.Qn&&n.qtt())},n.vit=function(t){for(var n=this.uit,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.yn(),Qi(n,i))}},n.git=function(n){(function(t){return t===ep.TW||t===ep.kW})(n.Lt)&&t.cit(n)&&(n.aR===Mw.ERROR?this.vit(n):this._it(n))},n.nr=function(){for(var t=0,n=this.uit;t<n.length;t++){var i=n[t];i.Ht.vn(Og.aC,this.pit),i.Ht.vn(Og.cC,this.pit),i.yn()}ir(this.uit)},n.yn=function(){this.nr();for(var t=0,n=this.uit;t<n.length;t++){n[t].yn()}this.Hl.vn(Dg.XR,this.wit),this.Hl.vn(Dg.qR,this.yit),this.Hl.vn(Og.da,this.pit),this.mit.vn(vS.da,this.Ait),this.ta.vn([zT.IO,zT.RO],this.Ait),this.qH.vn("hC",this.Sit)},t.cit=function(t){switch(t.zw){case Ow.TTML:case Ow.SRT:case Ow.WEBVTT:case Ow.CEA608:return!0}return!1},Nt(t,[{key:"p6",get:function(){return this.mit.cs||this.ta.CO}}]),t}();F(),Tt(),Mt(),Dt(),Rt(),Wt();var hL=function(t){function n(n){var i;return(i=t.call(this)||this).kit=!1,i.Eit=function(){i.kit=!0,i._o(new YT)},i.xit=function(){i.kit=!1,i._o(new jT)},i.Tit=n,i.Tit.addEventListener("enterpictureinpicture",i.Eit),i.Tit.addEventListener("leavepictureinpicture",i.xit),i}It(n,t);var i=n.prototype;return i.vo=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.PO?t.CO?[3,3]:(n=t.Ay([zT.IO,zT.fa]),[4,t.Tit.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.kit||t._o(new gS),i.label=3;case 3:return[3,5];case 4:t._o(new gS),i.label=5;case 5:return[2]}}))}))()},i.xo=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.PO?t.kit?(n=t.Ay([zT.RO,zT.fa]),[4,t.Tit.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.kit&&t._o(new gS),i.label=3;case 3:return[3,5];case 4:t._o(new gS),i.label=5;case 5:return[2]}}))}))()},i.yn=function(){this.Ro(),this.Tit.removeEventListener("enterpictureinpicture",this.Eit),this.Tit.removeEventListener("leavepictureinpicture",this.xit)},Nt(n,[{key:"PO",get:function(){var t;return null!=(t=this.Tit.ownerDocument.pictureInPictureEnabled)&&t}},{key:"CO",get:function(){return this.kit}}]),n}(la);function fL(t){var n=new ZI,i=function(t){var n=[];return UI.aa(t)&&n.push(new UI(t)),WI.aa(t)&&n.push(new WI(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.BK(e)}n.LK(i[0])}return n}var vL=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).Iit=fL(n),u.Rit=new hL(n),u.Cit=new Yx,u.Pit=new cL(u.Cit.we,u.Hu,u.nt,u.Wl,u.Sa,u.WZ),u}It(n,t);var i=n.prototype;return i.IR=function(){return this.hk},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Rit.yn(),n.Iit.yn(),n.Cit.yn(),n.Pit.yn(),[4,t.prototype.Km.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.Cit.be()},i.ge=function(){t.prototype.ge.call(this),this.Cit.ge()},i.stt=function(n){t.prototype.stt.call(this,n),this.Cit.stt(n)},Nt(n,[{key:"SZ",get:function(){return this.hk}},{key:"vR",get:function(){return this.hk.videoHeight}},{key:"pR",get:function(){return this.hk.videoWidth}},{key:"Sa",get:function(){return this.Iit}},{key:"WZ",get:function(){return this.Rit}}]),n}(Ux);F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt();F(),Tt(),Mt(),Wt(),F(),Tt();var dL=!1,lL=function(t){return t.Dit="HELLO",t.Nit="HI_THERE",t.Mit="INITIALIZE",t.Lit="APPEND_INIT",t.Bit="APPEND_DATA",t.Oit="ACK",t.Fit="REMOVE",t.Vit="DESTROY_SESSION",t}({}),gL=function(){function t(){this.Yo=new kd}var n=t.prototype;return n.Wit=function(t){var n=this;return this.Yo.Qo(Pt((function(t){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return kr(t),i=new MessageChannel,r=i.port1,e=i.port2,l.serviceWorker.controller?[3,2]:[4,ag(l.serviceWorker,"install",t)];case 1:c.sent(),c.label=2;case 2:return"activated"===l.serviceWorker.controller.state?[3,4]:[4,ag(l.serviceWorker.controller,"activate",t)];case 3:c.sent(),c.label=4;case 4:u={kind:"HELLO",port:e},l.serviceWorker.controller.postMessage(u,[e]),r.start(),n.nw=r,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,ag(r,"message",t)];case 6:if(s=c.sent(),"HI_THERE"!==(o=s.data).kind)throw new p("Could not set up message channel");return n.dk=o.sessionId,[3,8];case 7:throw br(a=c.sent())&&n.Uit(),a;case 8:return[2]}}))})),t)},n.Git=function(t,n){this.nw;var i=this;return this.Yo.Qo(Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:if(!i.nw)throw new p("MessageSession not set up yet or already closed.");return n||(n=[]),i.nw.postMessage(t,n),[4,ag(i.nw,"message")];case 1:return[2,r.sent().data]}}))})))},n.Zit=function(){var t=this;return this.Yo.Qo((function(){return t.Uit()}))},n.Uit=function(){if(l.serviceWorker.controller&&"activated"===l.serviceWorker.controller.state&&this.nw){var t={kind:"DESTROY_SESSION"};dL,this.nw.postMessage(t),this.nw.close(),this.nw=void 0}},t}();F(),Tt(),Dt();var wL=function(){function t(){this.Xit=1/0}var n=t.prototype;return n.zit=function(t,n){var i=t-n;this.Xit=i>this.Hit?this.Xit:i},n.qit=function(t){this.Xit=t},Nt(t,[{key:"Hit",get:function(){return this.Xit}}]),t}();F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var mL=function(t){return t.wE="audio",t.yE="video",t.xW="metadata",t}({}),yL=function(t){function n(n,i){var r;return(r=t.call(this)||this).VY=n,r.tst=i,r.Yit=void 0,r.Kit=void 0,r.Yo=new kd,r.Qit=!1,r.jit=!1,r}It(n,t);var i=n.prototype;return i.i4=function(t,n){},i.s4=function(t,n){},i.r$=function(){return this.jit},i.n4=function(){return Pt((function(){return Ot(this,(function(t){return[2]}))}))()},i.T3=function(t,n){return Pt((function(){return Ot(this,(function(t){return[2]}))}))()},i.r3=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){if(t.zw!==nC.NJ)throw new p("Streaming or opaque segments are not supported yet.");return e=t.$k,u=Pt((function(){var t,i,u;return Ot(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:lL.Bit,mediaType:pL(r.VY),segment:e,startPts:n.$it,totalDuration:n.ct},[4,r.tst.Git(i,[t])];case 1:return s.sent(),void 0===r.Yit&&(u=n.$it+n.aW,r.Yit=u,r.Kit=u),r.Kit=r.Kit+n.ct,r._o(new ma($R.PJ)),[2]}}))})),[2,r.Yo.Qo(Pt((function(t){return Ot(this,(function(n){switch(n.label){case 0:kr(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.Qit=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.Qit=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.a3=function(t,n,i){var r=this;return Pt((function(){var n,e;return Ot(this,(function(u){if(t.zw!==nC.NJ)throw new p("Streaming or opaque initialization segments are not supported yet.");return n=t.$k,e=Pt((function(){var t;return Ot(this,(function(i){switch(i.label){case 0:return t={kind:lL.Lit,mediaType:pL(r.VY),segment:n},[4,r.tst.Git(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.Yo.Qo(Pt((function(t){return Ot(this,(function(n){switch(n.label){case 0:kr(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.Qit=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.Qit=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.Y3=function(){this.jit=!0},i.V3=function(){this.jit=!1},i.rT=function(t,n,i){var r=this;return Pt((function(){var t;return Ot(this,(function(e){return t=Pt((function(){var t;return Ot(this,(function(i){switch(i.label){case 0:return t={kind:lL.Fit,mediaType:pL(r.VY),endTime:n},[4,r.tst.Git(t)];case 1:return i.sent(),r.Yit=void 0,r.Kit=void 0,r._o(new ma($R.PJ)),[2]}}))})),[2,r.Yo.Qo(Pt((function(n){return Ot(this,(function(i){switch(i.label){case 0:kr(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.Qit=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.Qit=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.ZJ=function(t){return this.VY===t.Fk},i.XJ=function(t){return this.VY=t.Fk,et.resolve()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.Yo.yn()];case 1:return n.sent(),[2]}}))}))()},Nt(n,[{key:"SI",get:function(){return void 0===this.Yit||void 0===this.Kit?FA.WB():new FA([this.Yit,this.Kit])}},{key:"kd",get:function(){return{Fk:this.VY}}},{key:"j3",get:function(){return Qo(this.VY,"audio")?aw.wE:Qo(this.VY,"video")?aw.yE:aw.oE}},{key:"SY",get:function(){return this.VY}},{key:"J3",get:function(){return FA.WB()}},{key:"$j",get:function(){return 30},set:function(t){}},{key:"sQ",get:function(){return 30},set:function(t){}},{key:"va",get:function(){return this.Qit}},{key:"Jit",get:function(){return this.Yit}},{key:"dF",get:function(){return this.Kit}}]),n}(la);function pL(t){return t.match(/video/)?mL.yE:mL.wE}var _L=function(){function t(t,n,i,r){this.fT=void 0,this.FT=t,this.X4=Hi(n,(function(t){return Boolean(t.SY.match(/video/))})),this.H4=Hi(n,(function(t){return Boolean(t.SY.match(/audio/))})),this.ey=i,this.hk=r,this.sst()}var n=t.prototype;return n.sst=function(){},n.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,et.all([t.H4,t.X4].filter(Yn).map((function(t){return t.Km()})))];case 1:return n.sent(),[2]}}))}))()},n.q4=function(t){},n.Q4=function(t,n,i,r){},n.Y3=function(){var t,n;null==(t=this.H4)||t.Y3(),null==(n=this.X4)||n.Y3()},n.V3=function(){var t,n;null==(t=this.H4)||t.V3(),null==(n=this.X4)||n.V3()},n.ZJ=function(t){return!0},n.XJ=function(t){return this.FT=t,et.resolve()},n.qJ=function(t){},n.UJ=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,i.ey.$w(t.qw,n)];case 1:return[4,e.sent().pT()];case 2:return r=e.sent(),[4,i.GJ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.GJ=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(t&&!n.hk.src)throw new hw(vd.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.hk.src)throw new hw(vd.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.fT)?[4,i.gT(n.hk)]:[3,2];case 1:r.sent(),n.fT=void 0,r.label=2;case 2:return t?[4,t.kn(n.hk)]:[3,4];case 3:r.sent(),n.fT=t,r.label=4;case 4:return[2]}}))}))()},t.ist=function(n,i,r,e){for(var u=[],s=0;s<n.J4.length;s++){var o=n.J4[s].Fk;u.push(new yL(o,i))}return new t(n,u,r,e)},Nt(t,[{key:"nst",get:function(){return[this.H4,this.X4].filter(Yn)}},{key:"d4",get:function(){return this.H4}},{key:"SI",get:function(){return bN(this)}},{key:"kd",get:function(){return this.FT}},{key:"ct",get:function(){return 0}},{key:"r$",get:function(){var t,n,i,r,e=null==(i=null==(t=this.H4)?void 0:t.r$())||i,u=null==(r=null==(n=this.X4)?void 0:n.r$())||r;return e&&u}},{key:"cR",get:function(){return new FA([0,1/0])}},{key:"f4",get:function(){return this.X4}}]),t}(),bL=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.Sst=!0,u.tst=new gL,u.wst=new wL,u.kst=!0,u.xst=new ih,u.FH=!1,u.W8=et.resolve(),u.V8=new mr,u.Est=!0,u.Uo=FA.WB(),u.ett=!1,u.ost=function(){u.JI||u.bst.V<=0||u.SI.V<=0||u.wst.zit(u.SI.Tn(u.SI.V-1),u.bst.Tn(u.bst.V-1))},u.hst=function(){u._o(new IT(u.RI))},u.ast=function(){u._o(new Eg(u.RI,u.kI))},u.ust=function(){u._o(new ET(u.RI,u.tR))},u.cst=function(){u._o(new NT(u.RI,u.yR))},u.lst=function(){u._o(new ST(u.ct))},u.dst=function(){u._o(new Fp(u.RI))},u.fst=function(){u.Db(u.RI)},u._st=Pt((function(){return Ot(this,(function(t){return s.Est&&s._o(new TT(s.RI)),s.kst=!1,s.Est=!0,[2]}))})),u.vst=function(){u.kst=!0,u._o(new AT(u.RI))},u.z7=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u._o(new Ea(i,r))},u.Tit=n,u.g8=new UN(u),u.Rst=r,u.qH=e,u.Tit.playsInline=!0,u.Tit.style.width="100%",u.Tit.style.height="100%",u.rst(),u.mst(),u.Iit=fL(u.Tit),u.ta=new hL(u.Tit),u.zJ=new Nx(u),u.ey=i,u.Hl=new rp,u.i7=new hx(u),u.Cit=new Yx,u.Pit=new cL(u.Cit.we,u.Hu,u.nt,u.Wl,u.Sa,u.WZ),u}It(n,t);var i=n.prototype;return i.rst=function(){this.Tit.addEventListener("timeupdate",this.ost),this.Tit.addEventListener("ended",this.hst),this.Tit.addEventListener("timeupdate",this.ast),this.Tit.addEventListener("ratechange",this.ust),this.Tit.addEventListener("volumechange",this.cst),this.Tit.addEventListener("durationchange",this.lst),this.Tit.addEventListener("playing",this.dst),this.Tit.addEventListener("seeking",this.fst),this.Tit.addEventListener("play",this._st),this.Tit.addEventListener("pause",this.vst),this.Tit.addEventListener("encrypted",this.z7)},i.gst=function(){this.Tit.removeEventListener("timeupdate",this.ost),this.Tit.removeEventListener("ended",this.hst),this.Tit.removeEventListener("timeupdate",this.ast),this.Tit.removeEventListener("ratechange",this.ust),this.Tit.removeEventListener("volumechange",this.cst),this.Tit.removeEventListener("durationchange",this.lst),this.Tit.removeEventListener("playing",this.dst),this.Tit.removeEventListener("seeking",this.fst),this.Tit.removeEventListener("play",this._st),this.Tit.removeEventListener("pause",this.vst)},i.mst=function(){this.g8.bn(Np.aC,this.Ds)},i.pst=function(){this.g8.vn(Np.aC,this.Ds)},i.Db=function(t,n,i){this.V8.np(),this.V8=new mr,this.W8=Er(this.U8(t,this.W8,this.V8.ep),this.V8).catch(_i)},i.U8=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return r.Uo=r.sR,(s=null==(u=r.kZ)?void 0:u.nst)?(o=(e=k).max.apply(e,Kt(s.map((function(t){return t.Jit?t.Jit:1/0})))),r.FH=!0,r._o(new RT(t)),[4,n.catch(_i)]):[2];case 1:c.sent(),kr(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.Sst||r.Tst(),r.Tit.load(),r.kst?[3,4]:(r.Est=!1,[4,Sr(r.Tit.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.aR<Pp.kO?[4,r.g8.Ay(Np.aC,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.xst.Zb(),r.Sst=!1,r.FH=!1,r._o(new CT(r.RI)),[3,9];case 7:throw a=c.sent(),r.xst.Hb(a),a;case 8:return r.Ist(),r.wst.qit(o),[7];case 9:return[2]}}))}))()},i.PR=function(){this.kst=!0,this.Tit.pause()},i.DR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.kst?(t.Tit.src||t.itt(),[4,t.xst.Xb]):[2];case 1:return n.sent(),[4,t.Tit.play()];case 2:return n.sent(),[2]}}))}))()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.tst&&t.tst.Zit().catch(_i),t.V8.np(),t.gst(),t.pst(),t.g8.Km(),t.Ro(),t.Hl.yn(),t.Cit.yn(),t.Pit.yn(),[2]}))}))()},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.tst&&t.tst.Zit().catch(_i),t.V8.np(),t.Tit.removeAttribute("src"),t.Tit.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.Tit.removeAttribute("x-airplay-deny"),t.Tit.disableRemotePlayback=!1,t.Tit.load(),t.g8.nr(),t.Uo=FA.WB(),[2]}))}))()},i.itt=function(){this.ttt||(zr(this.Tit,Kn.Ys),this.ett=!0)},i.Tst=function(){var t,n=this.Tit.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Tit.videoWidth/this.Tit.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Tit.style.width=i+"px",this.Tit.style.height=r+"px",this.Tit.style.marginLeft=(e-i)/2+"px",this.Tit.style.marginTop=(s-r)/2+"px",this.Tit.style.backgroundColor="black"}},i.Ist=function(){this.Tit.style.width="100%",this.Tit.style.height="100%",this.Tit.style.marginLeft="",this.Tit.style.marginTop="",this.Tit.style.backgroundColor=""},i.FZ=function(t,n,i,r,e){},i.ZR=function(t,n,i,r,e,u,s,o,a){var c=new aD(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.i7.tt(c),c},i.UZ=function(t){throw p("Not supported.")},i.l$=function(t){},i.zI=function(){return DR(this.Tit)},i.ge=function(){this.Tit.style.display="block",this.Cit.ge()},i.be=function(){this.Tit.style.display="none",this.Cit.be()},i.Q7=function(){},i.$n=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:if(t.zw===Cp.zW)throw new p("Not yet implemented");return[4,n.tst.Wit()];case 1:return e.sent(),i=Hi(t.CZ,(function(t){return t._T.zw===Uo.Hw})),r={kind:lL.Mit,mediaBufferConfigs:t.J4.map((function(t){return t.Fk})),fairPlaySdkUri:null==i?void 0:i.lG},[4,n.tst.Git(r)];case 2:return e.sent(),n.kZ=_L.ist(t,n.tst,n.ey,n.Tit),n.zJ.$n(n.kZ,t),n.Tit.setAttribute("x-webkit-airplay","deny"),n.Tit.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.Tit.disableRemotePlayback=!0,n.Tit.preload="none",n.Tit.src="https://theo.proxy/"+n.tst.dk+"/master.m3u8",[2,n.kZ]}}))}))()},i.J7=function(){},i.ZW=function(t){this.Hl.it(t),this.i7.it(t)},i.GZ=function(){for(var t=0,n=this.Hl.mC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr()},i.wZ=function(t){},i.BZ=function(){return!1},i.stt=function(t){t.appendChild(this.Tit),this.Cit.stt(t)},i.IR=function(){return this.Tit},i.FR=function(){},Nt(n,[{key:"SZ",get:function(){return this.Tit}},{key:"y5",get:function(){return!1}},{key:"RI",get:function(){return this.Tit.currentTime+this.wst.Hit}},{key:"JI",get:function(){return this.Tit.paused}},{key:"yR",get:function(){return this.Tit.volume},set:function(t){this.Tit.volume=t}},{key:"tR",get:function(){return this.Tit.playbackRate},set:function(t){this.Tit.playbackRate=t}},{key:"yst",get:function(){return this.Tit.defaultPlaybackRate}},{key:"SI",get:function(){var t,n;return null!=(n=null==(t=this.kZ)?void 0:t.SI)?n:FA.WB()}},{key:"bst",get:function(){return FA.Cn(this.Tit.buffered)}},{key:"sR",get:function(){var t=this.Ast;return this.Uo.AB(t.Pb(this.wst.Hit))}},{key:"Ast",get:function(){return FA.Cn(this.Tit.played)}},{key:"dR",get:function(){return this.FH}},{key:"f5",get:function(){return!1}},{key:"T5",get:function(){return!1}},{key:"ct",get:function(){return this.Tit.duration}},{key:"qI",get:function(){return this.Tit.muted},set:function(t){this.Tit.muted=t}},{key:"$et",get:function(){return this.Tit.style}},{key:"vO",get:function(){return ao({},qR,{_O:!0})}},{key:"aR",get:function(){return this.g8.aR}},{key:"vR",get:function(){return this.Tit.videoHeight}},{key:"pR",get:function(){return this.Tit.videoWidth}},{key:"MI",get:function(){return this.Tit.ended}},{key:"Ti",get:function(){return this.Tit.offsetHeight*Kn.Ys.pp}},{key:"ji",get:function(){return this.Tit.offsetWidth*Kn.Ys.pp}},{key:"ZI",get:function(){return!1}},{key:"ttt",get:function(){return this.ett}},{key:"kI",get:function(){}},{key:"Hu",get:function(){return this.Rst}},{key:"lt",get:function(){}},{key:"Sa",get:function(){return this.Iit}},{key:"WZ",get:function(){return this.ta}},{key:"cR",get:function(){return this.kZ?this.kZ.cR:FA.WB()}},{key:"EZ",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"Wl",get:function(){return this.qH}},{key:"ER",get:function(){return!1},set:function(t){}},{key:"A8",get:function(){return"block"===this.Tit.style.display}},{key:"zZ",get:function(){return this.zJ.zZ},set:function(t){this.zJ.zZ=t}},{key:"ntt",get:function(){},set:function(t){}},{key:"V9",get:function(){}}]),n}(la),kL=[aw.wE,aw.yE],AL=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=kL),void 0===e&&(e=xd()),this.Fst=i,this.Cst=Kt(r),this.ey=e,this.Ku=t,this.qH=n,this.Pst=ho(),this.Ost()}var n=t.prototype;return n.Mst=function(t){for(var n=0,i=this.YH;n<i.length;n++){i[n].stt(t)}},n.lH=function(t){var n=this.Pst.get(t);if(n){var i=Hi(n,(function(t){return t.Lst}));return i?(i.Lst=!1,i.Dst):void 0}},n.Bst=function(t){if(!this.Nst){var n,i=null==(n=this.Pst.get(aw.yE))?void 0:n[0].Dst.SZ;if(!i)throw new p("Error creating iOS Safari MediaController");this.Nst=new bL(i,this.ey,this.Ku,this.qH),i.parentElement&&this.Nst.stt(i.parentElement)}return this.Nst},n.qZ=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return i=t.SZ,r=i.tagName.toLowerCase(),[4,t.nr()];case 1:return u.sent(),Hr(i),(e=Hi(n.Pst.get(r)||[],(function(n){return t===n.Dst})))&&(e.Lst=!0),[2]}}))}))()},n.ZH=function(){for(var t=0,n=this.YH;t<n.length;t++){n[t].itt()}},n.yn=function(){for(var t=0,n=this.YH;t<n.length;t++){var i=n[t],r=i.SZ;i.Km(),Gr(r),oi(r)}this.Pst.clear(),this.Nst=void 0},n.Ost=function(){for(var t=0,n=this.Cst;t<n.length;t++){var i=n[t],r=[];this.Pst.set(i,r);for(var e=0;e<this.Fst;e++){var u=Xr(i),s=i===aw.wE?new zx(u,this.ey,this.Ku):new vL(u,this.ey,this.Ku,this.qH);r.push({Dst:s,Lst:!0})}}},Nt(t,[{key:"YH",get:function(){for(var t=[],n=0,i=this.Cst;n<i.length;n++){var r=i[n],e=this.Pst.get(r);if(e){var u,s=e.map((function(t){return t.Dst}));(u=t).push.apply(u,Kt(s))}}return this.Nst&&t.push(this.Nst),t}}]),t}();F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var TL=function(){function t(t){this.WW=t}var n=t.prototype;return n.eE=function(t){return this.WW.eE(t)},n.FE=function(t){this.WW.FE(t)},n.yn=function(){this.WW.yn()},t}(),SL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).XH=i,r}It(n,t);var i=n.prototype;return i.eE=function(t){var n=new Tl(t),i=this.XH.Zj.JG(n);return i?this.Vst(n,i):this.WW.eE(n)},i.Vst=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return n.Xj(Kn.Wm()/1e3),[4,i.WW.eE(t)];case 1:return r=s.sent(),n.zj(Kn.Wm()/1e3),e=r.Zk?r.Ok().pipeThrough(new jd(new EL(n))):r.Bk().then((function(t){var i=Kn.Wm()/1e3;return n.qj(i,new E(t)),n.Yj(i),t})),u={$k:e,eE:r.eE},[2,new yl(u,r)]}}))}))()},n}(TL),EL=function(){function t(t){this.Wst=t}var n=t.prototype;return n.start=function(t){this.vJ=t},n.transform=function(t){this.Wst.qj(Kn.Wm()/1e3,t),this.vJ.enqueue(t)},n.flush=function(){this.Wst.Yj(Kn.Wm()/1e3)},t}();function IL(t){return{get ratio(){return t.Vo},get thresholds(){return t.Ust.slice()}}}function RL(t){var n=[],i=k.floor(1/t);if(S(i))return[];for(var r=0;r<=i;r++){var e=Di(r*t,0,1);n.push(e)}return n}F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt();var CL=function(){function t(t,n,i){this.Gst=1,this.eu=void 0,this.Zst=RL(n);var r=this.Hst(i);this.Xst=new f.IntersectionObserver(r,{root:null,threshold:this.Zst}),this.Xst.observe(t)}var n=t.prototype;return n.Hst=function(t){var n=this;return function(i){var r=i[i.length-1];n.Gst=r.intersectionRatio,t(r.intersectionRatio)}},n.NR=function(){this.Xst.disconnect()},Nt(t,[{key:"Vo",get:function(){return this.Gst}},{key:"Ust",get:function(){return this.Zst}},{key:"wa",get:function(){return this.eu||(this.eu=IL(this)),this.eu}}]),t}(),NL=function(){function t(t,n){this.Gst=1,this.qst=-1,this.eu=void 0,this.Zst=RL(t),this.Yst=n}return t.prototype.zst=function(t){this.Gst=t;var n=this.Zst,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.qst!==i&&(this.qst=i,this.Yst(t))},Nt(t,[{key:"Vo",get:function(){return this.Gst}},{key:"Ust",get:function(){return this.Zst}},{key:"wa",get:function(){return this.eu||(this.eu=IL(this)),this.eu}}]),t}(),DL=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).jst=ki((function(){return e.zst(e.Kst())}),50),e.po=n,f.addEventListener("scroll",e.jst,!!NI&&{passive:!0}),Dr((function(){return e.zst(e.Kst())})),e}It(n,t);var i=n.prototype;return i.Kst=function(){var t=this.po.getBoundingClientRect();return Di(k.max(0,k.min(f.innerWidth,t.right)-k.max(0,t.left))*k.max(0,k.min(f.innerHeight,t.bottom)-k.max(0,t.top))/(t.width*t.height),0,1)},i.NR=function(){f.removeEventListener("scroll",this.jst)},n}(NL),xL=function(){function t(t){this.Jst=1,this.$st=0,this.int=[],this.eu=void 0,this.po=t,this.Bo(.1,this.ent())}var n=t.prototype;return n.ent=function(t){var n=this;return function(i){n.Jst=i,null==t||t(n.Jst)}},n.Bo=function(t,n){if(S(t))throw new _("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new CL(this.po,t,this.ent(n)):new DL(this.po,t,this.ent(n)),this.int.push(i),i},n.Do=function(t){t.NR(),Ji(this.int,t)},n.tnt=function(t){for(var n=0,i=this.int;n<i.length;n++){var r=i[n];if(r.wa===t)return r}},n.yn=function(){for(var t=0,n=this.int;t<n.length;t++){n[t].NR()}ir(this.int)},Nt(t,[{key:"Qst",get:function(){return this.Jst}},{key:"Oo",get:function(){return this.$st},set:function(t){if(S(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.$st=t}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get ratio(){return t.Qst},get visible(){return t.Qst>t.Oo},get visibleThreshold(){return t.Oo},set visibleThreshold(n){n=jg(n),t.Oo=n},addObserver:function(n,i){return n=jg(n),t.Bo(n,i).wa},removeObserver:function(n){var i=t.tnt(n);i&&t.Do(i)}}}(this)),this.eu}}]),t}();F(),Tt(),Rt();var PL=function(t){function n(){return t.call(this,ya.Py)||this}return It(n,t),n}(ma),LL=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).nnt=!1,u.mo=!1,u.PH=void 0,u.wnt=!1,u.Ma=void 0,u._nt=function(t){if(!u.wnt){u.wnt=!0;var n=u.ynt,i=lw(t);u.Ta.bC=new _S(u.we,i,t),xr(n.yn())}},u.bnt=function(t){t.type!==ya.Yy&&t.type!==ya.qy&&u._o(t)};var s=jg(i.uid);S(s)?u.eF=Sw++:u.eF=s,u.kd=i;var o=Kn.mI,a=new WR;u.pnt=new wI("9.7.0",o,a),u.XH=new bR,u.zH=new Gk;var c=new SL(o,u.XH);u.mI=new aR(c,i.allowMixedContent),u.aJ=null!=r?r:new GE(i.isEmbeddable,"9.7.0",VE()),u.fnt=new UR(o,u.aJ,u.pnt,a,i,VE()),u.fnt.sJ().catch(u._nt),u.ant=new OI(n),u.ant.bn(TI.mn,u.Ds),u.qH=new YR;var h=new(null!=e?e:AL)(u.ant,u.qH);h.Mst(n),u.yQ=new ER,u.LQ=new RR;var f=new pS(n,i,u.mI,u.XH,u.zH,h,u.qH);u.XH.nQ(f);var v=f;return v=new IR(v,u.lnt),v=new CR(v,u.MQ),u.ynt=v,u.Ta=new iS(u.ynt),u.Ta._y(u.bnt),u.unt=new NR(u.Ta),u.cnt=new fR(u.Ta,u.mI,u.XH),u.gnt=new AI(u),u.mnt=new XI(u.Ta,i.allowNativeFullscreen),u.vnt=new KI(u.mnt,u.Ta.ja()),u.ant.kn(),u.No=new xL(n),u.HH=new AL(u.ant,u.qH,1,[aw.yE]),u.ont=new JI(u.HH),u.hnt=new LR,u}It(n,t);var i=n.prototype;return i.TI=function(){return this.Ta.SI},i.CI=function(){return this.Ta.RI},i.DI=function(t,n){this.Ta.DI(t,n)},i.dnt=function(){return this.CI()},i.jd=function(){return this.Ta.ct},i.BI=function(){return this.Ta.lt},i.FI=function(){return this.Ta.OI},i.KI=function(t){this.Ta.qI=t,t||this.JI||this.RR()},i.eR=function(){return this.Ta.tR},i.iR=function(t){this.Ta.tR=t},i.nR=function(){return this.Ta.sR},i.lR=function(){return this.Ta.cR},i.AR=function(t){this.Ta.yR=t},i.Aa=function(){WT(this,PS,this)},i.DR=function(){this.Ta.DR()},i.PR=function(){this.Ta.PR()},i.iu=function(){return this.PH},i.Ca=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return i.PH=t,t?(i.fnt.Hq(t).catch(i._nt),r=function(t){t.sources;var n=t.sources.filter((function(t){return jn(t.integration)}));return t.sources=n,t}(t),[4,i.Ta.Ca(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.RR=function(){if(!this.mo){this.Ta.RR(),this.ont.RR();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&zr(i,Kn.Ys)}this.mo=!0}},i.cs=function(){return this.vnt.Ho()===MT.FULLSCREEN},i.ge=function(){this.Ta.ge()},i.be=function(){this.Ta.be()},i.IR=function(){return this.Ta.IR()},i.FR=function(){this.Ta.FR()},i.WR=function(){this.Ta.WR()},i.ZR=function(t){return this.Ta.ZR(t)},i.NR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.PH=void 0,[4,t.Ta.NR()];case 1:return n.sent(),[4,t.Ta.nr()];case 2:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t._o(new PL),t.Ro(),t.hnt.yn(),t.mI.yn(),t.cnt.yn(),t.gnt.yn(),t.mnt.yn(),t.vnt.yn(),t.ant.yn(),t.pnt.yn(),t.ont.yn(),t.HH.yn(),[4,t.Ta.yn()];case 1:return n.sent(),[2]}}))}))()},Nt(n,[{key:"snt",get:function(){return this.XH}},{key:"KO",get:function(){return this.nnt},set:function(t){this.nnt=t,this.Ta.KO=t}},{key:"rnt",get:function(){return this.ont}},{key:"ht",get:function(){return this.Ta.ht}},{key:"rq",get:function(){return this.hnt}},{key:"Hu",get:function(){return this.ant}},{key:"VI",get:function(){return this.Ta.VI}},{key:"UI",get:function(){return this.Ta.UI}},{key:"XI",get:function(){return this.unt}},{key:"Sz",get:function(){return this.cnt}},{key:"nt",get:function(){return this.Ta.nt}},{key:"Wl",get:function(){return this.qH}},{key:"rt",get:function(){return this.Ta.rt}},{key:"SI",get:function(){return this.TI()}},{key:"lnt",get:function(){return this.yQ}},{key:"MQ",get:function(){return this.LQ}},{key:"RI",get:function(){return this.CI()},set:function(t){this.DI(t)}},{key:"kI",get:function(){return this.Ta.kI},set:function(t){this.Ta.kI=t}},{key:"bt",get:function(){return this.Ta.bt}},{key:"ct",get:function(){return this.jd()}},{key:"we",get:function(){return this.Ta.we}},{key:"MI",get:function(){return this.Ta.MI}},{key:"lt",get:function(){return this.BI()}},{key:"OI",get:function(){return this.FI()}},{key:"Sa",get:function(){return this.Ta.xR()}},{key:"WZ",get:function(){return this.Ta.ja()}},{key:"ER",get:function(){return this.Ta.ER},set:function(t){this.Ta.ER=t}},{key:"qI",get:function(){return this.Ta.qI},set:function(t){var n=Boolean(t);this.KI(n)}},{key:"JI",get:function(){return this.Ta.JI}},{key:"tR",get:function(){return this.eR()},set:function(t){this.iR(t)}},{key:"sR",get:function(){return this.nR()}},{key:"rR",get:function(){return this.Ta.rR},set:function(t){this.Ta.rR=t}},{key:"aR",get:function(){return this.Ta.aR}},{key:"cR",get:function(){return this.lR()}},{key:"dR",get:function(){return this.Ta.dR}},{key:"OC",get:function(){return this.eF}},{key:"vR",get:function(){return this.Ta.vR}},{key:"pR",get:function(){return this.Ta.pR}},{key:"yR",get:function(){return this.Ta.yR},set:function(t){var n=Di(Number(t),0,1)||0;this.AR(n)}},{key:"SR",get:function(){return this.zH}}]),n}(wa);F(),Tt();var ML=self.CustomEvent;var OL=function(){try{var t=new ML("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};F(),Tt(),Dt();var BL=function(){function t(){this.zO=[],this.eu=void 0}var n=t.prototype;return n.wC=function(t){return this.zO[t]},n.x$=function(t){this.zO.push(t),this.wa.push(t.wa)},n.rT=function(t){var n=this.zO.indexOf(t);n<0||(Qi(this.zO,n),this.eu&&Qi(this.eu,n))},n.Mnt=function(t){for(var n=0,i=this.zO;n<i.length;n++){var r=i[n];if(r.OC===t)return r}},Nt(t,[{key:"V",get:function(){return this.zO.length}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.wC(i).wa;return n.getPlayerByUID=function(n){var i=t.Mnt(n);return i&&i.wa},n}(this)}}]),t}();var VL=new BL;function FL(t){var n,i,r=function(n){i=n;var r=AE(n,t.kd);t.Ca(r)},e={get abr(){return t.snt.wa},get ads(){var n;return null==(n=t.zc)?void 0:n.wa},get audioTracks(){return t.ht.wa},get autoplay(){return t.KO},set autoplay(n){t.KO=Boolean(n)},get buffered(){return t.TI()},get canvas(){return t.gnt.wa},get cast(){var n;return null==(n=t.rq)?void 0:n.wa},get clip(){return t.lnt.wa},get currentProgramDateTime(){var n;return null!=(n=t.kI)?n:null},set currentProgramDateTime(n){t.kI=null!=n?n:void 0},get currentTime(){return t.CI()},set currentTime(n){t.DI(Number(n))},get duration(){return t.jd()},get element(){return t.we},get ended(){return t.MI},get error(){return t.BI()},get errorObject(){return t.FI()},get loop(){return t.MQ.MQ},set loop(n){t.MQ.MQ=Boolean(n)},get metrics(){return t.XI.wa},get muted(){return t.qI},set muted(n){t.KI(n)},get network(){return t.Sz.wa},get paused(){return t.JI},get playbackRate(){return t.tR},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.tR=i},get played(){return t.nR()},get poster(){return t.mi},set poster(n){t.mi=qg(n)},get preload(){return t.rR},set preload(n){t.rR=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.vnt.wa},get readyState(){return t.aR},get seekable(){return t.lR()},get seeking(){return t.dR},get source(){return i},set source(t){r(t)},get src(){return vE(t.iu())},set src(t){r({sources:t})},get textTracks(){return t.nt.wa},get textTrackStyle(){return t.Wl.wa},get theoLive(){return t.knt},get uid(){return t.OC},get videoHeight(){return t.vR},get videoTracks(){return t.rt.wa},get videoWidth(){return t.pR},get visibility(){return t.No.wa},get volume(){return t.yR},set volume(n){t.AR(Number(n))},get latency(){return t.SR.wa},get theoads(){return t.xnt},get millicast(){return t.UI.wa},destroy:function(){t.yn(),t=null,i=void 0},play:function(){t.Lnt()},pause:function(){t.PR()},stop:function(){i=void 0,t.NR()},prepareWithUserAction:function(){t.RR()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.ZR(function(t){return{Lt:qg(t.kind),Ch:qg(t.label),gs:qg(t.language),zw:qg(t.type)}}(n)).wa}};return(n=new zI(e,!0)).ru(t),n.bn("destroy",(function(){n.yn()})),e}F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt();var UL=function(t){function n(n){var i;return(i=t.call(this,ya.uo)||this).source=n,i}return It(n,t),n}(ma);F(),Tt(),Dt(),Rt();var WL=function(t){function n(){var n;return(n=t.call(this)||this).OH=0,n.WH=!0,n.FH=!1,n.UH=1,n}It(n,t);var i=n.prototype;return i.CI=function(){return this.OH},i.dnt=function(){return this.CI()},i.DI=function(t,n){this.FH&&this.OH===t||(this.OH=t,this.FH=!0,this._o(new RT(this.OH)))},i.DR=function(){this.WH&&(this.WH=!1,this._o(new TT(this.OH)),this._o(new Op(this.OH)))},i.PR=function(){this.WH||(this.WH=!0,this._o(new Eg(this.OH,this.kI)),this._o(new AT(this.OH)))},i.nr=function(){this.OH=0,this.FH=!1,this.UH=1,this.PR()},i.yn=function(){this.Ro()},i.be=function(){},i.ge=function(){},Nt(n,[{key:"kI",get:function(){},set:function(t){}},{key:"RI",get:function(){return this.CI()},set:function(t){this.DI(t)}},{key:"JI",get:function(){return this.WH}},{key:"tR",get:function(){return this.UH},set:function(t){this.UH!==t&&(this.UH=t,this._o(new ET(this.OH,this.tR)))}},{key:"aR",get:function(){return Pp.TO}},{key:"dR",get:function(){return this.FH}}]),n}(wa);F(),Tt(),Dt();var ZL={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},XL={visibility:"hidden"},GL={visibility:"visible"},HL=function(){function t(t){var n=this;this.Vnt=!1,this.Wnt=function(t){var i;n.Vnt=!n.na.JI,n.Bnt=null==(i=t.source)?void 0:i.poster,n.ir()},this.aU=function(){n.Vnt=!0,n.be()},this.na=t,this.RH(),this.Vs=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",gi(ZL,t),t}(),t.we.appendChild(this.Vs)}var n=t.prototype;return n.ir=function(){var t=this.na.JI,n=this.Vnt;this.Xu?this.Vs.style.backgroundImage='url("'+oa(this.Xu)+'")':this.Vs.style.backgroundImage="",t&&this.Xu&&!n?this.ge():this.be()},n.ge=function(){gi(XL,this.na.we),gi(GL,this.Vs)},n.be=function(){gi(XL,this.Vs),gi(GL,this.na.we)},n.RH=function(){this.na.bn(ya.uo,this.Wnt),this.na.bn(ya.ho,this.aU)},n.yn=function(){this.na.vn(ya.uo,this.Wnt),this.na.vn(ya.ho,this.aU),oi(this.Vs)},Nt(t,[{key:"Xu",get:function(){return void 0!==this.Bnt?this.Bnt:void 0!==this.Ont?this.Ont:void 0}},{key:"Fnt",set:function(t){this.Ont=t,this.ir()}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),F(),Tt();var zL=function(t){return t[t.Unt=0]="Unt",t[t.Gnt=1]="Gnt",t}({});function YL(t){var n,i={get playing(){return t.Vc},get currentAds(){return t.Znt.map((function(t){return t.Hnt()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.Xnt)?void 0:n.Hnt())?i:null},get scheduledAds(){return t.znt.map((function(t){return t.Hnt()}))},get scheduledAdBreaks(){return t.qnt.map((function(t){return t.Hnt()}))},skip:function(){t.zD()},skipAdBreak:function(n){t.Ynt(null!=n?n:void 0)},schedule:function(n){var i=bE(n,MS.Vm);i?t.K6(i,zL.Unt,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.Knt(n,i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new SR(t,i),i}var jL=function(t){function n(n){var i,r;return(i=t.call(this)||this).eu=void 0,i.Oc=n,null==(r=i.Oc)||r._y(i.Ds),i}It(n,t);var i=n.prototype;return i.K6=function(t,n,i){var r;null==(r=this.Oc)||r.K6(t,n,i)},i.jnt=function(t){var n;null==(n=this.Oc)||n.jnt(t)},i.zD=function(){var t;null==(t=this.Oc)||t.zD()},i.Ynt=function(t){var n;null==(n=this.Oc)||n.Ynt(t)},i.Qnt=function(t){var n;null==(n=this.Oc)||n.Qnt(t)},i.Knt=function(t,n){var i;null==(i=this.Oc)||i.Knt(t,n)},i.yn=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Ro(),void 0===n.Oc?[3,3]:(n.Oc.yy(n.Ds),t?[3,2]:[4,n.Oc.yn()]);case 1:i.sent(),i.label=2;case 2:n.Oc=void 0,i.label=3;case 3:return[2]}}))}))()},Nt(n,[{key:"Vc",get:function(){return!!this.Oc&&this.Oc.Vc}},{key:"Znt",get:function(){return this.Oc?this.Oc.Znt:[]}},{key:"Xnt",get:function(){return this.Oc?this.Oc.Xnt:null}},{key:"znt",get:function(){return this.Oc?this.Oc.znt:[]}},{key:"qnt",get:function(){return this.Oc?this.Oc.qnt:[]}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YL(this)}}]),n}(wa);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var KL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).sd=i,r}return It(n,t),n}(Ig),qL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return It(n,t),Nt(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(ma),JL=function(t){function n(n){return t.call(this,"Jnt",n)||this}return It(n,t),n.prototype.ka=function(){return new QL(this.sd.Hnt())},n}(KL),QL=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return It(n,t),n}(qL);F(),Tt(),Rt();var $L=function(t){function n(n){return t.call(this,"$nt",n)||this}return It(n,t),n.prototype.ka=function(){return new tM(this.sd.Hnt())},n}(KL),tM=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return It(n,t),n}(qL);F(),Tt(),Rt(),F(),Tt(),Rt();var nM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).trt=i,r}return It(n,t),n}(Ig),iM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return It(n,t),n}(ma),rM=function(t){function n(n){return t.call(this,"ert",n)||this}return It(n,t),n.prototype.ka=function(){return new eM(this.trt.Hnt())},n}(nM),eM=function(t){function n(n){return t.call(this,"addad",n)||this}return It(n,t),n}(iM);F(),Tt(),Rt();var uM=function(t){function n(n){return t.call(this,"irt",n)||this}return It(n,t),n.prototype.ka=function(){return new sM(this.sd.Hnt())},n}(KL),sM=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return It(n,t),n}(qL);F(),Tt(),Rt();var oM=function(t){function n(n){return t.call(this,"nrt",n)||this}return It(n,t),n.prototype.ka=function(){return new aM(this.sd.Hnt())},n}(KL),aM=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return It(n,t),n}(qL);F(),Tt(),Rt();var cM=function(t){function n(n,i){var r;return(r=t.call(this,"rrt",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new hM(this.trt.Hnt(),this.currentTime)},n}(nM),hM=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return It(n,t),n}(iM);F(),Tt(),Rt();var fM=function(t){function n(n,i){var r;return(r=t.call(this,"ort",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new vM(this.trt.Hnt(),this.currentTime)},n}(nM),vM=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return It(n,t),n}(iM);F(),Tt(),Rt();var dM=function(t){function n(){return t.call(this,"hrt")||this}return It(n,t),n.prototype.ka=function(){return new lM},n}(Ig),lM=function(t){function n(){return t.call(this,"adadded")||this}return It(n,t),n}(ma),gM=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).na=n,i}return It(n,t),Nt(n,[{key:"bC",get:function(){return this.Oc},set:function(t){var n=this.Oc;if(n!==t){var i=this.Znt,r=this.Xnt,e=this.znt,u=this.qnt;null==n||n.yy(this.Ds),this.Oc=t,null==t||t._y(this.Ds);for(var s=this.Znt,o=this.Xnt,a=this.znt,c=this.qnt,h=[],f=!1,v=0;v<u.length;v++){var d=u[v];tr(c,d)||h.push(new JL(d))}for(var l=0;l<c.length;l++){var g=c[l];tr(u,g)||h.push(new $L(g))}for(var w=0;w<a.length;w++){var m=a[w];tr(e,m)||(h.push(new rM(m)),f=!0)}f&&h.push(new dM),r!==o&&(r&&h.push(new uM(r)),o&&h.push(new oM(o)));for(var y=0;y<i.length;y++){var p=i[y];tr(s,p)||h.push(new fM(p,this.na.CI()))}for(var _=0;_<s.length;_++){var b=s[_];tr(i,b)||h.push(new cM(b,this.na.CI()))}for(var k=0;k<h.length;k++){var A=h[k];this._o(A)}}}}]),n}(jL);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var wM=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vc=!1,n.Xnt=null,n.Znt=[],n.qnt=[],n.znt=[],n.eu=void 0,n}It(n,t);var i=n.prototype;return i.Qnt=function(t){},i.Knt=function(t,n){},i.K6=function(t,n,i){},i.zD=function(){},i.Ynt=function(t){},i.jnt=function(t){},i.yn=function(){return this.Ro(),et.resolve()},Nt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YL(this)}}]),n}(wa),mM=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).drt=[],n.art=[],n}It(n,t);var i=n.prototype;return i.K6=function(t,n,i){this.art.push({urt:t,crt:n,lrt:i})},i.zD=function(){},i.Qnt=function(t){},i.Knt=function(t,n){this.drt.push({vP:t,frt:n})},i.jnt=function(t){var n=this.drt.slice(),i=this.art.slice();this.nr();for(var r=0;r<n.length;r++){var e=n[r];t.Knt(e.vP,e.frt)}for(var u=0;u<i.length;u++){var s=i[u];t.K6(s.urt,s.crt,s.lrt)}},i._rt=function(){var t=this.art.map((function(t){return t.urt}));return this.nr(),t},i.nr=function(){ir(this.drt),ir(this.art)},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.nr(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(wM);F(),Tt(),Rt();var yM=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return It(n,t),n}(ma);var pM=Ti((function(){var t=LL;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<rA.length;u++)for(var s=rA[u],o=0;o<s.length;o++)e=(0,s[o])(e);return n.call(this,e)||this}return It(i,n),i}(Qk)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).xrt=!0,e.ott=Pp.TO,e.Trt=!1,e.PH=void 0,e.bZ=void 0,e.QH=void 0,e.wrt=function(t){t.type!==ya.Qy&&e.krt.push(t)},e.Irt=function(t){(t.type!==ya.ho||e.na.JI)&&(t.type===ya.Ky&&e.na.JI||t.type===ya.ib&&e.na.dR&&e.na.CI()===t.currentTime||t.type===ya.Qy&&e.na.tR===t.playbackRate||e._o(t))},e.UR=function(t){if(e.Trt){if(t.type===Np.aB)return;t.type!==Np.nB&&t.type!==Np.uB||(e.Trt=!1)}if(t.type===ya.ho){if(!e.xrt)return;e.xrt=!1}else if(t.type===ya.Ky){if(e.xrt)return;e.xrt=!0}else if(t.type===Np.aC){if(e.ott===t.readyState)return;e.ott=t.readyState}else if(t.type===ya.Py)return;e._o(t)},e.vrt=new t(i,r),e.Ert=new WL,e.na=e.vrt,e.mrt=new HL(e),e.vrt.zc&&(e.Oc=new gM(e),e.Oc.bC=e.vrt.zc,e.Rrt=new mM),e.Yo=new kd,e.krt=[],e.LH=!0,e.RH(),e}It(i,n);var r=i.prototype;return r.eR=function(){return this.vrt.tR},r.iR=function(t){this.na.tR=t},r.Qo=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){return[2,i.Yo.Qo(t,n).catch(Tr)]}))}))()},r.prt=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:kr(n),i.vrt._y(i.wrt),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.vrt.Ca(t,n)];case 2:return r.sent(),[3,4];case 3:return i.vrt.yy(i.wrt),[7];case 4:return[2]}}))}))()},r.grt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,t.yrt()];case 1:return n=i.sent(),t.brt(n),[2]}}))}))()},r.yrt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return(n=t.iu())&&!cE(n)&&t.KO&&t.JI?[2,t.rnt.ij(t.qI)]:[2,"none"]}))}))()},r.brt=function(t){var n,i=(null==(n=this.iu())?void 0:n.mutedAutoplay)||this.kd.mutedAutoplay;switch(t){case"all":this.Lnt();break;case"muted":(this.qI||i===OT.ALL)&&(this.qI=!0,this.DR())}},r.Ca=function(t){cE(this.PH)||this._o(new kT(0,Pp.TO)),this.nr(),this.PH=t;var n=this;xr(this.Qo(Pt((function(i){var r,e;return Ot(this,(function(u){switch(u.label){case 0:kr(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.prt(t,i)];case 2:return u.sent(),[3,5];case 3:return Ar(r=u.sent()),n.PH=void 0,n.uH(gd(r,vd.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.Art(n.vrt),[7];case 5:return[4,n.yrt()];case 6:return e=u.sent(),n._o(new UL(n.iu())),n.brt(e),[2]}}))}))))},r.DI=function(t,n){this.na.DI(t,n)},r.BI=function(){var t;return null!=(t=this.QH)?t:this.vrt.BI()},r.FI=function(){var t;return null!=(t=this.bZ)?t:this.vrt.FI()},r.uH=function(t){void 0===this.FI()&&(this.bZ=t,this.QH=lw(t),this._o(new xk(t)))},r.DR=function(){this.na.DR()},r.Lnt=function(){this.qI||this.RR(),this.DR()},r.RR=function(){this.vrt.RR()},r.PR=function(){this.na.PR()},r.NR=function(){this.Ca(void 0)},r.ge=function(){this.LH=!0,this.na.ge()},r.be=function(){this.LH=!1,this.na.be()},r.Aa=function(){this.vrt.Aa()},r.AR=function(t){this.vrt.AR(t)},r.KI=function(t){this.vrt.KI(t)},r.Pa=function(t){this.Srt=t,t.x$(this)},r.cs=function(){return this.vrt.cs()},r.iu=function(){return this.PH},r.IR=function(){return this.vrt.IR()},r.CI=function(){return this.na.CI()},r.dnt=function(){return this.na.dnt()},r.jd=function(){return this.vrt.jd()},r.TI=function(){return this.vrt.TI()},r.nR=function(){return this.vrt.nR()},r.lR=function(){return this.vrt.lR()},r.FR=function(){this.vrt.FR()},r.WR=function(){this.vrt.WR()},r.ZR=function(t){return this.vrt.ZR(t)},r.nr=function(){this.PH=void 0,this.bZ=void 0,this.QH=void 0,this.Trt=!0,ir(this.krt),this.Ert.nr(),this.Art(this.Ert),this.Yo.np();var t=this;xr(this.Yo.Qo(Pt((function(n){return Ot(this,(function(i){switch(i.label){case 0:return kr(n),[4,t.vrt.NR()];case 1:return i.sent(),[2]}}))}))))},r.yn=function(){this._o(new PL),this.mrt.yn(),this.CH(),this.nr();var t=this;xr(this.Qo(Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.vrt.yn()];case 1:return n.sent(),t.Srt&&(t.Srt.rT(t),t.Srt=void 0),t.Yo.yn(),[2]}}))})))),this.Ro()},r.Art=function(t){if(this.na!==t){var n=this.na.JI,i=this.na.CI(),r=this.na.tR,e=this.na.aR,u=this.na.dR;this.xrt=n,this.ott=e,this.CH(),t._y(this.Irt),t===this.vrt?(void 0!==this.Oc&&(this.Oc.bC=t.zc,this.Rrt.jnt(this.Oc)),(u||t.CI()!==i)&&t.DI(i),t.tR!==r&&(t.tR=r),n?t.PR():t.DR()):(void 0!==this.Oc&&(this.Oc.bC=this.Rrt,this.Rrt.nr()),this.kd.retainPlaybackRateOnSourceChange?t.tR=r:1!==r&&this._o(new ET(this.CI(),1))),t.yy(this.Irt),this.na=t,this.RH();for(var s=0,o=this.krt;s<o.length;s++){var a=o[s];this._o(a)}ir(this.krt),this.LH?t.ge():t.be()}},r.RH=function(){this.na._y(this.UR)},r.CH=function(){this.na.yy(this.UR)},r.ka=function(){return FL(this)},Nt(i,[{key:"pnt",get:function(){return this.vrt.pnt}},{key:"zc",get:function(){return this.Oc}},{key:"gnt",get:function(){return this.vrt.gnt}},{key:"kd",get:function(){return this.vrt.kd}},{key:"mI",get:function(){return this.vrt.mI}},{key:"Sa",get:function(){return this.vrt.Sa}},{key:"WZ",get:function(){return this.vrt.WZ}},{key:"vnt",get:function(){return this.vrt.vnt}},{key:"ant",get:function(){return this.vrt.ant}},{key:"Ta",get:function(){return this.vrt.Ta}},{key:"snt",get:function(){return this.vrt.snt}},{key:"KO",get:function(){return this.vrt.KO},set:function(t){this.vrt.KO=t,this.grt()}},{key:"rnt",get:function(){return this.vrt.rnt}},{key:"ht",get:function(){return this.vrt.ht}},{key:"rq",get:function(){return this.vrt.rq}},{key:"Hu",get:function(){return this.vrt.ant}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"VI",get:function(){return this.vrt.VI}},{key:"UI",get:function(){return this.vrt.UI}},{key:"ER",get:function(){return this.vrt.ER},set:function(t){this.vrt.ER=t}},{key:"XI",get:function(){return this.vrt.XI}},{key:"Sz",get:function(){return this.vrt.Sz}},{key:"nt",get:function(){return this.vrt.nt}},{key:"Wl",get:function(){return this.vrt.Wl}},{key:"rt",get:function(){return this.vrt.rt}},{key:"lnt",get:function(){return this.vrt.lnt}},{key:"MQ",get:function(){return this.vrt.MQ}},{key:"kI",get:function(){return this.na.kI},set:function(t){this.na.kI=t}},{key:"bt",get:function(){return this.vrt.bt}},{key:"we",get:function(){return this.vrt.we}},{key:"MI",get:function(){return this.vrt.MI}},{key:"qI",get:function(){return this.vrt.qI},set:function(t){this.KI(t)}},{key:"JI",get:function(){return this.na.JI}},{key:"mi",get:function(){return this.mrt.Xu||""},set:function(t){this.mrt.Fnt=t}},{key:"tR",get:function(){return this.eR()},set:function(t){this.iR(t)}},{key:"rR",get:function(){return this.vrt.rR},set:function(t){this.vrt.rR=t}},{key:"aR",get:function(){return this.na.aR}},{key:"Ma",get:function(){return this.vrt.Ma},set:function(t){this.vrt.Ma=t}},{key:"dR",get:function(){return this.na.dR}},{key:"knt",get:function(){return this.vrt.knt}},{key:"xnt",get:function(){return this.vrt.xnt}},{key:"OC",get:function(){return this.vrt.OC}},{key:"vR",get:function(){return this.vrt.vR}},{key:"pR",get:function(){return this.vrt.pR}},{key:"yR",get:function(){return this.vrt.yR},set:function(t){this.AR(t)}},{key:"SR",get:function(){return this.vrt.SR}},{key:"fnt",get:function(){return this.vrt.fnt}},{key:"No",get:function(){return this.vrt.No}}]),i}(wa)}(t);return Gn.Rg&&Gn.Pg<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Crt=0,n}It(n,t);var i=n.prototype;return i.Ca=function(n){this.Crt=0,t.prototype.Ca.call(this,n)},i._o=function(n){if(n.type===Qy.fa&&this.Crt<3)return this.Crt++,t.prototype._o.call(this,new yM(n)),void t.prototype.Ca.call(this,this.iu());t.prototype._o.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<tA.length;i++)for(var r=tA[i],e=0;e<r.length;e++)n=(0,r[e])(n);return n}(n),n}));function _M(t,n){var i=VT(n),r=new(pM())(t,i);r.Ma=r;var e=r.wa;return r.Aa(),r.Pa(VL),b.defineProperty(e,"constructor",{value:_M}),e=function(t){return Vg(t)}(e),function(t){for(var n=0;n<uA.length;n++)(0,uA[n])(t)}(r),e}Dr((function(){self.dispatchEvent&&self.dispatchEvent(OL("theoplayerready"))})),F(),Tt();var bM=function(){function t(){}var n=t.prototype;return n.encode=function(t){return Oa(t)},n.decode=function(t){return Pa(t)},t}(),kM={base64:new bM};F(),Tt();var AM=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor"]'),TM="9.7.0",SM=VL.wa,EM=g_.TP.registerContentProtectionIntegration.bind(g_.TP);F(),Tt(),F(),Tt();var IM=function(){function t(){}var n=t.prototype;return n.ij=function(t){return et.resolve("all")},n.RR=function(){},n.yn=function(){},t}();Gn.Lg&&Gn.Og?QI(IM):QI(qI),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Wt();var RM=function(){function t(){}var n=t.prototype;return n.dH=function(t){return Pt((function(){return Ot(this,(function(n){return[2,eT(t.type)]}))}))()},n.fH=function(t){return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,L_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},t}(),CM=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.dH=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){return Xe(n.useManagedMediaSource)?[2,t.prototype.dH.call(i,n)]:[2,!1]}))}))()},n}(RM);function NM(t){return JR(t)}function DM(t){var n=Gn.Ng||Gn.Rg,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Ze(!0);return Pt((function(t){var n,i,u;return Ot(this,(function(s){switch(s.label){case 0:return n=t.Fk,e.Up(n)||function(t,n){return!!t&&(Gv(t)?cp(n)||fp(n):Jo(t,Xv.APPLICATION_TTML_XML)||Jo(t,Xv.TEXT_VTT)||Jo(t,Xv.IMAGE_JPEG))}(t.SY,t.Frt)?(i=t.Frt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.$G?(u=t.$G,[4,fr(er(u,(function(t){return Ko(t.G9)})).filter(Yn),(function(t){return Kn.yw(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Dt();var xM=function(){function t(t){this.Vrt=t}return Nt(t,[{key:"Ti",get:function(){return this.Vrt.offsetHeight*Kn.Ys.pp}},{key:"ji",get:function(){return this.Vrt.offsetWidth*Kn.Ys.pp}}]),t}();F(),Tt(),Dt();var PM=function(){function t(t,n){this.Hl=new rp,this.i7=new ox(t,n)}var n=t.prototype;return n.ZR=function(t,n,i,r,e,u,s,o){var a=new aD(t,n,i,r,e,u,s,void 0,o);return this.Hl.tt(a),this.i7.tt(a),a},n.ZW=function(t){this.Hl.it(t),this.i7.it(t),t.yn()},n.UZ=function(t){var n=new Px(t.Lt,t.Ch,t.gs);return this.Hl.tt(n),this.i7.tt(n),n},n.nr=function(){for(var t=0,n=this.Hl.mC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr(),this.i7.nr()},n.yn=function(){this.nr(),this.Hl.yn(),this.i7.yn()},Nt(t,[{key:"nt",get:function(){return this.Hl}}]),t}();F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var LM=function(){function t(t){this.eZ=t}var n=t.prototype;return n.lH=function(t){return this.eZ.lH(t)},n.Bst=function(t){return this.eZ.Bst(t)},n.qZ=function(t){return this.eZ.qZ(t)},t}();function MM(t){var n=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"SZ",get:function(){return this.aO.SZ}}]),n}(t);return n}F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var OM=function(){function t(t){this.kZ=t}var n=t.prototype;return n.yT=function(){return this.kZ.kd},n.lR=function(){return this.kZ.cR},n.ZJ=function(t){return this.kZ.ZJ(t)},n.XJ=function(t){return this.kZ.XJ(t)},n.Km=function(){return et.resolve()},Nt(t,[{key:"kd",get:function(){return this.yT()}},{key:"cR",get:function(){return this.lR()}}]),t}(),BM=function(t){function n(n){var i;return(i=t.call(this,n)||this).H4=void 0,i.X4=void 0,i.Hrt=function(t){return i.Xrt(t)},i}It(n,t);var i=n.prototype;return i.TI=function(){return this.kZ.SI},i.jd=function(){return this.kZ.ct},i.Wrt=function(){return this.kZ.r$},i.q4=function(t){this.kZ.q4(t)},i.Q4=function(t,n,i,r){this.kZ.Q4(t,n,i,r)},i.Y3=function(){this.kZ.Y3()},i.V3=function(){this.kZ.V3()},i.Km=function(){return this.H4&&(this.H4.Km(),this.H4=void 0),this.X4&&(this.X4.Km(),this.X4=void 0),t.prototype.Km.call(this)},i.Urt=function(t){this.kZ=t,this.H4?t.d4?this.H4.Grt(t.d4):(this.H4.Km(),this.H4=void 0):t.d4&&(this.H4=this.Zrt(t.d4),this.H4.bn(tC,this.Hrt)),this.X4?t.f4?this.X4.Grt(t.f4):(this.X4.Km(),this.X4=void 0):t.f4&&(this.X4=this.Zrt(t.f4),this.X4.bn(tC,this.Hrt))},i.qJ=function(t){this.kZ.qJ(t)},i.Xrt=function(t){},Nt(n,[{key:"d4",get:function(){return this.H4}},{key:"f4",get:function(){return this.X4}},{key:"SI",get:function(){return this.TI()}},{key:"ct",get:function(){return this.jd()}},{key:"r$",get:function(){return this.Wrt()}}]),n}(OM);F(),Tt(),Mt(),Dt(),Rt(),nn(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var VM=function(t){function n(n){var i;return(i=t.call(this)||this).aQ=0,i.lQ=0,i.FT=n,i}It(n,t);var i=n.prototype;return i.r3=function(t,n,i){return et.reject(new p("Invalid media buffer"))},i.n4=function(){return et.reject(new p("Invalid media buffer"))},i.a3=function(t,n,i){return et.reject(new p("Invalid media buffer"))},i.r$=function(){return!1},i.Y3=function(){},i.i4=function(t,n){},i.s4=function(t,n){},i.rT=function(t,n,i){return et.resolve()},i.T3=function(t,n){return et.reject(new p("Invalid media buffer"))},i.nF=function(t,n){return et.reject(new p("Invalid media buffer"))},i.ZJ=function(t){return!1},i.XJ=function(t){return et.reject(new p("Invalid media buffer"))},i.Km=function(){this.Ro()},Nt(n,[{key:"sQ",get:function(){return this.lQ},set:function(t){this.lQ=t}},{key:"SI",get:function(){return FA.WB()}},{key:"kd",get:function(){return this.FT}},{key:"j3",get:function(){return aw.oE}},{key:"J3",get:function(){return FA.WB()}},{key:"zrt",get:function(){return!1}},{key:"$j",get:function(){return this.aQ},set:function(t){this.aQ=t}}]),n}(la),FM=function(t){function n(n){var i;return(i=t.call(this)||this).$rt=function(t){return i.UR(t)},i.Krt=n,i.Krt.bn(tC,i.$rt),i}It(n,t);var i=n.prototype;return i.qrt=function(){return this.Krt.sQ},i.Yrt=function(t){this.Krt.sQ=t},i.TI=function(){return this.Krt.SI},i.yT=function(){return this.Krt.kd},i.jrt=function(){return this.Krt.J3},i.Qrt=function(){return this.Krt.$j},i.Jrt=function(t){this.Krt.$j=t},i.r3=function(t,n,i){return this.Krt.r3(t,n,i)},i.n4=function(){return this.Krt.n4()},i.a3=function(t,n,i){return this.Krt.a3(t,n,i)},i.i4=function(t,n){this.Krt.i4(t,n)},i.s4=function(t,n){this.Krt.s4(t,n)},i.rT=function(t,n,i){return this.Krt.rT(t,n,i)},i.T3=function(t,n){return this.Krt.T3(t,n)},i.ZJ=function(t){return this.Krt.ZJ(t)},i.XJ=function(t){return this.Krt.XJ(t)},i.UR=function(t){this._o(t)},i.Km=function(){this.Ro(),this.Grt(new VM(this.kd))},i.Grt=function(t){this.Krt.vn(tC,this.$rt),this.Krt=t,this.Krt.bn(tC,this.$rt)},Nt(n,[{key:"sQ",get:function(){return this.qrt()},set:function(t){this.Yrt(t)}},{key:"SI",get:function(){return this.TI()}},{key:"kd",get:function(){return this.yT()}},{key:"j3",get:function(){return this.Krt.j3}},{key:"J3",get:function(){return this.jrt()}},{key:"$j",get:function(){return this.Qrt()},set:function(t){this.Jrt(t)}}]),n}(la),UM=function(t){function n(n){var i;return(i=t.call(this,n)||this).aO=void 0,i}It(n,t);var i=n.prototype;return i.r3=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return kr(i),[4,r.tot(r.aO.RI,null==n?void 0:n.$it,null==n?void 0:n.ct)];case 1:return e.sent(),kr(i),t.zw!==nC.Ik?[3,3]:[4,r.eot(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.iot(t,n,i)];case 5:return[2]}}))}))()},i.eot=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=tn(tl(e.$k),2),s=u[0],o=u[1],e={zw:nC.Ik,$k:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.rot(e,n,i)];case 3:return c.sent(),o.cancel(new _r).catch(_i),[2];case 4:return lR(a=c.sent())?[4,r.tot(r.aO.RI,n.$it,n.ct,i)]:[3,6];case 5:if(c.sent())return e={zw:nC.Ik,$k:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(_i),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.iot=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),kr(i),[4,r.rot(t,n,i)];case 2:return[2,u.sent()];case 3:return lR(e=u.sent())?[4,r.tot(r.aO.RI,n.$it,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.tot=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:u=dR(t,n,i,e.SI,e.$j,e.sQ),s=0,h.label=1;case 1:return s<u.length?(o=tn(u[s],2),a=o[0],c=o[1],[4,e.oot(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.rot=function(n,i,r){return t.prototype.r3.call(this,n,i,r)},i.oot=function(n,i,r){return t.prototype.rT.call(this,n,i,r)},Nt(n,[{key:"Dst",get:function(){return this.aO},set:function(t){this.aO=t}}]),n}(FM),WM=function(t){function n(n){var i;return(i=t.call(this,n)||this).aO=void 0,i.Urt(n),i}return It(n,t),n.prototype.Zrt=function(t){var n=new UM(t);return n.Dst=this.aO,n},Nt(n,[{key:"Dst",get:function(){return this.aO},set:function(t){this.aO=t,this.H4&&(this.H4.Dst=t),this.X4&&(this.X4.Dst=t)}}]),n}(BM);F(),Tt(),Dt(),Rt();var ZM=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"rR",get:function(){return this.kZ.rR},set:function(t){this.kZ.rR=t}}]),n}(OM);function XM(t){var n=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.IR=function(){return this.aO.IR()},Nt(n,[{key:"SZ",get:function(){return this.aO.SZ}},{key:"pR",get:function(){return this.aO.pR}},{key:"vR",get:function(){return this.aO.vR}}]),n}(t);return n}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var GM=function(t){function n(n){var i;return(i=t.call(this)||this).kZ=void 0,i.fot=new dA,i.yot=function(t){return i.UR(t)},i.aO=n,i.fot.bC=n.nt,i.aO.bn(KR,i.yot),i}It(n,t);var i=n.prototype;return i.TI=function(){return this.aO.SI},i.EI=function(){return this.aO.kI},i.CI=function(){return this.aO.RI},i.jd=function(){return this.aO.ct},i.aot=function(){return this.aO.EZ},i.uot=function(){return this.aO.MI},i.xR=function(){return this.aO.Sa},i.ja=function(){return this.aO.WZ},i.cot=function(){return this.aO.JI},i.nR=function(){return this.aO.sR},i.uR=function(){return this.aO.aR},i.lR=function(){return this.aO.cR},i.fR=function(){return this.aO.dR},i.lot=function(){return this.aO.f5},i.dot=function(){return this.aO.T5},i._R=function(){return this.fot},i.Dtt=function(){return this.aO.Wl},i._ot=function(){return this.aO.zZ},i.vot=function(t){this.aO.zZ=t},i.got=function(t){this.aO.ntt=t},i.mot=function(){return this.aO.V9},i.zI=function(){return this.aO.zI()},i.DR=function(){return this.aO.DR()},i.PR=function(){this.aO.PR()},i.Db=function(t,n,i){this.aO.Db(t,n,i)},i.wZ=function(t){this.aO.wZ(t)},i.ge=function(){this.aO.ge()},i.be=function(){this.aO.be()},i.ZR=function(t,n,i,r,e,u,s,o){return this.aO.ZR(t,n,i,r,e,u,s,o)},i.UZ=function(t){return this.aO.UZ(t)},i.BZ=function(){return this.aO.BZ()},i.FZ=function(t,n,i,r,e){return this.aO.FZ(t,n,i,r,e)},i.ZW=function(t){this.aO.ZW(t)},i.GZ=function(){this.aO.GZ()},i.l$=function(t){return this.aO.l$(t)},i.$n=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return[4,n.aO.$n(t)];case 1:return i=e.sent(),r=t.zw===Cp.zW?n.pot(i):n.wot(i),n.kZ=r,[2,r]}}))}))()},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.kZ?[4,t.kZ.Km()]:[3,2];case 1:n.sent(),t.kZ=void 0,n.label=2;case 2:return[4,t.aO.nr()];case 3:return n.sent(),[2]}}))}))()},i.Q7=function(){this.aO.Q7()},i.J7=function(){this.aO.J7()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.aO.vn(KR,t.yot),t.fot.bC=void 0,t.fot.yn(),t.kZ?[4,t.kZ.Km()]:[3,2];case 1:n.sent(),t.kZ=void 0,n.label=2;case 2:return[2]}}))}))()},i.itt=function(){this.aO.itt()},i.bot=function(t){this.aO.vn(KR,this.yot),this.aO=t,this.fot.bC=t.nt,this.aO.bn(KR,this.yot)},i.UR=function(t){this._o(t)},Nt(n,[{key:"hot",get:function(){return this.aO}},{key:"SI",get:function(){return this.TI()}},{key:"kI",get:function(){return this.EI()}},{key:"RI",get:function(){return this.CI()}},{key:"Hu",get:function(){return this.aO.Hu}},{key:"ct",get:function(){return this.jd()}},{key:"EZ",get:function(){return this.aot()}},{key:"MI",get:function(){return this.uot()}},{key:"lt",get:function(){return this.aO.lt}},{key:"Ti",get:function(){return this.aO.Ti}},{key:"ji",get:function(){return this.aO.ji}},{key:"Sa",get:function(){return this.xR()}},{key:"WZ",get:function(){return this.ja()}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"JI",get:function(){return this.cot()}},{key:"tR",get:function(){return this.aO.tR},set:function(t){this.aO.tR=t}},{key:"sR",get:function(){return this.nR()}},{key:"aR",get:function(){return this.uR()}},{key:"cR",get:function(){return this.lR()}},{key:"dR",get:function(){return this.fR()}},{key:"f5",get:function(){return this.lot()}},{key:"T5",get:function(){return this.dot()}},{key:"nt",get:function(){return this._R()}},{key:"Wl",get:function(){return this.Dtt()}},{key:"A8",get:function(){return this.aO.A8}},{key:"yR",get:function(){return this.aO.yR},set:function(t){this.aO.yR=t}},{key:"ttt",get:function(){return this.aO.ttt}},{key:"ZI",get:function(){return this.aO.ZI}},{key:"vO",get:function(){return this.aO.vO}},{key:"zZ",get:function(){return this._ot()},set:function(t){this.vot(t)}},{key:"ntt",get:function(){return this.aO.ntt},set:function(t){this.got(t)}},{key:"V9",get:function(){return this.mot()}}]),n}(la),HM=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.stt=function(t){this.aO.stt(t)},i.FR=function(){this.aO.FR()},Nt(n,[{key:"hot",get:function(){return this.aO}},{key:"SZ",get:function(){return this.aO.SZ}},{key:"y5",get:function(){return this.aO.y5}},{key:"ER",get:function(){return this.aO.ER},set:function(t){this.aO.ER=t}}]),n}(GM),zM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.wot=function(t){var n=new WM(t);return n.Dst=this,n},i.pot=function(t){return new ZM(t)},n}(HM),YM=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(MM(zM)),jM=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(XM(zM)),KM=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.lH=function(n){return n===aw.yE?new jM(t.prototype.lH.call(this,n)):n===aw.wE?new YM(t.prototype.lH.call(this,n)):void 0},i.qZ=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,(r=n).Km()];case 1:return e.sent(),[4,t.prototype.qZ.call(i,r.hot)];case 2:return e.sent(),[2]}}))}))()},n}(LM);F(),Tt();var qM=function(){function t(t){var n=this;this.Sot=function(t){t.persisted&&n.Aot()},this.na=t,f.addEventListener("pageshow",this.Sot)}var n=t.prototype;return n.Aot=function(){this.na.WR()},n.yn=function(){f.removeEventListener("pageshow",this.Sot)},t}();F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),on(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),F(),Tt();var JM=function(){function t(t){this.xot=t}var n=t.prototype;return n.Tot=function(t,n,i){return et.resolve()},n.kot=function(t,n,i,r){var e=[];if(r){var u={oW:n.lF,hW:n.dF,aW:i.Eot.aW};r.zw===Ow.TTML?e=Vy(t,r,u,i.SY):r.zw===Ow.WEBVTT&&(e=Vm(t,u,this.xot).L)}return e},n.nr=function(){},t}();F(),Tt(),qt(),F(),Tt(),sn(),F(),Tt();var QM,$M=function(t){return t.dD="vttc",t.Iot="vsid",t.Rot="iden",t.Cot="ctim",t.Pot="sttg",t.Dot="payl",t.Not="vtte",t.Mot="vtta",t}({}),tO=function(){function t(){}return t.Lot=function(n){return Boolean(t.Bot[n])},t.cN=function(n){for(var i=[],r=ky.KD(new yy(n,new Uc)),e=0;e<r.length;e++){var u=r[e];t.Lot(u.zw)&&i.push(t.Bot[u.zw](u.$k))}return i},t.Oot=function(n){var i=ky.KD(n),r=Ty(i,$M.Iot),e=Ty(i,$M.Rot),u=Ty(i,$M.Cot),s=Ty(i,$M.Pot),o=Ty(i,$M.Dot);return{zw:$M.dD,Fot:r?t.Vot(r):void 0,Wot:e?t.Uot(e):void 0,Got:u?t.Zot(u):void 0,Hot:s?t.Xot(s):void 0,zot:o?t.qot(o):void 0}},t.Vot=function(t){return{zw:$M.Iot,Yot:t.WD()}},t.Uot=function(t){return{zw:$M.Rot,Wot:t.XD()}},t.Zot=function(t){return{zw:$M.Cot,Kot:t.XD()}},t.Xot=function(t){return{zw:$M.Pot,jot:t.XD()}},t.qot=function(t){return{zw:$M.Dot,Qot:t.XD()}},t.Jot=function(t){return{zw:$M.Not}},t.$ot=function(t){return{zw:$M.Mot,tht:t.XD()}},t}();tO.Bot=(un(QM={},$M.dD,tO.Oot),un(QM,$M.Not,tO.Jot),un(QM,$M.Mot,tO.$ot),QM);var nO=function(){function t(){this.iht=NaN}var n=t.prototype;return n.Tot=function(t,n,i){var r=new DataView(t.eht),e=Iy.cN(r),u=Hi(e,(function(t){return t.zw===ly.kP}));return u&&(this.iht=u.Z[0].LN.sN.RN),et.resolve()},n.kot=function(t,n,i){if(S(this.iht))return[];var r=Pc(t),e=Iy.cN(r),u=_y(e,ly.gD),s=_y(e,ly.TD);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.CL?r.CL.CL.toNumber()/i:n.lF,u=[],s=0,o=r.RL;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,Kt(c.BL))}return{sht:e,BL:u}}(u,n,this.iht),a=i.Eot.aW;return function(t,n,i,r){for(var e=tO.cN(Pc(n.$k)),u=t.BL,s=t.sht+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],d=(null!=(h=f.ct)?h:0)/i,l=void 0;v.zw===$M.dD&&(l=iO(v,a,d,s)),l&&o.push(l),a+=d}return o}(o,s,this.iht,a)},n.nr=function(){this.iht=NaN},t}();function iO(t,n,i,r){if(t.zot){var e=t.Got?function(t){return qm(t.Kot,new Uc(0))}(t.Got):n,u=r+e,s=u+i,o=t.zot.Qot;return new rm(u,s,o,!1)}}F(),Tt(),Mt(),Dt(),Rt(),nn(),Wt(),F(),Tt(),sn();var rO,eO=function(t){return t[t.aX=0]="aX",t[t.nht=1]="nht",t[t.rht=10]="rht",t[t.oht=11]="oht",t[t.hht=12]="hht",t[t.aht=13]="aht",t[t.uht=14]="uht",t[t.cht=15]="cht",t[t.dht=20]="dht",t[t.fht=21]="fht",t[t._ht=22]="_ht",t[t.vht=23]="vht",t[t.ght=24]="ght",t[t.mht=30]="mht",t[t.pht=31]="pht",t[t.wht=32]="wht",t[t.yht=33]="yht",t[t.bht=34]="bht",t[t.Aht=35]="Aht",t[t.Sht=40]="Sht",t[t.Tht=41]="Tht",t[t.kht=42]="kht",t[t.Eht=43]="Eht",t[t.xht=44]="xht",t[t.Iht=50]="Iht",t[t.Rht=51]="Rht",t[t.Cht=52]="Cht",t[t.Pht=60]="Pht",t[t.Dht=61]="Dht",t[t.Nht=62]="Nht",t[t.Mht=63]="Mht",t[t.Lht=70]="Lht",t[t.Bht=71]="Bht",t[t.Oht=72]="Oht",t[t.Fht=73]="Fht",t[t.Vht=74]="Vht",t[t.Wht=75]="Wht",t[t.Uht=76]="Uht",t[t.Ght=77]="Ght",t[t.Zht=90]="Zht",t[t.Hht=91]="Hht",t}({});un(rO={},0,"Failed because"),un(rO,1,"Created"),un(rO,10,"Starting because unknown reason"),un(rO,11,"Starting because new track loading"),un(rO,12,"Starting because manifest changed"),un(rO,13,"Starting because seek"),un(rO,14,"Starting because timeupdate"),un(rO,15,"Starting because buffering is being resumed"),un(rO,20,"Interrupting because unknown reason"),un(rO,21,"Interrupting because segment has a gap"),un(rO,22,"Interrupting because segment is missing"),un(rO,23,"Interrupting because seeking"),un(rO,24,"Interrupting because buffer is full"),un(rO,30,"Pausing because unknown reason"),un(rO,31,"Pausing because target buffer reached"),un(rO,32,"Pausing because no target time"),un(rO,33,"Pausing because no segment selected"),un(rO,34,"Pausing because end of stream is reached"),un(rO,35,"Pausing because initialization segment is missing"),un(rO,40,"Stopping because unknown reason"),un(rO,41,"Stopping because manifest went offline"),un(rO,42,"Stopping because seeking"),un(rO,43,"Stopping because buffering is being paused"),un(rO,44,"Stopping because unload"),un(rO,50,"Resetting because unknown reason"),un(rO,51,"Resetting because player was reset"),un(rO,52,"Resetting because disallowed segment was added"),un(rO,63,"Marking gap at"),un(rO,60,"Target time is"),un(rO,70,"[Selection 1] Select nothing if the target time has already been appended."),un(rO,71,"[Selection 2] Select nothing if the time-based lookup failed."),un(rO,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),un(rO,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),un(rO,74,"[Selection 4B] Notify gap if no previous segment is available."),un(rO,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),un(rO,76,"[Selection 5B] Select nothing if no next segment is available."),un(rO,77,"[Selection 6] Unreachable"),un(rO,61,"Selected segment is"),un(rO,62,"Appended segment is"),un(rO,90,"Test setup"),un(rO,91,"Test");function uO(t,n){var i=n.PB((function(n,i){return t.IB(n,i,!1,!1)}));return t.AB(i)}function sO(t,n){var i=n.jn(t.pB()).PB((function(n,i){return t.wr(i)}));return t.AB(i)}F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var oO=function(t){return t.Xht="zht",t.qht="Yht",t}({});F(),Tt(),Rt();var aO=function(t){function n(n,i,r){var e;return(e=t.call(this,"Kht")||this).Sn=n,e.Tn=i,e.jht=r,e}return It(n,t),n}(pr),cO=function(t){function n(){return t.call(this,"Qht")||this}return It(n,t),n}(ma),hO=[ya.ob,ya.ub,ya.sb,ya.Ey],fO=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Vat=n,s.Tat=i,s.nat=r,s.eat=e,s.s8=u,s.oat="mat",s.bZ=void 0,s.gat=new ih,s.Iat=new mr,s._at=new mr,s.Ge=function(t){s.dat||s.bat||(!Kn.lI&&s.eat.Wat(t.currentTime)||(s.Iat.np(),s.Iat=new mr,Er(s.Fat(s.Iat.ep),s.Iat).catch(Tr)))},s.pd=ki((function(){if(s.fat){try{if(s.eat.Uat(),s.eat.Gat())return}catch(t){if(!(t instanceof aO))throw t}s.Sn(eO.uht)}}),250),s.Sat(),s}It(n,t);var i=n.prototype;return i.aat=function(t){this.oat!==t&&(this.oat=t,this._o(new cO))},i.Sn=function(t){var n=this;return Pt((function(){var t;return Ot(this,(function(i){switch(i.label){case 0:return n.dat||n.fat?(t=n.Ay("Qht"),n.dat?(n._at.np(),n._at=new mr,Er(n.vat(n._at.ep),n._at)):(n.gat.Zb(void 0),n.gat=new ih),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.NR=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:if(!n.wat&&!n.fat)return[2];0,n._at.np(),t.label=1;case 1:return n.dat||n.bat?[3,3]:[4,n.Ay("Qht")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.nr=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.bat?(n.bZ=void 0,n.aat("mat"),[3,3]):[3,1];case 1:return[4,n.NR(t)];case 2:i.sent(),i.label=3;case 3:return n.eat.nr(),n.nat.nr(),[2]}}))}))()},i.uH=function(t){this.bZ=t,this.aat("Aat"),this._o(new xk(t))},i.Sat=function(){this.s8.bn(ya._b,this.pd),this.s8.bn([ya.ib,ya.Wy],this.Ge),this.eat.bn(hO,this.Ds),this.Tat.bn(oO.Xht,this.pd)},i.Eat=function(){this.s8.vn(ya._b,this.pd),this.s8.vn([ya.ib,ya.Wy],this.Ge),this.eat.vn(hO,this.Ds),this.Tat.vn(oO.Xht,this.pd)},i.xat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Eat(),n.Iat.np(),[4,n.NR(null!=t?t:eO.Eht)];case 1:return i.sent(),n.eat.nr(),[2]}}))}))()},i.Rat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Sat(),[4,n.Sn(null!=t?t:eO.cht)];case 1:return i.sent(),[2]}}))}))()},i.Cat=function(t,n,i){var r,e=function(t,e){var u=e[t];u.Dat<=i&&n<=u.Nat&&r.Tat.Mat.some((function(t){return t.o===u.Lat}))&&r.nat.Bat(u)};if(this.dat)for(var u=0,s=t.nat.Pat();u<s.length;u++)r=this,e(u,s)},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.Eat(),t.Iat.np(),[4,t.NR(eO.xht)];case 1:return n.sent(),t.eat.yn(),[2]}}))}))()},i.vat=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),kr(t),n.aat("yat"),[4,n.eat.Oat(t)];case 2:return e.sent(),kr(t),n.aat("pat"),[4,Sr(n.gat.Xb,t)];case 3:return e.sent(),[3,5];case 4:return br(i=e.sent())?n.aat("mat"):(r=i instanceof ld?i:new ld(vd.MEDIA_LOAD_ERROR,i.message,i),n.uH(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i.Fat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return kr(t),[4,n.NR(eO.kht)];case 1:return i.sent(),n.eat.nr(),kr(t),[4,n.Sn(eO.aht)];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"Jht",get:function(){var t,n;return(null==(t=this.eat.$ht)?void 0:t.jht)||(null==(n=this.eat.iat)?void 0:n.jht)}},{key:"sat",get:function(){return this.nat}},{key:"rat",get:function(){return this.eat.rat},set:function(t){this.eat.rat=t}},{key:"Jk",get:function(){return this.oat}},{key:"uat",get:function(){return this.nat.Ht.uat}},{key:"lt",get:function(){return this.bZ}},{key:"dat",get:function(){return"mat"===this.oat}},{key:"fat",get:function(){return"pat"===this.oat}},{key:"wat",get:function(){return"yat"===this.oat}},{key:"bat",get:function(){return"Aat"===this.oat}}]),n}(la);F(),Tt(),Mt(),Wt(),F(),Tt();var vO=function(){function t(t,n){this.WW=t,this.jat=n}var n=t.prototype;return n.Zat=function(t,n){return this.Hat(t,!1,n)},n.Xat=function(t,n){return this.Hat(t,!0,n)},n.Hat=function(n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return kr(r.ep),[4,e.zat(n,i,r)];case 1:return(u=s.sent()).Zk?[2,t.qat(u)]:[2,e.Yat(u)]}}))}))()},n.Yat=function(t){return t},n.zat=function(t,n,i){var r,e=new Tl({Xu:t.Xu,tE:Fd.Ek,iE:t.Kat?{Range:"bytes="+t.Kat[0]+"-"+(null!=(r=t.Kat[1])?r:"")}:void 0,DE:t.DE,EE:pl.GET,zw:_l.aE,CE:n?bl.lE:bl.oE,PE:this.jat,xE:i.Qat,RE:i.RE,ep:i.ep,BE:i.BE});return this.WW.eE(e)},t.qat=function(t){return t},t}();F(),Tt(),Dt(),F(),Tt();var dO=function(){function t(t){this.zit=0,this.tut=0,this.$at=k.exp(k.log(.5)/t)}var n=t.prototype;return n.Jat=function(t,n){var i=k.pow(this.$at,t),r=n*(1-i)+i*this.zit;S(r)||(this.zit=r,this.tut+=t)},n.eut=function(){var t=1-k.pow(this.$at,this.tut);return this.zit/t},t}(),lO=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.iut=0,this.out=Lk,this.sut=new dO(t),this.nut=new dO(n),this.hut=i}var n=t.prototype;return n.Jat=function(t,n){var i=8e3*n/t,r=t/1e3;this.iut+=n,this.sut.Jat(r,i),this.nut.Jat(r,i)},n.eut=function(){return this.rut()?k.min(this.sut.eut(),this.nut.eut()):this.out},n.rut=function(){return this.iut>=this.hut},t}(),gO=function(){function t(t,n){this.fut=n,n&&cw(t)?t===aw.yE?(this.wut=5e3,this.uut=new lO(.05,1,0)):(this.wut=0,this.uut=new lO(.005,.1,0)):(this.wut=16e3,this.uut=new lO)}return t.prototype.cut=function(t){var n=t.lut,i=this.fut?t._ut-t.vut:t._ut-t.gut,r=t.mut;!r&&n<this.wut||(r?this.uut.Jat(2*i,n):this.uut.Jat(i,n))},Nt(t,[{key:"aut",get:function(){return this.uut.eut()}},{key:"rut",get:function(){return this.uut.rut()}}]),t}();F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt(),nn(),F(),Tt();var wO=function(){function t(t){this.Jd=t}var n=t.prototype;return n.transform=function(t,n){this.Jd.write(t).catch(_i),n.enqueue(t)},n.flush=function(){this.Jd.close().catch(_i)},t}(),mO=function(){function t(t,n,i){this.eht=t,this.but=n,this.Aut=i}return t.prototype.yut=function(){return new yO(Jd(this.eht),this.but,this.Aut)},t}(),yO=function(){function t(t,n,i){this.Sut=t,this.but=n,this.Aut=i}var n=t.prototype;return n.Bk=function(t){return Qd(this.Sut,t)},n.Nb=function(){var n=tn(tl(this.Sut),2),i=n[0],r=n[1];return this.Sut=i,new t(r,this.but,this.Aut)},n.Tut=function(){var n=tn(function(t){var n=new jd,i=n.writable.getWriter(),r=new jd(new wO(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(_i)})),[r.readable,n.readable]}(this.Sut),2),i=n[0],r=n[1];return this.Sut=i,new t(r,this.but,this.Aut)},n.kut=function(t){var n=this;return this.Bk(t).then((function(t){return new mO(t,n.but,n.Aut)}))},Nt(t,[{key:"Ok",get:function(){return this.Sut}}]),t}();F(),Tt(),Rt();var pO=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Eut=n,e}return It(n,t),n}(pr),_O="Cache lookup failed.",bO=function(t){function n(n){var i;return(i=t.call(this)||this).Rut=n,i}It(n,t);var i=n.prototype;return i.xut=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(n),[4,i.Rut.Iut(t.Xu.Xu,t.Xu.Kat)];case 1:if(r=u.sent(),kr(n),!r)throw new pO(t,_O);return e=new mO(r.buffer,r.byteLength,r.reference),[2,{Eut:t.Eut,Cut:{zw:nC.NJ,$k:e},jht:t.jht,Xu:t.Xu}]}}))}))()},i.Put=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(n),[4,i.Rut.Iut(t.Xu,t.Kat)];case 1:if(r=u.sent(),kr(n),!r)throw new pO(t,_O);return e=new mO(r.buffer,r.byteLength,r.reference),[2,{zw:nC.NJ,$k:e}]}}))}))()},i.yn=function(){this.Ro()},n}(la);F(),Tt(),Mt(),Rt(),Wt();var kO=["hb","fb"],AO=function(t){function n(n){var i;(i=t.call(this)||this).Dut=n;for(var r=0,e=i.Dut;r<e.length;r++){e[r].bn(kO,i.Ds)}return i}It(n,t);var i=n.prototype;return i.xut=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:e=0,u=i.Dut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.xut(t,n)];case 3:return[2,a.sent()];case 4:return Ar(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Put=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:e=0,u=i.Dut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Put(t,n)];case 3:return[2,a.sent()];case 4:return Ar(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.yn=function(){for(var t=0,n=this.Dut;t<n.length;t++){var i=n[t];i.vn(kO,this.Ds),i.yn()}},n}(la);function TO(t){return ei(t.Nut)}function SO(t){return TO(t)?t.Nut:t.Mut}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Rt();var EO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Lut=i,o.jz=r,o.kL=e,o.VN=u,o.PE=s,o}return It(n,t),n}(ma),IO=function(t){function n(n,i,r,e,u){return t.call(this,ya.ob,n,i,r,e,u)||this}return It(n,t),n}(EO);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var RO=function(t,n){this.But=t,this.Out=n},CO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fut=0,n}It(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.Fut+=t.byteLength,n.enqueue(t)},i.flush=function(){this.Vut(!1)},i.np=function(){this.Vut(!0)},i.Vut=function(t){this.But(this.Out,Kn.Wm(),this.lut,t)},Nt(n,[{key:"lut",get:function(){return this.Fut}}]),n}(RO),NO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fut=0,n.Wut=!1,n}It(n,t);var i=n.prototype;return i.start=function(){this.Out=Kn.Wm()},i.transform=function(t,n){this.Fut+=t.byteLength,this.Wut||this.Uut(t)&&this.Vut(!1),n.enqueue(t)},i.flush=function(){},i.np=function(){this.Vut(!0)},i.Uut=function(t){var n=this.Gut(t),i=this.Zut(n);return Boolean(Hi(i,DO))},i.Gut=function(t){return this.Hut&&void 0!==this.Xut?(this.Hut=jc([this.Hut,t]),new yy(Pc(this.Hut),new Uc(this.Xut))):(this.Hut=t,new yy(Pc(t),new Uc))},i.Zut=function(t){var n=ky.jD(t.$k,t.BD,!0);return n.QD?(this.Hut=void 0,this.Xut=void 0):this.Xut=t.BD.nc,n.m},i.Vut=function(t){this.Wut||(this.But(this.Out,Kn.Wm(),this.lut,t),this.Wut=!0)},Nt(n,[{key:"lut",get:function(){return this.Fut}}]),n}(RO);function DO(t){return t.zw===ly.TD}var xO=function(){function t(t){var n=this;this.Jut=t,this.Kut=new ih,this.cut=function(t,i,r,e){var u={gut:n.qut,vut:t,_ut:i,lut:r,mut:e};n.Jut.cut(u),n.Jut.rut&&Mk.Vm.BG(n.Jut.aut)},this.Kut.Xb.catch(_i),this.qut=Kn.Wm()}var n=t.prototype;return n.zut=function(t){var n=t.nE?this.qut:Kn.Wm(),i=this.Yut(n),r=new jd(i),e=t.Ok().pipeTo(r.writable).then((function(){return{XI:{lut:i.lut}}}),(function(t){throw i.np(),t}));return this.Kut.rp(e),r.readable},n.jut=function(t){var n=this,i=t.nE?this.qut:Kn.Wm(),r=t.Bk(),e=r.then((function(t){var r=Kn.Wm();return n.cut(i,r,t.byteLength,!1),{XI:{lut:t.byteLength}}}),(function(t){var r=Kn.Wm();throw n.cut(i,r,0,!0),t}));return this.Kut.rp(e),r},Nt(t,[{key:"Qut",get:function(){return this.Kut.Xb}}]),t}(),PO=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Yut=function(t){return new CO(this.cut,t)},n}(xO),LO=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Yut=function(t){return new NO(this.cut,t)},n}(xO);F(),Tt(),Rt();var MO=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,ya.ub,n,i,r,e,u)||this).$ut=s,a.HO=o,a}return It(n,t),n}(EO);F(),Tt(),Rt();var OO=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+SO(i),n)||this).tct=i.lF,e.ect=i.dF,e.ict=r,e}return It(n,t),n}(pr),BO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).rct=n,e.Jut=i,e.fut=r,e}It(n,t);var i=n.prototype;return i.sct=function(){return this.fut?new LO(this.Jut):new PO(this.Jut)},i.xut=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v;return Ot(this,(function(d){switch(d.label){case 0:kr(n),r=t.jht,e=t.Xu,u=t.Eut,s=SO(u),o=r.jht?r.jht.OC:-1,a=function(t){var n,i=t.jht;n=i===function(t){return t.Mat.reduce((function(t,n){return t.jG<n.jG?t:n}))}(i.nct)?Te(5*t.Eut.ct):Te(1.2*t.Eut.ct);return Di(n,1e3,18e3)}(t),i._o(new IO(e,r.jG,s,o,r.zw)),d.label=1;case 1:return d.trys.push([1,4,,5]),c=i.sct(),[4,i.rct.Zat(e,{BE:i.fut,Qat:a,ep:n})];case 2:return h=d.sent(),[4,i.hct(h,h.Zk,n,c)];case 3:return f=d.sent(),xr(i.act(c.Qut,r,e,s,o,h)),[2,{Cut:f,jht:r,Eut:u,Xu:e}];case 4:throw Ar(v=d.sent()),new OO(v,u,r);case 5:return[2]}}))}))()},i.Put=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(n),r=!1,[4,i.rct.Xat(t,{BE:r,Qat:1e4,ep:n})];case 1:return e=u.sent(),[4,i.hct(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.hct=function(t,n,i,r){return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return n?(e=r?r.zut(t):t.Ok(),[2,{zw:nC.Ik,$k:new yO(e)}]):[3,1];case 1:return r?[4,r.jut(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.Bk(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{zw:nC.NJ,$k:new mO(u)}];case 6:return[2]}}))}))()},i.act=function(t,n,i,r,e,u){var s=this;return Pt((function(){var o;return Ot(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s._o(new MO(i,n.jG,r,e,n.zw,u.Jk,o.XI.lut)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.yn=function(){this.Ro()},n}(la);F(),Tt(),Dt();var VO=.001,FO=function(){function t(t,n,i,r){this.uct=t,this.s8=n,this.w4=i,this.XH=r}return Nt(t,[{key:"SI",get:function(){return this.uct.SI}},{key:"cct",get:function(){return this.uct.cct}},{key:"v$",get:function(){return this.uct.v$}},{key:"lct",get:function(){if(this.w4.aR<Pp.Xn)return!1;if(this.uct.Tn<=this.dct&&this.uct.fct())return!0;var t=this.uct.pZ;if(!t||0===t.V)return!1;var n=FA.VB(this.s8.RI,1/0);return t.jn(n).TB(this.uct.v$).OB>=this.XH.uQ}},{key:"dct",get:function(){var t,n=this.uct.pZ;if(n&&n.V>0)t=n.Tn(0);else{t=this.s8.RI;var i=this.uct.v$,r=i.kB(t);r>=0&&(t=i.Tn(r))}var e=this.uct.cR.Sn(0);if(e>t){if(this.uct.Sn<=t&&this.uct.Tn>=t&&e>t+VO)throw new aO(t,e);t=e}return t=this.uct._ct.mB(t)}}]),t}();F(),Tt(),Dt();var UO=function(){function t(){this.P_=ho(),this.gct=FA.WB()}var n=t.prototype;return n.mct=function(t){return this.P_.get(t.o)},n.pct=function(){var t=this.gct;return this.P_.forEach((function(n){t=t.AB(n)})),t},n.wct=function(t){if(this.gct.wr(t))return!0;var n=!1;return this.P_.forEach((function(i){n=n||i.wr(t)})),n},n.yct=function(t,n){var i=this.P_.get(n.o);return!!i&&i.wr(t)},n.EB=function(t,n){if(this.gct.EB(t,n))return!0;var i=!1;return this.P_.forEach((function(r){i=i||r.EB(t,n)})),i},n.bct=function(t,n){var i=this.P_.get(n),r=i?i.AB(t):t;this.P_.set(n,r),this.gct=this.gct.AB(t)},n.Act=function(t){var n=this;this.P_.forEach((function(i,r){n.P_.set(r,i.AB(t))})),this.gct=this.gct.AB(t)},n.Sct=function(t){var n=this;this.P_.forEach((function(i,r){n.P_.set(r,i.jn(t))})),this.gct=this.gct.jn(t)},n.nr=function(){var t=this;this.P_.forEach((function(n,i){t.P_.set(i,FA.WB())})),this.gct=FA.WB()},Nt(t,[{key:"vct",get:function(){if(0===this.P_.size)return this.gct;var t=FA.VB(0,1/0);return t=t.jn(this.gct),this.P_.forEach((function(n){t=t.jn(n)})),t}}]),t}(),WO=function(){function t(t){this.xct=[],this.Ht=t,this.kct=new UO,this.g$=new UO}var n=t.prototype;return n.Ect=function(t){for(var n=0,i=this.xct;n<i.length;n++){var r=i[n];if(r.Dat>t)break;if(r.Nat>t)return r}},n.Ict=function(t){for(var n=0,i=this.xct;n<i.length;n++){var r=i[n];if(r.Rct>t)break;if(r.Cct>=t)return r}},n.Pct=function(t,n){for(var i=[],r=0,e=this.xct;r<e.length;r++){var u=e[r];if(u.Dat>t)break;u.Nat>=n&&i.push(u)}return i},n.Pat=function(){return this.xct},n.Bat=function(t){var n=FA.VB(t.Rct,t.Cct),i=n.pB();this.kct.Sct(i),this.kct.bct(n,t.Lat),this.Dct(i);var r=ji(this.xct,(function(n){return t.Dat<=n.Dat}));r<0?this.xct.push(t):this.xct[r].Nat<=t.Nat?this.xct.splice(r,1,t):this.xct.splice(r,0,t)},n.m$=function(t,n){this.g$.bct(t,n)},n.Nct=function(t){this.g$.Act(t)},n.Sct=function(t){this.kct.Sct(t),this.g$.Sct(t);var n=this.kct.pct();this.Dct(n)},n.Dct=function(t){this.xct=this.xct.filter((function(n){return t.IB(n.Rct,n.Cct)})).map((function(n){return n.Mct&&!t.EB(n.Rct,n.Cct)?function(t,n){return{Lat:t.Lat,Dat:t.Dat,Nat:t.Nat,Rct:t.Rct,Cct:t.Cct,Mct:n}}(n,!1):n}))},n.nr=function(){this.kct.nr(),this.g$.nr(),this.xct=[]},n.yn=function(){this.nr()},Nt(t,[{key:"Tct",get:function(){return this.kct}},{key:"v$",get:function(){return this.g$}}]),t}();F(),Tt(),F(),Tt(),Mt(),Dt(),Wt();var ZO=function(){function t(t,n,i){this.Vat=t,this.nat=n,this.Kp=i}var n=t.prototype;return n.Bct=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:return kr(i),u=r.nat.Ict(t),e=u&&xi(u.Cct,t,1e-5)?u.Nat:t,s=r.Oct(e),o=function(t){return XO.bind(void 0,t)}(e),[4,r.Kp.Fct(o,s,n,i)];case 1:a=v.sent(),kr(i),v.label=2;case 2:return a&&r.Vct(a.Eut)?(c=KO(a.Eut),h=a.jht,[4,r.Kp.Fct(c,[h],n,i)]):[3,4];case 3:return a=v.sent(),kr(i),[3,2];case 4:return a?r.Wct(a.Eut)?(f=r.Uct(a.Eut),t<f.Sn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,v.sent()];case 6:return t>=f.Tn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,v.sent()];case 8:if(a.jht.Gct(a.Eut))return[2,void 0];throw new p("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=KO(e.Eut),s=t.jht,[4,r.Kp.Fct(u,[s],n,i)];case 2:e=o.sent(),kr(i),o.label=3;case 3:if(e&&r.Wct(e.Eut))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return HO.bind(void 0,t)}(u.Eut),o=t.jht,[4,e.Kp.Fct(s,[o],n,i)];case 2:u=c.sent(),kr(i),c.label=3;case 3:if(u&&e.Wct(u.Eut))return[3,1];c.label=4;case 4:if(!u)throw a=t.jht.Zct.Sn,new aO(a,r.Sn,t.jht);return[2,u]}}))}))()},n.Hct=function(t){return this.nat.Tct.wct(t)},n.Xct=function(t){return this.nat.Pct(t.lF,t.dF)},n.Wct=function(t){var n=this.Xct(t);return n.length>0&&function(t,n){return function(t){for(var n=FA.WB(),i=0;i<t.length;i++){var r=t[i];n=n.AB(FA.VB(r.Dat,r.Nat))}return n}(t).EB(n.lF,n.dF)}(n,t)&&n.every(qO)},n.Vct=function(t){return this.nat.v$.EB(t.lF,t.dF)},n.Uct=function(t){var n=this.Xct(t);return{Sn:n[0].Rct,Tn:n[n.length-1].Cct}},n.Oct=function(t){var n=this.zct(t);if(0===n.length){var i=this.Lct?this.Lct:this.nat.Ht.Mat;return[i[i.length-1]]}var r=n.filter((function(t){var n;return(null==(n=t.jht)?void 0:n.Lst)&&!t.qct}));return r.length>0?r:[n[n.length-1]]},n.zct=function(t){var n=this;return(this.Lct?this.Lct:this.nat.Ht.Mat).filter((function(i){return!n.nat.v$.yct(t,i)}))},Nt(t,[{key:"rat",get:function(){return this.Lct},set:function(t){this.Lct=t}},{key:"uat",get:function(){return this.nat.Ht.uat}}]),t}();function XO(t,n,i,r){return GO.apply(this,arguments)}function GO(){return GO=Pt((function(t,n,i,r){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return e=n.Eot,(u=e.Yct(t))?n.Kct(u)?[4,n.Qct(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().jct(t)];case 2:return[2,u]}}))})),GO.apply(this,arguments)}function HO(t,n,i,r){return zO.apply(this,arguments)}function zO(){return zO=Pt((function(t,n,i,r){var e;return Ot(this,(function(u){switch(u.label){case 0:return TO(t)?0===t.Nut?[2,void 0]:(e=n.Eot.Jct(t))?[4,n.Qct(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().$ct(t.Nut-1)];case 2:return[2,n.Eot.tlt(t)];case 3:return[2]}}))})),zO.apply(this,arguments)}function YO(t,n,i,r){return jO.apply(this,arguments)}function jO(){return jO=Pt((function(t,n,i,r){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return TO(t)?(e=n.Eot.Jct(t))?[4,n.Qct(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.Nut+1===u.V?[2,void 0]:[2,u.$ct(t.Nut+1)];case 2:return[2,n.Eot.elt(t)];case 3:return[2]}}))})),jO.apply(this,arguments)}function KO(t){return YO.bind(void 0,t)}function qO(t){return t.Mct}F(),Tt(),Mt(),Wt();var JO=function(){function t(t,n,i,r){this.olt=t,this.uct=n,this.XH=i,this.slt=r,this.hlt=!1}var n=t.prototype;return n.Fct=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return kr(r),(u=e.ilt(n,i))?[4,t(u,e.slt,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.nlt(s),[2,{jht:u,Eut:s,Xu:o}]):[2,void 0]}}))}))()},n.ilt=function(t,n){if(0!==t.length){var i=this.olt.rlt(t,this.hlt?n:void 0,this.uct,this.XH.oQ);return this.hlt||(this.hlt=!0),i}},t}();F(),Tt(),Mt(),Wt();var QO=function(){function t(t,n,i,r){this.olt=t,this.uct=n,this.Rut=i,this.slt=r}return t.prototype.Fct=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:if(kr(r),!(u=e.olt.ult(n,i,e.uct)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),kr(r),[4,t(a,e.slt,r)];case 3:return(c=v.sent())?(h=a.nlt(c),[4,e.Rut.clt(h.Xu,h.Kat)]):[3,5];case 4:if(v.sent())return[2,{Eut:c,jht:a,Xu:h}];v.label=5;case 5:return[3,7];case 6:return Ar(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function $O(t){return void 0!==t.tR}function tB(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function nB(t,n){return tB(t,n)||function(t,n){return t.jG-n.jG}(t,n)}F(),Tt(),qt(),at(),F(),Tt();var iB=function(){function t(t,n,i,r,e,u){this.g_=t,this.flt=n,this.Iw=i,this.plt=r,this.llt=e,this.wlt=u}var n=t.prototype;return n.rlt=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.llt&&void 0===i&&n.length>1){var s=t.dlt(u,this.llt);s&&(u=s)}var o=this.ult(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.ult=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={aut:void 0===e||this.flt.rut?this.flt.aut:e,tR:$O(r)&&r.tR?r.tR:1,_lt:r.ji,vlt:r.Ti,glt:null==(u=this.plt)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.g_;c<h.length;c++){a=(0,h[c])(a,i,o,this.Iw,this.wlt)}return a},t.ylt=function(n){return t.sortByQuality(n)[0]},t.blt=function(n,i){var r;return i?t.ylt(null!=(r=t.dlt(n,i))?r:n):t.ylt(n)},t.dlt=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return vN(t.Op,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}},t.sortByQuality=function(t){var n=Kt(t);return n.sort(nB),n},t}();F(),Tt();var rB=function(t,n,i,r,e){return t.filter((function(t){return e.ZJ(t)&&r.Np(n,t)}))};F(),Tt();var eB=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.aut;if(r<=0)return!1;return.8*r>t.jG*i.tR}(t,0,i)}))};F(),Tt();var uB=function(t,n,i,r,e){var u=i.glt;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].zw!==aw.yE)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.vlt&&o.ji===i._lt)return t.slice(0,s+1);if(o.Ti<i.vlt||o.ji<i._lt)return t.slice(0,s+2)}return[]};F(),Tt(),Mt(),Wt();var sB=function(){function t(t){this.Alt=t}return t.prototype.Fct=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:s=0,o=e.Alt,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.Fct(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();F(),Tt(),F(),Tt(),Mt(),Wt();var oB=function(){function t(t){this.Tlt=t}return t.prototype.Slt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:s=0,o=e.Tlt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.Slt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Ar(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();F(),Tt(),Mt(),Wt();var aB=function(){function t(t){this.WW=t}return t.prototype.Slt=function(t,n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,e.WW.eE({Xu:t,tE:Fd.Ek,iE:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,DE:i,EE:pl.GET,zw:_l.oE,ep:r})];case 1:return[4,s.sent().Bk()];case 2:return[2,s.sent()]}}))}))()},t}();F(),Tt(),Mt(),Wt();var cB=function(){function t(t){this.Rut=t}return t.prototype.Slt=function(t,n,i,r){var e=this;return Pt((function(){var i,r;return Ot(this,(function(u){switch(u.label){case 0:return[4,e.Rut.Iut(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.Rut.Iut(t)]:[3,3];case 2:if(r=u.sent())return[2,Bc(new E(r.buffer),n[0],n[1])];u.label=3;case 3:throw new pO({Xu:t,Kat:n,DE:!1})}}))}))()},t}();F(),Tt();var hB=1.05,fB=function(t,n,i,r){if(!1===i.glt)return t;if(r.gp)return t;for(var e,u,s=r.mp,o=(null!=(e=null==s?void 0:s.width)?e:i._lt)*hB,a=(null!=(u=null==s?void 0:s.height)?u:i.vlt)*hB,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},vB=function(){function t(){}return t.ist=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new oB([new cB(n),new aB(t)])}(u,s),f=new iB([rB],e,Kn.Ys,o,a,c),v=new QO(f,n,s,h),d=new iB([eB,rB,uB,fB],e,Kn.Ys,o,a,c),l=new JO(d,n,r,h),g=new sB([v,l]);return new ZO(t,i,g)},t}();F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var dB=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,ya.sb)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return It(n,t),n}(ma);F(),Tt(),Rt();var lB=function(t){function n(n,i){var r;return(r=t.call(this,ya.Ey)||this).track=n,r.segments=i,r}return It(n,t),n}(ma),gB=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).klt=n,r}return It(n,t),n}(pr),wB=[ya.ob,ya.ub],mB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).Vat=n,h.nat=i,h.Clt=r,h.Ilt=e,h.rdt=u,h.zlt=s,h.wlt=o,h.Wlt=a,h.MZ=c,h.Elt=void 0,h.v3=void 0,h.xlt=void 0,h.Ylt=void 0,h.Olt=0,h.Flt=0,h.Ult=FA.WB(),h.rdt.bn(wB,h.Ds),h}It(n,t);var i=n.prototype;return i.Rlt=function(t){return!this.v3||!t||!Hc(this.v3.eht,t.eht)},i.Wat=function(t){if(!this.Elt)return!1;var n=this.Elt.Eut,i=FA.VB(n.lF,n.dF),r=this.Clt.cct,e=r.kB(t);return e<0?i.wr(t,VO):i.IB(t,r.Tn(e),!0,!0,VO)},i.Oat=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:i=n.nat.Ht.Mat,g.label=1;case 1:0,r=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),kr(t),n.Uat(),n.Gat()?[3,18]:(r=n.Plt(),[4,n.Fct(r,t)]);case 3:return void 0===(u=g.sent())?[3,18]:(n.Elt=u,function(t){var n=t.jht,i=n.Eot,r=TO(t.Eut)?i.Jct(t.Eut):t.Eut;return i.cdt(r,n.tdt.$lt())}(n.Elt)?[3,5]:[4,n.Dlt(n.Elt,t)]);case 4:return g.sent(),[3,1];case 5:return!n.xlt||oN(n.xlt.jht.Frt,n.Elt.jht.Frt)?[3,7]:[4,n.wlt.XJ(n.Elt.jht)];case 6:g.sent(),g.label=7;case 7:return!n.Elt.jht.$G||n.iat&&(null==(e=n.xlt)?void 0:e.jht)===n.Elt.jht||null==(s=n.MZ)||s.oZ(n.Elt.jht.$G),[4,n.Nlt(r,n.Elt.Eut,t)];case 8:return g.sent(),[4,n.Mlt(n.Elt.jht,t)];case 9:return n.v3=g.sent(),[4,n.xut(n.Elt,t)];case 10:return o=g.sent(),a=n.Clt.SI,c=n.xlt,[4,n.Llt(o,t)];case 11:return n.xlt=g.sent(),h=n.Clt.SI,n.Blt(c,n.Elt,a,h,r),i.forEach((function(t){return t.qct=!1})),n.Olt=0,n.Flt=0,[3,17];case 12:return(f=g.sent())instanceof aO?(n.i4(f.Sn,f.Tn,f.jht),[3,1]):[3,13];case 13:if(!(f instanceof gB))return[3,15];if(v=500,i.every((function(t){return t.qct}))){if(2===n.Olt){if(d=n.Clt.SI,n.Vlt(n.Elt),n.Blt(n.xlt,n.Elt,d,d,r),i.forEach((function(t){return t.qct=!1})),n.Flt+=1,n.Olt=0,n.Flt===n.Wlt.maxRetries)throw new ld(vd.MEDIA_LOAD_ERROR,"The segments could not be loaded.",f);return[3,1]}n.Olt++,l=n.Wlt.minimumBackoff*k.pow(2,n.Olt-1),v=k.min(l,n.Wlt.maximumBackoff)}return[4,Mr(v,t)];case 14:return g.sent(),[3,1];case 15:throw n.Ult=FA.WB(),f;case 16:return n.Elt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.Blt=function(t,n,i,r,e){var u=r.TB(i),s=n.jht,o=s.Glt(n.Eut),a=s.Gct(n.Eut),c=n.Eut.lF,h=n.Eut.dF;o&&(c=k.min(c,k.max(0,s.Zct.Sn-.05))),a&&(h=k.max(h,s.Zct.Tn));var f=FA.VB(c,h).TB(r);if(0!==u.V){if(o||this.Ult.V>0){var v=f.jn(FA.VB(c,u.Sn(0)));this.Hlt(v)}var d=u.pB().jn(FA.VB(u.Sn(0),u.Tn(u.V-1)));if(this.Hlt(d),a){var l=f.jn(FA.VB(u.Tn(u.V-1),h));this.Hlt(l)}if(this.Ult.V>0){var g=this.Ult.TB(u);this.Hlt(g),this.Ult=FA.WB()}var w,m=s.Eot,y=TO(n.Eut)?void 0:m.tlt(n.Eut),p=null!=(w=null==t?void 0:t.Eut)?w:this.Xlt(y)?y:void 0;if(p){var _=this.nat.Pct(p.lF,p.dF);if(_.length>0){var b=FA.VB(_[_.length-1].Cct,u.Sn(0));this.Hlt(b)}}var A=TO(n.Eut)?void 0:m.elt(n.Eut);if(A&&this.Xlt(A)){var T=this.nat.Pct(A.lF,A.dF);if(T.length>0){var S=FA.VB(u.Tn(u.V-1),T[0].Rct);this.Hlt(S)}}}else this.Zlt(i,f,c,e)},i.Zlt=function(t,n,i,r){var e=n;0===this.Ult.V&&(this.Ult=FA.VB(t.Tn(t.V-1),i)),0===e.V&&void 0!==r&&(e=FA.FB(r)),this.Ult=this.Ult.AB(e),this.nat.Nct(this.Ult)},i.Xlt=function(t){return!!t&&this.nat.Pct(t.lF,t.dF).length>0},i.Hlt=function(t){for(var n=t.TB(this.Clt.SI),i=0;i<n.V;i++)n.Sn(i)!==n.Tn(i)&&this.zlt.m$(n.Sn(i),n.Tn(i))},i.qlt=function(t,n){throw new gB(t,n)},i.Uat=function(){if(!(this.Ult.V>0)){var t,n=this.Clt.cct.AB(null!=(t=this.Clt.v$.gB().BB(this.Clt.dct))?t:FA.WB());this.nat.Sct(n),this.Ylt&&!this.Klt(this.Ylt)&&(this.Ylt=void 0),this._o(new lB(this.nat.Ht.uat,this.nat.Pat()))}},i.Gat=function(){return this.xlt&&this.xlt.jht.Gct(this.xlt.Eut)?(this.zlt.Y3(),!0):(this.Ylt&&this.Ylt.jht.Gct(this.Ylt.Eut)&&this.Klt(this.Ylt)&&this.zlt.Y3(),!!this.Clt.lct)},i.Klt=function(t){return this.nat.Tct.EB(t.jlt,t.Qlt)},i.Jlt=function(t,n,i){(!this.Ylt||this.Ylt.Eut.dF<t.Eut.dF)&&(this.Ylt=ao({},t,{jlt:n,Qlt:i}))},i.Plt=function(){var t=this.Clt.dct;return t},i.Fct=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(n),r=i.xlt?i.xlt.jht:void 0,[4,i.Ilt.Bct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.Dlt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:r={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,3,4,5]),e=t.jht,u=e.Eot,s=TO(t.Eut)?u.Jct(t.Eut):t.Eut,o=e.tdt.$lt(),(a=u.edt(s))&&a.getTime()<=o.getTime()?[2,i.qlt(eO._ht,"Segment is not available.")]:(c=u.idt(s).getTime()-o.getTime(),h=Vt(r,mr.hp([n]),!1),[4,et.race([Mr(c,h.ep),e.Ay(oO.Xht,h.ep)])]);case 2:return v.sent(),[3,5];case 3:return f=v.sent(),r.error=f,r.hasError=!0,[3,5];case 4:return Ft(r),[7];case 5:return[2]}}))}))()},i.Mlt=function(t,n,i){void 0===i&&(i=0);var r=this;return Pt((function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:if(kr(n),!(e=t.sdt))return[2,r.v3];a.label=1;case 1:return a.trys.push([1,4,,7]),t.ndt?[3,3]:[4,r.rdt.Put(e,n)];case 2:u=a.sent(),t.ndt=u.$k,a.label=3;case 3:return[3,7];case 4:return Ar(s=a.sent()),ql(s)?2===i?(t.qct=!0,[2,r.qlt(eO.Aht,"Could not fetch the initializer.")]):[4,Mr(k.min(r.Wlt.minimumBackoff*k.pow(2,i),r.Wlt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.Mlt(t,n,i+1)];case 6:throw new ld(vd.MEDIA_LOAD_ERROR,s.message,s);case 7:kr(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.Rlt(t.ndt)?[4,r.zlt.Tot(t.ndt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(Ar(o=a.sent()),ql(o))return[2,r.qlt(eO.Aht,"Could not append the initializer.")];throw new ld(vd.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.ndt]}}))}))()},i.xut=function(t,n,i){void 0===i&&(i=0);var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),kr(n),[4,r.rdt.xut(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Ar(e=u.sent()),e instanceof OO?function(t){return t instanceof Vl}(e.cause)?(r.odt(new OO(e,t.Eut,t.jht),i),[2,r.qlt(eO._ht,"Could not append the segment.")]):2===i?(t.jht.qct=!0,r.odt(e,i),[2,r.qlt(eO._ht,"Could not fetch the segment.")]):[4,Mr(k.min(r.Wlt.minimumBackoff*k.pow(2,i),r.Wlt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.xut(t,n,i+1)];case 5:throw new ld(vd.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.Nlt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d;return Ot(this,(function(l){switch(l.label){case 0:for(e=r.nat.Pct(n.lF,n.dF),u=r.Clt.cct.BB(t),s=FA.WB(),o=0;o<e.length;o++)a=e[o],kr(i),c=a.Rct,h=a.Cct,(f=u&&u.IB(c,h)?k.max(c,u.Tn(0)):c)<(v=h)&&(s=s.AB(FA.VB(f,v)));d=0,l.label=1;case 1:return d<s.V?[4,r.zlt.hdt(s.Sn(d),s.Tn(d),i)]:[3,4];case 2:l.sent(),l.label=3;case 3:return d++,[3,1];case 4:return r.Uat(),[2]}}))}))()},i.Llt=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),kr(n),[4,i.zlt.adt(t.Cut,t.Eut,t.jht,n)];case 1:return r=u.sent(),i.udt(t,r.jlt,r.Qlt),i.Jlt(t,r.jlt,r.Qlt),[2,t];case 2:if(Ar(e=u.sent()),ql(e))return i.odt(new OO(e,t.Eut,t.jht),0),[2,i.qlt(eO._ht,"Could not append the segment.")];if(lR(e)&&i.zlt._Q())return[2,i.qlt(eO.ght,"Buffer is full. Could not reduce the buffer.")];throw new ld(vd.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.udt=function(t,n,i){var r=t.jht,e=t.Eut;this.Bat(e,r,n,i)},i.Bat=function(t,n,i,r){this.nat.Bat({Lat:n.o,Dat:t.lF,Nat:t.dF,Rct:i,Cct:r,Mct:!0}),this.zlt.p$(i,r)},i.i4=function(t,n,i){var r=FA.VB(t,n);i?this.nat.m$(r,i.o):this.nat.Nct(r),this.zlt.m$(t,n)},i.Vlt=function(t){var n=FA.VB(t.Eut.lF,t.Eut.dF);t.jht?this.nat.m$(n,t.jht.o):this.nat.Nct(n)},i.odt=function(t,n){var i=t.tct,r=this.nat.Ht.uat,e=this.nat.Ht.wa,u=t.ict.jht&&t.ict.jht.wa,s=new dB(i,t.message,r,e,u,n);this._o(s)},i.nr=function(){this.v3=void 0,this.xlt=void 0},i.yn=function(){this.nr(),this.Ylt=void 0,this.rdt.vn(wB,this.Ds),this.rdt.yn()},Nt(n,[{key:"$ht",get:function(){return this.Elt}},{key:"iat",get:function(){return this.xlt}},{key:"rat",get:function(){return this.Ilt.rat},set:function(t){this.Ilt.rat=t}},{key:"uat",get:function(){return this.nat.Ht.uat}}]),n}(la);var yB=0,pB=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f){this.uct=t,this.s8=n,this.w4=i,this.WW=r,this.XH=e,this.ldt=u,this.Rut=s,this.plt=o,this.llt=a,this.wlt=c,this.Wlt=h,this.MZ=f}var n=t.prototype;return n.ist=function(t){var n=yB++,i=this.uct.j3,r=new WO(t),e=this.ldt&&cw(i),u=new gO(i,e),s=new FO(this.uct,this.s8,this.w4,this.XH),o=vB.ist(n,this.uct,r,this.XH,u,this.WW,this.Rut,this.plt,this.llt,this.wlt),a=function(t){switch(t){case aw.wE:return kl.wE;case aw.yE:return kl.yE;case aw.Rk:return kl.Rk;case aw.bE:return kl.bE;default:return kl.oE}}(i),c=function(t,n,i,r){var e=new bO(r),u=new BO(t,n,i);return new AO([e,u])}(new vO(this.WW,a),u,e,this.Rut),h=new mB(n,r,s,o,c,this.uct,this.wlt,this.Wlt,this.MZ);return new fO(n,t.nct,r,h,this.s8)},n.ddt=function(t,n){var i={uat:aw.Rk,nct:n,Mat:n.Mat,wa:t.wa};return this.ist(i)},t}();F(),Tt();var _B=function(){function t(t){this.Krt=t}var n=t.prototype;return n.ZJ=function(t){return this.Krt.ZJ(t)},n.XJ=function(t){return this.Krt.XJ(t)},t}(),bB=function(){function t(){}var n=t.prototype;return n.ZJ=function(t){return!0},n.XJ=function(t){return et.resolve(void 0)},t}();F(),Tt(),Dt(),Rt(),qt(),F(),Tt(),Rt();var kB=function(t){function n(n,i){var r;return(r=t.call(this,Og.vC)||this).VC=n||[],r.Ht=i,r}return It(n,t),n.prototype.ka=function(){return new AB(this.VC.map((function(t){return t.wa})))},n}(Ig),AB=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return It(n,t),n}(ma);F(),Tt(),Rt();var TB=function(t){function n(n){var i;return(i=t.call(this,Og.QUALITY_UNAVAILABLE)||this).quality=n,i}return It(n,t),n.prototype.ka=function(){return new SB(this.quality.wa)},n}(Cg),SB=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return It(n,t),n}(Ng);F(),Tt(),Rt();var EB=function(t){function n(){return t.call(this,Og.NO_QUALITY)||this}return It(n,t),n}(ma);function IB(t){return{jG:t.jG,Op:t.Frt,Ti:RB(t)?t.Ti:0,zw:RB(t)?aw.yE:aw.wE,ji:RB(t)?t.ji:0}}function RB(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}F(),Tt();var CB=0,NB=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).ydt=void 0,e.qe=!1,e.eu=void 0,e.Sdt=void 0,e.jS="",e.Mdt=!1,e.jO=new yw,e.xdt=[],e.pdt=void 0,e.Tdt=void 0,e.vdt=function(){return e._o(new bw(e))},e.Rdt=[],e.Tat=n,e.jS=String(CB++),e.eF=Tw(),e.O5=r,e.VA=n.Net,e.iF=n.Ch,e.Cdt=n.zw,e.xdt=n.Mat.slice(),e._dt(i),e}It(n,t);var i=n.prototype;return i._dt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.bn("update",this.vdt),this.jO.QO(i)}},i.gdt=function(t){if(this.jO.JO(t)){t.LW();var n=this.mdt();if(this.pdt&&tr(this.pdt,t)){var i=this.pdt.filter((function(t){return t.Lst}));0===i.length&&n.length>0?this.WC=n:this.WC=i}else this.WC=n;this._o(new TB(t))}},i.wdt=function(t){if(this.jO.JO(t)){var n=this.mdt();t.MW(),this.pdt&&!function(t,n){return nr(t,n,(function(t,n){return t===n}))}(this.pdt,n)||(this.WC=this.mdt())}},i.mdt=function(){return this.jO.mC.filter((function(t){return t.Lst}))},i.bdt=function(t){this.ydt=t.jht,this._o(t)},i.kdt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Mat;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.jht&&s.Lst&&n.push(e)}return n}},i.Idt=function(t){var n;this.Rdt.push(t),(n=this.xdt).push.apply(n,Kt(t.Mat));var i=t.Mat.map((function(t){return t.jht}));this._dt(i)},i.nF=function(t){this.qe=t,this.Sdt&&(t?this.Sdt.MW(this):this.Sdt.LW(this))},i.Ndt=function(t){this.qe=t,this.Mdt!==t&&(this.Mdt=t,this._o(new pw(this)))},i.yn=function(){for(var t=0,n=this.jO.mC;t<n.length;t++){n[t].vn("update",this.vdt)}this.jO.nr()},Nt(n,[{key:"FC",get:function(){return this.Tat.fdt.map(DB).filter(Yn)}},{key:"BC",get:function(){return this.ydt}},{key:"nct",get:function(){return this.Tat}},{key:"Rt",get:function(){return this.qe},set:function(t){this.nF(t)}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"Adt",get:function(){return this.Sdt},set:function(t){this.Sdt=t}},{key:"o",get:function(){return this.jS}},{key:"OC",get:function(){return this.eF}},{key:"Lt",get:function(){return this.O5}},{key:"gs",get:function(){return this.VA}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"WC",get:function(){return this.pdt},set:function(t){var n;if(t){var i=this.BC?IB(this.BC):void 0;n=t.filter((function(t){return t.Lst&&Kn.Ys.Np(i,IB(t))}))}else n=this.mdt();0!==n.length?(this.pdt=t&&this.jO.JO(t)?t:void 0,this.Tdt=this.kdt(this.pdt),this._o(new kB(t,this))):this._o(new EB)}},{key:"Edt",get:function(){return this.Tdt}},{key:"VC",get:function(){return this.jO}},{key:"Mat",get:function(){return this.xdt}},{key:"uat",get:function(){return this.Cdt}},{key:"Pdt",get:function(){return this.Rdt}},{key:"Ddt",get:function(){return this.Mat.every((function(t){return t.Ddt}))}}]),n}(la);function DB(t){if("urn:mpeg:dash:role:2011"===t.G9)return xB(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.G9){if("1"===t.Fx)return nw.RC;if("2"===t.Fx)return nw.NC}}function xB(t){if(void 0!==(null==t?void 0:t.Fx))switch(t.Fx){case"caption":return nw.IC;case"sign":return nw.DC;case"description":return nw.RC;case"enhanced-audio-intelligibility":return nw.NC;default:return}}var PB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).$A=0,o.UH=1,o.Udt=void 0,o.Fdt={},o.Wdt={},o.JA=0,o.sft=fo(),o.Qdt=function(t){0},o.s8=n,o.WW=i,o.XH=r,o.Kdt=e,o.Rut=u,o.FW=s,o}It(n,t);var i=n.prototype;return i.Y3=function(){},i.fct=function(){return this.cct.wr(this.Tn)},i.adt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return t.zw!==nC.NJ?[3,1]:(s=t.$k.eht,[3,3]);case 1:return[4,t.$k.Bk(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.Fdt[o.OC],c=n.lF,h=n.dF,f=new FA([c,h]),a||(e.Fdt[o.OC]=FA.WB(),e.Wdt[o.OC]=FA.WB()),e.tot(r),v=e.kot(new E(u),n,i,o),d=0;d<v.length;d++)l=v[d],o.UW(l);return e.Fdt[o.OC]=e.Fdt[o.OC].AB(f),[2,{jlt:c,Qlt:h}]}}))}))()},i.tot=function(t){for(var n=dR(this.s8.RI,void 0,void 0,this.SI,this.XH.uQ,this.XH.sQ),i=0;i<n.length;i++){var r=tn(n[i],2),e=r[0],u=r[1];xr(this.hdt(e,u,t))}},i.Tot=function(t,n,i){return this.Kdt.Tot(t,n,i)},i.kot=function(t,n,i,r){return this.Kdt.kot(t,n,i,r)},i.hdt=function(t,n,i){for(var r=t,e=n,u=new FA([t,n]),s=0,o=this.Z.mC;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.mC;h<f.length;h++){var v=f[h];v.lF>=r&&v.dF<=e?c.push(v):u=u.TB(new FA([v.lF,v.dF]))}for(var d=0;d<c.length;d++){var l=c[d];a.RW(l)}var g=this.Fdt[a.OC];g&&(this.Fdt[a.OC]=g.TB(u))}return et.resolve()},i.m$=function(t,n){},i.p$=function(t,n){},i._Q=function(){return!1},i.MW=function(t){var n=this.jdt(t);if(n&&this.Ldt!==n){this.Ldt=n;for(var i=0,r=this.Z.mC;i<r.length;i++){var e=r[i];e!==n&&(e.LE=qy.Mh)}if(this.Kdt.nr(),this.Udt&&(this.Udt.yn(),this.Udt=void 0),this.Ldt){var u=this.zdt(this.Ldt);this.Udt=new pB(this,this.s8,this.s8,this.WW,this.XH,!1,this.Rut,void 0,void 0,new bB,LT,void 0).ddt(this.Ldt,u),this.Udt.bn(Qy.fa,this.Qdt),this.Udt.Sn(eO.oht)}}},i.LW=function(t){if(this.Ldt===t){var n=this.jdt(t);n&&this.Ldt===n&&(this.Ldt=void 0),this.Udt&&(this.Udt.yn(),this.Udt=void 0)}},i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.Zdt=t,n.Jdt(t),[2]}}))}))()},i.$dt=function(t){var n=function(t){var n=t.Mat&&t.Mat.length>0&&t.Mat[0],i=n&&cp(n.Frt),r=cp(t.Frt),e=t.SY===Xv.APPLICATION_TTML_XML;return i||r||e?Ow.TTML:t.SY===Xv.TEXT_VTT||dp(t.SY,t.Frt)?Ow.WEBVTT:Ow.DEFAULT}(t);if(!n)throw new p("Unknown TextTrack type for Representation");var i=t.tft.concat(t.fdt);return this.eft(function(t){return tr(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.G9})).map((function(t){return t.Fx})).filter(Yn),"caption")?ep.kW:ep.TW}(i),t.Ch,t.Net,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.G9})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.Fx)}))}(t.tft),t.fdt.map(xB).filter(Yn))},i.Jdt=function(t){for(var n=0,i=t.ift;n<i.length;n++){var r=i[n],e=this.$dt(r);this.sft.set(e.OC,r),e.aR=Mw.LOADED,this.tt(e)}},i.it=function(n){this.sft.delete(n.OC),t.prototype.it.call(this,n)},i.eft=function(t,n,i,r,e,u,s,o){var a,c,h=u.Mat.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.FW.ZR(t,f,n,i,r,e,s,o)},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.Udt?[4,n.Udt.nr(eO.Rht)]:[3,3];case 2:i.sent(),n.Udt.vn(Qy.fa,n.Qdt),n.Udt=void 0,i.label=3;case 3:return n.Zdt=void 0,n.Fdt={},n.Wdt={},[2]}}))}))()},i.nft=function(){this.Fdt={},this.Wdt={}},i.findTrackForRepresentation=function(t){for(var i=0,r=this.Z.mC;i<r.length;i++){var e=r[i],u=this.zdt(e);if(u&&n.rft(u)===t)return e}},i.jdt=function(t){return Hi(this.Z.mC,(function(n){return t.OC===n.OC}))},i.zdt=function(t){return this.sft.get(t.OC)},i.Hdt=function(){if(this.Ldt){var t=this.zdt(this.Ldt);if(t)return n.rft(t)}},i.yn=function(){for(var n=0,i=this.Z.mC;n<i.length;n++){var r=i[n];this.FW.ZW(r)}return t.prototype.yn.call(this)},n.rft=function(t){return t.Mat&&t.Mat.length>0?t.Mat[0]:void 0},Nt(n,[{key:"Ldt",get:function(){return this.Bdt},set:function(t){this.Bdt=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.mC;t<n.length;t++){if(n[t].LE!==qy.Mh)return!0}return!1}},{key:"pZ",get:function(){var t=this.s8.RI;return this.cct.BB(t,.01)}},{key:"Odt",get:function(){return this.Ldt&&this.Fdt[this.Ldt.OC]?this.Fdt[this.Ldt.OC]:FA.WB()}},{key:"Vdt",get:function(){return this.Ldt&&this.Wdt[this.Ldt.OC]?this.Wdt[this.Ldt.OC]:FA.WB()}},{key:"_ct",get:function(){return new FA([0,1/0])}},{key:"SI",get:function(){return this.Odt}},{key:"v$",get:function(){return this.Udt?this.Udt.sat.v$.vct:FA.WB()}},{key:"cct",get:function(){return uO(this.SI,this.v$).bB(2*this.Gdt)}},{key:"Sn",get:function(){return this.Zdt?this.Zdt.Zct.Sn:NaN}},{key:"Tn",get:function(){return this.Zdt?this.Zdt.Zct.Tn:NaN}},{key:"MI",get:function(){var t=this.Tn;return!!t&&this.s8.RI>=t}},{key:"Gdt",get:function(){var t,n,i=this.Hdt();return i?1/(null!=(n=this.Ldt&&(null==i||null==(t=i.Xdt)?void 0:t.VF()))?n:25):.04}},{key:"Ti",get:function(){return this.$A}},{key:"j3",get:function(){return aw.Rk}},{key:"tR",get:function(){return this.UH},set:function(t){this.UH=t}},{key:"sR",get:function(){return this.Vdt}},{key:"cR",get:function(){if(!this.Ldt)return FA.FB(0);var t=this.zdt(this.Ldt),n=null==t?void 0:t.qdt,i=null==t?void 0:t.Ydt;if(void 0===i||void 0===n)return FA.FB(0);var r=k.max(n,this.s8.RI);return new FA([i,r]).gB()}},{key:"ji",get:function(){return this.JA}}]),n}(_p),LB=function(){function t(t,n,i,r,e,u){this.aft=[],this.Hl=new Wk([]),this.s8=t,this.WW=n,this.XH=i,this.Rut=r,this.FW=e,this.xot=u}var n=t.prototype;return n.VW=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return t.zw!==aw.Rk?[2]:(i=function(t,n,i){return cp(n)||t===Xv.APPLICATION_TTML_XML||t===Xv.TEXT_VTT?new JM(i):dp(t,n)?new nO:void 0}(t.SY,t.Frt,n.xot),i?(r=n.oft(i),n.hft(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.oft=function(t){return new PB(this.s8,this.WW,this.XH,t,this.Rut,this.FW)},n.hft=function(t){this.aft.push(t),this.Hl.aZ(t.Z)},n.nr=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:n=0,i=t.aft.slice(),r.label=1;case 1:return n<i.length?[4,i[n].nr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return ir(t.aft),t.Hl.nr(),[2]}}))}))()},n.yn=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:n=0,i=t.aft,r.label=1;case 1:return n<i.length?[4,i[n].yn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return ir(t.aft),t.Hl.yn(),[2]}}))}))()},Nt(t,[{key:"nt",get:function(){return this.Hl}}]),t}();F(),Tt(),Rt();var MB=function(t){function n(n){var i;return(i=t.call(this,ya.zy)||this).error=n,i}return It(n,t),n}(ma);F(),Tt();var OB=function(t){return t.zW="static",t.qW="dynamic",t}({});F(),Tt(),Rt(),F(),Tt();var BB=function(t){return t.uft="cft",t}({}),VB=function(t){function n(){return t.call(this,BB.uft)||this}return It(n,t),n}(ma);F(),Tt(),Mt(),Dt(),Rt(),nn(),Wt(),F(),Tt(),Rt();var FB=function(t){function n(n,i){var r;return(r=t.call(this,ya.Jy)||this).representation=n,r.previousRepresentation=i,r}return It(n,t),n}(ma);F(),Tt(),Rt(),F(),Tt(),qt(),F(),Tt();var UB=function(t){return t[t.lft=0]="lft",t[t.dft=1]="dft",t[t.fft=2]="fft",t[t._ft=3]="_ft",t[t.vft=4]="vft",t[t.gft=5]="gft",t}({}),WB=function(t){return t[t.mft=0]="mft",t[t.pft=1]="pft",t[t.wft=2]="wft",t[t.yft=3]="yft",t}({});function ZB(t,n,i){return i===UB.lft?i:n!==WB.mft&&n!==WB.pft||i!==UB.dft&&i!==UB.fft?t?n===WB.wft?UB.vft:n===WB.yft?UB._ft:UB.lft:UB.gft:UB.fft}function XB(t,n,i,r){var e={byte:i},u=UB.dft,s=[],o=31&VC(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=VC(n,e,r),h=4&c,f=3&c;u=ZB(Boolean(h),f,u);var v=VC(n,e,r),d=VC(n,e,r);s.push({bft:t,kL:-1,Aft:!a,Sft:Boolean(h),zw:f,Tft:u,kft:v,Eft:d})}return s}function GB(t,n,i){var r=VC(t,n,i);if(!S(r))return String.fromCharCode(r)}function HB(t){var n=t.A1,i={byte:t.w1},r=t.b1,e=VC(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=FC(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=GB(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===VC(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.xft=i.byte,o}}}}function zB(t){return 4===t.g1}function YB(t){for(var n=t.filter(zB).map(HB).filter(Yn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Kt(XB(u.v1,u.A1,u.xft,u.b1)))}return i}F(),Tt();var jB="und";var KB=[{l:"Abkhaz",mh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",mh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",mh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",mh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",mh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",mh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",mh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",mh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",mh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",mh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",mh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",mh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",mh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",mh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",mh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",mh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",mh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",mh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",mh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",mh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",mh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",mh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",mh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",mh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",mh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",mh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",mh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",mh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",mh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",mh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",mh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",mh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",mh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",mh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",mh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",mh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",mh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",mh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",mh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",mh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",mh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",mh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",mh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",mh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",mh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",mh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",mh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",mh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",mh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",mh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",mh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",mh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",mh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",mh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",mh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",mh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",mh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",mh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",mh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",mh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",mh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",mh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",mh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",mh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",mh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",mh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",mh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",mh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",mh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",mh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",mh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",mh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",mh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",mh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",mh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",mh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",mh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",mh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",mh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",mh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",mh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",mh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",mh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",mh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",mh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",mh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",mh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",mh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",mh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",mh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",mh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",mh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",mh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",mh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",mh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",mh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",mh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",mh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",mh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",mh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",mh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",mh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",mh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",mh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",mh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",mh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",mh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",mh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",mh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",mh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",mh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",mh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",mh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",mh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",mh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",mh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",mh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",mh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",mh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",mh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",mh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",mh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",mh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",mh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",mh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",mh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",mh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",mh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",mh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",mh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",mh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",mh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",mh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",mh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",mh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",mh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",mh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",mh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",mh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",mh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",mh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",mh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",mh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",mh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",mh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",mh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",mh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",mh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",mh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",mh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",mh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",mh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",mh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",mh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",mh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",mh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",mh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",mh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",mh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",mh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",mh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",mh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",mh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",mh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",mh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",mh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",mh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",mh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",mh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",mh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",mh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",mh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",mh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",mh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",mh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",mh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",mh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",mh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",mh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",mh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",mh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",mh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",mh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",mh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];F(),Tt(),qt();function qB(t){var n,i=null!=(n=function(t){var n=t.t1,i=new UC;return i.o1(n,0,n.byteLength),$C(i).V1}(t))?n:24;return t.Ift/i}function JB(t){return t.zw===ly.gD}function QB(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Ift,u=pe.fromNumber(t.OL||0),s=r.QO(km.eV(u,e));return{Rft:r.VF(),Cft:r,Pft:s,Dft:r}}(t,0,i,r),o=km.iV(t.ct||0,i.Ift),a=t.uN||0,c=!(65536&a)&&1!==(a>>24&3),h=Pc(e),f=new Uc;f.nc<h.byteLength;){var v=oc(h,f);if((31&rc(h,f,1))===KC.C1){var d,l=new UC;l.o1(e,f.nc-1,f.nc+v-1);var g=new QC(l),w=zC(s.Pft,g);(d=u=u||[]).push.apply(d,Kt(YB(w)))}f.Pb(v-1)}return ao({},s,{ct:o.VF(),Nft:o,Mft:s.Pft.VF(),Lft:s.Rft,Bft:c,Oft:u,Fft:!1,Vft:!1})}function $B(t){return{VN:t.sN.VN,Ift:t.LN.sN.RN}}function tV(t){return t.zw===ly.kP}F(),Tt(),Rt(),F(),Tt(),Rt(),F(),Tt(),qt(),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt();var nV=function(){function t(t,n){this.Uet=t,this.Cet=n}return t.prototype.IF=function(t){return this.Uet===t.Uet&&this.Cet===t.Cet},t}();F(),Tt(),Dt();var iV=function(){function t(t,n){this.IJ=t,this.Uft=n,this.Wft=""}var n=t.prototype;return n.Gft=function(t){this.Wft+=t},n.Zft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Gft(i)}},Nt(t,[{key:"eit",get:function(){return this.Wft}},{key:"jet",get:function(){return[this]}},{key:"$et",get:function(){return this.IJ}},{key:"Let",get:function(){return this.Uft}},{key:"Fet",get:function(){return new nV(this.Let.Uet,this.Let.Cet+this.eit.length-1)}}]),t}();function rV(t,n){return t===n||t.eit===n.eit&&t.Let.IF(n.Let)&&Zg(t.$et,n.$et)}function eV(t,n){return t===n||t.Let.IF(n.Let)&&t.Fet.IF(n.Fet)&&nr(t.jet,n.jet,rV)}var uV=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return It(n,t),n.prototype.RF=function(t){return nr(this.U,t.U,eV)},n}(nm);F(),Tt(),Dt();var sV=function(){function t(){}var n=t.prototype;return n.Hft=function(t){return t.tW(this)},n.Xft=function(t){var n=this;return er(t,(function(t,i){return t.tW(n,i)}))},n.zft=function(t,n){return new oV(t,n).qft()},t}(),oV=function(){function t(t,n){this.Uet=t,this.t_t=n,this.Qft=[],this.$ft=null}var n=t.prototype;return n.qft=function(){if(this.Yft)return[];for(var t=0;t<this.Uet.length;t++)this.Kft(t);return this.jft(),this.Qft},n.Jft=function(t){this.$ft=new iV($P,new nV(this.t_t,t))},n.jft=function(){this.$ft&&(this.Qft.push(this.$ft),this.$ft=null)},n.Kft=function(t){var n=this.Uet[t];aV(n)?this.$ft&&this.jft():(this.$ft||this.Jft(t),this.$ft.Gft(n))},Nt(t,[{key:"Yft",get:function(){return this.Uet.every(aV)}}]),t}();function aV(t){return null==t}var cV=function(){function t(){}return t.e_t=function(t,n,i){if(!(n>=i)){var r=er(t,(function(t,n){return new oV(t.map((function(t){return t?t.i_t():null})),n).qft()}));if(0!==r.length)return new uV(n,i,r)}},t}(),hV="black",fV="white";F(),Tt(),F(),Tt();var vV=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),dV=function(){function t(){this.n_t=[],this.h_t=0;for(var t=0;t<rL;t++)this.n_t.push(null);this.c_t=!1}var n=t.prototype;return n.s_t=function(t){for(var n=0;n<rL;n++)t&&(this.n_t[n]=t.n_t[n])},n.IF=function(t){for(var n=0;n<rL;n++)if(this.n_t[n]!==t.n_t[n])return!1;return!0},n.r_t=function(){for(var t=0;t<rL;t++)if(null!==this.n_t[t])return!1;return!0},n.o_t=function(t){this.h_t!==t&&(this.h_t=t),this.h_t<0?this.h_t=0:this.h_t>rL&&(this.h_t=31)},n.a_t=function(t){var n=this.h_t+t;this.o_t(n)},n.u_t=function(){this.a_t(-1),this.n_t[this.h_t]=null},n.Gft=function(t){t>=144&&this.u_t();var n=function(t){return vV[t]?String.fromCharCode(vV[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.h_t>=rL||(32===Number(t)?(this.n_t[this.h_t]=this.c_t?"</i>":"<i>",this.c_t=!this.c_t):this.n_t[this.h_t]=t,this.a_t(1))},n.l_t=function(t){for(var n=t;n<rL;n++)this.n_t[n]=null},n.Gb=function(){this.l_t(0),this.h_t=0},n.d_t=function(){this.l_t(this.h_t)},n.f_t=function(t,n){for(var i=this.n_t,r=null,e=0;e<rL;e++){var u=i[e];null===u?r=null:(r||(r={qh:e,zh:t,ji:0,Ti:1,n_t:[[]]},n.push(r)),r.n_t[0].push(u),r.ji++)}},n.tW=function(t,n){return t.zft(this.n_t,n)},t}();var lV=function(){function t(t,n){this.m_t=new Array(gV+1);for(var i=0;i<=gV;i++)this.m_t[i]=new dV;this.y_t=1,this.T_t=0,this.v_t=t,this.g_t=n,this.P_t=!1,this.N_t=!1,this.L_t=fV,this.O_t=hV,this.nr()}var n=t.prototype;return n.__t=function(t,n){var i="CC"+(this.v_t<<1|this.g_t+1);if(t>=n)return null;var r=(new sV).Xft(this.m_t.slice(1));return 0===r.length?null:{uF:new uV(t,n,r),Ok:i,p_t:this.v_t<<1|this.g_t+1}},n.nr=function(){this.w_t(),this.y_t=1},n.b_t=function(){return this.y_t},n.A_t=function(t){this.y_t=t},n.o_t=function(t){this.m_t[this.y_t].o_t(t)},n.a_t=function(t){this.m_t[this.y_t].a_t(t)},n.S_t=function(){return this.T_t},n.k_t=function(t){this.T_t=t},n.Gft=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==mV[n]?mV[n]:String.fromCharCode(n);break;case 1:i=yV[n];break;case 2:this.E_t(),i=pV[n];break;case 3:this.E_t(),i=_V[n]}i&&this.m_t[this.y_t].addParsedChar(i)}},n.E_t=function(){this.m_t[this.y_t].u_t()},n.x_t=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.m_t[t+r]=this.m_t[n+r];else for(var e=0;e<i;e++)this.m_t[t+e]=this.m_t[n+e]},n.I_t=function(t,n){for(var i=0;i<=n;i++)this.m_t[t+i]=new dV},n.w_t=function(){this.I_t(0,gV)},n.R_t=function(){this.y_t=this.T_t>0?this.T_t:0,this.w_t()},n.C_t=function(t){this.P_t=t},n.D_t=function(t){this.N_t=t},n.M_t=function(t){this.L_t=t},n.B_t=function(t){this.O_t=t},t}(),gV=15,wV=function(t){return t[t.F_t=0]="F_t",t[t.V_t=1]="V_t",t[t.W_t=2]="W_t",t[t.U_t=3]="U_t",t}({}),mV={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},yV={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},pV={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},_V={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},bV=function(){function t(t,n){this.Zp=0,this.Y_t=new lV(t,n),this.X_t=new lV(t,n),this.q_t=new lV(t,n),this.H_t=this.X_t,this.Z_t=0,this.z_t=void 0,this.G_t=!1}var n=t.prototype;return n.nr=function(){this.G_t=!0,this.Z_t=0,this.Zp=0,this.H_t=this.X_t,this.z_t=void 0,this.X_t.nr(),this.q_t.nr(),this.Y_t.nr()},n.K_t=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.j_t=function(t,n){var i=this.K_t(t,n),r=(30&n)>>1,e=fV,u=!1;r<7?e=TV[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.Zp){var o=this.H_t;if(3===this.Zp&&i!==o.b_t()){var a=1+o.b_t()-o.S_t(),c=1+i-o.S_t();o.x_t(c,a,o.S_t()),o.I_t(0,c-1),o.I_t(i+1,gV-i)}o.A_t(i);var h=nL[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{Ret:tL[i].Ret,Iet:tL[i].Iet,Cet:tL[i].Cet,Uet:t}}(h,n);o.o_t(f.Cet),this.H_t.C_t(s),this.H_t.D_t(u),this.H_t.M_t(e),this.H_t.B_t(hV)}}},n.Q_t=function(t,n){this.H_t.C_t(!1),this.H_t.D_t(!1),this.H_t.M_t(fV);var i=this.J_t(t,wV.F_t," ".charCodeAt(0)),r=fV,e=!1,u=1==(1&n);return"white_italics"===(r=TV[(14&n)>>1])&&(r="white",e=!0),this.H_t.C_t(u),this.H_t.D_t(e),this.H_t.M_t(r),i},n.J_t=function(t,n,i){if(this.H_t.Gft(n,i),2===this.Zp||3===this.Zp){var r=this.$_t(this.H_t,this.Z_t,t);return this.Z_t=t,r}return null},n.$_t=function(t,n,i){return this.G_t?null:2===this.Zp||3===this.Zp?t.__t(i,i+10):t.__t(n,i)},n.tvt=function(t,n){var i=hV;0==(7&t)&&(i=AV[(14&n)>>1]),this.H_t.B_t(i)},n.evt=function(t){var n=kV,i=t.ivt,r=t.svt,e=null;switch(i){case n.RCL:this.nvt();break;case n.BS:this.rvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.ovt(2,r);break;case n.RU3:e=this.ovt(3,r);break;case n.RU4:e=this.ovt(4,r);break;case n.FON:e=this.avt(r);break;case n.RDC:this.uvt(r);break;case n.TR:this.cvt();break;case n.RTD:this.lvt();break;case n.EDM:e=this.dvt(r);break;case n.CR:e=this.fvt(r);break;case n.ENM:this._vt();break;case n.EOC:e=this.vvt(r)}return e},n.fvt=function(t){var n=this.H_t;if(3!==this.Zp)return null;var i=this.$_t(n,this.Z_t,t),r=n.b_t()-n.S_t()+1;return n.x_t(r-1,r,n.S_t()),n.I_t(0,r-1),n.I_t(n.b_t(),gV-n.b_t()),this.Z_t=t,i},n.ovt=function(t,n){this.H_t=this.X_t;var i=this.H_t,r=null;return 3!==this.Zp&&4!==this.Zp&&(r=this.$_t(i,this.Z_t,n),this.X_t.R_t(),this.q_t.R_t(),this.G_t=!1,i.A_t(gV)),this.Zp=3,i.k_t(t),r},n.avt=function(t){return this.J_t(t,wV.F_t," ".charCodeAt(0))},n.dvt=function(t){var n=this.X_t,i=null;return 4!==this.Zp&&(i=this.$_t(n,this.Z_t,t)),n.w_t(),this.G_t=!1,i},n.uvt=function(t){this.Zp=2,this.H_t=this.X_t,this.H_t.k_t(0),this.Z_t=t},n._vt=function(){this.q_t.w_t()},n.vvt=function(t){var n=null;4!==this.Zp&&(n=this.$_t(this.X_t,this.Z_t,t));var i=this.q_t;return this.q_t=this.X_t,this.X_t=i,this.nvt(),this.Z_t=t,n},n.nvt=function(){this.Zp=1,this.H_t=this.q_t,this.H_t.k_t(0)},n.rvt=function(){this.H_t.E_t()},n.cvt=function(){this.Y_t.nr(),this.G_t=!1,this.lvt()},n.lvt=function(){this.H_t=this.Y_t,this.Zp=4},n.gvt=function(t,n,i){return this.H_t.Gft(wV.F_t,n),this.J_t(t,wV.F_t,i)},n.mvt=function(t,n,i){var r=1&n?wV.U_t:wV.W_t;return this.J_t(t,r,i)},n.pvt=function(t){var n=t.wvt,i=t.ivt,r=t.svt;if(this.z_t===(n<<8|i))return this.z_t=void 0,null;if(this.z_t=n<<8|i,this.yvt(n,i))this.j_t(n,i);else{if(this.bvt(n,i))return this.Q_t(r,i);if(this.Avt(n,i))this.tvt(n,i);else{if(this.Svt(n,i))return this.J_t(r,wV.V_t,i);if(this.Tvt(n,i))return this.mvt(r,n,i);if(this.kvt(n,i))return this.evt(t);this.isTabOffset(n)&&this.H_t.a_t(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.kvt=function(t,n){return 20==(246&t)&&32==(240&n)},n.yvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.bvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Avt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Svt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Tvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Evt=function(t){return 16==(112&t)},t}(),kV={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},AV=["black","green","blue","cyan","red","yellow","magenta","black"],TV=["white","green","blue","cyan","red","yellow","magenta","white_italics"];F(),Tt(),Wt(),F(),Tt(),F(),Tt();var SV=function(){function t(t,n,i,r,e){this.xvt=t,this.P_t=n,this.N_t=i,this.O_t=r,this.L_t=e}var n=t.prototype;return n.i_t=function(){return this.xvt},n.Ivt=function(){return this.P_t},n.Rvt=function(){return this.N_t},n.Cvt=function(){return this.O_t},n.Pvt=function(){return this.L_t},t}(),EV=function(){function t(t){this.rgt=t,this.LH=!1,this.Bvt=!1,this.Mvt=0,this.Nvt=0,this.Lvt=0,this.Ovt=0,this.Fvt=0,this.sgt=2,this.Wvt=[],this.bF=0,this.y_t=0,this.Hvt=0,this.N_t=!1,this.P_t=!1,this.L_t=fV,this.O_t=hV,this.Vvt()}var n=t.prototype;return n.Dvt=function(t,n,i,r,e,u,s){this.LH=t,this.Nvt=n,this.Mvt=i,this.Lvt=r,this.Bvt=e,this.Ovt=u,this.Fvt=s},n.Vvt=function(){this.Wvt=[];for(var t=0;t<RV;t++)this.Wvt.push(this.Uvt())},n.Uvt=function(){for(var t=[],n=0;n<IV;n++)t.push(null);return t},n.Gvt=function(t){this.Zvt()&&(this.Wvt[this.y_t][this.Hvt]=new SV(t,this.P_t,this.N_t,this.O_t,this.L_t),this.Hvt++)},n.Xvt=function(){this.Zvt()&&(this.Hvt<=0&&this.y_t<=0||(this.Hvt<=0?(this.Hvt=this.Fvt-1,this.y_t--):this.Hvt--,this.Wvt[this.y_t][this.Hvt]=null))},n.Zvt=function(){var t=this.y_t<this.Ovt&&this.y_t>=0,n=this.Hvt<this.Fvt&&this.Hvt>=0;return t&&n},n.De=function(){return this.LH},n.zvt=function(t){for(var n=0,i=t;i<RV;i++,n++)this.Wvt[n]=this.Wvt[i];for(var r=0;r<t;r++,n++)this.Wvt[n]=this.Uvt()},n.qvt=function(){if(this.y_t+1>=this.Ovt)return this.zvt(1),void(this.Hvt=0);this.y_t++,this.Hvt=0},n.Yvt=function(){this.Wvt[this.y_t]=this.Uvt(),this.Hvt=0},n.__t=function(t,n){if(this.bF>=t)return null;var i=cV.e_t(this.Wvt,this.bF,t);return i?(this.Kvt(t),{uF:i,Ok:"svc"+n,p_t:n}):null},n.jvt=function(t,n){this.y_t=t,this.Hvt=n},n.Qvt=function(t){this.O_t=t},n.Jvt=function(t){this.L_t=t},n.$vt=function(t){this.P_t=t},n.tgt=function(t){this.N_t=t},n.egt=function(){this.y_t=0,this.Hvt=0,this.P_t=!1,this.N_t=!1,this.L_t=fV,this.O_t=hV},n.igt=function(t){this.sgt=t},n.ngt=function(){this.LH=!0},n.be=function(){this.LH=!1},n.Sh=function(){this.LH=!this.LH},n.Kvt=function(t){this.bF=t},t}(),IV=42,RV=15,CV=function(){function t(t){this.mgt=t,this.xgt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.ggt=void 0}var n=t.prototype;return n.ogt=function(t){var n=t.hgt(),i=n.Fx,r=n.svt;i===LV&&(i=i<<16|t.hgt().Fx);return i>=0&&i<=31?this.agt(i,r):i>=128&&i<=159?this.ugt(t,i,r):(i>=4096&&i<=4127?this.cgt(t,255&i):i>=4224&&i<=4255?this.lgt(t,255&i):i>=32&&i<=127?this.dgt(i):i>=160&&i<=255?this.fgt(i):i>=4128&&i<=4223?this._gt(255&i):i>=4256&&i<=4351&&this.vgt(255&i),null)},n.dgt=function(t){this.ggt&&(127!==t?this.ggt.Gvt(String.fromCharCode(t)):this.ggt.Gvt("\u266a"))},n.fgt=function(t){this.ggt&&this.ggt.Gvt(String.fromCharCode(t))},n._gt=function(t){if(this.ggt)if(void 0!==MV[t]){var n=MV[t];this.ggt.Gvt(n)}else this.ggt.Gvt("_")},n.vgt=function(t){this.ggt&&(160===t?this.ggt.Gvt("[CC]"):this.ggt.Gvt("_"))},n.agt=function(t,n){if(!this.ggt)return null;var i=this.ggt,r=null;switch(t){case NV:i.Xvt();break;case xV:i.De()&&(r=i.__t(n,this.mgt)),i.qvt();break;case PV:i.De()&&(r=i.__t(n,this.mgt)),i.Yvt();break;case DV:i.De()&&(r=i.__t(n,this.mgt)),i.Vvt(),i.jvt(0,0)}return r},n.ugt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.pgt(r)}else{if(136===n){var e=t.hgt().Fx;return this.wgt(e,i)}if(137===n){var u=t.hgt().Fx;this.ygt(u,i)}else{if(138===n){var s=t.hgt().Fx;return this.bgt(s,i)}if(139===n){var o=t.hgt().Fx;return this.Agt(o,i)}if(140===n){var a=t.hgt().Fx;return this.Sgt(a,i)}if(143===n)return this.nr(i);if(144===n)this.Tgt(t);else if(145===n)this.kgt(t);else if(146===n)this.jvt(t);else if(151===n)this.Egt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Dvt(t,c,i)}}}return null},n.cgt=function(t,n){n>=8&&n<=15?t.zD(1):n>=16&&n<=23?t.zD(2):n>=24&&n<=31&&t.zD(3)},n.lgt=function(t,n){n>=128&&n<=135?t.zD(4):n>=136&&n<=143&&t.zD(5)},n.pgt=function(t){this.xgt[t]&&(this.ggt=this.xgt[t])},n.Igt=function(t){var n;return Ot(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.xgt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.wgt=function(t,n){for(var i=null,r=0,e=this.Igt(t);r<e.length;r++){var u=e[r],s=this.xgt[u];s.De()&&(i=s.__t(n,this.mgt)),s.Vvt()}return i},n.ygt=function(t,n){for(var i=0,r=this.Igt(t);i<r.length;i++){var e=r[i],u=this.xgt[e];u.De()||u.Kvt(n),u.ngt()}},n.bgt=function(t,n){for(var i=null,r=0,e=this.Igt(t);r<e.length;r++){var u=e[r],s=this.xgt[u];s.De()&&(i=s.__t(n,this.mgt)),s.be()}return i},n.Agt=function(t,n){for(var i=null,r=0,e=this.Igt(t);r<e.length;r++){var u=e[r],s=this.xgt[u];s.De()?i=s.__t(n,this.mgt):s.Kvt(n),s.Sh()}return i},n.Sgt=function(t,n){for(var i=null,r=0,e=this.Igt(t);r<e.length;r++){var u=e[r],s=this.xgt[u];s.De()&&(i=s.__t(n,this.mgt)),this.xgt[u]=void 0}return i},n.nr=function(t){var n=this.Sgt(255,t);return this.Gb(),n},n.Gb=function(){this.ggt=void 0,this.xgt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Tgt=function(t){t.zD(1);var n=t.hgt().Fx;if(this.ggt){var i=(128&n)>0,r=(64&n)>0;this.ggt.tgt(i),this.ggt.$vt(r)}},n.kgt=function(t){var n=t.hgt().Fx,i=t.hgt().Fx;if(t.zD(1),this.ggt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Rgt(u,e,r),h=this.Rgt(a,o,s);this.ggt.Jvt(c),this.ggt.Qvt(h)}},n.jvt=function(t){var n=t.hgt().Fx,i=t.hgt().Fx;if(this.ggt){var r=15&n,e=63&i;this.ggt.jvt(r,e)}},n.Egt=function(t){t.zD(1),t.zD(1);var n=t.hgt().Fx;if(t.zD(1),this.ggt){var i=3&n;this.ggt.igt(i)}},n.Dvt=function(t,n,i){var r=void 0!==this.xgt[n];if(!r){var e=new EV(n);e.Kvt(i),this.xgt[n]=e}var u=t.hgt().Fx,s=t.hgt().Fx,o=t.hgt().Fx,a=t.hgt().Fx,c=t.hgt().Fx,h=t.hgt().Fx,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,g=1+(15&a),w=(240&a)>>4,m=1+(63&c);r&&0===(7&h)||this.xgt[n].egt(),this.xgt[n].Dvt(f,v,l,w,d,g,m),this.ggt=this.xgt[n]},n.Rgt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return OV[r[t]<<2|r[n]<<1|r[i]]},t}(),NV=8,DV=12,xV=13,PV=14,LV=16,MV={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},OV=["black","blue","green","cyan","red","magenta","yellow","white"];F(),Tt();var BV=function(){function t(){this.Ngt=[],this.Dgt=null,this.Pgt=0}var n=t.prototype;return n.Cgt=function(t){if(t.zw===WB.yft){var n=63&t.Fx;return this.Pgt=2*n-1,void(this.Dgt=[])}if(this.Dgt&&(this.Pgt>0&&(this.Dgt.push(t),this.Pgt--),0===this.Pgt)){var i=new VV(this.Dgt);this.Ngt.push(i),this.Dgt=null,this.Pgt=0}},n.Mgt=function(){return this.Ngt},n.Lgt=function(){this.Ngt=[]},n.Gb=function(){this.Ngt=[],this.Dgt=[],this.Pgt=0},t}(),VV=function(){function t(t){this.Ogt=0,this.Fgt=t}var n=t.prototype;return n.Bgt=function(){return this.Ogt<this.Fgt.length},n.Vgt=function(){return this.Ogt},n.hgt=function(){if(!this.Bgt())throw new ld(vd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Fgt[this.Ogt++]},n.zD=function(t){if(this.Ogt+t>this.Fgt.length)throw new ld(vd.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Ogt+=t},t}(),FV=function(){function t(){this.jgt=!1,this.Ugt=[],this.Ggt=[],this.Zgt=new BV,this.Wgt=0,this.qgt=vo({CC1:new bV(0,0),CC2:new bV(0,1),CC3:new bV(1,0),CC4:new bV(1,1)}),this.Xgt=0,this.zgt=0,this.Hgt=fo(),this.nr()}var n=t.prototype;return n.Gb=function(){this.Wgt=0,this.Ugt=[],this.Ggt=[],this.Zgt.Gb(),this.nr(),this.Hgt.forEach((function(t){t.Gb()}))},n.nr=function(){this.Xgt=0,this.zgt=0,this.qgt.forEach((function(t){t.nr()}))},n.Ygt=function(t,n){if(t.Sft){var i=t.kft,r=t.Eft,e=t.zw;e===WB.mft||e===WB.pft?this.Ugt.push({svt:n,zw:e,wvt:i,ivt:r,Kgt:this.Ugt.length}):this.jgt&&(this.Ggt.push({svt:n,zw:e,Fx:i,Kgt:this.Ggt.length}),this.Ggt.push({svt:n,zw:WB.wft,Fx:r,Kgt:this.Ggt.length}))}},n.Tq=function(){var t=[];this.Ugt.sort((function(t,n){return t.svt-n.svt||t.Kgt-n.Kgt})),this.Ggt.sort((function(t,n){return t.svt-n.svt||t.Kgt-n.Kgt}));for(var n=0,i=this.Ugt;n<i.length;n++){var r=i[n],e=this.Qgt(r);e&&t.push(e)}for(var u=0,s=this.Ggt;u<s.length;u++){var o=s[u];this.Zgt.Cgt(o)}for(var a=this.Zgt.Mgt(),c=0;c<a.length;c++){var h,f=a[c],v=this.Jgt(f);(h=t).push.apply(h,Kt(v))}return this.Zgt.Lgt(),this.Ugt=[],this.Ggt=[],t},n.Qgt=function(t){var n=t.zw;if(bV.Evt(t.wvt)){var i=t.wvt>>3&1;0===n?this.Xgt=i:this.zgt=i}var r="CC"+(n<<1|(n?this.zgt:this.Xgt)+1),e=this.qgt.get(r);return 255===t.wvt&&255===t.ivt||!t.wvt&&!t.ivt||!this.$gt(t.wvt)||!this.$gt(t.ivt)?(++this.Wgt>=45&&this.nr(),null):(this.Wgt=0,t.wvt&=127,t.ivt&=127,t.wvt||t.ivt?bV.Evt(t.wvt)?e.pvt(t):e.gvt(t.svt,t.wvt,t.ivt):null)},n.Jgt=function(t){var n=[];try{for(;t.Bgt();){var i=t.hgt().Fx,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.hgt().Fx;if(0!==r){if(!this.Hgt.has(r)){var u=new CV(r);this.Hgt.set(r,u)}for(var s=this.Hgt.get(r),o=t.Vgt();t.Vgt()-o<e;){var a=s.ogt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof ld&&t.code===vd.SUBTITLE_PARSE_ERROR))throw t}return n},n.$gt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();F(),Tt(),Rt();var UV=function(t){function n(n,i){var r;return(r=t.call(this,"tmt")||this).p_t=n,r.uF=i,r}return It(n,t),n}(ma),WV=km.GV(.1),ZV=function(t){function n(){var n;return(n=t.call(this)||this).imt=new FV,n}It(n,t);var i=n.prototype;return i.emt=function(t,n){this.imt.Ygt(t,n)},i.Tq=function(){for(var t=this.imt.Tq(),n=0;n<t.length;n++){var i=t[n];this._o(new UV(i.p_t,i.uF))}},i.nr=function(){this.imt.Gb()},i.yn=function(){this.Ro(),this.imt.Gb()},n}(la),XV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hmt=[],n}It(n,t);var i=n.prototype;return i.smt=function(t,n,i,r){var e=this.nmt(t,r);this.omt(e,n,i),this.Tq()},i.nmt=function(t,n){var i,r=t.slice().sort(iL),e=this.hmt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].Pet,s=e[e.length-1].Pet,o=r[0].Pet,a=e[0].jht===r[0].jht;if(s.jF(o).qF().zF(km.GV(2.5*n))&&a)i=e.concat(r).sort(iL);else if(o.GF(u)){for(var c=0;c<e.length&&e[c].Pet.zF(o);)c++;for(var h=!1,f=!1,v=c,d=0;v<e.length&&d<r.length;v++,d++)GV(e[v],r[d])?h=!0:f=!0;var l=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(iL):l?i=e.slice(0,c).concat(r):(i=r,g&&this.nr())}else i=r,this.nr();return i},i.omt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.Pet.VF();if(!i&&n-u<WV.VF())return void(this.hmt=t.slice(r));this.emt(e,u)}this.hmt=[]},n}(ZV);function GV(t,n){return t.Pet.IF(n.Pet)&&t.zw===n.zw&&t.kft===n.kft&&t.Eft===n.Eft}var HV=function(t){function n(n){var i;return(i=t.call(this)||this).fmt=void 0,i.vmt=NaN,i.gmt=NaN,i.wmt=function(t){for(var n=i.cmt({Det:t.p_t,Net:""}),r=t.uF,e=0,u=n.L.mC;e<u.length;e++){var s=u[e];r.lF<s.lF&&r.dF>s.lF?r.dF=s.lF:r.lF>s.lF&&s.dF>r.lF?s.dF=r.lF:r.lF===s.lF&&(r.dF=s.dF)}i.addCueToTrack(n,r)},i.FW=n,i.umt=fo(),i.mmt=new XV,i.mmt.bn("tmt",i.wmt),i}It(n,t);var i=n.prototype;return i.amt=function(t){return this.umt.get(t)},i.cmt=function(t){var n=this.umt.get(t.Det);return n||(n=this.lmt(t),this.umt.set(t.Det,n)),n},i.lmt=function(t){var n=[nw.IC],i=function(t){if(t!==jB)for(var n=t.toLowerCase(),i=0;i<KB.length;i++){var r=KB[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.Net),r=i?i.l:"";t.dmt&&(r="easy "+r,n.push(nw.MC));var e=t.Ch||r||"CC"+t.Det,u=this.doCreateTrack(e,t.Net,n);return this.tt(u),u},i.Tot=function(t){var n=Iy.cN(Pc(t));this.fmt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=$B(r),u=r.LN.zN.KN.QN.$N,s=Hi(u,(function(t){return t.zw===ly.FP}));if(!s){var o=u.filter((function(t){return t.zw===ly.vD})),a=Hi(o,(function(t){var n;return(null==(n=t.zM)?void 0:n.zw)===ly.FP}));a&&(s=a.zM)}if(s){var c=BC(Pc(s.NM.$k),new Uc),h=s.LM;return ao({},e,{VN:r.sN.VN,NM:Fc(s.NM.$k),ji:s.ji,Ti:s.Ti,gL:h&&h.gL,vL:h&&h.vL,b2:c.j0,_mt:c.Q0,A2:c.J0,t1:c.t1[0],e1:c.e1[0]})}}}(Hi(n,tV))},i.adt=function(t,n,i,r,e,u){var s;if(this.fmt&&(S(this.vmt)||!xi(this.vmt,n,1e-5))){S(this.gmt)||xi(this.gmt,n,.1)||this.mmt.nr();for(var o,a=function(t,n,i,r,e){for(var u=[],s=n.filter(JB),o=r(i),a=0;a<s.length;a++){var c=s[a],h=Hi(c.Z,(function(t){return t.sN.VN===i.VN}));if(h)for(var f,v=h.sN.wL||0,d=h.sN.yL||0,l=h.CL?h.CL.CL:pe.ZERO,g=c.TL+(null!=(f=h.sN.PL)?f:pe.ZERO).toNumber(),w=0,m=h.RL;w<m.length;w++)for(var y=m[w],p=g+(y.TL||0),_=0,b=y.BL;_<b.length;_++){var k=b[_],A=k.Ob||d,T=new UC;T.o1(t,p,p+A);var S=km.eV(l,i.Ift);T.pW=e(k,c,i,S,Bc(t,p,p+A)),u.push(T),p+=A,l=l.add(k.ct||v||o)}}return u}(t,Iy.cN(Pc(t)),this.fmt,qB,QB),c=null!=(o=null==(s=ar(a,(function(t){return t.pW.ct})))?void 0:s.pW.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.pW.Oft&&(r=n).push.apply(r,Kt(e.pW.Oft)),delete e.pW.Oft}for(var u=0;u<n.length;u+=1)n[u].kL=u;return n}(a),f=km.GV(r),v=[],d=0;d<h.length;d++){var l=h[d];v.push(ao({},l,{jht:e,Pet:l.bft.QO(f)}))}this.mmt.smt(v,i,u,c),this.vmt=n,this.gmt=i}},i.nr=function(){var n=this;return this.mmt.nr(),this.umt.forEach((function(t){t.yn(),n.it(t),n.pmt(t)})),this.umt.clear(),this.fmt=void 0,this.vmt=NaN,this.gmt=NaN,t.prototype.nr.call(this)},i.yn=function(){return this.mmt.vn("tmt",this.wmt),this.mmt.yn(),t.prototype.yn.call(this)},n}(_p),zV=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.pmt=function(t){},i.addCueToTrack=function(t,n){if(t.LE!==qy.Mh){var i=n.U.map((function(t){return t.eit})).join("\n"),r=t.L.V>0?t.L.mC[t.L.V-1]:void 0;r&&r.U===i&&r.lF<=n.lF&&n.lF<=r.dF?r.dF=k.max(r.dF,n.dF):t.n8(n.lF,n.dF,i)}},i.doCreateTrack=function(t,n,i){return this.FW.UZ({zw:"webvtt",Lt:ep.kW,Ch:t,gs:n})},n}(HV),YV=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.pmt=function(t){this.FW.ZW(t)},i.addCueToTrack=function(t,n){t.UW(n)},i.doCreateTrack=function(t,n,i){return this.FW.ZR(ep.kW,t,t,n,!1,Ow.CEA608,void 0,i)},n}(HV);F(),Tt(),F(),Tt(),nn();var jV=/(.*)=(.*)/,KV=/(.*):(.*)/;function qV(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(jV);if(e){for(var u=tn(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(KV)){var v=tn(f.match(KV),3),d=v[1],l=v[2];switch(d){case"lang":o=l;break;case"er":a=Boolean(Number(l))}}}n.push({Det:Number(s),Net:o,dmt:a})}}return n}var JV={1:1,2:3,3:2,4:4},QV="urn:scte:dash:cc:cea-608:2015",$V="urn:scte:dash:cc:cea-708:2015";F(),Tt(),Rt(),F(),Tt(),Rt();var tF=function(t){function n(n,i,r){var e;return(e=t.call(this,Og.fC)||this).jht=n,e.ict=i,e.ymt=r,e}return It(n,t),n.prototype.ka=function(){return new nF(this.jht&&this.jht.wa)},n}(Ig),nF=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return It(n,t),n}(ma),iF=[ya.ho,Np.aC,ya._b],rF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Amt=function(t){var n=r.Smt,i=r.bmt(t.currentTime)||r.Udt.Jht;i&&n!==i&&(r.Smt=i,i.jht&&r._o(new tF(i.jht,null==i?void 0:i.wa,null==n?void 0:n.wa)))},r.aO=n,r.aO.bn(iF,r.Amt),r.Udt=i,r}It(n,t);var i=n.prototype;return i.bmt=function(t){for(var n=this.Udt.sat,i=0,r=n.Ht.Mat;i<r.length;i++){var e=r[i];if(n.Tct.yct(t,e))return e}},i.yn=function(){this.Ro(),this.aO.vn(iF,this.Amt)},n}(la);function eF(t,n,i){var r=new yy(Pc(t),new Uc),e=ky.eN(r,ly.kP);if(e){var u=ky.KD(e.$k),s=Hi(u,(function(t){return t.zw===ly.xP})),o=Hi(u,(function(t){return t.zw===ly.kD}));if(s){var a=ky.eN(s.$k,ly.RP);if(a){var c=ky.eN(a.$k,ly.DP);if(c){var h=ky.eN(c.$k,ly.NP);if(h){var f=ky.KD(h.$k),v=Hi(f,(function(t){return t.zw===ly.MP}));if(v){var d=ky.hN(v.$k,ly.MP,!1),l=new yy(Pc(d.$k),new Uc);l.zD(4);for(var g=ky.KD(l),w=[],m=0;m<g.length;m++){var y=g[m];if(y.zw===ly._D||y.zw===ly.vD)return;y.zw===ly.FP?w.push({Tmt:y,kmt:ly.vD}):y.zw===ly.hD&&w.push({Tmt:y,kmt:ly._D})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==w.length){var p=Vc(t),_=Hi(u,(function(t){return t.zw===ly.BP})),b=_?ky.eN(_.$k,ly.OP):void 0,k=b?function(t){var n=t.$k.Nb();return n.zD(4),n.zD(4),n.VD()}(b):1,A=Hi(f,(function(t){return t.zw===ly.LP}));A&&function(t,n,i){var r=oF(Pc(t),n),e=ky.tN(r,new Uc),u=e.$k;u.zD(4);for(var s=u.VD(),o=0;o<s;o++){u.zD(4),u.zD(4);var a=u.BD.Nb(),c=u.VD();ac(u.$k,a,c+i)}}(p,A,w.length),b&&function(t,n,i){var r=oF(Pc(t),n),e=ky.tN(r,new Uc),u=e.$k;u.zD(4),u.zD(4),ac(u.$k,u.BD,i)}(p,b,1),p=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=uF(e,n,new E(s))}return e}(p,e,o,n);for(var T=[e,s,a,c,h,v],S=w.length-1;S>=0;S--){var I=w[S];p=sF(p,I.Tmt,v,T,I.kmt,i)}return{Emt:p,xmt:{Imt:w.length,pL:k}}}}}}}}}}function uF(t,n,i){var r=qc(t,i,n.$k.$k.byteOffset+n.$k.$k.byteLength);return aF(oF(Pc(r),n),i.byteLength),r}function sF(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.$k.$k,e=dF(),u=new E(r.byteLength+e.byteLength),s=Pc(u);u.set(Lc(r),0),aF(s,e.byteLength),wc(s,new Uc(wF),n),u.set(e,r.byteLength),wc(s,new Uc(r.byteLength+lF),t.zw),i&&nc(s,new Uc(r.byteLength+gF),i);return u}(n,e,u),o=qc(t,s,n.$k.$k.byteOffset),a=Pc(o);!function(t,n){var i=ky.tN(t,new Uc),r=ky.hN(i.$k,ly.MP,!1),e=Pc(r.$k),u=e.getUint32(0);e.setUint32(0,u+n)}(oF(a,i),1);for(var c=0;c<r.length;c++){aF(oF(a,r[c]),s.byteLength)}return o}function oF(t,n){var i=n.$k.$k.byteOffset;return xc(t,i,i+n.$k.$k.byteLength)}function aF(t,n){var i=new Uc,r=oc(t,i);if(0===r);else if(1===r){i.Pb(4);var e=cc(t,i.Nb());hc(t,i,e.add(n))}else i.Db(0),ac(t,i,r+n)}F(),Tt(),Rt();var cF=function(t){function n(n){var i;return(i=t.call(this)||this).Pmt=[],i.Cmt=n,i}It(n,t);var i=n.prototype;return i.start=function(t){this.vJ=t},i.transform=function(t){this.F$(t),this.Rmt()},i.flush=function(){this.W$(),this.Rmt()},i.Y$=function(t){return t===ly.gD},i.j$=function(t){var n=Vc(Lc(t.$k.$k)),i=ky.tN(Pc(n),new Uc);n=hF(n,i,this.Cmt),this.Pmt.push(n)},i.J$=function(t){this.Pmt.push(t)},i.Rmt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new E(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new E(r,e,u)),n}(this.Pmt);t<n.length;t++){var i=n[t];this.vJ.enqueue(i)}ir(this.Pmt)},n}(gC);function hF(t,n,i){for(var r=t,e=ky.KD(n.$k),u=e.length-1;u>=0;u--){var s=e[u];s.zw===ly.pD&&(r=fF(r,s,n,i))}return r}function fF(t,n,i,r){var e=oF(Pc(t),n),u=ky.tN(e,new Uc),s=ky.KD(u.$k),o=Hi(s,(function(t){return t.zw===ly.wD}));if(!o)return t;var a=o.$k,c=a.BD.Nb(),h=a.VD(),f=Ey(h).flags;a.zD(4),f.Mb(wy.BASE_DATA_OFFSET_PRESENT)&&a.zD(8);var v=a.BD.Nb();if(f.Mb(wy.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=oc(a.$k,v);return ac(a.$k,a.BD,d+r.Imt),t}ac(a.$k,c,h|wy.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new E(4);Pc(l).setUint32(0,r.pL+r.Imt);for(var g=a.$k.byteOffset+v.nc,w=0,m=s.filter((function(t){return t.zw===ly.yD}));w<m.length;w++){vF(m[w],l.byteLength)}for(var y=0,p=[o,n,i];y<p.length;y++){var _=p[y];aF(oF(Pc(t),_),l.byteLength)}return qc(t,l,g)}function vF(t,n){var i=t.$k,r=Ey(i.VD()).flags;if(i.zD(4),r.Mb(my.DATA_OFFSET_PRESENT)){var e=i.Nb().VD();ac(i.$k,i.BD,e+n)}}var dF=Ti((function(){return new E([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),lF=16,gF=64,wF=4,mF=[Qy.fa,ya.sb,ya.ob,ya.ub,ya.Ey],yF=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d){var l;return(l=t.call(this)||this).Bdt=void 0,l.Udt=void 0,l.rpt=!1,l.GW=new mr,l.ipt=void 0,l.Lmt=void 0,l.Krt=void 0,l.wlt=new bB,l.Xmt=void 0,l.Hmt=void 0,l.Dmt=new Wk([]),l.Wmt=function(){!l.wat()&&l.fct()&&l.Omt.Wmt()},l.bdt=function(t){l.Bdt.bdt(t),l._o(new FB(t.ict,t.ymt))},l.hpt=function(t){l.dpt(t)},l.jS=function(){var t=_F;return _F+=1,t}(),l.Q3=n,l.WW=e,l.XH=u,l.Omt=i,l.aO=r,l.Rut=s,l.FW=o,l.Zmt=a,l.plt=c,l.llt=c?OA(n,c):void 0,l.Wlt=h,l.npt=f,l.ldt=v,l.MZ=d,l}It(n,t);var i=n.prototype;return i.Fmt=function(){var t;return null==(t=this.Bdt)?void 0:t.nct.Zct.Tn},i.wat=function(){return void 0!==this.Udt&&this.Udt.wat},i.fct=function(){if(void 0===this.Lmt)return!1;var t=this.Mmt().gB(),n=t.kB(this.Lmt);return!(n<0)&&t.Sn(n)!==this.Lmt},i.Y3=function(){var t=this.Omt._ct,n=this.Mmt().jn(t);this.Lmt=n.V>0?n.Tn(n.V-1):0;var i=t.Tn(0);isFinite(i)&&this.Lmt<i&&this.m$(this.Lmt,i),this.Wmt()},i.adt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return u=i.Eot.aW,s=e.Umt(t,n,i,u,r),[4,Pr([e.Gmt(t,n,i,u,r),s])];case 1:return o=tn.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.Umt=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:return Gv(i.SY)?t.zw!==nC.Ik?[3,2]:[4,t.$k.Tut().Bk(e)]:[2];case 1:return o=h.sent(),s=new E(o),[3,3];case 2:s=new E(t.$k.eht),h.label=3;case 3:return a=[],void 0!==u.Zmt&&(u.Zmt.adt(s,n.lF,r),a.push(u.Zmt)),void 0!==u.Hmt&&(c=i.Gct(n),u.Hmt.adt(s,n.lF,n.dF,r,i.jht,c),a.push(u.Hmt)),pp(u.SI,a),[2]}}))}))()},i.Gmt=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o,a,c,h,f,v,d;return Ot(this,(function(l){switch(l.label){case 0:return kr(e),t.zw===nC.Ik?(a=t.$k.Ok,u.Xmt&&(a=function(t,n){return t.pipeThrough(new jd(new cF(n)))}(a,u.Xmt)),o={zw:nC.Ik,$k:a}):(c=new E(t.$k.eht),u.Xmt&&(c=function(t,n){for(var i=Vc(t),r=new yy(Pc(i),new Uc),e=ky.KD(r),u=e.length-1;u>=0;u--){var s=e[u];s.zw===ly.gD&&(i=hF(i,s,n))}return i}(c,u.Xmt)),o={zw:nC.NJ,$k:c}),h={$it:n.lF,ct:n.ct,aW:r,A2:null==(s=i.jht)?void 0:s.OC},f=u.Krt.SI,[4,u.zmt()];case 1:return l.sent(),[4,u.Krt.r3(o,h,e)];case 2:return l.sent(),v=u.Krt.SI,d=u.Krt.J3,[2,pF(f,v,d,n)]}}))}))()},i.Tot=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v;return Ot(this,(function(d){switch(d.label){case 0:return kr(i),r.Hmt&&r.Hmt.Tot(new E(t.eht)),s=new E(t.eht),r.qmt(n)&&(o=r.Omt.Ymt,a=[],o&&(a=er(o.Kmt,(function(t){return t.sZ})),c=o.jmt.NU?sI(o.jmt.NU):void 0),(h=eF(s,a,c))?(r.Xmt=h.xmt,s=h.Emt):r.Xmt=void 0),(null==(e=r.Krt)?void 0:e.kd)&&r.Krt.kd.Fk!==n.Fk?(f={Fk:n.Fk},r.Krt.ZJ(f)?[4,r.Krt.XJ(f)]:[3,2]):[3,2];case 1:d.sent(),kr(i),d.label=2;case 2:return v={zw:nC.NJ,$k:s},[4,r.zmt()];case 3:return d.sent(),[4,r.Krt.a3(v,{A2:null==(u=n.jht)?void 0:u.OC},i)];case 4:return d.sent(),[2]}}))}))()},i.hdt=function(t,n,i){return this.Krt.rT(t,n,i)},i.m$=function(t,n){this.Krt.i4(t,n)},i.p$=function(t,n){this.Krt.s4(t,n)},i.Mmt=function(){return this.Krt?this.Krt.SI:FA.WB()},i.Nmt=function(){return this.Krt?this.Krt.J3:FA.WB()},i.Qmt=function(){return this.Krt?this.Krt.rT(0,1/0):et.resolve()},i.Jmt=function(){return this.Krt&&(this.Krt.vn($R.PJ,this.Ds),this.Krt=void 0),et.resolve()},i.$mt=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return r=iB.blt(null!=(i=t.Edt)?i:t.Mat,n.llt),e=r.SY,n.Krt||(n.Krt=n.Omt.tpt(e),n.Krt.bn($R.PJ,n.Ds),n.wlt=new _B(n.Krt)),[4,n.zmt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=mr.hp([n]);this.GW.np(),this.GW=i;var r=this.ept(t,this.ipt,i.ep);return this.ipt=r,r},i.spt=function(t){if(!tr(this.npt,Ow.CEA608)){var n=t.nct.fdt;if(function(t){return t.some((function(t){return t.G9===QV||t.G9===$V}))}(n)){this.Hmt=new YV(this.FW);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.G9===QV)for(var e=uL(r.Fx),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.G9===$V)for(var o=qV(r.Fx),a=0;a<o.length;a++){var c=o[a];if(c.Det<=4){var h=JV[c.Det];n.push(ao({},c,{Det:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.Hmt.cmt(e)}this.Dmt.aZ(this.Hmt.Z)}}},i.ept=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return kr(i),n?[4,n.catch(_i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Bdt===t&&r.rpt?[2]:[4,r.opt()];case 3:return e.sent(),kr(i),[4,r.Qmt()];case 4:return e.sent(),kr(i),t?[4,r.VW(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.opt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return n=t.Bdt,t.Bdt=void 0,t.rpt=!1,t.Lmt=void 0,n&&(n.vn(Og.vC,t.hpt),n.Ndt(!1),n.vn(Og.NO_QUALITY,t.Ds)),t.upt&&(t.upt.yn(),t.upt=void 0),t.Udt?[4,t.Udt.yn()]:[3,2];case 1:i.sent(),t.Udt=void 0,i.label=2;case 2:return t.Hmt?(t.Dmt.lZ(t.Hmt.Z),[4,t.Hmt.yn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.VW=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Bdt=t,n.spt(t),t.bn(Og.vC,n.hpt),t.bn(Og.NO_QUALITY,n.Ds),[4,n.$mt(t)];case 1:return i.sent(),n.Udt=n.cpt(t),n.Udt.bn(mF,n.Ds),n.Udt.bn("Qht",n.Wmt),n.Udt.rat=t.Edt,n.upt=new rF(n.aO,n.Udt),n.upt.bn(Og.fC,n.bdt),t.Ndt(!0),n.rpt=!0,[2]}}))}))()},i.cpt=function(t){return new pB(this,this.aO,this.aO,this.WW,this.XH,this.ldt,this.Rut,this.plt,this.llt,this.wlt,this.Wlt,this.MZ).ist(t)},i.nr=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.GW.np(),n.ipt?[4,n.ipt.catch(_i)]:[3,2];case 1:i.sent(),n.ipt=void 0,i.label=2;case 2:return[4,n.opt()];case 3:return i.sent(),t?[3,5]:[4,n.Qmt()];case 4:i.sent(),i.label=5;case 5:return[4,n.Jmt()];case 6:return i.sent(),[2]}}))}))()},i.lpt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.opt()];case 1:return n.sent(),[2]}}))}))()},i.wdt=function(t){var n;null==(n=this.Ldt)||n.wdt(t)},i.gdt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return[4,i.xat()];case 1:if(a.sent(),null==(r=i.Ldt)||r.gdt(n),!((u=null==(e=i.Udt)?void 0:e.sat.Tct.mct(t))&&u.V>0))return[3,5];s=0,a.label=2;case 2:return s<u.V?[4,null==(o=i.Krt)?void 0:o.rT(u.Sn(s),u.Tn(s))]:[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[4,i.Rat()];case 6:return a.sent(),[2]}}))}))()},i.dpt=function(t){var n=this,i=t.Ht.Edt;return void 0===i||i.some((function(t){return n.wlt.ZJ(t)}))?this.fpt(t):void this._o(new ma("_pt"))},i.fpt=function(t){this.Udt&&this.Bdt&&this.Bdt===t.Ht&&(this.Udt.rat=this.Bdt.Edt)},i.xat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Udt?[4,n.Udt.xat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Rat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Udt?[4,n.Udt.Rat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i._Q=function(){var t=this.SI.OB;return this.XH._Q(t)},i.zmt=function(){var t=this.Omt._ct,n=k.max(0,t.Sn(0)-.1),i=t.Tn(0)+.01;return this.Krt.T3(n,i)},i.qmt=function(t){return!!Gv(t.SY)&&(!!this.Omt.V9||void 0!==this.Omt.Ymt)},i.Cat=function(t){if(cw(this.Q3)){var n=this.Udt,i=t.Udt;void 0!==n&&void 0!==i&&n.Cat(i,this.Sn,this.Tn)}},i.yn=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:n.Ro(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.nr(t)];case 2:return i.sent(),[4,n.lpt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},Nt(n,[{key:"Ldt",get:function(){return this.Bdt}},{key:"o",get:function(){return this.jS}},{key:"j3",get:function(){return this.Q3}},{key:"nt",get:function(){return this.Dmt}},{key:"Xdt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===aw.wE?r/i:n}(this.Q3)}},{key:"Gdt",get:function(){return 1/this.Xdt}},{key:"Rt",get:function(){return Boolean(this.Bdt&&this.Bdt.Rt)}},{key:"v$",get:function(){var t=this.Udt?this.Udt.sat.v$.vct:FA.WB();return this.Nmt().AB(t)}},{key:"SI",get:function(){var t=this.Mmt(),n=this.Lmt;return void 0!==n&&t.gB().wr(n)&&(t=t.AB(FA.FB(n))),t}},{key:"cct",get:function(){return uO(this.Mmt(),this.v$.AB(this.Bmt)).bB(2*this.Gdt)}},{key:"Bmt",get:function(){var t=this.Lmt;if(t&&isFinite(t)){var n=this.Omt.Tn;if(isFinite(n)&&t<n)return new FA([t,n],[!1,!0])}return FA.WB()}},{key:"cR",get:function(){var t=this.Bdt;if(!t)return FA.FB(0);var n=t.nct.qdt,i=t.nct.Ydt;if(void 0===i||void 0===n)return FA.FB(0);var r=i,e=n>=t.nct.Zct.Tn?k.max(n,this.Tn):n;return e=k.max(r,e),FA.VB(r,e).gB()}},{key:"pZ",get:function(){return this.cct.BB(this.RI)}},{key:"_ct",get:function(){return this.Omt._ct}},{key:"RI",get:function(){return this.aO.RI}},{key:"Sn",get:function(){return this.Bdt?this.Bdt.nct.Zct.Sn:NaN}},{key:"Tn",get:function(){var t=this.Fmt(),n=this.Lmt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this.Omt.Ti}},{key:"ji",get:function(){return this.Omt.ji}},{key:"Vmt",get:function(){return this.Lmt}}]),n}(la);function pF(t,n,i,r){var e,u,s=n.TB(t.gB());return 0===(s=s.TB(i.TB(n))).V?u=e=r.dF:(e=s.Sn(0),u=s.Tn(0)),{jlt:e,Qlt:u}}var _F=0;var bF=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l){var g,w,m;return(g=t.call(this)||this).LO=new ow,g.FO=new ow,g.Bpt=[],g.Mpt=new mr,g.Cpt=!0,g.aft=[],g.ipt=void 0,g.Tpt=ki((function(){g._o(new oC(g.RI))}),350),g.Fpt=function(t){var n=t.jpt.Ldt;if(n)for(var i=0,r=g.Bpt;i<r.length;i++){var e,u=r[i];u.Ldt&&u.Ldt!==n&&u.zw===(null==(e=n.Adt)?void 0:e.zw)&&(u.vn("Opt",g.Fpt),u.Ldt.Rt=!1,u.bn("Opt",g.Fpt))}g.Ds(t)},g.Gpt=function(t){br(t)||g._o(new xk(gd(t,vd.MEDIA_LOAD_ERROR)))},g.Ppt=function(t){var n=t.f9;n&&g.Zpt(n).catch(g.Gpt)},g.Qpt=function(t){g.Hpt(t).catch(g.Gpt)},g.Npt=function(t){for(var n=0,i=g.aft;n<i.length;n++){var r=function(n,i){var r=i[n],e=r.$G;if(void 0===e||0===e.length)return"continue";var u=t.Sb;e.filter((function(t){return t.Z9&&zc(new E(u),new E(t.Z9))})).forEach((function(t){r.Jpt(t)}))},e=i[n].Ldt;if(void 0!==e)for(var u=0,s=e.Mat;u<s.length;u++)r(u,s)}},g.Dpt=function(t){var n=t.f9;if(n)for(var i=0,r=g.Upt;i<r.length;i++)for(var e=r[i],u=0,s=e.nct.Mat;u<s.length;u++){var o=s[u],a=(o.$G||[]).some((function(t){return t.NU&&zc(Oc(n),sI(t.NU))}));o.Ddt&&a&&(o.Ddt=!1,o.jht&&e.wdt(o.jht))}},g.WW=r,g.XH=e,g.Rut=u,g.aO=n,g.eF=Tw(),g.Bpt=[],g.ppt=o,g.Ept=a,g.MZ=l,g.FW=h,g.wpt=new LB(n,r,e,u,h,null==(m=null==s||null==(w=s.dash)?void 0:w.segmentRelativeVttTiming)||m),g.Hl=new Wk([g.wpt.nt]),g.Wlt=v,g.npt=d,g.ppt.bn(oO.qht,g.Ds),g.xu=c,g.C3=i,g.ldt=s.lowLatency,g.Zmt=f,g.bpt=s.abr,g.aO.bn(ya.gb,g.Ppt),g.aO.bn(ya.Ry,g.Dpt),g.aO.bn(ya.LICENSE_REQUEST_GENERATED,g.Npt),g}It(n,t);var i=n.prototype;return i.nQ=function(t,n){return this.vpt(t,n)},i.vpt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.gpt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.ppt.mpt,a.label=2;case 2:return u<s.length?(o=s[u]).zw!==aw.Rk?[3,5]:o.Mat&&0!==o.Mat.length?[3,3]:(i._o(new MB("No supported representation found in the AdaptationSet with mimetype : "+o.zw)),[3,5]):[3,6];case 3:return[4,i.wpt.VW(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.ypt=function(t){return new yF(t,this,this.aO,this.WW,this.XH,this.Rut,this.FW,this.Zmt,this.bpt,this.Wlt,this.npt,this.ldt,this.MZ)},i.wat=function(){return this.aft.some((function(t){return t.wat()}))},i.fct=function(){return 0!==this.aft.length&&this.aft.every((function(t){return t.fct()}))},i.Wmt=function(){this.Apt()&&this._o(new VB)},i.tpt=function(t){if(Qo(t,"audio")){if(this.C3.d4)return this.C3.d4}else if(Qo(t,"video")&&this.C3.f4)return this.C3.f4;throw new p("Cannot allocate source buffer for mime type "+t)},i.Spt=function(t){t.bn([Qy.fa,ya.Jy,ya.sb,ya.ob,ya.ub,ya.Ey],this.Ds),t.bn($R.PJ,this.Tpt),t.bn("_pt",this.Ds)},i.kpt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,et.all(n.aft.map((function(n){return n.yn(t)})))];case 1:return i.sent(),ir(n.aft),[2]}}))}))()},i.Apt=function(){if(this.wat())return!1;if(!this.fct())return!1;var t=this.SI;if(0===t.V)return!1;var n=this.RI;if(this.xpt)return t.Sn(t.V-1)<=n;var i=t.jn(this._ct);if(0===i.V)return!0;var r=i.Sn(i.V-1),e=i.Tn(i.V-1)+.1;return r<=n&&n<=e},i.xat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Cpt?[2]:(n.Cpt=!0,[4,et.all(n.aft.map((function(n){return n.xat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.Rat=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Cpt?(n.Cpt=!1,[4,et.all(n.aft.map((function(n){return n.Rat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.yn=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.aO.vn(ya.gb,n.Ppt),n.aO.vn(ya.Ry,n.Dpt),n.aO.vn(ya.LICENSE_REQUEST_GENERATED,n.Npt),n.Ro(),n.ppt.vn(oO.qht,n.Ds),n.Mpt.np(),n.ipt?[4,n.ipt.catch(_i)]:[3,2];case 1:i.sent(),n.ipt=void 0,i.label=2;case 2:return[4,n.kpt(t)];case 3:return i.sent(),[4,n.wpt.yn()];case 4:return i.sent(),n.LO.yn(),n.FO.yn(),n.Hl.yn(),n.Lpt(),[2]}}))}))()},i.gpt=function(t){this.Bpt.push(t),t.bn("Opt",this.Fpt);for(var n=t.zw===aw.wE?this.LO:this.FO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.Vpt=function(t){for(var n=t.zw===aw.wE?this.LO:this.FO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.yn()}t.yn(),Ji(this.Bpt,t)},i.Lpt=function(){for(var t=this.Bpt.length-1;t>=0;t--)this.Vpt(this.Bpt[t])},i.$n=function(t,n){return this.Mpt.np(),this.Mpt=mr.hp([n]),this.ipt=Er(this.ix(t,this.ipt,this.Mpt.ep),this.Mpt).catch(this.Gpt),this.ipt},i.ix=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v;return Ot(this,(function(d){switch(d.label){case 0:return n?[4,n.catch(_i)]:[3,2];case 1:d.sent(),d.label=2;case 2:kr(i),e=[],u=r.aft.slice(),s=t.slice(),ir(r.aft),o=0,d.label=3;case 3:return o<u.length?(a=u[o],(c=a.Ldt)&&tr(s,c)?(r.aft.push(a),e.push(a.$n(c,i)),Ji(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Hl.lZ(a.nt),[4,a.yn()];case 5:d.sent(),kr(i),d.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.ypt(f.uat),r.Hl.aZ(v.nt),r.aft.push(v),r.Spt(v),e.push(v.$n(f,i));return[4,et.all(e)];case 8:return d.sent(),[2]}}))}))()},i.XJ=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return r.C3===i?[3,2]:(r.C3=i,[4,r.kpt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.Ept=n,[2]}}))}))()},i.Zpt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:i=0,r=n.aft,h.label=1;case 1:if(!(i<r.length))return[3,6];if(e=r[i],void 0===(u=e.Ldt))return[3,5];s=0,o=u.nct.Mat,h.label=2;case 2:return s<o.length?(a=o[s],c=a.$G||[],!c.some((function(n){return n.NU&&zc(Oc(t),sI(n.NU))}))||a.Ddt?[3,4]:(a.Ddt=!0,[4,e.gdt(a,a.jht)])):[3,5];case 3:h.sent(),n._o(new bx(new hw(vd.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),h.label=4;case 4:return s++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i.Hpt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:i=0,r=n.aft,c.label=1;case 1:if(!(i<r.length))return[3,6];if(e=function(i,r){var e,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return e=r[i],s=e.$G,o=e.jht,void 0===s||0===s.length||void 0===o?[2,"continue"]:s.some((function(t){return tr(e.Xpt,t)}))?(a=n.zpt(s,t.Ab),o.Lst===a?[3,3]:a?(u.wdt(o),[3,3]):[3,1]):[2,"continue"];case 1:return[4,u.gdt(e,o)];case 2:c.sent(),c.label=3;case 3:return[2]}}))},u=r[i],void 0===(s=u.Ldt))return[3,5];o=0,a=s.Mat,c.label=2;case 2:return o<a.length?[5,Bt(e(o,a))]:[3,5];case 3:c.sent(),c.label=4;case 4:return o++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i.zpt=function(t,n){var i=!1,r=t.reduce((function(t,n){return!n.NU||tr(t,n.NU)?t:Kt(t).concat([n.NU])}),[]);return 0===r.length||(n.Ub((function(e,u){"usable"===e&&((t.some((function(t){return t.NU&&zc(Oc(u),sI(t.NU))}))||Yc(u,th)&&1===r.length&&1===n.Ob)&&(i=!0))})),i)},i.Cat=function(t){var n=function(n,i){var r=i[n],e=Hi(t.aft,(function(t){return t.j3===r.j3}));void 0!==e&&r.Cat(e)};if(void 0!==t){var i=t.ppt;if(this.ppt.qpt===i||this.ppt.Ypt===i)for(var r=0,e=this.aft;r<e.length;r++)n(r,e)}},Nt(n,[{key:"OC",get:function(){return this.eF}},{key:"ct",get:function(){return this.aO.ct}},{key:"Rt",get:function(){return this.aft.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.LO}},{key:"SI",get:function(){if(0===this.aft.length)return FA.WB();for(var t=this.aft.map((function(t){return t.SI})),n=FA.VB(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.jn(r)}if(0===n.V)return n;if(this.fct()){var e=n.jn(this._ct);if(0===e.V)return n;for(var u=e.Tn(e.V-1),s=0,o=0,a=this.aft;o<a.length;o++){var c=a[o];s=k.max(s,c.Vmt)}u<=s&&(n=n.AB(new FA([u,s],[!0,!0])))}return n}},{key:"V9",get:function(){return this.aO.V9}},{key:"RI",get:function(){return this.aO.RI}},{key:"Ymt",get:function(){return this.Ept}},{key:"Tn",get:function(){if(this.xpt){var t=this.ct;if(!S(t)&&t!==Ci)return t}if(!this.aft.length)return NaN;for(var n=0,i=0,r=this.aft;i<r.length;i++){var e=r[i];n=k.max(n,e.Tn)}return n}},{key:"xpt",get:function(){var t=this.ppt.tdt;if(t.zw===OB.qW)return!1;var n=t.Ipt;return 0!==n.length&&this.ppt===n[n.length-1]}},{key:"cR",get:function(){if(!this.aft.length)return FA.WB();for(var t=new FA([0,1/0]),n=0,i=this.aft;n<i.length;n++){var r=i[n];t=t.jn(r.cR)}if(t.V>0&&this.xpt&&isFinite(this.ct)){var e=this.ct,u=t.Tn(t.V-1);e>u&&(t=t.AB(FA.VB(u,e).gB()))}return t}},{key:"Cc",get:function(){return this.ppt}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.FO}},{key:"ji",get:function(){return this.xu.ji}},{key:"Ti",get:function(){return this.xu.Ti}},{key:"pZ",get:function(){var t=this.RI,n=this.SI,i=n.kB(t);if(-1!==i)return{Sn:n.Sn(i),Tn:n.Tn(i)}}},{key:"_ct",get:function(){var t=this.ppt.Sn,n=this.xpt?1/0:this.ppt.Tn;return FA.VB(t,n)}},{key:"Rpt",get:function(){return this.Cpt}},{key:"Wpt",get:function(){return this.Bpt.map((function(t){return t.Ldt})).filter(Yn)}},{key:"Upt",get:function(){return this.aft.map((function(t){return t.Ldt})).filter(Yn)}},{key:"Kpt",get:function(){return this.Bpt}}]),n}(la);F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),nn(),F(),Tt(),Dt();var kF=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,AF=function(){function t(t){this.$pt=t}var n=t.prototype;return n.twt=function(){return this.$pt},n.ewt=function(){return 1e3*this.$pt},t.cN=function(n){var i=n.match(kF);if(!i)throw new p("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},Nt(t,[{key:"Rft",get:function(){return km.GV(this.$pt,1e3)}}]),t}();F(),Tt();var TF=function(t){return t.iwt="progressive",t.swt="interlaced",t.oE="unknown",t}({});F(),Tt();var SF=function(){function t(t,n){this.nwt=t,this.rwt=n}return t.prototype.VF=function(){return this.nwt/this.rwt},t}();F(),Tt();var EF=1886614376;function IF(t){var n=sI(To),i=t.byteLength,r=12+n.length+4+i,e=new E(r),u=Pc(e),s=new Uc;return ac(u,s,r),ac(u,s,EF),ac(u,s,0),nc(u,s,n),ac(u,s,i),nc(u,s,new E(t)),e}var RF=/^(?:true|false)$/i,CF=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function NF(t){if(void 0!==t)return AF.cN(t)}function DF(t){if(void 0!==t){var n=t.match(CF);if(!n)throw new p("The given value could not be parsed as a valid Date");var i=tn(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],v=i[10],d=i[11],l=("-"===r?-1:1)*Number(e),g=Number(u)-1,w=Number(s),m=Number(o),y=Number(a),_=Number(c),b=Number("0."+(h||"")),A=k.round(1e3*b);if(f)y-=("-"===f?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(l,g,w,m,y,_,A));if(S(T.getTime()))throw new p("The given value could not be parsed as a valid Date");return T}}function xF(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[LF(n[1]),LF(n[2])]}}function PF(t){if(void 0!==t){if(!S(Number(t)))try{return pe.fromString(t,!0)}catch(t){}throw new p("The given value could not be parsed as a valid unsigned long")}}function LF(t){if(void 0!==t){var n=Number(t);if(!S(n))return n;throw new p("The given value could not be parsed as a valid Number")}}function MF(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!S(i)&&!S(r))return new SF(i,r);throw new p("The given value could not be parsed as a valid frame rate")}}function OF(t){if(void 0!==t){if(RF.test(t))return"true"===t.toLowerCase();if(!S(A(t)))return Boolean(A(t));throw new p("The given value could not be parsed as a valid Boolean.")}}function BF(t){return{Xu:t.jx,owt:OF(t.Qx("availabilityTimeComplete")),hwt:LF(t.Qx("availabilityTimeOffset"))}}function VF(t){return t.map(BF)}function FF(t){var n,i=KF(t),r=function(t,n,i,r){var e=t.Jx(i,n);return void 0===e&&(e=t.Qx(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=xy(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Jc(e.jx)),!n){var u=xy(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=Jc(t.jx);return IF(n)}(u))}return{NU:r,Z9:n,G9:i.G9,Fx:i.Fx}}function UF(t){return{awt:t.Qx("sourceURL"),Kat:xF(t.Qx("range"))}}function WF(t,n){var i=t.Qx("d"),r=t.Qx("t"),e=LF(t.Qx("r"));n.push({ct:i,lF:r,uwt:e})}function ZF(t){return{Mut:t.Qx("index"),cwt:xF(t.Qx("indexRange")),LN:t.Qx("media"),lwt:xF(t.Qx("mediaRange"))}}function XF(t){var n=HF(t),i=function(t){var n=t.map(ZF);return n.length>0?n:void 0}(t.Hx("SegmentURL"));return ao({},n,{dwt:i,fwt:t.Qx("xlink:href"),_wt:t.Qx("xlink:actuate")})}function GF(t){var n=OF(t.Qx("availabilityTimeComplete")),i=LF(t.Qx("availabilityTimeOffset")),r=xF(t.Qx("indexRange")),e=OF(t.Qx("indexRangeExact")),u=t.Hx("Initialization");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Xx+" element can not have more than one Initialization element.");var s=1===u.length?UF(u[0]):void 0,o=PF(t.Qx("presentationTimeOffset")),a=t.Hx("RepresentationIndex");if(a.length>1)throw new p("The provided MPEG-DASH document's "+t.Xx+" element can not have more than one RepresentationIndex element.");return{owt:n,hwt:i,cwt:r,vwt:e,gwt:s,mwt:o,pwt:1===a.length?UF(a[0]):void 0,wwt:NF(t.Qx("timeShiftBufferDepth")),RN:LF(t.Qx("timescale"))}}function HF(t){var n=GF(t),i=t.Hx("BitstreamSwitching"),r=i.length>0?UF(i[0]):void 0,e=LF(t.Qx("duration")),u=t.Hx("SegmentTimeline");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Xx+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Hx("S"),r=0;r<i.length;r++)WF(i[r],n);return n}(u[0]):void 0;return ao({},n,{ywt:r,ct:e,Eot:s,bwt:LF(t.Qx("startNumber")),Awt:LF(t.Qx("endNumber"))})}function zF(t){return{Swt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(LF)):1===n.length?n.map(LF)[0]:void 0}}(t.Qx("audioSamplingRate")),Frt:t.Qx("codecs"),Twt:OF(t.Qx("codingDependency")),$G:function(t){if(0!==t.length)return t.map(FF)}(t.Hx("ContentProtection")),kwt:function(t){return t.map(qF)}(t.Hx("EssentialProperty")),Ewt:function(t){return t.map(JF)}(t.Hx("SupplementalProperty")),Xdt:MF(t.Qx("frameRate")),Ti:LF(t.Qx("height")),xwt:LF(t.Qx("maxPlayoutRate")),Iwt:LF(t.Qx("maximumSAPPeriod")),SY:t.Qx("mimeType"),Rwt:t.Qx("profiles"),Cwt:t.Qx("sar"),Pwt:function(t){switch(t){case TF.iwt:case TF.swt:case TF.oE:return t;default:return}}(t.Qx("scanType")),Dwt:t.Qx("segmentProfiles"),Nwt:LF(t.Qx("startWithSAP")),ji:LF(t.Qx("width"))}}function YF(t){var n=VF(t.Hx("BaseURL")),i=t.Hx("SegmentBase");if(i.length>1)throw new p("The provided MPEG-DASH document's "+t.Mx+" element can not have more than one SegmentBase element.");var r=1===i.length?GF(i[0]):void 0,e=function(t){var n=t.map(XF);return n.length>0?n:void 0}(t.Hx("SegmentList")),u=t.Hx("SegmentTemplate");if(u.length>1)throw new p("The provided MPEG-DASH document's "+t.Mx+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return ao({},HF(t),{Mwt:t.Qx("bitstreamSwitching"),Lwt:t.Qx("index"),Bwt:t.Qx("initialization"),Owt:t.Qx("media")})}(u[0]):void 0;return{Fwt:n,Vwt:r,Wwt:e,Uwt:s}}function jF(t){var n=zF(t),i=YF(t),r=LF(t.Qx("bandwidth")),e=t.Qx("dependencyId"),u=t.Qx("id"),s=t.Qx("mediaStreamStructureId"),o=LF(t.Qx("qualityRanking"));if(t.Hx("SegmentBase").length>1)throw new p("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return ao({},n,i,{jG:r,Gwt:e,o:u,Zwt:s,Hwt:o})}function KF(t){return{G9:t.Qx("schemeIdUri"),Fx:t.Qx("value")}}function qF(t){return KF(t)}function JF(t){return KF(t)}function QF(t){return KF(t)}function $F(t){return KF(t)}function tU(t){var n,i=zF(t),r=YF(t),e=function(t){return t.map($F)}(t.Hx("Accessibility")),u=OF(t.Qx("bitstreamSwitching")),s=t.Qx("contentType"),o=LF(t.Qx("group")),a=LF(t.Qx("id")),c=(null==(n=t.Hx("Label")[0])?void 0:n.jx)||"",h=t.Qx("lang"),f=LF(t.Qx("maxBandwidth")),v=MF(t.Qx("maxFrameRate")),d=LF(t.Qx("maxHeight")),l=LF(t.Qx("maxWidth")),g=LF(t.Qx("minBandwidth")),w=MF(t.Qx("minFrameRate")),m=LF(t.Qx("minHeight")),y=LF(t.Qx("minWidth")),_=t.Qx("par"),b=function(t){return t.map(jF)}(t.Hx("Representation"));if(0===b.length)throw new p("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,A=function(t){return t.map(QF)}(t.Hx("Role")),T=OF(t.Qx("segmentAlignment"))||!1,S=LF(t.Qx("selectionPriority")),E=S||1,I=OF(t.Qx("subsegmentAlignment"))||!1;try{k=LF(t.Qx("subsegmentStartsWithSAP"))}catch(t){}return ao({},i,r,{fdt:e,ywt:u,Fk:s,Adt:o,o:a,Ch:c,gs:h,Xwt:f,zwt:v,qwt:d,Ywt:l,Kwt:g,Qwt:w,Jwt:m,$wt:y,tyt:_,Mat:b,tft:A,eyt:T,vH:E,iyt:I,syt:k,nyt:t.Qx("xlink:actuate")||"onRequest",ryt:t.Qx("xlink:href")})}function nU(t){var n=PF(t.Qx("presentationTime"))||pe.ZERO,i=PF(t.Qx("duration")),r=LF(t.Qx("id")),e=function(t){for(var n=t.Kx,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].Fx;return i}(t),u=t.jx;return{VL:n,ct:i,o:r,Kx:e,$k:""!==u.trim()?u:t.Qx("messageData")||""}}function iU(t){return{ryt:t.Qx("xlink:href"),nyt:t.Qx("xlink:actuate"),G9:t.Qx("schemeIdUri"),Fx:t.Qx("value"),RN:LF(t.Qx("timescale")),mwt:PF(t.Qx("presentationTimeOffset")),TY:t.Hx("Event").map(nU)}}function rU(t){var n=YF(t),i=t.Hx("AssetIdentifier");if(i.length>1)throw new p("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return KF(t)}(i[0]):void 0,e=function(t){return t.map(tU)}(t.Hx("AdaptationSet")),u=OF(t.Qx("bitstreamSwitching")),s=NF(t.Qx("duration")),o=function(t){return t.map(iU)}(t.Hx("EventStream")),a=t.Qx("id"),c=NF(t.Qx("start")),h=(t.Hx("Subset"),t.Qx("xlink:href"));return ao({},n,{ift:e,oyt:r,ywt:u,ct:s,hyt:o,o:a,Sn:c,nyt:t.Qx("xlink:actuate"),ryt:h})}function eU(t){var n=t.Qx("schemeIdUri");if(n)return{G9:n,Fx:t.Qx("value")}}function uU(t,n){var i=DF(t.Qx("availabilityEndTime")),r=DF(t.Qx("availabilityStartTime")),e=VF(t.Hx("BaseURL")),u=t.Qx("id"),s=function(t){return t.map((function(t){return""+t.jx}))}(t.Hx("Location")),o=NF(t.Qx("maxSegmentDuration")),a=NF(t.Qx("maxSubsegmentDuration")),c=NF(t.Qx("mediaPresentationDuration")),h=(t.Hx("Metrics"),NF(t.Qx("minBufferTime")));if(!h)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=NF(t.Qx("minimumUpdatePeriod")),v=function(t){return t.map((function(t){return rU(t)}))}(t.Hx("Period"));if(!v.length)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Qx("profiles");if(!d)throw new p("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var l=DF(t.Qx("publishTime")),g=NF(t.Qx("suggestedPresentationDelay")),w=NF(t.Qx("timeShiftBufferDepth")),m=function(t){switch(t){case OB.zW:case OB.qW:return t;default:return}}(t.Qx("type")),y=function(t){for(var n=[],i=0;i<t.length;i++){var r=eU(t[i]);r&&n.push(r)}return n}(t.Hx("UTCTiming")),_=function(t){if(0===t.length)return;var n=t[0],i=n.Hx("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=LF(n.Qx("target"));if(void 0===i)return;var r=LF(n.Qx("min")),e=LF(n.Qx("max"));return{ayt:i,BV:r,LV:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=LF(n.Qx("max")),r=LF(n.Qx("min"));return{BV:r,LV:i}}(n.Hx("PlaybackRate"));return{uyt:r,tR:e}}(t.Hx("ServiceDescription"));return{cyt:i,lyt:r,Fwt:e,o:u,dyt:s,fyt:n,_yt:o,vyt:a,gyt:c,myt:h,pyt:f,Ipt:v,Rwt:d,wyt:l,yyt:g,wwt:w,zw:m,byt:y,Ayt:_}}var sU=function(){function t(){}return t.prototype.Syt=function(t,n){return function(t,n){if(!t)throw new p("The provided MPEG-DASH document does not contain a valid MPD root element.");return uU(t,n)}(Kn.Nx(t).sI,n)},t}();function oU(t){return{get bandwidth(){return t.jG},get codecs(){return t.Frt},get id(){return t.o},get uid(){return t.OC},get name(){return t.Ch},get averageBandwidth(){return t.Tyt},get label(){return t.Ch},set label(n){t.Ch=qg(n)},get available(){return t.Lst},get score(){return t.kyt},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}function aU(t){return Ug(oU(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.Xdt},get firstFrame(){return t.Eyt}})}function cU(t){return Ug(oU(t),{get audioSamplingRate(){return t.Swt}})}F(),Tt(),Dt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Rt();var hU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return It(n,t),n}(ma),fU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.jG=i,s.Frt=r,s.Iyt=u,s.OC=Iw(),s.iF=e||"",s.xyt=!0,s}It(n,t);var i=n.prototype;return i.LW=function(){this.xyt=!1,this._o(new hU(this.wa))},i.MW=function(){this.xyt=!0,this._o(new hU(this.wa))},Nt(n,[{key:"Ch",get:function(){return this.iF},set:function(t){this.iF!==t&&(this.iF=t,this._o(new hU(this.wa)))}},{key:"Tyt",get:function(){}},{key:"Lst",get:function(){return this.xyt}},{key:"kyt",get:function(){}}]),n}(la),vU=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).Xdt=s,h.ji=o,h.Ti=a,h.Eyt=c,h.eu=void 0,h}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=aU(this)),this.eu}}]),n}(fU),dU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Swt=s,o.eu=void 0,o}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=cU(this)),this.eu}}]),n}(fU);F(),Tt(),F(),Tt(),Dt(),Rt();var lU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Dyt=function(t){n._o(t)},n}return It(n,t),Nt(n,[{key:"Ryt",get:function(){var t=this.Cyt();return null==t?void 0:t.Sn}},{key:"Pyt",get:function(){var t=this.Cyt();return null==t?void 0:t.Tn}}]),n}(la),gU=function(t){function n(n,i){var r;if((r=t.call(this)||this).eu=void 0,r.Byt=void 0,r.Wyt=!1,r.Uyt=!1,r.Lyt=[],r.Tat=n,r.Nyt=i,r.Nyt.bn(oO.Xht,r.Dyt),r.zw===aw.yE){var e,u,s=null!=(u=null==(e=r.Xdt)?void 0:e.VF())?u:NaN;r.Fyt=new vU(r.o,r.jG,r.Op,"","",s,r.ji,r.Ti)}else r.zw===aw.wE?r.Fyt=new dU(r.o,r.jG,r.Op,"","",r.Swt):r.Fyt=void 0;return r}It(n,t);var i=n.prototype;return i.nlt=function(t){var n=TO(t)?this.Nyt.Gyt(t):this.Nyt.nlt(t);return{Xu:n.Xu,Kat:n.Kat,DE:this.tdt.DE}},i.Zyt=function(){return this.Nyt.Zyt()},i.Cyt=function(){return this.Nyt.Cyt()},i.Hyt=function(){return this.Nyt.Hyt()},i.Kct=function(t){return this.Nyt.Kct(t)},i.Qct=function(t,n,i){return this.Nyt.Qct(t,this.tdt.DE,n,i)},i.Glt=function(t){return TO(t)?this.Eot.Xyt(t,this.Nyt):this.Eot.Glt(t)},i.Gct=function(t){return TO(t)?this.Eot.zyt(t,this.Nyt):this.Eot.Gct(t)},i.Jpt=function(t){tr(this.Lyt,t)||this.Lyt.push(t)},i.yn=function(){this.Nyt.vn(oO.Xht,this.Dyt),this.Lyt=[]},Nt(n,[{key:"nct",get:function(){return this.Tat}},{key:"Swt",get:function(){var t;return null!=(t=this.Nyt.$k.Swt)?t:this.nct.Swt}},{key:"jG",get:function(){return this.Nyt.$k.jG||0}},{key:"Frt",get:function(){var t=this.Nyt.$k;return t.Frt?[t.Frt]:this.nct.Frt}},{key:"Myt",get:function(){var t=this.Nyt.$k;return t.Frt?[t.Frt]:[]}},{key:"Op",get:function(){return this.Nyt.$k.Frt||this.nct.Op}},{key:"Twt",get:function(){return this.Nyt.$k.Twt||this.nct.Twt}},{key:"$G",get:function(){return this.Nyt.$k.$G||this.nct.$G}},{key:"Xpt",get:function(){return this.Lyt}},{key:"Fk",get:function(){return this.SY+'; codecs="'+this.Op+'"'}},{key:"kwt",get:function(){var t=this.Nyt.$k;return t.kwt.length?t.kwt:this.nct.kwt}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get id(){return t.o},get type(){return t.zw},get bandwidth(){return t.jG},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.Xdt)?void 0:n.VF())?i:NaN},get audioSamplingRate(){return t.Swt}}}(this))}},{key:"Xdt",get:function(){var t;return null!=(t=this.Nyt.$k.Xdt)?t:this.nct.Xdt}},{key:"Ti",get:function(){return this.Nyt.$k.Ti||this.nct.Ti}},{key:"o",get:function(){return this.Nyt.$k.o||""}},{key:"ndt",get:function(){return this.Byt},set:function(t){this.Byt=t}},{key:"sdt",get:function(){var t=this.Nyt.Oyt();if(t)return{Xu:t.Xu,Kat:t.Kat,DE:this.tdt.DE}}},{key:"xwt",get:function(){return this.Nyt.$k.xwt||this.nct.xwt||1}},{key:"Iwt",get:function(){return this.Nyt.$k.Iwt||this.nct.Iwt}},{key:"tdt",get:function(){return this.Zct.tdt}},{key:"SY",get:function(){return this.Nyt.$k.SY||this.nct.SY}},{key:"Zct",get:function(){return this.nct.Zct}},{key:"Rwt",get:function(){return this.Nyt.$k.Rwt||this.nct.Rwt}},{key:"jht",get:function(){return this.Fyt}},{key:"Cwt",get:function(){return this.Nyt.$k.Cwt||this.nct.Cwt}},{key:"Pwt",get:function(){return this.Nyt.$k.Pwt||this.nct.Pwt}},{key:"Vyt",get:function(){return this.Nyt.Vyt}},{key:"Dwt",get:function(){return this.Nyt.$k.Dwt||this.nct.Dwt}},{key:"Eot",get:function(){return this.Nyt.Eot}},{key:"Nwt",get:function(){return this.Nyt.$k.Nwt||this.nct.Nwt}},{key:"zw",get:function(){var t=this.SY.split("/")[0];return"application"===t||"text"===t||dp(this.SY,this.Frt)?aw.Rk:"video"===t?aw.yE:"audio"===t?aw.wE:"image"===t?aw.bE:aw.oE}},{key:"ji",get:function(){return this.Nyt.$k.ji||this.nct.ji}},{key:"qct",get:function(){return this.Wyt},set:function(t){this.Wyt=t}},{key:"Ddt",get:function(){return this.Uyt},set:function(t){this.Uyt=t}}]),n}(lU),wU=function(t){function n(n,i){var r;return(r=t.call(this)||this).xdt=[],r.ppt=n,r.Nyt=i,r.Nyt.bn(oO.Xht,r.Dyt),r}It(n,t);var i=n.prototype;return i.ir=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return 0!==i.xdt.length?[3,2]:(r=i.Nyt.Mat.map((function(r){return i.Yyt(r,t,n)})),[4,et.all(r)]);case 1:i.xdt=e.sent().filter(Yn),e.label=2;case 2:return i.Kyt(),[2]}}))}))()},i.Yyt=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return e=new gU(r,t),[4,n(e)];case 1:return u=s.sent(),kr(i),u?[2,e]:[2,void 0]}}))}))()},i.Kyt=function(){if(!this.xdt.length)throw new p("Detected an AdaptationSet without any supported Representations.")},i.Cyt=function(){return this.Nyt.Cyt()},i.Hyt=function(){return this.Nyt.Hyt()},i.yn=function(){this.Nyt.vn(oO.Xht,this.Dyt);for(var t=0,n=this.xdt;t<n.length;t++){n[t].yn()}ir(this.xdt)},Nt(n,[{key:"fdt",get:function(){return this.Nyt.$k.fdt}},{key:"Swt",get:function(){var t;return null!=(t=this.Nyt.$k.Swt)?t:-1}},{key:"Frt",get:function(){if(this.Nyt.$k.Frt)return[this.Nyt.$k.Frt];for(var t=[],n=0,i=this.Mat;n<i.length;n++){var r=i[n];r.Myt.length&&-1===t.indexOf(r.Op)&&t.push(r.Op)}return t}},{key:"Op",get:function(){return this.Frt.join()}},{key:"Twt",get:function(){return this.Nyt.$k.Twt}},{key:"$G",get:function(){return this.Nyt.$k.$G}},{key:"Fk",get:function(){return this.SY+'; codecs="'+this.Op+'"'}},{key:"kwt",get:function(){return this.Nyt.kwt}},{key:"Ewt",get:function(){return this.Nyt.Ewt}},{key:"Xdt",get:function(){return this.Nyt.$k.Xdt}},{key:"Adt",get:function(){return this.Nyt.$k.Adt}},{key:"Ti",get:function(){return this.Nyt.$k.Ti||0}},{key:"o",get:function(){return this.Nyt.$k.o}},{key:"Ch",get:function(){return this.Nyt.$k.Ch||""}},{key:"xwt",get:function(){return this.Nyt.$k.xwt}},{key:"Iwt",get:function(){return this.Nyt.$k.Iwt}},{key:"tdt",get:function(){return this.Zct.tdt}},{key:"SY",get:function(){return this.Nyt.$k.SY||this.xdt[0].SY}},{key:"Zct",get:function(){return this.ppt}},{key:"Rwt",get:function(){return this.Nyt.$k.Rwt}},{key:"Mat",get:function(){return this.xdt}},{key:"tft",get:function(){return this.Nyt.$k.tft||[]}},{key:"Cwt",get:function(){return this.Nyt.$k.Cwt}},{key:"Pwt",get:function(){return this.Nyt.$k.Pwt}},{key:"Dwt",get:function(){return this.Nyt.$k.Dwt}},{key:"vH",get:function(){return this.Nyt.$k.vH}},{key:"Nwt",get:function(){return this.Nyt.$k.Nwt}},{key:"zw",get:function(){var t=(this.Nyt.$k.Fk||this.SY).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||dp(this.SY,this.Frt)?aw.Rk:"video"===t?aw.yE:"audio"===t?aw.wE:"image"===t?aw.bE:aw.oE}},{key:"ji",get:function(){return this.Nyt.$k.ji||0}},{key:"Net",get:function(){return this.Nyt.$k.gs||""}},{key:"Ydt",get:function(){return this.Ryt}},{key:"qdt",get:function(){var t=this.Ydt,n=this.Pyt;if(void 0!==t&&void 0!==n){var i=k.min(n,this.tdt.qyt);return k.max(t,i)}}}]),n}(lU);function mU(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(Kn.Bh(s,e))}return i}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Dt();var yU=function(){function t(t,n){this.ppt=t,this._bt=n,this.OA=n.RN,this.dbt=n.hwt,this.ybt=n.mwt}var n=t.prototype;return n.jyt=function(t){var n=t-this.ppt.Sn;if(!(n<0||n>=this.ppt.ct)){var i=this.Qyt();return void 0!==i&&xi(i,n,1e-5)?this.Jyt():this.$yt(n)}},n.Yct=function(t){var n=t-this.ppt.Sn;if(!(n<0))return this.tbt(k.min(n,this.ppt.ct))},n.Jyt=function(){return this.ebt(0)},n.ibt=function(){var t=this.ppt.ct;if(isFinite(t))return this.tbt(t)},n.Zyt=function(t){if(this.ppt.rbt.zw===OB.qW){if(this.sbt){var n=this.Jyt(),i=this.obt();if(void 0===n||void 0===i)return;return{hbt:t,abt:n,ubt:i}}var r=this.cbt(t);if(!r)return;return{hbt:t,abt:this.lbt(t),ubt:r}}var e=this.Jyt();if(e)return{hbt:t,abt:e,ubt:this.ibt()}},n.Hyt=function(t,n){if(n){var i=this.edt(n.abt),r=this.elt(n.ubt);if(r){var e=this.idt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Jyt();if(u){var s=this.idt(u);if(t.getTime()<s.getTime())return s}var o=this.ppt.rbt.lyt;return t.getTime()<o.getTime()?o:void 0},n.cbt=function(t){var n=(t.getTime()-this.ppt.rbt.lyt.getTime())/1e3-this.ppt.Sn+this.dbt,i=this.tbt(Di(n,0,this.ppt.ct));if(i&&(i=this.fbt(i,t))){for(var r=this.elt(i);r&&this.cdt(r,t);)i=r,r=this.elt(i);return i}},n.lbt=function(t){var n,i=this._bt.wwt;if(i){var r=(t.getTime()-this.ppt.rbt.lyt.getTime())/1e3-this.ppt.Sn-i.twt();(n=this.tbt(Di(r,0,this.ppt.ct)))||(n=this.Jyt())}else n=this.Jyt();if(n&&(n=this.fbt(n,t))){for(var e=this.tlt(n);e&&this.cdt(e,t);)n=e,e=this.tlt(n);return n}},n.fbt=function(t,n){for(var i=t;i&&this.idt(i).getTime()>n.getTime();)i=this.tlt(i);if(i){var r=this.edt(i);if(r&&r.getTime()<=n.getTime()){var e=this.tlt(i);for(e&&this.cdt(e,n)&&(i=e);i;){if(this.idt(i).getTime()>n.getTime())return;if(this.cdt(i,n))break;i=this.elt(i)}if(!i)return}return i}},n.cdt=function(t,n){if(this.sbt)return!0;if(this.idt(t).getTime()>n.getTime())return!1;var i=this.edt(t);return!(i&&n.getTime()>=i.getTime())},n.vbt=function(t,n){if(this.sbt)return!0;if(this.gbt(t).getTime()>n.getTime())return!1;var i=this.edt(t);return!(i&&n.getTime()>=i.getTime())},n.mbt=function(t,n,i){var r=Ie(n,this.OA)+this.ppt.Sn;return{Mut:t,pbt:n,lF:r,ct:i,dF:r+i}},n.gbt=function(t){return this.ppt.rbt.zw===OB.qW?new Date(this.ppt.rbt.lyt.getTime()+1e3*(t.lF+t.ct)):this.ppt.rbt.lyt},n.idt=function(t){var n=this.gbt(t);return this.ppt.rbt.zw===OB.qW?new Date(n.getTime()-1e3*this.dbt):n},n.edt=function(t){var n=1/0;if(this.ppt.rbt.zw===OB.qW){var i=this._bt.wwt;i&&(n=this.gbt(t).getTime()+1e3*t.ct+i.ewt())}var r=this.ppt.rbt.cyt;return r&&(n=k.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.wbt=function(t,n){return t.Mut+n},n.Kct=function(t){return!1},n.Qct=function(t,n,i,r,e){var u=this.bbt(t);if(!u)return et.reject(new p("Invalid segment"));var s=this.Abt(u.Mut,n);return s?et.resolve(s):Sr(this.Sbt(u.Mut,n,i,r),e)},n.Abt=function(t,n){},n.Sbt=function(t,n,i,r){return et.reject(new p("Not supported"))},n.tlt=function(t){var n=this.bbt(t);if(n)return this.ebt(n.Mut-1)},n.elt=function(t){var n=this.bbt(t);if(n)return this.ebt(n.Mut+1)},n.bbt=function(t){var n=this.ebt(t.Mut);if(n&&n.lF===t.lF)return n;var i=this.jyt(t.lF);return i&&i.lF===t.lF?i:void 0},n.Tbt=function(t,n){var i=this.Jct(t);if(i&&this.Kct(i.Mut)){var r=this.Abt(i.Mut,n);if(r)return r.Tbt(t)}},n.Jct=function(t){return this.ebt(t.kbt)},n.Glt=function(t){var n=this.bbt(t);return!!n&&0===n.Mut},n.Xyt=function(t,n){var i=this.Tbt(t,n);return!!i&&0===i.Nut},n.Gct=function(t){var n=this.bbt(t);if(!n)return!1;var i=this.ibt();return!!i&&n.Mut===i.Mut},n.zyt=function(t,n){var i=this.Tbt(t,n);if(!i)return!1;var r=this.ibt();if(!r||i.kbt!==r.Mut)return!1;var e=this.Abt(i.kbt,n);return i.Nut+1===e.V},n.Km=function(){},Nt(t,[{key:"sbt",get:function(){return this.ppt.rbt.nbt&&void 0!==this.obt()}},{key:"aW",get:function(){return this.ppt.Sn-Ie(this.ybt,this.OA)}},{key:"mwt",get:function(){return Ie(this.ybt,this.OA)}}]),t}(),pU=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Pbt,u=n.ct;if(void 0===e||void 0===u)throw new p("MultipleSegmentBase does not have a segment duration specified.");return r.Ebt=e,r.Ibt=u,r}It(n,t);var i=n.prototype;return i.ebt=function(t){if(!(t<0)){var n=this.Ebt.multiply(t),i=Ie(n,this.OA),r=this.ppt.ct;if(!(i>=r)){var e=this.xbt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.mbt(t,n,r-i)}return isFinite(r)&&i+this.Ibt>r?this.mbt(t,n,r-i):this.mbt(t,n,this.Ibt)}}},i.Qyt=function(){return 0},i.$yt=function(t){var n=k.floor(t/this.Ibt),i=this.xbt();return void 0!==i&&n>=i?this.ebt(i):this.ebt(n)},i.tbt=function(t){if(t>=this.ppt.ct){var n=k.ceil(this.ppt.ct/this.Ibt)-1,i=this.xbt();return void 0!==i&&n>=i?this.ebt(i):this.ebt(n)}return this.$yt(t)},i.xbt=function(){var t,n=this._bt.Awt;if(void 0!==n)return n-(null!=(t=this._bt.bwt)?t:1);var i=this._bt.Rbt;return void 0!==i&&i>0?i-1:void 0},i.obt=function(){if(isFinite(this.ppt.ct))return this.ibt()},i.Cbt=function(t,n){return this.Ebt.multiply(t.Mut+(n-1))},i.ir=function(){},n}(yU);function _U(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.Dbt(n[e]),o=t.Nbt(n[u]);e<=u&&t.Mbt(s,i)<=0&&t.Mbt(i,o)<0;){var a=e+k.floor(t.Lbt(i,s,o)*(u-e)),c=n[a],h=t.Dbt(c),f=a+1<r?t.Dbt(n[a+1]):t.Nbt(c);if(t.Mbt(f,i)<=0)e=a+1,s=f;else{if(!(t.Mbt(i,h)<0))return a;u=a-1,o=h}}return-1}function bU(t,n){return _U(kU.Vm,t,n)}F(),Tt(),Rt(),F(),Tt(),Dt(),F(),Tt();var kU=function(){function t(){}var n=t.prototype;return n.Dbt=function(t){return t.lF},n.Nbt=function(t){return t.dF},n.Mbt=function(t,n){return t.compare(n)},n.Lbt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},Nt(t,null,[{key:"Vm",get:function(){return null!=this.Bbt||(this.Bbt=new t),this.Bbt}}]),t}(),AU=.01,TU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Obt=[],r.Vbt=void 0,r.vmt=pe.ZERO,r.ir(),r}It(n,t);var i=n.prototype;return i.ebt=function(t){if(!(t<0))return t<this.Obt.length?this.Obt[t].Eut:this.Fbt(t-this.Obt.length)},i.Qyt=function(){if(this.Obt.length>0)return Ie(this.Obt[0].lF,this.OA)},i.$yt=function(t){if(this.Vbt&&Ie(this.Vbt.lF,this.OA)<=t){var n=Ie(this.Vbt.lF,this.OA),i=Ie(this.Vbt.ct,this.OA),r=k.floor((t-n)/i);return this.Fbt(r)}if(this.Obt.length>0&&xi(t,Ie(this.Obt[0].lF,this.OA),1e-5))return this.Obt[0].Eut;var e=bU(this.Obt,pe.fromNumber(t*this.OA));return e<0?void 0:this.Obt[e].Eut},i.tbt=function(t){if(!this.Vbt&&this.Obt.length>0){var n=this.Obt[this.Obt.length-1];if(function(t,n,i){return Zi(t,n,i)>=0}(t,Ie(n.dF,this.OA),1e-5))return n.Eut}var i=this.Qyt();return i&&t<i?this.Obt[0].Eut:this.$yt(t)},i.obt=function(){return isFinite(this.ppt.ct)?this.ibt():this.ebt(this.Obt.length-1)},i.Cbt=function(t){return this.Wbt(t)},i.Fbt=function(t){if(this.Vbt){var n=this.Vbt.lF,i=this.Vbt.ct,r=n.add(i.multiply(t)),e=Ie(r,this.OA),u=this.ppt.ct;if(!(e>=u)){var s=this.Obt.length+t,o=k.min(Ie(i,this.OA),e+u);return this.mbt(s,r,o)}}},i.Wbt=function(t){return t.pbt.add(this.ybt)},i.ir=function(){var t=this._bt.$k.Eot;if(!t)throw new p("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Ubt(t)},i.Ubt=function(t){var n=this.ybt;this.Gbt(t,n);var i=this.Zbt(t);this.Hbt(t,n,i.Xbt,i.kbt)},i.Gbt=function(t,n){var i=this.Obt;if(0===t.length)ir(i);else{for(var r=t[0],e=0,u=Ie(r.lF?pe.fromString(r.lF,!1).subtract(n):pe.ZERO,this.OA);e<i.length&&Ie(i[e].lF,this.OA)<u-AU;)e++;e>0&&i.splice(0,e)}},i.Zbt=function(t){for(var n=this.Obt,i=this.vmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].uwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].lF.greaterThanOrEqual(i))break;if(n[e].Eut.Mut===e)e=s+1;else for(;e<=s;)n[e].Eut.Mut=e,e++;0,r++}return{Xbt:r,kbt:e}},i.Hbt=function(t,n,i,r){for(var e,u=this.Obt,s=i,o=r;s<t.length;){var a=t[s],c=pe.fromString(a.ct,!1),h=a.uwt||0,f=void 0;if(a.lF){if(f=pe.fromString(a.lF,!1).subtract(n),o>0){var v=u[o-1];v.dF.greaterThan(f)&&(v.ct=f.subtract(v.lF),v.dF=v.lF.add(v.ct))}}else f=o>0?u[o-1].dF:pe.ZERO;if(h<0){if(s+1===t.length){e={lF:f,ct:c};break}for(var d=pe.fromString(t[s+1].lF,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.zbt(u,o,f,c,l),f=l,o++}}else for(var g=o+h;o<=g;){var w=f.add(c);this.zbt(u,o,f,c,w),f=w,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.vmt=u[u.length-1].lF),this.Vbt=e},i.zbt=function(t,n,i,r,e){if(n<t.length){var u=t[n];u.ct.equals(r)?u.Eut.Mut=n:t[n]={lF:i,ct:r,dF:e,Eut:this.mbt(n,i,Ie(r,this.OA))}}else t.push({lF:i,ct:r,dF:e,Eut:this.mbt(n,i,Ie(r,this.OA))})},n}(yU);F(),Tt(),Dt();var SU=function(){function t(t,n,i){this.Ybt=void 0,this.jbt=void 0,this.Zct=t,this.qbt=n,this.Xp=i}var n=t.prototype;return n.Kbt=function(){if(this.jbt=this.Qbt(),this.jbt)return this.jbt;if(this.qbt)return this.qbt.Eot;throw new p("Missing media segment information.")},n.Oyt=function(t){var n=this.gwt;if(n)return{Xu:(void 0!==n.awt?Kn.Bh(n.awt,t.Fwt[0]):t.Fwt[0]).href,Kat:n.Kat};var i=this.cwt;return i?{Xu:t.Fwt[0].href,Kat:[0,i[0]-1]}:void 0},n.ir=function(t){this.Xp=t,this.jbt&&this.jbt.ir()},n.Km=function(){this.jbt&&(this.jbt.Km(),this.jbt=void 0)},Nt(t,[{key:"$k",get:function(){return this.Xp}},{key:"hwt",get:function(){return this.Xp&&void 0!==this.Xp.hwt?this.Xp.hwt:this.qbt?this.qbt.hwt:0}},{key:"mwt",get:function(){return this.Xp&&void 0!==this.Xp.mwt?this.Xp.mwt:this.qbt?this.qbt.mwt:pe.ZERO}},{key:"wwt",get:function(){return this.Xp&&void 0!==this.Xp.wwt?this.Xp.wwt:this.qbt?this.qbt.wwt:this.Zct.rbt.wwt}},{key:"RN",get:function(){return this.Xp&&void 0!==this.Xp.RN?this.Xp.RN:this.qbt&&this.qbt.RN?this.qbt.RN:1}},{key:"cwt",get:function(){return this.Xp&&void 0!==this.Xp.cwt?this.Xp.cwt:this.qbt?this.qbt.cwt:void 0}},{key:"gwt",get:function(){return this.Xp&&void 0!==this.Xp.gwt?this.Xp.gwt:this.qbt?this.qbt.gwt:void 0}},{key:"Eot",get:function(){return this.Ybt||(this.Ybt=this.Kbt()),this.Ybt}}]),t}(),EU=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Qbt=function(){return void 0!==this.Xp.Eot?new TU(this,this.Zct):void 0!==this.Xp.ct?new pU(this,this.Zct):void 0},Nt(n,[{key:"ct",get:function(){return void 0!==this.Xp.ct?this.Xp.ct/this.RN:this.qbt&&IU(this.qbt)?this.qbt.ct:void 0}},{key:"Pbt",get:function(){return void 0!==this.Xp.ct?pe.fromNumber(this.Xp.ct):this.qbt&&IU(this.qbt)?this.qbt.Pbt:void 0}},{key:"bwt",get:function(){return void 0!==this.Xp.bwt?this.Xp.bwt:this.qbt&&IU(this.qbt)?this.qbt.bwt:void 0}},{key:"Awt",get:function(){return void 0!==this.Xp.Awt?this.Xp.Awt:this.qbt&&IU(this.qbt)?this.qbt.Awt:void 0}}]),n}(SU);function IU(t){return t instanceof EU}F(),Tt();var RU=function(){function t(t){this.Jbt=t}return t.prototype.Zb=function(t){return this.Jbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=ia(s,Number(r),"0")}))},t}();var CU=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).$bt=r.Bwt?new RU(r.Bwt):void 0,e.tAt=r.Owt?new RU(r.Owt):void 0,e}It(n,t);var i=n.prototype;return i.Oyt=function(n){var i=this.Bwt;if(!i)return t.prototype.Oyt.call(this,n);var r=i.Zb({Bandwidth:n.$k.jG,RepresentationID:n.$k.o});return{Xu:Kn.Ew(r,n.Fwt[0])}},i.nlt=function(t,n){var i,r=null!=(i=n.Vyt.bwt)?i:1,e=this.Owt.Zb({Bandwidth:n.$k.jG,Number:n.Eot.wbt(t,r),RepresentationID:n.$k.o,Time:n.Eot.Cbt(t,r)});return{Xu:Kn.Ew(e,n.Fwt[0])}},i.Gyt=function(t,n){},Nt(n,[{key:"Bwt",get:function(){return this.$bt?this.$bt:this.qbt&&this.qbt instanceof n?this.qbt.Bwt:void 0}},{key:"Owt",get:function(){return this.tAt?this.tAt:this.qbt&&this.qbt instanceof n?this.qbt.Owt:void 0}},{key:"Rbt",get:function(){}}]),n}(EU);F(),Tt(),Dt(),Rt();var NU=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.nlt=function(t,n){var i=this.dwt[t.Mut],r=n.Fwt[0];return{Xu:(i.LN?Kn.Bh(i.LN,r):r).href,Kat:i.lwt}},i.Gyt=function(t,n){},Nt(n,[{key:"dwt",get:function(){return void 0!==this.Xp.dwt?this.Xp.dwt:this.qbt&&this.qbt instanceof n?this.qbt.dwt:void 0}},{key:"Rbt",get:function(){var t;return null==(t=this.dwt)?void 0:t.length}}]),n}(EU);F(),Tt(),Dt(),Rt(),F(),Tt(),Mt(),Rt(),nn(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt();var DU=function(){function t(){}return t.prototype.Tbt=function(t){var n=this.$ct(t.Nut);if(n&&n.lF===t.lF)return n;var i=this.eAt(t.lF);return i&&i.lF===t.lF?i:void 0},t}(),xU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).kbt=n,s.RN=i,s.rAt=r,s.mwt=e,s.iAt=u,s}It(n,t);var i=n.prototype;return i.$ct=function(t){if(t>=0&&t<this.V)return this.sAt(this.iAt[t])},i.eAt=function(t){var n=this.nAt(t);if(this.iAt.length>0){var i=this.iAt[0];if(n<=Ie(i.lF,this.RN))return this.sAt(i)}var r=bU(this.iAt,pe.fromNumber(n*this.RN));if(!(r<0))return this.sAt(this.iAt[r])},i.jct=function(t){var n=this.nAt(t),i=qi(this.iAt,-1);return void 0!==i&&n>=Ie(i.dF,this.RN)?this.sAt(i):this.eAt(t)},i.sAt=function(t){var n=Ie(t.lF,this.RN)-this.mwt,i=n+this.rAt,r=Ie(t.ct,this.RN);return{kbt:this.kbt,Nut:t.Mut,lF:i,pbt:pe.fromNumber(n*this.RN),ct:r,dF:i+r,oAt:[t.hAt,t.aAt]}},i.nAt=function(t){return t-this.rAt+this.mwt},Nt(n,[{key:"V",get:function(){return this.iAt.length}}]),n}(DU);F(),Tt(),F(),Tt(),F(),Tt();var PU=function(){function t(t){this.$k=t,this.BD=new Uc}var n=t.prototype;return n.Bgt=function(){return this.BD.nc<this.$k.byteLength},n.uAt=function(){var n,i=this.cAt(),r=this.lAt(),e=this.BD.nc,u=this.$k.byteLength,s=e+(n=t.dAt(r)?u-e:t.fAt(r))<=u?n:u-e,o=tc(this.$k,this.BD,s);return new MU(i,Pc(o))},n.cAt=function(){var t=this.lAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.lAt=function(){var t=Qa(this.$k,this.BD.Nb());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Wa(t));return Kn.cw(n<=8&&n>=1,"Incorrect log2 value"),tc(this.$k,this.BD,n)},t.fAt=function(t){if(8===t.length&&224&t[1])throw new _("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.dAt=function(t){for(var n=0;n<LU.length;n++){var i=LU[n];if(zc(t,new E(i)))return!0}return!1},t}(),LU=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],MU=function(){function t(t,n){this.id=t,this.vAt=n}var n=t.prototype;return n._At=function(){return this.vAt.byteOffset},n.gAt=function(){return new PU(this.vAt)},n.mAt=function(){var t=this.vAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.vAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.vAt.getUint8(i)}return n},n.eJ=function(){if(4===this.vAt.byteLength)return this.vAt.getFloat32(0);if(8===this.vAt.byteLength)return this.vAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function OU(t,n){var i=function(t){var n=new PU(Pc(t)),i=n.uAt();if(i.id!==VU)throw new _("Missing WebM EBML header");var r=n.uAt();if(r.id!==FU)throw new _("Missing WebM SegmentElement");var e=r._At(),u=function(t){var n,i=t.gAt();for(;i.Bgt();){var r=i.uAt();if(r.id===UU){n=r;break}}if(!n)throw new _("Missing WebM InfoElement");return function(t){var n,i=t.gAt(),r=1e6;for(;i.Bgt();){var e=i.uAt();e.id===WU?r=e.mAt():e.id===ZU&&(n=e.eJ())}if(void 0===n)throw new _("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new PU(Pc(t)).uAt();if(r.id!==XU)throw new _("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.gAt();for(;o.Bgt();){var a=o.uAt();if(a.id===GU){var c=BU(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({Mut:s.length,lF:e,ct:h.subtract(e),dF:h,hAt:u,aAt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=pe.fromNumber(r/i);s.push({Mut:s.length,lF:e,ct:v.subtract(e),dF:v,hAt:u,aAt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{RN:k.round(1/i.timecodeScale),pAt:e}}function BU(t){var n=t.gAt(),i=n.uAt();if(i.id!==HU)throw new _("Missing CueTime in WebM CuePointElement");var r=pe.fromNumber(i.mAt()),e=n.uAt();if(e.id!==zU)throw new _("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.gAt(),s=0;u.Bgt();){var o=u.uAt();if(o.id===YU){s=o.mAt();break}}return{unscaledTime:r,relativeOffset:s}}var VU=440786851,FU=408125543,UU=357149030,WU=2807729,ZU=17545,XU=475249515,GU=187,HU=179,zU=183,YU=241,jU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).AAt=ho(),r.SAt=ho(),r.TAt=new mr,r.bAt=n.cwt,r.wAt=r.mbt(0,pe.ZERO,r.ppt.ct),r}It(n,t);var i=n.prototype;return i.ebt=function(t){if(0===t)return this.wAt},i.Qyt=function(){return 0},i.$yt=function(t){return this.wAt},i.tbt=function(t){return this.$yt(t)},i.obt=function(){return this.wAt},i.Cbt=function(t,n){return pe.ZERO},i.Zyt=function(t){var n=this.yAt(t);return n&&{hbt:t,abt:n,ubt:n}},i.yAt=function(t){var n=this.wAt;return this.cdt(n,t)?n:void 0},i.cbt=function(t){return this.yAt(t)},i.lbt=function(t){return this.yAt(t)},i.ir=function(){},i.Kct=function(t){return 0===t&&void 0!==this.bAt},i.Abt=function(t,n){var i=n.Fwt[0].href;return this.AAt.get(i)},i.Sbt=function(t,n,i,r){var e=n.Fwt[0].href,u=this.SAt.get(e);if(void 0===u){var s=n.SY,o=this.TAt.ep;if(Gv(s))u=this.kAt(t,e,i,r,o);else{if(!Hv(s))throw new ld(vd.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.EAt(t,e,n,i,r,o)}this.SAt.set(e,u)}return u},i.kAt=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return s=u.bAt,[4,r.Slt(n,s,i,e)];case 1:return o=c.sent(),a=u.xAt(t,o),u.AAt.set(n,a),[2,a]}}))}))()},i.xAt=function(t,n){var i=this.bAt,r=ky.tN(new DataView(n),new Uc);if(r.zw!==ly.xD)throw new p("Invalid segment index");var e=Iy.yN(r.$k),u=function(t,n){for(var i=[],r=t.tB,e=n+t.eB.toNumber(),u=0,s=0,o=t.sB;s<o.length;s++){var a=o[s],c=a.KL,h=pe.fromNumber(a.ct),f=r.add(h);0===a.YL&&i.push({Mut:u++,lF:r,ct:h,dF:f,hAt:e,aAt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new xU(t,e.RN,this.ppt.Sn,Ie(this.ybt,this.OA),u)},i.EAt=function(t,n,i,r,e,u){var s=this;return Pt((function(){var o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return o=i.Oyt(),a=s.bAt,c=e.Slt(o.Xu,o.Kat,r,u),h=e.Slt(n,a,r,u),[4,et.all([c,h])];case 1:return f=tn.apply(void 0,[g.sent(),2]),v=f[0],d=f[1],l=s.IAt(t,d,v),s.AAt.set(n,l),[2,l]}}))}))()},i.IAt=function(t,n,i){var r=OU(new E(n),new E(i));return new xU(t,r.RN,this.ppt.Sn,Ie(this.ybt,this.OA),r.pAt)},i.Km=function(){t.prototype.Km.call(this),this.TAt.np()},n}(yU),KU=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.nlt=function(t,n){return{Xu:n.Fwt[0].href}},i.Gyt=function(t,n){return{Xu:n.Fwt[0].href,Kat:t.oAt}},i.Qbt=function(){return new jU(this,this.Zct)},Nt(n,[{key:"bwt",get:function(){}}]),n}(SU);F(),Tt(),Rt();var qU=function(t){function n(){return t.call(this,oO.Xht)||this}return It(n,t),n}(ma);F(),Tt();var JU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._bt=void 0,e.OAt=1/0,e.NAt=void 0,e.ux=i,e.DAt(n,r),e}It(n,t);var i=n.prototype;return i.CAt=function(){var t,n;return null!=(n=this._bt)?n:null==(t=this.ux)?void 0:t.CAt()},i.PAt=function(t){var n=this.Zct,i=this.ux&&this.ux.CAt();this.Xp.Uwt?this._bt=new CU(n,i,this.Xp.Uwt):this.Xp.Wwt?this._bt=new NU(n,i,this.Xp.Wwt[0]):this.Xp.Vwt?this._bt=new KU(n,i,this.Xp.Vwt):t&&!i&&(this._bt=new KU(n,i,void 0))},i.DAt=function(t,n){this.Xp=t,this.RAt=t.Fwt&&t.Fwt.length>0?mU(t.Fwt.map((function(t){return t.Xu})),n):n.slice(),this._bt&&(t.Uwt?this._bt.ir(t.Uwt):t.Wwt?this._bt.ir(t.Wwt[0]):t.Vwt&&this._bt.ir(t.Vwt))},i.Cyt=function(){var t;return null==(t=this.NAt)?void 0:t.MAt},i.Hyt=function(){var t;return null==(t=this.NAt)?void 0:t.LAt},i.BAt=function(t){var n=this.OAt,i=this.Zct.ct,r=this.NAt,e=this.FAt(t);r&&xi(i,n,1e-5)&&nW(r,e)||(this.OAt=i,this.NAt=e,this._o(new qU))},i.Km=function(){this.Ro(),this._bt&&(this._bt.Km(),this._bt=void 0)},Nt(n,[{key:"$k",get:function(){return this.Xp}},{key:"Fwt",get:function(){return this.RAt}}]),n}(la);function QU(t){for(var n,i=0;i<t.length;i++){var r=t[i].Cyt();if(r){n=r.Sn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Cyt();if(s){e=s.Tn;break}}if(void 0!==e)return{Sn:n,Tn:e}}}function $U(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Cyt();if(!e)return;if((n=k.max(n,e.Sn))>=(i=k.min(i,e.Tn)))return}return{Sn:n,Tn:i}}}function tW(t){for(var n,i=0;i<t.length;i++){var r=t[i].Hyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function nW(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.LAt,n.LAt)&&function(t,n){return t&&n?xi(t.Sn,n.Sn,1e-5)&&xi(t.Tn,n.Tn,1e-5):t===n}(t.MAt,n.MAt)}var iW=function(t){function n(n,i,r){var e;(e=t.call(this)||this).ppt=n,e.jS=i,e.VAt=r.slice();for(var u=0;u<r.length;u++){r[u].bn(oO.Xht,e.Dyt)}return e}It(n,t);var i=n.prototype;return i.Cyt=function(){return $U(this.VAt)},i.Hyt=function(){for(var t,n=0,i=this.VAt;n<i.length;n++){var r=i[n].Hyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.yn=function(){this.Ro();for(var t=0,n=this.VAt;t<n.length;t++){n[t].vn(oO.Xht,this.Dyt)}},Nt(n,[{key:"ift",get:function(){return this.VAt}},{key:"Frt",get:function(){return this.ift.reduce((function(t,n){for(var i=0,r=n.Frt;i<r.length;i++){var e=r[i];tr(t,e)||t.push(e)}return t}),[])}},{key:"Op",get:function(){return this.Frt.length>0?this.Frt[0]:""}},{key:"zw",get:function(){return this.VAt[0].zw}},{key:"o",get:function(){return this.jS}},{key:"tdt",get:function(){return this.ppt.tdt}},{key:"SY",get:function(){return this.VAt[0].SY}},{key:"Zct",get:function(){return this.ppt}},{key:"Mat",get:function(){return er(this.ift,(function(t){return t.Mat}))}}]),n}(lU);F(),Tt(),Rt();var rW=function(t){function n(){return t.call(this,oO.qht)||this}return It(n,t),n}(ma);function eW(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Adt;void 0===u||(e=Hi(i,(function(t){return t.o===u}))),e||(e={o:u,ift:[]},i.push(e)),e.ift.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}F(),Tt();var uW=function(t){function n(n,i){var r;return(r=t.call(this)||this).VAt=[],r.WAt=[],r.UAt=!1,r.GAt=n,r.Nyt=i,r.Nyt.bn(oO.Xht,r.Dyt),r}It(n,t);var i=n.prototype;return i.zAt=function(t,n){if(0!==this.WAt.length){for(var i=t,r=0,e=this.WAt;r<e.length;r++){var u=e[r];if(cw(u.zw)){var s=u.Pyt;if(void 0===s)return;i=n(i,s)}}return i}},i.YAt=function(){this.UAt||(this.UAt=!0,this._o(new rW),this.yn())},i.ir=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return 0!==i.VAt.length?[3,2]:[4,i.KAt(i.Nyt.ift,t,n)];case 1:return r.sent(),i.jAt(i.VAt),kr(n),[3,4];case 2:return[4,i.QAt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.KAt=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new wU(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.ir(n,i)];case 3:return o.sent(),r.VAt.push(s),[3,5];case 4:return Ar(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.jAt=function(t){for(var n=eW(t),i=0;i<n.length;i++){var r=n[i],e=new iW(this,r.o,r.ift);this.WAt.push(e)}},i.QAt=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:r=0,e=i.VAt,u.label=1;case 1:return r<e.length?[4,e[r].ir(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Cyt=function(){return this.Nyt.Cyt()},i.Hyt=function(){return this.Nyt.Hyt()},i.yn=function(){this.Ro(),this.Nyt.vn(oO.Xht,this.Dyt);for(var t=0,n=this.WAt;t<n.length;t++){n[t].yn()}for(var i=0,r=this.VAt;i<r.length;i++){r[i].yn()}ir(this.VAt),ir(this.WAt)},Nt(n,[{key:"ift",get:function(){return this.VAt}},{key:"mpt",get:function(){return this.WAt}},{key:"oyt",get:function(){return this.Nyt.$k.oyt}},{key:"ct",get:function(){return this.Nyt.ct}},{key:"Tn",get:function(){return this.Sn+this.ct}},{key:"hyt",get:function(){return this.Nyt.$k.hyt||[]}},{key:"o",get:function(){return this.Nyt.o}},{key:"Yht",get:function(){return this.UAt}},{key:"tdt",get:function(){return this.GAt}},{key:"Ypt",get:function(){return this.GAt.ZAt(this)}},{key:"Zct",get:function(){return this}},{key:"qpt",get:function(){return this.GAt.HAt(this)}},{key:"XAt",get:function(){return this.zAt(1/0,k.min)}},{key:"qAt",get:function(){return this.zAt(0,k.max)}},{key:"Sn",get:function(){return this.Nyt.Sn}},{key:"DE",get:function(){return this.tdt.DE}}]),n}(lU);F(),Tt(),Rt();var sW=function(t){function n(){return t.call(this,ya.Xy)||this}return It(n,t),n}(ma);F(),Tt(),Rt(),F(),Tt();var oW=function(t){return t.JAt="$At",t}({}),aW=function(t){function n(){return t.call(this,oW.JAt)||this}return It(n,t),n}(ma);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var cW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Fwt)||this).tSt=void 0,r.Tat=i,r.PAt(!0),r}It(n,t);var i=n.prototype;return i.Kct=function(t){var n=this.SY;return!(!Gv(n)&&!Hv(n))&&this.Eot.Kct(t.Mut)},i.Qct=function(t,n,i,r){return this.Eot.Qct(t,this,n,i,r)},i.Oyt=function(){return this.Vyt.Oyt(this)},i.nlt=function(t){return this.Vyt.nlt(t,this)},i.Gyt=function(t){return this.Vyt.Gyt(t,this)},i.Zyt=function(){return this.tSt},i.FAt=function(t){var n=this.Eot,i=n.Zyt(t),r=i&&function(t,n){var i,r=t.abt,e=t.ubt,u=t.hbt,s=r.lF,o=n.gbt(e);if(o.getTime()<=u.getTime())i=e.dF;else{var a=(o.getTime()-u.getTime())/1e3,c=k.max(e.ct-a,0);i=e.lF+c}return{Sn:s,Tn:i}}(i,n),e=this.Eot.Hyt(t,i);return this.tSt=i,{hbt:t,MAt:r,LAt:e}},i.ir=function(t){this.DAt(t,this.Tat.Fwt)},Nt(n,[{key:"nct",get:function(){return this.Tat}},{key:"Zct",get:function(){return this.Tat.Zct}},{key:"rbt",get:function(){return this.Tat.rbt}},{key:"SY",get:function(){return this.Xp.SY||this.Tat.SY}},{key:"Vyt",get:function(){return this.CAt()}},{key:"Eot",get:function(){return this.Vyt.Eot}}]),n}(JU),hW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Fwt)||this).ppt=i,r.PAt(!1),r.xdt=n.Mat.map((function(t){return new cW(t,r)})),r}It(n,t);var i=n.prototype;return i.ir=function(t){this.DAt(t,this.ppt.Fwt);var n=t.Mat||[];if(this.xdt.length!==n.length)throw new p("Expected "+this.xdt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.xdt[i].ir(n[i])},i.BAt=function(n){for(var i=0,r=this.xdt;i<r.length;i++){r[i].BAt(n)}t.prototype.BAt.call(this,n)},i.FAt=function(t){return{hbt:t,MAt:$U(this.xdt),LAt:tW(this.xdt)}},i.Km=function(){for(var n=0,i=this.xdt;n<i.length;n++){i[n].Km()}t.prototype.Km.call(this)},Nt(n,[{key:"Mat",get:function(){return this.xdt}},{key:"Zct",get:function(){return this.ppt}},{key:"rbt",get:function(){return this.ppt.rbt}},{key:"Adt",get:function(){return this.Xp.Adt}},{key:"SY",get:function(){var t;return this.Xp.SY||(null==(t=this.xdt[0])?void 0:t.$k.SY)||""}},{key:"kwt",get:function(){return this.$k.kwt}},{key:"Ewt",get:function(){return this.$k.Ewt}}]),n}(JU),fW=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Fwt)||this).WAt=[],u.eSt=n,u.bW=r,u.FA=e,u.PAt(!1),u.VAt=(i.ift||[]).map((function(t){return new hW(t,u)})),u.WAt=eW(u.VAt),u}It(n,t);var i=n.prototype;return i.ir=function(t,n){this.DAt(t,this.eSt.Fwt),this.FA=n;var i=t.ift||[];if(this.VAt.length!==i.length)throw new p("Expected "+this.VAt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.VAt[r].ir(i[r])},i.BAt=function(n){for(var i=0,r=this.VAt;i<r.length;i++){r[i].BAt(n)}t.prototype.BAt.call(this,n)},i.FAt=function(t){return{hbt:t,MAt:$U(this.VAt),LAt:tW(this.VAt)}},i.Km=function(){for(var n=0,i=this.VAt;n<i.length;n++){i[n].Km()}t.prototype.Km.call(this)},Nt(n,[{key:"ift",get:function(){return this.VAt}},{key:"mpt",get:function(){return this.WAt}},{key:"Zct",get:function(){return this}},{key:"rbt",get:function(){return this.eSt}},{key:"o",get:function(){return this.Xp.o}},{key:"Sn",get:function(){return this.bW}},{key:"ct",get:function(){return this.FA}}]),n}(JU);F(),Tt(),Dt();var vW=function(){function t(t){this.sSt=t}return Nt(t,[{key:"iSt",get:function(){return this.sSt.uyt.BV}},{key:"nSt",get:function(){return this.sSt.uyt.LV}},{key:"rSt",get:function(){return this.sSt.uyt.ayt}},{key:"oSt",get:function(){var t;return null==(t=this.sSt.tR)?void 0:t.BV}},{key:"hSt",get:function(){var t;return null==(t=this.sSt.tR)?void 0:t.BV}}]),t}(),dW=new Date("2000-01-01"),lW=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).NAt=void 0,s.cSt=void 0,s.aSt=void 0,s.dSt=[],s.gSt=i,s.uSt=u,s.ir(n,r,e),n.zw===OB.qW){var o=s.obt();o&&o.cyt&&o.cyt.getTime()<dW.getTime()&&(s.aSt=new Date(s.wyt.getTime()-1e3*(o.Eut.lF+o.Eut.ct)),s.BAt(e))}return s}It(n,t);var i=n.prototype;return i.Cyt=function(){var t;return null==(t=this.NAt)?void 0:t.MAt},i.Hyt=function(){var t;return null==(t=this.NAt)?void 0:t.LAt},i.ir=function(t,n,i,r){var e,u=void 0!==this.Xp&&this.Xp.zw===OB.qW;this.Xp=t,this._St=null!=r?r:i,this.Pn=i;var s=[Pl(n)];this.RAt=t.Fwt&&t.Fwt.length>0?mU(t.Fwt.map((function(t){return t.Xu})),s):s,this.lSt=t.dyt&&t.dyt.length>0?mU(t.dyt,this.RAt):[];var o=this.lSt.map((function(t){return t.href})),a=n.href;tr(o,a)||(this.lSt.push(n),o.push(a));var c=this.gSt.href;tr(o,c)||(this.lSt.push(this.gSt),o.push(c)),this.cSt=null==(e=t.gyt)?void 0:e.twt(),t.Ayt&&(this.sSt=new vW(t.Ayt));var h=t.zw===OB.qW,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Sn)s=u.Sn.twt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.twt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({$k:t[a],Sn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.twt():i-f),o.push({$k:h,Sn:f,ct:v})}return o}(t.Ipt,h,this.cSt);this.mSt(f,u,h),this.BAt(i)},i.mSt=function(t,n,i){var r=this.dSt;if(0!==t.length){for(var e=t[0].$k.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Km()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=gW(r[0].$k))?a:km.nV,f=null!=(c=gW(t[0].$k))?c:km.nV;if(f.WF(h)){var v=f.jF(h);void 0!==this.cSt&&(this.cSt+=v.VF());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var g=r[d];l.Sn=g.Sn,_W(l.$k,g.$k)}d===t.length-1&&(l.ct+=v.VF())}}}for(var w=0;w<t.length;w++){var m=t[w];if(w<r.length){var y=r[w];0,y.ir(m.$k,m.ct)}else r.push(new fW(this,m.$k,m.Sn,m.ct))}}else ir(r)},i.BAt=function(t){for(var n=0,i=this.dSt;n<i.length;n++){i[n].BAt(t)}var r=this.NAt,e=this.FAt(t);r&&nW(r,e)||(this.NAt=e,this._o(new qU))},i.FAt=function(t){return{hbt:t,MAt:QU(this.dSt),LAt:tW(this.dSt)}},i.obt=function(){var t=qi(this.dSt,-1);if(void 0!==t&&!isFinite(t.ct)&&0!==t.ift.length){var n=t.ift[0];if(0!==n.Mat.length){var i=n.Mat[0].Eot,r=i.obt();if(r)return{Eut:r,cyt:i.edt(r)}}}},i.Km=function(){this.Ro();for(var t=0,n=this.dSt;t<n.length;t++){n[t].Km()}},Nt(n,[{key:"$k",get:function(){return this.Xp}},{key:"zw",get:function(){return this.Xp.zw||OB.zW}},{key:"lyt",get:function(){return this.aSt||this.Xp.lyt||this.wyt}},{key:"cyt",get:function(){return this.Xp.cyt}},{key:"nbt",get:function(){var t,n;return null!=(n=null==(t=this.uSt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"gyt",get:function(){return this.cSt}},{key:"Fwt",get:function(){return this.RAt}},{key:"dyt",get:function(){return this.lSt}},{key:"Ipt",get:function(){return this.dSt}},{key:"wyt",get:function(){return this.Xp.wyt||this.Pn}},{key:"wwt",get:function(){return this.Xp.wwt}},{key:"fSt",get:function(){return this._St}},{key:"vSt",get:function(){return this.Pn}},{key:"Ayt",get:function(){return this.sSt}}]),n}(la);function gW(t){for(var n,i,r=yW(t),e=0,u=null!=(n=t.ift)?n:[];e<u.length;e++){r=Tm(r,wW(u[e]))}for(var s=0,o=null!=(i=t.hyt)?i:[];s<o.length;s++){r=Tm(r,pW(o[s]))}return r}function wW(t){for(var n=yW(t),i=0,r=t.Mat;i<r.length;i++){n=Tm(n,mW(r[i]))}return n}function mW(t){return yW(t)}function yW(t){var n;if(void 0!==t.Uwt&&(n=Tm(n,pW(t.Uwt))),void 0!==t.Vwt&&(n=Tm(n,pW(t.Vwt))),void 0!==t.Wwt)for(var i=0,r=t.Wwt;i<r.length;i++){n=Tm(n,pW(r[i]))}return n}function pW(t){var n,i;return km.eV(null!=(n=t.mwt)?n:pe.ZERO,null!=(i=t.RN)?i:1)}function _W(t,n){if(AW(t,n),t.Sn=n.Sn,void 0!==t.ift&&void 0!==n.ift&&t.ift.length===n.ift.length)for(var i=0;i<t.ift.length;i++)bW(t.ift[i],n.ift[i]);if(void 0!==t.hyt&&void 0!==n.hyt&&t.hyt.length===n.hyt.length)for(var r=0;r<t.hyt.length;r++)TW(t.hyt[r],n.hyt[r])}function bW(t,n){if(AW(t,n),void 0!==t.Mat&&void 0!==n.Mat&&t.Mat.length===n.Mat.length)for(var i=0;i<t.Mat.length;i++)kW(t.Mat[i],n.Mat[i])}function kW(t,n){AW(t,n)}function AW(t,n){if(void 0!==t.Uwt&&void 0!==n.Uwt&&TW(t.Uwt,n.Uwt),void 0!==t.Vwt&&void 0!==n.Vwt&&TW(t.Vwt,n.Vwt),void 0!==t.Wwt&&void 0!==n.Wwt&&t.Wwt.length===n.Wwt.length)for(var i=0;i<t.Wwt.length;i++)TW(t.Wwt[i],n.Wwt[i])}function TW(t,n){t.RN=n.RN,t.mwt=n.mwt}F(),Tt(),Mt(),Wt();var SW=function(){function t(t,n,i){this.WW=t,this.wSt=n,this.ySt=i,this.bSt=0}var n=t.prototype;return n.nQ=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.pSt(t,n.WW,n.wSt,n.ySt).catch(Tr)];case 1:return i.sent(),[2]}}))}))()},n.$lt=function(){return new Date(ke()+this.bSt)},n.pSt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return r?[4,e.ASt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];kr(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.SSt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.bSt=void 0===u?0:u-ke(),[2]}}))}))()},n.SSt=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:switch(n.G9){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.Fx)?[4,r.ASt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Fx)&&(s=new Date(u).getTime(),!S(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.ASt=function(t,n,i){return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.eE({Xu:n,EE:pl.GET,tE:Fd.Rk,ep:i})];case 1:return[4,u.sent().Mk()];case 2:return r=u.sent(),e=new Date(r).getTime(),S(e)?[3,4]:[2,e];case 3:return Ar(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),EW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Nyt=void 0,s.xSt=!0,s.dSt=[],s.OSt=void 0,s.NSt=n,s.ESt=n.zC,s.BSt=i,s.WW=r,s.FSt=e,s.LSt=new SW(s.WW,s.FSt,s.NSt.VSt),s.uSt=u,s}It(n,t);var i=n.prototype;return i.ISt=function(t){var n=this.jI;this.xSt=t,n!==this.jI&&this._o(new aW)},i.ir=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l,g;return Ot(this,(function(w){switch(w.label){case 0:return u=[],s=[],o=t.fyt?Kn.Bh(t.fyt,r.ESt):r.ESt,void 0!==r.Nyt?[3,2]:[4,r.LSt.nQ(t.byt)];case 1:return w.sent(),r.Nyt=new lW(t,r.ESt,o,r.$lt(),r.uSt),r.Nyt.bn(oO.Xht,r.Ds),[3,3];case 2:r.Nyt.ir(t,o,r.$lt(),n),w.label=3;case 3:if(0===(a=r.Nyt.Ipt).length)c=r.dSt.slice(),ir(r.dSt);else{for(h=a[0].o,f=0;f<r.dSt.length&&r.dSt[f].o!==h;)f++;for(c=r.dSt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<r.dSt.length?l=r.dSt[v]:(l=new uW(r,d),u.push(l)),s.push(l.ir(r.BSt,i))}return[4,et.all(s)];case 4:for(w.sent(),(e=r.dSt).push.apply(e,Kt(u)),g=0;g<c.length;g++)c[g].YAt();return r._o(new sW),[2]}}))}))()},i.$lt=function(){return this.LSt.$lt()},i.HAt=function(t){var n=this.dSt.indexOf(t);if(n>0)return this.dSt[n-1]},i.ZAt=function(t){var n=this.dSt.indexOf(t);if(n>=0&&n+1<this.dSt.length)return this.dSt[n+1]},i.Cyt=function(){return this.Nyt?this.Nyt.Cyt():void 0},i.Hyt=function(){return this.Nyt&&this.Nyt.Hyt()},i.BAt=function(t){this.Nyt&&this.Nyt.BAt(t)},i.yn=function(){this.Ro(),this.OSt=void 0,this.ISt(!1);for(var t=0,n=this.dSt;t<n.length;t++){n[t].yn()}ir(this.dSt),this.Nyt&&this.Nyt.Km()},Nt(n,[{key:"cyt",get:function(){return this.Nyt&&this.Nyt.cyt}},{key:"lyt",get:function(){return this.Nyt&&this.Nyt.lyt}},{key:"nbt",get:function(){return this.Nyt&&this.Nyt.nbt}},{key:"o",get:function(){return this.Nyt&&this.Nyt.$k.o}},{key:"fSt",get:function(){var t;return null==(t=this.Nyt)?void 0:t.fSt}},{key:"TSt",get:function(){var t;return null==(t=this.Nyt)?void 0:t.vSt}},{key:"dyt",get:function(){return this.Nyt?this.Nyt.dyt.map((function(t){return t.href})):[this.kSt]}},{key:"kSt",get:function(){return this.ESt.href}},{key:"_yt",get:function(){return this.Nyt&&this.Nyt.$k._yt}},{key:"vyt",get:function(){return this.Nyt&&this.Nyt.$k.vyt}},{key:"gyt",get:function(){return this.Nyt&&this.Nyt.$k.gyt}},{key:"myt",get:function(){return this.Nyt&&this.Nyt.$k.myt}},{key:"pyt",get:function(){var t,n,i=(null==(n=this.Nyt)||null==(t=n.$k.pyt)?void 0:t.ewt())||0;return k.max(i,RW)}},{key:"jI",get:function(){return this.xSt}},{key:"Ipt",get:function(){return this.dSt}},{key:"RSt",get:function(){return this.zw===OB.qW?this.qyt:this.CSt}},{key:"PSt",get:function(){var t=this.RSt;if(void 0!==t)for(var n=0,i=this.Ipt;n<i.length;n++){var r=i[n];if(r.Sn<=t&&r.Tn>t)return r}}},{key:"Rwt",get:function(){return this.Nyt&&this.Nyt.$k.Rwt}},{key:"wyt",get:function(){return this.Nyt&&this.Nyt.wyt}},{key:"XAt",get:function(){for(var t=this.dSt.length-1;t>=0;t-=1){var n=this.dSt[t].XAt;if(n)return n}}},{key:"qyt",get:function(){var t=this.XAt;if(void 0!==t){var n=t-this.DSt;return k.max(n,this.CSt)}}},{key:"CSt",get:function(){for(var t=0,n=this.dSt;t<n.length;t++){var i=n[t].Ryt;if(void 0!==i)return i}}},{key:"DE",get:function(){return Boolean(this.NSt.DE)}},{key:"DSt",get:function(){var t,n;if(this.NSt.MSt&&this.zw===OB.qW)return this.NSt.MSt;var i=null==(n=this.Nyt)||null==(t=n.$k.yyt)?void 0:t.twt();return void 0!==i?i:this.zw===OB.qW?1.5*this.myt.twt():0}},{key:"wwt",get:function(){return this.Nyt&&this.Nyt.wwt}},{key:"zw",get:function(){return this.Nyt?this.Nyt.zw:void 0}},{key:"Ayt",get:function(){var t;return null==(t=this.Nyt)?void 0:t.Ayt}}]),n}(la),IW=function(){function t(t,n,i,r,e){this.GAt=new EW(t,n,i,r,e)}return Nt(t,[{key:"tdt",get:function(){return this.GAt}}]),t}(),RW=1e3,CW=k.pow(2,31)-1,NW=function(){function t(t,n,i,r,e){var u=this;this.USt=new mr,this.GSt=Pt((function(t){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.Nyt.tdt.$lt(),[4,u.$St(u.Nyt.tdt.dyt,t)];case 1:return i=e.sent(),[4,u.Nyt.tdt.ir(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw ql(r=e.sent())&&u.Nyt.tdt.ISt(!1),r;case 4:return[2]}}))})),this.eTt=r,this.Nyt=new IW(t,n,i,this.USt.ep,e)}var n=t.prototype;return n.ix=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:n.Nyt.tdt._o(new aC),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.GSt(t)];case 2:return r.sent(),n.Nyt.tdt.ISt(!0),[3,4];case 3:throw Ar(i=r.sent()),n.WSt=void 0,n.Nyt.tdt.ISt(!1),new p("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.ZSt=n.HSt(n.USt.ep),[2]}}))}))()},n.HSt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.Nyt.tdt.zw!==OB.qW?[3,3]:[4,Sr(n.XSt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.qSt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return kr(t),(i=n.YSt())>0?[4,Mr(k.min(i,CW),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.GSt(t)];case 3:return e.sent(),n.Nyt.tdt.ISt(!0),[3,6];case 4:throw r=e.sent(),new p("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.KSt=void 0,[7];case 6:return[2]}}))}))()},n.YSt=function(){var t=this.Nyt.tdt.$lt().getTime()-this.Nyt.tdt.fSt.getTime();return this.Nyt.tdt.pyt-t},n.jSt=function(t){var n=this.Nyt.tdt.Hyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Nyt.tdt.BAt(t);var r=this.Nyt.tdt.Hyt();return r?r.getTime()-t.getTime():NaN},n.zSt=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=n.KSt||(n.KSt=n.qSt(t)),r=Vt(i,mr.hp([t]),!1),e=[n.KSt,n.QSt(r.ep)].filter(Yn),[4,et.race(e).catch(Tr)];case 2:return s.sent(),[3,5];case 3:return u=s.sent(),i.error=u,i.hasError=!0,[3,5];case 4:return Ft(i),[7];case 5:return[2]}}))}))()},n.QSt=function(t){var n=this.Nyt.tdt.$lt(),i=this.jSt(n);if(!S(i)&&!this.Nr.tdt.nbt)return this.JSt(i,t)},n.JSt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,Mr(t,n)];case 1:return e.sent(),r=i.Nyt.tdt.$lt(),i.Nyt.tdt.BAt(r),[2]}}))}))()},n.$St=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,i.eTt.tTt(t,{},n)];case 1:return r=e.sent(),[2,(new sU).Syt(r.iTt,r.rE)]}}))}))()},n.yn=function(){return this.USt.np(),this.ZSt=void 0,this.WSt=void 0,this.KSt=void 0,this.Nyt.tdt.yn(),et.resolve()},Nt(t,[{key:"Nr",get:function(){return this.Nyt}},{key:"W",get:function(){return this.WSt||(this.WSt=this.ix(this.USt.ep),xr(this.WSt)),this.WSt}},{key:"XSt",get:function(){return this.Nyt.tdt.TSt&&this.Nyt.tdt.zw===OB.qW?this.zSt(this.USt.ep):this.W}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var DW=function(t){function n(n,i){var r;return(r=t.call(this,"Opt")||this).jpt=n,r.Ldt=i,r}return It(n,t),n}(ma),xW=function(t){function n(n,i){var r;(r=t.call(this)||this).Bdt=void 0,r.Zp=n,r.pC=i;for(var e=0,u=r.pC;e<u.length;e++){u[e].Adt=r}return r}It(n,t);var i=n.prototype;return i.MW=function(t){t&&this.Bdt!==t&&this.sTt(t)},i.LW=function(t){this.Bdt===t&&this.sTt(void 0)},i.sTt=function(t){this.Bdt=t,this._o(new DW(this,this.Bdt))},i.yn=function(){this.Ro();for(var t=0,n=this.pC;t<n.length;t++){n[t].Adt=void 0}ir(this.pC)},Nt(n,[{key:"Ldt",get:function(){return this.Bdt}},{key:"zw",get:function(){return this.Zp}},{key:"Z",get:function(){return this.pC.slice()}}]),n}(la);F(),Tt(),F(),Tt(),F(),Tt(),Rt();var PW=function(t){function n(n,i,r){var e;return(e=t.call(this,ya.My)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return It(n,t),n}(ma);function LW(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.zw===aw.wE?u=u.concat(a.Z):a.zw===aw.yE&&(s=s.concat(a.Z))}return[MW(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),OW(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Yn)}function MW(t,n,i,r,e){var u=Hi(r||[],(function(t){return t.uat===aw.wE&&t.Rt})),s=[VW(u,i,t),FW(u),UW(u),WW(u,e),ZW(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return BW(n,s)}function OW(t,n,i,r,e){var u=Hi(r||[],(function(t){return t.uat===aw.yE&&t.Rt})),s=[VW(u,i,t),WW(u,e),ZW(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return BW(n,s)}function BW(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function VW(t,n,i){return function(r){var e=t?t.nct.o:void 0;if(!Yn(e))return r;var u=null==n?void 0:n.oyt,s=i.oyt,o=u&&s&&u.Fx===s.Fx,a=Hi(r,(function(t){return t.nct.o===e}));return o&&a?[a]:r}}function FW(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function UW(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter((function(t){return t.Lt===i}));return r.length>0?r:n}}function WW(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.VC.mC.some((function(t){return vN(t.Frt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}return t}}function ZW(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.nct.vH;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}F(),Tt(),at(),F(),Tt();var XW=function(t){return t.nTt="api",t.rTt="start",t}({});F(),Tt(),Mt(),Wt();var GW={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},HW=function(){function t(t,n,i){void 0===i&&(i=GW),this.WW=t,this.aTt=n,this.Wlt=i}var n=t.prototype;return n.oTt=function(t,n,i){var r=this,e=this.Wlt.maxRetries===1/0?GW:this.Wlt;return DT((function(){return r.hTt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.hTt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new Tl({Xu:s,tE:Fd.Rk,iE:n,DE:r.aTt,EE:pl.GET,zw:_l.hE,CE:bl.oE,ep:i,xE:15e3,RE:5e3}),[4,r.WW.eE(o)];case 3:return[4,(a=h.sent()).Mk(i)];case 4:return[2,{iTt:h.sent(),uTt:s,rE:a.rE}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();function zW(t){return Cl(t)}function YW(t,n){var i=Cl(t);return n?""+i+n:""+i}F(),Tt(),Mt(),Wt(),F(),Tt();var jW=function(){function t(t){this.cTt=t}return t.prototype.tTt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:u=0,s=r.cTt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.tTt(t,n,i)];case 3:return[2,c.sent()];case 4:return Ar(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),KW=function(){function t(t){this.Rut=t}return t.prototype.tTt=function(t,n,i){var r=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,r.Rut.lTt(t)];case 1:if(n=i.sent())return[2,{iTt:n.data,uTt:n.locationURL,rE:n.responseURL}];throw new p("Manifest fetch from cache unsuccesful")}}))}))()},t}(),qW=function(){function t(t){this.dTt=t}return t.prototype.tTt=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,r.dTt.oTt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function JW(t,n){return new jW([new KW(n),new qW(t)])}var QW=function(){function t(t,n,i){this.eTt=t,this.d_=n,this.vTt=i}var n=t.prototype;return n.tTt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return[4,r.eTt.tTt(t,n,i)];case 1:return e=u.sent(),[4,r.fTt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.fTt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.d_._Tt({key:zW(t.uTt),locationURL:Cl(t.uTt),responseURL:Cl(t.rE),data:t.iTt,references:[n.vTt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();F(),Tt(),Rt();var $W=function(t){function n(){return t.call(this,ya.Yy)||this}return It(n,t),n}(ma);F(),Tt(),Rt();var tZ=function(t){function n(){return t.call(this,ya.qy)||this}return It(n,t),n}(ma);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Rt();var nZ=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.gTt=function(t){return t.aR=Mw.LOADED,this.tt(t),t},i.mTt=function(t){for(var n=0,i=this.Z.mC;n<i.length;n++){var r=i[n];if(r.ZC===t)return r}},n}(_p);function iZ(t,n){return""===n?t:t+" "+n}F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt();var rZ=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).Kx=e,s.pTt=u,s}return It(n,t),n.prototype.RF=function(t){return this.U===t.U},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Ug(zw(t),{get attributes(){return t.Kx},get eventID(){var n;return""+(null!=(n=t.pTt)?n:"")}})}(this)),this.eu}}]),n}(nm),eZ=function(t){function n(n){var i;return(i=t.call(this)||this).eSt=void 0,i.bTt=function(){var t,n,r=null!=(n=null==(t=i.eSt.Cyt())?void 0:t.Sn)?n:0;if(r>0)for(var e=0,u=i.Z.mC;e<u.length;e++){yp(u[e],r)}for(var s=0,o=i.eSt.Ipt;s<o.length;s++){var a=o[s];if(a.Tn>r)for(var c=0,h=a.hyt;c<h.length;c++){var f=h[c];i.yTt(f,a,r)}}},i.FW=n,i}It(n,t);var i=n.prototype;return i.wTt=function(t){var n=this.FW.ZR(ep.xW,"","","",void 0,Ow.EVENT_STREAM);return n.ZC=t,this.gTt(n),n},i.yTt=function(t,n,i){var r,e,u,s=t.G9,o=null!=(r=t.Fx)?r:"",a=null!=(e=t.RN)?e:1,c=null!=(u=t.mwt)?u:pe.ZERO,h=iZ(s,o),f=this.mTt(h);f||(f=this.wTt(h));for(var v=0,d=t.TY;v<d.length;v++){var l=d[v];if(!uZ(l,f)){var g=sZ(l,a,c,n);g.dF>i&&f.UW(g)}}},i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.eSt=t,n.eSt.bn(ya.Xy,n.bTt),n.bTt(),[2]}}))}))()},i.nr=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:for(n.eSt&&(n.eSt.vn(ya.Xy,n.bTt),n.eSt=void 0),i=0,r=n.Z.mC;i<r.length;i++)e=r[i],n.FW.ZW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(nZ);function uZ(t,n){var i=t.o;if(void 0!==i&&Hi(n.L.mC,(function(n){return n.pTt===i&&n.U===t.$k})))return!0;return!1}function sZ(t,n,i,r){var e=t.o,u=t.VL.toSigned().subtract(i),s=t.ct,o=t.$k,a=t.Kx,c=u.toNumber()/n+r.Sn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.qAt;return new rZ(c,f,o,a,e)}function oZ(t,n,i,r,e){var u=[],s=Hi(i,(function(t){return t.G9===po}));if(void 0!==s){var o=s.Fx?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Fx.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.G9!==po)for(var h=0,f=Ko(c.G9);h<f.length;h++){var v,d,l=f[h],g=e&&c.Z9?[c.Z9]:[],w=null!=(d=null==(v=t.clearkey)?void 0:v.keys)?d:[];u.push({_T:l,sZ:g,nZ:void 0,lG:void 0,rZ:w})}}if(u.length)return{DU:t,jmt:{ATt:o,NU:s.NU},Kmt:u,STt:n===aw.wE?r.slice():[],TTt:n===aw.yE?r.slice():[],z9:!1}}}}function aZ(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=ho();return cZ(r,e,t.Kmt),cZ(r,e,n.Kmt),{DU:t.DU,jmt:{ATt:t.jmt.ATt,NU:null!=(i=t.jmt.NU)?i:n.jmt.NU},Kmt:r,STt:hZ(t.STt,n.STt,tr),TTt:hZ(t.TTt,n.TTt,tr),z9:t.z9||n.z9||!1}}function cZ(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e._T.jw,s=void 0;n.has(u)?(s=n.get(u)).sZ=hZ(s.sZ,e.sZ,fZ):(s=ao({},e),t.push(s),n.set(u,s))}}function hZ(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function fZ(t,n){for(var i=0;i<t.length;i++){if(Hc(t[i],n))return!0}return!1}function vZ(t,n,i){var r,e=t.$G;if(e){for(var u=t.SY,s=[],o=0,a=t.Frt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=oZ(n||{},t.zw,e,s,i)}for(var h=0,f=t.Mat;h<f.length;h++){r=aZ(r,dZ(f[h],n,i))}return r}function dZ(t,n,i){return oZ(n||{},t.zw,t.$G||[],[t.Fk],i)}function lZ(t){return t?t.Kmt.map((function(n){var i=gZ(t.DU,n._T),r=t.jmt.ATt;return{_T:n._T,sZ:n.sZ,lG:n.lG,eH:[{initDataTypes:[n._T.Yw],audioCapabilities:wZ(t.STt,r,null==i?void 0:i.audioRobustness),videoCapabilities:wZ(t.TTt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}],rZ:n.rZ}})):[]}function gZ(t,n){switch(n.zw){case Uo.Uw:return t.widevine;case Uo.Ww:return t.playready;case Uo.Hw:return t.fairplay;case Uo.Gw:case Uo.Zw:return t.clearkey}}function wZ(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function mZ(t,n){var i=function(t){var i=n.indexOf(t._T.jw);return i>=0?i:n.length};return Si(t,(function(t,n){return i(t)-i(n)}))}F(),Tt(),F(),Tt(),Mt(),Rt(),nn(),Wt();var yZ=function(t){function n(n){var i;(i=t.call(this)||this).xdt=[],i.ir=function(){for(var t=[],n=0,r=i.eSt.Ipt;n<r.length;n++)for(var e=0,u=r[n].ift;e<u.length;e++){var s=u[e];if(s.zw===aw.bE&&s.Mat.length>0){var o=s.Mat[0];t.push(o),i.PTt(o)||i.wTt(o),-1===i.xdt.indexOf(o)&&(i.xdt.push(o),o.bn(oO.Xht,i.RTt)),i.NTt(o)}}i.kTt(t)},i.NTt=function(t){var n=i.DTt(t);n&&t&&n.LE!==qy.Mh&&(i.CTt(),function(t,n){var i=t.Eot,r=t.Zyt();if(!r)return;var e=r.abt,u=r.ubt,s=t.ji,o=t.Ti,a=tn(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(ta(i.G9,_Z)||ta(i.G9,bZ)){var r=i.Fx.match(pZ);if(r){var e=tn(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.kwt),2),c=a[0],h=a[1],f=e;for(;f&&f.Mut<=u.Mut;){for(var v=t.Vyt.ct||f.ct,d=kZ(n,f,t.nlt(f).Xu,s,o,c,h,v),l=0;l<d.length;l++){var g=d[l];n.UW(g)}f=i.elt(f)}}(t,n))},i.FW=n;var r=i;return i.RTt=function(){r.NTt(this)},i}It(n,t);var i=n.prototype;return i.wTt=function(t){var n=this.FW.ZR(ep.xW,t.o,"thumbnails","",!1,Ow.DEFAULT);return n.LE=qy.Qn,this.gTt(n),n},i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.eSt=t,n.eSt.bn(ya.Xy,n.ir),n.ir(),[2]}}))}))()},i.kTt=function(t){this.ETt(t),this.xTt()},i.xTt=function(){for(var t=[],n=0,i=this.Z.mC;n<i.length;n++){var r=i[n];this.ITt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.ETt=function(t){for(var n=[],i=0,r=this.xdt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];Ji(this.xdt,s)}},i.nr=function(){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:for(n.eSt&&(n.eSt.vn(ya.Xy,n.ir),n.eSt=void 0),i=0,r=n.xdt;i<r.length;i++)r[i].vn(oO.Xht,n.RTt);for(n.xdt.length=0,e=0,u=n.Z.mC;e<u.length;e++)s=u[e],n.FW.ZW(s);return[4,t.prototype.nr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.yn=function(){return this.RTt=void 0,t.prototype.yn.call(this)},i.CTt=function(){var t,n,i=null!=(n=null==(t=this.eSt.Cyt())?void 0:t.Sn)?n:0;if(i>0)for(var r=0,e=this.Z.mC;r<e.length;r++){yp(e[r],i)}},i.PTt=function(t){return this.Z.mC.some((function(n){return n.o===t.o}))},i.DTt=function(t){return Hi(this.Z.mC,(function(n){return n.o===t.o}))},i.ITt=function(t){return this.xdt.some((function(n){return t.o===n.o}))},n}(nZ),pZ=/^(\d+)x(\d+)$/,_Z="http://dashif.org/guidelines/thumbnail_tile",bZ="http://dashif.org/thumbnail_tile";function kZ(t,n,i,r,e,u,s,o){var a=[],c=n.lF,h=u*s,f=r/u,v=e/s,d=k.round(f),l=k.round(v),g=o/h;if(1===h){var w=c+g;return AZ(t,c,w,i)?a:[new nm(c,w,i,!1)]}for(var m=0;m<s;m++)for(var y=0;y<u;y++){var p=c+(m*u+y)*g,_=p+g,b=i+"#xywh="+k.round(y*f)+","+k.round(m*v)+","+d+","+l;if(AZ(t,p,_,b)||a.push(new nm(p,_,b,!1)),_>=n.dF)return a}return a}function AZ(t,n,i,r){return t.L.mC.some((function(t){return t.lF===n&&t.dF===i&&t.U===r}))}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt();var TZ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).MTt=r,o.LTt=e,o.OTt=u,o}return It(n,t),n.prototype.RF=function(t){return zc(this.U,t.U)},Nt(n,[{key:"FL",get:function(){return this.MTt}},{key:"Fx",get:function(){return this.LTt}},{key:"BTt",get:function(){return this.OTt}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Ug(zw(t),{get schemeIDURI(){return t.FL},get value(){return t.Fx},get emsgID(){return t.BTt}})}(this)),this.eu}}]),n}(nm),SZ=function(t){function n(n){var i;return(i=t.call(this)||this).FW=n,i}It(n,t);var i=n.prototype;return i.adt=function(t,i,r){var e=Iy.cN(Pc(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];py(e,n)&&i.push(e)}return i}(e,ly.ED);if(u.length){var s=n.FTt(e,i,r);this.VTt(u,s,r)}}},i.VTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.aN?e.VL.toNumber()/e.RN+i:n+e.GL/e.RN)+e.WL/e.RN;"https://aomedia.org/emsg/ID3"===e.FL||"https://developer.apple.com/streaming/emsg-id3"===e.FL?this.WTt(e,u):this.UTt(e,u,s)}},i.UTt=function(t,n,i){var r=iZ(t.FL,t.Fx),e=this.mTt(r);e||(e=this.GTt(r),this.gTt(e)),e.UW(new TZ(n,i,t.FL,t.Fx,t.o,t.UL))},i.WTt=function(t,n){var i=$D(Pc(t.UL));if(i){var r=iZ(t.FL,t.Fx),e=this.mTt(r);e||(e=this.ZTt(r),this.gTt(e));for(var u=0,s=i.d6;u<s.length;u++){var o=s[u],a=new fx(n,o);ED(a,e.L.mC),e.UW(a)}}},i.GTt=function(t){var n=this.FW.ZR(ep.xW,"","","",void 0,Ow.EMSG);return n.ZC=t,n.LE=qy.GC,n},i.ZTt=function(t){var n=this.FW.ZR(ep.xW,"","","",void 0,Ow.ID3);return n.ZC=t,n.LE=qy.GC,n},i.nr=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.mC;i<r.length;i++)e=r[i],n.FW.ZW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.FTt=function(t,n,i){var r=_y(t,ly.xD);return r?Ie(r.tB,r.RN)+i:n},n}(nZ),EZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bTt=function(){var t,i,r=null!=(i=null==(t=n.eSt.Cyt())?void 0:t.Sn)?i:0;n.PW(r)},n}It(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.eSt=t,n.eSt.bn(ya.Xy,n.bTt),n.bTt(),[2]}}))}))()},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.eSt&&(n.eSt.vn(ya.Xy,n.bTt),n.eSt=void 0),[4,t.prototype.nr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(SZ);F(),Tt(),F(),Tt(),Mt(),Wt();var IZ=function(){function t(t){this.HTt=!1,this.Rut=t}var n=t.prototype;return n.clt=function(t,n){return this.HTt?this.Rut.clt(t,n):et.resolve(!1)},n.Iut=function(t,n){return this.HTt?this.Rut.Iut(t,n):et.resolve(void 0)},n.lTt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.Rut.lTt(t)];case 1:return i=r.sent(),n.HTt=void 0!==i,[2,i]}}))}))()},n.hJ=function(t){return this.Rut.hJ(t)},t}();F(),Tt(),Rt();var RZ=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.pO=function(){var t;return null!=(t=this.gO)?t:0},i.JC=function(){this.na.RI=1/0},i.wO=function(t,n,i){return!1},i.yO=function(){return!0},n}(GA),CZ=[ya.jy,ya.Jy,ya.sb,ya.zy,ya.ob],NZ=[ya.Qy,ya.vb,ya.Fy,ya.By],DZ=function(t){function n(n,i,r,e,u,s,o){var a,c;return(a=t.call(this)||this).dkt=void 0,a.kkt=void 0,a.k8=!1,a.sxt=NaN,a.bZ=void 0,a.AZ=void 0,a._8=!1,a.Ekt=void 0,a.l8=void 0,a.oxt=!1,a.nxt=0,a.rxt=0,a.Fkt=!1,a.GW=new mr,a.lkt=new ih,a.JEt=!1,a.Nyt=void 0,a.hEt=void 0,a.xSt=!0,a.Nkt=!0,a.REt=void 0,a.Uo=FA.WB(),a.TZ=cS.xH,a.YEt=void 0,a.oU=!0,a.Sc=void 0,a.WEt=void 0,a.bpt=void 0,a.npt=[],a.FH=!1,a.okt=new mr,a.ckt=et.resolve(),a.V8=new mr,a.W8=et.resolve(),a.iEt=!1,a.PEt=!1,a.hkt=new mr,a.akt=et.resolve(),a.wkt=void 0,a.Zmt=void 0,a.Ckt=0,a.Pkt=0,a.Dkt=0,a.RZ=new Bk,a.yEt=void 0,a.QTt={WO:0,UO:0,GO:0},a.kZ=void 0,a.mZ=void 0,a.jkt=function(t){var n,i,r,e;"Opt"===(null==t?void 0:t.type)&&(e=t.Ldt),e&&(null==(n=e.Adt)?void 0:n.zw)===aw.wE&&(null==(r=a.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?a.rkt(!0):a.rkt()},a.Qpt=function(t){var n;null==(n=a.dkt)||n.Qpt(t)},a.Npt=function(t){var n;null==(n=a.dkt)||n.Npt(t)},a.Tc=function(){a._o(new Eg(a.RI,a.kI))},a.t8=function(t){a._o(new PW(a.RI,t.Yw,t.Sb))},a.Xkt=function(t){a.Ckt+=t.HO,a._o(t)},a.zkt=function(t){var n=t.segments.filter((function(t){return t.Mct}));t.track===aw.wE?a.Pkt=n.length:t.track===aw.yE&&(a.Dkt=n.length)},a.W7=function(){var t=a.ct;S(t)||t===a.sxt||(a.sxt=t,a._o(new ST(a.sxt)))},a.cxt=function(){a.nkt(),a.IEt()},a.uxt=function(t){a.PEt||!a.MI||a.dR||(a.PEt=!0,a._o(null!=t?t:new IT(a.RI)))},a.ZEt=function(t){a.Ds(t),a.Fkt||(a.Fkt=!0,a.axt.vxt())},a.GEt=function(){a.Nyt.tdt.vn(ya.Hy,a.GEt),a._o(new aC)},a.Ykt=function(t){var n;if(t.errorObject.code===vd.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.dkt)?void 0:n.Upt.every((function(t){return!t.Ddt}))))return;a.uH(t.errorObject),a._o(t)},a.qkt=function(t){a.uH(t.errorObject)},a.Gpt=function(t){br(t)||a.uH(new ld(vd.MEDIA_DECODE_ERROR,t.message,t))},a.nkt=function(){if(!a.JI)if(a.xkt())if(a.Rkt()){var t=a.Nyt.tdt.RSt;a.Db(t,!0)}else;else{var n=a.Nyt.tdt.RSt;a.Db(n,!0)}},a.NEt=function(t){a.oxt=a.dR,a._o(t)},a.BEt=function(t){var n=a.oxt,i=a.dR;a.oxt=i,n&&!i&&a._o(t),a.uxt()},a.Kkt=function(){var t=a.pR,n=a.vR;a.nxt===t&&a.rxt===n||(a.nxt=t,a.rxt=n,a._o(new Rp))},a.AEt=function(t){var n=t.Ht;n.LE===qy.Qn?(a.fEt(n),a.vEt=n):n===a.vEt&&n.LE===qy.Mh&&(a.vEt=void 0,a.gEt())},a.DEt=function(){a._8||a.REt&&(a.REt.Zb(),a.REt=void 0)},a.EEt=function(t){a._8||a.REt&&(a.REt.Hb(t),a.REt=void 0)},a.HEt=function(){a.qEt().catch(a.Gpt)},a.fxt=function(t){a.uH(gw(t.lt))},a.lxt=function(){a.zTt()},a.dxt=function(){a.qTt()},a._xt=function(t){a.KTt(t.$G)},a.WW=n,a.Rut=new IZ(u),a.aO=s,a.ekt=o,a.XH=r,a.XH.bn("Jj",a.lxt),a.XH.bn("iQ",a.dxt),a.xZ=e,a.Wlt=ao({},i.retryConfiguration,{maxRetries:null!=(c=i.retryConfiguration.maxRetries)?c:1/0}),a.LO=new vA,a.FO=new vA,a.MZ=new Fk(n),a.MZ.bn("contentProtectionsTracked",a._xt),a.aO.bn(ya.Dy,a.W7),a.aO.bn(Sa.My,a.t8),a.aO.bn(ya.Ly,a.uxt),a.aO.bn(ya.ib,a.NEt),a.aO.bn(ya.eb,a.BEt),a.aO.bn(ya.$y,a.Kkt),a.aO.bn(ya._b,a.Tc),a.aO.bn([ya.ho,ya.Ky],a.cxt),a.aO.bn(NZ,a.Ds),a.aO.bn(Qy.fa,a.fxt),a.aO.zZ=a.MZ,a.aO.ntt=a,a.aO.bn([ya.Ry,ya.Iy],a.Ds),a.aO.bn(ya.pb,a.Qpt),a.aO.bn(ya.LICENSE_REQUEST_GENERATED,a.Npt),a.axt=new xZ(a,a.aO),a.ZZ=new Wp(a.axt,!0),a.ZZ.bn(Np.aB,a.nkt),a.ZZ.bn(Dp,a.Ds),a.bEt=new dA,a.bEt.bn(Og.da,a.AEt),a.pEt=new dA,a.FW=a.gxt(),a.XEt=new eZ(a.FW),a.zEt=new yZ(a.FW),a.VZ=new kp(a.aO,a.WW),a.hxt=new rp,a.Hl=new Wk([a.bEt,a.XEt.Z,a.zEt.Z,a.VZ.Z,a.hxt]),a}It(n,t);var i=n.prototype;return i.XTt=function(t){return!!this.kZ&&this.kZ.ZJ(t)},i.Vp=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.aO.$n(t)];case 1:return n.kZ=i.sent(),n.zTt(),n.qTt(),n.kZ.q4(n.ct),[2]}}))}))()},i.YTt=function(t){return this.kZ.XJ(t)},i.KTt=function(t){return this.kZ.qJ(t)},i.jTt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.QTt=t.JTt,t.kZ?[4,t.aO.nr()]:[3,2];case 1:n.sent(),t.kZ=void 0,n.label=2;case 2:return[2]}}))}))()},i.Y3=function(){this.kZ.Y3()},i.V3=function(){var t=this.ct;this.kZ.ct<t&&this.kZ.q4(t),this.kZ.V3()},i.$Tt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return i=n.kZ,r=[],i.d4&&r.push(kN(i.d4,t)),i.f4&&r.push(kN(i.f4,t)),[4,et.all(r)];case 1:return e.sent(),[2]}}))}))()},i.tkt=function(t,n,i,r,e,u){var s=this.aO,o=this.kZ;return new bF(s,o,t,n,i,r,e,u,this.ekt,s,this.Zmt,this.Wlt,this.npt,this.MZ)},i.ikt=function(t,n,i){return t.XJ(n,i,this.kZ)},i.skt=function(t,n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return(u=e.tkt(e.WW,e.XH,e.Rut,e.Sc,t,r)).bn(oO.qht,e.nkt),u.bn(ya.zy,e.Ds),[4,u.nQ(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.rkt=function(t){void 0===t&&(t=!1),this.okt.np(),this.V8.np(),this.hkt.np(),this.hkt=new mr,this.akt=Er(this.ukt(this.ckt,this.W8,this.akt,t,this.hkt.ep),this.hkt).catch(this.Gpt)},i.ukt=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:return[4,et.all([t,n,i])];case 1:return v.sent(),kr(e),[4,Sr(u.lkt.Xb,e)];case 2:return v.sent(),[4,(s=u.dkt).xat()];case 3:return v.sent(),u.V3(),kr(e),o=s.Cc,a=s.Upt,c=s.Wpt,h=u.fkt(o,c,o,a,!1),f=u._kt(c,h),r||!u.XTt(f)?[3,5]:[4,u.vkt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.fkt(o,c,o,a,!0),f=u._kt(c,h),[4,u.gkt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return kr(e),u.dR?u.Db(u.RI):u.mkt(),u.pkt(),[2]}}))}))()},i.vkt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return e=r.dkt,[4,r.YTt(i)];case 1:return u.sent(),r.wkt=i,[4,r.ikt(e,t,n)];case 2:return u.sent(),[4,e.Rat(eO.oht)];case 3:return u.sent(),[2]}}))}))()},i.gkt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return u=e.dkt,e.z8(),e.ykt(),s=e.bkt,[4,e.jTt()];case 1:return a.sent(),[4,e.Vp(i)];case 2:return a.sent(),e.wkt=i,[4,e.ikt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),xr(o=e.Akt(s,!1,!0,r)),[4,u.Rat(eO.oht)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.Q8(),e.Skt(),[7];case 8:return[2]}}))}))()},i.DI=function(t,n){this.Db(t,t===1/0)},i.d8=function(){return!!this.dR&&(!(!this.dkt||!this.dkt.xpt)&&this.bkt===this.dkt.Tn)},i.xkt=function(){var t,n,i=this.Ikt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.pZ)?void 0:t.Tn)?n:this.bkt,e=i.Sn(0);return r>=e||xi(r,e,.001)},i.Rkt=function(){var t;if(!this.Nyt)return!1;if(this.Nyt.tdt.zw!==OB.qW)return!1;var n=null==(t=this.dkt)?void 0:t.Cc;if(n&&n.Yht)return!0;for(var i=[],r=0,e=this.Nyt.tdt.Ipt;r<e.length;r++){var u=e[r],s=u.Ryt,o=u.qAt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new FA(i).bB();return function(t,n,i){if(!n.V||!i.V)return FA.WB();var r=n.Sn(0),e=n.Tn(n.V-1),u=t.jn(i).pB().jn(t).AB(n);return FA.VB(u.Sn(0),u.Tn(u.V-1)).SB(u).PB((function(t,n){return t<r&&n<=e&&n-t>Se}))}(this.Tkt,this.Ikt,a).V>0},i.Bkt=function(t){this.Uo=this.Uo.AB(t)},i.Hkt=function(t){t.bn(CZ,this.Ds),t.bn(ya.ub,this.Xkt),t.bn(ya.Ey,this.zkt),t.bn(Qy.fa,this.qkt),t.bn(ya.Iy,this.Ykt),t.bn(ya.Jy,this.Kkt),t.bn("Opt",this.jkt),t.bn("_pt",this.jkt)},i.Qkt=function(t){t.vn(CZ,this.Ds),t.vn(ya.ub,this.Xkt),t.vn(ya.Ey,this.zkt),t.vn(Qy.fa,this.qkt),t.vn(ya.Iy,this.Ykt),t.vn(ya.Jy,this.Kkt),t.vn("Opt",this.jkt),t.vn("_pt",this.jkt)},i.Jkt=function(t){t.bn(ya.jy,this.Ds)},i.$kt=function(t){t.vn(ya.jy,this.Ds)},i.Zkt=function(){if(this.dkt){var t=Hi(this.dkt.Wpt,(function(t){return t.uat===aw.yE}));if(t)return t.BC}},i.Vkt=function(t){var n,i=null==(n=this.Nyt)?void 0:n.tdt;if(!i)return FA.WB();var r=i.CSt,e=t?i.XAt:i.qyt;if(void 0===r||void 0===e)return FA.WB();if(!t){var u=this.Lkt;u.V>0&&u.Tn(u.V-1)>e&&(e=k.min(u.Tn(u.V-1),i.XAt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),FA.VB(r,e).gB()},i.$n=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:kr(n),u=i.Nyt.tdt;try{r=u.PSt,e=u.RSt}catch(t){throw new p("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new p("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new p("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.tEt(t.textTracks),i.z8(),s=i.Jdt(r),o=LW(r,s,void 0,void 0,i.bpt),a=i.fkt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i._kt(o,a),[4,i.Vp(c)];case 1:return f.sent(),i.wkt=c,kr(n),[4,i.skt(r,s,o,a)];case 2:return h=f.sent(),kr(n),i.eEt(h),i.Q8(),kr(n),[4,h.Rat()];case 3:return f.sent(),kr(n),!i.iEt&&e>0&&i.Db(e,!0,XW.rTt),i.FH||(i.mkt(),i.sEt()),[2]}}))}))()},i.mkt=function(){this.okt.np(),this.okt=new mr,this.ckt=Er(this.nEt(this.ckt,this.akt,this.okt.ep),this.okt).catch(this.Gpt)},i.rEt=function(){this.okt.np()},i.nEt=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,et.all([t,n])];case 1:s.sent(),kr(i),s.label=2;case 2:return(u=null==(e=r.dkt)?void 0:e.Cc)?[4,r.oEt(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.oEt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:kr(n),e=i.dkt,s.label=1;case 1:return i.Nyt.tdt.zw!==OB.qW||void 0!==(null==(r=i.ZAt(t))?void 0:r.Ryt)?[3,4]:[4,Sr(i.hEt.XSt,n)];case 2:return s.sent(),[4,i.aEt()];case 3:return s.sent(),[3,1];case 4:return kr(n),[4,i.aEt()];case 5:s.sent(),kr(n),s.label=6;case 6:return e.Apt()?[3,9]:[4,e.Ay(BB.uft,n)];case 7:return s.sent(),[4,i.aEt()];case 8:return s.sent(),[3,6];case 9:return kr(n),[4,i.aEt()];case 10:return s.sent(),kr(n),(u=i.ZAt(t))?i.uEt(u)?[4,i.cEt(u,n)]:[3,12]:(i.Y3(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.lEt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.uEt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.Sc)?void 0:n.seamlessSwitchStrategy)?u:KA.bO;if(s===KA.AO)return!0;if(s===KA.SO)return!1;var o=this.dkt,a=null==o?void 0:o.Cc,c=null==o?void 0:o.Wpt,h=LW(t,this.Jdt(t),a,c,this.bpt),f=this.fkt(t,h,a,c,!1);if(s===KA.CLEAR_ONLY&&((null==(i=this.dkt)?void 0:i.Ymt)||f)||s===KA.SAME_DRM_ONLY&&!((null==(r=this.dkt)?void 0:r.Ymt)&&f||!(null==(e=this.dkt)?void 0:e.Ymt)&&!f))return!1;var v=this._kt(h,f);return this.XTt(v)},i.dEt=function(){return!0},i.fEt=function(t){for(var n=this._Et(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.LE=qy.Mh)}},i.pkt=function(){if(void 0!==this.vEt){if(this.vEt.XC){var t=Hi(this.ht.mC,(function(t){return t.Rt}));void 0!==t&&this.vEt.gs===t.gs||(this.vEt.LE=qy.Mh)}}else this.gEt()},i.gEt=function(){if(!this._Et().length){var t=Hi(this.ht.mC,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.mC.filter((function(t){return t.XC})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.LE=qy.Qn,void(this.vEt=r)}}},i._Et=function(){return this.nt.mC.filter((function(t){return t.LE===qy.Qn&&(t.Lt===ep.kW||t.Lt===ep.TW)}))},i.mEt=function(t){if(t&&this.vEt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.vEt,t.nt.mC);n&&(n.LE=qy.Qn)}},i.cEt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:u=i.dkt,s=i.kkt,o=i.wkt,g.label=1;case 1:return g.trys.push([1,16,,22]),kr(n),a=u.Cc,c=u.Wpt,h=i.Jdt(t),MZ(u.Kpt,h),f=LW(t,h,a,c,i.bpt),v=i.fkt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),d=i._kt(f,v),[4,u.xat()];case 2:return g.sent(),i.V3(),kr(n),s&&s.Cc===t?i.XTt(d)?[4,i.YTt(d)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.wkt=d,[3,11];case 5:return s?[4,s.yn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.XTt(d)?[4,i.YTt(d)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.wkt=d,[4,i.skt(t,h,f,v)];case 10:s=g.sent(),i.kkt=s,i.Jkt(s),i.pEt.bC=s.nt,s.Cat(u),g.label=11;case 11:return[4,s.Rat()];case 12:g.sent(),kr(n),g.label=13;case 13:return i.bkt<t.Sn?[4,i.aO.Ay(ya._b,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return kr(n),i.eEt(s),[3,22];case 16:return br(l=g.sent())?s?[4,s.xat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.wkt!==o?i.XTt(o)?[4,i.YTt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.wkt=o,g.label=21;case 21:throw l;case 22:return(null==(e=i.Sc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.wEt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.wEt=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.yEt?[3,1]:(i.yEt=r,[3,5]);case 1:if(!(r-i.yEt>900))return[3,5];i.yEt=r,i.ykt(),e=k.max(i.bkt,t.Sn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.Akt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.Skt(),[7];case 5:return[2]}}))}))()},i.lEt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return kr(n),[4,i.dkt.xat()];case 1:return g.sent(),i.V3(),[4,i.$Tt(t.Sn)];case 2:g.sent(),kr(n),i.Y3(),g.label=3;case 3:return!i.aO.MI&&i.bkt<t.Sn?[4,i.aO.Ay([ya._b,ya.Ly],n)]:[3,5];case 4:return g.sent(),[3,3];case 5:return kr(n),r=i.dkt.Cc,e=i.dkt.Wpt,u=i.Jdt(t),MZ(i.dkt.Kpt,u),s=LW(t,u,r,e,i.bpt),o=i.fkt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i._kt(s,o),i.dkt?(i.bEt.vn(Og.da,i.AEt),[4,i.dkt.yn()]):[3,7];case 6:g.sent(),i.bEt.bn(Og.da,i.AEt),i.dkt=void 0,g.label=7;case 7:return i.kkt?[4,i.kkt.yn()]:[3,9];case 8:g.sent(),i.kkt=void 0,g.label=9;case 9:return i.ykt(),i.z8(),c=k.max(i.bkt,t.Sn),[4,i.jTt()];case 10:return g.sent(),[4,i.Vp(a)];case 11:return g.sent(),i.wkt=a,[4,i.skt(t,u,s,o)];case 12:h=g.sent(),i.eEt(h),g.label=13;case 13:g.trys.push([13,,20,21]),f={stack:[],error:void 0,hasError:!1},g.label=14;case 14:return g.trys.push([14,17,18,19]),xr(v=i.Akt(c,!1,!0,n)),[4,h.Rat()];case 15:return g.sent(),d=Vt(f,mr.hp([n]),!1),[4,et.race([v,h.Ay([BB.uft],d.ep)])];case 16:return g.sent(),[3,19];case 17:return l=g.sent(),f.error=l,f.hasError=!0,[3,19];case 18:return Ft(f),[7];case 19:return[3,21];case 20:return i.Q8(),i.Skt(),[7];case 21:return[2]}}))}))()},i.aEt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return(n=t.kkt)?n.Cc.Yht?[4,n.yn(!0)]:[3,2]:[2];case 1:i.sent(),t.kkt=void 0,i.label=2;case 2:return[2]}}))}))()},i.Jdt=function(t){for(var i=[],r=[],e=0,u=t.mpt;e<u.length;e++){var s=u[e];if(cw(s.zw))if(0===s.Mat.length)this._o(new MB("No supported representation found in the AdaptationSet with mimetype : "+s.zw));else if(s.zw===aw.wE){var o;(o=i).push.apply(o,Kt(s.ift))}else{var a;(a=r).push.apply(a,Kt(s.ift))}}var c=[];return i.length>0&&c.push(n.SEt(aw.wE,i)),r.length>0&&c.push(n.SEt(aw.yE,r)),c},i._kt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return iB.blt(null!=(n=t.Edt)?n:t.Mat,OA(t.uat,f.bpt))})).map((function(t){return{Fk:t.Fk}})),d=null==(r=this.Sc)||null==(i=r.dash)?void 0:i.desiredTimescale,l=(null==(e=this.Sc)?void 0:e.seamlessSwitchStrategy)!==KA.SO&&(null==(u=this.Sc)?void 0:u.seamlessSwitchStrategy)!==KA.CLEAR_ONLY&&(null==(s=this.Sc)?void 0:s.seamlessSwitchStrategy)!==KA.SAME_DRM_ONLY&&(null!=(h=null==(a=this.Sc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:Kn.Ys.Cp),g=null==(c=this.Sc)?void 0:c.useManagedMediaSource;return{zw:Cp.qW,J4:v,CZ:lZ(n),z9:null==n?void 0:n.z9,Cp:l,X3:d,u5:g}},i.fkt=function(t,i,r,e,u){var s,o,a,c=this.Sc.contentProtection,h=n.TEt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.Sc)?void 0:s.seamlessSwitchStrategy)?a:KA.bO;if(f!==KA.SO&&f!==KA.CLEAR_ONLY&&f!==KA.SAME_DRM_ONLY){var v=null==(o=this.dkt)?void 0:o.Ymt;if(!u&&void 0!==v){var d=!v.z9;if(f===KA.bO&&d&&!this.dEt())return;return v}var l=!u&&f===KA.bO;if(void 0!==(h=this.kEt(t,c,r,e,l)))return h.z9=!0,h}},i.kEt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.HAt(s):this.ZAt(s))){var a=LW(s,this.Jdt(s),r,e,this.bpt),c=n.TEt(a,i);if(u){var h=this._kt(a,c);if(!this.XTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.tEt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.VZ.OW(i)}Ip(this.VZ.Z)},i.PR=function(){var t,n=this.JI;this.Nkt=!0,n||(this._8||(this.EEt(new _r),this.xEt()),(null==(t=this.mZ)?void 0:t.UB)&&this.mZ.NR(),this.IEt())},i.DR=function(){this.REt||(this.REt=new ih),this.CEt();var t=this.REt.Xb;return xr(t),t},i.CEt=function(){if(this.Nkt=!1,this.k8=!0,this.PEt=!1,this.Okt(),this.MI){var t=this.Ikt;t.V>0&&this.Db(t.Sn(0))}this._8||this.x8().then(this.DEt,this.EEt),this.nkt(),this.IEt()},i.x8=function(){return this.aO.DR()},i.xEt=function(){this.aO.PR()},i.z8=function(){this._8||(this.Nkt=this.JI,this._8=!0,this.xEt())},i.Q8=function(){this._8&&(this._8=!1,this.Nkt||this.x8().then(this.DEt,this.EEt),this.nkt(),this.IEt())},i.IEt=function(){var t=this.oU,n=this.JI;t!==n&&(this.oU=n,n?this._o(new AT(this.RI)):this._o(new TT(this.RI)))},i.Db=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=XW.nTt),this.iEt=!0,this.okt.np(),this.V8.np(),this.FH=!0,this.l8=t,this.PEt=this.PEt&&this.d8(),this.Bkt(this.Lkt),this.NEt(new RT(this.RI)),this.V8=new mr,this.W8=Er(this.U8(t,this.ckt,this.W8,this.akt,this.V8.ep,n,i),this.V8).catch(this.Gpt),this.W8},i.MEt=function(){this.V8.np()},i.U8=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=XW.nTt),void 0===o&&(o=!1);var a=this;return Pt((function(){var c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S,E;return Ot(this,(function(I){switch(I.label){case 0:null==(c=a.mZ)||c.NR(),0,I.label=1;case 1:return I.trys.push([1,30,,31]),[4,et.all([n,i,r])];case 2:return I.sent(),kr(e),[4,Sr(a.lkt.Xb,e)];case 3:return I.sent(),v=a.Ikt.mB(t),a.l8=v,d=o||(null==(f=a.Sc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.RI,l=a.LEt(v),g=a.dkt,d||!g||!g.cR.wr(v)&&s!==XW.rTt&&g.Cc!==l?[3,8]:!(w=a.kkt)||w.Rpt?[3,7]:[4,w.xat()];case 4:return I.sent(),a.V3(),m=a._kt(g.Upt,g.Ymt),a.XTt(m)?[4,a.YTt(m)]:[3,6];case 5:I.sent(),I.label=6;case 6:a.wkt=m,I.label=7;case 7:return[3,27];case 8:return l?(y=a.kkt,a.z8(),g?[4,g.xat()]:[3,10]):[3,27];case 9:I.sent(),I.label=10;case 10:return!y||y.Cc!==l||d?[3,13]:(p=a._kt(y.Upt,y.Ymt),a.V3(),a.XTt(p)?[4,a.YTt(p)]:[3,12]);case 11:I.sent(),I.label=12;case 12:return a.wkt=p,[3,25];case 13:return y?[4,y.yn(!0)]:[3,15];case 14:I.sent(),I.label=15;case 15:return _=a.Jdt(l),g&&MZ(g.Kpt,_),b=null==g?void 0:g.Cc,k=null==g?void 0:g.Wpt,A=LW(l,_,b,k,a.bpt),T=a.fkt(l,A,b,k,!1),A.forEach((function(t){return t.Rt=!0})),S=a._kt(A,T),!a.uEt(l)||d?[3,18]:(a.V3(),a.XTt(S)?[4,a.YTt(S)]:[3,17]);case 16:I.sent(),I.label=17;case 17:return[3,23];case 18:return T=a.fkt(l,A,b,k,!0),S=a._kt(A,T),g?(a.bEt.vn(Og.da,a.AEt),[4,g.yn()]):[3,20];case 19:I.sent(),a.bEt.bn(Og.da,a.AEt),a.dkt=void 0,I.label=20;case 20:return[4,a.jTt()];case 21:return I.sent(),[4,a.Vp(S)];case 22:I.sent(),I.label=23;case 23:return a.wkt=S,[4,a.skt(l,_,A,T)];case 24:y=I.sent(),a.kkt=y,a.pEt.bC=y.nt,a.Jkt(y),y.Cat(a.dkt),I.label=25;case 25:return[4,y.Rat(eO.aht)];case 26:return I.sent(),a.eEt(y),[3,27];case 27:return xr(E=a.Akt(v,u,!1,e)),a.l8=void 0,[4,a.dkt.Rat(eO.aht)];case 28:return I.sent(),kr(e),a.mkt(),[4,E];case 29:return I.sent(),kr(e),a.Q8(),a.FH=!1,a.BEt(new CT(a.RI)),a.sEt(),[3,31];case 30:return br(I.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.sEt=function(){if(!this.JI&&!this.dR&&void 0!==this.mO){var t,n,i=this.RI;if(this.RI+this.mO-this.SR.kd.maximumOffset<i)null==(t=this.mZ)||t.Sn();else null==(n=this.mZ)||n.NR()}},i.Akt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d;return Ot(this,(function(l){switch(l.label){case 0:u=!0,s=t,l.label=1;case 1:0,c={stack:[],error:void 0,hasError:!1},l.label=2;case 2:if(l.trys.push([2,4,5,6]),(h=e.Wkt).V>0&&(f=h.mB(t),s!==f&&(h.wr(s)&&e.Nyt.tdt.zw===OB.qW||(s=f,u=!0))),u)u=!1,null==a||a.np(),(a=new mr).rp(r),xr(o=Er(e.OEt(s,n,i,a.ep),a));else if(!e.Ukt&&!e.f5)return[3,7];return v=Vt(c,mr.hp([r]),!1),[4,et.race([o,e.Ay([ya.sb,ya.Dy],v.ep),e.Nyt.tdt.Ay(oO.Xht,v.ep)])];case 3:return l.sent(),[3,6];case 4:return d=l.sent(),c.error=d,c.hasError=!0,[3,6];case 5:return Ft(c),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.OEt=function(t,n,i,r){var e=this;return Pt((function(){return Ot(this,(function(u){switch(u.label){case 0:e.aO.Db(t,n,i),u.label=1;case 1:return e.Ukt||e.f5?[4,e.aO.Ay([ya.eb,ya.Gy],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.ykt=function(){void 0===this.Ekt&&(this.Ekt=this.bkt,this.aO.vn(ya.ib,this.NEt),this.aO.vn(ya.eb,this.BEt))},i.Skt=function(){if(void 0!==this.Ekt){var t=this.bkt;this.Ekt=void 0,this.aO.bn(ya.ib,this.NEt),this.aO.bn(ya.eb,this.BEt),this.bkt!==t&&this.Tc()}},i.FEt=function(t){this.Uo=this.Uo.AB(t)},i.LEt=function(t){var n=this.Nyt.tdt,i=n.Ipt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Sn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.Tn>t)return u}return n.zw!==OB.qW?i[i.length-1]:void 0}},i.HAt=function(t){for(var n=t.qpt;n&&n.ct<.2;)n=n.qpt;return n},i.ZAt=function(t){for(var n=t.Ypt;n&&n.ct<.2;)n=n.Ypt;return n},i.Ca=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:e={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,8,9,10]),r.MZ.tZ(t.contentProtection),r.VEt(),!r.Sc||gT(r.Sc)?[3,3]:[4,r.nr()];case 2:v.sent(),v.label=3;case 3:return!t||gT(t)?[2]:(s=Vt(e,mr.hp([i]),!1),r.GW=mr.hp([s.ep]),r.Sc=t,r.WEt=n,r.bpt=t.abr,r.npt=t.ignoreEmbeddedTextTrackTypes,o=new HW(r.WW,Boolean(r.Sc.useCredentials),r.Wlt),a=JW(o,r.Rut),r.ISt(!0),r.hEt=new NW({zC:Kn.Bh(r.Sc.src),MSt:null!=(c=null==(u=r.Sc.latencyConfiguration)?void 0:u.targetOffset)?c:r.Sc.liveOffset,VSt:r.Sc.timeServer,DE:r.Sc.useCredentials},r.UEt(r.bpt),r.WW,a,r.Sc.dash),r.Nyt=r.hEt.Nr,r.Nyt.tdt.bn(ya.Hy,r.GEt),r.Nyt.tdt.bn(ya.Xy,r.ZEt),r.Nyt.tdt.bn(oW.JAt,r.HEt),r.Nyt.tdt.bn(oO.Xht,r.nkt),[4,r.XEt.$n(r.Nyt.tdt)]);case 4:return v.sent(),[4,r.zEt.$n(r.Nyt.tdt)];case 5:return v.sent(),tr(r.npt,Ow.EMSG)?[3,7]:(r.Zmt=new EZ(r.FW),r.Hl.aZ(r.Zmt.Z),[4,r.Zmt.$n(r.Nyt.tdt)]);case 6:v.sent(),v.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,r.mZ=new RZ(r,r.aO,h),r.mZ.Rt=!0,r.xZ.Aa(r.mZ)),r.Okt(),s.Km(),[3,10];case 8:return f=v.sent(),e.error=f,e.hasError=!0,[3,10];case 9:return Ft(e),[7];case 10:return[2]}}))}))()},i.qEt=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return n=t.Nyt.tdt.jI,t.ISt(n),n?(t.jkt(),[3,3]):[3,1];case 1:return[4,et.all([null==(i=t.dkt)?void 0:i.xat(eO.Tht),null==(r=t.kkt)?void 0:r.xat(eO.Tht)].filter(Yn))];case 2:e.sent(),t.rEt(),t.MEt(),t.hkt.np(),e.label=3;case 3:return[2]}}))}))()},i.ISt=function(t){this.xSt!==t&&(this.xSt=t,this._o(t?new $W:new tZ))},i.Okt=function(){this.Nyt&&(this.YEt=this.KEt(this.YEt,this.GW.ep).catch(this.Gpt))},i.KEt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),kr(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.rR===cS.bO||i.k8?[4,i.jEt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.rR!==cS.xW?[3,6]:[4,i.QEt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Ar(r=e.sent()),i.uH(new ld(vd.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.jEt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.QEt(t)];case 1:r.sent(),n.JEt||(n.JEt=!0,n.lkt.rp(n.$n(n.WEt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.lkt.Xb];case 3:return r.sent(),[3,5];case 4:return Ar(i=r.sent()),n.uH(new ld(vd.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.QEt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return[4,Sr(n.hEt.W,t)];case 1:return a.sent(),i=n.Nyt.tdt,void 0===n.mZ&&i.zw===OB.qW&&(r=i.Ayt,e=(null==r?void 0:r.rSt)?(null==r?void 0:r.rSt)/1e3:i.DSt,u=(null==r?void 0:r.iSt)?(null==r?void 0:r.iSt)/1e3:.5*e,s=(null==r?void 0:r.nSt)?(null==r?void 0:r.nSt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:WA,maximumPlaybackRate:ZA},n.mZ=new RZ(n,n.aO,o),n.xZ.Aa(n.mZ)),[2]}}))}))()},i.eEt=function(t){var i=this.dkt;t!==i&&(this.dkt&&this.Qkt(this.dkt),this.kkt&&this.$kt(this.kkt),i&&this.Bkt(this.Lkt),this.dkt=t,this.kkt=i,this.Hkt(this.dkt),this.kkt&&this.Jkt(this.kkt),this.LO.bC=t.ht,this.FO.bC=t.rt,this.mEt(t),this.bEt.vn(Og.da,this.AEt),n.$Et(this.bEt),this.bEt.bn(Og.da,this.AEt),this.bEt.bC=t.nt,this.pEt.bC=void 0,this.gEt())},i.ge=function(){this.aO.ge()},i.be=function(){this.aO.be()},i.uH=function(t){this.bZ||(xr(this.nr()),this.bZ=lw(t),this.AZ=t,this._o(new xk(t)))},i.VEt=function(){this.bZ=void 0,this.AZ=void 0},i.zTt=function(){var t=this.kZ;t&&(t.f4&&(t.f4.$j=this.XH.uQ),t.d4&&(t.d4.$j=this.XH.uQ))},i.qTt=function(){var t=this.kZ;t&&(t.f4&&(t.f4.sQ=this.XH.sQ),t.d4&&(t.d4.sQ=this.XH.sQ))},i.determineStallJumpTarget=function(){if(this.dkt)return this.dkt.Apt()&&this.RI>this.dkt.Tn-TN&&!this.dkt.xpt?this.dkt.Tn:void 0},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:if(t.txt)return[2,t.txt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.txt=t.ixt(),[4,t.txt];case 2:return n.sent(),[3,4];case 3:return t.txt=void 0,[7];case 4:return[2]}}))}))()},i.ixt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.tR=1,t.GW.np(),t.MEt(),t.rEt(),t.hkt.np(),t.lkt.np(),t.iEt=!1,t.PR(),t.k8=!1,t.PEt=!1,t.LO.bC=void 0,t.FO.bC=void 0,t.bEt.bC=void 0,t.pEt.bC=void 0,t.YEt?[4,t.YEt.catch(_i)]:[3,2];case 1:n.sent(),t.YEt=void 0,n.label=2;case 2:return[4,et.all([t.ckt,t.W8,t.akt,t.lkt.Xb.catch(_i)])];case 3:return n.sent(),t.dkt?[4,t.dkt.yn(!0)]:[3,5];case 4:n.sent(),t.dkt=void 0,n.label=5;case 5:return t.kkt?(t.$kt(t.kkt),[4,t.kkt.yn(!0)]):[3,7];case 6:n.sent(),t.kkt=void 0,n.label=7;case 7:return[4,t.jTt()];case 8:return n.sent(),t.wkt=void 0,t.vEt=void 0,t.ZZ.nr(),[4,t.XEt.nr()];case 9:return n.sent(),[4,t.zEt.nr()];case 10:return n.sent(),void 0===t.Zmt?[3,12]:(t.Hl.lZ(t.Zmt.Z),[4,t.Zmt.yn()]);case 11:n.sent(),t.Zmt=void 0,n.label=12;case 12:return t.FW.nr(),t.Nyt?(t.Nyt.tdt.vn(ya.Hy,t.GEt),t.Nyt.tdt.vn(ya.Xy,t.ZEt),t.Nyt.tdt.vn(oW.JAt,t.HEt),[4,t.hEt.yn()]):[3,14];case 13:n.sent(),t.Nyt=void 0,n.label=14;case 14:return t.Fkt=!1,t.sxt=NaN,t.nxt=0,t.rxt=0,t.Ekt=void 0,t._8=!1,t.Uo=FA.WB(),t.oU=!0,t.l8=void 0,t.oxt=!1,t.FH=!1,t.JEt=!1,t.lkt=new ih,t.Ckt=0,t.Pkt=0,t.Dkt=0,t.Sc=void 0,t.WEt=void 0,t.npt=[],t.yEt=void 0,t.xZ.nr(),t.mZ=void 0,t.QTt={WO:0,UO:0,GO:0},[4,t.VZ.nr()];case 15:return n.sent(),t.aO.GZ(),t.hxt.nr(),[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.VEt(),[4,t.nr()];case 1:return n.sent(),t.Ro(),t.LO.yn(),t.FO.yn(),t.bEt.yn(),t.pEt.yn(),t.Hl.yn(),t.ZZ.yn(),t.axt.Km(),[4,t.XEt.yn()];case 2:return n.sent(),[4,t.zEt.yn()];case 3:return n.sent(),t.FW.yn(),t.hxt.yn(),t.aO.vn(ya.Dy,t.W7),t.aO.vn(Sa.My,t.t8),t.aO.vn(ya.Ly,t.uxt),t.aO.vn(ya.ib,t.NEt),t.aO.vn(ya.eb,t.BEt),t.aO.vn(ya.$y,t.Kkt),t.aO.vn(ya._b,t.Tc),t.aO.vn([ya.ho,ya.Ky],t.cxt),t.aO.vn(NZ,t.Ds),[4,t.VZ.yn()];case 4:return n.sent(),t.Hl.yn(),t.XH.vn("Jj",t.lxt),t.XH.vn("iQ",t.dxt),t.aO.vn(Qy.fa,t.fxt),t.aO.vn([ya.Ry,ya.Iy],t.Ds),t.aO.vn(ya.pb,t.Qpt),t.aO.vn(ya.LICENSE_REQUEST_GENERATED,t.Npt),t.aO.zZ=void 0,t.MZ.vn("contentProtectionsTracked",t._xt),t.aO.ntt=void 0,[2]}}))}))()},i.xR=function(){return this.aO.Sa},i.ja=function(){return this.aO.WZ},i.MR=function(){return!1},i.LR=function(){},i.OR=function(){},i.FR=function(){},i.WR=function(){this.rkt(!0)},i.ZR=function(t){var n=this.aO.UZ(t);return this.hxt.tt(n),n},n.SEt=function(t,n){for(var i=[],r=[],e=!n.some((function(t){return t.tft.some((function(t){return"main"===t.Fx}))})),u=0;u<n.length;u++){var s=n[u];if(-1===i.indexOf(s)){var o=PZ(s.fdt.concat(s.tft),e);e=!1;for(var a=s.Mat.map((function(t){return t.jht})),c=new NB(s,a,o),h=LZ(s,n),f=0;f<h.length;f++){var v=h[f];c.Idt(v),i.push(v)}r.push(c)}}return new xW(t,r)},n.TEt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.Pdt.length;i=aZ(i,vZ(e.nct,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.Kmt=mZ(i.Kmt,n.preferredKeySystems)),i}},n.$Et=function(t){for(var n=0,i=t.mC;n<i.length;n++){i[n].LE=qy.Mh}},Nt(n,[{key:"ht",get:function(){return this.LO}},{key:"pZ",get:function(){var t=this.bkt,n=this.Tkt,i=n.kB(t);if(-1!==i)return{Sn:n.Sn(i),Tn:n.Tn(i)}}},{key:"Tkt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.dkt)?void 0:t.SI)?i:FA.WB(),u=null!=(r=null==(n=this.kkt)?void 0:n.SI)?r:FA.WB();return e.AB(u)}},{key:"SI",get:function(){return this.Tkt.ks()}},{key:"kI",get:function(){var t,n=null==(t=this.Nyt)?void 0:t.tdt,i=null==n?void 0:n.lyt;if(n&&i){var r=i.getTime(),e=1e3*this.RI;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.Nyt)?void 0:n.tdt,r=null==i?void 0:i.lyt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.Db(u-e)}}},{key:"bt",get:function(){return this.Sc}},{key:"bkt",get:function(){return void 0!==this.l8?this.l8:void 0!==this.Ekt?this.Ekt:this.aO.RI}},{key:"RI",get:function(){return this.bkt},set:function(t){this.DI(t)}},{key:"ct",get:function(){var t=NaN;return this.dkt&&this.dkt.xpt?t=this.dkt.Tn:this.Nyt&&void 0!==this.Nyt.tdt.zw&&(t=this.Nyt.tdt.gyt?this.Nyt.tdt.gyt.twt():1/0),t}},{key:"Tn",get:function(){return this.ct}},{key:"MI",get:function(){return this.dR?this.d8():!(!this.dkt||!this.dkt.xpt)&&this.aO.MI}},{key:"lt",get:function(){return this.bZ}},{key:"OI",get:function(){return this.AZ}},{key:"VI",get:function(){}},{key:"UI",get:function(){}},{key:"XI",get:function(){return ao({},this.JTt,{ZO:Mk.Vm.VG(),HO:this.Ckt,XO:{amountOfBufferedAudioSegments:this.Pkt,amountOfBufferedVideoSegments:this.Dkt}})}},{key:"JTt",get:function(){return function(t,n){return{WO:t.WO+n.WO,UO:t.UO+n.UO,GO:t.GO+n.GO}}(this.QTt,this.aO.zI())}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"JI",get:function(){return this._8?this.Nkt:this.dkt&&this.dkt.xpt?this.Mkt:this.Nkt}},{key:"tR",get:function(){return this.aO.tR},set:function(t){this.aO.tR=t}},{key:"sR",get:function(){var t=this.Uo;return this.dkt&&(t=t.AB(this.Lkt)),t.bB(.1).ks()}},{key:"Lkt",get:function(){return this.aO.sR}},{key:"rR",get:function(){return this.TZ},set:function(t){this.TZ=t,this.Okt()}},{key:"aR",get:function(){var t=this.aO.aR;return this.Fkt&&(t=k.max(Pp.Xn,t)),t}},{key:"Ikt",get:function(){return this.Vkt(!1)}},{key:"Wkt",get:function(){return this.Vkt(!0)}},{key:"cR",get:function(){return this.Ikt.ks()}},{key:"dR",get:function(){return this.FH||this.Ukt}},{key:"Ukt",get:function(){return this.aO.dR}},{key:"f5",get:function(){return this.aO.f5}},{key:"EZ",get:function(){}},{key:"Gkt",get:function(){var t,n;return null!=(n=null==(t=this.Nyt)?void 0:t.tdt.zw)?n:OB.zW}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.FO}},{key:"vR",get:function(){var t;return JR(this.aO)&&(this.aO.vR||(null==(t=this.Zkt())?void 0:t.Ti))||0}},{key:"pR",get:function(){var t;return JR(this.aO)&&(this.aO.pR||(null==(t=this.Zkt())?void 0:t.ji))||0}},{key:"yR",get:function(){return this.aO.yR},set:function(t){this.aO.yR=Di(t,0,1)}},{key:"SR",get:function(){return this.xZ}},{key:"ER",get:function(){return!1},set:function(t){}},{key:"IZ",get:function(){return this.RZ}},{key:"Mkt",get:function(){return this.aO.JI}},{key:"jI",get:function(){return this.xSt}},{key:"ZI",get:function(){return!1}},{key:"mO",get:function(){var t,n=null==(t=this.Nyt)?void 0:t.tdt;if(n&&n.zw===OB.qW&&n.lyt)return n.$lt().getTime()/1e3-n.lyt.getTime()/1e3-this.RI}}]),n}(la),xZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).na=n,r}return It(n,t),n.prototype.vxt=function(){this._o(new xp(this.RI,this.aR))},Nt(n,[{key:"aR",get:function(){return this.na.aR}}]),n}(Zp);function PZ(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.G9})).map((function(t){return t.Fx})).filter(Yn);return n||tr(i,"main")?tr(i,"caption")?"captions":tr(i,"subtitle")?"subtitles":tr(i,"dub")?"translation":"main":tr(i,"sign")?"sign":tr(i,"description")?"descriptions":tr(i,"commentary")?"commentary":"alternative"}function LZ(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=Hi(n,(function(t){return t.o===r}));e&&o.push(e)},u=Hi(Kt(t.kwt).concat(Kt(t.Ewt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.G9})),s=null!=(r=null==u||null==(i=u.Fx)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}function MZ(t,n){for(var i=function(i){var r=function(t){var n=s[t],i=n.WC;if(!i)return"continue";var r=n.Mat.map((function(t){return t.o})),e=Hi(o,(function(t){var n=t.Mat.map((function(t){return t.o}));return rr(r,n)}));if(!e)return"continue";var u=i.map((function(t){return t.o}));e.WC=e.VC.mC.filter((function(t){return tr(u,t.o)}))},e=t[i],u=Hi(n,(function(t){return t.zw===e.zw}));if(!u)return"continue";for(var s=e.Z,o=u.Z,a=0;a<s.length;a++)r(a)},r=0;r<t.length;r++)i(r)}F(),Tt(),Mt(),Wt();var OZ=function(){function t(t,n,i,r){this.pxt=t,this.wxt=n,this.yxt=i,this.bxt=r}var n=t.prototype;return n.lTt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.pxt.mxt(t.map(zW))];case 1:return[2,i.sent().shift()]}}))}))()},n.clt=function(t,n){var i=YW(t,n);return this.wxt.Fb(i)},n.Iut=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return e=YW(t,n),[4,i.yxt.Vb(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.hJ=function(t){return this.bxt.Vb(t)},t}();F(),Tt(),Dt(),F(),Tt(),F(),Tt();var BZ=function(){function t(){}var n=t.prototype;return n.Axt=function(t){return et.resolve(!1)},n._Tt=function(t){return et.reject(VZ)},n.Sxt=function(t){return et.reject(VZ)},n.Fb=function(t){return et.resolve(!1)},n.Vb=function(t){return et.resolve(void 0)},n.Txt=function(t,n){return et.resolve(void 0)},n.mxt=function(t){return et.resolve([])},n.kxt=function(){return et.resolve([])},n.Ext=function(t){return et.resolve([])},n.xxt=function(t,n){return et.resolve([])},n.rT=function(t){return et.reject(VZ)},n.Ixt=function(t){return et.reject(VZ)},n.Rxt=function(){return et.reject(VZ)},t}(),VZ="Storage disabled",FZ=function(){function t(){this.Lxt=new BZ,this.xct=new BZ,this.Bxt=new BZ,this.Oxt=new BZ,this.Fxt=new BZ}return t.prototype.Nxt=function(t){return et.reject(UZ)},t.ist=function(){return et.resolve(new t)},t}(),UZ="Storage disabled";F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Dt(),Wt();var WZ=function(){function t(t){var n=this;this.sp=new ih,this.Pxt=void 0,this.sp.rp(t),this.sp.Xb.then((function(t){n.Pxt=t}))}var n=t.prototype;return n.Axt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Axt(t)]}}))}))()},n._Tt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return(r=i.Pxt)?[3,2]:[4,i.Cxt];case 1:r=e.sent(),e.label=2;case 2:return[2,r._Tt(t,n)]}}))}))()},n.Sxt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return(r=i.Pxt)?[3,2]:[4,i.Cxt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Sxt(t,n)]}}))}))()},n.Fb=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Fb(t)]}}))}))()},n.Vb=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Vb(t)]}}))}))()},n.Txt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return(r=i.Pxt)?[3,2]:[4,i.Cxt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Txt(t,n)]}}))}))()},n.mxt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.mxt(t)]}}))}))()},n.kxt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return(n=t.Pxt)?[3,2]:[4,t.Cxt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.kxt()]}}))}))()},n.Ext=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Ext(t)]}}))}))()},n.xxt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return(r=i.Pxt)?[3,2]:[4,i.Cxt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.xxt(t,n)]}}))}))()},n.rT=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.rT(t)]}}))}))()},n.Ixt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Pxt)?[3,2]:[4,n.Cxt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Ixt(t)]}}))}))()},n.Rxt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return(n=t.Pxt)?[3,2]:[4,t.Cxt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Rxt()]}}))}))()},Nt(t,[{key:"Cxt",get:function(){return this.sp.Xb}}]),t}(),ZZ=function(){function t(t){var n=this;this.sp=new ih,this.Mxt=void 0,this.sp.rp(t);var i=this.sp.Xb;i.then((function(t){n.Mxt=t})),this.xct=new WZ(i.then((function(t){return t.xct}))),this.Lxt=new WZ(i.then((function(t){return t.Lxt}))),this.Bxt=new WZ(i.then((function(t){return t.Bxt}))),this.Oxt=new WZ(i.then((function(t){return t.Oxt}))),this.Fxt=new WZ(i.then((function(t){return t.Fxt})))}return t.prototype.Nxt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return(i=n.Mxt)?[3,2]:[4,n.Dxt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Nxt(t)];case 3:return[2,r.sent()]}}))}))()},Nt(t,[{key:"Dxt",get:function(){return this.sp.Xb}}]),t}();function XZ(t){return new p("This storage cannot handle persistency type "+t)}F(),Tt(),F(),Tt(),qt(),F(),Tt();var GZ=function(t){return t.Vxt="readonly",t.Wxt="readwrite",t}({}),HZ=function(){function t(){this.AA=[]}var n=t.prototype;return n.Axt=function(t){return et.resolve("temporary"===t)},n._Tt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?et.reject(XZ(n)):(this.Uxt(t.key),this.AA.push(t),et.resolve())},n.Sxt=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return et.reject(XZ(n));for(var i=0;i<t.length;i++){var r=t[i];this.Uxt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.AA.push(u)}return et.resolve()},n.Fb=function(t){return et.resolve(Boolean(this.Gxt(t)))},n.Vb=function(t){return et.resolve(this.Gxt(t))},n.Txt=function(t,n){return et.resolve(this.Zxt(t,n))},n.mxt=function(t){var n=this,i=t?t.map((function(t){return n.Gxt(t)})):this.AA;return et.resolve(i.filter(Yn))},n.kxt=function(){return et.resolve(Kt(this.AA))},n.Ext=function(t){return this.xxt(t,"key")},n.xxt=function(t,n){var i=this.AA.filter((function(i){return i[n]===t}));return et.resolve(i)},n.rT=function(t){return this.Uxt(t),et.resolve()},n.Ixt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Uxt(i)}return et.resolve()},n.Rxt=function(){return ir(this.AA),et.resolve()},n.Gxt=function(t){return this.Zxt(t,"key")},n.Zxt=function(t,n){for(var i=0,r=this.AA;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Uxt=function(t){var n=this.Gxt(t);n&&Ji(this.AA,n)},t}(),zZ=function(){function t(){this.Lxt=new HZ,this.xct=new HZ,this.Bxt=new HZ,this.Oxt=new HZ,this.Fxt=new HZ}return t.prototype.Nxt=function(t){return t(this)},t.ist=function(){return et.resolve(new t)},t}();F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),qt(),Wt();var YZ=function(){function t(t){this.Hxt=t}var n=t.prototype;return n.Axt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,r=n.Hxt,e.label=1;case 1:return i<r.length?[4,r[i].Axt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n._Tt=function(t,n){void 0===n&&(n="persistent");var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:r=0,e=i.Hxt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).Axt(n)]:[3,4];case 2:if(s.sent())return[2,u._Tt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw XZ(n)}}))}))()},n.Sxt=function(t,n){void 0===n&&(n="persistent");var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:r=0,e=i.Hxt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).Axt(n)]:[3,4];case 2:if(s.sent())return[2,u.Sxt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw XZ(n)}}))}))()},n.Fb=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,r=n.Hxt,e.label=1;case 1:return i<r.length?[4,r[i].Fb(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Vb=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:i=0,r=n.Hxt,u.label=1;case 1:return i<r.length?[4,r[i].Vb(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Txt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:r=0,e=i.Hxt,s.label=1;case 1:return r<e.length?[4,e[r].Txt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.mxt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Hxt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.mxt(t)]):[3,4];case 2:a.apply(o,c.concat([Kt.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.kxt=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Hxt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.kxt()]):[3,4];case 2:o.apply(s,a.concat([Kt.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.Ext=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Hxt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.Ext(t)]):[3,4];case 2:a.apply(o,c.concat([Kt.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.xxt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Hxt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.xxt(t,n)]):[3,4];case 2:c.apply(a,h.concat([Kt.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.rT=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,r=n.Hxt,e.label=1;case 1:return i<r.length?[4,r[i].rT(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Ixt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,r=n.Hxt,e.label=1;case 1:return i<r.length?[4,r[i].Ixt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Rxt=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:n=0,i=t.Hxt,r.label=1;case 1:return n<i.length?[4,i[n].Rxt()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function jZ(t){return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,et.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,KZ.ist(n)]}}))}))}var KZ=function(){function t(t){this.jxt=t,this.Xxt=new YZ(t.map((function(t){return t.Oxt}))),this.zxt=new YZ(t.map((function(t){return t.Fxt}))),this.qxt=new YZ(t.map((function(t){return t.Bxt}))),this.Yxt=new YZ(t.map((function(t){return t.Lxt}))),this.Kxt=new YZ(t.map((function(t){return t.xct})))}return t.prototype.Nxt=function(n){var i=this;if(0===this.jxt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.jxt.length?i.jxt[e].Nxt(u):n(new t(r))};return this.jxt[e].Nxt(u)},t.ist=function(n){return et.resolve(new t(n))},Nt(t,[{key:"Oxt",get:function(){return this.Xxt}},{key:"Fxt",get:function(){return this.zxt}},{key:"Bxt",get:function(){return this.qxt}},{key:"Lxt",get:function(){return this.Yxt}},{key:"xct",get:function(){return this.Kxt}}]),t}(),qZ=function(){function t(t){this.$xt=[],this.Jxt=!0,this.tIt=t}var n=t.prototype;return n.ist=function(){return new ZZ(this.Qxt())},n.Qxt=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return t.Jxt?[4,et.resolve()]:[3,2];case 1:e.sent(),t.Jxt=!1,e.label=2;case 2:n=0,i=t.$xt,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,jZ([zZ.ist,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,jZ([zZ.ist,t.tIt])()];case 9:return[2,e.sent()]}}))}))()},n.Pa=function(t){if(!this.Jxt)throw new p("Registration overdue");this.$xt.push(t)},t}(),JZ=function(){function t(){}return t.Pa=function(n){t.eZ.Pa(n)},Nt(t,null,[{key:"Vm",get:function(){var n,i;return null!=(i=(n=t).Bbt)?i:n.Bbt=t.eZ.ist()}}]),t}();JZ.eZ=new qZ(FZ.ist),JZ.Bbt=void 0;var QZ=function(t){function n(n,i,r,e,u,s){var o,a=new OZ(JZ.Vm.Bxt,JZ.Vm.Lxt,JZ.Vm.xct,JZ.Vm.Fxt);return(o=t.call(this,n,i,r,e,a,u,new xM(s))||this).Vrt=s,Gn.$g&&(o.eIt=new qM(o)),o}It(n,t);var i=n.prototype;return i.IR=function(){if(NM(this.aO))return this.aO.IR()},i.yn=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.eIt)||i.yn(),[2]}}))}))()},i.uEt=function(n){var i,r;return((null!=(r=null==(i=this.Sc)?void 0:i.seamlessSwitchStrategy)?r:KA.bO)!==KA.bO||!Gn.Sm)&&t.prototype.uEt.call(this,n)},i.dEt=function(){return!(Gn.Rg&&Gn.Pg<3)&&t.prototype.dEt.call(this)},i.gxt=function(){return new PM(this,new ax)},i.UEt=function(t){return DM(t)},n}(DZ),$Z=function(t){function n(n,i,r,e,u,s,o){var a,c=new KM(u),h=c.lH(s);return(a=t.call(this,n,i,r,e,h,o)||this).YZ=c,a}return It(n,t),n.prototype.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.YZ.qZ(n.aO)];case 2:return i.sent(),[2]}}))}))()},n}(QZ);function tX(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var nX=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ux=n,r}It(n,t);var i=n.prototype;return i.TI=function(){return t.prototype.TI.call(this).Pb(this.iIt)},i.jrt=function(){return t.prototype.jrt.call(this).Pb(this.iIt)},i.r3=function(n,i,r){var e=this.iIt;return t.prototype.r3.call(this,n,{$it:i.$it-e,ct:i.ct,aW:i.aW-e},r)},i.T3=function(n,i){var r=this.iIt;return t.prototype.T3.call(this,k.max(0,n-r),k.max(0,i-r))},i.rT=function(n,i,r){var e=this.iIt;return t.prototype.rT.call(this,k.max(0,n-e),k.max(0,i-e),r)},i.i4=function(n,i){var r=this.iIt;t.prototype.i4.call(this,k.max(0,n-r),k.max(0,i-r))},i.s4=function(n,i){var r=this.iIt;t.prototype.s4.call(this,k.max(0,n-r),k.max(0,i-r))},Nt(n,[{key:"iIt",get:function(){return this.ux.iIt}}]),n}(FM),iX=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Urt(i),r.ux=n,r}It(n,t);var i=n.prototype;return i.jd=function(){return t.prototype.jd.call(this)+this.iIt},i.q4=function(n){t.prototype.q4.call(this,n-this.iIt)},i.lR=function(){return t.prototype.lR.call(this).Pb(this.iIt)},i.Q4=function(n,i,r,e){var u=this.iIt;t.prototype.Q4.call(this,n-u,i-u,r,e)},i.Zrt=function(t){return new nX(this,t)},Nt(n,[{key:"iIt",get:function(){return this.ux.iIt}}]),n}(BM),rX=function(t){function n(n){var i;return(i=t.call(this,n)||this).sIt=0,i.FW=new PM(i,new ax),i.Hl=new Wk([i.FW.nt,t.prototype._R.call(tX(i))]),i.Cit=new Yx,i.Cit.stt(i.SZ.parentElement),i.Pit=new cL(i.Cit.we,i.Hu,i.Hl,i.Wl,i.Sa,i.WZ),i}It(n,t);var i=n.prototype;return i.TI=function(){return t.prototype.TI.call(this).Pb(this.sIt)},i.EI=function(){return sX(t.prototype.EI.call(this),this.sIt)},i.CI=function(){return t.prototype.CI.call(this)+this.sIt},i.jd=function(){return t.prototype.jd.call(this)+this.sIt},i.nR=function(){return t.prototype.nR.call(this).Pb(this.sIt)},i.lR=function(){return t.prototype.lR.call(this).Pb(this.sIt)},i.Db=function(n,i,r){var e=k.max(0,n-this.sIt);t.prototype.Db.call(this,e,i,r)},i.wZ=function(n){t.prototype.wZ.call(this,sX(n,-this.sIt))},i._R=function(){return this.Hl},i.ZR=function(t,n,i,r,e,u,s,o){return this.FW.ZR(t,n,i,r,e,u,s,o)},i.UZ=function(t){return this.FW.UZ(t)},i.ZW=function(t){this.FW.ZW(t)},i.GZ=function(){this.FW.nr(),t.prototype.GZ.call(this)},i.BZ=function(){return!1},i.FZ=function(t,n,i,r,e){throw new p("Not supported")},i.Km=function(){return this.Pit.yn(),this.Cit.yn(),this.FW.yn(),this.Hl.yn(),t.prototype.Km.call(this)},i.wot=function(t){return new iX(this,t)},i.pot=function(t){return new ZM(t)},i.UR=function(n){var i;switch(n.type){case ya.ho:i=new TT(n.currentTime+this.sIt);break;case ya.Ky:i=new AT(n.currentTime+this.sIt);break;case Np.uB:i=new Fp(n.currentTime+this.sIt);break;case ya._b:i=new Eg(n.currentTime+this.sIt,sX(n.currentProgramDateTime,this.sIt));break;case ya.jy:i=new oC(n.currentTime+this.sIt);break;case ya.ib:i=new RT(n.currentTime+this.sIt);break;case ya.eb:i=new CT(n.currentTime+this.sIt);break;case ya.Wy:i=new PN(n.currentTime+this.sIt);break;case ya.Gy:i=new Dx(n.currentTime+this.sIt);break;case ya.Ly:i=new IT(n.currentTime+this.sIt);break;case ya.Qy:i=new ET(n.currentTime+this.sIt,n.playbackRate);break;case ya.vb:i=new NT(n.currentTime+this.sIt,n.volume);break;case ya.Dy:i=new ST(n.duration+this.sIt);break;case Np.aC:i=new xp(n.currentTime+this.sIt,n.readyState);break;default:i=n}t.prototype.UR.call(this,i)},i.be=function(){t.prototype.be.call(this),this.Cit.be()},i.ge=function(){t.prototype.ge.call(this),this.Cit.ge()},Nt(n,[{key:"iIt",get:function(){return this.sIt},set:function(t){this.sIt=t}}]),n}(HM),eX=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(MM(rX)),uX=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(XM(rX));function sX(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var oX=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.lH=function(n){return n===aw.yE?new uX(t.prototype.lH.call(this,n)):n===aw.wE?new eX(t.prototype.lH.call(this,n)):void 0},i.qZ=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,(r=n).Km()];case 1:return e.sent(),[4,t.prototype.qZ.call(i,r.hot)];case 2:return e.sent(),[2]}}))}))()},n}(LM),aX=function(t){function n(n,i,r,e,u,s,o){var a,c=new oX(new KM(u)),h=c.lH(s);return(a=t.call(this,n,i,r,e,h,o)||this).YZ=c,a.nIt=void 0,a}It(n,t);var i=n.prototype;return i.Vp=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,t.prototype.Vp.call(i,n)];case 1:return r.sent(),void 0===i.nIt&&(i.nIt=i.rIt(),i.aO.iIt=i.nIt),[2]}}))}))()},i.rIt=function(){if(this.ct===1/0){var t=this.Ikt;if(t.V>0)return k.max(0,t.Sn(0)-300)}return 0},i.U8=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=XW.nTt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&Gn.Rg&&Gn.Pg<3&&n<=this.RI),t.prototype.U8.call(this,n,i,r,e,u,s,o,a)},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.nIt=void 0,n.aO.iIt=0,[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.aO.Km()];case 2:return i.sent(),[4,n.YZ.qZ(n.aO)];case 3:return i.sent(),[2]}}))}))()},n.TT=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Gn.Rg&&Gn.Pg<4)},n}(QZ);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var cX=function(t){function n(n){return t.call(this,n)||this}return It(n,t),Nt(n,[{key:"hot",get:function(){return this.aO}},{key:"vR",get:function(){return this.aO.vR}},{key:"pR",get:function(){return this.aO.pR}}]),n}(GM);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt();var hX=function(t){function n(n){var i;return(i=t.call(this,n)||this).W3=void 0,i.oIt=void 0,i.lQ=0,i.hIt=FA.WB(),i.aIt=FA.WB(),i.dIt=[],i.AIt=!1,i.aQ=0,i.FT=n.kd,i}It(n,t);var i=n.prototype;return i.qrt=function(){return this.oIt?this.lQ:t.prototype.qrt.call(this)},i.Yrt=function(n){this.oIt?this.lQ=n:t.prototype.Yrt.call(this,n)},i.TI=function(){return this.oIt?this.hIt:t.prototype.TI.call(this)},i.yT=function(){return this.oIt?this.FT:t.prototype.yT.call(this)},i.jrt=function(){return this.oIt?this.aIt:t.prototype.jrt.call(this)},i.Qrt=function(){return this.oIt?this.aQ:t.prototype.Qrt.call(this)},i.Jrt=function(n){this.oIt?this.aQ=n:t.prototype.Jrt.call(this,n)},i.r3=function(t,n,i){var r=this;return this.o3((function(i){return r.uIt(t,n,i)}),i)},i.uIt=function(n,i,r){return t.prototype.r3.call(this,n,i,r)},i.n4=function(){var t=this;return this.o3((function(){return t.cIt()}))},i.cIt=function(){return t.prototype.n4.call(this)},i.a3=function(t,n,i){var r=this;return this.o3((function(i){return r.lIt(t,n,i)}),i)},i.lIt=function(n,i,r){return t.prototype.a3.call(this,n,i,r)},i.i4=function(t,n){this.oIt?(this.aIt=this.aIt.AB(new FA([t,n])),this.dIt.push({zw:"bct",lF:t,dF:n})):this.fIt(t,n)},i.fIt=function(n,i){t.prototype.i4.call(this,n,i)},i.T3=function(t,n){var i=this;return this.o3((function(){return i._It(t,n)}))},i._It=function(n,i){return t.prototype.T3.call(this,n,i)},i.s4=function(t,n){this.oIt?(this.aIt=this.aIt.TB(new FA([t,n])),this.dIt.push({zw:"rT",lF:t,dF:n})):this.vIt(t,n)},i.vIt=function(n,i){t.prototype.s4.call(this,n,i)},i.rT=function(t,n,i){var r=this;return this.o3((function(i){return r.gIt(t,n,i)}),i)},i.gIt=function(n,i,r){return t.prototype.rT.call(this,n,i,r)},i.XJ=function(t){var n=this;return this.o3((function(){return n.mIt(t)}))},i.mIt=function(n){return t.prototype.XJ.call(this,n)},i.o3=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:i.N3(),r.label=1;case 1:return i.oIt?[4,Sr(i.oIt.Xb,n)]:[3,3];case 2:return r.sent(),i.N3(),[3,1];case 3:kr(n),r.label=4;case 4:return r.trys.push([4,,6,7]),i.W3=t(n),[4,i.W3];case 5:return r.sent(),[3,7];case 6:return i.W3=void 0,[7];case 7:return[2]}}))}))()},i.N3=function(){if(this.W3)throw new p("Internal error")},i.pIt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:if(t.oIt)throw new _("Already locked");return t.oIt=new ih,t.wIt(),t.W3?[4,t.W3.catch(_i)]:[3,2];case 1:n.sent(),t.wIt(),n.label=2;case 2:return[2]}}))}))()},i.yIt=function(){var t=this.oIt;void 0!==t&&(t.Zb(),this.oIt=void 0,this.bIt())},i.wIt=function(){this.FT=t.prototype.yT.call(this),this.lQ=t.prototype.qrt.call(this),this.aQ=t.prototype.Qrt.call(this),this.hIt=t.prototype.TI.call(this),this.aIt=t.prototype.jrt.call(this),this.AIt=!1},i.bIt=function(){this.N3(),t.prototype.Yrt.call(this,this.lQ),t.prototype.Jrt.call(this,this.aQ);var n=this.dIt.slice();ir(this.dIt);for(var i=0;i<n.length;i++){var r=n[i];"bct"===r.zw?this.fIt(r.lF,r.dF):this.vIt(r.lF,r.dF)}this.hIt.CB(t.prototype.TI.call(this))||this._o(new ma($R.PJ))},i.Km=function(){var n;null==(n=this.oIt)||n.np(),this.oIt=void 0,t.prototype.Km.call(this)},n}(FM),fX=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).SIt=void 0,r.ux=n,r}It(n,t);var i=n.prototype;return i.TI=function(){var n,i;return t.prototype.TI.call(this).AB(null!=(i=null==(n=this.SIt)?void 0:n.SI)?i:FA.WB())},i.jrt=function(){var n,i;return t.prototype.jrt.call(this).AB(null!=(i=null==(n=this.SIt)?void 0:n.J3)?i:FA.WB())},i.Yrt=function(n){t.prototype.Yrt.call(this,n),this.SIt&&(this.SIt.sQ=n)},i.Jrt=function(n){t.prototype.Jrt.call(this,n),this.SIt&&(this.SIt.$j=n)},i.fIt=function(n,i){t.prototype.fIt.call(this,n,i),this.SIt&&this.SIt.i4(n,i)},i.vIt=function(n,i){t.prototype.vIt.call(this,n,i),this.SIt&&this.SIt.s4(n,i)},i.gIt=function(n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return kr(r),(u=[]).push(t.prototype.gIt.call(e,n,i,r)),e.SIt&&u.push(e.SIt.rT(n,i,r)),[4,et.all(u)];case 1:return s.sent(),[2]}}))}))()},i.ZJ=function(n){return!!t.prototype.ZJ.call(this,n)||this.ux.TIt(n)},i.mIt=function(n){return t.prototype.ZJ.call(this,n)?t.prototype.mIt.call(this,n):this.ux.kIt(n)},i.EIt=function(t){var n,i;null==(n=this.SIt)||n.vn(tC,this.$rt),this.SIt=t,null==(i=this.SIt)||i.bn(tC,this.$rt)},n}(hX),vX=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).xIt=void 0,r.FA=NaN,r.NIt=!1,r.MIt=!1,r.LIt=void 0,r.Urt(i),r.ux=n,r}It(n,t);var i=n.prototype;return i.ZJ=function(n){var i=void 0!==this.H4,r=void 0!==this.X4,e=n.J4.some((function(t){return Qo(t.Fk,"audio")})),u=n.J4.some((function(t){return Qo(t.Fk,"video")}));return i===e&&r===u&&(!!t.prototype.ZJ.call(this,n)||(!(!this.xIt||!this.xIt.ZJ(n))||this.ux.IIt(n)))},i.XJ=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return t.prototype.ZJ.call(i,n)?[4,t.prototype.XJ.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.xIt&&i.xIt.ZJ(n)?(i.RIt(),[4,i.XJ(n)]):[3,4];case 4:return[4,i.ux.CIt(n)];case 5:return r.sent(),[4,i.XJ(n)];case 7:return[2]}}))}))()},i.TIt=function(t){return this.ZJ(this.PIt(t))},i.kIt=function(t){return this.XJ(this.PIt(t))},i.PIt=function(t){var n=this.kd,i=n.J4.map((function(n){return Qo(t.Fk,"audio")&&Qo(n.Fk,"audio")||Qo(t.Fk,"video")&&Qo(n.Fk,"video")?t:n}));return ao({},n,{J4:i})},i.Q4=function(n,i,r,e){t.prototype.Q4.call(this,n,i,r,e),this.xIt&&this.xIt.Q4(n,i,r,e)},i.DIt=function(){return!this.NIt&&this.MIt},i.jd=function(){return void 0!==this.LIt?this.LIt:this.DIt()?this.FA:t.prototype.jd.call(this)},i.q4=function(n){this.FA=n,this.LIt=void 0,this.DIt()||t.prototype.q4.call(this,n)},i.Wrt=function(){return!this.DIt()&&t.prototype.Wrt.call(this)},i.Y3=function(){this.LIt=k.max(lX(this.kZ.d4),lX(this.kZ.f4)),this.DIt()||t.prototype.Y3.call(this)},i.V3=function(){this.LIt=void 0,this.DIt()||t.prototype.V3.call(this)},i.Zrt=function(t){return new fX(this,t)},i.BIt=function(){this.NIt=!this.NIt},i.RIt=function(){var t=this.kZ,n=this.xIt;n&&(this.NIt=!this.NIt,this.Urt(n),this.OIt(t),this.DIt()&&this.FIt())},i.OIt=function(t){var n,i;this.xIt=t,null==(n=this.H4)||n.EIt(null==t?void 0:t.d4),null==(i=this.X4)||i.EIt(null==t?void 0:t.f4)},i.VIt=function(t){var n=this.kZ,i=this.xIt;if(i){var r=this.NIt,e=r?n:i,u=(r?i:n).SI.BB(t);if(u){var s=sO(e.SI,this.jrt()).BB(u.Tn(0),Se);if(s&&!(u.Tn(0)+Se>=s.Tn(0)))return k.max(u.Tn(0),s.Sn(0))}}},i.WIt=function(t,n){var i=this;if(this.MIt)return et.resolve();var r=this.NIt?this.xIt:this.kZ;return r?(this.MIt=!0,this.UIt((function(n){if(kr(n),i.MIt)return function(t,n,i){return dX.apply(this,arguments)}(r,t,n)}),n)):et.resolve()},i.FIt=function(){if(this.MIt){var t=this.NIt?this.xIt:this.kZ;if(t){var n;0,this.MIt=!1;var i=null!=(n=this.LIt)?n:this.FA;t.ct<i&&t.q4(i),t.V3()}}},i.GIt=function(t){var n,i=null!=(n=this.LIt)?n:this.FA;t.q4(i),this.NIt?this.Urt(t):this.OIt(t)},i.jrt=function(){var t,n,i,r,e=null!=(i=null==(t=this.H4)?void 0:t.J3)?i:FA.WB(),u=null!=(r=null==(n=this.X4)?void 0:n.J3)?r:FA.WB();return e.AB(u)},i.UIt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:r=[],i.H4&&r.push(i.H4.pIt()),i.X4&&r.push(i.X4.pIt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,et.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.H4&&i.H4.yIt(),i.X4&&i.X4.yIt(),[7];case 5:return[2]}}))}))()},i.Xrt=function(n){n.type===$R.PJ&&this.ux.H3(),t.prototype.Xrt.call(this,n)},n}(BM);function dX(){return dX=Pt((function(t,n,i){var r;return Ot(this,(function(e){switch(e.label){case 0:return kr(i),r=[],t.d4&&r.push(kN(t.d4,n,i)),t.f4&&r.push(kN(t.f4,n,i)),[4,et.all(r)];case 1:return e.sent(),t.Y3(),[2]}}))})),dX.apply(this,arguments)}function lX(t){if(!t)return 0;var n=t.SI;return n.V>0?n.Tn(n.V-1):0}function gX(t){return t.kd.zw===Cp.qW}F(),Tt();var wX=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).XIt=!1,e.l8=void 0,e.G8=NaN,e.Uo=FA.WB(),e.WH=!0,e.iRt=!1,e.LH=!0,e.QIt=void 0,e.qIt=void 0,e.zIt=new mr,e.V8=new mr,e.HIt=i,e.KIt=n,e.aO.ge(),e.HIt.be(),e.FW=new PM(e,r),e.Hl=new Wk([e.FW.nt,t.prototype._R.call(tX(e))]),e}It(n,t);var i=n.prototype;return i.TI=function(){return t.prototype.TI.call(this).AB(this.HIt.SI)},i.jd=function(){if(!this.XIt){var n=this.kZ;if(n&&gX(n))return n.ct}return t.prototype.jd.call(this)},i.uot=function(){return!!t.prototype.uot.call(this)&&!(!this.XIt&&!this.r$())},i.cot=function(){return!!t.prototype.cot.call(this)&&!(!this.XIt&&t.prototype.uot.call(this)&&!this.r$())},i.r$=function(){var t=this.kZ;return!(!t||!gX(t))&&t.r$},i.nR=function(){return this.Uo.AB(this.aO.sR)},i.lR=function(){return t.prototype.lR.call(this).AB(this.HIt.cR)},i.uR=function(){return t.prototype.uR.call(this)},i.aot=function(){var n;return null!=(n=t.prototype.aot.call(this))?n:this.HIt.EZ},i.DR=function(){return this.WH=!1,t.prototype.DR.call(this)},i.PR=function(){this.WH=!0,t.prototype.PR.call(this)},i.Q7=function(){this.XIt=!0,t.prototype.Q7.call(this),this.HIt.Q7()},i.J7=function(){this.XIt=!1,t.prototype.J7.call(this),this.HIt.Q7()},i.CI=function(){var n;return null!=(n=this.l8)?n:t.prototype.CI.call(this)},i.fR=function(){return void 0!==this.l8||t.prototype.fR.call(this)},i.Db=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.zIt.np(),this.V8.np(),this.V8=new mr,this.qIt=Er(this.U8(t,n,i,this.qIt,this.V8.ep),this.V8).catch(_i)},i.U8=function(n,i,r,e,u){var s=this;return Pt((function(){return Ot(this,(function(o){switch(o.label){case 0:return s.l8=n,s.G8=n,s._o(new RT(n)),e?[4,e.catch(_i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return kr(u),s.kZ&&gX(s.kZ)&&s.kZ.FIt(),s.l8=void 0,t.prototype.Db.call(s,n,i,r),s.HIt.Db(n,i,r),s.YIt(),[2]}}))}))()},i.wZ=function(t){var n=this.EZ;if(n&&!S(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Db(i)}},i.itt=function(){t.prototype.itt.call(this),this.HIt.itt()},i.be=function(){this.LH&&(this.LH=!1,this.KIt.be())},i.ge=function(){this.LH||(this.LH=!0,this.KIt.ge())},i.jIt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.l8=void 0,t.G8=NaN,t.Uo=FA.WB(),null==(n=t.QIt)||n.np(),t.zIt.np(),t.V8.np(),t.qIt?[4,t.qIt.catch(_i)]:[3,2];case 1:i.sent(),t.qIt=void 0,i.label=2;case 2:return[2]}}))}))()},i.vot=function(n){t.prototype.vot.call(this,n),this.HIt.zZ=n},i.got=function(n){t.prototype.got.call(this,n),this.HIt.ntt=n},i._R=function(){return this.Hl},i.ZR=function(t,n,i,r,e,u,s,o){return this.FW.ZR(t,n,i,r,e,u,s,o)},i.UZ=function(t){return this.FW.UZ(t)},i.FZ=function(t,n,i,r,e){throw new p("Not implemented yet")},i.BZ=function(){return!1},i.ZW=function(t){this.FW.ZW(t)},i.GZ=function(){this.FW.nr(),t.prototype.GZ.call(this)},i.$n=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return gX(r=e.sent())&&i.YIt(),[2,r]}}))}))()},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.jIt()];case 1:return i.sent(),[4,t.prototype.nr.call(n)];case 2:return i.sent(),[4,n.HIt.nr()];case 3:return i.sent(),[2]}}))}))()},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.jIt()];case 1:return i.sent(),n.FW.yn(),n.Hl.yn(),[4,t.prototype.Km.call(n)];case 2:return i.sent(),[2]}}))}))()},i.wot=function(t){return new vX(this,t)},i.pot=function(t){return new ZM(t)},i.YIt=function(){this.zIt.np(),this.zIt=new mr,this.qIt=Er(this.JIt(this.qIt,this.zIt.ep),this.zIt).catch(_i)},i.JIt=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(_i)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!i.kZ||!gX(i.kZ))return[2];o.label=3;case 3:0,kr(n),i.$It()&&i.BIt(),r=void 0,i.kZ.FIt(),kr(n),o.label=4;case 4:0,e={stack:[],error:void 0,hasError:!1},o.label=5;case 5:return o.trys.push([5,9,10,11]),kr(n),i.$It()?[3,12]:void 0===(r=i.kZ.VIt(i.CI()))?[3,7]:(i.tRt(),[4,i.kZ.WIt(r,n)]);case 6:return o.sent(),kr(n),i.HIt.Db(r),[3,12];case 7:return u=Vt(e,mr.hp([n]),!1),[4,et.race([i.Ay(ya._b,u.ep),i.eRt(u.ep)])];case 8:return o.sent(),[3,11];case 9:return s=o.sent(),e.error=s,e.hasError=!0,[3,11];case 10:return Ft(e),[7];case 11:return[3,4];case 12:kr(n),o.label=13;case 13:return i.$It()?[3,15]:[4,i.aO.Ay([ya._b,ya.Ly,Np.aC],n)];case 14:return o.sent(),[3,13];case 15:return[3,3];case 16:return[2]}}))}))()},i.$It=function(){var t=this.kZ;if(void 0===t||!gX(t))return!1;var n=this.CI(),i=this.aO.SI;return!(!this.aO.MI&&i.wr(n))&&!!sO(this.HIt.SI,t.jrt()).IB(n,n+Se)},i.BIt=function(){if(!this.iRt){0,this.iRt=!0,this.Uo=this.nR();var t=ON(this),n=this.fR(),i=this.uR(),r=this.aO,e=this.HIt,u=this.kZ;u.FIt(),u.BIt(),BN(e,t),this.bot(e),this.HIt=r,r.PR(),r.qI=!0,this.iRt=!1;var s=this.fR();n!==s&&(s?this._o(new RT(this.RI)):this._o(new CT(this.RI)));var o=this.uR();i!==o&&this._o(new xp(this.RI,o)),s||this.tRt()}},i.tRt=function(){var t=this.aO,n=this.KIt;if(n!==t){0;var i=this.pR,r=this.vR;this.KIt=t,this.LH&&(n.be(),t.ge());var e=this.pR,u=this.vR;e>0&&u>0&&(i!==e||r!==u)&&this._o(new Rp)}},i.IIt=function(t){return void 0!==this.HIt.l$([t])},i.CIt=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return n.tRt(),i=n.kZ,[4,(r=n.HIt).nr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.GIt(e),[2]}}))}))()},i.eRt=function(t){return this.QIt=new ih,Sr(this.QIt.Xb,t)},i.H3=function(){var t;null==(t=this.QIt)||t.Zb()},i.UR=function(n){n.type===ya.ib&&this.G8===n.currentTime||(n.type===ya.eb&&(this.G8=NaN,this.tRt()),n.type!==Np.aC&&n.type!==ya.Ky&&n.type!==ya.Ly||this.iRt||!this.$It()?(n.type!==ya.Ly||this.MI)&&t.prototype.UR.call(this,n):this.YIt())},Nt(n,[{key:"ZIt",get:function(){return this.HIt}},{key:"vR",get:function(){return this.KIt.vR}},{key:"pR",get:function(){return this.KIt.pR}}]),n}(cX),mX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new ax)||this).MO=new KT(n.WZ),r.Cit=new Yx,r.Cit.stt(n.SZ.parentElement),r.Pit=new cL(r.Cit.we,r.Hu,r.nt,r.Wl,r.Sa,r.WZ),r}It(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.Cit.be()},i.ge=function(){t.prototype.ge.call(this),this.Cit.ge()},i.stt=function(t){this.aO.stt(t),this.HIt.stt(t)},i.FR=function(){this.aO.FR(),this.HIt.FR()},i.IR=function(){return this.aO.IR()},i.ja=function(){return this.MO},i.bot=function(n){var i=this.xR(),r=this.IR();t.prototype.bot.call(this,n),this.MO.bC=n.WZ,this.xR()!==i&&this._o(new GT),this.IR()!==r&&this._o(new HT)},i.Km=function(){return this.MO.yn(),this.Pit.yn(),this.Cit.yn(),t.prototype.Km.call(this)},Nt(n,[{key:"hot",get:function(){return this.aO}},{key:"ZIt",get:function(){return this.HIt}},{key:"SZ",get:function(){return this.aO.SZ}},{key:"y5",get:function(){return this.aO.y5}},{key:"ER",get:function(){return this.aO.ER},set:function(t){this.aO.ER=t}}]),n}(wX),yX=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.lH=function(n){if(n===aw.yE){var i=t.prototype.lH.call(this,n),r=t.prototype.lH.call(this,n);return new mX(i,r)}return t.prototype.lH.call(this,n)},i.qZ=function(n){var i=this,r=function(){return t.prototype.qZ};return Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return n instanceof mX?[4,n.Km()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.hot)];case 2:return t.sent(),[4,r().call(i,n.ZIt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(LM),pX=function(t){function n(n,i,r,e,u,s,o){var a,c=new KM(new yX(u)),h=c.lH(s);return(a=t.call(this,n,i,r,e,h,o)||this).YZ=c,a}return It(n,t),n.prototype.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.YZ.qZ(n.aO)];case 2:return i.sent(),[2]}}))}))()},n.TT=function(t){var n;return!Gn.Qs&&!Gn.gm&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(QZ);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt();var _X=function(t){function n(n){var i;return(i=t.call(this,n)||this).sRt=!1,i.hIt=FA.WB(),i.FA=0,i.nRt=!1,i.jit=!1,i.AIt=void 0,i.j4=FA.WB(),i.rRt=void 0,i.Urt(n),i.FT=n.kd,i}It(n,t);var i=n.prototype;return i.Zrt=function(t){return new hX(t)},i.yT=function(){return this.sRt?this.FT:t.prototype.yT.call(this)},i.TI=function(){return this.sRt?this.hIt:t.prototype.TI.call(this)},i.jd=function(){return this.sRt?this.FA:t.prototype.jd.call(this)},i.q4=function(n){this.sRt?(this.FA=n,this.nRt=!0):t.prototype.q4.call(this,n)},i.lR=function(){return this.sRt?this.rRt?this.rRt.a4():this.j4:t.prototype.lR.call(this)},i.Q4=function(n,i,r,e){this.sRt?this.rRt=new _N(n,i,r,e):t.prototype.Q4.call(this,n,i,r,e)},i.Wrt=function(){return this.sRt?this.jit&&!1!==this.AIt:t.prototype.Wrt.call(this)},i.Y3=function(){this.sRt?this.AIt=!0:t.prototype.Y3.call(this)},i.V3=function(){this.sRt?this.AIt=!1:t.prototype.V3.call(this)},i.ZJ=function(n){return!this.sRt&&t.prototype.ZJ.call(this,n)},i.XJ=function(n){return this.sRt?et.reject(new _("Not supported")):t.prototype.XJ.call(this,n)},i.pIt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:if(t.sRt)throw new _("Already locked");return t.sRt=!0,t.wIt(),n=[],t.H4&&n.push(t.H4.pIt()),t.X4&&n.push(t.X4.pIt()),[4,et.all(n)];case 1:return i.sent(),[2]}}))}))()},i.yIt=function(){this.sRt=!1,this.H4&&this.H4.yIt(),this.X4&&this.X4.yIt(),this.bIt()},i.wIt=function(){this.FT=t.prototype.yT.call(this),this.hIt=t.prototype.TI.call(this),this.FA=t.prototype.jd.call(this),this.j4=t.prototype.lR.call(this),this.nRt=!1,this.AIt=void 0,this.rRt=void 0},i.bIt=function(){if(this.nRt&&(t.prototype.q4.call(this,this.FA),this.nRt=!1),void 0!==this.rRt){var n=this.rRt;t.prototype.Q4.call(this,n.Sn,n.Tn,n.u4,n.c4),this.rRt=void 0}void 0!==this.AIt&&(this.AIt?t.prototype.Y3.call(this):t.prototype.V3.call(this),this.AIt=void 0)},n}(BM),bX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hRt=!1,n.uRt=!1,n._Rt=void 0,n.fRt=void 0,n.dRt=new mr,n}It(n,t);var i=n.prototype;return i.DR=function(){return void 0!==this.kZ&&gX(this.kZ)&&this.MI&&this.Db(0),t.prototype.DR.call(this)},i.Db=function(n,i,r){void 0!==this.kZ&&gX(this.kZ)&&this.MI&&n<this.ct&&this.oRt(),t.prototype.Db.call(this,n,i,r)},i.Q7=function(){this.hRt=!0,t.prototype.Q7.call(this)},i.J7=function(){this.hRt=!1,this.aRt()||t.prototype.J7.call(this)},i.aRt=function(){return this.hRt||this.uRt},i.cRt=function(){this.uRt||(this.uRt=!0,t.prototype.Q7.call(this))},i.lRt=function(){this.uRt&&(this.uRt=!1,this.aRt()||t.prototype.J7.call(this))},i.$n=function(t){this.dRt.np();var n=this.ix(t,this.fRt);return this._Rt=n,n},i.ix=function(n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(_i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.lRt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.wot=function(t){return new _X(t)},i.pot=function(t){return new ZM(t)},i.nr=function(){this.dRt.np();var t=this.ixt(this.fRt);return this._Rt=t,t},i.ixt=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(_i)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.lRt(),[4,t.prototype.nr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.oRt=function(){this.cRt(),this.dRt.np(),this.dRt=new mr,this.fRt=Er(this.vRt(this._Rt,this.fRt,this.dRt.ep),this.dRt).catch(Tr)},i.vRt=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(_i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(_i)]:[3,4];case 3:o.sent(),o.label=4;case 4:return kr(i),(e=r.kZ)&&gX(e)?(u=e.kd,[4,e.pIt()]):[2];case 5:return o.sent(),[4,r.aO.nr()];case 6:return o.sent(),[4,r.aO.$n(u)];case 7:return(s=o.sent()).q4(e.ct),e.Urt(s),e.yIt(),r.lRt(),[2]}}))}))()},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.dRt.np(),n.fRt?[4,n.fRt.catch(_i)]:[3,2];case 1:i.sent(),n.fRt=void 0,i.label=2;case 2:return n.aRt()&&t.prototype.J7.call(n),[4,t.prototype.Km.call(n)];case 3:return i.sent(),[2]}}))}))()},n}(HM),kX=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(MM(bX)),AX=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(XM(bX)),TX=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.lH=function(n){return n===aw.yE?new AX(t.prototype.lH.call(this,n)):n===aw.wE?new kX(t.prototype.lH.call(this,n)):void 0},i.qZ=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return[4,(r=n).Km()];case 1:return e.sent(),[4,t.prototype.qZ.call(i,r.hot)];case 2:return e.sent(),[2]}}))}))()},n.TT=function(){return Gn.wm},n}(LM),SX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vH=Ok.HG,n}It(n,t);var i=n.prototype;return i.mP=function(t,n,i,r,e,u,s,o){var a;a=aX.TT(o)?aX:pX.TT(o)?pX:$Z;var c=n;return TX.TT()&&(c=new TX(c)),new a(i,r,e,u,c,aw.yE,t)},i._H=function(){return!0},n}(CM);sS(new SX),F(),Tt(),F(),Tt(),Rt(),nA((function(t){return function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.ka=function(){var n=this.VI.wa;return Ug(t.prototype.ka.call(this),{get hesp(){return n}})},n}(t)}),$k.au),F(),Tt(),Rt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Wt(),F(),Tt(),qt();var EX=0;function IX(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function RX(t){var n,i,r;return ao({},t,{baseUrl:IX(t.baseUrl),id:null!=(n=t.id)?n:String(EX++),timeBounds:ao({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(LX),video:t.video.map(OX),metadata:t.metadata.map(VX),events:t.events.map(XX)})}var CX=0;function NX(t){var n,i=IX(t.initPattern,!1),r=IX(t.contPattern,!1);return ao({},t,{id:null!=(n=t.id)?n:String(CX++),continuationPattern:r?qo(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?qo(i,"${initId}","{initId}"):void 0})}function DX(t){var n,i=IX(t.initPattern,!1),r=IX(t.contPattern,!1);return ao({},t,{continuationPattern:r?qo(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?qo(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(xX),activeSegment:null==(n=Hi(t.segments,(function(t){return t.active})))?void 0:n.id})}function xX(t){var n;return ao({},t,{timeBounds:ao({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function PX(t){return t&&"-"===t.charAt(0)}function LX(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return PX(t.contPattern)||PX(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ao({},NX(t),{baseUrl:IX(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,MX(t)}))})}(t,n):ao({},NX(t),{baseUrl:IX(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(MX)})}function MX(t){var n;try{var i;n=A(null!=(i=t.channels)?i:"2")}catch(t){n=2}return PX(t.contPattern)||PX(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ao({},DX(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):ao({},DX(t),{baseUrl:IX(t.baseUrl),channels:n,sampleRate:t.samplerate})}function OX(t){return PX(t.contPattern)||PX(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ao({},NX(t),{baseUrl:IX(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,BX(t)}))})}(t):ao({},NX(t),{baseUrl:IX(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(BX)})}function BX(t){var n,i;return PX(t.contPattern)||PX(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ao({},DX(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ao({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):ao({},DX(t),{baseUrl:IX(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ao({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function VX(t){var n;return ao({},t,{id:null!=(n=t.id)?n:String(CX++),schemeId:"",tracks:t.tracks.map(FX)})}function FX(t){return ao({},t,{segments:t.segments.map(WX)})}var UX=0;function WX(t){return{id:UX++,timeBounds:ao({},t.timeBounds,{scale:t.timeBounds.timescale})}}var ZX=0;function XX(t){var n,i;return ao({},t,{id:null!=(n=t.id)?n:String(ZX++),timeBounds:ao({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var GX=function(){function t(t){this.mI=t}return t.prototype.gRt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return r={Xu:t,ep:n},[4,i.mI.eE(r)];case 1:return[4,s.sent().Nk(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(ti(r.manifestVersion)&&Jo(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=Kt(s.video).concat(Kt(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Yn(n))break}return(ti(null==i?void 0:i.initPattern)||ti(null==n?void 0:n.initPattern))&&!ti(null==n?void 0:n.initializationPattern)&&!ti(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return ao({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(RX),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();F(),Tt(),Dt(),Rt();var HX=function(t){function n(n){var i;return(i=t.call(this)||this).mRt=n,i}It(n,t);var i=n.prototype;return i.JC=function(){return this.mRt.JC()},i.bn=function(t,n){this.mRt.bn(t,n)},i.vn=function(t,n){this.mRt.vn(t,n)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=gA(this)),this.eu}},{key:"qC",get:function(){return this.mRt.qC}},{key:"YC",get:function(){return this.mRt.YC}},{key:"KC",get:function(){return this.mRt.KC}},{key:"jC",get:function(){return this.mRt.jC}},{key:"QC",get:function(){return this.mRt.QC}}]),n}(la);F(),Tt(),Dt(),F(),Tt(),Dt(),F(),Tt(),Dt();var zX=function(){function t(t){this.yRt=0,this.wRt=0,this.pRt=k.exp(k.log(.5)/t)}var n=t.prototype;return n.Jat=function(t,n){var i=k.pow(this.pRt,t),r=n*(1-i)+i*this.yRt;S(r)||(this.yRt=r,this.wRt+=t)},n.XJ=function(t){var n=k.exp(k.log(.5)/t);if(n!==this.pRt)if(0!==this.wRt){var i=this.zit,r=1-k.pow(n,this.wRt);this.yRt=i*r,this.pRt=n}else this.pRt=n},Nt(t,[{key:"zit",get:function(){var t=1-k.pow(this.pRt,this.wRt);return this.yRt/t}}]),t}(),YX=function(){function t(n,i,r,e){void 0===n&&(n=t.DRt),void 0===i&&(i=t.NRt),void 0===r&&(r=t.out),void 0===e&&(e=!1),this.xRt=0,this.IRt=[],this.kRt=void 0,this.ERt=6e4,this.RRt=10,this.CRt=n,this.PRt=i,this.SRt=r,this.TRt=e,this.bRt=new zX(n),this.ARt=new zX(i)}var n=t.prototype;return n.Jat=function(t){var n=Kn.Wm(),i=t;this.TRt&&void 0!==this.kRt&&n-this.kRt>=this.ERt&&this.nr(),this.xRt+=1,this.bRt.Jat(1,i),this.ARt.Jat(1,i),this.IRt.push(i),this.IRt.length>this.RRt&&this.IRt.shift(),this.kRt=n},n.rut=function(){return void 0!==this.kRt&&Kn.Wm()-this.kRt<=this.ERt},n.nr=function(){this.bRt=new zX(this.CRt),this.ARt=new zX(this.PRt),this.xRt=0,this.IRt=[],this.kRt=void 0},Nt(t,[{key:"zit",get:function(){return this.rut()?k.max(this.bRt.zit,this.ARt.zit):this.SRt}}]),t}();YX.DRt=2,YX.NRt=5,YX.out=.1,F(),Tt();var jX=function(){function t(t){this.MRt=t}var n=t.prototype;return n.Xj=function(t){for(var n=0,i=this.MRt;n<i.length;n++){i[n].Xj(t)}},n.zj=function(t){for(var n=0,i=this.MRt;n<i.length;n++){i[n].zj(t)}},n.qj=function(t,n){for(var i=0,r=this.MRt;i<r.length;i++){r[i].qj(t,n)}},n.Yj=function(t){for(var n=0,i=this.MRt;n<i.length;n++){i[n].Yj(t)}},t}();F(),Tt();var KX=function(){function t(t){this.LRt=0,this.BRt=t}var n=t.prototype;return n.Xj=function(t){this.LRt=t},n.zj=function(t){this.BRt.Jat(t-this.LRt)},n.qj=function(t){},n.Yj=function(t){},t}();F(),Tt();var qX=function(){function t(t){this.ORt=0,this.uut=t}var n=t.prototype;return n.zj=function(t){this.ORt=t},n.qj=function(t,n){this.uut.Jat(t-this.ORt,n.byteLength),this.ORt=t},n.Yj=function(t){},n.Xj=function(t){},t}();F(),Tt(),Rt();var JX=function(){function t(t,n){void 0===n&&(n=0),this.VRt=new QX,this.Pn=0,this.FRt=0,this.uut=t,this.URt=n}var n=t.prototype;return n.Xj=function(t){},n.qj=function(t,n){var i=n.byteLength,r=this.FRt;this.FRt=i;var e=t-this.Pn;this.Pn=t,this.VRt.F$(n);var u=!this.VRt.WRt(),s=i>=this.URt;r!==Kn.Ys.Ip&&u&&s&&this.uut.Jat(e,i)},n.zj=function(t){this.Pn=t},n.Yj=function(t){},t}(),QX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ZRt=void 0,n.GRt=!1,n}It(n,t);var i=n.prototype;return i.WRt=function(){return this.GRt},i.F$=function(n){this.GRt=!1,t.prototype.F$.call(this,n)},i.B$=function(n,i){this.ZRt&&this.ZRt!==ly.TD||(this.GRt=!0),t.prototype.B$.call(this,n,i),this.ZRt=n},i.Y$=function(t){return!1},i.j$=function(t){},i.J$=function(t){},n}(gC);F(),Tt(),Rt();var $X=function(t){return t.HRt="sample",t}({}),tG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).XRt=0,n}return It(n,t),n.prototype.BG=function(){if(this.rut()){var t=Kn.Wm();t-this.XRt>1e3&&(this.XRt=t,Mk.Vm.BG(this.zit))}},n}(la);F(),Tt(),Dt(),Rt();var nG=function(t){function n(n){var i;return(i=t.call(this)||this).hS=[],i.YRt=0,i.zRt=n,i.yRt=n,i}It(n,t);var i=n.prototype;return i.rut=function(){return this.hS.length>=3},i.Jat=function(t,n){if(0!==t){var i={jG:8*n/t,qRt:n};if(this.hS.push(i),this.YRt+=i.qRt,this.hS.length>30){var r=this.hS.shift();this.YRt-=r.qRt}for(var e=this.hS.slice().sort((function(t,n){return t.jG-n.jG})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.qRt/this.YRt,this.yRt=o.jG,u>=.5)break}this.BG(),this._o(new ma($X.HRt))}},Nt(n,[{key:"zit",get:function(){return this.rut()?this.yRt:this.zRt}}]),n}(tG);F(),Tt(),Dt(),Rt();var iG=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.DRt),void 0===r&&(r=n.NRt),void 0===e&&(e=n.QRt),void 0===u&&(u=n.out),(s=t.call(this)||this).KRt=0,s.jRt=e,s.bRt=new zX(i),s.ARt=new zX(r),s.SRt=u,s}It(n,t);var i=n.prototype;return i.Jat=function(t,n){var i=8*n/t;this.bRt.Jat(t,i),this.ARt.Jat(t,i),this.KRt+=n,this.BG(),this._o(new ma($X.HRt))},i.rut=function(){return this.KRt>=this.jRt},Nt(n,[{key:"zit",get:function(){return this.rut()?k.min(this.bRt.zit,this.ARt.zit):this.SRt}}]),n}(tG);iG.QRt=128e3,iG.out=Lk,iG.DRt=.5,iG.NRt=5;var rG=function(){function t(t,n){var i=this;this.eCt=[],this.$Rt=function(){for(var t=0,n=i.eCt;t<n.length;t++){(0,n[t])()}},this.sCt=t>0?t:iG.out,this.nCt=new YX(YX.DRt,YX.NRt,n>0?n:YX.out),this.JRt(this.sCt)}var n=t.prototype;return n.JRt=function(t){var n;null==(n=this.uut)||n.vn($X.HRt,this.$Rt),this.uut=new nG(t),this.uut.bn($X.HRt,this.$Rt)},n.tCt=function(t){this.eCt.push(t)},n.iCt=function(t){Ji(this.eCt,t)},n.JG=function(t){if("segment"===t.zw&&"video"===t.PE){var n=[new KX(this.nCt)];return this.uut&&("stream"===t.tE&&"initialization-segment"!==t.CE?n.push(new JX(this.uut,1e3)):n.push(new qX(this.uut))),new jX(n)}},Nt(t,[{key:"jG",get:function(){var t,n;return null!=(n=null==(t=this.uut)?void 0:t.zit)?n:this.sCt}},{key:"QG",get:function(){return this.nCt.zit}}]),t}();F(),Tt(),Dt();var eG=function(){function t(){}var n=t.prototype;return n.rCt=function(t,n){var i=n-t;(!this.oCt||i<this.oCt)&&(this.oCt=i)},n.hCt=function(t,n){this.aCt=n-t},n.uCt=function(t,n){this.cCt=n-t},n.lCt=function(t,n){this.dCt=n-t},n._Ct=function(t){var n=this.fCt;if(void 0!==n)return n-t},n.nr=function(){this.oCt=void 0,this.aCt=void 0,this.dCt=void 0,this.cCt=void 0},Nt(t,[{key:"fCt",get:function(){var t=ur([this.cCt,this.dCt].filter(Yn),bi);return void 0!==t?Kn.Wm()/1e3+t:void 0!==this.aCt?Kn.Wm()/1e3+this.aCt:void 0!==this.oCt?Kn.Wm()/1e3+this.oCt:void 0}}]),t}();F(),Tt();var uG=.25,sG=400,oG={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:WA,maximumPlaybackRate:ZA},aG={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:WA,maximumPlaybackRate:ZA},cG={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:WA,maximumPlaybackRate:ZA},hG={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:WA,maximumPlaybackRate:ZA},fG={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:WA,maximumPlaybackRate:ZA};function vG(t){if(Kn.Rw.Pw){var n=(sG+250)/1e3,i=k.max(n,t.minimumOffset),r=k.max(i+uG,t.targetOffset),e=k.max(r+uG,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:k.max(e+uG,t.forceSeekOffset),minimumPlaybackRate:WA,maximumPlaybackRate:ZA}}return t}function dG(){var t;return t=Kn.Ys.Ap?hG:Kn.Ys.xp?aG:Kn.Ys.Ep?"Android"===Kn.Rw.Cw?cG:oG:fG,Kn.Rw.Pw?vG(t):t}F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),nn(),Wt(),F(),Tt();var lG=function(){function t(){this.hIt=[]}var n=t.prototype;return n.vCt=function(t){for(var n=0,i=this.hIt;n<i.length;n++){var r=i[n];r[1]=r[1].jn(t)}},n.gCt=function(t,n){for(var i=!0,r=0,e=this.hIt;r<e.length;r++){var u=e[r],s=u[1];s=s.TB(n),t===u[0]&&(s=s.AB(n),i=!1),u[1]=s.bB(1e-5)}i&&this.hIt.push([t,n])},n.mCt=function(t){for(var n=0,i=this.hIt;n<i.length;n++){var r=i[n];r[1]=r[1].TB(t)}},n.pCt=function(t){for(var n=0;n<this.hIt.length;n++)if(this.hIt[n][1].wr(t))return this.hIt[n][0]},t}(),gG=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).wCt=[],u.ACt=void 0,u.G3=new mr,u.aO=i,u.Krt=n,u.Fyt=r,u.xCt=e,u.yCt=new lG,u.Krt.bn($R.PJ,u.Ds),u}It(n,t);var i=n.prototype;return i.pCt=function(t){return this.yCt.pCt(t)},i.appendStream=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m;return Ot(this,(function(y){switch(y.label){case 0:if(r.bCt)throw new p("Concurrent appends are not supported.");y.label=1;case 1:y.trys.push([1,10,11,12]),e={stack:[],error:void 0,hasError:!1},y.label=2;case 2:y.trys.push([2,7,8,9]),u=Vt(e,mr.hp([i,r.G3.ep]),!1),s=u.ep,r.yCt.vCt(r.SI),r.ACt=new ih,o=vC(t),a=o.getReader(),y.label=3;case 3:return[4,Sr(a.read(),s)];case 4:return(c=y.sent()).done?[3,6]:(h=c.value,f={zw:nC.NJ,$k:jc(h.map((function(t){return t.Eut})))},v={ct:Vi(h,(function(t){return t.ct})),$it:h[0].svt,aW:-n.jht.TCt},[4,r.h3(f,v,s)]);case 5:return y.sent(),d=v.$it+v.aW,l=d+v.ct,r.yCt.gCt(n.jht,FA.VB(d,l)),[3,3];case 6:return[3,9];case 7:return g=y.sent(),e.error=g,e.hasError=!0,[3,9];case 8:return Ft(e),[7];case 9:return[3,12];case 10:throw w=y.sent(),n.kCt(),w;case 11:return n.ECt(),m=r.ACt,r.ACt=void 0,null==m||m.Zb(),[7];case 12:return[2]}}))}))()},i.r3=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:if(e.bCt)throw new p("Concurrent appends are not supported.");v.label=1;case 1:v.trys.push([1,,7,8]),u={stack:[],error:void 0,hasError:!1},v.label=2;case 2:return v.trys.push([2,4,5,6]),s=Vt(u,mr.hp([r,e.G3.ep]),!1),o=s.ep,e.ACt=new ih,[4,e.h3(t,n,o)];case 3:return v.sent(),a=n.$it+n.aW,c=a+n.ct,e.yCt.vCt(e.SI),e.yCt.gCt(i,FA.VB(a,c)),[3,6];case 4:return h=v.sent(),u.error=h,u.hasError=!0,[3,6];case 5:return Ft(u),[7];case 6:return[3,8];case 7:return f=e.ACt,e.ACt=void 0,null==f||f.Zb(),[7];case 8:return[2]}}))}))()},i.h3=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return r.Krt.j3===aw.yE&&r.xCt.adt(t.$k,n.$it,n.$it+n.ct,n.aW,r.Fyt,!1),e=r.aO.vO._O,u=r.Krt.SI.wr(r.aO.RI),e||u?[4,r.ICt(i)]:[3,3];case 1:return o.sent(),[4,r.Krt.r3(t,n,i)];case 2:case 4:return[2,o.sent()];case 3:return r.wCt.push([t,n]),s=r.wCt[0][1].$it,r.wCt[r.wCt.length-1][1].$it-s>=.4?[4,r.ICt(i)]:[3,5];case 5:return[2]}}))}))()},i.a3=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:if(i.bCt)throw new p("Concurrent appends are not supported.");a.label=1;case 1:a.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,5,6,7]),e=Vt(r,mr.hp([n,i.G3.ep]),!1),u=e.ep,i.ACt=new ih,[4,i.ICt(u)];case 3:return a.sent(),[4,i.Krt.a3(t,{},u)];case 4:return a.sent(),i.Krt.j3===aw.yE&&i.xCt.Tot(t.$k),[3,7];case 5:return s=a.sent(),r.error=s,r.hasError=!0,[3,7];case 6:return Ft(r),[7];case 7:return[3,9];case 8:return o=i.ACt,i.ACt=void 0,null==o||o.Zb(),[7];case 9:return[2]}}))}))()},i.rT=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:if(r.bCt)throw new p("Concurrent appends are not supported.");c.label=1;case 1:c.trys.push([1,,8,9]),e={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,5,6,7]),u=Vt(e,mr.hp([i,r.G3.ep]),!1),s=u.ep,r.ACt=new ih,[4,r.ICt(s)];case 3:return c.sent(),[4,r.Krt.rT(t,n,s)];case 4:return c.sent(),r.yCt.mCt(FA.VB(t,n)),[3,7];case 5:return o=c.sent(),e.error=o,e.hasError=!0,[3,7];case 6:return Ft(e),[7];case 7:return[3,9];case 8:return a=r.ACt,r.ACt=void 0,null==a||a.Zb(),[7];case 9:return[2]}}))}))()},i.OY=function(t){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(n.bCt)throw new p("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,4,5,6]),r=Vt(i,mr.hp([t,n.G3.ep]),!1),e=r.ep,n.ACt=new ih,[4,n.ICt(e)];case 3:return o.sent(),[3,6];case 4:return u=o.sent(),i.error=u,i.hasError=!0,[3,6];case 5:return Ft(i),[7];case 6:return[3,8];case 7:return s=n.ACt,n.ACt=void 0,null==s||s.Zb(),[7];case 8:return[2]}}))}))()},i.ICt=function(t){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:i=0,r=n.wCt,o.label=1;case 1:return i<r.length?(e=tn(r[i],2),u=e[0],s=e[1],[4,n.Krt.r3(u,s,t)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return ir(n.wCt),[2]}}))}))()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:t.G3.Km(),n.label=1;case 1:return t.bCt?[4,t.SCt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},Nt(n,[{key:"SI",get:function(){for(var t=FA.WB(),n=0,i=this.wCt;n<i.length;n++){var r=tn(i[n],2)[1],e=r.$it+r.aW,u=e+r.ct;t=t.AB(FA.VB(e,u))}return this.Krt.SI.AB(t)}},{key:"bCt",get:function(){return void 0!==this.ACt}},{key:"SCt",get:function(){return this.ACt?this.ACt.Xb:et.resolve()}}]),n}(la);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Wt();var wG=function(){function t(t){this.CCt=0,this.PCt=t}var n=t.prototype;return n.RCt=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:if(i.CCt>=i.PCt.maxRetries)throw t;return[4,Mr(i.DCt(i.CCt++),n)];case 1:return r.sent(),[2]}}))}))()},n.DCt=function(t){var n=0;return 0!==t&&(n+=k.min(this.PCt.maximumBackoff,this.PCt.minimumBackoff*k.pow(2,t-1))),n},t}();F(),Tt(),Rt(),F(),Tt(),Rt();var mG=function(t){return t.NCt="emsgdata",t}({}),yG=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return It(n,t),n}(ma);F(),Tt();var pG=function(){function t(){}var n=t.prototype;return n.start=function(t){this.vJ=t},n.MCt=function(t){this.vJ.enqueue(t)},t}();F(),Tt(),F(),Tt();var _G=function(t){return t.LCt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.BCt="timestamps:v1",t}({});var bG="urn:theo:hesp:2020";function kG(t){if(t.FL===bG){var n=t.Fx;if(n===_G.LCt)return function(t){if(t&&Qn(t)){var n=t;if(ei(n.index)&&ei(n.offset)&&!(n.index<0&&n.offset<0))return{zw:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(Ic(Pc(t.UL),new Uc)));if(n===_G.MANIFEST_UPDATE)return function(t){if(t&&Qn(t)){var n=t;if(!Yn(n.url)||ti(n.url))return{zw:"manifestupdate",url:n.url}}}(JSON.parse(Ic(Pc(t.UL),new Uc)));if(n===_G.BCt){var i,r=Pc(t.UL),e=new Uc,u=cc(r,e).toNumber()/t.RN,s=cc(r,e).toNumber()/1e3,o=oc(r,e)/1e3;return e.nc+8<=r.byteLength&&(i={hours:oc(r,e),minutes:ec(r,e),seconds:ec(r,e),frames:uc(r,e)}),{zw:_G.BCt,OCt:u,FCt:s,VCt:o,WCt:i}}}}var AG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UCt=new la,n}It(n,t);var i=n.prototype;return i.transform=function(t){if(t.zw===ly.ED)try{var n=kG(Iy.bN(t.$k));n&&this.UCt._o(new yG(n.zw,n))}catch(t){false}this.MCt(t)},i.Km=function(){this.UCt.Ro()},n}(pG);F(),Tt(),Rt();var TG=function(){function t(){}var n=t.prototype;return n.start=function(t){this.A_=new SG(t)},n.transform=function(t){this.A_.F$(t)},n.flush=function(){this.A_.W$()},t}(),SG=function(t){function n(n){var i;return(i=t.call(this)||this).vJ=n,i}It(n,t);var i=n.prototype;return i.Y$=function(t){return!0},i.j$=function(t){this.vJ.enqueue(t)},i.J$=function(t){},n}(gC);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var EG=pe.fromNumber(Ci);var IG=function(t){function n(n,i){var r;return(r=t.call(this)||this).WW=n,r.GCt=i,r}return It(n,t),n.prototype.eE=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.WW.eE(t)];case 2:return[2,r.sent()];case 3:if(br(i=r.sent()))throw i;return[4,n.GCt.RCt(i,t.ep)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(la);function RG(t,n,i,r,e,u,s,o){var a=new Ud;return e&&a.Dk(function(t,n){return void 0===n&&(n=EG),new Ud({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{Xu:t,iE:a,DE:!1,ep:o,zw:_l.aE,CE:i,PE:r,xE:u,RE:s,tE:n,BE:n===Fd.Ik}}F(),Tt(),Rt(),F(),Tt();var CG=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),NG=function(t){function n(n,i){var r;return(r=t.call(this)||this).ZCt=[],r.VY=n,r.jat=r.VY.match(/video/)?mL.yE:mL.wE,r.OA=i,r}It(n,t);var i=n.prototype;return i.transform=function(t){this.ZCt.push(t),t.zw===ly.TD&&this.HCt(this.ZCt.splice(0),CG.FRAMES)},i.HCt=function(t,n){var i={RN:this.OA,SY:this.VY},r=jc(t.map((function(t){return Lc(t.$k.$k)}))),e=Hi(t,DG),u=Iy.cN(e.$k.$k)[0],s={PE:this.jat,Sb:i,Eut:r,zw:n,ct:this.jd(u)/this.OA,svt:Ie(this.XCt(u),this.OA)};this.MCt(s)},i.jd=function(t){var n,i=t.Z[0];if(!i||0===i.RL.length)return 0;var r=null!=(n=i.sN.wL)?n:0;return i.RL[0].BL.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i.XCt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].CL)?void 0:n.CL)?i:pe.UZERO},n}(pG);function DG(t){return t.zw===ly.gD}F(),Tt();var xG=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).KCt="now",e.sPt=new mr,e.ACt=void 0,e.zCt=n,e.GCt=new wG(r),e.uPt=new AG,e.uPt.UCt.bn(mG.NCt,e.Ds),e.WW=i,e.jat=function(t){switch(t){case mL.wE:return kl.wE;case mL.yE:return kl.yE;default:return kl.oE}}(n.zw),e.nPt=new IG(e.WW,e.GCt),e}It(n,t);var i=n.prototype;return i.elt=function(t){return t+1},i.Db=function(t){this.KCt=t,this.jCt=void 0,this.QCt=void 0},i.JCt=function(){return void 0!==this.jCt},i.$Ct=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:if(t.bCt)throw new p("Concurrent downloads are not supported.");g.label=1;case 1:return g.trys.push([1,,4,5]),t.ACt=new ih,"now"===t.KCt?n=Kn.Ew(t.zCt.tPt("now"),t.zCt.ePt):(i=t.KCt,r=0===i?1:t.zCt.iPt(i),n=Kn.Ew(t.zCt.tPt(r),t.zCt.ePt)),e=RG(n,Fd.Ek,bl.lE,t.jat,void 0,3e3,1e3,t.sPt.ep),[4,t.nPt.eE(e)];case 2:return[4,g.sent().Bk(t.sPt.ep)];case 3:return u=g.sent(),s=new E(u),o=function(t){var n=ky.KD(new yy(Pc(t),new Uc)),i=Hi(n,(function(t){return t.zw===ly.RD||t.zw===ly.gD}));if(void 0===i)return{rPt:t,LN:void 0};var r=Dc(t,0,i.nc),e=Dc(t,i.nc);return{rPt:r,LN:0===e.byteLength?void 0:e}}(s),a=o.rPt,c=o.LN,h=Iy.cN(Pc(s)),t.OA=function(t){var n=Hi(t,(function(t){return t.zw===ly.kP}));return n.Z[0].LN.sN.RN}(h),f=function(t){var n=t.filter((function(t){return t.zw===ly.ED})),i=n.map((function(t){return kG(t)})),r=Hi(i,(function(t){return(null==t?void 0:t.zw)===_G.LCt}));if(!r)throw new p("No init data in init response");return r}(h),t.jCt=f.index,t.QCt=f.offset,c&&(d=Iy.cN(Pc(s)),v=function(t,n,i){var r,e,u,s=Hi(t,(function(t){return t.zw===ly.gD})),o=Ie(null!=(e=null==(r=s.Z[0].CL)?void 0:r.CL)?e:pe.UZERO,i),a=s.Z[0],c=null!=(u=a.sN.wL)?u:0,h=a.RL[0],f=h.BL.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{$it:o,ct:f,aW:n}}(d,-t.jht.TCt,t.OA)),[2,{initialization:a,data:c,metadata:v}];case 4:return l=t.ACt,t.ACt=void 0,null==l||l.Zb(),[7];case 5:return[2]}}))}))()},i.oPt=function(){if(this.bCt)throw new p("Concurrent downloads are not supported.");this.ACt=new ih;var t=void 0!==this.QCt?pe.fromNumber(this.QCt):void 0;return $d(this.hPt(this.jCt,t,this.sPt.ep)).pipeThrough(new jd(new NG(this.jht.SY,this.OA))).pipeThrough(new jd(new PG(this.sPt.ep)))},i.hPt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return e=r.aPt(t,n,i),[4,r.nPt.eE(e)];case 1:return[2,u.sent().Ok().pipeThrough(new jd(new TG)).pipeThrough(new jd(r.uPt))]}}))}))()},i.aPt=function(t,n,i){var r=this.zCt.cPt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return RG(Kn.Ew(r,this.zCt.ePt),Fd.Ik,bl.oE,this.jat,e,25e3,1e3,i)},i.kCt=function(){this.jCt=void 0,this.QCt=void 0},i.ECt=function(){void 0!==this.jCt&&(this.jCt=this.elt(this.jCt)),this.QCt=void 0;var t=this.ACt;this.ACt=void 0,null==t||t.Zb()},i.cancelDownload=function(){var t;this.sPt.np(),this.sPt=new mr,this.ACt=null!=(t=this.ACt)?t:new ih,this.kCt();var n=this.ACt;this.ACt=void 0,null==n||n.Zb()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.uPt.Km(),t.sPt.np(),[4,t.SCt];case 1:return n.sent(),t.jCt=void 0,t.QCt=void 0,[2]}}))}))()},Nt(n,[{key:"jht",get:function(){return this.zCt}},{key:"qCt",get:function(){return!1}},{key:"YCt",get:function(){return this.KCt}},{key:"bCt",get:function(){return void 0!==this.ACt}},{key:"SCt",get:function(){return this.ACt?this.ACt.Xb:et.resolve()}}]),n}(la);var PG=function(){function t(t){var n=this;this.lPt=function(){n.vJ.error(new _r)},this.sp=t}var n=t.prototype;return n.start=function(t){this.vJ=t,this.sp.Qm(this.lPt)},n.flush=function(){this.sp.Jm(this.lPt)},t}();function LG(t){var n;return t.value/(null!=(n=t.scale)?n:1)}F(),Tt(),Dt(),F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var MG="{initId}",OG=/{initId(?::0(?:\d+)d)?}/,BG=/{segmentId(?::0(?:\d+)d)?}/,VG=function(){function t(t,n,i){var r,e,u,s;this.Obt=[],this.AF=t,this.EPt=i,this.jS=t.id,this.OG=t.bandwidth,this.dPt=t.averageBandwidth,this.mPt=null!=(r=t.baseUrl)?r:"",this.wPt=null!=(e=t.codecs)?e:n.codecs,this.bPt=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.SPt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.iF=t.label,this.TPt=t.mediaTimeOffset?LG(t.mediaTimeOffset):0,this.Ibt=t.segmentDuration?LG(t.segmentDuration):0,this.ir(t)}return t.prototype.ir=function(t){this._Pt=t.activeSegment,this.gPt=t.activeSequenceNumber,this.Obt=t.segments},Nt(t,[{key:"o",get:function(){return this.jS}},{key:"jG",get:function(){return this.OG}},{key:"Tyt",get:function(){return this.dPt}},{key:"xct",get:function(){return this.Obt}},{key:"fPt",get:function(){return this._Pt}},{key:"vPt",get:function(){return this.gPt}},{key:"ePt",get:function(){return Kn.Ew(this.mPt,this.pPt.ePt)}},{key:"Frt",get:function(){return this.wPt}},{key:"Ch",get:function(){return this.iF}},{key:"yPt",get:function(){return this.bPt}},{key:"APt",get:function(){return this.SPt}},{key:"TCt",get:function(){return this.TPt}},{key:"kPt",get:function(){return this.Ibt}}]),t}(),FG=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).IPt=null!=(u=n.channels)?u:1,e.RPt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.bA=null!=(a=n.sampleRate)?a:i.sampleRate,e}return It(n,t),Nt(n,[{key:"zw",get:function(){return mL.wE}},{key:"pPt",get:function(){return this.EPt}},{key:"xPt",get:function(){return this.IPt}},{key:"Xdt",get:function(){return this.RPt}},{key:"wM",get:function(){return this.bA}},{key:"SY",get:function(){return'audio/mp4; codecs="'+this.Frt+'"'}}]),n}(VG),UG=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).Gp=n.resolution,e.RPt=LG(null!=(u=n.frameRate)?u:i.frameRate),e}return It(n,t),Nt(n,[{key:"zw",get:function(){return mL.yE}},{key:"pPt",get:function(){return this.EPt}},{key:"CPt",get:function(){return this.Gp}},{key:"Xdt",get:function(){return this.RPt}},{key:"SY",get:function(){return'video/mp4; codecs="'+this.Frt+'"'}}]),n}(VG);function WG(t,n){var i=String(n);if(t===MG||"now"===n)return i;var r=A(t.substring(9,t.lastIndexOf("d")));return ia(i,r,"0")}function ZG(t,n){var i=String(n);if(t===MG)return i;var r=A(t.substring(12,t.lastIndexOf("d")));return ia(i,r,"0")}var XG=function(){function t(t,n,i){var r;this.EPt=t,this.pC=i,this.PPt=n,this.jS=t.id,this.NPt=t.alignId,this.mPt=null!=(r=t.baseUrl)?r:"",this.iF=t.label,this.TPt=t.mediaTimeOffset?LG(t.mediaTimeOffset):0,this.LPt=t.protection,this.ir(t)}return t.prototype.ir=function(t){for(var n=function(n,i){var r=i[n],e=Hi(t.tracks,(function(t){return r.o===t.id}));e&&r.ir(e)},i=0,r=this.pC;i<r.length;i++)n(i,r)},Nt(t,[{key:"vnt",get:function(){return this.PPt}},{key:"o",get:function(){return this.jS}},{key:"DPt",get:function(){return this.NPt}},{key:"ePt",get:function(){return Kn.Ew(this.mPt,this.vnt.ePt)}},{key:"Ch",get:function(){return this.iF}},{key:"TCt",get:function(){return this.TPt}},{key:"MPt",get:function(){return this.LPt}}]),t}(),GG=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new FG(o,n,r))}return r}return It(n,t),n.prototype.ir=function(n){var i,r;t.prototype.ir.call(this,n),this.VA=n.language,this.IPt=null!=(i=n.channels)?i:1,this.VY=null!=(r=n.mimeType)?r:"audio/mp4"},Nt(n,[{key:"pPt",get:function(){return this.EPt}},{key:"Z",get:function(){return this.pC}},{key:"gs",get:function(){return this.VA}},{key:"xPt",get:function(){return this.IPt}}]),n}(XG),HG=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new UG(o,n,r))}return r}return It(n,t),n.prototype.ir=function(n){var i;t.prototype.ir.call(this,n),this.VY=null!=(i=n.mimeType)?i:"video/mp4"},Nt(n,[{key:"pPt",get:function(){return this.EPt}},{key:"Z",get:function(){return this.pC}},{key:"BPt",get:function(){return this.EPt.captions}}]),n}(XG),zG=function(){function t(t,n){var i,r,e;this.GPt=[],this.HPt=[],this.FPt=t,this.jS=n.id,this.mPt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.GPt.push(new GG(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.HPt.push(new HG(h,this))}this.ir(n)}return t.prototype.ir=function(t){var n;this.WPt=t.timeBounds,this.Kf=null!=(n=t.events)?n:[],this.OH=t.currentTime?LG(t.currentTime):void 0},Nt(t,[{key:"o",get:function(){return this.jS}},{key:"ePt",get:function(){return Kn.Ew(this.mPt,this.FPt.OPt)}},{key:"VPt",get:function(){return this.WPt}},{key:"RI",get:function(){return this.OH}},{key:"TY",get:function(){return this.Kf}},{key:"UPt",get:function(){return this.GPt}},{key:"ZPt",get:function(){return this.HPt}}]),t}(),YG=function(){function t(t,n){this.tDt=[],this.nDt=t,this.FPt=n,this.ir(n)}return t.prototype.ir=function(t){var n,i,r=function(t,i){var r=i[t],e=Hi(n.tDt,(function(t){return t.o===r.id}));e?e.ir(r):n.tDt.push(new zG(n,r))};this.zPt=LG(t.availabilityDuration),this.YPt=t.creationDate,this.jPt=t.fallbackPollRate,this.JPt=t.manifestVersion,this.cA=t.streamType,this.iDt=t.activePresentation,this.sDt=t.contentBaseUrl,this.oDt=null==(i=t.timeSource)?void 0:i.url,this.FPt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.tDt=this.tDt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},Nt(t,[{key:"QC",get:function(){return this.FPt}},{key:"XPt",get:function(){return this.zPt}},{key:"qPt",get:function(){return this.YPt}},{key:"KPt",get:function(){return this.jPt}},{key:"QPt",get:function(){return this.JPt}},{key:"$Pt",get:function(){return this.tDt}},{key:"V0",get:function(){return this.cA}},{key:"eDt",get:function(){return this.iDt}},{key:"OPt",get:function(){var t;return Kn.Ew(null!=(t=this.sDt)?t:"",this.nDt)}},{key:"rDt",get:function(){return this.oDt}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var jG=0,KG=function(t){function n(n){var i;return(i=t.call(this)||this).eF=jG++,i.hDt=n,i}It(n,t);var i=n.prototype;return i.iPt=function(t){var n=(t-this.hDt.pPt.vnt.RI)*this.framesPerSecond();return k.round(this.hDt.vPt+n)},i.aDt=function(t){return t+1},i.tPt=function(t){for(var n,i,r=this.hDt.APt;i=null==(n=r.match(OG))?void 0:n.pop();)r=r.split(i).join(WG(i,t));return r+("now"===t?"?uuid="+oI():"")},i.cPt=function(t){for(var n,i,r=this.hDt.yPt;i=null==(n=r.match(BG))?void 0:n.pop();)r=r.split(i).join(ZG(i,t));return r},i.LW=function(){},i.MW=function(){},Nt(n,[{key:"Lst",get:function(){return!0}},{key:"Tyt",get:function(){return this.hDt.Tyt}},{key:"jG",get:function(){return this.hDt.jG}},{key:"Frt",get:function(){return this.hDt.Frt}},{key:"o",get:function(){return this.hDt.o}},{key:"Ch",get:function(){var t;return null!=(t=this.hDt.Ch)?t:""}},{key:"OC",get:function(){return this.eF}},{key:"Iyt",get:function(){return this.hDt.ePt}},{key:"kyt",get:function(){}},{key:"SY",get:function(){return this.hDt.SY}},{key:"TCt",get:function(){return this.hDt.TCt}},{key:"ePt",get:function(){return this.hDt.ePt}},{key:"zw",get:function(){return this.hDt.zw}}]),n}(la),qG=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).eu=void 0,r.AF=i,r}return It(n,t),n.prototype.framesPerSecond=function(){return this.hDt.wM/this.hDt.Xdt},Nt(n,[{key:"uDt",get:function(){return this.hDt}},{key:"Swt",get:function(){return this.hDt.wM}},{key:"Ht",get:function(){return this.AF}},{key:"wa",get:function(){return this.eu||(this.eu=cU(this)),this.eu}}]),n}(KG),JG=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).eu=void 0,r.AF=i,r}return It(n,t),n.prototype.framesPerSecond=function(){return this.hDt.Xdt},Nt(n,[{key:"uDt",get:function(){return this.hDt}},{key:"Eyt",get:function(){return 0}},{key:"Xdt",get:function(){return this.hDt.Xdt}},{key:"Ti",get:function(){return this.hDt.CPt.height}},{key:"ji",get:function(){return this.hDt.CPt.width}},{key:"CPt",get:function(){return this.hDt.CPt}},{key:"Ht",get:function(){return this.AF}},{key:"wa",get:function(){return this.eu||(this.eu=aU(this)),this.eu}}]),n}(KG);F(),Tt();var QG=function(t){return t.cDt="alternative",t.lDt="main",t.dDt="commentary",t.fDt="",t.EW="descriptions",t._Dt="main-desc",t.vDt="translation",t}({}),$G=function(t){return t.cDt="alternative",t.lDt="main",t.dDt="commentary",t.fDt="",t.kW="captions",t.DC="sign",t.TW="subtitles",t}({}),tH=0,nH=function(t){function n(n,i,r){var e;(e=t.call(this)||this).jO=new yw,e.eF=tH++,e.qe=!1,e.Lct=void 0,e.EPt=i,e.wDt=r,e.yDt=new xW(n,[]);for(var u=0,s=i.Z;u<s.length;u++){var o=s[u];e.jO.QO(e.createQuality(o))}return e}It(n,t);var i=n.prototype;return i.nF=function(t){this.Rt=t},i.bDt=function(t){for(var n=0,i=this.jO.mC;n<i.length;n++){var r=i[n];r===t&&this._o(new tF(r))}},Nt(n,[{key:"BC",get:function(){return this.gDt()}},{key:"Rt",get:function(){return this.qe},set:function(t){this.Rt!==t&&(this.qe=t,t&&this.mDt(),this.wDt.pDt(),this._o(new pw(this)))}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"Adt",get:function(){return this.yDt}},{key:"o",get:function(){return this.EPt.o}},{key:"OC",get:function(){return this.eF}},{key:"Ch",get:function(){var t;return null!=(t=this.EPt.Ch)?t:""}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"VC",get:function(){return this.jO}},{key:"WC",get:function(){return this.Lct},set:function(t){this.Lct=t,this.wDt.pDt(),this._o(new kB(t,this))}}]),n}(la),iH=function(t){function n(n,i){return t.call(this,aw.wE,n,i)||this}It(n,t);var i=n.prototype;return i.mDt=function(){this.wDt.ADt(this)},i.gDt=function(){var t=this.wDt.SDt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new qG(t,this)},Nt(n,[{key:"zw",get:function(){return mL.wE}},{key:"Lt",get:function(){return QG.lDt}},{key:"gs",get:function(){return this.EPt.gs}},{key:"pPt",get:function(){return this.EPt}}]),n}(nH),rH=function(t){function n(n,i){return t.call(this,aw.yE,n,i)||this}It(n,t);var i=n.prototype;return i.mDt=function(){this.wDt.TDt(this)},i.gDt=function(){var t=this.wDt.kDt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new JG(t,this)},Nt(n,[{key:"zw",get:function(){return mL.yE}},{key:"Lt",get:function(){return $G.lDt}},{key:"gs",get:function(){return""}},{key:"pPt",get:function(){return this.EPt}},{key:"BPt",get:function(){return this.EPt.BPt}}]),n}(nH);function eH(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return uH(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return uH(t,n,[],r,i)}(t,i?[i]:[],!r),s=aZ(e,u);return t.preferredKeySystems&&(null==s?void 0:s.Kmt)&&(s.Kmt=mZ(s.Kmt,t.preferredKeySystems)),s}}function uH(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(Yn);if(u.length){var s=u[0].type,o=er(u,(function(t){return t.systems})),a=er(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return jo.filter((function(n){return n.Kw===t.toLowerCase()}))}(t.schemeId):function(t){return Yo.filter((function(n){return n.Kw===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({lG:sH(t)?t.uri:void 0,_T:u,nZ:void 0,sZ:t.pssh?[Pa(t.pssh).buffer]:[],rZ:[]})}return i}(t,e)}));return{DU:t,jmt:{ATt:s},Kmt:a,STt:i,TTt:r}}}function sH(t){return t.schemeId===yo.Hw&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}F(),Tt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var oH;function aH(t){var n=t.RI,i=t.SI.BB(n);return i?i.Tn(0)-n:0}oH="Android"===Kn.Rw.Cw?200:300;var cH=Kn.Ys.xp?1:.5,hH=function(){function t(t,n,i,r,e,u){var s=this;this.aO=t,this.mZ=n,this.LDt=i,this.jDt=r,this.IDt=e,this.WDt=u,this.Fa=0,this.BDt=et.resolve(),this.HDt=[],this.XDt=void 0,this.DDt=function(){var t,n;if(!s.jDt.dR){var i=null==(t=s.LDt.SDt)?void 0:t.Ht,r=null==(n=s.LDt.kDt)?void 0:n.Ht,e=ur(s.VDt(i,r),(function(t){return t.UDt}));e&&(xr(s.GDt(e,!0)),s.aO.vO._O&&s.jDt.JC())}},this.PDt=function(){s.CDt.bn(Np.aB,s.DDt),s.CDt.vn(Np.uB,s.PDt)},this.RDt=function(){if(s.HDt.unshift(s.IDt.jG),s.HDt=s.HDt.slice(0,3),s.NDt){var t=s.NDt.ZDt.UDt;s.IDt.jG<t&&(s.NDt=void 0,s.qB())}},this.CDt=new Wp(this.aO)}var n=t.prototype;return n.Sn=function(){var t=this;1!==this.Fa&&(this.Fa=1,this.EDt=Kn.lw((function(){t.xDt()}),oH),this.IDt.tCt(this.RDt),this.aO.JI?this.CDt.bn(Np.uB,this.PDt):this.PDt())},n.NR=function(){0!==this.Fa&&(this.Fa=0,void 0!==this.EDt&&Kn.dw(this.EDt),this.IDt.iCt(this.RDt),this.CDt.vn(Np.aB,this.DDt),this.CDt.vn(Np.uB,this.PDt),this.NDt=void 0,this.qB())},n.xDt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.BDt];case 1:return n.sent(),t.BDt=t.ODt(),[4,t.BDt];case 2:return n.sent(),[2]}}))}))()},n.FDt=function(t,n){var i,r,e=this.VDt(t,n),u=this.WDt.eQ;if(u.type===vR.PERFORMANCE)return e[e.length-1];if(u.type===vR.QUALITY)return e[0];for(var s=(null==(i=u.metadata)?void 0:i.bitrate)?1.3*(null==(r=u.metadata)?void 0:r.bitrate):this.IDt.jG,o=0;o<e.length;o++){var a=e[o];if(a.UDt<=s)return a}return e[e.length-1]},n.ODt=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return r=null==(n=t.LDt.SDt)?void 0:n.Ht,e=null==(i=t.LDt.kDt)?void 0:i.Ht,0===(u=t.VDt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.GDt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.GDt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.MDt;if(!t.some((function(t){return vH(t,n)}))){for(var i=this.IDt.jG,r=0;r<t.length;r++){var e=t[r];if(e.UDt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.IDt.jG,o=1.3*((null!=(r=null==(n=this.LDt.SDt)?void 0:n.jG)?r:0)+(null!=(e=null==(i=this.LDt.kDt)?void 0:i.jG)?e:0)),a=0;a<t.length;a++){var c=t[a];if(c.UDt<s&&c.UDt>o){u={ZDt:c,Rft:Kn.Wm()};break}}if(this.NDt&&vH(this.NDt.ZDt,null==u?void 0:u.ZDt)){var h=Kn.Wm()-this.NDt.Rft,f=this.NDt.ZDt.UDt,v=this.HDt.length>=3&&this.HDt.every((function(t){return t>f}));if(h>1e3&&v){if(this.aO.vO._O||Kn.Ys.Ap){var d=2*this.IDt.QG;if(!(aH(this.aO)>d))return}else{var l=k.max(2*this.IDt.QG+cH,this.mZ.GB.minimumOffset);if(!(aH(this.aO)>l))return void(this.XDt&&this.XDt.minimumOffset===l||(this.qB(),this.XDt={minimumOffset:l},this.mZ.HB(this.XDt)))}return this.NDt.ZDt}}else this.NDt=u},n.GDt=function(t,n){void 0===n&&(n=!1);var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return i.NDt=void 0,i.qB(),(r=i.MDt).zDt===t.zDt&&r.qDt===t.qDt?[2]:(e=t.zDt,u=t.qDt,r.qDt&&u&&r.qDt.jG>u.jG&&n&&(i.IDt.JRt(t.UDt),i.HDt=[]),[4,i.LDt.YDt(u,e)]);case 1:return s.sent(),[2]}}))}))()},n.qB=function(){this.XDt&&(this.mZ.qB(this.XDt),this.XDt=void 0)},n.VDt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.WC)?void 0:i.length)?t.WC:t.VC.mC);if(n){var u,s=(null==(u=n.WC)?void 0:u.length)?n.WC:n.VC.mC,o=s.slice().sort((function(t,n){return t.jG-n.jG})),a=this.KDt(o);0===a.length&&s.length>0&&a.push(ur(s,(function(t){return t.jG}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var d=h[v],l=0;l<f.length;l++){var g=f[l];c.push(fH(d,g))}return function(t){return t.sort((function(t,n){return n.UDt-t.UDt}))}(c)},n.KDt=function(t){var n=this,i=Hi(t,(function(t){return t.Ti>=n.aO.Ti&&t.ji>=n.aO.ji}));return i?t.filter((function(t){return t.Ti<=i.Ti&&t.ji<=i.ji})):t.slice()},n.Km=function(){this.NDt=void 0,this.CDt.nr(),this.qB()},Nt(t,[{key:"MDt",get:function(){return fH(this.LDt.SDt,this.LDt.kDt)}}]),t}();function fH(t,n){var i,r;return{zDt:t,qDt:n,UDt:1.3*((null!=(i=null==t?void 0:t.jG)?i:0)+(null!=(r=null==n?void 0:n.jG)?r:0))}}function vH(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t.zDt)?void 0:i.o)===(null==(r=n.zDt)?void 0:r.o)&&(null==(e=t.qDt)?void 0:e.o)===(null==(u=n.qDt)?void 0:u.o)&&t.UDt===n.UDt}F(),Tt(),Mt(),Dt(),nn(),Wt();var dH=20,lH=function(){function t(t,n,i){this.zT=new mr,this.QDt=t,this.JIt(n,i,this.zT.ep).catch(_i)}var n=t.prototype;return n.JIt=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return i.zm?[3,6]:[4,Mr(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,gH(t,n,i)];case 3:return r.QDt=e.sent(),[3,5];case 4:return Ar(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.Km=function(){this.zT.np()},t.create=function(n,i,r){return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,gH(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},Nt(t,[{key:"hbt",get:function(){return(this.QDt.serverTimeMs+(Kn.Wm()-this.QDt.localTimeMs))/1e3}},{key:"JDt",get:function(){return(this.QDt.localTimeMs-this.QDt.serverTimeMs)/1e3}}]),t}();function gH(t,n,i){return wH.apply(this,arguments)}function wH(){return wH=Pt((function(t,n,i){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return[4,mH(t,n,i)];case 1:return r=tn.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>dH?[4,mH(t,n,i)]:[3,3];case 2:o=tn.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),wH.apply(this,arguments)}function mH(t,n,i){return yH.apply(this,arguments)}function yH(){return yH=Pt((function(t,n,i){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return r=Kn.Wm(),[4,n.eE({EE:pl.GET,Xu:t,ep:i})];case 1:return e=a.sent(),u=Kn.Wm()-r,[4,e.Mk(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),yH.apply(this,arguments)}var pH=function(t){function n(){return t.call(this,"seek")||this}return It(n,t),n}(ma),_H=function(t){return t.oX="seek",t}({}),bH=[ya.ho,Np.aC,ya._b],kH=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this)._Nt=!1,v.NNt=!1,v.LO=new ow,v.FO=new ow,v.MNt=void 0,v.eNt=void 0,v.iNt=void 0,v.nNt=new ih,v.kZ=void 0,v.ipt=void 0,v.rNt=new ih,v.GW=new mr,v.SNt=void 0,v.ANt=new mr,v.W8=void 0,v.V8=new mr,v.wNt=void 0,v.$Dt=void 0,v.CNt=void 0,v.yNt=void 0,v.tNt=void 0,v.RNt=void 0,v.PNt=void 0,v.fO=function(){v.NNt=!0},v.updateActiveQualities=function(){var t,n,i=v.aO.RI,r=null==(t=v.$Dt)?void 0:t.pCt(i),e=null==(n=v.tNt)?void 0:n.pCt(i);if(v.eNt!==r&&(v.eNt=r,r))for(var u=0,s=v.LO.mC;u<s.length;u++){s[u].bDt(r)}if(v.iNt!==e&&(v.iNt=e,e))for(var o=0,a=v.FO.mC;o<a.length;o++){a[o].bDt(e)}},v.INt=function(t,n){var i=n.data;if(i.zw===_G.BCt){var r,e=i.FCt,u=i.VCt,s=i.OCt,o=i.WCt;if(v.uNt){var a=v.uNt.hbt,c=v.aO.RI;if(v.NNt&&0!==c){var h={theolive:a-e+s-c,engine:u,distribution:k.max(a-(e+u),0),player:k.min(s-c,v.mZ.GB.forceSeekOffset)};t===aw.wE?(v.dNt=h,v.oNt.lCt(v.uNt.JDt+e,s)):(v.lNt=h,v.oNt.uCt(v.uNt.JDt+e,s))}}if(o)null!=v.MNt||(v.MNt=v.aO.ZR(ep.xW,"timecode","timecode",void 0,!1,Ow.DEFAULT,!1,void 0)),v.MNt.UW(new nm(s,s,o,!1,void 0)),yp(v.MNt,null!=(r=v.aO.SI.Sn(0))?r:-1)}v._o(n)},v.T9=function(t){br(t)||(v.NR(),v._o(new xk(new ld(vd.MEDIA_LOAD_ERROR,t.message))))},v.Sc=n,v.aNt=i,v.aO=r,v.WW=u,v.oNt=s,v.XH=new hH(r,o,v,c,e,f),v.Wlt=a,v.xNt=h,v.mZ=o,v.aO.bn(Np.uB,v.fO),v.aO.bn(bH,v.updateActiveQualities),v}It(n,t);var i=n.prototype;return i.hNt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.$Dt?[4,t.$Dt.rT(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.tNt?[4,t.tNt.rT(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.Sc.src)throw new ld(vd.SOURCE_INVALID,"No src property found in given source.");this.ipt||(this.ipt=this.ix(this.GW.ep).catch(this.T9))},i.ix=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return n._o(new aC),i=n.Sc.src,[4,n.aNt.gRt(i,t)];case 1:return r=u.sent(),n.FPt=new YG(i,r),n.FPt.rDt?[4,lH.create(n.FPt.rDt,n.WW,t)]:[3,3];case 2:n.uNt=u.sent(),u.label=3;case 3:return n.cNt(),e=qi(n.FPt.$Pt,-1),n.createTracksForPresentation(e),n.nNt.Zb(),n.pDt(),[2]}}))}))()},i.ADt=function(t){for(var n=0,i=this.LO.mC;n<i.length;n++){var r=i[n];r.nF(r===t)}},i.TDt=function(t){for(var n=0,i=this.FO.mC;n<i.length;n++){var r=i[n];r.nF(r===t)}},i.pDt=function(){var t=Hi(this.LO.mC,(function(t){return t.Rt})),n=Hi(this.FO.mC,(function(t){return t.Rt})),i=this.XH.FDt(t,n);xr(this.YDt(i.qDt,i.zDt))},i.cNt=function(){var t=this;if(this.FPt&&"live"===this.FPt.V0&&this.uNt){var n=this.FPt.$Pt.filter((function(n){return n.o===t.FPt.eDt}))[0].RI,i=this.uNt.JDt+new Date(this.FPt.qPt).getTime()/1e3;this.oNt.hCt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u=0,s=null!=(r=t.UPt)?r:[];u<s.length;u++){var o=s[u];this.LO.tt(new iH(o,this))}for(var a=0,c=null!=(e=t.ZPt)?e:[];a<c.length;a++){var h=c[a];this.FO.tt(new rH(h,this))}null==(n=this.LO.wC(0))||n.nF(!0),null==(i=this.FO.wC(0))||i.nF(!0)},i.Sn=function(){this._Nt=!0,this.vNt()},i.NR=function(){var t;this._Nt=!1,this.gNt().catch(this.T9),"live"===(null==(t=this.QC)?void 0:t.V0)&&(this.mNt(),this.pNt())},i.mNt=function(){this.wNt&&this.wNt.cancelDownload()},i.pNt=function(){this.yNt&&this.yNt.cancelDownload()},i.JC=function(t){var n=this;this.V8.np(),this.V8=new mr,this.W8=Rr((function(i){return n.bNt(t,n.W8,i)}),this.V8).catch(this.T9)},i.bNt=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Sr(r.W,i)];case 3:if(s.sent(),"live"!==r.FPt.V0)throw new p("The current video source does not support Live playback.");return kr(i),[4,r.gNt()];case 4:if(s.sent(),kr(i),!r.wNt||!r.wNt.JCt()&&r.wNt.YCt===(null!=t?t:"now"))return[3,10];if(r.mNt(),!r.$Dt)return[3,9];s.label=5;case 5:return r.$Dt.bCt?[4,Sr(r.$Dt.SCt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.$Dt.rT(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.wNt)||e.Db(null!=t?t:"now"),s.label=10;case 10:if(!r.yNt||!r.yNt.JCt()&&r.yNt.YCt===(null!=t?t:"now"))return[3,16];if(r.pNt(),!r.tNt)return[3,15];s.label=11;case 11:return r.tNt.bCt?[4,Sr(r.tNt.SCt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.tNt.rT(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.yNt)||u.Db(null!=t?t:"now"),s.label=16;case 16:return r._o(new pH),kr(i),r.W8=void 0,r.vNt(),[2]}}))}))()},i.Db=function(t){var n=this;this.V8.np(),this.V8=new mr,this.W8=Rr((function(i){return n.U8(t,n.W8,i)}),this.V8).catch(this.T9)},i.U8=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Sr(r.W,i)];case 3:return s.sent(),kr(i),[4,r.gNt()];case 4:return s.sent(),kr(i),r.wNt&&(r.wNt.JCt()||r.wNt.YCt!==t)&&r.mNt(),r.yNt&&(r.yNt.JCt()||r.yNt.YCt!==t)&&r.pNt(),r._o(new pH),kr(i),null==(e=r.wNt)||e.Db(t),null==(u=r.yNt)||u.Db(t),r.W8=void 0,r.vNt(),[2]}}))}))()},i.YDt=function(t,n){var i,r,e=this;return(null==(i=this.wNt)?void 0:i.jht)===n&&(null==(r=this.yNt)?void 0:r.jht)===t?et.resolve():(this.ANt.np(),this.ANt=new mr,this.SNt=Rr((function(i){return e.TNt(t,n,e.SNt,i)}),this.ANt).catch(this.T9),this.SNt)},i.TNt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:return i?[4,i]:[3,2];case 1:h.sent(),h.label=2;case 2:return[4,Sr(e.nNt.Xb,r)];case 3:return h.sent(),kr(r),[4,e.gNt()];case 4:return h.sent(),kr(r),[4,e.kNt(t,n)];case 5:return h.sent(),[4,e.ENt(t,n)];case 6:for(h.sent(),kr(r),o=0,a=null!=(s=null==t||null==(u=t.Ht)?void 0:u.BPt)?s:[];o<a.length;o++)c=a[o],e.xNt.cmt({Det:c.channel,Net:c.language,Ch:c.label});return e.SNt=void 0,e.vNt(),[2]}}))}))()},i.kNt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_;return Ot(this,(function(b){switch(b.label){case 0:return s=null!=(u=i.fNt)?u:"now",(null==(r=i.wNt)?void 0:r.jht)===n?[3,5]:(a=i.wNt&&!i.wNt.JCt(),c=null==(o=i.wNt)?void 0:o.YCt,i.wNt?[4,i.wNt.Km()]:[3,2]);case 1:b.sent(),i.wNt=void 0,b.label=2;case 2:return i.$Dt?[4,i.$Dt.SCt]:[3,4];case 3:b.sent(),b.label=4;case 4:n&&(v=null!=(f=null==(h=i.$Dt)?void 0:h.SI)?f:FA.WB(),d=a?c:v.Tn(v.V-1),i.wNt=new xG(n,i.WW,i.Wlt),i.wNt.bn(mG.NCt,(function(t){return i.INt(aw.wE,t)})),i.wNt.Db(null!=d?d:s)),b.label=5;case 5:return(null==(e=i.yNt)?void 0:e.jht)===t?[3,10]:(g=i.yNt&&!i.yNt.JCt(),w=null==(l=i.yNt)?void 0:l.YCt,i.yNt?[4,i.yNt.Km()]:[3,7]);case 6:b.sent(),i.yNt=void 0,b.label=7;case 7:return i.tNt?[4,i.tNt.SCt]:[3,9];case 8:b.sent(),b.label=9;case 9:t&&(p=null!=(y=null==(m=i.tNt)?void 0:m.SI)?y:FA.WB(),_=g?w:p.Tn(p.V-1),i.yNt=new xG(t,i.WW,i.Wlt),i.yNt.bn(mG.NCt,(function(t){return i.INt(aw.yE,t)})),i.yNt.Db(null!=_?_:s)),b.label=10;case 10:return[2]}}))}))()},i.ENt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=eH(t,null==n?void 0:n.Ht.pPt.pPt,null==i?void 0:i.Ht.pPt.pPt,r),s=lZ(u),o=[];n&&o.push({Fk:n.SY});i&&o.push({Fk:i.SY});return{zw:Cp.qW,J4:o,CZ:s,u5:e&&!r}}(i.Sc.contentProtection,n,t,i.aO.vO._O,i.Sc.useManagedMediaSource),!i.kZ||!i.kZ.ZJ(r))return[3,12];if(s=!(null==(e=i.wNt)?void 0:e.JCt()),!i.$Dt||!s)return[3,5];h.label=1;case 1:return i.$Dt.bCt?[4,i.$Dt.SCt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.$Dt.OY()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.yNt)?void 0:u.JCt()),!i.tNt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.tNt)?void 0:a.bCt)?[4,i.tNt.SCt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.tNt)?void 0:c.OY()];case 9:h.sent(),h.label=10;case 10:return[4,i.kZ.XJ(r)];case 11:return h.sent(),[3,21];case 12:return i.mNt(),i.pNt(),i.$Dt?[4,i.$Dt.Km()]:[3,14];case 13:h.sent(),i.$Dt=void 0,h.label=14;case 14:return i.tNt?[4,i.tNt.Km()]:[3,16];case 15:h.sent(),i.tNt=void 0,h.label=16;case 16:i.aO.Q7(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.aO.nr()];case 18:return h.sent(),[4,i.aO.$n(r)];case 19:return i.kZ=h.sent(),i.rNt.Zb(),i.kZ.d4&&i.wNt&&(i.kZ.d4.bn($R.PJ,i.Ds),i.$Dt=new gG(i.kZ.d4,i.aO,n,i.xNt)),i.kZ.f4&&i.yNt&&(i.kZ.f4.bn($R.PJ,i.Ds),i.tNt=new gG(i.kZ.f4,i.aO,t,i.xNt)),"live"===i.FPt.V0&&i.kZ.q4(1/0),[3,21];case 20:return i.aO.J7(),[7];case 21:return[2]}}))}))()},i.vNt=function(){!this._Nt||this.W8||this.SNt||this.RNt||this.CNt||(this.XH.Sn(),this.PNt=new mr,this.yNt&&this.tNt&&(this.RNt=this.DNt(this.yNt,this.tNt,this.PNt.ep).catch(this.T9)),this.wNt&&this.$Dt&&(this.CNt=this.DNt(this.wNt,this.$Dt,this.PNt.ep).catch(this.T9)))},i.gNt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.XH.NR(),t.PNt&&(t.PNt.np(),t.PNt=void 0),t.RNt?[4,t.RNt]:[3,2];case 1:n.sent(),t.RNt=void 0,n.label=2;case 2:return t.CNt?[4,t.CNt]:[3,4];case 3:n.sent(),t.CNt=void 0,n.label=4;case 4:return[2]}}))}))()},i.DNt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.bCt?[4,Sr(t.SCt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.bCt?[4,Sr(n.SCt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.JCt()?[3,13]:(e=Kn.Wm()/1e3,u="now"===t.YCt,[4,t.$Ct()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={zw:nC.NJ,$k:o},f=a?{zw:nC.NJ,$k:a}:void 0,v=n.SI,!Kn.Ys.Tp&&!r.aO.vO._O&&c&&v.Tn(v.V-1)>c.$it?[4,n.rT(c.$it,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.a3(h)];case 10:return g.sent(),f?[4,n.r3(f,c,t.jht)]:[3,12];case 11:g.sent(),g.label=12;case 12:d=n.SI.TB(v),u&&d.V>0&&r.oNt.rCt(e,d.Tn(d.V-1)),g.label=13;case 13:return t.qCt?[3,15]:(kr(i),l=t.oPt(),[4,Sr(n.appendStream(l,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.GW.np(),t.ipt?[4,t.ipt.catch(_i)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.W8?(t.V8.np(),t.mNt(),t.pNt(),[4,t.W8.catch(_i)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.SNt?(t.ANt.np(),t.mNt(),t.pNt(),[4,t.SNt.catch(_i)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.gNt()];case 7:return n.sent(),t.wNt?[4,t.wNt.Km()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.yNt?[4,t.yNt.Km()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.wNt=void 0,t.yNt=void 0,t.rNt.np(),t.nNt.np(),t.kZ?[4,t.aO.nr()]:[3,13];case 12:n.sent(),t.kZ=void 0,n.label=13;case 13:return t.$Dt=void 0,t.tNt=void 0,t.aO.vn(Np.uB,t.fO),t.aO.vn(bH,t.updateActiveQualities),t.LO.nr(),t.eNt=void 0,t.FO.nr(),t.iNt=void 0,t.FPt=void 0,t.uNt&&(t.uNt.Km(),t.uNt=void 0),t._Nt=!1,[2]}}))}))()},Nt(n,[{key:"QC",get:function(){return this.FPt}},{key:"SI",get:function(){return this.$Dt&&this.tNt?this.$Dt.SI.jn(this.tNt.SI):this.$Dt?this.$Dt.SI:this.tNt?this.tNt.SI:FA.WB()}},{key:"SDt",get:function(){return this.eNt}},{key:"kDt",get:function(){return this.iNt}},{key:"ht",get:function(){return this.LO}},{key:"rt",get:function(){return this.FO}},{key:"sNt",get:function(){return this.nNt.Xb}},{key:"W",get:function(){return this.rNt.Xb}},{key:"cR",get:function(){return this.FPt?function(t,n,i){var r,e=null==(r=t.$Pt[0])?void 0:r.RI,u=t.XPt;if(void 0===e||void 0===u)return i>0&&i<Ci?new FA([0,i],[!0,!0]):FA.WB();var s=n.fCt;if(!s){var o=DF(t.qPt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new FA([s-u,s],[!0,!0])}(this.FPt,this.oNt,this.aO.ct):FA.WB()}},{key:"qC",get:function(){return ur([this.lNt,this.dNt].filter(Yn),(function(t){return t.theolive}))}},{key:"YC",get:function(){return this.lNt}},{key:"KC",get:function(){return this.dNt}},{key:"fNt",get:function(){var t=this.oNt.fCt;if(void 0!==t)return t}}]),n}(la);F(),Tt(),Rt();var AH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lastAmountToSeekForward=0,e}It(n,t);var i=n.prototype;return i.pO=function(){var t=this.aO.SI;return 0===t.V?0:t.Tn(t.V-1)-this.aO.RI},i.JC=function(){this.na.JC()},i.wO=function(t,n,i){if(t>i+2){var r=t-n;if(r<=this.lastAmountToSeekForward&&!this.na.dR)return this.na.RI+=r,this.lastAmountToSeekForward=0,!0;this.lastAmountToSeekForward=r}else this.lastAmountToSeekForward=0;return!1},i.YB=function(){return vG(t.prototype.YB.call(this))},i.yO=function(){return!Kn.Ys.Ap},n}(GA),TH=[ya.$y,ya.jy,ya._b,ya.Ly,ya.Qy,ya.vb,ya.Dy,ya.Fy,ya.By,ya.Ry,ya.Iy],SH=function(t){function n(n,i,r,e,u){var s,o;return(s=t.call(this)||this).LDt=void 0,s.FH=!1,s.V8=new mr,s.W8=void 0,s.txt=void 0,s.QNt=new mr,s.kst=!0,s.NNt=!1,s.LO=new vA,s.FO=new vA,s.AZ=void 0,s.bZ=void 0,s.WNt=cS.xH,s.pd=function(){var t=s.SI;t.length>0&&s.xNt.PW(t.start(0))},s.LNt=function(){s.aO.JI!==s.kst&&(s.aO.JI?s.PR():s.DR().catch(_i))},s.iz=function(){s.NNt=!0},s.XNt=function(t){s.AZ=t.errorObject,s.bZ=lw(s.AZ),s.GNt(s.AZ)},s.BNt=function(t){s.AZ=gw(t.lt),s.bZ=t.lt,s.GNt(s.AZ)},s.aO=n,s.ZZ=new Wp(s.aO,!0),s.WW=i,s.XH=r,s.RZ=new rG(r.oQ,r.Zj.QG),s.MZ=new Fk(i),s.aO.zZ=s.MZ,u.allowNativeFullscreen?s.xNt=new zV(s.aO):s.xNt=new YV(s.aO),s.Hl=new Wk([s.xNt.Z]),s.oNt=new eG,s.VNt=new HX(s),s.zH=e,s.Wlt=ao({},u.retryConfiguration,{maxRetries:null!=(o=u.retryConfiguration.maxRetries)?o:3}),s.kC(),s}It(n,t);var i=n.prototype;return i.kC=function(){this.aO.bn(TH,this.Ds),this.aO.bn(Np.uB,this.iz),this.aO.bn([ya.ho,ya.Ky],this.LNt),this.aO.bn(Qy.fa,this.BNt),this.aO.bn(ya._b,this.pd),this.ZZ.bn(Dp,this.Ds)},i.SC=function(){this.aO.vn(TH,this.Ds),this.aO.vn(Np.uB,this.iz),this.aO.vn([ya.ho,ya.Ky],this.LNt),this.aO.vn(Qy.fa,this.BNt),this.aO.vn(ya._b,this.pd),this.ZZ.vn(Dp,this.Ds)},i.MR=function(){return!1},i.xR=function(){return this.aO.Sa},i.ja=function(){return this.aO.WZ},i.ZR=function(t){return this.aO.UZ(t)},i.be=function(){this.aO.be()},i.ge=function(){return this.aO.ge()},i.FR=function(){},i.WR=function(){},i.LR=function(){},i.OR=function(){},i.DI=function(t,n){var i=this;this.V8.np(),this.V8=new mr,this.W8=Rr((function(n){return i.U8(t,n,i.W8)}),this.V8)},i.FNt=function(){var t=this.QC;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!S(i))return new Date(n-i)}},i.UNt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.WNt!==cS.xH&&t.LDt?(t.LDt.$n(),t.WNt!==cS.bO&&t.WNt!==cS.KG?[3,2]:[4,t.LDt.sNt]):[2];case 1:n.sent(),"vod"===t.LDt.QC.V0&&t.LDt.Sn(),n.label=2;case 2:return[2]}}))}))()},i.Ca=function(t,n,i){var r=this;return Pt((function(){var n,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(i),[4,r.nr()];case 1:return u.sent(),kr(i),dT(t)?(n=t,r.Sc=n,e=new GX(r.WW),r.ZNt=r.HNt(t),r.mZ=new AH(r,r.aO,r.ZNt),r.mZ.Rt=!0,r.mZ.bn("latencyrecoveryseek",r.Ds),r.SR.Aa(r.mZ),r.LDt=new kH(n,e,r.aO,r.RZ,r.WW,r.oNt,r.mZ,r.Wlt,r,r.xNt,r.XH),r.LDt.bn(ya.Hy,r.Ds),r.LDt.bn(Qy.fa,r.XNt),r.LO.bC=r.LDt.ht,r.FO.bC=r.LDt.rt,r.MZ.tZ(t.contentProtection),xr(r.UNt()),[2]):(r.AZ=new ld(vd.SOURCE_INVALID,"HESP source incorrectly configured"),r.bZ=lw(r.AZ),r.GNt(r.AZ),[2,et.resolve()])}}))}))()},i.HNt=function(t){return t.latencyConfiguration?t.latencyConfiguration:dG()},i.DR=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return t.LDt?(t.kst=!1,t.LDt.$n(),[4,t.LDt.W]):[2];case 1:return r.sent(),t._o(new TT(t.RI)),i=t.LDt.Ay(_H.oX),t.JC(),[4,i];case 2:return r.sent(),t.LDt.Sn(),[4,t.aO.DR()];case 3:return r.sent(),null==(n=t.mZ)||n.Sn(),[2]}}))}))()},i.PR=function(){var t;this.LDt&&(this.kst=!0,this._o(new AT(this.RI)),this.LDt.NR(),null==(t=this.mZ)||t.NR(),this.aO.PR())},i.JC=function(){var t=this;if(this.txt)throw new p("Cannot seek while resetting");this.V8.np(),this.V8=new mr,this.W8=Rr((function(n){return t.bNt(t.W8,n)}),this.V8)},i.U8=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(r.txt)throw new p("Cannot seek while resetting");return e=t,r.zNt(e),r.cR.length>0&&(e=FA.Cn(r.cR).mB(e),r.zNt(e)),r.LDt?i?[4,i.catch(_i)]:[3,2]:[2];case 1:o.sent(),kr(n),o.label=2;case 2:return o.trys.push([2,4,,5]),u=r.aO.Ay(ya.eb,n),r.aO.Db(e),r.LDt.Db(e),[4,u];case 3:return o.sent(),[3,5];case 4:throw Ar(s=o.sent()),r.LDt.NR(),r.qNt(),s;case 5:return r.YNt(),[2]}}))}))()},i.bNt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:return i._o(new ma("golive")),r=i.fNt,i.zNt(r),i.LDt?t?[4,t.catch(_i)]:[3,2]:[2];case 1:f.sent(),kr(n),f.label=2;case 2:return f.trys.push([2,11,,13]),e=i.mZ.GB.targetOffset,[4,i.LDt.sNt];case 3:f.sent(),r&&e>=1?(i.mZ.yO()||(s=k.min(1,.5*e),e-=s),u=r-e):u=i.fNt?i.fNt-.2:void 0,i.LDt.JC(u),f.label=4;case 4:return i.Tkt.V>0?[4,i.LDt.Ay($R.PJ,n)]:[3,6];case 5:return f.sent(),[3,4];case 6:o=i.Tkt,f.label=7;case 7:return 0!==i.Tkt.TB(o).V?[3,9]:[4,i.LDt.Ay($R.PJ,n)];case 8:return f.sent(),[3,7];case 9:return u=i.Tkt.Sn(i.Tkt.V-1),u=i.KNt(u),i.zNt(u),a=i.aO.Ay(ya.eb,n),i.aO.Db(u,!0),[4,a];case 10:return f.sent(),[3,13];case 11:if(br(c=f.sent()))throw null==(h=i.mZ)||h.Sn(),c;return i.LDt.NR(),[4,i.LDt.hNt()];case 12:throw f.sent(),i.qNt(),c;case 13:return i.YNt(),[2]}}))}))()},i.zNt=function(t){this.FH=!0,this.ONt=t,this._o(new RT(this.RI))},i.YNt=function(){this.FH&&(this.ONt=void 0,this.FH=!1,this._o(new CT(this.RI)))},i.qNt=function(){this.ONt=void 0,this.FH=!1},i.KNt=function(t){return t},i.jNt=function(){var t;null==(t=this.LDt)||t.NR()},i.GNt=function(t){this._o(new xk(t)),this.jNt()},i.ixt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return kr(i),t?[4,t.catch(_i)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(_i)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.xNt.nr()];case 5:return u.sent(),null==(e=r.mZ)||e.NR(),r.LDt?[4,r.LDt.Km()]:[3,7];case 6:u.sent(),r.LDt=void 0,u.label=7;case 7:return kr(i),[4,r.aO.nr()];case 8:return u.sent(),kr(i),r.aO.GZ(),r.FO.nr(),r.LO.nr(),r.qNt(),r.ZZ.nr(),r.oNt.nr(),r.AZ=void 0,r.bZ=void 0,r.kst=!0,r.NNt=!1,r.Sc=void 0,r.txt=void 0,r.ZNt=void 0,[2]}}))}))()},i.nr=function(){return this.V8.np(),this.V8=new mr,this.QNt.np(),this.QNt=new mr,this.txt=this.ixt(this.W8,this.txt,this.QNt.ep),this.txt},i.yn=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return t.SC(),t.ZZ.yn(),t.Sc?[4,t.nr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Ro(),t.aO.zZ=void 0,null==(n=t.mZ)||n.vn("latencyrecoveryseek",t.Ds),null==(i=t.mZ)||i.Km(),[4,t.xNt.yn()];case 3:return r.sent(),t.Hl.yn(),t.LO.yn(),t.FO.yn(),[2]}}))}))()},Nt(n,[{key:"ht",get:function(){return this.LO}},{key:"rt",get:function(){return this.FO}},{key:"QC",get:function(){var t,n;return null==(n=this.LDt)||null==(t=n.QC)?void 0:t.QC}},{key:"yR",get:function(){return this.aO.yR},set:function(t){this.aO.yR=t}},{key:"ER",get:function(){return!1},set:function(t){}},{key:"IZ",get:function(){return this.RZ}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"RI",get:function(){var t;return null!=(t=this.ONt)?t:this.aO.RI},set:function(t){this.DI(t)}},{key:"kI",get:function(){var t=this.FNt();if(t)return new Date(t.getTime()+1e3*this.RI)},set:function(t){var n=this.FNt();t&&n&&(this.RI=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.Sc}},{key:"tR",get:function(){return this.aO.tR},set:function(t){this.aO.tR=t}},{key:"ct",get:function(){var t=this.aO.ct;return t===Ci?1/0:t}},{key:"MI",get:function(){return!1}},{key:"OI",get:function(){return this.AZ}},{key:"lt",get:function(){return this.bZ}},{key:"VI",get:function(){return this.VNt}},{key:"UI",get:function(){}},{key:"ZI",get:function(){return!1}},{key:"XI",get:function(){return ao({},{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.aO.zI())}},{key:"jI",get:function(){return!0}},{key:"dR",get:function(){return this.FH}},{key:"EZ",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"vR",get:function(){return this.aO.vR}},{key:"pR",get:function(){return this.aO.pR}},{key:"SI",get:function(){return this.Tkt.ks()}},{key:"Tkt",get:function(){return this.LDt?this.LDt.SI:FA.WB()}},{key:"sR",get:function(){return this.aO.sR.ks()}},{key:"cR",get:function(){var t,n;return null!=(n=null==(t=this.LDt)?void 0:t.cR.ks())?n:FA.WB().ks()}},{key:"JI",get:function(){return this.kst}},{key:"jC",get:function(){return!0}},{key:"SR",get:function(){return this.zH}},{key:"fNt",get:function(){var t;return null==(t=this.LDt)?void 0:t.fNt}},{key:"mO",get:function(){if(!this.JI&&this.NNt){var t=this.RI,n=this.oNt._Ct(t);if(void 0!==n){var i=this.Tkt,r=0;if(i.V>0){var e=i.Tn(i.V-1);r=k.max(e-t,0)}return k.max(n,r)}}}},{key:"qC",get:function(){var t;return null==(t=this.LDt)?void 0:t.qC}},{key:"YC",get:function(){var t;return null==(t=this.LDt)?void 0:t.YC}},{key:"KC",get:function(){var t;return null==(t=this.LDt)?void 0:t.KC}},{key:"aR",get:function(){return this.aO.aR}},{key:"rR",get:function(){return this.WNt},set:function(t){this.WNt=t,this.UNt()}}]),n}(la),EH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).iMt=!1,o.JNt=!1,o.tMt=[],o.eMt=void 0,o.sMt=function(){var n=o.qI||0===o.yR;"hidden"===v.visibilityState&&!o.JI&&n?(o.PR(),o.iMt=!0):"visible"===v.visibilityState&&o.iMt&&(o.JNt=!0,o.eMt=Kn.Gm((function(){for(var n=0,i=o.tMt;n<i.length;n++){var r=i[n];t.prototype._o.call(tX(o),r)}o.eMt=void 0,o.JNt=!1}),2e3),xr(o.DR()),o.iMt=!1)},o.YZ=u,o.nMt=n,Gn.Bm&&v.addEventListener("visibilitychange",o.sMt),o}It(n,t);var i=n.prototype;return i._o=function(n){if(this.JNt){if(n.type===ya.eb)return void this.$Nt();if(n.type===Np.aB||n.type===ya.ib||n.type===Np.uB)return void this.tMt.push(n)}t.prototype._o.call(this,n)},i.$Nt=function(){this.JNt=!1,void 0!==this.eMt&&Kn.Um(this.eMt);var n=Hi(this.tMt,(function(t){return t.type===Np.uB}));n&&t.prototype._o.call(this,n),ir(this.tMt)},i.IR=function(){if(NM(this.aO))return this.aO.IR()},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.iMt=!1,n.$Nt(),[4,t.prototype.nr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",n.sMt),n.$Nt(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.aO.Km()];case 2:return i.sent(),[4,n.YZ.qZ(n.nMt)];case 3:return i.sent(),[2]}}))}))()},i.KNt=function(t){return Gn.$g&&Gn.nm>=15&&Gn.Kv?t+.25:t},n}(SH);F(),Tt(),Mt(),Dt(),Wt();var IH=function(){function t(){}var n=t.prototype;return n.dH=function(t,n){return Pt((function(){return Ot(this,(function(n){return[2,RH(t.type)]}))}))()},n.fH=function(t){return Pt((function(){return Ot(this,(function(n){return[2,L_(t)]}))}))()},Nt(t,[{key:"vH",get:function(){return Ok.oP}}]),t}();function RH(t){if(!t)return!1;var n=t.toLowerCase();return Qo(n,AA.rP)||Qo(n,AA.oP)}var CH=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.mP=function(t,n,i,r,e,u,s){var o=new KM(n),a=o.lH(aw.yE);return new EH(a,i,e,u,o,r)},i.dH=function(n,i){return Kn.rI&&zd?Gn.Rg&&Gn.Pg<6?et.resolve(!1):Xe(n.useManagedMediaSource)?t.prototype.dH.call(this,n,i):et.resolve(!1):et.resolve(!1)},i._H=function(){return!1},n}(IH);sS(new CH),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt();var NH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).YZ=u,o}It(n,t);var i=n.prototype;return i.IR=function(){if(NM(this.aO))return this.aO.IR()},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.YZ.qZ(n.aO)];case 2:return i.sent(),[2]}}))}))()},n}(SH),DH=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.dH=function(n,i){var r=this;return Pt((function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return Gn.IS_IOS_CHROME?[2,!1]:[4,t.prototype.dH.call(r,n,i)];case 1:if(s=a.sent(),!(null!=(o=null==(u=Wr())||null==(e=u.canPlayType)?void 0:e.call(u,AA.iP))?o:"")||!s||!("serviceWorker"in l))return[2,!1];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Or(l.serviceWorker.ready,1e3)];case 3:return a.sent(),[2,!0];case 4:return a.sent(),[2,!1];case 5:return[2]}}))}))()},i.fH=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.fH.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}}))}))()},i.mP=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.Bst(aw.yE);return new NH(o,i,e,u,n,r)}throw new ld(vd.CONFIGURATION_ERROR,"Container Div element expected.")},i._H=function(){return!1},Nt(n,[{key:"vH",get:function(){return Ok.YG}}]),n}(IH);Gn.$g&&Gn.su&&sS(new DH),F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),at(),Wt(),on(),F(),Tt(),Dt();var xH="theo_live_user_id",PH=function(){function t(t){this.externalId=t,this.id=oI(),this.userId=LH(),this.aS=0}return t.prototype.incrementSequenceNumber=function(){this.aS+=1},Nt(t,[{key:"sequenceNumber",get:function(){return this.aS}}]),t}();function LH(){try{var t=localStorage.getItem(xH);if(t)return t;var n=oI();return localStorage.setItem(xH,n),n}catch(t){return oI()}}function MH(t){var n;return{hespSrc:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,maxMobileBitrate:t.maxMobileBitrate,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?t.drmConfig:void 0}}function OH(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return ao({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function BH(t,n){return{id:t.id,name:t.name,deleted:"deleted"===t.status,targetLatency:t.source.targetLatency,maxMobileBitrate:t.source.maxMobileBitrate,endpoints:[{hespSrc:t.source.hespSrc,hlsSrc:t.source.hlsSrc,weight:1,priority:1,drm:t.source.contentProtection},t.fallback&&n?{hespSrc:t.fallback.hespSrc,hlsSrc:t.fallback.hlsSrc,weight:1,priority:2,drm:t.fallback.contentProtection}:void 0].filter(Yn)}}F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var VH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return It(n,t),n}(ld),FH=function(t){function n(n){return t.call(this,vd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return It(n,t),n}(VH),UH=function(t){function n(n){return t.call(this,vd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return It(n,t),n}(VH),WH=function(t){function n(n){return t.call(this,vd.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return It(n,t),n}(VH),ZH=function(){function t(t,n){this.WW=t,this.oMt=n,this.rMt=new Map}return t.prototype.amt=function(t){var n=this.rMt.get(t);if(n)return n;var i=new XH(t,this.WW,this.oMt);return this.rMt.set(t,i),i},t}(),XH=function(){function t(t,n,i){this.jS=t,this.WW=n,this.oMt=i,this.dMt=new Ud,this.oMt.discoveryHeader&&this.dMt.append("x-theolive-discovery",this.oMt.discoveryHeader),this.ir()}var n=t.prototype;return n.ir=function(){var t=this;this.uMt=!1,this.aMt=ke(),this.cMt=this.tTt(),this.cMt.catch((function(){return t.uMt=!0}))},n.tTt=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:n=0,i=t.oMt.discoveryUrls,v.label=1;case 1:return n<i.length?(r=i[n],[4,t.lMt(t.jS,r,t.dMt)]):[3,8];case 2:if(!(e=v.sent()))return[3,7];if(!function(t){return void 0!==t.mode}(e))return[3,6];if(u=e.mode,s=e.status,o=e.fallback,a=e.metadata,"locked"===u)throw new UH(t.jS);if("deleted"===s)throw new WH(t.jS);return h={id:t.jS,name:a.name,mode:u,status:s,source:MH(e)},o?[4,t.fMt(o,r,t.dMt)]:[3,4];case 3:return f=v.sent(),[3,5];case 4:f=void 0,v.label=5;case 5:return[2,BH.apply(void 0,[(h.fallback=f,h.insights=null==a?void 0:a.insights,h.enhancedLogging=null==a?void 0:a.enhancedLogging,h.customization=null==a?void 0:a.customization,h.sseEndpoint=e.sseEndpoint,h),null==(c=t.oMt.fallbackEnabled)||c])];case 6:return[2,e];case 7:return n++,[3,1];case 8:throw new FH(t.jS)}}))}))()},n.fMt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return"theo.live"!==t.type?[2,{hespSrc:t.src,type:t.type}]:[4,r.lMt(t.src,n,i)];case 1:return(e=u.sent())?[2,MH(e)]:[2,void 0]}}))}))()},n.lMt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),(e=Kn.Bh(t,n)).searchParams.set("osName",function(){var t=Kn.Ys._p;if("ios"===t||"macos"===t)return"apple";return t}()),e.searchParams.set("deviceType",Kn.Ys.vp),e.searchParams.set("sdkType","web"),[4,r.WW.eE({Xu:e.toString(),iE:i})];case 1:return[4,u.sent().Nk()];case 2:return[2,u.sent()];case 3:return u.sent(),[2,void 0];case 4:return[2]}}))}))()},Nt(t,[{key:"hMt",get:function(){return ke()-this.aMt>36e5}},{key:"_Mt",get:function(){return(this.uMt||this.hMt)&&this.ir(),this.cMt}}]),t}();F(),Tt(),at(),F(),Tt();var GH=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),HH=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function zH(t){return 100*k.round(t/100)}function YH(t){for(var n=t.CI(),i=t.TI(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function jH(t){return Hi(t.mC,(function(t){return t.Rt}))}function KH(t){return ur(t.VC.mC,(function(t){return t.jG}))}function qH(t){return sr(t.VC.mC,(function(t){return t.jG}))}F(),Tt(),Dt(),F(),Tt();var JH=function(){function t(t,n,i,r){var e,u,s,o;this.vMt=Date.now(),this.pMt=0,this.yMt=0,this.xZ=0,this.bMt=0,this.mMt=0,this.Zp=t,this.na=n,this.AMt=null==(u=jH(this.na.rt))||null==(e=u.BC)?void 0:e.o,this.SMt=null==(o=jH(this.na.ht))||null==(s=o.BC)?void 0:s.o,this.lf=i,this.bZ=r}var n=t.prototype;return n.gMt=function(){var t=this.na.Sz.Zj.jG,n=this.na.SR.mO,i=YH(this.na);t>0&&void 0!==i&&void 0!==n&&(this.mMt+=1,this.pMt=this.wMt(this.pMt,i),this.yMt=this.wMt(this.yMt,1e3*this.na.SR.kd.targetOffset),this.xZ=this.wMt(this.xZ,1e3*n),this.bMt=this.wMt(this.bMt,t/1e3))},n.wMt=function(t,n){return t+(n-t)/this.mMt},n.mP=function(){var t={sta:this.Zp,ts:this.vMt,"theo-vt":this.AMt,"theo-at":this.SMt,"theo-d":this.ct,"theo-r":this.lf};return this.mMt>0?ao({},t,{bl:zH(this.pMt),tbl:zH(this.yMt),ltc:zH(this.xZ),mtp:zH(this.bMt),"theo-w":this.mMt}):t},n.TMt=function(){return new t(this.Zp,this.na,this.lf)},t.starting=function(n,i,r){return new t(GH.STARTING,n,i,r)},t.playing=function(n){return new t(GH.PLAYING,n)},t.seeking=function(n,i){return new t(GH.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(GH.REBUFFERING,n,i)},t.paused=function(n){return new t(GH.PAUSED,n)},t.ended=function(n){return new t(GH.ENDED,n)},t.quit=function(n){return new t(GH.QUIT,n)},Nt(t,[{key:"ct",get:function(){return Date.now()-this.vMt}}]),t}(),QH=function(){function t(t,n,i){var r=this;this.NMt=[],this.NNt=!1,this.yz=!1,this.VMt=function(){var t;r.MMt(JH.starting(r.na,"fallback",null==(t=r.na.FI())?void 0:t.message))},this.WMt=function(){r.MMt(JH.starting(r.na,"loadChannel"))},this.UMt=function(){r.MMt(JH.ended(r.na))},this._Z=function(t){t.Ht.bn(Og.fC,r.Zr)},this.Zr=function(){var t,n,i,e,u=null==(n=jH(r.na.rt))||null==(t=n.BC)?void 0:t.o,s=null==(e=jH(r.na.ht))||null==(i=e.BC)?void 0:i.o;u&&s&&(r.EMt&&r.EMt.Zp===GH.PLAYING&&r.EMt.AMt===u&&r.EMt.SMt===s||r.MMt(JH.playing(r.na)))},this.fO=function(){r.NNt=!0,r.yz=!1,r.MMt(JH.playing(r.na))},this.OMt=function(){r.NNt&&!r.yz&&(r.yz=!0,r.MMt(JH.seeking(r.na,"latencyRecovery")))},this.FMt=function(){r.NNt&&!r.yz&&(r.yz=!0,r.MMt(JH.seeking(r.na,"goLive")))},this.dO=function(){r.na.dR||r.MMt(JH.rebuffering(r.na,"visible"===v.visibilityState?void 0:"invisible"))},this.BMt=function(){r.MMt(JH.paused(r.na))},this.GMt=function(t){var n=Kn.Bh(t.url),i=function(t){var n=t.pathname;if($o(n,"manifest.json"))return HH.MANIFEST;if(Jo(n,"/video/"))return HH.VIDEO;if(Jo(n,"/audio/"))return HH.AUDIO;return HH.OTHER}(n);if("o"!==i){r.xMt.incrementSequenceNumber();var e=ao({},t.headers,{"CMCD-Request":r.kMt(),"CMCD-Object":r.IMt(i),"CMCD-Status":r.RMt(),"CMCD-Session":r.CMt()});i===HH.VIDEO&&$o(n.pathname,".hspc")&&r.EMt&&(r.MMt(r.EMt.TMt()),e=ao({},e,r.DMt())),t.redirect(ao({},t,{headers:e}))}},this.LMt=function(){r.EMt&&(r.NMt.push(r.EMt.mP()),r.EMt=void 0),r.NMt.push(JH.quit(r.na).mP()),xr(r.na.mI.eE({Xu:r.HMt,iE:r.DMt(),OE:!0}))},this.na=t,this.PMt=n,this.xMt=i;var e=n.endpoints[0],u=(null==e?void 0:e.hespSrc)||(null==e?void 0:e.hlsSrc)||"";this.HMt=Kn.Bh("bye",u).href,f.addEventListener("beforeunload",this.LMt),this.na.bn(Np.uB,this.fO),this.na.bn(Np.aB,this.dO),this.na.bn(ya.Ky,this.BMt),this.na.VI.bn("latencyrecoveryseek",this.OMt),this.na.VI.bn("golive",this.FMt),this.na.Sz.Mj(this.GMt),this.na.rt.bn(Dg.XR,this._Z),this.na.ht.bn(Dg.XR,this._Z),this.na.knt.addEventListener("intenttofallback",this.VMt),this.na.knt.addEventListener("publicationloadstart",this.WMt),this.na.knt.addEventListener("publicationoffline",this.UMt),this.EMt=JH.starting(this.na,"loadchannel"),this.ZMt=Kn.lw((function(){var t;null==(t=r.EMt)||t.gMt()}),1e3)}var n=t.prototype;return n.kMt=function(){var t,n=this.na.SR.mO,i=YH(this.na),r=this.na.Sz.Zj.jG;return $H({bl:void 0!==i?zH(i):void 0,tbl:zH(1e3*this.na.SR.kd.targetOffset),ltc:void 0!==n?zH(1e3*n):void 0,mtp:void 0!==r?zH(r/1e3):void 0,sta:null==(t=this.EMt)?void 0:t.Zp,su:!this.NNt||void 0,"theo-sq":this.xMt.sequenceNumber})},n.IMt=function(t){var n,i,r=function(t,n){switch(n){case HH.VIDEO:return jH(t.rt);case HH.AUDIO:return jH(t.ht)}}(this.na,t);return $H({br:(null==r||null==(n=r.BC)?void 0:n.jG)?zH((null==r||null==(i=r.BC)?void 0:i.jG)/1e3):void 0,ot:t,tb:r?zH(qH(r).jG/1e3):void 0,lb:r?zH(KH(r).jG/1e3):void 0})},n.RMt=function(){return $H({"theo-cw":this.na.we.clientWidth,"theo-ch":this.na.we.clientHeight,"theo-m":this.na.qI,"theo-vo":k.ceil(100*this.na.yR)})},n.CMt=function(){var t;return $H({sf:tz(this.na.bt),sid:this.xMt.id,st:"l",v:2,"theo-eid":null==(t=this.xMt.externalId)?void 0:t.substring(0,128),"theo-cn":this.PMt.name.substring(0,128),"theo-v":"9.7.0","theo-t":"web","theo-u":this.xMt.userId})},n.DMt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.NMt))};return this.NMt=[],t},n.MMt=function(t){this.EMt&&this.NMt.push(this.EMt.mP()),this.EMt=t},n.destroy=function(){var t=this;this.LMt(),f.removeEventListener("beforeunload",this.LMt),this.na.vn(Np.uB,this.fO),this.na.vn(Np.aB,this.dO),this.na.vn(ya.Ky,this.BMt),this.na.VI.vn("latencyrecoveryseek",this.OMt),this.na.VI.vn("golive",this.FMt),this.na.rt.vn(Dg.XR,this._Z),this.na.ht.vn(Dg.XR,this._Z),this.na.rt.mC.forEach((function(n){return n.vn(Og.fC,t.Zr)})),this.na.ht.mC.forEach((function(n){return n.vn(Og.fC,t.Zr)})),this.na.knt.removeEventListener("intenttofallback",this.VMt),this.na.knt.removeEventListener("publicationloadstart",this.WMt),this.na.knt.removeEventListener("publicationoffline",this.UMt),this.na.Sz.Oj(this.GMt),Kn.dw(this.ZMt)},t}();function $H(t){return b.keys(t).map((function(n){return function(t,n){switch(void 0===n?"undefined":U(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])})).filter(Boolean).sort().join(",")}function tz(t){if(t)return t.type===AA.iP||t.type===AA.sP?"h":t.type===AA.oP?"e":void 0}F(),Tt(),Mt(),Dt(),Rt(),Wt();var nz=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return It(n,t),n}(ma),iz=function(t){function n(n){var i;return(i=t.call(this,"distributionloadstart")||this).distributionId=n,i}return It(n,t),n}(ma),rz=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return It(n,t),n}(ma),ez=function(t){function n(n){var i;return(i=t.call(this,"distributionoffline")||this).distributionId=n,i}return It(n,t),n}(ma),uz=function(t){function n(n,i){var r;return(r=t.call(this,"publicationloaded")||this).publicationId=n,r.channelName=i,r}return It(n,t),n}(ma),sz=function(t){function n(n){var i;return(i=t.call(this,"endpointloaded")||this).endpoint=n,i}return It(n,t),n}(ma),oz=function(t){function n(){return t.call(this,"intenttofallback")||this}return It(n,t),n}(ma),az=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return It(n,t),n}(ma),cz=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return It(n,t),n}(ma),hz=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i}return It(n,t),n.prototype.zMt=function(t){return this.na.zMt(t)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)},get badNetworkMode(){return t.XMt},set badNetworkMode(n){t.XMt=n},preloadPublications:function(n){return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.zMt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.eu}},{key:"XMt",get:function(){return this.na.XMt},set:function(t){this.na.XMt=t}}]),n}(la);var fz=["https://discovery.theo.live/channels/"],vz=8e5,dz=function(t){function n(n,i){var r,e;(r=t.call(this,n,i)||this)._Nt=!1,r.QH=void 0,r.bZ=void 0,r.zT=new mr,r.KMt=void 0,r.NNt=!1,r.hLt=void 0,r.cLt=[],r.tLt=!1,r._Z=function(t){var n,i,e=t.Ht,u=null==(n=r.PMt)?void 0:n.maxMobileBitrate;void 0!==u&&Kn.Ys.Qs&&e.VC.mC.filter((function(t){return t.jG>u})).forEach((function(t){return e.VC.rT(t)}));e.bn(Og.fC,r.Zr);var s=lz(null!=(i=e.WC)?i:e.VC.mC);e.WC=s.length>0?s:lz(e.VC.mC)},r.Zr=function(t){var n,i=t.jht;(!i||(null!=(n=i.Tyt)?n:i.jG)>=vz)&&r.iLt()},r.OMt=function(){r.eLt(),r.cLt.push(Kn.Wm()),r.cLt=r.cLt.filter((function(t){return Kn.Wm()-t<=3e5})),r.cLt.length>=3&&(r.cLt=[],r.jMt._o(new oz),r.QMt(!0))},r.jMt=new hz(r);var u,s,o,a=n.kd.theoLive;return r.rLt={sessionId:null!=(u=null==a?void 0:a.sessionId)?u:oI(),userId:null!=(s=null==a?void 0:a.userId)?s:LH(),externalSessionId:null==a?void 0:a.externalSessionId,analyticsEnabled:!1!==(null==a?void 0:a.analyticsEnabled),fallbackEnabled:!1!==(null==a?void 0:a.fallbackEnabled),discoveryUrls:[null==a?void 0:a.discoveryUrl].concat(Kt(null!=(o=null==a?void 0:a.discoveryUrls)?o:[]),Kt(fz)).filter(Yn)},r.xMt=new PH(null==(e=r.rLt)?void 0:e.externalSessionId),r.sLt=new ZH(n.mI,r.rLt),r.na.VI.bn("latencyrecoveryseek",r.OMt),r}It(n,t);var i=n.prototype;return i.qMt=function(){this.na.VI.bn("latencyrecoveryseek",this.OMt),this.na.rt.bn(Dg.XR,this._Z)},i.YMt=function(){this.na.VI.vn("latencyrecoveryseek",this.OMt),this.na.rt.vn(Dg.XR,this._Z)},i.GR=function(n){var i,r=this;return this._Nt?n.type===Np.uB?(void 0!==this.KMt?(Kn.Um(this.KMt),this.KMt=void 0,this.NNt||this._o(new Fp(this.CI()))):this._o(new Fp(this.CI())),this.NNt=!0,!0):n.type===Np.aB?(this.KMt||(this.KMt=Kn.Gm((function(){r._o(new Op(r.CI())),r.KMt=void 0}),100)),!0):"error"===n.type?(null==(i=this.IH)?void 0:i.src)&&yz(this.IH.src)?(this.dispatchErrorEvent(n.errorObject),!0):(this.jMt._o(new oz),this.na.NR().then((function(){return r.QMt(!0)})),!0):(n.type===ya.ho?(this.JMt=Kn.Wm(),void 0===this.$Mt&&(this.$Mt=Kn.lw((function(){var t;Kn.Wm()-(null!=(t=r.JMt)?t:0)>15e3&&r.na.NR().then((function(){return r.QMt(!0)}))}),1e3))):n.type===ya.Ky?void 0!==this.$Mt&&(Kn.dw(this.$Mt),this.$Mt=void 0):n.type===ya._b&&(this.JMt=Kn.Wm()),t.prototype.GR.call(this,n)):t.prototype.GR.call(this,n)},i.Ent=function(){return this.jMt.wa},i.BI=function(){return this._Nt?this.QH:t.prototype.BI.call(this)},i.FI=function(){return this._Nt?this.bZ:t.prototype.FI.call(this)},i.eLt=function(){if(!this.tLt&&(this.tLt=!0,this.jMt._o(new az),0!==this.na.rt.V)){var t,n=this.rt.wC(0),i=or(n.VC.mC,(function(t){return t.jG}));(null!=(t=i.Tyt)?t:i.jG)<vz?(n.WC=[i],et.resolve().then((function(){return n.WC=n.VC.mC.slice()}))):this.iLt()}},i.iLt=function(){if(this.tLt&&(this.tLt=!1,this.jMt._o(new cz),0!==this.na.rt.V)){var t,n=this.na.rt.wC(0),i=lz(null!=(t=n.WC)?t:n.VC.mC);n.WC=i.length>0?i:lz(n.VC.mC)}},i.zMt=function(t){var n=this;return et.all(t.map(Pt((function(t){return Ot(this,(function(i){switch(i.label){case 0:return[4,Sr(n.sLt.amt(t)._Mt,n.zT.ep)];case 1:return[2,i.sent()]}}))}))))},i.Ca=function(n,i){var r=this,e=function(){return t.prototype.Ca};return Pt((function(){var t,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:r._Nt=!1,u=0,s=null!=(t=null==n?void 0:n.sources)?t:[],v.label=1;case 1:return u<s.length?_T(o=s[u])&&o.type===AA.aP&&o.src?(r._Nt=!0,r.Sc=n,r.IH=o,r.jMt._o(new nz(o.src)),r.jMt._o(new iz(o.src)),r.qMt(),yz(o.src)?(a=ao({},n,{sources:[ao({},o,{type:AA.oP,useManagedMediaSource:!0})]}),[4,e().call(r,a,i)]):[3,3]):[3,9]:[3,10];case 2:return v.sent(),[2];case 3:r.nLt=r.sLt.amt(o.src),v.label=4;case 4:return v.trys.push([4,7,,9]),[4,r.nLt._Mt];case 5:return c=v.sent(),r.PMt=c,r.rLt.analyticsEnabled&&(r.oLt=new QH(r,c,r.xMt)),h=r.jMt.Ay("publicationloaded"),r.QMt(!1),[4,Sr(h,i).catch(Ar)];case 6:return v.sent(),[2];case 7:return Ar(f=v.sent()),[4,r.NR().catch(_i)];case 8:throw v.sent(),r.dispatchErrorEvent(f),f;case 9:return u++,[3,1];case 10:return[4,e().call(r,n,i)];case 11:return[2,v.sent()]}}))}))()},i.QMt=function(t){var n=this;if(this.nLt&&!this.hLt){void 0!==this.aLt&&(Kn.Um(this.aLt),this.aLt=void 0);var i=function(){n.hLt=void 0};this.hLt=this.uLt(this.nLt,t).then(i).catch(i)}},i.uLt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,t._Mt];case 1:return r=s.sent(),i.PMt=r,[4,wz(r,i.na.mI)];case 2:return(e=s.sent())?(u=i.convertEndpointToSource(r,e),[4,i.na.Ca(u,(new mr).ep)]):[3,4];case 3:return s.sent(),i.jMt._o(new uz(r.id,r.name)),i.jMt._o(new sz(e)),n&&i.na.DR(),[3,5];case 4:i.jMt._o(new rz(r.id)),i.jMt._o(new ez(r.id)),i.aLt=Kn.Gm((function(){return i.QMt(n)}),15e3),s.label=5;case 5:return[2]}}))}))()},i.convertEndpointToSource=function(t,n){var i,r,e,u,s={sources:[n.hespSrc?{type:"application/vnd.theo.hesp+json",src:n.hespSrc,contentProtection:n.contentProtection?OH(n.contentProtection):void 0,useManagedMediaSource:!0,latencyConfiguration:null!=(u=null==(i=this.IH)?void 0:i.latencyConfiguration)?u:gz(t.targetLatency),hesp:{maxMobileBitrate:t.maxMobileBitrate}}:void 0,n.hlsSrc?{type:"application/x-mpegurl",src:n.hlsSrc,contentProtection:n.contentProtection?OH(n.contentProtection):void 0}:void 0].filter(Yn),ads:this.NNt?[]:null==(r=this.Sc)?void 0:r.ads,blockContentIfAdError:null==(e=this.Sc)?void 0:e.blockContentIfAdError,streamType:"live"};if(n.adSrc){var o,a=null!=(o=s.ads)?o:[],c=a.filter((function(t){return"theoads"===t.integration}));c.length>0?c.forEach((function(t){t.sseEndpoint=n.adSrc})):a.push({integration:"theoads",sseEndpoint:n.adSrc}),s.ads=a}var h=AE(s);return h.sources[0].bypassLicense=!0,h},i.dispatchErrorEvent=function(t){var n=t instanceof ld?t:new ld(vd.THEO_LIVE_UNKNOWN_ERROR,t.message,t);this.QH=lw(n),this.bZ=n,this._o(new xk(n))},i.NR=function(){var n;return this.zT.np(),this.zT=new mr,this.YMt(),void 0!==this.KMt&&(Kn.Um(this.KMt),this.KMt=void 0),void 0!==this.aLt&&(Kn.Um(this.aLt),this.aLt=void 0),void 0!==this.$Mt&&(Kn.dw(this.$Mt),this.$Mt=void 0),this.JMt=void 0,this._Nt=!1,this.NNt=!1,null==(n=this.oLt)||n.destroy(),this.oLt=void 0,this.Sc=void 0,this.IH=void 0,this.nLt=void 0,this.PMt=void 0,this.bZ=void 0,this.QH=void 0,this.cLt=[],this.tLt&&this.iLt(),t.prototype.NR.call(this)},i.yn=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return i.zT.np(),void 0!==i.KMt&&(Kn.Um(i.KMt),i.KMt=void 0),i.Ro(),i.YMt(),null==(r=i.oLt)||r.destroy(),i.na.VI.vn("latencyrecoveryseek",i.OMt),[4,t.prototype.yn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},Nt(n,[{key:"XMt",get:function(){return this.tLt},set:function(t){this._Nt&&(t?this.eLt():this.iLt())}}]),n}(Qk);function lz(t){return t.filter((function(t){var n;return(null!=(n=t.Tyt)?n:t.jG)>=vz}))}function gz(t){return void 0===t?ao({},dG(),{forceSeekOffset:20}):{minimumOffset:t-XA,targetOffset:t,maximumOffset:t+XA,forceSeekOffset:20,minimumPlaybackRate:WA,maximumPlaybackRate:ZA}}function wz(t,n){return mz.apply(this,arguments)}function mz(){return mz=Pt((function(t,n){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:i=function(i){var r,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:r=e[i],u=t.endpoints.filter((function(t){return t.priority===r})),c.label=1;case 1:if(!(u.length>0))return[3,6];s=function(t){var n=t.reduce((function(t,n){return t+n.weight}),0);if(0===n){return t[k.floor(k.random()*t.length)]}for(var i=k.random()*n,r=0,e=0;e<t.length;e++){var u=t[e];if(i<=(r+=u.weight))return u}return t[t.length-1]}(u),o=s.hespSrc||s.hlsSrc,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,n.eE({Xu:o})];case 3:return(a=c.sent()).Jk>=200&&a.Jk<300?[2,{v:s}]:[3,5];case 4:return c.sent(),[3,5];case 5:return Ji(u,s),[3,1];case 6:return[2]}}))},r=cr(t.endpoints.map((function(t){return t.priority}))),e=r.sort(),u=0,o.label=1;case 1:return u<e.length?[5,Bt(i(u))]:[3,4];case 2:if("object"===U(s=o.sent()))return[2,s.v];o.label=3;case 3:return u++,[3,1];case 4:return[2,void 0]}}))})),mz.apply(this,arguments)}function yz(t){try{return $o(Kn.Bh(t).pathname,"manifest.json")}catch(t){return!1}}eA((function(t){return new dz(t)}),iA.aP),F(),Tt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var pz=V(pn());F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var _z=function(t){function n(n,i){var r;return(r=t.call(this)||this).eF=Iw(),r.eu=void 0,r.tS=n,r.lLt=i,r}It(n,t);var i=n.prototype;return i.ir=function(t,n){this.tS=t,this.lLt=n,this.eu&&this._o(new hU(this.eu))},i.MW=function(){throw new p("Method not implemented.")},i.LW=function(){throw new p("Method not implemented.")},i.yn=function(){this.Ro()},Nt(n,[{key:"WN",get:function(){return this.lLt}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()}},{key:"o",get:function(){return this.tS.id}},{key:"OC",get:function(){return this.eF}},{key:"jG",get:function(){return this.tS.bitrate}},{key:"Tyt",get:function(){}},{key:"Frt",get:function(){return""}},{key:"Ch",get:function(){return""}},{key:"Iyt",get:function(){return""}},{key:"Lst",get:function(){return!0}},{key:"kyt",get:function(){}}]),n}(la),bz=function(t){function n(n,i){return t.call(this,n,i)||this}return It(n,t),n.prototype.ka=function(){return aU(this)},Nt(n,[{key:"Xdt",get:function(){return 0}},{key:"ji",get:function(){return this.tS.width}},{key:"Ti",get:function(){return this.tS.height}},{key:"Eyt",get:function(){return 0}}]),n}(_z);F(),Tt(),Dt(),Rt();var kz=function(t){function n(n,i){var r;return(r=t.call(this)||this).eF=Tw(),r.jO=new yw,r.jS=n,r.O5=i,r}It(n,t);var i=n.prototype;return i.nF=function(t){this.Rt=t},i.yn=function(){this.Ro();for(var t=0,n=this.jO.mC;t<n.length;t++){n[t].yn()}this.jO.nr()},Nt(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=ew(this)}},{key:"Adt",get:function(){}},{key:"Lt",get:function(){return this.O5}},{key:"o",get:function(){return this.jS||"millitrack"}},{key:"OC",get:function(){return this.eF}},{key:"Ch",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.nF("enabled"===t)}},{key:"BC",get:function(){}},{key:"VC",get:function(){return this.jO}},{key:"WC",get:function(){return this.dLt},set:function(t){if(this.dLt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].WN:void 0;this.fLt(n)}this._o(new kB(this.jO.mC.slice(),this)),((null==t?void 0:t.length)||this.jO.V)&&this._o(new tF((null==t?void 0:t[0])||this.jO.wC(0)))}},{key:"FC",get:function(){}}]),n}(la),Az=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this)._Lt=r,e}It(n,t);var i=n.prototype;return i.ir=function(t){for(var n,i=function(i,r){var e=r[i],u=Hi(t.layers,(function(t){return t.encodingId===e.id})),s=Hi(n.jO.mC,(function(t){return t.o===e.id}));s?s.ir(e,u):n.jO.QO(new bz(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this._o(new bw(this))},i.fLt=function(t){var n;null==(n=this._Lt)||n.vLt(t)},i.yn=function(){this._Lt=void 0,t.prototype.yn.call(this)},Nt(n,[{key:"zw",get:function(){return aw.yE}}]),n}(kz);F(),Tt(),Dt();var Tz=function(){function t(){}var n=t.prototype;return n.ir=function(t){this.gLt=t},n.JG=function(t){},Nt(t,[{key:"jG",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.gLt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.gLt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"QG",get:function(){var t,n;return null!=(n=null==(t=this.gLt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var Sz=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).mLt=0,r}return It(n,t),n.prototype.ka=function(){return cU(this)},Nt(n,[{key:"Swt",get:function(){return this.mLt}}]),n}(_z),Ez=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this)._Lt=r,e}It(n,t);var i=n.prototype;return i.ir=function(t){for(var n,i=function(i,r){var e=r[i],u=Hi(t.layers,(function(t){return t.encodingId===e.id})),s=Hi(n.jO.mC,(function(t){return t.o===e.id}));s?s.ir(e,u):n.jO.QO(new Sz(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this._o(new bw(this))},i.fLt=function(t){var n;null==(n=this._Lt)||n.pLt(t)},i.yn=function(){this._Lt=void 0,t.prototype.yn.call(this)},Nt(n,[{key:"zw",get:function(){return aw.wE}}]),n}(kz);F(),Tt(),Rt();var Iz=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this).pW=i,r}return It(n,t),n.prototype.ka=function(){return function(t){return Ug(zw(t),{get mid(){return t.pW.mid},get uuid(){return t.pW.uuid},get timecode(){return t.pW.timecode},get unregistered(){return t.pW.unregistered}})}(this)},n}(nm);F(),Tt(),F(),Tt(),Dt(),Rt();var Rz=V(pn()),Cz=function(t){function n(n){var i;return(i=t.call(this)||this).wLt=n,i}It(n,t);var i=n.prototype;return i.DO=function(t){return Rz.Logger.diagnose(t)},i.bn=function(t,n){this.wLt.bn(t,n)},i.vn=function(t,n){this.wLt.vn(t,n)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=JT(this)),this.eu}}]),n}(la),Nz=[ya.ho,ya.Ky,Np.uB,ya._b,ya.jy,ya.Hy,ya.ib,ya.eb,ya.Ly,ya.Qy,ya.vb,ya.Dy,ya.$y,ya.Ry,ya.Iy,ya.Fy,ya.By],Dz=["active","inactive","stopped","vad","layers","migrate","viewercount"],xz=1e3,Pz=function(t){function n(n){var i;return(i=t.call(this,"stats")||this).gLt=n,i}return It(n,t),Nt(n,[{key:"stats",get:function(){return this.gLt}}]),n}(ma),Lz=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).HH=n,e.XH=i,e.zH=r,e.zT=new mr,e.ipt=void 0,e.SLt=void 0,e.FO=new ow,e.LO=new ow,e.kLt=0,e.RZ=new Tz,e.Ss=function(t){e.uH(gw(t.lt))},e.Gpt=function(t){br(t)||e.uH(new ld(vd.MEDIA_DECODE_ERROR,t.message,t))},e.aO=e.HH.lH(aw.yE),e.ZZ=new Wp(e.aO,!0),e.aO.bn(Nz,e.Ds),e.aO.bn(Qy.fa,e.Ss),e.ZZ.bn(Dp,e.Ds),e.yLt=new Cz(e),e}It(n,t);var i=n.prototype;return i.vLt=function(t){var n;null==(n=this.Nf)||n.select(t).catch(this.Gpt)},i.pLt=function(t){var n;null==(n=this.Nf)||n.select(t).catch(this.Gpt)},i.IR=function(){return this.aO.IR()},i.DI=function(t,n){},i.ge=function(){this.aO.ge()},i.be=function(){this.aO.be()},i.DR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.aO.DR()];case 1:return n.sent(),[2]}}))}))()},i.PR=function(){this.aO.PR()},i.nr=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return t.ALt(),t.Sc=void 0,t.zT.np(),null==(n=t.Nf)||n.stop(),t.Nf=void 0,t.ipt?[4,t.ipt.catch(_i)]:[3,2];case 1:e.sent(),t.ipt=void 0,e.label=2;case 2:return t.SLt=void 0,[4,t.aO.nr()];case 3:for(e.sent(),t.TLt=void 0,t.kLt=0,t.aO.GZ(),i=0,r=t.FO.mC;i<r.length;i++)r[i].yn();return t.LO.nr(),t.FO.nr(),[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.ALt(),t.Ro(),[4,t.nr()];case 1:return n.sent(),t.LO.yn(),t.FO.yn(),t.ZZ.yn(),t.aO.vn(Nz,t.Ds),t.aO.vn(Qy.fa,t.Ss),[4,t.HH.qZ(t.aO)];case 2:return n.sent(),[2]}}))}))()},i.Ca=function(t,n,i){var r=this;return Pt((function(){var n,e;return Ot(this,(function(u){return kr(i),r.VEt(),r.ALt(),n=t,r.Sc=n,r.zT=new mr,n.apiUrl&&pz.Director.setEndpoint(n.apiUrl),e=function(){return pz.Director.getSubscriber({streamName:n.src,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.Nf=new pz.View(void 0,e,void 0,!0),r.ELt=ao({},n.connectOptions,{events:Dz}),r.xLt(),[2]}))}))()},i.$n=function(){if(void 0===this.ipt){var t=this.Nf;void 0!==t&&(this.ipt=this.ix(t,this.ELt,this.zT.ep).catch(this.Gpt))}},i.ix=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:kr(i),o.label=1;case 1:return o.trys.push([1,3,,6]),[4,Sr(t.connect(n),i)];case 2:return o.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:k.min(null!=(u=null==(e=r.Sc)?void 0:e.statsIntervalMs)?u:xz,xz)}),[3,6];case 3:return Ar(s=o.sent()),function(t){return Qn(t)&&"FetchError"===t.name}(s)&&400===s.status?(Kn.aw("[THEOplayer] Millicast connect error, reconnecting.",s),[4,Sr(t.reconnect(),i)]):[3,5];case 4:o.sent(),o.label=5;case 5:return r.uH(new ld(vd.NETWORK_ERROR,s.message,s)),[3,6];case 6:return[2]}}))}))()},i.ILt=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:kr(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.aO.Q7(),i.SLt=t,[4,i.aO.nr()];case 2:return r.sent(),[4,i.aO.$n({zw:Cp.zW,zC:"",a$:t,Fk:AA.hP,CZ:[]})];case 3:return r.sent(),[3,5];case 4:return i.aO.J7(),[7];case 5:return[2]}}))}))()},i.xLt=function(){var t,n=this,i=this.Nf;i.on("track",(function(t){return n.RLt(t)})),i.on("broadcastEvent",(function(t){return n.CLt(t)})),i.webRTCPeer.on("stats",(function(t){n.bLt=t,n.RZ.ir(t),n.PLt()})),(null==(t=this.ELt)?void 0:t.metadata)&&i.on("metadata",(function(t){return n.DLt(t)}))},i.PLt=function(){var t,n,i=this;void 0===this.NLt&&(this._o(new Pz(this.bLt)),this.NLt=Kn.lw((function(){i._o(new Pz(i.bLt))}),null!=(n=null==(t=this.Sc)?void 0:t.statsIntervalMs)?n:xz))},i.ALt=function(){void 0!==this.NLt&&(Kn.dw(this.NLt),this.NLt=void 0)},i.RLt=function(t){var n=this.LO.V>0,i=this.FO.V>0,r=n&&!i;if(i&&t.track.kind===aw.yE||r&&t.track.kind===aw.wE){var e=t.streams[0];if(r)for(var u=e.getVideoTracks().slice(),s=0;s<u.length;s++){var o=u[s];e.removeTrack(o)}this.ILt(e,this.zT.ep).catch(this.Gpt)}},i.CLt=function(t){switch(t.name){case"active":this._o(new $W);for(var n=0,i=t.data.tracks;n<i.length;n++){var r=i[n];r.media===aw.yE?this.FO.tt(new Az(r.trackId,this.FO.V?$G.cDt:$G.lDt,this)):r.media===aw.wE&&this.LO.tt(new Ez(r.trackId,this.LO.V?QG.cDt:QG.lDt,this))}break;case"inactive":this._o(new tZ),this.FO.nr(),this.LO.nr();break;case"stopped":this._o(new tZ);break;case"viewercount":default:break;case"layers":var e=t.data;if(0===this.FO.V){var u=new Az("",$G.lDt,this);u.ir(e.medias[0]),this.FO.tt(u)}else{var s=Hi(this.FO.mC,(function(t){return t.Lt===$G.lDt}));null==s||s.ir(e.medias[0])}}},i.DLt=function(t){var n=this.TLt;void 0===n&&((n=this.aO.ZR(ep.xW,void 0,void 0,void 0,void 0,Ow.MILLICAST)).LE=qy.GC,this.TLt=n);var i=this.RI,r=k.max(0,i-10);this.kLt<r&&(yp(n,r),this.kLt=r);var e=new Iz(i+.001,t);n.UW(e)},i.uH=function(t){this.bZ||(xr(this.nr()),this.bZ=lw(t),this.AZ=t,this._o(new xk(t)))},i.VEt=function(){this.bZ=void 0,this.AZ=void 0},i.MR=function(){return!1},i.LR=function(){},i.OR=function(){},i.FR=function(){this.aO.FR()},i.WR=function(){var t=this.SLt;void 0!==t&&this.ILt(t,this.zT.ep).catch(this.Gpt)},i.xR=function(){return this.aO.Sa},i.ja=function(){return this.aO.WZ},i.ZR=function(t){return this.aO.UZ(t)},Nt(n,[{key:"ER",get:function(){return!1}},{key:"ht",get:function(){return this.LO}},{key:"SI",get:function(){return this.aO.SI.ks()}},{key:"kI",get:function(){return this.aO.kI},set:function(t){}},{key:"bt",get:function(){return this.Sc}},{key:"RI",get:function(){return this.aO.RI},set:function(t){this.DI(t)}},{key:"ct",get:function(){return this.aO.ct}},{key:"MI",get:function(){return this.aO.MI}},{key:"lt",get:function(){return this.bZ}},{key:"OI",get:function(){return this.AZ}},{key:"VI",get:function(){}},{key:"UI",get:function(){return this.yLt}},{key:"ZI",get:function(){return this.aO.ZI}},{key:"XI",get:function(){var t,n,i,r,e,u,s=this.bLt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{ZO:this.XH.Zj.jG,WO:null!=(i=null==o?void 0:o.framesDropped)?i:0,UO:0,GO:null!=(r=null==o?void 0:o.framesReceived)?r:0,HO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"jI",get:function(){var t,n;return null!=(n=null==(t=this.Nf)?void 0:t.isActive())&&n}},{key:"JI",get:function(){return this.aO.JI}},{key:"tR",get:function(){return 1},set:function(t){}},{key:"sR",get:function(){return this.aO.sR.ks()}},{key:"rR",get:function(){return cS.xH},set:function(t){}},{key:"aR",get:function(){return this.aO.aR}},{key:"cR",get:function(){return this.aO.cR.ks()}},{key:"dR",get:function(){return this.aO.dR}},{key:"EZ",get:function(){return this.aO.EZ}},{key:"nt",get:function(){return this.aO.nt}},{key:"vR",get:function(){return this.aO.vR}},{key:"rt",get:function(){return this.FO}},{key:"pR",get:function(){return this.aO.pR}},{key:"yR",get:function(){return this.aO.yR},set:function(t){this.aO.yR=t}},{key:"SR",get:function(){return this.zH}},{key:"IZ",get:function(){return this.RZ}},{key:"mO",get:function(){return this.zH.mO}}]),n}(la),Mz=function(){function t(){}var n=t.prototype;return n.mP=function(t,n,i,r,e,u,s,o){return new Lz(n,e,u)},n.dH=function(t,n){return t.type===AA.hP},n.fH=function(t){return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,L_(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}}))}))()},n._H=function(){return!1},Nt(t,[{key:"vH",get:function(){return Ok.hP}}]),t}();sS(new Mz),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),nn(),qt(),at(),Wt(),on(),F(),Tt();var Oz=function(t){return t.MLt="currentbufferingrenditionchange",t.LLt="BLt",t.OLt="FLt",t.VLt="WLt",t}({});F(),Tt(),Dt(),Rt(),F(),Tt();var Bz=function(t,n){var i,r;this.Frt=void 0,this.OC=Iw(),this.ULt=n,this.zw=t.zw,this.GLt=t.GLt,this.ZLt=t.ZLt,this.HLt=t.HLt,this.l=t.l,this.gs=t.gs,this.XLt=t.XLt,this.zLt=t.zLt,this.qLt=void 0===t.Iyt,this.YLt=null!=(r=null==(i=t.YLt)?void 0:i.split(","))?r:[]};function Vz(t,n){return t.zw===n.zw&&(t.l===n.l||!(!t.GLt||!n.GLt))}function Fz(t,n){return void 0!==t&&void 0!==n&&Uz(t,n)}function Uz(t,n){return t.ULt===n.ULt}function Wz(t,n){return Uz(t,n)&&t.XLt===n.XLt}function Zz(t,n){for(var i=0;i<t.length;i++){if(Wz(t[i],n))return!0}return!1}var Xz=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).Zp=n,s.na=i,s.XH=r,s.yh=e,s.VC=u,s.Lct=void 0,s.uBt=void 0,s.cBt=function(){return s._o(new bw(s))},s.hBt=function(){var t=s.BC;t&&s.uBt!==t&&(s.uBt=t,s._o(new tF(t)))},s.aBt=function(){var t=s.Rt;s.lBt!==t&&(s.lBt=t,s.yh._o(new pw(s)),s._o(new pw(s)))},s.uBt=s.BC,s.lBt=s.Rt;var a,c,h=u.wC(0);s.iF=null!=(a=null==h?void 0:h.QLt.l)?a:"",s.VA=null!=(c=null==h?void 0:h.QLt.gs)?c:"",s.KLt=null==h||null==(o=h.QLt)?void 0:o.YLt.map(Kz).filter(Yn),s.eF=Tw(),s.na.bn(Oz.MLt,s.hBt),s.na.bn(Oz.LLt,s.aBt);for(var f=0;f<s.VC.V;f++){s.VC.wC(f).bn("update",s.cBt)}return s}It(n,t);var i=n.prototype;return i.nF=function(t){this.Rt=t},i.yn=function(){this.Ro(),this.na.vn(Oz.MLt,this.hBt),this.na.vn(Oz.LLt,this.aBt);for(var t=0,n=this.VC.mC;t<n.length;t++){n[t].yn()}this.VC.nr()},Nt(n,[{key:"FC",get:function(){return this.KLt}},{key:"Rt",get:function(){var t=this.jLt();if(!t)return!1;for(var n=0,i=this.VC.mC;n<i.length;n++){if(i[n].QLt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.VC.wC(0))?void 0:n.QLt,r=this.na.JLt,e=0,u=this.VC.mC;e<u.length;e++){var s=u[e];if(s.$Lt===r){i=s.QLt;break}}this.tBt(i)}else this.tBt(void 0)}},{key:"BC",get:function(){if(this.Rt)for(var t=this.na.eBt,n=0,i=this.VC.mC;n<i.length;n++){var r=i[n];if(Zz(t,r.QLt))return r}}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"o",get:function(){return this.eF.toString()}},{key:"OC",get:function(){return this.eF}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"gs",get:function(){return this.VA}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"WC",get:function(){return this.Lct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.BC?IB(n.BC):void 0;return Kn.Ys.Np(i,IB(t))})).filter((function(i){return n.VC.JO(t)&&i.Lst})):i=this.VC.mC.filter((function(t){return t.Lst}));if(0!==i.length){if(!(t===this.Lct||this.Lct&&rr(this.Lct,i))){if(this.Lct=t?i:void 0,this.na.iBt(i.map((function(t){return t.$Lt}))),1===i.length){var r=i[0].$Lt,e=this.Zp===aw.yE,u=this.XH.vQ;xr(this.na.sBt(r,{nBt:!0,rBt:u&&e,oBt:u&&!e}))}this._o(new kB(i,this))}}else this._o(new EB)}}]),n}(la),Gz=function(t){function n(n,i,r,e){return t.call(this,aw.wE,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.jLt=function(){return this.na.dBt},i.tBt=function(t){xr(this.na.fBt(t))},Nt(n,[{key:"Lt",get:function(){return QG.lDt}}]),n}(Xz),Hz=function(t){function n(n,i,r,e){return t.call(this,aw.yE,n,i,r,e)||this}It(n,t);var i=n.prototype;return i.jLt=function(){return this.na._Bt},i.tBt=function(t){xr(this.na.vBt(t))},Nt(n,[{key:"Lt",get:function(){return $G.lDt}}]),n}(Xz),zz=function(t){function n(n,i){var r;return(r=t.call(this)||this).$Lt=n,r.QLt=i,r.iF="",r.Lst=!0,r}It(n,t);var i=n.prototype;return i.LW=function(){},i.MW=function(){},i.yn=function(){this.Ro()},Nt(n,[{key:"o",get:function(){return String(this.$Lt.o)}},{key:"OC",get:function(){return this.$Lt.o}},{key:"jG",get:function(){return this.$Lt.jG}},{key:"Tyt",get:function(){return this.$Lt.Tyt}},{key:"Ch",get:function(){var t;return null!=(t=this.iF)?t:this.QLt.l},set:function(t){this.Ch!==t&&(this.iF=t,this._o(new hU(this.wa)))}},{key:"Iyt",get:function(){return this.QLt.ULt.gBt()}},{key:"kyt",get:function(){return this.$Lt.kyt}}]),n}(la),Yz=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r}return It(n,t),n.prototype.ka=function(){return cU(this)},Nt(n,[{key:"Swt",get:function(){return 0}},{key:"Frt",get:function(){var t;return(null==(t=this.$Lt.Frt)?void 0:t.UPt)||""}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(zz),jz=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r.mBt=0,r.RPt=void 0,r}return It(n,t),n.prototype.ka=function(){return aU(this)},Nt(n,[{key:"Frt",get:function(){var t;return(null==(t=this.$Lt.Frt)?void 0:t.ZPt)||""}},{key:"Eyt",get:function(){return this.mBt},set:function(t){this.mBt!==t&&(this.mBt=t,this._o(new hU(this.wa)))}},{key:"Xdt",get:function(){var t,n;return null!=(n=null!=(t=this.RPt)?t:this.$Lt.Xdt)?n:0},set:function(t){this.Xdt!==t&&(this.RPt=t,this._o(new hU(this.wa)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.$Lt.CPt)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.$Lt.CPt)?void 0:t.ji)?n:0}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(zz);function Kz(t){return"public.accessibility.describes-video"===t?nw.LC:"public.accessibility.transcribes-spoken-dialog"===t?nw.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?nw.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?nw.MC:void 0}F(),Tt(),F(),Tt(),qt();var qz=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.pBt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.wBt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pBt(t)&&(e=Kn).hw.apply(e,["DEBUG "+t+" -"].concat(Kt(i)))},n.zN=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pBt(t)&&(e=Kn).hw.apply(e,["INFO "+t+" -"].concat(Kt(i)))},n.yBt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pBt(t)&&(e=Kn).aw.apply(e,["WARNING "+t+" -"].concat(Kt(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pBt(t)&&(e=Kn).uw.apply(e,["ERROR "+t+" -"].concat(Kt(i)))},n.bBt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pBt(t)&&(e=Kn).uw.apply(e,["FATAL "+t+" -"].concat(Kt(i)))},t}(),Jz=new qz,Qz="HLSPlaylistParser",$z="Discontinuity",tY="Buffering",nY=function(){function t(t,n,i,r){this.na=t,this.XH=n,this.kBt=i,this.EBt=r}var n=t.prototype;return n.Jdt=function(){var t,n=null==(t=this.na.Nr)?void 0:t.ABt;if(n&&0!==n.length){for(var i,r=null!=(i=Hi(n,(function(t){return 0!==t.SBt.length&&0!==t.TBt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.SBt;u<s.length;u++){var o=s[u],a=new yw,c=[];a.QO(new Yz(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,d=f.SBt;v<d.length;v++){var l=d[v];if(Vz(l,o)&&!Zz(c,l)){a.QO(new Yz(f,l)),c.push(l);break}}this.kBt.tt(new Gz(this.na,this.XH,this.kBt,a))}for(var g=0,w=r.TBt;g<w.length;g++){var m=w[g],y=new yw,p=[];y.QO(new jz(r,m)),p.push(m);for(var _=0;_<e.length;_++)for(var b=e[_],k=0,A=b.TBt;k<A.length;k++){var T=A[k];if(Vz(T,m)&&!Zz(p,T)){y.QO(new jz(b,T)),p.push(T);break}}this.EBt.tt(new Hz(this.na,this.XH,this.EBt,y))}}else Jz.yBt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.xBt=function(){this.IBt(this.kBt),this.IBt(this.EBt)},n.IBt=function(t){for(var n=[],i=0,r=t.mC;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.VC.mC;s<o.length;s++){var a=o[s];tr(a.$Lt.RBt,a.QLt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.VC.rT(h),h.yn()}0===e.VC.V&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.yn()}},n.CBt=function(t,n){var i=this.PBt(t);void 0!==i&&(i.Xdt=n)},n.DBt=function(t,n){var i=this.PBt(t);void 0!==i&&(i.Eyt=n)},n.PBt=function(t){for(var n=0,i=this.EBt.mC;n<i.length;n++){var r=i[n],e=Hi(r.VC.mC,(function(n){return n.QLt===t}));if(void 0!==e)return e}},t}();F(),Tt(),Dt();var iY=function(){function t(t){var n=t.jG>0?t.jG:iG.out,i=t.QG>0?t.QG:YX.out;this.uut=new iG(iG.DRt,iG.NRt,1,n),this.nCt=new YX(YX.DRt,YX.NRt,i)}var n=t.prototype;return n.JG=function(t){if("segment"===t.zw||"preload-hint"===t.zw){var n=[new KX(this.nCt)];return"stream"!==t.tE||!function(t){return"segment"===t.zw&&"initialization-segment"!==t.CE}(t)&&"preload-hint"!==t.zw?n.push(new qX(this.uut)):n.push(new JX(this.uut,1e3)),new jX(n)}},n.JRt=function(t){this.uut=new iG(iG.DRt,iG.NRt,1,t)},Nt(t,[{key:"jG",get:function(){return this.uut.zit}},{key:"QG",get:function(){return this.nCt.zit}}]),t}();F(),Tt(),Rt();var rY=function(t){function n(n){var i;return(i=t.call(this,Oz.VLt)||this).lt=n,i}return It(n,t),n}(ma);F(),Tt();var eY=function(){function t(t){this.Dst=t}return t.prototype.l$=function(t,n){var i={zw:Cp.qW,CZ:[],J4:t.map((function(t){return{Fk:t}})),u5:n};return et.resolve(void 0!==this.Dst.l$([i]))},t}();F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var uY=function(t,n,i,r,e){return t.filter((function(t){return!!tr(r,t)||1.1*t.jG<=i.jG}))},sY=function(t,n,i,r,e){return t.filter((function(t){if(tr(r,t))return!0;for(var u=1/0,s=0,o=t.RBt;s<o.length;s++){var a,c,h=o[s];u=k.min(u,null!=(c=null!=(a=h.ULt.NBt)?a:h.ULt.MBt)?c:1/0)}u===1/0&&(u=1);var f=2*i.QG+t.jG*u/i.jG;return t.jG<=n.jG||e.LBt>f}))},oY=function(t,n,i,r,e){return Si(t,(function(t,n){return n.jG-t.jG}))},aY=function(t,n,i,r,e){return t.every((function(t){return t.kyt&&!S(t.kyt)}))?Si(t,(function(t,n){return n.kyt-t.kyt})):t},cY=function(t,n,i,r,e){return 0===r.length?t:Si(t,(function(t,n){var i=tr(r,t)?1:0;return(tr(r,n)?1:0)-i}))},hY=function(t,n,i,r,e,u){return t.filter((function(t){return!t.Frt||!n.Frt||!(void 0!==n.Frt.ZPt&&void 0!==t.Frt.ZPt&&!vN(n.Frt.ZPt,t.Frt.ZPt)&&!u.BBt({Fk:'video/mp4; codecs="'+t.Frt.ZPt+'"'}))&&!(void 0!==n.Frt.UPt&&void 0!==t.Frt.UPt&&!vN(n.Frt.UPt,t.Frt.UPt)&&!u.OBt({Fk:'audio/mp4; codecs="'+t.Frt.UPt+'"'}))}))},fY=function(t,n,i,r,e){if(!1===e.glt)return t;if(Kn.Ys.gp)return t;for(var u,s,o=Kn.Ys.mp,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*hB,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*hB,h=0;h<t.length;h++){var f=t[h];if(void 0===f.CPt)return t;var v=f.CPt.Ti,d=f.CPt.ji;if(v<=c&&d<=a)return t.slice(h,t.length)}return[]},vY=function(t,n,i,r,e){return function(t,n){var i=n.glt;if(void 0===i&&!Kn.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.CPt)return t;var u=e.CPt.Ti,s=e.CPt.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var dY="AbrEvaluator",lY=function(){function t(t){this.XH=t,this.g_=[hY,uY,sY,oY,fY,vY,aY,cY]}var n=t.prototype;return n.VBt=function(t){this.g_=t},n.WBt=function(t,n,i,r,e){var u=this;return Pt((function(){return Ot(this,(function(s){switch(s.label){case 0:return[4,u.UBt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.UBt=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new p("AbrEvaluator - Unable to select optimal variant stream from an empty list.");Jz.wBt(dY,"Performing optimal variant stream selection."),s=u.FBt,o=t,a=0,c=u.g_,v.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),qn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=v.sent(),v.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(Jz.yBt(dY,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[ur(t,(function(t){return t.jG}))]]):[2,o]}}))}))()},Nt(t,[{key:"FBt",get:function(){return this.XH.Zj}}]),t}();function gY(t,n){return[t,void 0!==n?t+n-1:Ci]}function wY(t){return Boolean(t.LN)}function mY(t){return Boolean(t.xct)}F(),Tt(),Dt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),nn(),F(),Tt(),F(),Tt();var yY=function(t){return t[t.wE=0]="wE",t[t.yE=1]="yE",t[t.TW=2]="TW",t[t.GBt=3]="GBt",t}({}),pY=function(t){return t[t.ZBt=0]="ZBt",t[t.HBt=1]="HBt",t}({}),_Y=function(t){return t[t.xH=0]="xH",t[t.XBt=1]="XBt",t[t.zBt=2]="zBt",t}({}),bY=function(t){return t[t.oE=0]="oE",t[t.qBt=1]="qBt",t[t.YBt=2]="YBt",t}({});function kY(t){return t?t.oAt?t.Fx+"@"+t.oAt.Sn+"-"+(null!=(n=t.oAt.V)?n:""):""+t.Fx:"";var n}function AY(t,n){if(n===t)return!0;if(n.Fx!==t.Fx)return!1;if(!t.oAt)return!0;if(n.oAt){var i=gY(t.oAt.Sn,t.oAt.V),r=gY(n.oAt.Sn,n.oAt.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function TY(t,n){return t===n||t.Fx===n.Fx&&(t.oAt&&n.oAt?t.oAt.Sn===n.oAt.Sn&&t.oAt.V===n.oAt.V:t.oAt===n.oAt)}function SY(t){var n=!!t.KBt||void 0;return{o:t.o,jBt:t.jBt,EZ:t.EZ,QBt:t.QBt,ct:t.ct,JBt:t.JBt,KBt:n,$Bt:t.tOt,eOt:t.iOt,sOt:t.sOt,nOt:t.nOt}}function EY(t,n){var i,r,e;return{UPt:null!=(i=n.UPt)?i:null==t?void 0:t.UPt,ZPt:null!=(r=n.ZPt)?r:null==t?void 0:t.ZPt,rOt:null!=(e=n.rOt)?e:null==t?void 0:t.rOt}}function IY(t,n,i,r,e){return RY.apply(this,arguments)}function RY(){return RY=Pt((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,d,l,g;return Ot(this,(function(w){switch(w.label){case 0:return u=n.filter((function(t){return Jo(t,"audio")})),s=n.filter((function(t){return Jo(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return CY.apply(this,arguments)}(t,r,e)})),[4,et.all(a)];case 1:for(c=w.sent().filter(Yn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t._T.jw);return i>=0?i:n.length};return Si(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)d=f[v],l=gZ(null!=t?t:{},d._T),g="cbcs",o.push({_T:d._T,sZ:d.sZ,nZ:d.nZ,lG:d.lG,eH:[{initDataTypes:[d._T.Yw],audioCapabilities:wZ(u,g,null==l?void 0:l.audioRobustness),videoCapabilities:wZ(s,g,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}],rZ:d.rZ});return[2,o]}}))})),RY.apply(this,arguments)}function CY(){return CY=Pt((function(t,n,i){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return t.Iyt&&t.oOt?t.EE!==_Y.zBt?[2]:(r=NY(t.oOt))?r.jw!==Oo?[3,1]:[2,{_T:r,sZ:[],nZ:void 0,lG:t.Iyt,rZ:[]}]:[2]:[2];case 1:return r.jw!==Do||t.oOt!==Fo?[3,2]:[2,{_T:r,sZ:[],nZ:t.Iyt,lG:void 0,rZ:[]}];case 2:return Jz.zN("HLSDrmUtils","Fetching key uri "+t.Iyt+"."),[4,n.eE({Xu:t.Iyt,DE:i})];case 3:return[4,u.sent().Bk()];case 4:return e=u.sent(),r.jw===So&&(e=function(t){var n=new DataView(t);return n.byteLength>=8&&n.getUint32(4)===EF?t:IF(t)}(e)),[2,{_T:r,sZ:[e],nZ:void 0,lG:void 0,rZ:[]}];case 5:return[2]}}))})),CY.apply(this,arguments)}function NY(t){return t===Ro?Zo:t===Eo?Wo:t===Vo?Go:t===Fo?Ho:void 0}function DY(t){if("#"!==t[0])throw new p("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function xY(t){return"#"!==t[0]?t:t.split(":",1)[0]}function PY(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new p("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function LY(t){var n=FY(PY(t));if(void 0===n)throw new p("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function MY(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:Jz.yBt(Qz,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function OY(t,n){var i,r,e=MY(t);try{i=e.URI?Kn.Ew(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return yY.wE;case"VIDEO":return yY.yE;case"SUBTITLES":return yY.TW;case"CLOSED-CAPTIONS":return yY.GBt}throw new p("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],d=e.CHARACTERISTICS,l=e.CHANNELS;if(u||Jz.yBt(Qz,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||Jz.yBt(Qz,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||Jz.yBt(Qz,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===yY.GBt?(i&&Jz.yBt(Qz,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||Jz.yBt(Qz,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):Jz.yBt(Qz,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&Jz.yBt(Qz,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&Jz.yBt(Qz,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==yY.TW&&Jz.yBt(Qz,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new p("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{hOt:o,xPt:l,YLt:d,XLt:u,ZLt:h,GLt:c,HLt:f,zLt:v,gs:s,l:a,zw:r,Iyt:i}}function BY(t,n,i){var r,e,u,s=MY(t);try{r=Kn.Ew(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(S(i)||S(r))throw new p("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Qo(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Qo(s,"avc")||Qo(s,"hvc1")||Qo(s,"hev1")||Qo(s,"dvh")||Qo(s,"vp09")||Qo(s,"av01")?i=s:r=r?r+","+s:s}return{UPt:n,ZPt:i,rOt:r}}(s.CODECS)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=FY(s.BANDWIDTH),a=FY(s["AVERAGE-BANDWIDTH"]),c=FY(s.SCORE),h=FY(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],v=[];if(void 0!==s["ALLOWED-CPC"]){var d,l=s["ALLOWED-CPC"].split(",");(d=v).push.apply(d,Kt(l.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],w=s.AUDIO,m=s.VIDEO,y=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?Jz.yBt(Qz,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&Jz.yBt(Qz,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||Jz.zN(Qz,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.ZPt&&void 0===u&&Jz.zN(Qz,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||tr(["TYPE-0","TYPE-1","NONE"],f)||Jz.yBt(Qz,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||tr(["SDR","PQ","HLG"],g)||Jz.yBt(Qz,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new p("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{aOt:v,uOt:w,Tyt:a,jG:o,cOt:_,Frt:e,Xdt:h,lOt:f,CPt:u,kyt:c,dOt:y,Iyt:r,fOt:m,_Ot:g}}function VY(t,n){var i=MY(t);if(!i.URI)throw new p("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return BY(t,n,i.URI)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function FY(t){var n=Number(t);return S(n)?void 0:n}function UY(t,n){var i,r,e=MY(t);try{i=function(t){switch(t){case"NONE":return _Y.xH;case"AES-128":return _Y.XBt;case"SAMPLE-AES":return _Y.zBt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new p("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?jY(e.URI,n):void 0}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==_Y.xH){if(o=h||Fo,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(NY(o)!==Zo)throw new p("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=_Y.zBt}else u=i;s=r,a=f?Wc(f):void 0,c=v?v.split("/").map((function(t){return Number(t)})):[1]}else u=_Y.xH,(r||h||v||f)&&Jz.yBt(Qz,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{EE:u,Iyt:s,vOt:a,oOt:o,gOt:c}}function WY(t){var n=PY(t);if(!n)return[void 0,""];var i=tn(n.split(","),2),r=i[0],e=i[1];return[FY(r),e]}function ZY(t,n){var i=t.split("@"),r=FY(i[0]),e=i.length>1?FY(i[1]):n;if(void 0===r||void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Sn:e,V:r}}function XY(t){if(void 0!==t)return ZY(t,void 0)}function GY(t,n){return ZY(PY(t),n)}function HY(t,n){var i=MY(t);try{return{Fx:jY(i.URI,n),oAt:XY(i.BYTERANGE)}}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function zY(t){var n=PY(t);if(!n)throw new p("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n.trim());if(!be(i))throw new p("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function YY(t){var n,i,r,e=MY(t),u=e["START-DATE"],s=e["END-DATE"],o=FY(e["PLANNED-DURATION"]),a=FY(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Wc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Wc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Wc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n={},i=0,r=b.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Qo(e,"X-")&&(n[e]=u)}return n}(e),d=e.ID,l=e.CLASS;if(void 0===u)Jz.yBt(Qz,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,be(c)||Jz.yBt(Qz,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(Jz.yBt(Qz,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||Jz.yBt(Qz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&Jz.yBt(Qz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&Jz.yBt(Qz,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&Jz.yBt(Qz,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===c)throw new p("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:d,jBt:l,EZ:c,QBt:h,ct:a,JBt:o,iOt:n,nOt:i,sOt:r,KBt:f,tOt:v}}function jY(t,n){if(void 0===t)throw new p("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return Kn.Ew(t,n)}function KY(t,n){var i=MY(t),r=FY(i.DURATION),e=jY(i.URI,n),u=XY(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new p("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Iyt:{Fx:e,oAt:u},mOt:s,pOt:o}}function qY(t){var n=MY(t);return{wOt:"YES"===n["CAN-BLOCK-RELOAD"],yOt:FY(n["CAN-SKIP-UNTIL"]),bOt:"YES"===n["CAN-SKIP-DATERANGES"],AOt:FY(n["HOLD-BACK"]),SOt:FY(n["PART-HOLD-BACK"])}}function JY(t,n){var i=MY(t);if(void 0===i.URI)throw new p("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=jY(i.URI,n),e=FY(i["LAST-MSN"]),u=FY(i["LAST-PART"]);if(void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Iyt:r,TOt:e,kOt:u}}function QY(t,n){var i,r=MY(t),e=FY(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new p("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{EOt:e,xOt:u,IOt:n}}function $Y(t){var n=FY(MY(t)["PART-TARGET"]);if(void 0===n)throw new p("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function tj(t){switch(PY(t)){case"VOD":return bY.qBt;case"EVENT":return bY.YBt;default:return Jz.yBt(Qz,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),bY.oE}}function nj(t,n){var i,r,e=MY(t);try{i=function(t){if(void 0===t)throw new p("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return pY.ZBt;if("PART"===t)return pY.HBt;throw new p("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=jY(e.URI,n)}catch(n){throw new p("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=FY(e["BYTERANGE-START"]),o=FY(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Sn:s||0,V:o}),{zw:i,Iyt:{Fx:r,oAt:u}}}F(),Tt(),nn(),qt(),F(),Tt(),Mt(),Wt(),F(),Tt();var ij=function(){function t(n){this.POt=0,this.COt=t.NOt(n)}var n=t.prototype;return n.ROt=function(){var t=this.COt[this.POt];return this.POt+=1,t},n.DOt=function(){return this.COt[this.POt]},n.Nb=function(){var n=new t("");return n.POt=0,n.COt=this.COt.slice(this.POt),n},t.NOt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function rj(t,n,i){var r=t.Iyt,e=t.aN,u=t.MOt,s=t.Sn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=LY(t);return S(n)?(Jz.yBt(Qz,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=MY(t),i=FY(n["TIME-OFFSET"]);if(void 0===i)throw new p("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{LOt:i,BOt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":Jz.yBt(Qz,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:Jz.zN(Qz,"Ignoring unrecognized line or comment: "+n+".")}return{Iyt:r,aN:e,MOt:u,Sn:s}}function ej(t,n){return t.map((function(t){return t.EE===_Y.xH||t.vOt?t:ao({},t,{vOt:uj(n)})}))}function uj(t){var n=new DataView(new ArrayBuffer(16)),i=new Uc;return i.Pb(8),hc(n,i,pe.fromNumber(t)),new E(n.buffer)}function sj(t,n,i){Jz.zN(Qz,"Parsing M3U8 playlist at "+t+".");var r=new ij(i);if("#EXTM3U"!==r.ROt())throw new p("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=Kn.Ew(t)}catch(n){throw Jz.yBt(Qz,"The master playlist has no valid base URI: "+t+"."),new p("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Iyt:i,MOt:void 0,Sn:void 0,aN:void 0},e=[],u=[],s=[],o=[];;){var a=n.ROt();if(!a)break;try{var c=DY(a);switch(c){case"#EXT-X-MEDIA":var h=OY(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=BY(a,i,n.ROt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=VY(a,i);s.push(v);break;case"#EXT-X-SESSION-DATA":Jz.yBt(Qz,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=UY(a,i);o.push(d);break;default:r=rj(r,a,c)}}catch(t){Jz.yBt(Qz,"Ignoring unparsable line: "+a,t)}}var l,g=r.aN,w=null!=(l=r.MOt)&&l,m=r.Sn;return void 0===g&&(Jz.yBt(Qz,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.kyt}))||s.some((function(t){return void 0!==t.kyt})))&&(u.some((function(t){return void 0===t.kyt}))||s.some((function(t){return void 0===t.kyt})))&&Jz.yBt(Qz,"If one master playlist variant stream has a SCORE, all variants should have it."),{Iyt:i,aN:g,MOt:w,Sn:m,OOt:s,rZ:o,LN:e,FOt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,k={Iyt:t,MOt:void 0,Sn:void 0,aN:void 0},A=[],T=!1,S=!1,E=[],I=ho(),R=[],C=[],N=!1,D=!1,x=[],P=[],L=0,M=!1,O=bY.oE,B=!1,V=0;try{b=Kn.Ew(t)}catch(n){throw Jz.yBt(Qz,"The media playlist has no valid base URI: "+t+".",n),new p("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=i.Nb();void 0===m||void 0===y;){var U=F.ROt();if(!U)break;try{switch(xY(U)){case"#EXT-X-MEDIA-SEQUENCE":m=LY(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":y=LY(U)}}catch(t){Jz.yBt(Qz,"Ignoring unparsable line: "+U,t)}}void 0===m&&(Jz.zN(Qz,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===y&&(Jz.zN(Qz,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),y=0);for(var W=m,Z=y;;){var X=i.ROt();if(!X)break;var G=!1;try{var H=xY(X);switch(H){case"#EXTINF":var z;G=!0,o=(z=tn(WY(X),2))[0],a=z[1];break;case"#EXT-X-BYTERANGE":G=!0,(c=GY(X,L))&&(L=c.Sn+c.V);break;case"#EXT-X-DISCONTINUITY":G=!0,N=!0,Z++;break;case"#EXT-X-KEY":var Y;G=!0;var j,K=UY(X,b);if(K.EE===_Y.xH){I.clear(),g=void 0;break}var q=null!=(j=null==(Y=K.oOt)?void 0:Y.toString())?j:"identity";I.set(q,K),K.EE===_Y.XBt&&(g=K);break;case"#EXT-X-MAP":G=!0,f=HY(X,b),v=g;break;case"#EXT-X-PROGRAM-DATE-TIME":G=!0,d=zY(X);break;case"#EXT-X-GAP":G=!0,D=!0;break;case"#EXT-X-BITRATE":G=!0,l=LY(X);break;case"#EXT-X-TARGETDURATION":r=LY(X);break;case"#EXT-X-DATERANGE":var J=YY(X);A.push(J);break;case"#EXT-X-PART":G=!0;var Q=KY(X,b);C.push(Q);break;case"#EXT-X-PRELOAD-HINT":var $=nj(X,b);x.push($);break;case"#EXT-X-SKIP":E.length>0&&Jz.yBt(Qz,"#EXT-X-SKIP must appear before any #EXTINF tags."),G=!0;var tt=QY(X,W);V=tt.EOt,_=tt.xOt,W+=tt.EOt;break;case"#EXT-X-SERVER-CONTROL":var nt=qY(X);T=nt.wOt,e=nt.yOt,S=nt.bOt,u=nt.AOt,s=nt.SOt;break;case"#EXT-X-RENDITION-REPORT":var it=JY(X,b);P.push(it);break;case"#EXT-X-PART-INF":w=$Y(X);break;case"#EXT-X-MEDIA-SEQUENCE":G&&Jz.yBt(Qz,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":G&&Jz.yBt(Qz,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":O=tj(X);break;case"#EXT-X-I-FRAMES-ONLY":B=!0;break;default:if(Qo(H,"#"))k=rj(k,X,H);else{h=Kn.Ew(X,b);var rt=f?{Iyt:f,VOt:v}:void 0,et={rZ:ej(lo(I),W),pW:R,WOt:C,ct:o,NZ:a,UOt:N,Iyt:{oAt:c,Fx:h},GOt:rt,ZOt:d,pOt:D,HOt:l,IOt:W,XOt:Z};E.push(et),W++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,h=void 0,d=void 0,D=!1,l=void 0}}}catch(t){Jz.yBt(Qz,"Ignoring unparsable line: "+X,t)}}if(C.length){var ut=f?{Iyt:f,VOt:g}:void 0,st={rZ:ej(lo(I),W),pW:R,WOt:C,ct:o,NZ:a,UOt:N,Iyt:void 0,GOt:ut,ZOt:d,pOt:D,HOt:l,IOt:W,XOt:Z};E.push(st)}var ot,at=k.aN,ct=null!=(ot=k.MOt)&&ot,ht=k.Sn;void 0===at&&(Jz.yBt(Qz,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&Jz.yBt(Qz,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||Jz.yBt(Qz,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].WOt.length>0;return dt&&void 0===w&&Jz.yBt(Qz,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&Jz.yBt(Qz,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{wOt:T,yOt:e,bOt:S,zOt:A,XOt:y,qOt:M,MOt:ct,AOt:u,YOt:B,IOt:m,EOt:V,SOt:s,NBt:w,KOt:O,jOt:x,xOt:_,QOt:P,JOt:r,xct:E,Sn:ht,Iyt:b,$Ot:n,aN:at}}(t,n,r)}F(),Tt(),Dt(),qt(),F(),Tt(),Dt();var oj=function(){function t(t,n,i){var r,e,u,s;this.o=aj++,this.kyt=void 0,this.CPt=void 0,this.Tyt=void 0,this.tFt=!1,this.sFt=[],this.ULt=n,this.jG=t.jG,this.Tyt=t.Tyt,this.kyt=t.kyt,this.eFt=t.Frt?cj(t.Frt):void 0,this.wPt=this.eFt,this.CPt=t.CPt,this.Xdt=t.Xdt,this.uOt=null!=(r=t.uOt)?r:"uFt"+this.o,this.fOt=null!=(e=t.fOt)?e:"cFt"+this.o,this.dOt=null!=(u=t.dOt)?u:"lFt"+this.o,this.cOt=null!=(s=t.cOt)?s:"dFt"+this.o,this.sFt=i}var n=t.prototype;return n.oFt=function(t){for(var n=0,i=this.sFt;n<i.length;n++){var r=i[n].ULt.oFt(t);if(void 0!==r)return r}},n.hFt=function(t){for(var n=0,i=this.sFt;n<i.length;n++){var r=i[n].ULt.hFt(t);if(void 0!==r)return r}},n.aFt=function(t){Ji(this.sFt,t)},Nt(t,[{key:"Iyt",get:function(){return this.ULt.Iyt}},{key:"Frt",get:function(){return this.wPt},set:function(t){this.wPt=t?cj(t):void 0,this.tFt=function(t,n){return!(void 0!==(null==t?void 0:t.UPt)&&void 0===(null==n?void 0:n.UPt)||void 0!==(null==t?void 0:t.ZPt)&&void 0===(null==n?void 0:n.ZPt))}(this.eFt,this.wPt)}},{key:"iFt",get:function(){return this.tFt}},{key:"RBt",get:function(){return this.sFt}},{key:"SBt",get:function(){return this.sFt.filter((function(t){return t.zw===yY.wE}))}},{key:"TBt",get:function(){return this.sFt.filter((function(t){return t.zw===yY.yE}))}},{key:"nFt",get:function(){return this.sFt.filter((function(t){return t.zw===yY.TW}))}},{key:"rFt",get:function(){return this.sFt.filter((function(t){return t.zw===yY.GBt}))}}]),t}(),aj=0;function cj(t){return ao({},t,{ZPt:t.ZPt?qv(t.ZPt):void 0})}F(),Tt(),Dt(),nn(),F(),Tt(),Dt(),F(),Tt(),Dt();var hj=function(){function t(t,n,i,r,e,u){this.$it=void 0,this.pFt=t,this.yFt=n,this.bF=i,this.vFt=r,this.mFt=e,this.ct=u.ct,this.Iyt=u.Iyt,this.mOt=u.mOt,this.pOt=u.pOt}return t.prototype.wFt=function(t,n,i){this.bF=t,this.vFt=n,this.mFt=i},Nt(t,[{key:"lF",get:function(){var t;return this.bF+(null!=(t=this.fFt)?t:0)}},{key:"_Ft",get:function(){return this.vFt}},{key:"gFt",get:function(){return this.mFt}},{key:"rZ",get:function(){return this.pFt.rZ}}]),t}(),fj=function(){function t(t,n,i,r,e){this.$it=void 0,this.Av=[],this.kFt=0,this.bF=t,this.GOt=e.GOt,this.vFt=i,this.mFt=r,this.FA=e.ct,this.ZOt=e.ZOt,this.SFt=e.Iyt,this.pOt=e.pOt,this.IOt=e.IOt,this.UOt=e.UOt,this.XOt=n,this.rZ=e.rZ,this.CFt(e.WOt)}var n=t.prototype;return n.EFt=function(t){return this.Av[t]},n.xFt=function(t){for(var n=0;n<this.Av.length;n++){var i=this.Av[n],r=i.lF,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.Av.length?this.Av[n+1]:i}},n.IFt=function(t){for(var n=this.Av.length-1;n>=0;n--){var i=this.Av[n];if(i.lF<=t)return i}},n.RFt=function(t){for(var n=this.IFt(t);n&&!n.mOt&&n.yFt>0;)n=this.EFt(n.yFt-1);return n},n.wFt=function(t,n,i){var r=t.WOt.length!==this.Av.length||i!==this.mFt;this.vFt=n,this.mFt=i,this.FA=t.ct,null!=this.ZOt||(this.ZOt=t.ZOt),void 0===this.SFt&&(this.SFt=t.Iyt),r&&this.CFt(t.WOt)},n.CFt=function(t){this.Av.length>t.length&&(this.Av.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.vFt&&0===i,u=this.mFt&&i===t.length-1,s=this.bF+n;if(i<this.Av.length)this.Av[i].wFt(s,e,u);else{var o=new hj(this,i,s,e,u,r);o.fFt=this.bFt,this.Av.push(o)}n+=r.ct}this.kFt=n},n.PFt=function(){ir(this.Av),this.kFt=0},Nt(t,[{key:"lF",get:function(){var t;return this.bF+(null!=(t=this.bFt)?t:0)}},{key:"AFt",get:function(){return this.bF}},{key:"ct",get:function(){return this.FA}},{key:"Iyt",get:function(){return this.SFt}},{key:"_Ft",get:function(){return this.vFt}},{key:"gFt",get:function(){return this.mFt}},{key:"WOt",get:function(){return this.Av}},{key:"TFt",get:function(){return this.kFt}},{key:"dF",get:function(){var t;return this.lF+(null!=(t=this.FA)?t:this.kFt)}},{key:"fFt",get:function(){return this.bFt},set:function(t){this.bFt=t;for(var n=0,i=this.Av;n<i.length;n++){i[n].fFt=t}}}]),t}();F(),Tt();var vj=function(t){return t.DFt="YES",t.NFt="v2",t}({});F(),Tt(),Rt();var dj=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n}(pr);F(),Tt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt();var lj=function(t){function n(n,i){var r,e=gj(i,n.ct,n.EZ,n.QBt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).MFt=n.jBt,r.LFt=n.EZ,r.BFt=n.QBt,r.FA=n.ct,r.OFt=n.JBt,r.FFt=Boolean(n.KBt),r.GFt=n.$Bt||{},r.VFt=n.eOt,r.WFt=n.sOt,r.UFt=n.nOt,r.ZFt(),r.HFt(),r}It(n,t);var i=n.prototype;return i.ir=function(t){var n,i=!1;(void 0===this.MFt&&void 0!==t.jBt&&(i=!0,this.MFt=t.jBt),void 0===this.BFt&&void 0!==t.QBt&&(i=!0,this.BFt=t.QBt),void 0===this.FA&&void 0!==t.ct&&(i=!0,this.FA=t.ct),void 0===this.OFt&&void 0!==t.JBt&&(i=!0,this.OFt=t.JBt),!this.FFt&&t.KBt&&(i=!0,this.FFt=t.KBt),i=this.updateCustomAttributes(t,i),void 0===this.VFt&&void 0!==t.eOt&&(i=!0,this.VFt=t.eOt),void 0===this.WFt&&void 0!==t.sOt&&(i=!0,this.WFt=t.sOt),void 0===this.UFt&&void 0!==t.nOt&&(i=!0,this.UFt=t.nOt),this.ZFt(),this.HFt(),this.XFt(),i)&&(this._o(new Kw(this)),null==(n=this.AF)||n._o(new Jw(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.$Bt)for(var r=0,e=b.keys(t.$Bt);r<e.length;r++){var u=e[r];void 0===this.GFt[u]&&(i=!0,this.GFt[u]=t.$Bt[u])}return i},i.ZFt=function(){this.FA&&!this.BFt&&(this.BFt=new Date(this.LFt.getTime()+Te(this.FA)))},i.HFt=function(){this.BFt&&!this.FA&&(this.FA=Ae(this.BFt.getTime()-this.LFt.getTime()))},i.XFt=function(){this.TF===1/0&&(this.BFt||this.FA)&&(this.TF=gj(this.bF,this.FA,this.LFt,this.BFt))},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Ug(zw(t),{get content(){return t.U},get class(){return t.jBt},get startDate(){return t.EZ},get endDate(){return t.QBt},get duration(){return t.ct},get plannedDuration(){return t.JBt},get endOnNext(){return t.KBt},get scte35Cmd(){return t.eOt},get scte35Out(){return t.sOt},get scte35In(){return t.nOt},get customAttributes(){return t.$Bt}})}(this)),this.eu}},{key:"jBt",get:function(){return this.MFt}},{key:"EZ",get:function(){return this.LFt}},{key:"QBt",get:function(){return this.BFt}},{key:"ct",get:function(){return this.FA}},{key:"JBt",get:function(){return this.OFt}},{key:"KBt",get:function(){return this.FFt}},{key:"eOt",get:function(){return this.VFt}},{key:"sOt",get:function(){return this.WFt}},{key:"nOt",get:function(){return this.UFt}},{key:"$Bt",get:function(){return this.GFt}}]),n}(nm);function gj(t,n,i,r){return Yn(n)?t+n:r?t+(Ae(r.getTime())-Ae(i.getTime())):1/0}var wj=function(t){function n(){return t.call(this,void 0,void 0,Ow.DATE_RANGE)||this}It(n,t);var i=n.prototype;return i.ir=function(t,n){mj(this,yj(t),n)},i.UW=function(n){pj(this.L.mC,n),t.prototype.UW.call(this,n)},n}(vx);function mj(t,n,i){for(var r=function(i){var r=e[i],u=Hi(n,(function(t){return t.o===r.o}));u?r.ir(u):t.RW(r)},e=t.L.mC,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.EZ;if(void 0!==a&&!t.M5(o.o)){var c=i(a),h=new lj(o,c);pj(t.L.mC,h),t.UW(h)}}}function yj(t){for(var n=ho(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=ao({},u,Gg(e),{$Bt:ao({},u.$Bt,e.$Bt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function pj(t,n){var i=Yi(t,(function(t){return t.jBt===n.jBt}));i&&i.KBt&&i.ir({o:i.o,QBt:n.EZ})}var _j=String.fromCharCode(95),bj=_j+"HLS_msn",kj=_j+"HLS_part",Aj=_j+"HLS_skip",Tj="HLSMediaPlaylist",Sj=function(){function t(t,n,i){this.oVt=void 0,this.aVt=void 0,this.wVt=void 0,this.yVt=void 0,this.YFt=void 0,this.KFt=void 0,this.jFt=void 0,this.QFt=void 0,this.Obt=[],this.uVt=[],this.JFt=!1,this.$Ft=void 0,this.tVt=!1,this.eVt=bY.oE,this.j4=FA.WB(),this.qFt=FA.WB(),this.FA=void 0,this.lVt=-1/0,this.fVt=void 0,this.Iyt=t,this.bW=n,this.xVt=i}var n=t.prototype;return n.gBt=function(t){if(!t)return this.Iyt;var n=Kn.Bh(this.Iyt);return void 0!==t.IOt&&n.searchParams.append(bj,String(t.IOt)),void 0!==t._Vt&&n.searchParams.append(kj,String(t._Vt)),void 0!==t.zD&&n.searchParams.append(Aj,t.zD),n.href},n.Hat=function(t){var n=this.vVt(t);return n<0?void 0:this.Obt[n]},n.vVt=function(t){var n=this.Obt;if(0===n.length)return-1;var i=t-n[0].IOt;return i<0||i>=n.length?-1:i},n.gVt=function(t){if(0!==this.Obt.length){var n=_U(Ej.Vm,this.Obt,t);if(!(n<0)){var i=this.Obt[n];return t===i.dF&&n+1<this.Obt.length?this.Obt[n+1]:i}var r=this.Obt[this.Obt.length-1];return t===r.dF?r:void 0}},n.mVt=function(t){if(0!==this.Obt.length){var n=this.Obt[0];if(t<n.dF)return n;var i=this.Obt[this.Obt.length-1];return t>=i.lF?i:this.gVt(t)}},n.oFt=function(t){var n=this.mVt(t);if(void 0!==n)for(var i=n.IOt-this.Obt[0].IOt;i>=0;i--){var r=this.Obt[i];if(void 0!==r.ZOt)return new Date(r.ZOt.getTime()+1e3*(t-r.lF))}},n.hFt=function(t){for(var n,i=0,r=this.Obt;i<r.length;i++){var e=r[i];if(Ij(e))if(void 0===n)n=e;else{if(!(e.ZOt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.lF+(t.getTime()-n.ZOt.getTime())/1e3},n.pVt=function(t){switch(t){case pY.ZBt:return this.wVt;case pY.HBt:return this.yVt;default:return}},n.wFt=function(t){var n;void 0===this.YFt&&(this.YFt=null!=(n=t.JOt)?n:this.bVt(t));void 0===this.jFt&&void 0!==t.AOt&&(this.jFt=t.AOt),void 0===this.KFt&&void 0!==t.NBt&&(this.KFt=t.NBt),void 0===this.QFt&&void 0!==t.SOt&&(this.QFt=t.SOt),this.JFt=t.wOt,this.$Ft=t.yOt,this.tVt=t.bOt,this.eVt=t.KOt,this.Ubt(t),this.AVt(t);var i=Hi(t.jOt,(function(t){return t.zw===pY.ZBt})),r=Hi(t.jOt,(function(t){return t.zw===pY.HBt}));this.wVt=i?{Iyt:i.Iyt,zw:i.zw,XOt:t.XOt}:void 0,this.yVt=r?{Iyt:r.Iyt,zw:r.zw,XOt:t.XOt}:void 0,this.oVt=Kn.Wm()/1e3;var e=this.j4.Tn(this.j4.V-1);this.SVt();var u=this.j4.Tn(this.j4.V-1);(!this.aVt||u-e>0)&&(this.aVt=this.oVt),null!=this.bW||(this.bW=t.Sn)},n.SVt=function(){this.qFt=this.TVt(),this.j4=this.kVt(this.qFt),this.FA=this.EVt()},n.TVt=function(){var t=this.xct;if(0===t.length)return FA.WB();var n=t[0].lF,i=t[t.length-1].dF;return new FA([n,i])},n.kVt=function(t){if(0===t.V||this.qOt)return t;var n=t.Sn(0),i=t.Tn(0)-this.MSt;return i<n?FA.FB(n):new FA([n,i])},n.EVt=function(){return 0===this.Obt.length?0:this.qOt?Vi(this.Obt,(function(t){var n;return null!=(n=t.ct)?n:t.TFt})):1/0},n.bVt=function(t){for(var n,i=0,r=t.xct;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=k.max(1,k.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new p("HLSModel - Could not determine required segment target duration.");return n},n.Ubt=function(t){if(0===t.xct.length)return ir(this.Obt),void this.IVt();var n=this.RVt(t);if(n){var i,r,e;n.CVt>0&&this.Obt.splice(0,n.CVt);var u=t.EOt;if(u>0){if(u>this.Obt.length)throw new dj("New playlist skips over missing segments.");var s=this.Obt[u-1];if(void 0===s.ct)throw new dj("New playlist skips over an incomplete segment.");i=s.AFt+s.ct,e=s.XOt-t.XOt,r=u;for(var o=0;o<u;o++)this.Obt[o].PFt()}else i=n.PVt,e=0,r=0;for(var a=0;a<t.xct.length;a++,r++){var c=t.xct[a],h=0===a,f=t.qOt&&a===t.xct.length-1,v=c.ct,d=c.XOt+e;if(r<this.Obt.length){var l=this.Obt[r];0,l.wFt(c,h,f)}else{var g=c;if(this.Obt.length>0&&void 0===g.GOt)g=ao({},g,{GOt:this.Obt[this.Obt.length-1].GOt});var w=new fj(i,d,h,f,g);w.fFt=this.bFt,this.Obt.push(w)}void 0!==v&&(i+=v)}}},n.RVt=function(t){if(0===this.Obt.length)return{CVt:0,PVt:0};var n=this.Obt[0].IOt,i=this.Obt[this.Obt.length-1].IOt,r=t.xct[0].IOt-t.EOt,e=t.xct[t.xct.length-1].IOt,u=0,s=0;if(r<n){var o=this.xct[0].ZOt,a=t.xct[0].ZOt;if(!(o&&a&&o<a))return void Jz.yBt(Tj,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.Obt.length,this.IVt()}else{if(e<i)return void Jz.yBt(Tj,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=Yi(t,(function(t){return void 0!==t.ZOt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.UOt)return;if(e.ZOt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.xct);if(void 0===r)return;var e=tn(r,2),u=e[0],s=e[1];if(i.XOt!==u.XOt)return;var o=(u.ZOt.getTime()-i.ZOt.getTime())/1e3;return i.AFt+o-s}(this.Obt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:k.max(i,e.TFt),s=i*(n-e.IOt-1);return e.AFt+u+s}(this.Obt,r,this.YFt),Jz.wBt(Tj,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.Obt.length,this.IVt()}else{0;var h=ji(this.Obt,(function(t){return t.IOt===r}));0,s=this.Obt[h].AFt,h>0&&(u=h)}}return{CVt:u,PVt:s}},n.AVt=function(t){var n=t.zOt.map(SY);if(t.bOt&&t.$Ot.zD===vj.NFt&&(n=this.uVt.concat(n)),this.uVt=yj(n),t.xOt)for(var i,r=function(t,n){var r=n[t],e=ji(i.uVt,(function(t){return t.o===r}));e>=0&&Qi(i.uVt,e)},e=0,u=t.xOt;e<u.length;e++)i=this,r(e,u)},n.DVt=function(t,n){if(this.bFt!==t){this.bFt=t;for(var i=0,r=this.Obt;i<r.length;i++){r[i].fFt=this.bFt}this.SVt()}this.fVt=n},n.IVt=function(){this.bFt=void 0,this.fVt=void 0},Nt(t,[{key:"qOt",get:function(){return 0!==this.Obt.length&&this.Obt[this.Obt.length-1].gFt}},{key:"ct",get:function(){return this.FA}},{key:"cR",get:function(){return this.j4}},{key:"zFt",get:function(){return this.qFt}},{key:"MBt",get:function(){return this.YFt}},{key:"NBt",get:function(){return this.KFt}},{key:"AOt",get:function(){return this.qOt?0:this.jFt?this.jFt:this.YFt?3*this.YFt:void 0}},{key:"SOt",get:function(){var t;return null!=(t=this.QFt)?t:this.KFt?3*this.KFt:void 0}},{key:"wOt",get:function(){return this.JFt}},{key:"yOt",get:function(){return this.$Ft}},{key:"bOt",get:function(){return this.tVt}},{key:"KOt",get:function(){return this.eVt}},{key:"iVt",get:function(){return void 0!==this.NBt}},{key:"sVt",get:function(){if(this.qOt)return!0;var t=Kn.Wm()/1e3,n=this.nVt,i=this.rVt;return void 0!==n&&t-n<i}},{key:"nVt",get:function(){return this.oVt}},{key:"hVt",get:function(){if(this.aVt)return Kn.Wm()/1e3-this.aVt}},{key:"fFt",get:function(){return this.bFt}},{key:"rVt",get:function(){var t;return null!=(t=this.YFt)?t:void 0===this.oVt?5:1}},{key:"xct",get:function(){return this.Obt}},{key:"zOt",get:function(){return this.uVt}},{key:"cVt",get:function(){return this.lVt},set:function(t){this.lVt=t}},{key:"Sn",get:function(){return this.bW}},{key:"dVt",get:function(){return this.fVt}},{key:"MSt",get:function(){return this.qOt?0:null!=(i=null!=(n=null!=(t=this.xVt)?t:this.SOt)?n:this.AOt)?i:0;var t,n,i}}]),t}(),Ej=function(){function t(){}var n=t.prototype;return n.Dbt=function(t){return t.lF},n.Nbt=function(t){return t.dF},n.Mbt=function(t,n){return Wi(t,n)},n.Lbt=function(t,n,i){return(t-n)/(i-n)},Nt(t,null,[{key:"Vm",get:function(){return null!=this.Bbt||(this.Bbt=new t),this.Bbt}}]),t}();function Ij(t){return void 0!==t.ZOt}function Rj(t){return void 0!==t.WOt}function Cj(t){return Rj(t)?t._Ft:0===t.yFt&&t.pFt._Ft}function Nj(t,n){return Rj(t)?Rj(n)?t.IOt+1===n.IOt:0===n.yFt&&Nj(t,n.pFt):t.yFt===t.pFt.WOt.length-1?Nj(t.pFt,n):!Rj(n)&&t.pFt===n.pFt&&t.yFt+1===n.yFt}F(),Tt(),F(),Tt(),F(),Tt(),Dt(),Rt();var Dj=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(pr);var xj=function(){function t(){this.$Vt=[],this.MVt=fo(),this.OVt=[],this.zVt=-1}var n=t.prototype;return n.NVt=function(t){var n=this.MVt.get(t);return void 0!==n&&Pj(n)},n.LVt=function(t){if(this.BVt()>t)return et.reject(new Dj);for(var n=[],i=0,r=this.OVt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.MVt.get(u))||e.FVt.Hb(new Dj),this.MVt.delete(u);else n.push(u)}return this.OVt=n,-1===this.OVt.indexOf(t)&&this.OVt.push(t),this.VVt(t).FVt.Xb},n.WVt=function(t){var n=this.MVt.get(t);if(!n||!Pj(n))throw new p("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.UVt=function(t){return this.WVt(t).aW},n.GVt=function(t,n){var i=Rj(n)?n:n.pFt,r=this.WVt(i.XOt),e=t.QO(r.aW);if(r.ZVt){var u=km.GV(n.lF).jF(e);if(u.qF().WF(Rm())){var s=k.round(u.VF()/Im().VF());e=e.QO(Im().kV(s))}}return e},n.HVt=function(t,n){return this.GVt(t,n).jF(t)},n.XVt=function(t,n,i,r,e,u){this.zVt<t&&(this.zVt=t);var s=this.VVt(t);void 0===s.aW&&(s.qVt.some((function(t){return t.uat===n}))||(s.qVt.push({uat:n,YVt:i,KVt:r.OV(i.RN),jVt:e,ZVt:u}),this.QVt(s,t)))},n.QVt=function(t,n){if(!t.aW&&this.JVt(t)){var i=function(t){return ar(t,Lj)}(t.qVt);t.aW=i.KVt.jF(i.YVt),t.ZVt=t.qVt.some((function(t){return t.ZVt})),t.FVt.Zb(),ir(t.qVt),Ji(this.OVt,n)}},n.JVt=function(t){return this.$Vt.length>0&&this.$Vt.every((function(n){return t.qVt.some((function(t){return t.uat===n}))}))},n.VVt=function(t){if(this.MVt.has(t))return this.MVt.get(t);var n={aW:void 0,ZVt:!1,FVt:new ih,qVt:[]};return this.MVt.set(t,n),n},n.tWt=function(t){var n=this;this.$Vt=t,this.MVt.forEach((function(t,i){return n.QVt(t,i)}))},n.eWt=function(){this.zVt=-1},n.BVt=function(){return this.zVt},n.Km=function(){this.MVt.forEach((function(t){return t.FVt.np()})),this.MVt.clear()},t}();function Pj(t){return void 0!==t.aW}function Lj(t,n){return-function(t,n){if(t.ZVt||n.ZVt)return function(t,n){var i=t.jF(n);return t.JF()||n.JF()||(i.GF(Rm())?i=i.jF(Im()):i.zF(Rm().KF())&&(i=i.QO(Im()))),i}(t.YVt,n.YVt).UF(km.nV);return t.YVt.UF(n.YVt)}(t,n)||function(t,n){return t.jVt===n.jVt?Fi.eh:t.jVt?Fi.Zm:Fi.Hm}(t,n)||function(t,n){return t.KVt.UF(n.KVt)}(t,n)}var Mj=function(){function t(t,n){this.nWt=[],this.sWt=[],this.dWt=ho(),this.rWt=new xj,this.gWt=t,this.xVt=n}var n=t.prototype;return n.wFt=function(t,n){if(mY(t))if(0===this.nWt.length)this.oWt(t);else{if(!n)return void Jz.yBt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.ULt.wFt(t)}else{if(0!==this.nWt.length)return void Jz.yBt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.hWt(t)}},n.oWt=function(t){var n=this.aWt(t.Iyt);n.wFt(t);var i=this.uWt(yY.wE,n),r=this.uWt(yY.yE,n),e=new oj({Iyt:n.Iyt,jG:0,Tyt:0,kyt:NaN,Frt:void 0,CPt:void 0,Xdt:0,aOt:[],lOt:void 0,_Ot:void 0,uOt:void 0,fOt:void 0,dOt:void 0,cOt:void 0},n,[i,r]);this.nWt.push(e)},n.hWt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return Oj(t.zw,t.XLt,n)&&(!t.qLt||t.ULt.Iyt===n.Iyt)}(t,u)}));n.lWt(u,s);var o=new oj(u,n.aWt(u.Iyt,t.Sn),s);n.nWt.push(o)};(i=this.sWt).push.apply(i,Kt(t.rZ));for(var e=this.cWt(t),u=0,s=t.FOt;u<s.length;u++)n=this,r(u,s)},n.aWt=function(t,n){var i=this.dWt.get(t);return void 0===i&&(i=new Sj(t,n,this.xVt),this.dWt.set(t,i)),i},n.cWt=function(t){for(var n=[],i=0,r=t.LN;i<r.length;i++){var e=r[i];if(void 0===e.Iyt)for(var u=0,s=t.FOt;u<s.length;u++){var o=s[u];if(Oj(e.zw,e.XLt,o)){var a=new Bz(e,this.aWt(o.Iyt));n.push(a)}}else{var c=new Bz(e,this.aWt(e.Iyt));n.push(c)}}return n},n.uWt=function(t,n){return new Bz({zw:t,Iyt:void 0,XLt:"",gs:void 0,hOt:void 0,l:"",GLt:!0,ZLt:!1,HLt:!1,YLt:void 0,zLt:void 0,xPt:void 0},n)},n.lWt=function(t,n){var i=n.filter((function(t){return t.zw===yY.wE})),r=n.filter((function(t){return t.zw===yY.yE})),e=t.Frt&&(t.Frt.ZPt||t.Frt.UPt);if((!e||t.Frt.ZPt)&&0===r.length){var u=this.uWt(yY.yE,this.aWt(t.Iyt));n.push(u)}if((!e||t.Frt.UPt)&&0===i.length){var s=this.uWt(yY.wE,this.aWt(t.Iyt));n.push(s)}t.Frt&&t.Frt.rOt},n.fWt=function(t){for(var n=0,i=this.nWt;n<i.length;n++)for(var r=0,e=i[n].RBt;r<e.length;r++){var u=e[r];if(u===t)return u}},n._Wt=function(t){for(var n=0,i=this.nWt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.vWt=function(t){for(var n=0,i=this.nWt;n<i.length;n++){var r=i[n];if(tr(r.RBt,t))return r}},n.Km=function(){ir(this.nWt),ir(this.sWt),this.dWt.clear(),this.rWt.Km()},Nt(t,[{key:"iWt",get:function(){return this.sWt}},{key:"ABt",get:function(){return this.nWt}},{key:"sB",get:function(){return this.rWt}}]),t}();function Oj(t,n,i){switch(t){case yY.wE:return i.uOt===n;case yY.yE:return i.fOt===n;case yY.TW:return i.dOt===n;case yY.GBt:return i.cOt===n}return!1}F(),Tt(),Rt();var Bj=function(t){function n(n){var i;return(i=t.call(this,Uj.mWt)||this).QLt=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var Vj=function(t){function n(n){var i;return(i=t.call(this,Uj.pWt)||this).QLt=n,i}return It(n,t),n}(ma),Fj="HlsModelUpdater",Uj=function(t){return t.mWt="wWt",t.pWt="yWt",t}({}),Wj=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).WW=n,s.Rut=i,s.aTt=r,s.AWt=!1,s.TWt=!1,s.FWt=void 0,s.EWt=void 0,s.OWt=fo(),s.Nyt=new Mj(e,u),s}It(n,t);var i=n.prototype;return i.xWt=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:if(!(i=n.Nyt.gWt))throw new p("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n._o(new aC),[4,n.IWt(i,{},2,!0,t)];case 1:if(r=u.sent(),!wY(e=r.ULt)&&!mY(e))throw new p("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return wY(e)||Jz.zN(Fj,"Detected media playlist only HLS stream."),n.RWt(e),r.CWt?(n.TWt=!0,[4,n.PWt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.AWt=!0,[2]}}))}))()},i.DWt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:if(!(u=e.Nyt.fWt(t)))throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={IOt:n,_Vt:i,zD:Hj(u)},o=Te(k.max(1,3*t.ULt.rVt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.NWt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Ar(a=c.sent()),e.MWt(u),a;case 4:return[2]}}))}))()},i.LWt=function(t,n){var i=this.Nyt.fWt(t);if(!i)throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={IOt:void 0,_Vt:void 0,zD:Hj(i)},e=Te(k.max(1,3*t.ULt.rVt));return this.NWt(i,r,n,e)},i.BWt=function(t,n){return this.OWt.has(t.OC)||this.OWt.set(t.OC,new ih),Sr(this.OWt.get(t.OC).Xb,n)},i.MWt=function(t){this._o(new Vj(t))},i.NWt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:u=t.ULt.gBt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.IWt(u,n,0,e.TWt,i,r)];case 2:return o=h.sent(),s=o.ULt,[3,4];case 3:throw Ar(a=h.sent()),t.ULt.cVt=Kn.Wm(),a;case 4:if(!mY(s))throw new p("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.FWt||t===e.FWt||e.FWt.ULt.sVt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.LWt(e.FWt,i)];case 6:return h.sent(),[3,8];case 7:return Ar(h.sent()),e.FWt=t,e.VWt(),[3,8];case 8:try{e.RWt(s,t)}catch(u){if(u instanceof dj&&void 0!==n.zD)return c=ao({},n,{zD:void 0}),[2,e.NWt(t,c,i,r)];throw u}return e.FWt=t,[2]}}))}))()},i.IWt=function(t,n,i,r,e,u){var s=this;return Pt((function(){var o;return Ot(this,(function(a){switch(a.label){case 0:return Jz.zN(Fj,"Loading HLS playlist at "+t+"."),r?[4,s.WWt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{ULt:o,CWt:!0}];a.label=2;case 2:return[4,s.UWt(t,n,i,e,u)];case 3:return[2,{ULt:a.sent(),CWt:!1}]}}))}))()},i.WWt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.Rut.lTt([t])];case 1:return r=e.sent(),kr(n),void 0!==r?[2,sj(r.responseURL,{},r.data)]:[3,3];case 2:return Ar(e.sent()),[3,3];case 3:return[2]}}))}))()},i.UWt=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o;return Ot(this,(function(a){switch(a.label){case 0:return s={Xu:t,tE:Fd.Rk,DE:u.aTt,EE:pl.GET,zw:_l.hE,ep:r,xE:e},[4,DT((function(){return u.GWt(s)}),r,i)];case 1:return[2,sj((o=a.sent()).rE,n,o.$k)]}}))}))()},i.GWt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.WW.eE(t)];case 1:return[4,(i=r.sent()).Mk()];case 2:return[2,{$k:r.sent(),rE:i.rE}]}}))}))()},i.PWt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:for(kr(t),i=[],r=0,e=n.Nyt.ABt;r<e.length;r++)for(u=e[r],s=0,o=u.RBt;s<o.length;s++)a=o[s],i.push(n.ZWt(a,t));return[4,et.all(i)];case 1:return c.sent(),[2]}}))}))()},i.ZWt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.Rut.lTt([t.ULt.Iyt])];case 1:return r=e.sent(),kr(n),void 0===r||t.ULt.sVt?[3,3]:[4,i.LWt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Ar(e.sent()),[3,5];case 5:return[2]}}))}))()},i.VWt=function(){for(var t=0,n=this.Nyt.ABt;t<n.length;t++)for(var i=0,r=n[t].RBt;i<r.length;i++){var e=r[i];e!==this.FWt&&(void 0!==e.ULt.fFt&&(e.ULt.sVt?this.HWt(e):e.ULt.IVt()))}},i.HWt=function(t){if(0!==t.ULt.xct.length){if(!this.FWt)return this.FWt=t,void this.FWt.ULt.DVt(0,void 0);if(this.XWt(this.FWt),!this.XWt(t)&&void 0===t.ULt.fFt){var n=this.zWt(t,this.FWt);Jz.wBt(Fj,"Assuming global timeline offset of "+n+"s for rendition "+t.ULt.Iyt+"."),t.ULt.DVt(n,void 0)}}},i.zWt=function(t,n){if(Zj(t)){var i=t.ULt.xct[0],r=n.ULt.xct[0];return Jz.wBt(Fj,"Synchronizing by start of VOD: "+r.lF+" vs "+i.lF),r.lF-i.AFt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.XOt>u.XOt)i--;else if(e.XOt<u.XOt)r--;else if(e.UOt){if(u.UOt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.ULt.xct,n.ULt.xct);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return Jz.wBt(Fj,"Synchronizing by start of discontinuity #"+s.XOt+": "+s.lF+" vs "+u.lF),s.lF-u.AFt}var o=Gj(t.ULt.xct);if(void 0!==o){var a=Gj(n.ULt.xct);if(void 0!==a)return Jz.wBt(Fj,"Synchronizing by PDT:",a.ZOt.toISOString()+" vs "+o.ZOt.getTime()),a.lF-o.AFt-(a.ZOt.getTime()-o.ZOt.getTime())/1e3}var c,h=Xj(n),f=Xj(t),v=null!=(c=t.ULt.fFt)?c:0;return Jz.wBt(Fj,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.XWt=function(t){var n=this.Nyt.fWt(t);if(!n)return!1;if(Zj(n))return!1;var i=function(t,n){return Yi(t,(function(t){return void 0!==t.$it&&n.NVt(t.XOt)}))}(n.ULt.xct,this.Nyt.sB);if(void 0===i)return!1;if(n.ULt.dVt===i.XOt)return!0;var r=this.Nyt.sB.GVt(i.$it,i).VF()-i.AFt;return Jz.wBt(Fj,"Synchronize by media timestamp: "+r+"s for rendition "+t.ULt.Iyt+"."),n.ULt.DVt(r,i.XOt),(void 0===this.FWt||void 0===this.FWt.ULt.dVt||this.FWt.ULt.dVt<i.XOt)&&(this.FWt=n),!0},i.RWt=function(t,n){var i;(this.Nyt.wFt(t,n),mY(t)&&n)&&(this.EWt=n,this.HWt(n),this._o(new Bj(n)),null==(i=this.OWt.get(n.OC))||i.Zb(),this.OWt.delete(n.OC));this._o(new sW)},i.qWt=function(t,n){for(var i=0,r=this.Nyt.ABt;i<r.length;i++){var e=r[i],u=Hi(e.TBt,(function(t){return t.ULt===n}));void 0!==u&&void 0!==t.ZPt&&(u.Frt=EY(u.Frt,t));var s=Hi(e.SBt,(function(t){return t.ULt===n}));void 0!==s&&void 0!==t.UPt&&(s.Frt=EY(s.Frt,t)),e.iFt||void 0===u&&void 0===s||(e.Frt=EY(e.Frt,t))}},i.YWt=function(t,n){for(var i=0,r=this.Nyt.ABt;i<r.length;i++){var e=r[i],u=Hi(e.TBt,(function(t){return t.ULt===n}));void 0!==u&&void 0===t.ZPt&&e.aFt(u);var s=Hi(e.SBt,(function(t){return t.ULt===n}));void 0!==s&&void 0===t.UPt&&e.aFt(s)}},i.Km=function(){this.Ro(),this.Nyt.Km(),this.OWt.forEach((function(t){return t.np()})),this.OWt.clear()},Nt(n,[{key:"bWt",get:function(){return this.AWt}},{key:"SWt",get:function(){return this.TWt}},{key:"Nr",get:function(){return this.Nyt}},{key:"kWt",get:function(){return this.EWt}}]),n}(la);function Zj(t){return t.ULt.qOt||t.ULt.KOt===bY.YBt}function Xj(t){var n=t.ULt.xct;return n[n.length-1].dF}function Gj(t){return Yi(t,(function(t){return void 0!==t.ZOt}))}function Hj(t){if(void 0!==t.ULt.yOt&&!t.ULt.qOt&&!(void 0===t.ULt.nVt||Kn.Wm()/1e3-t.ULt.nVt>=t.ULt.yOt/2))return t.ULt.bOt?vj.NFt:vj.DFt}var zj=function(){function t(t,n){var i=this;this.jWt=function(t){i.AVt(t.QLt)},this.hEt=t,this.aO=n,this.Dmt=new rp,this.hEt.bn(Uj.mWt,this.jWt)}return t.prototype.AVt=function(t){if(0!==t.ULt.zOt.length){this.KWt||(this.KWt=this.aO.ZR(ep.xW,void 0,void 0,void 0,void 0,Ow.DATE_RANGE),this.Dmt.tt(this.KWt));mj(this.KWt,t.ULt.zOt,(function(n){var i;return null!=(i=t.ULt.hFt(n))?i:NaN}))}},Nt(t,[{key:"nt",get:function(){return this.Dmt}}]),t}();F(),Tt(),Rt();var Yj=function(t){function n(){return t.call(this,Oz.MLt)||this}return It(n,t),n}(ma);F(),Tt(),Dt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Dt();var jj=function(){function t(t){this.Krt=t,this.Obt=[],this.v3=void 0,this.Lmt=void 0}var n=t.prototype;return n.JWt=function(t){var n;return null==(n=this.$Wt(t))?void 0:n.QLt},n.tUt=function(t){this.v3=t,this.eUt()},n.adt=function(t,n,i,r,e,u){this.Obt.push({QLt:t,Eut:n,iUt:FA.VB(e,u),sUt:FA.VB(i,r)}),this.eUt()},n.$Wt=function(t){return Hi(this.Obt,(function(n){return n.sUt.wr(t)}))},n.Hat=function(t){return Hi(this.Obt,(function(n){return n.Eut===t}))},n.tlt=function(t,n){return Hi(this.Obt,(function(i){return i.QLt===t&&Nj(i.Eut,n)}))},n.Y3=function(){var t=this.SI;t.V>0&&(this.Lmt=t.Tn(t.V-1))},n.eUt=function(){var t=this.Krt.SI;this.Obt=this.Obt.filter((function(n){return 0!==t.jn(n.sUt).V}))},Nt(t,[{key:"QWt",get:function(){return this.v3}},{key:"SI",get:function(){return uO(this.Krt.SI,this.Krt.J3)}},{key:"xct",get:function(){return this.Obt}},{key:"Vmt",get:function(){return this.Lmt}}]),t}(),Kj=function(){function t(t,n,i,r,e){var u=this;this.aUt=void 0,this.zT=new mr,this.hUt=FA.WB(),this.cUt=!1,this.pUt=function(t){u.aUt&&(t?lR(t)&&u.nUt?u.AUt._Q(u.Krt.SI.OB)?u.aUt.Zb():u.aUt.Hb(t):br(t)?u.aUt.Zb():(u.cUt=!0,u.aUt.Hb(t)):u.aUt.Zb(),u.aUt=void 0)},this.Zp=t,this.mUt=i,this.Krt=n,this.nat=r,this.AUt=e}var n=t.prototype;return n.lUt=function(){if(this.bCt)throw new p("Cannot perform new operation while BufferAppender is still busy")},n.Grt=function(t){this.Krt!==t&&(this.lUt(),this.Krt=t,this.nat=new jj(t))},n.dUt=function(){return this.aUt?this.aUt.Xb:et.resolve()},n.fUt=function(t){var n=this.nat.Vmt;return void 0!==n&&this._Ut(t,n)},n._Ut=function(t,n){var i,r,e=k.min(t,n);return null!=(r=null==(i=this.nat.SI.gB().TB(this.oUt).BB(e))?void 0:i.wr(n))&&r},n.vUt=function(t){return this.nat.JWt(t)},n.np=function(){this.zT.np(),this.zT=new mr},n.a3=function(t){var n=this;this.lUt(),this.aUt=new ih;var i=function(i){n.mUt.gUt(t),n.pUt(i)};this.u3(t,this.zT.ep).then(i,i)},n.u3=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return Jz.wBt(tY,"Appending initializer",kY(t.wUt.Iyt)),[4,i.Krt.a3(t,n)];case 1:return r.sent(),Jz.wBt(tY,"Appended initializer",kY(t.wUt.Iyt)),i.nat.tUt(t),[2]}}))}))()},n.Llt=function(t){var n=this;this.lUt(),this.aUt=new ih;var i=function(i){n.mUt.gUt(t),n.pUt(i)};this.yUt(t,this.zT.ep).then(i,i)},n.yUt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,k,A,T,S;return Ot(this,(function(E){switch(E.label){case 0:if(void 0===(r=t.QLt).ULt.MBt)throw new p("MediaBufferWrapper - Cannot append HLSAsset to "+i.Zp+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.nat.SI.cB,u=i.Krt.SI,Jz.wBt(tY,"Appending",kY(t.wUt.Iyt)),[4,i.Krt.r3(t,n)];case 1:if(E.sent(),Jz.wBt(tY,"Appended",kY(t.wUt.Iyt),e,i.nat.SI.cB),s=t.lF,o=s+t.ct,a=t.wUt,c=a.lF,f=a.lF+(null!=(h=a.ct)?h:0),i.nat.adt(r,a,s,o,c,f),v=i.Krt.SI.TB(u),d=i.nat.tlt(r,a),i.zw===aw.yE)if(d)i.bUt(d)?0===v.V?void 0===i.nat.Hat(a)&&(l=i.Krt.J3.jn(new FA([s,o])),i.hUt=i.hUt.AB(l)):(g=v.Sn(0),w=new FA([g,o]),i.hUt=i.hUt.TB(w),g>s&&(m=i.Krt.J3.jn(new FA([s,g])),i.hUt=i.hUt.AB(m))):(y=v.V>0&&v.Sn(0)<s?v.Sn(0):s,i.hUt=i.hUt.TB(new FA([y,o])));else if(0===v.V)_=i.Krt.J3.jn(new FA([s,o])),i.hUt=i.hUt.AB(_);else{if(t.wUt._Ft)return[2];k=v.Sn(0),A=null==(b=u.BB(s))?void 0:b.Tn(0),k>(T=A&&A>s?A:s)&&(S=i.Krt.J3.jn(new FA([T,v.Sn(0)])),i.hUt=i.hUt.AB(S))}return t.wUt.gFt&&i.nat.Y3(),[2]}}))}))()},n.bUt=function(t){var n=t.sUt,i=n.Sn(0),r=n.Tn(n.V-1),e=n.dB(0),u=n._B(n.V-1);return this.hUt.EB(i,r,e,u)},n.i4=function(t,n){this.Krt.i4(t,n)},Nt(t,[{key:"zw",get:function(){return this.Zp}},{key:"nUt",get:function(){return cw(this.Zp)}},{key:"rUt",get:function(){return this.nat}},{key:"oUt",get:function(){return this.hUt}},{key:"bCt",get:function(){return void 0!==this.aUt}},{key:"uUt",get:function(){return this.cUt}}]),t}();F(),Tt(),Mt(),Dt(),Rt(),nn(),Wt(),F(),Tt(),Mt(),Wt();var qj=function(){function t(t,n,i){this.kUt=t,this.WW=n,this.aTt=i,this.EUt=void 0}var n=t.prototype;return n.SUt=function(t,n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,e.TUt(n,r)];case 1:return u=s.sent(),[4,e.kUt.SUt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.TUt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return(null==(r=i.EUt)?void 0:r.Xu)===t?[3,3]:(Jz.wBt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.WW.eE({Xu:t,tE:Fd.Ek,EE:pl.GET,ep:n,zw:_l.cE,CE:bl.pE,DE:i.aTt})]);case 1:return[4,s.sent().Bk()];case 2:e=s.sent(),u=new E(e),i.EUt={Xu:t,$k:u},s.label=3;case 3:return[2,i.EUt.$k]}}))}))()},t}();F(),Tt(),Mt(),Wt();var Jj=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.WW=t,this.Rut=n,this.jat=i,this.aTt=r,this.Crt=e}var n=t.prototype;return n.eE=function(t,n,i,r,e){var u=this;return Pt((function(){var s,o;return Ot(this,(function(a){switch(a.label){case 0:return[4,u.xUt(t,n,i,Fd.Ek,r,e)];case 1:return[4,(s=a.sent()).Bk(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.Jk,response:new E(o)}]}}))}))()},n.IUt=function(t,n,i,r,e){var u=this;return Pt((function(){return Ot(this,(function(s){switch(s.label){case 0:return[4,u.xUt(t,n,i,Fd.Ik,r,e)];case 1:return[2,s.sent().Ok(e)]}}))}))()},n.xUt=function(t,n,i,r,e,u){var s=this;return Pt((function(){var o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:t.oAt&&0===(o=gY(t.oAt.Sn,t.oAt.V))[0]&&o[1]===Ci&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new Tl({Xu:t.Fx,tE:r,iE:a,DE:s.aTt,EE:pl.GET,zw:n,CE:i,PE:s.jat,BE:r===Fd.Ik,NE:e,ep:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.Rut.Iut(t.Fx,o)];case 2:return h=f.sent(),kr(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new yl({eE:c,tE:c.tE,$k:h.buffer})]):[3,4];case 3:return Ar(f.sent()),[3,4];case 4:return[4,DT((function(){return Sr(s.WW.eE(c),c.ep)}),u,s.Crt)];case 5:return[2,f.sent()]}}))}))()},t}();F(),Tt(),Mt(),Wt();var Qj=function(){function t(t,n){this.BUt=void 0,this.VUt=new mr,this.Pn=-1/0,this.DUt=void 0,this.OUt=!1,this.hEt=t,this.CUt=n,this.MUt()}var n=t.prototype;return n.RUt=function(){return this.CUt.ULt.wOt},n.PUt=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:if(!r.RUt())throw new p("Could not perform blocking playlist update.");return e=r.DUt,u={IOt:t,_Vt:n},void 0!==e&&function(t,n,i){if(t.IOt===n.IOt){if(t._Vt===n._Vt)return!0;if(0===t._Vt&&void 0===n._Vt)return!0}if(t.IOt===n.IOt+1&&0===t._Vt&&void 0!==n._Vt){var r=i.Hat(n.IOt);if(r&&r.Iyt&&n._Vt>=r.WOt.length)return!0}return!1}(e,u,r.CUt.ULt)?[3,2]:[4,r.NUt()];case 1:s.sent(),r.MUt(u),s.label=2;case 2:return[2,r.hEt.BWt(r.CUt,i)]}}))}))()},n.LUt=function(t){return this.MUt(),this.hEt.BWt(this.CUt,t)},n.MUt=function(t){var n=this;if(!this.BUt&&!this.OUt){var i=function(){n.BUt=void 0};this.BUt=this.FUt(t,this.VUt.ep).then(i,i)}},n.NUt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.BUt?(t.VUt.np(),t.VUt=new mr,[4,t.BUt.catch(_i)]):[3,2];case 1:n.sent(),t.BUt=void 0,n.label=2;case 2:return[2]}}))}))()},n.FUt=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(kr(n),i.CUt.ULt.qOt&&i.CUt.ULt.sVt)return[2];null!=r||(r=i.WUt()),i.DUt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.hEt.DWt(i.CUt,r.IOt,r._Vt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=Kn.Wm()-i.Pn,u=1e3*i.CUt.ULt.rVt,e<u?[4,Mr(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.hEt.LWt(i.CUt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.DUt=void 0,Ar(s),i.hEt.MWt(i.CUt),s;case 10:return r=void 0,i.Pn=Kn.Wm(),[3,1];case 11:return[2]}}))}))()},n.WUt=function(){var t=this.CUt.ULt;if(t.wOt&&!t.qOt&&0!==t.xct.length){var n=t.xct[t.xct.length-1];return n.Iyt?{IOt:n.IOt+1,_Vt:t.iVt?0:void 0}:{IOt:n.IOt,_Vt:n.WOt.length}}},n.Km=function(){this.OUt=!0,xr(this.NUt())},t}();F(),Tt();var $j=function(t){return t[t.ZBt=0]="ZBt",t[t.HBt=1]="HBt",t[t.aE=2]="aE",t[t.uE=3]="uE",t}({});F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Wt();var tK="AssetExtractor",nK=function(){function t(){this.GUt=[]}var n=t.prototype;return n.UUt=function(t,n,i){for(var r=n,e=0,u=this.GUt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Sn)return!1;if(r<s.Tn){if(i<=s.Tn)return!0;r=s.Tn}}return r>=t},n.ZUt=function(t,n){for(var i=[],r=0;r<this.GUt.length;r+=1){var e=this.GUt[r],u=t-e.Sn,s=e.$k.length,o=k.min(s,k.max(u,0)),a=k.max(0,n+u),c=Bc(e.$k,o,a);c.length&&(r=this.HUt(r,e,t,o,a),i.push(c))}return i},n.XUt=function(t,n){this.GUt.push({Sn:t,Tn:t+n.length,$k:n})},n.HUt=function(t,n,i,r,e){var u=t;this.GUt.splice(u,1),u-=1,n.Sn<i&&(u+=1,this.GUt.splice(u,0,{Sn:n.Sn,Tn:i,$k:Bc(n.$k,0,r)}));var s=i+e-r;return s<n.Tn&&(u+=1,this.GUt.splice(u,0,{Sn:s,Tn:n.Tn,$k:Bc(n.$k,e)})),u},t}(),iK=function(){function t(t,n){this.qUt=n,this.Od=t.getReader()}var n=t.prototype;return n.YUt=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,t.Od.read()];case 1:if((n=i.sent()).done)throw t.qUt=1/0,new p("No more data can be read from the given stream.");return t.qUt+=n.value.length,[2,n.value]}}))}))()},n.KUt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.Od.cancel(t)];case 1:return i.sent(),[2]}}))}))()},Nt(t,[{key:"zUt",get:function(){return this.qUt}}]),t}(),rK=function(){function t(t,n,i,r){this.sGt=new ih,this.SFt=t,this.Od=n,this.$Ut=i,this.iGt=r,this.tGt=new ih,this.QUt=new ih}var n=t.prototype;return n.jUt=function(){this.QUt.Zb(),this.QUt=new ih},n.JUt=function(t){var n=uK(this.SFt.oAt),i=n.hAt,r=n.aAt,e=this.$Ut.ZUt(i,r-i);Jz.wBt(tK,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return[4,n.tGt.Xb];case 1:g.sent(),i=uK(n.SFt.oAt),r=i.hAt,e=i.aAt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.Od.zUt,[4,n.Od.YUt()];case 4:return s=g.sent(),o=s.length,Jz.wBt(tK,"Read "+o+" at "+u+" for extraction of "+kY(n.SFt)),a=k.min(u+o,r),(c=a-u)>0?(h=Bc(s,0,c),f=Bc(s,c),Jz.wBt(tK,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+kY(n.SFt)),n.$Ut.XUt(u,h),f.length>0?(Jz.wBt(tK,"Extracting "+f.length+" bytes for extraction of "+kY(n.SFt)),t.enqueue(f),n.jUt(),[2,xr(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(Jz.wBt(tK,"Extracting the read data range for extraction of "+kY(n.SFt)),t.enqueue(s),n.jUt(),[2,xr(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return d=Bc(s,0,v=e-u),l=Bc(s,v),d.length>0&&(Jz.wBt(tK,"Extracting "+d.length+" bytes for extraction of "+kY(n.SFt)),t.enqueue(d)),Jz.wBt(tK,"Of the read "+o+" bytes, the last "+l.length+" will be stored locally for extraction of "+kY(n.SFt)),n.$Ut.XUt(u+v,l),Jz.wBt(tK,"Extraction of "+kY(n.SFt)+" completed as the entire request has been fulfilled."),n.eGt(t),n.iGt?(Jz.wBt(tK,"Aborting stream upstream as no more bytes are needed from "+kY(n.SFt)+"."),[4,n.Od.KUt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),Jz.wBt(tK,"Extraction of "+kY(n.SFt)+" completed as the entire source stream has been read."),n.eGt(t),[3,12];case 12:return[2]}}))}))()},n.eGt=function(t){t.close(),this.jUt(),this.sGt.Zb()},n.start=function(t){Jz.wBt(tK,"Preparing to push all collected data to controller for extraction of "+kY(this.SFt)),this.JUt(t),Jz.wBt(tK,"Collected data pushed to controller for extraction of "+kY(this.SFt));var n=uK(this.SFt.oAt).aAt;this.Od.zUt>=n?(Jz.wBt(tK,"Extraction of "+kY(this.SFt)+" completed as the entire request has been fulfilled."),this.eGt(t)):(Jz.wBt(tK,"Continuing read from original stream for extraction of "+kY(this.SFt)),xr(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.tGt.Zb(),this.tGt=new ih,this.QUt.Xb},Nt(t,[{key:"nGt",get:function(){return this.sGt.Xb}}]),t}(),eK=function(){function t(t,n){this.SFt=n;var i=uK(this.SFt.oAt).hAt;this.rGt=new iK(t,i),this.$Ut=new nK}var n=t.prototype;return n.JO=function(t){if(!AY(this.SFt,t))return!1;var n=uK(t.oAt),i=n.hAt,r=n.aAt;return this.$Ut.UUt(this.rGt.zUt,i,r)},n.Ygt=function(t,n){void 0===n&&(n=!1);var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return r=i.rGt,e=i.$Ut,Jz.zN(tK,"Extracting data from "+kY(t)+" out of "+kY(i.SFt)),i.oGt?(Jz.wBt(tK,"Awaiting previous extraction before extracting "+kY(t)+" out of "+kY(i.SFt)),[4,i.oGt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.JO(t))throw new p("The extractor does not contain the data requested");return u=new rK(t,r,e,n),i.oGt=u.nGt,[2,new Yd(u)]}}))}))()},t}();function uK(t){if(t){var n=t.Sn;return{hAt:n,aAt:void 0!==t.V?n+t.V:Ci}}return{hAt:0,aAt:Ci}}var sK=function(){function t(t,n){this.SFt=t,this.hGt=n,this.zT=new mr,this.ipt=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return[4,t.hGt.IUt(t.SFt,_l.uE,bl.oE,void 0,t.zT.ep)];case 1:return n=i.sent(),[2,new eK(n,t.SFt)]}}))}))()},n.JO=function(t){return AY(this.SFt,t)},n.Ygt=function(t,n){void 0===n&&(n=!1);var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,i.ipt];case 1:return[4,Sr(r.sent().Ygt(t,n),i.zT.ep)];case 2:return[2,r.sent()]}}))}))()},n.np=function(){this.ipt.catch(_i),this.zT.np()},t}();F(),Tt(),Rt();var oK=function(t){function n(n){var i;return(i=t.call(this,lK.aGt)||this).PE=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var aK=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,lK.uGt)||this).uri=n,a.cGt=i,a.PE=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.lGt=s,a.httpStatusCode=o,a}return It(n,t),n}(ma);function cK(t,n,i){var r=Rj(i)?i:i.pFt;if(n.NVt(r.XOt)){if(void 0!==i.$it)return n.GVt(i.$it,i).VF();if(i!==r&&void 0!==r.$it){var e=n.GVt(r.$it,r).VF();return i.lF+(e-r.lF)}}var u=t.ULt.Hat(r.IOt-1);if(void 0!==u&&n.NVt(u.XOt)){if(u.WOt.length>0){var s=u.EFt(u.WOt.length-1);if(void 0!==s.$it){var o=n.GVt(s.$it,s).VF();return i.lF+(o-s.lF)}}if(void 0!==u.$it){var a=n.GVt(u.$it,u).VF();return i.lF+(a-u.lF)}}var c=t.ULt.Hat(r.IOt+1);if(void 0!==c&&n.NVt(c.XOt)){if(c.WOt.length>0){var h=c.EFt(0);if(void 0!==h.$it){var f=n.GVt(h.$it,h).VF();return i.lF+(f-h.lF)}}if(void 0!==c.$it){var v=n.GVt(c.$it,c).VF();return i.lF+(v-c.lF)}}return i.lF}function hK(t){return void 0!==t.$it}function fK(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.XOt!==i)break;if(hK(u))if(r(u,e))break}}function vK(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.XOt!==i)break;if(hK(u))if(r(u,e))break}}F(),Tt();var dK="HlsPlaylistDownloader",lK=function(t){return t.aGt="segmentdownloadprogress",t.uGt="segmentdownloaded",t}({}),gK=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this)._Gt=void 0,c.wGt=void 0,c.$Gt=void 0,c.tZt=0,c.eZt=0,c.iZt=0,c.sZt=0,c.SGt=new mr,c.TGt=void 0,c.vGt=0,c.gGt=void 0,c.mGt=void 0,c.pGt=void 0,c.EGt=void 0,c.kGt=void 0,c.MGt=function(t){c._Gt&&(c.CUt=c._Gt,c._Gt=void 0,c.vGt=0,c.gGt=void 0,c.mGt=void 0,c.pGt=void 0),c.wGt&&(t&&!br(t)?c.wGt.Hb(t):c.wGt.Zb(),c.wGt=void 0)},c.jGt=function(t,n){c.iZt=t,t>0&&0===c.tZt&&(c.tZt=Kn.Wm()),void 0!==n&&(c.sZt=n),c._o(new oK(c.Zp))},c.Zp=n,c.hEt=r,c.mUt=e,c.CUt=i,c.fGt=new Qj(r,i),c.JGt=new qj(o,u,a),c.hGt=new Jj(u,s,function(t){switch(t){case yY.yE:return kl.yE;case yY.wE:return kl.wE;case yY.TW:case yY.GBt:return kl.Rk;default:return kl.oE}}(i.zw),a),c}It(n,t);var i=n.prototype;return i.dGt=function(t){this.fGt.Km(),this.fGt=new Qj(this.hEt,t),this.bCt?this._Gt=t:(this.CUt=t,this.vGt=0,this.gGt=void 0,this.mGt=void 0,this.pGt=void 0)},i.dUt=function(){return this.wGt?this.wGt.Xb:et.resolve()},i.bGt=function(){return this.mUt.bGt()},i.AGt=function(t){this.mUt.AGt(t)},i.np=function(){var t,n,i;this.SGt.np(),this.SGt=new mr,null==(t=this.TGt)||t.np(),this.TGt=void 0,null==(n=this.kGt)||n.np(),null==(i=this.EGt)||i.np(),this.kGt=void 0,this.EGt=void 0,this.vGt=0,this.gGt=void 0,this.mGt=void 0,this.pGt=void 0},i.Km=function(){this.fGt.Km()},i.xGt=function(t){var n=this.CUt.ULt.gVt(t);if(!n)return!1;if(void 0!==this.gGt){var i=n.IOt===this.gGt;return void 0!==this.mGt?n.xFt(t)===n.EFt(this.mGt)&&i:i}return!1},i.IGt=function(t){var n,i,r;if(!this.yGt&&(void 0===this.gGt||t<this.vGt-1e-6))n=this.RGt(t);else if(void 0!==(n=this.CGt(k.max(null!=(i=this.gGt)?i:0,null!=(r=this.pGt)?r:0),this.mGt))&&void 0===this.pGt){var e=tn(n,2),u=e[0],s=e[1],o=cK(this.CUt,this.hEt.Nr.sB,null!=s?s:u),a=3*this.CUt.ULt.MBt;k.abs(o-t)>=a&&(n=this.RGt(t))}else if(this.CUt.ULt.qOt&&void 0!==this.gGt){if(this.CUt.ULt.Hat(this.gGt).gFt&&void 0!==(n=this.RGt(t))&&n[0].IOt===this.gGt)return}if(n){this.vGt=t;var c,h=tn(n,2),f=h[0],v=h[1];return this.pGt=f.pOt?k.max(f.IOt,null!=(c=this.pGt)?c:0):void 0,0===(null==v?void 0:v.yFt)&&void 0!==f.ct?[f,void 0]:[f,v]}},i.PGt=function(t){void 0!==t&&(this.pGt=t-1)},i.RGt=function(t){var n,i,r=this.CUt.ULt.xct;if(0!==r.length){var e,u=this.hEt.Nr.sB,s=km.GV(t),o=function(t,n,i){var r=t.ULt.xct;if(0!==r.length){var e=t.ULt.mVt(i.VF());if(n.NVt(e.XOt)){var u,s,o,a=e.IOt-r[0].IOt,c=e.XOt,h=0;if(!(vK(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(fK(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.GVt(u.$it,u).HF(i)?(s=u,fK(r,h+1,c,(function(t){return n.GVt(t.$it,t).WF(i)?(o=t,!0):(s=t,!1)}))):(o=u,vK(r,h-1,c,(function(t){return n.GVt(t.$it,t).HF(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.CUt,u,s);if(void 0!==o){var a=tn(o,2),c=a[0],h=a[1],f=u.GVt(c.$it,c),v=u.GVt(h.$it,h),d=s.jF(f).VF()/v.jF(f).VF()*(h.lF-c.lF);e=c.lF+d}else e=t;var l=r[r.length-1];return l.dF<=e?(n=l,i=l.RFt(e)):i=r[0].lF>e?(n=r[0]).EFt(0):null==(n=this.CUt.ULt.gVt(e))?void 0:n.RFt(e),n?[n,i]:void 0}},i.CGt=function(t,n){var i,r;if((i=this.CUt.ULt.Hat(t))&&void 0!==n){if(0===i.WOt.length)return[i,void 0];r=i.EFt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.CUt.ULt.Hat(t+1))?void 0:i.EFt(0)),i?[i,r]:void 0},i.lUt=function(){if(this.bCt)throw new p("Cannot perform new operation while PlaylistDownloader is still busy")},i.DGt=function(t){this.lUt(),this.wGt=new ih,this.NGt(t,this.SGt.ep).then(this.MGt,this.MGt)},i.LGt=function(){this.fGt.MUt()},i.NGt=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return i.CUt.ULt.qOt?[2]:(r=i.IGt(t))||!i.fGt.RUt()||void 0===i.gGt?[3,2]:[4,i.fGt.PUt(void 0===i.mGt?i.gGt+1:i.gGt,void 0!==i.mGt?i.mGt+1:void 0,n)];case 1:u.sent(),r=i.IGt(t),u.label=2;case 2:return r||!i.fGt.RUt()||void 0===i.gGt?[3,4]:[4,i.fGt.PUt(i.gGt+1,0,n)];case 3:u.sent(),r=i.IGt(t),u.label=4;case 4:return r?[3,6]:(Jz.zN(dK,"No next segment / part available, need to update playlist before continuing."),[4,i.fGt.LUt(n)]);case 5:return u.sent(),e=i.QLt.ULt.xct,e[0].lF>t&&(i.mGt=void 0,i.gGt=void 0,i.pGt=void 0),e[e.length-1].IOt<i.gGt&&(i.mGt=void 0,i.gGt=void 0,i.pGt=void 0),r=i.IGt(t),[3,4];case 6:return[2]}}))}))()},i.BGt=function(){return this.mUt.OGt()},i.FGt=function(){this.lUt();try{var t=this.CUt.ULt.pVt(pY.ZBt);t&&this.VGt(t);var n=this.CUt.ULt.pVt(pY.HBt);n&&this.WGt(n)}catch(t){throw Ar(t),this.CUt.ULt.cVt=Kn.Wm(),this.hEt.MWt(this.CUt),t}},i.VGt=function(t){this.EGt&&!this.EGt.JO(t.Iyt)&&(this.EGt.np(),this.EGt=void 0),this.EGt||(this.EGt=new sK(t.Iyt,this.hGt))},i.WGt=function(t){this.kGt&&!this.kGt.JO(t.Iyt)&&(this.kGt.np(),this.kGt=void 0),this.kGt||(this.kGt=new sK(t.Iyt,this.hGt))},i.Zat=function(t,n,i){var r=this;this.lUt(),Jz.zN(dK,"Starting download of segment "+kY(t.Iyt)+" and part "+(null==n?void 0:n.yFt)),this.wGt=new ih,this.UGt(t,n,i,this.SGt.ep).catch((function(t){throw Ar(t),r.CUt.ULt.cVt=Kn.Wm(),r.hEt.MWt(r.CUt),t})).then(this.MGt,this.MGt)},i.UGt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:return t.GOt&&(i&&TY(i.wUt.Iyt,null==(s=t.GOt)?void 0:s.Iyt)&&t.XOt===i.XOt||(null==(a=e.TGt)||a.np(),e.TGt=new ih,c=e.GGt(t.GOt,t,r).then((function(){e.TGt=void 0})),e.TGt.rp(c)),u=null==(o=e.TGt)?void 0:o.Xb),[4,e.ZGt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.GGt=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,r.HGt(t,n,i)];case 1:return e=s.sent(),u=e.GOt.$k.$k.byteLength,r.mUt.XGt(e),r._o(new aK(e.GOt.wUt.Iyt,e.zw,r.Zp,n.IOt,e.QLt.OC,u,e.GOt.$ut)),Jz.wBt(tY,"Download initializer complete",kY(t.Iyt)),[2]}}))}))()},i.ZGt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return[4,e.zGt(t,n,r)];case 1:return u=a.sent(),s=u.Eut.$k.$k.byteLength,i?[4,Sr(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.mUt.XGt(u),e._o(new aK(u.Eut.wUt.Iyt,u.zw,e.Zp,t.IOt,u.QLt.OC,s,u.Eut.$ut)),Jz.wBt(tY,"Download complete",kY(null!=(o=null==n?void 0:n.Iyt)?o:t.Iyt)),[2]}}))}))()},i.zGt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return n?r.kGt?r.kGt.JO(n.Iyt)?[4,r.kGt.Ygt(n.Iyt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Qd(a.sent(),i)];case 2:return u=a.sent(),s=new E(u),[4,r.SUt(s,n.rZ,i)];case 3:return o=a.sent(),e=yK(n,o,200),[3,5];case 4:r.kGt.np(),r.kGt=void 0,a.label=5;case 5:return e?[3,7]:(Jz.wBt(tY,"Start download",kY(n.Iyt)),[4,r.qGt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return Jz.wBt(tY,"Start download",kY(t.Iyt)),[4,r.zat(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.gGt=t.IOt,r.mGt=null==n?void 0:n.yFt,[2,{zw:"Eut",Eut:e,QLt:r.CUt,XOt:t.XOt}]}}))}))()},i.HGt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return r.EGt?r.EGt.JO(t.Iyt)?[4,Sr(r.EGt.Ygt(t.Iyt),i)]:[3,4]:[3,5];case 1:return[4,Qd(c.sent(),i)];case 2:return s=c.sent(),o=new E(s),[4,r.SUt(o,t.VOt?[t.VOt]:[],i)];case 3:a=c.sent(),e=wK(t,n,a,200),c.label=4;case 4:Jz.zN(dK,"MAP is required for segment, downloading MAP data."),null==(u=r.EGt)||u.np(),r.EGt=void 0,c.label=5;case 5:return e?[3,7]:(Jz.wBt(tY,"Start download",kY(t.Iyt)),[4,r.YGt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{zw:"GOt",GOt:e,QLt:r.CUt,lF:n.lF,XOt:n.XOt,rZ:n.rZ}]}}))}))()},i.YGt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return[4,r.hGt.eE(t.Iyt,_l.aE,bl.lE,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.VOt?[t.VOt]:[],[4,r.SUt(u,o,i)];case 2:return a=c.sent(),[2,wK(t,n,a,s)]}}))}))()},i.zat=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(!t.Iyt)throw new p("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.KGt(t),[4,i.hGt.eE(t.Iyt,_l.aE,bl.oE,i.jGt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.QGt(),[7];case 4:return[4,i.SUt(r,t.rZ,n)];case 5:return s=o.sent(),[2,mK(t,s,e)]}}))}))()},i.qGt=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.KGt(t),[4,i.hGt.eE(t.Iyt,_l.aE,bl.oE,i.jGt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.QGt(),[7];case 3:return[4,i.SUt(r,t.rZ,n)];case 4:return s=o.sent(),[2,yK(t,s,e)]}}))}))()},i.SUt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return(e=Hi(n,(function(t){return t.EE===_Y.XBt})))?e.Iyt&&e.vOt?[4,r.JGt.SUt(t,e.Iyt,e.vOt,i)]:(Jz.lt(dK,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.KGt=function(t){var n,i,r;this.$Gt=t,this.tZt=0,this.eZt=Kn.Wm(),this.iZt=0,this.sZt=null!=(r=null==(i=t.Iyt)||null==(n=i.oAt)?void 0:n.V)?r:0},i.QGt=function(){this.$Gt=void 0,this.tZt=0,this.eZt=0,this.iZt=0,this.sZt=0},i.nZt=function(){if(void 0!==this.$Gt)return{Eut:this.$Gt,rZt:this.iZt,oZt:this.sZt,hZt:Kn.Wm()-this.eZt}},i.aZt=function(t){return void 0!==this.$Gt&&(0!==this.tZt&&(!(this.sZt>0&&this.iZt>=this.sZt)&&!(t-this.tZt<500)))},Nt(n,[{key:"bCt",get:function(){return void 0!==this.wGt}},{key:"yGt",get:function(){return void 0!==this.pGt}},{key:"QLt",get:function(){var t;return null!=(t=this._Gt)?t:this.CUt}},{key:"qCt",get:function(){if(!this.CUt.ULt.qOt||void 0===this.gGt)return!1;var t=this.CUt.ULt.Hat(this.gGt);if(!t.gFt)return!1;if(void 0!==this.mGt&&!t.EFt(this.mGt).gFt)return!1;return!0}}]),n}(la);function wK(t,n,i,r){return{$k:{$k:i,zw:nC.NJ},zw:$j.ZBt,$ut:r,wUt:t,XOt:n.XOt}}function mK(t,n,i){return{$k:{$k:n,zw:nC.NJ},zw:$j.aE,$ut:i,wUt:t,XOt:t.XOt}}function yK(t,n,i){return{$k:{$k:n,zw:nC.NJ},$ut:i,zw:$j.HBt,wUt:t,XOt:t.pFt.XOt}}F(),Tt(),Dt();var pK=function(){function t(t){this.lZt=[],this.fZt=ho(),this.vZt=void 0,this.uZt=void 0,this.rWt=t}var n=t.prototype;return n.XGt=function(t){"GOt"===t.zw&&(this.uZt=t.GOt),this.lZt.push(t),this.vZt&&(this.vZt.Zb(),this.vZt=void 0)},n.bGt=function(){return this.lZt[0]},n.AGt=function(t){Ji(this.lZt,t)},n.OGt=function(){return null!=this.vZt||(this.vZt=new ih),this.vZt.Xb},n.gZt=function(t){this.mZt(t.uat).gZt(t)},n.pZt=function(t){return this.mZt(t).pZt()},n.gUt=function(t){this.mZt(t.uat).gUt(t)},n.wZt=function(t){var n;null==(n=this.fZt.get(t))||n.Km()},n.yZt=function(t){return this.mZt(t).yZt()},n.mZt=function(t){if(this.fZt.has(t))return this.fZt.get(t);var n=new _K;return this.fZt.set(t,n),n},n.Gb=function(){this.bZt(),this.AZt()},n.bZt=function(){this.uZt=void 0,ir(this.lZt)},n.AZt=function(){this.fZt.forEach((function(t){return t.Gb()}))},n.Km=function(){this.fZt.forEach((function(t){return t.Km()})),this.fZt.clear(),this.Gb(),this.vZt&&(this.vZt.np(),this.vZt=void 0)},Nt(t,[{key:"QWt",get:function(){return this.uZt}},{key:"cZt",get:function(){for(var t=[],n=0,i=this.lZt;n<i.length;n++){var r=i[n];if("Eut"===r.zw){var e,u=r.Eut.wUt,s=cK(r.QLt,this.rWt,u);t.push({Eut:u,QLt:r.QLt,lF:s,dF:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"dZt",get:function(){var t=[];return this.fZt.forEach((function(n){for(var i=0,r=n._Zt;i<r.length;i++){var e=r[i];"Eut"===e.zw&&t.push({Eut:e.wUt,QLt:e.QLt,lF:e.lF,dF:e.lF+e.ct})}})),t}}]),t}(),_K=function(){function t(){this.SZt=[],this.TZt=void 0}var n=t.prototype;return n.gZt=function(t){this.SZt.push(t),this.TZt&&(this.TZt.Zb(),this.TZt=void 0)},n.pZt=function(){return this.SZt[0]},n.gUt=function(t){Ji(this.SZt,t)},n.yZt=function(){return null!=this.TZt||(this.TZt=new ih),this.TZt.Xb},n.Gb=function(){ir(this.SZt)},n.Km=function(){this.Gb(),this.TZt&&(this.TZt.np(),this.TZt=void 0)},Nt(t,[{key:"_Zt",get:function(){return this.SZt}}]),t}();F(),Tt(),Mt(),Dt(),Wt();var bK=1e-6,kK=function(){function t(t,n){this.hIt=FA.WB(),this.aIt=FA.WB(),this.EZt=t,this.rWt=n}var n=t.prototype;return n.a3=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return r=t.$k.$k,i.kZt(r),i.EZt.zw!==Ow.TTML?[3,3]:i.rWt.NVt(t.XOt)?[3,2]:[4,Sr(i.rWt.LVt(t.XOt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.xZt(r,t.XOt),u=0;u<e.length;u++)s=e[u],i.EZt.UW(s);o.label=3;case 3:return[2]}}))}))()},n.r3=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return void 0===t.$k?[2]:(r=t.lF,e=r+t.ct,i.hIt=i.hIt.AB(FA.VB(r,e)).bB(bK),i.i4(t.IZt,t.RZt),i.s4(r,e),i.rWt.NVt(t.XOt)?[3,2]:[4,Sr(i.rWt.LVt(t.XOt),n)]);case 1:u.sent(),u.label=2;case 2:return i.h3(t.$k.$k,t.XOt,t.wUt),[2]}}))}))()},n.h3=function(t,n,i){var r;this.kZt(t),r=this.EZt.zw===Ow.WEBVTT?this.CZt(t,i):this.xZt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.EZt.UW(u)}},n.CZt=function(t,n){for(var i,r=Vm(t),e=r.L,u=null!=(i=r.lW)?i:{dW:km.nV,mh:km.nV},s=0;s<e.length;s++){var o=e[s],a=km.GV(o.lF).jF(u.mh).QO(u.dW),c=this.rWt.GVt(a,n).VF(),h=c+(o.dF-o.lF);o.CF(c,h)}return e},n.xZt=function(t,n){var i=this.rWt.UVt(n).VF();return Vy(t,this.EZt,{oW:0,hW:1/0,aW:i},Xv.APPLICATION_MP4)},n.kZt=function(t){this.EZt.zw===Ow.DEFAULT&&(this.EZt.zw=this.PZt(t)?Ow.WEBVTT:Ow.TTML)},n.PZt=function(t){return Jm(Nc(xc(Pc(t),0,k.min(t.byteLength,16)),new Uc))},n.i4=function(t,n){this.aIt=this.aIt.AB(FA.VB(t,n)).bB(bK)},n.s4=function(t,n){this.aIt=this.aIt.TB(FA.VB(t,n))},Nt(t,[{key:"SI",get:function(){return this.hIt}},{key:"J3",get:function(){return this.aIt}}]),t}();F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var AK=function(t){function n(n,i){var r;return(r=t.call(this,IK.DZt)||this).QLt=n,r.Frt=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var TK=function(t){function n(n){var i;return(i=t.call(this,IK.NZt)||this).QLt=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var SK=function(t){function n(n,i){var r;return(r=t.call(this,IK.MZt)||this).QLt=n,r.Xdt=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var EK=function(t){function n(n,i){var r;return(r=t.call(this,IK.LZt)||this).QLt=n,r.BZt=i,r}return It(n,t),n}(ma),IK=function(t){return t.DZt="OZt",t.MZt="FZt",t.LZt="VZt",t.NZt="WZt",t}({}),RK=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).HZt=void 0,e.zT=new mr,e.mUt=n,e.rWt=i,e.GZt=r,e}It(n,t);var i=n.prototype;return i.ZZt=function(t){for(var n=0,i=this.GZt;n<i.length;n++){var r=i[n];tr(t,r)||this.mUt.wZt(r)}this.GZt=t},i.dUt=function(){var t,n;return null!=(n=null==(t=this.HZt)?void 0:t.Xb)?n:et.resolve()},i.lUt=function(){if(this.bCt)throw new p("Cannot perform new operation while transmuxer is still busy")},i.XZt=function(t,n){},i.zZt=function(t){var n=this;this.lUt(),this.HZt=new ih;var i=function(i){n.qZt(t,i)};this.YZt(t,this.zT.ep).then(i,i)},i.KZt=function(t){var n=this;this.lUt(),this.HZt=new ih;var i=function(i){n.qZt(t,i)};this.jZt(t,this.zT.ep).then(i,i)},i.qZt=function(t,n){this.HZt&&(!n||br(n)||function(t){return t instanceof Dj}(n)?(br(n)||this.mUt.AGt(t),this.HZt.Zb(),this.HZt=void 0):this.HZt.Hb(n))},i.QZt=function(t,n){this._o(new AK(t,n))},i.JZt=function(t,n){this._o(new SK(t,n))},i.$Zt=function(t,n,i){Cj(n)&&this._o(new EK(t,i))},i.tHt=function(t){this._o(new TK(t))},i.gZt=function(t){tr(this.GZt,t.uat)&&this.mUt.gZt(t)},i.eHt=function(t){return this.mUt.pZt(t)},i.gUt=function(t){this.mUt.gUt(t)},i.iHt=function(t){return this.mUt.yZt(t)},i.np=function(){this.zT.np(),this.zT=new mr},Nt(n,[{key:"UZt",get:function(){return this.GZt}},{key:"bCt",get:function(){return void 0!==this.HZt}}]),n}(la);function CK(t,n){return Cj(t)?0:k.min(t.lF,n)}function NK(t,n){var i;return k.max(t.lF,n)+(null!=(i=t.ct)?i:0)}var DK=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}It(n,t);var i=n.prototype;return i.YZt=function(t,n){kr(n);var i={zw:"rPt",$k:t.GOt.$k,uat:this.UZt[0],XOt:t.XOt,sHt:{Frt:"",rZ:t.rZ},lF:t.lF,QLt:t.QLt,wUt:t.GOt.wUt};return this.gZt(i),et.resolve()},i.jZt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return kr(n),void 0===(r=t.Eut.wUt).$it?[3,3]:i.rWt.NVt(t.XOt)?[3,2]:[4,Sr(i.rWt.LVt(t.XOt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.rWt.GVt(r.$it,r).VF(),[3,4];case 3:e=r.lF,c.label=4;case 4:return u=CK(r,e),s=NK(r,u),a={zw:"Eut",$k:t.Eut.$k,uat:i.UZt[0],IZt:u,RZt:s,lF:e,ct:null!=(o=r.ct)?o:0,aW:0,XOt:t.XOt,QLt:t.QLt,wUt:t.Eut.wUt},i.gZt(a),[2]}}))}))()},n}(RK);function xK(t,n){for(var i=function(i){var e=t[i],u=e.lF;if(e.QLt.ULt.qOt&&Cj(e.Eut))u=0;else{var s=function(t){return e.QLt===t.QLt&&Nj(t.Eut,e.Eut)},o=Hi(t,s);if(void 0!==o)u=k.min(u,o.dF);else{var a=Hi(n,s);void 0!==a&&(u=k.min(u,a.sUt.Tn(0)))}}r=r.AB(FA.VB(u,e.dF))},r=FA.WB(),e=0;e<t.length;e++)i(e);return r}F(),Tt();var PK=.001,LK=function(){function t(t,n,i,r){this.oHt=t,this.uHt=n,this.hHt=i,this.XH=r,this.rHt=[]}var n=t.prototype;return n.dGt=function(t){this.oHt.dGt(t)},n.aHt=function(t){for(var n,i=function(t){var i=n.rHt[t];if(!i.nUt)throw new p("Invalid state");var e=ji(r,(function(t){return t.zw===i.zw}));e>=0&&!i.uUt?(i.Grt(r[e]),Qi(r,e)):Qi(n.rHt,t)},r=t.slice(),e=this.rHt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new jj(s);this.rHt.push(new Kj(s.zw,s,this.uHt,o,this))}r.length>0&&this.uHt.Gb();var a=t.map((function(t){return t.zw}));this.hHt.ZZt(a)},n._Q=function(t){var n,i=(null==(n=this.XH)?void 0:n._Q(t))||!1;return i&&(this.np(),this.uHt.Gb()),i},n.cHt=function(t){for(var n=0,i=this.rHt;n<i.length;n++){var r=i[n];if(r.zw!==aw.Rk||r.bCt)throw new p("Invalid state")}var e=new jj(t),u=new Kj(aw.Rk,t,this.uHt,e,this);this.rHt=[u]},n.Uat=function(){for(var t=0,n=this.rHt;t<n.length;t++){n[t].rUt.eUt()}},n.Plt=function(t){var n=this.lHt.BB(t,PK);return n?n.Tn(n.V-1):t},n.xGt=function(t){return!!this.lHt.BB(t,PK)||this.oHt.xGt(t)},n.fHt=function(t){return this.dHt.wr(t,PK)},n._Ht=function(t,n,i){for(var r=0,e=this.rHt;r<e.length;r++){var u=e[r].rUt,s=u.Vmt;if(void 0!==s&&n>=s&&!u.SI.gB().wr(s))return!0}return n-t<i},n.np=function(){this.vHt(),this.gHt()},n.vHt=function(){this.oHt.np()},n.gHt=function(){this.hHt.np(),this.nHt.forEach((function(t){return t.np()}))},n.Km=function(){this.np(),this.oHt.Km()},Nt(t,[{key:"nHt",get:function(){return this.rHt}},{key:"QLt",get:function(){return this.oHt.QLt}},{key:"bCt",get:function(){return this.oHt.bCt||this.hHt.bCt||this.rHt.some((function(t){return t.bCt}))}},{key:"QWt",get:function(){var t=this.uHt.QWt;if(t)return t;if(this.rHt.length>0){var n=this.rHt[0].rUt.QWt;if(n&&this.rHt.every((function(t){return t.rUt.QWt===n})))return n}}},{key:"lHt",get:function(){if(0===this.rHt.length)return FA.WB();for(var t=xK(this.uHt.cZt.concat(this.uHt.dZt),er(this.rHt,(function(t){return t.rUt.xct}))).gB(),n=new FA([0,1/0]),i=0,r=this.rHt;i<r.length;i++){var e=r[i];n=n.jn(e.rUt.SI)}for(var u=0,s=this.rHt;u<s.length;u++){var o=s[u];n=n.TB(o.oUt)}return(n=n.AB(t)).bB(PK)}},{key:"dHt",get:function(){if(0===this.rHt.length)return FA.WB();for(var t=xK(this.uHt.dZt,er(this.rHt,(function(t){return t.rUt.xct}))).gB(),n=new FA([0,1/0]),i=0,r=this.rHt;i<r.length;i++){var e=r[i];n=n.jn(e.rUt.SI)}return n=n.AB(t)}}]),t}();F(),Tt(),Rt();var MK=function(t){function n(){return t.call(this,Oz.OLt)||this}return It(n,t),n}(ma);F(),Tt(),Rt();var OK=function(t){function n(){return t.call(this,Oz.LLt)||this}return It(n,t),n}(ma);F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var BK="LazyMediaBuffer",VK=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zp=n,r.yHt=i,r.NT=void 0,r.Krt=void 0,r.pHt=new ih,r.aQ=20,r.lQ=30,r.t4=new fC,r}It(n,t);var i=n.prototype;return i.i4=function(t,n){Jz.wBt(BK,"Marking gap from "+t+" to "+n+"."),this.t4.m$(t,n),this.Krt&&this.Krt.i4(t,n)},i.s4=function(t,n){Jz.wBt(BK,"Removing gap from "+t+" to "+n+"."),this.t4.p$(t,n),this.Krt&&this.Krt.s4(t,n)},i.mHt=function(t){this.Krt=t,this.Krt.sQ=this.lQ,this.Krt.$j=this.aQ;for(var n=this.t4.v$,i=0;i<n.V;i++)this.Krt.i4(n.Sn(i),n.Tn(i));this.Krt.bn($R.PJ,this.Ds),this.pHt.Zb(t)},i.wHt=function(t){return Sr(this.pHt.Xb,t)},i.r3=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,r.wHt(i)];case 1:return[4,e.sent().r3(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.n4=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.wHt()];case 1:return[4,n.sent().n4()];case 2:return n.sent(),[2]}}))}))()},i.a3=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,r.wHt(i)];case 1:return[4,e.sent().a3(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.rT=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,r.wHt(i)];case 1:return[4,e.sent().rT(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.T3=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,i.wHt()];case 1:return[4,r.sent().T3(t,n)];case 2:return r.sent(),[2]}}))}))()},i.ZJ=function(t){return!!this.Krt&&this.Krt.ZJ(t)},i.XJ=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.wHt()];case 1:return[4,i.sent().XJ(t)];case 2:return i.sent(),[2]}}))}))()},i.yn=function(){var t;this.Ro(),null==(t=this.Krt)||t.vn($R.PJ,this.Ds),this.Krt=void 0},Nt(n,[{key:"Fk",get:function(){return this.NT}},{key:"j3",get:function(){return this.Zp}},{key:"kd",get:function(){if(!this.Krt)throw new ld(vd.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Krt.kd}},{key:"$j",get:function(){return this.aQ},set:function(t){this.aQ=t,this.Krt&&(this.Krt.$j=t)}},{key:"SI",get:function(){return this.Krt?this.Krt.SI:FA.WB()}},{key:"J3",get:function(){return this.Krt?this.Krt.J3:this.t4.v$}},{key:"sQ",get:function(){return this.lQ},set:function(t){this.lQ=t,this.Krt&&(this.Krt.sQ=t)}}]),n}(la),FK="LazyMediaSource",UK=function(){function t(t,n,i){this.aO=t,this.bHt=void 0,this.AHt=void 0,this.IHt=new ih,this.kZ=void 0,this.xHt=!1,this.FA=NaN,this.jit=!1,this.SHt=0,this.THt=1/0,this.kHt=!1,this.EHt=!1,n&&(Jz.wBt(FK,"Created lazy media buffer for audio."),this.bHt=new VK(aw.wE,this)),i&&(Jz.wBt(FK,"Created lazy media buffer for video."),this.AHt=new VK(aw.yE,this))}var n=t.prototype;return n.q4=function(t){this.FA=t,this.kZ&&this.kZ.q4(t)},n.Y3=function(){this.jit=!0,this.kZ&&this.kZ.Y3()},n.V3=function(){this.jit=!1,this.kZ&&this.kZ.V3()},n.Q4=function(t,n,i,r){this.SHt=t,this.THt=n,this.kHt=Boolean(i),this.EHt=Boolean(r),this.kZ&&this.kZ.Q4(t,n,i,r)},n.ZJ=function(t){return!this.kZ||this.kZ.ZJ(t)},n.XJ=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:if(!n.ZJ(t))throw new p("LazyMediaSource - Unable to reconfigure MediaSource.");return n.kZ?[3,2]:(n.aO.Q7(),[4,n.aO.$n(t)]);case 1:return e=u.sent(),S(n.FA)||e.q4(n.FA),n.jit&&e.Y3(),e.Q4(n.SHt,n.THt,n.kHt,n.EHt),Jz.wBt(FK,"The MediaSource has been loaded."),n.xHt=!0,n.kZ=e,null==(i=n.bHt)||i.mHt(n.kZ.d4),null==(r=n.AHt)||r.mHt(n.kZ.f4),n.IHt.Zb(e),n.aO.J7(),[3,4];case 2:return[4,n.kZ.XJ(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.qJ=function(t){this.kZ.qJ(t)},n.Km=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return null==(n=t.bHt)||n.yn(),null==(i=t.AHt)||i.yn(),t.kZ?[4,t.kZ.Km()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},Nt(t,[{key:"kd",get:function(){return{zw:Cp.qW,J4:[],CZ:[]}}},{key:"d4",get:function(){return this.bHt}},{key:"f4",get:function(){return this.AHt}},{key:"SI",get:function(){return this.kZ?this.kZ.SI:FA.WB()}},{key:"ct",get:function(){return this.kZ?this.kZ.ct:this.FA}},{key:"r$",get:function(){return!!this.kZ&&this.kZ.r$}},{key:"cR",get:function(){return this.kZ?this.kZ.cR:new FA([0,1/0])}}]),t}();function WK(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=XK(i,"tag"),a=XK(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}F(),Tt(),at();WK((function(t,n){return"*"===n||t===n||Jo(t,n+"-")}),!0),WK((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var ZK=WK((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function XK(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":U(i))||!("length"in i))throw new p("Invalid "+n+" `"+i+"`, expected non-empty string");return i}F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var GK=16384,HK=71,zK=188,YK=2,jK=3,KK=function(t){return t[t.oE=0]="oE",t[t.nP=1]="nP",t[t.RHt=2]="RHt",t[t.CHt=3]="CHt",t}({});function qK(t){return JK(t)?1:function(t){return function(t){if(t.length<YK*zK)return-1;for(var n=t.length<jK*zK?YK:jK,i=k.min(1e3,t.length-n*zK),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*zK]!==HK){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==qD(Pc(t),new Uc)}(t)?3:0}function JK(t){var n=Dc(t,0,k.min(t.length,GK));return Iy.dN(Pc(n))}var QK=function(){function t(t,n,i,r){this.Zp=t,this.Krt=n,this.Zmt=i,this.xNt=r}var n=t.prototype;return n.PHt=function(t){return this.Krt===t},n.a3=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return i.Krt.kd.Fk===t.sHt.Frt?[3,3]:(r={Fk:t.sHt.Frt},i.Krt.ZJ(r)?[4,i.Krt.XJ(r)]:[3,2]);case 1:return e.sent(),kr(n),[3,3];case 2:throw new dN(i.Krt.kd.Fk,t.sHt.Frt);case 3:return[4,i.Krt.a3(t.$k,{A2:t.QLt.OC},n)];case 4:return e.sent(),void 0!==i.xNt&&i.Zp===aw.yE&&JK(t.$k.$k)&&i.xNt.Tot(t.$k.$k),[2]}}))}))()},n.r3=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return kr(n),Jz.zN("HlsMediaBuffer","Got media data, appending to "+i.Zp+" MediaBuffer: "+kY(t.wUt.Iyt)),r=t.IZt,e=t.RZt,u={$it:t.lF,ct:t.ct,aW:t.aW,A2:t.QLt.OC},void 0===t.$k?[3,2]:[4,i.Krt.r3(t.$k,u,n)];case 1:s.sent(),i.DHt(t.$k,t),s.label=2;case 2:return i.NHt(r,e),[2]}}))}))()},n.DHt=function(t,n){var i;if(JK(t.$k)){var r=n.lF,e=r+n.ct,u=n.aW;if(null==(i=this.Zmt)||i.adt(t.$k,r,u),void 0!==this.xNt&&this.Zp===aw.yE){var s=n.wUt.gFt;this.xNt.adt(t.$k,r,e,u,n.QLt,s)}var o=[];void 0!==this.Zmt&&o.push(this.Zmt),void 0!==this.xNt&&o.push(this.xNt),pp(this.SI,o)}},n.NHt=function(t,n){for(var i=this.Krt.SI,r=new FA([t,n]).TB(i),e=0;e<r.V;e++)this.Krt.i4(r.Sn(e),r.Tn(e));for(var u=0;u<i.V;u++)this.Krt.s4(i.Sn(u),i.Tn(u))},n.i4=function(t,n){this.Krt.i4(t,n)},n.s4=function(t,n){this.Krt.s4(t,n)},Nt(t,[{key:"zw",get:function(){return this.Zp}},{key:"SI",get:function(){return this.Krt.SI}},{key:"J3",get:function(){return this.Krt.J3}}]),t}();function $K(t){if(t.zw===yY.GBt&&void 0!==t.zLt){var n=t.zLt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.zLt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}F(),Tt(),F(),Tt(),F(),Tt();var tq=function(){function t(t){this.kZ=t}var n=t.prototype;return n.BBt=function(t){var n,i,r;return null==(r=null==(i=this.kZ)||null==(n=i.f4)?void 0:n.ZJ(t))||r},n.OBt=function(t){var n,i,r;return null==(r=null==(i=this.kZ)||null==(n=i.d4)?void 0:n.ZJ(t))||r},t}(),nq="LLHLSPlayer",iq=[Np.rB,Np.oB,Np.hB,Np.aC],rq=[ya.Qy,ya.Ry,ya.Fy,ya.By],eq=2e3,uq=function(t){function n(n,i,r,e,u,s,o,a){var c,h,f;return c=t.call(this)||this,h=c,c.XH=r,c.zH=e,c.kUt=u,c.mXt=s,c.BXt=fo(),c.aXt=!0,c.hXt=!0,c.eXt=!1,c.QHt=void 0,c.kZ=void 0,c.ipt=void 0,c.GW=new mr,c.hEt=void 0,c.PXt=void 0,c.NXt=void 0,c.MXt=void 0,c.VHt=void 0,c.LHt=void 0,c.MHt=void 0,c.qHt=void 0,c.RXt=void 0,c.$Xt=[],c.H4=void 0,c.X4=void 0,c.lXt=void 0,c.OHt=void 0,c.OXt=void 0,c.gXt=void 0,c.tzt=new mr,c.nXt=void 0,c.V8=new mr,c.W8=void 0,c.XHt=-1,c.xzt=void 0,c.Rzt=void 0,c.Dzt=void 0,c.Ezt=void 0,c.Izt=void 0,c.Pzt=void 0,c.xSt=!0,c.GXt=0,c.UXt=!1,c.TZ=cS.xH,c.bZ=void 0,c.AZ=void 0,c.j4=FA.WB(),c.jzt=[],c.JHt=void 0,c.$Ht=void 0,c.iEt=!1,c.k8=!1,c.sxt=void 0,c.nxt=0,c.rxt=0,c.tXt=void 0,c.iXt=0,c.Fkt=!1,c.Wzt=!1,c.fXt=KA.bO,c.NDt=void 0,c.Qzt=void 0,c.Ckt=0,c.handleContentProtectionErrorEvent=function(t){c.bZ=lw(t.errorObject),c.AZ=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){!function(t){return t instanceof dN}(t.lt)?c.uH(new ld(vd.MEDIA_LOAD_ERROR,t.lt.message,t.lt)):xr(c.dXt(c.dBt,c._Bt,c.qHt,{WR:!0}))},c.fxt=function(t){c.uH(gw(t.lt))},c.Xzt=function(){c.SVt();var t=c.ct;t!==c.sxt&&(c.sxt=t,c._o(new ST(c.sxt)))},c.Ah=function(){c.MI&&c._o(new IT(c.RI))},c.BMt=function(){c._o(new AT(c.RI))},c.zzt=function(){c.nkt(),c._o(new TT(c.RI))},c.fO=function(){void 0!==c.Qzt&&(Kn.Um(c.Qzt),c.Qzt=void 0),c._o(new Fp(c.RI))},c.qzt=function(){c._o(new oC(c.RI))},c.cU=function(){c._o(new xp(c.RI,c.aR))},c.i9=function(){var t=c.eBt;rr(c.jzt,t)||(c._o(new Yj),c.jzt=t),c._o(new Eg(c.RI,c.kI))},c._zt=ki((function(t){t.PE===aw.yE&&c.BHt()&&xr(c.FHt())}),200),c.vzt=function(t){var n;c.Ckt+=t.lGt;var i=c.rt.V>0?t.PE===aw.yE:t.PE===aw.wE;"Eut"===t.cGt&&i&&xr(c.HXt()),c._o(new MO(function(t){if(t){if(void 0!==t.oAt){var n,i,r=t.oAt.Sn+(null!=(i=t.oAt.V)?i:0);return{Xu:t.Fx,Kat:[null==(n=t.oAt)?void 0:n.Sn,r],DE:!0}}return{Xu:t.Fx.toString()||"",DE:!0}}return{Xu:"",DE:!0}}(t.uri),(null==(n=c.JLt)?void 0:n.jG)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.PE,t.httpStatusCode,t.lGt))},c.Ge=function(){c._o(new RT(c.RI))},c.jZ=function(){c._o(new CT(c.RI))},c.Yzt=function(){c.Kkt()},c.Kzt=function(){c._o(new NT(c.RI,c.yR))},c.Zzt=function(){c.aO.dR?c._o(new Op(c.RI)):(null!=c.Qzt||(c.Qzt=Kn.Gm((function(){c.Wzt&&(c.NDt=void 0,xr(c.UHt()))}),2500)),c.nkt(),c._o(new Op(c.RI)))},c.Hzt=function(){c.Wzt=!0,c._o(new Bp(c.RI,c.aR))},c.rXt=function(t){br(t)||ql(t)||Jl(t)||(c.rzt(),xr(c.hzt()),c._o(new rY(t)))},c.jWt=function(){c.SVt()},c._Xt=function(t){xr(c.QXt(t.QLt,c.GW.ep))},c.Gpt=function(t){if(!br(t)){var n=t instanceof ld?t:new ld(vd.MEDIA_DECODE_ERROR,t.message,t);c.uH(n)}},c.onTextTrackChange=function(t){if(c.VHt){var n=t.Ht,i=c.LXt(n);i&&(n.LE===qy.GC||n.LE===qy.Qn?(xr(c.jXt(i)),c.BXt.forEach((function(t){t!==n&&(t.LE=qy.Mh)}))):c.qHt&&c.qHt===i&&xr(c.dXt(c.LHt,c.MHt,void 0)))}},c.retryOfflineRenditionsCallback=Pt((function(t,n){return Ot(this,(function(i){switch(i.label){case 0:return h.zHt!==t&&h.dBt!==t&&h._Bt!==t?[2]:[4,h.hEt.LWt(t,n)];case 1:return i.sent(),t.ULt.cVt=-1/0,[2]}}))})),c.lxt=function(){c.zTt()},c.dxt=function(){c.qTt()},c.gzt=function(t){var n=c.VHt,i=null==n?void 0:n.iFt;if(c.hEt.qWt(t.Frt,t.QLt.ULt),!i&&(c.hEt.YWt(t.Frt,t.QLt.ULt),c.yXt.xBt(),n)){var r=void 0!==c.LHt&&!tr(n.SBt,c.LHt),e=void 0!==c.MHt&&!tr(n.TBt,c.MHt);(r||e)&&c.dXt(r?void 0:c.LHt,e?void 0:c.MHt,c.qHt).catch(_i)}},c.mzt=function(t){c.yXt.CBt(t.QLt,t.Xdt)},c.pzt=function(t){c.yXt.DBt(t.QLt,t.BZt.VF())},c.wzt=function(t){c.hEt.XWt(t.QLt)},c.Rut=new IZ(o),c.aO=n,c.WW=i,c.RZ=new iY(c.XH.Zj),c.YXt=new eY(c.aO),c.XXt=new lY(c.XH),c.Wlt=ao({},a.retryConfiguration,{maxRetries:null!=(f=a.retryConfiguration.maxRetries)?f:1/0}),c.LO=new ow,c.FO=new ow,c.yXt=new nY(c,c.XH,c.LO,c.FO),c.WXt=new rp,c.VZ=new kp(c.aO,c.WW),c.Zmt=new SZ(c.aO),c.xNt=new YV(c.aO),c.Hl=new Wk([c.WXt,c.VZ.Z,c.Zmt.Z,c.xNt.Z,c.aO.nt]),c.MZ=new Fk(c.WW),c.aO.zZ=c.MZ,c.axt=new oq(c,c.aO),c.Vzt=new Wp(c.axt,!0),c.Gzt(),c}It(n,t);var i=n.prototype;return i.BHt=function(){if(void 0===this.OHt)return!1;var t=Kn.Wm();if(!this.OHt.oHt.aZt(t))return!1;var n=this.OHt.oHt.nZt();if(void 0===n||void 0===n.Eut.ct)return!1;var i=this.RI,r=this.tR,e=this.OHt.lHt.BB(i);return!((void 0!==e?e.Tn(0)-i:0)>=2*n.Eut.ct*r)&&(n.rZt>0&&0===n.oZt?n.hZt>1e3*n.Eut.ct*.8:8*n.oZt/this.XH.Zj.jG>=1.8*n.Eut.ct)},i.FHt=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return[4,t.WBt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.OHt)?void 0:n.oHt.nZt())?[2]:(e=t.VHt,r.oZt>0&&(u=k.max(0,r.oZt-r.rZt),s=r.oZt*(i.jG/e.jG),u<=s)?[2]:(o=i.jG<e.jG,[4,t.sBt(i,{nBt:o})]));case 2:return a.sent(),[2]}}))}))()},i.WHt=function(t){return ur(t,(function(t){return t.jG}))},i.UHt=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return[4,t.GHt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.ZHt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.WHt(n))?[3,4]:[4,t.sBt(r,{nBt:!0})];case 3:e.sent(),t.RZ.JRt(r.jG),e.label=4;case 4:return[2]}}))}))()},i.DI=function(t,n){var i,r,e,u,s=this;Jz.zN(nq,"Seeking to "+t+" s.");var o={KHt:null!=(r=null==n?void 0:n.KHt)?r:t===1/0,jHt:null==(e=null==n?void 0:n.jHt)||e,BOt:null!=(u=null==n?void 0:n.BOt)&&u};this.JHt=t,this.$Ht=o,this.tXt=!0,this.iEt=!0,null==(i=this.mZ)||i.NR(),this._o(new RT(t)),this.V8.np(),this.eXt&&(Kn.Um(this.iXt),o.jHt?this.iXt=Kn.Gm((function(){return s.sXt(t,o)}),50):this.sXt(t,o))},i.sXt=function(t,n){Kn.Um(this.iXt);var i=[this.ipt,this.nXt,this.W8].filter(Yn);this.V8=new mr,this.V8.rp(this.GW.ep),this.W8=Er(this.U8(i,t,n,this.V8.ep),this.V8).catch(this.rXt)},i.SVt=function(){var t=function(t){if(0===t.length)return FA.WB();for(var n=new FA([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].ULt.cR;e.V>0&&(n=n.jn(e),i=k.max(i,e.Sn(0)))}if(n.V>0)return n;return FA.FB(i)}([this.LHt,this.MHt].filter(Yn));0!==t.V&&(this.kZ&&this.HHt&&this.kZ.ct!==1/0&&(t=new FA([t.Sn(0),this.kZ.ct])),this.j4=t,this.hXt&&this.Zmt.PW(t.Sn(0)),this.aXt&&this.xNt.PW(t.Sn(0)))},i.MR=function(){return!1},i.xR=function(){return this.aO.Sa},i.ja=function(){return this.aO.WZ},i.ZR=function(t){return this.aO.UZ(t)},i.be=function(){Jz.zN(nq,"Hiding the player."),this.aO.be()},i.PR=function(){var t;Jz.zN(nq,"Pausing the player."),this.aO.PR(),(null==(t=this.mZ)?void 0:t.UB)&&this.mZ.NR()},i.DR=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return t.k8=!0,n=t.aO.DR(),t.MI&&(i=t.Ikt).V>0&&t.DI(i.Sn(0),{jHt:!1}),t.eXt?[3,2]:[4,t.oXt()];case 1:r.sent(),r.label=2;case 2:return t.nkt(),[4,n];case 3:return r.sent(),t.sEt(),[2]}}))}))()},i.nkt=function(){var t;if(!this.xkt())if(null==(t=this.JLt)?void 0:t.ULt.qOt){var n,i=!0,r=0,e=null==(n=this.VHt)?void 0:n.ULt.Sn;if(!this.iEt&&e&&(i=!e.BOt,(r=e.LOt)<0)){var u=this.JLt.ULt.zFt;r+=u.Tn(u.V-1)}this.sXt(r,{KHt:i})}else this.sXt(1/0,{KHt:!0});this.uXt()&&this.sXt(1/0,{KHt:!0})},i.xkt=function(){var t,n=this.Ikt;if(0===n.V)return!0;var i=null==(t=this.cXt)?void 0:t.kB(this.RI);return(i&&i>0?this.cXt.Tn(i):this.RI)>=n.Sn(0)},i.uXt=function(){return gq(this.RI,this.LHt)||gq(this.RI,this.MHt)},i.VEt=function(){this.bZ=void 0,this.AZ=void 0},i.uH=function(t){this.bZ||(xr(this.nr()),this.bZ=lw(t),this.AZ=t,this._o(new xk(t)))},i.ge=function(){Jz.zN(nq,"Showing the player."),this.aO.ge()},i.LR=function(){throw new p("Not implemented")},i.OR=function(){throw new p("Not implemented")},i.FR=function(){},i.WR=function(){this.eXt&&xr(this.dXt(this.LHt,this.MHt,this.qHt,{WR:!0}))},i.Ca=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:e={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,4,5,6]),Jz.zN(nq,"Setting the player source to "+t.src+"."),r.VEt(),!r.QHt||gT(r.QHt)?[3,3]:[4,r.nr()];case 2:f.sent(),kr(i),f.label=3;case 3:return!t.src||gT(t)?[2]:(s=Vt(e,mr.hp([i]),!1),r.GW=mr.hp([s.ep]),r.MZ.tZ(t.contentProtection),r.QHt=t,r.fXt=t.seamlessSwitchStrategy,r.aXt=!tr(t.ignoreEmbeddedTextTrackTypes,Ow.CEA608),r.hXt=!tr(t.ignoreEmbeddedTextTrackTypes,Ow.EMSG),r.bn(Oz.VLt,r.handleBufferingErrorEvent),a=null!=(o=null==(u=t.latencyConfiguration)?void 0:u.targetOffset)?o:t.liveOffset,r.hEt=new Wj(r.WW,r.Rut,t.useCredentials,Kn.Ew(t.src),a),r.hEt.bn(Uj.mWt,r.jWt),r.hEt.bn(Uj.pWt,r._Xt),r.hEt.bn(ya.Hy,r.Ds),r.hEt.bn(ya.Xy,r.Ds),t.hlsDateRange&&(r.vXt=new zj(r.hEt,r.aO),r.Hl.aZ(r.vXt.nt)),null!=r.gXt||(r.gXt=r.mXt.ist()),n.textTracks&&r.LZ(n.textTracks),t.latencyConfiguration&&(c=t.latencyConfiguration,r.mZ=new RZ(r,r.aO,c),r.mZ.Rt=!0,r.SR.Aa(r.mZ)),Ip(r.Hl),r.oXt(),s.Km(),[3,6]);case 4:return h=f.sent(),e.error=h,e.hasError=!0,[3,6];case 5:return Ft(e),[7];case 6:return[2]}}))}))()},i.oXt=function(){return this.ipt=this.pXt(this.ipt,this.GW.ep).catch(this.Gpt),this.ipt},i.pXt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),kr(n),e.label=2;case 2:return i.hEt?(r=i.TZ)===cS.bO||i.k8?[4,i.ix(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==cS.xW?[3,6]:[4,i.wXt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.wXt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:if(void 0===n.hEt||n.Fkt)return[2];if(n.hEt.bWt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.hEt.xWt(t)];case 2:return a.sent(),[3,4];case 3:throw Ar(i=a.sent()),n.jI=!1,new ld(vd.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.yXt.Jdt(),a.label=5;case 5:return[4,n.bXt()];case 6:return r=a.sent(),n.AXt(r),e=n.SXt(r.SBt),u=n.TXt(r.TBt),(s=n.kXt(r.nFt))||(o=cq(r.rFt))&&(Jz.zN(nq,"Detected initial closed caption rendition."),n.EXt(r,o)),[4,n.dXt(e,u,s,{xXt:!0})];case 7:return a.sent(),n.Fkt=!0,n.axt.vxt(),n.IXt(),[2]}}))}))()},i.IXt=function(){var t,n=[this.LHt,this.MHt].filter(Yn);if(!n.some((function(t){return t.ULt.qOt}))&&!this.mZ){var i=(t=k).max.apply(t,Kt(n.map((function(t){var n;return null!=(n=t.ULt.MSt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:WA,maximumPlaybackRate:ZA};this.mZ=new RZ(this,this.aO,r),this.zH.Aa(this.mZ)}},i.bXt=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:if(t.RXt=t.hEt.Nr.ABt,!t.RXt.length)throw new ld(vd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.CXt(t.RXt)];case 1:if(0===(n=r.sent()).length)throw new ld(vd.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.ZHt(n)];case 2:return(i=r.sent()).length>0&&(n=i),Jz.zN(nq,"Selecting initial active variant stream."),[2,hq(n,t.QHt.abr,t.XH,t.Wlt.maximumBackoff)]}}))}))()},i.SXt=function(t){if(this.PXt){var n=this.DXt(this.PXt);if(n)return n}return vq(t)},i.TXt=function(t){if(this.NXt){var n=this.DXt(this.NXt);if(n)return n}return vq(t)},i.kXt=function(t){for(var n=0,i=this.Hl.mC;n<i.length;n++){var r=i[n];r.LE===qy.Qn&&(this.MXt=this.LXt(r))}if(this.MXt){var e=this.DXt(this.MXt);if(e)return e}return cq(t)},i.LXt=function(t){var n=this;return Hi(this.VHt.nFt,(function(i){return t===n.BXt.get(i.OC)}))},i.ix=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.eXt?[2]:[4,n.wXt(t)];case 1:return i.sent(),kr(t),n.eXt=!0,[4,n.dXt(n.LHt,n.MHt,n.qHt,{xXt:!0})];case 2:return i.sent(),[2]}}))}))()},i.LZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.VZ.OW(i)}},i.EXt=function(t,n){if(this.aXt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=$K(r);void 0!==e&&n.push({Det:e,Net:r.gs||"",Ch:r.l})}return n}(t.rFt),r=0;r<i.length;r++){var e=i[r];this.xNt.cmt(e)}if(void 0!==n){var u=$K(n);this.xNt.amt(u).LE=qy.Qn}}},i.iBt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.FXt(i))throw new p("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.RXt=t},i.FXt=function(t){var n=this.Nr;return!!n&&tr(n.ABt,t)},i.DXt=function(t){if(t&&this.VHt)return Hi(this.VHt.RBt,(function(n){return n===t}))},i.AXt=function(t){var n;if(Jz.zN(nq,"Setting active variant stream."),this.VHt!==t){var i=(null==(n=this.VHt)?void 0:n.dOt)!==(null==t?void 0:t.dOt);if(this.VHt&&i)for(var r=0,e=this.VHt.nFt;r<e.length;r++){var u=e[r];this.ZW(u)}if(this.VHt=t,this._o(new MK),this.Kkt(),t&&i)for(var s=0,o=t.nFt;s<o.length;s++){var a=o[s];this.VXt(a)}}},i.VXt=function(t){var n=this.aO.ZR(ep.TW,void 0,t.l,t.gs,t.GLt,void 0,void 0,t.YLt.map(Kz).filter(Yn));n.bn(Og.da,this.onTextTrackChange),this.BXt.set(t.OC,n),this.WXt.tt(n)},i.ZW=function(t){var n=this.BXt.get(t.OC);n&&(n.vn(Og.da,this.onTextTrackChange),this.WXt.it(n),this.BXt.delete(t.OC),this.aO.ZW(n))},i.GHt=function(){var t=this;return Pt((function(){var n,i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.RXt)?n:t.Nr.ABt).length||t.RXt?1!==i.length||t.RXt?[4,t.CXt(i)]:(Jz.zN(nq,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(Jz.zN(nq,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(Jz.yBt(nq,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=dq(r,t.Wlt.maximumBackoff)).length?[3,3]:t.UXt?[2,[]]:(Jz.yBt(nq,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.GXt++,[4,t.ZXt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.HXt=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return[4,t.WBt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.VHt&&n.jG<t.VHt.jG,[4,t.sBt(n,{nBt:i})]);case 2:return r.sent(),[2]}}))}))()},i.WBt=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return[4,t.GHt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=aH(t.aO),[4,t.ZHt(r)]);case 2:return u=c.sent(),s={ji:t.aO.ji,Ti:t.aO.Ti,LBt:e,glt:null==(i=t.QHt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.XXt.WBt(r,t.VHt,u,s,new tq(t.kZ))];case 3:return o=c.sent(),a=!!t.VHt&&o.jG<t.VHt.jG,[2,a||t.zXt(o,e)?o:void 0]}}))}))()},i.zXt=function(t,n){var i;if(t===this.JLt)return!1;var r=this.JLt&&lq(this.JLt,this.Wlt.maximumBackoff),e=lq(t,this.Wlt.maximumBackoff);if(!r&&e)return!0;(!this.NDt||this.NDt.$Lt.jG>t.jG)&&(this.NDt={$Lt:t,Rft:Kn.Wm()});var u,s=Kn.Wm()-this.NDt.Rft,o=null!=(u=null==(i=this._Bt)?void 0:i.ULt.MBt)?u:1/0;return n>=k.max(o-1,5)||s>1e3},i.ZXt=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:n.UXt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.MHt?Hi(e.TBt,(function(t){return Vz(t,n.MHt)})):void 0)?[3,5]:[4,n.LWt(u)];case 3:return s.sent(),u.ULt.cVt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.GXt=0,[4,n.qXt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.GXt>=n.Wlt.maxRetries?(n.uH(new ld(vd.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Mr(k.min(n.Wlt.minimumBackoff*k.pow(2,n.GXt-1),n.Wlt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.UXt=!1,[4,n.HXt()];case 11:return s.sent(),[2]}}))}))()},i.CXt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,hr(t,Pt((function(t){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.Frt)?void 0:i.UPt)?'audio/mp4; codecs="'+t.Frt.UPt+'"':void 0,(null==(r=t.Frt)?void 0:r.ZPt)?'video/mp4; codecs="'+t.Frt.ZPt+'"':void 0].filter(Yn)).length?[2,!0]:[4,n.YXt.l$(u,null==(e=n.QHt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.Frt)?void 0:n.ZPt}))&&(i=i.filter((function(t){return!t.Frt||t.Frt.ZPt||0!==t.TBt.length}))),i.some((function(t){var n;return null==(n=t.Frt)?void 0:n.UPt}))&&(i=i.filter((function(t){return!t.Frt||t.Frt.UPt||0!==t.SBt.length}))),[2,i]}}))}))()},i.ZHt=function(t){var n=this;return this.hEt.SWt?hr(t,(function(t){return function(t,n){return dr.apply(this,arguments)}([vq(t.SBt),vq(t.TBt),cq(t.nFt),cq(t.rFt)].filter(Yn),(function(t){return n.KXt(t)}))})):et.resolve([])},i.KXt=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:if(0===t.ULt.xct.length)return[2,!1];if(!(i=t.ULt.xct[0]).Iyt)return[2,!1];r=i.Iyt,e=r.oAt?gY(r.oAt.Sn,r.oAt.V):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Rut.clt(r.Fx,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.sBt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:if(!i.eXt)throw new p("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new p("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.FXt(t))throw new p("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.VHt?(Jz.zN(nq,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.LHt?Hi(t.SBt,(function(t){return Vz(t,i.LHt)})):void 0,e=i.MHt?Hi(t.TBt,(function(t){return Vz(t,i.MHt)})):void 0,u=i.qHt?Hi(t.nFt,(function(t){return Vz(t,i.qHt)})):void 0,i.AXt(t),i.NDt=void 0,[4,i.dXt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.fBt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:if(!n.VHt)return n.PXt=t,[2];if(i=n.DXt(t),t&&!i)throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.dBt===i?[2]:(r=Yn(i)!==Yn(n.LHt),Jz.zN(nq,"Switching audio rendition"),[4,n.dXt(i,n.MHt,n.qHt,{oBt:!0,nBt:r})]);case 1:return e.sent(),[2]}}))}))()},i.vBt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:if(!n.VHt)return n.NXt=t,[2];if(i=n.DXt(t),t&&!i)throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n._Bt===i?[2]:(r=Yn(i)!==Yn(n.MHt),Jz.zN(nq,"Switching video rendition"),[4,n.dXt(n.LHt,i,n.qHt,{rBt:!0,nBt:r})]);case 1:return e.sent(),[2]}}))}))()},i.jXt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(!t)throw new p("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.Fkt)return n.MXt=t,[2];if(!(i=n.DXt(t)))throw new p("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return Jz.zN(nq,"Switching subtitle rendition"),[4,n.dXt(n.LHt,n.MHt,i)];case 1:return r.sent(),[2]}}))}))()},i.QXt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return i.UXt?[2]:(r=0===i.rt.V,t.zw===yY.yE||t.zw===yY.wE&&r?[3,2]:[4,i.JXt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.RXt&&i.RXt.length<=1?t.zw!==yY.yE||i.MHt===t?[3,4]:[4,i.dXt(i.LHt,t,i.qHt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.zw===yY.wE&&r&&i.LHt!==t?[4,i.dXt(t,i.MHt,i.qHt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.JXt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i.HXt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.LWt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.hEt.LWt(t,n)];case 1:return e.sent(),[3,5];case 2:return Ar(r=e.sent()),ql(r)||Jl(r)?[4,i.QXt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.JXt=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:if(tr(i.$Xt,t))return[2];i.$Xt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.zw===yY.TW||t.zw===yY.GBt?1/0:i.Wlt.maxRetries,[4,DT((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.Wlt.minimumBackoff,i.Wlt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.uH(new ld(vd.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return Ji(i.$Xt,t),t.ULt.cVt!==-1/0?[3,6]:[4,i.qXt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.dXt=function(t,n,i,r){void 0===r&&(r={});var e={nBt:r.nBt||!1,oBt:r.oBt||!1,rBt:r.rBt||!1,WR:r.WR||!1,xXt:r.xXt||!1};return e.xXt||e.WR||this.LHt!==t||this.MHt!==n||this.qHt!==i?void 0===t&&void 0===n?et.reject(new p("Trying to buffer no media renditions.")):(this.LHt=t,this.MHt=n,this.qHt=i,this.SVt(),this._o(new OK),this.V8.np(),this.V8=new mr,this.V8.rp(this.GW.ep),this.tzt.np(),this.tzt=new mr,this.tzt.rp(this.GW.ep),this.nXt=Er(this.ezt([this.nXt,this.W8].filter(Yn),t,n,i,e,this.tzt.ep),this.tzt).catch(this.rXt),this.nXt):et.resolve()},i.izt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a;return Ot(this,(function(c){return(o=[]).push(e.szt(n,r)),Fz(t,n)||o.push(e.szt(t,r)),(null==(s=e.QHt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,et.all(o).then((function(){return e.szt(i,r)}))]:(a=e.szt(i,r),[2,et.all(Kt(o).concat([a]))])}))}))()},i.szt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.hEt.LWt(t,n)];case 2:return e.sent(),[3,6];case 3:return Ar(r=e.sent()),ql(r)||Jl(r)?[4,i.nzt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.nzt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return i.UXt?[2]:(r=0===i.rt.V,t.zw===yY.yE||t.zw===yY.wE&&r?[3,2]:[4,i.JXt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.RXt&&i.RXt.length<=1?[4,i.JXt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.bXt()];case 5:return e=a.sent(),i.AXt(e),u=i.SXt(e.SBt),s=i.TXt(e.TBt),o=i.kXt(e.nFt),[4,i.dXt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.ezt=function(t,n,i,r,e,u){var s=this;return Pt((function(){var o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return s.eXt?[3,2]:[4,s.izt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,et.all(t.map((function(t){return t.catch(_i)})))];case 3:return g.sent(),s.rzt(),[4,s.ozt(u)];case 4:return g.sent(),[4,s.hzt()];case 5:return g.sent(),a=[],e.oBt&&s.kZ&&s.kZ.d4&&a.push(s.kZ.d4.rT(0,1/0)),e.rBt&&s.kZ&&s.kZ.f4&&a.push(s.kZ.f4.rT(0,1/0)),[4,et.all(a)];case 6:return g.sent(),kr(u),[4,s.azt(n,i,e.WR,u)];case 7:c=g.sent(),s.uzt(n,i,e.nBt||c),s.czt(r,e.nBt),kr(u),h=[i,Fz(n,i)?void 0:n,r].filter(Yn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,et.all(h.filter((function(t){return!t.ULt.sVt})).map((function(t){var n;return null==(n=s.hEt)?void 0:n.BWt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return Ar(g.sent()),[3,11];case 11:return kr(u),s.K4(),s.SVt(),void 0!==s.JHt?s.sXt(s.JHt,s.$Ht):!s.iEt&&(null==(o=s.VHt)?void 0:o.ULt.Sn)?(f=s.VHt.ULt,v=f.Sn,d=v.LOt,v.LOt<0&&(l=f.zFt,d+=l.Tn(l.V-1)),s.sXt(d,{KHt:!v.BOt})):!s.iEt&&h.every((function(t){return!t.ULt.qOt}))?s.sXt(1/0,{KHt:!0}):s.YHt.length>0&&s.lzt(),[2]}}))}))()},i.azt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d,l;return Ot(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.dzt(t,n,e.VHt)];case 1:return c=g.sent(),kr(r),i||!e.kZ||c?(h=void 0!==(null==(u=e.kZ)?void 0:u.d4),f=void 0!==(null==(s=e.kZ)?void 0:s.f4),v=o!==h||a!==f,!i&&!v&&c&&e.kZ&&e.kZ.ZJ(c)?[4,e.ozt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.kZ.XJ(c)];case 3:return g.sent(),[2,!0];case 4:for(d=0,l=e.YHt;d<l.length;d++)l[d].nHt.forEach((function(t){return t.np()}));e.aO.Q7(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.kZ?[4,e.aO.nr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.fzt(c,o,a)];case 8:return e.kZ=g.sent(),[3,10];case 9:return e.aO.J7(),[7];case 10:return[2,!0]}}))}))()},i.dzt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ot(this,(function(k){switch(k.label){case 0:if(s=i.Frt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.Frt)?void 0:a.UPt)?c:null==s?void 0:s.UPt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',Jz.zN(nq,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(l=null!=(d=null==(v=n.Frt)?void 0:v.ZPt)?d:null==s?void 0:s.ZPt))return[2,void 0];g='video/mp4; codecs="'+l+'"',Jz.zN(nq,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(Jz.yBt(nq,"No codecs found on the active variant stream."),[2,void 0]):(m=null!=(w=null==n||null==(e=n.ULt.xct[0])?void 0:e.rZ)?w:[],p=null!=(y=null==t||null==(u=t.ULt.xct[0])?void 0:u.rZ)?y:[],_=r.hEt.Nr,[4,IY(r.QHt.contentProtection,o,_.iWt.concat(p).concat(m),r.WW,r.QHt.useCredentials)]);case 1:return b=k.sent(),[2,{zw:Cp.qW,J4:o.map((function(t){return{Fk:t}})),CZ:b,u5:r.QHt.useManagedMediaSource}]}}))}))()},i.fzt=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){switch(u.label){case 0:return t?[4,r.aO.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new UK(r.aO,n,i),u.label=3;case 3:return r.kZ=e,r.K4(),r.zTt(),r.qTt(),[2,e]}}))}))()},i.K4=function(){var t=this.kZ;if(t&&S(t.ct)){var n,i,r,e=null!=(r=null==(n=this.LHt)?void 0:n.ULt.ct)?r:null==(i=this.MHt)?void 0:i.ULt.ct;void 0!==e&&e>0&&t.q4(e)}this.SVt()},i.zTt=function(){var t=this.kZ;t&&(t.f4&&(t.f4.$j=this.XH.uQ),t.d4&&(t.d4.$j=this.XH.uQ))},i.qTt=function(){var t=this.kZ;t&&(t.f4&&(t.f4.sQ=this.XH.sQ),t.d4&&(t.d4.sQ=this.XH.sQ))},i.uzt=function(t,n,i){if(!this.kZ)throw new p("Invalid state");this.kZ.d4?this.H4&&this.H4.PHt(this.kZ.d4)||(this.H4=new QK(aw.wE,this.kZ.d4,this.hXt?this.Zmt:void 0,this.aXt?this.xNt:void 0)):this.H4=void 0,this.kZ.f4?this.X4&&this.X4.PHt(this.kZ.f4)||(this.X4=new QK(aw.yE,this.kZ.f4,this.hXt?this.Zmt:void 0,this.aXt?this.xNt:void 0)):this.X4=void 0;var r,e=Fz(t,n);if(this.X4&&n){var u=e&&this.H4?[this.X4,this.H4]:[this.X4];this.OHt?(i&&(this.OHt.np(),this.OHt.uHt.Gb()),this.OHt.QLt!==n&&this.OHt.dGt(n)):(this.OHt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Nr.sB,f=new pK(h),v=new gK(aw.yE,t,r,f,e,u,s,c),d=n.map((function(t){return t.zw})),l=o.wTt(f,r.Nr.sB,d),g=new LK(v,f,l,a);return g.aHt(n),g}(n,u,this.aO,this.hEt,this.WW,this.Rut,this.kUt,this.gXt,this.XH,this.QHt.useCredentials),this.OHt.oHt.bn(lK.aGt,this._zt),this.OHt.oHt.bn(lK.uGt,this.vzt),this.OHt.hHt.bn(IK.DZt,this.gzt),this.OHt.hHt.bn(IK.MZt,this.mzt),this.OHt.hHt.bn(IK.LZt,this.pzt),this.OHt.hHt.bn(IK.NZt,this.wzt)),this.OHt.aHt(u)}else{var s;null==(s=this.OHt)||s.Km(),this.OHt=void 0}this.H4&&t&&!e?(this.lXt?(i&&(this.lXt.np(),this.lXt.uHt.Gb()),this.lXt.QLt!==t&&this.lXt.dGt(t)):(this.lXt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Nr.sB,f=new pK(h),v=new gK(aw.wE,t,r,f,e,u,s,c),d=o.wTt(f,r.Nr.sB,[n.zw]),l=new LK(v,f,d,a);return l.aHt([n]),l}(t,this.H4,this.aO,this.hEt,this.WW,this.Rut,this.kUt,this.gXt,this.XH,this.QHt.useCredentials),this.lXt.oHt.bn(lK.uGt,this.vzt),this.lXt.hHt.bn(IK.DZt,this.gzt),this.lXt.hHt.bn(IK.NZt,this.wzt)),this.lXt.aHt([this.H4])):(null==(r=this.lXt)||r.Km(),this.lXt=void 0);this.yzt()},i.czt=function(t,n){this.OXt&&(this.OXt.oHt.QLt===t?n&&(this.OXt.np(),this.OXt.uHt.Gb()):(this.OXt.Km(),this.OXt=void 0));if(!this.OXt&&t){var i=this.BXt.get(t.OC);i.LE=qy.Qn,this.OXt=function(t,n,i,r,e,u,s){var o=i.Nr.sB,a=new kK(n,o),c=new pK(o),h=new gK(aw.Rk,t,i,c,r,e,u,s),f=new DK(c,o,aw.Rk),v=new LK(h,c,f);return v.cHt(a),v}(t,i,this.hEt,this.WW,this.Rut,this.kUt,this.QHt.useCredentials)}},i.yzt=function(){var t=[this.H4,this.X4].filter(Yn).map((function(t){return t.zw}));this.hEt.Nr.sB.tWt(t)},i.U8=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return[4,et.all(t.map((function(t){return t.catch(_i)})))];case 1:return c.sent(),kr(r),[4,e.hzt()];case 2:return c.sent(),kr(r),e.JHt=void 0,e.tXt=void 0,e.iEt=!0,i.BOt?(s=[e.LHt,e.MHt].filter(Yn),u=aq(s)):u=e.Ikt,o=u.mB(n),a=e.aO.Ay(ya.eb,r),e.aO.Db(o,i.KHt),e.eXt&&e.YHt.length>0&&(e.hEt.Nr.sB.eWt(),e.bzt(e.aO.RI),e.lzt()),[4,a];case 3:return c.sent(),e.sEt(),[2]}}))}))()},i.sEt=function(){var t=this.mO;if(!this.JI&&!this.dR&&void 0!==t){var n,i,r=this.RI;if(t+this.RI-this.SR.kd.maximumOffset<r)null==(n=this.mZ)||n.Sn();else null==(i=this.mZ)||i.NR()}},i.bzt=function(t){for(var n=0,i=this.YHt;n<i.length;n++){var r=i[n];r.xGt(t)||(r.vHt(),r.uHt.bZt()),r.fHt(t)||(r.gHt(),r.uHt.AZt())}},i.rzt=function(){for(var t=0,n=this.YHt;t<n.length;t++){n[t].np()}},i.hzt=function(){return et.all([this.gNt(),this.Azt(),this.Szt()])},i.lzt=function(){this.vNt(),this.Tzt(),this.kzt()},i.qXt=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.eXt&&t.YHt.length>0?(t.YHt.forEach((function(t){return t.vHt()})),[4,t.gNt()]):[3,2];case 1:n.sent(),t.vNt(),t.YHt.forEach((function(t){return t.oHt.LGt()})),n.label=2;case 2:return[2]}}))}))()},i.vNt=function(){var t=this;if(!this.Ezt){var n=function(){t.Ezt=void 0};this.xzt=new mr,this.xzt.rp(this.GW.ep),this.Ezt=Er(this.DNt(this.xzt.ep),this.xzt).catch(this.rXt).then(n,n)}},i.gNt=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return null==(n=t.xzt)||n.np(),i=t.Ezt,t.Ezt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.DNt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:kr(t),i=n.YHt,v.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},v.label=2;case 2:for(v.trys.push([2,4,5,6]),e=function(t){var r=i[t],e=r.oHt,o=r.Plt(s);if(e.bCt)u.push(e.dUt());else if(r._Ht(s,o,n.XH.uQ)||e.yGt){var a=e.QLt.ULt,c=a.xct,h=e.IGt(o);if(void 0===h){if(e.QLt.ULt.qOt)return"continue";c.length&&c[0].lF>o&&(n.RI=1/0),e.FGt(),e.DGt(o)}else{var f=tn(h,2),v=f[0],d=f[1];if(v.pOt){var l=a.vVt(v.IOt),g=Hi(c.slice(l),(function(t){return!t.pOt}));e.PGt(null==g?void 0:g.IOt),r.nHt.forEach((function(t){var n;t.i4(v.lF,null!=(n=null==g?void 0:g.lF)?n:v.dF)}))}else e.Zat(v,d,r.QWt),r.hHt.XZt(v,d)}u.push(e.dUt())}},u=[],s=n.aO.RI,o=0;o<i.length;o++)e(o);if(a=Vt(r,mr.hp([t]),!1),0===u.length)for(i.every((function(t){return t.oHt.qCt}))||u.push(n.aO.Ay(ya._b,a.ep)),c=0;c<i.length;c++)h=i[c],u.push(h.hHt.Ay(IK.NZt,a.ep));return[4,Sr(et.race(u),a.ep)];case 3:return v.sent(),[3,6];case 4:return f=v.sent(),r.error=f,r.hasError=!0,[3,6];case 5:return Ft(r),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.Tzt=function(){var t=this;if(!this.Izt){var n=function(){t.Izt=void 0};this.Rzt=new mr,this.Rzt.rp(this.GW.ep),this.Izt=Er(this.Czt(this.Rzt.ep),this.Rzt).catch(this.rXt).then(n,n)}},i.Azt=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return null==(n=t.Rzt)||n.np(),i=t.Izt,t.Izt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.Czt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:kr(t),i=n.YHt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.oHt,(o=u.hHt).bCt?r.push(o.dUt()):(a=s.bGt())?"Eut"===a.zw?(o.KZt(a),r.push(o.dUt())):"GOt"===a.zw&&(o.zZt(a),r.push(o.dUt())):r.push(s.BGt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Sr(et.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.kzt=function(){var t=this;if(!this.Pzt){this.Dzt=new mr,this.Dzt.rp(this.GW.ep);var n=function(){t.Pzt=void 0};this.Pzt=Er(this.Nzt(this.Dzt.ep),this.Dzt).catch(this.rXt).then(n,n)}},i.Szt=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return null==(n=t.Dzt)||n.np(),i=t.Pzt,t.Pzt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.Nzt=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,d;return Ot(this,(function(l){switch(l.label){case 0:for((i=n.YHt).forEach((function(t){return t.Uat()})),r=n.aO.RI,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.hHt,c=0,h=o.nHt;c<h.length;c++)f=h[c],v=f.nUt?e:u,f.bCt?v.push(f.dUt()):f.fUt(r)||((d=a.eHt(f.zw))?"Eut"===d.zw&&d.XOt===n.XHt?(f.Llt(d),v.push(f.dUt())):"rPt"===d.zw&&d.XOt===n.XHt&&(f.a3(d),v.push(f.dUt())):u.push(a.iHt(f.zw)));return 0!==e.length?[3,2]:[4,n.Mzt(i,r,t)];case 1:if(l.sent())return[2,"continue"];l.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.nHt.length>0&&t.nHt.every((function(t){return t.fUt(r)}))}))&&n.kZ.Y3(),[2,"break"]):[4,Sr(et.race(Kt(e).concat(Kt(u))),t)];case 3:return l.sent(),[2]}}))},r.label=1;case 1:return[5,Bt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.Mzt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A;return Ot(this,(function(T){switch(T.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.Plt(n),c=0,h=o.nHt;c<h.length;c++)if((f=h[c]).nUt)if(void 0!==(v=o.hHt.eHt(f.zw))){if(v.XOt===r.XHt)return[2,!1];e.push(v)}else{if(o.bCt||o._Ht(n,a,r.XH.uQ)||!f._Ut(n,a))return[2,!1];void 0!==(d=f.rUt.QWt)&&u.push(d)}return 0===e.length?[2,!1]:(l=sr(e,(function(t){return t.XOt})).XOt,e.every((function(t){return"rPt"===t.zw&&t.XOt===l}))?(g=ur(e,(function(t){return t.lF})).lF,w=Kt(e).concat(Kt(u)),[4,r.Lzt(w)]):[3,6]);case 1:return m=T.sent(),r.Bzt(m)?(Jz.wBt($z,"Seamless switch from",r.kZ.kd,"to",m),[4,r.kZ.XJ(m)]):[3,3];case 2:return T.sent(),Jz.wBt($z,"Seamless switch complete."),[3,5];case 3:return[4,r.Ozt(g,m,i)];case 4:T.sent(),T.label=5;case 5:return r.XHt=e[0].XOt,[3,7];case 6:for(y=0;y<t.length;y++)for(p=t[y],_=0,b=p.nHt;_<b.length;_++)for(k=b[_],A=p.hHt.eHt(k.zw);void 0!==A&&("rPt"!==A.zw||A.XOt!==l);)Jz.wBt($z,"Removing append for other discontinuity, expecting "+l,A),p.hHt.gUt(A),A=p.hHt.eHt(k.zw);T.label=7;case 7:return[2,!0]}}))}))()},i.Bzt=function(t){return this.fXt===KA.AO||this.fXt!==KA.SO&&this.kZ.ZJ(t)},i.Lzt=function(t){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.sHt.Frt})),e=r.map((function(t){return{Fk:t}})),u=er(t,(function(t){return t.sHt.rZ})),(i=u).push.apply(i,Kt(n.hEt.Nr.iWt)),[4,IY(n.QHt.contentProtection,r,u,n.WW,n.QHt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.kZ&&n.kZ.kd.CZ.length>0&&(s=n.kZ.kd.CZ),[2,{zw:Cp.qW,J4:e,CZ:s,u5:n.QHt.useManagedMediaSource}]}}))}))()},i.Ozt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:if(u=r.kZ,s=u.ct,!(o=r.SI.length>0&&r.RI<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),Jz.wBt($z,"Marking end of stream and waiting for ended to switch discontinuity."),u.Y3(),f.label=2;case 2:return!r.aO.MI&&r.aO.RI<t?[4,r.aO.Ay([ya._b,ya.Ly],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.V3(),u.q4(s),a;case 6:Jz.wBt($z,"Perform hard switch from",null==(e=r.kZ)?void 0:e.kd,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.aO.Q7(),r.RI<t&&r.aO.Db(t,!0,!0),r.X4=void 0,r.H4=void 0,r.yzt(),[4,r.aO.nr()];case 8:return f.sent(),[4,r.aO.$n(n)];case 9:return r.kZ=f.sent(),r.K4(),r.zTt(),r.qTt(),r.kZ.f4&&(r.X4=new QK(aw.yE,r.kZ.f4,r.hXt?r.Zmt:void 0,r.aXt?r.xNt:void 0),r.X4.i4(t-1,t)),r.kZ.d4&&(r.H4=new QK(aw.wE,r.kZ.d4,r.hXt?r.Zmt:void 0,r.aXt?r.xNt:void 0),r.H4.i4(t-1,t)),r.yzt(),[3,11];case 10:return o&&xr(r.aO.DR()),r.aO.J7(),[7];case 11:return r.OHt&&(c=void 0!==r.H4&&void 0===r.lXt,h=c?[r.X4,r.H4]:[r.X4],r.OHt.aHt(h)),r.lXt&&r.lXt.aHt([r.H4]),Jz.wBt($z,"Hard switch complete."),[2]}}))}))()},i.ozt=function(t){return Sr(Pr(er(this.YHt,(function(t){return t.nHt.map((function(t){return t.dUt()}))}))),t)},i.Kkt=function(){var t=this.pR,n=this.vR;this.nxt===t&&this.rxt===n||(this.nxt=t,this.rxt=n,this._o(new Rp))},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return Jz.zN(nq,"Unloading the player."),t.Fzt(),t.VEt(),[4,t.nr()];case 1:return n.sent(),t.aO.zZ=void 0,t.WXt.yn(),[4,t.VZ.yn()];case 2:return n.sent(),[4,t.Zmt.yn()];case 3:return n.sent(),[4,t.xNt.yn()];case 4:return n.sent(),t.LO.yn(),t.FO.yn(),t.Hl.yn(),t.Vzt.yn(),t.axt.Km(),t.kUt.Km(),t.gXt&&(t.gXt.Km(),t.gXt=void 0),[2]}}))}))()},i.nr=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return Jz.zN(nq,"Resetting the player."),t.vn(Oz.VLt,t.handleBufferingErrorEvent),t.XHt=-1,t.GW.np(),t.V8.np(),t.V8=new mr,t.V8.rp(t.GW.ep),t.tzt.np(),t.tzt=new mr,t.tzt.rp(t.GW.ep),n=[t.ipt,t.W8,t.nXt].filter(Yn),[4,et.all(n.map((function(t){return t.catch(_i)})))];case 1:return i.sent(),t.ipt=void 0,t.W8=void 0,t.nXt=void 0,t.LHt=void 0,t.MHt=void 0,t.qHt=void 0,t.RXt=void 0,t.PXt=void 0,t.NXt=void 0,t.MXt=void 0,t.PXt=void 0,t.NXt=void 0,t.MXt=void 0,t.mZ=void 0,t.zH.nr(),t.$Xt=[],t.AXt(void 0),t.rzt(),[4,t.hzt()];case 2:return i.sent(),t.lXt&&(t.lXt.Km(),t.lXt=void 0),t.OHt&&(t.OHt.Km(),t.OHt=void 0),t.OXt&&(t.OXt.Km(),t.OXt=void 0),t.H4=void 0,t.X4=void 0,t.kZ=void 0,t.hEt&&(t.hEt.Km(),t.hEt=void 0),t.vXt&&(t.Hl.lZ(t.vXt.nt),t.vXt=void 0),[4,t.VZ.nr()];case 3:return i.sent(),[4,t.Zmt.nr()];case 4:return i.sent(),[4,t.xNt.nr()];case 5:return i.sent(),t.aO.GZ(),[4,t.aO.nr()];case 6:return i.sent(),t.QHt=void 0,t.eXt=!1,t.j4=FA.WB(),t.JHt=void 0,t.sxt=void 0,t.nxt=0,t.rxt=0,t.tXt=void 0,t.iEt=!1,t.k8=!1,Kn.Um(t.iXt),t.Fkt=!1,t.Wzt=!1,t.Ckt=0,t.fXt=KA.bO,t.Vzt.nr(),t.Uzt(),t._o(new kT(t.RI,t.aR)),[2]}}))}))()},i.Uzt=function(){for(var t=0,n=this.LO.mC;t<n.length;t++){n[t].yn()}for(var i=0,r=this.FO.mC;i<r.length;i++){r[i].yn()}for(var e=0,u=this.Hl.mC;e<u.length;e++){u[e].yn()}this.LO.nr(),this.FO.nr(),this.Hl.nr(),this.BXt.clear()},i.Gzt=function(){this.Vzt.bn(iq,this.Ds),this.Vzt.bn(Np.uB,this.fO),this.Vzt.bn(Np.aB,this.Zzt),this.Vzt.bn(Np.nB,this.Hzt),this.XH.bn("Jj",this.lxt),this.XH.bn("iQ",this.dxt),this.aO.bn(rq,this.Ds),this.aO.bn(Qy.fa,this.fxt),this.aO.bn(ya.Iy,this.handleContentProtectionErrorEvent),this.aO.bn(ya.Dy,this.Xzt),this.aO.bn(ya.Ly,this.Ah),this.aO.bn(ya.Ky,this.BMt),this.aO.bn(ya.ho,this.zzt),this.aO.bn(ya.jy,this.qzt),this.aO.bn(Np.aC,this.cU),this.aO.bn(ya._b,this.i9),this.aO.bn(ya.ib,this.Ge),this.aO.bn(ya.eb,this.jZ),this.aO.bn(ya.$y,this.Yzt),this.aO.bn(ya.vb,this.Kzt)},i.Fzt=function(){this.Vzt.vn(iq,this.Ds),this.Vzt.vn(Np.uB,this.fO),this.Vzt.vn(Np.aB,this.Zzt),this.Vzt.vn(Np.nB,this.Hzt),this.XH.vn("Jj",this.lxt),this.XH.vn("iQ",this.dxt),this.aO.vn(rq,this.Ds),this.aO.vn(Qy.fa,this.fxt),this.aO.vn(ya.Iy,this.handleContentProtectionErrorEvent),this.aO.vn(ya.Dy,this.Xzt),this.aO.vn(ya.Ly,this.Ah),this.aO.vn(ya.Ky,this.BMt),this.aO.vn(ya.ho,this.zzt),this.aO.vn(ya.jy,this.qzt),this.aO.vn(Np.aC,this.cU),this.aO.vn(ya._b,this.i9),this.aO.vn(ya.ib,this.Ge),this.aO.vn(ya.eb,this.jZ),this.aO.vn(ya.$y,this.Yzt),this.aO.vn(ya.vb,this.Kzt)},Nt(n,[{key:"mO",get:function(){var t,n=[this.MHt,this.LHt].filter(Yn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.kI)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.ULt.cR;if(0!==s.V){var o=s.Tn(s.V-1)+u.ULt.MSt,a=u.ULt.hVt,c=o+(null!=a?a:0)-this.RI;(!i||i<c)&&(i=c)}}return i}}},{key:"HHt",get:function(){for(var t=[this.LHt,this.MHt].filter(Yn),n=0;n<t.length;n++){var i=t[n];if(!i.ULt.qOt)return!1;var r=qi(i.ULt.xct,-1);if(r&&r.XOt!==this.XHt)return!1}return!0}},{key:"JLt",get:function(){return this.VHt}},{key:"dBt",get:function(){return this.LHt}},{key:"_Bt",get:function(){return this.MHt}},{key:"zHt",get:function(){return this.qHt}},{key:"ht",get:function(){return this.LO}},{key:"SI",get:function(){return this.aO.SI.ks()}},{key:"eBt",get:function(){var t=[];if(this.VHt)for(var n=this.aO.RI,i=0,r=this.YHt;i<r.length;i++)for(var e=0,u=r[i].nHt;e<u.length;e++){var s=u[e].vUt(n);s&&!tr(t,s)&&t.push(s)}return t}},{key:"kI",get:function(){if(this.VHt){var t=this.aO.RI;return this.VHt.oFt(t)}},set:function(t){if(t&&this.VHt){var n=this.VHt.hFt(t);void 0!==n&&this.DI(n,{KHt:!1,jHt:!0})}}},{key:"bt",get:function(){return this.QHt}},{key:"RI",get:function(){var t;return null!=(t=this.JHt)?t:this.aO.RI},set:function(t){this.DI(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.HHt)return null!=(s=null!=(u=null!=(e=null==(t=this.LHt)?void 0:t.ULt.ct)?e:null==(n=this.MHt)?void 0:n.ULt.ct)?u:null==(r=this.hEt)||null==(i=r.kWt)?void 0:i.ULt.ct)?s:[this.LHt,this.MHt].filter(Yn).every((function(t){return function(t){if(void 0===t)return!1;return t.ULt.xct.length>0&&!t.ULt.qOt}(t)}))?1/0:NaN;var o=this.aO.ct;if(S(o)){var a,c,h=null==(c=this.hEt)||null==(a=c.kWt)?void 0:a.ULt.ct;if(void 0!==h)return h}return o}},{key:"MI",get:function(){if(!this.HHt)return!1;if(this.dR&&this.eXt){var t,n,i=this.RI,r=null==(t=this.LHt)?void 0:t.ULt.ct,e=null==(n=this.MHt)?void 0:n.ULt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.aO.MI}},{key:"lt",get:function(){return this.bZ}},{key:"OI",get:function(){return this.AZ}},{key:"VI",get:function(){}},{key:"UI",get:function(){}},{key:"ZI",get:function(){return!1}},{key:"XI",get:function(){return ao({},{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.aO.zI(),{HO:this.Ckt,ZO:this.XH.Zj.jG})}},{key:"Nr",get:function(){var t;return null==(t=this.hEt)?void 0:t.Nr}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"jI",get:function(){return this.xSt},set:function(t){this.xSt!==t&&(this.xSt=t,this._o(t?new $W:new tZ))}},{key:"JI",get:function(){return this.aO.JI}},{key:"tR",get:function(){return this.aO.tR},set:function(t){Jz.zN(nq,"Setting playback rate to "+t+"."),this.aO.tR=t}},{key:"sR",get:function(){return this.Lkt.ks()}},{key:"Lkt",get:function(){return this.aO.sR}},{key:"rR",get:function(){return this.TZ},set:function(t){this.TZ!==t&&(this.TZ=t,this.oXt())}},{key:"aR",get:function(){var t=this.aO.aR;return this.Fkt&&(t=k.max(Pp.Xn,t)),t}},{key:"cR",get:function(){return this.Ikt.ks()}},{key:"Ikt",get:function(){var t=this.j4,n=[this.LHt,this.MHt].filter(Yn);if(t.V>0&&n.some((function(t){return!t.ULt.qOt}))){var i=this.Lkt,r=t.Tn(t.V-1);if(i.V>0&&i.Tn(i.V-1)>r){var e=i.Tn(i.V-1),u=aq(n);u.V>0&&(e=k.min(e,u.Tn(u.V-1))),t=t.AB(new FA([r,e]))}}return t}},{key:"dR",get:function(){var t;return null!=(t=this.tXt)?t:this.aO.dR}},{key:"EZ",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.FO}},{key:"vR",get:function(){var t,n;return this.aO.vR||(null==(n=this.VHt)||null==(t=n.CPt)?void 0:t.Ti)||0}},{key:"pR",get:function(){var t,n;return this.aO.pR||(null==(n=this.VHt)||null==(t=n.CPt)?void 0:t.ji)||0}},{key:"yR",get:function(){return this.aO.yR},set:function(t){Jz.zN(nq,"Setting volume to "+t+"."),this.aO.yR=t}},{key:"SR",get:function(){return this.zH}},{key:"ER",get:function(){return!1},set:function(t){}},{key:"IZ",get:function(){return this.RZ}},{key:"cXt",get:function(){var t,n,i=null==(t=this.lXt)?void 0:t.lHt,r=null==(n=this.OHt)?void 0:n.lHt;return i?r?r.jn(i):i:r}},{key:"YHt",get:function(){return[this.lXt,this.OHt,this.OXt].filter(Yn)}}]),n}(la),sq=function(){function t(){}var n=t.prototype;return n.dH=function(t,n){return!!uT(t.type)&&!t.useNativePlayback},n.fH=function(t){return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,L_(t,!0)];case 1:return[2,n.sent()]}}))}))()},t}(),oq=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).na=n,r}return It(n,t),n.prototype.vxt=function(){this._o(new xp(this.RI,this.aR))},Nt(n,[{key:"aR",get:function(){return this.na.aR}}]),n}(Zp);function aq(t){return t.reduce((function(t,n){return t.jn(n.ULt.zFt)}),new FA([0,1/0]))}function cq(t){var n=Hi(t,(function(t){return t.GLt})),i=t.filter((function(t){return t.ZLt})),r=Kn.Nw,e=i.map((function(t){return t.gs})).filter(Yn),u=ZK(e,r);return u?Hi(i,(function(t){return t.gs===u})):n}function hq(t,n,i,r){void 0===r&&(r=LT.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.Frt&&t.Frt.ZPt&&vN(t.Frt.ZPt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=fq(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===U(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=fq(t,r);if(void 0!==a)return a}return t}(t,n),u=dq(e,r),s=u.length>0?u:e;switch(i.eQ.type){case vR.BANDWIDTH:var o=i.oQ,a=s.filter((function(t){return t.jG<=o}));if(a.length>0)return sr(a,(function(t){return t.jG}));case vR.PERFORMANCE:return ur(s,(function(t){return t.jG}));case vR.QUALITY:return sr(s,(function(t){return t.jG}))}}function fq(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.Frt&&t.Frt.UPt&&vN(t.Frt.UPt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===U(e))return e.v}}function vq(t){var n;return null!=(n=cq(t))?n:t[0]}function dq(t,n){return t.filter((function(t){return lq(t,n)}))}function lq(t,n){var i=n+eq,r=0===t.TBt.length||t.TBt.some((function(t){return t.ULt.cVt<Kn.Wm()-i})),e=0===t.SBt.length||t.SBt.some((function(t){return t.ULt.cVt<Kn.Wm()-i}));return r&&e}function gq(t,n){if(!n||n.ULt.qOt)return!1;var i=n.ULt.xct;return 0!==i.length&&i[0].lF>t}F(),Tt(),F(),Tt(),Mt(),Wt();var wq=function(){function t(){}var n=t.prototype;return n.SUt=function(t,n,i){return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new E(e)];case 3:throw u.sent(),new ld(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Km=function(){},t.TT=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();F(),Tt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var mq=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return It(n,t),n}(ma),yq=["message","messageerror","error"];F(),Tt(),Rt();var pq=function(t){function n(n){var i;return(i=t.call(this,Qy.fa)||this).error=n,i}return It(n,t),n}(ma),_q=function(t){function n(n){var i;return(i=t.call(this)||this).eqt=void 0,i.iqt=[],i.rqt=function(t){if(i.Jzt)t.nqt();else{i.eqt=t,i.eqt.bn(yq,i.Ds);for(var n=0,r=i.iqt;n<r.length;n++){var e=r[n];t.tqt(e.Tb,e.sqt)}ir(i.iqt)}},i.oqt=function(t){if(!i.Jzt){var n=t instanceof p?t:new p("Could not create Worker.");i._o(new pq(n)),i.nqt()}},i.$zt=new mr,n(i.$zt.ep).then(i.rqt,i.oqt),i}It(n,t);var i=n.prototype;return i.tqt=function(t,n){this.Jzt||(void 0!==this.eqt?this.eqt.tqt(t,n):this.iqt.push({Tb:t,sqt:n}))},i.nqt=function(){this.Jzt||(this.$zt.np(),ir(this.iqt),void 0!==this.eqt&&this.eqt.nqt())},Nt(n,[{key:"Jzt",get:function(){return this.$zt.ep.zm}}]),n}(la);F(),Tt(),F(),Tt(),Rt();var bq=function(t){function n(n,i){var r;return(r=t.call(this)||this).hqt=function(t){r._o(new mq("message",t.data))},r.aqt=function(t){r._o(new mq("messageerror",t.data))},r.G7=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof p?t.error:new p(t.message);r._o(new pq(n)),r.nqt()},r.eqt=new I(n,i),r.eqt.addEventListener("message",r.hqt),r.eqt.addEventListener("messageerror",r.aqt),r.eqt.addEventListener("error",r.G7),r}It(n,t);var i=n.prototype;return i.tqt=function(t,n){n?this.eqt.postMessage(t,n):this.eqt.postMessage(t)},i.nqt=function(){this.Ro(),this.eqt.removeEventListener("message",this.hqt),this.eqt.removeEventListener("messageerror",this.aqt),this.eqt.removeEventListener("error",this.G7),this.eqt.terminate()},n}(la);F(),Tt(),Rt();var kq=0,Aq=function(t){function n(n,i){var r;(r=t.call(this)||this).cqt=function(){r.uqt.removeEventListener("load",r.cqt),r.uqt.contentWindow.postMessage({type:"initialize",id:r.jS,script:r.dqt},"*")},r.lqt=function(t){t.origin===r.fqt&&t.data.id===r.jS&&("initialized"===t.data.type||("error"===t.data.type?(r._o(new pq(new p(t.data.data.message))),r.nqt()):r._o(new mq("message",t.data.data))))},r.jS=kq++,r.dqt=n;var e=Kn.Bh("iframe.html",i);return r.uqt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.fqt=e.origin,r.uqt.addEventListener("load",r.cqt),self.addEventListener("message",r.lqt),r}It(n,t);var i=n.prototype;return i.tqt=function(t,n){n?this.uqt.contentWindow.postMessage({type:"message",data:t},"*",n):this.uqt.contentWindow.postMessage({type:"message",data:t},"*")},i.nqt=function(){var t;this.uqt.removeEventListener("load",this.cqt),self.removeEventListener("message",this.lqt),null==(t=this.uqt.contentWindow)||t.postMessage({type:"terminate"},"*"),oi(this.uqt)},n}(la);function Tq(t,n,i){var r=Kn.Ew(t,n);return new _q((function(t){return function(t,n,i,r){return Eq.apply(this,arguments)}(r,n,i,t)}))}var Sq=!0;function Eq(){return Eq=Pt((function(t,n,i,r){var e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,Iq(e=new bq(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.nqt(),Ar(u),[3,3];case 3:if(!Sq||!Od)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,Kn.mI.eE({Xu:t,EE:pl.GET,tE:Fd.Rk,ep:r})];case 5:return[4,f.sent().Mk(r)];case 6:return s=f.sent(),[3,8];case 7:return Ar(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=Od([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,Iq(e=new bq(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.nqt(),Ar(c),Sq=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,Iq(e=new Aq(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.nqt(),h;case 16:return[2]}}))})),Eq.apply(this,arguments)}function Iq(t,n){return Rq.apply(this,arguments)}function Rq(){return Rq=Pt((function(t,n){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,t.Ay(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new ld(vd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return $n(t)&&"9.7.0"===t._qt}(i.data))throw new ld(vd.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (9.7.0).");return[2,i]}}))})),Rq.apply(this,arguments)}F(),Tt();var Cq=function(t){return t.vqt="SUt",t.gqt="KUt",t}({}),Nq=function(t){return t.mqt="pqt",t.wqt="yqt",t}({}),Dq=function(){function t(t){var n=this;this.eqt=void 0,this.Eqt=0,this.Dqt=ho(),this.Tqt=function(t){var i=t.data,r=i.Nqt,e=n.Dqt.get(r);if(e)if(n.Dqt.delete(r),i.Mqt===Nq.mqt)e.Zb(i.Lqt);else if(i.Mqt===Nq.wqt){var u=i.Bqt,s=i.Oqt?new p(i.Oqt):void 0,o=new ld(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.Hb(o)}},this.kqt=function(t){var i=new ld(vd.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Km(i)},this.Sqt=t;try{this.Aqt=Kn.Ew("theoplayer.d.js",t)}catch(t){throw new ld(vd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.bqt=function(){var t=Tq(this.Aqt,this.Sqt,{name:"THEOplayer decrypt worker"});return t.bn("message",this.Tqt),t.bn("error",this.kqt),t},n.SUt=function(t,n,i){var r=""+ ++this.Eqt,e={xqt:Cq.vqt,Iqt:r,Rqt:t,Cqt:n,Pqt:i},u=new ih;return this.Dqt.set(r,u),null!=this.eqt||(this.eqt=this.bqt()),this.eqt.tqt(e),u.Xb},n.Km=function(t){void 0===t&&(t=new _r),this.Dqt.forEach((function(n){return n.Hb(t)})),this.Dqt.clear(),this.eqt&&(this.eqt.nqt(),this.eqt=void 0)},t}();function xq(t){var n=Hi(t.boxes,pC);if(n){var i=Hi(n.boxes,_C);if(i)return i.handlerType}}function Pq(t){var n,i=new xv;return(n=i.boxes).push.apply(n,Kt(t.boxes)),i}function Lq(t){var n,i=new Hf;return(n=i.boxes).push.apply(n,Kt(t.boxes)),i}F(),Tt(),Rt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),qt();var Mq=8;function Oq(t,n){for(var i=function(t){var n,i=new ev;return(n=i.boxes).push.apply(n,Kt(t.boxes)),i}(t),r=Vq(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new mf(new E(n.getSize()-Mq));else if(bC(u)){var s=u,o=ji(s.boxes,(function(t){return t instanceof Xf&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=Lq(s);c.boxes[o]=new mf(new E(a.getSize()-Mq)),i.boxes[e]=c}}}return i}function Bq(t,n){for(var i=function(t){var n,i=new wv;return(n=i.boxes).push.apply(n,Kt(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(TC(e)){var u=Hi(e.boxes,SC);u&&u.trackId===n&&(i.boxes[r]=new mf(new E(e.getSize()-Mq)))}}return i}function Vq(t){return Hi(t.boxes,yC).trackId}function Fq(t,n,i,r){for(var e=Hi(t.boxes,SC),u=i.OV(n)._V(),s=pe.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof av){s=_e(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof ov){s=_e(pe.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=Hi(t.boxes,EC);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}F(),Tt();var Uq="Mp4Transmuxer",Wq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).d3=void 0,n.Fqt=void 0,n.Gqt=void 0,n.Zqt=void 0,n.Uqt=void 0,n}It(n,t);var i=n.prototype;return i.YZt=function(t,n){kr(n);var i=t.QLt,r=tN(Pc(t.GOt.$k.$k));if(!r)throw new p("Mp4Transmuxer - Unable to parse "+i.zw+" MP4 initializer.");this.d3=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.Z1),i||(i=u.G1)}if(n||i)return{UPt:n,ZPt:i,rOt:void 0};return}(r);e&&this.QZt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.H1)return r.H1}return}(r);void 0!==u&&this.JZt(i,u);var s=function(t){var n,i,r,e,u,s=Vv(t),o=Hi(s.boxes,wC),a=o.boxes.filter(mC),c=Hi(a,(function(t){return xq(t)===If.AUDIO})),h=Hi(a,(function(t){return xq(t)===If.VIDEO})),f={UPt:{VN:c?Vq(c):void 0},ZPt:{VN:h?Vq(h):void 0}},v=null==(n=Hi(o.boxes,bC))?void 0:n.boxes.filter(kC),d=v?{UPt:null!=(i=Hi(v,(function(t){return t.trackId===f.UPt.VN})))?i:void 0,ZPt:null!=(r=Hi(v,(function(t){return t.trackId===f.ZPt.VN})))?r:void 0}:void 0;if(d&&(f.UPt.wL=null==(e=d.UPt)?void 0:e.defaultSampleDuration,f.ZPt.wL=null==(u=d.ZPt)?void 0:u.defaultSampleDuration),!c||!h)return{UPt:c?t:void 0,ZPt:h?t:void 0,pW:f};var l=Pq(s),g=Pq(s),w=s.boxes.indexOf(o);l.boxes[w]=Oq(o,h),g.boxes[w]=Oq(o,c);var m=l.serialize().join(),y=g.serialize().join();return{UPt:m,ZPt:y,pW:f}}(t.GOt.$k.$k);if(this.Fqt=s.pW,s.ZPt){var o=Hi(r.Z,(function(t){return t.VN===s.pW.ZPt.VN})),a={zw:"rPt",$k:{zw:nC.NJ,$k:s.ZPt},uat:aw.yE,XOt:t.XOt,sHt:{Frt:'video/mp4; codecs="'+o.G1+'"',rZ:t.rZ},lF:t.lF,QLt:t.QLt,wUt:t.GOt.wUt};this.gZt(a)}if(s.UPt){var c=Hi(r.Z,(function(t){return t.VN===s.pW.UPt.VN})),h={zw:"rPt",$k:{zw:nC.NJ,$k:s.UPt},uat:aw.wE,XOt:t.XOt,sHt:{Frt:'audio/mp4; codecs="'+c.Z1+'"',rZ:t.rZ},lF:t.lF,QLt:t.QLt,wUt:t.GOt.wUt};this.gZt(h)}return et.resolve()},i.jZt=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S;return Ot(this,(function(E){switch(E.label){case 0:if(kr(n),r=t.Eut.wUt,Jz.zN(Uq,"Transmuxing fMP4: "+kY(r.Iyt)),e=t.Eut.$k,u=Zq(e.$k,i.d3),void 0!==(s=or(u.map((function(t){return t.Jit})),Am))&&(r.$it=s,i.tHt(t.QLt)),i.rWt.NVt(t.XOt))return[3,2];if(o=km.GV(r.lF),u.length>0){for(a=or(u.map((function(t){return t.Vqt})),Am),c=0,h=i.UZt;c<h.length;c++)f=h[c],i.rWt.XVt(t.XOt,f,a,o,Xq(r),!1);i.tHt(t.QLt)}return i.rWt.NVt(t.XOt)?[3,2]:[4,Sr(i.rWt.LVt(t.XOt),n)];case 1:E.sent(),E.label=2;case 2:return v=i.rWt.UVt(t.XOt),d=r.$it?i.rWt.GVt(r.$it,r).VF():r.lF,l=CK(r,d),g=NK(r,l),m={IZt:l,RZt:g,lF:d,ct:null!=(w=r.ct)?w:0,aW:v.VF(),XOt:t.XOt,QLt:t.QLt,wUt:t.Eut.wUt},y=function(t,n){if(void 0===n.UPt.VN)return{UPt:void 0,ZPt:t};if(void 0===n.ZPt.VN)return{UPt:t,ZPt:void 0};for(var i=Vv(t),r=Pq(i),e=Pq(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];AC(s)&&(r.boxes[u]=Bq(s,n.ZPt.VN),e.boxes[u]=Bq(s,n.UPt.VN))}var o=r.serialize().join(),a=e.serialize().join();return{UPt:o,ZPt:a}}(e.$k,i.Fqt),y.ZPt&&(_=i.Fqt.ZPt.VN,b=Hi(i.d3.Z,(function(t){return t.VN===_})),k=Hi(u,(function(t){return t.VN===_})),A=i.Wqt(y.ZPt,b,k,null==(p=i.Fqt)?void 0:p.ZPt.wL,r),i.Uqt=b,i.$Zt(t.QLt,r,k.Jit.jF(s)),T=ao({zw:"Eut",$k:{zw:nC.NJ,$k:A},uat:aw.yE},m),i.gZt(T)),y.UPt&&(S=ao({zw:"Eut",$k:{zw:nC.NJ,$k:y.UPt},uat:aw.wE},m),i.gZt(S)),i.Gqt=r,i.Zqt=u,[2]}}))}))()},i.Wqt=function(t,n,i,r,e){if(!Xq(e))return t;if(!this.Gqt||!this.Uqt||!this.Zqt)return t;var u=this.Uqt.VN,s=Hi(this.Zqt,(function(t){return t.VN===u})),o=this.rWt.GVt(s.Hqt,this.Gqt),a=this.rWt.GVt(i.Jit,e).jF(o).OV(n.RN);if(a.HF(km.nV))return t;if(a.WF(km.GV(.5)))return t;var c=Rj(e)?e:e.pFt;return Jz.wBt(Uq,"Stretching first video frame of segment #"+c.IOt+" to fill gap of "+a.VF()+"s"),function(t,n,i,r){var e=Vv(t),u=Hi(e.boxes,AC);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof lv&&Fq(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof lv&&IC(l,f)}}return e.serialize().join()}(t,n.RN,a,r)},n}(RK);function Zq(t,n){var i=_y(Iy.cN(Pc(t)),ly.gD);if(!i)throw new p("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.CL||0===e.RL.length||0===e.RL[0].BL.length)return"continue";for(var u=e.sN.VN,s=Hi(n.Z,(function(t){return t.VN===u})),o=0,a=1/0,c=0,h=e.sN.wL||0,f=0,v=e.RL;f<v.length;f++)for(var d=0,l=v[f].BL;d<l.length;d++){var g,w=l[d],m=w.OL||0,y=o+m,p=(o+=null!=(g=w.ct)?g:h)+m;y<a&&(a=y),p>c&&(c=p)}var _=km.eV(e.CL.CL,s.RN);r.push({VN:u,Vqt:_,Jit:_.QO(km.iV(a,s.RN)),Xqt:_.QO(km.iV(o,s.RN)),Hqt:_.QO(km.iV(c,s.RN))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function Xq(t){return Rj(t)?t.UOt:0===t.yFt&&t.pFt.UOt}var Gq="MpegtsTransmuxer",Hq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).Jqt=void 0,u.tYt=void 0,u.iYt=void 0,u.nYt=void 0,u.eYt=-1,u.sYt=-1,u.Kqt=void 0,u.jqt=fo(),u.ux=n,u}It(n,t);var i=n.prototype;return i.YZt=function(n,i){return t.prototype.YZt.call(this,n,i)},i.XZt=function(n,i){if(t.prototype.XZt.call(this,n,i),!this.ux.zqt()){var r,e=null!=(r=null==i?void 0:i.Iyt)?r:n.Iyt;if(e)/\.(ts|aac|mp3)/i.test(e.Fx)&&this.ux.qqt()}},i.Yqt=function(t){var n;return t.QLt===this.Kqt&&this.jqt.has(t.XOt)?n=this.jqt.get(t.XOt):(n=qK(t.Eut.$k.$k),this.Kqt=t.QLt,this.jqt.set(t.XOt,n)),n},i.jZt=function(n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T,S,E,I,R,C,N,D,x,P,L,M,O;return Ot(this,(function(B){switch(B.label){case 0:if(kr(i),e=r.Yqt(n),u=n.Eut,e!==KK.RHt&&e!==KK.CHt)return[2,t.prototype.jZt.call(r,n,i)];if(u.wUt.rZ.some(Yq))throw new ld(vd.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.ux.qqt(),e!==KK.RHt?[3,2]:(Jz.zN(Gq,"Transmuxing MPEG-TS: "+kY(u.wUt.Iyt)),[4,s.Qqt({data:u.$k.$k,metadata:r.Jqt})]);case 1:return o=B.sent(),[3,4];case 2:return Jz.zN(Gq,"Transmuxing raw audio: "+kY(u.wUt.Iyt)),[4,s.$qt({data:u.$k.$k,metadata:r.Jqt})];case 3:o=B.sent(),B.label=4;case 4:if(kr(i),r.QZt(n.QLt,{UPt:o.metadata.audio_codec,ZPt:o.metadata.video_codec,rOt:void 0}),o.metadata.video_frame_rate&&r.JZt(n.QLt,o.metadata.video_frame_rate),a=jq(o.metadata.first_decode_timestamp),c=jq(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?jq(o.metadata.first_video_presentation_timestamp):void 0,u.wUt.$it=c,r.tHt(n.QLt),void 0!==h&&r.$Zt(n.QLt,u.wUt,function(t,n){var i=t.jF(n);return i.zF(km.nV)&&(i=i.QO(Im())),i}(h,c)),r.rWt.NVt(n.XOt))return[3,6];for(f=km.GV(u.wUt.lF),v=0,d=r.UZt;v<d.length;v++)l=d[v],r.rWt.XVt(n.XOt,l,a,f,Xq(u.wUt),!0);return r.tHt(n.QLt),r.rWt.NVt(n.XOt)?[3,6]:[4,Sr(r.rWt.LVt(n.XOt),i)];case 5:B.sent(),B.label=6;case 6:if(g=r.rWt.HVt(a,u.wUt),r.Jqt=o.metadata,w=r.rWt.GVt(c,u.wUt).VF(),m=CK(u.wUt,w),y=NK(u.wUt,m),_={IZt:m,RZt:y,lF:w,ct:null!=(p=u.wUt.ct)?p:0,aW:g.VF(),XOt:n.XOt,QLt:n.QLt,wUt:u.wUt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(b=0,k=r.UZt;b<k.length;b++)A=k[b],T=ao({zw:"Eut",$k:void 0,uat:A},_),r.gZt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.tYt&&r.eYt===n.XOt&&zc(r.tYt,o.data.audio_init)||(E=r.rWt.GVt(u.wUt.$it,u.wUt).VF(),I={zw:"rPt",$k:{zw:nC.NJ,$k:o.data.audio_init},uat:aw.wE,XOt:n.XOt,sHt:{Frt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',rZ:u.wUt.rZ},lF:E,QLt:n.QLt,wUt:u.wUt},r.tYt=o.data.audio_init,r.eYt=n.XOt,r.gZt(I)),R=ao({zw:"Eut",$k:{zw:nC.NJ,$k:o.data.audio_media},uat:aw.wE},_),r.gZt(R)):n.Eut.wUt.gFt&&tr(r.UZt,aw.wE)&&(C=ao({zw:"Eut",$k:void 0,uat:aw.wE},_),r.gZt(C)),void 0!==o.data.video_media?(!o.data.video_init||r.iYt&&r.sYt===n.XOt&&zc(r.iYt,o.data.video_init)||(N=r.rWt.GVt(u.wUt.$it,u.wUt).VF(),D={zw:"rPt",$k:{zw:nC.NJ,$k:o.data.video_init},uat:aw.yE,XOt:n.XOt,sHt:{Frt:'video/mp4; codecs="'+o.metadata.video_codec+'"',rZ:u.wUt.rZ},lF:N,QLt:n.QLt,wUt:u.wUt},r.iYt=o.data.video_init,r.sYt=n.XOt,r.nYt=tN(Pc(o.data.video_init)),r.gZt(D)),x=r.nYt.Z[0],P=Zq(o.data.video_media,r.nYt)[0],L=r.Wqt(o.data.video_media,x,P,void 0,u.wUt),r.Uqt=x,M=ao({zw:"Eut",$k:{zw:nC.NJ,$k:L},uat:aw.yE},_),r.gZt(M),S.push(P)):n.Eut.wUt.gFt&&tr(r.UZt,aw.yE)&&(O=ao({zw:"Eut",$k:void 0,uat:aw.yE},_),r.gZt(O)),r.Gqt=u.wUt,r.Zqt=S,[2]}}))}))()},i.np=function(){this.tYt=void 0,this.iYt=void 0,this.eYt=-1,this.sYt=-1,t.prototype.np.call(this)},n}(Wq),zq=function(){function t(){}return t.prototype.wTt=function(t,n,i){return new Hq(this,t,n,i)},t}();function Yq(t){return t.EE===_Y.zBt}function jq(t){return km.eV(pe.fromBits(t.low,t.high),t.base)}F(),Tt(),F(),Tt();var Kq=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),qq=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Gn.wg;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(Pa("AGFzbQEAAAA="))}catch(t){return!1}}();return qq=function(){return t},t};var Jq=function(){function t(t){var n=this;this.Eqt=0,this.Dqt=fo(),this.Tqt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.Dqt.get(i.requestId);if(!r)return;n.Dqt.delete(i.requestId),i.success?r.Zb(i.output):r.Hb(new ld(i.errorCode,i.error))}else i.success||n.Km(new ld(i.errorCode,i.error))},this.kqt=function(t){var i=new ld(vd.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Km(i)},this.Sqt=t;var i=qq()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Aqt=Kn.Ew(i,t)}catch(t){throw new ld(vd.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.eqt=this.bqt()}var n=t.prototype;return n.Qqt=function(t){return this.rYt(Kq.MPEGTS_TO_FMP4,t)},n.$qt=function(t){return this.rYt(Kq.RAW_AUDIO_TO_FMP4,t)},n.bqt=function(){var t=Tq(this.Aqt,this.Sqt,{name:"THEOplayer transmux worker"});return t.bn("message",this.Tqt),t.bn("error",this.kqt),t},n.rYt=function(t,n){var i=++this.Eqt,r={type:t,id:i,input:n},e=new ih;return this.Dqt.set(i,e),this.eqt.tqt(r),e.Xb},n.Km=function(t){void 0===t&&(t=new _r),this.Dqt.forEach((function(n){return n.Hb(t)})),this.Dqt.clear(),this.eqt.nqt()},t}(),Qq=function(t){function n(n){var i;return(i=t.call(this)||this).oYt=n,i.eqt=void 0,i}It(n,t);var i=n.prototype;return i.zqt=function(){return void 0!==this.eqt},i.qqt=function(){var t;return null!=(t=this.eqt)?t:this.eqt=new Jq(this.oYt)},i.Km=function(){this.eqt&&(this.eqt.Km(),this.eqt=void 0)},n}(zq),$q=function(){function t(t){this.oYt=t}return t.prototype.ist=function(){return new Qq(this.oYt)},t}(),tJ=function(t){function n(n,i,r,e,u){var s,o=function(t){return wq.TT()?new wq:new Dq(t)}(u.libraryLocation),a=new $q(u.libraryLocation),c=new OZ(JZ.Vm.Bxt,JZ.Vm.Lxt,JZ.Vm.xct,JZ.Vm.Fxt);return s=t.call(this,n,i,r,e,o,a,c,u)||this,Gn.$g&&(s.eIt=new qM(s)),s}It(n,t);var i=n.prototype;return i.IR=function(){return this.aO.IR()},i.yn=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.eIt)||i.yn(),[2]}}))}))()},Nt(n,[{key:"ER",get:function(){return this.aO.ER},set:function(t){this.aO.ER=t}}]),n}(uq),nJ=function(t){function n(n,i,r,e,u){var s,o=new KM(n),a=o.lH(aw.yE);return(s=t.call(this,a,i,r,e,u)||this).YZ=o,s}return It(n,t),n.prototype.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.YZ.qZ(n.aO)];case 2:return i.sent(),[2]}}))}))()},n}(tJ),iJ=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.dH=function(n,i){return!!Xe(n.useManagedMediaSource)&&(!(!n.useManagedMediaSource&&(Gn.su||Gn.Cm))&&t.prototype.dH.call(this,n,i))},i.fH=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){return n.clearkey&&!n.fairplay&&Gn.$g?[2,!1]:[2,t.prototype.fH.call(i,n)]}))}))()},n}(sq),rJ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vH=Ok.iP,n}It(n,t);var i=n.prototype;return i.mP=function(t,n,i,r,e,u,s){return new nJ(n,i,e,u,r)},i._H=function(){return!0},n}(iJ);sS(new rJ),Jz.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},F(),Tt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var eJ=function(){function t(){}var n=t.prototype;return n.clt=function(t,n){return et.resolve(!1)},n.Iut=function(t,n){return et.resolve(void 0)},n.lTt=function(t){return et.resolve(void 0)},n.hJ=function(t){return et.resolve(void 0)},t}(),uJ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).aYt=void 0,e.vYt=void 0,e.cYt=void 0,e.zT=new mr,e.Sc=n,e.hEt=new Wj(r,new eJ,n.useCredentials,n.src,n.liveOffset),e.hEt.bn(ya.Xy,e.Ds),e.g9=!1,e}It(n,t);var i=n.prototype;return i.hYt=function(){var t;return null==(t=this.aYt)?void 0:t.ULt},i.Sn=function(){var t=this;xr(DT((function(){return t.uYt(t.zT.ep)}),this.zT.ep))},i.uYt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.hEt.xWt(t)];case 1:return i.sent(),n.cYt&&(n.lYt(n.cYt.ji,n.cYt.Ti),n.cYt=void 0),n.g9=!0,[2]}}))}))()},i.dYt=function(t,n){this.g9?this.lYt(t,n):this.cYt={ji:t,Ti:n}},i.lYt=function(t,n){var i=this.fYt(t,n),r=null==i?void 0:i.TBt[0];r!==this.aYt&&(this._Yt(),void 0!==r&&(this.aYt=r,this.vYt=new Qj(this.hEt,r),this.vYt.MUt()))},i._Yt=function(){this.aYt=void 0,this.vYt&&(this.vYt.Km(),this.vYt=void 0)},i.fYt=function(t,n){var i=Hi(this.hEt.Nr.ABt,(function(i){return void 0!==i.CPt&&i.CPt.ji===t&&i.CPt.Ti===n}));return null!=i?i:this.hEt.Nr.ABt[0]},i.yn=function(){this.Ro(),this.zT.np(),this.zT.Km(),this._Yt(),this.hEt.Km()},n}(la);F(),Tt(),Dt(),Rt();var sJ=function(t){function n(n){var i;(i=t.call(this)||this).e8=n;for(var r=0;r<hS.length;r++){var e=hS[r];i.e8.bn(e,i.Ds)}return i}It(n,t);var i=n.prototype;return i.DI=function(t,n){this.RI=t},i.MR=function(){return this.e8.MR()},i.xR=function(){return this.e8.xR()},i.ja=function(){return this.e8.ja()},i.ZR=function(t){return this.e8.ZR(t)},i.IR=function(){return this.e8.IR()},i.be=function(){return this.e8.be()},i.FR=function(){return this.e8.FR()},i.WR=function(){return this.e8.WR()},i.PR=function(){return this.e8.PR()},i.DR=function(){return this.e8.DR()},i.nr=function(){return this.e8.nr()},i.Ca=function(t,n,i){return this.e8.Ca(t,n,i)},i.ge=function(){return this.e8.ge()},i.LR=function(){return this.e8.LR()},i.OR=function(){return this.e8.OR()},i.yn=function(){this.Ro();for(var t=0;t<hS.length;t++){var n=hS[t];this.e8.vn(n,this.Ds)}return this.e8.yn()},Nt(n,[{key:"ht",get:function(){return this.e8.ht}},{key:"SI",get:function(){return this.e8.SI}},{key:"kI",get:function(){return this.e8.kI},set:function(t){this.e8.kI=t}},{key:"bt",get:function(){return this.e8.bt}},{key:"RI",get:function(){return this.e8.RI},set:function(t){this.e8.RI=t}},{key:"ct",get:function(){return this.e8.ct}},{key:"MI",get:function(){return this.e8.MI}},{key:"OI",get:function(){return this.e8.OI}},{key:"VI",get:function(){return this.e8.VI}},{key:"UI",get:function(){return this.e8.UI}},{key:"lt",get:function(){return this.e8.lt}},{key:"ZI",get:function(){return this.e8.ZI}},{key:"XI",get:function(){return this.e8.XI}},{key:"qI",get:function(){return this.e8.qI},set:function(t){this.e8.qI=t}},{key:"jI",get:function(){return this.e8.jI}},{key:"JI",get:function(){return this.e8.JI}},{key:"tR",get:function(){return this.e8.tR},set:function(t){this.e8.tR=t}},{key:"sR",get:function(){return this.e8.sR}},{key:"rR",get:function(){return this.e8.rR},set:function(t){this.e8.rR=t}},{key:"aR",get:function(){return this.e8.aR}},{key:"cR",get:function(){return this.e8.cR}},{key:"dR",get:function(){return this.e8.dR}},{key:"EZ",get:function(){return this.e8.EZ}},{key:"nt",get:function(){return this.e8.nt}},{key:"vR",get:function(){return this.e8.vR}},{key:"rt",get:function(){return this.e8.rt}},{key:"pR",get:function(){return this.e8.pR}},{key:"yR",get:function(){return this.e8.yR},set:function(t){this.e8.yR=t}},{key:"SR",get:function(){return this.e8.SR}},{key:"ER",get:function(){return this.e8.ER},set:function(t){this.e8.ER=t}},{key:"IZ",get:function(){return this.e8.IZ}},{key:"mO",get:function(){}}]),n}(wa),oJ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).gYt=void 0,e.pYt=!1,e.KWt=void 0,e.handleManifestUpdate=function(t){e._o(t);var n=e.gYt.hYt();if(n){var i=e.EZ;if(i){var r=i.getTime(),u=e.KWt;u||(u=new wj,e.KWt=u),u.ir(n.zOt,(function(t){return(t.getTime()-r)/1e3})),!e.pYt&&u.L.V>0&&(e.nt.tt(u),e.i7.tt(u),e.pYt=!0)}}},e.Yzt=function(){e.gYt&&e.gYt.dYt(e.pR,e.vR)},e.mYt=i,e.i7=new hx(e),e.bn(ya.$y,e.Yzt),e}It(n,t);var i=n.prototype;return i.Ca=function(n,i,r){var e=this;return Pt((function(){return Ot(this,(function(u){switch(u.label){case 0:return[4,t.prototype.Ca.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Syt(n,i),[2]}}))}))()},i.Syt=function(t,n){this.gYt=new uJ(t,n,this.mYt),this.gYt.bn(ya.Xy,this.handleManifestUpdate),this.gYt.Sn()},i.nr=function(){return this.KWt&&(this.nt.it(this.KWt),this.i7.it(this.KWt),this.KWt.yn(),this.KWt=void 0,this.pYt=!1),this.gYt&&(this.gYt.yn(),this.gYt=void 0),this.i7.nr(),t.prototype.nr.call(this)},i.yn=function(){return this.vn(ya.$y,this.Yzt),this.gYt&&(this.gYt.yn(),this.gYt=void 0),this.i7.yn(),t.prototype.yn.call(this)},n}(sJ);!function(t){rS.gH().mH(t)}((function(t,n,i){return new oJ(t,n,i)})),F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Dt(),Rt();var aJ=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return It(n,t),Nt(n,[{key:"name",get:function(){return"CastError"}}]),n}(pr);function cJ(t){return hJ.apply(this,arguments)}function hJ(){return hJ=Pt((function(t){return Ot(this,(function(n){switch(n.label){case 0:return gJ()?[3,2]:[4,fJ(t)];case 1:n.sent(),n.label=2;case 2:return lJ()?[3,4]:[4,Mr(100,t)];case 3:n.sent(),n.label=4;case 4:return lJ()?[3,6]:(Kn.aw('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,dJ()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),hJ.apply(this,arguments)}function fJ(t){return vJ.apply(this,arguments)}function vJ(){return vJ=Pt((function(t){var n,i,r,e,u,s;return Ot(this,(function(o){return(null==t?void 0:t.zm)?[2,et.reject(new _r)]:(n=function(){var t,n;return{Xb:new et((function(i,r){t=i,n=r})),Zb:t,Hb:n}}(),i=n.Xb,r=n.Zb,e=n.Hb,u=f.__onGCastApiAvailable,s=function(){f.__onGCastApiAvailable=u,e(new _r)},f.__onGCastApiAvailable=function(n,i){n?r():e(new p(i)),null==t||t.Jm(s),f.__onGCastApiAvailable=u,u&&u(n,i)},null==t||t.Qm(s),[2,i])}))})),vJ.apply(this,arguments)}var dJ=Ti((function(){return function(t){return new et((function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new aJ("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function lJ(){return Boolean("undefined"!=typeof cast&&cast.framework)}function gJ(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function wJ(t,n,i,r){if(Yn(n))for(var e=0,u=b.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Yn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Yn(i)&&!Yn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(ti(n.images))t.images.push(new r.Image(n.images));else if(qn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(ti(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function mJ(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return wJ(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return wJ(e,t,n,i),!Yn(e.artist)&&Yn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return wJ(u,t,n,i),!Yn(u.title)&&Yn(t.episodeTitle)&&(u.title=t.episodeTitle),!Yn(u.season)&&Yn(t.seasonNumber)&&(u.season=t.seasonNumber),!Yn(u.episode)&&Yn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return wJ(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function yJ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function pJ(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return Hi(t.items,(function(n){return n.itemId===t.currentItemId}))}F(),Tt(),Mt(),Rt(),nn(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),F(),Tt();var _J="urn:x-cast:com.theoplayer.cast";F(),Tt(),F(),Tt();var bJ=function(t){return t.wYt="theoplayer_receiver_info",t.yYt="theoplayer_trackpropertychange",t.bYt="theoplayer_propertychange",t}({});F(),Tt();var kJ=function(t){return t.SKIP_AD="SKIP_AD",t}({});F(),Tt();function AJ(t){v.createElement("img").src=t}F(),Tt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var TJ=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function SJ(t){if(ti(t)){var n=t.match(TJ);if(n)return 3600*A(n[1],10)+60*A(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function EJ(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return A(n[1])/100}}function IJ(t,n){return"vmap"===t.type||!Yn(t.type)&&!Yn(n)}function RJ(t,n){return"vast"===t.type||!Yn(t.type)&&Yn(n)}F(),Tt(),Mt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt();var CJ=function(){},NJ=function(t){function n(n){var i;return(i=t.call(this)||this).Oc=n.sort((function(t,n){return t.kL-n.kL})),i}return It(n,t),n.prototype.SYt=function(){return null!=this.TYt||(this.TYt=er(this.Oc,(function(t){return t.SYt()}))),this.TYt},Nt(n,[{key:"AYt",get:function(){return this.Oc}}]),n}(CJ);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var DJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).kYt=n,r.EYt=i,r.IYt=!1,r}return It(n,t),Nt(n,[{key:"o",get:function(){return this.kYt}},{key:"kL",get:function(){return this.EYt}},{key:"xYt",get:function(){return this.IYt}}]),n}(CJ),xJ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).DYt=r,a.MYt=e,a.BYt=u,a.CYt=s,a.bZ=o,a}return It(n,t),n.prototype.SYt=function(){if(void 0===this.OYt){for(var t,n,i,r=[],e=0,u=this.CYt;e<u.length;e++){var s=u[e];s.FYt&&(t=s.FYt),s.VYt&&(n=s.VYt),s.WYt&&(i=s.WYt),r=r.concat(s.universalAdIds)}this.OYt={LYt:this.LYt,FYt:t,UYt:n,WYt:i,lt:this.lt,GYt:r}}return[this.OYt]},Nt(n,[{key:"RYt",get:function(){return this.CYt}},{key:"PYt",get:function(){return this.DYt}},{key:"NYt",get:function(){return this.MYt}},{key:"LYt",get:function(){return this.BYt}},{key:"lt",get:function(){return this.bZ}}]),n}(DJ);F(),Tt(),Dt(),Rt(),F(),Tt(),Dt();var PJ=function(){function t(t,n){this.HYt=t,this.zYt=n}return Nt(t,[{key:"ZYt",get:function(){return this.HYt}},{key:"XYt",get:function(){return this.zYt}}]),t}(),LJ=function(){function t(t,n,i,r,e,u){this.YYt=t,this.jYt=n,this.JYt=i,this.tKt=r,this.rKt=!1,this.sKt=e,this.DYt=u}return t.prototype.oKt=function(){this.rKt=!0},Nt(t,[{key:"qYt",get:function(){return this.YYt}},{key:"KYt",get:function(){return this.jYt}},{key:"QYt",get:function(){return this.JYt}},{key:"$Yt",get:function(){return this.tKt}},{key:"sd",get:function(){return this.eKt},set:function(t){this.eKt=t}},{key:"iKt",get:function(){return this.sKt}},{key:"nKt",get:function(){return this.rKt}},{key:"PYt",get:function(){return this.DYt}}]),t}();F(),Tt(),Dt();var MJ=function(t){return t.hKt="all",t.aKt="any",t.xH="none",t}({});var OJ=function(){function t(t,n){this.cKt=t,this.dKt=n}return Nt(t,[{key:"uKt",get:function(){return this.cKt}},{key:"lKt",get:function(){return this.dKt}}]),t}(),BJ=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g){this.JA=t,this.$A=n,this.jS=i,this._Kt=r,this.gKt=e,this.pKt=u,this.yKt=s,this.AKt=o,this.TKt=a,this.EKt=c,this.YYt=h,this.jYt=f,this.JYt=v,this.IKt=d,this.RKt=l,this.PKt=g}return Nt(t,[{key:"o",get:function(){return this.jS}},{key:"ji",get:function(){return this.JA}},{key:"Ti",get:function(){return this.$A}},{key:"fKt",get:function(){return this._Kt}},{key:"vKt",get:function(){return this.gKt}},{key:"mKt",get:function(){return this.pKt}},{key:"wKt",get:function(){return this.yKt}},{key:"bKt",get:function(){return this.AKt}},{key:"SKt",get:function(){return this.TKt}},{key:"kKt",get:function(){return this.EKt}},{key:"qYt",get:function(){return this.YYt}},{key:"KYt",get:function(){return this.jYt}},{key:"QYt",get:function(){return this.JYt}},{key:"xKt",get:function(){return this.IKt}},{key:"XYt",get:function(){return this.RKt}},{key:"CKt",get:function(){return this.PKt}}]),t}();F(),Tt(),Dt();var VJ=function(){function t(t,n){this.jS=t,this.SFt=n}return Nt(t,[{key:"id",get:function(){return this.jS}},{key:"uri",get:function(){return this.SFt}}]),t}(),FJ=function(){function t(t,n,i,r){this.NKt=t,this.LKt=n,this.OKt=i,this.VKt=r}return Nt(t,[{key:"DKt",get:function(){return this.NKt}},{key:"MKt",get:function(){return this.LKt}},{key:"BKt",get:function(){return this.OKt}},{key:"FKt",get:function(){return this.VKt}}]),t}(),UJ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).BYt=r,h.UKt=e,h.ZKt=u,h.CYt=s,h.XKt=o,h.qKt=a,h.bZ=c,h}It(n,t);var i=n.prototype;return i.SYt=function(){var t=this;return void 0===this.UKt?[]:(null!=this.TYt||(this.TYt=this.UKt.SYt().map((function(n){return t.YKt(n)}))),this.TYt)},i.YKt=function(t){for(var n,i,r,e=0,u=this.RYt;e<u.length;e++){var s=u[e];s.FYt&&(n=s.FYt),s.VYt&&(i=s.VYt),s.WYt&&(r=s.WYt)}var o=t.LYt.concat(this.LYt),a=t.FYt;if(n&&t.FYt){var c=new FJ(t.FYt.KKt.DKt,t.FYt.KKt.MKt,t.FYt.KKt.BKt.concat(n.KKt.BKt),t.FYt.KKt.FKt.concat(n.KKt.FKt));(a=t.FYt).KKt=c,a.XYt=a.XYt.concat(n.XYt)}var h=t.UYt;if(i&&i.ZYt){for(var f,v,d=[],l=0,g=i.ZYt;l<g.length;l++){var w=g[l];d.concat(w.$Yt.BKt)}for(var m,y,p=[],_=0,b=null!=(m=null==(f=t.UYt)?void 0:f.ZYt)?m:[];_<b.length;_++){var k,A,T,S=b[_],E=new FJ(S.$Yt.DKt,S.$Yt.MKt,S.$Yt.BKt.concat(d),(null!=(A=null==(k=t.FYt)?void 0:k.KKt.FKt)?A:[]).concat(null!=(T=null==n?void 0:n.KKt.FKt)?T:[]));p.push(new LJ(S.qYt,S.KYt,S.QYt,E,S.iKt,S.PYt))}h=new PJ(p,(null!=(y=null==(v=t.UYt)?void 0:v.XYt)?y:[]).concat(i.XYt))}var I=t.WYt;if(I){var R,C,N,D=I.uKt;r&&r.uKt&&(D=r.uKt),I=new OJ(D,(null!=(C=null==(R=t.WYt)?void 0:R.lKt)?C:[]).concat(null!=(N=null==r?void 0:r.lKt)?N:[]))}var x=t.lt;return this.lt&&(x=this.lt),{LYt:o,FYt:a,UYt:h,WYt:I,lt:x,GYt:t.GYt}},Nt(n,[{key:"LYt",get:function(){return this.BYt}},{key:"WKt",get:function(){return this.UKt}},{key:"GKt",get:function(){return this.ZKt}},{key:"RYt",get:function(){return this.CYt}},{key:"HKt",get:function(){return this.XKt}},{key:"zKt",get:function(){return this.qKt}},{key:"lt",get:function(){return this.bZ}}]),n}(DJ);F(),Tt(),Dt();var WJ=function(){function t(t,n,i,r,e,u,s,o){this.jS=t,this.QKt=n,this.$Kt=i,this.AKt=r,this.tjt=e,this.ejt=u,this.ijt=s,this.sjt=o}return Nt(t,[{key:"o",get:function(){return this.jS}},{key:"jKt",get:function(){return this.QKt}},{key:"JKt",get:function(){return this.$Kt}},{key:"bKt",get:function(){return this.AKt}},{key:"FYt",get:function(){return this.tjt}},{key:"VYt",get:function(){return this.ejt}},{key:"WYt",get:function(){return this.ijt}},{key:"universalAdIds",get:function(){return this.sjt}}]),t}();F(),Tt(),Dt();var ZJ=function(){function t(t,n,i,r,e,u,s,o,a){this.njt=t,this.ojt=n,this.zYt=i,this.hjt=r,this.ujt=e,this.rKt=!1,this.sKt=u,this.DYt=s,this._jt=o,this.gjt=a}return t.prototype.oKt=function(){this.rKt=!0},Nt(t,[{key:"ct",get:function(){return this.njt}},{key:"rjt",get:function(){return this.ojt}},{key:"XYt",get:function(){return this.zYt},set:function(t){this.zYt=t}},{key:"KKt",get:function(){return this.hjt},set:function(t){this.hjt=t}},{key:"ajt",get:function(){return this.ujt},set:function(t){this.ujt=t}},{key:"cjt",get:function(){return this.rKt}},{key:"sd",get:function(){return this.eKt},set:function(t){this.eKt=t}},{key:"iKt",get:function(){return this.sKt}},{key:"PYt",get:function(){return this.DYt}},{key:"ljt",get:function(){return this.djt},set:function(t){this.djt=t}},{key:"fjt",get:function(){return this._jt}},{key:"vjt",get:function(){return this.gjt}}]),t}();function XJ(t,n){return YJ(t)&&t.getAttribute(n)||void 0}function GJ(t,n){return HJ(t,n,void 0,!1)}function HJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function zJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);YJ(e)&&GJ(e,n)&&i.push(e)}return i}function YJ(t){return t&&1===t.nodeType}function jJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new p('Invalid document for MIME type "'+n+'"');return i}function KJ(t){return jJ(t,"text/xml")}function qJ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function JJ(t){return"data:application/xml,"+encodeURIComponent(t)}F(),Tt(),F(),Tt(),Dt();var QJ=function(t){return t.mjt="mute",t.pjt="unmute",t.Ky="pause",t.wjt="resume",t.yjt="rewind",t.bjt="skip",t.Ajt="playerExpand",t.Sjt="playerCollapse",t.Tjt="fullscreen",t.kjt="exitFullscreen",t.Ejt="expand",t.COLLAPSE="collapse",t.rTt="start",t.xjt="firstQuartile",t.Ijt="thirdQuartile",t.Rjt="midpoint",t.Cjt="complete",t.Pjt="acceptInvitationLinear",t.Djt="acceptInvitation",t.Njt="timeSpentViewing",t.Mjt="otherAdInteraction",t.jy="progress",t.Ljt="creativeView",t.Bjt="adExpand",t.Ojt="adCollapse",t.Fjt="minimize",t.Vjt="close",t.Wjt="closeLinear",t.Ujt="overlayViewDuration",t.Gjt="breakStart",t.Zjt="breakEnd",t.fa="error",t}({});function $J(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var tQ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function nQ(t){return void 0!==t&&-1!==tQ.indexOf(t)}var iQ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function rQ(t){return void 0!==t&&-1!==iQ.indexOf(t)}var eQ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function uQ(t){return void 0!==t&&-1!==eQ.indexOf(t)}function sQ(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?T(i[1]||"0")+60*T(i[2]||"0")+T(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?T(i[1]||"0")*n/100:void 0}}var oQ=function(){function t(t,n,i){this.Hjt=t,this.Xjt=n,this.zjt=i}return Nt(t,[{key:"pz",get:function(){return this.Hjt}},{key:"nc",get:function(){return this.Xjt}},{key:"eventURL",get:function(){return this.zjt}}]),t}();F(),Tt(),Dt(),Rt();var aQ=function(){function t(t){this.Yjt=t}return Nt(t,[{key:"qjt",get:function(){return this.Yjt}}]),t}(),cQ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).jjt=i,u.NKt=r,u.PKt=e,u}return It(n,t),Nt(n,[{key:"DKt",get:function(){return this.NKt}},{key:"CKt",get:function(){return this.PKt}},{key:"Kjt",get:function(){return this.jjt}}]),n}(aQ),hQ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(aQ),fQ=function(t){function n(n){return t.call(this,n)||this}return It(n,t),n}(aQ);F(),Tt(),Dt();var vQ={Qjt:{zb:100,Tb:"XML parsing error."},Jjt:{zb:303,Tb:"Empty or invalid VAST error."},$jt:{zb:400,Tb:"General linear error"},tQt:{zb:403,Tb:"Unsupported MIME-type or missing mediafiles error"},eQt:{zb:500,Tb:"General nonlinear error"},UX:{zb:900,Tb:"Network error"}},dQ=function(){function t(t){this.sQt=t}return t.prototype.nQt=function(t){if(this.iQt){var n=this.iQt.replace(/\[ERRORCODE]/,""+t.zb);AJ(n)}},Nt(t,[{key:"iQt",get:function(){return this.sQt}}]),t}();F(),Tt(),Dt(),Rt();var lQ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&mQ[i]||n,e)||this).oQt=n,u.aQt=i,u.i3=r,u}return It(n,t),Nt(n,[{key:"rQt",get:function(){return this.oQt}},{key:"hQt",get:function(){var t;return null!=(t=this.aQt)?t:900}}]),n}(pr),gQ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),wQ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),mQ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function yQ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case AA.iP:case AA.sP:case AA.eP:return!0;default:return!1}}function pQ(t){var n=Wr();return!!(yQ(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(bQ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function _Q(t,n){for(var i=0;i<n.length;i++){var r=n[i];new dQ(r).nQt(t)}}function bQ(t){0}F(),Tt(),F(),Tt(),Dt();var kQ=function(){function t(t,n){this.cQt=t,this.dQt=n}return Nt(t,[{key:"uQt",get:function(){return this.cQt}},{key:"lQt",get:function(){return this.dQt}}]),t}(),AQ=function(){function t(){}var n=t.prototype;return n.fQt=function(n,i){var r=this;return Pt((function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return IJ(n.sources,n.timeOffset)?[4,t._Qt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new lQ(gQ.NETWORK,wQ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return GJ(u,"VMAP")?[4,r.vQt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return GJ(u,"VAST")?[4,r.gQt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new RQ("",!0,!0,s),[2,[new EQ("start",o,TQ.mQt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new lQ(gQ.GENERAL,wQ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(RJ(n.sources,n.timeOffset))return[2,[new IQ(String(n.timeOffset),n,i)]];throw new lQ(gQ.GENERAL,wQ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.pQt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Pt((function(){var s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t._Qt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),_Q(o instanceof lQ&&o.hQt===wQ.VAST_MALFORMED_RESPONSE?vQ.Jjt:vQ.UX,e),o;case 3:return(a=s&&s.documentElement)&&GJ(a,"VAST")?[4,u.gQt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:a&&GJ(a,"VMAP")&&tu("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),c.label=6;case 6:return[2,void 0]}}))}))()},n.wQt=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new lQ(gQ.GENERAL,wQ.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.pQt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new RQ("",!0,!0,s),(a=new EQ(n,o,TQ.mQt,"",[],!1,!0,t)).yQt=i,[2,a]}}))}))()},n.gQt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d,l,g,w;return Ot(this,(function(m){switch(m.label){case 0:if(u=[],s=[],o=[],!t||!GJ(t,"VAST")){if(_Q(vQ.Jjt,r),i)throw new lQ(gQ.PARSING,wQ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new lQ(gQ.PARSING,wQ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===zJ(t,"Ad").length)return[3,7];a=0,c=zJ(t,"Ad"),m.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],m.label=2;case 2:return m.trys.push([2,4,,5]),[4,e.bQt(h,n,r)];case 3:return 0===(f=m.sent()).kL?u.push(f):s.push(f),[3,5];case 4:return v=m.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];if(1===u.length&&0===s.length)return[2,u[0]];if(0===u.length&&0!==s.length)return[2,new NJ(s)];if(u.length>0||s.length>0)return[2,new NJ(s.concat(u))];m.label=7;case 7:if(0!==zJ(t,"Error").length)for(d=0,l=zJ(t,"Error");d<l.length;d++)g=l[d],bQ(vQ.Jjt.Tb),(w=g.textContent)&&r.push(w.trim());if(_Q(vQ.Jjt,r),i)throw new lQ(gQ.PARSING,wQ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new lQ(gQ.PARSING,wQ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}}))}))()},n.vQt=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(e=[],0===(u=zJ(t,"AdBreak")).length)throw new lQ(gQ.PARSING,wQ.VAST_EMPTY_RESPONSE,"The VMAP element was empty.");s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.AQt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),Kn.hw(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.bQt=function(n,i,r){var e=this;return Pt((function(){var u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return u=XJ(n,"id")||"",(s=LF(XJ(n,"sequence")))||(s=0),o=zJ(n,"InLine"),0===(a=zJ(n,"Wrapper")).length?[3,2]:[4,e.SQt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.TQt(o[0],u,s,r)];c.label=3;case 3:throw new lQ(gQ.PARSING,wQ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.SQt=function(n,i,r,e,u){var s=this;return Pt((function(){var o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A;return Ot(this,(function(T){switch(T.label){case 0:for(o=zJ(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=zJ(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,d=zJ(n,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return g=zJ(n,"VASTAdTagURI")[0],w="",g&&g.textContent&&(w=g.textContent),[4,s.pQt(w,e,!0,u)];case 1:return m=T.sent(),y=t.kQt(zJ(n,"Extensions")[0]),p=zJ(n,"Creatives")[0],_=[],p&&(_=t.xQt(p,h,y,u)),(b=OF(XJ(n,"followAdditionalWrappers")))||(b=!0),(k=OF(XJ(n,"allowMultipleAds")))||(k=!0),(A=OF(XJ(n,"fallbackOnNoAd")))||(A=!1),[2,new UJ(i,r,f,m,b,_,k,A,new dQ(a))]}}))}))()},n.AQt=function(n,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ot(this,(function(k){switch(k.label){case 0:if(u=XJ(n,"timeOffset")||"0",s=XJ(n,"breakType")||TQ.oE,o=XJ(n,"breakId"),a=OF(XJ(n,"repeatAfter")),c=void 0!==SQ.BQt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new lQ(gQ.PARSING,wQ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=zJ(n,"AdSource")[0],f=zJ(n,"TrackingEvents")[0],v=[],f&&(v=t.PQt(f,$J,"vmap")),(d=XJ(h,"id"))||(d=""),void 0===(l=OF(XJ(h,"allowMultipleAds")))&&(l=!0),(g=OF(XJ(h,"followRedirects")))||(g=!0),w=zJ(h,"AdTagURI")[0],m="",y=zJ(h,"VASTAdData")[0],!w||!w.textContent)return[3,1];try{return m=w.textContent,(p=Wg(i)).sources.src=m,[2,new IQ(u,p,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return y?y.firstElementChild&&HJ(y.firstElementChild,"VAST")?[4,e.gQt(y.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(_=k.sent())?(b=new RQ(d,l,g,_),[2,new EQ(u,b,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new lQ(gQ.PARSING,wQ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new lQ(gQ.PARSING,wQ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.eE(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new lQ(gQ.NETWORK,wQ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!ml(i))throw new lQ(gQ.NETWORK,wQ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t._Qt=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return r=new Tl({Xu:t,tE:Fd.Rk,EE:pl.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.$k()];case 3:return[2,KJ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new lQ(gQ.NETWORK,wQ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.TQt=function(n,i,r,e){var u,s=zJ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=t.kQt(zJ(n,"Extensions")[0]),c=zJ(n,"AdSystem")[0],h="";c&&(h=c.textContent||h);var f=zJ(n,"AdTitle")[0];f&&(o=f.textContent||void 0);for(var v=[],d=0,l=zJ(n,"Impression");d<l.length;d++){var g=l[d];g.textContent&&v.push(g.textContent)}var w=t.EQt(zJ(n,"Creatives")[0],h,a,e);return new xJ(i,r,h,o,v,w,new dQ(u))},t.xQt=function(n,i,r,e){for(var u=[],s=0,o=zJ(n,"Creative");s<o.length;s++){var a=o[s],c=XJ(a,"id");c||(c="");var h=LF(XJ(a,"sequence"));h||(h=0);var f=XJ(a,"adId");f||(f="");var v=zJ(a,"Linear")[0],d=void 0;v&&(d=t.IQt(v,"wrapper",c,i,r,e));var l=zJ(a,"NonLinearAds")[0],g=void 0;if(l)try{g=t.RQt(l,c,i)}catch(t){}var w=zJ(a,"CompanionAds")[0],m=void 0;w&&(m=t.CQt(w)),u.push(new WJ(c,f,h,"",d,g,m,[]))}return u},t.EQt=function(n,i,r,e){for(var u=[],s=0,o=zJ(n,"Creative");s<o.length;s++){var a=o[s],c=XJ(a,"id");c||(c="");var h=LF(XJ(a,"sequence"));h||(h=0);var f=XJ(a,"adId");f||(f="");var v=XJ(a,"apiFramework");v||(v="");var d=zJ(a,"Linear")[0],l=void 0;if(d)try{l=t.IQt(d,"inline",c,i,r,e)}catch(t){}if(0===(null==l?void 0:l.ct))throw new lQ(gQ.PARSING,wQ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var g=zJ(a,"NonLinearAds")[0],w=void 0;if(g)try{w=t.RQt(g,c,i)}catch(t){}var m=zJ(a,"CompanionAds")[0],y=void 0;m&&(y=t.CQt(m));var p=zJ(a,"UniversalAdId"),_=t.parseUniversalAdIds(p);u.push(new WJ(c,f,h,v,l,w,y,_))}return u},t.kQt=function(t){var n=[];if(!t)return n;for(var i=0,r=zJ(t,"Extension");i<r.length;i++){var e,u=r[i],s=null!=(e=XJ(u,"type"))?e:"",o=u.outerHTML;n.push({type:s,xml:o})}return n},t.IQt=function(n,i,r,e,u,s){var o=zJ(n,"Duration")[0],a=0;if(o)a=SJ(o.textContent)||0;else if(!o&&"inline"===i)throw new lQ(gQ.PARSING,wQ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var c=XJ(n,"skipoffset"),h=-1;if(c){var f=SJ(c);if(void 0===f&&c.indexOf("%")>-1){var v=k.abs(Number(c.replace(/(?![0-9])./g,"")))/100;S(v)||(f=a*v)}void 0!==f&&(h=f)}var d=zJ(n,"MediaFiles")[0],l=[],g=[];if(d&&(l=function(t,n){for(var i=[],r=0,e=zJ(t,"MediaFile");r<e.length;r++){var u=e[r],s=XJ(u,"delivery"),o=XJ(u,"type");if(o){if(n(o)){var a=LF(XJ(u,"width")),c=LF(XJ(u,"height"));a||(bQ(),a=0),c||(bQ(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else bQ()}return i}(d,pQ),g=function(t){var n=zJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i=[],r=0,e=zJ(n[0],"ClosedCaptionFile");r<e.length;r++){var u=e[r],s=XJ(u,"type");s||bQ();var o=XJ(u,"language");o||bQ();var a={type:null!=s?s:"",language:null!=o?o:"",contentURL:(""+u.textContent).trim()};i.push(a)}return i}(d)),"inline"===i&&(!d||0===l.length))throw _Q(vQ.tQt,s),new lQ(gQ.PARSING,wQ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var w=zJ(n,"TrackingEvents")[0],m=[];w&&(m=t.PQt(w,nQ,"linear"));var y=zJ(n,"VideoClicks")[0],p=t.DQt(y);return new ZJ(a,l,m,p,h,r,e,g,u)},t.DQt=function(n){if(!n)return new FJ("","",[],[]);var i,r=zJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=XJ(r,"id")||"");var u=t.NQt(zJ(n,"ClickTracking")),s=t.NQt(zJ(n,"CustomClick"));return new FJ(i,e,u,s)},t.NQt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=XJ(r,"id")||"";n.push(new VJ(u,e))}}return n},t.PQt=function(t,n,i){for(var r=[],e=0,u=zJ(t,"Tracking");e<u.length;e++){var s=u[e],o=XJ(s,"event");if(n(o)){var a="";"linear"===i&&(a=XJ(t,"offset")||"0");var c=s.textContent;c&&r.push(new oQ(o,a,c))}else bQ()}return r},t.RQt=function(n,i,r){for(var e=[],u=0,s=zJ(n,"NonLinear");u<s.length;u++){var o=s[u],a=zJ(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.NQt(zJ(o,"NonLinearClickTracking")),f=zJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=XJ(f,"creativeType"),l=f.textContent||"",g=zJ(f.parentNode,"NonLinearClickThrough")[0],w="";g&&(w=g.textContent||""),v=new cQ(l,d,w,"")}var m=t.MQt(o),y=t.parseHtmlResource(o);if(v||m||y){var p=new FJ(c,"",h,[]);e.push(new LJ(v,m,y,p,i,r))}else bQ()}if(0===e.length)throw new lQ(gQ.PARSING,wQ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var _=zJ(n,"TrackingEvents")[0],b=[];return _&&(b=t.PQt(_,rQ,"nonlinear")),new PJ(e,b)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=XJ(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=XJ(s,"idValue"))?e:s.textContent)?u:"";n.push(new kQ(o,a))}return n},t.CQt=function(n){var i=XJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=MJ.xH);for(var r=[],e=0,u=zJ(n,"Companion");e<u.length;e++){var s=u[e],o=LF(XJ(s,"width")),a=LF(XJ(s,"height")),c=XJ(s,"id"),h=LF(XJ(s,"assetWidth")),f=LF(XJ(s,"assetHeight")),v=LF(XJ(s,"expandedWidth")),d=LF(XJ(s,"rxpandedHeight")),l=XJ(s,"apiFramework"),g=XJ(s,"adSlotId"),w=LF(XJ(s,"pxratio")),m=zJ(s,"AltText")[0],y=m?m.textContent:"";o||(bQ(),o=0),a||(bQ(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),g||(g=""),w||(w=1),y||(y="");var p=t.LQt(s),_=t.MQt(s),b=t.parseHtmlResource(s),k=zJ(s,"TrackingEvents")[0],A=[];k&&(A=t.PQt(k,uQ,"companion"));var T=zJ(s,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.NQt(zJ(s,"CompanionClickTracking"));(p||_||b)&&r.push(new BJ(o,a,c,h,f,v,d,l,g,w,p,_,b,new FJ(S,"",E,[]),A,y))}return new OJ(i,r)},t.LQt=function(t){var n,i=zJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=XJ(i,"creativeType");r||(r="");var e,u=i.textContent,s=zJ(i.parentNode,"AltText")[0],o=zJ(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new cQ(u,r,e,a))}return n},t.MQt=function(t){var n,i=zJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new hQ(r)}return n},t.parseHtmlResource=function(t){var n,i=zJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new fQ(r)}return n},t}(),TQ=function(t){return t.oE="",t.mQt="linear",t.OQt="nonlinear",t.FQt="display",t}({}),SQ=function(){function t(){}return t.VQt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.WQt=function(t){},t.UQt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.GQt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.ZQt=function(t){if(t<=0)return"00:00:00.000";var n=k.floor(t),i=t-n;return this.HQt(n/3600,2)+":"+this.HQt(n/60%60,2)+":"+this.HQt(n%60,2)+"."+this.HQt(1e3*i,3)},t.HQt=function(t,n){return("00"+k.floor(t)).slice(-n)},t.XQt=function(t,n){var i=this.BQt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return EJ(t)*n;if(1===i)return SJ(t);if(3===i)return this.UQt(t);if(4===i){var r=Number(t);if(!S(r)&&r>=-1)return r}}},t.BQt=function(t){return"start"===t||"end"===t?0:void 0!==SJ(t.toString())?1:void 0!==EJ(t.toString())?2:void 0!==this.WQt(t.toString())?3:S(Number(t))?void 0:4},t}(),EQ=function(){function t(t,n,i,r,e,u,s,o){this.ujt=-1,this.KQt=n,this.jQt=t,this.sJt=i,this.JQt=r,this.tJt=u,this.RKt=e,this.nJt=s,this.qQt=o}return t.prototype.$n=function(){return et.resolve()},Nt(t,[{key:"zQt",get:function(){return this.qQt.integration}},{key:"YQt",get:function(){return this.KQt}},{key:"LOt",get:function(){return this.jQt}},{key:"ajt",get:function(){return this.ujt},set:function(t){this.ujt=t}},{key:"XYt",get:function(){return this.RKt}},{key:"QQt",get:function(){return this.JQt}},{key:"$Qt",get:function(){return this.tJt}},{key:"urt",get:function(){return this.qQt}},{key:"eJt",get:function(){return this.yQt.od}},{key:"W",get:function(){return!0}},{key:"yQt",get:function(){return this.iJt},set:function(t){this.iJt=t}}]),t}(),IQ=function(){function t(t,n,i){this.JE=!1,this.WW=i,this.eKt=new EQ(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.rJt)?t:this.rJt=this.ix()},n.ix=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,(new AQ).wQt(t.urt,t.LOt,t.yQt,t.WW)];case 1:return t.eKt=n.sent(),t.JE=!0,[2]}}))}))()},Nt(t,[{key:"zQt",get:function(){return this.eKt.zQt}},{key:"YQt",get:function(){return this.eKt.YQt}},{key:"LOt",get:function(){return this.eKt.LOt}},{key:"ajt",get:function(){return this.eKt.ajt},set:function(t){this.eKt.ajt=t}},{key:"XYt",get:function(){return this.eKt.XYt}},{key:"QQt",get:function(){return this.eKt.QQt}},{key:"$Qt",get:function(){return this.eKt.$Qt}},{key:"urt",get:function(){return this.eKt.urt}},{key:"eJt",get:function(){return this.eKt.eJt}},{key:"W",get:function(){return this.JE}},{key:"yQt",get:function(){return this.eKt.yQt},set:function(t){this.eKt.yQt=t}}]),t}(),RQ=function(){function t(t,n,i,r){this.jS=t,this.oJt=n,this.uJt=r,this.aJt=i}return Nt(t,[{key:"o",get:function(){return this.jS}},{key:"HKt",get:function(){return this.oJt}},{key:"hJt",get:function(){return this.aJt}},{key:"AYt",get:function(){return this.uJt}}]),t}();function CQ(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return JJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=nT(i)||uT(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+SQ.ZQt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+SQ.ZQt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+qJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+qJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+qJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=JJ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}var NQ=function(t){return t.cJt="error",t.lJt="sourceupdate",t}({}),DQ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return It(n,t),n}(ma),xQ=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.Cc=i,r}return It(n,t),n}(ma),PQ=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).RJt=0,e.SJt=function(t){e._o(new DQ(t))},e.AJt=function(t){var n,i=new aJ(yJ(t.code),null!=(n=t.description)?n:void 0);e.SJt(i)},e.xMt=n,e._Jt=i,e.dJt=r,e}It(n,t);var i=n.prototype;return i.fJt=function(t){this._Jt.fJt(t)},i.vJt=function(t){this._Jt.vJt(t)},i.gJt=function(t){this._Jt.gJt(t)},i.mJt=function(t){this._Jt.mJt(t)},i.pJt=function(t){this.dJt.addUpdateListener(t)},i.wJt=function(t){this.dJt.removeUpdateListener(t)},i.yJt=function(){var t=this,n=new ih,i=new chrome.cast.media.GetStatusRequest;return this.dJt.getStatus(i,(function(){n.Zb({bt:t.II(),Cc:t.iu()})}),(function(t){return n.Hb(t)})),n.Xb},i.II=function(){var t;return null==(t=this.dJt.customData)?void 0:t.currentSource},i.iu=function(){var t,n;if(null==(t=this.xMt.bJt())?void 0:t.version){var i;n=null==(i=this.dJt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=pJ(this.dJt))?void 0:r.customData;(function(t){return Qn(t)&&t.theoplayer_version>=1&&Yn(t.streamStart)&&Yn(t.isLive)&&Yn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:LQ(t)}}(this.dJt.media))}return n},i.PR=function(){var t=new chrome.cast.media.PauseRequest;this.dJt.pause(t,_i,this.AJt)},i.NR=function(){var t=new chrome.cast.media.StopRequest;this.dJt.stop(t,_i,this.AJt)},i.DR=function(){var t=new chrome.cast.media.PlayRequest;this.dJt.play(t,_i,this.AJt)},i.Db=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new et((function(t,n){i.dJt.seek(r,t,(function(t){var i;n(new aJ(yJ(t.code),null!=(i=t.description)?i:void 0))}))}))},i.iR=function(t){this._Jt.Git(_J,function(t){return{type:bJ.bYt,properties:{playbackRate:t}}}(t)).catch(this.SJt)},i.TJt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.dJt.editTracksInfo(n,_i,this.AJt)},i.kJt=function(){return this.dJt.getEstimatedTime()},i.EJt=function(){return this.dJt.getEstimatedBreakClipTime()},i.xJt=function(){return this.dJt.getEstimatedBreakTime()},i.IJt=function(){this._Jt.Git("urn:x-cast:com.google.cast.media",{type:kJ.SKIP_AD,requestId:this.RJt++,mediaSessionId:this.dJt.mediaSessionId}).catch(this.SJt)},i.yn=function(){this.Ro()},Nt(n,[{key:"LN",get:function(){return this.dJt}}]),n}(la);function LQ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?er(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=Hi(n,(function(t){return t.id===u}));if(s){var o=CQ(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}F(),Tt();var MQ=function(){function t(t){this.xMt=t}var n=t.prototype;return n.CJt=function(t,n){this.xMt.addMessageListener(t,n)},n.PJt=function(t,n){this.xMt.removeMessageListener(t,n)},n.Git=function(t,n){var i=this;return new et((function(r,e){i.xMt.sendMessage(t,n,r,(function(t){var n;e(new aJ(yJ(t.code),null!=(n=t.description)?n:void 0))}))}))},n.yn=function(){},t}();function OQ(t){return"vmap"===t||"adrule"===t}function BQ(t){if(t)return ti(t)&&""!==t?{src:qg(t),type:void 0}:function(t){return Qn(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:qg(t.src),type:VQ(t.type)}:void 0}function VQ(t){if(ti(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void tu("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||tu("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function FQ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return TJ.test(t)}(t))return SQ.GQt(t);if(UQ(t))return t}return Number(t)>=0?Number(t):void 0}}function UQ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function WQ(t){for(var n=[],i=function(t,r){if(qn(r))for(var e=0,u=r.length;e<u;e++){var s=Qn(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if(Qn(r))for(var o=0,a=b.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=b.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}F(),Tt(),F(),Tt(),F(),Tt();var ZQ=function(t){return t.wYt="receiver_info",t.YBt="event",t.DJt="propertychange",t.yYt="trackevent",t}({}),XQ=function(){function t(t){var n=this;this.MJt=[],this.LJt=[],this.VJt=function(t,i){var r=n.NJt(i);if(r)if(r.type===ZQ.DJt)for(var e=0,u=n.MJt;e<u.length;e++)for(var s=u[e],o=0,a=b.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===ZQ.YBt)for(var h=0,f=n.LJt;h<f.length;h++){(0,f[h])(r.event)}else r.type===ZQ.yYt&&n.OJt&&r.event.trackState&&n.OJt(r.event.trackId,r.event.trackState.targetQualityIds)},this.FJt=t,this.FJt.CJt(_J,this.VJt)}var n=t.prototype;return n.NJt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.fJt=function(t){this.MJt.push(t)},n.vJt=function(t){Ji(this.MJt,t)},n.gJt=function(t){this.LJt.push(t)},n.mJt=function(t){Ji(this.LJt,t)},n.BJt=function(t){this.OJt=t},n.Git=function(t,n){return this.FJt.Git(t,n)},n.yn=function(){this.FJt.PJt(_J,this.VJt),ir(this.LJt),ir(this.MJt),this.OJt=void 0},t}();F(),Tt(),F(),Tt();var GQ=function(t){return t.WJt="medialoadedchange",t.vb="volumechange",t.cJt="casterror",t.UJt="playererror",t.GJt="targetqualitychanged",t.ZJt="receiverinfochanged",t}({}),HQ=function(t){function n(){return t.call(this,"medialoadedchange")||this}return It(n,t),n}(ma),zQ=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).yR=n,r.qI=i,r}return It(n,t),n}(ma),YQ=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return It(n,t),n}(ma),jQ=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return It(n,t),n}(ma),KQ=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).VN=n,r.HJt=i,r}return It(n,t),n}(ma),qQ=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return It(n,t),n}(ma),JQ=function(t){function n(n){var i;(i=t.call(this)||this).YJt=void 0,i.SJt=function(t){i._o(new YQ(t))},i.h$t=function(t,n){"error"===t&&i._o(new jQ(n))},i.a$t=function(t,n){i._o(new KQ(t,n))},i.qJt=function(t,n){var r=JSON.parse(n);r.type===ZQ.wYt&&(i.YJt=r.info,i._o(new qQ))},i.JJt=function(){var t=i.KJt().receiver.volume,n=t.level,r=t.muted;i._o(new zQ(null!=n?n:void 0,null!=r?r:void 0))},i.o$t=function(){return i.jJt(i.xMt.getMediaSession())},i.$Jt=function(t){var n;t||(null==(n=i.QJt)||n.wJt(i.$Jt),i.QJt=void 0,i._o(new HQ))},i.n$t=function(t){var n,r=new aJ(yJ(t.code),null!=(n=t.description)?n:void 0);i.SJt(r)},i.xMt=n,i.xMt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.o$t),i.FJt=new MQ(n.getSessionObj()),i._Jt=new XQ(i.FJt),i._Jt.fJt(i.h$t),i._Jt.BJt(i.a$t),i.KJt().addUpdateListener(i.JJt),i.JJt(),i.zJt();var r=i.xMt.getMediaSession();return r&&i.jJt(r),i}It(n,t);var i=n.prototype;return i.XJt=function(t,n,i){this._Jt.Git(_J,function(t,n,i){return{type:bJ.yYt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.SJt)},i.zJt=function(){this.FJt.CJt(_J,this.qJt),this._Jt.Git(_J,{type:bJ.wYt}).catch(_i)},i.bJt=function(){return this.YJt},i.KJt=function(){return this.xMt.getSessionObj()},i.jJt=function(t){!this.QJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.QJt=new PQ(this,this._Jt,t),this.JJt(),this._o(new HQ),this.QJt.pJt(this.$Jt))},i.t$t=function(){return this.QJt},i.e$t=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=tn(function(t){for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(vT(r)){var e=r.src;if(e){var u,s=null!=(u=r.type)?u:iT(e);if(QQ(s))return[e,s]}}}var o,a;return[null!=(o=vE(t))?o:"",null!=(a=hE(t))?a:""]}(t),2),u=e[0],s=e[1],o=new chrome.cast.media.MediaInfo(u,s);return o.metadata=mJ(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=BQ(e.sources);if(c)if(IJ(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(RJ(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,d=e.skipOffset,l=null!=(f=SQ.XQt(v,i))?f:0,g=void 0!==d?SQ.XQt(d,i):void 0,w=new chrome.cast.media.BreakClip("bc"+a++);w.vastAdsRequest=new chrome.cast.media.VastAdsRequest,w.vastAdsRequest.adTagUrl=c.src,w.whenSkippable=g,w.customData={integration:e.integration};var m=Hi(s,(function(t){return t.position===l}));void 0===m&&(m=new chrome.cast.media.Break("b"+o++,[],l),s.push(m)),m.breakClipIds.push(w.id),u.push(w)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(o,n,i),o}(t.i$t,t.zc,t.ct,t.V0),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.RI,i.customData=t.s$t,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.xMt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new aJ(yJ(r));return[2]}}))}))()},i.KI=function(t){this.KJt().setReceiverMuted(t,_i,this.n$t)},i.AR=function(t){this.KJt().setReceiverVolumeLevel(t,_i,this.n$t)},i.r$t=function(){return this.KJt().receiver.friendlyName},i.yn=function(){this.Ro(),this.xMt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.o$t),this.KJt().removeUpdateListener(this.JJt),this.FJt.PJt(_J,this.qJt),this._Jt.yn(),this.FJt.yn()},n}(la);function QQ(t){switch(t){case AA.iP:case AA.eP:case AA.sP:case AA.nP:return!0}return!1}var $Q=function(t){return t.u$t="statechange",t}({}),t$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Tft=n,i}return It(n,t),n}(ma),n$=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).P2t=void 0,n.C2t=void 0,n.KQ=function(){var t=n.g2t();n.P2t=t===tE.CONNECTED?new JQ(n.D2t.getCurrentSession()):void 0,n._o(new t$(t))},n}It(n,t);var i=n.prototype;return i.q1t=function(t){this.C2t=t},i.Y1t=function(){return this.C2t},i.j1t=function(){return this.P2t},i.g2t=function(){switch(this.D2t.getCastState()){case cast.framework.CastState.CONNECTED:return tE.CONNECTED;case cast.framework.CastState.CONNECTING:return tE.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return tE.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return tE.UNAVAILABLE}},i.nQ=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,cJ(n)];case 1:return r.sent(),i.D2t=cast.framework.CastContext.getInstance(),i.D2t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.KQ),i.D2t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.e2t=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.D2t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new aJ(yJ(i));case 3:return[2]}}))}))()},i.s2t=function(t){var n;return null==(n=this.C2t)?void 0:n.onStart(t)},i.l2t=function(t){var n;return null==(n=this.C2t)?void 0:n.onStop(t)},i.r2t=function(t){var n;return null==(n=this.C2t)?void 0:n.onJoin(t)},i.c2t=function(t){var n;return null==(n=this.C2t)?void 0:n.onLeave(t)},i.f2t=function(t){this.D2t.endCurrentSession(t)},n}(la);F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var i$=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).na=n,h.c$t=0,h.LO=new ow,h.FO=new ow,h.Hl=new rp,h.Oc=new mM,h.c$t=i,h.OH=r-i,h.FA=e,h.v5=u,h.WH=s,h.UH=o,h.d$t=a,h.f$t=c,h}It(n,t);var i=n.prototype;return i.Snt=function(){return this.Oc},i.TI=function(){return FA.WB()},i.CI=function(){return this.OH+this.c$t},i.dnt=function(){return this.CI()},i.EI=function(){},i.jd=function(){return this.FA},i.LI=function(){return this.v5},i.BI=function(){},i.$I=function(){return this.WH},i.l$t=function(){},i.eR=function(){return this.UH},i.iR=function(t){this.UH!==t&&(this.UH=t,this._o(new ET(this.na.RI,t)))},i.uR=function(){return Pp.TO},i.nR=function(){return FA.WB()},i.lR=function(){return FA.WB()},i.fR=function(){return!1},i.yI=function(){return this.LO},i.mR=function(){return this.FO},i._R=function(){return this.Hl},i.TJt=function(t){},i.wR=function(){return this.d$t},i.gR=function(){return this.f$t},i.DR=function(){this.WH=!1},i.PR=function(){this.WH=!0},i.Db=function(t){this.OH=t-this.c$t},i._$t=function(){return this.c$t},i.v$t=function(t){this.c$t=t},i.jnt=function(t){this.Oc.jnt(t)},i.NR=function(){},i.yn=function(){this.Ro(),this.LO.yn(),this.FO.yn(),this.Hl.yn(),this.Oc.yn()},n}(la);F(),Tt(),Rt(),nn(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt();var r$=function(t){return t.g$t="ccmodechangerequest",t.m$t="cctargetqualitychangerequest",t.p$t="cctrackchangerequest",t}({}),e$=function(t){function n(n,i,r){var e;return(e=t.call(this,r$.g$t)||this).track=n,e.trackId=i,e.mode=r,e}return It(n,t),n}(ma);F(),Tt();var u$=function(t){return t.Rk="TEXT",t.wE="AUDIO",t.yE="VIDEO",t}({}),s$=function(t){return t.TW="SUBTITLES",t.kW="CAPTIONS",t.EW="DESCRIPTIONS",t.Jn="CHAPTERS",t.xW="METADATA",t}({});function o$(t){return"AUDIO"===t.type}function a$(t){return"VIDEO"===t.type}function c$(t){return"TEXT"===t.type}var h$=function(t){function n(n){var i;(i=t.call(this)||this).eu=void 0;var r=n.customData;return i.OC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.OC),i.iF=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.ZC=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case s$.TW:return ep.TW;case s$.kW:return ep.kW;case s$.EW:return ep.EW;case s$.Jn:return ep.Jn;case s$.xW:return ep.xW}return}(n.subtype)||"subtitles",i.aR=Mw.NONE,i.zw=r&&void 0!==r.type?function(t){return Bw(t)?t:Ow.DEFAULT}(r.type):Ow.WEBVTT,i.P5=[],i.N5=new $N(i.P5),i.W5=[],i.D5=new $N(i.W5),i.Xo=Jy(r&&r.mode||qy.Mh),i.w$t=i.Xo,i}It(n,t);var i=n.prototype;return i.M5=function(t){return Hi(this.N5.mC,(function(n){return n.o===t}))},i.HC=function(t){this.LE=t},i.b$t=function(t){},i.yn=function(){},i.nr=function(){},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=tp(this)),this.eu}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"q",get:function(){return this.D5}},{key:"L",get:function(){return this.N5}},{key:"LE",get:function(){return this.Xo},set:function(t){var n=Jy(t);this.Xo!==n&&(this.Xo=n,this.w$t!==n&&this._o(new e$(this,this.OC,n)),this._o(new pw(this)))}},{key:"y$t",get:function(){return this.w$t},set:function(t){var n=Jy(t),i=this.Xo!==n;this.Xo=n,this.w$t=n,i&&this._o(new pw(this))}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var f$=function(t){function n(n,i){var r;return(r=t.call(this,r$.p$t)||this).trackId=n,r.enabled=i,r}return It(n,t),n}(ma);F(),Tt(),Rt();var v$=function(t){function n(n,i){var r;return(r=t.call(this,r$.m$t)||this).track=n,r.targetQuality=i,r}return It(n,t),n}(ma);F(),Tt();var d$=function(t){return t.wE="audio",t.yE="video",t.Rk="text",t}({}),l$=function(t){function n(n){var i;(i=t.call(this)||this).ydt=void 0,i.jO=new yw,i.pdt=void 0,i.eu=void 0,i.cBt=function(){return i._o(new bw(i))};var r=n.customData;if(i.OC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.OC),i.iF=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.qe=r&&r.enabled,i.S$t=i.qe,o$(n)){i.j3=d$.wE;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new dU(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.bn("update",i.cBt),i.jO.QO(o)}}else{i.j3=d$.yE;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new vU(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.bn("update",i.cBt),i.jO.QO(f)}}return i}It(n,t);var i=n.prototype;return i.nF=function(t){this.Rt=t},i.b$t=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.jO.mC;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.A$t(u)}},i.A$t=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!rr(t,n)})(this.pdt,t)&&(this.pdt=t&&this.jO.JO(t)?t:void 0,this._o(new kB(this.pdt,this)))},i.unload=function(){for(var t=0,n=this.jO.mC;t<n.length;t++){n[t].vn("update",this.cBt)}this.jO.nr()},Nt(n,[{key:"BC",get:function(){return this.ydt}},{key:"WC",get:function(){return this.pdt},set:function(t){this.A$t(t),this._o(new v$(this,t))}},{key:"VC",get:function(){return this.jO}},{key:"Ch",get:function(){return this.iF},set:function(t){t!==this.iF&&(this.iF=t,this._o(new bw(this)))}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.S$t!==t&&this._o(new f$(this.OC,t)),this._o(new pw(this)))}},{key:"T$t",get:function(){return this.S$t},set:function(t){var n=this.qe!==t;this.qe=t,this.S$t=t,n&&this._o(new pw(this))}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(la);F(),Tt();var g$=function(t){return t.k$t="legacy",t.E$t="caf",t}({});F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt();var w$=function(){function t(t){this.x$t=0,this.Oc=t}var n=t.prototype;return n.Ic=function(){if(!(this.x$t>=this.Oc.length)){var t=this.Oc[this.x$t];return this.x$t+=1,t}},n.lt=function(){return this.Ic()},t}();function m$(t){var n,i,r;return null!=(r=null==(i=t.YQt)||null==(n=i.AYt)?void 0:n.SYt())?r:[]}var y$=function(){},p$=function(){function t(){this.eu=void 0}return t.prototype.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get ads(){return t.zc.map((function(t){return t.Hnt()}))},get integration(){return t.zQt},get maxDuration(){return t.I$t},get maxRemainingDuration(){return t.R$t},get timeOffset(){return t.LOt},get customData(){return t.s$t}}}(this)},t}(),_$=function(){function t(t,n){this.P$t=t,this.na=n}return Nt(t,[{key:"C$t",get:function(){return this.P$t}},{key:"t",get:function(){return this.na}}]),t}(),b$=function(t){function n(n,i){var r;return(r=t.call(this)||this).L$t=[],r.O$t=[],r.iJt=n,r.B$t=i,r}It(n,t);var i=n.prototype;return i.N$t=function(t,n,i,r){var e=Hi(this.L$t,(function(n){return n.FYt===t}));if(void 0!==e)return e;var u=new S$(t,n,this,this.B$t,i,r);return this.L$t.push(u),u},i.M$t=function(t,n,i,r,e){var u=Hi(this.O$t,(function(n){return n.UYt===t}));if(void 0!==u)return u;var s=new T$(t,n,i,this,this.B$t,r,e);return this.O$t.push(s),s},Nt(n,[{key:"yQt",get:function(){return this.iJt}},{key:"zc",get:function(){for(var t=[],n=0,i=this.iJt.D$t;n<i.length;n++)for(var r=i[n],e=0,u=m$(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.WYt)?void 0:s.lKt)?o:[];if(a.FYt&&t.push(this.N$t(a.FYt,c,a.GYt,r.urt)),a.UYt)for(var h=0,f=a.UYt.ZYt;h<f.length;h++){var v=f[h];t.push(this.M$t(v,c,a.UYt,a.GYt,r.urt))}}return t}},{key:"zQt",get:function(){return LS.CSAI}},{key:"LOt",get:function(){var t=this.iJt.od;return t>=0?t:this.B$t.t.jd()}},{key:"R$t",get:function(){for(var t=0,n=0,i=this.iJt.D$t;n<i.length;n++)for(var r=0,e=m$(i[n]);r<e.length;r++){var u=e[r];u.FYt&&!u.FYt.cjt&&(t+=u.FYt.ct)}return this.B$t&&this.B$t.C$t&&(t+=this.B$t.C$t.ct-this.B$t.C$t.RI),t}},{key:"I$t",get:function(){for(var t=0,n=0,i=this.iJt.D$t;n<i.length;n++)for(var r=0,e=m$(i[n]);r<e.length;r++){var u=e[r];u.FYt&&(t+=u.FYt.ct)}return t}},{key:"s$t",get:function(){}}]),n}(p$),k$={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},A$=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).V$t=!1,o.z$t=n,o.dKt=i,o.eKt=r,o.B$t=e,o.sjt=u,o.qQt=s,o}It(n,t);var i=n.prototype;return i.F$t=function(){return this.V$t},i.W$t=function(){this.V$t=!0},i.U$t=function(t){return ao({},k$,{resourceURI:t.qjt||""})},i.G$t=function(t){return ao({},k$,{contentHTML:t.qjt.trim(),type:"HTMLResource"})},i.Z$t=function(t){var n,i;return ao({},k$,{clickThrough:(null==(n=t.DKt)?void 0:n.trim())||"",resourceURI:(null==(i=t.qjt)?void 0:i.trim())||"",altText:t.CKt||"",type:"StaticResource"})},i.H$t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.WYt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.SKt||"",height:t.Ti||0,width:t.ji||0};if(t.qYt){var e,u=n.Z$t(t.qYt),s=u.clickThrough||(null==(e=t.xKt)?void 0:e.DKt);i=ao({},u,{contentHTML:n.H$t(u.resourceURI,s,u.altText)||""})}else if(t.QYt)i=n.G$t(t.QYt);else{if(!t.KYt)return;i=n.U$t(t.KYt)}return Ug(i,r)})).filter((function(t){return void 0!==t})):[]},i.X$t=function(){return this.z$t.PYt},Nt(n,[{key:"sd",get:function(){return this.eKt}},{key:"urt",get:function(){return this.qQt}},{key:"GYt",get:function(){return this.sjt}}]),n}(y$),T$=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).q$t=r,a}It(n,t);var i=n.prototype;return i.ka=function(){var t=this.eKt,n={companions:this.WYt(this.dKt),type:"nonlinear",id:this.z$t.iKt,skipOffset:this.ajt,integration:this.qQt.integration,adSystem:this.z$t.PYt,get adBreak(){return t.Hnt()},creativeId:this.z$t.iKt,universalAdIds:this.sjt.map((function(t){return{adIdRegistry:t.uQt,adIdValue:t.lQt}}))};return this.z$t.KYt?Ug(this.U$t(this.z$t.KYt),n):this.z$t.QYt?Ug(this.G$t(this.z$t.QYt),n):this.z$t.qYt?Ug(this.Z$t(this.z$t.qYt),n):n},i.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.Y$t=function(){var t,n;return null!=(n=null==(t=this.z$t.qYt)?void 0:t.qjt)?n:""},i.K$t=function(){var t,n,i;return null!=(i=null==(n=this.z$t)||null==(t=n.qYt)?void 0:t.Kjt)?i:""},Nt(n,[{key:"UYt",get:function(){return this.z$t}},{key:"VYt",get:function(){return this.q$t}},{key:"ajt",get:function(){var t,n=this.z$t.sd;return n&&n.urt&&void 0!==n.urt.skipOffset?SQ.XQt(n.urt.skipOffset,this.B$t.C$t.ct):(null==(t=this.z$t.sd)?void 0:t.ajt)||-1}}]),n}(A$),S$=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)||this}It(n,t);var i=n.prototype;return i.ka=function(){var t,n=this.eKt,i=this.z$t;return{companions:this.WYt(this.dKt),duration:i.ct,id:i.iKt,mediaFiles:i.rjt,get mediaUrl(){return i.ljt},skipOffset:this.ajt,type:"linear",integration:this.qQt.integration,adSystem:i.PYt,width:void 0,height:void 0,get adBreak(){return n.Hnt()},clickThrough:null==(t=i.KKt)?void 0:t.DKt,creativeId:i.iKt,universalAdIds:this.sjt.map((function(t){return{adIdRegistry:t.uQt,adIdValue:t.lQt}})),closedCaptionFiles:i.fjt,extensions:i.vjt}},i.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.Y$t=function(){return this.z$t.rjt.length>0?this.z$t.rjt[0].contentURL:""},i.K$t=function(){return this.z$t.rjt.length>0?this.z$t.rjt[0].type:""},Nt(n,[{key:"FYt",get:function(){return this.z$t}},{key:"ajt",get:function(){var t=this.z$t.sd;return t&&t.urt&&void 0!==t.urt.skipOffset?SQ.XQt(t.urt.skipOffset,this.B$t.C$t.ct):this.z$t.ajt||-1}}]),n}(A$);function E$(t){return t instanceof S$}F(),Tt();var I$=function(t){return t.j$t="csai",t.Q$t="google-ima",t.Kh="google-dai",t.J$t="freewheel",t.$$t="mediatailor",t.Cv="chromecast",t.Dnt="theoads",t}({});F(),Tt(),Rt();var R$=function(t){function n(n){return t.call(this,"t0t",n)||this}return It(n,t),n.prototype.ka=function(){return new C$(this.trt.Hnt())},n}(nM),C$=function(t){function n(n){return t.call(this,"updatead",n)||this}return It(n,t),n}(iM);F(),Tt(),Rt();var N$=function(t){function n(n){return t.call(this,"e0t",n)||this}return It(n,t),n.prototype.ka=function(){return new D$(this.trt.Hnt())},n}(nM),D$=function(t){function n(n){return t.call(this,"adloaded",n)||this}return It(n,t),n}(iM),x$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).s0t=[],e.i0t=void 0,e.z$t=void 0,e.eu=void 0,e.ih=function(t){var n;if(t){var i=e.dJt.LN,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=pJ(i))?void 0:n.media,c=[];o&&s&&e.h0t(o,s,a,c),e.l0t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e._o(f)}}},e.na=n,e.dJt=i,e.r0t=r,e.dJt.pJt(e.ih),e}It(n,t);var i=n.prototype;return i.K6=function(t,n,i){throw new _("Scheduling ads while casting is not supported.")},i.zD=function(){this.dJt.IJt()},i.Qnt=function(t){var n;null==(n=this.r0t)||n.Qnt(t)},i.Knt=function(t,n){var i;null==(i=this.r0t)||i.Knt(t,n)},i.o0t=function(t){return Hi(this.s0t,(function(n){return n.o===t}))},i.h0t=function(t,n,i,r){for(var e=this.s0t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.o0t(a.id);void 0===c&&(c=new P$(a),r.push(new $L(c))),!Yn(c.a0t)&&Yn(i)&&(c.a0t=this.u0t(c.c0t,i));var h=c.zc;c.ir(a,n,i,r);for(var f=c.zc,v=0;v<f.length;v++){var d=f[v];tr(h,d)||(r.push(new rM(d)),s=!0)}u.push(c)}this.s0t=u,s&&r.push(new dM);for(var l=0;l<e.length;l++){var g=e[l];tr(u,g)||r.push(new JL(g))}},i.l0t=function(t,n){var i,r,e=this.i0t,u=this.z$t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.o0t(o):void 0,r=a?null==(s=this.i0t)?void 0:s.d0t(a):void 0}if(this.i0t=i,this.z$t=r,i!==e&&(void 0!==e&&(e.f0t=void 0,n.push(new uM(e))),void 0!==i&&(i.f0t=this.dJt,n.push(new oM(i)))),r!==u){var c=this.na.CI();void 0!==u&&n.push(new fM(u,c)),void 0!==r&&n.push(new cM(r,c))}},i.u0t=function(t,n){if(n&&n.breaks){var i=Hi(n.breaks,(function(n){return n.id===t.id}));return i}},i.jnt=function(t){for(var n=[],i=0,r=this.s0t;i<r.length;i++){var e=r[i],u=e.zc;if(e===this.i0t&&void 0!==this.z$t){var s=u.indexOf(this.z$t);s>=0&&(u=u.slice(s))}else if(e.n0t())continue;for(var o=0;o<u.length;o++){var a=u[o]._0t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.K6(h,zL.Unt,!1)}},i.yn=function(){return this.Ro(),this.dJt.wJt(this.ih),void 0!==this.i0t&&(this.i0t.f0t=void 0,this.i0t=void 0),this.z$t=void 0,ir(this.s0t),et.resolve(void 0)},i.Ynt=function(t){},Nt(n,[{key:"Vc",get:function(){return void 0!==this.i0t}},{key:"Znt",get:function(){return this.z$t?[this.z$t]:[]}},{key:"Xnt",get:function(){var t;return null!=(t=this.i0t)?t:null}},{key:"znt",get:function(){var t=this;return er(this.s0t,(function(n){var i=n.zc;if(n===t.i0t&&void 0!==t.z$t){var r=i.indexOf(t.z$t);if(r>=0)return i.slice(r+1)}return n.n0t()?[]:i}))}},{key:"qnt",get:function(){var t=this;return this.s0t.filter((function(n){return n===t.i0t||!n.n0t()}))}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YL(this)}}]),n}(wa),P$=function(t){function n(n){var i;return(i=t.call(this)||this).a0t=void 0,i.Oc=[],i.f0t=void 0,i.v0t=n,i}It(n,t);var i=n.prototype;return i.n0t=function(){return this.v0t.isWatched},i.d0t=function(t){return Hi(this.Oc,(function(n){return n.o===t}))},i.ir=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=Hi(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Oc.length?e.Oc[u]:new L$(a,e);!Yn(c.g0t)&&Yn(i)&&(c.g0t=e.m0t(i,o,u)),c.ir(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.v0t=t,this.Oc=s},i.m0t=function(t,n,i){if(t&&t.breakClips){var r=Hi(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.a0t)?void 0:e.breakClipIds[i];u&&(r=Hi(t.breakClips,(function(t){return t.id===u})))}return r}},Nt(n,[{key:"c0t",get:function(){return this.v0t}},{key:"o",get:function(){return this.v0t.id}},{key:"zc",get:function(){return this.Oc}},{key:"zQt",get:function(){return I$.Cv}},{key:"I$t",get:function(){var t=this.v0t.duration;return void 0===t&&this.Oc.length>0&&(t=Vi(this.Oc,(function(t){return t.ct})),S(t)&&(t=void 0)),t}},{key:"R$t",get:function(){var t=this.I$t;if(void 0!==t&&void 0!==this.f0t){var n=this.f0t.xJt();if(void 0!==n)return k.max(0,t-n)}return t}},{key:"LOt",get:function(){return this.v0t.position}},{key:"s$t",get:function(){}}]),n}(p$),L$=function(){function t(t,n){this.eu=void 0,this.w0t=t,this.sd=n}var n=t.prototype;return n.X$t=function(){return""},n.K$t=function(){var t;return null!=(t=this.w0t.contentType)?t:""},n.Y$t=function(){var t,n;return null!=(n=null!=(t=this.w0t.contentUrl)?t:this.w0t.contentId)?n:""},n.ir=function(t,n){var i=this.o,r=this.ct,e=this.w0t.contentUrl;this.w0t=t;var u=this.o,s=this.ct,o=this.w0t.contentUrl;i===u&&(r===s||S(r)&&S(s))&&e===o||n.push(new R$(this)),S(r)&&!S(s)&&n.push(new N$(this))},n._0t=function(){var t;return this.g0t&&(t=CQ(this.g0t,this.sd.LOt)),t||(t=CQ(this.w0t,this.sd.LOt)),t},n.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},n.ka=function(){var t=this;return{get extensions(){return[]},get companions(){return t.lKt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.rjt},get mediaUrl(){return t.ljt},get closedCaptionFiles(){return[]},get skipOffset(){return t.ajt},type:"linear",integration:I$.Cv,get adSystem(){return t.X$t()},width:void 0,height:void 0,get adBreak(){return t.sd.Hnt()},get resourceURI(){return t.Y$t()},get clickThrough(){return t.DKt},get creativeId(){return t.iKt},get customData(){return t.s$t},get isSlate(){return!1},get universalAdIds(){return t.GYt.map((function(t){return{adIdRegistry:t.uQt,adIdValue:t.lQt}}))}}},Nt(t,[{key:"p0t",get:function(){return this.w0t}},{key:"o",get:function(){return this.w0t.id}},{key:"lKt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.w0t.duration)?t:NaN}},{key:"rjt",get:function(){var t=this.Y$t();return t?[{contentURL:t,delivery:"progressive",type:this.K$t(),width:0,height:0}]:[]}},{key:"ljt",get:function(){return this.Y$t()}},{key:"ajt",get:function(){var t=this.w0t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"DKt",get:function(){return this.w0t.clickThroughUrl}},{key:"iKt",get:function(){}},{key:"GYt",get:function(){return[]}},{key:"s$t",get:function(){}}]),t}();F(),Tt(),Dt(),Rt();var M$=function(t){function n(n,i){var r;return void 0===i&&(i=Kn.Ys.Qe),(r=t.call(this)||this).qe=!1,r.S0t=function(t){t.stopPropagation(),r._o(new ma("clickstart"))},r.T0t=function(t){t.stopPropagation(),r._o(new ma("click"))},r.ux=n,r.A0t=i,r.Vs=v.createElement("a"),r.Vs.style.position="absolute",r.Vs.style.zIndex="11",r.Vs.target="zu",r.A0t?(PP(r.Vs,"learn more"),r.Vs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Vs.setAttribute("rel","noopener")):wi(r.Vs),r.ux.appendChild(r.Vs),r.LW(),r}It(n,t);var i=n.prototype;return i.MW=function(){if(!this.qe){this.qe=!0,this.Vs.style.display="",this.A0t||(this.ux.style.cursor="pointer");var t=this.A0t?this.Vs:this.ux;Kn.Ys.Qe?(t.addEventListener("touchstart",this.S0t),t.addEventListener("touchend",this.T0t)):(t.addEventListener("mousedown",this.S0t),t.addEventListener("click",this.T0t))}},i.LW=function(){if(this.qe){this.qe=!1,this.Vs.style.display="none",this.A0t||(this.ux.style.cursor="");var t=this.A0t?this.Vs:this.ux;Kn.Ys.Qe?(t.removeEventListener("touchstart",this.S0t),t.removeEventListener("touchend",this.T0t)):(t.removeEventListener("mousedown",this.S0t),t.removeEventListener("click",this.T0t))}},i.Km=function(){this.Ro(),this.LW(),this.ux.removeChild(this.Vs)},Nt(n,[{key:"y0t",get:function(){return this.b0t},set:function(t){this.b0t!==t&&(this.b0t=t,this.Vs.href=null!=t?t:"",t?this.MW():this.LW())}}]),n}(la);F(),Tt(),Dt(),Rt(),F(),Tt();var O$=[1200,992,768,576],B$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},V$=function(){function t(t,n){var i=this;this.Vs=t,this.Ku=n,this.gn=function(t){i.k0t(t.width)},this.E0t=F$(n.Au),vi(this.Vs,this.E0t),n.bn(TI.mn,this.gn)}var n=t.prototype;return n.k0t=function(t){var n=F$(t);n!==this.E0t&&(vi(this.Vs,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+hi(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");fi(t,i.trim())}}(this.Vs,this.E0t),this.E0t=n)},n.yn=function(){this.Ku.vn(TI.mn,this.gn)},t}();function F$(t){for(var n=0;n<O$.length;n++){var i=O$[n];if(t>i)return B$[i]}return"theo-size-xs"}var U$=function(t){function n(n,i){var r;return(r=t.call(this)||this).P0t=function(){r._o(new ma("zD"))},r.Vs=v.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.nd=v.createElement("span"),r.we.appendChild(r.nd),i&&(r.D0t=v.createElement("div"),r.D0t.className="theoplayer-ad-skip-poster",r.D0t.style.backgroundImage='url("'+oa(i)+'")',r.we.appendChild(r.D0t)),r.Xo="countdown",r.Yu=new V$(r.we,n),r}It(n,t);var i=n.prototype;return i.x0t=function(t){"countdown"!==this.Xo&&(this.Xo="countdown",this.I0t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.Mk="You can skip in "+k.round(t)+" seconds"},i.R0t=function(){"skip"!==this.Xo&&(this.Xo="skip",this.Mk="Skip Ad",this.C0t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.C0t=function(){this.we.addEventListener("mouseup",this.P0t),this.we.addEventListener("touchend",this.P0t)},i.I0t=function(){this.we.removeEventListener("mouseup",this.P0t),this.we.removeEventListener("touchend",this.P0t)},i.yn=function(){this.Ro(),this.I0t(),this.Yu.yn(),oi(this.Vs),oi(this.nd),this.D0t&&oi(this.D0t)},Nt(n,[{key:"we",get:function(){return this.Vs}},{key:"LE",get:function(){return this.Xo}},{key:"Mk",get:function(){return this.nd.textContent||""},set:function(t){PP(this.nd,t)}}]),n}(la),W$=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).hIt=FA.WB(),s.t1t=void 0,s.v5=!1,s.bZ=void 0,s.z0t=void 0,s.g5=Pp.TO,s.s1t=!1,s.Uo=FA.WB(),s.j4=void 0,s.FH=!1,s.LO=new ow,s.FO=new ow,s.Hl=new rp,s.sxt=NaN,s.$0t=void 0,s.X0t=!1,s.J0t=NaN,s.j0t=void 0,s.V0t=0,s.d1t=function(t,n){switch(t){case"buffered":s.hIt=new FA(n),s._o(new oC(s.CI()));break;case"currentProgramDateTime":s.t1t=new Date(n).getTime()-s.CI();break;case"played":s.Uo=new FA(n);break;case"seekable":s.G0t();break;case"videoHeight":s.K0t(void 0,n);break;case"videoWidth":s.K0t(n,void 0)}},s.y4=function(t){switch(t.type){case ya.ib:s.Ge(t.currentTime);break;case ya.eb:s.jZ();break;case ya.Jy:s._o(new FB(t.representation,t.previousRepresentation));break;case ya.sb:s._o(new dB(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case ya.My:s._o(new PW(t.currentTime,t.initDataType,t.initData));break;case ya.Iy:s._o(new bx(new hw(vd.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case ya.Ry:s._o(new kx)}},s.$Jt=function(t){s.G0t(),s.H0t(),s.nh(),s.q0t(),s.Q0t(),s.U0t(),s.L0t(),s.N0t(),s.n1t(),s.o1t(),s.u1t(),t||Z$(s.dJt.LN)&&s.Ah()},s.pd=function(){s.Q0t(),s.u1t()},s.f1t=function(t){s._o(t)},s.e1t=Ai((function(t){return s.U8(t)}),50),s.SJt=function(t){s.$0t=void 0,s._o(new DQ(t))},s.a1t=function(){s.PR()},s.l1t=function(){s.Oc.zD()},s.na=n,s.xMt=r,s.dJt=e,s.Oc=new x$(n,e,i.zc),s.c$t=u._$t(),s.FA=u.jd()-s.c$t,s.WH=u.$I(),s.UH=u.eR(),s.d$t=u.wR(),s.f$t=u.gR(),s.dJt.gJt(s.y4),s.dJt.fJt(s.d1t),s.dJt.pJt(s.$Jt),s.dJt.bn(NQ.cJt,s.f1t),s.dJt.yJt().then((function(t){s._o(new xQ(t.bt,t.Cc))}),s.SJt),s}It(n,t);var i=n.prototype;return i.N0t=function(){var t=this.dJt.LN.activeTrackIds;if(t){if(this.M0t()){var n=this.FO.mC.map((function(t){return t.o})),i=this.LO.mC.map((function(t){return t.o}));tr(n.concat(i),"0")&&t.push(0)}z$(t,this.LO),z$(t,this.FO),function(t,n){for(var i=!1,r=0,e=n.mC;r<e.length;r++){var u=e[r];u.y$t=tr(t,u.OC)?qy.Qn:qy.Mh}}(t,this.Hl)}},i.L0t=function(){var t,n=null==(t=this.dJt.LN.media)?void 0:t.tracks;if(n){var i=n.filter(o$),r=n.filter(a$),e=n.filter(c$);if(this.M0t()&&0===r.length&&0!==this.wR()){var u=this.B0t();r.push(u)}if(this.M0t()&&0===i.length){var s=this.O0t();i.push(s)}G$(this.LO,i.map((function(t){return t.trackId}))),G$(this.FO,r.map((function(t){return t.trackId}))),G$(this.Hl,e.map((function(t){return t.trackId}))),H$(i,this.LO),H$(r,this.FO),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=X$(n,e.trackId);u||(u=new h$(e),n.tt(u),i=!0)}}(e,this.Hl)}},i.F0t=function(){this.WH||(this.V0t=m(this.pd,250))},i.W0t=function(){y(this.V0t)},i.U0t=function(){this.W0t(),this.F0t()},i.G0t=function(){var t,n,i=this.dJt.LN,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.FA=s,this.Z0t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(Yn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,d=o.isLiveDone,l=void 0!==d&&d;this.SVt(c,h,v,l)}else if(Yn(a)){var g=tn(a.seekable,2),w=g[0],m=g[1];this.SVt(w,m,u,!1)}else u?this.SVt(void 0,void 0,!0,!1):this.SVt(0,s,!1,!1)},i.H0t=function(){var t=this.dJt.LN,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||Z$(t);this.X0t=n,this.WH!==n&&(this.WH=n,this.WH?this._o(new AT(this.CI())):this._o(new TT(this.CI())))},i.nh=function(){var t=this.dJt.LN.playbackRate;this.z0t!==t&&(this.z0t=void 0,this.UH!==t&&(this.UH=t,this._o(new ET(this.CI(),t))))},i.q0t=function(){var t;switch(this.dJt.LN.playerState){case chrome.cast.media.PlayerState.IDLE:t=Pp.TO;break;case chrome.cast.media.PlayerState.BUFFERING:t=Pp.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=Pp.EO}this.p5(t),this.Y0t()},i.SVt=function(t,n,i,r){Yn(t)&&Yn(n)?this.j4=new _N(t,n,i,i&&!r):this.j4=void 0},i.K0t=function(t,n){this.f$t=null!=n?n:this.f$t,this.d$t=null!=t?t:this.d$t,this._o(new Rp)},i.Ge=function(t){this.j0t!==t?(this.FH=!0,this._o(new RT(this.CI()))):this.j0t=void 0},i.jZ=function(){if(this.FH){this.FH=!1;var t=this.CI();this._o(new Eg(t,this.EI())),this._o(new CT(t))}},i.Ah=function(){this.v5=!0,this.LI()&&this._o(new IT(this.CI()))},i.Z0t=function(){var t=this.sxt,n=this.jd();t===n||S(t)&&S(n)||(this.sxt=n,this._o(new ST(n)))},i.Q0t=function(){var t=this.CI();this.FH||this.J0t===t||(this.J0t=t,this._o(new Eg(t,this.EI())))},i.l$t=function(){this.WH&&(this.WH=!1,this._o(new TT(this.CI())),this.p5(Pp.TO))},i.Snt=function(){return this.Oc},i.TI=function(){return this.hIt.Pb(this.c$t)},i.CI=function(){if(this.Oc.Vc){var t=this.dJt.EJt();if(void 0!==t)return t}return this.dnt()},i.dnt=function(){return void 0!==this.$0t?this.c$t+this.$0t:this.v5?this.jd():this.c$t+this.dJt.kJt()},i.EI=function(){if(this.t1t)return new Date(this.dnt()+this.t1t)},i.jd=function(){if(this.Oc.Vc){var t,n=null==(t=this.Oc.Znt[0])?void 0:t.ct;if(void 0!==n&&!S(n))return n}return this.c$t+this.FA},i.BI=function(){return this.bZ},i.LI=function(){return!this.Oc.Vc&&this.v5},i.$I=function(){return this.WH},i.eR=function(){return this.UH},i.iR=function(t){this.UH!==t&&(this.z0t=this.UH,this.UH=t,this._o(new ET(this.CI(),t)),this.dJt.iR(t))},i.uR=function(){return this.g5},i.nR=function(){return this.Oc.Vc?FA.VB(0,this.CI()):this.Uo.Pb(this.c$t)},i.lR=function(){var t,n;if(this.Oc.Vc)return FA.WB();var i=null!=(n=null==(t=this.j4)?void 0:t.a4().Pb(this.c$t))?n:FA.WB();if(i.V>0){var r=i.Tn(i.V-1);i=i.AB(FA.VB(r,this.CI()))}return i},i.fR=function(){return this.FH},i.yI=function(){return this.LO},i.mR=function(){return this.FO},i._R=function(){return this.Hl},i.B0t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.gR(),id:"0",name:"",width:this.wR()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:u$.yE}},i.O0t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:u$.wE}},i.M0t=function(){var t,n;return!(void 0!==(null==(t=this.xMt.bJt())?void 0:t.version))||(null==(n=this.xMt.bJt())?void 0:n.sdkType)===g$.E$t},i.TJt=function(t){this.M0t()&&Ji(t,0),this.dJt.TJt(t)},i.wR=function(){return this.d$t},i.gR=function(){return this.f$t},i.DR=function(){this.WH&&(this.WH=!1,this.X0t=!1,this._o(new TT(this.CI()))),this.dJt.DR()},i.PR=function(){this.WH||(this.WH=!0,this.X0t=!0,this._o(new AT(this.CI()))),this.dJt.PR()},i.Db=function(t){if(!this.Oc.Vc){var n=k.max(0,t-this.c$t);n=k.round(1e6*n)/1e6;var i=this.$0t;this.$0t=n,this.X0t=this.$I(),this.j0t=n,this.FH=!0,this._o(new RT(this.CI())),void 0===i&&(this.M0t()?this.e1t(n):this.U8(n))}},i.U8=function(t){this.dJt.Db(t,this.X0t).then(this.i1t(t)).catch(this.SJt)},i.i1t=function(t){var n=this;return function(){void 0!==n.$0t&&(n.$0t===t?n.$0t=void 0:n.U8(n.$0t))}},i.p5=function(t){this.g5!==t&&(this.g5=t,this._o(new xp(this.CI(),t))),void 0===this.$0t&&this.FH&&t>=Pp.kO&&this.jZ(),this.Y0t()},i.Y0t=function(){if(this.WH)this.s1t=!1;else{var t=this.g5>=Pp.EO;this.s1t!==t&&(this.s1t=t,t?this._o(new Fp(this.CI())):this._o(new Op(this.CI())))}},i.n1t=function(){this.r1t||(this.r1t=v.createElement("div"),this.na.we.appendChild(this.r1t),this.r1t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.r1t.style.zIndex="10",wi(this.r1t)),this.r1t.style.display=this.Oc.Vc?"":"none"},i.o1t=function(){var t,n=null==(t=this.Oc.Znt[0])?void 0:t.DKt;n&&!this.h1t?(this.h1t=new M$(this.r1t,!0),this.h1t.y0t=n,this.h1t.bn("clickstart",this.a1t)):this.h1t&&(this.h1t.y0t=n)},i.u1t=function(){var t,n=null==(t=this.Oc.Znt[0])?void 0:t.ajt;if(void 0===n||n<0)this.c1t&&(this.c1t.yn(),this.c1t=void 0);else{if(!this.c1t){var i,r=null==(i=this.na.Ma)?void 0:i.mi;this.c1t=new U$(this.na.Hu,r),this.r1t.appendChild(this.c1t.we),this.c1t.bn("zD",this.l1t)}var e=this.dJt.EJt();void 0!==e&&(e<n?this.c1t.x0t(n-e):this.c1t.R0t())}},i._$t=function(){return this.c$t},i.v$t=function(t){this.c$t=t},i.jnt=function(t){},i.NR=function(){this.dJt.NR()},i.yn=function(){this.Ro(),this.Oc.yn(),this.h1t&&(this.h1t.Km(),this.h1t=void 0),this.c1t&&(this.c1t.yn(),this.c1t=void 0),this.r1t&&(oi(this.r1t),this.r1t=void 0),this.dJt.mJt(this.y4),this.dJt.vJt(this.d1t),this.dJt.wJt(this.$Jt),this.dJt.vn(NQ.cJt,this.f1t),this.dJt.yn()},n}(la);function Z$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function X$(t,n){for(var i=0,r=t.mC;i<r.length;i++){var e=r[i];if(e.OC===n)return e}}function G$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.wC(r);-1===n.indexOf(e.OC)&&(t.it(e),r--,i=!0)}return i}function H$(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=X$(n,e.trackId);u||(u=new l$(e),n.tt(u),i=!0)}return i}function z$(t,n){for(var i=0,r=n.mC;i<r.length;i++){var e=r[i];e.T$t=tr(t,e.OC)}return!1}F(),Tt();var Y$=function(){function t(){}var n=t.prototype;return n.ij=function(t){return et.resolve("all")},n.RR=function(){},n.yn=function(){},t}();F(),Tt();var j$=[ya.Ly,ya.Dy,ya.Qy,ya.$y,ya.Ky,ya.ho,ya.jy,ya._b,ya.ib,ya.eb,Np.aB,Np.uB,ya.Jy,ya.sb,ya.My,ya.Iy,ya.Ry],K$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).eo=!1,r.F1t=_i,r.eU=Pp.TO,r.KW=!1,r.JW=!1,r.y1t=!1,r.p1t=void 0,r.bZ=void 0,r.AZ=void 0,r.LO=new vA,r.FO=new vA,r.Hl=new dA,r.ea=new lS,r.OO=new lA,r.ont=new Y$,r.N1t=void 0,r.M1t=void 0,r.L1t=void 0,r.U1t=function(t){var n,i;(Yn(t.yR)&&!xi(t.yR,r.jA,1e-5)||Yn(t.qI)&&t.qI!==r.VH)&&(r.jA=null!=(n=t.yR)?n:r.jA,r.VH=null!=(i=t.qI)?i:r.VH,r._o(new NT(r.RI,r.jA)))},r.G1t=function(){var t=r.xMt.t$t();r.Tft=t?new W$(r,r.na,r.xMt,t,r.Fa):r.V1t()},r.g1t=function(t){r.BH(t.bt),r._1t(t.Cc)},r.Z1t=function(t){var n=r.v1t(t.VN);if(n){var i={targetQualityIds:t.HJt};n.b$t(i)}},r.f1t=function(t){r.A1t(t.lt)},r.A1t=function(t){r.F1t&&r.F1t(t)},r.W1t=function(t){r.bZ=t.lt,r.AZ=gw(r.bZ),r._o(new xk(r.AZ))},r.R1t=function(t){if(t.enabled)for(var n=0,i=(r.rt.mC.some((function(n){return n.OC===t.trackId}))?r.rt:r.ht).mC;n<i.length;n++){var e=i[n];e.Rt&&e.OC!==t.trackId&&(e.Rt=!1)}},r.C1t=function(t){if(t.mode===qy.Qn)for(var n=0,i=r.nt.mC;n<i.length;n++){var e=i[n];e.LE===qy.Qn&&e.OC!==t.trackId&&op(e.Lt,t.track.Lt)&&(e.LE=qy.Mh)}},r.N0t=Ai((function(){r.P1t()}),50),r.x1t=function(){var t,n,i=[],e=null!=(t=Hi(r.ht.mC,(function(t){return u0(t,r.N1t)})))?t:Hi(r.ht.mC,(function(t){return t.Rt}));e&&i.push(e.OC);var u,s=null!=(n=Hi(r.nt.mC,(function(t){return u0(t,r.M1t)})))?n:Hi(r.nt.mC,(function(t){return t.LE===qy.Qn}));s&&i.push(s.OC);var o=null!=(u=Hi(r.rt.mC,(function(t){return u0(t,r.L1t)})))?u:Hi(r.rt.mC,(function(t){return t.Rt}));o&&i.push(o.OC),0!==i.length&&r.Fa.TJt(i)},r.hpt=function(t){var n=r.B1t(t.targetQuality),i=t.track;r.xMt.XJt(i.OC,i.j3,n)},r.cU=function(t){r._o(t);var n=t.readyState;!r.KW&&r.eU===Pp.TO&&n>=Pp.Xn&&(r.KW=!0,r._o(new Lp(t.currentTime))),!r.JW&&r.eU<=Pp.Xn&&n>=Pp.kO&&(r.JW=!0,r._o(new Mp(t.currentTime))),r.eU<=Pp.kO&&n>=Pp.EO&&r._o(new Bp(t.currentTime)),r.eU<=Pp.EO&&n===Pp.xO&&r._o(new Vp(t.currentTime)),r.eU=n},r.jA=r.na.yR,r.VH=r.na.qI,r.xMt=i,r.xMt.bn(GQ.cJt,r.f1t),r.xMt.bn(GQ.UJt,r.W1t),r.xMt.bn(GQ.vb,r.U1t),r.xMt.bn(GQ.WJt,r.G1t),r.xMt.bn(GQ.GJt,r.Z1t),r.Oc=new gM(r),r.IH=r.na.bt,r.Sc=r.na.iu(),r.Tft=new i$(r,0,r.na.dnt(),r.na.jd(),r.na.MI,r.na.JI,r.na.tR,r.na.pR,r.na.vR),r.S1t(),r}It(n,t);var i=n.prototype;return i.BH=function(t){t&&(Zg(this.IH&&Hg(this.IH),t&&Hg(t))||(this.IH=t,this._o(new XT(t))))},i._1t=function(t){if(t){var n=AE(t,this.na.kd);Zg(this.Sc&&Hg(this.Sc),n&&Hg(n))||(this.Fa.v$t(0),this.Sc=n,this._o(new UL(n)),this.Fa.l$t())}},i.v1t=function(t){for(var n=0,i=this.rt.mC;n<i.length;n++){var r=i[n];if(r.OC===t)return r}for(var e=0,u=this.ht.mC;e<u.length;e++){var s=u[e];if(s.OC===t)return s}},i.Snt=function(){return this.Oc},i.Tnt=function(){return this.ont},i.yI=function(){return this.LO},i.TI=function(){return this.Fa.TI().ks()},i.$n=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return t?[4,i.e$t(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.w1t=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.p1t)?i:n.Sc)?(u=n.p1t?null!=(e=n.p1t.ads)?e:[]:n._rt(),s=n.na.jd(),o=n.na.lR(),a=function(t,n,i){return S(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.dnt(),[4,n.e$t(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i._rt=function(){var t=new mM;return this.Oc.jnt(t),t._rt()},i.EI=function(){return this.Fa.EI()},i.II=function(){return this.IH},i.CI=function(){return this.Fa.CI()},i.dnt=function(){return this.Fa.dnt()},i.DI=function(t,n){this.y1t||(this.xMt.t$t()||this.y1t||!this.Sc?this.Fa.Db(t):this.$n(this.Sc,t))},i.jd=function(){return this.Fa.jd()},i.LI=function(){return this.Fa.LI()},i.BI=function(){return this.bZ},i.FI=function(){return this.AZ},i.WI=function(){return this.OO},i.zI=function(){return this.na.XI},i.YI=function(){return this.VH},i.KI=function(t){this.VH=t,this._o(new NT(this.RI,this.yR)),this.xMt.KI(t)},i.$I=function(){return this.Fa.$I()},i.eR=function(){return this.Fa.eR()},i.iR=function(t){this.Fa.iR(t)},i.nR=function(){return this.Fa.nR().ks()},i.oR=function(){return cS.bO},i.hR=function(t){},i.uR=function(){return this.Fa.uR()},i.lR=function(){return this.Fa.lR().ks()},i.fR=function(){return this.Fa.fR()},i.iu=function(){return this.Sc},i.Ca=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Sc=t,[4,n.$n(t)];case 1:return i.sent(),n.p1t=void 0,n.Fa.l$t(),[2]}}))}))()},i._R=function(){return this.Hl},i.gR=function(){return this.Fa.gR()},i.wR=function(){return this.Fa.wR()},i.mR=function(){return this.FO},i.bR=function(){return this.jA},i.AR=function(t){this.jA=t,this._o(new NT(this.RI,this.yR)),this.xMt.AR(t)},i.IR=function(){},i.xR=function(){return this.ea},i.RR=function(){},i.DR=function(){this.xMt.t$t()||this.y1t||!this.Sc?this.Fa.DR():this.$n(this.Sc)},i.PR=function(){this.Fa.PR()},i.pr=function(){this.eo=!0},i.dr=function(){this.IH=void 0,this.eo=!1},i.ge=function(){},i.be=function(){},i.e$t=function(t,n,i,r,e,u){var s=this;return Pt((function(){var o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:s.y1t=!0,s.b1t(),s.Fa.v$t(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={i$t:t,zc:n,RI:k.max(0,u-e),ct:r,V0:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,s$t:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.xMt.e$t(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.A1t(h),[3,5];case 4:return s.y1t=!1,[7];case 5:return[2]}}))}))()},i.S1t=function(){this.T1t(this.LO),this.T1t(this.FO),this.k1t(this.Hl)},i.T1t=function(t){for(var n=this,i=0,r=t.mC;i<r.length;i++){var e=r[i];this.E1t(e)}t.bn(Dg.XR,(function(t){n.E1t(t.Ht),n.x1t()}))},i.k1t=function(t){for(var n=this,i=0,r=t.mC;i<r.length;i++){var e=r[i];this.I1t(e)}t.bn(Dg.XR,(function(t){n.I1t(t.Ht),n.x1t()}))},i.E1t=function(t){t.bn(r$.m$t,this.hpt),t.bn(r$.p$t,this.R1t),t.bn(r$.p$t,this.N0t)},i.I1t=function(t){t.bn(r$.g$t,this.C1t),t.bn(r$.g$t,this.N0t)},i.P1t=function(){for(var t=[],n=0,i=this.rt.mC;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.OC)}for(var e=0,u=this.ht.mC;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.OC)}for(var o=0,a=this.nt.mC;o<a.length;o++){var c=a[o];c.LE===qy.Qn&&t.push(c.OC)}this.Fa.TJt(t)},i.D1t=function(t,n,i){this.N1t=t,this.M1t=n,this.L1t=i},i.B1t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.xMt.bJt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.O1t=function(t){this.F1t=t},i.FR=function(){},i.WR=function(){},i.ZR=function(t){throw new p("Can't add a track while casting.")},i.NR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.Fa.NR(),t.b1t(),[2]}))}))()},i.b1t=function(){this.eU=Pp.TO,this.KW=!1,this.JW=!1,this.bZ=void 0,this.AZ=void 0},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.b1t(),t.Ro(),t.Tft=t.V1t(),t.xMt.vn(GQ.cJt,t.f1t),t.xMt.vn(GQ.UJt,t.W1t),t.xMt.vn(GQ.vb,t.U1t),t.xMt.vn(GQ.WJt,t.G1t),t.xMt.vn(GQ.GJt,t.Z1t),t.xMt.yn(),[2]}))}))()},i.V1t=function(){return new i$(this,this.Fa._$t(),this.Fa.CI(),this.Fa.jd(),this.Fa.LI(),this.Fa.$I(),this.Fa.eR(),this.Fa.wR(),this.Fa.gR())},Nt(n,[{key:"Tft",get:function(){return this.Fa},set:function(t){var n=this.Fa;n&&(n.vn(NQ.cJt,this.f1t),n.vn(NQ.lJt,this.g1t),n.vn(j$,this.Ds),n.vn(Np.aC,this.cU),t.v$t(n._$t()),n.jnt(t.Snt())),this.Fa=t,this.LO.bC=t.yI(),this.FO.bC=t.mR(),this.Hl.bC=t._R(),this.Oc.bC=t.Snt(),n&&n.yn(),t.bn(NQ.cJt,this.f1t),t.bn(NQ.lJt,this.g1t),t.bn(j$,this.Ds),t.bn(Np.aC,this.cU)}},{key:"so",get:function(){return this.eo}},{key:"zc",get:function(){return this.Snt()}},{key:"m1t",get:function(){return this.p1t||this.Sc},set:function(t){this.p1t=t}},{key:"RI",get:function(){return this.CI()},set:function(t){this.DI(t)}},{key:"ER",get:function(){return!1},set:function(t){}}]),n}(Qk);F(),Tt(),Rt();var q$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return It(n,t),n.prototype.ka=function(){return new J$(this.lt)},n}(Ig),J$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var Q$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return It(n,t),n}(ma);function $$(t,n){var i;return{get casting(){return t.UQ},get error(){return t.lt},get receiverName(){return t.H1t},get state(){return t.Tft},start:function(){t.Sn()},stop:function(){t.NR()},join:function(){t.X1t()},leave:function(){t.z1t()},set connectionCallback(t){null==n||n.q1t(t)},get connectionCallback(){return null==n?void 0:n.Y1t()},get source(){return i||t.Cc},set source(n){i=n,t.Cc=n},addEventListener:function(n,i){var r=Qg(n,qg);t.bn(r,i)},removeEventListener:function(n,i){var r=Qg(n,qg);t.vn(r,i)}}}F(),Tt();var t0=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).bZ=void 0,u.eu=void 0,u.na=void 0,u.Fa=tE.UNAVAILABLE,u.J1t=!1,u.GW=new mr,u.v2t=function(){u.K1t.bn($Q.u$t,u._2t),u.Tft=u.K1t.g2t()},u._2t=function(t){var n=t.Tft;u.Tft=n,n!==tE.UNAVAILABLE&&n!==tE.AVAILABLE||u.n2t(!1).catch(u.T9)},u.p1t=void 0,u.T9=function(t){br(t)||t instanceof aJ&&(u.bZ=t,u._o(new q$(t).wa))},u.Kj=n,u.Q1t=i,u.K1t=e,u.FT=r.chromecast,u.t2t=Er(u.K1t.nQ(u.FT,u.GW.ep),u.GW),u.t2t.then(u.v2t).catch(u.T9),u}It(n,t);var i=n.prototype;return i.$1t=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:if(!t.t2t)throw new p("Chromecast must be initialized before starting a session");return[4,t.t2t];case 1:return n.sent(),t.K1t.j1t()?[3,3]:[4,t.K1t.e2t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Sn=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:t.J1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Tft=tE.CONNECTING,[4,t.$1t()];case 2:return e.sent(),[4,t.i2t()];case 3:return e.sent(),t.na&&(n=t.Q1t.iu(),i=t.K1t.s2t(n),t.na.m1t=i?AE(i,t.Q1t.kd):t.p1t,t.na.w1t()),t.Tft=tE.CONNECTED,[4,t.Q1t.NR()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.n2t(!1).catch(_i),t.Tft=tE.AVAILABLE,br(r)||t.T9(r),[3,6];case 6:return[2]}}))}))()},i.X1t=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:t.J1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Tft=tE.CONNECTING,[4,t.$1t()];case 2:return e.sent(),[4,t.i2t()];case 3:return e.sent(),t.na&&(n=t.Q1t.iu(),(i=t.K1t.r2t(n))&&(t.na.m1t=AE(i,t.Q1t.kd))),t.Tft=tE.CONNECTED,[4,t.Q1t.NR()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.n2t(!0).catch(_i)];case 6:return e.sent(),t.Tft=tE.AVAILABLE,br(r)||t.T9(r),[3,7];case 7:return[2]}}))}))()},i.o2t=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.K1t.j1t()?[4,t.Sn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.i2t=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return null!=t.na||(t.na=t.h2t()),t.bZ=void 0,t.Q1t.PR(),[4,t.Kj.a2t(t.na)];case 1:return n.sent(),[2]}}))}))()},i.h2t=function(){var t=new K$(this.Q1t,this.K1t.j1t());return t.O1t(this.T9),t},i.u2t=function(){this.na&&(this.na.yn(),this.na=void 0)},i.n2t=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:if(n.J1t=!1,!n.na)return[2];i=n.na.so,r=n.na.iu(),e=n.na.dnt(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.K1t.c2t(r):n.K1t.l2t(r))||(u=r),[4,n.Kj.d2t(u,u===r)]):[3,3];case 2:s.sent(),n.Q1t.DI(e),n.Q1t.DR(),s.label=3;case 3:return[3,5];case 4:return n.u2t(),[7];case 5:return[2]}}))}))()},i.z1t=function(){this.UQ&&(this.K1t.f2t(!1),this.n2t(!0).catch(this.T9))},i.NR=function(){this.UQ&&(this.K1t.f2t(!0),this.n2t(!1).catch(this.T9))},i.yn=function(){this.GW.np(),this.K1t.vn($Q.u$t,this._2t),this.Ro(),this.u2t()},Nt(n,[{key:"UQ",get:function(){return this.Tft===tE.CONNECTING||this.Tft===tE.CONNECTED}},{key:"lt",get:function(){return this.bZ}},{key:"wa",get:function(){return this.eu||(this.eu=$$(this,this.K1t)),this.eu}},{key:"H1t",get:function(){var t;return null==(t=this.K1t.j1t())?void 0:t.r$t()}},{key:"Cc",get:function(){return this.na?this.na.m1t:this.p1t},set:function(t){this.p1t=t?AE(t,this.Q1t.kd):void 0,this.na&&(this.na.m1t=this.p1t,this.p1t&&this.na.$n(this.p1t))}},{key:"Tft",get:function(){return this.Fa},set:function(t){var n=t;this.J1t||n!==tE.CONNECTING&&n!==tE.CONNECTED||(n=tE.AVAILABLE),this.Fa!==n&&(this.Fa=n,this._o(new Q$(this.Tft)))}}]),n}(wa);F(),Tt(),Dt(),Rt();var n0=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.X1t=function(){Kn.aw("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.z1t=function(){Kn.aw("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Sn=function(){Kn.aw("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.NR=function(){Kn.aw("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.o2t=function(){return et.resolve()},i.yn=function(){},Nt(n,[{key:"UQ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"H1t",get:function(){}},{key:"Cc",get:function(){},set:function(t){}},{key:"Tft",get:function(){return tE.UNAVAILABLE}},{key:"wa",get:function(){return this.eu||(this.eu=$$(this)),this.eu}}]),n}(wa);function i0(t){return{bt:t.bt,RI:t.CI(),ct:t.jd(),MI:t.MI,lt:t.BI(),OI:t.FI(),qI:t.qI,JI:t.JI,tR:t.tR,aR:t.aR,dR:t.dR,vR:t.vR,pR:t.pR,yR:t.yR}}F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var r0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).LO=new vA,r.FO=new vA,r.Hl=new dA,r.OO=new yA,r.BO=new tS,r.MO=new KT(n.WZ),r.LO.bC=n.ht,r.FO.bC=n.rt,r.Hl.bC=n.nt,r.OO.bC=n.VI,r.BO.bC=n.UI,r.Oc=new gM(r),r.Oc.bC=n.zc,r}It(n,t);var i=n.prototype;return i.Snt=function(){return this.Oc},i.yI=function(){return this.LO},i.WI=function(){return this.OO},i.GI=function(){return this.BO},i.ja=function(){return this.MO},i._R=function(){return this.Hl},i.mR=function(){return this.FO},i.switchContexts=function(t){this.na=t,this.LO.bC=t.ht,this.FO.bC=t.rt,this.Hl.bC=t.nt,this.MO.bC=t.WZ,this.OO.bC=t.VI,this.BO.bC=t.UI,this.Oc.bC=t.zc},i.m2t=function(t){this.na!==t&&(this.CH(),this.switchContexts(t),this.RH())},i.VO=function(t){if(this.na!==t){var n;this.CH(),this.Rnt&&(n=i0(this));var i=this.II(),r=this.xR(),e=this.IR();if(this.switchContexts(t),void 0!==n)WT(this,n,i0(this));var u=this.II();u!==i&&this._o(new XT(u)),this.xR()!==r&&this._o(new GT),this.IR()!==e&&this._o(new HT),this.RH()}},i.yn=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(i,n)];case 1:return r.sent(),i.MO.yn(n),i.LO.yn(n),i.FO.yn(n),i.Hl.yn(n),i.OO.yn(),i.BO.yn(),[4,i.Oc.yn(n)];case 2:return r.sent(),[2]}}))}))()},Nt(n,[{key:"VI",get:function(){return this.WI()}},{key:"UI",get:function(){return this.GI()}}]),n}(Qk),e0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yo=new kd,r.T2t=void 0,r.vEt=void 0,r.k2t=void 0,r.x2t=function(t){var n=t.Ht;u0(r.T2t,n)&&(n.Rt=!0)},r.I2t=function(t){var n=t.Ht;u0(r.vEt,n)&&(n.LE=qy.Qn)},r.R2t=function(t){var n=t.Ht;u0(r.k2t,n)&&(n.Rt=!0)},r.S2t=function(){r.A2t.ht.vn(Dg.XR,r.x2t),r.A2t.nt.vn(Dg.XR,r.I2t),r.A2t.rt.vn(Dg.XR,r.R2t)},r.A2t=n,r.kd.cast.strategy!==_A.DISABLED?r.p2t=new t0(r,n,r.kd.cast,i):r.p2t=new n0,r.rq.YQ(r.p2t),r}It(n,t);var i=n.prototype;return i.iu=function(){var n=t.prototype.iu.call(this);return!n&&this.p2t.UQ&&this.p2t.Cc?this.p2t.Cc:n},i.Ca=function(n,i){var r=this;return this.Yo.Qo((function(i){return r.w2t=new mr,r.w2t.rp(i),Er(t.prototype.Ca.call(r,n,r.w2t.ep),r.w2t)}),i)},i.DR=function(){t.prototype.DR.call(this),this.kd.cast.strategy!==_A.AUTO||this.p2t.UQ||this.p2t.o2t()},i.a2t=function(t){var n=this;return this.Yo.Qo((function(i){return n.y2t(t,i)}))},i.d2t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.Yo.Qo((function(r){return i.b2t(t,n,r)}))},i.y2t=function(t,n){kr(n),this.A2t.zc&&this.A2t.zc.jnt(t.zc),this.S2t(),this.T2t=Hi(this.A2t.ht.mC,(function(t){return t.Rt})),this.vEt=Hi(this.A2t.nt.mC,(function(t){return"showing"===t.LE})),this.k2t=Hi(this.A2t.rt.mC,(function(t){return t.Rt})),this.E2t=t,this.E2t.D1t(this.T2t,this.vEt,this.k2t),this.VO(t),this.E2t.pr()},i.b2t=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:if(kr(i),void 0===(e=r.E2t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.A2t.NR()]:[3,4];case 2:return s.sent(),kr(i),u=AE(t,r.A2t.kd),n&&(u.ads=void 0),r.w2t=new mr,r.w2t.rp(i),[4,Er(r.A2t.Ca(u,r.w2t.ep),r.w2t)];case 3:s.sent(),s.label=4;case 4:return n&&r.A2t.zc&&e.zc.jnt(r.A2t.zc),[3,7];case 5:return Tr(s.sent()),[3,7];case 6:return e.dr(),r.VO(r.A2t),r.T2t=Hi(r.E2t.ht.mC,(function(t){return t.Rt})),r.vEt=Hi(r.E2t.nt.mC,(function(t){return"showing"===t.LE})),r.k2t=Hi(r.E2t.rt.mC,(function(t){return t.Rt})),r.A2t.ht.bn(Dg.XR,r.x2t),r.A2t.nt.bn(Dg.XR,r.I2t),r.A2t.rt.bn(Dg.XR,r.R2t),r.A2t.bn(Np.hB,r.S2t),r.E2t===e&&(r.E2t=void 0),[7];case 7:return[2]}}))}))()},i.NR=function(){var n,i=this;return this.T2t=void 0,this.vEt=void 0,this.k2t=void 0,this.S2t(),null==(n=this.w2t)||n.np(),this.Yo.Qo((function(){return t.prototype.NR.call(i)}))},i.yn=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return null==(i=n.w2t)||i.np(),n.p2t.yn(),[4,n.d2t()];case 1:return r.sent(),[4,n.Yo.yn()];case 2:return r.sent(),[4,t.prototype.yn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(r0);function u0(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.Ch===t.Ch)}F(),Tt(),Mt(),Dt(),Wt();var s0=function(){function t(t){this.t2t=void 0,this.eu=void 0,this.K1t=t}var n=t.prototype;return n.nQ=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.t2t||(n.t2t=n.M2t(t)),[4,n.t2t];case 1:return i.sent(),[2]}}))}))()},n.M2t=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.K1t.nQ(t)];case 1:return i.sent(),[2]}}))}))()},n.e2t=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:if(!t.t2t)throw new p("Chromecast must be initialized before starting a session");return[4,t.t2t];case 1:return n.sent(),t.K1t.j1t()?[3,3]:[4,t.K1t.e2t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.L2t=function(){this.K1t.f2t(!1)},n.N2t=function(){this.K1t.f2t(!0)},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{initialize:function(n){var i=t.nQ(bA(n));return i.catch(_i),i},startSession:function(){var n=t.e2t();return n.catch(_i),n},endSession:function(){t.N2t()}}}(this)),this.eu}}]),t}();var o0=new n$,a0=new s0(o0),c0={get chromecast(){return a0.wa}};eA((function(t){return new e0(t,o0)}),iA.Nnt),F(),Tt(),F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Mt(),Wt();var h0=function(){function t(t){this.X2t=t,this.U2t=ho(),this.Z2t=ho()}var n=t.prototype;return n.B2t=function(t,n,i,r){var e=this;t.tX.forEach((function(t){if(!e.O2t(t.F2t)){var u=t.V2t(n,i,r);u&&e.W2t(u)}}))},n.O2t=function(t){return this.U2t.get(t)},n.W2t=function(t){this.U2t.set(t.G2t,t),this.Z2t.set(t.G2t,t.H2t),this.X2t.ru(t.z2t)},n.Qnt=function(t){this.Z2t.has(t.G2t)||(this.Z2t.set(t.G2t,t),this.X2t.ru(t.z2t))},n.q2t=function(t){return this.Z2t.forEach(t)},n.Y2t=function(t){return this.U2t.forEach(t)},n.K2t=function(t){var n=!1;return this.U2t.forEach((function(i){n=i.K2t(t)||n})),n},n.yn=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return n=[],t.U2t.forEach((function(t){return n.push(t.yn())})),t.Z2t.forEach((function(t){return n.push(t.yn())})),[4,et.all(n)];case 1:return i.sent(),t.U2t.clear(),t.Z2t.clear(),[2]}}))}))()},t}();F(),Tt(),Rt();var f0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"J2t")||this).rQt=n,u.Tb=i,u.zb=r,u.Cc=e,u}return It(n,t),n.prototype.ka=function(){return new v0(this.rQt,this.Tb,this.zb,this.Cc)},n.j2t=function(t){return new n(gQ.GENERAL,t.Tb,t.hQt)},n.Q2t=function(t,i){return new n(t.rQt,t.message,t.hQt,i)},n}(Ig),v0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return It(n,t),n}(ma),d0=function(t){function n(n){var i;return(i=t.call(this)||this).s3t=!1,i.k8=!1,i.eu=void 0,i.h3t=function(t){if(i.s3t&&t.zb!==wQ.VAST_NO_ADS_AFTER_WRAPPER&&t.zb!==wQ.VAST_EMPTY_RESPONSE){var n=new vw(fw.ADVERTISEMENT_ERROR,t.Tb),r=new ld(vd.AD_BLOCKER_DETECTED,t.Tb+" Turn off your AdBlocker and try again.",n);i.r3t.uH(r)}},i._st=function(){i.k8=!0},i.r3t=n,i.t3t=new h0(i),i.bn("J2t",i.h3t),n.bn(ya.ho,i._st),i}It(n,t);var i=n.prototype;return i.jnt=function(t){this.e3t((function(n){n.jnt(t)}))},i.K6=function(t,n,i){try{this.s3t=i;var r=MS.Vm.iX(t);if(r.F2t===I$.Dnt)return;var e=this.t3t.O2t(r.F2t);if(!e)throw new lQ(gQ.ADBLOCK,void 0,"Ads could not be loaded.");n!==zL.Gnt&&this.k8||this.r3t.n3t(e),r.K6(t,n,e,this.s3t)}catch(n){0,this._o(f0.Q2t(n,t.sources))}},i.zD=function(){this.e3t((function(t){t.zD()}))},i.Ynt=function(t){this.e3t((function(n){n.Ynt(t)}))},i.Qnt=function(t){this.t3t.Qnt(t)},i.Knt=function(t,n){return this.r3t.Knt(t,n)},i.o3t=function(t){this.t3t.Y2t((function(n){n.o3t(t)}))},i.K2t=function(t){return this.t3t.K2t(t)},i.e3t=function(t){return this.t3t.q2t(t)},i.RR=function(){this.t3t.Y2t((function(t){return t.RR()}))},i.nr=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.k8=!1,n=[],t.t3t.Y2t((function(t){return n.push(t.NR())})),[4,et.all(n)];case 1:return i.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.t3t.yn()];case 1:return n.sent(),t.r3t.vn(ya.ho,t._st),t.vn("J2t",t.h3t),[2]}}))}))()},Nt(n,[{key:"$2t",get:function(){return this.t3t}},{key:"Vc",get:function(){var t=!1;return this.e3t((function(n){t=t||n.i3t})),t}},{key:"Znt",get:function(){var t=[];return this.e3t((function(n){var i,r=n.Znt;r.length&&(i=t).push.apply(i,Kt(r))})),t}},{key:"Xnt",get:function(){var t=null;return this.e3t((function(n){null!=t||(t=n.Xnt)})),t}},{key:"znt",get:function(){var t=[];return this.e3t((function(n){var i;(i=t).push.apply(i,Kt(n.znt))})),t}},{key:"qnt",get:function(){var t=[];return this.e3t((function(n){var i;(i=t).push.apply(i,Kt(n.qnt))})),t}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YL(this)}}]),n}(zI);F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var l0=function(t){function n(n){var i;return(i=t.call(this)||this).jQt=n,i.Oc=[],i.a3t=-1,i.u3t=-1,i.c3t=void 0,i.d3t=!1,i}It(n,t);var i=n.prototype;return i.l3t=function(){this.d3t=!0},i.f3t=function(t){this.Oc.push(t),this.d3t=!1},i._3t=function(t){Ji(this.Oc,t)},Nt(n,[{key:"zc",get:function(){return this.Oc}},{key:"I$t",get:function(){return this.a3t},set:function(t){this.a3t=t}},{key:"R$t",get:function(){return this.u3t},set:function(t){this.u3t=t}},{key:"LOt",get:function(){return this.jQt},set:function(t){this.jQt=t}},{key:"s$t",get:function(){return this.c3t}},{key:"sR",get:function(){return this.d3t}}]),n}(p$),g0=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).g3t=[],r.v3t=n,r.ir(i),r}It(n,t);var i=n.prototype;return i.ir=function(t){void 0!==t.maxDuration&&(this.a3t=t.maxDuration),void 0!==t.customData&&(this.c3t=t.customData)},i.m3t=function(t){var n=this.Oc.indexOf(t);return n>=0&&n<this.Oc.length-1},i.f3t=function(n){t.prototype.f3t.call(this,n),this.g3t.push(n)},i.p3t=function(t){Ji(this.g3t,t)},i._3t=function(n){t.prototype._3t.call(this,n),Ji(this.g3t,n)},Nt(n,[{key:"zQt",get:function(){return this.v3t}},{key:"znt",get:function(){return this.g3t}}]),n}(l0);F(),Tt(),Dt(),Rt(),qt(),F(),Tt(),Dt(),Rt();var w0=function(t){return t.mQt="linear",t.w3t="nonlinear",t.oE="unknown",t}({}),m0=function(t){return t.NONE="none",t.READY="ready",t}({}),y0=function(t){function n(n,i){var r;return(r=t.call(this)||this).T3t=i,r.jS=void 0,r.ujt=void 0,r.JA=void 0,r.$A=void 0,r.FA=void 0,r.sjt=[],r.dKt=[],r.b3t="none",r.c3t=void 0,r.E3t=!1,r.sd=n,r}It(n,t);var i=n.prototype;return i.y3t=function(t,n,i,r,e,u){this.jS=t,this.JA=n,this.$A=i,this.FA=r,this.dKt=e,this.ujt=u,this.b3t="ready"},i.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.X$t=function(){},i.K$t=function(){return""},i.Y$t=function(){return this.x3t},Nt(n,[{key:"A3t",get:function(){return this.b3t}},{key:"lKt",get:function(){return this.dKt}},{key:"ct",get:function(){return this.FA}},{key:"Ti",get:function(){return this.$A}},{key:"o",get:function(){return this.jS}},{key:"ajt",get:function(){return this.ujt}},{key:"ji",get:function(){return this.JA}},{key:"S3t",get:function(){return this.T3t}},{key:"DKt",get:function(){return this.NKt}},{key:"iKt",get:function(){return this.sKt}},{key:"GYt",get:function(){return this.sjt}},{key:"s$t",get:function(){return this.c3t}},{key:"k3t",get:function(){return this.E3t}}]),n}(y$);function p0(t){return{get adSystem(){return t.X$t()},get readyState(){return t.A3t},get adBreak(){return t.sd.Hnt()},get duration(){return t.ct},get companions(){return t.lKt.map((function(t){return t.wa}))},get resourceURI(){return t.Y$t()},get clickThrough(){return t.DKt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.S3t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.ajt},get integration(){return t.zQt},get creativeId(){return t.iKt},get universalAdIds(){return t.GYt},get customData(){return t.s$t},get isSlate(){return t.k3t}}}F(),Tt(),Dt();var _0=function(){function t(t){var n;this.eu=void 0,this.NKt=void 0,this.x3t=void 0,this.TKt=t.SKt,this.JA=t.ji,this.$A=t.Ti,this.R3t=t.I3t,this.NKt=t.DKt,this.x3t=t.qjt,this.PKt=null!=(n=t.CKt)?n:"",this.C3t(t)}return t.prototype.C3t=function(t){if(!t.DKt||!t.qjt){var n=function(t){try{return jJ(t,"text/html")}catch(t){return}}(t.I3t);n&&(this.NKt=b0(n,"a","href"),this.x3t=b0(n,"img","src"))}},Nt(t,[{key:"SKt",get:function(){return this.TKt}},{key:"CKt",get:function(){return this.PKt}},{key:"I3t",get:function(){return this.R3t}},{key:"DKt",get:function(){return this.NKt}},{key:"Ti",get:function(){return this.$A}},{key:"qjt",get:function(){return this.x3t}},{key:"ji",get:function(){return this.JA}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get adSlotId(){return t.SKt},get altText(){return t.CKt},get contentHTML(){return t.I3t},get clickThrough(){return t.DKt},get height(){return t.Ti},get resourceURI(){return t.qjt},get width(){return t.ji}}}(this)}}]),t}();function b0(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var k0=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?w0.mQt:"nonlinear"===t?w0.w3t:w0.oE}(i.type))||this).D3t=0,e.v3t=n,e.ir(i),e}It(n,t);var i=n.prototype;return i.ka=function(){return p0(this)},i.ir=function(t){t.id&&(this.jS=t.id),void 0!==t.skipOffset&&(this.ujt=t.skipOffset),void 0!==t.width&&(this.JA=t.width),void 0!==t.height&&(this.$A=t.height),void 0!==t.duration&&(this.FA=t.duration),void 0!==t.readyState&&(this.b3t=function(t){return"ready"===t?m0.READY:m0.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.x3t=t.resourceURI),void 0!==t.clickThrough&&(this.NKt=t.clickThrough),void 0!==t.companions&&(this.dKt=Kt(t.companions).map(A0)),void 0!==t.creativeId&&(this.sKt=t.creativeId),void 0!==t.universalAdIds&&(this.sjt=t.universalAdIds),void 0!==t.customData&&(this.c3t=t.customData)},Nt(n,[{key:"zQt",get:function(){return this.v3t}},{key:"P3t",get:function(){return this.D3t},set:function(t){this.D3t=t}}]),n}(y0);function A0(t){var n={SKt:t.adSlotId,CKt:t.altText,I3t:t.contentHTML,Fk:void 0,DKt:t.clickThrough,Ti:t.height,qjt:t.resourceURI,ji:t.width};return new _0(n)}F(),Tt(),Dt(),Rt();var T0=function(t){function n(n,i){var r;return(r=t.call(this,"L3t",n)||this).M3t=i,r}return It(n,t),n.prototype.ka=function(){return new S0(this.trt.Hnt(),this.N3t)},Nt(n,[{key:"N3t",get:function(){return this.M3t}}]),n}(nM),S0=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return It(n,t),n}(iM);F(),Tt(),Rt();var E0=function(t){function n(n){return t.call(this,"B3t",n)||this}return It(n,t),n.prototype.ka=function(){return new I0(this.sd.Hnt())},n}(KL),I0=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return It(n,t),n}(qL);F(),Tt(),Rt();var R0=function(t){function n(n){return t.call(this,"O3t",n)||this}return It(n,t),n.prototype.ka=function(){return new C0(this.sd.Hnt())},n}(KL),C0=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return It(n,t),n}(qL);F(),Tt(),Rt();var N0=function(t){function n(n,i){var r;return(r=t.call(this,"F3t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new D0(this.trt.Hnt(),this.currentTime)},n}(nM),D0=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return It(n,t),n}(iM);F(),Tt(),Rt();var x0=function(t){function n(n,i){var r;return(r=t.call(this,"V3t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new P0(this.trt.Hnt(),this.currentTime)},n}(nM),P0=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return It(n,t),n}(iM);F(),Tt(),Rt();var L0=function(t){function n(n,i){var r;return(r=t.call(this,"W3t",n)||this).currentTime=i,r}return It(n,t),n.prototype.ka=function(){return new M0(this.trt.Hnt(),this.currentTime)},n}(nM),M0=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return It(n,t),n}(iM),O0=function(){function t(t,n){this.z2t=new zI,this.Oc=[],this.s0t=[],this.$3t=[],this.zQt=t,this.r3t=n}var n=t.prototype;return n.zD=function(){var t;if(0!==this.$3t.length){var n=this.$3t[0];(null==(t=this.I9)?void 0:t.skipAd)?this.I9.skipAd(n.Hnt()):this.IJt(n)}},n.Ynt=function(t){},n.jnt=function(t){},n.U3t=function(t,n){var i,r=null!=n?n:this.t4t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new k0(this.zQt,t,r);return r.f3t(e),this.Oc.push(e),this.z2t._o(new rM(e)),e},n.Z3t=function(t,n){t.ir(n),this.z2t._o(new R$(t))},n.X3t=function(t,n){if(!tr(this.$3t,t))throw new p("Cannot update ad progress on a non-started ad");var i=t.P3t,r=k.max(i,n);t.P3t=r;var e=this.r3t.CI();i<.25&&r>=.25&&this.z2t._o(new N0(t,e)),i<.5&&r>=.5&&this.z2t._o(new x0(t,e)),i<.75&&r>=.75&&this.z2t._o(new L0(t,e))},n.p3t=function(t){tr(this.$3t,t)||(this.$3t.push(t),t.sd.p3t(t),this.e4t(t.sd),this.z2t._o(new cM(t,this.r3t.CI())))},n.IJt=function(t){if(tr(this.$3t,t)){var n=t.sd.m3t(t);this.z2t._o(new T0(t,t.P3t)),this.i4t(t,n)}},n.z3t=function(t){if(tr(this.$3t,t)){var n=t.sd.m3t(t);this.z2t._o(new fM(t,this.r3t.CI())),this.i4t(t,n)}},n._3t=function(t){if(tr(this.Oc,t)){var n=t.sd.m3t(t);Ji(this.Oc,t),t.sd._3t(t),this.z2t._o(new R0(t.sd)),this.i4t(t,n)}},n.q3t=function(t){var n=new g0(this.zQt,t);return this.s0t.push(n),this.z2t._o(new $L(n)),n},n.Y3t=function(t,n){t.ir(n),this.z2t._o(new E0(t))},n.K3t=function(t){if(tr(this.s0t,t)){for(var n=0,i=t.zc.slice();n<i.length;n++){var r=i[n];this._3t(r)}Ji(this.s0t,t),this.z2t._o(new JL(t))}},n.j3t=function(){for(var t=0,n=this.s0t.slice();t<n.length;t++){var i=n[t];this.K3t(i)}},n.Q3t=function(t){this.z2t._o(new f0(gQ.GENERAL,t.message))},n.J3t=function(t,n){var i=new ld(null!=n?n:vd.AD_ERROR,t.message,t);this.r3t.uH(i)},n.s4t=function(t){return Hi(this.s0t,(function(n){return n.LOt===t}))},n.t4t=function(t){var n;return null!=(n=this.s4t(t.timeOffset))?n:this.q3t(t)},n.i4t=function(t,n){Ji(this.$3t,t);var i=t.sd;0!==this.$3t.length||this.i0t!==i||n||(i.l3t(),this.e4t(void 0))},n.e4t=function(t){this.i0t!==t&&(void 0!==this.i0t&&this.z2t._o(new uM(this.i0t)),this.i0t=t,void 0!==t&&this.z2t._o(new oM(t)))},n.H3t=function(t){var n=Hi(this.Oc,(function(n){return n.Hnt()===t}));if(void 0===n)throw new p('Invalid ad for integration "'+this.zQt+'"');return n},n.G3t=function(t){var n=Hi(this.s0t,(function(n){return n.Hnt()===t}));if(void 0===n)throw new p('Invalid ad break for integration "'+this.zQt+'"');return n},n.Ca=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(n),(null==(r=i.I9)?void 0:r.setSource)?[4,et.resolve(i.I9.setSource(t))]:[3,2];case 1:return cE(e=u.sent())&&(e=t),[2,AE(e,i.r3t.kd)];case 2:return[2,t];case 3:return[2]}}))}))()},n.n4t=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return(null==(n=t.I9)?void 0:n.resetSource)?[4,et.resolve(t.I9.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.j3t(),i.label=3;case 3:return[2]}}))}))()},n.yn=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return(null==(n=t.I9)?void 0:n.destroy)?[4,et.resolve(t.I9.destroy()).catch(_i)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.j3t(),t.e4t(void 0),t.I9=void 0,t.z2t.yn(),[2]}}))}))()},Nt(t,[{key:"zc",get:function(){return this.Oc}},{key:"D$t",get:function(){return this.s0t}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get integration(){return t.zQt},get ads(){return t.zc.map((function(t){return t.Hnt()}))},get adBreaks(){return t.D$t.map((function(t){return t.Hnt()}))},createAd:function(n,i){return t.U3t(n,i?t.G3t(i):void 0).Hnt()},updateAd:function(n,i){t.Z3t(t.H3t(n),i)},updateAdProgress:function(n,i){var r=Di(Number(i),0,1);t.X3t(t.H3t(n),r)},beginAd:function(n){t.p3t(t.H3t(n))},endAd:function(n){t.z3t(t.H3t(n))},skipAd:function(n){t.IJt(t.H3t(n))},removeAd:function(n){t._3t(t.H3t(n))},createAdBreak:function(n){return t.q3t(n).Hnt()},updateAdBreak:function(n,i){t.Y3t(t.G3t(n),i)},removeAdBreak:function(n){t.K3t(t.G3t(n))},removeAllAds:function(){t.j3t()},error:function(n){t.Q3t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.J3t(n,r)}}}(this)}},{key:"XN",get:function(){return this.I9},set:function(t){this.I9=t}},{key:"i3t",get:function(){return this.$3t.some((function(t){return t.S3t===w0.mQt}))}},{key:"G2t",get:function(){return this.zQt}},{key:"Znt",get:function(){return this.$3t}},{key:"Xnt",get:function(){var t;return null!=(t=this.i0t)?t:null}},{key:"znt",get:function(){return er(this.s0t,(function(t){return t.znt}))}},{key:"qnt",get:function(){return this.s0t.filter((function(t){return!t.sR}))}}]),t}();F(),Tt(),Dt();var B0=function(){function t(t){var n=this;this.w8=void 0,this.r4t=!1,this.Td=function(t){1!==n.na.tR&&(n.w8=n.na.tR,n.na.tR=1),n.r4t=!0},this.Md=function(t){n.r4t=!1,void 0!==n.w8&&(n.na.tR=n.w8,n.w8=void 0)},this.na=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.na.zc)||t.bn("nrt",this.Td),null==(n=this.na.zc)||n.bn("irt",this.Md)},n.removeAdListeners=function(){var t,n;null==(t=this.na.zc)||t.vn("nrt",this.Td),null==(n=this.na.zc)||n.vn("irt",this.Md)},Nt(t,[{key:"player",get:function(){return this.na},set:function(t){this.na&&this.removeAdListeners(),this.na=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.r4t}}]),t}(),V0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).l4t=[],r.bZ=void 0,r.QH=void 0,r.d4t=1,r.A2t=n,r.o4t=new d0(r),r.o4t.$2t.B2t(i,n,r,n.kd),r}It(n,t);var i=n.prototype;return i.Snt=function(){return this.o4t},i.RR=function(){this.A2t.RR(),this.o4t.RR()},i.DR=function(){void 0===this.bZ?(void 0!==this.u4t&&this.c4t(this.u4t),t.prototype.DR.call(this)):this._o(new xk(this.bZ))},i.Ca=function(n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:if(kr(i),!(e=n))return[3,4];u=0,s=r.l4t,f.label=1;case 1:return u<s.length?[4,s[u].Ca(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.Ca.call(r,e,i)];case 5:if(f.sent(),kr(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.o4t.o3t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.o4t.K6(h,zL.Gnt,o);return[2]}}))}))()},i.NR=function(){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return n.bZ=void 0,n.QH=void 0,[4,n.o4t.nr()];case 1:return e.sent(),n.d2t(),[4,t.prototype.NR.call(n)];case 2:e.sent(),i=0,r=n.l4t,e.label=3;case 3:return i<r.length?[4,r[i].n4t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.c4t=function(t){this.d4t=this.na.tR;var n=this.na.yR,i=this.na.qI;t.AR(n),t.KI(i),this.a4t=t,this.u4t=void 0,this.VO(t)},i.n3t=function(t){void 0===this.a4t&&(this.u4t=t)},i.d2t=function(){this.u4t=void 0,void 0!==this.a4t&&(this.A2t.tR=this.d4t,this.A2t.yR=this.yR,this.A2t.qI=this.qI,this.VO(this.A2t),this.a4t=void 0)},i.BI=function(){var n;return null!=(n=this.QH)?n:t.prototype.BI.call(this)},i.FI=function(){var n;return null!=(n=this.bZ)?n:t.prototype.FI.call(this)},i.uH=function(t){void 0===this.FI()&&(this.bZ=t,this.QH=lw(t),this._o(new xk(t)))},i.GR=function(t){return void 0===this.a4t&&this.o4t.K2t(t)},i.Knt=function(t,n){try{var i=new O0(t,this);i.XN=n(i.wa),this.o4t.Qnt(i),this.l4t.push(i),t!==LS.UPLYNK&&(this.f4t=new B0(this))}catch(n){this.o4t._o(new f0(gQ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.iR=function(n){var i;(null==(i=this.f4t)?void 0:i.inAdBreak)||t.prototype.iR.call(this,n)},i.yn=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:r=0,e=n.l4t,u.label=1;case 1:return r<e.length?[4,e[r].yn().catch(_i)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[4,n.o4t.yn()];case 5:return u.sent(),n.d2t(),null==(i=n.f4t)||i.destroy(),n.f4t=void 0,[4,t.prototype.yn.call(n)];case 6:return u.sent(),[2]}}))}))()},Nt(n,[{key:"h4t",get:function(){return this.a4t}}]),n}(r0);eA((function(t){return new V0(t,MS.Vm)}),iA.Cnt),F(),Tt(),Dt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var F0=Gn.su&&Gn.nm<12,U0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).r3t=i,r.p4t=!1,r.FO=new ow,r.LO=new ow,r.Hl=new rp,r.OO=new lA,r.BO=new qT,r._4t=new zI,r.ea=new lS,r.xZ=new Gk,r.w4t=function(){r.na.ge()},r.y4t=function(){r.b4t()},r.na.bn(ya.Cy,r.Ds),r}It(n,t);var i=n.prototype;return i.dnt=function(){return this.na.dnt()},i.TI=function(){return FA.WB().ks()},i.EI=function(){},i.xI=function(t){},i.eR=function(){return 1},i.iR=function(t){},i.nR=function(){return new FA([0,this.RI]).ks()},i.fR=function(){return!1},i._R=function(){return this.Hl},i.mR=function(){return this.FO},i.cs=function(){return this.xR().cs},i.xR=function(){return this.ea},i.Aa=function(){},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.Ro(),t.LO.yn(),t.FO.yn(),t.Hl.yn(),t._4t.yn(),t.na.vn(ya.Cy,t.Ds),[2]}))}))()},i.v4t=function(){F0&&this.g4t(),this.i3t||this.r3t.c4t(this)},i.d2t=function(){this.i3t&&(F0&&this.m4t(),Gn.Cm&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),Kn.Ys.Pp&&this.na.WR(),this.r3t.d2t())},i.g4t=function(){this.p4t||(f.addEventListener("blur",this.w4t),f.addEventListener("focus",this.y4t),this.p4t=!0)},i.m4t=function(){f.removeEventListener("blur",this.w4t),f.removeEventListener("focus",this.y4t),this.p4t=!1},i.b4t=function(){var t=this;requestAnimationFrame((function(){return t.na.be()}))},Nt(n,[{key:"RI",get:function(){return this.CI()},set:function(t){this.DI(t)}},{key:"ct",get:function(){return this.jd()}},{key:"VI",get:function(){return this.OO}},{key:"UI",get:function(){return this.BO}},{key:"cR",get:function(){return this.lR()}},{key:"SR",get:function(){return this.xZ}},{key:"z2t",get:function(){return this._4t}},{key:"ht",get:function(){return this.LO}},{key:"i3t",get:function(){return this.r3t.h4t===this}}]),n}(Qk);F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Dt();var W0=0,Z0="theoplayer-wrapper",X0=function(){function t(n,i,r,e){this.S4t=i,this.na=r,this.I4t=e,this.B4t=NaN,this.V4t=!1,this.U4t=!1,this.N4t=!1,this.H4t=[],this.nnt=!1,this.VH=!1,this.k4t=[],this.OC=++W0,this.q4t=n.timeOffset,this.L4t=t.u5t(this.q4t),this.O4t(),this.k4t.push(n)}var n=t.prototype;return n.R4t=function(t){var n=this.C4t===t.timeOffset;return!this.P4t&&n},n.O4t=function(){if(S(this.B4t)){var t=this.C4t;if(void 0===t)return void(this.B4t=0);if("string"==typeof t&&UQ(t)){var n=this.na.jd();S(n)||n===1/0||(t=EJ(t)*n)}S(t)||(this.B4t=t)}},n.X4t=function(t){this.H4t.push(t)},n.z4t=function(){if(!this.P4t){var t,n,i=this.S4t===zL.Gnt&&void 0===this.q4t&&1===this.k4t.length,r=this.k4t[0];if(!i&&1===this.k4t.length){var e=Kn.Bh(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.q4t&&tu("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(OQ(r.sources.type)||i)t=r.sources.src;else{if(S(this.na.jd())&&"end"===this.Y4t())return;n=this.K4t()}var u=this.na.jd();(S(u)||u===1/0)&&(u=-3),this.P4t={j4t:this.na.we.offsetWidth,Q4t:this.na.we.offsetHeight,J4t:this.na.we.offsetWidth,$4t:this.na.we.offsetHeight,t5t:this.nnt,e5t:this.VH,i5t:t,s5t:n,n5t:r.omidAccessModeRules,r5t:u}}return this.P4t},n.K4t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.k4t.map((function(n,i){return t.o5t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.o5t=function(t,n){var i=this.Y4t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.OC+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+Z0+"-"+this.OC+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.Y4t=function(){if(0===this.C4t)return"start";if(this.C4t===1/0)return"end";var t=this.C4t;if("string"==typeof t&&UQ(t)){var n=EJ(t)*this.na.jd();return SQ.ZQt(n)}return SQ.ZQt(this.C4t||0)},n.h5t=function(t){this.k4t.push(t)},n.a5t=function(t){for(var n=Z0+"-"+this.OC+"-",i=0;i<t.length;i++){var r=t[i];if(Qo(r,n)){var e=Number(r.slice(n.length));if(!S(e)&&e>=0&&e<this.k4t.length)return e}}return-1},n.c5t=function(){this.N4t=!0},t.u5t=function(t){if(void 0!==t)return-1===t?1/0:t},Nt(t,[{key:"A4t",get:function(){return this.S4t}},{key:"T4t",get:function(){return this.k4t}},{key:"E4t",get:function(){return 1===this.k4t.length&&OQ(this.k4t[0].sources.type)}},{key:"x4t",get:function(){return this.I4t}},{key:"D4t",get:function(){return this.N4t}},{key:"M4t",get:function(){return UQ(this.L4t)&&!this.P4t}},{key:"C4t",get:function(){return this.L4t}},{key:"od",get:function(){return this.B4t}},{key:"F4t",get:function(){return this.V4t},set:function(t){this.V4t=t}},{key:"W4t",get:function(){return this.U4t},set:function(t){this.U4t=t,this.G4t=!1}},{key:"Z4t",get:function(){return this.H4t}},{key:"KO",get:function(){return this.nnt},set:function(t){this.nnt=t}},{key:"qI",get:function(){return this.VH},set:function(t){this.VH=t}}]),t}();F(),Tt(),Dt();var G0=function(){function t(t){this.y5t=!1,this.d5t=t,this._5t=void 0}var n=t.prototype;return n.o3t=function(t){this._5t=t},n.v5t=function(t){return!(this.l5t&&!this.l5t.D4t&&"nonlinear"!==this.f5t.S3t)||this.l5t.od>t.od&&this.l5t.od!==t.od},n.g5t=function(t){if(t.length)return t.sort((function(t,n){return t.od-n.od}))[0]},n.m5t=function(){if(this.znt.length)return this.g5t(this.p5t(this.t.CI()))},n.w5t=function(){var t=this;if(!(void 0!==this._5t&&this._5t>=0))return this.znt.filter((function(n){return!n.F4t&&0===n.od&&n!==t.l5t}))[0]},n.p5t=function(t){var n=this;if(!this.y5t&&(this.y5t=!this.znt.some((function(t){return S(t.od)})),!this.y5t))return[];var i=this.znt.filter((function(n){return!n.F4t&&(n.E4t||!S(n.od)&&t<=n.od)}));return void 0===this._5t?i:i.filter((function(t){return t.E4t||void 0===t.C4t||t.od>n._5t}))},Nt(t,[{key:"l5t",get:function(){return this.d5t.l5t}},{key:"f5t",get:function(){return this.d5t.f5t}},{key:"znt",get:function(){return this.d5t.znt}},{key:"t",get:function(){return this.d5t.t}}]),t}(),H0=function(t){return t[t.b5t=0]="b5t",t[t.A5t=1]="A5t",t[t.S5t=2]="S5t",t}({}),z0=function(){function t(t,n,i,r,e){var u=this;this.D5t=0,this.ipt=void 0,this.q5t=!1,this.kz=function(){for(var t=u.g3t.filter((function(t){return t.M4t})),n=0;n<t.length;n++){var i=t[n];i.O4t();var r=i.C4t;u.R5t.j5t(r,i.od)}u.mo&&u.Y5t&&u.k5t()},this.g3t=[],this.P5t=t,this.mo=!1,this.T5t=!1,this.na=n,this.r3t=i,this.l5t=void 0,this.V5t=0,this.X5t=new G0(this),this.ont=r,this.R5t=e,this.na.bn(ya.Dy,this.kz)}var n=t.prototype;return n.RR=function(){this.mo=!0,this.T5t&&this.k5t()},n.E5t=function(t,n){this.x5t(t,n);var i=Hi(this.znt,(function(n){return n.R4t(t)}));if(i)i.h5t(t);else{var r,e=new X0(t,n,this.na,null==(r=t.replaceContent)||r);this.g3t.push(e),2===this.I5t&&this.R5t.q3t(e.od,e,e.C4t),this.C5t(n,e)}},n.N5t=function(){if(Ji(this.znt,this.l5t),this.l5t){for(var t=0,n=this.l5t.Z4t;t<n.length;t++){n[t];this.R5t.M5t()}this.l5t=void 0}},n.L5t=function(){for(var t=0,n=this.g3t;t<n.length;t++)for(var i=0,r=n[t].Z4t;i<r.length;i++){var e=r[i];this.R5t.B5t(e,!0)}ir(this.g3t)},n.O5t=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.N5t(),n.F5t=!0,n.l5t=t,n.V5t=t.od,n.ipt=n.W5t(t),[4,n.ipt];case 1:return i.sent(),n.ipt=void 0,[2]}}))}))()},n.W5t=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return[4,n.U5t(t)];case 1:if(e.sent(),!(i=t.z4t()))return n.F5t=!1,n.l5t=void 0,[2];r=n.P5t.G5t(i),t.F4t=!0,e.label=2;case 2:return e.trys.push([2,4,,6]),[4,r];case 3:return e.sent(),t.A4t===zL.Unt&&n.P5t.Z5t(),[3,6];case 4:return e.sent(),n.l5t=void 0,[4,n.k5t()];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))()},n.U5t=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return t.qI=n.r3t.qI,n.r3t.KO?[4,n.ont.ij(n.r3t.qI)]:(t.KO=!1,[2]);case 1:switch(i.sent()){case"all":case"muted":t.KO=!0;break;case"none":t.KO=!1}return[2]}}))}))()},n.H5t=function(){var t;return null!=(t=this.X5t.w5t())?t:this.X5t.m5t()},n.k5t=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.l5t&&!t.l5t.D4t?[2,t.ipt]:(n=t.H5t())?[4,t.O5t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.nr=function(){this.N5t(),ir(this.g3t),this.V5t=0,this.l5t=void 0,this.ipt=void 0,this.F5t=!1},n.W4t=function(){this.F5t=!1,this.l5t&&(this.l5t.W4t=!0)},n.C5t=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return t===zL.Unt&&i.mo&&i.X5t.v5t(n)?i.xXt||"linear"===i.P5t.S3t||!(!i.l5t||i.l5t&&i.l5t.F4t)?[3,3]:[4,et.resolve()]:[3,3];case 1:return r.sent(),[4,i.O5t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.c5t=function(){this.l5t&&this.l5t.c5t()},n.K5t=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.Y5t?(n=t.H5t())?[4,t.O5t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.x5t=function(t,n){var i=t.sources.type,r=n===zL.Gnt&&void 0===t.timeOffset,e=OQ(i)||r?1:2;e!==this.D5t&&(this.D5t=e,this.L5t(),this.P5t.C$t&&!this.xXt&&"linear"!==this.P5t.S3t&&(this.P5t.C$t.Km(),this.l5t=void 0,this.ipt=void 0),this.V5t=0,this.T5t=!0)},n.o3t=function(t){this.X5t.o3t(t)},n.yn=function(){this.na.vn(ya.Dy,this.kz)},Nt(t,[{key:"f5t",get:function(){return this.P5t}},{key:"znt",get:function(){return this.g3t}},{key:"t",get:function(){return this.na}},{key:"xXt",get:function(){return Boolean(this.ipt)}},{key:"I5t",get:function(){return this.D5t}},{key:"l5t",get:function(){return this.z5t},set:function(t){this.z5t=t}},{key:"F5t",get:function(){return this.q5t},set:function(t){this.q5t=t}},{key:"Y5t",get:function(){var t=this;return!this.xXt&&!this.F5t&&(!(this.l5t&&!this.l5t.D4t)&&(!!this.g3t.filter((function(n){return t.l5t!==n})).length&&Boolean(this.H5t())))}}]),t}();F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var Y0=function(t){return t.Q5t="contentResumeRequested",t.J5t="contentPauseRequested",t.$5t="click",t.Dy="durationChange",t.t6t="expandedChanged",t.e6t="start",t.i6t="impression",t.rX="pause",t.s6t="resume",t.n6t="adProgress",t.r6t="adBuffering",t.o6t="firstQuartile",t.Rjt="midpoint",t.h6t="thirdQuartile",t.Cjt="complete",t.a6t="userClose",t.u6t="linearChanged",t.c6t="loaded",t.l6t="adCanPlay",t.d6t="adMetadata",t.f6t="adBreakReady",t._6t="interaction",t.v6t="allAdsCompleted",t.g6t="skip",t.m6t="skippableStateChanged",t.p6t="log",t.w6t="viewableImpression",t.y6t="volumeChange",t.b6t="mute",t}({});F(),Tt();var j0=function(t){return t.A6t="adError",t}({});F(),Tt();var K0=function(t){return t[t.S6t=-1]="S6t",t[t.T6t=-1]="T6t",t[t.k6t=-1]="k6t",t[t.E6t=101]="E6t",t[t.x6t=102]="x6t",t[t.I6t=200]="I6t",t[t.R6t=201]="R6t",t[t.C6t=202]="C6t",t[t.P6t=300]="P6t",t[t.D6t=301]="D6t",t[t.N6t=302]="N6t",t[t.M6t=303]="M6t",t[t.L6t=400]="L6t",t[t.B6t=402]="B6t",t[t.O6t=403]="O6t",t[t.F6t=405]="F6t",t[t.V6t=500]="V6t",t[t.W6t=501]="W6t",t[t.U6t=-1]="U6t",t[t.G6t=503]="G6t",t[t.Z6t=602]="Z6t",t[t.H6t=900]="H6t",t[t.X6t=901]="X6t",t[t.z6t=1005]="z6t",t[t.q6t=1007]="q6t",t[t.Y6t=1009]="Y6t",t[t.K6t=1010]="K6t",t[t.j6t=1011]="j6t",t[t.Q6t=1012]="Q6t",t[t.J6t=1013]="J6t",t[t.$6t=1020]="$6t",t[t.t9t=1021]="t9t",t[t.e9t=1101]="e9t",t[t.i9t=1204]="i9t",t[t.s9t=1205]="s9t",t[t.n9t=1300]="n9t",t[t.r9t=-1]="r9t",t[t.o9t=-1]="o9t",t[t.h9t=-1]="h9t",t[t.a9t=-1]="a9t",t}({}),q0=function(t){return t.u9t="adLoadError",t.c9t="adPlayError",t}({});function J0(t,n){if(t===Y0.n6t){var i=n;return{l9t:i.adBreakDuration,d9t:i.adPosition,RI:i.currentTime,ct:i.duration,f9t:i.totalAds}}return n}function Q0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return q0.u9t;case google.ima.AdError.Type.AD_PLAY:return q0.c9t}}function $0(t){return Qn(t)&&ui(t.getVastErrorCode)}function t1(t){var n=t.getInnerError(),i=n&&$0(n)?t1(n):void 0;return{Tb:t.getMessage(),hQt:t.getErrorCode(),_9t:t.getVastErrorCode(),zw:Q0(t.getType()),v9t:i}}function n1(t){if(Yn(t))return t}F(),Tt(),sn(),F(),Tt();var i1=function(t){function n(n,i,r){var e,u;return e=t.call(this)||this,u=e,e.P5t=n,e.na=i,e.D9t=r,e._8t=!1,e.c8t=void 0,e.l8t=void 0,e.G9t=0,e.z9t=function(t){if(t.trt&&t.trt.Q9t){var n=t.trt.Q9t;e.D9t.Y3t(n.LOt,n.f9t,n.I$t)}},e.q9t=function(t){var n,i,r;if(!(e.G9t>=5)){e.G9t++;var u=t.M9t;if(function(t){return Qn(t)&&void 0!==t.l9t&&void 0!==t.f9t}(u)){var s=null==(r=e.P$t)||null==(i=r.Y9t())||null==(n=i.Q9t)?void 0:n.LOt;void 0!==s&&e.D9t.Y3t(s,u.f9t,u.l9t)}}},e.p9t=Pt((function(t){return Ot(this,(function(n){switch(n.label){case 0:return t.M9t.v8t?[4,u.F9t(t.M9t.v8t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),e.b9t=Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return u._8t=!0,u.P5t.c5t(),[4,u.y9t()];case 1:return t.sent(),[2]}}))})),e.A9t=function(t){if(t.trt){0;var n=t.trt;e.P5t.i8t(n),e.P5t.ge(),e.P5t.g8t(),e.P5t.m8t=!0,e.D9t.p8t(n);var i=n.ct;if(e.N9t(i),n.Z9t){var r=e.P5t.RI,u=e.P5t.aR;e.P5t.m5(Pp.EO),e.g9t(new Mp(r,u)),e.g9t(new Bp(r,u)),e.g9t(new Vp(r,u)),e.P5t.JI||e.g9t(new Fp(e.P5t.RI)),e.setCountdownTimer(),e.R9t(!0)}else e.P5t.d2t(),e.na.ge(),e.P5t.JI||e.na.DR()}},e.S9t=function(t){var n;if(t.trt){0;var i=t.trt;if(e.dw(),e.D9t.e8t(e.P5t.ct,i.Z9t),e.P5t.aR!==Pp.TO){var r=Pp.TO;e.P5t.m5(r);var u=e.P5t.RI;e.g9t(new kT(u,r))}e.N9t(NaN),e.P5t.m8t=!1,null==(n=e.P$t)||n.AR(e.P5t.H9t())}},e.T9t=function(t){t.trt&&(e.S9t(t),e.D9t.T9t(t.trt,e.P5t.RI,e.P5t.ct))},e.k9t=function(t){t.trt&&(e.D9t.e8t(-1,t.trt.Z9t),e.P5t.c5t(),!t.trt.Z9t&&e.P5t.Y5t()&&e.P5t.K5t())},e.E9t=function(t){t.trt&&(t.trt.Z9t?e.P5t.PR():e.na.PR())},e.x9t=function(){var t;(e.P5t.m8t=!0,e.P5t.w8t)&&(null==(t=e.P$t)||t.PR(),e.P5t.w8t=!1)},e.w9t=function(t){var n;if(t.trt){0,e.P5t.u8t&&(e.l8t=e.na.CI(),e.na.FR(),e.na.ER=!0),e.P5t.y8t=!0;var i=t.trt;e.D9t.Td(i);var r=i.ct;e.P5t.i8t(i),e.N9t(r),e.P5t.I9t(!1),e.P5t.ge(),e.P5t.v4t(),e.P5t.u8t||e.na.be(),e.na.PR(),e.P5t.b8t(i),0===(null==(n=i.Q9t)?void 0:n.LOt)||e.P5t._o(new Op(e.P5t.RI))}},e.y9t=Pt((function(t){var n,i,r,e,s;return Ot(this,(function(o){switch(o.label){case 0:return n=null==t?void 0:t.trt,u.P5t.y8t=!1,"linear"===u.P5t.S3t&&u.D9t.Md(),n&&n.ct>=0&&u.N9t(n.ct),u.na.jd()===1/0&&u.P5t.A8t(),u.P5t.m8t=!1,u._8t?[4,u.t8t()]:[3,2];case 1:o.sent(),o.label=2;case 2:u.P5t.I9t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.a8t()];case 4:return o.sent(),[3,6];case 5:return br(i=o.sent())||u._o(new pq(i)),[2];case 6:return u.P5t.d2t(),u.P5t.be(),u.na.MI||u.na.DR(),n&&u.P5t.i8t(n),u.P5t.r8t&&(u.P5t.u8t&&(e=u.na.IR(),s=null==(r=u.na.bt)?void 0:r.src,e&&s&&(e.src=s)),u.P5t.o8t=!0),u.na.ER=!1,u.P5t.Y5t()?[4,u.P5t.K5t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}}))})),e}It(n,t);var i=n.prototype;return i.g9t=function(t){this.P5t._o(t)},i.m9t=function(t){var n=this;this.P$t=t,this.P$t.bn(j0.A6t,this.p9t),this.P$t.bn(Y0.J5t,this.w9t),this.P$t.bn(Y0.Q5t,this.y9t),this.P$t.bn(Y0.v6t,this.b9t),this.P$t.bn(Y0.e6t,this.A9t),this.P$t.bn(Y0.Cjt,this.S9t),this.P$t.bn(Y0.g6t,this.T9t),this.P$t.bn(Y0.a6t,this.k9t),this.P$t.bn(Y0.$5t,this.E9t),this.P$t.bn(Y0.l6t,this.x9t),this.P$t.bn(Y0.rX,(function(){n.P5t.JI||(n.P5t.I9t(!0),n.P5t._o(new AT(n.P5t.RI))),n.R9t(!0)})),this.P$t.bn(Y0.s6t,(function(){n.P5t.JI&&(n.P5t.I9t(!1),n.P5t._o(new TT(n.P5t.RI)))})),this.P$t.bn(Y0.b6t,(function(){var i=t.bR();i>=0&&n.C9t(i)})),this.P$t.bn(Y0.y6t,(function(){var i=t.bR();i>=0&&n.C9t(i)})),this.P$t.bn(Y0.d6t,(function(t){n.D9t.P9t(t.type)})),this.P$t.bn(Y0.Dy,(function(t){t.trt&&n.N9t(t.trt.ct)}));var i=this;this.P$t.bn(Y0.p6t,Pt((function(t){var n,r;return Ot(this,(function(e){switch(e.label){case 0:return n=t.M9t.adError,(r=$0(n)?t1(n):void 0)?i.L9t(r)?[4,i.B9t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.O9t(r)?[4,i.F9t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.V9t(r)&&i.W9t(r),e.label=5;case 5:return[2]}}))}))),this.P$t.bn(Y0.c6t,(function(t){if(t.trt&&(n.P5t.W4t(),n.D9t.U9t(t.trt),n.G9t=0,t.trt.Z9t)){var i,r=n.P5t.aR,e=Pp.TO;n.P5t.m5(e);var u=n.P5t.RI,s=n.P5t.aR;s!==r&&n.g9t(new kT(u,s)),null==(i=n.P$t)||i.AR(n.P5t.H9t()),n.g9t(new Lp(u,e))}})),this.P$t.bn([Y0.r6t,Y0.i6t,Y0.o6t,Y0.Rjt,Y0.h6t],(function(t){t.trt&&n.D9t.X9t(t.trt,t.type,n.P5t.RI)})),this.P$t.bn(Y0.o6t,this.z9t),this.P$t.bn(Y0.n6t,this.q9t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return t.P$t?(n=t.P$t.Y9t())&&t.K9t(n)?[3,3]:t.P5t.Y5t()?[4,t.P5t.K5t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.P5t.j9t(),t.na.JI&&!t.na.MI&&t.na.DR(),r.label=3;case 3:return[3,7];case 4:return t.P5t.Y5t()?[4,t.P5t.K5t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.P5t.JI,t.P5t.j9t(),i||t.na.DR(),r.label=7;case 7:return[2]}}))}))()},i.K9t=function(t){var n=t.Q9t,i=null==n?void 0:n.f9t;return(null==n?void 0:n.d9t)!==i},i.dw=function(){this.P5t.Ec&&(y(this.P5t.Ec),this.P5t.Ec=null)},i.V9t=function(t){return t.zw===q0.u9t},i.O9t=function(t){return t.zw===q0.c9t},i.L9t=function(t){return t.hQt===K0.Y6t},i.F9t=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return n.W9t(t),n.J9t(t)?(n.P5t.$9t.F5t=!1,null==(i=n.P5t.$9t.l5t)||i.c5t(),[4,n.switchToPlayerIfNoNextAd()]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.J9t=function(t){var n;if(r1(t))return!0;if(this.P5t.lrt)return!1;var i=[K0.L6t,K0.X6t,K0.t9t,K0.s9t];return!(tr(i,t.hQt)||tr(i,null==(n=t.v9t)?void 0:n.hQt))},i.W9t=function(t){this.P5t.Q3t(t)},i.t8t=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.D9t.M5t(),t.P5t.c5t(),"nonlinear"===t.P5t.S3t&&(t.D9t.e8t(-1,!1),t.P5t.i8t(void 0)),"nonlinear"!==t.P5t.S3t&&"none"!==t.P5t.S3t?[3,2]:t.P5t.Y5t()?[4,t.P5t.K5t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.P5t.s8t(),t.P5t.i3t?t.P5t.d2t():t.n8t()&&t.na._o(new IT(t.na.CI())),[2]}}))}))()},i.n8t=function(){return this.P5t.r8t&&!this.P5t.o8t&&this.na.MI},i.setCountdownTimer=function(){var t=this;this.dw(),this.P5t.Ec=m((function(){return t.R9t()}),250)},i.B9t=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return void 0===t.trt?[2]:(n.P5t.$9t.F5t=!1,n.P5t.c5t(),n.P5t.Y5t()?[4,n.P5t.K5t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.P5t.I9t(!0),i.label=3;case 3:return[2]}}))}))()},i.N9t=function(t){this.P5t.ct!==t&&t>=0&&(this.P5t.q4(t),this.g9t(new ST(this.P5t.ct)))},i.C9t=function(t){this.P5t.H9t()!==t&&(0===t?this.P5t.h8t(t,!0,!1):this.P5t.h8t(t,!1,!1))},i.a8t=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.P5t.u8t&&void 0!==t.na.BI()?(t.c8t=new mr,[4,Er(t.na.Ca(t.na.iu(),t.c8t.ep),t.c8t)]):[3,2];case 1:n.sent(),t.l8t&&t.na.DI(t.l8t),t.l8t=void 0,n.label=2;case 2:return[2]}}))}))()},i.R9t=function(t){if(this.P$t){var n=this.P$t.d8t();n>this.P5t.ct&&this.N9t(k.round(n))}var i=this.P5t.RI;(t||!this.P5t.JI&&i!==this.P5t.f8t)&&(this.P5t._o(new Eg(i,void 0)),this.P5t.f8t=i)},i.nr=function(){this.c8t&&(this.c8t.np(),this.c8t=void 0),this._8t=!1,this.G9t=0},i.yn=function(){this.nr(),this.Ro()},n}(la);function r1(t){var n,i;return t._9t===K0.M6t||(null==(n=t.v9t)?void 0:n._9t)===K0.M6t||t.hQt===K0.Y6t||(null==(i=t.v9t)?void 0:i.hQt)===K0.Y6t}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var e1=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).S8t=i,e.T8t=r,e}return It(n,t),Nt(n,[{key:"zQt",get:function(){return I$.Q$t}}]),n}(l0);F(),Tt(),Dt(),Rt(),F(),Tt(),F(),Tt(),Dt(),Rt();var u1=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).E8t=0,r.x8t=void 0,r}It(n,t);var i=n.prototype;return i.X$t=function(){var t;return null==(t=this.x8t)?void 0:t.PYt},i.ka=function(){return function(t,n){return Ug(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.QN},get apiFramework(){return n.I8t},get creativeId(){return n.iKt},get title(){return n.NZ},get wrapperAdIds(){return n.R8t},get wrapperAdSystems(){return n.C8t},get wrapperCreativeIds(){return n.P8t}})}(p0(this),this)},i.D8t=function(t){this.x8t=t;var n=s1(t);this.y3t(t.jKt,t.N8t,t.M8t,t.ct,n,-1)},Nt(n,[{key:"k8t",get:function(){return this.E8t},set:function(t){this.E8t=t}},{key:"zQt",get:function(){return I$.Kh}},{key:"I8t",get:function(){var t;return null==(t=this.x8t)?void 0:t.bKt}},{key:"iKt",get:function(){var t;return null==(t=this.x8t)?void 0:t.iKt}},{key:"QN",get:function(){var t;return null==(t=this.x8t)?void 0:t.QN}},{key:"NZ",get:function(){var t;return null==(t=this.x8t)?void 0:t.NZ}},{key:"R8t",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.R8t)?n:[]}},{key:"C8t",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.C8t)?n:[]}},{key:"P8t",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.P8t)?n:[]}}]),n}(y0);function s1(t){return t.WYt.map((function(t){return new _0(t)}))}var o1=function(t){function n(n){var i;return(i=t.call(this,n,w0.oE)||this).x8t=void 0,i.djt=void 0,i}It(n,t);var i=n.prototype;return i.ka=function(){return function(t,n){return Ug(t,{get adSystem(){return n.X$t()},get apiFramework(){return n.I8t},get bitrate(){return n.L8t},get contentType(){return n.Fk},get creativeId(){return n.iKt},get description(){return n.QN},get mediaUrl(){return n.ljt},get title(){return n.NZ},get traffickingParameters(){return n.B8t},get traffickingParametersString(){return n.O8t},get wrapperAdIds(){return n.R8t},get wrapperAdSystems(){return n.C8t},get wrapperCreativeIds(){return n.P8t},get universalAdIds(){return n.GYt}})}(p0(this),this)},i.D8t=function(t){this.x8t=t,this.y3t(t.jKt,t.N8t,t.M8t,t.ct,s1(t),t.F8t),this.T3t=t.Z9t?w0.mQt:w0.w3t},i.X$t=function(){return this.x8t?a1(this.x8t.PYt):void 0},Nt(n,[{key:"zQt",get:function(){return I$.Q$t}},{key:"I8t",get:function(){return this.x8t?a1(this.x8t.bKt):void 0}},{key:"L8t",get:function(){return this.x8t?this.x8t.V8t:0}},{key:"Fk",get:function(){return this.x8t?a1(this.x8t.Fk):void 0}},{key:"iKt",get:function(){return this.x8t?a1(this.x8t.iKt):void 0}},{key:"W8t",get:function(){return this.x8t?a1(this.x8t.W8t):void 0}},{key:"QN",get:function(){var t;return null==(t=this.x8t)?void 0:t.QN}},{key:"ljt",get:function(){var t,n=null==(t=this.x8t)?void 0:t.ljt;return Yn(n)?n:this.djt},set:function(t){this.djt=t}},{key:"NZ",get:function(){var t;return null==(t=this.x8t)?void 0:t.NZ}},{key:"B8t",get:function(){return this.x8t?a1(this.x8t.B8t):void 0}},{key:"O8t",get:function(){return this.x8t?a1(this.x8t.O8t):void 0}},{key:"R8t",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.R8t)?n:[]}},{key:"C8t",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.C8t)?n:[]}},{key:"P8t",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.P8t)?n:[]}},{key:"GYt",get:function(){var t,n;return null!=(n=null==(t=this.x8t)?void 0:t.GYt.map((function(t){return{adIdRegistry:t.U8t,adIdValue:t.G8t}})))?n:[]}}]),n}(y0);function a1(t){return null===t?void 0:t}F(),Tt(),Dt(),F(),Tt(),Dt();var c1=function(){function t(t,n){this.D9t=t,this.Z8t=n}var n=t.prototype;return n.jnt=function(t){this.D9t.jnt(t)},n.zD=function(){this.D9t.zD()},n.Ynt=function(t){this.D9t.Ynt(t)},n.yn=function(){return et.resolve()},Nt(t,[{key:"z2t",get:function(){return this.D9t.z2t}},{key:"G2t",get:function(){return this.Z8t}},{key:"i3t",get:function(){return this.D9t.i3t}},{key:"Xnt",get:function(){var t;return null!=(t=this.D9t.Xnt)?t:null}},{key:"Znt",get:function(){var t=this.D9t.H8t;return t?[t]:[]}},{key:"znt",get:function(){return this.D9t.znt}},{key:"qnt",get:function(){return this.D9t.qnt}}]),t}(),h1=function(){function t(t,n){this._4t=t,this.s0t=[],this.q8t=!1,this.z8t=new c1(this,n)}return Nt(t,[{key:"X8t",get:function(){return this.z8t}},{key:"z2t",get:function(){return this._4t}},{key:"i3t",get:function(){return this.q8t}},{key:"H8t",get:function(){return this.z$t}},{key:"Xnt",get:function(){return this.i0t}},{key:"znt",get:function(){var t=this;return er(this.s0t,(function(n){if(n.sR)return[];var i=n.zc;if(n===t.i0t&&void 0!==t.z$t){var r=i.indexOf(t.z$t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"qnt",get:function(){return this.s0t.filter((function(t){return!t.sR}))}}]),t}();F(),Tt(),Rt();var f1=function(t){function n(n){return t.call(this,"Y8t",n)||this}return It(n,t),n.prototype.ka=function(){return new v1(this.trt.Hnt())},n}(nM),v1=function(t){function n(n){return t.call(this,"adimpression",n)||this}return It(n,t),n}(iM);F(),Tt(),Rt();var d1=function(t){function n(n){var i;return(i=t.call(this,"K8t")||this).trt=n,i}return It(n,t),n.prototype.ka=function(){return new l1(this.trt.Hnt())},n}(Ig),l1=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var g1=function(t){function n(){return t.call(this,"j8t")||this}return It(n,t),n.prototype.ka=function(){return new w1},n}(Ig),w1=function(t){function n(){return t.call(this,"admetadata")||this}return It(n,t),n}(ma),m1=function(t){function n(n,i){var r;return(r=t.call(this,n,I$.Q$t)||this).$8t=i,r.i7t=[],r.e7t=[],r}It(n,t);var i=n.prototype;return i.Q8t=function(t,n){for(var i=0;i<t;i++){var r=new o1(n);n.f3t(r),this.z2t._o(new rM(r))}},i.q3t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new e1(r,i,n);this.s0t.push(e),n.X4t(e),this.z2t._o(new $L(e))},i.j5t=function(t,n){for(var i=0,r=this.s0t;i<r.length;i++){var e=r[i];S(e.LOt)&&e.S8t===t&&(e.LOt=n,this.z2t._o(new E0(e)))}},i.B5t=function(t,n){void 0===n&&(n=!1),n&&Ji(this.s0t,t),this.z2t._o(new JL(t))},i.M5t=function(){if(this.Xnt){this.B5t(this.Xnt,!0);var t=Boolean(this.z$t&&this.z$t.S3t===w0.mQt);this.J8t(void 0,t)}},i.Z3t=function(t,n){var i=n.Q9t;if(i){var r=i.d9t-1,e=t.zc[r];return e.D8t(n),this.z2t._o(new R$(e)),e.sd.I$t=i.I$t,e}},i.t7t=function(t){if(!tr(this.e7t,t)){if(t){if(this.z$t===t)return;this.z$t=t;for(var n=0,i=this.i7t;n<i.length;n++){var r=i[n];0,this.P9t(r,t,this.$8t.RI)}}else{if(!this.z$t)return;var e=new fM(this.z$t,this.z$t.sd.LOt);this.e7t.push(this.z$t),this.z$t=void 0,this._4t._o(e)}ir(this.i7t)}},i.J8t=function(t,n){if(t){var i;if((null==(i=this.Xnt)?void 0:i.LOt)===t.LOt)return;this.i0t=t,n&&this.z2t._o(new oM(this.i0t))}else{if(!this.i0t)return;var r=new uM(this.i0t);this.i0t=void 0,ir(this.e7t),n&&this._4t._o(r)}},i.s7t=function(t){return this.s0t.filter((function(n){return xi(n.LOt,t,.01)}))[0]},i.Td=function(t){if(t.Q9t){var n=t.Q9t,i=this.s7t(n.LOt);i&&(ir(this.i7t),this.J8t(i,t.Z9t))}},i.Md=function(){this.Xnt&&this.z2t._o(new uM(this.Xnt)),ir(this.i7t),this.M5t()},i.p8t=function(t){if(!this.i0t&&t.Q9t){var i=this.s7t(t.Q9t.LOt);this.J8t(i,t.Z9t)}if(this.i0t){var r=n.n7t(this.i0t,t);if(!r)return;this.Z3t(this.i0t,t);var e=t.ljt;Yn(e)&&!Yn(r.ljt)&&(r.ljt=e,this.z2t._o(new R$(r))),this.t7t(r),this.z2t._o(new cM(this.z$t,r.sd.LOt))}else 0},i.e8t=function(t,n){if(this.t7t(void 0),!n&&this.Xnt){var i=this.Xnt;this.J8t(void 0,!1),this.B5t(i)}},i.U9t=function(t){var n=t.Q9t;if(n){var i=this.s7t(n.LOt);if(i){this.Y3t(n.LOt,n.f9t,n.I$t);var r=this.Z3t(i,t);r&&this.z2t._o(new N$(r))}}},i.Y3t=function(t,n,i){var r=this.s7t(t);if(r){var e=r.zc.length;if(n>e){var u=n-e;this.Q8t(u,r),r.I$t=i,this.z2t._o(new E0(r))}}},i.T9t=function(t,i,r){if(this.i0t){var e=n.n7t(this.i0t,t);if(e){var u=i/r;this.z2t._o(new T0(e,u))}}},i.X9t=function(t,i,r){if(this.i0t){var e=this.z$t;if(!e){var u=n.n7t(this.i0t,t);if(!u||tr(this.e7t,u))return void this.i7t.push(i);e=u,this.Z3t(this.i0t,t),this.t7t(e)}this.P9t(i,e,r)}},i.P9t=function(t,n,i){t===Y0.d6t?this.z2t._o(new g1):t===Y0.i6t&&n?this.z2t._o(new f1(n)):t===Y0.r6t&&n?this.z2t._o(new d1(n)):t===Y0.o6t&&n&&i?this.z2t._o(new N0(n,i)):t===Y0.Rjt&&n&&i?this.z2t._o(new x0(n,i)):t===Y0.h6t&&n&&i&&this.z2t._o(new L0(n,i))},i.zD=function(){this.$8t.zD()},i.jnt=function(t){this.$8t.jnt(t)},i.nr=function(){var t=Boolean(this.z$t&&this.z$t.S3t===w0.mQt);this.t7t(void 0),this.J8t(void 0,t);for(var n=0,i=this.s0t;n<i.length;n++){var r=i[n];this.B5t(r)}ir(this.s0t),ir(this.i7t),ir(this.e7t)},i.yn=function(){this.nr()},i.Ynt=function(t){},n.n7t=function(t,n){if(n.Q9t)return t.zc[n.Q9t.d9t-1]},Nt(n,[{key:"i3t",get:function(){return this.$8t.i3t}}]),n}(h1);function y1(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case QA.ENABLED:return n.ENABLED;case QA.INSECURE:return n.INSECURE;case QA.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("9.7.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!p1(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(ti(u))return u;return}(t);i&&n.setLocale(i)}function p1(t){return Gn.su&&t.allowNativeFullscreen}F(),Tt();var _1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).mo=!1,a.s3t=!1,a._7t=void 0,a.v7t=void 0,a.O7t=-1,a.T3t="none",a.g7t=!1,a.u7t=!1,a.w7t=new mr,a.c7t=!1,a.d7t=!1,a.W7t=function(t){a.z2t._o(t)},a.F7t=function(t){a._7t=new vw(fw.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.v7t=gw(a._7t)},a.f8t=NaN,a.m7t=function(){a.mo||a.RR()},a.rJ=r,a.WH=!0,a.FA=NaN,a.g5=Pp.TO,a.l7t=!1,a.f7t=!1,a.R5t=new m1(a.z2t,a),a.C7t=new i1(a,a.na,a.R5t),a.C7t.bn(Qy.fa,a.F7t),a.na.bn(ya.ho,a.m7t),a.d5t=new z0(a,a.na,a.r3t,e,a.R5t),a.T7t=o,a.S7t=s,a.k7t=u,a.be(),a.S7t.bn("V7t",a.W7t),a}It(n,t);var i=n.prototype;return i.o7t=function(t,n,i){n===zL.Gnt&&void 0!==i&&(this.s3t=i),this.d5t.E5t(t,n)},i.jnt=function(t){for(var n=this.a7t(),i=0;i<n.length;i++){var r=n[i];IJ(r.sources,r.timeOffset)||t.K6(r,zL.Unt,!1)}},i.a7t=function(){for(var t=[],n=this.H2t,i=n.Znt,r=n.znt,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.sd.T8t;if(!tr(e,a.OC)){var c,h,f=a.a5t(o.R8t);if(f>=0)(c=t).push.apply(c,Kt(a.T4t.slice(f)));else(h=t).push.apply(h,Kt(a.T4t));e.push(a.OC)}}for(var v=0,d=this.d5t.znt;v<d.length;v++){var l,g=d[v];if(!g.F4t)(l=t).push.apply(l,Kt(g.T4t))}return cr(t)},i.CI=function(){if(!this.C$t)return 0;var t=this.C$t.d8t();return S(this.ct)||t<0?0:this.ct-t},i.DI=function(t,n){},i.jd=function(){return this.FA||NaN},i.q4=function(t){this.FA=t},i.YI=function(){return this.na.qI},i.KI=function(t){this.h8t(this.yR,t,!0)},i.$I=function(){return this.WH},i.I9t=function(t){this.WH=t},i.gR=function(){var t,n,i;return null!=(i=null==(n=this.C$t)||null==(t=n.Y9t())?void 0:t.M8t)?i:0},i.wR=function(){var t,n,i;return null!=(i=null==(n=this.C$t)||null==(t=n.Y9t())?void 0:t.N8t)?i:0},i.AI=function(){return[]},i.o3t=function(t){this._5t=t,this.d5t.o3t(t)},i.Z5t=function(){!this.u7t&&this.C$t&&(this.C$t.Sn(),this.u7t=!0)},i.i8t=function(t){this.S3t=t?t.Z9t?"linear":"nonlinear":"none"},i.lR=function(){return FA.WB().ks()},i.bR=function(){return this.na.yR},i.AR=function(t){this.h8t(t,this.qI,!0)},i.H9t=function(){return this.na.qI?0:this.na.yR},i.h8t=function(t,n,i){var r=this.na.yR!==t||this.na.qI!==n;r&&(this.na.yR=t,this.na.qI=n),this.C$t&&i&&this.C$t.AR(this.H9t()),r&&this._o(new NT(this.RI,this.yR))},i.LI=function(){return!1},i.BI=function(){if(this._7t&&this.s3t)return this._7t},i.FI=function(){if(this.v7t&&this.s3t)return this.v7t},i.uR=function(){return this.g5},i.m5=function(t){this.g5=t,this._o(new xp(this.RI,t))},i.RR=function(){this.na.vn(ya.ho,this.m7t),this.mo||(this.mo=!0,this.d5t.RR(),this.g8t())},i.DR=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:if(t.p7t)return[2];t.w7t.np(),t.w7t=new mr,n=t.JI,t.I9t(!1),t._o(new TT(t.RI)),t.y7t()||(t.u8t||t.na.be(),t._o(new Op(t.RI))),t.m8t||(t.w8t=!1),i=Boolean(t.C$t),t.p7t=t.d5t.k5t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.p7t];case 2:return r.sent(),[3,4];case 3:return t.p7t=void 0,[7];case 4:try{kr(t.w7t.ep)}catch(t){return[2]}if(t.mo||t.m7t(),t._7t&&t.s3t)return[2];if(t.C$t){if(n)if(i)try{kr(t.w7t.ep),t.C$t.b7t(),t._o(new Fp(t.RI))}catch(t){return[2]}else t.Z5t()}else t.s3t||(t.d2t(),t.r3t.DR());return[2]}}))}))()},i.PR=function(){var t;this.JI||(this.I9t(!0),this._o(new AT(this.RI))),this.w7t.np(),this.m8t?null==(t=this.C$t)||t.PR():this.w8t=!0},i.zD=function(){var t;null==(t=this.C$t)||t.zD()},i.s8t=function(){this.C$t&&(this.S7t.A7t(),this.C$t.NR(),this.C$t.Km(),this.C$t=void 0,this.S3t="none",this.u7t=!1)},i.NR=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return t.f8t=0,t.d5t.nr(),t.w7t.np(),t.I9t(!0),t.l7t=!1,t.f7t=!1,t.m8t=!1,t.R5t.nr(),t.s8t(),t.j9t(),null==(n=t.T7t)||n.nr(),t.w8t=!1,t.S7t.Km(),[2]}))}))()},i.ge=function(){this.k7t.ge(),this.u8t&&this.na.ge()},i.be=function(){this.k7t.be()},i.E7t=function(){return Boolean(this.C$t)&&tr(this.C$t.x7t(),-1)&&!this.l7t},i.W4t=function(){this.d5t.W4t()},i.Y5t=function(){return this.d5t.Y5t},i.c5t=function(){this.d5t.c5t()},i.K5t=function(){return this.d5t.K5t()},i.K2t=function(t){if(this.E7t()){if(t.type===ya.Ky&&this.na.MI)return!0;if(t.type===ya.Ly)return this.l7t=!0,this.S7t.A7t(),!0}return!1},i.y7t=function(){return Boolean(this.C$t&&this.C$t.Y9t())},i.G5t=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.s8t(),i=n.I7t(),n.k7t.nQ(),[4,n.S7t.G5t(t,n.T7t,i)];case 1:return n.C$t=e.sent(),n.R7t(n.C$t),[3,3];case 2:return r=e.sent(),n.C7t.F9t(r),[3,3];case 3:return[2]}}))}))()},i.R7t=function(t){if(t.AR(this.H9t()),this.d5t.I5t===H0.A5t){var n=t.x7t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.R5t.q3t(r,this.d5t.l5t)}else this.R5t.q3t(this.d5t.l5t.od,this.d5t.l5t)}this.C7t.nr(),this.C7t.m9t(t)},i.IR=function(){if(this.P$t&&this.u8t&&this.y7t())return this.na.IR()},i.xR=function(){return this.u8t&&this.i3t?this.na.Sa:t.prototype.xR.call(this)},i.I7t=function(){var t,n,i=!!(this.d5t.I5t===H0.A5t)&&this.h7t;return void 0!==this.rJ.ads.googleIma.uiElements?t=this.rJ.ads.googleIma.uiElements:this.rJ.ads.showCountdown||(t=[]),void 0!==this.rJ.ads.allowedMimeTypes&&(n=this.rJ.ads.allowedMimeTypes),{P7t:n,D7t:t,N7t:i,L8t:this.rJ.ads.googleIma.bitrate,M7t:void 0,L7t:this._5t}},i.g8t=function(){if(this.P$t){var t=this.I7t();this.P$t.B7t(t)}},i.Q3t=function(t){r1(t)||(this._7t=new vw(fw.ADVERTISEMENT_ERROR,t.Tb),this.v7t=new ld(vd.AD_ERROR,"There was a problem playing ads.",this._7t)),this.z2t._o(f0.j2t(t))},i.j9t=function(){this.i3t&&(this.na.ge(),this.d2t(),this.be())},i.A8t=function(){var t;this.na.CI()!==1/0&&0!==this.na.lR().length&&((null==(t=this.d5t.l5t)?void 0:t.x4t)&&-1!==this.O7t&&(this.na.DI(this.na.CI()+this.O7t),this.O7t=-1))},i.b8t=function(t){var n,i;this.O7t=null!=(i=null==(n=t.Q9t)?void 0:n.I$t)?i:-1},i.d2t=function(){t.prototype.d2t.call(this),this.na.ge(),this.u8t&&!this.na.MI&&this.na.DR()},i.b4t=function(){this.u8t||t.prototype.b4t.call(this)},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.C7t.vn(Qy.fa,n.F7t),[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.s8t(),n.S7t.vn("V7t",n.W7t),n.S7t.Km(),n.k7t.Km(),n.d5t.yn(),n.C7t.yn(),[2]}}))}))()},Nt(n,[{key:"H2t",get:function(){return this.R5t.X8t}},{key:"r7t",get:function(){return this.R5t}},{key:"$9t",get:function(){return this.d5t}},{key:"u8t",get:function(){return p1(this.rJ)}},{key:"G2t",get:function(){return n.G2t}},{key:"h7t",get:function(){return this.rJ.ads.preload===tT.MIDROLL_AND_POSTROLL}},{key:"S3t",get:function(){return this.T3t},set:function(t){this.T3t=t}},{key:"C$t",get:function(){return this.P$t},set:function(t){this.P$t=t,this.u7t=!1}},{key:"m8t",get:function(){return this.c7t},set:function(t){this.c7t=t}},{key:"lrt",get:function(){return this.s3t}},{key:"r8t",get:function(){return this.l7t}},{key:"w8t",get:function(){return this.d7t},set:function(t){this.d7t=t}},{key:"o8t",get:function(){return this.f7t},set:function(t){this.f7t=t}},{key:"y8t",get:function(){return this.g7t},set:function(t){this.g7t=t}}],[{key:"G2t",get:function(){return I$.Q$t}}]),n}(U0);F(),Tt();var b1=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.U7t=t},n.createAdPlayer=function(t,n,i){return k1()&&this.U7t?this.U7t(t,n,i):void 0},t}();function k1(){return!!Boolean(f.google&&f.google.ima)&&!(1===b.keys(f.google.ima).length&&Boolean(f.google.ima.dai))}b1.Vm=new b1;var A1=function(){function t(){}var n=t.prototype;return n.sX=function(t){return t&&t.integration===LS.GOOGLE_IMA},n.V2t=function(t,n,i){return b1.Vm.createAdPlayer(t,n,i)},n.K6=function(t,n,i,r){i.o7t(t,n,r)},n.Aq=function(t){var n=BQ(t.sources);if(n){var i={integration:LS.GOOGLE_IMA,sources:n,omidAccessModeRules:n1(t.omidAccessModeRules)},r=FQ(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},Nt(t,[{key:"F2t",get:function(){return _1.G2t}}]),t}();MS.Vm.nX(new A1),F(),Tt(),Dt(),F(),Tt(),Mt(),Dt(),Rt(),nn(),qt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var T1=function(t){function n(){return t.call(this,"e0t")||this}return It(n,t),n.prototype.ka=function(){return new S1},n}(Ig),S1=function(t){function n(){return t.call(this,"adloaded")||this}return It(n,t),n}(ma),E1=-1,I1=function(){function t(t,n){this.s0t=[],this.V$t=!1,this.L4t=t,this.Yp=0,this.B$t=n,this.q7t=NaN,this.z7t=!1,this.Z7t=new b$(this,this.B$t)}var n=t.prototype;return n.Y7t=function(){return this.Yp<this.s0t.length},n.Ic=function(){var t;return this.Yp<this.s0t.length&&(t=this.s0t[this.Yp],this.Yp++),t},n.K7t=function(t){t.yQt=this,this.s0t.push(t)},n.j7t=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.s0t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),Ji(n.s0t,u),o=u.urt.sources,a="string"==typeof o?o:o.src,t._o(f0.Q2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.z7t=!0,[2,i]}}))}))()},n.W$t=function(){this.V$t=!0},n.F$t=function(){return this.V$t},n.Q7t=function(){return this.s0t.some((function(t){return m$(t).some((function(t){return t.FYt}))}))},Nt(t,[{key:"D$t",get:function(){return this.s0t}},{key:"G7t",get:function(){return this.Z7t}},{key:"Mut",get:function(){return this.Yp}},{key:"H7t",get:function(){return this.L4t}},{key:"X7t",get:function(){return this.z7t}},{key:"od",get:function(){if(S(this.q7t)){var t=SQ.XQt(this.L4t,this.B$t.t.jd());void 0===t||S(t)||(this.q7t=t)}return this.q7t}}]),t}(),R1=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.vte=!1,u.ote=function(t){return xr(u.ate(t))},u.ate=Pt((function(t){var n,i,r,e,u,o,a;return Ot(this,(function(c){switch(c.label){case 0:return s._te(),n=t.currentTime,i=t.currentTime!==E1?s.dte(s.W4,t.currentTime):s.cte(t.currentTime,0,0)[0],u=s.na.jd()-10,(e=s.ute(E1)&&k.ceil(n)===k.ceil(u)?s.cte(E1,10,0).filter((function(t){return!t.X7t})):s.cte(n,10,0).filter((function(t){return!t.X7t}))).length?[4,et.all(e.map((function(t){return t.j7t(s.ste)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s._o(new T1),(!a||!s.ite.Tte||e[0].od<s.ite.Tte.od)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.ite.Tte&&(r=i),s.mte([i])),r?(s.ite.nte(),s.ite.Tte=r,[4,s.ite.ete()]):[3,4];case 3:c.sent(),c.label=4;case 4:return S(s.na.jd())||(s.W4=t.currentTime),[2]}}))})),u.na=n,u.a4t=i,u.Ate=new _$(u.a4t,u.na),u._5t=void 0,u.vte=!1,n.jd()!==1/0?u.bF=0:u.bF=n.CI(),u.W4=u.bF,u.$7t=[],u.ste=r,u.ite=e,u.rte=!1,u}It(n,t);var i=n.prototype;return i.tte=function(){this.ite.ete()},i.Sn=function(){this.Mo(),this.ste.bn("ort",this.ite.nte)},i.Tn=function(){this.Fo(),this.ste.vn("ort",this.ite.nte),this.W4=this.bF,this.ite.nr();for(var t=0,n=this.$7t;t<n.length;t++){n[t].W$t()}ir(this.$7t)},i.Mo=function(){this.rte||(this.na.bn(ya._b,this.ote),this.rte=!0)},i.Fo=function(){this.rte&&(this.na.vn(ya._b,this.ote),this.rte=!1)},i.hte=function(){return this.ate(new Eg(E1,void 0))},i.ute=function(t){return this.cte(t,0,0).length>0},i.dte=function(t,n){for(var i,r=0,e=0,u=this.$7t;e<u.length;e++){var s=u[e];if(!s.F$t()){var o=s.od;o>=t&&o<=n&&o>=r&&!S(o)&&(r=(i=s).od)}}return i},i.fte=function(t){return this.ate(new Eg(t,void 0))},i._te=function(){if(!this.vte&&void 0!==this._5t){this.vte=!this.$7t.some((function(t){return S(t.od)}));for(var t=0,n=this.$7t;t<n.length;t++){var i=n[t];i.od!==E1&&i.od<=this._5t&&!i.F$t()&&i.W$t()}}},i.mte=function(t){for(var n=0;n<t.length;n++){t[n].W$t()}this.a4t.pte(t),0===this.J7t&&this.Fo()},i.cte=function(t,n,i){var r=this;return this.$7t.filter((function(e){if(e.F$t())return!1;var u=e.od;return r.wte(u,t)||r.yte(u,t,n,i)}))},i.wte=function(t,n){switch(n){case 0:return 0===t;case E1:return t===E1;default:return!1}},i.yte=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.bte=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.u5t(r.LOt),u=this.Vgt(r);-1===u&&(this.vte=void 0===this._5t,this.$7t.push(new I1(e,this.Ate)),u=this.$7t.length-1),this.$7t[u].K7t(r)}this.Mo()}},i.Vgt=function(t){var i=n.u5t(t.LOt);return ji(this.$7t,(function(t){return i===n.u5t(t.H7t)}))},i.Ste=function(t){Ji(this.$7t,t)},i.o3t=function(t){this._5t=t,this.vte=void 0===t},n.u5t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},Nt(n,[{key:"J7t",get:function(){for(var t=0,n=0,i=this.$7t;n<i.length;n++){i[n].F$t()||(t+=1)}return t}},{key:"znt",get:function(){return this.$7t}}]),n}(wa);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var C1,N1=function(t){function n(n,i){var r;return(r=t.call(this)||this).Dte=[],r.Cte=[],r.bZ=void 0,r._4t=new wa,r.Mte=function(t){t.stopPropagation(),r.Lte()},r.Lte=function(){for(var t=0,n=r.Dte;t<n.length;t++)for(var i=0,e=n[t].BKt;i<e.length;i++){var u=e[i];AJ(u.uri)}},r.r1t=v.createElement("div"),r.r1t.style.display="none",r.Bte=n,r.Ote=i,r}It(n,t);var i=n.prototype;return i.Ete=function(){this.xte(),this.Ite(),this.bZ=void 0},i.Rte=function(t){this.Cte=this.Cte.concat(t)},i.Pte=function(t){this.Dte=this.Dte.concat(t)},i.Ite=function(){this.Cte=[]},i.xte=function(){this.Dte=[]},i.Nte=function(t){for(var n=0,i=this.Cte;n<i.length;n++){var r=i[n];r.pz===t&&AJ(r.eventURL)}},i.ge=function(){this.kte.style.display=""},i.be=function(){this.kte.style.display="none"},i.yn=function(){this.Ro(),this._4t.Ro(),oi(this.r1t)},Nt(n,[{key:"kte",get:function(){return this.r1t}},{key:"z2t",get:function(){return this._4t}}]),n}(wa);function D1(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(ti(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}F(),Tt(),F(),Tt(),sn();var x1=(un(C1={},AA.eP,1),un(C1,AA.iP,2),un(C1,AA.sP,2),C1);function P1(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return Si(t.filter((function(t){var n=t.type.toLowerCase();return!!qn(i)&&-1!==i.indexOf(n)&&yQ(n)})),(function(t,n){return x1[t.type]-x1[n.type]})).map(L1)}function L1(t){return IA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function M1(t,n){return tB(O1(t),O1(n))}function O1(t){return{Ti:t.height,ji:t.width}}function B1(t,n,i,r){var e,u=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!yQ(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(k.abs(a.width/n-1)+k.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return e||s.sort(M1)[0]}}(t.rjt,n.width,n.height,i),s=P1(t.rjt,i);if(u){var o=L1(u);o&&s.push(o)}s.length>0&&(t.ljt=null==(e=s[0].src)?void 0:e.trim());return AE({sources:s},r)}var V1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).vee=r,a.FT=e,a.a4t=u,a.Ku=s,a.Wte=o,a.Vte=!1,a.fee=0,a.W4=-1,a.zT=new mr,a.Zte=!0,a.hee=function(){a.qte()},a.uee=function(){a.zT=void 0,a.Vte||(a.lee(),a.Vte=!0),a.Zte&&(a.Zte=!1,a.a4t.tte()),a.kte.style.display="block",a.Wte.vn(Np.uB,a.uee),a.Vte=!0},a.aee=function(){var t=a.RI,n=a.ct,i=t/n;(0===a.fee&&i>=.25?(a.Nte(QJ.xjt),a.fee=1):1===a.fee&&i>=.5?(a.Nte(QJ.Rjt),a.fee=2):2===a.fee&&i>=.75&&(a.Nte(QJ.Ijt),a.fee=3),a.Jte(t,n),a.pee(),a.W4=t,a.tjt)&&(-1!==a.tjt.ajt&&a.tjt.ajt<a.tjt.ct&&(null!=a.c1t||(a.c1t=a.Yte()),a.RI<a.tjt.ajt?a.c1t.x0t(a.tjt.ajt-a.RI):a.c1t.R0t()))},a.oee=function(){var t,n;a.zT=void 0,a.Wte.vn(Qy.fa,a.oee),a.Zte=!0,null==(t=a.bZ)||t.nQt(vQ.$jt),a.Vte=!1,a.Wte.be();var i=(null==(n=a.Wte.bt)?void 0:n.src)||"";a.Bte(i)},a.see=function(){a.Ds(new Eg(a.RI,void 0))},a.nee=function(){a.Ds(new ST(a.ct))},a.ree=function(){a.Ds(new NT(a.RI,a.yR))},a.Qte=function(){a.a4t.PR()},a.Kte=function(){a.Gte&&(a.Nte(QJ.bjt),a.z2t._o(new T0(a.Gte,a.RI/a.ct)),a.qte(!1))},a.kte.className="theoplayer-ad-linear",a.kte.style.zIndex="10",wi(a.kte),a.Wte.be(),a._ee=!1,a}It(n,t);var i=n.prototype;return i.DR=function(){this.Wte.JI&&(this.Wte.DR(),this._o(new TT(this.RI)),this.Vte&&this.Nte(QJ.wjt),this.Vte=!0)},i.PR=function(){this.Wte.JI||(this.Wte.PR(),this._o(new AT(this.RI)),this.Nte(QJ.Ky))},i.NR=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return null==(n=t.zT)||n.np(),t.zT=void 0,t.be(),t.Vte=!1,t.Zte=!0,t.Hte(),t.Xte(),[4,t.zte()];case 1:return i.sent(),[2]}}))}))()},i.qte=function(t){void 0===t&&(t=!0),this.Vte=!1,t&&this.Nte(QJ.Cjt),this.be(),this.Ote()},i.Yte=function(){var t,n=null==(t=this.a4t.Ma)?void 0:t.mi,i=new U$(this.Ku,n);return this.kte.appendChild(i.we),i.bn("zD",this.Kte),i},i.jte=function(){this.tjt&&this.tjt.KKt.DKt&&(this.h1t=new M$(this.kte),this.h1t.y0t=this.tjt.KKt.DKt,this.h1t.bn("clickstart",this.Qte),this.h1t.bn("click",this.Lte))},i.Jte=function(t,n){for(var i=0,r=this.Cte;i<r.length;i++){var e=r[i];if(e.pz===QJ.jy){var u=sQ(e.nc,n);void 0!==u&&this.W4<u&&u<=t&&AJ(e.eventURL)}}},i.$te=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.tjt&&t.eee?(n=B1(t.tjt,t.eee,t.FT.ads.allowedMimeTypes,t.FT)).sources.length?(t.zT=new mr,t.Zte=!0,[4,Er(t.Wte.Ca(n,t.zT.ep),t.zT)]):[3,2]:[2];case 1:return i.sent(),t.Wte.ge(),t.tjt.oKt(),[3,4];case 2:return[4,t.Wte.nr()];case 3:return i.sent(),t.Bte(""),t.tjt.oKt(),[2];case 4:return t.jte(),[2]}}))}))()},i.iee=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return r.Gte=t,r.tjt=t.FYt,r.Wte.bn(ya._b,r.see),r.Wte.bn(ya.Dy,r.nee),r.Wte.bn(ya.vb,r.ree),r.Wte.bn(Dp,r.Ds),r.tjt.XYt&&0!==r.tjt.XYt.length&&r.Rte(r.tjt.XYt),r.tjt.KKt&&r.Pte(r.tjt.KKt),r.bZ=n,r.eee=i,0===r.tjt.rjt.length?[3,2]:(r.Wte.bn(Qy.fa,r.oee),[4,r.$te()]);case 1:e.sent(),r.Wte.bn(ya.Ly,r.hee),r.Wte.bn(ya._b,r.aee),r.Wte.bn(Np.uB,r.uee),r.Wte.bn(ya.$y,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.IJt=function(){this.Fte&&this.cee&&this.Kte()},i.lee=function(){this.Nte(QJ.rTt),this.Gte&&this.z2t._o(new cM(this.Gte,this.RI))},i.zte=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Wte.vn(Qy.fa,t.oee),t.Wte.vn(ya.Ly,t.hee),t.Wte.vn(ya._b,t.aee),t.Wte.vn(Np.uB,t.Ds),t.Wte.vn(Np.uB,t.uee),t.Wte.vn(ya.$y,t.Ds),t.Wte.vn(ya._b,t.see),t.Wte.vn(ya.Dy,t.nee),t.Wte.vn(ya.vb,t.ree),t.Wte.vn(Dp,t.Ds),t.Gte&&(t.Gte.W$t(),t.z2t._o(new fM(t.Gte,t.RI))),t.dee(),t.Ete(),t.Hte(),t.Xte(),t.Gte=void 0,t.tjt=void 0,t.eee=void 0,[4,t.Wte.nr()];case 1:return n.sent(),t.Wte.be(),t.kte.style.cursor="",t.fee=0,t.W4=-1,t._ee&&(t.vee.zte(),t._ee=!1),[2]}}))}))()},i.dee=function(){this.h1t&&(this.h1t.Km(),this.h1t=void 0)},i.Xte=function(){this.gee&&(oi(this.gee),this.gee=void 0)},i.Hte=function(){this.c1t&&(this.c1t.yn(),this.c1t=void 0)},i.mee=function(){this._ee=!0},i.pee=function(){var t;this.gee||(this.gee=v.createElement("div"),this.gee.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.kte.appendChild(this.gee));var n=null==(t=this.Gte)?void 0:t.sd;if(n){var i=n.zc.filter(E$),r=D1(this.FT,"The content will play in")+" "+k.round(n.R$t)+" "+D1(this.FT,"seconds");if(i.length>1){var e=i.filter((function(t){return t.F$t()})).length;r+=". "+D1(this.FT,"Ad")+" "+(e+1)+"/"+i.length}PP(this.gee,r)}},Nt(n,[{key:"Fte",get:function(){return this.Vte}},{key:"RI",get:function(){return this.Wte.RI}},{key:"ct",get:function(){var t=this.Wte.ct;return S(t)&&this.tjt&&(t=this.tjt.ct||0),t}},{key:"MI",get:function(){return this.Wte.MI}},{key:"qI",get:function(){return this.Wte.qI},set:function(t){this.Wte.qI=t,t?this.Nte(QJ.mjt):this.Nte(QJ.pjt)}},{key:"JI",get:function(){return this.Wte.JI}},{key:"aR",get:function(){return this.Wte.aR}},{key:"yR",get:function(){return this.Wte.yR},set:function(t){this.Wte.yR=t}},{key:"vR",get:function(){return this.Wte.vR}},{key:"pR",get:function(){return this.Wte.pR}},{key:"Ute",get:function(){return this.Gte}},{key:"cee",get:function(){return this.tjt&&-1!==this.tjt.ajt&&this.Wte.RI>=this.tjt.ajt}}]),n}(N1);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var F1=function(t){function n(){var i;return(i=t.call(this)||this).P0t=function(t){i._o(new ma("zD")),i.wee(t)},i.wee=function(t){t.stopPropagation()},i.Vs=n.mr(),i.C0t(),i}It(n,t);var i=n.prototype;return i.C0t=function(){this.we.addEventListener("mouseup",this.P0t),this.we.addEventListener("touchend",this.P0t),this.we.addEventListener("mousedown",this.wee)},i.I0t=function(){this.we.removeEventListener("mouseup",this.P0t),this.we.removeEventListener("touchend",this.P0t),this.we.removeEventListener("mousedown",this.wee)},i.yn=function(){this.I0t(),oi(this.Vs)},n.mr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},Nt(n,[{key:"we",get:function(){return this.Vs}}]),n}(la),U1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Tee=function(){e.Iee(),e.Nte(QJ.Ljt),e.Ote()},e.See=function(t){var n,i;e.Iee(),null==(n=e.bZ)||n.nQt(vQ.eQt);var r,u,s,o=null==(i=e.q$t)?void 0:i.ZYt[0],a=null!=(u=null!=(r=null==o?void 0:o.KYt)?r:null==o?void 0:o.qYt)?u:null==o?void 0:o.QYt;e.Bte(null!=(s=null==a?void 0:a.qjt)?s:"")},e.xee=function(){e.be(),ai(e.kte),e.Ote(),e.bee=void 0,e.q$t=void 0},e.Cee=function(){e.pu||(e.Eee=void 0,e.pu=new F1,e.kte.children[0].appendChild(e.pu.we),e.pu.bn("zD",e.Pee))},e.Pee=function(){e.Nte(QJ.bjt),e.IJt()},e.kte.className="theoplayer-ad-nonlinear",e.kte.style.position="absolute",e.kte.style.width="100%",e.kte.style.bottom="3em",e.kte.style.zIndex="10",e.kte.style.textAlign="center",e.a4t=r,e}It(n,t);var i=n.prototype;return i.Ete=function(){t.prototype.Ete.call(this),this.kte&&ai(this.kte)},i.iee=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return r.q$t&&r.zte(),r.bee=t,r.q$t=t.VYt,0!==r.q$t.XYt.length&&r.Rte(r.q$t.XYt),r.bZ=n,0===r.q$t.ZYt.length?[3,2]:(r.Pte(r.q$t.ZYt[0].$Yt),r.kte.addEventListener("error",r.See),r.kte.addEventListener("load",r.Tee),[4,r.$te()]);case 1:i.sent(),r.kee(),i.label=2;case 2:return[2]}}))}))()},i.IJt=function(){var t;if(void 0===this.Eee){var n=null==(t=this.q$t)?void 0:t.ZYt[0];n&&n.sd&&-1!==n.sd.ajt&&(this.Nte(QJ.bjt),this.z2t._o(new T0(this.bee,0)),this.xee())}},i.lee=function(){void 0!==this.bee&&this.z2t._o(new cM(this.bee,this.a4t.RI))},i.NR=function(){this.zte(),this.bee=void 0,this.q$t=void 0},i.zte=function(){this.Iee(),void 0!==this.bee&&(this.bee.W$t(),this.z2t._o(new fM(this.bee,this.a4t.RI))),this.Ete(),this.Ree(),void 0!==this.Eee&&(w(this.Eee),this.Eee=void 0)},i.Iee=function(){this.kte.removeEventListener("load",this.Tee),this.kte.removeEventListener("error",this.See)},i.$te=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a,c;return Ot(this,(function(h){return(n=v.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.q$t.ZYt[0],r=v.createElement("a"),i.$Yt.DKt&&(r.href=i.$Yt.DKt,r.target="zu",r.setAttribute("rel","noopener")),i.KYt?(e=i.KYt,(u=v.createElement("iframe")).src=e.qjt,r.appendChild(u)):i.qYt?(s=i.qYt,(o=v.createElement("img")).src=s.qjt,r.appendChild(o)):i.QYt&&(a=i.QYt,(c=v.createElement("iframe")).src=a.qjt,r.appendChild(c)),i.oKt(),r.addEventListener("mousedown",t.Mte),r.addEventListener("touchend",t.Mte),t.kte.firstChild&&(ai(t.kte),t.zte()),n.appendChild(r),t.kte.appendChild(n),t.ge(),[2]}))}))()},i.kee=function(){var t;if(this.q$t){var n=null==(t=this.q$t.ZYt[0].sd)?void 0:t.ajt;void 0!==n&&-1!==n&&(this.Eee=f.setTimeout(this.Cee,1e3*n))}},i.Ree=function(){this.pu&&(this.pu.vn("zD",this.Pee),this.pu.yn()),this.pu=void 0},Nt(n,[{key:"yee",get:function(){return this.bee}},{key:"Aee",get:function(){return this.pu}},{key:"Dee",get:function(){return this.a4t.Nee()}}]),n}(N1);F(),Tt(),Mt(),Wt();var W1=function(){function t(){}return t.Mee=function(t,n,i){return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:r=[],e=t.shift(),u=[],c.label=1;case 1:if(!e)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,(new AQ).fQt(e,n)];case 3:return s=c.sent(),r=r.concat(s),[3,5];case 4:return o=c.sent(),a=f0.Q2t(o,e.sources.src),i._o(a),u.push(a.zb),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,[r,u]]}}))}))()},t}();F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Rt();var Z1=function(t){function n(){return t.call(this,"Qht")||this}return It(n,t),n.prototype.ka=function(){return new X1},n}(Ig),X1=function(t){function n(){return t.call(this,"statechange")||this}return It(n,t),n}(ma);F(),Tt();var G1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var H1=function(){function t(){this.tc=[],this.eu=void 0}var n=t.prototype;return n.wC=function(t){return this.tc[t]},n.QO=function(t){this.tc.push(t),this.eu&&this.eu.push(t.wa),this.Lee(t)},n.Bee=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.QO(i)}},n.Oee=function(t,n){n>=0&&n<=this.tc.length&&(this.tc.splice(n,0,t),this.eu&&this.eu.splice(n,0,t.wa),this.Lee(t))},n.JO=function(t){return tr(this.tc,t)},n.rT=function(t){this.Fee(this.tc.indexOf(t))},n.Fee=function(t){if(t>=0&&t<this.tc.length){var n=this.tc[t];Qi(this.tc,t),this.eu&&Qi(this.eu,t),this.Vee(n)}},n.Gb=function(){var t=this.tc.slice();ir(this.tc),this.eu&&ir(this.eu);for(var n=0;n<t.length;n++){var i=t[n];this.Vee(i)}},Nt(t,[{key:"Zu",get:function(){return this.tc}},{key:"V",get:function(){return this.tc.length}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),t}(),z1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Wee=new wa,n.Ds=function(t){n._o(t)},n}It(n,t);var i=n.prototype;return i.ka=function(){return function(t){var n=function(t){var n=t.Zu.map((function(t){return t.wa}));return n.item=function(n){var i=0|n,r=t.wC(i);return r&&r.wa||void 0},n}(t),i=new SR(t,n);return n.addEventListener=function(t,n){i.bn(t,n)},n.removeEventListener=function(t,n){i.vn(t,n)},n}(this)},i.bn=function(t,n){this.Wee.bn(t,n)},i._y=function(t){this.Wee._y(t)},i.Ro=function(){this.Wee.Ro()},i._o=function(t){this.Wee._o(t)},i.vn=function(t,n){this.Wee.vn(t,n)},i.wy=function(t){this.Wee.wy(t)},i.yy=function(t){this.Wee.yy(t)},i.Ay=function(t,n){return this.Wee.Ay(t,n)},n}(H1);F(),Tt(),Rt();var Y1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return It(n,t),n}(ma),j1=function(t){function n(n){var i;return(i=t.call(this,"Gee")||this).Uee=n,i}return It(n,t),n.prototype.ka=function(){return new Y1(this.Uee.wa)},n}(Ig);F(),Tt(),Rt();var K1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return It(n,t),n}(ma),q1=function(t){function n(n){var i;return(i=t.call(this,"Zee")||this).task=n,i}return It(n,t),n.prototype.ka=function(){return new K1(this.task.wa)},n}(Ig),J1=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Lee=function(t){this._o(new j1(t))},i.Vee=function(t){this._o(new q1(t))},n}(z1),Q1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).oat="uninitialised",e.qT=new J1,e.qee=i,e.Yee=r,e.d_=n,e.RR(),e}It(n,t);var i=n.prototype;return i.RR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.Hee()];case 1:return n.sent(),t.aat("initialised"),[2]}}))}))()},i.Hee=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.Xee()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.Xee=function(){var t=this;return Pt((function(){var n,i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return[4,t.d_.kxt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.qee.zee(r.id,r.sourceDescription,r.parameters,t.Yee),t.Kee(e),t.qT.QO(e),[4,e.jee]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.aat=function(t){this.oat=t,this._o(new Z1)},i.zee=function(t,n,i){void 0===i&&(i="persistent");var r=this.qee.Jee(t,n,i);return this.$ee(r,i),this.qT.QO(r),this.Kee(r),r},i.$ee=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.tie(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),p("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.tie=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,i.d_._Tt({key:t.o,id:t.o,sourceDescription:t.Cc,parameters:t.AT},n)];case 1:return r.sent(),[2]}}))}))()},i.Kee=function(t){var n=this;t.bn("Qht",(function(){t.Jk===G1.EVICTED&&n.qT.rT(t)}))},Nt(n,[{key:"Jk",get:function(){return this.oat}},{key:"Qee",get:function(){return this.qT}}]),n}(la);F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),F(),Tt(),Dt();var $1=function(){function t(t,n,i){if(this.sie=t,this.jO=n,this.eie=i,0===this.jO.size)this.hie=FA.WB();else{var r=new FA([-1/0,1/0]);this.jO.forEach((function(t){r=r.jn(t.timeRanges)})),this.hie=r}}return t.prototype.IF=function(t){return!!Zg(this.jO,t.jO)&&(!!Oi(this.sie,t.sie)&&(!!Oi(this.OB,t.OB)&&(!!Oi(this.nie,t.nie)&&this.rie.CB(t.rie))))},Nt(t,[{key:"OB",get:function(){return this.eie}},{key:"iie",get:function(){return this.sie}},{key:"nie",get:function(){return this.rie.OB}},{key:"oie",get:function(){var t=0,n=0;return this.jO.forEach((function(i){t+=i.timeRanges.OB,n+=i.totalQualityDurationToCache})),0===n?0:k.min(1,t/n)}},{key:"rie",get:function(){return this.hie}}]),t}();$1.QUALITY_TIME_RANGES_NULL_OBJECT=ho(),$1.CACHE_PROGRESSION_NULL_OBJECT=new $1(0,$1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),$1.aie=$1.CACHE_PROGRESSION_NULL_OBJECT,F(),Tt(),F(),Tt(),Mt(),qt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Rt();var t2=function(t){function n(){return t.call(this,"progress")||this}return It(n,t),n}(ma),n2=function(t){function n(){return t.call(this,"P3t")||this}return It(n,t),n.prototype.ka=function(){return new t2},n}(Ig);F(),Tt(),F(),Tt(),Dt(),Rt();var i2=function(t){function n(n,i){return t.call(this,n,i)||this}return It(n,t),Nt(n,[{key:"name",get:function(){return"uie"}}]),n}(pr);F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Wt(),F(),Tt();var r2=function(t){return t[t.eP=0]="eP",t[t.iP=1]="iP",t}({});function e2(t,n,i){return u2.apply(this,arguments)}function u2(){return u2=Pt((function(t,n,i){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.Ipt;e<u.length;e++)s=u[e],r.push(s2(s,n,i));return[4,et.all(r)];case 1:return o=a.sent(),[2,{ct:t.gyt.twt(),lie:[t.kSt],Ipt:o}]}}))})),u2.apply(this,arguments)}function s2(t,n,i){return o2.apply(this,arguments)}function o2(){return o2=Pt((function(t,n,i){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.mpt;e<u.length;e++)s=u[e],r.push(a2(s,n,i));return[4,et.all(r)];case 1:return[2,{Kpt:o.sent()}]}}))})),o2.apply(this,arguments)}function a2(t,n,i){return c2.apply(this,arguments)}function c2(){return c2=Pt((function(t,n,i){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.ift;e<u.length;e++)h2(s=u[e])||r.push(d2(s,n,i));return[4,et.all(r)];case 1:return[2,{Z:o.sent(),zw:t.zw}]}}))})),c2.apply(this,arguments)}function h2(t){return t.Mat.every(v2)}var f2=1;function v2(t){return t.xwt!==f2&&Boolean(t.xwt)}function d2(t,n,i){return l2.apply(this,arguments)}function l2(){return l2=Pt((function(t,n,i){var r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Mat;e<u.length;e++)v2(s=u[e])||r.push(g2(s,i));return[4,et.all(r)];case 1:return o=v.sent(),a=t.Frt[0],c=t.$G,h=c?function(t,n){for(var i=[],r=function(t){return t?Jo(t,"avc")?Xv.VIDEO_H264:Jo(t,"hev")||Jo(t,"hvc")||Jo(t,"hvt")||Jo(t,"lhv")||Jo(t,"lhe")||Jo(t,"lht")?Xv.VIDEO_H265:Jo(t,"mp4")?Xv.VIDEO_MP4:Jo(t,"mpeg2")?Xv.VIDEO_MPEG2:Jo(t,"mpeg")?Xv.VIDEO_MPEG:Xv.VIDEO_UNKNOWN:Xv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.G9.split(":").pop(),o=u.Z9;i.push({mimeType:r,uuid:s,data:o})}var a=r2.eP,c=_o;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=vZ(t,n,!0),[2,{VC:o,gs:t.Net,zw:t.zw,CZ:h,Ymt:f}]}}))})),l2.apply(this,arguments)}function g2(t,n){return w2.apply(this,arguments)}function w2(){return w2=Pt((function(t,n){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=Vt(i,new mr,!1),[4,m2(t,n,r.ep)];case 2:switch(e=c.sent(),u={o:_2(t),sB:e,jG:t.jG,Op:t.Op,Ti:t.Ti,zw:t.zw,ji:t.ji},t.zw){case aw.Rk:break;case aw.yE:u.Xdt=null!=(o=null==(s=t.Xdt)?void 0:s.VF())?o:NaN;break;case aw.wE:u.audioSamplingRate=t.Swt}return[2,u];case 3:return a=c.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return Ft(i),[7];case 5:return[2]}}))})),w2.apply(this,arguments)}function m2(t,n,i){return y2.apply(this,arguments)}function y2(){return y2=Pt((function(t,n,i){var r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:r=[],e=t.Eot,t.sdt&&r.push({lF:0,ct:0,cie:t.sdt}),u=e.Jyt(),s=u,h.label=1;case 1:return s?t.Kct(s)?[4,t.Qct(s,n,i)]:[3,3]:[3,5];case 2:for(o=h.sent(),a=0;a<o.V;a++)r.push(p2(o.$ct(a),t));return[3,4];case 3:r.push(p2(s,t)),h.label=4;case 4:return s=e.elt(s),[3,1];case 5:return c=e.ibt(),[2,{ct:c.dF-u.lF,xct:r}]}}))})),y2.apply(this,arguments)}function p2(t,n){return{lF:t.lF,ct:t.ct,cie:n.nlt(t)}}function _2(t){return t.Zct.Sn+"-"+(""+t.o)}function b2(t,n){var i=function(t){var n=function(t){for(var n=ho(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.XLt);e||(e={zw:r.zw,LN:[]},n.set(r.XLt,e)),e.LN.push(r)}return n}(t),i=fo();return n.forEach((function(t){for(var n=0,r=t.LN;n<r.length;n++){var e=r[n],u=i.get(t.zw);u||(u=ho(),i.set(t.zw,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=fo();return t.forEach((function(t,r){var e=ho();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=k2(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function k2(t,n,i){for(var r=t.XLt,e={QLt:t,ABt:[]},u=0;u<i.length;u++){var s=i[u];Oj(n,r,s)&&e.ABt.push(s)}return e}function A2(t,n){return T2.apply(this,arguments)}function T2(){return T2=Pt((function(t,n){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.tTt([t],{})];case 1:return[2,sj((i=r.sent()).rE,{},i.iTt)]}}))})),T2.apply(this,arguments)}function S2(t,n){return E2.apply(this,arguments)}function E2(){return E2=Pt((function(t,n){return Ot(this,(function(i){return wY(t)?[2,I2(t,n)]:[2,Z2(t)]}))})),E2.apply(this,arguments)}function I2(t,n){return R2.apply(this,arguments)}function R2(){return R2=Pt((function(t,n){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return[4,x2(b2(t.LN,t.FOt),n)];case 1:return i=e.sent(),[4,N2(t.FOt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:C2(i),lie:[t.Iyt],Ipt:[{Kpt:i}]}]}}))})),R2.apply(this,arguments)}function C2(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=k).max.apply(u,[n].concat(Kt(s.VC.map((function(t){return t.sB.ct})))))}return n}function N2(t,n){return D2.apply(this,arguments)}function D2(){return D2=Pt((function(t,n){var i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,U2((e=t[r]).Iyt,n)]:[3,4];case 2:(o=h.sent()).jG=e.jG,o.Op=e.Frt?function(t){return[t.UPt,t.ZPt,t.rOt].filter(Yn).join(",")}(e.Frt):"",o.Ti=null!=(a=null==(u=e.CPt)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.CPt)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{zw:aw.oE,Z:[{gs:jB,zw:aw.oE,VC:i}]}]}}))})),D2.apply(this,arguments)}function x2(t,n){return P2.apply(this,arguments)}function P2(){return P2=Pt((function(t,n){var i,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=tn(e.value,2),s=u[0],[4,L2(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),P2.apply(this,arguments)}function L2(t,n,i){return M2.apply(this,arguments)}function M2(){return M2=Pt((function(t,n,i){var r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=tn(u.value,2),[4,O2(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{zw:V2(n),Z:r}]}}))})),M2.apply(this,arguments)}function O2(t,n){return B2.apply(this,arguments)}function B2(){return B2=Pt((function(t,n){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:i=[],r=t[0].QLt,e=0,s.label=1;case 1:return e<t.length?[4,F2(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||jB,zw:V2(r.zw),VC:i}]}}))})),B2.apply(this,arguments)}function V2(t){switch(t){case yY.wE:return aw.wE;case yY.yE:return aw.yE;case yY.TW:case yY.GBt:return aw.Rk;default:return aw.oE}}function F2(t,n){var i=function(t){var n=t.QLt.Iyt,i=t.ABt.map((function(t){return t.Iyt}));return n||(i.length?i[0]:void 0)}(t);return U2(i,n)}function U2(t,n){return W2.apply(this,arguments)}function W2(){return W2=Pt((function(t,n){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return i={ct:0,xct:[]},t?[4,A2(t,n)]:[3,2];case 1:mY(r=e.sent())&&(i=X2(r)),e.label=2;case 2:return[2,{o:t||"default",die:t,sB:i,jG:0,Op:"",Ti:0,zw:aw.oE,ji:0}]}}))})),W2.apply(this,arguments)}function Z2(t){var n=X2(t);return{ct:n.ct,lie:[t.Iyt],Ipt:[{Kpt:[{zw:aw.oE,Z:[{zw:aw.oE,gs:jB,VC:[{o:t.Iyt,sB:n,jG:0,Op:"",Ti:0,zw:aw.oE,ji:0}]}]}]}]}}function X2(t){for(var n,i=[],r=0,e=0,u=t.xct;e<u.length;e++){var s=u[e],o=r;!s.GOt||void 0!==n&&TY(s.GOt.Iyt,n)||(i.push(G2(s.GOt,o)),n=s.GOt.Iyt),i.push(H2(s,o)),r+=s.ct}return{ct:r,xct:i}}function G2(t,n){return{lF:n,ct:0,cie:z2(t.Iyt)}}function H2(t,n){return{lF:n,ct:t.ct,cie:z2(t.Iyt)}}function z2(t){return{Xu:t.Fx,Kat:t.oAt?[t.oAt.Sn,t.oAt.Sn+t.oAt.V]:void 0,DE:!1}}F(),Tt(),Mt(),nn(),qt(),Wt(),F(),Tt();var Y2=function(){function t(t,n,i){this.eTt=t,this.slt=n,this.mie=i}var n=t.prototype;return n.fie=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(!t.src)throw new p("Invalid typed source");return uT(i=t.type)?[4,n._ie(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return eT(i)?[4,n.gie(t)]:[3,4];case 4:throw new p("Unexpected source type");case 5:return[2]}}))}))()},n._ie=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,A2(t.src,n.eTt)];case 1:return[4,S2(i.sent(),n.eTt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new p("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.gie=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new NW({zC:Kn.Bh(t.src),MSt:t.liveOffset,VSt:t.timeServer,DE:t.useCredentials},n.mie,El.VE,n.eTt,t.dash)).W];case 1:return r.sent(),[4,e2(i.Nr.tdt,t.contentProtection,n.slt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new p("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();F(),Tt(),Mt(),Wt();var j2=function(){function t(t){this.wie=[],this.Aie=0,this.Sie=t}var n=t.prototype;return n.pie=function(){var t=new ih;return this.wie.push(t),this.yie(),t.Xb},n.bie=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Aie-=1,i.yie(),0===i.wie.length&&0===i.Aie&&n.Zb(!0),[7];case 3:return[2]}}))}))()},n.yie=function(){this.wie.length>0&&this.Aie<this.Sie&&(this.wie.shift().Zb(),this.Aie+=1)},t}();var K2=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.Vie=new ih,c.Iie=$1.aie,c.vTt=n,c.Mxt=i,c.eTt=r,c.Die=e,c.rct=u,c.slt=s,c.mie=a,c.Yee=o,c.kie=-1;var h=c.vTt.Cc.sources[0];return c.Tie=h,c.mo=c.RR(),c.Oie=new j2(c.vTt.AT.parallelTasksThreshold),c}It(n,t);var i=n.prototype;return i.RR=function(){var t=this;return Pt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,_,b,A,S,E,I,R,C;return Ot(this,(function(N){switch(N.label){case 0:return[4,new Y2(t.eTt,t.slt,t.mie).fie(t.Tie)];case 1:return t.FPt=N.sent(),n=t.vTt.AT.amount,i=t.FPt.ct,r=function(t,n){if(ti(t)){if(Jo(t,"%"))return T(t)/100*n;throw new p("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.eie=r,u=zW(t.FPt.lie[0]),[4,t.Mxt.Lxt.xxt(u,"manifestURL")];case 2:for(s=N.sent().filter((function(n){return tr(n.references,t.vTt.o)})),o=[],a=t.vTt.AT.bandwidth,c=0,h=t.FPt.Ipt;c<h.length;c++)for(f=h[c],v=0,d=f.Kpt;v<d.length;v++)for(l=d[v],g=0,w=Q2(l,t.vTt.AT.preferredTrackSelection);g<w.length;g++)for(m=w[g],y=0,_=t3(m.VC,a);y<_.length;y++)b=_[y],o.push(b);if(t.kie=k.ceil(o.map((function(t){return t.jG*function(t,n){for(var i=0,r=0,e=t.sB.xct.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),A=ho(),s&&0!==s.length){for(S=function(n){var i=s[n],r=i.qualityId,e=new FA(i.startsAndEnds);if(A.has(r))A.get(r).timeRanges=A.get(r).timeRanges.AB(e).bB(5e-4);else{var u,a=Hi(o,(function(t){return t.o===r})),c=k.min(t.eie,null!=(u=null==a?void 0:a.sB.ct)?u:1/0);A.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},E=s.reduce((function(t,n){return t+n.byteSize}),0),I=0;I<s.length;I++)S(I);e=new $1(E,A,t.eie)}else{for(R=0;R<o.length;R++)C=o[R],A.set(C.o,{timeRanges:FA.WB(),totalQualityDurationToCache:k.min(C.sB.ct,t.eie)});e=new $1(0,A,t.eie)}return t.Eie=e,[2]}}))}))()},i.pi=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.mo];case 1:return i.sent(),[4,n.Rie(n.FPt,t)];case 2:return i.sent(),[2]}}))}))()},i.Rie=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(!t.lie)throw new p("Unexpected - manifest is missing locations");return[4,i.Cie()];case 1:for(o.sent(),r=[],e=0,u=t.Ipt;e<u.length;e++)s=u[e],r.push(i.Pie(s,t.lie[0],n));return[2,Pr(r)]}}))}))()},i.Cie=function(){var t=this;return Pt((function(){var n,i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,t.Die.kxt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Mxt.Bxt.Vb(r.key)]):[3,9];case 3:return(e=s.sent())?[4,q2(e,t.vTt.o,t.Mxt.Bxt,t.Yee)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Mxt.Bxt._Tt(r,t.Yee)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new i2("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.Die.Rxt()];case 10:return s.sent(),[2]}}))}))()},i.Pie=function(t,n,i){for(var r=[],e=0,u=t.Kpt;e<u.length;e++)for(var s=Q2(u[e],this.vTt.AT.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.Nie(a,n,i))}return Pr(r)},i.Nie=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return e=r.vTt.AT.bandwidth,u=t3(t.VC,e),t.zw===aw.yE&&t.Ymt&&t.Ymt.DU.widevine&&"persistent"===t.Ymt.DU.widevine.licenseType?[4,r.Mie(t.Ymt)]:[3,2];case 1:c.sent(),kr(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.Lie(a,n,i));return[2,Pr(s)]}}))}))()},i.Lie=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:kr(i),e=t.sB.xct[0].lF,u=e+r.eie,s=[],o=!1,a=0,c=t.sB.xct,f.label=1;case 1:return a<c.length?(h=c[a]).lF>=u||r.stopIfFailed(o)?[3,5]:[4,r.Bie(i)]:[3,5];case 2:return f.sent(),[4,r.Oie.pie()];case 3:f.sent(),s.push(r.Oie.bie(r.Fie(h,t,n),r.Vie).catch((function(t){return o=!0,et.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,Pr(s)]}}))}))()},i.Bie=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.zm)?[4,n.Vie.Xb]:[3,2];case 1:throw i.sent(),new _r;case 2:return[2]}}))}))()},i.Wie=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.mo.catch(_i)];case 1:return n.sent(),[2,t.FPt]}}))}))()},i.Mie=function(t){return et.resolve()},i.Uie=function(){return Kn.aw("License renewal unsupported in this SDK."),et.resolve()},i.Fie=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:return e=r.Mxt.Lxt,u=YW(t.cie.Xu,t.cie.Kat),[4,e.Vb(u)];case 1:return(s=v.sent())?[4,q2(s,r.vTt.o,e,r.Yee)]:[3,3];case 2:return v.sent(),r.Gie(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.Zie(t.cie)];case 4:return o=v.sent(),a=r.Hie(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Mxt.Nxt(Pt((function(t){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.Lxt._Tt(c,r.Yee)];case 1:return n.sent(),[4,t.xct._Tt(h,r.Yee)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.Gie(c,!0),[3,7];case 6:throw f=v.sent(),new i2("Unable to store segment with url: "+t.cie.Xu,f);case 7:return[2]}}))}))()},i.Zie=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.rct.Zat(t,{Qat:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,RE:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.hct(i)];case 2:return[2,r.sent()]}}))}))()},i.hct=function(t){return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.Bk()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.Hie=function(t,n,i,r){var e=YW(t.cie.Xu,t.cie.Kat),u=t.lF,s=t.ct,o=this.Xie(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:zW(i),qualityId:n.o,byteSize:o,startsAndEnds:new FA([u,u+s]).cB,references:[this.vTt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:zW(i),data:r,references:[this.vTt.o]}}},i.Xie=function(t){return t.buffer.byteLength},i.Gie=function(t,n){var i=t.qualityId,r=this.Iie,e=r.jO;e.get(i).timeRanges=e.get(i).timeRanges.AB(new FA(t.startsAndEnds)).bB(5e-4),this.Eie=new $1(n?r.iie+t.byteSize:r.iie,e,this.eie)},i.stopIfFailed=function(t){return!1},Nt(n,[{key:"jee",get:function(){return this.RR()}},{key:"xie",get:function(){return this.kie}},{key:"Eie",get:function(){return this.Iie},set:function(t){this.Iie.IF(t)||(this.Iie=t,t.IF($1.aie)||this._o(new n2))}}]),n}(la);function q2(t,n,i,r){return J2.apply(this,arguments)}function J2(){return J2=Pt((function(t,n,i,r){return Ot(this,(function(e){switch(e.label){case 0:return tr(t.references,n)?[3,2]:(t.references.push(n),[4,i._Tt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),J2.apply(this,arguments)}function Q2(t,n){switch(t.zw){case aw.wE:return $2(t.Z,n.audioTrackSelection);case aw.Rk:return $2(t.Z,n.textTrackSelection);default:return $2(t.Z,[])}}function $2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function t3(t,n){if(!t.length)return[];var i=Kt(t).sort(nB),r=i.filter((function(t){return t.jG<=n}));return r.length>0?[r.pop()]:[i.shift()]}var n3=function(){function t(t,n,i){this.vTt=t,this.Mxt=n,this.FPt=i}var n=t.prototype;return n.zie=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.Mxt.Nxt(Pt((function(n){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.qie(n)];case 1:return i.sent(),[4,t.Yie(n)];case 2:return i.sent(),[4,t.Kie(n)];case 3:return i.sent(),[4,t.jie(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.qie=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return i=t.Oxt,r=n.vTt.o,[4,i.rT(r)];case 1:return e.sent(),[2]}}))}))()},n.Yie=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return i=t.Lxt,r=t.xct,vT(e=n.vTt.Cc.sources[0])?(u=zW(e.src),[4,i.xxt(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return tr(t.references,n.vTt.o)})),o=0,c.label=2;case 2:return o<s.length?(Ji((a=s[o]).references,n.vTt.o),0!==a.references.length?[3,5]:[4,i.rT(a.key)]):[3,8];case 3:return c.sent(),[4,r.rT(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i._Tt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.Kie=function(t){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return i=t.Bxt,r=n.Qie(),[4,i.mxt(r)];case 1:e=o.sent().filter((function(t){return tr(t.references,n.vTt.o)})),u=0,o.label=2;case 2:return u<e.length?(Ji((s=e[u]).references,n.vTt.o),0!==s.references.length?[3,4]:[4,i.rT(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i._Tt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.Qie=function(){if(!this.FPt)return[];var t=this.vTt.Cc.sources[0];if(!vT(t))return[];var n=zW(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Ipt;i<r.length;i++)for(var e=0,u=r[i].Kpt;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].VC;a<c.length;a++){var h=c[a];h.die&&n.push(h.die)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.FPt).map((function(t){return{src:t}})).map((function(t){return zW(t.src)}));return[n].concat(Kt(i))},n.jie=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,(i=t.Fxt).kxt()];case 1:r=s.sent().filter((function(t){return tr(t.references,n.vTt.o)})),e=0,s.label=2;case 2:return e<r.length?(Ji((u=r[e]).references,n.vTt.o),0!==u.references.length?[3,4]:[4,i.rT(u.key)]):[3,7];case 3:return s.sent(),n.Jie(u),[3,6];case 4:return[4,i._Tt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.Jie=function(t){},t}(),i3=function(){function t(){}return t.prototype.ist=function(t,n,i){return new n3(t,n,i)},t}(),r3=new i3;F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var e3=function(){function t(t,n){this.ux=t,this.ese=n}var n=t.prototype;return n.$ie=function(t){this.tse(t)},n.tse=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.ese.Uie(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.ux.aat(G1.ERROR),[3,3];case 3:return[2]}}))}))()},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{renew:function(n){t.$ie(n)}}}(this)),this.eu}}]),t}(),u3=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).cse=new mr,o.evictOnLoading=function(){o.vn("Qht",o.evictOnLoading),o.lse()},o.jS=n,o.Sc=i,o.ase=r,o.Mxt=e,o.ese=u.ist(o,o.Mxt,s),o.hse=new e3(o,o.ese),o.oat=1===o.ese.Eie.oie?G1.DONE:G1.IDLE,o.ese.bn("P3t",(function(t){o.Ds(t),1===o.nse&&o.aat(G1.DONE)}));var a=new Date,c=o.ase.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(c)&&g((function(){return o.lse()}),c),o}It(n,t);var i=n.prototype;return i.aat=function(t){this.oat!==t&&(this.oat=t,this._o(new Z1))},i.Sn=function(){this.oat===G1.EVICTED||this.oat===G1.DONE||this.use()},i.use=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.aat(G1.LOADING),n=new mr,t.cse=n,[4,t.ese.pi(n.ep)];case 1:return i.sent(),t.aat(G1.DONE),[3,4];case 2:return br(i.sent())?t.aat(G1.IDLE):t.aat(G1.ERROR),[3,4];case 3:return t.cse.Km(),[7];case 4:return[2]}}))}))()},i.PR=function(){this.cse.np()},i.rT=function(){this.Jk===G1.LOADING?(this.bn("Qht",this.evictOnLoading),this.PR()):this.lse()},i.lse=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.ese.Wie()];case 1:return n=i.sent(),[4,r3.ist(t,t.Mxt,n).zie()];case 2:return i.sent(),t.ese.Eie=$1.aie,t.aat(G1.EVICTED),[3,4];case 3:return i.sent(),t.aat(G1.ERROR),[3,4];case 4:return[2]}}))}))()},Nt(n,[{key:"jee",get:function(){return this.ese.jee}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get id(){return t.o},get status(){return t.Jk},get source(){return t.Cc},get parameters(){return t.AT},get duration(){return t.ct},get cached(){return t.ise.ks()},get secondsCached(){return t.sse},get percentageCached(){return t.nse},get bytes(){return t.rse},get bytesCached(){return t.ose},get license(){return t.IY.wa},start:function(){t.Sn()},pause:function(){t.PR()},remove:function(){t.rT()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new TR(t,["P3t","Qht"],i),i}(this)),this.eu}},{key:"o",get:function(){return this.jS}},{key:"IY",get:function(){return this.hse}},{key:"Jk",get:function(){return this.oat}},{key:"Cc",get:function(){return this.Sc}},{key:"AT",get:function(){return this.ase}},{key:"ct",get:function(){return this.ese.Eie.OB}},{key:"ise",get:function(){return this.ese.Eie.rie}},{key:"sse",get:function(){return this.ese.Eie.nie}},{key:"nse",get:function(){return this.ese.Eie.oie}},{key:"rse",get:function(){return this.ese.xie}},{key:"ose",get:function(){return this.ese.Eie.iie}}]),n}(wa);var s3=function(){function t(t,n){this.Mxt=t,this.dse=n}var n=t.prototype;return n.Jee=function(t,n,i){var r=uI();return this.zee(r,t,n,i)},n.zee=function(t,n,i,r){return new u3(t,n,i,this.Mxt,this.dse,r)},t}();F(),Tt();var o3=30,a3=5;function c3(t){if(!t)throw new p("Unexpected - The cache parameters are undefined");var n=function(t){if(ti(t)&&!Jo(t,"%"))return A(t);return t}(t.amount);!function(t){if(function(t){return ti(t)&&Jo(t,"%")}(t)){var n=T(t);if(S(n)||n<0||n>100)throw new p("The amount as percentage must be between 0 and 100 percent.")}if(!ti(t)&&S(t))throw new p("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+o3),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ri(t)&&t>new Date}(t))throw new p("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(S(t)||t<0)throw new p("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return a3;if(S(t))throw new p("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var h3=function(){function t(t,n,i,r){var e=this,u=this;this.pse=[],this._se=0,this.vse=0,this.ete=Pt((function(){var t;return Ot(this,(function(n){switch(n.label){case 0:return(t=u.H5t())?[4,u.pXt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.nte=function(){var t=e.pse.shift();null==t||t.rT()},this.yse=Pt((function(t,n){var i;return Ot(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.Ay("P3t")];case 2:return r.sent(),i=1===t.Eie.oie,[3,1];case 3:return n.ct<5&&u.ete(),[2]}}))})),this.rJ=t,this.WW=n,this.zT=new mr,this.dse=i,this.XH=r,this.Mxt=new zZ}var n=t.prototype;return n.H5t=function(){if(this.fse)for(var t=this.fse.D$t;this._se<t.length;){var n=t[this._se];for(void 0===this.gse&&(this.gse=m$(n),this.vse=0);this.vse<this.gse.length;){var i=this.gse[this.vse];if(this.vse++,void 0!==i.FYt)return i.FYt}this._se++,this.gse=void 0}},n.nr=function(){for(this.Tte=void 0,this.zT.np(),this.zT=new mr;this.pse.length;)this.nte()},n.wse=function(t){return new Q1(this.Mxt.Oxt,t,"temporary")},n.pXt=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:return(i=P1(t.rjt,n.rJ.ads.allowedMimeTypes)).length?[4,oS.Vm.EH(i,AE({sources:i}))]:[2];case 1:return(r=c.sent()).t._H()?(n.ese||(n.ese=new n.dse(n.WW)),e=n.Mxt,u=new s3(e,n.ese),s=n.wse(u),o=s.zee(AE({sources:r.Cc}),c3({amount:10,bandwidth:Mk.Vm.VG()||n.XH.oQ}),"temporary"),n.pse.push(o),a=n.ese.ist(o,e,"temporary"),n.zT.np(),n.zT=new mr,Er(a.pi(n.zT.ep),n.zT).then(_i),n.yse(a,t),[2]):[2]}}))}))()},Nt(t,[{key:"Tte",get:function(){return this.fse},set:function(t){this.fse=t,this._se=0,this.vse=0,this.gse=void 0}}]),t}();F(),Tt(),Rt(),F(),Tt(),Mt(),Rt(),Wt();var f3={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new FA([0,0]).cB,references:[]},v3={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},d3=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).bse=new aB(i),s.Mxt=r,s.Sse=e,s.Yee=u,s}It(n,t);var i=n.prototype;return i.Slt=function(n,i,r,e){var u=this;return Pt((function(){var s;return Ot(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Slt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Ar(o.sent()),[3,3];case 3:return[4,u.bse.Slt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Ase(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Ase=function(t,i,r){var e=this;return Pt((function(){var u,s,o,a,c,h,f,v;return Ot(this,(function(d){switch(d.label){case 0:return void 0===e.Sse?[2]:(u=e.Mxt.Lxt,s=YW(t,i),[4,u.Vb(s)]);case 1:return(o=d.sent())?[4,q2(o,e.Sse,u,e.Yee)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),a={buffer:r},c=n.Hie(s,a,e.Sse),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Mxt.Nxt(Pt((function(t){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.Lxt._Tt(h,e.Yee)];case 1:return n.sent(),[4,t.xct._Tt(f,e.Yee)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=d.sent(),new i2("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.Hie=function(t,n,i){return{segmentMetadataEntry:ao({},f3,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ao({},v3,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(cB);var l3=function(){function t(t){this.WW=t}return t.prototype.ist=function(t,n,i){void 0===i&&(i="persistent");var r=t.Cc.sources[0];if(aT(r))throw new p("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new vO(this.WW,kl.oE),s=new HW(this.WW,e),o=new OZ(n.Bxt,n.Lxt,n.xct,n.Fxt),a=function(t,n,i,r,e){return new d3(n,t,i,r,e)}(this.WW,o,n,t.o,i),c=new HZ,h=new QW(JW(s,o),c,t);return this.Tse(t,n,h,c,u,a,i)},t}(),g3=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Tse=function(t,n,i,r,e,u,s){return new K2(t,n,i,r,e,u,s,DM())},n}(l3),w3=g3,m3=function(t){function n(n,i,r,e,u,s){var o,a;o=t.call(this,n,i)||this,a=o,o.Pse=[],o.Cse=0,o.jse=[],o.Fse=!1,o.k8=!1,o.Nse=!0,o.Lse=!1,o.kse=[],o.$se=function(t){t.type===ya.ho&&o.Nse?o.Nse=!1:o._o(t)},o.Ise=function(){o.k8=!0},o.tne=Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return a.Cse=1,[4,a.Ese.zte()];case 1:return t.sent(),[2,a.iee(a.Zse.Ic())]}}))})),o.ene=Pt((function(t){var n;return Ot(this,(function(i){switch(i.label){case 0:return n=new lQ(gQ.PLAYBACK,wQ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.z2t._o(f0.Q2t(n,t)),[4,a.Ese.zte()];case 1:return i.sent(),[2,a.iee(a.Zse.Ic())]}}))})),o.ine=function(){return o.vee.zte(),o.iee(o.Zse.Ic())},o.sne=function(t){var n=new lQ(gQ.PLAYBACK,wQ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.z2t._o(f0.Q2t(n,t)),o.vee.zte(),o.iee(o.Zse.Ic())},o.WW=s,o.Wte=r,o.vee=new U1(o.sne,o.ine,o),o.Ese=new V1(o.ene,o.tne,o.vee,e,o,n.Hu,r),o.Qse(o.vee.kte),o.Qse(o.Ese.kte);var c=new h3(e,s,g3,u);return o.Rse=new R1(o.na,o,o.z2t,c),o.Ese._y(o.$se),o.vee._y(o.Ds),o.z2t.ru(o.Ese.z2t),o.z2t.ru(o.vee.z2t),o.z2t.ru(o.Rse),o.Jse=new _$(o,o.na),o.Hu.bn(TI.mn,o.Ds),o.na.bn(ya.ho,o.Ise),o}It(n,t);var i=n.prototype;return i.o7t=function(t,n,i){n===zL.Unt&&this.k8?xr(this.G5t([t])):this.kse.push(t)},i.CI=function(){return this.Ese.Fte?this.Ese.RI:this.dnt()},i.DI=function(t,n){},i.jd=function(){return this.Ese.ct},i.LI=function(){return this.Ese.MI},i.BI=function(){},i.FI=function(){},i.YI=function(){return this.Ese.qI},i.KI=function(t){this.qI!==t&&(this.Ese.qI=t,this._o(new NT(this.RI,this.yR)))},i.$I=function(){return this.Ese.JI},i.uR=function(){return this.Ese.aR},i.lR=function(){return FA.WB().ks()},i.gR=function(){return this.Ese.vR},i.wR=function(){return this.Ese.pR},i.bR=function(){return this.Ese.yR},i.AR=function(t){this.yR!==t&&(this.Ese.yR=t,this._o(new NT(this.RI,this.yR)))},i.DR=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.xse?[2]:(t._o(new TT(t.RI)),t.Ise(),t.kse.length?(t.xse=t.G5t(t.kse),[4,t.xse]):[3,2]);case 1:i.sent(),t.xse=void 0,i.label=2;case 2:return[4,t.Rse.fte(t.na.CI())];case 3:return i.sent(),4!==(n=t.Cse)&&1!==n&&5!==n||(!t.i0t&&t.Pse.length?t.Dse():t.i0t?(t.Nse=!0,t.Ese.DR()):(t.d2t(),t.na.DR()),t.Cse=3),[2]}}))}))()},i.PR=function(){3===this.Cse&&(this.Ese.PR(),this.Cse=4)},i.tte=function(){this.Rse.tte()},i.Sn=function(){this.Cse=1,this.Rse.Sn()},i.NR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Rse&&(t.Rse.Tn(),t.Mse(!1),t.vee.NR(),t.Cse=5,t.i0t&&(t.Rse.Ste(t.i0t.yQt),t.i0t=void 0)),t.k8=!1,t.Nse=!1,ir(t.Pse),t.i3t&&(t.d2t(),t.na.ge()),ir(t.kse),[4,t.Ese.NR()];case 1:return n.sent(),[4,t.Wte.nr()];case 2:return n.sent(),[2]}}))}))()},i.zD=function(){this.Ese.IJt(),this.vee.IJt()},i.Ynt=function(t){this.kd.ads.allowSkipAdBreak&&(this.Lse=!0,this.Bse=t,this.zD())},i.RR=function(){this.Wte.RR(),this.Ise()},i.K2t=function(t){return!(t.type!==ya.Ly||!this.Rse||!this.Rse.ute(-1))&&(this.Rse.hte().then(_i),!0)},i.ge=function(){void 0!==this.Ese.Ute&&(this.Wte.ge(),this.Ese.ge()),void 0!==this.vee.yee&&this.vee.ge()},i.be=function(){this.Wte.be(),this.Ese.be(),this.vee.be()},i.G5t=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return[4,W1.Mee(t,n.WW,n.z2t)];case 1:return i=tn.apply(void 0,[u.sent(),2]),r=i[0],e=i[1],r.length?(n.Rse.bte(r),n.z2t._o(new dM),n.i3t||n.na.JI?[3,3]:[4,n.Rse.fte(n.na.CI())]):((0===e.length||e.some((function(t){return t!==wQ.VAST_EMPTY_RESPONSE&&t!==wQ.VAST_NO_ADS_AFTER_WRAPPER})))&&("Ads could not be loaded.",n.z2t._o(f0.Q2t(new lQ(gQ.ADBLOCK,wQ.FILE_NOT_FOUND),"Ads could not be loaded."))),n.k8&&!n.i0t&&0===n.Pse.length&&n.Ose(),[2]);case 2:u.sent(),u.label=3;case 3:return 0!==n.Cse&&5!==n.Cse||n.Sn(),[2]}}))}))()},i.pte=function(t){for(var n=0;n<t.length;n++){var i=t[n];tr(this.Pse,i)||this.Pse.push(i)}for(var r=0;r<t.length;r++){t[r];this.k8&&!this.i3t&&this.Dse()}},i.Dse=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return 2===t.Cse?[2]:t.Fse?[3,4]:(t.Fse=!0,t.Cse=2,n=t.i0t,t.Vse(),t.i0t?[4,t.i0t.yQt.j7t(t.z2t)]:[3,3]);case 1:return i.sent(),t.Wse()||(t.Fse=!1),t.z2t._o(new R0(t.Use(t.i0t))),[4,t.Gse()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.yQt.Q7t())&&t.z2t._o(new uM(t.Use(n))),t.Fse=!1,t.Cse=1,t.Ose(),i.label=4;case 4:return[2]}}))}))()},i.Ose=function(){this.d2t(),this.na.ge(),this.na.MI?this.na._o(new IT(this.na.CI())):this.na.DR()},i.Vse=function(){var t;if(this.i0t&&this.Wse())t=this.i0t.yQt;else{if(0===this.Pse.length)return;t=this.Pse.shift()}if(t){var n=t.Ic();n?this.i0t=n:(this.i0t&&(this.Rse.Ste(this.i0t.yQt),this.i0t=void 0),this.i0t=void 0)}},i.Gse=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return n=t.i0t?function(t){var n,i,r=null==(i=t.YQt)||null==(n=i.AYt)?void 0:n.SYt();return void 0===r?void 0:new w$(r)}(t.i0t):void 0,n?t.i0t?(t.Zse=n,t.Hse(t.i0t.XYt),t.Xse(QJ.Gjt),i=t.Zse.Ic(),t.i0t.yQt.Q7t()&&(t.vee.zte(),1===t.i0t.yQt.Mut&&t.z2t._o(new oM(t.Use(t.i0t)))),[4,t.iee(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Cse=1,t.Fse=!1,t.i0t=void 0,t.Dse(),r.label=3;case 3:return[2]}}))}))()},i.iee=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w;return Ot(this,(function(m){switch(m.label){case 0:return t?(r=Yn(t.FYt),e=Yn(t.UYt),s=null!=(u=null==(i=t.WYt)?void 0:i.lKt)?u:[],o=s.length>0,a=n.i0t,c=n.Use(a),t.FYt?(t.FYt.sd=a,void 0!==a.urt.skipOffset&&void 0!==(h=SQ.XQt(a.urt.skipOffset,t.FYt.ct))&&h<t.FYt.ct&&(t.FYt.ajt=h),f=c.N$t(t.FYt,s,t.GYt,a.urt),n.vee.zte(),n.v4t(),[4,n.Ese.iee(f,t.lt,{width:n.na.we.offsetWidth,height:n.na.we.offsetHeight})]):[3,2]):[3,7];case 1:m.sent(),r=!0,m.label=2;case 2:return t.UYt?((v=t.UYt.ZYt[0]).sd=a,void 0!==a.urt.skipOffset&&(d=SQ.XQt(a.urt.skipOffset,n.na.jd()))&&(v.sd.ajt=d),l=r?[]:s,g=c.M$t(v,l,t.UYt,t.GYt,a.urt),r&&n.Ese.mee(),[4,n.vee.iee(g,t.lt,{width:n.na.we.offsetWidth,height:n.na.we.offsetHeight})]):[3,4];case 3:m.sent(),e=!0,m.label=4;case 4:return r&&(n.Cse=3,n.Ese.ge(),w=0===c.LOt,n.Nse=w,n.Wte.PR(),n.Ese.DR(),n.na.PR(),n.na.be(),n.v4t(),n.Ese.lee()),e&&(n.Cse=3,n.vee.ge(),n.vee.lee()),(r||e||o)&&n.zse(t.LYt),r||e?[3,6]:[4,n.qse()];case 5:m.sent(),m.label=6;case 6:return!r&&e&&(n.Wse()||n.Pse.length>0?n.Dse():(n.Ose(),n.i0t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n.qse()];case 8:return m.sent(),[3,10];case 9:n.Mse(!0),m.label=10;case 10:return[2]}}))}))()},i.qse=function(){var t=this.Zse;return this.iee(t&&t.Ic())},i.Mse=function(t){this.Xse(QJ.Zjt),this.Yse(),this.Cse=1;var n=void 0!==this.i0t&&this.i0t.yQt.Y7t();if(this.Fse=!1,!n||this.Lse){if(!this.i3t)return;this.na.ge(),!this.na.MI&&t&&this.na.DR(),void 0!==this.Bse&&this.na.DI(this.Bse),this.d2t(),this.Lse=!1,this.Bse=void 0}else t&&(this.Cse=1,this.Dse())},i.d2t=function(){this.Kse(),t.prototype.d2t.call(this)},i.Kse=function(){if(this.na.MI&&(this.Cse=5),this.i0t){var t=this.i0t.yQt;t.Q7t()&&this.z2t._o(new uM(this.Use(this.i0t))),this.Rse.Ste(t),this.i0t=void 0}},i.Hse=function(t){this.jse=this.jse.concat(t)},i.Yse=function(){this.jse=[]},i.Qse=function(t){this.na.we.appendChild(t)},i.Xse=function(t){for(var n=0,i=this.jse;n<i.length;n++){var r=i[n];r.pz===t&&AJ(r.eventURL)}},i.zse=function(t){this.Ese.Nte(QJ.Ljt);for(var n=0;n<t.length;n++){var i=t[n];AJ(i)}},i.jnt=function(t){for(var n=this.a7t(),i=0;i<n.length;i++){var r=n[i];IJ(r.sources,r.timeOffset)||t.K6(r,zL.Unt,!1)}},i.a7t=function(){for(var t,n=[],i=0,r=this.Znt.concat(this.znt);i<r.length;i++){var e=r[i];n.push(e.urt)}for(var u=this.Pse.concat(this.Rse.znt.filter((function(t){return!t.F$t()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].D$t;o<a.length;o++){var c=a[o];c.W||n.push(c.urt)}return(t=n).push.apply(t,Kt(this.kse)),cr(n)},i.Wse=function(){return!!this.i0t&&m$(this.i0t).some((function(t){return t.FYt}))},i.Use=function(t){return t.yQt.G7t},i.Nee=function(){return this.Jse},i.IR=function(){return this.Wte.IR()},i.AI=function(){return this.Wte.AI()},i.o3t=function(t){this.Rse.o3t(t)},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.na.vn(ya.ho,n.Ise),n.z2t.qK(n.Ese.z2t),n.z2t.qK(n.vee.z2t),n.z2t.qK(n.Rse),n.Ese.yn(),n.vee.yn(),[4,n.Wte.yn()];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"H2t",get:function(){return this}},{key:"G2t",get:function(){return n.G2t}},{key:"Xnt",get:function(){return this.i0t?this.Use(this.i0t):null}},{key:"Znt",get:function(){return this.i0t?[this.Ese.Ute,this.vee.yee].filter(Yn):[]}},{key:"znt",get:function(){var t=this.Pse.concat(this.Rse.znt.filter((function(t){return!t.F$t()})));return er(t,(function(t){return t.G7t.zc.filter((function(t){return!t.F$t()}))}))}},{key:"qnt",get:function(){return this.Rse.znt.map((function(t){return t.G7t}))}}],[{key:"G2t",get:function(){return I$.j$t}}]),n}(U0),y3=function(){function t(){}var n=t.prototype;return n.sX=function(t){return t&&("string"!=typeof t.integration||t.integration===LS.DEFAULT||t.integration===LS.CSAI||t.integration===LS.THEO)},n.V2t=function(t,n,i){var r=new AL(t.ant,t.Wl);r.Mst(t.we);var e=new pS(t.we,i,t.mI,t.snt,t.SR,r,t.Wl);return new m3(t,n,e,i,t.snt,t.mI)},n.K6=function(t,n,i,r){i.o7t(t,n,r)},n.Aq=function(t){var n=BQ(t.sources);if(n){var i={integration:LS.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&tu("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=FQ(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=FQ(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},Nt(t,[{key:"F2t",get:function(){return m3.G2t}}]),t}();MS.Vm.nX(new y3),F(),Tt(),F(),Tt(),Dt();var p3=function(){function t(t,n){this.k7t=void 0,this.g9=!1,this.Tit=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",wi(i),i.style.zIndex="10",Gn.Qs&&function(t,n){t.addEventListener(n,di)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.rne=r,i.appendChild(r),this.r1t=i,this.k7t=new google.ima.AdDisplayContainer(this.rne,this.Tit)}var n=t.prototype;return n.nQ=function(){var t;this.g9||(null==(t=this.k7t)||t.initialize(),this.g9=!0)},n.une=function(t){"linear"===t?this.r1t.style.marginTop="0px":"nonlinear"===t&&(this.r1t.style.marginTop="-45px")},n.ge=function(){this.r1t.style.opacity="1",this.r1t.style.pointerEvents=""},n.be=function(){this.r1t.style.opacity="0",this.r1t.style.pointerEvents="none"},n.Km=function(){var t;null==(t=this.k7t)||t.destroy(),this.k7t=void 0},Nt(t,[{key:"kte",get:function(){return this.r1t}},{key:"nne",get:function(){return this.rne.offsetHeight}},{key:"hne",get:function(){return this.rne.offsetWidth}},{key:"ane",get:function(){return this.k7t}}]),t}();F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Rt(),F(),Tt(),Dt();var _3=function(){function t(t){this.cne=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.dKt=t.getCompanionAds(0,0,n)}return Nt(t,[{key:"jKt",get:function(){return this.cne.getAdId()}},{key:"Q9t",get:function(){var t=this.cne.getAdPodInfo();if(void 0!==t)try{return{d9t:t.getAdPosition(),I$t:t.getMaxDuration(),lne:t.getPodIndex(),LOt:t.getTimeOffset(),f9t:t.getTotalAds(),dne:t.getIsBumper()}}catch(t){return}}},{key:"PYt",get:function(){return this.cne.getAdSystem()}},{key:"fne",get:function(){return this.cne.getAdvertiserName()}},{key:"bKt",get:function(){var t;return null!=(t=this.cne.getApiFramework())?t:void 0}},{key:"WYt",get:function(){return this.dKt.map((function(t){return{SKt:t.getAdSlotId(),Fk:t.getContentType(),I3t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Fk",get:function(){var t;return null!=(t=this.cne.getContentType())?t:void 0}},{key:"iKt",get:function(){return this.cne.getCreativeId()}},{key:"W8t",get:function(){return this.cne.getCreativeAdId()}},{key:"_ne",get:function(){return this.cne.getDealId()}},{key:"QN",get:function(){return this.cne.getDescription()}},{key:"ct",get:function(){return this.cne.getDuration()}},{key:"ji",get:function(){return this.cne.getWidth()}},{key:"Ti",get:function(){return this.cne.getHeight()}},{key:"ljt",get:function(){var t;return null!=(t=this.cne.getMediaUrl())?t:void 0}},{key:"vne",get:function(){return this.cne.getMinSuggestedDuration()}},{key:"F8t",get:function(){return this.cne.getSkipTimeOffset()}},{key:"gne",get:function(){return this.cne.getSurveyUrl()}},{key:"NZ",get:function(){return this.cne.getTitle()}},{key:"B8t",get:function(){return this.cne.getTraffickingParameters()}},{key:"O8t",get:function(){return this.cne.getTraffickingParametersString()}},{key:"GYt",get:function(){return this.cne.getUniversalAdIds().map((function(t){return{U8t:t.getAdIdRegistry(),G8t:t.getAdIdValue()}}))}},{key:"D7t",get:function(){return this.cne.getUiElements()}},{key:"V8t",get:function(){return this.cne.getVastMediaBitrate()}},{key:"M8t",get:function(){return this.cne.getVastMediaHeight()}},{key:"N8t",get:function(){return this.cne.getVastMediaWidth()}},{key:"R8t",get:function(){return this.cne.getWrapperAdIds()}},{key:"C8t",get:function(){return this.cne.getWrapperAdSystems()}},{key:"P8t",get:function(){return this.cne.getWrapperCreativeIds()}},{key:"Z9t",get:function(){return this.cne.isLinear()}}]),t}();function b3(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var k3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Oc=[],e.pne=function(t){t.getAd().isLinear()?e.k7t.une("linear"):e.k7t.une("nonlinear")},e.mne=function(){e.P$t.resize(e.k7t.hne,e.k7t.nne,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(un(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,Y0.Q5t),un(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Y0.J5t),un(n,google.ima.AdEvent.Type.CLICK,Y0.$5t),un(n,google.ima.AdEvent.Type.DURATION_CHANGE,Y0.Dy),un(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,Y0.t6t),un(n,google.ima.AdEvent.Type.STARTED,Y0.e6t),un(n,google.ima.AdEvent.Type.IMPRESSION,Y0.i6t),un(n,google.ima.AdEvent.Type.PAUSED,Y0.rX),un(n,google.ima.AdEvent.Type.RESUMED,Y0.s6t),un(n,google.ima.AdEvent.Type.AD_PROGRESS,Y0.n6t),un(n,google.ima.AdEvent.Type.AD_BUFFERING,Y0.r6t),un(n,google.ima.AdEvent.Type.FIRST_QUARTILE,Y0.o6t),un(n,google.ima.AdEvent.Type.MIDPOINT,Y0.Rjt),un(n,google.ima.AdEvent.Type.THIRD_QUARTILE,Y0.h6t),un(n,google.ima.AdEvent.Type.COMPLETE,Y0.Cjt),un(n,google.ima.AdEvent.Type.USER_CLOSE,Y0.a6t),un(n,google.ima.AdEvent.Type.LINEAR_CHANGED,Y0.u6t),un(n,google.ima.AdEvent.Type.LOADED,Y0.c6t),un(n,google.ima.AdEvent.Type.AD_CAN_PLAY,Y0.l6t),un(n,google.ima.AdEvent.Type.AD_METADATA,Y0.d6t),un(n,google.ima.AdEvent.Type.AD_BREAK_READY,Y0.f6t),un(n,google.ima.AdEvent.Type.INTERACTION,Y0._6t),un(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,Y0.v6t),un(n,google.ima.AdEvent.Type.SKIPPED,Y0.g6t),un(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,Y0.m6t),un(n,google.ima.AdEvent.Type.LOG,Y0.p6t),un(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,Y0.w6t),un(n,google.ima.AdEvent.Type.VOLUME_CHANGED,Y0.y6t),un(n,google.ima.AdEvent.Type.VOLUME_MUTED,Y0.b6t),n)[t]}(t.type),r={type:i,date:new Date,trt:n?e.wne(n):void 0,M9t:J0(i,t.getAdData())};e._o(r)},e.forwardAdErrorEventListener=function(t){e._o({date:new Date,trt:void 0,type:j0.A6t,M9t:{v8t:t1(t.getError())}})},e.P$t=n,e.k7t=i,e.Ku=r,e.Ku.bn(TI.mn,e.mne),e.P$t.init(e.k7t.hne,e.k7t.nne,google.ima.ViewMode.NORMAL),e.P$t.addEventListener(google.ima.AdEvent.Type.LOADED,e.pne),e.P$t.addEventListener(b3(),e.forwardAdEventListener),e.P$t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}It(n,t);var i=n.prototype;return i.AR=function(t){var n;null==(n=this.P$t)||n.setVolume(t)},i.bR=function(){return this.P$t.getVolume()},i.d8t=function(){return this.P$t.getRemainingTime()},i.Km=function(){ir(this.Oc),this.Ku.vn(TI.mn,this.mne),this.P$t.removeEventListener(google.ima.AdEvent.Type.LOADED,this.pne),this.P$t.removeEventListener(b3(),this.forwardAdEventListener),this.P$t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.P$t.destroy()},i.Sn=function(){this.P$t.start()},i.b7t=function(){this.P$t.resume()},i.PR=function(){this.P$t.pause()},i.zD=function(){this.P$t.skip()},i.NR=function(){this.P$t.stop()},i.Y9t=function(){var t=this.P$t.getCurrentAd();if(t)return this.wne(t)},i.x7t=function(){return this.P$t.getCuePoints()},i.wne=function(t){var n=Hi(this.Oc,(function(n){return n.cne===t}));return n||(n=new _3(t),this.Oc.push(n)),n},i.B7t=function(t){this.P$t.updateAdsRenderingSettings(E3(t))},n}(la);F(),Tt(),Dt(),Rt();var A3=function(t){function n(n,i){var r;return(r=t.call(this,"V7t")||this).bne=n,r.r1t=i,r}return It(n,t),n.prototype.ka=function(){return new T3(this.bne)},Nt(n,[{key:"yne",get:function(){return this.bne}},{key:"kte",get:function(){return this.r1t}}]),n}(Ig),T3=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).bne=n,i}return It(n,t),Nt(n,[{key:"adsManager",get:function(){return this.bne}}]),n}(ma),S3=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Tne&&r.kne&&r.Ane){var n,i=E3(r.kne),e=r.Tne,u=t.getAdsManager({get currentTime(){return e.RI},get duration(){return e.ct}},i),s=new k3(u,r.Sne,r.Ku);r._o(new A3(u,r.Sne.kte)),null==(n=r.Ane)||n.Zb(s),r.Ane=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={Tb:t.getError().getMessage(),_9t:t.getError().getVastErrorCode(),hQt:t.getError().getErrorCode(),zw:Q0(t.getError().getType()),v9t:void 0};null==(n=r.Ane)||n.Hb(i),r.Ane=void 0},r.Ku=i,r.Sne=n,r}It(n,t);var i=n.prototype;return i.A7t=function(){var t;null==(t=this.S7t)||t.contentComplete()},i.G5t=function(t,n,i){var r=this;return Pt((function(){var e;return Ot(this,(function(u){if(r.Ane)throw new p("Only one ImaAdsRequest can be made at a time.");if(!r.Sne.ane)throw new p("AdDisplayContainer is not initialized.");return r.S7t=new google.ima.AdsLoader(r.Sne.ane),r.S7t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.S7t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Ane=new ih,r.Tne=n,r.kne=i,e=new google.ima.AdsRequest,t.i5t?e.adTagUrl=t.i5t:t.s5t&&(e.adsResponse=t.s5t),e.linearAdSlotWidth=t.j4t,e.linearAdSlotHeight=t.Q4t,e.nonLinearAdSlotWidth=t.J4t,e.nonLinearAdSlotHeight=t.$4t,e.contentDuration=t.r5t,e.setAdWillAutoPlay(t.t5t),e.setAdWillPlayMuted(t.e5t),t.n5t&&(e.omidAccessModeRules=t.n5t),r.S7t.requestAds(e),[2,r.Ane.Xb]}))}))()},i.Km=function(){var t;void 0!==this.S7t&&(this.S7t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.S7t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.S7t.destroy(),this.S7t=void 0),null==(t=this.Ane)||t.Hb("AdsLoader destroyed"),this.Ane=void 0},n}(la);function E3(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.N7t,t.D7t&&(n.uiElements=t.D7t),n.mimeTypes=t.P7t,void 0!==t.L7t&&(n.playAdsAfterTime=t.L7t),void 0!==t.M7t&&(n.loadVideoTimeout=t.M7t),void 0!==t.L8t&&(n.bitrate=t.L8t),void 0!==t.L7t&&(n.playAdsAfterTime=t.L7t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}F(),Tt(),Dt(),Rt();var I3=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i.Ene=i.na.CI(),i.na.bn(ya._b,(function(){i.na.dR||(i.Ene=i.na.CI()),i._o(new Eg(i.RI,void 0))})),i}return It(n,t),n.prototype.nr=function(){this.Ene=0},Nt(n,[{key:"RI",get:function(){return this.na.dR?this.Ene:this.na.CI()}},{key:"ct",get:function(){return this.na.jd()}},{key:"qI",get:function(){return this.na.qI}},{key:"yR",get:function(){return this.na.yR}}]),n}(la);b1.Vm.registerWebImaAdPlayerConstructor((function(t,n,i){y1(i);var r=p1(i)?t.IR():void 0,e=new p3(r,t.we),u=new S3(e,t.Hu),s=new I3(t);return new _1(t,n,i,t.rnt,e,u,s)})),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt();var R3=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).Fne=!0,e.ynt=n,e.a4t=i,e}It(n,t);var i=n.prototype;return i.pr=function(t,n,i,r,e){(e||!r.JI||r.MI)&&this.na.DR()},i.DI=function(t,n){},i.xI=function(t){},i.Ine=function(n,i){var r=n-this.a4t.Rne;return t.prototype.DI.call(this,r,i)},i.Cne=function(n){return t.prototype.xI.call(this,n)},i.II=function(){return this.ynt.bt},i.iu=function(){return this.ynt.iu()},i.jd=function(){return this.ynt.jd()},i.lR=function(){var t=FA.Cn(this.ynt.lR()).Pb(this.a4t.Rne);if(this.Pne())return t.ks();var n=FA.Cn(this.a4t.lR()),i=n;return c5(this.ynt)||(i=t.AB(n)),(i=i.jn(FA.VB(0,this.CI()))).ks()},i.CI=function(){return this.Dne(t.prototype.CI.call(this))},i.Dne=function(t){return this.a4t.Nne?this.a4t.Nne:this.na===this.a4t?this.a4t.Mne+t:this.a4t.Rne+t},i.EI=function(){return this.Lne(t.prototype.CI.call(this))},i.Lne=function(t){return this.a4t.Bne?this.a4t.Bne:this.na===this.a4t&&this.a4t.One?new Date(this.a4t.One.getTime()+1e3*t):this.ynt.kI},i.TI=function(){var t=FA.Cn(this.ynt.TI()).Pb(this.a4t.Rne);if(this.Pne())return t.ks();var n=FA.Cn(this.a4t.TI());return t.Tn(t.V-1)<n.Sn(0)?n.ks():t.AB(n).ks()},i.GR=function(n){switch(n.type){case ya._b:return this._o(new Eg(this.Dne(n.currentTime),n.currentProgramDateTime)),!0;case ya.jy:return this._o(new oC(this.Dne(n.currentTime))),!0;case ya.ho:return this._o(new TT(this.Dne(n.currentTime))),!0;case ya.Ky:return this._o(new AT(this.Dne(n.currentTime))),!0;case ya.Ly:return this._o(new IT(this.Dne(n.currentTime))),!0;case ya.ib:return this._o(new RT(this.Dne(n.currentTime))),!0;case ya.eb:return this._o(new CT(this.Dne(n.currentTime))),!0;case ya.Qy:return this._o(new ET(this.Dne(n.currentTime),n.playbackRate)),!0;case ya.vb:return this.Fne?(this._o(new NT(this.Dne(n.currentTime),n.volume)),!0):(this.Fne=!0,!0);case ya.Ny:return this._o(new kT(this.Dne(n.currentTime),n.readyState)),!0;case Np.nB:return this._o(new Bp(this.Dne(n.currentTime),n.readyState)),!0;case Np.rB:return this._o(new Vp(this.Dne(n.currentTime),n.readyState)),!0;case Np.oB:return this._o(new Mp(this.Dne(n.currentTime),n.readyState)),!0;case Np.hB:return this._o(new Lp(this.Dne(n.currentTime),n.readyState)),!0;case Np.aC:return this._o(new xp(this.Dne(n.currentTime),n.readyState)),!0;case Np.aB:return this._o(new Op(this.Dne(n.currentTime))),!0;case Np.uB:return this._o(new Fp(this.Dne(n.currentTime))),!0;case ya.My:return this._o(new PW(this.Dne(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.GR.call(this,n)},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},Nt(n,[{key:"xne",get:function(){return this.na===this.ynt?this.a4t:this.ynt}}]),n}(Qk);function C3(t,n){n.qI=t.qI,n.yR=t.yR,n.tR=t.tR}F(),Tt(),Rt();var N3=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}It(n,t);var i=n.prototype;return i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.xne.PR(),this.Vne(i,r).style.display="block"},i.dr=function(t,n,i){this.Vne(n,i).style.display="none"},n}(R3),D3=function(t){function n(n,i){return t.call(this,n,i,n)||this}It(n,t);var i=n.prototype;return i.Pne=function(){return!0},i.Vne=function(t,n){return t},i.Wne=function(t,n){return n},i.DI=function(n,i){return t.prototype.Ine.call(this,n,i)},i.xI=function(n){return t.prototype.Cne.call(this,n)},n}(N3),x3=function(t){function n(n,i){return t.call(this,n,i,i)||this}It(n,t);var i=n.prototype;return i.Pne=function(){return!1},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Fne=!1,this.na.Une(),i.style.display="block"},i.dr=function(t,n,i){this.na.Gne(),n.style.display="none"},i.jd=function(){return this.na.jd()},n}(R3),P3=function(t){function n(n,i){return t.call(this,n,i,i)||this}It(n,t);var i=n.prototype;return i.Pne=function(){return!1},i.Vne=function(t,n){return n},i.Wne=function(t,n){return t},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u);for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=""}},i.dr=function(n,i,r){t.prototype.dr.call(this,n,i,r)},n}(N3);function L3(t){return t instanceof x3}F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var M3=function(t){function n(n){var i;return(i=t.call(this,"Zne")||this).interstitial=n,i}return It(n,t),n.prototype.ka=function(){return new O3(this.interstitial.Hnt())},n}(Ig),O3=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=n,i}return It(n,t),n}(ma),B3=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),V3=function(t){function n(n){var i;return(i=t.call(this)||this).qne=0,i.sR=!1,i.o=n.o,i.lF=n.lF,i.TF=n.dF,i.OFt=n.JBt,i.FA=n.ct,i.Xne=n.Yne,i.svt=n.svt,i.Qne=n.Qne,i.jne(),i}It(n,t);var i=n.prototype;return i.zne=function(t){if(this.ct){var n=(t-(this.lF+this.qne))/this.ct;n<this.P3t||(this.D3t=k.min(n,1),1===this.D3t&&(this.sR=!0))}},i.ir=function(t){var n,i,r,e;this.FA=null!=(n=t.ct)?n:this.FA,this.TF=null!=(i=t.dF)?i:this.TF,this.Xne=null!=(r=t.Yne)?r:this.Xne,this.qne=null!=(e=t.Kne)?e:this.qne,this.jne(),this._o(new M3(this))},i.jne=function(){void 0===this.FA&&void 0!==this.TF?this.FA=this.TF-this.lF:void 0===this.TF&&void 0!==this.FA&&(this.TF=this.lF+this.FA)},Nt(n,[{key:"Hne",get:function(){var t,n,i=null!=(n=null!=(t=this.Xne)?t:this.FA)?n:this.OFt;return void 0!==i?this.lF+i:this.TF?this.TF:void 0}},{key:"ct",get:function(){var t=this.Hne;return void 0===t?void 0:t-this.lF}},{key:"P3t",get:function(){var t;return null!=(t=this.D3t)?t:0}}]),n}(la);F(),Tt(),Rt();var F3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).Jne=void 0,e.tre=function(t){var n=t.target;n.removeEventListener("transitionend",e.tre),n.style.transform="",n.style.transition="",n.style.transformOrigin=""},e.ere=function(t){var n=t.target;n.removeEventListener("transitionend",e.ere),n.style.display="none",n.style.width="100%",n.style.right="",n.style.transition="",n.style.transform="",n.style.transformOrigin=""},e.$ne=r,e}It(n,t);var i=n.prototype;return i.Pne=function(){return!0},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),C3(this.na,this.xne),this.xne.qI=!0,this.Jne=this.ynt.nt.mC.filter((function(t){return t.LE===qy.Qn}));for(var s=0,o=this.Jne;s<o.length;s++){o[s].LE=qy.Mh}n.style.backgroundImage="url('"+this.$ne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",i.style.display="block",i.style.width="45%",i.style.transform="scale("+100/45+")",i.style.transformOrigin="left center",r.style.right="0",r.style.display="block",r.style.width="45%",r.style.transformOrigin="right center",r.style.transform="scale(0)",r.getBoundingClientRect(),r.style.transition="transform 1s ease-in-out",r.style.transform="scale(1) translateX(-"+2.5/45*100+"%)",i.style.transition="transform 1s ease-in-out",i.style.transform="scale(1) translateX("+2.5/45*100+"%)"},i.dr=function(t,n,i){var r;n.style.width="100%",n.style.transform="scale(0.45) translateX("+2.5/45*100+"%)",n.style.transformOrigin="left center",n.style.transition="",n.getBoundingClientRect(),n.style.transform="",n.style.transition="transform 1s ease-in-out",n.addEventListener("transitionend",this.tre),i.style.transform="scale(0)",i.addEventListener("transitionend",this.ere);for(var e=0,u=null!=(r=this.Jne)?r:[];e<u.length;e++){u[e].LE=qy.Qn}this.Jne=void 0},i.BI=function(){return this.ynt.BI()||this.a4t.BI()},i.FI=function(){return this.ynt.FI()||this.a4t.FI()},i.uR=function(){return k.min(this.ynt.aR,this.a4t.aR)},i.DR=function(){this.ynt.DR(),this.a4t.DR()},i.PR=function(){this.ynt.PR(),this.a4t.PR()},n}(R3);F(),Tt(),Rt();var U3=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).ire=function(t){var n=t.target;n.removeEventListener("transitionend",u.ire),n.style.transition=""},u.$ne=e,u}It(n,t);var i=n.prototype;return i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),n.style.backgroundImage="url('"+this.$ne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.xne.PR();var s=this.Vne(i,r);s.style.display="block",s.getBoundingClientRect();for(var o=0,a=[i,r];o<a.length;o++){var c=a[o];c.style.transform="\n                translate(-50%, -50%)\n                scale(calc(43/60))\n                translate(calc(50% + 100%/30), calc(50% + 100%/30))\n            ",c.style.transition="transform 1s ease-in-out"}},i.dr=function(t,n,i){var r=this.Vne(n,i);r.style.display="none",r.style.transform="",r.style.transition="";var e=this.Wne(n,i);e.style.display="",e.getBoundingClientRect(),e.style.transform="",e.addEventListener("transitionend",this.ire)},n}(R3),W3=function(t){function n(n,i,r){return t.call(this,n,i,n,r)||this}It(n,t);var i=n.prototype;return i.Pne=function(){return!0},i.Vne=function(t,n){return t},i.Wne=function(t,n){return n},n}(U3),Z3=function(t){function n(n,i,r){return t.call(this,n,i,i,r)||this}It(n,t);var i=n.prototype;return i.Pne=function(){return!1},i.Vne=function(t,n){return n},i.Wne=function(t,n){return t},n}(U3);F(),Tt();function X3(t){var n=t.style;n.boxSizing="border-box",n.position="absolute",n.display="none",n.border="0 solid transparent",n.borderWidth="0px",n.width="100%",n.height="100%"}function G3(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}function H3(t,n,i,r,e){var u=n/i,s=1,o=0,a=0;if(u>=r/e){var c=r/u;o=(e-c)/2,s=c/i}else{var h=e*u;a=(r-h)/2,s=h/n}t.style.left=a/r*100+"%",t.style.top=o/e*100+"%",t.style.width=n*s/r*100+"%",t.style.height=i*s/e*100+"%"}function z3(t){return!Qo(t.Iyt,"theo-ads://dai.break")}F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Rt(),F(),Tt(),Rt();var Y3=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.pr=function(t,n){},i.dr=function(t){},n}(Qk),j3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ire=function(t){var n=t.target;n.removeEventListener("transitionend",r.ire),n.style.transition="transform 1s ease-in-out"},r.$ne=i,r}It(n,t);var i=n.prototype;return i.pr=function(t,n){n.style.backgroundImage="url('"+this.$ne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.transition="transform 1s ease-in-out",t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.dr=function(t){t.style.transform="",t.addEventListener("transitionend",this.ire)},n}(Y3);F(),Tt(),Rt();var K3=function(t){function n(n){var i;return(i=t.call(this,"sre")||this).interstitial=n,i}return It(n,t),n.prototype.ka=function(){return new q3(this.interstitial.Hnt())},n}(Ig),q3=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=n,i}return It(n,t),n}(ma);function J3(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.lF},get type(){return"adbreak"},get layout(){return function(t){switch(t){case B3.SINGLE:return"single";case B3.DOUBLE:return"double";case B3.LSHAPE_CONTENT:case B3.LSHAPE_AD:return"l-shape"}}(t.nre)},get ads(){return t.zc.map((function(t){return t.Hnt()}))},get backdropUri(){return t.rre}}}F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt();var Q3=function(t){return t.image="image",t}({}),$3=function(t){return t.png="png",t.svg="svg",t}({}),t4=function(t){function n(n){var i;return(i=t.call(this,n)||this).ure=n.zw,i.fo=n.fo,i.Ob=n.Ob,i.lre=n.lre,i.dre=n.dre,i.qjt=n.qjt,i.ore=n._re,i}It(n,t);var i=n.prototype;return i.ir=function(n){var i,r;this.are=null!=(i=n.imageUrl)?i:this.are,this.ore=null!=(r=n.clickThrough)?r:this.ore,t.prototype.ir.call(this,n)},i.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.lF},get clickThrough(){return t.DKt},get imageUrl(){return t.hre},get position(){return function(t){return{get top(){return t.gtt},get bottom(){return t._tt},get left(){return t.ftt},get right(){return t.dtt}}}(t.fo)},get size(){return function(t){return{get width(){return t.ji},get height(){return t.Ti}}}(t.Ob)}}}(this)},Nt(n,[{key:"zw",get:function(){return"overlay"}},{key:"DKt",get:function(){return this.ore}},{key:"hre",get:function(){return this.are}}]),n}(V3);F(),Tt(),Dt(),Rt();var n4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oc=[],i.Iyt=n.Iyt,i.nre=n.nre||B3.SINGLE,i.vre=n.vre,i.mre=n.mre,i.rre=n.wre,i.yre=n.yre,i}It(n,t);var i=n.prototype;return i.ir=function(n){var i;n.ad&&this.Oc.push(n.ad),this.rre=null!=(i=n.backdropUri)?i:this.rre,t.prototype.ir.call(this,n)},i.Hnt=function(){var t;return null!=(t=this.eu)?t:this.eu=J3(this)},Nt(n,[{key:"zw",get:function(){return"adbreak"}},{key:"zc",get:function(){return this.Oc}}]),n}(V3),i4="com.theoplayer.theoads.interstitial",r4="com.theoplayer.theoads.overlay",e4=function(){function t(t){var n=this;this.Nre=!1,this.Sre=[],this.aoe=[],this.noe=fo(),this.Rre=[],this.qn=function(t){n.Cre(t.Ht)},this.zn=function(t){n.Dre(t.Ht)},this.Vre=function(t){n.Zre(t.uF)},this.Hre=function(t){n.Xre(t.uF)},this.Ure=function(t){n.soe(t.uF)},this.Gre=function(t){n.Fre(t.uF)},this.Wre=function(t){n.uoe(t.uF)},this.Ere=function(t){n.Kre(t)},this.xre=function(t){n.zre(t)},this.Yre=t}var n=t.prototype;return n.Tre=function(t){this.kre=new EventSource(t),this.kre.addEventListener("adbreak",this.Ere),this.kre.addEventListener("streaminfo",this.xre)},n.Ire=function(t){if(!tr(this.Rre,t)){this.Rre.push(t);for(var n=0,i=t.mC;n<i.length;n++){var r=i[n];this.Cre(r)}t.bn(Dg.XR,this.qn),t.bn(Dg.qR,this.zn)}},n.Pre=function(t){if(tr(this.Rre,t)){Ji(this.Rre,t),t.vn(Dg.XR,this.qn),t.vn(Dg.qR,this.zn);for(var n=0,i=t.mC;n<i.length;n++){var r=i[n];this.Dre(r)}}},n.Cre=function(t){!this.Nre&&function(t){return t.Lt===ep.xW&&t.zw===Ow.DATE_RANGE}(t)&&this.Mre!==t?this.Lre(t):this.Nre&&function(t){return t.Lt===ep.xW&&t.zw===Ow.ID3}(t)&&this.Bre!==t&&this.Ore(t)},n.Dre=function(t){this.Mre===t?this.Lre(void 0):this.Bre===t&&this.Ore(void 0)},n.Lre=function(t){var n=this.Mre;if(void 0!==n){if(n.L)for(var i=0,r=n.L.mC;i<r.length;i++){var e=r[i];this.Fre(e)}n.vn(Og.KR,this.Vre),n.vn(Og.$R,this.Wre),n.vn(Og.eC,this.Ure),n.vn(Og.QR,this.Gre),n.LE=qy.GC}if(this.Mre=t,void 0!==t){if(t.L)for(var u=0,s=t.L.mC;u<s.length;u++){var o=s[u];this.Zre(o)}t.bn(Og.KR,this.Vre),t.bn(Og.$R,this.Wre),t.bn(Og.eC,this.Ure),t.bn(Og.QR,this.Gre),t.LE=qy.GC}},n.Ore=function(t){var n=this.Bre;if(void 0!==n){if(n.L)for(var i=0,r=n.L.mC;i<r.length;i++){var e=r[i];this.Fre(e)}n.vn(Og.KR,this.Hre),n.vn(Og.eC,this.Ure),n.vn(Og.QR,this.Gre),n.LE=qy.GC}if(this.Bre=t,void 0!==t){if(t.L)for(var u=0,s=t.L.mC;u<s.length;u++){var o=s[u];this.Xre(o)}t.bn(Og.KR,this.Hre),t.bn(Og.eC,this.Ure),t.bn(Og.QR,this.Gre),t.LE=qy.GC}},n.zre=function(t){try{var n,i,r=JSON.parse(t.data),e=r.networkCode,u=null==(n=r.assetKeys)?void 0:n[0];this.Yre.qre(e,u),null==(i=this.kre)||i.removeEventListener("streaminfo",this.xre)}catch(t){Kn.uw("Error parsing the Server sent stream info",t)}},n.Kre=function(t){var n=this.Yre.kI;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void Kn.uw("Tried to schedule an ad break without knowing the duration");var u=(Date.parse(r.startDate)-n.getTime())/1e3;if(u<=-e)return;var s,o="theo-ads://dai.break/?d="+e,a=this.Yre.CI()+u,c=r.networkCode,h=r.assetKey,f=r.podId?A(r.podId):void 0,v=new n4({o:r.id,lF:a,Iyt:null!=(s=r.assetURI)?s:o,nre:this.jre||B3[r.layout],vre:c,mre:h,JBt:e,Qne:f,wre:r.backdropURI,svt:r.startPTS,yre:r.eabnVersion});this.Qre(v,void 0)}catch(t){Kn.uw("Error parsing the Server sent event",t)}else Kn.uw("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.Zre=function(t){if((t.jBt===i4||t.jBt===r4)&&t.$Bt["X-ASSET-URI"])switch(t.jBt){case r4:this.Jre(t);break;case i4:this.$re(t)}},n.Jre=function(t){try{var n;if(void 0===t.ct&&void 0===t.JBt)return;var i=atob(t.$Bt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=Q3[r.type],u=this.Yre.toe(t.lF),s=isFinite(t.dF)?this.Yre.toe(t.dF):void 0,o=new t4({o:t.o,zw:e||Q3.image,lF:u,dF:s,ct:t.ct,JBt:t.JBt,fo:s4(r.position),Ob:o4(r.size),lre:r.opacity,dre:u4(r.gamProperties),qjt:null==(n=r.resourceURI)?void 0:n.map((function(t){return function(t){var n=$3[t.type],i=t.default;Gn.Qs&&t.phone?i=t.phone:Gn.gm&&t.tv&&(i=t.tv);return{zw:n,Iyt:i}}(t)})),_re:r.clickThroughURI});this.Qre(o,t)}catch(t){Kn.uw(t)}},n.$re=function(t){var n=t.$Bt["X-RESUME-OFFSET"];if(void 0!==t.ct||void 0!==t.JBt||void 0!==n){var i,r,e,u=this.eoe||t.$Bt["X-ASSET-URI"],s=Kn.Bh(u),o=null!=(i=s.searchParams.get("n"))?i:void 0,a=null!=(r=s.searchParams.get("k"))?r:void 0,c=this.Yre.toe(t.lF),h=isFinite(t.dF)?this.Yre.toe(t.dF):void 0;(function(t){return Qo(t,"theo-ads://dai.break")})(u)&&(e=function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(u));var f=new n4({o:t.o,lF:c,Iyt:u,nre:this.jre||B3[t.$Bt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||B3.SINGLE,vre:o,mre:a,wre:t.$Bt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],dF:h,ct:t.ct,JBt:t.JBt,Qne:null==e?void 0:e.p,Yne:void 0!==n?Number(n):void 0});this.Qre(f,t),this.ioe=f}},n.Xre=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=Ic(new DataView(n.data),new Uc),r=new Cs(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new Cs(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=Number(r.get("pts"))||void 0,f=this.Yre.toe(t.lF),v=new n4({o:this.eoe||t.o,lF:f,Iyt:c,nre:this.jre||B3.SINGLE,JBt:u,svt:h});this.Qre(v,t)}else if("cue_end"===e){var d=this.ioe;d&&d.ir({ct:this.Yre.toe(t.lF)-d.lF})}}},n.soe=function(t){var n=this.noe.get(t.OC);n&&this.Yre.roe(n.lF)},n.ooe=function(t){for(var n=0,i=this.Sre;n<i.length;n++){var r=i[n];if(t.o===r.o&&t.zw===r.zw)return!0}return!1},n.hoe=function(t){var n=[];if(0===this.Yre.lR().length)return Kn.aw("Seekable is undefined."),!1;for(var i=this.Yre.lR().start(0),r=0,e=this.aoe;r<e.length;r++){var u=e[r];if(u.Hne<i)n.push(u);else if(t.o===u.o&&t.zw===u.zw)return!0}for(var s=0;s<n.length;s++){var o=n[s];Ji(this.aoe,o)}return!1},n.Qre=function(t,n){var i,r=t.lF+(null!=(i=t.ct)?i:1/0);this.ooe(t)||this.hoe(t)||this.Yre.CI()>=r||(this.Sre.push(t),n?this.noe.set(n.OC,t):this.aoe.push(t),this.Yre.Qre(t))},n.uoe=function(t){var n=this.noe.get(t.OC);if(void 0!==n){var i=t.$Bt["X-RESUME-OFFSET"],r=isFinite(t.dF)?this.Yre.toe(t.dF):void 0;n.ir({ct:t.ct,dF:r,Yne:void 0!==i?Number(i):void 0})}},n.Fre=function(t){this.coe(t)},n.coe=function(t){void 0!==this.noe.get(t.OC)&&this.noe.delete(t.OC)},n.loe=function(t){var n=this;t.forEach((function(t){return n.doe(t)}))},n.doe=function(t){Ji(this.Sre,t)},n.nr=function(){var t,n,i;this.ioe=void 0,this.Lre(void 0),this.Ore(void 0);for(var r=0,e=this.Rre.slice();r<e.length;r++){var u=e[r];this.Pre(u)}ir(this.Rre),ir(this.Sre),ir(this.aoe),this.noe.clear(),null==(t=this.kre)||t.removeEventListener("adbreak",this.Ere),null==(n=this.kre)||n.removeEventListener("streaminfo",this.xre),null==(i=this.kre)||i.close(),this.kre=void 0},n.yn=function(){this.nr()},Nt(t,[{key:"Are",get:function(){return this.Sre}}]),t}();function u4(t){if(t){var n=t.sz.default;return Gn.Qs&&t.sz.phone?n=t.sz.phone:Gn.gm&&t.sz.tv&&(n=t.sz.tv),{foe:t.iu,_oe:n}}}function s4(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{gtt:n,_tt:i,ftt:r,dtt:e}}function o4(t){return{ji:t.width&&t.width>=0&&t.width<=100?t.width:10,Ti:t.height&&t.height>=0&&t.height<=100?t.height:10}}F(),Tt(),Dt(),Rt();var a4=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i}return It(n,t),n.prototype.moe=function(t){this.na.moe(t)},Nt(n,[{key:"voe",get:function(){return this.na.voe.map((function(t){return t.Hnt()}))}},{key:"goe",get:function(){return this.na.goe.map((function(t){return t.Hnt()}))}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get currentInterstitials(){return t.voe},get scheduledInterstitials(){return t.goe},replaceAdTagParameters:function(n){t.moe(n)},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}(this)}}]),n}(la);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var c4=function(t){function n(n){var i,r;return(i=t.call(this,n.lF)||this).woe=n,i.R$t=null!=(r=i.woe.ct)?r:-1,i}return It(n,t),n.prototype.poe=function(t){this.Oc.push(t)},Nt(n,[{key:"sR",get:function(){return this.woe.sR}},{key:"zQt",get:function(){return I$.Dnt}},{key:"I$t",get:function(){var t;return null!=(t=this.woe.ct)?t:-1}},{key:"LOt",get:function(){return this.woe.lF}},{key:"s$t",get:function(){}},{key:"yoe",get:function(){return this.woe}}]),n}(l0),h4=function(t){return t.AD_LOADING="adloading",t.AD_LOADED="adloaded",t.AD_PAUSED="adpaused",t.AD_ERROR="aderror",t.AD_ENDED="adended",t}({}),f4=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t}({}),v4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._4t=new zI,e.s0t=[],e.i9=function(t){e.pd(t)},e.koe=function(){e._o(new ma("adloading"))},e.Eoe=function(){e._o(new ma("adloaded"))},e.xoe=function(t){e.Md(e.Dne(e.a4t.CI()))},e.a4t=n,e.Poe=i,e.s0t=r,e.Poe.Doe(e),e._4t=i.z2t,e}It(n,t);var i=n.prototype;return i.isPlayingAd=function(){return Boolean(this.Aoe)},i.Soe=function(t){},i.Qre=function(t){var n=new c4(t);this.s0t.push(n)},i.doe=function(t){var n=this.s4t(t);Ji(this.s0t,n)},i.s4t=function(t){return Hi(this.s0t,(function(n){return n.yoe===t}))},i.Toe=function(){this.a4t.bn(ya.Hy,this.koe),this.a4t.bn(Np.rB,this.Eoe),this.a4t.bn(ya._b,this.i9),this.a4t.bn(ya.Ly,this.xoe)},i.Ioe=function(){this.a4t.vn(ya.Hy,this.koe),this.a4t.vn(Np.rB,this.Eoe),this.a4t.vn(ya._b,this.i9),this.a4t.vn(ya.Ly,this.xoe)},i.pd=function(t){var n;null==(n=this.Aoe)||n.zne(this.Dne(t.currentTime))},i.Roe=function(t,n,i,r){var e=this;return Pt((function(){var u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:u={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,3,4,5]),null==(s=e.GW)||s.np(),o=Vt(u,mr.hp([n]),!1),e.GW=o,kr(a=o.ep),[4,e.a4t.Roe(AE(t),i,r,a)];case 2:return[2,h.sent()];case 3:return c=h.sent(),u.error=c,u.hasError=!0,[3,5];case 4:return Ft(u),[7];case 5:return[2]}}))}))()},i.Md=function(t){this.Aoe&&(this.Aoe.zne(t),this.Aoe.sR=!0,this.doe(this.Aoe),this.Aoe=void 0),this.z$t&&(this._4t._o(new fM(this.z$t,t)),this.z$t=void 0),this.i0t?(this._4t._o(new uM(this.i0t)),this.i0t=void 0):(Kn.aw("An ad break has ended without realizing we are in an ad break."),this._o(new ma("adended")))},i.Dne=function(t){var n,i;return(null!=(i=null==(n=this.Aoe)?void 0:n.lF)?i:0)+t},i.nr=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return null==(n=t.GW)||n.np(),t.GW=void 0,t.Ioe(),t.s0t=[],t.z$t=void 0,t.i0t=void 0,t.Aoe=void 0,t.Coe=void 0,[2]}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),[4,t.Poe.yn()];case 2:return n.sent(),[2]}}))}))()},Nt(n,[{key:"D$t",get:function(){return this.s0t}},{key:"boe",get:function(){return this.Aoe}},{key:"Xnt",get:function(){return this.i0t}},{key:"H8t",get:function(){return this.z$t}}]),n}(la);F(),Tt(),Dt();var d4=function(){function t(){this._4t=new zI}var n=t.prototype;return n.Doe=function(t){this.Noe=t},n.zD=function(){},n.Ynt=function(t){},n.jnt=function(t){},n.yn=function(){return this.Noe=void 0,et.resolve()},Nt(t,[{key:"z2t",get:function(){return this._4t}},{key:"i3t",get:function(){var t;return void 0!==(null==(t=this.Noe)?void 0:t.Xnt)}},{key:"G2t",get:function(){return I$.Dnt}},{key:"Znt",get:function(){var t;return(null==(t=this.Noe)?void 0:t.H8t)?[this.Noe.H8t]:[]}},{key:"Xnt",get:function(){var t,n;return null!=(n=null==(t=this.Noe)?void 0:t.Xnt)?n:null}},{key:"znt",get:function(){var t=this;return this.Noe?er(this.Noe.D$t,(function(n){var i,r=n.zc;if(n===(null==(i=t.Noe)?void 0:i.Xnt)&&void 0!==t.Noe.H8t){var e=r.indexOf(t.Noe.H8t);if(e>=0)return r.slice(e+1)}return n.sR?[]:r})):[]}},{key:"qnt",get:function(){var t=this;return this.Noe?this.Noe.D$t.filter((function(n){var i;return n===(null==(i=t.Noe)?void 0:i.Xnt)||!n.sR})):[]}}]),t}();F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),At(),F(),Tt(),Rt(),F(),Tt(),Rt();var l4=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).Moe=i,e.trt=r,e}return It(n,t),n}(ma),g4=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),w4=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return It(n,t),n}(l4),m4=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return It(n,t),n}(l4),y4=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return It(n,t),n}(l4),p4=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return It(n,t),n}(l4),_4=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return It(n,t),n}(l4),b4=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return It(n,t),n}(l4),k4=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return It(n,t),n}(l4),A4=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return It(n,t),n}(l4),T4=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return It(n,t),n}(l4),S4=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return It(n,t),n}(l4),E4=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return It(n,t),n}(l4),I4=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return It(n,t),n}(l4),R4=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return It(n,t),n}(l4);var C4=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Loe=n,e.h1t=i,e.joe=r,e.Voe=function(t){e.Foe(!0);var n=D4(t),i=P4(t);e._o(new m4(n,i))},e.Koe=function(t){e.Foe(!1);var n=D4(t),i=P4(t);e._o(new y4(n,i))},e.Woe=function(t){var n=D4(t),i=P4(t);e._o(new p4(n,i))},e.P0t=function(t){var n=D4(t),i=P4(t);e._o(new b4(n,i))},e.Uoe=function(t){var n=D4(t),i=P4(t);e._o(new R4(n,i))},e.Goe=function(t){var n=D4(t),i=P4(t);e._o(new _4(n,i))},e.Ss=function(t){var n=D4(t),i=P4(t);e._o(new k4(n,i))},e.Zoe=function(t){var n=D4(t),i=P4(t);e._o(new T4(n,i))},e.Hoe=function(t){var n=D4(t),i=P4(t);e._o(new w4(n,i))},e.Xoe=function(t){var n=D4(t),i=P4(t);e._o(new S4(n,i))},e.zoe=function(t){var n=D4(t),i=P4(t);e._o(new A4(n,i))},e.qoe=function(t){var n=D4(t),i=P4(t);e._o(new E4(n,i))},e.Yoe=function(t){var n=D4(t),i=P4(t);e._o(new I4(n,i))},e.h1t&&(e.h1t.style.display="none",e.Loe.setClickElement(e.h1t));var u=google.ima.dai.api.StreamEvent.Type;return e.Loe.addEventListener(u.AD_BREAK_STARTED,e.Voe),e.Loe.addEventListener(u.AD_PROGRESS,e.Woe),e.Loe.addEventListener(u.CLICK,e.P0t),e.Loe.addEventListener(u.COMPLETE,e.Uoe),e.Loe.addEventListener(u.CUEPOINTS_CHANGED,e.Goe),e.Loe.addEventListener(u.ERROR,e.Ss),e.Loe.addEventListener(u.FIRST_QUARTILE,e.Zoe),e.Loe.addEventListener(u.LOADED,e.Hoe),e.Loe.addEventListener(u.MIDPOINT,e.Xoe),e.Loe.addEventListener(u.STARTED,e.zoe),e.Loe.addEventListener(u.STREAM_INITIALIZED,e.qoe),e.Loe.addEventListener(u.THIRD_QUARTILE,e.Yoe),e.Loe.addEventListener(u.AD_BREAK_ENDED,e.Koe),e}It(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.Loe.replaceAdTagParameters(null!=t?t:null)},i.Boe=function(t){return this.Loe.contentTimeForStreamTime(t)},i.Ooe=function(t){return this.Loe.streamTimeForContentTime(t)},i.IUt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(ao({},N4(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(ao({},N4(t),{assetKey:t.assetKey}))}(t);t.enableNonce&&(i.enableNonce=!0),this.Loe.requestStream(i)},i.nr=function(){this.Foe(!1),this.Loe.reset()},i.yn=function(){this.Ro();var t=google.ima.dai.api.StreamEvent.Type;this.Loe.removeEventListener(t.AD_BREAK_STARTED,this.Voe),this.Loe.removeEventListener(t.AD_PROGRESS,this.Woe),this.Loe.removeEventListener(t.CLICK,this.P0t),this.Loe.removeEventListener(t.COMPLETE,this.Uoe),this.Loe.removeEventListener(t.CUEPOINTS_CHANGED,this.Goe),this.Loe.removeEventListener(t.ERROR,this.Ss),this.Loe.removeEventListener(t.FIRST_QUARTILE,this.Zoe),this.Loe.removeEventListener(t.LOADED,this.Hoe),this.Loe.removeEventListener(t.MIDPOINT,this.Xoe),this.Loe.removeEventListener(t.STARTED,this.zoe),this.Loe.removeEventListener(t.STREAM_INITIALIZED,this.qoe),this.Loe.removeEventListener(t.THIRD_QUARTILE,this.Yoe),this.Loe.removeEventListener(t.AD_BREAK_ENDED,this.Koe),this.nr(),this.joe&&oi(this.joe)},i.Qoe=function(t){this.Loe.onTimedMetadata(t)},i.Joe=function(t,n,i){this.Loe.processMetadata(t,n,i)},i.$oe=function(t){var n=this.Loe.previousCuePointForStreamTime(t);if(n)return{dF:n.end,lF:n.start,sR:n.played}},i.the=function(t,n){var i=this.$oe(t);if(i){var r=t>n&&i.dF>n,e=i.dF>t&&i.lF<=t;return i.sR||!r&&!e?void 0:i.lF}},i.Foe=function(t){this.h1t&&(this.h1t.style.display=t?"block":"none")},n}(la);function N4(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=n1(t.omidAccessModeRules))?n:{}}}function D4(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={l9t:r.adBreakDuration,ehe:r.duration,d9t:r.adPosition,RI:r.currentTime,ct:r.duration,f9t:r.totalAds}),{ihe:n,she:(i.cuepoints||[]).map((function(t){return{lF:t.start,dF:t.end,sR:t.played}})),nhe:i.errorMessage||void 0,rhe:i.manifestFormat||void 0,ohe:i.streamId||void 0,hhe:(i.subtitles||[]).map((function(t){return{ahe:t.webvtt,uhe:t.ttml,gs:t.language}})),Xu:i.url}}function x4(t){return{SKt:t.getAdSlotId(),I3t:t.getContent(),Fk:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function P4(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(x4);return{jKt:n.getAdId(),Q9t:{d9t:i.getAdPosition(),I$t:i.getMaxDuration(),lne:i.getPodIndex(),LOt:i.getTimeOffset(),f9t:i.getTotalAds()},PYt:n.getAdSystem(),fne:n.getAdvertiserName(),bKt:n.getApiFramework(),WYt:r,iKt:n.getCreativeId(),W8t:n.getCreativeAdId(),_ne:n.getDealId(),QN:n.getDescription(),ct:n.getDuration(),NZ:n.getTitle(),dhe:n.getUniversalAdIdRegistry(),fhe:n.getUniversalAdIdValue(),M8t:n.getVastMediaHeight(),N8t:n.getVastMediaWidth(),R8t:n.getWrapperAdIds(),C8t:n.getWrapperAdSystems(),P8t:n.getWrapperCreativeIds()}}}function L4(){var t=v.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var M4=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===B3.LSHAPE_CONTENT?w0.w3t:w0.mQt}(n.yoe.nre))||this,n.poe(i),i}return It(n,t),n.prototype.ka=function(){return p0(this)},Nt(n,[{key:"zQt",get:function(){return I$.Dnt}}]),n}(y0);var O4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this)._he=i,r}It(n,t);var i=n.prototype;return i.X$t=function(){return this._he.getAdSystem()},i.Y$t=function(){return this.sd.yoe.Iyt},Nt(n,[{key:"o",get:function(){return this._he.getAdId()}},{key:"ct",get:function(){return this._he.getDuration()}},{key:"DKt",get:function(){var t,n;return null==(n=this._he)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"iKt",get:function(){return this._he.getCreativeId()}},{key:"ajt",get:function(){return this._he.getSkipTimeOffset()}}]),n}(M4);F(),Tt(),Rt();var B4=function(t){function n(n){var i;return(i=t.call(this,n)||this).E3t=!0,i.FA=n.R$t,i}return It(n,t),n}(M4),V4="ott_placement",F4="urn:google:dai:2018",U4=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===u&&(u={}),(a=t.call(this,n,i,e)||this).Dhe=!0,a.qn=function(t){var n=t.Ht;a.whe(n)},a.Whe=function(t){t.uF.bn(Xw.IO,a.Hhe)},a.Gre=function(t){t.uF.vn(Xw.IO,a.Hhe)},a.Hhe=function(t){var n,i;if(a.mhe)if((null==(n=a.Uhe)?void 0:n.zw)===Ow.ID3){var r,e=t.uF.U;if(wx(e))if(a.Zhe!==e.text)a.Zhe=e.text,null==(r=a.Loe)||r.processMetadata("ID3",e.text,t.uF.lF)}else if((null==(i=a.Uhe)?void 0:i.zw)===Ow.EVENT_STREAM){var u,s=t.uF.U;null==(u=a.Loe)||u.processMetadata(F4,s,t.uF.lF)}},a.Ghe=function(t){switch(a.i0t&&(a.i0t.R$t=a.a4t.jd()-a.a4t.CI()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a._4t._o(new f0(gQ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:a.Aoe=a.Coe,a.Coe=void 0,a.i0t=a.s4t(a.Aoe),a._4t._o(new oM(a.i0t)),a.Xhe=Kn.Gm(a.zhe,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:Kn.Um(a.Xhe);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();a.z$t=new O4(a.i0t,i),null==(n=a.Aoe)||n.ir({ad:a.z$t}),a._4t._o(new cM(a.z$t,a.Dne(a.a4t.CI())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a._4t._o(new N0(a.z$t,a.Dne(a.a4t.CI())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a._4t._o(new x0(a.z$t,a.Dne(a.a4t.CI())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a._4t._o(new L0(a.z$t,a.Dne(a.a4t.CI())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a._4t._o(new fM(a.z$t,a.Dne(a.a4t.CI()))),a.z$t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.i0t)break;a.i0t.R$t>1&&a.zhe()}},a.zhe=function(){var t;a.z$t=new B4(a.i0t),null==(t=a.Aoe)||t.ir({ad:a.z$t}),a._4t._o(new cM(a.z$t,a.Dne(a.a4t.CI())))},a.Ahe=r,a.xhe=a.Phe(u),a.Dhe=!u[V4],a.Ihe=s,a.Lhe=o,a}It(n,t);var i=n.prototype;return i.Soe=function(t){if(t){var n=this.Loe;this.Loe=this.ghe,this.ghe=n;var i=this.mhe;this.mhe=this.phe,this.phe=i}for(var r=0,e=this.a4t.nt.mC;r<e.length;r++){var u=e[r];this.whe(u)}},i.tZ=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:if(!t||!n||t===r.yhe&&n===r.bhe)return[2];if(void 0===r.Loe){if(void 0===(null==(u=f.google)||null==(e=u.ima)?void 0:e.dai))throw new p("IMA DAI SDK missing for THEOads");r.Loe=new google.ima.dai.api.StreamManager(r.a4t.we.querySelector("video"),r.Ahe)}return r.yhe=t,r.bhe=n,s=r.She(!1),o=r.She(!0),r.khe=Sr(et.all([s,o]),i),[4,r.khe];case 1:return a.sent(),[2]}}))}))()},i.She=function(t){var n=this,i=this.Loe;if(t&&(i=this.ghe),!i)return et.resolve();this.Ehe(i),i.reset();var r=new google.ima.dai.api.PodStreamRequest;r.networkCode=this.yhe,r.customAssetKey=this.bhe,r.adTagParameters=this.xhe,this.Ihe&&(r.streamActivityMonitorId=this.Ihe),r.format="hls";var e=this.Rhe(i,[google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(r){if(r.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new p("DAI stream request failed");t?n.phe=r.getStreamData():n.mhe=r.getStreamData(),n.Che(i)}));return i.requestStream(r),e},i.Rhe=function(t,n,i){return new et((function(r,e){if(i&&i.zm)return e(new _r);for(var u=function(t){o(),r(t)},s=function(){o(),e(new _r)},o=function(){for(var r=0;r<n.length;r++){var e=n[r];t.removeEventListener(e,u)}i&&i.Jm(s)},a=0;a<n.length;a++){var c=n[a];t.addEventListener(c,u)}i&&i.Qm(s)}))},i.moe=function(t){var n,i;void 0===t&&(t={}),this.xhe=this.Phe(t),this.Dhe=!t[V4],null==(n=this.Loe)||n.replaceAdTagParameters(this.xhe),null==(i=this.ghe)||i.replaceAdTagParameters(this.xhe)},i.Nhe=function(t){var n,i,r=new Cs(this.xhe.cust_params);r.set("theoads_slot",function(t){switch(t){case B3.DOUBLE:return"double";case B3.SINGLE:return"single";case B3.LSHAPE_AD:case B3.LSHAPE_CONTENT:return"l-shape"}}(t)),this.xhe.cust_params=r.toString(),this.Dhe&&(this.xhe[V4]=W4(t)),null==(n=this.Loe)||n.replaceAdTagParameters(this.xhe),null==(i=this.ghe)||i.replaceAdTagParameters(this.xhe)},i.Phe=function(t){var n=Wg(t);return t[V4]||(n[V4]=W4(B3.SINGLE)),n},i.Mhe=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return(null==(i=n.Coe)?void 0:i.Qne)&&!S(n.Coe.Qne)?[2,n.Coe.Qne]:n.Lhe&&(null==(r=n.Coe)?void 0:r.svt)?[4,DT((function(){return n.Bhe()}),t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}}))}))()},i.Bhe=function(){var t=this;return Pt((function(){var n,i,r,e;return Ot(this,(function(u){switch(u.label){case 0:n=t.Lhe+"/"+t.yhe+"/"+t.bhe+"/"+t.Coe.svt+".json",i=new Tl({Xu:n,tE:Fd.xk,EE:pl.GET,xE:1e3}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.a4t.mI.eE(i)];case 2:return r=u.sent(),[3,4];case 3:throw u.sent(),new lQ(gQ.NETWORK,wQ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!ml(r))throw new lQ(gQ.NETWORK,wQ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,r.$k()];case 5:return(e=u.sent())?[2,e.podid]:[2,void 0]}}))}))()},i.Ohe=function(t,n,i,r){void 0===r&&(r=!1);var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,e.Fhe(t,n,i)];case 1:return u=s.sent(),[2,e.Roe({sources:{src:u}},i,void 0,r)]}}))}))()},i.Fhe=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o,a,c,h,f,v,d;return Ot(this,(function(l){switch(l.label){case 0:return r.Coe=t,u=t.vre,s=t.mre,r.Nhe(t.nre),[4,r.tZ(u,s,i)];case 1:return l.sent(),o=Kn.Bh(t.Iyt),a=Number(o.searchParams.get("d")),c=k.floor(1e3*k.min(a,t.Hne-n)),[4,r.Mhe(i)];case 2:if(!(h=l.sent()))throw new p("Something went wrong with retrieving the PodID from the server.");return(null==(e=r.mhe)?void 0:e.streamId)?[3,4]:[4,r.khe];case 3:l.sent(),l.label=4;case 4:return f=Kn.Bh("https://dai.google.com/linear/pods/v1/hls/network/"+r.yhe+"/custom_asset/"+r.bhe),"V2"===t.yre?f.pathname+="/ad_break_id/"+h+".m3u8":f.pathname+="/pod/"+h+".m3u8",v=r.mhe.streamId,r.Aoe?void 0===(d=r.a4t.Vhe())||void 0!==r.ghe?[3,6]:(r.ghe=new google.ima.dai.api.StreamManager(d.we.querySelector("video"),r.Ahe),[4,Sr(r.She(!0),i)]):[3,7];case 5:l.sent(),l.label=6;case 6:r.phe&&(v=r.phe.streamId),l.label=7;case 7:return f.searchParams.set("stream_id",v),f.searchParams.set("pd",String(c)),[2,f.toString()]}}))}))()},i.Toe=function(){this.a4t.nt.bn(Dg.XR,this.qn),t.prototype.Toe.call(this)},i.Ioe=function(){t.prototype.Ioe.call(this),this.a4t.nt.vn(Dg.XR,this.qn)},i.whe=function(t){if(t.Lt===ep.xW&&!(t.zw!==Ow.ID3&&t.zw!==Ow.EVENT_STREAM||t.zw===Ow.EVENT_STREAM&&t.ZC!==F4)){if(t.bn(Og.KR,this.Whe),t.bn(Og.QR,this.Gre),t.L)for(var n=0,i=t.L.mC;n<i.length;n++){var r=i[n];this.Whe(new eD(r))}t.LE=qy.GC,this.Uhe=t}},i.Che=function(t){t&&(t.addEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Ghe),t.addEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Ghe))},i.Ehe=function(t){t&&(t.removeEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Ghe),t.removeEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Ghe))},i.Md=function(n){t.prototype.Md.call(this,n),this.Zhe=void 0},i.nr=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return u.sent(),n.Ehe(n.Loe),n.Ehe(n.ghe),null==(i=n.Loe)||i.reset(),n.Loe=void 0,null==(r=n.ghe)||r.reset(),n.ghe=void 0,n.mhe=void 0,n.phe=void 0,n.khe=void 0,n.Ihe=void 0,n.bhe=void 0,n.yhe=void 0,n.Dhe=!0,void 0!==(e=L4())&&oi(e),[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.Uhe)||i.yn(),[2]}}))}))()},Nt(n,[{key:"vhe",get:function(){return f4.GOOGLE}}]),n}(v4);function W4(t){switch(t){case B3.DOUBLE:return"3";case B3.SINGLE:return"0";case B3.LSHAPE_AD:case B3.LSHAPE_CONTENT:return"4"}}var Z4=function(){function t(t,n){var i=this;this.qhe=[],this.Jhe=ho(),this.rae=(new Date).getTime(),this.Itt=function(t){H3(i.Khe,i.na.pR,i.na.vR,t.width,t.height)},this.Yzt=function(){H3(i.Khe,i.na.pR,i.na.vR,i.pn.Au,i.pn.Nu)},this.Mte=function(t){t.stopPropagation()},this.na=t,this.WW=Kn.mI;var r=v.createElement("div");r.style.display="none",r.className="theoads-image-overlays-container",wi(r),n.appendChild(r),this.Khe=r,this.pn=new OI(n),this.pn.kn(),this.pn.bn(TI.mn,this.Itt),this.na.bn(ya.$y,this.Yzt)}var n=t.prototype;return n.Qhe=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return n.qhe.push(t),n.Khe.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",n.Jhe.set(t.o,i),r=v.createElement("a"),[4,n.$he(t)];case 1:return(e=s.sent()).clickThroughURI&&(n.Khe.style.zIndex="11",r.href=e.clickThroughURI,r.target="zu",r.setAttribute("rel","noopener"),r.addEventListener("mousedown",n.Mte),r.addEventListener("touchend",n.Mte)),t.ure===Q3.image&&(r.style.backgroundImage="url("+e.resourceURI+")",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",e.impressionURI&&((u=v.createElement("img")).src=e.impressionURI,u.style.display="none",r.appendChild(u))),wi(r),function(t,n){t.style.position="absolute";var i=n.fo;i.ftt&&(t.style.left=i.ftt+"%");i.dtt&&(t.style.right=i.dtt+"%");i.gtt&&(t.style.top=i.gtt+"%");i._tt&&(t.style.bottom=i._tt+"%");var r=n.Ob;r.ji&&(t.style.width=r.ji+"%");r.Ti&&(t.style.height=r.Ti+"%");n.lre&&n.lre>0&&n.lre<=100&&(t.style.opacity=""+n.lre/100)}(i,t),i.appendChild(r),n.Khe.appendChild(i),[2]}}))}))()},n.tae=function(t){var n=this.Jhe.get(t.o);n&&(this.Khe.contains(n)&&this.Khe.removeChild(n),this.Jhe.delete(t.o),0===this.Jhe.size&&(this.Khe.style.display="none"),Ji(this.qhe,t))},n.eae=function(){var t=this;this.Jhe.forEach((function(n,i){t.Khe.contains(n)&&t.Khe.removeChild(n)})),this.Jhe.clear(),this.qhe=[]},n.iae=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return t?(i=n.sae(t))?[4,n.nae(i,n.WW)]:[2,void 0]:[2];case 1:return[2,r.sent()]}}))}))()},n.$he=function(t){var n=this;return Pt((function(){var i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return i={resourceURI:""},[4,n.iae(t.dre)];case 1:return(r=o.sent())?(i.resourceURI=r.image,i.impressionURI=r.impression):t.qjt&&((e=Hi(t.qjt,(function(t){return t.zw===$3.svg})))&&(i.resourceURI=e.Iyt),(u=Hi(t.qjt,(function(t){return t.zw===$3.png})))&&(i.resourceURI=u.Iyt)),i.clickThroughURI=null!=(s=null==r?void 0:r.clickThrough)?s:t.DKt,t.ir({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}}))}))()},n.sae=function(t){var n=new Cs(this.xhe);return n.set("iu",t.foe),n.set("sz",t._oe),n.set("c",String(this.rae)),n.get(V4)||n.set(V4,"5"),"https://securepubads.g.doubleclick.net/gampad/adx?"+n.toString()},n.nae=function(t,n){return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=new Tl({Xu:t,tE:Fd.xk,EE:pl.GET}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.eE(i)];case 2:return[4,e.sent().$k()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new lQ(gQ.NETWORK,wQ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}}))}))()},n.nr=function(){this.eae(),this.Khe.style.display="none"},Nt(t,[{key:"voe",get:function(){return this.qhe}},{key:"Yhe",get:function(){return this.Khe}},{key:"jhe",get:function(){return this.xhe},set:function(t){this.xhe=t}}]),t}();F(),Tt(),Dt();var X4=function(){function t(){}var n=t.prototype;return n.sX=function(t){return G4(t)},n.V2t=function(t,n,i){},n.K6=function(t,n,i,r){},n.Aq=function(t){var n={integration:LS.THEOADS,adTagParameters:Qn(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return ti(t.networkCode)&&(n.networkCode=qg(t.networkCode)),ti(t.customAssetKey)&&(n.customAssetKey=qg(t.customAssetKey)),ti(t.backdropDoubleBox)&&(n.backdropDoubleBox=qg(t.backdropDoubleBox)),ti(t.backdropLShape)&&(n.backdropLShape=qg(t.backdropLShape)),ti(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),ti(t.overrideAdSrc)&&(n.overrideAdSrc=qg(t.overrideAdSrc)),ti(t.retrievePodIdURI)&&(n.retrievePodIdURI=qg(t.retrievePodIdURI)),ti(t.sseEndpoint)&&(n.sseEndpoint=qg(t.sseEndpoint)),ti(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=qg(t.streamActivityMonitorId)),n},Nt(t,[{key:"F2t",get:function(){return I$.Dnt}}]),t}();function G4(t){return t&&t.integration===LS.THEOADS}MS.Vm.nX(new X4),F(),Tt(),Rt();var H4=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var z4=function(t){function n(n){var i;return(i=t.call(this,"oae")||this).interstitial=n,i}return It(n,t),n.prototype.ka=function(){return new Y4(this.interstitial.Hnt())},n}(Ig),Y4=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var j4=function(t){function n(n,i){var r;return(r=t.call(this,"hae")||this).interstitial=n,r.Tb=i,r}return It(n,t),n.prototype.ka=function(){return new K4(this.interstitial.Hnt(),this.Tb)},n}(Ig),K4=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=n,r.message=i,r}return It(n,t),n}(ma);F(),Tt(),Mt(),Dt(),Rt(),Wt(),At(),F(),Tt(),Rt();var q4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).FA=k.min(i,r.sd.I$t),r}return It(n,t),n}(M4),J4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).k8=!1,n.kqt=function(){n._o(new f0(gQ.GENERAL))},n.aae=function(t){!n.k8&&n.Coe&&(n.k8=!0,n.Aoe=n.Coe,n.Coe=void 0,n.i0t=n.s4t(n.Aoe),n.z$t=new q4(n.i0t,n.a4t.jd()),n.Aoe.ir({ad:n.H8t}),n._4t._o(new oM(n.i0t)),n._4t._o(new cM(n.z$t,n.Dne(t.currentTime))))},n.xoe=function(t){n.Md(n.Dne(t.currentTime))},n}It(n,t);var i=n.prototype;return i.tZ=function(t,n,i){return et.resolve()},i.moe=function(t){},i.Ohe=function(t,n,i,r){var e;if(void 0===r&&(r=!1),this.Coe=t,t.lF<n){var u=k.min(t.ct,t.Hne-n);e=t.ct-u,t.ir({ct:u,Kne:e})}return this.Roe({sources:{src:t.Iyt}},i,e,r)},i.Fhe=function(t,n,i){var r=this;return Pt((function(){return Ot(this,(function(n){return r.Coe=t,[2,t.Iyt]}))}))()},i.Toe=function(){t.prototype.Toe.call(this),this.a4t.bn(Np.uB,this.aae),this.a4t.bn(Qy.fa,this.kqt)},i.Ioe=function(){this.a4t.vn(Np.uB,this.aae),this.a4t.vn(Qy.fa,this.kqt),t.prototype.Ioe.call(this)},i.pd=function(t){if(this.Aoe){var n=this.Dne(t.currentTime),i=this.Aoe.P3t;this.Aoe.zne(n);var r=this.Aoe.P3t;i<.25&&r>=.25?this._4t._o(new N0(this.z$t,n)):i<.5&&r>.5?this._4t._o(new x0(this.z$t,n)):i<.75&&r>=.75?this._4t._o(new L0(this.z$t,n)):this.Aoe.sR&&this.Md(n)}else Kn.aw("Got timeupdate without a current interstitital")},i.Md=function(n){t.prototype.Md.call(this,n),this.k8=!1},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.k8=!1,[2]}}))}))()},Nt(n,[{key:"vhe",get:function(){return f4.DEFAULT}}]),n}(v4);F(),Tt(),Mt(),Rt(),Wt();var Q4=function(t){function n(n){return t.call(this,n)||this}It(n,t);var i=n.prototype;return i.Vhe=function(){},i.Roe=function(t,n,i,r){var e=this;return Pt((function(){return Ot(this,(function(u){switch(u.label){case 0:return[4,e.na.Ca(t,r)];case 1:return u.sent(),e.uae(e.na,n,i),[2]}}))}))()},i.uae=function(t,n,i){Gn.su&&Gn.$g&&(t.DR(),t.PR()),n&&t.DI(n),i&&t.DR()},i.cae=function(t){},n}(r0),$4=.5,t5=function(t){function n(n){var i,r,e;return i=t.call(this,n)||this,r=i,i.bZ=void 0,i.QH=void 0,i.Vae=ho(),i.Jae=!0,i.$ae=NaN,i.Oae=NaN,i.Bae=NaN,i.Sd=function(){i.ynt.vn(Np.oB,i.cH),i.dae.Ire(i.na.nt)},i.vae=Pt((function(){var t;return Ot(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.fnt.Kq([DE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.NR().catch(_i)];case 3:return n.sent(),r.uH(gd(t,vd.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.Itt=function(t){H3(i.Aae,i.na.pR,i.na.vR,t.width,t.height)},i.Yzt=function(){H3(i.Aae,i.na.pR,i.na.vR,i.Hu.Au,i.Hu.Nu)},i.cH=function(){var t;i.ynt.vn(Np.hB,i.cH),(null==(t=i._ae)?void 0:t.sseEndpoint)&&i.dae.Tre(i._ae.sseEndpoint)},i.xae=function(){i.Wae(i.CI()),i.Uae()},i.nz=function(){i.Wae(i.CI()),i.Uae()},i.Cae=function(){var t=function(){i.jae=void 0};i.Qae()?i.jae=i.Dae().then(t).catch(t):i.jae=i.d2t().then(t).catch(t)},i.Fae=function(t){i.fae._o(t.wa)},i.ynt=new Q4(n),i.Vs=n.we,i.Aae=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-container"),t}(),i.bae=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-content-player"),t}(),i.fae=new a4(i),i.kae=new d4,null==(e=i.ynt.zc)||e.Qnt(i.kae),i.dae=new e4(i),i.lae=new Z4(i.ynt,i.bae),i}It(n,t);var i=n.prototype;return i.Snt=function(){return this.ynt.zc},i.Int=function(){return this.fae.wa},i.NI=function(){return this.Vs},i.Ant=function(){return this.ynt.snt},i.BI=function(){var n;return null!=(n=this.QH)?n:t.prototype.BI.call(this)},i.FI=function(){var n;return null!=(n=this.bZ)?n:t.prototype.FI.call(this)},i.RR=function(){this.ynt.RR()},i.toe=function(t){return t},i.Ca=function(n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return s.sent(),[4,r.nr()];case 2:return s.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=Hi(n.ads,G4))?[2]:(r.vae(),r.gae(),r.mae(),r._ae=e,r.pae=e.backdropLShape,r.lae.jhe=e.adTagParameters,r.ynt.bn(Np.hB,r.cH),r.ynt.bn(Np.oB,r.Sd),r.Hu.bn(TI.mn,r.Itt),r.bn(ya.$y,r.Yzt),r.wae(),r.dae.jre=function(t){switch(t){case"single":return B3.SINGLE;case"l-shape":return B3.LSHAPE_AD;case"double":return B3.DOUBLE;case"single-if-mobile":return Gn.Qs?B3.SINGLE:void 0;default:return}}(r._ae.overrideLayout),r.dae.eoe=r._ae.overrideAdSrc,r.dae.Nre=r._ae.useId3,u=void 0===e.networkCode||void 0===e.customAssetKey,[4,r.yae(u)]);case 3:return s.sent(),[2]}}))}))()},i.gae=function(){ci(this.Vs,this.bae),wi(this.Aae),wi(this.bae),this.Aae.appendChild(this.bae),this.Vs.appendChild(this.Aae)},i.Sae=function(){ci(this.bae,this.Vs),mi(this.bae),mi(this.Aae),oi(this.bae),oi(this.Aae)},i.yae=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b;return Ot(this,(function(k){switch(k.label){case 0:return(u=n.O2t())?(s=n.Tae(),a=null!=(o=null==(i=n.Noe)?void 0:i.D$t)?o:[],t&&(null==(r=n.Noe)?void 0:r.vhe)!==f4.DEFAULT?[4,null==(c=n.Noe)?void 0:c.nr()]:[3,2]):[2];case 1:k.sent(),n.Noe=new J4(u,n.kae,a),k.label=2;case 2:return t||(null==(e=n.Noe)?void 0:e.vhe)===f4.GOOGLE?[3,5]:[4,null==(h=n.Noe)?void 0:h.nr()];case 3:return k.sent(),n.Noe=new U4(u,n.kae,s,a,n.jhe,null==(f=n._ae)?void 0:f.streamActivityMonitorId,null==(v=n._ae)?void 0:v.retrievePodIdURI),p=null!=(y=null==(d=n.Eae)?void 0:d.vre)?y:null==(l=n._ae)?void 0:l.networkCode,b=null!=(_=null==(g=n.Eae)?void 0:g.mre)?_:null==(w=n._ae)?void 0:w.customAssetKey,[4,null==(m=n.Noe)?void 0:m.tZ(p,b)];case 4:k.sent(),k.label=5;case 5:return[2]}}))}))()},i.qre=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return i.Eae||void 0===t||void 0===n?[2]:(null==(r=i.Noe)?void 0:r.vhe)===f4.GOOGLE?[3,2]:[4,i.yae(!1)];case 1:case 3:return u.sent(),[2];case 2:return[4,null==(e=i.Noe)?void 0:e.tZ(t,n)]}}))}))()},i.uH=function(t){void 0===this.FI()&&(this.bZ=t,this.QH=lw(t),this._o(new xk(t)))},i.wae=function(){this.ynt.bn(ya._b,this.xae),this.ynt.bn(ya.ib,this.nz)},i.Iae=function(){this.ynt.vn(ya._b,this.xae),this.ynt.vn(ya.ib,this.nz)},i.Rae=function(){var t;this.kae.z2t.bn("irt",this.Cae),null==(t=this.Noe)||t.bn(h4.AD_ENDED,this.Cae)},i.Pae=function(){var t;this.kae.z2t.vn("irt",this.Cae),null==(t=this.Noe)||t.bn(h4.AD_ENDED,this.Cae)},i.Dae=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.Nae(),t.Mae=t.Eae,t.Eae=void 0,[2]}))}))()},i.d2t=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return t.Nae(),null==(n=t.Noe)||n.Ioe(),t.doe(t.Mae),t.Mae=void 0,[2]}))}))()},i.Lae=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){return t.Nae(),null==(n=t.Noe)||n.Toe(),t.Mae=t.Eae,t.Eae=void 0,[2]}))}))()},i.Nae=function(){var t=this.na.vR,n=this.na.pR;t===this.Bae&&n===this.Oae||(this.Bae=t,this.Oae=n,this._o(new Rp))},i.Qre=function(t){var n;n5(t)&&(null==(n=this.Noe)||n.Qre(t),this.roe(this.CI()));t.bn("Zne",this.Fae),this.fae._o(new H4(t.Hnt()))},i.doe=function(t){if(tr(this.dae.Are,t)){var n;if(this.dae.doe(t),n5(t))null==(n=this.Noe)||n.doe(t);else i5(t)&&(this.lae.tae(t),this.Vae.delete(t.o));t.vn("Zne",this.Fae),this.fae._o(new z4(t).wa)}},i.roe=function(t){this.Wae(t),this.Uae()},i.Wae=function(t){this.Gae(t),this.Zae(t),this.Hae(t)},i.Gae=function(t){for(var n,i=[],r=0,e=this.dae.Are.filter(n5);r<e.length;r++){var u=e[r];if(u.sR)i.push(u);else if(u!==this.Mae){var s=u.Hne;void 0!==s&&t>=s||this.Mae&&u.lF+$4<this.Mae.Hne?(u.sR=!0,i.push(u)):void 0!==n&&n.lF<u.lF||(n=u)}}for(var o=0;o<i.length;o++){var a=i[o];this.doe(a)}this.Eae!==n&&(this.Xae(),this.Eae=n)},i.Xae=function(){var t;if(void 0!==this.Eae){var n,i=void 0!==this.Mae;null==(n=this.O2t())||n.cae(i)}null==(t=this.zae)||t.np(),this.qae=void 0,this.Yae=void 0},i.Kae=function(t,n){var i=!1,r=FA.Cn(this.na.TI()).BB(n,$4);void 0!==r&&(i=r.Tn(0)>=t.lF);var e=t.Hne,u=n>=t.lF&&(void 0===e||n<e);return i||u},i.Zae=function(t){var n=this;if(void 0!==this.Eae&&void 0===this.qae){var i=this.Eae;n5(i)&&void 0===this.jae&&this.Kae(i,t)&&(this.zae=new mr,this.qae=Er(this.Ohe(i,t,this.zae.ep),this.zae).catch((function(t){br(t)||(n.fae._o(new j4(i,"Could not load the ad break.").wa),i.sR=!0,n.Eae=void 0)})))}},i.Hae=function(t){var n=this;if(void 0!==this.Eae&&void 0===this.Yae&&void 0===this.Mae){var i,r=this.Eae.Hne;if(t>=this.Eae.lF&&(void 0===r||t<r))this.Yae=null==(i=this.qae)?void 0:i.then((function(){return n.Lae()}))}},i.moe=function(t){var n,i,r;this.xhe=t,null==(i=this.Noe)||i.moe(null!=(r=null!=t?t:null==(n=this._ae)?void 0:n.adTagParameters)?r:{}),this.lae.jhe=t},i.Uae=function(){var t,n=function(n,e){var u=e[n],s=u.Hne;if(void 0!==s&&r>=s)return"continue";var o=u.lF,a=u.lF+u.ct;r>=o&&r<=a&&!t.Vae.has(u.o)&&(t.lae.Qhe(u).catch((function(t){i.fae._o(new j4(u,"Could not load the overlay.").wa)})),t.fae._o(new K3(u).wa),t.Vae.set(u.o,u))},i=this,r=this.CI(),e=[];this.Vae.forEach((function(t){r>=t.lF&&(void 0===t.Hne||r<t.Hne)||e.push(t)})),e.forEach((function(t){i.lae.tae(t),i.Vae.delete(t.o)}));for(var u=0,s=this.dae.Are.filter(i5);u<s.length;u++)t=this,n(u,s)},i.Qae=function(){return void 0!==this.Mae&&void 0!==this.Eae&&xi(this.Mae.Hne,this.Eae.lF,$4)},i.nr=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return t.bZ=void 0,t.QH=void 0,t._ae=void 0,t.Jae=!0,t.$ae=NaN,t.Oae=NaN,t.Bae=NaN,t.Mae=void 0,null==(n=t.zae)||n.np(),t.qae=void 0,t.Yae=void 0,t.Eae=void 0,t.jae=void 0,[4,null==(i=t.Noe)?void 0:i.nr()];case 1:return r.sent(),t.Noe=void 0,t.dae.nr(),t.lae.nr(),t.Vae.clear(),t.Hu.vn(TI.mn,t.Itt),t.na.vn(ya.$y,t.Yzt),t.ynt.vn(Np.hB,t.cH),t.ynt.vn(Np.oB,t.Sd),t.Iae(),t.Pae(),t.Sae(),[2]}}))}))()},i.NR=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),[4,t.prototype.NR.call(n)];case 2:return i.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.NR().catch(_i)];case 1:return r.sent(),n.dae.yn(),[4,null==(i=n.Noe)?void 0:i.yn()];case 2:return r.sent(),[4,t.prototype.yn.call(n)];case 3:return r.sent(),[2]}}))}))()},i.GR=function(n){switch(n.type){case ya.Hy:case ya.Cy:case Np.hB:return!this.Jae;case Np.oB:return!this.Jae||(this.Jae=!1,!1);case ya.Dy:var i=this.jd();return i!==this.$ae&&(this.$ae=i,this._o(new ST(i))),!0;case ya.$y:return this.Nae(),!0}return t.prototype.GR.call(this,n)},Nt(n,[{key:"voe",get:function(){var t;return[null==(t=this.Noe)?void 0:t.boe].concat(Kt(this.lae.voe)).filter(Yn)}},{key:"goe",get:function(){return this.dae.Are}},{key:"jhe",get:function(){var t,n,i;return null!=(i=null!=(n=this.xhe)?n:null==(t=this._ae)?void 0:t.adTagParameters)?i:{}}}]),n}(r0);function n5(t){return"adbreak"===t.zw}function i5(t){return"overlay"===t.zw}var r5=function(t){function n(n){var i;return(i=t.call(this,n)||this).eue=0,i.vue=!0,i.rue=!1,i.due=new mr,i.oue=!0,i.hue=!0,i.gue=!0,i.Fne=!0,i.Xzt=function(t){i.FA=t.duration},i.hU=function(){i.ynt.vn(Np.uB,i.hU),i.vue=!1},i.mue=function(){i.ynt.vn(Np.oB,i.mue),i.tue&&(i.ynt.kI=i.tue,i.tue=void 0),i.ynt.CI()>0&&(i.eue-=i.ynt.CI())},i.Mxt=JZ.Vm,i.uue=new g3(Kn.mI),i}It(n,t);var i=n.prototype;return i.jd=function(){var n;return null!=(n=this.FA)?n:t.prototype.jd.call(this)},i.iu=function(){var n;return null!=(n=this.Sc)?n:t.prototype.iu.call(this)},i.CI=function(){return this.toe(t.prototype.CI.call(this))},i.EI=function(){return this.tue?new Date(this.tue.getTime()+Te(this.ynt.CI())):t.prototype.EI.call(this)},i.TI=function(){var n=t.prototype.TI.call(this);return FA.Cn(n).Pb(this.eue).ks()},i.lR=function(){var n=t.prototype.lR.call(this);return FA.Cn(n).Pb(this.eue).ks()},i.toe=function(t){return t+this.eue},i.Ca=function(n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),r._ae?(r.Sc=n,r.iue=new Y3(r.ynt),r.iue.pr(r.ynt.we,r.ynt.we.parentElement),r.VO(r.iue),[2]):[2]}}))}))()},i.mae=function(){},i.wae=function(){t.prototype.wae.call(this),this.sue()},i.Iae=function(){t.prototype.Iae.call(this),this.nue()},i.sue=function(){this.ynt.bn(ya.Dy,this.Xzt),this.ynt.bn(Np.uB,this.hU)},i.nue=function(){this.ynt.vn(ya.Dy,this.Xzt),this.ynt.vn(Np.uB,this.hU)},i.O2t=function(){return this.ynt},i.Tae=function(){return this.bae},i.DI=function(n,i){this.rue=!0,t.prototype.DI.call(this,n,i)},i.DR=function(){t.prototype.DR.call(this),this._o(new TT(this.CI())),this.oue=!0,this.hue=!1},i.PR=function(){this.hue=!0,t.prototype.PR.call(this)},i.Ohe=function(t,n,i){var r=this;return Pt((function(){var e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:return u=z3(t),[4,r.yae(u)];case 1:return a.sent(),[4,null==(e=r.Noe)?void 0:e.Fhe(t,n,i)];case 2:return r.aue=a.sent(),s=new s3(r.Mxt,r.uue),o=new Q1(r.Mxt.Oxt,s,"temporary"),r.lue=o.zee(AE(AE({sources:{src:r.aue}})),c3({amount:30,bandwidth:Mk.Vm.VG()||r.snt.oQ}),"temporary"),r.due.np(),r.due=new mr,[4,r.uue.ist(r.lue,r.Mxt,"temporary").pi(r.due.ep)];case 3:return a.sent(),[2]}}))}))()},i.fue=function(t,n){switch(t){case B3.LSHAPE_AD:return new j3(this.ynt,n);case B3.SINGLE:default:return new Y3(this.ynt)}},i._ue=function(){var t=this;return Pt((function(){var n,i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return null==(n=t.zae)||n.np(),t.zae=new mr,e=z3(t.Eae),[4,t.yae(e)];case 1:return u.sent(),null==(i=t.iue)||i.dr(t.ynt.we),t.vue=!0,t.eue=t.CI(),t.tue=t.EI(),t.ynt.bn(Np.uB,t.hU),t.fae._o(new K3(t.Eae).wa),[4,null==(r=t.Noe)?void 0:r.Roe({sources:{src:t.aue}},t.zae.ep,void 0,!0)];case 2:return u.sent(),t.iue=t.fue(t.Eae.nre,t.pae),t.m2t(t.iue),t.iue.pr(t.we,t.ynt.we.parentElement),[2]}}))}))()},i.Lae=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return void 0===n.Eae||void 0===n.aue?[2]:(n.nue(),[4,n._ue()]);case 1:return i.sent(),n.Rae(),n.gue=!1,[2,t.prototype.Lae.call(n)]}}))}))()},i.Dae=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.doe(n.Mae),[4,n._ue()];case 1:return i.sent(),[2,t.prototype.Dae.call(n)]}}))}))()},i.d2t=function(){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return n.Mae?(null==(i=n.lue)||i.rT(),n.lue=void 0,n.Pae(),n.vue=!0,n.Fne=!1,n.eue=n.CI(),n.tue=n.EI(),n.dae.Pre(n.ynt.nt),n.ynt.bn(Np.oB,n.mue),n.ynt.bn(Np.oB,n.Sd),n.ynt.bn(Np.uB,n.hU),[4,n.ynt.Ca(n.Sc,(new mr).ep)]):[2];case 1:return e.sent(),null==(r=n.iue)||r.dr(n.ynt.we),n.iue=new Y3(n.ynt),n.iue.pr(n.ynt.we,n.ynt.we.parentElement),n.m2t(n.iue),n.ynt.DR(),n.gue=!0,n.sue(),[2,t.prototype.d2t.call(n)]}}))}))()},i.NR=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return n.iue=void 0,n.FA=void 0,n.eue=0,n.aue=void 0,n.tue=void 0,n.gue=!0,n.vue=!1,n.oue=!0,n.hue=!0,n.due.np(),n.due=new mr,null==(i=n.lue)||i.rT(),n.lue=void 0,n.ynt.vn(Np.oB,n.mue),[4,t.prototype.NR.call(n)];case 1:return r.sent(),[2]}}))}))()},i.GR=function(n){if(void 0!==this.iue)switch(n.type){case ya.ho:return!0;case ya.Ky:return!this.hue||(this.hue=!1,this._o(new AT(this.toe(n.currentTime))),!0);case Np.uB:return!this.oue||(this.oue=!1,this._o(new Fp(this.toe(n.currentTime))),!0);case Np.aB:return this.vue||(this.oue=!0,this._o(new Op(this.toe(n.currentTime)))),!0;case ya.eb:return this.vue&&!this.rue||(this.rue=!1,this._o(new CT(this.toe(n.currentTime)))),!0;case ya.ib:return this.vue&&!this.rue||this._o(new RT(this.toe(n.currentTime))),!0;case ya.Ly:return!this.gue||(this._o(new IT(this.toe(n.currentTime))),!0);case ya._b:return this._o(new Eg(this.toe(n.currentTime),n.currentProgramDateTime)),!0;case ya.jy:return this._o(new oC(this.toe(n.currentTime))),!0;case ya.Qy:return this._o(new ET(this.toe(n.currentTime),n.playbackRate)),!0;case ya.vb:return this.Fne?(this._o(new NT(this.toe(n.currentTime),n.volume)),!0):(this.Fne=!0,!0);case ya.Ny:return this._o(new kT(this.toe(n.currentTime),n.readyState)),!0;case Np.nB:return this._o(new Bp(this.toe(n.currentTime),n.readyState)),!0;case Np.rB:return this._o(new Vp(this.toe(n.currentTime),n.readyState)),!0;case Np.oB:return this._o(new Mp(this.toe(n.currentTime),n.readyState)),!0;case Np.hB:return this._o(new Lp(this.toe(n.currentTime),n.readyState)),!0;case Np.aC:return this._o(new xp(this.toe(n.currentTime),n.readyState)),!0;case ya.My:return this._o(new PW(this.toe(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.GR.call(this,n)},n}(t5);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt();var e5=function(t){function n(n,i){var r,e=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-ad-player-one"),t}(),u=u5(n,e,i);return e.style.display="block",(r=t.call(this,u)||this).wue=n,r.yue=u,r}It(n,t);var i=n.prototype;return i.Vhe=function(){if(void 0===this.pue){var t=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-ad-player-two"),t}();this.pue=u5(this.wue,t,this.na.kd)}return this.na===this.yue?this.pue:this.yue},i.Roe=function(t,n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,(u=e.na.iu()?e.Vhe():e.na).Ca(t,r)];case 1:return s.sent(),e.uae(u,n,i),[2]}}))}))()},i.cae=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return t?[4,n.Vhe().NR()]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,n.na.NR()];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.bue=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return C3(t.na,t.Vhe()),t.m2t(t.Vhe()),t.na.we.style.display="",t.Vhe().we.style.display="none",[4,t.Vhe().NR()];case 1:return n.sent(),[2]}}))}))()},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.na.NR()];case 1:return n.sent(),[4,t.Vhe().NR()];case 2:return n.sent(),[2]}}))}))()},n}(Q4);function u5(t,n,i){var r=t.children[t.children.length-1];t.insertBefore(n,r),X3(n);var e=new V0(new LL(n,i,new HE),MS.Vm);return e.rR=cS.bO,e.KO=!1,e}var s5=function(t){function n(n,i,r){var e,u=new e5(i,r);return(e=t.call(this,u)||this).Aue=0,e.Tue=0,e.Fue=0,e.xue=0,e.Vue=function(){if(e.ynt.vn(Np.hB,e.Vue),e.Sue){var t=e.Sue;t.setSeconds(e.Sue.getSeconds()+e.Fue),e.ynt.kI=t,e.Sue=void 0}e.Tue-=e.ynt.CI(),e.JHt=void 0,e.kue=void 0},e.ynt=n,e.a4t=u,e}It(n,t);var i=n.prototype;return i.Vhe=function(){return this.a4t.Vhe()},i.Roe=function(t,n,i,r){return this.a4t.Roe(t,n,i,r)},i.Eue=function(t,n,i,r){var e,u;this.Aue=t,r?this.xue=0:this.xue+=i,this.Sue=n,null==(u=this.Sue)||u.setSeconds((null==(e=this.Sue)?void 0:e.getSeconds())+this.xue)},i.Une=function(){var t;if(void 0===this.Iue){this.JHt=void 0,this.kue=void 0;var n=this.Rue;this.Rue=void 0,null==(t=this.Cue)||t.np(),c5(this.ynt)&&(this.Pue=new mr,this.Iue=Er(this.Due(n,this.Pue.ep),this.Pue).catch(Tr))}},i.Gne=function(){var t;this.JHt=this.Aue+this.na.CI(),this.One&&(this.kue=new Date(this.One.getTime()+1e3*this.na.CI()));var n=this.Iue;this.Iue=void 0,null==(t=this.Pue)||t.np(),this.Cue=new mr,this.Rue=Er(this.Nue(n,this.Cue.ep),this.Cue).catch(Tr)},i.ja=function(){return this.ynt.WZ},i.Mue=function(){this.Lue||(this.Lue={source:this.ynt.iu(),duration:this.ynt.jd(),currentTime:this.ynt.CI(),preload:this.ynt.rR,autoplay:this.ynt.KO})},i.Bue=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return n.ynt.rR=cS.bO,n.ynt.KO=!1,n.a4t.qI=!0,i=n.a4t.iu(),[4,n.ynt.Ca(i,t)];case 1:return r.sent(),n.ynt.DI(n.a4t.CI()),[2]}}))}))()},i.Oue=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.Lue?(n.ynt.rR=n.Lue.preload,n.ynt.KO=n.Lue.autoplay,[4,n.ynt.Ca(n.Lue.source,t)]):[2];case 1:return i.sent(),n.Lue=void 0,[2]}}))}))()},i.Due=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(_i)];case 1:return r.sent(),i.Mue(),[4,i.ynt.NR()];case 2:return r.sent(),[4,i.Bue(n)];case 3:return r.sent(),i.m2t(i.ynt),i.ynt.DR(),[2]}}))}))()},i.Nue=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(_i)];case 1:return r.sent(),i.Fue=i.a4t.CI(),i.Tue=i.Fue+i.Mne,[4,i.ynt.NR()];case 2:return r.sent(),[4,i.Oue(n)];case 3:return r.sent(),i.m2t(i.a4t),i.ynt.bn(Np.hB,i.Vue),i.ynt.DR(),[2]}}))}))()},i.iu=function(){return this.Lue?this.Lue.source:t.prototype.iu.call(this)},i.jd=function(){return this.Lue?this.Lue.duration:t.prototype.jd.call(this)},i.Wue=function(){return t.prototype.jd.call(this)},i.lR=function(){var n=t.prototype.lR.call(this);return FA.Cn(n).Pb(this.Mne).ks()},i.TI=function(){var n=t.prototype.TI.call(this);return FA.Cn(n).Pb(this.Mne).ks()},i.NR=function(){return this.a4t.NR()},i.bue=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.a4t.bue()];case 1:return n.sent(),t.m2t(t.a4t),[2]}}))}))()},i.cae=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.a4t.cae(t)];case 1:return i.sent(),[2]}}))}))()},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Tue=0,t.Aue=0,t.Fue=0,t.Sue=void 0,t.ynt.vn(Np.hB,t.Vue),[4,t.a4t.nr()];case 1:return n.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),[4,t.prototype.yn.call(n)];case 2:return i.sent(),[2]}}))}))()},Nt(n,[{key:"Mne",get:function(){return this.Aue}},{key:"One",get:function(){return this.Sue}},{key:"Rne",get:function(){return this.Tue}},{key:"Nne",get:function(){return this.JHt}},{key:"Bne",get:function(){return this.kue}}]),n}(Q4);F(),Tt(),Rt();var o5=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),n.prototype.Ca=function(n,i){var r;return void 0!==Hi(null!=(r=null==n?void 0:n.ads)?r:[],G4)?et.reject(new ld(vd.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.Ca.call(this,n,i)},n}(Qk),a5=function(t){function n(n){var i;return(i=t.call(this,n)||this).ece=!0,i.oue=!0,i.jue=!0,i.Gue=function(t){if(i.Kue&&!L3(i.Kue)&&i.a4t&&i.Mae)switch(t.presentationMode){case"native-picture-in-picture":i.Xue(new x3(i.ynt,i.a4t),!1,!1);break;case"fullscreen":p1(i.kd)&&i.Xue(new x3(i.ynt,i.a4t),!1,!1)}},i.Que=function(t){i.$ue()},i.Jue=function(t){i.$ue()},i.Uue(),i}It(n,t);var i=n.prototype;return i.Uue=function(){this.ynt.vnt.bn("presentationmodechange",this.Gue)},i.Zue=function(){this.ynt.vnt.vn("presentationmodechange",this.Gue)},i.KI=function(n){n||this.JI||this.RR(),t.prototype.KI.call(this,n)},i.Ca=function(n,i){var r=this;return Pt((function(){return Ot(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),r._ae?(r.Hue=r._ae.backdropDoubleBox,r.Xue(new D3(r.ynt,r.a4t),!1,!0),[2]):[2]}}))}))()},i.mae=function(){this.a4t=new s5(this.ynt,this.wue,this.na.kd)},i.gae=function(){t.prototype.gae.call(this),this.wue=function(){var t=v.createElement("div");return vi(t,"theo-ads-sgai-ad-player"),t}(),this.Aae.appendChild(this.wue),this.Ahe=function(t){var n=v.createElement("div");return vi(n,"theo-ads-sgai-ima-container"),function(t){t.style.boxSizing="border-box",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}(this.wue),this.zue()},i.zue=function(){mi(this.bae),function(t){var n=t.style;n.boxSizing="border-box",n.position="relative",n.alignItems="center",n.border="0 solid transparent",n.borderWidth="0px",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll"}(this.Aae),X3(this.bae),X3(this.wue)},i.Sae=function(){this.Yue(),t.prototype.Sae.call(this),this.wue&&(oi(this.wue),this.wue=void 0)},i.Yue=function(){G3(this.Vs),G3(this.bae)},i.Xue=function(t,n,i){var r,e=null!=(r=this.Kue)?r:this,u=null!=t?t:this.ynt;C3(e,u),void 0!==this.Kue&&(this.Kue.dr(this.Aae,this.bae,this.wue),this.Kue.yn()),null==t||t.pr(this.Aae,this.bae,this.wue,e,n),this.Kue=t,i?this.VO(u):this.m2t(u)},i.O2t=function(){return this.a4t},i.Tae=function(){return this.Ahe},i.RR=function(){var n;t.prototype.RR.call(this),null==(n=this.a4t)||n.RR()},i.DI=function(n,i){this.jue=!0,t.prototype.DI.call(this,n,i)},i.toe=function(t){var n,i;return t+(null!=(i=null==(n=this.a4t)?void 0:n.Rne)?i:0)},i.Rae=function(){var n;t.prototype.Rae.call(this),null==(n=this.a4t)||n.bn(ya._b,this.Que),this.ynt.bn(ya.Xy,this.Jue)},i.Pae=function(){var n;t.prototype.Pae.call(this),null==(n=this.a4t)||n.vn(ya._b,this.Que),this.ynt.vn(ya.Xy,this.Jue)},i.$ue=function(){this.Wae(this.CI()),this.tce()},i.tce=function(){var t,n;if(!this.Qae()&&!L3(this.Kue)){var i=null==(t=this.Mae)?void 0:t.Hne;if(void 0!==i&&!(null==(n=this.Kue)?void 0:n.Pne())&&!xi(this.ynt.CI(),i,.001)){var r=FA.Cn(this.a4t.TI()),e=this.a4t.lR();if(0!==e.length){var u=k.min(e.end(e.length-1),i);r.gB().wr(u)&&!this.ynt.dR&&this.ynt.DI(i,{BOt:!0})}}}},i.Ohe=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return u=z3(t),[4,r.yae(u)];case 1:return s.sent(),[4,null==(e=r.Noe)?void 0:e.Ohe(t,n,i)];case 2:return s.sent(),[2]}}))}))()},i.fue=function(t,n){if(c5(this.ynt))return new x3(this.ynt,this.a4t);switch(t){case B3.DOUBLE:return n.rre||n.ir({backdropUri:this.Hue}),new F3(this.ynt,this.a4t,n.rre);case B3.LSHAPE_AD:return n.rre||n.ir({backdropUri:this.pae}),new Z3(this.ynt,this.a4t,n.rre);case B3.LSHAPE_CONTENT:return n.rre||n.ir({backdropUri:this.pae}),new W3(this.ynt,this.a4t,n.rre);case B3.SINGLE:default:return new P3(this.ynt,this.a4t)}},i.uae=function(t){var n,i=t.nre,r=this.fue(i,t);Gn.$g&&Gn.nm>=16&&Gn.nm<18&&(null==(n=this.a4t)||n.DI(this.a4t.CI()));this.Xue(r,this.oue,!1),Gn.Xv&&!r.Pne()&&(G3(this.bae),wi(this.bae)),this.fae._o(new K3(t).wa),this.ece=!1,this.qae=void 0,this.Yae=void 0},i.Kae=function(n,i){var r=!1;if(this.Qae()){var e,u,s;if(!(null==(e=this.Noe)?void 0:e.isPlayingAd()))return!1;var o=null==(s=this.a4t)?void 0:s.TI().end((null==(u=this.a4t)?void 0:u.TI().length)-1);o&&(o-=this.a4t.Mne,r=this.a4t.jd()-$4<o)}return r||t.prototype.Kae.call(this,n,i)},i.Lae=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){return void 0===(e=n.Eae)?[2]:(n.Iae(),n.sce=n.ynt.kI,null==(i=n.a4t)||i.Eue(n.CI(),n.sce,0,!0),null==(r=n.Noe)||r.Soe(!1),n.na.dR&&n._o(new CT(n.CI())),n.uae(e),n.Rae(),[2,t.prototype.Lae.call(n)])}))}))()},i.Dae=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return n.Yae?[2]:(n.Yae=n.qae,[4,n.Yae]);case 1:return u.sent(),n.doe(n.Mae),e=n.Eae,null==(r=n.a4t)||r.Eue(n.CI(),n.sce,null==(i=n.a4t)?void 0:i.Wue(),!1),[4,n.bue()];case 2:return u.sent(),n.uae(e),n.na.DR(),[2,t.prototype.Dae.call(n)]}}))}))()},i.d2t=function(){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return void 0===n.Mae?[2]:(n.Pae(),function(t){return t instanceof x3}(n.Kue)&&(n.dae.Pre(n.ynt.nt),n.ynt.bn(Np.oB,n.Sd)),e=null==(i=n.Kue)?void 0:i.Pne(),n.Xue(new D3(n.ynt,n.a4t),!0,!1),e||(n.jue=!1,n.ynt.DI(n.Mae.Hne,{BOt:!0})),[4,null==(r=n.a4t)?void 0:r.NR()]);case 1:return u.sent(),n.Eae&&n.qae&&n.bue(),n.wae(),n.ece=!1,[2,t.prototype.d2t.call(n)]}}))}))()},i.bue=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.a4t?[4,t.a4t.bue()]:[2];case 1:return i.sent(),null==(n=t.Noe)||n.Soe(!0),[2]}}))}))()},i.NR=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return n.oue=!0,n.jue=!0,n.ece=!0,n.Xue(void 0,!1,!0),[4,null==(i=n.a4t)?void 0:i.yn()];case 1:return r.sent(),n.sce=void 0,n.a4t=void 0,n.Ahe=void 0,[4,t.prototype.NR.call(n)];case 2:return r.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return n.Zue(),[4,null==(i=n.a4t)?void 0:i.yn()];case 1:return r.sent(),[4,t.prototype.yn.call(n)];case 2:return r.sent(),[2]}}))}))()},i.GR=function(n){if(void 0!==this.Kue)switch(n.type){case ya.ho:if(!this.ece)return this.ece=!0,!0;this.oue=!0;break;case ya.Ky:if(this.MI&&void 0!==this.Mae)return!0;break;case Np.uB:if(!this.oue)return!0;this.oue=!1;break;case Np.aB:this.oue=!0;break;case ya.ib:if(!this.jue)return!0;break;case ya.eb:if(!this.jue)return this.jue=!0,!0;break;case ya.Ly:if(void 0!==this.Mae)return!0}return t.prototype.GR.call(this,n)},Nt(n,[{key:"vnt",get:function(){return this.ynt.vnt}}]),n}(t5);function c5(t){var n=t.vnt.Ho()===MT.FULLSCREEN&&p1(t.kd);return t.WZ.CO||n}eA((function(t){return t.kd.ads.theoads?Gn.Rg||Gn.Ng||Gn.Vg?new r5(t):new a5(t):new o5(t)}),iA.Dnt),F(),Tt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt();var h5=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=void 0,n}return It(n,t),Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get casting(){return t.UQ},get state(){return t.Tft},start:function(){t.LR()},stop:function(){t.OR()},addEventListener:function(n,i){var r=Qg(n,qg);t.bn(r,i)},removeEventListener:function(n,i){var r=Qg(n,qg);t.vn(r,i)}}}(this)),this.eu}}]),n}(la),f5=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Fa=tE.UNAVAILABLE,e.cce=new mr,e.oce=function(){var t,n=null==(t=e.Kj.iu())?void 0:t.sources.filter(_T);(null==n?void 0:n.some(Yk))?e.Da(tE.AVAILABLE):e.Da(tE.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.na&&e.na.ZI?e.uce():e.Tft===tE.CONNECTED&&e._ce()},e.handleAirplayPlayerTimeUpdate=function(t){e.lce=t.currentTime,e.dce=e.Kj.kI},e.Omt=n,e.Kj=i,e.ace=r,e.ace.be(),i.qO(r),e.nce(),e}It(n,t);var i=n.prototype;return i.nce=function(){this.rce(),this.Omt.bn(ya.uo,this.oce),this.Da(tE.AVAILABLE)},i.rce=function(){this.na&&this.na.vn(ya.Sy,this.handleAirplayChangedEvent),this.hce?this.na=this.Kj:this.na=this.ace,this.na.bn(ya.Sy,this.handleAirplayChangedEvent)},i.uce=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return t.na?t.hce?[3,2]:(t.lce=t.Kj.RI,t.dce=t.Kj.kI,t.ace.bn(ya._b,t.handleAirplayPlayerTimeUpdate),t.fce=t.Kj.bC,t.Kj.bC=t.ace,t.fce.PR(),t.fce.be(),t.ace.ge(),t.ace.qI=t.fce.qI,t.ace.tR=t.fce.tR,t.ace.yR=t.fce.yR,n=t.ace.Ay(ya.eb),t.ace.RI=t.fce.RI,[4,n]):[2];case 1:return e.sent(),t.ace.DR(),t.ace.qI=t.fce.qI,t.ace.tR=t.fce.tR,t.ace.yR=t.fce.yR,[3,5];case 2:return t.na.JI?[3,4]:(i=new et((function(t){return g(t,800)})),r=t.na.Ay(ya.Ky,t.cce.ep),[4,et.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.na.DR(),e.label=5;case 5:return t.Da(tE.CONNECTED),[2]}}))}))()},i._ce=function(){this.fce?(this.ace.vn(ya._b,this.handleAirplayPlayerTimeUpdate),this.fce.qI=this.ace.qI,this.fce.tR=this.ace.tR,this.fce.yR=this.ace.yR,Gn.$g&&!Gn.su&&this.Kj.ct===1/0?this.dce?this.fce.kI=this.dce:this.fce.RI=1/0:this.fce.RI=this.lce,this.dce=void 0,this.lce=void 0,this.fce.ge(),this.ace.be(),this.ace.JI||this.fce.DR(),this.Kj.bC=this.fce,this.ace.nr(),this.fce=void 0):this.na&&(this.na.RI=this.na.RI+1e-4);this.Da(tE.AVAILABLE)},i.preloadPlayer=function(t){if(kr(t),this.na.aR<Pp.Xn){var n=this.na.Ay(Np.hB,t);return this.na.rR=cS.xW,n}return et.resolve()},i.Da=function(t){t!==this.Fa&&(this.Fa=t,this._o(new Q$(this.Fa)))},i.LR=function(){this.Omt.RR(),this.cce.np(),this.cce=new mr,xr(Er(this.hce?this.vce(this.cce.ep):this.gce(this.cce.ep),this.cce))},i.vce=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.Kj.LR(),[2]}}))}))()},i.gce=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.ace.nr()];case 1:if(e.sent(),void 0===(i=n.Kj.iu()))throw new p("Not possible to start Airplay without a source");return[4,n.ace.Ca(i,t)];case 2:return e.sent(),r=n.ace.Ay(Np.uB,t),n.ace.DR(),[4,Or(r,3e3)];case 3:return e.sent(),n.ace.PR(),kr(t),n.ace.LR(),[3,5];case 4:return br(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.OR=function(){this.na.OR()},i.yn=function(){var t;this.Ro(),this.Omt.vn(ya.uo,this.oce),this.cce.np(),this.Kj.YO(this.ace),null==(t=this.ace)||t.yn()},Nt(n,[{key:"UQ",get:function(){return this.Tft===tE.CONNECTED}},{key:"Tft",get:function(){return this.Fa}},{key:"hce",get:function(){return this.Kj.MR()}}]),n}(h5);F(),Tt(),Dt(),Rt();var v5=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.LR=function(){},i.OR=function(){},Nt(n,[{key:"UQ",get:function(){return!1}},{key:"Tft",get:function(){return tE.UNAVAILABLE}}]),n}(h5);F(),Tt(),Mt(),Dt(),Rt(),Wt();var d5=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).IH=void 0,a.Sc=void 0,a.LO=new vA,a.FO=new vA,a.Hl=new dA,a.Vs=n,a.pce=new AL(s,o,1,[aw.yE]),a.pce.Mst(n),a.mce=new zk(n,a.pce,i,r,e,u),a.mce._y(a.Ds),a.LO.bC=a.mce.ht,a.FO.bC=a.mce.rt,a.Hl.bC=a.mce.nt,a}It(n,t);var i=n.prototype;return i.WR=function(){this.mce.WR()},i.ZR=function(t){throw new p("Can't add a track while using AirPlay.")},i.DI=function(t,n){this.mce.DI(t,n)},i.MR=function(){return this.mce.MR()},i.LR=function(){this.mce.LR()},i.OR=function(){this.mce.OR()},i.DR=function(){xr(this.mce.DR())},i.PR=function(){this.mce.PR()},i.NR=function(){return Pt((function(){return Ot(this,(function(t){return[2]}))}))()},i.iu=function(){return this.Sc},i.Ca=function(t,n){var i=this;return Pt((function(){var r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:if(kr(n),i.Sc=t,gT(t.sources))r=IA({src:""});else for(e=t.sources.filter(_T),u=0;u<e.length;u++)if(Yk(s=e[u])){r=s;break}if(!r)throw new p("Unsupported source.");return[4,i.mce.Ca(r,t,n)];case 1:return o.sent(),i.BH(r),[2]}}))}))()},i.BH=function(t){this.IH!==t&&(this.IH=t,this._o(new XT(t)))},i.IR=function(){return this.mce.IR()},i.AI=function(){return[]},i.RR=function(){this.pce.ZH()},i.pr=function(t){UT(this,t)},i.dr=function(){},i.UR=function(t){return!1},i.FR=function(){this.mce.FR()},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.IH=void 0,t.Sc=void 0,[4,t.mce.nr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.mce.ge()},i.be=function(){this.mce.be()},i.xR=function(){return this.mce.xR()},i.ja=function(){return this.mce.ja()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Ro(),t.pce.yn(),[4,t.mce.yn()];case 1:return n.sent(),t.LO.yn(),t.FO.yn(),t.Hl.yn(),[2]}}))}))()},Nt(n,[{key:"ht",get:function(){return this.mce.ht}},{key:"SI",get:function(){return this.mce.SI}},{key:"bt",get:function(){return this.IH}},{key:"RI",get:function(){return this.mce.RI},set:function(t){this.DI(t)}},{key:"kI",get:function(){return this.mce.kI}},{key:"ct",get:function(){return this.mce.ct}},{key:"we",get:function(){return this.Vs}},{key:"MI",get:function(){return this.mce.MI}},{key:"lt",get:function(){return this.mce.lt}},{key:"OI",get:function(){return this.mce.OI}},{key:"VI",get:function(){return this.mce.VI}},{key:"UI",get:function(){return this.mce.UI}},{key:"ZI",get:function(){return this.mce.ZI}},{key:"ER",get:function(){return this.mce.ER}},{key:"SR",get:function(){return this.mce.SR}},{key:"XI",get:function(){return this.mce.XI}},{key:"qI",get:function(){return this.mce.qI},set:function(t){this.mce.qI=t}},{key:"jI",get:function(){return this.mce.jI}},{key:"JI",get:function(){return this.mce.JI}},{key:"tR",get:function(){return this.mce.tR},set:function(t){this.mce.tR=t}},{key:"sR",get:function(){return this.mce.sR}},{key:"rR",get:function(){return this.mce.rR},set:function(t){this.mce.rR=t}},{key:"aR",get:function(){return this.mce.aR}},{key:"cR",get:function(){return this.mce.cR}},{key:"dR",get:function(){return this.mce.dR}},{key:"nt",get:function(){return this.mce.nt}},{key:"vR",get:function(){return this.mce.vR}},{key:"pR",get:function(){return this.mce.pR}},{key:"rt",get:function(){return this.mce.rt}},{key:"yR",get:function(){return this.mce.yR},set:function(t){this.mce.yR=t}}]),n}(wa),l5=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new d5(i.Ta.we,i.mI,i.kd,i.snt,i.SR,i.ant,i.Wl);return i.wce=new f5(i,i.Ta,r),i.rq.zQ(i.wce),i.bn(ya.Cy,(function(){i.wce.rce()})),i}return It(n,t),n.prototype.yn=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return n.wce.yn(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(Qk);eA((function(t){return Kn.Ys.wp?new l5(t):(t.rq.zQ(new v5),t)}),iA.Nnt),F(),Tt(),F(),Tt(),Dt();var g5="VPAID",w5=function(){function t(){this.yce=new A1}var n=t.prototype;return n.sX=function(t){return m5(t)},n.V2t=function(n,i,r){return r.ads||(r.ads=yT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.bce(),this.yce.V2t(n,i,r)},n.K6=function(n,i,r,e){!function(t){if(!m5(t))throw new p("Unknown ad integration: "+t.integration)}(n);var u=t.Ace(n,r.we);this.yce.K6(u,i,r,e)},n.Aq=function(t){var n=Wg(t);if(!S(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?tu('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?tu('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?tu('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?tu('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?tu('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?tu('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.Ace=function(n,i){return{integration:LS.SPOTX,sources:{src:t.Sce(n,f.location.href,i.offsetWidth,i.offsetHeight,Gn.Cm)}}},t.Sce=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=k.random()),t.Tce(i)&&(a.content_page_url=i);var c=ao({},a,n.queryParameters);return c[g5]||c.VPI||(c[g5]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.kce(c)},t.Tce=function(t){return Qo(t,"http://")||Qo(t,"https://")},t.kce=function(t){return WQ(t)},t.bce=function(){return Gn.Ug?QA.ENABLED:QA.INSECURE},Nt(t,[{key:"F2t",get:function(){return this.yce.F2t}}]),t}();function m5(t){return"spotx"===t.integration}MS.Vm.nX(new w5),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var y5=k.PI/180,p5=180/k.PI,_5=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.Wb=function(t,n){return this.x=t,this.y=n,this},n.s_t=function(t){return this.x=t.x,this.y=t.y,this},n.Ece=function(t){return this.Wb(t[0],t[1])},n.xce=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.Ice=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),b5=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.Wb=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.s_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.Ece=function(t){return this.Wb(t[0],t[1],t[2])},n.xce=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.Rce=function(){var t=this.V();if(0!==t){var n=1/t;this.Cce(n)}else this.x=0,this.y=0,this.z=0;return this},n.Cce=function(t){this.x*=t,this.y*=t,this.z*=t},n.Pce=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.Dce=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.Nce=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),k5=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.Wb=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.s_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.Ece=function(t){return this.Wb(t[0],t[1],t[2],t[3])},n.xce=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.Dce=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.kV=function(t){return this.Mce(this,t)},n.Mce=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.Lce=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.Rce(),this},n.Bce=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*k.atan2(r,s),n=k.PI/2,i=0;else if(o<-.499)t=-2*k.atan2(r,s),n=-k.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=k.atan2(2*e*s-2*r*u,1-2*c-2*h),n=k.asin(2*o),i=k.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new A5(t,i,n)},n.Rce=function(){var t=k.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),A5=function(){function t(t,n,i){this.Oce=t||0,this.Fce=n||0,this.Vce=i||0}var n=t.prototype;return n.Wb=function(t,n,i){return this.Oce=t,this.Fce=n,this.Vce=i,this},n.s_t=function(t){return this.Wb(t.Oce,t.Fce,t.Vce)},n.QO=function(t){return this.Oce+=t.Oce,this.Fce+=t.Fce,this.Vce+=t.Vce,this},n.jF=function(t){return this.Oce-=t.Oce,this.Fce-=t.Fce,this.Vce-=t.Vce,this},n.Wce=function(){var t=this.Oce,n=this.Vce,i=this.Fce,r=k.cos(t/2),e=k.cos(n/2),u=k.cos(i/2),s=k.sin(t/2),o=k.sin(n/2),a=k.sin(i/2),c=r*e,h=s*o;return new k5(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}();F(),Tt();var T5=["Uce","Qht","Gce","error"];F(),Tt();var S5=function(t){return t.Rs="unavailable",t.Zce="available",t.Xa="presenting",t}({});F(),Tt();var E5=function(){function t(t,n){var i=this;this.qe=!1,this.ole=new _5,this.hle=new _5,this.nle=new _5,this.$ce=!1,this.Hce=function(t){i.ole.Wb(t.clientX,t.clientY),i.$ce=!0,t.preventDefault(),t.stopPropagation()},this.Xce=function(t){t.touches&&1===t.touches.length&&(i.ole.Wb(t.touches[0].pageX,t.touches[0].pageY),i.$ce=!0,t.preventDefault())},this.ar=function(t){if(i.$ce||i.rle()){if(i.rle()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.hle.Wb(i.ole.x-n,i.ole.y-r)}else i.hle.Wb(t.clientX,t.clientY);i.nle.Ice(i.hle,i.ole),i.ole.s_t(i.hle),i.tle()}},this.zce=function(t){i.$ce&&(i.hle.Wb(t.touches[0].pageX,t.touches[0].pageY),i.nle.Ice(i.hle,i.ole),i.ole.s_t(i.hle),i.tle())},this.qce=function(){i.Jce()},this.Yce=function(){i.Jce()},this.Qce=function(){i.Jce()},this.sle=t,this.Vs=n}var n=t.prototype;return n.MW=function(){this.qe||(this.qe=!0,this.Vs.addEventListener("mousedown",this.Hce),this.Vs.addEventListener("touchstart",this.Xce),f.addEventListener("mousemove",this.ar),f.addEventListener("touchmove",this.zce),f.addEventListener("mouseup",this.qce),f.addEventListener("touchend",this.Yce),this.Kce(f))},n.LW=function(){this.qe&&(this.qe=!1,this.Vs.removeEventListener("mousedown",this.Hce),this.Vs.removeEventListener("touchstart",this.Xce),f.removeEventListener("mousemove",this.ar),f.removeEventListener("touchmove",this.zce),f.removeEventListener("mouseup",this.qce),f.removeEventListener("touchend",this.Yce),this.jce(f))},n.Kce=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(pi(t))try{t.parent.addEventListener("mouseup",this.qce),this.Kce(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Qce)}},n.jce=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Qce),pi(t))try{t.parent.removeEventListener("mouseup",this.qce),this.jce(t.parent)}catch(t){}},n.Jce=function(){this.$ce=!1},n.tle=function(){var t=this.sle.ele;t.yaw+=2*k.PI*this.nle.x*.4/this.Vs.clientWidth,t.pitch+=2*k.PI*this.nle.y*.5/this.Vs.clientHeight,t.pitch=Di(t.pitch,-k.PI/2,k.PI/2),this.sle.ele=t},n.rle=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Vs},n.yn=function(){this.LW()},t}();F(),Tt(),Rt();var I5=function(t){function n(){return t.call(this,"Gce")||this}return It(n,t),n.prototype.ka=function(){return new R5},n}(Ig),R5=function(t){function n(){return t.call(this,"stereochange")||this}return It(n,t),n}(ma);F(),Tt(),qt();var C5=function(){function t(){this.yJ=[0,0,0,1],this.cle=[]}var n=t.prototype;return n.ale=function(t){var n;(n=t).clearColor.apply(n,Kt(this.yJ)),t.clear(t.COLOR_BUFFER_BIT)},n.ule=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.cle.forEach((function(i){i.ule(t,n)}))},n.lle=function(t){this.cle.push(t)},n.dle=function(){this.cle=[]},t}();F(),Tt(),Rt(),F(),Tt(),qt(),F(),Tt(),Rt();var N5=function(){function t(t,n,i,r,e){this._le=t,this.jb=this.fle(t,n,i),this.vle=r,this.Zp=e,this.mle=!1,this.ple=0,this.rc=0}return t.prototype.fle=function(t,n,i){var r=t.createBuffer();return null===r?(tu("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),D5=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}It(n,t);var i=n.prototype;return i.MW=function(t){if(null!==this.jb)if(null!==t){var n=this._le;n.bindBuffer(n.ARRAY_BUFFER,this.jb),n.vertexAttribPointer(t,this.vle,this.Zp,this.mle,this.ple,this.rc),n.enableVertexAttribArray(t)}else tu("Attempted to enable attribute without location.");else tu("Attempted to enable buffer that failed to initialize.")},i.LW=function(t){t&&this._le.disableVertexAttribArray(t)},n}(N5);var x5=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).yle=i.length,r}return It(n,t),n.prototype.wle=function(){var t=this._le;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.jb),t.drawElements(t.TRIANGLES,this.yle,this.Zp,this.rc)},n}(N5);F(),Tt();var P5=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),L5=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),M5=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),O5=function(){function t(t,n,i){this._le=t,this.Tle=this.ble(this._le,n,i)}var n=t.prototype;return n.ble=function(t,n,i){var r=this.Ale(t,t.VERTEX_SHADER,n),e=this.Ale(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return tu("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(tu("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(tu("Failed to initialize shader program"),null))},n.Ale=function(t,n,i){var r=t.createShader(n);if(null===r)return tu("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return tu("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.Sle=function(){return this.Tle},n.kle=function(t){var n=this.Tle;if(null===n)return tu("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this._le.getAttribLocation(n,t);return-1===i?null:i},n.Ele=function(t){var n=this.Tle;if(null===n)return tu("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this._le.getUniformLocation(n,t);return null===i&&nu("Attempted to retrieve nonexistent uniform: "+t),i},t}(),B5=function(){function t(t,n,i){this.Ile=t,this.Rle=n,this.Cle=i}var n=t.prototype;return n.xle=function(){var t,n=this.Ile.length,i=(t=k).max.apply(t,Kt(this.Rle));return i>=n?(nu("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&tu("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.Cle||this.Cle.length===n||(nu("Created geometry where position ("+n+") and uv ("+this.Cle.length+") buffers have different length."),!1))},n.Ple=function(t,n){if(!this.xle())throw new p("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new D5(t,new Float32Array(i),3)}(t,this.Ile),r=function(t,n){return new x5(t,new Uint16Array(n))}(t,this.Rle),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new D5(t,new Float32Array(i),2)}(t,this.Cle);return new V5(i,r,e,n)},t}(),V5=function(){function t(t,n,i,r){this.Ile=t;var e=r.kle(P5.VertexPos);if(null===e)throw new p("Failed to get position attribute location.");this.Nle=e,this.Cle=i,this.Mle=r.kle(P5.VertexUV),this.Rle=n}var n=t.prototype;return n.Dle=function(){this.Ile.MW(this.Nle),null!==this.Mle&&this.Cle.MW(this.Mle)},n.Lle=function(){this.Ile.LW(this.Nle),null!==this.Mle&&this.Cle.LW(this.Mle)},n.ule=function(){this.Rle.wle()},t}(),F5=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*k.PI),void 0===s&&(s=0),void 0===o&&(o=k.PI);for(var a=0,c=k.min(s+o,k.PI),h=[],f=[],v=[],d=[],l=0;l<=r;l++){var g=[],w=l/r,m=0;0===l&&0===s?m=.5/i:l===r&&c===k.PI&&(m=-.5/i);for(var y=0;y<=i;y++){var p=y/i,_=-n*k.cos(e+p*u)*k.sin(s+w*o),b=n*k.cos(s+w*o),A=n*k.sin(e+p*u)*k.sin(s+w*o);f.push(new b5(_,b,A)),v.push(new _5(p+m,1-w)),g.push(a++)}d.push(g)}for(var T=0;T<r;T++)for(var S=0;S<i;S++){var E=d[T][S+1],I=d[T][S],R=d[T+1][S],C=d[T+1][S+1];(0!==T||s>0)&&h.push(E,I,C),(T!==r-1||c<k.PI)&&h.push(I,R,C)}return t.call(this,f,h,v)||this}return It(n,t),n}(B5);F(),Tt(),F(),Tt();var U5=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],W5=function(){function t(t,n){if(this._le=t,this.Fle=t.createTexture(),null===this.Fle)throw new p("Failed to create texture");var i=n.Ele(L5.Texture);if(null===i)throw new p("Failed to get texture location.");this.Vle=i,t.bindTexture(t.TEXTURE_2D,this.Fle),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Ole=t.TEXTURE0,this.A2=0,this.Ule=t.RGBA,this.Gle=t.RGBA,this.Zle=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.A2,this.Ule,2,2,0,this.Gle,this.Zle,new E(U5))}var n=t.prototype;return n.Ble=function(){var t=this._le;t.activeTexture(this.Ole),t.bindTexture(t.TEXTURE_2D,this.Fle)},n.pr=function(){var t=this._le;t.activeTexture(this.Ole),t.bindTexture(t.TEXTURE_2D,this.Fle),t.uniform1i(this.Vle,0)},n.Wle=function(t){var n=this._le;n.bindTexture(n.TEXTURE_2D,this.Fle),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.A2,this.Ule,this.Gle,this.Zle,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.Hle=function(t){var n=this._le;n.bindTexture(n.TEXTURE_2D,this.Fle),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.gnt.qY(n,n.TEXTURE_2D,this.A2,this.Ule,this.Gle,this.Zle),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),Z5="\n    attribute vec4 "+P5.VertexPos+";\n    attribute vec2 "+P5.VertexUV+";\n\n    uniform mat4 "+L5.ModelViewMat+";\n    uniform mat4 "+L5.ProjectionMat+";\n    \n    varying mediump vec2 "+M5.UV+";\n    \n    void main() {\n      gl_Position = "+L5.ProjectionMat+" * "+L5.ModelViewMat+" * "+P5.VertexPos+";\n      "+M5.UV+" = "+P5.VertexUV+";\n    }\n",X5="\n    varying mediump vec2 "+M5.UV+";\n    \n    uniform sampler2D "+L5.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+L5.Texture+", "+M5.UV+");\n    }\n",G5=function(){function t(t){this._le=t,this.Tle=new O5(t,Z5,X5),this.Fle=new W5(t,this.Tle)}var n=t.prototype;return n.Sle=function(){return this.Tle},n.MW=function(){this._le.useProgram(this.Tle.Sle()),this.Fle.pr()},n.Xle=function(t){this.Fle.Wle(t)},n.zle=function(t){this.Fle.Hle(t)},t}();F(),Tt(),Dt(),F(),Tt();var H5=V(_n()),z5=V(bn()),Y5=(V(kn()),V(An())),j5=(V(Tn()),V(Sn())),K5=V(En()),q5=V(In()),J5=V(Rn()),Q5=V(Cn()),$5=function(){function t(t,n,i,r){this.fo=new b5,this.ide=new b5,this.Yle="none",this.jle=i;var e=i.Sle();this.Kle=n.Ple(t,e),r&&(this.Yle=r);var u=e.Ele(L5.ModelViewMat);if(null===u)throw new p("Failed to get model view matrix location.");this.$le=u;var s=e.Ele(L5.ProjectionMat);if(null===s)throw new p("Failed to get projection matrix location.");this.ede=s}var n=t.prototype;return n.ule=function(t,n){if(this.qle(n.Yle)){this.Kle.Dle(),this.jle.MW();var i=this.Qle,r=n.Jle,e=(0,K5.default)(r,r,i);t.uniformMatrix4fv(this.$le,!1,e);var u=n.tde;t.uniformMatrix4fv(this.ede,!1,u),this.Kle.ule(),this.Kle.Lle()}},n.qle=function(t){return"none"===this.Yle||"right"!==t&&"left"===this.Yle||"right"===t&&"right"===this.Yle},Nt(t,[{key:"Qle",get:function(){var t=(0,H5.default)(),n=this.fo;return(0,Q5.default)(t,t,n.xce()),(0,J5.default)(t,t,this.ide.x,new Float32Array([1,0,0])),(0,J5.default)(t,t,this.ide.y,new Float32Array([0,1,0])),(0,J5.default)(t,t,this.ide.z,new Float32Array([0,0,1])),t}}]),t}();F(),Tt(),Dt();var t6=function(){function t(t){this.rde=72*k.PI/180,this.ode=1.77,this.hde=.1,this.ade=100,this.Yle="none",this.dde=new b5,this.fde=new k5,this.cde=this.sde(),this.vde=this.lde(),t&&(this.Yle=t)}var n=t.prototype;return n.sde=function(){var t=(0,H5.default)();return(0,q5.default)(t,this.rde,this.ode,this.hde,this.ade)},n.ude=function(){this.cde=this.sde()},n.lde=function(){var t=(0,H5.default)(),n=(0,Y5.default)((0,H5.default)(),this.dde.xce()),i=(0,z5.default)((0,H5.default)(),this.fde.xce());return(0,K5.default)(t,n,i),(0,j5.default)(t,t),t},n._de=function(){this.vde=this.lde()},n.gde=function(){this._de(),this.ude()},n.nr=function(){this.dde=new b5,this.ide=new k5,this.gde()},n.mde=function(t){var n=this.fde.Bce();n.QO(t),this.ide=n.Wce()},n.pde=function(t){this.ide=t.Wce()},Nt(t,[{key:"tde",get:function(){return new Float32Array(this.cde)},set:function(t){this.cde=t}},{key:"Jle",get:function(){return new Float32Array(this.vde)}},{key:"wde",get:function(){return this.rde},set:function(t){this.rde=t,this.ude()}},{key:"yde",get:function(){return this.ode},set:function(t){this.ode=t,this.ude()}},{key:"fo",get:function(){return(new b5).s_t(this.dde)},set:function(t){this.dde=t,this._de()}},{key:"ide",get:function(){return(new k5).s_t(this.fde)},set:function(t){this.fde=t,this._de()}}]),t}();F(),Tt(),Rt();var n6=function(t){function n(){return t.call(this,"Uce")||this}return It(n,t),n.prototype.ka=function(){return new i6},n}(Ig),i6=function(t){function n(){return t.call(this,"directionchange")||this}return It(n,t),n}(ma),r6=1e-4,e6=function(t){function n(n){var i;return(i=t.call(this)||this).GW=new mr,i.Ide=!1,i.pfe=!1,i.Afe=new k5,i.Ife=new k5,i.Sfe=new k5,i.rde=74,i.ufe=!1,i.FT=void 0,i.Mde=rE.NONE,i.gfe=!1,i.mfe=eE.NONE,i.Bde=new C5,i.zde=null,i.afe=null,i.qde=null,i.Qde=null,i.$de=!1,i.tfe=null,i.ofe=null,i.rfe=null,i.ffe=0,i.cfe=!1,i.Ade=function(){var t=i.Ide;i.xde().then((function(){i.Ide?t||i.zde||i.afe||i.Cde():i.GNt("Inline session not available. Panorama functionality will not work.",vd.VR_PRESENTATION_ERROR)}))},i.co=function(){var t;i.Wde(),i.Gde(),null==(t=l.xr)||t.removeEventListener("devicechange",i.Ade);var n=i.xfe();i.FT=n,i.vfe=Yn(n),i.Mde=(null==n?void 0:n.stereoMode)||rE.NONE,i.Nde=(null==n?void 0:n.panoramaMode)||eE.NONE,n&&(i.Tde(),i.Cde(),i.bde())},i.Vde=function(){i.Xde()},i.Hde=function(){i.jde&&(i.Ude(),i.jde.removeEventListener("end",i.Hde),i.jde.end().catch(_i),i.jde=null,i.Qde=null,i.$de=!1,i.zde?i.Yde():i.Xde())},i.gn=function(){i.Fde()},i.sfe=function(t,n){if(i._le){var r=i._le,e=i.ife;if(null===i.rfe&&i.dfe()&&(i.Ode.zle(i.na),i.ffe>0&&(i.ffe-=1)),null!==e&&void 0!==n){i.tfe=e.requestAnimationFrame(i.sfe);var u=e.renderState.baseLayer,s=n.getViewerPose(i.yfe);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new A5,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new t6(f.eye);if(v.tde=f.projectionMatrix,i.hfe()){var d=void 0;if(Gn.Qs&&Gn.gg&&null===i.afe){if(0===(d=f.transform.inverse.orientation).x&&0===d.y&&0===d.z&&1===d.w)return}else d=f.transform.orientation;v.ide=new k5(d.x,d.y,d.z,d.w)}i.zde&&v.mde(i.Sfe.Bce()),o=o.QO(v.ide.Bce()),a+=1;var l=u.getViewport(f);l&&r.viewport(l.x,l.y,l.width,l.height),i.Bde.ule(r,v)}var g=new A5(o.Oce/a,o.Fce/a,o.Vce);i.Afe=g.Wce(),function(t,n){var i=t.Dce(n);return 1-i*i<r6}(i.Afe,i.Ife)||(i.Ife.s_t(i.Afe),i._o(new n6))}}}},i.rz=function(){i.ffe=5},i.na=n,i.wa=function(t){var n,i={get stereo(){return t.Tfe},set stereo(n){t.Tfe=n},get useDeviceMotionControls(){return t.kfe},set useDeviceMotionControls(n){t.kfe=n},get direction(){return t.bfe},set direction(n){t.bfe=n},get verticalFOV(){return t.Efe},set verticalFOV(n){t.Efe=n},get canPresentVR(){return t.wfe},get state(){return t.Tft},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new TR(t,T5,i),i}(i),i.Sde(),i}It(n,t);var i=n.prototype;return i.bde=function(){l.xr?(l.xr.addEventListener("devicechange",this.Ade),this.Ade()):this.GNt("Your browser does not support WebXR",vd.VR_PLATFORM_UNSUPPORTED)},i.Sde=function(){this.na.Sa.bn(vS.da,this.gn),this.na.bn(TI.mn,this.gn),this.na.bn(ya.uo,this.co),this.na.bn(ya.eb,this.rz)},i.Tde=function(){var t;this.kde||(this.kde=v.createElement("canvas"),this.kde.className="theoplayer-vr",this.kde.style.zIndex="2",this.kde.style.background="black",this.kde.style.display="none",this.na.we.appendChild(this.kde),wi(this.kde));var n=null!=(t=this.kde.getContext("webgl2"))?t:this.kde.getContext("webgl");n?(this._le=n,this.Ede=new E5(this,this.kde)):this.GNt("Your browser does not support WebGL",vd.VR_PLATFORM_UNSUPPORTED)},i.xde=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return l.xr?[4,et.all([l.xr.isSessionSupported("inline").then((function(n){t.Ide=n})).catch((function(n){t.Ide=!1,t.GNt("exception when calling xr.isSessionSupported for inline session: "+n,vd.VR_PRESENTATION_ERROR)})),l.xr.isSessionSupported("immersive-vr").then((function(n){t.Rde=n})).catch((function(n){t.Rde=!1,t.GNt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,vd.VR_PRESENTATION_ERROR)}))])]:(t.Ide=!1,t.Rde=!1,[2]);case 1:return n.sent(),[2]}}))}))()},i.Cde=function(){this.Pde&&(this.Dde(this.Nde,this.Mde),this.Lde())},i.Dde=function(t,n){var i=this._le;if(i&&t!==eE.NONE){var r,e;this.Bde.dle(),t===eE.PM360?(r=2*k.PI,e=-k.PI/2):(r=k.PI,e=-k.PI);for(var u=new F5(16,60,40,0,r),s=[],o=[],a=0;a<u.Cle.length;a++){var c=u.Cle[a];switch(n){case rE.NONE:s.push(c),o.push(c);break;case rE.VERTICAL:s.push(new _5(c.x,.5*c.y)),o.push(new _5(c.x,.5*c.y+.5));break;case rE.HORIZONTAL:s.push(new _5(.5*c.x,c.y)),o.push(new _5(.5*c.x+.5,c.y))}}u.Ile.forEach((function(t){t.x*=-1}));var h=new B5(u.Ile,u.Rle,s),f=new B5(u.Ile,u.Rle,o);this.Ode=new G5(i);var v=new $5(i,h,this.Ode,"left");v.ide.y=e,this.Bde.lle(v);var d=new $5(i,f,this.Ode,"right");d.ide.y=e,this.Bde.lle(d)}},i.Lde=function(){this._le&&(this.kde.style.display="block",this.Fde(),this.na.vn(ya.ho,this.Vde),this.Ide&&(this.na.JI?this.na.bn(ya.ho,this.Vde):this.Vde()))},i.Wde=function(){this.Ude(),this.na.vn(ya.ho,this.Vde),this.kde&&(this.kde.style.display="none")},i.Gde=function(){this.Zde(),this.Hde()},i.Xde=function(){var t=this;return Pt((function(){var n,i,r,e;return Ot(this,(function(u){switch(u.label){case 0:if(t.zde||!t.Ide)return[2];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,Sr(l.xr.requestSession("inline"),t.GW.ep)];case 2:return n=u.sent(),i=Gn.Qs?Gn.gg?"viewer":"local":"viewer",[4,n.requestReferenceSpace(i)];case 3:return r=u.sent(),n.addEventListener("end",t.Zde),t.qde=r,t.zde=n,t.Ede.MW(),t.Yde(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,t._le),inlineVerticalFieldOfView:t.rde*y5})];case 4:return u.sent(),[3,6];case 5:return e=u.sent(),t.Zde(),t.GNt(e,vd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Zde=function(){this.zde&&(this.Ude(),this.Ede.LW(),this.zde.removeEventListener("end",this.Zde),this.zde.end().catch(_i),this.zde=null,this.Fde())},i.Kde=function(){var t=this;return Pt((function(){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:if(t.jde||!t.Rde)return[2];t.Ude(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Sr(l.xr.requestSession("immersive-vr"),t.GW.ep)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.Hde),t.Qde=i,t.jde=n,[4,t.Jde()];case 4:return e.sent(),t.Yde(),[3,6];case 5:return r=e.sent(),t.Hde(),t.GNt(r,vd.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Jde=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return n=t._le,i=t.jde,t.kde&&n&&i&&!t.$de?(t.kde.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.kde.addEventListener("webglcontextrestored",(function(){t.Dde(t.Nde,t.Mde)})),t.$de=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.Fde=function(){if(!this.jde&&this._le){var t=this._le,n=this.kde.clientWidth,i=this.kde.clientHeight;if(0===n||0===i)return;var r=Kn.Ys.pp;this.kde.width=n*r,this.kde.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.Yde=function(){null===this.tfe&&(this.efe(),this.ife?this.tfe=this.ife.requestAnimationFrame(this.sfe):this.nfe())},i.Ude=function(){null!==this.tfe&&(this.nfe(),this.ife&&this.ife.cancelAnimationFrame(this.tfe),this.tfe=null)},i.efe=function(){var t=this;if(null===this.rfe){var n=this.na.IR();if(void 0!==n&&n instanceof HTMLVideoElement&&"function"==typeof n.requestVideoFrameCallback){var i=function(){t.Ode.zle(t.na),t.rfe=n.requestVideoFrameCallback(i)};this.ofe=n,this.rfe=n.requestVideoFrameCallback(i)}}},i.nfe=function(){var t,n;null!==this.rfe&&(null==(n=this.ofe)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.rfe),this.ofe=null,this.rfe=null)},i.hfe=function(){return!!this.afe||(Gn.su?this.ufe&&this.cfe:this.ufe)},i.lfe=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.cfe="granted"===n}))},i.dfe=function(){return(!this.JI()||Boolean(this.ffe))&&this._fe()},i.JI=function(){return this.na.JI},i._fe=function(){return this.na.aR>=2},i.GNt=function(t,n){this._o(new xk(new ld(n,t)))},i.xfe=function(){var t=this.na.iu();return t&&t.vr},i.yn=function(){this.GW.np(),this.Gde(),this.Ro(),this.kde&&(oi(this.kde),this.kde=void 0),this._le=void 0,this.Ede&&(this.Ede.yn(),this.Ede=void 0),this.na=void 0},Nt(n,[{key:"vfe",get:function(){return this.gfe},set:function(t){var n=this.Tft;this.gfe=t,this.Tft!==n&&this._o(new Z1)}},{key:"Pde",get:function(){return this.Nde!==eE.NONE}},{key:"Nde",get:function(){return this.mfe},set:function(t){var n=this.Tft;this.mfe=t,this.Tft!==n&&this._o(new Z1)}},{key:"Rde",get:function(){return this.pfe},set:function(t){var n=this.pfe;this.pfe=t,this.pfe!==n&&this._o(new Z1)}},{key:"wfe",get:function(){return this.Rde}},{key:"ife",get:function(){return this.jde||this.zde}},{key:"jde",get:function(){return this.afe},set:function(t){var n=this.Tft;this.afe=t,this.Tft!==n&&this._o(new Z1)}},{key:"yfe",get:function(){return this.Qde||this.qde}},{key:"bfe",get:function(){var t=this.Afe.Bce();return{yaw:t.Oce*p5,pitch:t.Fce*p5,roll:t.Vce*p5}},set:function(t){var n=u6(t&&t.pitch||0)*y5,i=u6(t&&t.roll||0)*y5,r=u6(t&&t.yaw||0)*y5,e=new A5(r,n,i),u=this.Afe.Bce(),s=this.Sfe.Bce();this.Afe=e.Wce(),this.Sfe=e.jF(u).QO(s).Wce()}},{key:"ele",get:function(){var t=this.Sfe.Bce();return{yaw:t.Oce,pitch:t.Fce,roll:t.Vce}},set:function(t){var n=s6(t&&t.pitch||0),i=s6(t&&t.roll||0),r=s6(t&&t.yaw||0),e=new A5(r,n,i);this.Sfe=e.Wce()}},{key:"Tft",get:function(){return this.vfe?this.jde?S5.Xa:S5.Zce:S5.Rs}},{key:"Tfe",get:function(){return null!==this.jde},set:function(t){var n=this.Tfe;t&&this.Rde?this.Kde():this.Hde(),this.Tfe!==n&&this._o(new I5)}},{key:"kfe",get:function(){return this.ufe},set:function(t){null===this.afe&&(this.ufe=t,t&&Gn.su&&this.lfe())}},{key:"Efe",get:function(){return this.rde},set:function(t){t&&t>=0&&t<=180&&(this.rde=t,null!==this.zde&&this.zde.updateRenderState({inlineVerticalFieldOfView:this.rde*y5}))}}]),n}(la);function u6(t){return Li(t+180,360)-180}function s6(t){return Li(t+k.PI,2*k.PI)-k.PI}function o6(t,n){return"function"==typeof t.getAll?a6(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new ih,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Zb(i),ut()},t.onerror=function(){n.Hb(t.error),ut()},n.Xb}(void 0===n?t.openCursor():t.openCursor(n))}function a6(t){return new et((function(n,i){t.onsuccess=function(){n(t.result),ut()},t.onerror=function(){i(t.error),ut()}}))}nA((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).sle=new e6(r),r}It(n,t);var i=n.prototype;return i.ka=function(){return Ug(t.prototype.ka.call(this),{vr:this.sle.wa})},i.yn=function(){this.sle.yn(),t.prototype.yn.call(this)},n}(t)}),$k.au),F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt(),Mt(),nn(),Wt(),At();var c6=function(){function t(t){var n=this;this.Nxt=t,this.so=!0,this.Xb=new et((function(t,i){n.Nxt.oncomplete=function(){n.so=!1,t(),ut()},n.Nxt.onerror=function(){n.so&&(n.so=!1,i(n.Nxt.error||new p("Transaction error")),ut())},n.Nxt.onabort=function(){n.so=!1,i(new p("Transaction aborted")),ut()}}))}return t.prototype.np=function(){if(this.so)try{this.Nxt.abort(),this.so=!1}catch(t){}},t}();function h6(t,n,i){return f6.apply(this,arguments)}function f6(){return f6=Pt((function(t,n,i){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:r=new c6(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,et.all([n(i),r.Xb])];case 2:return e=tn.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.so)throw new i2("IDBTransaction committed prematurely",u);throw u;case 4:return r.np(),[7];case 5:return[2]}}))})),f6.apply(this,arguments)}var v6=function(){function t(t,n){this.ux=t,this.Dfe=n}var n=t.prototype;return n.Axt=function(t){return et.resolve("persistent"===t)},n._Tt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(XZ(n)):a6(this.Pfe(GZ.Wxt).put(t))},n.Sxt=function(t,n){void 0===n&&(n="persistent");var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,et.reject(XZ(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i._Tt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.Fb=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.Vb(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.Vb=function(t){return a6(this.Pfe(GZ.Vxt).get(t))},n.Txt=function(t,n){return a6(this.Pfe(GZ.Vxt).index(n).get(t))},n.mxt=function(t){var n=this;return Pt((function(){var i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.Vb(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.kxt=function(){return o6(this.Pfe(GZ.Vxt))},n.Ext=function(t){return o6(this.Pfe(GZ.Vxt),t)},n.xxt=function(t,n){return o6(this.Pfe(GZ.Vxt).index(n),t)},n.rT=function(t){return a6(this.Pfe(GZ.Wxt).delete(t))},n.Ixt=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.rT(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Rxt=function(){return a6(this.Pfe(GZ.Wxt).clear())},n.Pfe=function(t){if(!this.Dfe)throw new p("Lock was released");if(!function(t,n){return t===GZ.Vxt&&n===GZ.Vxt||n===GZ.Wxt}(t,this.Dfe.mode))throw new p("Incompatible transaction mode: "+this.Dfe.mode+", expected "+t);return this.Dfe.objectStore(this.l)},n.Nfe=function(){this.ux.Mfe(this),this.Dfe=void 0},Nt(t,[{key:"l",get:function(){return this.ux.l}}]),t}();var d6=function(){function t(t,n){this.oIt=void 0,this.Yo=new kd,this.Ofe=t,this.l=n}var n=t.prototype;return n.Axt=function(t){return et.resolve("persistent"===t)},n._Tt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(XZ(n)):this.Nxt(GZ.Wxt,(function(n){return n._Tt(t)}))},n.Sxt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?et.reject(XZ(n)):this.Nxt(GZ.Wxt,(function(n){return n.Sxt(t)}))},n.Fb=function(t){return this.Nxt(GZ.Vxt,(function(n){return n.Fb(t)}))},n.Vb=function(t){return this.Nxt(GZ.Vxt,(function(n){return n.Vb(t)}))},n.Txt=function(t,n){return this.Nxt(GZ.Vxt,(function(i){return i.Txt(t,n)}))},n.mxt=function(t){return this.Nxt(GZ.Vxt,(function(n){return n.mxt(t)}))},n.kxt=function(){return this.Nxt(GZ.Vxt,(function(t){return t.kxt()}))},n.Ext=function(t){return this.Nxt(GZ.Vxt,(function(n){return n.Ext(t)}))},n.xxt=function(t,n){return this.Nxt(GZ.Vxt,(function(i){return i.xxt(t,n)}))},n.rT=function(t){return this.Nxt(GZ.Wxt,(function(n){return n.rT(t)}))},n.Ixt=function(t){return this.Nxt(GZ.Wxt,(function(n){return n.Ixt(t)}))},n.Rxt=function(){return this.Nxt(GZ.Wxt,(function(t){return t.Rxt()}))},n.pIt=function(t){return this.Lfe(),this.oIt=new v6(this,t),this.oIt},n.Lfe=function(){if(void 0!==this.oIt)throw new p("Already locked")},n.Mfe=function(t){if(this.oIt!==t)throw new p("Incorrect lock");this.oIt=void 0},n.Qo=function(t){return this.Yo.Qo(t)},n.Nxt=function(t,n){var i=this;return this.Qo((function(){return i.Bfe(t,n)}))},n.Bfe=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:i.Lfe(),r=i.Ofe.transaction(i.l,t),e=i.pIt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,h6(r,n,e)];case 2:return[2,u.sent()];case 3:return e.Nfe(),[7];case 4:return[2]}}))}))()},n.Ffe=function(t){this.Lfe();var n=this.Ofe.transaction(this.l,t);return this.pIt(n)},t.Vfe=function(t,n){var i,r=new et((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new et((function(n){t=n}));return n.Qo((function(){return t(),r})).catch(_i),i}))}),et.resolve());return i(e.then(n)),r},t}();F(),Tt(),Dt(),F(),Tt(),Mt(),Wt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Wt();var l6={aN:17,Wfe:Pt((function(t){var n,i,r,e;return Ot(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(b6,{keyPath:"id"}),i.createObjectStore(k6,{keyPath:"key"}),i.createObjectStore(A6,{keyPath:"key"}),i.createObjectStore(T6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(S6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},g6=function(){function t(t){this.Zfe=t}return t.prototype.Ufe=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:i=0,r=n.Gfe,u.label=1;case 1:return i<r.length?(e=r[i],n.Zfe<e.aN?[4,e.Wfe(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),w6=function(t){function n(){return t.apply(this,arguments)||this}return It(n,t),Nt(n,[{key:"Gfe",get:function(){return[l6]}}]),n}(g6),m6=function(){function t(){this.Xfe=function(t){return new w6(t)}}var n=t.prototype;return n.Hfe=function(t){this.Xfe=t},n.ist=function(t){return this.Xfe(t)},t}(),y6=new m6,p6="theoplayer-cache-database",_6=18,b6="cachingTask",k6="licences",A6="manifest",T6="segment",S6="segmentMetadata";function E6(){return E6=Pt((function(){var t;return Ot(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new p("Indexed database unavailable")}(),(t=indexedDB.open(p6,_6)).addEventListener("upgradeneeded",I6),[4,a6(t)];case 1:return[2,n.sent()]}}))})),E6.apply(this,arguments)}function I6(t){return R6.apply(this,arguments)}function R6(){return R6=Pt((function(t){var n,i,r,e,u;return Ot(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=_6?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=y6.ist(n),[4,h6(e,(function(t){return u.Ufe(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),R6.apply(this,arguments)}var C6=function(){function t(){}return Nt(t,null,[{key:"Vm",get:function(){return this.Bbt||(this.Bbt=function(){return E6.apply(this,arguments)}()),this.Bbt}}]),t}();C6.Bbt=void 0,F(),Tt();var N6=function(){function t(t,n){this.Lxt=t.Lxt.pIt(n),this.xct=t.xct.pIt(n),this.Bxt=t.Bxt.pIt(n),this.Oxt=t.Oxt.pIt(n),this.Fxt=t.Fxt.pIt(n)}var n=t.prototype;return n.Nxt=function(t){return t(this)},n.Nfe=function(){this.Lxt.Nfe(),this.xct.Nfe(),this.Bxt.Nfe(),this.Oxt.Nfe(),this.Fxt.Nfe()},t}(),D6=function(){function t(t){this.Ofe=t,this.Lxt=new d6(t,S6),this.xct=new d6(t,T6),this.Bxt=new d6(t,A6),this.Oxt=new d6(t,b6),this.Fxt=new d6(t,k6)}var n=t.prototype;return n.Nxt=function(t){var n=this,i=this.allCollections;return d6.Vfe(i,(function(){return n.Bfe(i,t)}))},n.Bfe=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.Ofe.transaction(r,GZ.Wxt),u=new N6(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,h6(e,n,u)];case 2:return[2,s.sent()];case 3:return u.Nfe(),[7];case 4:return[2]}}))}))()},t.ist=function(){return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,C6.Vm];case 1:return[2,new t(n.sent())]}}))}))()},Nt(t,[{key:"allCollections",get:function(){return[this.xct,this.Lxt,this.Bxt,this.Oxt,this.Fxt]}}]),t}();JZ.Pa(D6.ist),F(),Tt(),Dt(),Rt(),F(),Tt();var x6=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cfe=n,r.cnt=i,r.Cfe.bn("Qht",r.Ds),r}return It(n,t),n.prototype.Rfe=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new p("Unexpected - The source description is undefined");if(r=AE(t),e=c3(n),cE(r))throw new p("Invalid source description");return this.Cfe.zee(r,e).wa},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get status(){return t.Jk},get tasks(){return t.Qee},get network(){return t.Sz.wa},createTask:function(n,i){return t.Rfe(n,i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new SR(t,i),i}(this)),this.eu}},{key:"Jk",get:function(){return this.Cfe.Jk}},{key:"Qee",get:function(){return this.Cfe.Qee.wa}},{key:"Sz",get:function(){return this.cnt}}]),n}(wa);var P6=function(){var t=new aR(Kn.mI,!1),n=JZ.Vm,i=new w3(t),r=new s3(n,i),e=new hR(t),u=new Q1(n.Oxt,r,"persistent");return new x6(u,e)}().wa;F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt();var L6=function(){function t(t){this.eu=void 0,this.Kj=t}var n=t.prototype;return n.zfe=function(t){for(var n=this.Kj.AI(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.ka=function(){var t=this;return{createAudioSourceNode:function(n){return t.zfe(n)}}},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),t}();nA((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).qfe=new L6(r.Ta),r}return It(n,t),n.prototype.ka=function(){var n=this.qfe.wa;return Ug(t.prototype.ka.call(this),{get audio(){return n}})},n}(t)}),$k.au),F(),Tt(),F(),Tt(),Rt();nA((function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}It(n,t);var i=n.prototype;return i.Ca=function(i){var r=n.Yfe(this.kd.analytics),e=n.Yfe(i?i.analytics:void 0);r||e?this.Kfe(ao({},r,e)):this.jfe&&this.jfe.disable(),t.prototype.Ca.call(this,i)},i.Kfe=function(t){if(this.jfe)this.jfe.enable(),this.jfe.setOptions(t);else{var n=f.youbora;if(!n)throw new p("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new p("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.wa)),this.zc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.wa)),this.jfe=i}},i.yn=function(){this.jfe&&this.jfe.disable(),t.prototype.yn.call(this)},n.Yfe=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new p("Only one youbora analytics configuration expected");var i=n[0];i.integration;return c_(i,["integration"])}},n}(t)}),$k.Pnt),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt(),Rt();var M6=1,O6=0,B6=1e3,V6=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).na=n,o.FT=i,o.$fe=r,o.y_e=e,o.b_e=u,o.t_e=s,o.A_e=!0,o.s_e=!1,o.h_e=void 0,o.r_e=void 0,o.S_e=void 0,o.d_e=function(t){var n,i=t.trt,r=(i.Y$t(),n=i.Hnt().duration,"linear"===i.Hnt().type);i.K$t(),i.X$t();r&&(o.s_e=!0),o.o_e=o.b_e.AD_IMPRESSION,o.o_e=o.b_e.AD_STARTED},o.f_e=function(t){o.s_e=!1,o.o_e=o.b_e.AD_COMPLETED},o.__e=function(t){t.rQt===gQ.ADBLOCK?o.o_e=o.b_e.AD_BLOCKED:o.o_e=o.b_e.AD_ERROR},o.v_e=function(){o.o_e=o.b_e.AD_SKIPPED},o.p_e=function(t){var n,i,r,e;t.PE===aw.yE&&(o.S_e&&t.jz!==o.S_e&&o.$fe.reportABRSwitch(o.S_e,t.jz),o.S_e=t.jz,o.$fe.reportChunkRequest(new MMChunkInformation(t.VN,t.jz,t.kL,t.Lut.Xu,void 0,void 0,null!=(r=null==(n=t.Lut.Kat)?void 0:n[0])?r:0,null!=(e=null==(i=t.Lut.Kat)?void 0:i[1])?e:-1)))},o.g_e=function(t){o.n_e=o.y_e.STOPPED,o._o(t)},o.T9=function(t){o.n_e=o.y_e.ERROR,o.$fe.reportError(t.error,o.e_e())},o.m_e=function(){o.i_e?o.o_e=o.b_e.AD_PAUSED:o.n_e=o.y_e.PAUSED},o.Vde=function(){o.i_e&&(o.o_e=o.b_e.AD_PLAY)},o.iz=function(){o.i_e?(o.h_e===o.b_e.AD_PAUSED&&(o.o_e=o.b_e.AD_RESUMED),o.o_e=o.b_e.AD_PLAYING):(o.A_e&&(o.A_e=!1,o.Qfe(),o.n_e=o.y_e.STARTED),o.n_e!==o.y_e.PAUSED&&o.n_e!==o.y_e.BUFFERING||(o.n_e=o.y_e.RESUMED))},o.lK=function(){o.$fe.reportPresentationSize(o.na.pR,o.na.vR)},o.rz=function(t){o.i_e||o.n_e!==o.y_e.PAUSED||o.$fe.reportPlayerSeekCompleted(t.currentTime*B6)},o.tz=function(){o.i_e||(o.n_e=o.y_e.BUFFERING)},o.c_e=function(){o.$fe.reportDownloadRate(k.floor(Mk.Vm.VG()))},o.u_e=function(){o.i_e||o.$fe.reportPlaybackPosition(o.e_e())},o.n_e=o.y_e.INITIALIZED,o.qMt(),o.w_e=o.a_e(),o}It(n,t);var i=n.prototype;return i.Qfe=function(){var t=this.ct===1/0,n=t?M6:O6,i=t?-1:this.ct,r=er(this.na.rt.mC,this.Jfe);this.$fe.setPresentationInformation(new this.t_e(n,i,r))},i.Jfe=function(t){for(var n=t.VC.mC,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.jG,width:e.ji,height:e.Ti,codecIdentifier:e.Frt})}return i},i.e_e=function(){return this.na.CI()*B6},i.a_e=function(){var t=this;return m((function(){t.u_e(),t.c_e()}),n.l_e)},i.qMt=function(){this.na.zc&&(this.na.zc.bn("rrt",this.d_e),this.na.zc.bn("ort",this.f_e),this.na.zc.bn("J2t",this.__e),this.na.zc.bn("L3t",this.v_e)),this.na.bn(ya.Ly,this.g_e),this.na.bn(Qy.fa,this.T9),this.na.bn(ya.Ky,this.m_e),this.na.bn(ya.ho,this.Vde),this.na.bn(Np.uB,this.iz),this.na.bn(ya.$y,this.lK),this.na.bn(ya.eb,this.rz),this.na.bn(Np.aB,this.tz),this.na.bn(ya.ob,this.p_e)},i.YMt=function(){this.na.zc&&(this.na.zc.vn("rrt",this.d_e),this.na.zc.vn("ort",this.f_e),this.na.zc.vn("J2t",this.__e),this.na.zc.vn("L3t",this.v_e)),this.na.vn(ya.Ly,this.g_e),this.na.vn(Qy.fa,this.T9),this.na.vn(ya.Ky,this.m_e),this.na.vn(ya.ho,this.Vde),this.na.vn(Np.uB,this.iz),this.na.vn(ya.$y,this.lK),this.na.vn(ya.eb,this.rz),this.na.vn(Np.aB,this.tz),this.na.vn(ya.ob,this.p_e)},i.yn=function(){y(this.w_e),this.YMt()},Nt(n,[{key:"ct",get:function(){return this.na.jd()*B6}},{key:"i_e",get:function(){return this.s_e}},{key:"n_e",get:function(){return this.r_e},set:function(t){this.r_e=t,t&&this.$fe.reportPlayerState(t)}},{key:"o_e",set:function(t){this.h_e=t}}]),n}(mw);V6.l_e=2e3,nA((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).k_e=void 0,r.E_e=void 0,r.x_e=function(){r.E_e=void 0,r.T_e();var n=t.prototype.iu.call(tX(r));n&&(r.E_e=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.kd)),r.I_e()},r.I_e=function(){if(!r.k_e&&r.E_e&&r.bt&&r.bt.src&&!r.JI){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","9.7.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.E_e),r.k_e=new V6(r,r.E_e,t),r.k_e.bn("ended",r.T_e)}},r.T_e=function(){r.k_e&&(r.k_e.yn(),r.k_e=void 0)},r.bn(ya.uo,r.x_e),r.bn(ya.Cy,r.I_e),r.bn(ya.ho,r.I_e),r}return It(n,t),n.prototype.yn=function(){t.prototype.yn.call(this),this.T_e()},n}(t)}),$k.Pnt),F(),Tt(),F(),Tt(),Dt(),Rt();var F6=String.fromCharCode(95);var U6=function(){function t(n,i,r,e){var u=this;this.N_e=function(n){u.L_e({type:t.B_e(n.type)})},this.jS=n,this.bne=i,this.u_=r,this.r1t=e,this.C_e=[],this.Kf=[]}var n=t.prototype;return n.D_e=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.bne.addEventListener(n,this.N_e),this.C_e.push({type:n,listener:this.N_e})}},n.M_e=function(){for(var t in ir(this.C_e),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.bne.removeEventListener(n,this.N_e)}},n.L_e=function(t){this.Kf.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.P_e=function(){null==this.R_e||this.R_e.call(this,this.Kf),this.Kf=[]},t.B_e=function(n){return t.O_e[n]||n},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.eu}},{key:"id",get:function(){return this.jS}},{key:"adsManager",get:function(){return this.bne}},{key:"ids",get:function(){return this.u_}},{key:"adContainer",get:function(){return this.r1t}},{key:"sendEvent",get:function(){return this.R_e},set:function(t){for(var n=0,i=this.C_e;n<i.length;n++){var r=i[n];this.bne.removeEventListener(r.type,r.listener)}this.C_e=[],this.R_e=t,this.P_e()}},{key:"imaSDK",get:function(){return!0}}]),t}();U6.O_e={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var W6=function(){function t(){this.V_e=void 0,this.W_e=void 0}var n=t.prototype;return n.F_e=function(t,n){this.V_e=v.createElement("script"),this.V_e.id=t.id,this.V_e.type="text/javascript",t.adContainer.appendChild(this.V_e),this.V_e.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.W_e=t.id,f[this.W_e]=t.wa},n.U_e=function(){this.V_e&&oi(this.V_e),this.W_e&&(f[this.W_e]=void 0)},t}();nA((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).z_e=void 0,r.j_e=void 0,r.Z_e=void 0,r.r1t=void 0,r.X_e=function(){r.K_e(r.Z_e,{partnerCode:r.z_e.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.r1t)},r.W7t=function(t){r.Z_e=t.yne,r.r1t=t.kte,r.G_e(),r.Z_e.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.H_e),r.Z_e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.G_e),r.Z_e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.X_e)},r.H_e=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.G_e(),r.X_e())},r.G_e=function(){r.j_e&&(r.j_e.M_e(),r.j_e=void 0),r.Q_e.U_e()},r.Q_e=new W6,r}It(n,t);var i=n.prototype;return i.Ca=function(i){var r,e,u;this.G_e(),null==(r=this.Z_e)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.H_e),null==(e=this.Z_e)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.G_e),null==(u=this.Z_e)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.X_e),this.Z_e=void 0,this.r1t=void 0,t.prototype.Ca.call(this,i);var s=i&&i.analytics;this.z_e=n.q_e(s),this.zc&&this.z_e&&k1()&&this.Y_e()},i.yn=function(){var n,i,r;this.G_e(),null==(n=this.Z_e)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.H_e),null==(i=this.Z_e)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.G_e),null==(r=this.Z_e)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.X_e),this.Z_e=void 0,this.r1t=void 0,this.zc&&this.zc.vn("V7t",this.W7t),t.prototype.yn.call(this)},i.Y_e=function(){this.zc&&this.zc.bn("V7t",this.W7t)},i.K_e=function(t,n,i){var r=F6+"moatApi"+k.floor(1e8*k.random());this.j_e=new U6(r,t,n,i),this.j_e.D_e(),this.Q_e.F_e(this.j_e,this.z_e.partnerCode)},n.q_e=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new p("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),$k.Pnt),F(),Tt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Wt();var Z6="urn:google:dai:2018",X6=function(){function t(t,n,i,r,e){var u=this;this.Uhe=void 0,this.bZ=void 0,this.AZ=void 0,this.V8=new mr,this.uve=!1,this.$_e=!0,this.ove=function(t){var n=t.Ht;n.Lt===ep.xW&&(n.zw===Ow.ID3||n.zw===Ow.EVENT_STREAM&&n.ZC===Z6)&&(n.LE=qy.GC,u.Uhe=n,n.bn(Og.KR,u.cve))},this.cve=function(t){t.uF.bn(Xw.IO,u.lve)},this.lve=function(t){var n,i;if(u.Loe)if((null==(n=u.Uhe)?void 0:n.zw)===Ow.ID3){var r=t.uF.U;"TXXX"===r.id&&u.Loe.Qoe({TXXX:r.text})}else if((null==(i=u.Uhe)?void 0:i.zw)===Ow.EVENT_STREAM){var e=t.uF.U;u.Loe.Joe(Z6,e,t.DV)}},this.na=t,this.Loe=n,this.eve=i,this.J_e=r,this.sve=e,i&&n&&this.na.zc&&this.na.zc.Qnt(i.X8t)}var n=t.prototype;return n.DI=function(t){this.V8.np(),this.V8=new mr,xr(Er(this.Ine(t,this.V8.ep),this.V8))},n.Ine=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return kr(n),i.eve&&i.Loe?i.eve.Xnt&&!i.sve?[2]:(r=i.na.CI(),i.$_e&&(e=i.Loe.the(t,r))?(i.na.ive(e),[4,i.Loe.Ay(g4.AD_BREAK_ENDED,n)]):[3,2]):[2,i.na.ive(t)];case 1:if(u.sent(),i.Loe.$oe(t).dF>t)return[2];u.label=2;case 2:return i.na.ive(t),[2]}}))}))()},n.lR=function(){var t=this.eve&&this.eve.Xnt;if(t){var n=FA.Cn(this.na.nve()),i=t.LOt,r=i+t.I$t,e=new FA([i,r]);return n.jn(e).ks()}return this.na.nve()},n.prt=function(t,n){var i=this;return Pt((function(){var r,e,u;return Ot(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.na.rve(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.na.nt.bn(Dg.XR,i.ove),[4,i.J_e.hve(t,n)];case 2:return r=s.sent(),i.eve&&i.Loe&&(i.uve=!0),[3,4];case 3:if(Ar(e=s.sent()),e.code===fw.LICENSE_INVALID)return[2];throw u=new ld(vd.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.bZ=lw(u),i.AZ=u,i.na._o(new xk(u)),u;case 4:return[4,i.na.rve(r,n)];case 5:return s.sent(),[2]}}))}))()},n.nr=function(){if(this.uve){if(this.na.nt.vn(Dg.XR,this.ove),this.Uhe){this.Uhe.vn(Og.KR,this.cve);for(var t=0,n=this.Uhe.L.mC;t<n.length;t++){n[t].vn(Xw.IO,this.lve)}this.Uhe=void 0}this.bZ=void 0,this.AZ=void 0,this.V8.np(),this.eve&&this.eve.nr(),this.Loe&&this.Loe.nr(),this.uve=!1}},n.yn=function(){this.nr(),this.na._ve(),this.Loe&&this.Loe.yn()},Nt(t,[{key:"wa",get:function(){var t=this,n=this.J_e;return{contentTimeForStreamTime:function(n){return t.Loe?t.Loe.Boe(n):n},streamTimeForContentTime:function(n){return t.Loe?t.Loe.Ooe(n):n},replaceAdTagParameters:function(n){t.Loe&&t.Loe.replaceAdTagParameters(n)},get snapback(){return t.$_e},set snapback(n){t.$_e=n},get sourceTransformer(){return n.tve},set sourceTransformer(t){n.tve=t}}}},{key:"lt",get:function(){return this.bZ||this.na.dve()}},{key:"OI",get:function(){return this.AZ||this.na.fve()}}]),t}();F(),Tt(),Dt(),Rt(),F(),Tt(),Dt(),Rt();var G6=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).gve=e,u.a3t=n,u.u3t=i,u}return It(n,t),Nt(n,[{key:"vve",get:function(){return this.gve}},{key:"zQt",get:function(){return I$.Kh}}]),n}(l0),H6=function(t){function n(n,i){var r;return(r=t.call(this,new zI,I$.Kh)||this).Loe=n,r.na=i,r.Woe=function(t){var n=r.i0t;if(n&&r.z$t){var i=t.Moe.ihe;r.z$t.k8t=i.RI,function(t,n){var i=n.d9t,r=n.l9t,e=n.RI,u=Vi(t.zc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.R$t=r-e-u}(n,i)}},r.Goe=function(t){var n=t.Moe.she;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.Sve(e.lF)){var u=e.dF-e.lF,s=new G6(u,u,e.lF,!0);r.s0t.push(s)}}},r.pve=function(t){r.yve(t.type),r.Ave(t)},r.Koe=function(t){r.q8t=!1,r.z$t=void 0;var n=r.Xnt;n&&(n.R$t=0,r.bve(t.type,!1,!1),r.i0t=void 0)},r.mve(),r}It(n,t);var i=n.prototype;return i.mve=function(){var t=[g4.STARTED,g4.FIRST_QUARTILE,g4.MIDPOINT,g4.THIRD_QUARTILE,g4.COMPLETE];this.Loe.bn(t,this.pve),this.Loe.bn(g4.AD_BREAK_ENDED,this.Koe),this.Loe.bn(g4.AD_PROGRESS,this.Woe),this.Loe.bn(g4.CUEPOINTS_CHANGED,this.Goe)},i.wve=function(t){var n=t.Q9t.LOt,i=this.i0t||this.findAdBreakWithPredicate(n,(function(t){return!t.sR}));if(!i){var r=t.Q9t.I$t;n=this.na.CI(),(i=new G6(r,r,n,!1)).l3t(),this.s0t.push(i)}return i},i.yve=function(t){switch(t){case g4.STARTED:this.q8t=!0;break;case g4.AD_BREAK_ENDED:this.q8t=!1}},i.bve=function(t,n,i){if(n)switch(t){case g4.STARTED:case g4.FIRST_QUARTILE:case g4.MIDPOINT:case g4.THIRD_QUARTILE:case g4.COMPLETE:this.z2t._o(new oM(this.i0t))}if(i)switch(t){case g4.STARTED:case g4.FIRST_QUARTILE:case g4.MIDPOINT:case g4.THIRD_QUARTILE:case g4.COMPLETE:this.z2t._o(new cM(this.z$t,this.z$t.k8t))}switch(t){case g4.COMPLETE:this.z2t._o(new fM(this.z$t,this.H8t.k8t));break;case g4.AD_BREAK_ENDED:this.z2t._o(new uM(this.Xnt))}switch(t){case g4.FIRST_QUARTILE:this.z2t._o(new N0(this.z$t,this.H8t.k8t));break;case g4.MIDPOINT:this.z2t._o(new x0(this.z$t,this.H8t.k8t));break;case g4.THIRD_QUARTILE:this.z2t._o(new L0(this.z$t,this.H8t.k8t))}},i.Ave=function(t){var n=t.trt,i=this.wve(n),r=function(t,n){if(t.zc.length)return!1;for(var i=0;i<n;i++){var r=new u1(t,w0.mQt);t.f3t(r)}return!0}(i,n.Q9t.f9t),e=function(t,n){var i=n.Q9t.d9t-1;return t.zc[i]}(i,n),u=function(t,n){return t.A3t!==m0.READY&&(t.D8t(n),!0)}(e,n);this.z$t=e,this.i0t=i,i.l3t(),this.bve(t.type,r,u)},i.Sve=function(t){for(var n=0,i=this.s0t;n<i.length;n++){var r=i[n];if(Pi(t,r.LOt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.s0t;i<r.length;i++){var e=r[i];if(Pi(e.LOt,t)&&n(e))return e}},i.kve=function(t,n){for(var i,r=0,e=this.s0t;r<e.length;r++){var u=e[r];u.LOt>=t&&u.LOt<=n&&!u.sR&&(!i||u.LOt>=i.LOt)&&(i=u)}return i},i.zD=function(){},i.jnt=function(t){},i.nr=function(){this.z$t&&(this.z2t._o(new fM(this.z$t,this.z$t.k8t)),this.z$t=void 0),this.i0t&&(this.z2t._o(new uM(this.i0t)),this.i0t=void 0),this.q8t=!1,ir(this.s0t)},i.yn=function(){this.nr(),this.z2t.yn()},i.Ynt=function(t){},Nt(n,[{key:"i3t",get:function(){return this.q8t}},{key:"z2t",get:function(){return this._4t}},{key:"Tve",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.vve})),n=0;return t&&(n=t.I$t),n}}]),n}(h1);F(),Tt(),Mt(),Wt();var z6=function(){function t(t){this.Loe=t,this.tve=function(t){return t}}var n=t.prototype;return n.hve=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f,v;return Ot(this,(function(d){switch(d.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(sT(o=s[u])){if(!i.Loe)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];d.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,oS.Vm.EH(r,t)];case 2:h=d.sent().Cc,f=h,kr(n),d.label=3;case 3:return d.trys.push([3,5,,6]),[4,i.Eve(f,n)];case 4:return a=d.sent(),e.push(a),[3,6];case 5:return Ar(v=d.sent()),c=v,Ji(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new p("Fatal: unable to play DAI streams.");return c&&tu(c.message),[2,ao({},t,{sources:e})]}}))}))()},n.Eve=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a;return Ot(this,(function(c){switch(c.label){case 0:if(!i.Loe)throw new p("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.Loe.Ay(g4.LOADED,n),e=i.Loe.Ay(g4.ERROR,n),u=t.type===AA.eP?"dash":"hls",i.Loe.IUt(ao({},t.ssai,{format:u})),[4,et.race([r,e])];case 1:return(s=c.sent()).type!==g4.LOADED?[3,5]:(o=t.type===AA.eP?AA.eP:AA.sP,i.tve?[4,i.tve(s.Moe.Xu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.Moe.Xu,c.label=4;case 4:return[2,IA(ao({},t,{src:a,type:o}))];case 5:throw p(s.Moe.nhe);case 6:return[2]}}))}))()},t}();nA(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).Ive=!1,e.Rve=function(t){13===t.which&&e.h1t.click(),e.PR()};var u,s,o,a=e.IR(),c=r.ads.googleIma.useAdUiElementForSsai,h=null!=(u=r.ads.googleIma.allowSeekingForGoogleDai)&&u;try{var f;c?(e.Cve=v.createElement("div"),wi(e.Cve),e.Cve.className="theo-dai-ad-ui"):(e.h1t=v.createElement("button"),e.h1t.className="theo-dai-clickthrough"),s=t(a,e.h1t,e.Cve),o=new H6(s,e);var d=null!=(f=e.h1t)?f:e.Cve;d&&e.we.appendChild(d),e.Ive=!0}catch(t){e.h1t=void 0,e.Cve=void 0}var l=new z6(s);return e.xve=new X6(e,s,o,l,h),e.h1t&&(e.h1t.addEventListener("keydown",e.Rve),e.h1t.addEventListener("click",e.Rve)),e}It(i,n);var r=i.prototype;return r.ka=function(){var t=n.prototype.ka.call(this),i=t.ads;if(i){var r=this.xve.wa;Ug(i,{get dai(){return r}})}return t},r.ive=function(t){n.prototype.DI.call(this,t)},r.DI=function(t,n){this.xve.DI(t)},r.nve=function(){return n.prototype.lR.call(this)},r.lR=function(){return this.xve.lR()},r.Ca=function(t){return this.xve.nr(),n.prototype.Ca.call(this,t)},r.rve=function(t,i){var r=this;return Pt((function(){return Ot(this,(function(e){return[2,n.prototype.prt.call(r,t,i)]}))}))()},r.prt=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){return[2,i.xve.prt(t,n)]}))}))()},r.dve=function(){return n.prototype.BI.call(this)},r.fve=function(){return n.prototype.FI.call(this)},r.BI=function(){return this.xve.lt},r.FI=function(){return this.xve.OI},r._ve=function(){n.prototype.yn.call(this)},r.yn=function(){this.xve.yn(),this.h1t&&(oi(this.h1t),this.h1t.removeEventListener("keydown",this.Rve),this.h1t.removeEventListener("click",this.Rve),this.h1t=void 0),this.Cve&&(oi(this.Cve),this.Cve=void 0)},Nt(i,[{key:"Xl",get:function(){return this.Ive}}]),i}(n)}}((function(t,n,i){if(!(f.google&&f.google.ima&&Qn(f.google.ima.dai)))throw new p("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=L4(),e=new google.ima.dai.api.StreamManager(t,i),u=L4();return new C4(e,n,u&&u!==r?u:void 0)})),$k.Cnt),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),Dt();var Y6=function(){function t(t,n){var i=this;this.na=t,this.Bve=n,this.qve=!1,this.Uve=!1,this.Yve=[],this.Zve=-1/0,this.Xve=!1,this.Vde=function(){i.qve||(i.Bve.ige(),i.Xve&&i.Bve.jve(),i.qve=!0)},this.g_e=function(){i.Bve.sge(),i.Uve=!0},this.xae=function(){i.Zve<i.na.CI()&&(i.Zve=i.na.CI()),i.tge()},this.Ove=function(){i.qve&&(i.nge=performance.now(),i.Bve.rge(i.na.CI()))},this.Fve=function(){i.nge&&(i.Bve.oge((performance.now()-i.nge)/1e3),i.nge=void 0)},this.T9=function(){i.Zve<i.na.CI()&&(i.Zve=i.na.CI()),i.Bve.Nrt(i.na.BI().message)},this.Vve=function(){var t=i.na.jd()===1/0;t&&!i.Xve&&(i.Xve=t,i.Kve())},this.LMt=function(){i.Bve.Gve(i.Zve),i.Bve.hge()},this.Jve=function(){void 0!==i.Dve&&i.Bve.age(i.Pve)}}var n=t.prototype;return n.Nve=function(t){this.Mve=t,this.Bve.Lve(t),this.na.bn(ya.ho,this.Vde),this.na.bn(ya.Ly,this.g_e),this.na.bn(ya._b,this.xae),this.na.bn(Qy.fa,this.T9),this.na.bn(Np.aB,this.Ove),this.na.bn([Np.nB,Np.rB,Np.uB],this.Fve),this.na.bn(ya.Dy,this.Vve),f.addEventListener("beforeunload",this.LMt)},n.Wve=function(){this.na.vn(ya.ho,this.Vde),this.na.vn(ya.Ly,this.g_e),this.na.vn(ya._b,this.xae),this.na.vn(Qy.fa,this.T9),this.na.vn(Np.aB,this.Ove),this.na.vn([Np.nB,Np.rB,Np.uB],this.Fve),this.na.vn(ya.Dy,this.Vve),f.removeEventListener("beforeunload",this.LMt),this.Uve||(this.Bve.Gve(this.Zve),this.Bve.Hve()),this.Xve&&this.zve(),this.Mve=void 0,this.qve=!1,this.Uve=!1,this.Zve=-1/0,ir(this.Yve)},n.Kve=function(){this.qve&&this.Bve.jve(),this.Dve=performance.now(),this.Qve=m(this.Jve,6e4)},n.zve=function(){this.Bve.$ve(this.Pve),this.Xve=!1,this.Dve=void 0,this.Qve&&(y(this.Qve),this.Qve=void 0)},n.tge=function(){if(!S(this.na.jd())){var t=10*function(t,n){return k.floor(t/n)}(this.na.CI()/this.na.jd()*100,10);tr(this.Yve,t)||(this.Yve.push(t),this.Bve.ege(t))}},Nt(t,[{key:"Pve",get:function(){return void 0===this.Dve?0:(performance.now()-this.Dve)/1e3}}]),t}();F(),Tt();var j6=function(){function t(){}var n=t.prototype;return n.Lve=function(t){this.uge(["setDocumentTitle",t.itemTitle]),this.uge(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.uge(["trackPageView"])},n.ige=function(){this.cge("item first play","viewing","1")},n.Hve=function(){this.cge("item skipped","skipped","1")},n.ege=function(t){this.cge("item progress","percent",""+t)},n.hge=function(){this.cge("item abandoned","window closed","1")},n.Gve=function(t){this.cge("item time","watched",""+t)},n.sge=function(){this.cge("item finished","ended","1")},n.rge=function(t){this.cge("buffering started","timestamp",""+t)},n.oge=function(t){this.cge("buffering ended","duration",""+t)},n.Nrt=function(t){this.cge("error","message",""+t)},n.jve=function(){this.cge("livestream first play","viewing","1")},n.age=function(t){this.cge("livestream progress","duration",""+t)},n.$ve=function(t){this.cge("livestream time","watched",""+t)},n.cge=function(t,n,i){this.uge(["trackEvent","Video",t,n,i])},n.uge=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();F(),Tt(),Dt();var K6=function(){function t(t,n,i){var r=this;this.na=t,this.Oc=n,this.Bve=i,this._ge=[],this.d_e=function(){r.dge=r.na.jd(),r.Bve.vge(r.dge)},this.f_e=function(){r.dge&&(r.Bve.gge(r.dge),ir(r._ge),r.dge=void 0)},this.v_e=function(t){if(r.dge){var n=r.dge-r.dge*t.N3t;r.Bve.mge(n),r.dge=void 0}},this.__e=function(){r.dge=r.na.jd(),r.Bve.pge()},this.xae=function(){var t=r.lge;if(r.fge&&t&&!tr(r._ge,t)){switch(t){case 1:r.Bve.wge();break;case 2:r.Bve.yge();break;case 3:r.Bve.bge();break;case 4:r.Bve.Age()}r._ge.push(t)}},this.LMt=function(){r.Bve.Sge()}}var n=t.prototype;return n.Nve=function(){this.Oc.bn("rrt",this.d_e),this.Oc.bn("ort",this.f_e),this.Oc.bn("L3t",this.v_e),this.Oc.bn("J2t",this.__e),this.na.bn(ya._b,this.xae),f.addEventListener("beforeunload",this.LMt)},n.Wve=function(){this.Oc.vn("rrt",this.d_e),this.Oc.vn("ort",this.f_e),this.Oc.vn("L3t",this.v_e),this.Oc.vn("J2t",this.__e),this.na.vn(ya._b,this.xae),ir(this._ge),f.removeEventListener("beforeunload",this.LMt),this.dge=void 0},Nt(t,[{key:"lge",get:function(){if(this.dge){var t=this.na.CI()/this.dge;return k.floor(4*t)+1}}},{key:"fge",get:function(){return void 0!==this.dge}}]),t}();F(),Tt();var q6=function(){function t(t){this.Bve=t}var n=t.prototype;return n.vge=function(t){this.Bve.cge("ad start","duration",""+t)},n.gge=function(t){this.Bve.cge("ad finished","duration",""+t)},n.mge=function(t){this.Bve.cge("ad skipped","remaining time",""+t)},n.pge=function(){this.Bve.cge("ad blocker","detected","1")},n.wge=function(){this.Bve.cge("ad progress","firstQuartile","")},n.yge=function(){this.Bve.cge("ad progress","secondQuartile","")},n.bge=function(){this.Bve.cge("ad progress","thirdQuartile","")},n.Age=function(){this.Bve.cge("ad progress","fourthQuartile","")},n.Sge=function(){this.Bve.cge("ad abandoned","window closed","1")},t}();function J6(t){return t&&"streamone"===t.integration}nA((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Tge=!1,r.co=function(){r.Tge&&(r.kge.Wve(),r.Ege&&r.Ege.Wve());var t=r.iu();if(r.Tge=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(J6(r))return r}}(t);n&&(r.Tge=!0,r.kge.Nve(n),r.Ege&&r.Ege.Nve())}};var e=new j6;if(r.kge=new Y6(r,e),r.zc){var u=new q6(e);r.Ege=new K6(r,r.zc,u)}return r.bn(ya.uo,r.co),r}return It(n,t),n.prototype.yn=function(){this.vn(ya.uo,this.co),this.Tge&&(this.kge&&this.kge.Wve(),this.Ege&&this.Ege.Wve(),this.Tge=!1),t.prototype.yn.call(this)},n}(t)}),$k.Pnt),F(),Tt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt(),F(),Tt(),Mt(),Rt(),Wt();var Q6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Rge=i,r.Cge=void 0,r}It(n,t);var i=n.prototype;return i.a3=function(n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,$6(n)];case 1:return u=s.sent(),[4,t.prototype.a3.call(e,u,i,r)];case 2:return s.sent(),e.xge(u,i),[2]}}))}))()},i.r3=function(n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,$6(n)];case 1:return u=s.sent(),[4,t.prototype.r3.call(e,u,i,r)];case 2:return s.sent(),e.xge(u,i),[2]}}))}))()},i.xge=function(t,n){var i=this.Rge.Ige;if(void 0!==i){var r,e=n.A2;if(this.Cge!==e&&(this.Cge=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return Hn.call(t,"$it")}(n)){var u=n.$it,s=n.$it+n.ct;r=n.aW,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.$k,"video",e,r)}},i.rT=function(n,i,r){var e=this;return Pt((function(){var u;return Ot(this,(function(s){switch(s.label){case 0:return[4,t.prototype.rT.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.Rge.Ige)||u.flushBuffer(n,i),[2]}}))}))()},n}(FM);function $6(t){return t9.apply(this,arguments)}function t9(){return t9=Pt((function(t){var n;return Ot(this,(function(i){switch(i.label){case 0:switch(t.zw){case nC.NJ:return[3,1];case nC.Ik:return[3,2];case nC.MJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Qd(t.$k)];case 3:return n=i.sent(),[2,{zw:nC.NJ,$k:new E(n)}];case 4:throw new p("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),t9.apply(this,arguments)}var n9=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Rge=i,r.Urt(n),r}return It(n,t),n.prototype.Zrt=function(t){return t.j3===aw.yE?new Q6(t,this.Rge):new FM(t)},n}(BM),i9=function(t){function n(n){var i;(i=t.call(this,n)||this).Lge=!1,i.Bge=function(t){i.Lge||(t||i.uH("LCEVC SDK failed to initialize."),i.Dge())},i.Oge=function(){i.Lge||i.uH("LCEVC SDK failed to initialize.")},i.Nge=v.createElement("canvas"),wi(i.Nge),i.Nge.style.display="none";var r,e=n.SZ;return e.parentElement.insertBefore(i.Nge,null!=(r=e.nextSibling)?r:null),LCEVCdec.ready.then(i.Bge,i.Oge),i}It(n,t);var i=n.prototype;return i.Dge=function(){this.Pge=new LCEVCdec.LCEVCdec(this.SZ,this.Nge,{})},i.ge=function(){t.prototype.ge.call(this),this.Mge()},i.be=function(){t.prototype.be.call(this),this.Nge.style.display="none"},i.nr=function(){return this.Nge.style.display="none",void 0!==this.Pge&&(this.Pge.close(),this.Dge()),t.prototype.nr.call(this)},i.Km=function(){return this.Lge=!0,void 0!==this.Pge&&(this.Pge.close(),this.Pge=void 0),oi(this.Nge),t.prototype.Km.call(this)},i.uH=function(t){this._o(new HN(new vw(fw.ABORTED,t)))},i.Mge=function(){this.aO.SZ.style.display="none",this.Nge.style.display="block"},i.wot=function(t){return new n9(t,this)},i.pot=function(t){return new ZM(t)},Nt(n,[{key:"Ige",get:function(){return this.Pge}}]),n}(XM(HM)),r9=function(t){function n(){return t.apply(this,arguments)||this}It(n,t);var i=n.prototype;return i.lH=function(n){return n===aw.yE?(this.Fge=new i9(t.prototype.lH.call(this,n)),this.Fge):t.prototype.lH.call(this,n)},i.qZ=function(n){var i=this,r=function(){return t.prototype.qZ};return Pt((function(){var t;return Ot(this,(function(e){switch(e.label){case 0:return n instanceof i9?(i.Fge=void 0,[4,(t=n).Km()]):[3,3];case 1:return e.sent(),[4,r().call(i,t.hot)];case 2:return e.sent(),[3,5];case 3:return[4,r().call(i,n)];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))()},Nt(n,[{key:"Vge",get:function(){return this.Fge}}]),n}(LM),e9=function(t){function n(n,i,r,e,u,s,o){var a,c=new r9(u),h=new KM(c),f=h.lH(s);return(a=t.call(this,n,i,r,e,f,o)||this).Uge=function(t){t.Ht.bn(Og.fC,a.Wge)},a.Gge=function(t){t.Ht.vn(Og.fC,a.Wge)},a.Wge=function(t){var n,i=null==(n=a.Zge.Vge)?void 0:n.Ige,r=t.jht.OC;null==i||i.setCurrentLevel(r)},a.YZ=h,a.Zge=c,a.FO.bn(Dg.XR,a.Uge),a.FO.bn(Dg.qR,a.Gge),a}return It(n,t),n.prototype.yn=function(){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:for(i=0,r=n.FO.mC;i<r.length;i++)r[i].vn(Og.fC,n.Wge);return n.rt.vn(Dg.XR,n.Uge),n.rt.vn(Dg.qR,n.Gge),[4,t.prototype.yn.call(n)];case 1:return e.sent(),[4,n.aO.Km()];case 2:return e.sent(),[4,n.YZ.qZ(n.aO)];case 3:return e.sent(),[2]}}))}))()},n}(QZ),u9=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vH=Ok.UG,n}It(n,t);var i=n.prototype;return i.mP=function(t,n,i,r,e,u,s){var o=n;return TX.TT()&&(o=new TX(o)),new e9(i,r,e,u,o,aw.yE,t)},i.dH=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.dH.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new ld(vd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i._H=function(){return!1},n}(CM);sS(new u9),F(),Tt(),Mt(),Rt(),Wt();var s9=function(t){function n(n,i,r,e,u){var s,o=new r9(n),a=new KM(o),c=a.lH(aw.yE);return(s=t.call(this,c,i,r,e,u)||this).Uge=function(t){t.Ht.bn(Og.fC,s.Wge)},s.Gge=function(t){t.Ht.vn(Og.fC,s.Wge)},s.Wge=function(t){var n,i=null==(n=s.Zge.Vge)?void 0:n.Ige,r=t.jht.QLt.OC;null==i||i.setCurrentLevel(r)},s.YZ=a,s.Zge=o,s.FO.bn(Dg.XR,s.Uge),s.FO.bn(Dg.qR,s.Gge),s}return It(n,t),n.prototype.yn=function(){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:for(i=0,r=n.FO.mC;i<r.length;i++)r[i].vn(Og.fC,n.Wge);return n.rt.vn(Dg.XR,n.Uge),n.rt.vn(Dg.qR,n.Gge),[4,t.prototype.yn.call(n)];case 1:return e.sent(),[4,n.YZ.qZ(n.aO)];case 2:return e.sent(),[2]}}))}))()},n}(tJ),o9=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vH=Ok.XG,n}It(n,t);var i=n.prototype;return i.mP=function(t,n,i,r,e,u,s){return new s9(n,i,e,u,r)},i.dH=function(n,i){if(!n.lcevc)return!1;if(!t.prototype.dH.call(this,n,i))return!1;if(void 0===f.LCEVCdec)throw new ld(vd.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0},i._H=function(){return!1},n}(iJ);sS(new o9),F(),Tt(),F(),Tt(),Dt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var a9=function(t){return t.Hge="nr",t.Xge="zge",t}({}),c9="freewheel-nonlinear-ad",h9=[ya.Dy,ya._b,ya.vb,ya.Ky,Np.uB,ya.ho],f9=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).bZ=void 0,s.AZ=void 0,s.jge=function(t){var n=t.trt,i="rrt"===t.type;if(n.S3t===w0.w3t){var r=s.na.we.classList;i?r.add(c9):r.remove(c9)}i?s.ge():s.be()},s.Kge=function(){s.v4t(),s.na.PR(),s.na.be()},s.Ose=function(){s.Yge.ame&&(s.na.MI||s.na.DR(),s.be(),s.na.ge(),s.d2t())},s.Yge=e,s.YZ=r,s.aO=u,s.Tit=u.SZ,s.Tit.controls=!1,s.qge(),s.Jge(),s.tme(),s}It(n,t);var i=n.prototype;return i.RR=function(){this.YZ.ZH()},i.qge=function(){this.Yge.bn("nrt",this.Kge),this.Yge.bn(["rrt","ort"],this.jge),this.Yge.bn("irt",this.Ose)},i.Qge=function(){this.Yge.vn("nrt",this.Kge),this.Yge.vn(["rrt","ort"],this.jge),this.Yge.vn("irt",this.Ose)},i.Jge=function(){this.z2t.ru(this.Yge.$ge)},i.tme=function(){this.Yge.eme.bn(h9,this.Ds)},i.ime=function(){this.Yge.eme.vn(h9,this.Ds)},i.jnt=function(t){},i.CI=function(){return this.Yge.eme.RI},i.DI=function(t,n){},i.jd=function(){return this.Yge.eme.ct},i.LI=function(){return this.Yge.eme.MI},i.BI=function(){return this.bZ},i.FI=function(){return this.AZ},i.gR=function(){return 0},i.wR=function(){return 0},i.bR=function(){return this.Yge.eme.yR},i.AR=function(t){this.Yge.eme.yR=t},i.YI=function(){return this.Yge.eme.qI},i.KI=function(t){this.Yge.eme.qI=t},i.uR=function(){return this.Yge.eme.aR},i.lR=function(){return this.Yge.eme.cR},i.$I=function(){return this.Yge.eme.JI},i.K2t=function(t){if(this.i3t||this.Yge.K2t(t),this.Yge.nme){if(t.type===ya.Ky&&this.na.MI)return!0;if(t.type===ya.Ly)return this.Yge.ome.rme(),!0}return!1},i.be=function(){this.Yge.be()},i.PR=function(){this.JI||this.Yge.eme.PR()},i.hme=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:if(t.Yge.ame)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.Yge.G5t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.ume(n,gQ.GENERAL),[3,4];case 4:return[2]}}))}))()},i.cme=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.Yge.eme.lme?(t.Yge.eme.DR(),[2,!1]):[3,1];case 1:if(!t.Yge.dme)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.Yge.ome.fme()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.ume(n,gQ.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.ume=function(t,n){t.name!==a9.Hge&&this.z2t._o(new f0(n,"Ads could not be loaded."))},i.DR=function(){var t=this;return Pt((function(){var n;return Ot(this,(function(i){switch(i.label){case 0:return t.JI&&t._o(new TT(t.RI)),[4,t.hme()];case 1:return i.sent(),t._me?[2]:[4,t.cme()];case 2:return n=i.sent(),!t._me&&n&&t.Ose(),[2]}}))}))()},i.o7t=function(t,n,i){n===zL.Gnt&&this.Yge.o7t(t)},i.ge=function(){this.Yge.ge()},i.zD=function(){this.Yge.eme.zD()},i.Ynt=function(t){},i.IR=function(){return this.Tit},i.AI=function(){return this.YZ.YH.map((function(t){return t.SZ}))},i.o3t=function(t){},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.NR()];case 1:return n.sent(),t.Yge.yn(),[4,t.YZ.qZ(t.aO)];case 2:return n.sent(),t.Qge(),t.ime(),t.z2t.qK(t.Yge.$ge),[2]}}))}))()},i.NR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.Yge.nr(),t.i3t&&(t.na.ge(),t.d2t(),t.be()),[2]}))}))()},Nt(n,[{key:"H2t",get:function(){return this}},{key:"G2t",get:function(){return n.G2t}},{key:"Xnt",get:function(){var t;return null!=(t=this.Yge.$ge.Xnt)?t:null}},{key:"Znt",get:function(){var t=this.Yge.$ge.H8t;return t?[t]:[]}},{key:"znt",get:function(){return this.Yge.$ge.znt}},{key:"qnt",get:function(){return this.Yge.$ge.qnt}},{key:"_me",get:function(){return Yn(this.BI())}}],[{key:"G2t",get:function(){return I$.J$t}}]),n}(U0);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),qt(),Wt(),F(),Tt(),Dt(),Rt();var v9=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).gme=e,u.pme=0,u.T3t=l9(e),u.a3t=n,u.u3t=i,u}return It(n,t),Nt(n,[{key:"vme",get:function(){return this.gme}},{key:"mme",get:function(){return this.zc[this.pme]}},{key:"wme",get:function(){return this.pme},set:function(t){this.pme=t}},{key:"S3t",get:function(){return this.T3t}},{key:"zQt",get:function(){return I$.J$t}}]),n}(l0);F(),Tt(),Dt(),Rt();var d9=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).bme=r,e}return It(n,t),n.prototype.ka=function(){return p0(this)},Nt(n,[{key:"yme",get:function(){return this.bme},set:function(t){this.bme!==t&&(this.bme=t)}},{key:"Ti",get:function(){return this.sd.vme.getHeight()}},{key:"ji",get:function(){return this.sd.vme.getWidth()}},{key:"DKt",get:function(){return this.yme.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"zQt",get:function(){return I$.J$t}}]),n}(y0);function l9(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?w0.w3t:w0.mQt}var g9=function(t){function n(i,r){var e;return(e=t.call(this)||this).Vs=i,e.hk=r,e.Gme=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.Zme=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.Xme=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.Hme=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.Ime=[],e.Cme=[],e.Dme=[],e.Nme=[],e.Lme=function(t){var i=t.slot,r=e.Yme(i);r&&(n.jme(i,r),e.i0t=r,r.l3t(),e.tpe(r),r.S3t===w0.mQt&&e._o(new oM(r)))},e.Bme=function(){var t=e.Xnt;t&&t.S3t===w0.mQt&&(e._o(new uM(t)),e.hk.src=""),e.i0t=void 0},e.Ome=function(t){var n=e.qme(t.adInstance);n&&(e._o(new cM(n,n.yme.getPlayheadTime())),e.z$t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Vs.style.cursor="pointer",e.Vs.addEventListener("click",e.epe))},e.Fme=function(){e.Vs.style.cursor="",e.Vs.removeEventListener("click",e.epe)},e.epe=function(){e.H8t&&e.H8t.yme.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.Vme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.Jme();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.l1t(),e.Jme()}},e}It(n,t);var i=n.prototype;return i.Ame=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return i.Sme=t,i.Tme=n,i.kme(t),[4,n];case 1:return r.sent(),i.Eme(),[2]}}))}))()},i.Eme=function(){this.Mme()},i.kme=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Lme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Ome),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Fme),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Vme)},i.Wme=function(){this.Sme&&(this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Lme),this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bme),this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Ome),this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Fme),this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Vme))},i.Mme=function(){this.Ime=this.Ume(this.Gme),this.Cme=this.Ume(this.Zme).concat(this.Ume(this.Hme)),this.Dme=this.Ume(this.Xme),this.Nme=this.Ime.concat(this.Cme).concat(this.Dme)},i.Ume=function(t){if(!this.Sme)return[];var n=this.Sme.getSlotsByTimePositionClass(t);return this.zme(n)},i.qme=function(t){if(this.i0t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.i0t.wme=n);var i=this.i0t.mme;return i&&(i.yme=t),i}},i.Yme=function(t){return Hi(this.Nme,(function(n){return n.vme===t}))},i.zme=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.Kme(t);return new v9(i,i,r,t)}))},i.l1t=function(){var t=this.H8t;t&&this._o(new T0(t,this.Qme()))},i.Jme=function(){var t=this.H8t;t&&(this._o(new fM(t,t.yme.getPlayheadTime())),this.z$t=void 0)},i.$me=function(t){var n=this.Xnt;n&&(n.R$t=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.zc.length,u=n;u<e;u++){var s=t.zc[u],o=s.ct;if(s){var a=o;u===n&&(a=Di(o-i,0,o)),r+=a}}return r}(n,n.wme,t))},i.Qme=function(){var t=this.H8t;if(!t)return 0;var n=t.yme;return n.getPlayheadTime()/n.getDuration()},i.tpe=function(t){Ji(this.Nme,t),Ji(this.Ime,t),Ji(this.Cme,t),Ji(this.Dme,t)},i.nr=function(){this.Wme(),this.Ime.length=0,this.Cme.length=0,this.Dme.length=0,this.Nme.length=0,this.z$t=void 0,this.i0t=void 0,this.Sme=void 0,this.Tme=void 0},i.yn=function(){this.nr(),this.Ro()},n.jme=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=l9(u.getSlot()),o=new d9(n,s,u);o.y3t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.f3t(o),r.push(o)}return r},n.Kme=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},Nt(n,[{key:"xme",get:function(){return this.Ime}},{key:"Rme",get:function(){return this.Cme}},{key:"Pme",get:function(){return this.Dme}},{key:"Xnt",get:function(){return this.i0t}},{key:"H8t",get:function(){return this.z$t}},{key:"znt",get:function(){var t=[];if(this.i0t){var n,i=this.i0t.wme;if(i>=0)(n=t).push.apply(n,Kt(this.i0t.zc.slice(i+1)))}for(var r=0,e=this.Nme;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,Kt(s.zc))}return t}},{key:"qnt",get:function(){return this.Nme}}]),n}(wa);F(),Tt(),Dt(),Rt();var w9=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).na=n,u.Ku=i,u.Nyt=r,u.r1t=e,u.j4=FA.WB().ks(),u.WH=!0,u.FA=NaN,u.lpe=!1,u.v5=!1,u.g5=Pp.TO,u.OH=0,u._pe=0,u.npe=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.yme,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||Pi(r,i)})(u.Nyt.H8t)||(u.JI=!0,u._o(new AT(u.RI)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.JI=!1,u._o(new Fp(u.RI));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.Cmt){var n=u.Cmt.getAdVolume();0===n?u.lpe=!0:u.jA=n,u._o(new NT(u.RI,u.yR))}}},u.ope=function(){u.MI=!1;var t=u.JI;if(u.JI=!1,t&&(u._o(new TT(u.RI)),u._o(new Fp(u.RI))),u.g5=Pp.EO,u.RI=0,u.Nyt.H8t){var n=u.Nyt.H8t.yme;u.FA=n.getDuration(),u._o(new ST(u.FA)),u.vpe=m((function(){if(u.lme){u.Nyt.$me(u.RI);var t=n.getPlayheadTime();xi(t,u._pe,.001)||u._o(new Eg(t,void 0)),u._pe=t}else u.dw()}),250),u.Cmt&&u.Cmt.setAdVolume(m9(u.qI,u.yR))}},u.gpe=function(){var t=u.Nyt.H8t;t&&(t.S3t===w0.w3t?u.na.PR():u.JI||u.PR())},u.dw=function(){y(u.vpe),u.vpe=void 0},u.hpe=function(){u.dw(),u.MI=!0},u.ape=function(){u.fpe("pause")},u.upe=function(){u.fpe("playing")},u.Td=function(t){t.sd.S3t===w0.mQt&&(u.JI=!1)},u.rpe=function(){u.Cmt&&u.Cmt.resize(u.Ku.Au,u.Ku.Nu)},u.jA=n.yR,r.bn("nrt",u.Td),u.Ku.bn(TI.mn,u.rpe),u.r1t.addEventListener("click",u.gpe),u}It(n,t);var i=n.prototype;return i.ipe=function(){this.Cmt&&this.Cmt.setAdVolume(m9(this.qI,this.yR))},i.spe=function(t){this.Cmt=t,this.kme(t)},i.kme=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.npe),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.rpe),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.ope),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.hpe),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.ape),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.upe)},i.cpe=function(){var t=this.Cmt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.npe),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.rpe),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.ope),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.hpe),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.ape),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.upe))},i.DR=function(){this.Nyt.Xnt&&(this.Nyt.Xnt.vme.resume(),this.JI=!1)},i.PR=function(){this.Nyt.Xnt&&(this.Nyt.Xnt.vme.pause(),this.JI=!0)},i.fpe=function(t){var i=n.dpe(t);this.Cmt&&i&&this.Cmt.setVideoState(i)},i.zD=function(){var t=this.Nyt.H8t;t&&t.yme.skip()},i.nr=function(){if(this.cpe(),this.Cmt){this.fpe("stop"),this.Cmt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.Cmt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.Cmt.dispose(),this.Cmt=void 0}this.FA=NaN,this.MI=!1,this.g5=Pp.TO,this.RI=0,this._pe=0,this.JI=!0,void 0!==this.vpe&&(y(this.vpe),this.vpe=void 0)},i.yn=function(){this.nr(),this.Ro(),this.Nyt.vn("nrt",this.Td),this.Ku.vn(TI.mn,this.rpe),this.r1t.removeEventListener("click",this.gpe)},n.dpe=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},Nt(n,[{key:"RI",get:function(){var t=this.Nyt.H8t;return t&&(this.RI=t.yme.getPlayheadTime()),this.OH},set:function(t){this.OH=t}},{key:"ct",get:function(){return this.FA}},{key:"lme",get:function(){return!!this.Nyt&&void 0!==this.Nyt.Xnt}},{key:"JI",get:function(){return this.WH},set:function(t){this.WH=t}},{key:"yR",get:function(){return this.jA},set:function(t){this.Cmt&&this.Cmt.setAdVolume(t),this.jA=t}},{key:"qI",get:function(){return this.Cmt&&(this.lpe=0===this.Cmt.getAdVolume()),this.lpe},set:function(t){this.Cmt&&this.Cmt.setAdVolume(m9(t,this.yR)),this.lpe=t}},{key:"cR",get:function(){return this.j4}},{key:"MI",get:function(){return this.v5},set:function(t){this.v5=t}},{key:"aR",get:function(){return this.g5}}]),n}(wa);function m9(t,n){return t?0:n}F(),Tt(),Mt(),Wt(),F(),Tt(),Dt(),Rt();var y9=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return a9.Xge}}]),n}(pr);F(),Tt(),Dt(),Rt();var p9=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return It(n,t),Nt(n,[{key:"name",get:function(){return a9.Hge}}]),n}(pr),_9=0;var b9=function(){function t(t,n,i,r){var e=this;this.Cmt=n,this.ype=function(t){e.Cmt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.ype),t.success?e.wpe.Zb(void 0):e.wpe.Hb(new y9)},this.mpe(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.ype),this.wpe=new ih}var n=t.prototype;return n.mpe=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.Cmt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++_9,s.adUnit,s.timeOffset)}var o=n.customData;if(Qn(o))for(var a=b.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.ppe=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Cmt.submitRequest(),[4,t.wpe.Xb];case 1:return n.sent(),[2]}}))}))()},n.nr=function(){this.Cmt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.ype),this.wpe.Hb(new p9)},t}();F(),Tt(),Mt(),Wt(),F(),Tt(),Dt();var k9=function(){function t(t){var n=this;this.Sme=t,this.Bme=function(t){n.bpe(),n.sp.Zb(void 0)},this.F9t=function(t){n.bpe(),n.sp.Hb(new y9)},this.sp=new ih,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bme),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.F9t)}var n=t.prototype;return n.bpe=function(){this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Bme),this.Sme.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.Bme)},n.KUt=function(){this.bpe(),this.sp.Hb(new p9)},Nt(t,[{key:"Ape",get:function(){return this.sp.Xb}}]),t}(),A9=function(){function t(t,n){var i=this;this.na=t,this.Tpe=n,this.JMt=0,this.Epe=function(){for(var t=i.na.CI(),n=0,r=i.Tpe.Rme;n<r.length;n++){var e=r[n],u=new FA([i.JMt,t],[!0,!0]),s=e.vme.getTimePosition();if(u.wr(s))switch(e.vme.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.Spe([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.vme.play(),e.vme.setVisible(!0)}}i.JMt=t},t.bn(ya._b,this.Epe)}var n=t.prototype;return n.qO=function(t){this.Sme=t},n.fme=function(){return this.Spe(this.Tpe.xme)},n.rme=function(){this.Spe(this.Tpe.Pme)},n.Spe=function(t){var n=this;return Pt((function(){var i,r;return Ot(this,(function(e){switch(e.label){case 0:if(!n.Sme)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.kpe=new k9(n.Sme),i=n.kpe.Ape,(r=n.Tpe.Xnt)&&r.S3t===w0.w3t&&r.vme.stop(),t.shift().vme.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.kpe=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.nr=function(){this.kpe&&(this.kpe.KUt(),this.kpe=void 0),this.JMt=0},n.yn=function(){this.na.vn(ya._b,this.Epe)},t}(),T9=0,S9=function(t){function n(i,r,e){var u;return(u=t.call(this)||this).na=i,u.hk=r,u.Ppe=!1,u.Ipe=n.createUniqueDisplayBaseId(),u.r1t=n.Npe(i.we,r,u.Ipe),u.xpe=new f.tv.freewheel.SDK.AdManager,u.Dpe=new g9(u.r1t,u.hk),u.Rpe=new A9(u.na,u.$ge),u.ru(u.$ge),u.D9t=new w9(i,e,u.$ge,u.r1t),u}It(n,t);var i=n.prototype;return i.G5t=function(){var t=this;return Pt((function(){var n,i,r,e;return Ot(this,(function(u){switch(u.label){case 0:if(!t.qQt)throw new p("Invalid state");n=t.xpe,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new b9(n,i,t.qQt,t.Ipe),e=t.$ge.Ame(i,r.ppe()),t.Rpe.qO(i),t.eme.spe(i),t.Cpe=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.eme.ipe(),t.Ppe=!0,[7];case 4:return[2]}}))}))()},i.K2t=function(t){this.eme.fpe(t.type)},i.ge=function(){this.r1t.style.display="block",this.hk.style.display="block"},i.be=function(){this.r1t.style.display="none",this.hk.style.display="none"},i.o7t=function(t){this.qQt=t},i.nr=function(){this.Ppe=!1,this.qQt=void 0,this.$ge.nr(),this.Rpe.nr(),this.Cpe&&(this.Cpe.nr(),this.Cpe=void 0),this.eme.nr(),this.hk.src=""},i.yn=function(){this.nr(),this.D9t.yn(),this.Rpe.yn(),this.$ge.yn(),this.r1t.remove(),oi(this.r1t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++T9},n.Npe=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},Nt(n,[{key:"nme",get:function(){return 0!==this.$ge.Pme.length}},{key:"dme",get:function(){return 0!==this.$ge.xme.length}},{key:"eme",get:function(){return this.D9t}},{key:"$ge",get:function(){return this.Dpe}},{key:"ame",get:function(){return this.Ppe}},{key:"ome",get:function(){return this.Rpe}}]),n}(zI);function E9(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function I9(t,n,i){if(void 0!==n&&S(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return FQ(n)}var R9=function(){function t(){}var n=t.prototype;return n.sX=function(t){return t.integration===LS.FREEWHEEL},n.V2t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new AL(t.Hu,t.Wl,1,[aw.yE]);r.Mst(t.we);var e=r.lH(aw.yE),u=new S9(t,e.SZ,t.Hu);return new f9(t,n,r,u,e)}},n.Aq=function(t){var n=Wg(t);qn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=I9(s.adUnit,s.timeOffset,r),a=E9(s.adUnit);!S(o)&&ti(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):Kn.aw("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.K6=function(t,n,i,r){i.o7t(t,n,r)},Nt(t,[{key:"F2t",get:function(){return I$.J$t}}]),t}();MS.Vm.nX(new R9),F(),Tt(),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt();var C9,N9=self.theoplayerDeviceMetadata;function D9(t){return t.navigator&&t.navigator.userAgent||""}F(),Tt(),F(),Tt(),F(),Tt(),sn(),F(),Tt(),sn();var x9=(un(C9={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),un(C9,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),un(C9,"Windows 8",/(Windows 8|Windows NT 6.2)/i),un(C9,"Windows 7",/(Windows 7|Windows NT 6.1)/i),un(C9,"Windows Vista",/Windows NT 6.0/i),un(C9,"Windows Server 2003",/Windows NT 5.2/i),un(C9,"Windows XP",/(Windows NT 5.1|Windows XP)/i),un(C9,"Windows Phone",/Windows Phone/i),un(C9,"Android",/Android/i),un(C9,"Linux",/(Linux(?!.*Ubuntu)|X11)/),un(C9,"Ubuntu",/Ubuntu/i),un(C9,"iOS",/(iPhone|iPad|iPod)/i),un(C9,"Mac OS X",/Mac OS X/i),un(C9,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),un(C9,"Chrome OS",/CrOS/i),C9);function P9(t,n){var i=x9[n];return!!i&&Boolean(D9(t).match(i))}function L9(t){return P9(t,"Android")}function M9(t){return P9(t,"Windows Phone")}function O9(t){return P9(t,"iOS")&&!M9(t)}function B9(t){return P9(t,"Ubuntu")}var V9,F9,U9=/Windows (NT|Phone) ([0-9.]+)/i,W9=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,Z9=(un(V9={},"Windows 10",U9),un(V9,"Windows 8.1",U9),un(V9,"Windows 8",U9),un(V9,"Windows 7",U9),un(V9,"Windows Vista",U9),un(V9,"Windows Server 2003",U9),un(V9,"Windows XP",U9),un(V9,"Windows Phone",/Windows Phone ([0-9.]+)/i),un(V9,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),un(V9,"Linux",void 0),un(V9,"Ubuntu",void 0),un(V9,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),un(V9,"Mac OS X",W9),un(V9,"Mac OS",W9),un(V9,"Chrome OS",void 0),V9);function X9(t,n){var i=Z9[n];return i?D9(t).match(i):null}function G9(t){return t.split(/[_.]/).map((function(t){return A(t,10)}))}function H9(t){if(function(t){return Boolean(D9(t).match(/Windows/i))}(t)){if(function(t){return P9(t,"Windows 10")}(t))return"Windows 10";if(M9(t))return"Windows Phone";if(function(t){return P9(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return P9(t,"Windows 8")}(t))return"Windows 8";if(function(t){return P9(t,"Windows 7")}(t))return"Windows 7";if(function(t){return P9(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return P9(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return P9(t,"Windows XP")}(t))return"Windows XP"}else{if(L9(t))return"Android";if(O9(t))return"iOS";if(function(t){return P9(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return P9(t,"Mac OS")}(t))return"Mac OS";if(B9(t))return"Ubuntu";if(function(t){return P9(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return P9(t,"Linux")&&!B9(t)}(t))return"Linux"}}function z9(t,n){var i=function(t){var n=X9(t,"Windows 10");return n&&n.length>2?G9(n[2]):void 0}(t),r=function(t){var n=X9(t,"Mac OS X");return n&&n.length>2?G9(n[2]):void 0}(t),e=function(t){var n=X9(t,"Android");return n&&n.length>1?G9(n[1]):void 0}(t),u=function(t){var n=X9(t,"iOS");return n&&n.length>3?G9(n[3]):void 0}(t),s=function(t){var n=X9(t,"Chrome OS");return n&&n.length>0?G9(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function Y9(t){var n=function(t){return z9(t,0)}(t),i=function(t){return z9(t,1)}(t),r=function(t){return z9(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var j9=(un(F9={},"Chrome",/Chrome/i),un(F9,"Chrome Mobile",void 0),un(F9,"Chrome iOS",/CriOS/i),un(F9,"Chromium",/Chromium/i),un(F9,"HeadlessChrome",/HeadlessChrome/i),un(F9,"Firefox",/Firefox/i),un(F9,"Seamonkey",/Seamonkey/i),un(F9,"Firefox iOS",/FxiOS/i),un(F9,"Safari",/Safari/i),un(F9,"Edge",/Edge\/\d+/i),un(F9,"Edge Chromium",/Edg\/\d+/i),un(F9,"IE",/Trident/i),un(F9,"Opera",/Opera|OPR/i),un(F9,"Vivaldi",/Vivaldi/i),un(F9,"Android Browser",void 0),F9);function K9(t,n){var i=j9[n];return!!i&&Boolean(D9(t).match(i))}function q9(t){return Boolean(D9(t).match(/Mobi/i))}function J9(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||Q9(t)}function Q9(t){return K9(t,"Chrome iOS")}function $9(t){return K9(t,"Firefox")&&!n8(t)}function t8(t){return K9(t,"Firefox Mobile")&&!n8(t)&&q9(t)}function n8(t){return K9(t,"Seamonkey")}function i8(t){return K9(t,"Firefox iOS")&&!n8(t)}function r8(t){return K9(t,"Safari")&&!K9(t,"Chrome")&&!Gn.Zv}function e8(t){return Boolean(d8(t))}function u8(t){return K9(t,"Edge")}function s8(t){return K9(t,"Edge Chromium")}function o8(t){return K9(t,"IE")}function a8(t){return K9(t,"Vivaldi")}var c8,h8=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,f8=(un(c8={},"Chrome",h8),un(c8,"Chrome Mobile",h8),un(c8,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),un(c8,"Chromium",h8),un(c8,"HeadlessChrome",h8),un(c8,"Firefox",/Firefox\/([0-9.]+)/i),un(c8,"Firefox iOS",/FxiOS\/([0-9.]+)/i),un(c8,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),un(c8,"Safari Mobile",void 0),un(c8,"Edge",/Edge\/(\d+)/i),un(c8,"Edge Chromium",/Edg\/(\d+)/i),un(c8,"Edge Mobile",void 0),un(c8,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),un(c8,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),un(c8,"Opera Mobile",void 0),un(c8,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),un(c8,"Android Browser",void 0),c8);function v8(t,n){var i=f8[n];return i?D9(t).match(i):null}function d8(t){return v8(t,"Opera")}function l8(t){var n=function(t){return v8(t,"Firefox")}(t);return n?T(n[1]):0}function g8(t){var n=function(t){return v8(t,"Firefox iOS")}(t);return n?T(n[1].split(".")[0]):0}function w8(t){var n=function(t){return v8(t,"Safari")}(t);return n?T(n[2].split(".")[0]):0}function m8(t){var n=function(t){return v8(t,"Edge")}(t);return n?T(n[1]):0}function y8(t){var n=function(t){return v8(t,"Edge Chromium")}(t);return n?T(n[1]):0}function p8(t){var n=function(t){return v8(t,"IE")}(t);return n?T(n[2]):0}function _8(t){var n=function(t){return v8(t,"Vivaldi")}(t);return n?T(n[1]):0}function b8(t){if(L9(t))return J9(t)?"Chrome Mobile":$9(t)||t8(t)?"Firefox Mobile":u8(t)?"Edge Mobile":e8(t)?"Opera Mobile":"Android Browser";if(O9(t)){if(J9(t)||Q9(t))return"Chrome iOS";if($9(t)||i8(t))return"Firefox iOS";if(u8(t))return"Edge Mobile";if(r8(t)||function(t){return r8(t)&&q9(t)}(t))return"Safari Mobile";if(e8(t))return"Opera Mobile"}return function(t){return K9(t,"Chromium")}(t)?"Chromium":function(t){return K9(t,"HeadlessChrome")}(t)?"HeadlessChrome":J9(t)?"Chrome":$9(t)?"Firefox":r8(t)?"Safari":u8(t)?"Edge":s8(t)?"Edge Chromium":o8(t)?"IE":e8(t)?"Opera":a8(t)?"Vivaldi":void 0}function k8(t){return a8(t)?_8(t):Q9(t)?Number(function(t){var n=f8["Chrome iOS"];return n&&n.exec(D9(t))||[]}(t)[1]):J9(t)?Number(function(t){var n=f8.Chrome;return n&&n.exec(D9(t))||[]}(t)[1]):$9(t)||t8(t)?l8(t):i8(t)?g8(t):r8(t)?w8(t):u8(t)?m8(t):s8(t)?y8(t):o8(t)?p8(t):e8(t)?function(t){var n=d8(t);return n&&n[0].indexOf("Opera")>-1?T(n[5]):n?T(n[2].split(".")[0]):0}(t):void 0}var A8=function(t){return t.Mpe="pc",t.Lpe="console",t.Bpe="settop",t.Ope="mobile",t.Fpe="tablet",t.Vpe="smarttv",t.Wpe="searchbot",t}({});function T8(t){var n=D9(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(b8(t))}(t)?"pc":void 0}var S8=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.Hpe=function(){var t=Kn.gI;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(Kn.vI);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.bq=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=Ld.Vb("deviceId");if(t)return t;var n=QS();return Ld.Wb("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"9.7.0"),this.Upe(t),this.Gpe(),this.Zpe(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.Hpe(),l.connection&&l.connection.addEventListener&&l.connection.addEventListener("change",this.Hpe))},n.Upe=function(t){this.Xpe(t);var n=t.deviceManufacturer||N9&&N9.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||N9&&N9.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.Xpe=function(t){var n=t.deviceType||function(){var t=T8(self);switch(t){case A8.Lpe:return"game-console";case A8.Vpe:return"tv";case A8.Bpe:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.Gpe=function(){var t=b8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=k8(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.Zpe=function(t){var n=t.deviceOs||H9(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||Y9(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.yn=function(){l.connection&&l.connection.removeEventListener&&l.connection.removeEventListener("change",this.Hpe)},t}();var E8=function(t){function n(){var n;return(n=t.call(this)||this).mo=!1,n.jpe=!1,n.Ype=f.Agama,n}It(n,t);var i=n.prototype;return i.RR=function(t){this.qpe=t,this.Ype&&(this.YX=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.Ype),this.YX&&(this.Kpe=new S8(this.YX,this.Ype),this.mo=!0))},i.yq=function(){return this.Ype||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),Boolean(this.Ype)},i.pq=function(){return this.mo},i.Kz=function(t,n){if(this.YX&&this.Ype)switch(t){case BS.gX:this.YX.setMeasurement(this.Ype.Measurement.BUFFER_LENGTH,n);break;case BS.mX:this.YX.setMeasurement(this.Ype.Measurement.BYTES_RECEIVED,n);break;case BS.wX:this.YX.setMeasurement(this.Ype.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case BS.yX:this.YX.setMeasurement(this.Ype.Measurement.VIDEO_PROFILE_BITRATE,n);break;case BS.pX:this.YX.setMeasurement(this.Ype.Measurement.SEGMENT_READ_BITRATE,n);break;case BS.lX:this.YX.setMeasurement(this.Ype.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case BS.dX:this.YX.setMeasurement(this.Ype.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case BS.fX:this.YX.setMeasurement(this.Ype.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case BS._X:this.YX.setMeasurement(this.Ype.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case BS.vX:this.YX.setMeasurement(this.Ype.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case BS.AX:this.YX.setMeasurement(this.Ype.Measurement.PLAYBACK_POSITION,n);break;case BS.SX:this.YX.setMeasurement(this.Ype.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case BS.bX:this.YX.setMeasurement(this.Ype.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.Rz=function(t,n){if(this.YX&&this.Ype)switch(t){case VS.IX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.ASSET_DURATION,n);break;case VS.xX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.MANIFEST_URI,n);break;case VS.RX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case VS.DX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.SERVICE_NAME,n);break;case VS.CX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.CDN,n);break;case VS.PX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.CONTENT_TITLE,n);break;case VS.NX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.CONTENT_TYPE,n);break;case VS.MX:this.YX.setSessionMetadata(this.Ype.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.bq=function(){this.Kpe&&this.qpe&&this.Kpe.bq(this.qpe)},i.wq=function(t,n){this.Ype&&this.YX&&(this.iq(),function(t,n,i,r){var e=$S(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.Ype,this.YX,t,n),this.jpe=!0)},i.yn=function(){this.Kpe&&this.Kpe.yn(),this.Qpe(FS.LX),this.YX=void 0},i.vz=function(t){this.Jpe(t)},i.pz=function(t,n){this.YX&&this.YX.event(t.code,n)},i.iq=function(){this.YX&&this.jpe&&(this.YX.exitSession(),this.jpe=!1)},i.Qpe=function(t){if(this.YX&&this.Ype&&(this.iq(),t===FS.LX))this.YX.shutdown(this.Ype.ShutdownType.NORMAL_SHUTDOWN)},i.gz=function(t,n,i){this.Jpe(t,n,i)},i.Jpe=function(t,n,i){if(this.YX&&this.Ype)switch(t){case OS.uB:this.$pe(this.Ype.ViewState.PLAYING,n,i);break;case OS.aX:this.$pe(this.Ype.ViewState.FAILED,n,i);break;case OS.uX:this.$pe(this.Ype.ViewState.INITIAL_BUFFERING,n,i);break;case OS.rX:this.$pe(this.Ype.ViewState.PAUSED,n,i);break;case OS.oX:this.$pe(this.Ype.ViewState.SEEK,n,i);break;case OS.hX:this.$pe(this.Ype.ViewState.STALLED,n,i);break;case OS.cX:this.$pe(this.Ype.ViewState.NO_ACCESS,n,i)}},i.$pe=function(t,n,i){if(this.YX)if(n){var r=function(t){return t||""}(i);this.YX.viewStateExtended(t,n.code,r)}else this.YX.viewStateChanged(t)},n}(ZS);nA(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).YX=new t,e.zpe=new nE(e,e.YX,r),e}It(i,n);var r=i.prototype;return r.DI=function(t,i){this.zpe&&this.zpe.oz(),n.prototype.DI.call(this,t)},r.yn=function(){this.zpe&&this.zpe.yn(),n.prototype.yn.call(this)},i}(n)}}(E8),$k.Pnt),F(),Tt(),F(),Tt(),Rt(),F(),Tt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var I8=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});F(),Tt();var R8=function(t){return t.VOD="vod",t.LIVE="live",t}({}),C8=function(){function t(t,n,i,r,e,u,s){var o=this;this.na=t,this.awe=n,this.lwe=i,this.nwe=r,this.twe=e,this.ywe=u,this.rwe=s,this.bZ=void 0,this.AZ=void 0,this.V8=new mr,this.dwe=new mr,this.Owe=void 0,this.owe=!1,this.h1t=void 0,this.fwe=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.twe.Fwe(r),r&&r.type===R8.VOD&&r.ads&&o.nwe.Awe(r.ads),o.awe.Vwe=n.integrationData,e.assetInfo&&xr(o.fetchAssetInfo(n))}},this.Vde=function(){o.owe=!0},this.xae=function(){o.owe&&o.Swe(o.na.CI())},this.g_e=function(){o.owe&&(o.Swe(1/0),o.owe=!1)},this.Sd=function(){xr(o.awe.Sn())},this.vwe=function(t){o.V8.np(),o.V8=new mr,xr(Er(o.Ine(t.sd.dF,o.V8.ep),o.V8))},this.gwe=function(){1!==o.na.tR&&(o.Owe=o.na.tR,o.na.tR=1)},this.mwe=function(){void 0!==o.Owe&&(o.na.tR=o.Owe,o.Owe=void 0)},this.pwe=function(t){t.sd.bn("_we",o.vwe),t.sd.bn("nrt",o.gwe),t.sd.bn("irt",o.mwe)},this.wwe=function(t){t.sd.vn("_we",o.vwe),t.sd.vn("nrt",o.gwe),t.sd.vn("irt",o.mwe)},this.Bwe=function(){o.na.PR()},this.na.bn(ya.Cy,this.fwe),this.na.bn(ya.ho,this.Vde),this.na.bn(ya._b,this.xae),this.na.bn(ya.Ly,this.g_e),this.na.bn(Np.oB,this.Sd),this.nwe.D$t.bn("$nt",this.pwe),this.nwe.D$t.bn("Jnt",this.wwe)}var n=t.prototype;return n.iwe=function(t){this.bZ=lw(t),this.AZ=t,this.na._o(new xk(t))},n.Ca=function(t){this.nwe.resetSource(),this.rwe.Gb(),this.owe=!1,this.na.hwe(t)},n.prt=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return i.awe.nr(),i.owe=!1,t&&function(t){return t.sources.some((function(t){return t.integration===qA.UPLYNK}))}(t)?[3,2]:[4,i.na.uwe(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.lwe.hve(t)];case 3:return i.cwe=e.sent(),[4,i.na.uwe(i.cwe,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.iwe(new ld(vd.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.yn=function(){this.V8.np(),this.dwe.np(),this.na.vn(ya.Cy,this.fwe),this.na.vn(ya.ho,this.Vde),this.na.vn(ya._b,this.xae),this.na.vn(ya.Ly,this.g_e),this.na.vn(Np.oB,this.Sd);for(var t=0,n=this.nwe.D$t.Zu;t<n.length;t++){var i=n[t];i.vn("_we",this.vwe),i.vn("nrt",this.gwe),i.vn("irt",this.mwe)}this.nwe.D$t.vn("$nt",this.pwe),this.nwe.D$t.vn("Jnt",this.wwe),this.nwe.destroy(),this.h1t&&(this.h1t.Km(),this.h1t=void 0),this.owe=!1},n.fetchAssetInfo=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.ywe.tTt(t.integrationData.source.prefix,t.integrationData.source.id,n.dwe.ep,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.twe.bwe(i),n.rwe.Awe(i,n.nwe.D$t.Zu),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.Swe=function(t){this.nwe.Twe(t),this.nwe.Znt.forEach((function(n){return n.kwe(t)})),this.nwe.xwe(this.na.lR()),this.o1t()},n.DI=function(t){this.nwe.Xnt||(this.V8.np(),this.V8=new mr,xr(Er(this.Ine(t,this.V8.ep),this.V8)))},n.Ine=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:if(kr(n),t<i.na.CI())return i.Iwe(t),[2];switch(r=[],i.nwe.Rwe){case I8.PLAY_ALL:return[3,1];case I8.PLAY_LAST:return[3,3];case I8.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.nwe.Cwe(i.na.CI(),t),[4,i.Pwe(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.nwe.Cwe(i.na.CI(),t).pop(),r=e?[e]:[],[4,i.Pwe(t,r,n)];case 5:return i.Dwe(t),[3,6];case 6:return[2]}}))}))()},n.Iwe=function(t){var n=Hi(this.nwe.D$t.Zu,(function(n){return n.Kat.wr(t)}));n?this.na.Nwe(n.lF):this.na.Nwe(t)},n.Dwe=function(t){var n=this.nwe.Cwe(this.na.CI(),t).pop();n&&n.Kat.wr(t)?this.na.Nwe(n.dF):this.na.Nwe(t)},n.Pwe=function(t,n,i){var r=this;return Pt((function(){var e,u,s;return Ot(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.Mwe(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=qi(n,-1))&&s.Kat.wr(t)?(r.na.CI()<t&&r.na.Nwe(s.dF),[2]):(r.na.Nwe(t),[2])}}))}))()},n.Mwe=function(t,n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return t.vn("_we",i.vwe),r=et.race([t.Ay("irt",n),t.Ay("_we",n)]),i.Swe(i.na.CI()),t.so||i.na.Nwe(t.lF),[4,r];case 1:return e.sent(),t.bn("_we",i.vwe),[2]}}))}))()},n.o1t=function(){var t=Hi(this.nwe.Znt,(function(t){return t.Lwe.length>0}));if(t){var n=t.Lwe[0];this.h1t||(this.h1t=new M$(this.na.we),this.h1t.bn("clickstart",this.Bwe)),this.h1t.y0t=n}else this.h1t&&(this.h1t.Km(),this.h1t=void 0)},Nt(t,[{key:"wa",get:function(){return this.twe.wa}},{key:"lt",get:function(){return this.bZ}},{key:"OI",get:function(){return this.AZ}}]),t}();F(),Tt(),Mt(),sn(),Wt(),F(),Tt();var N8=Xb({breaksIndex:Mb,adsIndex:Mb,startTime:Mb,endTime:Mb}),D8=Xb({index:Mb,timeOffset:Mb}),x8=Xb({duration:Mb,apiFramework:jb(Ob,Ub),creative:Ob,mimeType:Ob,width:Mb,height:Mb,companions:qb(function(t){return new $b(t)}((function(){return x8}))),extensions:jb(Vb,qb(Fb)),fw_parameters:jb(Vb,Qb(Ob)),events:Qb(qb(Ob))}),P8=Xb({type:zb(["linear","nonlinear"]),position:zb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Mb,duration:Mb,ads:qb(x8),events:Qb(qb(Ob))}),L8=Xb({breaks:qb(P8),breakOffsets:jb(Vb,qb(D8)),placeholderOffsets:jb(Vb,qb(N8))}),M8=Xb({required:jb(Vb,Bb),fairplayCertificateURL:jb(Vb,Ob),widevineLicenseURL:jb(Vb,Ob),playreadyLicenseURL:jb(Vb,Ob)}),O8={type:zb(Gb(R8)),playURL:Ob,prefix:Ob,sid:Ob,drm:jb(Vb,M8)},B8=Xb(ao({},O8,{type:zb([R8.VOD]),ads:L8,interstitialURL:jb(Ob,Ub,Vb)})),V8=jb(B8,Xb(ao({},O8,{type:zb([R8.LIVE])})));F(),Tt();var F8,U8=Ob,W8=Xb({userId:Ob,externalId:jb(Ob,qb(Ob))}),Z8=function(){function t(t){this.WW=t}var n=t.prototype;return n.tTt=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){try{return[2,n.Wwe(t)]}catch(t){throw t}return[2]}))}))()},n.Wwe=function(t){var n=this;return Pt((function(){var i,r,e;return Ot(this,(function(u){switch(u.label){case 0:return[4,G8(t)];case 1:return i=u.sent(),[4,n.WW.eE({EE:pl.GET,Xu:i,tE:Fd.xk})];case 2:return[4,u.sent().$k()];case 3:return r=u.sent(),e=ao({},r,{type:t.assetType===oE.ASSET?R8.VOD:R8.LIVE}),V8.fG(e)||V8.vG(e,"PreplayResponse"),[2,e]}}))}))()},t}(),X8=(un(F8={},oE.ASSET,""),un(F8,oE.CHANNEL,"channel/"),un(F8,oE.EVENT,"event/"),F8);function G8(t){return H8.apply(this,arguments)}function H8(){return H8=Pt((function(t){var n,i,r,e,u,s;return Ot(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=X8[t.assetType],r=function(t){if(qb(U8).fG(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(U8.fG(t))return t;if(W8.fG(t)&&qn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(W8.fG(t))return"ext/"+t.userId+"/"+t.externalId;throw new _("Invalid asset id")}(t.id),[4,z8(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=j8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},qn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,Il(n+"/preplay/"+i+r+".json",ao({v:"2"},s,e,u,s))]}}))})),H8.apply(this,arguments)}function z8(t){return Y8.apply(this,arguments)}function Y8(){return Y8=Pt((function(t){var n,i,r;return Ot(this,(function(e){switch(e.label){case 0:return(n=t)?[4,Kn.mw()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,Kn.ww()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,Kn.pw()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),Y8.apply(this,arguments)}function j8(t,n){var i=t!==oE.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}F(),Tt(),Mt(),Wt(),F(),Tt();var K8=Xb({ad_id:Ob,apiFramework:jb(Ub,Ob),companions:qb(Fb),creative:Ob,duration:Mb,mimeType:Ob,height:Mb,width:Mb,extensions:jb(Vb,qb(Fb)),fw_parameters:jb(Vb,Qb(Ob))}),q8=Xb({breakId:Ob,ads:qb(K8),type:zb(["linear","nonlinear"]),position:zb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Mb,duration:Mb,height:jb(Vb,Mb),width:jb(Vb,Mb),events:Qb(qb(Ob))}),J8=Xb({breaks:qb(q8)}),Q8=Xb({next_time:Mb,ads:jb(Vb,J8),extensions:jb(Vb,qb(Fb)),error:jb(Vb,Ob),currentBreakEnd:jb(Vb,Mb)}),$8=function(t){return t.rTt="start",t.oX="seek",t}({}),t7=function(){function t(t){this.WW=t}var n=t.prototype;return n.tTt=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){try{return[2,i.Wwe(t,n)]}catch(t){throw t}return[2]}))}))()},n.Wwe=function(t,n){var i=this;return Pt((function(){var r,e;return Ot(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return Il(t.zonePrefix+"/session/ping/"+t.sessionId+".json",ao({},n))}(t),[4,i.WW.eE({EE:pl.GET,Xu:r,tE:Fd.xk,ep:n})];case 1:return[4,u.sent().$k()];case 2:return e=u.sent(),Q8.fG(e)||Q8.vG(e,"PingResponse"),[2,e]}}))}))()},t}();F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Dt(),Rt();var n7=function(t){function n(n){var i;return(i=t.call(this,"Uwe")||this).QE=n,i}return It(n,t),n.prototype.ka=function(){return new i7(this.QE)},Nt(n,[{key:"jE",get:function(){return this.QE}}]),n}(Ig),i7=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return It(n,t),n}(ma);F(),Tt(),Dt(),Rt();var r7=function(t){function n(n){var i;return(i=t.call(this,"Gwe")||this).bZ=n,i}return It(n,t),n.prototype.ka=function(){return new e7(this.bZ)},Nt(n,[{key:"lt",get:function(){return this.bZ}}]),n}(Ig),e7=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return It(n,t),n}(ma),u7=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.Qwe=n,r.na=i,r.Xwe=NaN,r.jwe=void 0,r.Jwe=!1,r.$we=NaN,r.zT=new mr,r.Kwe=void 0,r.qwe=Pt((function(){var t;return Ot(this,(function(n){switch(n.label){case 0:return t=e.na.CI(),e.$we=t,e.Jwe||jn(e.jwe)||S(e.Xwe)?[2]:e.Xwe+e.jwe<=t?(e.Jwe=!0,[4,e.zwe()]):[3,2];case 1:n.sent(),e.Jwe=!1,n.label=2;case 2:return[2]}}))})),r.Ywe=function(){if(r.na.CI()!==r.Xwe){r.Jwe&&r.tye(),r.$we=r.na.CI();var t=r.$we-(r.Xwe||0);S(t)?xr(r.zwe($8.oX,0)):xr(r.zwe($8.oX,t))}},r}It(n,t);var i=n.prototype;return i.Sn=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:return(n=t.Zwe)?(i=j8(n.source.assetType,n.source.ping),0!==i?(t.Xwe=t.na.lR().start(0),[4,t.zwe($8.rTt)]):[2]):[2];case 1:return r.sent(),t.na.bn("timeupdate",t.qwe),t.na.bn("seeking",t.Ywe),[2]}}))}))()},i.zwe=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(r=i.Zwe.preplayResponse,e={},S(i.Xwe))return[2];if(Yn(i.Kwe)&&Pi(i.Kwe,i.na.CI()-i.Xwe))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.na.CI()-i.Xwe,t===$8.rTt?u=0:t!==$8.oX&&i.jwe&&(u=k.min(u,i.jwe)),i.Kwe=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.Qwe.tTt(ao({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.Zwe)?void 0:o.source.ping.freeWheelVideoViews},e),i.zT.ep)];case 2:return a=h.sent(),i._o(new n7(a)),i.jwe=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return br(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i._o(new r7(s)),[7];case 5:return[2]}}))}))()},i.nr=function(){this.jwe=void 0,this.Zwe=void 0,this.Xwe=NaN,this.Jwe=!1,this.$we=NaN,this.Kwe=void 0,this.na.vn("seeking",this.Ywe),this.na.vn("timeupdate",this.qwe),this.tye()},i.tye=function(){this.zT.np(),this.zT=new mr},i.yn=function(){this.nr()},Nt(n,[{key:"Vwe",set:function(t){this.Zwe=t}},{key:"Hwe",get:function(){return this.Xwe}}]),n}(la);F(),Tt(),Mt(),Wt();var s7=function(){function t(t,n){this.iye=t,this.rJ=n}return t.prototype.hve=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o;return Ot(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?oT(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.iye.tTt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=IA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.rJ),o.src&&(o.src=Il(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new p("Fatal: unable to play UplynkSources.");return[2,ao({},t,{sources:i})]}}))}))()},t}();F(),Tt(),Dt(),F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var o7=function(t){function n(n,i){var r;return(r=t.call(this,"nrt")||this).sd=n,r.DV=i,r}return It(n,t),n.prototype.ka=function(){return new a7(this.sd.wa)},n}(Ig),a7=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var c7=function(t){function n(n,i){var r;return(r=t.call(this,"irt")||this).sd=n,r.DV=i,r}return It(n,t),n.prototype.ka=function(){return new h7(this.sd.wa)},n}(Ig),h7=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var f7=function(t){function n(n){var i;return(i=t.call(this,"_we")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new v7(this.sd.wa)},n}(Ig),v7=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return It(n,t),n}(ma);F(),Tt(),F(),Tt(),Rt();var d7=function(t){function n(n){var i;return(i=t.call(this,"B3t")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new l7(this.sd.wa)},n}(Ig),l7=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return It(n,t),n}(ma),g7=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).bF=n,s.FA=i,s.Oc=r,s.Xve=e,s.eo=!1,s.rye=!1,s.ujt=u,s}It(n,t);var i=n.prototype;return i.sye=function(t){this.FA=t-this.lF;for(var n=0,i=this.zc.Zu;n<i.length;n++){var r=i[n];r.lF>t&&this.zc.rT(r)}this._o(new d7(this))},i.wct=function(t){return t>=this.lF&&(jn(this.ct)||t<=this.lF+this.ct)},i.oye=function(t){return-1!==this.ajt&&(!!Yn(this.dF)&&t-this.lF>=this.ajt)},i.zD=function(){this.Oc.Zu.forEach((function(t){return t.zD()})),this._o(new f7(this))},i.aye=function(t){var n=Yn(this.dF)&&t>=this.dF,i=this.lF<=t&&!n&&!this.so,r=this.so&&this.dF&&t>=this.dF;i&&(this.eo=!0,this._o(new o7(this,this.lF))),this.Oc.Zu.forEach((function(n){return n.aye(t)})),r&&(this.rye=!0,this.eo=!1,this._o(new c7(this,this.dF)))},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get startTime(){return t.lF},get endTime(){return t.dF},get duration(){return t.ct},get ads(){return t.zc.wa},get skipOffset(){return t.ajt},set skipOffset(n){t.ajt=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new SR(t,i),i}(this)),this.eu}},{key:"lF",get:function(){return this.bF}},{key:"dF",get:function(){return this.FA?this.bF+this.FA:void 0}},{key:"ct",get:function(){return this.FA}},{key:"Kat",get:function(){var t=this.dF;return Yn(t)?new FA([this.lF,t]):FA.WB()}},{key:"zc",get:function(){return this.Oc}},{key:"nye",get:function(){return this.rye}},{key:"so",get:function(){return this.eo}},{key:"ajt",get:function(){return this.Xve?-1:this.ujt},set:function(t){this.Xve||(this.ujt=t)}}]),n}(wa);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var w7=function(t){function n(n,i){var r;return(r=t.call(this,"rrt")||this).trt=n,r.DV=i,r}return It(n,t),n.prototype.ka=function(){return new m7(this.trt.wa)},n}(Ig),m7=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var y7=function(t){function n(n,i){var r;return(r=t.call(this,"ort")||this).trt=n,r.DV=i,r}return It(n,t),n.prototype.ka=function(){return new p7(this.trt.wa)},n}(Ig),p7=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return It(n,t),n}(ma);F(),Tt(),Rt(),F(),Tt(),Rt();var _7=function(t){function n(n){var i;return(i=t.call(this,"uye")||this).trt=n,i}return It(n,t),n.prototype.ka=function(){return new b7(this.trt.wa)},n}(Ig),b7=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return It(n,t),n}(ma),k7=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Lee=function(t){},i.Vee=function(t){this._o(new _7(t))},n}(z1);F(),Tt(),Rt();var A7=function(t){function n(n){var i;return(i=t.call(this,"F3t")||this).trt=n,i}return It(n,t),n.prototype.ka=function(){return new T7(this.trt.wa)},n}(Ig),T7=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return It(n,t),n}(ma),S7=function(t){function n(n){var i;return(i=t.call(this,"V3t")||this).trt=n,i}return It(n,t),n.prototype.ka=function(){return new E7(this.trt.wa)},n}(Ig),E7=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return It(n,t),n}(ma),I7=function(t){function n(n){var i;return(i=t.call(this,"W3t")||this).trt=n,i}return It(n,t),n.prototype.ka=function(){return new R7(this.trt.wa)},n}(Ig),R7=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return It(n,t),n}(ma),C7=function(t){function n(n){var i;return(i=t.call(this,"cye")||this).trt=n,i}return It(n,t),n.prototype.ka=function(){return new N7(this.trt.wa)},n}(Ig),N7=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return It(n,t),n}(ma);F(),Tt();var D7=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var d;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(d=t.call(this)||this).bF=n,d.FA=i,d.AKt=r,d.vye=e,d.VY=u,d.JA=s,d.$A=o,d.gjt=c,d.gye=h,d.Kf=f,d.QKt=v,d.dKt=new k7,d.eo=!1,d.mye=!1,d.pye=!1,d.wye=!1,d.yye=!1,d.Aye=function(){return d.kwe(d.bF)},d.Sye=function(){return d.kwe(d.dF)},d.dKt.Bee(a),d.bn("rrt",d.Aye),d.bn("ort",d.Sye),d}It(n,t);var i=n.prototype;return i.aye=function(t){var n=this.lF<=t&&t<this.dF,i=n&&!this.so,r=!n&&this.so;i&&(this.mye=!1,this.pye=!1,this.wye=!1,this.yye=!1,this.eo=!0,this._o(new w7(this,this.lF))),r&&(this.eo=!1,this._o(new y7(this,this.dF)))},i.kwe=function(t){var n=(t-this.lF)/this.ct;!this.mye&&n>=.25&&(this.mye=!0,this._o(new A7(this))),!this.pye&&n>=.5&&(this.pye=!0,this._o(new S7(this))),!this.wye&&n>=.75&&(this.wye=!0,this._o(new I7(this))),!this.yye&&n>=.9999&&(this.yye=!0,this._o(new C7(this)))},i.zD=function(){this.mye=!0,this.pye=!0,this.wye=!0,this.yye=!0},i.yn=function(){this.vn("rrt",this.Aye),this.vn("ort",this.Sye)},n.lye=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.lye(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.dye=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.dye(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get apiFramework(){return t.bKt},get companions(){return t.lKt.wa},get creative(){return t.fye},get duration(){return t.ct},get endTime(){return t.dF},get events(){return t.TY},get extensions(){return t.vjt},get freeWheelParameters(){return t._ye},get height(){return t.Ti},get mimeType(){return t.SY},get startTime(){return t.lF},get width(){return t.ji},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new SR(t,i),i}(this)),this.eu}},{key:"lF",get:function(){return this.bF}},{key:"dF",get:function(){return this.bF+this.FA}},{key:"ct",get:function(){return this.FA}},{key:"bKt",get:function(){return this.AKt}},{key:"fye",get:function(){return this.vye}},{key:"SY",get:function(){return this.VY}},{key:"ji",get:function(){return this.JA}},{key:"Ti",get:function(){return this.$A}},{key:"TY",get:function(){return this.Kf}},{key:"lKt",get:function(){return this.dKt}},{key:"vjt",get:function(){return this.gjt}},{key:"_ye",get:function(){return this.gye}},{key:"so",get:function(){return this.eo}},{key:"Lwe",get:function(){var t;return null!=(t=this.Kf.clickthroughs)?t:[]}}]),n}(wa);F(),Tt(),Rt(),F(),Tt(),Rt();var x7=function(t){function n(n){var i;return(i=t.call(this,"$nt")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new P7(this.sd.wa)},n}(Ig),P7=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var L7=function(t){function n(n){var i;return(i=t.call(this,"Jnt")||this).sd=n,i}return It(n,t),n.prototype.ka=function(){return new M7(this.sd.wa)},n}(Ig),M7=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return It(n,t),n}(ma),O7=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Lee=function(t){this._o(new x7(t))},i.Vee=function(t){this._o(new L7(t))},n}(z1),B7=function(){function t(t,n,i,r){var e,u=this;this.xye=[],this.Dye=void 0,this.Mye=function(t){return u.Dye=t,u},this.Pye=function(t){t.jE.ads&&u.Awe(t.jE.ads),t.jE.currentBreakEnd&&u.Iye(t.jE.currentBreakEnd)},this.Cye=function(t){if(0!==u.xye.length&&0!==u.na.lR().length)for(var n=u.na.lR().end(u.na.lR().length-1),i=0,r=u.xye.slice();i<r.length;i++){var e=r[i];Yn(e.eKt.ct)?Ji(u.xye,e):e.yRt<n&&(e.eKt.sye(e.yRt),Ji(u.xye,e))}},this._d=function(t){var n,i=null==(n=u.Dye)?void 0:n.createAdBreak({timeOffset:t.sd.lF,maxDuration:t.sd.ct,customData:t.sd});t.sd.bn("_we",u.Lye);for(var r=0,e=t.sd.zc.Zu;r<e.length;r++){var s,o,a=e[r],c={type:"linear",timeOffset:a.lF,duration:a.ct,creativeId:a.fye,skipOffset:t.sd.ajt,clickThrough:null==(s=a.Lwe)?void 0:s[0],customData:a};null==(o=u.Dye)||o.createAd(c,i),a.bn("rrt",u.p8t),a.bn("ort",u.Bye),a.bn("F3t",u.Oye),a.bn("V3t",u.Fye),a.bn("W3t",u.Vye),a.bn("cye",u.Jme)}},this.Lye=function(t){for(var n=0,i=t.sd.zc.Zu;n<i.length;n++){var r,e,s=i[n],o=u.Nye(s);if(o)null==(r=u.Dye)||r.beginAd(o),null==(e=u.Dye)||e.skipAd(o)}},this.xd=function(t){for(var n=0,i=t.sd.zc.Zu;n<i.length;n++){i[n].Ro()}t.sd.Ro()},this.p8t=function(t){var n,i=u.Nye(t.trt);i&&(null==(n=u.Dye)||n.beginAd(i))},this.Bye=function(t){var n,i=u.Nye(t.trt);i&&(null==(n=u.Dye)||n.endAd(i))},this.Oye=function(t){var n,i=u.Nye(t.trt);i&&(null==(n=u.Dye)||n.updateAdProgress(i,.25))},this.Fye=function(t){var n,i=u.Nye(t.trt);i&&(null==(n=u.Dye)||n.updateAdProgress(i,.5))},this.Vye=function(t){var n,i=u.Nye(t.trt);i&&(null==(n=u.Dye)||n.updateAdProgress(i,.75))},this.Jme=function(t){var n,i=u.Nye(t.trt);i&&(null==(n=u.Dye)||n.updateAdProgress(i,1))},this.na=t,this.awe=n,this.s0t=new O7,this.s0t.bn("$nt",this._d),this.s0t.bn("Jnt",this.xd),this.Eye=i,this.kye=r,t.bn("timeupdate",this.Cye),this.awe.bn("Uwe",this.Pye),null==(e=this.na.zc)||e.Knt(LS.UPLYNK,this.Mye)}var n=t.prototype;return n.xwe=function(t){if(0!==t.length)for(var n=FA.Cn(t),i=0,r=this.s0t.Zu.slice();i<r.length;i++){var e=r[i];Yn(e.dF)&&n.Sn(0)>e.dF&&this.s0t.rT(e)}},n.Awe=function(t){for(var n=!function(t){return Yn(t.breakOffsets)}(t),i=n?this.awe.Hwe:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new k7,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?D7.dye(s,f):D7.lye(s,f);o.QO(v),s+=v.ct,a+=v.ct}var d=u.timeOffset+i,l=n?void 0:u.duration,g=new g7(d,l,o,n,this.Eye);n&&this.xye.push({eKt:g,yRt:d+a}),this.s0t.QO(g)}}},n.Iye=function(t){var n=this.Tye;n&&n.sye(t+this.awe.Hwe)},n.Twe=function(t){this.Rye=t,this.s0t.Zu.forEach((function(n){return n.aye(t)}))},n.zD=function(){var t=this.Rye,n=this.Xnt;t&&n&&n.oye(t)&&n.zD()},n.skipAd=function(t){this.zD()},n.Cwe=function(t,n){for(var i=[],r=0,e=this.D$t.Zu;r<e.length;r++){var u=e[r];!u.nye&&u.lF>=t&&u.lF<n&&i.push(u)}return i},n.destroy=function(){this.na.vn("timeupdate",this.Cye),this.awe.vn("Uwe",this.Pye)},n.resetSource=function(){for(var t,n=0,i=this.D$t.Zu;n<i.length;n++){for(var r=i[n],e=0,u=r.zc.Zu;e<u.length;e++){u[e].Ro()}r.Ro()}this.D$t.Gb(),null==(t=this.Dye)||t.removeAllAds(),this.Rye=void 0,this.xye=[]},n.Nye=function(t){return Hi(this.Dye.ads,(function(n){return n.creativeId===t.fye}))},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get adBreaks(){return t.D$t.wa},get currentAdBreak(){if(t.Xnt)return t.Xnt.wa},get currentAds(){return t.Xnt?t.Xnt.zc.wa:(new k7).wa},skip:function(){t.zD()}}}(this)),this.eu}},{key:"D$t",get:function(){return this.s0t}},{key:"Xnt",get:function(){return Hi(this.s0t.Zu,(function(t){return t.so}))}},{key:"Znt",get:function(){return this.Xnt?this.Xnt.zc.Zu.filter((function(t){return t.so})):[]}},{key:"Tye",get:function(){if(0!==this.D$t.V&&0!==this.na.lR().length){var t=this.na.lR().end(this.na.lR().length-1);return Hi(this.D$t.Zu,(function(n){return n.wct(t)}))}}},{key:"Rwe",get:function(){return this.kye}}]),t}();F(),Tt(),Mt(),Wt(),F(),Tt(),F(),Tt(),Dt();var V7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),F7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),U7=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,m,y,p,_,b,k,A,T){this.lF=t,this.dF=n,this.ct=i,this.Uye=r,this.Gye=e,this.lt=u,this.Zye=s,this.Hye=o,this.Xye=a,this.zye=c,this.qye=h,this.Yye=f,this.pW=v,this.Kye=d,this.jye=l,this.Qye=g,this.Jye=w,this.QN=m,this.$ye=y,this.tbe=p,this.ebe=_,this.ibe=b,this.sbe=k,this.nbe=A,this.rbe=T}return t.Wye=function(n,i,r){var e=new Ka(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.Mb(1),e.Mb(2),e.Mb(4),e.Mb(8),n.external_id,Boolean(n.is_ad),n.asset)},Nt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{startTime:t.lF,endTime:t.dF,duration:t.ct,audioOnly:t.Uye,boundaryDetails:t.Gye,error:t.lt,tvRating:t.Zye,maxSlice:t.Hye,thumbPrefix:t.Xye,sliceDuration:t.zye,movieRating:t.qye,ownerId:t.Yye,metadata:t.pW,rates:t.Kye,thumbnailResolutions:t.jye,posterUrl:t.Qye,defaultPosterUrl:t.Jye,description:t.QN,hasAdultLanguage:t.$ye,hasSexualSituations:t.tbe,hasViolence:t.ebe,hasDrugSituations:t.ibe,externalId:t.sbe,isAd:t.nbe,assetId:t.rbe}}(this)),this.eu}}]),t}();var W7=Xb({duration:Mb,offset:Mb}),Z7=Xb({c3:W7}),X7=Xb({c7:W7}),G7=Xb({halftime:W7}),H7=zb(Gb(F7)),z7=zb(Gb(V7)),Y7=Xb({width:jb(Vb,Mb),prefix:Ob,bw:Mb,bh:Mb,height:jb(Vb,Mb)}),j7=Xb({audio_only:Mb,boundary_details:jb(Vb,qb(jb(Z7,X7,G7))),error:Mb,tv_rating:H7,max_slice:Mb,thumb_prefix:Ob,slice_dur:Mb,movie_rating:z7,owner:Ob,meta:Fb,rates:qb(Mb),thumbs:qb(Y7),poster_url:Ob,duration:Mb,default_poster_url:Ob,desc:Ob,rating_flags:Mb,external_id:Ob,is_ad:Mb,asset:Ob}),K7=function(){function t(t){this.WW=t}var n=t.prototype;return n.tTt=function(t,n,i,r){var e=this;return Pt((function(){var u,s;return Ot(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(U8.fG(n))return[q7(t,n,i)];if(qb(U8).fG(n))return n.map((function(n){return q7(t,n,i)}));if(W8.fG(n)){return(qn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return q7(t,"ext/"+n.userId+"/"+r,i)}))}throw new _("Invalid asset id")}(t,n,r),s=u.map((function(t){return DT((function(){return e.Wwe(t)}),i)})),[4,et.all(s)];case 1:return[2,o.sent().filter(Yn)]}}))}))()},n.Wwe=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return[4,n.WW.eE({EE:pl.GET,Xu:t,tE:Fd.xk})];case 1:return[4,r.sent().$k()];case 2:return i=r.sent(),j7.fG(i)||j7.vG(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function q7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}F(),Tt(),Rt(),F(),Tt(),Rt();var J7=function(t){function n(n){var i;return(i=t.call(this,"obe")||this).ld=n,i}return It(n,t),n.prototype.ka=function(){return new Q7(this.ld.wa)},n}(Ig),Q7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var $7=function(t){function n(n){var i;return(i=t.call(this,"hbe")||this).ld=n,i}return It(n,t),n.prototype.ka=function(){return new ttt(this.ld.wa)},n}(Ig),ttt=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return It(n,t),n}(ma),ntt=function(t){function n(){return t.call(this)||this}It(n,t);var i=n.prototype;return i.Awe=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.lF&&o.lF<i&&(i+=o.ct||0)}this.QO(U7.Wye(u,r,i)),r=i}},i.Lee=function(t){this._o(new $7(t))},i.Vee=function(t){this._o(new J7(t))},n}(z1);F(),Tt(),Dt(),Rt(),F(),Tt(),Rt();var itt=function(t){function n(n){var i;return(i=t.call(this,"abe")||this).jE=n,i}return It(n,t),n.prototype.ka=function(){return new rtt(this.jE)},n}(Ig),rtt=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return It(n,t),n}(ma);F(),Tt(),Rt();var ett=function(t){function n(n){var i;return(i=t.call(this,"ube")||this).jE=n,i}return It(n,t),n.prototype.ka=function(){return new utt(this.jE)},n}(Ig),utt=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return It(n,t),n}(ma),stt=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).nwe=n,e.rwe=i,e.awe=r,r.bn("Uwe",e.Ds),r.bn("Gwe",e.Ds),e}It(n,t);var i=n.prototype;return i.Fwe=function(t){t&&this._o(new itt(Wg(t)))},i.bwe=function(t){var n=this;t.forEach((function(t){return n._o(new ett(t))}))},i.ka=function(){var t,n=this,i={get ads(){return n.nwe.wa},get assets(){return n.rwe.wa},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}};return t=new SR(n,i),i},Nt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(wa),ott=function(){function t(){}return t.prototype.cbe=function(t,n){var i=new Z8(t.mI),r=new t7(t.mI),e=function(t){if(t.uplynk&&Yn(t.uplynk.defaultSkipOffset))return function(t){return ei(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(n),u=function(t){var n,i,r=null!=(i=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?i:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(n),s=new u7(r,t),o=new s7(i,n),a=new B7(t,s,e,u),c=new K7(t.mI),h=new ntt,f=new stt(a,h,s);return new C8(t,s,o,a,f,c,h)},t}();nA((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).lbe=(new ott).cbe(r,i),r}It(n,t);var i=n.prototype;return i.hwe=function(n){t.prototype.Ca.call(this,n)},i.uwe=function(n,i){return t.prototype.prt.call(this,n,i)},i.Nwe=function(n){t.prototype.DI.call(this,n)},i.BI=function(){var n;return null!=(n=this.lbe.lt)?n:t.prototype.BI.call(this)},i.FI=function(){var n;return null!=(n=this.lbe.OI)?n:t.prototype.FI.call(this)},i.DI=function(t,n){this.lbe.DI(t)},i.Ca=function(t){this.lbe.Ca(t)},i.prt=function(t,n){return this.lbe.prt(t,n)},i.ka=function(){var n=this.lbe.wa;return Ug(t.prototype.ka.call(this),{get uplynk(){return n}})},i.yn=function(){this.lbe.yn(),t.prototype.yn.call(this)},n}(t)}),$k.Cnt),F(),Tt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var att=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});F(),Tt(),Dt(),Rt();var ctt=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).RKt=e,u.bF=r,u}return It(n,t),n.prototype.ka=function(){return p0(this)},Nt(n,[{key:"zQt",get:function(){return I$.$$t}},{key:"lF",get:function(){return this.bF}},{key:"XYt",get:function(){return this.RKt}}]),n}(y0);F(),Tt(),Dt(),Rt();var htt=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).a3t=n,e.u3t=n,r){var u=new Date(r);be(u)&&(e.dbe=u)}return e}return It(n,t),Nt(n,[{key:"ZOt",get:function(){return this.dbe}},{key:"zQt",get:function(){return I$.$$t}}]),n}(l0),ftt=function(){function t(t,n,i){var r=this;this.Ebe=-1/0,this.vbe=void 0,this.mbe=0,this.ybe=[],this.lpe=!1,this.NK=!1,this.JMt=-1,this.Abe=void 0,this.wbe=void 0,this.kbe=0,this.fO=function(){r.pbe()},this.zzt=function(){r.Lbe(att.RESUME)},this.BMt=function(){r.Cbe(),r.Lbe(att.PAUSE)},this.Ge=function(){r.Cbe(),r.JMt=-1},this.Ah=function(){r.Cbe()},this.pd=function(){-1===r.JMt&&(r.JMt=r.gbe()),r.Pbe(),r.Dbe(),r.JMt=r.gbe()},this.U1t=function(){if(r.lpe!==r.na.qI){r.lpe=r.na.qI;var t=r.lpe?att.MUTE:att.UNMUTE;r.Lbe(t)}},this.fbe=function(){if(r.NK!==r.na.cs()){r.NK=r.na.cs();var t=r.NK?att.FULL_SCREEN:att.EXIT_FULL_SCREEN;r.Lbe(t)}},this.T9=function(t){br(t)||(r.Lbe(att.ERROR),xr(r.Tbe()))},this.Nbe=[att.START,att.FIRST_QUARTILE,att.MID_POINT,att.THIRD_QUARTILE,att.COMPLETE,att.IMPRESSION,att.CREATIVE_VIEW],this.na=t,this.Rbe=n,this.Ibe=i,this.kC()}var n=t.prototype;return n.kC=function(){this.na.bn(Np.uB,this.fO),this.na.bn(ya.Ky,this.BMt),this.na.bn(ya.ho,this.zzt),this.na.bn(ya.ib,this.Ge),this.na.bn(ya.Ly,this.Ah),this.na.bn(ya._b,this.pd),this.na.bn(ya.vb,this.U1t),this.na.bn(GI.MODE_CHANGE,this.fbe)},n.SC=function(){this.na.vn(Np.uB,this.fO),this.na.vn(ya.Ky,this.BMt),this.na.vn(ya.ho,this.zzt),this.na.vn(ya.ib,this.Ge),this.na.vn(ya.Ly,this.Ah),this.na.vn(ya._b,this.pd),this.na.vn(ya.vb,this.U1t),this.na.vn(GI.MODE_CHANGE,this.fbe)},n.gbe=function(){return this.na.CI()-this.mbe},n.pbe=function(){var t=this;if(!this.wbe)if(this.na.jd()===1/0){var n=function(){var n;null==(n=t.Abe)||n.Km(),t.Abe=void 0,t.wbe=void 0};this.Abe=new mr,this.wbe=this.Sbe(this.Abe.ep).catch(this.T9).then(n,n)}else 0===this.ybe.length&&(this.wbe=this.bbe())},n.Tbe=function(){var t=this;return Pt((function(){var n,i;return Ot(this,(function(r){switch(r.label){case 0:n=k.min(1e3*k.pow(2,t.kbe),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Mr(n,null==(i=t.Abe)?void 0:i.ep)];case 2:return r.sent(),t.kbe++,[3,4];case 3:return br(r.sent())?(t.kbe=0,[2]):[3,4];case 4:return t.pbe(),[2]}}))}))()},n.Sbe=function(t){var n=this;return Pt((function(){var i;return Ot(this,(function(r){switch(r.label){case 0:return kr(t),n.na.JI?[3,5]:(i=Kn.Wm()-n.Ebe)>1e4?[4,n.bbe(t)]:[3,2];case 1:return r.sent(),n.Ebe=Kn.Wm(),n.kbe=0,[3,4];case 2:return[4,Mr(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.xbe=function(t){var n=t.ZOt;if(n&&this.na.kI&&0===this.mbe&&!this.Ibe&&0!==k.floor(this.na.lR().start(0))){var i=(this.na.kI.getTime()-n.getTime())/1e3,r=this.na.CI()-t.LOt;this.mbe=r-i}},n.bbe=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,n.na.mI.eE({Xu:n.Rbe})];case 1:return[4,v.sent().Nk(t)];case 2:if(0===(i=v.sent()).avails.length)return 0!==n.ybe.length&&(n.ybe=[]),[2];if(i.avails.length===n.ybe.length&&i.avails[0].startTimeInSeconds===n.ybe[0].LOt)return n.xbe(n.ybe[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new htt(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new ctt(o,w0.mQt,h.startTimeInSeconds,h.trackingEvents)).y3t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.f3t(f);r.push(o),n.xbe(o)}return n.ybe=Si(r,(function(t,n){return t.LOt-n.LOt})),[3,4];case 3:throw Ar(v.sent()),new p("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.Cbe=function(){var t;null==(t=this.Abe)||t.np(),this.Abe=void 0,this.wbe=void 0,this.Ebe=-1/0},n.Pbe=function(){if(0!==this.ybe.length){var t=this.ybe[this.ybe.length-1],n=this.gbe();if(t.LOt+t.I$t<this.JMt){var i;this.vbe&&(null==(i=this.na.zc)||i._o(new uM(this.vbe)),this.vbe=void 0)}else{for(var r=0,e=this.ybe;r<e.length;r++){var u=e[r],s=u.LOt;if(!(s+u.I$t<this.JMt)&&(s<=n&&s+u.I$t>this.JMt)){var o;if(this._be===u)return;return this.vbe=u,void(null==(o=this.na.zc)||o._o(new oM(this.vbe)))}}var a;if(this.vbe)null==(a=this.na.zc)||a._o(new uM(this.vbe)),this.vbe=void 0}}},n.Dbe=function(){var t=this,n=this.Znt;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].XYt.filter((function(n){return tr(t.Nbe,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.Mbe(s.startTimeInSeconds)&&(s.eventType===att.COMPLETE&&this.Lbe(att.ENGAGED_VIEW),this.Bbe(s))}}},n.Obe=function(t,n){return n.XYt.filter((function(n){return ta(n.eventType,t)}))[0]},n.Lbe=function(t){var n=this.Znt;if(0!==n.length){var i=this.Obe(t,n[0]);i&&this.Bbe(i)}},n.Bbe=function(t){this.bve(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={EE:pl.GET,Xu:r,Vk:"",tE:Fd.xk};0,xr(this.Fbe(e))}},n.bve=function(t){var n,i,r=this.Znt;switch(t){case att.START:n=new cM(r[r.length-1],this.na.CI());break;case att.COMPLETE:n=new fM(r[0],this.na.CI());break;case att.FIRST_QUARTILE:n=new N0(r[0],this.na.CI());break;case att.MID_POINT:n=new x0(r[0],this.na.CI());break;case att.THIRD_QUARTILE:n=new L0(r[0],this.na.CI())}void 0!==n&&(null==(i=this.na.zc)||i._o(n))},n.Fbe=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,n.na.mI.eE(t)];case 1:return i.sent().Jk,[2]}}))}))()},n.Mbe=function(t){var n=this.gbe();return t>=this.JMt&&t<n},n.yn=function(){this.SC(),this.Cbe(),this.JMt=-1},Nt(t,[{key:"_be",get:function(){return this.vbe}},{key:"Znt",get:function(){var t=this._be;if(!t)return[];for(var n=[],i=this.gbe(),r=0,e=t.zc;r<e.length;r++){var u=e[r];i>=u.lF&&this.JMt<=u.lF+u.ct&&n.push(u)}return n}}]),t}();nA((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Vbe=void 0,r.bZ=void 0,r.AZ=void 0,r.Ube=void 0,r}It(n,t);var i=n.prototype;return i.Ca=function(n){return this.Vbe&&(this.Vbe.yn(),this.Vbe=void 0,this.VEt()),t.prototype.Ca.call(this,n)},i.prt=function(n,i){var r=this,e=function(){return t.prototype.prt};return Pt((function(){var t,u;return Ot(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===qA.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.Wbe(n,i)];case 2:return t=s.sent(),r.Ube=new B0(r),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.uH(new ld(vd.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.iR=function(n){var i;(null==(i=this.Ube)?void 0:i.inAdBreak)||t.prototype.iR.call(this,n)},i.DI=function(n,i){var r;(null==(r=this.Vbe)?void 0:r._be)||t.prototype.DI.call(this,n,i)},i.BI=function(){var n;return null!=(n=this.bZ)?n:t.prototype.BI.call(this)},i.FI=function(){var n;return null!=(n=this.AZ)?n:t.prototype.FI.call(this)},i.uH=function(t){this.bZ=lw(t),this.AZ=t,this._o(new xk(t))},i.VEt=function(){this.bZ=void 0,this.AZ=void 0},i.Wbe=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h;return Ot(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?cT(s=u[e])&&(o=s).src?[4,i.Gbe(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),kr(n),c=ao({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=Wg(t)).sources=r,[2,h]}}))}))()},i.Gbe=function(t,n){var i=this;return Pt((function(){var r,e,u,s,o,a,c,h,f;return Ot(this,(function(v){switch(v.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new p("Could not find MediaTailor session initialization url");return u=e[0],s=Jo(r,"?ads."),o=s?{Xu:r,tE:Fd.xk}:{Xu:r,EE:pl.POST,Vk:JSON.stringify({adsParams:t.adsParams}),tE:Fd.xk},[4,DT((function(){return i.Zbe(o,n)}),n)];case 1:a=v.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=nT(c),i.Vbe=new ftt(i,h,f))}catch(t){throw new p("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i.Zbe=function(t,n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.mI.eE(t)];case 1:return[4,r.sent().Nk(n)];case 2:return[2,r.sent()];case 3:throw Ar(r.sent()),new p("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.yn=function(){var n;this.Vbe&&(this.Vbe.yn(),this.Vbe=void 0),this.VEt(),null==(n=this.Ube)||n.destroy(),this.Ube=void 0,t.prototype.yn.call(this)},n}(t)}),$k.Pnt),F(),Tt(),F(),Tt(),Mt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt();var vtt=function(t){return t[t.Hbe=0]="Hbe",t[t.uB=1]="uB",t[t.rX=2]="rX",t[t.Xbe=3]="Xbe",t[t.zbe=4]="zbe",t[t.qbe=5]="qbe",t[t.fa=6]="fa",t}({});F(),Tt(),Dt(),Rt();var dtt=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=!1),(s=t.call(this)||this).eF=Tw(),s.jO=new yw,s.lu=n,s.iF=i,s.O5=r,s.qe=u,s._Lt=e,s}return It(n,t),n.prototype.nF=function(t){this.qe=t,t?this._Lt.Ybe(this.lu):this._Lt.Kbe(this.lu)},Nt(n,[{key:"BC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.nF(t)}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=ew(this)}},{key:"o",get:function(){return String(this.lu.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.O5}},{key:"Ch",get:function(){return this.iF}},{key:"gs",get:function(){return""}},{key:"LE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.nF("enabled"===t)}},{key:"VC",get:function(){return this.jO}},{key:"WC",get:function(){},set:function(t){}},{key:"OC",get:function(){return this.eF}}]),n}(la);F(),Tt(),Mt(),Dt(),Rt(),Wt(),F(),Tt(),Mt(),Rt(),Wt(),F(),Tt();var ltt=function(t){return t.Ww="urn:dvb:casystemid:19219",t.Uw="urn:dvb:casystemid:19156",t}({}),gtt=function(t){return t.Ww="application/vnd.ms-playready.initiator+xml",t.Uw="application/widevine+xml",t}({});function wtt(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new p("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+qJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+qJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new p("DRM key system is not supported")}}var mtt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$be=void 0,n.iAe=void 0,n.Cu=void 0,n.nAe=void 0,n.sAe=void 0,n.tAe=function(t,i,r){var e,u;if(0!==r){var s=n.rAe(r),o=n.oAe(r),a=new hw(s,o);null==(u=n.sAe)||null==(e=u.Hb)||e.call(u,a)}else{var c,h;null==(h=n.sAe)||null==(c=h.Zb)||c.call(h,t)}},n.eAe=function(t,i,r,e){var u=n.hAe(t),s=n.aAe(t),o=new hw(u,s);n._o(new bx(o))},n}It(n,t);var i=n.prototype;return i.jbe=function(t){this.Qbe(),this.Cu=t},i.Jbe=function(t){var n=this;return Pt((function(){var i,r,e,u,s,o,a,c;return Ot(this,(function(h){switch(h.label){case 0:if(!t.CZ.length)return n.Qbe(),[2];if(!n.Cu)throw new p("The OIPF DRM agent has to be attached to the DOM");n.$be||(n.$be=v.createElement("object"),n.$be.type="application/oipfDrmAgent",n.Cu.appendChild(n.$be),n.$be.onDRMMessageResult=n.tAe,n.$be.onDRMRightsError=n.eAe,n.iAe=v.createElement("object"),n.iAe.type="application/oipfCapabilities",n.Cu.appendChild(n.iAe)),r=0,e=t.CZ,h.label=1;case 1:if(!(r<e.length))return[3,6];if(u=e[r],s=void 0,o=void 0,a=void 0,u._T===Wo)s=ltt.Ww,o=gtt.Ww,a=wtt(ltt.Ww,u.nZ);else{if(u._T!==Zo)return[3,5];s=ltt.Uw,o=gtt.Uw,a=wtt(ltt.Uw,u.nZ,t.zC)}h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.Git(o,a,s)];case 3:return h.sent(),n._o(new kx),[2];case 4:return c=h.sent(),i=c,[3,5];case 5:return r++,[3,1];case 6:return i&&n._o(new bx(i)),[2]}}))}))()},i.Km=function(){return this.sAe=void 0,this.Cu=void 0,t.prototype.Km.call(this)},i.Git=function(t,n,i){var r,e;return this.sAe=new ih,this.nAe=null==(e=this.$be)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.nAe||null==this.sAe.Hb||this.sAe.Hb.call(this.sAe,new hw(vd.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.sAe.Xb},i.rAe=function(t){switch(t){case 5:return vd.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return vd.CONTENT_PROTECTION_INTERNAL_ERROR;default:return vd.CONTENT_PROTECTION_ERROR}},i.oAe=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.hAe=function(t){return 0===t?vd.CONTENT_PROTECTION_LICENSE_ERROR:1===t?vd.CONTENT_PROTECTION_LICENSE_INVALID:vd.CONTENT_PROTECTION_ERROR},i.aAe=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.Qbe=function(){this.$be&&(oi(this.$be),this.$be=void 0),this.iAe&&(oi(this.iAe),this.iAe=void 0)},i.H9=function(t,n,i){return Pt((function(){return Ot(this,(function(t){return[2]}))}))()},n}(Nx);F(),Tt(),Mt(),Dt(),Wt(),F(),Tt();var ytt=et,ptt=function(){function t(t,n,i){this.FT=t,this.aO=n,this.zJ=i}var n=t.prototype;return n.ZJ=function(t){return!1},n.XJ=function(t){return ytt.resolve(void 0)},n.Jbe=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return[4,n.zJ.Jbe(n.FT)];case 1:return t.sent(),[2]}}))}))()},n.Km=function(){return ytt.resolve(void 0)},Nt(t,[{key:"cR",get:function(){return FA.VB(0,this.aO.ct)}},{key:"rR",get:function(){return cS.xH},set:function(t){}},{key:"kd",get:function(){return this.FT}}]),t}(),_tt=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ku=n,r.qH=i,r.ea=new lS,r.ta=new wS,r.Hl=new rp,r.kZ=void 0,r.FH=!1,r.bZ=void 0,r.eU=Pp.TO,r.LH=!0,r.lAe=void 0,r.fAe=function(){var t,n,i,e;(null==(t=r._Ae)?void 0:t.playState)&&((null==(n=r.lAe)?void 0:n.Xb)||2!==r._Ae.playState||r.cAe().catch(_i),3===r._Ae.playState&&(null==(e=r.lAe)||null==(i=e.Zb)||i.call(e,String(r._Ae.playState)),r.lAe=void 0))},r.zJ=new mtt(r),r.zJ.bn(_x,r.Ds),r.e7=new Wk([r.Hl]),r.i7=new hx(r),r.Cit=new Yx,r.Pit=new cL(r.Cit.we,r.Hu,r.nt,r.Wl,r.Sa,r.WZ),r._Ae=r.dAe(),r.cAe().catch(_i),r}It(n,t);var i=n.prototype;return i.stt=function(t){this.zJ.jbe(t),this.Cit.stt(t)},i.l$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.zw===Cp.zW)return i}},i.$n=function(t){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:if(n.kZ)throw new p("Already loaded a media source");return t.zw!==Cp.zW?[3,2]:(n.kZ=new ptt(t,n,n.zJ),[4,n.kZ.Jbe(t)]);case 1:return i.sent(),[2,n.kZ];case 2:throw new p("Unsupported media source configuration for HbbTV");case 3:return[2]}}))}))()},i.uAe=function(t){var n=this;return Pt((function(){return Ot(this,(function(t){switch(t.label){case 0:return[4,n.cAe()];case 1:return t.sent(),[2]}}))}))()},i.DR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.cAe()];case 1:return n.sent(),[2]}}))}))()},i.wZ=function(t){},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){return t.kZ=void 0,t.lAe=void 0,[2]}))}))()},i.Km=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.Hl.yn(),t.e7.yn(),t.Cit.yn(),t.Pit.yn(),t.zJ.vn(_x,t.Ds),[4,t.zJ.Km()];case 2:return n.sent(),[2]}}))}))()},i.ge=function(){this.LH=!0,this.Cit.ge()},i.be=function(){this.LH=!1,this.Cit.be()},i.BZ=function(){return!1},i.FZ=function(t,n,i,r,e){throw new p("Adding native sideloaded text tracks is not supported on HbbTV")},i.Q7=function(){},i.J7=function(){},i.itt=function(){},i.zI=function(){return{WO:0,UO:0,GO:0}},i.FR=function(){},i.UZ=function(t){throw new p("Adding custom text tracks is not supported on HbbTV")},i.IR=function(){},i.ZR=function(t,n,i,r,e,u,s,o,a){var c=new aD(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.i7.tt(c),c},i.GZ=function(){for(var t=0,n=this.Hl.mC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr()},i.ZW=function(t){this.Hl.it(t),this.i7.it(t)},i.dAe=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.fAe,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.cAe=function(){var t,n;if(!this._Ae||3===this._Ae.playState||0===this._Ae.playState)return et.resolve("");if(null==(t=this.lAe)?void 0:t.Xb)return null==(n=this.lAe)?void 0:n.Xb;this.lAe=new ih;try{null==this._Ae.stop||this._Ae.stop.call(this._Ae)}catch(t){Kn.uw("Unable to stop broadcast for HbbTV",t),this.lAe.Hb(new p("Unable to stop broadcast for HbbTV"))}return this.lAe.Xb},Nt(n,[{key:"SI",get:function(){return FA.WB()}},{key:"kI",get:function(){}},{key:"EZ",get:function(){}},{key:"Hu",get:function(){return this.Ku}},{key:"cR",get:function(){var t,n;return null!=(n=null==(t=this.kZ)?void 0:t.cR)?n:FA.WB()}},{key:"dR",get:function(){return this.FH}},{key:"T5",get:function(){return!1}},{key:"ZI",get:function(){return!1}},{key:"vO",get:function(){return ao({},qR)}},{key:"lt",get:function(){return this.bZ}},{key:"y5",get:function(){return!1}},{key:"Sa",get:function(){return this.ea}},{key:"ttt",get:function(){return!0}},{key:"f5",get:function(){return!1}},{key:"ER",get:function(){return!0},set:function(t){}},{key:"Wl",get:function(){return this.qH}},{key:"nt",get:function(){return this.e7}},{key:"A8",get:function(){return this.LH}},{key:"WZ",get:function(){return this.ta}}]),n}(la),btt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).vAe=n,e.UH=1,e.LO=new ow,e.FO=new ow,e.g5=Pp.TO,e.EAe=void 0,e.mAe=void 0,e.gAe=function(){if(e.vAe.playState){e.eU=e.g5,e.xAe=e.IAe,e.IAe=e.vAe.playState;var t=e.ct;switch(t!==e.EAe&&(e._o(new ST(t)),e.EAe=t),e.mAe&&e.IAe!==vtt.uB&&(Kn.dw(e.mAe),e.mAe=void 0),e.IAe){case vtt.Xbe:e.g5=Pp.TO;break;case vtt.zbe:if(e.xAe===vtt.Xbe){var n,i,r=null!=(n=null==e.vAe.getComponents?void 0:e.vAe.getComponents.call(e.vAe,1))?n:e.wAe(),u=null!=(i=null==e.vAe.getComponents?void 0:e.vAe.getComponents.call(e.vAe,0))?i:e.wAe();if(0===r.length&&0===u.length)break;e.bAe(r),e.SAe(u)}e.g5=Pp.Xn;break;case vtt.uB:e.FH&&(e.FH=!1,e._o(new CT(e.RI))),e._o(new Fp(e.RI)),e.g5=Pp.EO,e.mAe=Kn.lw(e.RAe,250);break;case vtt.fa:e.g5=Pp.TO,e._o(new HN(new vw(e.kAe(e.vAe.error))));break;case vtt.qbe:e._o(new IT(e.RI));case vtt.rX:case vtt.Hbe:}e.g5!==e.eU&&e._o(new xp(e.RI,e.g5))}},e.RAe=function(){e._o(new Eg(e.RI,void 0))},e}It(n,t);var i=n.prototype;return i.stt=function(n){t.prototype.stt.call(this,n),n.appendChild(this.vAe)},i.$n=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return n.zw!==Cp.zW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.uAe(n)];case 2:return e.sent(),i.vAe.onPlayStateChange=i.gAe,[2,r];case 3:throw new p("Unsupported media source configuration for HbbTV")}}))}))()},i.uAe=function(n){var i=this;return Pt((function(){return Ot(this,(function(r){switch(r.label){case 0:return i.vAe.type=iT(n.zC),i.vAe.data=n.zC,[4,t.prototype.uAe.call(i,n)];case 1:return r.sent(),[2]}}))}))()},i.DR=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.DR.call(n)];case 1:return i.sent(),n.vAe.play(n.UH),n._o(new TT(n.RI)),[2]}}))}))()},i.PR=function(){this.vAe.play(0),this._o(new AT(this.RI))},i.Db=function(t,n,i){this.vAe.seek(1e3*t),this.FH=!0,this._o(new RT(this.RI))},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return void 0!==n.kZ&&n.vAe.stop(),n.mAe&&(Kn.dw(n.mAe),n.mAe=void 0),[4,t.prototype.nr.call(n)];case 1:return i.sent(),ai(n.vAe),n.vAe.data&&n.vAe.removeAttribute("data"),n.LO.nr(),n.FO.nr(),[2]}}))}))()},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Km.call(n)];case 1:return i.sent(),oi(n.vAe),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.vAe.style.display="block"},i.be=function(){t.prototype.be.call(this),this.vAe.style.display="none"},i.Ybe=function(t){var n=this.pAe(t);if(!n)throw new p("Selected track does not exist on HbbTV");null==this.vAe.selectComponent||this.vAe.selectComponent.call(this.vAe,n)},i.Kbe=function(t){var n=this.pAe(t);if(!n)throw new p("Selected track does not exist on HbbTV");null==this.vAe.unselectComponent||this.vAe.unselectComponent.call(this.vAe,n)},i.pAe=function(t){var n,i=null!=(n=null==this.vAe.getComponents?void 0:this.vAe.getComponents.call(this.vAe,t.type))?n:this.wAe();return this.yAe(i,t)},i.bAe=function(t){var n,i=null!=(n=null==this.vAe.getCurrentActiveComponents?void 0:this.vAe.getCurrentActiveComponents.call(this.vAe,1))?n:this.wAe();this.LO.nr();for(var r=0;r<t.length;r++){var e=t.item(r);this.LO.tt(new dtt(e,e.language,this.LO.V?QG.cDt:QG.lDt,this,this.AAe(i,e)))}},i.SAe=function(t){var n,i=null!=(n=null==this.vAe.getCurrentActiveComponents?void 0:this.vAe.getCurrentActiveComponents.call(this.vAe,0))?n:this.wAe();this.FO.nr();for(var r=0;r<t.length;r++){var e=t.item(r);this.FO.tt(new dtt(e,String(e.aspectRatio),this.FO.V?$G.cDt:$G.lDt,this,this.AAe(i,e)))}},i.wAe=function(){return{length:0,item:function(t){}}},i.AAe=function(t,n){return void 0!==this.yAe(t,n)},i.yAe=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.TAe(r,n))return r}},i.TAe=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i.kAe=function(t){switch(t){case 0:return fw.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return fw.NETWORK;default:return fw.DECODE}},Nt(n,[{key:"SZ",get:function(){}},{key:"ht",get:function(){return this.LO}},{key:"rt",get:function(){return this.FO}},{key:"tR",get:function(){return this.UH},set:function(t){this.UH=t,this.JI||this.vAe.play(t)}},{key:"qI",get:function(){return this.vAe.muted},set:function(t){this.vAe.muted=t}},{key:"yR",get:function(){var t,n;return(null!=(n=null!=(t=this.vAe.volume)?t:null==this.vAe.getVolume?void 0:this.vAe.getVolume.call(this.vAe))?n:100)/100},set:function(t){null==this.vAe.setVolume||this.vAe.setVolume.call(this.vAe,100*t)}},{key:"RI",get:function(){return this.vAe.playPosition?this.vAe.playPosition/1e3:0}},{key:"ct",get:function(){return!this.vAe.playTime||this.vAe.playTime<0?1/0:this.vAe.playTime/1e3}},{key:"MI",get:function(){return this.vAe.playState===vtt.qbe}},{key:"Ti",get:function(){return this.vAe.offsetHeight*Kn.Ys.pp}},{key:"ji",get:function(){return this.vAe.offsetWidth*Kn.Ys.pp}},{key:"JI",get:function(){return this.vAe.playState===vtt.rX}},{key:"sR",get:function(){return FA.WB()}},{key:"aR",get:function(){return this.g5}},{key:"vR",get:function(){return 0}},{key:"pR",get:function(){return 0}}]),n}(_tt);F(),Tt(),Mt(),Dt(),Rt(),Wt();var ktt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).hk=n,e.LO=new ow,e.FO=new ow,e.ZAe=void 0,e.aU=function(){e._o(new TT(e.RI))},e.uU=function(){e._o(new AT(e.RI))},e.Tc=function(){var t=e.RI,n=e.dR,i=void 0!==e.ZAe,r=i&&e.ZAe!==t;(n||!i||r)&&(e._o(new Eg(t,void 0)),e.ZAe=t)},e.CAe=function(){e._o(new oC(e.RI))},e.Ts=function(){e._o(new aC)},e.Mc=function(){e._o(new IT(e.RI))},e.PAe=function(){e._o(new ET(e.RI,e.tR))},e.Kzt=function(){e._o(new NT(e.RI,e.yR))},e.Xzt=function(){e._o(new ST(e.ct))},e.DAe=function(){},e.NAe=function(){},e.MAe=function(){e.FH&&(e.FH=!1),e._o(new CT(e.RI))},e.LAe=function(){e._o(new RT(e.RI))},e.cU=function(t){e.eU!==t.readyState&&(e.eU=t.readyState,e._o(t))},e.hU=function(){e._o(new Fp(e.RI))},e.BAe=function(){if(null!==e.hk.error){var t,n=e.hk.error;e.uH(new vw(null!=(t=n.code)?t:fw.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.t8=function(t){e._o(new Ea(t.initDataType,t.initData||new ArrayBuffer(0)))},e.WAe=function(t){var n=e.hk.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Kk(e.FO,r)||e.FO.tt(new Pw(r))}},e.UAe=function(t){var n=[],i=e.hk.videoTracks;if(i){for(var r=0,u=e.FO.mC;r<u.length;r++){var s=u[r];qk(i,s.sF)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.FO.it(a)}}},e.GAe=function(t){e.ah(e.FO)},e.OAe=function(t){var n=e.hk.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Kk(e.LO,r)||e.LO.tt(new Dw(r))}},e.FAe=function(t){var n=[],i=e.hk.audioTracks;if(i){for(var r=0,u=e.LO.mC;r<u.length;r++){var s=u[r];qk(i,s.sF)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.LO.it(a)}}},e.VAe=function(t){e.ah(e.LO)},e.g8=new xx(e),e.g8.bn(Np.aC,e.cU),e.g8.i8(new UN(e)),e.D8=new GN(e),e.D8.bn(Np.uB,e.hU),e.k7(),e.iH(),e}It(n,t);var i=n.prototype;return i.stt=function(n){t.prototype.stt.call(this,n),n.appendChild(this.hk)},i.$n=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:return n.zw!==Cp.zW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.uAe(n)];case 2:return e.sent(),[2,r];case 3:throw new p("Unsupported media source configuration for HbbTV")}}))}))()},i.uAe=function(n){var i=this;return Pt((function(){var r;return Ot(this,(function(e){switch(e.label){case 0:switch(n.DZ){case kA.$C:case kA.tP:i.hk.setAttribute("crossorigin",n.DZ);break;case kA.SE:default:i.hk.removeAttribute("crossorigin")}return void 0!==n.rR?i.hk.preload=n.rR:i.hk.preload=cS.KG,void 0!==n.NZ?i.hk.title=n.NZ:yi(i.hk),r=i.tR,i.hk.src=n.zC,i.tR=r,[4,t.prototype.uAe.call(i,n)];case 1:return e.sent(),[2]}}))}))()},i.DR=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.DR.call(n)];case 1:return i.sent(),[4,n.hk.play()];case 2:return i.sent(),[2]}}))}))()},i.PR=function(){this.hk.pause()},i.Db=function(t,n,i){n&&this.hk.fastSeek?this.hk.fastSeek(t):this.hk.currentTime=t,this.FH=!0,this._o(new RT(this.RI))},i.nr=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),ai(n.hk),n.hk.src&&n.hk.removeAttribute("src"),n.LO.nr(),n.FO.nr(),[2]}}))}))()},i.Km=function(){var n=this;return Pt((function(){return Ot(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Km.call(n)];case 1:return i.sent(),n.D8.Km(),n.g8.Km(),n.I7(),n.XZ(),oi(n.hk),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.hk.style.display="block",this.hk.style.height="100%",this.hk.style.width="100%"},i.be=function(){t.prototype.be.call(this),this.hk.style.display="none"},i.k7=function(){this.SZ.addEventListener("play",this.aU),this.SZ.addEventListener("pause",this.uU),this.SZ.addEventListener("timeupdate",this.Tc),this.SZ.addEventListener("progress",this.CAe),this.SZ.addEventListener("loadstart",this.Ts),this.SZ.addEventListener("ended",this.Mc),this.SZ.addEventListener("ratechange",this.PAe),this.SZ.addEventListener("volumechange",this.Kzt),this.SZ.addEventListener("durationchange",this.Xzt),this.SZ.addEventListener("loadedmetadata",this.DAe),this.SZ.addEventListener("emptied",this.NAe),this.SZ.addEventListener("seeked",this.MAe),this.SZ.addEventListener("seeking",this.LAe),this.SZ.addEventListener("error",this.BAe),ha()&&this.SZ.addEventListener("encrypted",this.t8)},i.I7=function(){this.SZ.removeEventListener("play",this.aU),this.SZ.removeEventListener("pause",this.uU),this.SZ.removeEventListener("timeupdate",this.Tc),this.SZ.removeEventListener("progress",this.CAe),this.SZ.removeEventListener("loadstart",this.Ts),this.SZ.removeEventListener("ended",this.Mc),this.SZ.removeEventListener("ratechange",this.PAe),this.SZ.removeEventListener("volumechange",this.Kzt),this.SZ.removeEventListener("durationchange",this.Xzt),this.SZ.removeEventListener("loadedmetadata",this.DAe),this.SZ.removeEventListener("emptied",this.NAe),this.SZ.removeEventListener("seeked",this.MAe),this.SZ.removeEventListener("seeking",this.LAe),this.SZ.removeEventListener("error",this.BAe),this.SZ.removeEventListener("encrypted",this.t8)},i.uH=function(t){this.bZ=t,this._o(new HN(this.bZ))},i.iH=function(){var t=this.hk.audioTracks,n=this.hk.videoTracks;t&&(t.addEventListener("addtrack",this.OAe),t.addEventListener("removetrack",this.FAe),t.addEventListener("change",this.VAe)),n&&(n.addEventListener("addtrack",this.WAe),n.addEventListener("removetrack",this.UAe),n.addEventListener("change",this.GAe))},i.XZ=function(){var t=this.hk.audioTracks,n=this.hk.videoTracks;t&&(t.removeEventListener("addtrack",this.OAe),t.removeEventListener("removetrack",this.FAe),t.removeEventListener("change",this.VAe)),n&&(n.removeEventListener("addtrack",this.WAe),n.removeEventListener("removetrack",this.UAe),n.removeEventListener("change",this.GAe))},i.ah=function(t){for(var n=0;n<t.V;n++){t.wC(n).rF()}},Nt(n,[{key:"SZ",get:function(){return this.hk}},{key:"ht",get:function(){return this.LO}},{key:"rt",get:function(){return this.FO}},{key:"tR",get:function(){return this.hk.playbackRate},set:function(t){this.hk.playbackRate=t}},{key:"qI",get:function(){return this.hk.muted},set:function(t){this.hk.muted=t}},{key:"yR",get:function(){return this.hk.volume},set:function(t){this.hk.volume=t}},{key:"RI",get:function(){return this.hk.currentTime}},{key:"ct",get:function(){return this.hk.duration}},{key:"MI",get:function(){return this.hk.ended}},{key:"Ti",get:function(){return this.hk.offsetHeight*Kn.Ys.pp}},{key:"ji",get:function(){return this.hk.offsetWidth*Kn.Ys.pp}},{key:"JI",get:function(){return this.hk.paused}},{key:"sR",get:function(){return FA.Cn(this.hk.played)}},{key:"aR",get:function(){return this.g8.aR}},{key:"vR",get:function(){return this.hk.videoHeight}},{key:"pR",get:function(){return this.hk.videoWidth}}]),n}(_tt),Att=[ya.ho,ya.Ky,Np.uB,ya.ib,ya.eb,ya.Ly,ya.Dy,ya.Ry,ya.Iy,ya._b,ya.jy,ya.Hy,ya.Qy,ya.vb,ya.$y,ya.Fy,ya.By],Ttt=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).kZ=void 0,u.RZ=new Bk,u.Sc=void 0,u.bZ=void 0,u.AZ=void 0,u.TZ=cS.xH,u.JZ=function(t){var n=t.lt,i=n.code,r=new ld(ww(i),"Something went wrong during HbbTV playback.",n),e=lw(r);u.uH(r,e)},u.pn=new OI(n),u.pn.kn(),u.aO=Zr()?new ktt(v.createElement(aw.yE),u.pn,e):new btt(v.createElement("object"),u.pn,e),u.aO.stt(n),u.aO.bn(Att,u.Ds),u.aO.bn(Qy.fa,u.JZ),u.ZZ=new Wp(u.aO,!0),u.ZZ.bn(Dp,u.Ds),u.VZ=new kp(u.aO,i),u.Hl=new Wk([u.aO.nt,u.VZ.Z]),u.zH=r,u}It(n,t);var i=n.prototype;return i.ZR=function(t){return this.aO.UZ(t)},i.MR=function(){return!1},i.xR=function(){return this.aO.Sa},i.IR=function(){},i.be=function(){this.aO.be()},i.FR=function(){this.aO.FR()},i.PR=function(){this.aO.PR()},i.DR=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.aO.DR()];case 1:return n.sent(),[2]}}))}))()},i.WR=function(){throw new p("Recreate media source is not supported on HbbTV")},i.DI=function(t,n){this.aO.Db(t)},i.Ca=function(t,n,i){var r=this;return Pt((function(){var e,u;return Ot(this,(function(s){switch(s.label){case 0:return kr(i),r.Sc=t,u={zw:Cp.zW,zC:t.src,Fk:t.type,CZ:r.PZ(t),rR:r.TZ,DZ:t.crossOrigin,NZ:null==(e=n.metadata)?void 0:e.title},[4,r.aO.$n(u)];case 1:return r.kZ=s.sent(),n.textTracks&&r.LZ(n.textTracks),Ip(r.nt),[2]}}))}))()},i.ge=function(){this.aO.ge()},i.LR=function(){},i.OR=function(){},i.ja=function(){return this.aO.WZ},i.nr=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return t.Sc=void 0,t.bZ=void 0,t.AZ=void 0,t.kZ=void 0,[4,t.VZ.nr()];case 1:return n.sent(),t.aO.GZ(),[4,t.aO.nr()];case 2:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.ZZ.yn(),t.aO.vn(Att,t.Ds),t.aO.vn(Qy.fa,t.JZ),[4,t.aO.Km()];case 2:return n.sent(),t.pn.yn(),t.Hl.yn(),[4,t.VZ.yn()];case 3:return n.sent(),[2]}}))}))()},i.uH=function(t,n){this.bZ||(this.bZ=n,this.AZ=t,this._o(new xk(t)))},i.LZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.src&&this.VZ.OW(i)}},i.PZ=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({_T:Zo,nZ:t.contentProtection.widevine.licenseAcquisitionURL,eH:[]}),t.contentProtection.playready&&n.push({_T:Wo,nZ:t.contentProtection.playready.licenseAcquisitionURL,eH:[]}),this.HAe(n,t.contentProtection.preferredKeySystems)},i.HAe=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t._T.jw);return i>=0?i:n.length};return Si(t,(function(t,n){return i(t)-i(n)}))},Nt(n,[{key:"ht",get:function(){return this.aO.ht}},{key:"SI",get:function(){return this.aO.SI.ks()}},{key:"mO",get:function(){}},{key:"kI",get:function(){return this.aO.kI},set:function(t){t&&this.aO.wZ(t)}},{key:"bt",get:function(){return this.Sc}},{key:"RI",get:function(){return this.aO.RI},set:function(t){this.aO.Db(t)}},{key:"IZ",get:function(){return this.RZ}},{key:"ct",get:function(){return this.aO.ct}},{key:"MI",get:function(){return this.aO.MI}},{key:"OI",get:function(){return this.AZ}},{key:"lt",get:function(){return this.bZ}},{key:"VI",get:function(){}},{key:"UI",get:function(){}},{key:"ZI",get:function(){return!1}},{key:"ER",get:function(){return this.aO.ER},set:function(t){this.aO.ER=t}},{key:"SR",get:function(){return this.zH}},{key:"XI",get:function(){return ao({},{WO:0,UO:0,GO:0,ZO:0,HO:0,XO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.aO.zI())}},{key:"qI",get:function(){return this.aO.qI},set:function(t){this.aO.qI=t}},{key:"jI",get:function(){return!0}},{key:"JI",get:function(){return this.aO.JI}},{key:"tR",get:function(){return this.aO.tR},set:function(t){this.aO.tR=t}},{key:"sR",get:function(){return this.aO.sR.ks()}},{key:"rR",get:function(){return this.TZ},set:function(t){this.TZ=t,this.kZ&&(this.kZ.rR=t)}},{key:"aR",get:function(){return this.aO.aR}},{key:"cR",get:function(){return this.aO.cR.ks()}},{key:"dR",get:function(){return this.aO.dR}},{key:"EZ",get:function(){return this.aO.EZ}},{key:"nt",get:function(){return this.Hl}},{key:"vR",get:function(){return this.aO.vR}},{key:"rt",get:function(){return this.aO.rt}},{key:"pR",get:function(){return this.aO.pR}},{key:"yR",get:function(){return this.aO.yR},set:function(t){this.aO.yR=t}}]),n}(la),Stt=function(){function t(){this.vH=Ok.WG}var n=t.prototype;return n.mP=function(t,n,i,r,e,u,s,o){return new Ttt(t,i,u,s)},n.dH=function(t,n){var i;return!(!Gn.Lg||t.type!==AA.nP&&!eT(t.type)&&!uT(t.type))&&!(Zr()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||ha()))},n.fH=function(t){return Pt((function(){return Ot(this,(function(n){switch(n.label){case 0:return[4,L_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},n._H=function(){return!1},t}();return sS(new Stt),F(),Tt(),h.exports}));